import{c as O,O as xe,b3 as he,j as e,aR as ge,C as N,y as K,E as be,a as pe,a$ as ue}from"./index-Dt37LTGe.js";import{h as fe,e as ye,b as o}from"./vendor-react-q0iRXJvs.js";import{F as je}from"./file-text-CTqg75my.js";import{C as G}from"./circle-alert-DzMkKHT-.js";import{T as ve}from"./trash-2-BbefskzE.js";import{E as Y}from"./eye-BpkFGb4E.js";import{P as Ne}from"./plus-BbsN0zNf.js";import"./vendor-supabase-DhDedaeW.js";const we=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Ce=O("circle-plus",we);const ke=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],_e=O("pen-line",ke);const Ee=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Fe=O("settings",Ee),y=[{id:"branding",category:"Branding & Assets",icon:"âœ¨",items:[{id:"logo",label:"High-resolution logo",type:"file",priority:"essential"},{id:"brand_kit",label:"Brand kit (colors, fonts, guidelines)",type:"file",priority:"important"},{id:"event_graphics",label:"Event-specific graphics/banners",type:"file",priority:"important"},{id:"sponsor_logos",label:"Sponsor logos for on-screen display",type:"file",priority:"nice"}]},{id:"athletes",category:"Athlete Information",icon:"ðŸ‘¥",items:[{id:"registration_list",label:"Registration list (Name, Email, Phone, Instagram)",type:"file",priority:"essential"},{id:"notable_athletes",label:"Notable athletes to feature",type:"textarea",priority:"important"}]},{id:"venue",category:"Venue & Technical",icon:"ðŸ“",items:[{id:"floor_plan",label:"Venue floor plan (mat layout)",type:"file",priority:"essential"},{id:"internet_specs",label:"Internet specs (upload speed, hardwired access)",type:"textarea",priority:"essential"},{id:"power_locations",label:"Power outlet locations",type:"textarea",priority:"important"},{id:"load_in_time",label:"Load-in/crew access time",type:"text",priority:"important"},{id:"venue_contact",label:"Venue contact for event day",type:"contact",priority:"important"}]},{id:"event",category:"Event Operations",icon:"ðŸ“…",items:[{id:"mat_count",label:"Number of mats running",type:"number",priority:"essential"},{id:"schedule",label:"Event schedule/run sheet",type:"file",priority:"essential"},{id:"bracket_system",label:"Bracket/scoring system used",type:"text",priority:"important"},{id:"match_comms_method",label:"How match order will be communicated",type:"textarea",priority:"important"}]},{id:"social",category:"Social & Promotion",icon:"ðŸ“¸",items:[{id:"org_instagram",label:"Organization Instagram",type:"text",priority:"important"},{id:"org_facebook",label:"Organization Facebook",type:"text",priority:"nice"},{id:"org_website",label:"Organization Website",type:"text",priority:"nice"},{id:"existing_content",label:"Existing footage/photos for promos",type:"file",priority:"nice"},{id:"existing_content_links",label:"Links to existing footage (Google Drive, Dropbox, etc.)",type:"textarea",priority:"nice"}]}];function Ve(){const H=fe(),[J]=ye(),[c,w]=o.useState(1),[u,Q]=o.useState([]),[C,P]=o.useState(null),[X,Z]=o.useState(!0),[$,A]=o.useState(!1),[j]=o.useState(()=>J.get("contractId")),[l,k]=o.useState({orgName:"",contactName:"",email:"",phone:"",eventName:"",eventDate:"",eventLocation:"",contractId:"",orgInstagram:"",orgFacebook:"",orgWebsite:""}),[n,h]=o.useState(()=>{const t={};return y.forEach(s=>{t[s.id]={},s.items.forEach(r=>{t[s.id][r.id]={enabled:!0,priority:r.priority,alreadyHave:!1,prefilledValue:""}})}),t}),[x,V]=o.useState({}),[I,_]=o.useState({}),[ee,v]=o.useState(null),[f,E]=o.useState(""),[F,S]=o.useState("text"),[M,D]=o.useState(null);o.useEffect(()=>{te()},[]),o.useEffect(()=>{j&&u.length>0&&!C&&u.find(s=>s.id===j)&&B(j)},[u,j]);const te=async()=>{try{const s=(await xe()).filter(r=>r.status==="signed");Q(s)}catch(t){console.error("Error loading contracts:",t)}finally{Z(!1)}},B=async t=>{if(!t){P(null),ae();return}const s=u.find(d=>d.id===t);if(!s)return;P(s);const r=s.contract_data||{};let a=null;try{a=await he(s.org_name)}catch(d){console.log("No CRM lead found:",d)}const i=a?.contact||{};k({orgName:s.org_name||"",contactName:s.promoter_name||s.contact_name||"",email:s.promoter_email||s.contact_email||"",phone:s.promoter_phone||s.contact_phone||"",eventName:r.event_name||"",eventDate:r.event_date||"",eventLocation:r.event_location||r.venue||"",contractId:s.id,orgInstagram:T(i.instagram||r.org_instagram||""),orgFacebook:R(i.facebook||r.org_facebook||""),orgWebsite:i.website||r.org_website||""}),z("social","org_instagram",T(i.instagram||r.org_instagram||"")),z("social","org_facebook",R(i.facebook||r.org_facebook||"")),z("social","org_website",i.website||r.org_website||"")},se=async t=>{const s=t.target.value;B(s)},T=t=>t?t.startsWith("@")?t:`@${t}`:"",R=t=>t?t.startsWith("http")?t:`https://facebook.com/${t.replace(/^@/,"").replace(/^\//,"")}`:"",ae=()=>{k({orgName:"",contactName:"",email:"",phone:"",eventName:"",eventDate:"",eventLocation:"",contractId:"",orgInstagram:"",orgFacebook:"",orgWebsite:""})},z=(t,s,r)=>{h(a=>({...a,[t]:{...a[t],[s]:{...a[t][s],prefilledValue:r}}}))},g=t=>{const{name:s,value:r}=t.target;k(a=>({...a,[s]:r})),x[s]&&V(a=>({...a,[s]:""}))},re=(t,s)=>{h(r=>({...r,[t]:{...r[t],[s]:{...r[t][s],enabled:!r[t][s].enabled}}}))},ie=(t,s)=>{h(r=>({...r,[t]:{...r[t],[s]:{...r[t][s],alreadyHave:!r[t][s].alreadyHave}}}))},le=(t,s,r)=>{h(a=>({...a,[t]:{...a[t],[s]:{...a[t][s],priority:r}}}))},W=t=>{if(!f.trim())return;const s=`custom_${Date.now()}`,r={id:s,label:f.trim(),type:F,priority:"important",isCustom:!0};_(a=>({...a,[t]:[...a[t]||[],r]})),h(a=>({...a,[t]:{...a[t],[s]:{enabled:!0,priority:"important",alreadyHave:!1,prefilledValue:"",isCustom:!0,label:f.trim(),type:F}}})),E(""),S("text"),v(null)},ne=(t,s)=>{_(r=>({...r,[t]:(r[t]||[]).filter(a=>a.id!==s)})),h(r=>{const a={...r};return a[t][s]?.isCustom?delete a[t][s]:a[t][s]={...a[t][s],enabled:!1},a})},q=(t,s,r)=>{r.trim()&&(_(a=>({...a,[t]:(a[t]||[]).map(i=>i.id===s?{...i,label:r.trim()}:i)})),h(a=>({...a,[t]:{...a[t],[s]:{...a[t][s],label:r.trim()}}})),D(null))},L=t=>{const s=t.items,r=I[t.id]||[];return[...s,...r]},oe=()=>{const t={};return l.orgName.trim()||(t.orgName="Organization name is required"),l.contactName.trim()||(t.contactName="Contact name is required"),l.email.trim()?/\S+@\S+\.\S+/.test(l.email)||(t.email="Email is invalid"):t.email="Email is required",l.eventDate||(t.eventDate="Event date is required"),V(t),Object.keys(t).length===0},de=()=>{c===1?oe()&&w(2):c===2&&w(3)},U=()=>{c>1?w(c-1):H("/portal/onboarding")},ce=async()=>{A(!0);try{const t={};y.forEach(i=>{i.items.forEach(d=>{const m=n[i.id][d.id];m.enabled&&m.prefilledValue&&(t[i.id]||(t[i.id]={}),t[i.id][d.id]=m.prefilledValue)})});const s={};Object.keys(n).forEach(i=>{s[i]={},Object.keys(n[i]).forEach(d=>{const m=n[i][d];s[i][d]={enabled:m.enabled,priority:m.priority,alreadyHave:m.alreadyHave,...m.isCustom?{isCustom:!0,label:m.label,type:m.type}:{}}})});const r={org_name:l.orgName,contact_name:l.contactName,contact_email:l.email,contact_phone:l.phone,event_name:l.eventName,event_date:l.eventDate,event_location:l.eventLocation,contract_id:l.contractId||null,collected_data:t,checklist_config:s},a=await ue(r);H(`/portal/onboarding/${a.id}`)}catch(t){console.error("Error creating onboarding:",t),alert("Failed to create onboarding session: "+t.message)}finally{A(!1)}},b=(()=>{let t=0,s=0;return y.forEach(r=>{L(r).forEach(i=>{s++,n[r.id]?.[i.id]?.enabled&&t++})}),{enabled:t,total:s}})();return X?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#0d0d1a] to-[#1a1a2e] flex items-center justify-center",children:e.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-red-500 border-t-transparent rounded-full"})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#0d0d1a] to-[#1a1a2e] py-8 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("button",{onClick:U,className:"flex items-center gap-2 text-gray-400 hover:text-white transition-colors mb-6",children:[e.jsx(ge,{size:20}),"Back"]}),e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"flex items-center justify-center gap-4",children:[{num:1,label:"Contract & Details"},{num:2,label:"Customize Checklist"},{num:3,label:"Preview & Confirm"}].map((t,s)=>e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:`flex items-center gap-3 ${c>=t.num?"opacity-100":"opacity-40"}`,children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold border-2 ${c>=t.num?"bg-red-500 border-red-500 text-white":"bg-transparent border-gray-600 text-gray-600"}`,children:c>t.num?e.jsx(N,{size:20}):t.num}),e.jsx("div",{className:"hidden sm:block",children:e.jsx("div",{className:"text-sm font-medium text-white",children:t.label})})]}),s<2&&e.jsx(K,{size:20,className:c>t.num?"text-red-500":"text-gray-600"})]},t.num))})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs(be.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"bg-gradient-to-br from-[#1a1a2e] to-[#16162a] border border-gray-800/50 rounded-xl p-6",children:[c===1&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-red-500/20 rounded-xl flex items-center justify-center",children:e.jsx(je,{className:"text-red-500",size:24})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-black text-white",children:"Contract & Details"}),e.jsx("p",{className:"text-gray-400",children:"Select contract or enter details manually"})]})]}),e.jsxs("div",{className:"space-y-5",children:[u.length>0&&e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-white mb-2",children:[e.jsx(pe,{className:"inline mr-2",size:16}),"Link to Existing Contract (Auto-fill)"]}),e.jsxs("select",{value:C?.id||"",onChange:se,className:"w-full bg-gray-900/50 border border-gray-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-red-500 transition-colors",children:[e.jsx("option",{value:"",children:"Create from scratch"}),e.jsx("optgroup",{label:"Signed Contracts",children:u.map(t=>e.jsxs("option",{value:t.id,children:[t.org_name," - ",t.promoter_name||t.contact_name]},t.id))})]}),C&&e.jsxs("p",{className:"text-sm text-green-400 mt-2 flex items-center gap-2",children:[e.jsx(N,{size:16})," Contract data loaded! Review and edit below."]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"orgName",className:"block text-sm font-bold text-white mb-2",children:["Organization Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"orgName",name:"orgName",value:l.orgName,onChange:g,placeholder:"e.g., Eternal MMA",className:`w-full bg-gray-900/50 border rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none transition-colors ${x.orgName?"border-red-500":"border-gray-700 focus:border-red-500"}`}),x.orgName&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:x.orgName})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"contactName",className:"block text-sm font-bold text-white mb-2",children:["Contact Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"contactName",name:"contactName",value:l.contactName,onChange:g,placeholder:"Primary contact person",className:`w-full bg-gray-900/50 border rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none transition-colors ${x.contactName?"border-red-500":"border-gray-700 focus:border-red-500"}`}),x.contactName&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:x.contactName})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"email",className:"block text-sm font-bold text-white mb-2",children:["Email ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"email",id:"email",name:"email",value:l.email,onChange:g,placeholder:"contact@org.com",className:`w-full bg-gray-900/50 border rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none transition-colors ${x.email?"border-red-500":"border-gray-700 focus:border-red-500"}`}),x.email&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:x.email})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm font-bold text-white mb-2",children:"Phone"}),e.jsx("input",{type:"tel",id:"phone",name:"phone",value:l.phone,onChange:g,placeholder:"0400 000 000",className:"w-full bg-gray-900/50 border border-gray-700 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-red-500 transition-colors"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"eventName",className:"block text-sm font-bold text-white mb-2",children:"Event Name"}),e.jsx("input",{type:"text",id:"eventName",name:"eventName",value:l.eventName,onChange:g,placeholder:"e.g., Summer Showdown 2026",className:"w-full bg-gray-900/50 border border-gray-700 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-red-500 transition-colors"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"eventDate",className:"block text-sm font-bold text-white mb-2",children:["Event Date ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",id:"eventDate",name:"eventDate",value:l.eventDate,onChange:g,className:`w-full bg-gray-900/50 border rounded-lg px-4 py-3 text-white focus:outline-none transition-colors ${x.eventDate?"border-red-500":"border-gray-700 focus:border-red-500"}`}),x.eventDate&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:x.eventDate})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"eventLocation",className:"block text-sm font-bold text-white mb-2",children:"Event Location"}),e.jsx("input",{type:"text",id:"eventLocation",name:"eventLocation",value:l.eventLocation,onChange:g,placeholder:"e.g., Brisbane Convention Centre",className:"w-full bg-gray-900/50 border border-gray-700 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-red-500 transition-colors"})]})]})]})]}),c===2&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-red-500/20 rounded-xl flex items-center justify-center",children:e.jsx(Fe,{className:"text-red-500",size:24})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-black text-white",children:"Customize Checklist"}),e.jsx("p",{className:"text-gray-400",children:"Toggle items, set priorities, mark what they already have"})]})]}),e.jsx("div",{className:"mb-6 bg-blue-500/10 border border-blue-500/30 rounded-lg p-4",children:e.jsxs("p",{className:"text-blue-200 text-sm flex items-start gap-2",children:[e.jsx(G,{size:18,className:"flex-shrink-0 mt-0.5"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Disabled items won't show to the client."}),` Use "Already Have" to pre-check items they've provided. Change priorities to indicate urgency.`]})]})}),e.jsx("div",{className:"space-y-4 max-h-[600px] overflow-y-auto pr-2",children:y.map(t=>{const s=L(t),r=s.filter(a=>n[t.id]?.[a.id]?.enabled).length;return e.jsxs("div",{className:"bg-gray-900/50 rounded-lg border border-gray-700",children:[e.jsx("div",{className:"px-4 py-3 border-b border-gray-700 bg-gray-800/50",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl",children:t.icon}),e.jsx("h3",{className:"font-bold text-white",children:t.category}),e.jsxs("span",{className:"text-sm text-gray-400 ml-auto",children:[r,"/",s.length," enabled"]})]})}),e.jsxs("div",{className:"p-4 space-y-3",children:[s.map(a=>{const i=n[t.id]?.[a.id]||{enabled:!0,priority:a.priority},d=a.isCustom||i.isCustom,m=i.label||a.label,me=M?.categoryId===t.id&&M?.itemId===a.id;return e.jsx("div",{className:`p-3 rounded-lg border transition-all ${i.enabled?"bg-gray-800/50 border-gray-700":"bg-gray-900/30 border-gray-800 opacity-50"}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("button",{onClick:()=>re(t.id,a.id),className:`flex-shrink-0 w-6 h-6 rounded border-2 flex items-center justify-center transition-colors ${i.enabled?"bg-red-500 border-red-500":"bg-transparent border-gray-600"}`,children:i.enabled&&e.jsx(N,{size:16,className:"text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[me?e.jsx("div",{className:"flex items-center gap-2 flex-1",children:e.jsx("input",{type:"text",defaultValue:m,autoFocus:!0,onKeyDown:p=>{p.key==="Enter"?q(t.id,a.id,p.target.value):p.key==="Escape"&&D(null)},onBlur:p=>q(t.id,a.id,p.target.value),className:"flex-1 bg-gray-900 border border-red-500 rounded px-2 py-1 text-white text-sm focus:outline-none"})}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`font-medium ${i.enabled?"text-white":"text-gray-500"}`,children:m}),d&&e.jsx("span",{className:"text-xs bg-purple-500/20 text-purple-400 px-2 py-0.5 rounded border border-purple-500/30",children:"Custom"}),d&&i.enabled&&e.jsx("button",{onClick:()=>D({categoryId:t.id,itemId:a.id,label:m}),className:"text-gray-500 hover:text-white transition-colors",children:e.jsx(_e,{size:14})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[i.prefilledValue&&e.jsx("span",{className:"text-xs bg-green-500/20 text-green-400 px-2 py-1 rounded-full border border-green-500/30",children:"Pre-filled âœ“"}),e.jsx("button",{onClick:()=>ne(t.id,a.id),className:"text-gray-500 hover:text-red-400 transition-colors",title:d?"Remove field":"Disable field",children:e.jsx(ve,{size:16})})]})]}),i.enabled&&e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsxs("select",{value:i.priority||"important",onChange:p=>le(t.id,a.id,p.target.value),className:"text-xs bg-gray-900 border border-gray-700 rounded px-2 py-1 text-white focus:outline-none focus:border-red-500",children:[e.jsx("option",{value:"essential",children:"Essential"}),e.jsx("option",{value:"important",children:"Important"}),e.jsx("option",{value:"nice",children:"Nice to have"})]}),e.jsx("button",{onClick:()=>ie(t.id,a.id),className:`text-xs px-3 py-1 rounded border transition-colors ${i.alreadyHave?"bg-green-500/20 text-green-400 border-green-500/30":"bg-gray-900 text-gray-400 border-gray-700"}`,children:i.alreadyHave?"âœ“ Already Have":'Mark as "Already Have"'}),e.jsxs("span",{className:"text-xs text-gray-500",children:["(",a.type||i.type||"text",")"]})]})]})]})},a.id)}),ee===t.id?e.jsxs("div",{className:"p-3 rounded-lg border border-dashed border-green-500/50 bg-green-500/5",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("input",{type:"text",value:f,onChange:a=>E(a.target.value),placeholder:"Field label...",autoFocus:!0,onKeyDown:a=>{a.key==="Enter"&&W(t.id),a.key==="Escape"&&v(null)},className:"flex-1 bg-gray-900 border border-gray-700 rounded px-3 py-2 text-white text-sm placeholder-gray-500 focus:outline-none focus:border-green-500"}),e.jsxs("select",{value:F,onChange:a=>S(a.target.value),className:"bg-gray-900 border border-gray-700 rounded px-2 py-2 text-white text-sm focus:outline-none focus:border-green-500",children:[e.jsx("option",{value:"text",children:"Text"}),e.jsx("option",{value:"textarea",children:"Long Text"}),e.jsx("option",{value:"file",children:"File Upload"}),e.jsx("option",{value:"number",children:"Number"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>W(t.id),disabled:!f.trim(),className:"flex-1 bg-green-600 hover:bg-green-500 disabled:bg-gray-700 text-white text-sm font-medium py-2 rounded transition-colors",children:"Add Field"}),e.jsx("button",{onClick:()=>{v(null),E(""),S("text")},className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white text-sm rounded transition-colors",children:"Cancel"})]})]}):e.jsxs("button",{onClick:()=>v(t.id),className:"w-full p-3 rounded-lg border border-dashed border-gray-700 hover:border-green-500/50 hover:bg-green-500/5 text-gray-500 hover:text-green-400 transition-all flex items-center justify-center gap-2",children:[e.jsx(Ce,{size:18}),"Add Custom Field"]})]})]},t.id)})})]}),c===3&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-red-500/20 rounded-xl flex items-center justify-center",children:e.jsx(Y,{className:"text-red-500",size:24})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-black text-white",children:"Review & Confirm"}),e.jsx("p",{className:"text-gray-400",children:"Everything looks good? Create the onboarding session!"})]})]}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-4 border border-gray-700",children:[e.jsx("h3",{className:"font-bold text-white mb-3",children:"Organization Details"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Organization:"}),e.jsx("div",{className:"text-white font-medium",children:l.orgName})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Contact:"}),e.jsx("div",{className:"text-white font-medium",children:l.contactName})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Email:"}),e.jsx("div",{className:"text-white font-medium",children:l.email})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Phone:"}),e.jsx("div",{className:"text-white font-medium",children:l.phone||"Not provided"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Event:"}),e.jsx("div",{className:"text-white font-medium",children:l.eventName||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Date:"}),e.jsx("div",{className:"text-white font-medium",children:l.eventDate})]})]})]}),e.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-4 border border-gray-700",children:[e.jsx("h3",{className:"font-bold text-white mb-3",children:"Checklist Configuration"}),e.jsxs("div",{className:"grid grid-cols-3 gap-3 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-green-500",children:b.enabled}),e.jsx("div",{className:"text-xs text-gray-500",children:"Enabled Items"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-gray-500",children:b.total-b.enabled}),e.jsx("div",{className:"text-xs text-gray-500",children:"Disabled Items"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-blue-500",children:Object.keys(n).reduce((t,s)=>t+Object.keys(n[s]).filter(r=>n[s][r].prefilledValue).length,0)}),e.jsx("div",{className:"text-xs text-gray-500",children:"Pre-filled"})]})]})]})]}),b.enabled<b.total/2&&e.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-4 mb-6",children:e.jsxs("p",{className:"text-yellow-200 text-sm flex items-start gap-2",children:[e.jsx(G,{size:18,className:"flex-shrink-0 mt-0.5"}),e.jsx("span",{children:"You've disabled more than half the checklist items. Make sure this is intentional â€” clients need these details for quality coverage."})]})})]})]},c),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{onClick:U,className:"px-6 py-3 bg-gray-800 hover:bg-gray-700 text-white rounded-lg transition-all font-medium border border-gray-700",children:c===1?"Cancel":"Back"}),c<3?e.jsxs("button",{onClick:de,className:"flex-1 px-6 py-3 bg-gradient-to-r from-red-600 to-red-500 hover:from-red-500 hover:to-red-400 text-white font-bold rounded-lg transition-all shadow-lg shadow-red-500/20 flex items-center justify-center gap-2",children:["Next Step",e.jsx(K,{size:20})]}):e.jsx("button",{onClick:ce,disabled:$,className:"flex-1 px-6 py-3 bg-gradient-to-r from-green-600 to-green-500 hover:from-green-500 hover:to-green-400 disabled:from-gray-600 disabled:to-gray-500 text-white font-bold rounded-lg transition-all shadow-lg shadow-green-500/20 flex items-center justify-center gap-2",children:$?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin w-5 h-5 border-2 border-white border-t-transparent rounded-full"}),"Creating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ne,{size:20}),"Create Onboarding Session"]})})]})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsx("div",{className:"sticky top-6",children:e.jsxs("div",{className:"bg-gradient-to-br from-[#1a1a2e] to-[#16162a] border border-gray-800/50 rounded-xl p-5",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Y,{size:20,className:"text-red-500"}),e.jsx("h3",{className:"font-bold text-white",children:"Client Preview"})]}),e.jsxs("p",{className:"text-xs text-gray-500 mb-4",children:["This is what ",l.orgName||"the client"," will see"]}),e.jsxs("div",{className:"bg-gray-900 rounded-lg border border-gray-800 overflow-hidden",children:[e.jsx("div",{className:"bg-gray-800 px-3 py-2 border-b border-gray-700",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 bg-red-500 rounded-lg"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-semibold text-white",children:"Fit Focus Media"}),e.jsx("div",{className:"text-[10px] text-gray-500",children:l.orgName||"Organization"})]})]})}),e.jsxs("div",{className:"p-4 space-y-3 max-h-[500px] overflow-y-auto",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"text-gray-500 text-xs mb-2",children:"Event Details"}),e.jsx("div",{className:"text-white font-medium",children:l.eventName||"Event Name"}),e.jsx("div",{className:"text-gray-400 text-xs",children:l.eventDate||"Date not set"})]}),e.jsxs("div",{className:"border-t border-gray-800 pt-3",children:[e.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:["Checklist (",b.enabled," items)"]}),y.map(t=>{const r=L(t).filter(a=>n[t.id]?.[a.id]?.enabled);return r.length===0?null:e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"text-xs font-medium text-white flex items-center gap-2 mb-1",children:[e.jsx("span",{children:t.icon}),t.category]}),e.jsx("div",{className:"space-y-1",children:r.map(a=>{const i=n[t.id]?.[a.id]||{},d=i.label||a.label;return e.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[e.jsx("div",{className:`w-3 h-3 rounded border ${i.alreadyHave?"bg-green-500 border-green-500":"border-gray-600"}`,children:i.alreadyHave&&e.jsx(N,{size:10,className:"text-white"})}),e.jsxs("span",{className:`flex-1 ${i.alreadyHave?"text-gray-500 line-through":"text-gray-400"}`,children:[d,(a.isCustom||i.isCustom)&&e.jsx("span",{className:"text-purple-400 ml-1",children:"*"})]}),i.prefilledValue&&e.jsx("span",{className:"text-green-400",children:"âœ“"})]},a.id)})})]},t.id)})]})]})]}),e.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-2 text-xs",children:[e.jsxs("div",{className:"bg-gray-900/50 rounded p-2 text-center border border-gray-800",children:[e.jsx("div",{className:"text-lg font-bold text-red-500",children:b.enabled}),e.jsx("div",{className:"text-gray-500",children:"Items to collect"})]}),e.jsxs("div",{className:"bg-gray-900/50 rounded p-2 text-center border border-gray-800",children:[e.jsx("div",{className:"text-lg font-bold text-green-500",children:Object.keys(n).reduce((t,s)=>t+Object.keys(n[s]).filter(r=>n[s][r].prefilledValue||n[s][r].alreadyHave).length,0)}),e.jsx("div",{className:"text-gray-500",children:"Pre-filled/Have"})]})]})]})})})]})]})})}export{Ve as default};
