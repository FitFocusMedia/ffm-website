import{s as i,j as e,h as ye}from"./index-BHgeKG6F.js";import{b as n}from"./vendor-react-q0iRXJvs.js";import"./vendor-supabase-DhDedaeW.js";function Ne({event:f,organization:se,onBack:o,onEventUpdate:M}){const[C,ce]=n.useState("details"),[Q,ae]=n.useState(!0),[b,re]=n.useState(f),[E,P]=n.useState([]),[O,oe]=n.useState([]),[V,je]=n.useState([]),[y,R]=n.useState([]),[Y,B]=n.useState(""),[le,G]=n.useState(!1),[N,ie]=n.useState(""),[L,ne]=n.useState("all"),[u,me]=n.useState("all"),[w,H]=n.useState(!1),[r,c]=n.useState({}),[A,K]=n.useState(!1),[h,X]=n.useState(null),[I,W]=n.useState(!1),[$,de]=n.useState(!1);n.useEffect(()=>{D()},[f.id]);async function D(){ae(!0);const[s,a,l]=await Promise.all([i.from("content_orders").select("*, packages(name)").eq("event_id",f.id).order("created_at",{ascending:!1}),i.from("galleries").select("*, gallery_photos(count)").eq("event_id",f.id),i.from("event_athletes").select("*").eq("event_id",f.id).order("competition_time",{ascending:!0})]),m=await Promise.all((s.data||[]).map(async d=>{if(d.match_card_url&&!d.match_card_url.startsWith("http")){const{data:x}=await i.storage.from("match-cards").createSignedUrl(d.match_card_url,3600);return{...d,match_card_signed_url:x?.signedUrl}}return{...d,match_card_signed_url:d.match_card_url}}));P(m),oe(a.data||[]),R(l.data||[]),ae(!1)}function z(s){const a=s.trim().split(`
`).filter(m=>m.trim()),l=[];for(const m of a){const d=m.split("|").map(x=>x.trim());d.length>=1&&l.push({name:d[0]||"",division:d[1]||"",mat:d[2]||"",competition_time:d[3]||"",academy:d[4]||"",event_id:f.id,status:"pending",captured:!1})}return l}async function ve(){const s=z(Y);if(s.length===0){alert("No valid athlete data found");return}const{error:a}=await i.from("event_athletes").insert(s);a?alert("Error importing athletes: "+a.message):(G(!1),B(""),D())}async function Z(s,a){const{error:l}=await i.from("event_athletes").update({captured:!a,captured_at:a?null:new Date().toISOString()}).eq("id",s);l||R(m=>m.map(d=>d.id===s?{...d,captured:!a}:d))}async function J(s){if(!confirm("Delete this athlete?"))return;const{error:a}=await i.from("event_athletes").delete().eq("id",s);a||R(l=>l.filter(m=>m.id!==s))}async function k(){if(!confirm("Delete ALL athletes for this event? This cannot be undone."))return;const{error:s}=await i.from("event_athletes").delete().eq("event_id",f.id);s||R([])}async function xe(s){if(!(!s||!h)){W(!0);try{const a=s.name.split(".").pop(),l=`${h.id}-${Date.now()}.${a}`,{data:m,error:d}=await i.storage.from("match-cards").upload(l,s);if(d)throw d;const x=l,{error:g}=await i.from("content_orders").update({match_card_url:x}).eq("id",h.id);if(g)throw g;const{data:S}=await i.storage.from("match-cards").createSignedUrl(x,3600),j=S?.signedUrl;P(p=>p.map(T=>T.id===h.id?{...T,match_card_url:x,match_card_signed_url:j}:T)),await ge(j,h.id),K(!1),X(null)}catch(a){console.error("Upload error:",a),alert("Error uploading match card: "+a.message)}finally{W(!1)}}}async function ge(s,a){de(!0);try{const{data:l,error:m}=await i.functions.invoke("extract-match-card",{body:{imageUrl:s,orderId:a}});if(m){console.error("Extraction error:",m);return}const{error:d}=await i.from("content_orders").update({match_card_data:l}).eq("id",a);if(!d&&(P(x=>x.map(g=>g.id===a?{...g,match_card_data:l}:g)),l.mat||l.time||l.division)){const x=E.find(g=>g.id===a);x&&await te(x,l)}}catch(l){console.error("Extraction error:",l)}finally{de(!1)}}async function ee(s){if(confirm("Remove this match card?"))try{s.match_card_url&&!s.match_card_url.startsWith("http")&&await i.storage.from("match-cards").remove([s.match_card_url]),await i.from("content_orders").update({match_card_url:null,match_card_data:null}).eq("id",s.id),P(a=>a.map(l=>l.id===s.id?{...l,match_card_url:null,match_card_signed_url:null,match_card_data:null}:l))}catch(a){console.error("Delete error:",a),alert("Error removing match card")}}async function te(s,a){const l=`${s.first_name||""} ${s.last_name||""}`.trim(),{data:m}=await i.from("event_athletes").select("id").eq("event_id",f.id).ilike("name",l).single(),d={event_id:f.id,name:l,division:a.division||null,mat:a.mat||null,competition_time:a.time||null,email:s.email||null,status:"pending",captured:!1};m?await i.from("event_athletes").update(d).eq("id",m.id):await i.from("event_athletes").insert(d),D()}function _(s){X(s),K(!0)}async function he(){const{error:s}=await i.from("events").update(r).eq("id",f.id);s?alert("Error saving: "+s.message):(re({...b,...r}),H(!1),M&&M())}const q=y.filter(s=>{const a=!N||s.name?.toLowerCase().includes(N.toLowerCase())||s.academy?.toLowerCase().includes(N.toLowerCase())||s.division?.toLowerCase().includes(N.toLowerCase()),l=L==="all"||L==="captured"&&s.captured||L==="pending"&&!s.captured||L==="paid"&&E.some(d=>`${d.first_name} ${d.last_name}`.toLowerCase()===s.name?.toLowerCase()||d.email?.toLowerCase()===s.email?.toLowerCase()),m=u==="all"||s.mat===u;return a&&l&&m}),pe=[...new Set(y.map(s=>s.mat).filter(Boolean))],F=new Set(E.map(s=>`${s.first_name||""} ${s.last_name||""}`.toLowerCase().trim()).filter(Boolean)),U=y.filter(s=>F.has(s.name?.toLowerCase())&&!s.captured).sort((s,a)=>s.competition_time&&a.competition_time?s.competition_time.localeCompare(a.competition_time):0),t=[{id:"details",label:"Details"},{id:"athletes",label:`Athletes (${y.length})`},{id:"runsheet",label:"Run Sheet"},{id:"gallery",label:`Gallery (${O.length})`},{id:"orders",label:`Orders (${E.length})`}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("button",{onClick:o,className:"flex items-center gap-2 text-gray-400 hover:text-white transition-colors",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Events"]})}),e.jsx("div",{className:"text-right",children:e.jsx("span",{className:`px-3 py-1 rounded text-sm ${b.status==="upcoming"?"bg-blue-600":b.status==="active"?"bg-green-600":"bg-gray-600"}`,children:b.status})})]}),e.jsxs("div",{className:"bg-gray-900/50 rounded-xl border border-gray-800 p-6",children:[e.jsx("h1",{className:"text-2xl font-bold",children:b.name}),e.jsxs("p",{className:"text-gray-400 mt-1",children:[b.date&&new Date(b.date).toLocaleDateString("en-AU",{weekday:"long",day:"numeric",month:"long",year:"numeric"}),b.location&&` â€¢ ${b.location}`]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:se?.name})]}),e.jsx("div",{className:"flex gap-2 border-b border-gray-700 pb-2",children:t.map(s=>e.jsx("button",{onClick:()=>ce(s.id),className:`px-4 py-2 rounded-t-lg transition-colors ${C===s.id?"bg-red-600 text-white":"text-gray-400 hover:text-white"}`,children:s.label},s.id))}),Q?e.jsx("div",{className:"text-center py-12 text-gray-400",children:"Loading..."}):e.jsxs(e.Fragment,{children:[C==="details"&&e.jsx("div",{className:"bg-gray-900/50 rounded-xl border border-gray-800 p-6 space-y-4",children:w?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Event Name"}),e.jsx("input",{type:"text",value:r.name||"",onChange:s=>c({...r,name:s.target.value}),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Date"}),e.jsx("input",{type:"date",value:r.date?.split("T")[0]||"",onChange:s=>c({...r,date:s.target.value}),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Location"}),e.jsx("input",{type:"text",value:r.location||"",onChange:s=>c({...r,location:s.target.value}),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Status"}),e.jsxs("select",{value:r.status||"upcoming",onChange:s=>c({...r,status:s.target.value}),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg",children:[e.jsx("option",{value:"upcoming",children:"Upcoming"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"completed",children:"Completed"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Active"}),e.jsxs("select",{value:r.active?"true":"false",onChange:s=>c({...r,active:s.target.value==="true"}),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg",children:[e.jsx("option",{value:"true",children:"Yes"}),e.jsx("option",{value:"false",children:"No"})]})]})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx("button",{onClick:he,className:"px-4 py-2 bg-green-600 hover:bg-green-700 rounded-lg",children:"Save Changes"}),e.jsx("button",{onClick:()=>H(!1),className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg",children:"Cancel"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-400",children:"Event Name"}),e.jsx("p",{className:"font-medium",children:b.name})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-400",children:"Date"}),e.jsx("p",{className:"font-medium",children:b.date&&new Date(b.date).toLocaleDateString("en-AU")})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("span",{className:"text-sm text-gray-400",children:"Location"}),e.jsx("p",{className:"font-medium",children:b.location||"Not set"})]})]}),e.jsx("button",{onClick:()=>{c(b),H(!0)},className:"mt-4 px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg",children:"Edit Details"})]})}),C==="athletes"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",placeholder:"Search athletes...",value:N,onChange:s=>ie(s.target.value),className:"px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg w-64"}),e.jsxs("select",{value:u,onChange:s=>me(s.target.value),className:"px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg",children:[e.jsx("option",{value:"all",children:"All Mats"}),pe.map(s=>e.jsxs("option",{value:s,children:["Mat ",s]},s))]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>G(!0),className:"px-4 py-2 bg-green-600 hover:bg-green-700 rounded-lg",children:"Import from Smoothcomp"}),y.length>0&&e.jsx("button",{onClick:k,className:"px-4 py-2 bg-red-900 hover:bg-red-800 rounded-lg text-sm",children:"Clear All"})]})]}),y.length===0?e.jsxs("div",{className:"bg-gray-900/50 rounded-xl border border-gray-800 p-8 text-center text-gray-400",children:[e.jsx("p",{children:"No athletes imported yet."}),e.jsx("p",{className:"text-sm mt-2",children:"Import from Smoothcomp to get started."})]}):e.jsx("div",{className:"bg-gray-900/50 rounded-xl border border-gray-800 overflow-hidden",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"bg-gray-800",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left p-3",children:"Name"}),e.jsx("th",{className:"text-left p-3",children:"Division"}),e.jsx("th",{className:"text-center p-3",children:"Mat"}),e.jsx("th",{className:"text-center p-3",children:"Time"}),e.jsx("th",{className:"text-left p-3",children:"Academy"}),e.jsx("th",{className:"text-center p-3",children:"Paid"}),e.jsx("th",{className:"text-center p-3",children:"Captured"}),e.jsx("th",{className:"text-right p-3",children:"Actions"})]})}),e.jsx("tbody",{children:q.map(s=>{const a=F.has(s.name?.toLowerCase());return e.jsxs("tr",{className:`border-t border-gray-800 ${a&&!s.captured?"bg-yellow-900/20":""}`,children:[e.jsx("td",{className:"p-3 font-medium",children:s.name}),e.jsx("td",{className:"p-3 text-gray-400",children:s.division}),e.jsx("td",{className:"p-3 text-center",children:s.mat}),e.jsx("td",{className:"p-3 text-center text-gray-400",children:s.competition_time}),e.jsx("td",{className:"p-3 text-gray-400",children:s.academy}),e.jsx("td",{className:"p-3 text-center",children:a?e.jsx("span",{className:"text-green-400",children:"ðŸ’°"}):e.jsx("span",{className:"text-gray-600",children:"-"})}),e.jsx("td",{className:"p-3 text-center",children:e.jsx("button",{onClick:()=>Z(s.id,s.captured),className:`px-2 py-1 rounded text-xs ${s.captured?"bg-green-600":"bg-gray-600 hover:bg-gray-500"}`,children:s.captured?"âœ“":"â—‹"})}),e.jsx("td",{className:"p-3 text-right",children:e.jsx("button",{onClick:()=>J(s.id),className:"text-red-400 hover:text-red-300",children:"Delete"})})]},s.id)})})]})})]}),C==="runsheet"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-yellow-900/20 border border-yellow-800 rounded-xl p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-yellow-400 mb-4",children:["ðŸ”¥ Priority Queue (",U.length,")"]}),e.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Athletes who have PAID but not yet been photographed. Capture these first!"}),U.length===0?e.jsx("p",{className:"text-gray-500 italic",children:"No pending captures. All paid athletes have been photographed!"}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:U.map(s=>e.jsx("div",{className:"bg-gray-800 rounded-lg p-4 border border-yellow-700",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:s.name}),e.jsx("p",{className:"text-sm text-gray-400",children:s.division}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Mat ",s.mat," â€¢ ",s.competition_time]})]}),e.jsx("button",{onClick:()=>Z(s.id,!1),className:"px-3 py-1 bg-green-600 hover:bg-green-700 rounded text-sm",children:"Mark Captured"})]})},s.id))})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-gray-900/50 rounded-xl border border-gray-800 p-4 text-center",children:[e.jsx("p",{className:"text-3xl font-bold",children:y.length}),e.jsx("p",{className:"text-sm text-gray-400",children:"Total Athletes"})]}),e.jsxs("div",{className:"bg-gray-900/50 rounded-xl border border-gray-800 p-4 text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-green-400",children:E.length}),e.jsx("p",{className:"text-sm text-gray-400",children:"Orders"})]}),e.jsxs("div",{className:"bg-gray-900/50 rounded-xl border border-gray-800 p-4 text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-yellow-400",children:U.length}),e.jsx("p",{className:"text-sm text-gray-400",children:"Pending Captures"})]}),e.jsxs("div",{className:"bg-gray-900/50 rounded-xl border border-gray-800 p-4 text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-blue-400",children:y.filter(s=>s.captured).length}),e.jsx("p",{className:"text-sm text-gray-400",children:"Captured"})]})]}),e.jsxs("div",{className:"bg-gray-900/50 rounded-xl border border-gray-800 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Timeline View"}),y.length===0?e.jsx("p",{className:"text-gray-500 italic",children:"Import athletes to see the timeline."}):e.jsx("div",{className:"space-y-2",children:Object.entries(y.reduce((s,a)=>{const l=a.competition_time||"No Time Set";return s[l]||(s[l]=[]),s[l].push(a),s},{})).sort(([s],[a])=>s.localeCompare(a)).map(([s,a])=>e.jsxs("div",{className:"border-l-2 border-gray-700 pl-4 py-2",children:[e.jsx("p",{className:"font-semibold text-gray-300",children:s}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:a.map(l=>{const m=F.has(l.name?.toLowerCase());return e.jsxs("span",{className:`px-3 py-1 rounded text-sm ${l.captured?"bg-green-900/50 text-green-400 line-through":m?"bg-yellow-900/50 text-yellow-400 font-semibold":"bg-gray-800 text-gray-400"}`,children:[l.name,m&&!l.captured&&" ðŸ’°"]},l.id)})})]},s))})]})]}),C==="gallery"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Event Galleries"}),e.jsx("a",{href:`#/portal/galleries?event=${f.id}&org=${se?.id}`,className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg",children:"Manage Galleries"})]}),O.length===0?e.jsx("div",{className:"bg-gray-900/50 rounded-xl border border-gray-800 p-8 text-center text-gray-400",children:"No galleries for this event yet."}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:O.map(s=>e.jsxs("div",{className:"bg-gray-900/50 rounded-xl border border-gray-800 p-4",children:[e.jsx("h4",{className:"font-semibold",children:s.title}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:s.description}),e.jsxs("div",{className:"flex gap-4 mt-3 text-sm text-gray-500",children:[e.jsxs("span",{children:[s.gallery_photos?.[0]?.count||0," photos"]}),e.jsx("span",{children:s.access_type})]}),e.jsx("a",{href:`#/gallery/${s.slug}`,target:"_blank",className:"inline-block mt-3 text-sm text-blue-400 hover:text-blue-300",children:"View Gallery â†’"})]},s.id))})]}),C==="orders"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Event Orders"}),e.jsx("p",{className:"text-sm text-gray-400",children:'Click "Link Match Card" to upload Smoothcomp screenshots'})]}),E.length===0?e.jsx("div",{className:"bg-gray-900/50 rounded-xl border border-gray-800 p-8 text-center text-gray-400",children:"No orders for this event yet."}):e.jsx("div",{className:"grid gap-4",children:E.map(s=>e.jsx("div",{className:"bg-gray-900/50 rounded-xl border border-gray-800 p-4",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:s.match_card_url?e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:s.match_card_signed_url||s.match_card_url,alt:"Match Card",className:"w-24 h-32 object-cover rounded-lg cursor-pointer hover:opacity-80",onClick:()=>_(s)}),e.jsx("button",{onClick:a=>{a.stopPropagation(),ee(s)},className:"absolute -top-2 -right-2 bg-red-600 hover:bg-red-700 text-white rounded-full w-6 h-6 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",title:"Remove card",children:"Ã—"})]}):e.jsxs("button",{onClick:()=>_(s),className:"w-24 h-32 bg-gray-800 rounded-lg border-2 border-dashed border-gray-600 hover:border-red-500 flex flex-col items-center justify-center text-gray-500 hover:text-red-400 transition-colors",children:[e.jsx("svg",{className:"w-8 h-8 mb-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e.jsx("span",{className:"text-xs",children:"Add Card"})]})}),e.jsxs("div",{className:"flex-grow",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-semibold text-lg",children:[s.first_name," ",s.last_name]}),e.jsx("p",{className:"text-sm text-gray-400",children:s.email})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-semibold text-green-400",children:["$",s.amount]}),e.jsx("span",{className:`px-2 py-1 rounded text-xs ${s.status==="paid"?"bg-green-600":s.status==="pending"?"bg-yellow-600":"bg-gray-600"}`,children:s.status})]})]}),e.jsxs("div",{className:"mt-2 flex gap-4 text-sm text-gray-400",children:[e.jsx("span",{children:s.packages?.name}),e.jsx("span",{children:"â€¢"}),e.jsx("span",{children:new Date(s.created_at).toLocaleDateString("en-AU")})]}),s.match_card_data&&Object.keys(s.match_card_data).length>0&&e.jsxs("div",{className:"mt-3 flex gap-3 flex-wrap",children:[s.match_card_data.mat&&e.jsxs("span",{className:"px-2 py-1 bg-blue-900/50 text-blue-300 rounded text-sm",children:["Mat ",s.match_card_data.mat]}),s.match_card_data.time&&e.jsx("span",{className:"px-2 py-1 bg-purple-900/50 text-purple-300 rounded text-sm",children:s.match_card_data.time}),s.match_card_data.division&&e.jsx("span",{className:"px-2 py-1 bg-green-900/50 text-green-300 rounded text-sm",children:s.match_card_data.division})]})]})]})},s.id))})]})]}),le&&e.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-gray-900 rounded-xl border border-gray-700 p-6 w-full max-w-2xl max-h-[80vh] overflow-y-auto",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Import Athletes from Smoothcomp"}),e.jsxs("p",{className:"text-sm text-gray-400 mb-4",children:["Paste athlete data in this format (one per line):",e.jsx("br",{}),e.jsx("code",{className:"bg-gray-800 px-2 py-1 rounded text-xs",children:"Name | Division | Mat | Time | Academy"})]}),e.jsx("textarea",{value:Y,onChange:s=>B(s.target.value),placeholder:"John Smith | Adult Blue Belt | 1 | 09:30 | Gracie Barra...",className:"w-full h-64 px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg font-mono text-sm"}),e.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[e.jsx("button",{onClick:()=>{G(!1),B("")},className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg",children:"Cancel"}),e.jsxs("button",{onClick:ve,className:"px-4 py-2 bg-green-600 hover:bg-green-700 rounded-lg",children:["Import ",z(Y).length," Athletes"]})]})]})}),A&&h&&e.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-gray-900 rounded-xl border border-gray-700 p-6 w-full max-w-lg",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4",children:["Link Match Card for ",h.first_name," ",h.last_name]}),e.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Upload a screenshot of the athlete's Smoothcomp match card. We'll extract their mat number, competition time, and division automatically."}),h.match_card_url&&e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Current Match Card:"}),e.jsx("img",{src:h.match_card_url,alt:"Current Match Card",className:"w-full max-h-64 object-contain rounded-lg border border-gray-700"}),h.match_card_data&&Object.keys(h.match_card_data).length>0&&e.jsxs("div",{className:"mt-2 flex gap-2 flex-wrap",children:[h.match_card_data.mat&&e.jsxs("span",{className:"px-2 py-1 bg-blue-900/50 text-blue-300 rounded text-sm",children:["Mat ",h.match_card_data.mat]}),h.match_card_data.time&&e.jsx("span",{className:"px-2 py-1 bg-purple-900/50 text-purple-300 rounded text-sm",children:h.match_card_data.time}),h.match_card_data.division&&e.jsx("span",{className:"px-2 py-1 bg-green-900/50 text-green-300 rounded text-sm",children:h.match_card_data.division})]})]}),e.jsxs("div",{className:"border-2 border-dashed border-gray-600 rounded-lg p-6 text-center",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:s=>{const a=s.target.files?.[0];a&&xe(a)},className:"hidden",id:"match-card-upload",disabled:I||$}),e.jsx("label",{htmlFor:"match-card-upload",className:`cursor-pointer ${I||$?"opacity-50":""}`,children:I?e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-red-500 border-t-transparent rounded-full"}),e.jsx("span",{className:"text-gray-400",children:"Uploading..."})]}):$?e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full"}),e.jsx("span",{className:"text-gray-400",children:"Extracting data with AI..."})]}):e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx("svg",{className:"w-12 h-12 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),e.jsx("span",{className:"text-gray-400",children:"Click to upload or drag & drop"}),e.jsx("span",{className:"text-xs text-gray-500",children:"PNG, JPG up to 10MB"})]})})]}),e.jsx("div",{className:"flex justify-end gap-2 mt-4",children:e.jsx("button",{onClick:()=>{K(!1),X(null)},className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg",disabled:I||$,children:"Close"})})]})})]})}function ke(){const[f,se]=n.useState([]),[o,M]=n.useState(null),[C,ce]=n.useState([]),[Q,ae]=n.useState([]),[b,re]=n.useState([]),[E,P]=n.useState([]),[O,oe]=n.useState([]),[V,je]=n.useState([]),[y,R]=n.useState([]),[Y,B]=n.useState(!0),[le,G]=n.useState(null),[N,ie]=n.useState("events"),[L,ne]=n.useState(!1),[u,me]=n.useState(null),[w,H]=n.useState(null),[r,c]=n.useState({}),[A,K]=n.useState(null),[h,X]=n.useState([]),[I,W]=n.useState(!1),[$,de]=n.useState([]),[D,z]=n.useState([]),Z=new URLSearchParams(window.location.hash.split("?")[1]||"").get("org");n.useEffect(()=>{J()},[]),n.useEffect(()=>{o&&k(o.id)},[o]);async function J(){B(!0);const{data:t}=await i.from("organizations").select("*").order("name");if(se(t||[]),Z&&t){const s=t.find(a=>a.id===Z);s&&(M(s),window.location.hash.includes("galleries")&&ie("galleries"))}B(!1)}async function k(t){const[s,a,l,m,d]=await Promise.all([i.from("events").select("*").eq("organization_id",t).order("date",{ascending:!0}),i.from("packages").select("*").eq("organization_id",t).order("sort_order"),i.from("content_orders").select("*, events(name), packages(name)").eq("organization_id",t).order("created_at",{ascending:!1}).limit(50),i.from("galleries").select("*, events(name), gallery_photos(count)").eq("organization_id",t).order("created_at",{ascending:!1}),i.from("gallery_purchases").select("*, galleries(title, slug, events(name))").eq("organization_id",t).order("created_at",{ascending:!1}).limit(100)]);ce(s.data||[]),ae(a.data||[]),oe(l.data||[]),je(m.data||[]),R(d.data||[]);const x=(s.data||[]).map(g=>g.id);if(x.length>0){const[g,S]=await Promise.all([i.from("division_categories").select("*").in("event_id",x).order("sort_order"),i.from("division_subdivisions").select("*").order("sort_order")]);re(g.data||[]);const j=(g.data||[]).map(p=>p.id);P((S.data||[]).filter(p=>j.includes(p.category_id)))}else re([]),P([])}async function xe(){const{data:t,error:s}=await i.from("packages").select("*, organizations(name, display_name)").neq("organization_id",o?.id).order("name");!s&&t&&de(t)}async function ge(){if(D.length===0||!o)return;const s=$.filter(l=>D.includes(l.id)).map(l=>({name:l.name,description:l.description,price:l.price,sort_order:l.sort_order,active:l.active,organization_id:o.id})),{error:a}=await i.from("packages").insert(s);a?alert("Failed to import packages: "+a.message):(W(!1),z([]),k(o.id))}function ee(t){return b.filter(s=>s.event_id===t)}function te(t){return E.filter(s=>s.category_id===t)}function _(t,s=null,a=null){me(t),H(s),t==="org"?c(s||{name:"",display_name:"",legal_name:"",slug:"",description:"",logo_url:"",active:!0}):t==="event"?c(s||{organization_id:o?.id,name:"",date:"",location:"",status:"upcoming",active:!0,divisions_required:!1}):t==="package"?c(s||{organization_id:o?.id,name:"",description:"",price:"",sort_order:0,active:!0}):t==="division-cat"?c(s||{event_id:a||A,name:"",sort_order:0,active:!0}):t==="division-sub"&&c(s||{category_id:a,name:"",sort_order:0,active:!0}),ne(!0)}async function he(){try{if(u==="org")w?.id?await i.from("organizations").update(r).eq("id",w.id):await i.from("organizations").insert(r),J();else if(u==="event"){const t={...r,organization_id:o.id};w?.id?await i.from("events").update(t).eq("id",w.id):await i.from("events").insert(t),k(o.id)}else if(u==="package"){const t={...r,organization_id:o.id,price:parseFloat(r.price)};w?.id?await i.from("packages").update(t).eq("id",w.id):await i.from("packages").insert(t),k(o.id)}else u==="division-cat"?(w?.id?await i.from("division_categories").update(r).eq("id",w.id):await i.from("division_categories").insert(r),k(o.id)):u==="division-sub"&&(w?.id?await i.from("division_subdivisions").update(r).eq("id",w.id):await i.from("division_subdivisions").insert(r),k(o.id));ne(!1)}catch(t){console.error("Save error:",t),alert("Error saving. Check console.")}}async function q(t,s){if(t==="organizations"){await pe(s);return}if(!confirm("Are you sure you want to delete this item?"))return;const{error:a}=await i.from(t).delete().eq("id",s);if(a){console.error("Delete error:",a),alert(`Failed to delete: ${a.message}`);return}k(o.id)}async function pe(t){const s=f.find(v=>v.id===t);if(!s)return;const[a,l,m,d]=await Promise.all([i.from("events").select("id, name").eq("organization_id",t),i.from("packages").select("id, name").eq("organization_id",t),i.from("content_orders").select("id").eq("organization_id",t),i.from("livestream_events").select("id, title").eq("organization_id",t)]),x=a.data||[],g=l.data||[],S=m.data||[],j=d.data||[];let p=`âš ï¸ DELETE "${s.display_name||s.name}"?

This will also delete:
`;if(x.length>0&&(p+=`
ðŸ“… ${x.length} event${x.length>1?"s":""}`,x.slice(0,3).forEach(v=>{p+=`
   â€¢ ${v.name}`}),x.length>3&&(p+=`
   â€¢ ...and ${x.length-3} more`)),g.length>0&&(p+=`

ðŸ“¦ ${g.length} package${g.length>1?"s":""}`,g.slice(0,3).forEach(v=>{p+=`
   â€¢ ${v.name}`}),g.length>3&&(p+=`
   â€¢ ...and ${g.length-3} more`)),j.length>0&&(p+=`

ðŸŽ¬ ${j.length} livestream event${j.length>1?"s":""}`,j.slice(0,3).forEach(v=>{p+=`
   â€¢ ${v.title}`}),j.length>3&&(p+=`
   â€¢ ...and ${j.length-3} more`)),S.length>0&&(p+=`

ðŸ§¾ ${S.length} order${S.length>1?"s":""}`),x.length+g.length+S.length+j.length===0?p=`Delete "${s.display_name||s.name}"?

No related items will be affected.`:p+=`

âš ï¸ THIS CANNOT BE UNDONE!`,!!confirm(p))try{S.length>0&&await i.from("content_orders").delete().eq("organization_id",t),g.length>0&&await i.from("packages").delete().eq("organization_id",t);for(const ue of x){const{data:be}=await i.from("division_categories").select("id").eq("event_id",ue.id);if(be&&be.length>0){for(const fe of be)await i.from("division_subdivisions").delete().eq("category_id",fe.id);await i.from("division_categories").delete().eq("event_id",ue.id)}await i.from("events").delete().eq("id",ue.id)}j.length>0&&await i.from("livestream_events").update({organization_id:null}).eq("organization_id",t);const{error:v}=await i.from("organizations").delete().eq("id",t);if(v)throw v;J(),o?.id===t&&M(null)}catch(v){console.error("Cascade delete error:",v),alert(`Failed to delete: ${v.message}`)}}async function F(t,s,a){await i.from(t).update({active:!a}).eq("id",s),t==="organizations"?J():k(o.id)}if(Y)return e.jsx("div",{className:"p-8 text-gray-400",children:"Loading..."});if(!o)return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Content Management"}),e.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Select an organization to manage its events, packages, and divisions"})]}),e.jsx("button",{onClick:()=>_("org"),className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg text-sm font-medium",children:"+ Add Organization"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:f.map(t=>e.jsxs("div",{onClick:()=>M(t),className:"bg-gray-900/50 rounded-xl border border-gray-800 p-6 cursor-pointer hover:border-red-500/50 hover:bg-gray-900/80 transition-all group",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[t.logo_url?e.jsx("img",{src:ye(t.logo_url),alt:t.name,className:"w-12 h-12 rounded-lg object-cover"}):e.jsx("div",{className:"w-12 h-12 rounded-lg bg-gradient-to-br from-red-600 to-red-800 flex items-center justify-center text-xl font-bold",children:t.name.charAt(0)}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg group-hover:text-red-400 transition-colors",children:t.display_name||t.name}),t.display_name&&t.display_name!==t.name&&e.jsx("p",{className:"text-xs text-gray-400",children:t.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:["/",t.slug]})]})]}),!t.active&&e.jsx("span",{className:"text-xs bg-gray-700 px-2 py-1 rounded",children:"Inactive"})]}),t.description&&e.jsx("p",{className:"text-sm text-gray-400 line-clamp-2",children:t.description}),e.jsxs("div",{className:"mt-4 flex gap-2",children:[e.jsx("button",{onClick:s=>{s.stopPropagation(),_("org",t)},className:"text-xs text-blue-400 hover:text-blue-300",children:"Edit"}),e.jsx("button",{onClick:s=>{s.stopPropagation(),F("organizations",t.id,t.active)},className:"text-xs text-gray-400 hover:text-white",children:t.active?"Deactivate":"Activate"}),e.jsx("button",{onClick:s=>{s.stopPropagation(),q("organizations",t.id)},className:"text-xs text-red-400 hover:text-red-300",children:"Delete"})]})]},t.id))}),L&&U()]});if(le)return e.jsx("div",{className:"p-6",children:e.jsx(Ne,{event:le,organization:o,onBack:()=>G(null),onEventUpdate:()=>k(o.id)})});return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("button",{onClick:()=>M(null),className:"text-gray-400 hover:text-white transition-colors",children:"â† Back"}),e.jsxs("div",{className:"flex items-center gap-3",children:[o.logo_url?e.jsx("img",{src:ye(o.logo_url),alt:o.name,className:"w-10 h-10 rounded-lg object-cover"}):e.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-red-600 to-red-800 flex items-center justify-center text-lg font-bold",children:o.name.charAt(0)}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:o.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:["/",o.slug]})]})]})]}),e.jsx("div",{className:"flex gap-2 mb-6 border-b border-gray-700 pb-2 overflow-x-auto",children:["events","packages","divisions","galleries","gallery-orders","orders"].map(t=>e.jsxs("button",{onClick:()=>ie(t),className:`px-4 py-2 rounded-t-lg capitalize transition-colors whitespace-nowrap ${N===t?"bg-red-600 text-white":"text-gray-400 hover:text-white"}`,children:[t==="gallery-orders"?"Gallery Orders":t," ",t==="events"&&`(${C.length})`,t==="packages"&&`(${Q.length})`,t==="galleries"&&`(${V.length})`,t==="gallery-orders"&&`(${y.length})`,t==="orders"&&`(${O.length})`]},t))}),N==="events"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Upcoming Events"}),e.jsx("button",{onClick:()=>_("event"),className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg text-sm",children:"+ Add Event"})]}),C.length===0?e.jsx("div",{className:"bg-gray-900/50 rounded-xl border border-gray-800 p-8 text-center text-gray-400",children:"No events yet. Add one to get started."}):e.jsx("div",{className:"bg-gray-900/50 rounded-xl border border-gray-800 overflow-hidden",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"bg-gray-800",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left p-3",children:"Event Name"}),e.jsx("th",{className:"text-left p-3",children:"Date"}),e.jsx("th",{className:"text-left p-3",children:"Location"}),e.jsx("th",{className:"text-center p-3",children:"Status"}),e.jsx("th",{className:"text-center p-3",children:"Active"}),e.jsx("th",{className:"text-right p-3",children:"Actions"})]})}),e.jsx("tbody",{children:C.map(t=>e.jsxs("tr",{className:"border-t border-gray-800 hover:bg-gray-800/50 cursor-pointer transition-colors",onClick:()=>G(t),children:[e.jsx("td",{className:"p-3 font-medium text-blue-400 hover:text-blue-300",children:t.name}),e.jsx("td",{className:"p-3 text-gray-400",children:t.date&&new Date(t.date).toLocaleDateString("en-AU",{weekday:"short",day:"numeric",month:"short",year:"numeric"})}),e.jsx("td",{className:"p-3 text-gray-400",children:t.location}),e.jsx("td",{className:"p-3 text-center",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs ${t.status==="upcoming"?"bg-blue-600":t.status==="active"?"bg-green-600":"bg-gray-600"}`,children:t.status})}),e.jsx("td",{className:"p-3 text-center",onClick:s=>s.stopPropagation(),children:e.jsx("button",{onClick:()=>F("events",t.id,t.active),className:`px-2 py-1 rounded text-xs ${t.active?"bg-green-600":"bg-gray-600"}`,children:t.active?"Yes":"No"})}),e.jsxs("td",{className:"p-3 text-right space-x-2",onClick:s=>s.stopPropagation(),children:[e.jsx("button",{onClick:()=>_("event",t),className:"text-blue-400 hover:text-blue-300",children:"Edit"}),e.jsx("button",{onClick:()=>q("events",t.id),className:"text-red-400 hover:text-red-300",children:"Delete"})]})]},t.id))})]})})]}),N==="packages"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Content Packages"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{xe(),W(!0)},className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg text-sm",children:"Import from..."}),e.jsx("button",{onClick:()=>_("package"),className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg text-sm",children:"+ Add Package"})]})]}),Q.length===0?e.jsx("div",{className:"bg-gray-900/50 rounded-xl border border-gray-800 p-8 text-center text-gray-400",children:"No packages yet. Add one to get started, or import from another organization."}):e.jsx("div",{className:"bg-gray-900/50 rounded-xl border border-gray-800 overflow-hidden",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"bg-gray-800",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left p-3",children:"Package Name"}),e.jsx("th",{className:"text-left p-3",children:"Description"}),e.jsx("th",{className:"text-right p-3",children:"Price"}),e.jsx("th",{className:"text-center p-3",children:"Active"}),e.jsx("th",{className:"text-right p-3",children:"Actions"})]})}),e.jsx("tbody",{children:Q.map(t=>e.jsxs("tr",{className:"border-t border-gray-800",children:[e.jsx("td",{className:"p-3 font-medium",children:t.name}),e.jsx("td",{className:"p-3 text-gray-400 truncate max-w-xs",children:t.description}),e.jsxs("td",{className:"p-3 text-right font-semibold text-green-400",children:["$",t.price]}),e.jsx("td",{className:"p-3 text-center",children:e.jsx("button",{onClick:()=>F("packages",t.id,t.active),className:`px-2 py-1 rounded text-xs ${t.active?"bg-green-600":"bg-gray-600"}`,children:t.active?"Yes":"No"})}),e.jsxs("td",{className:"p-3 text-right space-x-2",children:[e.jsx("button",{onClick:()=>_("package",t),className:"text-blue-400 hover:text-blue-300",children:"Edit"}),e.jsx("button",{onClick:()=>q("packages",t.id),className:"text-red-400 hover:text-red-300",children:"Delete"})]})]},t.id))})]})})]}),N==="divisions"&&e.jsx("div",{children:e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Divisions by Event"}),e.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Select an event to manage its division categories and subdivisions"}),C.length===0?e.jsx("div",{className:"bg-gray-900/50 rounded-xl border border-gray-800 p-8 text-center text-gray-400",children:"Add events first, then you can manage their divisions."}):e.jsxs(e.Fragment,{children:[e.jsxs("select",{value:A||"",onChange:t=>K(t.target.value),className:"w-full max-w-md px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg",children:[e.jsx("option",{value:"",children:"Select an event..."}),C.map(t=>e.jsxs("option",{value:t.id,children:[t.name," (",t.date&&new Date(t.date).toLocaleDateString("en-AU"),")"]},t.id))]}),A&&e.jsxs("div",{className:"mt-6 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("h3",{className:"text-lg font-semibold",children:["Division Categories (",ee(A).length,")"]}),e.jsx("button",{onClick:()=>_("division-cat",null,A),className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg text-sm",children:"+ Add Category"})]}),ee(A).length===0?e.jsx("div",{className:"bg-gray-900/50 rounded-xl border border-gray-800 p-8 text-center text-gray-400",children:"No division categories for this event yet."}):e.jsx("div",{className:"space-y-3",children:ee(A).map(t=>e.jsxs("div",{className:"bg-gray-900/50 rounded-xl border border-gray-800 overflow-hidden",children:[e.jsxs("div",{className:"p-4 flex justify-between items-center bg-gray-800/50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>X(s=>s.includes(t.id)?s.filter(a=>a!==t.id):[...s,t.id]),className:"text-gray-400 hover:text-white",children:e.jsx("svg",{className:`w-5 h-5 transition-transform ${h.includes(t.id)?"rotate-90":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),e.jsx("span",{className:"font-semibold",children:t.name}),e.jsxs("span",{className:"text-xs text-gray-400",children:["(",te(t.id).length," subdivisions)"]}),!t.active&&e.jsx("span",{className:"text-xs bg-gray-600 px-2 py-0.5 rounded",children:"Inactive"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>_("division-cat",t),className:"text-blue-400 hover:text-blue-300 text-sm",children:"Edit"}),e.jsx("button",{onClick:()=>q("division_categories",t.id),className:"text-red-400 hover:text-red-300 text-sm",children:"Delete"})]})]}),h.includes(t.id)&&e.jsxs("div",{className:"p-4 border-t border-gray-700",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsx("span",{className:"text-sm text-gray-400",children:"Subdivisions:"}),e.jsx("button",{onClick:()=>_("division-sub",null,t.id),className:"text-sm text-green-400 hover:text-green-300",children:"+ Add Subdivision"})]}),te(t.id).length===0?e.jsx("p",{className:"text-sm text-gray-500 italic",children:"No subdivisions yet"}):e.jsx("div",{className:"flex flex-wrap gap-2",children:te(t.id).map(s=>e.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-lg border text-sm ${s.active?"bg-gray-800 border-gray-600":"bg-gray-900 border-gray-700 opacity-50"}`,children:[e.jsx("span",{children:s.name}),e.jsx("button",{onClick:()=>_("division-sub",s,t.id),className:"text-blue-400 hover:text-blue-300",children:"âœŽ"}),e.jsx("button",{onClick:()=>q("division_subdivisions",s.id),className:"text-red-400 hover:text-red-300",children:"Ã—"})]},s.id))})]})]},t.id))}),o.slug==="nba"&&e.jsxs("div",{className:"mt-6 p-4 bg-blue-900/20 border border-blue-800 rounded-xl",children:[e.jsx("h4",{className:"font-semibold text-blue-400 mb-2",children:"Quick Add: Standard NBA Divisions"}),e.jsx("p",{className:"text-sm text-gray-400 mb-3",children:"Add all standard NBA bodybuilding divisions for this event"}),e.jsx("button",{onClick:async t=>{const s=t.target,a=s.innerText;if(!A){alert("Please select an event first");return}if(window.confirm("Add all standard NBA divisions to this event?")){s.disabled=!0,s.innerText="Adding divisions...";try{const l={"Men's Physique":["Novice","Open","Masters 40+","Masters 50+","Junior"],"Classic Physique":["Novice","Open","Masters 40+","Masters 50+"],Bodybuilding:["Novice","Open","Masters 40+","Masters 50+","Junior"],Figure:["Novice","Open","Masters 35+","Masters 45+","Junior"],Bikini:["Novice","Open","Masters 35+","Masters 45+","Junior"],Wellness:["Novice","Open","Masters 35+","Masters 45+"],"Fitness Model":["Open","Masters"],"Sports Model":["Open","Masters"],Transformation:["Open"]};let m=0,d=0;for(const[x,g]of Object.entries(l)){const{data:S,error:j}=await i.from("division_categories").insert({event_id:A,name:x,sort_order:m++,active:!0}).select().single();if(j){console.error("Error adding category:",x,j);continue}if(S){d++;let p=0;for(const T of g){const{error:v}=await i.from("division_subdivisions").insert({category_id:S.id,name:T,sort_order:p++,active:!0});v&&console.error("Error adding subdivision:",T,v)}}}alert(`Added ${d} division categories with subdivisions!`),await k(o.id)}catch(l){console.error("Error adding divisions:",l),alert("Error adding divisions: "+l.message)}finally{s.disabled=!1,s.innerText=a}}},className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg text-sm disabled:opacity-50",children:"Add Standard NBA Divisions"})]})]})]})]})}),N==="galleries"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Photo Galleries"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("a",{href:`/#/portal/galleries?org=${o.id}&create=true`,className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg text-sm",children:"+ New Gallery"}),V.length>0&&e.jsx("a",{href:`/#/portal/galleries?org=${o.id}`,className:"px-4 py-2 bg-dark-600 hover:bg-dark-500 rounded-lg text-sm",children:"Manage All"})]})]}),V.length===0?e.jsx("div",{className:"bg-gray-900/50 rounded-xl border border-gray-800 p-8 text-center text-gray-400",children:"No galleries yet. Create one to start selling event photos."}):e.jsx("div",{className:"bg-gray-900/50 rounded-xl border border-gray-800 overflow-hidden",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"bg-gray-800",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left p-3",children:"Gallery Name"}),e.jsx("th",{className:"text-left p-3",children:"Event"}),e.jsx("th",{className:"text-center p-3",children:"Photos"}),e.jsx("th",{className:"text-right p-3",children:"Price/Photo"}),e.jsx("th",{className:"text-center p-3",children:"Status"}),e.jsx("th",{className:"text-right p-3",children:"Actions"})]})}),e.jsx("tbody",{children:V.map(t=>e.jsxs("tr",{className:"border-t border-gray-800",children:[e.jsx("td",{className:"p-3 font-medium",children:t.title}),e.jsx("td",{className:"p-3 text-gray-400",children:t.events?.name||"â€”"}),e.jsx("td",{className:"p-3 text-center",children:t.gallery_photos?.[0]?.count||0}),e.jsxs("td",{className:"p-3 text-right font-semibold text-green-400",children:["$",(t.price_per_photo/100).toFixed(2)]}),e.jsx("td",{className:"p-3 text-center",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs ${t.status==="published"?"bg-green-600":t.status==="draft"?"bg-yellow-600":"bg-gray-600"}`,children:t.status})}),e.jsxs("td",{className:"p-3 text-right space-x-2",children:[e.jsx("a",{href:`/#/portal/galleries?edit=${t.id}`,className:"text-blue-400 hover:text-blue-300",children:"Edit"}),t.status==="published"&&e.jsx("a",{href:`/#/gallery/${t.slug}`,target:"_blank",className:"text-green-400 hover:text-green-300",children:"View"})]})]},t.id))})]})})]}),N==="gallery-orders"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Gallery Photo Orders"}),e.jsxs("div",{className:"text-sm text-gray-400",children:["Total Revenue: ",e.jsxs("span",{className:"text-green-400 font-semibold",children:["$",y.reduce((t,s)=>t+(s.amount||0),0).toFixed(2)]})]})]}),y.length===0?e.jsx("div",{className:"bg-gray-900/50 rounded-xl border border-gray-800 p-8 text-center text-gray-400",children:"No gallery orders yet. Orders will appear here when customers purchase photos."}):e.jsx("div",{className:"bg-gray-900/50 rounded-xl border border-gray-800 overflow-hidden",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"bg-gray-800",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left p-3",children:"Date"}),e.jsx("th",{className:"text-left p-3",children:"Customer"}),e.jsx("th",{className:"text-left p-3",children:"Gallery"}),e.jsx("th",{className:"text-left p-3",children:"Event"}),e.jsx("th",{className:"text-center p-3",children:"Photos"}),e.jsx("th",{className:"text-right p-3",children:"Amount"}),e.jsx("th",{className:"text-center p-3",children:"Status"}),e.jsx("th",{className:"text-right p-3",children:"Actions"})]})}),e.jsx("tbody",{children:y.map(t=>e.jsxs("tr",{className:"border-t border-gray-800",children:[e.jsxs("td",{className:"p-3 text-gray-400",children:[new Date(t.created_at).toLocaleDateString("en-AU"),e.jsx("div",{className:"text-xs text-gray-500",children:new Date(t.created_at).toLocaleTimeString("en-AU",{hour:"2-digit",minute:"2-digit"})})]}),e.jsxs("td",{className:"p-3",children:[e.jsx("div",{className:"font-medium",children:t.customer_name||"N/A"}),e.jsx("div",{className:"text-xs text-gray-500",children:t.customer_email})]}),e.jsx("td",{className:"p-3 text-gray-400",children:t.galleries?.title||"N/A"}),e.jsx("td",{className:"p-3 text-gray-400",children:t.galleries?.events?.name||"â€”"}),e.jsx("td",{className:"p-3 text-center",children:t.photo_count||1}),e.jsxs("td",{className:"p-3 text-right font-semibold text-green-400",children:["$",(t.amount||0).toFixed(2)]}),e.jsx("td",{className:"p-3 text-center",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs ${t.status==="completed"||t.status==="paid"?"bg-green-600":t.status==="pending"?"bg-yellow-600":"bg-gray-600"}`,children:t.status||"pending"})}),e.jsx("td",{className:"p-3 text-right",children:t.galleries?.slug&&e.jsx("a",{href:`/#/gallery/${t.galleries.slug}`,target:"_blank",className:"text-blue-400 hover:text-blue-300 text-sm",children:"View Gallery"})})]},t.id))})]})})]}),N==="orders"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Recent Orders"}),e.jsx("div",{className:"bg-gray-900/50 rounded-xl border border-gray-800 overflow-hidden",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"bg-gray-800",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left p-3",children:"Date"}),e.jsx("th",{className:"text-left p-3",children:"Athlete"}),e.jsx("th",{className:"text-left p-3",children:"Email"}),e.jsx("th",{className:"text-left p-3",children:"Event"}),e.jsx("th",{className:"text-left p-3",children:"Package"}),e.jsx("th",{className:"text-right p-3",children:"Amount"}),e.jsx("th",{className:"text-center p-3",children:"Status"})]})}),e.jsx("tbody",{children:O.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"p-8 text-center text-gray-400",children:"No orders yet"})}):O.map(t=>e.jsxs("tr",{className:"border-t border-gray-800",children:[e.jsx("td",{className:"p-3 text-gray-400",children:new Date(t.created_at).toLocaleDateString("en-AU")}),e.jsxs("td",{className:"p-3 font-medium",children:[t.first_name," ",t.last_name]}),e.jsx("td",{className:"p-3 text-gray-400",children:t.email}),e.jsx("td",{className:"p-3 text-gray-400",children:t.events?.name}),e.jsx("td",{className:"p-3 text-gray-400",children:t.packages?.name}),e.jsxs("td",{className:"p-3 text-right font-semibold",children:["$",t.amount]}),e.jsx("td",{className:"p-3 text-center",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs ${t.status==="paid"?"bg-green-600":t.status==="delivered"?"bg-blue-600":t.status==="pending"?"bg-yellow-600":"bg-gray-600"}`,children:t.status})})]},t.id))})]})})]}),L&&U(),I&&e.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-gray-900 rounded-xl border border-gray-700 p-6 w-full max-w-lg max-h-[80vh] overflow-hidden flex flex-col",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Import Packages from Other Organizations"}),$.length===0?e.jsx("p",{className:"text-gray-400 text-center py-8",children:"No packages available to import from other organizations."}):e.jsx("div",{className:"flex-1 overflow-y-auto mb-4 space-y-2",children:Object.entries($.reduce((t,s)=>{const a=s.organizations?.display_name||s.organizations?.name||"Unknown";return t[a]||(t[a]=[]),t[a].push(s),t},{})).map(([t,s])=>e.jsxs("div",{className:"border border-gray-700 rounded-lg overflow-hidden",children:[e.jsx("div",{className:"bg-gray-800 px-3 py-2 font-medium text-sm",children:t}),e.jsx("div",{className:"divide-y divide-gray-800",children:s.map(a=>e.jsxs("label",{className:"flex items-center gap-3 px-3 py-2 hover:bg-gray-800/50 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:D.includes(a.id),onChange:l=>{l.target.checked?z(m=>[...m,a.id]):z(m=>m.filter(d=>d!==a.id))},className:"w-4 h-4 rounded"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium",children:a.name}),a.description&&e.jsx("div",{className:"text-xs text-gray-400 truncate",children:a.description})]}),e.jsxs("div",{className:"text-green-400 font-semibold",children:["$",a.price]})]},a.id))})]},t))}),e.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-700",children:[e.jsx("button",{onClick:()=>{W(!1),z([])},className:"flex-1 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg",children:"Cancel"}),e.jsxs("button",{onClick:ge,disabled:D.length===0,className:"flex-1 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:["Import ",D.length>0&&`(${D.length})`]})]})]})})]});function U(){return e.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-gray-900 rounded-xl border border-gray-700 p-6 w-full max-w-md",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4",children:[w?"Edit":"Add"," ",u==="org"?"Organization":u==="event"?"Event":u==="package"?"Package":u==="division-cat"?"Division Category":u==="division-sub"?"Subdivision":""]}),e.jsxs("div",{className:"space-y-4",children:[u==="org"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Organization Name *"}),e.jsx("input",{type:"text",value:r.name||"",onChange:t=>c({...r,name:t.target.value}),placeholder:"e.g., World Ninja Games",className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Display Name (Short)"}),e.jsx("input",{type:"text",value:r.display_name||"",onChange:t=>c({...r,display_name:t.target.value}),placeholder:"e.g., WNG",className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Shown on livestream cards & filters"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Legal Name"}),e.jsx("input",{type:"text",value:r.legal_name||"",onChange:t=>c({...r,legal_name:t.target.value}),placeholder:"e.g., World Ninja Games Pty Ltd",className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"For contracts & invoices"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Slug (URL-friendly)"}),e.jsx("input",{type:"text",value:r.slug||"",onChange:t=>c({...r,slug:t.target.value.toLowerCase().replace(/\s+/g,"-")}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Logo URL"}),e.jsx("input",{type:"text",value:r.logo_url||"",onChange:t=>c({...r,logo_url:t.target.value}),placeholder:"https://...",className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Description"}),e.jsx("textarea",{value:r.description||"",onChange:t=>c({...r,description:t.target.value}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg",rows:3})]}),e.jsxs("div",{className:"border-t border-gray-700 pt-4 mt-4",children:[e.jsx("p",{className:"text-sm text-gray-400 mb-3 font-medium",children:"Contact / Organizer"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Contact Name"}),e.jsx("input",{type:"text",value:r.contact_name||"",onChange:t=>c({...r,contact_name:t.target.value}),placeholder:"e.g., Phil Cassidy",className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Contact Email"}),e.jsx("input",{type:"email",value:r.contact_email||"",onChange:t=>c({...r,contact_email:t.target.value}),placeholder:"email@example.com",className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Contact Phone"}),e.jsx("input",{type:"tel",value:r.contact_phone||"",onChange:t=>c({...r,contact_phone:t.target.value}),placeholder:"+61 400 000 000",className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg"})]})]})]})]})]}),u==="event"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Event Name"}),e.jsx("input",{type:"text",value:r.name||"",onChange:t=>c({...r,name:t.target.value}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Date"}),e.jsx("input",{type:"date",value:r.date||"",onChange:t=>c({...r,date:t.target.value}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Location"}),e.jsx("input",{type:"text",value:r.location||"",onChange:t=>c({...r,location:t.target.value}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Status"}),e.jsxs("select",{value:r.status||"upcoming",onChange:t=>c({...r,status:t.target.value}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg",children:[e.jsx("option",{value:"upcoming",children:"Upcoming"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"completed",children:"Completed"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:r.divisions_required||!1,onChange:t=>c({...r,divisions_required:t.target.checked}),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-red-600"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-white",children:"Require Divisions"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Athletes must select a division when ordering"})]})]})]}),u==="package"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Package Name"}),e.jsx("input",{type:"text",value:r.name||"",onChange:t=>c({...r,name:t.target.value}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Description"}),e.jsx("input",{type:"text",value:r.description||"",onChange:t=>c({...r,description:t.target.value}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Price (AUD)"}),e.jsx("input",{type:"number",value:r.price||"",onChange:t=>c({...r,price:t.target.value}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Sort Order"}),e.jsx("input",{type:"number",value:r.sort_order||0,onChange:t=>c({...r,sort_order:parseInt(t.target.value)}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg"})]})]})]}),u==="division-cat"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Category Name"}),e.jsx("input",{type:"text",value:r.name||"",onChange:t=>c({...r,name:t.target.value}),placeholder:"e.g., Men's Physique, Bikini, Figure",className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Sort Order"}),e.jsx("input",{type:"number",value:r.sort_order||0,onChange:t=>c({...r,sort_order:parseInt(t.target.value)}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg"})]})]}),u==="division-sub"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Subdivision Name"}),e.jsx("input",{type:"text",value:r.name||"",onChange:t=>c({...r,name:t.target.value}),placeholder:"e.g., Novice, Open, Masters 40+",className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Sort Order"}),e.jsx("input",{type:"number",value:r.sort_order||0,onChange:t=>c({...r,sort_order:parseInt(t.target.value)}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"active",checked:r.active??!0,onChange:t=>c({...r,active:t.target.checked}),className:"rounded"}),e.jsx("label",{htmlFor:"active",className:"text-sm text-gray-400",children:"Active"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{onClick:()=>ne(!1),className:"flex-1 py-2 border border-gray-600 rounded-lg hover:bg-gray-800",children:"Cancel"}),e.jsx("button",{onClick:he,className:"flex-1 py-2 bg-red-600 hover:bg-red-700 rounded-lg",children:"Save"})]})]})})}}export{ke as default};
