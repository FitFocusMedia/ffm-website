function hle(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var b1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function IA(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var AI={exports:{}},w1={};var N6;function fle(){if(N6)return w1;N6=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,i,s){var a=null;if(s!==void 0&&(a=""+s),i.key!==void 0&&(a=""+i.key),"key"in i){s={};for(var c in i)c!=="key"&&(s[c]=i[c])}else s=i;return i=s.ref,{$$typeof:t,type:n,key:a,ref:i!==void 0?i:null,props:s}}return w1.Fragment=e,w1.jsx=r,w1.jsxs=r,w1}var I6;function Ale(){return I6||(I6=1,AI.exports=fle()),AI.exports}var l=Ale(),mI={exports:{}},ps={};var k6;function mle(){if(k6)return ps;k6=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),o=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),A=Symbol.iterator;function p(ve){return ve===null||typeof ve!="object"?null:(ve=A&&ve[A]||ve["@@iterator"],typeof ve=="function"?ve:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,v={};function b(ve,se,me){this.props=ve,this.context=se,this.refs=v,this.updater=me||g}b.prototype.isReactComponent={},b.prototype.setState=function(ve,se){if(typeof ve!="object"&&typeof ve!="function"&&ve!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ve,se,"setState")},b.prototype.forceUpdate=function(ve){this.updater.enqueueForceUpdate(this,ve,"forceUpdate")};function w(){}w.prototype=b.prototype;function S(ve,se,me){this.props=ve,this.context=se,this.refs=v,this.updater=me||g}var _=S.prototype=new w;_.constructor=S,y(_,b.prototype),_.isPureReactComponent=!0;var T=Array.isArray;function L(){}var D={H:null,A:null,T:null,S:null},V=Object.prototype.hasOwnProperty;function G(ve,se,me){var je=me.ref;return{$$typeof:t,type:ve,key:se,ref:je!==void 0?je:null,props:me}}function J(ve,se){return G(ve.type,se,ve.props)}function ee(ve){return typeof ve=="object"&&ve!==null&&ve.$$typeof===t}function ue(ve){var se={"=":"=0",":":"=2"};return"$"+ve.replace(/[=:]/g,function(me){return se[me]})}var pe=/\/+/g;function ge(ve,se){return typeof ve=="object"&&ve!==null&&ve.key!=null?ue(""+ve.key):se.toString(36)}function he(ve){switch(ve.status){case"fulfilled":return ve.value;case"rejected":throw ve.reason;default:switch(typeof ve.status=="string"?ve.then(L,L):(ve.status="pending",ve.then(function(se){ve.status==="pending"&&(ve.status="fulfilled",ve.value=se)},function(se){ve.status==="pending"&&(ve.status="rejected",ve.reason=se)})),ve.status){case"fulfilled":return ve.value;case"rejected":throw ve.reason}}throw ve}function ne(ve,se,me,je,Ue){var De=typeof ve;(De==="undefined"||De==="boolean")&&(ve=null);var ot=!1;if(ve===null)ot=!0;else switch(De){case"bigint":case"string":case"number":ot=!0;break;case"object":switch(ve.$$typeof){case t:case e:ot=!0;break;case d:return ot=ve._init,ne(ot(ve._payload),se,me,je,Ue)}}if(ot)return Ue=Ue(ve),ot=je===""?"."+ge(ve,0):je,T(Ue)?(me="",ot!=null&&(me=ot.replace(pe,"$&/")+"/"),ne(Ue,se,me,"",function(Ze){return Ze})):Ue!=null&&(ee(Ue)&&(Ue=J(Ue,me+(Ue.key==null||ve&&ve.key===Ue.key?"":(""+Ue.key).replace(pe,"$&/")+"/")+ot)),se.push(Ue)),1;ot=0;var ft=je===""?".":je+":";if(T(ve))for(var Ce=0;Ce<ve.length;Ce++)je=ve[Ce],De=ft+ge(je,Ce),ot+=ne(je,se,me,De,Ue);else if(Ce=p(ve),typeof Ce=="function")for(ve=Ce.call(ve),Ce=0;!(je=ve.next()).done;)je=je.value,De=ft+ge(je,Ce++),ot+=ne(je,se,me,De,Ue);else if(De==="object"){if(typeof ve.then=="function")return ne(he(ve),se,me,je,Ue);throw se=String(ve),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(ve).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return ot}function Ae(ve,se,me){if(ve==null)return ve;var je=[],Ue=0;return ne(ve,je,"","",function(De){return se.call(me,De,Ue++)}),je}function oe(ve){if(ve._status===-1){var se=ve._result;se=se(),se.then(function(me){(ve._status===0||ve._status===-1)&&(ve._status=1,ve._result=me)},function(me){(ve._status===0||ve._status===-1)&&(ve._status=2,ve._result=me)}),ve._status===-1&&(ve._status=0,ve._result=se)}if(ve._status===1)return ve._result.default;throw ve._result}var Be=typeof reportError=="function"?reportError:function(ve){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ve=="object"&&ve!==null&&typeof ve.message=="string"?String(ve.message):String(ve),error:ve});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ve);return}console.error(ve)},ke={map:Ae,forEach:function(ve,se,me){Ae(ve,function(){se.apply(this,arguments)},me)},count:function(ve){var se=0;return Ae(ve,function(){se++}),se},toArray:function(ve){return Ae(ve,function(se){return se})||[]},only:function(ve){if(!ee(ve))throw Error("React.Children.only expected to receive a single React element child.");return ve}};return ps.Activity=f,ps.Children=ke,ps.Component=b,ps.Fragment=r,ps.Profiler=i,ps.PureComponent=S,ps.StrictMode=n,ps.Suspense=u,ps.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,ps.__COMPILER_RUNTIME={__proto__:null,c:function(ve){return D.H.useMemoCache(ve)}},ps.cache=function(ve){return function(){return ve.apply(null,arguments)}},ps.cacheSignal=function(){return null},ps.cloneElement=function(ve,se,me){if(ve==null)throw Error("The argument must be a React element, but you passed "+ve+".");var je=y({},ve.props),Ue=ve.key;if(se!=null)for(De in se.key!==void 0&&(Ue=""+se.key),se)!V.call(se,De)||De==="key"||De==="__self"||De==="__source"||De==="ref"&&se.ref===void 0||(je[De]=se[De]);var De=arguments.length-2;if(De===1)je.children=me;else if(1<De){for(var ot=Array(De),ft=0;ft<De;ft++)ot[ft]=arguments[ft+2];je.children=ot}return G(ve.type,Ue,je)},ps.createContext=function(ve){return ve={$$typeof:a,_currentValue:ve,_currentValue2:ve,_threadCount:0,Provider:null,Consumer:null},ve.Provider=ve,ve.Consumer={$$typeof:s,_context:ve},ve},ps.createElement=function(ve,se,me){var je,Ue={},De=null;if(se!=null)for(je in se.key!==void 0&&(De=""+se.key),se)V.call(se,je)&&je!=="key"&&je!=="__self"&&je!=="__source"&&(Ue[je]=se[je]);var ot=arguments.length-2;if(ot===1)Ue.children=me;else if(1<ot){for(var ft=Array(ot),Ce=0;Ce<ot;Ce++)ft[Ce]=arguments[Ce+2];Ue.children=ft}if(ve&&ve.defaultProps)for(je in ot=ve.defaultProps,ot)Ue[je]===void 0&&(Ue[je]=ot[je]);return G(ve,De,Ue)},ps.createRef=function(){return{current:null}},ps.forwardRef=function(ve){return{$$typeof:c,render:ve}},ps.isValidElement=ee,ps.lazy=function(ve){return{$$typeof:d,_payload:{_status:-1,_result:ve},_init:oe}},ps.memo=function(ve,se){return{$$typeof:o,type:ve,compare:se===void 0?null:se}},ps.startTransition=function(ve){var se=D.T,me={};D.T=me;try{var je=ve(),Ue=D.S;Ue!==null&&Ue(me,je),typeof je=="object"&&je!==null&&typeof je.then=="function"&&je.then(L,Be)}catch(De){Be(De)}finally{se!==null&&me.types!==null&&(se.types=me.types),D.T=se}},ps.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},ps.use=function(ve){return D.H.use(ve)},ps.useActionState=function(ve,se,me){return D.H.useActionState(ve,se,me)},ps.useCallback=function(ve,se){return D.H.useCallback(ve,se)},ps.useContext=function(ve){return D.H.useContext(ve)},ps.useDebugValue=function(){},ps.useDeferredValue=function(ve,se){return D.H.useDeferredValue(ve,se)},ps.useEffect=function(ve,se){return D.H.useEffect(ve,se)},ps.useEffectEvent=function(ve){return D.H.useEffectEvent(ve)},ps.useId=function(){return D.H.useId()},ps.useImperativeHandle=function(ve,se,me){return D.H.useImperativeHandle(ve,se,me)},ps.useInsertionEffect=function(ve,se){return D.H.useInsertionEffect(ve,se)},ps.useLayoutEffect=function(ve,se){return D.H.useLayoutEffect(ve,se)},ps.useMemo=function(ve,se){return D.H.useMemo(ve,se)},ps.useOptimistic=function(ve,se){return D.H.useOptimistic(ve,se)},ps.useReducer=function(ve,se,me){return D.H.useReducer(ve,se,me)},ps.useRef=function(ve){return D.H.useRef(ve)},ps.useState=function(ve){return D.H.useState(ve)},ps.useSyncExternalStore=function(ve,se,me){return D.H.useSyncExternalStore(ve,se,me)},ps.useTransition=function(){return D.H.useTransition()},ps.version="19.2.4",ps}var B6;function Db(){return B6||(B6=1,mI.exports=mle()),mI.exports}var j=Db();const wo=IA(j),ple=hle({__proto__:null,default:wo},[j]);var pI={exports:{}},E1={},gI={exports:{}},vI={};var L6;function gle(){return L6||(L6=1,(function(t){function e(ne,Ae){var oe=ne.length;ne.push(Ae);e:for(;0<oe;){var Be=oe-1>>>1,ke=ne[Be];if(0<i(ke,Ae))ne[Be]=Ae,ne[oe]=ke,oe=Be;else break e}}function r(ne){return ne.length===0?null:ne[0]}function n(ne){if(ne.length===0)return null;var Ae=ne[0],oe=ne.pop();if(oe!==Ae){ne[0]=oe;e:for(var Be=0,ke=ne.length,ve=ke>>>1;Be<ve;){var se=2*(Be+1)-1,me=ne[se],je=se+1,Ue=ne[je];if(0>i(me,oe))je<ke&&0>i(Ue,me)?(ne[Be]=Ue,ne[je]=oe,Be=je):(ne[Be]=me,ne[se]=oe,Be=se);else if(je<ke&&0>i(Ue,oe))ne[Be]=Ue,ne[je]=oe,Be=je;else break e}}return Ae}function i(ne,Ae){var oe=ne.sortIndex-Ae.sortIndex;return oe!==0?oe:ne.id-Ae.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var u=[],o=[],d=1,f=null,A=3,p=!1,g=!1,y=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function _(ne){for(var Ae=r(o);Ae!==null;){if(Ae.callback===null)n(o);else if(Ae.startTime<=ne)n(o),Ae.sortIndex=Ae.expirationTime,e(u,Ae);else break;Ae=r(o)}}function T(ne){if(y=!1,_(ne),!g)if(r(u)!==null)g=!0,L||(L=!0,ue());else{var Ae=r(o);Ae!==null&&he(T,Ae.startTime-ne)}}var L=!1,D=-1,V=5,G=-1;function J(){return v?!0:!(t.unstable_now()-G<V)}function ee(){if(v=!1,L){var ne=t.unstable_now();G=ne;var Ae=!0;try{e:{g=!1,y&&(y=!1,w(D),D=-1),p=!0;var oe=A;try{t:{for(_(ne),f=r(u);f!==null&&!(f.expirationTime>ne&&J());){var Be=f.callback;if(typeof Be=="function"){f.callback=null,A=f.priorityLevel;var ke=Be(f.expirationTime<=ne);if(ne=t.unstable_now(),typeof ke=="function"){f.callback=ke,_(ne),Ae=!0;break t}f===r(u)&&n(u),_(ne)}else n(u);f=r(u)}if(f!==null)Ae=!0;else{var ve=r(o);ve!==null&&he(T,ve.startTime-ne),Ae=!1}}break e}finally{f=null,A=oe,p=!1}Ae=void 0}}finally{Ae?ue():L=!1}}}var ue;if(typeof S=="function")ue=function(){S(ee)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,ge=pe.port2;pe.port1.onmessage=ee,ue=function(){ge.postMessage(null)}}else ue=function(){b(ee,0)};function he(ne,Ae){D=b(function(){ne(t.unstable_now())},Ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ne){ne.callback=null},t.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<ne?Math.floor(1e3/ne):5},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_next=function(ne){switch(A){case 1:case 2:case 3:var Ae=3;break;default:Ae=A}var oe=A;A=Ae;try{return ne()}finally{A=oe}},t.unstable_requestPaint=function(){v=!0},t.unstable_runWithPriority=function(ne,Ae){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var oe=A;A=ne;try{return Ae()}finally{A=oe}},t.unstable_scheduleCallback=function(ne,Ae,oe){var Be=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?Be+oe:Be):oe=Be,ne){case 1:var ke=-1;break;case 2:ke=250;break;case 5:ke=1073741823;break;case 4:ke=1e4;break;default:ke=5e3}return ke=oe+ke,ne={id:d++,callback:Ae,priorityLevel:ne,startTime:oe,expirationTime:ke,sortIndex:-1},oe>Be?(ne.sortIndex=oe,e(o,ne),r(u)===null&&ne===r(o)&&(y?(w(D),D=-1):y=!0,he(T,oe-Be))):(ne.sortIndex=ke,e(u,ne),g||p||(g=!0,L||(L=!0,ue()))),ne},t.unstable_shouldYield=J,t.unstable_wrapCallback=function(ne){var Ae=A;return function(){var oe=A;A=Ae;try{return ne.apply(this,arguments)}finally{A=oe}}}})(vI)),vI}var R6;function vle(){return R6||(R6=1,gI.exports=gle()),gI.exports}var yI={exports:{}},Nd={};var O6;function yle(){if(O6)return Nd;O6=1;var t=Db();function e(u){var o="https://react.dev/errors/"+u;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)o+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+u+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(u,o,d){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:f==null?null:""+f,children:u,containerInfo:o,implementation:d}}var a=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(u,o){if(u==="font")return"";if(typeof o=="string")return o==="use-credentials"?o:""}return Nd.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Nd.createPortal=function(u,o){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)throw Error(e(299));return s(u,o,null,d)},Nd.flushSync=function(u){var o=a.T,d=n.p;try{if(a.T=null,n.p=2,u)return u()}finally{a.T=o,n.p=d,n.d.f()}},Nd.preconnect=function(u,o){typeof u=="string"&&(o?(o=o.crossOrigin,o=typeof o=="string"?o==="use-credentials"?o:"":void 0):o=null,n.d.C(u,o))},Nd.prefetchDNS=function(u){typeof u=="string"&&n.d.D(u)},Nd.preinit=function(u,o){if(typeof u=="string"&&o&&typeof o.as=="string"){var d=o.as,f=c(d,o.crossOrigin),A=typeof o.integrity=="string"?o.integrity:void 0,p=typeof o.fetchPriority=="string"?o.fetchPriority:void 0;d==="style"?n.d.S(u,typeof o.precedence=="string"?o.precedence:void 0,{crossOrigin:f,integrity:A,fetchPriority:p}):d==="script"&&n.d.X(u,{crossOrigin:f,integrity:A,fetchPriority:p,nonce:typeof o.nonce=="string"?o.nonce:void 0})}},Nd.preinitModule=function(u,o){if(typeof u=="string")if(typeof o=="object"&&o!==null){if(o.as==null||o.as==="script"){var d=c(o.as,o.crossOrigin);n.d.M(u,{crossOrigin:d,integrity:typeof o.integrity=="string"?o.integrity:void 0,nonce:typeof o.nonce=="string"?o.nonce:void 0})}}else o==null&&n.d.M(u)},Nd.preload=function(u,o){if(typeof u=="string"&&typeof o=="object"&&o!==null&&typeof o.as=="string"){var d=o.as,f=c(d,o.crossOrigin);n.d.L(u,d,{crossOrigin:f,integrity:typeof o.integrity=="string"?o.integrity:void 0,nonce:typeof o.nonce=="string"?o.nonce:void 0,type:typeof o.type=="string"?o.type:void 0,fetchPriority:typeof o.fetchPriority=="string"?o.fetchPriority:void 0,referrerPolicy:typeof o.referrerPolicy=="string"?o.referrerPolicy:void 0,imageSrcSet:typeof o.imageSrcSet=="string"?o.imageSrcSet:void 0,imageSizes:typeof o.imageSizes=="string"?o.imageSizes:void 0,media:typeof o.media=="string"?o.media:void 0})}},Nd.preloadModule=function(u,o){if(typeof u=="string")if(o){var d=c(o.as,o.crossOrigin);n.d.m(u,{as:typeof o.as=="string"&&o.as!=="script"?o.as:void 0,crossOrigin:d,integrity:typeof o.integrity=="string"?o.integrity:void 0})}else n.d.m(u)},Nd.requestFormReset=function(u){n.d.r(u)},Nd.unstable_batchedUpdates=function(u,o){return u(o)},Nd.useFormState=function(u,o,d){return a.H.useFormState(u,o,d)},Nd.useFormStatus=function(){return a.H.useHostTransitionStatus()},Nd.version="19.2.4",Nd}var P6;function bW(){if(P6)return yI.exports;P6=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),yI.exports=yle(),yI.exports}var D6;function xle(){if(D6)return E1;D6=1;var t=vle(),e=Db(),r=bW();function n(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)m+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)}function s(h){var m=h,x=h;if(h.alternate)for(;m.return;)m=m.return;else{h=m;do m=h,(m.flags&4098)!==0&&(x=m.return),h=m.return;while(h)}return m.tag===3?x:null}function a(h){if(h.tag===13){var m=h.memoizedState;if(m===null&&(h=h.alternate,h!==null&&(m=h.memoizedState)),m!==null)return m.dehydrated}return null}function c(h){if(h.tag===31){var m=h.memoizedState;if(m===null&&(h=h.alternate,h!==null&&(m=h.memoizedState)),m!==null)return m.dehydrated}return null}function u(h){if(s(h)!==h)throw Error(n(188))}function o(h){var m=h.alternate;if(!m){if(m=s(h),m===null)throw Error(n(188));return m!==h?null:h}for(var x=h,E=m;;){var H=x.return;if(H===null)break;var W=H.alternate;if(W===null){if(E=H.return,E!==null){x=E;continue}break}if(H.child===W.child){for(W=H.child;W;){if(W===x)return u(H),h;if(W===E)return u(H),m;W=W.sibling}throw Error(n(188))}if(x.return!==E.return)x=H,E=W;else{for(var be=!1,Ke=H.child;Ke;){if(Ke===x){be=!0,x=H,E=W;break}if(Ke===E){be=!0,E=H,x=W;break}Ke=Ke.sibling}if(!be){for(Ke=W.child;Ke;){if(Ke===x){be=!0,x=W,E=H;break}if(Ke===E){be=!0,E=W,x=H;break}Ke=Ke.sibling}if(!be)throw Error(n(189))}}if(x.alternate!==E)throw Error(n(190))}if(x.tag!==3)throw Error(n(188));return x.stateNode.current===x?h:m}function d(h){var m=h.tag;if(m===5||m===26||m===27||m===6)return h;for(h=h.child;h!==null;){if(m=d(h),m!==null)return m;h=h.sibling}return null}var f=Object.assign,A=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),w=Symbol.for("react.consumer"),S=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),G=Symbol.for("react.activity"),J=Symbol.for("react.memo_cache_sentinel"),ee=Symbol.iterator;function ue(h){return h===null||typeof h!="object"?null:(h=ee&&h[ee]||h["@@iterator"],typeof h=="function"?h:null)}var pe=Symbol.for("react.client.reference");function ge(h){if(h==null)return null;if(typeof h=="function")return h.$$typeof===pe?null:h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case y:return"Fragment";case b:return"Profiler";case v:return"StrictMode";case T:return"Suspense";case L:return"SuspenseList";case G:return"Activity"}if(typeof h=="object")switch(h.$$typeof){case g:return"Portal";case S:return h.displayName||"Context";case w:return(h._context.displayName||"Context")+".Consumer";case _:var m=h.render;return h=h.displayName,h||(h=m.displayName||m.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case D:return m=h.displayName||null,m!==null?m:ge(h.type)||"Memo";case V:m=h._payload,h=h._init;try{return ge(h(m))}catch{}}return null}var he=Array.isArray,ne=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ae=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},Be=[],ke=-1;function ve(h){return{current:h}}function se(h){0>ke||(h.current=Be[ke],Be[ke]=null,ke--)}function me(h,m){ke++,Be[ke]=h.current,h.current=m}var je=ve(null),Ue=ve(null),De=ve(null),ot=ve(null);function ft(h,m){switch(me(De,m),me(Ue,h),me(je,null),m.nodeType){case 9:case 11:h=(h=m.documentElement)&&(h=h.namespaceURI)?ZU(h):0;break;default:if(h=m.tagName,m=m.namespaceURI)m=ZU(m),h=JU(m,h);else switch(h){case"svg":h=1;break;case"math":h=2;break;default:h=0}}se(je),me(je,h)}function Ce(){se(je),se(Ue),se(De)}function Ze(h){h.memoizedState!==null&&me(ot,h);var m=je.current,x=JU(m,h.type);m!==x&&(me(Ue,h),me(je,x))}function ze(h){Ue.current===h&&(se(je),se(Ue)),ot.current===h&&(se(ot),g1._currentValue=oe)}var $e,ct;function Fe(h){if($e===void 0)try{throw Error()}catch(x){var m=x.stack.trim().match(/\n( *(at )?)/);$e=m&&m[1]||"",ct=-1<x.stack.indexOf(`
    at`)?" (<anonymous>)":-1<x.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$e+h+ct}var xt=!1;function pt(h,m){if(!h||xt)return"";xt=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var E={DetermineComponentFrameRoot:function(){try{if(m){var Pr=function(){throw Error()};if(Object.defineProperty(Pr.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Pr,[])}catch(mr){var fr=mr}Reflect.construct(h,[],Pr)}else{try{Pr.call()}catch(mr){fr=mr}h.call(Pr.prototype)}}else{try{throw Error()}catch(mr){fr=mr}(Pr=h())&&typeof Pr.catch=="function"&&Pr.catch(function(){})}}catch(mr){if(mr&&fr&&typeof mr.stack=="string")return[mr.stack,fr.stack]}return[null,null]}};E.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var H=Object.getOwnPropertyDescriptor(E.DetermineComponentFrameRoot,"name");H&&H.configurable&&Object.defineProperty(E.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var W=E.DetermineComponentFrameRoot(),be=W[0],Ke=W[1];if(be&&Ke){var Et=be.split(`
`),hr=Ke.split(`
`);for(H=E=0;E<Et.length&&!Et[E].includes("DetermineComponentFrameRoot");)E++;for(;H<hr.length&&!hr[H].includes("DetermineComponentFrameRoot");)H++;if(E===Et.length||H===hr.length)for(E=Et.length-1,H=hr.length-1;1<=E&&0<=H&&Et[E]!==hr[H];)H--;for(;1<=E&&0<=H;E--,H--)if(Et[E]!==hr[H]){if(E!==1||H!==1)do if(E--,H--,0>H||Et[E]!==hr[H]){var Ir=`
`+Et[E].replace(" at new "," at ");return h.displayName&&Ir.includes("<anonymous>")&&(Ir=Ir.replace("<anonymous>",h.displayName)),Ir}while(1<=E&&0<=H);break}}}finally{xt=!1,Error.prepareStackTrace=x}return(x=h?h.displayName||h.name:"")?Fe(x):""}function Bt(h,m){switch(h.tag){case 26:case 27:case 5:return Fe(h.type);case 16:return Fe("Lazy");case 13:return h.child!==m&&m!==null?Fe("Suspense Fallback"):Fe("Suspense");case 19:return Fe("SuspenseList");case 0:case 15:return pt(h.type,!1);case 11:return pt(h.type.render,!1);case 1:return pt(h.type,!0);case 31:return Fe("Activity");default:return""}}function qt(h){try{var m="",x=null;do m+=Bt(h,x),x=h,h=h.return;while(h);return m}catch(E){return`
Error generating stack: `+E.message+`
`+E.stack}}var Yr=Object.prototype.hasOwnProperty,yr=t.unstable_scheduleCallback,Wr=t.unstable_cancelCallback,hn=t.unstable_shouldYield,Tn=t.unstable_requestPaint,Jr=t.unstable_now,sn=t.unstable_getCurrentPriorityLevel,on=t.unstable_ImmediatePriority,Fn=t.unstable_UserBlockingPriority,Qn=t.unstable_NormalPriority,gi=t.unstable_LowPriority,Je=t.unstable_IdlePriority,Ut=t.log,gr=t.unstable_setDisableYieldValue,Wt=null,Pt=null;function or(h){if(typeof Ut=="function"&&gr(h),Pt&&typeof Pt.setStrictMode=="function")try{Pt.setStrictMode(Wt,h)}catch{}}var Br=Math.clz32?Math.clz32:qr,Ur=Math.log,vn=Math.LN2;function qr(h){return h>>>=0,h===0?32:31-(Ur(h)/vn|0)|0}var Vn=256,Qr=262144,Nr=4194304;function rn(h){var m=h&42;if(m!==0)return m;switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return h&261888;case 262144:case 524288:case 1048576:case 2097152:return h&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return h&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return h}}function Xr(h,m,x){var E=h.pendingLanes;if(E===0)return 0;var H=0,W=h.suspendedLanes,be=h.pingedLanes;h=h.warmLanes;var Ke=E&134217727;return Ke!==0?(E=Ke&~W,E!==0?H=rn(E):(be&=Ke,be!==0?H=rn(be):x||(x=Ke&~h,x!==0&&(H=rn(x))))):(Ke=E&~W,Ke!==0?H=rn(Ke):be!==0?H=rn(be):x||(x=E&~h,x!==0&&(H=rn(x)))),H===0?0:m!==0&&m!==H&&(m&W)===0&&(W=H&-H,x=m&-m,W>=x||W===32&&(x&4194048)!==0)?m:H}function yn(h,m){return(h.pendingLanes&~(h.suspendedLanes&~h.pingedLanes)&m)===0}function Wn(h,m){switch(h){case 1:case 2:case 4:case 8:case 64:return m+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ds(){var h=Nr;return Nr<<=1,(Nr&62914560)===0&&(Nr=4194304),h}function vs(h){for(var m=[],x=0;31>x;x++)m.push(h);return m}function ys(h,m){h.pendingLanes|=m,m!==268435456&&(h.suspendedLanes=0,h.pingedLanes=0,h.warmLanes=0)}function $n(h,m,x,E,H,W){var be=h.pendingLanes;h.pendingLanes=x,h.suspendedLanes=0,h.pingedLanes=0,h.warmLanes=0,h.expiredLanes&=x,h.entangledLanes&=x,h.errorRecoveryDisabledLanes&=x,h.shellSuspendCounter=0;var Ke=h.entanglements,Et=h.expirationTimes,hr=h.hiddenUpdates;for(x=be&~x;0<x;){var Ir=31-Br(x),Pr=1<<Ir;Ke[Ir]=0,Et[Ir]=-1;var fr=hr[Ir];if(fr!==null)for(hr[Ir]=null,Ir=0;Ir<fr.length;Ir++){var mr=fr[Ir];mr!==null&&(mr.lane&=-536870913)}x&=~Pr}E!==0&&zr(h,E,0),W!==0&&H===0&&h.tag!==0&&(h.suspendedLanes|=W&~(be&~m))}function zr(h,m,x){h.pendingLanes|=m,h.suspendedLanes&=~m;var E=31-Br(m);h.entangledLanes|=m,h.entanglements[E]=h.entanglements[E]|1073741824|x&261930}function $i(h,m){var x=h.entangledLanes|=m;for(h=h.entanglements;x;){var E=31-Br(x),H=1<<E;H&m|h[E]&m&&(h[E]|=m),x&=~H}}function Os(h,m){var x=m&-m;return x=(x&42)!==0?1:bn(x),(x&(h.suspendedLanes|m))!==0?0:x}function bn(h){switch(h){case 2:h=1;break;case 8:h=4;break;case 32:h=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:h=128;break;case 268435456:h=134217728;break;default:h=0}return h}function La(h){return h&=-h,2<h?8<h?(h&134217727)!==0?32:268435456:8:2}function ws(){var h=Ae.p;return h!==0?h:(h=window.event,h===void 0?32:w6(h.type))}function Ts(h,m){var x=Ae.p;try{return Ae.p=h,m()}finally{Ae.p=x}}var Es=Math.random().toString(36).slice(2),Hi="__reactFiber$"+Es,Hs="__reactProps$"+Es,xs="__reactContainer$"+Es,_o="__reactEvents$"+Es,rs="__reactListeners$"+Es,Yu="__reactHandles$"+Es,Ua="__reactResources$"+Es,Bl="__reactMarker$"+Es;function yu(h){delete h[Hi],delete h[Hs],delete h[_o],delete h[rs],delete h[Yu]}function fl(h){var m=h[Hi];if(m)return m;for(var x=h.parentNode;x;){if(m=x[xs]||x[Hi]){if(x=m.alternate,m.child!==null||x!==null&&x.child!==null)for(h=a6(h);h!==null;){if(x=h[Hi])return x;h=a6(h)}return m}h=x,x=h.parentNode}return null}function Ps(h){if(h=h[Hi]||h[xs]){var m=h.tag;if(m===5||m===6||m===13||m===31||m===26||m===27||m===3)return h}return null}function oo(h){var m=h.tag;if(m===5||m===26||m===27||m===6)return h.stateNode;throw Error(n(33))}function Cs(h){var m=h[Ua];return m||(m=h[Ua]={hoistableStyles:new Map,hoistableScripts:new Map}),m}function aa(h){h[Bl]=!0}var bs=new Set,Al={};function Ga(h,m){lo(h,m),lo(h+"Capture",m)}function lo(h,m){for(Al[h]=m,h=0;h<m.length;h++)bs.add(m[h])}var Ec=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),oc={},Gc={};function Qs(h){return Yr.call(Gc,h)?!0:Yr.call(oc,h)?!1:Ec.test(h)?Gc[h]=!0:(oc[h]=!0,!1)}function Ws(h,m,x){if(Qs(m))if(x===null)h.removeAttribute(m);else{switch(typeof x){case"undefined":case"function":case"symbol":h.removeAttribute(m);return;case"boolean":var E=m.toLowerCase().slice(0,5);if(E!=="data-"&&E!=="aria-"){h.removeAttribute(m);return}}h.setAttribute(m,""+x)}}function ml(h,m,x){if(x===null)h.removeAttribute(m);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":h.removeAttribute(m);return}h.setAttribute(m,""+x)}}function Ra(h,m,x,E){if(E===null)h.removeAttribute(x);else{switch(typeof E){case"undefined":case"function":case"symbol":case"boolean":h.removeAttribute(x);return}h.setAttributeNS(m,x,""+E)}}function To(h){switch(typeof h){case"bigint":case"boolean":case"number":case"string":case"undefined":return h;case"object":return h;default:return""}}function za(h){var m=h.type;return(h=h.nodeName)&&h.toLowerCase()==="input"&&(m==="checkbox"||m==="radio")}function ci(h,m,x){var E=Object.getOwnPropertyDescriptor(h.constructor.prototype,m);if(!h.hasOwnProperty(m)&&typeof E<"u"&&typeof E.get=="function"&&typeof E.set=="function"){var H=E.get,W=E.set;return Object.defineProperty(h,m,{configurable:!0,get:function(){return H.call(this)},set:function(be){x=""+be,W.call(this,be)}}),Object.defineProperty(h,m,{enumerable:E.enumerable}),{getValue:function(){return x},setValue:function(be){x=""+be},stopTracking:function(){h._valueTracker=null,delete h[m]}}}}function ba(h){if(!h._valueTracker){var m=za(h)?"checked":"value";h._valueTracker=ci(h,m,""+h[m])}}function co(h){if(!h)return!1;var m=h._valueTracker;if(!m)return!0;var x=m.getValue(),E="";return h&&(E=za(h)?h.checked?"true":"false":h.value),h=E,h!==x?(m.setValue(h),!0):!1}function pa(h){if(h=h||(typeof document<"u"?document:void 0),typeof h>"u")return null;try{return h.activeElement||h.body}catch{return h.body}}var pl=/[\n"\\]/g;function fs(h){return h.replace(pl,function(m){return"\\"+m.charCodeAt(0).toString(16)+" "})}function Uo(h,m,x,E,H,W,be,Ke){h.name="",be!=null&&typeof be!="function"&&typeof be!="symbol"&&typeof be!="boolean"?h.type=be:h.removeAttribute("type"),m!=null?be==="number"?(m===0&&h.value===""||h.value!=m)&&(h.value=""+To(m)):h.value!==""+To(m)&&(h.value=""+To(m)):be!=="submit"&&be!=="reset"||h.removeAttribute("value"),m!=null?ha(h,be,To(m)):x!=null?ha(h,be,To(x)):E!=null&&h.removeAttribute("value"),H==null&&W!=null&&(h.defaultChecked=!!W),H!=null&&(h.checked=H&&typeof H!="function"&&typeof H!="symbol"),Ke!=null&&typeof Ke!="function"&&typeof Ke!="symbol"&&typeof Ke!="boolean"?h.name=""+To(Ke):h.removeAttribute("name")}function wa(h,m,x,E,H,W,be,Ke){if(W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"&&(h.type=W),m!=null||x!=null){if(!(W!=="submit"&&W!=="reset"||m!=null)){ba(h);return}x=x!=null?""+To(x):"",m=m!=null?""+To(m):x,Ke||m===h.value||(h.value=m),h.defaultValue=m}E=E??H,E=typeof E!="function"&&typeof E!="symbol"&&!!E,h.checked=Ke?h.checked:!!E,h.defaultChecked=!!E,be!=null&&typeof be!="function"&&typeof be!="symbol"&&typeof be!="boolean"&&(h.name=be),ba(h)}function ha(h,m,x){m==="number"&&pa(h.ownerDocument)===h||h.defaultValue===""+x||(h.defaultValue=""+x)}function Wa(h,m,x,E){if(h=h.options,m){m={};for(var H=0;H<x.length;H++)m["$"+x[H]]=!0;for(x=0;x<h.length;x++)H=m.hasOwnProperty("$"+h[x].value),h[x].selected!==H&&(h[x].selected=H),H&&E&&(h[x].defaultSelected=!0)}else{for(x=""+To(x),m=null,H=0;H<h.length;H++){if(h[H].value===x){h[H].selected=!0,E&&(h[H].defaultSelected=!0);return}m!==null||h[H].disabled||(m=h[H])}m!==null&&(m.selected=!0)}}function Ll(h,m,x){if(m!=null&&(m=""+To(m),m!==h.value&&(h.value=m),x==null)){h.defaultValue!==m&&(h.defaultValue=m);return}h.defaultValue=x!=null?""+To(x):""}function uo(h,m,x,E){if(m==null){if(E!=null){if(x!=null)throw Error(n(92));if(he(E)){if(1<E.length)throw Error(n(93));E=E[0]}x=E}x==null&&(x=""),m=x}x=To(m),h.defaultValue=x,E=h.textContent,E===x&&E!==""&&E!==null&&(h.value=E),ba(h)}function Vs(h,m){if(m){var x=h.firstChild;if(x&&x===h.lastChild&&x.nodeType===3){x.nodeValue=m;return}}h.textContent=m}var Ya=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tl(h,m,x){var E=m.indexOf("--")===0;x==null||typeof x=="boolean"||x===""?E?h.setProperty(m,""):m==="float"?h.cssFloat="":h[m]="":E?h.setProperty(m,x):typeof x!="number"||x===0||Ya.has(m)?m==="float"?h.cssFloat=x:h[m]=(""+x).trim():h[m]=x+"px"}function ho(h,m,x){if(m!=null&&typeof m!="object")throw Error(n(62));if(h=h.style,x!=null){for(var E in x)!x.hasOwnProperty(E)||m!=null&&m.hasOwnProperty(E)||(E.indexOf("--")===0?h.setProperty(E,""):E==="float"?h.cssFloat="":h[E]="");for(var H in m)E=m[H],m.hasOwnProperty(H)&&x[H]!==E&&tl(h,H,E)}else for(var W in m)m.hasOwnProperty(W)&&tl(h,W,m[W])}function ll(h){if(h.indexOf("-")===-1)return!1;switch(h){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),U=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Z(h){return U.test(""+h)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":h}function te(){}var P=null;function $(h){return h=h.target||h.srcElement||window,h.correspondingUseElement&&(h=h.correspondingUseElement),h.nodeType===3?h.parentNode:h}var q=null,de=null;function we(h){var m=Ps(h);if(m&&(h=m.stateNode)){var x=h[Hs]||null;e:switch(h=m.stateNode,m.type){case"input":if(Uo(h,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name),m=x.name,x.type==="radio"&&m!=null){for(x=h;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll('input[name="'+fs(""+m)+'"][type="radio"]'),m=0;m<x.length;m++){var E=x[m];if(E!==h&&E.form===h.form){var H=E[Hs]||null;if(!H)throw Error(n(90));Uo(E,H.value,H.defaultValue,H.defaultValue,H.checked,H.defaultChecked,H.type,H.name)}}for(m=0;m<x.length;m++)E=x[m],E.form===h.form&&co(E)}break e;case"textarea":Ll(h,x.value,x.defaultValue);break e;case"select":m=x.value,m!=null&&Wa(h,!!x.multiple,m,!1)}}}var Me=!1;function tt(h,m,x){if(Me)return h(m,x);Me=!0;try{var E=h(m);return E}finally{if(Me=!1,(q!==null||de!==null)&&(nu(),q&&(m=q,h=de,de=q=null,we(m),h)))for(m=0;m<h.length;m++)we(h[m])}}function I(h,m){var x=h.stateNode;if(x===null)return null;var E=x[Hs]||null;if(E===null)return null;x=E[m];e:switch(m){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(E=!E.disabled)||(h=h.type,E=!(h==="button"||h==="input"||h==="select"||h==="textarea")),h=!E;break e;default:h=!1}if(h)return null;if(x&&typeof x!="function")throw Error(n(231,m,typeof x));return x}var C=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),O=!1;if(C)try{var Q={};Object.defineProperty(Q,"passive",{get:function(){O=!0}}),window.addEventListener("test",Q,Q),window.removeEventListener("test",Q,Q)}catch{O=!1}var z=null,X=null,fe=null;function ie(){if(fe)return fe;var h,m=X,x=m.length,E,H="value"in z?z.value:z.textContent,W=H.length;for(h=0;h<x&&m[h]===H[h];h++);var be=x-h;for(E=1;E<=be&&m[x-E]===H[W-E];E++);return fe=H.slice(h,1<E?1-E:void 0)}function ae(h){var m=h.keyCode;return"charCode"in h?(h=h.charCode,h===0&&m===13&&(h=13)):h=m,h===10&&(h=13),32<=h||h===13?h:0}function Se(){return!0}function Re(){return!1}function Ge(h){function m(x,E,H,W,be){this._reactName=x,this._targetInst=H,this.type=E,this.nativeEvent=W,this.target=be,this.currentTarget=null;for(var Ke in h)h.hasOwnProperty(Ke)&&(x=h[Ke],this[Ke]=x?x(W):W[Ke]);return this.isDefaultPrevented=(W.defaultPrevented!=null?W.defaultPrevented:W.returnValue===!1)?Se:Re,this.isPropagationStopped=Re,this}return f(m.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=Se)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=Se)},persist:function(){},isPersistent:Se}),m}var et={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(h){return h.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xe=Ge(et),gt=f({},et,{view:0,detail:0}),At=Ge(gt),yt,qe,jt,Ht=f({},gt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vr,button:0,buttons:0,relatedTarget:function(h){return h.relatedTarget===void 0?h.fromElement===h.srcElement?h.toElement:h.fromElement:h.relatedTarget},movementX:function(h){return"movementX"in h?h.movementX:(h!==jt&&(jt&&h.type==="mousemove"?(yt=h.screenX-jt.screenX,qe=h.screenY-jt.screenY):qe=yt=0,jt=h),yt)},movementY:function(h){return"movementY"in h?h.movementY:qe}}),St=Ge(Ht),Ye=f({},Ht,{dataTransfer:0}),Mt=Ge(Ye),Ar=f({},gt,{relatedTarget:0}),zt=Ge(Ar),Ct=f({},et,{animationName:0,elapsedTime:0,pseudoElement:0}),cr=Ge(Ct),Xe=f({},et,{clipboardData:function(h){return"clipboardData"in h?h.clipboardData:window.clipboardData}}),lt=Ge(Xe),_t=f({},et,{data:0}),Tt=Ge(_t),dr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Er={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xt(h){var m=this.nativeEvent;return m.getModifierState?m.getModifierState(h):(h=Er[h])?!!m[h]:!1}function vr(){return Xt}var en=f({},gt,{key:function(h){if(h.key){var m=dr[h.key]||h.key;if(m!=="Unidentified")return m}return h.type==="keypress"?(h=ae(h),h===13?"Enter":String.fromCharCode(h)):h.type==="keydown"||h.type==="keyup"?pr[h.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vr,charCode:function(h){return h.type==="keypress"?ae(h):0},keyCode:function(h){return h.type==="keydown"||h.type==="keyup"?h.keyCode:0},which:function(h){return h.type==="keypress"?ae(h):h.type==="keydown"||h.type==="keyup"?h.keyCode:0}}),$r=Ge(en),Qe=f({},Ht,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vt=Ge(Qe),bt=f({},gt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vr}),Ft=Ge(bt),Qt=f({},et,{propertyName:0,elapsedTime:0,pseudoElement:0}),nr=Ge(Qt),xr=f({},Ht,{deltaX:function(h){return"deltaX"in h?h.deltaX:"wheelDeltaX"in h?-h.wheelDeltaX:0},deltaY:function(h){return"deltaY"in h?h.deltaY:"wheelDeltaY"in h?-h.wheelDeltaY:"wheelDelta"in h?-h.wheelDelta:0},deltaZ:0,deltaMode:0}),br=Ge(xr),Lr=f({},et,{newState:0,oldState:0}),tn=Ge(Lr),En=[9,13,27,32],wn=C&&"CompositionEvent"in window,ui=null;C&&"documentMode"in document&&(ui=document.documentMode);var st=C&&"TextEvent"in window&&!ui,An=C&&(!wn||ui&&8<ui&&11>=ui),_i=" ",ln=!1;function Hr(h,m){switch(h){case"keyup":return En.indexOf(m.keyCode)!==-1;case"keydown":return m.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mi(h){return h=h.detail,typeof h=="object"&&"data"in h?h.data:null}var Sn=!1;function ai(h,m){switch(h){case"compositionend":return mi(m);case"keypress":return m.which!==32?null:(ln=!0,_i);case"textInput":return h=m.data,h===_i&&ln?null:h;default:return null}}function Kn(h,m){if(Sn)return h==="compositionend"||!wn&&Hr(h,m)?(h=ie(),fe=X=z=null,Sn=!1,h):null;switch(h){case"paste":return null;case"keypress":if(!(m.ctrlKey||m.altKey||m.metaKey)||m.ctrlKey&&m.altKey){if(m.char&&1<m.char.length)return m.char;if(m.which)return String.fromCharCode(m.which)}return null;case"compositionend":return An&&m.locale!=="ko"?null:m.data;default:return null}}var Zs={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qi(h){var m=h&&h.nodeName&&h.nodeName.toLowerCase();return m==="input"?!!Zs[h.type]:m==="textarea"}function Bn(h,m,x,E){q?de?de.push(E):de=[E]:q=E,m=Y2(m,"onChange"),0<m.length&&(x=new xe("onChange","change",null,x,E),h.push({event:x,listeners:m}))}var cs=null,di=null;function Ln(h){GU(h,0)}function vi(h){var m=oo(h);if(co(m))return h}function Gn(h,m){if(h==="change")return m}var Bi=!1;if(C){var As;if(C){var Gi="oninput"in document;if(!Gi){var ns=document.createElement("div");ns.setAttribute("oninput","return;"),Gi=typeof ns.oninput=="function"}As=Gi}else As=!1;Bi=As&&(!document.documentMode||9<document.documentMode)}function Ea(){cs&&(cs.detachEvent("onpropertychange",oi),di=cs=null)}function oi(h){if(h.propertyName==="value"&&vi(di)){var m=[];Bn(m,di,h,$(h)),tt(Ln,m)}}function ga(h,m,x){h==="focusin"?(Ea(),cs=m,di=x,cs.attachEvent("onpropertychange",oi)):h==="focusout"&&Ea()}function ji(h){if(h==="selectionchange"||h==="keyup"||h==="keydown")return vi(di)}function ri(h,m){if(h==="click")return vi(m)}function Ys(h,m){if(h==="input"||h==="change")return vi(m)}function Pi(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var fn=typeof Object.is=="function"?Object.is:Pi;function Xi(h,m){if(fn(h,m))return!0;if(typeof h!="object"||h===null||typeof m!="object"||m===null)return!1;var x=Object.keys(h),E=Object.keys(m);if(x.length!==E.length)return!1;for(E=0;E<x.length;E++){var H=x[E];if(!Yr.call(m,H)||!fn(h[H],m[H]))return!1}return!0}function Fd(h){for(;h&&h.firstChild;)h=h.firstChild;return h}function Co(h,m){var x=Fd(h);h=0;for(var E;x;){if(x.nodeType===3){if(E=h+x.textContent.length,h<=m&&E>=m)return{node:x,offset:m-h};h=E}e:{for(;x;){if(x.nextSibling){x=x.nextSibling;break e}x=x.parentNode}x=void 0}x=Fd(x)}}function cl(h,m){return h&&m?h===m?!0:h&&h.nodeType===3?!1:m&&m.nodeType===3?cl(h,m.parentNode):"contains"in h?h.contains(m):h.compareDocumentPosition?!!(h.compareDocumentPosition(m)&16):!1:!1}function xu(h){h=h!=null&&h.ownerDocument!=null&&h.ownerDocument.defaultView!=null?h.ownerDocument.defaultView:window;for(var m=pa(h.document);m instanceof h.HTMLIFrameElement;){try{var x=typeof m.contentWindow.location.href=="string"}catch{x=!1}if(x)h=m.contentWindow;else break;m=pa(h.document)}return m}function xi(h){var m=h&&h.nodeName&&h.nodeName.toLowerCase();return m&&(m==="input"&&(h.type==="text"||h.type==="search"||h.type==="tel"||h.type==="url"||h.type==="password")||m==="textarea"||h.contentEditable==="true")}var $a=C&&"documentMode"in document&&11>=document.documentMode,qa=null,lc=null,Rl=null,fa=!1;function Xa(h,m,x){var E=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;fa||qa==null||qa!==pa(E)||(E=qa,"selectionStart"in E&&xi(E)?E={start:E.selectionStart,end:E.selectionEnd}:(E=(E.ownerDocument&&E.ownerDocument.defaultView||window).getSelection(),E={anchorNode:E.anchorNode,anchorOffset:E.anchorOffset,focusNode:E.focusNode,focusOffset:E.focusOffset}),Rl&&Xi(Rl,E)||(Rl=E,E=Y2(lc,"onSelect"),0<E.length&&(m=new xe("onSelect","select",null,m,x),h.push({event:m,listeners:E}),m.target=qa)))}function Ha(h,m){var x={};return x[h.toLowerCase()]=m.toLowerCase(),x["Webkit"+h]="webkit"+m,x["Moz"+h]="moz"+m,x}var zc={animationend:Ha("Animation","AnimationEnd"),animationiteration:Ha("Animation","AnimationIteration"),animationstart:Ha("Animation","AnimationStart"),transitionrun:Ha("Transition","TransitionRun"),transitionstart:Ha("Transition","TransitionStart"),transitioncancel:Ha("Transition","TransitionCancel"),transitionend:Ha("Transition","TransitionEnd")},jo={},Sc={};C&&(Sc=document.createElement("div").style,"AnimationEvent"in window||(delete zc.animationend.animation,delete zc.animationiteration.animation,delete zc.animationstart.animation),"TransitionEvent"in window||delete zc.transitionend.transition);function gl(h){if(jo[h])return jo[h];if(!zc[h])return h;var m=zc[h],x;for(x in m)if(m.hasOwnProperty(x)&&x in Sc)return jo[h]=m[x];return h}var Wc=gl("animationend"),Ol=gl("animationiteration"),_c=gl("animationstart"),Ud=gl("transitionrun"),Tc=gl("transitionstart"),Pl=gl("transitioncancel"),gd=gl("transitionend"),$d=new Map,qu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qu.push("scrollEnd");function cc(h,m){$d.set(h,m),Ga(m,[h])}var vd=typeof reportError=="function"?reportError:function(h){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var m=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof h=="object"&&h!==null&&typeof h.message=="string"?String(h.message):String(h),error:h});if(!window.dispatchEvent(m))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",h);return}console.error(h)},Dl=[],Yc=0,vl=0;function Xu(){for(var h=Yc,m=vl=Yc=0;m<h;){var x=Dl[m];Dl[m++]=null;var E=Dl[m];Dl[m++]=null;var H=Dl[m];Dl[m++]=null;var W=Dl[m];if(Dl[m++]=null,E!==null&&H!==null){var be=E.pending;be===null?H.next=H:(H.next=be.next,be.next=H),E.pending=H}W!==0&&Af(x,H,W)}}function yd(h,m,x,E){Dl[Yc++]=h,Dl[Yc++]=m,Dl[Yc++]=x,Dl[Yc++]=E,vl|=E,h.lanes|=E,h=h.alternate,h!==null&&(h.lanes|=E)}function sh(h,m,x,E){return yd(h,m,x,E),ah(h)}function bu(h,m){return yd(h,null,null,m),ah(h)}function Af(h,m,x){h.lanes|=x;var E=h.alternate;E!==null&&(E.lanes|=x);for(var H=!1,W=h.return;W!==null;)W.childLanes|=x,E=W.alternate,E!==null&&(E.childLanes|=x),W.tag===22&&(h=W.stateNode,h===null||h._visibility&1||(H=!0)),h=W,W=W.return;return h.tag===3?(W=h.stateNode,H&&m!==null&&(H=31-Br(x),h=W.hiddenUpdates,E=h[H],E===null?h[H]=[m]:E.push(m),m.lane=x|536870912),W):null}function ah(h){if(50<Rs)throw Rs=0,Gs=null,Error(n(185));for(var m=h.return;m!==null;)h=m,m=h.return;return h.tag===3?h.stateNode:null}var yl={};function Bh(h,m,x,E){this.tag=h,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=E,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ml(h,m,x,E){return new Bh(h,m,x,E)}function Ti(h){return h=h.prototype,!(!h||!h.isReactComponent)}function qc(h,m){var x=h.alternate;return x===null?(x=Ml(h.tag,m,h.key,h.mode),x.elementType=h.elementType,x.type=h.type,x.stateNode=h.stateNode,x.alternate=h,h.alternate=x):(x.pendingProps=m,x.type=h.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=h.flags&65011712,x.childLanes=h.childLanes,x.lanes=h.lanes,x.child=h.child,x.memoizedProps=h.memoizedProps,x.memoizedState=h.memoizedState,x.updateQueue=h.updateQueue,m=h.dependencies,x.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},x.sibling=h.sibling,x.index=h.index,x.ref=h.ref,x.refCleanup=h.refCleanup,x}function wu(h,m){h.flags&=65011714;var x=h.alternate;return x===null?(h.childLanes=0,h.lanes=m,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=x.childLanes,h.lanes=x.lanes,h.child=x.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=x.memoizedProps,h.memoizedState=x.memoizedState,h.updateQueue=x.updateQueue,h.type=x.type,m=x.dependencies,h.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext}),h}function Eu(h,m,x,E,H,W){var be=0;if(E=h,typeof h=="function")Ti(h)&&(be=1);else if(typeof h=="string")be=ele(h,x,je.current)?26:h==="html"||h==="head"||h==="body"?27:5;else e:switch(h){case G:return h=Ml(31,x,m,H),h.elementType=G,h.lanes=W,h;case y:return xd(x.children,H,W,m);case v:be=8,H|=24;break;case b:return h=Ml(12,x,m,H|2),h.elementType=b,h.lanes=W,h;case T:return h=Ml(13,x,m,H),h.elementType=T,h.lanes=W,h;case L:return h=Ml(19,x,m,H),h.elementType=L,h.lanes=W,h;default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case S:be=10;break e;case w:be=9;break e;case _:be=11;break e;case D:be=14;break e;case V:be=16,E=null;break e}be=29,x=Error(n(130,h===null?"null":typeof h,"")),E=null}return m=Ml(be,x,m,H),m.elementType=h,m.type=E,m.lanes=W,m}function xd(h,m,x,E){return h=Ml(7,h,E,m),h.lanes=x,h}function Xc(h,m,x){return h=Ml(6,h,null,m),h.lanes=x,h}function $o(h){var m=Ml(18,null,null,0);return m.stateNode=h,m}function Su(h,m,x){return m=Ml(4,h.children!==null?h.children:[],h.key,m),m.lanes=x,m.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},m}var oh=new WeakMap;function Ho(h,m){if(typeof h=="object"&&h!==null){var x=oh.get(h);return x!==void 0?x:(m={value:h,source:m,stack:qt(m)},oh.set(h,m),m)}return{value:h,source:m,stack:qt(m)}}var Hd=[],Fl=0,lh=null,_u=0,xl=[],rl=0,Tu=null,Cc=1,uc="";function jc(h,m){Hd[Fl++]=_u,Hd[Fl++]=lh,lh=h,_u=m}function Wf(h,m,x){xl[rl++]=Cc,xl[rl++]=uc,xl[rl++]=Tu,Tu=h;var E=Cc;h=uc;var H=32-Br(E)-1;E&=~(1<<H),x+=1;var W=32-Br(m)+H;if(30<W){var be=H-H%5;W=(E&(1<<be)-1).toString(32),E>>=be,H-=be,Cc=1<<32-Br(m)+H|x<<H|E,uc=W+h}else Cc=1<<W|x<<H|E,uc=h}function Zc(h){h.return!==null&&(jc(h,1),Wf(h,1,0))}function Yf(h){for(;h===lh;)lh=Hd[--Fl],Hd[Fl]=null,_u=Hd[--Fl],Hd[Fl]=null;for(;h===Tu;)Tu=xl[--rl],xl[rl]=null,uc=xl[--rl],xl[rl]=null,Cc=xl[--rl],xl[rl]=null}function ch(h,m){xl[rl++]=Cc,xl[rl++]=uc,xl[rl++]=Tu,Cc=m.id,uc=m.overflow,Tu=h}var No=null,va=null,mn=!1,bd=null,Nc=!1,uh=Error(n(519));function Ul(h){var m=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ic(Ho(m,h)),uh}function wd(h){var m=h.stateNode,x=h.type,E=h.memoizedProps;switch(m[Hi]=h,m[Hs]=E,x){case"dialog":qs("cancel",m),qs("close",m);break;case"iframe":case"object":case"embed":qs("load",m);break;case"video":case"audio":for(x=0;x<h1.length;x++)qs(h1[x],m);break;case"source":qs("error",m);break;case"img":case"image":case"link":qs("error",m),qs("load",m);break;case"details":qs("toggle",m);break;case"input":qs("invalid",m),wa(m,E.value,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name,!0);break;case"select":qs("invalid",m);break;case"textarea":qs("invalid",m),uo(m,E.value,E.defaultValue,E.children)}x=E.children,typeof x!="string"&&typeof x!="number"&&typeof x!="bigint"||m.textContent===""+x||E.suppressHydrationWarning===!0||qU(m.textContent,x)?(E.popover!=null&&(qs("beforetoggle",m),qs("toggle",m)),E.onScroll!=null&&qs("scroll",m),E.onScrollEnd!=null&&qs("scrollend",m),E.onClick!=null&&(m.onclick=te),m=!0):m=!1,m||Ul(h,!0)}function qf(h){for(No=h.return;No;)switch(No.tag){case 5:case 31:case 13:Nc=!1;return;case 27:case 3:Nc=!0;return;default:No=No.return}}function dh(h){if(h!==No)return!1;if(!mn)return qf(h),mn=!0,!1;var m=h.tag,x;if((x=m!==3&&m!==27)&&((x=m===5)&&(x=h.type,x=!(x!=="form"&&x!=="button")||J5(h.type,h.memoizedProps)),x=!x),x&&va&&Ul(h),qf(h),m===13){if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(n(317));va=s6(h)}else if(m===31){if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(n(317));va=s6(h)}else m===27?(m=va,Cg(h.type)?(h=iI,iI=null,va=h):va=m):va=No?wf(h.stateNode.nextSibling):null;return!0}function Qo(){va=No=null,mn=!1}function Qd(){var h=bd;return h!==null&&(It===null?It=h:It.push.apply(It,h),bd=null),h}function Ic(h){bd===null?bd=[h]:bd.push(h)}var mf=ve(null),dc=null,Zu=null;function $l(h,m,x){me(mf,m._currentValue),m._currentValue=x}function hc(h){h._currentValue=mf.current,se(mf)}function hh(h,m,x){for(;h!==null;){var E=h.alternate;if((h.childLanes&m)!==m?(h.childLanes|=m,E!==null&&(E.childLanes|=m)):E!==null&&(E.childLanes&m)!==m&&(E.childLanes|=m),h===x)break;h=h.return}}function kc(h,m,x,E){var H=h.child;for(H!==null&&(H.return=h);H!==null;){var W=H.dependencies;if(W!==null){var be=H.child;W=W.firstContext;e:for(;W!==null;){var Ke=W;W=H;for(var Et=0;Et<m.length;Et++)if(Ke.context===m[Et]){W.lanes|=x,Ke=W.alternate,Ke!==null&&(Ke.lanes|=x),hh(W.return,x,h),E||(be=null);break e}W=Ke.next}}else if(H.tag===18){if(be=H.return,be===null)throw Error(n(341));be.lanes|=x,W=be.alternate,W!==null&&(W.lanes|=x),hh(be,x,h),be=null}else be=H.child;if(be!==null)be.return=H;else for(be=H;be!==null;){if(be===h){be=null;break}if(H=be.sibling,H!==null){H.return=be.return,be=H;break}be=be.return}H=be}}function Ju(h,m,x,E){h=null;for(var H=m,W=!1;H!==null;){if(!W){if((H.flags&524288)!==0)W=!0;else if((H.flags&262144)!==0)break}if(H.tag===10){var be=H.alternate;if(be===null)throw Error(n(387));if(be=be.memoizedProps,be!==null){var Ke=H.type;fn(H.pendingProps.value,be.value)||(h!==null?h.push(Ke):h=[Ke])}}else if(H===ot.current){if(be=H.alternate,be===null)throw Error(n(387));be.memoizedState.memoizedState!==H.memoizedState.memoizedState&&(h!==null?h.push(g1):h=[g1])}H=H.return}h!==null&&kc(m,h,x,E),m.flags|=262144}function Vd(h){for(h=h.firstContext;h!==null;){if(!fn(h.context._currentValue,h.memoizedValue))return!0;h=h.next}return!1}function fc(h){dc=h,Zu=null,h=h.dependencies,h!==null&&(h.firstContext=null)}function Oa(h){return Xf(dc,h)}function fh(h,m){return dc===null&&fc(h),Xf(h,m)}function Xf(h,m){var x=m._currentValue;if(m={context:m,memoizedValue:x,next:null},Zu===null){if(h===null)throw Error(n(308));Zu=m,h.dependencies={lanes:0,firstContext:m},h.flags|=524288}else Zu=Zu.next=m;return x}var RA=typeof AbortController<"u"?AbortController:function(){var h=[],m=this.signal={aborted:!1,addEventListener:function(x,E){h.push(E)}};this.abort=function(){m.aborted=!0,h.forEach(function(x){return x()})}},Kd=t.unstable_scheduleCallback,Gd=t.unstable_NormalPriority,Za={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zd(){return{controller:new RA,data:new Map,refCount:0}}function Ah(h){h.refCount--,h.refCount===0&&Kd(Gd,function(){h.controller.abort()})}var re=null,Ne=0,dt=0,wt=null;function Vt(h,m){if(re===null){var x=re=[];Ne=0,dt=V5(),wt={status:"pending",value:void 0,then:function(E){x.push(E)}}}return Ne++,m.then(Cr,Cr),m}function Cr(){if(--Ne===0&&re!==null){wt!==null&&(wt.status="fulfilled");var h=re;re=null,dt=0,wt=null;for(var m=0;m<h.length;m++)(0,h[m])()}}function Dr(h,m){var x=[],E={status:"pending",value:null,reason:null,then:function(H){x.push(H)}};return h.then(function(){E.status="fulfilled",E.value=m;for(var H=0;H<x.length;H++)(0,x[H])(m)},function(H){for(E.status="rejected",E.reason=H,H=0;H<x.length;H++)(0,x[H])(void 0)}),E}var Rn=ne.S;ne.S=function(h,m){Tr=Jr(),typeof m=="object"&&m!==null&&typeof m.then=="function"&&Vt(h,m),Rn!==null&&Rn(h,m)};var On=ve(null);function Ni(){var h=On.current;return h!==null?h:Ms.pooledCache}function Di(h,m){m===null?me(On,On.current):me(On,m.pool)}function js(){var h=Ni();return h===null?null:{parent:Za._currentValue,pool:h}}var oa=Error(n(460)),Ja=Error(n(474)),Js=Error(n(542)),fo={then:function(){}};function k(h){return h=h.status,h==="fulfilled"||h==="rejected"}function Te(h,m,x){switch(x=h[x],x===void 0?h.push(m):x!==m&&(m.then(te,te),m=x),m.status){case"fulfilled":return m.value;case"rejected":throw h=m.reason,ht(h),h;default:if(typeof m.status=="string")m.then(te,te);else{if(h=Ms,h!==null&&100<h.shellSuspendCounter)throw Error(n(482));h=m,h.status="pending",h.then(function(E){if(m.status==="pending"){var H=m;H.status="fulfilled",H.value=E}},function(E){if(m.status==="pending"){var H=m;H.status="rejected",H.reason=E}})}switch(m.status){case"fulfilled":return m.value;case"rejected":throw h=m.reason,ht(h),h}throw He=m,oa}}function Y(h){try{var m=h._init;return m(h._payload)}catch(x){throw x!==null&&typeof x=="object"&&typeof x.then=="function"?(He=x,oa):x}}var He=null;function mt(){if(He===null)throw Error(n(459));var h=He;return He=null,h}function ht(h){if(h===oa||h===Js)throw Error(n(483))}var ir=null,Ot=0;function xn(h){var m=Ot;return Ot+=1,ir===null&&(ir=[]),Te(ir,h,m)}function Nt(h,m){m=m.props.ref,h.ref=m!==void 0?m:null}function sr(h,m){throw m.$$typeof===A?Error(n(525)):(h=Object.prototype.toString.call(m),Error(n(31,h==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":h)))}function Ii(h){function m(Yt,Lt){if(h){var ur=Yt.deletions;ur===null?(Yt.deletions=[Lt],Yt.flags|=16):ur.push(Lt)}}function x(Yt,Lt){if(!h)return null;for(;Lt!==null;)m(Yt,Lt),Lt=Lt.sibling;return null}function E(Yt){for(var Lt=new Map;Yt!==null;)Yt.key!==null?Lt.set(Yt.key,Yt):Lt.set(Yt.index,Yt),Yt=Yt.sibling;return Lt}function H(Yt,Lt){return Yt=qc(Yt,Lt),Yt.index=0,Yt.sibling=null,Yt}function W(Yt,Lt,ur){return Yt.index=ur,h?(ur=Yt.alternate,ur!==null?(ur=ur.index,ur<Lt?(Yt.flags|=67108866,Lt):ur):(Yt.flags|=67108866,Lt)):(Yt.flags|=1048576,Lt)}function be(Yt){return h&&Yt.alternate===null&&(Yt.flags|=67108866),Yt}function Ke(Yt,Lt,ur,Rr){return Lt===null||Lt.tag!==6?(Lt=Xc(ur,Yt.mode,Rr),Lt.return=Yt,Lt):(Lt=H(Lt,ur),Lt.return=Yt,Lt)}function Et(Yt,Lt,ur,Rr){var ki=ur.type;return ki===y?Ir(Yt,Lt,ur.props.children,Rr,ur.key):Lt!==null&&(Lt.elementType===ki||typeof ki=="object"&&ki!==null&&ki.$$typeof===V&&Y(ki)===Lt.type)?(Lt=H(Lt,ur.props),Nt(Lt,ur),Lt.return=Yt,Lt):(Lt=Eu(ur.type,ur.key,ur.props,null,Yt.mode,Rr),Nt(Lt,ur),Lt.return=Yt,Lt)}function hr(Yt,Lt,ur,Rr){return Lt===null||Lt.tag!==4||Lt.stateNode.containerInfo!==ur.containerInfo||Lt.stateNode.implementation!==ur.implementation?(Lt=Su(ur,Yt.mode,Rr),Lt.return=Yt,Lt):(Lt=H(Lt,ur.children||[]),Lt.return=Yt,Lt)}function Ir(Yt,Lt,ur,Rr,ki){return Lt===null||Lt.tag!==7?(Lt=xd(ur,Yt.mode,Rr,ki),Lt.return=Yt,Lt):(Lt=H(Lt,ur),Lt.return=Yt,Lt)}function Pr(Yt,Lt,ur){if(typeof Lt=="string"&&Lt!==""||typeof Lt=="number"||typeof Lt=="bigint")return Lt=Xc(""+Lt,Yt.mode,ur),Lt.return=Yt,Lt;if(typeof Lt=="object"&&Lt!==null){switch(Lt.$$typeof){case p:return ur=Eu(Lt.type,Lt.key,Lt.props,null,Yt.mode,ur),Nt(ur,Lt),ur.return=Yt,ur;case g:return Lt=Su(Lt,Yt.mode,ur),Lt.return=Yt,Lt;case V:return Lt=Y(Lt),Pr(Yt,Lt,ur)}if(he(Lt)||ue(Lt))return Lt=xd(Lt,Yt.mode,ur,null),Lt.return=Yt,Lt;if(typeof Lt.then=="function")return Pr(Yt,xn(Lt),ur);if(Lt.$$typeof===S)return Pr(Yt,fh(Yt,Lt),ur);sr(Yt,Lt)}return null}function fr(Yt,Lt,ur,Rr){var ki=Lt!==null?Lt.key:null;if(typeof ur=="string"&&ur!==""||typeof ur=="number"||typeof ur=="bigint")return ki!==null?null:Ke(Yt,Lt,""+ur,Rr);if(typeof ur=="object"&&ur!==null){switch(ur.$$typeof){case p:return ur.key===ki?Et(Yt,Lt,ur,Rr):null;case g:return ur.key===ki?hr(Yt,Lt,ur,Rr):null;case V:return ur=Y(ur),fr(Yt,Lt,ur,Rr)}if(he(ur)||ue(ur))return ki!==null?null:Ir(Yt,Lt,ur,Rr,null);if(typeof ur.then=="function")return fr(Yt,Lt,xn(ur),Rr);if(ur.$$typeof===S)return fr(Yt,Lt,fh(Yt,ur),Rr);sr(Yt,ur)}return null}function mr(Yt,Lt,ur,Rr,ki){if(typeof Rr=="string"&&Rr!==""||typeof Rr=="number"||typeof Rr=="bigint")return Yt=Yt.get(ur)||null,Ke(Lt,Yt,""+Rr,ki);if(typeof Rr=="object"&&Rr!==null){switch(Rr.$$typeof){case p:return Yt=Yt.get(Rr.key===null?ur:Rr.key)||null,Et(Lt,Yt,Rr,ki);case g:return Yt=Yt.get(Rr.key===null?ur:Rr.key)||null,hr(Lt,Yt,Rr,ki);case V:return Rr=Y(Rr),mr(Yt,Lt,ur,Rr,ki)}if(he(Rr)||ue(Rr))return Yt=Yt.get(ur)||null,Ir(Lt,Yt,Rr,ki,null);if(typeof Rr.then=="function")return mr(Yt,Lt,ur,xn(Rr),ki);if(Rr.$$typeof===S)return mr(Yt,Lt,ur,fh(Lt,Rr),ki);sr(Lt,Rr)}return null}function ei(Yt,Lt,ur,Rr){for(var ki=null,ja=null,fi=Lt,Bs=Lt=0,ra=null;fi!==null&&Bs<ur.length;Bs++){fi.index>Bs?(ra=fi,fi=null):ra=fi.sibling;var Na=fr(Yt,fi,ur[Bs],Rr);if(Na===null){fi===null&&(fi=ra);break}h&&fi&&Na.alternate===null&&m(Yt,fi),Lt=W(Na,Lt,Bs),ja===null?ki=Na:ja.sibling=Na,ja=Na,fi=ra}if(Bs===ur.length)return x(Yt,fi),mn&&jc(Yt,Bs),ki;if(fi===null){for(;Bs<ur.length;Bs++)fi=Pr(Yt,ur[Bs],Rr),fi!==null&&(Lt=W(fi,Lt,Bs),ja===null?ki=fi:ja.sibling=fi,ja=fi);return mn&&jc(Yt,Bs),ki}for(fi=E(fi);Bs<ur.length;Bs++)ra=mr(fi,Yt,Bs,ur[Bs],Rr),ra!==null&&(h&&ra.alternate!==null&&fi.delete(ra.key===null?Bs:ra.key),Lt=W(ra,Lt,Bs),ja===null?ki=ra:ja.sibling=ra,ja=ra);return h&&fi.forEach(function(Bg){return m(Yt,Bg)}),mn&&jc(Yt,Bs),ki}function Ui(Yt,Lt,ur,Rr){if(ur==null)throw Error(n(151));for(var ki=null,ja=null,fi=Lt,Bs=Lt=0,ra=null,Na=ur.next();fi!==null&&!Na.done;Bs++,Na=ur.next()){fi.index>Bs?(ra=fi,fi=null):ra=fi.sibling;var Bg=fr(Yt,fi,Na.value,Rr);if(Bg===null){fi===null&&(fi=ra);break}h&&fi&&Bg.alternate===null&&m(Yt,fi),Lt=W(Bg,Lt,Bs),ja===null?ki=Bg:ja.sibling=Bg,ja=Bg,fi=ra}if(Na.done)return x(Yt,fi),mn&&jc(Yt,Bs),ki;if(fi===null){for(;!Na.done;Bs++,Na=ur.next())Na=Pr(Yt,Na.value,Rr),Na!==null&&(Lt=W(Na,Lt,Bs),ja===null?ki=Na:ja.sibling=Na,ja=Na);return mn&&jc(Yt,Bs),ki}for(fi=E(fi);!Na.done;Bs++,Na=ur.next())Na=mr(fi,Yt,Bs,Na.value,Rr),Na!==null&&(h&&Na.alternate!==null&&fi.delete(Na.key===null?Bs:Na.key),Lt=W(Na,Lt,Bs),ja===null?ki=Na:ja.sibling=Na,ja=Na);return h&&fi.forEach(function(dle){return m(Yt,dle)}),mn&&jc(Yt,Bs),ki}function go(Yt,Lt,ur,Rr){if(typeof ur=="object"&&ur!==null&&ur.type===y&&ur.key===null&&(ur=ur.props.children),typeof ur=="object"&&ur!==null){switch(ur.$$typeof){case p:e:{for(var ki=ur.key;Lt!==null;){if(Lt.key===ki){if(ki=ur.type,ki===y){if(Lt.tag===7){x(Yt,Lt.sibling),Rr=H(Lt,ur.props.children),Rr.return=Yt,Yt=Rr;break e}}else if(Lt.elementType===ki||typeof ki=="object"&&ki!==null&&ki.$$typeof===V&&Y(ki)===Lt.type){x(Yt,Lt.sibling),Rr=H(Lt,ur.props),Nt(Rr,ur),Rr.return=Yt,Yt=Rr;break e}x(Yt,Lt);break}else m(Yt,Lt);Lt=Lt.sibling}ur.type===y?(Rr=xd(ur.props.children,Yt.mode,Rr,ur.key),Rr.return=Yt,Yt=Rr):(Rr=Eu(ur.type,ur.key,ur.props,null,Yt.mode,Rr),Nt(Rr,ur),Rr.return=Yt,Yt=Rr)}return be(Yt);case g:e:{for(ki=ur.key;Lt!==null;){if(Lt.key===ki)if(Lt.tag===4&&Lt.stateNode.containerInfo===ur.containerInfo&&Lt.stateNode.implementation===ur.implementation){x(Yt,Lt.sibling),Rr=H(Lt,ur.children||[]),Rr.return=Yt,Yt=Rr;break e}else{x(Yt,Lt);break}else m(Yt,Lt);Lt=Lt.sibling}Rr=Su(ur,Yt.mode,Rr),Rr.return=Yt,Yt=Rr}return be(Yt);case V:return ur=Y(ur),go(Yt,Lt,ur,Rr)}if(he(ur))return ei(Yt,Lt,ur,Rr);if(ue(ur)){if(ki=ue(ur),typeof ki!="function")throw Error(n(150));return ur=ki.call(ur),Ui(Yt,Lt,ur,Rr)}if(typeof ur.then=="function")return go(Yt,Lt,xn(ur),Rr);if(ur.$$typeof===S)return go(Yt,Lt,fh(Yt,ur),Rr);sr(Yt,ur)}return typeof ur=="string"&&ur!==""||typeof ur=="number"||typeof ur=="bigint"?(ur=""+ur,Lt!==null&&Lt.tag===6?(x(Yt,Lt.sibling),Rr=H(Lt,ur),Rr.return=Yt,Yt=Rr):(x(Yt,Lt),Rr=Xc(ur,Yt.mode,Rr),Rr.return=Yt,Yt=Rr),be(Yt)):x(Yt,Lt)}return function(Yt,Lt,ur,Rr){try{Ot=0;var ki=go(Yt,Lt,ur,Rr);return ir=null,ki}catch(fi){if(fi===oa||fi===Js)throw fi;var ja=Ml(29,fi,null,Yt.mode);return ja.lanes=Rr,ja.return=Yt,ja}}}var cn=Ii(!0),Fr=Ii(!1),wr=!1;function la(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ci(h,m){h=h.updateQueue,m.updateQueue===h&&(m.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,callbacks:null})}function li(h){return{lane:h,tag:0,payload:null,callback:null,next:null}}function wi(h,m,x){var E=h.updateQueue;if(E===null)return null;if(E=E.shared,(Ks&2)!==0){var H=E.pending;return H===null?m.next=m:(m.next=H.next,H.next=m),E.pending=m,m=ah(h),Af(h,null,x),m}return yd(h,E,m,x),ah(h)}function zi(h,m,x){if(m=m.updateQueue,m!==null&&(m=m.shared,(x&4194048)!==0)){var E=m.lanes;E&=h.pendingLanes,x|=E,m.lanes=x,$i(h,x)}}function an(h,m){var x=h.updateQueue,E=h.alternate;if(E!==null&&(E=E.updateQueue,x===E)){var H=null,W=null;if(x=x.firstBaseUpdate,x!==null){do{var be={lane:x.lane,tag:x.tag,payload:x.payload,callback:null,next:null};W===null?H=W=be:W=W.next=be,x=x.next}while(x!==null);W===null?H=W=m:W=W.next=m}else H=W=m;x={baseState:E.baseState,firstBaseUpdate:H,lastBaseUpdate:W,shared:E.shared,callbacks:E.callbacks},h.updateQueue=x;return}h=x.lastBaseUpdate,h===null?x.firstBaseUpdate=m:h.next=m,x.lastBaseUpdate=m}var Wi=!1;function ca(){if(Wi){var h=wt;if(h!==null)throw h}}function ni(h,m,x,E){Wi=!1;var H=h.updateQueue;wr=!1;var W=H.firstBaseUpdate,be=H.lastBaseUpdate,Ke=H.shared.pending;if(Ke!==null){H.shared.pending=null;var Et=Ke,hr=Et.next;Et.next=null,be===null?W=hr:be.next=hr,be=Et;var Ir=h.alternate;Ir!==null&&(Ir=Ir.updateQueue,Ke=Ir.lastBaseUpdate,Ke!==be&&(Ke===null?Ir.firstBaseUpdate=hr:Ke.next=hr,Ir.lastBaseUpdate=Et))}if(W!==null){var Pr=H.baseState;be=0,Ir=hr=Et=null,Ke=W;do{var fr=Ke.lane&-536870913,mr=fr!==Ke.lane;if(mr?(os&fr)===fr:(E&fr)===fr){fr!==0&&fr===dt&&(Wi=!0),Ir!==null&&(Ir=Ir.next={lane:0,tag:Ke.tag,payload:Ke.payload,callback:null,next:null});e:{var ei=h,Ui=Ke;fr=m;var go=x;switch(Ui.tag){case 1:if(ei=Ui.payload,typeof ei=="function"){Pr=ei.call(go,Pr,fr);break e}Pr=ei;break e;case 3:ei.flags=ei.flags&-65537|128;case 0:if(ei=Ui.payload,fr=typeof ei=="function"?ei.call(go,Pr,fr):ei,fr==null)break e;Pr=f({},Pr,fr);break e;case 2:wr=!0}}fr=Ke.callback,fr!==null&&(h.flags|=64,mr&&(h.flags|=8192),mr=H.callbacks,mr===null?H.callbacks=[fr]:mr.push(fr))}else mr={lane:fr,tag:Ke.tag,payload:Ke.payload,callback:Ke.callback,next:null},Ir===null?(hr=Ir=mr,Et=Pr):Ir=Ir.next=mr,be|=fr;if(Ke=Ke.next,Ke===null){if(Ke=H.shared.pending,Ke===null)break;mr=Ke,Ke=mr.next,mr.next=null,H.lastBaseUpdate=mr,H.shared.pending=null}}while(!0);Ir===null&&(Et=Pr),H.baseState=Et,H.firstBaseUpdate=hr,H.lastBaseUpdate=Ir,W===null&&(H.shared.lanes=0),M|=be,h.lanes=be,h.memoizedState=Pr}}function Ns(h,m){if(typeof h!="function")throw Error(n(191,h));h.call(m)}function is(h,m){var x=h.callbacks;if(x!==null)for(h.callbacks=null,h=0;h<x.length;h++)Ns(x[h],m)}var Pn=ve(null),bi=ve(0);function bl(h,m){h=N,me(bi,h),me(Pn,m),N=h|m.baseLanes}function Cu(){me(bi,N),me(Pn,Pn.current)}function Bc(){N=bi.current,se(Pn),se(bi)}var Vo=ve(null),wl=null;function Sa(h){var m=h.alternate;me(eo,eo.current&1),me(Vo,h),wl===null&&(m===null||Pn.current!==null||m.memoizedState!==null)&&(wl=h)}function OA(h){me(eo,eo.current),me(Vo,h),wl===null&&(wl=h)}function Wd(h){h.tag===22?(me(eo,eo.current),me(Vo,h),wl===null&&(wl=h)):Ac()}function Ac(){me(eo,eo.current),me(Vo,Vo.current)}function mc(h){se(Vo),wl===h&&(wl=null),se(eo)}var eo=ve(0);function pf(h){for(var m=h;m!==null;){if(m.tag===13){var x=m.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||rI(x)||nI(x)))return m}else if(m.tag===19&&(m.memoizedProps.revealOrder==="forwards"||m.memoizedProps.revealOrder==="backwards"||m.memoizedProps.revealOrder==="unstable_legacy-backwards"||m.memoizedProps.revealOrder==="together")){if((m.flags&128)!==0)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===h)break;for(;m.sibling===null;){if(m.return===null||m.return===h)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}var ed=0,Li=null,Ds=null,Pa=null,mh=!1,ju=!1,td=!1,Hl=0,Nu=0,Is=null,ya=0;function ss(){throw Error(n(321))}function Ko(h,m){if(m===null)return!1;for(var x=0;x<m.length&&x<h.length;x++)if(!fn(h[x],m[x]))return!1;return!0}function Yd(h,m,x,E,H,W){return ed=W,Li=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,ne.H=h===null||h.memoizedState===null?$0:yg,td=!1,W=x(E,H),td=!1,ju&&(W=Lh(m,x,E,H)),Zf(h),W}function Zf(h){ne.H=rp;var m=Ds!==null&&Ds.next!==null;if(ed=0,Pa=Ds=Li=null,mh=!1,Nu=0,Is=null,m)throw Error(n(300));h===null||Oe||(h=h.dependencies,h!==null&&Vd(h)&&(Oe=!0))}function Lh(h,m,x,E){Li=h;var H=0;do{if(ju&&(Is=null),Nu=0,ju=!1,25<=H)throw Error(n(301));if(H+=1,Pa=Ds=null,h.updateQueue!=null){var W=h.updateQueue;W.lastEffect=null,W.events=null,W.stores=null,W.memoCache!=null&&(W.memoCache.index=0)}ne.H=xg,W=m(x,E)}while(ju);return W}function PA(){var h=ne.H,m=h.useState()[0];return m=typeof m.then=="function"?Rh(m):m,h=h.useState()[0],(Ds!==null?Ds.memoizedState:null)!==h&&(Li.flags|=1024),m}function Vm(){var h=Hl!==0;return Hl=0,h}function Km(h,m,x){m.updateQueue=h.updateQueue,m.flags&=-2053,h.lanes&=~x}function Gm(h){if(mh){for(h=h.memoizedState;h!==null;){var m=h.queue;m!==null&&(m.pending=null),h=h.next}mh=!1}ed=0,Pa=Ds=Li=null,ju=!1,Nu=Hl=0,Is=null}function pc(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pa===null?Li.memoizedState=Pa=h:Pa=Pa.next=h,Pa}function Ao(){if(Ds===null){var h=Li.alternate;h=h!==null?h.memoizedState:null}else h=Ds.next;var m=Pa===null?Li.memoizedState:Pa.next;if(m!==null)Pa=m,Ds=h;else{if(h===null)throw Li.alternate===null?Error(n(467)):Error(n(310));Ds=h,h={memoizedState:Ds.memoizedState,baseState:Ds.baseState,baseQueue:Ds.baseQueue,queue:Ds.queue,next:null},Pa===null?Li.memoizedState=Pa=h:Pa=Pa.next=h}return Pa}function zm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Rh(h){var m=Nu;return Nu+=1,Is===null&&(Is=[]),h=Te(Is,h,m),m=Li,(Pa===null?m.memoizedState:Pa.next)===null&&(m=m.alternate,ne.H=m===null||m.memoizedState===null?$0:yg),h}function Wm(h){if(h!==null&&typeof h=="object"){if(typeof h.then=="function")return Rh(h);if(h.$$typeof===S)return Oa(h)}throw Error(n(438,String(h)))}function Jc(h){var m=null,x=Li.updateQueue;if(x!==null&&(m=x.memoCache),m==null){var E=Li.alternate;E!==null&&(E=E.updateQueue,E!==null&&(E=E.memoCache,E!=null&&(m={data:E.data.map(function(H){return H.slice()}),index:0})))}if(m==null&&(m={data:[],index:0}),x===null&&(x=zm(),Li.updateQueue=x),x.memoCache=m,x=m.data[m.index],x===void 0)for(x=m.data[m.index]=Array(h),E=0;E<h;E++)x[E]=J;return m.index++,x}function Ed(h,m){return typeof m=="function"?m(h):m}function Ym(h){var m=Ao();return sg(m,Ds,h)}function sg(h,m,x){var E=h.queue;if(E===null)throw Error(n(311));E.lastRenderedReducer=x;var H=h.baseQueue,W=E.pending;if(W!==null){if(H!==null){var be=H.next;H.next=W.next,W.next=be}m.baseQueue=H=W,E.pending=null}if(W=h.baseState,H===null)h.memoizedState=W;else{m=H.next;var Ke=be=null,Et=null,hr=m,Ir=!1;do{var Pr=hr.lane&-536870913;if(Pr!==hr.lane?(os&Pr)===Pr:(ed&Pr)===Pr){var fr=hr.revertLane;if(fr===0)Et!==null&&(Et=Et.next={lane:0,revertLane:0,gesture:null,action:hr.action,hasEagerState:hr.hasEagerState,eagerState:hr.eagerState,next:null}),Pr===dt&&(Ir=!0);else if((ed&fr)===fr){hr=hr.next,fr===dt&&(Ir=!0);continue}else Pr={lane:0,revertLane:hr.revertLane,gesture:null,action:hr.action,hasEagerState:hr.hasEagerState,eagerState:hr.eagerState,next:null},Et===null?(Ke=Et=Pr,be=W):Et=Et.next=Pr,Li.lanes|=fr,M|=fr;Pr=hr.action,td&&x(W,Pr),W=hr.hasEagerState?hr.eagerState:x(W,Pr)}else fr={lane:Pr,revertLane:hr.revertLane,gesture:hr.gesture,action:hr.action,hasEagerState:hr.hasEagerState,eagerState:hr.eagerState,next:null},Et===null?(Ke=Et=fr,be=W):Et=Et.next=fr,Li.lanes|=Pr,M|=Pr;hr=hr.next}while(hr!==null&&hr!==m);if(Et===null?be=W:Et.next=Ke,!fn(W,h.memoizedState)&&(Oe=!0,Ir&&(x=wt,x!==null)))throw x;h.memoizedState=W,h.baseState=be,h.baseQueue=Et,E.lastRenderedState=W}return H===null&&(E.lanes=0),[h.memoizedState,E.dispatch]}function ag(h){var m=Ao(),x=m.queue;if(x===null)throw Error(n(311));x.lastRenderedReducer=h;var E=x.dispatch,H=x.pending,W=m.memoizedState;if(H!==null){x.pending=null;var be=H=H.next;do W=h(W,be.action),be=be.next;while(be!==H);fn(W,m.memoizedState)||(Oe=!0),m.memoizedState=W,m.baseQueue===null&&(m.baseState=W),x.lastRenderedState=W}return[W,E]}function R0(h,m,x){var E=Li,H=Ao(),W=mn;if(W){if(x===void 0)throw Error(n(407));x=x()}else x=m();var be=!fn((Ds||H).memoizedState,x);if(be&&(H.memoizedState=x,Oe=!0),H=H.queue,FA(qm.bind(null,E,H,h),[h]),H.getSnapshot!==m||be||Pa!==null&&Pa.memoizedState.tag&1){if(E.flags|=2048,MA(9,{destroy:void 0},og.bind(null,E,H,x,m),null),Ms===null)throw Error(n(349));W||(ed&127)!==0||O0(E,m,x)}return x}function O0(h,m,x){h.flags|=16384,h={getSnapshot:m,value:x},m=Li.updateQueue,m===null?(m=zm(),Li.updateQueue=m,m.stores=[h]):(x=m.stores,x===null?m.stores=[h]:x.push(h))}function og(h,m,x,E){m.value=x,m.getSnapshot=E,Iu(m)&&rd(h)}function qm(h,m,x){return x(function(){Iu(m)&&rd(h)})}function Iu(h){var m=h.getSnapshot;h=h.value;try{var x=m();return!fn(h,x)}catch{return!0}}function rd(h){var m=bu(h,2);m!==null&&to(m,h,2)}function Jf(h){var m=pc();if(typeof h=="function"){var x=h;if(h=x(),td){or(!0);try{x()}finally{or(!1)}}}return m.memoizedState=m.baseState=h,m.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ed,lastRenderedState:h},m}function Xm(h,m,x,E){return h.baseState=x,sg(h,Ds,typeof E=="function"?E:Ed)}function lg(h,m,x,E,H){if(yh(h))throw Error(n(485));if(h=m.action,h!==null){var W={payload:H,action:h,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(be){W.listeners.push(be)}};ne.T!==null?x(!0):W.isTransition=!1,E(W),x=m.pending,x===null?(W.next=m.pending=W,DA(m,W)):(W.next=x.next,m.pending=x.next=W)}}function DA(h,m){var x=m.action,E=m.payload,H=h.state;if(m.isTransition){var W=ne.T,be={};ne.T=be;try{var Ke=x(H,E),Et=ne.S;Et!==null&&Et(be,Ke),nl(h,m,Ke)}catch(hr){cg(h,m,hr)}finally{W!==null&&be.types!==null&&(W.types=be.types),ne.T=W}}else try{W=x(H,E),nl(h,m,W)}catch(hr){cg(h,m,hr)}}function nl(h,m,x){x!==null&&typeof x=="object"&&typeof x.then=="function"?x.then(function(E){gf(h,m,E)},function(E){return cg(h,m,E)}):gf(h,m,x)}function gf(h,m,x){m.status="fulfilled",m.value=x,ug(m),h.state=x,m=h.pending,m!==null&&(x=m.next,x===m?h.pending=null:(x=x.next,m.next=x,DA(h,x)))}function cg(h,m,x){var E=h.pending;if(h.pending=null,E!==null){E=E.next;do m.status="rejected",m.reason=x,ug(m),m=m.next;while(m!==E)}h.action=null}function ug(h){h=h.listeners;for(var m=0;m<h.length;m++)(0,h[m])()}function Zm(h,m){return m}function eA(h,m){if(mn){var x=Ms.formState;if(x!==null){e:{var E=Li;if(mn){if(va){t:{for(var H=va,W=Nc;H.nodeType!==8;){if(!W){H=null;break t}if(H=wf(H.nextSibling),H===null){H=null;break t}}W=H.data,H=W==="F!"||W==="F"?H:null}if(H){va=wf(H.nextSibling),E=H.data==="F!";break e}}Ul(E)}E=!1}E&&(m=x[0])}}return x=pc(),x.memoizedState=x.baseState=m,E={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zm,lastRenderedState:m},x.queue=E,x=gg.bind(null,Li,E),E.dispatch=x,E=Jf(!1),W=vf.bind(null,Li,!1,E.queue),E=pc(),H={state:m,dispatch:null,action:h,pending:null},E.queue=H,x=lg.bind(null,Li,H,W,x),H.dispatch=x,E.memoizedState=h,[m,x,!1]}function dg(h){var m=Ao();return yy(m,Ds,h)}function yy(h,m,x){if(m=sg(h,m,Zm)[0],h=Ym(Ed)[0],typeof m=="object"&&m!==null&&typeof m.then=="function")try{var E=Rh(m)}catch(be){throw be===oa?Js:be}else E=m;m=Ao();var H=m.queue,W=H.dispatch;return x!==m.memoizedState&&(Li.flags|=2048,MA(9,{destroy:void 0},u1.bind(null,H,x),null)),[E,W,h]}function u1(h,m){h.action=m}function P0(h){var m=Ao(),x=Ds;if(x!==null)return yy(m,x,h);Ao(),m=m.memoizedState,x=Ao();var E=x.queue.dispatch;return x.memoizedState=h,[m,E,!1]}function MA(h,m,x,E){return h={tag:h,create:x,deps:E,inst:m,next:null},m=Li.updateQueue,m===null&&(m=zm(),Li.updateQueue=m),x=m.lastEffect,x===null?m.lastEffect=h.next=h:(E=x.next,x.next=h,h.next=E,m.lastEffect=h),h}function xy(){return Ao().memoizedState}function hg(h,m,x,E){var H=pc();Li.flags|=h,H.memoizedState=MA(1|m,{destroy:void 0},x,E===void 0?null:E)}function fg(h,m,x,E){var H=Ao();E=E===void 0?null:E;var W=H.memoizedState.inst;Ds!==null&&E!==null&&Ko(E,Ds.memoizedState.deps)?H.memoizedState=MA(m,W,x,E):(Li.flags|=h,H.memoizedState=MA(1|m,W,x,E))}function D0(h,m){hg(8390656,8,h,m)}function FA(h,m){fg(2048,8,h,m)}function Ag(h){Li.flags|=4;var m=Li.updateQueue;if(m===null)m=zm(),Li.updateQueue=m,m.events=[h];else{var x=m.events;x===null?m.events=[h]:x.push(h)}}function tA(h){var m=Ao().memoizedState;return Ag({ref:m,nextImpl:h}),function(){if((Ks&2)!==0)throw Error(n(440));return m.impl.apply(void 0,arguments)}}function mg(h,m){return fg(4,2,h,m)}function by(h,m){return fg(4,4,h,m)}function M0(h,m){if(typeof m=="function"){h=h();var x=m(h);return function(){typeof x=="function"?x():m(null)}}if(m!=null)return h=h(),m.current=h,function(){m.current=null}}function wy(h,m,x){x=x!=null?x.concat([h]):null,fg(4,4,M0.bind(null,m,h),x)}function F0(){}function Jm(h,m){var x=Ao();m=m===void 0?null:m;var E=x.memoizedState;return m!==null&&Ko(m,E[1])?E[0]:(x.memoizedState=[h,m],h)}function ep(h,m){var x=Ao();m=m===void 0?null:m;var E=x.memoizedState;if(m!==null&&Ko(m,E[1]))return E[0];if(E=h(),td){or(!0);try{h()}finally{or(!1)}}return x.memoizedState=[E,m],E}function ph(h,m,x){return x===void 0||(ed&1073741824)!==0&&(os&261930)===0?h.memoizedState=m:(h.memoizedState=x,h=_l(),Li.lanes|=h,M|=h,x)}function nd(h,m,x,E){return fn(x,m)?x:Pn.current!==null?(h=ph(h,x,E),fn(h,m)||(Oe=!0),h):(ed&42)===0||(ed&1073741824)!==0&&(os&261930)===0?(Oe=!0,h.memoizedState=x):(h=_l(),Li.lanes|=h,M|=h,m)}function Sd(h,m,x,E,H){var W=Ae.p;Ae.p=W!==0&&8>W?W:8;var be=ne.T,Ke={};ne.T=Ke,vf(h,!1,m,x);try{var Et=H(),hr=ne.S;if(hr!==null&&hr(Ke,Et),Et!==null&&typeof Et=="object"&&typeof Et.then=="function"){var Ir=Dr(Et,E);vh(h,m,Ir,pi(h))}else vh(h,m,E,pi(h))}catch(Pr){vh(h,m,{then:function(){},status:"rejected",reason:Pr},pi())}finally{Ae.p=W,be!==null&&Ke.types!==null&&(be.types=Ke.types),ne.T=be}}function Ey(){}function tp(h,m,x,E){if(h.tag!==5)throw Error(n(476));var H=gh(h).queue;Sd(h,H,m,oe,x===null?Ey:function(){return id(h),x(E)})}function gh(h){var m=h.memoizedState;if(m!==null)return m;m={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ed,lastRenderedState:oe},next:null};var x={};return m.next={memoizedState:x,baseState:x,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ed,lastRenderedState:x},next:null},h.memoizedState=m,h=h.alternate,h!==null&&(h.memoizedState=m),m}function id(h){var m=gh(h);m.next===null&&(m=h.alternate.memoizedState),vh(h,m.next.queue,{},pi())}function UA(){return Oa(g1)}function U0(){return Ao().memoizedState}function pg(){return Ao().memoizedState}function Sy(h){for(var m=h.return;m!==null;){switch(m.tag){case 24:case 3:var x=pi();h=li(x);var E=wi(m,h,x);E!==null&&(to(E,m,x),zi(E,m,x)),m={cache:zd()},h.payload=m;return}m=m.return}}function _y(h,m,x){var E=pi();x={lane:E,revertLane:0,gesture:null,action:x,hasEagerState:!1,eagerState:null,next:null},yh(h)?$A(m,x):(x=sh(h,m,x,E),x!==null&&(to(x,h,E),vg(x,m,E)))}function gg(h,m,x){var E=pi();vh(h,m,x,E)}function vh(h,m,x,E){var H={lane:E,revertLane:0,gesture:null,action:x,hasEagerState:!1,eagerState:null,next:null};if(yh(h))$A(m,H);else{var W=h.alternate;if(h.lanes===0&&(W===null||W.lanes===0)&&(W=m.lastRenderedReducer,W!==null))try{var be=m.lastRenderedState,Ke=W(be,x);if(H.hasEagerState=!0,H.eagerState=Ke,fn(Ke,be))return yd(h,m,H,0),Ms===null&&Xu(),!1}catch{}if(x=sh(h,m,H,E),x!==null)return to(x,h,E),vg(x,m,E),!0}return!1}function vf(h,m,x,E){if(E={lane:2,revertLane:V5(),gesture:null,action:E,hasEagerState:!1,eagerState:null,next:null},yh(h)){if(m)throw Error(n(479))}else m=sh(h,x,E,2),m!==null&&to(m,h,2)}function yh(h){var m=h.alternate;return h===Li||m!==null&&m===Li}function $A(h,m){ju=mh=!0;var x=h.pending;x===null?m.next=m:(m.next=x.next,x.next=m),h.pending=m}function vg(h,m,x){if((x&4194048)!==0){var E=m.lanes;E&=h.pendingLanes,x|=E,m.lanes=x,$i(h,x)}}var rp={readContext:Oa,use:Wm,useCallback:ss,useContext:ss,useEffect:ss,useImperativeHandle:ss,useLayoutEffect:ss,useInsertionEffect:ss,useMemo:ss,useReducer:ss,useRef:ss,useState:ss,useDebugValue:ss,useDeferredValue:ss,useTransition:ss,useSyncExternalStore:ss,useId:ss,useHostTransitionStatus:ss,useFormState:ss,useActionState:ss,useOptimistic:ss,useMemoCache:ss,useCacheRefresh:ss};rp.useEffectEvent=ss;var $0={readContext:Oa,use:Wm,useCallback:function(h,m){return pc().memoizedState=[h,m===void 0?null:m],h},useContext:Oa,useEffect:D0,useImperativeHandle:function(h,m,x){x=x!=null?x.concat([h]):null,hg(4194308,4,M0.bind(null,m,h),x)},useLayoutEffect:function(h,m){return hg(4194308,4,h,m)},useInsertionEffect:function(h,m){hg(4,2,h,m)},useMemo:function(h,m){var x=pc();m=m===void 0?null:m;var E=h();if(td){or(!0);try{h()}finally{or(!1)}}return x.memoizedState=[E,m],E},useReducer:function(h,m,x){var E=pc();if(x!==void 0){var H=x(m);if(td){or(!0);try{x(m)}finally{or(!1)}}}else H=m;return E.memoizedState=E.baseState=H,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:H},E.queue=h,h=h.dispatch=_y.bind(null,Li,h),[E.memoizedState,h]},useRef:function(h){var m=pc();return h={current:h},m.memoizedState=h},useState:function(h){h=Jf(h);var m=h.queue,x=gg.bind(null,Li,m);return m.dispatch=x,[h.memoizedState,x]},useDebugValue:F0,useDeferredValue:function(h,m){var x=pc();return ph(x,h,m)},useTransition:function(){var h=Jf(!1);return h=Sd.bind(null,Li,h.queue,!0,!1),pc().memoizedState=h,[!1,h]},useSyncExternalStore:function(h,m,x){var E=Li,H=pc();if(mn){if(x===void 0)throw Error(n(407));x=x()}else{if(x=m(),Ms===null)throw Error(n(349));(os&127)!==0||O0(E,m,x)}H.memoizedState=x;var W={value:x,getSnapshot:m};return H.queue=W,D0(qm.bind(null,E,W,h),[h]),E.flags|=2048,MA(9,{destroy:void 0},og.bind(null,E,W,x,m),null),x},useId:function(){var h=pc(),m=Ms.identifierPrefix;if(mn){var x=uc,E=Cc;x=(E&~(1<<32-Br(E)-1)).toString(32)+x,m="_"+m+"R_"+x,x=Hl++,0<x&&(m+="H"+x.toString(32)),m+="_"}else x=ya++,m="_"+m+"r_"+x.toString(32)+"_";return h.memoizedState=m},useHostTransitionStatus:UA,useFormState:eA,useActionState:eA,useOptimistic:function(h){var m=pc();m.memoizedState=m.baseState=h;var x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return m.queue=x,m=vf.bind(null,Li,!0,x),x.dispatch=m,[h,m]},useMemoCache:Jc,useCacheRefresh:function(){return pc().memoizedState=Sy.bind(null,Li)},useEffectEvent:function(h){var m=pc(),x={impl:h};return m.memoizedState=x,function(){if((Ks&2)!==0)throw Error(n(440));return x.impl.apply(void 0,arguments)}}},yg={readContext:Oa,use:Wm,useCallback:Jm,useContext:Oa,useEffect:FA,useImperativeHandle:wy,useInsertionEffect:mg,useLayoutEffect:by,useMemo:ep,useReducer:Ym,useRef:xy,useState:function(){return Ym(Ed)},useDebugValue:F0,useDeferredValue:function(h,m){var x=Ao();return nd(x,Ds.memoizedState,h,m)},useTransition:function(){var h=Ym(Ed)[0],m=Ao().memoizedState;return[typeof h=="boolean"?h:Rh(h),m]},useSyncExternalStore:R0,useId:U0,useHostTransitionStatus:UA,useFormState:dg,useActionState:dg,useOptimistic:function(h,m){var x=Ao();return Xm(x,Ds,h,m)},useMemoCache:Jc,useCacheRefresh:pg};yg.useEffectEvent=tA;var xg={readContext:Oa,use:Wm,useCallback:Jm,useContext:Oa,useEffect:FA,useImperativeHandle:wy,useInsertionEffect:mg,useLayoutEffect:by,useMemo:ep,useReducer:ag,useRef:xy,useState:function(){return ag(Ed)},useDebugValue:F0,useDeferredValue:function(h,m){var x=Ao();return Ds===null?ph(x,h,m):nd(x,Ds.memoizedState,h,m)},useTransition:function(){var h=ag(Ed)[0],m=Ao().memoizedState;return[typeof h=="boolean"?h:Rh(h),m]},useSyncExternalStore:R0,useId:U0,useHostTransitionStatus:UA,useFormState:P0,useActionState:P0,useOptimistic:function(h,m){var x=Ao();return Ds!==null?Xm(x,Ds,h,m):(x.baseState=h,[h,x.queue.dispatch])},useMemoCache:Jc,useCacheRefresh:pg};xg.useEffectEvent=tA;function bg(h,m,x,E){m=h.memoizedState,x=x(E,m),x=x==null?m:f({},m,x),h.memoizedState=x,h.lanes===0&&(h.updateQueue.baseState=x)}var wg={enqueueSetState:function(h,m,x){h=h._reactInternals;var E=pi(),H=li(E);H.payload=m,x!=null&&(H.callback=x),m=wi(h,H,E),m!==null&&(to(m,h,E),zi(m,h,E))},enqueueReplaceState:function(h,m,x){h=h._reactInternals;var E=pi(),H=li(E);H.tag=1,H.payload=m,x!=null&&(H.callback=x),m=wi(h,H,E),m!==null&&(to(m,h,E),zi(m,h,E))},enqueueForceUpdate:function(h,m){h=h._reactInternals;var x=pi(),E=li(x);E.tag=2,m!=null&&(E.callback=m),m=wi(h,E,x),m!==null&&(to(m,h,x),zi(m,h,x))}};function Eg(h,m,x,E,H,W,be){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(E,W,be):m.prototype&&m.prototype.isPureReactComponent?!Xi(x,E)||!Xi(H,W):!0}function H0(h,m,x,E){h=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(x,E),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(x,E),m.state!==h&&wg.enqueueReplaceState(m,m.state,null)}function Oh(h,m){var x=m;if("ref"in m){x={};for(var E in m)E!=="ref"&&(x[E]=m[E])}if(h=h.defaultProps){x===m&&(x=f({},x));for(var H in h)x[H]===void 0&&(x[H]=h[H])}return x}function np(h){vd(h)}function ip(h){console.error(h)}function sp(h){vd(h)}function HA(h,m){try{var x=h.onUncaughtError;x(m.value,{componentStack:m.stack})}catch(E){setTimeout(function(){throw E})}}function B(h,m,x){try{var E=h.onCaughtError;E(x.value,{componentStack:x.stack,errorBoundary:m.tag===1?m.stateNode:null})}catch(H){setTimeout(function(){throw H})}}function K(h,m,x){return x=li(x),x.tag=3,x.payload={element:null},x.callback=function(){HA(h,m)},x}function le(h){return h=li(h),h.tag=3,h}function ye(h,m,x,E){var H=x.type.getDerivedStateFromError;if(typeof H=="function"){var W=E.value;h.payload=function(){return H(W)},h.callback=function(){B(m,x,E)}}var be=x.stateNode;be!==null&&typeof be.componentDidCatch=="function"&&(h.callback=function(){B(m,x,E),typeof H!="function"&&(gn===null?gn=new Set([this]):gn.add(this));var Ke=E.stack;this.componentDidCatch(E.value,{componentStack:Ke!==null?Ke:""})})}function Ie(h,m,x,E,H){if(x.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){if(m=x.alternate,m!==null&&Ju(m,x,H,!0),x=Vo.current,x!==null){switch(x.tag){case 31:case 13:return wl===null?bh():x.alternate===null&&F===0&&(F=3),x.flags&=-257,x.flags|=65536,x.lanes=H,E===fo?x.flags|=16384:(m=x.updateQueue,m===null?x.updateQueue=new Set([E]):m.add(E),$5(h,E,H)),!1;case 22:return x.flags|=65536,E===fo?x.flags|=16384:(m=x.updateQueue,m===null?(m={transitions:null,markerInstances:null,retryQueue:new Set([E])},x.updateQueue=m):(x=m.retryQueue,x===null?m.retryQueue=new Set([E]):x.add(E)),$5(h,E,H)),!1}throw Error(n(435,x.tag))}return $5(h,E,H),bh(),!1}if(mn)return m=Vo.current,m!==null?((m.flags&65536)===0&&(m.flags|=256),m.flags|=65536,m.lanes=H,E!==uh&&(h=Error(n(422),{cause:E}),Ic(Ho(h,x)))):(E!==uh&&(m=Error(n(423),{cause:E}),Ic(Ho(m,x))),h=h.current.alternate,h.flags|=65536,H&=-H,h.lanes|=H,E=Ho(E,x),H=K(h.stateNode,E,H),an(h,H),F!==4&&(F=2)),!1;var W=Error(n(520),{cause:E});if(W=Ho(W,x),nt===null?nt=[W]:nt.push(W),F!==4&&(F=2),m===null)return!0;E=Ho(E,x),x=m;do{switch(x.tag){case 3:return x.flags|=65536,h=H&-H,x.lanes|=h,h=K(x.stateNode,E,h),an(x,h),!1;case 1:if(m=x.type,W=x.stateNode,(x.flags&128)===0&&(typeof m.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(gn===null||!gn.has(W))))return x.flags|=65536,H&=-H,x.lanes|=H,H=le(H),ye(H,h,x,E),an(x,H),!1}x=x.return}while(x!==null);return!1}var Pe=Error(n(461)),Oe=!1;function Ve(h,m,x,E){m.child=h===null?Fr(m,null,x,E):cn(m,h.child,x,E)}function We(h,m,x,E,H){x=x.render;var W=m.ref;if("ref"in E){var be={};for(var Ke in E)Ke!=="ref"&&(be[Ke]=E[Ke])}else be=E;return fc(m),E=Yd(h,m,x,be,W,H),Ke=Vm(),h!==null&&!Oe?(Km(h,m,H),us(h,m,H)):(mn&&Ke&&Zc(m),m.flags|=1,Ve(h,m,E,H),m.child)}function ut(h,m,x,E,H){if(h===null){var W=x.type;return typeof W=="function"&&!Ti(W)&&W.defaultProps===void 0&&x.compare===null?(m.tag=15,m.type=W,kt(h,m,W,E,H)):(h=Eu(x.type,null,E,m,m.mode,H),h.ref=m.ref,h.return=m,m.child=h)}if(W=h.child,!Da(h,H)){var be=W.memoizedProps;if(x=x.compare,x=x!==null?x:Xi,x(be,E)&&h.ref===m.ref)return us(h,m,H)}return m.flags|=1,h=qc(W,E),h.ref=m.ref,h.return=m,m.child=h}function kt(h,m,x,E,H){if(h!==null){var W=h.memoizedProps;if(Xi(W,E)&&h.ref===m.ref)if(Oe=!1,m.pendingProps=E=W,Da(h,H))(h.flags&131072)!==0&&(Oe=!0);else return m.lanes=h.lanes,us(h,m,H)}return jr(h,m,x,E,H)}function tr(h,m,x,E){var H=E.children,W=h!==null?h.memoizedState:null;if(h===null&&m.stateNode===null&&(m.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),E.mode==="hidden"){if((m.flags&128)!==0){if(W=W!==null?W.baseLanes|x:x,h!==null){for(E=m.child=h.child,H=0;E!==null;)H=H|E.lanes|E.childLanes,E=E.sibling;E=H&~W}else E=0,m.child=null;return Dt(h,m,W,x,E)}if((x&536870912)!==0)m.memoizedState={baseLanes:0,cachePool:null},h!==null&&Di(m,W!==null?W.cachePool:null),W!==null?bl(m,W):Cu(),Wd(m);else return E=m.lanes=536870912,Dt(h,m,W!==null?W.baseLanes|x:x,x,E)}else W!==null?(Di(m,W.cachePool),bl(m,W),Ac(),m.memoizedState=null):(h!==null&&Di(m,null),Cu(),Ac());return Ve(h,m,H,x),m.child}function at(h,m){return h!==null&&h.tag===22||m.stateNode!==null||(m.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.sibling}function Dt(h,m,x,E,H){var W=Ni();return W=W===null?null:{parent:Za._currentValue,pool:W},m.memoizedState={baseLanes:x,cachePool:W},h!==null&&Di(m,null),Cu(),Wd(m),h!==null&&Ju(h,m,E,!0),m.childLanes=H,null}function Kt(h,m){return m=Zi({mode:m.mode,children:m.children},h.mode),m.ref=h.ref,h.child=m,m.return=h,m}function Sr(h,m,x){return cn(m,h.child,null,x),h=Kt(m,m.pendingProps),h.flags|=2,mc(m),m.memoizedState=null,h}function lr(h,m,x){var E=m.pendingProps,H=(m.flags&128)!==0;if(m.flags&=-129,h===null){if(mn){if(E.mode==="hidden")return h=Kt(m,E),m.lanes=536870912,at(null,h);if(OA(m),(h=va)?(h=i6(h,Nc),h=h!==null&&h.data==="&"?h:null,h!==null&&(m.memoizedState={dehydrated:h,treeContext:Tu!==null?{id:Cc,overflow:uc}:null,retryLane:536870912,hydrationErrors:null},x=$o(h),x.return=m,m.child=x,No=m,va=null)):h=null,h===null)throw Ul(m);return m.lanes=536870912,null}return Kt(m,E)}var W=h.memoizedState;if(W!==null){var be=W.dehydrated;if(OA(m),H)if(m.flags&256)m.flags&=-257,m=Sr(h,m,x);else if(m.memoizedState!==null)m.child=h.child,m.flags|=128,m=null;else throw Error(n(558));else if(Oe||Ju(h,m,x,!1),H=(x&h.childLanes)!==0,Oe||H){if(E=Ms,E!==null&&(be=Os(E,x),be!==0&&be!==W.retryLane))throw W.retryLane=be,bu(h,be),to(E,h,be),Pe;bh(),m=Sr(h,m,x)}else h=W.treeContext,va=wf(be.nextSibling),No=m,mn=!0,bd=null,Nc=!1,h!==null&&ch(m,h),m=Kt(m,E),m.flags|=4096;return m}return h=qc(h.child,{mode:E.mode,children:E.children}),h.ref=m.ref,m.child=h,h.return=m,h}function _r(h,m){var x=m.ref;if(x===null)h!==null&&h.ref!==null&&(m.flags|=4194816);else{if(typeof x!="function"&&typeof x!="object")throw Error(n(284));(h===null||h.ref!==x)&&(m.flags|=4194816)}}function jr(h,m,x,E,H){return fc(m),x=Yd(h,m,x,E,void 0,H),E=Vm(),h!==null&&!Oe?(Km(h,m,H),us(h,m,H)):(mn&&E&&Zc(m),m.flags|=1,Ve(h,m,x,H),m.child)}function Vr(h,m,x,E,H,W){return fc(m),m.updateQueue=null,x=Lh(m,E,x,H),Zf(h),E=Vm(),h!==null&&!Oe?(Km(h,m,W),us(h,m,W)):(mn&&E&&Zc(m),m.flags|=1,Ve(h,m,x,W),m.child)}function Mr(h,m,x,E,H){if(fc(m),m.stateNode===null){var W=yl,be=x.contextType;typeof be=="object"&&be!==null&&(W=Oa(be)),W=new x(E,W),m.memoizedState=W.state!==null&&W.state!==void 0?W.state:null,W.updater=wg,m.stateNode=W,W._reactInternals=m,W=m.stateNode,W.props=E,W.state=m.memoizedState,W.refs={},la(m),be=x.contextType,W.context=typeof be=="object"&&be!==null?Oa(be):yl,W.state=m.memoizedState,be=x.getDerivedStateFromProps,typeof be=="function"&&(bg(m,x,be,E),W.state=m.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof W.getSnapshotBeforeUpdate=="function"||typeof W.UNSAFE_componentWillMount!="function"&&typeof W.componentWillMount!="function"||(be=W.state,typeof W.componentWillMount=="function"&&W.componentWillMount(),typeof W.UNSAFE_componentWillMount=="function"&&W.UNSAFE_componentWillMount(),be!==W.state&&wg.enqueueReplaceState(W,W.state,null),ni(m,E,W,H),ca(),W.state=m.memoizedState),typeof W.componentDidMount=="function"&&(m.flags|=4194308),E=!0}else if(h===null){W=m.stateNode;var Ke=m.memoizedProps,Et=Oh(x,Ke);W.props=Et;var hr=W.context,Ir=x.contextType;be=yl,typeof Ir=="object"&&Ir!==null&&(be=Oa(Ir));var Pr=x.getDerivedStateFromProps;Ir=typeof Pr=="function"||typeof W.getSnapshotBeforeUpdate=="function",Ke=m.pendingProps!==Ke,Ir||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(Ke||hr!==be)&&H0(m,W,E,be),wr=!1;var fr=m.memoizedState;W.state=fr,ni(m,E,W,H),ca(),hr=m.memoizedState,Ke||fr!==hr||wr?(typeof Pr=="function"&&(bg(m,x,Pr,E),hr=m.memoizedState),(Et=wr||Eg(m,x,Et,E,fr,hr,be))?(Ir||typeof W.UNSAFE_componentWillMount!="function"&&typeof W.componentWillMount!="function"||(typeof W.componentWillMount=="function"&&W.componentWillMount(),typeof W.UNSAFE_componentWillMount=="function"&&W.UNSAFE_componentWillMount()),typeof W.componentDidMount=="function"&&(m.flags|=4194308)):(typeof W.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=E,m.memoizedState=hr),W.props=E,W.state=hr,W.context=be,E=Et):(typeof W.componentDidMount=="function"&&(m.flags|=4194308),E=!1)}else{W=m.stateNode,Ci(h,m),be=m.memoizedProps,Ir=Oh(x,be),W.props=Ir,Pr=m.pendingProps,fr=W.context,hr=x.contextType,Et=yl,typeof hr=="object"&&hr!==null&&(Et=Oa(hr)),Ke=x.getDerivedStateFromProps,(hr=typeof Ke=="function"||typeof W.getSnapshotBeforeUpdate=="function")||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(be!==Pr||fr!==Et)&&H0(m,W,E,Et),wr=!1,fr=m.memoizedState,W.state=fr,ni(m,E,W,H),ca();var mr=m.memoizedState;be!==Pr||fr!==mr||wr||h!==null&&h.dependencies!==null&&Vd(h.dependencies)?(typeof Ke=="function"&&(bg(m,x,Ke,E),mr=m.memoizedState),(Ir=wr||Eg(m,x,Ir,E,fr,mr,Et)||h!==null&&h.dependencies!==null&&Vd(h.dependencies))?(hr||typeof W.UNSAFE_componentWillUpdate!="function"&&typeof W.componentWillUpdate!="function"||(typeof W.componentWillUpdate=="function"&&W.componentWillUpdate(E,mr,Et),typeof W.UNSAFE_componentWillUpdate=="function"&&W.UNSAFE_componentWillUpdate(E,mr,Et)),typeof W.componentDidUpdate=="function"&&(m.flags|=4),typeof W.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof W.componentDidUpdate!="function"||be===h.memoizedProps&&fr===h.memoizedState||(m.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||be===h.memoizedProps&&fr===h.memoizedState||(m.flags|=1024),m.memoizedProps=E,m.memoizedState=mr),W.props=E,W.state=mr,W.context=Et,E=Ir):(typeof W.componentDidUpdate!="function"||be===h.memoizedProps&&fr===h.memoizedState||(m.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||be===h.memoizedProps&&fr===h.memoizedState||(m.flags|=1024),E=!1)}return W=E,_r(h,m),E=(m.flags&128)!==0,W||E?(W=m.stateNode,x=E&&typeof x.getDerivedStateFromError!="function"?null:W.render(),m.flags|=1,h!==null&&E?(m.child=cn(m,h.child,null,H),m.child=cn(m,null,x,H)):Ve(h,m,x,H),m.memoizedState=W.state,h=m.child):h=us(h,m,H),h}function ii(h,m,x,E){return Qo(),m.flags|=256,Ve(h,m,x,E),m.child}var Cn={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function as(h){return{baseLanes:h,cachePool:js()}}function Zn(h,m,x){return h=h!==null?h.childLanes&~x:0,m&&(h|=Le),h}function Ls(h,m,x){var E=m.pendingProps,H=!1,W=(m.flags&128)!==0,be;if((be=W)||(be=h!==null&&h.memoizedState===null?!1:(eo.current&2)!==0),be&&(H=!0,m.flags&=-129),be=(m.flags&32)!==0,m.flags&=-33,h===null){if(mn){if(H?Sa(m):Ac(),(h=va)?(h=i6(h,Nc),h=h!==null&&h.data!=="&"?h:null,h!==null&&(m.memoizedState={dehydrated:h,treeContext:Tu!==null?{id:Cc,overflow:uc}:null,retryLane:536870912,hydrationErrors:null},x=$o(h),x.return=m,m.child=x,No=m,va=null)):h=null,h===null)throw Ul(m);return nI(h)?m.lanes=32:m.lanes=536870912,null}var Ke=E.children;return E=E.fallback,H?(Ac(),H=m.mode,Ke=Zi({mode:"hidden",children:Ke},H),E=xd(E,H,x,null),Ke.return=m,E.return=m,Ke.sibling=E,m.child=Ke,E=m.child,E.memoizedState=as(x),E.childLanes=Zn(h,be,x),m.memoizedState=Cn,at(null,E)):(Sa(m),il(m,Ke))}var Et=h.memoizedState;if(Et!==null&&(Ke=Et.dehydrated,Ke!==null)){if(W)m.flags&256?(Sa(m),m.flags&=-257,m=zn(h,m,x)):m.memoizedState!==null?(Ac(),m.child=h.child,m.flags|=128,m=null):(Ac(),Ke=E.fallback,H=m.mode,E=Zi({mode:"visible",children:E.children},H),Ke=xd(Ke,H,x,null),Ke.flags|=2,E.return=m,Ke.return=m,E.sibling=Ke,m.child=E,cn(m,h.child,null,x),E=m.child,E.memoizedState=as(x),E.childLanes=Zn(h,be,x),m.memoizedState=Cn,m=at(null,E));else if(Sa(m),nI(Ke)){if(be=Ke.nextSibling&&Ke.nextSibling.dataset,be)var hr=be.dgst;be=hr,E=Error(n(419)),E.stack="",E.digest=be,Ic({value:E,source:null,stack:null}),m=zn(h,m,x)}else if(Oe||Ju(h,m,x,!1),be=(x&h.childLanes)!==0,Oe||be){if(be=Ms,be!==null&&(E=Os(be,x),E!==0&&E!==Et.retryLane))throw Et.retryLane=E,bu(h,E),to(be,h,E),Pe;rI(Ke)||bh(),m=zn(h,m,x)}else rI(Ke)?(m.flags|=192,m.child=h.child,m=null):(h=Et.treeContext,va=wf(Ke.nextSibling),No=m,mn=!0,bd=null,Nc=!1,h!==null&&ch(m,h),m=il(m,E.children),m.flags|=4096);return m}return H?(Ac(),Ke=E.fallback,H=m.mode,Et=h.child,hr=Et.sibling,E=qc(Et,{mode:"hidden",children:E.children}),E.subtreeFlags=Et.subtreeFlags&65011712,hr!==null?Ke=qc(hr,Ke):(Ke=xd(Ke,H,x,null),Ke.flags|=2),Ke.return=m,E.return=m,E.sibling=Ke,m.child=E,at(null,E),E=m.child,Ke=h.child.memoizedState,Ke===null?Ke=as(x):(H=Ke.cachePool,H!==null?(Et=Za._currentValue,H=H.parent!==Et?{parent:Et,pool:Et}:H):H=js(),Ke={baseLanes:Ke.baseLanes|x,cachePool:H}),E.memoizedState=Ke,E.childLanes=Zn(h,be,x),m.memoizedState=Cn,at(h.child,E)):(Sa(m),x=h.child,h=x.sibling,x=qc(x,{mode:"visible",children:E.children}),x.return=m,x.sibling=null,h!==null&&(be=m.deletions,be===null?(m.deletions=[h],m.flags|=16):be.push(h)),m.child=x,m.memoizedState=null,x)}function il(h,m){return m=Zi({mode:"visible",children:m},h.mode),m.return=h,h.child=m}function Zi(h,m){return h=Ml(22,h,null,m),h.lanes=0,h}function zn(h,m,x){return cn(m,h.child,null,x),h=il(m,m.pendingProps.children),h.flags|=2,m.memoizedState=null,h}function pn(h,m,x){h.lanes|=m;var E=h.alternate;E!==null&&(E.lanes|=m),hh(h.return,m,x)}function Io(h,m,x,E,H,W){var be=h.memoizedState;be===null?h.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:E,tail:x,tailMode:H,treeForkCount:W}:(be.isBackwards=m,be.rendering=null,be.renderingStartTime=0,be.last=E,be.tail=x,be.tailMode=H,be.treeForkCount=W)}function Ji(h,m,x){var E=m.pendingProps,H=E.revealOrder,W=E.tail;E=E.children;var be=eo.current,Ke=(be&2)!==0;if(Ke?(be=be&1|2,m.flags|=128):be&=1,me(eo,be),Ve(h,m,E,x),E=mn?_u:0,!Ke&&h!==null&&(h.flags&128)!==0)e:for(h=m.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&pn(h,x,m);else if(h.tag===19)pn(h,x,m);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===m)break e;for(;h.sibling===null;){if(h.return===null||h.return===m)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}switch(H){case"forwards":for(x=m.child,H=null;x!==null;)h=x.alternate,h!==null&&pf(h)===null&&(H=x),x=x.sibling;x=H,x===null?(H=m.child,m.child=null):(H=x.sibling,x.sibling=null),Io(m,!1,H,x,W,E);break;case"backwards":case"unstable_legacy-backwards":for(x=null,H=m.child,m.child=null;H!==null;){if(h=H.alternate,h!==null&&pf(h)===null){m.child=H;break}h=H.sibling,H.sibling=x,x=H,H=h}Io(m,!0,x,null,W,E);break;case"together":Io(m,!1,null,null,void 0,E);break;default:m.memoizedState=null}return m.child}function us(h,m,x){if(h!==null&&(m.dependencies=h.dependencies),M|=m.lanes,(x&m.childLanes)===0)if(h!==null){if(Ju(h,m,x,!1),(x&m.childLanes)===0)return null}else return null;if(h!==null&&m.child!==h.child)throw Error(n(153));if(m.child!==null){for(h=m.child,x=qc(h,h.pendingProps),m.child=x,x.return=m;h.sibling!==null;)h=h.sibling,x=x.sibling=qc(h,h.pendingProps),x.return=m;x.sibling=null}return m.child}function Da(h,m){return(h.lanes&m)!==0?!0:(h=h.dependencies,!!(h!==null&&Vd(h)))}function El(h,m,x){switch(m.tag){case 3:ft(m,m.stateNode.containerInfo),$l(m,Za,h.memoizedState.cache),Qo();break;case 27:case 5:Ze(m);break;case 4:ft(m,m.stateNode.containerInfo);break;case 10:$l(m,m.type,m.memoizedProps.value);break;case 31:if(m.memoizedState!==null)return m.flags|=128,OA(m),null;break;case 13:var E=m.memoizedState;if(E!==null)return E.dehydrated!==null?(Sa(m),m.flags|=128,null):(x&m.child.childLanes)!==0?Ls(h,m,x):(Sa(m),h=us(h,m,x),h!==null?h.sibling:null);Sa(m);break;case 19:var H=(h.flags&128)!==0;if(E=(x&m.childLanes)!==0,E||(Ju(h,m,x,!1),E=(x&m.childLanes)!==0),H){if(E)return Ji(h,m,x);m.flags|=128}if(H=m.memoizedState,H!==null&&(H.rendering=null,H.tail=null,H.lastEffect=null),me(eo,eo.current),E)break;return null;case 22:return m.lanes=0,tr(h,m,x,m.pendingProps);case 24:$l(m,Za,h.memoizedState.cache)}return us(h,m,x)}function Ql(h,m,x){if(h!==null)if(h.memoizedProps!==m.pendingProps)Oe=!0;else{if(!Da(h,x)&&(m.flags&128)===0)return Oe=!1,El(h,m,x);Oe=(h.flags&131072)!==0}else Oe=!1,mn&&(m.flags&1048576)!==0&&Wf(m,_u,m.index);switch(m.lanes=0,m.tag){case 16:e:{var E=m.pendingProps;if(h=Y(m.elementType),m.type=h,typeof h=="function")Ti(h)?(E=Oh(h,E),m.tag=1,m=Mr(null,m,h,E,x)):(m.tag=0,m=jr(null,m,h,E,x));else{if(h!=null){var H=h.$$typeof;if(H===_){m.tag=11,m=We(null,m,h,E,x);break e}else if(H===D){m.tag=14,m=ut(null,m,h,E,x);break e}}throw m=ge(h)||h,Error(n(306,m,""))}}return m;case 0:return jr(h,m,m.type,m.pendingProps,x);case 1:return E=m.type,H=Oh(E,m.pendingProps),Mr(h,m,E,H,x);case 3:e:{if(ft(m,m.stateNode.containerInfo),h===null)throw Error(n(387));E=m.pendingProps;var W=m.memoizedState;H=W.element,Ci(h,m),ni(m,E,null,x);var be=m.memoizedState;if(E=be.cache,$l(m,Za,E),E!==W.cache&&kc(m,[Za],x,!0),ca(),E=be.element,W.isDehydrated)if(W={element:E,isDehydrated:!1,cache:be.cache},m.updateQueue.baseState=W,m.memoizedState=W,m.flags&256){m=ii(h,m,E,x);break e}else if(E!==H){H=Ho(Error(n(424)),m),Ic(H),m=ii(h,m,E,x);break e}else for(h=m.stateNode.containerInfo,h.nodeType===9?h=h.body:h=h.nodeName==="HTML"?h.ownerDocument.body:h,va=wf(h.firstChild),No=m,mn=!0,bd=null,Nc=!0,x=Fr(m,null,E,x),m.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling;else{if(Qo(),E===H){m=us(h,m,x);break e}Ve(h,m,E,x)}m=m.child}return m;case 26:return _r(h,m),h===null?(x=u6(m.type,null,m.pendingProps,null))?m.memoizedState=x:mn||(x=m.type,h=m.pendingProps,E=q2(De.current).createElement(x),E[Hi]=m,E[Hs]=h,ad(E,x,h),aa(E),m.stateNode=E):m.memoizedState=u6(m.type,h.memoizedProps,m.pendingProps,h.memoizedState),null;case 27:return Ze(m),h===null&&mn&&(E=m.stateNode=o6(m.type,m.pendingProps,De.current),No=m,Nc=!0,H=va,Cg(m.type)?(iI=H,va=wf(E.firstChild)):va=H),Ve(h,m,m.pendingProps.children,x),_r(h,m),h===null&&(m.flags|=4194304),m.child;case 5:return h===null&&mn&&((H=E=va)&&(E=$oe(E,m.type,m.pendingProps,Nc),E!==null?(m.stateNode=E,No=m,va=wf(E.firstChild),Nc=!1,H=!0):H=!1),H||Ul(m)),Ze(m),H=m.type,W=m.pendingProps,be=h!==null?h.memoizedProps:null,E=W.children,J5(H,W)?E=null:be!==null&&J5(H,be)&&(m.flags|=32),m.memoizedState!==null&&(H=Yd(h,m,PA,null,null,x),g1._currentValue=H),_r(h,m),Ve(h,m,E,x),m.child;case 6:return h===null&&mn&&((h=x=va)&&(x=Hoe(x,m.pendingProps,Nc),x!==null?(m.stateNode=x,No=m,va=null,h=!0):h=!1),h||Ul(m)),null;case 13:return Ls(h,m,x);case 4:return ft(m,m.stateNode.containerInfo),E=m.pendingProps,h===null?m.child=cn(m,null,E,x):Ve(h,m,E,x),m.child;case 11:return We(h,m,m.type,m.pendingProps,x);case 7:return Ve(h,m,m.pendingProps,x),m.child;case 8:return Ve(h,m,m.pendingProps.children,x),m.child;case 12:return Ve(h,m,m.pendingProps.children,x),m.child;case 10:return E=m.pendingProps,$l(m,m.type,E.value),Ve(h,m,E.children,x),m.child;case 9:return H=m.type._context,E=m.pendingProps.children,fc(m),H=Oa(H),E=E(H),m.flags|=1,Ve(h,m,E,x),m.child;case 14:return ut(h,m,m.type,m.pendingProps,x);case 15:return kt(h,m,m.type,m.pendingProps,x);case 19:return Ji(h,m,x);case 31:return lr(h,m,x);case 22:return tr(h,m,x,m.pendingProps);case 24:return fc(m),E=Oa(Za),h===null?(H=Ni(),H===null&&(H=Ms,W=zd(),H.pooledCache=W,W.refCount++,W!==null&&(H.pooledCacheLanes|=x),H=W),m.memoizedState={parent:E,cache:H},la(m),$l(m,Za,H)):((h.lanes&x)!==0&&(Ci(h,m),ni(m,null,null,x),ca()),H=h.memoizedState,W=m.memoizedState,H.parent!==E?(H={parent:E,cache:E},m.memoizedState=H,m.lanes===0&&(m.memoizedState=m.updateQueue.baseState=H),$l(m,Za,E)):(E=W.cache,$l(m,Za,E),E!==H.cache&&kc(m,[Za],x,!0))),Ve(h,m,m.pendingProps.children,x),m.child;case 29:throw m.pendingProps}throw Error(n(156,m.tag))}function ua(h){h.flags|=4}function Vl(h,m,x,E,H){if((m=(h.mode&32)!==0)&&(m=!1),m){if(h.flags|=16777216,(H&335544128)===H)if(h.stateNode.complete)h.flags|=8192;else if(iA())h.flags|=8192;else throw He=fo,Ja}else h.flags&=-16777217}function Lc(h,m){if(m.type!=="stylesheet"||(m.state.loading&4)!==0)h.flags&=-16777217;else if(h.flags|=16777216,!m6(m))if(iA())h.flags|=8192;else throw He=fo,Ja}function ko(h,m){m!==null&&(h.flags|=4),h.flags&16384&&(m=h.tag!==22?ds():536870912,h.lanes|=m,rt|=m)}function ks(h,m){if(!mn)switch(h.tailMode){case"hidden":m=h.tail;for(var x=null;m!==null;)m.alternate!==null&&(x=m),m=m.sibling;x===null?h.tail=null:x.sibling=null;break;case"collapsed":x=h.tail;for(var E=null;x!==null;)x.alternate!==null&&(E=x),x=x.sibling;E===null?m||h.tail===null?h.tail=null:h.tail.sibling=null:E.sibling=null}}function Ei(h){var m=h.alternate!==null&&h.alternate.child===h.child,x=0,E=0;if(m)for(var H=h.child;H!==null;)x|=H.lanes|H.childLanes,E|=H.subtreeFlags&65011712,E|=H.flags&65011712,H.return=h,H=H.sibling;else for(H=h.child;H!==null;)x|=H.lanes|H.childLanes,E|=H.subtreeFlags,E|=H.flags,H.return=h,H=H.sibling;return h.subtreeFlags|=E,h.childLanes=x,m}function Go(h,m,x){var E=m.pendingProps;switch(Yf(m),m.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ei(m),null;case 1:return Ei(m),null;case 3:return x=m.stateNode,E=null,h!==null&&(E=h.memoizedState.cache),m.memoizedState.cache!==E&&(m.flags|=2048),hc(Za),Ce(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(h===null||h.child===null)&&(dh(m)?ua(m):h===null||h.memoizedState.isDehydrated&&(m.flags&256)===0||(m.flags|=1024,Qd())),Ei(m),null;case 26:var H=m.type,W=m.memoizedState;return h===null?(ua(m),W!==null?(Ei(m),Lc(m,W)):(Ei(m),Vl(m,H,null,E,x))):W?W!==h.memoizedState?(ua(m),Ei(m),Lc(m,W)):(Ei(m),m.flags&=-16777217):(h=h.memoizedProps,h!==E&&ua(m),Ei(m),Vl(m,H,h,E,x)),null;case 27:if(ze(m),x=De.current,H=m.type,h!==null&&m.stateNode!=null)h.memoizedProps!==E&&ua(m);else{if(!E){if(m.stateNode===null)throw Error(n(166));return Ei(m),null}h=je.current,dh(m)?wd(m):(h=o6(H,E,x),m.stateNode=h,ua(m))}return Ei(m),null;case 5:if(ze(m),H=m.type,h!==null&&m.stateNode!=null)h.memoizedProps!==E&&ua(m);else{if(!E){if(m.stateNode===null)throw Error(n(166));return Ei(m),null}if(W=je.current,dh(m))wd(m);else{var be=q2(De.current);switch(W){case 1:W=be.createElementNS("http://www.w3.org/2000/svg",H);break;case 2:W=be.createElementNS("http://www.w3.org/1998/Math/MathML",H);break;default:switch(H){case"svg":W=be.createElementNS("http://www.w3.org/2000/svg",H);break;case"math":W=be.createElementNS("http://www.w3.org/1998/Math/MathML",H);break;case"script":W=be.createElement("div"),W.innerHTML="<script><\/script>",W=W.removeChild(W.firstChild);break;case"select":W=typeof E.is=="string"?be.createElement("select",{is:E.is}):be.createElement("select"),E.multiple?W.multiple=!0:E.size&&(W.size=E.size);break;default:W=typeof E.is=="string"?be.createElement(H,{is:E.is}):be.createElement(H)}}W[Hi]=m,W[Hs]=E;e:for(be=m.child;be!==null;){if(be.tag===5||be.tag===6)W.appendChild(be.stateNode);else if(be.tag!==4&&be.tag!==27&&be.child!==null){be.child.return=be,be=be.child;continue}if(be===m)break e;for(;be.sibling===null;){if(be.return===null||be.return===m)break e;be=be.return}be.sibling.return=be.return,be=be.sibling}m.stateNode=W;e:switch(ad(W,H,E),H){case"button":case"input":case"select":case"textarea":E=!!E.autoFocus;break e;case"img":E=!0;break e;default:E=!1}E&&ua(m)}}return Ei(m),Vl(m,m.type,h===null?null:h.memoizedProps,m.pendingProps,x),null;case 6:if(h&&m.stateNode!=null)h.memoizedProps!==E&&ua(m);else{if(typeof E!="string"&&m.stateNode===null)throw Error(n(166));if(h=De.current,dh(m)){if(h=m.stateNode,x=m.memoizedProps,E=null,H=No,H!==null)switch(H.tag){case 27:case 5:E=H.memoizedProps}h[Hi]=m,h=!!(h.nodeValue===x||E!==null&&E.suppressHydrationWarning===!0||qU(h.nodeValue,x)),h||Ul(m,!0)}else h=q2(h).createTextNode(E),h[Hi]=m,m.stateNode=h}return Ei(m),null;case 31:if(x=m.memoizedState,h===null||h.memoizedState!==null){if(E=dh(m),x!==null){if(h===null){if(!E)throw Error(n(318));if(h=m.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(n(557));h[Hi]=m}else Qo(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;Ei(m),h=!1}else x=Qd(),h!==null&&h.memoizedState!==null&&(h.memoizedState.hydrationErrors=x),h=!0;if(!h)return m.flags&256?(mc(m),m):(mc(m),null);if((m.flags&128)!==0)throw Error(n(558))}return Ei(m),null;case 13:if(E=m.memoizedState,h===null||h.memoizedState!==null&&h.memoizedState.dehydrated!==null){if(H=dh(m),E!==null&&E.dehydrated!==null){if(h===null){if(!H)throw Error(n(318));if(H=m.memoizedState,H=H!==null?H.dehydrated:null,!H)throw Error(n(317));H[Hi]=m}else Qo(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;Ei(m),H=!1}else H=Qd(),h!==null&&h.memoizedState!==null&&(h.memoizedState.hydrationErrors=H),H=!0;if(!H)return m.flags&256?(mc(m),m):(mc(m),null)}return mc(m),(m.flags&128)!==0?(m.lanes=x,m):(x=E!==null,h=h!==null&&h.memoizedState!==null,x&&(E=m.child,H=null,E.alternate!==null&&E.alternate.memoizedState!==null&&E.alternate.memoizedState.cachePool!==null&&(H=E.alternate.memoizedState.cachePool.pool),W=null,E.memoizedState!==null&&E.memoizedState.cachePool!==null&&(W=E.memoizedState.cachePool.pool),W!==H&&(E.flags|=2048)),x!==h&&x&&(m.child.flags|=8192),ko(m,m.updateQueue),Ei(m),null);case 4:return Ce(),h===null&&W5(m.stateNode.containerInfo),Ei(m),null;case 10:return hc(m.type),Ei(m),null;case 19:if(se(eo),E=m.memoizedState,E===null)return Ei(m),null;if(H=(m.flags&128)!==0,W=E.rendering,W===null)if(H)ks(E,!1);else{if(F!==0||h!==null&&(h.flags&128)!==0)for(h=m.child;h!==null;){if(W=pf(h),W!==null){for(m.flags|=128,ks(E,!1),h=W.updateQueue,m.updateQueue=h,ko(m,h),m.subtreeFlags=0,h=x,x=m.child;x!==null;)wu(x,h),x=x.sibling;return me(eo,eo.current&1|2),mn&&jc(m,E.treeForkCount),m.child}h=h.sibling}E.tail!==null&&Jr()>jn&&(m.flags|=128,H=!0,ks(E,!1),m.lanes=4194304)}else{if(!H)if(h=pf(W),h!==null){if(m.flags|=128,H=!0,h=h.updateQueue,m.updateQueue=h,ko(m,h),ks(E,!0),E.tail===null&&E.tailMode==="hidden"&&!W.alternate&&!mn)return Ei(m),null}else 2*Jr()-E.renderingStartTime>jn&&x!==536870912&&(m.flags|=128,H=!0,ks(E,!1),m.lanes=4194304);E.isBackwards?(W.sibling=m.child,m.child=W):(h=E.last,h!==null?h.sibling=W:m.child=W,E.last=W)}return E.tail!==null?(h=E.tail,E.rendering=h,E.tail=h.sibling,E.renderingStartTime=Jr(),h.sibling=null,x=eo.current,me(eo,H?x&1|2:x&1),mn&&jc(m,E.treeForkCount),h):(Ei(m),null);case 22:case 23:return mc(m),Bc(),E=m.memoizedState!==null,h!==null?h.memoizedState!==null!==E&&(m.flags|=8192):E&&(m.flags|=8192),E?(x&536870912)!==0&&(m.flags&128)===0&&(Ei(m),m.subtreeFlags&6&&(m.flags|=8192)):Ei(m),x=m.updateQueue,x!==null&&ko(m,x.retryQueue),x=null,h!==null&&h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(x=h.memoizedState.cachePool.pool),E=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(E=m.memoizedState.cachePool.pool),E!==x&&(m.flags|=2048),h!==null&&se(On),null;case 24:return x=null,h!==null&&(x=h.memoizedState.cache),m.memoizedState.cache!==x&&(m.flags|=2048),hc(Za),Ei(m),null;case 25:return null;case 30:return null}throw Error(n(156,m.tag))}function xa(h,m){switch(Yf(m),m.tag){case 1:return h=m.flags,h&65536?(m.flags=h&-65537|128,m):null;case 3:return hc(Za),Ce(),h=m.flags,(h&65536)!==0&&(h&128)===0?(m.flags=h&-65537|128,m):null;case 26:case 27:case 5:return ze(m),null;case 31:if(m.memoizedState!==null){if(mc(m),m.alternate===null)throw Error(n(340));Qo()}return h=m.flags,h&65536?(m.flags=h&-65537|128,m):null;case 13:if(mc(m),h=m.memoizedState,h!==null&&h.dehydrated!==null){if(m.alternate===null)throw Error(n(340));Qo()}return h=m.flags,h&65536?(m.flags=h&-65537|128,m):null;case 19:return se(eo),null;case 4:return Ce(),null;case 10:return hc(m.type),null;case 22:case 23:return mc(m),Bc(),h!==null&&se(On),h=m.flags,h&65536?(m.flags=h&-65537|128,m):null;case 24:return hc(Za),null;case 25:return null;default:return null}}function Kl(h,m){switch(Yf(m),m.tag){case 3:hc(Za),Ce();break;case 26:case 27:case 5:ze(m);break;case 4:Ce();break;case 31:m.memoizedState!==null&&mc(m);break;case 13:mc(m);break;case 19:se(eo);break;case 10:hc(m.type);break;case 22:case 23:mc(m),Bc(),h!==null&&se(On);break;case 24:hc(Za)}}function gc(h,m){try{var x=m.updateQueue,E=x!==null?x.lastEffect:null;if(E!==null){var H=E.next;x=H;do{if((x.tag&h)===h){E=void 0;var W=x.create,be=x.inst;E=W(),be.destroy=E}x=x.next}while(x!==H)}}catch(Ke){ro(m,m.return,Ke)}}function _a(h,m,x){try{var E=m.updateQueue,H=E!==null?E.lastEffect:null;if(H!==null){var W=H.next;E=W;do{if((E.tag&h)===h){var be=E.inst,Ke=be.destroy;if(Ke!==void 0){be.destroy=void 0,H=m;var Et=x,hr=Ke;try{hr()}catch(Ir){ro(H,Et,Ir)}}}E=E.next}while(E!==W)}}catch(Ir){ro(m,m.return,Ir)}}function vc(h){var m=h.updateQueue;if(m!==null){var x=h.stateNode;try{is(m,x)}catch(E){ro(h,h.return,E)}}}function Ta(h,m,x){x.props=Oh(h.type,h.memoizedProps),x.state=h.memoizedState;try{x.componentWillUnmount()}catch(E){ro(h,m,E)}}function Zr(h,m){try{var x=h.ref;if(x!==null){switch(h.tag){case 26:case 27:case 5:var E=h.stateNode;break;case 30:E=h.stateNode;break;default:E=h.stateNode}typeof x=="function"?h.refCleanup=x(E):x.current=E}}catch(H){ro(h,m,H)}}function Ma(h,m){var x=h.ref,E=h.refCleanup;if(x!==null)if(typeof E=="function")try{E()}catch(H){ro(h,m,H)}finally{h.refCleanup=null,h=h.alternate,h!=null&&(h.refCleanup=null)}else if(typeof x=="function")try{x(null)}catch(H){ro(h,m,H)}else x.current=null}function Sl(h){var m=h.type,x=h.memoizedProps,E=h.stateNode;try{e:switch(m){case"button":case"input":case"select":case"textarea":x.autoFocus&&E.focus();break e;case"img":x.src?E.src=x.src:x.srcSet&&(E.srcset=x.srcSet)}}catch(H){ro(h,h.return,H)}}function Qa(h,m,x){try{var E=h.stateNode;Ooe(E,h.type,x,m),E[Hs]=m}catch(H){ro(h,h.return,H)}}function ku(h){return h.tag===5||h.tag===3||h.tag===26||h.tag===27&&Cg(h.type)||h.tag===4}function Yi(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||ku(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.tag===27&&Cg(h.type)||h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function Ss(h,m,x){var E=h.tag;if(E===5||E===6)h=h.stateNode,m?(x.nodeType===9?x.body:x.nodeName==="HTML"?x.ownerDocument.body:x).insertBefore(h,m):(m=x.nodeType===9?x.body:x.nodeName==="HTML"?x.ownerDocument.body:x,m.appendChild(h),x=x._reactRootContainer,x!=null||m.onclick!==null||(m.onclick=te));else if(E!==4&&(E===27&&Cg(h.type)&&(x=h.stateNode,m=null),h=h.child,h!==null))for(Ss(h,m,x),h=h.sibling;h!==null;)Ss(h,m,x),h=h.sibling}function ea(h,m,x){var E=h.tag;if(E===5||E===6)h=h.stateNode,m?x.insertBefore(h,m):x.appendChild(h);else if(E!==4&&(E===27&&Cg(h.type)&&(x=h.stateNode),h=h.child,h!==null))for(ea(h,m,x),h=h.sibling;h!==null;)ea(h,m,x),h=h.sibling}function Bu(h){var m=h.stateNode,x=h.memoizedProps;try{for(var E=h.type,H=m.attributes;H.length;)m.removeAttributeNode(H[0]);ad(m,E,x),m[Hi]=h,m[Hs]=x}catch(W){ro(h,h.return,W)}}var zo=!1,Va=!1,Lu=!1,Gl=typeof WeakSet=="function"?WeakSet:Set,sl=null;function Sg(h,m){if(h=h.containerInfo,X5=nS,h=xu(h),xi(h)){if("selectionStart"in h)var x={start:h.selectionStart,end:h.selectionEnd};else e:{x=(x=h.ownerDocument)&&x.defaultView||window;var E=x.getSelection&&x.getSelection();if(E&&E.rangeCount!==0){x=E.anchorNode;var H=E.anchorOffset,W=E.focusNode;E=E.focusOffset;try{x.nodeType,W.nodeType}catch{x=null;break e}var be=0,Ke=-1,Et=-1,hr=0,Ir=0,Pr=h,fr=null;t:for(;;){for(var mr;Pr!==x||H!==0&&Pr.nodeType!==3||(Ke=be+H),Pr!==W||E!==0&&Pr.nodeType!==3||(Et=be+E),Pr.nodeType===3&&(be+=Pr.nodeValue.length),(mr=Pr.firstChild)!==null;)fr=Pr,Pr=mr;for(;;){if(Pr===h)break t;if(fr===x&&++hr===H&&(Ke=be),fr===W&&++Ir===E&&(Et=be),(mr=Pr.nextSibling)!==null)break;Pr=fr,fr=Pr.parentNode}Pr=mr}x=Ke===-1||Et===-1?null:{start:Ke,end:Et}}else x=null}x=x||{start:0,end:0}}else x=null;for(Z5={focusedElem:h,selectionRange:x},nS=!1,sl=m;sl!==null;)if(m=sl,h=m.child,(m.subtreeFlags&1028)!==0&&h!==null)h.return=m,sl=h;else for(;sl!==null;){switch(m=sl,W=m.alternate,h=m.flags,m.tag){case 0:if((h&4)!==0&&(h=m.updateQueue,h=h!==null?h.events:null,h!==null))for(x=0;x<h.length;x++)H=h[x],H.ref.impl=H.nextImpl;break;case 11:case 15:break;case 1:if((h&1024)!==0&&W!==null){h=void 0,x=m,H=W.memoizedProps,W=W.memoizedState,E=x.stateNode;try{var ei=Oh(x.type,H);h=E.getSnapshotBeforeUpdate(ei,W),E.__reactInternalSnapshotBeforeUpdate=h}catch(Ui){ro(x,x.return,Ui)}}break;case 3:if((h&1024)!==0){if(h=m.stateNode.containerInfo,x=h.nodeType,x===9)tI(h);else if(x===1)switch(h.nodeName){case"HEAD":case"HTML":case"BODY":tI(h);break;default:h.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((h&1024)!==0)throw Error(n(163))}if(h=m.sibling,h!==null){h.return=m.return,sl=h;break}sl=m.return}}function ap(h,m,x){var E=x.flags;switch(x.tag){case 0:case 11:case 15:Rc(h,x),E&4&&gc(5,x);break;case 1:if(Rc(h,x),E&4)if(h=x.stateNode,m===null)try{h.componentDidMount()}catch(be){ro(x,x.return,be)}else{var H=Oh(x.type,m.memoizedProps);m=m.memoizedState;try{h.componentDidUpdate(H,m,h.__reactInternalSnapshotBeforeUpdate)}catch(be){ro(x,x.return,be)}}E&64&&vc(x),E&512&&Zr(x,x.return);break;case 3:if(Rc(h,x),E&64&&(h=x.updateQueue,h!==null)){if(m=null,x.child!==null)switch(x.child.tag){case 27:case 5:m=x.child.stateNode;break;case 1:m=x.child.stateNode}try{is(h,m)}catch(be){ro(x,x.return,be)}}break;case 27:m===null&&E&4&&Bu(x);case 26:case 5:Rc(h,x),m===null&&E&4&&Sl(x),E&512&&Zr(x,x.return);break;case 12:Rc(h,x);break;case 31:Rc(h,x),E&4&&Q0(h,x);break;case 13:Rc(h,x),E&4&&Ty(h,x),E&64&&(h=x.memoizedState,h!==null&&(h=h.dehydrated,h!==null&&(x=Eoe.bind(null,x),Qoe(h,x))));break;case 22:if(E=x.memoizedState!==null||zo,!E){m=m!==null&&m.memoizedState!==null||Va,H=zo;var W=Va;zo=E,(Va=m)&&!W?Ph(h,x,(x.subtreeFlags&8772)!==0):Rc(h,x),zo=H,Va=W}break;case 30:break;default:Rc(h,x)}}function rA(h){var m=h.alternate;m!==null&&(h.alternate=null,rA(m)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(m=h.stateNode,m!==null&&yu(m)),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}var mo=null,eu=!1;function _d(h,m,x){for(x=x.child;x!==null;)qd(h,m,x),x=x.sibling}function qd(h,m,x){if(Pt&&typeof Pt.onCommitFiberUnmount=="function")try{Pt.onCommitFiberUnmount(Wt,x)}catch{}switch(x.tag){case 26:Va||Ma(x,m),_d(h,m,x),x.memoizedState?x.memoizedState.count--:x.stateNode&&(x=x.stateNode,x.parentNode.removeChild(x));break;case 27:Va||Ma(x,m);var E=mo,H=eu;Cg(x.type)&&(mo=x.stateNode,eu=!1),_d(h,m,x),A1(x.stateNode),mo=E,eu=H;break;case 5:Va||Ma(x,m);case 6:if(E=mo,H=eu,mo=null,_d(h,m,x),mo=E,eu=H,mo!==null)if(eu)try{(mo.nodeType===9?mo.body:mo.nodeName==="HTML"?mo.ownerDocument.body:mo).removeChild(x.stateNode)}catch(W){ro(x,m,W)}else try{mo.removeChild(x.stateNode)}catch(W){ro(x,m,W)}break;case 18:mo!==null&&(eu?(h=mo,r6(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,x.stateNode),Oy(h)):r6(mo,x.stateNode));break;case 4:E=mo,H=eu,mo=x.stateNode.containerInfo,eu=!0,_d(h,m,x),mo=E,eu=H;break;case 0:case 11:case 14:case 15:_a(2,x,m),Va||_a(4,x,m),_d(h,m,x);break;case 1:Va||(Ma(x,m),E=x.stateNode,typeof E.componentWillUnmount=="function"&&Ta(x,m,E)),_d(h,m,x);break;case 21:_d(h,m,x);break;case 22:Va=(E=Va)||x.memoizedState!==null,_d(h,m,x),Va=E;break;default:_d(h,m,x)}}function Q0(h,m){if(m.memoizedState===null&&(h=m.alternate,h!==null&&(h=h.memoizedState,h!==null))){h=h.dehydrated;try{Oy(h)}catch(x){ro(m,m.return,x)}}}function Ty(h,m){if(m.memoizedState===null&&(h=m.alternate,h!==null&&(h=h.memoizedState,h!==null&&(h=h.dehydrated,h!==null))))try{Oy(h)}catch(x){ro(m,m.return,x)}}function Cy(h){switch(h.tag){case 31:case 13:case 19:var m=h.stateNode;return m===null&&(m=h.stateNode=new Gl),m;case 22:return h=h.stateNode,m=h._retryCache,m===null&&(m=h._retryCache=new Gl),m;default:throw Error(n(435,h.tag))}}function op(h,m){var x=Cy(h);m.forEach(function(E){if(!x.has(E)){x.add(E);var H=Soe.bind(null,h,E);E.then(H,H)}})}function yc(h,m){var x=m.deletions;if(x!==null)for(var E=0;E<x.length;E++){var H=x[E],W=h,be=m,Ke=be;e:for(;Ke!==null;){switch(Ke.tag){case 27:if(Cg(Ke.type)){mo=Ke.stateNode,eu=!1;break e}break;case 5:mo=Ke.stateNode,eu=!1;break e;case 3:case 4:mo=Ke.stateNode.containerInfo,eu=!0;break e}Ke=Ke.return}if(mo===null)throw Error(n(160));qd(W,be,H),mo=null,eu=!1,W=H.alternate,W!==null&&(W.return=null),H.return=null}if(m.subtreeFlags&13886)for(m=m.child;m!==null;)QA(m,h),m=m.sibling}var Td=null;function QA(h,m){var x=h.alternate,E=h.flags;switch(h.tag){case 0:case 11:case 14:case 15:yc(m,h),Ca(h),E&4&&(_a(3,h,h.return),gc(3,h),_a(5,h,h.return));break;case 1:yc(m,h),Ca(h),E&512&&(Va||x===null||Ma(x,x.return)),E&64&&zo&&(h=h.updateQueue,h!==null&&(E=h.callbacks,E!==null&&(x=h.shared.hiddenCallbacks,h.shared.hiddenCallbacks=x===null?E:x.concat(E))));break;case 26:var H=Td;if(yc(m,h),Ca(h),E&512&&(Va||x===null||Ma(x,x.return)),E&4){var W=x!==null?x.memoizedState:null;if(E=h.memoizedState,x===null)if(E===null)if(h.stateNode===null){e:{E=h.type,x=h.memoizedProps,H=H.ownerDocument||H;t:switch(E){case"title":W=H.getElementsByTagName("title")[0],(!W||W[Bl]||W[Hi]||W.namespaceURI==="http://www.w3.org/2000/svg"||W.hasAttribute("itemprop"))&&(W=H.createElement(E),H.head.insertBefore(W,H.querySelector("head > title"))),ad(W,E,x),W[Hi]=h,aa(W),E=W;break e;case"link":var be=f6("link","href",H).get(E+(x.href||""));if(be){for(var Ke=0;Ke<be.length;Ke++)if(W=be[Ke],W.getAttribute("href")===(x.href==null||x.href===""?null:x.href)&&W.getAttribute("rel")===(x.rel==null?null:x.rel)&&W.getAttribute("title")===(x.title==null?null:x.title)&&W.getAttribute("crossorigin")===(x.crossOrigin==null?null:x.crossOrigin)){be.splice(Ke,1);break t}}W=H.createElement(E),ad(W,E,x),H.head.appendChild(W);break;case"meta":if(be=f6("meta","content",H).get(E+(x.content||""))){for(Ke=0;Ke<be.length;Ke++)if(W=be[Ke],W.getAttribute("content")===(x.content==null?null:""+x.content)&&W.getAttribute("name")===(x.name==null?null:x.name)&&W.getAttribute("property")===(x.property==null?null:x.property)&&W.getAttribute("http-equiv")===(x.httpEquiv==null?null:x.httpEquiv)&&W.getAttribute("charset")===(x.charSet==null?null:x.charSet)){be.splice(Ke,1);break t}}W=H.createElement(E),ad(W,E,x),H.head.appendChild(W);break;default:throw Error(n(468,E))}W[Hi]=h,aa(W),E=W}h.stateNode=E}else A6(H,h.type,h.stateNode);else h.stateNode=h6(H,E,h.memoizedProps);else W!==E?(W===null?x.stateNode!==null&&(x=x.stateNode,x.parentNode.removeChild(x)):W.count--,E===null?A6(H,h.type,h.stateNode):h6(H,E,h.memoizedProps)):E===null&&h.stateNode!==null&&Qa(h,h.memoizedProps,x.memoizedProps)}break;case 27:yc(m,h),Ca(h),E&512&&(Va||x===null||Ma(x,x.return)),x!==null&&E&4&&Qa(h,h.memoizedProps,x.memoizedProps);break;case 5:if(yc(m,h),Ca(h),E&512&&(Va||x===null||Ma(x,x.return)),h.flags&32){H=h.stateNode;try{Vs(H,"")}catch(ei){ro(h,h.return,ei)}}E&4&&h.stateNode!=null&&(H=h.memoizedProps,Qa(h,H,x!==null?x.memoizedProps:H)),E&1024&&(Lu=!0);break;case 6:if(yc(m,h),Ca(h),E&4){if(h.stateNode===null)throw Error(n(162));E=h.memoizedProps,x=h.stateNode;try{x.nodeValue=E}catch(ei){ro(h,h.return,ei)}}break;case 3:if(J2=null,H=Td,Td=X2(m.containerInfo),yc(m,h),Td=H,Ca(h),E&4&&x!==null&&x.memoizedState.isDehydrated)try{Oy(m.containerInfo)}catch(ei){ro(h,h.return,ei)}Lu&&(Lu=!1,lp(h));break;case 4:E=Td,Td=X2(h.stateNode.containerInfo),yc(m,h),Ca(h),Td=E;break;case 12:yc(m,h),Ca(h);break;case 31:yc(m,h),Ca(h),E&4&&(E=h.updateQueue,E!==null&&(h.updateQueue=null,op(h,E)));break;case 13:yc(m,h),Ca(h),h.child.flags&8192&&h.memoizedState!==null!=(x!==null&&x.memoizedState!==null)&&(Jt=Jr()),E&4&&(E=h.updateQueue,E!==null&&(h.updateQueue=null,op(h,E)));break;case 22:H=h.memoizedState!==null;var Et=x!==null&&x.memoizedState!==null,hr=zo,Ir=Va;if(zo=hr||H,Va=Ir||Et,yc(m,h),Va=Ir,zo=hr,Ca(h),E&8192)e:for(m=h.stateNode,m._visibility=H?m._visibility&-2:m._visibility|1,H&&(x===null||Et||zo||Va||yf(h)),x=null,m=h;;){if(m.tag===5||m.tag===26){if(x===null){Et=x=m;try{if(W=Et.stateNode,H)be=W.style,typeof be.setProperty=="function"?be.setProperty("display","none","important"):be.display="none";else{Ke=Et.stateNode;var Pr=Et.memoizedProps.style,fr=Pr!=null&&Pr.hasOwnProperty("display")?Pr.display:null;Ke.style.display=fr==null||typeof fr=="boolean"?"":(""+fr).trim()}}catch(ei){ro(Et,Et.return,ei)}}}else if(m.tag===6){if(x===null){Et=m;try{Et.stateNode.nodeValue=H?"":Et.memoizedProps}catch(ei){ro(Et,Et.return,ei)}}}else if(m.tag===18){if(x===null){Et=m;try{var mr=Et.stateNode;H?n6(mr,!0):n6(Et.stateNode,!1)}catch(ei){ro(Et,Et.return,ei)}}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===h)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===h)break e;for(;m.sibling===null;){if(m.return===null||m.return===h)break e;x===m&&(x=null),m=m.return}x===m&&(x=null),m.sibling.return=m.return,m=m.sibling}E&4&&(E=h.updateQueue,E!==null&&(x=E.retryQueue,x!==null&&(E.retryQueue=null,op(h,x))));break;case 19:yc(m,h),Ca(h),E&4&&(E=h.updateQueue,E!==null&&(h.updateQueue=null,op(h,E)));break;case 30:break;case 21:break;default:yc(m,h),Ca(h)}}function Ca(h){var m=h.flags;if(m&2){try{for(var x,E=h.return;E!==null;){if(ku(E)){x=E;break}E=E.return}if(x==null)throw Error(n(160));switch(x.tag){case 27:var H=x.stateNode,W=Yi(h);ea(h,W,H);break;case 5:var be=x.stateNode;x.flags&32&&(Vs(be,""),x.flags&=-33);var Ke=Yi(h);ea(h,Ke,be);break;case 3:case 4:var Et=x.stateNode.containerInfo,hr=Yi(h);Ss(h,hr,Et);break;default:throw Error(n(161))}}catch(Ir){ro(h,h.return,Ir)}h.flags&=-3}m&4096&&(h.flags&=-4097)}function lp(h){if(h.subtreeFlags&1024)for(h=h.child;h!==null;){var m=h;lp(m),m.tag===5&&m.flags&1024&&m.stateNode.reset(),h=h.sibling}}function Rc(h,m){if(m.subtreeFlags&8772)for(m=m.child;m!==null;)ap(h,m.alternate,m),m=m.sibling}function yf(h){for(h=h.child;h!==null;){var m=h;switch(m.tag){case 0:case 11:case 14:case 15:_a(4,m,m.return),yf(m);break;case 1:Ma(m,m.return);var x=m.stateNode;typeof x.componentWillUnmount=="function"&&Ta(m,m.return,x),yf(m);break;case 27:A1(m.stateNode);case 26:case 5:Ma(m,m.return),yf(m);break;case 22:m.memoizedState===null&&yf(m);break;case 30:yf(m);break;default:yf(m)}h=h.sibling}}function Ph(h,m,x){for(x=x&&(m.subtreeFlags&8772)!==0,m=m.child;m!==null;){var E=m.alternate,H=h,W=m,be=W.flags;switch(W.tag){case 0:case 11:case 15:Ph(H,W,x),gc(4,W);break;case 1:if(Ph(H,W,x),E=W,H=E.stateNode,typeof H.componentDidMount=="function")try{H.componentDidMount()}catch(hr){ro(E,E.return,hr)}if(E=W,H=E.updateQueue,H!==null){var Ke=E.stateNode;try{var Et=H.shared.hiddenCallbacks;if(Et!==null)for(H.shared.hiddenCallbacks=null,H=0;H<Et.length;H++)Ns(Et[H],Ke)}catch(hr){ro(E,E.return,hr)}}x&&be&64&&vc(W),Zr(W,W.return);break;case 27:Bu(W);case 26:case 5:Ph(H,W,x),x&&E===null&&be&4&&Sl(W),Zr(W,W.return);break;case 12:Ph(H,W,x);break;case 31:Ph(H,W,x),x&&be&4&&Q0(H,W);break;case 13:Ph(H,W,x),x&&be&4&&Ty(H,W);break;case 22:W.memoizedState===null&&Ph(H,W,x),Zr(W,W.return);break;case 30:break;default:Ph(H,W,x)}m=m.sibling}}function xf(h,m){var x=null;h!==null&&h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(x=h.memoizedState.cachePool.pool),h=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(h=m.memoizedState.cachePool.pool),h!==x&&(h!=null&&h.refCount++,x!=null&&Ah(x))}function Dh(h,m){h=null,m.alternate!==null&&(h=m.alternate.memoizedState.cache),m=m.memoizedState.cache,m!==h&&(m.refCount++,h!=null&&Ah(h))}function Oc(h,m,x,E){if(m.subtreeFlags&10256)for(m=m.child;m!==null;)Mh(h,m,x,E),m=m.sibling}function Mh(h,m,x,E){var H=m.flags;switch(m.tag){case 0:case 11:case 15:Oc(h,m,x,E),H&2048&&gc(9,m);break;case 1:Oc(h,m,x,E);break;case 3:Oc(h,m,x,E),H&2048&&(h=null,m.alternate!==null&&(h=m.alternate.memoizedState.cache),m=m.memoizedState.cache,m!==h&&(m.refCount++,h!=null&&Ah(h)));break;case 12:if(H&2048){Oc(h,m,x,E),h=m.stateNode;try{var W=m.memoizedProps,be=W.id,Ke=W.onPostCommit;typeof Ke=="function"&&Ke(be,m.alternate===null?"mount":"update",h.passiveEffectDuration,-0)}catch(Et){ro(m,m.return,Et)}}else Oc(h,m,x,E);break;case 31:Oc(h,m,x,E);break;case 13:Oc(h,m,x,E);break;case 23:break;case 22:W=m.stateNode,be=m.alternate,m.memoizedState!==null?W._visibility&2?Oc(h,m,x,E):VA(h,m):W._visibility&2?Oc(h,m,x,E):(W._visibility|=2,Cd(h,m,x,E,(m.subtreeFlags&10256)!==0||!1)),H&2048&&xf(be,m);break;case 24:Oc(h,m,x,E),H&2048&&Dh(m.alternate,m);break;default:Oc(h,m,x,E)}}function Cd(h,m,x,E,H){for(H=H&&((m.subtreeFlags&10256)!==0||!1),m=m.child;m!==null;){var W=h,be=m,Ke=x,Et=E,hr=be.flags;switch(be.tag){case 0:case 11:case 15:Cd(W,be,Ke,Et,H),gc(8,be);break;case 23:break;case 22:var Ir=be.stateNode;be.memoizedState!==null?Ir._visibility&2?Cd(W,be,Ke,Et,H):VA(W,be):(Ir._visibility|=2,Cd(W,be,Ke,Et,H)),H&&hr&2048&&xf(be.alternate,be);break;case 24:Cd(W,be,Ke,Et,H),H&&hr&2048&&Dh(be.alternate,be);break;default:Cd(W,be,Ke,Et,H)}m=m.sibling}}function VA(h,m){if(m.subtreeFlags&10256)for(m=m.child;m!==null;){var x=h,E=m,H=E.flags;switch(E.tag){case 22:VA(x,E),H&2048&&xf(E.alternate,E);break;case 24:VA(x,E),H&2048&&Dh(E.alternate,E);break;default:VA(x,E)}m=m.sibling}}var cp=8192;function bf(h,m,x){if(h.subtreeFlags&cp)for(h=h.child;h!==null;)nA(h,m,x),h=h.sibling}function nA(h,m,x){switch(h.tag){case 26:bf(h,m,x),h.flags&cp&&h.memoizedState!==null&&tle(x,Td,h.memoizedState,h.memoizedProps);break;case 5:bf(h,m,x);break;case 3:case 4:var E=Td;Td=X2(h.stateNode.containerInfo),bf(h,m,x),Td=E;break;case 22:h.memoizedState===null&&(E=h.alternate,E!==null&&E.memoizedState!==null?(E=cp,cp=16777216,bf(h,m,x),cp=E):bf(h,m,x));break;default:bf(h,m,x)}}function V0(h){var m=h.alternate;if(m!==null&&(h=m.child,h!==null)){m.child=null;do m=h.sibling,h.sibling=null,h=m;while(h!==null)}}function KA(h){var m=h.deletions;if((h.flags&16)!==0){if(m!==null)for(var x=0;x<m.length;x++){var E=m[x];sl=E,Ny(E,h)}V0(h)}if(h.subtreeFlags&10256)for(h=h.child;h!==null;)jy(h),h=h.sibling}function jy(h){switch(h.tag){case 0:case 11:case 15:KA(h),h.flags&2048&&_a(9,h,h.return);break;case 3:KA(h);break;case 12:KA(h);break;case 22:var m=h.stateNode;h.memoizedState!==null&&m._visibility&2&&(h.return===null||h.return.tag!==13)?(m._visibility&=-3,up(h)):KA(h);break;default:KA(h)}}function up(h){var m=h.deletions;if((h.flags&16)!==0){if(m!==null)for(var x=0;x<m.length;x++){var E=m[x];sl=E,Ny(E,h)}V0(h)}for(h=h.child;h!==null;){switch(m=h,m.tag){case 0:case 11:case 15:_a(8,m,m.return),up(m);break;case 22:x=m.stateNode,x._visibility&2&&(x._visibility&=-3,up(m));break;default:up(m)}h=h.sibling}}function Ny(h,m){for(;sl!==null;){var x=sl;switch(x.tag){case 0:case 11:case 15:_a(8,x,m);break;case 23:case 22:if(x.memoizedState!==null&&x.memoizedState.cachePool!==null){var E=x.memoizedState.cachePool.pool;E!=null&&E.refCount++}break;case 24:Ah(x.memoizedState.cache)}if(E=x.child,E!==null)E.return=x,sl=E;else e:for(x=h;sl!==null;){E=sl;var H=E.sibling,W=E.return;if(rA(E),E===x){sl=null;break e}if(H!==null){H.return=W,sl=H;break e}sl=W}}}var dp={getCacheForType:function(h){var m=Oa(Za),x=m.data.get(h);return x===void 0&&(x=h(),m.data.set(h,x)),x},cacheSignal:function(){return Oa(Za).controller.signal}},K0=typeof WeakMap=="function"?WeakMap:Map,Ks=0,Ms=null,es=null,os=0,ta=0,tu=null,Fh=!1,GA=!1,R=!1,N=0,F=0,M=0,ce=0,Ee=0,Le=0,rt=0,nt=null,It=null,$t=!1,Jt=0,Tr=0,jn=1/0,nn=null,gn=null,hi=0,Hn=null,Un=null,_s=0,ms=0,Fi=null,In=null,Rs=0,Gs=null;function pi(){return(Ks&2)!==0&&os!==0?os&-os:ne.T!==null?V5():ws()}function _l(){if(Le===0)if((os&536870912)===0||mn){var h=Qr;Qr<<=1,(Qr&3932160)===0&&(Qr=262144),Le=h}else Le=536870912;return h=Vo.current,h!==null&&(h.flags|=32),Le}function to(h,m,x){(h===Ms&&(ta===2||ta===9)||h.cancelPendingCommit!==null)&&(xh(h,0),sd(h,os,Le,!1)),ys(h,x),((Ks&2)===0||h!==Ms)&&(h===Ms&&((Ks&2)===0&&(ce|=x),F===4&&sd(h,os,Le,!1)),YA(h))}function jd(h,m,x){if((Ks&6)!==0)throw Error(n(327));var E=!x&&(m&127)===0&&(m&h.expiredLanes)===0||yn(h,m),H=E?_g(h,m):sA(h,m,!0),W=E;do{if(H===0){GA&&!E&&sd(h,m,0,!1);break}else{if(x=h.current.alternate,W&&!ru(x)){H=sA(h,m,!1),W=!1;continue}if(H===2){if(W=m,h.errorRecoveryDisabledLanes&W)var be=0;else be=h.pendingLanes&-536870913,be=be!==0?be:be&536870912?536870912:0;if(be!==0){m=be;e:{var Ke=h;H=nt;var Et=Ke.current.memoizedState.isDehydrated;if(Et&&(xh(Ke,be).flags|=256),be=sA(Ke,be,!1),be!==2){if(R&&!Et){Ke.errorRecoveryDisabledLanes|=W,ce|=W,H=4;break e}W=It,It=H,W!==null&&(It===null?It=W:It.push.apply(It,W))}H=be}if(W=!1,H!==2)continue}}if(H===1){xh(h,0),sd(h,m,0,!0);break}e:{switch(E=h,W=H,W){case 0:case 1:throw Error(n(345));case 4:if((m&4194048)!==m)break;case 6:sd(E,m,Le,!Fh);break e;case 2:It=null;break;case 3:case 5:break;default:throw Error(n(329))}if((m&62914560)===m&&(H=Jt+300-Jr(),10<H)){if(sd(E,m,Le,!Fh),Xr(E,0,!0)!==0)break e;_s=m,E.timeoutHandle=e6(Fa.bind(null,E,x,It,nn,$t,m,Le,ce,rt,Fh,W,"Throttled",-0,0),H);break e}Fa(E,x,It,nn,$t,m,Le,ce,rt,Fh,W,null,-0,0)}}break}while(!0);YA(h)}function Fa(h,m,x,E,H,W,be,Ke,Et,hr,Ir,Pr,fr,mr){if(h.timeoutHandle=-1,Pr=m.subtreeFlags,Pr&8192||(Pr&16785408)===16785408){Pr={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:te},nA(m,W,Pr);var ei=(W&62914560)===W?Jt-Jr():(W&4194048)===W?Tr-Jr():0;if(ei=rle(Pr,ei),ei!==null){_s=W,h.cancelPendingCommit=ei(BU.bind(null,h,m,W,x,E,H,be,Ke,Et,Ir,Pr,null,fr,mr)),sd(h,W,be,!hr);return}}BU(h,m,W,x,E,H,be,Ke,Et)}function ru(h){for(var m=h;;){var x=m.tag;if((x===0||x===11||x===15)&&m.flags&16384&&(x=m.updateQueue,x!==null&&(x=x.stores,x!==null)))for(var E=0;E<x.length;E++){var H=x[E],W=H.getSnapshot;H=H.value;try{if(!fn(W(),H))return!1}catch{return!1}}if(x=m.child,m.subtreeFlags&16384&&x!==null)x.return=m,m=x;else{if(m===h)break;for(;m.sibling===null;){if(m.return===null||m.return===h)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function sd(h,m,x,E){m&=~Ee,m&=~ce,h.suspendedLanes|=m,h.pingedLanes&=~m,E&&(h.warmLanes|=m),E=h.expirationTimes;for(var H=m;0<H;){var W=31-Br(H),be=1<<W;E[W]=-1,H&=~be}x!==0&&zr(h,x,m)}function nu(){return(Ks&6)===0?(d1(0),!1):!0}function Ru(){if(es!==null){if(ta===0)var h=es.return;else h=es,Zu=dc=null,Gm(h),ir=null,Ot=0,h=es;for(;h!==null;)Kl(h.alternate,h),h=h.return;es=null}}function xh(h,m){var x=h.timeoutHandle;x!==-1&&(h.timeoutHandle=-1,Moe(x)),x=h.cancelPendingCommit,x!==null&&(h.cancelPendingCommit=null,x()),_s=0,Ru(),Ms=h,es=x=qc(h.current,null),os=m,ta=0,tu=null,Fh=!1,GA=yn(h,m),R=!1,rt=Le=Ee=ce=M=F=0,It=nt=null,$t=!1,(m&8)!==0&&(m|=m&32);var E=h.entangledLanes;if(E!==0)for(h=h.entanglements,E&=m;0<E;){var H=31-Br(E),W=1<<H;m|=h[H],E&=~W}return N=m,Xu(),x}function Uh(h,m){Li=null,ne.H=rp,m===oa||m===Js?(m=mt(),ta=3):m===Ja?(m=mt(),ta=4):ta=m===Pe?8:m!==null&&typeof m=="object"&&typeof m.then=="function"?6:1,tu=m,es===null&&(F=1,HA(h,Ho(m,h.current)))}function iA(){var h=Vo.current;return h===null?!0:(os&4194048)===os?wl===null:(os&62914560)===os||(os&536870912)!==0?h===wl:!1}function zA(){var h=ne.H;return ne.H=rp,h===null?rp:h}function WA(){var h=ne.A;return ne.A=dp,h}function bh(){F=4,Fh||(os&4194048)!==os&&Vo.current!==null||(GA=!0),(M&134217727)===0&&(ce&134217727)===0||Ms===null||sd(Ms,os,Le,!1)}function sA(h,m,x){var E=Ks;Ks|=2;var H=zA(),W=WA();(Ms!==h||os!==m)&&(nn=null,xh(h,m)),m=!1;var be=F;e:do try{if(ta!==0&&es!==null){var Ke=es,Et=tu;switch(ta){case 8:Ru(),be=6;break e;case 3:case 2:case 9:case 6:Vo.current===null&&(m=!0);var hr=ta;if(ta=0,tu=null,Iy(h,Ke,Et,hr),x&&GA){be=0;break e}break;default:hr=ta,ta=0,tu=null,Iy(h,Ke,Et,hr)}}aA(),be=F;break}catch(Ir){Uh(h,Ir)}while(!0);return m&&h.shellSuspendCounter++,Zu=dc=null,Ks=E,ne.H=H,ne.A=W,es===null&&(Ms=null,os=0,Xu()),be}function aA(){for(;es!==null;)NU(es)}function _g(h,m){var x=Ks;Ks|=2;var E=zA(),H=WA();Ms!==h||os!==m?(nn=null,jn=Jr()+500,xh(h,m)):GA=yn(h,m);e:do try{if(ta!==0&&es!==null){m=es;var W=tu;t:switch(ta){case 1:ta=0,tu=null,Iy(h,m,W,1);break;case 2:case 9:if(k(W)){ta=0,tu=null,IU(m);break}m=function(){ta!==2&&ta!==9||Ms!==h||(ta=7),YA(h)},W.then(m,m);break e;case 3:ta=7;break e;case 4:ta=5;break e;case 7:k(W)?(ta=0,tu=null,IU(m)):(ta=0,tu=null,Iy(h,m,W,7));break;case 5:var be=null;switch(es.tag){case 26:be=es.memoizedState;case 5:case 27:var Ke=es;if(be?m6(be):Ke.stateNode.complete){ta=0,tu=null;var Et=Ke.sibling;if(Et!==null)es=Et;else{var hr=Ke.return;hr!==null?(es=hr,V2(hr)):es=null}break t}}ta=0,tu=null,Iy(h,m,W,5);break;case 6:ta=0,tu=null,Iy(h,m,W,6);break;case 8:Ru(),F=6;break e;default:throw Error(n(462))}}G0();break}catch(Ir){Uh(h,Ir)}while(!0);return Zu=dc=null,ne.H=E,ne.A=H,Ks=x,es!==null?0:(Ms=null,os=0,Xu(),F)}function G0(){for(;es!==null&&!hn();)NU(es)}function NU(h){var m=Ql(h.alternate,h,N);h.memoizedProps=h.pendingProps,m===null?V2(h):es=m}function IU(h){var m=h,x=m.alternate;switch(m.tag){case 15:case 0:m=Vr(x,m,m.pendingProps,m.type,void 0,os);break;case 11:m=Vr(x,m,m.pendingProps,m.type.render,m.ref,os);break;case 5:Gm(m);default:Kl(x,m),m=es=wu(m,N),m=Ql(x,m,N)}h.memoizedProps=h.pendingProps,m===null?V2(h):es=m}function Iy(h,m,x,E){Zu=dc=null,Gm(m),ir=null,Ot=0;var H=m.return;try{if(Ie(h,H,m,x,os)){F=1,HA(h,Ho(x,h.current)),es=null;return}}catch(W){if(H!==null)throw es=H,W;F=1,HA(h,Ho(x,h.current)),es=null;return}m.flags&32768?(mn||E===1?h=!0:GA||(os&536870912)!==0?h=!1:(Fh=h=!0,(E===2||E===9||E===3||E===6)&&(E=Vo.current,E!==null&&E.tag===13&&(E.flags|=16384))),kU(m,h)):V2(m)}function V2(h){var m=h;do{if((m.flags&32768)!==0){kU(m,Fh);return}h=m.return;var x=Go(m.alternate,m,N);if(x!==null){es=x;return}if(m=m.sibling,m!==null){es=m;return}es=m=h}while(m!==null);F===0&&(F=5)}function kU(h,m){do{var x=xa(h.alternate,h);if(x!==null){x.flags&=32767,es=x;return}if(x=h.return,x!==null&&(x.flags|=32768,x.subtreeFlags=0,x.deletions=null),!m&&(h=h.sibling,h!==null)){es=h;return}es=h=x}while(h!==null);F=6,es=null}function BU(h,m,x,E,H,W,be,Ke,Et){h.cancelPendingCommit=null;do K2();while(hi!==0);if((Ks&6)!==0)throw Error(n(327));if(m!==null){if(m===h.current)throw Error(n(177));if(W=m.lanes|m.childLanes,W|=vl,$n(h,x,W,be,Ke,Et),h===Ms&&(es=Ms=null,os=0),Un=m,Hn=h,_s=x,ms=W,Fi=H,In=E,(m.subtreeFlags&10256)!==0||(m.flags&10256)!==0?(h.callbackNode=null,h.callbackPriority=0,_oe(Qn,function(){return DU(),null})):(h.callbackNode=null,h.callbackPriority=0),E=(m.flags&13878)!==0,(m.subtreeFlags&13878)!==0||E){E=ne.T,ne.T=null,H=Ae.p,Ae.p=2,be=Ks,Ks|=4;try{Sg(h,m,x)}finally{Ks=be,Ae.p=H,ne.T=E}}hi=1,LU(),RU(),OU()}}function LU(){if(hi===1){hi=0;var h=Hn,m=Un,x=(m.flags&13878)!==0;if((m.subtreeFlags&13878)!==0||x){x=ne.T,ne.T=null;var E=Ae.p;Ae.p=2;var H=Ks;Ks|=4;try{QA(m,h);var W=Z5,be=xu(h.containerInfo),Ke=W.focusedElem,Et=W.selectionRange;if(be!==Ke&&Ke&&Ke.ownerDocument&&cl(Ke.ownerDocument.documentElement,Ke)){if(Et!==null&&xi(Ke)){var hr=Et.start,Ir=Et.end;if(Ir===void 0&&(Ir=hr),"selectionStart"in Ke)Ke.selectionStart=hr,Ke.selectionEnd=Math.min(Ir,Ke.value.length);else{var Pr=Ke.ownerDocument||document,fr=Pr&&Pr.defaultView||window;if(fr.getSelection){var mr=fr.getSelection(),ei=Ke.textContent.length,Ui=Math.min(Et.start,ei),go=Et.end===void 0?Ui:Math.min(Et.end,ei);!mr.extend&&Ui>go&&(be=go,go=Ui,Ui=be);var Yt=Co(Ke,Ui),Lt=Co(Ke,go);if(Yt&&Lt&&(mr.rangeCount!==1||mr.anchorNode!==Yt.node||mr.anchorOffset!==Yt.offset||mr.focusNode!==Lt.node||mr.focusOffset!==Lt.offset)){var ur=Pr.createRange();ur.setStart(Yt.node,Yt.offset),mr.removeAllRanges(),Ui>go?(mr.addRange(ur),mr.extend(Lt.node,Lt.offset)):(ur.setEnd(Lt.node,Lt.offset),mr.addRange(ur))}}}}for(Pr=[],mr=Ke;mr=mr.parentNode;)mr.nodeType===1&&Pr.push({element:mr,left:mr.scrollLeft,top:mr.scrollTop});for(typeof Ke.focus=="function"&&Ke.focus(),Ke=0;Ke<Pr.length;Ke++){var Rr=Pr[Ke];Rr.element.scrollLeft=Rr.left,Rr.element.scrollTop=Rr.top}}nS=!!X5,Z5=X5=null}finally{Ks=H,Ae.p=E,ne.T=x}}h.current=m,hi=2}}function RU(){if(hi===2){hi=0;var h=Hn,m=Un,x=(m.flags&8772)!==0;if((m.subtreeFlags&8772)!==0||x){x=ne.T,ne.T=null;var E=Ae.p;Ae.p=2;var H=Ks;Ks|=4;try{ap(h,m.alternate,m)}finally{Ks=H,Ae.p=E,ne.T=x}}hi=3}}function OU(){if(hi===4||hi===3){hi=0,Tn();var h=Hn,m=Un,x=_s,E=In;(m.subtreeFlags&10256)!==0||(m.flags&10256)!==0?hi=5:(hi=0,Un=Hn=null,PU(h,h.pendingLanes));var H=h.pendingLanes;if(H===0&&(gn=null),La(x),m=m.stateNode,Pt&&typeof Pt.onCommitFiberRoot=="function")try{Pt.onCommitFiberRoot(Wt,m,void 0,(m.current.flags&128)===128)}catch{}if(E!==null){m=ne.T,H=Ae.p,Ae.p=2,ne.T=null;try{for(var W=h.onRecoverableError,be=0;be<E.length;be++){var Ke=E[be];W(Ke.value,{componentStack:Ke.stack})}}finally{ne.T=m,Ae.p=H}}(_s&3)!==0&&K2(),YA(h),H=h.pendingLanes,(x&261930)!==0&&(H&42)!==0?h===Gs?Rs++:(Rs=0,Gs=h):Rs=0,d1(0)}}function PU(h,m){(h.pooledCacheLanes&=m)===0&&(m=h.pooledCache,m!=null&&(h.pooledCache=null,Ah(m)))}function K2(){return LU(),RU(),OU(),DU()}function DU(){if(hi!==5)return!1;var h=Hn,m=ms;ms=0;var x=La(_s),E=ne.T,H=Ae.p;try{Ae.p=32>x?32:x,ne.T=null,x=Fi,Fi=null;var W=Hn,be=_s;if(hi=0,Un=Hn=null,_s=0,(Ks&6)!==0)throw Error(n(331));var Ke=Ks;if(Ks|=4,jy(W.current),Mh(W,W.current,be,x),Ks=Ke,d1(0,!1),Pt&&typeof Pt.onPostCommitFiberRoot=="function")try{Pt.onPostCommitFiberRoot(Wt,W)}catch{}return!0}finally{Ae.p=H,ne.T=E,PU(h,m)}}function MU(h,m,x){m=Ho(x,m),m=K(h.stateNode,m,2),h=wi(h,m,2),h!==null&&(ys(h,2),YA(h))}function ro(h,m,x){if(h.tag===3)MU(h,h,x);else for(;m!==null;){if(m.tag===3){MU(m,h,x);break}else if(m.tag===1){var E=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof E.componentDidCatch=="function"&&(gn===null||!gn.has(E))){h=Ho(x,h),x=le(2),E=wi(m,x,2),E!==null&&(ye(x,E,m,h),ys(E,2),YA(E));break}}m=m.return}}function $5(h,m,x){var E=h.pingCache;if(E===null){E=h.pingCache=new K0;var H=new Set;E.set(m,H)}else H=E.get(m),H===void 0&&(H=new Set,E.set(m,H));H.has(x)||(R=!0,H.add(x),h=woe.bind(null,h,m,x),m.then(h,h))}function woe(h,m,x){var E=h.pingCache;E!==null&&E.delete(m),h.pingedLanes|=h.suspendedLanes&x,h.warmLanes&=~x,Ms===h&&(os&x)===x&&(F===4||F===3&&(os&62914560)===os&&300>Jr()-Jt?(Ks&2)===0&&xh(h,0):Ee|=x,rt===os&&(rt=0)),YA(h)}function FU(h,m){m===0&&(m=ds()),h=bu(h,m),h!==null&&(ys(h,m),YA(h))}function Eoe(h){var m=h.memoizedState,x=0;m!==null&&(x=m.retryLane),FU(h,x)}function Soe(h,m){var x=0;switch(h.tag){case 31:case 13:var E=h.stateNode,H=h.memoizedState;H!==null&&(x=H.retryLane);break;case 19:E=h.stateNode;break;case 22:E=h.stateNode._retryCache;break;default:throw Error(n(314))}E!==null&&E.delete(m),FU(h,x)}function _oe(h,m){return yr(h,m)}var G2=null,ky=null,H5=!1,z2=!1,Q5=!1,Tg=0;function YA(h){h!==ky&&h.next===null&&(ky===null?G2=ky=h:ky=ky.next=h),z2=!0,H5||(H5=!0,Coe())}function d1(h,m){if(!Q5&&z2){Q5=!0;do for(var x=!1,E=G2;E!==null;){if(h!==0){var H=E.pendingLanes;if(H===0)var W=0;else{var be=E.suspendedLanes,Ke=E.pingedLanes;W=(1<<31-Br(42|h)+1)-1,W&=H&~(be&~Ke),W=W&201326741?W&201326741|1:W?W|2:0}W!==0&&(x=!0,QU(E,W))}else W=os,W=Xr(E,E===Ms?W:0,E.cancelPendingCommit!==null||E.timeoutHandle!==-1),(W&3)===0||yn(E,W)||(x=!0,QU(E,W));E=E.next}while(x);Q5=!1}}function Toe(){UU()}function UU(){z2=H5=!1;var h=0;Tg!==0&&Doe()&&(h=Tg);for(var m=Jr(),x=null,E=G2;E!==null;){var H=E.next,W=$U(E,m);W===0?(E.next=null,x===null?G2=H:x.next=H,H===null&&(ky=x)):(x=E,(h!==0||(W&3)!==0)&&(z2=!0)),E=H}hi!==0&&hi!==5||d1(h),Tg!==0&&(Tg=0)}function $U(h,m){for(var x=h.suspendedLanes,E=h.pingedLanes,H=h.expirationTimes,W=h.pendingLanes&-62914561;0<W;){var be=31-Br(W),Ke=1<<be,Et=H[be];Et===-1?((Ke&x)===0||(Ke&E)!==0)&&(H[be]=Wn(Ke,m)):Et<=m&&(h.expiredLanes|=Ke),W&=~Ke}if(m=Ms,x=os,x=Xr(h,h===m?x:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),E=h.callbackNode,x===0||h===m&&(ta===2||ta===9)||h.cancelPendingCommit!==null)return E!==null&&E!==null&&Wr(E),h.callbackNode=null,h.callbackPriority=0;if((x&3)===0||yn(h,x)){if(m=x&-x,m===h.callbackPriority)return m;switch(E!==null&&Wr(E),La(x)){case 2:case 8:x=Fn;break;case 32:x=Qn;break;case 268435456:x=Je;break;default:x=Qn}return E=HU.bind(null,h),x=yr(x,E),h.callbackPriority=m,h.callbackNode=x,m}return E!==null&&E!==null&&Wr(E),h.callbackPriority=2,h.callbackNode=null,2}function HU(h,m){if(hi!==0&&hi!==5)return h.callbackNode=null,h.callbackPriority=0,null;var x=h.callbackNode;if(K2()&&h.callbackNode!==x)return null;var E=os;return E=Xr(h,h===Ms?E:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),E===0?null:(jd(h,E,m),$U(h,Jr()),h.callbackNode!=null&&h.callbackNode===x?HU.bind(null,h):null)}function QU(h,m){if(K2())return null;jd(h,m,!0)}function Coe(){Foe(function(){(Ks&6)!==0?yr(on,Toe):UU()})}function V5(){if(Tg===0){var h=dt;h===0&&(h=Vn,Vn<<=1,(Vn&261888)===0&&(Vn=256)),Tg=h}return Tg}function VU(h){return h==null||typeof h=="symbol"||typeof h=="boolean"?null:typeof h=="function"?h:Z(""+h)}function KU(h,m){var x=m.ownerDocument.createElement("input");return x.name=m.name,x.value=m.value,h.id&&x.setAttribute("form",h.id),m.parentNode.insertBefore(x,m),h=new FormData(h),x.parentNode.removeChild(x),h}function joe(h,m,x,E,H){if(m==="submit"&&x&&x.stateNode===H){var W=VU((H[Hs]||null).action),be=E.submitter;be&&(m=(m=be[Hs]||null)?VU(m.formAction):be.getAttribute("formAction"),m!==null&&(W=m,be=null));var Ke=new xe("action","action",null,E,H);h.push({event:Ke,listeners:[{instance:null,listener:function(){if(E.defaultPrevented){if(Tg!==0){var Et=be?KU(H,be):new FormData(H);tp(x,{pending:!0,data:Et,method:H.method,action:W},null,Et)}}else typeof W=="function"&&(Ke.preventDefault(),Et=be?KU(H,be):new FormData(H),tp(x,{pending:!0,data:Et,method:H.method,action:W},W,Et))},currentTarget:H}]})}}for(var K5=0;K5<qu.length;K5++){var G5=qu[K5],Noe=G5.toLowerCase(),Ioe=G5[0].toUpperCase()+G5.slice(1);cc(Noe,"on"+Ioe)}cc(Wc,"onAnimationEnd"),cc(Ol,"onAnimationIteration"),cc(_c,"onAnimationStart"),cc("dblclick","onDoubleClick"),cc("focusin","onFocus"),cc("focusout","onBlur"),cc(Ud,"onTransitionRun"),cc(Tc,"onTransitionStart"),cc(Pl,"onTransitionCancel"),cc(gd,"onTransitionEnd"),lo("onMouseEnter",["mouseout","mouseover"]),lo("onMouseLeave",["mouseout","mouseover"]),lo("onPointerEnter",["pointerout","pointerover"]),lo("onPointerLeave",["pointerout","pointerover"]),Ga("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ga("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ga("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ga("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ga("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ga("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var h1="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),koe=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(h1));function GU(h,m){m=(m&4)!==0;for(var x=0;x<h.length;x++){var E=h[x],H=E.event;E=E.listeners;e:{var W=void 0;if(m)for(var be=E.length-1;0<=be;be--){var Ke=E[be],Et=Ke.instance,hr=Ke.currentTarget;if(Ke=Ke.listener,Et!==W&&H.isPropagationStopped())break e;W=Ke,H.currentTarget=hr;try{W(H)}catch(Ir){vd(Ir)}H.currentTarget=null,W=Et}else for(be=0;be<E.length;be++){if(Ke=E[be],Et=Ke.instance,hr=Ke.currentTarget,Ke=Ke.listener,Et!==W&&H.isPropagationStopped())break e;W=Ke,H.currentTarget=hr;try{W(H)}catch(Ir){vd(Ir)}H.currentTarget=null,W=Et}}}}function qs(h,m){var x=m[_o];x===void 0&&(x=m[_o]=new Set);var E=h+"__bubble";x.has(E)||(zU(m,h,2,!1),x.add(E))}function z5(h,m,x){var E=0;m&&(E|=4),zU(x,h,E,m)}var W2="_reactListening"+Math.random().toString(36).slice(2);function W5(h){if(!h[W2]){h[W2]=!0,bs.forEach(function(x){x!=="selectionchange"&&(koe.has(x)||z5(x,!1,h),z5(x,!0,h))});var m=h.nodeType===9?h:h.ownerDocument;m===null||m[W2]||(m[W2]=!0,z5("selectionchange",!1,m))}}function zU(h,m,x,E){switch(w6(m)){case 2:var H=sle;break;case 8:H=ale;break;default:H=cI}x=H.bind(null,m,x,h),H=void 0,!O||m!=="touchstart"&&m!=="touchmove"&&m!=="wheel"||(H=!0),E?H!==void 0?h.addEventListener(m,x,{capture:!0,passive:H}):h.addEventListener(m,x,!0):H!==void 0?h.addEventListener(m,x,{passive:H}):h.addEventListener(m,x,!1)}function Y5(h,m,x,E,H){var W=E;if((m&1)===0&&(m&2)===0&&E!==null)e:for(;;){if(E===null)return;var be=E.tag;if(be===3||be===4){var Ke=E.stateNode.containerInfo;if(Ke===H)break;if(be===4)for(be=E.return;be!==null;){var Et=be.tag;if((Et===3||Et===4)&&be.stateNode.containerInfo===H)return;be=be.return}for(;Ke!==null;){if(be=fl(Ke),be===null)return;if(Et=be.tag,Et===5||Et===6||Et===26||Et===27){E=W=be;continue e}Ke=Ke.parentNode}}E=E.return}tt(function(){var hr=W,Ir=$(x),Pr=[];e:{var fr=$d.get(h);if(fr!==void 0){var mr=xe,ei=h;switch(h){case"keypress":if(ae(x)===0)break e;case"keydown":case"keyup":mr=$r;break;case"focusin":ei="focus",mr=zt;break;case"focusout":ei="blur",mr=zt;break;case"beforeblur":case"afterblur":mr=zt;break;case"click":if(x.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":mr=St;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":mr=Mt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":mr=Ft;break;case Wc:case Ol:case _c:mr=cr;break;case gd:mr=nr;break;case"scroll":case"scrollend":mr=At;break;case"wheel":mr=br;break;case"copy":case"cut":case"paste":mr=lt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":mr=vt;break;case"toggle":case"beforetoggle":mr=tn}var Ui=(m&4)!==0,go=!Ui&&(h==="scroll"||h==="scrollend"),Yt=Ui?fr!==null?fr+"Capture":null:fr;Ui=[];for(var Lt=hr,ur;Lt!==null;){var Rr=Lt;if(ur=Rr.stateNode,Rr=Rr.tag,Rr!==5&&Rr!==26&&Rr!==27||ur===null||Yt===null||(Rr=I(Lt,Yt),Rr!=null&&Ui.push(f1(Lt,Rr,ur))),go)break;Lt=Lt.return}0<Ui.length&&(fr=new mr(fr,ei,null,x,Ir),Pr.push({event:fr,listeners:Ui}))}}if((m&7)===0){e:{if(fr=h==="mouseover"||h==="pointerover",mr=h==="mouseout"||h==="pointerout",fr&&x!==P&&(ei=x.relatedTarget||x.fromElement)&&(fl(ei)||ei[xs]))break e;if((mr||fr)&&(fr=Ir.window===Ir?Ir:(fr=Ir.ownerDocument)?fr.defaultView||fr.parentWindow:window,mr?(ei=x.relatedTarget||x.toElement,mr=hr,ei=ei?fl(ei):null,ei!==null&&(go=s(ei),Ui=ei.tag,ei!==go||Ui!==5&&Ui!==27&&Ui!==6)&&(ei=null)):(mr=null,ei=hr),mr!==ei)){if(Ui=St,Rr="onMouseLeave",Yt="onMouseEnter",Lt="mouse",(h==="pointerout"||h==="pointerover")&&(Ui=vt,Rr="onPointerLeave",Yt="onPointerEnter",Lt="pointer"),go=mr==null?fr:oo(mr),ur=ei==null?fr:oo(ei),fr=new Ui(Rr,Lt+"leave",mr,x,Ir),fr.target=go,fr.relatedTarget=ur,Rr=null,fl(Ir)===hr&&(Ui=new Ui(Yt,Lt+"enter",ei,x,Ir),Ui.target=ur,Ui.relatedTarget=go,Rr=Ui),go=Rr,mr&&ei)t:{for(Ui=Boe,Yt=mr,Lt=ei,ur=0,Rr=Yt;Rr;Rr=Ui(Rr))ur++;Rr=0;for(var ki=Lt;ki;ki=Ui(ki))Rr++;for(;0<ur-Rr;)Yt=Ui(Yt),ur--;for(;0<Rr-ur;)Lt=Ui(Lt),Rr--;for(;ur--;){if(Yt===Lt||Lt!==null&&Yt===Lt.alternate){Ui=Yt;break t}Yt=Ui(Yt),Lt=Ui(Lt)}Ui=null}else Ui=null;mr!==null&&WU(Pr,fr,mr,Ui,!1),ei!==null&&go!==null&&WU(Pr,go,ei,Ui,!0)}}e:{if(fr=hr?oo(hr):window,mr=fr.nodeName&&fr.nodeName.toLowerCase(),mr==="select"||mr==="input"&&fr.type==="file")var ja=Gn;else if(Qi(fr))if(Bi)ja=Ys;else{ja=ji;var fi=ga}else mr=fr.nodeName,!mr||mr.toLowerCase()!=="input"||fr.type!=="checkbox"&&fr.type!=="radio"?hr&&ll(hr.elementType)&&(ja=Gn):ja=ri;if(ja&&(ja=ja(h,hr))){Bn(Pr,ja,x,Ir);break e}fi&&fi(h,fr,hr),h==="focusout"&&hr&&fr.type==="number"&&hr.memoizedProps.value!=null&&ha(fr,"number",fr.value)}switch(fi=hr?oo(hr):window,h){case"focusin":(Qi(fi)||fi.contentEditable==="true")&&(qa=fi,lc=hr,Rl=null);break;case"focusout":Rl=lc=qa=null;break;case"mousedown":fa=!0;break;case"contextmenu":case"mouseup":case"dragend":fa=!1,Xa(Pr,x,Ir);break;case"selectionchange":if($a)break;case"keydown":case"keyup":Xa(Pr,x,Ir)}var Bs;if(wn)e:{switch(h){case"compositionstart":var ra="onCompositionStart";break e;case"compositionend":ra="onCompositionEnd";break e;case"compositionupdate":ra="onCompositionUpdate";break e}ra=void 0}else Sn?Hr(h,x)&&(ra="onCompositionEnd"):h==="keydown"&&x.keyCode===229&&(ra="onCompositionStart");ra&&(An&&x.locale!=="ko"&&(Sn||ra!=="onCompositionStart"?ra==="onCompositionEnd"&&Sn&&(Bs=ie()):(z=Ir,X="value"in z?z.value:z.textContent,Sn=!0)),fi=Y2(hr,ra),0<fi.length&&(ra=new Tt(ra,h,null,x,Ir),Pr.push({event:ra,listeners:fi}),Bs?ra.data=Bs:(Bs=mi(x),Bs!==null&&(ra.data=Bs)))),(Bs=st?ai(h,x):Kn(h,x))&&(ra=Y2(hr,"onBeforeInput"),0<ra.length&&(fi=new Tt("onBeforeInput","beforeinput",null,x,Ir),Pr.push({event:fi,listeners:ra}),fi.data=Bs)),joe(Pr,h,hr,x,Ir)}GU(Pr,m)})}function f1(h,m,x){return{instance:h,listener:m,currentTarget:x}}function Y2(h,m){for(var x=m+"Capture",E=[];h!==null;){var H=h,W=H.stateNode;if(H=H.tag,H!==5&&H!==26&&H!==27||W===null||(H=I(h,x),H!=null&&E.unshift(f1(h,H,W)),H=I(h,m),H!=null&&E.push(f1(h,H,W))),h.tag===3)return E;h=h.return}return[]}function Boe(h){if(h===null)return null;do h=h.return;while(h&&h.tag!==5&&h.tag!==27);return h||null}function WU(h,m,x,E,H){for(var W=m._reactName,be=[];x!==null&&x!==E;){var Ke=x,Et=Ke.alternate,hr=Ke.stateNode;if(Ke=Ke.tag,Et!==null&&Et===E)break;Ke!==5&&Ke!==26&&Ke!==27||hr===null||(Et=hr,H?(hr=I(x,W),hr!=null&&be.unshift(f1(x,hr,Et))):H||(hr=I(x,W),hr!=null&&be.push(f1(x,hr,Et)))),x=x.return}be.length!==0&&h.push({event:m,listeners:be})}var Loe=/\r\n?/g,Roe=/\u0000|\uFFFD/g;function YU(h){return(typeof h=="string"?h:""+h).replace(Loe,`
`).replace(Roe,"")}function qU(h,m){return m=YU(m),YU(h)===m}function po(h,m,x,E,H,W){switch(x){case"children":typeof E=="string"?m==="body"||m==="textarea"&&E===""||Vs(h,E):(typeof E=="number"||typeof E=="bigint")&&m!=="body"&&Vs(h,""+E);break;case"className":ml(h,"class",E);break;case"tabIndex":ml(h,"tabindex",E);break;case"dir":case"role":case"viewBox":case"width":case"height":ml(h,x,E);break;case"style":ho(h,E,W);break;case"data":if(m!=="object"){ml(h,"data",E);break}case"src":case"href":if(E===""&&(m!=="a"||x!=="href")){h.removeAttribute(x);break}if(E==null||typeof E=="function"||typeof E=="symbol"||typeof E=="boolean"){h.removeAttribute(x);break}E=Z(""+E),h.setAttribute(x,E);break;case"action":case"formAction":if(typeof E=="function"){h.setAttribute(x,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof W=="function"&&(x==="formAction"?(m!=="input"&&po(h,m,"name",H.name,H,null),po(h,m,"formEncType",H.formEncType,H,null),po(h,m,"formMethod",H.formMethod,H,null),po(h,m,"formTarget",H.formTarget,H,null)):(po(h,m,"encType",H.encType,H,null),po(h,m,"method",H.method,H,null),po(h,m,"target",H.target,H,null)));if(E==null||typeof E=="symbol"||typeof E=="boolean"){h.removeAttribute(x);break}E=Z(""+E),h.setAttribute(x,E);break;case"onClick":E!=null&&(h.onclick=te);break;case"onScroll":E!=null&&qs("scroll",h);break;case"onScrollEnd":E!=null&&qs("scrollend",h);break;case"dangerouslySetInnerHTML":if(E!=null){if(typeof E!="object"||!("__html"in E))throw Error(n(61));if(x=E.__html,x!=null){if(H.children!=null)throw Error(n(60));h.innerHTML=x}}break;case"multiple":h.multiple=E&&typeof E!="function"&&typeof E!="symbol";break;case"muted":h.muted=E&&typeof E!="function"&&typeof E!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(E==null||typeof E=="function"||typeof E=="boolean"||typeof E=="symbol"){h.removeAttribute("xlink:href");break}x=Z(""+E),h.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",x);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":E!=null&&typeof E!="function"&&typeof E!="symbol"?h.setAttribute(x,""+E):h.removeAttribute(x);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":E&&typeof E!="function"&&typeof E!="symbol"?h.setAttribute(x,""):h.removeAttribute(x);break;case"capture":case"download":E===!0?h.setAttribute(x,""):E!==!1&&E!=null&&typeof E!="function"&&typeof E!="symbol"?h.setAttribute(x,E):h.removeAttribute(x);break;case"cols":case"rows":case"size":case"span":E!=null&&typeof E!="function"&&typeof E!="symbol"&&!isNaN(E)&&1<=E?h.setAttribute(x,E):h.removeAttribute(x);break;case"rowSpan":case"start":E==null||typeof E=="function"||typeof E=="symbol"||isNaN(E)?h.removeAttribute(x):h.setAttribute(x,E);break;case"popover":qs("beforetoggle",h),qs("toggle",h),Ws(h,"popover",E);break;case"xlinkActuate":Ra(h,"http://www.w3.org/1999/xlink","xlink:actuate",E);break;case"xlinkArcrole":Ra(h,"http://www.w3.org/1999/xlink","xlink:arcrole",E);break;case"xlinkRole":Ra(h,"http://www.w3.org/1999/xlink","xlink:role",E);break;case"xlinkShow":Ra(h,"http://www.w3.org/1999/xlink","xlink:show",E);break;case"xlinkTitle":Ra(h,"http://www.w3.org/1999/xlink","xlink:title",E);break;case"xlinkType":Ra(h,"http://www.w3.org/1999/xlink","xlink:type",E);break;case"xmlBase":Ra(h,"http://www.w3.org/XML/1998/namespace","xml:base",E);break;case"xmlLang":Ra(h,"http://www.w3.org/XML/1998/namespace","xml:lang",E);break;case"xmlSpace":Ra(h,"http://www.w3.org/XML/1998/namespace","xml:space",E);break;case"is":Ws(h,"is",E);break;case"innerText":case"textContent":break;default:(!(2<x.length)||x[0]!=="o"&&x[0]!=="O"||x[1]!=="n"&&x[1]!=="N")&&(x=Rt.get(x)||x,Ws(h,x,E))}}function q5(h,m,x,E,H,W){switch(x){case"style":ho(h,E,W);break;case"dangerouslySetInnerHTML":if(E!=null){if(typeof E!="object"||!("__html"in E))throw Error(n(61));if(x=E.__html,x!=null){if(H.children!=null)throw Error(n(60));h.innerHTML=x}}break;case"children":typeof E=="string"?Vs(h,E):(typeof E=="number"||typeof E=="bigint")&&Vs(h,""+E);break;case"onScroll":E!=null&&qs("scroll",h);break;case"onScrollEnd":E!=null&&qs("scrollend",h);break;case"onClick":E!=null&&(h.onclick=te);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Al.hasOwnProperty(x))e:{if(x[0]==="o"&&x[1]==="n"&&(H=x.endsWith("Capture"),m=x.slice(2,H?x.length-7:void 0),W=h[Hs]||null,W=W!=null?W[x]:null,typeof W=="function"&&h.removeEventListener(m,W,H),typeof E=="function")){typeof W!="function"&&W!==null&&(x in h?h[x]=null:h.hasAttribute(x)&&h.removeAttribute(x)),h.addEventListener(m,E,H);break e}x in h?h[x]=E:E===!0?h.setAttribute(x,""):Ws(h,x,E)}}}function ad(h,m,x){switch(m){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qs("error",h),qs("load",h);var E=!1,H=!1,W;for(W in x)if(x.hasOwnProperty(W)){var be=x[W];if(be!=null)switch(W){case"src":E=!0;break;case"srcSet":H=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,m));default:po(h,m,W,be,x,null)}}H&&po(h,m,"srcSet",x.srcSet,x,null),E&&po(h,m,"src",x.src,x,null);return;case"input":qs("invalid",h);var Ke=W=be=H=null,Et=null,hr=null;for(E in x)if(x.hasOwnProperty(E)){var Ir=x[E];if(Ir!=null)switch(E){case"name":H=Ir;break;case"type":be=Ir;break;case"checked":Et=Ir;break;case"defaultChecked":hr=Ir;break;case"value":W=Ir;break;case"defaultValue":Ke=Ir;break;case"children":case"dangerouslySetInnerHTML":if(Ir!=null)throw Error(n(137,m));break;default:po(h,m,E,Ir,x,null)}}wa(h,W,Ke,Et,hr,be,H,!1);return;case"select":qs("invalid",h),E=be=W=null;for(H in x)if(x.hasOwnProperty(H)&&(Ke=x[H],Ke!=null))switch(H){case"value":W=Ke;break;case"defaultValue":be=Ke;break;case"multiple":E=Ke;default:po(h,m,H,Ke,x,null)}m=W,x=be,h.multiple=!!E,m!=null?Wa(h,!!E,m,!1):x!=null&&Wa(h,!!E,x,!0);return;case"textarea":qs("invalid",h),W=H=E=null;for(be in x)if(x.hasOwnProperty(be)&&(Ke=x[be],Ke!=null))switch(be){case"value":E=Ke;break;case"defaultValue":H=Ke;break;case"children":W=Ke;break;case"dangerouslySetInnerHTML":if(Ke!=null)throw Error(n(91));break;default:po(h,m,be,Ke,x,null)}uo(h,E,H,W);return;case"option":for(Et in x)x.hasOwnProperty(Et)&&(E=x[Et],E!=null)&&(Et==="selected"?h.selected=E&&typeof E!="function"&&typeof E!="symbol":po(h,m,Et,E,x,null));return;case"dialog":qs("beforetoggle",h),qs("toggle",h),qs("cancel",h),qs("close",h);break;case"iframe":case"object":qs("load",h);break;case"video":case"audio":for(E=0;E<h1.length;E++)qs(h1[E],h);break;case"image":qs("error",h),qs("load",h);break;case"details":qs("toggle",h);break;case"embed":case"source":case"link":qs("error",h),qs("load",h);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(hr in x)if(x.hasOwnProperty(hr)&&(E=x[hr],E!=null))switch(hr){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,m));default:po(h,m,hr,E,x,null)}return;default:if(ll(m)){for(Ir in x)x.hasOwnProperty(Ir)&&(E=x[Ir],E!==void 0&&q5(h,m,Ir,E,x,void 0));return}}for(Ke in x)x.hasOwnProperty(Ke)&&(E=x[Ke],E!=null&&po(h,m,Ke,E,x,null))}function Ooe(h,m,x,E){switch(m){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var H=null,W=null,be=null,Ke=null,Et=null,hr=null,Ir=null;for(mr in x){var Pr=x[mr];if(x.hasOwnProperty(mr)&&Pr!=null)switch(mr){case"checked":break;case"value":break;case"defaultValue":Et=Pr;default:E.hasOwnProperty(mr)||po(h,m,mr,null,E,Pr)}}for(var fr in E){var mr=E[fr];if(Pr=x[fr],E.hasOwnProperty(fr)&&(mr!=null||Pr!=null))switch(fr){case"type":W=mr;break;case"name":H=mr;break;case"checked":hr=mr;break;case"defaultChecked":Ir=mr;break;case"value":be=mr;break;case"defaultValue":Ke=mr;break;case"children":case"dangerouslySetInnerHTML":if(mr!=null)throw Error(n(137,m));break;default:mr!==Pr&&po(h,m,fr,mr,E,Pr)}}Uo(h,be,Ke,Et,hr,Ir,W,H);return;case"select":mr=be=Ke=fr=null;for(W in x)if(Et=x[W],x.hasOwnProperty(W)&&Et!=null)switch(W){case"value":break;case"multiple":mr=Et;default:E.hasOwnProperty(W)||po(h,m,W,null,E,Et)}for(H in E)if(W=E[H],Et=x[H],E.hasOwnProperty(H)&&(W!=null||Et!=null))switch(H){case"value":fr=W;break;case"defaultValue":Ke=W;break;case"multiple":be=W;default:W!==Et&&po(h,m,H,W,E,Et)}m=Ke,x=be,E=mr,fr!=null?Wa(h,!!x,fr,!1):!!E!=!!x&&(m!=null?Wa(h,!!x,m,!0):Wa(h,!!x,x?[]:"",!1));return;case"textarea":mr=fr=null;for(Ke in x)if(H=x[Ke],x.hasOwnProperty(Ke)&&H!=null&&!E.hasOwnProperty(Ke))switch(Ke){case"value":break;case"children":break;default:po(h,m,Ke,null,E,H)}for(be in E)if(H=E[be],W=x[be],E.hasOwnProperty(be)&&(H!=null||W!=null))switch(be){case"value":fr=H;break;case"defaultValue":mr=H;break;case"children":break;case"dangerouslySetInnerHTML":if(H!=null)throw Error(n(91));break;default:H!==W&&po(h,m,be,H,E,W)}Ll(h,fr,mr);return;case"option":for(var ei in x)fr=x[ei],x.hasOwnProperty(ei)&&fr!=null&&!E.hasOwnProperty(ei)&&(ei==="selected"?h.selected=!1:po(h,m,ei,null,E,fr));for(Et in E)fr=E[Et],mr=x[Et],E.hasOwnProperty(Et)&&fr!==mr&&(fr!=null||mr!=null)&&(Et==="selected"?h.selected=fr&&typeof fr!="function"&&typeof fr!="symbol":po(h,m,Et,fr,E,mr));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ui in x)fr=x[Ui],x.hasOwnProperty(Ui)&&fr!=null&&!E.hasOwnProperty(Ui)&&po(h,m,Ui,null,E,fr);for(hr in E)if(fr=E[hr],mr=x[hr],E.hasOwnProperty(hr)&&fr!==mr&&(fr!=null||mr!=null))switch(hr){case"children":case"dangerouslySetInnerHTML":if(fr!=null)throw Error(n(137,m));break;default:po(h,m,hr,fr,E,mr)}return;default:if(ll(m)){for(var go in x)fr=x[go],x.hasOwnProperty(go)&&fr!==void 0&&!E.hasOwnProperty(go)&&q5(h,m,go,void 0,E,fr);for(Ir in E)fr=E[Ir],mr=x[Ir],!E.hasOwnProperty(Ir)||fr===mr||fr===void 0&&mr===void 0||q5(h,m,Ir,fr,E,mr);return}}for(var Yt in x)fr=x[Yt],x.hasOwnProperty(Yt)&&fr!=null&&!E.hasOwnProperty(Yt)&&po(h,m,Yt,null,E,fr);for(Pr in E)fr=E[Pr],mr=x[Pr],!E.hasOwnProperty(Pr)||fr===mr||fr==null&&mr==null||po(h,m,Pr,fr,E,mr)}function XU(h){switch(h){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Poe(){if(typeof performance.getEntriesByType=="function"){for(var h=0,m=0,x=performance.getEntriesByType("resource"),E=0;E<x.length;E++){var H=x[E],W=H.transferSize,be=H.initiatorType,Ke=H.duration;if(W&&Ke&&XU(be)){for(be=0,Ke=H.responseEnd,E+=1;E<x.length;E++){var Et=x[E],hr=Et.startTime;if(hr>Ke)break;var Ir=Et.transferSize,Pr=Et.initiatorType;Ir&&XU(Pr)&&(Et=Et.responseEnd,be+=Ir*(Et<Ke?1:(Ke-hr)/(Et-hr)))}if(--E,m+=8*(W+be)/(H.duration/1e3),h++,10<h)break}}if(0<h)return m/h/1e6}return navigator.connection&&(h=navigator.connection.downlink,typeof h=="number")?h:5}var X5=null,Z5=null;function q2(h){return h.nodeType===9?h:h.ownerDocument}function ZU(h){switch(h){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function JU(h,m){if(h===0)switch(m){case"svg":return 1;case"math":return 2;default:return 0}return h===1&&m==="foreignObject"?0:h}function J5(h,m){return h==="textarea"||h==="noscript"||typeof m.children=="string"||typeof m.children=="number"||typeof m.children=="bigint"||typeof m.dangerouslySetInnerHTML=="object"&&m.dangerouslySetInnerHTML!==null&&m.dangerouslySetInnerHTML.__html!=null}var eI=null;function Doe(){var h=window.event;return h&&h.type==="popstate"?h===eI?!1:(eI=h,!0):(eI=null,!1)}var e6=typeof setTimeout=="function"?setTimeout:void 0,Moe=typeof clearTimeout=="function"?clearTimeout:void 0,t6=typeof Promise=="function"?Promise:void 0,Foe=typeof queueMicrotask=="function"?queueMicrotask:typeof t6<"u"?function(h){return t6.resolve(null).then(h).catch(Uoe)}:e6;function Uoe(h){setTimeout(function(){throw h})}function Cg(h){return h==="head"}function r6(h,m){var x=m,E=0;do{var H=x.nextSibling;if(h.removeChild(x),H&&H.nodeType===8)if(x=H.data,x==="/$"||x==="/&"){if(E===0){h.removeChild(H),Oy(m);return}E--}else if(x==="$"||x==="$?"||x==="$~"||x==="$!"||x==="&")E++;else if(x==="html")A1(h.ownerDocument.documentElement);else if(x==="head"){x=h.ownerDocument.head,A1(x);for(var W=x.firstChild;W;){var be=W.nextSibling,Ke=W.nodeName;W[Bl]||Ke==="SCRIPT"||Ke==="STYLE"||Ke==="LINK"&&W.rel.toLowerCase()==="stylesheet"||x.removeChild(W),W=be}}else x==="body"&&A1(h.ownerDocument.body);x=H}while(x);Oy(m)}function n6(h,m){var x=h;h=0;do{var E=x.nextSibling;if(x.nodeType===1?m?(x._stashedDisplay=x.style.display,x.style.display="none"):(x.style.display=x._stashedDisplay||"",x.getAttribute("style")===""&&x.removeAttribute("style")):x.nodeType===3&&(m?(x._stashedText=x.nodeValue,x.nodeValue=""):x.nodeValue=x._stashedText||""),E&&E.nodeType===8)if(x=E.data,x==="/$"){if(h===0)break;h--}else x!=="$"&&x!=="$?"&&x!=="$~"&&x!=="$!"||h++;x=E}while(x)}function tI(h){var m=h.firstChild;for(m&&m.nodeType===10&&(m=m.nextSibling);m;){var x=m;switch(m=m.nextSibling,x.nodeName){case"HTML":case"HEAD":case"BODY":tI(x),yu(x);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(x.rel.toLowerCase()==="stylesheet")continue}h.removeChild(x)}}function $oe(h,m,x,E){for(;h.nodeType===1;){var H=x;if(h.nodeName.toLowerCase()!==m.toLowerCase()){if(!E&&(h.nodeName!=="INPUT"||h.type!=="hidden"))break}else if(E){if(!h[Bl])switch(m){case"meta":if(!h.hasAttribute("itemprop"))break;return h;case"link":if(W=h.getAttribute("rel"),W==="stylesheet"&&h.hasAttribute("data-precedence"))break;if(W!==H.rel||h.getAttribute("href")!==(H.href==null||H.href===""?null:H.href)||h.getAttribute("crossorigin")!==(H.crossOrigin==null?null:H.crossOrigin)||h.getAttribute("title")!==(H.title==null?null:H.title))break;return h;case"style":if(h.hasAttribute("data-precedence"))break;return h;case"script":if(W=h.getAttribute("src"),(W!==(H.src==null?null:H.src)||h.getAttribute("type")!==(H.type==null?null:H.type)||h.getAttribute("crossorigin")!==(H.crossOrigin==null?null:H.crossOrigin))&&W&&h.hasAttribute("async")&&!h.hasAttribute("itemprop"))break;return h;default:return h}}else if(m==="input"&&h.type==="hidden"){var W=H.name==null?null:""+H.name;if(H.type==="hidden"&&h.getAttribute("name")===W)return h}else return h;if(h=wf(h.nextSibling),h===null)break}return null}function Hoe(h,m,x){if(m==="")return null;for(;h.nodeType!==3;)if((h.nodeType!==1||h.nodeName!=="INPUT"||h.type!=="hidden")&&!x||(h=wf(h.nextSibling),h===null))return null;return h}function i6(h,m){for(;h.nodeType!==8;)if((h.nodeType!==1||h.nodeName!=="INPUT"||h.type!=="hidden")&&!m||(h=wf(h.nextSibling),h===null))return null;return h}function rI(h){return h.data==="$?"||h.data==="$~"}function nI(h){return h.data==="$!"||h.data==="$?"&&h.ownerDocument.readyState!=="loading"}function Qoe(h,m){var x=h.ownerDocument;if(h.data==="$~")h._reactRetry=m;else if(h.data!=="$?"||x.readyState!=="loading")m();else{var E=function(){m(),x.removeEventListener("DOMContentLoaded",E)};x.addEventListener("DOMContentLoaded",E),h._reactRetry=E}}function wf(h){for(;h!=null;h=h.nextSibling){var m=h.nodeType;if(m===1||m===3)break;if(m===8){if(m=h.data,m==="$"||m==="$!"||m==="$?"||m==="$~"||m==="&"||m==="F!"||m==="F")break;if(m==="/$"||m==="/&")return null}}return h}var iI=null;function s6(h){h=h.nextSibling;for(var m=0;h;){if(h.nodeType===8){var x=h.data;if(x==="/$"||x==="/&"){if(m===0)return wf(h.nextSibling);m--}else x!=="$"&&x!=="$!"&&x!=="$?"&&x!=="$~"&&x!=="&"||m++}h=h.nextSibling}return null}function a6(h){h=h.previousSibling;for(var m=0;h;){if(h.nodeType===8){var x=h.data;if(x==="$"||x==="$!"||x==="$?"||x==="$~"||x==="&"){if(m===0)return h;m--}else x!=="/$"&&x!=="/&"||m++}h=h.previousSibling}return null}function o6(h,m,x){switch(m=q2(x),h){case"html":if(h=m.documentElement,!h)throw Error(n(452));return h;case"head":if(h=m.head,!h)throw Error(n(453));return h;case"body":if(h=m.body,!h)throw Error(n(454));return h;default:throw Error(n(451))}}function A1(h){for(var m=h.attributes;m.length;)h.removeAttributeNode(m[0]);yu(h)}var Ef=new Map,l6=new Set;function X2(h){return typeof h.getRootNode=="function"?h.getRootNode():h.nodeType===9?h:h.ownerDocument}var hp=Ae.d;Ae.d={f:Voe,r:Koe,D:Goe,C:zoe,L:Woe,m:Yoe,X:Xoe,S:qoe,M:Zoe};function Voe(){var h=hp.f(),m=nu();return h||m}function Koe(h){var m=Ps(h);m!==null&&m.tag===5&&m.type==="form"?id(m):hp.r(h)}var By=typeof document>"u"?null:document;function c6(h,m,x){var E=By;if(E&&typeof m=="string"&&m){var H=fs(m);H='link[rel="'+h+'"][href="'+H+'"]',typeof x=="string"&&(H+='[crossorigin="'+x+'"]'),l6.has(H)||(l6.add(H),h={rel:h,crossOrigin:x,href:m},E.querySelector(H)===null&&(m=E.createElement("link"),ad(m,"link",h),aa(m),E.head.appendChild(m)))}}function Goe(h){hp.D(h),c6("dns-prefetch",h,null)}function zoe(h,m){hp.C(h,m),c6("preconnect",h,m)}function Woe(h,m,x){hp.L(h,m,x);var E=By;if(E&&h&&m){var H='link[rel="preload"][as="'+fs(m)+'"]';m==="image"&&x&&x.imageSrcSet?(H+='[imagesrcset="'+fs(x.imageSrcSet)+'"]',typeof x.imageSizes=="string"&&(H+='[imagesizes="'+fs(x.imageSizes)+'"]')):H+='[href="'+fs(h)+'"]';var W=H;switch(m){case"style":W=Ly(h);break;case"script":W=Ry(h)}Ef.has(W)||(h=f({rel:"preload",href:m==="image"&&x&&x.imageSrcSet?void 0:h,as:m},x),Ef.set(W,h),E.querySelector(H)!==null||m==="style"&&E.querySelector(m1(W))||m==="script"&&E.querySelector(p1(W))||(m=E.createElement("link"),ad(m,"link",h),aa(m),E.head.appendChild(m)))}}function Yoe(h,m){hp.m(h,m);var x=By;if(x&&h){var E=m&&typeof m.as=="string"?m.as:"script",H='link[rel="modulepreload"][as="'+fs(E)+'"][href="'+fs(h)+'"]',W=H;switch(E){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":W=Ry(h)}if(!Ef.has(W)&&(h=f({rel:"modulepreload",href:h},m),Ef.set(W,h),x.querySelector(H)===null)){switch(E){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(x.querySelector(p1(W)))return}E=x.createElement("link"),ad(E,"link",h),aa(E),x.head.appendChild(E)}}}function qoe(h,m,x){hp.S(h,m,x);var E=By;if(E&&h){var H=Cs(E).hoistableStyles,W=Ly(h);m=m||"default";var be=H.get(W);if(!be){var Ke={loading:0,preload:null};if(be=E.querySelector(m1(W)))Ke.loading=5;else{h=f({rel:"stylesheet",href:h,"data-precedence":m},x),(x=Ef.get(W))&&sI(h,x);var Et=be=E.createElement("link");aa(Et),ad(Et,"link",h),Et._p=new Promise(function(hr,Ir){Et.onload=hr,Et.onerror=Ir}),Et.addEventListener("load",function(){Ke.loading|=1}),Et.addEventListener("error",function(){Ke.loading|=2}),Ke.loading|=4,Z2(be,m,E)}be={type:"stylesheet",instance:be,count:1,state:Ke},H.set(W,be)}}}function Xoe(h,m){hp.X(h,m);var x=By;if(x&&h){var E=Cs(x).hoistableScripts,H=Ry(h),W=E.get(H);W||(W=x.querySelector(p1(H)),W||(h=f({src:h,async:!0},m),(m=Ef.get(H))&&aI(h,m),W=x.createElement("script"),aa(W),ad(W,"link",h),x.head.appendChild(W)),W={type:"script",instance:W,count:1,state:null},E.set(H,W))}}function Zoe(h,m){hp.M(h,m);var x=By;if(x&&h){var E=Cs(x).hoistableScripts,H=Ry(h),W=E.get(H);W||(W=x.querySelector(p1(H)),W||(h=f({src:h,async:!0,type:"module"},m),(m=Ef.get(H))&&aI(h,m),W=x.createElement("script"),aa(W),ad(W,"link",h),x.head.appendChild(W)),W={type:"script",instance:W,count:1,state:null},E.set(H,W))}}function u6(h,m,x,E){var H=(H=De.current)?X2(H):null;if(!H)throw Error(n(446));switch(h){case"meta":case"title":return null;case"style":return typeof x.precedence=="string"&&typeof x.href=="string"?(m=Ly(x.href),x=Cs(H).hoistableStyles,E=x.get(m),E||(E={type:"style",instance:null,count:0,state:null},x.set(m,E)),E):{type:"void",instance:null,count:0,state:null};case"link":if(x.rel==="stylesheet"&&typeof x.href=="string"&&typeof x.precedence=="string"){h=Ly(x.href);var W=Cs(H).hoistableStyles,be=W.get(h);if(be||(H=H.ownerDocument||H,be={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},W.set(h,be),(W=H.querySelector(m1(h)))&&!W._p&&(be.instance=W,be.state.loading=5),Ef.has(h)||(x={rel:"preload",as:"style",href:x.href,crossOrigin:x.crossOrigin,integrity:x.integrity,media:x.media,hrefLang:x.hrefLang,referrerPolicy:x.referrerPolicy},Ef.set(h,x),W||Joe(H,h,x,be.state))),m&&E===null)throw Error(n(528,""));return be}if(m&&E!==null)throw Error(n(529,""));return null;case"script":return m=x.async,x=x.src,typeof x=="string"&&m&&typeof m!="function"&&typeof m!="symbol"?(m=Ry(x),x=Cs(H).hoistableScripts,E=x.get(m),E||(E={type:"script",instance:null,count:0,state:null},x.set(m,E)),E):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,h))}}function Ly(h){return'href="'+fs(h)+'"'}function m1(h){return'link[rel="stylesheet"]['+h+"]"}function d6(h){return f({},h,{"data-precedence":h.precedence,precedence:null})}function Joe(h,m,x,E){h.querySelector('link[rel="preload"][as="style"]['+m+"]")?E.loading=1:(m=h.createElement("link"),E.preload=m,m.addEventListener("load",function(){return E.loading|=1}),m.addEventListener("error",function(){return E.loading|=2}),ad(m,"link",x),aa(m),h.head.appendChild(m))}function Ry(h){return'[src="'+fs(h)+'"]'}function p1(h){return"script[async]"+h}function h6(h,m,x){if(m.count++,m.instance===null)switch(m.type){case"style":var E=h.querySelector('style[data-href~="'+fs(x.href)+'"]');if(E)return m.instance=E,aa(E),E;var H=f({},x,{"data-href":x.href,"data-precedence":x.precedence,href:null,precedence:null});return E=(h.ownerDocument||h).createElement("style"),aa(E),ad(E,"style",H),Z2(E,x.precedence,h),m.instance=E;case"stylesheet":H=Ly(x.href);var W=h.querySelector(m1(H));if(W)return m.state.loading|=4,m.instance=W,aa(W),W;E=d6(x),(H=Ef.get(H))&&sI(E,H),W=(h.ownerDocument||h).createElement("link"),aa(W);var be=W;return be._p=new Promise(function(Ke,Et){be.onload=Ke,be.onerror=Et}),ad(W,"link",E),m.state.loading|=4,Z2(W,x.precedence,h),m.instance=W;case"script":return W=Ry(x.src),(H=h.querySelector(p1(W)))?(m.instance=H,aa(H),H):(E=x,(H=Ef.get(W))&&(E=f({},x),aI(E,H)),h=h.ownerDocument||h,H=h.createElement("script"),aa(H),ad(H,"link",E),h.head.appendChild(H),m.instance=H);case"void":return null;default:throw Error(n(443,m.type))}else m.type==="stylesheet"&&(m.state.loading&4)===0&&(E=m.instance,m.state.loading|=4,Z2(E,x.precedence,h));return m.instance}function Z2(h,m,x){for(var E=x.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),H=E.length?E[E.length-1]:null,W=H,be=0;be<E.length;be++){var Ke=E[be];if(Ke.dataset.precedence===m)W=Ke;else if(W!==H)break}W?W.parentNode.insertBefore(h,W.nextSibling):(m=x.nodeType===9?x.head:x,m.insertBefore(h,m.firstChild))}function sI(h,m){h.crossOrigin==null&&(h.crossOrigin=m.crossOrigin),h.referrerPolicy==null&&(h.referrerPolicy=m.referrerPolicy),h.title==null&&(h.title=m.title)}function aI(h,m){h.crossOrigin==null&&(h.crossOrigin=m.crossOrigin),h.referrerPolicy==null&&(h.referrerPolicy=m.referrerPolicy),h.integrity==null&&(h.integrity=m.integrity)}var J2=null;function f6(h,m,x){if(J2===null){var E=new Map,H=J2=new Map;H.set(x,E)}else H=J2,E=H.get(x),E||(E=new Map,H.set(x,E));if(E.has(h))return E;for(E.set(h,null),x=x.getElementsByTagName(h),H=0;H<x.length;H++){var W=x[H];if(!(W[Bl]||W[Hi]||h==="link"&&W.getAttribute("rel")==="stylesheet")&&W.namespaceURI!=="http://www.w3.org/2000/svg"){var be=W.getAttribute(m)||"";be=h+be;var Ke=E.get(be);Ke?Ke.push(W):E.set(be,[W])}}return E}function A6(h,m,x){h=h.ownerDocument||h,h.head.insertBefore(x,m==="title"?h.querySelector("head > title"):null)}function ele(h,m,x){if(x===1||m.itemProp!=null)return!1;switch(h){case"meta":case"title":return!0;case"style":if(typeof m.precedence!="string"||typeof m.href!="string"||m.href==="")break;return!0;case"link":if(typeof m.rel!="string"||typeof m.href!="string"||m.href===""||m.onLoad||m.onError)break;return m.rel==="stylesheet"?(h=m.disabled,typeof m.precedence=="string"&&h==null):!0;case"script":if(m.async&&typeof m.async!="function"&&typeof m.async!="symbol"&&!m.onLoad&&!m.onError&&m.src&&typeof m.src=="string")return!0}return!1}function m6(h){return!(h.type==="stylesheet"&&(h.state.loading&3)===0)}function tle(h,m,x,E){if(x.type==="stylesheet"&&(typeof E.media!="string"||matchMedia(E.media).matches!==!1)&&(x.state.loading&4)===0){if(x.instance===null){var H=Ly(E.href),W=m.querySelector(m1(H));if(W){m=W._p,m!==null&&typeof m=="object"&&typeof m.then=="function"&&(h.count++,h=eS.bind(h),m.then(h,h)),x.state.loading|=4,x.instance=W,aa(W);return}W=m.ownerDocument||m,E=d6(E),(H=Ef.get(H))&&sI(E,H),W=W.createElement("link"),aa(W);var be=W;be._p=new Promise(function(Ke,Et){be.onload=Ke,be.onerror=Et}),ad(W,"link",E),x.instance=W}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(x,m),(m=x.state.preload)&&(x.state.loading&3)===0&&(h.count++,x=eS.bind(h),m.addEventListener("load",x),m.addEventListener("error",x))}}var oI=0;function rle(h,m){return h.stylesheets&&h.count===0&&rS(h,h.stylesheets),0<h.count||0<h.imgCount?function(x){var E=setTimeout(function(){if(h.stylesheets&&rS(h,h.stylesheets),h.unsuspend){var W=h.unsuspend;h.unsuspend=null,W()}},6e4+m);0<h.imgBytes&&oI===0&&(oI=62500*Poe());var H=setTimeout(function(){if(h.waitingForImages=!1,h.count===0&&(h.stylesheets&&rS(h,h.stylesheets),h.unsuspend)){var W=h.unsuspend;h.unsuspend=null,W()}},(h.imgBytes>oI?50:800)+m);return h.unsuspend=x,function(){h.unsuspend=null,clearTimeout(E),clearTimeout(H)}}:null}function eS(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)rS(this,this.stylesheets);else if(this.unsuspend){var h=this.unsuspend;this.unsuspend=null,h()}}}var tS=null;function rS(h,m){h.stylesheets=null,h.unsuspend!==null&&(h.count++,tS=new Map,m.forEach(nle,h),tS=null,eS.call(h))}function nle(h,m){if(!(m.state.loading&4)){var x=tS.get(h);if(x)var E=x.get(null);else{x=new Map,tS.set(h,x);for(var H=h.querySelectorAll("link[data-precedence],style[data-precedence]"),W=0;W<H.length;W++){var be=H[W];(be.nodeName==="LINK"||be.getAttribute("media")!=="not all")&&(x.set(be.dataset.precedence,be),E=be)}E&&x.set(null,E)}H=m.instance,be=H.getAttribute("data-precedence"),W=x.get(be)||E,W===E&&x.set(null,H),x.set(be,H),this.count++,E=eS.bind(this),H.addEventListener("load",E),H.addEventListener("error",E),W?W.parentNode.insertBefore(H,W.nextSibling):(h=h.nodeType===9?h.head:h,h.insertBefore(H,h.firstChild)),m.state.loading|=4}}var g1={$$typeof:S,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function ile(h,m,x,E,H,W,be,Ke,Et){this.tag=1,this.containerInfo=h,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vs(0),this.hiddenUpdates=vs(null),this.identifierPrefix=E,this.onUncaughtError=H,this.onCaughtError=W,this.onRecoverableError=be,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Et,this.incompleteTransitions=new Map}function p6(h,m,x,E,H,W,be,Ke,Et,hr,Ir,Pr){return h=new ile(h,m,x,be,Et,hr,Ir,Pr,Ke),m=1,W===!0&&(m|=24),W=Ml(3,null,null,m),h.current=W,W.stateNode=h,m=zd(),m.refCount++,h.pooledCache=m,m.refCount++,W.memoizedState={element:E,isDehydrated:x,cache:m},la(W),h}function g6(h){return h?(h=yl,h):yl}function v6(h,m,x,E,H,W){H=g6(H),E.context===null?E.context=H:E.pendingContext=H,E=li(m),E.payload={element:x},W=W===void 0?null:W,W!==null&&(E.callback=W),x=wi(h,E,m),x!==null&&(to(x,h,m),zi(x,h,m))}function y6(h,m){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var x=h.retryLane;h.retryLane=x!==0&&x<m?x:m}}function lI(h,m){y6(h,m),(h=h.alternate)&&y6(h,m)}function x6(h){if(h.tag===13||h.tag===31){var m=bu(h,67108864);m!==null&&to(m,h,67108864),lI(h,67108864)}}function b6(h){if(h.tag===13||h.tag===31){var m=pi();m=bn(m);var x=bu(h,m);x!==null&&to(x,h,m),lI(h,m)}}var nS=!0;function sle(h,m,x,E){var H=ne.T;ne.T=null;var W=Ae.p;try{Ae.p=2,cI(h,m,x,E)}finally{Ae.p=W,ne.T=H}}function ale(h,m,x,E){var H=ne.T;ne.T=null;var W=Ae.p;try{Ae.p=8,cI(h,m,x,E)}finally{Ae.p=W,ne.T=H}}function cI(h,m,x,E){if(nS){var H=uI(E);if(H===null)Y5(h,m,E,iS,x),E6(h,E);else if(lle(H,h,m,x,E))E.stopPropagation();else if(E6(h,E),m&4&&-1<ole.indexOf(h)){for(;H!==null;){var W=Ps(H);if(W!==null)switch(W.tag){case 3:if(W=W.stateNode,W.current.memoizedState.isDehydrated){var be=rn(W.pendingLanes);if(be!==0){var Ke=W;for(Ke.pendingLanes|=2,Ke.entangledLanes|=2;be;){var Et=1<<31-Br(be);Ke.entanglements[1]|=Et,be&=~Et}YA(W),(Ks&6)===0&&(jn=Jr()+500,d1(0))}}break;case 31:case 13:Ke=bu(W,2),Ke!==null&&to(Ke,W,2),nu(),lI(W,2)}if(W=uI(E),W===null&&Y5(h,m,E,iS,x),W===H)break;H=W}H!==null&&E.stopPropagation()}else Y5(h,m,E,null,x)}}function uI(h){return h=$(h),dI(h)}var iS=null;function dI(h){if(iS=null,h=fl(h),h!==null){var m=s(h);if(m===null)h=null;else{var x=m.tag;if(x===13){if(h=a(m),h!==null)return h;h=null}else if(x===31){if(h=c(m),h!==null)return h;h=null}else if(x===3){if(m.stateNode.current.memoizedState.isDehydrated)return m.tag===3?m.stateNode.containerInfo:null;h=null}else m!==h&&(h=null)}}return iS=h,null}function w6(h){switch(h){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(sn()){case on:return 2;case Fn:return 8;case Qn:case gi:return 32;case Je:return 268435456;default:return 32}default:return 32}}var hI=!1,jg=null,Ng=null,Ig=null,v1=new Map,y1=new Map,kg=[],ole="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function E6(h,m){switch(h){case"focusin":case"focusout":jg=null;break;case"dragenter":case"dragleave":Ng=null;break;case"mouseover":case"mouseout":Ig=null;break;case"pointerover":case"pointerout":v1.delete(m.pointerId);break;case"gotpointercapture":case"lostpointercapture":y1.delete(m.pointerId)}}function x1(h,m,x,E,H,W){return h===null||h.nativeEvent!==W?(h={blockedOn:m,domEventName:x,eventSystemFlags:E,nativeEvent:W,targetContainers:[H]},m!==null&&(m=Ps(m),m!==null&&x6(m)),h):(h.eventSystemFlags|=E,m=h.targetContainers,H!==null&&m.indexOf(H)===-1&&m.push(H),h)}function lle(h,m,x,E,H){switch(m){case"focusin":return jg=x1(jg,h,m,x,E,H),!0;case"dragenter":return Ng=x1(Ng,h,m,x,E,H),!0;case"mouseover":return Ig=x1(Ig,h,m,x,E,H),!0;case"pointerover":var W=H.pointerId;return v1.set(W,x1(v1.get(W)||null,h,m,x,E,H)),!0;case"gotpointercapture":return W=H.pointerId,y1.set(W,x1(y1.get(W)||null,h,m,x,E,H)),!0}return!1}function S6(h){var m=fl(h.target);if(m!==null){var x=s(m);if(x!==null){if(m=x.tag,m===13){if(m=a(x),m!==null){h.blockedOn=m,Ts(h.priority,function(){b6(x)});return}}else if(m===31){if(m=c(x),m!==null){h.blockedOn=m,Ts(h.priority,function(){b6(x)});return}}else if(m===3&&x.stateNode.current.memoizedState.isDehydrated){h.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}h.blockedOn=null}function sS(h){if(h.blockedOn!==null)return!1;for(var m=h.targetContainers;0<m.length;){var x=uI(h.nativeEvent);if(x===null){x=h.nativeEvent;var E=new x.constructor(x.type,x);P=E,x.target.dispatchEvent(E),P=null}else return m=Ps(x),m!==null&&x6(m),h.blockedOn=x,!1;m.shift()}return!0}function _6(h,m,x){sS(h)&&x.delete(m)}function cle(){hI=!1,jg!==null&&sS(jg)&&(jg=null),Ng!==null&&sS(Ng)&&(Ng=null),Ig!==null&&sS(Ig)&&(Ig=null),v1.forEach(_6),y1.forEach(_6)}function aS(h,m){h.blockedOn===m&&(h.blockedOn=null,hI||(hI=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,cle)))}var oS=null;function T6(h){oS!==h&&(oS=h,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){oS===h&&(oS=null);for(var m=0;m<h.length;m+=3){var x=h[m],E=h[m+1],H=h[m+2];if(typeof E!="function"){if(dI(E||x)===null)continue;break}var W=Ps(x);W!==null&&(h.splice(m,3),m-=3,tp(W,{pending:!0,data:H,method:x.method,action:E},E,H))}}))}function Oy(h){function m(Et){return aS(Et,h)}jg!==null&&aS(jg,h),Ng!==null&&aS(Ng,h),Ig!==null&&aS(Ig,h),v1.forEach(m),y1.forEach(m);for(var x=0;x<kg.length;x++){var E=kg[x];E.blockedOn===h&&(E.blockedOn=null)}for(;0<kg.length&&(x=kg[0],x.blockedOn===null);)S6(x),x.blockedOn===null&&kg.shift();if(x=(h.ownerDocument||h).$$reactFormReplay,x!=null)for(E=0;E<x.length;E+=3){var H=x[E],W=x[E+1],be=H[Hs]||null;if(typeof W=="function")be||T6(x);else if(be){var Ke=null;if(W&&W.hasAttribute("formAction")){if(H=W,be=W[Hs]||null)Ke=be.formAction;else if(dI(H)!==null)continue}else Ke=be.action;typeof Ke=="function"?x[E+1]=Ke:(x.splice(E,3),E-=3),T6(x)}}}function C6(){function h(W){W.canIntercept&&W.info==="react-transition"&&W.intercept({handler:function(){return new Promise(function(be){return H=be})},focusReset:"manual",scroll:"manual"})}function m(){H!==null&&(H(),H=null),E||setTimeout(x,20)}function x(){if(!E&&!navigation.transition){var W=navigation.currentEntry;W&&W.url!=null&&navigation.navigate(W.url,{state:W.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var E=!1,H=null;return navigation.addEventListener("navigate",h),navigation.addEventListener("navigatesuccess",m),navigation.addEventListener("navigateerror",m),setTimeout(x,100),function(){E=!0,navigation.removeEventListener("navigate",h),navigation.removeEventListener("navigatesuccess",m),navigation.removeEventListener("navigateerror",m),H!==null&&(H(),H=null)}}}function fI(h){this._internalRoot=h}lS.prototype.render=fI.prototype.render=function(h){var m=this._internalRoot;if(m===null)throw Error(n(409));var x=m.current,E=pi();v6(x,E,h,m,null,null)},lS.prototype.unmount=fI.prototype.unmount=function(){var h=this._internalRoot;if(h!==null){this._internalRoot=null;var m=h.containerInfo;v6(h.current,2,null,h,null,null),nu(),m[xs]=null}};function lS(h){this._internalRoot=h}lS.prototype.unstable_scheduleHydration=function(h){if(h){var m=ws();h={blockedOn:null,target:h,priority:m};for(var x=0;x<kg.length&&m!==0&&m<kg[x].priority;x++);kg.splice(x,0,h),x===0&&S6(h)}};var j6=e.version;if(j6!=="19.2.4")throw Error(n(527,j6,"19.2.4"));Ae.findDOMNode=function(h){var m=h._reactInternals;if(m===void 0)throw typeof h.render=="function"?Error(n(188)):(h=Object.keys(h).join(","),Error(n(268,h)));return h=o(m),h=h!==null?d(h):null,h=h===null?null:h.stateNode,h};var ule={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:ne,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cS=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cS.isDisabled&&cS.supportsFiber)try{Wt=cS.inject(ule),Pt=cS}catch{}}return E1.createRoot=function(h,m){if(!i(h))throw Error(n(299));var x=!1,E="",H=np,W=ip,be=sp;return m!=null&&(m.unstable_strictMode===!0&&(x=!0),m.identifierPrefix!==void 0&&(E=m.identifierPrefix),m.onUncaughtError!==void 0&&(H=m.onUncaughtError),m.onCaughtError!==void 0&&(W=m.onCaughtError),m.onRecoverableError!==void 0&&(be=m.onRecoverableError)),m=p6(h,1,!1,null,null,x,E,null,H,W,be,C6),h[xs]=m.current,W5(h),new fI(m)},E1.hydrateRoot=function(h,m,x){if(!i(h))throw Error(n(299));var E=!1,H="",W=np,be=ip,Ke=sp,Et=null;return x!=null&&(x.unstable_strictMode===!0&&(E=!0),x.identifierPrefix!==void 0&&(H=x.identifierPrefix),x.onUncaughtError!==void 0&&(W=x.onUncaughtError),x.onCaughtError!==void 0&&(be=x.onCaughtError),x.onRecoverableError!==void 0&&(Ke=x.onRecoverableError),x.formState!==void 0&&(Et=x.formState)),m=p6(h,1,!0,m,x??null,E,H,Et,W,be,Ke,C6),m.context=g6(null),x=m.current,E=pi(),E=bn(E),H=li(E),H.callback=null,wi(x,H,E),x=E,m.current.lanes=x,ys(m,x),YA(m),h[xs]=m.current,W5(h),new lS(m)},E1.version="19.2.4",E1}var M6;function ble(){if(M6)return pI.exports;M6=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),pI.exports=xle(),pI.exports}var wle=ble();const Ele=IA(wle);var F6="popstate";function Sle(t={}){function e(i,s){let{pathname:a="/",search:c="",hash:u=""}=uy(i.location.hash.substring(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),PL("",{pathname:a,search:c,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(i,s){let a=i.document.querySelector("base"),c="";if(a&&a.getAttribute("href")){let u=i.location.href,o=u.indexOf("#");c=o===-1?u:u.slice(0,o)}return c+"#"+(typeof s=="string"?s:Jw(s))}function n(i,s){cf(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return Tle(e,r,n,t)}function hl(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function cf(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _le(){return Math.random().toString(36).substring(2,10)}function U6(t,e){return{usr:t.state,key:t.key,idx:e}}function PL(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?uy(e):e,state:r,key:e&&e.key||n||_le()}}function Jw({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function uy(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function Tle(t,e,r,n={}){let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,c="POP",u=null,o=d();o==null&&(o=0,a.replaceState({...a.state,idx:o},""));function d(){return(a.state||{idx:null}).idx}function f(){c="POP";let v=d(),b=v==null?null:v-o;o=v,u&&u({action:c,location:y.location,delta:b})}function A(v,b){c="PUSH";let w=PL(y.location,v,b);r&&r(w,v),o=d()+1;let S=U6(w,o),_=y.createHref(w);try{a.pushState(S,"",_)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(_)}s&&u&&u({action:c,location:y.location,delta:1})}function p(v,b){c="REPLACE";let w=PL(y.location,v,b);r&&r(w,v),o=d();let S=U6(w,o),_=y.createHref(w);a.replaceState(S,"",_),s&&u&&u({action:c,location:y.location,delta:0})}function g(v){return Cle(v)}let y={get action(){return c},get location(){return t(i,a)},listen(v){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(F6,f),u=v,()=>{i.removeEventListener(F6,f),u=null}},createHref(v){return e(i,v)},createURL:g,encodeLocation(v){let b=g(v);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:A,replace:p,go(v){return a.go(v)}};return y}function Cle(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),hl(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:Jw(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function wW(t,e,r="/"){return jle(t,e,r,!1)}function jle(t,e,r,n){let i=typeof e=="string"?uy(e):e,s=Op(i.pathname||"/",r);if(s==null)return null;let a=EW(t);Nle(a);let c=null;for(let u=0;c==null&&u<a.length;++u){let o=Ule(s);c=Mle(a[u],o,n)}return c}function EW(t,e=[],r=[],n="",i=!1){let s=(a,c,u=i,o)=>{let d={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(n)&&u)return;hl(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length)}let f=Np([n,d.relativePath]),A=r.concat(d);a.children&&a.children.length>0&&(hl(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),EW(a.children,e,A,f,u)),!(a.path==null&&!a.index)&&e.push({path:f,score:Ple(f,a.index),routesMeta:A})};return t.forEach((a,c)=>{if(a.path===""||!a.path?.includes("?"))s(a,c);else for(let u of SW(a.path))s(a,c,!0,u)}),e}function SW(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=SW(n.join("/")),c=[];return c.push(...a.map(u=>u===""?s:[s,u].join("/"))),i&&c.push(...a),c.map(u=>t.startsWith("/")&&u===""?"/":u)}function Nle(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Dle(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var Ile=/^:[\w-]+$/,kle=3,Ble=2,Lle=1,Rle=10,Ole=-2,$6=t=>t==="*";function Ple(t,e){let r=t.split("/"),n=r.length;return r.some($6)&&(n+=Ole),e&&(n+=Ble),r.filter(i=>!$6(i)).reduce((i,s)=>i+(Ile.test(s)?kle:s===""?Lle:Rle),n)}function Dle(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function Mle(t,e,r=!1){let{routesMeta:n}=t,i={},s="/",a=[];for(let c=0;c<n.length;++c){let u=n[c],o=c===n.length-1,d=s==="/"?e:e.slice(s.length)||"/",f=ZT({path:u.relativePath,caseSensitive:u.caseSensitive,end:o},d),A=u.route;if(!f&&o&&r&&!n[n.length-1].route.index&&(f=ZT({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:Np([s,f.pathname]),pathnameBase:Vle(Np([s,f.pathnameBase])),route:A}),f.pathnameBase!=="/"&&(s=Np([s,f.pathnameBase]))}return a}function ZT(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=Fle(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:n.reduce((o,{paramName:d,isOptional:f},A)=>{if(d==="*"){let g=c[A]||"";a=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const p=c[A];return f&&!p?o[d]=void 0:o[d]=(p||"").replace(/%2F/g,"/"),o},{}),pathname:s,pathnameBase:a,pattern:t}}function Fle(t,e=!1,r=!0){cf(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,c,u)=>(n.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function Ule(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return cf(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Op(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}var $le=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function Hle(t,e="/"){let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?uy(t):t,s;return r?(r=r.replace(/\/\/+/g,"/"),r.startsWith("/")?s=H6(r.substring(1),"/"):s=H6(r,e)):s=e,{pathname:s,search:Kle(n),hash:Gle(i)}}function H6(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function xI(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Qle(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function wP(t){let e=Qle(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function EP(t,e,r,n=!1){let i;typeof t=="string"?i=uy(t):(i={...t},hl(!i.pathname||!i.pathname.includes("?"),xI("?","pathname","search",i)),hl(!i.pathname||!i.pathname.includes("#"),xI("#","pathname","hash",i)),hl(!i.search||!i.search.includes("#"),xI("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,c;if(a==null)c=r;else{let f=e.length-1;if(!n&&a.startsWith("..")){let A=a.split("/");for(;A[0]==="..";)A.shift(),f-=1;i.pathname=A.join("/")}c=f>=0?e[f]:"/"}let u=Hle(i,c),o=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(o||d)&&(u.pathname+="/"),u}var Np=t=>t.join("/").replace(/\/\/+/g,"/"),Vle=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Kle=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Gle=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,zle=class{constructor(t,e,r,n=!1){this.status=t,this.statusText=e||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function Wle(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function Yle(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var _W=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function TW(t,e){let r=t;if(typeof r!="string"||!$le.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,i=!1;if(_W)try{let s=new URL(window.location.href),a=r.startsWith("//")?new URL(s.protocol+r):new URL(r),c=Op(a.pathname,e);a.origin===s.origin&&c!=null?r=c+a.search+a.hash:i=!0}catch{cf(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:i,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var CW=["POST","PUT","PATCH","DELETE"];new Set(CW);var qle=["GET",...CW];new Set(qle);var Mb=j.createContext(null);Mb.displayName="DataRouter";var aN=j.createContext(null);aN.displayName="DataRouterState";var Xle=j.createContext(!1),jW=j.createContext({isTransitioning:!1});jW.displayName="ViewTransition";var Zle=j.createContext(new Map);Zle.displayName="Fetchers";var Jle=j.createContext(null);Jle.displayName="Await";var df=j.createContext(null);df.displayName="Navigation";var e2=j.createContext(null);e2.displayName="Location";var kA=j.createContext({outlet:null,matches:[],isDataRoute:!1});kA.displayName="Route";var SP=j.createContext(null);SP.displayName="RouteError";var NW="REACT_ROUTER_ERROR",ece="REDIRECT",tce="ROUTE_ERROR_RESPONSE";function rce(t){if(t.startsWith(`${NW}:${ece}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function nce(t){if(t.startsWith(`${NW}:${tce}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new zle(e.status,e.statusText,e.data)}catch{}}function ice(t,{relative:e}={}){hl(Fb(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=j.useContext(df),{hash:i,pathname:s,search:a}=t2(t,{relative:e}),c=s;return r!=="/"&&(c=s==="/"?r:Np([r,s])),n.createHref({pathname:c,search:a,hash:i})}function Fb(){return j.useContext(e2)!=null}function hf(){return hl(Fb(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(e2).location}var IW="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function kW(t){j.useContext(df).static||j.useLayoutEffect(t)}function ic(){let{isDataRoute:t}=j.useContext(kA);return t?gce():sce()}function sce(){hl(Fb(),"useNavigate() may be used only in the context of a <Router> component.");let t=j.useContext(Mb),{basename:e,navigator:r}=j.useContext(df),{matches:n}=j.useContext(kA),{pathname:i}=hf(),s=JSON.stringify(wP(n)),a=j.useRef(!1);return kW(()=>{a.current=!0}),j.useCallback((u,o={})=>{if(cf(a.current,IW),!a.current)return;if(typeof u=="number"){r.go(u);return}let d=EP(u,JSON.parse(s),i,o.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Np([e,d.pathname])),(o.replace?r.replace:r.push)(d,o.state,o)},[e,r,s,i,t])}j.createContext(null);function $m(){let{matches:t}=j.useContext(kA),e=t[t.length-1];return e?e.params:{}}function t2(t,{relative:e}={}){let{matches:r}=j.useContext(kA),{pathname:n}=hf(),i=JSON.stringify(wP(r));return j.useMemo(()=>EP(t,JSON.parse(i),n,e==="path"),[t,i,n,e])}function ace(t,e){return BW(t,e)}function BW(t,e,r,n,i){hl(Fb(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=j.useContext(df),{matches:a}=j.useContext(kA),c=a[a.length-1],u=c?c.params:{},o=c?c.pathname:"/",d=c?c.pathnameBase:"/",f=c&&c.route;{let w=f&&f.path||"";RW(o,!f||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${o}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let A=hf(),p;if(e){let w=typeof e=="string"?uy(e):e;hl(d==="/"||w.pathname?.startsWith(d),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${w.pathname}" was given in the \`location\` prop.`),p=w}else p=A;let g=p.pathname||"/",y=g;if(d!=="/"){let w=d.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(w.length).join("/")}let v=wW(t,{pathname:y});cf(f||v!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),cf(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=dce(v&&v.map(w=>Object.assign({},w,{params:Object.assign({},u,w.params),pathname:Np([d,s.encodeLocation?s.encodeLocation(w.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?d:Np([d,s.encodeLocation?s.encodeLocation(w.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathnameBase])})),a,r,n,i);return e&&b?j.createElement(e2.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},b):b}function oce(){let t=pce(),e=Wle(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:s},"ErrorBoundary")," or"," ",j.createElement("code",{style:s},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),r?j.createElement("pre",{style:i},r):null,a)}var lce=j.createElement(oce,null),LW=class extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const r=nce(t.digest);r&&(t=r)}let e=t!==void 0?j.createElement(kA.Provider,{value:this.props.routeContext},j.createElement(SP.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?j.createElement(cce,{error:t},e):e}};LW.contextType=Xle;var bI=new WeakMap;function cce({children:t,error:e}){let{basename:r}=j.useContext(df);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let n=rce(e.digest);if(n){let i=bI.get(e);if(i)throw i;let s=TW(n.location,r);if(_W&&!bI.get(e))if(s.isExternal||n.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const a=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:n.replace}));throw bI.set(e,a),a}return j.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return t}function uce({routeContext:t,match:e,children:r}){let n=j.useContext(Mb);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(kA.Provider,{value:t},r)}function dce(t,e=[],r=null,n=null,i=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let s=t,a=r?.errors;if(a!=null){let d=s.findIndex(f=>f.route.id&&a?.[f.route.id]!==void 0);hl(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let c=!1,u=-1;if(r)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:A,errors:p}=r,g=f.route.loader&&!A.hasOwnProperty(f.route.id)&&(!p||p[f.route.id]===void 0);if(f.route.lazy||g){c=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}let o=r&&n?(d,f)=>{n(d,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:Yle(r.matches),errorInfo:f})}:void 0;return s.reduceRight((d,f,A)=>{let p,g=!1,y=null,v=null;r&&(p=a&&f.route.id?a[f.route.id]:void 0,y=f.route.errorElement||lce,c&&(u<0&&A===0?(RW("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,v=null):u===A&&(g=!0,v=f.route.hydrateFallbackElement||null)));let b=e.concat(s.slice(0,A+1)),w=()=>{let S;return p?S=y:g?S=v:f.route.Component?S=j.createElement(f.route.Component,null):f.route.element?S=f.route.element:S=d,j.createElement(uce,{match:f,routeContext:{outlet:d,matches:b,isDataRoute:r!=null},children:S})};return r&&(f.route.ErrorBoundary||f.route.errorElement||A===0)?j.createElement(LW,{location:r.location,revalidation:r.revalidation,component:y,error:p,children:w(),routeContext:{outlet:null,matches:b,isDataRoute:!0},onError:o}):w()},null)}function _P(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hce(t){let e=j.useContext(Mb);return hl(e,_P(t)),e}function fce(t){let e=j.useContext(aN);return hl(e,_P(t)),e}function Ace(t){let e=j.useContext(kA);return hl(e,_P(t)),e}function TP(t){let e=Ace(t),r=e.matches[e.matches.length-1];return hl(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function mce(){return TP("useRouteId")}function pce(){let t=j.useContext(SP),e=fce("useRouteError"),r=TP("useRouteError");return t!==void 0?t:e.errors?.[r]}function gce(){let{router:t}=hce("useNavigate"),e=TP("useNavigate"),r=j.useRef(!1);return kW(()=>{r.current=!0}),j.useCallback(async(i,s={})=>{cf(r.current,IW),r.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var Q6={};function RW(t,e,r){!e&&!Q6[t]&&(Q6[t]=!0,cf(!1,r))}j.memo(vce);function vce({routes:t,future:e,state:r,onError:n}){return BW(t,void 0,r,n,e)}function yce({to:t,replace:e,state:r,relative:n}){hl(Fb(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=j.useContext(df);cf(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=j.useContext(kA),{pathname:a}=hf(),c=ic(),u=EP(t,wP(s),a,n==="path"),o=JSON.stringify(u);return j.useEffect(()=>{c(JSON.parse(o),{replace:e,state:r,relative:n})},[c,o,n,e,r]),null}function Fs(t){hl(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function xce({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:i,static:s=!1,unstable_useTransitions:a}){hl(!Fb(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),u=j.useMemo(()=>({basename:c,navigator:i,static:s,unstable_useTransitions:a,future:{}}),[c,i,s,a]);typeof r=="string"&&(r=uy(r));let{pathname:o="/",search:d="",hash:f="",state:A=null,key:p="default"}=r,g=j.useMemo(()=>{let y=Op(o,c);return y==null?null:{location:{pathname:y,search:d,hash:f,state:A,key:p},navigationType:n}},[c,o,d,f,A,p,n]);return cf(g!=null,`<Router basename="${c}"> is not able to match the URL "${o}${d}${f}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:j.createElement(df.Provider,{value:u},j.createElement(e2.Provider,{children:e,value:g}))}function bce({children:t,location:e}){return ace(DL(t),e)}function DL(t,e=[]){let r=[];return j.Children.forEach(t,(n,i)=>{if(!j.isValidElement(n))return;let s=[...e,i];if(n.type===j.Fragment){r.push.apply(r,DL(n.props.children,s));return}hl(n.type===Fs,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),hl(!n.props.index||!n.props.children,"An index route cannot have child routes.");let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=DL(n.props.children,s)),r.push(a)}),r}var b_="get",w_="application/x-www-form-urlencoded";function oN(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function wce(t){return oN(t)&&t.tagName.toLowerCase()==="button"}function Ece(t){return oN(t)&&t.tagName.toLowerCase()==="form"}function Sce(t){return oN(t)&&t.tagName.toLowerCase()==="input"}function _ce(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Tce(t,e){return t.button===0&&(!e||e==="_self")&&!_ce(t)}function ML(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function Cce(t,e){let r=ML(t);return e&&e.forEach((n,i)=>{r.has(i)||e.getAll(i).forEach(s=>{r.append(i,s)})}),r}var uS=null;function jce(){if(uS===null)try{new FormData(document.createElement("form"),0),uS=!1}catch{uS=!0}return uS}var Nce=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function wI(t){return t!=null&&!Nce.has(t)?(cf(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${w_}"`),null):t}function Ice(t,e){let r,n,i,s,a;if(Ece(t)){let c=t.getAttribute("action");n=c?Op(c,e):null,r=t.getAttribute("method")||b_,i=wI(t.getAttribute("enctype"))||w_,s=new FormData(t)}else if(wce(t)||Sce(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||c.getAttribute("action");if(n=u?Op(u,e):null,r=t.getAttribute("formmethod")||c.getAttribute("method")||b_,i=wI(t.getAttribute("formenctype"))||wI(c.getAttribute("enctype"))||w_,s=new FormData(c,t),!jce()){let{name:o,type:d,value:f}=t;if(d==="image"){let A=o?`${o}.`:"";s.append(`${A}x`,"0"),s.append(`${A}y`,"0")}else o&&s.append(o,f)}}else{if(oN(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=b_,n=null,i=w_,a=t}return s&&i==="text/plain"&&(a=s,s=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function CP(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function kce(t,e,r,n){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${n}`:i.pathname=`${i.pathname}.${n}`:i.pathname==="/"?i.pathname=`_root.${n}`:e&&Op(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function Bce(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Lce(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Rce(t,e,r){let n=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let a=await Bce(s,r);return a.links?a.links():[]}return[]}));return Mce(n.flat(1).filter(Lce).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function V6(t,e,r,n,i,s){let a=(u,o)=>r[o]?u.route.id!==r[o].route.id:!0,c=(u,o)=>r[o].pathname!==u.pathname||r[o].route.path?.endsWith("*")&&r[o].params["*"]!==u.params["*"];return s==="assets"?e.filter((u,o)=>a(u,o)||c(u,o)):s==="data"?e.filter((u,o)=>{let d=n.routes[u.route.id];if(!d||!d.hasLoader)return!1;if(a(u,o)||c(u,o))return!0;if(u.route.shouldRevalidate){let f=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function Oce(t,e,{includeHydrateFallback:r}={}){return Pce(t.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function Pce(t){return[...new Set(t)]}function Dce(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function Mce(t,e){let r=new Set;return new Set(e),t.reduce((n,i)=>{let s=JSON.stringify(Dce(i));return r.has(s)||(r.add(s),n.push({key:s,link:i})),n},[])}function OW(){let t=j.useContext(Mb);return CP(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Fce(){let t=j.useContext(aN);return CP(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var jP=j.createContext(void 0);jP.displayName="FrameworkContext";function PW(){let t=j.useContext(jP);return CP(t,"You must render this element inside a <HydratedRouter> element"),t}function Uce(t,e){let r=j.useContext(jP),[n,i]=j.useState(!1),[s,a]=j.useState(!1),{onFocus:c,onBlur:u,onMouseEnter:o,onMouseLeave:d,onTouchStart:f}=e,A=j.useRef(null);j.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let y=b=>{b.forEach(w=>{a(w.isIntersecting)})},v=new IntersectionObserver(y,{threshold:.5});return A.current&&v.observe(A.current),()=>{v.disconnect()}}},[t]),j.useEffect(()=>{if(n){let y=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(y)}}},[n]);let p=()=>{i(!0)},g=()=>{i(!1),a(!1)};return r?t!=="intent"?[s,A,{}]:[s,A,{onFocus:S1(c,p),onBlur:S1(u,g),onMouseEnter:S1(o,p),onMouseLeave:S1(d,g),onTouchStart:S1(f,p)}]:[!1,A,{}]}function S1(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function $ce({page:t,...e}){let{router:r}=OW(),n=j.useMemo(()=>wW(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?j.createElement(Qce,{page:t,matches:n,...e}):null}function Hce(t){let{manifest:e,routeModules:r}=PW(),[n,i]=j.useState([]);return j.useEffect(()=>{let s=!1;return Rce(t,e,r).then(a=>{s||i(a)}),()=>{s=!0}},[t,e,r]),n}function Qce({page:t,matches:e,...r}){let n=hf(),{future:i,manifest:s,routeModules:a}=PW(),{basename:c}=OW(),{loaderData:u,matches:o}=Fce(),d=j.useMemo(()=>V6(t,e,o,s,n,"data"),[t,e,o,s,n]),f=j.useMemo(()=>V6(t,e,o,s,n,"assets"),[t,e,o,s,n]),A=j.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let y=new Set,v=!1;if(e.forEach(w=>{let S=s.routes[w.route.id];!S||!S.hasLoader||(!d.some(_=>_.route.id===w.route.id)&&w.route.id in u&&a[w.route.id]?.shouldRevalidate||S.hasClientLoader?v=!0:y.add(w.route.id))}),y.size===0)return[];let b=kce(t,c,i.unstable_trailingSlashAwareDataRequests,"data");return v&&y.size>0&&b.searchParams.set("_routes",e.filter(w=>y.has(w.route.id)).map(w=>w.route.id).join(",")),[b.pathname+b.search]},[c,i.unstable_trailingSlashAwareDataRequests,u,n,s,d,e,t,a]),p=j.useMemo(()=>Oce(f,s),[f,s]),g=Hce(f);return j.createElement(j.Fragment,null,A.map(y=>j.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...r})),p.map(y=>j.createElement("link",{key:y,rel:"modulepreload",href:y,...r})),g.map(({key:y,link:v})=>j.createElement("link",{key:y,nonce:r.nonce,...v,crossOrigin:v.crossOrigin??r.crossOrigin})))}function Vce(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var Kce=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Kce&&(window.__reactRouterVersion="7.13.0")}catch{}function Gce({basename:t,children:e,unstable_useTransitions:r,window:n}){let i=j.useRef();i.current==null&&(i.current=Sle({window:n,v5Compat:!0}));let s=i.current,[a,c]=j.useState({action:s.action,location:s.location}),u=j.useCallback(o=>{r===!1?c(o):j.startTransition(()=>c(o))},[r]);return j.useLayoutEffect(()=>s.listen(u),[s,u]),j.createElement(xce,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:s,unstable_useTransitions:r})}var DW=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gs=j.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:i,reloadDocument:s,replace:a,state:c,target:u,to:o,preventScrollReset:d,viewTransition:f,unstable_defaultShouldRevalidate:A,...p},g){let{basename:y,unstable_useTransitions:v}=j.useContext(df),b=typeof o=="string"&&DW.test(o),w=TW(o,y);o=w.to;let S=ice(o,{relative:i}),[_,T,L]=Uce(n,p),D=qce(o,{replace:a,state:c,target:u,preventScrollReset:d,relative:i,viewTransition:f,unstable_defaultShouldRevalidate:A,unstable_useTransitions:v});function V(J){e&&e(J),J.defaultPrevented||D(J)}let G=j.createElement("a",{...p,...L,href:w.absoluteURL||S,onClick:w.isExternal||s?e:V,ref:Vce(g,T),target:u,"data-discover":!b&&r==="render"?"true":void 0});return _&&!b?j.createElement(j.Fragment,null,G,j.createElement($ce,{page:S})):G});gs.displayName="Link";var zce=j.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:i=!1,style:s,to:a,viewTransition:c,children:u,...o},d){let f=t2(a,{relative:o.relative}),A=hf(),p=j.useContext(aN),{navigator:g,basename:y}=j.useContext(df),v=p!=null&&tue(f)&&c===!0,b=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,w=A.pathname,S=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;r||(w=w.toLowerCase(),S=S?S.toLowerCase():null,b=b.toLowerCase()),S&&y&&(S=Op(S,y)||S);const _=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let T=w===b||!i&&w.startsWith(b)&&w.charAt(_)==="/",L=S!=null&&(S===b||!i&&S.startsWith(b)&&S.charAt(b.length)==="/"),D={isActive:T,isPending:L,isTransitioning:v},V=T?e:void 0,G;typeof n=="function"?G=n(D):G=[n,T?"active":null,L?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let J=typeof s=="function"?s(D):s;return j.createElement(gs,{...o,"aria-current":V,className:G,ref:d,style:J,to:a,viewTransition:c},typeof u=="function"?u(D):u)});zce.displayName="NavLink";var Wce=j.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:i,state:s,method:a=b_,action:c,onSubmit:u,relative:o,preventScrollReset:d,viewTransition:f,unstable_defaultShouldRevalidate:A,...p},g)=>{let{unstable_useTransitions:y}=j.useContext(df),v=Jce(),b=eue(c,{relative:o}),w=a.toLowerCase()==="get"?"get":"post",S=typeof c=="string"&&DW.test(c),_=T=>{if(u&&u(T),T.defaultPrevented)return;T.preventDefault();let L=T.nativeEvent.submitter,D=L?.getAttribute("formmethod")||a,V=()=>v(L||T.currentTarget,{fetcherKey:e,method:D,navigate:r,replace:i,state:s,relative:o,preventScrollReset:d,viewTransition:f,unstable_defaultShouldRevalidate:A});y&&r!==!1?j.startTransition(()=>V()):V()};return j.createElement("form",{ref:g,method:w,action:b,onSubmit:n?u:_,...p,"data-discover":!S&&t==="render"?"true":void 0})});Wce.displayName="Form";function Yce(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function MW(t){let e=j.useContext(Mb);return hl(e,Yce(t)),e}function qce(t,{target:e,replace:r,state:n,preventScrollReset:i,relative:s,viewTransition:a,unstable_defaultShouldRevalidate:c,unstable_useTransitions:u}={}){let o=ic(),d=hf(),f=t2(t,{relative:s});return j.useCallback(A=>{if(Tce(A,e)){A.preventDefault();let p=r!==void 0?r:Jw(d)===Jw(f),g=()=>o(t,{replace:p,state:n,preventScrollReset:i,relative:s,viewTransition:a,unstable_defaultShouldRevalidate:c});u?j.startTransition(()=>g()):g()}},[d,o,f,r,n,e,t,i,s,a,c,u])}function lN(t){cf(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=j.useRef(ML(t)),r=j.useRef(!1),n=hf(),i=j.useMemo(()=>Cce(n.search,r.current?null:e.current),[n.search]),s=ic(),a=j.useCallback((c,u)=>{const o=ML(typeof c=="function"?c(new URLSearchParams(i)):c);r.current=!0,s("?"+o,u)},[s,i]);return[i,a]}var Xce=0,Zce=()=>`__${String(++Xce)}__`;function Jce(){let{router:t}=MW("useSubmit"),{basename:e}=j.useContext(df),r=mce(),n=t.fetch,i=t.navigate;return j.useCallback(async(s,a={})=>{let{action:c,method:u,encType:o,formData:d,body:f}=Ice(s,e);if(a.navigate===!1){let A=a.fetcherKey||Zce();await n(A,r,a.action||c,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:d,body:f,formMethod:a.method||u,formEncType:a.encType||o,flushSync:a.flushSync})}else await i(a.action||c,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:d,body:f,formMethod:a.method||u,formEncType:a.encType||o,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,i,e,r])}function eue(t,{relative:e}={}){let{basename:r}=j.useContext(df),n=j.useContext(kA);hl(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),s={...t2(t||".",{relative:e})},a=hf();if(t==null){s.search=a.search;let c=new URLSearchParams(s.search),u=c.getAll("index");if(u.some(d=>d==="")){c.delete("index"),u.filter(f=>f).forEach(f=>c.append("index",f));let d=c.toString();s.search=d?`?${d}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:Np([r,s.pathname])),Jw(s)}function tue(t,{relative:e}={}){let r=j.useContext(jW);hl(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=MW("useViewTransitionState"),i=t2(t,{relative:e});if(!r.isTransitioning)return!1;let s=Op(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=Op(r.nextLocation.pathname,n)||r.nextLocation.pathname;return ZT(i.pathname,a)!=null||ZT(i.pathname,s)!=null}var l0=bW();const FW=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();const rue=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const nue=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase());const K6=t=>{const e=nue(t);return e.charAt(0).toUpperCase()+e.slice(1)};var iue={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const sue=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const aue=j.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:a,...c},u)=>j.createElement("svg",{ref:u,...iue,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:FW("lucide",i),...!s&&!sue(c)&&{"aria-hidden":"true"},...c},[...a.map(([o,d])=>j.createElement(o,d)),...Array.isArray(s)?s:[s]]));const _n=(t,e)=>{const r=j.forwardRef(({className:n,...i},s)=>j.createElement(aue,{ref:s,iconNode:e,className:FW(`lucide-${rue(K6(t))}`,`lucide-${t}`,n),...i}));return r.displayName=K6(t),r};const oue=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],lue=_n("archive",oue);const cue=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],_0=_n("arrow-left",cue);const uue=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],nf=_n("arrow-right",uue);const due=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],hue=_n("award",due);const fue=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],Aue=_n("building-2",fue);const mue=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],pue=_n("building",mue);const gue=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],UW=_n("calculator",gue);const vue=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Pd=_n("calendar",vue);const yue=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],JT=_n("camera",yue);const xue=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],bo=_n("check",xue);const bue=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],eE=_n("chevron-down",bue);const wue=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],FL=_n("chevron-left",wue);const Eue=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],mb=_n("chevron-right",Eue);const Sue=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],eC=_n("chevron-up",Sue);const _ue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Wv=_n("circle-alert",_ue);const Tue=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Cw=_n("circle-check-big",Tue);const Cue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],EI=_n("circle-check",Cue);const jue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Nue=_n("circle-plus",jue);const Iue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],G6=_n("circle",Iue);const kue=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],pb=_n("clock",kue);const Bue=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Lue=_n("copy",Bue);const Rue=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Oue=_n("credit-card",Rue);const Pue=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Due=_n("crown",Pue);const Mue=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],T0=_n("dollar-sign",Mue);const Fue=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],gv=_n("download",Fue);const Uue=[["path",{d:"M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z",key:"9m4mmf"}],["path",{d:"m2.5 21.5 1.4-1.4",key:"17g3f0"}],["path",{d:"m20.1 3.9 1.4-1.4",key:"1qn309"}],["path",{d:"M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z",key:"1t2c92"}],["path",{d:"m9.6 14.4 4.8-4.8",key:"6umqxw"}]],$ue=_n("dumbbell",Uue);const Hue=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],tC=_n("external-link",Hue);const Que=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],UL=_n("eye",Que);const Vue=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],cN=_n("facebook",Vue);const Kue=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],NP=_n("file-text",Kue);const Gue=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}]],z6=_n("file",Gue);const zue=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],$W=_n("funnel",zue);const Wue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],HW=_n("globe",Wue);const Yue=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],f0=_n("image",Yue);const que=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],uN=_n("instagram",que);const Xue=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Zue=_n("layout-dashboard",Xue);const Jue=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],ede=_n("lightbulb",Jue);const tde=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],rde=_n("link",tde);const nde=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],ide=_n("linkedin",nde);const sde=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],QW=_n("loader",sde);const ade=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],VW=_n("lock",ade);const ode=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],W6=_n("log-out",ode);const lde=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],af=_n("mail",lde);const cde=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],C0=_n("map-pin",cde);const ude=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],KW=_n("menu",ude);const dde=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],hde=_n("music",dde);const fde=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],c0=_n("package",fde);const Ade=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],mde=_n("pen-line",Ade);const pde=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Y6=_n("pen",pde);const gde=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],rC=_n("phone",gde);const vde=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],IP=_n("play",vde);const yde=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],gb=_n("plus",yde);const xde=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],kP=_n("refresh-cw",xde);const bde=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],wde=_n("rocket",bde);const Ede=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],GW=_n("save",Ede);const Sde=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],zW=_n("send",Sde);const _de=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Tde=_n("settings",_de);const Cde=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],dN=_n("shield",Cde);const jde=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],dy=_n("sparkles",jde);const Nde=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Ide=_n("square-pen",Nde);const kde=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],$L=_n("star",kde);const Bde=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Lde=_n("tag",Bde);const Rde=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],WW=_n("target",Rde);const Ode=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],Pde=_n("toggle-left",Ode);const Dde=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],Mde=_n("toggle-right",Dde);const Fde=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],BP=_n("trash-2",Fde);const Ude=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],r2=_n("trending-up",Ude);const $de=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Hde=_n("triangle-alert",$de);const Qde=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],YW=_n("trophy",Qde);const Vde=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Kde=_n("upload",Vde);const Gde=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Yv=_n("user",Gde);const zde=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ub=_n("users",zde);const Wde=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Nm=_n("video",Wde);const Yde=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],qv=_n("x",Yde);const qde=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],qW=_n("youtube",qde);const Xde=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],LP=_n("zap",Xde),RP=j.createContext({});function n2(t){const e=j.useRef(null);return e.current===null&&(e.current=t()),e.current}const XW=typeof window<"u",OP=XW?j.useLayoutEffect:j.useEffect,hN=j.createContext(null);function PP(t,e){t.indexOf(e)===-1&&t.push(e)}function DP(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const Rm=(t,e,r)=>r>e?e:r<t?t:r;let MP=()=>{};const Pp={},ZW=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function JW(t){return typeof t=="object"&&t!==null}const eY=t=>/^0[^.\s]+$/u.test(t);function FP(t){let e;return()=>(e===void 0&&(e=t()),e)}const Uf=t=>t,Zde=(t,e)=>r=>e(t(r)),i2=(...t)=>t.reduce(Zde),tE=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n};class UP{constructor(){this.subscriptions=[]}add(e){return PP(this.subscriptions,e),()=>DP(this.subscriptions,e)}notify(e,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,r,n);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ip=t=>t*1e3,Mf=t=>t/1e3;function tY(t,e){return e?t*(1e3/e):0}const rY=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,Jde=1e-7,ehe=12;function the(t,e,r,n,i){let s,a,c=0;do a=e+(r-e)/2,s=rY(a,n,i)-t,s>0?r=a:e=a;while(Math.abs(s)>Jde&&++c<ehe);return a}function s2(t,e,r,n){if(t===e&&r===n)return Uf;const i=s=>the(s,0,1,t,r);return s=>s===0||s===1?s:rY(i(s),e,n)}const nY=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,iY=t=>e=>1-t(1-e),sY=s2(.33,1.53,.69,.99),$P=iY(sY),aY=nY($P),oY=t=>(t*=2)<1?.5*$P(t):.5*(2-Math.pow(2,-10*(t-1))),HP=t=>1-Math.sin(Math.acos(t)),lY=iY(HP),cY=nY(HP),rhe=s2(.42,0,1,1),nhe=s2(0,0,.58,1),uY=s2(.42,0,.58,1),ihe=t=>Array.isArray(t)&&typeof t[0]!="number",dY=t=>Array.isArray(t)&&typeof t[0]=="number",she={linear:Uf,easeIn:rhe,easeInOut:uY,easeOut:nhe,circIn:HP,circInOut:cY,circOut:lY,backIn:$P,backInOut:aY,backOut:sY,anticipate:oY},ahe=t=>typeof t=="string",q6=t=>{if(dY(t)){MP(t.length===4);const[e,r,n,i]=t;return s2(e,r,n,i)}else if(ahe(t))return she[t];return t},dS=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function ohe(t,e){let r=new Set,n=new Set,i=!1,s=!1;const a=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function u(d){a.has(d)&&(o.schedule(d),t()),d(c)}const o={schedule:(d,f=!1,A=!1)=>{const g=A&&i?r:n;return f&&a.add(d),g.has(d)||g.add(d),d},cancel:d=>{n.delete(d),a.delete(d)},process:d=>{if(c=d,i){s=!0;return}i=!0,[r,n]=[n,r],r.forEach(u),r.clear(),i=!1,s&&(s=!1,o.process(d))}};return o}const lhe=40;function hY(t,e){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>r=!0,a=dS.reduce((S,_)=>(S[_]=ohe(s),S),{}),{setup:c,read:u,resolveKeyframes:o,preUpdate:d,update:f,preRender:A,render:p,postRender:g}=a,y=()=>{const S=Pp.useManualTiming?i.timestamp:performance.now();r=!1,Pp.useManualTiming||(i.delta=n?1e3/60:Math.max(Math.min(S-i.timestamp,lhe),1)),i.timestamp=S,i.isProcessing=!0,c.process(i),u.process(i),o.process(i),d.process(i),f.process(i),A.process(i),p.process(i),g.process(i),i.isProcessing=!1,r&&e&&(n=!1,t(y))},v=()=>{r=!0,n=!0,i.isProcessing||t(y)};return{schedule:dS.reduce((S,_)=>{const T=a[_];return S[_]=(L,D=!1,V=!1)=>(r||v(),T.schedule(L,D,V)),S},{}),cancel:S=>{for(let _=0;_<dS.length;_++)a[dS[_]].cancel(S)},state:i,steps:a}}const{schedule:Oo,cancel:Dp,state:hd,steps:SI}=hY(typeof requestAnimationFrame<"u"?requestAnimationFrame:Uf,!0);let E_;function che(){E_=void 0}const Zd={now:()=>(E_===void 0&&Zd.set(hd.isProcessing||Pp.useManualTiming?hd.timestamp:performance.now()),E_),set:t=>{E_=t,queueMicrotask(che)}},fY=t=>e=>typeof e=="string"&&e.startsWith(t),AY=fY("--"),uhe=fY("var(--"),QP=t=>uhe(t)?dhe.test(t.split("/*")[0].trim()):!1,dhe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function X6(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const $b={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},rE={...$b,transform:t=>Rm(0,1,t)},hS={...$b,default:1},jw=t=>Math.round(t*1e5)/1e5,VP=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function hhe(t){return t==null}const fhe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,KP=(t,e)=>r=>!!(typeof r=="string"&&fhe.test(r)&&r.startsWith(t)||e&&!hhe(r)&&Object.prototype.hasOwnProperty.call(r,e)),mY=(t,e,r)=>n=>{if(typeof n!="string")return n;const[i,s,a,c]=n.match(VP);return{[t]:parseFloat(i),[e]:parseFloat(s),[r]:parseFloat(a),alpha:c!==void 0?parseFloat(c):1}},Ahe=t=>Rm(0,255,t),_I={...$b,transform:t=>Math.round(Ahe(t))},wv={test:KP("rgb","red"),parse:mY("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+_I.transform(t)+", "+_I.transform(e)+", "+_I.transform(r)+", "+jw(rE.transform(n))+")"};function mhe(t){let e="",r="",n="",i="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),i=t.substring(4,5),e+=e,r+=r,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const HL={test:KP("#"),parse:mhe,transform:wv.transform},a2=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ug=a2("deg"),Im=a2("%"),si=a2("px"),phe=a2("vh"),ghe=a2("vw"),Z6={...Im,parse:t=>Im.parse(t)/100,transform:t=>Im.transform(t*100)},Px={test:KP("hsl","hue"),parse:mY("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+Im.transform(jw(e))+", "+Im.transform(jw(r))+", "+jw(rE.transform(n))+")"},Fc={test:t=>wv.test(t)||HL.test(t)||Px.test(t),parse:t=>wv.test(t)?wv.parse(t):Px.test(t)?Px.parse(t):HL.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?wv.transform(t):Px.transform(t),getAnimatableNone:t=>{const e=Fc.parse(t);return e.alpha=0,Fc.transform(e)}},vhe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function yhe(t){return isNaN(t)&&typeof t=="string"&&(t.match(VP)?.length||0)+(t.match(vhe)?.length||0)>0}const pY="number",gY="color",xhe="var",bhe="var(",J6="${}",whe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function nE(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},i=[];let s=0;const c=e.replace(whe,u=>(Fc.test(u)?(n.color.push(s),i.push(gY),r.push(Fc.parse(u))):u.startsWith(bhe)?(n.var.push(s),i.push(xhe),r.push(u)):(n.number.push(s),i.push(pY),r.push(parseFloat(u))),++s,J6)).split(J6);return{values:r,split:c,indexes:n,types:i}}function vY(t){return nE(t).values}function yY(t){const{split:e,types:r}=nE(t),n=e.length;return i=>{let s="";for(let a=0;a<n;a++)if(s+=e[a],i[a]!==void 0){const c=r[a];c===pY?s+=jw(i[a]):c===gY?s+=Fc.transform(i[a]):s+=i[a]}return s}}const Ehe=t=>typeof t=="number"?0:Fc.test(t)?Fc.getAnimatableNone(t):t;function She(t){const e=vY(t);return yY(t)(e.map(Ehe))}const y0={test:yhe,parse:vY,createTransformer:yY,getAnimatableNone:She};function TI(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function _he({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let i=0,s=0,a=0;if(!e)i=s=a=r;else{const c=r<.5?r*(1+e):r+e-r*e,u=2*r-c;i=TI(u,c,t+1/3),s=TI(u,c,t),a=TI(u,c,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:n}}function nC(t,e){return r=>r>0?e:t}const kl=(t,e,r)=>t+(e-t)*r,CI=(t,e,r)=>{const n=t*t,i=r*(e*e-n)+n;return i<0?0:Math.sqrt(i)},The=[HL,wv,Px],Che=t=>The.find(e=>e.test(t));function e8(t){const e=Che(t);if(!e)return!1;let r=e.parse(t);return e===Px&&(r=_he(r)),r}const t8=(t,e)=>{const r=e8(t),n=e8(e);if(!r||!n)return nC(t,e);const i={...r};return s=>(i.red=CI(r.red,n.red,s),i.green=CI(r.green,n.green,s),i.blue=CI(r.blue,n.blue,s),i.alpha=kl(r.alpha,n.alpha,s),wv.transform(i))},QL=new Set(["none","hidden"]);function jhe(t,e){return QL.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function Nhe(t,e){return r=>kl(t,e,r)}function GP(t){return typeof t=="number"?Nhe:typeof t=="string"?QP(t)?nC:Fc.test(t)?t8:Bhe:Array.isArray(t)?xY:typeof t=="object"?Fc.test(t)?t8:Ihe:nC}function xY(t,e){const r=[...t],n=r.length,i=t.map((s,a)=>GP(s)(s,e[a]));return s=>{for(let a=0;a<n;a++)r[a]=i[a](s);return r}}function Ihe(t,e){const r={...t,...e},n={};for(const i in r)t[i]!==void 0&&e[i]!==void 0&&(n[i]=GP(t[i])(t[i],e[i]));return i=>{for(const s in n)r[s]=n[s](i);return r}}function khe(t,e){const r=[],n={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],a=t.indexes[s][n[s]],c=t.values[a]??0;r[i]=c,n[s]++}return r}const Bhe=(t,e)=>{const r=y0.createTransformer(e),n=nE(t),i=nE(e);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?QL.has(t)&&!i.values.length||QL.has(e)&&!n.values.length?jhe(t,e):i2(xY(khe(n,i),i.values),r):nC(t,e)};function bY(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?kl(t,e,r):GP(t)(t,e)}const Lhe=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>Oo.update(e,r),stop:()=>Dp(e),now:()=>hd.isProcessing?hd.timestamp:Zd.now()}},wY=(t,e,r=10)=>{let n="";const i=Math.max(Math.round(e/r),2);for(let s=0;s<i;s++)n+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},iC=2e4;function zP(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<iC;)e+=r,n=t.next(e);return e>=iC?1/0:e}function Rhe(t,e=100,r){const n=r({...t,keyframes:[0,e]}),i=Math.min(zP(n),iC);return{type:"keyframes",ease:s=>n.next(i*s).value/e,duration:Mf(i)}}const Ohe=5;function EY(t,e,r){const n=Math.max(e-Ohe,0);return tY(r-t(n),e-n)}const Xl={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},jI=.001;function Phe({duration:t=Xl.duration,bounce:e=Xl.bounce,velocity:r=Xl.velocity,mass:n=Xl.mass}){let i,s,a=1-e;a=Rm(Xl.minDamping,Xl.maxDamping,a),t=Rm(Xl.minDuration,Xl.maxDuration,Mf(t)),a<1?(i=o=>{const d=o*a,f=d*t,A=d-r,p=VL(o,a),g=Math.exp(-f);return jI-A/p*g},s=o=>{const f=o*a*t,A=f*r+r,p=Math.pow(a,2)*Math.pow(o,2)*t,g=Math.exp(-f),y=VL(Math.pow(o,2),a);return(-i(o)+jI>0?-1:1)*((A-p)*g)/y}):(i=o=>{const d=Math.exp(-o*t),f=(o-r)*t+1;return-jI+d*f},s=o=>{const d=Math.exp(-o*t),f=(r-o)*(t*t);return d*f});const c=5/t,u=Mhe(i,s,c);if(t=Ip(t),isNaN(u))return{stiffness:Xl.stiffness,damping:Xl.damping,duration:t};{const o=Math.pow(u,2)*n;return{stiffness:o,damping:a*2*Math.sqrt(n*o),duration:t}}}const Dhe=12;function Mhe(t,e,r){let n=r;for(let i=1;i<Dhe;i++)n=n-t(n)/e(n);return n}function VL(t,e){return t*Math.sqrt(1-e*e)}const Fhe=["duration","bounce"],Uhe=["stiffness","damping","mass"];function r8(t,e){return e.some(r=>t[r]!==void 0)}function $he(t){let e={velocity:Xl.velocity,stiffness:Xl.stiffness,damping:Xl.damping,mass:Xl.mass,isResolvedFromDuration:!1,...t};if(!r8(t,Uhe)&&r8(t,Fhe))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),i=n*n,s=2*Rm(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Xl.mass,stiffness:i,damping:s}}else{const r=Phe(t);e={...e,...r,mass:Xl.mass},e.isResolvedFromDuration=!0}return e}function sC(t=Xl.visualDuration,e=Xl.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:i}=r;const s=r.keyframes[0],a=r.keyframes[r.keyframes.length-1],c={done:!1,value:s},{stiffness:u,damping:o,mass:d,duration:f,velocity:A,isResolvedFromDuration:p}=$he({...r,velocity:-Mf(r.velocity||0)}),g=A||0,y=o/(2*Math.sqrt(u*d)),v=a-s,b=Mf(Math.sqrt(u/d)),w=Math.abs(v)<5;n||(n=w?Xl.restSpeed.granular:Xl.restSpeed.default),i||(i=w?Xl.restDelta.granular:Xl.restDelta.default);let S;if(y<1){const T=VL(b,y);S=L=>{const D=Math.exp(-y*b*L);return a-D*((g+y*b*v)/T*Math.sin(T*L)+v*Math.cos(T*L))}}else if(y===1)S=T=>a-Math.exp(-b*T)*(v+(g+b*v)*T);else{const T=b*Math.sqrt(y*y-1);S=L=>{const D=Math.exp(-y*b*L),V=Math.min(T*L,300);return a-D*((g+y*b*v)*Math.sinh(V)+T*v*Math.cosh(V))/T}}const _={calculatedDuration:p&&f||null,next:T=>{const L=S(T);if(p)c.done=T>=f;else{let D=T===0?g:0;y<1&&(D=T===0?Ip(g):EY(S,T,L));const V=Math.abs(D)<=n,G=Math.abs(a-L)<=i;c.done=V&&G}return c.value=c.done?a:L,c},toString:()=>{const T=Math.min(zP(_),iC),L=wY(D=>_.next(T*D).value,T,30);return T+"ms "+L},toTransition:()=>{}};return _}sC.applyToOptions=t=>{const e=Rhe(t,100,sC);return t.ease=e.ease,t.duration=Ip(e.duration),t.type="keyframes",t};function KL({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:c,max:u,restDelta:o=.5,restSpeed:d}){const f=t[0],A={done:!1,value:f},p=V=>c!==void 0&&V<c||u!==void 0&&V>u,g=V=>c===void 0?u:u===void 0||Math.abs(c-V)<Math.abs(u-V)?c:u;let y=r*e;const v=f+y,b=a===void 0?v:a(v);b!==v&&(y=b-f);const w=V=>-y*Math.exp(-V/n),S=V=>b+w(V),_=V=>{const G=w(V),J=S(V);A.done=Math.abs(G)<=o,A.value=A.done?b:J};let T,L;const D=V=>{p(A.value)&&(T=V,L=sC({keyframes:[A.value,g(A.value)],velocity:EY(S,V,A.value),damping:i,stiffness:s,restDelta:o,restSpeed:d}))};return D(0),{calculatedDuration:null,next:V=>{let G=!1;return!L&&T===void 0&&(G=!0,_(V),D(V)),T!==void 0&&V>=T?L.next(V-T):(!G&&_(V),A)}}}function Hhe(t,e,r){const n=[],i=r||Pp.mix||bY,s=t.length-1;for(let a=0;a<s;a++){let c=i(t[a],t[a+1]);if(e){const u=Array.isArray(e)?e[a]||Uf:e;c=i2(u,c)}n.push(c)}return n}function SY(t,e,{clamp:r=!0,ease:n,mixer:i}={}){const s=t.length;if(MP(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=Hhe(e,n,i),u=c.length,o=d=>{if(a&&d<t[0])return e[0];let f=0;if(u>1)for(;f<t.length-2&&!(d<t[f+1]);f++);const A=tE(t[f],t[f+1],d);return c[f](A)};return r?d=>o(Rm(t[0],t[s-1],d)):o}function Qhe(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const i=tE(0,e,n);t.push(kl(r,1,i))}}function Vhe(t){const e=[0];return Qhe(e,t.length-1),e}function Khe(t,e){return t.map(r=>r*e)}function Ghe(t,e){return t.map(()=>e||uY).splice(0,t.length-1)}function Nw({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const i=ihe(n)?n.map(q6):q6(n),s={done:!1,value:e[0]},a=Khe(r&&r.length===e.length?r:Vhe(e),t),c=SY(a,e,{ease:Array.isArray(i)?i:Ghe(e,i)});return{calculatedDuration:t,next:u=>(s.value=c(u),s.done=u>=t,s)}}const zhe=t=>t!==null;function WP(t,{repeat:e,repeatType:r="loop"},n,i=1){const s=t.filter(zhe),c=i<0||e&&r!=="loop"&&e%2===1?0:s.length-1;return!c||n===void 0?s[c]:n}const Whe={decay:KL,inertia:KL,tween:Nw,keyframes:Nw,spring:sC};function _Y(t){typeof t.type=="string"&&(t.type=Whe[t.type])}class YP{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const Yhe=t=>t/100;class fN extends YP{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:r}=this.options;r&&r.updatedAt!==Zd.now()&&this.tick(Zd.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;_Y(e);const{type:r=Nw,repeat:n=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=e;let{keyframes:c}=e;const u=r||Nw;u!==Nw&&typeof c[0]!="number"&&(this.mixKeyframes=i2(Yhe,bY(c[0],c[1])),c=[0,100]);const o=u({...e,keyframes:c});s==="mirror"&&(this.mirroredGenerator=u({...e,keyframes:[...c].reverse(),velocity:-a})),o.calculatedDuration===null&&(o.calculatedDuration=zP(o));const{calculatedDuration:d}=o;this.calculatedDuration=d,this.resolvedDuration=d+i,this.totalDuration=this.resolvedDuration*(n+1)-i,this.generator=o}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:n,totalDuration:i,mixKeyframes:s,mirroredGenerator:a,resolvedDuration:c,calculatedDuration:u}=this;if(this.startTime===null)return n.next(0);const{delay:o=0,keyframes:d,repeat:f,repeatType:A,repeatDelay:p,type:g,onUpdate:y,finalKeyframe:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const b=this.currentTime-o*(this.playbackSpeed>=0?1:-1),w=this.playbackSpeed>=0?b<0:b>i;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let S=this.currentTime,_=n;if(f){const V=Math.min(this.currentTime,i)/c;let G=Math.floor(V),J=V%1;!J&&V>=1&&(J=1),J===1&&G--,G=Math.min(G,f+1),G%2&&(A==="reverse"?(J=1-J,p&&(J-=p/c)):A==="mirror"&&(_=a)),S=Rm(0,1,J)*c}const T=w?{done:!1,value:d[0]}:_.next(S);s&&(T.value=s(T.value));let{done:L}=T;!w&&u!==null&&(L=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&L);return D&&g!==KL&&(T.value=WP(d,this.options,v,this.speed)),y&&y(T.value),D&&this.finish(),T}then(e,r){return this.finished.then(e,r)}get duration(){return Mf(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Mf(e)}get time(){return Mf(this.currentTime)}set time(e){e=Ip(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Zd.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=Mf(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=Lhe,startTime:r}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Zd.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function qhe(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ev=t=>t*180/Math.PI,GL=t=>{const e=Ev(Math.atan2(t[1],t[0]));return zL(e)},Xhe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:GL,rotateZ:GL,skewX:t=>Ev(Math.atan(t[1])),skewY:t=>Ev(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},zL=t=>(t=t%360,t<0&&(t+=360),t),n8=GL,i8=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),s8=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Zhe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:i8,scaleY:s8,scale:t=>(i8(t)+s8(t))/2,rotateX:t=>zL(Ev(Math.atan2(t[6],t[5]))),rotateY:t=>zL(Ev(Math.atan2(-t[2],t[0]))),rotateZ:n8,rotate:n8,skewX:t=>Ev(Math.atan(t[4])),skewY:t=>Ev(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function WL(t){return t.includes("scale")?1:0}function YL(t,e){if(!t||t==="none")return WL(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,i;if(r)n=Zhe,i=r;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=Xhe,i=c}if(!i)return WL(e);const s=n[e],a=i[1].split(",").map(efe);return typeof s=="function"?s(a):a[s]}const Jhe=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return YL(r,e)};function efe(t){return parseFloat(t.trim())}const Hb=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Qb=new Set(Hb),a8=t=>t===$b||t===si,tfe=new Set(["x","y","z"]),rfe=Hb.filter(t=>!tfe.has(t));function nfe(t){const e=[];return rfe.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const u0={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>YL(e,"x"),y:(t,{transform:e})=>YL(e,"y")};u0.translateX=u0.x;u0.translateY=u0.y;const Ov=new Set;let qL=!1,XL=!1,ZL=!1;function TY(){if(XL){const t=Array.from(Ov).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const i=nfe(n);i.length&&(r.set(n,i),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const i=r.get(n);i&&i.forEach(([s,a])=>{n.getValue(s)?.set(a)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}XL=!1,qL=!1,Ov.forEach(t=>t.complete(ZL)),Ov.clear()}function CY(){Ov.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(XL=!0)})}function ife(){ZL=!0,CY(),TY(),ZL=!1}class qP{constructor(e,r,n,i,s,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Ov.add(this),qL||(qL=!0,Oo.read(CY),Oo.resolveKeyframes(TY))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:i}=this;if(e[0]===null){const s=i?.get(),a=e[e.length-1];if(s!==void 0)e[0]=s;else if(n&&r){const c=n.readValue(r,a);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=a),i&&s===void 0&&i.set(e[0])}qhe(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ov.delete(this)}cancel(){this.state==="scheduled"&&(Ov.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const sfe=t=>t.startsWith("--");function afe(t,e,r){sfe(e)?t.style.setProperty(e,r):t.style[e]=r}const ofe=FP(()=>window.ScrollTimeline!==void 0),lfe={};function cfe(t,e){const r=FP(t);return()=>lfe[e]??r()}const jY=cfe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),X1=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,o8={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:X1([0,.65,.55,1]),circOut:X1([.55,0,1,.45]),backIn:X1([.31,.01,.66,-.59]),backOut:X1([.33,1.53,.69,.99])};function NY(t,e){if(t)return typeof t=="function"?jY()?wY(t,e):"ease-out":dY(t)?X1(t):Array.isArray(t)?t.map(r=>NY(r,e)||o8.easeOut):o8[t]}function ufe(t,e,r,{delay:n=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:c="easeOut",times:u}={},o=void 0){const d={[e]:r};u&&(d.offset=u);const f=NY(c,i);Array.isArray(f)&&(d.easing=f);const A={delay:n,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"};return o&&(A.pseudoElement=o),t.animate(d,A)}function IY(t){return typeof t=="function"&&"applyToOptions"in t}function dfe({type:t,...e}){return IY(t)&&jY()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class hfe extends YP{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:r,name:n,keyframes:i,pseudoElement:s,allowFlatten:a=!1,finalKeyframe:c,onComplete:u}=e;this.isPseudoElement=!!s,this.allowFlatten=a,this.options=e,MP(typeof e.type!="string");const o=dfe(e);this.animation=ufe(r,n,i,o,s),o.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const d=WP(i,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(d):afe(r,n,d),this.animation.cancel()}u?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Mf(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Mf(e)}get time(){return Mf(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Ip(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&ofe()?(this.animation.timeline=e,Uf):r(this)}}const kY={anticipate:oY,backInOut:aY,circInOut:cY};function ffe(t){return t in kY}function Afe(t){typeof t.ease=="string"&&ffe(t.ease)&&(t.ease=kY[t.ease])}const NI=10;class mfe extends hfe{constructor(e){Afe(e),_Y(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:n,onComplete:i,element:s,...a}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const c=new fN({...a,autoplay:!1}),u=Math.max(NI,Zd.now()-this.startTime),o=Rm(0,NI,u-NI);r.setWithVelocity(c.sample(Math.max(0,u-o)).value,c.sample(u).value,o),c.stop()}}const l8=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(y0.test(t)||t==="0")&&!t.startsWith("url("));function pfe(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function gfe(t,e,r,n){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],a=l8(i,e),c=l8(s,e);return!a||!c?!1:pfe(t)||(r==="spring"||IY(r))&&n}function JL(t){t.duration=0,t.type="keyframes"}const vfe=new Set(["opacity","clipPath","filter","transform"]),yfe=FP(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function xfe(t){const{motionValue:e,name:r,repeatDelay:n,repeatType:i,damping:s,type:a}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:o}=e.owner.getProps();return yfe()&&r&&vfe.has(r)&&(r!=="transform"||!o)&&!u&&!n&&i!=="mirror"&&s!==0&&a!=="inertia"}const bfe=40;class wfe extends YP{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",keyframes:c,name:u,motionValue:o,element:d,...f}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Zd.now();const A={autoplay:e,delay:r,type:n,repeat:i,repeatDelay:s,repeatType:a,name:u,motionValue:o,element:d,...f},p=d?.KeyframeResolver||qP;this.keyframeResolver=new p(c,(g,y,v)=>this.onKeyframesResolved(g,y,A,!v),u,o,d),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,r,n,i){this.keyframeResolver=void 0;const{name:s,type:a,velocity:c,delay:u,isHandoff:o,onUpdate:d}=n;this.resolvedAt=Zd.now(),gfe(e,s,a,c)||((Pp.instantAnimations||!u)&&d?.(WP(e,n,r)),e[0]=e[e.length-1],JL(n),n.repeat=0);const A={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>bfe?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:e},p=!o&&xfe(A),g=A.motionValue?.owner?.current,y=p?new mfe({...A,element:g}):new fN(A);y.finished.then(()=>{this.notifyFinished()}).catch(Uf),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),ife()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function BY(t,e,r,n=0,i=1){const s=Array.from(t).sort((o,d)=>o.sortNodePosition(d)).indexOf(e),a=t.size,c=(a-1)*n;return typeof r=="function"?r(s,a):i===1?s*n:c-s*n}const Efe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Sfe(t){const e=Efe.exec(t);if(!e)return[,];const[,r,n,i]=e;return[`--${r??n}`,i]}function LY(t,e,r=1){const[n,i]=Sfe(t);if(!n)return;const s=window.getComputedStyle(e).getPropertyValue(n);if(s){const a=s.trim();return ZW(a)?parseFloat(a):a}return QP(i)?LY(i,e,r+1):i}const _fe={type:"spring",stiffness:500,damping:25,restSpeed:10},Tfe=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Cfe={type:"keyframes",duration:.8},jfe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Nfe=(t,{keyframes:e})=>e.length>2?Cfe:Qb.has(t)?t.startsWith("scale")?Tfe(e[1]):_fe:jfe,Ife=t=>t!==null;function kfe(t,{repeat:e,repeatType:r="loop"},n){const i=t.filter(Ife),s=e&&r!=="loop"&&e%2===1?0:i.length-1;return i[s]}function XP(t,e){return t?.[e]??t?.default??t}function Bfe({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:c,from:u,elapsed:o,...d}){return!!Object.keys(d).length}const ZP=(t,e,r,n={},i,s)=>a=>{const c=XP(n,t)||{},u=c.delay||n.delay||0;let{elapsed:o=0}=n;o=o-Ip(u);const d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-o,onUpdate:A=>{e.set(A),c.onUpdate&&c.onUpdate(A)},onComplete:()=>{a(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:s?void 0:i};Bfe(c)||Object.assign(d,Nfe(t,d)),d.duration&&(d.duration=Ip(d.duration)),d.repeatDelay&&(d.repeatDelay=Ip(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(JL(d),d.delay===0&&(f=!0)),(Pp.instantAnimations||Pp.skipAnimations)&&(f=!0,JL(d),d.delay=0),d.allowFlatten=!c.type&&!c.ease,f&&!s&&e.get()!==void 0){const A=kfe(d.keyframes,c);if(A!==void 0){Oo.update(()=>{d.onUpdate(A),d.onComplete()});return}}return c.isSync?new fN(d):new wfe(d)};function c8(t){const e=[{},{}];return t?.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function JP(t,e,r,n){if(typeof e=="function"){const[i,s]=c8(n);e=e(r!==void 0?r:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=c8(n);e=e(r!==void 0?r:t.custom,i,s)}return e}function Xx(t,e,r){const n=t.getProps();return JP(n,e,r!==void 0?r:n.custom,t)}const RY=new Set(["width","height","top","left","right","bottom",...Hb]),u8=30,Lfe=t=>!isNaN(parseFloat(t)),Iw={current:void 0};class Rfe{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{const i=Zd.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=Zd.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Lfe(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new UP);const n=this.events[e].add(r);return e==="change"?()=>{n(),Oo.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return Iw.current&&Iw.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Zd.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>u8)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,u8);return tY(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Xv(t,e){return new Rfe(t,e)}const e4=t=>Array.isArray(t);function Ofe(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,Xv(r))}function Pfe(t){return e4(t)?t[t.length-1]||0:t}function Dfe(t,e){const r=Xx(t,e);let{transitionEnd:n={},transition:i={},...s}=r||{};s={...s,...n};for(const a in s){const c=Pfe(s[a]);Ofe(t,a,c)}}const Qu=t=>!!(t&&t.getVelocity);function Mfe(t){return!!(Qu(t)&&t.add)}function t4(t,e){const r=t.getValue("willChange");if(Mfe(r))return r.add(e);if(!r&&Pp.WillChange){const n=new Pp.WillChange("auto");t.addValue("willChange",n),n.add(e)}}function e3(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const Ffe="framerAppearId",OY="data-"+e3(Ffe);function PY(t){return t.props[OY]}function Ufe({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function DY(t,e,{delay:r=0,transitionOverride:n,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:a,...c}=e;const u=s?.reduceMotion;n&&(s=n);const o=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const f in c){const A=t.getValue(f,t.latestValues[f]??null),p=c[f];if(p===void 0||d&&Ufe(d,f))continue;const g={delay:r,...XP(s||{},f)},y=A.get();if(y!==void 0&&!A.isAnimating&&!Array.isArray(p)&&p===y&&!g.velocity)continue;let v=!1;if(window.MotionHandoffAnimation){const S=PY(t);if(S){const _=window.MotionHandoffAnimation(S,f,Oo);_!==null&&(g.startTime=_,v=!0)}}t4(t,f);const b=u??t.shouldReduceMotion;A.start(ZP(f,A,p,b&&RY.has(f)?{type:!1}:g,t,v));const w=A.animation;w&&o.push(w)}return a&&Promise.all(o).then(()=>{Oo.update(()=>{a&&Dfe(t,a)})}),o}function r4(t,e,r={}){const n=Xx(t,e,r.type==="exit"?t.presenceContext?.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(i=r.transitionOverride);const s=n?()=>Promise.all(DY(t,n,r)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:o=0,staggerChildren:d,staggerDirection:f}=i;return $fe(t,e,u,o,d,f,r)}:()=>Promise.resolve(),{when:c}=i;if(c){const[u,o]=c==="beforeChildren"?[s,a]:[a,s];return u().then(()=>o())}else return Promise.all([s(),a(r.delay)])}function $fe(t,e,r=0,n=0,i=0,s=1,a){const c=[];for(const u of t.variantChildren)u.notify("AnimationStart",e),c.push(r4(u,e,{...a,delay:r+(typeof n=="function"?0:n)+BY(t.variantChildren,u,n,i,s)}).then(()=>u.notify("AnimationComplete",e)));return Promise.all(c)}function Hfe(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const i=e.map(s=>r4(t,s,r));n=Promise.all(i)}else if(typeof e=="string")n=r4(t,e,r);else{const i=typeof e=="function"?Xx(t,e,r.custom):e;n=Promise.all(DY(t,i,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}const Qfe={test:t=>t==="auto",parse:t=>t},MY=t=>e=>e.test(t),FY=[$b,si,Im,Ug,ghe,phe,Qfe],d8=t=>FY.find(MY(t));function Vfe(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||eY(t):!0}const Kfe=new Set(["brightness","contrast","saturate","opacity"]);function Gfe(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(VP)||[];if(!n)return t;const i=r.replace(n,"");let s=Kfe.has(e)?1:0;return n!==r&&(s*=100),e+"("+s+i+")"}const zfe=/\b([a-z-]*)\(.*?\)/gu,n4={...y0,getAnimatableNone:t=>{const e=t.match(zfe);return e?e.map(Gfe).join(" "):t}},h8={...$b,transform:Math.round},Wfe={rotate:Ug,rotateX:Ug,rotateY:Ug,rotateZ:Ug,scale:hS,scaleX:hS,scaleY:hS,scaleZ:hS,skew:Ug,skewX:Ug,skewY:Ug,distance:si,translateX:si,translateY:si,translateZ:si,x:si,y:si,z:si,perspective:si,transformPerspective:si,opacity:rE,originX:Z6,originY:Z6,originZ:si},t3={borderWidth:si,borderTopWidth:si,borderRightWidth:si,borderBottomWidth:si,borderLeftWidth:si,borderRadius:si,borderTopLeftRadius:si,borderTopRightRadius:si,borderBottomRightRadius:si,borderBottomLeftRadius:si,width:si,maxWidth:si,height:si,maxHeight:si,top:si,right:si,bottom:si,left:si,inset:si,insetBlock:si,insetBlockStart:si,insetBlockEnd:si,insetInline:si,insetInlineStart:si,insetInlineEnd:si,padding:si,paddingTop:si,paddingRight:si,paddingBottom:si,paddingLeft:si,paddingBlock:si,paddingBlockStart:si,paddingBlockEnd:si,paddingInline:si,paddingInlineStart:si,paddingInlineEnd:si,margin:si,marginTop:si,marginRight:si,marginBottom:si,marginLeft:si,marginBlock:si,marginBlockStart:si,marginBlockEnd:si,marginInline:si,marginInlineStart:si,marginInlineEnd:si,fontSize:si,backgroundPositionX:si,backgroundPositionY:si,...Wfe,zIndex:h8,fillOpacity:rE,strokeOpacity:rE,numOctaves:h8},Yfe={...t3,color:Fc,backgroundColor:Fc,outlineColor:Fc,fill:Fc,stroke:Fc,borderColor:Fc,borderTopColor:Fc,borderRightColor:Fc,borderBottomColor:Fc,borderLeftColor:Fc,filter:n4,WebkitFilter:n4},UY=t=>Yfe[t];function $Y(t,e){let r=UY(t);return r!==n4&&(r=y0),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const qfe=new Set(["auto","none","0"]);function Xfe(t,e,r){let n=0,i;for(;n<t.length&&!i;){const s=t[n];typeof s=="string"&&!qfe.has(s)&&nE(s).values.length&&(i=t[n]),n++}if(i&&r)for(const s of e)t[s]=$Y(r,i)}class Zfe extends qP{constructor(e,r,n,i,s){super(e,r,n,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let f=e[d];if(typeof f=="string"&&(f=f.trim(),QP(f))){const A=LY(f,r.current);A!==void 0&&(e[d]=A),d===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!RY.has(n)||e.length!==2)return;const[i,s]=e,a=d8(i),c=d8(s),u=X6(i),o=X6(s);if(u!==o&&u0[n]){this.needsMeasurement=!0;return}if(a!==c)if(a8(a)&&a8(c))for(let d=0;d<e.length;d++){const f=e[d];typeof f=="string"&&(e[d]=parseFloat(f))}else u0[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let i=0;i<e.length;i++)(e[i]===null||Vfe(e[i]))&&n.push(i);n.length&&Xfe(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=u0[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&e.getValue(n,i).jump(i,!1)}measureEndState(){const{element:e,name:r,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const i=e.getValue(r);i&&i.jump(this.measuredOrigin,!1);const s=n.length-1,a=n[s];n[s]=u0[r](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,u])=>{e.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function Jfe(t,e,r){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let n=document;const i=r?.[t]??n.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t).filter(n=>n!=null)}const HY=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function i4(t){return JW(t)&&"offsetHeight"in t}const{schedule:r3}=hY(queueMicrotask,!1),fA={x:!1,y:!1};function QY(){return fA.x||fA.y}function eAe(t){return t==="x"||t==="y"?fA[t]?null:(fA[t]=!0,()=>{fA[t]=!1}):fA.x||fA.y?null:(fA.x=fA.y=!0,()=>{fA.x=fA.y=!1})}function VY(t,e){const r=Jfe(t),n=new AbortController,i={passive:!0,...e,signal:n.signal};return[r,i,()=>n.abort()]}function f8(t){return!(t.pointerType==="touch"||QY())}function tAe(t,e,r={}){const[n,i,s]=VY(t,r),a=c=>{if(!f8(c))return;const{target:u}=c,o=e(u,c);if(typeof o!="function"||!u)return;const d=f=>{f8(f)&&(o(f),u.removeEventListener("pointerleave",d))};u.addEventListener("pointerleave",d,i)};return n.forEach(c=>{c.addEventListener("pointerenter",a,i)}),s}const KY=(t,e)=>e?t===e?!0:KY(t,e.parentElement):!1,n3=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,rAe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function GY(t){return rAe.has(t.tagName)||t.isContentEditable===!0}const S_=new WeakSet;function A8(t){return e=>{e.key==="Enter"&&t(e)}}function II(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const nAe=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=A8(()=>{if(S_.has(r))return;II(r,"down");const i=A8(()=>{II(r,"up")}),s=()=>II(r,"cancel");r.addEventListener("keyup",i,e),r.addEventListener("blur",s,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function m8(t){return n3(t)&&!QY()}function iAe(t,e,r={}){const[n,i,s]=VY(t,r),a=c=>{const u=c.currentTarget;if(!m8(c))return;S_.add(u);const o=e(u,c),d=(p,g)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",A),S_.has(u)&&S_.delete(u),m8(p)&&typeof o=="function"&&o(p,{success:g})},f=p=>{d(p,u===window||u===document||r.useGlobalTarget||KY(u,p.target))},A=p=>{d(p,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",A,i)};return n.forEach(c=>{(r.useGlobalTarget?window:c).addEventListener("pointerdown",a,i),i4(c)&&(c.addEventListener("focus",o=>nAe(o,i)),!GY(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),s}function zY(t){return JW(t)&&"ownerSVGElement"in t}function sAe(t){return zY(t)&&t.tagName==="svg"}function aAe(...t){const e=!Array.isArray(t[0]),r=e?0:-1,n=t[0+r],i=t[1+r],s=t[2+r],a=t[3+r],c=SY(i,s,a);return e?c(n):c}function oAe(t,e,r={}){const n=t.get();let i=null,s=n,a;const c=typeof n=="string"?n.replace(/[\d.-]/g,""):void 0,u=()=>{i&&(i.stop(),i=null)},o=()=>{u();const d=g8(t.get()),f=g8(s);d!==f&&(i=new fN({keyframes:[d,f],velocity:t.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...r,onUpdate:a}))};if(t.attach((d,f)=>{s=d,a=A=>f(p8(A,c)),Oo.postRender(()=>{o(),t.events.animationStart?.notify(),i?.then(()=>{t.events.animationComplete?.notify()})})},u),Qu(e)){const d=e.on("change",A=>t.set(p8(A,c))),f=t.on("destroy",d);return()=>{d(),f()}}return u}function p8(t,e){return e?t+e:t}function g8(t){return typeof t=="number"?t:parseFloat(t)}const lAe=[...FY,Fc,y0],cAe=t=>lAe.find(MY(t)),v8=()=>({translate:0,scale:1,origin:0,originPoint:0}),Dx=()=>({x:v8(),y:v8()}),y8=()=>({min:0,max:0}),ou=()=>({x:y8(),y:y8()}),s4={current:null},WY={current:!1},uAe=typeof window<"u";function dAe(){if(WY.current=!0,!!uAe)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>s4.current=t.matches;t.addEventListener("change",e),e()}else s4.current=!1}const hAe=new WeakMap;function AN(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function iE(t){return typeof t=="string"||Array.isArray(t)}const i3=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],s3=["initial",...i3];function mN(t){return AN(t.animate)||s3.some(e=>iE(t[e]))}function YY(t){return!!(mN(t)||t.variants)}function fAe(t,e,r){for(const n in e){const i=e[n],s=r[n];if(Qu(i))t.addValue(n,i);else if(Qu(s))t.addValue(n,Xv(i,{owner:t}));else if(s!==i)if(t.hasValue(n)){const a=t.getValue(n);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=t.getStaticValue(n);t.addValue(n,Xv(a!==void 0?a:i,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const x8=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let aC={};function qY(t){aC=t}function AAe(){return aC}class mAe{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=qP,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const A=Zd.now();this.renderScheduledAt<A&&(this.renderScheduledAt=A,Oo.render(this.render,!1,!0))};const{latestValues:u,renderState:o}=a;this.latestValues=u,this.baseTarget={...u},this.initialValues=r.initial?{...u}:{},this.renderState=o,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=c,this.blockInitialAnimation=!!s,this.isControllingVariants=mN(r),this.isVariantNode=YY(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const A in f){const p=f[A];u[A]!==void 0&&Qu(p)&&p.set(u[A])}}mount(e){this.current=e,hAe.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(WY.current||dAe(),this.shouldReduceMotion=s4.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Dp(this.notifyUpdate),Dp(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Qb.has(e);n&&this.onBindTransform&&this.onBindTransform();const i=r.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Oo.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;typeof window<"u"&&window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in aC){const r=aC[e];if(!r)continue;const{isEnabled:n,Feature:i}=r;if(!this.features[e]&&i&&n(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ou()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<x8.length;n++){const i=x8[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=e[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=fAe(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=Xv(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(ZW(n)||eY(n))?n=parseFloat(n):!cAe(n)&&y0.test(r)&&(n=$Y(e,r)),this.setBaseTarget(e,Qu(n)?n.get():n)),Qu(n)?n.get():n}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const s=JP(this.props,r,this.presenceContext?.custom);s&&(n=s[e])}if(r&&n!==void 0)return n;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Qu(i)?i:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new UP),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}scheduleRenderMicrotask(){r3.render(this.render)}}class XY extends mAe{constructor(){super(...arguments),this.KeyframeResolver=Zfe}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){const n=e.style;return n?n[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Qu(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}class j0{constructor(e){this.isMounted=!1,this.node=e}update(){}}function ZY({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function pAe({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function gAe(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function kI(t){return t===void 0||t===1}function a4({scale:t,scaleX:e,scaleY:r}){return!kI(t)||!kI(e)||!kI(r)}function rv(t){return a4(t)||JY(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function JY(t){return b8(t.x)||b8(t.y)}function b8(t){return t&&t!=="0%"}function oC(t,e,r){const n=t-r,i=e*n;return r+i}function w8(t,e,r,n,i){return i!==void 0&&(t=oC(t,i,n)),oC(t,r,n)+e}function o4(t,e=0,r=1,n,i){t.min=w8(t.min,e,r,n,i),t.max=w8(t.max,e,r,n,i)}function eq(t,{x:e,y:r}){o4(t.x,e.translate,e.scale,e.originPoint),o4(t.y,r.translate,r.scale,r.originPoint)}const E8=.999999999999,S8=1.0000000000001;function vAe(t,e,r,n=!1){const i=r.length;if(!i)return;e.x=e.y=1;let s,a;for(let c=0;c<i;c++){s=r[c],a=s.projectionDelta;const{visualElement:u}=s.options;u&&u.props.style&&u.props.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Fx(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,eq(t,a)),n&&rv(s.latestValues)&&Fx(t,s.latestValues))}e.x<S8&&e.x>E8&&(e.x=1),e.y<S8&&e.y>E8&&(e.y=1)}function Mx(t,e){t.min=t.min+e,t.max=t.max+e}function _8(t,e,r,n,i=.5){const s=kl(t.min,t.max,i);o4(t,e,r,s,n)}function Fx(t,e){_8(t.x,e.x,e.scaleX,e.scale,e.originX),_8(t.y,e.y,e.scaleY,e.scale,e.originY)}function tq(t,e){return ZY(gAe(t.getBoundingClientRect(),e))}function yAe(t,e,r){const n=tq(t,r),{scroll:i}=e;return i&&(Mx(n.x,i.offset.x),Mx(n.y,i.offset.y)),n}const xAe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},bAe=Hb.length;function wAe(t,e,r){let n="",i=!0;for(let s=0;s<bAe;s++){const a=Hb[s],c=t[a];if(c===void 0)continue;let u=!0;if(typeof c=="number")u=c===(a.startsWith("scale")?1:0);else{const o=parseFloat(c);u=a.startsWith("scale")?o===1:o===0}if(!u||r){const o=HY(c,t3[a]);if(!u){i=!1;const d=xAe[a]||a;n+=`${d}(${o}) `}r&&(e[a]=o)}}return n=n.trim(),r?n=r(e,i?"":n):i&&(n="none"),n}function a3(t,e,r){const{style:n,vars:i,transformOrigin:s}=t;let a=!1,c=!1;for(const u in e){const o=e[u];if(Qb.has(u)){a=!0;continue}else if(AY(u)){i[u]=o;continue}else{const d=HY(o,t3[u]);u.startsWith("origin")?(c=!0,s[u]=d):n[u]=d}}if(e.transform||(a||r?n.transform=wAe(e,t.transform,r):n.transform&&(n.transform="none")),c){const{originX:u="50%",originY:o="50%",originZ:d=0}=s;n.transformOrigin=`${u} ${o} ${d}`}}function rq(t,{style:e,vars:r},n,i){const s=t.style;let a;for(a in e)s[a]=e[a];i?.applyProjectionStyles(s,n);for(a in r)s.setProperty(a,r[a])}function T8(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const _1={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(si.test(t))t=parseFloat(t);else return t;const r=T8(t,e.target.x),n=T8(t,e.target.y);return`${r}% ${n}%`}},EAe={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,i=y0.parse(t);if(i.length>5)return n;const s=y0.createTransformer(t),a=typeof i[0]!="number"?1:0,c=r.x.scale*e.x,u=r.y.scale*e.y;i[0+a]/=c,i[1+a]/=u;const o=kl(c,u,.5);return typeof i[2+a]=="number"&&(i[2+a]/=o),typeof i[3+a]=="number"&&(i[3+a]/=o),s(i)}},l4={borderRadius:{..._1,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:_1,borderTopRightRadius:_1,borderBottomLeftRadius:_1,borderBottomRightRadius:_1,boxShadow:EAe};function nq(t,{layout:e,layoutId:r}){return Qb.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!l4[t]||t==="opacity")}function o3(t,e,r){const n=t.style,i=e?.style,s={};if(!n)return s;for(const a in n)(Qu(n[a])||i&&Qu(i[a])||nq(a,t)||r?.getValue(a)?.liveStyle!==void 0)&&(s[a]=n[a]);return s}function SAe(t){return window.getComputedStyle(t)}class _Ae extends XY{constructor(){super(...arguments),this.type="html",this.renderInstance=rq}readValueFromInstance(e,r){if(Qb.has(r))return this.projection?.isProjecting?WL(r):Jhe(e,r);{const n=SAe(e),i=(AY(r)?n.getPropertyValue(r):n[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:r}){return tq(e,r)}build(e,r,n){a3(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return o3(e,r,n)}}const TAe={offset:"stroke-dashoffset",array:"stroke-dasharray"},CAe={offset:"strokeDashoffset",array:"strokeDasharray"};function jAe(t,e,r=1,n=0,i=!0){t.pathLength=1;const s=i?TAe:CAe;t[s.offset]=`${-n}`,t[s.array]=`${e} ${r}`}const NAe=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function iq(t,{attrX:e,attrY:r,attrScale:n,pathLength:i,pathSpacing:s=1,pathOffset:a=0,...c},u,o,d){if(a3(t,c,o),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:A}=t;f.transform&&(A.transform=f.transform,delete f.transform),(A.transform||f.transformOrigin)&&(A.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),A.transform&&(A.transformBox=d?.transformBox??"fill-box",delete f.transformBox);for(const p of NAe)f[p]!==void 0&&(A[p]=f[p],delete f[p]);e!==void 0&&(f.x=e),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),i!==void 0&&jAe(f,i,s,a,!1)}const sq=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),aq=t=>typeof t=="string"&&t.toLowerCase()==="svg";function IAe(t,e,r,n){rq(t,e,void 0,n);for(const i in e.attrs)t.setAttribute(sq.has(i)?i:e3(i),e.attrs[i])}function oq(t,e,r){const n=o3(t,e,r);for(const i in t)if(Qu(t[i])||Qu(e[i])){const s=Hb.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[s]=t[i]}return n}class kAe extends XY{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ou}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(Qb.has(r)){const n=UY(r);return n&&n.default||0}return r=sq.has(r)?r:e3(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return oq(e,r,n)}build(e,r,n){iq(e,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,r,n,i){IAe(e,r,n,i)}mount(e){this.isSVGTag=aq(e.tagName),super.mount(e)}}const BAe=s3.length;function lq(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?lq(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<BAe;r++){const n=s3[r],i=t.props[n];(iE(i)||i===!1)&&(e[n]=i)}return e}function cq(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}const LAe=[...i3].reverse(),RAe=i3.length;function OAe(t){return e=>Promise.all(e.map(({animation:r,options:n})=>Hfe(t,r,n)))}function PAe(t){let e=OAe(t),r=C8(),n=!0;const i=u=>(o,d)=>{const f=Xx(t,d,u==="exit"?t.presenceContext?.custom:void 0);if(f){const{transition:A,transitionEnd:p,...g}=f;o={...o,...g,...p}}return o};function s(u){e=u(t)}function a(u){const{props:o}=t,d=lq(t.parent)||{},f=[],A=new Set;let p={},g=1/0;for(let v=0;v<RAe;v++){const b=LAe[v],w=r[b],S=o[b]!==void 0?o[b]:d[b],_=iE(S),T=b===u?w.isActive:null;T===!1&&(g=v);let L=S===d[b]&&S!==o[b]&&_;if(L&&n&&t.manuallyAnimateOnMount&&(L=!1),w.protectedKeys={...p},!w.isActive&&T===null||!S&&!w.prevProp||AN(S)||typeof S=="boolean")continue;const D=DAe(w.prevProp,S);let V=D||b===u&&w.isActive&&!L&&_||v>g&&_,G=!1;const J=Array.isArray(S)?S:[S];let ee=J.reduce(i(b),{});T===!1&&(ee={});const{prevResolvedValues:ue={}}=w,pe={...ue,...ee},ge=Ae=>{V=!0,A.has(Ae)&&(G=!0,A.delete(Ae)),w.needsAnimating[Ae]=!0;const oe=t.getValue(Ae);oe&&(oe.liveStyle=!1)};for(const Ae in pe){const oe=ee[Ae],Be=ue[Ae];if(p.hasOwnProperty(Ae))continue;let ke=!1;e4(oe)&&e4(Be)?ke=!cq(oe,Be):ke=oe!==Be,ke?oe!=null?ge(Ae):A.add(Ae):oe!==void 0&&A.has(Ae)?ge(Ae):w.protectedKeys[Ae]=!0}w.prevProp=S,w.prevResolvedValues=ee,w.isActive&&(p={...p,...ee}),n&&t.blockInitialAnimation&&(V=!1);const he=L&&D;V&&(!he||G)&&f.push(...J.map(Ae=>{const oe={type:b};if(typeof Ae=="string"&&n&&!he&&t.manuallyAnimateOnMount&&t.parent){const{parent:Be}=t,ke=Xx(Be,Ae);if(Be.enteringChildren&&ke){const{delayChildren:ve}=ke.transition||{};oe.delay=BY(Be.enteringChildren,t,ve)}}return{animation:Ae,options:oe}}))}if(A.size){const v={};if(typeof o.initial!="boolean"){const b=Xx(t,Array.isArray(o.initial)?o.initial[0]:o.initial);b&&b.transition&&(v.transition=b.transition)}A.forEach(b=>{const w=t.getBaseTarget(b),S=t.getValue(b);S&&(S.liveStyle=!0),v[b]=w??null}),f.push({animation:v})}let y=!!f.length;return n&&(o.initial===!1||o.initial===o.animate)&&!t.manuallyAnimateOnMount&&(y=!1),n=!1,y?e(f):Promise.resolve()}function c(u,o){if(r[u].isActive===o)return Promise.resolve();t.variantChildren?.forEach(f=>f.animationState?.setActive(u,o)),r[u].isActive=o;const d=a(u);for(const f in r)r[f].protectedKeys={};return d}return{animateChanges:a,setActive:c,setAnimateFunction:s,getState:()=>r,reset:()=>{r=C8()}}}function DAe(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!cq(e,t):!1}function z0(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function C8(){return{animate:z0(!0),whileInView:z0(),whileHover:z0(),whileTap:z0(),whileDrag:z0(),whileFocus:z0(),exit:z0()}}function j8(t,e){t.min=e.min,t.max=e.max}function oA(t,e){j8(t.x,e.x),j8(t.y,e.y)}function N8(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const uq=1e-4,MAe=1-uq,FAe=1+uq,dq=.01,UAe=0-dq,$Ae=0+dq;function Jd(t){return t.max-t.min}function HAe(t,e,r){return Math.abs(t-e)<=r}function I8(t,e,r,n=.5){t.origin=n,t.originPoint=kl(e.min,e.max,t.origin),t.scale=Jd(r)/Jd(e),t.translate=kl(r.min,r.max,t.origin)-t.originPoint,(t.scale>=MAe&&t.scale<=FAe||isNaN(t.scale))&&(t.scale=1),(t.translate>=UAe&&t.translate<=$Ae||isNaN(t.translate))&&(t.translate=0)}function kw(t,e,r,n){I8(t.x,e.x,r.x,n?n.originX:void 0),I8(t.y,e.y,r.y,n?n.originY:void 0)}function k8(t,e,r){t.min=r.min+e.min,t.max=t.min+Jd(e)}function QAe(t,e,r){k8(t.x,e.x,r.x),k8(t.y,e.y,r.y)}function B8(t,e,r){t.min=e.min-r.min,t.max=t.min+Jd(e)}function lC(t,e,r){B8(t.x,e.x,r.x),B8(t.y,e.y,r.y)}function L8(t,e,r,n,i){return t-=e,t=oC(t,1/r,n),i!==void 0&&(t=oC(t,1/i,n)),t}function VAe(t,e=0,r=1,n=.5,i,s=t,a=t){if(Im.test(e)&&(e=parseFloat(e),e=kl(a.min,a.max,e/100)-a.min),typeof e!="number")return;let c=kl(s.min,s.max,n);t===s&&(c-=e),t.min=L8(t.min,e,r,c,i),t.max=L8(t.max,e,r,c,i)}function R8(t,e,[r,n,i],s,a){VAe(t,e[r],e[n],e[i],e.scale,s,a)}const KAe=["x","scaleX","originX"],GAe=["y","scaleY","originY"];function O8(t,e,r,n){R8(t.x,e,KAe,r?r.x:void 0,n?n.x:void 0),R8(t.y,e,GAe,r?r.y:void 0,n?n.y:void 0)}function P8(t){return t.translate===0&&t.scale===1}function hq(t){return P8(t.x)&&P8(t.y)}function D8(t,e){return t.min===e.min&&t.max===e.max}function zAe(t,e){return D8(t.x,e.x)&&D8(t.y,e.y)}function M8(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function fq(t,e){return M8(t.x,e.x)&&M8(t.y,e.y)}function F8(t){return Jd(t.x)/Jd(t.y)}function U8(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function Bf(t){return[t("x"),t("y")]}function WAe(t,e,r){let n="";const i=t.x.translate/e.x,s=t.y.translate/e.y,a=r?.z||0;if((i||s||a)&&(n=`translate3d(${i}px, ${s}px, ${a}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:o,rotate:d,rotateX:f,rotateY:A,skewX:p,skewY:g}=r;o&&(n=`perspective(${o}px) ${n}`),d&&(n+=`rotate(${d}deg) `),f&&(n+=`rotateX(${f}deg) `),A&&(n+=`rotateY(${A}deg) `),p&&(n+=`skewX(${p}deg) `),g&&(n+=`skewY(${g}deg) `)}const c=t.x.scale*e.x,u=t.y.scale*e.y;return(c!==1||u!==1)&&(n+=`scale(${c}, ${u})`),n||"none"}const Aq=["TopLeft","TopRight","BottomLeft","BottomRight"],YAe=Aq.length,$8=t=>typeof t=="string"?parseFloat(t):t,H8=t=>typeof t=="number"||si.test(t);function qAe(t,e,r,n,i,s){i?(t.opacity=kl(0,r.opacity??1,XAe(n)),t.opacityExit=kl(e.opacity??1,0,ZAe(n))):s&&(t.opacity=kl(e.opacity??1,r.opacity??1,n));for(let a=0;a<YAe;a++){const c=`border${Aq[a]}Radius`;let u=Q8(e,c),o=Q8(r,c);if(u===void 0&&o===void 0)continue;u||(u=0),o||(o=0),u===0||o===0||H8(u)===H8(o)?(t[c]=Math.max(kl($8(u),$8(o),n),0),(Im.test(o)||Im.test(u))&&(t[c]+="%")):t[c]=o}(e.rotate||r.rotate)&&(t.rotate=kl(e.rotate||0,r.rotate||0,n))}function Q8(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const XAe=mq(0,.5,lY),ZAe=mq(.5,.95,Uf);function mq(t,e,r){return n=>n<t?0:n>e?1:r(tE(t,e,n))}function JAe(t,e,r){const n=Qu(t)?t:Xv(t);return n.start(ZP("",n,e,r)),n.animation}function sE(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}const eme=(t,e)=>t.depth-e.depth;class tme{constructor(){this.children=[],this.isDirty=!1}add(e){PP(this.children,e),this.isDirty=!0}remove(e){DP(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(eme),this.isDirty=!1,this.children.forEach(e)}}function rme(t,e){const r=Zd.now(),n=({timestamp:i})=>{const s=i-r;s>=e&&(Dp(n),t(s-e))};return Oo.setup(n,!0),()=>Dp(n)}function __(t){return Qu(t)?t.get():t}class nme{constructor(){this.members=[]}add(e){PP(this.members,e),e.scheduleRender()}remove(e){if(DP(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(i=>e===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender();const i=n.options.layoutDependency,s=e.options.layoutDependency;i!==void 0&&s!==void 0&&i===s||(e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0));const{crossfade:c}=e.options;c===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const T_={hasAnimatedSinceResize:!0,hasEverUpdated:!1},BI=["","X","Y","Z"],ime=1e3;let sme=0;function LI(t,e,r,n){const{latestValues:i}=e;i[t]&&(r[t]=i[t],e.setStaticValue(t,0),n&&(n[t]=0))}function pq(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=PY(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",Oo,!(i||s))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&pq(n)}function gq({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(a={},c=e?.()){this.id=sme++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(lme),this.nodes.forEach(hme),this.nodes.forEach(fme),this.nodes.forEach(cme)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new tme)}addEventListener(a,c){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new UP),this.eventHandlers.get(a).add(c)}notifyListeners(a,...c){const u=this.eventHandlers.get(a);u&&u.notify(...c)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=zY(a)&&!sAe(a),this.instance=a;const{layoutId:c,layout:u,visualElement:o}=this.options;if(o&&!o.current&&o.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||c)&&(this.isLayoutDirty=!0),t){let d,f=0;const A=()=>this.root.updateBlockedByResize=!1;Oo.read(()=>{f=window.innerWidth}),t(a,()=>{const p=window.innerWidth;p!==f&&(f=p,this.root.updateBlockedByResize=!0,d&&d(),d=rme(A,250),T_.hasAnimatedSinceResize&&(T_.hasAnimatedSinceResize=!1,this.nodes.forEach(G8)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&o&&(c||u)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:A,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||o.getDefaultTransition()||vme,{onLayoutAnimationStart:y,onLayoutAnimationComplete:v}=o.getProps(),b=!this.targetLayout||!fq(this.targetLayout,p),w=!f&&A;if(this.options.layoutRoot||this.resumeFrom||w||f&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const S={...XP(g,"layout"),onPlay:y,onComplete:v};(o.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S),this.setAnimationOrigin(d,w)}else f||G8(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Dp(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Ame),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&pq(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:c,layout:u}=this.options;if(c===void 0&&!u)return;const o=this.getTransformTemplate();this.prevTransformTemplateValue=o?o(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(V8);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(K8);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(dme),this.nodes.forEach(ame),this.nodes.forEach(ome)):this.nodes.forEach(K8),this.clearAllSnapshots();const c=Zd.now();hd.delta=Rm(0,1e3/60,c-hd.timestamp),hd.timestamp=c,hd.isProcessing=!0,SI.update.process(hd),SI.preRender.process(hd),SI.render.process(hd),hd.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,r3.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(ume),this.sharedNodes.forEach(mme)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Oo.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Oo.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Jd(this.snapshot.measuredBox.x)&&!Jd(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=ou(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(c=!1),c&&this.instance){const u=n(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:u,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!hq(this.projectionDelta),u=this.getTransformTemplate(),o=u?u(this.latestValues,""):void 0,d=o!==this.prevTransformTemplateValue;a&&this.instance&&(c||rv(this.latestValues)||d)&&(i(this.instance,o),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const c=this.measurePageBox();let u=this.removeElementScroll(c);return a&&(u=this.removeTransform(u)),yme(u),{animationId:this.root.animationId,measuredBox:c,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return ou();const c=a.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(xme))){const{scroll:o}=this.root;o&&(Mx(c.x,o.offset.x),Mx(c.y,o.offset.y))}return c}removeElementScroll(a){const c=ou();if(oA(c,a),this.scroll?.wasRoot)return c;for(let u=0;u<this.path.length;u++){const o=this.path[u],{scroll:d,options:f}=o;o!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&oA(c,a),Mx(c.x,d.offset.x),Mx(c.y,d.offset.y))}return c}applyTransform(a,c=!1){const u=ou();oA(u,a);for(let o=0;o<this.path.length;o++){const d=this.path[o];!c&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Fx(u,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),rv(d.latestValues)&&Fx(u,d.latestValues)}return rv(this.latestValues)&&Fx(u,this.latestValues),u}removeTransform(a){const c=ou();oA(c,a);for(let u=0;u<this.path.length;u++){const o=this.path[u];if(!o.instance||!rv(o.latestValues))continue;a4(o.latestValues)&&o.updateSnapshot();const d=ou(),f=o.measurePageBox();oA(d,f),O8(c,o.latestValues,o.snapshot?o.snapshot.layoutBox:void 0,d)}return rv(this.latestValues)&&O8(c,this.latestValues),c}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==hd.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!this.layout||!(d||f))return;this.resolvedRelativeTargetAt=hd.timestamp;const A=this.getClosestProjectingParent();A&&this.linkedParentVersion!==A.layoutVersion&&!A.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(A&&A.layout?this.createRelativeTarget(A,this.layout.layoutBox,A.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ou(),this.targetWithTransforms=ou()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),QAe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):oA(this.target,this.layout.layoutBox),eq(this.target,this.targetDelta)):oA(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,A&&!!A.resumingFrom==!!this.resumingFrom&&!A.options.layoutScroll&&A.target&&this.animationProgress!==1?this.createRelativeTarget(A,this.target,A.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||a4(this.parent.latestValues)||JY(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(a,c,u){this.relativeParent=a,this.linkedParentVersion=a.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ou(),this.relativeTargetOrigin=ou(),lC(this.relativeTargetOrigin,c,u),oA(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const a=this.getLead(),c=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===hd.timestamp&&(u=!1),u)return;const{layout:o,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(o||d))return;oA(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,A=this.treeScale.y;vAe(this.layoutCorrected,this.treeScale,this.path,c),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=ou());const{target:p}=a;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(N8(this.prevProjectionDelta.x,this.projectionDelta.x),N8(this.prevProjectionDelta.y,this.projectionDelta.y)),kw(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==A||!U8(this.projectionDelta.x,this.prevProjectionDelta.x)||!U8(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.visualElement?.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Dx(),this.projectionDelta=Dx(),this.projectionDeltaWithTransform=Dx()}setAnimationOrigin(a,c=!1){const u=this.snapshot,o=u?u.latestValues:{},d={...this.latestValues},f=Dx();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const A=ou(),p=u?u.source:void 0,g=this.layout?this.layout.source:void 0,y=p!==g,v=this.getStack(),b=!v||v.members.length<=1,w=!!(y&&!b&&this.options.crossfade===!0&&!this.path.some(gme));this.animationProgress=0;let S;this.mixTargetDelta=_=>{const T=_/1e3;z8(f.x,a.x,T),z8(f.y,a.y,T),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(lC(A,this.layout.layoutBox,this.relativeParent.layout.layoutBox),pme(this.relativeTarget,this.relativeTargetOrigin,A,T),S&&zAe(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=ou()),oA(S,this.relativeTarget)),y&&(this.animationValues=d,qAe(d,o,this.latestValues,T,w,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Dp(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Oo.update(()=>{T_.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Xv(0)),this.currentAnimation=JAe(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),a.onUpdate&&a.onUpdate(c)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(ime),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:c,target:u,layout:o,latestValues:d}=a;if(!(!c||!u||!o)){if(this!==a&&this.layout&&o&&vq(this.options.animationType,this.layout.layoutBox,o.layoutBox)){u=this.target||ou();const f=Jd(this.layout.layoutBox.x);u.x.min=a.target.x.min,u.x.max=u.x.min+f;const A=Jd(this.layout.layoutBox.y);u.y.min=a.target.y.min,u.y.max=u.y.min+A}oA(c,u),Fx(c,d),kw(this.projectionDeltaWithTransform,this.layoutCorrected,c,d)}}registerSharedNode(a,c){this.sharedNodes.has(a)||this.sharedNodes.set(a,new nme),this.sharedNodes.get(a).add(c);const o=c.options.initialPromotionConfig;c.promote({transition:o?o.transition:void 0,preserveFollowOpacity:o&&o.shouldPreserveFollowOpacity?o.shouldPreserveFollowOpacity(c):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){const{layoutId:a}=this.options;return a?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:a}=this.options;return a?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:c,preserveFollowOpacity:u}={}){const o=this.getStack();o&&o.promote(this,u),a&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let c=!1;const{latestValues:u}=a;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(c=!0),!c)return;const o={};u.z&&LI("z",a,o,this.animationValues);for(let d=0;d<BI.length;d++)LI(`rotate${BI[d]}`,a,o,this.animationValues),LI(`skew${BI[d]}`,a,o,this.animationValues);a.render();for(const d in o)a.setStaticValue(d,o[d]),this.animationValues&&(this.animationValues[d]=o[d]);a.scheduleRender()}applyProjectionStyles(a,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=__(c?.pointerEvents)||"",a.transform=u?u(this.latestValues,""):"none";return}const o=this.getLead();if(!this.projectionDelta||!this.layout||!o.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=__(c?.pointerEvents)||""),this.hasProjected&&!rv(this.latestValues)&&(a.transform=u?u({},""):"none",this.hasProjected=!1);return}a.visibility="";const d=o.animationValues||o.latestValues;this.applyTransformsToTarget();let f=WAe(this.projectionDeltaWithTransform,this.treeScale,d);u&&(f=u(d,f)),a.transform=f;const{x:A,y:p}=this.projectionDelta;a.transformOrigin=`${A.origin*100}% ${p.origin*100}% 0`,o.animationValues?a.opacity=o===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:a.opacity=o===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const g in l4){if(d[g]===void 0)continue;const{correct:y,applyTo:v,isCSSVariable:b}=l4[g],w=f==="none"?d[g]:y(d[g],o);if(v){const S=v.length;for(let _=0;_<S;_++)a[v[_]]=w}else b?this.options.visualElement.renderState.vars[g]=w:a[g]=w}this.options.layoutId&&(a.pointerEvents=o===this?__(c?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>a.currentAnimation?.stop()),this.root.nodes.forEach(V8),this.root.sharedNodes.clear()}}}function ame(t){t.updateLayout()}function ome(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:n}=t.layout,{animationType:i}=t.options,s=e.source!==t.layout.source;i==="size"?Bf(d=>{const f=s?e.measuredBox[d]:e.layoutBox[d],A=Jd(f);f.min=r[d].min,f.max=f.min+A}):vq(i,e.layoutBox,r)&&Bf(d=>{const f=s?e.measuredBox[d]:e.layoutBox[d],A=Jd(r[d]);f.max=f.min+A,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+A)});const a=Dx();kw(a,r,e.layoutBox);const c=Dx();s?kw(c,t.applyTransform(n,!0),e.measuredBox):kw(c,r,e.layoutBox);const u=!hq(a);let o=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:A}=d;if(f&&A){const p=ou();lC(p,e.layoutBox,f.layoutBox);const g=ou();lC(g,r,A.layoutBox),fq(p,g)||(o=!0),d.options.layoutRoot&&(t.relativeTarget=g,t.relativeTargetOrigin=p,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:c,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:o})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function lme(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function cme(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function ume(t){t.clearSnapshot()}function V8(t){t.clearMeasurements()}function K8(t){t.isLayoutDirty=!1}function dme(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function G8(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function hme(t){t.resolveTargetDelta()}function fme(t){t.calcProjection()}function Ame(t){t.resetSkewAndRotation()}function mme(t){t.removeLeadSnapshot()}function z8(t,e,r){t.translate=kl(e.translate,0,r),t.scale=kl(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function W8(t,e,r,n){t.min=kl(e.min,r.min,n),t.max=kl(e.max,r.max,n)}function pme(t,e,r,n){W8(t.x,e.x,r.x,n),W8(t.y,e.y,r.y,n)}function gme(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const vme={duration:.45,ease:[.4,0,.1,1]},Y8=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),q8=Y8("applewebkit/")&&!Y8("chrome/")?Math.round:Uf;function X8(t){t.min=q8(t.min),t.max=q8(t.max)}function yme(t){X8(t.x),X8(t.y)}function vq(t,e,r){return t==="position"||t==="preserve-aspect"&&!HAe(F8(e),F8(r),.2)}function xme(t){return t!==t.root&&t.scroll?.wasRoot}const bme=gq({attachResizeListener:(t,e)=>sE(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),RI={current:void 0},yq=gq({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!RI.current){const t=new bme({});t.mount(window),t.setOptions({layoutScroll:!0}),RI.current=t}return RI.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),o2=j.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Z8(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function wme(...t){return e=>{let r=!1;const n=t.map(i=>{const s=Z8(i,e);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():Z8(t[i],null)}}}}function Eme(...t){return j.useCallback(wme(...t),t)}class Sme extends j.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=r.offsetParent,i=i4(n)&&n.offsetWidth||0,s=i4(n)&&n.offsetHeight||0,a=this.props.sizeRef.current;a.height=r.offsetHeight||0,a.width=r.offsetWidth||0,a.top=r.offsetTop,a.left=r.offsetLeft,a.right=i-a.width-a.left,a.bottom=s-a.height-a.top}return null}componentDidUpdate(){}render(){return this.props.children}}function _me({children:t,isPresent:e,anchorX:r,anchorY:n,root:i}){const s=j.useId(),a=j.useRef(null),c=j.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:u}=j.useContext(o2),o=t.props?.ref??t?.ref,d=Eme(a,o);return j.useInsertionEffect(()=>{const{width:f,height:A,top:p,left:g,right:y,bottom:v}=c.current;if(e||!a.current||!f||!A)return;const b=r==="left"?`left: ${g}`:`right: ${y}`,w=n==="bottom"?`bottom: ${v}`:`top: ${p}`;a.current.dataset.motionPopId=s;const S=document.createElement("style");u&&(S.nonce=u);const _=i??document.head;return _.appendChild(S),S.sheet&&S.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${A}px !important;
            ${b}px !important;
            ${w}px !important;
          }
        `),()=>{_.contains(S)&&_.removeChild(S)}},[e]),l.jsx(Sme,{isPresent:e,childRef:a,sizeRef:c,children:j.cloneElement(t,{ref:d})})}const Tme=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:s,mode:a,anchorX:c,anchorY:u,root:o})=>{const d=n2(Cme),f=j.useId();let A=!0,p=j.useMemo(()=>(A=!1,{id:f,initial:e,isPresent:r,custom:i,onExitComplete:g=>{d.set(g,!0);for(const y of d.values())if(!y)return;n&&n()},register:g=>(d.set(g,!1),()=>d.delete(g))}),[r,d,n]);return s&&A&&(p={...p}),j.useMemo(()=>{d.forEach((g,y)=>d.set(y,!1))},[r]),j.useEffect(()=>{!r&&!d.size&&n&&n()},[r]),a==="popLayout"&&(t=l.jsx(_me,{isPresent:r,anchorX:c,anchorY:u,root:o,children:t})),l.jsx(hN.Provider,{value:p,children:t})};function Cme(){return new Map}function xq(t=!0){const e=j.useContext(hN);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:i}=e,s=j.useId();j.useEffect(()=>{if(t)return i(s)},[t]);const a=j.useCallback(()=>t&&n&&n(s),[s,n,t]);return!r&&n?[!1,a]:[!0]}const fS=t=>t.key||"";function J8(t){const e=[];return j.Children.forEach(t,r=>{j.isValidElement(r)&&e.push(r)}),e}const Pv=({children:t,custom:e,initial:r=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:s="sync",propagate:a=!1,anchorX:c="left",anchorY:u="top",root:o})=>{const[d,f]=xq(a),A=j.useMemo(()=>J8(t),[t]),p=a&&!d?[]:A.map(fS),g=j.useRef(!0),y=j.useRef(A),v=n2(()=>new Map),b=j.useRef(new Set),[w,S]=j.useState(A),[_,T]=j.useState(A);OP(()=>{g.current=!1,y.current=A;for(let V=0;V<_.length;V++){const G=fS(_[V]);p.includes(G)?(v.delete(G),b.current.delete(G)):v.get(G)!==!0&&v.set(G,!1)}},[_,p.length,p.join("-")]);const L=[];if(A!==w){let V=[...A];for(let G=0;G<_.length;G++){const J=_[G],ee=fS(J);p.includes(ee)||(V.splice(G,0,J),L.push(J))}return s==="wait"&&L.length&&(V=L),T(J8(V)),S(A),null}const{forceRender:D}=j.useContext(RP);return l.jsx(l.Fragment,{children:_.map(V=>{const G=fS(V),J=a&&!d?!1:A===_||p.includes(G),ee=()=>{if(b.current.has(G))return;if(b.current.add(G),v.has(G))v.set(G,!0);else return;let ue=!0;v.forEach(pe=>{pe||(ue=!1)}),ue&&(D?.(),T(y.current),a&&f?.(),n&&n())};return l.jsx(Tme,{isPresent:J,initial:!g.current||r?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,root:o,onExitComplete:J?void 0:ee,anchorX:c,anchorY:u,children:V},G)})})},bq=j.createContext({strict:!1}),e7={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let t7=!1;function jme(){if(t7)return;const t={};for(const e in e7)t[e]={isEnabled:r=>e7[e].some(n=>!!r[n])};qY(t),t7=!0}function wq(){return jme(),AAe()}function Nme(t){const e=wq();for(const r in t)e[r]={...e[r],...t[r]};qY(e)}const Ime=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function cC(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Ime.has(t)}let Eq=t=>!cC(t);function kme(t){typeof t=="function"&&(Eq=e=>e.startsWith("on")?!cC(e):t(e))}try{kme(require("@emotion/is-prop-valid").default)}catch{}function Bme(t,e,r){const n={};for(const i in t)i==="values"&&typeof t.values=="object"||(Eq(i)||r===!0&&cC(i)||!e&&!cC(i)||t.draggable&&i.startsWith("onDrag"))&&(n[i]=t[i]);return n}const pN=j.createContext({});function Lme(t,e){if(mN(t)){const{initial:r,animate:n}=t;return{initial:r===!1||iE(r)?r:void 0,animate:iE(n)?n:void 0}}return t.inherit!==!1?e:{}}function Rme(t){const{initial:e,animate:r}=Lme(t,j.useContext(pN));return j.useMemo(()=>({initial:e,animate:r}),[r7(e),r7(r)])}function r7(t){return Array.isArray(t)?t.join(" "):t}const l3=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Sq(t,e,r){for(const n in e)!Qu(e[n])&&!nq(n,r)&&(t[n]=e[n])}function Ome({transformTemplate:t},e){return j.useMemo(()=>{const r=l3();return a3(r,e,t),Object.assign({},r.vars,r.style)},[e])}function Pme(t,e){const r=t.style||{},n={};return Sq(n,r,t),Object.assign(n,Ome(t,e)),n}function Dme(t,e){const r={},n=Pme(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}const _q=()=>({...l3(),attrs:{}});function Mme(t,e,r,n){const i=j.useMemo(()=>{const s=_q();return iq(s,e,aq(n),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};Sq(s,t.style,t),i.style={...s,...i.style}}return i}const Fme=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function c3(t){return typeof t!="string"||t.includes("-")?!1:!!(Fme.indexOf(t)>-1||/[A-Z]/u.test(t))}function Ume(t,e,r,{latestValues:n},i,s=!1,a){const u=(a??c3(t)?Mme:Dme)(e,n,i,t),o=Bme(e,typeof t=="string",s),d=t!==j.Fragment?{...o,...u,ref:r}:{},{children:f}=e,A=j.useMemo(()=>Qu(f)?f.get():f,[f]);return j.createElement(t,{...d,children:A})}function $me({scrapeMotionValuesFromProps:t,createRenderState:e},r,n,i){return{latestValues:Hme(r,n,i,t),renderState:e()}}function Hme(t,e,r,n){const i={},s=n(t,{});for(const A in s)i[A]=__(s[A]);let{initial:a,animate:c}=t;const u=mN(t),o=YY(t);e&&o&&!u&&t.inherit!==!1&&(a===void 0&&(a=e.initial),c===void 0&&(c=e.animate));let d=r?r.initial===!1:!1;d=d||a===!1;const f=d?c:a;if(f&&typeof f!="boolean"&&!AN(f)){const A=Array.isArray(f)?f:[f];for(let p=0;p<A.length;p++){const g=JP(t,A[p]);if(g){const{transitionEnd:y,transition:v,...b}=g;for(const w in b){let S=b[w];if(Array.isArray(S)){const _=d?S.length-1:0;S=S[_]}S!==null&&(i[w]=S)}for(const w in y)i[w]=y[w]}}}return i}const Tq=t=>(e,r)=>{const n=j.useContext(pN),i=j.useContext(hN),s=()=>$me(t,e,n,i);return r?s():n2(s)},Qme=Tq({scrapeMotionValuesFromProps:o3,createRenderState:l3}),Vme=Tq({scrapeMotionValuesFromProps:oq,createRenderState:_q}),Kme=Symbol.for("motionComponentSymbol");function Gme(t,e,r){const n=j.useRef(r);j.useInsertionEffect(()=>{n.current=r});const i=j.useRef(null);return j.useCallback(s=>{s&&t.onMount?.(s),e&&(s?e.mount(s):e.unmount());const a=n.current;if(typeof a=="function")if(s){const c=a(s);typeof c=="function"&&(i.current=c)}else i.current?(i.current(),i.current=null):a(s);else a&&(a.current=s)},[e])}const Cq=j.createContext({});function Z1(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function zme(t,e,r,n,i,s){const{visualElement:a}=j.useContext(pN),c=j.useContext(bq),u=j.useContext(hN),o=j.useContext(o2).reducedMotion,d=j.useRef(null),f=j.useRef(!1);n=n||c.renderer,!d.current&&n&&(d.current=n(t,{visualState:e,parent:a,props:r,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:o,isSVG:s}),f.current&&d.current&&(d.current.manuallyAnimateOnMount=!0));const A=d.current,p=j.useContext(Cq);A&&!A.projection&&i&&(A.type==="html"||A.type==="svg")&&Wme(d.current,r,i,p);const g=j.useRef(!1);j.useInsertionEffect(()=>{A&&g.current&&A.update(r,u)});const y=r[OY],v=j.useRef(!!y&&!window.MotionHandoffIsComplete?.(y)&&window.MotionHasOptimisedAnimation?.(y));return OP(()=>{f.current=!0,A&&(g.current=!0,window.MotionIsMounted=!0,A.updateFeatures(),A.scheduleRenderMicrotask(),v.current&&A.animationState&&A.animationState.animateChanges())}),j.useEffect(()=>{A&&(!v.current&&A.animationState&&A.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(y)}),v.current=!1),A.enteringChildren=void 0)}),A}function Wme(t,e,r,n){const{layoutId:i,layout:s,drag:a,dragConstraints:c,layoutScroll:u,layoutRoot:o,layoutCrossfade:d}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:jq(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||c&&Z1(c),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:n,crossfade:d,layoutScroll:u,layoutRoot:o})}function jq(t){if(t)return t.options.allowProjection!==!1?t.projection:jq(t.parent)}function OI(t,{forwardMotionProps:e=!1,type:r}={},n,i){n&&Nme(n);const s=r?r==="svg":c3(t),a=s?Vme:Qme;function c(o,d){let f;const A={...j.useContext(o2),...o,layoutId:Yme(o)},{isStatic:p}=A,g=Rme(o),y=a(o,p);if(!p&&XW){qme();const v=Xme(A);f=v.MeasureLayout,g.visualElement=zme(t,y,A,i,v.ProjectionNode,s)}return l.jsxs(pN.Provider,{value:g,children:[f&&g.visualElement?l.jsx(f,{visualElement:g.visualElement,...A}):null,Ume(t,o,Gme(y,g.visualElement,d),y,p,e,s)]})}c.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const u=j.forwardRef(c);return u[Kme]=t,u}function Yme({layoutId:t}){const e=j.useContext(RP).id;return e&&t!==void 0?e+"-"+t:t}function qme(t,e){j.useContext(bq).strict}function Xme(t){const e=wq(),{drag:r,layout:n}=e;if(!r&&!n)return{};const i={...r,...n};return{MeasureLayout:r?.isEnabled(t)||n?.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function Zme(t,e){if(typeof Proxy>"u")return OI;const r=new Map,n=(s,a)=>OI(s,a,t,e),i=(s,a)=>n(s,a);return new Proxy(i,{get:(s,a)=>a==="create"?n:(r.has(a)||r.set(a,OI(a,void 0,t,e)),r.get(a))})}const Jme=(t,e)=>e.isSVG??c3(t)?new kAe(e):new _Ae(e,{allowProjection:t!==j.Fragment});class epe extends j0{constructor(e){super(e),e.animationState||(e.animationState=PAe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();AN(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let tpe=0;class rpe extends j0{constructor(){super(...arguments),this.id=tpe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const i=this.node.animationState.setActive("exit",!e);r&&!e&&i.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const npe={animation:{Feature:epe},exit:{Feature:rpe}};function l2(t){return{point:{x:t.pageX,y:t.pageY}}}const ipe=t=>e=>n3(e)&&t(e,l2(e));function Bw(t,e,r,n){return sE(t,e,ipe(r),n)}const Nq=({current:t})=>t?t.ownerDocument.defaultView:null,n7=(t,e)=>Math.abs(t-e);function spe(t,e){const r=n7(t.x,e.x),n=n7(t.y,e.y);return Math.sqrt(r**2+n**2)}const i7=new Set(["auto","scroll"]);class Iq{constructor(e,r,{transformPagePoint:n,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:a=3,element:c}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=p=>{this.handleScroll(p.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=DI(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,y=spe(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!g&&!y)return;const{point:v}=p,{timestamp:b}=hd;this.history.push({...v,timestamp:b});const{onStart:w,onMove:S}=this.handlers;g||(w&&w(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),S&&S(this.lastMoveEvent,p)},this.handlePointerMove=(p,g)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=PI(g,this.transformPagePoint),Oo.update(this.updatePoint,!0)},this.handlePointerUp=(p,g)=>{this.end();const{onEnd:y,onSessionEnd:v,resumeAnimation:b}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=DI(p.type==="pointercancel"?this.lastMoveEventInfo:PI(g,this.transformPagePoint),this.history);this.startEvent&&y&&y(p,w),v&&v(p,w)},!n3(e))return;this.dragSnapToOrigin=s,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=a,this.contextWindow=i||window;const u=l2(e),o=PI(u,this.transformPagePoint),{point:d}=o,{timestamp:f}=hd;this.history=[{...d,timestamp:f}];const{onSessionStart:A}=r;A&&A(e,DI(o,this.history)),this.removeListeners=i2(Bw(this.contextWindow,"pointermove",this.handlePointerMove),Bw(this.contextWindow,"pointerup",this.handlePointerUp),Bw(this.contextWindow,"pointercancel",this.handlePointerUp)),c&&this.startScrollTracking(c)}startScrollTracking(e){let r=e.parentElement;for(;r;){const n=getComputedStyle(r);(i7.has(n.overflowX)||i7.has(n.overflowY))&&this.scrollPositions.set(r,{x:r.scrollLeft,y:r.scrollTop}),r=r.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const r=this.scrollPositions.get(e);if(!r)return;const n=e===window,i=n?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},s={x:i.x-r.x,y:i.y-r.y};s.x===0&&s.y===0||(n?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=s.x,this.lastMoveEventInfo.point.y+=s.y):this.history.length>0&&(this.history[0].x-=s.x,this.history[0].y-=s.y),this.scrollPositions.set(e,i),Oo.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Dp(this.updatePoint)}}function PI(t,e){return e?{point:e(t.point)}:t}function s7(t,e){return{x:t.x-e.x,y:t.y-e.y}}function DI({point:t},e){return{point:t,delta:s7(t,kq(e)),offset:s7(t,ape(e)),velocity:ope(e,.1)}}function ape(t){return t[0]}function kq(t){return t[t.length-1]}function ope(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const i=kq(t);for(;r>=0&&(n=t[r],!(i.timestamp-n.timestamp>Ip(e)));)r--;if(!n)return{x:0,y:0};const s=Mf(i.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-n.x)/s,y:(i.y-n.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function lpe(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?kl(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?kl(r,t,n.max):Math.min(t,r)),t}function a7(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function cpe(t,{top:e,left:r,bottom:n,right:i}){return{x:a7(t.x,r,i),y:a7(t.y,e,n)}}function o7(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function upe(t,e){return{x:o7(t.x,e.x),y:o7(t.y,e.y)}}function dpe(t,e){let r=.5;const n=Jd(t),i=Jd(e);return i>n?r=tE(e.min,e.max-n,t.min):n>i&&(r=tE(t.min,t.max-i,e.min)),Rm(0,1,r)}function hpe(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const c4=.35;function fpe(t=c4){return t===!1?t=0:t===!0&&(t=c4),{x:l7(t,"left","right"),y:l7(t,"top","bottom")}}function l7(t,e,r){return{min:c7(t,e),max:c7(t,r)}}function c7(t,e){return typeof t=="number"?t:t[e]||0}const Ape=new WeakMap;class mpe{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ou(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=f=>{r?(this.stopAnimation(),this.snapToCursor(l2(f).point)):this.pauseAnimation()},a=(f,A)=>{this.stopAnimation();const{drag:p,dragPropagation:g,onDragStart:y}=this.getProps();if(p&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=eAe(p),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=A,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Bf(b=>{let w=this.getAxisMotionValue(b).get()||0;if(Im.test(w)){const{projection:S}=this.visualElement;if(S&&S.layout){const _=S.layout.layoutBox[b];_&&(w=Jd(_)*(parseFloat(w)/100))}}this.originPoint[b]=w}),y&&Oo.postRender(()=>y(f,A)),t4(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},c=(f,A)=>{this.latestPointerEvent=f,this.latestPanInfo=A;const{dragPropagation:p,dragDirectionLock:g,onDirectionLock:y,onDrag:v}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:b}=A;if(g&&this.currentDirection===null){this.currentDirection=ppe(b),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",A.point,b),this.updateAxis("y",A.point,b),this.visualElement.render(),v&&v(f,A)},u=(f,A)=>{this.latestPointerEvent=f,this.latestPanInfo=A,this.stop(f,A),this.latestPointerEvent=null,this.latestPanInfo=null},o=()=>Bf(f=>this.getAnimationState(f)==="paused"&&this.getAxisMotionValue(f).animation?.play()),{dragSnapToOrigin:d}=this.getProps();this.panSession=new Iq(e,{onSessionStart:s,onStart:a,onMove:c,onSessionEnd:u,resumeAnimation:o},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:n,contextWindow:Nq(this.visualElement),element:this.visualElement.current})}stop(e,r){const n=e||this.latestPointerEvent,i=r||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!n)return;const{velocity:a}=i;this.startAnimation(a);const{onDragEnd:c}=this.getProps();c&&Oo.postRender(()=>c(n,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,r,n){const{drag:i}=this.getProps();if(!n||!AS(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=lpe(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){const{dragConstraints:e,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&Z1(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=cpe(n.layoutBox,e):this.constraints=!1,this.elastic=fpe(r),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Bf(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=hpe(n.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!Z1(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=yAe(n,i.root,this.visualElement.getTransformPagePoint());let a=upe(i.layout.layoutBox,s);if(r){const c=r(pAe(a));this.hasMutatedConstraints=!!c,c&&(a=ZY(c))}return a}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:c}=this.getProps(),u=this.constraints||{},o=Bf(d=>{if(!AS(d,r,this.currentDirection))return;let f=u&&u[d]||{};a&&(f={min:0,max:0});const A=i?200:1e6,p=i?40:1e7,g={type:"inertia",velocity:n?e[d]:0,bounceStiffness:A,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(d,g)});return Promise.all(o).then(c)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return t4(this.visualElement,e),n.start(ZP(e,n,0,r,this.visualElement,!1))}stopAnimation(){Bf(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Bf(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Bf(r=>{const{drag:n}=this.getProps();if(!AS(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(r);if(i&&i.layout){const{min:a,max:c}=i.layout.layoutBox[r],u=s.get()||0;s.set(e[r]-kl(a,c,.5)+u)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Z1(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Bf(a=>{const c=this.getAxisMotionValue(a);if(c&&this.constraints!==!1){const u=c.get();i[a]=dpe({min:u,max:u},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Bf(a=>{if(!AS(a,e,null))return;const c=this.getAxisMotionValue(a),{min:u,max:o}=this.constraints[a];c.set(kl(u,o,i[a]))})}addListeners(){if(!this.visualElement.current)return;Ape.set(this.visualElement,this);const e=this.visualElement.current,r=Bw(e,"pointerdown",u=>{const{drag:o,dragListener:d=!0}=this.getProps(),f=u.target,A=f!==e&&GY(f);o&&d&&!A&&this.start(u)}),n=()=>{const{dragConstraints:u}=this.getProps();Z1(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Oo.read(n);const a=sE(window,"resize",()=>this.scalePositionWithinConstraints()),c=i.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:o})=>{this.isDragging&&o&&(Bf(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=u[d].translate,f.set(f.get()+u[d].translate))}),this.visualElement.render())}));return()=>{a(),r(),s(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=c4,dragMomentum:c=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:c}}}function AS(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function ppe(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class gpe extends j0{constructor(e){super(e),this.removeGroupControls=Uf,this.removeListeners=Uf,this.controls=new mpe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Uf}update(){const{dragControls:e}=this.node.getProps(),{dragControls:r}=this.node.prevProps||{};e!==r&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const u7=t=>(e,r)=>{t&&Oo.postRender(()=>t(e,r))};class vpe extends j0{constructor(){super(...arguments),this.removePointerDownListener=Uf}onPointerDown(e){this.session=new Iq(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Nq(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:u7(e),onStart:u7(r),onMove:n,onEnd:(s,a)=>{delete this.session,i&&Oo.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=Bw(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let MI=!1;class ype extends j.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:s}=e;s&&(r.group&&r.group.add(s),n&&n.register&&i&&n.register(s),MI&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),T_.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:i,isPresent:s}=this.props,{projection:a}=n;return a&&(a.isPresent=s,e.layoutDependency!==r&&a.setOptions({...a.options,layoutDependency:r}),MI=!0,i||e.layoutDependency!==r||r===void 0||e.isPresent!==s?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||Oo.postRender(()=>{const c=a.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),r3.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=e;MI=!0,i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Bq(t){const[e,r]=xq(),n=j.useContext(RP);return l.jsx(ype,{...t,layoutGroup:n,switchLayoutGroup:j.useContext(Cq),isPresent:e,safeToRemove:r})}const xpe={pan:{Feature:vpe},drag:{Feature:gpe,ProjectionNode:yq,MeasureLayout:Bq}};function d7(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,s=n[i];s&&Oo.postRender(()=>s(e,l2(e)))}class bpe extends j0{mount(){const{current:e}=this.node;e&&(this.unmount=tAe(e,(r,n)=>(d7(this.node,n,"Start"),i=>d7(this.node,i,"End"))))}unmount(){}}class wpe extends j0{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=i2(sE(this.node.current,"focus",()=>this.onFocus()),sE(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function h7(t,e,r){const{props:n}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),s=n[i];s&&Oo.postRender(()=>s(e,l2(e)))}class Epe extends j0{mount(){const{current:e}=this.node;e&&(this.unmount=iAe(e,(r,n)=>(h7(this.node,n,"Start"),(i,{success:s})=>h7(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const u4=new WeakMap,FI=new WeakMap,Spe=t=>{const e=u4.get(t.target);e&&e(t)},_pe=t=>{t.forEach(Spe)};function Tpe({root:t,...e}){const r=t||document;FI.has(r)||FI.set(r,{});const n=FI.get(r),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(_pe,{root:t,...e})),n[i]}function Cpe(t,e,r){const n=Tpe(e);return u4.set(t,r),n.observe(t),()=>{u4.delete(t),n.unobserve(t)}}const jpe={some:0,all:1};class Npe extends j0{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:s}=e,a={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:jpe[i]},c=u=>{const{isIntersecting:o}=u;if(this.isInView===o||(this.isInView=o,s&&!o&&this.hasEnteredView))return;o&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",o);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),A=o?d:f;A&&A(u)};return Cpe(this.node.current,a,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(Ipe(e,r))&&this.startObserver()}unmount(){}}function Ipe({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const kpe={inView:{Feature:Npe},tap:{Feature:Epe},focus:{Feature:wpe},hover:{Feature:bpe}},Bpe={layout:{ProjectionNode:yq,MeasureLayout:Bq}},Lpe={...npe,...kpe,...xpe,...Bpe},Or=Zme(Lpe,Jme);function Lq(t){const e=n2(()=>Xv(t)),{isStatic:r}=j.useContext(o2);if(r){const[,n]=j.useState(t);j.useEffect(()=>e.on("change",n),[])}return e}function Rq(t,e){const r=Lq(e()),n=()=>r.set(e());return n(),OP(()=>{const i=()=>Oo.preRender(n,!1,!0),s=t.map(a=>a.on("change",i));return()=>{s.forEach(a=>a()),Dp(n)}}),r}function Rpe(t){Iw.current=[],t();const e=Rq(Iw.current,t);return Iw.current=void 0,e}function Oq(t,e,r,n){if(typeof t=="function")return Rpe(t);const s=typeof e=="function"?e:aAe(e,r,n);return Array.isArray(t)?f7(t,s):f7([t],([a])=>s(a))}function f7(t,e){const r=n2(()=>[]);return Rq(t,()=>{r.length=0;const n=t.length;for(let i=0;i<n;i++)r[i]=t[i].get();return e(r)})}function Ope(t,e={}){const{isStatic:r}=j.useContext(o2),n=()=>Qu(t)?t.get():t;if(r)return Oq(n);const i=Lq(n());return j.useInsertionEffect(()=>oAe(i,t,e),[i,JSON.stringify(e)]),i}function Ppe(t,e={}){return Ope(t,{type:"spring",...e})}const A7=[{path:"/",label:"Home"},{path:"/services",label:"Services"},{path:"/work",label:"Our Work"},{path:"/content",label:"Athlete Content Order"},{path:"/proposal",label:"Free Analysis"},{path:"/contact",label:"Contact"}],Dpe=()=>{const[t,e]=j.useState(!1),[r,n]=j.useState(!1),i=hf();return j.useEffect(()=>{const s=()=>n(window.scrollY>20);return window.addEventListener("scroll",s),()=>window.removeEventListener("scroll",s)},[]),j.useEffect(()=>{e(!1)},[i]),l.jsxs("nav",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${r?"bg-dark-950/95 backdrop-blur-md border-b border-gray-800/50 shadow-lg":"bg-transparent"}`,children:[l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6",children:l.jsxs("div",{className:"flex items-center justify-between h-16 sm:h-20",children:[l.jsx(gs,{to:"/",className:"flex items-center gap-2 group",children:l.jsxs("span",{className:"text-xl sm:text-2xl font-black tracking-wider",children:[l.jsx("span",{className:"text-gradient",children:"FIT FOCUS"})," ",l.jsx("span",{className:"text-white group-hover:text-primary-400 transition-colors",children:"MEDIA"})]})}),l.jsxs("div",{className:"hidden md:flex items-center gap-1",children:[A7.map(s=>l.jsx(gs,{to:s.path,className:`px-4 py-2 rounded-lg text-sm font-semibold transition-all ${i.pathname===s.path?"text-primary-400 bg-primary-600/10":"text-gray-300 hover:text-white hover:bg-white/5"}`,children:s.label},s.path)),l.jsx(gs,{to:"/portal",className:"ml-2 px-4 py-2 text-sm font-semibold text-gray-400 hover:text-white hover:bg-white/5 rounded-lg transition-all",children:"Portal"}),l.jsx(gs,{to:"/proposal",className:"ml-1 px-5 py-2.5 bg-primary-600 hover:bg-primary-700 text-white font-bold rounded-lg text-sm transition-all hover:scale-105",children:"Get Started"})]}),l.jsx("button",{onClick:()=>e(!t),className:"md:hidden p-2 text-gray-300 hover:text-white",children:t?l.jsx(qv,{className:"w-6 h-6"}):l.jsx(KW,{className:"w-6 h-6"})})]})}),l.jsx(Pv,{children:t&&l.jsx(Or.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden bg-dark-950/98 backdrop-blur-md border-b border-gray-800",children:l.jsxs("div",{className:"px-4 py-4 space-y-1",children:[A7.map(s=>l.jsx(gs,{to:s.path,className:`block px-4 py-3 rounded-lg text-base font-semibold transition-all ${i.pathname===s.path?"text-primary-400 bg-primary-600/10":"text-gray-300 hover:text-white hover:bg-white/5"}`,children:s.label},s.path)),l.jsx(gs,{to:"/portal",className:"block px-4 py-3 rounded-lg text-base font-semibold text-gray-400 hover:text-white hover:bg-white/5 transition-all",children:"Portal"}),l.jsx(gs,{to:"/proposal",className:"block mt-3 px-4 py-3 bg-primary-600 hover:bg-primary-700 text-white font-bold rounded-lg text-center transition-all",children:"Get Your Free Analysis"})]})})})]})},Mpe=()=>l.jsx("footer",{className:"bg-dark-950 border-t border-gray-800",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-12 sm:py-16",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 sm:gap-12",children:[l.jsxs("div",{className:"md:col-span-2",children:[l.jsx(gs,{to:"/",className:"inline-block mb-4",children:l.jsxs("span",{className:"text-2xl font-black tracking-wider",children:[l.jsx("span",{className:"text-gradient",children:"FIT FOCUS"})," ",l.jsx("span",{className:"text-white",children:"MEDIA"})]})}),l.jsx("p",{className:"text-gray-400 text-sm leading-relaxed max-w-md mb-6",children:"Professional live production for combat sports. We produce your events at zero cost and help you unlock new revenue streams through PPV, content, and sponsorship opportunities."}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("a",{href:"https://instagram.com/fitfocusmedia",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 bg-dark-800 hover:bg-primary-600/20 border border-gray-700 hover:border-primary-600 rounded-lg flex items-center justify-center transition-all",children:l.jsx(uN,{className:"w-5 h-5 text-gray-400 hover:text-primary-400"})}),l.jsx("a",{href:"https://youtube.com/@fitfocusmedia",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 bg-dark-800 hover:bg-primary-600/20 border border-gray-700 hover:border-primary-600 rounded-lg flex items-center justify-center transition-all",children:l.jsx(qW,{className:"w-5 h-5 text-gray-400 hover:text-primary-400"})}),l.jsx("a",{href:"https://facebook.com/FitFocusMedia",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 bg-dark-800 hover:bg-primary-600/20 border border-gray-700 hover:border-primary-600 rounded-lg flex items-center justify-center transition-all",children:l.jsx(cN,{className:"w-5 h-5 text-gray-400 hover:text-primary-400"})})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-white font-bold mb-4",children:"Quick Links"}),l.jsx("ul",{className:"space-y-2",children:[{to:"/services",label:"Services"},{to:"/work",label:"Our Work"},{to:"/proposal",label:"Free Analysis"},{to:"/contact",label:"Contact"}].map(t=>l.jsx("li",{children:l.jsx(gs,{to:t.to,className:"text-gray-400 hover:text-primary-400 text-sm transition-colors",children:t.label})},t.to))})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-white font-bold mb-4",children:"Contact"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("a",{href:"mailto:info@fitfocusmedia.com.au",className:"flex items-center gap-2 text-gray-400 hover:text-primary-400 text-sm transition-colors",children:[l.jsx(af,{className:"w-4 h-4"}),"info@fitfocusmedia.com.au"]}),l.jsx("p",{className:"text-gray-500 text-xs",children:"Based in Queensland, Australia"}),l.jsx("p",{className:"text-gray-500 text-xs",children:"Servicing events Australia-wide + International"})]})]})]}),l.jsxs("div",{className:"mt-12 pt-6 border-t border-gray-800 flex flex-col sm:flex-row justify-between items-center gap-4",children:[l.jsxs("p",{className:"text-gray-500 text-xs",children:[" ",new Date().getFullYear()," Fit Focus Media. All rights reserved."]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-gray-600 text-xs",children:"Professional Combat Sports Production"}),l.jsxs("p",{className:"text-gray-700 text-[10px] mt-1",children:["v","260221.1956"]})]})]})]})}),ts="/",UI=[`${ts}images/hero/aggression-hero-1.jpg`,`${ts}images/hero/aggression-hero-2.jpg`,`${ts}images/hero/aggression-hero-3.jpg`,`${ts}images/hero/wng1-hero-1.jpg`,`${ts}images/hero/wng1-hero-2.jpg`],Zl={wng1:[{src:`${ts}images/events/wng1/wng1-01226.jpg`,alt:"WNG1 Grappling Action",category:"events"},{src:`${ts}images/events/wng1/wng1-01675.jpg`,alt:"WNG1 Competition",category:"events"},{src:`${ts}images/events/wng1/wng1-02953.jpg`,alt:"WNG1 Match",category:"events"},{src:`${ts}images/events/wng1/wng1-05237.jpg`,alt:"WNG1 Event Atmosphere",category:"events"},{src:`${ts}images/events/wng1/wng1-02527.jpg`,alt:"WNG1 Action Shot",category:"events"},{src:`${ts}images/events/wng1/wng1-01588.jpg`,alt:"WNG1 Grappling",category:"events"}],wng2:[{src:`${ts}images/events/wng2/wng2-09820.jpg`,alt:"WNG2 Competition",category:"events"},{src:`${ts}images/events/wng2/wng2-08613.jpg`,alt:"WNG2 Grappling Action",category:"events"},{src:`${ts}images/events/wng2/wng2-01906.jpg`,alt:"WNG2 Match",category:"events"},{src:`${ts}images/events/wng2/wng2-09420.jpg`,alt:"WNG2 Event",category:"events"},{src:`${ts}images/events/wng2/wng2-07770.jpg`,alt:"WNG2 Action",category:"events"},{src:`${ts}images/events/wng2/wng2-09170.jpg`,alt:"WNG2 Competition",category:"events"}],aggression:[{src:`${ts}images/events/aggression/aggression-06388.jpg`,alt:"Aggression Muay Thai Fight",category:"events"},{src:`${ts}images/events/aggression/aggression-06742.jpg`,alt:"Aggression Ring Action",category:"events"},{src:`${ts}images/events/aggression/aggression-06140.jpg`,alt:"Aggression Muay Thai",category:"events"},{src:`${ts}images/events/aggression/aggression-05876.jpg`,alt:"Aggression Fight Night",category:"events"},{src:`${ts}images/events/aggression/aggression-06843.jpg`,alt:"Aggression MT Event",category:"events"}],athletes:[{src:`${ts}images/athletes/wng1-promo/athlete-00666.jpg`,alt:"Athlete Promo - WNG1",category:"athletes"},{src:`${ts}images/athletes/wng1-promo/athlete-00559.jpg`,alt:"Fighter Portrait",category:"athletes"},{src:`${ts}images/athletes/wng1-promo/athlete-00669.jpg`,alt:"Athlete Promo Shot",category:"athletes"},{src:`${ts}images/athletes/wng1-promo/athlete-00601.jpg`,alt:"Fighter Promo",category:"athletes"},{src:`${ts}images/athletes/wng1-promo/athlete-00692.jpg`,alt:"WNG1 Fighter",category:"athletes"},{src:`${ts}images/athletes/wng1-promo/athlete-00485.jpg`,alt:"Athlete Portrait",category:"athletes"},{src:`${ts}images/athletes/wng2-promo/athlete-06134.jpg`,alt:"WNG2 Athlete Promo",category:"athletes"},{src:`${ts}images/athletes/wng2-promo/athlete-06092.jpg`,alt:"WNG2 Fighter Portrait",category:"athletes"},{src:`${ts}images/athletes/wng2-promo/athlete-05913.jpg`,alt:"WNG2 Promo Shot",category:"athletes"},{src:`${ts}images/athletes/wng2-promo/athlete-06067.jpg`,alt:"WNG2 Athlete",category:"athletes"},{src:`${ts}images/athletes/wng2-promo/athlete-06031.jpg`,alt:"Fighter Promo WNG2",category:"athletes"},{src:`${ts}images/athletes/wng2-promo/athlete-05884.jpg`,alt:"WNG2 Fighter",category:"athletes"},{src:`${ts}images/athletes/headshots/headshot-00670.jpg`,alt:"Professional Headshot",category:"athletes"},{src:`${ts}images/athletes/headshots/headshot-00667.jpg`,alt:"Gi Headshot",category:"athletes"},{src:`${ts}images/athletes/headshots/headshot-00669.jpg`,alt:"Athlete Headshot",category:"athletes"},{src:`${ts}images/athletes/headshots/headshot-00678.jpg`,alt:"BJJ Headshot",category:"athletes"}],gym:[{src:`${ts}images/gym/bjj/bjj-08397.jpg`,alt:"One Purpose BJJ Training",category:"promo"},{src:`${ts}images/gym/bjj/bjj-08410.jpg`,alt:"BJJ Class",category:"promo"},{src:`${ts}images/gym/bjj/bjj-08478.jpg`,alt:"BJJ Training Environment",category:"promo"},{src:`${ts}images/gym/bjj/bjj-08390.jpg`,alt:"One Purpose BJJ",category:"promo"},{src:`${ts}images/gym/bjj/bjj-08467.jpg`,alt:"BJJ Rolling",category:"promo"},{src:`${ts}images/gym/stuart/stuart-06855.jpg`,alt:"Fight House Industries",category:"promo"},{src:`${ts}images/gym/stuart/stuart-07156.jpg`,alt:"Fight House Training",category:"promo"},{src:`${ts}images/gym/stuart/stuart-04954.jpg`,alt:"Gym Environment",category:"promo"},{src:`${ts}images/gym/stuart/stuart-07504.jpg`,alt:"Class Photos",category:"promo"},{src:`${ts}images/gym/stuart/stuart-07260.jpg`,alt:"Training Session",category:"promo"}]},m7=[...Zl.wng1,...Zl.wng2,...Zl.aggression,...Zl.athletes,...Zl.gym],Fpe=[Zl.aggression[0],Zl.wng1[0],Zl.athletes[0],Zl.wng2[0],Zl.gym[0],Zl.wng1[2],Zl.athletes[6],Zl.aggression[3]],Upe=[{id:"wng1",name:"Who's Next Grappling",shortName:"WNG1",description:"Professional grappling event coverage with multi-camera production and athlete promo shoots.",images:Zl.wng1,tags:["Event","Grappling","Live Production"]},{id:"wng2",name:"Who's Next Grappling 2",shortName:"WNG2",description:"Second edition of WNG featuring expanded coverage, athlete content packages, and PPV streaming.",images:Zl.wng2,tags:["Event","Grappling","PPV"]},{id:"aggression",name:"Aggression Muay Thai",shortName:"Aggression MT",description:"High-energy Muay Thai fight night with dramatic ring-side photography and broadcast production.",images:Zl.aggression,tags:["Event","Muay Thai","Fight Night"]},{id:"athletes",name:"Athlete Promo Shoots",shortName:"Athletes",description:"Professional athlete portraits and promotional imagery for fighters across multiple events.",images:Zl.athletes,tags:["Athletes","Portraits","Promo"]},{id:"gym",name:"Gym & Training",shortName:"Gym/Training",description:"Training environment photography for gyms including One Purpose BJJ and Fight House Industries.",images:Zl.gym,tags:["Gym","Training","Content"]}],$pe=()=>{const[t,e]=j.useState(0);return j.useEffect(()=>{const r=setInterval(()=>{e(n=>(n+1)%UI.length)},5e3);return()=>clearInterval(r)},[]),l.jsxs("div",{children:[l.jsxs("section",{className:"relative min-h-screen flex items-center justify-center overflow-hidden",children:[UI.map((r,n)=>l.jsx("div",{className:"absolute inset-0 transition-opacity duration-1000",style:{opacity:n===t?1:0},children:l.jsx("img",{src:r,alt:"",className:"w-full h-full object-cover",loading:n===0?"eager":"lazy"})},r)),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-dark-950/70 via-dark-950/60 to-dark-950/90"}),l.jsxs("div",{className:"relative z-10 text-center px-4 sm:px-6 max-w-6xl mx-auto py-20",children:[l.jsxs(Or.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[l.jsxs(Or.h1,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2,duration:.6},className:"text-5xl sm:text-6xl md:text-8xl font-black mb-6 leading-tight",children:[l.jsx("span",{className:"text-gradient",children:"FIT FOCUS"}),l.jsx("br",{}),l.jsx("span",{className:"text-white",children:"MEDIA"})]}),l.jsxs(Or.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6,duration:.8},children:[l.jsx("p",{className:"text-xl sm:text-2xl md:text-3xl text-gray-200 mb-4 max-w-3xl mx-auto font-semibold",children:"Professional Live Production for Combat Sports"}),l.jsx("p",{className:"text-lg sm:text-xl text-gray-400 mb-10 max-w-2xl mx-auto",children:"Zero-cost production  You earn revenue from PPV  Professional broadcast quality"})]}),l.jsxs(Or.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1,duration:.6},className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsxs(gs,{to:"/proposal",className:"group px-8 py-4 bg-primary-600 hover:bg-primary-700 text-white font-black rounded-lg text-lg transition-all hover:scale-105 card-glow inline-flex items-center justify-center gap-3",children:["Get Your Free Analysis",l.jsx(nf,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]}),l.jsx(gs,{to:"/work",className:"px-8 py-4 bg-white/10 hover:bg-white/20 backdrop-blur-sm text-white font-bold rounded-lg text-lg transition-all border border-white/20 hover:border-white/40 inline-flex items-center justify-center gap-3",children:"View Our Work"}),l.jsx(gs,{to:"/book",className:"px-8 py-4 bg-accent-600 hover:bg-accent-700 text-white font-bold rounded-lg text-lg transition-all inline-flex items-center justify-center gap-3 hover:scale-105",children:" Book a Call"})]})]}),l.jsx("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 flex gap-2",children:UI.map((r,n)=>l.jsx("button",{onClick:()=>e(n),className:`w-2 h-2 rounded-full transition-all ${n===t?"bg-primary-500 w-6":"bg-white/40 hover:bg-white/60"}`},n))})]})]}),l.jsx("section",{className:"bg-dark-900 border-y border-gray-800",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-8 sm:py-12",children:l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-6 sm:gap-8",children:[{icon:hue,value:"25+",label:"Live Events Covered"},{icon:HW,value:"4",label:"Countries Worldwide"},{icon:Ub,value:"50K+",label:"Viewers Reached"},{icon:r2,value:"100%",label:"Client Satisfaction"}].map((r,n)=>l.jsxs(Or.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:n*.1},className:"text-center",children:[l.jsx(r.icon,{className:"w-6 h-6 sm:w-8 sm:h-8 text-primary-500 mx-auto mb-2"}),l.jsx("p",{className:"text-2xl sm:text-3xl md:text-4xl font-black text-primary-500",children:r.value}),l.jsx("p",{className:"text-xs sm:text-sm text-gray-400 mt-1",children:r.label})]},n))})})}),l.jsx("section",{className:"py-16 sm:py-24 px-4 sm:px-6",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs(Or.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-12 sm:mb-16",children:[l.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-black mb-4",children:l.jsx("span",{className:"text-gradient",children:"What We Do"})}),l.jsx("p",{className:"text-lg sm:text-xl text-gray-400 max-w-2xl mx-auto",children:"End-to-end media production designed specifically for combat sports promotions"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 sm:gap-8",children:[{icon:Nm,title:"Live Streaming & PPV",description:"Professional multi-camera broadcast production with PPV platform setup and management. We handle the tech  you focus on the event.",features:["Multi-camera production","PPV platform management","Live graphics & overlays","Instant replay capability"]},{icon:JT,title:"Event Photography",description:"Ring-side action shots, athlete portraits, crowd atmosphere, and winners ceremony  delivered as a complete digital gallery.",features:["Full event coverage","Action photography","Athlete portraits","Same-week delivery"]},{icon:dy,title:"Content Production",description:"Social media highlights, fight recaps, promotional content, and ongoing content strategy to grow your audience between events.",features:["Social media clips","Highlight reels","Fighter promo content","Content strategy"]}].map((r,n)=>l.jsxs(Or.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:n*.15},className:"bg-dark-800 border border-gray-700 rounded-xl p-6 sm:p-8 hover:border-primary-600/50 transition-all hover-lift group",children:[l.jsx("div",{className:"w-14 h-14 bg-primary-600/20 rounded-xl flex items-center justify-center mb-6 group-hover:bg-primary-600/30 transition-colors",children:l.jsx(r.icon,{className:"w-7 h-7 text-primary-500"})}),l.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-3",children:r.title}),l.jsx("p",{className:"text-gray-400 text-sm sm:text-base mb-4 leading-relaxed",children:r.description}),l.jsx("ul",{className:"space-y-2",children:r.features.map((i,s)=>l.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-300",children:[l.jsx("div",{className:"w-1.5 h-1.5 bg-primary-500 rounded-full"}),i]},s))})]},n))}),l.jsx("div",{className:"text-center mt-10",children:l.jsxs(gs,{to:"/services",className:"inline-flex items-center gap-2 text-primary-400 hover:text-primary-300 font-semibold transition-colors",children:["View All Services ",l.jsx(nf,{className:"w-4 h-4"})]})})]})}),l.jsx("section",{className:"py-16 sm:py-24 px-4 sm:px-6 bg-dark-900/50",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs(Or.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-12 sm:mb-16",children:[l.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-black mb-4",children:l.jsx("span",{className:"text-gradient",children:"Featured Work"})}),l.jsx("p",{className:"text-lg sm:text-xl text-gray-400 max-w-2xl mx-auto",children:"From ring-side action to athlete promo shoots  see what professional media coverage looks like"})]}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4",children:Fpe.map((r,n)=>l.jsxs(Or.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{delay:n*.05},className:`gallery-item rounded-xl overflow-hidden cursor-pointer ${n===0||n===3?"md:row-span-2":""}`,children:[l.jsx("img",{src:r.src,alt:r.alt,className:"w-full h-full object-cover min-h-[200px]",loading:"lazy"}),l.jsx("div",{className:"overlay flex items-end p-4",children:l.jsx("p",{className:"text-white text-sm font-semibold",children:r.alt})})]},n))}),l.jsx("div",{className:"text-center mt-10",children:l.jsxs(gs,{to:"/work",className:"inline-flex items-center gap-2 px-6 py-3 bg-primary-600 hover:bg-primary-700 text-white font-bold rounded-lg transition-all hover:scale-105",children:["View Full Portfolio ",l.jsx(nf,{className:"w-4 h-4"})]})})]})}),l.jsx("section",{className:"py-16 sm:py-24 px-4 sm:px-6",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs(Or.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-12 sm:mb-16",children:[l.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-black mb-4",children:l.jsx("span",{className:"text-gradient",children:"How It Works"})}),l.jsx("p",{className:"text-lg sm:text-xl text-gray-400 max-w-2xl mx-auto",children:"Professional production at zero cost. Here's our model."})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-5xl mx-auto",children:[{step:"01",title:"We Produce Your Event",description:"Full professional multi-camera production, live switching, graphics, and streaming setup  completely handled by our team.",color:"from-primary-600 to-orange-600"},{step:"02",title:"Fans Purchase PPV",description:"Your audience buys PPV access at $20-30. We handle the platform, payment processing, and viewer experience.",color:"from-orange-600 to-amber-600"},{step:"03",title:"You Earn Revenue",description:"You receive a share of every PPV sale. Zero upfront cost, zero risk  just new revenue from viewers you weren't reaching before.",color:"from-amber-600 to-green-600"}].map((r,n)=>l.jsxs(Or.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:n*.2},className:"text-center",children:[l.jsx("div",{className:`inline-flex items-center justify-center w-20 h-20 rounded-2xl bg-gradient-to-br ${r.color} mb-6`,children:l.jsx("span",{className:"text-3xl font-black text-white",children:r.step})}),l.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-3",children:r.title}),l.jsx("p",{className:"text-gray-400 text-sm sm:text-base leading-relaxed",children:r.description})]},n))}),l.jsx(Or.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"mt-12 sm:mt-16 max-w-3xl mx-auto",children:l.jsxs("div",{className:"bg-gradient-to-r from-green-900/30 to-emerald-900/30 border-2 border-green-600/50 rounded-xl p-6 sm:p-8 text-center",children:[l.jsx(T0,{className:"w-10 h-10 text-green-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-2xl sm:text-3xl font-black text-white mb-3",children:"Your Cost: $0"}),l.jsx("p",{className:"text-gray-300 text-sm sm:text-base leading-relaxed max-w-xl mx-auto",children:"We cover all production costs. You pay nothing upfront. You earn revenue from PPV sales that you weren't making before. It's literally free money + professional coverage."})]})})]})}),l.jsx("section",{className:"py-16 sm:py-24 px-4 sm:px-6 bg-dark-900/50",children:l.jsx("div",{className:"max-w-4xl mx-auto text-center",children:l.jsxs(Or.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:[l.jsx("div",{className:"flex justify-center mb-6",children:[1,2,3,4,5].map(r=>l.jsx("svg",{className:"w-6 h-6 sm:w-8 sm:h-8 text-amber-500",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},r))}),l.jsx("blockquote",{className:"text-xl sm:text-2xl md:text-3xl text-gray-200 font-semibold italic mb-6 leading-relaxed",children:'"Professional coverage, quick turnaround on highlights, and our sponsors loved the exposure. The zero-cost model meant we could invest in growing other areas of our event."'}),l.jsx("p",{className:"text-gray-500 text-sm sm:text-base",children:" Combat Sports Promoter, QLD"})]})})}),l.jsx("section",{className:"py-16 sm:py-24 px-4 sm:px-6",children:l.jsx("div",{className:"max-w-4xl mx-auto text-center",children:l.jsxs(Or.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:[l.jsxs("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-black mb-6",children:["Ready to ",l.jsx("span",{className:"text-gradient",children:"Elevate Your Event?"})]}),l.jsx("p",{className:"text-lg sm:text-xl text-gray-400 mb-8 max-w-2xl mx-auto",children:"Get a free analysis of your organization and see exactly how much revenue professional media coverage could generate. Zero commitment."}),l.jsxs(gs,{to:"/proposal",className:"group inline-flex items-center gap-3 px-10 py-5 bg-primary-600 hover:bg-primary-700 text-white font-black rounded-lg text-xl transition-all hover:scale-105 card-glow",children:["Get Your Free Analysis",l.jsx(nf,{className:"w-6 h-6 group-hover:translate-x-1 transition-transform"})]}),l.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"Takes 2 minutes  No commitment required"})]})})})]})},Hpe=[{id:"livestream",icon:Nm,title:"Live Stream & PPV Production",tagline:"Broadcast-quality live production at zero cost",description:"We handle everything  from multi-camera setup and live switching to PPV platform management and viewer experience. Your audience gets a professional broadcast; you get revenue.",image:Zl.wng1[0].src,features:["Professional multi-camera production (1-4 cameras)","PTZ cameras for dynamic angles","Live switching and production","Custom broadcast graphics and overlays","Instant replay capability","PPV platform setup and management","Payment processing and viewer analytics","Full show recording for VOD"],highlight:"Zero upfront cost  we earn from production, you earn from PPV revenue share."},{id:"photography",icon:JT,title:"Event Photography & Videography",tagline:"Every moment captured in stunning detail",description:"Dedicated ring-side photographers capturing the intensity of every fight, the emotion of every victory, and the atmosphere of your entire event. Delivered as a complete digital gallery.",image:Zl.aggression[0].src,features:["Full event coverage from doors to finish","Ring-side action photography","Athlete portraits and walk-outs","Winners and awards ceremony","Crowd and atmosphere shots","Behind-the-scenes content","Complete digital gallery delivery","Same-week turnaround"],highlight:"Professional photography that athletes share, sponsors love, and audiences remember."},{id:"content",icon:dy,title:"Content Packages",tagline:"Social media content that grows your audience",description:"From event highlight reels to fighter promo clips, we create content designed for maximum reach. Short-form vertical edits for Reels/TikTok, YouTube-ready highlights, and everything in between.",image:Zl.athletes[0].src,features:["5-10 social media clips per event","Event highlight reel (3-5 minutes)","Short-form vertical edits (Reels/TikTok)","Individual fight/match recordings","Fighter promo content","Custom fight banner graphics","Same-day highlight delivery","YouTube-ready formats"],highlight:"Content that keeps your promotion visible 365 days a year  not just on event night."},{id:"strategy",icon:WW,title:"Ongoing Content Strategy",tagline:"Build a media empire around your promotion",description:"Monthly content calendars, audience growth strategy, between-event content creation, and analytics-driven optimization. We become your dedicated media team.",image:Zl.gym[5].src,features:["Monthly content calendar","Audience growth strategy","Between-event content creation","Analytics and performance tracking","Platform optimization (IG, YouTube, TikTok)","Dedicated account manager","Sponsor integration strategy","Quarterly performance reviews"],highlight:"From promoter to media brand  we help you build an audience that sells out every event."}],Qpe=()=>l.jsxs("div",{className:"pt-20 sm:pt-24",children:[l.jsx("section",{className:"py-12 sm:py-20 px-4 sm:px-6",children:l.jsx("div",{className:"max-w-7xl mx-auto text-center",children:l.jsxs(Or.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[l.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-black mb-6",children:l.jsx("span",{className:"text-gradient",children:"Our Services"})}),l.jsx("p",{className:"text-lg sm:text-xl text-gray-400 max-w-3xl mx-auto mb-8",children:"End-to-end media production built specifically for combat sports. From live broadcast to athlete content  we've got every angle covered."}),l.jsxs("div",{className:"inline-flex items-center gap-2 bg-green-900/30 border border-green-600/50 px-5 py-3 rounded-full",children:[l.jsx(LP,{className:"w-5 h-5 text-green-400"}),l.jsx("span",{className:"text-green-300 font-semibold text-sm sm:text-base",children:"Live stream production available at zero cost"})]})]})})}),Hpe.map((t,e)=>l.jsx("section",{className:`py-12 sm:py-20 px-4 sm:px-6 ${e%2===1?"bg-dark-900/50":""}`,children:l.jsx("div",{className:"max-w-7xl mx-auto",children:l.jsxs("div",{className:`grid grid-cols-1 lg:grid-cols-2 gap-8 sm:gap-12 items-center ${e%2===1?"lg:flex-row-reverse":""}`,children:[l.jsx(Or.div,{initial:{opacity:0,x:e%2===0?-30:30},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},className:`${e%2===1?"lg:order-2":""}`,children:l.jsx("div",{className:"rounded-xl overflow-hidden border border-gray-700",children:l.jsx("img",{src:t.image,alt:t.title,className:"w-full h-[300px] sm:h-[400px] object-cover",loading:"lazy"})})}),l.jsxs(Or.div,{initial:{opacity:0,x:e%2===0?30:-30},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},className:`${e%2===1?"lg:order-1":""}`,children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("div",{className:"w-12 h-12 bg-primary-600/20 rounded-xl flex items-center justify-center",children:l.jsx(t.icon,{className:"w-6 h-6 text-primary-500"})}),l.jsx("span",{className:"text-primary-400 text-sm font-bold uppercase tracking-wider",children:t.tagline})]}),l.jsx("h2",{className:"text-3xl sm:text-4xl font-black text-white mb-4",children:t.title}),l.jsx("p",{className:"text-gray-400 text-base sm:text-lg mb-6 leading-relaxed",children:t.description}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 mb-6",children:t.features.map((r,n)=>l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(bo,{className:"w-4 h-4 text-green-400 flex-shrink-0 mt-1"}),l.jsx("span",{className:"text-gray-300 text-sm",children:r})]},n))}),l.jsx("div",{className:"p-4 bg-primary-600/10 border border-primary-600/30 rounded-lg mb-6",children:l.jsxs("p",{className:"text-primary-300 text-sm font-semibold",children:[" ",t.highlight]})})]})]})})},t.id)),l.jsx("section",{className:"py-16 sm:py-24 px-4 sm:px-6 bg-dark-900/50",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs(Or.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-12 sm:mb-16",children:[l.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-black mb-4",children:l.jsx("span",{className:"text-gradient",children:"Tailored Packages"})}),l.jsx("p",{className:"text-lg sm:text-xl text-gray-400 max-w-2xl mx-auto",children:"Every promotion is different. Our proposal tool analyzes your organization and recommends the perfect package."})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 sm:gap-8 max-w-5xl mx-auto",children:[{name:"Essentials",range:"$1,500 - $2,500",desc:"Core add-ons on top of free production",features:["Free live stream production","Fight recordings","Social media clips","Custom graphics"]},{name:"Professional",range:"$3,000 - $4,000",desc:"Everything you need to level up",features:["Everything in Essentials","Event photography","Premium camera setup","Highlight reels"],popular:!0},{name:"Broadcast",range:"$4,500 - $6,500",desc:"Full media partnership",features:["Everything in Professional","Ongoing content strategy","Dedicated account manager","Priority scheduling"]}].map((t,e)=>l.jsxs(Or.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:e*.15},className:`bg-dark-800 border-2 rounded-xl p-6 sm:p-8 relative ${t.popular?"border-primary-600 card-glow":"border-gray-700"}`,children:[t.popular&&l.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2",children:l.jsx("span",{className:"bg-primary-600 text-white text-xs font-bold px-4 py-1 rounded-full",children:"MOST POPULAR"})}),l.jsx("h3",{className:"text-2xl font-black text-white mb-2",children:t.name}),l.jsx("p",{className:"text-primary-400 font-bold text-lg mb-2",children:t.range}),l.jsx("p",{className:"text-gray-500 text-sm mb-6",children:t.desc}),l.jsx("ul",{className:"space-y-3 mb-6",children:t.features.map((r,n)=>l.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-300",children:[l.jsx(bo,{className:"w-4 h-4 text-green-400 flex-shrink-0 mt-0.5"}),r]},n))})]},e))}),l.jsxs("div",{className:"text-center mt-10",children:[l.jsxs(gs,{to:"/proposal",className:"group inline-flex items-center gap-3 px-8 py-4 bg-primary-600 hover:bg-primary-700 text-white font-black rounded-lg text-lg transition-all hover:scale-105 card-glow",children:["Get Your Custom Package",l.jsx(nf,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]}),l.jsx("p",{className:"text-gray-500 text-sm mt-3",children:"Our proposal tool will recommend the perfect package for your organization"})]})]})})]}),Vpe=[{id:"all",label:"All"},{id:"events",label:"Events"},{id:"athletes",label:"Athletes"},{id:"promo",label:"Promo"}],Kpe=()=>{const[t,e]=j.useState("all"),[r,n]=j.useState(null),[i,s]=j.useState(null),[a,c]=j.useState(0),[u,o]=j.useState([]),d=t==="all"?m7:m7.filter(y=>y.category===t),f=(y,v)=>{o(y),c(v),s(y[v])},A=()=>{s(null),o([])},p=()=>{const y=(a+1)%u.length;c(y),s(u[y])},g=()=>{const y=(a-1+u.length)%u.length;c(y),s(u[y])};return l.jsxs("div",{className:"pt-20 sm:pt-24",children:[l.jsx("section",{className:"py-12 sm:py-20 px-4 sm:px-6",children:l.jsx("div",{className:"max-w-7xl mx-auto text-center",children:l.jsxs(Or.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[l.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-black mb-6",children:l.jsx("span",{className:"text-gradient",children:"Our Work"})}),l.jsx("p",{className:"text-lg sm:text-xl text-gray-400 max-w-3xl mx-auto",children:"From grappling events to Muay Thai fight nights, athlete promo shoots to gym content  see how we capture the intensity of combat sports."})]})})}),l.jsx("section",{className:"py-8 sm:py-12 px-4 sm:px-6",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsx("h2",{className:"text-2xl sm:text-3xl font-black text-white mb-8",children:"Projects"}),l.jsx("div",{className:"space-y-6",children:Upe.map((y,v)=>l.jsxs(Or.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:v*.1},className:"bg-dark-800 border border-gray-700 rounded-xl overflow-hidden",children:[l.jsxs("button",{onClick:()=>n(r===y.id?null:y.id),className:"w-full flex flex-col sm:flex-row items-start sm:items-center gap-4 p-5 sm:p-6 text-left hover:bg-dark-900/30 transition-colors",children:[l.jsx("div",{className:"w-full sm:w-24 h-32 sm:h-24 rounded-lg overflow-hidden flex-shrink-0",children:l.jsx("img",{src:y.images[0].src,alt:y.name,className:"w-full h-full object-cover",loading:"lazy"})}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx("h3",{className:"text-lg sm:text-xl font-bold text-white",children:y.name}),l.jsxs("span",{className:"text-xs bg-primary-600/20 text-primary-400 px-2 py-1 rounded-full font-semibold",children:[y.images.length," photos"]})]}),l.jsx("p",{className:"text-gray-400 text-sm mb-2",children:y.description}),l.jsx("div",{className:"flex gap-2",children:y.tags.map(b=>l.jsx("span",{className:"text-xs bg-dark-900 text-gray-400 px-2 py-1 rounded border border-gray-700",children:b},b))})]}),l.jsx("div",{className:"text-primary-400",children:l.jsx(Or.div,{animate:{rotate:r===y.id?90:0},transition:{duration:.2},children:l.jsx(nf,{className:"w-5 h-5"})})})]}),l.jsx(Pv,{children:r===y.id&&l.jsx(Or.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden",children:l.jsx("div",{className:"px-5 sm:px-6 pb-6 border-t border-gray-700 pt-4",children:l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:y.images.map((b,w)=>l.jsxs("div",{onClick:()=>f(y.images,w),className:"gallery-item rounded-lg overflow-hidden cursor-pointer aspect-[4/3]",children:[l.jsx("img",{src:b.src,alt:b.alt,className:"w-full h-full object-cover",loading:"lazy"}),l.jsx("div",{className:"overlay"})]},w))})})})})]},y.id))})]})}),l.jsx("section",{className:"py-12 sm:py-20 px-4 sm:px-6 bg-dark-900/50",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-8",children:[l.jsx("h2",{className:"text-2xl sm:text-3xl font-black text-white",children:"Full Gallery"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx($W,{className:"w-4 h-4 text-gray-500"}),Vpe.map(y=>l.jsx("button",{onClick:()=>e(y.id),className:`px-4 py-2 rounded-lg text-sm font-semibold transition-all ${t===y.id?"bg-primary-600 text-white":"bg-dark-800 text-gray-400 hover:text-white border border-gray-700"}`,children:y.label},y.id))]})]}),l.jsx(Or.div,{layout:!0,className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 sm:gap-4",children:l.jsx(Pv,{mode:"popLayout",children:d.map((y,v)=>l.jsxs(Or.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},onClick:()=>f(d,v),className:"gallery-item rounded-lg overflow-hidden cursor-pointer aspect-[4/3]",children:[l.jsx("img",{src:y.src,alt:y.alt,className:"w-full h-full object-cover",loading:"lazy"}),l.jsx("div",{className:"overlay flex items-end p-3",children:l.jsx("p",{className:"text-white text-xs font-semibold",children:y.alt})})]},y.src))})})]})}),l.jsx("section",{className:"py-16 sm:py-24 px-4 sm:px-6",children:l.jsx("div",{className:"max-w-4xl mx-auto text-center",children:l.jsxs(Or.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:[l.jsxs("h2",{className:"text-3xl sm:text-4xl font-black mb-4",children:["Want This for ",l.jsx("span",{className:"text-gradient",children:"Your Event?"})]}),l.jsx("p",{className:"text-gray-400 text-lg mb-8",children:"Get professional media coverage at zero cost. See what we can do for your promotion."}),l.jsxs(gs,{to:"/proposal",className:"group inline-flex items-center gap-3 px-8 py-4 bg-primary-600 hover:bg-primary-700 text-white font-black rounded-lg text-lg transition-all hover:scale-105 card-glow",children:["Get Your Free Analysis",l.jsx(nf,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})]})})}),l.jsx(Pv,{children:i&&l.jsxs(Or.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"lightbox-backdrop",onClick:A,children:[l.jsx("button",{onClick:A,className:"absolute top-4 right-4 z-10 p-2 bg-black/50 rounded-full text-white hover:bg-black/80 transition-colors",children:l.jsx(qv,{className:"w-6 h-6"})}),u.length>1&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:y=>{y.stopPropagation(),g()},className:"absolute left-4 z-10 p-3 bg-black/50 rounded-full text-white hover:bg-black/80 transition-colors",children:l.jsx(FL,{className:"w-6 h-6"})}),l.jsx("button",{onClick:y=>{y.stopPropagation(),p()},className:"absolute right-4 z-10 p-3 bg-black/50 rounded-full text-white hover:bg-black/80 transition-colors",children:l.jsx(mb,{className:"w-6 h-6"})})]}),l.jsx("img",{src:i.src,alt:i.alt,className:"max-w-[90vw] max-h-[90vh] object-contain",onClick:y=>y.stopPropagation()}),l.jsxs("div",{className:"absolute bottom-4 text-center text-white text-sm",children:[i.alt,"  ",a+1," / ",u.length]})]})})]})},mS=[{num:1,label:"Welcome"},{num:2,label:"Your Organization"},{num:3,label:"Analysis"},{num:4,label:"Get Proposal"},{num:5,label:"Your Proposal"}],Gpe=({currentStep:t,totalSteps:e,goToStep:r})=>{const n=i=>i<t;return l.jsx("nav",{className:"sticky top-0 z-50 bg-dark-900/95 backdrop-blur-sm border-b border-gray-800",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4",children:[l.jsxs("div",{className:"md:hidden",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsxs("span",{className:"text-sm font-semibold text-gray-300",children:["Step ",t," of ",e]}),l.jsx("span",{className:"text-xs text-gray-400",children:mS[Math.min(t-1,mS.length-1)]?.label})]}),l.jsx("div",{className:"h-2 bg-dark-800 rounded-full overflow-hidden",children:l.jsx(Or.div,{className:"h-full bg-gradient-to-r from-primary-500 to-orange-500",initial:{width:0},animate:{width:`${t/e*100}%`},transition:{duration:.3}})})]}),l.jsx("div",{className:"hidden md:flex items-center justify-between",children:mS.map((i,s)=>l.jsxs("div",{className:"flex items-center flex-1",children:[l.jsxs("button",{onClick:()=>n(i.num)&&r(i.num),disabled:!n(i.num),className:`flex flex-col items-center gap-2 transition-all ${n(i.num)?"cursor-pointer hover:scale-105":"cursor-default"}`,children:[l.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold text-sm transition-all ${t===i.num?"bg-primary-600 text-white ring-4 ring-primary-600/30":t>i.num?"bg-green-600 text-white":"bg-dark-800 text-gray-500"}`,children:t>i.num?l.jsx(bo,{className:"w-5 h-5"}):i.num}),l.jsx("span",{className:`text-xs font-semibold ${t===i.num?"text-primary-400":t>i.num?"text-green-400":"text-gray-500"}`,children:i.label})]}),s<mS.length-1&&l.jsx("div",{className:"flex-1 h-1 mx-2 bg-dark-800 rounded-full overflow-hidden",children:l.jsx(Or.div,{className:"h-full bg-gradient-to-r from-green-600 to-primary-600",initial:{width:0},animate:{width:t>i.num?"100%":"0%"},transition:{duration:.3}})})]},i.num))})]})})},zpe=({nextStep:t})=>l.jsxs("section",{className:"relative min-h-screen flex items-center justify-center overflow-hidden animated-gradient",children:[l.jsx("div",{className:"absolute inset-0 opacity-10",children:l.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ff0000' fill-opacity='0.4'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),l.jsx("div",{className:"relative z-10 text-center px-4 sm:px-6 max-w-6xl mx-auto py-12",children:l.jsxs(Or.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[l.jsx(Or.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2,duration:.6},className:"mb-8",children:l.jsxs("h1",{className:"text-5xl sm:text-6xl md:text-8xl font-black mb-6 leading-tight",children:[l.jsx("span",{className:"text-gradient",children:"ELEVATE"}),l.jsx("br",{}),l.jsx("span",{className:"text-white",children:"YOUR EVENT"})]})}),l.jsxs(Or.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6,duration:.8},children:[l.jsx("p",{className:"text-xl sm:text-2xl md:text-3xl text-gray-300 mb-4 max-w-3xl mx-auto font-semibold",children:"Professional Live Stream Production at Zero Cost to Your Organization"}),l.jsx("p",{className:"text-lg sm:text-xl md:text-2xl text-gray-400 mb-12 max-w-2xl mx-auto",children:"We produce your event for free + you earn revenue from PPV that you weren't before"})]}),l.jsxs(Or.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1,duration:.6},className:"mb-16",children:[l.jsxs("button",{onClick:t,className:"group px-8 sm:px-12 py-4 sm:py-5 bg-primary-600 hover:bg-primary-700 text-white font-black rounded-lg text-lg sm:text-xl transition-all hover:scale-105 card-glow inline-flex items-center gap-3",children:["Get Your Free Analysis",l.jsx(nf,{className:"w-6 h-6 group-hover:translate-x-1 transition-transform"})]}),l.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"See what your promotion is worth in 2 minutes  Zero commitment"})]}),l.jsx(Or.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.2,duration:.6},className:"mb-16 max-w-4xl mx-auto",children:l.jsx("div",{className:"relative rounded-xl overflow-hidden bg-gradient-to-br from-dark-900 via-dark-800 to-dark-900 border-2 border-gray-700 hover:border-primary-600/50 transition-all group cursor-pointer",children:l.jsxs("div",{className:"aspect-video flex items-center justify-center relative",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary-900/30 via-transparent to-orange-900/30"}),l.jsxs("div",{className:"relative z-10 flex flex-col items-center gap-4",children:[l.jsx("div",{className:"w-20 h-20 sm:w-24 sm:h-24 bg-primary-600 rounded-full flex items-center justify-center group-hover:scale-110 transition-transform shadow-lg",children:l.jsx("svg",{className:"w-10 h-10 sm:w-12 sm:h-12 text-white ml-1",fill:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{d:"M8 5v14l11-7z"})})}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-xl sm:text-2xl font-bold text-white mb-2",children:"See Our Work in Action"}),l.jsx("p",{className:"text-sm sm:text-base text-gray-300",children:"Watch how we transform combat sports events into premium broadcast experiences"})]})]})]})})}),l.jsx(Or.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.4,duration:.8},className:"grid grid-cols-1 sm:grid-cols-3 gap-6 sm:gap-8 max-w-4xl mx-auto",children:[{icon:Nm,title:"Industry Leading Live Production",desc:"Professional multi-camera production that commands respect"},{icon:r2,title:"3-10x Audience Growth",desc:"Grow Your Audience 3-10x With Professional Content"},{icon:T0,title:"Unlock Hidden Revenue",desc:"Unlock Revenue Streams You're Currently Leaving on the Table"}].map((e,r)=>l.jsxs(Or.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.6+r*.1,duration:.6},className:"bg-dark-900/60 backdrop-blur-sm border border-gray-800 rounded-xl p-6 hover:border-primary-600/50 transition-all",children:[l.jsx(e.icon,{className:"w-10 h-10 sm:w-12 sm:h-12 text-primary-500 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg sm:text-xl font-bold text-white mb-2",children:e.title}),l.jsx("p",{className:"text-sm sm:text-base text-gray-400",children:e.desc})]},r))}),l.jsxs(Or.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:2,duration:.8},className:"mt-12 sm:mt-16",children:[l.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-6 max-w-4xl mx-auto mb-8",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-3xl sm:text-4xl font-black text-primary-500",children:"25+"}),l.jsx("p",{className:"text-xs sm:text-sm text-gray-400 mt-1",children:"Live Events Covered"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-3xl sm:text-4xl font-black text-primary-500",children:"4"}),l.jsx("p",{className:"text-xs sm:text-sm text-gray-400 mt-1",children:"Countries Worldwide"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-3xl sm:text-4xl font-black text-primary-500",children:"Australia Wide"}),l.jsx("p",{className:"text-xs sm:text-sm text-gray-400 mt-1",children:"+ International"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-3xl sm:text-4xl font-black text-primary-500",children:"100%"}),l.jsx("p",{className:"text-xs sm:text-sm text-gray-400 mt-1",children:"Client Satisfaction"})]})]}),l.jsxs("div",{className:"max-w-2xl mx-auto bg-dark-900/60 backdrop-blur-sm border border-green-700/50 rounded-xl p-5",children:[l.jsx("p",{className:"text-green-400 text-sm sm:text-base font-semibold mb-2",children:" Free Consultation  No Commitment Required"}),l.jsx("p",{className:"text-gray-400 text-xs sm:text-sm",children:"We'll analyze your organization and show you exactly what's possible  even if you're not ready to start yet."})]})]})]})})]}),Wpe=({formData:t,updateFormData:e,setFormDataBulk:r,setAnalysis:n,nextStep:i,prevStep:s})=>{j.useEffect(()=>{if(t.orgName){const o=a();n(o)}},[t]);const a=()=>{let o="Grassroots",d=0;t.showsPerYear>=12?d+=3:t.showsPerYear>=6?d+=2:t.showsPerYear>=3&&(d+=1),t.avgAttendance>=800?d+=3:t.avgAttendance>=400?d+=2:t.avgAttendance>=150&&(d+=1),t.socialFollowing>=5e4?d+=3:t.socialFollowing>=15e3?d+=2:t.socialFollowing>=3e3&&(d+=1),t.venueCapacity>=1500?d+=2:t.venueCapacity>=500&&(d+=1),t.sponsorshipLevel==="strong"?d+=2:t.sponsorshipLevel==="moderate"&&(d+=1),(t.growthTrajectory==="rapidly-growing"||t.growthTrajectory==="growing")&&(d+=1),d>=10?o="Major":d>=7?o="Established":d>=4&&(o="Regional");let f=[],A="flat";o==="Major"?(f=["Media Partnership","Full Media Buyout"],A="partnership"):o==="Established"?(f=["Broadcast Premium","Media Partnership"],A="hybrid"):o==="Regional"?(f=["Professional Production"],A="flat"):(f=["Essential Coverage"],A="flat");const p=c();return{tier:o,tierScore:d,recommendedPackages:f,pricingModel:A,potentialStreamingRevenue:p}},c=()=>{const o=Math.round(t.avgAttendance*1.5),d=Math.round(o*.4),f=25,A=d*f,p=A*t.showsPerYear,g=t.avgAttendance>=500?2e3:t.avgAttendance>=200?1e3:500,y=g*t.showsPerYear,v=1200,b=v*t.showsPerYear,w=t.showsPerYear*500,S=A+g+v,_=p+y+b;return{perEvent:Math.round(A),annual:Math.round(p),viewerEstimate:o,expectedPurchases:d,ppvPrice:f,sponsorRevenue:{perEvent:g,annual:y},contentValue:{perEvent:v,annual:b},socialGrowth:{followersPerYear:w,valueDescription:`${w.toLocaleString()} new followers/year`},totalROI:{perEvent:Math.round(S),annual:Math.round(_)}}},u=t.orgName.trim().length>0;return l.jsx("section",{className:"min-h-screen py-12 sm:py-20 px-4",children:l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsxs(Or.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-8 sm:mb-12",children:[l.jsxs("div",{className:"inline-flex items-center gap-3 mb-4",children:[l.jsx(Aue,{className:"w-10 h-10 sm:w-12 sm:h-12 text-primary-500"}),l.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-black",children:l.jsx("span",{className:"text-gradient",children:"Tell Us About Your Organization"})})]}),l.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-300 max-w-2xl mx-auto",children:"We'll analyze your profile and recommend the perfect media solution"})]}),l.jsxs(Or.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"bg-dark-800 border border-gray-700 rounded-xl p-6 sm:p-8",children:[l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm sm:text-base font-semibold mb-3 text-gray-300",children:["Organization Name ",l.jsx("span",{className:"text-primary-500",children:"*"})]}),l.jsx("input",{type:"text",value:t.orgName,onChange:o=>e("orgName",o.target.value),className:"w-full px-4 py-3 sm:py-4 bg-dark-900 border-2 border-gray-700 rounded-lg text-white text-base sm:text-lg focus:border-primary-600 focus:outline-none transition-colors",placeholder:"Enter organization name..."})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm sm:text-base font-semibold mb-3 text-gray-300",children:["Shows Per Year: ",l.jsx("span",{className:"text-primary-500 text-lg sm:text-xl font-bold",children:t.showsPerYear})]}),l.jsx("input",{type:"range",min:"1",max:"24",value:t.showsPerYear,onChange:o=>e("showsPerYear",parseInt(o.target.value)),className:"w-full h-3 accent-primary-600"}),l.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[l.jsx("span",{children:"1"}),l.jsx("span",{children:"24"})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm sm:text-base font-semibold mb-3 text-gray-300",children:["Average Attendance: ",l.jsx("span",{className:"text-primary-500 text-lg sm:text-xl font-bold",children:t.avgAttendance})]}),l.jsx("input",{type:"range",min:"50",max:"2000",step:"50",value:t.avgAttendance,onChange:o=>e("avgAttendance",parseInt(o.target.value)),className:"w-full h-3 accent-primary-600"}),l.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[l.jsx("span",{children:"50"}),l.jsx("span",{children:"2,000"})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm sm:text-base font-semibold mb-3 text-gray-300",children:["Venue Capacity: ",l.jsx("span",{className:"text-primary-500 text-lg sm:text-xl font-bold",children:t.venueCapacity})]}),l.jsx("input",{type:"range",min:"100",max:"3000",step:"100",value:t.venueCapacity,onChange:o=>e("venueCapacity",parseInt(o.target.value)),className:"w-full h-3 accent-primary-600"}),l.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[l.jsx("span",{children:"100"}),l.jsx("span",{children:"3,000"})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm sm:text-base font-semibold mb-3 text-gray-300",children:["Social Media Following: ",l.jsx("span",{className:"text-primary-500 text-lg sm:text-xl font-bold",children:t.socialFollowing.toLocaleString()})]}),l.jsx("input",{type:"range",min:"1000",max:"200000",step:"1000",value:t.socialFollowing,onChange:o=>e("socialFollowing",parseInt(o.target.value)),className:"w-full h-3 accent-primary-600"}),l.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[l.jsx("span",{children:"1k"}),l.jsx("span",{children:"200k"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm sm:text-base font-semibold mb-3 text-gray-300",children:"Current Media Setup"}),l.jsxs("select",{value:t.currentMedia,onChange:o=>e("currentMedia",o.target.value),className:"w-full px-4 py-3 sm:py-4 bg-dark-900 border-2 border-gray-700 rounded-lg text-white text-base focus:border-primary-600 focus:outline-none appearance-none cursor-pointer",children:[l.jsx("option",{value:"none",children:"No media coverage"}),l.jsx("option",{value:"basic",children:"Basic (smartphone/amateur)"}),l.jsx("option",{value:"semi",children:"Semi-professional"}),l.jsx("option",{value:"pro",children:"Professional production"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm sm:text-base font-semibold mb-3 text-gray-300",children:"Geographic Reach"}),l.jsxs("select",{value:t.geoReach,onChange:o=>e("geoReach",o.target.value),className:"w-full px-4 py-3 sm:py-4 bg-dark-900 border-2 border-gray-700 rounded-lg text-white text-base focus:border-primary-600 focus:outline-none appearance-none cursor-pointer",children:[l.jsx("option",{value:"local",children:"Local"}),l.jsx("option",{value:"state",children:"State/Regional"}),l.jsx("option",{value:"national",children:"National"}),l.jsx("option",{value:"international",children:"International"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm sm:text-base font-semibold mb-3 text-gray-300",children:"Sponsorship Level"}),l.jsxs("select",{value:t.sponsorshipLevel,onChange:o=>e("sponsorshipLevel",o.target.value),className:"w-full px-4 py-3 sm:py-4 bg-dark-900 border-2 border-gray-700 rounded-lg text-white text-base focus:border-primary-600 focus:outline-none appearance-none cursor-pointer",children:[l.jsx("option",{value:"none",children:"No sponsors"}),l.jsx("option",{value:"few",children:"Few local sponsors"}),l.jsx("option",{value:"moderate",children:"Moderate sponsorship"}),l.jsx("option",{value:"strong",children:"Strong sponsor portfolio"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm sm:text-base font-semibold mb-3 text-gray-300",children:"Growth Trajectory"}),l.jsxs("select",{value:t.growthTrajectory,onChange:o=>e("growthTrajectory",o.target.value),className:"w-full px-4 py-3 sm:py-4 bg-dark-900 border-2 border-gray-700 rounded-lg text-white text-base focus:border-primary-600 focus:outline-none appearance-none cursor-pointer",children:[l.jsx("option",{value:"declining",children:"Declining"}),l.jsx("option",{value:"stable",children:"Stable"}),l.jsx("option",{value:"growing",children:"Growing"}),l.jsx("option",{value:"rapidly-growing",children:"Rapidly Growing"})]})]})]}),l.jsx("div",{className:"mt-8 sm:mt-10",children:l.jsxs("div",{className:"flex gap-3",children:[l.jsxs("button",{onClick:s,className:"flex-1 flex items-center justify-center gap-2 px-6 py-4 bg-dark-700 hover:bg-dark-600 text-white font-bold rounded-lg transition-all text-base sm:text-lg",children:[l.jsx(_0,{className:"w-5 h-5"}),"Back"]}),l.jsxs("button",{onClick:i,disabled:!u,className:"flex-[2] flex items-center justify-center gap-2 px-6 py-4 bg-primary-600 hover:bg-primary-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white font-bold rounded-lg transition-all hover:scale-[1.02] text-base sm:text-lg",children:["Continue to Analysis",l.jsx(nf,{className:"w-5 h-5"})]})]})})]})]})})};function Pq(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=Pq(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Xs(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=Pq(t))&&(n&&(n+=" "),n+=e);return n}var Ype=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function u3(t){if(typeof t!="string")return!1;var e=Ype;return e.includes(t)}var qpe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Xpe=new Set(qpe);function Dq(t){return typeof t!="string"?!1:Xpe.has(t)}function Mq(t){return typeof t=="string"&&t.startsWith("data-")}function Vc(t){if(typeof t!="object"||t===null)return{};var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(Dq(r)||Mq(r))&&(e[r]=t[r]);return e}function Zv(t){if(t==null)return null;if(j.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return Vc(e)}return typeof t=="object"&&!Array.isArray(t)?Vc(t):null}function Au(t){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(Dq(r)||Mq(r)||u3(r))&&(e[r]=t[r]);return e}function Zpe(t){return t==null?null:j.isValidElement(t)?Au(t.props):typeof t=="object"&&!Array.isArray(t)?Au(t):null}var Jpe=["children","width","height","viewBox","className","style","title","desc"];function d4(){return d4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},d4.apply(null,arguments)}function ege(t,e){if(t==null)return{};var r,n,i=tge(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function tge(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var d3=j.forwardRef((t,e)=>{var{children:r,width:n,height:i,viewBox:s,className:a,style:c,title:u,desc:o}=t,d=ege(t,Jpe),f=s||{width:n,height:i,x:0,y:0},A=Xs("recharts-surface",a);return j.createElement("svg",d4({},Au(d),{className:A,width:n,height:i,style:c,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:e}),j.createElement("title",null,u),j.createElement("desc",null,o),r)}),rge=["children","className"];function h4(){return h4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},h4.apply(null,arguments)}function nge(t,e){if(t==null)return{};var r,n,i=ige(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function ige(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var nc=j.forwardRef((t,e)=>{var{children:r,className:n}=t,i=nge(t,rge),s=Xs("recharts-layer",n);return j.createElement("g",h4({className:s},Au(i),{ref:e}),r)}),Fq=j.createContext(null),sge=()=>j.useContext(Fq);function Yo(t){return function(){return t}}const Uq=Math.cos,uC=Math.sin,BA=Math.sqrt,dC=Math.PI,gN=2*dC,f4=Math.PI,A4=2*f4,nv=1e-6,age=A4-nv;function $q(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function oge(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return $q;const r=10**e;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class lge{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?$q:oge(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,s,a){this._append`C${+e},${+r},${+n},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,r,n,i,s){if(e=+e,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,c=this._y1,u=n-e,o=i-r,d=a-e,f=c-r,A=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(A>nv)if(!(Math.abs(f*u-o*d)>nv)||!s)this._append`L${this._x1=e},${this._y1=r}`;else{let p=n-a,g=i-c,y=u*u+o*o,v=p*p+g*g,b=Math.sqrt(y),w=Math.sqrt(A),S=s*Math.tan((f4-Math.acos((y+A-v)/(2*b*w)))/2),_=S/w,T=S/b;Math.abs(_-1)>nv&&this._append`L${e+_*d},${r+_*f}`,this._append`A${s},${s},0,0,${+(f*p>d*g)},${this._x1=e+T*u},${this._y1=r+T*o}`}}arc(e,r,n,i,s,a){if(e=+e,r=+r,n=+n,a=!!a,n<0)throw new Error(`negative radius: ${n}`);let c=n*Math.cos(i),u=n*Math.sin(i),o=e+c,d=r+u,f=1^a,A=a?i-s:s-i;this._x1===null?this._append`M${o},${d}`:(Math.abs(this._x1-o)>nv||Math.abs(this._y1-d)>nv)&&this._append`L${o},${d}`,n&&(A<0&&(A=A%A4+A4),A>age?this._append`A${n},${n},0,1,${f},${e-c},${r-u}A${n},${n},0,1,${f},${this._x1=o},${this._y1=d}`:A>nv&&this._append`A${n},${n},0,${+(A>=f4)},${f},${this._x1=e+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function h3(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new lge(e)}function f3(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Hq(t){this._context=t}Hq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function vN(t){return new Hq(t)}function Qq(t){return t[0]}function Vq(t){return t[1]}function Kq(t,e){var r=Yo(!0),n=null,i=vN,s=null,a=h3(c);t=typeof t=="function"?t:t===void 0?Qq:Yo(t),e=typeof e=="function"?e:e===void 0?Vq:Yo(e);function c(u){var o,d=(u=f3(u)).length,f,A=!1,p;for(n==null&&(s=i(p=a())),o=0;o<=d;++o)!(o<d&&r(f=u[o],o,u))===A&&((A=!A)?s.lineStart():s.lineEnd()),A&&s.point(+t(f,o,u),+e(f,o,u));if(p)return s=null,p+""||null}return c.x=function(u){return arguments.length?(t=typeof u=="function"?u:Yo(+u),c):t},c.y=function(u){return arguments.length?(e=typeof u=="function"?u:Yo(+u),c):e},c.defined=function(u){return arguments.length?(r=typeof u=="function"?u:Yo(!!u),c):r},c.curve=function(u){return arguments.length?(i=u,n!=null&&(s=i(n)),c):i},c.context=function(u){return arguments.length?(u==null?n=s=null:s=i(n=u),c):n},c}function pS(t,e,r){var n=null,i=Yo(!0),s=null,a=vN,c=null,u=h3(o);t=typeof t=="function"?t:t===void 0?Qq:Yo(+t),e=typeof e=="function"?e:Yo(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?Vq:Yo(+r);function o(f){var A,p,g,y=(f=f3(f)).length,v,b=!1,w,S=new Array(y),_=new Array(y);for(s==null&&(c=a(w=u())),A=0;A<=y;++A){if(!(A<y&&i(v=f[A],A,f))===b)if(b=!b)p=A,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),g=A-1;g>=p;--g)c.point(S[g],_[g]);c.lineEnd(),c.areaEnd()}b&&(S[A]=+t(v,A,f),_[A]=+e(v,A,f),c.point(n?+n(v,A,f):S[A],r?+r(v,A,f):_[A]))}if(w)return c=null,w+""||null}function d(){return Kq().defined(i).curve(a).context(s)}return o.x=function(f){return arguments.length?(t=typeof f=="function"?f:Yo(+f),n=null,o):t},o.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Yo(+f),o):t},o.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Yo(+f),o):n},o.y=function(f){return arguments.length?(e=typeof f=="function"?f:Yo(+f),r=null,o):e},o.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Yo(+f),o):e},o.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Yo(+f),o):r},o.lineX0=o.lineY0=function(){return d().x(t).y(e)},o.lineY1=function(){return d().x(t).y(r)},o.lineX1=function(){return d().x(n).y(e)},o.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Yo(!!f),o):i},o.curve=function(f){return arguments.length?(a=f,s!=null&&(c=a(s)),o):a},o.context=function(f){return arguments.length?(f==null?s=c=null:c=a(s=f),o):s},o}class Gq{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function cge(t){return new Gq(t,!0)}function uge(t){return new Gq(t,!1)}const A3={draw(t,e){const r=BA(e/dC);t.moveTo(r,0),t.arc(0,0,r,0,gN)}},dge={draw(t,e){const r=BA(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},zq=BA(1/3),hge=zq*2,fge={draw(t,e){const r=BA(e/hge),n=r*zq;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},Age={draw(t,e){const r=BA(e),n=-r/2;t.rect(n,n,r,r)}},mge=.8908130915292852,Wq=uC(dC/10)/uC(7*dC/10),pge=uC(gN/10)*Wq,gge=-Uq(gN/10)*Wq,vge={draw(t,e){const r=BA(e*mge),n=pge*r,i=gge*r;t.moveTo(0,-r),t.lineTo(n,i);for(let s=1;s<5;++s){const a=gN*s/5,c=Uq(a),u=uC(a);t.lineTo(u*r,-c*r),t.lineTo(c*n-u*i,u*n+c*i)}t.closePath()}},$I=BA(3),yge={draw(t,e){const r=-BA(e/($I*3));t.moveTo(0,r*2),t.lineTo(-$I*r,-r),t.lineTo($I*r,-r),t.closePath()}},Sf=-.5,_f=BA(3)/2,m4=1/BA(12),xge=(m4/2+1)*3,bge={draw(t,e){const r=BA(e/xge),n=r/2,i=r*m4,s=n,a=r*m4+r,c=-s,u=a;t.moveTo(n,i),t.lineTo(s,a),t.lineTo(c,u),t.lineTo(Sf*n-_f*i,_f*n+Sf*i),t.lineTo(Sf*s-_f*a,_f*s+Sf*a),t.lineTo(Sf*c-_f*u,_f*c+Sf*u),t.lineTo(Sf*n+_f*i,Sf*i-_f*n),t.lineTo(Sf*s+_f*a,Sf*a-_f*s),t.lineTo(Sf*c+_f*u,Sf*u-_f*c),t.closePath()}};function wge(t,e){let r=null,n=h3(i);t=typeof t=="function"?t:Yo(t||A3),e=typeof e=="function"?e:Yo(e===void 0?64:+e);function i(){let s;if(r||(r=s=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:Yo(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Yo(+s),i):e},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function hC(){}function fC(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function Yq(t){this._context=t}Yq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:fC(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:fC(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Ege(t){return new Yq(t)}function qq(t){this._context=t}qq.prototype={areaStart:hC,areaEnd:hC,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:fC(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Sge(t){return new qq(t)}function Xq(t){this._context=t}Xq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:fC(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function _ge(t){return new Xq(t)}function Zq(t){this._context=t}Zq.prototype={areaStart:hC,areaEnd:hC,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Tge(t){return new Zq(t)}function p7(t){return t<0?-1:1}function g7(t,e,r){var n=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(n||i<0&&-0),a=(r-t._y1)/(i||n<0&&-0),c=(s*i+a*n)/(n+i);return(p7(s)+p7(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(c))||0}function v7(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function HI(t,e,r){var n=t._x0,i=t._y0,s=t._x1,a=t._y1,c=(s-n)/3;t._context.bezierCurveTo(n+c,i+c*e,s-c,a-c*r,s,a)}function AC(t){this._context=t}AC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:HI(this,this._t0,v7(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,HI(this,v7(this,r=g7(this,t,e)),r);break;default:HI(this,this._t0,r=g7(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function Jq(t){this._context=new eX(t)}(Jq.prototype=Object.create(AC.prototype)).point=function(t,e){AC.prototype.point.call(this,e,t)};function eX(t){this._context=t}eX.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,s){this._context.bezierCurveTo(e,t,n,r,s,i)}};function Cge(t){return new AC(t)}function jge(t){return new Jq(t)}function tX(t){this._context=t}tX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=y7(t),i=y7(e),s=0,a=1;a<r;++s,++a)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],t[a],e[a]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function y7(t){var e,r=t.length-1,n,i=new Array(r),s=new Array(r),a=new Array(r);for(i[0]=0,s[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,s[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,s[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/s[e-1],s[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/s[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function Nge(t){return new tX(t)}function yN(t,e){this._context=t,this._t=e}yN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function Ige(t){return new yN(t,.5)}function kge(t){return new yN(t,0)}function Bge(t){return new yN(t,1)}function Jv(t,e){if((a=t.length)>1)for(var r=1,n,i,s=t[e[0]],a,c=s.length;r<a;++r)for(i=s,s=t[e[r]],n=0;n<c;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function p4(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function Lge(t,e){return t[e]}function Rge(t){const e=[];return e.key=t,e}function Oge(){var t=Yo([]),e=p4,r=Jv,n=Lge;function i(s){var a=Array.from(t.apply(this,arguments),Rge),c,u=a.length,o=-1,d;for(const f of s)for(c=0,++o;c<u;++c)(a[c][o]=[0,+n(f,a[c].key,o,s)]).data=f;for(c=0,d=f3(e(a));c<u;++c)a[d[c]].index=c;return r(a,d),a}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Yo(Array.from(s)),i):t},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:Yo(+s),i):n},i.order=function(s){return arguments.length?(e=s==null?p4:typeof s=="function"?s:Yo(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(r=s??Jv,i):r},i}function Pge(t,e){if((n=t.length)>0){for(var r,n,i=0,s=t[0].length,a;i<s;++i){for(a=r=0;r<n;++r)a+=t[r][i][1]||0;if(a)for(r=0;r<n;++r)t[r][i][1]/=a}Jv(t,e)}}function Dge(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,s=n.length;r<s;++r){for(var a=0,c=0;a<i;++a)c+=t[a][r][1]||0;n[r][1]+=n[r][0]=-c/2}Jv(t,e)}}function Mge(t,e){if(!(!((a=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,s,a;n<s;++n){for(var c=0,u=0,o=0;c<a;++c){for(var d=t[e[c]],f=d[n][1]||0,A=d[n-1][1]||0,p=(f-A)/2,g=0;g<c;++g){var y=t[e[g]],v=y[n][1]||0,b=y[n-1][1]||0;p+=v-b}u+=f,o+=p*f}i[n-1][1]+=i[n-1][0]=r,u&&(r-=o/u)}i[n-1][1]+=i[n-1][0]=r,Jv(t,e)}}var QI={},VI={},x7;function Fge(){return x7||(x7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==="__proto__"}t.isUnsafeProperty=e})(VI)),VI}var KI={},b7;function rX(){return b7||(b7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}t.isDeepKey=e})(KI)),KI}var GI={},w7;function m3(){return w7||(w7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}t.toKey=e})(GI)),GI}var zI={},WI={},E7;function Uge(){return E7||(E7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(e).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}t.toString=e})(WI)),WI}var S7;function p3(){return S7||(S7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Uge(),r=m3();function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const s=[],a=i.length;if(a===0)return s;let c=0,u="",o="",d=!1;for(i.charCodeAt(0)===46&&(s.push(""),c++);c<a;){const f=i[c];o?f==="\\"&&c+1<a?(c++,u+=i[c]):f===o?o="":u+=f:d?f==='"'||f==="'"?o=f:f==="]"?(d=!1,s.push(u),u=""):u+=f:f==="["?(d=!0,u&&(s.push(u),u="")):f==="."?u&&(s.push(u),u=""):u+=f,c++}return u&&s.push(u),s}t.toPath=n})(zI)),zI}var _7;function g3(){return _7||(_7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Fge(),r=rX(),n=m3(),i=p3();function s(c,u,o){if(c==null)return o;switch(typeof u){case"string":{if(e.isUnsafeProperty(u))return o;const d=c[u];return d===void 0?r.isDeepKey(u)?s(c,i.toPath(u),o):o:d}case"number":case"symbol":{typeof u=="number"&&(u=n.toKey(u));const d=c[u];return d===void 0?o:d}default:{if(Array.isArray(u))return a(c,u,o);if(Object.is(u?.valueOf(),-0)?u="-0":u=String(u),e.isUnsafeProperty(u))return o;const d=c[u];return d===void 0?o:d}}}function a(c,u,o){if(u.length===0)return o;let d=c;for(let f=0;f<u.length;f++){if(d==null||e.isUnsafeProperty(u[f]))return o;d=d[u[f]]}return d===void 0?o:d}t.get=s})(QI)),QI}var YI,T7;function $ge(){return T7||(T7=1,YI=g3().get),YI}var Hge=$ge();const ey=IA(Hge);var Qge=4;function d0(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qge,r=10**e,n=Math.round(t*r)/r;return Object.is(n,-0)?0:n}function jl(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return t.reduce((i,s,a)=>{var c=r[a-1];return typeof c=="string"?i+c+s:c!==void 0?i+d0(c)+s:i+s},"")}var Vu=t=>t===0?0:t>0?1:-1,Om=t=>typeof t=="number"&&t!=+t,ty=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,ti=t=>(typeof t=="number"||t instanceof Number)&&!Om(t),Pm=t=>ti(t)||typeof t=="string",Vge=0,aE=t=>{var e=++Vge;return"".concat(t||"").concat(e)},Od=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ti(e)&&typeof e!="string")return n;var s;if(ty(e)){if(r==null)return n;var a=e.indexOf("%");s=r*parseFloat(e.slice(0,a))/100}else s=+e;return Om(s)&&(s=n),i&&r!=null&&s>r&&(s=r),s},nX=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,r={},n=0;n<e;n++)if(!r[String(t[n])])r[String(t[n])]=!0;else return!0;return!1};function Nl(t,e,r){return ti(t)&&ti(e)?d0(t+r*(e-t)):e}function Kge(t,e,r){if(!(!t||!t.length))return t.find(n=>n&&(typeof e=="function"?e(n):ey(n,e))===r)}var wc=t=>t===null||typeof t>"u",c2=t=>wc(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function _h(t){return t!=null}function N0(){}var Gge=["type","size","sizeType"];function g4(){return g4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},g4.apply(null,arguments)}function C7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function j7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?C7(Object(r),!0).forEach(function(n){zge(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):C7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zge(t,e,r){return(e=Wge(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wge(t){var e=Yge(t,"string");return typeof e=="symbol"?e:e+""}function Yge(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qge(t,e){if(t==null)return{};var r,n,i=Xge(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Xge(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var iX={symbolCircle:A3,symbolCross:dge,symbolDiamond:fge,symbolSquare:Age,symbolStar:vge,symbolTriangle:yge,symbolWye:bge},Zge=Math.PI/180,Jge=t=>{var e="symbol".concat(c2(t));return iX[e]||A3},e0e=(t,e,r)=>{if(e==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var n=18*Zge;return 1.25*t*t*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},t0e=(t,e)=>{iX["symbol".concat(c2(t))]=e},v3=t=>{var{type:e="circle",size:r=64,sizeType:n="area"}=t,i=qge(t,Gge),s=j7(j7({},i),{},{type:e,size:r,sizeType:n}),a="circle";typeof e=="string"&&(a=e);var c=()=>{var A=Jge(a),p=wge().type(A).size(e0e(r,n,a)),g=p();if(g!==null)return g},{className:u,cx:o,cy:d}=s,f=Au(s);return ti(o)&&ti(d)&&ti(r)?j.createElement("path",g4({},f,{className:Xs("recharts-symbols",u),transform:"translate(".concat(o,", ").concat(d,")"),d:c()})):null};v3.registerSymbol=t0e;var sX=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,y3=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(j.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{u3(i)&&(n[i]=(s=>r[i](r,s)))}),n},r0e=(t,e,r)=>n=>(t(e,r,n),null),Vb=(t,e,r)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var n=null;return Object.keys(t).forEach(i=>{var s=t[i];u3(i)&&typeof s=="function"&&(n||(n={}),n[i]=r0e(s,e,r))}),n};function N7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function n0e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?N7(Object(r),!0).forEach(function(n){i0e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):N7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function i0e(t,e,r){return(e=s0e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s0e(t){var e=a0e(t,"string");return typeof e=="symbol"?e:e+""}function a0e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sc(t,e){var r=n0e({},t),n=e,i=Object.keys(e),s=i.reduce((a,c)=>(a[c]===void 0&&n[c]!==void 0&&(a[c]=n[c]),a),r);return s}function mC(){return mC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mC.apply(null,arguments)}function I7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function o0e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?I7(Object(r),!0).forEach(function(n){l0e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):I7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function l0e(t,e,r){return(e=c0e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c0e(t){var e=u0e(t,"string");return typeof e=="symbol"?e:e+""}function u0e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lf=32,d0e={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function h0e(t){var{data:e,iconType:r,inactiveColor:n}=t,i=Lf/2,s=Lf/6,a=Lf/3,c=e.inactive?n:e.color,u=r??e.type;if(u==="none")return null;if(u==="plainline"){var o;return j.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:(o=e.payload)===null||o===void 0?void 0:o.strokeDasharray,x1:0,y1:i,x2:Lf,y2:i,className:"recharts-legend-icon"})}if(u==="line")return j.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*a,",").concat(i,`
            H`).concat(Lf,"M").concat(2*a,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(a,",").concat(i),className:"recharts-legend-icon"});if(u==="rect")return j.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Lf/8,"h").concat(Lf,"v").concat(Lf*3/4,"h").concat(-Lf,"z"),className:"recharts-legend-icon"});if(j.isValidElement(e.legendIcon)){var d=o0e({},e);return delete d.legendIcon,j.cloneElement(e.legendIcon,d)}return j.createElement(v3,{fill:c,cx:i,cy:i,size:Lf,sizeType:"diameter",type:u})}function f0e(t){var{payload:e,iconSize:r,layout:n,formatter:i,inactiveColor:s,iconType:a}=t,c={x:0,y:0,width:Lf,height:Lf},u={display:n==="horizontal"?"inline-block":"block",marginRight:10},o={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((d,f)=>{var A=d.formatter||i,p=Xs({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var g=d.inactive?s:d.color,y=A?A(d.value,d,f):d.value;return j.createElement("li",mC({className:p,style:u,key:"legend-item-".concat(f)},Vb(t,d,f)),j.createElement(d3,{width:r,height:r,viewBox:c,style:o,"aria-label":"".concat(y," legend icon")},j.createElement(h0e,{data:d,iconType:a,inactiveColor:s})),j.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},y))})}var A0e=t=>{var e=sc(t,d0e),{payload:r,layout:n,align:i}=e;if(!r||!r.length)return null;var s={padding:0,margin:0,textAlign:n==="horizontal"?i:"left"};return j.createElement("ul",{className:"recharts-default-legend",style:s},j.createElement(f0e,mC({},e,{payload:r})))},qI={},XI={},k7;function m0e(){return k7||(k7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){const i=new Map;for(let s=0;s<r.length;s++){const a=r[s],c=n(a,s,r);i.has(c)||i.set(c,a)}return Array.from(i.values())}t.uniqBy=e})(XI)),XI}var ZI={},B7;function p0e(){return B7||(B7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){return function(...i){return r.apply(this,i.slice(0,n))}}t.ary=e})(ZI)),ZI}var JI={},L7;function aX(){return L7||(L7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r}t.identity=e})(JI)),JI}var ek={},tk={},rk={},R7;function g0e(){return R7||(R7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Number.isSafeInteger(r)&&r>=0}t.isLength=e})(rk)),rk}var O7;function x3(){return O7||(O7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=g0e();function r(n){return n!=null&&typeof n!="function"&&e.isLength(n.length)}t.isArrayLike=r})(tk)),tk}var nk={},P7;function v0e(){return P7||(P7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="object"&&r!==null}t.isObjectLike=e})(nk)),nk}var D7;function y0e(){return D7||(D7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=x3(),r=v0e();function n(i){return r.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=n})(ek)),ek}var ik={},sk={},M7;function x0e(){return M7||(M7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=g3();function r(n){return function(i){return e.get(i,n)}}t.property=r})(sk)),sk}var ak={},ok={},lk={},ck={},F7;function oX(){return F7||(F7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r!==null&&(typeof r=="object"||typeof r=="function")}t.isObject=e})(ck)),ck}var uk={},U7;function lX(){return U7||(U7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null||typeof r!="object"&&typeof r!="function"}t.isPrimitive=e})(uk)),uk}var dk={},$7;function cX(){return $7||($7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}t.isEqualsSameValueZero=e})(dk)),dk}var H7;function b0e(){return H7||(H7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=oX(),r=lX(),n=cX();function i(d,f,A){return typeof A!="function"?i(d,f,()=>{}):s(d,f,function p(g,y,v,b,w,S){const _=A(g,y,v,b,w,S);return _!==void 0?!!_:s(g,y,p,S)},new Map)}function s(d,f,A,p){if(f===d)return!0;switch(typeof f){case"object":return a(d,f,A,p);case"function":return Object.keys(f).length>0?s(d,{...f},A,p):n.isEqualsSameValueZero(d,f);default:return e.isObject(d)?typeof f=="string"?f==="":!0:n.isEqualsSameValueZero(d,f)}}function a(d,f,A,p){if(f==null)return!0;if(Array.isArray(f))return u(d,f,A,p);if(f instanceof Map)return c(d,f,A,p);if(f instanceof Set)return o(d,f,A,p);const g=Object.keys(f);if(d==null||r.isPrimitive(d))return g.length===0;if(g.length===0)return!0;if(p?.has(f))return p.get(f)===d;p?.set(f,d);try{for(let y=0;y<g.length;y++){const v=g[y];if(!r.isPrimitive(d)&&!(v in d)||f[v]===void 0&&d[v]!==void 0||f[v]===null&&d[v]!==null||!A(d[v],f[v],v,d,f,p))return!1}return!0}finally{p?.delete(f)}}function c(d,f,A,p){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[g,y]of f.entries()){const v=d.get(g);if(A(v,y,g,d,f,p)===!1)return!1}return!0}function u(d,f,A,p){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const g=new Set;for(let y=0;y<f.length;y++){const v=f[y];let b=!1;for(let w=0;w<d.length;w++){if(g.has(w))continue;const S=d[w];let _=!1;if(A(S,v,y,d,f,p)&&(_=!0),_){g.add(w),b=!0;break}}if(!b)return!1}return!0}function o(d,f,A,p){return f.size===0?!0:d instanceof Set?u([...d],[...f],A,p):!1}t.isMatchWith=i,t.isSetMatch=o})(lk)),lk}var Q7;function uX(){return Q7||(Q7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=b0e();function r(n,i){return e.isMatchWith(n,i,()=>{})}t.isMatch=r})(ok)),ok}var hk={},fk={},Ak={},V7;function w0e(){return V7||(V7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}t.getSymbols=e})(Ak)),Ak}var mk={},K7;function b3(){return K7||(K7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}t.getTag=e})(mk)),mk}var pk={},G7;function dX(){return G7||(G7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",s="[object Arguments]",a="[object Symbol]",c="[object Date]",u="[object Map]",o="[object Set]",d="[object Array]",f="[object Function]",A="[object ArrayBuffer]",p="[object Object]",g="[object Error]",y="[object DataView]",v="[object Uint8Array]",b="[object Uint8ClampedArray]",w="[object Uint16Array]",S="[object Uint32Array]",_="[object BigUint64Array]",T="[object Int8Array]",L="[object Int16Array]",D="[object Int32Array]",V="[object BigInt64Array]",G="[object Float32Array]",J="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=A,t.arrayTag=d,t.bigInt64ArrayTag=V,t.bigUint64ArrayTag=_,t.booleanTag=i,t.dataViewTag=y,t.dateTag=c,t.errorTag=g,t.float32ArrayTag=G,t.float64ArrayTag=J,t.functionTag=f,t.int16ArrayTag=L,t.int32ArrayTag=D,t.int8ArrayTag=T,t.mapTag=u,t.numberTag=n,t.objectTag=p,t.regexpTag=e,t.setTag=o,t.stringTag=r,t.symbolTag=a,t.uint16ArrayTag=w,t.uint32ArrayTag=S,t.uint8ArrayTag=v,t.uint8ClampedArrayTag=b})(pk)),pk}var gk={},z7;function E0e(){return z7||(z7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}t.isTypedArray=e})(gk)),gk}var W7;function hX(){return W7||(W7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=w0e(),r=b3(),n=dX(),i=lX(),s=E0e();function a(d,f){return c(d,void 0,d,new Map,f)}function c(d,f,A,p=new Map,g=void 0){const y=g?.(d,f,A,p);if(y!==void 0)return y;if(i.isPrimitive(d))return d;if(p.has(d))return p.get(d);if(Array.isArray(d)){const v=new Array(d.length);p.set(d,v);for(let b=0;b<d.length;b++)v[b]=c(d[b],b,A,p,g);return Object.hasOwn(d,"index")&&(v.index=d.index),Object.hasOwn(d,"input")&&(v.input=d.input),v}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const v=new RegExp(d.source,d.flags);return v.lastIndex=d.lastIndex,v}if(d instanceof Map){const v=new Map;p.set(d,v);for(const[b,w]of d)v.set(b,c(w,b,A,p,g));return v}if(d instanceof Set){const v=new Set;p.set(d,v);for(const b of d)v.add(c(b,void 0,A,p,g));return v}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(s.isTypedArray(d)){const v=new(Object.getPrototypeOf(d)).constructor(d.length);p.set(d,v);for(let b=0;b<d.length;b++)v[b]=c(d[b],b,A,p,g);return v}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const v=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return p.set(d,v),u(v,d,A,p,g),v}if(typeof File<"u"&&d instanceof File){const v=new File([d],d.name,{type:d.type});return p.set(d,v),u(v,d,A,p,g),v}if(typeof Blob<"u"&&d instanceof Blob){const v=new Blob([d],{type:d.type});return p.set(d,v),u(v,d,A,p,g),v}if(d instanceof Error){const v=new d.constructor;return p.set(d,v),v.message=d.message,v.name=d.name,v.stack=d.stack,v.cause=d.cause,u(v,d,A,p,g),v}if(d instanceof Boolean){const v=new Boolean(d.valueOf());return p.set(d,v),u(v,d,A,p,g),v}if(d instanceof Number){const v=new Number(d.valueOf());return p.set(d,v),u(v,d,A,p,g),v}if(d instanceof String){const v=new String(d.valueOf());return p.set(d,v),u(v,d,A,p,g),v}if(typeof d=="object"&&o(d)){const v=Object.create(Object.getPrototypeOf(d));return p.set(d,v),u(v,d,A,p,g),v}return d}function u(d,f,A=d,p,g){const y=[...Object.keys(f),...e.getSymbols(f)];for(let v=0;v<y.length;v++){const b=y[v],w=Object.getOwnPropertyDescriptor(d,b);(w==null||w.writable)&&(d[b]=c(f[b],b,A,p,g))}}function o(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=a,t.cloneDeepWithImpl=c,t.copyProperties=u})(fk)),fk}var Y7;function S0e(){return Y7||(Y7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hX();function r(n){return e.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}t.cloneDeep=r})(hk)),hk}var q7;function _0e(){return q7||(q7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uX(),r=S0e();function n(i){return i=r.cloneDeep(i),s=>e.isMatch(s,i)}t.matches=n})(ak)),ak}var vk={},yk={},xk={},X7;function T0e(){return X7||(X7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hX(),r=b3(),n=dX();function i(s,a){return e.cloneDeepWith(s,(c,u,o,d)=>{const f=a?.(c,u,o,d);if(f!==void 0)return f;if(typeof s=="object"){if(r.getTag(s)===n.objectTag&&typeof s.constructor!="function"){const A={};return d.set(s,A),e.copyProperties(A,s,o,d),A}switch(Object.prototype.toString.call(s)){case n.numberTag:case n.stringTag:case n.booleanTag:{const A=new s.constructor(s?.valueOf());return e.copyProperties(A,s),A}case n.argumentsTag:{const A={};return e.copyProperties(A,s),A.length=s.length,A[Symbol.iterator]=s[Symbol.iterator],A}default:return}}})}t.cloneDeepWith=i})(xk)),xk}var Z7;function C0e(){return Z7||(Z7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=T0e();function r(n){return e.cloneDeepWith(n)}t.cloneDeep=r})(yk)),yk}var bk={},wk={},J7;function fX(){return J7||(J7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return e.test(n)}}t.isIndex=r})(wk)),wk}var Ek={},e$;function j0e(){return e$||(e$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=b3();function r(n){return n!==null&&typeof n=="object"&&e.getTag(n)==="[object Arguments]"}t.isArguments=r})(Ek)),Ek}var t$;function N0e(){return t$||(t$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=rX(),r=fX(),n=j0e(),i=p3();function s(a,c){let u;if(Array.isArray(c)?u=c:typeof c=="string"&&e.isDeepKey(c)&&a?.[c]==null?u=i.toPath(c):u=[c],u.length===0)return!1;let o=a;for(let d=0;d<u.length;d++){const f=u[d];if((o==null||!Object.hasOwn(o,f))&&!((Array.isArray(o)||n.isArguments(o))&&r.isIndex(f)&&f<o.length))return!1;o=o[f]}return!0}t.has=s})(bk)),bk}var r$;function I0e(){return r$||(r$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uX(),r=m3(),n=C0e(),i=g3(),s=N0e();function a(c,u){switch(typeof c){case"object":{Object.is(c?.valueOf(),-0)&&(c="-0");break}case"number":{c=r.toKey(c);break}}return u=n.cloneDeep(u),function(o){const d=i.get(o,c);return d===void 0?s.has(o,c):u===void 0?d===void 0:e.isMatch(d,u)}}t.matchesProperty=a})(vk)),vk}var n$;function k0e(){return n$||(n$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=aX(),r=x0e(),n=_0e(),i=I0e();function s(a){if(a==null)return e.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):n.matches(a);case"string":case"symbol":case"number":return r.property(a)}}t.iteratee=s})(ik)),ik}var i$;function B0e(){return i$||(i$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=m0e(),r=p0e(),n=aX(),i=y0e(),s=k0e();function a(c,u=n.identity){return i.isArrayLikeObject(c)?e.uniqBy(Array.from(c),r.ary(s.iteratee(u),1)):[]}t.uniqBy=a})(qI)),qI}var Sk,s$;function L0e(){return s$||(s$=1,Sk=B0e().uniqBy),Sk}var R0e=L0e();const a$=IA(R0e);function AX(t,e,r){return e===!0?a$(t,r):typeof e=="function"?a$(t,e):t}var _k={exports:{}},Tk={},Ck={exports:{}},jk={};var o$;function O0e(){if(o$)return jk;o$=1;var t=Db();function e(f,A){return f===A&&(f!==0||1/f===1/A)||f!==f&&A!==A}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,i=t.useEffect,s=t.useLayoutEffect,a=t.useDebugValue;function c(f,A){var p=A(),g=n({inst:{value:p,getSnapshot:A}}),y=g[0].inst,v=g[1];return s(function(){y.value=p,y.getSnapshot=A,u(y)&&v({inst:y})},[f,p,A]),i(function(){return u(y)&&v({inst:y}),f(function(){u(y)&&v({inst:y})})},[f]),a(p),p}function u(f){var A=f.getSnapshot;f=f.value;try{var p=A();return!r(f,p)}catch{return!0}}function o(f,A){return A()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?o:c;return jk.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:d,jk}var l$;function P0e(){return l$||(l$=1,Ck.exports=O0e()),Ck.exports}var c$;function D0e(){if(c$)return Tk;c$=1;var t=Db(),e=P0e();function r(o,d){return o===d&&(o!==0||1/o===1/d)||o!==o&&d!==d}var n=typeof Object.is=="function"?Object.is:r,i=e.useSyncExternalStore,s=t.useRef,a=t.useEffect,c=t.useMemo,u=t.useDebugValue;return Tk.useSyncExternalStoreWithSelector=function(o,d,f,A,p){var g=s(null);if(g.current===null){var y={hasValue:!1,value:null};g.current=y}else y=g.current;g=c(function(){function b(L){if(!w){if(w=!0,S=L,L=A(L),p!==void 0&&y.hasValue){var D=y.value;if(p(D,L))return _=D}return _=L}if(D=_,n(S,L))return D;var V=A(L);return p!==void 0&&p(D,V)?(S=L,D):(S=L,_=V)}var w=!1,S,_,T=f===void 0?null:f;return[function(){return b(d())},T===null?void 0:function(){return b(T())}]},[d,f,A,p]);var v=i(o,g[0],g[1]);return a(function(){y.hasValue=!0,y.value=v},[v]),u(v),v},Tk}var u$;function M0e(){return u$||(u$=1,_k.exports=D0e()),_k.exports}var F0e=M0e(),w3=j.createContext(null),U0e=t=>t,Fo=()=>{var t=j.useContext(w3);return t?t.store.dispatch:U0e},C_=()=>{},$0e=()=>C_,H0e=(t,e)=>t===e;function Mn(t){var e=j.useContext(w3),r=j.useMemo(()=>e?n=>{if(n!=null)return t(n)}:C_,[e,t]);return F0e.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:$0e,e?e.store.getState:C_,e?e.store.getState:C_,r,H0e)}function Q0e(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function V0e(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function K0e(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(r=>typeof r=="function")){const r=t.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${e}[${r}]`)}}var d$=t=>Array.isArray(t)?t:[t];function G0e(t){const e=Array.isArray(t[0])?t[0]:t;return K0e(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function z0e(t,e){const r=[],{length:n}=t;for(let i=0;i<n;i++)r.push(t[i].apply(null,e));return r}var W0e=class{constructor(t){this.value=t}deref(){return this.value}},Y0e=typeof WeakRef<"u"?WeakRef:W0e,q0e=0,h$=1;function gS(){return{s:q0e,v:void 0,o:null,p:null}}function mX(t,e={}){let r=gS();const{resultEqualityCheck:n}=e;let i,s=0;function a(){let c=r;const{length:u}=arguments;for(let f=0,A=u;f<A;f++){const p=arguments[f];if(typeof p=="function"||typeof p=="object"&&p!==null){let g=c.o;g===null&&(c.o=g=new WeakMap);const y=g.get(p);y===void 0?(c=gS(),g.set(p,c)):c=y}else{let g=c.p;g===null&&(c.p=g=new Map);const y=g.get(p);y===void 0?(c=gS(),g.set(p,c)):c=y}}const o=c;let d;if(c.s===h$)d=c.v;else if(d=t.apply(null,arguments),s++,n){const f=i?.deref?.()??i;f!=null&&n(f,d)&&(d=f,s!==0&&s--),i=typeof d=="object"&&d!==null||typeof d=="function"?new Y0e(d):d}return o.s=h$,o.v=d,d}return a.clearCache=()=>{r=gS(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function X0e(t,...e){const r=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,n=(...i)=>{let s=0,a=0,c,u={},o=i.pop();typeof o=="object"&&(u=o,o=i.pop()),Q0e(o,`createSelector expects an output function after the inputs, but received: [${typeof o}]`);const d={...r,...u},{memoize:f,memoizeOptions:A=[],argsMemoize:p=mX,argsMemoizeOptions:g=[]}=d,y=d$(A),v=d$(g),b=G0e(i),w=f(function(){return s++,o.apply(null,arguments)},...y),S=p(function(){a++;const T=z0e(b,arguments);return c=w.apply(null,T),c},...v);return Object.assign(S,{resultFunc:o,memoizedResultFunc:w,dependencies:b,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>c,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:f,argsMemoize:p})};return Object.assign(n,{withTypes:()=>n}),n}var Zt=X0e(mX),Z0e=Object.assign((t,e=Zt)=>{V0e(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const r=Object.keys(t),n=r.map(s=>t[s]);return e(n,(...s)=>s.reduce((a,c,u)=>(a[r[u]]=c,a),{}))},{withTypes:()=>Z0e}),Nk={},Ik={},kk={},f$;function J0e(){return f$||(f$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,s)=>{if(n!==i){const a=e(n),c=e(i);if(a===c&&a===0){if(n<i)return s==="desc"?1:-1;if(n>i)return s==="desc"?-1:1}return s==="desc"?c-a:a-c}return 0};t.compareValues=r})(kk)),kk}var Bk={},Lk={},A$;function pX(){return A$||(A$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"||r instanceof Symbol}t.isSymbol=e})(Lk)),Lk}var m$;function eve(){return m$||(m$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=pX(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(s,a){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||a!=null&&Object.hasOwn(a,s)}t.isKey=i})(Bk)),Bk}var p$;function tve(){return p$||(p$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=J0e(),r=eve(),n=p3();function i(s,a,c,u){if(s==null)return[];c=u?void 0:c,Array.isArray(s)||(s=Object.values(s)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(p=>String(p));const o=(p,g)=>{let y=p;for(let v=0;v<g.length&&y!=null;++v)y=y[g[v]];return y},d=(p,g)=>g==null||p==null?g:typeof p=="object"&&"key"in p?Object.hasOwn(g,p.key)?g[p.key]:o(g,p.path):typeof p=="function"?p(g):Array.isArray(p)?o(g,p):typeof g=="object"?g[p]:g,f=a.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||r.isKey(p)?p:{key:p,path:n.toPath(p)}));return s.map(p=>({original:p,criteria:f.map(g=>d(g,p))})).slice().sort((p,g)=>{for(let y=0;y<f.length;y++){const v=e.compareValues(p.criteria[y],g.criteria[y],c[y]);if(v!==0)return v}return 0}).map(p=>p.original)}t.orderBy=i})(Ik)),Ik}var Rk={},g$;function rve(){return g$||(g$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n=1){const i=[],s=Math.floor(n),a=(c,u)=>{for(let o=0;o<c.length;o++){const d=c[o];Array.isArray(d)&&u<s?a(d,u+1):i.push(d)}};return a(r,0),i}t.flatten=e})(Rk)),Rk}var Ok={},v$;function gX(){return v$||(v$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fX(),r=x3(),n=oX(),i=cX();function s(a,c,u){return n.isObject(u)&&(typeof c=="number"&&r.isArrayLike(u)&&e.isIndex(c)&&c<u.length||typeof c=="string"&&c in u)?i.isEqualsSameValueZero(u[c],a):!1}t.isIterateeCall=s})(Ok)),Ok}var y$;function nve(){return y$||(y$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tve(),r=rve(),n=gX();function i(s,...a){const c=a.length;return c>1&&n.isIterateeCall(s,a[0],a[1])?a=[]:c>2&&n.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),e.orderBy(s,r.flatten(a),["asc"])}t.sortBy=i})(Nk)),Nk}var Pk,x$;function ive(){return x$||(x$=1,Pk=nve().sortBy),Pk}var sve=ive();const xN=IA(sve);var vX=t=>t.legend.settings,ave=t=>t.legend.size,ove=t=>t.legend.payload,lve=Zt([ove,vX],(t,e)=>{var{itemSorter:r}=e,n=t.flat(1);return r?xN(n,r):n});function cve(){return Mn(lve)}var vS=1;function yX(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,r]=j.useState({height:0,left:0,top:0,width:0}),n=j.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),a={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(a.height-e.height)>vS||Math.abs(a.left-e.left)>vS||Math.abs(a.top-e.top)>vS||Math.abs(a.width-e.width)>vS)&&r({height:a.height,left:a.left,top:a.top,width:a.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,n]}function dd(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var uve=typeof Symbol=="function"&&Symbol.observable||"@@observable",b$=uve,Dk=()=>Math.random().toString(36).substring(7).split("").join("."),dve={INIT:`@@redux/INIT${Dk()}`,REPLACE:`@@redux/REPLACE${Dk()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Dk()}`},pC=dve;function E3(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function xX(t,e,r){if(typeof t!="function")throw new Error(dd(2));if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(dd(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(dd(1));return r(xX)(t,e)}let n=t,i=e,s=new Map,a=s,c=0,u=!1;function o(){a===s&&(a=new Map,s.forEach((v,b)=>{a.set(b,v)}))}function d(){if(u)throw new Error(dd(3));return i}function f(v){if(typeof v!="function")throw new Error(dd(4));if(u)throw new Error(dd(5));let b=!0;o();const w=c++;return a.set(w,v),function(){if(b){if(u)throw new Error(dd(6));b=!1,o(),a.delete(w),s=null}}}function A(v){if(!E3(v))throw new Error(dd(7));if(typeof v.type>"u")throw new Error(dd(8));if(typeof v.type!="string")throw new Error(dd(17));if(u)throw new Error(dd(9));try{u=!0,i=n(i,v)}finally{u=!1}return(s=a).forEach(w=>{w()}),v}function p(v){if(typeof v!="function")throw new Error(dd(10));n=v,A({type:pC.REPLACE})}function g(){const v=f;return{subscribe(b){if(typeof b!="object"||b===null)throw new Error(dd(11));function w(){const _=b;_.next&&_.next(d())}return w(),{unsubscribe:v(w)}},[b$](){return this}}}return A({type:pC.INIT}),{dispatch:A,subscribe:f,getState:d,replaceReducer:p,[b$]:g}}function hve(t){Object.keys(t).forEach(e=>{const r=t[e];if(typeof r(void 0,{type:pC.INIT})>"u")throw new Error(dd(12));if(typeof r(void 0,{type:pC.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(dd(13))})}function bX(t){const e=Object.keys(t),r={};for(let s=0;s<e.length;s++){const a=e[s];typeof t[a]=="function"&&(r[a]=t[a])}const n=Object.keys(r);let i;try{hve(r)}catch(s){i=s}return function(a={},c){if(i)throw i;let u=!1;const o={};for(let d=0;d<n.length;d++){const f=n[d],A=r[f],p=a[f],g=A(p,c);if(typeof g>"u")throw c&&c.type,new Error(dd(14));o[f]=g,u=u||g!==p}return u=u||n.length!==Object.keys(a).length,u?o:a}}function gC(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,r)=>(...n)=>e(r(...n)))}function fve(...t){return e=>(r,n)=>{const i=e(r,n);let s=()=>{throw new Error(dd(15))};const a={getState:i.getState,dispatch:(u,...o)=>s(u,...o)},c=t.map(u=>u(a));return s=gC(...c)(i.dispatch),{...i,dispatch:s}}}function wX(t){return E3(t)&&"type"in t&&typeof t.type=="string"}var EX=Symbol.for("immer-nothing"),w$=Symbol.for("immer-draftable"),rh=Symbol.for("immer-state");function wA(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var sf=Object,vb=sf.getPrototypeOf,vC="constructor",bN="prototype",v4="configurable",yC="enumerable",j_="writable",oE="value",Mp=t=>!!t&&!!t[rh];function jA(t){return t?SX(t)||EN(t)||!!t[w$]||!!t[vC]?.[w$]||SN(t)||_N(t):!1}var Ave=sf[bN][vC].toString(),E$=new WeakMap;function SX(t){if(!t||!S3(t))return!1;const e=vb(t);if(e===null||e===sf[bN])return!0;const r=sf.hasOwnProperty.call(e,vC)&&e[vC];if(r===Object)return!0;if(!ax(r))return!1;let n=E$.get(r);return n===void 0&&(n=Function.toString.call(r),E$.set(r,n)),n===Ave}function wN(t,e,r=!0){u2(t)===0?(r?Reflect.ownKeys(t):sf.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((n,i)=>e(i,n,t))}function u2(t){const e=t[rh];return e?e.type_:EN(t)?1:SN(t)?2:_N(t)?3:0}var S$=(t,e,r=u2(t))=>r===2?t.has(e):sf[bN].hasOwnProperty.call(t,e),y4=(t,e,r=u2(t))=>r===2?t.get(e):t[e],xC=(t,e,r,n=u2(t))=>{n===2?t.set(e,r):n===3?t.add(r):t[e]=r};function mve(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var EN=Array.isArray,SN=t=>t instanceof Map,_N=t=>t instanceof Set,S3=t=>typeof t=="object",ax=t=>typeof t=="function",Mk=t=>typeof t=="boolean";function pve(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var Ep=t=>t.copy_||t.base_,_3=t=>t.modified_?t.copy_:t.base_;function x4(t,e){if(SN(t))return new Map(t);if(_N(t))return new Set(t);if(EN(t))return Array[bN].slice.call(t);const r=SX(t);if(e===!0||e==="class_only"&&!r){const n=sf.getOwnPropertyDescriptors(t);delete n[rh];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const a=i[s],c=n[a];c[j_]===!1&&(c[j_]=!0,c[v4]=!0),(c.get||c.set)&&(n[a]={[v4]:!0,[j_]:!0,[yC]:c[yC],[oE]:t[a]})}return sf.create(vb(t),n)}else{const n=vb(t);if(n!==null&&r)return{...t};const i=sf.create(n);return sf.assign(i,t)}}function T3(t,e=!1){return TN(t)||Mp(t)||!jA(t)||(u2(t)>1&&sf.defineProperties(t,{set:yS,add:yS,clear:yS,delete:yS}),sf.freeze(t),e&&wN(t,(r,n)=>{T3(n,!0)},!1)),t}function gve(){wA(2)}var yS={[oE]:gve};function TN(t){return t===null||!S3(t)?!0:sf.isFrozen(t)}var bC="MapSet",b4="Patches",_$="ArrayMethods",_X={};function ry(t){const e=_X[t];return e||wA(0,t),e}var T$=t=>!!_X[t],lE,TX=()=>lE,vve=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:T$(bC)?ry(bC):void 0,arrayMethodsPlugin_:T$(_$)?ry(_$):void 0});function C$(t,e){e&&(t.patchPlugin_=ry(b4),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function w4(t){E4(t),t.drafts_.forEach(yve),t.drafts_=null}function E4(t){t===lE&&(lE=t.parent_)}var j$=t=>lE=vve(lE,t);function yve(t){const e=t[rh];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function N$(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];if(t!==void 0&&t!==r){r[rh].modified_&&(w4(e),wA(4)),jA(t)&&(t=I$(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(r[rh].base_,t,e)}else t=I$(e,r);return xve(e,t,!0),w4(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==EX?t:void 0}function I$(t,e){if(TN(e))return e;const r=e[rh];if(!r)return wC(e,t.handledSet_,t);if(!CN(r,t))return e;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(t);NX(r,t)}return r.copy_}function xve(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&T3(e,r)}function CX(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var CN=(t,e)=>t.scope_===e,bve=[];function jX(t,e,r,n){const i=Ep(t),s=t.type_;if(n!==void 0&&y4(i,n,s)===e){xC(i,n,r,s);return}if(!t.draftLocations_){const c=t.draftLocations_=new Map;wN(i,(u,o)=>{if(Mp(o)){const d=c.get(o)||[];d.push(u),c.set(o,d)}})}const a=t.draftLocations_.get(e)??bve;for(const c of a)xC(i,c,r,s)}function wve(t,e,r){t.callbacks_.push(function(i){const s=e;if(!s||!CN(s,i))return;i.mapSetPlugin_?.fixSetContents(s);const a=_3(s);jX(t,s.draft_??s,a,r),NX(s,i)})}function NX(t,e){if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(t.assigned_?.size??0)>0)){const{patchPlugin_:n}=e;if(n){const i=n.getPath(t);i&&n.generatePatches_(t,i,e)}CX(t)}}function Eve(t,e,r){const{scope_:n}=t;if(Mp(r)){const i=r[rh];CN(i,n)&&i.callbacks_.push(function(){N_(t);const a=_3(i);jX(t,r,a,e)})}else jA(r)&&t.callbacks_.push(function(){const s=Ep(t);t.type_===3?s.has(r)&&wC(r,n.handledSet_,n):y4(s,e,t.type_)===r&&n.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&wC(y4(t.copy_,e,t.type_),n.handledSet_,n)})}function wC(t,e,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Mp(t)||e.has(t)||!jA(t)||TN(t)||(e.add(t),wN(t,(n,i)=>{if(Mp(i)){const s=i[rh];if(CN(s,r)){const a=_3(s);xC(t,n,a,t.type_),CX(s)}}else jA(i)&&wC(i,e,r)})),t}function Sve(t,e){const r=EN(t),n={type_:r?1:0,scope_:e?e.scope_:TX(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=n,s=EC;r&&(i=[n],s=cE);const{revoke:a,proxy:c}=Proxy.revocable(i,s);return n.draft_=c,n.revoke_=a,[c,n]}var EC={get(t,e){if(e===rh)return t;let r=t.scope_.arrayMethodsPlugin_;const n=t.type_===1&&typeof e=="string";if(n&&r?.isArrayOperationMethod(e))return r.createMethodInterceptor(t,e);const i=Ep(t);if(!S$(i,e,t.type_))return _ve(t,i,e);const s=i[e];if(t.finalized_||!jA(s)||n&&t.operationMethod&&r?.isMutatingArrayMethod(t.operationMethod)&&pve(e))return s;if(s===Fk(t.base_,e)){N_(t);const a=t.type_===1?+e:e,c=_4(t.scope_,s,t,a);return t.copy_[a]=c}return s},has(t,e){return e in Ep(t)},ownKeys(t){return Reflect.ownKeys(Ep(t))},set(t,e,r){const n=IX(Ep(t),e);if(n?.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const i=Fk(Ep(t),e),s=i?.[rh];if(s&&s.base_===r)return t.copy_[e]=r,t.assigned_.set(e,!1),!0;if(mve(r,i)&&(r!==void 0||S$(t.base_,e,t.type_)))return!0;N_(t),S4(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_.set(e,!0),Eve(t,e,r)),!0},deleteProperty(t,e){return N_(t),Fk(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),S4(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=Ep(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{[j_]:!0,[v4]:t.type_!==1||e!=="length",[yC]:n[yC],[oE]:r[e]}},defineProperty(){wA(11)},getPrototypeOf(t){return vb(t.base_)},setPrototypeOf(){wA(12)}},cE={};for(let t in EC){let e=EC[t];cE[t]=function(){const r=arguments;return r[0]=r[0][0],e.apply(this,r)}}cE.deleteProperty=function(t,e){return cE.set.call(this,t,e,void 0)};cE.set=function(t,e,r){return EC.set.call(this,t[0],e,r,t[0])};function Fk(t,e){const r=t[rh];return(r?Ep(r):t)[e]}function _ve(t,e,r){const n=IX(e,r);return n?oE in n?n[oE]:n.get?.call(t.draft_):void 0}function IX(t,e){if(!(e in t))return;let r=vb(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=vb(r)}}function S4(t){t.modified_||(t.modified_=!0,t.parent_&&S4(t.parent_))}function N_(t){t.copy_||(t.assigned_=new Map,t.copy_=x4(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Tve=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,i)=>{if(ax(r)&&!ax(n)){const a=n;n=r;const c=this;return function(o=a,...d){return c.produce(o,f=>n.call(this,f,...d))}}ax(n)||wA(6),i!==void 0&&!ax(i)&&wA(7);let s;if(jA(r)){const a=j$(this),c=_4(a,r,void 0);let u=!0;try{s=n(c),u=!1}finally{u?w4(a):E4(a)}return C$(a,i),N$(s,a)}else if(!r||!S3(r)){if(s=n(r),s===void 0&&(s=r),s===EX&&(s=void 0),this.autoFreeze_&&T3(s,!0),i){const a=[],c=[];ry(b4).generateReplacementPatches_(r,s,{patches_:a,inversePatches_:c}),i(a,c)}return s}else wA(1,r)},this.produceWithPatches=(r,n)=>{if(ax(r))return(c,...u)=>this.produceWithPatches(c,o=>r(o,...u));let i,s;return[this.produce(r,n,(c,u)=>{i=c,s=u}),i,s]},Mk(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),Mk(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),Mk(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){jA(e)||wA(8),Mp(e)&&(e=TA(e));const r=j$(this),n=_4(r,e,void 0);return n[rh].isManual_=!0,E4(r),n}finishDraft(e,r){const n=e&&e[rh];(!n||!n.isManual_)&&wA(9);const{scope_:i}=n;return C$(i,r),N$(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,r){let n;for(n=r.length-1;n>=0;n--){const s=r[n];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}n>-1&&(r=r.slice(n+1));const i=ry(b4).applyPatches_;return Mp(e)?i(e,r):this.produce(e,s=>i(s,r))}};function _4(t,e,r,n){const[i,s]=SN(e)?ry(bC).proxyMap_(e,r):_N(e)?ry(bC).proxySet_(e,r):Sve(e,r);return(r?.scope_??TX()).drafts_.push(i),s.callbacks_=r?.callbacks_??[],s.key_=n,r&&n!==void 0?wve(r,s,n):s.callbacks_.push(function(u){u.mapSetPlugin_?.fixSetContents(s);const{patchPlugin_:o}=u;s.modified_&&o&&o.generatePatches_(s,[],u)}),i}function TA(t){return Mp(t)||wA(10,t),kX(t)}function kX(t){if(!jA(t)||TN(t))return t;const e=t[rh];let r,n=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=x4(t,e.scope_.immer_.useStrictShallowCopy_),n=e.scope_.immer_.shouldUseStrictIteration()}else r=x4(t,!0);return wN(r,(i,s)=>{xC(r,i,kX(s))},n),e&&(e.finalized_=!1),r}var Cve=new Tve,BX=Cve.produce;function LX(t){return({dispatch:r,getState:n})=>i=>s=>typeof s=="function"?s(r,n,t):i(s)}var jve=LX(),Nve=LX,Ive=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?gC:gC.apply(null,arguments)};function $f(t,e){function r(...n){if(e){let i=e(...n);if(!i)throw new Error(of(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:n[0]}}return r.toString=()=>`${t}`,r.type=t,r.match=n=>wX(n)&&n.type===t,r}var RX=class J1 extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,J1.prototype)}static get[Symbol.species](){return J1}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new J1(...e[0].concat(this)):new J1(...e.concat(this))}};function k$(t){return jA(t)?BX(t,()=>{}):t}function xS(t,e,r){return t.has(e)?t.get(e):t.set(e,r(e)).get(e)}function kve(t){return typeof t=="boolean"}var Bve=()=>function(e){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let a=new RX;return r&&(kve(r)?a.push(jve):a.push(Nve(r.extraArgument))),a},OX="RTK_autoBatch",ul=()=>t=>({payload:t,meta:{[OX]:!0}}),B$=t=>e=>{setTimeout(e,t)},PX=(t={type:"raf"})=>e=>(...r)=>{const n=e(...r);let i=!0,s=!1,a=!1;const c=new Set,u=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:B$(10):t.type==="callback"?t.queueNotification:B$(t.timeout),o=()=>{a=!1,s&&(s=!1,c.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>i&&d(),A=n.subscribe(f);return c.add(d),()=>{A(),c.delete(d)}},dispatch(d){try{return i=!d?.meta?.[OX],s=!i,s&&(a||(a=!0,u(o))),n.dispatch(d)}finally{i=!0}}})},Lve=t=>function(r){const{autoBatch:n=!0}=r??{};let i=new RX(t);return n&&i.push(PX(typeof n=="object"?n:void 0)),i};function Rve(t){const e=Bve(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:s=void 0,enhancers:a=void 0}=t||{};let c;if(typeof r=="function")c=r;else if(E3(r))c=bX(r);else throw new Error(of(1));let u;typeof n=="function"?u=n(e):u=e();let o=gC;i&&(o=Ive({trace:!1,...typeof i=="object"&&i}));const d=fve(...u),f=Lve(d);let A=typeof a=="function"?a(f):f();const p=o(...A);return xX(c,s,p)}function DX(t){const e={},r=[];let n;const i={addCase(s,a){const c=typeof s=="string"?s:s.type;if(!c)throw new Error(of(28));if(c in e)throw new Error(of(29));return e[c]=a,i},addAsyncThunk(s,a){return a.pending&&(e[s.pending.type]=a.pending),a.rejected&&(e[s.rejected.type]=a.rejected),a.fulfilled&&(e[s.fulfilled.type]=a.fulfilled),a.settled&&r.push({matcher:s.settled,reducer:a.settled}),i},addMatcher(s,a){return r.push({matcher:s,reducer:a}),i},addDefaultCase(s){return n=s,i}};return t(i),[e,r,n]}function Ove(t){return typeof t=="function"}function Pve(t,e){let[r,n,i]=DX(e),s;if(Ove(t))s=()=>k$(t());else{const c=k$(t);s=()=>c}function a(c=s(),u){let o=[r[u.type],...n.filter(({matcher:d})=>d(u)).map(({reducer:d})=>d)];return o.filter(d=>!!d).length===0&&(o=[i]),o.reduce((d,f)=>{if(f)if(Mp(d)){const p=f(d,u);return p===void 0?d:p}else{if(jA(d))return BX(d,A=>f(A,u));{const A=f(d,u);if(A===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return A}}return d},c)}return a.getInitialState=s,a}var Dve="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Mve=(t=21)=>{let e="",r=t;for(;r--;)e+=Dve[Math.random()*64|0];return e},Fve=Symbol.for("rtk-slice-createasyncthunk");function Uve(t,e){return`${t}/${e}`}function $ve({creators:t}={}){const e=t?.asyncThunk?.[Fve];return function(n){const{name:i,reducerPath:s=i}=n;if(!i)throw new Error(of(11));const a=(typeof n.reducers=="function"?n.reducers(Qve()):n.reducers)||{},c=Object.keys(a),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},o={addCase(S,_){const T=typeof S=="string"?S:S.type;if(!T)throw new Error(of(12));if(T in u.sliceCaseReducersByType)throw new Error(of(13));return u.sliceCaseReducersByType[T]=_,o},addMatcher(S,_){return u.sliceMatchers.push({matcher:S,reducer:_}),o},exposeAction(S,_){return u.actionCreators[S]=_,o},exposeCaseReducer(S,_){return u.sliceCaseReducersByName[S]=_,o}};c.forEach(S=>{const _=a[S],T={reducerName:S,type:Uve(i,S),createNotation:typeof n.reducers=="function"};Kve(_)?zve(T,_,o,e):Vve(T,_,o)});function d(){const[S={},_=[],T=void 0]=typeof n.extraReducers=="function"?DX(n.extraReducers):[n.extraReducers],L={...S,...u.sliceCaseReducersByType};return Pve(n.initialState,D=>{for(let V in L)D.addCase(V,L[V]);for(let V of u.sliceMatchers)D.addMatcher(V.matcher,V.reducer);for(let V of _)D.addMatcher(V.matcher,V.reducer);T&&D.addDefaultCase(T)})}const f=S=>S,A=new Map,p=new WeakMap;let g;function y(S,_){return g||(g=d()),g(S,_)}function v(){return g||(g=d()),g.getInitialState()}function b(S,_=!1){function T(D){let V=D[S];return typeof V>"u"&&_&&(V=xS(p,T,v)),V}function L(D=f){const V=xS(A,_,()=>new WeakMap);return xS(V,D,()=>{const G={};for(const[J,ee]of Object.entries(n.selectors??{}))G[J]=Hve(ee,D,()=>xS(p,D,v),_);return G})}return{reducerPath:S,getSelectors:L,get selectors(){return L(T)},selectSlice:T}}const w={name:i,reducer:y,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:v,...b(s),injectInto(S,{reducerPath:_,...T}={}){const L=_??s;return S.inject({reducerPath:L,reducer:y},T),{...w,...b(L,!0)}}};return w}}function Hve(t,e,r,n){function i(s,...a){let c=e(s);return typeof c>"u"&&n&&(c=r()),t(c,...a)}return i.unwrapped=t,i}var Ih=$ve();function Qve(){function t(e,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...r}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...r){return e(...r)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:r}},asyncThunk:t}}function Vve({type:t,reducerName:e,createNotation:r},n,i){let s,a;if("reducer"in n){if(r&&!Gve(n))throw new Error(of(17));s=n.reducer,a=n.prepare}else s=n;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,a?$f(t,a):$f(t))}function Kve(t){return t._reducerDefinitionType==="asyncThunk"}function Gve(t){return t._reducerDefinitionType==="reducerWithPrepare"}function zve({type:t,reducerName:e},r,n,i){if(!i)throw new Error(of(18));const{payloadCreator:s,fulfilled:a,pending:c,rejected:u,settled:o,options:d}=r,f=i(t,s,d);n.exposeAction(e,f),a&&n.addCase(f.fulfilled,a),c&&n.addCase(f.pending,c),u&&n.addCase(f.rejected,u),o&&n.addMatcher(f.settled,o),n.exposeCaseReducer(e,{fulfilled:a||bS,pending:c||bS,rejected:u||bS,settled:o||bS})}function bS(){}var Wve="task",MX="listener",FX="completed",C3="cancelled",Yve=`task-${C3}`,qve=`task-${FX}`,T4=`${MX}-${C3}`,Xve=`${MX}-${FX}`,jN=class{constructor(t){this.code=t,this.message=`${Wve} ${C3} (reason: ${t})`}name="TaskAbortError";message},j3=(t,e)=>{if(typeof t!="function")throw new TypeError(of(32))},SC=()=>{},UX=(t,e=SC)=>(t.catch(e),t),$X=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Dv=t=>{if(t.aborted)throw new jN(t.reason)};function HX(t,e){let r=SC;return new Promise((n,i)=>{const s=()=>i(new jN(t.reason));if(t.aborted){s();return}r=$X(t,s),e.finally(()=>r()).then(n,i)}).finally(()=>{r=SC})}var Zve=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(r){return{status:r instanceof jN?"cancelled":"rejected",error:r}}finally{e?.()}},_C=t=>e=>UX(HX(t,e).then(r=>(Dv(t),r))),QX=t=>{const e=_C(t);return r=>e(new Promise(n=>setTimeout(n,r)))},{assign:Zx}=Object,L$={},NN="listenerMiddleware",Jve=(t,e)=>{const r=n=>$X(t,()=>n.abort(t.reason));return(n,i)=>{j3(n);const s=new AbortController;r(s);const a=Zve(async()=>{Dv(t),Dv(s.signal);const c=await n({pause:_C(s.signal),delay:QX(s.signal),signal:s.signal});return Dv(s.signal),c},()=>s.abort(qve));return i?.autoJoin&&e.push(a.catch(SC)),{result:_C(t)(a),cancel(){s.abort(Yve)}}}},eye=(t,e)=>{const r=async(n,i)=>{Dv(e);let s=()=>{};const c=[new Promise((u,o)=>{let d=t({predicate:n,effect:(f,A)=>{A.unsubscribe(),u([f,A.getState(),A.getOriginalState()])}});s=()=>{d(),o()}})];i!=null&&c.push(new Promise(u=>setTimeout(u,i,null)));try{const u=await HX(e,Promise.race(c));return Dv(e),u}finally{s()}};return(n,i)=>UX(r(n,i))},VX=t=>{let{type:e,actionCreator:r,matcher:n,predicate:i,effect:s}=t;if(e)i=$f(e).match;else if(r)e=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(of(21));return j3(s),{predicate:i,type:e,effect:s}},KX=Zx(t=>{const{type:e,predicate:r,effect:n}=VX(t);return{id:Mve(),effect:n,type:e,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(of(22))}}},{withTypes:()=>KX}),R$=(t,e)=>{const{type:r,effect:n,predicate:i}=VX(e);return Array.from(t.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===i)&&s.effect===n)},C4=t=>{t.pending.forEach(e=>{e.abort(T4)})},tye=(t,e)=>()=>{for(const r of e.keys())C4(r);t.clear()},O$=(t,e,r)=>{try{t(e,r)}catch(n){setTimeout(()=>{throw n},0)}},GX=Zx($f(`${NN}/add`),{withTypes:()=>GX}),rye=$f(`${NN}/removeAll`),zX=Zx($f(`${NN}/remove`),{withTypes:()=>zX}),nye=(...t)=>{console.error(`${NN}/error`,...t)},d2=(t={})=>{const e=new Map,r=new Map,n=p=>{const g=r.get(p)??0;r.set(p,g+1)},i=p=>{const g=r.get(p)??1;g===1?r.delete(p):r.set(p,g-1)},{extra:s,onError:a=nye}=t;j3(a);const c=p=>(p.unsubscribe=()=>e.delete(p.id),e.set(p.id,p),g=>{p.unsubscribe(),g?.cancelActive&&C4(p)}),u=p=>{const g=R$(e,p)??KX(p);return c(g)};Zx(u,{withTypes:()=>u});const o=p=>{const g=R$(e,p);return g&&(g.unsubscribe(),p.cancelActive&&C4(g)),!!g};Zx(o,{withTypes:()=>o});const d=async(p,g,y,v)=>{const b=new AbortController,w=eye(u,b.signal),S=[];try{p.pending.add(b),n(p),await Promise.resolve(p.effect(g,Zx({},y,{getOriginalState:v,condition:(_,T)=>w(_,T).then(Boolean),take:w,delay:QX(b.signal),pause:_C(b.signal),extra:s,signal:b.signal,fork:Jve(b.signal,S),unsubscribe:p.unsubscribe,subscribe:()=>{e.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((_,T,L)=>{_!==b&&(_.abort(T4),L.delete(_))})},cancel:()=>{b.abort(T4),p.pending.delete(b)},throwIfCancelled:()=>{Dv(b.signal)}})))}catch(_){_ instanceof jN||O$(a,_,{raisedBy:"effect"})}finally{await Promise.all(S),b.abort(Xve),i(p),p.pending.delete(b)}},f=tye(e,r);return{middleware:p=>g=>y=>{if(!wX(y))return g(y);if(GX.match(y))return u(y.payload);if(rye.match(y)){f();return}if(zX.match(y))return o(y.payload);let v=p.getState();const b=()=>{if(v===L$)throw new Error(of(23));return v};let w;try{if(w=g(y),e.size>0){const S=p.getState(),_=Array.from(e.values());for(const T of _){let L=!1;try{L=T.predicate(y,S,v)}catch(D){L=!1,O$(a,D,{raisedBy:"predicate"})}L&&d(T,y,p,b)}}}finally{v=L$}return w},startListening:u,stopListening:o,clearListeners:f}};function of(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var iye={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},WX=Ih({name:"chartLayout",initialState:iye,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var r,n,i,s;t.margin.top=(r=e.payload.top)!==null&&r!==void 0?r:0,t.margin.right=(n=e.payload.right)!==null&&n!==void 0?n:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:sye,setLayout:aye,setChartSize:oye,setScale:lye}=WX.actions,cye=WX.reducer;function YX(t,e,r){return Array.isArray(t)&&t&&e+r!==0?t.slice(e,r+1):t}function da(t){return Number.isFinite(t)}function Dm(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function P$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ux(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?P$(Object(r),!0).forEach(function(n){uye(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):P$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uye(t,e,r){return(e=dye(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dye(t){var e=hye(t,"string");return typeof e=="symbol"?e:e+""}function hye(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Po(t,e,r){return wc(t)||wc(e)?r:Pm(e)?ey(t,e,r):typeof e=="function"?e(t):r}var fye=(t,e,r)=>{if(e&&r){var{width:n,height:i}=r,{align:s,verticalAlign:a,layout:c}=e;if((c==="vertical"||c==="horizontal"&&a==="middle")&&s!=="center"&&ti(t[s]))return Ux(Ux({},t),{},{[s]:t[s]+(n||0)});if((c==="horizontal"||c==="vertical"&&s==="center")&&a!=="middle"&&ti(t[a]))return Ux(Ux({},t),{},{[a]:t[a]+(i||0)})}return t},Wp=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",qX=(t,e,r,n)=>{if(n)return t.map(c=>c.coordinate);var i,s,a=t.map(c=>(c.coordinate===e&&(i=!0),c.coordinate===r&&(s=!0),c.coordinate));return i||a.push(e),s||a.push(r),a},XX=(t,e,r)=>{if(!t)return null;var{duplicateDomain:n,type:i,range:s,scale:a,realScaleType:c,isCategorical:u,categoricalDomain:o,tickCount:d,ticks:f,niceTicks:A,axisType:p}=t;if(!a)return null;var g=c==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,y=i==="category"&&a.bandwidth?a.bandwidth()/g:0;if(y=p==="angleAxis"&&s&&s.length>=2?Vu(s[0]-s[1])*2*y:y,f||A){var v=(f||A||[]).map((b,w)=>{var S=n?n.indexOf(b):b,_=a.map(S);return da(_)?{coordinate:_+y,value:b,offset:y,index:w}:null}).filter(_h);return v}return u&&o?o.map((b,w)=>{var S=a.map(b);return da(S)?{coordinate:S+y,value:b,index:w,offset:y}:null}).filter(_h):a.ticks&&d!=null?a.ticks(d).map((b,w)=>{var S=a.map(b);return da(S)?{coordinate:S+y,value:b,index:w,offset:y}:null}).filter(_h):a.domain().map((b,w)=>{var S=a.map(b);return da(S)?{coordinate:S+y,value:n?n[b]:b,index:w,offset:y}:null}).filter(_h)},Aye=(t,e)=>{if(!e||e.length!==2||!ti(e[0])||!ti(e[1]))return t;var r=Math.min(e[0],e[1]),n=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!ti(t[0])||t[0]<r)&&(i[0]=r),(!ti(t[1])||t[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},mye=t=>{var e,r=t.length;if(!(r<=0)){var n=(e=t[0])===null||e===void 0?void 0:e.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var s=0,a=0,c=0;c<r;++c){var u=t[c],o=u?.[i];if(o!=null){var d=o[1],f=o[0],A=Om(d)?f:d;A>=0?(o[0]=s,s+=A,o[1]=s):(o[0]=a,a+=A,o[1]=a)}}}},pye=t=>{var e,r=t.length;if(!(r<=0)){var n=(e=t[0])===null||e===void 0?void 0:e.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var s=0,a=0;a<r;++a){var c=t[a],u=c?.[i];if(u!=null){var o=Om(u[1])?u[0]:u[1];o>=0?(u[0]=s,s+=o,u[1]=s):(u[0]=0,u[1]=0)}}}},gye={sign:mye,expand:Pge,none:Jv,silhouette:Dge,wiggle:Mge,positive:pye},vye=(t,e,r)=>{var n,i=(n=gye[r])!==null&&n!==void 0?n:Jv,s=Oge().keys(e).value((c,u)=>Number(Po(c,u,0))).order(p4).offset(i),a=s(t);return a.forEach((c,u)=>{c.forEach((o,d)=>{var f=Po(t[d],e[u],0);Array.isArray(f)&&f.length===2&&ti(f[0])&&ti(f[1])&&(o[0]=f[0],o[1]=f[1])})}),a};function yye(t){return t==null?void 0:String(t)}var D$=t=>{var{axis:e,ticks:r,offset:n,bandSize:i,entry:s,index:a}=t;if(e.type==="category")return r[a]?r[a].coordinate+n:null;var c=Po(s,e.dataKey,e.scale.domain()[a]);if(wc(c))return null;var u=e.scale.map(c);return ti(u)?u-i/2+n:null},xye=t=>{var{numericAxis:e}=t,r=e.scale.domain();if(e.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},bye=t=>{var e=t.flat(2).filter(ti);return[Math.min(...e),Math.max(...e)]},wye=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],Eye=(t,e,r)=>{if(t!=null)return wye(Object.keys(t).reduce((n,i)=>{var s=t[i];if(!s)return n;var{stackedData:a}=s,c=a.reduce((u,o)=>{var d=YX(o,e,r),f=bye(d);return!da(f[0])||!da(f[1])?u:[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],n[0]),Math.max(c[1],n[1])]},[1/0,-1/0]))},M$=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,F$=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,yb=(t,e,r)=>{if(t&&t.scale&&t.scale.bandwidth){var n=t.scale.bandwidth();if(!r||n>0)return n}if(t&&e&&e.length>=2){for(var i=xN(e,d=>d.coordinate),s=1/0,a=1,c=i.length;a<c;a++){var u=i[a],o=i[a-1];s=Math.min((u?.coordinate||0)-(o?.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0};function U$(t){var{tooltipEntrySettings:e,dataKey:r,payload:n,value:i,name:s}=t;return Ux(Ux({},e),{},{dataKey:r,payload:n,value:i,name:s})}function Kb(t,e){if(t)return String(t);if(typeof e=="string")return e}var Sye=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},_ye=(t,e)=>e==="centric"?t.angle:t.radius,Yp=t=>t.layout.width,qp=t=>t.layout.height,Tye=t=>t.layout.scale,ZX=t=>t.layout.margin,IN=Zt(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),kN=Zt(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),JX="data-recharts-item-index",eZ="data-recharts-item-id",h2=60;function $$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$$(Object(r),!0).forEach(function(n){Cye(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cye(t,e,r){return(e=jye(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jye(t){var e=Nye(t,"string");return typeof e=="symbol"?e:e+""}function Nye(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Iye=t=>t.brush.height;function kye(t){var e=kN(t);return e.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:h2;return r+i}return r},0)}function Bye(t){var e=kN(t);return e.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:h2;return r+i}return r},0)}function Lye(t){var e=IN(t);return e.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function Rye(t){var e=IN(t);return e.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var pu=Zt([Yp,qp,ZX,Iye,kye,Bye,Lye,Rye,vX,ave],(t,e,r,n,i,s,a,c,u,o)=>{var d={left:(r.left||0)+i,right:(r.right||0)+s},f={top:(r.top||0)+a,bottom:(r.bottom||0)+c},A=wS(wS({},f),d),p=A.bottom;A.bottom+=n,A=fye(A,u,o);var g=t-A.left-A.right,y=e-A.top-A.bottom;return wS(wS({brushBottom:p},A),{},{width:Math.max(g,0),height:Math.max(y,0)})}),Oye=Zt(pu,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),N3=Zt(Yp,qp,(t,e)=>({x:0,y:0,width:t,height:e})),Pye=j.createContext(null),Dd=()=>j.useContext(Pye)!=null,BN=t=>t.brush,LN=Zt([BN,pu,ZX],(t,e,r)=>({height:t.height,x:ti(t.x)?t.x:e.left,y:ti(t.y)?t.y:e.top+e.height+e.brushBottom-(r?.bottom||0),width:ti(t.width)?t.width:e.width})),Uk={},$k={},Hk={},H$;function Dye(){return H$||(H$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n,{signal:i,edges:s}={}){let a,c=null;const u=s!=null&&s.includes("leading"),o=s==null||s.includes("trailing"),d=()=>{c!==null&&(r.apply(a,c),a=void 0,c=null)},f=()=>{o&&d(),y()};let A=null;const p=()=>{A!=null&&clearTimeout(A),A=setTimeout(()=>{A=null,f()},n)},g=()=>{A!==null&&(clearTimeout(A),A=null)},y=()=>{g(),a=void 0,c=null},v=()=>{d()},b=function(...w){if(i?.aborted)return;a=this,c=w;const S=A==null;p(),u&&S&&d()};return b.schedule=p,b.cancel=y,b.flush=v,i?.addEventListener("abort",y,{once:!0}),b}t.debounce=e})(Hk)),Hk}var Q$;function Mye(){return Q$||(Q$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Dye();function r(n,i=0,s={}){typeof s!="object"&&(s={});const{leading:a=!1,trailing:c=!0,maxWait:u}=s,o=Array(2);a&&(o[0]="leading"),c&&(o[1]="trailing");let d,f=null;const A=e.debounce(function(...y){d=n.apply(this,y),f=null},i,{edges:o}),p=function(...y){return u!=null&&(f===null&&(f=Date.now()),Date.now()-f>=u)?(d=n.apply(this,y),f=Date.now(),A.cancel(),A.schedule(),d):(A.apply(this,y),d)},g=()=>(A.flush(),d);return p.cancel=A.cancel,p.flush=g,p}t.debounce=r})($k)),$k}var V$;function Fye(){return V$||(V$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Mye();function r(n,i=0,s={}){const{leading:a=!0,trailing:c=!0}=s;return e.debounce(n,i,{leading:a,maxWait:i,trailing:c})}t.throttle=r})(Uk)),Uk}var Qk,K$;function Uye(){return K$||(K$=1,Qk=Fye().throttle),Qk}var $ye=Uye();const Hye=IA($ye);var TC=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;console.warn(r.replace(/%s/g,()=>i[a++]))}},wm={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},tZ=(t,e,r)=>{var{width:n=wm.width,height:i=wm.height,aspect:s,maxHeight:a}=r,c=ty(n)?t:Number(n),u=ty(i)?e:Number(i);return s&&s>0&&(c?u=c/s:u&&(c=u*s),a&&u!=null&&u>a&&(u=a)),{calculatedWidth:c,calculatedHeight:u}},Qye={width:0,height:0,overflow:"visible"},Vye={width:0,overflowX:"visible"},Kye={height:0,overflowY:"visible"},Gye={},zye=t=>{var{width:e,height:r}=t,n=ty(e),i=ty(r);return n&&i?Qye:n?Vye:i?Kye:Gye};function Wye(t){var{width:e,height:r,aspect:n}=t,i=e,s=r;return i===void 0&&s===void 0?(i=wm.width,s=wm.height):i===void 0?i=n&&n>0?void 0:wm.width:s===void 0&&(s=n&&n>0?void 0:wm.height),{width:i,height:s}}function j4(){return j4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},j4.apply(null,arguments)}function G$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function z$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?G$(Object(r),!0).forEach(function(n){Yye(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):G$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Yye(t,e,r){return(e=qye(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qye(t){var e=Xye(t,"string");return typeof e=="symbol"?e:e+""}function Xye(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rZ=j.createContext(wm.initialDimension);function Zye(t){return Dm(t.width)&&Dm(t.height)}function nZ(t){var{children:e,width:r,height:n}=t,i=j.useMemo(()=>({width:r,height:n}),[r,n]);return Zye(i)?j.createElement(rZ.Provider,{value:i},e):null}var I3=()=>j.useContext(rZ),Jye=j.forwardRef((t,e)=>{var{aspect:r,initialDimension:n=wm.initialDimension,width:i,height:s,minWidth:a=wm.minWidth,minHeight:c,maxHeight:u,children:o,debounce:d=wm.debounce,id:f,className:A,onResize:p,style:g={}}=t,y=j.useRef(null),v=j.useRef();v.current=p,j.useImperativeHandle(e,()=>y.current);var[b,w]=j.useState({containerWidth:n.width,containerHeight:n.height}),S=j.useCallback((V,G)=>{w(J=>{var ee=Math.round(V),ue=Math.round(G);return J.containerWidth===ee&&J.containerHeight===ue?J:{containerWidth:ee,containerHeight:ue}})},[]);j.useEffect(()=>{if(y.current==null||typeof ResizeObserver>"u")return N0;var V=ue=>{var pe,ge=ue[0];if(ge!=null){var{width:he,height:ne}=ge.contentRect;S(he,ne),(pe=v.current)===null||pe===void 0||pe.call(v,he,ne)}};d>0&&(V=Hye(V,d,{trailing:!0,leading:!1}));var G=new ResizeObserver(V),{width:J,height:ee}=y.current.getBoundingClientRect();return S(J,ee),G.observe(y.current),()=>{G.disconnect()}},[S,d]);var{containerWidth:_,containerHeight:T}=b;TC(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:L,calculatedHeight:D}=tZ(_,T,{width:i,height:s,aspect:r,maxHeight:u});return TC(L!=null&&L>0||D!=null&&D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,L,D,i,s,a,c,r),j.createElement("div",{id:f?"".concat(f):void 0,className:Xs("recharts-responsive-container",A),style:z$(z$({},g),{},{width:i,height:s,minWidth:a,minHeight:c,maxHeight:u}),ref:y},j.createElement("div",{style:zye({width:i,height:s})},j.createElement(nZ,{width:L,height:D},o)))}),CC=j.forwardRef((t,e)=>{var r=I3();if(Dm(r.width)&&Dm(r.height))return t.children;var{width:n,height:i}=Wye({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:s,calculatedHeight:a}=tZ(void 0,void 0,{width:n,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return ti(s)&&ti(a)?j.createElement(nZ,{width:s,height:a},t.children):j.createElement(Jye,j4({},t,{width:n,height:i,ref:e}))});function k3(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var RN=()=>{var t,e=Dd(),r=Mn(Oye),n=Mn(LN),i=(t=Mn(BN))===null||t===void 0?void 0:t.padding;return!e||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},exe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},iZ=()=>{var t;return(t=Mn(pu))!==null&&t!==void 0?t:exe},B3=()=>Mn(Yp),L3=()=>Mn(qp),txe=()=>Mn(t=>t.layout.margin),ma=t=>t.layout.layoutType,Gb=()=>Mn(ma),sZ=()=>{var t=Gb();if(t==="horizontal"||t==="vertical")return t},R3=t=>{var e=t.layout.layoutType;if(e==="centric"||e==="radial")return e},rxe=()=>Mn(R3),nxe=()=>{var t=Gb();return t!==void 0},f2=t=>{var e=Fo(),r=Dd(),{width:n,height:i}=t,s=I3(),a=n,c=i;return s&&(a=s.width>0?s.width:n,c=s.height>0?s.height:i),j.useEffect(()=>{!r&&Dm(a)&&Dm(c)&&e(oye({width:a,height:c}))},[e,r,a,c]),null},aZ=Symbol.for("immer-nothing"),W$=Symbol.for("immer-draftable"),uf=Symbol.for("immer-state");function EA(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var uE=Object.getPrototypeOf;function xb(t){return!!t&&!!t[uf]}function ny(t){return t?oZ(t)||Array.isArray(t)||!!t[W$]||!!t.constructor?.[W$]||A2(t)||PN(t):!1}var ixe=Object.prototype.constructor.toString(),Y$=new WeakMap;function oZ(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=Y$.get(r);return n===void 0&&(n=Function.toString.call(r),Y$.set(r,n)),n===ixe}function jC(t,e,r=!0){ON(t)===0?(r?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((n,i)=>e(i,n,t))}function ON(t){const e=t[uf];return e?e.type_:Array.isArray(t)?1:A2(t)?2:PN(t)?3:0}function N4(t,e){return ON(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function lZ(t,e,r){const n=ON(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function sxe(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function A2(t){return t instanceof Map}function PN(t){return t instanceof Set}function iv(t){return t.copy_||t.base_}function I4(t,e){if(A2(t))return new Map(t);if(PN(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=oZ(t);if(e===!0||e==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(t);delete n[uf];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const a=i[s],c=n[a];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(n[a]={configurable:!0,writable:!0,enumerable:c.enumerable,value:t[a]})}return Object.create(uE(t),n)}else{const n=uE(t);if(n!==null&&r)return{...t};const i=Object.create(n);return Object.assign(i,t)}}function O3(t,e=!1){return DN(t)||xb(t)||!ny(t)||(ON(t)>1&&Object.defineProperties(t,{set:ES,add:ES,clear:ES,delete:ES}),Object.freeze(t),e&&Object.values(t).forEach(r=>O3(r,!0))),t}function axe(){EA(2)}var ES={value:axe};function DN(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var oxe={};function iy(t){const e=oxe[t];return e||EA(0,t),e}var dE;function cZ(){return dE}function lxe(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function q$(t,e){e&&(iy("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function k4(t){B4(t),t.drafts_.forEach(cxe),t.drafts_=null}function B4(t){t===dE&&(dE=t.parent_)}function X$(t){return dE=lxe(dE,t)}function cxe(t){const e=t[uf];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function Z$(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[uf].modified_&&(k4(e),EA(4)),ny(t)&&(t=NC(e,t),e.parent_||IC(e,t)),e.patches_&&iy("Patches").generateReplacementPatches_(r[uf].base_,t,e.patches_,e.inversePatches_)):t=NC(e,r,[]),k4(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==aZ?t:void 0}function NC(t,e,r){if(DN(e))return e;const n=t.immer_.shouldUseStrictIteration(),i=e[uf];if(!i)return jC(e,(s,a)=>J$(t,i,e,s,a,r),n),e;if(i.scope_!==t)return e;if(!i.modified_)return IC(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let a=s,c=!1;i.type_===3&&(a=new Set(s),s.clear(),c=!0),jC(a,(u,o)=>J$(t,i,s,u,o,r,c),n),IC(t,s,!1),r&&t.patches_&&iy("Patches").generatePatches_(i,r,t.patches_,t.inversePatches_)}return i.copy_}function J$(t,e,r,n,i,s,a){if(i==null||typeof i!="object"&&!a)return;const c=DN(i);if(!(c&&!a)){if(xb(i)){const u=s&&e&&e.type_!==3&&!N4(e.assigned_,n)?s.concat(n):void 0,o=NC(t,i,u);if(lZ(r,n,o),xb(o))t.canAutoFreeze_=!1;else return}else a&&r.add(i);if(ny(i)&&!c){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[n]===i&&c)return;NC(t,i),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&(A2(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&IC(t,i)}}}function IC(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&O3(e,r)}function uxe(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:cZ(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,s=P3;r&&(i=[n],s=hE);const{revoke:a,proxy:c}=Proxy.revocable(i,s);return n.draft_=c,n.revoke_=a,c}var P3={get(t,e){if(e===uf)return t;const r=iv(t);if(!N4(r,e))return dxe(t,r,e);const n=r[e];return t.finalized_||!ny(n)?n:n===Vk(t.base_,e)?(Kk(t),t.copy_[e]=R4(n,t)):n},has(t,e){return e in iv(t)},ownKeys(t){return Reflect.ownKeys(iv(t))},set(t,e,r){const n=uZ(iv(t),e);if(n?.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const i=Vk(iv(t),e),s=i?.[uf];if(s&&s.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(sxe(r,i)&&(r!==void 0||N4(t.base_,e)))return!0;Kk(t),L4(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Vk(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Kk(t),L4(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=iv(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){EA(11)},getPrototypeOf(t){return uE(t.base_)},setPrototypeOf(){EA(12)}},hE={};jC(P3,(t,e)=>{hE[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});hE.deleteProperty=function(t,e){return hE.set.call(this,t,e,void 0)};hE.set=function(t,e,r){return P3.set.call(this,t[0],e,r,t[0])};function Vk(t,e){const r=t[uf];return(r?iv(r):t)[e]}function dxe(t,e,r){const n=uZ(e,r);return n?"value"in n?n.value:n.get?.call(t.draft_):void 0}function uZ(t,e){if(!(e in t))return;let r=uE(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=uE(r)}}function L4(t){t.modified_||(t.modified_=!0,t.parent_&&L4(t.parent_))}function Kk(t){t.copy_||(t.copy_=I4(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var hxe=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const s=r;r=e;const a=this;return function(u=s,...o){return a.produce(u,d=>r.call(this,d,...o))}}typeof r!="function"&&EA(6),n!==void 0&&typeof n!="function"&&EA(7);let i;if(ny(e)){const s=X$(this),a=R4(e,void 0);let c=!0;try{i=r(a),c=!1}finally{c?k4(s):B4(s)}return q$(s,n),Z$(i,s)}else if(!e||typeof e!="object"){if(i=r(e),i===void 0&&(i=e),i===aZ&&(i=void 0),this.autoFreeze_&&O3(i,!0),n){const s=[],a=[];iy("Patches").generateReplacementPatches_(e,i,s,a),n(s,a)}return i}else EA(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(a,...c)=>this.produceWithPatches(a,u=>e(u,...c));let n,i;return[this.produce(e,r,(a,c)=>{n=a,i=c}),n,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof t?.useStrictIteration=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){ny(t)||EA(8),xb(t)&&(t=fxe(t));const e=X$(this),r=R4(t,void 0);return r[uf].isManual_=!0,B4(e),r}finishDraft(t,e){const r=t&&t[uf];(!r||!r.isManual_)&&EA(9);const{scope_:n}=r;return q$(n,e),Z$(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const i=e[r];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}r>-1&&(e=e.slice(r+1));const n=iy("Patches").applyPatches_;return xb(t)?n(t,e):this.produce(t,i=>n(i,e))}};function R4(t,e){const r=A2(t)?iy("MapSet").proxyMap_(t,e):PN(t)?iy("MapSet").proxySet_(t,e):uxe(t,e);return(e?e.scope_:cZ()).drafts_.push(r),r}function fxe(t){return xb(t)||EA(10,t),dZ(t)}function dZ(t){if(!ny(t)||DN(t))return t;const e=t[uf];let r,n=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=I4(t,e.scope_.immer_.useStrictShallowCopy_),n=e.scope_.immer_.shouldUseStrictIteration()}else r=I4(t,!0);return jC(r,(i,s)=>{lZ(r,i,dZ(s))},n),e&&(e.finalized_=!1),r}var Axe=new hxe;Axe.produce;var mxe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},hZ=Ih({name:"legend",initialState:mxe,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:ul()},replaceLegendPayload:{reducer(t,e){var{prev:r,next:n}=e.payload,i=TA(t).payload.indexOf(r);i>-1&&(t.payload[i]=n)},prepare:ul()},removeLegendPayload:{reducer(t,e){var r=TA(t).payload.indexOf(e.payload);r>-1&&t.payload.splice(r,1)},prepare:ul()}}}),{setLegendSize:e9,setLegendSettings:pxe,addLegendPayload:fZ,replaceLegendPayload:AZ,removeLegendPayload:mZ}=hZ.actions,gxe=hZ.reducer,vxe=["contextPayload"];function O4(){return O4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},O4.apply(null,arguments)}function t9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?t9(Object(r),!0).forEach(function(n){yxe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):t9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yxe(t,e,r){return(e=xxe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xxe(t){var e=bxe(t,"string");return typeof e=="symbol"?e:e+""}function bxe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wxe(t,e){if(t==null)return{};var r,n,i=Exe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Exe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Sxe(t){return t.value}function _xe(t){var{contextPayload:e}=t,r=wxe(t,vxe),n=AX(e,t.payloadUniqBy,Sxe),i=bb(bb({},r),{},{payload:n});return j.isValidElement(t.content)?j.cloneElement(t.content,i):typeof t.content=="function"?j.createElement(t.content,i):j.createElement(A0e,i)}function Txe(t,e,r,n,i,s){var{layout:a,align:c,verticalAlign:u}=e,o,d;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(c==="center"&&a==="vertical"?o={left:((n||0)-s.width)/2}:o=c==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(u==="middle"?d={top:((i||0)-s.height)/2}:d=u==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),bb(bb({},o),d)}function Cxe(t){var e=Fo();return j.useEffect(()=>{e(pxe(t))},[e,t]),null}function jxe(t){var e=Fo();return j.useEffect(()=>(e(e9(t)),()=>{e(e9({width:0,height:0}))}),[e,t]),null}function Nxe(t,e,r,n){return t==="vertical"&&e!=null?{height:e}:t==="horizontal"?{width:r||n}:null}var Ixe={align:"center",iconSize:14,inactiveColor:"#ccc",itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function pZ(t){var e=sc(t,Ixe),r=cve(),n=sge(),i=txe(),{width:s,height:a,wrapperStyle:c,portal:u}=e,[o,d]=yX([r]),f=B3(),A=L3();if(f==null||A==null)return null;var p=f-(i?.left||0)-(i?.right||0),g=Nxe(e.layout,a,s,p),y=u?c:bb(bb({position:"absolute",width:g?.width||s||"auto",height:g?.height||a||"auto"},Txe(c,e,i,f,A,o)),c),v=u??n;if(v==null||r==null)return null;var b=j.createElement("div",{className:"recharts-legend-wrapper",style:y,ref:d},j.createElement(Cxe,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),!u&&j.createElement(jxe,{width:o.width,height:o.height}),j.createElement(_xe,O4({},e,g,{margin:i,chartWidth:f,chartHeight:A,contextPayload:r})));return l0.createPortal(b,v)}pZ.displayName="Legend";function P4(){return P4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},P4.apply(null,arguments)}function r9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function T1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?r9(Object(r),!0).forEach(function(n){kxe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):r9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kxe(t,e,r){return(e=Bxe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bxe(t){var e=Lxe(t,"string");return typeof e=="symbol"?e:e+""}function Lxe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rxe(t){return Array.isArray(t)&&Pm(t[0])&&Pm(t[1])?t.join(" ~ "):t}var Py={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},Oxe=t=>{var{separator:e=Py.separator,contentStyle:r,itemStyle:n,labelStyle:i=Py.labelStyle,payload:s,formatter:a,itemSorter:c,wrapperClassName:u,labelClassName:o,label:d,labelFormatter:f,accessibilityLayer:A=Py.accessibilityLayer}=t,p=()=>{if(s&&s.length){var T={padding:0,margin:0},L=(c?xN(s,c):s).map((D,V)=>{if(D.type==="none")return null;var G=D.formatter||a||Rxe,{value:J,name:ee}=D,ue=J,pe=ee;if(G){var ge=G(J,ee,D,V,s);if(Array.isArray(ge))[ue,pe]=ge;else if(ge!=null)ue=ge;else return null}var he=T1(T1({},Py.itemStyle),{},{color:D.color||Py.itemStyle.color},n);return j.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(V),style:he},Pm(pe)?j.createElement("span",{className:"recharts-tooltip-item-name"},pe):null,Pm(pe)?j.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,j.createElement("span",{className:"recharts-tooltip-item-value"},ue),j.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return j.createElement("ul",{className:"recharts-tooltip-item-list",style:T},L)}return null},g=T1(T1({},Py.contentStyle),r),y=T1({margin:0},i),v=!wc(d),b=v?d:"",w=Xs("recharts-default-tooltip",u),S=Xs("recharts-tooltip-label",o);v&&f&&s!==void 0&&s!==null&&(b=f(d,s));var _=A?{role:"status","aria-live":"assertive"}:{};return j.createElement("div",P4({className:w,style:g},_),j.createElement("p",{className:S,style:y},j.isValidElement(b)?b:"".concat(b)),p())},C1="recharts-tooltip-wrapper",Pxe={visibility:"hidden"};function Dxe(t){var{coordinate:e,translateX:r,translateY:n}=t;return Xs(C1,{["".concat(C1,"-right")]:ti(r)&&e&&ti(e.x)&&r>=e.x,["".concat(C1,"-left")]:ti(r)&&e&&ti(e.x)&&r<e.x,["".concat(C1,"-bottom")]:ti(n)&&e&&ti(e.y)&&n>=e.y,["".concat(C1,"-top")]:ti(n)&&e&&ti(e.y)&&n<e.y})}function n9(t){var{allowEscapeViewBox:e,coordinate:r,key:n,offset:i,position:s,reverseDirection:a,tooltipDimension:c,viewBox:u,viewBoxDimension:o}=t;if(s&&ti(s[n]))return s[n];var d=r[n]-c-(i>0?i:0),f=r[n]+i;if(e[n])return a[n]?d:f;var A=u[n];if(A==null)return 0;if(a[n]){var p=d,g=A;return p<g?Math.max(f,A):Math.max(d,A)}if(o==null)return 0;var y=f+c,v=A+o;return y>v?Math.max(d,A):Math.max(f,A)}function Mxe(t){var{translateX:e,translateY:r,useTranslate3d:n}=t;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function Fxe(t){var{allowEscapeViewBox:e,coordinate:r,offsetTop:n,offsetLeft:i,position:s,reverseDirection:a,tooltipBox:c,useTranslate3d:u,viewBox:o}=t,d,f,A;return c.height>0&&c.width>0&&r?(f=n9({allowEscapeViewBox:e,coordinate:r,key:"x",offset:i,position:s,reverseDirection:a,tooltipDimension:c.width,viewBox:o,viewBoxDimension:o.width}),A=n9({allowEscapeViewBox:e,coordinate:r,key:"y",offset:n,position:s,reverseDirection:a,tooltipDimension:c.height,viewBox:o,viewBoxDimension:o.height}),d=Mxe({translateX:f,translateY:A,useTranslate3d:u})):d=Pxe,{cssProperties:d,cssClasses:Dxe({translateX:f,translateY:A,coordinate:r})}}function i9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function SS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?i9(Object(r),!0).forEach(function(n){D4(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function D4(t,e,r){return(e=Uxe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Uxe(t){var e=$xe(t,"string");return typeof e=="symbol"?e:e+""}function $xe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Hxe extends j.PureComponent{constructor(){super(...arguments),D4(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),D4(this,"handleKeyDown",e=>{if(e.key==="Escape"){var r,n,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,r;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:s,coordinate:a,hasPayload:c,isAnimationActive:u,offset:o,position:d,reverseDirection:f,useTranslate3d:A,viewBox:p,wrapperStyle:g,lastBoundingBox:y,innerRef:v,hasPortalFromProps:b}=this.props,w=typeof o=="number"?o:o.x,S=typeof o=="number"?o:o.y,{cssClasses:_,cssProperties:T}=Fxe({allowEscapeViewBox:r,coordinate:a,offsetLeft:w,offsetTop:S,position:d,reverseDirection:f,tooltipBox:{height:y.height,width:y.width},useTranslate3d:A,viewBox:p}),L=b?{}:SS(SS({transition:u&&e?"transform ".concat(n,"ms ").concat(i):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&c?"visible":"hidden",position:"absolute",top:0,left:0}),D=SS(SS({},L),{},{visibility:!this.state.dismissed&&e&&c?"visible":"hidden"},g);return j.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:_,style:D,ref:v},s)}}var gZ=()=>{var t;return(t=Mn(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function M4(){return M4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},M4.apply(null,arguments)}function s9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function a9(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?s9(Object(r),!0).forEach(function(n){Qxe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Qxe(t,e,r){return(e=Vxe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Vxe(t){var e=Kxe(t,"string");return typeof e=="symbol"?e:e+""}function Kxe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var o9={curveBasisClosed:Sge,curveBasisOpen:_ge,curveBasis:Ege,curveBumpX:cge,curveBumpY:uge,curveLinearClosed:Tge,curveLinear:vN,curveMonotoneX:Cge,curveMonotoneY:jge,curveNatural:Nge,curveStep:Ige,curveStepAfter:Bge,curveStepBefore:kge},kC=t=>da(t.x)&&da(t.y),l9=t=>t.base!=null&&kC(t.base)&&kC(t),j1=t=>t.x,N1=t=>t.y,Gxe=(t,e)=>{if(typeof t=="function")return t;var r="curve".concat(c2(t));if((r==="curveMonotone"||r==="curveBump")&&e){var n=o9["".concat(r).concat(e==="vertical"?"Y":"X")];if(n)return n}return o9[r]||vN},c9={connectNulls:!1,type:"linear"},zxe=t=>{var{type:e=c9.type,points:r=[],baseLine:n,layout:i,connectNulls:s=c9.connectNulls}=t,a=Gxe(e,i),c=s?r.filter(kC):r;if(Array.isArray(n)){var u,o=r.map((g,y)=>a9(a9({},g),{},{base:n[y]}));i==="vertical"?u=pS().y(N1).x1(j1).x0(g=>g.base.x):u=pS().x(j1).y1(N1).y0(g=>g.base.y);var d=u.defined(l9).curve(a),f=s?o.filter(l9):o;return d(f)}var A;i==="vertical"&&ti(n)?A=pS().y(N1).x1(j1).x0(n):ti(n)?A=pS().x(j1).y1(N1).y0(n):A=Kq().x(j1).y(N1);var p=A.defined(kC).curve(a);return p(c)},D3=t=>{var{className:e,points:r,path:n,pathRef:i}=t,s=Gb();if((!r||!r.length)&&!n)return null;var a={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||s,connectNulls:t.connectNulls},c=r&&r.length?zxe(a):n;return j.createElement("path",M4({},Vc(t),y3(t),{className:Xs("recharts-curve",e),d:c===null?void 0:c,ref:i}))},Wxe=["x","y","top","left","width","height","className"];function F4(){return F4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},F4.apply(null,arguments)}function u9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Yxe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?u9(Object(r),!0).forEach(function(n){qxe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qxe(t,e,r){return(e=Xxe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xxe(t){var e=Zxe(t,"string");return typeof e=="symbol"?e:e+""}function Zxe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jxe(t,e){if(t==null)return{};var r,n,i=ebe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function ebe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var tbe=(t,e,r,n,i,s)=>"M".concat(t,",").concat(i,"v").concat(n,"M").concat(s,",").concat(e,"h").concat(r),rbe=t=>{var{x:e=0,y:r=0,top:n=0,left:i=0,width:s=0,height:a=0,className:c}=t,u=Jxe(t,Wxe),o=Yxe({x:e,y:r,top:n,left:i,width:s,height:a},u);return!ti(e)||!ti(r)||!ti(s)||!ti(a)||!ti(n)||!ti(i)?null:j.createElement("path",F4({},Au(o),{className:Xs("recharts-cross",c),d:tbe(e,r,s,a,n,i)}))};function nbe(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function d9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function h9(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?d9(Object(r),!0).forEach(function(n){ibe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ibe(t,e,r){return(e=sbe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sbe(t){var e=abe(t,"string");return typeof e=="symbol"?e:e+""}function abe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var obe=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),vZ=(t,e,r)=>t.map(n=>"".concat(obe(n)," ").concat(e,"ms ").concat(r)).join(","),lbe=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((r,n)=>r.filter(i=>n.includes(i))),fE=(t,e)=>Object.keys(e).reduce((r,n)=>h9(h9({},r),{},{[n]:t(n,e[n])}),{});function f9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?f9(Object(r),!0).forEach(function(n){cbe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cbe(t,e,r){return(e=ube(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ube(t){var e=dbe(t,"string");return typeof e=="symbol"?e:e+""}function dbe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var BC=(t,e,r)=>t+(e-t)*r,U4=t=>{var{from:e,to:r}=t;return e!==r},yZ=(t,e,r)=>{var n=fE((i,s)=>{if(U4(s)){var[a,c]=t(s.from,s.to,s.velocity);return cu(cu({},s),{},{from:a,velocity:c})}return s},e);return r<1?fE((i,s)=>U4(s)&&n[i]!=null?cu(cu({},s),{},{velocity:BC(s.velocity,n[i].velocity,r),from:BC(s.from,n[i].from,r)}):s,e):yZ(t,n,r-1)};function hbe(t,e,r,n,i,s){var a,c=n.reduce((A,p)=>cu(cu({},A),{},{[p]:{from:t[p],velocity:0,to:e[p]}}),{}),u=()=>fE((A,p)=>p.from,c),o=()=>!Object.values(c).filter(U4).length,d=null,f=A=>{a||(a=A);var p=A-a,g=p/r.dt;c=yZ(r,c,g),i(cu(cu(cu({},t),e),u())),a=A,o()||(d=s.setTimeout(f))};return()=>(d=s.setTimeout(f),()=>{var A;(A=d)===null||A===void 0||A()})}function fbe(t,e,r,n,i,s,a){var c=null,u=i.reduce((f,A)=>{var p=t[A],g=e[A];return p==null||g==null?f:cu(cu({},f),{},{[A]:[p,g]})},{}),o,d=f=>{o||(o=f);var A=(f-o)/n,p=fE((y,v)=>BC(...v,r(A)),u);if(s(cu(cu(cu({},t),e),p)),A<1)c=a.setTimeout(d);else{var g=fE((y,v)=>BC(...v,r(1)),u);s(cu(cu(cu({},t),e),g))}};return()=>(c=a.setTimeout(d),()=>{var f;(f=c)===null||f===void 0||f()})}const Abe=(t,e,r,n,i,s)=>{var a=lbe(t,e);return r==null?()=>(i(cu(cu({},t),e)),()=>{}):r.isStepper===!0?hbe(t,e,r,a,i,s):fbe(t,e,r,n,a,i,s)};var LC=1e-4,xZ=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],bZ=(t,e)=>t.map((r,n)=>r*e**n).reduce((r,n)=>r+n),A9=(t,e)=>r=>{var n=xZ(t,e);return bZ(n,r)},mbe=(t,e)=>r=>{var n=xZ(t,e),i=[...n.map((s,a)=>s*a).slice(1),0];return bZ(i,r)},pbe=t=>{var e,r=t.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(e=r[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(n==null||n.length!==4)return null;var i=n.map(s=>parseFloat(s));return[i[0],i[1],i[2],i[3]]},gbe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=pbe(r[0]);if(i)return i}}return r.length===4?r:[0,0,1,1]},vbe=(t,e,r,n)=>{var i=A9(t,r),s=A9(e,n),a=mbe(t,r),c=o=>o>1?1:o<0?0:o,u=o=>{for(var d=o>1?1:o,f=d,A=0;A<8;++A){var p=i(f)-d,g=a(f);if(Math.abs(p-d)<LC||g<LC)return s(f);f=c(f-p/g)}return s(f)};return u.isStepper=!1,u},m9=function(){return vbe(...gbe(...arguments))},ybe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=e,s=(a,c,u)=>{var o=-(a-c)*r,d=u*n,f=u+(o-d)*i/1e3,A=u*i/1e3+a;return Math.abs(A-c)<LC&&Math.abs(f)<LC?[c,0]:[A,f]};return s.isStepper=!0,s.dt=i,s},xbe=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return m9(t);case"spring":return ybe();default:if(t.split("(")[0]==="cubic-bezier")return m9(t)}return typeof t=="function"?t:null};function bbe(t){var e,r=()=>null,n=!1,i=null,s=a=>{if(!n){if(Array.isArray(a)){if(!a.length)return;var c=a,[u,...o]=c;if(typeof u=="number"){i=t.setTimeout(s.bind(null,o),u);return}s(u),i=t.setTimeout(s.bind(null,o));return}typeof a=="string"&&(e=a,r(e)),typeof a=="object"&&(e=a,r(e)),typeof a=="function"&&a()}};return{stop:()=>{n=!0},start:a=>{n=!1,i&&(i(),i=null),s(a)},subscribe:a=>(r=a,()=>{r=()=>null}),getTimeoutController:()=>t}}class wbe{setTimeout(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,s=a=>{a-n>=r?e(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function Ebe(){return bbe(new wbe)}var Sbe=j.createContext(Ebe);function _be(t,e){var r=j.useContext(Sbe);return j.useMemo(()=>e??r(t),[t,e,r])}var Tbe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),MN={isSsr:Tbe()},Cbe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},p9={t:0},Gk={t:1};function m2(t){var e=sc(t,Cbe),{isActive:r,canBegin:n,duration:i,easing:s,begin:a,onAnimationEnd:c,onAnimationStart:u,children:o}=e,d=r==="auto"?!MN.isSsr:r,f=_be(e.animationId,e.animationManager),[A,p]=j.useState(d?p9:Gk),g=j.useRef(null);return j.useEffect(()=>{d||p(Gk)},[d]),j.useEffect(()=>{if(!d||!n)return N0;var y=Abe(p9,Gk,xbe(s),i,p,f.getTimeoutController()),v=()=>{g.current=y()};return f.start([u,a,v,i,c]),()=>{f.stop(),g.current&&g.current(),c()}},[d,n,i,s,a,u,c,f]),o(A.t)}function p2(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=j.useRef(aE(e)),n=j.useRef(t);return n.current!==t&&(r.current=aE(e),n.current=t),r.current}var jbe=["radius"],Nbe=["radius"],g9,v9,y9,x9,b9,w9,E9,S9,_9,T9;function C9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function j9(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?C9(Object(r),!0).forEach(function(n){Ibe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):C9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ibe(t,e,r){return(e=kbe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kbe(t){var e=Bbe(t,"string");return typeof e=="symbol"?e:e+""}function Bbe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RC(){return RC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},RC.apply(null,arguments)}function N9(t,e){if(t==null)return{};var r,n,i=Lbe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Lbe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function qA(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var I9=(t,e,r,n,i)=>{var s=d0(r),a=d0(n),c=Math.min(Math.abs(s)/2,Math.abs(a)/2),u=a>=0?1:-1,o=s>=0?1:-1,d=a>=0&&s>=0||a<0&&s<0?1:0,f;if(c>0&&Array.isArray(i)){for(var A=[0,0,0,0],p=0,g=4;p<g;p++){var y,v=(y=i[p])!==null&&y!==void 0?y:0;A[p]=v>c?c:v}f=jl(g9||(g9=qA(["M",",",""])),t,e+u*A[0]),A[0]>0&&(f+=jl(v9||(v9=qA(["A ",",",",0,0,",",",",",""])),A[0],A[0],d,t+o*A[0],e)),f+=jl(y9||(y9=qA(["L ",",",""])),t+r-o*A[1],e),A[1]>0&&(f+=jl(x9||(x9=qA(["A ",",",",0,0,",`,
        `,",",""])),A[1],A[1],d,t+r,e+u*A[1])),f+=jl(b9||(b9=qA(["L ",",",""])),t+r,e+n-u*A[2]),A[2]>0&&(f+=jl(w9||(w9=qA(["A ",",",",0,0,",`,
        `,",",""])),A[2],A[2],d,t+r-o*A[2],e+n)),f+=jl(E9||(E9=qA(["L ",",",""])),t+o*A[3],e+n),A[3]>0&&(f+=jl(S9||(S9=qA(["A ",",",",0,0,",`,
        `,",",""])),A[3],A[3],d,t,e+n-u*A[3])),f+="Z"}else if(c>0&&i===+i&&i>0){var b=Math.min(c,i);f=jl(_9||(_9=qA(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+u*b,b,b,d,t+o*b,e,t+r-o*b,e,b,b,d,t+r,e+u*b,t+r,e+n-u*b,b,b,d,t+r-o*b,e+n,t+o*b,e+n,b,b,d,t,e+n-u*b)}else f=jl(T9||(T9=qA(["M ",","," h "," v "," h "," Z"])),t,e,r,n,-r);return f},k9={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},wZ=t=>{var e=sc(t,k9),r=j.useRef(null),[n,i]=j.useState(-1);j.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var Ae=r.current.getTotalLength();Ae&&i(Ae)}catch{}},[]);var{x:s,y:a,width:c,height:u,radius:o,className:d}=e,{animationEasing:f,animationDuration:A,animationBegin:p,isAnimationActive:g,isUpdateAnimationActive:y}=e,v=j.useRef(c),b=j.useRef(u),w=j.useRef(s),S=j.useRef(a),_=j.useMemo(()=>({x:s,y:a,width:c,height:u,radius:o}),[s,a,c,u,o]),T=p2(_,"rectangle-");if(s!==+s||a!==+a||c!==+c||u!==+u||c===0||u===0)return null;var L=Xs("recharts-rectangle",d);if(!y){var D=Au(e),{radius:V}=D,G=N9(D,jbe);return j.createElement("path",RC({},G,{x:d0(s),y:d0(a),width:d0(c),height:d0(u),radius:typeof o=="number"?o:void 0,className:L,d:I9(s,a,c,u,o)}))}var J=v.current,ee=b.current,ue=w.current,pe=S.current,ge="0px ".concat(n===-1?1:n,"px"),he="".concat(n,"px 0px"),ne=vZ(["strokeDasharray"],A,typeof f=="string"?f:k9.animationEasing);return j.createElement(m2,{animationId:T,key:T,canBegin:n>0,duration:A,easing:f,isActive:y,begin:p},Ae=>{var oe=Nl(J,c,Ae),Be=Nl(ee,u,Ae),ke=Nl(ue,s,Ae),ve=Nl(pe,a,Ae);r.current&&(v.current=oe,b.current=Be,w.current=ke,S.current=ve);var se;g?Ae>0?se={transition:ne,strokeDasharray:he}:se={strokeDasharray:ge}:se={strokeDasharray:he};var me=Au(e),{radius:je}=me,Ue=N9(me,Nbe);return j.createElement("path",RC({},Ue,{radius:typeof o=="number"?o:void 0,className:L,d:I9(ke,ve,oe,Be,o),ref:r,style:j9(j9({},se),e.style)}))})};function B9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function L9(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?B9(Object(r),!0).forEach(function(n){Rbe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):B9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rbe(t,e,r){return(e=Obe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Obe(t){var e=Pbe(t,"string");return typeof e=="symbol"?e:e+""}function Pbe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var OC=Math.PI/180,PC=t=>t*Math.PI/180,Dbe=t=>t*180/Math.PI,Eo=(t,e,r,n)=>({x:t+Math.cos(-OC*n)*r,y:e+Math.sin(-OC*n)*r}),EZ=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Mbe=(t,e)=>{var{x:r,y:n}=t,{x:i,y:s}=e;return Math.sqrt((r-i)**2+(n-s)**2)},Fbe=(t,e)=>{var{x:r,y:n}=t,{cx:i,cy:s}=e,a=Mbe({x:r,y:n},{x:i,y:s});if(a<=0)return{radius:a,angle:0};var c=(r-i)/a,u=Math.acos(c);return n>s&&(u=2*Math.PI-u),{radius:a,angle:Dbe(u),angleInRadian:u}},Ube=t=>{var{startAngle:e,endAngle:r}=t,n=Math.floor(e/360),i=Math.floor(r/360),s=Math.min(n,i);return{startAngle:e-s*360,endAngle:r-s*360}},$be=(t,e)=>{var{startAngle:r,endAngle:n}=e,i=Math.floor(r/360),s=Math.floor(n/360),a=Math.min(i,s);return t+a*360},Hbe=(t,e)=>{var{chartX:r,chartY:n}=t,{radius:i,angle:s}=Fbe({x:r,y:n},e),{innerRadius:a,outerRadius:c}=e;if(i<a||i>c||i===0)return null;var{startAngle:u,endAngle:o}=Ube(e),d=s,f;if(u<=o){for(;d>o;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=o}else{for(;d>u;)d-=360;for(;d<o;)d+=360;f=d>=o&&d<=u}return f?L9(L9({},e),{},{radius:i,angle:$be(d,e)}):null};function SZ(t){var{cx:e,cy:r,radius:n,startAngle:i,endAngle:s}=t,a=Eo(e,r,n,i),c=Eo(e,r,n,s);return{points:[a,c],cx:e,cy:r,radius:n,startAngle:i,endAngle:s}}var R9,O9,P9,D9,M9,F9,U9;function $4(){return $4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$4.apply(null,arguments)}function Sv(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var Qbe=(t,e)=>{var r=Vu(e-t),n=Math.min(Math.abs(e-t),359.999);return r*n},_S=t=>{var{cx:e,cy:r,radius:n,angle:i,sign:s,isExternal:a,cornerRadius:c,cornerIsExternal:u}=t,o=c*(a?1:-1)+n,d=Math.asin(c/o)/OC,f=u?i:i+s*d,A=Eo(e,r,o,f),p=Eo(e,r,n,f),g=u?i-s*d:i,y=Eo(e,r,o*Math.cos(d*OC),g);return{center:A,circleTangency:p,lineTangency:y,theta:d}},_Z=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:i,startAngle:s,endAngle:a}=t,c=Qbe(s,a),u=s+c,o=Eo(e,r,i,s),d=Eo(e,r,i,u),f=jl(R9||(R9=Sv(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),o.x,o.y,i,i,+(Math.abs(c)>180),+(s>u),d.x,d.y);if(n>0){var A=Eo(e,r,n,s),p=Eo(e,r,n,u);f+=jl(O9||(O9=Sv(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),p.x,p.y,n,n,+(Math.abs(c)>180),+(s<=u),A.x,A.y)}else f+=jl(P9||(P9=Sv(["L ",","," Z"])),e,r);return f},Vbe=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:i,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:c,startAngle:u,endAngle:o}=t,d=Vu(o-u),{circleTangency:f,lineTangency:A,theta:p}=_S({cx:e,cy:r,radius:i,angle:u,sign:d,cornerRadius:s,cornerIsExternal:c}),{circleTangency:g,lineTangency:y,theta:v}=_S({cx:e,cy:r,radius:i,angle:o,sign:-d,cornerRadius:s,cornerIsExternal:c}),b=c?Math.abs(u-o):Math.abs(u-o)-p-v;if(b<0)return a?jl(D9||(D9=Sv(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),A.x,A.y,s,s,s*2,s,s,-s*2):_Z({cx:e,cy:r,innerRadius:n,outerRadius:i,startAngle:u,endAngle:o});var w=jl(M9||(M9=Sv(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),A.x,A.y,s,s,+(d<0),f.x,f.y,i,i,+(b>180),+(d<0),g.x,g.y,s,s,+(d<0),y.x,y.y);if(n>0){var{circleTangency:S,lineTangency:_,theta:T}=_S({cx:e,cy:r,radius:n,angle:u,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),{circleTangency:L,lineTangency:D,theta:V}=_S({cx:e,cy:r,radius:n,angle:o,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),G=c?Math.abs(u-o):Math.abs(u-o)-T-V;if(G<0&&s===0)return"".concat(w,"L").concat(e,",").concat(r,"Z");w+=jl(F9||(F9=Sv(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),D.x,D.y,s,s,+(d<0),L.x,L.y,n,n,+(G>180),+(d>0),S.x,S.y,s,s,+(d<0),_.x,_.y)}else w+=jl(U9||(U9=Sv(["L",",","Z"])),e,r);return w},Kbe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},TZ=t=>{var e=sc(t,Kbe),{cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:a,forceCornerRadius:c,cornerIsExternal:u,startAngle:o,endAngle:d,className:f}=e;if(s<i||o===d)return null;var A=Xs("recharts-sector",f),p=s-i,g=Od(a,p,0,!0),y;return g>0&&Math.abs(o-d)<360?y=Vbe({cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:Math.min(g,p/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:o,endAngle:d}):y=_Z({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:o,endAngle:d}),j.createElement("path",$4({},Au(e),{className:A,d:y}))};function Gbe(t,e,r){if(t==="horizontal")return[{x:e.x,y:r.top},{x:e.x,y:r.top+r.height}];if(t==="vertical")return[{x:r.left,y:e.y},{x:r.left+r.width,y:e.y}];if(sX(e)){if(t==="centric"){var{cx:n,cy:i,innerRadius:s,outerRadius:a,angle:c}=e,u=Eo(n,i,s,c),o=Eo(n,i,a,c);return[{x:u.x,y:u.y},{x:o.x,y:o.y}]}return SZ(e)}}var zk={},Wk={},Yk={},$9;function zbe(){return $9||($9=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=pX();function r(n){return e.isSymbol(n)?NaN:Number(n)}t.toNumber=r})(Yk)),Yk}var H9;function Wbe(){return H9||(H9=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=zbe();function r(n){return n?(n=e.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}t.toFinite=r})(Wk)),Wk}var Q9;function Ybe(){return Q9||(Q9=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gX(),r=Wbe();function n(i,s,a){a&&typeof a!="number"&&e.isIterateeCall(i,s,a)&&(s=a=void 0),i=r.toFinite(i),s===void 0?(s=i,i=0):s=r.toFinite(s),a=a===void 0?i<s?1:-1:r.toFinite(a);const c=Math.max(Math.ceil((s-i)/(a||1)),0),u=new Array(c);for(let o=0;o<c;o++)u[o]=i,i+=a;return u}t.range=n})(zk)),zk}var qk,V9;function qbe(){return V9||(V9=1,qk=Ybe().range),qk}var Xbe=qbe();const CZ=IA(Xbe);function A0(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Zbe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function M3(t){let e,r,n;t.length!==2?(e=A0,r=(c,u)=>A0(t(c),u),n=(c,u)=>t(c)-u):(e=t===A0||t===Zbe?t:Jbe,r=t,n=t);function i(c,u,o=0,d=c.length){if(o<d){if(e(u,u)!==0)return d;do{const f=o+d>>>1;r(c[f],u)<0?o=f+1:d=f}while(o<d)}return o}function s(c,u,o=0,d=c.length){if(o<d){if(e(u,u)!==0)return d;do{const f=o+d>>>1;r(c[f],u)<=0?o=f+1:d=f}while(o<d)}return o}function a(c,u,o=0,d=c.length){const f=i(c,u,o,d-1);return f>o&&n(c[f-1],u)>-n(c[f],u)?f-1:f}return{left:i,center:a,right:s}}function Jbe(){return 0}function jZ(t){return t===null?NaN:+t}function*e1e(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const t1e=M3(A0),g2=t1e.right;M3(jZ).center;class K9 extends Map{constructor(e,r=i1e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(G9(this,e))}has(e){return super.has(G9(this,e))}set(e,r){return super.set(r1e(this,e),r)}delete(e){return super.delete(n1e(this,e))}}function G9({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function r1e({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function n1e({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function i1e(t){return t!==null&&typeof t=="object"?t.valueOf():t}function s1e(t=A0){if(t===A0)return NZ;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function NZ(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const a1e=Math.sqrt(50),o1e=Math.sqrt(10),l1e=Math.sqrt(2);function DC(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),a=s>=a1e?10:s>=o1e?5:s>=l1e?2:1;let c,u,o;return i<0?(o=Math.pow(10,-i)/a,c=Math.round(t*o),u=Math.round(e*o),c/o<t&&++c,u/o>e&&--u,o=-o):(o=Math.pow(10,i)*a,c=Math.round(t/o),u=Math.round(e/o),c*o<t&&++c,u*o>e&&--u),u<c&&.5<=r&&r<2?DC(t,e,r*2):[c,u,o]}function H4(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,s,a]=n?DC(e,t,r):DC(t,e,r);if(!(s>=i))return[];const c=s-i+1,u=new Array(c);if(n)if(a<0)for(let o=0;o<c;++o)u[o]=(s-o)/-a;else for(let o=0;o<c;++o)u[o]=(s-o)*a;else if(a<0)for(let o=0;o<c;++o)u[o]=(i+o)/-a;else for(let o=0;o<c;++o)u[o]=(i+o)*a;return u}function Q4(t,e,r){return e=+e,t=+t,r=+r,DC(t,e,r)[2]}function V4(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?Q4(e,t,r):Q4(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function z9(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function W9(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function IZ(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?NZ:s1e(i);n>r;){if(n-r>600){const u=n-r+1,o=e-r+1,d=Math.log(u),f=.5*Math.exp(2*d/3),A=.5*Math.sqrt(d*f*(u-f)/u)*(o-u/2<0?-1:1),p=Math.max(r,Math.floor(e-o*f/u+A)),g=Math.min(n,Math.floor(e+(u-o)*f/u+A));IZ(t,e,p,g,i)}const s=t[e];let a=r,c=n;for(I1(t,r,e),i(t[n],s)>0&&I1(t,r,n);a<c;){for(I1(t,a,c),++a,--c;i(t[a],s)<0;)++a;for(;i(t[c],s)>0;)--c}i(t[r],s)===0?I1(t,r,c):(++c,I1(t,c,n)),c<=e&&(r=c+1),e<=c&&(n=c-1)}return t}function I1(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function c1e(t,e,r){if(t=Float64Array.from(e1e(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return W9(t);if(e>=1)return z9(t);var n,i=(n-1)*e,s=Math.floor(i),a=z9(IZ(t,s).subarray(0,s+1)),c=W9(t.subarray(s+1));return a+(c-a)*(i-s)}}function u1e(t,e,r=jZ){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,s=Math.floor(i),a=+r(t[s],s,t),c=+r(t[s+1],s+1,t);return a+(c-a)*(i-s)}}function d1e(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,s=new Array(i);++n<i;)s[n]=t+n*r;return s}function Vf(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Xp(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const K4=Symbol("implicit");function F3(){var t=new K9,e=[],r=[],n=K4;function i(s){let a=t.get(s);if(a===void 0){if(n!==K4)return n;t.set(s,a=e.push(s)-1)}return r[a%r.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new K9;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return F3(e,r).unknown(n)},Vf.apply(i,arguments),i}function U3(){var t=F3().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,s,a,c=!1,u=0,o=0,d=.5;delete t.unknown;function f(){var A=e().length,p=i<n,g=p?i:n,y=p?n:i;s=(y-g)/Math.max(1,A-u+o*2),c&&(s=Math.floor(s)),g+=(y-g-s*(A-u))*d,a=s*(1-u),c&&(g=Math.round(g),a=Math.round(a));var v=d1e(A).map(function(b){return g+s*b});return r(p?v.reverse():v)}return t.domain=function(A){return arguments.length?(e(A),f()):e()},t.range=function(A){return arguments.length?([n,i]=A,n=+n,i=+i,f()):[n,i]},t.rangeRound=function(A){return[n,i]=A,n=+n,i=+i,c=!0,f()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(A){return arguments.length?(c=!!A,f()):c},t.padding=function(A){return arguments.length?(u=Math.min(1,o=+A),f()):u},t.paddingInner=function(A){return arguments.length?(u=Math.min(1,A),f()):u},t.paddingOuter=function(A){return arguments.length?(o=+A,f()):o},t.align=function(A){return arguments.length?(d=Math.max(0,Math.min(1,A)),f()):d},t.copy=function(){return U3(e(),[n,i]).round(c).paddingInner(u).paddingOuter(o).align(d)},Vf.apply(f(),arguments)}function kZ(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return kZ(e())},t}function h1e(){return kZ(U3.apply(null,arguments).paddingInner(1))}function $3(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function BZ(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function v2(){}var AE=.7,MC=1/AE,Jx="\\s*([+-]?\\d+)\\s*",mE="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",km="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",f1e=/^#([0-9a-f]{3,8})$/,A1e=new RegExp(`^rgb\\(${Jx},${Jx},${Jx}\\)$`),m1e=new RegExp(`^rgb\\(${km},${km},${km}\\)$`),p1e=new RegExp(`^rgba\\(${Jx},${Jx},${Jx},${mE}\\)$`),g1e=new RegExp(`^rgba\\(${km},${km},${km},${mE}\\)$`),v1e=new RegExp(`^hsl\\(${mE},${km},${km}\\)$`),y1e=new RegExp(`^hsla\\(${mE},${km},${km},${mE}\\)$`),Y9={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};$3(v2,pE,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:q9,formatHex:q9,formatHex8:x1e,formatHsl:b1e,formatRgb:X9,toString:X9});function q9(){return this.rgb().formatHex()}function x1e(){return this.rgb().formatHex8()}function b1e(){return LZ(this).formatHsl()}function X9(){return this.rgb().formatRgb()}function pE(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=f1e.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?Z9(e):r===3?new Th(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?TS(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?TS(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=A1e.exec(t))?new Th(e[1],e[2],e[3],1):(e=m1e.exec(t))?new Th(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=p1e.exec(t))?TS(e[1],e[2],e[3],e[4]):(e=g1e.exec(t))?TS(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=v1e.exec(t))?tH(e[1],e[2]/100,e[3]/100,1):(e=y1e.exec(t))?tH(e[1],e[2]/100,e[3]/100,e[4]):Y9.hasOwnProperty(t)?Z9(Y9[t]):t==="transparent"?new Th(NaN,NaN,NaN,0):null}function Z9(t){return new Th(t>>16&255,t>>8&255,t&255,1)}function TS(t,e,r,n){return n<=0&&(t=e=r=NaN),new Th(t,e,r,n)}function w1e(t){return t instanceof v2||(t=pE(t)),t?(t=t.rgb(),new Th(t.r,t.g,t.b,t.opacity)):new Th}function G4(t,e,r,n){return arguments.length===1?w1e(t):new Th(t,e,r,n??1)}function Th(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}$3(Th,G4,BZ(v2,{brighter(t){return t=t==null?MC:Math.pow(MC,t),new Th(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?AE:Math.pow(AE,t),new Th(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Th(Mv(this.r),Mv(this.g),Mv(this.b),FC(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:J9,formatHex:J9,formatHex8:E1e,formatRgb:eH,toString:eH}));function J9(){return`#${_v(this.r)}${_v(this.g)}${_v(this.b)}`}function E1e(){return`#${_v(this.r)}${_v(this.g)}${_v(this.b)}${_v((isNaN(this.opacity)?1:this.opacity)*255)}`}function eH(){const t=FC(this.opacity);return`${t===1?"rgb(":"rgba("}${Mv(this.r)}, ${Mv(this.g)}, ${Mv(this.b)}${t===1?")":`, ${t})`}`}function FC(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Mv(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function _v(t){return t=Mv(t),(t<16?"0":"")+t.toString(16)}function tH(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new SA(t,e,r,n)}function LZ(t){if(t instanceof SA)return new SA(t.h,t.s,t.l,t.opacity);if(t instanceof v2||(t=pE(t)),!t)return new SA;if(t instanceof SA)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),s=Math.max(e,r,n),a=NaN,c=s-i,u=(s+i)/2;return c?(e===s?a=(r-n)/c+(r<n)*6:r===s?a=(n-e)/c+2:a=(e-r)/c+4,c/=u<.5?s+i:2-s-i,a*=60):c=u>0&&u<1?0:a,new SA(a,c,u,t.opacity)}function S1e(t,e,r,n){return arguments.length===1?LZ(t):new SA(t,e,r,n??1)}function SA(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}$3(SA,S1e,BZ(v2,{brighter(t){return t=t==null?MC:Math.pow(MC,t),new SA(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?AE:Math.pow(AE,t),new SA(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new Th(Xk(t>=240?t-240:t+120,i,n),Xk(t,i,n),Xk(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new SA(rH(this.h),CS(this.s),CS(this.l),FC(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=FC(this.opacity);return`${t===1?"hsl(":"hsla("}${rH(this.h)}, ${CS(this.s)*100}%, ${CS(this.l)*100}%${t===1?")":`, ${t})`}`}}));function rH(t){return t=(t||0)%360,t<0?t+360:t}function CS(t){return Math.max(0,Math.min(1,t||0))}function Xk(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const H3=t=>()=>t;function _1e(t,e){return function(r){return t+r*e}}function T1e(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function C1e(t){return(t=+t)==1?RZ:function(e,r){return r-e?T1e(e,r,t):H3(isNaN(e)?r:e)}}function RZ(t,e){var r=e-t;return r?_1e(t,r):H3(isNaN(t)?e:t)}const nH=(function t(e){var r=C1e(e);function n(i,s){var a=r((i=G4(i)).r,(s=G4(s)).r),c=r(i.g,s.g),u=r(i.b,s.b),o=RZ(i.opacity,s.opacity);return function(d){return i.r=a(d),i.g=c(d),i.b=u(d),i.opacity=o(d),i+""}}return n.gamma=t,n})(1);function j1e(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=t[i]*(1-s)+e[i]*s;return n}}function N1e(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function I1e(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),s=new Array(r),a;for(a=0;a<n;++a)i[a]=zb(t[a],e[a]);for(;a<r;++a)s[a]=e[a];return function(c){for(a=0;a<n;++a)s[a]=i[a](c);return s}}function k1e(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function UC(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function B1e(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=zb(t[i],e[i]):n[i]=e[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var z4=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Zk=new RegExp(z4.source,"g");function L1e(t){return function(){return t}}function R1e(t){return function(e){return t(e)+""}}function O1e(t,e){var r=z4.lastIndex=Zk.lastIndex=0,n,i,s,a=-1,c=[],u=[];for(t=t+"",e=e+"";(n=z4.exec(t))&&(i=Zk.exec(e));)(s=i.index)>r&&(s=e.slice(r,s),c[a]?c[a]+=s:c[++a]=s),(n=n[0])===(i=i[0])?c[a]?c[a]+=i:c[++a]=i:(c[++a]=null,u.push({i:a,x:UC(n,i)})),r=Zk.lastIndex;return r<e.length&&(s=e.slice(r),c[a]?c[a]+=s:c[++a]=s),c.length<2?u[0]?R1e(u[0].x):L1e(e):(e=u.length,function(o){for(var d=0,f;d<e;++d)c[(f=u[d]).i]=f.x(o);return c.join("")})}function zb(t,e){var r=typeof e,n;return e==null||r==="boolean"?H3(e):(r==="number"?UC:r==="string"?(n=pE(e))?(e=n,nH):O1e:e instanceof pE?nH:e instanceof Date?k1e:N1e(e)?j1e:Array.isArray(e)?I1e:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?B1e:UC)(t,e)}function Q3(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function P1e(t,e){e===void 0&&(e=t,t=zb);for(var r=0,n=e.length-1,i=e[0],s=new Array(n<0?0:n);r<n;)s[r]=t(i,i=e[++r]);return function(a){var c=Math.max(0,Math.min(n-1,Math.floor(a*=n)));return s[c](a-c)}}function D1e(t){return function(){return t}}function $C(t){return+t}var iH=[0,1];function eh(t){return t}function W4(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:D1e(isNaN(e)?NaN:.5)}function M1e(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function F1e(t,e,r){var n=t[0],i=t[1],s=e[0],a=e[1];return i<n?(n=W4(i,n),s=r(a,s)):(n=W4(n,i),s=r(s,a)),function(c){return s(n(c))}}function U1e(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),s=new Array(n),a=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<n;)i[a]=W4(t[a],t[a+1]),s[a]=r(e[a],e[a+1]);return function(c){var u=g2(t,c,1,n)-1;return s[u](i[u](c))}}function y2(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function FN(){var t=iH,e=iH,r=zb,n,i,s,a=eh,c,u,o;function d(){var A=Math.min(t.length,e.length);return a!==eh&&(a=M1e(t[0],t[A-1])),c=A>2?U1e:F1e,u=o=null,f}function f(A){return A==null||isNaN(A=+A)?s:(u||(u=c(t.map(n),e,r)))(n(a(A)))}return f.invert=function(A){return a(i((o||(o=c(e,t.map(n),UC)))(A)))},f.domain=function(A){return arguments.length?(t=Array.from(A,$C),d()):t.slice()},f.range=function(A){return arguments.length?(e=Array.from(A),d()):e.slice()},f.rangeRound=function(A){return e=Array.from(A),r=Q3,d()},f.clamp=function(A){return arguments.length?(a=A?!0:eh,d()):a!==eh},f.interpolate=function(A){return arguments.length?(r=A,d()):r},f.unknown=function(A){return arguments.length?(s=A,f):s},function(A,p){return n=A,i=p,d()}}function V3(){return FN()(eh,eh)}function $1e(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function HC(t,e){if(!isFinite(t)||t===0)return null;var r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function wb(t){return t=HC(Math.abs(t)),t?t[1]:NaN}function H1e(t,e){return function(r,n){for(var i=r.length,s=[],a=0,c=t[0],u=0;i>0&&c>0&&(u+c+1>n&&(c=Math.max(1,n-u)),s.push(r.substring(i-=c,i+c)),!((u+=c+1)>n));)c=t[a=(a+1)%t.length];return s.reverse().join(e)}}function Q1e(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var V1e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function gE(t){if(!(e=V1e.exec(t)))throw new Error("invalid format: "+t);var e;return new K3({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}gE.prototype=K3.prototype;function K3(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}K3.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function K1e(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var QC;function G1e(t,e){var r=HC(t,e);if(!r)return QC=void 0,t.toPrecision(e);var n=r[0],i=r[1],s=i-(QC=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=n.length;return s===a?n:s>a?n+new Array(s-a+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+HC(t,Math.max(0,e+s-1))[0]}function sH(t,e){var r=HC(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const aH={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:$1e,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>sH(t*100,e),r:sH,s:G1e,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function oH(t){return t}var lH=Array.prototype.map,cH=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function z1e(t){var e=t.grouping===void 0||t.thousands===void 0?oH:H1e(lH.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?oH:Q1e(lH.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function o(f,A){f=gE(f);var p=f.fill,g=f.align,y=f.sign,v=f.symbol,b=f.zero,w=f.width,S=f.comma,_=f.precision,T=f.trim,L=f.type;L==="n"?(S=!0,L="g"):aH[L]||(_===void 0&&(_=12),T=!0,L="g"),(b||p==="0"&&g==="=")&&(b=!0,p="0",g="=");var D=(A&&A.prefix!==void 0?A.prefix:"")+(v==="$"?r:v==="#"&&/[boxX]/.test(L)?"0"+L.toLowerCase():""),V=(v==="$"?n:/[%p]/.test(L)?a:"")+(A&&A.suffix!==void 0?A.suffix:""),G=aH[L],J=/[defgprs%]/.test(L);_=_===void 0?6:/[gprs]/.test(L)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function ee(ue){var pe=D,ge=V,he,ne,Ae;if(L==="c")ge=G(ue)+ge,ue="";else{ue=+ue;var oe=ue<0||1/ue<0;if(ue=isNaN(ue)?u:G(Math.abs(ue),_),T&&(ue=K1e(ue)),oe&&+ue==0&&y!=="+"&&(oe=!1),pe=(oe?y==="("?y:c:y==="-"||y==="("?"":y)+pe,ge=(L==="s"&&!isNaN(ue)&&QC!==void 0?cH[8+QC/3]:"")+ge+(oe&&y==="("?")":""),J){for(he=-1,ne=ue.length;++he<ne;)if(Ae=ue.charCodeAt(he),48>Ae||Ae>57){ge=(Ae===46?i+ue.slice(he+1):ue.slice(he))+ge,ue=ue.slice(0,he);break}}}S&&!b&&(ue=e(ue,1/0));var Be=pe.length+ue.length+ge.length,ke=Be<w?new Array(w-Be+1).join(p):"";switch(S&&b&&(ue=e(ke+ue,ke.length?w-ge.length:1/0),ke=""),g){case"<":ue=pe+ue+ge+ke;break;case"=":ue=pe+ke+ue+ge;break;case"^":ue=ke.slice(0,Be=ke.length>>1)+pe+ue+ge+ke.slice(Be);break;default:ue=ke+pe+ue+ge;break}return s(ue)}return ee.toString=function(){return f+""},ee}function d(f,A){var p=Math.max(-8,Math.min(8,Math.floor(wb(A)/3)))*3,g=Math.pow(10,-p),y=o((f=gE(f),f.type="f",f),{suffix:cH[8+p/3]});return function(v){return y(g*v)}}return{format:o,formatPrefix:d}}var jS,G3,OZ;W1e({thousands:",",grouping:[3],currency:["$",""]});function W1e(t){return jS=z1e(t),G3=jS.format,OZ=jS.formatPrefix,jS}function Y1e(t){return Math.max(0,-wb(Math.abs(t)))}function q1e(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(wb(e)/3)))*3-wb(Math.abs(t)))}function X1e(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,wb(e)-wb(t))+1}function PZ(t,e,r,n){var i=V4(t,e,r),s;switch(n=gE(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(s=q1e(i,a))&&(n.precision=s),OZ(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=X1e(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=Y1e(i))&&(n.precision=s-(n.type==="%")*2);break}}return G3(n)}function I0(t){var e=t.domain;return t.ticks=function(r){var n=e();return H4(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return PZ(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,s=n.length-1,a=n[i],c=n[s],u,o,d=10;for(c<a&&(o=a,a=c,c=o,o=i,i=s,s=o);d-- >0;){if(o=Q4(a,c,r),o===u)return n[i]=a,n[s]=c,e(n);if(o>0)a=Math.floor(a/o)*o,c=Math.ceil(c/o)*o;else if(o<0)a=Math.ceil(a*o)/o,c=Math.floor(c*o)/o;else break;u=o}return t},t}function DZ(){var t=V3();return t.copy=function(){return y2(t,DZ())},Vf.apply(t,arguments),I0(t)}function MZ(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,$C),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return MZ(t).unknown(e)},t=arguments.length?Array.from(t,$C):[0,1],I0(r)}function FZ(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],s=t[n],a;return s<i&&(a=r,r=n,n=a,a=i,i=s,s=a),t[r]=e.floor(i),t[n]=e.ceil(s),t}function uH(t){return Math.log(t)}function dH(t){return Math.exp(t)}function Z1e(t){return-Math.log(-t)}function J1e(t){return-Math.exp(-t)}function ewe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function twe(t){return t===10?ewe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function rwe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function hH(t){return(e,r)=>-t(-e,r)}function z3(t){const e=t(uH,dH),r=e.domain;let n=10,i,s;function a(){return i=rwe(n),s=twe(n),r()[0]<0?(i=hH(i),s=hH(s),t(Z1e,J1e)):t(uH,dH),e}return e.base=function(c){return arguments.length?(n=+c,a()):n},e.domain=function(c){return arguments.length?(r(c),a()):r()},e.ticks=c=>{const u=r();let o=u[0],d=u[u.length-1];const f=d<o;f&&([o,d]=[d,o]);let A=i(o),p=i(d),g,y;const v=c==null?10:+c;let b=[];if(!(n%1)&&p-A<v){if(A=Math.floor(A),p=Math.ceil(p),o>0){for(;A<=p;++A)for(g=1;g<n;++g)if(y=A<0?g/s(-A):g*s(A),!(y<o)){if(y>d)break;b.push(y)}}else for(;A<=p;++A)for(g=n-1;g>=1;--g)if(y=A>0?g/s(-A):g*s(A),!(y<o)){if(y>d)break;b.push(y)}b.length*2<v&&(b=H4(o,d,v))}else b=H4(A,p,Math.min(p-A,v)).map(s);return f?b.reverse():b},e.tickFormat=(c,u)=>{if(c==null&&(c=10),u==null&&(u=n===10?"s":","),typeof u!="function"&&(!(n%1)&&(u=gE(u)).precision==null&&(u.trim=!0),u=G3(u)),c===1/0)return u;const o=Math.max(1,n*c/e.ticks().length);return d=>{let f=d/s(Math.round(i(d)));return f*n<n-.5&&(f*=n),f<=o?u(d):""}},e.nice=()=>r(FZ(r(),{floor:c=>s(Math.floor(i(c))),ceil:c=>s(Math.ceil(i(c)))})),e}function UZ(){const t=z3(FN()).domain([1,10]);return t.copy=()=>y2(t,UZ()).base(t.base()),Vf.apply(t,arguments),t}function fH(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function AH(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function W3(t){var e=1,r=t(fH(e),AH(e));return r.constant=function(n){return arguments.length?t(fH(e=+n),AH(e)):e},I0(r)}function $Z(){var t=W3(FN());return t.copy=function(){return y2(t,$Z()).constant(t.constant())},Vf.apply(t,arguments)}function mH(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function nwe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function iwe(t){return t<0?-t*t:t*t}function Y3(t){var e=t(eh,eh),r=1;function n(){return r===1?t(eh,eh):r===.5?t(nwe,iwe):t(mH(r),mH(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},I0(e)}function q3(){var t=Y3(FN());return t.copy=function(){return y2(t,q3()).exponent(t.exponent())},Vf.apply(t,arguments),t}function swe(){return q3.apply(null,arguments).exponent(.5)}function pH(t){return Math.sign(t)*t*t}function awe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function HZ(){var t=V3(),e=[0,1],r=!1,n;function i(s){var a=awe(t(s));return isNaN(a)?n:r?Math.round(a):a}return i.invert=function(s){return t.invert(pH(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,$C)).map(pH)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return HZ(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Vf.apply(i,arguments),I0(i)}function QZ(){var t=[],e=[],r=[],n;function i(){var a=0,c=Math.max(1,e.length);for(r=new Array(c-1);++a<c;)r[a-1]=u1e(t,a/c);return s}function s(a){return a==null||isNaN(a=+a)?n:e[g2(r,a)]}return s.invertExtent=function(a){var c=e.indexOf(a);return c<0?[NaN,NaN]:[c>0?r[c-1]:t[0],c<r.length?r[c]:t[t.length-1]]},s.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let c of a)c!=null&&!isNaN(c=+c)&&t.push(c);return t.sort(A0),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(n=a,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return QZ().domain(t).range(e).unknown(n)},Vf.apply(s,arguments)}function VZ(){var t=0,e=1,r=1,n=[.5],i=[0,1],s;function a(u){return u!=null&&u<=u?i[g2(n,u,0,r)]:s}function c(){var u=-1;for(n=new Array(r);++u<r;)n[u]=((u+1)*e-(u-r)*t)/(r+1);return a}return a.domain=function(u){return arguments.length?([t,e]=u,t=+t,e=+e,c()):[t,e]},a.range=function(u){return arguments.length?(r=(i=Array.from(u)).length-1,c()):i.slice()},a.invertExtent=function(u){var o=i.indexOf(u);return o<0?[NaN,NaN]:o<1?[t,n[0]]:o>=r?[n[r-1],e]:[n[o-1],n[o]]},a.unknown=function(u){return arguments.length&&(s=u),a},a.thresholds=function(){return n.slice()},a.copy=function(){return VZ().domain([t,e]).range(i).unknown(s)},Vf.apply(I0(a),arguments)}function KZ(){var t=[.5],e=[0,1],r,n=1;function i(s){return s!=null&&s<=s?e[g2(t,s,0,n)]:r}return i.domain=function(s){return arguments.length?(t=Array.from(s),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[t[a-1],t[a]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return KZ().domain(t).range(e).unknown(r)},Vf.apply(i,arguments)}const Jk=new Date,eB=new Date;function gu(t,e,r,n){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),c=i.ceil(s);return s-a<c-s?a:c},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,c)=>{const u=[];if(s=i.ceil(s),c=c==null?1:Math.floor(c),!(s<a)||!(c>0))return u;let o;do u.push(o=new Date(+s)),e(s,c),t(s);while(o<s&&s<a);return u},i.filter=s=>gu(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,c)=>{if(a>=a)if(c<0)for(;++c<=0;)for(;e(a,-1),!s(a););else for(;--c>=0;)for(;e(a,1),!s(a););}),r&&(i.count=(s,a)=>(Jk.setTime(+s),eB.setTime(+a),t(Jk),t(eB),Math.floor(r(Jk,eB))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?a=>n(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const VC=gu(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);VC.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?gu(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):VC);VC.range;const Tp=1e3,Ff=Tp*60,Cp=Ff*60,Fp=Cp*24,X3=Fp*7,gH=Fp*30,tB=Fp*365,Tv=gu(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Tp)},(t,e)=>(e-t)/Tp,t=>t.getUTCSeconds());Tv.range;const Z3=gu(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Tp)},(t,e)=>{t.setTime(+t+e*Ff)},(t,e)=>(e-t)/Ff,t=>t.getMinutes());Z3.range;const J3=gu(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ff)},(t,e)=>(e-t)/Ff,t=>t.getUTCMinutes());J3.range;const eD=gu(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Tp-t.getMinutes()*Ff)},(t,e)=>{t.setTime(+t+e*Cp)},(t,e)=>(e-t)/Cp,t=>t.getHours());eD.range;const tD=gu(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Cp)},(t,e)=>(e-t)/Cp,t=>t.getUTCHours());tD.range;const x2=gu(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ff)/Fp,t=>t.getDate()-1);x2.range;const UN=gu(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Fp,t=>t.getUTCDate()-1);UN.range;const GZ=gu(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Fp,t=>Math.floor(t/Fp));GZ.range;function hy(t){return gu(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Ff)/X3)}const $N=hy(0),KC=hy(1),owe=hy(2),lwe=hy(3),Eb=hy(4),cwe=hy(5),uwe=hy(6);$N.range;KC.range;owe.range;lwe.range;Eb.range;cwe.range;uwe.range;function fy(t){return gu(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/X3)}const HN=fy(0),GC=fy(1),dwe=fy(2),hwe=fy(3),Sb=fy(4),fwe=fy(5),Awe=fy(6);HN.range;GC.range;dwe.range;hwe.range;Sb.range;fwe.range;Awe.range;const rD=gu(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());rD.range;const nD=gu(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());nD.range;const Up=gu(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Up.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:gu(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Up.range;const $p=gu(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());$p.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:gu(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});$p.range;function zZ(t,e,r,n,i,s){const a=[[Tv,1,Tp],[Tv,5,5*Tp],[Tv,15,15*Tp],[Tv,30,30*Tp],[s,1,Ff],[s,5,5*Ff],[s,15,15*Ff],[s,30,30*Ff],[i,1,Cp],[i,3,3*Cp],[i,6,6*Cp],[i,12,12*Cp],[n,1,Fp],[n,2,2*Fp],[r,1,X3],[e,1,gH],[e,3,3*gH],[t,1,tB]];function c(o,d,f){const A=d<o;A&&([o,d]=[d,o]);const p=f&&typeof f.range=="function"?f:u(o,d,f),g=p?p.range(o,+d+1):[];return A?g.reverse():g}function u(o,d,f){const A=Math.abs(d-o)/f,p=M3(([,,v])=>v).right(a,A);if(p===a.length)return t.every(V4(o/tB,d/tB,f));if(p===0)return VC.every(Math.max(V4(o,d,f),1));const[g,y]=a[A/a[p-1][2]<a[p][2]/A?p-1:p];return g.every(y)}return[c,u]}const[mwe,pwe]=zZ($p,nD,HN,GZ,tD,J3),[gwe,vwe]=zZ(Up,rD,$N,x2,eD,Z3);function rB(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function nB(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function k1(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function ywe(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,s=t.days,a=t.shortDays,c=t.months,u=t.shortMonths,o=B1(i),d=L1(i),f=B1(s),A=L1(s),p=B1(a),g=L1(a),y=B1(c),v=L1(c),b=B1(u),w=L1(u),S={a:Ae,A:oe,b:Be,B:ke,c:null,d:EH,e:EH,f:Hwe,g:Zwe,G:eEe,H:Fwe,I:Uwe,j:$we,L:WZ,m:Qwe,M:Vwe,p:ve,q:se,Q:TH,s:CH,S:Kwe,u:Gwe,U:zwe,V:Wwe,w:Ywe,W:qwe,x:null,X:null,y:Xwe,Y:Jwe,Z:tEe,"%":_H},_={a:me,A:je,b:Ue,B:De,c:null,d:SH,e:SH,f:sEe,g:mEe,G:gEe,H:rEe,I:nEe,j:iEe,L:qZ,m:aEe,M:oEe,p:ot,q:ft,Q:TH,s:CH,S:lEe,u:cEe,U:uEe,V:dEe,w:hEe,W:fEe,x:null,X:null,y:AEe,Y:pEe,Z:vEe,"%":_H},T={a:J,A:ee,b:ue,B:pe,c:ge,d:bH,e:bH,f:Owe,g:xH,G:yH,H:wH,I:wH,j:kwe,L:Rwe,m:Iwe,M:Bwe,p:G,q:Nwe,Q:Dwe,s:Mwe,S:Lwe,u:Swe,U:_we,V:Twe,w:Ewe,W:Cwe,x:he,X:ne,y:xH,Y:yH,Z:jwe,"%":Pwe};S.x=L(r,S),S.X=L(n,S),S.c=L(e,S),_.x=L(r,_),_.X=L(n,_),_.c=L(e,_);function L(Ce,Ze){return function(ze){var $e=[],ct=-1,Fe=0,xt=Ce.length,pt,Bt,qt;for(ze instanceof Date||(ze=new Date(+ze));++ct<xt;)Ce.charCodeAt(ct)===37&&($e.push(Ce.slice(Fe,ct)),(Bt=vH[pt=Ce.charAt(++ct)])!=null?pt=Ce.charAt(++ct):Bt=pt==="e"?" ":"0",(qt=Ze[pt])&&(pt=qt(ze,Bt)),$e.push(pt),Fe=ct+1);return $e.push(Ce.slice(Fe,ct)),$e.join("")}}function D(Ce,Ze){return function(ze){var $e=k1(1900,void 0,1),ct=V($e,Ce,ze+="",0),Fe,xt;if(ct!=ze.length)return null;if("Q"in $e)return new Date($e.Q);if("s"in $e)return new Date($e.s*1e3+("L"in $e?$e.L:0));if(Ze&&!("Z"in $e)&&($e.Z=0),"p"in $e&&($e.H=$e.H%12+$e.p*12),$e.m===void 0&&($e.m="q"in $e?$e.q:0),"V"in $e){if($e.V<1||$e.V>53)return null;"w"in $e||($e.w=1),"Z"in $e?(Fe=nB(k1($e.y,0,1)),xt=Fe.getUTCDay(),Fe=xt>4||xt===0?GC.ceil(Fe):GC(Fe),Fe=UN.offset(Fe,($e.V-1)*7),$e.y=Fe.getUTCFullYear(),$e.m=Fe.getUTCMonth(),$e.d=Fe.getUTCDate()+($e.w+6)%7):(Fe=rB(k1($e.y,0,1)),xt=Fe.getDay(),Fe=xt>4||xt===0?KC.ceil(Fe):KC(Fe),Fe=x2.offset(Fe,($e.V-1)*7),$e.y=Fe.getFullYear(),$e.m=Fe.getMonth(),$e.d=Fe.getDate()+($e.w+6)%7)}else("W"in $e||"U"in $e)&&("w"in $e||($e.w="u"in $e?$e.u%7:"W"in $e?1:0),xt="Z"in $e?nB(k1($e.y,0,1)).getUTCDay():rB(k1($e.y,0,1)).getDay(),$e.m=0,$e.d="W"in $e?($e.w+6)%7+$e.W*7-(xt+5)%7:$e.w+$e.U*7-(xt+6)%7);return"Z"in $e?($e.H+=$e.Z/100|0,$e.M+=$e.Z%100,nB($e)):rB($e)}}function V(Ce,Ze,ze,$e){for(var ct=0,Fe=Ze.length,xt=ze.length,pt,Bt;ct<Fe;){if($e>=xt)return-1;if(pt=Ze.charCodeAt(ct++),pt===37){if(pt=Ze.charAt(ct++),Bt=T[pt in vH?Ze.charAt(ct++):pt],!Bt||($e=Bt(Ce,ze,$e))<0)return-1}else if(pt!=ze.charCodeAt($e++))return-1}return $e}function G(Ce,Ze,ze){var $e=o.exec(Ze.slice(ze));return $e?(Ce.p=d.get($e[0].toLowerCase()),ze+$e[0].length):-1}function J(Ce,Ze,ze){var $e=p.exec(Ze.slice(ze));return $e?(Ce.w=g.get($e[0].toLowerCase()),ze+$e[0].length):-1}function ee(Ce,Ze,ze){var $e=f.exec(Ze.slice(ze));return $e?(Ce.w=A.get($e[0].toLowerCase()),ze+$e[0].length):-1}function ue(Ce,Ze,ze){var $e=b.exec(Ze.slice(ze));return $e?(Ce.m=w.get($e[0].toLowerCase()),ze+$e[0].length):-1}function pe(Ce,Ze,ze){var $e=y.exec(Ze.slice(ze));return $e?(Ce.m=v.get($e[0].toLowerCase()),ze+$e[0].length):-1}function ge(Ce,Ze,ze){return V(Ce,e,Ze,ze)}function he(Ce,Ze,ze){return V(Ce,r,Ze,ze)}function ne(Ce,Ze,ze){return V(Ce,n,Ze,ze)}function Ae(Ce){return a[Ce.getDay()]}function oe(Ce){return s[Ce.getDay()]}function Be(Ce){return u[Ce.getMonth()]}function ke(Ce){return c[Ce.getMonth()]}function ve(Ce){return i[+(Ce.getHours()>=12)]}function se(Ce){return 1+~~(Ce.getMonth()/3)}function me(Ce){return a[Ce.getUTCDay()]}function je(Ce){return s[Ce.getUTCDay()]}function Ue(Ce){return u[Ce.getUTCMonth()]}function De(Ce){return c[Ce.getUTCMonth()]}function ot(Ce){return i[+(Ce.getUTCHours()>=12)]}function ft(Ce){return 1+~~(Ce.getUTCMonth()/3)}return{format:function(Ce){var Ze=L(Ce+="",S);return Ze.toString=function(){return Ce},Ze},parse:function(Ce){var Ze=D(Ce+="",!1);return Ze.toString=function(){return Ce},Ze},utcFormat:function(Ce){var Ze=L(Ce+="",_);return Ze.toString=function(){return Ce},Ze},utcParse:function(Ce){var Ze=D(Ce+="",!0);return Ze.toString=function(){return Ce},Ze}}}var vH={"-":"",_:" ",0:"0"},Gu=/^\s*\d+/,xwe=/^%/,bwe=/[\\^$*+?|[\]().{}]/g;function Ba(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(e)+i:i)}function wwe(t){return t.replace(bwe,"\\$&")}function B1(t){return new RegExp("^(?:"+t.map(wwe).join("|")+")","i")}function L1(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function Ewe(t,e,r){var n=Gu.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function Swe(t,e,r){var n=Gu.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function _we(t,e,r){var n=Gu.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function Twe(t,e,r){var n=Gu.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function Cwe(t,e,r){var n=Gu.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function yH(t,e,r){var n=Gu.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function xH(t,e,r){var n=Gu.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function jwe(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Nwe(t,e,r){var n=Gu.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function Iwe(t,e,r){var n=Gu.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function bH(t,e,r){var n=Gu.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function kwe(t,e,r){var n=Gu.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function wH(t,e,r){var n=Gu.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function Bwe(t,e,r){var n=Gu.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function Lwe(t,e,r){var n=Gu.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function Rwe(t,e,r){var n=Gu.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function Owe(t,e,r){var n=Gu.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Pwe(t,e,r){var n=xwe.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function Dwe(t,e,r){var n=Gu.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function Mwe(t,e,r){var n=Gu.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function EH(t,e){return Ba(t.getDate(),e,2)}function Fwe(t,e){return Ba(t.getHours(),e,2)}function Uwe(t,e){return Ba(t.getHours()%12||12,e,2)}function $we(t,e){return Ba(1+x2.count(Up(t),t),e,3)}function WZ(t,e){return Ba(t.getMilliseconds(),e,3)}function Hwe(t,e){return WZ(t,e)+"000"}function Qwe(t,e){return Ba(t.getMonth()+1,e,2)}function Vwe(t,e){return Ba(t.getMinutes(),e,2)}function Kwe(t,e){return Ba(t.getSeconds(),e,2)}function Gwe(t){var e=t.getDay();return e===0?7:e}function zwe(t,e){return Ba($N.count(Up(t)-1,t),e,2)}function YZ(t){var e=t.getDay();return e>=4||e===0?Eb(t):Eb.ceil(t)}function Wwe(t,e){return t=YZ(t),Ba(Eb.count(Up(t),t)+(Up(t).getDay()===4),e,2)}function Ywe(t){return t.getDay()}function qwe(t,e){return Ba(KC.count(Up(t)-1,t),e,2)}function Xwe(t,e){return Ba(t.getFullYear()%100,e,2)}function Zwe(t,e){return t=YZ(t),Ba(t.getFullYear()%100,e,2)}function Jwe(t,e){return Ba(t.getFullYear()%1e4,e,4)}function eEe(t,e){var r=t.getDay();return t=r>=4||r===0?Eb(t):Eb.ceil(t),Ba(t.getFullYear()%1e4,e,4)}function tEe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ba(e/60|0,"0",2)+Ba(e%60,"0",2)}function SH(t,e){return Ba(t.getUTCDate(),e,2)}function rEe(t,e){return Ba(t.getUTCHours(),e,2)}function nEe(t,e){return Ba(t.getUTCHours()%12||12,e,2)}function iEe(t,e){return Ba(1+UN.count($p(t),t),e,3)}function qZ(t,e){return Ba(t.getUTCMilliseconds(),e,3)}function sEe(t,e){return qZ(t,e)+"000"}function aEe(t,e){return Ba(t.getUTCMonth()+1,e,2)}function oEe(t,e){return Ba(t.getUTCMinutes(),e,2)}function lEe(t,e){return Ba(t.getUTCSeconds(),e,2)}function cEe(t){var e=t.getUTCDay();return e===0?7:e}function uEe(t,e){return Ba(HN.count($p(t)-1,t),e,2)}function XZ(t){var e=t.getUTCDay();return e>=4||e===0?Sb(t):Sb.ceil(t)}function dEe(t,e){return t=XZ(t),Ba(Sb.count($p(t),t)+($p(t).getUTCDay()===4),e,2)}function hEe(t){return t.getUTCDay()}function fEe(t,e){return Ba(GC.count($p(t)-1,t),e,2)}function AEe(t,e){return Ba(t.getUTCFullYear()%100,e,2)}function mEe(t,e){return t=XZ(t),Ba(t.getUTCFullYear()%100,e,2)}function pEe(t,e){return Ba(t.getUTCFullYear()%1e4,e,4)}function gEe(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Sb(t):Sb.ceil(t),Ba(t.getUTCFullYear()%1e4,e,4)}function vEe(){return"+0000"}function _H(){return"%"}function TH(t){return+t}function CH(t){return Math.floor(+t/1e3)}var Dy,ZZ,JZ;yEe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function yEe(t){return Dy=ywe(t),ZZ=Dy.format,Dy.parse,JZ=Dy.utcFormat,Dy.utcParse,Dy}function xEe(t){return new Date(t)}function bEe(t){return t instanceof Date?+t:+new Date(+t)}function iD(t,e,r,n,i,s,a,c,u,o){var d=V3(),f=d.invert,A=d.domain,p=o(".%L"),g=o(":%S"),y=o("%I:%M"),v=o("%I %p"),b=o("%a %d"),w=o("%b %d"),S=o("%B"),_=o("%Y");function T(L){return(u(L)<L?p:c(L)<L?g:a(L)<L?y:s(L)<L?v:n(L)<L?i(L)<L?b:w:r(L)<L?S:_)(L)}return d.invert=function(L){return new Date(f(L))},d.domain=function(L){return arguments.length?A(Array.from(L,bEe)):A().map(xEe)},d.ticks=function(L){var D=A();return t(D[0],D[D.length-1],L??10)},d.tickFormat=function(L,D){return D==null?T:o(D)},d.nice=function(L){var D=A();return(!L||typeof L.range!="function")&&(L=e(D[0],D[D.length-1],L??10)),L?A(FZ(D,L)):d},d.copy=function(){return y2(d,iD(t,e,r,n,i,s,a,c,u,o))},d}function wEe(){return Vf.apply(iD(gwe,vwe,Up,rD,$N,x2,eD,Z3,Tv,ZZ).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function EEe(){return Vf.apply(iD(mwe,pwe,$p,nD,HN,UN,tD,J3,Tv,JZ).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function QN(){var t=0,e=1,r,n,i,s,a=eh,c=!1,u;function o(f){return f==null||isNaN(f=+f)?u:a(i===0?.5:(f=(s(f)-r)*i,c?Math.max(0,Math.min(1,f)):f))}o.domain=function(f){return arguments.length?([t,e]=f,r=s(t=+t),n=s(e=+e),i=r===n?0:1/(n-r),o):[t,e]},o.clamp=function(f){return arguments.length?(c=!!f,o):c},o.interpolator=function(f){return arguments.length?(a=f,o):a};function d(f){return function(A){var p,g;return arguments.length?([p,g]=A,a=f(p,g),o):[a(0),a(1)]}}return o.range=d(zb),o.rangeRound=d(Q3),o.unknown=function(f){return arguments.length?(u=f,o):u},function(f){return s=f,r=f(t),n=f(e),i=r===n?0:1/(n-r),o}}function k0(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function eJ(){var t=I0(QN()(eh));return t.copy=function(){return k0(t,eJ())},Xp.apply(t,arguments)}function tJ(){var t=z3(QN()).domain([1,10]);return t.copy=function(){return k0(t,tJ()).base(t.base())},Xp.apply(t,arguments)}function rJ(){var t=W3(QN());return t.copy=function(){return k0(t,rJ()).constant(t.constant())},Xp.apply(t,arguments)}function sD(){var t=Y3(QN());return t.copy=function(){return k0(t,sD()).exponent(t.exponent())},Xp.apply(t,arguments)}function SEe(){return sD.apply(null,arguments).exponent(.5)}function nJ(){var t=[],e=eh;function r(n){if(n!=null&&!isNaN(n=+n))return e((g2(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(A0),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>c1e(t,s/n))},r.copy=function(){return nJ(e).domain(t)},Xp.apply(r,arguments)}function VN(){var t=0,e=.5,r=1,n=1,i,s,a,c,u,o=eh,d,f=!1,A;function p(y){return isNaN(y=+y)?A:(y=.5+((y=+d(y))-s)*(n*y<n*s?c:u),o(f?Math.max(0,Math.min(1,y)):y))}p.domain=function(y){return arguments.length?([t,e,r]=y,i=d(t=+t),s=d(e=+e),a=d(r=+r),c=i===s?0:.5/(s-i),u=s===a?0:.5/(a-s),n=s<i?-1:1,p):[t,e,r]},p.clamp=function(y){return arguments.length?(f=!!y,p):f},p.interpolator=function(y){return arguments.length?(o=y,p):o};function g(y){return function(v){var b,w,S;return arguments.length?([b,w,S]=v,o=P1e(y,[b,w,S]),p):[o(0),o(.5),o(1)]}}return p.range=g(zb),p.rangeRound=g(Q3),p.unknown=function(y){return arguments.length?(A=y,p):A},function(y){return d=y,i=y(t),s=y(e),a=y(r),c=i===s?0:.5/(s-i),u=s===a?0:.5/(a-s),n=s<i?-1:1,p}}function iJ(){var t=I0(VN()(eh));return t.copy=function(){return k0(t,iJ())},Xp.apply(t,arguments)}function sJ(){var t=z3(VN()).domain([.1,1,10]);return t.copy=function(){return k0(t,sJ()).base(t.base())},Xp.apply(t,arguments)}function aJ(){var t=W3(VN());return t.copy=function(){return k0(t,aJ()).constant(t.constant())},Xp.apply(t,arguments)}function aD(){var t=Y3(VN());return t.copy=function(){return k0(t,aD()).exponent(t.exponent())},Xp.apply(t,arguments)}function _Ee(){return aD.apply(null,arguments).exponent(.5)}const ew=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:U3,scaleDiverging:iJ,scaleDivergingLog:sJ,scaleDivergingPow:aD,scaleDivergingSqrt:_Ee,scaleDivergingSymlog:aJ,scaleIdentity:MZ,scaleImplicit:K4,scaleLinear:DZ,scaleLog:UZ,scaleOrdinal:F3,scalePoint:h1e,scalePow:q3,scaleQuantile:QZ,scaleQuantize:VZ,scaleRadial:HZ,scaleSequential:eJ,scaleSequentialLog:tJ,scaleSequentialPow:sD,scaleSequentialQuantile:nJ,scaleSequentialSqrt:SEe,scaleSequentialSymlog:rJ,scaleSqrt:swe,scaleSymlog:$Z,scaleThreshold:KZ,scaleTime:wEe,scaleUtc:EEe,tickFormat:PZ},Symbol.toStringTag,{value:"Module"}));var Zp=t=>t.chartData,b2=Zt([Zp],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),oJ=(t,e,r,n)=>n?b2(t):Zp(t),TEe=(t,e,r)=>r?b2(t):Zp(t);function Hp(t){if(Array.isArray(t)&&t.length===2){var[e,r]=t;if(da(e)&&da(r))return!0}return!1}function jH(t,e,r){return r?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function lJ(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[r,n]=t,i,s;if(da(r))i=r;else if(typeof r=="function")return;if(da(n))s=n;else if(typeof n=="function")return;var a=[i,s];if(Hp(a))return a}}function CEe(t,e,r){if(!(!r&&e==null)){if(typeof t=="function"&&e!=null)try{var n=t(e,r);if(Hp(n))return jH(n,e,r)}catch{}if(Array.isArray(t)&&t.length===2){var[i,s]=t,a,c;if(i==="auto")e!=null&&(a=Math.min(...e));else if(ti(i))a=i;else if(typeof i=="function")try{e!=null&&(a=i(e?.[0]))}catch{}else if(typeof i=="string"&&M$.test(i)){var u=M$.exec(i);if(u==null||u[1]==null||e==null)a=void 0;else{var o=+u[1];a=e[0]-o}}else a=e?.[0];if(s==="auto")e!=null&&(c=Math.max(...e));else if(ti(s))c=s;else if(typeof s=="function")try{e!=null&&(c=s(e?.[1]))}catch{}else if(typeof s=="string"&&F$.test(s)){var d=F$.exec(s);if(d==null||d[1]==null||e==null)c=void 0;else{var f=+d[1];c=e[1]+f}}else c=e?.[1];var A=[a,c];if(Hp(A))return e==null?A:jH(A,e,r)}}}var Wb=1e9,jEe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},lD,dl=!0,Hf="[DecimalError] ",Fv=Hf+"Invalid argument: ",oD=Hf+"Exponent out of range: ",Yb=Math.floor,sv=Math.pow,NEe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,tf,$u=1e7,ol=7,cJ=9007199254740991,zC=Yb(cJ/ol),Jn={};Jn.absoluteValue=Jn.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Jn.comparedTo=Jn.cmp=function(t){var e,r,n,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(n=s.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};Jn.decimalPlaces=Jn.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*ol;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Jn.dividedBy=Jn.div=function(t){return kp(this,new this.constructor(t))};Jn.dividedToIntegerBy=Jn.idiv=function(t){var e=this,r=e.constructor;return Do(kp(e,new r(t),0,1),r.precision)};Jn.equals=Jn.eq=function(t){return!this.cmp(t)};Jn.exponent=function(){return Hc(this)};Jn.greaterThan=Jn.gt=function(t){return this.cmp(t)>0};Jn.greaterThanOrEqualTo=Jn.gte=function(t){return this.cmp(t)>=0};Jn.isInteger=Jn.isint=function(){return this.e>this.d.length-2};Jn.isNegative=Jn.isneg=function(){return this.s<0};Jn.isPositive=Jn.ispos=function(){return this.s>0};Jn.isZero=function(){return this.s===0};Jn.lessThan=Jn.lt=function(t){return this.cmp(t)<0};Jn.lessThanOrEqualTo=Jn.lte=function(t){return this.cmp(t)<1};Jn.logarithm=Jn.log=function(t){var e,r=this,n=r.constructor,i=n.precision,s=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(tf))throw Error(Hf+"NaN");if(r.s<1)throw Error(Hf+(r.s?"NaN":"-Infinity"));return r.eq(tf)?new n(0):(dl=!1,e=kp(vE(r,s),vE(t,s),s),dl=!0,Do(e,i))};Jn.minus=Jn.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?hJ(e,t):uJ(e,(t.s=-t.s,t))};Jn.modulo=Jn.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(Hf+"NaN");return r.s?(dl=!1,e=kp(r,t,0,1).times(t),dl=!0,r.minus(e)):Do(new n(r),i)};Jn.naturalExponential=Jn.exp=function(){return dJ(this)};Jn.naturalLogarithm=Jn.ln=function(){return vE(this)};Jn.negated=Jn.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Jn.plus=Jn.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?uJ(e,t):hJ(e,(t.s=-t.s,t))};Jn.precision=Jn.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Fv+t);if(e=Hc(i)+1,n=i.d.length-1,r=n*ol+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Jn.squareRoot=Jn.sqrt=function(){var t,e,r,n,i,s,a,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(Hf+"NaN")}for(t=Hc(c),dl=!1,i=Math.sqrt(+c),i==0||i==1/0?(e=Em(c.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Yb((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new u(e)):n=new u(i.toString()),r=u.precision,i=a=r+3;;)if(s=n,n=s.plus(kp(c,s,a+2)).times(.5),Em(s.d).slice(0,a)===(e=Em(n.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(Do(s,r+1,0),s.times(s).eq(c)){n=s;break}}else if(e!="9999")break;a+=4}return dl=!0,Do(n,r)};Jn.times=Jn.mul=function(t){var e,r,n,i,s,a,c,u,o,d=this,f=d.constructor,A=d.d,p=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,r=d.e+t.e,u=A.length,o=p.length,u<o&&(s=A,A=p,p=s,a=u,u=o,o=a),s=[],a=u+o,n=a;n--;)s.push(0);for(n=o;--n>=0;){for(e=0,i=u+n;i>n;)c=s[i]+p[n]*A[i-n-1]+e,s[i--]=c%$u|0,e=c/$u|0;s[i]=(s[i]+e)%$u|0}for(;!s[--a];)s.pop();return e?++r:s.shift(),t.d=s,t.e=r,dl?Do(t,f.precision):t};Jn.toDecimalPlaces=Jn.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Mm(t,0,Wb),e===void 0?e=n.rounding:Mm(e,0,8),Do(r,t+Hc(r)+1,e))};Jn.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=sy(n,!0):(Mm(t,0,Wb),e===void 0?e=i.rounding:Mm(e,0,8),n=Do(new i(n),t+1,e),r=sy(n,!0,t+1)),r};Jn.toFixed=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?sy(i):(Mm(t,0,Wb),e===void 0?e=s.rounding:Mm(e,0,8),n=Do(new s(i),t+Hc(i)+1,e),r=sy(n.abs(),!1,t+Hc(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Jn.toInteger=Jn.toint=function(){var t=this,e=t.constructor;return Do(new e(t),Hc(t)+1,e.rounding)};Jn.toNumber=function(){return+this};Jn.toPower=Jn.pow=function(t){var e,r,n,i,s,a,c=this,u=c.constructor,o=12,d=+(t=new u(t));if(!t.s)return new u(tf);if(c=new u(c),!c.s){if(t.s<1)throw Error(Hf+"Infinity");return c}if(c.eq(tf))return c;if(n=u.precision,t.eq(tf))return Do(c,n);if(e=t.e,r=t.d.length-1,a=e>=r,s=c.s,a){if((r=d<0?-d:d)<=cJ){for(i=new u(tf),e=Math.ceil(n/ol+4),dl=!1;r%2&&(i=i.times(c),IH(i.d,e)),r=Yb(r/2),r!==0;)c=c.times(c),IH(c.d,e);return dl=!0,t.s<0?new u(tf).div(i):Do(i,n)}}else if(s<0)throw Error(Hf+"NaN");return s=s<0&&t.d[Math.max(e,r)]&1?-1:1,c.s=1,dl=!1,i=t.times(vE(c,n+o)),dl=!0,i=dJ(i),i.s=s,i};Jn.toPrecision=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?(r=Hc(i),n=sy(i,r<=s.toExpNeg||r>=s.toExpPos)):(Mm(t,1,Wb),e===void 0?e=s.rounding:Mm(e,0,8),i=Do(new s(i),t,e),r=Hc(i),n=sy(i,t<=r||r<=s.toExpNeg,t)),n};Jn.toSignificantDigits=Jn.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Mm(t,1,Wb),e===void 0?e=n.rounding:Mm(e,0,8)),Do(new n(r),t,e)};Jn.toString=Jn.valueOf=Jn.val=Jn.toJSON=Jn[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Hc(t),r=t.constructor;return sy(t,e<=r.toExpNeg||e>=r.toExpPos)};function uJ(t,e){var r,n,i,s,a,c,u,o,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),dl?Do(e,f):e;if(u=t.d,o=e.d,a=t.e,i=e.e,u=u.slice(),s=a-i,s){for(s<0?(n=u,s=-s,c=o.length):(n=o,i=a,c=u.length),a=Math.ceil(f/ol),c=a>c?a+1:c+1,s>c&&(s=c,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(c=u.length,s=o.length,c-s<0&&(s=c,n=o,o=u,u=n),r=0;s;)r=(u[--s]=u[s]+o[s]+r)/$u|0,u[s]%=$u;for(r&&(u.unshift(r),++i),c=u.length;u[--c]==0;)u.pop();return e.d=u,e.e=i,dl?Do(e,f):e}function Mm(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Fv+t)}function Em(t){var e,r,n,i=t.length-1,s="",a=t[0];if(i>0){for(s+=a,e=1;e<i;e++)n=t[e]+"",r=ol-n.length,r&&(s+=qg(r)),s+=n;a=t[e],n=a+"",r=ol-n.length,r&&(s+=qg(r))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var kp=(function(){function t(n,i){var s,a=0,c=n.length;for(n=n.slice();c--;)s=n[c]*i+a,n[c]=s%$u|0,a=s/$u|0;return a&&n.unshift(a),n}function e(n,i,s,a){var c,u;if(s!=a)u=s>a?1:-1;else for(c=u=0;c<s;c++)if(n[c]!=i[c]){u=n[c]>i[c]?1:-1;break}return u}function r(n,i,s){for(var a=0;s--;)n[s]-=a,a=n[s]<i[s]?1:0,n[s]=a*$u+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,a){var c,u,o,d,f,A,p,g,y,v,b,w,S,_,T,L,D,V,G=n.constructor,J=n.s==i.s?1:-1,ee=n.d,ue=i.d;if(!n.s)return new G(n);if(!i.s)throw Error(Hf+"Division by zero");for(u=n.e-i.e,D=ue.length,T=ee.length,p=new G(J),g=p.d=[],o=0;ue[o]==(ee[o]||0);)++o;if(ue[o]>(ee[o]||0)&&--u,s==null?w=s=G.precision:a?w=s+(Hc(n)-Hc(i))+1:w=s,w<0)return new G(0);if(w=w/ol+2|0,o=0,D==1)for(d=0,ue=ue[0],w++;(o<T||d)&&w--;o++)S=d*$u+(ee[o]||0),g[o]=S/ue|0,d=S%ue|0;else{for(d=$u/(ue[0]+1)|0,d>1&&(ue=t(ue,d),ee=t(ee,d),D=ue.length,T=ee.length),_=D,y=ee.slice(0,D),v=y.length;v<D;)y[v++]=0;V=ue.slice(),V.unshift(0),L=ue[0],ue[1]>=$u/2&&++L;do d=0,c=e(ue,y,D,v),c<0?(b=y[0],D!=v&&(b=b*$u+(y[1]||0)),d=b/L|0,d>1?(d>=$u&&(d=$u-1),f=t(ue,d),A=f.length,v=y.length,c=e(f,y,A,v),c==1&&(d--,r(f,D<A?V:ue,A))):(d==0&&(c=d=1),f=ue.slice()),A=f.length,A<v&&f.unshift(0),r(y,f,v),c==-1&&(v=y.length,c=e(ue,y,D,v),c<1&&(d++,r(y,D<v?V:ue,v))),v=y.length):c===0&&(d++,y=[0]),g[o++]=d,c&&y[0]?y[v++]=ee[_]||0:(y=[ee[_]],v=1);while((_++<T||y[0]!==void 0)&&w--)}return g[0]||g.shift(),p.e=u,Do(p,a?s+Hc(p)+1:s)}})();function dJ(t,e){var r,n,i,s,a,c,u=0,o=0,d=t.constructor,f=d.precision;if(Hc(t)>16)throw Error(oD+Hc(t));if(!t.s)return new d(tf);for(dl=!1,c=f,a=new d(.03125);t.abs().gte(.1);)t=t.times(a),o+=5;for(n=Math.log(sv(2,o))/Math.LN10*2+5|0,c+=n,r=i=s=new d(tf),d.precision=c;;){if(i=Do(i.times(t),c),r=r.times(++u),a=s.plus(kp(i,r,c)),Em(a.d).slice(0,c)===Em(s.d).slice(0,c)){for(;o--;)s=Do(s.times(s),c);return d.precision=f,e==null?(dl=!0,Do(s,f)):s}s=a}}function Hc(t){for(var e=t.e*ol,r=t.d[0];r>=10;r/=10)e++;return e}function iB(t,e,r){if(e>t.LN10.sd())throw dl=!0,r&&(t.precision=r),Error(Hf+"LN10 precision limit exceeded");return Do(new t(t.LN10),e)}function qg(t){for(var e="";t--;)e+="0";return e}function vE(t,e){var r,n,i,s,a,c,u,o,d,f=1,A=10,p=t,g=p.d,y=p.constructor,v=y.precision;if(p.s<1)throw Error(Hf+(p.s?"NaN":"-Infinity"));if(p.eq(tf))return new y(0);if(e==null?(dl=!1,o=v):o=e,p.eq(10))return e==null&&(dl=!0),iB(y,o);if(o+=A,y.precision=o,r=Em(g),n=r.charAt(0),s=Hc(p),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(t),r=Em(p.d),n=r.charAt(0),f++;s=Hc(p),n>1?(p=new y("0."+r),s++):p=new y(n+"."+r.slice(1))}else return u=iB(y,o+2,v).times(s+""),p=vE(new y(n+"."+r.slice(1)),o-A).plus(u),y.precision=v,e==null?(dl=!0,Do(p,v)):p;for(c=a=p=kp(p.minus(tf),p.plus(tf),o),d=Do(p.times(p),o),i=3;;){if(a=Do(a.times(d),o),u=c.plus(kp(a,new y(i),o)),Em(u.d).slice(0,o)===Em(c.d).slice(0,o))return c=c.times(2),s!==0&&(c=c.plus(iB(y,o+2,v).times(s+""))),c=kp(c,new y(f),o),y.precision=v,e==null?(dl=!0,Do(c,v)):c;c=u,i+=2}}function NH(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Yb(r/ol),t.d=[],n=(r+1)%ol,r<0&&(n+=ol),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=ol;n<i;)t.d.push(+e.slice(n,n+=ol));e=e.slice(n),n=ol-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),dl&&(t.e>zC||t.e<-zC))throw Error(oD+r)}else t.s=0,t.e=0,t.d=[0];return t}function Do(t,e,r){var n,i,s,a,c,u,o,d,f=t.d;for(a=1,s=f[0];s>=10;s/=10)a++;if(n=e-a,n<0)n+=ol,i=e,o=f[d=0];else{if(d=Math.ceil((n+1)/ol),s=f.length,d>=s)return t;for(o=s=f[d],a=1;s>=10;s/=10)a++;n%=ol,i=n-ol+a}if(r!==void 0&&(s=sv(10,a-i-1),c=o/s%10|0,u=e<0||f[d+1]!==void 0||o%s,u=r<4?(c||u)&&(r==0||r==(t.s<0?3:2)):c>5||c==5&&(r==4||u||r==6&&(n>0?i>0?o/sv(10,a-i):0:f[d-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return u?(s=Hc(t),f.length=1,e=e-s-1,f[0]=sv(10,(ol-e%ol)%ol),t.e=Yb(-e/ol)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=d,s=1,d--):(f.length=d+1,s=sv(10,ol-n),f[d]=i>0?(o/sv(10,a-i)%sv(10,i)|0)*s:0),u)for(;;)if(d==0){(f[0]+=s)==$u&&(f[0]=1,++t.e);break}else{if(f[d]+=s,f[d]!=$u)break;f[d--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(dl&&(t.e>zC||t.e<-zC))throw Error(oD+Hc(t));return t}function hJ(t,e){var r,n,i,s,a,c,u,o,d,f,A=t.constructor,p=A.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new A(t),dl?Do(e,p):e;if(u=t.d,f=e.d,n=e.e,o=t.e,u=u.slice(),a=o-n,a){for(d=a<0,d?(r=u,a=-a,c=f.length):(r=f,n=o,c=u.length),i=Math.max(Math.ceil(p/ol),c)+2,a>i&&(a=i,r.length=1),r.reverse(),i=a;i--;)r.push(0);r.reverse()}else{for(i=u.length,c=f.length,d=i<c,d&&(c=i),i=0;i<c;i++)if(u[i]!=f[i]){d=u[i]<f[i];break}a=0}for(d&&(r=u,u=f,f=r,e.s=-e.s),c=u.length,i=f.length-c;i>0;--i)u[c++]=0;for(i=f.length;i>a;){if(u[--i]<f[i]){for(s=i;s&&u[--s]===0;)u[s]=$u-1;--u[s],u[i]+=$u}u[i]-=f[i]}for(;u[--c]===0;)u.pop();for(;u[0]===0;u.shift())--n;return u[0]?(e.d=u,e.e=n,dl?Do(e,p):e):new A(0)}function sy(t,e,r){var n,i=Hc(t),s=Em(t.d),a=s.length;return e?(r&&(n=r-a)>0?s=s.charAt(0)+"."+s.slice(1)+qg(n):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+qg(-i-1)+s,r&&(n=r-a)>0&&(s+=qg(n))):i>=a?(s+=qg(i+1-a),r&&(n=r-i-1)>0&&(s=s+"."+qg(n))):((n=i+1)<a&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-a)>0&&(i+1===a&&(s+="."),s+=qg(n))),t.s<0?"-"+s:s}function IH(t,e){if(t.length>e)return t.length=e,!0}function fJ(t){var e,r,n;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Fv+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return NH(a,s.toString())}else if(typeof s!="string")throw Error(Fv+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,NEe.test(s))NH(a,s);else throw Error(Fv+s)}if(i.prototype=Jn,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=fJ,i.config=i.set=IEe,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function IEe(t){if(!t||typeof t!="object")throw Error(Hf+"Object expected");var e,r,n,i=["precision",1,Wb,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Yb(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(Fv+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Fv+r+": "+n);return this}var lD=fJ(jEe);tf=new lD(1);const so=lD;function AJ(t){var e;return t===0?e=1:e=Math.floor(new so(t).abs().log(10).toNumber())+1,e}function mJ(t,e,r){for(var n=new so(t),i=0,s=[];n.lt(e)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}var pJ=t=>{var[e,r]=t,[n,i]=[e,r];return e>r&&([n,i]=[r,e]),[n,i]},gJ=(t,e,r)=>{if(t.lte(0))return new so(0);var n=AJ(t.toNumber()),i=new so(10).pow(n),s=t.div(i),a=n!==1?.05:.1,c=new so(Math.ceil(s.div(a).toNumber())).add(r).mul(a),u=c.mul(i);return e?new so(u.toNumber()):new so(Math.ceil(u.toNumber()))},kEe=(t,e,r)=>{var n=new so(1),i=new so(t);if(!i.isint()&&r){var s=Math.abs(t);s<1?(n=new so(10).pow(AJ(t)-1),i=new so(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new so(Math.floor(t)))}else t===0?i=new so(Math.floor((e-1)/2)):r||(i=new so(Math.floor(t)));for(var a=Math.floor((e-1)/2),c=[],u=0;u<e;u++)c.push(i.add(new so(u-a).mul(n)).toNumber());return c},vJ=function(e,r,n,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-e)/(n-1)))return{step:new so(0),tickMin:new so(0),tickMax:new so(0)};var a=gJ(new so(r).sub(e).div(n-1),i,s),c;e<=0&&r>=0?c=new so(0):(c=new so(e).add(r).div(2),c=c.sub(new so(c).mod(a)));var u=Math.ceil(c.sub(e).div(a).toNumber()),o=Math.ceil(new so(r).sub(c).div(a).toNumber()),d=u+o+1;return d>n?vJ(e,r,n,i,s+1):(d<n&&(o=r>0?o+(n-d):o,u=r>0?u:u+(n-d)),{step:a,tickMin:c.sub(new so(u).mul(a)),tickMax:c.add(new so(o).mul(a))})},BEe=function(e){var[r,n]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),[c,u]=pJ([r,n]);if(c===-1/0||u===1/0){var o=u===1/0?[c,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),u];return r>n?o.reverse():o}if(c===u)return kEe(c,i,s);var{step:d,tickMin:f,tickMax:A}=vJ(c,u,a,s,0),p=mJ(f,A.add(new so(.1).mul(d)),d);return r>n?p.reverse():p},LEe=function(e,r){var[n,i]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,c]=pJ([n,i]);if(a===-1/0||c===1/0)return[n,i];if(a===c)return[a];var u=Math.max(r,2),o=gJ(new so(c).sub(a).div(u-1),s,0),d=[...mJ(new so(a),new so(c),o),c];return s===!1&&(d=d.map(f=>Math.round(f))),n>i?d.reverse():d},yJ=t=>t.rootProps.maxBarSize,REe=t=>t.rootProps.barGap,xJ=t=>t.rootProps.barCategoryGap,OEe=t=>t.rootProps.barSize,w2=t=>t.rootProps.stackOffset,bJ=t=>t.rootProps.reverseStackOrder,cD=t=>t.options.chartName,uD=t=>t.rootProps.syncId,wJ=t=>t.rootProps.syncMethod,dD=t=>t.options.eventEmitter,ec={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},$g={allowDecimals:!1,allowDuplicatedCategory:!0,allowDataOverflow:!1,angle:0,angleAxisId:0,axisLine:!0,axisLineType:"polygon",cx:0,cy:0,hide:!1,includeHidden:!1,label:!1,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"auto",zIndex:ec.axis},XA={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},KN=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e};function E2(t,e,r){if(r!=="auto")return r;if(t!=null)return Wp(t,e)?"category":"number"}function kH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function WC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kH(Object(r),!0).forEach(function(n){PEe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function PEe(t,e,r){return(e=DEe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DEe(t){var e=MEe(t,"string");return typeof e=="symbol"?e:e+""}function MEe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var BH={allowDataOverflow:$g.allowDataOverflow,allowDecimals:$g.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:$g.angleAxisId,includeHidden:!1,name:void 0,reversed:$g.reversed,scale:$g.scale,tick:$g.tick,tickCount:void 0,ticks:void 0,type:$g.type,unit:void 0},LH={allowDataOverflow:XA.allowDataOverflow,allowDecimals:XA.allowDecimals,allowDuplicatedCategory:XA.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:XA.radiusAxisId,includeHidden:XA.includeHidden,name:void 0,reversed:XA.reversed,scale:XA.scale,tick:XA.tick,tickCount:XA.tickCount,ticks:void 0,type:XA.type,unit:void 0},FEe=(t,e)=>{if(e!=null)return t.polarAxis.angleAxis[e]},qb=Zt([FEe,R3],(t,e)=>{var r;if(t!=null)return t;var n=(r=E2(e,"angleAxis",BH.type))!==null&&r!==void 0?r:"category";return WC(WC({},BH),{},{type:n})}),UEe=(t,e)=>t.polarAxis.radiusAxis[e],S2=Zt([UEe,R3],(t,e)=>{var r;if(t!=null)return t;var n=(r=E2(e,"radiusAxis",LH.type))!==null&&r!==void 0?r:"category";return WC(WC({},LH),{},{type:n})}),GN=t=>t.polarOptions,hD=Zt([Yp,qp,pu],EZ),EJ=Zt([GN,hD],(t,e)=>{if(t!=null)return Od(t.innerRadius,e,0)}),SJ=Zt([GN,hD],(t,e)=>{if(t!=null)return Od(t.outerRadius,e,e*.8)}),$Ee=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:r}=t;return[e,r]},_J=Zt([GN],$Ee),HEe=Zt([qb,_J],KN),TJ=Zt([hD,EJ,SJ],(t,e,r)=>{if(!(t==null||e==null||r==null))return[e,r]}),QEe=Zt([S2,TJ],KN),_2=Zt([ma,GN,EJ,SJ,Yp,qp],(t,e,r,n,i,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||r==null||n==null)){var{cx:a,cy:c,startAngle:u,endAngle:o}=e;return{cx:Od(a,i,i/2),cy:Od(c,s,s/2),innerRadius:r,outerRadius:n,startAngle:u,endAngle:o,clockWise:!1}}}),el=(t,e)=>e,T2=(t,e,r)=>r;function fD(t){return t?.id}function CJ(t,e,r){var{chartData:n=[]}=e,{allowDuplicatedCategory:i,dataKey:s}=r,a=new Map;return t.forEach(c=>{var u,o=(u=c.data)!==null&&u!==void 0?u:n;if(!(o==null||o.length===0)){var d=fD(c);o.forEach((f,A)=>{var p=s==null||i?A:String(Po(f,s,null)),g=Po(f,c.dataKey,0),y;a.has(p)?y=a.get(p):y={},Object.assign(y,{[d]:g}),a.set(p,y)})}}),Array.from(a.values())}function zN(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var WN=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function YN(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function VEe(t,e){if(t.length===e.length){for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}return!1}var zu=t=>{var e=ma(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Xb=t=>t.tooltip.settings.axisId;function KEe(t){if(t in ew)return ew[t]();var e="scale".concat(c2(t));if(e in ew)return ew[e]()}function RH(t){var e=t.ticks,r=t.bandwidth,n=t.range(),i=[Math.min(...n),Math.max(...n)];return{domain:()=>t.domain(),range:(function(s){function a(){return s.apply(this,arguments)}return a.toString=function(){return s.toString()},a})(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(s){var a=i[0],c=i[1];return a<=c?s>=a&&s<=c:s>=c&&s<=a},bandwidth:r?()=>r.call(t):void 0,ticks:e?s=>e.call(t,s):void 0,map:(s,a)=>{var c=t(s);if(c!=null){if(t.bandwidth&&a!==null&&a!==void 0&&a.position){var u=t.bandwidth();switch(a.position){case"middle":c+=u/2;break;case"end":c+=u;break}}return c}}}}function OH(t,e,r){if(typeof t=="function")return RH(t.copy().domain(e).range(r));if(t!=null){var n=KEe(t);if(n!=null)return n.domain(e).range(r),RH(n)}}var jJ=(t,e)=>{if(e!=null)switch(t){case"linear":{if(!Hp(e)){for(var r,n,i=0;i<e.length;i++){var s=e[i];da(s)&&((r===void 0||s<r)&&(r=s),(n===void 0||s>n)&&(n=s))}return r!==void 0&&n!==void 0?[r,n]:void 0}return e}default:return e}};function PH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function YC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PH(Object(r),!0).forEach(function(n){GEe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function GEe(t,e,r){return(e=zEe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zEe(t){var e=WEe(t,"string");return typeof e=="symbol"?e:e+""}function WEe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Y4=[0,"auto"],Mu={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},NJ=(t,e)=>t.cartesianAxis.xAxis[e],Jp=(t,e)=>{var r=NJ(t,e);return r??Mu},Fu={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Y4,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:h2},IJ=(t,e)=>t.cartesianAxis.yAxis[e],eg=(t,e)=>{var r=IJ(t,e);return r??Fu},YEe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},AD=(t,e)=>{var r=t.cartesianAxis.zAxis[e];return r??YEe},ac=(t,e,r)=>{switch(e){case"xAxis":return Jp(t,r);case"yAxis":return eg(t,r);case"zAxis":return AD(t,r);case"angleAxis":return qb(t,r);case"radiusAxis":return S2(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},qEe=(t,e,r)=>{switch(e){case"xAxis":return Jp(t,r);case"yAxis":return eg(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},Ay=(t,e,r)=>{switch(e){case"xAxis":return Jp(t,r);case"yAxis":return eg(t,r);case"angleAxis":return qb(t,r);case"radiusAxis":return S2(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},kJ=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function mD(t,e){return r=>{switch(t){case"xAxis":return"xAxisId"in r&&r.xAxisId===e;case"yAxis":return"yAxisId"in r&&r.yAxisId===e;case"zAxis":return"zAxisId"in r&&r.zAxisId===e;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===e;default:return!1}}}var pD=t=>t.graphicalItems.cartesianItems,XEe=Zt([el,T2],mD),gD=(t,e,r)=>t.filter(r).filter(n=>e?.includeHidden===!0?!0:!n.hide),C2=Zt([pD,ac,XEe],gD,{memoizeOptions:{resultEqualityCheck:YN}}),BJ=Zt([C2],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(zN)),LJ=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),ZEe=Zt([C2],LJ),vD=t=>t.map(e=>e.data).filter(Boolean).flat(1),JEe=Zt([C2],vD,{memoizeOptions:{resultEqualityCheck:YN}}),yD=(t,e)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=e;return t.length>0?t:r.slice(n,i+1)},xD=Zt([JEe,oJ],yD),bD=(t,e,r)=>e?.dataKey!=null?t.map(n=>({value:Po(n,e.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>t.map(i=>({value:Po(i,n)}))):t.map(n=>({value:n})),qN=Zt([xD,ac,C2],bD);function RJ(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function I_(t){if(Pm(t)||t instanceof Date){var e=Number(t);if(da(e))return e}}function DH(t){if(Array.isArray(t)){var e=[I_(t[0]),I_(t[1])];return Hp(e)?e:void 0}var r=I_(t);if(r!=null)return[r,r]}function Qp(t){return t.map(I_).filter(_h)}function e2e(t,e,r){return!r||typeof e!="number"||Om(e)?[]:r.length?Qp(r.flatMap(n=>{var i=Po(t,n.dataKey),s,a;if(Array.isArray(i)?[s,a]=i:s=a=i,!(!da(s)||!da(a)))return[e-s,e+a]})):[]}var vu=t=>{var e=zu(t),r=Xb(t);return Ay(t,e,r)},j2=Zt([vu],t=>t?.dataKey),t2e=Zt([BJ,oJ,vu],CJ),OJ=(t,e,r,n)=>{var i={},s=e.reduce((a,c)=>{if(c.stackId==null)return a;var u=a[c.stackId];return u==null&&(u=[]),u.push(c),a[c.stackId]=u,a},i);return Object.fromEntries(Object.entries(s).map(a=>{var[c,u]=a,o=n?[...u].reverse():u,d=o.map(fD);return[c,{stackedData:vye(t,d,r),graphicalItems:o}]}))},q4=Zt([t2e,BJ,w2,bJ],OJ),PJ=(t,e,r,n)=>{var{dataStartIndex:i,dataEndIndex:s}=e;if(n==null&&r!=="zAxis"){var a=Eye(t,i,s);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},r2e=Zt([ac],t=>t.allowDataOverflow),wD=t=>{var e;if(t==null||!("domain"in t))return Y4;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var r=Qp(t.ticks);return[Math.min(...r),Math.max(...r)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:Y4},ED=Zt([ac],wD),SD=Zt([ED,r2e],lJ),n2e=Zt([q4,Zp,el,SD],PJ,{memoizeOptions:{resultEqualityCheck:WN}}),XN=t=>t.errorBars,i2e=(t,e,r)=>t.flatMap(n=>e[n.id]).filter(Boolean).filter(n=>RJ(r,n)),qC=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var s=i.flat(),a=Math.min(...s),c=Math.max(...s);return[a,c]}},_D=(t,e,r,n,i)=>{var s,a;if(r.length>0&&t.forEach(c=>{r.forEach(u=>{var o,d,f=(o=n[u.id])===null||o===void 0?void 0:o.filter(b=>RJ(i,b)),A=Po(c,(d=e.dataKey)!==null&&d!==void 0?d:u.dataKey),p=e2e(c,A,f);if(p.length>=2){var g=Math.min(...p),y=Math.max(...p);(s==null||g<s)&&(s=g),(a==null||y>a)&&(a=y)}var v=DH(A);v!=null&&(s=s==null?v[0]:Math.min(s,v[0]),a=a==null?v[1]:Math.max(a,v[1]))})}),e?.dataKey!=null&&t.forEach(c=>{var u=DH(Po(c,e.dataKey));u!=null&&(s=s==null?u[0]:Math.min(s,u[0]),a=a==null?u[1]:Math.max(a,u[1]))}),da(s)&&da(a))return[s,a]},s2e=Zt([xD,ac,ZEe,XN,el],_D,{memoizeOptions:{resultEqualityCheck:WN}});function a2e(t){var{value:e}=t;if(Pm(e)||e instanceof Date)return e}var o2e=(t,e,r)=>{var n=t.map(a2e).filter(i=>i!=null);return r&&(e.dataKey==null||e.allowDuplicatedCategory&&nX(n))?CZ(0,t.length):e.allowDuplicatedCategory?n:Array.from(new Set(n))},DJ=t=>t.referenceElements.dots,Zb=(t,e,r)=>t.filter(n=>n.ifOverflow==="extendDomain").filter(n=>e==="xAxis"?n.xAxisId===r:n.yAxisId===r),l2e=Zt([DJ,el,T2],Zb),MJ=t=>t.referenceElements.areas,c2e=Zt([MJ,el,T2],Zb),FJ=t=>t.referenceElements.lines,u2e=Zt([FJ,el,T2],Zb),UJ=(t,e)=>{if(t!=null){var r=Qp(t.map(n=>e==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},d2e=Zt(l2e,el,UJ),$J=(t,e)=>{if(t!=null){var r=Qp(t.flatMap(n=>[e==="xAxis"?n.x1:n.y1,e==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},h2e=Zt([c2e,el],$J);function f2e(t){var e;if(t.x!=null)return Qp([t.x]);var r=(e=t.segment)===null||e===void 0?void 0:e.map(n=>n.x);return r==null||r.length===0?[]:Qp(r)}function A2e(t){var e;if(t.y!=null)return Qp([t.y]);var r=(e=t.segment)===null||e===void 0?void 0:e.map(n=>n.y);return r==null||r.length===0?[]:Qp(r)}var HJ=(t,e)=>{if(t!=null){var r=t.flatMap(n=>e==="xAxis"?f2e(n):A2e(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},m2e=Zt([u2e,el],HJ),p2e=Zt(d2e,m2e,h2e,(t,e,r)=>qC(t,r,e)),TD=(t,e,r,n,i,s,a,c)=>{if(r!=null)return r;var u=a==="vertical"&&c==="xAxis"||a==="horizontal"&&c==="yAxis",o=u?qC(n,s,i):qC(s,i);return CEe(e,o,t.allowDataOverflow)},g2e=Zt([ac,ED,SD,n2e,s2e,p2e,ma,el],TD,{memoizeOptions:{resultEqualityCheck:WN}}),v2e=[0,1],CD=(t,e,r,n,i,s,a)=>{if(!((t==null||r==null||r.length===0)&&a===void 0)){var{dataKey:c,type:u}=t,o=Wp(e,s);if(o&&c==null){var d;return CZ(0,(d=r?.length)!==null&&d!==void 0?d:0)}return u==="category"?o2e(n,t,o):i==="expand"?v2e:a}},jD=Zt([ac,ma,xD,qN,w2,el,g2e],CD);function y2e(t){return t in ew}var QJ=(t,e,r)=>{if(t!=null){var{scale:n,type:i}=t;if(n==="auto")return i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!e)?"point":i==="category"?"band":"linear";if(typeof n=="string"){var s="scale".concat(c2(n));return y2e(s)?s:"point"}}},Hm=Zt([ac,kJ,cD],QJ);function ZN(t,e,r,n){if(!(r==null||n==null))return typeof t.scale=="function"?OH(t.scale,r,n):OH(e,r,n)}var ND=(t,e,r)=>{var n=wD(e);if(!(r!=="auto"&&r!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Hp(t))return BEe(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Hp(t))return LEe(t,e.tickCount,e.allowDecimals)}},ID=Zt([jD,Ay,Hm],ND),kD=(t,e,r,n)=>{if(n!=="angleAxis"&&t?.type==="number"&&Hp(e)&&Array.isArray(r)&&r.length>0){var i,s,a=e[0],c=(i=r[0])!==null&&i!==void 0?i:0,u=e[1],o=(s=r[r.length-1])!==null&&s!==void 0?s:0;return[Math.min(a,c),Math.max(u,o)]}return e},x2e=Zt([ac,jD,ID,el],kD),b2e=Zt(qN,ac,(t,e)=>{if(!(!e||e.type!=="number")){var r=1/0,n=Array.from(Qp(t.map(f=>f.value))).sort((f,A)=>f-A),i=n[0],s=n[n.length-1];if(i==null||s==null)return 1/0;var a=s-i;if(a===0)return 1/0;for(var c=0;c<n.length-1;c++){var u=n[c],o=n[c+1];if(!(u==null||o==null)){var d=o-u;r=Math.min(r,d)}}return r/a}}),VJ=Zt(b2e,ma,xJ,pu,(t,e,r,n,i)=>i,(t,e,r,n,i)=>{if(!da(t))return 0;var s=e==="vertical"?n.height:n.width;if(i==="gap")return t*s/2;if(i==="no-gap"){var a=Od(r,t*s),c=t*s/2;return c-a-(c-a)/s*a}return 0}),w2e=(t,e,r)=>{var n=Jp(t,e);return n==null||typeof n.padding!="string"?0:VJ(t,"xAxis",e,r,n.padding)},E2e=(t,e,r)=>{var n=eg(t,e);return n==null||typeof n.padding!="string"?0:VJ(t,"yAxis",e,r,n.padding)},S2e=Zt(Jp,w2e,(t,e)=>{var r,n;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((r=i.left)!==null&&r!==void 0?r:0)+e,right:((n=i.right)!==null&&n!==void 0?n:0)+e}}),_2e=Zt(eg,E2e,(t,e)=>{var r,n;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((r=i.top)!==null&&r!==void 0?r:0)+e,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+e}}),T2e=Zt([pu,S2e,LN,BN,(t,e,r)=>r],(t,e,r,n,i)=>{var{padding:s}=n;return i?[s.left,r.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),C2e=Zt([pu,ma,_2e,LN,BN,(t,e,r)=>r],(t,e,r,n,i,s)=>{var{padding:a}=i;return s?[n.height-a.bottom,a.top]:e==="horizontal"?[t.top+t.height-r.bottom,t.top+r.top]:[t.top+r.top,t.top+t.height-r.bottom]}),N2=(t,e,r,n)=>{var i;switch(e){case"xAxis":return T2e(t,r,n);case"yAxis":return C2e(t,r,n);case"zAxis":return(i=AD(t,r))===null||i===void 0?void 0:i.range;case"angleAxis":return _J(t);case"radiusAxis":return TJ(t,r);default:return}},KJ=Zt([ac,N2],KN),j2e=Zt([Hm,x2e],jJ),JN=Zt([ac,Hm,j2e,KJ],ZN);Zt([C2,XN,el],i2e);function GJ(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var e5=(t,e)=>e,t5=(t,e,r)=>r,N2e=Zt(IN,e5,t5,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(GJ)),I2e=Zt(kN,e5,t5,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(GJ)),zJ=(t,e)=>({width:t.width,height:e.height}),k2e=(t,e)=>{var r=typeof e.width=="number"?e.width:h2;return{width:r,height:t.height}},WJ=Zt(pu,Jp,zJ),B2e=(t,e,r)=>{switch(e){case"top":return t.top;case"bottom":return r-t.bottom;default:return 0}},L2e=(t,e,r)=>{switch(e){case"left":return t.left;case"right":return r-t.right;default:return 0}},R2e=Zt(qp,pu,N2e,e5,t5,(t,e,r,n,i)=>{var s={},a;return r.forEach(c=>{var u=zJ(e,c);a==null&&(a=B2e(e,n,t));var o=n==="top"&&!i||n==="bottom"&&i;s[c.id]=a-Number(o)*u.height,a+=(o?-1:1)*u.height}),s}),O2e=Zt(Yp,pu,I2e,e5,t5,(t,e,r,n,i)=>{var s={},a;return r.forEach(c=>{var u=k2e(e,c);a==null&&(a=L2e(e,n,t));var o=n==="left"&&!i||n==="right"&&i;s[c.id]=a-Number(o)*u.width,a+=(o?-1:1)*u.width}),s}),P2e=(t,e)=>{var r=Jp(t,e);if(r!=null)return R2e(t,r.orientation,r.mirror)},D2e=Zt([pu,Jp,P2e,(t,e)=>e],(t,e,r,n)=>{if(e!=null){var i=r?.[n];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),M2e=(t,e)=>{var r=eg(t,e);if(r!=null)return O2e(t,r.orientation,r.mirror)},F2e=Zt([pu,eg,M2e,(t,e)=>e],(t,e,r,n)=>{if(e!=null){var i=r?.[n];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),YJ=Zt(pu,eg,(t,e)=>{var r=typeof e.width=="number"?e.width:h2;return{width:r,height:t.height}}),MH=(t,e,r)=>{switch(e){case"xAxis":return WJ(t,r).width;case"yAxis":return YJ(t,r).height;default:return}},qJ=(t,e,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:s,dataKey:a}=r,c=Wp(t,n),u=e.map(o=>o.value);if(a&&c&&s==="category"&&i&&nX(u))return u}},I2=Zt([ma,qN,ac,el],qJ),BD=(t,e,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:s}=r,a=Wp(t,n);if(a&&(i==="number"||s!=="auto"))return e.map(c=>c.value)}},LD=Zt([ma,qN,Ay,el],BD),FH=Zt([ma,qEe,Hm,JN,I2,LD,N2,ID,el],(t,e,r,n,i,s,a,c,u)=>{if(e!=null){var o=Wp(t,u);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:u,categoricalDomain:s,duplicateDomain:i,isCategorical:o,niceTicks:c,range:a,realScaleType:r,scale:n}}}),XJ=(t,e,r,n,i,s,a,c,u)=>{if(!(e==null||n==null)){var o=Wp(t,u),{type:d,ticks:f,tickCount:A}=e,p=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,g=d==="category"&&n.bandwidth?n.bandwidth()/p:0;g=u==="angleAxis"&&s!=null&&s.length>=2?Vu(s[0]-s[1])*2*g:g;var y=f||i;return y?y.map((v,b)=>{var w=a?a.indexOf(v):v,S=n.map(w);return da(S)?{index:b,coordinate:S+g,value:v,offset:g}:null}).filter(_h):o&&c?c.map((v,b)=>{var w=n.map(v);return da(w)?{coordinate:w+g,value:v,index:b,offset:g}:null}).filter(_h):n.ticks?n.ticks(A).map((v,b)=>{var w=n.map(v);return da(w)?{coordinate:w+g,value:v,index:b,offset:g}:null}).filter(_h):n.domain().map((v,b)=>{var w=n.map(v);return da(w)?{coordinate:w+g,value:a?a[v]:v,index:b,offset:g}:null}).filter(_h)}},ZJ=Zt([ma,Ay,Hm,JN,ID,N2,I2,LD,el],XJ),JJ=(t,e,r,n,i,s,a)=>{if(!(e==null||r==null||n==null||n[0]===n[1])){var c=Wp(t,a),{tickCount:u}=e,o=0;return o=a==="angleAxis"&&n?.length>=2?Vu(n[0]-n[1])*2*o:o,c&&s?s.map((d,f)=>{var A=r.map(d);return da(A)?{coordinate:A+o,value:d,index:f,offset:o}:null}).filter(_h):r.ticks?r.ticks(u).map((d,f)=>{var A=r.map(d);return da(A)?{coordinate:A+o,value:d,index:f,offset:o}:null}).filter(_h):r.domain().map((d,f)=>{var A=r.map(d);return da(A)?{coordinate:A+o,value:i?i[d]:d,index:f,offset:o}:null}).filter(_h)}},_b=Zt([ma,Ay,JN,N2,I2,LD,el],JJ),Tb=Zt(ac,JN,(t,e)=>{if(!(t==null||e==null))return YC(YC({},t),{},{scale:e})}),U2e=Zt([ac,Hm,jD,KJ],ZN);Zt((t,e,r)=>AD(t,r),U2e,(t,e)=>{if(!(t==null||e==null))return YC(YC({},t),{},{scale:e})});var $2e=Zt([ma,IN,kN],(t,e,r)=>{switch(t){case"horizontal":return e.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),eee=t=>t.options.defaultTooltipEventType,tee=t=>t.options.validateTooltipEventTypes;function ree(t,e,r){if(t==null)return e;var n=t?"axis":"item";return r==null?e:r.includes(n)?n:e}function RD(t,e){var r=eee(t),n=tee(t);return ree(e,r,n)}function H2e(t){return Mn(e=>RD(e,t))}var nee=(t,e)=>{var r,n=Number(e);if(!(Om(n)||e==null))return n>=0?t==null||(r=t[n])===null||r===void 0?void 0:r.value:void 0},Q2e=t=>t.tooltip.settings,n0={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},V2e={itemInteraction:{click:n0,hover:n0},axisInteraction:{click:n0,hover:n0},keyboardInteraction:n0,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},iee=Ih({name:"tooltip",initialState:V2e,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:ul()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:r,next:n}=e.payload,i=TA(t).tooltipItemPayloads.indexOf(r);i>-1&&(t.tooltipItemPayloads[i]=n)},prepare:ul()},removeTooltipEntrySettings:{reducer(t,e){var r=TA(t).tooltipItemPayloads.indexOf(e.payload);r>-1&&t.tooltipItemPayloads.splice(r,1)},prepare:ul()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:K2e,replaceTooltipEntrySettings:G2e,removeTooltipEntrySettings:z2e,setTooltipSettingsState:W2e,setActiveMouseOverItemIndex:see,mouseLeaveItem:Y2e,mouseLeaveChart:aee,setActiveClickItemIndex:q2e,setMouseOverAxisIndex:oee,setMouseClickAxisIndex:X2e,setSyncInteraction:X4,setKeyboardInteraction:Z4}=iee.actions,Z2e=iee.reducer;function UH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function NS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UH(Object(r),!0).forEach(function(n){J2e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function J2e(t,e,r){return(e=eSe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eSe(t){var e=tSe(t,"string");return typeof e=="symbol"?e:e+""}function tSe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rSe(t,e,r){return e==="axis"?r==="click"?t.axisInteraction.click:t.axisInteraction.hover:r==="click"?t.itemInteraction.click:t.itemInteraction.hover}function nSe(t){return t.index!=null}var lee=(t,e,r,n)=>{if(e==null)return n0;var i=rSe(t,e,r);if(i==null)return n0;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(nSe(i)){if(s)return NS(NS({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return NS(NS({},n0),{},{coordinate:i.coordinate})};function iSe(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var r=Number(t);return Number.isFinite(r)?r:void 0}function sSe(t,e){var r=iSe(t),n=e[0],i=e[1];if(r===void 0)return!1;var s=Math.min(n,i),a=Math.max(n,i);return r>=s&&r<=a}function aSe(t,e,r){if(r==null||e==null)return!0;var n=Po(t,e);return n==null||!Hp(r)?!0:sSe(n,r)}var OD=(t,e,r,n)=>{var i=t?.index;if(i==null)return null;var s=Number(i);if(!da(s))return i;var a=0,c=1/0;e.length>0&&(c=e.length-1);var u=Math.max(a,Math.min(s,c)),o=e[u];return o==null||aSe(o,r,n)?String(u):null},cee=(t,e,r,n,i,s,a)=>{if(s!=null){var c=a[0],u=c?.getPosition(s);if(u!=null)return u;var o=i?.[Number(s)];if(o)return r==="horizontal"?{x:o.coordinate,y:(n.top+e)/2}:{x:(n.left+t)/2,y:o.coordinate}}},uee=(t,e,r,n)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;if(r==="hover"?i=t.itemInteraction.hover.graphicalItemId:i=t.itemInteraction.click.graphicalItemId,i==null&&n!=null){var s=t.tooltipItemPayloads[0];return s!=null?[s]:[]}return t.tooltipItemPayloads.filter(a=>{var c;return((c=a.settings)===null||c===void 0?void 0:c.graphicalItemId)===i})},dee=t=>t.options.tooltipPayloadSearcher,Jb=t=>t.tooltip;function $H(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function HH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$H(Object(r),!0).forEach(function(n){oSe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$H(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oSe(t,e,r){return(e=lSe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lSe(t){var e=cSe(t,"string");return typeof e=="symbol"?e:e+""}function cSe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uSe(t,e){return t??e}var hee=(t,e,r,n,i,s,a)=>{if(!(e==null||s==null)){var{chartData:c,computedData:u,dataStartIndex:o,dataEndIndex:d}=r,f=[];return t.reduce((A,p)=>{var g,{dataDefinedOnItem:y,settings:v}=p,b=uSe(y,c),w=Array.isArray(b)?YX(b,o,d):b,S=(g=v?.dataKey)!==null&&g!==void 0?g:n,_=v?.nameKey,T;if(n&&Array.isArray(w)&&!Array.isArray(w[0])&&a==="axis"?T=Kge(w,n,i):T=s(w,e,u,_),Array.isArray(T))T.forEach(D=>{var V=HH(HH({},v),{},{name:D.name,unit:D.unit,color:void 0,fill:void 0});A.push(U$({tooltipEntrySettings:V,dataKey:D.dataKey,payload:D.payload,value:Po(D.payload,D.dataKey),name:D.name}))});else{var L;A.push(U$({tooltipEntrySettings:v,dataKey:S,payload:T,value:Po(T,S),name:(L=Po(T,_))!==null&&L!==void 0?L:v?.name}))}return A},f)}},PD=Zt([vu,kJ,cD],QJ),dSe=Zt([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),hSe=Zt([zu,Xb],mD),e1=Zt([dSe,vu,hSe],gD,{memoizeOptions:{resultEqualityCheck:YN}}),fSe=Zt([e1],t=>t.filter(zN)),ASe=Zt([e1],vD,{memoizeOptions:{resultEqualityCheck:YN}}),t1=Zt([ASe,Zp],yD),mSe=Zt([fSe,Zp,vu],CJ),DD=Zt([t1,vu,e1],bD),fee=Zt([vu],wD),pSe=Zt([vu],t=>t.allowDataOverflow),Aee=Zt([fee,pSe],lJ),gSe=Zt([e1],t=>t.filter(zN)),vSe=Zt([mSe,gSe,w2,bJ],OJ),ySe=Zt([vSe,Zp,zu,Aee],PJ),xSe=Zt([e1],LJ),bSe=Zt([t1,vu,xSe,XN,zu],_D,{memoizeOptions:{resultEqualityCheck:WN}}),wSe=Zt([DJ,zu,Xb],Zb),ESe=Zt([wSe,zu],UJ),SSe=Zt([MJ,zu,Xb],Zb),_Se=Zt([SSe,zu],$J),TSe=Zt([FJ,zu,Xb],Zb),CSe=Zt([TSe,zu],HJ),jSe=Zt([ESe,CSe,_Se],qC),NSe=Zt([vu,fee,Aee,ySe,bSe,jSe,ma,zu],TD),k2=Zt([vu,ma,t1,DD,w2,zu,NSe],CD),ISe=Zt([k2,vu,PD],ND),kSe=Zt([vu,k2,ISe,zu],kD),mee=t=>{var e=zu(t),r=Xb(t),n=!1;return N2(t,e,r,n)},pee=Zt([vu,mee],KN),gee=Zt([vu,PD,kSe,pee],ZN),BSe=Zt([ma,DD,vu,zu],qJ),LSe=Zt([ma,DD,vu,zu],BD),RSe=(t,e,r,n,i,s,a,c)=>{if(e){var{type:u}=e,o=Wp(t,c);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=u==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=c==="angleAxis"&&i!=null&&i?.length>=2?Vu(i[0]-i[1])*2*f:f,o&&a?a.map((A,p)=>{var g=n.map(A);return da(g)?{coordinate:g+f,value:A,index:p,offset:f}:null}).filter(_h):n.domain().map((A,p)=>{var g=n.map(A);return da(g)?{coordinate:g+f,value:s?s[A]:A,index:p,offset:f}:null}).filter(_h)}}},tg=Zt([ma,vu,PD,gee,mee,BSe,LSe,zu],RSe),MD=Zt([eee,tee,Q2e],(t,e,r)=>ree(r.shared,t,e)),vee=t=>t.tooltip.settings.trigger,FD=t=>t.tooltip.settings.defaultIndex,B2=Zt([Jb,MD,vee,FD],lee),x0=Zt([B2,t1,j2,k2],OD),yee=Zt([tg,x0],nee),UD=Zt([B2],t=>{if(t)return t.dataKey}),OSe=Zt([B2],t=>{if(t)return t.graphicalItemId}),xee=Zt([Jb,MD,vee,FD],uee),PSe=Zt([Yp,qp,ma,pu,tg,FD,xee],cee),DSe=Zt([B2,PSe],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),MSe=Zt([B2],t=>{var e;return(e=t?.active)!==null&&e!==void 0?e:!1}),FSe=Zt([xee,x0,Zp,j2,yee,dee,MD],hee),USe=Zt([FSe],t=>{if(t!=null){var e=t.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(e))}});function QH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function VH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QH(Object(r),!0).forEach(function(n){$Se(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $Se(t,e,r){return(e=HSe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function HSe(t){var e=QSe(t,"string");return typeof e=="symbol"?e:e+""}function QSe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var VSe=()=>Mn(vu),KSe=()=>{var t=VSe(),e=Mn(tg),r=Mn(gee);return yb(!t||!r?void 0:VH(VH({},t),{},{scale:r}),e)};function KH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function My(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KH(Object(r),!0).forEach(function(n){GSe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function GSe(t,e,r){return(e=zSe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zSe(t){var e=WSe(t,"string");return typeof e=="symbol"?e:e+""}function WSe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var YSe=(t,e,r,n)=>{var i=e.find(s=>s&&s.index===r);if(i){if(t==="horizontal")return{x:i.coordinate,y:n.chartY};if(t==="vertical")return{x:n.chartX,y:i.coordinate}}return{x:0,y:0}},qSe=(t,e,r,n)=>{var i=e.find(o=>o&&o.index===r);if(i){if(t==="centric"){var s=i.coordinate,{radius:a}=n;return My(My(My({},n),Eo(n.cx,n.cy,a,s)),{},{angle:s,radius:a})}var c=i.coordinate,{angle:u}=n;return My(My(My({},n),Eo(n.cx,n.cy,c,u)),{},{angle:u,radius:c})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function XSe(t,e){var{chartX:r,chartY:n}=t;return r>=e.left&&r<=e.left+e.width&&n>=e.top&&n<=e.top+e.height}var bee=(t,e,r,n,i)=>{var s,a=(s=e?.length)!==null&&s!==void 0?s:0;if(a<=1||t==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var c=0;c<a;c++){var u,o,d,f,A,p=c>0?(u=r[c-1])===null||u===void 0?void 0:u.coordinate:(o=r[a-1])===null||o===void 0?void 0:o.coordinate,g=(d=r[c])===null||d===void 0?void 0:d.coordinate,y=c>=a-1?(f=r[0])===null||f===void 0?void 0:f.coordinate:(A=r[c+1])===null||A===void 0?void 0:A.coordinate,v=void 0;if(!(p==null||g==null||y==null))if(Vu(g-p)!==Vu(y-g)){var b=[];if(Vu(y-g)===Vu(i[1]-i[0])){v=y;var w=g+i[1]-i[0];b[0]=Math.min(w,(w+p)/2),b[1]=Math.max(w,(w+p)/2)}else{v=p;var S=y+i[1]-i[0];b[0]=Math.min(g,(S+g)/2),b[1]=Math.max(g,(S+g)/2)}var _=[Math.min(g,(v+g)/2),Math.max(g,(v+g)/2)];if(t>_[0]&&t<=_[1]||t>=b[0]&&t<=b[1]){var T;return(T=r[c])===null||T===void 0?void 0:T.index}}else{var L=Math.min(p,y),D=Math.max(p,y);if(t>(L+g)/2&&t<=(D+g)/2){var V;return(V=r[c])===null||V===void 0?void 0:V.index}}}else if(e)for(var G=0;G<a;G++){var J=e[G];if(J!=null){var ee=e[G+1],ue=e[G-1];if(G===0&&ee!=null&&t<=(J.coordinate+ee.coordinate)/2||G===a-1&&ue!=null&&t>(J.coordinate+ue.coordinate)/2||G>0&&G<a-1&&ue!=null&&ee!=null&&t>(J.coordinate+ue.coordinate)/2&&t<=(J.coordinate+ee.coordinate)/2)return J.index}}return-1},ZSe=()=>Mn(cD),$D=(t,e)=>e,wee=(t,e,r)=>r,HD=(t,e,r,n)=>n,JSe=Zt(tg,t=>xN(t,e=>e.coordinate)),QD=Zt([Jb,$D,wee,HD],lee),VD=Zt([QD,t1,j2,k2],OD),e_e=(t,e,r)=>{if(e!=null){var n=Jb(t);return e==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},Eee=Zt([Jb,$D,wee,HD],uee),XC=Zt([Yp,qp,ma,pu,tg,HD,Eee],cee),t_e=Zt([QD,XC],(t,e)=>{var r;return(r=t.coordinate)!==null&&r!==void 0?r:e}),See=Zt([tg,VD],nee),r_e=Zt([Eee,VD,Zp,j2,See,dee,$D],hee),n_e=Zt([QD,VD],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),i_e=(t,e,r,n,i,s,a)=>{if(!(!t||!r||!n||!i)&&XSe(t,a)){var c=Sye(t,e),u=bee(c,s,i,r,n),o=YSe(e,i,u,t);return{activeIndex:String(u),activeCoordinate:o}}},s_e=(t,e,r,n,i,s,a)=>{if(!(!t||!n||!i||!s||!r)){var c=Hbe(t,r);if(c){var u=_ye(c,e),o=bee(u,a,s,n,i),d=qSe(e,s,o,c);return{activeIndex:String(o),activeCoordinate:d}}}},a_e=(t,e,r,n,i,s,a,c)=>{if(!(!t||!e||!n||!i||!s))return e==="horizontal"||e==="vertical"?i_e(t,e,n,i,s,a,c):s_e(t,e,r,n,i,s,a)},o_e=Zt(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,r)=>r,(t,e,r)=>{if(e!=null){var n=t[e];if(n!=null)return r?n.panoramaElement:n.element}}),l_e=Zt(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(n=>parseInt(n,10)).concat(Object.values(ec)),r=Array.from(new Set(e));return r.sort((n,i)=>n-i)},{memoizeOptions:{resultEqualityCheck:VEe}});function GH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GH(Object(r),!0).forEach(function(n){c_e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function c_e(t,e,r){return(e=u_e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u_e(t){var e=d_e(t,"string");return typeof e=="symbol"?e:e+""}function d_e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var h_e={},f_e={zIndexMap:Object.values(ec).reduce((t,e)=>zH(zH({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),h_e)},A_e=new Set(Object.values(ec));function m_e(t){return A_e.has(t)}var _ee=Ih({name:"zIndex",initialState:f_e,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:r}=e.payload;t.zIndexMap[r]?t.zIndexMap[r].consumers+=1:t.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:ul()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:r}=e.payload;t.zIndexMap[r]&&(t.zIndexMap[r].consumers-=1,t.zIndexMap[r].consumers<=0&&!m_e(r)&&delete t.zIndexMap[r])},prepare:ul()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:r,element:n,isPanorama:i}=e.payload;t.zIndexMap[r]?i?t.zIndexMap[r].panoramaElement=n:t.zIndexMap[r].element=n:t.zIndexMap[r]={consumers:0,element:i?void 0:n,panoramaElement:i?n:void 0}},prepare:ul()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:r}=e.payload;t.zIndexMap[r]&&(e.payload.isPanorama?t.zIndexMap[r].panoramaElement=void 0:t.zIndexMap[r].element=void 0)},prepare:ul()}}}),{registerZIndexPortal:p_e,unregisterZIndexPortal:g_e,registerZIndexPortalElement:v_e,unregisterZIndexPortalElement:y_e}=_ee.actions,x_e=_ee.reducer;function Md(t){var{zIndex:e,children:r}=t,n=nxe(),i=n&&e!==void 0&&e!==0,s=Dd(),a=Fo();j.useLayoutEffect(()=>i?(a(p_e({zIndex:e})),()=>{a(g_e({zIndex:e}))}):N0,[a,e,i]);var c=Mn(u=>o_e(u,e,s));return i?c?l0.createPortal(r,c):null:r}function J4(){return J4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},J4.apply(null,arguments)}function WH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function IS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WH(Object(r),!0).forEach(function(n){b_e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function b_e(t,e,r){return(e=w_e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function w_e(t){var e=E_e(t,"string");return typeof e=="symbol"?e:e+""}function E_e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function S_e(t){var{cursor:e,cursorComp:r,cursorProps:n}=t;return j.isValidElement(e)?j.cloneElement(e,n):j.createElement(r,n)}function __e(t){var e,{coordinate:r,payload:n,index:i,offset:s,tooltipAxisBandSize:a,layout:c,cursor:u,tooltipEventType:o,chartName:d}=t,f=r,A=n,p=i;if(!u||!f||d!=="ScatterChart"&&o!=="axis")return null;var g,y,v;if(d==="ScatterChart")g=f,y=rbe,v=ec.cursorLine;else if(d==="BarChart")g=nbe(c,f,s,a),y=wZ,v=ec.cursorRectangle;else if(c==="radial"&&sX(f)){var{cx:b,cy:w,radius:S,startAngle:_,endAngle:T}=SZ(f);g={cx:b,cy:w,startAngle:_,endAngle:T,innerRadius:S,outerRadius:S},y=TZ,v=ec.cursorLine}else g={points:Gbe(c,f,s)},y=D3,v=ec.cursorLine;var L=typeof u=="object"&&"className"in u?u.className:void 0,D=IS(IS(IS(IS({stroke:"#ccc",pointerEvents:"none"},s),g),Zv(u)),{},{payload:A,payloadIndex:p,className:Xs("recharts-tooltip-cursor",L)});return j.createElement(Md,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:v},j.createElement(S_e,{cursor:u,cursorComp:y,cursorProps:D}))}function T_e(t){var e=KSe(),r=iZ(),n=Gb(),i=ZSe();return e==null||r==null||n==null||i==null?null:j.createElement(__e,J4({},t,{offset:r,layout:n,tooltipAxisBandSize:e,chartName:i}))}var Tee=j.createContext(null),C_e=()=>j.useContext(Tee),sB={exports:{}},YH;function j_e(){return YH||(YH=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(u,o,d){this.fn=u,this.context=o,this.once=d||!1}function s(u,o,d,f,A){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new i(d,f||u,A),g=r?r+o:o;return u._events[g]?u._events[g].fn?u._events[g]=[u._events[g],p]:u._events[g].push(p):(u._events[g]=p,u._eventsCount++),u}function a(u,o){--u._eventsCount===0?u._events=new n:delete u._events[o]}function c(){this._events=new n,this._eventsCount=0}c.prototype.eventNames=function(){var o=[],d,f;if(this._eventsCount===0)return o;for(f in d=this._events)e.call(d,f)&&o.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(d)):o},c.prototype.listeners=function(o){var d=r?r+o:o,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var A=0,p=f.length,g=new Array(p);A<p;A++)g[A]=f[A].fn;return g},c.prototype.listenerCount=function(o){var d=r?r+o:o,f=this._events[d];return f?f.fn?1:f.length:0},c.prototype.emit=function(o,d,f,A,p,g){var y=r?r+o:o;if(!this._events[y])return!1;var v=this._events[y],b=arguments.length,w,S;if(v.fn){switch(v.once&&this.removeListener(o,v.fn,void 0,!0),b){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,A),!0;case 5:return v.fn.call(v.context,d,f,A,p),!0;case 6:return v.fn.call(v.context,d,f,A,p,g),!0}for(S=1,w=new Array(b-1);S<b;S++)w[S-1]=arguments[S];v.fn.apply(v.context,w)}else{var _=v.length,T;for(S=0;S<_;S++)switch(v[S].once&&this.removeListener(o,v[S].fn,void 0,!0),b){case 1:v[S].fn.call(v[S].context);break;case 2:v[S].fn.call(v[S].context,d);break;case 3:v[S].fn.call(v[S].context,d,f);break;case 4:v[S].fn.call(v[S].context,d,f,A);break;default:if(!w)for(T=1,w=new Array(b-1);T<b;T++)w[T-1]=arguments[T];v[S].fn.apply(v[S].context,w)}}return!0},c.prototype.on=function(o,d,f){return s(this,o,d,f,!1)},c.prototype.once=function(o,d,f){return s(this,o,d,f,!0)},c.prototype.removeListener=function(o,d,f,A){var p=r?r+o:o;if(!this._events[p])return this;if(!d)return a(this,p),this;var g=this._events[p];if(g.fn)g.fn===d&&(!A||g.once)&&(!f||g.context===f)&&a(this,p);else{for(var y=0,v=[],b=g.length;y<b;y++)(g[y].fn!==d||A&&!g[y].once||f&&g[y].context!==f)&&v.push(g[y]);v.length?this._events[p]=v.length===1?v[0]:v:a(this,p)}return this},c.prototype.removeAllListeners=function(o){var d;return o?(d=r?r+o:o,this._events[d]&&a(this,d)):(this._events=new n,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,t.exports=c})(sB)),sB.exports}var N_e=j_e();const I_e=IA(N_e);var yE=new I_e,eR="recharts.syncEvent.tooltip",qH="recharts.syncEvent.brush",KD=(t,e)=>{if(e&&Array.isArray(t)){var r=Number.parseInt(e,10);if(!Om(r))return t[r]}},k_e={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},Cee=Ih({name:"options",initialState:k_e,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),B_e=Cee.reducer,{createEventEmitter:L_e}=Cee.actions;function R_e(t){return t.tooltip.syncInteraction}var O_e={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},jee=Ih({name:"chartData",initialState:O_e,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:r,endIndex:n}=e.payload;r!=null&&(t.dataStartIndex=r),n!=null&&(t.dataEndIndex=n)}}}),{setChartData:XH,setDataStartEndIndexes:P_e,setComputedData:MWe}=jee.actions,D_e=jee.reducer,M_e=["x","y"];function ZH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Fy(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZH(Object(r),!0).forEach(function(n){F_e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function F_e(t,e,r){return(e=U_e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function U_e(t){var e=$_e(t,"string");return typeof e=="symbol"?e:e+""}function $_e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function H_e(t,e){if(t==null)return{};var r,n,i=Q_e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Q_e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function V_e(){var t=Mn(uD),e=Mn(dD),r=Fo(),n=Mn(wJ),i=Mn(tg),s=Gb(),a=RN(),c=Mn(u=>u.rootProps.className);j.useEffect(()=>{if(t==null)return N0;var u=(o,d,f)=>{if(e!==f&&t===o){if(n==="index"){var A;if(a&&d!==null&&d!==void 0&&(A=d.payload)!==null&&A!==void 0&&A.coordinate&&d.payload.sourceViewBox){var p=d.payload.coordinate,{x:g,y}=p,v=H_e(p,M_e),{x:b,y:w,width:S,height:_}=d.payload.sourceViewBox,T=Fy(Fy({},v),{},{x:a.x+(S?(g-b)/S:0)*a.width,y:a.y+(_?(y-w)/_:0)*a.height});r(Fy(Fy({},d),{},{payload:Fy(Fy({},d.payload),{},{coordinate:T})}))}else r(d);return}if(i!=null){var L;if(typeof n=="function"){var D={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},V=n(i,D);L=i[V]}else n==="value"&&(L=i.find(ne=>String(ne.value)===d.payload.label));var{coordinate:G}=d.payload;if(L==null||d.payload.active===!1||G==null||a==null){r(X4({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:J,y:ee}=G,ue=Math.min(J,a.x+a.width),pe=Math.min(ee,a.y+a.height),ge={x:s==="horizontal"?L.coordinate:ue,y:s==="horizontal"?pe:L.coordinate},he=X4({active:d.payload.active,coordinate:ge,dataKey:d.payload.dataKey,index:String(L.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});r(he)}}};return yE.on(eR,u),()=>{yE.off(eR,u)}},[c,r,e,t,n,i,s,a])}function K_e(){var t=Mn(uD),e=Mn(dD),r=Fo();j.useEffect(()=>{if(t==null)return N0;var n=(i,s,a)=>{e!==a&&t===i&&r(P_e(s))};return yE.on(qH,n),()=>{yE.off(qH,n)}},[r,e,t])}function G_e(){var t=Fo();j.useEffect(()=>{t(L_e())},[t]),V_e(),K_e()}function z_e(t,e,r,n,i,s){var a=Mn(p=>e_e(p,t,e)),c=Mn(dD),u=Mn(uD),o=Mn(wJ),d=Mn(R_e),f=d?.active,A=RN();j.useEffect(()=>{if(!f&&u!=null&&c!=null){var p=X4({active:s,coordinate:r,dataKey:a,index:i,label:typeof n=="number"?String(n):n,sourceViewBox:A,graphicalItemId:void 0});yE.emit(eR,u,p,c)}},[f,r,a,i,n,c,u,o,s,A])}function JH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function eQ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JH(Object(r),!0).forEach(function(n){W_e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function W_e(t,e,r){return(e=Y_e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Y_e(t){var e=q_e(t,"string");return typeof e=="symbol"?e:e+""}function q_e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function X_e(t){return t.dataKey}function Z_e(t,e){return j.isValidElement(t)?j.cloneElement(t,e):typeof t=="function"?j.createElement(t,e):j.createElement(Oxe,e)}var tQ=[],J_e={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function eTe(t){var e,r,n=sc(t,J_e),{active:i,allowEscapeViewBox:s,animationDuration:a,animationEasing:c,content:u,filterNull:o,isAnimationActive:d,offset:f,payloadUniqBy:A,position:p,reverseDirection:g,useTranslate3d:y,wrapperStyle:v,cursor:b,shared:w,trigger:S,defaultIndex:_,portal:T,axisId:L}=n,D=Fo(),V=typeof _=="number"?String(_):_;j.useEffect(()=>{D(W2e({shared:w,trigger:S,axisId:L,active:i,defaultIndex:V}))},[D,w,S,L,i,V]);var G=RN(),J=gZ(),ee=H2e(w),{activeIndex:ue,isActive:pe}=(e=Mn(ot=>n_e(ot,ee,S,V)))!==null&&e!==void 0?e:{},ge=Mn(ot=>r_e(ot,ee,S,V)),he=Mn(ot=>See(ot,ee,S,V)),ne=Mn(ot=>t_e(ot,ee,S,V)),Ae=ge,oe=C_e(),Be=(r=i??pe)!==null&&r!==void 0?r:!1,[ke,ve]=yX([Ae,Be]),se=ee==="axis"?he:void 0;z_e(ee,S,ne,se,ue,Be);var me=T??oe;if(me==null||G==null||ee==null)return null;var je=Ae??tQ;Be||(je=tQ),o&&je.length&&(je=AX(je.filter(ot=>ot.value!=null&&(ot.hide!==!0||n.includeHidden)),A,X_e));var Ue=je.length>0,De=j.createElement(Hxe,{allowEscapeViewBox:s,animationDuration:a,animationEasing:c,isAnimationActive:d,active:Be,coordinate:ne,hasPayload:Ue,offset:f,position:p,reverseDirection:g,useTranslate3d:y,viewBox:G,wrapperStyle:v,lastBoundingBox:ke,innerRef:ve,hasPortalFromProps:!!T},Z_e(u,eQ(eQ({},n),{},{payload:je,label:se,active:Be,activeIndex:ue,coordinate:ne,accessibilityLayer:J})));return j.createElement(j.Fragment,null,l0.createPortal(De,me),Be&&j.createElement(T_e,{cursor:b,tooltipEventType:ee,coordinate:ne,payload:je,index:ue}))}var Cb=t=>null;Cb.displayName="Cell";function tTe(t,e,r){return(e=rTe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rTe(t){var e=nTe(t,"string");return typeof e=="symbol"?e:e+""}function nTe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class iTe{constructor(e){tTe(this,"cache",new Map),this.maxSize=e}get(e){var r=this.cache.get(e);return r!==void 0&&(this.cache.delete(e),this.cache.set(e,r)),r}set(e,r){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(e,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function rQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sTe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rQ(Object(r),!0).forEach(function(n){aTe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aTe(t,e,r){return(e=oTe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oTe(t){var e=lTe(t,"string");return typeof e=="symbol"?e:e+""}function lTe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cTe={cacheSize:2e3,enableCache:!0},Nee=sTe({},cTe),nQ=new iTe(Nee.cacheSize),uTe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},iQ="recharts_measurement_span";function dTe(t,e){var r=e.fontSize||"",n=e.fontFamily||"",i=e.fontWeight||"",s=e.fontStyle||"",a=e.letterSpacing||"",c=e.textTransform||"";return"".concat(t,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(s,"|").concat(a,"|").concat(c)}var sQ=(t,e)=>{try{var r=document.getElementById(iQ);r||(r=document.createElement("span"),r.setAttribute("id",iQ),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,uTe,e),r.textContent="".concat(t);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Lw=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||MN.isSsr)return{width:0,height:0};if(!Nee.enableCache)return sQ(e,r);var n=dTe(e,r),i=nQ.get(n);if(i)return i;var s=sQ(e,r);return nQ.set(n,s),s},Iee;function hTe(t,e,r){return(e=fTe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fTe(t){var e=ATe(t,"string");return typeof e=="symbol"?e:e+""}function ATe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var aQ=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,oQ=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,mTe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,pTe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,gTe={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},vTe=["cm","mm","pt","pc","in","Q","px"];function yTe(t){return vTe.includes(t)}var $x="NaN";function xTe(t,e){return t*gTe[e]}class fd{static parse(e){var r,[,n,i]=(r=pTe.exec(e))!==null&&r!==void 0?r:[];return n==null?fd.NaN:new fd(parseFloat(n),i??"")}constructor(e,r){this.num=e,this.unit=r,this.num=e,this.unit=r,Om(e)&&(this.unit=""),r!==""&&!mTe.test(r)&&(this.num=NaN,this.unit=""),yTe(r)&&(this.num=xTe(e,r),this.unit="px")}add(e){return this.unit!==e.unit?new fd(NaN,""):new fd(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new fd(NaN,""):new fd(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new fd(NaN,""):new fd(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new fd(NaN,""):new fd(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Om(this.num)}}Iee=fd;hTe(fd,"NaN",new Iee(NaN,""));function kee(t){if(t==null||t.includes($x))return $x;for(var e=t;e.includes("*")||e.includes("/");){var r,[,n,i,s]=(r=aQ.exec(e))!==null&&r!==void 0?r:[],a=fd.parse(n??""),c=fd.parse(s??""),u=i==="*"?a.multiply(c):a.divide(c);if(u.isNaN())return $x;e=e.replace(aQ,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var o,[,d,f,A]=(o=oQ.exec(e))!==null&&o!==void 0?o:[],p=fd.parse(d??""),g=fd.parse(A??""),y=f==="+"?p.add(g):p.subtract(g);if(y.isNaN())return $x;e=e.replace(oQ,y.toString())}return e}var lQ=/\(([^()]*)\)/;function bTe(t){for(var e=t,r;(r=lQ.exec(e))!=null;){var[,n]=r;e=e.replace(lQ,kee(n))}return e}function wTe(t){var e=t.replace(/\s+/g,"");return e=bTe(e),e=kee(e),e}function ETe(t){try{return wTe(t)}catch{return $x}}function aB(t){var e=ETe(t.slice(5,-1));return e===$x?"":e}var STe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],_Te=["dx","dy","angle","className","breakAll"];function tR(){return tR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tR.apply(null,arguments)}function cQ(t,e){if(t==null)return{};var r,n,i=TTe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function TTe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Bee=/[ \f\n\r\t\v\u2028\u2029]+/,Lee=t=>{var{children:e,breakAll:r,style:n}=t;try{var i=[];wc(e)||(r?i=e.toString().split(""):i=e.toString().split(Bee));var s=i.map(c=>({word:c,width:Lw(c,n).width})),a=r?0:Lw("",n).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}};function CTe(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var Ree=(t,e,r,n)=>t.reduce((i,s)=>{var{word:a,width:c}=s,u=i[i.length-1];if(u&&c!=null&&(e==null||n||u.width+c+r<Number(e)))u.words.push(a),u.width+=c+r;else{var o={words:[a],width:c};i.push(o)}return i},[]),Oee=t=>t.reduce((e,r)=>e.width>r.width?e:r),jTe="",uQ=(t,e,r,n,i,s,a,c)=>{var u=t.slice(0,e),o=Lee({breakAll:r,style:n,children:u+jTe});if(!o)return[!1,[]];var d=Ree(o.wordsWithComputedWidth,s,a,c),f=d.length>i||Oee(d).width>Number(s);return[f,d]},NTe=(t,e,r,n,i)=>{var{maxLines:s,children:a,style:c,breakAll:u}=t,o=ti(s),d=String(a),f=Ree(e,n,r,i);if(!o||i)return f;var A=f.length>s||Oee(f).width>Number(n);if(!A)return f;for(var p=0,g=d.length-1,y=0,v;p<=g&&y<=d.length-1;){var b=Math.floor((p+g)/2),w=b-1,[S,_]=uQ(d,w,u,c,s,n,r,i),[T]=uQ(d,b,u,c,s,n,r,i);if(!S&&!T&&(p=b+1),S&&T&&(g=b-1),!S&&T){v=_;break}y++}return v||f},dQ=t=>{var e=wc(t)?[]:t.toString().split(Bee);return[{words:e,width:void 0}]},ITe=t=>{var{width:e,scaleToFit:r,children:n,style:i,breakAll:s,maxLines:a}=t;if((e||r)&&!MN.isSsr){var c,u,o=Lee({breakAll:s,children:n,style:i});if(o){var{wordsWithComputedWidth:d,spaceWidth:f}=o;c=d,u=f}else return dQ(n);return NTe({breakAll:s,children:n,maxLines:a,style:i},c,u,e,!!r)}return dQ(n)},Pee="#808080",kTe={angle:0,breakAll:!1,capHeight:"0.71em",fill:Pee,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},L2=j.forwardRef((t,e)=>{var r=sc(t,kTe),{x:n,y:i,lineHeight:s,capHeight:a,fill:c,scaleToFit:u,textAnchor:o,verticalAnchor:d}=r,f=cQ(r,STe),A=j.useMemo(()=>ITe({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:u,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,u,f.style,f.width]),{dx:p,dy:g,angle:y,className:v,breakAll:b}=f,w=cQ(f,_Te);if(!Pm(n)||!Pm(i)||A.length===0)return null;var S=Number(n)+(ti(p)?p:0),_=Number(i)+(ti(g)?g:0);if(!da(S)||!da(_))return null;var T;switch(d){case"start":T=aB("calc(".concat(a,")"));break;case"middle":T=aB("calc(".concat((A.length-1)/2," * -").concat(s," + (").concat(a," / 2))"));break;default:T=aB("calc(".concat(A.length-1," * -").concat(s,")"));break}var L=[],D=A[0];if(u&&D!=null){var V=D.width,{width:G}=f;L.push("scale(".concat(ti(G)&&ti(V)?G/V:1,")"))}return y&&L.push("rotate(".concat(y,", ").concat(S,", ").concat(_,")")),L.length&&(w.transform=L.join(" ")),j.createElement("text",tR({},Au(w),{ref:e,x:S,y:_,className:Xs("recharts-text",v),textAnchor:o,fill:c.includes("url")?Pee:c}),A.map((J,ee)=>{var ue=J.words.join(b?"":" ");return j.createElement("tspan",{x:S,dy:ee===0?T:s,key:"".concat(ue,"-").concat(ee)},ue)}))});L2.displayName="Text";function hQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ZA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hQ(Object(r),!0).forEach(function(n){BTe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function BTe(t,e,r){return(e=LTe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LTe(t){var e=RTe(t,"string");return typeof e=="symbol"?e:e+""}function RTe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var OTe=t=>{var{viewBox:e,position:r,offset:n=0,parentViewBox:i}=t,{x:s,y:a,height:c,upperWidth:u,lowerWidth:o}=k3(e),d=s,f=s+(u-o)/2,A=(d+f)/2,p=(u+o)/2,g=d+u/2,y=c>=0?1:-1,v=y*n,b=y>0?"end":"start",w=y>0?"start":"end",S=u>=0?1:-1,_=S*n,T=S>0?"end":"start",L=S>0?"start":"end",D=i;if(r==="top"){var V={x:d+u/2,y:a-v,horizontalAnchor:"middle",verticalAnchor:b};return D&&(V.height=Math.max(a-D.y,0),V.width=u),V}if(r==="bottom"){var G={x:f+o/2,y:a+c+v,horizontalAnchor:"middle",verticalAnchor:w};return D&&(G.height=Math.max(D.y+D.height-(a+c),0),G.width=o),G}if(r==="left"){var J={x:A-_,y:a+c/2,horizontalAnchor:T,verticalAnchor:"middle"};return D&&(J.width=Math.max(J.x-D.x,0),J.height=c),J}if(r==="right"){var ee={x:A+p+_,y:a+c/2,horizontalAnchor:L,verticalAnchor:"middle"};return D&&(ee.width=Math.max(D.x+D.width-ee.x,0),ee.height=c),ee}var ue=D?{width:p,height:c}:{};return r==="insideLeft"?ZA({x:A+_,y:a+c/2,horizontalAnchor:L,verticalAnchor:"middle"},ue):r==="insideRight"?ZA({x:A+p-_,y:a+c/2,horizontalAnchor:T,verticalAnchor:"middle"},ue):r==="insideTop"?ZA({x:d+u/2,y:a+v,horizontalAnchor:"middle",verticalAnchor:w},ue):r==="insideBottom"?ZA({x:f+o/2,y:a+c-v,horizontalAnchor:"middle",verticalAnchor:b},ue):r==="insideTopLeft"?ZA({x:d+_,y:a+v,horizontalAnchor:L,verticalAnchor:w},ue):r==="insideTopRight"?ZA({x:d+u-_,y:a+v,horizontalAnchor:T,verticalAnchor:w},ue):r==="insideBottomLeft"?ZA({x:f+_,y:a+c-v,horizontalAnchor:L,verticalAnchor:b},ue):r==="insideBottomRight"?ZA({x:f+o-_,y:a+c-v,horizontalAnchor:T,verticalAnchor:b},ue):r&&typeof r=="object"&&(ti(r.x)||ty(r.x))&&(ti(r.y)||ty(r.y))?ZA({x:s+Od(r.x,p),y:a+Od(r.y,c),horizontalAnchor:"end",verticalAnchor:"end"},ue):ZA({x:g,y:a+c/2,horizontalAnchor:"middle",verticalAnchor:"middle"},ue)},PTe=["labelRef"],DTe=["content"];function fQ(t,e){if(t==null)return{};var r,n,i=MTe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function MTe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function AQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AQ(Object(r),!0).forEach(function(n){FTe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function FTe(t,e,r){return(e=UTe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function UTe(t){var e=$Te(t,"string");return typeof e=="symbol"?e:e+""}function $Te(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _p(){return _p=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_p.apply(null,arguments)}var Dee=j.createContext(null),HTe=t=>{var{x:e,y:r,upperWidth:n,lowerWidth:i,width:s,height:a,children:c}=t,u=j.useMemo(()=>({x:e,y:r,upperWidth:n,lowerWidth:i,width:s,height:a}),[e,r,n,i,s,a]);return j.createElement(Dee.Provider,{value:u},c)},Mee=()=>{var t=j.useContext(Dee),e=RN();return t||(e?k3(e):void 0)},QTe=j.createContext(null),VTe=()=>{var t=j.useContext(QTe),e=Mn(_2);return t||e},KTe=t=>{var{value:e,formatter:r}=t,n=wc(t.children)?e:t.children;return typeof r=="function"?r(n):n},GD=t=>t!=null&&typeof t=="function",GTe=(t,e)=>{var r=Vu(e-t),n=Math.min(Math.abs(e-t),360);return r*n},zTe=(t,e,r,n,i)=>{var{offset:s,className:a}=t,{cx:c,cy:u,innerRadius:o,outerRadius:d,startAngle:f,endAngle:A,clockWise:p}=i,g=(o+d)/2,y=GTe(f,A),v=y>=0?1:-1,b,w;switch(e){case"insideStart":b=f+v*s,w=p;break;case"insideEnd":b=A-v*s,w=!p;break;case"end":b=A+v*s,w=p;break;default:throw new Error("Unsupported position ".concat(e))}w=y<=0?w:!w;var S=Eo(c,u,g,b),_=Eo(c,u,g,b+(w?1:-1)*359),T="M".concat(S.x,",").concat(S.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(w?0:1,`,
    `).concat(_.x,",").concat(_.y),L=wc(t.id)?aE("recharts-radial-line-"):t.id;return j.createElement("text",_p({},n,{dominantBaseline:"central",className:Xs("recharts-radial-bar-label",a)}),j.createElement("defs",null,j.createElement("path",{id:L,d:T})),j.createElement("textPath",{xlinkHref:"#".concat(L)},r))},WTe=(t,e,r)=>{var{cx:n,cy:i,innerRadius:s,outerRadius:a,startAngle:c,endAngle:u}=t,o=(c+u)/2;if(r==="outside"){var{x:d,y:f}=Eo(n,i,a+e,o);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var A=(s+a)/2,{x:p,y:g}=Eo(n,i,A,o);return{x:p,y:g,textAnchor:"middle",verticalAnchor:"middle"}},k_=t=>t!=null&&"cx"in t&&ti(t.cx),YTe={angle:0,offset:5,zIndex:ec.label,position:"middle",textBreakAll:!1};function qTe(t){if(!k_(t))return t;var{cx:e,cy:r,outerRadius:n}=t,i=n*2;return{x:e-n,y:r-n,width:i,upperWidth:i,lowerWidth:i,height:i}}function Xg(t){var e=sc(t,YTe),{viewBox:r,parentViewBox:n,position:i,value:s,children:a,content:c,className:u="",textBreakAll:o,labelRef:d}=e,f=VTe(),A=Mee(),p=i==="center"?A:f??A,g,y,v;r==null?g=p:k_(r)?g=r:g=k3(r);var b=qTe(g);if(!g||wc(s)&&wc(a)&&!j.isValidElement(c)&&typeof c!="function")return null;var w=tw(tw({},e),{},{viewBox:g});if(j.isValidElement(c)){var{labelRef:S}=w,_=fQ(w,PTe);return j.cloneElement(c,_)}if(typeof c=="function"){var{content:T}=w,L=fQ(w,DTe);if(y=j.createElement(c,L),j.isValidElement(y))return y}else y=KTe(e);var D=Au(e);if(k_(g)){if(i==="insideStart"||i==="insideEnd"||i==="end")return zTe(e,i,y,D,g);v=WTe(g,e.offset,e.position)}else{if(!b)return null;var V=OTe({viewBox:b,position:i,offset:e.offset,parentViewBox:k_(n)?void 0:n});v=tw(tw({x:V.x,y:V.y,textAnchor:V.horizontalAnchor,verticalAnchor:V.verticalAnchor},V.width!==void 0?{width:V.width}:{}),V.height!==void 0?{height:V.height}:{})}return j.createElement(Md,{zIndex:e.zIndex},j.createElement(L2,_p({ref:d,className:Xs("recharts-label",u)},D,v,{textAnchor:CTe(D.textAnchor)?D.textAnchor:v.textAnchor,breakAll:o}),y))}Xg.displayName="Label";var XTe=(t,e,r)=>{if(!t)return null;var n={viewBox:e,labelRef:r};return t===!0?j.createElement(Xg,_p({key:"label-implicit"},n)):Pm(t)?j.createElement(Xg,_p({key:"label-implicit",value:t},n)):j.isValidElement(t)?t.type===Xg?j.cloneElement(t,tw({key:"label-implicit"},n)):j.createElement(Xg,_p({key:"label-implicit",content:t},n)):GD(t)?j.createElement(Xg,_p({key:"label-implicit",content:t},n)):t&&typeof t=="object"?j.createElement(Xg,_p({},t,{key:"label-implicit"},n)):null};function ZTe(t){var{label:e,labelRef:r}=t,n=Mee();return XTe(e,n,r)||null}var oB={},lB={},mQ;function JTe(){return mQ||(mQ=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r[r.length-1]}t.last=e})(lB)),lB}var cB={},pQ;function eCe(){return pQ||(pQ=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Array.isArray(r)?r:Array.from(r)}t.toArray=e})(cB)),cB}var gQ;function tCe(){return gQ||(gQ=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=JTe(),r=eCe(),n=x3();function i(s){if(n.isArrayLike(s))return e.last(r.toArray(s))}t.last=i})(oB)),oB}var uB,vQ;function rCe(){return vQ||(vQ=1,uB=tCe().last),uB}var nCe=rCe();const Fee=IA(nCe);var iCe=["valueAccessor"],sCe=["dataKey","clockWise","id","textBreakAll","zIndex"];function ZC(){return ZC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ZC.apply(null,arguments)}function yQ(t,e){if(t==null)return{};var r,n,i=aCe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function aCe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var oCe=t=>Array.isArray(t.value)?Fee(t.value):t.value,Uee=j.createContext(void 0),$ee=Uee.Provider,Hee=j.createContext(void 0),lCe=Hee.Provider;function cCe(){return j.useContext(Uee)}function uCe(){return j.useContext(Hee)}function B_(t){var{valueAccessor:e=oCe}=t,r=yQ(t,iCe),{dataKey:n,clockWise:i,id:s,textBreakAll:a,zIndex:c}=r,u=yQ(r,sCe),o=cCe(),d=uCe(),f=o||d;return!f||!f.length?null:j.createElement(Md,{zIndex:c??ec.label},j.createElement(nc,{className:"recharts-label-list"},f.map((A,p)=>{var g,y=wc(n)?e(A,p):Po(A.payload,n),v=wc(s)?{}:{id:"".concat(s,"-").concat(p)};return j.createElement(Xg,ZC({key:"label-".concat(p)},Au(A),u,v,{fill:(g=r.fill)!==null&&g!==void 0?g:A.fill,parentViewBox:A.parentViewBox,value:y,textBreakAll:a,viewBox:A.viewBox,index:p,zIndex:0}))})))}B_.displayName="LabelList";function zD(t){var{label:e}=t;return e?e===!0?j.createElement(B_,{key:"labelList-implicit"}):j.isValidElement(e)||GD(e)?j.createElement(B_,{key:"labelList-implicit",content:e}):typeof e=="object"?j.createElement(B_,ZC({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var dCe=["points","className","baseLinePoints","connectNulls"],xQ;function Hx(){return Hx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Hx.apply(null,arguments)}function hCe(t,e){if(t==null)return{};var r,n,i=fCe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function fCe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function ACe(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var bQ=t=>t!=null&&t.x===+t.x&&t.y===+t.y,mCe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];e.forEach(a=>{var c=r[r.length-1];bQ(a)?c&&c.push(a):c&&c.length>0&&r.push([])});var n=e[0],i=r[r.length-1];bQ(n)&&i&&i.push(n);var s=r[r.length-1];return s&&s.length<=0&&(r=r.slice(0,-1)),r},Rw=(t,e)=>{var r=mCe(t);e&&(r=[r.reduce((i,s)=>[...i,...s],[])]);var n=r.map(i=>i.reduce((s,a,c)=>jl(xQ||(xQ=ACe(["","","",",",""])),s,c===0?"M":"L",a.x,a.y),"")).join("");return r.length===1?"".concat(n,"Z"):n},pCe=(t,e,r)=>{var n=Rw(t,r);return"".concat(n.slice(-1)==="Z"?n.slice(0,-1):n,"L").concat(Rw(Array.from(e).reverse(),r).slice(1))},Qee=t=>{var{points:e,className:r,baseLinePoints:n,connectNulls:i}=t,s=hCe(t,dCe);if(!e||!e.length)return null;var a=Xs("recharts-polygon",r);if(n&&n.length){var c=s.stroke&&s.stroke!=="none",u=pCe(e,n,i);return j.createElement("g",{className:a},j.createElement("path",Hx({},Au(s),{fill:u.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:u})),c?j.createElement("path",Hx({},Au(s),{fill:"none",d:Rw(e,i)})):null,c?j.createElement("path",Hx({},Au(s),{fill:"none",d:Rw(n,i)})):null)}var o=Rw(e,i);return j.createElement("path",Hx({},Au(s),{fill:o.slice(-1)==="Z"?s.fill:"none",className:a,d:o}))};function rR(){return rR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rR.apply(null,arguments)}var WD=t=>{var{cx:e,cy:r,r:n,className:i}=t,s=Xs("recharts-dot",i);return ti(e)&&ti(r)&&ti(n)?j.createElement("circle",rR({},Vc(t),y3(t),{className:s,cx:e,cy:r,r:n})):null},YD=t=>t.graphicalItems.polarItems,gCe=Zt([el,T2],mD),r5=Zt([YD,ac,gCe],gD),vCe=Zt([r5],vD),n5=Zt([vCe,b2],yD),Vee=Zt([n5,ac,r5],bD);Zt([n5,ac,r5],(t,e,r)=>r.length>0?t.flatMap(n=>r.flatMap(i=>{var s,a=Po(n,(s=e.dataKey)!==null&&s!==void 0?s:i.dataKey);return{value:a,errorDomain:[]}})).filter(Boolean):e?.dataKey!=null?t.map(n=>({value:Po(n,e.dataKey),errorDomain:[]})):t.map(n=>({value:n,errorDomain:[]})));var wQ=()=>{},yCe=Zt([n5,ac,r5,XN,el],_D),xCe=Zt([ac,ED,SD,wQ,yCe,wQ,ma,el],TD),Kee=Zt([ac,ma,n5,Vee,w2,el,xCe],CD),Gee=Zt([Kee,Ay,Hm],ND),bCe=Zt([ac,Kee,Gee,el],kD),wCe=Zt([Hm,bCe],jJ),qD=(t,e,r)=>{switch(e){case"angleAxis":return qb(t,r);case"radiusAxis":return S2(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},XD=(t,e,r)=>{switch(e){case"angleAxis":return HEe(t,r);case"radiusAxis":return QEe(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},R2=Zt([qD,Hm,wCe,XD],ZN),zee=Zt([ma,Vee,Ay,el],BD),O2=Zt([ma,qD,Hm,R2,Gee,XD,I2,zee,el],XJ),ECe=Zt([O2],t=>{if(t){var e=new Map;return t.forEach(r=>{var n=(r.coordinate+360)%360;e.has(n)||e.set(n,r)}),Array.from(e.values())}});Zt([ma,qD,R2,XD,I2,zee,el],JJ);var SCe=(t,e)=>O2(t,"angleAxis",e,!1),_Ce=Zt([SCe],t=>{if(t)return t.map(e=>e.coordinate)}),TCe=(t,e)=>O2(t,"radiusAxis",e,!1),CCe=Zt([TCe],t=>{if(t)return t.map(e=>e.coordinate)}),jCe=["gridType","radialLines","angleAxisId","radiusAxisId","cx","cy","innerRadius","outerRadius","polarAngles","polarRadius","zIndex"];function NCe(t,e){if(t==null)return{};var r,n,i=ICe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function ICe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function _A(){return _A=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_A.apply(null,arguments)}function EQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function i5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EQ(Object(r),!0).forEach(function(n){kCe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kCe(t,e,r){return(e=BCe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BCe(t){var e=LCe(t,"string");return typeof e=="symbol"?e:e+""}function LCe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var RCe=(t,e,r,n)=>{var i="";return n.forEach((s,a)=>{var c=Eo(e,r,t,s);a?i+="L ".concat(c.x,",").concat(c.y):i+="M ".concat(c.x,",").concat(c.y)}),i+="Z",i},OCe=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:i,polarAngles:s,radialLines:a}=t;if(!s||!s.length||!a)return null;var c=i5({stroke:"#ccc"},Vc(t));return j.createElement("g",{className:"recharts-polar-grid-angle"},s.map(u=>{var o=Eo(e,r,n,u),d=Eo(e,r,i,u);return j.createElement("line",_A({key:"line-".concat(u)},c,{x1:o.x,y1:o.y,x2:d.x,y2:d.y}))}))},SQ=t=>{var{cx:e,cy:r,radius:n}=t,i=i5({stroke:"#ccc",fill:"none"},Vc(t));return j.createElement("circle",_A({},i,{className:Xs("recharts-polar-grid-concentric-circle",t.className),cx:e,cy:r,r:n}))},_Q=t=>{var{radius:e}=t,r=i5({stroke:"#ccc",fill:"none"},Vc(t));return j.createElement("path",_A({},r,{className:Xs("recharts-polar-grid-concentric-polygon",t.className),d:RCe(e,t.cx,t.cy,t.polarAngles)}))},PCe=t=>{var{polarRadius:e,gridType:r}=t;if(!e||!e.length)return null;var n=Math.max(...e),i=t.fill&&t.fill!=="none";return j.createElement("g",{className:"recharts-polar-grid-concentric"},i&&r==="circle"&&j.createElement(SQ,_A({},t,{radius:n})),i&&r!=="circle"&&j.createElement(_Q,_A({},t,{radius:n})),e.map((s,a)=>{var c=a;return r==="circle"?j.createElement(SQ,_A({key:c},t,{fill:"none",radius:s})):j.createElement(_Q,_A({key:c},t,{fill:"none",radius:s}))}))},DCe={angleAxisId:0,radiusAxisId:0,gridType:"polygon",radialLines:!0,zIndex:ec.grid},Wee=t=>{var e,r,n,i,s,a,c,u,o=sc(t,DCe),{gridType:d,radialLines:f,angleAxisId:A,radiusAxisId:p,cx:g,cy:y,innerRadius:v,outerRadius:b,polarAngles:w,polarRadius:S,zIndex:_}=o,T=NCe(o,jCe),L=Mn(_2),D=Mn(pe=>_Ce(pe,A)),V=Mn(pe=>CCe(pe,p)),G=Array.isArray(w)?w:D,J=Array.isArray(S)?S:V;if(G==null||J==null)return null;var ee=i5({cx:(e=(r=L?.cx)!==null&&r!==void 0?r:g)!==null&&e!==void 0?e:0,cy:(n=(i=L?.cy)!==null&&i!==void 0?i:y)!==null&&n!==void 0?n:0,innerRadius:(s=(a=L?.innerRadius)!==null&&a!==void 0?a:v)!==null&&s!==void 0?s:0,outerRadius:(c=(u=L?.outerRadius)!==null&&u!==void 0?u:b)!==null&&c!==void 0?c:0,polarAngles:G,polarRadius:J,zIndex:_},T),{outerRadius:ue}=ee;return ue<=0?null:j.createElement(Md,{zIndex:ee.zIndex},j.createElement("g",{className:"recharts-polar-grid"},j.createElement(PCe,_A({gridType:d,radialLines:f},ee,{polarAngles:G,polarRadius:J})),j.createElement(OCe,_A({gridType:d,radialLines:f},ee,{polarAngles:G,polarRadius:J}))))};Wee.displayName="PolarGrid";var MCe={radiusAxis:{},angleAxis:{}},Yee=Ih({name:"polarAxis",initialState:MCe,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:FWe,removeRadiusAxis:UWe,addAngleAxis:FCe,removeAngleAxis:UCe}=Yee.actions,$Ce=Yee.reducer;function ZD(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var HCe=["children","type"];function ay(){return ay=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ay.apply(null,arguments)}function TQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Pf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TQ(Object(r),!0).forEach(function(n){QCe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function QCe(t,e,r){return(e=VCe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VCe(t){var e=KCe(t,"string");return typeof e=="symbol"?e:e+""}function KCe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function GCe(t,e){if(t==null)return{};var r,n,i=zCe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function zCe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var CQ=1e-5,WCe=Math.cos(PC(45)),YCe="angleAxis";function qCe(t){var e=Fo(),r=rxe(),n=j.useMemo(()=>{var{children:a,type:c}=t,u=GCe(t,HCe),o=E2(r,"angleAxis",c);if(o!=null)return Pf(Pf({},u),{},{type:o})},[t,r]),i=Mn(a=>qb(a,n?.id)),s=n===i;return j.useEffect(()=>n==null?N0:(e(FCe(n)),()=>{e(UCe(n))}),[e,n]),s?t.children:null}var XCe=(t,e)=>{var{cx:r,cy:n,radius:i,orientation:s,tickSize:a}=e,c=a||8,u=Eo(r,n,i,t.coordinate),o=Eo(r,n,i+(s==="inner"?-1:1)*c,t.coordinate);return{x1:u.x,y1:u.y,x2:o.x,y2:o.y}},ZCe=(t,e)=>{var r=Math.cos(PC(-t.coordinate));return r>CQ?e==="outer"?"start":"end":r<-CQ?e==="outer"?"end":"start":"middle"},JCe=t=>{var e=Math.cos(PC(-t.coordinate)),r=Math.sin(PC(-t.coordinate));return Math.abs(e)<=WCe?r>0?"start":"end":"middle"},eje=t=>{var{cx:e,cy:r,radius:n,axisLineType:i,axisLine:s,ticks:a}=t;if(!s)return null;var c=Pf(Pf({},Vc(t)),{},{fill:"none"},Vc(s));if(i==="circle")return j.createElement(WD,ay({className:"recharts-polar-angle-axis-line"},c,{cx:e,cy:r,r:n}));var u=a.map(o=>Eo(e,r,n,o.coordinate));return j.createElement(Qee,ay({className:"recharts-polar-angle-axis-line"},c,{points:u}))},tje=t=>{var{tick:e,tickProps:r,value:n}=t;return e?j.isValidElement(e)?j.cloneElement(e,r):typeof e=="function"?e(r):j.createElement(L2,ay({},r,{className:"recharts-polar-angle-axis-tick-value"}),n):null},rje=t=>{var{tick:e,tickLine:r,tickFormatter:n,stroke:i,ticks:s}=t,a=Vc(t),c=Zv(e),u=Pf(Pf({},a),{},{fill:"none"},Vc(r)),o=s.map((d,f)=>{var A=XCe(d,t),p=ZCe(d,t.orientation),g=JCe(d),y=Pf(Pf(Pf({},a),{},{textAnchor:p,verticalAnchor:g,stroke:"none",fill:i},c),{},{index:f,payload:d,x:A.x2,y:A.y2});return j.createElement(nc,ay({className:Xs("recharts-polar-angle-axis-tick",ZD(e)),key:"tick-".concat(d.coordinate)},Vb(t,d,f)),r&&j.createElement("line",ay({className:"recharts-polar-angle-axis-tick-line"},u,A)),j.createElement(tje,{tick:e,tickProps:y,value:n?n(d.value,f):d.value}))});return j.createElement(nc,{className:"recharts-polar-angle-axis-ticks"},o)},nje=t=>{var{angleAxisId:e}=t,r=Mn(_2),n=Mn(c=>R2(c,"angleAxis",e)),i=Dd(),s=Mn(c=>ECe(c,"angleAxis",e,i));if(r==null||!s||!s.length||n==null)return null;var a=Pf(Pf(Pf({},t),{},{scale:n},r),{},{radius:r.outerRadius,ticks:s});return j.createElement(Md,{zIndex:a.zIndex},j.createElement(nc,{className:Xs("recharts-polar-angle-axis",YCe,a.className)},j.createElement(eje,a),j.createElement(rje,a)))};function qee(t){var e=sc(t,$g);return j.createElement(qCe,{id:e.angleAxisId,scale:e.scale,type:e.type,dataKey:e.dataKey,unit:void 0,name:e.name,allowDuplicatedCategory:!1,allowDataOverflow:!1,reversed:e.reversed,includeHidden:!1,allowDecimals:e.allowDecimals,tickCount:e.tickCount,ticks:e.ticks,tick:e.tick,domain:e.domain},j.createElement(nje,e))}qee.displayName="PolarAngleAxis";function jQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function NQ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jQ(Object(r),!0).forEach(function(n){ije(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ije(t,e,r){return(e=sje(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sje(t){var e=aje(t,"string");return typeof e=="symbol"?e:e+""}function aje(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oje=(t,e)=>e,JD=Zt([YD,oje],(t,e)=>t.filter(r=>r.type==="pie").find(r=>r.id===e)),lje=[],eM=(t,e,r)=>r?.length===0?lje:r,Xee=Zt([b2,JD,eM],(t,e,r)=>{var{chartData:n}=t;if(e!=null){var i;if(e?.data!=null&&e.data.length>0?i=e.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(s=>NQ(NQ({},e.presentationProps),s.props))),i!=null)return i}}),cje=Zt([Xee,JD,eM],(t,e,r)=>{if(!(t==null||e==null))return t.map((n,i)=>{var s,a=Po(n,e.nameKey,e.name),c;return r!=null&&(s=r[i])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?c=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?c=n.fill:c=e.fill,{value:Kb(a,e.dataKey),color:c,payload:n,type:e.legendType}})}),uje=Zt([Xee,JD,eM,pu],(t,e,r,n)=>{if(!(e==null||t==null))return hNe({offset:n,pieSettings:e,displayedData:t,cells:r})}),dB={exports:{}},vo={};var IQ;function dje(){if(IQ)return vo;IQ=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),o=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),A=Symbol.for("react.view_transition"),p=Symbol.for("react.client.reference");function g(y){if(typeof y=="object"&&y!==null){var v=y.$$typeof;switch(v){case t:switch(y=y.type,y){case r:case i:case n:case u:case o:case A:return y;default:switch(y=y&&y.$$typeof,y){case a:case c:case f:case d:return y;case s:return y;default:return v}}case e:return v}}}return vo.ContextConsumer=s,vo.ContextProvider=a,vo.Element=t,vo.ForwardRef=c,vo.Fragment=r,vo.Lazy=f,vo.Memo=d,vo.Portal=e,vo.Profiler=i,vo.StrictMode=n,vo.Suspense=u,vo.SuspenseList=o,vo.isContextConsumer=function(y){return g(y)===s},vo.isContextProvider=function(y){return g(y)===a},vo.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===t},vo.isForwardRef=function(y){return g(y)===c},vo.isFragment=function(y){return g(y)===r},vo.isLazy=function(y){return g(y)===f},vo.isMemo=function(y){return g(y)===d},vo.isPortal=function(y){return g(y)===e},vo.isProfiler=function(y){return g(y)===i},vo.isStrictMode=function(y){return g(y)===n},vo.isSuspense=function(y){return g(y)===u},vo.isSuspenseList=function(y){return g(y)===o},vo.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===r||y===i||y===n||y===u||y===o||typeof y=="object"&&y!==null&&(y.$$typeof===f||y.$$typeof===d||y.$$typeof===a||y.$$typeof===s||y.$$typeof===c||y.$$typeof===p||y.getModuleId!==void 0)},vo.typeOf=g,vo}var kQ;function hje(){return kQ||(kQ=1,dB.exports=dje()),dB.exports}var fje=hje(),BQ=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",LQ=null,hB=null,Zee=t=>{if(t===LQ&&Array.isArray(hB))return hB;var e=[];return j.Children.forEach(t,r=>{wc(r)||(fje.isFragment(r)?e=e.concat(Zee(r.props.children)):e.push(r))}),hB=e,LQ=t,e};function tM(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(i=>BQ(i)):n=[BQ(e)],Zee(t).forEach(i=>{var s=ey(i,"type.displayName")||ey(i,"type.name");s&&n.indexOf(s)!==-1&&r.push(i)}),r}var Aje=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,fB={},RQ;function mje(){return RQ||(RQ=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}t.isPlainObject=e})(fB)),fB}var AB,OQ;function pje(){return OQ||(OQ=1,AB=mje().isPlainObject),AB}var gje=pje();const vje=IA(gje);var PQ,DQ,MQ,FQ,UQ;function $Q(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function HQ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$Q(Object(r),!0).forEach(function(n){yje(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$Q(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yje(t,e,r){return(e=xje(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xje(t){var e=bje(t,"string");return typeof e=="symbol"?e:e+""}function bje(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JC(){return JC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},JC.apply(null,arguments)}function R1(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var QQ=(t,e,r,n,i)=>{var s=r-n,a;return a=jl(PQ||(PQ=R1(["M ",",",""])),t,e),a+=jl(DQ||(DQ=R1(["L ",",",""])),t+r,e),a+=jl(MQ||(MQ=R1(["L ",",",""])),t+r-s/2,e+i),a+=jl(FQ||(FQ=R1(["L ",",",""])),t+r-s/2-n,e+i),a+=jl(UQ||(UQ=R1(["L ",","," Z"])),t,e),a},wje={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Eje=t=>{var e=sc(t,wje),{x:r,y:n,upperWidth:i,lowerWidth:s,height:a,className:c}=e,{animationEasing:u,animationDuration:o,animationBegin:d,isUpdateAnimationActive:f}=e,A=j.useRef(null),[p,g]=j.useState(-1),y=j.useRef(i),v=j.useRef(s),b=j.useRef(a),w=j.useRef(r),S=j.useRef(n),_=p2(t,"trapezoid-");if(j.useEffect(()=>{if(A.current&&A.current.getTotalLength)try{var ge=A.current.getTotalLength();ge&&g(ge)}catch{}},[]),r!==+r||n!==+n||i!==+i||s!==+s||a!==+a||i===0&&s===0||a===0)return null;var T=Xs("recharts-trapezoid",c);if(!f)return j.createElement("g",null,j.createElement("path",JC({},Au(e),{className:T,d:QQ(r,n,i,s,a)})));var L=y.current,D=v.current,V=b.current,G=w.current,J=S.current,ee="0px ".concat(p===-1?1:p,"px"),ue="".concat(p,"px 0px"),pe=vZ(["strokeDasharray"],o,u);return j.createElement(m2,{animationId:_,key:_,canBegin:p>0,duration:o,easing:u,isActive:f,begin:d},ge=>{var he=Nl(L,i,ge),ne=Nl(D,s,ge),Ae=Nl(V,a,ge),oe=Nl(G,r,ge),Be=Nl(J,n,ge);A.current&&(y.current=he,v.current=ne,b.current=Ae,w.current=oe,S.current=Be);var ke=ge>0?{transition:pe,strokeDasharray:ue}:{strokeDasharray:ee};return j.createElement("path",JC({},Au(e),{className:T,d:QQ(oe,Be,he,ne,Ae),ref:A,style:HQ(HQ({},ke),e.style)}))})},Sje=["option","shapeType","activeClassName"];function _je(t,e){if(t==null)return{};var r,n,i=Tje(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Tje(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function VQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ej(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VQ(Object(r),!0).forEach(function(n){Cje(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cje(t,e,r){return(e=jje(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jje(t){var e=Nje(t,"string");return typeof e=="symbol"?e:e+""}function Nje(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ije(t,e){return ej(ej({},e),t)}function kje(t,e){return t==="symbols"}function KQ(t){var{shapeType:e,elementProps:r}=t;switch(e){case"rectangle":return j.createElement(wZ,r);case"trapezoid":return j.createElement(Eje,r);case"sector":return j.createElement(TZ,r);case"symbols":if(kje(e))return j.createElement(v3,r);break;case"curve":return j.createElement(D3,r);default:return null}}function Bje(t){return j.isValidElement(t)?t.props:t}function Jee(t){var{option:e,shapeType:r,activeClassName:n="recharts-active-shape"}=t,i=_je(t,Sje),s;if(j.isValidElement(e))s=j.cloneElement(e,ej(ej({},i),Bje(e)));else if(typeof e=="function")s=e(i,i.index);else if(vje(e)&&typeof e!="boolean"){var a=Ije(e,i);s=j.createElement(KQ,{shapeType:r,elementProps:a})}else{var c=i;s=j.createElement(KQ,{shapeType:r,elementProps:c})}return i.isActive?j.createElement(nc,{className:n},s):s}var rM=(t,e,r)=>{var n=Fo();return(i,s)=>a=>{t?.(i,s,a),n(see({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}},nM=t=>{var e=Fo();return(r,n)=>i=>{t?.(r,n,i),e(Y2e())}},iM=(t,e,r)=>{var n=Fo();return(i,s)=>a=>{t?.(i,s,a),n(q2e({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}};function sM(t){var{tooltipEntrySettings:e}=t,r=Fo(),n=Dd(),i=j.useRef(null);return j.useLayoutEffect(()=>{n||(i.current===null?r(K2e(e)):i.current!==e&&r(G2e({prev:i.current,next:e})),i.current=e)},[e,r,n]),j.useLayoutEffect(()=>()=>{i.current&&(r(z2e(i.current)),i.current=null)},[r]),null}function Lje(t){var{legendPayload:e}=t,r=Fo(),n=Dd(),i=j.useRef(null);return j.useLayoutEffect(()=>{n||(i.current===null?r(fZ(e)):i.current!==e&&r(AZ({prev:i.current,next:e})),i.current=e)},[r,n,e]),j.useLayoutEffect(()=>()=>{i.current&&(r(mZ(i.current)),i.current=null)},[r]),null}function ete(t){var{legendPayload:e}=t,r=Fo(),n=Mn(ma),i=j.useRef(null);return j.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(i.current===null?r(fZ(e)):i.current!==e&&r(AZ({prev:i.current,next:e})),i.current=e)},[r,n,e]),j.useLayoutEffect(()=>()=>{i.current&&(r(mZ(i.current)),i.current=null)},[r]),null}var mB,Rje=()=>{var[t]=j.useState(()=>aE("uid-"));return t},Oje=(mB=ple.useId)!==null&&mB!==void 0?mB:Rje;function Pje(t,e){var r=Oje();return e||(t?"".concat(t,"-").concat(r):r)}var Dje=j.createContext(void 0),aM=t=>{var{id:e,type:r,children:n}=t,i=Pje("recharts-".concat(r),e);return j.createElement(Dje.Provider,{value:i},n(i))},Mje={cartesianItems:[],polarItems:[]},tte=Ih({name:"graphicalItems",initialState:Mje,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:ul()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:r,next:n}=e.payload,i=TA(t).cartesianItems.indexOf(r);i>-1&&(t.cartesianItems[i]=n)},prepare:ul()},removeCartesianGraphicalItem:{reducer(t,e){var r=TA(t).cartesianItems.indexOf(e.payload);r>-1&&t.cartesianItems.splice(r,1)},prepare:ul()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:ul()},removePolarGraphicalItem:{reducer(t,e){var r=TA(t).polarItems.indexOf(e.payload);r>-1&&t.polarItems.splice(r,1)},prepare:ul()}}}),{addCartesianGraphicalItem:Fje,replaceCartesianGraphicalItem:Uje,removeCartesianGraphicalItem:$je,addPolarGraphicalItem:Hje,removePolarGraphicalItem:Qje}=tte.actions,Vje=tte.reducer,Kje=t=>{var e=Fo(),r=j.useRef(null);return j.useLayoutEffect(()=>{r.current===null?e(Fje(t)):r.current!==t&&e(Uje({prev:r.current,next:t})),r.current=t},[e,t]),j.useLayoutEffect(()=>()=>{r.current&&(e($je(r.current)),r.current=null)},[e]),null},Gje=j.memo(Kje);function rte(t){var e=Fo();return j.useLayoutEffect(()=>(e(Hje(t)),()=>{e(Qje(t))}),[e,t]),null}var zje=["key"],Wje=["onMouseEnter","onClick","onMouseLeave"],Yje=["id"],qje=["id"];function GQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Jl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GQ(Object(r),!0).forEach(function(n){Xje(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Xje(t,e,r){return(e=Zje(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zje(t){var e=Jje(t,"string");return typeof e=="symbol"?e:e+""}function Jje(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function b0(){return b0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},b0.apply(null,arguments)}function s5(t,e){if(t==null)return{};var r,n,i=eNe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function eNe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function tNe(t){var e=j.useMemo(()=>tM(t.children,Cb),[t.children]),r=Mn(n=>cje(n,t.id,e));return r==null?null:j.createElement(ete,{legendPayload:r})}var rNe=j.memo(t=>{var{dataKey:e,nameKey:r,sectors:n,stroke:i,strokeWidth:s,fill:a,name:c,hide:u,tooltipType:o,id:d}=t,f={dataDefinedOnItem:n.map(A=>A.tooltipPayload),getPosition:A=>{var p;return(p=n[Number(A)])===null||p===void 0?void 0:p.tooltipPosition},settings:{stroke:i,strokeWidth:s,fill:a,dataKey:e,nameKey:r,name:Kb(c,e),hide:u,type:o,color:a,unit:"",graphicalItemId:d}};return j.createElement(sM,{tooltipEntrySettings:f})}),nNe=(t,e)=>t>e?"start":t<e?"end":"middle",iNe=(t,e,r)=>Od(typeof e=="function"?e(t):e,r,r*.8),sNe=(t,e,r)=>{var{top:n,left:i,width:s,height:a}=e,c=EZ(s,a),u=i+Od(t.cx,s,s/2),o=n+Od(t.cy,a,a/2),d=Od(t.innerRadius,c,0),f=iNe(r,t.outerRadius,c),A=t.maxRadius||Math.sqrt(s*s+a*a)/2;return{cx:u,cy:o,innerRadius:d,outerRadius:f,maxRadius:A}},aNe=(t,e)=>{var r=Vu(e-t),n=Math.min(Math.abs(e-t),360);return r*n},oNe=(t,e)=>{if(j.isValidElement(t))return j.cloneElement(t,e);if(typeof t=="function")return t(e);var r=Xs("recharts-pie-label-line",typeof t!="boolean"?t.className:""),{key:n}=e,i=s5(e,zje);return j.createElement(D3,b0({},i,{type:"linear",className:r}))},lNe=(t,e,r)=>{if(j.isValidElement(t))return j.cloneElement(t,e);var n=r;if(typeof t=="function"&&(n=t(e),j.isValidElement(n)))return n;var i=Xs("recharts-pie-label-text",ZD(t));return j.createElement(L2,b0({},e,{alignmentBaseline:"middle",className:i}),n)};function cNe(t){var{sectors:e,props:r,showLabels:n}=t,{label:i,labelLine:s,dataKey:a}=r;if(!n||!i||!e)return null;var c=Vc(r),u=Zv(i),o=Zv(s),d=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,f=e.map((A,p)=>{var g=(A.startAngle+A.endAngle)/2,y=Eo(A.cx,A.cy,A.outerRadius+d,g),v=Jl(Jl(Jl(Jl({},c),A),{},{stroke:"none"},u),{},{index:p,textAnchor:nNe(y.x,A.cx)},y),b=Jl(Jl(Jl(Jl({},c),A),{},{fill:"none",stroke:A.fill},o),{},{index:p,points:[Eo(A.cx,A.cy,A.outerRadius,g),y],key:"line"});return j.createElement(Md,{zIndex:ec.label,key:"label-".concat(A.startAngle,"-").concat(A.endAngle,"-").concat(A.midAngle,"-").concat(p)},j.createElement(nc,null,s&&oNe(s,b),lNe(i,v,Po(A,a))))});return j.createElement(nc,{className:"recharts-pie-labels"},f)}function uNe(t){var{sectors:e,props:r,showLabels:n}=t,{label:i}=r;return typeof i=="object"&&i!=null&&"position"in i?j.createElement(zD,{label:i}):j.createElement(cNe,{sectors:e,props:r,showLabels:n})}function dNe(t){var{sectors:e,activeShape:r,inactiveShape:n,allOtherPieProps:i,shape:s,id:a}=t,c=Mn(x0),u=Mn(UD),o=Mn(OSe),{onMouseEnter:d,onClick:f,onMouseLeave:A}=i,p=s5(i,Wje),g=rM(d,i.dataKey,a),y=nM(A),v=iM(f,i.dataKey,a);return e==null||e.length===0?null:j.createElement(j.Fragment,null,e.map((b,w)=>{if(b?.startAngle===0&&b?.endAngle===0&&e.length!==1)return null;var S=o==null||o===a,_=String(w)===c&&(u==null||i.dataKey===u)&&S,T=c?n:null,L=r&&_?r:T,D=Jl(Jl({},b),{},{stroke:b.stroke,tabIndex:-1,[JX]:w,[eZ]:a});return j.createElement(nc,b0({key:"sector-".concat(b?.startAngle,"-").concat(b?.endAngle,"-").concat(b.midAngle,"-").concat(w),tabIndex:-1,className:"recharts-pie-sector"},Vb(p,b,w),{onMouseEnter:g(b,w),onMouseLeave:y(b,w),onClick:v(b,w)}),j.createElement(Jee,b0({option:s??L,index:w,shapeType:"sector",isActive:_},D)))}))}function hNe(t){var e,{pieSettings:r,displayedData:n,cells:i,offset:s}=t,{cornerRadius:a,startAngle:c,endAngle:u,dataKey:o,nameKey:d,tooltipType:f}=r,A=Math.abs(r.minAngle),p=aNe(c,u),g=Math.abs(p),y=n.length<=1?0:(e=r.paddingAngle)!==null&&e!==void 0?e:0,v=n.filter(L=>Po(L,o,0)!==0).length,b=(g>=360?v:v-1)*y,w=g-v*A-b,S=n.reduce((L,D)=>{var V=Po(D,o,0);return L+(ti(V)?V:0)},0),_;if(S>0){var T;_=n.map((L,D)=>{var V=Po(L,o,0),G=Po(L,d,D),J=sNe(r,s,L),ee=(ti(V)?V:0)/S,ue,pe=Jl(Jl({},L),i&&i[D]&&i[D].props);D?ue=T.endAngle+Vu(p)*y*(V!==0?1:0):ue=c;var ge=ue+Vu(p)*((V!==0?A:0)+ee*w),he=(ue+ge)/2,ne=(J.innerRadius+J.outerRadius)/2,Ae=[{name:G,value:V,payload:pe,dataKey:o,type:f,graphicalItemId:r.id}],oe=Eo(J.cx,J.cy,ne,he);return T=Jl(Jl(Jl(Jl({},r.presentationProps),{},{percent:ee,cornerRadius:typeof a=="string"?parseFloat(a):a,name:G,tooltipPayload:Ae,midAngle:he,middleRadius:ne,tooltipPosition:oe},pe),J),{},{value:V,dataKey:o,startAngle:ue,endAngle:ge,payload:pe,paddingAngle:Vu(p)*y}),T})}return _}function fNe(t){var{showLabels:e,sectors:r,children:n}=t,i=j.useMemo(()=>!e||!r?[]:r.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[r,e]);return j.createElement(lCe,{value:e?i:void 0},n)}function ANe(t){var{props:e,previousSectorsRef:r,id:n}=t,{sectors:i,isAnimationActive:s,animationBegin:a,animationDuration:c,animationEasing:u,activeShape:o,inactiveShape:d,onAnimationStart:f,onAnimationEnd:A}=e,p=p2(e,"recharts-pie-"),g=r.current,[y,v]=j.useState(!1),b=j.useCallback(()=>{typeof A=="function"&&A(),v(!1)},[A]),w=j.useCallback(()=>{typeof f=="function"&&f(),v(!0)},[f]);return j.createElement(fNe,{showLabels:!y,sectors:i},j.createElement(m2,{animationId:p,begin:a,duration:c,isActive:s,easing:u,onAnimationStart:w,onAnimationEnd:b,key:p},S=>{var _,T=[],L=i&&i[0],D=(_=L?.startAngle)!==null&&_!==void 0?_:0;return i?.forEach((V,G)=>{var J=g&&g[G],ee=G>0?ey(V,"paddingAngle",0):0;if(J){var ue=Nl(J.endAngle-J.startAngle,V.endAngle-V.startAngle,S),pe=Jl(Jl({},V),{},{startAngle:D+ee,endAngle:D+ue+ee});T.push(pe),D=pe.endAngle}else{var{endAngle:ge,startAngle:he}=V,ne=Nl(0,ge-he,S),Ae=Jl(Jl({},V),{},{startAngle:D+ee,endAngle:D+ne+ee});T.push(Ae),D=Ae.endAngle}}),r.current=T,j.createElement(nc,null,j.createElement(dNe,{sectors:T,activeShape:o,inactiveShape:d,allOtherPieProps:e,shape:e.shape,id:n}))}),j.createElement(uNe,{showLabels:!y,sectors:i,props:e}),e.children)}var mNe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:ec.area};function pNe(t){var{id:e}=t,r=s5(t,Yje),{hide:n,className:i,rootTabIndex:s}=t,a=j.useMemo(()=>tM(t.children,Cb),[t.children]),c=Mn(d=>uje(d,e,a)),u=j.useRef(null),o=Xs("recharts-pie",i);return n||c==null?(u.current=null,j.createElement(nc,{tabIndex:s,className:o})):j.createElement(Md,{zIndex:t.zIndex},j.createElement(rNe,{dataKey:t.dataKey,nameKey:t.nameKey,sectors:c,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType,id:e}),j.createElement(nc,{tabIndex:s,className:o},j.createElement(ANe,{props:Jl(Jl({},r),{},{sectors:c}),previousSectorsRef:u,id:e})))}function nte(t){var e=sc(t,mNe),{id:r}=e,n=s5(e,qje),i=Vc(n);return j.createElement(aM,{id:r,type:"pie"},s=>j.createElement(j.Fragment,null,j.createElement(rte,{type:"pie",id:s,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),j.createElement(tNe,b0({},n,{id:s})),j.createElement(pNe,b0({},n,{id:s}))))}nte.displayName="Pie";var gNe=["points"];function zQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zQ(Object(r),!0).forEach(function(n){vNe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vNe(t,e,r){return(e=yNe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yNe(t){var e=xNe(t,"string");return typeof e=="symbol"?e:e+""}function xNe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tj(){return tj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tj.apply(null,arguments)}function bNe(t,e){if(t==null)return{};var r,n,i=wNe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function wNe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function ENe(t){var{option:e,dotProps:r,className:n}=t;if(j.isValidElement(e))return j.cloneElement(e,r);if(typeof e=="function")return e(r);var i=Xs(n,typeof e!="boolean"?e.className:""),s=r??{},{points:a}=s,c=bNe(s,gNe);return j.createElement(WD,tj({},c,{className:i}))}function SNe(t,e){return t==null?!1:e?!0:t.length===1}function _Ne(t){var{points:e,dot:r,className:n,dotClassName:i,dataKey:s,baseProps:a,needClip:c,clipPathId:u,zIndex:o=ec.scatter}=t;if(!SNe(e,r))return null;var d=Aje(r),f=Zpe(r),A=e.map((g,y)=>{var v,b,w=pB(pB(pB({r:3},a),f),{},{index:y,cx:(v=g.x)!==null&&v!==void 0?v:void 0,cy:(b=g.y)!==null&&b!==void 0?b:void 0,dataKey:s,value:g.value,payload:g.payload,points:e});return j.createElement(ENe,{key:"dot-".concat(y),option:r,dotProps:w,className:i})}),p={};return c&&u!=null&&(p.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(u,")")),j.createElement(Md,{zIndex:o},j.createElement(nc,tj({className:n},p),A))}function WQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function YQ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WQ(Object(r),!0).forEach(function(n){TNe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function TNe(t,e,r){return(e=CNe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function CNe(t){var e=jNe(t,"string");return typeof e=="symbol"?e:e+""}function jNe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ite=0,NNe={xAxis:{},yAxis:{},zAxis:{}},ste=Ih({name:"cartesianAxis",initialState:NNe,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:ul()},replaceXAxis:{reducer(t,e){var{prev:r,next:n}=e.payload;t.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete t.xAxis[r.id],t.xAxis[n.id]=n)},prepare:ul()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:ul()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:ul()},replaceYAxis:{reducer(t,e){var{prev:r,next:n}=e.payload;t.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete t.yAxis[r.id],t.yAxis[n.id]=n)},prepare:ul()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:ul()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:ul()},replaceZAxis:{reducer(t,e){var{prev:r,next:n}=e.payload;t.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete t.zAxis[r.id],t.zAxis[n.id]=n)},prepare:ul()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:ul()},updateYAxisWidth(t,e){var{id:r,width:n}=e.payload,i=t.yAxis[r];if(i){var s,a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&n===a[1]&&n!==i.width&&Math.abs(n-((s=a[0])!==null&&s!==void 0?s:0))<=1)return;var c=[...a,n].slice(-3);t.yAxis[r]=YQ(YQ({},i),{},{width:n,widthHistory:c})}}}}),{addXAxis:INe,replaceXAxis:kNe,removeXAxis:BNe,addYAxis:LNe,replaceYAxis:RNe,removeYAxis:ONe,addZAxis:$We,replaceZAxis:HWe,removeZAxis:QWe,updateYAxisWidth:PNe}=ste.actions,DNe=ste.reducer,MNe=Zt([pu],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),FNe=Zt([MNe,Yp,qp],(t,e,r)=>{if(!(!t||e==null||r==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,r-t.top-t.bottom)}}),ate=()=>Mn(FNe),UNe=()=>Mn(USe);function qQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qQ(Object(r),!0).forEach(function(n){$Ne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $Ne(t,e,r){return(e=HNe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function HNe(t){var e=QNe(t,"string");return typeof e=="symbol"?e:e+""}function QNe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var VNe=t=>{var{point:e,childIndex:r,mainColor:n,activeDot:i,dataKey:s,clipPath:a}=t;if(i===!1||e.x==null||e.y==null)return null;var c={index:r,dataKey:s,cx:e.x,cy:e.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},u=gB(gB(gB({},c),Zv(i)),y3(i)),o;return j.isValidElement(i)?o=j.cloneElement(i,u):typeof i=="function"?o=i(u):o=j.createElement(WD,u),j.createElement(nc,{className:"recharts-active-dot",clipPath:a},o)};function KNe(t){var{points:e,mainColor:r,activeDot:n,itemDataKey:i,clipPath:s,zIndex:a=ec.activeDot}=t,c=Mn(x0),u=UNe();if(e==null||u==null)return null;var o=e.find(d=>u.includes(d.payload));return wc(o)?null:j.createElement(Md,{zIndex:a},j.createElement(VNe,{point:o,childIndex:Number(c),mainColor:r,dataKey:i,activeDot:n,clipPath:s}))}function XQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XQ(Object(r),!0).forEach(function(n){GNe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function GNe(t,e,r){return(e=zNe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zNe(t){var e=WNe(t,"string");return typeof e=="symbol"?e:e+""}function WNe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ote=(t,e)=>R2(t,"radiusAxis",e),YNe=Zt([ote],t=>{if(t!=null)return{scale:t}}),qNe=Zt([S2,ote],(t,e)=>{if(!(t==null||e==null))return rj(rj({},t),{},{scale:e})}),XNe=(t,e,r,n)=>O2(t,"radiusAxis",e,n),lte=(t,e,r)=>qb(t,r),cte=(t,e,r)=>R2(t,"angleAxis",r),ZNe=Zt([lte,cte],(t,e)=>{if(!(t==null||e==null))return rj(rj({},t),{},{scale:e})}),JNe=(t,e,r,n)=>O2(t,"angleAxis",r,n),e5e=Zt([lte,cte,_2],(t,e,r)=>{if(!(r==null||e==null))return{scale:e,type:t.type,dataKey:t.dataKey,cx:r.cx,cy:r.cy}}),t5e=(t,e,r,n,i)=>i,r5e=Zt([ma,qNe,XNe,ZNe,JNe],(t,e,r,n,i)=>Wp(t,"radiusAxis")?yb(e,r,!1):yb(n,i,!1)),n5e=Zt([YD,t5e],(t,e)=>{if(t!=null){var r=t.find(n=>n.type==="radar"&&e===n.id);return r?.dataKey}}),i5e=Zt([YNe,e5e,b2,n5e,r5e],(t,e,r,n,i)=>{var{chartData:s,dataStartIndex:a,dataEndIndex:c}=r;if(!(t==null||e==null||s==null||i==null||n==null)){var u=s.slice(a,c+1);return A5e({radiusAxis:t,angleAxis:e,displayedData:u,dataKey:n,bandSize:i})}}),s5e=["id"];function xE(){return xE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xE.apply(null,arguments)}function ZQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ch(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZQ(Object(r),!0).forEach(function(n){a5e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function a5e(t,e,r){return(e=o5e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o5e(t){var e=l5e(t,"string");return typeof e=="symbol"?e:e+""}function l5e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function c5e(t,e){if(t==null)return{};var r,n,i=u5e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function u5e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function oM(t,e){return t&&t!=="none"?t:e}var d5e=t=>{var{dataKey:e,name:r,stroke:n,fill:i,legendType:s,hide:a}=t;return[{inactive:a,dataKey:e,type:s,color:oM(n,i),value:Kb(r,e),payload:t}]},h5e=j.memo(t=>{var{dataKey:e,stroke:r,strokeWidth:n,fill:i,name:s,hide:a,tooltipType:c,id:u}=t,o={dataDefinedOnItem:void 0,getPosition:N0,settings:{stroke:r,strokeWidth:n,fill:i,nameKey:void 0,dataKey:e,name:Kb(s,e),hide:a,type:c,color:oM(r,i),unit:"",graphicalItemId:u}};return j.createElement(sM,{tooltipEntrySettings:o})});function f5e(t){var{points:e,props:r}=t,{dot:n,dataKey:i}=r,{id:s}=r,a=c5e(r,s5e),c=Vc(a);return j.createElement(_Ne,{points:e,dot:n,className:"recharts-radar-dots",dotClassName:"recharts-radar-dot",dataKey:i,baseProps:c})}function A5e(t){var{radiusAxis:e,angleAxis:r,displayedData:n,dataKey:i,bandSize:s}=t,{cx:a,cy:c}=r,u=!1,o=[],d=r.type!=="number"?s??0:0;n.forEach((A,p)=>{var g,y,v=Po(A,r.dataKey,p),b=Po(A,i),w=((g=r.scale.map(v))!==null&&g!==void 0?g:0)+d,S=Array.isArray(b)?Fee(b):b,_=wc(S)?0:(y=e.scale.map(S))!==null&&y!==void 0?y:0;Array.isArray(b)&&b.length>=2&&(u=!0),o.push(Ch(Ch({},Eo(a,c,_,w)),{},{name:v,value:b,cx:a,cy:c,radius:_,angle:w,payload:A}))});var f=[];return u&&o.forEach(A=>{if(Array.isArray(A.value)){var p,g=A.value[0],y=wc(g)?0:(p=e.scale.map(g))!==null&&p!==void 0?p:0;f.push(Ch(Ch({},A),{},{radius:y},Eo(a,c,y,A.angle)))}else f.push(A)}),{points:o,isRange:u,baseLinePoints:f}}function m5e(t){var{showLabels:e,points:r,children:n}=t,i=r.map(s=>{var a,c={x:s.x,y:s.y,width:0,lowerWidth:0,upperWidth:0,height:0};return Ch(Ch({},c),{},{value:(a=s.value)!==null&&a!==void 0?a:"",payload:s.payload,parentViewBox:void 0,viewBox:c,fill:void 0})});return j.createElement($ee,{value:e?i:void 0},n)}function p5e(t){var{points:e,baseLinePoints:r,props:n}=t;if(e==null)return null;var{shape:i,isRange:s,connectNulls:a}=n,c=d=>{var{onMouseEnter:f}=n;f&&f(n,d)},u=d=>{var{onMouseLeave:f}=n;f&&f(n,d)},o;return j.isValidElement(i)?o=j.cloneElement(i,Ch(Ch({},n),{},{points:e})):typeof i=="function"?o=i(Ch(Ch({},n),{},{points:e})):o=j.createElement(Qee,xE({},Au(n),{onMouseEnter:c,onMouseLeave:u,points:e,baseLinePoints:s?r:void 0,connectNulls:a})),j.createElement(nc,{className:"recharts-radar-polygon"},o,j.createElement(f5e,{props:n,points:e}))}var JQ=(t,e,r)=>(n,i)=>{var s=t&&t[Math.floor(i*e)];return s?Ch(Ch({},n),{},{x:Nl(s.x,n.x,r),y:Nl(s.y,n.y,r)}):Ch(Ch({},n),{},{x:Nl(n.cx,n.x,r),y:Nl(n.cy,n.y,r)})};function g5e(t){var{props:e,previousPointsRef:r,previousBaseLinePointsRef:n}=t,{points:i,baseLinePoints:s,isAnimationActive:a,animationBegin:c,animationDuration:u,animationEasing:o,onAnimationEnd:d,onAnimationStart:f}=e,A=r.current,p=n.current,g=A?A.length/i.length:1,y=p?p.length/s.length:1,v=p2(e,"recharts-radar-"),[b,w]=j.useState(!1),S=!b,_=j.useCallback(()=>{typeof d=="function"&&d(),w(!1)},[d]),T=j.useCallback(()=>{typeof f=="function"&&f(),w(!0)},[f]);return j.createElement(m5e,{showLabels:S,points:i},j.createElement(m2,{animationId:v,begin:c,duration:u,isActive:a,easing:o,key:"radar-".concat(v),onAnimationEnd:_,onAnimationStart:T},L=>{var D=L===1?i:i.map(JQ(A,g,L)),V=L===1?s:s?.map(JQ(p,y,L));return L>0&&(r.current=D,n.current=V),j.createElement(p5e,{points:D,baseLinePoints:V,props:e})}),j.createElement(zD,{label:e.label}),e.children)}function v5e(t){var e=j.useRef(void 0),r=j.useRef(void 0);return j.createElement(g5e,{props:t,previousPointsRef:e,previousBaseLinePointsRef:r})}var y5e={activeDot:!0,angleAxisId:0,animationBegin:0,animationDuration:1500,animationEasing:"ease",dot:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",radiusAxisId:0,zIndex:ec.area};function x5e(t){var{hide:e,className:r,points:n}=t;if(e)return null;var i=Xs("recharts-radar",r);return j.createElement(Md,{zIndex:t.zIndex},j.createElement(nc,{className:i},j.createElement(v5e,t)),j.createElement(KNe,{points:n,mainColor:oM(t.stroke,t.fill),itemDataKey:t.dataKey,activeDot:t.activeDot}))}function b5e(t){var e=Dd(),r=Mn(n=>i5e(n,t.radiusAxisId,t.angleAxisId,e,t.id));return r?.points==null?null:j.createElement(x5e,xE({},t,{points:r?.points,baseLinePoints:r?.baseLinePoints,isRange:r?.isRange}))}function ute(t){var e=sc(t,y5e);return j.createElement(aM,{id:e.id,type:"radar"},r=>j.createElement(j.Fragment,null,j.createElement(rte,{type:"radar",id:r,data:void 0,dataKey:e.dataKey,hide:e.hide,angleAxisId:e.angleAxisId,radiusAxisId:e.radiusAxisId}),j.createElement(ete,{legendPayload:d5e(e)}),j.createElement(h5e,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:r}),j.createElement(b5e,xE({},e,{id:r}))))}ute.displayName="Radar";var eV=(t,e,r)=>{var n=r??t;if(!wc(n))return Od(n,e,0)},w5e=(t,e,r)=>{var n={},i=t.filter(zN),s=t.filter(o=>o.stackId==null),a=i.reduce((o,d)=>{var f=o[d.stackId];return f==null&&(f=[]),f.push(d),o[d.stackId]=f,o},n),c=Object.entries(a).map(o=>{var d,[f,A]=o,p=A.map(y=>y.dataKey),g=eV(e,r,(d=A[0])===null||d===void 0?void 0:d.barSize);return{stackId:f,dataKeys:p,barSize:g}}),u=s.map(o=>{var d=[o.dataKey].filter(A=>A!=null),f=eV(e,r,o.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...c,...u]};function tV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tV(Object(r),!0).forEach(function(n){E5e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function E5e(t,e,r){return(e=S5e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function S5e(t){var e=_5e(t,"string");return typeof e=="symbol"?e:e+""}function _5e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function T5e(t,e,r,n,i){var s,a=n.length;if(!(a<1)){var c=Od(t,r,0,!0),u,o=[];if(da((s=n[0])===null||s===void 0?void 0:s.barSize)){var d=!1,f=r/a,A=n.reduce((w,S)=>w+(S.barSize||0),0);A+=(a-1)*c,A>=r&&(A-=(a-1)*c,c=0),A>=r&&f>0&&(d=!0,f*=.9,A=a*f);var p=(r-A)/2>>0,g={offset:p-c,size:0};u=n.reduce((w,S)=>{var _,T={stackId:S.stackId,dataKeys:S.dataKeys,position:{offset:g.offset+g.size+c,size:d?f:(_=S.barSize)!==null&&_!==void 0?_:0}},L=[...w,T];return g=T.position,L},o)}else{var y=Od(e,r,0,!0);r-2*y-(a-1)*c<=0&&(c=0);var v=(r-2*y-(a-1)*c)/a;v>1&&(v>>=0);var b=da(i)?Math.min(v,i):v;u=n.reduce((w,S,_)=>[...w,{stackId:S.stackId,dataKeys:S.dataKeys,position:{offset:y+(v+c)*_+(v-b)/2,size:b}}],o)}return u}}var C5e=(t,e,r,n,i,s,a)=>{var c=wc(a)?e:a,u=T5e(r,n,i!==s?i:s,t,c);return i!==s&&u!=null&&(u=u.map(o=>kS(kS({},o),{},{position:kS(kS({},o.position),{},{offset:o.position.offset-i/2})}))),u},j5e=(t,e)=>{var r=fD(e);if(!(!t||r==null||e==null)){var{stackId:n}=e;if(n!=null){var i=t[n];if(i){var{stackedData:s}=i;if(s)return s.find(a=>a.key===r)}}}},N5e=(t,e)=>{if(!(t==null||e==null)){var r=t.find(n=>n.stackId===e.stackId&&e.dataKey!=null&&n.dataKeys.includes(e.dataKey));if(r!=null)return r.position}};function I5e(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&da(t.zIndex)?t.zIndex:e}var dte=t=>{var{chartData:e}=t,r=Fo(),n=Dd();return j.useEffect(()=>n?()=>{}:(r(XH(e)),()=>{r(XH(void 0))}),[e,r,n]),null},rV={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},hte=Ih({name:"brush",initialState:rV,reducers:{setBrushSettings(t,e){return e.payload==null?rV:e.payload}}}),{setBrushSettings:VWe}=hte.actions,k5e=hte.reducer;function B5e(t){return(t%180+180)%180}var L5e=function(e){var{width:r,height:n}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=B5e(i),a=s*Math.PI/180,c=Math.atan(n/r),u=a>c&&a<Math.PI-c?n/Math.sin(a):r/Math.cos(a);return Math.abs(u)},R5e={dots:[],areas:[],lines:[]},fte=Ih({name:"referenceElements",initialState:R5e,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var r=TA(t).dots.findIndex(n=>n===e.payload);r!==-1&&t.dots.splice(r,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var r=TA(t).areas.findIndex(n=>n===e.payload);r!==-1&&t.areas.splice(r,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var r=TA(t).lines.findIndex(n=>n===e.payload);r!==-1&&t.lines.splice(r,1)}}}),{addDot:KWe,removeDot:GWe,addArea:zWe,removeArea:WWe,addLine:YWe,removeLine:qWe}=fte.actions,O5e=fte.reducer,P5e=j.createContext(void 0),D5e=t=>{var{children:e}=t,[r]=j.useState("".concat(aE("recharts"),"-clip")),n=ate();if(n==null)return null;var{x:i,y:s,width:a,height:c}=n;return j.createElement(P5e.Provider,{value:r},j.createElement("defs",null,j.createElement("clipPath",{id:r},j.createElement("rect",{x:i,y:s,height:c,width:a}))),e)};function Ate(t,e){if(e<1)return[];if(e===1)return t;for(var r=[],n=0;n<t.length;n+=e){var i=t[n];i!==void 0&&r.push(i)}return r}function M5e(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return L5e(n,r)}function F5e(t,e,r){var n=r==="width",{x:i,y:s,width:a,height:c}=t;return e===1?{start:n?i:s,end:n?i+a:s+c}:{start:n?i+a:s+c,end:n?i:s}}function bE(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var s=r();return t*(e-t*s/2-n)>=0&&t*(e+t*s/2-i)<=0}function U5e(t,e){return Ate(t,e+1)}function $5e(t,e,r,n,i){for(var s=(n||[]).slice(),{start:a,end:c}=e,u=0,o=1,d=a,f=function(){var g=n?.[u];if(g===void 0)return{v:Ate(n,o)};var y=u,v,b=()=>(v===void 0&&(v=r(g,y)),v),w=g.coordinate,S=u===0||bE(t,w,b,d,c);S||(u=0,d=a,o+=1),S&&(d=w+t*(b()/2+i),u+=o)},A;o<=s.length;)if(A=f(),A)return A.v;return[]}function H5e(t,e,r,n,i){var s=(n||[]).slice(),a=s.length;if(a===0)return[];for(var{start:c,end:u}=e,o=1;o<=a;o++){for(var d=(a-1)%o,f=c,A=!0,p=function(){var _=n[y];if(_==null)return 0;var T=y,L,D=()=>(L===void 0&&(L=r(_,T)),L),V=_.coordinate,G=y===d||bE(t,V,D,f,u);if(!G)return A=!1,1;G&&(f=V+t*(D()/2+i))},g,y=d;y<a&&(g=p(),!(g!==0&&g===1));y+=o);if(A){for(var v=[],b=d;b<a;b+=o){var w=n[b];w!=null&&v.push(w)}return v}}return[]}function nV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Bd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nV(Object(r),!0).forEach(function(n){Q5e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Q5e(t,e,r){return(e=V5e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function V5e(t){var e=K5e(t,"string");return typeof e=="symbol"?e:e+""}function K5e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function G5e(t,e,r,n,i){for(var s=(n||[]).slice(),a=s.length,{start:c}=e,{end:u}=e,o=function(A){var p=s[A];if(p==null)return 1;var g=p,y,v=()=>(y===void 0&&(y=r(p,A)),y);if(A===a-1){var b=t*(g.coordinate+t*v()/2-u);s[A]=g=Bd(Bd({},g),{},{tickCoord:b>0?g.coordinate-b*t:g.coordinate})}else s[A]=g=Bd(Bd({},g),{},{tickCoord:g.coordinate});if(g.tickCoord!=null){var w=bE(t,g.tickCoord,v,c,u);w&&(u=g.tickCoord-t*(v()/2+i),s[A]=Bd(Bd({},g),{},{isShow:!0}))}},d=a-1;d>=0;d--)o(d);return s}function z5e(t,e,r,n,i,s){var a=(n||[]).slice(),c=a.length,{start:u,end:o}=e;if(s){var d=n[c-1];if(d!=null){var f=r(d,c-1),A=t*(d.coordinate+t*f/2-o);if(a[c-1]=d=Bd(Bd({},d),{},{tickCoord:A>0?d.coordinate-A*t:d.coordinate}),d.tickCoord!=null){var p=bE(t,d.tickCoord,()=>f,u,o);p&&(o=d.tickCoord-t*(f/2+i),a[c-1]=Bd(Bd({},d),{},{isShow:!0}))}}}for(var g=s?c-1:c,y=function(w){var S=a[w];if(S==null)return 1;var _=S,T,L=()=>(T===void 0&&(T=r(S,w)),T);if(w===0){var D=t*(_.coordinate-t*L()/2-u);a[w]=_=Bd(Bd({},_),{},{tickCoord:D<0?_.coordinate-D*t:_.coordinate})}else a[w]=_=Bd(Bd({},_),{},{tickCoord:_.coordinate});if(_.tickCoord!=null){var V=bE(t,_.tickCoord,L,u,o);V&&(u=_.tickCoord+t*(L()/2+i),a[w]=Bd(Bd({},_),{},{isShow:!0}))}},v=0;v<g;v++)y(v);return a}function lM(t,e,r){var{tick:n,ticks:i,viewBox:s,minTickGap:a,orientation:c,interval:u,tickFormatter:o,unit:d,angle:f}=t;if(!i||!i.length||!n)return[];if(ti(u)||MN.isSsr){var A;return(A=U5e(i,ti(u)?u:0))!==null&&A!==void 0?A:[]}var p=[],g=c==="top"||c==="bottom"?"width":"height",y=d&&g==="width"?Lw(d,{fontSize:e,letterSpacing:r}):{width:0,height:0},v=(T,L)=>{var D=typeof o=="function"?o(T.value,L):T.value;return g==="width"?M5e(Lw(D,{fontSize:e,letterSpacing:r}),y,f):Lw(D,{fontSize:e,letterSpacing:r})[g]},b=i[0],w=i[1],S=i.length>=2&&b!=null&&w!=null?Vu(w.coordinate-b.coordinate):1,_=F5e(s,S,g);return u==="equidistantPreserveStart"?$5e(S,_,v,i,a):u==="equidistantPreserveEnd"?H5e(S,_,v,i,a):(u==="preserveStart"||u==="preserveStartEnd"?p=z5e(S,_,v,i,a,u==="preserveStartEnd"):p=G5e(S,_,v,i,a),p.filter(T=>T.isShow))}var W5e=t=>{var{ticks:e,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:s=0}=t,a=0;if(e){Array.from(e).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>a&&(a=f.width)}});var c=r?r.getBoundingClientRect().width:0,u=i+s,o=a+u+c+(r?n:0);return Math.round(o)}return 0},Y5e=["axisLine","width","height","className","hide","ticks","axisType"];function q5e(t,e){if(t==null)return{};var r,n,i=X5e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function X5e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function oy(){return oy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},oy.apply(null,arguments)}function iV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Wl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iV(Object(r),!0).forEach(function(n){Z5e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Z5e(t,e,r){return(e=J5e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function J5e(t){var e=eIe(t,"string");return typeof e=="symbol"?e:e+""}function eIe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bp={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:ec.axis};function tIe(t){var{x:e,y:r,width:n,height:i,orientation:s,mirror:a,axisLine:c,otherSvgProps:u}=t;if(!c)return null;var o=Wl(Wl(Wl({},u),Vc(c)),{},{fill:"none"});if(s==="top"||s==="bottom"){var d=+(s==="top"&&!a||s==="bottom"&&a);o=Wl(Wl({},o),{},{x1:e,y1:r+d*i,x2:e+n,y2:r+d*i})}else{var f=+(s==="left"&&!a||s==="right"&&a);o=Wl(Wl({},o),{},{x1:e+f*n,y1:r,x2:e+f*n,y2:r+i})}return j.createElement("line",oy({},o,{className:Xs("recharts-cartesian-axis-line",ey(c,"className"))}))}function rIe(t,e,r,n,i,s,a,c,u){var o,d,f,A,p,g,y=c?-1:1,v=t.tickSize||a,b=ti(t.tickCoord)?t.tickCoord:t.coordinate;switch(s){case"top":o=d=t.coordinate,A=r+ +!c*i,f=A-y*v,g=f-y*u,p=b;break;case"left":f=A=t.coordinate,d=e+ +!c*n,o=d-y*v,p=o-y*u,g=b;break;case"right":f=A=t.coordinate,d=e+ +c*n,o=d+y*v,p=o+y*u,g=b;break;default:o=d=t.coordinate,A=r+ +c*i,f=A+y*v,g=f+y*u,p=b;break}return{line:{x1:o,y1:f,x2:d,y2:A},tick:{x:p,y:g}}}function nIe(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function iIe(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function sIe(t){var{option:e,tickProps:r,value:n}=t,i,s=Xs(r.className,"recharts-cartesian-axis-tick-value");if(j.isValidElement(e))i=j.cloneElement(e,Wl(Wl({},r),{},{className:s}));else if(typeof e=="function")i=e(Wl(Wl({},r),{},{className:s}));else{var a="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(a=Xs(a,ZD(e))),i=j.createElement(L2,oy({},r,{className:a}),n)}return i}var aIe=j.forwardRef((t,e)=>{var{ticks:r=[],tick:n,tickLine:i,stroke:s,tickFormatter:a,unit:c,padding:u,tickTextProps:o,orientation:d,mirror:f,x:A,y:p,width:g,height:y,tickSize:v,tickMargin:b,fontSize:w,letterSpacing:S,getTicksConfig:_,events:T,axisType:L}=t,D=lM(Wl(Wl({},_),{},{ticks:r}),w,S),V=nIe(d,f),G=iIe(d,f),J=Vc(_),ee=Zv(n),ue={};typeof i=="object"&&(ue=i);var pe=Wl(Wl({},J),{},{fill:"none"},ue),ge=D.map(Ae=>Wl({entry:Ae},rIe(Ae,A,p,g,y,d,v,f,b))),he=ge.map(Ae=>{var{entry:oe,line:Be}=Ae;return j.createElement(nc,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(oe.value,"-").concat(oe.coordinate,"-").concat(oe.tickCoord)},i&&j.createElement("line",oy({},pe,Be,{className:Xs("recharts-cartesian-axis-tick-line",ey(i,"className"))})))}),ne=ge.map((Ae,oe)=>{var Be,ke,{entry:ve,tick:se}=Ae,me=Wl(Wl(Wl(Wl({verticalAnchor:G},J),{},{textAnchor:V,stroke:"none",fill:s},se),{},{index:oe,payload:ve,visibleTicksCount:D.length,tickFormatter:a,padding:u},o),{},{angle:(Be=(ke=o?.angle)!==null&&ke!==void 0?ke:J.angle)!==null&&Be!==void 0?Be:0}),je=Wl(Wl({},me),ee);return j.createElement(nc,oy({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(ve.value,"-").concat(ve.coordinate,"-").concat(ve.tickCoord)},Vb(T,ve,oe)),n&&j.createElement(sIe,{option:n,tickProps:je,value:"".concat(typeof a=="function"?a(ve.value,oe):ve.value).concat(c||"")}))});return j.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(L,"-ticks")},ne.length>0&&j.createElement(Md,{zIndex:ec.label},j.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(L,"-tick-labels"),ref:e},ne)),he.length>0&&j.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(L,"-tick-lines")},he))}),oIe=j.forwardRef((t,e)=>{var{axisLine:r,width:n,height:i,className:s,hide:a,ticks:c,axisType:u}=t,o=q5e(t,Y5e),[d,f]=j.useState(""),[A,p]=j.useState(""),g=j.useRef(null);j.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var v;return W5e({ticks:g.current,label:(v=t.labelRef)===null||v===void 0?void 0:v.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var y=j.useCallback(v=>{if(v){var b=v.getElementsByClassName("recharts-cartesian-axis-tick-value");g.current=b;var w=b[0];if(w){var S=window.getComputedStyle(w),_=S.fontSize,T=S.letterSpacing;(_!==d||T!==A)&&(f(_),p(T))}}},[d,A]);return a||n!=null&&n<=0||i!=null&&i<=0?null:j.createElement(Md,{zIndex:t.zIndex},j.createElement(nc,{className:Xs("recharts-cartesian-axis",s)},j.createElement(tIe,{x:t.x,y:t.y,width:n,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:r,otherSvgProps:Vc(t)}),j.createElement(aIe,{ref:y,axisType:u,events:o,fontSize:d,getTicksConfig:t,height:t.height,letterSpacing:A,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:c,unit:t.unit,width:t.width,x:t.x,y:t.y}),j.createElement(HTe,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},j.createElement(ZTe,{label:t.label,labelRef:t.labelRef}),t.children)))}),cM=j.forwardRef((t,e)=>{var r=sc(t,Bp);return j.createElement(oIe,oy({},r,{ref:e}))});cM.displayName="CartesianAxis";var lIe=["x1","y1","x2","y2","key"],cIe=["offset"],uIe=["xAxisId","yAxisId"],dIe=["xAxisId","yAxisId"];function sV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Rd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sV(Object(r),!0).forEach(function(n){hIe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hIe(t,e,r){return(e=fIe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fIe(t){var e=AIe(t,"string");return typeof e=="symbol"?e:e+""}function AIe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cv(){return Cv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cv.apply(null,arguments)}function nj(t,e){if(t==null)return{};var r,n,i=mIe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function mIe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var pIe=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:r,x:n,y:i,width:s,height:a,ry:c}=t;return j.createElement("rect",{x:n,y:i,ry:c,width:s,height:a,stroke:"none",fill:e,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function mte(t){var{option:e,lineItemProps:r}=t,n;if(j.isValidElement(e))n=j.cloneElement(e,r);else if(typeof e=="function")n=e(r);else{var i,{x1:s,y1:a,x2:c,y2:u,key:o}=r,d=nj(r,lIe),f=(i=Vc(d))!==null&&i!==void 0?i:{},{offset:A}=f,p=nj(f,cIe);n=j.createElement("line",Cv({},p,{x1:s,y1:a,x2:c,y2:u,fill:"none",key:o}))}return n}function gIe(t){var{x:e,width:r,horizontal:n=!0,horizontalPoints:i}=t;if(!n||!i||!i.length)return null;var{xAxisId:s,yAxisId:a}=t,c=nj(t,uIe),u=i.map((o,d)=>{var f=Rd(Rd({},c),{},{x1:e,y1:o,x2:e+r,y2:o,key:"line-".concat(d),index:d});return j.createElement(mte,{key:"line-".concat(d),option:n,lineItemProps:f})});return j.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function vIe(t){var{y:e,height:r,vertical:n=!0,verticalPoints:i}=t;if(!n||!i||!i.length)return null;var{xAxisId:s,yAxisId:a}=t,c=nj(t,dIe),u=i.map((o,d)=>{var f=Rd(Rd({},c),{},{x1:o,y1:e,x2:o,y2:e+r,key:"line-".concat(d),index:d});return j.createElement(mte,{option:n,lineItemProps:f,key:"line-".concat(d)})});return j.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function yIe(t){var{horizontalFill:e,fillOpacity:r,x:n,y:i,width:s,height:a,horizontalPoints:c,horizontal:u=!0}=t;if(!u||!e||!e.length||c==null)return null;var o=c.map(f=>Math.round(f+i-i)).sort((f,A)=>f-A);i!==o[0]&&o.unshift(0);var d=o.map((f,A)=>{var p=o[A+1],g=p==null,y=g?i+a-f:p-f;if(y<=0)return null;var v=A%e.length;return j.createElement("rect",{key:"react-".concat(A),y:f,x:n,height:y,width:s,stroke:"none",fill:e[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return j.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function xIe(t){var{vertical:e=!0,verticalFill:r,fillOpacity:n,x:i,y:s,width:a,height:c,verticalPoints:u}=t;if(!e||!r||!r.length)return null;var o=u.map(f=>Math.round(f+i-i)).sort((f,A)=>f-A);i!==o[0]&&o.unshift(0);var d=o.map((f,A)=>{var p=o[A+1],g=p==null,y=g?i+a-f:p-f;if(y<=0)return null;var v=A%r.length;return j.createElement("rect",{key:"react-".concat(A),x:f,y:s,width:y,height:c,stroke:"none",fill:r[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return j.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var bIe=(t,e)=>{var{xAxis:r,width:n,height:i,offset:s}=t;return qX(lM(Rd(Rd(Rd({},Bp),r),{},{ticks:XX(r),viewBox:{x:0,y:0,width:n,height:i}})),s.left,s.left+s.width,e)},wIe=(t,e)=>{var{yAxis:r,width:n,height:i,offset:s}=t;return qX(lM(Rd(Rd(Rd({},Bp),r),{},{ticks:XX(r),viewBox:{x:0,y:0,width:n,height:i}})),s.top,s.top+s.height,e)},EIe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:ec.grid};function pte(t){var e=B3(),r=L3(),n=iZ(),i=Rd(Rd({},sc(t,EIe)),{},{x:ti(t.x)?t.x:n.left,y:ti(t.y)?t.y:n.top,width:ti(t.width)?t.width:n.width,height:ti(t.height)?t.height:n.height}),{xAxisId:s,yAxisId:a,x:c,y:u,width:o,height:d,syncWithTicks:f,horizontalValues:A,verticalValues:p}=i,g=Dd(),y=Mn(G=>FH(G,"xAxis",s,g)),v=Mn(G=>FH(G,"yAxis",a,g));if(!Dm(o)||!Dm(d)||!ti(c)||!ti(u))return null;var b=i.verticalCoordinatesGenerator||bIe,w=i.horizontalCoordinatesGenerator||wIe,{horizontalPoints:S,verticalPoints:_}=i;if((!S||!S.length)&&typeof w=="function"){var T=A&&A.length,L=w({yAxis:v?Rd(Rd({},v),{},{ticks:T?A:v.ticks}):void 0,width:e??o,height:r??d,offset:n},T?!0:f);TC(Array.isArray(L),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof L,"]")),Array.isArray(L)&&(S=L)}if((!_||!_.length)&&typeof b=="function"){var D=p&&p.length,V=b({xAxis:y?Rd(Rd({},y),{},{ticks:D?p:y.ticks}):void 0,width:e??o,height:r??d,offset:n},D?!0:f);TC(Array.isArray(V),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof V,"]")),Array.isArray(V)&&(_=V)}return j.createElement(Md,{zIndex:i.zIndex},j.createElement("g",{className:"recharts-cartesian-grid"},j.createElement(pIe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),j.createElement(yIe,Cv({},i,{horizontalPoints:S})),j.createElement(xIe,Cv({},i,{verticalPoints:_})),j.createElement(gIe,Cv({},i,{offset:n,horizontalPoints:S,xAxis:y,yAxis:v})),j.createElement(vIe,Cv({},i,{offset:n,verticalPoints:_,xAxis:y,yAxis:v}))))}pte.displayName="CartesianGrid";var SIe={},gte=Ih({name:"errorBars",initialState:SIe,reducers:{addErrorBar:(t,e)=>{var{itemId:r,errorBar:n}=e.payload;t[r]||(t[r]=[]),t[r].push(n)},replaceErrorBar:(t,e)=>{var{itemId:r,prev:n,next:i}=e.payload;t[r]&&(t[r]=t[r].map(s=>s.dataKey===n.dataKey&&s.direction===n.direction?i:s))},removeErrorBar:(t,e)=>{var{itemId:r,errorBar:n}=e.payload;t[r]&&(t[r]=t[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:XWe,replaceErrorBar:ZWe,removeErrorBar:JWe}=gte.actions,_Ie=gte.reducer,TIe=["children"];function CIe(t,e){if(t==null)return{};var r,n,i=jIe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function jIe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var NIe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},IIe=j.createContext(NIe);function kIe(t){var{children:e}=t,r=CIe(t,TIe);return j.createElement(IIe.Provider,{value:r},e)}function vte(t,e){var r,n,i=Mn(o=>Jp(o,t)),s=Mn(o=>eg(o,e)),a=(r=i?.allowDataOverflow)!==null&&r!==void 0?r:Mu.allowDataOverflow,c=(n=s?.allowDataOverflow)!==null&&n!==void 0?n:Fu.allowDataOverflow,u=a||c;return{needClip:u,needClipX:a,needClipY:c}}function BIe(t){var{xAxisId:e,yAxisId:r,clipPathId:n}=t,i=ate(),{needClipX:s,needClipY:a,needClip:c}=vte(e,r);if(!c||!i)return null;var{x:u,y:o,width:d,height:f}=i;return j.createElement("clipPath",{id:"clipPath-".concat(n)},j.createElement("rect",{x:s?u:u-d/2,y:a?o:o-f/2,width:s?d:d*2,height:a?f:f*2}))}var vB={exports:{}},yB={};var aV;function LIe(){if(aV)return yB;aV=1;var t=Db();function e(u,o){return u===o&&(u!==0||1/u===1/o)||u!==u&&o!==o}var r=typeof Object.is=="function"?Object.is:e,n=t.useSyncExternalStore,i=t.useRef,s=t.useEffect,a=t.useMemo,c=t.useDebugValue;return yB.useSyncExternalStoreWithSelector=function(u,o,d,f,A){var p=i(null);if(p.current===null){var g={hasValue:!1,value:null};p.current=g}else g=p.current;p=a(function(){function v(T){if(!b){if(b=!0,w=T,T=f(T),A!==void 0&&g.hasValue){var L=g.value;if(A(L,T))return S=L}return S=T}if(L=S,r(w,T))return L;var D=f(T);return A!==void 0&&A(L,D)?(w=T,L):(w=T,S=D)}var b=!1,w,S,_=d===void 0?null:d;return[function(){return v(o())},_===null?void 0:function(){return v(_())}]},[o,d,f,A]);var y=n(u,p[0],p[1]);return s(function(){g.hasValue=!0,g.value=y},[y]),c(y),y},yB}var oV;function RIe(){return oV||(oV=1,vB.exports=LIe()),vB.exports}RIe();function OIe(t){t()}function PIe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){OIe(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=t;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=e={callback:r,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!n||t===null||(n=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var lV={notify(){},get:()=>[]};function DIe(t,e){let r,n=lV,i=0,s=!1;function a(y){d();const v=n.subscribe(y);let b=!1;return()=>{b||(b=!0,v(),f())}}function c(){n.notify()}function u(){g.onStateChange&&g.onStateChange()}function o(){return s}function d(){i++,r||(r=t.subscribe(u),n=PIe())}function f(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=lV)}function A(){s||(s=!0,d())}function p(){s&&(s=!1,f())}const g={addNestedSub:a,notifyNestedSubs:c,handleChangeWrapper:u,isSubscribed:o,trySubscribe:A,tryUnsubscribe:p,getListeners:()=>n};return g}var MIe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",FIe=MIe(),UIe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",$Ie=UIe(),HIe=()=>FIe||$Ie?j.useLayoutEffect:j.useEffect,QIe=HIe();function cV(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function VIe(t,e){if(cV(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(e,r[i])||!cV(t[r[i]],e[r[i]]))return!1;return!0}var KIe=Symbol.for("react-redux-context"),GIe=typeof globalThis<"u"?globalThis:{};function zIe(){if(!j.createContext)return{};const t=GIe[KIe]??=new Map;let e=t.get(j.createContext);return e||(e=j.createContext(null),t.set(j.createContext,e)),e}var WIe=zIe();function YIe(t){const{children:e,context:r,serverState:n,store:i}=t,s=j.useMemo(()=>{const u=DIe(i);return{store:i,subscription:u,getServerState:n?()=>n:void 0}},[i,n]),a=j.useMemo(()=>i.getState(),[i]);QIe(()=>{const{subscription:u}=s;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),a!==i.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[s,a]);const c=r||WIe;return j.createElement(c.Provider,{value:s},e)}var qIe=YIe,XIe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function ZIe(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function uM(t,e){var r=new Set([...Object.keys(t),...Object.keys(e)]);for(var n of r)if(XIe.has(n)){if(t[n]==null&&e[n]==null)continue;if(!VIe(t[n],e[n]))return!1}else if(!ZIe(t[n],e[n]))return!1;return!0}function my(t,e){var r,n;return(r=(n=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:ite}function py(t,e){var r,n;return(r=(n=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:ite}var JIe="Invariant failed";function eke(t,e){throw new Error(JIe)}function nR(){return nR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nR.apply(null,arguments)}function ij(t){return j.createElement(Jee,nR({shapeType:"rectangle",activeClassName:"recharts-active-bar"},t))}var tke=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(ti(e))return e;var s=ti(n)||wc(n);return s?e(n,i):(s||eke(),r)}},rke=(t,e,r)=>r,nke=(t,e)=>e,P2=Zt([pD,nke],(t,e)=>t.filter(r=>r.type==="bar").find(r=>r.id===e)),ike=Zt([P2],t=>t?.maxBarSize),ske=(t,e,r,n)=>n,ake=Zt([ma,pD,my,py,rke],(t,e,r,n,i)=>e.filter(s=>t==="horizontal"?s.xAxisId===r:s.yAxisId===n).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),oke=(t,e,r)=>{var n=ma(t),i=my(t,e),s=py(t,e);if(!(i==null||s==null))return n==="horizontal"?q4(t,"yAxis",s,r):q4(t,"xAxis",i,r)},lke=(t,e)=>{var r=ma(t),n=my(t,e),i=py(t,e);if(!(n==null||i==null))return r==="horizontal"?MH(t,"xAxis",n):MH(t,"yAxis",i)},cke=Zt([ake,OEe,lke],w5e),uke=(t,e,r)=>{var n,i,s=P2(t,e);if(s==null)return 0;var a=my(t,e),c=py(t,e);if(a==null||c==null)return 0;var u=ma(t),o=yJ(t),{maxBarSize:d}=s,f=wc(d)?o:d,A,p;return u==="horizontal"?(A=Tb(t,"xAxis",a,r),p=_b(t,"xAxis",a,r)):(A=Tb(t,"yAxis",c,r),p=_b(t,"yAxis",c,r)),(n=(i=yb(A,p,!0))!==null&&i!==void 0?i:f)!==null&&n!==void 0?n:0},yte=(t,e,r)=>{var n=ma(t),i=my(t,e),s=py(t,e);if(!(i==null||s==null)){var a,c;return n==="horizontal"?(a=Tb(t,"xAxis",i,r),c=_b(t,"xAxis",i,r)):(a=Tb(t,"yAxis",s,r),c=_b(t,"yAxis",s,r)),yb(a,c)}},dke=Zt([cke,yJ,REe,xJ,uke,yte,ike],C5e),hke=(t,e,r)=>{var n=my(t,e);if(n!=null)return Tb(t,"xAxis",n,r)},fke=(t,e,r)=>{var n=py(t,e);if(n!=null)return Tb(t,"yAxis",n,r)},Ake=(t,e,r)=>{var n=my(t,e);if(n!=null)return _b(t,"xAxis",n,r)},mke=(t,e,r)=>{var n=py(t,e);if(n!=null)return _b(t,"yAxis",n,r)},pke=Zt([dke,P2],N5e),gke=Zt([oke,P2],j5e),vke=Zt([pu,N3,hke,fke,Ake,mke,pke,ma,TEe,yte,gke,P2,ske],(t,e,r,n,i,s,a,c,u,o,d,f,A)=>{var{chartData:p,dataStartIndex:g,dataEndIndex:y}=u;if(!(f==null||a==null||e==null||c!=="horizontal"&&c!=="vertical"||r==null||n==null||i==null||s==null||o==null)){var{data:v}=f,b;if(v!=null&&v.length>0?b=v:b=p?.slice(g,y+1),b!=null)return Gke({layout:c,barSettings:f,pos:a,parentViewBox:e,bandSize:o,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:s,stackedData:d,displayedData:b,offset:t,cells:A,dataStartIndex:g})}}),yke=["index"];function iR(){return iR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},iR.apply(null,arguments)}function xke(t,e){if(t==null)return{};var r,n,i=bke(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function bke(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var xte=j.createContext(void 0),wke=t=>{var e=j.useContext(xte);if(e!=null)return e.stackId;if(t!=null)return yye(t)},Eke=(t,e)=>"recharts-bar-stack-clip-path-".concat(t,"-").concat(e),Ske=t=>{var e=j.useContext(xte);if(e!=null){var{stackId:r}=e;return"url(#".concat(Eke(r,t),")")}},bte=t=>{var{index:e}=t,r=xke(t,yke),n=Ske(e);return j.createElement(nc,iR({className:"recharts-bar-stack-layer",clipPath:n},r))},_ke=["onMouseEnter","onMouseLeave","onClick"],Tke=["value","background","tooltipPosition"],Cke=["id"],jke=["onMouseEnter","onClick","onMouseLeave"];function Vp(){return Vp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vp.apply(null,arguments)}function uV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uV(Object(r),!0).forEach(function(n){Nke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Nke(t,e,r){return(e=Ike(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ike(t){var e=kke(t,"string");return typeof e=="symbol"?e:e+""}function kke(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sj(t,e){if(t==null)return{};var r,n,i=Bke(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Bke(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Lke=t=>{var{dataKey:e,name:r,fill:n,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:n,value:Kb(r,e),payload:t}]},Rke=j.memo(t=>{var{dataKey:e,stroke:r,strokeWidth:n,fill:i,name:s,hide:a,unit:c,tooltipType:u,id:o}=t,d={dataDefinedOnItem:void 0,getPosition:N0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:e,nameKey:void 0,name:Kb(s,e),hide:a,type:u,color:i,unit:c,graphicalItemId:o}};return j.createElement(sM,{tooltipEntrySettings:d})});function Oke(t){var e=Mn(x0),{data:r,dataKey:n,background:i,allOtherBarProps:s}=t,{onMouseEnter:a,onMouseLeave:c,onClick:u}=s,o=sj(s,_ke),d=rM(a,n,s.id),f=nM(c),A=iM(u,n,s.id);if(!i||r==null)return null;var p=Zv(i);return j.createElement(Md,{zIndex:I5e(i,ec.barBackground)},r.map((g,y)=>{var{value:v,background:b,tooltipPosition:w}=g,S=sj(g,Tke);if(!b)return null;var _=d(g,y),T=f(g,y),L=A(g,y),D=Xd(Xd(Xd(Xd(Xd({option:i,isActive:String(y)===e},S),{},{fill:"#eee"},b),p),Vb(o,g,y)),{},{onMouseEnter:_,onMouseLeave:T,onClick:L,dataKey:n,index:y,className:"recharts-bar-background-rectangle"});return j.createElement(ij,Vp({key:"background-bar-".concat(y)},D))}))}function Pke(t){var{showLabels:e,children:r,rects:n}=t,i=n?.map(s=>{var a={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return Xd(Xd({},a),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:a,fill:s.fill})});return j.createElement($ee,{value:e?i:void 0},r)}function Dke(t){var{shape:e,activeBar:r,baseProps:n,entry:i,index:s,dataKey:a}=t,c=Mn(x0),u=Mn(UD),o=r&&String(s)===c&&(u==null||a===u),d=o?r:e;return o?j.createElement(Md,{zIndex:ec.activeBar},j.createElement(bte,{index:s},j.createElement(ij,Vp({},n,{name:String(n.name)},i,{isActive:o,option:d,index:s,dataKey:a})))):j.createElement(ij,Vp({},n,{name:String(n.name)},i,{isActive:o,option:d,index:s,dataKey:a}))}function Mke(t){var{shape:e,baseProps:r,entry:n,index:i,dataKey:s}=t;return j.createElement(ij,Vp({},r,{name:String(r.name)},n,{isActive:!1,option:e,index:i,dataKey:s}))}function Fke(t){var e,{data:r,props:n}=t,i=(e=Vc(n))!==null&&e!==void 0?e:{},{id:s}=i,a=sj(i,Cke),{shape:c,dataKey:u,activeBar:o}=n,{onMouseEnter:d,onClick:f,onMouseLeave:A}=n,p=sj(n,jke),g=rM(d,u,s),y=nM(A),v=iM(f,u,s);return r?j.createElement(j.Fragment,null,r.map((b,w)=>j.createElement(bte,Vp({index:w,key:"rectangle-".concat(b?.x,"-").concat(b?.y,"-").concat(b?.value,"-").concat(w),className:"recharts-bar-rectangle"},Vb(p,b,w),{onMouseEnter:g(b,w),onMouseLeave:y(b,w),onClick:v(b,w)}),o?j.createElement(Dke,{shape:c,activeBar:o,baseProps:a,entry:b,index:w,dataKey:u}):j.createElement(Mke,{shape:c,baseProps:a,entry:b,index:w,dataKey:u})))):null}function Uke(t){var{props:e,previousRectanglesRef:r}=t,{data:n,layout:i,isAnimationActive:s,animationBegin:a,animationDuration:c,animationEasing:u,onAnimationEnd:o,onAnimationStart:d}=e,f=r.current,A=p2(e,"recharts-bar-"),[p,g]=j.useState(!1),y=!p,v=j.useCallback(()=>{typeof o=="function"&&o(),g(!1)},[o]),b=j.useCallback(()=>{typeof d=="function"&&d(),g(!0)},[d]);return j.createElement(Pke,{showLabels:y,rects:n},j.createElement(m2,{animationId:A,begin:a,duration:c,isActive:s,easing:u,onAnimationEnd:v,onAnimationStart:b,key:A},w=>{var S=w===1?n:n?.map((_,T)=>{var L=f&&f[T];if(L)return Xd(Xd({},_),{},{x:Nl(L.x,_.x,w),y:Nl(L.y,_.y,w),width:Nl(L.width,_.width,w),height:Nl(L.height,_.height,w)});if(i==="horizontal"){var D=Nl(0,_.height,w),V=Nl(_.stackedBarStart,_.y,w);return Xd(Xd({},_),{},{y:V,height:D})}var G=Nl(0,_.width,w),J=Nl(_.stackedBarStart,_.x,w);return Xd(Xd({},_),{},{width:G,x:J})});return w>0&&(r.current=S??null),S==null?null:j.createElement(nc,null,j.createElement(Fke,{props:e,data:S}))}),j.createElement(zD,{label:e.label}),e.children)}function $ke(t){var e=j.useRef(null);return j.createElement(Uke,{previousRectanglesRef:e,props:t})}var wte=0,Hke=(t,e)=>{var r=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:r,errorVal:Po(t,e)}};class Qke extends j.PureComponent{render(){var{hide:e,data:r,dataKey:n,className:i,xAxisId:s,yAxisId:a,needClip:c,background:u,id:o}=this.props;if(e||r==null)return null;var d=Xs("recharts-bar",i),f=o;return j.createElement(nc,{className:d,id:o},c&&j.createElement("defs",null,j.createElement(BIe,{clipPathId:f,xAxisId:s,yAxisId:a})),j.createElement(nc,{className:"recharts-bar-rectangles",clipPath:c?"url(#clipPath-".concat(f,")"):void 0},j.createElement(Oke,{data:r,dataKey:n,background:u,allOtherBarProps:this.props}),j.createElement($ke,this.props)))}}var Vke={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:wte,xAxisId:0,yAxisId:0,zIndex:ec.bar};function Kke(t){var{xAxisId:e,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:a,animationBegin:c,animationDuration:u,animationEasing:o,isAnimationActive:d}=t,{needClip:f}=vte(e,r),A=Gb(),p=Dd(),g=tM(t.children,Cb),y=Mn(w=>vke(w,t.id,p,g));if(A!=="vertical"&&A!=="horizontal")return null;var v,b=y?.[0];return b==null||b.height==null||b.width==null?v=0:v=A==="vertical"?b.height/2:b.width/2,j.createElement(kIe,{xAxisId:e,yAxisId:r,data:y,dataPointFormatter:Hke,errorBarOffset:v},j.createElement(Qke,Vp({},t,{layout:A,needClip:f,data:y,xAxisId:e,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:a,animationBegin:c,animationDuration:u,animationEasing:o,isAnimationActive:d})))}function Gke(t){var{layout:e,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:s,xAxis:a,yAxis:c,xAxisTicks:u,yAxisTicks:o,stackedData:d,displayedData:f,offset:A,cells:p,parentViewBox:g,dataStartIndex:y}=t,v=e==="horizontal"?c:a,b=d?v.scale.domain():null,w=xye({numericAxis:v}),S=v.scale.map(w);return f.map((_,T)=>{var L,D,V,G,J,ee;if(d){var ue=d[T+y];if(ue==null)return null;L=Aye(ue,b)}else L=Po(_,r),Array.isArray(L)||(L=[w,L]);var pe=tke(n,wte)(L[1],T);if(e==="horizontal"){var ge,he=c.scale.map(L[0]),ne=c.scale.map(L[1]);if(he==null||ne==null)return null;D=D$({axis:a,ticks:u,bandSize:s,offset:i.offset,entry:_,index:T}),V=(ge=ne??he)!==null&&ge!==void 0?ge:void 0,G=i.size;var Ae=he-ne;if(J=Om(Ae)?0:Ae,ee={x:D,y:A.top,width:G,height:A.height},Math.abs(pe)>0&&Math.abs(J)<Math.abs(pe)){var oe=Vu(J||pe)*(Math.abs(pe)-Math.abs(J));V-=oe,J+=oe}}else{var Be=a.scale.map(L[0]),ke=a.scale.map(L[1]);if(Be==null||ke==null)return null;if(D=Be,V=D$({axis:c,ticks:o,bandSize:s,offset:i.offset,entry:_,index:T}),G=ke-Be,J=i.size,ee={x:A.left,y:V,width:A.width,height:J},Math.abs(pe)>0&&Math.abs(G)<Math.abs(pe)){var ve=Vu(G||pe)*(Math.abs(pe)-Math.abs(G));G+=ve}}if(D==null||V==null||G==null||J==null)return null;var se=Xd(Xd({},_),{},{stackedBarStart:S,x:D,y:V,width:G,height:J,value:d?L:L[1],payload:_,background:ee,tooltipPosition:{x:D+G/2,y:V+J/2},parentViewBox:g},p&&p[T]&&p[T].props);return se}).filter(Boolean)}function zke(t){var e=sc(t,Vke),r=wke(e.stackId),n=Dd();return j.createElement(aM,{id:e.id,type:"bar"},i=>j.createElement(j.Fragment,null,j.createElement(Lje,{legendPayload:Lke(e)}),j.createElement(Rke,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:i}),j.createElement(Gje,{type:"bar",id:i,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:r,hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),j.createElement(Md,{zIndex:e.zIndex},j.createElement(Kke,Vp({},e,{id:i})))))}var Qx=j.memo(zke,uM);Qx.displayName="Bar";var Wke=["domain","range"],Yke=["domain","range"];function dV(t,e){if(t==null)return{};var r,n,i=qke(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function qke(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function hV(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function Ete(t,e){if(t===e)return!0;var{domain:r,range:n}=t,i=dV(t,Wke),{domain:s,range:a}=e,c=dV(e,Yke);return!hV(r,s)||!hV(n,a)?!1:uM(i,c)}var Xke=["type"],Zke=["dangerouslySetInnerHTML","ticks","scale"],Jke=["id","scale"];function sR(){return sR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sR.apply(null,arguments)}function fV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function AV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fV(Object(r),!0).forEach(function(n){eBe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eBe(t,e,r){return(e=tBe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tBe(t){var e=rBe(t,"string");return typeof e=="symbol"?e:e+""}function rBe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aR(t,e){if(t==null)return{};var r,n,i=nBe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function nBe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function iBe(t){var e=Fo(),r=j.useRef(null),n=sZ(),{type:i}=t,s=aR(t,Xke),a=E2(n,"xAxis",i),c=j.useMemo(()=>{if(a!=null)return AV(AV({},s),{},{type:a})},[s,a]);return j.useLayoutEffect(()=>{c!=null&&(r.current===null?e(INe(c)):r.current!==c&&e(kNe({prev:r.current,next:c})),r.current=c)},[c,e]),j.useLayoutEffect(()=>()=>{r.current&&(e(BNe(r.current)),r.current=null)},[e]),null}var sBe=t=>{var{xAxisId:e,className:r}=t,n=Mn(N3),i=Dd(),s="xAxis",a=Mn(b=>ZJ(b,s,e,i)),c=Mn(b=>WJ(b,e)),u=Mn(b=>D2e(b,e)),o=Mn(b=>NJ(b,e));if(c==null||u==null||o==null)return null;var{dangerouslySetInnerHTML:d,ticks:f,scale:A}=t,p=aR(t,Zke),{id:g,scale:y}=o,v=aR(o,Jke);return j.createElement(cM,sR({},p,v,{x:u.x,y:u.y,width:c.width,height:c.height,className:Xs("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:a,axisType:s}))},aBe={allowDataOverflow:Mu.allowDataOverflow,allowDecimals:Mu.allowDecimals,allowDuplicatedCategory:Mu.allowDuplicatedCategory,angle:Mu.angle,axisLine:Bp.axisLine,height:Mu.height,hide:!1,includeHidden:Mu.includeHidden,interval:Mu.interval,label:!1,minTickGap:Mu.minTickGap,mirror:Mu.mirror,orientation:Mu.orientation,padding:Mu.padding,reversed:Mu.reversed,scale:Mu.scale,tick:Mu.tick,tickCount:Mu.tickCount,tickLine:Bp.tickLine,tickSize:Bp.tickSize,type:Mu.type,xAxisId:0},oBe=t=>{var e=sc(t,aBe);return j.createElement(j.Fragment,null,j.createElement(iBe,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),j.createElement(sBe,e))},dM=j.memo(oBe,Ete);dM.displayName="XAxis";var lBe=["type"],cBe=["dangerouslySetInnerHTML","ticks","scale"],uBe=["id","scale"];function oR(){return oR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},oR.apply(null,arguments)}function mV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mV(Object(r),!0).forEach(function(n){dBe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dBe(t,e,r){return(e=hBe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hBe(t){var e=fBe(t,"string");return typeof e=="symbol"?e:e+""}function fBe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lR(t,e){if(t==null)return{};var r,n,i=ABe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function ABe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function mBe(t){var e=Fo(),r=j.useRef(null),n=sZ(),{type:i}=t,s=lR(t,lBe),a=E2(n,"yAxis",i),c=j.useMemo(()=>{if(a!=null)return pV(pV({},s),{},{type:a})},[a,s]);return j.useLayoutEffect(()=>{c!=null&&(r.current===null?e(LNe(c)):r.current!==c&&e(RNe({prev:r.current,next:c})),r.current=c)},[c,e]),j.useLayoutEffect(()=>()=>{r.current&&(e(ONe(r.current)),r.current=null)},[e]),null}function pBe(t){var{yAxisId:e,className:r,width:n,label:i}=t,s=j.useRef(null),a=j.useRef(null),c=Mn(N3),u=Dd(),o=Fo(),d="yAxis",f=Mn(L=>YJ(L,e)),A=Mn(L=>F2e(L,e)),p=Mn(L=>ZJ(L,d,e,u)),g=Mn(L=>IJ(L,e));if(j.useLayoutEffect(()=>{if(!(n!=="auto"||!f||GD(i)||j.isValidElement(i)||g==null)){var L=s.current;if(L){var D=L.getCalculatedWidth();Math.round(f.width)!==Math.round(D)&&o(PNe({id:e,width:D}))}}},[p,f,o,i,e,n,g]),f==null||A==null||g==null)return null;var{dangerouslySetInnerHTML:y,ticks:v,scale:b}=t,w=lR(t,cBe),{id:S,scale:_}=g,T=lR(g,uBe);return j.createElement(cM,oR({},w,T,{ref:s,labelRef:a,x:A.x,y:A.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:f.width,height:f.height,className:Xs("recharts-".concat(d," ").concat(d),r),viewBox:c,ticks:p,axisType:d}))}var gBe={allowDataOverflow:Fu.allowDataOverflow,allowDecimals:Fu.allowDecimals,allowDuplicatedCategory:Fu.allowDuplicatedCategory,angle:Fu.angle,axisLine:Bp.axisLine,hide:!1,includeHidden:Fu.includeHidden,interval:Fu.interval,label:!1,minTickGap:Fu.minTickGap,mirror:Fu.mirror,orientation:Fu.orientation,padding:Fu.padding,reversed:Fu.reversed,scale:Fu.scale,tick:Fu.tick,tickCount:Fu.tickCount,tickLine:Bp.tickLine,tickSize:Bp.tickSize,type:Fu.type,width:Fu.width,yAxisId:0},vBe=t=>{var e=sc(t,gBe);return j.createElement(j.Fragment,null,j.createElement(mBe,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),j.createElement(pBe,e))},hM=j.memo(vBe,Ete);hM.displayName="YAxis";var yBe=(t,e)=>e,fM=Zt([yBe,ma,_2,zu,pee,tg,JSe,pu],a_e),AM=t=>{var e=t.currentTarget.getBoundingClientRect(),r=e.width/t.currentTarget.offsetWidth,n=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/r),chartY:Math.round((t.clientY-e.top)/n)}},Ste=$f("mouseClick"),_te=d2();_te.startListening({actionCreator:Ste,effect:(t,e)=>{var r=t.payload,n=fM(e.getState(),AM(r));n?.activeIndex!=null&&e.dispatch(X2e({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var cR=$f("mouseMove"),Tte=d2(),BS=null;Tte.startListening({actionCreator:cR,effect:(t,e)=>{var r=t.payload;BS!==null&&cancelAnimationFrame(BS);var n=AM(r);BS=requestAnimationFrame(()=>{var i=e.getState(),s=RD(i,i.tooltip.settings.shared);if(s==="axis"){var a=fM(i,n);a?.activeIndex!=null?e.dispatch(oee({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(aee())}BS=null})}});function xBe(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var gV={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},Cte=Ih({name:"rootProps",initialState:gV,reducers:{updateOptions:(t,e)=>{var r;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(r=e.payload.barGap)!==null&&r!==void 0?r:gV.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),bBe=Cte.reducer,{updateOptions:wBe}=Cte.actions,EBe=null,SBe={updatePolarOptions:(t,e)=>e.payload},jte=Ih({name:"polarOptions",initialState:EBe,reducers:SBe}),{updatePolarOptions:_Be}=jte.actions,TBe=jte.reducer,Nte=$f("keyDown"),Ite=$f("focus"),mM=d2();mM.startListening({actionCreator:Nte,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var a=OD(i,t1(r),j2(r),k2(r)),c=a==null?-1:Number(a);if(!(!Number.isFinite(c)||c<0)){var u=tg(r);if(s==="Enter"){var o=XC(r,"axis","hover",String(i.index));e.dispatch(Z4({active:!i.active,activeIndex:i.index,activeCoordinate:o}));return}var d=$2e(r),f=d==="left-to-right"?1:-1,A=s==="ArrowRight"?1:-1,p=c+A*f;if(!(u==null||p>=u.length||p<0)){var g=XC(r,"axis","hover",String(p));e.dispatch(Z4({active:!0,activeIndex:p.toString(),activeCoordinate:g}))}}}}}});mM.startListening({actionCreator:Ite,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var s="0",a=XC(r,"axis","hover",String(s));e.dispatch(Z4({active:!0,activeIndex:s,activeCoordinate:a}))}}}});var If=$f("externalEvent"),kte=d2(),xB=new Map;kte.startListening({actionCreator:If,effect:(t,e)=>{var{handler:r,reactEvent:n}=t.payload;if(r!=null){n.persist();var i=n.type,s=xB.get(i);s!==void 0&&cancelAnimationFrame(s);var a=requestAnimationFrame(()=>{try{var c=e.getState(),u={activeCoordinate:DSe(c),activeDataKey:UD(c),activeIndex:x0(c),activeLabel:yee(c),activeTooltipIndex:x0(c),isTooltipActive:MSe(c)};r(u,n)}finally{xB.delete(i)}});xB.set(i,a)}}});var CBe=Zt([Jb],t=>t.tooltipItemPayloads),jBe=Zt([CBe,(t,e)=>e,(t,e,r)=>r],(t,e,r)=>{if(e!=null){var n=t.find(s=>s.settings.graphicalItemId===r);if(n!=null){var{getPosition:i}=n;if(i!=null)return i(e)}}}),Bte=$f("touchMove"),Lte=d2();Lte.startListening({actionCreator:Bte,effect:(t,e)=>{var r=t.payload;if(!(r.touches==null||r.touches.length===0)){var n=e.getState(),i=RD(n,n.tooltip.settings.shared);if(i==="axis"){var s=r.touches[0];if(s==null)return;var a=fM(n,AM({clientX:s.clientX,clientY:s.clientY,currentTarget:r.currentTarget}));a?.activeIndex!=null&&e.dispatch(oee({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var c,u=r.touches[0];if(document.elementFromPoint==null||u==null)return;var o=document.elementFromPoint(u.clientX,u.clientY);if(!o||!o.getAttribute)return;var d=o.getAttribute(JX),f=(c=o.getAttribute(eZ))!==null&&c!==void 0?c:void 0,A=e1(n).find(y=>y.id===f);if(d==null||A==null||f==null)return;var{dataKey:p}=A,g=jBe(n,d,f);e.dispatch(see({activeDataKey:p,activeIndex:d,activeCoordinate:g,activeGraphicalItemId:f}))}}}});var NBe=bX({brush:k5e,cartesianAxis:DNe,chartData:D_e,errorBars:_Ie,graphicalItems:Vje,layout:cye,legend:gxe,options:B_e,polarAxis:$Ce,polarOptions:TBe,referenceElements:O5e,rootProps:bBe,tooltip:Z2e,zIndex:x_e}),IBe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return Rve({reducer:NBe,preloadedState:e,middleware:n=>{var i;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([_te.middleware,Tte.middleware,mM.middleware,kte.middleware,Lte.middleware])},enhancers:n=>{var i=n;return typeof n=="function"&&(i=n()),i.concat(PX({type:"raf"}))},devTools:{serialize:{replacer:xBe},name:"recharts-".concat(r)}})};function Rte(t){var{preloadedState:e,children:r,reduxStoreName:n}=t,i=Dd(),s=j.useRef(null);if(i)return r;s.current==null&&(s.current=IBe(e,n));var a=w3;return j.createElement(qIe,{context:a,store:s.current},r)}function kBe(t){var{layout:e,margin:r}=t,n=Fo(),i=Dd();return j.useEffect(()=>{i||(n(aye(e)),n(sye(r)))},[n,i,e,r]),null}var Ote=j.memo(kBe,uM);function Pte(t){var e=Fo();return j.useEffect(()=>{e(wBe(t))},[e,t]),null}function vV(t){var{zIndex:e,isPanorama:r}=t,n=j.useRef(null),i=Fo();return j.useLayoutEffect(()=>(n.current&&i(v_e({zIndex:e,element:n.current,isPanorama:r})),()=>{i(y_e({zIndex:e,isPanorama:r}))}),[i,e,r]),j.createElement("g",{tabIndex:-1,ref:n})}function yV(t){var{children:e,isPanorama:r}=t,n=Mn(l_e);if(!n||n.length===0)return e;var i=n.filter(a=>a<0),s=n.filter(a=>a>0);return j.createElement(j.Fragment,null,i.map(a=>j.createElement(vV,{key:a,zIndex:a,isPanorama:r})),e,s.map(a=>j.createElement(vV,{key:a,zIndex:a,isPanorama:r})))}var BBe=["children"];function LBe(t,e){if(t==null)return{};var r,n,i=RBe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function RBe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function aj(){return aj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},aj.apply(null,arguments)}var OBe={width:"100%",height:"100%",display:"block"},PBe=j.forwardRef((t,e)=>{var r=B3(),n=L3(),i=gZ();if(!Dm(r)||!Dm(n))return null;var{children:s,otherAttributes:a,title:c,desc:u}=t,o,d;return a!=null&&(typeof a.tabIndex=="number"?o=a.tabIndex:o=i?0:void 0,typeof a.role=="string"?d=a.role:d=i?"application":void 0),j.createElement(d3,aj({},a,{title:c,desc:u,role:d,tabIndex:o,width:r,height:n,style:OBe,ref:e}),s)}),DBe=t=>{var{children:e}=t,r=Mn(LN);if(!r)return null;var{width:n,height:i,y:s,x:a}=r;return j.createElement(d3,{width:n,height:i,x:a,y:s},e)},xV=j.forwardRef((t,e)=>{var{children:r}=t,n=LBe(t,BBe),i=Dd();return i?j.createElement(DBe,null,j.createElement(yV,{isPanorama:!0},r)):j.createElement(PBe,aj({ref:e},n),j.createElement(yV,{isPanorama:!1},r))});function MBe(){var t=Fo(),[e,r]=j.useState(null),n=Mn(Tye);return j.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;da(s)&&s!==n&&t(lye(s))}},[e,t,n]),r}function bV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function FBe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bV(Object(r),!0).forEach(function(n){UBe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function UBe(t,e,r){return(e=$Be(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $Be(t){var e=HBe(t,"string");return typeof e=="symbol"?e:e+""}function HBe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function m0(){return m0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},m0.apply(null,arguments)}var QBe=()=>(G_e(),null);function oj(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var VBe=j.forwardRef((t,e)=>{var r,n,i=j.useRef(null),[s,a]=j.useState({containerWidth:oj((r=t.style)===null||r===void 0?void 0:r.width),containerHeight:oj((n=t.style)===null||n===void 0?void 0:n.height)}),c=j.useCallback((o,d)=>{a(f=>{var A=Math.round(o),p=Math.round(d);return f.containerWidth===A&&f.containerHeight===p?f:{containerWidth:A,containerHeight:p}})},[]),u=j.useCallback(o=>{if(typeof e=="function"&&e(o),o!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=o.getBoundingClientRect();c(d,f);var A=g=>{var y=g[0];if(y!=null){var{width:v,height:b}=y.contentRect;c(v,b)}},p=new ResizeObserver(A);p.observe(o),i.current=p}},[e,c]);return j.useEffect(()=>()=>{var o=i.current;o?.disconnect()},[c]),j.createElement(j.Fragment,null,j.createElement(f2,{width:s.containerWidth,height:s.containerHeight}),j.createElement("div",m0({ref:u},t)))}),KBe=j.forwardRef((t,e)=>{var{width:r,height:n}=t,[i,s]=j.useState({containerWidth:oj(r),containerHeight:oj(n)}),a=j.useCallback((u,o)=>{s(d=>{var f=Math.round(u),A=Math.round(o);return d.containerWidth===f&&d.containerHeight===A?d:{containerWidth:f,containerHeight:A}})},[]),c=j.useCallback(u=>{if(typeof e=="function"&&e(u),u!=null){var{width:o,height:d}=u.getBoundingClientRect();a(o,d)}},[e,a]);return j.createElement(j.Fragment,null,j.createElement(f2,{width:i.containerWidth,height:i.containerHeight}),j.createElement("div",m0({ref:c},t)))}),GBe=j.forwardRef((t,e)=>{var{width:r,height:n}=t;return j.createElement(j.Fragment,null,j.createElement(f2,{width:r,height:n}),j.createElement("div",m0({ref:e},t)))}),zBe=j.forwardRef((t,e)=>{var{width:r,height:n}=t;return typeof r=="string"||typeof n=="string"?j.createElement(KBe,m0({},t,{ref:e})):typeof r=="number"&&typeof n=="number"?j.createElement(GBe,m0({},t,{width:r,height:n,ref:e})):j.createElement(j.Fragment,null,j.createElement(f2,{width:r,height:n}),j.createElement("div",m0({ref:e},t)))});function WBe(t){return t?VBe:zBe}var YBe=j.forwardRef((t,e)=>{var{children:r,className:n,height:i,onClick:s,onContextMenu:a,onDoubleClick:c,onMouseDown:u,onMouseEnter:o,onMouseLeave:d,onMouseMove:f,onMouseUp:A,onTouchEnd:p,onTouchMove:g,onTouchStart:y,style:v,width:b,responsive:w,dispatchTouchEvents:S=!0}=t,_=j.useRef(null),T=Fo(),[L,D]=j.useState(null),[V,G]=j.useState(null),J=MBe(),ee=I3(),ue=ee?.width>0?ee.width:b,pe=ee?.height>0?ee.height:i,ge=j.useCallback(Ce=>{J(Ce),typeof e=="function"&&e(Ce),D(Ce),G(Ce),Ce!=null&&(_.current=Ce)},[J,e,D,G]),he=j.useCallback(Ce=>{T(Ste(Ce)),T(If({handler:s,reactEvent:Ce}))},[T,s]),ne=j.useCallback(Ce=>{T(cR(Ce)),T(If({handler:o,reactEvent:Ce}))},[T,o]),Ae=j.useCallback(Ce=>{T(aee()),T(If({handler:d,reactEvent:Ce}))},[T,d]),oe=j.useCallback(Ce=>{T(cR(Ce)),T(If({handler:f,reactEvent:Ce}))},[T,f]),Be=j.useCallback(()=>{T(Ite())},[T]),ke=j.useCallback(Ce=>{T(Nte(Ce.key))},[T]),ve=j.useCallback(Ce=>{T(If({handler:a,reactEvent:Ce}))},[T,a]),se=j.useCallback(Ce=>{T(If({handler:c,reactEvent:Ce}))},[T,c]),me=j.useCallback(Ce=>{T(If({handler:u,reactEvent:Ce}))},[T,u]),je=j.useCallback(Ce=>{T(If({handler:A,reactEvent:Ce}))},[T,A]),Ue=j.useCallback(Ce=>{T(If({handler:y,reactEvent:Ce}))},[T,y]),De=j.useCallback(Ce=>{S&&T(Bte(Ce)),T(If({handler:g,reactEvent:Ce}))},[T,S,g]),ot=j.useCallback(Ce=>{T(If({handler:p,reactEvent:Ce}))},[T,p]),ft=WBe(w);return j.createElement(Tee.Provider,{value:L},j.createElement(Fq.Provider,{value:V},j.createElement(ft,{width:ue??v?.width,height:pe??v?.height,className:Xs("recharts-wrapper",n),style:FBe({position:"relative",cursor:"default",width:ue,height:pe},v),onClick:he,onContextMenu:ve,onDoubleClick:se,onFocus:Be,onKeyDown:ke,onMouseDown:me,onMouseEnter:ne,onMouseLeave:Ae,onMouseMove:oe,onMouseUp:je,onTouchEnd:ot,onTouchMove:De,onTouchStart:Ue,ref:ge},j.createElement(QBe,null),r)))}),qBe=["width","height","responsive","children","className","style","compact","title","desc"];function XBe(t,e){if(t==null)return{};var r,n,i=ZBe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function ZBe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Dte=j.forwardRef((t,e)=>{var{width:r,height:n,responsive:i,children:s,className:a,style:c,compact:u,title:o,desc:d}=t,f=XBe(t,qBe),A=Vc(f);return u?j.createElement(j.Fragment,null,j.createElement(f2,{width:r,height:n}),j.createElement(xV,{otherAttributes:A,title:o,desc:d},s)):j.createElement(YBe,{className:a,style:c,width:r,height:n,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},j.createElement(xV,{otherAttributes:A,title:o,desc:d,ref:e},j.createElement(D5e,null,s)))});function uR(){return uR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uR.apply(null,arguments)}var JBe={top:5,right:5,bottom:5,left:5},eLe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:JBe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},tLe=j.forwardRef(function(e,r){var n,i=sc(e.categoricalChartProps,eLe),{chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:c,tooltipPayloadSearcher:u,categoricalChartProps:o}=e,d={chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:c,tooltipPayloadSearcher:u,eventEmitter:void 0};return j.createElement(Rte,{preloadedState:{options:d},reduxStoreName:(n=o.id)!==null&&n!==void 0?n:s},j.createElement(dte,{chartData:o.data}),j.createElement(Ote,{layout:i.layout,margin:i.margin}),j.createElement(Pte,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),j.createElement(Dte,uR({},i,{ref:r})))}),rLe=["axis","item"],Mte=j.forwardRef((t,e)=>j.createElement(tLe,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:rLe,tooltipPayloadSearcher:KD,categoricalChartProps:t,ref:e}));function nLe(t){var e=Fo();return j.useEffect(()=>{e(_Be(t))},[e,t]),null}var iLe=["layout"];function dR(){return dR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dR.apply(null,arguments)}function sLe(t,e){if(t==null)return{};var r,n,i=aLe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function aLe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var oLe={top:5,right:5,bottom:5,left:5},pM={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:oLe,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Fte=j.forwardRef(function(e,r){var n,i=sc(e.categoricalChartProps,pM),{layout:s}=i,a=sLe(i,iLe),{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:o,tooltipPayloadSearcher:d}=e,f={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:o,tooltipPayloadSearcher:d,eventEmitter:void 0};return j.createElement(Rte,{preloadedState:{options:f},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:c},j.createElement(dte,{chartData:i.data}),j.createElement(Ote,{layout:s,margin:i.margin}),j.createElement(Pte,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),j.createElement(nLe,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),j.createElement(Dte,dR({},a,{ref:r})))});function wV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function EV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wV(Object(r),!0).forEach(function(n){lLe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lLe(t,e,r){return(e=cLe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cLe(t){var e=uLe(t,"string");return typeof e=="symbol"?e:e+""}function uLe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dLe=["item"],hLe=EV(EV({},pM),{},{layout:"centric",startAngle:0,endAngle:360}),fLe=j.forwardRef((t,e)=>{var r=sc(t,hLe);return j.createElement(Fte,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:dLe,tooltipPayloadSearcher:KD,categoricalChartProps:r,ref:e})});function SV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _V(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SV(Object(r),!0).forEach(function(n){ALe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ALe(t,e,r){return(e=mLe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mLe(t){var e=pLe(t,"string");return typeof e=="symbol"?e:e+""}function pLe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gLe=["axis"],vLe=_V(_V({},pM),{},{layout:"centric",startAngle:90,endAngle:-270}),yLe=j.forwardRef((t,e)=>{var r=sc(t,vLe);return j.createElement(Fte,{chartName:"RadarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:gLe,tooltipPayloadSearcher:KD,categoricalChartProps:r,ref:e})});const xLe=[{name:"Custom Fight Banner Graphics",price:"$650",avgPrice:650,icon:f0,description:"Custom graphics for all athletes created day-of from registration photos",features:["Professional athlete intro graphics","Fight card overlays","Social media ready formats","Same-day delivery"]},{name:"Professional Event Photography",price:"$1,000",avgPrice:1e3,icon:JT,description:"Dedicated photographer capturing every moment of your event",features:["Full event coverage","Match action shots","Winners & awards ceremony","Crowd atmosphere shots","Complete digital gallery"]},{name:"Individual Fight/Match Recordings",price:"$750",avgPrice:750,icon:Nm,description:"Every fight delivered as a standalone clip  perfect for athletes, coaches, and social media",features:["Individual recording of every fight/match","Clean cuts with walkout to decision","Athlete-ready format for social sharing","YouTube-ready individual uploads","7-day delivery"]},{name:"Premium Camera Setup",price:"$2,000",avgPrice:2e3,icon:JT,description:"Upgrade to broadcast-grade multi-camera production",features:["3-4 cinema-grade cameras","PTZ cameras for dynamic angles","Professional live switching","Instant replay capability","Broadcast graphics integration"]},{name:"Social Media Content Package",price:"$1,500",avgPrice:1500,icon:dy,description:"Comprehensive content strategy for maximum reach",features:["5-10 social clips","Event highlight reel (3-5 min)","Short-form vertical edits for Reels/TikTok","Same-day highlight delivery"]},{name:"Ongoing Content Strategy",price:"$3,000",avgPrice:3e3,priceDetail:"per month",icon:WW,description:"Monthly content calendar and audience growth strategy",features:["Monthly content calendar","Audience growth strategy","Between-event content","Analytics & optimization","Dedicated account manager"]}],bLe=t=>t==="Major"?["Professional broadcast production (3-4 cameras with PTZ)","Complete PPV/streaming setup and management","Full show recording","Custom fight banner graphics for all athletes","Professional event photography","3 social media highlight clips","Revenue share: You earn from every PPV sale"]:t==="Established"?["Professional live stream production (2-3 cameras)","Complete PPV/streaming setup and management","Full show recording","Custom fight banner graphics for all athletes","1 social media highlight clip","Revenue share: You earn from every PPV sale"]:["Professional live stream production (1-2 cameras)","Complete PPV/streaming setup and management","Full show recording","1 social media highlight clip","Revenue share: You earn from every PPV sale"],wLe={Grassroots:[],Regional:[],Established:["Custom Fight Banner Graphics"],Major:["Custom Fight Banner Graphics","Professional Event Photography","Premium Camera Setup"]},TV=t=>t==="Major"?[{name:"Essentials Package",price:"$1,500",features:["Individual Fight/Match Recordings ($750 value)","Social Media Content Package  5-10 clips ($1,500 value)"],addOns:["Individual Fight/Match Recordings","Social Media Content Package"],bestFor:"Major promotions wanting athlete-ready content",popular:!1},{name:"Professional Package",price:"$3,000",features:["Everything in Essentials","Ongoing Content Strategy  1 month ($3,000 value)"],addOns:["Individual Fight/Match Recordings","Social Media Content Package","Ongoing Content Strategy"],bestFor:"Promotions building a year-round content engine",popular:!0},{name:"Broadcast Package",price:"$4,500",features:["Everything in Professional","Priority scheduling","Dedicated account manager","Between-event content creation"],addOns:["Individual Fight/Match Recordings","Social Media Content Package","Ongoing Content Strategy"],bestFor:"Elite promotions wanting a full media partnership",popular:!1}]:t==="Established"?[{name:"Essentials Package",price:"$2,000",features:["Individual Fight/Match Recordings ($750 value)","Social Media Content Package  5-10 clips ($1,500 value)"],addOns:["Individual Fight/Match Recordings","Social Media Content Package"],bestFor:"Established promotions adding content to their toolkit",popular:!1},{name:"Professional Package",price:"$3,500",features:["Everything in Essentials","Professional Event Photography ($1,000 value)","Premium Camera Setup ($2,000 value)"],addOns:["Individual Fight/Match Recordings","Social Media Content Package","Professional Event Photography","Premium Camera Setup"],bestFor:"Promotions ready for broadcast-quality production",popular:!0},{name:"Broadcast Package",price:"$5,500",features:["Everything in Professional","Ongoing Content Strategy  1 month ($3,000 value)","Priority scheduling"],addOns:["Individual Fight/Match Recordings","Social Media Content Package","Professional Event Photography","Premium Camera Setup","Ongoing Content Strategy"],bestFor:"Promotions dominating their market with full media support",popular:!1}]:[{name:"Essentials Package",price:"$2,500",features:["Custom Fight Banner Graphics ($650 value)","Individual Fight/Match Recordings ($750 value)"],addOns:["Custom Fight Banner Graphics","Individual Fight/Match Recordings"],bestFor:"Grassroots promotions building their brand",popular:!1},{name:"Professional Package",price:"$4,000",features:["Everything in Essentials","Professional Event Photography ($1,000 value)","Social Media Content Package ($1,500 value)"],addOns:["Custom Fight Banner Graphics","Individual Fight/Match Recordings","Professional Event Photography","Social Media Content Package"],bestFor:"Growing promotions ready to scale",popular:!0},{name:"Broadcast Package",price:"$6,500",features:["Everything in Professional","Premium Camera Setup ($2,000 value)","Ongoing Content Strategy  1 month ($3,000 value)"],addOns:["Custom Fight Banner Graphics","Individual Fight/Match Recordings","Professional Event Photography","Social Media Content Package","Premium Camera Setup","Ongoing Content Strategy"],bestFor:"Established promotions dominating their market",popular:!1}],ELe=t=>t==="Major"?"All packages build on your premium base offer  which already includes broadcast production, photography, banner graphics, and PPV revenue share at zero cost":t==="Established"?"All packages build on your enhanced base offer  which already includes professional production, banner graphics, and PPV revenue share at zero cost":"All packages include our zero-cost live production + PPV revenue share as the base service",CV=t=>t==="Major"?"Your Major tier includes broadcast production, photography, banner graphics, and PPV revenue share at no extra cost. These packages add even more on top of your premium base offer.":t==="Established"?"Your Established tier includes banner graphics at no extra cost. These packages add even more on top of your enhanced base offer.":null,SLe=({formData:t,analysis:e,nextStep:r,prevStep:n,selectedAddOns:i=[],setSelectedAddOns:s})=>{const[a,c]=j.useState(null),[u,o]=j.useState(!1),[d,f]=j.useState(null),[A,p]=j.useState(t.showsPerYear),g=e?.potentialStreamingRevenue?.expectedPurchases||Math.round((e?.potentialStreamingRevenue?.viewerEstimate||200)*.6),[y,v]=j.useState(g),[b,w]=j.useState(25);if(!e)return l.jsx("section",{className:"min-h-screen py-20 px-4 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-gray-400",children:"No analysis available. Please complete the profile form."}),l.jsx("button",{onClick:n,className:"mt-6 px-6 py-3 bg-primary-600 hover:bg-primary-700 text-white font-bold rounded-lg transition-all",children:"Go Back"})]})});const S=[{metric:"Event Frequency",value:Math.min(t.showsPerYear/12*100,100)},{metric:"Audience Size",value:Math.min(t.avgAttendance/1e3*100,100)},{metric:"Social Reach",value:Math.min(t.socialFollowing/1e5*100,100)},{metric:"Venue Scale",value:Math.min(t.venueCapacity/2e3*100,100)},{metric:"Growth",value:t.growthTrajectory==="rapidly-growing"?100:t.growthTrajectory==="growing"?85:t.growthTrajectory==="stable"?60:30}],_={Grassroots:"from-green-600 to-emerald-600",Regional:"from-blue-600 to-cyan-600",Established:"from-purple-600 to-pink-600",Major:"from-amber-600 to-red-600"},T={Grassroots:"",Regional:"",Established:"",Major:""},L=Math.round(y*b),D=Math.round(L*.3),V=D*A,G=ee=>{if(i.includes(ee)){if(s(i.filter(ue=>ue!==ee)),d){const ue=TV(e.tier).find(pe=>pe.name===d);ue&&ue.addOns.includes(ee)&&f(null)}}else s([...i,ee])},J=ee=>{if(d===ee.name)f(null),s(i.filter(ue=>!ee.addOns.includes(ue)));else{f(ee.name);const ue=[...new Set([...i,...ee.addOns])];s(ue)}};return l.jsx("section",{className:"min-h-screen py-12 sm:py-20 px-4",children:l.jsxs("div",{className:"max-w-6xl mx-auto",children:[l.jsxs(Or.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-8 sm:mb-12",children:[l.jsxs("div",{className:"inline-flex items-center gap-3 mb-4",children:[l.jsx(dy,{className:"w-10 h-10 sm:w-12 sm:h-12 text-primary-500"}),l.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-black",children:l.jsx("span",{className:"text-gradient",children:"Your Analysis"})})]}),l.jsxs("p",{className:"text-base sm:text-lg md:text-xl text-gray-300 max-w-2xl mx-auto",children:["Tailored recommendations for ",t.orgName]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 sm:gap-8 mb-6",children:[l.jsxs(Or.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2},className:`bg-gradient-to-br ${_[e.tier]} rounded-xl p-6 sm:p-8 border-2 border-white/20 card-glow`,children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx("div",{className:"text-5xl sm:text-6xl",children:T[e.tier]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl sm:text-2xl font-black text-white/90 mb-1",children:"Organization Tier"}),l.jsx("p",{className:"text-white/70 text-sm sm:text-base",children:"Your classification"})]})]}),l.jsx("div",{className:"text-5xl sm:text-6xl md:text-7xl font-black text-white mb-4",children:e.tier}),l.jsxs("p",{className:"text-white/90 text-sm sm:text-base leading-relaxed",children:[e.tier==="Grassroots"&&`With ${t.showsPerYear} event${t.showsPerYear>1?"s":""}/year and ${t.avgAttendance.toLocaleString()} average attendance, you're building your foundation. Professional media coverage will help grow your audience and attract first sponsors.`,e.tier==="Regional"&&`With ${t.showsPerYear} event${t.showsPerYear>1?"s":""}/year and ${t.avgAttendance.toLocaleString()} average attendance, you're running a solid operation. Multi-camera production, live streaming, and sponsor packages will take you to the next level.`,e.tier==="Established"&&`With ${t.showsPerYear} event${t.showsPerYear>1?"s":""}/year and ${t.avgAttendance.toLocaleString()} average attendance, you're an established promotion. Broadcast-quality production with PPV capability and premium sponsor integration is your next move.`,e.tier==="Major"&&`With ${t.showsPerYear} event${t.showsPerYear>1?"s":""}/year and ${t.avgAttendance.toLocaleString()} average attendance, you're a major player. Full media partnerships, dedicated production teams, and broadcast-level media rights management are where the real value is.`]})]}),l.jsxs(Or.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.3},className:"bg-dark-800 border border-gray-700 rounded-xl p-6 sm:p-8",children:[l.jsx("h3",{className:"text-xl sm:text-2xl font-bold mb-6 text-white",children:"Your Profile Metrics"}),l.jsx(CC,{width:"100%",height:280,children:l.jsxs(yLe,{data:S,children:[l.jsx(Wee,{stroke:"#374151"}),l.jsx(qee,{dataKey:"metric",tick:{fill:"#9CA3AF",fontSize:11},className:"text-xs sm:text-sm"}),l.jsx(ute,{name:"Score",dataKey:"value",stroke:"#F83B3B",fill:"#F83B3B",fillOpacity:.6})]})})]})]}),l.jsxs(Or.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.35},className:"bg-gradient-to-br from-blue-900/20 to-cyan-900/20 border border-blue-700/40 rounded-xl p-6 sm:p-8 mb-8",children:[l.jsxs("button",{onClick:()=>o(!u),className:"w-full flex items-start gap-4 text-left",children:[l.jsx(ede,{className:"w-8 h-8 sm:w-10 sm:h-10 text-blue-400 flex-shrink-0"}),l.jsx("div",{className:"flex-1",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl sm:text-2xl font-black text-white mb-2",children:"Market Intelligence"}),l.jsx("p",{className:"text-sm sm:text-base text-gray-300",children:"What others at your tier are doing"})]}),u?l.jsx(eC,{className:"w-6 h-6 text-blue-400"}):l.jsx(eE,{className:"w-6 h-6 text-blue-400"})]})})]}),u&&l.jsxs("div",{className:"space-y-3 mt-4",children:[e.tier==="Grassroots"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-start gap-3 p-3 bg-dark-900/40 rounded-lg",children:[l.jsx("div",{className:"text-blue-400 text-xl",children:""}),l.jsxs("p",{className:"text-gray-200 text-sm sm:text-base",children:[l.jsx("strong",{className:"text-blue-300",children:"78% of grassroots promotions"})," still rely on phone footage  professional media is your competitive edge"]})]}),l.jsxs("div",{className:"flex items-start gap-3 p-3 bg-dark-900/40 rounded-lg",children:[l.jsx("div",{className:"text-blue-400 text-xl",children:""}),l.jsxs("p",{className:"text-gray-200 text-sm sm:text-base",children:["Promotions that invest in media coverage see ",l.jsx("strong",{className:"text-blue-300",children:"2-3x faster audience growth"})]})]})]}),e.tier==="Regional"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-start gap-3 p-3 bg-dark-900/40 rounded-lg",children:[l.jsx("div",{className:"text-blue-400 text-xl",children:""}),l.jsxs("p",{className:"text-gray-200 text-sm sm:text-base",children:[l.jsx("strong",{className:"text-blue-300",children:"62% of regional promotions"})," now offer live streaming  audiences expect it"]})]}),l.jsxs("div",{className:"flex items-start gap-3 p-3 bg-dark-900/40 rounded-lg",children:[l.jsx("div",{className:"text-blue-400 text-xl",children:""}),l.jsxs("p",{className:"text-gray-200 text-sm sm:text-base",children:["Regional promotions with professional media attract ",l.jsx("strong",{className:"text-blue-300",children:"40% more sponsor interest"})]})]})]}),e.tier==="Established"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-start gap-3 p-3 bg-dark-900/40 rounded-lg",children:[l.jsx("div",{className:"text-blue-400 text-xl",children:""}),l.jsxs("p",{className:"text-gray-200 text-sm sm:text-base",children:[l.jsx("strong",{className:"text-blue-300",children:"85% of established promotions"})," have moved to PPV  the question isn't if, but when"]})]}),l.jsxs("div",{className:"flex items-start gap-3 p-3 bg-dark-900/40 rounded-lg",children:[l.jsx("div",{className:"text-blue-400 text-xl",children:""}),l.jsxs("p",{className:"text-gray-200 text-sm sm:text-base",children:[l.jsx("strong",{className:"text-blue-300",children:"Top-tier media production is the #1 factor"})," sponsors cite when choosing event partnerships"]})]})]}),e.tier==="Major"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-start gap-3 p-3 bg-dark-900/40 rounded-lg",children:[l.jsx("div",{className:"text-blue-400 text-xl",children:""}),l.jsxs("p",{className:"text-gray-200 text-sm sm:text-base",children:["Major promotions with dedicated media teams generate ",l.jsx("strong",{className:"text-blue-300",children:"30-50% of revenue from content"})]})]}),l.jsxs("div",{className:"flex items-start gap-3 p-3 bg-dark-900/40 rounded-lg",children:[l.jsx("div",{className:"text-blue-400 text-xl",children:""}),l.jsxs("p",{className:"text-gray-200 text-sm sm:text-base",children:[l.jsx("strong",{className:"text-blue-300",children:"Broadcast-quality production is no longer a luxury"}),"  it's the baseline expectation"]})]})]})]})]}),l.jsxs(Or.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"mb-8",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[l.jsx($L,{className:"w-10 h-10 sm:w-12 sm:h-12 text-amber-400 fill-amber-400"}),l.jsxs("h3",{className:"text-3xl sm:text-4xl font-black text-white",children:["Our Offer to ",t.orgName]})]}),l.jsxs("div",{className:"relative bg-gradient-to-br from-amber-600 via-orange-600 to-red-600 rounded-2xl p-8 sm:p-12 border-4 border-amber-400/50 card-glow overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 opacity-10",children:l.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.4'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),l.jsxs("div",{className:"relative z-10",children:[l.jsxs("div",{className:"inline-flex items-center gap-2 bg-white/20 backdrop-blur-sm px-4 py-2 rounded-full mb-6",children:[l.jsx(LP,{className:"w-5 h-5 text-white"}),l.jsx("span",{className:"text-white font-bold text-sm",children:"ZERO-COST PRODUCTION"})]}),l.jsx("h4",{className:"text-4xl sm:text-5xl md:text-6xl font-black text-white mb-4 leading-tight",children:"Zero-Cost Live Stream Production"}),l.jsx("p",{className:"text-xl sm:text-2xl md:text-3xl text-white/90 mb-8 font-bold",children:"We produce your event. You pay nothing. You earn revenue."}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[l.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6 border border-white/20",children:[l.jsxs("h5",{className:"text-xl font-black text-white mb-4 flex items-center gap-2",children:[l.jsx(bo,{className:"w-6 h-6"}),"What's Included FREE"]}),l.jsx("ul",{className:"space-y-3",children:bLe(e.tier).map((ee,ue)=>l.jsxs("li",{className:"flex items-start gap-3",children:[l.jsx(bo,{className:"w-5 h-5 text-white flex-shrink-0 mt-0.5"}),l.jsx("span",{className:"text-white text-sm sm:text-base",children:ee})]},ue))})]}),l.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6 border border-white/20",children:[l.jsx("h5",{className:"text-xl font-black text-white mb-4",children:"How It Works"}),l.jsx("div",{className:"space-y-4",children:[{num:"1",text:e.tier==="Major"?"We produce your event with a full broadcast setup (3-4 cameras, PTZ, photographer)":e.tier==="Established"?"We produce your event with professional multi-camera coverage (2-3 cameras, full setup)":"We produce your live stream (1-2 pro cameras, full setup)"},{num:"2",text:"Fans purchase PPV access ($20-$30 per viewer)"},{num:"3",text:"You earn from all PPV revenue  free money you weren't making before"}].map(ee=>l.jsxs("div",{className:"flex gap-4",children:[l.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-white rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-xl font-black text-orange-600",children:ee.num})}),l.jsx("p",{className:"text-white text-sm sm:text-base flex-1 mt-1",children:ee.text})]},ee.num))})]})]}),l.jsxs("div",{className:"bg-green-900/40 backdrop-blur-sm border-2 border-green-400 rounded-xl p-6 text-center",children:[l.jsxs("p",{className:"text-2xl sm:text-3xl font-black text-white mb-2",children:["Your Production Cost: ",l.jsx("span",{className:"text-green-300",children:"$0"})]}),l.jsx("p",{className:"text-white/90 text-base sm:text-lg",children:"Zero upfront cost. Zero risk. Just professional streaming + revenue sharing."})]})]})]})]}),l.jsxs(Or.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.5},className:"bg-dark-800 border border-gray-700 rounded-xl p-6 sm:p-8 mb-8",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx(UW,{className:"w-8 h-8 sm:w-10 sm:h-10 text-green-400"}),l.jsx("h3",{className:"text-2xl sm:text-3xl font-black text-white",children:"Your Revenue Projection"})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 sm:gap-8",children:[l.jsxs("div",{className:"space-y-6",children:[l.jsx("h4",{className:"text-lg sm:text-xl font-bold text-white",children:"Your Numbers"}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-semibold mb-3 text-gray-300",children:["Events Per Year: ",l.jsx("span",{className:"text-primary-500 text-lg font-bold",children:A})]}),l.jsx("input",{type:"range",min:"1",max:"24",value:A,onChange:ee=>p(parseInt(ee.target.value)),className:"w-full h-3 accent-primary-600"}),l.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[l.jsx("span",{children:"1"}),l.jsx("span",{children:"24"})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-semibold mb-3 text-gray-300",children:["Expected PPV Purchases: ",l.jsx("span",{className:"text-primary-500 text-lg font-bold",children:y.toLocaleString()})]}),l.jsx("input",{type:"range",min:"50",max:"2000",step:"25",value:y,onChange:ee=>v(parseInt(ee.target.value)),className:"w-full h-3 accent-primary-600"}),l.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[l.jsx("span",{children:"50"}),l.jsx("span",{children:"2,000"})]}),l.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Reference: Small shows 100-250 | Medium 300-600 | Large 800-2000+"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-semibold mb-3 text-gray-300",children:["PPV Price: ",l.jsxs("span",{className:"text-primary-500 text-lg font-bold",children:["$",b]})]}),l.jsx("input",{type:"range",min:"10",max:"50",step:"1",value:b,onChange:ee=>w(parseInt(ee.target.value)),className:"w-full h-3 accent-primary-600"}),l.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[l.jsx("span",{children:"$10"}),l.jsx("span",{children:"$50"})]})]}),l.jsxs("div",{className:"p-4 bg-green-900/20 border border-green-600/50 rounded-lg",children:[l.jsx("p",{className:"text-green-300 text-sm font-semibold mb-2",children:" The Zero-Cost Advantage"}),l.jsxs("p",{className:"text-green-200 text-xs leading-relaxed",children:["Without professional streaming: ",l.jsx("strong",{children:"$0 PPV revenue."}),l.jsx("br",{}),"With us: ",l.jsxs("strong",{children:["$",V.toLocaleString(),"/year"]}),"  at zero cost to you."]})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("h4",{className:"text-lg sm:text-xl font-bold text-white flex items-center gap-3",children:[l.jsx(T0,{className:"w-6 h-6 text-green-400"}),"Revenue Breakdown"]}),l.jsxs("div",{className:"p-5 bg-gradient-to-br from-green-900/40 to-emerald-900/40 border-2 border-green-500 rounded-lg",children:[l.jsx("p",{className:"text-sm text-gray-300 font-semibold mb-1",children:"Your Production Cost"}),l.jsx("p",{className:"text-4xl sm:text-5xl font-black text-green-400",children:"$0"}),l.jsx("p",{className:"text-xs text-green-300 mt-2",children:" Zero upfront investment required"})]}),l.jsxs("div",{className:"p-5 bg-dark-900 rounded-lg",children:[l.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Your Revenue Per Event"}),l.jsxs("p",{className:"text-3xl sm:text-4xl font-black text-green-400",children:["$",D.toLocaleString()]}),l.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Revenue from PPV sales  you weren't earning this before"})]}),l.jsxs("div",{className:"p-5 bg-gradient-to-br from-green-900/40 to-emerald-900/40 border-2 border-green-500 rounded-lg",children:[l.jsx("p",{className:"text-sm text-gray-300 font-semibold mb-1",children:"Your Annual Revenue"}),l.jsxs("p",{className:"text-3xl sm:text-4xl font-black text-green-400",children:["$",V.toLocaleString()]}),l.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["$",D.toLocaleString(),"  ",A," events"]})]}),l.jsx("div",{className:"p-4 bg-blue-900/20 border border-blue-700/50 rounded-lg",children:l.jsxs("p",{className:"text-sm text-blue-200 leading-relaxed",children:[" ",l.jsx("strong",{children:"100% Pure Profit:"})," Every dollar you earn is revenue you weren't generating before. Zero risk, zero cost, all upside. Plus the sponsor deals, ticket sales, and brand growth that come from professional streaming."]})})]})]})]}),l.jsxs(Or.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.58},className:"mb-8",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[l.jsx(c0,{className:"w-8 h-8 sm:w-10 sm:h-10 text-primary-400 flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-2xl sm:text-3xl font-black text-white",children:"Want Even More?"}),l.jsx("p",{className:"text-gray-400 text-sm sm:text-base",children:"Your free live stream is just the beginning. Upgrade your event with premium services."})]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6",children:xLe.filter(ee=>!wLe[e.tier]?.includes(ee.name)).map((ee,ue)=>{const pe=a===ee.name,ge=i.includes(ee.name),he=ee.icon;return l.jsx(Or.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1*ue},className:`bg-dark-800 border-2 rounded-xl overflow-hidden transition-all cursor-pointer ${ge?"border-primary-600 bg-primary-900/20":"border-gray-700 hover:border-primary-600/50"}`,onClick:()=>G(ee.name),children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[l.jsx("div",{className:`flex-shrink-0 w-12 h-12 rounded-lg flex items-center justify-center ${ge?"bg-primary-600":"bg-primary-600/20"}`,children:l.jsx(he,{className:`w-6 h-6 ${ge?"text-white":"text-primary-400"}`})}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[l.jsx("h4",{className:"text-lg font-bold text-white",children:ee.name}),ge&&l.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-green-500 rounded-full flex items-center justify-center",children:l.jsx(bo,{className:"w-4 h-4 text-white"})})]}),l.jsx("p",{className:"text-primary-400 font-bold",children:ee.price}),ee.priceDetail&&l.jsx("p",{className:"text-gray-500 text-xs",children:ee.priceDetail})]})]}),l.jsx("p",{className:"text-gray-400 text-sm mb-4",children:ee.description}),l.jsx("div",{className:"space-y-2",children:ee.features.slice(0,pe?ee.features.length:3).map((ne,Ae)=>l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(bo,{className:"w-4 h-4 text-green-400 flex-shrink-0 mt-0.5"}),l.jsx("span",{className:"text-gray-300 text-xs",children:ne})]},Ae))}),ee.features.length>3&&l.jsx("button",{onClick:ne=>{ne.stopPropagation(),c(pe?null:ee.name)},className:"flex items-center gap-1 text-primary-500 hover:text-primary-400 font-semibold text-xs mt-3 transition-colors",children:pe?l.jsxs(l.Fragment,{children:[l.jsx(eC,{className:"w-4 h-4"}),"Show Less"]}):l.jsxs(l.Fragment,{children:[l.jsx(eE,{className:"w-4 h-4"}),"Show All (",ee.features.length,")"]})}),l.jsx("button",{onClick:ne=>{ne.stopPropagation(),G(ee.name)},className:`w-full mt-4 py-2 px-4 rounded-lg font-bold transition-colors ${ge?"bg-green-600 hover:bg-green-700 text-white":"bg-primary-600 hover:bg-primary-700 text-white"}`,children:ge?" Selected":"Select"})]})},ee.name)})}),CV(e.tier)&&l.jsx("div",{className:"mb-6 p-4 bg-gradient-to-r from-green-900/20 to-emerald-900/20 border border-green-600/40 rounded-lg",children:l.jsxs("p",{className:"text-green-300 text-sm sm:text-base font-medium",children:[" ",CV(e.tier)]})}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:TV(e.tier).map((ee,ue)=>{const pe=d===ee.name;return l.jsxs("div",{onClick:()=>J(ee),className:`bg-dark-800 border-2 rounded-xl p-6 sm:p-8 flex flex-col cursor-pointer transition-all relative ${pe?"border-green-500 bg-green-900/20 ring-2 ring-green-500/30":ee.popular?"border-primary-600 card-glow hover:border-primary-500":"border-gray-700 hover:border-primary-600/50"}`,children:[pe&&l.jsx("div",{className:"absolute -top-3 right-4",children:l.jsxs("div",{className:"inline-flex items-center gap-1 bg-green-500 px-3 py-1 rounded-full",children:[l.jsx(bo,{className:"w-4 h-4 text-white"}),l.jsx("span",{className:"text-white font-bold text-xs",children:"SELECTED"})]})}),ee.popular&&!pe&&l.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2",children:l.jsxs("div",{className:"inline-flex items-center gap-1 bg-primary-600 px-4 py-1 rounded-full",children:[l.jsx($L,{className:"w-4 h-4 text-white fill-white"}),l.jsx("span",{className:"text-white font-bold text-xs",children:"MOST POPULAR"})]})}),l.jsxs("div",{className:`mb-6 ${ee.popular||pe?"mt-2":""}`,children:[l.jsx("h4",{className:"text-xl sm:text-2xl font-black text-white mb-2",children:ee.name}),l.jsxs("div",{className:"flex items-baseline gap-1 mb-3",children:[l.jsx("span",{className:"text-3xl sm:text-4xl font-black text-primary-500",children:ee.price}),l.jsx("span",{className:"text-gray-400 text-sm",children:"/event"})]})]}),l.jsx("ul",{className:"space-y-3 mb-6 flex-1",children:ee.features.map((ge,he)=>l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx(bo,{className:"w-5 h-5 text-green-400 flex-shrink-0 mt-0.5"}),l.jsx("span",{className:"text-gray-300 text-sm",children:ge})]},he))}),l.jsxs("div",{className:"mt-auto",children:[l.jsxs("p",{className:"text-xs text-gray-500 italic mb-4",children:["Best for: ",ee.bestFor]}),l.jsx("button",{onClick:ge=>{ge.stopPropagation(),J(ee)},className:`w-full py-3 px-4 rounded-lg font-bold transition-colors ${pe?"bg-green-600 hover:bg-green-700 text-white":"bg-primary-600 hover:bg-primary-700 text-white"}`,children:pe?" Package Selected":"Select Package"})]})]},ee.name)})}),l.jsx("div",{className:"mt-6 text-center",children:l.jsx("p",{className:"text-gray-500 text-xs sm:text-sm",children:ELe(e.tier)})})]}),l.jsxs(Or.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.62},className:"bg-gradient-to-br from-orange-900/30 to-red-900/30 border border-orange-700/50 rounded-xl p-6 sm:p-8 mb-8",children:[l.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[l.jsx(Hde,{className:"w-8 h-8 sm:w-10 sm:h-10 text-orange-400 flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl sm:text-2xl font-black text-white mb-2",children:"What's It Costing You to NOT Have Professional Streaming?"}),l.jsx("p",{className:"text-sm sm:text-base text-gray-300",children:"Every event without professional media is a missed opportunity"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"p-4 bg-dark-900/40 rounded-lg border border-orange-700/30",children:[l.jsx("div",{className:"text-3xl mb-2",children:""}),l.jsx("h4",{className:"font-bold text-white mb-2 text-sm sm:text-base",children:"Sponsor Deals Passing You By"}),l.jsx("p",{className:"text-xs sm:text-sm text-gray-300",children:"Brands partner with promotions that have professional content they can share"})]}),l.jsxs("div",{className:"p-4 bg-dark-900/40 rounded-lg border border-orange-700/30",children:[l.jsx("div",{className:"text-3xl mb-2",children:""}),l.jsx("h4",{className:"font-bold text-white mb-2 text-sm sm:text-base",children:"Audience Growth Stalling"}),l.jsx("p",{className:"text-xs sm:text-sm text-gray-300",children:"Fighters and fans choose events with the best media presence"})]}),l.jsxs("div",{className:"p-4 bg-dark-900/40 rounded-lg border border-orange-700/30",children:[l.jsx("div",{className:"text-3xl mb-2",children:""}),l.jsx("h4",{className:"font-bold text-white mb-2 text-sm sm:text-base",children:"PPV Revenue You're Missing"}),l.jsxs("p",{className:"text-xs sm:text-sm text-gray-300",children:["$",V.toLocaleString(),"/year in free revenue you could be earning  at zero cost"]})]})]})]}),l.jsx(Or.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.66},className:"mb-6 p-6 sm:p-8 bg-gradient-to-r from-green-900/30 to-emerald-900/30 border-2 border-green-600/50 rounded-xl",children:l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx(dN,{className:"w-10 h-10 sm:w-12 sm:h-12 text-green-400 flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl sm:text-2xl font-black text-white mb-3",children:"Our Guarantee"}),l.jsxs("p",{className:"text-base sm:text-lg text-gray-200 leading-relaxed",children:["If you're not completely satisfied with your first event's media package,",l.jsx("strong",{className:"text-green-300",children:" we'll re-edit the entire deliverable at no additional cost."})]}),l.jsx("p",{className:"text-sm text-green-400 mt-3 font-semibold",children:"Your success is our reputation. We stand behind our work."})]})]})}),l.jsxs(Or.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.7},className:"mb-8 p-5 bg-gradient-to-r from-amber-900/30 to-orange-900/30 border border-amber-600/50 rounded-xl",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx("div",{className:"w-3 h-3 bg-amber-500 rounded-full animate-pulse"}),l.jsx("p",{className:"text-amber-400 font-bold text-sm sm:text-base",children:"Production Slots Filling Fast"})]}),l.jsxs("p",{className:"text-gray-300 text-sm sm:text-base",children:["We produce 3 weekends per month and book 8-12 weeks ahead. ",l.jsx("strong",{className:"text-amber-300",children:"Q2 2026 currently has 4 available production slots remaining."})]})]}),l.jsxs("div",{className:"flex gap-3 sm:gap-4",children:[l.jsxs("button",{onClick:n,className:"flex-1 flex items-center justify-center gap-2 px-6 py-4 bg-dark-700 hover:bg-dark-600 text-white font-bold rounded-lg transition-all text-base sm:text-lg",children:[l.jsx(_0,{className:"w-5 h-5"}),l.jsx("span",{className:"hidden sm:inline",children:"Back"})]}),l.jsxs("button",{onClick:r,className:"flex-[2] flex items-center justify-center gap-2 px-6 py-4 bg-primary-600 hover:bg-primary-700 text-white font-bold rounded-lg transition-all hover:scale-[1.02] text-base sm:text-lg",children:["Get Your Proposal",l.jsx(nf,{className:"w-5 h-5"})]})]})]})})},_Le=({contactData:t,updateContactData:e,formData:r,onSubmit:n,prevStep:i})=>{const[s,a]=j.useState(!1),[c,u]=j.useState(null),o=t.name.trim().length>0&&t.email.trim().length>0,d=async()=>{u(null),a(!0);try{await n()}catch(f){console.error("Error saving contact:",f),u("Something went wrong. Please try again.")}finally{a(!1)}};return l.jsx("section",{className:"min-h-screen py-12 sm:py-20 px-4",children:l.jsxs("div",{className:"max-w-2xl mx-auto",children:[l.jsxs(Or.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-8 sm:mb-12",children:[l.jsxs("div",{className:"inline-flex items-center gap-3 mb-4",children:[l.jsx(Yv,{className:"w-10 h-10 sm:w-12 sm:h-12 text-primary-500"}),l.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-black",children:l.jsx("span",{className:"text-gradient",children:"Get Your Custom Proposal"})})]}),l.jsxs("p",{className:"text-base sm:text-lg md:text-xl text-gray-300 max-w-xl mx-auto",children:["We've built a personalized media strategy for ",l.jsx("span",{className:"text-primary-400 font-bold",children:r.orgName}),". Enter your details to receive your full proposal."]})]}),l.jsxs(Or.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"bg-dark-800 border border-gray-700 rounded-xl p-6 sm:p-8",children:[l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm sm:text-base font-semibold mb-3 text-gray-300",children:l.jsxs("span",{className:"inline-flex items-center gap-2",children:[l.jsx(Yv,{className:"w-4 h-4 text-primary-500"}),"Your Name ",l.jsx("span",{className:"text-primary-500",children:"*"})]})}),l.jsx("input",{type:"text",value:t.name,onChange:f=>e("name",f.target.value),className:"w-full px-4 py-3 sm:py-4 bg-dark-900 border-2 border-gray-700 rounded-lg text-white text-base sm:text-lg focus:border-primary-600 focus:outline-none transition-colors",placeholder:"John Smith"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm sm:text-base font-semibold mb-3 text-gray-300",children:l.jsxs("span",{className:"inline-flex items-center gap-2",children:[l.jsx(af,{className:"w-4 h-4 text-primary-500"}),"Email Address ",l.jsx("span",{className:"text-primary-500",children:"*"})]})}),l.jsx("input",{type:"email",value:t.email,onChange:f=>e("email",f.target.value),className:"w-full px-4 py-3 sm:py-4 bg-dark-900 border-2 border-gray-700 rounded-lg text-white text-base sm:text-lg focus:border-primary-600 focus:outline-none transition-colors",placeholder:"john@organization.com"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm sm:text-base font-semibold mb-3 text-gray-300",children:l.jsxs("span",{className:"inline-flex items-center gap-2",children:[l.jsx(rC,{className:"w-4 h-4 text-gray-500"}),"Phone Number ",l.jsx("span",{className:"text-gray-500 text-sm font-normal",children:"(optional)"})]})}),l.jsx("input",{type:"tel",value:t.phone,onChange:f=>e("phone",f.target.value),className:"w-full px-4 py-3 sm:py-4 bg-dark-900 border-2 border-gray-700 rounded-lg text-white text-base sm:text-lg focus:border-primary-600 focus:outline-none transition-colors",placeholder:"04XX XXX XXX (optional)"})]})]}),c&&l.jsx("div",{className:"mt-4 p-3 bg-red-900/30 border border-red-700 rounded-lg text-red-200 text-sm",children:c}),l.jsxs("div",{className:"mt-6 flex items-start gap-3 p-4 bg-dark-900/50 rounded-lg",children:[l.jsx(dN,{className:"w-5 h-5 text-gray-500 flex-shrink-0 mt-0.5"}),l.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"Your information is kept confidential and only used to prepare your custom proposal. We'll never share your details with third parties."})]}),l.jsxs("div",{className:"mt-8 flex gap-3",children:[l.jsxs("button",{onClick:i,className:"flex-1 flex items-center justify-center gap-2 px-6 py-4 bg-dark-700 hover:bg-dark-600 text-white font-bold rounded-lg transition-all text-base sm:text-lg",children:[l.jsx(_0,{className:"w-5 h-5"}),"Back"]}),l.jsxs("button",{onClick:d,disabled:!o||s,className:"flex-[2] flex items-center justify-center gap-2 px-6 py-4 bg-primary-600 hover:bg-primary-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white font-bold rounded-lg transition-all hover:scale-[1.02] text-base sm:text-lg",children:[s?"Saving...":"Continue",!s&&l.jsx(nf,{className:"w-5 h-5"})]})]})]})]})})};var bB={exports:{}},L_={exports:{}};var TLe=L_.exports,jV;function CLe(){return jV||(jV=1,(function(t,e){(function(r,n){t.exports=n()})(TLe,(function(){var r=function(R,N){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(F,M){F.__proto__=M}||function(F,M){for(var ce in M)Object.prototype.hasOwnProperty.call(M,ce)&&(F[ce]=M[ce])},r(R,N)};function n(R,N){if(typeof N!="function"&&N!==null)throw new TypeError("Class extends value "+String(N)+" is not a constructor or null");r(R,N);function F(){this.constructor=R}R.prototype=N===null?Object.create(N):(F.prototype=N.prototype,new F)}var i=function(){return i=Object.assign||function(N){for(var F,M=1,ce=arguments.length;M<ce;M++){F=arguments[M];for(var Ee in F)Object.prototype.hasOwnProperty.call(F,Ee)&&(N[Ee]=F[Ee])}return N},i.apply(this,arguments)};function s(R,N,F,M){function ce(Ee){return Ee instanceof F?Ee:new F(function(Le){Le(Ee)})}return new(F||(F=Promise))(function(Ee,Le){function rt($t){try{It(M.next($t))}catch(Jt){Le(Jt)}}function nt($t){try{It(M.throw($t))}catch(Jt){Le(Jt)}}function It($t){$t.done?Ee($t.value):ce($t.value).then(rt,nt)}It((M=M.apply(R,[])).next())})}function a(R,N){var F={label:0,sent:function(){if(Ee[0]&1)throw Ee[1];return Ee[1]},trys:[],ops:[]},M,ce,Ee,Le;return Le={next:rt(0),throw:rt(1),return:rt(2)},typeof Symbol=="function"&&(Le[Symbol.iterator]=function(){return this}),Le;function rt(It){return function($t){return nt([It,$t])}}function nt(It){if(M)throw new TypeError("Generator is already executing.");for(;F;)try{if(M=1,ce&&(Ee=It[0]&2?ce.return:It[0]?ce.throw||((Ee=ce.return)&&Ee.call(ce),0):ce.next)&&!(Ee=Ee.call(ce,It[1])).done)return Ee;switch(ce=0,Ee&&(It=[It[0]&2,Ee.value]),It[0]){case 0:case 1:Ee=It;break;case 4:return F.label++,{value:It[1],done:!1};case 5:F.label++,ce=It[1],It=[0];continue;case 7:It=F.ops.pop(),F.trys.pop();continue;default:if(Ee=F.trys,!(Ee=Ee.length>0&&Ee[Ee.length-1])&&(It[0]===6||It[0]===2)){F=0;continue}if(It[0]===3&&(!Ee||It[1]>Ee[0]&&It[1]<Ee[3])){F.label=It[1];break}if(It[0]===6&&F.label<Ee[1]){F.label=Ee[1],Ee=It;break}if(Ee&&F.label<Ee[2]){F.label=Ee[2],F.ops.push(It);break}Ee[2]&&F.ops.pop(),F.trys.pop();continue}It=N.call(R,F)}catch($t){It=[6,$t],ce=0}finally{M=Ee=0}if(It[0]&5)throw It[1];return{value:It[0]?It[1]:void 0,done:!0}}}function c(R,N,F){if(arguments.length===2)for(var M=0,ce=N.length,Ee;M<ce;M++)(Ee||!(M in N))&&(Ee||(Ee=Array.prototype.slice.call(N,0,M)),Ee[M]=N[M]);return R.concat(Ee||N)}for(var u=(function(){function R(N,F,M,ce){this.left=N,this.top=F,this.width=M,this.height=ce}return R.prototype.add=function(N,F,M,ce){return new R(this.left+N,this.top+F,this.width+M,this.height+ce)},R.fromClientRect=function(N,F){return new R(F.left+N.windowBounds.left,F.top+N.windowBounds.top,F.width,F.height)},R.fromDOMRectList=function(N,F){var M=Array.from(F).find(function(ce){return ce.width!==0});return M?new R(M.left+N.windowBounds.left,M.top+N.windowBounds.top,M.width,M.height):R.EMPTY},R.EMPTY=new R(0,0,0,0),R})(),o=function(R,N){return u.fromClientRect(R,N.getBoundingClientRect())},d=function(R){var N=R.body,F=R.documentElement;if(!N||!F)throw new Error("Unable to get document size");var M=Math.max(Math.max(N.scrollWidth,F.scrollWidth),Math.max(N.offsetWidth,F.offsetWidth),Math.max(N.clientWidth,F.clientWidth)),ce=Math.max(Math.max(N.scrollHeight,F.scrollHeight),Math.max(N.offsetHeight,F.offsetHeight),Math.max(N.clientHeight,F.clientHeight));return new u(0,0,M,ce)},f=function(R){for(var N=[],F=0,M=R.length;F<M;){var ce=R.charCodeAt(F++);if(ce>=55296&&ce<=56319&&F<M){var Ee=R.charCodeAt(F++);(Ee&64512)===56320?N.push(((ce&1023)<<10)+(Ee&1023)+65536):(N.push(ce),F--)}else N.push(ce)}return N},A=function(){for(var R=[],N=0;N<arguments.length;N++)R[N]=arguments[N];if(String.fromCodePoint)return String.fromCodePoint.apply(String,R);var F=R.length;if(!F)return"";for(var M=[],ce=-1,Ee="";++ce<F;){var Le=R[ce];Le<=65535?M.push(Le):(Le-=65536,M.push((Le>>10)+55296,Le%1024+56320)),(ce+1===F||M.length>16384)&&(Ee+=String.fromCharCode.apply(String,M),M.length=0)}return Ee},p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",g=typeof Uint8Array>"u"?[]:new Uint8Array(256),y=0;y<p.length;y++)g[p.charCodeAt(y)]=y;for(var v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b=typeof Uint8Array>"u"?[]:new Uint8Array(256),w=0;w<v.length;w++)b[v.charCodeAt(w)]=w;for(var S=function(R){var N=R.length*.75,F=R.length,M,ce=0,Ee,Le,rt,nt;R[R.length-1]==="="&&(N--,R[R.length-2]==="="&&N--);var It=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(N):new Array(N),$t=Array.isArray(It)?It:new Uint8Array(It);for(M=0;M<F;M+=4)Ee=b[R.charCodeAt(M)],Le=b[R.charCodeAt(M+1)],rt=b[R.charCodeAt(M+2)],nt=b[R.charCodeAt(M+3)],$t[ce++]=Ee<<2|Le>>4,$t[ce++]=(Le&15)<<4|rt>>2,$t[ce++]=(rt&3)<<6|nt&63;return It},_=function(R){for(var N=R.length,F=[],M=0;M<N;M+=2)F.push(R[M+1]<<8|R[M]);return F},T=function(R){for(var N=R.length,F=[],M=0;M<N;M+=4)F.push(R[M+3]<<24|R[M+2]<<16|R[M+1]<<8|R[M]);return F},L=5,D=11,V=2,G=D-L,J=65536>>L,ee=1<<L,ue=ee-1,pe=1024>>L,ge=J+pe,he=ge,ne=32,Ae=he+ne,oe=65536>>D,Be=1<<G,ke=Be-1,ve=function(R,N,F){return R.slice?R.slice(N,F):new Uint16Array(Array.prototype.slice.call(R,N,F))},se=function(R,N,F){return R.slice?R.slice(N,F):new Uint32Array(Array.prototype.slice.call(R,N,F))},me=function(R,N){var F=S(R),M=Array.isArray(F)?T(F):new Uint32Array(F),ce=Array.isArray(F)?_(F):new Uint16Array(F),Ee=24,Le=ve(ce,Ee/2,M[4]/2),rt=M[5]===2?ve(ce,(Ee+M[4])/2):se(M,Math.ceil((Ee+M[4])/4));return new je(M[0],M[1],M[2],M[3],Le,rt)},je=(function(){function R(N,F,M,ce,Ee,Le){this.initialValue=N,this.errorValue=F,this.highStart=M,this.highValueIndex=ce,this.index=Ee,this.data=Le}return R.prototype.get=function(N){var F;if(N>=0){if(N<55296||N>56319&&N<=65535)return F=this.index[N>>L],F=(F<<V)+(N&ue),this.data[F];if(N<=65535)return F=this.index[J+(N-55296>>L)],F=(F<<V)+(N&ue),this.data[F];if(N<this.highStart)return F=Ae-oe+(N>>D),F=this.index[F],F+=N>>L&ke,F=this.index[F],F=(F<<V)+(N&ue),this.data[F];if(N<=1114111)return this.data[this.highValueIndex]}return this.errorValue},R})(),Ue="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",De=typeof Uint8Array>"u"?[]:new Uint8Array(256),ot=0;ot<Ue.length;ot++)De[Ue.charCodeAt(ot)]=ot;var ft="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",Ce=50,Ze=1,ze=2,$e=3,ct=4,Fe=5,xt=7,pt=8,Bt=9,qt=10,Yr=11,yr=12,Wr=13,hn=14,Tn=15,Jr=16,sn=17,on=18,Fn=19,Qn=20,gi=21,Je=22,Ut=23,gr=24,Wt=25,Pt=26,or=27,Br=28,Ur=29,vn=30,qr=31,Vn=32,Qr=33,Nr=34,rn=35,Xr=36,yn=37,Wn=38,ds=39,vs=40,ys=41,$n=42,zr=43,$i=[9001,65288],Os="!",bn="",La="",ws=me(ft),Ts=[vn,Xr],Es=[Ze,ze,$e,Fe],Hi=[qt,pt],Hs=[or,Pt],xs=Es.concat(Hi),_o=[Wn,ds,vs,Nr,rn],rs=[Tn,Wr],Yu=function(R,N){N===void 0&&(N="strict");var F=[],M=[],ce=[];return R.forEach(function(Ee,Le){var rt=ws.get(Ee);if(rt>Ce?(ce.push(!0),rt-=Ce):ce.push(!1),["normal","auto","loose"].indexOf(N)!==-1&&[8208,8211,12316,12448].indexOf(Ee)!==-1)return M.push(Le),F.push(Jr);if(rt===ct||rt===Yr){if(Le===0)return M.push(Le),F.push(vn);var nt=F[Le-1];return xs.indexOf(nt)===-1?(M.push(M[Le-1]),F.push(nt)):(M.push(Le),F.push(vn))}if(M.push(Le),rt===qr)return F.push(N==="strict"?gi:yn);if(rt===$n||rt===Ur)return F.push(vn);if(rt===zr)return Ee>=131072&&Ee<=196605||Ee>=196608&&Ee<=262141?F.push(yn):F.push(vn);F.push(rt)}),[M,F,ce]},Ua=function(R,N,F,M){var ce=M[F];if(Array.isArray(R)?R.indexOf(ce)!==-1:R===ce)for(var Ee=F;Ee<=M.length;){Ee++;var Le=M[Ee];if(Le===N)return!0;if(Le!==qt)break}if(ce===qt)for(var Ee=F;Ee>0;){Ee--;var rt=M[Ee];if(Array.isArray(R)?R.indexOf(rt)!==-1:R===rt)for(var nt=F;nt<=M.length;){nt++;var Le=M[nt];if(Le===N)return!0;if(Le!==qt)break}if(rt!==qt)break}return!1},Bl=function(R,N){for(var F=R;F>=0;){var M=N[F];if(M===qt)F--;else return M}return 0},yu=function(R,N,F,M,ce){if(F[M]===0)return bn;var Ee=M-1;if(Array.isArray(ce)&&ce[Ee]===!0)return bn;var Le=Ee-1,rt=Ee+1,nt=N[Ee],It=Le>=0?N[Le]:0,$t=N[rt];if(nt===ze&&$t===$e)return bn;if(Es.indexOf(nt)!==-1)return Os;if(Es.indexOf($t)!==-1||Hi.indexOf($t)!==-1)return bn;if(Bl(Ee,N)===pt)return La;if(ws.get(R[Ee])===Yr||(nt===Vn||nt===Qr)&&ws.get(R[rt])===Yr||nt===xt||$t===xt||nt===Bt||[qt,Wr,Tn].indexOf(nt)===-1&&$t===Bt||[sn,on,Fn,gr,Br].indexOf($t)!==-1||Bl(Ee,N)===Je||Ua(Ut,Je,Ee,N)||Ua([sn,on],gi,Ee,N)||Ua(yr,yr,Ee,N))return bn;if(nt===qt)return La;if(nt===Ut||$t===Ut)return bn;if($t===Jr||nt===Jr)return La;if([Wr,Tn,gi].indexOf($t)!==-1||nt===hn||It===Xr&&rs.indexOf(nt)!==-1||nt===Br&&$t===Xr||$t===Qn||Ts.indexOf($t)!==-1&&nt===Wt||Ts.indexOf(nt)!==-1&&$t===Wt||nt===or&&[yn,Vn,Qr].indexOf($t)!==-1||[yn,Vn,Qr].indexOf(nt)!==-1&&$t===Pt||Ts.indexOf(nt)!==-1&&Hs.indexOf($t)!==-1||Hs.indexOf(nt)!==-1&&Ts.indexOf($t)!==-1||[or,Pt].indexOf(nt)!==-1&&($t===Wt||[Je,Tn].indexOf($t)!==-1&&N[rt+1]===Wt)||[Je,Tn].indexOf(nt)!==-1&&$t===Wt||nt===Wt&&[Wt,Br,gr].indexOf($t)!==-1)return bn;if([Wt,Br,gr,sn,on].indexOf($t)!==-1)for(var Jt=Ee;Jt>=0;){var Tr=N[Jt];if(Tr===Wt)return bn;if([Br,gr].indexOf(Tr)!==-1)Jt--;else break}if([or,Pt].indexOf($t)!==-1)for(var Jt=[sn,on].indexOf(nt)!==-1?Le:Ee;Jt>=0;){var Tr=N[Jt];if(Tr===Wt)return bn;if([Br,gr].indexOf(Tr)!==-1)Jt--;else break}if(Wn===nt&&[Wn,ds,Nr,rn].indexOf($t)!==-1||[ds,Nr].indexOf(nt)!==-1&&[ds,vs].indexOf($t)!==-1||[vs,rn].indexOf(nt)!==-1&&$t===vs||_o.indexOf(nt)!==-1&&[Qn,Pt].indexOf($t)!==-1||_o.indexOf($t)!==-1&&nt===or||Ts.indexOf(nt)!==-1&&Ts.indexOf($t)!==-1||nt===gr&&Ts.indexOf($t)!==-1||Ts.concat(Wt).indexOf(nt)!==-1&&$t===Je&&$i.indexOf(R[rt])===-1||Ts.concat(Wt).indexOf($t)!==-1&&nt===on)return bn;if(nt===ys&&$t===ys){for(var jn=F[Ee],nn=1;jn>0&&(jn--,N[jn]===ys);)nn++;if(nn%2!==0)return bn}return nt===Vn&&$t===Qr?bn:La},fl=function(R,N){N||(N={lineBreak:"normal",wordBreak:"normal"});var F=Yu(R,N.lineBreak),M=F[0],ce=F[1],Ee=F[2];(N.wordBreak==="break-all"||N.wordBreak==="break-word")&&(ce=ce.map(function(rt){return[Wt,vn,$n].indexOf(rt)!==-1?yn:rt}));var Le=N.wordBreak==="keep-all"?Ee.map(function(rt,nt){return rt&&R[nt]>=19968&&R[nt]<=40959}):void 0;return[M,ce,Le]},Ps=(function(){function R(N,F,M,ce){this.codePoints=N,this.required=F===Os,this.start=M,this.end=ce}return R.prototype.slice=function(){return A.apply(void 0,this.codePoints.slice(this.start,this.end))},R})(),oo=function(R,N){var F=f(R),M=fl(F,N),ce=M[0],Ee=M[1],Le=M[2],rt=F.length,nt=0,It=0;return{next:function(){if(It>=rt)return{done:!0,value:null};for(var $t=bn;It<rt&&($t=yu(F,Ee,ce,++It,Le))===bn;);if($t!==bn||It===rt){var Jt=new Ps(F,$t,nt,It);return nt=It,{value:Jt,done:!1}}return{done:!0,value:null}}}},Cs=1,aa=2,bs=4,Al=8,Ga=10,lo=47,Ec=92,oc=9,Gc=32,Qs=34,Ws=61,ml=35,Ra=36,To=37,za=39,ci=40,ba=41,co=95,pa=45,pl=33,fs=60,Uo=62,wa=64,ha=91,Wa=93,Ll=61,uo=123,Vs=63,Ya=125,tl=124,ho=126,ll=128,Rt=65533,U=42,Z=43,te=44,P=58,$=59,q=46,de=0,we=8,Me=11,tt=14,I=31,C=127,O=-1,Q=48,z=97,X=101,fe=102,ie=117,ae=122,Se=65,Re=69,Ge=70,et=85,xe=90,gt=function(R){return R>=Q&&R<=57},At=function(R){return R>=55296&&R<=57343},yt=function(R){return gt(R)||R>=Se&&R<=Ge||R>=z&&R<=fe},qe=function(R){return R>=z&&R<=ae},jt=function(R){return R>=Se&&R<=xe},Ht=function(R){return qe(R)||jt(R)},St=function(R){return R>=ll},Ye=function(R){return R===Ga||R===oc||R===Gc},Mt=function(R){return Ht(R)||St(R)||R===co},Ar=function(R){return Mt(R)||gt(R)||R===pa},zt=function(R){return R>=de&&R<=we||R===Me||R>=tt&&R<=I||R===C},Ct=function(R,N){return R!==Ec?!1:N!==Ga},cr=function(R,N,F){return R===pa?Mt(N)||Ct(N,F):Mt(R)?!0:!!(R===Ec&&Ct(R,N))},Xe=function(R,N,F){return R===Z||R===pa?gt(N)?!0:N===q&&gt(F):gt(R===q?N:R)},lt=function(R){var N=0,F=1;(R[N]===Z||R[N]===pa)&&(R[N]===pa&&(F=-1),N++);for(var M=[];gt(R[N]);)M.push(R[N++]);var ce=M.length?parseInt(A.apply(void 0,M),10):0;R[N]===q&&N++;for(var Ee=[];gt(R[N]);)Ee.push(R[N++]);var Le=Ee.length,rt=Le?parseInt(A.apply(void 0,Ee),10):0;(R[N]===Re||R[N]===X)&&N++;var nt=1;(R[N]===Z||R[N]===pa)&&(R[N]===pa&&(nt=-1),N++);for(var It=[];gt(R[N]);)It.push(R[N++]);var $t=It.length?parseInt(A.apply(void 0,It),10):0;return F*(ce+rt*Math.pow(10,-Le))*Math.pow(10,nt*$t)},_t={type:2},Tt={type:3},dr={type:4},pr={type:13},Er={type:8},Xt={type:21},vr={type:9},en={type:10},$r={type:11},Qe={type:12},vt={type:14},bt={type:23},Ft={type:1},Qt={type:25},nr={type:24},xr={type:26},br={type:27},Lr={type:28},tn={type:29},En={type:31},wn={type:32},ui=(function(){function R(){this._value=[]}return R.prototype.write=function(N){this._value=this._value.concat(f(N))},R.prototype.read=function(){for(var N=[],F=this.consumeToken();F!==wn;)N.push(F),F=this.consumeToken();return N},R.prototype.consumeToken=function(){var N=this.consumeCodePoint();switch(N){case Qs:return this.consumeStringToken(Qs);case ml:var F=this.peekCodePoint(0),M=this.peekCodePoint(1),ce=this.peekCodePoint(2);if(Ar(F)||Ct(M,ce)){var Ee=cr(F,M,ce)?aa:Cs,Le=this.consumeName();return{type:5,value:Le,flags:Ee}}break;case Ra:if(this.peekCodePoint(0)===Ws)return this.consumeCodePoint(),pr;break;case za:return this.consumeStringToken(za);case ci:return _t;case ba:return Tt;case U:if(this.peekCodePoint(0)===Ws)return this.consumeCodePoint(),vt;break;case Z:if(Xe(N,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(N),this.consumeNumericToken();break;case te:return dr;case pa:var rt=N,nt=this.peekCodePoint(0),It=this.peekCodePoint(1);if(Xe(rt,nt,It))return this.reconsumeCodePoint(N),this.consumeNumericToken();if(cr(rt,nt,It))return this.reconsumeCodePoint(N),this.consumeIdentLikeToken();if(nt===pa&&It===Uo)return this.consumeCodePoint(),this.consumeCodePoint(),nr;break;case q:if(Xe(N,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(N),this.consumeNumericToken();break;case lo:if(this.peekCodePoint(0)===U)for(this.consumeCodePoint();;){var $t=this.consumeCodePoint();if($t===U&&($t=this.consumeCodePoint(),$t===lo))return this.consumeToken();if($t===O)return this.consumeToken()}break;case P:return xr;case $:return br;case fs:if(this.peekCodePoint(0)===pl&&this.peekCodePoint(1)===pa&&this.peekCodePoint(2)===pa)return this.consumeCodePoint(),this.consumeCodePoint(),Qt;break;case wa:var Jt=this.peekCodePoint(0),Tr=this.peekCodePoint(1),jn=this.peekCodePoint(2);if(cr(Jt,Tr,jn)){var Le=this.consumeName();return{type:7,value:Le}}break;case ha:return Lr;case Ec:if(Ct(N,this.peekCodePoint(0)))return this.reconsumeCodePoint(N),this.consumeIdentLikeToken();break;case Wa:return tn;case Ll:if(this.peekCodePoint(0)===Ws)return this.consumeCodePoint(),Er;break;case uo:return $r;case Ya:return Qe;case ie:case et:var nn=this.peekCodePoint(0),gn=this.peekCodePoint(1);return nn===Z&&(yt(gn)||gn===Vs)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(N),this.consumeIdentLikeToken();case tl:if(this.peekCodePoint(0)===Ws)return this.consumeCodePoint(),vr;if(this.peekCodePoint(0)===tl)return this.consumeCodePoint(),Xt;break;case ho:if(this.peekCodePoint(0)===Ws)return this.consumeCodePoint(),en;break;case O:return wn}return Ye(N)?(this.consumeWhiteSpace(),En):gt(N)?(this.reconsumeCodePoint(N),this.consumeNumericToken()):Mt(N)?(this.reconsumeCodePoint(N),this.consumeIdentLikeToken()):{type:6,value:A(N)}},R.prototype.consumeCodePoint=function(){var N=this._value.shift();return typeof N>"u"?-1:N},R.prototype.reconsumeCodePoint=function(N){this._value.unshift(N)},R.prototype.peekCodePoint=function(N){return N>=this._value.length?-1:this._value[N]},R.prototype.consumeUnicodeRangeToken=function(){for(var N=[],F=this.consumeCodePoint();yt(F)&&N.length<6;)N.push(F),F=this.consumeCodePoint();for(var M=!1;F===Vs&&N.length<6;)N.push(F),F=this.consumeCodePoint(),M=!0;if(M){var ce=parseInt(A.apply(void 0,N.map(function(nt){return nt===Vs?Q:nt})),16),Ee=parseInt(A.apply(void 0,N.map(function(nt){return nt===Vs?Ge:nt})),16);return{type:30,start:ce,end:Ee}}var Le=parseInt(A.apply(void 0,N),16);if(this.peekCodePoint(0)===pa&&yt(this.peekCodePoint(1))){this.consumeCodePoint(),F=this.consumeCodePoint();for(var rt=[];yt(F)&&rt.length<6;)rt.push(F),F=this.consumeCodePoint();var Ee=parseInt(A.apply(void 0,rt),16);return{type:30,start:Le,end:Ee}}else return{type:30,start:Le,end:Le}},R.prototype.consumeIdentLikeToken=function(){var N=this.consumeName();return N.toLowerCase()==="url"&&this.peekCodePoint(0)===ci?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===ci?(this.consumeCodePoint(),{type:19,value:N}):{type:20,value:N}},R.prototype.consumeUrlToken=function(){var N=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===O)return{type:22,value:""};var F=this.peekCodePoint(0);if(F===za||F===Qs){var M=this.consumeStringToken(this.consumeCodePoint());return M.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===O||this.peekCodePoint(0)===ba)?(this.consumeCodePoint(),{type:22,value:M.value}):(this.consumeBadUrlRemnants(),bt)}for(;;){var ce=this.consumeCodePoint();if(ce===O||ce===ba)return{type:22,value:A.apply(void 0,N)};if(Ye(ce))return this.consumeWhiteSpace(),this.peekCodePoint(0)===O||this.peekCodePoint(0)===ba?(this.consumeCodePoint(),{type:22,value:A.apply(void 0,N)}):(this.consumeBadUrlRemnants(),bt);if(ce===Qs||ce===za||ce===ci||zt(ce))return this.consumeBadUrlRemnants(),bt;if(ce===Ec)if(Ct(ce,this.peekCodePoint(0)))N.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),bt;else N.push(ce)}},R.prototype.consumeWhiteSpace=function(){for(;Ye(this.peekCodePoint(0));)this.consumeCodePoint()},R.prototype.consumeBadUrlRemnants=function(){for(;;){var N=this.consumeCodePoint();if(N===ba||N===O)return;Ct(N,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},R.prototype.consumeStringSlice=function(N){for(var F=5e4,M="";N>0;){var ce=Math.min(F,N);M+=A.apply(void 0,this._value.splice(0,ce)),N-=ce}return this._value.shift(),M},R.prototype.consumeStringToken=function(N){var F="",M=0;do{var ce=this._value[M];if(ce===O||ce===void 0||ce===N)return F+=this.consumeStringSlice(M),{type:0,value:F};if(ce===Ga)return this._value.splice(0,M),Ft;if(ce===Ec){var Ee=this._value[M+1];Ee!==O&&Ee!==void 0&&(Ee===Ga?(F+=this.consumeStringSlice(M),M=-1,this._value.shift()):Ct(ce,Ee)&&(F+=this.consumeStringSlice(M),F+=A(this.consumeEscapedCodePoint()),M=-1))}M++}while(!0)},R.prototype.consumeNumber=function(){var N=[],F=bs,M=this.peekCodePoint(0);for((M===Z||M===pa)&&N.push(this.consumeCodePoint());gt(this.peekCodePoint(0));)N.push(this.consumeCodePoint());M=this.peekCodePoint(0);var ce=this.peekCodePoint(1);if(M===q&&gt(ce))for(N.push(this.consumeCodePoint(),this.consumeCodePoint()),F=Al;gt(this.peekCodePoint(0));)N.push(this.consumeCodePoint());M=this.peekCodePoint(0),ce=this.peekCodePoint(1);var Ee=this.peekCodePoint(2);if((M===Re||M===X)&&((ce===Z||ce===pa)&&gt(Ee)||gt(ce)))for(N.push(this.consumeCodePoint(),this.consumeCodePoint()),F=Al;gt(this.peekCodePoint(0));)N.push(this.consumeCodePoint());return[lt(N),F]},R.prototype.consumeNumericToken=function(){var N=this.consumeNumber(),F=N[0],M=N[1],ce=this.peekCodePoint(0),Ee=this.peekCodePoint(1),Le=this.peekCodePoint(2);if(cr(ce,Ee,Le)){var rt=this.consumeName();return{type:15,number:F,flags:M,unit:rt}}return ce===To?(this.consumeCodePoint(),{type:16,number:F,flags:M}):{type:17,number:F,flags:M}},R.prototype.consumeEscapedCodePoint=function(){var N=this.consumeCodePoint();if(yt(N)){for(var F=A(N);yt(this.peekCodePoint(0))&&F.length<6;)F+=A(this.consumeCodePoint());Ye(this.peekCodePoint(0))&&this.consumeCodePoint();var M=parseInt(F,16);return M===0||At(M)||M>1114111?Rt:M}return N===O?Rt:N},R.prototype.consumeName=function(){for(var N="";;){var F=this.consumeCodePoint();if(Ar(F))N+=A(F);else if(Ct(F,this.peekCodePoint(0)))N+=A(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(F),N}},R})(),st=(function(){function R(N){this._tokens=N}return R.create=function(N){var F=new ui;return F.write(N),new R(F.read())},R.parseValue=function(N){return R.create(N).parseComponentValue()},R.parseValues=function(N){return R.create(N).parseComponentValues()},R.prototype.parseComponentValue=function(){for(var N=this.consumeToken();N.type===31;)N=this.consumeToken();if(N.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(N);var F=this.consumeComponentValue();do N=this.consumeToken();while(N.type===31);if(N.type===32)return F;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},R.prototype.parseComponentValues=function(){for(var N=[];;){var F=this.consumeComponentValue();if(F.type===32)return N;N.push(F),N.push()}},R.prototype.consumeComponentValue=function(){var N=this.consumeToken();switch(N.type){case 11:case 28:case 2:return this.consumeSimpleBlock(N.type);case 19:return this.consumeFunction(N)}return N},R.prototype.consumeSimpleBlock=function(N){for(var F={type:N,values:[]},M=this.consumeToken();;){if(M.type===32||Zs(M,N))return F;this.reconsumeToken(M),F.values.push(this.consumeComponentValue()),M=this.consumeToken()}},R.prototype.consumeFunction=function(N){for(var F={name:N.value,values:[],type:18};;){var M=this.consumeToken();if(M.type===32||M.type===3)return F;this.reconsumeToken(M),F.values.push(this.consumeComponentValue())}},R.prototype.consumeToken=function(){var N=this._tokens.shift();return typeof N>"u"?wn:N},R.prototype.reconsumeToken=function(N){this._tokens.unshift(N)},R})(),An=function(R){return R.type===15},_i=function(R){return R.type===17},ln=function(R){return R.type===20},Hr=function(R){return R.type===0},mi=function(R,N){return ln(R)&&R.value===N},Sn=function(R){return R.type!==31},ai=function(R){return R.type!==31&&R.type!==4},Kn=function(R){var N=[],F=[];return R.forEach(function(M){if(M.type===4){if(F.length===0)throw new Error("Error parsing function args, zero tokens for arg");N.push(F),F=[];return}M.type!==31&&F.push(M)}),F.length&&N.push(F),N},Zs=function(R,N){return N===11&&R.type===12||N===28&&R.type===29?!0:N===2&&R.type===3},Qi=function(R){return R.type===17||R.type===15},Bn=function(R){return R.type===16||Qi(R)},cs=function(R){return R.length>1?[R[0],R[1]]:[R[0]]},di={type:17,number:0,flags:bs},Ln={type:16,number:50,flags:bs},vi={type:16,number:100,flags:bs},Gn=function(R,N,F){var M=R[0],ce=R[1];return[Bi(M,N),Bi(typeof ce<"u"?ce:M,F)]},Bi=function(R,N){if(R.type===16)return R.number/100*N;if(An(R))switch(R.unit){case"rem":case"em":return 16*R.number;default:return R.number}return R.number},As="deg",Gi="grad",ns="rad",Ea="turn",oi={name:"angle",parse:function(R,N){if(N.type===15)switch(N.unit){case As:return Math.PI*N.number/180;case Gi:return Math.PI/200*N.number;case ns:return N.number;case Ea:return Math.PI*2*N.number}throw new Error("Unsupported angle type")}},ga=function(R){return R.type===15&&(R.unit===As||R.unit===Gi||R.unit===ns||R.unit===Ea)},ji=function(R){var N=R.filter(ln).map(function(F){return F.value}).join(" ");switch(N){case"to bottom right":case"to right bottom":case"left top":case"top left":return[di,di];case"to top":case"bottom":return ri(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[di,vi];case"to right":case"left":return ri(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[vi,vi];case"to bottom":case"top":return ri(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[vi,di];case"to left":case"right":return ri(270)}return 0},ri=function(R){return Math.PI*R/180},Ys={name:"color",parse:function(R,N){if(N.type===18){var F=xi[N.name];if(typeof F>"u")throw new Error('Attempting to parse an unsupported color function "'+N.name+'"');return F(R,N.values)}if(N.type===5){if(N.value.length===3){var M=N.value.substring(0,1),ce=N.value.substring(1,2),Ee=N.value.substring(2,3);return Xi(parseInt(M+M,16),parseInt(ce+ce,16),parseInt(Ee+Ee,16),1)}if(N.value.length===4){var M=N.value.substring(0,1),ce=N.value.substring(1,2),Ee=N.value.substring(2,3),Le=N.value.substring(3,4);return Xi(parseInt(M+M,16),parseInt(ce+ce,16),parseInt(Ee+Ee,16),parseInt(Le+Le,16)/255)}if(N.value.length===6){var M=N.value.substring(0,2),ce=N.value.substring(2,4),Ee=N.value.substring(4,6);return Xi(parseInt(M,16),parseInt(ce,16),parseInt(Ee,16),1)}if(N.value.length===8){var M=N.value.substring(0,2),ce=N.value.substring(2,4),Ee=N.value.substring(4,6),Le=N.value.substring(6,8);return Xi(parseInt(M,16),parseInt(ce,16),parseInt(Ee,16),parseInt(Le,16)/255)}}if(N.type===20){var rt=qa[N.value.toUpperCase()];if(typeof rt<"u")return rt}return qa.TRANSPARENT}},Pi=function(R){return(255&R)===0},fn=function(R){var N=255&R,F=255&R>>8,M=255&R>>16,ce=255&R>>24;return N<255?"rgba("+ce+","+M+","+F+","+N/255+")":"rgb("+ce+","+M+","+F+")"},Xi=function(R,N,F,M){return(R<<24|N<<16|F<<8|Math.round(M*255)<<0)>>>0},Fd=function(R,N){if(R.type===17)return R.number;if(R.type===16){var F=N===3?1:255;return N===3?R.number/100*F:Math.round(R.number/100*F)}return 0},Co=function(R,N){var F=N.filter(ai);if(F.length===3){var M=F.map(Fd),ce=M[0],Ee=M[1],Le=M[2];return Xi(ce,Ee,Le,1)}if(F.length===4){var rt=F.map(Fd),ce=rt[0],Ee=rt[1],Le=rt[2],nt=rt[3];return Xi(ce,Ee,Le,nt)}return 0};function cl(R,N,F){return F<0&&(F+=1),F>=1&&(F-=1),F<1/6?(N-R)*F*6+R:F<1/2?N:F<2/3?(N-R)*6*(2/3-F)+R:R}var xu=function(R,N){var F=N.filter(ai),M=F[0],ce=F[1],Ee=F[2],Le=F[3],rt=(M.type===17?ri(M.number):oi.parse(R,M))/(Math.PI*2),nt=Bn(ce)?ce.number/100:0,It=Bn(Ee)?Ee.number/100:0,$t=typeof Le<"u"&&Bn(Le)?Bi(Le,1):1;if(nt===0)return Xi(It*255,It*255,It*255,1);var Jt=It<=.5?It*(nt+1):It+nt-It*nt,Tr=It*2-Jt,jn=cl(Tr,Jt,rt+1/3),nn=cl(Tr,Jt,rt),gn=cl(Tr,Jt,rt-1/3);return Xi(jn*255,nn*255,gn*255,$t)},xi={hsl:xu,hsla:xu,rgb:Co,rgba:Co},$a=function(R,N){return Ys.parse(R,st.create(N).parseComponentValue())},qa={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},lc={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(R,N){return N.map(function(F){if(ln(F))switch(F.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Rl={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},fa=function(R,N){var F=Ys.parse(R,N[0]),M=N[1];return M&&Bn(M)?{color:F,stop:M}:{color:F,stop:null}},Xa=function(R,N){var F=R[0],M=R[R.length-1];F.stop===null&&(F.stop=di),M.stop===null&&(M.stop=vi);for(var ce=[],Ee=0,Le=0;Le<R.length;Le++){var rt=R[Le].stop;if(rt!==null){var nt=Bi(rt,N);nt>Ee?ce.push(nt):ce.push(Ee),Ee=nt}else ce.push(null)}for(var It=null,Le=0;Le<ce.length;Le++){var $t=ce[Le];if($t===null)It===null&&(It=Le);else if(It!==null){for(var Jt=Le-It,Tr=ce[It-1],jn=($t-Tr)/(Jt+1),nn=1;nn<=Jt;nn++)ce[It+nn-1]=jn*nn;It=null}}return R.map(function(gn,hi){var Hn=gn.color;return{color:Hn,stop:Math.max(Math.min(1,ce[hi]/N),0)}})},Ha=function(R,N,F){var M=N/2,ce=F/2,Ee=Bi(R[0],N)-M,Le=ce-Bi(R[1],F);return(Math.atan2(Le,Ee)+Math.PI*2)%(Math.PI*2)},zc=function(R,N,F){var M=typeof R=="number"?R:Ha(R,N,F),ce=Math.abs(N*Math.sin(M))+Math.abs(F*Math.cos(M)),Ee=N/2,Le=F/2,rt=ce/2,nt=Math.sin(M-Math.PI/2)*rt,It=Math.cos(M-Math.PI/2)*rt;return[ce,Ee-It,Ee+It,Le-nt,Le+nt]},jo=function(R,N){return Math.sqrt(R*R+N*N)},Sc=function(R,N,F,M,ce){var Ee=[[0,0],[0,N],[R,0],[R,N]];return Ee.reduce(function(Le,rt){var nt=rt[0],It=rt[1],$t=jo(F-nt,M-It);return(ce?$t<Le.optimumDistance:$t>Le.optimumDistance)?{optimumCorner:rt,optimumDistance:$t}:Le},{optimumDistance:ce?1/0:-1/0,optimumCorner:null}).optimumCorner},gl=function(R,N,F,M,ce){var Ee=0,Le=0;switch(R.size){case 0:R.shape===0?Ee=Le=Math.min(Math.abs(N),Math.abs(N-M),Math.abs(F),Math.abs(F-ce)):R.shape===1&&(Ee=Math.min(Math.abs(N),Math.abs(N-M)),Le=Math.min(Math.abs(F),Math.abs(F-ce)));break;case 2:if(R.shape===0)Ee=Le=Math.min(jo(N,F),jo(N,F-ce),jo(N-M,F),jo(N-M,F-ce));else if(R.shape===1){var rt=Math.min(Math.abs(F),Math.abs(F-ce))/Math.min(Math.abs(N),Math.abs(N-M)),nt=Sc(M,ce,N,F,!0),It=nt[0],$t=nt[1];Ee=jo(It-N,($t-F)/rt),Le=rt*Ee}break;case 1:R.shape===0?Ee=Le=Math.max(Math.abs(N),Math.abs(N-M),Math.abs(F),Math.abs(F-ce)):R.shape===1&&(Ee=Math.max(Math.abs(N),Math.abs(N-M)),Le=Math.max(Math.abs(F),Math.abs(F-ce)));break;case 3:if(R.shape===0)Ee=Le=Math.max(jo(N,F),jo(N,F-ce),jo(N-M,F),jo(N-M,F-ce));else if(R.shape===1){var rt=Math.max(Math.abs(F),Math.abs(F-ce))/Math.max(Math.abs(N),Math.abs(N-M)),Jt=Sc(M,ce,N,F,!1),It=Jt[0],$t=Jt[1];Ee=jo(It-N,($t-F)/rt),Le=rt*Ee}break}return Array.isArray(R.size)&&(Ee=Bi(R.size[0],M),Le=R.size.length===2?Bi(R.size[1],ce):Ee),[Ee,Le]},Wc=function(R,N){var F=ri(180),M=[];return Kn(N).forEach(function(ce,Ee){if(Ee===0){var Le=ce[0];if(Le.type===20&&Le.value==="to"){F=ji(ce);return}else if(ga(Le)){F=oi.parse(R,Le);return}}var rt=fa(R,ce);M.push(rt)}),{angle:F,stops:M,type:1}},Ol=function(R,N){var F=ri(180),M=[];return Kn(N).forEach(function(ce,Ee){if(Ee===0){var Le=ce[0];if(Le.type===20&&["top","left","right","bottom"].indexOf(Le.value)!==-1){F=ji(ce);return}else if(ga(Le)){F=(oi.parse(R,Le)+ri(270))%ri(360);return}}var rt=fa(R,ce);M.push(rt)}),{angle:F,stops:M,type:1}},_c=function(R,N){var F=ri(180),M=[],ce=1,Ee=0,Le=3,rt=[];return Kn(N).forEach(function(nt,It){var $t=nt[0];if(It===0){if(ln($t)&&$t.value==="linear"){ce=1;return}else if(ln($t)&&$t.value==="radial"){ce=2;return}}if($t.type===18){if($t.name==="from"){var Jt=Ys.parse(R,$t.values[0]);M.push({stop:di,color:Jt})}else if($t.name==="to"){var Jt=Ys.parse(R,$t.values[0]);M.push({stop:vi,color:Jt})}else if($t.name==="color-stop"){var Tr=$t.values.filter(ai);if(Tr.length===2){var Jt=Ys.parse(R,Tr[1]),jn=Tr[0];_i(jn)&&M.push({stop:{type:16,number:jn.number*100,flags:jn.flags},color:Jt})}}}}),ce===1?{angle:(F+ri(180))%ri(360),stops:M,type:ce}:{size:Le,shape:Ee,stops:M,position:rt,type:ce}},Ud="closest-side",Tc="farthest-side",Pl="closest-corner",gd="farthest-corner",$d="circle",qu="ellipse",cc="cover",vd="contain",Dl=function(R,N){var F=0,M=3,ce=[],Ee=[];return Kn(N).forEach(function(Le,rt){var nt=!0;if(rt===0){var It=!1;nt=Le.reduce(function(Jt,Tr){if(It)if(ln(Tr))switch(Tr.value){case"center":return Ee.push(Ln),Jt;case"top":case"left":return Ee.push(di),Jt;case"right":case"bottom":return Ee.push(vi),Jt}else(Bn(Tr)||Qi(Tr))&&Ee.push(Tr);else if(ln(Tr))switch(Tr.value){case $d:return F=0,!1;case qu:return F=1,!1;case"at":return It=!0,!1;case Ud:return M=0,!1;case cc:case Tc:return M=1,!1;case vd:case Pl:return M=2,!1;case gd:return M=3,!1}else if(Qi(Tr)||Bn(Tr))return Array.isArray(M)||(M=[]),M.push(Tr),!1;return Jt},nt)}if(nt){var $t=fa(R,Le);ce.push($t)}}),{size:M,shape:F,stops:ce,position:Ee,type:2}},Yc=function(R,N){var F=0,M=3,ce=[],Ee=[];return Kn(N).forEach(function(Le,rt){var nt=!0;if(rt===0?nt=Le.reduce(function($t,Jt){if(ln(Jt))switch(Jt.value){case"center":return Ee.push(Ln),!1;case"top":case"left":return Ee.push(di),!1;case"right":case"bottom":return Ee.push(vi),!1}else if(Bn(Jt)||Qi(Jt))return Ee.push(Jt),!1;return $t},nt):rt===1&&(nt=Le.reduce(function($t,Jt){if(ln(Jt))switch(Jt.value){case $d:return F=0,!1;case qu:return F=1,!1;case vd:case Ud:return M=0,!1;case Tc:return M=1,!1;case Pl:return M=2,!1;case cc:case gd:return M=3,!1}else if(Qi(Jt)||Bn(Jt))return Array.isArray(M)||(M=[]),M.push(Jt),!1;return $t},nt)),nt){var It=fa(R,Le);ce.push(It)}}),{size:M,shape:F,stops:ce,position:Ee,type:2}},vl=function(R){return R.type===1},Xu=function(R){return R.type===2},yd={name:"image",parse:function(R,N){if(N.type===22){var F={url:N.value,type:0};return R.cache.addImage(N.value),F}if(N.type===18){var M=bu[N.name];if(typeof M>"u")throw new Error('Attempting to parse an unsupported image function "'+N.name+'"');return M(R,N.values)}throw new Error("Unsupported image type "+N.type)}};function sh(R){return!(R.type===20&&R.value==="none")&&(R.type!==18||!!bu[R.name])}var bu={"linear-gradient":Wc,"-moz-linear-gradient":Ol,"-ms-linear-gradient":Ol,"-o-linear-gradient":Ol,"-webkit-linear-gradient":Ol,"radial-gradient":Dl,"-moz-radial-gradient":Yc,"-ms-radial-gradient":Yc,"-o-radial-gradient":Yc,"-webkit-radial-gradient":Yc,"-webkit-gradient":_c},Af={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(R,N){if(N.length===0)return[];var F=N[0];return F.type===20&&F.value==="none"?[]:N.filter(function(M){return ai(M)&&sh(M)}).map(function(M){return yd.parse(R,M)})}},ah={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(R,N){return N.map(function(F){if(ln(F))switch(F.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},yl={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(R,N){return Kn(N).map(function(F){return F.filter(Bn)}).map(cs)}},Bh={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(R,N){return Kn(N).map(function(F){return F.filter(ln).map(function(M){return M.value}).join(" ")}).map(Ml)}},Ml=function(R){switch(R){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}},Ti;(function(R){R.AUTO="auto",R.CONTAIN="contain",R.COVER="cover"})(Ti||(Ti={}));var qc={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(R,N){return Kn(N).map(function(F){return F.filter(wu)})}},wu=function(R){return ln(R)||Bn(R)},Eu=function(R){return{name:"border-"+R+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},xd=Eu("top"),Xc=Eu("right"),$o=Eu("bottom"),Su=Eu("left"),oh=function(R){return{name:"border-radius-"+R,initialValue:"0 0",prefix:!1,type:1,parse:function(N,F){return cs(F.filter(Bn))}}},Ho=oh("top-left"),Hd=oh("top-right"),Fl=oh("bottom-right"),lh=oh("bottom-left"),_u=function(R){return{name:"border-"+R+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(N,F){switch(F){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},xl=_u("top"),rl=_u("right"),Tu=_u("bottom"),Cc=_u("left"),uc=function(R){return{name:"border-"+R+"-width",initialValue:"0",type:0,prefix:!1,parse:function(N,F){return An(F)?F.number:0}}},jc=uc("top"),Wf=uc("right"),Zc=uc("bottom"),Yf=uc("left"),ch={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},No={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(R,N){return N==="rtl"?1:0}},va={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(R,N){return N.filter(ln).reduce(function(F,M){return F|mn(M.value)},0)}},mn=function(R){switch(R){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},bd={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(R,N){switch(N){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Nc={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(R,N){return N.type===20&&N.value==="normal"?0:N.type===17||N.type===15?N.number:0}},uh;(function(R){R.NORMAL="normal",R.STRICT="strict"})(uh||(uh={}));var Ul={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(R,N){return N==="strict"?uh.STRICT:uh.NORMAL}},wd={name:"line-height",initialValue:"normal",prefix:!1,type:4},qf=function(R,N){return ln(R)&&R.value==="normal"?1.2*N:R.type===17?N*R.number:Bn(R)?Bi(R,N):N},dh={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(R,N){return N.type===20&&N.value==="none"?null:yd.parse(R,N)}},Qo={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(R,N){return N==="inside"?0:1}},Qd={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(R,N){switch(N){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},Ic=function(R){return{name:"margin-"+R,initialValue:"0",prefix:!1,type:4}},mf=Ic("top"),dc=Ic("right"),Zu=Ic("bottom"),$l=Ic("left"),hc={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(R,N){return N.filter(ln).map(function(F){switch(F.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}})}},hh={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(R,N){return N==="break-word"?"break-word":"normal"}},kc=function(R){return{name:"padding-"+R,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Ju=kc("top"),Vd=kc("right"),fc=kc("bottom"),Oa=kc("left"),fh={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(R,N){switch(N){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},Xf={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(R,N){switch(N){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},RA={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(R,N){return N.length===1&&mi(N[0],"none")?[]:Kn(N).map(function(F){for(var M={color:qa.TRANSPARENT,offsetX:di,offsetY:di,blur:di},ce=0,Ee=0;Ee<F.length;Ee++){var Le=F[Ee];Qi(Le)?(ce===0?M.offsetX=Le:ce===1?M.offsetY=Le:M.blur=Le,ce++):M.color=Ys.parse(R,Le)}return M})}},Kd={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(R,N){switch(N){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Gd={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(R,N){if(N.type===20&&N.value==="none")return null;if(N.type===18){var F=Ah[N.name];if(typeof F>"u")throw new Error('Attempting to parse an unsupported transform function "'+N.name+'"');return F(N.values)}return null}},Za=function(R){var N=R.filter(function(F){return F.type===17}).map(function(F){return F.number});return N.length===6?N:null},zd=function(R){var N=R.filter(function(nt){return nt.type===17}).map(function(nt){return nt.number}),F=N[0],M=N[1];N[2],N[3];var ce=N[4],Ee=N[5];N[6],N[7],N[8],N[9],N[10],N[11];var Le=N[12],rt=N[13];return N[14],N[15],N.length===16?[F,M,ce,Ee,Le,rt]:null},Ah={matrix:Za,matrix3d:zd},re={type:16,number:50,flags:bs},Ne=[re,re],dt={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(R,N){var F=N.filter(Bn);return F.length!==2?Ne:[F[0],F[1]]}},wt={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(R,N){switch(N){case"hidden":return 1;case"collapse":return 2;default:return 0}}},Vt;(function(R){R.NORMAL="normal",R.BREAK_ALL="break-all",R.KEEP_ALL="keep-all"})(Vt||(Vt={}));for(var Cr={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(R,N){switch(N){case"break-all":return Vt.BREAK_ALL;case"keep-all":return Vt.KEEP_ALL;default:return Vt.NORMAL}}},Dr={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(R,N){if(N.type===20)return{auto:!0,order:0};if(_i(N))return{auto:!1,order:N.number};throw new Error("Invalid z-index number parsed")}},Rn={name:"time",parse:function(R,N){if(N.type===15)switch(N.unit.toLowerCase()){case"s":return 1e3*N.number;case"ms":return N.number}throw new Error("Unsupported time type")}},On={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(R,N){return _i(N)?N.number:1}},Ni={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Di={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(R,N){return N.filter(ln).map(function(F){switch(F.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(F){return F!==0})}},js={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(R,N){var F=[],M=[];return N.forEach(function(ce){switch(ce.type){case 20:case 0:F.push(ce.value);break;case 17:F.push(ce.number.toString());break;case 4:M.push(F.join(" ")),F.length=0;break}}),F.length&&M.push(F.join(" ")),M.map(function(ce){return ce.indexOf(" ")===-1?ce:"'"+ce+"'"})}},oa={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Ja={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(R,N){return _i(N)?N.number:ln(N)&&N.value==="bold"?700:400}},Js={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(R,N){return N.filter(ln).map(function(F){return F.value})}},fo={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(R,N){switch(N){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},k=function(R,N){return(R&N)!==0},Te={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(R,N){if(N.length===0)return[];var F=N[0];return F.type===20&&F.value==="none"?[]:N}},Y={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(R,N){if(N.length===0)return null;var F=N[0];if(F.type===20&&F.value==="none")return null;for(var M=[],ce=N.filter(Sn),Ee=0;Ee<ce.length;Ee++){var Le=ce[Ee],rt=ce[Ee+1];if(Le.type===20){var nt=rt&&_i(rt)?rt.number:1;M.push({counter:Le.value,increment:nt})}}return M}},He={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(R,N){if(N.length===0)return[];for(var F=[],M=N.filter(Sn),ce=0;ce<M.length;ce++){var Ee=M[ce],Le=M[ce+1];if(ln(Ee)&&Ee.value!=="none"){var rt=Le&&_i(Le)?Le.number:0;F.push({counter:Ee.value,reset:rt})}}return F}},mt={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(R,N){return N.filter(An).map(function(F){return Rn.parse(R,F)})}},ht={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(R,N){if(N.length===0)return null;var F=N[0];if(F.type===20&&F.value==="none")return null;var M=[],ce=N.filter(Hr);if(ce.length%2!==0)return null;for(var Ee=0;Ee<ce.length;Ee+=2){var Le=ce[Ee].value,rt=ce[Ee+1].value;M.push({open:Le,close:rt})}return M}},ir=function(R,N,F){if(!R)return"";var M=R[Math.min(N,R.length-1)];return M?F?M.open:M.close:""},Ot={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(R,N){return N.length===1&&mi(N[0],"none")?[]:Kn(N).map(function(F){for(var M={color:255,offsetX:di,offsetY:di,blur:di,spread:di,inset:!1},ce=0,Ee=0;Ee<F.length;Ee++){var Le=F[Ee];mi(Le,"inset")?M.inset=!0:Qi(Le)?(ce===0?M.offsetX=Le:ce===1?M.offsetY=Le:ce===2?M.blur=Le:M.spread=Le,ce++):M.color=Ys.parse(R,Le)}return M})}},xn={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(R,N){var F=[0,1,2],M=[];return N.filter(ln).forEach(function(ce){switch(ce.value){case"stroke":M.push(1);break;case"fill":M.push(0);break;case"markers":M.push(2);break}}),F.forEach(function(ce){M.indexOf(ce)===-1&&M.push(ce)}),M}},Nt={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},sr={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(R,N){return An(N)?N.number:0}},Ii=(function(){function R(N,F){var M,ce;this.animationDuration=wr(N,mt,F.animationDuration),this.backgroundClip=wr(N,lc,F.backgroundClip),this.backgroundColor=wr(N,Rl,F.backgroundColor),this.backgroundImage=wr(N,Af,F.backgroundImage),this.backgroundOrigin=wr(N,ah,F.backgroundOrigin),this.backgroundPosition=wr(N,yl,F.backgroundPosition),this.backgroundRepeat=wr(N,Bh,F.backgroundRepeat),this.backgroundSize=wr(N,qc,F.backgroundSize),this.borderTopColor=wr(N,xd,F.borderTopColor),this.borderRightColor=wr(N,Xc,F.borderRightColor),this.borderBottomColor=wr(N,$o,F.borderBottomColor),this.borderLeftColor=wr(N,Su,F.borderLeftColor),this.borderTopLeftRadius=wr(N,Ho,F.borderTopLeftRadius),this.borderTopRightRadius=wr(N,Hd,F.borderTopRightRadius),this.borderBottomRightRadius=wr(N,Fl,F.borderBottomRightRadius),this.borderBottomLeftRadius=wr(N,lh,F.borderBottomLeftRadius),this.borderTopStyle=wr(N,xl,F.borderTopStyle),this.borderRightStyle=wr(N,rl,F.borderRightStyle),this.borderBottomStyle=wr(N,Tu,F.borderBottomStyle),this.borderLeftStyle=wr(N,Cc,F.borderLeftStyle),this.borderTopWidth=wr(N,jc,F.borderTopWidth),this.borderRightWidth=wr(N,Wf,F.borderRightWidth),this.borderBottomWidth=wr(N,Zc,F.borderBottomWidth),this.borderLeftWidth=wr(N,Yf,F.borderLeftWidth),this.boxShadow=wr(N,Ot,F.boxShadow),this.color=wr(N,ch,F.color),this.direction=wr(N,No,F.direction),this.display=wr(N,va,F.display),this.float=wr(N,bd,F.cssFloat),this.fontFamily=wr(N,js,F.fontFamily),this.fontSize=wr(N,oa,F.fontSize),this.fontStyle=wr(N,fo,F.fontStyle),this.fontVariant=wr(N,Js,F.fontVariant),this.fontWeight=wr(N,Ja,F.fontWeight),this.letterSpacing=wr(N,Nc,F.letterSpacing),this.lineBreak=wr(N,Ul,F.lineBreak),this.lineHeight=wr(N,wd,F.lineHeight),this.listStyleImage=wr(N,dh,F.listStyleImage),this.listStylePosition=wr(N,Qo,F.listStylePosition),this.listStyleType=wr(N,Qd,F.listStyleType),this.marginTop=wr(N,mf,F.marginTop),this.marginRight=wr(N,dc,F.marginRight),this.marginBottom=wr(N,Zu,F.marginBottom),this.marginLeft=wr(N,$l,F.marginLeft),this.opacity=wr(N,On,F.opacity);var Ee=wr(N,hc,F.overflow);this.overflowX=Ee[0],this.overflowY=Ee[Ee.length>1?1:0],this.overflowWrap=wr(N,hh,F.overflowWrap),this.paddingTop=wr(N,Ju,F.paddingTop),this.paddingRight=wr(N,Vd,F.paddingRight),this.paddingBottom=wr(N,fc,F.paddingBottom),this.paddingLeft=wr(N,Oa,F.paddingLeft),this.paintOrder=wr(N,xn,F.paintOrder),this.position=wr(N,Xf,F.position),this.textAlign=wr(N,fh,F.textAlign),this.textDecorationColor=wr(N,Ni,(M=F.textDecorationColor)!==null&&M!==void 0?M:F.color),this.textDecorationLine=wr(N,Di,(ce=F.textDecorationLine)!==null&&ce!==void 0?ce:F.textDecoration),this.textShadow=wr(N,RA,F.textShadow),this.textTransform=wr(N,Kd,F.textTransform),this.transform=wr(N,Gd,F.transform),this.transformOrigin=wr(N,dt,F.transformOrigin),this.visibility=wr(N,wt,F.visibility),this.webkitTextStrokeColor=wr(N,Nt,F.webkitTextStrokeColor),this.webkitTextStrokeWidth=wr(N,sr,F.webkitTextStrokeWidth),this.wordBreak=wr(N,Cr,F.wordBreak),this.zIndex=wr(N,Dr,F.zIndex)}return R.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},R.prototype.isTransparent=function(){return Pi(this.backgroundColor)},R.prototype.isTransformed=function(){return this.transform!==null},R.prototype.isPositioned=function(){return this.position!==0},R.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},R.prototype.isFloating=function(){return this.float!==0},R.prototype.isInlineLevel=function(){return k(this.display,4)||k(this.display,33554432)||k(this.display,268435456)||k(this.display,536870912)||k(this.display,67108864)||k(this.display,134217728)},R})(),cn=(function(){function R(N,F){this.content=wr(N,Te,F.content),this.quotes=wr(N,ht,F.quotes)}return R})(),Fr=(function(){function R(N,F){this.counterIncrement=wr(N,Y,F.counterIncrement),this.counterReset=wr(N,He,F.counterReset)}return R})(),wr=function(R,N,F){var M=new ui,ce=F!==null&&typeof F<"u"?F.toString():N.initialValue;M.write(ce);var Ee=new st(M.read());switch(N.type){case 2:var Le=Ee.parseComponentValue();return N.parse(R,ln(Le)?Le.value:N.initialValue);case 0:return N.parse(R,Ee.parseComponentValue());case 1:return N.parse(R,Ee.parseComponentValues());case 4:return Ee.parseComponentValue();case 3:switch(N.format){case"angle":return oi.parse(R,Ee.parseComponentValue());case"color":return Ys.parse(R,Ee.parseComponentValue());case"image":return yd.parse(R,Ee.parseComponentValue());case"length":var rt=Ee.parseComponentValue();return Qi(rt)?rt:di;case"length-percentage":var nt=Ee.parseComponentValue();return Bn(nt)?nt:di;case"time":return Rn.parse(R,Ee.parseComponentValue())}break}},la="data-html2canvas-debug",Ci=function(R){var N=R.getAttribute(la);switch(N){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},li=function(R,N){var F=Ci(R);return F===1||N===F},wi=(function(){function R(N,F){if(this.context=N,this.textNodes=[],this.elements=[],this.flags=0,li(F,3))debugger;this.styles=new Ii(N,window.getComputedStyle(F,null)),vf(F)&&(this.styles.animationDuration.some(function(M){return M>0})&&(F.style.animationDuration="0s"),this.styles.transform!==null&&(F.style.transform="none")),this.bounds=o(this.context,F),li(F,4)&&(this.flags|=16)}return R})(),zi="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",an="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Wi=typeof Uint8Array>"u"?[]:new Uint8Array(256),ca=0;ca<an.length;ca++)Wi[an.charCodeAt(ca)]=ca;for(var ni=function(R){var N=R.length*.75,F=R.length,M,ce=0,Ee,Le,rt,nt;R[R.length-1]==="="&&(N--,R[R.length-2]==="="&&N--);var It=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(N):new Array(N),$t=Array.isArray(It)?It:new Uint8Array(It);for(M=0;M<F;M+=4)Ee=Wi[R.charCodeAt(M)],Le=Wi[R.charCodeAt(M+1)],rt=Wi[R.charCodeAt(M+2)],nt=Wi[R.charCodeAt(M+3)],$t[ce++]=Ee<<2|Le>>4,$t[ce++]=(Le&15)<<4|rt>>2,$t[ce++]=(rt&3)<<6|nt&63;return It},Ns=function(R){for(var N=R.length,F=[],M=0;M<N;M+=2)F.push(R[M+1]<<8|R[M]);return F},is=function(R){for(var N=R.length,F=[],M=0;M<N;M+=4)F.push(R[M+3]<<24|R[M+2]<<16|R[M+1]<<8|R[M]);return F},Pn=5,bi=11,bl=2,Cu=bi-Pn,Bc=65536>>Pn,Vo=1<<Pn,wl=Vo-1,Sa=1024>>Pn,OA=Bc+Sa,Wd=OA,Ac=32,mc=Wd+Ac,eo=65536>>bi,pf=1<<Cu,ed=pf-1,Li=function(R,N,F){return R.slice?R.slice(N,F):new Uint16Array(Array.prototype.slice.call(R,N,F))},Ds=function(R,N,F){return R.slice?R.slice(N,F):new Uint32Array(Array.prototype.slice.call(R,N,F))},Pa=function(R,N){var F=ni(R),M=Array.isArray(F)?is(F):new Uint32Array(F),ce=Array.isArray(F)?Ns(F):new Uint16Array(F),Ee=24,Le=Li(ce,Ee/2,M[4]/2),rt=M[5]===2?Li(ce,(Ee+M[4])/2):Ds(M,Math.ceil((Ee+M[4])/4));return new mh(M[0],M[1],M[2],M[3],Le,rt)},mh=(function(){function R(N,F,M,ce,Ee,Le){this.initialValue=N,this.errorValue=F,this.highStart=M,this.highValueIndex=ce,this.index=Ee,this.data=Le}return R.prototype.get=function(N){var F;if(N>=0){if(N<55296||N>56319&&N<=65535)return F=this.index[N>>Pn],F=(F<<bl)+(N&wl),this.data[F];if(N<=65535)return F=this.index[Bc+(N-55296>>Pn)],F=(F<<bl)+(N&wl),this.data[F];if(N<this.highStart)return F=mc-eo+(N>>bi),F=this.index[F],F+=N>>Pn&ed,F=this.index[F],F=(F<<bl)+(N&wl),this.data[F];if(N<=1114111)return this.data[this.highValueIndex]}return this.errorValue},R})(),ju="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",td=typeof Uint8Array>"u"?[]:new Uint8Array(256),Hl=0;Hl<ju.length;Hl++)td[ju.charCodeAt(Hl)]=Hl;var Nu=1,Is=2,ya=3,ss=4,Ko=5,Yd=7,Zf=8,Lh=9,PA=10,Vm=11,Km=12,Gm=13,pc=14,Ao=15,zm=function(R){for(var N=[],F=0,M=R.length;F<M;){var ce=R.charCodeAt(F++);if(ce>=55296&&ce<=56319&&F<M){var Ee=R.charCodeAt(F++);(Ee&64512)===56320?N.push(((ce&1023)<<10)+(Ee&1023)+65536):(N.push(ce),F--)}else N.push(ce)}return N},Rh=function(){for(var R=[],N=0;N<arguments.length;N++)R[N]=arguments[N];if(String.fromCodePoint)return String.fromCodePoint.apply(String,R);var F=R.length;if(!F)return"";for(var M=[],ce=-1,Ee="";++ce<F;){var Le=R[ce];Le<=65535?M.push(Le):(Le-=65536,M.push((Le>>10)+55296,Le%1024+56320)),(ce+1===F||M.length>16384)&&(Ee+=String.fromCharCode.apply(String,M),M.length=0)}return Ee},Wm=Pa(zi),Jc="",Ed="",Ym=function(R){return Wm.get(R)},sg=function(R,N,F){var M=F-2,ce=N[M],Ee=N[F-1],Le=N[F];if(Ee===Is&&Le===ya)return Jc;if(Ee===Is||Ee===ya||Ee===ss||Le===Is||Le===ya||Le===ss)return Ed;if(Ee===Zf&&[Zf,Lh,Vm,Km].indexOf(Le)!==-1||(Ee===Vm||Ee===Lh)&&(Le===Lh||Le===PA)||(Ee===Km||Ee===PA)&&Le===PA||Le===Gm||Le===Ko||Le===Yd||Ee===Nu)return Jc;if(Ee===Gm&&Le===pc){for(;ce===Ko;)ce=N[--M];if(ce===pc)return Jc}if(Ee===Ao&&Le===Ao){for(var rt=0;ce===Ao;)rt++,ce=N[--M];if(rt%2===0)return Jc}return Ed},ag=function(R){var N=zm(R),F=N.length,M=0,ce=0,Ee=N.map(Ym);return{next:function(){if(M>=F)return{done:!0,value:null};for(var Le=Jc;M<F&&(Le=sg(N,Ee,++M))===Jc;);if(Le!==Jc||M===F){var rt=Rh.apply(null,N.slice(ce,M));return ce=M,{value:rt,done:!1}}return{done:!0,value:null}}}},R0=function(R){for(var N=ag(R),F=[],M;!(M=N.next()).done;)M.value&&F.push(M.value.slice());return F},O0=function(R){var N=123;if(R.createRange){var F=R.createRange();if(F.getBoundingClientRect){var M=R.createElement("boundtest");M.style.height=N+"px",M.style.display="block",R.body.appendChild(M),F.selectNode(M);var ce=F.getBoundingClientRect(),Ee=Math.round(ce.height);if(R.body.removeChild(M),Ee===N)return!0}}return!1},og=function(R){var N=R.createElement("boundtest");N.style.width="50px",N.style.display="block",N.style.fontSize="12px",N.style.letterSpacing="0px",N.style.wordSpacing="0px",R.body.appendChild(N);var F=R.createRange();N.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var M=N.firstChild,ce=f(M.data).map(function(nt){return A(nt)}),Ee=0,Le={},rt=ce.every(function(nt,It){F.setStart(M,Ee),F.setEnd(M,Ee+nt.length);var $t=F.getBoundingClientRect();Ee+=nt.length;var Jt=$t.x>Le.x||$t.y>Le.y;return Le=$t,It===0?!0:Jt});return R.body.removeChild(N),rt},qm=function(){return typeof new Image().crossOrigin<"u"},Iu=function(){return typeof new XMLHttpRequest().responseType=="string"},rd=function(R){var N=new Image,F=R.createElement("canvas"),M=F.getContext("2d");if(!M)return!1;N.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{M.drawImage(N,0,0),F.toDataURL()}catch{return!1}return!0},Jf=function(R){return R[0]===0&&R[1]===255&&R[2]===0&&R[3]===255},Xm=function(R){var N=R.createElement("canvas"),F=100;N.width=F,N.height=F;var M=N.getContext("2d");if(!M)return Promise.reject(!1);M.fillStyle="rgb(0, 255, 0)",M.fillRect(0,0,F,F);var ce=new Image,Ee=N.toDataURL();ce.src=Ee;var Le=lg(F,F,0,0,ce);return M.fillStyle="red",M.fillRect(0,0,F,F),DA(Le).then(function(rt){M.drawImage(rt,0,0);var nt=M.getImageData(0,0,F,F).data;M.fillStyle="red",M.fillRect(0,0,F,F);var It=R.createElement("div");return It.style.backgroundImage="url("+Ee+")",It.style.height=F+"px",Jf(nt)?DA(lg(F,F,0,0,It)):Promise.reject(!1)}).then(function(rt){return M.drawImage(rt,0,0),Jf(M.getImageData(0,0,F,F).data)}).catch(function(){return!1})},lg=function(R,N,F,M,ce){var Ee="http://www.w3.org/2000/svg",Le=document.createElementNS(Ee,"svg"),rt=document.createElementNS(Ee,"foreignObject");return Le.setAttributeNS(null,"width",R.toString()),Le.setAttributeNS(null,"height",N.toString()),rt.setAttributeNS(null,"width","100%"),rt.setAttributeNS(null,"height","100%"),rt.setAttributeNS(null,"x",F.toString()),rt.setAttributeNS(null,"y",M.toString()),rt.setAttributeNS(null,"externalResourcesRequired","true"),Le.appendChild(rt),rt.appendChild(ce),Le},DA=function(R){return new Promise(function(N,F){var M=new Image;M.onload=function(){return N(M)},M.onerror=F,M.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(R))})},nl={get SUPPORT_RANGE_BOUNDS(){var R=O0(document);return Object.defineProperty(nl,"SUPPORT_RANGE_BOUNDS",{value:R}),R},get SUPPORT_WORD_BREAKING(){var R=nl.SUPPORT_RANGE_BOUNDS&&og(document);return Object.defineProperty(nl,"SUPPORT_WORD_BREAKING",{value:R}),R},get SUPPORT_SVG_DRAWING(){var R=rd(document);return Object.defineProperty(nl,"SUPPORT_SVG_DRAWING",{value:R}),R},get SUPPORT_FOREIGNOBJECT_DRAWING(){var R=typeof Array.from=="function"&&typeof window.fetch=="function"?Xm(document):Promise.resolve(!1);return Object.defineProperty(nl,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:R}),R},get SUPPORT_CORS_IMAGES(){var R=qm();return Object.defineProperty(nl,"SUPPORT_CORS_IMAGES",{value:R}),R},get SUPPORT_RESPONSE_TYPE(){var R=Iu();return Object.defineProperty(nl,"SUPPORT_RESPONSE_TYPE",{value:R}),R},get SUPPORT_CORS_XHR(){var R="withCredentials"in new XMLHttpRequest;return Object.defineProperty(nl,"SUPPORT_CORS_XHR",{value:R}),R},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var R=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(nl,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:R}),R}},gf=(function(){function R(N,F){this.text=N,this.bounds=F}return R})(),cg=function(R,N,F,M){var ce=yy(N,F),Ee=[],Le=0;return ce.forEach(function(rt){if(F.textDecorationLine.length||rt.trim().length>0)if(nl.SUPPORT_RANGE_BOUNDS){var nt=Zm(M,Le,rt.length).getClientRects();if(nt.length>1){var It=eA(rt),$t=0;It.forEach(function(Tr){Ee.push(new gf(Tr,u.fromDOMRectList(R,Zm(M,$t+Le,Tr.length).getClientRects()))),$t+=Tr.length})}else Ee.push(new gf(rt,u.fromDOMRectList(R,nt)))}else{var Jt=M.splitText(rt.length);Ee.push(new gf(rt,ug(R,M))),M=Jt}else nl.SUPPORT_RANGE_BOUNDS||(M=M.splitText(rt.length));Le+=rt.length}),Ee},ug=function(R,N){var F=N.ownerDocument;if(F){var M=F.createElement("html2canvaswrapper");M.appendChild(N.cloneNode(!0));var ce=N.parentNode;if(ce){ce.replaceChild(M,N);var Ee=o(R,M);return M.firstChild&&ce.replaceChild(M.firstChild,M),Ee}}return u.EMPTY},Zm=function(R,N,F){var M=R.ownerDocument;if(!M)throw new Error("Node has no owner document");var ce=M.createRange();return ce.setStart(R,N),ce.setEnd(R,N+F),ce},eA=function(R){if(nl.SUPPORT_NATIVE_TEXT_SEGMENTATION){var N=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(N.segment(R)).map(function(F){return F.segment})}return R0(R)},dg=function(R,N){if(nl.SUPPORT_NATIVE_TEXT_SEGMENTATION){var F=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(F.segment(R)).map(function(M){return M.segment})}return P0(R,N)},yy=function(R,N){return N.letterSpacing!==0?eA(R):dg(R,N)},u1=[32,160,4961,65792,65793,4153,4241],P0=function(R,N){for(var F=oo(R,{lineBreak:N.lineBreak,wordBreak:N.overflowWrap==="break-word"?"break-word":N.wordBreak}),M=[],ce,Ee=function(){if(ce.value){var Le=ce.value.slice(),rt=f(Le),nt="";rt.forEach(function(It){u1.indexOf(It)===-1?nt+=A(It):(nt.length&&M.push(nt),M.push(A(It)),nt="")}),nt.length&&M.push(nt)}};!(ce=F.next()).done;)Ee();return M},MA=(function(){function R(N,F,M){this.text=xy(F.data,M.textTransform),this.textBounds=cg(N,this.text,M,F)}return R})(),xy=function(R,N){switch(N){case 1:return R.toLowerCase();case 3:return R.replace(hg,fg);case 2:return R.toUpperCase();default:return R}},hg=/(^|\s|:|-|\(|\))([a-z])/g,fg=function(R,N,F){return R.length>0?N+F.toUpperCase():R},D0=(function(R){n(N,R);function N(F,M){var ce=R.call(this,F,M)||this;return ce.src=M.currentSrc||M.src,ce.intrinsicWidth=M.naturalWidth,ce.intrinsicHeight=M.naturalHeight,ce.context.cache.addImage(ce.src),ce}return N})(wi),FA=(function(R){n(N,R);function N(F,M){var ce=R.call(this,F,M)||this;return ce.canvas=M,ce.intrinsicWidth=M.width,ce.intrinsicHeight=M.height,ce}return N})(wi),Ag=(function(R){n(N,R);function N(F,M){var ce=R.call(this,F,M)||this,Ee=new XMLSerializer,Le=o(F,M);return M.setAttribute("width",Le.width+"px"),M.setAttribute("height",Le.height+"px"),ce.svg="data:image/svg+xml,"+encodeURIComponent(Ee.serializeToString(M)),ce.intrinsicWidth=M.width.baseVal.value,ce.intrinsicHeight=M.height.baseVal.value,ce.context.cache.addImage(ce.svg),ce}return N})(wi),tA=(function(R){n(N,R);function N(F,M){var ce=R.call(this,F,M)||this;return ce.value=M.value,ce}return N})(wi),mg=(function(R){n(N,R);function N(F,M){var ce=R.call(this,F,M)||this;return ce.start=M.start,ce.reversed=typeof M.reversed=="boolean"&&M.reversed===!0,ce}return N})(wi),by=[{type:15,flags:0,unit:"px",number:3}],M0=[{type:16,flags:0,number:50}],wy=function(R){return R.width>R.height?new u(R.left+(R.width-R.height)/2,R.top,R.height,R.height):R.width<R.height?new u(R.left,R.top+(R.height-R.width)/2,R.width,R.width):R},F0=function(R){var N=R.type===ph?new Array(R.value.length+1).join(""):R.value;return N.length===0?R.placeholder||"":N},Jm="checkbox",ep="radio",ph="password",nd=707406591,Sd=(function(R){n(N,R);function N(F,M){var ce=R.call(this,F,M)||this;switch(ce.type=M.type.toLowerCase(),ce.checked=M.checked,ce.value=F0(M),(ce.type===Jm||ce.type===ep)&&(ce.styles.backgroundColor=3739148031,ce.styles.borderTopColor=ce.styles.borderRightColor=ce.styles.borderBottomColor=ce.styles.borderLeftColor=2779096575,ce.styles.borderTopWidth=ce.styles.borderRightWidth=ce.styles.borderBottomWidth=ce.styles.borderLeftWidth=1,ce.styles.borderTopStyle=ce.styles.borderRightStyle=ce.styles.borderBottomStyle=ce.styles.borderLeftStyle=1,ce.styles.backgroundClip=[0],ce.styles.backgroundOrigin=[0],ce.bounds=wy(ce.bounds)),ce.type){case Jm:ce.styles.borderTopRightRadius=ce.styles.borderTopLeftRadius=ce.styles.borderBottomRightRadius=ce.styles.borderBottomLeftRadius=by;break;case ep:ce.styles.borderTopRightRadius=ce.styles.borderTopLeftRadius=ce.styles.borderBottomRightRadius=ce.styles.borderBottomLeftRadius=M0;break}return ce}return N})(wi),Ey=(function(R){n(N,R);function N(F,M){var ce=R.call(this,F,M)||this,Ee=M.options[M.selectedIndex||0];return ce.value=Ee&&Ee.text||"",ce}return N})(wi),tp=(function(R){n(N,R);function N(F,M){var ce=R.call(this,F,M)||this;return ce.value=M.value,ce}return N})(wi),gh=(function(R){n(N,R);function N(F,M){var ce=R.call(this,F,M)||this;ce.src=M.src,ce.width=parseInt(M.width,10)||0,ce.height=parseInt(M.height,10)||0,ce.backgroundColor=ce.styles.backgroundColor;try{if(M.contentWindow&&M.contentWindow.document&&M.contentWindow.document.documentElement){ce.tree=pg(F,M.contentWindow.document.documentElement);var Ee=M.contentWindow.document.documentElement?$a(F,getComputedStyle(M.contentWindow.document.documentElement).backgroundColor):qa.TRANSPARENT,Le=M.contentWindow.document.body?$a(F,getComputedStyle(M.contentWindow.document.body).backgroundColor):qa.TRANSPARENT;ce.backgroundColor=Pi(Ee)?Pi(Le)?ce.styles.backgroundColor:Le:Ee}}catch{}return ce}return N})(wi),id=["OL","UL","MENU"],UA=function(R,N,F,M){for(var ce=N.firstChild,Ee=void 0;ce;ce=Ee)if(Ee=ce.nextSibling,gg(ce)&&ce.data.trim().length>0)F.textNodes.push(new MA(R,ce,F.styles));else if(vh(ce))if(HA(ce)&&ce.assignedNodes)ce.assignedNodes().forEach(function(rt){return UA(R,rt,F,M)});else{var Le=U0(R,ce);Le.styles.isVisible()&&(Sy(ce,Le,M)?Le.flags|=4:_y(Le.styles)&&(Le.flags|=2),id.indexOf(ce.tagName)!==-1&&(Le.flags|=8),F.elements.push(Le),ce.slot,ce.shadowRoot?UA(R,ce.shadowRoot,Le,M):!ip(ce)&&!yg(ce)&&!sp(ce)&&UA(R,ce,Le,M))}},U0=function(R,N){return Eg(N)?new D0(R,N):bg(N)?new FA(R,N):yg(N)?new Ag(R,N):$A(N)?new tA(R,N):vg(N)?new mg(R,N):rp(N)?new Sd(R,N):sp(N)?new Ey(R,N):ip(N)?new tp(R,N):H0(N)?new gh(R,N):new wi(R,N)},pg=function(R,N){var F=U0(R,N);return F.flags|=4,UA(R,N,F,F),F},Sy=function(R,N,F){return N.styles.isPositionedWithZIndex()||N.styles.opacity<1||N.styles.isTransformed()||xg(R)&&F.styles.isTransparent()},_y=function(R){return R.isPositioned()||R.isFloating()},gg=function(R){return R.nodeType===Node.TEXT_NODE},vh=function(R){return R.nodeType===Node.ELEMENT_NODE},vf=function(R){return vh(R)&&typeof R.style<"u"&&!yh(R)},yh=function(R){return typeof R.className=="object"},$A=function(R){return R.tagName==="LI"},vg=function(R){return R.tagName==="OL"},rp=function(R){return R.tagName==="INPUT"},$0=function(R){return R.tagName==="HTML"},yg=function(R){return R.tagName==="svg"},xg=function(R){return R.tagName==="BODY"},bg=function(R){return R.tagName==="CANVAS"},wg=function(R){return R.tagName==="VIDEO"},Eg=function(R){return R.tagName==="IMG"},H0=function(R){return R.tagName==="IFRAME"},Oh=function(R){return R.tagName==="STYLE"},np=function(R){return R.tagName==="SCRIPT"},ip=function(R){return R.tagName==="TEXTAREA"},sp=function(R){return R.tagName==="SELECT"},HA=function(R){return R.tagName==="SLOT"},B=function(R){return R.tagName.indexOf("-")>0},K=(function(){function R(){this.counters={}}return R.prototype.getCounterValue=function(N){var F=this.counters[N];return F&&F.length?F[F.length-1]:1},R.prototype.getCounterValues=function(N){var F=this.counters[N];return F||[]},R.prototype.pop=function(N){var F=this;N.forEach(function(M){return F.counters[M].pop()})},R.prototype.parse=function(N){var F=this,M=N.counterIncrement,ce=N.counterReset,Ee=!0;M!==null&&M.forEach(function(rt){var nt=F.counters[rt.counter];nt&&rt.increment!==0&&(Ee=!1,nt.length||nt.push(1),nt[Math.max(0,nt.length-1)]+=rt.increment)});var Le=[];return Ee&&ce.forEach(function(rt){var nt=F.counters[rt.counter];Le.push(rt.counter),nt||(nt=F.counters[rt.counter]=[]),nt.push(rt.reset)}),Le},R})(),le={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},ye={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Ie={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Pe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Oe=function(R,N,F,M,ce,Ee){return R<N||R>F?Vr(R,ce,Ee.length>0):M.integers.reduce(function(Le,rt,nt){for(;R>=rt;)R-=rt,Le+=M.values[nt];return Le},"")+Ee},Ve=function(R,N,F,M){var ce="";do F||R--,ce=M(R)+ce,R/=N;while(R*N>=N);return ce},We=function(R,N,F,M,ce){var Ee=F-N+1;return(R<0?"-":"")+(Ve(Math.abs(R),Ee,M,function(Le){return A(Math.floor(Le%Ee)+N)})+ce)},ut=function(R,N,F){F===void 0&&(F=". ");var M=N.length;return Ve(Math.abs(R),M,!1,function(ce){return N[Math.floor(ce%M)]})+F},kt=1,tr=2,at=4,Dt=8,Kt=function(R,N,F,M,ce,Ee){if(R<-9999||R>9999)return Vr(R,4,ce.length>0);var Le=Math.abs(R),rt=ce;if(Le===0)return N[0]+rt;for(var nt=0;Le>0&&nt<=4;nt++){var It=Le%10;It===0&&k(Ee,kt)&&rt!==""?rt=N[It]+rt:It>1||It===1&&nt===0||It===1&&nt===1&&k(Ee,tr)||It===1&&nt===1&&k(Ee,at)&&R>100||It===1&&nt>1&&k(Ee,Dt)?rt=N[It]+(nt>0?F[nt-1]:"")+rt:It===1&&nt>0&&(rt=F[nt-1]+rt),Le=Math.floor(Le/10)}return(R<0?M:"")+rt},Sr="",lr="",_r="",jr="",Vr=function(R,N,F){var M=F?". ":"",ce=F?"":"",Ee=F?", ":"",Le=F?" ":"";switch(N){case 0:return""+Le;case 1:return""+Le;case 2:return""+Le;case 5:var rt=We(R,48,57,!0,M);return rt.length<4?"0"+rt:rt;case 4:return ut(R,"",ce);case 6:return Oe(R,1,3999,le,3,M).toLowerCase();case 7:return Oe(R,1,3999,le,3,M);case 8:return We(R,945,969,!1,M);case 9:return We(R,97,122,!1,M);case 10:return We(R,65,90,!1,M);case 11:return We(R,1632,1641,!0,M);case 12:case 49:return Oe(R,1,9999,ye,3,M);case 35:return Oe(R,1,9999,ye,3,M).toLowerCase();case 13:return We(R,2534,2543,!0,M);case 14:case 30:return We(R,6112,6121,!0,M);case 15:return ut(R,"",ce);case 16:return ut(R,"",ce);case 17:case 48:return Kt(R,"",Sr,"",ce,tr|at|Dt);case 47:return Kt(R,"",lr,"",ce,kt|tr|at|Dt);case 42:return Kt(R,"",Sr,"",ce,tr|at|Dt);case 41:return Kt(R,"",lr,"",ce,kt|tr|at|Dt);case 26:return Kt(R,"","",_r,ce,0);case 25:return Kt(R,"","",_r,ce,kt|tr|at);case 31:return Kt(R,"","",jr,Ee,kt|tr|at);case 33:return Kt(R,"","",jr,Ee,0);case 32:return Kt(R,"","",jr,Ee,kt|tr|at);case 18:return We(R,2406,2415,!0,M);case 20:return Oe(R,1,19999,Pe,3,M);case 21:return We(R,2790,2799,!0,M);case 22:return We(R,2662,2671,!0,M);case 22:return Oe(R,1,10999,Ie,3,M);case 23:return ut(R,"");case 24:return ut(R,"");case 27:return We(R,3302,3311,!0,M);case 28:return ut(R,"",ce);case 29:return ut(R,"",ce);case 34:return We(R,3792,3801,!0,M);case 37:return We(R,6160,6169,!0,M);case 38:return We(R,4160,4169,!0,M);case 39:return We(R,2918,2927,!0,M);case 40:return We(R,1776,1785,!0,M);case 43:return We(R,3046,3055,!0,M);case 44:return We(R,3174,3183,!0,M);case 45:return We(R,3664,3673,!0,M);case 46:return We(R,3872,3881,!0,M);default:return We(R,48,57,!0,M)}},Mr="data-html2canvas-ignore",ii=(function(){function R(N,F,M){if(this.context=N,this.options=M,this.scrolledElements=[],this.referenceElement=F,this.counters=new K,this.quoteDepth=0,!F.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(F.ownerDocument.documentElement,!1)}return R.prototype.toIFrame=function(N,F){var M=this,ce=as(N,F);if(!ce.contentWindow)return Promise.reject("Unable to find iframe window");var Ee=N.defaultView.pageXOffset,Le=N.defaultView.pageYOffset,rt=ce.contentWindow,nt=rt.document,It=il(ce).then(function(){return s(M,void 0,void 0,function(){var $t,Jt;return a(this,function(Tr){switch(Tr.label){case 0:return this.scrolledElements.forEach(Ji),rt&&(rt.scrollTo(F.left,F.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(rt.scrollY!==F.top||rt.scrollX!==F.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(rt.scrollX-F.left,rt.scrollY-F.top,0,0))),$t=this.options.onclone,Jt=this.clonedReferenceElement,typeof Jt>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:nt.fonts&&nt.fonts.ready?[4,nt.fonts.ready]:[3,2];case 1:Tr.sent(),Tr.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Ls(nt)]:[3,4];case 3:Tr.sent(),Tr.label=4;case 4:return typeof $t=="function"?[2,Promise.resolve().then(function(){return $t(nt,Jt)}).then(function(){return ce})]:[2,ce]}})})});return nt.open(),nt.write(pn(document.doctype)+"<html></html>"),Io(this.referenceElement.ownerDocument,Ee,Le),nt.replaceChild(nt.adoptNode(this.documentElement),nt.documentElement),nt.close(),It},R.prototype.createElementClone=function(N){if(li(N,2))debugger;if(bg(N))return this.createCanvasClone(N);if(wg(N))return this.createVideoClone(N);if(Oh(N))return this.createStyleClone(N);var F=N.cloneNode(!1);return Eg(F)&&(Eg(N)&&N.currentSrc&&N.currentSrc!==N.src&&(F.src=N.currentSrc,F.srcset=""),F.loading==="lazy"&&(F.loading="eager")),B(F)?this.createCustomElementClone(F):F},R.prototype.createCustomElementClone=function(N){var F=document.createElement("html2canvascustomelement");return zn(N.style,F),F},R.prototype.createStyleClone=function(N){try{var F=N.sheet;if(F&&F.cssRules){var M=[].slice.call(F.cssRules,0).reduce(function(Ee,Le){return Le&&typeof Le.cssText=="string"?Ee+Le.cssText:Ee},""),ce=N.cloneNode(!1);return ce.textContent=M,ce}}catch(Ee){if(this.context.logger.error("Unable to access cssRules property",Ee),Ee.name!=="SecurityError")throw Ee}return N.cloneNode(!1)},R.prototype.createCanvasClone=function(N){var F;if(this.options.inlineImages&&N.ownerDocument){var M=N.ownerDocument.createElement("img");try{return M.src=N.toDataURL(),M}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",N)}}var ce=N.cloneNode(!1);try{ce.width=N.width,ce.height=N.height;var Ee=N.getContext("2d"),Le=ce.getContext("2d");if(Le)if(!this.options.allowTaint&&Ee)Le.putImageData(Ee.getImageData(0,0,N.width,N.height),0,0);else{var rt=(F=N.getContext("webgl2"))!==null&&F!==void 0?F:N.getContext("webgl");if(rt){var nt=rt.getContextAttributes();nt?.preserveDrawingBuffer===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",N)}Le.drawImage(N,0,0)}return ce}catch{this.context.logger.info("Unable to clone canvas as it is tainted",N)}return ce},R.prototype.createVideoClone=function(N){var F=N.ownerDocument.createElement("canvas");F.width=N.offsetWidth,F.height=N.offsetHeight;var M=F.getContext("2d");try{return M&&(M.drawImage(N,0,0,F.width,F.height),this.options.allowTaint||M.getImageData(0,0,F.width,F.height)),F}catch{this.context.logger.info("Unable to clone video as it is tainted",N)}var ce=N.ownerDocument.createElement("canvas");return ce.width=N.offsetWidth,ce.height=N.offsetHeight,ce},R.prototype.appendChildNode=function(N,F,M){(!vh(F)||!np(F)&&!F.hasAttribute(Mr)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(F)))&&(!this.options.copyStyles||!vh(F)||!Oh(F))&&N.appendChild(this.cloneNode(F,M))},R.prototype.cloneChildNodes=function(N,F,M){for(var ce=this,Ee=N.shadowRoot?N.shadowRoot.firstChild:N.firstChild;Ee;Ee=Ee.nextSibling)if(vh(Ee)&&HA(Ee)&&typeof Ee.assignedNodes=="function"){var Le=Ee.assignedNodes();Le.length&&Le.forEach(function(rt){return ce.appendChildNode(F,rt,M)})}else this.appendChildNode(F,Ee,M)},R.prototype.cloneNode=function(N,F){if(gg(N))return document.createTextNode(N.data);if(!N.ownerDocument)return N.cloneNode(!1);var M=N.ownerDocument.defaultView;if(M&&vh(N)&&(vf(N)||yh(N))){var ce=this.createElementClone(N);ce.style.transitionProperty="none";var Ee=M.getComputedStyle(N),Le=M.getComputedStyle(N,":before"),rt=M.getComputedStyle(N,":after");this.referenceElement===N&&vf(ce)&&(this.clonedReferenceElement=ce),xg(ce)&&Vl(ce);var nt=this.counters.parse(new Fr(this.context,Ee)),It=this.resolvePseudoContent(N,ce,Le,Cn.BEFORE);B(N)&&(F=!0),wg(N)||this.cloneChildNodes(N,ce,F),It&&ce.insertBefore(It,ce.firstChild);var $t=this.resolvePseudoContent(N,ce,rt,Cn.AFTER);return $t&&ce.appendChild($t),this.counters.pop(nt),(Ee&&(this.options.copyStyles||yh(N))&&!H0(N)||F)&&zn(Ee,ce),(N.scrollTop!==0||N.scrollLeft!==0)&&this.scrolledElements.push([ce,N.scrollLeft,N.scrollTop]),(ip(N)||sp(N))&&(ip(ce)||sp(ce))&&(ce.value=N.value),ce}return N.cloneNode(!1)},R.prototype.resolvePseudoContent=function(N,F,M,ce){var Ee=this;if(M){var Le=M.content,rt=F.ownerDocument;if(!(!rt||!Le||Le==="none"||Le==="-moz-alt-content"||M.display==="none")){this.counters.parse(new Fr(this.context,M));var nt=new cn(this.context,M),It=rt.createElement("html2canvaspseudoelement");zn(M,It),nt.content.forEach(function(Jt){if(Jt.type===0)It.appendChild(rt.createTextNode(Jt.value));else if(Jt.type===22){var Tr=rt.createElement("img");Tr.src=Jt.value,Tr.style.opacity="1",It.appendChild(Tr)}else if(Jt.type===18){if(Jt.name==="attr"){var jn=Jt.values.filter(ln);jn.length&&It.appendChild(rt.createTextNode(N.getAttribute(jn[0].value)||""))}else if(Jt.name==="counter"){var nn=Jt.values.filter(ai),gn=nn[0],hi=nn[1];if(gn&&ln(gn)){var Hn=Ee.counters.getCounterValue(gn.value),Un=hi&&ln(hi)?Qd.parse(Ee.context,hi.value):3;It.appendChild(rt.createTextNode(Vr(Hn,Un,!1)))}}else if(Jt.name==="counters"){var _s=Jt.values.filter(ai),gn=_s[0],ms=_s[1],hi=_s[2];if(gn&&ln(gn)){var Fi=Ee.counters.getCounterValues(gn.value),In=hi&&ln(hi)?Qd.parse(Ee.context,hi.value):3,Rs=ms&&ms.type===0?ms.value:"",Gs=Fi.map(function(to){return Vr(to,In,!1)}).join(Rs);It.appendChild(rt.createTextNode(Gs))}}}else if(Jt.type===20)switch(Jt.value){case"open-quote":It.appendChild(rt.createTextNode(ir(nt.quotes,Ee.quoteDepth++,!0)));break;case"close-quote":It.appendChild(rt.createTextNode(ir(nt.quotes,--Ee.quoteDepth,!1)));break;default:It.appendChild(rt.createTextNode(Jt.value))}}),It.className=El+" "+Ql;var $t=ce===Cn.BEFORE?" "+El:" "+Ql;return yh(F)?F.className.baseValue+=$t:F.className+=$t,It}}},R.destroy=function(N){return N.parentNode?(N.parentNode.removeChild(N),!0):!1},R})(),Cn;(function(R){R[R.BEFORE=0]="BEFORE",R[R.AFTER=1]="AFTER"})(Cn||(Cn={}));var as=function(R,N){var F=R.createElement("iframe");return F.className="html2canvas-container",F.style.visibility="hidden",F.style.position="fixed",F.style.left="-10000px",F.style.top="0px",F.style.border="0",F.width=N.width.toString(),F.height=N.height.toString(),F.scrolling="no",F.setAttribute(Mr,"true"),R.body.appendChild(F),F},Zn=function(R){return new Promise(function(N){if(R.complete){N();return}if(!R.src){N();return}R.onload=N,R.onerror=N})},Ls=function(R){return Promise.all([].slice.call(R.images,0).map(Zn))},il=function(R){return new Promise(function(N,F){var M=R.contentWindow;if(!M)return F("No window assigned for iframe");var ce=M.document;M.onload=R.onload=function(){M.onload=R.onload=null;var Ee=setInterval(function(){ce.body.childNodes.length>0&&ce.readyState==="complete"&&(clearInterval(Ee),N(R))},50)}})},Zi=["all","d","content"],zn=function(R,N){for(var F=R.length-1;F>=0;F--){var M=R.item(F);Zi.indexOf(M)===-1&&N.style.setProperty(M,R.getPropertyValue(M))}return N},pn=function(R){var N="";return R&&(N+="<!DOCTYPE ",R.name&&(N+=R.name),R.internalSubset&&(N+=R.internalSubset),R.publicId&&(N+='"'+R.publicId+'"'),R.systemId&&(N+='"'+R.systemId+'"'),N+=">"),N},Io=function(R,N,F){R&&R.defaultView&&(N!==R.defaultView.pageXOffset||F!==R.defaultView.pageYOffset)&&R.defaultView.scrollTo(N,F)},Ji=function(R){var N=R[0],F=R[1],M=R[2];N.scrollLeft=F,N.scrollTop=M},us=":before",Da=":after",El="___html2canvas___pseudoelement_before",Ql="___html2canvas___pseudoelement_after",ua=`{
    content: "" !important;
    display: none !important;
}`,Vl=function(R){Lc(R,"."+El+us+ua+`
         .`+Ql+Da+ua)},Lc=function(R,N){var F=R.ownerDocument;if(F){var M=F.createElement("style");M.textContent=N,R.appendChild(M)}},ko=(function(){function R(){}return R.getOrigin=function(N){var F=R._link;return F?(F.href=N,F.href=F.href,F.protocol+F.hostname+F.port):"about:blank"},R.isSameOrigin=function(N){return R.getOrigin(N)===R._origin},R.setContext=function(N){R._link=N.document.createElement("a"),R._origin=R.getOrigin(N.location.href)},R._origin="about:blank",R})(),ks=(function(){function R(N,F){this.context=N,this._options=F,this._cache={}}return R.prototype.addImage=function(N){var F=Promise.resolve();return this.has(N)||(vc(N)||Kl(N))&&(this._cache[N]=this.loadImage(N)).catch(function(){}),F},R.prototype.match=function(N){return this._cache[N]},R.prototype.loadImage=function(N){return s(this,void 0,void 0,function(){var F,M,ce,Ee,Le=this;return a(this,function(rt){switch(rt.label){case 0:return F=ko.isSameOrigin(N),M=!gc(N)&&this._options.useCORS===!0&&nl.SUPPORT_CORS_IMAGES&&!F,ce=!gc(N)&&!F&&!vc(N)&&typeof this._options.proxy=="string"&&nl.SUPPORT_CORS_XHR&&!M,!F&&this._options.allowTaint===!1&&!gc(N)&&!vc(N)&&!ce&&!M?[2]:(Ee=N,ce?[4,this.proxy(Ee)]:[3,2]);case 1:Ee=rt.sent(),rt.label=2;case 2:return this.context.logger.debug("Added image "+N.substring(0,256)),[4,new Promise(function(nt,It){var $t=new Image;$t.onload=function(){return nt($t)},$t.onerror=It,(_a(Ee)||M)&&($t.crossOrigin="anonymous"),$t.src=Ee,$t.complete===!0&&setTimeout(function(){return nt($t)},500),Le._options.imageTimeout>0&&setTimeout(function(){return It("Timed out ("+Le._options.imageTimeout+"ms) loading image")},Le._options.imageTimeout)})];case 3:return[2,rt.sent()]}})})},R.prototype.has=function(N){return typeof this._cache[N]<"u"},R.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},R.prototype.proxy=function(N){var F=this,M=this._options.proxy;if(!M)throw new Error("No proxy defined");var ce=N.substring(0,256);return new Promise(function(Ee,Le){var rt=nl.SUPPORT_RESPONSE_TYPE?"blob":"text",nt=new XMLHttpRequest;nt.onload=function(){if(nt.status===200)if(rt==="text")Ee(nt.response);else{var Jt=new FileReader;Jt.addEventListener("load",function(){return Ee(Jt.result)},!1),Jt.addEventListener("error",function(Tr){return Le(Tr)},!1),Jt.readAsDataURL(nt.response)}else Le("Failed to proxy resource "+ce+" with status code "+nt.status)},nt.onerror=Le;var It=M.indexOf("?")>-1?"&":"?";if(nt.open("GET",""+M+It+"url="+encodeURIComponent(N)+"&responseType="+rt),rt!=="text"&&nt instanceof XMLHttpRequest&&(nt.responseType=rt),F._options.imageTimeout){var $t=F._options.imageTimeout;nt.timeout=$t,nt.ontimeout=function(){return Le("Timed out ("+$t+"ms) proxying "+ce)}}nt.send()})},R})(),Ei=/^data:image\/svg\+xml/i,Go=/^data:image\/.*;base64,/i,xa=/^data:image\/.*/i,Kl=function(R){return nl.SUPPORT_SVG_DRAWING||!Ta(R)},gc=function(R){return xa.test(R)},_a=function(R){return Go.test(R)},vc=function(R){return R.substr(0,4)==="blob"},Ta=function(R){return R.substr(-3).toLowerCase()==="svg"||Ei.test(R)},Zr=(function(){function R(N,F){this.type=0,this.x=N,this.y=F}return R.prototype.add=function(N,F){return new R(this.x+N,this.y+F)},R})(),Ma=function(R,N,F){return new Zr(R.x+(N.x-R.x)*F,R.y+(N.y-R.y)*F)},Sl=(function(){function R(N,F,M,ce){this.type=1,this.start=N,this.startControl=F,this.endControl=M,this.end=ce}return R.prototype.subdivide=function(N,F){var M=Ma(this.start,this.startControl,N),ce=Ma(this.startControl,this.endControl,N),Ee=Ma(this.endControl,this.end,N),Le=Ma(M,ce,N),rt=Ma(ce,Ee,N),nt=Ma(Le,rt,N);return F?new R(this.start,M,Le,nt):new R(nt,rt,Ee,this.end)},R.prototype.add=function(N,F){return new R(this.start.add(N,F),this.startControl.add(N,F),this.endControl.add(N,F),this.end.add(N,F))},R.prototype.reverse=function(){return new R(this.end,this.endControl,this.startControl,this.start)},R})(),Qa=function(R){return R.type===1},ku=(function(){function R(N){var F=N.styles,M=N.bounds,ce=Gn(F.borderTopLeftRadius,M.width,M.height),Ee=ce[0],Le=ce[1],rt=Gn(F.borderTopRightRadius,M.width,M.height),nt=rt[0],It=rt[1],$t=Gn(F.borderBottomRightRadius,M.width,M.height),Jt=$t[0],Tr=$t[1],jn=Gn(F.borderBottomLeftRadius,M.width,M.height),nn=jn[0],gn=jn[1],hi=[];hi.push((Ee+nt)/M.width),hi.push((nn+Jt)/M.width),hi.push((Le+gn)/M.height),hi.push((It+Tr)/M.height);var Hn=Math.max.apply(Math,hi);Hn>1&&(Ee/=Hn,Le/=Hn,nt/=Hn,It/=Hn,Jt/=Hn,Tr/=Hn,nn/=Hn,gn/=Hn);var Un=M.width-nt,_s=M.height-Tr,ms=M.width-Jt,Fi=M.height-gn,In=F.borderTopWidth,Rs=F.borderRightWidth,Gs=F.borderBottomWidth,pi=F.borderLeftWidth,_l=Bi(F.paddingTop,N.bounds.width),to=Bi(F.paddingRight,N.bounds.width),jd=Bi(F.paddingBottom,N.bounds.width),Fa=Bi(F.paddingLeft,N.bounds.width);this.topLeftBorderDoubleOuterBox=Ee>0||Le>0?Ss(M.left+pi/3,M.top+In/3,Ee-pi/3,Le-In/3,Yi.TOP_LEFT):new Zr(M.left+pi/3,M.top+In/3),this.topRightBorderDoubleOuterBox=Ee>0||Le>0?Ss(M.left+Un,M.top+In/3,nt-Rs/3,It-In/3,Yi.TOP_RIGHT):new Zr(M.left+M.width-Rs/3,M.top+In/3),this.bottomRightBorderDoubleOuterBox=Jt>0||Tr>0?Ss(M.left+ms,M.top+_s,Jt-Rs/3,Tr-Gs/3,Yi.BOTTOM_RIGHT):new Zr(M.left+M.width-Rs/3,M.top+M.height-Gs/3),this.bottomLeftBorderDoubleOuterBox=nn>0||gn>0?Ss(M.left+pi/3,M.top+Fi,nn-pi/3,gn-Gs/3,Yi.BOTTOM_LEFT):new Zr(M.left+pi/3,M.top+M.height-Gs/3),this.topLeftBorderDoubleInnerBox=Ee>0||Le>0?Ss(M.left+pi*2/3,M.top+In*2/3,Ee-pi*2/3,Le-In*2/3,Yi.TOP_LEFT):new Zr(M.left+pi*2/3,M.top+In*2/3),this.topRightBorderDoubleInnerBox=Ee>0||Le>0?Ss(M.left+Un,M.top+In*2/3,nt-Rs*2/3,It-In*2/3,Yi.TOP_RIGHT):new Zr(M.left+M.width-Rs*2/3,M.top+In*2/3),this.bottomRightBorderDoubleInnerBox=Jt>0||Tr>0?Ss(M.left+ms,M.top+_s,Jt-Rs*2/3,Tr-Gs*2/3,Yi.BOTTOM_RIGHT):new Zr(M.left+M.width-Rs*2/3,M.top+M.height-Gs*2/3),this.bottomLeftBorderDoubleInnerBox=nn>0||gn>0?Ss(M.left+pi*2/3,M.top+Fi,nn-pi*2/3,gn-Gs*2/3,Yi.BOTTOM_LEFT):new Zr(M.left+pi*2/3,M.top+M.height-Gs*2/3),this.topLeftBorderStroke=Ee>0||Le>0?Ss(M.left+pi/2,M.top+In/2,Ee-pi/2,Le-In/2,Yi.TOP_LEFT):new Zr(M.left+pi/2,M.top+In/2),this.topRightBorderStroke=Ee>0||Le>0?Ss(M.left+Un,M.top+In/2,nt-Rs/2,It-In/2,Yi.TOP_RIGHT):new Zr(M.left+M.width-Rs/2,M.top+In/2),this.bottomRightBorderStroke=Jt>0||Tr>0?Ss(M.left+ms,M.top+_s,Jt-Rs/2,Tr-Gs/2,Yi.BOTTOM_RIGHT):new Zr(M.left+M.width-Rs/2,M.top+M.height-Gs/2),this.bottomLeftBorderStroke=nn>0||gn>0?Ss(M.left+pi/2,M.top+Fi,nn-pi/2,gn-Gs/2,Yi.BOTTOM_LEFT):new Zr(M.left+pi/2,M.top+M.height-Gs/2),this.topLeftBorderBox=Ee>0||Le>0?Ss(M.left,M.top,Ee,Le,Yi.TOP_LEFT):new Zr(M.left,M.top),this.topRightBorderBox=nt>0||It>0?Ss(M.left+Un,M.top,nt,It,Yi.TOP_RIGHT):new Zr(M.left+M.width,M.top),this.bottomRightBorderBox=Jt>0||Tr>0?Ss(M.left+ms,M.top+_s,Jt,Tr,Yi.BOTTOM_RIGHT):new Zr(M.left+M.width,M.top+M.height),this.bottomLeftBorderBox=nn>0||gn>0?Ss(M.left,M.top+Fi,nn,gn,Yi.BOTTOM_LEFT):new Zr(M.left,M.top+M.height),this.topLeftPaddingBox=Ee>0||Le>0?Ss(M.left+pi,M.top+In,Math.max(0,Ee-pi),Math.max(0,Le-In),Yi.TOP_LEFT):new Zr(M.left+pi,M.top+In),this.topRightPaddingBox=nt>0||It>0?Ss(M.left+Math.min(Un,M.width-Rs),M.top+In,Un>M.width+Rs?0:Math.max(0,nt-Rs),Math.max(0,It-In),Yi.TOP_RIGHT):new Zr(M.left+M.width-Rs,M.top+In),this.bottomRightPaddingBox=Jt>0||Tr>0?Ss(M.left+Math.min(ms,M.width-pi),M.top+Math.min(_s,M.height-Gs),Math.max(0,Jt-Rs),Math.max(0,Tr-Gs),Yi.BOTTOM_RIGHT):new Zr(M.left+M.width-Rs,M.top+M.height-Gs),this.bottomLeftPaddingBox=nn>0||gn>0?Ss(M.left+pi,M.top+Math.min(Fi,M.height-Gs),Math.max(0,nn-pi),Math.max(0,gn-Gs),Yi.BOTTOM_LEFT):new Zr(M.left+pi,M.top+M.height-Gs),this.topLeftContentBox=Ee>0||Le>0?Ss(M.left+pi+Fa,M.top+In+_l,Math.max(0,Ee-(pi+Fa)),Math.max(0,Le-(In+_l)),Yi.TOP_LEFT):new Zr(M.left+pi+Fa,M.top+In+_l),this.topRightContentBox=nt>0||It>0?Ss(M.left+Math.min(Un,M.width+pi+Fa),M.top+In+_l,Un>M.width+pi+Fa?0:nt-pi+Fa,It-(In+_l),Yi.TOP_RIGHT):new Zr(M.left+M.width-(Rs+to),M.top+In+_l),this.bottomRightContentBox=Jt>0||Tr>0?Ss(M.left+Math.min(ms,M.width-(pi+Fa)),M.top+Math.min(_s,M.height+In+_l),Math.max(0,Jt-(Rs+to)),Tr-(Gs+jd),Yi.BOTTOM_RIGHT):new Zr(M.left+M.width-(Rs+to),M.top+M.height-(Gs+jd)),this.bottomLeftContentBox=nn>0||gn>0?Ss(M.left+pi+Fa,M.top+Fi,Math.max(0,nn-(pi+Fa)),gn-(Gs+jd),Yi.BOTTOM_LEFT):new Zr(M.left+pi+Fa,M.top+M.height-(Gs+jd))}return R})(),Yi;(function(R){R[R.TOP_LEFT=0]="TOP_LEFT",R[R.TOP_RIGHT=1]="TOP_RIGHT",R[R.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",R[R.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Yi||(Yi={}));var Ss=function(R,N,F,M,ce){var Ee=4*((Math.sqrt(2)-1)/3),Le=F*Ee,rt=M*Ee,nt=R+F,It=N+M;switch(ce){case Yi.TOP_LEFT:return new Sl(new Zr(R,It),new Zr(R,It-rt),new Zr(nt-Le,N),new Zr(nt,N));case Yi.TOP_RIGHT:return new Sl(new Zr(R,N),new Zr(R+Le,N),new Zr(nt,It-rt),new Zr(nt,It));case Yi.BOTTOM_RIGHT:return new Sl(new Zr(nt,N),new Zr(nt,N+rt),new Zr(R+Le,It),new Zr(R,It));case Yi.BOTTOM_LEFT:default:return new Sl(new Zr(nt,It),new Zr(nt-Le,It),new Zr(R,N+rt),new Zr(R,N))}},ea=function(R){return[R.topLeftBorderBox,R.topRightBorderBox,R.bottomRightBorderBox,R.bottomLeftBorderBox]},Bu=function(R){return[R.topLeftContentBox,R.topRightContentBox,R.bottomRightContentBox,R.bottomLeftContentBox]},zo=function(R){return[R.topLeftPaddingBox,R.topRightPaddingBox,R.bottomRightPaddingBox,R.bottomLeftPaddingBox]},Va=(function(){function R(N,F,M){this.offsetX=N,this.offsetY=F,this.matrix=M,this.type=0,this.target=6}return R})(),Lu=(function(){function R(N,F){this.path=N,this.target=F,this.type=1}return R})(),Gl=(function(){function R(N){this.opacity=N,this.type=2,this.target=6}return R})(),sl=function(R){return R.type===0},Sg=function(R){return R.type===1},ap=function(R){return R.type===2},rA=function(R,N){return R.length===N.length?R.some(function(F,M){return F===N[M]}):!1},mo=function(R,N,F,M,ce){return R.map(function(Ee,Le){switch(Le){case 0:return Ee.add(N,F);case 1:return Ee.add(N+M,F);case 2:return Ee.add(N+M,F+ce);case 3:return Ee.add(N,F+ce)}return Ee})},eu=(function(){function R(N){this.element=N,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return R})(),_d=(function(){function R(N,F){if(this.container=N,this.parent=F,this.effects=[],this.curves=new ku(this.container),this.container.styles.opacity<1&&this.effects.push(new Gl(this.container.styles.opacity)),this.container.styles.transform!==null){var M=this.container.bounds.left+this.container.styles.transformOrigin[0].number,ce=this.container.bounds.top+this.container.styles.transformOrigin[1].number,Ee=this.container.styles.transform;this.effects.push(new Va(M,ce,Ee))}if(this.container.styles.overflowX!==0){var Le=ea(this.curves),rt=zo(this.curves);rA(Le,rt)?this.effects.push(new Lu(Le,6)):(this.effects.push(new Lu(Le,2)),this.effects.push(new Lu(rt,4)))}}return R.prototype.getEffects=function(N){for(var F=[2,3].indexOf(this.container.styles.position)===-1,M=this.parent,ce=this.effects.slice(0);M;){var Ee=M.effects.filter(function(nt){return!Sg(nt)});if(F||M.container.styles.position!==0||!M.parent){if(ce.unshift.apply(ce,Ee),F=[2,3].indexOf(M.container.styles.position)===-1,M.container.styles.overflowX!==0){var Le=ea(M.curves),rt=zo(M.curves);rA(Le,rt)||ce.unshift(new Lu(rt,6))}}else ce.unshift.apply(ce,Ee);M=M.parent}return ce.filter(function(nt){return k(nt.target,N)})},R})(),qd=function(R,N,F,M){R.container.elements.forEach(function(ce){var Ee=k(ce.flags,4),Le=k(ce.flags,2),rt=new _d(ce,R);k(ce.styles.display,2048)&&M.push(rt);var nt=k(ce.flags,8)?[]:M;if(Ee||Le){var It=Ee||ce.styles.isPositioned()?F:N,$t=new eu(rt);if(ce.styles.isPositioned()||ce.styles.opacity<1||ce.styles.isTransformed()){var Jt=ce.styles.zIndex.order;if(Jt<0){var Tr=0;It.negativeZIndex.some(function(nn,gn){return Jt>nn.element.container.styles.zIndex.order?(Tr=gn,!1):Tr>0}),It.negativeZIndex.splice(Tr,0,$t)}else if(Jt>0){var jn=0;It.positiveZIndex.some(function(nn,gn){return Jt>=nn.element.container.styles.zIndex.order?(jn=gn+1,!1):jn>0}),It.positiveZIndex.splice(jn,0,$t)}else It.zeroOrAutoZIndexOrTransformedOrOpacity.push($t)}else ce.styles.isFloating()?It.nonPositionedFloats.push($t):It.nonPositionedInlineLevel.push($t);qd(rt,$t,Ee?$t:F,nt)}else ce.styles.isInlineLevel()?N.inlineLevel.push(rt):N.nonInlineLevel.push(rt),qd(rt,N,F,nt);k(ce.flags,8)&&Q0(ce,nt)})},Q0=function(R,N){for(var F=R instanceof mg?R.start:1,M=R instanceof mg?R.reversed:!1,ce=0;ce<N.length;ce++){var Ee=N[ce];Ee.container instanceof tA&&typeof Ee.container.value=="number"&&Ee.container.value!==0&&(F=Ee.container.value),Ee.listValue=Vr(F,Ee.container.styles.listStyleType,!0),F+=M?-1:1}},Ty=function(R){var N=new _d(R,null),F=new eu(N),M=[];return qd(N,F,F,M),Q0(N.container,M),F},Cy=function(R,N){switch(N){case 0:return Ca(R.topLeftBorderBox,R.topLeftPaddingBox,R.topRightBorderBox,R.topRightPaddingBox);case 1:return Ca(R.topRightBorderBox,R.topRightPaddingBox,R.bottomRightBorderBox,R.bottomRightPaddingBox);case 2:return Ca(R.bottomRightBorderBox,R.bottomRightPaddingBox,R.bottomLeftBorderBox,R.bottomLeftPaddingBox);default:return Ca(R.bottomLeftBorderBox,R.bottomLeftPaddingBox,R.topLeftBorderBox,R.topLeftPaddingBox)}},op=function(R,N){switch(N){case 0:return Ca(R.topLeftBorderBox,R.topLeftBorderDoubleOuterBox,R.topRightBorderBox,R.topRightBorderDoubleOuterBox);case 1:return Ca(R.topRightBorderBox,R.topRightBorderDoubleOuterBox,R.bottomRightBorderBox,R.bottomRightBorderDoubleOuterBox);case 2:return Ca(R.bottomRightBorderBox,R.bottomRightBorderDoubleOuterBox,R.bottomLeftBorderBox,R.bottomLeftBorderDoubleOuterBox);default:return Ca(R.bottomLeftBorderBox,R.bottomLeftBorderDoubleOuterBox,R.topLeftBorderBox,R.topLeftBorderDoubleOuterBox)}},yc=function(R,N){switch(N){case 0:return Ca(R.topLeftBorderDoubleInnerBox,R.topLeftPaddingBox,R.topRightBorderDoubleInnerBox,R.topRightPaddingBox);case 1:return Ca(R.topRightBorderDoubleInnerBox,R.topRightPaddingBox,R.bottomRightBorderDoubleInnerBox,R.bottomRightPaddingBox);case 2:return Ca(R.bottomRightBorderDoubleInnerBox,R.bottomRightPaddingBox,R.bottomLeftBorderDoubleInnerBox,R.bottomLeftPaddingBox);default:return Ca(R.bottomLeftBorderDoubleInnerBox,R.bottomLeftPaddingBox,R.topLeftBorderDoubleInnerBox,R.topLeftPaddingBox)}},Td=function(R,N){switch(N){case 0:return QA(R.topLeftBorderStroke,R.topRightBorderStroke);case 1:return QA(R.topRightBorderStroke,R.bottomRightBorderStroke);case 2:return QA(R.bottomRightBorderStroke,R.bottomLeftBorderStroke);default:return QA(R.bottomLeftBorderStroke,R.topLeftBorderStroke)}},QA=function(R,N){var F=[];return Qa(R)?F.push(R.subdivide(.5,!1)):F.push(R),Qa(N)?F.push(N.subdivide(.5,!0)):F.push(N),F},Ca=function(R,N,F,M){var ce=[];return Qa(R)?ce.push(R.subdivide(.5,!1)):ce.push(R),Qa(F)?ce.push(F.subdivide(.5,!0)):ce.push(F),Qa(M)?ce.push(M.subdivide(.5,!0).reverse()):ce.push(M),Qa(N)?ce.push(N.subdivide(.5,!1).reverse()):ce.push(N),ce},lp=function(R){var N=R.bounds,F=R.styles;return N.add(F.borderLeftWidth,F.borderTopWidth,-(F.borderRightWidth+F.borderLeftWidth),-(F.borderTopWidth+F.borderBottomWidth))},Rc=function(R){var N=R.styles,F=R.bounds,M=Bi(N.paddingLeft,F.width),ce=Bi(N.paddingRight,F.width),Ee=Bi(N.paddingTop,F.width),Le=Bi(N.paddingBottom,F.width);return F.add(M+N.borderLeftWidth,Ee+N.borderTopWidth,-(N.borderRightWidth+N.borderLeftWidth+M+ce),-(N.borderTopWidth+N.borderBottomWidth+Ee+Le))},yf=function(R,N){return R===0?N.bounds:R===2?Rc(N):lp(N)},Ph=function(R,N){return R===0?N.bounds:R===2?Rc(N):lp(N)},xf=function(R,N,F){var M=yf(Cd(R.styles.backgroundOrigin,N),R),ce=Ph(Cd(R.styles.backgroundClip,N),R),Ee=Mh(Cd(R.styles.backgroundSize,N),F,M),Le=Ee[0],rt=Ee[1],nt=Gn(Cd(R.styles.backgroundPosition,N),M.width-Le,M.height-rt),It=VA(Cd(R.styles.backgroundRepeat,N),nt,Ee,M,ce),$t=Math.round(M.left+nt[0]),Jt=Math.round(M.top+nt[1]);return[It,$t,Jt,Le,rt]},Dh=function(R){return ln(R)&&R.value===Ti.AUTO},Oc=function(R){return typeof R=="number"},Mh=function(R,N,F){var M=N[0],ce=N[1],Ee=N[2],Le=R[0],rt=R[1];if(!Le)return[0,0];if(Bn(Le)&&rt&&Bn(rt))return[Bi(Le,F.width),Bi(rt,F.height)];var nt=Oc(Ee);if(ln(Le)&&(Le.value===Ti.CONTAIN||Le.value===Ti.COVER)){if(Oc(Ee)){var It=F.width/F.height;return It<Ee!=(Le.value===Ti.COVER)?[F.width,F.width/Ee]:[F.height*Ee,F.height]}return[F.width,F.height]}var $t=Oc(M),Jt=Oc(ce),Tr=$t||Jt;if(Dh(Le)&&(!rt||Dh(rt))){if($t&&Jt)return[M,ce];if(!nt&&!Tr)return[F.width,F.height];if(Tr&&nt){var jn=$t?M:ce*Ee,nn=Jt?ce:M/Ee;return[jn,nn]}var gn=$t?M:F.width,hi=Jt?ce:F.height;return[gn,hi]}if(nt){var Hn=0,Un=0;return Bn(Le)?Hn=Bi(Le,F.width):Bn(rt)&&(Un=Bi(rt,F.height)),Dh(Le)?Hn=Un*Ee:(!rt||Dh(rt))&&(Un=Hn/Ee),[Hn,Un]}var _s=null,ms=null;if(Bn(Le)?_s=Bi(Le,F.width):rt&&Bn(rt)&&(ms=Bi(rt,F.height)),_s!==null&&(!rt||Dh(rt))&&(ms=$t&&Jt?_s/M*ce:F.height),ms!==null&&Dh(Le)&&(_s=$t&&Jt?ms/ce*M:F.width),_s!==null&&ms!==null)return[_s,ms];throw new Error("Unable to calculate background-size for element")},Cd=function(R,N){var F=R[N];return typeof F>"u"?R[0]:F},VA=function(R,N,F,M,ce){var Ee=N[0],Le=N[1],rt=F[0],nt=F[1];switch(R){case 2:return[new Zr(Math.round(M.left),Math.round(M.top+Le)),new Zr(Math.round(M.left+M.width),Math.round(M.top+Le)),new Zr(Math.round(M.left+M.width),Math.round(nt+M.top+Le)),new Zr(Math.round(M.left),Math.round(nt+M.top+Le))];case 3:return[new Zr(Math.round(M.left+Ee),Math.round(M.top)),new Zr(Math.round(M.left+Ee+rt),Math.round(M.top)),new Zr(Math.round(M.left+Ee+rt),Math.round(M.height+M.top)),new Zr(Math.round(M.left+Ee),Math.round(M.height+M.top))];case 1:return[new Zr(Math.round(M.left+Ee),Math.round(M.top+Le)),new Zr(Math.round(M.left+Ee+rt),Math.round(M.top+Le)),new Zr(Math.round(M.left+Ee+rt),Math.round(M.top+Le+nt)),new Zr(Math.round(M.left+Ee),Math.round(M.top+Le+nt))];default:return[new Zr(Math.round(ce.left),Math.round(ce.top)),new Zr(Math.round(ce.left+ce.width),Math.round(ce.top)),new Zr(Math.round(ce.left+ce.width),Math.round(ce.height+ce.top)),new Zr(Math.round(ce.left),Math.round(ce.height+ce.top))]}},cp="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",bf="Hidden Text",nA=(function(){function R(N){this._data={},this._document=N}return R.prototype.parseMetrics=function(N,F){var M=this._document.createElement("div"),ce=this._document.createElement("img"),Ee=this._document.createElement("span"),Le=this._document.body;M.style.visibility="hidden",M.style.fontFamily=N,M.style.fontSize=F,M.style.margin="0",M.style.padding="0",M.style.whiteSpace="nowrap",Le.appendChild(M),ce.src=cp,ce.width=1,ce.height=1,ce.style.margin="0",ce.style.padding="0",ce.style.verticalAlign="baseline",Ee.style.fontFamily=N,Ee.style.fontSize=F,Ee.style.margin="0",Ee.style.padding="0",Ee.appendChild(this._document.createTextNode(bf)),M.appendChild(Ee),M.appendChild(ce);var rt=ce.offsetTop-Ee.offsetTop+2;M.removeChild(Ee),M.appendChild(this._document.createTextNode(bf)),M.style.lineHeight="normal",ce.style.verticalAlign="super";var nt=ce.offsetTop-M.offsetTop+2;return Le.removeChild(M),{baseline:rt,middle:nt}},R.prototype.getMetrics=function(N,F){var M=N+" "+F;return typeof this._data[M]>"u"&&(this._data[M]=this.parseMetrics(N,F)),this._data[M]},R})(),V0=(function(){function R(N,F){this.context=N,this.options=F}return R})(),KA=1e4,jy=(function(R){n(N,R);function N(F,M){var ce=R.call(this,F,M)||this;return ce._activeEffects=[],ce.canvas=M.canvas?M.canvas:document.createElement("canvas"),ce.ctx=ce.canvas.getContext("2d"),M.canvas||(ce.canvas.width=Math.floor(M.width*M.scale),ce.canvas.height=Math.floor(M.height*M.scale),ce.canvas.style.width=M.width+"px",ce.canvas.style.height=M.height+"px"),ce.fontMetrics=new nA(document),ce.ctx.scale(ce.options.scale,ce.options.scale),ce.ctx.translate(-M.x,-M.y),ce.ctx.textBaseline="bottom",ce._activeEffects=[],ce.context.logger.debug("Canvas renderer initialized ("+M.width+"x"+M.height+") with scale "+M.scale),ce}return N.prototype.applyEffects=function(F){for(var M=this;this._activeEffects.length;)this.popEffect();F.forEach(function(ce){return M.applyEffect(ce)})},N.prototype.applyEffect=function(F){this.ctx.save(),ap(F)&&(this.ctx.globalAlpha=F.opacity),sl(F)&&(this.ctx.translate(F.offsetX,F.offsetY),this.ctx.transform(F.matrix[0],F.matrix[1],F.matrix[2],F.matrix[3],F.matrix[4],F.matrix[5]),this.ctx.translate(-F.offsetX,-F.offsetY)),Sg(F)&&(this.path(F.path),this.ctx.clip()),this._activeEffects.push(F)},N.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},N.prototype.renderStack=function(F){return s(this,void 0,void 0,function(){var M;return a(this,function(ce){switch(ce.label){case 0:return M=F.element.container.styles,M.isVisible()?[4,this.renderStackContent(F)]:[3,2];case 1:ce.sent(),ce.label=2;case 2:return[2]}})})},N.prototype.renderNode=function(F){return s(this,void 0,void 0,function(){return a(this,function(M){switch(M.label){case 0:if(k(F.container.flags,16))debugger;return F.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(F)]:[3,3];case 1:return M.sent(),[4,this.renderNodeContent(F)];case 2:M.sent(),M.label=3;case 3:return[2]}})})},N.prototype.renderTextWithLetterSpacing=function(F,M,ce){var Ee=this;if(M===0)this.ctx.fillText(F.text,F.bounds.left,F.bounds.top+ce);else{var Le=eA(F.text);Le.reduce(function(rt,nt){return Ee.ctx.fillText(nt,rt,F.bounds.top+ce),rt+Ee.ctx.measureText(nt).width},F.bounds.left)}},N.prototype.createFontStyle=function(F){var M=F.fontVariant.filter(function(Le){return Le==="normal"||Le==="small-caps"}).join(""),ce=Ks(F.fontFamily).join(", "),Ee=An(F.fontSize)?""+F.fontSize.number+F.fontSize.unit:F.fontSize.number+"px";return[[F.fontStyle,M,F.fontWeight,Ee,ce].join(" "),ce,Ee]},N.prototype.renderTextNode=function(F,M){return s(this,void 0,void 0,function(){var ce,Ee,Le,rt,nt,It,$t,Jt,Tr=this;return a(this,function(jn){return ce=this.createFontStyle(M),Ee=ce[0],Le=ce[1],rt=ce[2],this.ctx.font=Ee,this.ctx.direction=M.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",nt=this.fontMetrics.getMetrics(Le,rt),It=nt.baseline,$t=nt.middle,Jt=M.paintOrder,F.textBounds.forEach(function(nn){Jt.forEach(function(gn){switch(gn){case 0:Tr.ctx.fillStyle=fn(M.color),Tr.renderTextWithLetterSpacing(nn,M.letterSpacing,It);var hi=M.textShadow;hi.length&&nn.text.trim().length&&(hi.slice(0).reverse().forEach(function(Hn){Tr.ctx.shadowColor=fn(Hn.color),Tr.ctx.shadowOffsetX=Hn.offsetX.number*Tr.options.scale,Tr.ctx.shadowOffsetY=Hn.offsetY.number*Tr.options.scale,Tr.ctx.shadowBlur=Hn.blur.number,Tr.renderTextWithLetterSpacing(nn,M.letterSpacing,It)}),Tr.ctx.shadowColor="",Tr.ctx.shadowOffsetX=0,Tr.ctx.shadowOffsetY=0,Tr.ctx.shadowBlur=0),M.textDecorationLine.length&&(Tr.ctx.fillStyle=fn(M.textDecorationColor||M.color),M.textDecorationLine.forEach(function(Hn){switch(Hn){case 1:Tr.ctx.fillRect(nn.bounds.left,Math.round(nn.bounds.top+It),nn.bounds.width,1);break;case 2:Tr.ctx.fillRect(nn.bounds.left,Math.round(nn.bounds.top),nn.bounds.width,1);break;case 3:Tr.ctx.fillRect(nn.bounds.left,Math.ceil(nn.bounds.top+$t),nn.bounds.width,1);break}}));break;case 1:M.webkitTextStrokeWidth&&nn.text.trim().length&&(Tr.ctx.strokeStyle=fn(M.webkitTextStrokeColor),Tr.ctx.lineWidth=M.webkitTextStrokeWidth,Tr.ctx.lineJoin=window.chrome?"miter":"round",Tr.ctx.strokeText(nn.text,nn.bounds.left,nn.bounds.top+It)),Tr.ctx.strokeStyle="",Tr.ctx.lineWidth=0,Tr.ctx.lineJoin="miter";break}})}),[2]})})},N.prototype.renderReplacedElement=function(F,M,ce){if(ce&&F.intrinsicWidth>0&&F.intrinsicHeight>0){var Ee=Rc(F),Le=zo(M);this.path(Le),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(ce,0,0,F.intrinsicWidth,F.intrinsicHeight,Ee.left,Ee.top,Ee.width,Ee.height),this.ctx.restore()}},N.prototype.renderNodeContent=function(F){return s(this,void 0,void 0,function(){var M,ce,Ee,Le,rt,nt,Un,Un,It,$t,Jt,Tr,ms,jn,nn,Fi,gn,hi,Hn,Un,_s,ms,Fi;return a(this,function(In){switch(In.label){case 0:this.applyEffects(F.getEffects(4)),M=F.container,ce=F.curves,Ee=M.styles,Le=0,rt=M.textNodes,In.label=1;case 1:return Le<rt.length?(nt=rt[Le],[4,this.renderTextNode(nt,Ee)]):[3,4];case 2:In.sent(),In.label=3;case 3:return Le++,[3,1];case 4:if(!(M instanceof D0))return[3,8];In.label=5;case 5:return In.trys.push([5,7,,8]),[4,this.context.cache.match(M.src)];case 6:return Un=In.sent(),this.renderReplacedElement(M,ce,Un),[3,8];case 7:return In.sent(),this.context.logger.error("Error loading image "+M.src),[3,8];case 8:if(M instanceof FA&&this.renderReplacedElement(M,ce,M.canvas),!(M instanceof Ag))return[3,12];In.label=9;case 9:return In.trys.push([9,11,,12]),[4,this.context.cache.match(M.svg)];case 10:return Un=In.sent(),this.renderReplacedElement(M,ce,Un),[3,12];case 11:return In.sent(),this.context.logger.error("Error loading svg "+M.svg.substring(0,255)),[3,12];case 12:return M instanceof gh&&M.tree?(It=new N(this.context,{scale:this.options.scale,backgroundColor:M.backgroundColor,x:0,y:0,width:M.width,height:M.height}),[4,It.render(M.tree)]):[3,14];case 13:$t=In.sent(),M.width&&M.height&&this.ctx.drawImage($t,0,0,M.width,M.height,M.bounds.left,M.bounds.top,M.bounds.width,M.bounds.height),In.label=14;case 14:if(M instanceof Sd&&(Jt=Math.min(M.bounds.width,M.bounds.height),M.type===Jm?M.checked&&(this.ctx.save(),this.path([new Zr(M.bounds.left+Jt*.39363,M.bounds.top+Jt*.79),new Zr(M.bounds.left+Jt*.16,M.bounds.top+Jt*.5549),new Zr(M.bounds.left+Jt*.27347,M.bounds.top+Jt*.44071),new Zr(M.bounds.left+Jt*.39694,M.bounds.top+Jt*.5649),new Zr(M.bounds.left+Jt*.72983,M.bounds.top+Jt*.23),new Zr(M.bounds.left+Jt*.84,M.bounds.top+Jt*.34085),new Zr(M.bounds.left+Jt*.39363,M.bounds.top+Jt*.79)]),this.ctx.fillStyle=fn(nd),this.ctx.fill(),this.ctx.restore()):M.type===ep&&M.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(M.bounds.left+Jt/2,M.bounds.top+Jt/2,Jt/4,0,Math.PI*2,!0),this.ctx.fillStyle=fn(nd),this.ctx.fill(),this.ctx.restore())),up(M)&&M.value.length){switch(Tr=this.createFontStyle(Ee),ms=Tr[0],jn=Tr[1],nn=this.fontMetrics.getMetrics(ms,jn).baseline,this.ctx.font=ms,this.ctx.fillStyle=fn(Ee.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=dp(M.styles.textAlign),Fi=Rc(M),gn=0,M.styles.textAlign){case 1:gn+=Fi.width/2;break;case 2:gn+=Fi.width;break}hi=Fi.add(gn,0,0,-Fi.height/2+1),this.ctx.save(),this.path([new Zr(Fi.left,Fi.top),new Zr(Fi.left+Fi.width,Fi.top),new Zr(Fi.left+Fi.width,Fi.top+Fi.height),new Zr(Fi.left,Fi.top+Fi.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new gf(M.value,hi),Ee.letterSpacing,nn),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!k(M.styles.display,2048))return[3,20];if(M.styles.listStyleImage===null)return[3,19];if(Hn=M.styles.listStyleImage,Hn.type!==0)return[3,18];Un=void 0,_s=Hn.url,In.label=15;case 15:return In.trys.push([15,17,,18]),[4,this.context.cache.match(_s)];case 16:return Un=In.sent(),this.ctx.drawImage(Un,M.bounds.left-(Un.width+10),M.bounds.top),[3,18];case 17:return In.sent(),this.context.logger.error("Error loading list-style-image "+_s),[3,18];case 18:return[3,20];case 19:F.listValue&&M.styles.listStyleType!==-1&&(ms=this.createFontStyle(Ee)[0],this.ctx.font=ms,this.ctx.fillStyle=fn(Ee.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",Fi=new u(M.bounds.left,M.bounds.top+Bi(M.styles.paddingTop,M.bounds.width),M.bounds.width,qf(Ee.lineHeight,Ee.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new gf(F.listValue,Fi),Ee.letterSpacing,qf(Ee.lineHeight,Ee.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),In.label=20;case 20:return[2]}})})},N.prototype.renderStackContent=function(F){return s(this,void 0,void 0,function(){var M,ce,Hn,Ee,Le,Hn,rt,nt,Hn,It,$t,Hn,Jt,Tr,Hn,jn,nn,Hn,gn,hi,Hn;return a(this,function(Un){switch(Un.label){case 0:if(k(F.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(F.element)];case 1:Un.sent(),M=0,ce=F.negativeZIndex,Un.label=2;case 2:return M<ce.length?(Hn=ce[M],[4,this.renderStack(Hn)]):[3,5];case 3:Un.sent(),Un.label=4;case 4:return M++,[3,2];case 5:return[4,this.renderNodeContent(F.element)];case 6:Un.sent(),Ee=0,Le=F.nonInlineLevel,Un.label=7;case 7:return Ee<Le.length?(Hn=Le[Ee],[4,this.renderNode(Hn)]):[3,10];case 8:Un.sent(),Un.label=9;case 9:return Ee++,[3,7];case 10:rt=0,nt=F.nonPositionedFloats,Un.label=11;case 11:return rt<nt.length?(Hn=nt[rt],[4,this.renderStack(Hn)]):[3,14];case 12:Un.sent(),Un.label=13;case 13:return rt++,[3,11];case 14:It=0,$t=F.nonPositionedInlineLevel,Un.label=15;case 15:return It<$t.length?(Hn=$t[It],[4,this.renderStack(Hn)]):[3,18];case 16:Un.sent(),Un.label=17;case 17:return It++,[3,15];case 18:Jt=0,Tr=F.inlineLevel,Un.label=19;case 19:return Jt<Tr.length?(Hn=Tr[Jt],[4,this.renderNode(Hn)]):[3,22];case 20:Un.sent(),Un.label=21;case 21:return Jt++,[3,19];case 22:jn=0,nn=F.zeroOrAutoZIndexOrTransformedOrOpacity,Un.label=23;case 23:return jn<nn.length?(Hn=nn[jn],[4,this.renderStack(Hn)]):[3,26];case 24:Un.sent(),Un.label=25;case 25:return jn++,[3,23];case 26:gn=0,hi=F.positiveZIndex,Un.label=27;case 27:return gn<hi.length?(Hn=hi[gn],[4,this.renderStack(Hn)]):[3,30];case 28:Un.sent(),Un.label=29;case 29:return gn++,[3,27];case 30:return[2]}})})},N.prototype.mask=function(F){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(F.slice(0).reverse()),this.ctx.closePath()},N.prototype.path=function(F){this.ctx.beginPath(),this.formatPath(F),this.ctx.closePath()},N.prototype.formatPath=function(F){var M=this;F.forEach(function(ce,Ee){var Le=Qa(ce)?ce.start:ce;Ee===0?M.ctx.moveTo(Le.x,Le.y):M.ctx.lineTo(Le.x,Le.y),Qa(ce)&&M.ctx.bezierCurveTo(ce.startControl.x,ce.startControl.y,ce.endControl.x,ce.endControl.y,ce.end.x,ce.end.y)})},N.prototype.renderRepeat=function(F,M,ce,Ee){this.path(F),this.ctx.fillStyle=M,this.ctx.translate(ce,Ee),this.ctx.fill(),this.ctx.translate(-ce,-Ee)},N.prototype.resizeImage=function(F,M,ce){var Ee;if(F.width===M&&F.height===ce)return F;var Le=(Ee=this.canvas.ownerDocument)!==null&&Ee!==void 0?Ee:document,rt=Le.createElement("canvas");rt.width=Math.max(1,M),rt.height=Math.max(1,ce);var nt=rt.getContext("2d");return nt.drawImage(F,0,0,F.width,F.height,0,0,M,ce),rt},N.prototype.renderBackgroundImage=function(F){return s(this,void 0,void 0,function(){var M,ce,Ee,Le,rt,nt;return a(this,function(It){switch(It.label){case 0:M=F.styles.backgroundImage.length-1,ce=function($t){var Jt,Tr,jn,_l,nu,Ru,Fa,ru,Gs,nn,_l,nu,Ru,Fa,ru,gn,hi,Hn,Un,_s,ms,Fi,In,Rs,Gs,pi,_l,to,jd,Fa,ru,sd,nu,Ru,xh,Uh,iA,zA,WA,bh,sA,aA;return a(this,function(_g){switch(_g.label){case 0:if($t.type!==0)return[3,5];Jt=void 0,Tr=$t.url,_g.label=1;case 1:return _g.trys.push([1,3,,4]),[4,Ee.context.cache.match(Tr)];case 2:return Jt=_g.sent(),[3,4];case 3:return _g.sent(),Ee.context.logger.error("Error loading background-image "+Tr),[3,4];case 4:return Jt&&(jn=xf(F,M,[Jt.width,Jt.height,Jt.width/Jt.height]),_l=jn[0],nu=jn[1],Ru=jn[2],Fa=jn[3],ru=jn[4],Gs=Ee.ctx.createPattern(Ee.resizeImage(Jt,Fa,ru),"repeat"),Ee.renderRepeat(_l,Gs,nu,Ru)),[3,6];case 5:vl($t)?(nn=xf(F,M,[null,null,null]),_l=nn[0],nu=nn[1],Ru=nn[2],Fa=nn[3],ru=nn[4],gn=zc($t.angle,Fa,ru),hi=gn[0],Hn=gn[1],Un=gn[2],_s=gn[3],ms=gn[4],Fi=document.createElement("canvas"),Fi.width=Fa,Fi.height=ru,In=Fi.getContext("2d"),Rs=In.createLinearGradient(Hn,_s,Un,ms),Xa($t.stops,hi).forEach(function(G0){return Rs.addColorStop(G0.stop,fn(G0.color))}),In.fillStyle=Rs,In.fillRect(0,0,Fa,ru),Fa>0&&ru>0&&(Gs=Ee.ctx.createPattern(Fi,"repeat"),Ee.renderRepeat(_l,Gs,nu,Ru))):Xu($t)&&(pi=xf(F,M,[null,null,null]),_l=pi[0],to=pi[1],jd=pi[2],Fa=pi[3],ru=pi[4],sd=$t.position.length===0?[Ln]:$t.position,nu=Bi(sd[0],Fa),Ru=Bi(sd[sd.length-1],ru),xh=gl($t,nu,Ru,Fa,ru),Uh=xh[0],iA=xh[1],Uh>0&&iA>0&&(zA=Ee.ctx.createRadialGradient(to+nu,jd+Ru,0,to+nu,jd+Ru,Uh),Xa($t.stops,Uh*2).forEach(function(G0){return zA.addColorStop(G0.stop,fn(G0.color))}),Ee.path(_l),Ee.ctx.fillStyle=zA,Uh!==iA?(WA=F.bounds.left+.5*F.bounds.width,bh=F.bounds.top+.5*F.bounds.height,sA=iA/Uh,aA=1/sA,Ee.ctx.save(),Ee.ctx.translate(WA,bh),Ee.ctx.transform(1,0,0,sA,0,0),Ee.ctx.translate(-WA,-bh),Ee.ctx.fillRect(to,aA*(jd-bh)+bh,Fa,ru*aA),Ee.ctx.restore()):Ee.ctx.fill())),_g.label=6;case 6:return M--,[2]}})},Ee=this,Le=0,rt=F.styles.backgroundImage.slice(0).reverse(),It.label=1;case 1:return Le<rt.length?(nt=rt[Le],[5,ce(nt)]):[3,4];case 2:It.sent(),It.label=3;case 3:return Le++,[3,1];case 4:return[2]}})})},N.prototype.renderSolidBorder=function(F,M,ce){return s(this,void 0,void 0,function(){return a(this,function(Ee){return this.path(Cy(ce,M)),this.ctx.fillStyle=fn(F),this.ctx.fill(),[2]})})},N.prototype.renderDoubleBorder=function(F,M,ce,Ee){return s(this,void 0,void 0,function(){var Le,rt;return a(this,function(nt){switch(nt.label){case 0:return M<3?[4,this.renderSolidBorder(F,ce,Ee)]:[3,2];case 1:return nt.sent(),[2];case 2:return Le=op(Ee,ce),this.path(Le),this.ctx.fillStyle=fn(F),this.ctx.fill(),rt=yc(Ee,ce),this.path(rt),this.ctx.fill(),[2]}})})},N.prototype.renderNodeBackgroundAndBorders=function(F){return s(this,void 0,void 0,function(){var M,ce,Ee,Le,rt,nt,It,$t,Jt=this;return a(this,function(Tr){switch(Tr.label){case 0:return this.applyEffects(F.getEffects(2)),M=F.container.styles,ce=!Pi(M.backgroundColor)||M.backgroundImage.length,Ee=[{style:M.borderTopStyle,color:M.borderTopColor,width:M.borderTopWidth},{style:M.borderRightStyle,color:M.borderRightColor,width:M.borderRightWidth},{style:M.borderBottomStyle,color:M.borderBottomColor,width:M.borderBottomWidth},{style:M.borderLeftStyle,color:M.borderLeftColor,width:M.borderLeftWidth}],Le=Ny(Cd(M.backgroundClip,0),F.curves),ce||M.boxShadow.length?(this.ctx.save(),this.path(Le),this.ctx.clip(),Pi(M.backgroundColor)||(this.ctx.fillStyle=fn(M.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(F.container)]):[3,2];case 1:Tr.sent(),this.ctx.restore(),M.boxShadow.slice(0).reverse().forEach(function(jn){Jt.ctx.save();var nn=ea(F.curves),gn=jn.inset?0:KA,hi=mo(nn,-gn+(jn.inset?1:-1)*jn.spread.number,(jn.inset?1:-1)*jn.spread.number,jn.spread.number*(jn.inset?-2:2),jn.spread.number*(jn.inset?-2:2));jn.inset?(Jt.path(nn),Jt.ctx.clip(),Jt.mask(hi)):(Jt.mask(nn),Jt.ctx.clip(),Jt.path(hi)),Jt.ctx.shadowOffsetX=jn.offsetX.number+gn,Jt.ctx.shadowOffsetY=jn.offsetY.number,Jt.ctx.shadowColor=fn(jn.color),Jt.ctx.shadowBlur=jn.blur.number,Jt.ctx.fillStyle=jn.inset?fn(jn.color):"rgba(0,0,0,1)",Jt.ctx.fill(),Jt.ctx.restore()}),Tr.label=2;case 2:rt=0,nt=0,It=Ee,Tr.label=3;case 3:return nt<It.length?($t=It[nt],$t.style!==0&&!Pi($t.color)&&$t.width>0?$t.style!==2?[3,5]:[4,this.renderDashedDottedBorder($t.color,$t.width,rt,F.curves,2)]:[3,11]):[3,13];case 4:return Tr.sent(),[3,11];case 5:return $t.style!==3?[3,7]:[4,this.renderDashedDottedBorder($t.color,$t.width,rt,F.curves,3)];case 6:return Tr.sent(),[3,11];case 7:return $t.style!==4?[3,9]:[4,this.renderDoubleBorder($t.color,$t.width,rt,F.curves)];case 8:return Tr.sent(),[3,11];case 9:return[4,this.renderSolidBorder($t.color,rt,F.curves)];case 10:Tr.sent(),Tr.label=11;case 11:rt++,Tr.label=12;case 12:return nt++,[3,3];case 13:return[2]}})})},N.prototype.renderDashedDottedBorder=function(F,M,ce,Ee,Le){return s(this,void 0,void 0,function(){var rt,nt,It,$t,Jt,Tr,jn,nn,gn,hi,Hn,Un,_s,ms,Fi,In,Fi,In;return a(this,function(Rs){return this.ctx.save(),rt=Td(Ee,ce),nt=Cy(Ee,ce),Le===2&&(this.path(nt),this.ctx.clip()),Qa(nt[0])?(It=nt[0].start.x,$t=nt[0].start.y):(It=nt[0].x,$t=nt[0].y),Qa(nt[1])?(Jt=nt[1].end.x,Tr=nt[1].end.y):(Jt=nt[1].x,Tr=nt[1].y),ce===0||ce===2?jn=Math.abs(It-Jt):jn=Math.abs($t-Tr),this.ctx.beginPath(),Le===3?this.formatPath(rt):this.formatPath(nt.slice(0,2)),nn=M<3?M*3:M*2,gn=M<3?M*2:M,Le===3&&(nn=M,gn=M),hi=!0,jn<=nn*2?hi=!1:jn<=nn*2+gn?(Hn=jn/(2*nn+gn),nn*=Hn,gn*=Hn):(Un=Math.floor((jn+gn)/(nn+gn)),_s=(jn-Un*nn)/(Un-1),ms=(jn-(Un+1)*nn)/Un,gn=ms<=0||Math.abs(gn-_s)<Math.abs(gn-ms)?_s:ms),hi&&(Le===3?this.ctx.setLineDash([0,nn+gn]):this.ctx.setLineDash([nn,gn])),Le===3?(this.ctx.lineCap="round",this.ctx.lineWidth=M):this.ctx.lineWidth=M*2+1.1,this.ctx.strokeStyle=fn(F),this.ctx.stroke(),this.ctx.setLineDash([]),Le===2&&(Qa(nt[0])&&(Fi=nt[3],In=nt[0],this.ctx.beginPath(),this.formatPath([new Zr(Fi.end.x,Fi.end.y),new Zr(In.start.x,In.start.y)]),this.ctx.stroke()),Qa(nt[1])&&(Fi=nt[1],In=nt[2],this.ctx.beginPath(),this.formatPath([new Zr(Fi.end.x,Fi.end.y),new Zr(In.start.x,In.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},N.prototype.render=function(F){return s(this,void 0,void 0,function(){var M;return a(this,function(ce){switch(ce.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=fn(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),M=Ty(F),[4,this.renderStack(M)];case 1:return ce.sent(),this.applyEffects([]),[2,this.canvas]}})})},N})(V0),up=function(R){return R instanceof tp||R instanceof Ey?!0:R instanceof Sd&&R.type!==ep&&R.type!==Jm},Ny=function(R,N){switch(R){case 0:return ea(N);case 2:return Bu(N);default:return zo(N)}},dp=function(R){switch(R){case 1:return"center";case 2:return"right";default:return"left"}},K0=["-apple-system","system-ui"],Ks=function(R){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?R.filter(function(N){return K0.indexOf(N)===-1}):R},Ms=(function(R){n(N,R);function N(F,M){var ce=R.call(this,F,M)||this;return ce.canvas=M.canvas?M.canvas:document.createElement("canvas"),ce.ctx=ce.canvas.getContext("2d"),ce.options=M,ce.canvas.width=Math.floor(M.width*M.scale),ce.canvas.height=Math.floor(M.height*M.scale),ce.canvas.style.width=M.width+"px",ce.canvas.style.height=M.height+"px",ce.ctx.scale(ce.options.scale,ce.options.scale),ce.ctx.translate(-M.x,-M.y),ce.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+M.width+"x"+M.height+" at "+M.x+","+M.y+") with scale "+M.scale),ce}return N.prototype.render=function(F){return s(this,void 0,void 0,function(){var M,ce;return a(this,function(Ee){switch(Ee.label){case 0:return M=lg(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,F),[4,es(M)];case 1:return ce=Ee.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=fn(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(ce,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},N})(V0),es=function(R){return new Promise(function(N,F){var M=new Image;M.onload=function(){N(M)},M.onerror=F,M.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(R))})},os=(function(){function R(N){var F=N.id,M=N.enabled;this.id=F,this.enabled=M,this.start=Date.now()}return R.prototype.debug=function(){for(var N=[],F=0;F<arguments.length;F++)N[F]=arguments[F];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,c([this.id,this.getTime()+"ms"],N)):this.info.apply(this,N))},R.prototype.getTime=function(){return Date.now()-this.start},R.prototype.info=function(){for(var N=[],F=0;F<arguments.length;F++)N[F]=arguments[F];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,c([this.id,this.getTime()+"ms"],N))},R.prototype.warn=function(){for(var N=[],F=0;F<arguments.length;F++)N[F]=arguments[F];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,c([this.id,this.getTime()+"ms"],N)):this.info.apply(this,N))},R.prototype.error=function(){for(var N=[],F=0;F<arguments.length;F++)N[F]=arguments[F];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,c([this.id,this.getTime()+"ms"],N)):this.info.apply(this,N))},R.instances={},R})(),ta=(function(){function R(N,F){var M;this.windowBounds=F,this.instanceName="#"+R.instanceCount++,this.logger=new os({id:this.instanceName,enabled:N.logging}),this.cache=(M=N.cache)!==null&&M!==void 0?M:new ks(this,N)}return R.instanceCount=1,R})(),tu=function(R,N){return N===void 0&&(N={}),Fh(R,N)};typeof window<"u"&&ko.setContext(window);var Fh=function(R,N){return s(void 0,void 0,void 0,function(){var F,M,ce,Ee,Le,rt,nt,It,$t,Jt,Tr,jn,nn,gn,hi,Hn,Un,_s,ms,Fi,Rs,In,Rs,Gs,pi,_l,to,jd,Fa,ru,sd,nu,Ru,xh,Uh,iA,zA,WA,bh,sA;return a(this,function(aA){switch(aA.label){case 0:if(!R||typeof R!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(F=R.ownerDocument,!F)throw new Error("Element is not attached to a Document");if(M=F.defaultView,!M)throw new Error("Document is not attached to a Window");return ce={allowTaint:(Gs=N.allowTaint)!==null&&Gs!==void 0?Gs:!1,imageTimeout:(pi=N.imageTimeout)!==null&&pi!==void 0?pi:15e3,proxy:N.proxy,useCORS:(_l=N.useCORS)!==null&&_l!==void 0?_l:!1},Ee=i({logging:(to=N.logging)!==null&&to!==void 0?to:!0,cache:N.cache},ce),Le={windowWidth:(jd=N.windowWidth)!==null&&jd!==void 0?jd:M.innerWidth,windowHeight:(Fa=N.windowHeight)!==null&&Fa!==void 0?Fa:M.innerHeight,scrollX:(ru=N.scrollX)!==null&&ru!==void 0?ru:M.pageXOffset,scrollY:(sd=N.scrollY)!==null&&sd!==void 0?sd:M.pageYOffset},rt=new u(Le.scrollX,Le.scrollY,Le.windowWidth,Le.windowHeight),nt=new ta(Ee,rt),It=(nu=N.foreignObjectRendering)!==null&&nu!==void 0?nu:!1,$t={allowTaint:(Ru=N.allowTaint)!==null&&Ru!==void 0?Ru:!1,onclone:N.onclone,ignoreElements:N.ignoreElements,inlineImages:It,copyStyles:It},nt.logger.debug("Starting document clone with size "+rt.width+"x"+rt.height+" scrolled to "+-rt.left+","+-rt.top),Jt=new ii(nt,R,$t),Tr=Jt.clonedReferenceElement,Tr?[4,Jt.toIFrame(F,rt)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return jn=aA.sent(),nn=xg(Tr)||$0(Tr)?d(Tr.ownerDocument):o(nt,Tr),gn=nn.width,hi=nn.height,Hn=nn.left,Un=nn.top,_s=GA(nt,Tr,N.backgroundColor),ms={canvas:N.canvas,backgroundColor:_s,scale:(Uh=(xh=N.scale)!==null&&xh!==void 0?xh:M.devicePixelRatio)!==null&&Uh!==void 0?Uh:1,x:((iA=N.x)!==null&&iA!==void 0?iA:0)+Hn,y:((zA=N.y)!==null&&zA!==void 0?zA:0)+Un,width:(WA=N.width)!==null&&WA!==void 0?WA:Math.ceil(gn),height:(bh=N.height)!==null&&bh!==void 0?bh:Math.ceil(hi)},It?(nt.logger.debug("Document cloned, using foreign object rendering"),Rs=new Ms(nt,ms),[4,Rs.render(Tr)]):[3,3];case 2:return Fi=aA.sent(),[3,5];case 3:return nt.logger.debug("Document cloned, element located at "+Hn+","+Un+" with size "+gn+"x"+hi+" using computed rendering"),nt.logger.debug("Starting DOM parsing"),In=pg(nt,Tr),_s===In.styles.backgroundColor&&(In.styles.backgroundColor=qa.TRANSPARENT),nt.logger.debug("Starting renderer for element at "+ms.x+","+ms.y+" with size "+ms.width+"x"+ms.height),Rs=new jy(nt,ms),[4,Rs.render(In)];case 4:Fi=aA.sent(),aA.label=5;case 5:return(!((sA=N.removeContainer)!==null&&sA!==void 0)||sA)&&(ii.destroy(jn)||nt.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),nt.logger.debug("Finished rendering"),[2,Fi]}})})},GA=function(R,N,F){var M=N.ownerDocument,ce=M.documentElement?$a(R,getComputedStyle(M.documentElement).backgroundColor):qa.TRANSPARENT,Ee=M.body?$a(R,getComputedStyle(M.body).backgroundColor):qa.TRANSPARENT,Le=typeof F=="string"?$a(R,F):F===null?qa.TRANSPARENT:4294967295;return N===M.documentElement?Pi(ce)?Pi(Ee)?Le:Ee:ce:Le};return tu}))})(L_)),L_.exports}var NV;function jLe(){return NV||(NV=1,(function(t,e){(function(n,i){t.exports=i(CLe())})(self,function(r){return(function(){var n={"./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js":(function(c,u,o){o.r(u),o.d(u,{default:function(){return d}});function d(f,A){(A==null||A>f.length)&&(A=f.length);for(var p=0,g=Array(A);p<A;p++)g[p]=f[p];return g}}),"./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js":(function(c,u,o){o.r(u),o.d(u,{default:function(){return d}});function d(f){if(Array.isArray(f))return f}}),"./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js":(function(c,u,o){o.r(u),o.d(u,{default:function(){return f}});function d(A,p,g,y,v,b,w){try{var S=A[b](w),_=S.value}catch(T){return void g(T)}S.done?p(_):Promise.resolve(_).then(y,v)}function f(A){return function(){var p=this,g=arguments;return new Promise(function(y,v){var b=A.apply(p,g);function w(_){d(b,y,v,w,S,"next",_)}function S(_){d(b,y,v,w,S,"throw",_)}w(void 0)})}}}),"./node_modules/@babel/runtime/helpers/esm/defineProperty.js":(function(c,u,o){o.r(u),o.d(u,{default:function(){return f}});var d=o("./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js");function f(A,p,g){return(p=(0,d.default)(p))in A?Object.defineProperty(A,p,{value:g,enumerable:!0,configurable:!0,writable:!0}):A[p]=g,A}}),"./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js":(function(c,u,o){o.r(u),o.d(u,{default:function(){return d}});function d(f,A){var p=f==null?null:typeof Symbol<"u"&&f[Symbol.iterator]||f["@@iterator"];if(p!=null){var g,y,v,b,w=[],S=!0,_=!1;try{if(v=(p=p.call(f)).next,A===0){if(Object(p)!==p)return;S=!1}else for(;!(S=(g=v.call(p)).done)&&(w.push(g.value),w.length!==A);S=!0);}catch(T){_=!0,y=T}finally{try{if(!S&&p.return!=null&&(b=p.return(),Object(b)!==b))return}finally{if(_)throw y}}return w}}}),"./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js":(function(c,u,o){o.r(u),o.d(u,{default:function(){return d}});function d(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}}),"./node_modules/@babel/runtime/helpers/esm/slicedToArray.js":(function(c,u,o){o.r(u),o.d(u,{default:function(){return g}});var d=o("./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js"),f=o("./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js"),A=o("./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js"),p=o("./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js");function g(y,v){return(0,d.default)(y)||(0,f.default)(y,v)||(0,A.default)(y,v)||(0,p.default)()}}),"./node_modules/@babel/runtime/helpers/esm/toPrimitive.js":(function(c,u,o){o.r(u),o.d(u,{default:function(){return f}});var d=o("./node_modules/@babel/runtime/helpers/esm/typeof.js");function f(A,p){if((0,d.default)(A)!="object"||!A)return A;var g=A[Symbol.toPrimitive];if(g!==void 0){var y=g.call(A,p||"default");if((0,d.default)(y)!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(A)}}),"./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js":(function(c,u,o){o.r(u),o.d(u,{default:function(){return A}});var d=o("./node_modules/@babel/runtime/helpers/esm/typeof.js"),f=o("./node_modules/@babel/runtime/helpers/esm/toPrimitive.js");function A(p){var g=(0,f.default)(p,"string");return(0,d.default)(g)=="symbol"?g:g+""}}),"./node_modules/@babel/runtime/helpers/esm/typeof.js":(function(c,u,o){o.r(u),o.d(u,{default:function(){return d}});function d(f){"@babel/helpers - typeof";return d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},d(f)}}),"./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js":(function(c,u,o){o.r(u),o.d(u,{default:function(){return f}});var d=o("./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js");function f(A,p){if(A){if(typeof A=="string")return(0,d.default)(A,p);var g={}.toString.call(A).slice(8,-1);return g==="Object"&&A.constructor&&(g=A.constructor.name),g==="Map"||g==="Set"?Array.from(A):g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g)?(0,d.default)(A,p):void 0}}}),"./node_modules/canvg/lib/index.es.js":(function(c,u,o){o.r(u),o.d(u,{AElement:function(){return fl},AnimateColorElement:function(){return _o},AnimateElement:function(){return xs},AnimateTransformElement:function(){return rs},BoundingBox:function(){return vn},CB1:function(){return je},CB2:function(){return Ue},CB3:function(){return De},CB4:function(){return ot},Canvg:function(){return ll},CircleElement:function(){return vs},ClipPathElement:function(){return za},DefsElement:function(){return La},DescElement:function(){return Uo},Document:function(){return Ya},Element:function(){return Ut},EllipseElement:function(){return ys},FeColorMatrixElement:function(){return ml},FeCompositeElement:function(){return pa},FeDropShadowElement:function(){return ba},FeGaussianBlurElement:function(){return pl},FeMorphologyElement:function(){return co},FilterElement:function(){return ci},Font:function(){return Ur},FontElement:function(){return Yu},FontFaceElement:function(){return Ua},GElement:function(){return ws},GlyphElement:function(){return Nr},GradientElement:function(){return Ts},ImageElement:function(){return bs},LineElement:function(){return $n},LinearGradientElement:function(){return Es},MarkerElement:function(){return bn},MaskElement:function(){return Ra},Matrix:function(){return Jr},MissingGlyphElement:function(){return Bl},Mouse:function(){return Fe},PSEUDO_ZERO:function(){return ke},Parser:function(){return yr},PathElement:function(){return Qr},PathParser:function(){return qr},PatternElement:function(){return Os},Point:function(){return ct},PolygonElement:function(){return $i},PolylineElement:function(){return zr},Property:function(){return ze},QB1:function(){return ft},QB2:function(){return Ce},QB3:function(){return Ze},RadialGradientElement:function(){return Hi},RectElement:function(){return ds},RenderedElement:function(){return Vn},Rotate:function(){return hn},SVGElement:function(){return Wn},SVGFontLoader:function(){return Ga},Scale:function(){return Tn},Screen:function(){return Bt},Skew:function(){return sn},SkewX:function(){return on},SkewY:function(){return Fn},StopElement:function(){return Hs},StyleElement:function(){return lo},SymbolElement:function(){return Al},TRefElement:function(){return yu},TSpanElement:function(){return Xr},TextElement:function(){return rn},TextPathElement:function(){return Cs},TitleElement:function(){return fs},Transform:function(){return Je},Translate:function(){return Wr},UnknownElement:function(){return gr},UseElement:function(){return Ec},ViewPort:function(){return $e},compressSpaces:function(){return S},default:function(){return ll},getSelectorSpecificity:function(){return Be},normalizeAttributeName:function(){return V},normalizeColor:function(){return J},parseExternalUrl:function(){return G},presets:function(){return w},toNumbers:function(){return L},trimLeft:function(){return _},trimRight:function(){return T},vectorMagnitude:function(){return ve},vectorsAngle:function(){return me},vectorsRatio:function(){return se}}),o("./node_modules/core-js/modules/es.promise.js");var d=o("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");o("./node_modules/core-js/modules/es.string.match.js"),o("./node_modules/core-js/modules/es.string.replace.js"),o("./node_modules/core-js/modules/es.string.starts-with.js"),o("./node_modules/core-js/modules/es.array.iterator.js"),o("./node_modules/core-js/modules/web.dom-collections.iterator.js");var f=o("./node_modules/@babel/runtime/helpers/esm/defineProperty.js");o("./node_modules/core-js/modules/es.array.reduce.js"),o("./node_modules/core-js/modules/es.string.ends-with.js"),o("./node_modules/core-js/modules/es.string.split.js");var A=o("./node_modules/raf/index.js");o("./node_modules/core-js/modules/es.string.trim.js");var p=o("./node_modules/rgbcolor/index.js");o("./node_modules/core-js/modules/es.array.index-of.js"),o("./node_modules/core-js/modules/es.string.includes.js"),o("./node_modules/core-js/modules/es.array.reverse.js");var g=o("./node_modules/svg-pathdata/lib/SVGPathData.module.js");o("./node_modules/core-js/modules/es.regexp.to-string.js");var y=o("./node_modules/stackblur-canvas/dist/stackblur-es.js");function v(){var{DOMParser:Rt}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},U={window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:Rt,createCanvas(Z,te){return new OffscreenCanvas(Z,te)},createImage(Z){return(0,d.default)(function*(){var te=yield fetch(Z),P=yield te.blob(),$=yield createImageBitmap(P);return $})()}};return(typeof DOMParser<"u"||typeof Rt>"u")&&Reflect.deleteProperty(U,"DOMParser"),U}function b(Rt){var{DOMParser:U,canvas:Z,fetch:te}=Rt;return{window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:U,fetch:te,createCanvas:Z.createCanvas,createImage:Z.loadImage}}var w=Object.freeze({__proto__:null,offscreen:v,node:b});function S(Rt){return Rt.replace(/(?!\u3000)\s+/gm," ")}function _(Rt){return Rt.replace(/^[\n \t]+/,"")}function T(Rt){return Rt.replace(/[\n \t]+$/,"")}function L(Rt){var U=(Rt||"").match(/-?(\d+(?:\.\d*(?:[eE][+-]?\d+)?)?|\.\d+)(?=\D|$)/gm)||[];return U.map(parseFloat)}var D=/^[A-Z-]+$/;function V(Rt){return D.test(Rt)?Rt.toLowerCase():Rt}function G(Rt){var U=/url\(('([^']+)'|"([^"]+)"|([^'")]+))\)/.exec(Rt)||[];return U[2]||U[3]||U[4]}function J(Rt){if(!Rt.startsWith("rgb"))return Rt;var U=3,Z=Rt.replace(/\d+(\.\d+)?/g,(te,P)=>U--&&P?String(Math.round(parseFloat(te))):te);return Z}var ee=/(\[[^\]]+\])/g,ue=/(#[^\s+>~.[:]+)/g,pe=/(\.[^\s+>~.[:]+)/g,ge=/(::[^\s+>~.[:]+|:first-line|:first-letter|:before|:after)/gi,he=/(:[\w-]+\([^)]*\))/gi,ne=/(:[^\s+>~.[:]+)/g,Ae=/([^\s+>~.[:]+)/g;function oe(Rt,U){var Z=U.exec(Rt);return Z?[Rt.replace(U," "),Z.length]:[Rt,0]}function Be(Rt){var U=[0,0,0],Z=Rt.replace(/:not\(([^)]*)\)/g,"     $1 ").replace(/{[\s\S]*/gm," "),te=0;return[Z,te]=oe(Z,ee),U[1]+=te,[Z,te]=oe(Z,ue),U[0]+=te,[Z,te]=oe(Z,pe),U[1]+=te,[Z,te]=oe(Z,ge),U[2]+=te,[Z,te]=oe(Z,he),U[1]+=te,[Z,te]=oe(Z,ne),U[1]+=te,Z=Z.replace(/[*\s+>~]/g," ").replace(/[#.]/g," "),[Z,te]=oe(Z,Ae),U[2]+=te,U.join("")}var ke=1e-8;function ve(Rt){return Math.sqrt(Math.pow(Rt[0],2)+Math.pow(Rt[1],2))}function se(Rt,U){return(Rt[0]*U[0]+Rt[1]*U[1])/(ve(Rt)*ve(U))}function me(Rt,U){return(Rt[0]*U[1]<Rt[1]*U[0]?-1:1)*Math.acos(se(Rt,U))}function je(Rt){return Rt*Rt*Rt}function Ue(Rt){return 3*Rt*Rt*(1-Rt)}function De(Rt){return 3*Rt*(1-Rt)*(1-Rt)}function ot(Rt){return(1-Rt)*(1-Rt)*(1-Rt)}function ft(Rt){return Rt*Rt}function Ce(Rt){return 2*Rt*(1-Rt)}function Ze(Rt){return(1-Rt)*(1-Rt)}class ze{constructor(U,Z,te){this.document=U,this.name=Z,this.value=te,this.isNormalizedColor=!1}static empty(U){return new ze(U,"EMPTY","")}split(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:" ",{document:Z,name:te}=this;return S(this.getString()).trim().split(U).map(P=>new ze(Z,te,P))}hasValue(U){var{value:Z}=this;return Z!==null&&Z!==""&&(U||Z!==0)&&typeof Z<"u"}isString(U){var{value:Z}=this,te=typeof Z=="string";return!te||!U?te:U.test(Z)}isUrlDefinition(){return this.isString(/^url\(/)}isPixels(){if(!this.hasValue())return!1;var U=this.getString();switch(!0){case U.endsWith("px"):case/^[0-9]+$/.test(U):return!0;default:return!1}}setValue(U){return this.value=U,this}getValue(U){return typeof U>"u"||this.hasValue()?this.value:U}getNumber(U){if(!this.hasValue())return typeof U>"u"?0:parseFloat(U);var{value:Z}=this,te=parseFloat(Z);return this.isString(/%$/)&&(te/=100),te}getString(U){return typeof U>"u"||this.hasValue()?typeof this.value>"u"?"":String(this.value):String(U)}getColor(U){var Z=this.getString(U);return this.isNormalizedColor||(this.isNormalizedColor=!0,Z=J(Z),this.value=Z),Z}getDpi(){return 96}getRem(){return this.document.rootEmSize}getEm(){return this.document.emSize}getUnits(){return this.getString().replace(/[0-9.-]/g,"")}getPixels(U){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!this.hasValue())return 0;var[te,P]=typeof U=="boolean"?[void 0,U]:[U],{viewPort:$}=this.document.screen;switch(!0){case this.isString(/vmin$/):return this.getNumber()/100*Math.min($.computeSize("x"),$.computeSize("y"));case this.isString(/vmax$/):return this.getNumber()/100*Math.max($.computeSize("x"),$.computeSize("y"));case this.isString(/vw$/):return this.getNumber()/100*$.computeSize("x");case this.isString(/vh$/):return this.getNumber()/100*$.computeSize("y");case this.isString(/rem$/):return this.getNumber()*this.getRem();case this.isString(/em$/):return this.getNumber()*this.getEm();case this.isString(/ex$/):return this.getNumber()*this.getEm()/2;case this.isString(/px$/):return this.getNumber();case this.isString(/pt$/):return this.getNumber()*this.getDpi()*.013888888888888888;case this.isString(/pc$/):return this.getNumber()*15;case this.isString(/cm$/):return this.getNumber()*this.getDpi()/2.54;case this.isString(/mm$/):return this.getNumber()*this.getDpi()/25.4;case this.isString(/in$/):return this.getNumber()*this.getDpi();case(this.isString(/%$/)&&P):return this.getNumber()*this.getEm();case this.isString(/%$/):return this.getNumber()*$.computeSize(te);default:{var q=this.getNumber();return Z&&q<1?q*$.computeSize(te):q}}}getMilliseconds(){return this.hasValue()?this.isString(/ms$/)?this.getNumber():this.getNumber()*1e3:0}getRadians(){if(!this.hasValue())return 0;switch(!0){case this.isString(/deg$/):return this.getNumber()*(Math.PI/180);case this.isString(/grad$/):return this.getNumber()*(Math.PI/200);case this.isString(/rad$/):return this.getNumber();default:return this.getNumber()*(Math.PI/180)}}getDefinition(){var U=this.getString(),Z=/#([^)'"]+)/.exec(U);return Z&&(Z=Z[1]),Z||(Z=U),this.document.definitions[Z]}getFillStyleDefinition(U,Z){var te=this.getDefinition();if(!te)return null;if(typeof te.createGradient=="function")return te.createGradient(this.document.ctx,U,Z);if(typeof te.createPattern=="function"){if(te.getHrefAttribute().hasValue()){var P=te.getAttribute("patternTransform");te=te.getHrefAttribute().getDefinition(),P.hasValue()&&te.getAttribute("patternTransform",!0).setValue(P.value)}return te.createPattern(this.document.ctx,U,Z)}return null}getTextBaseline(){return this.hasValue()?ze.textBaselineMapping[this.getString()]:null}addOpacity(U){for(var Z=this.getColor(),te=Z.length,P=0,$=0;$<te&&(Z[$]===","&&P++,P!==3);$++);if(U.hasValue()&&this.isString()&&P!==3){var q=new p(Z);q.ok&&(q.alpha=U.getNumber(),Z=q.toRGBA())}return new ze(this.document,this.name,Z)}}ze.textBaselineMapping={baseline:"alphabetic","before-edge":"top","text-before-edge":"top",middle:"middle",central:"middle","after-edge":"bottom","text-after-edge":"bottom",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"alphabetic"};class $e{constructor(){this.viewPorts=[]}clear(){this.viewPorts=[]}setCurrent(U,Z){this.viewPorts.push({width:U,height:Z})}removeCurrent(){this.viewPorts.pop()}getCurrent(){var{viewPorts:U}=this;return U[U.length-1]}get width(){return this.getCurrent().width}get height(){return this.getCurrent().height}computeSize(U){return typeof U=="number"?U:U==="x"?this.width:U==="y"?this.height:Math.sqrt(Math.pow(this.width,2)+Math.pow(this.height,2))/Math.sqrt(2)}}class ct{constructor(U,Z){this.x=U,this.y=Z}static parse(U){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,[te=Z,P=Z]=L(U);return new ct(te,P)}static parseScale(U){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,[te=Z,P=te]=L(U);return new ct(te,P)}static parsePath(U){for(var Z=L(U),te=Z.length,P=[],$=0;$<te;$+=2)P.push(new ct(Z[$],Z[$+1]));return P}angleTo(U){return Math.atan2(U.y-this.y,U.x-this.x)}applyTransform(U){var{x:Z,y:te}=this,P=Z*U[0]+te*U[2]+U[4],$=Z*U[1]+te*U[3]+U[5];this.x=P,this.y=$}}class Fe{constructor(U){this.screen=U,this.working=!1,this.events=[],this.eventElements=[],this.onClick=this.onClick.bind(this),this.onMouseMove=this.onMouseMove.bind(this)}isWorking(){return this.working}start(){if(!this.working){var{screen:U,onClick:Z,onMouseMove:te}=this,P=U.ctx.canvas;P.onclick=Z,P.onmousemove=te,this.working=!0}}stop(){if(this.working){var U=this.screen.ctx.canvas;this.working=!1,U.onclick=null,U.onmousemove=null}}hasEvents(){return this.working&&this.events.length>0}runEvents(){if(this.working){var{screen:U,events:Z,eventElements:te}=this,{style:P}=U.ctx.canvas;P&&(P.cursor=""),Z.forEach(($,q)=>{for(var{run:de}=$,we=te[q];we;)de(we),we=we.parent}),this.events=[],this.eventElements=[]}}checkPath(U,Z){if(!(!this.working||!Z)){var{events:te,eventElements:P}=this;te.forEach(($,q)=>{var{x:de,y:we}=$;!P[q]&&Z.isPointInPath&&Z.isPointInPath(de,we)&&(P[q]=U)})}}checkBoundingBox(U,Z){if(!(!this.working||!Z)){var{events:te,eventElements:P}=this;te.forEach(($,q)=>{var{x:de,y:we}=$;!P[q]&&Z.isPointInBox(de,we)&&(P[q]=U)})}}mapXY(U,Z){for(var{window:te,ctx:P}=this.screen,$=new ct(U,Z),q=P.canvas;q;)$.x-=q.offsetLeft,$.y-=q.offsetTop,q=q.offsetParent;return te.scrollX&&($.x+=te.scrollX),te.scrollY&&($.y+=te.scrollY),$}onClick(U){var{x:Z,y:te}=this.mapXY(U.clientX,U.clientY);this.events.push({type:"onclick",x:Z,y:te,run(P){P.onClick&&P.onClick()}})}onMouseMove(U){var{x:Z,y:te}=this.mapXY(U.clientX,U.clientY);this.events.push({type:"onmousemove",x:Z,y:te,run(P){P.onMouseMove&&P.onMouseMove()}})}}var xt=typeof window<"u"?window:null,pt=typeof fetch<"u"?fetch.bind(void 0):null;class Bt{constructor(U){var{fetch:Z=pt,window:te=xt}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.ctx=U,this.FRAMERATE=30,this.MAX_VIRTUAL_PIXELS=3e4,this.CLIENT_WIDTH=800,this.CLIENT_HEIGHT=600,this.viewPort=new $e,this.mouse=new Fe(this),this.animations=[],this.waits=[],this.frameDuration=0,this.isReadyLock=!1,this.isFirstRender=!0,this.intervalId=null,this.window=te,this.fetch=Z}wait(U){this.waits.push(U)}ready(){return this.readyPromise?this.readyPromise:Promise.resolve()}isReady(){if(this.isReadyLock)return!0;var U=this.waits.every(Z=>Z());return U&&(this.waits=[],this.resolveReady&&this.resolveReady()),this.isReadyLock=U,U}setDefaults(U){U.strokeStyle="rgba(0,0,0,0)",U.lineCap="butt",U.lineJoin="miter",U.miterLimit=4}setViewBox(U){var{document:Z,ctx:te,aspectRatio:P,width:$,desiredWidth:q,height:de,desiredHeight:we,minX:Me=0,minY:tt=0,refX:I,refY:C,clip:O=!1,clipX:Q=0,clipY:z=0}=U,X=S(P).replace(/^defer\s/,""),[fe,ie]=X.split(" "),ae=fe||"xMidYMid",Se=ie||"meet",Re=$/q,Ge=de/we,et=Math.min(Re,Ge),xe=Math.max(Re,Ge),gt=q,At=we;Se==="meet"&&(gt*=et,At*=et),Se==="slice"&&(gt*=xe,At*=xe);var yt=new ze(Z,"refX",I),qe=new ze(Z,"refY",C),jt=yt.hasValue()&&qe.hasValue();if(jt&&te.translate(-et*yt.getPixels("x"),-et*qe.getPixels("y")),O){var Ht=et*Q,St=et*z;te.beginPath(),te.moveTo(Ht,St),te.lineTo($,St),te.lineTo($,de),te.lineTo(Ht,de),te.closePath(),te.clip()}if(!jt){var Ye=Se==="meet"&&et===Ge,Mt=Se==="slice"&&xe===Ge,Ar=Se==="meet"&&et===Re,zt=Se==="slice"&&xe===Re;ae.startsWith("xMid")&&(Ye||Mt)&&te.translate($/2-gt/2,0),ae.endsWith("YMid")&&(Ar||zt)&&te.translate(0,de/2-At/2),ae.startsWith("xMax")&&(Ye||Mt)&&te.translate($-gt,0),ae.endsWith("YMax")&&(Ar||zt)&&te.translate(0,de-At)}switch(!0){case ae==="none":te.scale(Re,Ge);break;case Se==="meet":te.scale(et,et);break;case Se==="slice":te.scale(xe,xe);break}te.translate(-Me,-tt)}start(U){var{enableRedraw:Z=!1,ignoreMouse:te=!1,ignoreAnimation:P=!1,ignoreDimensions:$=!1,ignoreClear:q=!1,forceRedraw:de,scaleWidth:we,scaleHeight:Me,offsetX:tt,offsetY:I}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{FRAMERATE:C,mouse:O}=this,Q=1e3/C;if(this.frameDuration=Q,this.readyPromise=new Promise(ae=>{this.resolveReady=ae}),this.isReady()&&this.render(U,$,q,we,Me,tt,I),!!Z){var z=Date.now(),X=z,fe=0,ie=()=>{z=Date.now(),fe=z-X,fe>=Q&&(X=z-fe%Q,this.shouldUpdate(P,de)&&(this.render(U,$,q,we,Me,tt,I),O.runEvents())),this.intervalId=A(ie)};te||O.start(),this.intervalId=A(ie)}}stop(){this.intervalId&&(A.cancel(this.intervalId),this.intervalId=null),this.mouse.stop()}shouldUpdate(U,Z){if(!U){var{frameDuration:te}=this,P=this.animations.reduce(($,q)=>q.update(te)||$,!1);if(P)return!0}return!!(typeof Z=="function"&&Z()||!this.isReadyLock&&this.isReady()||this.mouse.hasEvents())}render(U,Z,te,P,$,q,de){var{CLIENT_WIDTH:we,CLIENT_HEIGHT:Me,viewPort:tt,ctx:I,isFirstRender:C}=this,O=I.canvas;tt.clear(),O.width&&O.height?tt.setCurrent(O.width,O.height):tt.setCurrent(we,Me);var Q=U.getStyle("width"),z=U.getStyle("height");!Z&&(C||typeof P!="number"&&typeof $!="number")&&(Q.hasValue()&&(O.width=Q.getPixels("x"),O.style&&(O.style.width="".concat(O.width,"px"))),z.hasValue()&&(O.height=z.getPixels("y"),O.style&&(O.style.height="".concat(O.height,"px"))));var X=O.clientWidth||O.width,fe=O.clientHeight||O.height;if(Z&&Q.hasValue()&&z.hasValue()&&(X=Q.getPixels("x"),fe=z.getPixels("y")),tt.setCurrent(X,fe),typeof q=="number"&&U.getAttribute("x",!0).setValue(q),typeof de=="number"&&U.getAttribute("y",!0).setValue(de),typeof P=="number"||typeof $=="number"){var ie=L(U.getAttribute("viewBox").getString()),ae=0,Se=0;if(typeof P=="number"){var Re=U.getStyle("width");Re.hasValue()?ae=Re.getPixels("x")/P:isNaN(ie[2])||(ae=ie[2]/P)}if(typeof $=="number"){var Ge=U.getStyle("height");Ge.hasValue()?Se=Ge.getPixels("y")/$:isNaN(ie[3])||(Se=ie[3]/$)}ae||(ae=Se),Se||(Se=ae),U.getAttribute("width",!0).setValue(P),U.getAttribute("height",!0).setValue($);var et=U.getStyle("transform",!0,!0);et.setValue("".concat(et.getString()," scale(").concat(1/ae,", ").concat(1/Se,")"))}te||I.clearRect(0,0,X,fe),U.render(I),C&&(this.isFirstRender=!1)}}Bt.defaultWindow=xt,Bt.defaultFetch=pt;var{defaultFetch:qt}=Bt,Yr=typeof DOMParser<"u"?DOMParser:null;class yr{constructor(){var{fetch:U=qt,DOMParser:Z=Yr}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.fetch=U,this.DOMParser=Z}parse(U){var Z=this;return(0,d.default)(function*(){return U.startsWith("<")?Z.parseFromString(U):Z.load(U)})()}parseFromString(U){var Z=new this.DOMParser;try{return this.checkDocument(Z.parseFromString(U,"image/svg+xml"))}catch{return this.checkDocument(Z.parseFromString(U,"text/xml"))}}checkDocument(U){var Z=U.getElementsByTagName("parsererror")[0];if(Z)throw new Error(Z.textContent);return U}load(U){var Z=this;return(0,d.default)(function*(){var te=yield Z.fetch(U),P=yield te.text();return Z.parseFromString(P)})()}}class Wr{constructor(U,Z){this.type="translate",this.point=null,this.point=ct.parse(Z)}apply(U){var{x:Z,y:te}=this.point;U.translate(Z||0,te||0)}unapply(U){var{x:Z,y:te}=this.point;U.translate(-1*Z||0,-1*te||0)}applyToPoint(U){var{x:Z,y:te}=this.point;U.applyTransform([1,0,0,1,Z||0,te||0])}}class hn{constructor(U,Z,te){this.type="rotate",this.angle=null,this.originX=null,this.originY=null,this.cx=0,this.cy=0;var P=L(Z);this.angle=new ze(U,"angle",P[0]),this.originX=te[0],this.originY=te[1],this.cx=P[1]||0,this.cy=P[2]||0}apply(U){var{cx:Z,cy:te,originX:P,originY:$,angle:q}=this,de=Z+P.getPixels("x"),we=te+$.getPixels("y");U.translate(de,we),U.rotate(q.getRadians()),U.translate(-de,-we)}unapply(U){var{cx:Z,cy:te,originX:P,originY:$,angle:q}=this,de=Z+P.getPixels("x"),we=te+$.getPixels("y");U.translate(de,we),U.rotate(-1*q.getRadians()),U.translate(-de,-we)}applyToPoint(U){var{cx:Z,cy:te,angle:P}=this,$=P.getRadians();U.applyTransform([1,0,0,1,Z||0,te||0]),U.applyTransform([Math.cos($),Math.sin($),-Math.sin($),Math.cos($),0,0]),U.applyTransform([1,0,0,1,-Z||0,-te||0])}}class Tn{constructor(U,Z,te){this.type="scale",this.scale=null,this.originX=null,this.originY=null;var P=ct.parseScale(Z);(P.x===0||P.y===0)&&(P.x=ke,P.y=ke),this.scale=P,this.originX=te[0],this.originY=te[1]}apply(U){var{scale:{x:Z,y:te},originX:P,originY:$}=this,q=P.getPixels("x"),de=$.getPixels("y");U.translate(q,de),U.scale(Z,te||Z),U.translate(-q,-de)}unapply(U){var{scale:{x:Z,y:te},originX:P,originY:$}=this,q=P.getPixels("x"),de=$.getPixels("y");U.translate(q,de),U.scale(1/Z,1/te||Z),U.translate(-q,-de)}applyToPoint(U){var{x:Z,y:te}=this.scale;U.applyTransform([Z||0,0,0,te||0,0,0])}}class Jr{constructor(U,Z,te){this.type="matrix",this.matrix=[],this.originX=null,this.originY=null,this.matrix=L(Z),this.originX=te[0],this.originY=te[1]}apply(U){var{originX:Z,originY:te,matrix:P}=this,$=Z.getPixels("x"),q=te.getPixels("y");U.translate($,q),U.transform(P[0],P[1],P[2],P[3],P[4],P[5]),U.translate(-$,-q)}unapply(U){var{originX:Z,originY:te,matrix:P}=this,$=P[0],q=P[2],de=P[4],we=P[1],Me=P[3],tt=P[5],I=0,C=0,O=1,Q=1/($*(Me*O-tt*C)-q*(we*O-tt*I)+de*(we*C-Me*I)),z=Z.getPixels("x"),X=te.getPixels("y");U.translate(z,X),U.transform(Q*(Me*O-tt*C),Q*(tt*I-we*O),Q*(de*C-q*O),Q*($*O-de*I),Q*(q*tt-de*Me),Q*(de*we-$*tt)),U.translate(-z,-X)}applyToPoint(U){U.applyTransform(this.matrix)}}class sn extends Jr{constructor(U,Z,te){super(U,Z,te),this.type="skew",this.angle=null,this.angle=new ze(U,"angle",Z)}}class on extends sn{constructor(U,Z,te){super(U,Z,te),this.type="skewX",this.matrix=[1,0,Math.tan(this.angle.getRadians()),1,0,0]}}class Fn extends sn{constructor(U,Z,te){super(U,Z,te),this.type="skewY",this.matrix=[1,Math.tan(this.angle.getRadians()),0,1,0,0]}}function Qn(Rt){return S(Rt).trim().replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/)}function gi(Rt){var[U,Z]=Rt.split("(");return[U.trim(),Z.trim().replace(")","")]}class Je{constructor(U,Z,te){this.document=U,this.transforms=[];var P=Qn(Z);P.forEach($=>{if($!=="none"){var[q,de]=gi($),we=Je.transformTypes[q];typeof we<"u"&&this.transforms.push(new we(this.document,de,te))}})}static fromElement(U,Z){var te=Z.getStyle("transform",!1,!0),[P,$=P]=Z.getStyle("transform-origin",!1,!0).split(),q=[P,$];return te.hasValue()?new Je(U,te.getString(),q):null}apply(U){for(var{transforms:Z}=this,te=Z.length,P=0;P<te;P++)Z[P].apply(U)}unapply(U){for(var{transforms:Z}=this,te=Z.length,P=te-1;P>=0;P--)Z[P].unapply(U)}applyToPoint(U){for(var{transforms:Z}=this,te=Z.length,P=0;P<te;P++)Z[P].applyToPoint(U)}}Je.transformTypes={translate:Wr,rotate:hn,scale:Tn,matrix:Jr,skewX:on,skewY:Fn};class Ut{constructor(U,Z){var te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(this.document=U,this.node=Z,this.captureTextNodes=te,this.attributes=Object.create(null),this.styles=Object.create(null),this.stylesSpecificity=Object.create(null),this.animationFrozen=!1,this.animationFrozenValue="",this.parent=null,this.children=[],!(!Z||Z.nodeType!==1)){if(Array.from(Z.attributes).forEach(de=>{var we=V(de.nodeName);this.attributes[we]=new ze(U,we,de.value)}),this.addStylesFromStyleDefinition(),this.getAttribute("style").hasValue()){var P=this.getAttribute("style").getString().split(";").map(de=>de.trim());P.forEach(de=>{if(de){var[we,Me]=de.split(":").map(tt=>tt.trim());this.styles[we]=new ze(U,we,Me)}})}var{definitions:$}=U,q=this.getAttribute("id");q.hasValue()&&($[q.getString()]||($[q.getString()]=this)),Array.from(Z.childNodes).forEach(de=>{if(de.nodeType===1)this.addChild(de);else if(te&&(de.nodeType===3||de.nodeType===4)){var we=U.createTextNode(de);we.getText().length>0&&this.addChild(we)}})}}getAttribute(U){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,te=this.attributes[U];if(!te&&Z){var P=new ze(this.document,U,"");return this.attributes[U]=P,P}return te||ze.empty(this.document)}getHrefAttribute(){for(var U in this.attributes)if(U==="href"||U.endsWith(":href"))return this.attributes[U];return ze.empty(this.document)}getStyle(U){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,P=this.styles[U];if(P)return P;var $=this.getAttribute(U);if($!=null&&$.hasValue())return this.styles[U]=$,$;if(!te){var{parent:q}=this;if(q){var de=q.getStyle(U);if(de!=null&&de.hasValue())return de}}if(Z){var we=new ze(this.document,U,"");return this.styles[U]=we,we}return P||ze.empty(this.document)}render(U){if(!(this.getStyle("display").getString()==="none"||this.getStyle("visibility").getString()==="hidden")){if(U.save(),this.getStyle("mask").hasValue()){var Z=this.getStyle("mask").getDefinition();Z&&(this.applyEffects(U),Z.apply(U,this))}else if(this.getStyle("filter").getValue("none")!=="none"){var te=this.getStyle("filter").getDefinition();te&&(this.applyEffects(U),te.apply(U,this))}else this.setContext(U),this.renderChildren(U),this.clearContext(U);U.restore()}}setContext(U){}applyEffects(U){var Z=Je.fromElement(this.document,this);Z&&Z.apply(U);var te=this.getStyle("clip-path",!1,!0);if(te.hasValue()){var P=te.getDefinition();P&&P.apply(U)}}clearContext(U){}renderChildren(U){this.children.forEach(Z=>{Z.render(U)})}addChild(U){var Z=U instanceof Ut?U:this.document.createElement(U);Z.parent=this,Ut.ignoreChildTypes.includes(Z.type)||this.children.push(Z)}matchesSelector(U){var Z,{node:te}=this;if(typeof te.matches=="function")return te.matches(U);var P=(Z=te.getAttribute)===null||Z===void 0?void 0:Z.call(te,"class");return!P||P===""?!1:P.split(" ").some($=>".".concat($)===U)}addStylesFromStyleDefinition(){var{styles:U,stylesSpecificity:Z}=this.document;for(var te in U)if(!te.startsWith("@")&&this.matchesSelector(te)){var P=U[te],$=Z[te];if(P)for(var q in P){var de=this.stylesSpecificity[q];typeof de>"u"&&(de="000"),$>=de&&(this.styles[q]=P[q],this.stylesSpecificity[q]=$)}}}removeStyles(U,Z){var te=Z.reduce((P,$)=>{var q=U.getStyle($);if(!q.hasValue())return P;var de=q.getString();return q.setValue(""),[...P,[$,de]]},[]);return te}restoreStyles(U,Z){Z.forEach(te=>{var[P,$]=te;U.getStyle(P,!0).setValue($)})}isFirstChild(){var U;return((U=this.parent)===null||U===void 0?void 0:U.children.indexOf(this))===0}}Ut.ignoreChildTypes=["title"];class gr extends Ut{constructor(U,Z,te){super(U,Z,te)}}function Wt(Rt){var U=Rt.trim();return/^('|")/.test(U)?U:'"'.concat(U,'"')}function Pt(Rt){return typeof process>"u"?Rt:Rt.trim().split(",").map(Wt).join(",")}function or(Rt){if(!Rt)return"";var U=Rt.trim().toLowerCase();switch(U){case"normal":case"italic":case"oblique":case"inherit":case"initial":case"unset":return U;default:return/^oblique\s+(-|)\d+deg$/.test(U)?U:""}}function Br(Rt){if(!Rt)return"";var U=Rt.trim().toLowerCase();switch(U){case"normal":case"bold":case"lighter":case"bolder":case"inherit":case"initial":case"unset":return U;default:return/^[\d.]+$/.test(U)?U:""}}class Ur{constructor(U,Z,te,P,$,q){var de=q?typeof q=="string"?Ur.parse(q):q:{};this.fontFamily=$||de.fontFamily,this.fontSize=P||de.fontSize,this.fontStyle=U||de.fontStyle,this.fontWeight=te||de.fontWeight,this.fontVariant=Z||de.fontVariant}static parse(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",Z=arguments.length>1?arguments[1]:void 0,te="",P="",$="",q="",de="",we=S(U).trim().split(" "),Me={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1};return we.forEach(tt=>{switch(!0){case(!Me.fontStyle&&Ur.styles.includes(tt)):tt!=="inherit"&&(te=tt),Me.fontStyle=!0;break;case(!Me.fontVariant&&Ur.variants.includes(tt)):tt!=="inherit"&&(P=tt),Me.fontStyle=!0,Me.fontVariant=!0;break;case(!Me.fontWeight&&Ur.weights.includes(tt)):tt!=="inherit"&&($=tt),Me.fontStyle=!0,Me.fontVariant=!0,Me.fontWeight=!0;break;case!Me.fontSize:tt!=="inherit"&&([q]=tt.split("/")),Me.fontStyle=!0,Me.fontVariant=!0,Me.fontWeight=!0,Me.fontSize=!0;break;default:tt!=="inherit"&&(de+=tt)}}),new Ur(te,P,$,q,de,Z)}toString(){return[or(this.fontStyle),this.fontVariant,Br(this.fontWeight),this.fontSize,Pt(this.fontFamily)].join(" ").trim()}}Ur.styles="normal|italic|oblique|inherit",Ur.variants="normal|small-caps|inherit",Ur.weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit";class vn{constructor(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Number.NaN,Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.NaN,te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Number.NaN,P=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Number.NaN;this.x1=U,this.y1=Z,this.x2=te,this.y2=P,this.addPoint(U,Z),this.addPoint(te,P)}get x(){return this.x1}get y(){return this.y1}get width(){return this.x2-this.x1}get height(){return this.y2-this.y1}addPoint(U,Z){typeof U<"u"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=U,this.x2=U),U<this.x1&&(this.x1=U),U>this.x2&&(this.x2=U)),typeof Z<"u"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=Z,this.y2=Z),Z<this.y1&&(this.y1=Z),Z>this.y2&&(this.y2=Z))}addX(U){this.addPoint(U,null)}addY(U){this.addPoint(null,U)}addBoundingBox(U){if(U){var{x1:Z,y1:te,x2:P,y2:$}=U;this.addPoint(Z,te),this.addPoint(P,$)}}sumCubic(U,Z,te,P,$){return Math.pow(1-U,3)*Z+3*Math.pow(1-U,2)*U*te+3*(1-U)*Math.pow(U,2)*P+Math.pow(U,3)*$}bezierCurveAdd(U,Z,te,P,$){var q=6*Z-12*te+6*P,de=-3*Z+9*te-9*P+3*$,we=3*te-3*Z;if(de===0){if(q===0)return;var Me=-we/q;0<Me&&Me<1&&(U?this.addX(this.sumCubic(Me,Z,te,P,$)):this.addY(this.sumCubic(Me,Z,te,P,$)));return}var tt=Math.pow(q,2)-4*we*de;if(!(tt<0)){var I=(-q+Math.sqrt(tt))/(2*de);0<I&&I<1&&(U?this.addX(this.sumCubic(I,Z,te,P,$)):this.addY(this.sumCubic(I,Z,te,P,$)));var C=(-q-Math.sqrt(tt))/(2*de);0<C&&C<1&&(U?this.addX(this.sumCubic(C,Z,te,P,$)):this.addY(this.sumCubic(C,Z,te,P,$)))}}addBezierCurve(U,Z,te,P,$,q,de,we){this.addPoint(U,Z),this.addPoint(de,we),this.bezierCurveAdd(!0,U,te,$,de),this.bezierCurveAdd(!1,Z,P,q,we)}addQuadraticCurve(U,Z,te,P,$,q){var de=U+.6666666666666666*(te-U),we=Z+2/3*(P-Z),Me=de+1/3*($-U),tt=we+1/3*(q-Z);this.addBezierCurve(U,Z,de,Me,we,tt,$,q)}isPointInBox(U,Z){var{x1:te,y1:P,x2:$,y2:q}=this;return te<=U&&U<=$&&P<=Z&&Z<=q}}class qr extends g.SVGPathData{constructor(U){super(U.replace(/([+\-.])\s+/gm,"$1").replace(/[^MmZzLlHhVvCcSsQqTtAae\d\s.,+-].*/g,"")),this.control=null,this.start=null,this.current=null,this.command=null,this.commands=this.commands,this.i=-1,this.previousCommand=null,this.points=[],this.angles=[]}reset(){this.i=-1,this.command=null,this.previousCommand=null,this.start=new ct(0,0),this.control=new ct(0,0),this.current=new ct(0,0),this.points=[],this.angles=[]}isEnd(){var{i:U,commands:Z}=this;return U>=Z.length-1}next(){var U=this.commands[++this.i];return this.previousCommand=this.command,this.command=U,U}getPoint(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"x",Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"y",te=new ct(this.command[U],this.command[Z]);return this.makeAbsolute(te)}getAsControlPoint(U,Z){var te=this.getPoint(U,Z);return this.control=te,te}getAsCurrentPoint(U,Z){var te=this.getPoint(U,Z);return this.current=te,te}getReflectedControlPoint(){var U=this.previousCommand.type;if(U!==g.SVGPathData.CURVE_TO&&U!==g.SVGPathData.SMOOTH_CURVE_TO&&U!==g.SVGPathData.QUAD_TO&&U!==g.SVGPathData.SMOOTH_QUAD_TO)return this.current;var{current:{x:Z,y:te},control:{x:P,y:$}}=this,q=new ct(2*Z-P,2*te-$);return q}makeAbsolute(U){if(this.command.relative){var{x:Z,y:te}=this.current;U.x+=Z,U.y+=te}return U}addMarker(U,Z,te){var{points:P,angles:$}=this;te&&$.length>0&&!$[$.length-1]&&($[$.length-1]=P[P.length-1].angleTo(te)),this.addMarkerAngle(U,Z?Z.angleTo(U):null)}addMarkerAngle(U,Z){this.points.push(U),this.angles.push(Z)}getMarkerPoints(){return this.points}getMarkerAngles(){for(var{angles:U}=this,Z=U.length,te=0;te<Z;te++)if(!U[te]){for(var P=te+1;P<Z;P++)if(U[P]){U[te]=U[P];break}}return U}}class Vn extends Ut{constructor(){super(...arguments),this.modifiedEmSizeStack=!1}calculateOpacity(){for(var U=1,Z=this;Z;){var te=Z.getStyle("opacity",!1,!0);te.hasValue(!0)&&(U*=te.getNumber()),Z=Z.parent}return U}setContext(U){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!Z){var te=this.getStyle("fill"),P=this.getStyle("fill-opacity"),$=this.getStyle("stroke"),q=this.getStyle("stroke-opacity");if(te.isUrlDefinition()){var de=te.getFillStyleDefinition(this,P);de&&(U.fillStyle=de)}else if(te.hasValue()){te.getString()==="currentColor"&&te.setValue(this.getStyle("color").getColor());var we=te.getColor();we!=="inherit"&&(U.fillStyle=we==="none"?"rgba(0,0,0,0)":we)}if(P.hasValue()){var Me=new ze(this.document,"fill",U.fillStyle).addOpacity(P).getColor();U.fillStyle=Me}if($.isUrlDefinition()){var tt=$.getFillStyleDefinition(this,q);tt&&(U.strokeStyle=tt)}else if($.hasValue()){$.getString()==="currentColor"&&$.setValue(this.getStyle("color").getColor());var I=$.getString();I!=="inherit"&&(U.strokeStyle=I==="none"?"rgba(0,0,0,0)":I)}if(q.hasValue()){var C=new ze(this.document,"stroke",U.strokeStyle).addOpacity(q).getString();U.strokeStyle=C}var O=this.getStyle("stroke-width");if(O.hasValue()){var Q=O.getPixels();U.lineWidth=Q||ke}var z=this.getStyle("stroke-linecap"),X=this.getStyle("stroke-linejoin"),fe=this.getStyle("stroke-miterlimit"),ie=this.getStyle("stroke-dasharray"),ae=this.getStyle("stroke-dashoffset");if(z.hasValue()&&(U.lineCap=z.getString()),X.hasValue()&&(U.lineJoin=X.getString()),fe.hasValue()&&(U.miterLimit=fe.getNumber()),ie.hasValue()&&ie.getString()!=="none"){var Se=L(ie.getString());typeof U.setLineDash<"u"?U.setLineDash(Se):typeof U.webkitLineDash<"u"?U.webkitLineDash=Se:typeof U.mozDash<"u"&&!(Se.length===1&&Se[0]===0)&&(U.mozDash=Se);var Re=ae.getPixels();typeof U.lineDashOffset<"u"?U.lineDashOffset=Re:typeof U.webkitLineDashOffset<"u"?U.webkitLineDashOffset=Re:typeof U.mozDashOffset<"u"&&(U.mozDashOffset=Re)}}if(this.modifiedEmSizeStack=!1,typeof U.font<"u"){var Ge=this.getStyle("font"),et=this.getStyle("font-style"),xe=this.getStyle("font-variant"),gt=this.getStyle("font-weight"),At=this.getStyle("font-size"),yt=this.getStyle("font-family"),qe=new Ur(et.getString(),xe.getString(),gt.getString(),At.hasValue()?"".concat(At.getPixels(!0),"px"):"",yt.getString(),Ur.parse(Ge.getString(),U.font));et.setValue(qe.fontStyle),xe.setValue(qe.fontVariant),gt.setValue(qe.fontWeight),At.setValue(qe.fontSize),yt.setValue(qe.fontFamily),U.font=qe.toString(),At.isPixels()&&(this.document.emSize=At.getPixels(),this.modifiedEmSizeStack=!0)}Z||(this.applyEffects(U),U.globalAlpha=this.calculateOpacity())}clearContext(U){super.clearContext(U),this.modifiedEmSizeStack&&this.document.popEmSize()}}class Qr extends Vn{constructor(U,Z,te){super(U,Z,te),this.type="path",this.pathParser=null,this.pathParser=new qr(this.getAttribute("d").getString())}path(U){var{pathParser:Z}=this,te=new vn;for(Z.reset(),U&&U.beginPath();!Z.isEnd();)switch(Z.next().type){case qr.MOVE_TO:this.pathM(U,te);break;case qr.LINE_TO:this.pathL(U,te);break;case qr.HORIZ_LINE_TO:this.pathH(U,te);break;case qr.VERT_LINE_TO:this.pathV(U,te);break;case qr.CURVE_TO:this.pathC(U,te);break;case qr.SMOOTH_CURVE_TO:this.pathS(U,te);break;case qr.QUAD_TO:this.pathQ(U,te);break;case qr.SMOOTH_QUAD_TO:this.pathT(U,te);break;case qr.ARC:this.pathA(U,te);break;case qr.CLOSE_PATH:this.pathZ(U,te);break}return te}getBoundingBox(U){return this.path()}getMarkers(){var{pathParser:U}=this,Z=U.getMarkerPoints(),te=U.getMarkerAngles(),P=Z.map(($,q)=>[$,te[q]]);return P}renderChildren(U){this.path(U),this.document.screen.mouse.checkPath(this,U);var Z=this.getStyle("fill-rule");U.fillStyle!==""&&(Z.getString("inherit")!=="inherit"?U.fill(Z.getString()):U.fill()),U.strokeStyle!==""&&(this.getAttribute("vector-effect").getString()==="non-scaling-stroke"?(U.save(),U.setTransform(1,0,0,1,0,0),U.stroke(),U.restore()):U.stroke());var te=this.getMarkers();if(te){var P=te.length-1,$=this.getStyle("marker-start"),q=this.getStyle("marker-mid"),de=this.getStyle("marker-end");if($.isUrlDefinition()){var we=$.getDefinition(),[Me,tt]=te[0];we.render(U,Me,tt)}if(q.isUrlDefinition())for(var I=q.getDefinition(),C=1;C<P;C++){var[O,Q]=te[C];I.render(U,O,Q)}if(de.isUrlDefinition()){var z=de.getDefinition(),[X,fe]=te[P];z.render(U,X,fe)}}}static pathM(U){var Z=U.getAsCurrentPoint();return U.start=U.current,{point:Z}}pathM(U,Z){var{pathParser:te}=this,{point:P}=Qr.pathM(te),{x:$,y:q}=P;te.addMarker(P),Z.addPoint($,q),U&&U.moveTo($,q)}static pathL(U){var{current:Z}=U,te=U.getAsCurrentPoint();return{current:Z,point:te}}pathL(U,Z){var{pathParser:te}=this,{current:P,point:$}=Qr.pathL(te),{x:q,y:de}=$;te.addMarker($,P),Z.addPoint(q,de),U&&U.lineTo(q,de)}static pathH(U){var{current:Z,command:te}=U,P=new ct((te.relative?Z.x:0)+te.x,Z.y);return U.current=P,{current:Z,point:P}}pathH(U,Z){var{pathParser:te}=this,{current:P,point:$}=Qr.pathH(te),{x:q,y:de}=$;te.addMarker($,P),Z.addPoint(q,de),U&&U.lineTo(q,de)}static pathV(U){var{current:Z,command:te}=U,P=new ct(Z.x,(te.relative?Z.y:0)+te.y);return U.current=P,{current:Z,point:P}}pathV(U,Z){var{pathParser:te}=this,{current:P,point:$}=Qr.pathV(te),{x:q,y:de}=$;te.addMarker($,P),Z.addPoint(q,de),U&&U.lineTo(q,de)}static pathC(U){var{current:Z}=U,te=U.getPoint("x1","y1"),P=U.getAsControlPoint("x2","y2"),$=U.getAsCurrentPoint();return{current:Z,point:te,controlPoint:P,currentPoint:$}}pathC(U,Z){var{pathParser:te}=this,{current:P,point:$,controlPoint:q,currentPoint:de}=Qr.pathC(te);te.addMarker(de,q,$),Z.addBezierCurve(P.x,P.y,$.x,$.y,q.x,q.y,de.x,de.y),U&&U.bezierCurveTo($.x,$.y,q.x,q.y,de.x,de.y)}static pathS(U){var{current:Z}=U,te=U.getReflectedControlPoint(),P=U.getAsControlPoint("x2","y2"),$=U.getAsCurrentPoint();return{current:Z,point:te,controlPoint:P,currentPoint:$}}pathS(U,Z){var{pathParser:te}=this,{current:P,point:$,controlPoint:q,currentPoint:de}=Qr.pathS(te);te.addMarker(de,q,$),Z.addBezierCurve(P.x,P.y,$.x,$.y,q.x,q.y,de.x,de.y),U&&U.bezierCurveTo($.x,$.y,q.x,q.y,de.x,de.y)}static pathQ(U){var{current:Z}=U,te=U.getAsControlPoint("x1","y1"),P=U.getAsCurrentPoint();return{current:Z,controlPoint:te,currentPoint:P}}pathQ(U,Z){var{pathParser:te}=this,{current:P,controlPoint:$,currentPoint:q}=Qr.pathQ(te);te.addMarker(q,$,$),Z.addQuadraticCurve(P.x,P.y,$.x,$.y,q.x,q.y),U&&U.quadraticCurveTo($.x,$.y,q.x,q.y)}static pathT(U){var{current:Z}=U,te=U.getReflectedControlPoint();U.control=te;var P=U.getAsCurrentPoint();return{current:Z,controlPoint:te,currentPoint:P}}pathT(U,Z){var{pathParser:te}=this,{current:P,controlPoint:$,currentPoint:q}=Qr.pathT(te);te.addMarker(q,$,$),Z.addQuadraticCurve(P.x,P.y,$.x,$.y,q.x,q.y),U&&U.quadraticCurveTo($.x,$.y,q.x,q.y)}static pathA(U){var{current:Z,command:te}=U,{rX:P,rY:$,xRot:q,lArcFlag:de,sweepFlag:we}=te,Me=q*(Math.PI/180),tt=U.getAsCurrentPoint(),I=new ct(Math.cos(Me)*(Z.x-tt.x)/2+Math.sin(Me)*(Z.y-tt.y)/2,-Math.sin(Me)*(Z.x-tt.x)/2+Math.cos(Me)*(Z.y-tt.y)/2),C=Math.pow(I.x,2)/Math.pow(P,2)+Math.pow(I.y,2)/Math.pow($,2);C>1&&(P*=Math.sqrt(C),$*=Math.sqrt(C));var O=(de===we?-1:1)*Math.sqrt((Math.pow(P,2)*Math.pow($,2)-Math.pow(P,2)*Math.pow(I.y,2)-Math.pow($,2)*Math.pow(I.x,2))/(Math.pow(P,2)*Math.pow(I.y,2)+Math.pow($,2)*Math.pow(I.x,2)));isNaN(O)&&(O=0);var Q=new ct(O*P*I.y/$,O*-$*I.x/P),z=new ct((Z.x+tt.x)/2+Math.cos(Me)*Q.x-Math.sin(Me)*Q.y,(Z.y+tt.y)/2+Math.sin(Me)*Q.x+Math.cos(Me)*Q.y),X=me([1,0],[(I.x-Q.x)/P,(I.y-Q.y)/$]),fe=[(I.x-Q.x)/P,(I.y-Q.y)/$],ie=[(-I.x-Q.x)/P,(-I.y-Q.y)/$],ae=me(fe,ie);return se(fe,ie)<=-1&&(ae=Math.PI),se(fe,ie)>=1&&(ae=0),{currentPoint:tt,rX:P,rY:$,sweepFlag:we,xAxisRotation:Me,centp:z,a1:X,ad:ae}}pathA(U,Z){var{pathParser:te}=this,{currentPoint:P,rX:$,rY:q,sweepFlag:de,xAxisRotation:we,centp:Me,a1:tt,ad:I}=Qr.pathA(te),C=1-de?1:-1,O=tt+C*(I/2),Q=new ct(Me.x+$*Math.cos(O),Me.y+q*Math.sin(O));if(te.addMarkerAngle(Q,O-C*Math.PI/2),te.addMarkerAngle(P,O-C*Math.PI),Z.addPoint(P.x,P.y),U&&!isNaN(tt)&&!isNaN(I)){var z=$>q?$:q,X=$>q?1:$/q,fe=$>q?q/$:1;U.translate(Me.x,Me.y),U.rotate(we),U.scale(X,fe),U.arc(0,0,z,tt,tt+I,!!(1-de)),U.scale(1/X,1/fe),U.rotate(-we),U.translate(-Me.x,-Me.y)}}static pathZ(U){U.current=U.start}pathZ(U,Z){Qr.pathZ(this.pathParser),U&&Z.x1!==Z.x2&&Z.y1!==Z.y2&&U.closePath()}}class Nr extends Qr{constructor(U,Z,te){super(U,Z,te),this.type="glyph",this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber(),this.unicode=this.getAttribute("unicode").getString(),this.arabicForm=this.getAttribute("arabic-form").getString()}}class rn extends Vn{constructor(U,Z,te){super(U,Z,new.target===rn?!0:te),this.type="text",this.x=0,this.y=0,this.measureCache=-1}setContext(U){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;super.setContext(U,Z);var te=this.getStyle("dominant-baseline").getTextBaseline()||this.getStyle("alignment-baseline").getTextBaseline();te&&(U.textBaseline=te)}initializeCoordinates(){this.x=0,this.y=0,this.leafTexts=[],this.textChunkStart=0,this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY}getBoundingBox(U){if(this.type!=="text")return this.getTElementBoundingBox(U);this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(U);var Z=null;return this.children.forEach((te,P)=>{var $=this.getChildBoundingBox(U,this,this,P);Z?Z.addBoundingBox($):Z=$}),Z}getFontSize(){var{document:U,parent:Z}=this,te=Ur.parse(U.ctx.font).fontSize,P=Z.getStyle("font-size").getNumber(te);return P}getTElementBoundingBox(U){var Z=this.getFontSize();return new vn(this.x,this.y-Z,this.x+this.measureText(U),this.y)}getGlyph(U,Z,te){var P=Z[te],$=null;if(U.isArabic){var q=Z.length,de=Z[te-1],we=Z[te+1],Me="isolated";if((te===0||de===" ")&&te<q-1&&we!==" "&&(Me="terminal"),te>0&&de!==" "&&te<q-1&&we!==" "&&(Me="medial"),te>0&&de!==" "&&(te===q-1||we===" ")&&(Me="initial"),typeof U.glyphs[P]<"u"){var tt=U.glyphs[P];$=tt instanceof Nr?tt:tt[Me]}}else $=U.glyphs[P];return $||($=U.missingGlyph),$}getText(){return""}getTextFromNode(U){var Z=U||this.node,te=Array.from(Z.parentNode.childNodes),P=te.indexOf(Z),$=te.length-1,q=S(Z.textContent||"");return P===0&&(q=_(q)),P===$&&(q=T(q)),q}renderChildren(U){if(this.type!=="text"){this.renderTElementChildren(U);return}this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(U),this.children.forEach((te,P)=>{this.renderChild(U,this,this,P)});var{mouse:Z}=this.document.screen;Z.isWorking()&&Z.checkBoundingBox(this,this.getBoundingBox(U))}renderTElementChildren(U){var{document:Z,parent:te}=this,P=this.getText(),$=te.getStyle("font-family").getDefinition();if($){for(var{unitsPerEm:q}=$.fontFace,de=Ur.parse(Z.ctx.font),we=te.getStyle("font-size").getNumber(de.fontSize),Me=te.getStyle("font-style").getString(de.fontStyle),tt=we/q,I=$.isRTL?P.split("").reverse().join(""):P,C=L(te.getAttribute("dx").getString()),O=I.length,Q=0;Q<O;Q++){var z=this.getGlyph($,I,Q);U.translate(this.x,this.y),U.scale(tt,-tt);var X=U.lineWidth;U.lineWidth=U.lineWidth*q/we,Me==="italic"&&U.transform(1,0,.4,1,0,0),z.render(U),Me==="italic"&&U.transform(1,0,-.4,1,0,0),U.lineWidth=X,U.scale(1/tt,-1/tt),U.translate(-this.x,-this.y),this.x+=we*(z.horizAdvX||$.horizAdvX)/q,typeof C[Q]<"u"&&!isNaN(C[Q])&&(this.x+=C[Q])}return}var{x:fe,y:ie}=this;U.fillStyle&&U.fillText(P,fe,ie),U.strokeStyle&&U.strokeText(P,fe,ie)}applyAnchoring(){if(!(this.textChunkStart>=this.leafTexts.length)){var U=this.leafTexts[this.textChunkStart],Z=U.getStyle("text-anchor").getString("start"),te=!1,P=0;Z==="start"&&!te||Z==="end"&&te?P=U.x-this.minX:Z==="end"&&!te||Z==="start"&&te?P=U.x-this.maxX:P=U.x-(this.minX+this.maxX)/2;for(var $=this.textChunkStart;$<this.leafTexts.length;$++)this.leafTexts[$].x+=P;this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.textChunkStart=this.leafTexts.length}}adjustChildCoordinatesRecursive(U){this.children.forEach((Z,te)=>{this.adjustChildCoordinatesRecursiveCore(U,this,this,te)}),this.applyAnchoring()}adjustChildCoordinatesRecursiveCore(U,Z,te,P){var $=te.children[P];$.children.length>0?$.children.forEach((q,de)=>{Z.adjustChildCoordinatesRecursiveCore(U,Z,$,de)}):this.adjustChildCoordinates(U,Z,te,P)}adjustChildCoordinates(U,Z,te,P){var $=te.children[P];if(typeof $.measureText!="function")return $;U.save(),$.setContext(U,!0);var q=$.getAttribute("x"),de=$.getAttribute("y"),we=$.getAttribute("dx"),Me=$.getAttribute("dy"),tt=$.getStyle("font-family").getDefinition(),I=!!tt&&tt.isRTL;P===0&&(q.hasValue()||q.setValue($.getInheritedAttribute("x")),de.hasValue()||de.setValue($.getInheritedAttribute("y")),we.hasValue()||we.setValue($.getInheritedAttribute("dx")),Me.hasValue()||Me.setValue($.getInheritedAttribute("dy")));var C=$.measureText(U);return I&&(Z.x-=C),q.hasValue()?(Z.applyAnchoring(),$.x=q.getPixels("x"),we.hasValue()&&($.x+=we.getPixels("x"))):(we.hasValue()&&(Z.x+=we.getPixels("x")),$.x=Z.x),Z.x=$.x,I||(Z.x+=C),de.hasValue()?($.y=de.getPixels("y"),Me.hasValue()&&($.y+=Me.getPixels("y"))):(Me.hasValue()&&(Z.y+=Me.getPixels("y")),$.y=Z.y),Z.y=$.y,Z.leafTexts.push($),Z.minX=Math.min(Z.minX,$.x,$.x+C),Z.maxX=Math.max(Z.maxX,$.x,$.x+C),$.clearContext(U),U.restore(),$}getChildBoundingBox(U,Z,te,P){var $=te.children[P];if(typeof $.getBoundingBox!="function")return null;var q=$.getBoundingBox(U);return q?($.children.forEach((de,we)=>{var Me=Z.getChildBoundingBox(U,Z,$,we);q.addBoundingBox(Me)}),q):null}renderChild(U,Z,te,P){var $=te.children[P];$.render(U),$.children.forEach((q,de)=>{Z.renderChild(U,Z,$,de)})}measureText(U){var{measureCache:Z}=this;if(~Z)return Z;var te=this.getText(),P=this.measureTargetText(U,te);return this.measureCache=P,P}measureTargetText(U,Z){if(!Z.length)return 0;var{parent:te}=this,P=te.getStyle("font-family").getDefinition();if(P){for(var $=this.getFontSize(),q=P.isRTL?Z.split("").reverse().join(""):Z,de=L(te.getAttribute("dx").getString()),we=q.length,Me=0,tt=0;tt<we;tt++){var I=this.getGlyph(P,q,tt);Me+=(I.horizAdvX||P.horizAdvX)*$/P.fontFace.unitsPerEm,typeof de[tt]<"u"&&!isNaN(de[tt])&&(Me+=de[tt])}return Me}if(!U.measureText)return Z.length*10;U.save(),this.setContext(U,!0);var{width:C}=U.measureText(Z);return this.clearContext(U),U.restore(),C}getInheritedAttribute(U){for(var Z=this;Z instanceof rn&&Z.isFirstChild();){var te=Z.parent.getAttribute(U);if(te.hasValue(!0))return te.getValue("0");Z=Z.parent}return null}}class Xr extends rn{constructor(U,Z,te){super(U,Z,new.target===Xr?!0:te),this.type="tspan",this.text=this.children.length>0?"":this.getTextFromNode()}getText(){return this.text}}class yn extends Xr{constructor(){super(...arguments),this.type="textNode"}}class Wn extends Vn{constructor(){super(...arguments),this.type="svg",this.root=!1}setContext(U){var Z,{document:te}=this,{screen:P,window:$}=te,q=U.canvas;if(P.setDefaults(U),q.style&&typeof U.font<"u"&&$&&typeof $.getComputedStyle<"u"){U.font=$.getComputedStyle(q).getPropertyValue("font");var de=new ze(te,"fontSize",Ur.parse(U.font).fontSize);de.hasValue()&&(te.rootEmSize=de.getPixels("y"),te.emSize=te.rootEmSize)}this.getAttribute("x").hasValue()||this.getAttribute("x",!0).setValue(0),this.getAttribute("y").hasValue()||this.getAttribute("y",!0).setValue(0);var{width:we,height:Me}=P.viewPort;this.getStyle("width").hasValue()||this.getStyle("width",!0).setValue("100%"),this.getStyle("height").hasValue()||this.getStyle("height",!0).setValue("100%"),this.getStyle("color").hasValue()||this.getStyle("color",!0).setValue("black");var tt=this.getAttribute("refX"),I=this.getAttribute("refY"),C=this.getAttribute("viewBox"),O=C.hasValue()?L(C.getString()):null,Q=!this.root&&this.getStyle("overflow").getValue("hidden")!=="visible",z=0,X=0,fe=0,ie=0;O&&(z=O[0],X=O[1]),this.root||(we=this.getStyle("width").getPixels("x"),Me=this.getStyle("height").getPixels("y"),this.type==="marker"&&(fe=z,ie=X,z=0,X=0)),P.viewPort.setCurrent(we,Me),this.node&&(!this.parent||((Z=this.node.parentNode)===null||Z===void 0?void 0:Z.nodeName)==="foreignObject")&&this.getStyle("transform",!1,!0).hasValue()&&!this.getStyle("transform-origin",!1,!0).hasValue()&&this.getStyle("transform-origin",!0,!0).setValue("50% 50%"),super.setContext(U),U.translate(this.getAttribute("x").getPixels("x"),this.getAttribute("y").getPixels("y")),O&&(we=O[2],Me=O[3]),te.setViewBox({ctx:U,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:P.viewPort.width,desiredWidth:we,height:P.viewPort.height,desiredHeight:Me,minX:z,minY:X,refX:tt.getValue(),refY:I.getValue(),clip:Q,clipX:fe,clipY:ie}),O&&(P.viewPort.removeCurrent(),P.viewPort.setCurrent(we,Me))}clearContext(U){super.clearContext(U),this.document.screen.viewPort.removeCurrent()}resize(U){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:U,te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,P=this.getAttribute("width",!0),$=this.getAttribute("height",!0),q=this.getAttribute("viewBox"),de=this.getAttribute("style"),we=P.getNumber(0),Me=$.getNumber(0);if(te)if(typeof te=="string")this.getAttribute("preserveAspectRatio",!0).setValue(te);else{var tt=this.getAttribute("preserveAspectRatio");tt.hasValue()&&tt.setValue(tt.getString().replace(/^\s*(\S.*\S)\s*$/,"$1"))}if(P.setValue(U),$.setValue(Z),q.hasValue()||q.setValue("0 0 ".concat(we||U," ").concat(Me||Z)),de.hasValue()){var I=this.getStyle("width"),C=this.getStyle("height");I.hasValue()&&I.setValue("".concat(U,"px")),C.hasValue()&&C.setValue("".concat(Z,"px"))}}}class ds extends Qr{constructor(){super(...arguments),this.type="rect"}path(U){var Z=this.getAttribute("x").getPixels("x"),te=this.getAttribute("y").getPixels("y"),P=this.getStyle("width",!1,!0).getPixels("x"),$=this.getStyle("height",!1,!0).getPixels("y"),q=this.getAttribute("rx"),de=this.getAttribute("ry"),we=q.getPixels("x"),Me=de.getPixels("y");if(q.hasValue()&&!de.hasValue()&&(Me=we),de.hasValue()&&!q.hasValue()&&(we=Me),we=Math.min(we,P/2),Me=Math.min(Me,$/2),U){var tt=4*((Math.sqrt(2)-1)/3);U.beginPath(),$>0&&P>0&&(U.moveTo(Z+we,te),U.lineTo(Z+P-we,te),U.bezierCurveTo(Z+P-we+tt*we,te,Z+P,te+Me-tt*Me,Z+P,te+Me),U.lineTo(Z+P,te+$-Me),U.bezierCurveTo(Z+P,te+$-Me+tt*Me,Z+P-we+tt*we,te+$,Z+P-we,te+$),U.lineTo(Z+we,te+$),U.bezierCurveTo(Z+we-tt*we,te+$,Z,te+$-Me+tt*Me,Z,te+$-Me),U.lineTo(Z,te+Me),U.bezierCurveTo(Z,te+Me-tt*Me,Z+we-tt*we,te,Z+we,te),U.closePath())}return new vn(Z,te,Z+P,te+$)}getMarkers(){return null}}class vs extends Qr{constructor(){super(...arguments),this.type="circle"}path(U){var Z=this.getAttribute("cx").getPixels("x"),te=this.getAttribute("cy").getPixels("y"),P=this.getAttribute("r").getPixels();return U&&P>0&&(U.beginPath(),U.arc(Z,te,P,0,Math.PI*2,!1),U.closePath()),new vn(Z-P,te-P,Z+P,te+P)}getMarkers(){return null}}class ys extends Qr{constructor(){super(...arguments),this.type="ellipse"}path(U){var Z=4*((Math.sqrt(2)-1)/3),te=this.getAttribute("rx").getPixels("x"),P=this.getAttribute("ry").getPixels("y"),$=this.getAttribute("cx").getPixels("x"),q=this.getAttribute("cy").getPixels("y");return U&&te>0&&P>0&&(U.beginPath(),U.moveTo($+te,q),U.bezierCurveTo($+te,q+Z*P,$+Z*te,q+P,$,q+P),U.bezierCurveTo($-Z*te,q+P,$-te,q+Z*P,$-te,q),U.bezierCurveTo($-te,q-Z*P,$-Z*te,q-P,$,q-P),U.bezierCurveTo($+Z*te,q-P,$+te,q-Z*P,$+te,q),U.closePath()),new vn($-te,q-P,$+te,q+P)}getMarkers(){return null}}class $n extends Qr{constructor(){super(...arguments),this.type="line"}getPoints(){return[new ct(this.getAttribute("x1").getPixels("x"),this.getAttribute("y1").getPixels("y")),new ct(this.getAttribute("x2").getPixels("x"),this.getAttribute("y2").getPixels("y"))]}path(U){var[{x:Z,y:te},{x:P,y:$}]=this.getPoints();return U&&(U.beginPath(),U.moveTo(Z,te),U.lineTo(P,$)),new vn(Z,te,P,$)}getMarkers(){var[U,Z]=this.getPoints(),te=U.angleTo(Z);return[[U,te],[Z,te]]}}class zr extends Qr{constructor(U,Z,te){super(U,Z,te),this.type="polyline",this.points=[],this.points=ct.parsePath(this.getAttribute("points").getString())}path(U){var{points:Z}=this,[{x:te,y:P}]=Z,$=new vn(te,P);return U&&(U.beginPath(),U.moveTo(te,P)),Z.forEach(q=>{var{x:de,y:we}=q;$.addPoint(de,we),U&&U.lineTo(de,we)}),$}getMarkers(){var{points:U}=this,Z=U.length-1,te=[];return U.forEach((P,$)=>{$!==Z&&te.push([P,P.angleTo(U[$+1])])}),te.length>0&&te.push([U[U.length-1],te[te.length-1][1]]),te}}class $i extends zr{constructor(){super(...arguments),this.type="polygon"}path(U){var Z=super.path(U),[{x:te,y:P}]=this.points;return U&&(U.lineTo(te,P),U.closePath()),Z}}class Os extends Ut{constructor(){super(...arguments),this.type="pattern"}createPattern(U,Z,te){var P=this.getStyle("width").getPixels("x",!0),$=this.getStyle("height").getPixels("y",!0),q=new Wn(this.document,null);q.attributes.viewBox=new ze(this.document,"viewBox",this.getAttribute("viewBox").getValue()),q.attributes.width=new ze(this.document,"width","".concat(P,"px")),q.attributes.height=new ze(this.document,"height","".concat($,"px")),q.attributes.transform=new ze(this.document,"transform",this.getAttribute("patternTransform").getValue()),q.children=this.children;var de=this.document.createCanvas(P,$),we=de.getContext("2d"),Me=this.getAttribute("x"),tt=this.getAttribute("y");Me.hasValue()&&tt.hasValue()&&we.translate(Me.getPixels("x",!0),tt.getPixels("y",!0)),te.hasValue()?this.styles["fill-opacity"]=te:Reflect.deleteProperty(this.styles,"fill-opacity");for(var I=-1;I<=1;I++)for(var C=-1;C<=1;C++)we.save(),q.attributes.x=new ze(this.document,"x",I*de.width),q.attributes.y=new ze(this.document,"y",C*de.height),q.render(we),we.restore();var O=U.createPattern(de,"repeat");return O}}class bn extends Ut{constructor(){super(...arguments),this.type="marker"}render(U,Z,te){if(Z){var{x:P,y:$}=Z,q=this.getAttribute("orient").getString("auto"),de=this.getAttribute("markerUnits").getString("strokeWidth");U.translate(P,$),q==="auto"&&U.rotate(te),de==="strokeWidth"&&U.scale(U.lineWidth,U.lineWidth),U.save();var we=new Wn(this.document,null);we.type=this.type,we.attributes.viewBox=new ze(this.document,"viewBox",this.getAttribute("viewBox").getValue()),we.attributes.refX=new ze(this.document,"refX",this.getAttribute("refX").getValue()),we.attributes.refY=new ze(this.document,"refY",this.getAttribute("refY").getValue()),we.attributes.width=new ze(this.document,"width",this.getAttribute("markerWidth").getValue()),we.attributes.height=new ze(this.document,"height",this.getAttribute("markerHeight").getValue()),we.attributes.overflow=new ze(this.document,"overflow",this.getAttribute("overflow").getValue()),we.attributes.fill=new ze(this.document,"fill",this.getAttribute("fill").getColor("black")),we.attributes.stroke=new ze(this.document,"stroke",this.getAttribute("stroke").getValue("none")),we.children=this.children,we.render(U),U.restore(),de==="strokeWidth"&&U.scale(1/U.lineWidth,1/U.lineWidth),q==="auto"&&U.rotate(-te),U.translate(-P,-$)}}}class La extends Ut{constructor(){super(...arguments),this.type="defs"}render(){}}class ws extends Vn{constructor(){super(...arguments),this.type="g"}getBoundingBox(U){var Z=new vn;return this.children.forEach(te=>{Z.addBoundingBox(te.getBoundingBox(U))}),Z}}class Ts extends Ut{constructor(U,Z,te){super(U,Z,te),this.attributesToInherit=["gradientUnits"],this.stops=[];var{stops:P,children:$}=this;$.forEach(q=>{q.type==="stop"&&P.push(q)})}getGradientUnits(){return this.getAttribute("gradientUnits").getString("objectBoundingBox")}createGradient(U,Z,te){var P=this;this.getHrefAttribute().hasValue()&&(P=this.getHrefAttribute().getDefinition(),this.inheritStopContainer(P));var{stops:$}=P,q=this.getGradient(U,Z);if(!q)return this.addParentOpacity(te,$[$.length-1].color);if($.forEach(X=>{q.addColorStop(X.offset,this.addParentOpacity(te,X.color))}),this.getAttribute("gradientTransform").hasValue()){var{document:de}=this,{MAX_VIRTUAL_PIXELS:we,viewPort:Me}=de.screen,[tt]=Me.viewPorts,I=new ds(de,null);I.attributes.x=new ze(de,"x",-we/3),I.attributes.y=new ze(de,"y",-we/3),I.attributes.width=new ze(de,"width",we),I.attributes.height=new ze(de,"height",we);var C=new ws(de,null);C.attributes.transform=new ze(de,"transform",this.getAttribute("gradientTransform").getValue()),C.children=[I];var O=new Wn(de,null);O.attributes.x=new ze(de,"x",0),O.attributes.y=new ze(de,"y",0),O.attributes.width=new ze(de,"width",tt.width),O.attributes.height=new ze(de,"height",tt.height),O.children=[C];var Q=de.createCanvas(tt.width,tt.height),z=Q.getContext("2d");return z.fillStyle=q,O.render(z),z.createPattern(Q,"no-repeat")}return q}inheritStopContainer(U){this.attributesToInherit.forEach(Z=>{!this.getAttribute(Z).hasValue()&&U.getAttribute(Z).hasValue()&&this.getAttribute(Z,!0).setValue(U.getAttribute(Z).getValue())})}addParentOpacity(U,Z){if(U.hasValue()){var te=new ze(this.document,"color",Z);return te.addOpacity(U).getColor()}return Z}}class Es extends Ts{constructor(U,Z,te){super(U,Z,te),this.type="linearGradient",this.attributesToInherit.push("x1","y1","x2","y2")}getGradient(U,Z){var te=this.getGradientUnits()==="objectBoundingBox",P=te?Z.getBoundingBox(U):null;if(te&&!P)return null;!this.getAttribute("x1").hasValue()&&!this.getAttribute("y1").hasValue()&&!this.getAttribute("x2").hasValue()&&!this.getAttribute("y2").hasValue()&&(this.getAttribute("x1",!0).setValue(0),this.getAttribute("y1",!0).setValue(0),this.getAttribute("x2",!0).setValue(1),this.getAttribute("y2",!0).setValue(0));var $=te?P.x+P.width*this.getAttribute("x1").getNumber():this.getAttribute("x1").getPixels("x"),q=te?P.y+P.height*this.getAttribute("y1").getNumber():this.getAttribute("y1").getPixels("y"),de=te?P.x+P.width*this.getAttribute("x2").getNumber():this.getAttribute("x2").getPixels("x"),we=te?P.y+P.height*this.getAttribute("y2").getNumber():this.getAttribute("y2").getPixels("y");return $===de&&q===we?null:U.createLinearGradient($,q,de,we)}}class Hi extends Ts{constructor(U,Z,te){super(U,Z,te),this.type="radialGradient",this.attributesToInherit.push("cx","cy","r","fx","fy","fr")}getGradient(U,Z){var te=this.getGradientUnits()==="objectBoundingBox",P=Z.getBoundingBox(U);if(te&&!P)return null;this.getAttribute("cx").hasValue()||this.getAttribute("cx",!0).setValue("50%"),this.getAttribute("cy").hasValue()||this.getAttribute("cy",!0).setValue("50%"),this.getAttribute("r").hasValue()||this.getAttribute("r",!0).setValue("50%");var $=te?P.x+P.width*this.getAttribute("cx").getNumber():this.getAttribute("cx").getPixels("x"),q=te?P.y+P.height*this.getAttribute("cy").getNumber():this.getAttribute("cy").getPixels("y"),de=$,we=q;this.getAttribute("fx").hasValue()&&(de=te?P.x+P.width*this.getAttribute("fx").getNumber():this.getAttribute("fx").getPixels("x")),this.getAttribute("fy").hasValue()&&(we=te?P.y+P.height*this.getAttribute("fy").getNumber():this.getAttribute("fy").getPixels("y"));var Me=te?(P.width+P.height)/2*this.getAttribute("r").getNumber():this.getAttribute("r").getPixels(),tt=this.getAttribute("fr").getPixels();return U.createRadialGradient(de,we,tt,$,q,Me)}}class Hs extends Ut{constructor(U,Z,te){super(U,Z,te),this.type="stop";var P=Math.max(0,Math.min(1,this.getAttribute("offset").getNumber())),$=this.getStyle("stop-opacity"),q=this.getStyle("stop-color",!0);q.getString()===""&&q.setValue("#000"),$.hasValue()&&(q=q.addOpacity($)),this.offset=P,this.color=q.getColor()}}class xs extends Ut{constructor(U,Z,te){super(U,Z,te),this.type="animate",this.duration=0,this.initialValue=null,this.initialUnits="",this.removed=!1,this.frozen=!1,U.screen.animations.push(this),this.begin=this.getAttribute("begin").getMilliseconds(),this.maxDuration=this.begin+this.getAttribute("dur").getMilliseconds(),this.from=this.getAttribute("from"),this.to=this.getAttribute("to"),this.values=new ze(U,"values",null);var P=this.getAttribute("values");P.hasValue()&&this.values.setValue(P.getString().split(";"))}getProperty(){var U=this.getAttribute("attributeType").getString(),Z=this.getAttribute("attributeName").getString();return U==="CSS"?this.parent.getStyle(Z,!0):this.parent.getAttribute(Z,!0)}calcValue(){var{initialUnits:U}=this,{progress:Z,from:te,to:P}=this.getProgress(),$=te.getNumber()+(P.getNumber()-te.getNumber())*Z;return U==="%"&&($*=100),"".concat($).concat(U)}update(U){var{parent:Z}=this,te=this.getProperty();if(this.initialValue||(this.initialValue=te.getString(),this.initialUnits=te.getUnits()),this.duration>this.maxDuration){var P=this.getAttribute("fill").getString("remove");if(this.getAttribute("repeatCount").getString()==="indefinite"||this.getAttribute("repeatDur").getString()==="indefinite")this.duration=0;else if(P==="freeze"&&!this.frozen)this.frozen=!0,Z.animationFrozen=!0,Z.animationFrozenValue=te.getString();else if(P==="remove"&&!this.removed)return this.removed=!0,te.setValue(Z.animationFrozen?Z.animationFrozenValue:this.initialValue),!0;return!1}this.duration+=U;var $=!1;if(this.begin<this.duration){var q=this.calcValue(),de=this.getAttribute("type");if(de.hasValue()){var we=de.getString();q="".concat(we,"(").concat(q,")")}te.setValue(q),$=!0}return $}getProgress(){var{document:U,values:Z}=this,te={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(Z.hasValue()){var P=te.progress*(Z.getValue().length-1),$=Math.floor(P),q=Math.ceil(P);te.from=new ze(U,"from",parseFloat(Z.getValue()[$])),te.to=new ze(U,"to",parseFloat(Z.getValue()[q])),te.progress=(P-$)/(q-$)}else te.from=this.from,te.to=this.to;return te}}class _o extends xs{constructor(){super(...arguments),this.type="animateColor"}calcValue(){var{progress:U,from:Z,to:te}=this.getProgress(),P=new p(Z.getColor()),$=new p(te.getColor());if(P.ok&&$.ok){var q=P.r+($.r-P.r)*U,de=P.g+($.g-P.g)*U,we=P.b+($.b-P.b)*U;return"rgb(".concat(Math.floor(q),", ").concat(Math.floor(de),", ").concat(Math.floor(we),")")}return this.getAttribute("from").getColor()}}class rs extends xs{constructor(){super(...arguments),this.type="animateTransform"}calcValue(){var{progress:U,from:Z,to:te}=this.getProgress(),P=L(Z.getString()),$=L(te.getString()),q=P.map((de,we)=>{var Me=$[we];return de+(Me-de)*U}).join(" ");return q}}class Yu extends Ut{constructor(U,Z,te){super(U,Z,te),this.type="font",this.glyphs=Object.create(null),this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber();var{definitions:P}=U,{children:$}=this;for(var q of $)switch(q.type){case"font-face":{this.fontFace=q;var de=q.getStyle("font-family");de.hasValue()&&(P[de.getString()]=this);break}case"missing-glyph":this.missingGlyph=q;break;case"glyph":{var we=q;we.arabicForm?(this.isRTL=!0,this.isArabic=!0,typeof this.glyphs[we.unicode]>"u"&&(this.glyphs[we.unicode]=Object.create(null)),this.glyphs[we.unicode][we.arabicForm]=we):this.glyphs[we.unicode]=we;break}}}render(){}}class Ua extends Ut{constructor(U,Z,te){super(U,Z,te),this.type="font-face",this.ascent=this.getAttribute("ascent").getNumber(),this.descent=this.getAttribute("descent").getNumber(),this.unitsPerEm=this.getAttribute("units-per-em").getNumber()}}class Bl extends Qr{constructor(){super(...arguments),this.type="missing-glyph",this.horizAdvX=0}}class yu extends rn{constructor(){super(...arguments),this.type="tref"}getText(){var U=this.getHrefAttribute().getDefinition();if(U){var Z=U.children[0];if(Z)return Z.getText()}return""}}class fl extends rn{constructor(U,Z,te){super(U,Z,te),this.type="a";var{childNodes:P}=Z,$=P[0],q=P.length>0&&Array.from(P).every(de=>de.nodeType===3);this.hasText=q,this.text=q?this.getTextFromNode($):""}getText(){return this.text}renderChildren(U){if(this.hasText){super.renderChildren(U);var{document:Z,x:te,y:P}=this,{mouse:$}=Z.screen,q=new ze(Z,"fontSize",Ur.parse(Z.ctx.font).fontSize);$.isWorking()&&$.checkBoundingBox(this,new vn(te,P-q.getPixels("y"),te+this.measureText(U),P))}else if(this.children.length>0){var de=new ws(this.document,null);de.children=this.children,de.parent=this,de.render(U)}}onClick(){var{window:U}=this.document;U&&U.open(this.getHrefAttribute().getString())}onMouseMove(){var U=this.document.ctx;U.canvas.style.cursor="pointer"}}function Ps(Rt,U){var Z=Object.keys(Rt);if(Object.getOwnPropertySymbols){var te=Object.getOwnPropertySymbols(Rt);U&&(te=te.filter(function(P){return Object.getOwnPropertyDescriptor(Rt,P).enumerable})),Z.push.apply(Z,te)}return Z}function oo(Rt){for(var U=1;U<arguments.length;U++){var Z=arguments[U]!=null?arguments[U]:{};U%2?Ps(Object(Z),!0).forEach(function(te){(0,f.default)(Rt,te,Z[te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Rt,Object.getOwnPropertyDescriptors(Z)):Ps(Object(Z)).forEach(function(te){Object.defineProperty(Rt,te,Object.getOwnPropertyDescriptor(Z,te))})}return Rt}class Cs extends rn{constructor(U,Z,te){super(U,Z,te),this.type="textPath",this.textWidth=0,this.textHeight=0,this.pathLength=-1,this.glyphInfo=null,this.letterSpacingCache=[],this.measuresCache=new Map([["",0]]);var P=this.getHrefAttribute().getDefinition();this.text=this.getTextFromNode(),this.dataArray=this.parsePathData(P)}getText(){return this.text}path(U){var{dataArray:Z}=this;U&&U.beginPath(),Z.forEach(te=>{var{type:P,points:$}=te;switch(P){case qr.LINE_TO:U&&U.lineTo($[0],$[1]);break;case qr.MOVE_TO:U&&U.moveTo($[0],$[1]);break;case qr.CURVE_TO:U&&U.bezierCurveTo($[0],$[1],$[2],$[3],$[4],$[5]);break;case qr.QUAD_TO:U&&U.quadraticCurveTo($[0],$[1],$[2],$[3]);break;case qr.ARC:{var[q,de,we,Me,tt,I,C,O]=$,Q=we>Me?we:Me,z=we>Me?1:we/Me,X=we>Me?Me/we:1;U&&(U.translate(q,de),U.rotate(C),U.scale(z,X),U.arc(0,0,Q,tt,tt+I,!!(1-O)),U.scale(1/z,1/X),U.rotate(-C),U.translate(-q,-de));break}case qr.CLOSE_PATH:U&&U.closePath();break}})}renderChildren(U){this.setTextData(U),U.save();var Z=this.parent.getStyle("text-decoration").getString(),te=this.getFontSize(),{glyphInfo:P}=this,$=U.fillStyle;Z==="underline"&&U.beginPath(),P.forEach((q,de)=>{var{p0:we,p1:Me,rotation:tt,text:I}=q;U.save(),U.translate(we.x,we.y),U.rotate(tt),U.fillStyle&&U.fillText(I,0,0),U.strokeStyle&&U.strokeText(I,0,0),U.restore(),Z==="underline"&&(de===0&&U.moveTo(we.x,we.y+te/8),U.lineTo(Me.x,Me.y+te/5))}),Z==="underline"&&(U.lineWidth=te/20,U.strokeStyle=$,U.stroke(),U.closePath()),U.restore()}getLetterSpacingAt(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.letterSpacingCache[U]||0}findSegmentToFitChar(U,Z,te,P,$,q,de,we,Me){var tt=q,I=this.measureText(U,we);we===" "&&Z==="justify"&&te<P&&(I+=(P-te)/$),Me>-1&&(tt+=this.getLetterSpacingAt(Me));var C=this.textHeight/20,O=this.getEquidistantPointOnPath(tt,C,0),Q=this.getEquidistantPointOnPath(tt+I,C,0),z={p0:O,p1:Q},X=O&&Q?Math.atan2(Q.y-O.y,Q.x-O.x):0;if(de){var fe=Math.cos(Math.PI/2+X)*de,ie=Math.cos(-X)*de;z.p0=oo(oo({},O),{},{x:O.x+fe,y:O.y+ie}),z.p1=oo(oo({},Q),{},{x:Q.x+fe,y:Q.y+ie})}return tt+=I,{offset:tt,segment:z,rotation:X}}measureText(U,Z){var{measuresCache:te}=this,P=Z||this.getText();if(te.has(P))return te.get(P);var $=this.measureTargetText(U,P);return te.set(P,$),$}setTextData(U){if(!this.glyphInfo){var Z=this.getText(),te=Z.split(""),P=Z.split(" ").length-1,$=this.parent.getAttribute("dx").split().map(Se=>Se.getPixels("x")),q=this.parent.getAttribute("dy").getPixels("y"),de=this.parent.getStyle("text-anchor").getString("start"),we=this.getStyle("letter-spacing"),Me=this.parent.getStyle("letter-spacing"),tt=0;!we.hasValue()||we.getValue()==="inherit"?tt=Me.getPixels():we.hasValue()&&we.getValue()!=="initial"&&we.getValue()!=="unset"&&(tt=we.getPixels());var I=[],C=Z.length;this.letterSpacingCache=I;for(var O=0;O<C;O++)I.push(typeof $[O]<"u"?$[O]:tt);var Q=I.reduce((Se,Re,Ge)=>Ge===0?0:Se+Re||0,0),z=this.measureText(U),X=Math.max(z+Q,0);this.textWidth=z,this.textHeight=this.getFontSize(),this.glyphInfo=[];var fe=this.getPathLength(),ie=this.getStyle("startOffset").getNumber(0)*fe,ae=0;(de==="middle"||de==="center")&&(ae=-X/2),(de==="end"||de==="right")&&(ae=-X),ae+=ie,te.forEach((Se,Re)=>{var{offset:Ge,segment:et,rotation:xe}=this.findSegmentToFitChar(U,de,X,fe,P,ae,q,Se,Re);ae=Ge,!(!et.p0||!et.p1)&&this.glyphInfo.push({text:te[Re],p0:et.p0,p1:et.p1,rotation:xe})})}}parsePathData(U){if(this.pathLength=-1,!U)return[];var Z=[],{pathParser:te}=U;for(te.reset();!te.isEnd();){var{current:P}=te,$=P?P.x:0,q=P?P.y:0,de=te.next(),we=de.type,Me=[];switch(de.type){case qr.MOVE_TO:this.pathM(te,Me);break;case qr.LINE_TO:we=this.pathL(te,Me);break;case qr.HORIZ_LINE_TO:we=this.pathH(te,Me);break;case qr.VERT_LINE_TO:we=this.pathV(te,Me);break;case qr.CURVE_TO:this.pathC(te,Me);break;case qr.SMOOTH_CURVE_TO:we=this.pathS(te,Me);break;case qr.QUAD_TO:this.pathQ(te,Me);break;case qr.SMOOTH_QUAD_TO:we=this.pathT(te,Me);break;case qr.ARC:Me=this.pathA(te);break;case qr.CLOSE_PATH:Qr.pathZ(te);break}de.type!==qr.CLOSE_PATH?Z.push({type:we,points:Me,start:{x:$,y:q},pathLength:this.calcLength($,q,we,Me)}):Z.push({type:qr.CLOSE_PATH,points:[],pathLength:0})}return Z}pathM(U,Z){var{x:te,y:P}=Qr.pathM(U).point;Z.push(te,P)}pathL(U,Z){var{x:te,y:P}=Qr.pathL(U).point;return Z.push(te,P),qr.LINE_TO}pathH(U,Z){var{x:te,y:P}=Qr.pathH(U).point;return Z.push(te,P),qr.LINE_TO}pathV(U,Z){var{x:te,y:P}=Qr.pathV(U).point;return Z.push(te,P),qr.LINE_TO}pathC(U,Z){var{point:te,controlPoint:P,currentPoint:$}=Qr.pathC(U);Z.push(te.x,te.y,P.x,P.y,$.x,$.y)}pathS(U,Z){var{point:te,controlPoint:P,currentPoint:$}=Qr.pathS(U);return Z.push(te.x,te.y,P.x,P.y,$.x,$.y),qr.CURVE_TO}pathQ(U,Z){var{controlPoint:te,currentPoint:P}=Qr.pathQ(U);Z.push(te.x,te.y,P.x,P.y)}pathT(U,Z){var{controlPoint:te,currentPoint:P}=Qr.pathT(U);return Z.push(te.x,te.y,P.x,P.y),qr.QUAD_TO}pathA(U){var{rX:Z,rY:te,sweepFlag:P,xAxisRotation:$,centp:q,a1:de,ad:we}=Qr.pathA(U);return P===0&&we>0&&(we-=2*Math.PI),P===1&&we<0&&(we+=2*Math.PI),[q.x,q.y,Z,te,de,we,$,P]}calcLength(U,Z,te,P){var $=0,q=null,de=null,we=0;switch(te){case qr.LINE_TO:return this.getLineLength(U,Z,P[0],P[1]);case qr.CURVE_TO:for($=0,q=this.getPointOnCubicBezier(0,U,Z,P[0],P[1],P[2],P[3],P[4],P[5]),we=.01;we<=1;we+=.01)de=this.getPointOnCubicBezier(we,U,Z,P[0],P[1],P[2],P[3],P[4],P[5]),$+=this.getLineLength(q.x,q.y,de.x,de.y),q=de;return $;case qr.QUAD_TO:for($=0,q=this.getPointOnQuadraticBezier(0,U,Z,P[0],P[1],P[2],P[3]),we=.01;we<=1;we+=.01)de=this.getPointOnQuadraticBezier(we,U,Z,P[0],P[1],P[2],P[3]),$+=this.getLineLength(q.x,q.y,de.x,de.y),q=de;return $;case qr.ARC:{$=0;var Me=P[4],tt=P[5],I=P[4]+tt,C=Math.PI/180;if(Math.abs(Me-I)<C&&(C=Math.abs(Me-I)),q=this.getPointOnEllipticalArc(P[0],P[1],P[2],P[3],Me,0),tt<0)for(we=Me-C;we>I;we-=C)de=this.getPointOnEllipticalArc(P[0],P[1],P[2],P[3],we,0),$+=this.getLineLength(q.x,q.y,de.x,de.y),q=de;else for(we=Me+C;we<I;we+=C)de=this.getPointOnEllipticalArc(P[0],P[1],P[2],P[3],we,0),$+=this.getLineLength(q.x,q.y,de.x,de.y),q=de;return de=this.getPointOnEllipticalArc(P[0],P[1],P[2],P[3],I,0),$+=this.getLineLength(q.x,q.y,de.x,de.y),$}}return 0}getPointOnLine(U,Z,te,P,$){var q=arguments.length>5&&arguments[5]!==void 0?arguments[5]:Z,de=arguments.length>6&&arguments[6]!==void 0?arguments[6]:te,we=($-te)/(P-Z+ke),Me=Math.sqrt(U*U/(1+we*we));P<Z&&(Me*=-1);var tt=we*Me,I=null;if(P===Z)I={x:q,y:de+tt};else if((de-te)/(q-Z+ke)===we)I={x:q+Me,y:de+tt};else{var C=0,O=0,Q=this.getLineLength(Z,te,P,$);if(Q<ke)return null;var z=(q-Z)*(P-Z)+(de-te)*($-te);z/=Q*Q,C=Z+z*(P-Z),O=te+z*($-te);var X=this.getLineLength(q,de,C,O),fe=Math.sqrt(U*U-X*X);Me=Math.sqrt(fe*fe/(1+we*we)),P<Z&&(Me*=-1),tt=we*Me,I={x:C+Me,y:O+tt}}return I}getPointOnPath(U){var Z=this.getPathLength(),te=0,P=null;if(U<-5e-5||U-5e-5>Z)return null;var{dataArray:$}=this;for(var q of $){if(q&&(q.pathLength<5e-5||te+q.pathLength+5e-5<U)){te+=q.pathLength;continue}var de=U-te,we=0;switch(q.type){case qr.LINE_TO:P=this.getPointOnLine(de,q.start.x,q.start.y,q.points[0],q.points[1],q.start.x,q.start.y);break;case qr.ARC:{var Me=q.points[4],tt=q.points[5],I=q.points[4]+tt;if(we=Me+de/q.pathLength*tt,tt<0&&we<I||tt>=0&&we>I)break;P=this.getPointOnEllipticalArc(q.points[0],q.points[1],q.points[2],q.points[3],we,q.points[6]);break}case qr.CURVE_TO:we=de/q.pathLength,we>1&&(we=1),P=this.getPointOnCubicBezier(we,q.start.x,q.start.y,q.points[0],q.points[1],q.points[2],q.points[3],q.points[4],q.points[5]);break;case qr.QUAD_TO:we=de/q.pathLength,we>1&&(we=1),P=this.getPointOnQuadraticBezier(we,q.start.x,q.start.y,q.points[0],q.points[1],q.points[2],q.points[3]);break}if(P)return P;break}return null}getLineLength(U,Z,te,P){return Math.sqrt((te-U)*(te-U)+(P-Z)*(P-Z))}getPathLength(){return this.pathLength===-1&&(this.pathLength=this.dataArray.reduce((U,Z)=>Z.pathLength>0?U+Z.pathLength:U,0)),this.pathLength}getPointOnCubicBezier(U,Z,te,P,$,q,de,we,Me){var tt=we*je(U)+q*Ue(U)+P*De(U)+Z*ot(U),I=Me*je(U)+de*Ue(U)+$*De(U)+te*ot(U);return{x:tt,y:I}}getPointOnQuadraticBezier(U,Z,te,P,$,q,de){var we=q*ft(U)+P*Ce(U)+Z*Ze(U),Me=de*ft(U)+$*Ce(U)+te*Ze(U);return{x:we,y:Me}}getPointOnEllipticalArc(U,Z,te,P,$,q){var de=Math.cos(q),we=Math.sin(q),Me={x:te*Math.cos($),y:P*Math.sin($)};return{x:U+(Me.x*de-Me.y*we),y:Z+(Me.x*we+Me.y*de)}}buildEquidistantCache(U,Z){var te=this.getPathLength(),P=Z||.25,$=U||te/100;if(!this.equidistantCache||this.equidistantCache.step!==$||this.equidistantCache.precision!==P){this.equidistantCache={step:$,precision:P,points:[]};for(var q=0,de=0;de<=te;de+=P){var we=this.getPointOnPath(de),Me=this.getPointOnPath(de+P);!we||!Me||(q+=this.getLineLength(we.x,we.y,Me.x,Me.y),q>=$&&(this.equidistantCache.points.push({x:we.x,y:we.y,distance:de}),q-=$))}}}getEquidistantPointOnPath(U,Z,te){if(this.buildEquidistantCache(Z,te),U<0||U-this.getPathLength()>5e-5)return null;var P=Math.round(U/this.getPathLength()*(this.equidistantCache.points.length-1));return this.equidistantCache.points[P]||null}}var aa=/^\s*data:(([^/,;]+\/[^/,;]+)(?:;([^,;=]+=[^,;=]+))?)?(?:;(base64))?,(.*)$/i;class bs extends Vn{constructor(U,Z,te){super(U,Z,te),this.type="image",this.loaded=!1;var P=this.getHrefAttribute().getString();if(P){var $=P.endsWith(".svg")||/^\s*data:image\/svg\+xml/i.test(P);U.images.push(this),$?this.loadSvg(P):this.loadImage(P),this.isSvg=$}}loadImage(U){var Z=this;return(0,d.default)(function*(){try{var te=yield Z.document.createImage(U);Z.image=te}catch(P){console.error('Error while loading image "'.concat(U,'":'),P)}Z.loaded=!0})()}loadSvg(U){var Z=this;return(0,d.default)(function*(){var te=aa.exec(U);if(te){var P=te[5];te[4]==="base64"?Z.image=atob(P):Z.image=decodeURIComponent(P)}else try{var $=yield Z.document.fetch(U),q=yield $.text();Z.image=q}catch(de){console.error('Error while loading image "'.concat(U,'":'),de)}Z.loaded=!0})()}renderChildren(U){var{document:Z,image:te,loaded:P}=this,$=this.getAttribute("x").getPixels("x"),q=this.getAttribute("y").getPixels("y"),de=this.getStyle("width").getPixels("x"),we=this.getStyle("height").getPixels("y");if(!(!P||!te||!de||!we)){if(U.save(),U.translate($,q),this.isSvg){var Me=Z.canvg.forkString(U,this.image,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:0,offsetY:0,scaleWidth:de,scaleHeight:we});Me.document.documentElement.parent=this,Me.render()}else{var tt=this.image;Z.setViewBox({ctx:U,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:de,desiredWidth:tt.width,height:we,desiredHeight:tt.height}),this.loaded&&(typeof tt.complete>"u"||tt.complete)&&U.drawImage(tt,0,0)}U.restore()}}getBoundingBox(){var U=this.getAttribute("x").getPixels("x"),Z=this.getAttribute("y").getPixels("y"),te=this.getStyle("width").getPixels("x"),P=this.getStyle("height").getPixels("y");return new vn(U,Z,U+te,Z+P)}}class Al extends Vn{constructor(){super(...arguments),this.type="symbol"}render(U){}}class Ga{constructor(U){this.document=U,this.loaded=!1,U.fonts.push(this)}load(U,Z){var te=this;return(0,d.default)(function*(){try{var{document:P}=te,$=yield P.canvg.parser.load(Z),q=$.getElementsByTagName("font");Array.from(q).forEach(de=>{var we=P.createElement(de);P.definitions[U]=we})}catch(de){console.error('Error while loading font "'.concat(Z,'":'),de)}te.loaded=!0})()}}class lo extends Ut{constructor(U,Z,te){super(U,Z,te),this.type="style";var P=S(Array.from(Z.childNodes).map(q=>q.textContent).join("").replace(/(\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"").replace(/@import.*;/g,"")),$=P.split("}");$.forEach(q=>{var de=q.trim();if(de){var we=de.split("{"),Me=we[0].split(","),tt=we[1].split(";");Me.forEach(I=>{var C=I.trim();if(C){var O=U.styles[C]||{};if(tt.forEach(X=>{var fe=X.indexOf(":"),ie=X.substr(0,fe).trim(),ae=X.substr(fe+1,X.length-fe).trim();ie&&ae&&(O[ie]=new ze(U,ie,ae))}),U.styles[C]=O,U.stylesSpecificity[C]=Be(C),C==="@font-face"){var Q=O["font-family"].getString().replace(/"|'/g,""),z=O.src.getString().split(",");z.forEach(X=>{if(X.indexOf('format("svg")')>0){var fe=G(X);fe&&new Ga(U).load(Q,fe)}})}}})}})}}lo.parseExternalUrl=G;class Ec extends Vn{constructor(){super(...arguments),this.type="use"}setContext(U){super.setContext(U);var Z=this.getAttribute("x"),te=this.getAttribute("y");Z.hasValue()&&U.translate(Z.getPixels("x"),0),te.hasValue()&&U.translate(0,te.getPixels("y"))}path(U){var{element:Z}=this;Z&&Z.path(U)}renderChildren(U){var{document:Z,element:te}=this;if(te){var P=te;if(te.type==="symbol"&&(P=new Wn(Z,null),P.attributes.viewBox=new ze(Z,"viewBox",te.getAttribute("viewBox").getString()),P.attributes.preserveAspectRatio=new ze(Z,"preserveAspectRatio",te.getAttribute("preserveAspectRatio").getString()),P.attributes.overflow=new ze(Z,"overflow",te.getAttribute("overflow").getString()),P.children=te.children,te.styles.opacity=new ze(Z,"opacity",this.calculateOpacity())),P.type==="svg"){var $=this.getStyle("width",!1,!0),q=this.getStyle("height",!1,!0);$.hasValue()&&(P.attributes.width=new ze(Z,"width",$.getString())),q.hasValue()&&(P.attributes.height=new ze(Z,"height",q.getString()))}var de=P.parent;P.parent=this,P.render(U),P.parent=de}}getBoundingBox(U){var{element:Z}=this;return Z?Z.getBoundingBox(U):null}elementTransform(){var{document:U,element:Z}=this;return Je.fromElement(U,Z)}get element(){return this.cachedElement||(this.cachedElement=this.getHrefAttribute().getDefinition()),this.cachedElement}}function oc(Rt,U,Z,te,P,$){return Rt[Z*te*4+U*4+$]}function Gc(Rt,U,Z,te,P,$,q){Rt[Z*te*4+U*4+$]=q}function Qs(Rt,U,Z){var te=Rt[U];return te*Z}function Ws(Rt,U,Z,te){return U+Math.cos(Rt)*Z+Math.sin(Rt)*te}class ml extends Ut{constructor(U,Z,te){super(U,Z,te),this.type="feColorMatrix";var P=L(this.getAttribute("values").getString());switch(this.getAttribute("type").getString("matrix")){case"saturate":{var $=P[0];P=[.213+.787*$,.715-.715*$,.072-.072*$,0,0,.213-.213*$,.715+.285*$,.072-.072*$,0,0,.213-.213*$,.715-.715*$,.072+.928*$,0,0,0,0,0,1,0,0,0,0,0,1];break}case"hueRotate":{var q=P[0]*Math.PI/180;P=[Ws(q,.213,.787,-.213),Ws(q,.715,-.715,-.715),Ws(q,.072,-.072,.928),0,0,Ws(q,.213,-.213,.143),Ws(q,.715,.285,.14),Ws(q,.072,-.072,-.283),0,0,Ws(q,.213,-.213,-.787),Ws(q,.715,-.715,.715),Ws(q,.072,.928,.072),0,0,0,0,0,1,0,0,0,0,0,1];break}case"luminanceToAlpha":P=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2125,.7154,.0721,0,0,0,0,0,0,1];break}this.matrix=P,this.includeOpacity=this.getAttribute("includeOpacity").hasValue()}apply(U,Z,te,P,$){for(var{includeOpacity:q,matrix:de}=this,we=U.getImageData(0,0,P,$),Me=0;Me<$;Me++)for(var tt=0;tt<P;tt++){var I=oc(we.data,tt,Me,P,$,0),C=oc(we.data,tt,Me,P,$,1),O=oc(we.data,tt,Me,P,$,2),Q=oc(we.data,tt,Me,P,$,3),z=Qs(de,0,I)+Qs(de,1,C)+Qs(de,2,O)+Qs(de,3,Q)+Qs(de,4,1),X=Qs(de,5,I)+Qs(de,6,C)+Qs(de,7,O)+Qs(de,8,Q)+Qs(de,9,1),fe=Qs(de,10,I)+Qs(de,11,C)+Qs(de,12,O)+Qs(de,13,Q)+Qs(de,14,1),ie=Qs(de,15,I)+Qs(de,16,C)+Qs(de,17,O)+Qs(de,18,Q)+Qs(de,19,1);q&&(z=0,X=0,fe=0,ie*=Q/255),Gc(we.data,tt,Me,P,$,0,z),Gc(we.data,tt,Me,P,$,1,X),Gc(we.data,tt,Me,P,$,2,fe),Gc(we.data,tt,Me,P,$,3,ie)}U.clearRect(0,0,P,$),U.putImageData(we,0,0)}}class Ra extends Ut{constructor(){super(...arguments),this.type="mask"}apply(U,Z){var{document:te}=this,P=this.getAttribute("x").getPixels("x"),$=this.getAttribute("y").getPixels("y"),q=this.getStyle("width").getPixels("x"),de=this.getStyle("height").getPixels("y");if(!q&&!de){var we=new vn;this.children.forEach(Q=>{we.addBoundingBox(Q.getBoundingBox(U))}),P=Math.floor(we.x1),$=Math.floor(we.y1),q=Math.floor(we.width),de=Math.floor(we.height)}var Me=this.removeStyles(Z,Ra.ignoreStyles),tt=te.createCanvas(P+q,$+de),I=tt.getContext("2d");te.screen.setDefaults(I),this.renderChildren(I),new ml(te,{nodeType:1,childNodes:[],attributes:[{nodeName:"type",value:"luminanceToAlpha"},{nodeName:"includeOpacity",value:"true"}]}).apply(I,0,0,P+q,$+de);var C=te.createCanvas(P+q,$+de),O=C.getContext("2d");te.screen.setDefaults(O),Z.render(O),O.globalCompositeOperation="destination-in",O.fillStyle=I.createPattern(tt,"no-repeat"),O.fillRect(0,0,P+q,$+de),U.fillStyle=O.createPattern(C,"no-repeat"),U.fillRect(0,0,P+q,$+de),this.restoreStyles(Z,Me)}render(U){}}Ra.ignoreStyles=["mask","transform","clip-path"];var To=()=>{};class za extends Ut{constructor(){super(...arguments),this.type="clipPath"}apply(U){var{document:Z}=this,te=Reflect.getPrototypeOf(U),{beginPath:P,closePath:$}=U;te&&(te.beginPath=To,te.closePath=To),Reflect.apply(P,U,[]),this.children.forEach(q=>{if(!(typeof q.path>"u")){var de=typeof q.elementTransform<"u"?q.elementTransform():null;de||(de=Je.fromElement(Z,q)),de&&de.apply(U),q.path(U),te&&(te.closePath=$),de&&de.unapply(U)}}),Reflect.apply($,U,[]),U.clip(),te&&(te.beginPath=P,te.closePath=$)}render(U){}}class ci extends Ut{constructor(){super(...arguments),this.type="filter"}apply(U,Z){var{document:te,children:P}=this,$=Z.getBoundingBox(U);if($){var q=0,de=0;P.forEach(fe=>{var ie=fe.extraFilterDistance||0;q=Math.max(q,ie),de=Math.max(de,ie)});var we=Math.floor($.width),Me=Math.floor($.height),tt=we+2*q,I=Me+2*de;if(!(tt<1||I<1)){var C=Math.floor($.x),O=Math.floor($.y),Q=this.removeStyles(Z,ci.ignoreStyles),z=te.createCanvas(tt,I),X=z.getContext("2d");te.screen.setDefaults(X),X.translate(-C+q,-O+de),Z.render(X),P.forEach(fe=>{typeof fe.apply=="function"&&fe.apply(X,0,0,tt,I)}),U.drawImage(z,0,0,tt,I,C-q,O-de,tt,I),this.restoreStyles(Z,Q)}}}render(U){}}ci.ignoreStyles=["filter","transform","clip-path"];class ba extends Ut{constructor(U,Z,te){super(U,Z,te),this.type="feDropShadow",this.addStylesFromStyleDefinition()}apply(U,Z,te,P,$){}}class co extends Ut{constructor(){super(...arguments),this.type="feMorphology"}apply(U,Z,te,P,$){}}class pa extends Ut{constructor(){super(...arguments),this.type="feComposite"}apply(U,Z,te,P,$){}}class pl extends Ut{constructor(U,Z,te){super(U,Z,te),this.type="feGaussianBlur",this.blurRadius=Math.floor(this.getAttribute("stdDeviation").getNumber()),this.extraFilterDistance=this.blurRadius}apply(U,Z,te,P,$){var{document:q,blurRadius:de}=this,we=q.window?q.window.document.body:null,Me=U.canvas;Me.id=q.getUniqueId(),we&&(Me.style.display="none",we.appendChild(Me)),(0,y.canvasRGBA)(Me,Z,te,P,$,de),we&&we.removeChild(Me)}}class fs extends Ut{constructor(){super(...arguments),this.type="title"}}class Uo extends Ut{constructor(){super(...arguments),this.type="desc"}}var wa={svg:Wn,rect:ds,circle:vs,ellipse:ys,line:$n,polyline:zr,polygon:$i,path:Qr,pattern:Os,marker:bn,defs:La,linearGradient:Es,radialGradient:Hi,stop:Hs,animate:xs,animateColor:_o,animateTransform:rs,font:Yu,"font-face":Ua,"missing-glyph":Bl,glyph:Nr,text:rn,tspan:Xr,tref:yu,a:fl,textPath:Cs,image:bs,g:ws,symbol:Al,style:lo,use:Ec,mask:Ra,clipPath:za,filter:ci,feDropShadow:ba,feMorphology:co,feComposite:pa,feColorMatrix:ml,feGaussianBlur:pl,title:fs,desc:Uo};function ha(Rt,U){var Z=Object.keys(Rt);if(Object.getOwnPropertySymbols){var te=Object.getOwnPropertySymbols(Rt);U&&(te=te.filter(function(P){return Object.getOwnPropertyDescriptor(Rt,P).enumerable})),Z.push.apply(Z,te)}return Z}function Wa(Rt){for(var U=1;U<arguments.length;U++){var Z=arguments[U]!=null?arguments[U]:{};U%2?ha(Object(Z),!0).forEach(function(te){(0,f.default)(Rt,te,Z[te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Rt,Object.getOwnPropertyDescriptors(Z)):ha(Object(Z)).forEach(function(te){Object.defineProperty(Rt,te,Object.getOwnPropertyDescriptor(Z,te))})}return Rt}function Ll(Rt,U){var Z=document.createElement("canvas");return Z.width=Rt,Z.height=U,Z}function uo(Rt){return Vs.apply(this,arguments)}function Vs(){return Vs=(0,d.default)(function*(Rt){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Z=document.createElement("img");return U&&(Z.crossOrigin="Anonymous"),new Promise((te,P)=>{Z.onload=()=>{te(Z)},Z.onerror=($,q,de,we,Me)=>{P(Me)},Z.src=Rt})}),Vs.apply(this,arguments)}class Ya{constructor(U){var{rootEmSize:Z=12,emSize:te=12,createCanvas:P=Ya.createCanvas,createImage:$=Ya.createImage,anonymousCrossOrigin:q}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.canvg=U,this.definitions=Object.create(null),this.styles=Object.create(null),this.stylesSpecificity=Object.create(null),this.images=[],this.fonts=[],this.emSizeStack=[],this.uniqueId=0,this.screen=U.screen,this.rootEmSize=Z,this.emSize=te,this.createCanvas=P,this.createImage=this.bindCreateImage($,q),this.screen.wait(this.isImagesLoaded.bind(this)),this.screen.wait(this.isFontsLoaded.bind(this))}bindCreateImage(U,Z){return typeof Z=="boolean"?(te,P)=>U(te,typeof P=="boolean"?P:Z):U}get window(){return this.screen.window}get fetch(){return this.screen.fetch}get ctx(){return this.screen.ctx}get emSize(){var{emSizeStack:U}=this;return U[U.length-1]}set emSize(U){var{emSizeStack:Z}=this;Z.push(U)}popEmSize(){var{emSizeStack:U}=this;U.pop()}getUniqueId(){return"canvg".concat(++this.uniqueId)}isImagesLoaded(){return this.images.every(U=>U.loaded)}isFontsLoaded(){return this.fonts.every(U=>U.loaded)}createDocumentElement(U){var Z=this.createElement(U.documentElement);return Z.root=!0,Z.addStylesFromStyleDefinition(),this.documentElement=Z,Z}createElement(U){var Z=U.nodeName.replace(/^[^:]+:/,""),te=Ya.elementTypes[Z];return typeof te<"u"?new te(this,U):new gr(this,U)}createTextNode(U){return new yn(this,U)}setViewBox(U){this.screen.setViewBox(Wa({document:this},U))}}Ya.createCanvas=Ll,Ya.createImage=uo,Ya.elementTypes=wa;function tl(Rt,U){var Z=Object.keys(Rt);if(Object.getOwnPropertySymbols){var te=Object.getOwnPropertySymbols(Rt);U&&(te=te.filter(function(P){return Object.getOwnPropertyDescriptor(Rt,P).enumerable})),Z.push.apply(Z,te)}return Z}function ho(Rt){for(var U=1;U<arguments.length;U++){var Z=arguments[U]!=null?arguments[U]:{};U%2?tl(Object(Z),!0).forEach(function(te){(0,f.default)(Rt,te,Z[te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Rt,Object.getOwnPropertyDescriptors(Z)):tl(Object(Z)).forEach(function(te){Object.defineProperty(Rt,te,Object.getOwnPropertyDescriptor(Z,te))})}return Rt}class ll{constructor(U,Z){var te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.parser=new yr(te),this.screen=new Bt(U,te),this.options=te;var P=new Ya(this,te),$=P.createDocumentElement(Z);this.document=P,this.documentElement=$}static from(U,Z){var te=arguments;return(0,d.default)(function*(){var P=te.length>2&&te[2]!==void 0?te[2]:{},$=new yr(P),q=yield $.parse(Z);return new ll(U,q,P)})()}static fromString(U,Z){var te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},P=new yr(te),$=P.parseFromString(Z);return new ll(U,$,te)}fork(U,Z){var te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return ll.from(U,Z,ho(ho({},this.options),te))}forkString(U,Z){var te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return ll.fromString(U,Z,ho(ho({},this.options),te))}ready(){return this.screen.ready()}isReady(){return this.screen.isReady()}render(){var U=arguments,Z=this;return(0,d.default)(function*(){var te=U.length>0&&U[0]!==void 0?U[0]:{};Z.start(ho({enableRedraw:!0,ignoreAnimation:!0,ignoreMouse:!0},te)),yield Z.ready(),Z.stop()})()}start(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{documentElement:Z,screen:te,options:P}=this;te.start(Z,ho(ho({enableRedraw:!0},P),U))}stop(){this.screen.stop()}resize(U){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:U,te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.documentElement.resize(U,Z,te)}}}),"./node_modules/core-js/internals/a-callable.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/is-callable.js"),f=o("./node_modules/core-js/internals/try-to-string.js"),A=TypeError;c.exports=function(p){if(d(p))return p;throw new A(f(p)+" is not a function")}}),"./node_modules/core-js/internals/a-constructor.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/is-constructor.js"),f=o("./node_modules/core-js/internals/try-to-string.js"),A=TypeError;c.exports=function(p){if(d(p))return p;throw new A(f(p)+" is not a constructor")}}),"./node_modules/core-js/internals/a-possible-prototype.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/is-possible-prototype.js"),f=String,A=TypeError;c.exports=function(p){if(d(p))return p;throw new A("Can't set "+f(p)+" as a prototype")}}),"./node_modules/core-js/internals/a-set.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/set-helpers.js").has;c.exports=function(f){return d(f),f}}),"./node_modules/core-js/internals/add-to-unscopables.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/well-known-symbol.js"),f=o("./node_modules/core-js/internals/object-create.js"),A=o("./node_modules/core-js/internals/object-define-property.js").f,p=d("unscopables"),g=Array.prototype;g[p]===void 0&&A(g,p,{configurable:!0,value:f(null)}),c.exports=function(y){g[p][y]=!0}}),"./node_modules/core-js/internals/advance-string-index.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/string-multibyte.js").charAt;c.exports=function(f,A,p){return A+(p?d(f,A).length:1)}}),"./node_modules/core-js/internals/an-instance.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/object-is-prototype-of.js"),f=TypeError;c.exports=function(A,p){if(d(p,A))return A;throw new f("Incorrect invocation")}}),"./node_modules/core-js/internals/an-object.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/is-object.js"),f=String,A=TypeError;c.exports=function(p){if(d(p))return p;throw new A(f(p)+" is not an object")}}),"./node_modules/core-js/internals/array-buffer-non-extensible.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/fails.js");c.exports=d(function(){if(typeof ArrayBuffer=="function"){var f=new ArrayBuffer(8);Object.isExtensible(f)&&Object.defineProperty(f,"a",{value:8})}})}),"./node_modules/core-js/internals/array-for-each.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/array-iteration.js").forEach,f=o("./node_modules/core-js/internals/array-method-is-strict.js"),A=f("forEach");c.exports=A?[].forEach:function(g){return d(this,g,arguments.length>1?arguments[1]:void 0)}}),"./node_modules/core-js/internals/array-from.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/function-bind-context.js"),f=o("./node_modules/core-js/internals/function-call.js"),A=o("./node_modules/core-js/internals/to-object.js"),p=o("./node_modules/core-js/internals/call-with-safe-iteration-closing.js"),g=o("./node_modules/core-js/internals/is-array-iterator-method.js"),y=o("./node_modules/core-js/internals/is-constructor.js"),v=o("./node_modules/core-js/internals/length-of-array-like.js"),b=o("./node_modules/core-js/internals/create-property.js"),w=o("./node_modules/core-js/internals/get-iterator.js"),S=o("./node_modules/core-js/internals/get-iterator-method.js"),_=Array;c.exports=function(L){var D=A(L),V=y(this),G=arguments.length,J=G>1?arguments[1]:void 0,ee=J!==void 0;ee&&(J=d(J,G>2?arguments[2]:void 0));var ue=S(D),pe=0,ge,he,ne,Ae,oe,Be;if(ue&&!(this===_&&g(ue)))for(he=V?new this:[],Ae=w(D,ue),oe=Ae.next;!(ne=f(oe,Ae)).done;pe++)Be=ee?p(Ae,J,[ne.value,pe],!0):ne.value,b(he,pe,Be);else for(ge=v(D),he=V?new this(ge):_(ge);ge>pe;pe++)Be=ee?J(D[pe],pe):D[pe],b(he,pe,Be);return he.length=pe,he}}),"./node_modules/core-js/internals/array-includes.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/to-indexed-object.js"),f=o("./node_modules/core-js/internals/to-absolute-index.js"),A=o("./node_modules/core-js/internals/length-of-array-like.js"),p=function(g){return function(y,v,b){var w=d(y),S=A(w);if(S===0)return!g&&-1;var _=f(b,S),T;if(g&&v!==v){for(;S>_;)if(T=w[_++],T!==T)return!0}else for(;S>_;_++)if((g||_ in w)&&w[_]===v)return g||_||0;return!g&&-1}};c.exports={includes:p(!0),indexOf:p(!1)}}),"./node_modules/core-js/internals/array-iteration.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/function-bind-context.js"),f=o("./node_modules/core-js/internals/function-uncurry-this.js"),A=o("./node_modules/core-js/internals/indexed-object.js"),p=o("./node_modules/core-js/internals/to-object.js"),g=o("./node_modules/core-js/internals/length-of-array-like.js"),y=o("./node_modules/core-js/internals/array-species-create.js"),v=f([].push),b=function(w){var S=w===1,_=w===2,T=w===3,L=w===4,D=w===6,V=w===7,G=w===5||D;return function(J,ee,ue,pe){for(var ge=p(J),he=A(ge),ne=g(he),Ae=d(ee,ue),oe=0,Be=pe||y,ke=S?Be(J,ne):_||V?Be(J,0):void 0,ve,se;ne>oe;oe++)if((G||oe in he)&&(ve=he[oe],se=Ae(ve,oe,ge),w))if(S)ke[oe]=se;else if(se)switch(w){case 3:return!0;case 5:return ve;case 6:return oe;case 2:v(ke,ve)}else switch(w){case 4:return!1;case 7:v(ke,ve)}return D?-1:T||L?L:ke}};c.exports={forEach:b(0),map:b(1),filter:b(2),some:b(3),every:b(4),find:b(5),findIndex:b(6),filterReject:b(7)}}),"./node_modules/core-js/internals/array-method-has-species-support.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/fails.js"),f=o("./node_modules/core-js/internals/well-known-symbol.js"),A=o("./node_modules/core-js/internals/environment-v8-version.js"),p=f("species");c.exports=function(g){return A>=51||!d(function(){var y=[],v=y.constructor={};return v[p]=function(){return{foo:1}},y[g](Boolean).foo!==1})}}),"./node_modules/core-js/internals/array-method-is-strict.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/fails.js");c.exports=function(f,A){var p=[][f];return!!p&&d(function(){p.call(null,A||function(){return 1},1)})}}),"./node_modules/core-js/internals/array-reduce.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/a-callable.js"),f=o("./node_modules/core-js/internals/to-object.js"),A=o("./node_modules/core-js/internals/indexed-object.js"),p=o("./node_modules/core-js/internals/length-of-array-like.js"),g=TypeError,y="Reduce of empty array with no initial value",v=function(b){return function(w,S,_,T){var L=f(w),D=A(L),V=p(L);if(d(S),V===0&&_<2)throw new g(y);var G=b?V-1:0,J=b?-1:1;if(_<2)for(;;){if(G in D){T=D[G],G+=J;break}if(G+=J,b?G<0:V<=G)throw new g(y)}for(;b?G>=0:V>G;G+=J)G in D&&(T=S(T,D[G],G,L));return T}};c.exports={left:v(!1),right:v(!0)}}),"./node_modules/core-js/internals/array-slice.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/function-uncurry-this.js");c.exports=d([].slice)}),"./node_modules/core-js/internals/array-species-constructor.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/is-array.js"),f=o("./node_modules/core-js/internals/is-constructor.js"),A=o("./node_modules/core-js/internals/is-object.js"),p=o("./node_modules/core-js/internals/well-known-symbol.js"),g=p("species"),y=Array;c.exports=function(v){var b;return d(v)&&(b=v.constructor,f(b)&&(b===y||d(b.prototype))?b=void 0:A(b)&&(b=b[g],b===null&&(b=void 0))),b===void 0?y:b}}),"./node_modules/core-js/internals/array-species-create.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/array-species-constructor.js");c.exports=function(f,A){return new(d(f))(A===0?0:A)}}),"./node_modules/core-js/internals/call-with-safe-iteration-closing.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/an-object.js"),f=o("./node_modules/core-js/internals/iterator-close.js");c.exports=function(A,p,g,y){try{return y?p(d(g)[0],g[1]):p(g)}catch(v){f(A,"throw",v)}}}),"./node_modules/core-js/internals/check-correctness-of-iteration.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/well-known-symbol.js"),f=d("iterator"),A=!1;try{var p=0,g={next:function(){return{done:!!p++}},return:function(){A=!0}};g[f]=function(){return this},Array.from(g,function(){throw 2})}catch{}c.exports=function(y,v){try{if(!v&&!A)return!1}catch{return!1}var b=!1;try{var w={};w[f]=function(){return{next:function(){return{done:b=!0}}}},y(w)}catch{}return b}}),"./node_modules/core-js/internals/classof-raw.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/function-uncurry-this.js"),f=d({}.toString),A=d("".slice);c.exports=function(p){return A(f(p),8,-1)}}),"./node_modules/core-js/internals/classof.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/to-string-tag-support.js"),f=o("./node_modules/core-js/internals/is-callable.js"),A=o("./node_modules/core-js/internals/classof-raw.js"),p=o("./node_modules/core-js/internals/well-known-symbol.js"),g=p("toStringTag"),y=Object,v=A((function(){return arguments})())==="Arguments",b=function(w,S){try{return w[S]}catch{}};c.exports=d?A:function(w){var S,_,T;return w===void 0?"Undefined":w===null?"Null":typeof(_=b(S=y(w),g))=="string"?_:v?A(S):(T=A(S))==="Object"&&f(S.callee)?"Arguments":T}}),"./node_modules/core-js/internals/collection-strong.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/object-create.js"),f=o("./node_modules/core-js/internals/define-built-in-accessor.js"),A=o("./node_modules/core-js/internals/define-built-ins.js"),p=o("./node_modules/core-js/internals/function-bind-context.js"),g=o("./node_modules/core-js/internals/an-instance.js"),y=o("./node_modules/core-js/internals/is-null-or-undefined.js"),v=o("./node_modules/core-js/internals/iterate.js"),b=o("./node_modules/core-js/internals/iterator-define.js"),w=o("./node_modules/core-js/internals/create-iter-result-object.js"),S=o("./node_modules/core-js/internals/set-species.js"),_=o("./node_modules/core-js/internals/descriptors.js"),T=o("./node_modules/core-js/internals/internal-metadata.js").fastKey,L=o("./node_modules/core-js/internals/internal-state.js"),D=L.set,V=L.getterFor;c.exports={getConstructor:function(G,J,ee,ue){var pe=G(function(oe,Be){g(oe,ge),D(oe,{type:J,index:d(null),first:null,last:null,size:0}),_||(oe.size=0),y(Be)||v(Be,oe[ue],{that:oe,AS_ENTRIES:ee})}),ge=pe.prototype,he=V(J),ne=function(oe,Be,ke){var ve=he(oe),se=Ae(oe,Be),me,je;return se?se.value=ke:(ve.last=se={index:je=T(Be,!0),key:Be,value:ke,previous:me=ve.last,next:null,removed:!1},ve.first||(ve.first=se),me&&(me.next=se),_?ve.size++:oe.size++,je!=="F"&&(ve.index[je]=se)),oe},Ae=function(oe,Be){var ke=he(oe),ve=T(Be),se;if(ve!=="F")return ke.index[ve];for(se=ke.first;se;se=se.next)if(se.key===Be)return se};return A(ge,{clear:function(){for(var Be=this,ke=he(Be),ve=ke.first;ve;)ve.removed=!0,ve.previous&&(ve.previous=ve.previous.next=null),ve=ve.next;ke.first=ke.last=null,ke.index=d(null),_?ke.size=0:Be.size=0},delete:function(oe){var Be=this,ke=he(Be),ve=Ae(Be,oe);if(ve){var se=ve.next,me=ve.previous;delete ke.index[ve.index],ve.removed=!0,me&&(me.next=se),se&&(se.previous=me),ke.first===ve&&(ke.first=se),ke.last===ve&&(ke.last=me),_?ke.size--:Be.size--}return!!ve},forEach:function(Be){for(var ke=he(this),ve=p(Be,arguments.length>1?arguments[1]:void 0),se;se=se?se.next:ke.first;)for(ve(se.value,se.key,this);se&&se.removed;)se=se.previous},has:function(Be){return!!Ae(this,Be)}}),A(ge,ee?{get:function(Be){var ke=Ae(this,Be);return ke&&ke.value},set:function(Be,ke){return ne(this,Be===0?0:Be,ke)}}:{add:function(Be){return ne(this,Be=Be===0?0:Be,Be)}}),_&&f(ge,"size",{configurable:!0,get:function(){return he(this).size}}),pe},setStrong:function(G,J,ee){var ue=J+" Iterator",pe=V(J),ge=V(ue);b(G,J,function(he,ne){D(this,{type:ue,target:he,state:pe(he),kind:ne,last:null})},function(){for(var he=ge(this),ne=he.kind,Ae=he.last;Ae&&Ae.removed;)Ae=Ae.previous;return!he.target||!(he.last=Ae=Ae?Ae.next:he.state.first)?(he.target=null,w(void 0,!0)):w(ne==="keys"?Ae.key:ne==="values"?Ae.value:[Ae.key,Ae.value],!1)},ee?"entries":"values",!ee,!0),S(J)}}}),"./node_modules/core-js/internals/collection.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),f=o("./node_modules/core-js/internals/global-this.js"),A=o("./node_modules/core-js/internals/function-uncurry-this.js"),p=o("./node_modules/core-js/internals/is-forced.js"),g=o("./node_modules/core-js/internals/define-built-in.js"),y=o("./node_modules/core-js/internals/internal-metadata.js"),v=o("./node_modules/core-js/internals/iterate.js"),b=o("./node_modules/core-js/internals/an-instance.js"),w=o("./node_modules/core-js/internals/is-callable.js"),S=o("./node_modules/core-js/internals/is-null-or-undefined.js"),_=o("./node_modules/core-js/internals/is-object.js"),T=o("./node_modules/core-js/internals/fails.js"),L=o("./node_modules/core-js/internals/check-correctness-of-iteration.js"),D=o("./node_modules/core-js/internals/set-to-string-tag.js"),V=o("./node_modules/core-js/internals/inherit-if-required.js");c.exports=function(G,J,ee){var ue=G.indexOf("Map")!==-1,pe=G.indexOf("Weak")!==-1,ge=ue?"set":"add",he=f[G],ne=he&&he.prototype,Ae=he,oe={},Be=function(De){var ot=A(ne[De]);g(ne,De,De==="add"?function(Ce){return ot(this,Ce===0?0:Ce),this}:De==="delete"?function(ft){return pe&&!_(ft)?!1:ot(this,ft===0?0:ft)}:De==="get"?function(Ce){return pe&&!_(Ce)?void 0:ot(this,Ce===0?0:Ce)}:De==="has"?function(Ce){return pe&&!_(Ce)?!1:ot(this,Ce===0?0:Ce)}:function(Ce,Ze){return ot(this,Ce===0?0:Ce,Ze),this})},ke=p(G,!w(he)||!(pe||ne.forEach&&!T(function(){new he().entries().next()})));if(ke)Ae=ee.getConstructor(J,G,ue,ge),y.enable();else if(p(G,!0)){var ve=new Ae,se=ve[ge](pe?{}:-0,1)!==ve,me=T(function(){ve.has(1)}),je=L(function(De){new he(De)}),Ue=!pe&&T(function(){for(var De=new he,ot=5;ot--;)De[ge](ot,ot);return!De.has(-0)});je||(Ae=J(function(De,ot){b(De,ne);var ft=V(new he,De,Ae);return S(ot)||v(ot,ft[ge],{that:ft,AS_ENTRIES:ue}),ft}),Ae.prototype=ne,ne.constructor=Ae),(me||Ue)&&(Be("delete"),Be("has"),ue&&Be("get")),(Ue||se)&&Be(ge),pe&&ne.clear&&delete ne.clear}return oe[G]=Ae,d({global:!0,constructor:!0,forced:Ae!==he},oe),D(Ae,G),pe||ee.setStrong(Ae,G,ue),Ae}}),"./node_modules/core-js/internals/copy-constructor-properties.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/has-own-property.js"),f=o("./node_modules/core-js/internals/own-keys.js"),A=o("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),p=o("./node_modules/core-js/internals/object-define-property.js");c.exports=function(g,y,v){for(var b=f(y),w=p.f,S=A.f,_=0;_<b.length;_++){var T=b[_];!d(g,T)&&!(v&&d(v,T))&&w(g,T,S(y,T))}}}),"./node_modules/core-js/internals/correct-is-regexp-logic.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/well-known-symbol.js"),f=d("match");c.exports=function(A){var p=/./;try{"/./"[A](p)}catch{try{return p[f]=!1,"/./"[A](p)}catch{}}return!1}}),"./node_modules/core-js/internals/correct-prototype-getter.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/fails.js");c.exports=!d(function(){function f(){}return f.prototype.constructor=null,Object.getPrototypeOf(new f)!==f.prototype})}),"./node_modules/core-js/internals/create-html.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/function-uncurry-this.js"),f=o("./node_modules/core-js/internals/require-object-coercible.js"),A=o("./node_modules/core-js/internals/to-string.js"),p=/"/g,g=d("".replace);c.exports=function(y,v,b,w){var S=A(f(y)),_="<"+v;return b!==""&&(_+=" "+b+'="'+g(A(w),p,"&quot;")+'"'),_+">"+S+"</"+v+">"}}),"./node_modules/core-js/internals/create-iter-result-object.js":(function(c){c.exports=function(u,o){return{value:u,done:o}}}),"./node_modules/core-js/internals/create-non-enumerable-property.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/descriptors.js"),f=o("./node_modules/core-js/internals/object-define-property.js"),A=o("./node_modules/core-js/internals/create-property-descriptor.js");c.exports=d?function(p,g,y){return f.f(p,g,A(1,y))}:function(p,g,y){return p[g]=y,p}}),"./node_modules/core-js/internals/create-property-descriptor.js":(function(c){c.exports=function(u,o){return{enumerable:!(u&1),configurable:!(u&2),writable:!(u&4),value:o}}}),"./node_modules/core-js/internals/create-property.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/descriptors.js"),f=o("./node_modules/core-js/internals/object-define-property.js"),A=o("./node_modules/core-js/internals/create-property-descriptor.js");c.exports=function(p,g,y){d?f.f(p,g,A(0,y)):p[g]=y}}),"./node_modules/core-js/internals/define-built-in-accessor.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/make-built-in.js"),f=o("./node_modules/core-js/internals/object-define-property.js");c.exports=function(A,p,g){return g.get&&d(g.get,p,{getter:!0}),g.set&&d(g.set,p,{setter:!0}),f.f(A,p,g)}}),"./node_modules/core-js/internals/define-built-in.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/is-callable.js"),f=o("./node_modules/core-js/internals/object-define-property.js"),A=o("./node_modules/core-js/internals/make-built-in.js"),p=o("./node_modules/core-js/internals/define-global-property.js");c.exports=function(g,y,v,b){b||(b={});var w=b.enumerable,S=b.name!==void 0?b.name:y;if(d(v)&&A(v,S,b),b.global)w?g[y]=v:p(y,v);else{try{b.unsafe?g[y]&&(w=!0):delete g[y]}catch{}w?g[y]=v:f.f(g,y,{value:v,enumerable:!1,configurable:!b.nonConfigurable,writable:!b.nonWritable})}return g}}),"./node_modules/core-js/internals/define-built-ins.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/define-built-in.js");c.exports=function(f,A,p){for(var g in A)d(f,g,A[g],p);return f}}),"./node_modules/core-js/internals/define-global-property.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/global-this.js"),f=Object.defineProperty;c.exports=function(A,p){try{f(d,A,{value:p,configurable:!0,writable:!0})}catch{d[A]=p}return p}}),"./node_modules/core-js/internals/descriptors.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/fails.js");c.exports=!d(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})}),"./node_modules/core-js/internals/document-create-element.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/global-this.js"),f=o("./node_modules/core-js/internals/is-object.js"),A=d.document,p=f(A)&&f(A.createElement);c.exports=function(g){return p?A.createElement(g):{}}}),"./node_modules/core-js/internals/does-not-exceed-safe-integer.js":(function(c){var u=TypeError,o=9007199254740991;c.exports=function(d){if(d>o)throw u("Maximum allowed index exceeded");return d}}),"./node_modules/core-js/internals/dom-iterables.js":(function(c){c.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}),"./node_modules/core-js/internals/dom-token-list-prototype.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/document-create-element.js"),f=d("span").classList,A=f&&f.constructor&&f.constructor.prototype;c.exports=A===Object.prototype?void 0:A}),"./node_modules/core-js/internals/enum-bug-keys.js":(function(c){c.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]}),"./node_modules/core-js/internals/environment-is-ios-pebble.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/environment-user-agent.js");c.exports=/ipad|iphone|ipod/i.test(d)&&typeof Pebble<"u"}),"./node_modules/core-js/internals/environment-is-ios.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/environment-user-agent.js");c.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(d)}),"./node_modules/core-js/internals/environment-is-node.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/environment.js");c.exports=d==="NODE"}),"./node_modules/core-js/internals/environment-is-webos-webkit.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/environment-user-agent.js");c.exports=/web0s(?!.*chrome)/i.test(d)}),"./node_modules/core-js/internals/environment-user-agent.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/global-this.js"),f=d.navigator,A=f&&f.userAgent;c.exports=A?String(A):""}),"./node_modules/core-js/internals/environment-v8-version.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/global-this.js"),f=o("./node_modules/core-js/internals/environment-user-agent.js"),A=d.process,p=d.Deno,g=A&&A.versions||p&&p.version,y=g&&g.v8,v,b;y&&(v=y.split("."),b=v[0]>0&&v[0]<4?1:+(v[0]+v[1])),!b&&f&&(v=f.match(/Edge\/(\d+)/),(!v||v[1]>=74)&&(v=f.match(/Chrome\/(\d+)/),v&&(b=+v[1]))),c.exports=b}),"./node_modules/core-js/internals/environment.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/global-this.js"),f=o("./node_modules/core-js/internals/environment-user-agent.js"),A=o("./node_modules/core-js/internals/classof-raw.js"),p=function(g){return f.slice(0,g.length)===g};c.exports=(function(){return p("Bun/")?"BUN":p("Cloudflare-Workers")?"CLOUDFLARE":p("Deno/")?"DENO":p("Node.js/")?"NODE":d.Bun&&typeof Bun.version=="string"?"BUN":d.Deno&&typeof Deno.version=="object"?"DENO":A(d.process)==="process"?"NODE":d.window&&d.document?"BROWSER":"REST"})()}),"./node_modules/core-js/internals/export.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/global-this.js"),f=o("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,A=o("./node_modules/core-js/internals/create-non-enumerable-property.js"),p=o("./node_modules/core-js/internals/define-built-in.js"),g=o("./node_modules/core-js/internals/define-global-property.js"),y=o("./node_modules/core-js/internals/copy-constructor-properties.js"),v=o("./node_modules/core-js/internals/is-forced.js");c.exports=function(b,w){var S=b.target,_=b.global,T=b.stat,L,D,V,G,J,ee;if(_?D=d:T?D=d[S]||g(S,{}):D=d[S]&&d[S].prototype,D)for(V in w){if(J=w[V],b.dontCallGetSet?(ee=f(D,V),G=ee&&ee.value):G=D[V],L=v(_?V:S+(T?".":"#")+V,b.forced),!L&&G!==void 0){if(typeof J==typeof G)continue;y(J,G)}(b.sham||G&&G.sham)&&A(J,"sham",!0),p(D,V,J,b)}}}),"./node_modules/core-js/internals/fails.js":(function(c){c.exports=function(u){try{return!!u()}catch{return!0}}}),"./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js":(function(c,u,o){o("./node_modules/core-js/modules/es.regexp.exec.js");var d=o("./node_modules/core-js/internals/function-call.js"),f=o("./node_modules/core-js/internals/define-built-in.js"),A=o("./node_modules/core-js/internals/regexp-exec.js"),p=o("./node_modules/core-js/internals/fails.js"),g=o("./node_modules/core-js/internals/well-known-symbol.js"),y=o("./node_modules/core-js/internals/create-non-enumerable-property.js"),v=g("species"),b=RegExp.prototype;c.exports=function(w,S,_,T){var L=g(w),D=!p(function(){var ee={};return ee[L]=function(){return 7},""[w](ee)!==7}),V=D&&!p(function(){var ee=!1,ue=/a/;if(w==="split"){var pe={};pe[v]=function(){return ue},ue={constructor:pe,flags:""},ue[L]=/./[L]}return ue.exec=function(){return ee=!0,null},ue[L](""),!ee});if(!D||!V||_){var G=/./[L],J=S(L,""[w],function(ee,ue,pe,ge,he){var ne=ue.exec;return ne===A||ne===b.exec?D&&!he?{done:!0,value:d(G,ue,pe,ge)}:{done:!0,value:d(ee,pe,ue,ge)}:{done:!1}});f(String.prototype,w,J[0]),f(b,L,J[1])}T&&y(b[L],"sham",!0)}}),"./node_modules/core-js/internals/freezing.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/fails.js");c.exports=!d(function(){return Object.isExtensible(Object.preventExtensions({}))})}),"./node_modules/core-js/internals/function-apply.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/function-bind-native.js"),f=Function.prototype,A=f.apply,p=f.call;c.exports=typeof Reflect=="object"&&Reflect.apply||(d?p.bind(A):function(){return p.apply(A,arguments)})}),"./node_modules/core-js/internals/function-bind-context.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/function-uncurry-this-clause.js"),f=o("./node_modules/core-js/internals/a-callable.js"),A=o("./node_modules/core-js/internals/function-bind-native.js"),p=d(d.bind);c.exports=function(g,y){return f(g),y===void 0?g:A?p(g,y):function(){return g.apply(y,arguments)}}}),"./node_modules/core-js/internals/function-bind-native.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/fails.js");c.exports=!d(function(){var f=(function(){}).bind();return typeof f!="function"||f.hasOwnProperty("prototype")})}),"./node_modules/core-js/internals/function-call.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/function-bind-native.js"),f=Function.prototype.call;c.exports=d?f.bind(f):function(){return f.apply(f,arguments)}}),"./node_modules/core-js/internals/function-name.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/descriptors.js"),f=o("./node_modules/core-js/internals/has-own-property.js"),A=Function.prototype,p=d&&Object.getOwnPropertyDescriptor,g=f(A,"name"),y=g&&(function(){}).name==="something",v=g&&(!d||d&&p(A,"name").configurable);c.exports={EXISTS:g,PROPER:y,CONFIGURABLE:v}}),"./node_modules/core-js/internals/function-uncurry-this-accessor.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/function-uncurry-this.js"),f=o("./node_modules/core-js/internals/a-callable.js");c.exports=function(A,p,g){try{return d(f(Object.getOwnPropertyDescriptor(A,p)[g]))}catch{}}}),"./node_modules/core-js/internals/function-uncurry-this-clause.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/classof-raw.js"),f=o("./node_modules/core-js/internals/function-uncurry-this.js");c.exports=function(A){if(d(A)==="Function")return f(A)}}),"./node_modules/core-js/internals/function-uncurry-this.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/function-bind-native.js"),f=Function.prototype,A=f.call,p=d&&f.bind.bind(A,A);c.exports=d?p:function(g){return function(){return A.apply(g,arguments)}}}),"./node_modules/core-js/internals/get-built-in.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/global-this.js"),f=o("./node_modules/core-js/internals/is-callable.js"),A=function(p){return f(p)?p:void 0};c.exports=function(p,g){return arguments.length<2?A(d[p]):d[p]&&d[p][g]}}),"./node_modules/core-js/internals/get-iterator-direct.js":(function(c){c.exports=function(u){return{iterator:u,next:u.next,done:!1}}}),"./node_modules/core-js/internals/get-iterator-method.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/classof.js"),f=o("./node_modules/core-js/internals/get-method.js"),A=o("./node_modules/core-js/internals/is-null-or-undefined.js"),p=o("./node_modules/core-js/internals/iterators.js"),g=o("./node_modules/core-js/internals/well-known-symbol.js"),y=g("iterator");c.exports=function(v){if(!A(v))return f(v,y)||f(v,"@@iterator")||p[d(v)]}}),"./node_modules/core-js/internals/get-iterator.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/function-call.js"),f=o("./node_modules/core-js/internals/a-callable.js"),A=o("./node_modules/core-js/internals/an-object.js"),p=o("./node_modules/core-js/internals/try-to-string.js"),g=o("./node_modules/core-js/internals/get-iterator-method.js"),y=TypeError;c.exports=function(v,b){var w=arguments.length<2?g(v):b;if(f(w))return A(d(w,v));throw new y(p(v)+" is not iterable")}}),"./node_modules/core-js/internals/get-method.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/a-callable.js"),f=o("./node_modules/core-js/internals/is-null-or-undefined.js");c.exports=function(A,p){var g=A[p];return f(g)?void 0:d(g)}}),"./node_modules/core-js/internals/get-set-record.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/a-callable.js"),f=o("./node_modules/core-js/internals/an-object.js"),A=o("./node_modules/core-js/internals/function-call.js"),p=o("./node_modules/core-js/internals/to-integer-or-infinity.js"),g=o("./node_modules/core-js/internals/get-iterator-direct.js"),y="Invalid size",v=RangeError,b=TypeError,w=Math.max,S=function(_,T){this.set=_,this.size=w(T,0),this.has=d(_.has),this.keys=d(_.keys)};S.prototype={getIterator:function(){return g(f(A(this.keys,this.set)))},includes:function(_){return A(this.has,this.set,_)}},c.exports=function(_){f(_);var T=+_.size;if(T!==T)throw new b(y);var L=p(T);if(L<0)throw new v(y);return new S(_,L)}}),"./node_modules/core-js/internals/get-substitution.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/function-uncurry-this.js"),f=o("./node_modules/core-js/internals/to-object.js"),A=Math.floor,p=d("".charAt),g=d("".replace),y=d("".slice),v=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,b=/\$([$&'`]|\d{1,2})/g;c.exports=function(w,S,_,T,L,D){var V=_+w.length,G=T.length,J=b;return L!==void 0&&(L=f(L),J=v),g(D,J,function(ee,ue){var pe;switch(p(ue,0)){case"$":return"$";case"&":return w;case"`":return y(S,0,_);case"'":return y(S,V);case"<":pe=L[y(ue,1,-1)];break;default:var ge=+ue;if(ge===0)return ee;if(ge>G){var he=A(ge/10);return he===0?ee:he<=G?T[he-1]===void 0?p(ue,1):T[he-1]+p(ue,1):ee}pe=T[ge-1]}return pe===void 0?"":pe})}}),"./node_modules/core-js/internals/global-this.js":(function(c){var u=function(o){return o&&o.Math===Math&&o};c.exports=u(typeof globalThis=="object"&&globalThis)||u(typeof window=="object"&&window)||u(typeof self=="object"&&self)||u(typeof b1=="object"&&b1)||u(typeof this=="object"&&this)||(function(){return this})()||Function("return this")()}),"./node_modules/core-js/internals/has-own-property.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/function-uncurry-this.js"),f=o("./node_modules/core-js/internals/to-object.js"),A=d({}.hasOwnProperty);c.exports=Object.hasOwn||function(g,y){return A(f(g),y)}}),"./node_modules/core-js/internals/hidden-keys.js":(function(c){c.exports={}}),"./node_modules/core-js/internals/host-report-errors.js":(function(c){c.exports=function(u,o){try{arguments.length===1?console.error(u):console.error(u,o)}catch{}}}),"./node_modules/core-js/internals/html.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/get-built-in.js");c.exports=d("document","documentElement")}),"./node_modules/core-js/internals/ie8-dom-define.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/descriptors.js"),f=o("./node_modules/core-js/internals/fails.js"),A=o("./node_modules/core-js/internals/document-create-element.js");c.exports=!d&&!f(function(){return Object.defineProperty(A("div"),"a",{get:function(){return 7}}).a!==7})}),"./node_modules/core-js/internals/indexed-object.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/function-uncurry-this.js"),f=o("./node_modules/core-js/internals/fails.js"),A=o("./node_modules/core-js/internals/classof-raw.js"),p=Object,g=d("".split);c.exports=f(function(){return!p("z").propertyIsEnumerable(0)})?function(y){return A(y)==="String"?g(y,""):p(y)}:p}),"./node_modules/core-js/internals/inherit-if-required.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/is-callable.js"),f=o("./node_modules/core-js/internals/is-object.js"),A=o("./node_modules/core-js/internals/object-set-prototype-of.js");c.exports=function(p,g,y){var v,b;return A&&d(v=g.constructor)&&v!==y&&f(b=v.prototype)&&b!==y.prototype&&A(p,b),p}}),"./node_modules/core-js/internals/inspect-source.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/function-uncurry-this.js"),f=o("./node_modules/core-js/internals/is-callable.js"),A=o("./node_modules/core-js/internals/shared-store.js"),p=d(Function.toString);f(A.inspectSource)||(A.inspectSource=function(g){return p(g)}),c.exports=A.inspectSource}),"./node_modules/core-js/internals/internal-metadata.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),f=o("./node_modules/core-js/internals/function-uncurry-this.js"),A=o("./node_modules/core-js/internals/hidden-keys.js"),p=o("./node_modules/core-js/internals/is-object.js"),g=o("./node_modules/core-js/internals/has-own-property.js"),y=o("./node_modules/core-js/internals/object-define-property.js").f,v=o("./node_modules/core-js/internals/object-get-own-property-names.js"),b=o("./node_modules/core-js/internals/object-get-own-property-names-external.js"),w=o("./node_modules/core-js/internals/object-is-extensible.js"),S=o("./node_modules/core-js/internals/uid.js"),_=o("./node_modules/core-js/internals/freezing.js"),T=!1,L=S("meta"),D=0,V=function(ge){y(ge,L,{value:{objectID:"O"+D++,weakData:{}}})},G=function(ge,he){if(!p(ge))return typeof ge=="symbol"?ge:(typeof ge=="string"?"S":"P")+ge;if(!g(ge,L)){if(!w(ge))return"F";if(!he)return"E";V(ge)}return ge[L].objectID},J=function(ge,he){if(!g(ge,L)){if(!w(ge))return!0;if(!he)return!1;V(ge)}return ge[L].weakData},ee=function(ge){return _&&T&&w(ge)&&!g(ge,L)&&V(ge),ge},ue=function(){pe.enable=function(){},T=!0;var ge=v.f,he=f([].splice),ne={};ne[L]=1,ge(ne).length&&(v.f=function(Ae){for(var oe=ge(Ae),Be=0,ke=oe.length;Be<ke;Be++)if(oe[Be]===L){he(oe,Be,1);break}return oe},d({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:b.f}))},pe=c.exports={enable:ue,fastKey:G,getWeakData:J,onFreeze:ee};A[L]=!0}),"./node_modules/core-js/internals/internal-state.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/weak-map-basic-detection.js"),f=o("./node_modules/core-js/internals/global-this.js"),A=o("./node_modules/core-js/internals/is-object.js"),p=o("./node_modules/core-js/internals/create-non-enumerable-property.js"),g=o("./node_modules/core-js/internals/has-own-property.js"),y=o("./node_modules/core-js/internals/shared-store.js"),v=o("./node_modules/core-js/internals/shared-key.js"),b=o("./node_modules/core-js/internals/hidden-keys.js"),w="Object already initialized",S=f.TypeError,_=f.WeakMap,T,L,D,V=function(ue){return D(ue)?L(ue):T(ue,{})},G=function(ue){return function(pe){var ge;if(!A(pe)||(ge=L(pe)).type!==ue)throw new S("Incompatible receiver, "+ue+" required");return ge}};if(d||y.state){var J=y.state||(y.state=new _);J.get=J.get,J.has=J.has,J.set=J.set,T=function(ue,pe){if(J.has(ue))throw new S(w);return pe.facade=ue,J.set(ue,pe),pe},L=function(ue){return J.get(ue)||{}},D=function(ue){return J.has(ue)}}else{var ee=v("state");b[ee]=!0,T=function(ue,pe){if(g(ue,ee))throw new S(w);return pe.facade=ue,p(ue,ee,pe),pe},L=function(ue){return g(ue,ee)?ue[ee]:{}},D=function(ue){return g(ue,ee)}}c.exports={set:T,get:L,has:D,enforce:V,getterFor:G}}),"./node_modules/core-js/internals/is-array-iterator-method.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/well-known-symbol.js"),f=o("./node_modules/core-js/internals/iterators.js"),A=d("iterator"),p=Array.prototype;c.exports=function(g){return g!==void 0&&(f.Array===g||p[A]===g)}}),"./node_modules/core-js/internals/is-array.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/classof-raw.js");c.exports=Array.isArray||function(A){return d(A)==="Array"}}),"./node_modules/core-js/internals/is-callable.js":(function(c){var u=typeof document=="object"&&document.all;c.exports=typeof u>"u"&&u!==void 0?function(o){return typeof o=="function"||o===u}:function(o){return typeof o=="function"}}),"./node_modules/core-js/internals/is-constructor.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/function-uncurry-this.js"),f=o("./node_modules/core-js/internals/fails.js"),A=o("./node_modules/core-js/internals/is-callable.js"),p=o("./node_modules/core-js/internals/classof.js"),g=o("./node_modules/core-js/internals/get-built-in.js"),y=o("./node_modules/core-js/internals/inspect-source.js"),v=function(){},b=g("Reflect","construct"),w=/^\s*(?:class|function)\b/,S=d(w.exec),_=!w.test(v),T=function(V){if(!A(V))return!1;try{return b(v,[],V),!0}catch{return!1}},L=function(V){if(!A(V))return!1;switch(p(V)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return _||!!S(w,y(V))}catch{return!0}};L.sham=!0,c.exports=!b||f(function(){var D;return T(T.call)||!T(Object)||!T(function(){D=!0})||D})?L:T}),"./node_modules/core-js/internals/is-forced.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/fails.js"),f=o("./node_modules/core-js/internals/is-callable.js"),A=/#|\.prototype\./,p=function(w,S){var _=y[g(w)];return _===b?!0:_===v?!1:f(S)?d(S):!!S},g=p.normalize=function(w){return String(w).replace(A,".").toLowerCase()},y=p.data={},v=p.NATIVE="N",b=p.POLYFILL="P";c.exports=p}),"./node_modules/core-js/internals/is-iterable.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/classof.js"),f=o("./node_modules/core-js/internals/has-own-property.js"),A=o("./node_modules/core-js/internals/is-null-or-undefined.js"),p=o("./node_modules/core-js/internals/well-known-symbol.js"),g=o("./node_modules/core-js/internals/iterators.js"),y=p("iterator"),v=Object;c.exports=function(b){if(A(b))return!1;var w=v(b);return w[y]!==void 0||"@@iterator"in w||f(g,d(w))}}),"./node_modules/core-js/internals/is-null-or-undefined.js":(function(c){c.exports=function(u){return u==null}}),"./node_modules/core-js/internals/is-object.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/is-callable.js");c.exports=function(f){return typeof f=="object"?f!==null:d(f)}}),"./node_modules/core-js/internals/is-possible-prototype.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/is-object.js");c.exports=function(f){return d(f)||f===null}}),"./node_modules/core-js/internals/is-pure.js":(function(c){c.exports=!1}),"./node_modules/core-js/internals/is-raw-json.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/is-object.js"),f=o("./node_modules/core-js/internals/internal-state.js").get;c.exports=function(p){if(!d(p))return!1;var g=f(p);return!!g&&g.type==="RawJSON"}}),"./node_modules/core-js/internals/is-regexp.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/is-object.js"),f=o("./node_modules/core-js/internals/classof-raw.js"),A=o("./node_modules/core-js/internals/well-known-symbol.js"),p=A("match");c.exports=function(g){var y;return d(g)&&((y=g[p])!==void 0?!!y:f(g)==="RegExp")}}),"./node_modules/core-js/internals/is-symbol.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/get-built-in.js"),f=o("./node_modules/core-js/internals/is-callable.js"),A=o("./node_modules/core-js/internals/object-is-prototype-of.js"),p=o("./node_modules/core-js/internals/use-symbol-as-uid.js"),g=Object;c.exports=p?function(y){return typeof y=="symbol"}:function(y){var v=d("Symbol");return f(v)&&A(v.prototype,g(y))}}),"./node_modules/core-js/internals/iterate-simple.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/function-call.js");c.exports=function(f,A,p){for(var g=p?f:f.iterator,y=f.next,v,b;!(v=d(y,g)).done;)if(b=A(v.value),b!==void 0)return b}}),"./node_modules/core-js/internals/iterate.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/function-bind-context.js"),f=o("./node_modules/core-js/internals/function-call.js"),A=o("./node_modules/core-js/internals/an-object.js"),p=o("./node_modules/core-js/internals/try-to-string.js"),g=o("./node_modules/core-js/internals/is-array-iterator-method.js"),y=o("./node_modules/core-js/internals/length-of-array-like.js"),v=o("./node_modules/core-js/internals/object-is-prototype-of.js"),b=o("./node_modules/core-js/internals/get-iterator.js"),w=o("./node_modules/core-js/internals/get-iterator-method.js"),S=o("./node_modules/core-js/internals/iterator-close.js"),_=TypeError,T=function(D,V){this.stopped=D,this.result=V},L=T.prototype;c.exports=function(D,V,G){var J=G&&G.that,ee=!!(G&&G.AS_ENTRIES),ue=!!(G&&G.IS_RECORD),pe=!!(G&&G.IS_ITERATOR),ge=!!(G&&G.INTERRUPTED),he=d(V,J),ne,Ae,oe,Be,ke,ve,se,me=function(Ue){return ne&&S(ne,"normal"),new T(!0,Ue)},je=function(Ue){return ee?(A(Ue),ge?he(Ue[0],Ue[1],me):he(Ue[0],Ue[1])):ge?he(Ue,me):he(Ue)};if(ue)ne=D.iterator;else if(pe)ne=D;else{if(Ae=w(D),!Ae)throw new _(p(D)+" is not iterable");if(g(Ae)){for(oe=0,Be=y(D);Be>oe;oe++)if(ke=je(D[oe]),ke&&v(L,ke))return ke;return new T(!1)}ne=b(D,Ae)}for(ve=ue?D.next:ne.next;!(se=f(ve,ne)).done;){try{ke=je(se.value)}catch(Ue){S(ne,"throw",Ue)}if(typeof ke=="object"&&ke&&v(L,ke))return ke}return new T(!1)}}),"./node_modules/core-js/internals/iterator-close-all.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/iterator-close.js");c.exports=function(f,A,p){for(var g=f.length-1;g>=0;g--)if(f[g]!==void 0)try{p=d(f[g].iterator,A,p)}catch(y){A="throw",p=y}if(A==="throw")throw p;return p}}),"./node_modules/core-js/internals/iterator-close.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/function-call.js"),f=o("./node_modules/core-js/internals/an-object.js"),A=o("./node_modules/core-js/internals/get-method.js");c.exports=function(p,g,y){var v,b;f(p);try{if(v=A(p,"return"),!v){if(g==="throw")throw y;return y}v=d(v,p)}catch(w){b=!0,v=w}if(g==="throw")throw y;if(b)throw v;return f(v),y}}),"./node_modules/core-js/internals/iterator-create-constructor.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,f=o("./node_modules/core-js/internals/object-create.js"),A=o("./node_modules/core-js/internals/create-property-descriptor.js"),p=o("./node_modules/core-js/internals/set-to-string-tag.js"),g=o("./node_modules/core-js/internals/iterators.js"),y=function(){return this};c.exports=function(v,b,w,S){var _=b+" Iterator";return v.prototype=f(d,{next:A(+!S,w)}),p(v,_,!1,!0),g[_]=y,v}}),"./node_modules/core-js/internals/iterator-create-proxy.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/function-call.js"),f=o("./node_modules/core-js/internals/object-create.js"),A=o("./node_modules/core-js/internals/create-non-enumerable-property.js"),p=o("./node_modules/core-js/internals/define-built-ins.js"),g=o("./node_modules/core-js/internals/well-known-symbol.js"),y=o("./node_modules/core-js/internals/internal-state.js"),v=o("./node_modules/core-js/internals/get-method.js"),b=o("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,w=o("./node_modules/core-js/internals/create-iter-result-object.js"),S=o("./node_modules/core-js/internals/iterator-close.js"),_=o("./node_modules/core-js/internals/iterator-close-all.js"),T=g("toStringTag"),L="IteratorHelper",D="WrapForValidIterator",V="normal",G="throw",J=y.set,ee=function(ge){var he=y.getterFor(ge?D:L);return p(f(b),{next:function(){var Ae=he(this);if(ge)return Ae.nextHandler();if(Ae.done)return w(void 0,!0);try{var oe=Ae.nextHandler();return Ae.returnHandlerResult?oe:w(oe,Ae.done)}catch(Be){throw Ae.done=!0,Be}},return:function(){var ne=he(this),Ae=ne.iterator;if(ne.done=!0,ge){var oe=v(Ae,"return");return oe?d(oe,Ae):w(void 0,!0)}if(ne.inner)try{S(ne.inner.iterator,V)}catch(Be){return S(Ae,G,Be)}if(ne.openIters)try{_(ne.openIters,V)}catch(Be){return S(Ae,G,Be)}return Ae&&S(Ae,V),w(void 0,!0)}})},ue=ee(!0),pe=ee(!1);A(pe,T,"Iterator Helper"),c.exports=function(ge,he,ne){var Ae=function(Be,ke){ke?(ke.iterator=Be.iterator,ke.next=Be.next):ke=Be,ke.type=he?D:L,ke.returnHandlerResult=!!ne,ke.nextHandler=ge,ke.counter=0,ke.done=!1,J(this,ke)};return Ae.prototype=he?ue:pe,Ae}}),"./node_modules/core-js/internals/iterator-define.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),f=o("./node_modules/core-js/internals/function-call.js"),A=o("./node_modules/core-js/internals/is-pure.js"),p=o("./node_modules/core-js/internals/function-name.js"),g=o("./node_modules/core-js/internals/is-callable.js"),y=o("./node_modules/core-js/internals/iterator-create-constructor.js"),v=o("./node_modules/core-js/internals/object-get-prototype-of.js"),b=o("./node_modules/core-js/internals/object-set-prototype-of.js"),w=o("./node_modules/core-js/internals/set-to-string-tag.js"),S=o("./node_modules/core-js/internals/create-non-enumerable-property.js"),_=o("./node_modules/core-js/internals/define-built-in.js"),T=o("./node_modules/core-js/internals/well-known-symbol.js"),L=o("./node_modules/core-js/internals/iterators.js"),D=o("./node_modules/core-js/internals/iterators-core.js"),V=p.PROPER,G=p.CONFIGURABLE,J=D.IteratorPrototype,ee=D.BUGGY_SAFARI_ITERATORS,ue=T("iterator"),pe="keys",ge="values",he="entries",ne=function(){return this};c.exports=function(Ae,oe,Be,ke,ve,se,me){y(Be,oe,ke);var je=function(Fe){if(Fe===ve&&Ce)return Ce;if(!ee&&Fe&&Fe in ot)return ot[Fe];switch(Fe){case pe:return function(){return new Be(this,Fe)};case ge:return function(){return new Be(this,Fe)};case he:return function(){return new Be(this,Fe)}}return function(){return new Be(this)}},Ue=oe+" Iterator",De=!1,ot=Ae.prototype,ft=ot[ue]||ot["@@iterator"]||ve&&ot[ve],Ce=!ee&&ft||je(ve),Ze=oe==="Array"&&ot.entries||ft,ze,$e,ct;if(Ze&&(ze=v(Ze.call(new Ae)),ze!==Object.prototype&&ze.next&&(!A&&v(ze)!==J&&(b?b(ze,J):g(ze[ue])||_(ze,ue,ne)),w(ze,Ue,!0,!0),A&&(L[Ue]=ne))),V&&ve===ge&&ft&&ft.name!==ge&&(!A&&G?S(ot,"name",ge):(De=!0,Ce=function(){return f(ft,this)})),ve)if($e={values:je(ge),keys:se?Ce:je(pe),entries:je(he)},me)for(ct in $e)(ee||De||!(ct in ot))&&_(ot,ct,$e[ct]);else d({target:oe,proto:!0,forced:ee||De},$e);return(!A||me)&&ot[ue]!==Ce&&_(ot,ue,Ce,{name:ve}),L[oe]=Ce,$e}}),"./node_modules/core-js/internals/iterator-helper-throws-on-invalid-iterator.js":(function(c){c.exports=function(u,o){var d=typeof Iterator=="function"&&Iterator.prototype[u];if(d)try{d.call({next:null},o).next()}catch{return!0}}}),"./node_modules/core-js/internals/iterator-helper-without-closing-on-early-error.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/global-this.js");c.exports=function(f,A){var p=d.Iterator,g=p&&p.prototype,y=g&&g[f],v=!1;if(y)try{y.call({next:function(){return{done:!0}},return:function(){v=!0}},-1)}catch(b){b instanceof A||(v=!1)}if(!v)return y}}),"./node_modules/core-js/internals/iterators-core.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/fails.js"),f=o("./node_modules/core-js/internals/is-callable.js"),A=o("./node_modules/core-js/internals/is-object.js"),p=o("./node_modules/core-js/internals/object-create.js"),g=o("./node_modules/core-js/internals/object-get-prototype-of.js"),y=o("./node_modules/core-js/internals/define-built-in.js"),v=o("./node_modules/core-js/internals/well-known-symbol.js"),b=o("./node_modules/core-js/internals/is-pure.js"),w=v("iterator"),S=!1,_,T,L;[].keys&&(L=[].keys(),"next"in L?(T=g(g(L)),T!==Object.prototype&&(_=T)):S=!0);var D=!A(_)||d(function(){var V={};return _[w].call(V)!==V});D?_={}:b&&(_=p(_)),f(_[w])||y(_,w,function(){return this}),c.exports={IteratorPrototype:_,BUGGY_SAFARI_ITERATORS:S}}),"./node_modules/core-js/internals/iterators.js":(function(c){c.exports={}}),"./node_modules/core-js/internals/length-of-array-like.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/to-length.js");c.exports=function(f){return d(f.length)}}),"./node_modules/core-js/internals/make-built-in.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/function-uncurry-this.js"),f=o("./node_modules/core-js/internals/fails.js"),A=o("./node_modules/core-js/internals/is-callable.js"),p=o("./node_modules/core-js/internals/has-own-property.js"),g=o("./node_modules/core-js/internals/descriptors.js"),y=o("./node_modules/core-js/internals/function-name.js").CONFIGURABLE,v=o("./node_modules/core-js/internals/inspect-source.js"),b=o("./node_modules/core-js/internals/internal-state.js"),w=b.enforce,S=b.get,_=String,T=Object.defineProperty,L=d("".slice),D=d("".replace),V=d([].join),G=g&&!f(function(){return T(function(){},"length",{value:8}).length!==8}),J=String(String).split("String"),ee=c.exports=function(ue,pe,ge){L(_(pe),0,7)==="Symbol("&&(pe="["+D(_(pe),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),ge&&ge.getter&&(pe="get "+pe),ge&&ge.setter&&(pe="set "+pe),(!p(ue,"name")||y&&ue.name!==pe)&&(g?T(ue,"name",{value:pe,configurable:!0}):ue.name=pe),G&&ge&&p(ge,"arity")&&ue.length!==ge.arity&&T(ue,"length",{value:ge.arity});try{ge&&p(ge,"constructor")&&ge.constructor?g&&T(ue,"prototype",{writable:!1}):ue.prototype&&(ue.prototype=void 0)}catch{}var he=w(ue);return p(he,"source")||(he.source=V(J,typeof pe=="string"?pe:"")),ue};Function.prototype.toString=ee(function(){return A(this)&&S(this).source||v(this)},"toString")}),"./node_modules/core-js/internals/math-trunc.js":(function(c){var u=Math.ceil,o=Math.floor;c.exports=Math.trunc||function(f){var A=+f;return(A>0?o:u)(A)}}),"./node_modules/core-js/internals/microtask.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/global-this.js"),f=o("./node_modules/core-js/internals/safe-get-built-in.js"),A=o("./node_modules/core-js/internals/function-bind-context.js"),p=o("./node_modules/core-js/internals/task.js").set,g=o("./node_modules/core-js/internals/queue.js"),y=o("./node_modules/core-js/internals/environment-is-ios.js"),v=o("./node_modules/core-js/internals/environment-is-ios-pebble.js"),b=o("./node_modules/core-js/internals/environment-is-webos-webkit.js"),w=o("./node_modules/core-js/internals/environment-is-node.js"),S=d.MutationObserver||d.WebKitMutationObserver,_=d.document,T=d.process,L=d.Promise,D=f("queueMicrotask"),V,G,J,ee,ue;if(!D){var pe=new g,ge=function(){var he,ne;for(w&&(he=T.domain)&&he.exit();ne=pe.get();)try{ne()}catch(Ae){throw pe.head&&V(),Ae}he&&he.enter()};!y&&!w&&!b&&S&&_?(G=!0,J=_.createTextNode(""),new S(ge).observe(J,{characterData:!0}),V=function(){J.data=G=!G}):!v&&L&&L.resolve?(ee=L.resolve(void 0),ee.constructor=L,ue=A(ee.then,ee),V=function(){ue(ge)}):w?V=function(){T.nextTick(ge)}:(p=A(p,d),V=function(){p(ge)}),D=function(he){pe.head||V(),pe.add(he)}}c.exports=D}),"./node_modules/core-js/internals/native-raw-json.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/fails.js");c.exports=!d(function(){var f="9007199254740993",A=JSON.rawJSON(f);return!JSON.isRawJSON(A)||JSON.stringify(A)!==f})}),"./node_modules/core-js/internals/new-promise-capability.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/a-callable.js"),f=TypeError,A=function(p){var g,y;this.promise=new p(function(v,b){if(g!==void 0||y!==void 0)throw new f("Bad Promise constructor");g=v,y=b}),this.resolve=d(g),this.reject=d(y)};c.exports.f=function(p){return new A(p)}}),"./node_modules/core-js/internals/not-a-regexp.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/is-regexp.js"),f=TypeError;c.exports=function(A){if(d(A))throw new f("The method doesn't accept regular expressions");return A}}),"./node_modules/core-js/internals/object-assign.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/descriptors.js"),f=o("./node_modules/core-js/internals/function-uncurry-this.js"),A=o("./node_modules/core-js/internals/function-call.js"),p=o("./node_modules/core-js/internals/fails.js"),g=o("./node_modules/core-js/internals/object-keys.js"),y=o("./node_modules/core-js/internals/object-get-own-property-symbols.js"),v=o("./node_modules/core-js/internals/object-property-is-enumerable.js"),b=o("./node_modules/core-js/internals/to-object.js"),w=o("./node_modules/core-js/internals/indexed-object.js"),S=Object.assign,_=Object.defineProperty,T=f([].concat);c.exports=!S||p(function(){if(d&&S({b:1},S(_({},"a",{enumerable:!0,get:function(){_(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var L={},D={},V=Symbol("assign detection"),G="abcdefghijklmnopqrst";return L[V]=7,G.split("").forEach(function(J){D[J]=J}),S({},L)[V]!==7||g(S({},D)).join("")!==G})?function(D,V){for(var G=b(D),J=arguments.length,ee=1,ue=y.f,pe=v.f;J>ee;)for(var ge=w(arguments[ee++]),he=ue?T(g(ge),ue(ge)):g(ge),ne=he.length,Ae=0,oe;ne>Ae;)oe=he[Ae++],(!d||A(pe,ge,oe))&&(G[oe]=ge[oe]);return G}:S}),"./node_modules/core-js/internals/object-create.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/an-object.js"),f=o("./node_modules/core-js/internals/object-define-properties.js"),A=o("./node_modules/core-js/internals/enum-bug-keys.js"),p=o("./node_modules/core-js/internals/hidden-keys.js"),g=o("./node_modules/core-js/internals/html.js"),y=o("./node_modules/core-js/internals/document-create-element.js"),v=o("./node_modules/core-js/internals/shared-key.js"),b=">",w="<",S="prototype",_="script",T=v("IE_PROTO"),L=function(){},D=function(ue){return w+_+b+ue+w+"/"+_+b},V=function(ue){ue.write(D("")),ue.close();var pe=ue.parentWindow.Object;return ue=null,pe},G=function(){var ue=y("iframe"),pe="java"+_+":",ge;return ue.style.display="none",g.appendChild(ue),ue.src=String(pe),ge=ue.contentWindow.document,ge.open(),ge.write(D("document.F=Object")),ge.close(),ge.F},J,ee=function(){try{J=new ActiveXObject("htmlfile")}catch{}ee=typeof document<"u"?document.domain&&J?V(J):G():V(J);for(var ue=A.length;ue--;)delete ee[S][A[ue]];return ee()};p[T]=!0,c.exports=Object.create||function(pe,ge){var he;return pe!==null?(L[S]=d(pe),he=new L,L[S]=null,he[T]=pe):he=ee(),ge===void 0?he:f.f(he,ge)}}),"./node_modules/core-js/internals/object-define-properties.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/descriptors.js"),f=o("./node_modules/core-js/internals/v8-prototype-define-bug.js"),A=o("./node_modules/core-js/internals/object-define-property.js"),p=o("./node_modules/core-js/internals/an-object.js"),g=o("./node_modules/core-js/internals/to-indexed-object.js"),y=o("./node_modules/core-js/internals/object-keys.js");u.f=d&&!f?Object.defineProperties:function(b,w){p(b);for(var S=g(w),_=y(w),T=_.length,L=0,D;T>L;)A.f(b,D=_[L++],S[D]);return b}}),"./node_modules/core-js/internals/object-define-property.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/descriptors.js"),f=o("./node_modules/core-js/internals/ie8-dom-define.js"),A=o("./node_modules/core-js/internals/v8-prototype-define-bug.js"),p=o("./node_modules/core-js/internals/an-object.js"),g=o("./node_modules/core-js/internals/to-property-key.js"),y=TypeError,v=Object.defineProperty,b=Object.getOwnPropertyDescriptor,w="enumerable",S="configurable",_="writable";u.f=d?A?function(L,D,V){if(p(L),D=g(D),p(V),typeof L=="function"&&D==="prototype"&&"value"in V&&_ in V&&!V[_]){var G=b(L,D);G&&G[_]&&(L[D]=V.value,V={configurable:S in V?V[S]:G[S],enumerable:w in V?V[w]:G[w],writable:!1})}return v(L,D,V)}:v:function(L,D,V){if(p(L),D=g(D),p(V),f)try{return v(L,D,V)}catch{}if("get"in V||"set"in V)throw new y("Accessors not supported");return"value"in V&&(L[D]=V.value),L}}),"./node_modules/core-js/internals/object-get-own-property-descriptor.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/descriptors.js"),f=o("./node_modules/core-js/internals/function-call.js"),A=o("./node_modules/core-js/internals/object-property-is-enumerable.js"),p=o("./node_modules/core-js/internals/create-property-descriptor.js"),g=o("./node_modules/core-js/internals/to-indexed-object.js"),y=o("./node_modules/core-js/internals/to-property-key.js"),v=o("./node_modules/core-js/internals/has-own-property.js"),b=o("./node_modules/core-js/internals/ie8-dom-define.js"),w=Object.getOwnPropertyDescriptor;u.f=d?w:function(_,T){if(_=g(_),T=y(T),b)try{return w(_,T)}catch{}if(v(_,T))return p(!f(A.f,_,T),_[T])}}),"./node_modules/core-js/internals/object-get-own-property-names-external.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/classof-raw.js"),f=o("./node_modules/core-js/internals/to-indexed-object.js"),A=o("./node_modules/core-js/internals/object-get-own-property-names.js").f,p=o("./node_modules/core-js/internals/array-slice.js"),g=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],y=function(v){try{return A(v)}catch{return p(g)}};c.exports.f=function(b){return g&&d(b)==="Window"?y(b):A(f(b))}}),"./node_modules/core-js/internals/object-get-own-property-names.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/object-keys-internal.js"),f=o("./node_modules/core-js/internals/enum-bug-keys.js"),A=f.concat("length","prototype");u.f=Object.getOwnPropertyNames||function(g){return d(g,A)}}),"./node_modules/core-js/internals/object-get-own-property-symbols.js":(function(c,u){u.f=Object.getOwnPropertySymbols}),"./node_modules/core-js/internals/object-get-prototype-of.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/has-own-property.js"),f=o("./node_modules/core-js/internals/is-callable.js"),A=o("./node_modules/core-js/internals/to-object.js"),p=o("./node_modules/core-js/internals/shared-key.js"),g=o("./node_modules/core-js/internals/correct-prototype-getter.js"),y=p("IE_PROTO"),v=Object,b=v.prototype;c.exports=g?v.getPrototypeOf:function(w){var S=A(w);if(d(S,y))return S[y];var _=S.constructor;return f(_)&&S instanceof _?_.prototype:S instanceof v?b:null}}),"./node_modules/core-js/internals/object-is-extensible.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/fails.js"),f=o("./node_modules/core-js/internals/is-object.js"),A=o("./node_modules/core-js/internals/classof-raw.js"),p=o("./node_modules/core-js/internals/array-buffer-non-extensible.js"),g=Object.isExtensible,y=d(function(){});c.exports=y||p?function(b){return!f(b)||p&&A(b)==="ArrayBuffer"?!1:g?g(b):!0}:g}),"./node_modules/core-js/internals/object-is-prototype-of.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/function-uncurry-this.js");c.exports=d({}.isPrototypeOf)}),"./node_modules/core-js/internals/object-keys-internal.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/function-uncurry-this.js"),f=o("./node_modules/core-js/internals/has-own-property.js"),A=o("./node_modules/core-js/internals/to-indexed-object.js"),p=o("./node_modules/core-js/internals/array-includes.js").indexOf,g=o("./node_modules/core-js/internals/hidden-keys.js"),y=d([].push);c.exports=function(v,b){var w=A(v),S=0,_=[],T;for(T in w)!f(g,T)&&f(w,T)&&y(_,T);for(;b.length>S;)f(w,T=b[S++])&&(~p(_,T)||y(_,T));return _}}),"./node_modules/core-js/internals/object-keys.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/object-keys-internal.js"),f=o("./node_modules/core-js/internals/enum-bug-keys.js");c.exports=Object.keys||function(p){return d(p,f)}}),"./node_modules/core-js/internals/object-property-is-enumerable.js":(function(c,u){var o={}.propertyIsEnumerable,d=Object.getOwnPropertyDescriptor,f=d&&!o.call({1:2},1);u.f=f?function(p){var g=d(this,p);return!!g&&g.enumerable}:o}),"./node_modules/core-js/internals/object-set-prototype-of.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/function-uncurry-this-accessor.js"),f=o("./node_modules/core-js/internals/is-object.js"),A=o("./node_modules/core-js/internals/require-object-coercible.js"),p=o("./node_modules/core-js/internals/a-possible-prototype.js");c.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var g=!1,y={},v;try{v=d(Object.prototype,"__proto__","set"),v(y,[]),g=y instanceof Array}catch{}return function(w,S){return A(w),p(S),f(w)&&(g?v(w,S):w.__proto__=S),w}})():void 0)}),"./node_modules/core-js/internals/object-to-string.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/to-string-tag-support.js"),f=o("./node_modules/core-js/internals/classof.js");c.exports=d?{}.toString:function(){return"[object "+f(this)+"]"}}),"./node_modules/core-js/internals/ordinary-to-primitive.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/function-call.js"),f=o("./node_modules/core-js/internals/is-callable.js"),A=o("./node_modules/core-js/internals/is-object.js"),p=TypeError;c.exports=function(g,y){var v,b;if(y==="string"&&f(v=g.toString)&&!A(b=d(v,g))||f(v=g.valueOf)&&!A(b=d(v,g))||y!=="string"&&f(v=g.toString)&&!A(b=d(v,g)))return b;throw new p("Can't convert object to primitive value")}}),"./node_modules/core-js/internals/own-keys.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/get-built-in.js"),f=o("./node_modules/core-js/internals/function-uncurry-this.js"),A=o("./node_modules/core-js/internals/object-get-own-property-names.js"),p=o("./node_modules/core-js/internals/object-get-own-property-symbols.js"),g=o("./node_modules/core-js/internals/an-object.js"),y=f([].concat);c.exports=d("Reflect","ownKeys")||function(b){var w=A.f(g(b)),S=p.f;return S?y(w,S(b)):w}}),"./node_modules/core-js/internals/parse-json-string.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/function-uncurry-this.js"),f=o("./node_modules/core-js/internals/has-own-property.js"),A=SyntaxError,p=parseInt,g=String.fromCharCode,y=d("".charAt),v=d("".slice),b=d(/./.exec),w={'\\"':'"',"\\\\":"\\","\\/":"/","\\b":"\b","\\f":"\f","\\n":`
`,"\\r":"\r","\\t":"	"},S=/^[\da-f]{4}$/i,_=/^[\u0000-\u001F]$/;c.exports=function(T,L){for(var D=!0,V="";L<T.length;){var G=y(T,L);if(G==="\\"){var J=v(T,L,L+2);if(f(w,J))V+=w[J],L+=2;else if(J==="\\u"){L+=2;var ee=v(T,L,L+4);if(!b(S,ee))throw new A("Bad Unicode escape at: "+L);V+=g(p(ee,16)),L+=4}else throw new A('Unknown escape sequence: "'+J+'"')}else if(G==='"'){D=!1,L++;break}else{if(b(_,G))throw new A("Bad control character in string literal at: "+L);V+=G,L++}}if(D)throw new A("Unterminated string at: "+L);return{value:V,end:L}}}),"./node_modules/core-js/internals/path.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/global-this.js");c.exports=d}),"./node_modules/core-js/internals/perform.js":(function(c){c.exports=function(u){try{return{error:!1,value:u()}}catch(o){return{error:!0,value:o}}}}),"./node_modules/core-js/internals/promise-constructor-detection.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/global-this.js"),f=o("./node_modules/core-js/internals/promise-native-constructor.js"),A=o("./node_modules/core-js/internals/is-callable.js"),p=o("./node_modules/core-js/internals/is-forced.js"),g=o("./node_modules/core-js/internals/inspect-source.js"),y=o("./node_modules/core-js/internals/well-known-symbol.js"),v=o("./node_modules/core-js/internals/environment.js"),b=o("./node_modules/core-js/internals/is-pure.js"),w=o("./node_modules/core-js/internals/environment-v8-version.js"),S=f&&f.prototype,_=y("species"),T=!1,L=A(d.PromiseRejectionEvent),D=p("Promise",function(){var V=g(f),G=V!==String(f);if(!G&&w===66||b&&!(S.catch&&S.finally))return!0;if(!w||w<51||!/native code/.test(V)){var J=new f(function(pe){pe(1)}),ee=function(pe){pe(function(){},function(){})},ue=J.constructor={};if(ue[_]=ee,T=J.then(function(){})instanceof ee,!T)return!0}return!G&&(v==="BROWSER"||v==="DENO")&&!L});c.exports={CONSTRUCTOR:D,REJECTION_EVENT:L,SUBCLASSING:T}}),"./node_modules/core-js/internals/promise-native-constructor.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/global-this.js");c.exports=d.Promise}),"./node_modules/core-js/internals/promise-resolve.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/an-object.js"),f=o("./node_modules/core-js/internals/is-object.js"),A=o("./node_modules/core-js/internals/new-promise-capability.js");c.exports=function(p,g){if(d(p),f(g)&&g.constructor===p)return g;var y=A.f(p),v=y.resolve;return v(g),y.promise}}),"./node_modules/core-js/internals/promise-statics-incorrect-iteration.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/promise-native-constructor.js"),f=o("./node_modules/core-js/internals/check-correctness-of-iteration.js"),A=o("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR;c.exports=A||!f(function(p){d.all(p).then(void 0,function(){})})}),"./node_modules/core-js/internals/queue.js":(function(c){var u=function(){this.head=null,this.tail=null};u.prototype={add:function(o){var d={item:o,next:null},f=this.tail;f?f.next=d:this.head=d,this.tail=d},get:function(){var o=this.head;if(o){var d=this.head=o.next;return d===null&&(this.tail=null),o.item}}},c.exports=u}),"./node_modules/core-js/internals/regexp-exec-abstract.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/function-call.js"),f=o("./node_modules/core-js/internals/an-object.js"),A=o("./node_modules/core-js/internals/is-callable.js"),p=o("./node_modules/core-js/internals/classof-raw.js"),g=o("./node_modules/core-js/internals/regexp-exec.js"),y=TypeError;c.exports=function(v,b){var w=v.exec;if(A(w)){var S=d(w,v,b);return S!==null&&f(S),S}if(p(v)==="RegExp")return d(g,v,b);throw new y("RegExp#exec called on incompatible receiver")}}),"./node_modules/core-js/internals/regexp-exec.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/function-call.js"),f=o("./node_modules/core-js/internals/function-uncurry-this.js"),A=o("./node_modules/core-js/internals/to-string.js"),p=o("./node_modules/core-js/internals/regexp-flags.js"),g=o("./node_modules/core-js/internals/regexp-sticky-helpers.js"),y=o("./node_modules/core-js/internals/shared.js"),v=o("./node_modules/core-js/internals/object-create.js"),b=o("./node_modules/core-js/internals/internal-state.js").get,w=o("./node_modules/core-js/internals/regexp-unsupported-dot-all.js"),S=o("./node_modules/core-js/internals/regexp-unsupported-ncg.js"),_=y("native-string-replace",String.prototype.replace),T=RegExp.prototype.exec,L=T,D=f("".charAt),V=f("".indexOf),G=f("".replace),J=f("".slice),ee=(function(){var he=/a/,ne=/b*/g;return d(T,he,"a"),d(T,ne,"a"),he.lastIndex!==0||ne.lastIndex!==0})(),ue=g.BROKEN_CARET,pe=/()??/.exec("")[1]!==void 0,ge=ee||pe||ue||w||S;ge&&(L=function(ne){var Ae=this,oe=b(Ae),Be=A(ne),ke=oe.raw,ve,se,me,je,Ue,De,ot;if(ke)return ke.lastIndex=Ae.lastIndex,ve=d(L,ke,Be),Ae.lastIndex=ke.lastIndex,ve;var ft=oe.groups,Ce=ue&&Ae.sticky,Ze=d(p,Ae),ze=Ae.source,$e=0,ct=Be;if(Ce&&(Ze=G(Ze,"y",""),V(Ze,"g")===-1&&(Ze+="g"),ct=J(Be,Ae.lastIndex),Ae.lastIndex>0&&(!Ae.multiline||Ae.multiline&&D(Be,Ae.lastIndex-1)!==`
`)&&(ze="(?: "+ze+")",ct=" "+ct,$e++),se=new RegExp("^(?:"+ze+")",Ze)),pe&&(se=new RegExp("^"+ze+"$(?!\\s)",Ze)),ee&&(me=Ae.lastIndex),je=d(T,Ce?se:Ae,ct),Ce?je?(je.input=J(je.input,$e),je[0]=J(je[0],$e),je.index=Ae.lastIndex,Ae.lastIndex+=je[0].length):Ae.lastIndex=0:ee&&je&&(Ae.lastIndex=Ae.global?je.index+je[0].length:me),pe&&je&&je.length>1&&d(_,je[0],se,function(){for(Ue=1;Ue<arguments.length-2;Ue++)arguments[Ue]===void 0&&(je[Ue]=void 0)}),je&&ft)for(je.groups=De=v(null),Ue=0;Ue<ft.length;Ue++)ot=ft[Ue],De[ot[0]]=je[ot[1]];return je}),c.exports=L}),"./node_modules/core-js/internals/regexp-flags-detection.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/global-this.js"),f=o("./node_modules/core-js/internals/fails.js"),A=d.RegExp,p=!f(function(){var g=!0;try{A(".","d")}catch{g=!1}var y={},v="",b=g?"dgimsy":"gimsy",w=function(L,D){Object.defineProperty(y,L,{get:function(){return v+=D,!0}})},S={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};g&&(S.hasIndices="d");for(var _ in S)w(_,S[_]);var T=Object.getOwnPropertyDescriptor(A.prototype,"flags").get.call(y);return T!==b||v!==b});c.exports={correct:p}}),"./node_modules/core-js/internals/regexp-flags.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/an-object.js");c.exports=function(){var f=d(this),A="";return f.hasIndices&&(A+="d"),f.global&&(A+="g"),f.ignoreCase&&(A+="i"),f.multiline&&(A+="m"),f.dotAll&&(A+="s"),f.unicode&&(A+="u"),f.unicodeSets&&(A+="v"),f.sticky&&(A+="y"),A}}),"./node_modules/core-js/internals/regexp-get-flags.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/function-call.js"),f=o("./node_modules/core-js/internals/has-own-property.js"),A=o("./node_modules/core-js/internals/object-is-prototype-of.js"),p=o("./node_modules/core-js/internals/regexp-flags-detection.js"),g=o("./node_modules/core-js/internals/regexp-flags.js"),y=RegExp.prototype;c.exports=p.correct?function(v){return v.flags}:function(v){return!p.correct&&A(y,v)&&!f(v,"flags")?d(g,v):v.flags}}),"./node_modules/core-js/internals/regexp-sticky-helpers.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/fails.js"),f=o("./node_modules/core-js/internals/global-this.js"),A=f.RegExp,p=d(function(){var v=A("a","y");return v.lastIndex=2,v.exec("abcd")!==null}),g=p||d(function(){return!A("a","y").sticky}),y=p||d(function(){var v=A("^r","gy");return v.lastIndex=2,v.exec("str")!==null});c.exports={BROKEN_CARET:y,MISSED_STICKY:g,UNSUPPORTED_Y:p}}),"./node_modules/core-js/internals/regexp-unsupported-dot-all.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/fails.js"),f=o("./node_modules/core-js/internals/global-this.js"),A=f.RegExp;c.exports=d(function(){var p=A(".","s");return!(p.dotAll&&p.test(`
`)&&p.flags==="s")})}),"./node_modules/core-js/internals/regexp-unsupported-ncg.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/fails.js"),f=o("./node_modules/core-js/internals/global-this.js"),A=f.RegExp;c.exports=d(function(){var p=A("(?<a>b)","g");return p.exec("b").groups.a!=="b"||"b".replace(p,"$<a>c")!=="bc"})}),"./node_modules/core-js/internals/require-object-coercible.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/is-null-or-undefined.js"),f=TypeError;c.exports=function(A){if(d(A))throw new f("Can't call method on "+A);return A}}),"./node_modules/core-js/internals/safe-get-built-in.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/global-this.js"),f=o("./node_modules/core-js/internals/descriptors.js"),A=Object.getOwnPropertyDescriptor;c.exports=function(p){if(!f)return d[p];var g=A(d,p);return g&&g.value}}),"./node_modules/core-js/internals/schedulers-fix.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/global-this.js"),f=o("./node_modules/core-js/internals/function-apply.js"),A=o("./node_modules/core-js/internals/is-callable.js"),p=o("./node_modules/core-js/internals/environment.js"),g=o("./node_modules/core-js/internals/environment-user-agent.js"),y=o("./node_modules/core-js/internals/array-slice.js"),v=o("./node_modules/core-js/internals/validate-arguments-length.js"),b=d.Function,w=/MSIE .\./.test(g)||p==="BUN"&&(function(){var S=d.Bun.version.split(".");return S.length<3||S[0]==="0"&&(S[1]<3||S[1]==="3"&&S[2]==="0")})();c.exports=function(S,_){var T=_?2:1;return w?function(L,D){var V=v(arguments.length,1)>T,G=A(L)?L:b(L),J=V?y(arguments,T):[],ee=V?function(){f(G,this,J)}:G;return _?S(ee,D):S(ee)}:S}}),"./node_modules/core-js/internals/set-clone.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/set-helpers.js"),f=o("./node_modules/core-js/internals/set-iterate.js"),A=d.Set,p=d.add;c.exports=function(g){var y=new A;return f(g,function(v){p(y,v)}),y}}),"./node_modules/core-js/internals/set-difference.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/a-set.js"),f=o("./node_modules/core-js/internals/set-helpers.js"),A=o("./node_modules/core-js/internals/set-clone.js"),p=o("./node_modules/core-js/internals/set-size.js"),g=o("./node_modules/core-js/internals/get-set-record.js"),y=o("./node_modules/core-js/internals/set-iterate.js"),v=o("./node_modules/core-js/internals/iterate-simple.js"),b=f.has,w=f.remove;c.exports=function(_){var T=d(this),L=g(_),D=A(T);return p(T)<=L.size?y(T,function(V){L.includes(V)&&w(D,V)}):v(L.getIterator(),function(V){b(D,V)&&w(D,V)}),D}}),"./node_modules/core-js/internals/set-helpers.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/function-uncurry-this.js"),f=Set.prototype;c.exports={Set,add:d(f.add),has:d(f.has),remove:d(f.delete),proto:f}}),"./node_modules/core-js/internals/set-intersection.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/a-set.js"),f=o("./node_modules/core-js/internals/set-helpers.js"),A=o("./node_modules/core-js/internals/set-size.js"),p=o("./node_modules/core-js/internals/get-set-record.js"),g=o("./node_modules/core-js/internals/set-iterate.js"),y=o("./node_modules/core-js/internals/iterate-simple.js"),v=f.Set,b=f.add,w=f.has;c.exports=function(_){var T=d(this),L=p(_),D=new v;return A(T)>L.size?y(L.getIterator(),function(V){w(T,V)&&b(D,V)}):g(T,function(V){L.includes(V)&&b(D,V)}),D}}),"./node_modules/core-js/internals/set-is-disjoint-from.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/a-set.js"),f=o("./node_modules/core-js/internals/set-helpers.js").has,A=o("./node_modules/core-js/internals/set-size.js"),p=o("./node_modules/core-js/internals/get-set-record.js"),g=o("./node_modules/core-js/internals/set-iterate.js"),y=o("./node_modules/core-js/internals/iterate-simple.js"),v=o("./node_modules/core-js/internals/iterator-close.js");c.exports=function(w){var S=d(this),_=p(w);if(A(S)<=_.size)return g(S,function(L){if(_.includes(L))return!1},!0)!==!1;var T=_.getIterator();return y(T,function(L){if(f(S,L))return v(T,"normal",!1)})!==!1}}),"./node_modules/core-js/internals/set-is-subset-of.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/a-set.js"),f=o("./node_modules/core-js/internals/set-size.js"),A=o("./node_modules/core-js/internals/set-iterate.js"),p=o("./node_modules/core-js/internals/get-set-record.js");c.exports=function(y){var v=d(this),b=p(y);return f(v)>b.size?!1:A(v,function(w){if(!b.includes(w))return!1},!0)!==!1}}),"./node_modules/core-js/internals/set-is-superset-of.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/a-set.js"),f=o("./node_modules/core-js/internals/set-helpers.js").has,A=o("./node_modules/core-js/internals/set-size.js"),p=o("./node_modules/core-js/internals/get-set-record.js"),g=o("./node_modules/core-js/internals/iterate-simple.js"),y=o("./node_modules/core-js/internals/iterator-close.js");c.exports=function(b){var w=d(this),S=p(b);if(A(w)<S.size)return!1;var _=S.getIterator();return g(_,function(T){if(!f(w,T))return y(_,"normal",!1)})!==!1}}),"./node_modules/core-js/internals/set-iterate.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/function-uncurry-this.js"),f=o("./node_modules/core-js/internals/iterate-simple.js"),A=o("./node_modules/core-js/internals/set-helpers.js"),p=A.Set,g=A.proto,y=d(g.forEach),v=d(g.keys),b=v(new p).next;c.exports=function(w,S,_){return _?f({iterator:v(w),next:b},S):y(w,S)}}),"./node_modules/core-js/internals/set-size.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/function-uncurry-this-accessor.js"),f=o("./node_modules/core-js/internals/set-helpers.js");c.exports=d(f.proto,"size","get")||function(A){return A.size}}),"./node_modules/core-js/internals/set-species.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/get-built-in.js"),f=o("./node_modules/core-js/internals/define-built-in-accessor.js"),A=o("./node_modules/core-js/internals/well-known-symbol.js"),p=o("./node_modules/core-js/internals/descriptors.js"),g=A("species");c.exports=function(y){var v=d(y);p&&v&&!v[g]&&f(v,g,{configurable:!0,get:function(){return this}})}}),"./node_modules/core-js/internals/set-symmetric-difference.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/a-set.js"),f=o("./node_modules/core-js/internals/set-helpers.js"),A=o("./node_modules/core-js/internals/set-clone.js"),p=o("./node_modules/core-js/internals/get-set-record.js"),g=o("./node_modules/core-js/internals/iterate-simple.js"),y=f.add,v=f.has,b=f.remove;c.exports=function(S){var _=d(this),T=p(S).getIterator(),L=A(_);return g(T,function(D){v(_,D)?b(L,D):y(L,D)}),L}}),"./node_modules/core-js/internals/set-to-string-tag.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/object-define-property.js").f,f=o("./node_modules/core-js/internals/has-own-property.js"),A=o("./node_modules/core-js/internals/well-known-symbol.js"),p=A("toStringTag");c.exports=function(g,y,v){g&&!v&&(g=g.prototype),g&&!f(g,p)&&d(g,p,{configurable:!0,value:y})}}),"./node_modules/core-js/internals/set-union.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/a-set.js"),f=o("./node_modules/core-js/internals/set-helpers.js").add,A=o("./node_modules/core-js/internals/set-clone.js"),p=o("./node_modules/core-js/internals/get-set-record.js"),g=o("./node_modules/core-js/internals/iterate-simple.js");c.exports=function(v){var b=d(this),w=p(v).getIterator(),S=A(b);return g(w,function(_){f(S,_)}),S}}),"./node_modules/core-js/internals/shared-key.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/shared.js"),f=o("./node_modules/core-js/internals/uid.js"),A=d("keys");c.exports=function(p){return A[p]||(A[p]=f(p))}}),"./node_modules/core-js/internals/shared-store.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/is-pure.js"),f=o("./node_modules/core-js/internals/global-this.js"),A=o("./node_modules/core-js/internals/define-global-property.js"),p="__core-js_shared__",g=c.exports=f[p]||A(p,{});(g.versions||(g.versions=[])).push({version:"3.47.0",mode:d?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru), 2025 CoreJS Company (core-js.io)",license:"https://github.com/zloirock/core-js/blob/v3.47.0/LICENSE",source:"https://github.com/zloirock/core-js"})}),"./node_modules/core-js/internals/shared.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/shared-store.js");c.exports=function(f,A){return d[f]||(d[f]=A||{})}}),"./node_modules/core-js/internals/species-constructor.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/an-object.js"),f=o("./node_modules/core-js/internals/a-constructor.js"),A=o("./node_modules/core-js/internals/is-null-or-undefined.js"),p=o("./node_modules/core-js/internals/well-known-symbol.js"),g=p("species");c.exports=function(y,v){var b=d(y).constructor,w;return b===void 0||A(w=d(b)[g])?v:f(w)}}),"./node_modules/core-js/internals/string-html-forced.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/fails.js");c.exports=function(f){return d(function(){var A=""[f]('"');return A!==A.toLowerCase()||A.split('"').length>3})}}),"./node_modules/core-js/internals/string-multibyte.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/function-uncurry-this.js"),f=o("./node_modules/core-js/internals/to-integer-or-infinity.js"),A=o("./node_modules/core-js/internals/to-string.js"),p=o("./node_modules/core-js/internals/require-object-coercible.js"),g=d("".charAt),y=d("".charCodeAt),v=d("".slice),b=function(w){return function(S,_){var T=A(p(S)),L=f(_),D=T.length,V,G;return L<0||L>=D?w?"":void 0:(V=y(T,L),V<55296||V>56319||L+1===D||(G=y(T,L+1))<56320||G>57343?w?g(T,L):V:w?v(T,L,L+2):(V-55296<<10)+(G-56320)+65536)}};c.exports={codeAt:b(!1),charAt:b(!0)}}),"./node_modules/core-js/internals/string-trim-forced.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/function-name.js").PROPER,f=o("./node_modules/core-js/internals/fails.js"),A=o("./node_modules/core-js/internals/whitespaces.js"),p="";c.exports=function(g){return f(function(){return!!A[g]()||p[g]()!==p||d&&A[g].name!==g})}}),"./node_modules/core-js/internals/string-trim.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/function-uncurry-this.js"),f=o("./node_modules/core-js/internals/require-object-coercible.js"),A=o("./node_modules/core-js/internals/to-string.js"),p=o("./node_modules/core-js/internals/whitespaces.js"),g=d("".replace),y=RegExp("^["+p+"]+"),v=RegExp("(^|[^"+p+"])["+p+"]+$"),b=function(w){return function(S){var _=A(f(S));return w&1&&(_=g(_,y,"")),w&2&&(_=g(_,v,"$1")),_}};c.exports={start:b(1),end:b(2),trim:b(3)}}),"./node_modules/core-js/internals/symbol-constructor-detection.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/environment-v8-version.js"),f=o("./node_modules/core-js/internals/fails.js"),A=o("./node_modules/core-js/internals/global-this.js"),p=A.String;c.exports=!!Object.getOwnPropertySymbols&&!f(function(){var g=Symbol("symbol detection");return!p(g)||!(Object(g)instanceof Symbol)||!Symbol.sham&&d&&d<41})}),"./node_modules/core-js/internals/symbol-define-to-primitive.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/function-call.js"),f=o("./node_modules/core-js/internals/get-built-in.js"),A=o("./node_modules/core-js/internals/well-known-symbol.js"),p=o("./node_modules/core-js/internals/define-built-in.js");c.exports=function(){var g=f("Symbol"),y=g&&g.prototype,v=y&&y.valueOf,b=A("toPrimitive");y&&!y[b]&&p(y,b,function(w){return d(v,this)},{arity:1})}}),"./node_modules/core-js/internals/symbol-registry-detection.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/symbol-constructor-detection.js");c.exports=d&&!!Symbol.for&&!!Symbol.keyFor}),"./node_modules/core-js/internals/task.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/global-this.js"),f=o("./node_modules/core-js/internals/function-apply.js"),A=o("./node_modules/core-js/internals/function-bind-context.js"),p=o("./node_modules/core-js/internals/is-callable.js"),g=o("./node_modules/core-js/internals/has-own-property.js"),y=o("./node_modules/core-js/internals/fails.js"),v=o("./node_modules/core-js/internals/html.js"),b=o("./node_modules/core-js/internals/array-slice.js"),w=o("./node_modules/core-js/internals/document-create-element.js"),S=o("./node_modules/core-js/internals/validate-arguments-length.js"),_=o("./node_modules/core-js/internals/environment-is-ios.js"),T=o("./node_modules/core-js/internals/environment-is-node.js"),L=d.setImmediate,D=d.clearImmediate,V=d.process,G=d.Dispatch,J=d.Function,ee=d.MessageChannel,ue=d.String,pe=0,ge={},he="onreadystatechange",ne,Ae,oe,Be;y(function(){ne=d.location});var ke=function(je){if(g(ge,je)){var Ue=ge[je];delete ge[je],Ue()}},ve=function(je){return function(){ke(je)}},se=function(je){ke(je.data)},me=function(je){d.postMessage(ue(je),ne.protocol+"//"+ne.host)};(!L||!D)&&(L=function(Ue){S(arguments.length,1);var De=p(Ue)?Ue:J(Ue),ot=b(arguments,1);return ge[++pe]=function(){f(De,void 0,ot)},Ae(pe),pe},D=function(Ue){delete ge[Ue]},T?Ae=function(je){V.nextTick(ve(je))}:G&&G.now?Ae=function(je){G.now(ve(je))}:ee&&!_?(oe=new ee,Be=oe.port2,oe.port1.onmessage=se,Ae=A(Be.postMessage,Be)):d.addEventListener&&p(d.postMessage)&&!d.importScripts&&ne&&ne.protocol!=="file:"&&!y(me)?(Ae=me,d.addEventListener("message",se,!1)):he in w("script")?Ae=function(je){v.appendChild(w("script"))[he]=function(){v.removeChild(this),ke(je)}}:Ae=function(je){setTimeout(ve(je),0)}),c.exports={set:L,clear:D}}),"./node_modules/core-js/internals/this-number-value.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/function-uncurry-this.js");c.exports=d(1.1.valueOf)}),"./node_modules/core-js/internals/to-absolute-index.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/to-integer-or-infinity.js"),f=Math.max,A=Math.min;c.exports=function(p,g){var y=d(p);return y<0?f(y+g,0):A(y,g)}}),"./node_modules/core-js/internals/to-indexed-object.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/indexed-object.js"),f=o("./node_modules/core-js/internals/require-object-coercible.js");c.exports=function(A){return d(f(A))}}),"./node_modules/core-js/internals/to-integer-or-infinity.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/math-trunc.js");c.exports=function(f){var A=+f;return A!==A||A===0?0:d(A)}}),"./node_modules/core-js/internals/to-length.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/to-integer-or-infinity.js"),f=Math.min;c.exports=function(A){var p=d(A);return p>0?f(p,9007199254740991):0}}),"./node_modules/core-js/internals/to-object.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/require-object-coercible.js"),f=Object;c.exports=function(A){return f(d(A))}}),"./node_modules/core-js/internals/to-primitive.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/function-call.js"),f=o("./node_modules/core-js/internals/is-object.js"),A=o("./node_modules/core-js/internals/is-symbol.js"),p=o("./node_modules/core-js/internals/get-method.js"),g=o("./node_modules/core-js/internals/ordinary-to-primitive.js"),y=o("./node_modules/core-js/internals/well-known-symbol.js"),v=TypeError,b=y("toPrimitive");c.exports=function(w,S){if(!f(w)||A(w))return w;var _=p(w,b),T;if(_){if(S===void 0&&(S="default"),T=d(_,w,S),!f(T)||A(T))return T;throw new v("Can't convert object to primitive value")}return S===void 0&&(S="number"),g(w,S)}}),"./node_modules/core-js/internals/to-property-key.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/to-primitive.js"),f=o("./node_modules/core-js/internals/is-symbol.js");c.exports=function(A){var p=d(A,"string");return f(p)?p:p+""}}),"./node_modules/core-js/internals/to-set-like.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/get-built-in.js"),f=o("./node_modules/core-js/internals/is-callable.js"),A=o("./node_modules/core-js/internals/is-iterable.js"),p=o("./node_modules/core-js/internals/is-object.js"),g=d("Set"),y=function(v){return p(v)&&typeof v.size=="number"&&f(v.has)&&f(v.keys)};c.exports=function(v){return y(v)?v:A(v)?new g(v):v}}),"./node_modules/core-js/internals/to-string-tag-support.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/well-known-symbol.js"),f=d("toStringTag"),A={};A[f]="z",c.exports=String(A)==="[object z]"}),"./node_modules/core-js/internals/to-string.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/classof.js"),f=String;c.exports=function(A){if(d(A)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return f(A)}}),"./node_modules/core-js/internals/try-to-string.js":(function(c){var u=String;c.exports=function(o){try{return u(o)}catch{return"Object"}}}),"./node_modules/core-js/internals/uid.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/function-uncurry-this.js"),f=0,A=Math.random(),p=d(1.1.toString);c.exports=function(g){return"Symbol("+(g===void 0?"":g)+")_"+p(++f+A,36)}}),"./node_modules/core-js/internals/use-symbol-as-uid.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/symbol-constructor-detection.js");c.exports=d&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}),"./node_modules/core-js/internals/v8-prototype-define-bug.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/descriptors.js"),f=o("./node_modules/core-js/internals/fails.js");c.exports=d&&f(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})}),"./node_modules/core-js/internals/validate-arguments-length.js":(function(c){var u=TypeError;c.exports=function(o,d){if(o<d)throw new u("Not enough arguments");return o}}),"./node_modules/core-js/internals/weak-map-basic-detection.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/global-this.js"),f=o("./node_modules/core-js/internals/is-callable.js"),A=d.WeakMap;c.exports=f(A)&&/native code/.test(String(A))}),"./node_modules/core-js/internals/well-known-symbol-define.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/path.js"),f=o("./node_modules/core-js/internals/has-own-property.js"),A=o("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),p=o("./node_modules/core-js/internals/object-define-property.js").f;c.exports=function(g){var y=d.Symbol||(d.Symbol={});f(y,g)||p(y,g,{value:A.f(g)})}}),"./node_modules/core-js/internals/well-known-symbol-wrapped.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/well-known-symbol.js");u.f=d}),"./node_modules/core-js/internals/well-known-symbol.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/global-this.js"),f=o("./node_modules/core-js/internals/shared.js"),A=o("./node_modules/core-js/internals/has-own-property.js"),p=o("./node_modules/core-js/internals/uid.js"),g=o("./node_modules/core-js/internals/symbol-constructor-detection.js"),y=o("./node_modules/core-js/internals/use-symbol-as-uid.js"),v=d.Symbol,b=f("wks"),w=y?v.for||v:v&&v.withoutSetter||p;c.exports=function(S){return A(b,S)||(b[S]=g&&A(v,S)?v[S]:w("Symbol."+S)),b[S]}}),"./node_modules/core-js/internals/whitespaces.js":(function(c){c.exports=`	
\v\f\r \u2028\u2029\uFEFF`}),"./node_modules/core-js/modules/es.array.concat.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),f=o("./node_modules/core-js/internals/fails.js"),A=o("./node_modules/core-js/internals/is-array.js"),p=o("./node_modules/core-js/internals/is-object.js"),g=o("./node_modules/core-js/internals/to-object.js"),y=o("./node_modules/core-js/internals/length-of-array-like.js"),v=o("./node_modules/core-js/internals/does-not-exceed-safe-integer.js"),b=o("./node_modules/core-js/internals/create-property.js"),w=o("./node_modules/core-js/internals/array-species-create.js"),S=o("./node_modules/core-js/internals/array-method-has-species-support.js"),_=o("./node_modules/core-js/internals/well-known-symbol.js"),T=o("./node_modules/core-js/internals/environment-v8-version.js"),L=_("isConcatSpreadable"),D=T>=51||!f(function(){var J=[];return J[L]=!1,J.concat()[0]!==J}),V=function(J){if(!p(J))return!1;var ee=J[L];return ee!==void 0?!!ee:A(J)},G=!D||!S("concat");d({target:"Array",proto:!0,arity:1,forced:G},{concat:function(ee){var ue=g(this),pe=w(ue,0),ge=0,he,ne,Ae,oe,Be;for(he=-1,Ae=arguments.length;he<Ae;he++)if(Be=he===-1?ue:arguments[he],V(Be))for(oe=y(Be),v(ge+oe),ne=0;ne<oe;ne++,ge++)ne in Be&&b(pe,ge,Be[ne]);else v(ge+1),b(pe,ge++,Be);return pe.length=ge,pe}})}),"./node_modules/core-js/modules/es.array.from.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),f=o("./node_modules/core-js/internals/array-from.js"),A=o("./node_modules/core-js/internals/check-correctness-of-iteration.js"),p=!A(function(g){Array.from(g)});d({target:"Array",stat:!0,forced:p},{from:f})}),"./node_modules/core-js/modules/es.array.index-of.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),f=o("./node_modules/core-js/internals/function-uncurry-this-clause.js"),A=o("./node_modules/core-js/internals/array-includes.js").indexOf,p=o("./node_modules/core-js/internals/array-method-is-strict.js"),g=f([].indexOf),y=!!g&&1/g([1],1,-0)<0,v=y||!p("indexOf");d({target:"Array",proto:!0,forced:v},{indexOf:function(w){var S=arguments.length>1?arguments[1]:void 0;return y?g(this,w,S)||0:A(this,w,S)}})}),"./node_modules/core-js/modules/es.array.iterator.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/to-indexed-object.js"),f=o("./node_modules/core-js/internals/add-to-unscopables.js"),A=o("./node_modules/core-js/internals/iterators.js"),p=o("./node_modules/core-js/internals/internal-state.js"),g=o("./node_modules/core-js/internals/object-define-property.js").f,y=o("./node_modules/core-js/internals/iterator-define.js"),v=o("./node_modules/core-js/internals/create-iter-result-object.js"),b=o("./node_modules/core-js/internals/is-pure.js"),w=o("./node_modules/core-js/internals/descriptors.js"),S="Array Iterator",_=p.set,T=p.getterFor(S);c.exports=y(Array,"Array",function(D,V){_(this,{type:S,target:d(D),index:0,kind:V})},function(){var D=T(this),V=D.target,G=D.index++;if(!V||G>=V.length)return D.target=null,v(void 0,!0);switch(D.kind){case"keys":return v(G,!1);case"values":return v(V[G],!1)}return v([G,V[G]],!1)},"values");var L=A.Arguments=A.Array;if(f("keys"),f("values"),f("entries"),!b&&w&&L.name!=="values")try{g(L,"name",{value:"values"})}catch{}}),"./node_modules/core-js/modules/es.array.join.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),f=o("./node_modules/core-js/internals/function-uncurry-this.js"),A=o("./node_modules/core-js/internals/indexed-object.js"),p=o("./node_modules/core-js/internals/to-indexed-object.js"),g=o("./node_modules/core-js/internals/array-method-is-strict.js"),y=f([].join),v=A!==Object,b=v||!g("join",",");d({target:"Array",proto:!0,forced:b},{join:function(S){return y(p(this),S===void 0?",":S)}})}),"./node_modules/core-js/modules/es.array.map.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),f=o("./node_modules/core-js/internals/array-iteration.js").map,A=o("./node_modules/core-js/internals/array-method-has-species-support.js"),p=A("map");d({target:"Array",proto:!0,forced:!p},{map:function(y){return f(this,y,arguments.length>1?arguments[1]:void 0)}})}),"./node_modules/core-js/modules/es.array.reduce.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),f=o("./node_modules/core-js/internals/array-reduce.js").left,A=o("./node_modules/core-js/internals/array-method-is-strict.js"),p=o("./node_modules/core-js/internals/environment-v8-version.js"),g=o("./node_modules/core-js/internals/environment-is-node.js"),y=!g&&p>79&&p<83,v=y||!A("reduce");d({target:"Array",proto:!0,forced:v},{reduce:function(w){var S=arguments.length;return f(this,w,S,S>1?arguments[1]:void 0)}})}),"./node_modules/core-js/modules/es.array.reverse.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),f=o("./node_modules/core-js/internals/function-uncurry-this.js"),A=o("./node_modules/core-js/internals/is-array.js"),p=f([].reverse),g=[1,2];d({target:"Array",proto:!0,forced:String(g)===String(g.reverse())},{reverse:function(){return A(this)&&(this.length=this.length),p(this)}})}),"./node_modules/core-js/modules/es.array.slice.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),f=o("./node_modules/core-js/internals/is-array.js"),A=o("./node_modules/core-js/internals/is-constructor.js"),p=o("./node_modules/core-js/internals/is-object.js"),g=o("./node_modules/core-js/internals/to-absolute-index.js"),y=o("./node_modules/core-js/internals/length-of-array-like.js"),v=o("./node_modules/core-js/internals/to-indexed-object.js"),b=o("./node_modules/core-js/internals/create-property.js"),w=o("./node_modules/core-js/internals/well-known-symbol.js"),S=o("./node_modules/core-js/internals/array-method-has-species-support.js"),_=o("./node_modules/core-js/internals/array-slice.js"),T=S("slice"),L=w("species"),D=Array,V=Math.max;d({target:"Array",proto:!0,forced:!T},{slice:function(J,ee){var ue=v(this),pe=y(ue),ge=g(J,pe),he=g(ee===void 0?pe:ee,pe),ne,Ae,oe;if(f(ue)&&(ne=ue.constructor,A(ne)&&(ne===D||f(ne.prototype))?ne=void 0:p(ne)&&(ne=ne[L],ne===null&&(ne=void 0)),ne===D||ne===void 0))return _(ue,ge,he);for(Ae=new(ne===void 0?D:ne)(V(he-ge,0)),oe=0;ge<he;ge++,oe++)ge in ue&&b(Ae,oe,ue[ge]);return Ae.length=oe,Ae}})}),"./node_modules/core-js/modules/es.function.name.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/descriptors.js"),f=o("./node_modules/core-js/internals/function-name.js").EXISTS,A=o("./node_modules/core-js/internals/function-uncurry-this.js"),p=o("./node_modules/core-js/internals/define-built-in-accessor.js"),g=Function.prototype,y=A(g.toString),v=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,b=A(v.exec),w="name";d&&!f&&p(g,w,{configurable:!0,get:function(){try{return b(v,y(this))[1]}catch{return""}}})}),"./node_modules/core-js/modules/es.iterator.constructor.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),f=o("./node_modules/core-js/internals/global-this.js"),A=o("./node_modules/core-js/internals/an-instance.js"),p=o("./node_modules/core-js/internals/an-object.js"),g=o("./node_modules/core-js/internals/is-callable.js"),y=o("./node_modules/core-js/internals/object-get-prototype-of.js"),v=o("./node_modules/core-js/internals/define-built-in-accessor.js"),b=o("./node_modules/core-js/internals/create-property.js"),w=o("./node_modules/core-js/internals/fails.js"),S=o("./node_modules/core-js/internals/has-own-property.js"),_=o("./node_modules/core-js/internals/well-known-symbol.js"),T=o("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,L=o("./node_modules/core-js/internals/descriptors.js"),D=o("./node_modules/core-js/internals/is-pure.js"),V="constructor",G="Iterator",J=_("toStringTag"),ee=TypeError,ue=f[G],pe=D||!g(ue)||ue.prototype!==T||!w(function(){ue({})}),ge=function(){if(A(this,T),y(this)===T)throw new ee("Abstract class Iterator not directly constructable")},he=function(ne,Ae){L?v(T,ne,{configurable:!0,get:function(){return Ae},set:function(oe){if(p(this),this===T)throw new ee("You can't redefine this property");S(this,ne)?this[ne]=oe:b(this,ne,oe)}}):T[ne]=Ae};S(T,J)||he(J,G),(pe||!S(T,V)||T[V]===Object)&&he(V,ge),ge.prototype=T,d({global:!0,constructor:!0,forced:pe},{Iterator:ge})}),"./node_modules/core-js/modules/es.iterator.for-each.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),f=o("./node_modules/core-js/internals/function-call.js"),A=o("./node_modules/core-js/internals/iterate.js"),p=o("./node_modules/core-js/internals/a-callable.js"),g=o("./node_modules/core-js/internals/an-object.js"),y=o("./node_modules/core-js/internals/get-iterator-direct.js"),v=o("./node_modules/core-js/internals/iterator-close.js"),b=o("./node_modules/core-js/internals/iterator-helper-without-closing-on-early-error.js"),w=b("forEach",TypeError);d({target:"Iterator",proto:!0,real:!0,forced:w},{forEach:function(_){g(this);try{p(_)}catch(D){v(this,"throw",D)}if(w)return f(w,this,_);var T=y(this),L=0;A(T,function(D){_(D,L++)},{IS_RECORD:!0})}})}),"./node_modules/core-js/modules/es.iterator.map.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),f=o("./node_modules/core-js/internals/function-call.js"),A=o("./node_modules/core-js/internals/a-callable.js"),p=o("./node_modules/core-js/internals/an-object.js"),g=o("./node_modules/core-js/internals/get-iterator-direct.js"),y=o("./node_modules/core-js/internals/iterator-create-proxy.js"),v=o("./node_modules/core-js/internals/call-with-safe-iteration-closing.js"),b=o("./node_modules/core-js/internals/iterator-close.js"),w=o("./node_modules/core-js/internals/iterator-helper-throws-on-invalid-iterator.js"),S=o("./node_modules/core-js/internals/iterator-helper-without-closing-on-early-error.js"),_=o("./node_modules/core-js/internals/is-pure.js"),T=!_&&!w("map",function(){}),L=!_&&!T&&S("map",TypeError),D=_||T||L,V=y(function(){var G=this.iterator,J=p(f(this.next,G)),ee=this.done=!!J.done;if(!ee)return v(G,this.mapper,[J.value,this.counter++],!0)});d({target:"Iterator",proto:!0,real:!0,forced:D},{map:function(J){p(this);try{A(J)}catch(ee){b(this,"throw",ee)}return L?f(L,this,J):new V(g(this),{mapper:J})}})}),"./node_modules/core-js/modules/es.json.stringify.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),f=o("./node_modules/core-js/internals/get-built-in.js"),A=o("./node_modules/core-js/internals/function-apply.js"),p=o("./node_modules/core-js/internals/function-call.js"),g=o("./node_modules/core-js/internals/function-uncurry-this.js"),y=o("./node_modules/core-js/internals/fails.js"),v=o("./node_modules/core-js/internals/is-array.js"),b=o("./node_modules/core-js/internals/is-callable.js"),w=o("./node_modules/core-js/internals/is-raw-json.js"),S=o("./node_modules/core-js/internals/is-symbol.js"),_=o("./node_modules/core-js/internals/classof-raw.js"),T=o("./node_modules/core-js/internals/to-string.js"),L=o("./node_modules/core-js/internals/array-slice.js"),D=o("./node_modules/core-js/internals/parse-json-string.js"),V=o("./node_modules/core-js/internals/uid.js"),G=o("./node_modules/core-js/internals/symbol-constructor-detection.js"),J=o("./node_modules/core-js/internals/native-raw-json.js"),ee=String,ue=f("JSON","stringify"),pe=g(/./.exec),ge=g("".charAt),he=g("".charCodeAt),ne=g("".replace),Ae=g("".slice),oe=g([].push),Be=g(1.1.toString),ke=/[\uD800-\uDFFF]/g,ve=/^[\uD800-\uDBFF]$/,se=/^[\uDC00-\uDFFF]$/,me=V(),je=me.length,Ue=!G||y(function(){var Ze=f("Symbol")("stringify detection");return ue([Ze])!=="[null]"||ue({a:Ze})!=="{}"||ue(Object(Ze))!=="{}"}),De=y(function(){return ue("\uDF06\uD834")!=='"\\udf06\\ud834"'||ue("\uDEAD")!=='"\\udead"'}),ot=Ue?function(Ze,ze){var $e=L(arguments),ct=Ce(ze);if(!(!b(ct)&&(Ze===void 0||S(Ze))))return $e[1]=function(Fe,xt){if(b(ct)&&(xt=p(ct,this,ee(Fe),xt)),!S(xt))return xt},A(ue,null,$e)}:ue,ft=function(Ze,ze,$e){var ct=ge($e,ze-1),Fe=ge($e,ze+1);return pe(ve,Ze)&&!pe(se,Fe)||pe(se,Ze)&&!pe(ve,ct)?"\\u"+Be(he(Ze,0),16):Ze},Ce=function(Ze){if(b(Ze))return Ze;if(v(Ze)){for(var ze=Ze.length,$e=[],ct=0;ct<ze;ct++){var Fe=Ze[ct];typeof Fe=="string"?oe($e,Fe):(typeof Fe=="number"||_(Fe)==="Number"||_(Fe)==="String")&&oe($e,T(Fe))}var xt=$e.length,pt=!0;return function(Bt,qt){if(pt)return pt=!1,qt;if(v(this))return qt;for(var Yr=0;Yr<xt;Yr++)if($e[Yr]===Bt)return qt}}};ue&&d({target:"JSON",stat:!0,arity:3,forced:Ue||De||!J},{stringify:function(ze,$e,ct){var Fe=Ce($e),xt=[],pt=ot(ze,function(Tn,Jr){var sn=b(Fe)?p(Fe,this,ee(Tn),Jr):Jr;return!J&&w(sn)?me+(oe(xt,sn.rawJSON)-1):sn},ct);if(typeof pt!="string"||(De&&(pt=ne(pt,ke,ft)),J))return pt;for(var Bt="",qt=pt.length,Yr=0;Yr<qt;Yr++){var yr=ge(pt,Yr);if(yr==='"'){var Wr=D(pt,++Yr).end-1,hn=Ae(pt,Yr,Wr);Bt+=Ae(hn,0,je)===me?xt[Ae(hn,je)]:'"'+hn+'"',Yr=Wr}else Bt+=yr}return Bt}})}),"./node_modules/core-js/modules/es.number.constructor.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),f=o("./node_modules/core-js/internals/is-pure.js"),A=o("./node_modules/core-js/internals/descriptors.js"),p=o("./node_modules/core-js/internals/global-this.js"),g=o("./node_modules/core-js/internals/path.js"),y=o("./node_modules/core-js/internals/function-uncurry-this.js"),v=o("./node_modules/core-js/internals/is-forced.js"),b=o("./node_modules/core-js/internals/has-own-property.js"),w=o("./node_modules/core-js/internals/inherit-if-required.js"),S=o("./node_modules/core-js/internals/object-is-prototype-of.js"),_=o("./node_modules/core-js/internals/is-symbol.js"),T=o("./node_modules/core-js/internals/to-primitive.js"),L=o("./node_modules/core-js/internals/fails.js"),D=o("./node_modules/core-js/internals/object-get-own-property-names.js").f,V=o("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,G=o("./node_modules/core-js/internals/object-define-property.js").f,J=o("./node_modules/core-js/internals/this-number-value.js"),ee=o("./node_modules/core-js/internals/string-trim.js").trim,ue="Number",pe=p[ue],ge=g[ue],he=pe.prototype,ne=p.TypeError,Ae=y("".slice),oe=y("".charCodeAt),Be=function(Ue){var De=T(Ue,"number");return typeof De=="bigint"?De:ke(De)},ke=function(Ue){var De=T(Ue,"number"),ot,ft,Ce,Ze,ze,$e,ct,Fe;if(_(De))throw new ne("Cannot convert a Symbol value to a number");if(typeof De=="string"&&De.length>2){if(De=ee(De),ot=oe(De,0),ot===43||ot===45){if(ft=oe(De,2),ft===88||ft===120)return NaN}else if(ot===48){switch(oe(De,1)){case 66:case 98:Ce=2,Ze=49;break;case 79:case 111:Ce=8,Ze=55;break;default:return+De}for(ze=Ae(De,2),$e=ze.length,ct=0;ct<$e;ct++)if(Fe=oe(ze,ct),Fe<48||Fe>Ze)return NaN;return parseInt(ze,Ce)}}return+De},ve=v(ue,!pe(" 0o1")||!pe("0b1")||pe("+0x1")),se=function(Ue){return S(he,Ue)&&L(function(){J(Ue)})},me=function(De){var ot=arguments.length<1?0:pe(Be(De));return se(this)?w(Object(ot),this,me):ot};me.prototype=he,ve&&!f&&(he.constructor=me),d({global:!0,constructor:!0,wrap:!0,forced:ve},{Number:me});var je=function(Ue,De){for(var ot=A?D(De):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),ft=0,Ce;ot.length>ft;ft++)b(De,Ce=ot[ft])&&!b(Ue,Ce)&&G(Ue,Ce,V(De,Ce))};f&&ge&&je(g[ue],ge),(ve||f)&&je(g[ue],pe)}),"./node_modules/core-js/modules/es.object.assign.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),f=o("./node_modules/core-js/internals/object-assign.js");d({target:"Object",stat:!0,arity:2,forced:Object.assign!==f},{assign:f})}),"./node_modules/core-js/modules/es.object.get-own-property-symbols.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),f=o("./node_modules/core-js/internals/symbol-constructor-detection.js"),A=o("./node_modules/core-js/internals/fails.js"),p=o("./node_modules/core-js/internals/object-get-own-property-symbols.js"),g=o("./node_modules/core-js/internals/to-object.js"),y=!f||A(function(){p.f(1)});d({target:"Object",stat:!0,forced:y},{getOwnPropertySymbols:function(b){var w=p.f;return w?w(g(b)):[]}})}),"./node_modules/core-js/modules/es.object.keys.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),f=o("./node_modules/core-js/internals/to-object.js"),A=o("./node_modules/core-js/internals/object-keys.js"),p=o("./node_modules/core-js/internals/fails.js"),g=p(function(){A(1)});d({target:"Object",stat:!0,forced:g},{keys:function(v){return A(f(v))}})}),"./node_modules/core-js/modules/es.object.to-string.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/to-string-tag-support.js"),f=o("./node_modules/core-js/internals/define-built-in.js"),A=o("./node_modules/core-js/internals/object-to-string.js");d||f(Object.prototype,"toString",A,{unsafe:!0})}),"./node_modules/core-js/modules/es.promise.all.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),f=o("./node_modules/core-js/internals/function-call.js"),A=o("./node_modules/core-js/internals/a-callable.js"),p=o("./node_modules/core-js/internals/new-promise-capability.js"),g=o("./node_modules/core-js/internals/perform.js"),y=o("./node_modules/core-js/internals/iterate.js"),v=o("./node_modules/core-js/internals/promise-statics-incorrect-iteration.js");d({target:"Promise",stat:!0,forced:v},{all:function(w){var S=this,_=p.f(S),T=_.resolve,L=_.reject,D=g(function(){var V=A(S.resolve),G=[],J=0,ee=1;y(w,function(ue){var pe=J++,ge=!1;ee++,f(V,S,ue).then(function(he){ge||(ge=!0,G[pe]=he,--ee||T(G))},L)}),--ee||T(G)});return D.error&&L(D.value),_.promise}})}),"./node_modules/core-js/modules/es.promise.catch.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),f=o("./node_modules/core-js/internals/is-pure.js"),A=o("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR,p=o("./node_modules/core-js/internals/promise-native-constructor.js"),g=o("./node_modules/core-js/internals/get-built-in.js"),y=o("./node_modules/core-js/internals/is-callable.js"),v=o("./node_modules/core-js/internals/define-built-in.js"),b=p&&p.prototype;if(d({target:"Promise",proto:!0,forced:A,real:!0},{catch:function(S){return this.then(void 0,S)}}),!f&&y(p)){var w=g("Promise").prototype.catch;b.catch!==w&&v(b,"catch",w,{unsafe:!0})}}),"./node_modules/core-js/modules/es.promise.constructor.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),f=o("./node_modules/core-js/internals/is-pure.js"),A=o("./node_modules/core-js/internals/environment-is-node.js"),p=o("./node_modules/core-js/internals/global-this.js"),g=o("./node_modules/core-js/internals/path.js"),y=o("./node_modules/core-js/internals/function-call.js"),v=o("./node_modules/core-js/internals/define-built-in.js"),b=o("./node_modules/core-js/internals/object-set-prototype-of.js"),w=o("./node_modules/core-js/internals/set-to-string-tag.js"),S=o("./node_modules/core-js/internals/set-species.js"),_=o("./node_modules/core-js/internals/a-callable.js"),T=o("./node_modules/core-js/internals/is-callable.js"),L=o("./node_modules/core-js/internals/is-object.js"),D=o("./node_modules/core-js/internals/an-instance.js"),V=o("./node_modules/core-js/internals/species-constructor.js"),G=o("./node_modules/core-js/internals/task.js").set,J=o("./node_modules/core-js/internals/microtask.js"),ee=o("./node_modules/core-js/internals/host-report-errors.js"),ue=o("./node_modules/core-js/internals/perform.js"),pe=o("./node_modules/core-js/internals/queue.js"),ge=o("./node_modules/core-js/internals/internal-state.js"),he=o("./node_modules/core-js/internals/promise-native-constructor.js"),ne=o("./node_modules/core-js/internals/promise-constructor-detection.js"),Ae=o("./node_modules/core-js/internals/new-promise-capability.js"),oe="Promise",Be=ne.CONSTRUCTOR,ke=ne.REJECTION_EVENT,ve=ne.SUBCLASSING,se=ge.getterFor(oe),me=ge.set,je=he&&he.prototype,Ue=he,De=je,ot=p.TypeError,ft=p.document,Ce=p.process,Ze=Ae.f,ze=Ze,$e=!!(ft&&ft.createEvent&&p.dispatchEvent),ct="unhandledrejection",Fe="rejectionhandled",xt=0,pt=1,Bt=2,qt=1,Yr=2,yr,Wr,hn,Tn,Jr=function(Pt){var or;return L(Pt)&&T(or=Pt.then)?or:!1},sn=function(Pt,or){var Br=or.value,Ur=or.state===pt,vn=Ur?Pt.ok:Pt.fail,qr=Pt.resolve,Vn=Pt.reject,Qr=Pt.domain,Nr,rn,Xr;try{vn?(Ur||(or.rejection===Yr&&Je(or),or.rejection=qt),vn===!0?Nr=Br:(Qr&&Qr.enter(),Nr=vn(Br),Qr&&(Qr.exit(),Xr=!0)),Nr===Pt.promise?Vn(new ot("Promise-chain cycle")):(rn=Jr(Nr))?y(rn,Nr,qr,Vn):qr(Nr)):Vn(Br)}catch(yn){Qr&&!Xr&&Qr.exit(),Vn(yn)}},on=function(Pt,or){Pt.notified||(Pt.notified=!0,J(function(){for(var Br=Pt.reactions,Ur;Ur=Br.get();)sn(Ur,Pt);Pt.notified=!1,or&&!Pt.rejection&&Qn(Pt)}))},Fn=function(Pt,or,Br){var Ur,vn;$e?(Ur=ft.createEvent("Event"),Ur.promise=or,Ur.reason=Br,Ur.initEvent(Pt,!1,!0),p.dispatchEvent(Ur)):Ur={promise:or,reason:Br},!ke&&(vn=p["on"+Pt])?vn(Ur):Pt===ct&&ee("Unhandled promise rejection",Br)},Qn=function(Pt){y(G,p,function(){var or=Pt.facade,Br=Pt.value,Ur=gi(Pt),vn;if(Ur&&(vn=ue(function(){A?Ce.emit("unhandledRejection",Br,or):Fn(ct,or,Br)}),Pt.rejection=A||gi(Pt)?Yr:qt,vn.error))throw vn.value})},gi=function(Pt){return Pt.rejection!==qt&&!Pt.parent},Je=function(Pt){y(G,p,function(){var or=Pt.facade;A?Ce.emit("rejectionHandled",or):Fn(Fe,or,Pt.value)})},Ut=function(Pt,or,Br){return function(Ur){Pt(or,Ur,Br)}},gr=function(Pt,or,Br){Pt.done||(Pt.done=!0,Br&&(Pt=Br),Pt.value=or,Pt.state=Bt,on(Pt,!0))},Wt=function(Pt,or,Br){if(!Pt.done){Pt.done=!0,Br&&(Pt=Br);try{if(Pt.facade===or)throw new ot("Promise can't be resolved itself");var Ur=Jr(or);Ur?J(function(){var vn={done:!1};try{y(Ur,or,Ut(Wt,vn,Pt),Ut(gr,vn,Pt))}catch(qr){gr(vn,qr,Pt)}}):(Pt.value=or,Pt.state=pt,on(Pt,!1))}catch(vn){gr({done:!1},vn,Pt)}}};if(Be&&(Ue=function(or){D(this,De),_(or),y(yr,this);var Br=se(this);try{or(Ut(Wt,Br),Ut(gr,Br))}catch(Ur){gr(Br,Ur)}},De=Ue.prototype,yr=function(or){me(this,{type:oe,done:!1,notified:!1,parent:!1,reactions:new pe,rejection:!1,state:xt,value:null})},yr.prototype=v(De,"then",function(or,Br){var Ur=se(this),vn=Ze(V(this,Ue));return Ur.parent=!0,vn.ok=T(or)?or:!0,vn.fail=T(Br)&&Br,vn.domain=A?Ce.domain:void 0,Ur.state===xt?Ur.reactions.add(vn):J(function(){sn(vn,Ur)}),vn.promise}),Wr=function(){var Pt=new yr,or=se(Pt);this.promise=Pt,this.resolve=Ut(Wt,or),this.reject=Ut(gr,or)},Ae.f=Ze=function(Pt){return Pt===Ue||Pt===hn?new Wr(Pt):ze(Pt)},!f&&T(he)&&je!==Object.prototype)){Tn=je.then,ve||v(je,"then",function(or,Br){var Ur=this;return new Ue(function(vn,qr){y(Tn,Ur,vn,qr)}).then(or,Br)},{unsafe:!0});try{delete je.constructor}catch{}b&&b(je,De)}d({global:!0,constructor:!0,wrap:!0,forced:Be},{Promise:Ue}),hn=g.Promise,w(Ue,oe,!1,!0),S(oe)}),"./node_modules/core-js/modules/es.promise.js":(function(c,u,o){o("./node_modules/core-js/modules/es.promise.constructor.js"),o("./node_modules/core-js/modules/es.promise.all.js"),o("./node_modules/core-js/modules/es.promise.catch.js"),o("./node_modules/core-js/modules/es.promise.race.js"),o("./node_modules/core-js/modules/es.promise.reject.js"),o("./node_modules/core-js/modules/es.promise.resolve.js")}),"./node_modules/core-js/modules/es.promise.race.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),f=o("./node_modules/core-js/internals/function-call.js"),A=o("./node_modules/core-js/internals/a-callable.js"),p=o("./node_modules/core-js/internals/new-promise-capability.js"),g=o("./node_modules/core-js/internals/perform.js"),y=o("./node_modules/core-js/internals/iterate.js"),v=o("./node_modules/core-js/internals/promise-statics-incorrect-iteration.js");d({target:"Promise",stat:!0,forced:v},{race:function(w){var S=this,_=p.f(S),T=_.reject,L=g(function(){var D=A(S.resolve);y(w,function(V){f(D,S,V).then(_.resolve,T)})});return L.error&&T(L.value),_.promise}})}),"./node_modules/core-js/modules/es.promise.reject.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),f=o("./node_modules/core-js/internals/new-promise-capability.js"),A=o("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR;d({target:"Promise",stat:!0,forced:A},{reject:function(g){var y=f.f(this),v=y.reject;return v(g),y.promise}})}),"./node_modules/core-js/modules/es.promise.resolve.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),f=o("./node_modules/core-js/internals/get-built-in.js"),A=o("./node_modules/core-js/internals/is-pure.js"),p=o("./node_modules/core-js/internals/promise-native-constructor.js"),g=o("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR,y=o("./node_modules/core-js/internals/promise-resolve.js"),v=f("Promise"),b=A&&!g;d({target:"Promise",stat:!0,forced:A||g},{resolve:function(S){return y(b&&this===v?p:this,S)}})}),"./node_modules/core-js/modules/es.regexp.exec.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),f=o("./node_modules/core-js/internals/regexp-exec.js");d({target:"RegExp",proto:!0,forced:/./.exec!==f},{exec:f})}),"./node_modules/core-js/modules/es.regexp.test.js":(function(c,u,o){o("./node_modules/core-js/modules/es.regexp.exec.js");var d=o("./node_modules/core-js/internals/export.js"),f=o("./node_modules/core-js/internals/function-call.js"),A=o("./node_modules/core-js/internals/is-callable.js"),p=o("./node_modules/core-js/internals/an-object.js"),g=o("./node_modules/core-js/internals/to-string.js"),y=(function(){var b=!1,w=/[ac]/;return w.exec=function(){return b=!0,/./.exec.apply(this,arguments)},w.test("abc")===!0&&b})(),v=/./.test;d({target:"RegExp",proto:!0,forced:!y},{test:function(b){var w=p(this),S=g(b),_=w.exec;if(!A(_))return f(v,w,S);var T=f(_,w,S);return T===null?!1:(p(T),!0)}})}),"./node_modules/core-js/modules/es.regexp.to-string.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/function-name.js").PROPER,f=o("./node_modules/core-js/internals/define-built-in.js"),A=o("./node_modules/core-js/internals/an-object.js"),p=o("./node_modules/core-js/internals/to-string.js"),g=o("./node_modules/core-js/internals/fails.js"),y=o("./node_modules/core-js/internals/regexp-get-flags.js"),v="toString",b=RegExp.prototype,w=b[v],S=g(function(){return w.call({source:"a",flags:"b"})!=="/a/b"}),_=d&&w.name!==v;(S||_)&&f(b,v,function(){var L=A(this),D=p(L.source),V=p(y(L));return"/"+D+"/"+V},{unsafe:!0})}),"./node_modules/core-js/modules/es.set.constructor.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/collection.js"),f=o("./node_modules/core-js/internals/collection-strong.js");d("Set",function(A){return function(){return A(this,arguments.length?arguments[0]:void 0)}},f)}),"./node_modules/core-js/modules/es.set.js":(function(c,u,o){o("./node_modules/core-js/modules/es.set.constructor.js")}),"./node_modules/core-js/modules/es.string.ends-with.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),f=o("./node_modules/core-js/internals/function-uncurry-this-clause.js"),A=o("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,p=o("./node_modules/core-js/internals/to-length.js"),g=o("./node_modules/core-js/internals/to-string.js"),y=o("./node_modules/core-js/internals/not-a-regexp.js"),v=o("./node_modules/core-js/internals/require-object-coercible.js"),b=o("./node_modules/core-js/internals/correct-is-regexp-logic.js"),w=o("./node_modules/core-js/internals/is-pure.js"),S=f("".slice),_=Math.min,T=b("endsWith"),L=!w&&!T&&!!(function(){var D=A(String.prototype,"endsWith");return D&&!D.writable})();d({target:"String",proto:!0,forced:!L&&!T},{endsWith:function(V){var G=g(v(this));y(V);var J=arguments.length>1?arguments[1]:void 0,ee=G.length,ue=J===void 0?ee:_(p(J),ee),pe=g(V);return S(G,ue-pe.length,ue)===pe}})}),"./node_modules/core-js/modules/es.string.includes.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),f=o("./node_modules/core-js/internals/function-uncurry-this.js"),A=o("./node_modules/core-js/internals/not-a-regexp.js"),p=o("./node_modules/core-js/internals/require-object-coercible.js"),g=o("./node_modules/core-js/internals/to-string.js"),y=o("./node_modules/core-js/internals/correct-is-regexp-logic.js"),v=f("".indexOf);d({target:"String",proto:!0,forced:!y("includes")},{includes:function(w){return!!~v(g(p(this)),g(A(w)),arguments.length>1?arguments[1]:void 0)}})}),"./node_modules/core-js/modules/es.string.iterator.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/string-multibyte.js").charAt,f=o("./node_modules/core-js/internals/to-string.js"),A=o("./node_modules/core-js/internals/internal-state.js"),p=o("./node_modules/core-js/internals/iterator-define.js"),g=o("./node_modules/core-js/internals/create-iter-result-object.js"),y="String Iterator",v=A.set,b=A.getterFor(y);p(String,"String",function(w){v(this,{type:y,string:f(w),index:0})},function(){var S=b(this),_=S.string,T=S.index,L;return T>=_.length?g(void 0,!0):(L=d(_,T),S.index+=L.length,g(L,!1))})}),"./node_modules/core-js/modules/es.string.link.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),f=o("./node_modules/core-js/internals/create-html.js"),A=o("./node_modules/core-js/internals/string-html-forced.js");d({target:"String",proto:!0,forced:A("link")},{link:function(g){return f(this,"a","href",g)}})}),"./node_modules/core-js/modules/es.string.match.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/function-call.js"),f=o("./node_modules/core-js/internals/function-uncurry-this.js"),A=o("./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js"),p=o("./node_modules/core-js/internals/an-object.js"),g=o("./node_modules/core-js/internals/is-object.js"),y=o("./node_modules/core-js/internals/to-length.js"),v=o("./node_modules/core-js/internals/to-string.js"),b=o("./node_modules/core-js/internals/require-object-coercible.js"),w=o("./node_modules/core-js/internals/get-method.js"),S=o("./node_modules/core-js/internals/advance-string-index.js"),_=o("./node_modules/core-js/internals/regexp-get-flags.js"),T=o("./node_modules/core-js/internals/regexp-exec-abstract.js"),L=f("".indexOf);A("match",function(D,V,G){return[function(ee){var ue=b(this),pe=g(ee)?w(ee,D):void 0;return pe?d(pe,ee,ue):new RegExp(ee)[D](v(ue))},function(J){var ee=p(this),ue=v(J),pe=G(V,ee,ue);if(pe.done)return pe.value;var ge=v(_(ee));if(L(ge,"g")===-1)return T(ee,ue);var he=L(ge,"u")!==-1;ee.lastIndex=0;for(var ne=[],Ae=0,oe;(oe=T(ee,ue))!==null;){var Be=v(oe[0]);ne[Ae]=Be,Be===""&&(ee.lastIndex=S(ue,y(ee.lastIndex),he)),Ae++}return Ae===0?null:ne}]})}),"./node_modules/core-js/modules/es.string.replace.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/function-apply.js"),f=o("./node_modules/core-js/internals/function-call.js"),A=o("./node_modules/core-js/internals/function-uncurry-this.js"),p=o("./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js"),g=o("./node_modules/core-js/internals/fails.js"),y=o("./node_modules/core-js/internals/an-object.js"),v=o("./node_modules/core-js/internals/is-callable.js"),b=o("./node_modules/core-js/internals/is-object.js"),w=o("./node_modules/core-js/internals/to-integer-or-infinity.js"),S=o("./node_modules/core-js/internals/to-length.js"),_=o("./node_modules/core-js/internals/to-string.js"),T=o("./node_modules/core-js/internals/require-object-coercible.js"),L=o("./node_modules/core-js/internals/advance-string-index.js"),D=o("./node_modules/core-js/internals/get-method.js"),V=o("./node_modules/core-js/internals/get-substitution.js"),G=o("./node_modules/core-js/internals/regexp-get-flags.js"),J=o("./node_modules/core-js/internals/regexp-exec-abstract.js"),ee=o("./node_modules/core-js/internals/well-known-symbol.js"),ue=ee("replace"),pe=Math.max,ge=Math.min,he=A([].concat),ne=A([].push),Ae=A("".indexOf),oe=A("".slice),Be=function(me){return me===void 0?me:String(me)},ke=(function(){return"a".replace(/./,"$0")==="$0"})(),ve=(function(){return/./[ue]?/./[ue]("a","$0")==="":!1})(),se=!g(function(){var me=/./;return me.exec=function(){var je=[];return je.groups={a:"7"},je},"".replace(me,"$<a>")!=="7"});p("replace",function(me,je,Ue){var De=ve?"$":"$0";return[function(ft,Ce){var Ze=T(this),ze=b(ft)?D(ft,ue):void 0;return ze?f(ze,ft,Ze,Ce):f(je,_(Ze),ft,Ce)},function(ot,ft){var Ce=y(this),Ze=_(ot);if(typeof ft=="string"&&Ae(ft,De)===-1&&Ae(ft,"$<")===-1){var ze=Ue(je,Ce,Ze,ft);if(ze.done)return ze.value}var $e=v(ft);$e||(ft=_(ft));var ct=_(G(Ce)),Fe=Ae(ct,"g")!==-1,xt;Fe&&(xt=Ae(ct,"u")!==-1,Ce.lastIndex=0);for(var pt=[],Bt;Bt=J(Ce,Ze),!(Bt===null||(ne(pt,Bt),!Fe));){var qt=_(Bt[0]);qt===""&&(Ce.lastIndex=L(Ze,S(Ce.lastIndex),xt))}for(var Yr="",yr=0,Wr=0;Wr<pt.length;Wr++){Bt=pt[Wr];for(var hn=_(Bt[0]),Tn=pe(ge(w(Bt.index),Ze.length),0),Jr=[],sn,on=1;on<Bt.length;on++)ne(Jr,Be(Bt[on]));var Fn=Bt.groups;if($e){var Qn=he([hn],Jr,Tn,Ze);Fn!==void 0&&ne(Qn,Fn),sn=_(d(ft,void 0,Qn))}else sn=V(hn,Ze,Tn,Jr,Fn,ft);Tn>=yr&&(Yr+=oe(Ze,yr,Tn)+sn,yr=Tn+hn.length)}return Yr+oe(Ze,yr)}]},!se||!ke||ve)}),"./node_modules/core-js/modules/es.string.split.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/function-call.js"),f=o("./node_modules/core-js/internals/function-uncurry-this.js"),A=o("./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js"),p=o("./node_modules/core-js/internals/an-object.js"),g=o("./node_modules/core-js/internals/is-object.js"),y=o("./node_modules/core-js/internals/require-object-coercible.js"),v=o("./node_modules/core-js/internals/species-constructor.js"),b=o("./node_modules/core-js/internals/advance-string-index.js"),w=o("./node_modules/core-js/internals/to-length.js"),S=o("./node_modules/core-js/internals/to-string.js"),_=o("./node_modules/core-js/internals/get-method.js"),T=o("./node_modules/core-js/internals/regexp-exec-abstract.js"),L=o("./node_modules/core-js/internals/regexp-sticky-helpers.js"),D=o("./node_modules/core-js/internals/fails.js"),V=L.UNSUPPORTED_Y,G=4294967295,J=Math.min,ee=f([].push),ue=f("".slice),pe=!D(function(){var he=/(?:)/,ne=he.exec;he.exec=function(){return ne.apply(this,arguments)};var Ae="ab".split(he);return Ae.length!==2||Ae[0]!=="a"||Ae[1]!=="b"}),ge="abbc".split(/(b)*/)[1]==="c"||"test".split(/(?:)/,-1).length!==4||"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||".".split(/()()/).length>1||"".split(/.?/).length;A("split",function(he,ne,Ae){var oe="0".split(void 0,0).length?function(Be,ke){return Be===void 0&&ke===0?[]:d(ne,this,Be,ke)}:ne;return[function(ke,ve){var se=y(this),me=g(ke)?_(ke,he):void 0;return me?d(me,ke,se,ve):d(oe,S(se),ke,ve)},function(Be,ke){var ve=p(this),se=S(Be);if(!ge){var me=Ae(oe,ve,se,ke,oe!==ne);if(me.done)return me.value}var je=v(ve,RegExp),Ue=ve.unicode,De=(ve.ignoreCase?"i":"")+(ve.multiline?"m":"")+(ve.unicode?"u":"")+(V?"g":"y"),ot=new je(V?"^(?:"+ve.source+")":ve,De),ft=ke===void 0?G:ke>>>0;if(ft===0)return[];if(se.length===0)return T(ot,se)===null?[se]:[];for(var Ce=0,Ze=0,ze=[];Ze<se.length;){ot.lastIndex=V?0:Ze;var $e=T(ot,V?ue(se,Ze):se),ct;if($e===null||(ct=J(w(ot.lastIndex+(V?Ze:0)),se.length))===Ce)Ze=b(se,Ze,Ue);else{if(ee(ze,ue(se,Ce,Ze)),ze.length===ft)return ze;for(var Fe=1;Fe<=$e.length-1;Fe++)if(ee(ze,$e[Fe]),ze.length===ft)return ze;Ze=Ce=ct}}return ee(ze,ue(se,Ce)),ze}]},ge||!pe,V)}),"./node_modules/core-js/modules/es.string.starts-with.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),f=o("./node_modules/core-js/internals/function-uncurry-this-clause.js"),A=o("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,p=o("./node_modules/core-js/internals/to-length.js"),g=o("./node_modules/core-js/internals/to-string.js"),y=o("./node_modules/core-js/internals/not-a-regexp.js"),v=o("./node_modules/core-js/internals/require-object-coercible.js"),b=o("./node_modules/core-js/internals/correct-is-regexp-logic.js"),w=o("./node_modules/core-js/internals/is-pure.js"),S=f("".slice),_=Math.min,T=b("startsWith"),L=!w&&!T&&!!(function(){var D=A(String.prototype,"startsWith");return D&&!D.writable})();d({target:"String",proto:!0,forced:!L&&!T},{startsWith:function(V){var G=g(v(this));y(V);var J=p(_(arguments.length>1?arguments[1]:void 0,G.length)),ee=g(V);return S(G,J,J+ee.length)===ee}})}),"./node_modules/core-js/modules/es.string.trim.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),f=o("./node_modules/core-js/internals/string-trim.js").trim,A=o("./node_modules/core-js/internals/string-trim-forced.js");d({target:"String",proto:!0,forced:A("trim")},{trim:function(){return f(this)}})}),"./node_modules/core-js/modules/es.symbol.constructor.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),f=o("./node_modules/core-js/internals/global-this.js"),A=o("./node_modules/core-js/internals/function-call.js"),p=o("./node_modules/core-js/internals/function-uncurry-this.js"),g=o("./node_modules/core-js/internals/is-pure.js"),y=o("./node_modules/core-js/internals/descriptors.js"),v=o("./node_modules/core-js/internals/symbol-constructor-detection.js"),b=o("./node_modules/core-js/internals/fails.js"),w=o("./node_modules/core-js/internals/has-own-property.js"),S=o("./node_modules/core-js/internals/object-is-prototype-of.js"),_=o("./node_modules/core-js/internals/an-object.js"),T=o("./node_modules/core-js/internals/to-indexed-object.js"),L=o("./node_modules/core-js/internals/to-property-key.js"),D=o("./node_modules/core-js/internals/to-string.js"),V=o("./node_modules/core-js/internals/create-property-descriptor.js"),G=o("./node_modules/core-js/internals/object-create.js"),J=o("./node_modules/core-js/internals/object-keys.js"),ee=o("./node_modules/core-js/internals/object-get-own-property-names.js"),ue=o("./node_modules/core-js/internals/object-get-own-property-names-external.js"),pe=o("./node_modules/core-js/internals/object-get-own-property-symbols.js"),ge=o("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),he=o("./node_modules/core-js/internals/object-define-property.js"),ne=o("./node_modules/core-js/internals/object-define-properties.js"),Ae=o("./node_modules/core-js/internals/object-property-is-enumerable.js"),oe=o("./node_modules/core-js/internals/define-built-in.js"),Be=o("./node_modules/core-js/internals/define-built-in-accessor.js"),ke=o("./node_modules/core-js/internals/shared.js"),ve=o("./node_modules/core-js/internals/shared-key.js"),se=o("./node_modules/core-js/internals/hidden-keys.js"),me=o("./node_modules/core-js/internals/uid.js"),je=o("./node_modules/core-js/internals/well-known-symbol.js"),Ue=o("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),De=o("./node_modules/core-js/internals/well-known-symbol-define.js"),ot=o("./node_modules/core-js/internals/symbol-define-to-primitive.js"),ft=o("./node_modules/core-js/internals/set-to-string-tag.js"),Ce=o("./node_modules/core-js/internals/internal-state.js"),Ze=o("./node_modules/core-js/internals/array-iteration.js").forEach,ze=ve("hidden"),$e="Symbol",ct="prototype",Fe=Ce.set,xt=Ce.getterFor($e),pt=Object[ct],Bt=f.Symbol,qt=Bt&&Bt[ct],Yr=f.RangeError,yr=f.TypeError,Wr=f.QObject,hn=ge.f,Tn=he.f,Jr=ue.f,sn=Ae.f,on=p([].push),Fn=ke("symbols"),Qn=ke("op-symbols"),gi=ke("wks"),Je=!Wr||!Wr[ct]||!Wr[ct].findChild,Ut=function(Qr,Nr,rn){var Xr=hn(pt,Nr);Xr&&delete pt[Nr],Tn(Qr,Nr,rn),Xr&&Qr!==pt&&Tn(pt,Nr,Xr)},gr=y&&b(function(){return G(Tn({},"a",{get:function(){return Tn(this,"a",{value:7}).a}})).a!==7})?Ut:Tn,Wt=function(Qr,Nr){var rn=Fn[Qr]=G(qt);return Fe(rn,{type:$e,tag:Qr,description:Nr}),y||(rn.description=Nr),rn},Pt=function(Nr,rn,Xr){Nr===pt&&Pt(Qn,rn,Xr),_(Nr);var yn=L(rn);return _(Xr),w(Fn,yn)?(Xr.enumerable?(w(Nr,ze)&&Nr[ze][yn]&&(Nr[ze][yn]=!1),Xr=G(Xr,{enumerable:V(0,!1)})):(w(Nr,ze)||Tn(Nr,ze,V(1,G(null))),Nr[ze][yn]=!0),gr(Nr,yn,Xr)):Tn(Nr,yn,Xr)},or=function(Nr,rn){_(Nr);var Xr=T(rn),yn=J(Xr).concat(Vn(Xr));return Ze(yn,function(Wn){(!y||A(Ur,Xr,Wn))&&Pt(Nr,Wn,Xr[Wn])}),Nr},Br=function(Nr,rn){return rn===void 0?G(Nr):or(G(Nr),rn)},Ur=function(Nr){var rn=L(Nr),Xr=A(sn,this,rn);return this===pt&&w(Fn,rn)&&!w(Qn,rn)?!1:Xr||!w(this,rn)||!w(Fn,rn)||w(this,ze)&&this[ze][rn]?Xr:!0},vn=function(Nr,rn){var Xr=T(Nr),yn=L(rn);if(!(Xr===pt&&w(Fn,yn)&&!w(Qn,yn))){var Wn=hn(Xr,yn);return Wn&&w(Fn,yn)&&!(w(Xr,ze)&&Xr[ze][yn])&&(Wn.enumerable=!0),Wn}},qr=function(Nr){var rn=Jr(T(Nr)),Xr=[];return Ze(rn,function(yn){!w(Fn,yn)&&!w(se,yn)&&on(Xr,yn)}),Xr},Vn=function(Qr){var Nr=Qr===pt,rn=Jr(Nr?Qn:T(Qr)),Xr=[];return Ze(rn,function(yn){w(Fn,yn)&&(!Nr||w(pt,yn))&&on(Xr,Fn[yn])}),Xr};v||(Bt=function(){if(S(qt,this))throw new yr("Symbol is not a constructor");var Nr=!arguments.length||arguments[0]===void 0?void 0:D(arguments[0]),rn=me(Nr),Xr=function(yn){var Wn=this===void 0?f:this;Wn===pt&&A(Xr,Qn,yn),w(Wn,ze)&&w(Wn[ze],rn)&&(Wn[ze][rn]=!1);var ds=V(1,yn);try{gr(Wn,rn,ds)}catch(vs){if(!(vs instanceof Yr))throw vs;Ut(Wn,rn,ds)}};return y&&Je&&gr(pt,rn,{configurable:!0,set:Xr}),Wt(rn,Nr)},qt=Bt[ct],oe(qt,"toString",function(){return xt(this).tag}),oe(Bt,"withoutSetter",function(Qr){return Wt(me(Qr),Qr)}),Ae.f=Ur,he.f=Pt,ne.f=or,ge.f=vn,ee.f=ue.f=qr,pe.f=Vn,Ue.f=function(Qr){return Wt(je(Qr),Qr)},y&&(Be(qt,"description",{configurable:!0,get:function(){return xt(this).description}}),g||oe(pt,"propertyIsEnumerable",Ur,{unsafe:!0}))),d({global:!0,constructor:!0,wrap:!0,forced:!v,sham:!v},{Symbol:Bt}),Ze(J(gi),function(Qr){De(Qr)}),d({target:$e,stat:!0,forced:!v},{useSetter:function(){Je=!0},useSimple:function(){Je=!1}}),d({target:"Object",stat:!0,forced:!v,sham:!y},{create:Br,defineProperty:Pt,defineProperties:or,getOwnPropertyDescriptor:vn}),d({target:"Object",stat:!0,forced:!v},{getOwnPropertyNames:qr}),ot(),ft(Bt,$e),se[ze]=!0}),"./node_modules/core-js/modules/es.symbol.description.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),f=o("./node_modules/core-js/internals/descriptors.js"),A=o("./node_modules/core-js/internals/global-this.js"),p=o("./node_modules/core-js/internals/function-uncurry-this.js"),g=o("./node_modules/core-js/internals/has-own-property.js"),y=o("./node_modules/core-js/internals/is-callable.js"),v=o("./node_modules/core-js/internals/object-is-prototype-of.js"),b=o("./node_modules/core-js/internals/to-string.js"),w=o("./node_modules/core-js/internals/define-built-in-accessor.js"),S=o("./node_modules/core-js/internals/copy-constructor-properties.js"),_=A.Symbol,T=_&&_.prototype;if(f&&y(_)&&(!("description"in T)||_().description!==void 0)){var L={},D=function(){var he=arguments.length<1||arguments[0]===void 0?void 0:b(arguments[0]),ne=v(T,this)?new _(he):he===void 0?_():_(he);return he===""&&(L[ne]=!0),ne};S(D,_),D.prototype=T,T.constructor=D;var V=String(_("description detection"))==="Symbol(description detection)",G=p(T.valueOf),J=p(T.toString),ee=/^Symbol\((.*)\)[^)]+$/,ue=p("".replace),pe=p("".slice);w(T,"description",{configurable:!0,get:function(){var he=G(this);if(g(L,he))return"";var ne=J(he),Ae=V?pe(ne,7,-1):ue(ne,ee,"$1");return Ae===""?void 0:Ae}}),d({global:!0,constructor:!0,forced:!0},{Symbol:D})}}),"./node_modules/core-js/modules/es.symbol.for.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),f=o("./node_modules/core-js/internals/get-built-in.js"),A=o("./node_modules/core-js/internals/has-own-property.js"),p=o("./node_modules/core-js/internals/to-string.js"),g=o("./node_modules/core-js/internals/shared.js"),y=o("./node_modules/core-js/internals/symbol-registry-detection.js"),v=g("string-to-symbol-registry"),b=g("symbol-to-string-registry");d({target:"Symbol",stat:!0,forced:!y},{for:function(w){var S=p(w);if(A(v,S))return v[S];var _=f("Symbol")(S);return v[S]=_,b[_]=S,_}})}),"./node_modules/core-js/modules/es.symbol.iterator.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/well-known-symbol-define.js");d("iterator")}),"./node_modules/core-js/modules/es.symbol.js":(function(c,u,o){o("./node_modules/core-js/modules/es.symbol.constructor.js"),o("./node_modules/core-js/modules/es.symbol.for.js"),o("./node_modules/core-js/modules/es.symbol.key-for.js"),o("./node_modules/core-js/modules/es.json.stringify.js"),o("./node_modules/core-js/modules/es.object.get-own-property-symbols.js")}),"./node_modules/core-js/modules/es.symbol.key-for.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),f=o("./node_modules/core-js/internals/has-own-property.js"),A=o("./node_modules/core-js/internals/is-symbol.js"),p=o("./node_modules/core-js/internals/try-to-string.js"),g=o("./node_modules/core-js/internals/shared.js"),y=o("./node_modules/core-js/internals/symbol-registry-detection.js"),v=g("symbol-to-string-registry");d({target:"Symbol",stat:!0,forced:!y},{keyFor:function(w){if(!A(w))throw new TypeError(p(w)+" is not a symbol");if(f(v,w))return v[w]}})}),"./node_modules/core-js/modules/esnext.iterator.constructor.js":(function(c,u,o){o("./node_modules/core-js/modules/es.iterator.constructor.js")}),"./node_modules/core-js/modules/esnext.iterator.for-each.js":(function(c,u,o){o("./node_modules/core-js/modules/es.iterator.for-each.js")}),"./node_modules/core-js/modules/esnext.iterator.map.js":(function(c,u,o){o("./node_modules/core-js/modules/es.iterator.map.js")}),"./node_modules/core-js/modules/esnext.set.add-all.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),f=o("./node_modules/core-js/internals/a-set.js"),A=o("./node_modules/core-js/internals/set-helpers.js").add;d({target:"Set",proto:!0,real:!0,forced:!0},{addAll:function(){for(var g=f(this),y=0,v=arguments.length;y<v;y++)A(g,arguments[y]);return g}})}),"./node_modules/core-js/modules/esnext.set.delete-all.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),f=o("./node_modules/core-js/internals/a-set.js"),A=o("./node_modules/core-js/internals/set-helpers.js").remove;d({target:"Set",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var g=f(this),y=!0,v,b=0,w=arguments.length;b<w;b++)v=A(g,arguments[b]),y=y&&v;return!!y}})}),"./node_modules/core-js/modules/esnext.set.difference.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),f=o("./node_modules/core-js/internals/function-call.js"),A=o("./node_modules/core-js/internals/to-set-like.js"),p=o("./node_modules/core-js/internals/set-difference.js");d({target:"Set",proto:!0,real:!0,forced:!0},{difference:function(y){return f(p,this,A(y))}})}),"./node_modules/core-js/modules/esnext.set.every.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),f=o("./node_modules/core-js/internals/function-bind-context.js"),A=o("./node_modules/core-js/internals/a-set.js"),p=o("./node_modules/core-js/internals/set-iterate.js");d({target:"Set",proto:!0,real:!0,forced:!0},{every:function(y){var v=A(this),b=f(y,arguments.length>1?arguments[1]:void 0);return p(v,function(w){if(!b(w,w,v))return!1},!0)!==!1}})}),"./node_modules/core-js/modules/esnext.set.filter.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),f=o("./node_modules/core-js/internals/function-bind-context.js"),A=o("./node_modules/core-js/internals/a-set.js"),p=o("./node_modules/core-js/internals/set-helpers.js"),g=o("./node_modules/core-js/internals/set-iterate.js"),y=p.Set,v=p.add;d({target:"Set",proto:!0,real:!0,forced:!0},{filter:function(w){var S=A(this),_=f(w,arguments.length>1?arguments[1]:void 0),T=new y;return g(S,function(L){_(L,L,S)&&v(T,L)}),T}})}),"./node_modules/core-js/modules/esnext.set.find.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),f=o("./node_modules/core-js/internals/function-bind-context.js"),A=o("./node_modules/core-js/internals/a-set.js"),p=o("./node_modules/core-js/internals/set-iterate.js");d({target:"Set",proto:!0,real:!0,forced:!0},{find:function(y){var v=A(this),b=f(y,arguments.length>1?arguments[1]:void 0),w=p(v,function(S){if(b(S,S,v))return{value:S}},!0);return w&&w.value}})}),"./node_modules/core-js/modules/esnext.set.intersection.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),f=o("./node_modules/core-js/internals/function-call.js"),A=o("./node_modules/core-js/internals/to-set-like.js"),p=o("./node_modules/core-js/internals/set-intersection.js");d({target:"Set",proto:!0,real:!0,forced:!0},{intersection:function(y){return f(p,this,A(y))}})}),"./node_modules/core-js/modules/esnext.set.is-disjoint-from.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),f=o("./node_modules/core-js/internals/function-call.js"),A=o("./node_modules/core-js/internals/to-set-like.js"),p=o("./node_modules/core-js/internals/set-is-disjoint-from.js");d({target:"Set",proto:!0,real:!0,forced:!0},{isDisjointFrom:function(y){return f(p,this,A(y))}})}),"./node_modules/core-js/modules/esnext.set.is-subset-of.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),f=o("./node_modules/core-js/internals/function-call.js"),A=o("./node_modules/core-js/internals/to-set-like.js"),p=o("./node_modules/core-js/internals/set-is-subset-of.js");d({target:"Set",proto:!0,real:!0,forced:!0},{isSubsetOf:function(y){return f(p,this,A(y))}})}),"./node_modules/core-js/modules/esnext.set.is-superset-of.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),f=o("./node_modules/core-js/internals/function-call.js"),A=o("./node_modules/core-js/internals/to-set-like.js"),p=o("./node_modules/core-js/internals/set-is-superset-of.js");d({target:"Set",proto:!0,real:!0,forced:!0},{isSupersetOf:function(y){return f(p,this,A(y))}})}),"./node_modules/core-js/modules/esnext.set.join.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),f=o("./node_modules/core-js/internals/function-uncurry-this.js"),A=o("./node_modules/core-js/internals/a-set.js"),p=o("./node_modules/core-js/internals/set-iterate.js"),g=o("./node_modules/core-js/internals/to-string.js"),y=f([].join),v=f([].push);d({target:"Set",proto:!0,real:!0,forced:!0},{join:function(w){var S=A(this),_=w===void 0?",":g(w),T=[];return p(S,function(L){v(T,L)}),y(T,_)}})}),"./node_modules/core-js/modules/esnext.set.map.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),f=o("./node_modules/core-js/internals/function-bind-context.js"),A=o("./node_modules/core-js/internals/a-set.js"),p=o("./node_modules/core-js/internals/set-helpers.js"),g=o("./node_modules/core-js/internals/set-iterate.js"),y=p.Set,v=p.add;d({target:"Set",proto:!0,real:!0,forced:!0},{map:function(w){var S=A(this),_=f(w,arguments.length>1?arguments[1]:void 0),T=new y;return g(S,function(L){v(T,_(L,L,S))}),T}})}),"./node_modules/core-js/modules/esnext.set.reduce.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),f=o("./node_modules/core-js/internals/a-callable.js"),A=o("./node_modules/core-js/internals/a-set.js"),p=o("./node_modules/core-js/internals/set-iterate.js"),g=TypeError;d({target:"Set",proto:!0,real:!0,forced:!0},{reduce:function(v){var b=A(this),w=arguments.length<2,S=w?void 0:arguments[1];if(f(v),p(b,function(_){w?(w=!1,S=_):S=v(S,_,_,b)}),w)throw new g("Reduce of empty set with no initial value");return S}})}),"./node_modules/core-js/modules/esnext.set.some.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),f=o("./node_modules/core-js/internals/function-bind-context.js"),A=o("./node_modules/core-js/internals/a-set.js"),p=o("./node_modules/core-js/internals/set-iterate.js");d({target:"Set",proto:!0,real:!0,forced:!0},{some:function(y){var v=A(this),b=f(y,arguments.length>1?arguments[1]:void 0);return p(v,function(w){if(b(w,w,v))return!0},!0)===!0}})}),"./node_modules/core-js/modules/esnext.set.symmetric-difference.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),f=o("./node_modules/core-js/internals/function-call.js"),A=o("./node_modules/core-js/internals/to-set-like.js"),p=o("./node_modules/core-js/internals/set-symmetric-difference.js");d({target:"Set",proto:!0,real:!0,forced:!0},{symmetricDifference:function(y){return f(p,this,A(y))}})}),"./node_modules/core-js/modules/esnext.set.union.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),f=o("./node_modules/core-js/internals/function-call.js"),A=o("./node_modules/core-js/internals/to-set-like.js"),p=o("./node_modules/core-js/internals/set-union.js");d({target:"Set",proto:!0,real:!0,forced:!0},{union:function(y){return f(p,this,A(y))}})}),"./node_modules/core-js/modules/web.dom-collections.for-each.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/global-this.js"),f=o("./node_modules/core-js/internals/dom-iterables.js"),A=o("./node_modules/core-js/internals/dom-token-list-prototype.js"),p=o("./node_modules/core-js/internals/array-for-each.js"),g=o("./node_modules/core-js/internals/create-non-enumerable-property.js"),y=function(b){if(b&&b.forEach!==p)try{g(b,"forEach",p)}catch{b.forEach=p}};for(var v in f)f[v]&&y(d[v]&&d[v].prototype);y(A)}),"./node_modules/core-js/modules/web.dom-collections.iterator.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/global-this.js"),f=o("./node_modules/core-js/internals/dom-iterables.js"),A=o("./node_modules/core-js/internals/dom-token-list-prototype.js"),p=o("./node_modules/core-js/modules/es.array.iterator.js"),g=o("./node_modules/core-js/internals/create-non-enumerable-property.js"),y=o("./node_modules/core-js/internals/set-to-string-tag.js"),v=o("./node_modules/core-js/internals/well-known-symbol.js"),b=v("iterator"),w=p.values,S=function(T,L){if(T){if(T[b]!==w)try{g(T,b,w)}catch{T[b]=w}if(y(T,L,!0),f[L]){for(var D in p)if(T[D]!==p[D])try{g(T,D,p[D])}catch{T[D]=p[D]}}}};for(var _ in f)S(d[_]&&d[_].prototype,_);S(A,"DOMTokenList")}),"./node_modules/core-js/modules/web.set-interval.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),f=o("./node_modules/core-js/internals/global-this.js"),A=o("./node_modules/core-js/internals/schedulers-fix.js"),p=A(f.setInterval,!0);d({global:!0,bind:!0,forced:f.setInterval!==p},{setInterval:p})}),"./node_modules/core-js/modules/web.set-timeout.js":(function(c,u,o){var d=o("./node_modules/core-js/internals/export.js"),f=o("./node_modules/core-js/internals/global-this.js"),A=o("./node_modules/core-js/internals/schedulers-fix.js"),p=A(f.setTimeout,!0);d({global:!0,bind:!0,forced:f.setTimeout!==p},{setTimeout:p})}),"./node_modules/core-js/modules/web.timers.js":(function(c,u,o){o("./node_modules/core-js/modules/web.set-interval.js"),o("./node_modules/core-js/modules/web.set-timeout.js")}),"./node_modules/dompurify/dist/purify.es.mjs":(function(c,u,o){o.r(u),o.d(u,{default:function(){return Ut}});const{entries:d,setPrototypeOf:f,isFrozen:A,getPrototypeOf:p,getOwnPropertyDescriptor:g}=Object;let{freeze:y,seal:v,create:b}=Object,{apply:w,construct:S}=typeof Reflect<"u"&&Reflect;y||(y=function(Wt){return Wt}),v||(v=function(Wt){return Wt}),w||(w=function(Wt,Pt){for(var or=arguments.length,Br=new Array(or>2?or-2:0),Ur=2;Ur<or;Ur++)Br[Ur-2]=arguments[Ur];return Wt.apply(Pt,Br)}),S||(S=function(Wt){for(var Pt=arguments.length,or=new Array(Pt>1?Pt-1:0),Br=1;Br<Pt;Br++)or[Br-1]=arguments[Br];return new Wt(...or)});const _=oe(Array.prototype.forEach),T=oe(Array.prototype.lastIndexOf),L=oe(Array.prototype.pop),D=oe(Array.prototype.push),V=oe(Array.prototype.splice),G=oe(String.prototype.toLowerCase),J=oe(String.prototype.toString),ee=oe(String.prototype.match),ue=oe(String.prototype.replace),pe=oe(String.prototype.indexOf),ge=oe(String.prototype.trim),he=oe(Object.prototype.hasOwnProperty),ne=oe(RegExp.prototype.test),Ae=Be(TypeError);function oe(gr){return function(Wt){Wt instanceof RegExp&&(Wt.lastIndex=0);for(var Pt=arguments.length,or=new Array(Pt>1?Pt-1:0),Br=1;Br<Pt;Br++)or[Br-1]=arguments[Br];return w(gr,Wt,or)}}function Be(gr){return function(){for(var Wt=arguments.length,Pt=new Array(Wt),or=0;or<Wt;or++)Pt[or]=arguments[or];return S(gr,Pt)}}function ke(gr,Wt){let Pt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:G;f&&f(gr,null);let or=Wt.length;for(;or--;){let Br=Wt[or];if(typeof Br=="string"){const Ur=Pt(Br);Ur!==Br&&(A(Wt)||(Wt[or]=Ur),Br=Ur)}gr[Br]=!0}return gr}function ve(gr){for(let Wt=0;Wt<gr.length;Wt++)he(gr,Wt)||(gr[Wt]=null);return gr}function se(gr){const Wt=b(null);for(const[Pt,or]of d(gr))he(gr,Pt)&&(Array.isArray(or)?Wt[Pt]=ve(or):or&&typeof or=="object"&&or.constructor===Object?Wt[Pt]=se(or):Wt[Pt]=or);return Wt}function me(gr,Wt){for(;gr!==null;){const or=g(gr,Wt);if(or){if(or.get)return oe(or.get);if(typeof or.value=="function")return oe(or.value)}gr=p(gr)}function Pt(){return null}return Pt}const je=y(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Ue=y(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),De=y(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),ot=y(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),ft=y(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Ce=y(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Ze=y(["#text"]),ze=y(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),$e=y(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),ct=y(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Fe=y(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),xt=v(/\{\{[\w\W]*|[\w\W]*\}\}/gm),pt=v(/<%[\w\W]*|[\w\W]*%>/gm),Bt=v(/\$\{[\w\W]*/gm),qt=v(/^data-[\-\w.\u00B7-\uFFFF]+$/),Yr=v(/^aria-[\-\w]+$/),yr=v(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Wr=v(/^(?:\w+script|data):/i),hn=v(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Tn=v(/^html$/i),Jr=v(/^[a-z][.\w]*(-[.\w]+)+$/i);var sn=Object.freeze({__proto__:null,ARIA_ATTR:Yr,ATTR_WHITESPACE:hn,CUSTOM_ELEMENT:Jr,DATA_ATTR:qt,DOCTYPE_NAME:Tn,ERB_EXPR:pt,IS_ALLOWED_URI:yr,IS_SCRIPT_OR_DATA:Wr,MUSTACHE_EXPR:xt,TMPLIT_EXPR:Bt});const on={element:1,text:3,progressingInstruction:7,comment:8,document:9},Fn=function(){return typeof window>"u"?null:window},Qn=function(Wt,Pt){if(typeof Wt!="object"||typeof Wt.createPolicy!="function")return null;let or=null;const Br="data-tt-policy-suffix";Pt&&Pt.hasAttribute(Br)&&(or=Pt.getAttribute(Br));const Ur="dompurify"+(or?"#"+or:"");try{return Wt.createPolicy(Ur,{createHTML(vn){return vn},createScriptURL(vn){return vn}})}catch{return console.warn("TrustedTypes policy "+Ur+" could not be created."),null}},gi=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Je(){let gr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Fn();const Wt=St=>Je(St);if(Wt.version="3.3.1",Wt.removed=[],!gr||!gr.document||gr.document.nodeType!==on.document||!gr.Element)return Wt.isSupported=!1,Wt;let{document:Pt}=gr;const or=Pt,Br=or.currentScript,{DocumentFragment:Ur,HTMLTemplateElement:vn,Node:qr,Element:Vn,NodeFilter:Qr,NamedNodeMap:Nr=gr.NamedNodeMap||gr.MozNamedAttrMap,HTMLFormElement:rn,DOMParser:Xr,trustedTypes:yn}=gr,Wn=Vn.prototype,ds=me(Wn,"cloneNode"),vs=me(Wn,"remove"),ys=me(Wn,"nextSibling"),$n=me(Wn,"childNodes"),zr=me(Wn,"parentNode");if(typeof vn=="function"){const St=Pt.createElement("template");St.content&&St.content.ownerDocument&&(Pt=St.content.ownerDocument)}let $i,Os="";const{implementation:bn,createNodeIterator:La,createDocumentFragment:ws,getElementsByTagName:Ts}=Pt,{importNode:Es}=or;let Hi=gi();Wt.isSupported=typeof d=="function"&&typeof zr=="function"&&bn&&bn.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Hs,ERB_EXPR:xs,TMPLIT_EXPR:_o,DATA_ATTR:rs,ARIA_ATTR:Yu,IS_SCRIPT_OR_DATA:Ua,ATTR_WHITESPACE:Bl,CUSTOM_ELEMENT:yu}=sn;let{IS_ALLOWED_URI:fl}=sn,Ps=null;const oo=ke({},[...je,...Ue,...De,...ft,...Ze]);let Cs=null;const aa=ke({},[...ze,...$e,...ct,...Fe]);let bs=Object.seal(b(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Al=null,Ga=null;const lo=Object.seal(b(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let Ec=!0,oc=!0,Gc=!1,Qs=!0,Ws=!1,ml=!0,Ra=!1,To=!1,za=!1,ci=!1,ba=!1,co=!1,pa=!0,pl=!1;const fs="user-content-";let Uo=!0,wa=!1,ha={},Wa=null;const Ll=ke({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let uo=null;const Vs=ke({},["audio","video","img","source","image","track"]);let Ya=null;const tl=ke({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ho="http://www.w3.org/1998/Math/MathML",ll="http://www.w3.org/2000/svg",Rt="http://www.w3.org/1999/xhtml";let U=Rt,Z=!1,te=null;const P=ke({},[ho,ll,Rt],J);let $=ke({},["mi","mo","mn","ms","mtext"]),q=ke({},["annotation-xml"]);const de=ke({},["title","style","font","a","script"]);let we=null;const Me=["application/xhtml+xml","text/html"],tt="text/html";let I=null,C=null;const O=Pt.createElement("form"),Q=function(Ye){return Ye instanceof RegExp||Ye instanceof Function},z=function(){let Ye=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(C&&C===Ye)){if((!Ye||typeof Ye!="object")&&(Ye={}),Ye=se(Ye),we=Me.indexOf(Ye.PARSER_MEDIA_TYPE)===-1?tt:Ye.PARSER_MEDIA_TYPE,I=we==="application/xhtml+xml"?J:G,Ps=he(Ye,"ALLOWED_TAGS")?ke({},Ye.ALLOWED_TAGS,I):oo,Cs=he(Ye,"ALLOWED_ATTR")?ke({},Ye.ALLOWED_ATTR,I):aa,te=he(Ye,"ALLOWED_NAMESPACES")?ke({},Ye.ALLOWED_NAMESPACES,J):P,Ya=he(Ye,"ADD_URI_SAFE_ATTR")?ke(se(tl),Ye.ADD_URI_SAFE_ATTR,I):tl,uo=he(Ye,"ADD_DATA_URI_TAGS")?ke(se(Vs),Ye.ADD_DATA_URI_TAGS,I):Vs,Wa=he(Ye,"FORBID_CONTENTS")?ke({},Ye.FORBID_CONTENTS,I):Ll,Al=he(Ye,"FORBID_TAGS")?ke({},Ye.FORBID_TAGS,I):se({}),Ga=he(Ye,"FORBID_ATTR")?ke({},Ye.FORBID_ATTR,I):se({}),ha=he(Ye,"USE_PROFILES")?Ye.USE_PROFILES:!1,Ec=Ye.ALLOW_ARIA_ATTR!==!1,oc=Ye.ALLOW_DATA_ATTR!==!1,Gc=Ye.ALLOW_UNKNOWN_PROTOCOLS||!1,Qs=Ye.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Ws=Ye.SAFE_FOR_TEMPLATES||!1,ml=Ye.SAFE_FOR_XML!==!1,Ra=Ye.WHOLE_DOCUMENT||!1,ci=Ye.RETURN_DOM||!1,ba=Ye.RETURN_DOM_FRAGMENT||!1,co=Ye.RETURN_TRUSTED_TYPE||!1,za=Ye.FORCE_BODY||!1,pa=Ye.SANITIZE_DOM!==!1,pl=Ye.SANITIZE_NAMED_PROPS||!1,Uo=Ye.KEEP_CONTENT!==!1,wa=Ye.IN_PLACE||!1,fl=Ye.ALLOWED_URI_REGEXP||yr,U=Ye.NAMESPACE||Rt,$=Ye.MATHML_TEXT_INTEGRATION_POINTS||$,q=Ye.HTML_INTEGRATION_POINTS||q,bs=Ye.CUSTOM_ELEMENT_HANDLING||{},Ye.CUSTOM_ELEMENT_HANDLING&&Q(Ye.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(bs.tagNameCheck=Ye.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Ye.CUSTOM_ELEMENT_HANDLING&&Q(Ye.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(bs.attributeNameCheck=Ye.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Ye.CUSTOM_ELEMENT_HANDLING&&typeof Ye.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(bs.allowCustomizedBuiltInElements=Ye.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ws&&(oc=!1),ba&&(ci=!0),ha&&(Ps=ke({},Ze),Cs=[],ha.html===!0&&(ke(Ps,je),ke(Cs,ze)),ha.svg===!0&&(ke(Ps,Ue),ke(Cs,$e),ke(Cs,Fe)),ha.svgFilters===!0&&(ke(Ps,De),ke(Cs,$e),ke(Cs,Fe)),ha.mathMl===!0&&(ke(Ps,ft),ke(Cs,ct),ke(Cs,Fe))),Ye.ADD_TAGS&&(typeof Ye.ADD_TAGS=="function"?lo.tagCheck=Ye.ADD_TAGS:(Ps===oo&&(Ps=se(Ps)),ke(Ps,Ye.ADD_TAGS,I))),Ye.ADD_ATTR&&(typeof Ye.ADD_ATTR=="function"?lo.attributeCheck=Ye.ADD_ATTR:(Cs===aa&&(Cs=se(Cs)),ke(Cs,Ye.ADD_ATTR,I))),Ye.ADD_URI_SAFE_ATTR&&ke(Ya,Ye.ADD_URI_SAFE_ATTR,I),Ye.FORBID_CONTENTS&&(Wa===Ll&&(Wa=se(Wa)),ke(Wa,Ye.FORBID_CONTENTS,I)),Ye.ADD_FORBID_CONTENTS&&(Wa===Ll&&(Wa=se(Wa)),ke(Wa,Ye.ADD_FORBID_CONTENTS,I)),Uo&&(Ps["#text"]=!0),Ra&&ke(Ps,["html","head","body"]),Ps.table&&(ke(Ps,["tbody"]),delete Al.tbody),Ye.TRUSTED_TYPES_POLICY){if(typeof Ye.TRUSTED_TYPES_POLICY.createHTML!="function")throw Ae('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Ye.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Ae('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');$i=Ye.TRUSTED_TYPES_POLICY,Os=$i.createHTML("")}else $i===void 0&&($i=Qn(yn,Br)),$i!==null&&typeof Os=="string"&&(Os=$i.createHTML(""));y&&y(Ye),C=Ye}},X=ke({},[...Ue,...De,...ot]),fe=ke({},[...ft,...Ce]),ie=function(Ye){let Mt=zr(Ye);(!Mt||!Mt.tagName)&&(Mt={namespaceURI:U,tagName:"template"});const Ar=G(Ye.tagName),zt=G(Mt.tagName);return te[Ye.namespaceURI]?Ye.namespaceURI===ll?Mt.namespaceURI===Rt?Ar==="svg":Mt.namespaceURI===ho?Ar==="svg"&&(zt==="annotation-xml"||$[zt]):!!X[Ar]:Ye.namespaceURI===ho?Mt.namespaceURI===Rt?Ar==="math":Mt.namespaceURI===ll?Ar==="math"&&q[zt]:!!fe[Ar]:Ye.namespaceURI===Rt?Mt.namespaceURI===ll&&!q[zt]||Mt.namespaceURI===ho&&!$[zt]?!1:!fe[Ar]&&(de[Ar]||!X[Ar]):!!(we==="application/xhtml+xml"&&te[Ye.namespaceURI]):!1},ae=function(Ye){D(Wt.removed,{element:Ye});try{zr(Ye).removeChild(Ye)}catch{vs(Ye)}},Se=function(Ye,Mt){try{D(Wt.removed,{attribute:Mt.getAttributeNode(Ye),from:Mt})}catch{D(Wt.removed,{attribute:null,from:Mt})}if(Mt.removeAttribute(Ye),Ye==="is")if(ci||ba)try{ae(Mt)}catch{}else try{Mt.setAttribute(Ye,"")}catch{}},Re=function(Ye){let Mt=null,Ar=null;if(za)Ye="<remove></remove>"+Ye;else{const cr=ee(Ye,/^[\r\n\t ]+/);Ar=cr&&cr[0]}we==="application/xhtml+xml"&&U===Rt&&(Ye='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Ye+"</body></html>");const zt=$i?$i.createHTML(Ye):Ye;if(U===Rt)try{Mt=new Xr().parseFromString(zt,we)}catch{}if(!Mt||!Mt.documentElement){Mt=bn.createDocument(U,"template",null);try{Mt.documentElement.innerHTML=Z?Os:zt}catch{}}const Ct=Mt.body||Mt.documentElement;return Ye&&Ar&&Ct.insertBefore(Pt.createTextNode(Ar),Ct.childNodes[0]||null),U===Rt?Ts.call(Mt,Ra?"html":"body")[0]:Ra?Mt.documentElement:Ct},Ge=function(Ye){return La.call(Ye.ownerDocument||Ye,Ye,Qr.SHOW_ELEMENT|Qr.SHOW_COMMENT|Qr.SHOW_TEXT|Qr.SHOW_PROCESSING_INSTRUCTION|Qr.SHOW_CDATA_SECTION,null)},et=function(Ye){return Ye instanceof rn&&(typeof Ye.nodeName!="string"||typeof Ye.textContent!="string"||typeof Ye.removeChild!="function"||!(Ye.attributes instanceof Nr)||typeof Ye.removeAttribute!="function"||typeof Ye.setAttribute!="function"||typeof Ye.namespaceURI!="string"||typeof Ye.insertBefore!="function"||typeof Ye.hasChildNodes!="function")},xe=function(Ye){return typeof qr=="function"&&Ye instanceof qr};function gt(St,Ye,Mt){_(St,Ar=>{Ar.call(Wt,Ye,Mt,C)})}const At=function(Ye){let Mt=null;if(gt(Hi.beforeSanitizeElements,Ye,null),et(Ye))return ae(Ye),!0;const Ar=I(Ye.nodeName);if(gt(Hi.uponSanitizeElement,Ye,{tagName:Ar,allowedTags:Ps}),ml&&Ye.hasChildNodes()&&!xe(Ye.firstElementChild)&&ne(/<[/\w!]/g,Ye.innerHTML)&&ne(/<[/\w!]/g,Ye.textContent)||Ye.nodeType===on.progressingInstruction||ml&&Ye.nodeType===on.comment&&ne(/<[/\w]/g,Ye.data))return ae(Ye),!0;if(!(lo.tagCheck instanceof Function&&lo.tagCheck(Ar))&&(!Ps[Ar]||Al[Ar])){if(!Al[Ar]&&qe(Ar)&&(bs.tagNameCheck instanceof RegExp&&ne(bs.tagNameCheck,Ar)||bs.tagNameCheck instanceof Function&&bs.tagNameCheck(Ar)))return!1;if(Uo&&!Wa[Ar]){const zt=zr(Ye)||Ye.parentNode,Ct=$n(Ye)||Ye.childNodes;if(Ct&&zt){const cr=Ct.length;for(let Xe=cr-1;Xe>=0;--Xe){const lt=ds(Ct[Xe],!0);lt.__removalCount=(Ye.__removalCount||0)+1,zt.insertBefore(lt,ys(Ye))}}}return ae(Ye),!0}return Ye instanceof Vn&&!ie(Ye)||(Ar==="noscript"||Ar==="noembed"||Ar==="noframes")&&ne(/<\/no(script|embed|frames)/i,Ye.innerHTML)?(ae(Ye),!0):(Ws&&Ye.nodeType===on.text&&(Mt=Ye.textContent,_([Hs,xs,_o],zt=>{Mt=ue(Mt,zt," ")}),Ye.textContent!==Mt&&(D(Wt.removed,{element:Ye.cloneNode()}),Ye.textContent=Mt)),gt(Hi.afterSanitizeElements,Ye,null),!1)},yt=function(Ye,Mt,Ar){if(pa&&(Mt==="id"||Mt==="name")&&(Ar in Pt||Ar in O))return!1;if(!(oc&&!Ga[Mt]&&ne(rs,Mt))){if(!(Ec&&ne(Yu,Mt))){if(!(lo.attributeCheck instanceof Function&&lo.attributeCheck(Mt,Ye))){if(!Cs[Mt]||Ga[Mt]){if(!(qe(Ye)&&(bs.tagNameCheck instanceof RegExp&&ne(bs.tagNameCheck,Ye)||bs.tagNameCheck instanceof Function&&bs.tagNameCheck(Ye))&&(bs.attributeNameCheck instanceof RegExp&&ne(bs.attributeNameCheck,Mt)||bs.attributeNameCheck instanceof Function&&bs.attributeNameCheck(Mt,Ye))||Mt==="is"&&bs.allowCustomizedBuiltInElements&&(bs.tagNameCheck instanceof RegExp&&ne(bs.tagNameCheck,Ar)||bs.tagNameCheck instanceof Function&&bs.tagNameCheck(Ar))))return!1}else if(!Ya[Mt]){if(!ne(fl,ue(Ar,Bl,""))){if(!((Mt==="src"||Mt==="xlink:href"||Mt==="href")&&Ye!=="script"&&pe(Ar,"data:")===0&&uo[Ye])){if(!(Gc&&!ne(Ua,ue(Ar,Bl,"")))){if(Ar)return!1}}}}}}}return!0},qe=function(Ye){return Ye!=="annotation-xml"&&ee(Ye,yu)},jt=function(Ye){gt(Hi.beforeSanitizeAttributes,Ye,null);const{attributes:Mt}=Ye;if(!Mt||et(Ye))return;const Ar={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Cs,forceKeepAttr:void 0};let zt=Mt.length;for(;zt--;){const Ct=Mt[zt],{name:cr,namespaceURI:Xe,value:lt}=Ct,_t=I(cr),Tt=lt;let dr=cr==="value"?Tt:ge(Tt);if(Ar.attrName=_t,Ar.attrValue=dr,Ar.keepAttr=!0,Ar.forceKeepAttr=void 0,gt(Hi.uponSanitizeAttribute,Ye,Ar),dr=Ar.attrValue,pl&&(_t==="id"||_t==="name")&&(Se(cr,Ye),dr=fs+dr),ml&&ne(/((--!?|])>)|<\/(style|title|textarea)/i,dr)){Se(cr,Ye);continue}if(_t==="attributename"&&ee(dr,"href")){Se(cr,Ye);continue}if(Ar.forceKeepAttr)continue;if(!Ar.keepAttr){Se(cr,Ye);continue}if(!Qs&&ne(/\/>/i,dr)){Se(cr,Ye);continue}Ws&&_([Hs,xs,_o],Er=>{dr=ue(dr,Er," ")});const pr=I(Ye.nodeName);if(!yt(pr,_t,dr)){Se(cr,Ye);continue}if($i&&typeof yn=="object"&&typeof yn.getAttributeType=="function"&&!Xe)switch(yn.getAttributeType(pr,_t)){case"TrustedHTML":{dr=$i.createHTML(dr);break}case"TrustedScriptURL":{dr=$i.createScriptURL(dr);break}}if(dr!==Tt)try{Xe?Ye.setAttributeNS(Xe,cr,dr):Ye.setAttribute(cr,dr),et(Ye)?ae(Ye):L(Wt.removed)}catch{Se(cr,Ye)}}gt(Hi.afterSanitizeAttributes,Ye,null)},Ht=function St(Ye){let Mt=null;const Ar=Ge(Ye);for(gt(Hi.beforeSanitizeShadowDOM,Ye,null);Mt=Ar.nextNode();)gt(Hi.uponSanitizeShadowNode,Mt,null),At(Mt),jt(Mt),Mt.content instanceof Ur&&St(Mt.content);gt(Hi.afterSanitizeShadowDOM,Ye,null)};return Wt.sanitize=function(St){let Ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Mt=null,Ar=null,zt=null,Ct=null;if(Z=!St,Z&&(St="<!-->"),typeof St!="string"&&!xe(St))if(typeof St.toString=="function"){if(St=St.toString(),typeof St!="string")throw Ae("dirty is not a string, aborting")}else throw Ae("toString is not a function");if(!Wt.isSupported)return St;if(To||z(Ye),Wt.removed=[],typeof St=="string"&&(wa=!1),wa){if(St.nodeName){const lt=I(St.nodeName);if(!Ps[lt]||Al[lt])throw Ae("root node is forbidden and cannot be sanitized in-place")}}else if(St instanceof qr)Mt=Re("<!---->"),Ar=Mt.ownerDocument.importNode(St,!0),Ar.nodeType===on.element&&Ar.nodeName==="BODY"||Ar.nodeName==="HTML"?Mt=Ar:Mt.appendChild(Ar);else{if(!ci&&!Ws&&!Ra&&St.indexOf("<")===-1)return $i&&co?$i.createHTML(St):St;if(Mt=Re(St),!Mt)return ci?null:co?Os:""}Mt&&za&&ae(Mt.firstChild);const cr=Ge(wa?St:Mt);for(;zt=cr.nextNode();)At(zt),jt(zt),zt.content instanceof Ur&&Ht(zt.content);if(wa)return St;if(ci){if(ba)for(Ct=ws.call(Mt.ownerDocument);Mt.firstChild;)Ct.appendChild(Mt.firstChild);else Ct=Mt;return(Cs.shadowroot||Cs.shadowrootmode)&&(Ct=Es.call(or,Ct,!0)),Ct}let Xe=Ra?Mt.outerHTML:Mt.innerHTML;return Ra&&Ps["!doctype"]&&Mt.ownerDocument&&Mt.ownerDocument.doctype&&Mt.ownerDocument.doctype.name&&ne(Tn,Mt.ownerDocument.doctype.name)&&(Xe="<!DOCTYPE "+Mt.ownerDocument.doctype.name+`>
`+Xe),Ws&&_([Hs,xs,_o],lt=>{Xe=ue(Xe,lt," ")}),$i&&co?$i.createHTML(Xe):Xe},Wt.setConfig=function(){let St=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};z(St),To=!0},Wt.clearConfig=function(){C=null,To=!1},Wt.isValidAttribute=function(St,Ye,Mt){C||z({});const Ar=I(St),zt=I(Ye);return yt(Ar,zt,Mt)},Wt.addHook=function(St,Ye){typeof Ye=="function"&&D(Hi[St],Ye)},Wt.removeHook=function(St,Ye){if(Ye!==void 0){const Mt=T(Hi[St],Ye);return Mt===-1?void 0:V(Hi[St],Mt,1)[0]}return L(Hi[St])},Wt.removeHooks=function(St){Hi[St]=[]},Wt.removeAllHooks=function(){Hi=gi()},Wt}var Ut=Je()}),"./node_modules/fast-png/lib-esm/PngDecoder.js":(function(c,u,o){o.r(u),o.d(u,{default:function(){return w}});var d=o("./node_modules/iobuffer/lib-esm/IOBuffer.js"),f=o("./node_modules/pako/dist/pako.esm.mjs"),A=o("./node_modules/fast-png/lib-esm/helpers/crc.js"),p=o("./node_modules/fast-png/lib-esm/helpers/decodeInterlaceAdam7.js"),g=o("./node_modules/fast-png/lib-esm/helpers/decodeInterlaceNull.js"),y=o("./node_modules/fast-png/lib-esm/helpers/signature.js"),v=o("./node_modules/fast-png/lib-esm/helpers/text.js"),b=o("./node_modules/fast-png/lib-esm/internalTypes.js");class w extends d.IOBuffer{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(T,L={}){super(T);const{checkCrc:D=!1}=L;this._checkCrc=D,this._inflator=new f.Inflate,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=b.CompressionMethod.UNKNOWN,this._filterMethod=b.FilterMethod.UNKNOWN,this._interlaceMethod=b.InterlaceMethod.UNKNOWN,this._colorType=b.ColorType.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for((0,y.checkSignature)(this);!this._end;){const T=this.readUint32(),L=this.readChars(4);this.decodeChunk(T,L)}return this.decodeImage(),this._png}decodeApng(){for((0,y.checkSignature)(this);!this._end;){const T=this.readUint32(),L=this.readChars(4);this.decodeApngChunk(T,L)}return this.decodeApngImage(),this._apng}decodeChunk(T,L){const D=this.offset;switch(L){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(T);break;case"IDAT":this.decodeIDAT(T);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(T);break;case"iCCP":this.decodeiCCP(T);break;case v.textChunkName:(0,v.decodetEXt)(this._png.text,this,T);break;case"pHYs":this.decodepHYs();break;default:this.skip(T);break}if(this.offset-D!==T)throw new Error(`Length mismatch while decoding chunk ${L}`);this._checkCrc?(0,A.checkCrc)(this,T+4,L):this.skip(4)}decodeApngChunk(T,L){const D=this.offset;switch(L!=="fdAT"&&L!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),L){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(T);break;default:this.decodeChunk(T,L),this.offset=D+T;break}if(this.offset-D!==T)throw new Error(`Length mismatch while decoding chunk ${L}`);this._checkCrc?(0,A.checkCrc)(this,T+4,L):this.skip(4)}decodeIHDR(){const T=this._png;T.width=this.readUint32(),T.height=this.readUint32(),T.depth=S(this.readUint8());const L=this.readUint8();this._colorType=L;let D;switch(L){case b.ColorType.GREYSCALE:D=1;break;case b.ColorType.TRUECOLOUR:D=3;break;case b.ColorType.INDEXED_COLOUR:D=1;break;case b.ColorType.GREYSCALE_ALPHA:D=2;break;case b.ColorType.TRUECOLOUR_ALPHA:D=4;break;case b.ColorType.UNKNOWN:default:throw new Error(`Unknown color type: ${L}`)}if(this._png.channels=D,this._compressionMethod=this.readUint8(),this._compressionMethod!==b.CompressionMethod.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const T={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(T)}decodePLTE(T){if(T%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${T}`);const L=T/3;this._hasPalette=!0;const D=[];this._palette=D;for(let V=0;V<L;V++)D.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(T){this._writingDataChunks=!0;const L=T,D=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,D,L)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(T)}decodeFDAT(T){this._writingDataChunks=!0;let L=T,D=this.offset+this.byteOffset;if(D+=4,L-=4,this._inflator.push(new Uint8Array(this.buffer,D,L)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(T)}decodetRNS(T){switch(this._colorType){case b.ColorType.GREYSCALE:case b.ColorType.TRUECOLOUR:{if(T%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${T}`);if(T/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${T/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(T/2);for(let L=0;L<T/2;L++)this._transparency[L]=this.readUint16();break}case b.ColorType.INDEXED_COLOUR:{if(T>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${T} vs ${this._palette.length})`);let L=0;for(;L<T;L++){const D=this.readByte();this._palette[L].push(D)}for(;L<this._palette.length;L++)this._palette[L].push(255);break}case b.ColorType.UNKNOWN:case b.ColorType.GREYSCALE_ALPHA:case b.ColorType.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(T){const L=(0,v.readKeyword)(this),D=this.readUint8();if(D!==b.CompressionMethod.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${D}`);const V=this.readBytes(T-L.length-2);this._png.iccEmbeddedProfile={name:L,profile:(0,f.inflate)(V)}}decodepHYs(){const T=this.readUint32(),L=this.readUint32(),D=this.readByte();this._png.resolution={x:T,y:L,unit:D}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let T=0;T<this._numberOfFrames;T++){const L={sequenceNumber:this._frames[T].sequenceNumber,delayNumber:this._frames[T].delayNumber,delayDenominator:this._frames[T].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},D=this._frames.at(T);if(D){if(D.data=(0,g.decodeInterlaceNull)({data:D.data,width:D.width,height:D.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),T===0||D.xOffset===0&&D.yOffset===0&&D.width===this._png.width&&D.height===this._png.height)L.data=D.data;else{const V=this._apng.frames.at(T-1);this.disposeFrame(D,V,L),this.addFrameDataToCanvas(L,D)}this._apng.frames.push(L)}}return this._apng}disposeFrame(T,L,D){switch(T.disposeOp){case b.DisposeOpType.NONE:break;case b.DisposeOpType.BACKGROUND:for(let V=0;V<this._png.height;V++)for(let G=0;G<this._png.width;G++){const J=(V*T.width+G)*this._png.channels;for(let ee=0;ee<this._png.channels;ee++)D.data[J+ee]=0}break;case b.DisposeOpType.PREVIOUS:D.data.set(L.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(T,L){const D=1<<this._png.depth,V=(G,J)=>{const ee=((G+L.yOffset)*this._png.width+L.xOffset+J)*this._png.channels,ue=(G*L.width+J)*this._png.channels;return{index:ee,frameIndex:ue}};switch(L.blendOp){case b.BlendOpType.SOURCE:for(let G=0;G<L.height;G++)for(let J=0;J<L.width;J++){const{index:ee,frameIndex:ue}=V(G,J);for(let pe=0;pe<this._png.channels;pe++)T.data[ee+pe]=L.data[ue+pe]}break;case b.BlendOpType.OVER:for(let G=0;G<L.height;G++)for(let J=0;J<L.width;J++){const{index:ee,frameIndex:ue}=V(G,J);for(let pe=0;pe<this._png.channels;pe++){const ge=L.data[ue+this._png.channels-1]/D,he=pe%(this._png.channels-1)===0?1:L.data[ue+pe],ne=Math.floor(ge*he+(1-ge)*T.data[ee+pe]);T.data[ee+pe]+=ne}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const T=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==b.FilterMethod.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===b.InterlaceMethod.NO_INTERLACE)this._png.data=(0,g.decodeInterlaceNull)({data:T,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===b.InterlaceMethod.ADAM7)this._png.data=(0,p.decodeInterlaceAdam7)({data:T,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const T=this._inflator.result,L=this._frames.at(-1);L?L.data=T:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:b.DisposeOpType.NONE,blendOp:b.BlendOpType.SOURCE,data:T}),this._inflator=new f.Inflate,this._writingDataChunks=!1}}function S(_){if(_!==1&&_!==2&&_!==4&&_!==8&&_!==16)throw new Error(`invalid bit depth: ${_}`);return _}}),"./node_modules/fast-png/lib-esm/PngEncoder.js":(function(c,u,o){o.r(u),o.d(u,{default:function(){return b}});var d=o("./node_modules/iobuffer/lib-esm/IOBuffer.js"),f=o("./node_modules/pako/dist/pako.esm.mjs"),A=o("./node_modules/fast-png/lib-esm/helpers/crc.js"),p=o("./node_modules/fast-png/lib-esm/helpers/signature.js"),g=o("./node_modules/fast-png/lib-esm/helpers/text.js"),y=o("./node_modules/fast-png/lib-esm/internalTypes.js");const v={level:3};class b extends d.IOBuffer{_png;_zlibOptions;_colorType;_interlaceMethod;constructor(V,G={}){super(),this._colorType=y.ColorType.UNKNOWN,this._zlibOptions={...v,...G.zlib},this._png=this._checkData(V),this._interlaceMethod=(G.interlace==="Adam7"?y.InterlaceMethod.ADAM7:y.InterlaceMethod.NO_INTERLACE)??y.InterlaceMethod.NO_INTERLACE,this.setBigEndian()}encode(){if((0,p.writeSignature)(this),this.encodeIHDR(),this._png.palette&&(this.encodePLTE(),this._png.palette[0].length===4&&this.encodeTRNS()),this.encodeData(),this._png.text)for(const[V,G]of Object.entries(this._png.text))(0,g.encodetEXt)(this,V,G);return this.encodeIEND(),this.toArray()}encodeIHDR(){this.writeUint32(13),this.writeChars("IHDR"),this.writeUint32(this._png.width),this.writeUint32(this._png.height),this.writeByte(this._png.depth),this.writeByte(this._colorType),this.writeByte(y.CompressionMethod.DEFLATE),this.writeByte(y.FilterMethod.ADAPTIVE),this.writeByte(this._interlaceMethod),(0,A.writeCrc)(this,17)}encodeIEND(){this.writeUint32(0),this.writeChars("IEND"),(0,A.writeCrc)(this,4)}encodePLTE(){const V=this._png.palette?.length*3;this.writeUint32(V),this.writeChars("PLTE");for(const G of this._png.palette)this.writeByte(G[0]),this.writeByte(G[1]),this.writeByte(G[2]);(0,A.writeCrc)(this,4+V)}encodeTRNS(){const V=this._png.palette.filter(G=>G.at(-1)!==255);this.writeUint32(V.length),this.writeChars("tRNS");for(const G of V)this.writeByte(G.at(-1));(0,A.writeCrc)(this,4+V.length)}encodeIDAT(V){this.writeUint32(V.length),this.writeChars("IDAT"),this.writeBytes(V),(0,A.writeCrc)(this,V.length+4)}encodeData(){const{width:V,height:G,channels:J,depth:ee,data:ue}=this._png,pe=ee<=8?Math.ceil(V*ee/8)*J:Math.ceil(V*ee/8*J/2),ge=new d.IOBuffer().setBigEndian();let he=0;if(this._interlaceMethod===y.InterlaceMethod.NO_INTERLACE)for(let oe=0;oe<G;oe++)ge.writeByte(0),ee===16?he=L(ue,ge,pe,he):he=_(ue,ge,pe,he);else this._interlaceMethod===y.InterlaceMethod.ADAM7&&(he=T(this._png,ue,ge,he));const ne=ge.toArray(),Ae=(0,f.deflate)(ne,this._zlibOptions);this.encodeIDAT(Ae)}_checkData(V){const{colorType:G,channels:J,depth:ee}=S(V,V.palette),ue={width:w(V.width,"width"),height:w(V.height,"height"),channels:J,data:V.data,depth:ee,text:V.text,palette:V.palette};this._colorType=G;const pe=ee<8?Math.ceil(ue.width*ee/8)*ue.height*J:ue.width*ue.height*J;if(ue.data.length!==pe)throw new RangeError(`wrong data size. Found ${ue.data.length}, expected ${pe}`);return ue}}function w(D,V){if(Number.isInteger(D)&&D>0)return D;throw new TypeError(`${V} must be a positive integer`)}function S(D,V){const{channels:G=4,depth:J=8}=D;if(G!==4&&G!==3&&G!==2&&G!==1)throw new RangeError(`unsupported number of channels: ${G}`);const ee={channels:G,depth:J,colorType:y.ColorType.UNKNOWN};switch(G){case 4:ee.colorType=y.ColorType.TRUECOLOUR_ALPHA;break;case 3:ee.colorType=y.ColorType.TRUECOLOUR;break;case 1:V?ee.colorType=y.ColorType.INDEXED_COLOUR:ee.colorType=y.ColorType.GREYSCALE;break;case 2:ee.colorType=y.ColorType.GREYSCALE_ALPHA;break;default:throw new Error("unsupported number of channels")}return ee}function _(D,V,G,J){for(let ee=0;ee<G;ee++)V.writeByte(D[J++]);return J}function T(D,V,G,J){const ee=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],{width:ue,height:pe,channels:ge,depth:he}=D;let ne=0;he===16?ne=ge*he/8/2:ne=ge*he/8;for(let Ae=0;Ae<7;Ae++){const oe=ee[Ae],Be=Math.floor((ue-oe.x+oe.xStep-1)/oe.xStep),ke=Math.floor((pe-oe.y+oe.yStep-1)/oe.yStep);if(Be<=0||ke<=0)continue;const ve=Be*ne;for(let se=0;se<ke;se++){const me=oe.y+se*oe.yStep,je=he<=8?new Uint8Array(ve):new Uint16Array(ve);let Ue=0;for(let De=0;De<Be;De++){const ot=oe.x+De*oe.xStep;if(ot<ue&&me<pe){const ft=(me*ue+ot)*ne;for(let Ce=0;Ce<ne;Ce++)je[Ue++]=V[ft+Ce]}}if(G.writeByte(0),he===8)G.writeBytes(je);else if(he===16)for(const De of je)G.writeByte(De>>8&255),G.writeByte(De&255)}}return J}function L(D,V,G,J){for(let ee=0;ee<G;ee++)V.writeUint16(D[J++]);return J}}),"./node_modules/fast-png/lib-esm/convertIndexedToRgb.js":(function(c,u,o){o.r(u),o.d(u,{convertIndexedToRgb:function(){return d}});function d(A){const p=A.palette,g=A.depth;if(!p)throw new Error("Color palette is undefined.");f(A);const y=A.width*A.height,v=y*p[0].length,b=new Uint8Array(v);let w=0,S=0;const _=new Uint8Array(y);let T=255;switch(g){case 1:T=128;break;case 2:T=192;break;case 4:T=240;break;case 8:T=255;break;default:throw new Error("Incorrect depth value")}for(const L of A.data){let D=T,V=8;for(;D&&(V-=g,_[w++]=(L&D)>>V,D=D>>g,w%A.width!==0););}if(A.palette)for(const L of _){const D=A.palette.at(L);if(!D)throw new Error("Incorrect index of palette color");b.set(D,S),S+=D.length}return b}function f(A){const p=A.depth<8?Math.ceil(A.width*A.depth/8)*A.height*A.channels:A.width*A.height*A.channels;if(A.data.length!==p)throw new RangeError(`wrong data size. Found ${A.data.length}, expected ${p}`)}}),"./node_modules/fast-png/lib-esm/helpers/applyUnfilter.js":(function(c,u,o){o.r(u),o.d(u,{applyUnfilter:function(){return f}});var d=o("./node_modules/fast-png/lib-esm/helpers/unfilter.js");function f(A,p,g,y,v,b){switch(A){case 0:(0,d.unfilterNone)(p,g,v);break;case 1:(0,d.unfilterSub)(p,g,v,b);break;case 2:(0,d.unfilterUp)(p,g,y,v);break;case 3:(0,d.unfilterAverage)(p,g,y,v,b);break;case 4:(0,d.unfilterPaeth)(p,g,y,v,b);break;default:throw new Error(`Unsupported filter: ${A}`)}}}),"./node_modules/fast-png/lib-esm/helpers/crc.js":(function(c,u,o){o.r(u),o.d(u,{checkCrc:function(){return g},writeCrc:function(){return y}});const d=[];for(let v=0;v<256;v++){let b=v;for(let w=0;w<8;w++)b&1?b=3988292384^b>>>1:b=b>>>1;d[v]=b}const f=4294967295;function A(v,b,w){let S=v;for(let _=0;_<w;_++)S=d[(S^b[_])&255]^S>>>8;return S}function p(v,b){return(A(f,v,b)^f)>>>0}function g(v,b,w){const S=v.readUint32(),_=p(new Uint8Array(v.buffer,v.byteOffset+v.offset-b-4,b),b);if(_!==S)throw new Error(`CRC mismatch for chunk ${w}. Expected ${S}, found ${_}`)}function y(v,b){v.writeUint32(p(new Uint8Array(v.buffer,v.byteOffset+v.offset-b,b),b))}}),"./node_modules/fast-png/lib-esm/helpers/decodeInterlaceAdam7.js":(function(c,u,o){o.r(u),o.d(u,{decodeInterlaceAdam7:function(){return g}});var d=o("./node_modules/fast-png/lib-esm/helpers/applyUnfilter.js");const f=new Uint16Array([255]),p=new Uint8Array(f.buffer)[0]===255;function g(v){const{data:b,width:w,height:S,channels:_,depth:T}=v,L=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],D=Math.ceil(T/8)*_,V=new Uint8Array(S*w*D);let G=0;for(let J=0;J<7;J++){const ee=L[J],ue=Math.ceil((w-ee.x)/ee.xStep),pe=Math.ceil((S-ee.y)/ee.yStep);if(ue<=0||pe<=0)continue;const ge=ue*D,he=new Uint8Array(ge);for(let ne=0;ne<pe;ne++){const Ae=b[G++],oe=b.subarray(G,G+ge);G+=ge;const Be=new Uint8Array(ge);(0,d.applyUnfilter)(Ae,oe,Be,he,ge,D),he.set(Be);for(let ke=0;ke<ue;ke++){const ve=ee.x+ke*ee.xStep,se=ee.y+ne*ee.yStep;if(!(ve>=w||se>=S))for(let me=0;me<D;me++)V[(se*w+ve)*D+me]=Be[ke*D+me]}}}if(T===16){const J=new Uint16Array(V.buffer);if(p)for(let ee=0;ee<J.length;ee++)J[ee]=y(J[ee]);return J}else return V}function y(v){return(v&255)<<8|v>>8&255}}),"./node_modules/fast-png/lib-esm/helpers/decodeInterlaceNull.js":(function(c,u,o){o.r(u),o.d(u,{decodeInterlaceNull:function(){return y}});var d=o("./node_modules/fast-png/lib-esm/helpers/unfilter.js");const f=new Uint16Array([255]),p=new Uint8Array(f.buffer)[0]===255,g=new Uint8Array(0);function y(b){const{data:w,width:S,height:_,channels:T,depth:L}=b,D=Math.ceil(L/8)*T,V=Math.ceil(L/8*T*S),G=new Uint8Array(_*V);let J=g,ee=0,ue,pe;for(let ge=0;ge<_;ge++){switch(ue=w.subarray(ee+1,ee+1+V),pe=G.subarray(ge*V,(ge+1)*V),w[ee]){case 0:(0,d.unfilterNone)(ue,pe,V);break;case 1:(0,d.unfilterSub)(ue,pe,V,D);break;case 2:(0,d.unfilterUp)(ue,pe,J,V);break;case 3:(0,d.unfilterAverage)(ue,pe,J,V,D);break;case 4:(0,d.unfilterPaeth)(ue,pe,J,V,D);break;default:throw new Error(`Unsupported filter: ${w[ee]}`)}J=pe,ee+=V+1}if(L===16){const ge=new Uint16Array(G.buffer);if(p)for(let he=0;he<ge.length;he++)ge[he]=v(ge[he]);return ge}else return G}function v(b){return(b&255)<<8|b>>8&255}}),"./node_modules/fast-png/lib-esm/helpers/signature.js":(function(c,u,o){o.r(u),o.d(u,{checkSignature:function(){return A},hasPngSignature:function(){return p},writeSignature:function(){return f}});const d=Uint8Array.of(137,80,78,71,13,10,26,10);function f(g){g.writeBytes(d)}function A(g){if(!p(g.readBytes(d.length)))throw new Error("wrong PNG signature")}function p(g){if(g.length<d.length)return!1;for(let y=0;y<d.length;y++)if(g[y]!==d[y])return!1;return!0}}),"./node_modules/fast-png/lib-esm/helpers/text.js":(function(c,u,o){o.r(u),o.d(u,{decodetEXt:function(){return b},encodetEXt:function(){return w},readKeyword:function(){return S},readLatin1:function(){return _},textChunkName:function(){return f}});var d=o("./node_modules/fast-png/lib-esm/helpers/crc.js");const f="tEXt",A=0,p=new TextDecoder("latin1");function g(T){if(v(T),T.length===0||T.length>79)throw new Error("keyword length must be between 1 and 79")}const y=/^[\u0000-\u00FF]*$/;function v(T){if(!y.test(T))throw new Error("invalid latin1 text")}function b(T,L,D){const V=S(L);T[V]=_(L,D-V.length-1)}function w(T,L,D){g(L),v(D);const V=L.length+1+D.length;T.writeUint32(V),T.writeChars(f),T.writeChars(L),T.writeByte(A),T.writeChars(D),(0,d.writeCrc)(T,V+4)}function S(T){for(T.mark();T.readByte()!==A;);const L=T.offset;T.reset();const D=p.decode(T.readBytes(L-T.offset-1));return T.skip(1),g(D),D}function _(T,L){return p.decode(T.readBytes(L))}}),"./node_modules/fast-png/lib-esm/helpers/unfilter.js":(function(c,u,o){o.r(u),o.d(u,{unfilterAverage:function(){return p},unfilterNone:function(){return d},unfilterPaeth:function(){return g},unfilterSub:function(){return f},unfilterUp:function(){return A}});function d(v,b,w){for(let S=0;S<w;S++)b[S]=v[S]}function f(v,b,w,S){let _=0;for(;_<S;_++)b[_]=v[_];for(;_<w;_++)b[_]=v[_]+b[_-S]&255}function A(v,b,w,S){let _=0;if(w.length===0)for(;_<S;_++)b[_]=v[_];else for(;_<S;_++)b[_]=v[_]+w[_]&255}function p(v,b,w,S,_){let T=0;if(w.length===0){for(;T<_;T++)b[T]=v[T];for(;T<S;T++)b[T]=v[T]+(b[T-_]>>1)&255}else{for(;T<_;T++)b[T]=v[T]+(w[T]>>1)&255;for(;T<S;T++)b[T]=v[T]+(b[T-_]+w[T]>>1)&255}}function g(v,b,w,S,_){let T=0;if(w.length===0){for(;T<_;T++)b[T]=v[T];for(;T<S;T++)b[T]=v[T]+b[T-_]&255}else{for(;T<_;T++)b[T]=v[T]+w[T]&255;for(;T<S;T++)b[T]=v[T]+y(b[T-_],w[T],w[T-_])&255}}function y(v,b,w){const S=v+b-w,_=Math.abs(S-v),T=Math.abs(S-b),L=Math.abs(S-w);return _<=T&&_<=L?v:T<=L?b:w}}),"./node_modules/fast-png/lib-esm/index.js":(function(c,u,o){o.r(u),o.d(u,{ResolutionUnitSpecifier:function(){return p.ResolutionUnitSpecifier},convertIndexedToRgb:function(){return g.convertIndexedToRgb},decode:function(){return y},decodeApng:function(){return b},encode:function(){return v},hasPngSignature:function(){return A.hasPngSignature}});var d=o("./node_modules/fast-png/lib-esm/PngDecoder.js"),f=o("./node_modules/fast-png/lib-esm/PngEncoder.js"),A=o("./node_modules/fast-png/lib-esm/helpers/signature.js"),p=o("./node_modules/fast-png/lib-esm/types.js"),g=o("./node_modules/fast-png/lib-esm/convertIndexedToRgb.js");function y(w,S){return new d.default(w,S).decode()}function v(w,S){return new f.default(w,S).encode()}function b(w,S){return new d.default(w,S).decodeApng()}}),"./node_modules/fast-png/lib-esm/internalTypes.js":(function(c,u,o){o.r(u),o.d(u,{BlendOpType:function(){return y},ColorType:function(){return d},CompressionMethod:function(){return f},DisposeOpType:function(){return g},FilterMethod:function(){return A},InterlaceMethod:function(){return p}});const d={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},f={UNKNOWN:-1,DEFLATE:0},A={UNKNOWN:-1,ADAPTIVE:0},p={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},g={NONE:0,BACKGROUND:1,PREVIOUS:2},y={SOURCE:0,OVER:1}}),"./node_modules/fast-png/lib-esm/types.js":(function(c,u,o){o.r(u),o.d(u,{ResolutionUnitSpecifier:function(){return d}});var d;(function(f){f[f.UNKNOWN=0]="UNKNOWN",f[f.METRE=1]="METRE"})(d||(d={}))}),"./node_modules/fflate/esm/browser.js":(function(c,u,o){o.r(u),o.d(u,{AsyncCompress:function(){return Hi},AsyncDecompress:function(){return Ga},AsyncDeflate:function(){return zr},AsyncGunzip:function(){return rs},AsyncGzip:function(){return Hi},AsyncInflate:function(){return La},AsyncUnzipInflate:function(){return ll},AsyncUnzlib:function(){return Cs},AsyncZipDeflate:function(){return Ll},AsyncZlib:function(){return yu},Compress:function(){return Es},DecodeUTF8:function(){return Ra},Decompress:function(){return Al},Deflate:function(){return $n},EncodeUTF8:function(){return To},FlateErrorCode:function(){return je},Gunzip:function(){return _o},Gzip:function(){return Es},Inflate:function(){return bn},Unzip:function(){return Rt},UnzipInflate:function(){return ho},UnzipPassThrough:function(){return tl},Unzlib:function(){return oo},Zip:function(){return uo},ZipDeflate:function(){return Wa},ZipPassThrough:function(){return ha},Zlib:function(){return Bl},compress:function(){return Hs},compressSync:function(){return xs},decompress:function(){return lo},decompressSync:function(){return Ec},deflate:function(){return $i},deflateSync:function(){return Os},gunzip:function(){return Yu},gunzipSync:function(){return Ua},gzip:function(){return Hs},gzipSync:function(){return xs},inflate:function(){return ws},inflateSync:function(){return Ts},strFromU8:function(){return ci},strToU8:function(){return za},unzip:function(){return Z},unzipSync:function(){return te},unzlib:function(){return aa},unzlibSync:function(){return bs},zip:function(){return Vs},zipSync:function(){return Ya},zlib:function(){return fl},zlibSync:function(){return Ps}});var d={},f=(function(P,$,q,de,we){var Me=new Worker(d[$]||(d[$]=URL.createObjectURL(new Blob([P+';addEventListener("error",function(e){e=e.error;postMessage({$e$:[e.message,e.code,e.stack]})})'],{type:"text/javascript"}))));return Me.onmessage=function(tt){var I=tt.data,C=I.$e$;if(C){var O=new Error(C[0]);O.code=C[1],O.stack=C[2],we(O,null)}else we(null,I)},Me.postMessage(q,de),Me}),A=Uint8Array,p=Uint16Array,g=Int32Array,y=new A([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),v=new A([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),b=new A([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),w=function(P,$){for(var q=new p(31),de=0;de<31;++de)q[de]=$+=1<<P[de-1];for(var we=new g(q[30]),de=1;de<30;++de)for(var Me=q[de];Me<q[de+1];++Me)we[Me]=Me-q[de]<<5|de;return{b:q,r:we}},S=w(y,2),_=S.b,T=S.r;_[28]=258,T[258]=28;for(var L=w(v,0),D=L.b,V=L.r,G=new p(32768),J=0;J<32768;++J){var ee=(J&43690)>>1|(J&21845)<<1;ee=(ee&52428)>>2|(ee&13107)<<2,ee=(ee&61680)>>4|(ee&3855)<<4,G[J]=((ee&65280)>>8|(ee&255)<<8)>>1}for(var ue=(function(P,$,q){for(var de=P.length,we=0,Me=new p($);we<de;++we)P[we]&&++Me[P[we]-1];var tt=new p($);for(we=1;we<$;++we)tt[we]=tt[we-1]+Me[we-1]<<1;var I;if(q){I=new p(1<<$);var C=15-$;for(we=0;we<de;++we)if(P[we])for(var O=we<<4|P[we],Q=$-P[we],z=tt[P[we]-1]++<<Q,X=z|(1<<Q)-1;z<=X;++z)I[G[z]>>C]=O}else for(I=new p(de),we=0;we<de;++we)P[we]&&(I[we]=G[tt[P[we]-1]++]>>15-P[we]);return I}),pe=new A(288),J=0;J<144;++J)pe[J]=8;for(var J=144;J<256;++J)pe[J]=9;for(var J=256;J<280;++J)pe[J]=7;for(var J=280;J<288;++J)pe[J]=8;for(var ge=new A(32),J=0;J<32;++J)ge[J]=5;var he=ue(pe,9,0),ne=ue(pe,9,1),Ae=ue(ge,5,0),oe=ue(ge,5,1),Be=function(P){for(var $=P[0],q=1;q<P.length;++q)P[q]>$&&($=P[q]);return $},ke=function(P,$,q){var de=$/8|0;return(P[de]|P[de+1]<<8)>>($&7)&q},ve=function(P,$){var q=$/8|0;return(P[q]|P[q+1]<<8|P[q+2]<<16)>>($&7)},se=function(P){return(P+7)/8|0},me=function(P,$,q){return($==null||$<0)&&($=0),(q==null||q>P.length)&&(q=P.length),new A(P.subarray($,q))},je={UnexpectedEOF:0,InvalidBlockType:1,InvalidLengthLiteral:2,InvalidDistance:3,StreamFinished:4,NoStreamHandler:5,InvalidHeader:6,NoCallback:7,InvalidUTF8:8,ExtraFieldTooLong:9,InvalidDate:10,FilenameTooLong:11,StreamFinishing:12,InvalidZipData:13,UnknownCompressionMethod:14},Ue=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],De=function(P,$,q){var de=new Error($||Ue[P]);if(de.code=P,Error.captureStackTrace&&Error.captureStackTrace(de,De),!q)throw de;return de},ot=function(P,$,q,de){var we=P.length,Me=de?de.length:0;if(!we||$.f&&!$.l)return q||new A(0);var tt=!q,I=tt||$.i!=2,C=$.i;tt&&(q=new A(we*3));var O=function(bt){var Ft=q.length;if(bt>Ft){var Qt=new A(Math.max(Ft*2,bt));Qt.set(q),q=Qt}},Q=$.f||0,z=$.p||0,X=$.b||0,fe=$.l,ie=$.d,ae=$.m,Se=$.n,Re=we*8;do{if(!fe){Q=ke(P,z,1);var Ge=ke(P,z+1,3);if(z+=3,Ge)if(Ge==1)fe=ne,ie=oe,ae=9,Se=5;else if(Ge==2){var At=ke(P,z,31)+257,yt=ke(P,z+10,15)+4,qe=At+ke(P,z+5,31)+1;z+=14;for(var jt=new A(qe),Ht=new A(19),St=0;St<yt;++St)Ht[b[St]]=ke(P,z+St*3,7);z+=yt*3;for(var Ye=Be(Ht),Mt=(1<<Ye)-1,Ar=ue(Ht,Ye,1),St=0;St<qe;){var zt=Ar[ke(P,z,Mt)];z+=zt&15;var et=zt>>4;if(et<16)jt[St++]=et;else{var Ct=0,cr=0;for(et==16?(cr=3+ke(P,z,3),z+=2,Ct=jt[St-1]):et==17?(cr=3+ke(P,z,7),z+=3):et==18&&(cr=11+ke(P,z,127),z+=7);cr--;)jt[St++]=Ct}}var Xe=jt.subarray(0,At),lt=jt.subarray(At);ae=Be(Xe),Se=Be(lt),fe=ue(Xe,ae,1),ie=ue(lt,Se,1)}else De(1);else{var et=se(z)+4,xe=P[et-4]|P[et-3]<<8,gt=et+xe;if(gt>we){C&&De(0);break}I&&O(X+xe),q.set(P.subarray(et,gt),X),$.b=X+=xe,$.p=z=gt*8,$.f=Q;continue}if(z>Re){C&&De(0);break}}I&&O(X+131072);for(var _t=(1<<ae)-1,Tt=(1<<Se)-1,dr=z;;dr=z){var Ct=fe[ve(P,z)&_t],pr=Ct>>4;if(z+=Ct&15,z>Re){C&&De(0);break}if(Ct||De(2),pr<256)q[X++]=pr;else if(pr==256){dr=z,fe=null;break}else{var Er=pr-254;if(pr>264){var St=pr-257,Xt=y[St];Er=ke(P,z,(1<<Xt)-1)+_[St],z+=Xt}var vr=ie[ve(P,z)&Tt],en=vr>>4;vr||De(3),z+=vr&15;var lt=D[en];if(en>3){var Xt=v[en];lt+=ve(P,z)&(1<<Xt)-1,z+=Xt}if(z>Re){C&&De(0);break}I&&O(X+131072);var $r=X+Er;if(X<lt){var Qe=Me-lt,vt=Math.min(lt,$r);for(Qe+X<0&&De(3);X<vt;++X)q[X]=de[Qe+X]}for(;X<$r;++X)q[X]=q[X-lt]}}$.l=fe,$.p=dr,$.b=X,$.f=Q,fe&&(Q=1,$.m=ae,$.d=ie,$.n=Se)}while(!Q);return X!=q.length&&tt?me(q,0,X):q.subarray(0,X)},ft=function(P,$,q){q<<=$&7;var de=$/8|0;P[de]|=q,P[de+1]|=q>>8},Ce=function(P,$,q){q<<=$&7;var de=$/8|0;P[de]|=q,P[de+1]|=q>>8,P[de+2]|=q>>16},Ze=function(P,$){for(var q=[],de=0;de<P.length;++de)P[de]&&q.push({s:de,f:P[de]});var we=q.length,Me=q.slice();if(!we)return{t:Bt,l:0};if(we==1){var tt=new A(q[0].s+1);return tt[q[0].s]=1,{t:tt,l:1}}q.sort(function(gt,At){return gt.f-At.f}),q.push({s:-1,f:25001});var I=q[0],C=q[1],O=0,Q=1,z=2;for(q[0]={s:-1,f:I.f+C.f,l:I,r:C};Q!=we-1;)I=q[q[O].f<q[z].f?O++:z++],C=q[O!=Q&&q[O].f<q[z].f?O++:z++],q[Q++]={s:-1,f:I.f+C.f,l:I,r:C};for(var X=Me[0].s,de=1;de<we;++de)Me[de].s>X&&(X=Me[de].s);var fe=new p(X+1),ie=ze(q[Q-1],fe,0);if(ie>$){var de=0,ae=0,Se=ie-$,Re=1<<Se;for(Me.sort(function(At,yt){return fe[yt.s]-fe[At.s]||At.f-yt.f});de<we;++de){var Ge=Me[de].s;if(fe[Ge]>$)ae+=Re-(1<<ie-fe[Ge]),fe[Ge]=$;else break}for(ae>>=Se;ae>0;){var et=Me[de].s;fe[et]<$?ae-=1<<$-fe[et]++-1:++de}for(;de>=0&&ae;--de){var xe=Me[de].s;fe[xe]==$&&(--fe[xe],++ae)}ie=$}return{t:new A(fe),l:ie}},ze=function(P,$,q){return P.s==-1?Math.max(ze(P.l,$,q+1),ze(P.r,$,q+1)):$[P.s]=q},$e=function(P){for(var $=P.length;$&&!P[--$];);for(var q=new p(++$),de=0,we=P[0],Me=1,tt=function(C){q[de++]=C},I=1;I<=$;++I)if(P[I]==we&&I!=$)++Me;else{if(!we&&Me>2){for(;Me>138;Me-=138)tt(32754);Me>2&&(tt(Me>10?Me-11<<5|28690:Me-3<<5|12305),Me=0)}else if(Me>3){for(tt(we),--Me;Me>6;Me-=6)tt(8304);Me>2&&(tt(Me-3<<5|8208),Me=0)}for(;Me--;)tt(we);Me=1,we=P[I]}return{c:q.subarray(0,de),n:$}},ct=function(P,$){for(var q=0,de=0;de<$.length;++de)q+=P[de]*$[de];return q},Fe=function(P,$,q){var de=q.length,we=se($+2);P[we]=de&255,P[we+1]=de>>8,P[we+2]=P[we]^255,P[we+3]=P[we+1]^255;for(var Me=0;Me<de;++Me)P[we+Me+4]=q[Me];return(we+4+de)*8},xt=function(P,$,q,de,we,Me,tt,I,C,O,Q){ft($,Q++,q),++we[256];for(var z=Ze(we,15),X=z.t,fe=z.l,ie=Ze(Me,15),ae=ie.t,Se=ie.l,Re=$e(X),Ge=Re.c,et=Re.n,xe=$e(ae),gt=xe.c,At=xe.n,yt=new p(19),qe=0;qe<Ge.length;++qe)++yt[Ge[qe]&31];for(var qe=0;qe<gt.length;++qe)++yt[gt[qe]&31];for(var jt=Ze(yt,7),Ht=jt.t,St=jt.l,Ye=19;Ye>4&&!Ht[b[Ye-1]];--Ye);var Mt=O+5<<3,Ar=ct(we,pe)+ct(Me,ge)+tt,zt=ct(we,X)+ct(Me,ae)+tt+14+3*Ye+ct(yt,Ht)+2*yt[16]+3*yt[17]+7*yt[18];if(C>=0&&Mt<=Ar&&Mt<=zt)return Fe($,Q,P.subarray(C,C+O));var Ct,cr,Xe,lt;if(ft($,Q,1+(zt<Ar)),Q+=2,zt<Ar){Ct=ue(X,fe,0),cr=X,Xe=ue(ae,Se,0),lt=ae;var _t=ue(Ht,St,0);ft($,Q,et-257),ft($,Q+5,At-1),ft($,Q+10,Ye-4),Q+=14;for(var qe=0;qe<Ye;++qe)ft($,Q+3*qe,Ht[b[qe]]);Q+=3*Ye;for(var Tt=[Ge,gt],dr=0;dr<2;++dr)for(var pr=Tt[dr],qe=0;qe<pr.length;++qe){var Er=pr[qe]&31;ft($,Q,_t[Er]),Q+=Ht[Er],Er>15&&(ft($,Q,pr[qe]>>5&127),Q+=pr[qe]>>12)}}else Ct=he,cr=pe,Xe=Ae,lt=ge;for(var qe=0;qe<I;++qe){var Xt=de[qe];if(Xt>255){var Er=Xt>>18&31;Ce($,Q,Ct[Er+257]),Q+=cr[Er+257],Er>7&&(ft($,Q,Xt>>23&31),Q+=y[Er]);var vr=Xt&31;Ce($,Q,Xe[vr]),Q+=lt[vr],vr>3&&(Ce($,Q,Xt>>5&8191),Q+=v[vr])}else Ce($,Q,Ct[Xt]),Q+=cr[Xt]}return Ce($,Q,Ct[256]),Q+cr[256]},pt=new g([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Bt=new A(0),qt=function(P,$,q,de,we,Me){var tt=Me.z||P.length,I=new A(de+tt+5*(1+Math.ceil(tt/7e3))+we),C=I.subarray(de,I.length-we),O=Me.l,Q=(Me.r||0)&7;if($){Q&&(C[0]=Me.r>>3);for(var z=pt[$-1],X=z>>13,fe=z&8191,ie=(1<<q)-1,ae=Me.p||new p(32768),Se=Me.h||new p(ie+1),Re=Math.ceil(q/3),Ge=2*Re,et=function(nr){return(P[nr]^P[nr+1]<<Re^P[nr+2]<<Ge)&ie},xe=new g(25e3),gt=new p(288),At=new p(32),yt=0,qe=0,jt=Me.i||0,Ht=0,St=Me.w||0,Ye=0;jt+2<tt;++jt){var Mt=et(jt),Ar=jt&32767,zt=Se[Mt];if(ae[Ar]=zt,Se[Mt]=Ar,St<=jt){var Ct=tt-jt;if((yt>7e3||Ht>24576)&&(Ct>423||!O)){Q=xt(P,C,0,xe,gt,At,qe,Ht,Ye,jt-Ye,Q),Ht=yt=qe=0,Ye=jt;for(var cr=0;cr<286;++cr)gt[cr]=0;for(var cr=0;cr<30;++cr)At[cr]=0}var Xe=2,lt=0,_t=fe,Tt=Ar-zt&32767;if(Ct>2&&Mt==et(jt-Tt))for(var dr=Math.min(X,Ct)-1,pr=Math.min(32767,jt),Er=Math.min(258,Ct);Tt<=pr&&--_t&&Ar!=zt;){if(P[jt+Xe]==P[jt+Xe-Tt]){for(var Xt=0;Xt<Er&&P[jt+Xt]==P[jt+Xt-Tt];++Xt);if(Xt>Xe){if(Xe=Xt,lt=Tt,Xt>dr)break;for(var vr=Math.min(Tt,Xt-2),en=0,cr=0;cr<vr;++cr){var $r=jt-Tt+cr&32767,Qe=ae[$r],vt=$r-Qe&32767;vt>en&&(en=vt,zt=$r)}}}Ar=zt,zt=ae[Ar],Tt+=Ar-zt&32767}if(lt){xe[Ht++]=268435456|T[Xe]<<18|V[lt];var bt=T[Xe]&31,Ft=V[lt]&31;qe+=y[bt]+v[Ft],++gt[257+bt],++At[Ft],St=jt+Xe,++yt}else xe[Ht++]=P[jt],++gt[P[jt]]}}for(jt=Math.max(jt,St);jt<tt;++jt)xe[Ht++]=P[jt],++gt[P[jt]];Q=xt(P,C,O,xe,gt,At,qe,Ht,Ye,jt-Ye,Q),O||(Me.r=Q&7|C[Q/8|0]<<3,Q-=7,Me.h=Se,Me.p=ae,Me.i=jt,Me.w=St)}else{for(var jt=Me.w||0;jt<tt+O;jt+=65535){var Qt=jt+65535;Qt>=tt&&(C[Q/8|0]=O,Qt=tt),Q=Fe(C,Q+1,P.subarray(jt,Qt))}Me.i=tt}return me(I,0,de+se(Q)+we)},Yr=(function(){for(var P=new Int32Array(256),$=0;$<256;++$){for(var q=$,de=9;--de;)q=(q&1&&-306674912)^q>>>1;P[$]=q}return P})(),yr=function(){var P=-1;return{p:function($){for(var q=P,de=0;de<$.length;++de)q=Yr[q&255^$[de]]^q>>>8;P=q},d:function(){return~P}}},Wr=function(){var P=1,$=0;return{p:function(q){for(var de=P,we=$,Me=q.length|0,tt=0;tt!=Me;){for(var I=Math.min(tt+2655,Me);tt<I;++tt)we+=de+=q[tt];de=(de&65535)+15*(de>>16),we=(we&65535)+15*(we>>16)}P=de,$=we},d:function(){return P%=65521,$%=65521,(P&255)<<24|(P&65280)<<8|($&255)<<8|$>>8}}},hn=function(P,$,q,de,we){if(!we&&(we={l:1},$.dictionary)){var Me=$.dictionary.subarray(-32768),tt=new A(Me.length+P.length);tt.set(Me),tt.set(P,Me.length),P=tt,we.w=Me.length}return qt(P,$.level==null?6:$.level,$.mem==null?we.l?Math.ceil(Math.max(8,Math.min(13,Math.log(P.length)))*1.5):20:12+$.mem,q,de,we)},Tn=function(P,$){var q={};for(var de in P)q[de]=P[de];for(var de in $)q[de]=$[de];return q},Jr=function(P,$,q){for(var de=P(),we=P.toString(),Me=we.slice(we.indexOf("[")+1,we.lastIndexOf("]")).replace(/\s+/g,"").split(","),tt=0;tt<de.length;++tt){var I=de[tt],C=Me[tt];if(typeof I=="function"){$+=";"+C+"=";var O=I.toString();if(I.prototype)if(O.indexOf("[native code]")!=-1){var Q=O.indexOf(" ",8)+1;$+=O.slice(Q,O.indexOf("(",Q))}else{$+=O;for(var z in I.prototype)$+=";"+C+".prototype."+z+"="+I.prototype[z].toString()}else $+=O}else q[C]=I}return $},sn=[],on=function(P){var $=[];for(var q in P)P[q].buffer&&$.push((P[q]=new P[q].constructor(P[q])).buffer);return $},Fn=function(P,$,q,de){if(!sn[q]){for(var we="",Me={},tt=P.length-1,I=0;I<tt;++I)we=Jr(P[I],we,Me);sn[q]={c:Jr(P[tt],we,Me),e:Me}}var C=Tn({},sn[q].e);return f(sn[q].c+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+$.toString()+"}",q,C,on(C),de)},Qn=function(){return[A,p,g,y,v,b,_,D,ne,oe,G,Ue,ue,Be,ke,ve,se,me,De,ot,Ts,Pt,or]},gi=function(){return[A,p,g,y,v,b,T,V,he,pe,Ae,ge,G,pt,Bt,ue,ft,Ce,Ze,ze,$e,ct,Fe,xt,se,me,qt,hn,Os,Pt]},Je=function(){return[rn,Wn,Nr,yr,Yr]},Ut=function(){return[Xr,yn]},gr=function(){return[ds,Nr,Wr]},Wt=function(){return[vs]},Pt=function(P){return postMessage(P,[P.buffer])},or=function(P){return P&&{out:P.size&&new A(P.size),dictionary:P.dictionary}},Br=function(P,$,q,de,we,Me){var tt=Fn(q,de,we,function(I,C){tt.terminate(),Me(I,C)});return tt.postMessage([P,$],$.consume?[P.buffer]:[]),function(){tt.terminate()}},Ur=function(P){return P.ondata=function($,q){return postMessage([$,q],[$.buffer])},function($){$.data.length?(P.push($.data[0],$.data[1]),postMessage([$.data[0].length])):P.flush()}},vn=function(P,$,q,de,we,Me,tt){var I,C=Fn(P,de,we,function(O,Q){O?(C.terminate(),$.ondata.call($,O)):Array.isArray(Q)?Q.length==1?($.queuedSize-=Q[0],$.ondrain&&$.ondrain(Q[0])):(Q[1]&&C.terminate(),$.ondata.call($,O,Q[0],Q[1])):tt(Q)});C.postMessage(q),$.queuedSize=0,$.push=function(O,Q){$.ondata||De(5),I&&$.ondata(De(4,0,1),null,!!Q),$.queuedSize+=O.length,C.postMessage([O,I=Q],[O.buffer])},$.terminate=function(){C.terminate()},Me&&($.flush=function(){C.postMessage([])})},qr=function(P,$){return P[$]|P[$+1]<<8},Vn=function(P,$){return(P[$]|P[$+1]<<8|P[$+2]<<16|P[$+3]<<24)>>>0},Qr=function(P,$){return Vn(P,$)+Vn(P,$+4)*4294967296},Nr=function(P,$,q){for(;q;++$)P[$]=q,q>>>=8},rn=function(P,$){var q=$.filename;if(P[0]=31,P[1]=139,P[2]=8,P[8]=$.level<2?4:$.level==9?2:0,P[9]=3,$.mtime!=0&&Nr(P,4,Math.floor(new Date($.mtime||Date.now())/1e3)),q){P[3]=8;for(var de=0;de<=q.length;++de)P[de+10]=q.charCodeAt(de)}},Xr=function(P){(P[0]!=31||P[1]!=139||P[2]!=8)&&De(6,"invalid gzip data");var $=P[3],q=10;$&4&&(q+=(P[10]|P[11]<<8)+2);for(var de=($>>3&1)+($>>4&1);de>0;de-=!P[q++]);return q+($&2)},yn=function(P){var $=P.length;return(P[$-4]|P[$-3]<<8|P[$-2]<<16|P[$-1]<<24)>>>0},Wn=function(P){return 10+(P.filename?P.filename.length+1:0)},ds=function(P,$){var q=$.level,de=q==0?0:q<6?1:q==9?3:2;if(P[0]=120,P[1]=de<<6|($.dictionary&&32),P[1]|=31-(P[0]<<8|P[1])%31,$.dictionary){var we=Wr();we.p($.dictionary),Nr(P,2,we.d())}},vs=function(P,$){return((P[0]&15)!=8||P[0]>>4>7||(P[0]<<8|P[1])%31)&&De(6,"invalid zlib data"),(P[1]>>5&1)==+!$&&De(6,"invalid zlib data: "+(P[1]&32?"need":"unexpected")+" dictionary"),(P[1]>>3&4)+2};function ys(P,$){return typeof P=="function"&&($=P,P={}),this.ondata=$,P}var $n=(function(){function P($,q){if(typeof $=="function"&&(q=$,$={}),this.ondata=q,this.o=$||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new A(98304),this.o.dictionary){var de=this.o.dictionary.subarray(-32768);this.b.set(de,32768-de.length),this.s.i=32768-de.length}}return P.prototype.p=function($,q){this.ondata(hn($,this.o,0,0,this.s),q)},P.prototype.push=function($,q){this.ondata||De(5),this.s.l&&De(4);var de=$.length+this.s.z;if(de>this.b.length){if(de>2*this.b.length-32768){var we=new A(de&-32768);we.set(this.b.subarray(0,this.s.z)),this.b=we}var Me=this.b.length-this.s.z;this.b.set($.subarray(0,Me),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set($.subarray(Me),32768),this.s.z=$.length-Me+32768,this.s.i=32766,this.s.w=32768}else this.b.set($,this.s.z),this.s.z+=$.length;this.s.l=q&1,(this.s.z>this.s.w+8191||q)&&(this.p(this.b,q||!1),this.s.w=this.s.i,this.s.i-=2)},P.prototype.flush=function(){this.ondata||De(5),this.s.l&&De(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},P})(),zr=(function(){function P($,q){vn([gi,function(){return[Ur,$n]}],this,ys.call(this,$,q),function(de){var we=new $n(de.data);onmessage=Ur(we)},6,1)}return P})();function $i(P,$,q){return q||(q=$,$={}),typeof q!="function"&&De(7),Br(P,$,[gi],function(de){return Pt(Os(de.data[0],de.data[1]))},0,q)}function Os(P,$){return hn(P,$||{},0,0)}var bn=(function(){function P($,q){typeof $=="function"&&(q=$,$={}),this.ondata=q;var de=$&&$.dictionary&&$.dictionary.subarray(-32768);this.s={i:0,b:de?de.length:0},this.o=new A(32768),this.p=new A(0),de&&this.o.set(de)}return P.prototype.e=function($){if(this.ondata||De(5),this.d&&De(4),!this.p.length)this.p=$;else if($.length){var q=new A(this.p.length+$.length);q.set(this.p),q.set($,this.p.length),this.p=q}},P.prototype.c=function($){this.s.i=+(this.d=$||!1);var q=this.s.b,de=ot(this.p,this.s,this.o);this.ondata(me(de,q,this.s.b),this.d),this.o=me(de,this.s.b-32768),this.s.b=this.o.length,this.p=me(this.p,this.s.p/8|0),this.s.p&=7},P.prototype.push=function($,q){this.e($),this.c(q)},P})(),La=(function(){function P($,q){vn([Qn,function(){return[Ur,bn]}],this,ys.call(this,$,q),function(de){var we=new bn(de.data);onmessage=Ur(we)},7,0)}return P})();function ws(P,$,q){return q||(q=$,$={}),typeof q!="function"&&De(7),Br(P,$,[Qn],function(de){return Pt(Ts(de.data[0],or(de.data[1])))},1,q)}function Ts(P,$){return ot(P,{i:2},$&&$.out,$&&$.dictionary)}var Es=(function(){function P($,q){this.c=yr(),this.l=0,this.v=1,$n.call(this,$,q)}return P.prototype.push=function($,q){this.c.p($),this.l+=$.length,$n.prototype.push.call(this,$,q)},P.prototype.p=function($,q){var de=hn($,this.o,this.v&&Wn(this.o),q&&8,this.s);this.v&&(rn(de,this.o),this.v=0),q&&(Nr(de,de.length-8,this.c.d()),Nr(de,de.length-4,this.l)),this.ondata(de,q)},P.prototype.flush=function(){$n.prototype.flush.call(this)},P})(),Hi=(function(){function P($,q){vn([gi,Je,function(){return[Ur,$n,Es]}],this,ys.call(this,$,q),function(de){var we=new Es(de.data);onmessage=Ur(we)},8,1)}return P})();function Hs(P,$,q){return q||(q=$,$={}),typeof q!="function"&&De(7),Br(P,$,[gi,Je,function(){return[xs]}],function(de){return Pt(xs(de.data[0],de.data[1]))},2,q)}function xs(P,$){$||($={});var q=yr(),de=P.length;q.p(P);var we=hn(P,$,Wn($),8),Me=we.length;return rn(we,$),Nr(we,Me-8,q.d()),Nr(we,Me-4,de),we}var _o=(function(){function P($,q){this.v=1,this.r=0,bn.call(this,$,q)}return P.prototype.push=function($,q){if(bn.prototype.e.call(this,$),this.r+=$.length,this.v){var de=this.p.subarray(this.v-1),we=de.length>3?Xr(de):4;if(we>de.length){if(!q)return}else this.v>1&&this.onmember&&this.onmember(this.r-de.length);this.p=de.subarray(we),this.v=0}bn.prototype.c.call(this,q),this.s.f&&!this.s.l&&!q&&(this.v=se(this.s.p)+9,this.s={i:0},this.o=new A(0),this.push(new A(0),q))},P})(),rs=(function(){function P($,q){var de=this;vn([Qn,Ut,function(){return[Ur,bn,_o]}],this,ys.call(this,$,q),function(we){var Me=new _o(we.data);Me.onmember=function(tt){return postMessage(tt)},onmessage=Ur(Me)},9,0,function(we){return de.onmember&&de.onmember(we)})}return P})();function Yu(P,$,q){return q||(q=$,$={}),typeof q!="function"&&De(7),Br(P,$,[Qn,Ut,function(){return[Ua]}],function(de){return Pt(Ua(de.data[0],de.data[1]))},3,q)}function Ua(P,$){var q=Xr(P);return q+8>P.length&&De(6,"invalid gzip data"),ot(P.subarray(q,-8),{i:2},$&&$.out||new A(yn(P)),$&&$.dictionary)}var Bl=(function(){function P($,q){this.c=Wr(),this.v=1,$n.call(this,$,q)}return P.prototype.push=function($,q){this.c.p($),$n.prototype.push.call(this,$,q)},P.prototype.p=function($,q){var de=hn($,this.o,this.v&&(this.o.dictionary?6:2),q&&4,this.s);this.v&&(ds(de,this.o),this.v=0),q&&Nr(de,de.length-4,this.c.d()),this.ondata(de,q)},P.prototype.flush=function(){$n.prototype.flush.call(this)},P})(),yu=(function(){function P($,q){vn([gi,gr,function(){return[Ur,$n,Bl]}],this,ys.call(this,$,q),function(de){var we=new Bl(de.data);onmessage=Ur(we)},10,1)}return P})();function fl(P,$,q){return q||(q=$,$={}),typeof q!="function"&&De(7),Br(P,$,[gi,gr,function(){return[Ps]}],function(de){return Pt(Ps(de.data[0],de.data[1]))},4,q)}function Ps(P,$){$||($={});var q=Wr();q.p(P);var de=hn(P,$,$.dictionary?6:2,4);return ds(de,$),Nr(de,de.length-4,q.d()),de}var oo=(function(){function P($,q){bn.call(this,$,q),this.v=$&&$.dictionary?2:1}return P.prototype.push=function($,q){if(bn.prototype.e.call(this,$),this.v){if(this.p.length<6&&!q)return;this.p=this.p.subarray(vs(this.p,this.v-1)),this.v=0}q&&(this.p.length<4&&De(6,"invalid zlib data"),this.p=this.p.subarray(0,-4)),bn.prototype.c.call(this,q)},P})(),Cs=(function(){function P($,q){vn([Qn,Wt,function(){return[Ur,bn,oo]}],this,ys.call(this,$,q),function(de){var we=new oo(de.data);onmessage=Ur(we)},11,0)}return P})();function aa(P,$,q){return q||(q=$,$={}),typeof q!="function"&&De(7),Br(P,$,[Qn,Wt,function(){return[bs]}],function(de){return Pt(bs(de.data[0],or(de.data[1])))},5,q)}function bs(P,$){return ot(P.subarray(vs(P,$&&$.dictionary),-4),{i:2},$&&$.out,$&&$.dictionary)}var Al=(function(){function P($,q){this.o=ys.call(this,$,q)||{},this.G=_o,this.I=bn,this.Z=oo}return P.prototype.i=function(){var $=this;this.s.ondata=function(q,de){$.ondata(q,de)}},P.prototype.push=function($,q){if(this.ondata||De(5),this.s)this.s.push($,q);else{if(this.p&&this.p.length){var de=new A(this.p.length+$.length);de.set(this.p),de.set($,this.p.length)}else this.p=$;this.p.length>2&&(this.s=this.p[0]==31&&this.p[1]==139&&this.p[2]==8?new this.G(this.o):(this.p[0]&15)!=8||this.p[0]>>4>7||(this.p[0]<<8|this.p[1])%31?new this.I(this.o):new this.Z(this.o),this.i(),this.s.push(this.p,q),this.p=null)}},P})(),Ga=(function(){function P($,q){Al.call(this,$,q),this.queuedSize=0,this.G=rs,this.I=La,this.Z=Cs}return P.prototype.i=function(){var $=this;this.s.ondata=function(q,de,we){$.ondata(q,de,we)},this.s.ondrain=function(q){$.queuedSize-=q,$.ondrain&&$.ondrain(q)}},P.prototype.push=function($,q){this.queuedSize+=$.length,Al.prototype.push.call(this,$,q)},P})();function lo(P,$,q){return q||(q=$,$={}),typeof q!="function"&&De(7),P[0]==31&&P[1]==139&&P[2]==8?Yu(P,$,q):(P[0]&15)!=8||P[0]>>4>7||(P[0]<<8|P[1])%31?ws(P,$,q):aa(P,$,q)}function Ec(P,$){return P[0]==31&&P[1]==139&&P[2]==8?Ua(P,$):(P[0]&15)!=8||P[0]>>4>7||(P[0]<<8|P[1])%31?Ts(P,$):bs(P,$)}var oc=function(P,$,q,de){for(var we in P){var Me=P[we],tt=$+we,I=de;Array.isArray(Me)&&(I=Tn(de,Me[1]),Me=Me[0]),Me instanceof A?q[tt]=[Me,I]:(q[tt+="/"]=[new A(0),I],oc(Me,tt,q,de))}},Gc=typeof TextEncoder<"u"&&new TextEncoder,Qs=typeof TextDecoder<"u"&&new TextDecoder,Ws=0;try{Qs.decode(Bt,{stream:!0}),Ws=1}catch{}var ml=function(P){for(var $="",q=0;;){var de=P[q++],we=(de>127)+(de>223)+(de>239);if(q+we>P.length)return{s:$,r:me(P,q-1)};we?we==3?(de=((de&15)<<18|(P[q++]&63)<<12|(P[q++]&63)<<6|P[q++]&63)-65536,$+=String.fromCharCode(55296|de>>10,56320|de&1023)):we&1?$+=String.fromCharCode((de&31)<<6|P[q++]&63):$+=String.fromCharCode((de&15)<<12|(P[q++]&63)<<6|P[q++]&63):$+=String.fromCharCode(de)}},Ra=(function(){function P($){this.ondata=$,Ws?this.t=new TextDecoder:this.p=Bt}return P.prototype.push=function($,q){if(this.ondata||De(5),q=!!q,this.t){this.ondata(this.t.decode($,{stream:!0}),q),q&&(this.t.decode().length&&De(8),this.t=null);return}this.p||De(4);var de=new A(this.p.length+$.length);de.set(this.p),de.set($,this.p.length);var we=ml(de),Me=we.s,tt=we.r;q?(tt.length&&De(8),this.p=null):this.p=tt,this.ondata(Me,q)},P})(),To=(function(){function P($){this.ondata=$}return P.prototype.push=function($,q){this.ondata||De(5),this.d&&De(4),this.ondata(za($),this.d=q||!1)},P})();function za(P,$){if($){for(var q=new A(P.length),de=0;de<P.length;++de)q[de]=P.charCodeAt(de);return q}if(Gc)return Gc.encode(P);for(var we=P.length,Me=new A(P.length+(P.length>>1)),tt=0,I=function(Q){Me[tt++]=Q},de=0;de<we;++de){if(tt+5>Me.length){var C=new A(tt+8+(we-de<<1));C.set(Me),Me=C}var O=P.charCodeAt(de);O<128||$?I(O):O<2048?(I(192|O>>6),I(128|O&63)):O>55295&&O<57344?(O=65536+(O&1047552)|P.charCodeAt(++de)&1023,I(240|O>>18),I(128|O>>12&63),I(128|O>>6&63),I(128|O&63)):(I(224|O>>12),I(128|O>>6&63),I(128|O&63))}return me(Me,0,tt)}function ci(P,$){if($){for(var q="",de=0;de<P.length;de+=16384)q+=String.fromCharCode.apply(null,P.subarray(de,de+16384));return q}else{if(Qs)return Qs.decode(P);var we=ml(P),Me=we.s,q=we.r;return q.length&&De(8),Me}}var ba=function(P){return P==1?3:P<6?2:P==9?1:0},co=function(P,$){return $+30+qr(P,$+26)+qr(P,$+28)},pa=function(P,$,q){var de=qr(P,$+28),we=ci(P.subarray($+46,$+46+de),!(qr(P,$+8)&2048)),Me=$+46+de,tt=Vn(P,$+20),I=q&&tt==4294967295?pl(P,Me):[tt,Vn(P,$+24),Vn(P,$+42)],C=I[0],O=I[1],Q=I[2];return[qr(P,$+10),C,O,we,Me+qr(P,$+30)+qr(P,$+32),Q]},pl=function(P,$){for(;qr(P,$)!=1;$+=4+qr(P,$+2));return[Qr(P,$+12),Qr(P,$+4),Qr(P,$+20)]},fs=function(P){var $=0;if(P)for(var q in P){var de=P[q].length;de>65535&&De(9),$+=de+4}return $},Uo=function(P,$,q,de,we,Me,tt,I){var C=de.length,O=q.extra,Q=I&&I.length,z=fs(O);Nr(P,$,tt!=null?33639248:67324752),$+=4,tt!=null&&(P[$++]=20,P[$++]=q.os),P[$]=20,$+=2,P[$++]=q.flag<<1|(Me<0&&8),P[$++]=we&&8,P[$++]=q.compression&255,P[$++]=q.compression>>8;var X=new Date(q.mtime==null?Date.now():q.mtime),fe=X.getFullYear()-1980;if((fe<0||fe>119)&&De(10),Nr(P,$,fe<<25|X.getMonth()+1<<21|X.getDate()<<16|X.getHours()<<11|X.getMinutes()<<5|X.getSeconds()>>1),$+=4,Me!=-1&&(Nr(P,$,q.crc),Nr(P,$+4,Me<0?-Me-2:Me),Nr(P,$+8,q.size)),Nr(P,$+12,C),Nr(P,$+14,z),$+=16,tt!=null&&(Nr(P,$,Q),Nr(P,$+6,q.attrs),Nr(P,$+10,tt),$+=14),P.set(de,$),$+=C,z)for(var ie in O){var ae=O[ie],Se=ae.length;Nr(P,$,+ie),Nr(P,$+2,Se),P.set(ae,$+4),$+=4+Se}return Q&&(P.set(I,$),$+=Q),$},wa=function(P,$,q,de,we){Nr(P,$,101010256),Nr(P,$+8,q),Nr(P,$+10,q),Nr(P,$+12,de),Nr(P,$+16,we)},ha=(function(){function P($){this.filename=$,this.c=yr(),this.size=0,this.compression=0}return P.prototype.process=function($,q){this.ondata(null,$,q)},P.prototype.push=function($,q){this.ondata||De(5),this.c.p($),this.size+=$.length,q&&(this.crc=this.c.d()),this.process($,q||!1)},P})(),Wa=(function(){function P($,q){var de=this;q||(q={}),ha.call(this,$),this.d=new $n(q,function(we,Me){de.ondata(null,we,Me)}),this.compression=8,this.flag=ba(q.level)}return P.prototype.process=function($,q){try{this.d.push($,q)}catch(de){this.ondata(de,null,q)}},P.prototype.push=function($,q){ha.prototype.push.call(this,$,q)},P})(),Ll=(function(){function P($,q){var de=this;q||(q={}),ha.call(this,$),this.d=new zr(q,function(we,Me,tt){de.ondata(we,Me,tt)}),this.compression=8,this.flag=ba(q.level),this.terminate=this.d.terminate}return P.prototype.process=function($,q){this.d.push($,q)},P.prototype.push=function($,q){ha.prototype.push.call(this,$,q)},P})(),uo=(function(){function P($){this.ondata=$,this.u=[],this.d=1}return P.prototype.add=function($){var q=this;if(this.ondata||De(5),this.d&2)this.ondata(De(4+(this.d&1)*8,0,1),null,!1);else{var de=za($.filename),we=de.length,Me=$.comment,tt=Me&&za(Me),I=we!=$.filename.length||tt&&Me.length!=tt.length,C=we+fs($.extra)+30;we>65535&&this.ondata(De(11,0,1),null,!1);var O=new A(C);Uo(O,0,$,de,I,-1);var Q=[O],z=function(){for(var Se=0,Re=Q;Se<Re.length;Se++){var Ge=Re[Se];q.ondata(null,Ge,!1)}Q=[]},X=this.d;this.d=0;var fe=this.u.length,ie=Tn($,{f:de,u:I,o:tt,t:function(){$.terminate&&$.terminate()},r:function(){if(z(),X){var Se=q.u[fe+1];Se?Se.r():q.d=1}X=1}}),ae=0;$.ondata=function(Se,Re,Ge){if(Se)q.ondata(Se,Re,Ge),q.terminate();else if(ae+=Re.length,Q.push(Re),Ge){var et=new A(16);Nr(et,0,134695760),Nr(et,4,$.crc),Nr(et,8,ae),Nr(et,12,$.size),Q.push(et),ie.c=ae,ie.b=C+ae+16,ie.crc=$.crc,ie.size=$.size,X&&ie.r(),X=1}else X&&z()},this.u.push(ie)}},P.prototype.end=function(){var $=this;if(this.d&2){this.ondata(De(4+(this.d&1)*8,0,1),null,!0);return}this.d?this.e():this.u.push({r:function(){$.d&1&&($.u.splice(-1,1),$.e())},t:function(){}}),this.d=3},P.prototype.e=function(){for(var $=0,q=0,de=0,we=0,Me=this.u;we<Me.length;we++){var tt=Me[we];de+=46+tt.f.length+fs(tt.extra)+(tt.o?tt.o.length:0)}for(var I=new A(de+22),C=0,O=this.u;C<O.length;C++){var tt=O[C];Uo(I,$,tt,tt.f,tt.u,-tt.c-2,q,tt.o),$+=46+tt.f.length+fs(tt.extra)+(tt.o?tt.o.length:0),q+=tt.b}wa(I,$,this.u.length,de,q),this.ondata(null,I,!0),this.d=2},P.prototype.terminate=function(){for(var $=0,q=this.u;$<q.length;$++){var de=q[$];de.t()}this.d=2},P})();function Vs(P,$,q){q||(q=$,$={}),typeof q!="function"&&De(7);var de={};oc(P,"",de,$);var we=Object.keys(de),Me=we.length,tt=0,I=0,C=Me,O=new Array(Me),Q=[],z=function(){for(var Se=0;Se<Q.length;++Se)Q[Se]()},X=function(Se,Re){U(function(){q(Se,Re)})};U(function(){X=q});var fe=function(){var Se=new A(I+22),Re=tt,Ge=I-tt;I=0;for(var et=0;et<C;++et){var xe=O[et];try{var gt=xe.c.length;Uo(Se,I,xe,xe.f,xe.u,gt);var At=30+xe.f.length+fs(xe.extra),yt=I+At;Se.set(xe.c,yt),Uo(Se,tt,xe,xe.f,xe.u,gt,I,xe.m),tt+=16+At+(xe.m?xe.m.length:0),I=yt+gt}catch(qe){return X(qe,null)}}wa(Se,tt,O.length,Ge,Re),X(null,Se)};Me||fe();for(var ie=function(Se){var Re=we[Se],Ge=de[Re],et=Ge[0],xe=Ge[1],gt=yr(),At=et.length;gt.p(et);var yt=za(Re),qe=yt.length,jt=xe.comment,Ht=jt&&za(jt),St=Ht&&Ht.length,Ye=fs(xe.extra),Mt=xe.level==0?0:8,Ar=function(zt,Ct){if(zt)z(),X(zt,null);else{var cr=Ct.length;O[Se]=Tn(xe,{size:At,crc:gt.d(),c:Ct,f:yt,m:Ht,u:qe!=Re.length||Ht&&jt.length!=St,compression:Mt}),tt+=30+qe+Ye+cr,I+=76+2*(qe+Ye)+(St||0)+cr,--Me||fe()}};if(qe>65535&&Ar(De(11,0,1),null),!Mt)Ar(null,et);else if(At<16e4)try{Ar(null,Os(et,xe))}catch(zt){Ar(zt,null)}else Q.push($i(et,xe,Ar))},ae=0;ae<C;++ae)ie(ae);return z}function Ya(P,$){$||($={});var q={},de=[];oc(P,"",q,$);var we=0,Me=0;for(var tt in q){var I=q[tt],C=I[0],O=I[1],Q=O.level==0?0:8,z=za(tt),X=z.length,fe=O.comment,ie=fe&&za(fe),ae=ie&&ie.length,Se=fs(O.extra);X>65535&&De(11);var Re=Q?Os(C,O):C,Ge=Re.length,et=yr();et.p(C),de.push(Tn(O,{size:C.length,crc:et.d(),c:Re,f:z,m:ie,u:X!=tt.length||ie&&fe.length!=ae,o:we,compression:Q})),we+=30+X+Se+Ge,Me+=76+2*(X+Se)+(ae||0)+Ge}for(var xe=new A(Me+22),gt=we,At=Me-we,yt=0;yt<de.length;++yt){var z=de[yt];Uo(xe,z.o,z,z.f,z.u,z.c.length);var qe=30+z.f.length+fs(z.extra);xe.set(z.c,z.o+qe),Uo(xe,we,z,z.f,z.u,z.c.length,z.o,z.m),we+=16+qe+(z.m?z.m.length:0)}return wa(xe,we,de.length,At,gt),xe}var tl=(function(){function P(){}return P.prototype.push=function($,q){this.ondata(null,$,q)},P.compression=0,P})(),ho=(function(){function P(){var $=this;this.i=new bn(function(q,de){$.ondata(null,q,de)})}return P.prototype.push=function($,q){try{this.i.push($,q)}catch(de){this.ondata(de,null,q)}},P.compression=8,P})(),ll=(function(){function P($,q){var de=this;q<32e4?this.i=new bn(function(we,Me){de.ondata(null,we,Me)}):(this.i=new La(function(we,Me,tt){de.ondata(we,Me,tt)}),this.terminate=this.i.terminate)}return P.prototype.push=function($,q){this.i.terminate&&($=me($,0)),this.i.push($,q)},P.compression=8,P})(),Rt=(function(){function P($){this.onfile=$,this.k=[],this.o={0:tl},this.p=Bt}return P.prototype.push=function($,q){var de=this;if(this.onfile||De(5),this.p||De(4),this.c>0){var we=Math.min(this.c,$.length),Me=$.subarray(0,we);if(this.c-=we,this.d?this.d.push(Me,!this.c):this.k[0].push(Me),$=$.subarray(we),$.length)return this.push($,q)}else{var tt=0,I=0,C=void 0,O=void 0;this.p.length?$.length?(O=new A(this.p.length+$.length),O.set(this.p),O.set($,this.p.length)):O=this.p:O=$;for(var Q=O.length,z=this.c,X=z&&this.d,fe=function(){var Re,Ge=Vn(O,I);if(Ge==67324752){tt=1,C=I,ie.d=null,ie.c=0;var et=qr(O,I+6),xe=qr(O,I+8),gt=et&2048,At=et&8,yt=qr(O,I+26),qe=qr(O,I+28);if(Q>I+30+yt+qe){var jt=[];ie.k.unshift(jt),tt=2;var Ht=Vn(O,I+18),St=Vn(O,I+22),Ye=ci(O.subarray(I+30,I+=30+yt),!gt);Ht==4294967295?(Re=At?[-2]:pl(O,I),Ht=Re[0],St=Re[1]):At&&(Ht=-1),I+=qe,ie.c=Ht;var Mt,Ar={name:Ye,compression:xe,start:function(){if(Ar.ondata||De(5),!Ht)Ar.ondata(null,Bt,!0);else{var zt=de.o[xe];zt||Ar.ondata(De(14,"unknown compression type "+xe,1),null,!1),Mt=Ht<0?new zt(Ye):new zt(Ye,Ht,St),Mt.ondata=function(lt,_t,Tt){Ar.ondata(lt,_t,Tt)};for(var Ct=0,cr=jt;Ct<cr.length;Ct++){var Xe=cr[Ct];Mt.push(Xe,!1)}de.k[0]==jt&&de.c?de.d=Mt:Mt.push(Bt,!0)}},terminate:function(){Mt&&Mt.terminate&&Mt.terminate()}};Ht>=0&&(Ar.size=Ht,Ar.originalSize=St),ie.onfile(Ar)}return"break"}else if(z){if(Ge==134695760)return C=I+=12+(z==-2&&8),tt=3,ie.c=0,"break";if(Ge==33639248)return C=I-=4,tt=3,ie.c=0,"break"}},ie=this;I<Q-4;++I){var ae=fe();if(ae==="break")break}if(this.p=Bt,z<0){var Se=tt?O.subarray(0,C-12-(z==-2&&8)-(Vn(O,C-16)==134695760&&4)):O.subarray(0,I);X?X.push(Se,!!tt):this.k[+(tt==2)].push(Se)}if(tt&2)return this.push(O.subarray(I),q);this.p=O.subarray(I)}q&&(this.c&&De(13),this.p=null)},P.prototype.register=function($){this.o[$.compression]=$},P})(),U=typeof queueMicrotask=="function"?queueMicrotask:typeof setTimeout=="function"?setTimeout:function(P){P()};function Z(P,$,q){q||(q=$,$={}),typeof q!="function"&&De(7);var de=[],we=function(){for(var Se=0;Se<de.length;++Se)de[Se]()},Me={},tt=function(Se,Re){U(function(){q(Se,Re)})};U(function(){tt=q});for(var I=P.length-22;Vn(P,I)!=101010256;--I)if(!I||P.length-I>65558)return tt(De(13,0,1),null),we;var C=qr(P,I+8);if(C){var O=C,Q=Vn(P,I+16),z=Q==4294967295||O==65535;if(z){var X=Vn(P,I-12);z=Vn(P,X)==101075792,z&&(O=C=Vn(P,X+32),Q=Vn(P,X+48))}for(var fe=$&&$.filter,ie=function(Se){var Re=pa(P,Q,z),Ge=Re[0],et=Re[1],xe=Re[2],gt=Re[3],At=Re[4],yt=Re[5],qe=co(P,yt);Q=At;var jt=function(St,Ye){St?(we(),tt(St,null)):(Ye&&(Me[gt]=Ye),--C||tt(null,Me))};if(!fe||fe({name:gt,size:et,originalSize:xe,compression:Ge}))if(!Ge)jt(null,me(P,qe,qe+et));else if(Ge==8){var Ht=P.subarray(qe,qe+et);if(xe<524288||et>.8*xe)try{jt(null,Ts(Ht,{out:new A(xe)}))}catch(St){jt(St,null)}else de.push(ws(Ht,{size:xe},jt))}else jt(De(14,"unknown compression type "+Ge,1),null);else jt(null,null)},ae=0;ae<O;++ae)ie(ae)}else tt(null,{});return we}function te(P,$){for(var q={},de=P.length-22;Vn(P,de)!=101010256;--de)(!de||P.length-de>65558)&&De(13);var we=qr(P,de+8);if(!we)return{};var Me=Vn(P,de+16),tt=Me==4294967295||we==65535;if(tt){var I=Vn(P,de-12);tt=Vn(P,I)==101075792,tt&&(we=Vn(P,I+32),Me=Vn(P,I+48))}for(var C=$&&$.filter,O=0;O<we;++O){var Q=pa(P,Me,tt),z=Q[0],X=Q[1],fe=Q[2],ie=Q[3],ae=Q[4],Se=Q[5],Re=co(P,Se);Me=ae,(!C||C({name:ie,size:X,originalSize:fe,compression:z}))&&(z?z==8?q[ie]=Ts(P.subarray(Re,Re+X),{out:new A(fe)}):De(14,"unknown compression type "+z):q[ie]=me(P,Re,Re+X))}return q}}),"./node_modules/iobuffer/lib-esm/IOBuffer.js":(function(c,u,o){o.r(u),o.d(u,{IOBuffer:function(){return g}});var d=o("./node_modules/iobuffer/lib-esm/text.js");const f=1024*8,A=(()=>{const y=new Uint8Array(4),v=new Uint32Array(y.buffer);return!((v[0]=1)&y[0])})(),p={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class g{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(v=f,b={}){let w=!1;typeof v=="number"?v=new ArrayBuffer(v):(w=!0,this.lastWrittenByte=v.byteLength);const S=b.offset?b.offset>>>0:0,_=v.byteLength-S;let T=S;(ArrayBuffer.isView(v)||v instanceof g)&&(v.byteLength!==v.buffer.byteLength&&(T=v.byteOffset+S),v=v.buffer),w?this.lastWrittenByte=_:this.lastWrittenByte=0,this.buffer=v,this.length=_,this.byteLength=_,this.byteOffset=T,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,T,_),this._mark=0,this._marks=[]}available(v=1){return this.offset+v<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(v=1){return this.offset+=v,this}back(v=1){return this.offset-=v,this}seek(v){return this.offset=v,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const v=this._marks.pop();if(v===void 0)throw new Error("Mark stack empty");return this.seek(v),this}rewind(){return this.offset=0,this}ensureAvailable(v=1){if(!this.available(v)){const w=(this.offset+v)*2,S=new Uint8Array(w);S.set(new Uint8Array(this.buffer)),this.buffer=S.buffer,this.length=w,this.byteLength=w,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(v=1){return this.readArray(v,"uint8")}readArray(v,b){const w=p[b].BYTES_PER_ELEMENT*v,S=this.byteOffset+this.offset,_=this.buffer.slice(S,S+w);if(this.littleEndian===A&&b!=="uint8"&&b!=="int8"){const L=new Uint8Array(this.buffer.slice(S,S+w));L.reverse();const D=new p[b](L.buffer);return this.offset+=w,D.reverse(),D}const T=new p[b](_);return this.offset+=w,T}readInt16(){const v=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,v}readUint16(){const v=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,v}readInt32(){const v=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,v}readUint32(){const v=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,v}readFloat32(){const v=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,v}readFloat64(){const v=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,v}readBigInt64(){const v=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,v}readBigUint64(){const v=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,v}readChar(){return String.fromCharCode(this.readInt8())}readChars(v=1){let b="";for(let w=0;w<v;w++)b+=this.readChar();return b}readUtf8(v=1){return(0,d.decode)(this.readBytes(v))}decodeText(v=1,b="utf8"){return(0,d.decode)(this.readBytes(v),b)}writeBoolean(v){return this.writeUint8(v?255:0),this}writeInt8(v){return this.ensureAvailable(1),this._data.setInt8(this.offset++,v),this._updateLastWrittenByte(),this}writeUint8(v){return this.ensureAvailable(1),this._data.setUint8(this.offset++,v),this._updateLastWrittenByte(),this}writeByte(v){return this.writeUint8(v)}writeBytes(v){this.ensureAvailable(v.length);for(let b=0;b<v.length;b++)this._data.setUint8(this.offset++,v[b]);return this._updateLastWrittenByte(),this}writeInt16(v){return this.ensureAvailable(2),this._data.setInt16(this.offset,v,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(v){return this.ensureAvailable(2),this._data.setUint16(this.offset,v,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(v){return this.ensureAvailable(4),this._data.setInt32(this.offset,v,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(v){return this.ensureAvailable(4),this._data.setUint32(this.offset,v,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(v){return this.ensureAvailable(4),this._data.setFloat32(this.offset,v,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(v){return this.ensureAvailable(8),this._data.setFloat64(this.offset,v,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(v){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,v,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(v){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,v,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(v){return this.writeUint8(v.charCodeAt(0))}writeChars(v){for(let b=0;b<v.length;b++)this.writeUint8(v.charCodeAt(b));return this}writeUtf8(v){return this.writeBytes((0,d.encode)(v))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}}),"./node_modules/iobuffer/lib-esm/text.js":(function(c,u,o){o.r(u),o.d(u,{decode:function(){return d},encode:function(){return A}});function d(p,g="utf8"){return new TextDecoder(g).decode(p)}const f=new TextEncoder;function A(p){return f.encode(p)}}),"./node_modules/jspdf/dist/jspdf.es.min.js":(function(c,u,o){o.r(u),o.d(u,{AcroForm:function(){return Os},AcroFormAppearance:function(){return zr},AcroFormButton:function(){return Xr},AcroFormCheckBox:function(){return vs},AcroFormChoiceField:function(){return Vn},AcroFormComboBox:function(){return Nr},AcroFormEditBox:function(){return rn},AcroFormListBox:function(){return Qr},AcroFormPasswordField:function(){return $n},AcroFormPushButton:function(){return yn},AcroFormRadioButton:function(){return Wn},AcroFormTextField:function(){return ys},GState:function(){return ot},ShadingPattern:function(){return Ce},TilingPattern:function(){return Ze},default:function(){return ze},jsPDF:function(){return ze}});var d=o("./node_modules/@babel/runtime/helpers/esm/typeof.js"),f=o("./node_modules/fflate/esm/browser.js"),A=o("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),p=o("./node_modules/fast-png/lib-esm/index.js");var g=(function(){return typeof window<"u"?window:typeof b1<"u"?b1:typeof self<"u"?self:this})();function y(){g.console&&typeof g.console.log=="function"&&g.console.log.apply(g.console,arguments)}var v={log:y,warn:function(I){g.console&&(typeof g.console.warn=="function"?g.console.warn.apply(g.console,arguments):y.call(null,arguments))},error:function(I){g.console&&(typeof g.console.error=="function"?g.console.error.apply(g.console,arguments):y(I))}};function b(I,C,O){var Q=new XMLHttpRequest;Q.open("GET",I),Q.responseType="blob",Q.onload=function(){_(Q.response,C,O)},Q.onerror=function(){v.error("could not download file")},Q.send()}function w(I){var C=new XMLHttpRequest;C.open("HEAD",I,!1);try{C.send()}catch{}return C.status>=200&&C.status<=299}function S(I){try{I.dispatchEvent(new MouseEvent("click"))}catch{var C=document.createEvent("MouseEvents");C.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),I.dispatchEvent(C)}}var _=g.saveAs||((typeof window>"u"?"undefined":(0,d.default)(window))!=="object"||window!==g?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(I,C,O){var Q=g.URL||g.webkitURL,z=document.createElement("a");C=C||I.name||"download",z.download=C,z.rel="noopener",typeof I=="string"?(z.href=I,z.origin!==location.origin?w(z.href)?b(I,C,O):S(z,z.target="_blank"):S(z)):(z.href=Q.createObjectURL(I),setTimeout(function(){Q.revokeObjectURL(z.href)},4e4),setTimeout(function(){S(z)},0))}:"msSaveOrOpenBlob"in navigator?function(I,C,O){if(C=C||I.name||"download",typeof I=="string")if(w(I))b(I,C,O);else{var Q=document.createElement("a");Q.href=I,Q.target="_blank",setTimeout(function(){S(Q)})}else navigator.msSaveOrOpenBlob((function(z,X){return X===void 0?X={autoBom:!1}:(0,d.default)(X)!=="object"&&(v.warn("Deprecated: Expected third argument to be a object"),X={autoBom:!X}),X.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(z.type)?new Blob(["\uFEFF",z],{type:z.type}):z})(I,O),C)}:function(I,C,O,Q){if((Q=Q||open("","_blank"))&&(Q.document.title=Q.document.body.innerText="downloading..."),typeof I=="string")return b(I,C,O);var z=I.type==="application/octet-stream",X=/constructor/i.test(g.HTMLElement)||g.safari,fe=/CriOS\/[\d]+/.test(navigator.userAgent);if((fe||z&&X)&&(typeof FileReader>"u"?"undefined":(0,d.default)(FileReader))==="object"){var ie=new FileReader;ie.onloadend=function(){var Re=ie.result;Re=fe?Re:Re.replace(/^data:[^;]*;/,"data:attachment/file;"),Q?Q.location.href=Re:location=Re,Q=null},ie.readAsDataURL(I)}else{var ae=g.URL||g.webkitURL,Se=ae.createObjectURL(I);Q?Q.location=Se:location.href=Se,Q=null,setTimeout(function(){ae.revokeObjectURL(Se)},4e4)}});function T(I){var C;I=I||"",this.ok=!1,I.charAt(0)=="#"&&(I=I.substr(1,6)),I={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[I=(I=I.replace(/ /g,"")).toLowerCase()]||I;for(var O=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(ie){return[parseInt(ie[1]),parseInt(ie[2]),parseInt(ie[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(ie){return[parseInt(ie[1],16),parseInt(ie[2],16),parseInt(ie[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(ie){return[parseInt(ie[1]+ie[1],16),parseInt(ie[2]+ie[2],16),parseInt(ie[3]+ie[3],16)]}}],Q=0;Q<O.length;Q++){var z=O[Q].re,X=O[Q].process,fe=z.exec(I);fe&&(C=X(fe),this.r=C[0],this.g=C[1],this.b=C[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var ie=this.r.toString(16),ae=this.g.toString(16),Se=this.b.toString(16);return ie.length==1&&(ie="0"+ie),ae.length==1&&(ae="0"+ae),Se.length==1&&(Se="0"+Se),"#"+ie+ae+Se}}var L=g.atob.bind(g),D=g.btoa.bind(g);function V(I,C){var O=I[0],Q=I[1],z=I[2],X=I[3];O=J(O,Q,z,X,C[0],7,-680876936),X=J(X,O,Q,z,C[1],12,-389564586),z=J(z,X,O,Q,C[2],17,606105819),Q=J(Q,z,X,O,C[3],22,-1044525330),O=J(O,Q,z,X,C[4],7,-176418897),X=J(X,O,Q,z,C[5],12,1200080426),z=J(z,X,O,Q,C[6],17,-1473231341),Q=J(Q,z,X,O,C[7],22,-45705983),O=J(O,Q,z,X,C[8],7,1770035416),X=J(X,O,Q,z,C[9],12,-1958414417),z=J(z,X,O,Q,C[10],17,-42063),Q=J(Q,z,X,O,C[11],22,-1990404162),O=J(O,Q,z,X,C[12],7,1804603682),X=J(X,O,Q,z,C[13],12,-40341101),z=J(z,X,O,Q,C[14],17,-1502002290),O=ee(O,Q=J(Q,z,X,O,C[15],22,1236535329),z,X,C[1],5,-165796510),X=ee(X,O,Q,z,C[6],9,-1069501632),z=ee(z,X,O,Q,C[11],14,643717713),Q=ee(Q,z,X,O,C[0],20,-373897302),O=ee(O,Q,z,X,C[5],5,-701558691),X=ee(X,O,Q,z,C[10],9,38016083),z=ee(z,X,O,Q,C[15],14,-660478335),Q=ee(Q,z,X,O,C[4],20,-405537848),O=ee(O,Q,z,X,C[9],5,568446438),X=ee(X,O,Q,z,C[14],9,-1019803690),z=ee(z,X,O,Q,C[3],14,-187363961),Q=ee(Q,z,X,O,C[8],20,1163531501),O=ee(O,Q,z,X,C[13],5,-1444681467),X=ee(X,O,Q,z,C[2],9,-51403784),z=ee(z,X,O,Q,C[7],14,1735328473),O=ue(O,Q=ee(Q,z,X,O,C[12],20,-1926607734),z,X,C[5],4,-378558),X=ue(X,O,Q,z,C[8],11,-2022574463),z=ue(z,X,O,Q,C[11],16,1839030562),Q=ue(Q,z,X,O,C[14],23,-35309556),O=ue(O,Q,z,X,C[1],4,-1530992060),X=ue(X,O,Q,z,C[4],11,1272893353),z=ue(z,X,O,Q,C[7],16,-155497632),Q=ue(Q,z,X,O,C[10],23,-1094730640),O=ue(O,Q,z,X,C[13],4,681279174),X=ue(X,O,Q,z,C[0],11,-358537222),z=ue(z,X,O,Q,C[3],16,-722521979),Q=ue(Q,z,X,O,C[6],23,76029189),O=ue(O,Q,z,X,C[9],4,-640364487),X=ue(X,O,Q,z,C[12],11,-421815835),z=ue(z,X,O,Q,C[15],16,530742520),O=pe(O,Q=ue(Q,z,X,O,C[2],23,-995338651),z,X,C[0],6,-198630844),X=pe(X,O,Q,z,C[7],10,1126891415),z=pe(z,X,O,Q,C[14],15,-1416354905),Q=pe(Q,z,X,O,C[5],21,-57434055),O=pe(O,Q,z,X,C[12],6,1700485571),X=pe(X,O,Q,z,C[3],10,-1894986606),z=pe(z,X,O,Q,C[10],15,-1051523),Q=pe(Q,z,X,O,C[1],21,-2054922799),O=pe(O,Q,z,X,C[8],6,1873313359),X=pe(X,O,Q,z,C[15],10,-30611744),z=pe(z,X,O,Q,C[6],15,-1560198380),Q=pe(Q,z,X,O,C[13],21,1309151649),O=pe(O,Q,z,X,C[4],6,-145523070),X=pe(X,O,Q,z,C[11],10,-1120210379),z=pe(z,X,O,Q,C[2],15,718787259),Q=pe(Q,z,X,O,C[9],21,-343485551),I[0]=ve(O,I[0]),I[1]=ve(Q,I[1]),I[2]=ve(z,I[2]),I[3]=ve(X,I[3])}function G(I,C,O,Q,z,X){return C=ve(ve(C,I),ve(Q,X)),ve(C<<z|C>>>32-z,O)}function J(I,C,O,Q,z,X,fe){return G(C&O|~C&Q,I,C,z,X,fe)}function ee(I,C,O,Q,z,X,fe){return G(C&Q|O&~Q,I,C,z,X,fe)}function ue(I,C,O,Q,z,X,fe){return G(C^O^Q,I,C,z,X,fe)}function pe(I,C,O,Q,z,X,fe){return G(O^(C|~Q),I,C,z,X,fe)}function ge(I){var C,O=I.length,Q=[1732584193,-271733879,-1732584194,271733878];for(C=64;C<=I.length;C+=64)V(Q,he(I.substring(C-64,C)));I=I.substring(C-64);var z=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(C=0;C<I.length;C++)z[C>>2]|=I.charCodeAt(C)<<(C%4<<3);if(z[C>>2]|=128<<(C%4<<3),C>55)for(V(Q,z),C=0;C<16;C++)z[C]=0;return z[14]=8*O,V(Q,z),Q}function he(I){var C,O=[];for(C=0;C<64;C+=4)O[C>>2]=I.charCodeAt(C)+(I.charCodeAt(C+1)<<8)+(I.charCodeAt(C+2)<<16)+(I.charCodeAt(C+3)<<24);return O}var ne="0123456789abcdef".split("");function Ae(I){for(var C="",O=0;O<4;O++)C+=ne[I>>8*O+4&15]+ne[I>>8*O&15];return C}function oe(I){return String.fromCharCode(255&I,(65280&I)>>8,(16711680&I)>>16,(4278190080&I)>>24)}function Be(I){return ge(I).map(oe).join("")}var ke=(function(I){for(var C=0;C<I.length;C++)I[C]=Ae(I[C]);return I.join("")})(ge("hello"))!="5d41402abc4b2a76b9719d911017c592";function ve(I,C){if(ke){var O=(65535&I)+(65535&C);return(I>>16)+(C>>16)+(O>>16)<<16|65535&O}return I+C&4294967295}function se(I,C){var O,Q,z,X;if(I!==O){for(var fe=(z=I,X=1+(256/I.length|0),new Array(X+1).join(z)),ie=[],ae=0;ae<256;ae++)ie[ae]=ae;var Se=0;for(ae=0;ae<256;ae++){var Re=ie[ae];Se=(Se+Re+fe.charCodeAt(ae))%256,ie[ae]=ie[Se],ie[Se]=Re}O=I,Q=ie}else ie=Q;var Ge=C.length,et=0,xe=0,gt="";for(ae=0;ae<Ge;ae++)xe=(xe+(Re=ie[et=(et+1)%256]))%256,ie[et]=ie[xe],ie[xe]=Re,fe=ie[(ie[et]+ie[xe])%256],gt+=String.fromCharCode(C.charCodeAt(ae)^fe);return gt}var me={print:4,modify:8,copy:16,"annot-forms":32};function je(I,C,O,Q){this.v=1,this.r=2;var z=192;I.forEach(function(ie){if(me.perm!==void 0)throw new Error("Invalid permission: "+ie);z+=me[ie]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var X=(C+this.padding).substr(0,32),fe=(O+this.padding).substr(0,32);this.O=this.processOwnerPassword(X,fe),this.P=-(1+(255^z)),this.encryptionKey=Be(X+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(Q)).substr(0,5),this.U=se(this.encryptionKey,this.padding)}function Ue(I){if(/[^\u0000-\u00ff]/.test(I))throw new Error("Invalid PDF Name Object: "+I+", Only accept ASCII characters.");for(var C="",O=I.length,Q=0;Q<O;Q++){var z=I.charCodeAt(Q);C+=z<33||z===35||z===37||z===40||z===41||z===47||z===60||z===62||z===91||z===93||z===123||z===125||z>126?"#"+("0"+z.toString(16)).slice(-2):I[Q]}return C}function De(I){if((0,d.default)(I)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var C={};this.subscribe=function(O,Q,z){if(z=z||!1,typeof O!="string"||typeof Q!="function"||typeof z!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");C.hasOwnProperty(O)||(C[O]={});var X=Math.random().toString(35);return C[O][X]=[Q,!!z],X},this.unsubscribe=function(O){for(var Q in C)if(C[Q][O])return delete C[Q][O],Object.keys(C[Q]).length===0&&delete C[Q],!0;return!1},this.publish=function(O){if(C.hasOwnProperty(O)){var Q=Array.prototype.slice.call(arguments,1),z=[];for(var X in C[O]){var fe=C[O][X];try{fe[0].apply(I,Q)}catch(ie){g.console&&v.error("jsPDF PubSub Error",ie.message,ie)}fe[1]&&z.push(X)}z.length&&z.forEach(this.unsubscribe)}},this.getTopics=function(){return C}}function ot(I){if(!(this instanceof ot))return new ot(I);var C="opacity,stroke-opacity".split(",");for(var O in I)I.hasOwnProperty(O)&&C.indexOf(O)>=0&&(this[O]=I[O]);this.id="",this.objectNumber=-1}function ft(I,C){this.gState=I,this.matrix=C,this.id="",this.objectNumber=-1}function Ce(I,C,O,Q,z){if(!(this instanceof Ce))return new Ce(I,C,O,Q,z);this.type=I==="axial"?2:3,this.coords=C,this.colors=O,ft.call(this,Q,z)}function Ze(I,C,O,Q,z){if(!(this instanceof Ze))return new Ze(I,C,O,Q,z);this.boundingBox=I,this.xStep=C,this.yStep=O,this.stream="",this.cloneIndex=0,ft.call(this,Q,z)}function ze(I){var C,O=typeof arguments[0]=="string"?arguments[0]:"p",Q=arguments[1],z=arguments[2],X=arguments[3],fe=[],ie=1,ae=16,Se="S",Re=null;(0,d.default)(I=I||{})==="object"&&(O=I.orientation,Q=I.unit||Q,z=I.format||z,X=I.compress||I.compressPdf||X,(Re=I.encryption||null)!==null&&(Re.userPassword=Re.userPassword||"",Re.ownerPassword=Re.ownerPassword||"",Re.userPermissions=Re.userPermissions||[]),ie=typeof I.userUnit=="number"?Math.abs(I.userUnit):1,I.precision!==void 0&&(C=I.precision),I.floatPrecision!==void 0&&(ae=I.floatPrecision),Se=I.defaultPathOperation||"S"),fe=I.filters||(X===!0?["FlateEncode"]:fe),Q=Q||"mm",O=(""+(O||"P")).toLowerCase();var Ge=I.putOnlyUsedFonts||!1,et={},xe={internal:{},__private__:{}};xe.__private__.PubSub=De;var gt="1.3",At=xe.__private__.getPdfVersion=function(){return gt};xe.__private__.setPdfVersion=function(re){gt=re};var yt={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};xe.__private__.getPageFormats=function(){return yt};var qe=xe.__private__.getPageFormat=function(re){return yt[re]};z=z||"a4";var jt="compat",Ht="advanced",St=jt;function Ye(){this.saveGraphicsState(),st(new xi(vi,0,0,-vi,0,zd()*vi).toString()+" cm"),this.setFontSize(this.getFontSize()/vi),Se="n",St=Ht}function Mt(){this.restoreGraphicsState(),Se="S",St=jt}var Ar=xe.__private__.combineFontStyleAndFontWeight=function(re,Ne){if(re=="bold"&&Ne=="normal"||re=="bold"&&Ne==400||re=="normal"&&Ne=="italic"||re=="bold"&&Ne=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Ne&&(re=Ne==400||Ne==="normal"?re==="italic"?"italic":"normal":Ne!=700&&Ne!=="bold"||re!=="normal"?(Ne==700?"bold":Ne)+""+re:"bold"),re};xe.advancedAPI=function(re){var Ne=St===jt;return Ne&&Ye.call(this),typeof re!="function"||(re(this),Ne&&Mt.call(this)),this},xe.compatAPI=function(re){var Ne=St===Ht;return Ne&&Mt.call(this),typeof re!="function"||(re(this),Ne&&Ye.call(this)),this},xe.isAdvancedAPI=function(){return St===Ht};var zt,Ct=function(re){if(St!==Ht)throw new Error(re+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},cr=xe.roundToPrecision=xe.__private__.roundToPrecision=function(re,Ne){var dt=C||Ne;if(isNaN(re)||isNaN(dt))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return re.toFixed(dt).replace(/0+$/,"")};zt=xe.hpf=xe.__private__.hpf=typeof ae=="number"?function(re){if(isNaN(re))throw new Error("Invalid argument passed to jsPDF.hpf");return cr(re,ae)}:ae==="smart"?function(re){if(isNaN(re))throw new Error("Invalid argument passed to jsPDF.hpf");return cr(re,re>-1&&re<1?16:5)}:function(re){if(isNaN(re))throw new Error("Invalid argument passed to jsPDF.hpf");return cr(re,16)};var Xe=xe.f2=xe.__private__.f2=function(re){if(isNaN(re))throw new Error("Invalid argument passed to jsPDF.f2");return cr(re,2)},lt=xe.__private__.f3=function(re){if(isNaN(re))throw new Error("Invalid argument passed to jsPDF.f3");return cr(re,3)},_t=xe.scale=xe.__private__.scale=function(re){if(isNaN(re))throw new Error("Invalid argument passed to jsPDF.scale");return St===jt?re*vi:St===Ht?re:void 0},Tt=function(re){return _t((function(Ne){return St===jt?zd()-Ne:St===Ht?Ne:void 0})(re))};xe.__private__.setPrecision=xe.setPrecision=function(re){typeof parseInt(re,10)=="number"&&(C=parseInt(re,10))};var dr,pr="00000000000000000000000000000000",Er=xe.__private__.getFileId=function(){return pr},Xt=xe.__private__.setFileId=function(re){return pr=re!==void 0&&/^[a-fA-F0-9]{32}$/.test(re)?re.toUpperCase():pr.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),Re!==null&&($o=new je(Re.userPermissions,Re.userPassword,Re.ownerPassword,pr)),pr};xe.setFileId=function(re){return Xt(re),this},xe.getFileId=function(){return Er()};var vr=xe.__private__.convertDateToPDFDate=function(re){var Ne=re.getTimezoneOffset(),dt=Ne<0?"+":"-",wt=Math.floor(Math.abs(Ne/60)),Vt=Math.abs(Ne%60),Cr=[dt,bt(wt),"'",bt(Vt),"'"].join("");return["D:",re.getFullYear(),bt(re.getMonth()+1),bt(re.getDate()),bt(re.getHours()),bt(re.getMinutes()),bt(re.getSeconds()),Cr].join("")},en=xe.__private__.convertPDFDateToDate=function(re){var Ne=parseInt(re.substr(2,4),10),dt=parseInt(re.substr(6,2),10)-1,wt=parseInt(re.substr(8,2),10),Vt=parseInt(re.substr(10,2),10),Cr=parseInt(re.substr(12,2),10),Dr=parseInt(re.substr(14,2),10);return new Date(Ne,dt,wt,Vt,Cr,Dr,0)},$r=xe.__private__.setCreationDate=function(re){var Ne;if(re===void 0&&(re=new Date),re instanceof Date)Ne=vr(re);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(re))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Ne=re}return dr=Ne},Qe=xe.__private__.getCreationDate=function(re){var Ne=dr;return re==="jsDate"&&(Ne=en(dr)),Ne};xe.setCreationDate=function(re){return $r(re),this},xe.getCreationDate=function(re){return Qe(re)};var vt,bt=xe.__private__.padd2=function(re){return("0"+parseInt(re)).slice(-2)},Ft=xe.__private__.padd2Hex=function(re){return("00"+(re=re.toString())).substr(re.length)},Qt=0,nr=[],xr=[],br=0,Lr=[],tn=[],En=!1,wn=xr;xe.__private__.setCustomOutputDestination=function(re){En=!0,wn=re};var ui=function(re){En||(wn=re)};xe.__private__.resetCustomOutputDestination=function(){En=!1,wn=xr};var st=xe.__private__.out=function(re){return re=re.toString(),br+=re.length+1,wn.push(re),wn},An=xe.__private__.write=function(re){return st(arguments.length===1?re.toString():Array.prototype.join.call(arguments," "))},_i=xe.__private__.getArrayBuffer=function(re){for(var Ne=re.length,dt=new ArrayBuffer(Ne),wt=new Uint8Array(dt);Ne--;)wt[Ne]=re.charCodeAt(Ne);return dt},ln=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];xe.__private__.getStandardFonts=function(){return ln};var Hr=I.fontSize||16;xe.__private__.setFontSize=xe.setFontSize=function(re){return Hr=St===Ht?re/vi:re,this};var mi,Sn=xe.__private__.getFontSize=xe.getFontSize=function(){return St===jt?Hr:Hr*vi},ai=I.R2L||!1;xe.__private__.setR2L=xe.setR2L=function(re){return ai=re,this},xe.__private__.getR2L=xe.getR2L=function(){return ai};var Kn,Zs=xe.__private__.setZoomMode=function(re){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(re))mi=re;else if(isNaN(re)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(re)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+re+'" is not recognized.');mi=re}else mi=parseInt(re,10)};xe.__private__.getZoomMode=function(){return mi};var Qi,Bn=xe.__private__.setPageMode=function(re){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(re)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+re+'" is not recognized.');Kn=re};xe.__private__.getPageMode=function(){return Kn};var cs=xe.__private__.setLayoutMode=function(re){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(re)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+re+'" is not recognized.');Qi=re};xe.__private__.getLayoutMode=function(){return Qi},xe.__private__.setDisplayMode=xe.setDisplayMode=function(re,Ne,dt){return Zs(re),cs(Ne),Bn(dt),this};var di={title:"",subject:"",author:"",keywords:"",creator:""};xe.__private__.getDocumentProperty=function(re){if(Object.keys(di).indexOf(re)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return di[re]},xe.__private__.getDocumentProperties=function(){return di},xe.__private__.setDocumentProperties=xe.setProperties=xe.setDocumentProperties=function(re){for(var Ne in di)di.hasOwnProperty(Ne)&&re[Ne]&&(di[Ne]=re[Ne]);return this},xe.__private__.setDocumentProperty=function(re,Ne){if(Object.keys(di).indexOf(re)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return di[re]=Ne};var Ln,vi,Gn,Bi,As,Gi={},ns={},Ea=[],oi={},ga={},ji={},ri={},Ys=null,Pi=0,fn=[],Xi=new De(xe),Fd=I.hotfixes||[],Co={},cl={},xu=[],xi=function re(Ne,dt,wt,Vt,Cr,Dr){if(!(this instanceof re))return new re(Ne,dt,wt,Vt,Cr,Dr);isNaN(Ne)&&(Ne=1),isNaN(dt)&&(dt=0),isNaN(wt)&&(wt=0),isNaN(Vt)&&(Vt=1),isNaN(Cr)&&(Cr=0),isNaN(Dr)&&(Dr=0),this._matrix=[Ne,dt,wt,Vt,Cr,Dr]};Object.defineProperty(xi.prototype,"sx",{get:function(){return this._matrix[0]},set:function(re){this._matrix[0]=re}}),Object.defineProperty(xi.prototype,"shy",{get:function(){return this._matrix[1]},set:function(re){this._matrix[1]=re}}),Object.defineProperty(xi.prototype,"shx",{get:function(){return this._matrix[2]},set:function(re){this._matrix[2]=re}}),Object.defineProperty(xi.prototype,"sy",{get:function(){return this._matrix[3]},set:function(re){this._matrix[3]=re}}),Object.defineProperty(xi.prototype,"tx",{get:function(){return this._matrix[4]},set:function(re){this._matrix[4]=re}}),Object.defineProperty(xi.prototype,"ty",{get:function(){return this._matrix[5]},set:function(re){this._matrix[5]=re}}),Object.defineProperty(xi.prototype,"a",{get:function(){return this._matrix[0]},set:function(re){this._matrix[0]=re}}),Object.defineProperty(xi.prototype,"b",{get:function(){return this._matrix[1]},set:function(re){this._matrix[1]=re}}),Object.defineProperty(xi.prototype,"c",{get:function(){return this._matrix[2]},set:function(re){this._matrix[2]=re}}),Object.defineProperty(xi.prototype,"d",{get:function(){return this._matrix[3]},set:function(re){this._matrix[3]=re}}),Object.defineProperty(xi.prototype,"e",{get:function(){return this._matrix[4]},set:function(re){this._matrix[4]=re}}),Object.defineProperty(xi.prototype,"f",{get:function(){return this._matrix[5]},set:function(re){this._matrix[5]=re}}),Object.defineProperty(xi.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(xi.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(xi.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(xi.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),xi.prototype.join=function(re){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(zt).join(re)},xi.prototype.multiply=function(re){var Ne=re.sx*this.sx+re.shy*this.shx,dt=re.sx*this.shy+re.shy*this.sy,wt=re.shx*this.sx+re.sy*this.shx,Vt=re.shx*this.shy+re.sy*this.sy,Cr=re.tx*this.sx+re.ty*this.shx+this.tx,Dr=re.tx*this.shy+re.ty*this.sy+this.ty;return new xi(Ne,dt,wt,Vt,Cr,Dr)},xi.prototype.decompose=function(){var re=this.sx,Ne=this.shy,dt=this.shx,wt=this.sy,Vt=this.tx,Cr=this.ty,Dr=Math.sqrt(re*re+Ne*Ne),Rn=(re/=Dr)*dt+(Ne/=Dr)*wt;dt-=re*Rn,wt-=Ne*Rn;var On=Math.sqrt(dt*dt+wt*wt);return Rn/=On,re*(wt/=On)<Ne*(dt/=On)&&(re=-re,Ne=-Ne,Rn=-Rn,Dr=-Dr),{scale:new xi(Dr,0,0,On,0,0),translate:new xi(1,0,0,1,Vt,Cr),rotate:new xi(re,Ne,-Ne,re,0,0),skew:new xi(1,0,Rn,1,0,0)}},xi.prototype.toString=function(re){return this.join(" ")},xi.prototype.inversed=function(){var re=this.sx,Ne=this.shy,dt=this.shx,wt=this.sy,Vt=this.tx,Cr=this.ty,Dr=1/(re*wt-Ne*dt),Rn=wt*Dr,On=-Ne*Dr,Ni=-dt*Dr,Di=re*Dr;return new xi(Rn,On,Ni,Di,-Rn*Vt-Ni*Cr,-On*Vt-Di*Cr)},xi.prototype.applyToPoint=function(re){var Ne=re.x*this.sx+re.y*this.shx+this.tx,dt=re.x*this.shy+re.y*this.sy+this.ty;return new kc(Ne,dt)},xi.prototype.applyToRectangle=function(re){var Ne=this.applyToPoint(re),dt=this.applyToPoint(new kc(re.x+re.w,re.y+re.h));return new Ju(Ne.x,Ne.y,dt.x-Ne.x,dt.y-Ne.y)},xi.prototype.clone=function(){var re=this.sx,Ne=this.shy,dt=this.shx,wt=this.sy,Vt=this.tx,Cr=this.ty;return new xi(re,Ne,dt,wt,Vt,Cr)},xe.Matrix=xi;var $a=xe.matrixMult=function(re,Ne){return Ne.multiply(re)},qa=new xi(1,0,0,1,0,0);xe.unitMatrix=xe.identityMatrix=qa;var lc=function(re,Ne){if(!ga[re]){var dt=(Ne instanceof Ce?"Sh":"P")+(Object.keys(oi).length+1).toString(10);Ne.id=dt,ga[re]=dt,oi[dt]=Ne,Xi.publish("addPattern",Ne)}};xe.ShadingPattern=Ce,xe.TilingPattern=Ze,xe.addShadingPattern=function(re,Ne){return Ct("addShadingPattern()"),lc(re,Ne),this},xe.beginTilingPattern=function(re){Ct("beginTilingPattern()"),fc(re.boundingBox[0],re.boundingBox[1],re.boundingBox[2]-re.boundingBox[0],re.boundingBox[3]-re.boundingBox[1],re.matrix)},xe.endTilingPattern=function(re,Ne){Ct("endTilingPattern()"),Ne.stream=tn[vt].join(`
`),lc(re,Ne),Xi.publish("endTilingPattern",Ne),xu.pop().restore()};var Rl,fa=xe.__private__.newObject=function(){var re=Xa();return Ha(re,!0),re},Xa=xe.__private__.newObjectDeferred=function(){return Qt++,nr[Qt]=function(){return br},Qt},Ha=function(re,Ne){return Ne=typeof Ne=="boolean"&&Ne,nr[re]=br,Ne&&st(re+" 0 obj"),re},zc=xe.__private__.newAdditionalObject=function(){var re={objId:Xa(),content:""};return Lr.push(re),re},jo=Xa(),Sc=Xa(),gl=xe.__private__.decodeColorString=function(re){var Ne=re.split(" ");if(Ne.length!==2||Ne[1]!=="g"&&Ne[1]!=="G")Ne.length!==5||Ne[4]!=="k"&&Ne[4]!=="K"||(Ne=[(1-Ne[0])*(1-Ne[3]),(1-Ne[1])*(1-Ne[3]),(1-Ne[2])*(1-Ne[3]),"r"]);else{var dt=parseFloat(Ne[0]);Ne=[dt,dt,dt,"r"]}for(var wt="#",Vt=0;Vt<3;Vt++)wt+=("0"+Math.floor(255*parseFloat(Ne[Vt])).toString(16)).slice(-2);return wt},Wc=xe.__private__.encodeColorString=function(re){var Ne;typeof re=="string"&&(re={ch1:re});var dt=re.ch1,wt=re.ch2,Vt=re.ch3,Cr=re.ch4,Dr=re.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof dt=="string"&&dt.charAt(0)!=="#"){var Rn=new T(dt);if(Rn.ok)dt=Rn.toHex();else if(!/^\d*\.?\d*$/.test(dt))throw new Error('Invalid color "'+dt+'" passed to jsPDF.encodeColorString.')}if(typeof dt=="string"&&/^#[0-9A-Fa-f]{3}$/.test(dt)&&(dt="#"+dt[1]+dt[1]+dt[2]+dt[2]+dt[3]+dt[3]),typeof dt=="string"&&/^#[0-9A-Fa-f]{6}$/.test(dt)){var On=parseInt(dt.substr(1),16);dt=On>>16&255,wt=On>>8&255,Vt=255&On}if(wt===void 0||Cr===void 0&&dt===wt&&wt===Vt)Ne=typeof dt=="string"?dt+" "+Dr[0]:re.precision===2?Xe(dt/255)+" "+Dr[0]:lt(dt/255)+" "+Dr[0];else if(Cr===void 0||(0,d.default)(Cr)==="object"){if(Cr&&!isNaN(Cr.a)&&Cr.a===0)return["1.","1.","1.",Dr[1]].join(" ");Ne=typeof dt=="string"?[dt,wt,Vt,Dr[1]].join(" "):re.precision===2?[Xe(dt/255),Xe(wt/255),Xe(Vt/255),Dr[1]].join(" "):[lt(dt/255),lt(wt/255),lt(Vt/255),Dr[1]].join(" ")}else Ne=typeof dt=="string"?[dt,wt,Vt,Cr,Dr[2]].join(" "):re.precision===2?[Xe(dt),Xe(wt),Xe(Vt),Xe(Cr),Dr[2]].join(" "):[lt(dt),lt(wt),lt(Vt),lt(Cr),Dr[2]].join(" ");return Ne},Ol=xe.__private__.getFilters=function(){return fe},_c=xe.__private__.putStream=function(re){var Ne=(re=re||{}).data||"",dt=re.filters||Ol(),wt=re.alreadyAppliedFilters||[],Vt=re.addLength1||!1,Cr=Ne.length,Dr=re.objectId,Rn=function(fo){return fo};if(Re!==null&&Dr===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");Re!==null&&(Rn=$o.encryptor(Dr,0));var On={};dt===!0&&(dt=["FlateEncode"]);var Ni=re.additionalKeyValues||[],Di=(On=ze.API.processDataByFilters!==void 0?ze.API.processDataByFilters(Ne,dt):{data:Ne,reverseChain:[]}).reverseChain+(Array.isArray(wt)?wt.join(" "):wt.toString());if(On.data.length!==0&&(Ni.push({key:"Length",value:On.data.length}),Vt===!0&&Ni.push({key:"Length1",value:Cr})),Di.length!=0)if(Di.split("/").length-1==1)Ni.push({key:"Filter",value:Di});else{Ni.push({key:"Filter",value:"["+Di+"]"});for(var js=0;js<Ni.length;js+=1)if(Ni[js].key==="DecodeParms"){for(var oa=[],Ja=0;Ja<On.reverseChain.split("/").length-1;Ja+=1)oa.push("null");oa.push(Ni[js].value),Ni[js].value="["+oa.join(" ")+"]"}}st("<<");for(var Js=0;Js<Ni.length;Js++)st("/"+Ni[Js].key+" "+Ni[Js].value);st(">>"),On.data.length!==0&&(st("stream"),st(Rn(On.data)),st("endstream"))},Ud=xe.__private__.putPage=function(re){var Ne=re.number,dt=re.data,wt=re.objId,Vt=re.contentsObjId;Ha(wt,!0),st("<</Type /Page"),st("/Parent "+re.rootDictionaryObjId+" 0 R"),st("/Resources "+re.resourceDictionaryObjId+" 0 R"),st("/MediaBox ["+parseFloat(zt(re.mediaBox.bottomLeftX))+" "+parseFloat(zt(re.mediaBox.bottomLeftY))+" "+zt(re.mediaBox.topRightX)+" "+zt(re.mediaBox.topRightY)+"]"),re.cropBox!==null&&st("/CropBox ["+zt(re.cropBox.bottomLeftX)+" "+zt(re.cropBox.bottomLeftY)+" "+zt(re.cropBox.topRightX)+" "+zt(re.cropBox.topRightY)+"]"),re.bleedBox!==null&&st("/BleedBox ["+zt(re.bleedBox.bottomLeftX)+" "+zt(re.bleedBox.bottomLeftY)+" "+zt(re.bleedBox.topRightX)+" "+zt(re.bleedBox.topRightY)+"]"),re.trimBox!==null&&st("/TrimBox ["+zt(re.trimBox.bottomLeftX)+" "+zt(re.trimBox.bottomLeftY)+" "+zt(re.trimBox.topRightX)+" "+zt(re.trimBox.topRightY)+"]"),re.artBox!==null&&st("/ArtBox ["+zt(re.artBox.bottomLeftX)+" "+zt(re.artBox.bottomLeftY)+" "+zt(re.artBox.topRightX)+" "+zt(re.artBox.topRightY)+"]"),typeof re.userUnit=="number"&&re.userUnit!==1&&st("/UserUnit "+re.userUnit),Xi.publish("putPage",{objId:wt,pageContext:fn[Ne],pageNumber:Ne,page:dt}),st("/Contents "+Vt+" 0 R"),st(">>"),st("endobj");var Cr=dt.join(`
`);return St===Ht&&(Cr+=`
Q`),Ha(Vt,!0),_c({data:Cr,filters:Ol(),objectId:Vt}),st("endobj"),wt},Tc=xe.__private__.putPages=function(){var re,Ne,dt=[];for(re=1;re<=Pi;re++)fn[re].objId=Xa(),fn[re].contentsObjId=Xa();for(re=1;re<=Pi;re++)dt.push(Ud({number:re,data:tn[re],objId:fn[re].objId,contentsObjId:fn[re].contentsObjId,mediaBox:fn[re].mediaBox,cropBox:fn[re].cropBox,bleedBox:fn[re].bleedBox,trimBox:fn[re].trimBox,artBox:fn[re].artBox,userUnit:fn[re].userUnit,rootDictionaryObjId:jo,resourceDictionaryObjId:Sc}));Ha(jo,!0),st("<</Type /Pages");var wt="/Kids [";for(Ne=0;Ne<Pi;Ne++)wt+=dt[Ne]+" 0 R ";st(wt+"]"),st("/Count "+Pi),st(">>"),st("endobj"),Xi.publish("postPutPages")},Pl=function(re){Xi.publish("putFont",{font:re,out:st,newObject:fa,putStream:_c}),re.isAlreadyPutted!==!0&&(re.objectNumber=fa(),st("<<"),st("/Type /Font"),st("/BaseFont /"+Ue(re.postScriptName)),st("/Subtype /Type1"),typeof re.encoding=="string"&&st("/Encoding /"+re.encoding),st("/FirstChar 32"),st("/LastChar 255"),st(">>"),st("endobj"))},gd=function(re){re.objectNumber=fa();var Ne=[];Ne.push({key:"Type",value:"/XObject"}),Ne.push({key:"Subtype",value:"/Form"}),Ne.push({key:"BBox",value:"["+[zt(re.x),zt(re.y),zt(re.x+re.width),zt(re.y+re.height)].join(" ")+"]"}),Ne.push({key:"Matrix",value:"["+re.matrix.toString()+"]"});var dt=re.pages[1].join(`
`);_c({data:dt,additionalKeyValues:Ne,objectId:re.objectNumber}),st("endobj")},$d=function(re,Ne){Ne||(Ne=21);var dt=fa(),wt=(function(Dr,Rn){var On,Ni=[],Di=1/(Rn-1);for(On=0;On<1;On+=Di)Ni.push(On);if(Ni.push(1),Dr[0].offset!=0){var js={offset:0,color:Dr[0].color};Dr.unshift(js)}if(Dr[Dr.length-1].offset!=1){var oa={offset:1,color:Dr[Dr.length-1].color};Dr.push(oa)}for(var Ja="",Js=0,fo=0;fo<Ni.length;fo++){for(On=Ni[fo];On>Dr[Js+1].offset;)Js++;var k=Dr[Js].offset,Te=(On-k)/(Dr[Js+1].offset-k),Y=Dr[Js].color,He=Dr[Js+1].color;Ja+=Ft(Math.round((1-Te)*Y[0]+Te*He[0]).toString(16))+Ft(Math.round((1-Te)*Y[1]+Te*He[1]).toString(16))+Ft(Math.round((1-Te)*Y[2]+Te*He[2]).toString(16))}return Ja.trim()})(re.colors,Ne),Vt=[];Vt.push({key:"FunctionType",value:"0"}),Vt.push({key:"Domain",value:"[0.0 1.0]"}),Vt.push({key:"Size",value:"["+Ne+"]"}),Vt.push({key:"BitsPerSample",value:"8"}),Vt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Vt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),_c({data:wt,additionalKeyValues:Vt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:dt}),st("endobj"),re.objectNumber=fa(),st("<< /ShadingType "+re.type),st("/ColorSpace /DeviceRGB");var Cr="/Coords ["+zt(parseFloat(re.coords[0]))+" "+zt(parseFloat(re.coords[1]))+" ";re.type===2?Cr+=zt(parseFloat(re.coords[2]))+" "+zt(parseFloat(re.coords[3])):Cr+=zt(parseFloat(re.coords[2]))+" "+zt(parseFloat(re.coords[3]))+" "+zt(parseFloat(re.coords[4]))+" "+zt(parseFloat(re.coords[5])),st(Cr+="]"),re.matrix&&st("/Matrix ["+re.matrix.toString()+"]"),st("/Function "+dt+" 0 R"),st("/Extend [true true]"),st(">>"),st("endobj")},qu=function(re,Ne){var dt=Xa(),wt=fa();Ne.push({resourcesOid:dt,objectOid:wt}),re.objectNumber=wt;var Vt=[];Vt.push({key:"Type",value:"/Pattern"}),Vt.push({key:"PatternType",value:"1"}),Vt.push({key:"PaintType",value:"1"}),Vt.push({key:"TilingType",value:"1"}),Vt.push({key:"BBox",value:"["+re.boundingBox.map(zt).join(" ")+"]"}),Vt.push({key:"XStep",value:zt(re.xStep)}),Vt.push({key:"YStep",value:zt(re.yStep)}),Vt.push({key:"Resources",value:dt+" 0 R"}),re.matrix&&Vt.push({key:"Matrix",value:"["+re.matrix.toString()+"]"}),_c({data:re.stream,additionalKeyValues:Vt,objectId:re.objectNumber}),st("endobj")},cc=function(re){for(var Ne in re.objectNumber=fa(),st("<<"),re)switch(Ne){case"opacity":st("/ca "+Xe(re[Ne]));break;case"stroke-opacity":st("/CA "+Xe(re[Ne]))}st(">>"),st("endobj")},vd=function(re){Ha(re.resourcesOid,!0),st("<<"),st("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var Ne in st("/Font <<"),Gi)Gi.hasOwnProperty(Ne)&&(Ge===!1||Ge===!0&&et.hasOwnProperty(Ne))&&st("/"+Ne+" "+Gi[Ne].objectNumber+" 0 R");st(">>")})(),(function(){if(Object.keys(oi).length>0){for(var Ne in st("/Shading <<"),oi)oi.hasOwnProperty(Ne)&&oi[Ne]instanceof Ce&&oi[Ne].objectNumber>=0&&st("/"+Ne+" "+oi[Ne].objectNumber+" 0 R");Xi.publish("putShadingPatternDict"),st(">>")}})(),(function(Ne){if(Object.keys(oi).length>0){for(var dt in st("/Pattern <<"),oi)oi.hasOwnProperty(dt)&&oi[dt]instanceof xe.TilingPattern&&oi[dt].objectNumber>=0&&oi[dt].objectNumber<Ne&&st("/"+dt+" "+oi[dt].objectNumber+" 0 R");Xi.publish("putTilingPatternDict"),st(">>")}})(re.objectOid),(function(){if(Object.keys(ji).length>0){var Ne;for(Ne in st("/ExtGState <<"),ji)ji.hasOwnProperty(Ne)&&ji[Ne].objectNumber>=0&&st("/"+Ne+" "+ji[Ne].objectNumber+" 0 R");Xi.publish("putGStateDict"),st(">>")}})(),(function(){for(var Ne in st("/XObject <<"),Co)Co.hasOwnProperty(Ne)&&Co[Ne].objectNumber>=0&&st("/"+Ne+" "+Co[Ne].objectNumber+" 0 R");Xi.publish("putXobjectDict"),st(">>")})(),st(">>"),st("endobj")},Dl=function(re){ns[re.fontName]=ns[re.fontName]||{},ns[re.fontName][re.fontStyle]=re.id},Yc=function(re,Ne,dt,wt,Vt){var Cr={id:"F"+(Object.keys(Gi).length+1).toString(10),postScriptName:re,fontName:Ne,fontStyle:dt,encoding:wt,isStandardFont:Vt||!1,metadata:{}};return Xi.publish("addFont",{font:Cr,instance:this}),Gi[Cr.id]=Cr,Dl(Cr),Cr.id},vl=xe.__private__.pdfEscape=xe.pdfEscape=function(re,Ne){return(function(dt,wt){var Vt,Cr,Dr,Rn,On,Ni,Di,js,oa;if(Dr=(wt=wt||{}).sourceEncoding||"Unicode",On=wt.outputEncoding,(wt.autoencode||On)&&Gi[Ln].metadata&&Gi[Ln].metadata[Dr]&&Gi[Ln].metadata[Dr].encoding&&(Rn=Gi[Ln].metadata[Dr].encoding,!On&&Gi[Ln].encoding&&(On=Gi[Ln].encoding),!On&&Rn.codePages&&(On=Rn.codePages[0]),typeof On=="string"&&(On=Rn[On]),On)){for(Di=!1,Ni=[],Vt=0,Cr=dt.length;Vt<Cr;Vt++)(js=On[dt.charCodeAt(Vt)])?Ni.push(String.fromCharCode(js)):Ni.push(dt[Vt]),Ni[Vt].charCodeAt(0)>>8&&(Di=!0);dt=Ni.join("")}for(Vt=dt.length;Di===void 0&&Vt!==0;)dt.charCodeAt(Vt-1)>>8&&(Di=!0),Vt--;if(!Di)return dt;for(Ni=wt.noBOM?[]:[254,255],Vt=0,Cr=dt.length;Vt<Cr;Vt++){if((oa=(js=dt.charCodeAt(Vt))>>8)>>8)throw new Error("Character at position "+Vt+" of string '"+dt+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ni.push(oa),Ni.push(js-(oa<<8))}return String.fromCharCode.apply(void 0,Ni)})(re,Ne).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Xu=xe.__private__.beginPage=function(re){tn[++Pi]=[],fn[Pi]={objId:0,contentsObjId:0,userUnit:Number(ie),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(re[0]),topRightY:Number(re[1])}},bu(Pi),ui(tn[vt])},yd=function(re,Ne){var dt,wt,Vt;switch(O=Ne||O,typeof re=="string"&&(dt=qe(re.toLowerCase()),Array.isArray(dt)&&(wt=dt[0],Vt=dt[1])),Array.isArray(re)&&(wt=re[0]*vi,Vt=re[1]*vi),isNaN(wt)&&(wt=z[0],Vt=z[1]),(wt>14400||Vt>14400)&&(v.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),wt=Math.min(14400,wt),Vt=Math.min(14400,Vt)),z=[wt,Vt],O.substr(0,1)){case"l":Vt>wt&&(z=[Vt,wt]);break;case"p":wt>Vt&&(z=[Vt,wt])}Xu(z),mn(No),st(Qo),$l!==0&&st($l+" J"),hc!==0&&st(hc+" j"),Xi.publish("addPage",{pageNumber:Pi})},sh=function(re){re>0&&re<=Pi&&(tn.splice(re,1),fn.splice(re,1),Pi--,vt>Pi&&(vt=Pi),this.setPage(vt))},bu=function(re){re>0&&re<=Pi&&(vt=re)},Af=xe.__private__.getNumberOfPages=xe.getNumberOfPages=function(){return tn.length-1},ah=function(re,Ne,dt){var wt,Vt=void 0;return dt=dt||{},re=re!==void 0?re:Gi[Ln].fontName,Ne=Ne!==void 0?Ne:Gi[Ln].fontStyle,wt=re.toLowerCase(),ns[wt]!==void 0&&ns[wt][Ne]!==void 0?Vt=ns[wt][Ne]:ns[re]!==void 0&&ns[re][Ne]!==void 0?Vt=ns[re][Ne]:dt.disableWarning===!1&&v.warn("Unable to look up font label for font '"+re+"', '"+Ne+"'. Refer to getFontList() for available fonts."),Vt||dt.noFallback||(Vt=ns.times[Ne])==null&&(Vt=ns.times.normal),Vt},yl=xe.__private__.putInfo=function(){var re=fa(),Ne=function(wt){return wt};for(var dt in Re!==null&&(Ne=$o.encryptor(re,0)),st("<<"),st("/Producer ("+vl(Ne("jsPDF "+ze.version))+")"),di)di.hasOwnProperty(dt)&&di[dt]&&st("/"+dt.substr(0,1).toUpperCase()+dt.substr(1)+" ("+vl(Ne(di[dt]))+")");st("/CreationDate ("+vl(Ne(dr))+")"),st(">>"),st("endobj")},Bh=xe.__private__.putCatalog=function(re){var Ne=(re=re||{}).rootDictionaryObjId||jo;switch(fa(),st("<<"),st("/Type /Catalog"),st("/Pages "+Ne+" 0 R"),mi||(mi="fullwidth"),mi){case"fullwidth":st("/OpenAction [3 0 R /FitH null]");break;case"fullheight":st("/OpenAction [3 0 R /FitV null]");break;case"fullpage":st("/OpenAction [3 0 R /Fit]");break;case"original":st("/OpenAction [3 0 R /XYZ null null 1]");break;default:var dt=""+mi;dt.substr(dt.length-1)==="%"&&(mi=parseInt(mi)/100),typeof mi=="number"&&st("/OpenAction [3 0 R /XYZ null null "+Xe(mi)+"]")}switch(Qi||(Qi="continuous"),Qi){case"continuous":st("/PageLayout /OneColumn");break;case"single":st("/PageLayout /SinglePage");break;case"two":case"twoleft":st("/PageLayout /TwoColumnLeft");break;case"tworight":st("/PageLayout /TwoColumnRight")}Kn&&st("/PageMode /"+Kn),Xi.publish("putCatalog"),st(">>"),st("endobj")},Ml=xe.__private__.putTrailer=function(){st("trailer"),st("<<"),st("/Size "+(Qt+1)),st("/Root "+Qt+" 0 R"),st("/Info "+(Qt-1)+" 0 R"),Re!==null&&st("/Encrypt "+$o.oid+" 0 R"),st("/ID [ <"+pr+"> <"+pr+"> ]"),st(">>")},Ti=xe.__private__.putHeader=function(){st("%PDF-"+gt),st("%")},qc=xe.__private__.putXRef=function(){var re="0000000000";st("xref"),st("0 "+(Qt+1)),st("0000000000 65535 f ");for(var Ne=1;Ne<=Qt;Ne++)typeof nr[Ne]=="function"?st((re+nr[Ne]()).slice(-10)+" 00000 n "):nr[Ne]!==void 0?st((re+nr[Ne]).slice(-10)+" 00000 n "):st("0000000000 00000 n ")},wu=xe.__private__.buildDocument=function(){var re;Qt=0,br=0,xr=[],nr=[],Lr=[],jo=Xa(),Sc=Xa(),ui(xr),Xi.publish("buildDocument"),Ti(),Tc(),(function(){Xi.publish("putAdditionalObjects");for(var dt=0;dt<Lr.length;dt++){var wt=Lr[dt];Ha(wt.objId,!0),st(wt.content),st("endobj")}Xi.publish("postPutAdditionalObjects")})(),re=[],(function(){for(var dt in Gi)Gi.hasOwnProperty(dt)&&(Ge===!1||Ge===!0&&et.hasOwnProperty(dt))&&Pl(Gi[dt])})(),(function(){var dt;for(dt in ji)ji.hasOwnProperty(dt)&&cc(ji[dt])})(),(function(){for(var dt in Co)Co.hasOwnProperty(dt)&&gd(Co[dt])})(),(function(dt){var wt;for(wt in oi)oi.hasOwnProperty(wt)&&(oi[wt]instanceof Ce?$d(oi[wt]):oi[wt]instanceof Ze&&qu(oi[wt],dt))})(re),Xi.publish("putResources"),re.forEach(vd),vd({resourcesOid:Sc,objectOid:Number.MAX_SAFE_INTEGER}),Xi.publish("postPutResources"),Re!==null&&($o.oid=fa(),st("<<"),st("/Filter /Standard"),st("/V "+$o.v),st("/R "+$o.r),st("/U <"+$o.toHexString($o.U)+">"),st("/O <"+$o.toHexString($o.O)+">"),st("/P "+$o.P),st(">>"),st("endobj")),yl(),Bh();var Ne=br;return qc(),Ml(),st("startxref"),st(""+Ne),st("%%EOF"),ui(tn[vt]),xr.join(`
`)},Eu=xe.__private__.getBlob=function(re){return new Blob([_i(re)],{type:"application/pdf"})},xd=xe.output=xe.__private__.output=(Rl=function(re,Ne){switch(typeof(Ne=Ne||{})=="string"?Ne={filename:Ne}:Ne.filename=Ne.filename||"generated.pdf",re){case void 0:return wu();case"save":xe.save(Ne.filename);break;case"arraybuffer":return _i(wu());case"blob":return Eu(wu());case"bloburi":case"bloburl":if(g.URL!==void 0&&typeof g.URL.createObjectURL=="function")return g.URL&&g.URL.createObjectURL(Eu(wu()))||void 0;v.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var dt="",wt=wu();try{dt=D(wt)}catch{dt=D(unescape(encodeURIComponent(wt)))}return"data:application/pdf;filename="+Ne.filename+";base64,"+dt;case"pdfobjectnewwindow":if(Object.prototype.toString.call(g)==="[object Window]"){var Vt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Cr=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Ne.pdfObjectUrl&&(Vt=Ne.pdfObjectUrl,Cr="");var Dr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Vt+'"'+Cr+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Ne)+");<\/script></body></html>",Rn=g.open();return Rn!==null&&Rn.document.write(Dr),Rn}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(g)==="[object Window]"){var On='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Ne.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Ne.filename+'" width="500px" height="400px" /></body></html>',Ni=g.open();if(Ni!==null){Ni.document.write(On);var Di=this;Ni.document.documentElement.querySelector("#pdfViewer").onload=function(){Ni.document.title=Ne.filename,Ni.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Di.output("bloburl"))}}return Ni}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(g)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var js='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Ne)+'"></iframe></body></html>',oa=g.open();if(oa!==null&&(oa.document.write(js),oa.document.title=Ne.filename),oa||typeof safari>"u")return oa;break;case"datauri":case"dataurl":return g.document.location.href=this.output("datauristring",Ne);default:return null}},Rl.foo=function(){try{return Rl.apply(this,arguments)}catch(dt){var re=dt.stack||"";~re.indexOf(" at ")&&(re=re.split(" at ")[1]);var Ne="Error in function "+re.split(`
`)[0].split("<")[0]+": "+dt.message;if(!g.console)throw new Error(Ne);g.console.error(Ne,dt),g.alert&&alert(Ne)}},Rl.foo.bar=Rl,Rl.foo),Xc=function(re){return Array.isArray(Fd)===!0&&Fd.indexOf(re)>-1};switch(Q){case"pt":vi=1;break;case"mm":vi=2.834645669291339;break;case"cm":vi=28.346456692913385;break;case"in":vi=72;break;case"px":vi=Xc("px_scaling")==1?.75:1.3333333333333333;break;case"pc":case"em":vi=12;break;case"ex":vi=6;break;default:if(typeof Q!="number")throw new Error("Invalid unit: "+Q);vi=Q}var $o=null;$r(),Xt();var Su=xe.__private__.getPageInfo=xe.getPageInfo=function(re){if(isNaN(re)||re%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:fn[re].objId,pageNumber:re,pageContext:fn[re]}},oh=xe.__private__.getPageInfoByObjId=function(re){if(isNaN(re)||re%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Ne in fn)if(fn[Ne].objId===re)break;return Su(Ne)},Ho=xe.__private__.getCurrentPageInfo=xe.getCurrentPageInfo=function(){return{objId:fn[vt].objId,pageNumber:vt,pageContext:fn[vt]}};xe.addPage=function(){return yd.apply(this,arguments),this},xe.setPage=function(){return bu.apply(this,arguments),ui.call(this,tn[vt]),this},xe.insertPage=function(re){return this.addPage(),this.movePage(vt,re),this},xe.movePage=function(re,Ne){var dt,wt;if(re>Ne){dt=tn[re],wt=fn[re];for(var Vt=re;Vt>Ne;Vt--)tn[Vt]=tn[Vt-1],fn[Vt]=fn[Vt-1];tn[Ne]=dt,fn[Ne]=wt,this.setPage(Ne)}else if(re<Ne){dt=tn[re],wt=fn[re];for(var Cr=re;Cr<Ne;Cr++)tn[Cr]=tn[Cr+1],fn[Cr]=fn[Cr+1];tn[Ne]=dt,fn[Ne]=wt,this.setPage(Ne)}return this},xe.deletePage=function(){return sh.apply(this,arguments),this},xe.__private__.text=xe.text=function(re,Ne,dt,wt,Vt){var Cr,Dr,Rn,On,Ni,Di,js,oa,Ja,Js=(wt=wt||{}).scope||this;if(typeof re=="number"&&typeof Ne=="number"&&(typeof dt=="string"||Array.isArray(dt))){var fo=dt;dt=Ne,Ne=re,re=fo}if(arguments[3]instanceof xi==0?(Rn=arguments[4],On=arguments[5],(0,d.default)(js=arguments[3])==="object"&&js!==null||(typeof Rn=="string"&&(On=Rn,Rn=null),typeof js=="string"&&(On=js,js=null),typeof js=="number"&&(Rn=js,js=null),wt={flags:js,angle:Rn,align:On})):(Ct("The transform parameter of text() with a Matrix value"),Ja=Vt),isNaN(Ne)||isNaN(dt)||re==null)throw new Error("Invalid arguments passed to jsPDF.text");if(re.length===0)return Js;var k,Te="",Y=typeof wt.lineHeightFactor=="number"?wt.lineHeightFactor:ch,He=Js.internal.scaleFactor;function mt(Is){return Is=Is.split("	").join(Array(wt.TabLen||9).join(" ")),vl(Is,js)}function ht(Is){for(var ya,ss=Is.concat(),Ko=[],Yd=ss.length;Yd--;)typeof(ya=ss.shift())=="string"?Ko.push(ya):Array.isArray(Is)&&(ya.length===1||ya[1]===void 0&&ya[2]===void 0)?Ko.push(ya[0]):Ko.push([ya[0],ya[1],ya[2]]);return Ko}function ir(Is,ya){var ss;if(typeof Is=="string")ss=ya(Is)[0];else if(Array.isArray(Is)){for(var Ko,Yd,Zf=Is.concat(),Lh=[],PA=Zf.length;PA--;)typeof(Ko=Zf.shift())=="string"?Lh.push(ya(Ko)[0]):Array.isArray(Ko)&&typeof Ko[0]=="string"&&(Yd=ya(Ko[0],Ko[1],Ko[2]),Lh.push([Yd[0],Yd[1],Yd[2]]));ss=Lh}return ss}var Ot=!1,xn=!0;if(typeof re=="string")Ot=!0;else if(Array.isArray(re)){var Nt=re.concat();Dr=[];for(var sr,Ii=Nt.length;Ii--;)(typeof(sr=Nt.shift())!="string"||Array.isArray(sr)&&typeof sr[0]!="string")&&(xn=!1);Ot=xn}if(Ot===!1)throw new Error('Type of text must be string or Array. "'+re+'" is not recognized.');typeof re=="string"&&(re=re.match(/[\r?\n]/)?re.split(/\r\n|\r|\n/g):[re]);var cn=Hr/Js.internal.scaleFactor,Fr=cn*(Y-1);switch(wt.baseline){case"bottom":dt-=Fr;break;case"top":dt+=cn-Fr;break;case"hanging":dt+=cn-2*Fr;break;case"middle":dt+=cn/2-Fr}if((Di=wt.maxWidth||0)>0&&(typeof re=="string"?re=Js.splitTextToSize(re,Di):Object.prototype.toString.call(re)==="[object Array]"&&(re=re.reduce(function(Is,ya){return Is.concat(Js.splitTextToSize(ya,Di))},[]))),Cr={text:re,x:Ne,y:dt,options:wt,mutex:{pdfEscape:vl,activeFontKey:Ln,fonts:Gi,activeFontSize:Hr}},Xi.publish("preProcessText",Cr),re=Cr.text,Rn=(wt=Cr.options).angle,Ja instanceof xi==0&&Rn&&typeof Rn=="number"){Rn*=Math.PI/180,wt.rotationDirection===0&&(Rn=-Rn),St===Ht&&(Rn=-Rn);var wr=Math.cos(Rn),la=Math.sin(Rn);Ja=new xi(wr,la,-la,wr,0,0)}else Rn&&Rn instanceof xi&&(Ja=Rn);St!==Ht||Ja||(Ja=qa),(Ni=wt.charSpace||dc)!==void 0&&(Te+=zt(_t(Ni))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(oa=wt.horizontalScale)!==void 0&&(Te+=zt(100*oa)+` Tz
`),wt.lang;var Ci=-1,li=wt.renderingMode!==void 0?wt.renderingMode:wt.stroke,wi=Js.internal.getCurrentPageInfo().pageContext;switch(li){case 0:case!1:case"fill":Ci=0;break;case 1:case!0:case"stroke":Ci=1;break;case 2:case"fillThenStroke":Ci=2;break;case 3:case"invisible":Ci=3;break;case 4:case"fillAndAddForClipping":Ci=4;break;case 5:case"strokeAndAddPathForClipping":Ci=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ci=6;break;case 7:case"addToPathForClipping":Ci=7}var zi=wi.usedRenderingMode!==void 0?wi.usedRenderingMode:-1;Ci!==-1?Te+=Ci+` Tr
`:zi!==-1&&(Te+=`0 Tr
`),Ci!==-1&&(wi.usedRenderingMode=Ci),On=wt.align||"left";var an,Wi=Hr*Y,ca=Js.internal.pageSize.getWidth(),ni=Gi[Ln];Ni=wt.charSpace||dc,Di=wt.maxWidth||0,js=Object.assign({autoencode:!0,noBOM:!0},wt.flags);var Ns=[],is=function(Is){return Js.getStringUnitWidth(Is,{font:ni,charSpace:Ni,fontSize:Hr,doKerning:!1})*Hr/He};if(Object.prototype.toString.call(re)==="[object Array]"){var Pn;Dr=ht(re),On!=="left"&&(an=Dr.map(is));var bi,bl=0;if(On==="right"){Ne-=an[0],re=[],Ii=Dr.length;for(var Cu=0;Cu<Ii;Cu++)Cu===0?(bi=Ul(Ne),Pn=wd(dt)):(bi=_t(bl-an[Cu]),Pn=-Wi),re.push([Dr[Cu],bi,Pn]),bl=an[Cu]}else if(On==="center"){Ne-=an[0]/2,re=[],Ii=Dr.length;for(var Bc=0;Bc<Ii;Bc++)Bc===0?(bi=Ul(Ne),Pn=wd(dt)):(bi=_t((bl-an[Bc])/2),Pn=-Wi),re.push([Dr[Bc],bi,Pn]),bl=an[Bc]}else if(On==="left"){re=[],Ii=Dr.length;for(var Vo=0;Vo<Ii;Vo++)re.push(Dr[Vo])}else if(On==="justify"&&ni.encoding==="Identity-H"){re=[],Ii=Dr.length,Di=Di!==0?Di:ca;for(var wl=0,Sa=0;Sa<Ii;Sa++)if(Pn=Sa===0?wd(dt):-Wi,bi=Sa===0?Ul(Ne):wl,Sa<Ii-1){var OA=_t((Di-an[Sa])/(Dr[Sa].split(" ").length-1)),Wd=Dr[Sa].split(" ");re.push([Wd[0]+" ",bi,Pn]),wl=0;for(var Ac=1;Ac<Wd.length;Ac++){var mc=(is(Wd[Ac-1]+" "+Wd[Ac])-is(Wd[Ac]))*He+OA;Ac==Wd.length-1?re.push([Wd[Ac],mc,0]):re.push([Wd[Ac]+" ",mc,0]),wl-=mc}}else re.push([Dr[Sa],bi,Pn]);re.push(["",wl,0])}else{if(On!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(re=[],Ii=Dr.length,Di=Di!==0?Di:ca,Sa=0;Sa<Ii;Sa++){Pn=Sa===0?wd(dt):-Wi,bi=Sa===0?Ul(Ne):0;var eo=Dr[Sa].split(" ").length-1,pf=eo>0?(Di-an[Sa])/eo:0;Sa<Ii-1?Ns.push(zt(_t(pf))):Ns.push(0),re.push([Dr[Sa],bi,Pn])}}}(typeof wt.R2L=="boolean"?wt.R2L:ai)===!0&&(re=ir(re,function(Is,ya,ss){return[Is.split("").reverse().join(""),ya,ss]})),Cr={text:re,x:Ne,y:dt,options:wt,mutex:{pdfEscape:vl,activeFontKey:Ln,fonts:Gi,activeFontSize:Hr}},Xi.publish("postProcessText",Cr),re=Cr.text,k=Cr.mutex.isHex||!1;var ed=Gi[Ln].encoding;ed!=="WinAnsiEncoding"&&ed!=="StandardEncoding"||(re=ir(re,function(Is,ya,ss){return[mt(Is),ya,ss]})),Dr=ht(re),re=[];for(var Li,Ds,Pa,mh=Array.isArray(Dr[0])?1:0,ju="",td=function(Is,ya,ss){var Ko="";return ss instanceof xi?(ss=typeof wt.angle=="number"?$a(ss,new xi(1,0,0,1,Is,ya)):$a(new xi(1,0,0,1,Is,ya),ss),St===Ht&&(ss=$a(new xi(1,0,0,-1,0,0),ss)),Ko=ss.join(" ")+` Tm
`):Ko=zt(Is)+" "+zt(ya)+` Td
`,Ko},Hl=0;Hl<Dr.length;Hl++){switch(ju="",mh){case 1:Pa=(k?"<":"(")+Dr[Hl][0]+(k?">":")"),Li=parseFloat(Dr[Hl][1]),Ds=parseFloat(Dr[Hl][2]);break;case 0:Pa=(k?"<":"(")+Dr[Hl]+(k?">":")"),Li=Ul(Ne),Ds=wd(dt)}Ns!==void 0&&Ns[Hl]!==void 0&&(ju=Ns[Hl]+` Tw
`),Hl===0?re.push(ju+td(Li,Ds,Ja)+Pa):mh===0?re.push(ju+Pa):mh===1&&re.push(ju+td(Li,Ds,Ja)+Pa)}re=mh===0?re.join(` Tj
T* `):re.join(` Tj
`),re+=` Tj
`;var Nu=`BT
/`;return Nu+=Ln+" "+Hr+` Tf
`,Nu+=zt(Hr*Y)+` TL
`,Nu+=Ic+`
`,Nu+=Te,Nu+=re,st(Nu+="ET"),et[Ln]=!0,Js};var Hd=xe.__private__.clip=xe.clip=function(re){return st(re==="evenodd"?"W*":"W"),this};xe.clipEvenOdd=function(){return Hd("evenodd")},xe.__private__.discardPath=xe.discardPath=function(){return st("n"),this};var Fl=xe.__private__.isValidStyle=function(re){var Ne=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(re)!==-1&&(Ne=!0),Ne};xe.__private__.setDefaultPathOperation=xe.setDefaultPathOperation=function(re){return Fl(re)&&(Se=re),this};var lh=xe.__private__.getStyle=xe.getStyle=function(re){var Ne=Se;switch(re){case"D":case"S":Ne="S";break;case"F":Ne="f";break;case"FD":case"DF":Ne="B";break;case"f":case"f*":case"B":case"B*":Ne=re}return Ne},_u=xe.close=function(){return st("h"),this};xe.stroke=function(){return st("S"),this},xe.fill=function(re){return xl("f",re),this},xe.fillEvenOdd=function(re){return xl("f*",re),this},xe.fillStroke=function(re){return xl("B",re),this},xe.fillStrokeEvenOdd=function(re){return xl("B*",re),this};var xl=function(re,Ne){(0,d.default)(Ne)==="object"?Cc(Ne,re):st(re)},rl=function(re){re===null||St===Ht&&re===void 0||(re=lh(re),st(re))};function Tu(re,Ne,dt,wt,Vt){var Cr=new Ze(Ne||this.boundingBox,dt||this.xStep,wt||this.yStep,this.gState,Vt||this.matrix);Cr.stream=this.stream;var Dr=re+"$$"+this.cloneIndex+++"$$";return lc(Dr,Cr),Cr}var Cc=function(re,Ne){var dt=ga[re.key],wt=oi[dt];if(wt instanceof Ce)st("q"),st(uc(Ne)),wt.gState&&xe.setGState(wt.gState),st(re.matrix.toString()+" cm"),st("/"+dt+" sh"),st("Q");else if(wt instanceof Ze){var Vt=new xi(1,0,0,-1,0,zd());re.matrix&&(Vt=Vt.multiply(re.matrix||qa),dt=Tu.call(wt,re.key,re.boundingBox,re.xStep,re.yStep,Vt).id),st("q"),st("/Pattern cs"),st("/"+dt+" scn"),wt.gState&&xe.setGState(wt.gState),st(Ne),st("Q")}},uc=function(re){switch(re){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},jc=xe.moveTo=function(re,Ne){return st(zt(_t(re))+" "+zt(Tt(Ne))+" m"),this},Wf=xe.lineTo=function(re,Ne){return st(zt(_t(re))+" "+zt(Tt(Ne))+" l"),this},Zc=xe.curveTo=function(re,Ne,dt,wt,Vt,Cr){return st([zt(_t(re)),zt(Tt(Ne)),zt(_t(dt)),zt(Tt(wt)),zt(_t(Vt)),zt(Tt(Cr)),"c"].join(" ")),this};xe.__private__.line=xe.line=function(re,Ne,dt,wt,Vt){if(isNaN(re)||isNaN(Ne)||isNaN(dt)||isNaN(wt)||!Fl(Vt))throw new Error("Invalid arguments passed to jsPDF.line");return St===jt?this.lines([[dt-re,wt-Ne]],re,Ne,[1,1],Vt||"S"):this.lines([[dt-re,wt-Ne]],re,Ne,[1,1]).stroke()},xe.__private__.lines=xe.lines=function(re,Ne,dt,wt,Vt,Cr){var Dr,Rn,On,Ni,Di,js,oa,Ja,Js,fo,k,Te;if(typeof re=="number"&&(Te=dt,dt=Ne,Ne=re,re=Te),wt=wt||[1,1],Cr=Cr||!1,isNaN(Ne)||isNaN(dt)||!Array.isArray(re)||!Array.isArray(wt)||!Fl(Vt)||typeof Cr!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(jc(Ne,dt),Dr=wt[0],Rn=wt[1],Ni=re.length,fo=Ne,k=dt,On=0;On<Ni;On++)(Di=re[On]).length===2?(fo=Di[0]*Dr+fo,k=Di[1]*Rn+k,Wf(fo,k)):(js=Di[0]*Dr+fo,oa=Di[1]*Rn+k,Ja=Di[2]*Dr+fo,Js=Di[3]*Rn+k,fo=Di[4]*Dr+fo,k=Di[5]*Rn+k,Zc(js,oa,Ja,Js,fo,k));return Cr&&_u(),rl(Vt),this},xe.path=function(re){for(var Ne=0;Ne<re.length;Ne++){var dt=re[Ne],wt=dt.c;switch(dt.op){case"m":jc(wt[0],wt[1]);break;case"l":Wf(wt[0],wt[1]);break;case"c":Zc.apply(this,wt);break;case"h":_u()}}return this},xe.__private__.rect=xe.rect=function(re,Ne,dt,wt,Vt){if(isNaN(re)||isNaN(Ne)||isNaN(dt)||isNaN(wt)||!Fl(Vt))throw new Error("Invalid arguments passed to jsPDF.rect");return St===jt&&(wt=-wt),st([zt(_t(re)),zt(Tt(Ne)),zt(_t(dt)),zt(_t(wt)),"re"].join(" ")),rl(Vt),this},xe.__private__.triangle=xe.triangle=function(re,Ne,dt,wt,Vt,Cr,Dr){if(isNaN(re)||isNaN(Ne)||isNaN(dt)||isNaN(wt)||isNaN(Vt)||isNaN(Cr)||!Fl(Dr))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[dt-re,wt-Ne],[Vt-dt,Cr-wt],[re-Vt,Ne-Cr]],re,Ne,[1,1],Dr,!0),this},xe.__private__.roundedRect=xe.roundedRect=function(re,Ne,dt,wt,Vt,Cr,Dr){if(isNaN(re)||isNaN(Ne)||isNaN(dt)||isNaN(wt)||isNaN(Vt)||isNaN(Cr)||!Fl(Dr))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Rn=4/3*(Math.SQRT2-1);return Vt=Math.min(Vt,.5*dt),Cr=Math.min(Cr,.5*wt),this.lines([[dt-2*Vt,0],[Vt*Rn,0,Vt,Cr-Cr*Rn,Vt,Cr],[0,wt-2*Cr],[0,Cr*Rn,-Vt*Rn,Cr,-Vt,Cr],[2*Vt-dt,0],[-Vt*Rn,0,-Vt,-Cr*Rn,-Vt,-Cr],[0,2*Cr-wt],[0,-Cr*Rn,Vt*Rn,-Cr,Vt,-Cr]],re+Vt,Ne,[1,1],Dr,!0),this},xe.__private__.ellipse=xe.ellipse=function(re,Ne,dt,wt,Vt){if(isNaN(re)||isNaN(Ne)||isNaN(dt)||isNaN(wt)||!Fl(Vt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Cr=4/3*(Math.SQRT2-1)*dt,Dr=4/3*(Math.SQRT2-1)*wt;return jc(re+dt,Ne),Zc(re+dt,Ne-Dr,re+Cr,Ne-wt,re,Ne-wt),Zc(re-Cr,Ne-wt,re-dt,Ne-Dr,re-dt,Ne),Zc(re-dt,Ne+Dr,re-Cr,Ne+wt,re,Ne+wt),Zc(re+Cr,Ne+wt,re+dt,Ne+Dr,re+dt,Ne),rl(Vt),this},xe.__private__.circle=xe.circle=function(re,Ne,dt,wt){if(isNaN(re)||isNaN(Ne)||isNaN(dt)||!Fl(wt))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(re,Ne,dt,dt,wt)},xe.setFont=function(re,Ne,dt){return dt&&(Ne=Ar(Ne,dt)),Ln=ah(re,Ne,{disableWarning:!1}),this};var Yf=xe.__private__.getFont=xe.getFont=function(){return Gi[ah.apply(xe,arguments)]};xe.__private__.getFontList=xe.getFontList=function(){var re,Ne,dt={};for(re in ns)if(ns.hasOwnProperty(re))for(Ne in dt[re]=[],ns[re])ns[re].hasOwnProperty(Ne)&&dt[re].push(Ne);return dt},xe.addFont=function(re,Ne,dt,wt,Vt){var Cr=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Cr.indexOf(arguments[3])!==-1?Vt=arguments[3]:arguments[3]&&Cr.indexOf(arguments[3])==-1&&(dt=Ar(dt,wt)),Yc.call(this,re,Ne,dt,Vt=Vt||"Identity-H")};var ch,No=I.lineWidth||.200025,va=xe.__private__.getLineWidth=xe.getLineWidth=function(){return No},mn=xe.__private__.setLineWidth=xe.setLineWidth=function(re){return No=re,st(zt(_t(re))+" w"),this};xe.__private__.setLineDash=ze.API.setLineDash=ze.API.setLineDashPattern=function(re,Ne){if(re=re||[],Ne=Ne||0,isNaN(Ne)||!Array.isArray(re))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return re=re.map(function(dt){return zt(_t(dt))}).join(" "),Ne=zt(_t(Ne)),st("["+re+"] "+Ne+" d"),this};var bd=xe.__private__.getLineHeight=xe.getLineHeight=function(){return Hr*ch};xe.__private__.getLineHeight=xe.getLineHeight=function(){return Hr*ch};var Nc=xe.__private__.setLineHeightFactor=xe.setLineHeightFactor=function(re){return typeof(re=re||1.15)=="number"&&(ch=re),this},uh=xe.__private__.getLineHeightFactor=xe.getLineHeightFactor=function(){return ch};Nc(I.lineHeight);var Ul=xe.__private__.getHorizontalCoordinate=function(re){return _t(re)},wd=xe.__private__.getVerticalCoordinate=function(re){return St===Ht?re:fn[vt].mediaBox.topRightY-fn[vt].mediaBox.bottomLeftY-_t(re)},qf=xe.__private__.getHorizontalCoordinateString=xe.getHorizontalCoordinateString=function(re){return zt(Ul(re))},dh=xe.__private__.getVerticalCoordinateString=xe.getVerticalCoordinateString=function(re){return zt(wd(re))},Qo=I.strokeColor||"0 G";xe.__private__.getStrokeColor=xe.getDrawColor=function(){return gl(Qo)},xe.__private__.setStrokeColor=xe.setDrawColor=function(re,Ne,dt,wt){return Qo=Wc({ch1:re,ch2:Ne,ch3:dt,ch4:wt,pdfColorType:"draw",precision:2}),st(Qo),this};var Qd=I.fillColor||"0 g";xe.__private__.getFillColor=xe.getFillColor=function(){return gl(Qd)},xe.__private__.setFillColor=xe.setFillColor=function(re,Ne,dt,wt){return Qd=Wc({ch1:re,ch2:Ne,ch3:dt,ch4:wt,pdfColorType:"fill",precision:2}),st(Qd),this};var Ic=I.textColor||"0 g",mf=xe.__private__.getTextColor=xe.getTextColor=function(){return gl(Ic)};xe.__private__.setTextColor=xe.setTextColor=function(re,Ne,dt,wt){return Ic=Wc({ch1:re,ch2:Ne,ch3:dt,ch4:wt,pdfColorType:"text",precision:3}),this};var dc=I.charSpace,Zu=xe.__private__.getCharSpace=xe.getCharSpace=function(){return parseFloat(dc||0)};xe.__private__.setCharSpace=xe.setCharSpace=function(re){if(isNaN(re))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return dc=re,this};var $l=0;xe.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},xe.__private__.setLineCap=xe.setLineCap=function(re){var Ne=xe.CapJoinStyles[re];if(Ne===void 0)throw new Error("Line cap style of '"+re+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return $l=Ne,st(Ne+" J"),this};var hc=0;xe.__private__.setLineJoin=xe.setLineJoin=function(re){var Ne=xe.CapJoinStyles[re];if(Ne===void 0)throw new Error("Line join style of '"+re+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return hc=Ne,st(Ne+" j"),this},xe.__private__.setLineMiterLimit=xe.__private__.setMiterLimit=xe.setLineMiterLimit=xe.setMiterLimit=function(re){if(re=re||0,isNaN(re))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return st(zt(_t(re))+" M"),this},xe.GState=ot,xe.setGState=function(re){(re=typeof re=="string"?ji[ri[re]]:hh(null,re)).equals(Ys)||(st("/"+re.id+" gs"),Ys=re)};var hh=function(re,Ne){if(!re||!ri[re]){var dt=!1;for(var wt in ji)if(ji.hasOwnProperty(wt)&&ji[wt].equals(Ne)){dt=!0;break}if(dt)Ne=ji[wt];else{var Vt="GS"+(Object.keys(ji).length+1).toString(10);ji[Vt]=Ne,Ne.id=Vt}return re&&(ri[re]=Ne.id),Xi.publish("addGState",Ne),Ne}};xe.addGState=function(re,Ne){return hh(re,Ne),this},xe.saveGraphicsState=function(){return st("q"),Ea.push({key:Ln,size:Hr,color:Ic}),this},xe.restoreGraphicsState=function(){st("Q");var re=Ea.pop();return Ln=re.key,Hr=re.size,Ic=re.color,Ys=null,this},xe.setCurrentTransformationMatrix=function(re){return st(re.toString()+" cm"),this},xe.comment=function(re){return st("#"+re),this};var kc=function(re,Ne){var dt=re||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return dt},set:function(Cr){isNaN(Cr)||(dt=parseFloat(Cr))}});var wt=Ne||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return wt},set:function(Cr){isNaN(Cr)||(wt=parseFloat(Cr))}});var Vt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Vt},set:function(Cr){Vt=Cr.toString()}}),this},Ju=function(re,Ne,dt,wt){kc.call(this,re,Ne),this.type="rect";var Vt=dt||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Vt},set:function(Dr){isNaN(Dr)||(Vt=parseFloat(Dr))}});var Cr=wt||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Cr},set:function(Dr){isNaN(Dr)||(Cr=parseFloat(Dr))}}),this},Vd=function(){this.page=Pi,this.currentPage=vt,this.pages=tn.slice(0),this.pagesContext=fn.slice(0),this.x=Gn,this.y=Bi,this.matrix=As,this.width=fh(vt),this.height=RA(vt),this.outputDestination=wn,this.id="",this.objectNumber=-1};Vd.prototype.restore=function(){Pi=this.page,vt=this.currentPage,fn=this.pagesContext,tn=this.pages,Gn=this.x,Bi=this.y,As=this.matrix,Xf(vt,this.width),Kd(vt,this.height),wn=this.outputDestination};var fc=function(re,Ne,dt,wt,Vt){xu.push(new Vd),Pi=vt=0,tn=[],Gn=re,Bi=Ne,As=Vt,Xu([dt,wt])};for(var Oa in xe.beginFormObject=function(re,Ne,dt,wt,Vt){return fc(re,Ne,dt,wt,Vt),this},xe.endFormObject=function(re){return(function(Ne){if(cl[Ne])xu.pop().restore();else{var dt=new Vd,wt="Xo"+(Object.keys(Co).length+1).toString(10);dt.id=wt,cl[Ne]=wt,Co[wt]=dt,Xi.publish("addFormObject",dt),xu.pop().restore()}})(re),this},xe.doFormObject=function(re,Ne){var dt=Co[cl[re]];return st("q"),st(Ne.toString()+" cm"),st("/"+dt.id+" Do"),st("Q"),this},xe.getFormObject=function(re){var Ne=Co[cl[re]];return{x:Ne.x,y:Ne.y,width:Ne.width,height:Ne.height,matrix:Ne.matrix}},xe.save=function(re,Ne){return re=re||"generated.pdf",(Ne=Ne||{}).returnPromise=Ne.returnPromise||!1,Ne.returnPromise===!1?(_(Eu(wu()),re),typeof _.unload=="function"&&g.setTimeout&&setTimeout(_.unload,911),this):new Promise(function(dt,wt){try{var Vt=_(Eu(wu()),re);typeof _.unload=="function"&&g.setTimeout&&setTimeout(_.unload,911),dt(Vt)}catch(Cr){wt(Cr.message)}})},ze.API)ze.API.hasOwnProperty(Oa)&&(Oa==="events"&&ze.API.events.length?(function(re,Ne){var dt,wt,Vt;for(Vt=Ne.length-1;Vt!==-1;Vt--)dt=Ne[Vt][0],wt=Ne[Vt][1],re.subscribe.apply(re,[dt].concat(typeof wt=="function"?[wt]:wt))})(Xi,ze.API.events):xe[Oa]=ze.API[Oa]);function fh(re){return fn[re].mediaBox.topRightX-fn[re].mediaBox.bottomLeftX}function Xf(re,Ne){fn[re].mediaBox.topRightX=Ne+fn[re].mediaBox.bottomLeftX}function RA(re){return fn[re].mediaBox.topRightY-fn[re].mediaBox.bottomLeftY}function Kd(re,Ne){fn[re].mediaBox.topRightY=Ne+fn[re].mediaBox.bottomLeftY}var Gd=xe.getPageWidth=function(re){return fh(re=re||vt)/vi},Za=xe.setPageWidth=function(re,Ne){Xf(re,Ne*vi)},zd=xe.getPageHeight=function(re){return RA(re=re||vt)/vi},Ah=xe.setPageHeight=function(re,Ne){Kd(re,Ne*vi)};return xe.internal={pdfEscape:vl,getStyle:lh,getFont:Yf,getFontSize:Sn,getCharSpace:Zu,getTextColor:mf,getLineHeight:bd,getLineHeightFactor:uh,getLineWidth:va,write:An,getHorizontalCoordinate:Ul,getVerticalCoordinate:wd,getCoordinateString:qf,getVerticalCoordinateString:dh,collections:{},newObject:fa,newAdditionalObject:zc,newObjectDeferred:Xa,newObjectDeferredBegin:Ha,getFilters:Ol,putStream:_c,events:Xi,scaleFactor:vi,pageSize:{getWidth:function(){return Gd(vt)},setWidth:function(re){Za(vt,re)},getHeight:function(){return zd(vt)},setHeight:function(re){Ah(vt,re)}},encryptionOptions:Re,encryption:$o,getEncryptor:function(re){return Re!==null?$o.encryptor(re,0):function(Ne){return Ne}},output:xd,getNumberOfPages:Af,get pages(){return tn},out:st,f2:Xe,f3:lt,getPageInfo:Su,getPageInfoByObjId:oh,getCurrentPageInfo:Ho,getPDFVersion:At,Point:kc,Rectangle:Ju,Matrix:xi,hasHotfix:Xc},Object.defineProperty(xe.internal.pageSize,"width",{get:function(){return Gd(vt)},set:function(re){Za(vt,re)},enumerable:!0,configurable:!0}),Object.defineProperty(xe.internal.pageSize,"height",{get:function(){return zd(vt)},set:function(re){Ah(vt,re)},enumerable:!0,configurable:!0}),(function(re){for(var Ne=0,dt=ln.length;Ne<dt;Ne++){var wt=Yc.call(this,re[Ne][0],re[Ne][1],re[Ne][2],ln[Ne][3],!0);Ge===!1&&(et[wt]=!0);var Vt=re[Ne][0].split("-");Dl({id:wt,fontName:Vt[0],fontStyle:Vt[1]||""})}Xi.publish("addFonts",{fonts:Gi,dictionary:ns})}).call(xe,ln),Ln="F1",yd(z,O),Xi.publish("initialized"),xe}je.prototype.lsbFirstWord=function(I){return String.fromCharCode(255&I,I>>8&255,I>>16&255,I>>24&255)},je.prototype.toHexString=function(I){return I.split("").map(function(C){return("0"+(255&C.charCodeAt(0)).toString(16)).slice(-2)}).join("")},je.prototype.hexToBytes=function(I){for(var C=[],O=0;O<I.length;O+=2)C.push(String.fromCharCode(parseInt(I.substr(O,2),16)));return C.join("")},je.prototype.processOwnerPassword=function(I,C){return se(Be(C).substr(0,5),I)},je.prototype.encryptor=function(I,C){var O=Be(this.encryptionKey+String.fromCharCode(255&I,I>>8&255,I>>16&255,255&C,C>>8&255)).substr(0,10);return function(Q){return se(O,Q)}},ot.prototype.equals=function(I){var C,O="id,objectNumber,equals";if(!I||(0,d.default)(I)!==(0,d.default)(this))return!1;var Q=0;for(C in this)if(!(O.indexOf(C)>=0)){if(this.hasOwnProperty(C)&&!I.hasOwnProperty(C)||this[C]!==I[C])return!1;Q++}for(C in I)I.hasOwnProperty(C)&&O.indexOf(C)<0&&Q--;return Q===0},ze.API={events:[]},ze.version="4.0.0";var $e=ze.API,ct=1,Fe=function(I){return I.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},xt=function(I){return I.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},pt=function(I){return I.toFixed(2)},Bt=function(I){return I.toFixed(5)};$e.__acroform__={};var qt=function(I,C){I.prototype=Object.create(C.prototype),I.prototype.constructor=I},Yr=function(I){return I*ct},yr=function(I){var C=new Ur,O=zr.internal.getHeight(I)||0,Q=zr.internal.getWidth(I)||0;return C.BBox=[0,0,Number(pt(Q)),Number(pt(O))],C},Wr=$e.__acroform__.setBit=function(I,C){if(I=I||0,C=C||0,isNaN(I)||isNaN(C))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return I|1<<C},hn=$e.__acroform__.clearBit=function(I,C){if(I=I||0,C=C||0,isNaN(I)||isNaN(C))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return I&~(1<<C)},Tn=$e.__acroform__.getBit=function(I,C){if(isNaN(I)||isNaN(C))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return I&1<<C?1:0},Jr=$e.__acroform__.getBitForPdf=function(I,C){if(isNaN(I)||isNaN(C))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Tn(I,C-1)},sn=$e.__acroform__.setBitForPdf=function(I,C){if(isNaN(I)||isNaN(C))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Wr(I,C-1)},on=$e.__acroform__.clearBitForPdf=function(I,C){if(isNaN(I)||isNaN(C))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return hn(I,C-1)},Fn=$e.__acroform__.calculateCoordinates=function(I,C){var O=C.internal.getHorizontalCoordinate,Q=C.internal.getVerticalCoordinate,z=I[0],X=I[1],fe=I[2],ie=I[3],ae={};return ae.lowerLeft_X=O(z)||0,ae.lowerLeft_Y=Q(X+ie)||0,ae.upperRight_X=O(z+fe)||0,ae.upperRight_Y=Q(X)||0,[Number(pt(ae.lowerLeft_X)),Number(pt(ae.lowerLeft_Y)),Number(pt(ae.upperRight_X)),Number(pt(ae.upperRight_Y))]},Qn=function(I){if(I.appearanceStreamContent)return I.appearanceStreamContent;if(I.V||I.DV){var C=[],O=I._V||I.DV,Q=gi(I,O),z=I.scope.internal.getFont(I.fontName,I.fontStyle).id;C.push("/Tx BMC"),C.push("q"),C.push("BT"),C.push(I.scope.__private__.encodeColorString(I.color)),C.push("/"+z+" "+pt(Q.fontSize)+" Tf"),C.push("1 0 0 1 0 0 Tm"),C.push(Q.text),C.push("ET"),C.push("Q"),C.push("EMC");var X=yr(I);return X.scope=I.scope,X.stream=C.join(`
`),X}},gi=function(I,C){var O=I.fontSize===0?I.maxFontSize:I.fontSize,Q={text:"",fontSize:""},z=(C=(C=C.substr(0,1)=="("?C.substr(1):C).substr(C.length-1)==")"?C.substr(0,C.length-1):C).split(" ");z=I.multiline?z.map(function(Xe){return Xe.split(`
`)}):z.map(function(Xe){return[Xe]});var X=O,fe=zr.internal.getHeight(I)||0;fe=fe<0?-fe:fe;var ie=zr.internal.getWidth(I)||0;ie=ie<0?-ie:ie;var ae=function(Xe,lt,_t){if(Xe+1<z.length){var Tt=lt+" "+z[Xe+1][0];return Je(Tt,I,_t).width<=ie-4}return!1};X++;e:for(;X>0;){C="",X--;var Se,Re,Ge=Je("3",I,X).height,et=I.multiline?fe-X:(fe-Ge)/2,xe=et+=2,gt=0,At=0,yt=0;if(X<=0){C=`(...) Tj
`,C+="% Width of Text: "+Je(C,I,X=12).width+", FieldWidth:"+ie+`
`;break}for(var qe="",jt=0,Ht=0;Ht<z.length;Ht++)if(z.hasOwnProperty(Ht)){var St=!1;if(z[Ht].length!==1&&yt!==z[Ht].length-1){if((Ge+2)*(jt+2)+2>fe)continue e;qe+=z[Ht][yt],St=!0,At=Ht,Ht--}else{qe=(qe+=z[Ht][yt]+" ").substr(qe.length-1)==" "?qe.substr(0,qe.length-1):qe;var Ye=parseInt(Ht),Mt=ae(Ye,qe,X),Ar=Ht>=z.length-1;if(Mt&&!Ar){qe+=" ",yt=0;continue}if(Mt||Ar){if(Ar)At=Ye;else if(I.multiline&&(Ge+2)*(jt+2)+2>fe)continue e}else{if(!I.multiline||(Ge+2)*(jt+2)+2>fe)continue e;At=Ye}}for(var zt="",Ct=gt;Ct<=At;Ct++){var cr=z[Ct];if(I.multiline){if(Ct===At){zt+=cr[yt]+" ",yt=(yt+1)%cr.length;continue}if(Ct===gt){zt+=cr[cr.length-1]+" ";continue}}zt+=cr[0]+" "}switch(zt=zt.substr(zt.length-1)==" "?zt.substr(0,zt.length-1):zt,Re=Je(zt,I,X).width,I.textAlign){case"right":Se=ie-Re-2;break;case"center":Se=(ie-Re)/2;break;default:Se=2}C+=pt(Se)+" "+pt(xe)+` Td
`,C+="("+Fe(zt)+`) Tj
`,C+=-pt(Se)+` 0 Td
`,xe=-(X+2),Re=0,gt=St?At:At+1,jt++,qe=""}break}return Q.text=C,Q.fontSize=X,Q},Je=function(I,C,O){var Q=C.scope.internal.getFont(C.fontName,C.fontStyle),z=C.scope.getStringUnitWidth(I,{font:Q,fontSize:parseFloat(O),charSpace:0})*parseFloat(O);return{height:C.scope.getStringUnitWidth("3",{font:Q,fontSize:parseFloat(O),charSpace:0})*parseFloat(O)*1.5,width:z}},Ut={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},gr=function(I,C){var O={type:"reference",object:I};C.internal.getPageInfo(I.page).pageContext.annotations.find(function(Q){return Q.type===O.type&&Q.object===O.object})===void 0&&C.internal.getPageInfo(I.page).pageContext.annotations.push(O)},Wt=function(I,C){if(C.scope=I,I.internal!==void 0&&(I.internal.acroformPlugin===void 0||I.internal.acroformPlugin.isInitialized===!1)){if(qr.FieldNum=0,I.internal.acroformPlugin=JSON.parse(JSON.stringify(Ut)),I.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");ct=I.internal.scaleFactor,I.internal.acroformPlugin.acroFormDictionaryRoot=new vn,I.internal.acroformPlugin.acroFormDictionaryRoot.scope=I,I.internal.acroformPlugin.acroFormDictionaryRoot._eventID=I.internal.events.subscribe("postPutResources",function(){(function(O){O.internal.events.unsubscribe(O.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete O.internal.acroformPlugin.acroFormDictionaryRoot._eventID,O.internal.acroformPlugin.printedOut=!0})(I)}),I.internal.events.subscribe("buildDocument",function(){(function(O){O.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var Q=O.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var z in Q)if(Q.hasOwnProperty(z)){var X=Q[z];X.objId=void 0,X.hasAnnotation&&gr(X,O)}})(I)}),I.internal.events.subscribe("putCatalog",function(){(function(O){if(O.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");O.internal.write("/AcroForm "+O.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(I)}),I.internal.events.subscribe("postPutPages",function(O){(function(Q,z){var X=!Q;for(var fe in Q||(z.internal.newObjectDeferredBegin(z.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),z.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),Q=Q||z.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(Q.hasOwnProperty(fe)){var ie=Q[fe],ae=[],Se=ie.Rect;if(ie.Rect&&(ie.Rect=Fn(ie.Rect,z)),z.internal.newObjectDeferredBegin(ie.objId,!0),ie.DA=zr.createDefaultAppearanceStream(ie),(0,d.default)(ie)==="object"&&typeof ie.getKeyValueListForStream=="function"&&(ae=ie.getKeyValueListForStream()),ie.Rect=Se,ie.hasAppearanceStream&&!ie.appearanceStreamContent){var Re=Qn(ie);ae.push({key:"AP",value:"<</N "+Re+">>"}),z.internal.acroformPlugin.xForms.push(Re)}if(ie.appearanceStreamContent){var Ge="";for(var et in ie.appearanceStreamContent)if(ie.appearanceStreamContent.hasOwnProperty(et)){var xe=ie.appearanceStreamContent[et];if(Ge+="/"+et+" ",Ge+="<<",Object.keys(xe).length>=1||Array.isArray(xe)){for(var fe in xe)if(xe.hasOwnProperty(fe)){var gt=xe[fe];typeof gt=="function"&&(gt=gt.call(z,ie)),Ge+="/"+fe+" "+gt+" ",z.internal.acroformPlugin.xForms.indexOf(gt)>=0||z.internal.acroformPlugin.xForms.push(gt)}}else typeof(gt=xe)=="function"&&(gt=gt.call(z,ie)),Ge+="/"+fe+" "+gt,z.internal.acroformPlugin.xForms.indexOf(gt)>=0||z.internal.acroformPlugin.xForms.push(gt);Ge+=">>"}ae.push({key:"AP",value:`<<
`+Ge+">>"})}z.internal.putStream({additionalKeyValues:ae,objectId:ie.objId}),z.internal.out("endobj")}X&&(function(At,yt){for(var qe in At)if(At.hasOwnProperty(qe)){var jt=qe,Ht=At[qe];yt.internal.newObjectDeferredBegin(Ht.objId,!0),(0,d.default)(Ht)==="object"&&typeof Ht.putStream=="function"&&Ht.putStream(),delete At[jt]}})(z.internal.acroformPlugin.xForms,z)})(O,I)}),I.internal.acroformPlugin.isInitialized=!0}},Pt=$e.__acroform__.arrayToPdfArray=function(I,C,O){var Q=function(fe){return fe};if(Array.isArray(I)){for(var z="[",X=0;X<I.length;X++)switch(X!==0&&(z+=" "),(0,d.default)(I[X])){case"boolean":case"number":case"object":z+=I[X].toString();break;case"string":I[X].substr(0,1)!=="/"?(C!==void 0&&O&&(Q=O.internal.getEncryptor(C)),z+="("+Fe(Q(I[X].toString()))+")"):z+=I[X].toString()}return z+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},or=function(I,C,O){var Q=function(z){return z};return C!==void 0&&O&&(Q=O.internal.getEncryptor(C)),(I=I||"").toString(),"("+Fe(Q(I))+")"},Br=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(I){this._objId=I}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Br.prototype.toString=function(){return this.objId+" 0 R"},Br.prototype.putStream=function(){var I=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:I,objectId:this.objId}),this.scope.internal.out("endobj")},Br.prototype.getKeyValueListForStream=function(){var I=[],C=Object.getOwnPropertyNames(this).filter(function(X){return X!="content"&&X!="appearanceStreamContent"&&X!="scope"&&X!="objId"&&X.substring(0,1)!="_"});for(var O in C)if(Object.getOwnPropertyDescriptor(this,C[O]).configurable===!1){var Q=C[O],z=this[Q];z&&(Array.isArray(z)?I.push({key:Q,value:Pt(z,this.objId,this.scope)}):z instanceof Br?(z.scope=this.scope,I.push({key:Q,value:z.objId+" 0 R"})):typeof z!="function"&&I.push({key:Q,value:z}))}return I};var Ur=function(){Br.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var I,C=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return C},set:function(O){C=O}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(O){I=O.trim()},get:function(){return I||null}})};qt(Ur,Br);var vn=function(){Br.call(this);var I,C=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return C.length>0?C:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return C}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(I){var O=function(Q){return Q};return this.scope&&(O=this.scope.internal.getEncryptor(this.objId)),"("+Fe(O(I))+")"}},set:function(O){I=O}})};qt(vn,Br);var qr=function I(){Br.call(this);var C=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return C},set:function(qe){if(isNaN(qe))throw new Error('Invalid value "'+qe+'" for attribute F supplied.');C=qe}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Jr(C,3)},set:function(qe){qe?this.F=sn(C,3):this.F=on(C,3)}});var O=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return O},set:function(qe){if(isNaN(qe))throw new Error('Invalid value "'+qe+'" for attribute Ff supplied.');O=qe}});var Q=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(Q.length!==0)return Q},set:function(qe){Q=qe!==void 0?qe:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!Q||isNaN(Q[0])?0:Q[0]},set:function(qe){Q[0]=qe}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!Q||isNaN(Q[1])?0:Q[1]},set:function(qe){Q[1]=qe}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!Q||isNaN(Q[2])?0:Q[2]},set:function(qe){Q[2]=qe}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!Q||isNaN(Q[3])?0:Q[3]},set:function(qe){Q[3]=qe}});var z="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return z},set:function(qe){switch(qe){case"/Btn":case"/Tx":case"/Ch":case"/Sig":z=qe;break;default:throw new Error('Invalid value "'+qe+'" for attribute FT supplied.')}}});var X=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!X||X.length<1){if(this instanceof ds)return;X="FieldObject"+I.FieldNum++}var qe=function(jt){return jt};return this.scope&&(qe=this.scope.internal.getEncryptor(this.objId)),"("+Fe(qe(X))+")"},set:function(qe){X=qe.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return X},set:function(qe){X=qe}});var fe="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return fe},set:function(qe){fe=qe}});var ie="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return ie},set:function(qe){ie=qe}});var ae=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return ae},set:function(qe){ae=qe}});var Se=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return Se===void 0?50/ct:Se},set:function(qe){Se=qe}});var Re="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return Re},set:function(qe){Re=qe}});var Ge="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!Ge||this instanceof ds||this instanceof ys))return or(Ge,this.objId,this.scope)},set:function(qe){qe=qe.toString(),Ge=qe}});var et=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(et)return this instanceof Xr==0?or(et,this.objId,this.scope):et},set:function(qe){qe=qe.toString(),et=this instanceof Xr==0?qe.substr(0,1)==="("?xt(qe.substr(1,qe.length-2)):xt(qe):qe}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Xr==1?xt(et.substr(1,et.length-1)):et},set:function(qe){qe=qe.toString(),et=this instanceof Xr==1?"/"+qe:qe}});var xe=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(xe)return xe},set:function(qe){this.V=qe}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(xe)return this instanceof Xr==0?or(xe,this.objId,this.scope):xe},set:function(qe){qe=qe.toString(),xe=this instanceof Xr==0?qe.substr(0,1)==="("?xt(qe.substr(1,qe.length-2)):xt(qe):qe}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Xr==1?xt(xe.substr(1,xe.length-1)):xe},set:function(qe){qe=qe.toString(),xe=this instanceof Xr==1?"/"+qe:qe}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var gt,At=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return At},set:function(qe){qe=!!qe,At=qe}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(gt)return gt},set:function(qe){gt=qe}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,1)},set:function(qe){qe?this.Ff=sn(this.Ff,1):this.Ff=on(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,2)},set:function(qe){qe?this.Ff=sn(this.Ff,2):this.Ff=on(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,3)},set:function(qe){qe?this.Ff=sn(this.Ff,3):this.Ff=on(this.Ff,3)}});var yt=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(yt!==null)return yt},set:function(qe){if([0,1,2].indexOf(qe)===-1)throw new Error('Invalid value "'+qe+'" for attribute Q supplied.');yt=qe}}),Object.defineProperty(this,"textAlign",{get:function(){var qe;switch(yt){case 0:default:qe="left";break;case 1:qe="center";break;case 2:qe="right"}return qe},configurable:!0,enumerable:!0,set:function(qe){switch(qe){case"right":case 2:yt=2;break;case"center":case 1:yt=1;break;default:yt=0}}})};qt(qr,Br);var Vn=function(){qr.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var I=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return I},set:function(O){I=O}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return I},set:function(O){I=O}});var C=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Pt(C,this.objId,this.scope)},set:function(O){var Q,z;z=[],typeof(Q=O)=="string"&&(z=(function(X,fe,ie){ie||(ie=1);for(var ae,Se=[];ae=fe.exec(X);)Se.push(ae[ie]);return Se})(Q,/\((.*?)\)/g)),C=z}}),this.getOptions=function(){return C},this.setOptions=function(O){C=O,this.sort&&C.sort()},this.addOption=function(O){O=(O=O||"").toString(),C.push(O),this.sort&&C.sort()},this.removeOption=function(O,Q){for(Q=Q||!1,O=(O=O||"").toString();C.indexOf(O)!==-1&&(C.splice(C.indexOf(O),1),Q!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,18)},set:function(O){O?this.Ff=sn(this.Ff,18):this.Ff=on(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,19)},set:function(O){this.combo===!0&&(O?this.Ff=sn(this.Ff,19):this.Ff=on(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,20)},set:function(O){O?(this.Ff=sn(this.Ff,20),C.sort()):this.Ff=on(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,22)},set:function(O){O?this.Ff=sn(this.Ff,22):this.Ff=on(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,23)},set:function(O){O?this.Ff=sn(this.Ff,23):this.Ff=on(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,27)},set:function(O){O?this.Ff=sn(this.Ff,27):this.Ff=on(this.Ff,27)}}),this.hasAppearanceStream=!1};qt(Vn,qr);var Qr=function(){Vn.call(this),this.fontName="helvetica",this.combo=!1};qt(Qr,Vn);var Nr=function(){Qr.call(this),this.combo=!0};qt(Nr,Qr);var rn=function(){Nr.call(this),this.edit=!0};qt(rn,Nr);var Xr=function(){qr.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,15)},set:function(O){O?this.Ff=sn(this.Ff,15):this.Ff=on(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,16)},set:function(O){O?this.Ff=sn(this.Ff,16):this.Ff=on(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,17)},set:function(O){O?this.Ff=sn(this.Ff,17):this.Ff=on(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,26)},set:function(O){O?this.Ff=sn(this.Ff,26):this.Ff=on(this.Ff,26)}});var I,C={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var O=function(X){return X};if(this.scope&&(O=this.scope.internal.getEncryptor(this.objId)),Object.keys(C).length!==0){var Q,z=[];for(Q in z.push("<<"),C)z.push("/"+Q+" ("+Fe(O(C[Q]))+")");return z.push(">>"),z.join(`
`)}},set:function(O){(0,d.default)(O)==="object"&&(C=O)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return C.CA||""},set:function(O){typeof O=="string"&&(C.CA=O)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return I},set:function(O){I=O}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return I.substr(1,I.length-1)},set:function(O){I="/"+O}})};qt(Xr,qr);var yn=function(){Xr.call(this),this.pushButton=!0};qt(yn,Xr);var Wn=function(){Xr.call(this),this.radio=!0,this.pushButton=!1;var I=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return I},set:function(C){I=C!==void 0?C:[]}})};qt(Wn,Xr);var ds=function(){var I,C;qr.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return I},set:function(z){I=z}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return C},set:function(z){C=z}});var O,Q={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var z=function(ie){return ie};this.scope&&(z=this.scope.internal.getEncryptor(this.objId));var X,fe=[];for(X in fe.push("<<"),Q)fe.push("/"+X+" ("+Fe(z(Q[X]))+")");return fe.push(">>"),fe.join(`
`)},set:function(z){(0,d.default)(z)==="object"&&(Q=z)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return Q.CA||""},set:function(z){typeof z=="string"&&(Q.CA=z)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return O},set:function(z){O=z}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return O.substr(1,O.length-1)},set:function(z){O="/"+z}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=zr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};qt(ds,qr),Wn.prototype.setAppearance=function(I){if(!("createAppearanceStream"in I)||!("getCA"in I))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var C in this.Kids)if(this.Kids.hasOwnProperty(C)){var O=this.Kids[C];O.appearanceStreamContent=I.createAppearanceStream(O.optionName),O.caption=I.getCA()}},Wn.prototype.createOption=function(I){var C=new ds;return C.Parent=this,C.optionName=I,this.Kids.push(C),$i.call(this.scope,C),C};var vs=function(){Xr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=zr.CheckBox.createAppearanceStream()};qt(vs,Xr);var ys=function(){qr.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,13)},set:function(C){C?this.Ff=sn(this.Ff,13):this.Ff=on(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,21)},set:function(C){C?this.Ff=sn(this.Ff,21):this.Ff=on(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,23)},set:function(C){C?this.Ff=sn(this.Ff,23):this.Ff=on(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,24)},set:function(C){C?this.Ff=sn(this.Ff,24):this.Ff=on(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,25)},set:function(C){C?this.Ff=sn(this.Ff,25):this.Ff=on(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,26)},set:function(C){C?this.Ff=sn(this.Ff,26):this.Ff=on(this.Ff,26)}});var I=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return I},set:function(C){I=C}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return I},set:function(C){Number.isInteger(C)&&(I=C)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};qt(ys,qr);var $n=function(){ys.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,14)},set:function(I){I?this.Ff=sn(this.Ff,14):this.Ff=on(this.Ff,14)}}),this.password=!0};qt($n,ys);var zr={CheckBox:{createAppearanceStream:function(){return{N:{On:zr.CheckBox.YesNormal},D:{On:zr.CheckBox.YesPushDown,Off:zr.CheckBox.OffPushDown}}},YesPushDown:function(I){var C=yr(I);C.scope=I.scope;var O=[],Q=I.scope.internal.getFont(I.fontName,I.fontStyle).id,z=I.scope.__private__.encodeColorString(I.color),X=gi(I,I.caption);return O.push("0.749023 g"),O.push("0 0 "+pt(zr.internal.getWidth(I))+" "+pt(zr.internal.getHeight(I))+" re"),O.push("f"),O.push("BMC"),O.push("q"),O.push("0 0 1 rg"),O.push("/"+Q+" "+pt(X.fontSize)+" Tf "+z),O.push("BT"),O.push(X.text),O.push("ET"),O.push("Q"),O.push("EMC"),C.stream=O.join(`
`),C},YesNormal:function(I){var C=yr(I);C.scope=I.scope;var O=I.scope.internal.getFont(I.fontName,I.fontStyle).id,Q=I.scope.__private__.encodeColorString(I.color),z=[],X=zr.internal.getHeight(I),fe=zr.internal.getWidth(I),ie=gi(I,I.caption);return z.push("1 g"),z.push("0 0 "+pt(fe)+" "+pt(X)+" re"),z.push("f"),z.push("q"),z.push("0 0 1 rg"),z.push("0 0 "+pt(fe-1)+" "+pt(X-1)+" re"),z.push("W"),z.push("n"),z.push("0 g"),z.push("BT"),z.push("/"+O+" "+pt(ie.fontSize)+" Tf "+Q),z.push(ie.text),z.push("ET"),z.push("Q"),C.stream=z.join(`
`),C},OffPushDown:function(I){var C=yr(I);C.scope=I.scope;var O=[];return O.push("0.749023 g"),O.push("0 0 "+pt(zr.internal.getWidth(I))+" "+pt(zr.internal.getHeight(I))+" re"),O.push("f"),C.stream=O.join(`
`),C}},RadioButton:{Circle:{createAppearanceStream:function(I){var C={D:{Off:zr.RadioButton.Circle.OffPushDown},N:{}};return C.N[I]=zr.RadioButton.Circle.YesNormal,C.D[I]=zr.RadioButton.Circle.YesPushDown,C},getCA:function(){return"l"},YesNormal:function(I){var C=yr(I);C.scope=I.scope;var O=[],Q=zr.internal.getWidth(I)<=zr.internal.getHeight(I)?zr.internal.getWidth(I)/4:zr.internal.getHeight(I)/4;Q=Number((.9*Q).toFixed(5));var z=zr.internal.Bezier_C,X=Number((Q*z).toFixed(5));return O.push("q"),O.push("1 0 0 1 "+Bt(zr.internal.getWidth(I)/2)+" "+Bt(zr.internal.getHeight(I)/2)+" cm"),O.push(Q+" 0 m"),O.push(Q+" "+X+" "+X+" "+Q+" 0 "+Q+" c"),O.push("-"+X+" "+Q+" -"+Q+" "+X+" -"+Q+" 0 c"),O.push("-"+Q+" -"+X+" -"+X+" -"+Q+" 0 -"+Q+" c"),O.push(X+" -"+Q+" "+Q+" -"+X+" "+Q+" 0 c"),O.push("f"),O.push("Q"),C.stream=O.join(`
`),C},YesPushDown:function(I){var C=yr(I);C.scope=I.scope;var O=[],Q=zr.internal.getWidth(I)<=zr.internal.getHeight(I)?zr.internal.getWidth(I)/4:zr.internal.getHeight(I)/4;Q=Number((.9*Q).toFixed(5));var z=Number((2*Q).toFixed(5)),X=Number((z*zr.internal.Bezier_C).toFixed(5)),fe=Number((Q*zr.internal.Bezier_C).toFixed(5));return O.push("0.749023 g"),O.push("q"),O.push("1 0 0 1 "+Bt(zr.internal.getWidth(I)/2)+" "+Bt(zr.internal.getHeight(I)/2)+" cm"),O.push(z+" 0 m"),O.push(z+" "+X+" "+X+" "+z+" 0 "+z+" c"),O.push("-"+X+" "+z+" -"+z+" "+X+" -"+z+" 0 c"),O.push("-"+z+" -"+X+" -"+X+" -"+z+" 0 -"+z+" c"),O.push(X+" -"+z+" "+z+" -"+X+" "+z+" 0 c"),O.push("f"),O.push("Q"),O.push("0 g"),O.push("q"),O.push("1 0 0 1 "+Bt(zr.internal.getWidth(I)/2)+" "+Bt(zr.internal.getHeight(I)/2)+" cm"),O.push(Q+" 0 m"),O.push(Q+" "+fe+" "+fe+" "+Q+" 0 "+Q+" c"),O.push("-"+fe+" "+Q+" -"+Q+" "+fe+" -"+Q+" 0 c"),O.push("-"+Q+" -"+fe+" -"+fe+" -"+Q+" 0 -"+Q+" c"),O.push(fe+" -"+Q+" "+Q+" -"+fe+" "+Q+" 0 c"),O.push("f"),O.push("Q"),C.stream=O.join(`
`),C},OffPushDown:function(I){var C=yr(I);C.scope=I.scope;var O=[],Q=zr.internal.getWidth(I)<=zr.internal.getHeight(I)?zr.internal.getWidth(I)/4:zr.internal.getHeight(I)/4;Q=Number((.9*Q).toFixed(5));var z=Number((2*Q).toFixed(5)),X=Number((z*zr.internal.Bezier_C).toFixed(5));return O.push("0.749023 g"),O.push("q"),O.push("1 0 0 1 "+Bt(zr.internal.getWidth(I)/2)+" "+Bt(zr.internal.getHeight(I)/2)+" cm"),O.push(z+" 0 m"),O.push(z+" "+X+" "+X+" "+z+" 0 "+z+" c"),O.push("-"+X+" "+z+" -"+z+" "+X+" -"+z+" 0 c"),O.push("-"+z+" -"+X+" -"+X+" -"+z+" 0 -"+z+" c"),O.push(X+" -"+z+" "+z+" -"+X+" "+z+" 0 c"),O.push("f"),O.push("Q"),C.stream=O.join(`
`),C}},Cross:{createAppearanceStream:function(I){var C={D:{Off:zr.RadioButton.Cross.OffPushDown},N:{}};return C.N[I]=zr.RadioButton.Cross.YesNormal,C.D[I]=zr.RadioButton.Cross.YesPushDown,C},getCA:function(){return"8"},YesNormal:function(I){var C=yr(I);C.scope=I.scope;var O=[],Q=zr.internal.calculateCross(I);return O.push("q"),O.push("1 1 "+pt(zr.internal.getWidth(I)-2)+" "+pt(zr.internal.getHeight(I)-2)+" re"),O.push("W"),O.push("n"),O.push(pt(Q.x1.x)+" "+pt(Q.x1.y)+" m"),O.push(pt(Q.x2.x)+" "+pt(Q.x2.y)+" l"),O.push(pt(Q.x4.x)+" "+pt(Q.x4.y)+" m"),O.push(pt(Q.x3.x)+" "+pt(Q.x3.y)+" l"),O.push("s"),O.push("Q"),C.stream=O.join(`
`),C},YesPushDown:function(I){var C=yr(I);C.scope=I.scope;var O=zr.internal.calculateCross(I),Q=[];return Q.push("0.749023 g"),Q.push("0 0 "+pt(zr.internal.getWidth(I))+" "+pt(zr.internal.getHeight(I))+" re"),Q.push("f"),Q.push("q"),Q.push("1 1 "+pt(zr.internal.getWidth(I)-2)+" "+pt(zr.internal.getHeight(I)-2)+" re"),Q.push("W"),Q.push("n"),Q.push(pt(O.x1.x)+" "+pt(O.x1.y)+" m"),Q.push(pt(O.x2.x)+" "+pt(O.x2.y)+" l"),Q.push(pt(O.x4.x)+" "+pt(O.x4.y)+" m"),Q.push(pt(O.x3.x)+" "+pt(O.x3.y)+" l"),Q.push("s"),Q.push("Q"),C.stream=Q.join(`
`),C},OffPushDown:function(I){var C=yr(I);C.scope=I.scope;var O=[];return O.push("0.749023 g"),O.push("0 0 "+pt(zr.internal.getWidth(I))+" "+pt(zr.internal.getHeight(I))+" re"),O.push("f"),C.stream=O.join(`
`),C}}},createDefaultAppearanceStream:function(I){var C=I.scope.internal.getFont(I.fontName,I.fontStyle).id,O=I.scope.__private__.encodeColorString(I.color);return"/"+C+" "+I.fontSize+" Tf "+O}};zr.internal={Bezier_C:.551915024494,calculateCross:function(I){var C=zr.internal.getWidth(I),O=zr.internal.getHeight(I),Q=Math.min(C,O);return{x1:{x:(C-Q)/2,y:(O-Q)/2+Q},x2:{x:(C-Q)/2+Q,y:(O-Q)/2},x3:{x:(C-Q)/2,y:(O-Q)/2},x4:{x:(C-Q)/2+Q,y:(O-Q)/2+Q}}}},zr.internal.getWidth=function(I){var C=0;return(0,d.default)(I)==="object"&&(C=Yr(I.Rect[2])),C},zr.internal.getHeight=function(I){var C=0;return(0,d.default)(I)==="object"&&(C=Yr(I.Rect[3])),C};var $i=$e.addField=function(I){if(Wt(this,I),!(I instanceof qr))throw new Error("Invalid argument passed to jsPDF.addField.");var C;return(C=I).scope.internal.acroformPlugin.printedOut&&(C.scope.internal.acroformPlugin.printedOut=!1,C.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),C.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(C),I.page=I.scope.internal.getCurrentPageInfo().pageNumber,this};$e.AcroFormChoiceField=Vn,$e.AcroFormListBox=Qr,$e.AcroFormComboBox=Nr,$e.AcroFormEditBox=rn,$e.AcroFormButton=Xr,$e.AcroFormPushButton=yn,$e.AcroFormRadioButton=Wn,$e.AcroFormCheckBox=vs,$e.AcroFormTextField=ys,$e.AcroFormPasswordField=$n,$e.AcroFormAppearance=zr,$e.AcroForm={ChoiceField:Vn,ListBox:Qr,ComboBox:Nr,EditBox:rn,Button:Xr,PushButton:yn,RadioButton:Wn,CheckBox:vs,TextField:ys,PasswordField:$n,Appearance:zr},ze.AcroForm={ChoiceField:Vn,ListBox:Qr,ComboBox:Nr,EditBox:rn,Button:Xr,PushButton:yn,RadioButton:Wn,CheckBox:vs,TextField:ys,PasswordField:$n,Appearance:zr};var Os=ze.AcroForm;function bn(I){return I.reduce(function(C,O,Q){return C[O]=Q,C},{})}(function(I){var C="addImage_";I.__addimage__={};var O="UNKNOWN",Q={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},z=I.__addimage__.getImageFileTypeByImageData=function(Xe,lt){var _t,Tt,dr,pr,Er,Xt=O;if((lt=lt||O)==="RGBA"||Xe.data!==void 0&&Xe.data instanceof Uint8ClampedArray&&"height"in Xe&&"width"in Xe)return"RGBA";if(Mt(Xe))for(Er in Q)for(dr=Q[Er],_t=0;_t<dr.length;_t+=1){for(pr=!0,Tt=0;Tt<dr[_t].length;Tt+=1)if(dr[_t][Tt]!==void 0&&dr[_t][Tt]!==Xe[Tt]){pr=!1;break}if(pr===!0){Xt=Er;break}}else for(Er in Q)for(dr=Q[Er],_t=0;_t<dr.length;_t+=1){for(pr=!0,Tt=0;Tt<dr[_t].length;Tt+=1)if(dr[_t][Tt]!==void 0&&dr[_t][Tt]!==Xe.charCodeAt(Tt)){pr=!1;break}if(pr===!0){Xt=Er;break}}return Xt===O&&lt!==O&&(Xt=lt),Xt},X=function Xe(lt){for(var _t=this.internal.write,Tt=this.internal.putStream,dr=(0,this.internal.getFilters)();dr.indexOf("FlateEncode")!==-1;)dr.splice(dr.indexOf("FlateEncode"),1);lt.objectId=this.internal.newObject();var pr=[];if(pr.push({key:"Type",value:"/XObject"}),pr.push({key:"Subtype",value:"/Image"}),pr.push({key:"Width",value:lt.width}),pr.push({key:"Height",value:lt.height}),lt.colorSpace===qe.INDEXED?pr.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(lt.palette.length/3-1)+" "+("sMask"in lt&&lt.sMask!==void 0?lt.objectId+2:lt.objectId+1)+" 0 R]"}):(pr.push({key:"ColorSpace",value:"/"+lt.colorSpace}),lt.colorSpace===qe.DEVICE_CMYK&&pr.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),pr.push({key:"BitsPerComponent",value:lt.bitsPerComponent}),"decodeParameters"in lt&&lt.decodeParameters!==void 0&&pr.push({key:"DecodeParms",value:"<<"+lt.decodeParameters+">>"}),"transparency"in lt&&Array.isArray(lt.transparency)&&lt.transparency.length>0){for(var Er="",Xt=0,vr=lt.transparency.length;Xt<vr;Xt++)Er+=lt.transparency[Xt]+" "+lt.transparency[Xt]+" ";pr.push({key:"Mask",value:"["+Er+"]"})}lt.sMask!==void 0&&pr.push({key:"SMask",value:lt.objectId+1+" 0 R"});var en=lt.filter!==void 0?["/"+lt.filter]:void 0;if(Tt({data:lt.data,additionalKeyValues:pr,alreadyAppliedFilters:en,objectId:lt.objectId}),_t("endobj"),"sMask"in lt&&lt.sMask!==void 0){var $r,Qe=($r=lt.sMaskBitsPerComponent)!==null&&$r!==void 0?$r:lt.bitsPerComponent,vt={width:lt.width,height:lt.height,colorSpace:"DeviceGray",bitsPerComponent:Qe,data:lt.sMask};"filter"in lt&&(vt.decodeParameters="/Predictor ".concat(lt.predictor," /Colors 1 /BitsPerComponent ").concat(Qe," /Columns ").concat(lt.width),vt.filter=lt.filter),Xe.call(this,vt)}if(lt.colorSpace===qe.INDEXED){var bt=this.internal.newObject();Tt({data:zt(new Uint8Array(lt.palette)),objectId:bt}),_t("endobj")}},fe=function(){var Xe=this.internal.collections[C+"images"];for(var lt in Xe)X.call(this,Xe[lt])},ie=function(){var Xe,lt=this.internal.collections[C+"images"],_t=this.internal.write;for(var Tt in lt)_t("/I"+(Xe=lt[Tt]).index,Xe.objectId,"0","R")},ae=function(){this.internal.collections[C+"images"]||(this.internal.collections[C+"images"]={},this.internal.events.subscribe("putResources",fe),this.internal.events.subscribe("putXobjectDict",ie))},Se=function(){var Xe=this.internal.collections[C+"images"];return ae.call(this),Xe},Re=function(){return Object.keys(this.internal.collections[C+"images"]).length},Ge=function(Xe){return typeof I["process"+Xe.toUpperCase()]=="function"},et=function(Xe){return(0,d.default)(Xe)==="object"&&Xe.nodeType===1},xe=function(Xe,lt){if(Xe.nodeName==="IMG"&&Xe.hasAttribute("src")){var _t=""+Xe.getAttribute("src");if(_t.indexOf("data:image/")===0)return L(unescape(_t).split("base64,").pop());var Tt=I.loadFile(_t,!0);if(Tt!==void 0)return Tt}if(Xe.nodeName==="CANVAS"){if(Xe.width===0||Xe.height===0)throw new Error("Given canvas must have data. Canvas width: "+Xe.width+", height: "+Xe.height);var dr;switch(lt){case"PNG":dr="image/png";break;case"WEBP":dr="image/webp";break;default:dr="image/jpeg"}return L(Xe.toDataURL(dr,1).split("base64,").pop())}},gt=function(Xe){var lt=this.internal.collections[C+"images"];if(lt){for(var _t in lt)if(Xe===lt[_t].alias)return lt[_t]}},At=function(Xe,lt,_t){return Xe||lt||(Xe=-96,lt=-96),Xe<0&&(Xe=-1*_t.width*72/Xe/this.internal.scaleFactor),lt<0&&(lt=-1*_t.height*72/lt/this.internal.scaleFactor),Xe===0&&(Xe=lt*_t.width/_t.height),lt===0&&(lt=Xe*_t.height/_t.width),[Xe,lt]},yt=function(Xe,lt,_t,Tt,dr,pr){var Er=At.call(this,_t,Tt,dr),Xt=this.internal.getCoordinateString,vr=this.internal.getVerticalCoordinateString,en=Se.call(this);if(_t=Er[0],Tt=Er[1],en[dr.index]=dr,pr){pr*=Math.PI/180;var $r=Math.cos(pr),Qe=Math.sin(pr),vt=function(Ft){return Ft.toFixed(4)},bt=[vt($r),vt(Qe),vt(-1*Qe),vt($r),0,0,"cm"]}this.internal.write("q"),pr?(this.internal.write([1,"0","0",1,Xt(Xe),vr(lt+Tt),"cm"].join(" ")),this.internal.write(bt.join(" ")),this.internal.write([Xt(_t),"0","0",Xt(Tt),"0","0","cm"].join(" "))):this.internal.write([Xt(_t),"0","0",Xt(Tt),Xt(Xe),vr(lt+Tt),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+dr.index+" Do"),this.internal.write("Q")},qe=I.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};I.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var jt=I.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},Ht=I.__addimage__.sHashCode=function(Xe){var lt,_t,Tt=0;if(typeof Xe=="string")for(_t=Xe.length,lt=0;lt<_t;lt++)Tt=(Tt<<5)-Tt+Xe.charCodeAt(lt),Tt|=0;else if(Mt(Xe))for(_t=Xe.byteLength/2,lt=0;lt<_t;lt++)Tt=(Tt<<5)-Tt+Xe[lt],Tt|=0;return Tt},St=I.__addimage__.validateStringAsBase64=function(Xe){(Xe=Xe||"").toString().trim();var lt=!0;return Xe.length===0&&(lt=!1),Xe.length%4!=0&&(lt=!1),/^[A-Za-z0-9+/]+$/.test(Xe.substr(0,Xe.length-2))===!1&&(lt=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(Xe.substr(-2))===!1&&(lt=!1),lt},Ye=I.__addimage__.extractImageFromDataUrl=function(Xe){if(Xe==null||!(Xe=Xe.trim()).startsWith("data:"))return null;var lt=Xe.indexOf(",");return lt<0?null:Xe.substring(0,lt).trim().endsWith("base64")?Xe.substring(lt+1):null};I.__addimage__.isArrayBuffer=function(Xe){return Xe instanceof ArrayBuffer};var Mt=I.__addimage__.isArrayBufferView=function(Xe){return Xe instanceof Int8Array||Xe instanceof Uint8Array||Xe instanceof Uint8ClampedArray||Xe instanceof Int16Array||Xe instanceof Uint16Array||Xe instanceof Int32Array||Xe instanceof Uint32Array||Xe instanceof Float32Array||Xe instanceof Float64Array},Ar=I.__addimage__.binaryStringToUint8Array=function(Xe){for(var lt=Xe.length,_t=new Uint8Array(lt),Tt=0;Tt<lt;Tt++)_t[Tt]=Xe.charCodeAt(Tt);return _t},zt=I.__addimage__.arrayBufferToBinaryString=function(Xe){for(var lt="",_t=Mt(Xe)?Xe:new Uint8Array(Xe),Tt=0;Tt<_t.length;Tt+=8192)lt+=String.fromCharCode.apply(null,_t.subarray(Tt,Tt+8192));return lt};I.addImage=function(){var Xe,lt,_t,Tt,dr,pr,Er,Xt,vr;if(typeof arguments[1]=="number"?(lt=O,_t=arguments[1],Tt=arguments[2],dr=arguments[3],pr=arguments[4],Er=arguments[5],Xt=arguments[6],vr=arguments[7]):(lt=arguments[1],_t=arguments[2],Tt=arguments[3],dr=arguments[4],pr=arguments[5],Er=arguments[6],Xt=arguments[7],vr=arguments[8]),(0,d.default)(Xe=arguments[0])==="object"&&!et(Xe)&&"imageData"in Xe){var en=Xe;Xe=en.imageData,lt=en.format||lt||O,_t=en.x||_t||0,Tt=en.y||Tt||0,dr=en.w||en.width||dr,pr=en.h||en.height||pr,Er=en.alias||Er,Xt=en.compression||Xt,vr=en.rotation||en.angle||vr}var $r=this.internal.getFilters();if(Xt===void 0&&$r.indexOf("FlateEncode")!==-1&&(Xt="SLOW"),isNaN(_t)||isNaN(Tt))throw new Error("Invalid coordinates passed to jsPDF.addImage");ae.call(this);var Qe=Ct.call(this,Xe,lt,Er,Xt);return yt.call(this,_t,Tt,dr,pr,Qe,vr),this};var Ct=function(Xe,lt,_t,Tt){var dr,pr,Er;if(typeof Xe=="string"&&z(Xe)===O){Xe=unescape(Xe);var Xt=cr(Xe,!1);(Xt!==""||(Xt=I.loadFile(Xe,!0))!==void 0)&&(Xe=Xt)}if(et(Xe)&&(Xe=xe(Xe,lt)),lt=z(Xe,lt),!Ge(lt))throw new Error("addImage does not support files of type '"+lt+"', please ensure that a plugin for '"+lt+"' support is added.");if(((Er=_t)==null||Er.length===0)&&(_t=(function(vr){return typeof vr=="string"||Mt(vr)?Ht(vr):Mt(vr.data)?Ht(vr.data):null})(Xe)),(dr=gt.call(this,_t))||(Xe instanceof Uint8Array||lt==="RGBA"||(pr=Xe,Xe=Ar(Xe)),dr=this["process"+lt.toUpperCase()](Xe,Re.call(this),_t,(function(vr){return vr&&typeof vr=="string"&&(vr=vr.toUpperCase()),vr in I.image_compression?vr:jt.NONE})(Tt),pr)),!dr)throw new Error("An unknown error occurred whilst processing the image.");return dr},cr=I.__addimage__.convertBase64ToBinaryString=function(Xe,lt){lt=typeof lt!="boolean"||lt;var _t,Tt="";if(typeof Xe=="string"){var dr;_t=(dr=Ye(Xe))!==null&&dr!==void 0?dr:Xe;try{Tt=L(_t)}catch(pr){if(lt)throw St(_t)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+pr.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Tt};I.getImageProperties=function(Xe){var lt,_t,Tt="";if(et(Xe)&&(Xe=xe(Xe)),typeof Xe=="string"&&z(Xe)===O&&((Tt=cr(Xe,!1))===""&&(Tt=I.loadFile(Xe)||""),Xe=Tt),_t=z(Xe),!Ge(_t))throw new Error("addImage does not support files of type '"+_t+"', please ensure that a plugin for '"+_t+"' support is added.");if(Xe instanceof Uint8Array||(Xe=Ar(Xe)),!(lt=this["process"+_t.toUpperCase()](Xe)))throw new Error("An unknown error occurred whilst processing the image");return lt.fileType=_t,lt}})(ze.API),(function(I){var C=function(O){if(O!==void 0&&O!="")return!0};ze.API.events.push(["addPage",function(O){this.internal.getPageInfo(O.pageNumber).pageContext.annotations=[]}]),I.events.push(["putPage",function(O){for(var Q,z,X,fe=this.internal.getCoordinateString,ie=this.internal.getVerticalCoordinateString,ae=this.internal.getPageInfoByObjId(O.objId),Se=O.pageContext.annotations,Re=!1,Ge=0;Ge<Se.length&&!Re;Ge++)switch((Q=Se[Ge]).type){case"link":(C(Q.options.url)||C(Q.options.pageNumber))&&(Re=!0);break;case"reference":case"text":case"freetext":Re=!0}if(Re!=0){this.internal.write("/Annots [");for(var et=0;et<Se.length;et++){Q=Se[et];var xe=this.internal.pdfEscape,gt=this.internal.getEncryptor(O.objId);switch(Q.type){case"reference":this.internal.write(" "+Q.object.objId+" 0 R ");break;case"text":var At=this.internal.newAdditionalObject(),yt=this.internal.newAdditionalObject(),qe=this.internal.getEncryptor(At.objId),jt=Q.title||"Note";X="<</Type /Annot /Subtype /Text "+(z="/Rect ["+fe(Q.bounds.x)+" "+ie(Q.bounds.y+Q.bounds.h)+" "+fe(Q.bounds.x+Q.bounds.w)+" "+ie(Q.bounds.y)+"] ")+"/Contents ("+xe(qe(Q.contents))+")",X+=" /Popup "+yt.objId+" 0 R",X+=" /P "+ae.objId+" 0 R",X+=" /T ("+xe(qe(jt))+") >>",At.content=X;var Ht=At.objId+" 0 R";X="<</Type /Annot /Subtype /Popup "+(z="/Rect ["+fe(Q.bounds.x+30)+" "+ie(Q.bounds.y+Q.bounds.h)+" "+fe(Q.bounds.x+Q.bounds.w+30)+" "+ie(Q.bounds.y)+"] ")+" /Parent "+Ht,Q.open&&(X+=" /Open true"),X+=" >>",yt.content=X,this.internal.write(At.objId,"0 R",yt.objId,"0 R");break;case"freetext":z="/Rect ["+fe(Q.bounds.x)+" "+ie(Q.bounds.y)+" "+fe(Q.bounds.x+Q.bounds.w)+" "+ie(Q.bounds.y+Q.bounds.h)+"] ";var St=Q.color||"#000000";X="<</Type /Annot /Subtype /FreeText "+z+"/Contents ("+xe(gt(Q.contents))+")",X+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+St+")",X+=" /Border [0 0 0]",X+=" >>",this.internal.write(X);break;case"link":if(Q.options.name){var Ye=this.annotations._nameMap[Q.options.name];Q.options.pageNumber=Ye.page,Q.options.top=Ye.y}else Q.options.top||(Q.options.top=0);if(z="/Rect ["+Q.finalBounds.x+" "+Q.finalBounds.y+" "+Q.finalBounds.w+" "+Q.finalBounds.h+"] ",X="",Q.options.url)X="<</Type /Annot /Subtype /Link "+z+"/Border [0 0 0] /A <</S /URI /URI ("+xe(gt(Q.options.url))+") >>";else if(Q.options.pageNumber)switch(X="<</Type /Annot /Subtype /Link "+z+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(Q.options.pageNumber).objId+" 0 R",Q.options.magFactor=Q.options.magFactor||"XYZ",Q.options.magFactor){case"Fit":X+=" /Fit]";break;case"FitH":X+=" /FitH "+Q.options.top+"]";break;case"FitV":Q.options.left=Q.options.left||0,X+=" /FitV "+Q.options.left+"]";break;default:var Mt=ie(Q.options.top);Q.options.left=Q.options.left||0,Q.options.zoom===void 0&&(Q.options.zoom=0),X+=" /XYZ "+Q.options.left+" "+Mt+" "+Q.options.zoom+"]"}X!=""&&(X+=" >>",this.internal.write(X))}}this.internal.write("]")}}]),I.createAnnotation=function(O){var Q=this.internal.getCurrentPageInfo();switch(O.type){case"link":this.link(O.bounds.x,O.bounds.y,O.bounds.w,O.bounds.h,O);break;case"text":case"freetext":Q.pageContext.annotations.push(O)}},I.link=function(O,Q,z,X,fe){var ie=this.internal.getCurrentPageInfo(),ae=this.internal.getCoordinateString,Se=this.internal.getVerticalCoordinateString;ie.pageContext.annotations.push({finalBounds:{x:ae(O),y:Se(Q),w:ae(O+z),h:Se(Q+X)},options:fe,type:"link"})},I.textWithLink=function(O,Q,z,X){var fe,ie,ae=this.getTextWidth(O),Se=this.internal.getLineHeight()/this.internal.scaleFactor;if(X.maxWidth!==void 0){ie=X.maxWidth;var Re=this.splitTextToSize(O,ie).length;fe=Math.ceil(Se*Re)}else ie=ae,fe=Se;return this.text(O,Q,z,X),z+=.2*Se,X.align==="center"&&(Q-=ae/2),X.align==="right"&&(Q-=ae),this.link(Q,z-Se,ie,fe,X),ae},I.getTextWidth=function(O){var Q=this.internal.getFontSize();return this.getStringUnitWidth(O)*Q/this.internal.scaleFactor}})(ze.API),(function(I){var C={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},O={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},Q={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},z=[1570,1571,1573,1575];I.__arabicParser__={};var X=I.__arabicParser__.isInArabicSubstitutionA=function(At){return C[At.charCodeAt(0)]!==void 0},fe=I.__arabicParser__.isArabicLetter=function(At){return typeof At=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(At)},ie=I.__arabicParser__.isArabicEndLetter=function(At){return fe(At)&&X(At)&&C[At.charCodeAt(0)].length<=2},ae=I.__arabicParser__.isArabicAlfLetter=function(At){return fe(At)&&z.indexOf(At.charCodeAt(0))>=0};I.__arabicParser__.arabicLetterHasIsolatedForm=function(At){return fe(At)&&X(At)&&C[At.charCodeAt(0)].length>=1};var Se=I.__arabicParser__.arabicLetterHasFinalForm=function(At){return fe(At)&&X(At)&&C[At.charCodeAt(0)].length>=2};I.__arabicParser__.arabicLetterHasInitialForm=function(At){return fe(At)&&X(At)&&C[At.charCodeAt(0)].length>=3};var Re=I.__arabicParser__.arabicLetterHasMedialForm=function(At){return fe(At)&&X(At)&&C[At.charCodeAt(0)].length==4},Ge=I.__arabicParser__.resolveLigatures=function(At){var yt=0,qe=O,jt="",Ht=0;for(yt=0;yt<At.length;yt+=1)qe[At.charCodeAt(yt)]!==void 0?(Ht++,typeof(qe=qe[At.charCodeAt(yt)])=="number"&&(jt+=String.fromCharCode(qe),qe=O,Ht=0),yt===At.length-1&&(qe=O,jt+=At.charAt(yt-(Ht-1)),yt-=Ht-1,Ht=0)):(qe=O,jt+=At.charAt(yt-Ht),yt-=Ht,Ht=0);return jt};I.__arabicParser__.isArabicDiacritic=function(At){return At!==void 0&&Q[At.charCodeAt(0)]!==void 0};var et=I.__arabicParser__.getCorrectForm=function(At,yt,qe){return fe(At)?X(At)===!1?-1:!Se(At)||!fe(yt)&&!fe(qe)||!fe(qe)&&ie(yt)||ie(At)&&!fe(yt)||ie(At)&&ae(yt)||ie(At)&&ie(yt)?0:Re(At)&&fe(yt)&&!ie(yt)&&fe(qe)&&Se(qe)?3:ie(At)||!fe(qe)?1:2:-1},xe=function(At){var yt=0,qe=0,jt=0,Ht="",St="",Ye="",Mt=(At=At||"").split("\\s+"),Ar=[];for(yt=0;yt<Mt.length;yt+=1){for(Ar.push(""),qe=0;qe<Mt[yt].length;qe+=1)Ht=Mt[yt][qe],St=Mt[yt][qe-1],Ye=Mt[yt][qe+1],fe(Ht)?(jt=et(Ht,St,Ye),Ar[yt]+=jt!==-1?String.fromCharCode(C[Ht.charCodeAt(0)][jt]):Ht):Ar[yt]+=Ht;Ar[yt]=Ge(Ar[yt])}return Ar.join(" ")},gt=I.__arabicParser__.processArabic=I.processArabic=function(){var At,yt=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,qe=[];if(Array.isArray(yt)){var jt=0;for(qe=[],jt=0;jt<yt.length;jt+=1)Array.isArray(yt[jt])?qe.push([xe(yt[jt][0]),yt[jt][1],yt[jt][2]]):qe.push([xe(yt[jt])]);At=qe}else At=xe(yt);return typeof arguments[0]=="string"?At:(arguments[0].text=At,arguments[0])};I.events.push(["preProcessText",gt])})(ze.API),ze.API.autoPrint=function(I){var C;return(I=I||{}).variant=I.variant||"non-conform",I.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){C=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+C+" 0 R")})),this},(function(I){var C=function(){var O=void 0;Object.defineProperty(this,"pdf",{get:function(){return O},set:function(ie){O=ie}});var Q=150;Object.defineProperty(this,"width",{get:function(){return Q},set:function(ie){Q=isNaN(ie)||Number.isInteger(ie)===!1||ie<0?150:ie,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=Q+1)}});var z=300;Object.defineProperty(this,"height",{get:function(){return z},set:function(ie){z=isNaN(ie)||Number.isInteger(ie)===!1||ie<0?300:ie,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=z+1)}});var X=[];Object.defineProperty(this,"childNodes",{get:function(){return X},set:function(ie){X=ie}});var fe={};Object.defineProperty(this,"style",{get:function(){return fe},set:function(ie){fe=ie}}),Object.defineProperty(this,"parentNode",{})};C.prototype.getContext=function(O,Q){var z;if((O=O||"2d")!=="2d")return null;for(z in Q)this.pdf.context2d.hasOwnProperty(z)&&(this.pdf.context2d[z]=Q[z]);return this.pdf.context2d._canvas=this,this.pdf.context2d},C.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},I.events.push(["initialized",function(){this.canvas=new C,this.canvas.pdf=this}])})(ze.API),(function(I){var C={left:0,top:0,bottom:0,right:0},O=!1,Q=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},C),this.internal.__cell__.margins.width=this.getPageWidth(),z.call(this))},z=function(){this.internal.__cell__.lastCell=new X,this.internal.__cell__.pages=1},X=function(){var ae=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ae},set:function(At){ae=At}});var Se=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Se},set:function(At){Se=At}});var Re=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return Re},set:function(At){Re=At}});var Ge=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return Ge},set:function(At){Ge=At}});var et=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return et},set:function(At){et=At}});var xe=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return xe},set:function(At){xe=At}});var gt=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return gt},set:function(At){gt=At}}),this};X.prototype.clone=function(){return new X(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},X.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},I.setHeaderFunction=function(ae){return Q.call(this),this.internal.__cell__.headerFunction=typeof ae=="function"?ae:void 0,this},I.getTextDimensions=function(ae,Se){Q.call(this);var Re=(Se=Se||{}).fontSize||this.getFontSize(),Ge=Se.font||this.getFont(),et=Se.scaleFactor||this.internal.scaleFactor,xe=0,gt=0,At=0,yt=this;if(!Array.isArray(ae)&&typeof ae!="string"){if(typeof ae!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");ae=String(ae)}var qe=Se.maxWidth;qe>0?typeof ae=="string"?ae=this.splitTextToSize(ae,qe):Object.prototype.toString.call(ae)==="[object Array]"&&(ae=ae.reduce(function(Ht,St){return Ht.concat(yt.splitTextToSize(St,qe))},[])):ae=Array.isArray(ae)?ae:[ae];for(var jt=0;jt<ae.length;jt++)xe<(At=this.getStringUnitWidth(ae[jt],{font:Ge})*Re)&&(xe=At);return xe!==0&&(gt=ae.length),{w:xe/=et,h:Math.max((gt*Re*this.getLineHeightFactor()-Re*(this.getLineHeightFactor()-1))/et,0)}},I.cellAddPage=function(){Q.call(this),this.addPage();var ae=this.internal.__cell__.margins||C;return this.internal.__cell__.lastCell=new X(ae.left,ae.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var fe=I.cell=function(){var ae;ae=arguments[0]instanceof X?arguments[0]:new X(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),Q.call(this);var Se=this.internal.__cell__.lastCell,Re=this.internal.__cell__.padding,Ge=this.internal.__cell__.margins||C,et=this.internal.__cell__.tableHeaderRow,xe=this.internal.__cell__.printHeaders;return Se.lineNumber!==void 0&&(Se.lineNumber===ae.lineNumber?(ae.x=(Se.x||0)+(Se.width||0),ae.y=Se.y||0):Se.y+Se.height+ae.height+Ge.bottom>this.getPageHeight()?(this.cellAddPage(),ae.y=Ge.top,xe&&et&&(this.printHeaderRow(ae.lineNumber,!0),ae.y+=et[0].height)):ae.y=Se.y+Se.height||ae.y),ae.text[0]!==void 0&&(this.rect(ae.x,ae.y,ae.width,ae.height,O===!0?"FD":void 0),ae.align==="right"?this.text(ae.text,ae.x+ae.width-Re,ae.y+Re,{align:"right",baseline:"top"}):ae.align==="center"?this.text(ae.text,ae.x+ae.width/2,ae.y+Re,{align:"center",baseline:"top",maxWidth:ae.width-Re-Re}):this.text(ae.text,ae.x+Re,ae.y+Re,{align:"left",baseline:"top",maxWidth:ae.width-Re-Re})),this.internal.__cell__.lastCell=ae,this};I.table=function(ae,Se,Re,Ge,et){if(Q.call(this),!Re)throw new Error("No data for PDF table.");var xe,gt,At,yt,qe=[],jt=[],Ht=[],St={},Ye={},Mt=[],Ar=[],zt=(et=et||{}).autoSize||!1,Ct=et.printHeaders!==!1,cr=et.css&&et.css["font-size"]!==void 0?16*et.css["font-size"]:et.fontSize||12,Xe=et.margins||Object.assign({width:this.getPageWidth()},C),lt=typeof et.padding=="number"?et.padding:3,_t=et.headerBackgroundColor||"#c8c8c8",Tt=et.headerTextColor||"#000";if(z.call(this),this.internal.__cell__.printHeaders=Ct,this.internal.__cell__.margins=Xe,this.internal.__cell__.table_font_size=cr,this.internal.__cell__.padding=lt,this.internal.__cell__.headerBackgroundColor=_t,this.internal.__cell__.headerTextColor=Tt,this.setFontSize(cr),Ge==null)jt=qe=Object.keys(Re[0]),Ht=qe.map(function(){return"left"});else if(Array.isArray(Ge)&&(0,d.default)(Ge[0])==="object")for(qe=Ge.map(function(en){return en.name}),jt=Ge.map(function(en){return en.prompt||en.name||""}),Ht=Ge.map(function(en){return en.align||"left"}),xe=0;xe<Ge.length;xe+=1)Ye[Ge[xe].name]=.7499990551181103*Ge[xe].width;else Array.isArray(Ge)&&typeof Ge[0]=="string"&&(jt=qe=Ge,Ht=qe.map(function(){return"left"}));if(zt||Array.isArray(Ge)&&typeof Ge[0]=="string")for(xe=0;xe<qe.length;xe+=1){for(St[yt=qe[xe]]=Re.map(function(en){return en[yt]}),this.setFont(void 0,"bold"),Mt.push(this.getTextDimensions(jt[xe],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),gt=St[yt],this.setFont(void 0,"normal"),At=0;At<gt.length;At+=1)Mt.push(this.getTextDimensions(gt[At],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);Ye[yt]=Math.max.apply(null,Mt)+lt+lt,Mt=[]}if(Ct){var dr={};for(xe=0;xe<qe.length;xe+=1)dr[qe[xe]]={},dr[qe[xe]].text=jt[xe],dr[qe[xe]].align=Ht[xe];var pr=ie.call(this,dr,Ye);Ar=qe.map(function(en){return new X(ae,Se,Ye[en],pr,dr[en].text,void 0,dr[en].align)}),this.setTableHeaderRow(Ar),this.printHeaderRow(1,!1)}var Er=Ge.reduce(function(en,$r){return en[$r.name]=$r.align,en},{});for(xe=0;xe<Re.length;xe+=1){"rowStart"in et&&et.rowStart instanceof Function&&et.rowStart({row:xe,data:Re[xe]},this);var Xt=ie.call(this,Re[xe],Ye);for(At=0;At<qe.length;At+=1){var vr=Re[xe][qe[At]];"cellStart"in et&&et.cellStart instanceof Function&&et.cellStart({row:xe,col:At,data:vr},this),fe.call(this,new X(ae,Se,Ye[qe[At]],Xt,vr,xe+2,Er[qe[At]]))}}return this.internal.__cell__.table_x=ae,this.internal.__cell__.table_y=Se,this};var ie=function(ae,Se){var Re=this.internal.__cell__.padding,Ge=this.internal.__cell__.table_font_size,et=this.internal.scaleFactor;return Object.keys(ae).map(function(xe){var gt=ae[xe];return this.splitTextToSize(gt.hasOwnProperty("text")?gt.text:gt,Se[xe]-Re-Re)},this).map(function(xe){return this.getLineHeightFactor()*xe.length*Ge/et+Re+Re},this).reduce(function(xe,gt){return Math.max(xe,gt)},0)};I.setTableHeaderRow=function(ae){Q.call(this),this.internal.__cell__.tableHeaderRow=ae},I.printHeaderRow=function(ae,Se){if(Q.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var Re;if(O=!0,typeof this.internal.__cell__.headerFunction=="function"){var Ge=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new X(Ge[0],Ge[1],Ge[2],Ge[3],void 0,-1)}this.setFont(void 0,"bold");for(var et=[],xe=0;xe<this.internal.__cell__.tableHeaderRow.length;xe+=1){Re=this.internal.__cell__.tableHeaderRow[xe].clone(),Se&&(Re.y=this.internal.__cell__.margins.top||0,et.push(Re)),Re.lineNumber=ae;var gt=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),fe.call(this,Re),this.setTextColor(gt)}et.length>0&&this.setTableHeaderRow(et),this.setFont(void 0,"normal"),O=!1}})(ze.API);var La={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},ws=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Ts=bn(ws),Es=[100,200,300,400,500,600,700,800,900],Hi=bn(Es);function Hs(I){var C=I.family.replace(/"|'/g,"").toLowerCase(),O=(function(X){return La[X=X||"normal"]?X:"normal"})(I.style),Q=(function(X){return X?typeof X=="number"?X>=100&&X<=900&&X%100==0?X:400:/^\d00$/.test(X)?parseInt(X):X==="bold"?700:400:400})(I.weight),z=(function(X){return typeof Ts[X=X||"normal"]=="number"?X:"normal"})(I.stretch);return{family:C,style:O,weight:Q,stretch:z,src:I.src||[],ref:I.ref||{name:C,style:[z,O,Q].join(" ")}}}function xs(I,C,O,Q){var z;for(z=O;z>=0&&z<C.length;z+=Q)if(I[C[z]])return I[C[z]];for(z=O;z>=0&&z<C.length;z-=Q)if(I[C[z]])return I[C[z]]}var _o={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},rs={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Yu(I){return[I.stretch,I.style,I.weight,I.family].join(" ")}function Ua(I){return I.trimLeft()}function Bl(I,C){for(var O=0;O<I.length;){if(I.charAt(O)===C)return[I.substring(0,O),I.substring(O+1)];O+=1}return null}function yu(I){var C=I.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return C===null?null:[C[0],I.substring(C[0].length)]}var fl,Ps,oo,Cs,aa,bs,Al,Ga,lo=["times"];function Ec(I,C,O,Q,z){var X=4,fe=Qs;switch(z){case ze.API.image_compression.FAST:X=1,fe=Gc;break;case ze.API.image_compression.MEDIUM:X=6,fe=Ws;break;case ze.API.image_compression.SLOW:X=9,fe=ml}I=(function(ae,Se,Re,Ge){for(var et,xe=ae.length/Se,gt=new Uint8Array(ae.length+xe),At=[oc,Gc,Qs,Ws,ml],yt=0;yt<xe;yt+=1){var qe=yt*Se,jt=ae.subarray(qe,qe+Se);if(Ge)gt.set(Ge(jt,Re,et),qe+yt);else{for(var Ht=At.length,St=[],Ye=0;Ye<Ht;Ye+=1)St[Ye]=At[Ye](jt,Re,et);var Mt=To(St.concat());gt.set(St[Mt],qe+yt)}et=jt}return gt})(I,C,Math.ceil(O*Q/8),fe);var ie=(0,f.zlibSync)(I,{level:X});return ze.API.__addimage__.arrayBufferToBinaryString(ie)}function oc(I){var C=Array.apply([],I);return C.unshift(0),C}function Gc(I,C){var O=I.length,Q=[];Q[0]=1;for(var z=0;z<O;z+=1){var X=I[z-C]||0;Q[z+1]=I[z]-X+256&255}return Q}function Qs(I,C,O){var Q=I.length,z=[];z[0]=2;for(var X=0;X<Q;X+=1){var fe=O&&O[X]||0;z[X+1]=I[X]-fe+256&255}return z}function Ws(I,C,O){var Q=I.length,z=[];z[0]=3;for(var X=0;X<Q;X+=1){var fe=I[X-C]||0,ie=O&&O[X]||0;z[X+1]=I[X]+256-(fe+ie>>>1)&255}return z}function ml(I,C,O){var Q=I.length,z=[];z[0]=4;for(var X=0;X<Q;X+=1){var fe=Ra(I[X-C]||0,O&&O[X]||0,O&&O[X-C]||0);z[X+1]=I[X]-fe+256&255}return z}function Ra(I,C,O){if(I===C&&C===O)return I;var Q=Math.abs(C-O),z=Math.abs(I-O),X=Math.abs(I+C-O-O);return Q<=z&&Q<=X?I:z<=X?C:O}function To(I){var C=I.map(function(O){return O.reduce(function(Q,z){return Q+Math.abs(z)},0)});return C.indexOf(Math.min.apply(null,C))}function za(I,C,O){var Q=C*O,z=Math.floor(Q/8),X=16-(Q-8*z+O),fe=(1<<O)-1;return ba(I,z)>>X&fe}function ci(I,C,O,Q){var z=O*Q,X=Math.floor(z/8),fe=16-(z-8*X+Q),ie=(1<<Q)-1,ae=(C&ie)<<fe;(function(Se,Re,Ge){if(Re+1<Se.byteLength)Se.setUint16(Re,Ge,!1);else{var et=Ge>>8&255;Se.setUint8(Re,et)}})(I,X,ba(I,X)&~(ie<<fe)&65535|ae)}function ba(I,C){return C+1<I.byteLength?I.getUint16(C,!1):I.getUint8(C)<<8}function co(I){var C=0;if(I[C++]!==71||I[C++]!==73||I[C++]!==70||I[C++]!==56||(I[C++]+1&253)!=56||I[C++]!==97)throw new Error("Invalid GIF 87a/89a header.");var O=I[C++]|I[C++]<<8,Q=I[C++]|I[C++]<<8,z=I[C++],X=z>>7,fe=1<<1+(7&z);I[C++],I[C++];var ie=null,ae=null;X&&(ie=C,ae=fe,C+=3*fe);var Se=!0,Re=[],Ge=0,et=null,xe=0,gt=null;for(this.width=O,this.height=Q;Se&&C<I.length;)switch(I[C++]){case 33:switch(I[C++]){case 255:if(I[C]!==11||I[C+1]==78&&I[C+2]==69&&I[C+3]==84&&I[C+4]==83&&I[C+5]==67&&I[C+6]==65&&I[C+7]==80&&I[C+8]==69&&I[C+9]==50&&I[C+10]==46&&I[C+11]==48&&I[C+12]==3&&I[C+13]==1&&I[C+16]==0)C+=14,gt=I[C++]|I[C++]<<8,C++;else for(C+=12;;){if(!((Xe=I[C++])>=0))throw Error("Invalid block size");if(Xe===0)break;C+=Xe}break;case 249:if(I[C++]!==4||I[C+4]!==0)throw new Error("Invalid graphics extension block.");var At=I[C++];Ge=I[C++]|I[C++]<<8,et=I[C++],1&At||(et=null),xe=At>>2&7,C++;break;case 254:for(;;){if(!((Xe=I[C++])>=0))throw Error("Invalid block size");if(Xe===0)break;C+=Xe}break;default:throw new Error("Unknown graphic control label: 0x"+I[C-1].toString(16))}break;case 44:var yt=I[C++]|I[C++]<<8,qe=I[C++]|I[C++]<<8,jt=I[C++]|I[C++]<<8,Ht=I[C++]|I[C++]<<8,St=I[C++],Ye=St>>6&1,Mt=1<<1+(7&St),Ar=ie,zt=ae,Ct=!1;St>>7&&(Ct=!0,Ar=C,zt=Mt,C+=3*Mt);var cr=C;for(C++;;){var Xe;if(!((Xe=I[C++])>=0))throw Error("Invalid block size");if(Xe===0)break;C+=Xe}Re.push({x:yt,y:qe,width:jt,height:Ht,has_local_palette:Ct,palette_offset:Ar,palette_size:zt,data_offset:cr,data_length:C-cr,transparent_index:et,interlaced:!!Ye,delay:Ge,disposal:xe});break;case 59:Se=!1;break;default:throw new Error("Unknown gif block: 0x"+I[C-1].toString(16))}this.numFrames=function(){return Re.length},this.loopCount=function(){return gt},this.frameInfo=function(lt){if(lt<0||lt>=Re.length)throw new Error("Frame index out of range.");return Re[lt]},this.decodeAndBlitFrameBGRA=function(lt,_t){var Tt=this.frameInfo(lt),dr=Tt.width*Tt.height,pr=new Uint8Array(dr);pa(I,Tt.data_offset,pr,dr);var Er=Tt.palette_offset,Xt=Tt.transparent_index;Xt===null&&(Xt=256);var vr=Tt.width,en=O-vr,$r=vr,Qe=4*(Tt.y*O+Tt.x),vt=4*((Tt.y+Tt.height)*O+Tt.x),bt=Qe,Ft=4*en;Tt.interlaced===!0&&(Ft+=4*O*7);for(var Qt=8,nr=0,xr=pr.length;nr<xr;++nr){var br=pr[nr];if($r===0&&($r=vr,(bt+=Ft)>=vt&&(Ft=4*en+4*O*(Qt-1),bt=Qe+(vr+en)*(Qt<<1),Qt>>=1)),br===Xt)bt+=4;else{var Lr=I[Er+3*br],tn=I[Er+3*br+1],En=I[Er+3*br+2];_t[bt++]=En,_t[bt++]=tn,_t[bt++]=Lr,_t[bt++]=255}--$r}},this.decodeAndBlitFrameRGBA=function(lt,_t){var Tt=this.frameInfo(lt),dr=Tt.width*Tt.height,pr=new Uint8Array(dr);pa(I,Tt.data_offset,pr,dr);var Er=Tt.palette_offset,Xt=Tt.transparent_index;Xt===null&&(Xt=256);var vr=Tt.width,en=O-vr,$r=vr,Qe=4*(Tt.y*O+Tt.x),vt=4*((Tt.y+Tt.height)*O+Tt.x),bt=Qe,Ft=4*en;Tt.interlaced===!0&&(Ft+=4*O*7);for(var Qt=8,nr=0,xr=pr.length;nr<xr;++nr){var br=pr[nr];if($r===0&&($r=vr,(bt+=Ft)>=vt&&(Ft=4*en+4*O*(Qt-1),bt=Qe+(vr+en)*(Qt<<1),Qt>>=1)),br===Xt)bt+=4;else{var Lr=I[Er+3*br],tn=I[Er+3*br+1],En=I[Er+3*br+2];_t[bt++]=Lr,_t[bt++]=tn,_t[bt++]=En,_t[bt++]=255}--$r}}}function pa(I,C,O,Q){for(var z=I[C++],X=1<<z,fe=X+1,ie=fe+1,ae=z+1,Se=(1<<ae)-1,Re=0,Ge=0,et=0,xe=I[C++],gt=new Int32Array(4096),At=null;;){for(;Re<16&&xe!==0;)Ge|=I[C++]<<Re,Re+=8,xe===1?xe=I[C++]:--xe;if(Re<ae)break;var yt=Ge&Se;if(Ge>>=ae,Re-=ae,yt!==X){if(yt===fe)break;for(var qe=yt<ie?yt:At,jt=0,Ht=qe;Ht>X;)Ht=gt[Ht]>>8,++jt;var St=Ht;if(et+jt+(qe!==yt?1:0)>Q)return void v.log("Warning, gif stream longer than expected.");O[et++]=St;var Ye=et+=jt;for(qe!==yt&&(O[et++]=St),Ht=qe;jt--;)Ht=gt[Ht],O[--Ye]=255&Ht,Ht>>=8;At!==null&&ie<4096&&(gt[ie++]=At<<8|St,ie>=Se+1&&ae<12&&(++ae,Se=Se<<1|1)),At=yt}else ie=fe+1,Se=(1<<(ae=z+1))-1,At=null}return et!==Q&&v.log("Warning, gif stream shorter than expected."),O}function pl(I){var C,O,Q,z,X,fe=Math.floor,ie=new Array(64),ae=new Array(64),Se=new Array(64),Re=new Array(64),Ge=new Array(65535),et=new Array(65535),xe=new Array(64),gt=new Array(64),At=[],yt=0,qe=7,jt=new Array(64),Ht=new Array(64),St=new Array(64),Ye=new Array(256),Mt=new Array(2048),Ar=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],zt=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Ct=[0,1,2,3,4,5,6,7,8,9,10,11],cr=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],Xe=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],lt=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],_t=[0,1,2,3,4,5,6,7,8,9,10,11],Tt=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],dr=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function pr(Qe,vt){for(var bt=0,Ft=0,Qt=new Array,nr=1;nr<=16;nr++){for(var xr=1;xr<=Qe[nr];xr++)Qt[vt[Ft]]=[],Qt[vt[Ft]][0]=bt,Qt[vt[Ft]][1]=nr,Ft++,bt++;bt*=2}return Qt}function Er(Qe){for(var vt=Qe[0],bt=Qe[1]-1;bt>=0;)vt&1<<bt&&(yt|=1<<qe),bt--,--qe<0&&(yt==255?(Xt(255),Xt(0)):Xt(yt),qe=7,yt=0)}function Xt(Qe){At.push(Qe)}function vr(Qe){Xt(Qe>>8&255),Xt(255&Qe)}function en(Qe,vt,bt,Ft,Qt){for(var nr,xr=Qt[0],br=Qt[240],Lr=(function(Hr,mi){var Sn,ai,Kn,Zs,Qi,Bn,cs,di,Ln,vi,Gn=0;for(Ln=0;Ln<8;++Ln){Sn=Hr[Gn],ai=Hr[Gn+1],Kn=Hr[Gn+2],Zs=Hr[Gn+3],Qi=Hr[Gn+4],Bn=Hr[Gn+5],cs=Hr[Gn+6];var Bi=Sn+(di=Hr[Gn+7]),As=Sn-di,Gi=ai+cs,ns=ai-cs,Ea=Kn+Bn,oi=Kn-Bn,ga=Zs+Qi,ji=Zs-Qi,ri=Bi+ga,Ys=Bi-ga,Pi=Gi+Ea,fn=Gi-Ea;Hr[Gn]=ri+Pi,Hr[Gn+4]=ri-Pi;var Xi=.707106781*(fn+Ys);Hr[Gn+2]=Ys+Xi,Hr[Gn+6]=Ys-Xi;var Fd=.382683433*((ri=ji+oi)-(fn=ns+As)),Co=.5411961*ri+Fd,cl=1.306562965*fn+Fd,xu=.707106781*(Pi=oi+ns),xi=As+xu,$a=As-xu;Hr[Gn+5]=$a+Co,Hr[Gn+3]=$a-Co,Hr[Gn+1]=xi+cl,Hr[Gn+7]=xi-cl,Gn+=8}for(Gn=0,Ln=0;Ln<8;++Ln){Sn=Hr[Gn],ai=Hr[Gn+8],Kn=Hr[Gn+16],Zs=Hr[Gn+24],Qi=Hr[Gn+32],Bn=Hr[Gn+40],cs=Hr[Gn+48];var qa=Sn+(di=Hr[Gn+56]),lc=Sn-di,Rl=ai+cs,fa=ai-cs,Xa=Kn+Bn,Ha=Kn-Bn,zc=Zs+Qi,jo=Zs-Qi,Sc=qa+zc,gl=qa-zc,Wc=Rl+Xa,Ol=Rl-Xa;Hr[Gn]=Sc+Wc,Hr[Gn+32]=Sc-Wc;var _c=.707106781*(Ol+gl);Hr[Gn+16]=gl+_c,Hr[Gn+48]=gl-_c;var Ud=.382683433*((Sc=jo+Ha)-(Ol=fa+lc)),Tc=.5411961*Sc+Ud,Pl=1.306562965*Ol+Ud,gd=.707106781*(Wc=Ha+fa),$d=lc+gd,qu=lc-gd;Hr[Gn+40]=qu+Tc,Hr[Gn+24]=qu-Tc,Hr[Gn+8]=$d+Pl,Hr[Gn+56]=$d-Pl,Gn++}for(Ln=0;Ln<64;++Ln)vi=Hr[Ln]*mi[Ln],xe[Ln]=vi>0?vi+.5|0:vi-.5|0;return xe})(Qe,vt),tn=0;tn<64;++tn)gt[Ar[tn]]=Lr[tn];var En=gt[0]-bt;bt=gt[0],En==0?Er(Ft[0]):(Er(Ft[et[nr=32767+En]]),Er(Ge[nr]));for(var wn=63;wn>0&&gt[wn]==0;)wn--;if(wn==0)return Er(xr),bt;for(var ui,st=1;st<=wn;){for(var An=st;gt[st]==0&&st<=wn;)++st;var _i=st-An;if(_i>=16){ui=_i>>4;for(var ln=1;ln<=ui;++ln)Er(br);_i&=15}nr=32767+gt[st],Er(Qt[(_i<<4)+et[nr]]),Er(Ge[nr]),st++}return wn!=63&&Er(xr),bt}function $r(Qe){Qe=Math.min(Math.max(Qe,1),100),X!=Qe&&((function(vt){for(var bt=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Ft=0;Ft<64;Ft++){var Qt=fe((bt[Ft]*vt+50)/100);Qt=Math.min(Math.max(Qt,1),255),ie[Ar[Ft]]=Qt}for(var nr=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],xr=0;xr<64;xr++){var br=fe((nr[xr]*vt+50)/100);br=Math.min(Math.max(br,1),255),ae[Ar[xr]]=br}for(var Lr=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],tn=0,En=0;En<8;En++)for(var wn=0;wn<8;wn++)Se[tn]=1/(ie[Ar[tn]]*Lr[En]*Lr[wn]*8),Re[tn]=1/(ae[Ar[tn]]*Lr[En]*Lr[wn]*8),tn++})(Qe<50?Math.floor(5e3/Qe):Math.floor(200-2*Qe)),X=Qe)}this.encode=function(Qe,vt){vt&&$r(vt),At=new Array,yt=0,qe=7,vr(65496),vr(65504),vr(16),Xt(74),Xt(70),Xt(73),Xt(70),Xt(0),Xt(1),Xt(1),Xt(0),vr(1),vr(1),Xt(0),Xt(0),(function(){vr(65499),vr(132),Xt(0);for(var ai=0;ai<64;ai++)Xt(ie[ai]);Xt(1);for(var Kn=0;Kn<64;Kn++)Xt(ae[Kn])})(),(function(ai,Kn){vr(65472),vr(17),Xt(8),vr(Kn),vr(ai),Xt(3),Xt(1),Xt(17),Xt(0),Xt(2),Xt(17),Xt(1),Xt(3),Xt(17),Xt(1)})(Qe.width,Qe.height),(function(){vr(65476),vr(418),Xt(0);for(var ai=0;ai<16;ai++)Xt(zt[ai+1]);for(var Kn=0;Kn<=11;Kn++)Xt(Ct[Kn]);Xt(16);for(var Zs=0;Zs<16;Zs++)Xt(cr[Zs+1]);for(var Qi=0;Qi<=161;Qi++)Xt(Xe[Qi]);Xt(1);for(var Bn=0;Bn<16;Bn++)Xt(lt[Bn+1]);for(var cs=0;cs<=11;cs++)Xt(_t[cs]);Xt(17);for(var di=0;di<16;di++)Xt(Tt[di+1]);for(var Ln=0;Ln<=161;Ln++)Xt(dr[Ln])})(),vr(65498),vr(12),Xt(3),Xt(1),Xt(0),Xt(2),Xt(17),Xt(3),Xt(17),Xt(0),Xt(63),Xt(0);var bt=0,Ft=0,Qt=0;yt=0,qe=7,this.encode.displayName="_encode_";for(var nr,xr,br,Lr,tn,En,wn,ui,st,An=Qe.data,_i=Qe.width,ln=Qe.height,Hr=4*_i,mi=0;mi<ln;){for(nr=0;nr<Hr;){for(tn=Hr*mi+nr,wn=-1,ui=0,st=0;st<64;st++)En=tn+(ui=st>>3)*Hr+(wn=4*(7&st)),mi+ui>=ln&&(En-=Hr*(mi+1+ui-ln)),nr+wn>=Hr&&(En-=nr+wn-Hr+4),xr=An[En++],br=An[En++],Lr=An[En++],jt[st]=(Mt[xr]+Mt[br+256|0]+Mt[Lr+512|0]>>16)-128,Ht[st]=(Mt[xr+768|0]+Mt[br+1024|0]+Mt[Lr+1280|0]>>16)-128,St[st]=(Mt[xr+1280|0]+Mt[br+1536|0]+Mt[Lr+1792|0]>>16)-128;bt=en(jt,Se,bt,C,Q),Ft=en(Ht,Re,Ft,O,z),Qt=en(St,Re,Qt,O,z),nr+=32}mi+=8}if(qe>=0){var Sn=[];Sn[1]=qe+1,Sn[0]=(1<<qe+1)-1,Er(Sn)}return vr(65497),new Uint8Array(At)},I=I||50,(function(){for(var Qe=String.fromCharCode,vt=0;vt<256;vt++)Ye[vt]=Qe(vt)})(),C=pr(zt,Ct),O=pr(lt,_t),Q=pr(cr,Xe),z=pr(Tt,dr),(function(){for(var Qe=1,vt=2,bt=1;bt<=15;bt++){for(var Ft=Qe;Ft<vt;Ft++)et[32767+Ft]=bt,Ge[32767+Ft]=[],Ge[32767+Ft][1]=bt,Ge[32767+Ft][0]=Ft;for(var Qt=-(vt-1);Qt<=-Qe;Qt++)et[32767+Qt]=bt,Ge[32767+Qt]=[],Ge[32767+Qt][1]=bt,Ge[32767+Qt][0]=vt-1+Qt;Qe<<=1,vt<<=1}})(),(function(){for(var Qe=0;Qe<256;Qe++)Mt[Qe]=19595*Qe,Mt[Qe+256|0]=38470*Qe,Mt[Qe+512|0]=7471*Qe+32768,Mt[Qe+768|0]=-11059*Qe,Mt[Qe+1024|0]=-21709*Qe,Mt[Qe+1280|0]=32768*Qe+8421375,Mt[Qe+1536|0]=-27439*Qe,Mt[Qe+1792|0]=-5329*Qe})(),$r(I)}function fs(I,C){if(this.pos=0,this.buffer=I,this.datav=new DataView(I.buffer),this.is_with_alpha=!!C,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Uo(I){function C(Ct){if(!Ct)throw Error("assert :P")}function O(Ct,cr,Xe){for(var lt=0;4>lt;lt++)if(Ct[cr+lt]!=Xe.charCodeAt(lt))return!0;return!1}function Q(Ct,cr,Xe,lt,_t){for(var Tt=0;Tt<_t;Tt++)Ct[cr+Tt]=Xe[lt+Tt]}function z(Ct,cr,Xe,lt){for(var _t=0;_t<lt;_t++)Ct[cr+_t]=Xe}function X(Ct){return new Int32Array(Ct)}function fe(Ct,cr){for(var Xe=[],lt=0;lt<Ct;lt++)Xe.push(new cr);return Xe}function ie(Ct,cr){var Xe=[];return(function lt(_t,Tt,dr){for(var pr=dr[Tt],Er=0;Er<pr&&(_t.push(dr.length>Tt+1?[]:new cr),!(dr.length<Tt+1));Er++)lt(_t[Er],Tt+1,dr)})(Xe,0,Ct),Xe}var ae=function(){var Ct=this;function cr(B,K){for(var le=1<<K-1>>>0;B&le;)le>>>=1;return le?(B&le-1)+le:B}function Xe(B,K,le,ye,Ie){C(!(ye%le));do B[K+(ye-=le)]=Ie;while(0<ye)}function lt(B,K,le,ye,Ie){if(C(2328>=Ie),512>=Ie)var Pe=X(512);else if((Pe=X(Ie))==null)return 0;return(function(Oe,Ve,We,ut,kt,tr){var at,Dt,Kt=Ve,Sr=1<<We,lr=X(16),_r=X(16);for(C(kt!=0),C(ut!=null),C(Oe!=null),C(0<We),Dt=0;Dt<kt;++Dt){if(15<ut[Dt])return 0;++lr[ut[Dt]]}if(lr[0]==kt)return 0;for(_r[1]=0,at=1;15>at;++at){if(lr[at]>1<<at)return 0;_r[at+1]=_r[at]+lr[at]}for(Dt=0;Dt<kt;++Dt)at=ut[Dt],0<ut[Dt]&&(tr[_r[at]++]=Dt);if(_r[15]==1)return(ut=new _t).g=0,ut.value=tr[0],Xe(Oe,Kt,1,Sr,ut),Sr;var jr,Vr=-1,Mr=Sr-1,ii=0,Cn=1,as=1,Zn=1<<We;for(Dt=0,at=1,kt=2;at<=We;++at,kt<<=1){if(Cn+=as<<=1,0>(as-=lr[at]))return 0;for(;0<lr[at];--lr[at])(ut=new _t).g=at,ut.value=tr[Dt++],Xe(Oe,Kt+ii,kt,Zn,ut),ii=cr(ii,at)}for(at=We+1,kt=2;15>=at;++at,kt<<=1){if(Cn+=as<<=1,0>(as-=lr[at]))return 0;for(;0<lr[at];--lr[at]){if(ut=new _t,(ii&Mr)!=Vr){for(Kt+=Zn,jr=1<<(Vr=at)-We;15>Vr&&!(0>=(jr-=lr[Vr]));)++Vr,jr<<=1;Sr+=Zn=1<<(jr=Vr-We),Oe[Ve+(Vr=ii&Mr)].g=jr+We,Oe[Ve+Vr].value=Kt-Ve-Vr}ut.g=at-We,ut.value=tr[Dt++],Xe(Oe,Kt+(ii>>We),kt,Zn,ut),ii=cr(ii,at)}}return Cn!=2*_r[15]-1?0:Sr})(B,K,le,ye,Ie,Pe)}function _t(){this.value=this.g=0}function Tt(){this.value=this.g=0}function dr(){this.G=fe(5,_t),this.H=X(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=fe(is,Tt)}function pr(B,K,le,ye){C(B!=null),C(K!=null),C(2147483648>ye),B.Ca=254,B.I=0,B.b=-8,B.Ka=0,B.oa=K,B.pa=le,B.Jd=K,B.Yc=le+ye,B.Zc=4<=ye?le+ye-4+1:le,xr(B)}function Er(B,K){for(var le=0;0<K--;)le|=Lr(B,128)<<K;return le}function Xt(B,K){var le=Er(B,K);return br(B)?-le:le}function vr(B,K,le,ye){var Ie,Pe=0;for(C(B!=null),C(K!=null),C(4294967288>ye),B.Sb=ye,B.Ra=0,B.u=0,B.h=0,4<ye&&(ye=4),Ie=0;Ie<ye;++Ie)Pe+=K[le+Ie]<<8*Ie;B.Ra=Pe,B.bb=ye,B.oa=K,B.pa=le}function en(B){for(;8<=B.u&&B.bb<B.Sb;)B.Ra>>>=8,B.Ra+=B.oa[B.pa+B.bb]<<bl-8>>>0,++B.bb,B.u-=8;Ft(B)&&(B.h=1,B.u=0)}function $r(B,K){if(C(0<=K),!B.h&&K<=bi){var le=bt(B)&Pn[K];return B.u+=K,en(B),le}return B.h=1,B.u=0}function Qe(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function vt(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function bt(B){return B.Ra>>>(B.u&bl-1)>>>0}function Ft(B){return C(B.bb<=B.Sb),B.h||B.bb==B.Sb&&B.u>bl}function Qt(B,K){B.u=K,B.h=Ft(B)}function nr(B){B.u>=Cu&&(C(B.u>=Cu),en(B))}function xr(B){C(B!=null&&B.oa!=null),B.pa<B.Zc?(B.I=(B.oa[B.pa++]|B.I<<8)>>>0,B.b+=8):(C(B!=null&&B.oa!=null),B.pa<B.Yc?(B.b+=8,B.I=B.oa[B.pa++]|B.I<<8):B.Ka?B.b=0:(B.I<<=8,B.b+=8,B.Ka=1))}function br(B){return Er(B,1)}function Lr(B,K){var le=B.Ca;0>B.b&&xr(B);var ye=B.b,Ie=le*K>>>8,Pe=(B.I>>>ye>Ie)+0;for(Pe?(le-=Ie,B.I-=Ie+1<<ye>>>0):le=Ie+1,ye=le,Ie=0;256<=ye;)Ie+=8,ye>>=8;return ye=7^Ie+Bc[ye],B.b-=ye,B.Ca=(le<<ye)-1,Pe}function tn(B,K,le){B[K+0]=le>>24&255,B[K+1]=le>>16&255,B[K+2]=le>>8&255,B[K+3]=255&le}function En(B,K){return B[K+0]|B[K+1]<<8}function wn(B,K){return En(B,K)|B[K+2]<<16}function ui(B,K){return En(B,K)|En(B,K+2)<<16}function st(B,K){var le=1<<K;return C(B!=null),C(0<K),B.X=X(le),B.X==null?0:(B.Mb=32-K,B.Xa=K,1)}function An(B,K){C(B!=null),C(K!=null),C(B.Xa==K.Xa),Q(K.X,0,B.X,0,1<<K.Xa)}function _i(){this.X=[],this.Xa=this.Mb=0}function ln(B,K,le,ye){C(le!=null),C(ye!=null);var Ie=le[0],Pe=ye[0];return Ie==0&&(Ie=(B*Pe+K/2)/K),Pe==0&&(Pe=(K*Ie+B/2)/B),0>=Ie||0>=Pe?0:(le[0]=Ie,ye[0]=Pe,1)}function Hr(B,K){return B+(1<<K)-1>>>K}function mi(B,K){return((4278255360&B)+(4278255360&K)>>>0&4278255360)+((16711935&B)+(16711935&K)>>>0&16711935)>>>0}function Sn(B,K){Ct[K]=function(le,ye,Ie,Pe,Oe,Ve,We){var ut;for(ut=0;ut<Oe;++ut){var kt=Ct[B](Ve[We+ut-1],Ie,Pe+ut);Ve[We+ut]=mi(le[ye+ut],kt)}}}function ai(){this.ud=this.hd=this.jd=0}function Kn(B,K){return((4278124286&(B^K))>>>1)+(B&K)>>>0}function Zs(B){return 0<=B&&256>B?B:0>B?0:255<B?255:void 0}function Qi(B,K){return Zs(B+(B-K+.5>>1))}function Bn(B,K,le){return Math.abs(K-le)-Math.abs(B-le)}function cs(B,K,le,ye,Ie,Pe,Oe){for(ye=Pe[Oe-1],le=0;le<Ie;++le)Pe[Oe+le]=ye=mi(B[K+le],ye)}function di(B,K,le,ye,Ie){var Pe;for(Pe=0;Pe<le;++Pe){var Oe=B[K+Pe],Ve=Oe>>8&255,We=16711935&(We=(We=16711935&Oe)+((Ve<<16)+Ve));ye[Ie+Pe]=(4278255360&Oe)+We>>>0}}function Ln(B,K){K.jd=255&B,K.hd=B>>8&255,K.ud=B>>16&255}function vi(B,K,le,ye,Ie,Pe){var Oe;for(Oe=0;Oe<ye;++Oe){var Ve=K[le+Oe],We=Ve>>>8,ut=Ve,kt=255&(kt=(kt=Ve>>>16)+((B.jd<<24>>24)*(We<<24>>24)>>>5));ut=255&(ut=(ut+=(B.hd<<24>>24)*(We<<24>>24)>>>5)+((B.ud<<24>>24)*(kt<<24>>24)>>>5)),Ie[Pe+Oe]=(4278255360&Ve)+(kt<<16)+ut}}function Gn(B,K,le,ye,Ie){Ct[K]=function(Pe,Oe,Ve,We,ut,kt,tr,at,Dt){for(We=tr;We<at;++We)for(tr=0;tr<Dt;++tr)ut[kt++]=Ie(Ve[ye(Pe[Oe++])])},Ct[B]=function(Pe,Oe,Ve,We,ut,kt,tr){var at=8>>Pe.b,Dt=Pe.Ea,Kt=Pe.K[0],Sr=Pe.w;if(8>at)for(Pe=(1<<Pe.b)-1,Sr=(1<<at)-1;Oe<Ve;++Oe){var lr,_r=0;for(lr=0;lr<Dt;++lr)lr&Pe||(_r=ye(We[ut++])),kt[tr++]=Ie(Kt[_r&Sr]),_r>>=at}else Ct["VP8LMapColor"+le](We,ut,Kt,Sr,kt,tr,Oe,Ve,Dt)}}function Bi(B,K,le,ye,Ie){for(le=K+le;K<le;){var Pe=B[K++];ye[Ie++]=Pe>>16&255,ye[Ie++]=Pe>>8&255,ye[Ie++]=255&Pe}}function As(B,K,le,ye,Ie){for(le=K+le;K<le;){var Pe=B[K++];ye[Ie++]=Pe>>16&255,ye[Ie++]=Pe>>8&255,ye[Ie++]=255&Pe,ye[Ie++]=Pe>>24&255}}function Gi(B,K,le,ye,Ie){for(le=K+le;K<le;){var Pe=(Oe=B[K++])>>16&240|Oe>>12&15,Oe=240&Oe|Oe>>28&15;ye[Ie++]=Pe,ye[Ie++]=Oe}}function ns(B,K,le,ye,Ie){for(le=K+le;K<le;){var Pe=(Oe=B[K++])>>16&248|Oe>>13&7,Oe=Oe>>5&224|Oe>>3&31;ye[Ie++]=Pe,ye[Ie++]=Oe}}function Ea(B,K,le,ye,Ie){for(le=K+le;K<le;){var Pe=B[K++];ye[Ie++]=255&Pe,ye[Ie++]=Pe>>8&255,ye[Ie++]=Pe>>16&255}}function oi(B,K,le,ye,Ie,Pe){if(Pe==0)for(le=K+le;K<le;)tn(ye,((Pe=B[K++])[0]>>24|Pe[1]>>8&65280|Pe[2]<<8&16711680|Pe[3]<<24)>>>0),Ie+=32;else Q(ye,Ie,B,K,le)}function ga(B,K){Ct[K][0]=Ct[B+"0"],Ct[K][1]=Ct[B+"1"],Ct[K][2]=Ct[B+"2"],Ct[K][3]=Ct[B+"3"],Ct[K][4]=Ct[B+"4"],Ct[K][5]=Ct[B+"5"],Ct[K][6]=Ct[B+"6"],Ct[K][7]=Ct[B+"7"],Ct[K][8]=Ct[B+"8"],Ct[K][9]=Ct[B+"9"],Ct[K][10]=Ct[B+"10"],Ct[K][11]=Ct[B+"11"],Ct[K][12]=Ct[B+"12"],Ct[K][13]=Ct[B+"13"],Ct[K][14]=Ct[B+"0"],Ct[K][15]=Ct[B+"0"]}function ji(B){return B==ug||B==Zm||B==eA||B==dg}function ri(){this.eb=[],this.size=this.A=this.fb=0}function Ys(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Pi(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ri,this.f.kb=new Ys,this.sd=null}function fn(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Xi(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Fd(B){return alert("todo:WebPSamplerProcessPlane"),B.T}function Co(B,K){var le=B.T,ye=K.ba.f.RGBA,Ie=ye.eb,Pe=ye.fb+B.ka*ye.A,Oe=id[K.ba.S],Ve=B.y,We=B.O,ut=B.f,kt=B.N,tr=B.ea,at=B.W,Dt=K.cc,Kt=K.dc,Sr=K.Mc,lr=K.Nc,_r=B.ka,jr=B.ka+B.T,Vr=B.U,Mr=Vr+1>>1;for(_r==0?Oe(Ve,We,null,null,ut,kt,tr,at,ut,kt,tr,at,Ie,Pe,null,null,Vr):(Oe(K.ec,K.fc,Ve,We,Dt,Kt,Sr,lr,ut,kt,tr,at,Ie,Pe-ye.A,Ie,Pe,Vr),++le);_r+2<jr;_r+=2)Dt=ut,Kt=kt,Sr=tr,lr=at,kt+=B.Rc,at+=B.Rc,Pe+=2*ye.A,Oe(Ve,(We+=2*B.fa)-B.fa,Ve,We,Dt,Kt,Sr,lr,ut,kt,tr,at,Ie,Pe-ye.A,Ie,Pe,Vr);return We+=B.fa,B.j+jr<B.o?(Q(K.ec,K.fc,Ve,We,Vr),Q(K.cc,K.dc,ut,kt,Mr),Q(K.Mc,K.Nc,tr,at,Mr),le--):1&jr||Oe(Ve,We,null,null,ut,kt,tr,at,ut,kt,tr,at,Ie,Pe+ye.A,null,null,Vr),le}function cl(B,K,le){var ye=B.F,Ie=[B.J];if(ye!=null){var Pe=B.U,Oe=K.ba.S,Ve=Oe==nl||Oe==eA;K=K.ba.f.RGBA;var We=[0],ut=B.ka;We[0]=B.T,B.Kb&&(ut==0?--We[0]:(--ut,Ie[0]-=B.width),B.j+B.ka+B.T==B.o&&(We[0]=B.o-B.j-ut));var kt=K.eb;ut=K.fb+ut*K.A,B=Jc(ye,Ie[0],B.width,Pe,We,kt,ut+(Ve?0:3),K.A),C(le==We),B&&ji(Oe)&&Rh(kt,ut,Ve,Pe,We,K.A)}return 0}function xu(B){var K=B.ma,le=K.ba.S,ye=11>le,Ie=le==Xm||le==DA||le==nl||le==gf||le==12||ji(le);if(K.memory=null,K.Ib=null,K.Jb=null,K.Nd=null,!ca(K.Oa,B,Ie?11:12))return 0;if(Ie&&ji(le)&&ht(),B.da)alert("todo:use_scaling");else{if(ye){if(K.Ib=Fd,B.Kb){if(le=B.U+1>>1,K.memory=X(B.U+2*le),K.memory==null)return 0;K.ec=K.memory,K.fc=0,K.cc=K.ec,K.dc=K.fc+B.U,K.Mc=K.cc,K.Nc=K.dc+le,K.Ib=Co,ht()}}else alert("todo:EmitYUV");Ie&&(K.Jb=cl,ye&&He())}if(ye&&!$0){for(B=0;256>B;++B)yg[B]=89858*(B-128)+yh>>vf,wg[B]=-22014*(B-128)+yh,bg[B]=-45773*(B-128),xg[B]=113618*(B-128)+yh>>vf;for(B=$A;B<vg;++B)K=76283*(B-16)+yh>>vf,Eg[B-$A]=yl(K,255),H0[B-$A]=yl(K+8>>4,15);$0=1}return 1}function xi(B){var K=B.ma,le=B.U,ye=B.T;return C(!(1&B.ka)),0>=le||0>=ye?0:(le=K.Ib(B,K),K.Jb!=null&&K.Jb(B,K,le),K.Dc+=le,1)}function $a(B){B.ma.memory=null}function qa(B,K,le,ye){return $r(B,8)!=47?0:(K[0]=$r(B,14)+1,le[0]=$r(B,14)+1,ye[0]=$r(B,1),$r(B,3)!=0?0:!B.h)}function lc(B,K){if(4>B)return B+1;var le=B-2>>1;return(2+(1&B)<<le)+$r(K,le)+1}function Rl(B,K){return 120<K?K-120:1<=(le=((le=hg[K-1])>>4)*B+(8-(15&le)))?le:1;var le}function fa(B,K,le){var ye=bt(le),Ie=B[K+=255&ye].g-8;return 0<Ie&&(Qt(le,le.u+8),ye=bt(le),K+=B[K].value,K+=ye&(1<<Ie)-1),Qt(le,le.u+B[K].g),B[K].value}function Xa(B,K,le){return le.g+=B.g,le.value+=B.value<<K>>>0,C(8>=le.g),B.g}function Ha(B,K,le){var ye=B.xc;return C((K=ye==0?0:B.vc[B.md*(le>>ye)+(K>>ye)])<B.Wb),B.Ya[K]}function zc(B,K,le,ye){var Ie=B.ab,Pe=B.c*K,Oe=B.C;K=Oe+K;var Ve=le,We=ye;for(ye=B.Ta,le=B.Ua;0<Ie--;){var ut=B.gc[Ie],kt=Oe,tr=K,at=Ve,Dt=We,Kt=(We=ye,Ve=le,ut.Ea);switch(C(kt<tr),C(tr<=ut.nc),ut.hc){case 2:Sa(at,Dt,(tr-kt)*Kt,We,Ve);break;case 0:var Sr=kt,lr=tr,_r=We,jr=Ve,Vr=(Zn=ut).Ea;Sr==0&&(Vo(at,Dt,null,null,1,_r,jr),cs(at,Dt+1,0,0,Vr-1,_r,jr+1),Dt+=Vr,jr+=Vr,++Sr);for(var Mr=1<<Zn.b,ii=Mr-1,Cn=Hr(Vr,Zn.b),as=Zn.K,Zn=Zn.w+(Sr>>Zn.b)*Cn;Sr<lr;){var Ls=as,il=Zn,Zi=1;for(wl(at,Dt,_r,jr-Vr,1,_r,jr);Zi<Vr;){var zn=(Zi&~ii)+Mr;zn>Vr&&(zn=Vr),(0,eo[Ls[il++]>>8&15])(at,Dt+ +Zi,_r,jr+Zi-Vr,zn-Zi,_r,jr+Zi),Zi=zn}Dt+=Vr,jr+=Vr,++Sr&ii||(Zn+=Cn)}tr!=ut.nc&&Q(We,Ve-Kt,We,Ve+(tr-kt-1)*Kt,Kt);break;case 1:for(Kt=at,lr=Dt,Vr=(at=ut.Ea)-(jr=at&~(_r=(Dt=1<<ut.b)-1)),Sr=Hr(at,ut.b),Mr=ut.K,ut=ut.w+(kt>>ut.b)*Sr;kt<tr;){for(ii=Mr,Cn=ut,as=new ai,Zn=lr+jr,Ls=lr+at;lr<Zn;)Ln(ii[Cn++],as),pf(as,Kt,lr,Dt,We,Ve),lr+=Dt,Ve+=Dt;lr<Ls&&(Ln(ii[Cn++],as),pf(as,Kt,lr,Vr,We,Ve),lr+=Vr,Ve+=Vr),++kt&_r||(ut+=Sr)}break;case 3:if(at==We&&Dt==Ve&&0<ut.b){for(lr=We,at=Kt=Ve+(tr-kt)*Kt-(jr=(tr-kt)*Hr(ut.Ea,ut.b)),Dt=We,_r=Ve,Sr=[],jr=(Vr=jr)-1;0<=jr;--jr)Sr[jr]=Dt[_r+jr];for(jr=Vr-1;0<=jr;--jr)lr[at+jr]=Sr[jr];OA(ut,kt,tr,We,Kt,We,Ve)}else OA(ut,kt,tr,at,Dt,We,Ve)}Ve=ye,We=le}We!=le&&Q(ye,le,Ve,We,Pe)}function jo(B,K){var le=B.V,ye=B.Ba+B.c*B.C,Ie=K-B.C;if(C(K<=B.l.o),C(16>=Ie),0<Ie){var Pe=B.l,Oe=B.Ta,Ve=B.Ua,We=Pe.width;if(zc(B,Ie,le,ye),Ie=Ve=[Ve],C((le=B.C)<(ye=K)),C(Pe.v<Pe.va),ye>Pe.o&&(ye=Pe.o),le<Pe.j){var ut=Pe.j-le;le=Pe.j,Ie[0]+=ut*We}if(le>=ye?le=0:(Ie[0]+=4*Pe.v,Pe.ka=le-Pe.j,Pe.U=Pe.va-Pe.v,Pe.T=ye-le,le=1),le){if(Ve=Ve[0],11>(le=B.ca).S){var kt=le.f.RGBA,tr=(ye=le.S,Ie=Pe.U,Pe=Pe.T,ut=kt.eb,kt.A),at=Pe;for(kt=kt.fb+B.Ma*kt.A;0<at--;){var Dt=Oe,Kt=Ve,Sr=Ie,lr=ut,_r=kt;switch(ye){case Jf:ed(Dt,Kt,Sr,lr,_r);break;case Xm:Li(Dt,Kt,Sr,lr,_r);break;case ug:Li(Dt,Kt,Sr,lr,_r),Rh(lr,_r,0,Sr,1,0);break;case lg:mh(Dt,Kt,Sr,lr,_r);break;case DA:oi(Dt,Kt,Sr,lr,_r,1);break;case Zm:oi(Dt,Kt,Sr,lr,_r,1),Rh(lr,_r,0,Sr,1,0);break;case nl:oi(Dt,Kt,Sr,lr,_r,0);break;case eA:oi(Dt,Kt,Sr,lr,_r,0),Rh(lr,_r,1,Sr,1,0);break;case gf:Ds(Dt,Kt,Sr,lr,_r);break;case dg:Ds(Dt,Kt,Sr,lr,_r),Wm(lr,_r,Sr,1,0);break;case cg:Pa(Dt,Kt,Sr,lr,_r);break;default:C(0)}Ve+=We,kt+=tr}B.Ma+=Pe}else alert("todo:EmitRescaledRowsYUVA");C(B.Ma<=le.height)}}B.C=K,C(B.C<=B.i)}function Sc(B){var K;if(0<B.ua)return 0;for(K=0;K<B.Wb;++K){var le=B.Ya[K].G,ye=B.Ya[K].H;if(0<le[1][ye[1]+0].g||0<le[2][ye[2]+0].g||0<le[3][ye[3]+0].g)return 0}return 1}function gl(B,K,le,ye,Ie,Pe){if(B.Z!=0){var Oe=B.qd,Ve=B.rd;for(C(gh[B.Z]!=null);K<le;++K)gh[B.Z](Oe,Ve,ye,Ie,ye,Ie,Pe),Oe=ye,Ve=Ie,Ie+=Pe;B.qd=Oe,B.rd=Ve}}function Wc(B,K){var le=B.l.ma,ye=le.Z==0||le.Z==1?B.l.j:B.C;if(ye=B.C<ye?ye:B.C,C(K<=B.l.o),K>ye){var Ie=B.l.width,Pe=le.ca,Oe=le.tb+Ie*ye,Ve=B.V,We=B.Ba+B.c*ye,ut=B.gc;C(B.ab==1),C(ut[0].hc==3),Ac(ut[0],ye,K,Ve,We,Pe,Oe),gl(le,ye,K,Pe,Oe,Ie)}B.C=B.Ma=K}function Ol(B,K,le,ye,Ie,Pe,Oe){var Ve=B.$/ye,We=B.$%ye,ut=B.m,kt=B.s,tr=le+B.$,at=tr;Ie=le+ye*Ie;var Dt=le+ye*Pe,Kt=280+kt.ua,Sr=B.Pb?Ve:16777216,lr=0<kt.ua?kt.Wa:null,_r=kt.wc,jr=tr<Dt?Ha(kt,We,Ve):null;C(B.C<Pe),C(Dt<=Ie);var Vr=!1;e:for(;;){for(;Vr||tr<Dt;){var Mr=0;if(Ve>=Sr){var ii=tr-le;C((Sr=B).Pb),Sr.wd=Sr.m,Sr.xd=ii,0<Sr.s.ua&&An(Sr.s.Wa,Sr.s.vb),Sr=Ve+D0}if(We&_r||(jr=Ha(kt,We,Ve)),C(jr!=null),jr.Qb&&(K[tr]=jr.qb,Vr=!0),!Vr)if(nr(ut),jr.jc){Mr=ut,ii=K;var Cn=tr,as=jr.pd[bt(Mr)&is-1];C(jr.jc),256>as.g?(Qt(Mr,Mr.u+as.g),ii[Cn]=as.value,Mr=0):(Qt(Mr,Mr.u+as.g-256),C(256<=as.value),Mr=as.value),Mr==0&&(Vr=!0)}else Mr=fa(jr.G[0],jr.H[0],ut);if(ut.h)break;if(Vr||256>Mr){if(!Vr)if(jr.nd)K[tr]=(jr.qb|Mr<<8)>>>0;else{if(nr(ut),Vr=fa(jr.G[1],jr.H[1],ut),nr(ut),ii=fa(jr.G[2],jr.H[2],ut),Cn=fa(jr.G[3],jr.H[3],ut),ut.h)break;K[tr]=(Cn<<24|Vr<<16|Mr<<8|ii)>>>0}if(Vr=!1,++tr,++We>=ye&&(We=0,++Ve,Oe!=null&&Ve<=Pe&&!(Ve%16)&&Oe(B,Ve),lr!=null))for(;at<tr;)Mr=K[at++],lr.X[(506832829*Mr&4294967295)>>>lr.Mb]=Mr}else if(280>Mr){if(Mr=lc(Mr-256,ut),ii=fa(jr.G[4],jr.H[4],ut),nr(ut),ii=Rl(ye,ii=lc(ii,ut)),ut.h)break;if(tr-le<ii||Ie-tr<Mr)break e;for(Cn=0;Cn<Mr;++Cn)K[tr+Cn]=K[tr+Cn-ii];for(tr+=Mr,We+=Mr;We>=ye;)We-=ye,++Ve,Oe!=null&&Ve<=Pe&&!(Ve%16)&&Oe(B,Ve);if(C(tr<=Ie),We&_r&&(jr=Ha(kt,We,Ve)),lr!=null)for(;at<tr;)Mr=K[at++],lr.X[(506832829*Mr&4294967295)>>>lr.Mb]=Mr}else{if(!(Mr<Kt))break e;for(Vr=Mr-280,C(lr!=null);at<tr;)Mr=K[at++],lr.X[(506832829*Mr&4294967295)>>>lr.Mb]=Mr;Mr=tr,C(!(Vr>>>(ii=lr).Xa)),K[Mr]=ii.X[Vr],Vr=!0}Vr||C(ut.h==Ft(ut))}if(B.Pb&&ut.h&&tr<Ie)C(B.m.h),B.a=5,B.m=B.wd,B.$=B.xd,0<B.s.ua&&An(B.s.vb,B.s.Wa);else{if(ut.h)break e;Oe?.(B,Ve>Pe?Pe:Ve),B.a=0,B.$=tr-le}return 1}return B.a=3,0}function _c(B){C(B!=null),B.vc=null,B.yc=null,B.Ya=null;var K=B.Wa;K!=null&&(K.X=null),B.vb=null,C(B!=null)}function Ud(){var B=new Ni;return B==null?null:(B.a=0,B.xb=tp,ga("Predictor","VP8LPredictors"),ga("Predictor","VP8LPredictors_C"),ga("PredictorAdd","VP8LPredictorsAdd"),ga("PredictorAdd","VP8LPredictorsAdd_C"),Sa=di,pf=vi,ed=Bi,Li=As,Ds=Gi,Pa=ns,mh=Ea,Ct.VP8LMapColor32b=Wd,Ct.VP8LMapColor8b=mc,B)}function Tc(B,K,le,ye,Ie){var Pe=1,Oe=[B],Ve=[K],We=ye.m,ut=ye.s,kt=null,tr=0;e:for(;;){if(le)for(;Pe&&$r(We,1);){var at=Oe,Dt=Ve,Kt=ye,Sr=1,lr=Kt.m,_r=Kt.gc[Kt.ab],jr=$r(lr,2);if(Kt.Oc&1<<jr)Pe=0;else{switch(Kt.Oc|=1<<jr,_r.hc=jr,_r.Ea=at[0],_r.nc=Dt[0],_r.K=[null],++Kt.ab,C(4>=Kt.ab),jr){case 0:case 1:_r.b=$r(lr,3)+2,Sr=Tc(Hr(_r.Ea,_r.b),Hr(_r.nc,_r.b),0,Kt,_r.K),_r.K=_r.K[0];break;case 3:var Vr,Mr=$r(lr,8)+1,ii=16<Mr?0:4<Mr?1:2<Mr?2:3;if(at[0]=Hr(_r.Ea,ii),_r.b=ii,Vr=Sr=Tc(Mr,1,0,Kt,_r.K)){var Cn,as=Mr,Zn=_r,Ls=1<<(8>>Zn.b),il=X(Ls);if(il==null)Vr=0;else{var Zi=Zn.K[0],zn=Zn.w;for(il[0]=Zn.K[0][0],Cn=1;Cn<1*as;++Cn)il[Cn]=mi(Zi[zn+Cn],il[Cn-1]);for(;Cn<4*Ls;++Cn)il[Cn]=0;Zn.K[0]=null,Zn.K[0]=il,Vr=1}}Sr=Vr;break;case 2:break;default:C(0)}Pe=Sr}}if(Oe=Oe[0],Ve=Ve[0],Pe&&$r(We,1)&&!(Pe=1<=(tr=$r(We,4))&&11>=tr)){ye.a=3;break e}var pn;if(pn=Pe)t:{var Io,Ji,us,Da=ye,El=Oe,Ql=Ve,ua=tr,Vl=le,Lc=Da.m,ko=Da.s,ks=[null],Ei=1,Go=0,xa=fg[ua];r:for(;;){if(Vl&&$r(Lc,1)){var Kl=$r(Lc,3)+2,gc=Hr(El,Kl),_a=Hr(Ql,Kl),vc=gc*_a;if(!Tc(gc,_a,0,Da,ks))break r;for(ks=ks[0],ko.xc=Kl,Io=0;Io<vc;++Io){var Ta=ks[Io]>>8&65535;ks[Io]=Ta,Ta>=Ei&&(Ei=Ta+1)}}if(Lc.h)break r;for(Ji=0;5>Ji;++Ji){var Zr=P0[Ji];!Ji&&0<ua&&(Zr+=1<<ua),Go<Zr&&(Go=Zr)}var Ma=fe(Ei*xa,_t),Sl=Ei,Qa=fe(Sl,dr);if(Qa==null)var ku=null;else C(65536>=Sl),ku=Qa;var Yi=X(Go);if(ku==null||Yi==null||Ma==null){Da.a=1;break r}var Ss=Ma;for(Io=us=0;Io<Ei;++Io){var ea=ku[Io],Bu=ea.G,zo=ea.H,Va=0,Lu=1,Gl=0;for(Ji=0;5>Ji;++Ji){Zr=P0[Ji],Bu[Ji]=Ss,zo[Ji]=us,!Ji&&0<ua&&(Zr+=1<<ua);i:{var sl,Sg=Zr,ap=Da,rA=Yi,mo=Ss,eu=us,_d=0,qd=ap.m,Q0=$r(qd,1);if(z(rA,0,0,Sg),Q0){var Ty=$r(qd,1)+1,Cy=$r(qd,1),op=$r(qd,Cy==0?1:8);rA[op]=1,Ty==2&&(rA[op=$r(qd,8)]=1);var yc=1}else{var Td=X(19),QA=$r(qd,4)+4;if(19<QA){ap.a=3;var Ca=0;break i}for(sl=0;sl<QA;++sl)Td[xy[sl]]=$r(qd,3);var lp=void 0,Rc=void 0,yf=ap,Ph=Td,xf=Sg,Dh=rA,Oc=0,Mh=yf.m,Cd=8,VA=fe(128,_t);n:for(;lt(VA,0,7,Ph,19);){if($r(Mh,1)){var cp=2+2*$r(Mh,3);if((lp=2+$r(Mh,cp))>xf)break n}else lp=xf;for(Rc=0;Rc<xf&&lp--;){nr(Mh);var bf=VA[0+(127&bt(Mh))];Qt(Mh,Mh.u+bf.g);var nA=bf.value;if(16>nA)Dh[Rc++]=nA,nA!=0&&(Cd=nA);else{var V0=nA==16,KA=nA-16,jy=u1[KA],up=$r(Mh,yy[KA])+jy;if(Rc+up>xf)break n;for(var Ny=V0?Cd:0;0<up--;)Dh[Rc++]=Ny}}Oc=1;break n}Oc||(yf.a=3),yc=Oc}(yc=yc&&!qd.h)&&(_d=lt(mo,eu,8,rA,Sg)),yc&&_d!=0?Ca=_d:(ap.a=3,Ca=0)}if(Ca==0)break r;if(Lu&&MA[Ji]==1&&(Lu=Ss[us].g==0),Va+=Ss[us].g,us+=Ca,3>=Ji){var dp,K0=Yi[0];for(dp=1;dp<Zr;++dp)Yi[dp]>K0&&(K0=Yi[dp]);Gl+=K0}}if(ea.nd=Lu,ea.Qb=0,Lu&&(ea.qb=(Bu[3][zo[3]+0].value<<24|Bu[1][zo[1]+0].value<<16|Bu[2][zo[2]+0].value)>>>0,Va==0&&256>Bu[0][zo[0]+0].value&&(ea.Qb=1,ea.qb+=Bu[0][zo[0]+0].value<<8)),ea.jc=!ea.Qb&&6>Gl,ea.jc){var Ks,Ms=ea;for(Ks=0;Ks<is;++Ks){var es=Ks,os=Ms.pd[es],ta=Ms.G[0][Ms.H[0]+es];256<=ta.value?(os.g=ta.g+256,os.value=ta.value):(os.g=0,os.value=0,es>>=Xa(ta,8,os),es>>=Xa(Ms.G[1][Ms.H[1]+es],16,os),es>>=Xa(Ms.G[2][Ms.H[2]+es],0,os),Xa(Ms.G[3][Ms.H[3]+es],24,os))}}}ko.vc=ks,ko.Wb=Ei,ko.Ya=ku,ko.yc=Ma,pn=1;break t}pn=0}if(!(Pe=pn)){ye.a=3;break e}if(0<tr){if(ut.ua=1<<tr,!st(ut.Wa,tr)){ye.a=1,Pe=0;break e}}else ut.ua=0;var tu=ye,Fh=Oe,GA=Ve,R=tu.s,N=R.xc;if(tu.c=Fh,tu.i=GA,R.md=Hr(Fh,N),R.wc=N==0?-1:(1<<N)-1,le){ye.xb=Ey;break e}if((kt=X(Oe*Ve))==null){ye.a=1,Pe=0;break e}Pe=(Pe=Ol(ye,kt,0,Oe,Ve,Ve,null))&&!We.h;break e}return Pe?(Ie!=null?Ie[0]=kt:(C(kt==null),C(le)),ye.$=0,le||_c(ut)):_c(ut),Pe}function Pl(B,K){var le=B.c*B.i,ye=le+K+16*K;return C(B.c<=K),B.V=X(ye),B.V==null?(B.Ta=null,B.Ua=0,B.a=1,0):(B.Ta=B.V,B.Ua=B.Ba+le+K,1)}function gd(B,K){var le=B.C,ye=K-le,Ie=B.V,Pe=B.Ba+B.c*le;for(C(K<=B.l.o);0<ye;){var Oe=16<ye?16:ye,Ve=B.l.ma,We=B.l.width,ut=We*Oe,kt=Ve.ca,tr=Ve.tb+We*le,at=B.Ta,Dt=B.Ua;zc(B,Oe,Ie,Pe),Ed(at,Dt,kt,tr,ut),gl(Ve,le,le+Oe,kt,tr,We),ye-=Oe,Ie+=Oe*B.c,le+=Oe}C(le==K),B.C=B.Ma=K}function $d(){this.ub=this.yd=this.td=this.Rb=0}function qu(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function cc(){this.Fb=this.Bb=this.Cb=0,this.Zb=X(4),this.Lb=X(4)}function vd(){this.Yb=(function(){var B=[];return(function K(le,ye,Ie){for(var Pe=Ie[ye],Oe=0;Oe<Pe&&(le.push(Ie.length>ye+1?[]:0),!(Ie.length<ye+1));Oe++)K(le[Oe],ye+1,Ie)})(B,0,[3,11]),B})()}function Dl(){this.jb=X(3),this.Wc=ie([4,8],vd),this.Xc=ie([4,17],vd)}function Yc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new X(4),this.od=new X(4)}function vl(){this.ld=this.La=this.dd=this.tc=0}function Xu(){this.Na=this.la=0}function yd(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function sh(){this.ad=X(384),this.Za=0,this.Ob=X(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function bu(){this.uc=this.M=this.Nb=0,this.wa=Array(new vl),this.Y=0,this.ya=Array(new sh),this.aa=0,this.l=new Bh}function Af(){this.y=X(16),this.f=X(8),this.ea=X(8)}function ah(){this.cb=this.a=0,this.sc="",this.m=new Qe,this.Od=new $d,this.Kc=new qu,this.ed=new Yc,this.Qa=new cc,this.Ic=this.$c=this.Aa=0,this.D=new bu,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=fe(8,Qe),this.ia=0,this.pb=fe(4,yd),this.Pa=new Dl,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Af),this.Hd=0,this.rb=Array(new Xu),this.sb=0,this.wa=Array(new vl),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new sh),this.L=this.aa=0,this.gd=ie([4,2],vl),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function yl(B,K){return 0>B?0:B>K?K:B}function Bh(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ml(){var B=new ah;return B!=null&&(B.a=0,B.sc="OK",B.cb=0,B.Xb=0,tA||(tA=Eu)),B}function Ti(B,K,le){return B.a==0&&(B.a=K,B.sc=le,B.cb=0),0}function qc(B,K,le){return 3<=le&&B[K+0]==157&&B[K+1]==1&&B[K+2]==42}function wu(B,K){if(B==null)return 0;if(B.a=0,B.sc="OK",K==null)return Ti(B,2,"null VP8Io passed to VP8GetHeaders()");var le=K.data,ye=K.w,Ie=K.ha;if(4>Ie)return Ti(B,7,"Truncated header.");var Pe=le[ye+0]|le[ye+1]<<8|le[ye+2]<<16,Oe=B.Od;if(Oe.Rb=!(1&Pe),Oe.td=Pe>>1&7,Oe.yd=Pe>>4&1,Oe.ub=Pe>>5,3<Oe.td)return Ti(B,3,"Incorrect keyframe parameters.");if(!Oe.yd)return Ti(B,4,"Frame not displayable.");ye+=3,Ie-=3;var Ve=B.Kc;if(Oe.Rb){if(7>Ie)return Ti(B,7,"cannot parse picture header");if(!qc(le,ye,Ie))return Ti(B,3,"Bad code word");Ve.c=16383&(le[ye+4]<<8|le[ye+3]),Ve.Td=le[ye+4]>>6,Ve.i=16383&(le[ye+6]<<8|le[ye+5]),Ve.Ud=le[ye+6]>>6,ye+=7,Ie-=7,B.za=Ve.c+15>>4,B.Ub=Ve.i+15>>4,K.width=Ve.c,K.height=Ve.i,K.Da=0,K.j=0,K.v=0,K.va=K.width,K.o=K.height,K.da=0,K.ib=K.width,K.hb=K.height,K.U=K.width,K.T=K.height,z((Pe=B.Pa).jb,0,255,Pe.jb.length),C((Pe=B.Qa)!=null),Pe.Cb=0,Pe.Bb=0,Pe.Fb=1,z(Pe.Zb,0,0,Pe.Zb.length),z(Pe.Lb,0,0,Pe.Lb)}if(Oe.ub>Ie)return Ti(B,7,"bad partition length");pr(Pe=B.m,le,ye,Oe.ub),ye+=Oe.ub,Ie-=Oe.ub,Oe.Rb&&(Ve.Ld=br(Pe),Ve.Kd=br(Pe)),Ve=B.Qa;var We,ut=B.Pa;if(C(Pe!=null),C(Ve!=null),Ve.Cb=br(Pe),Ve.Cb){if(Ve.Bb=br(Pe),br(Pe)){for(Ve.Fb=br(Pe),We=0;4>We;++We)Ve.Zb[We]=br(Pe)?Xt(Pe,7):0;for(We=0;4>We;++We)Ve.Lb[We]=br(Pe)?Xt(Pe,6):0}if(Ve.Bb)for(We=0;3>We;++We)ut.jb[We]=br(Pe)?Er(Pe,8):255}else Ve.Bb=0;if(Pe.Ka)return Ti(B,3,"cannot parse segment header");if((Ve=B.ed).zd=br(Pe),Ve.Tb=Er(Pe,6),Ve.wb=Er(Pe,3),Ve.Pc=br(Pe),Ve.Pc&&br(Pe)){for(ut=0;4>ut;++ut)br(Pe)&&(Ve.vd[ut]=Xt(Pe,6));for(ut=0;4>ut;++ut)br(Pe)&&(Ve.od[ut]=Xt(Pe,6))}if(B.L=Ve.Tb==0?0:Ve.zd?1:2,Pe.Ka)return Ti(B,3,"cannot parse filter header");var kt=Ie;if(Ie=We=ye,ye=We+kt,Ve=kt,B.Xb=(1<<Er(B.m,2))-1,kt<3*(ut=B.Xb))le=7;else{for(We+=3*ut,Ve-=3*ut,kt=0;kt<ut;++kt){var tr=le[Ie+0]|le[Ie+1]<<8|le[Ie+2]<<16;tr>Ve&&(tr=Ve),pr(B.Jc[+kt],le,We,tr),We+=tr,Ve-=tr,Ie+=3}pr(B.Jc[+ut],le,We,Ve),le=We<ye?0:5}if(le!=0)return Ti(B,le,"cannot parse partitions");for(le=Er(We=B.m,7),Ie=br(We)?Xt(We,4):0,ye=br(We)?Xt(We,4):0,Ve=br(We)?Xt(We,4):0,ut=br(We)?Xt(We,4):0,We=br(We)?Xt(We,4):0,kt=B.Qa,tr=0;4>tr;++tr){if(kt.Cb){var at=kt.Zb[tr];kt.Fb||(at+=le)}else{if(0<tr){B.pb[tr]=B.pb[0];continue}at=le}var Dt=B.pb[tr];Dt.Sc[0]=FA[yl(at+Ie,127)],Dt.Sc[1]=Ag[yl(at+0,127)],Dt.Eb[0]=2*FA[yl(at+ye,127)],Dt.Eb[1]=101581*Ag[yl(at+Ve,127)]>>16,8>Dt.Eb[1]&&(Dt.Eb[1]=8),Dt.Qc[0]=FA[yl(at+ut,117)],Dt.Qc[1]=Ag[yl(at+We,127)],Dt.lc=at+We}if(!Oe.Rb)return Ti(B,4,"Not a key frame.");for(br(Pe),Oe=B.Pa,le=0;4>le;++le){for(Ie=0;8>Ie;++Ie)for(ye=0;3>ye;++ye)for(Ve=0;11>Ve;++Ve)ut=Lr(Pe,Jm[le][Ie][ye][Ve])?Er(Pe,8):wy[le][Ie][ye][Ve],Oe.Wc[le][Ie].Yb[ye][Ve]=ut;for(Ie=0;17>Ie;++Ie)Oe.Xc[le][Ie]=Oe.Wc[le][ep[Ie]]}return B.kc=br(Pe),B.kc&&(B.Bd=Er(Pe,8)),B.cb=1}function Eu(B,K,le,ye,Ie,Pe,Oe){var Ve=K[Ie].Yb[le];for(le=0;16>Ie;++Ie){if(!Lr(B,Ve[le+0]))return Ie;for(;!Lr(B,Ve[le+1]);)if(Ve=K[++Ie].Yb[0],le=0,Ie==16)return 16;var We=K[Ie+1].Yb;if(Lr(B,Ve[le+2])){var ut=B,kt=0;if(Lr(ut,(at=Ve)[(tr=le)+3]))if(Lr(ut,at[tr+6])){for(Ve=0,tr=2*(kt=Lr(ut,at[tr+8]))+(at=Lr(ut,at[tr+9+kt])),kt=0,at=mg[tr];at[Ve];++Ve)kt+=kt+Lr(ut,at[Ve]);kt+=3+(8<<tr)}else Lr(ut,at[tr+7])?(kt=7+2*Lr(ut,165),kt+=Lr(ut,145)):kt=5+Lr(ut,159);else kt=Lr(ut,at[tr+4])?3+Lr(ut,at[tr+5]):2;Ve=We[2]}else kt=1,Ve=We[1];We=Oe+by[Ie],0>(ut=B).b&&xr(ut);var tr,at=ut.b,Dt=(tr=ut.Ca>>1)-(ut.I>>at)>>31;--ut.b,ut.Ca+=Dt,ut.Ca|=1,ut.I-=(tr+1&Dt)<<at,Pe[We]=((kt^Dt)-Dt)*ye[(0<Ie)+0]}return 16}function xd(B){var K=B.rb[B.sb-1];K.la=0,K.Na=0,z(B.zc,0,0,B.zc.length),B.ja=0}function Xc(B,K,le,ye,Ie){Ie=B[K+le+32*ye]+(Ie>>3),B[K+le+32*ye]=-256&Ie?0>Ie?0:255:Ie}function $o(B,K,le,ye,Ie,Pe){Xc(B,K,0,le,ye+Ie),Xc(B,K,1,le,ye+Pe),Xc(B,K,2,le,ye-Pe),Xc(B,K,3,le,ye-Ie)}function Su(B){return(20091*B>>16)+B}function oh(B,K,le,ye){var Ie,Pe=0,Oe=X(16);for(Ie=0;4>Ie;++Ie){var Ve=B[K+0]+B[K+8],We=B[K+0]-B[K+8],ut=(35468*B[K+4]>>16)-Su(B[K+12]),kt=Su(B[K+4])+(35468*B[K+12]>>16);Oe[Pe+0]=Ve+kt,Oe[Pe+1]=We+ut,Oe[Pe+2]=We-ut,Oe[Pe+3]=Ve-kt,Pe+=4,K++}for(Ie=Pe=0;4>Ie;++Ie)Ve=(B=Oe[Pe+0]+4)+Oe[Pe+8],We=B-Oe[Pe+8],ut=(35468*Oe[Pe+4]>>16)-Su(Oe[Pe+12]),Xc(le,ye,0,0,Ve+(kt=Su(Oe[Pe+4])+(35468*Oe[Pe+12]>>16))),Xc(le,ye,1,0,We+ut),Xc(le,ye,2,0,We-ut),Xc(le,ye,3,0,Ve-kt),Pe++,ye+=32}function Ho(B,K,le,ye){var Ie=B[K+0]+4,Pe=35468*B[K+4]>>16,Oe=Su(B[K+4]),Ve=35468*B[K+1]>>16;$o(le,ye,0,Ie+Oe,B=Su(B[K+1]),Ve),$o(le,ye,1,Ie+Pe,B,Ve),$o(le,ye,2,Ie-Pe,B,Ve),$o(le,ye,3,Ie-Oe,B,Ve)}function Hd(B,K,le,ye,Ie){oh(B,K,le,ye),Ie&&oh(B,K+16,le,ye+4)}function Fl(B,K,le,ye){td(B,K+0,le,ye,1),td(B,K+32,le,ye+128,1)}function lh(B,K,le,ye){var Ie;for(B=B[K+0]+4,Ie=0;4>Ie;++Ie)for(K=0;4>K;++K)Xc(le,ye,K,Ie,B)}function _u(B,K,le,ye){B[K+0]&&Is(B,K+0,le,ye),B[K+16]&&Is(B,K+16,le,ye+4),B[K+32]&&Is(B,K+32,le,ye+128),B[K+48]&&Is(B,K+48,le,ye+128+4)}function xl(B,K,le,ye){var Ie,Pe=X(16);for(Ie=0;4>Ie;++Ie){var Oe=B[K+0+Ie]+B[K+12+Ie],Ve=B[K+4+Ie]+B[K+8+Ie],We=B[K+4+Ie]-B[K+8+Ie],ut=B[K+0+Ie]-B[K+12+Ie];Pe[0+Ie]=Oe+Ve,Pe[8+Ie]=Oe-Ve,Pe[4+Ie]=ut+We,Pe[12+Ie]=ut-We}for(Ie=0;4>Ie;++Ie)Oe=(B=Pe[0+4*Ie]+3)+Pe[3+4*Ie],Ve=Pe[1+4*Ie]+Pe[2+4*Ie],We=Pe[1+4*Ie]-Pe[2+4*Ie],ut=B-Pe[3+4*Ie],le[ye+0]=Oe+Ve>>3,le[ye+16]=ut+We>>3,le[ye+32]=Oe-Ve>>3,le[ye+48]=ut-We>>3,ye+=64}function rl(B,K,le){var ye,Ie=K-32,Pe=Iu,Oe=255-B[Ie-1];for(ye=0;ye<le;++ye){var Ve,We=Pe,ut=Oe+B[K-1];for(Ve=0;Ve<le;++Ve)B[K+Ve]=We[ut+B[Ie+Ve]];K+=32}}function Tu(B,K){rl(B,K,4)}function Cc(B,K){rl(B,K,8)}function uc(B,K){rl(B,K,16)}function jc(B,K){var le;for(le=0;16>le;++le)Q(B,K+32*le,B,K-32,16)}function Wf(B,K){var le;for(le=16;0<le;--le)z(B,K,B[K-1],16),K+=32}function Zc(B,K,le){var ye;for(ye=0;16>ye;++ye)z(K,le+32*ye,B,16)}function Yf(B,K){var le,ye=16;for(le=0;16>le;++le)ye+=B[K-1+32*le]+B[K+le-32];Zc(ye>>5,B,K)}function ch(B,K){var le,ye=8;for(le=0;16>le;++le)ye+=B[K-1+32*le];Zc(ye>>4,B,K)}function No(B,K){var le,ye=8;for(le=0;16>le;++le)ye+=B[K+le-32];Zc(ye>>4,B,K)}function va(B,K){Zc(128,B,K)}function mn(B,K,le){return B+2*K+le+2>>2}function bd(B,K){var le,ye=K-32;for(ye=new Uint8Array([mn(B[ye-1],B[ye+0],B[ye+1]),mn(B[ye+0],B[ye+1],B[ye+2]),mn(B[ye+1],B[ye+2],B[ye+3]),mn(B[ye+2],B[ye+3],B[ye+4])]),le=0;4>le;++le)Q(B,K+32*le,ye,0,ye.length)}function Nc(B,K){var le=B[K-1],ye=B[K-1+32],Ie=B[K-1+64],Pe=B[K-1+96];tn(B,K+0,16843009*mn(B[K-1-32],le,ye)),tn(B,K+32,16843009*mn(le,ye,Ie)),tn(B,K+64,16843009*mn(ye,Ie,Pe)),tn(B,K+96,16843009*mn(Ie,Pe,Pe))}function uh(B,K){var le,ye=4;for(le=0;4>le;++le)ye+=B[K+le-32]+B[K-1+32*le];for(ye>>=3,le=0;4>le;++le)z(B,K+32*le,ye,4)}function Ul(B,K){var le=B[K-1+0],ye=B[K-1+32],Ie=B[K-1+64],Pe=B[K-1-32],Oe=B[K+0-32],Ve=B[K+1-32],We=B[K+2-32],ut=B[K+3-32];B[K+0+96]=mn(ye,Ie,B[K-1+96]),B[K+1+96]=B[K+0+64]=mn(le,ye,Ie),B[K+2+96]=B[K+1+64]=B[K+0+32]=mn(Pe,le,ye),B[K+3+96]=B[K+2+64]=B[K+1+32]=B[K+0+0]=mn(Oe,Pe,le),B[K+3+64]=B[K+2+32]=B[K+1+0]=mn(Ve,Oe,Pe),B[K+3+32]=B[K+2+0]=mn(We,Ve,Oe),B[K+3+0]=mn(ut,We,Ve)}function wd(B,K){var le=B[K+1-32],ye=B[K+2-32],Ie=B[K+3-32],Pe=B[K+4-32],Oe=B[K+5-32],Ve=B[K+6-32],We=B[K+7-32];B[K+0+0]=mn(B[K+0-32],le,ye),B[K+1+0]=B[K+0+32]=mn(le,ye,Ie),B[K+2+0]=B[K+1+32]=B[K+0+64]=mn(ye,Ie,Pe),B[K+3+0]=B[K+2+32]=B[K+1+64]=B[K+0+96]=mn(Ie,Pe,Oe),B[K+3+32]=B[K+2+64]=B[K+1+96]=mn(Pe,Oe,Ve),B[K+3+64]=B[K+2+96]=mn(Oe,Ve,We),B[K+3+96]=mn(Ve,We,We)}function qf(B,K){var le=B[K-1+0],ye=B[K-1+32],Ie=B[K-1+64],Pe=B[K-1-32],Oe=B[K+0-32],Ve=B[K+1-32],We=B[K+2-32],ut=B[K+3-32];B[K+0+0]=B[K+1+64]=Pe+Oe+1>>1,B[K+1+0]=B[K+2+64]=Oe+Ve+1>>1,B[K+2+0]=B[K+3+64]=Ve+We+1>>1,B[K+3+0]=We+ut+1>>1,B[K+0+96]=mn(Ie,ye,le),B[K+0+64]=mn(ye,le,Pe),B[K+0+32]=B[K+1+96]=mn(le,Pe,Oe),B[K+1+32]=B[K+2+96]=mn(Pe,Oe,Ve),B[K+2+32]=B[K+3+96]=mn(Oe,Ve,We),B[K+3+32]=mn(Ve,We,ut)}function dh(B,K){var le=B[K+0-32],ye=B[K+1-32],Ie=B[K+2-32],Pe=B[K+3-32],Oe=B[K+4-32],Ve=B[K+5-32],We=B[K+6-32],ut=B[K+7-32];B[K+0+0]=le+ye+1>>1,B[K+1+0]=B[K+0+64]=ye+Ie+1>>1,B[K+2+0]=B[K+1+64]=Ie+Pe+1>>1,B[K+3+0]=B[K+2+64]=Pe+Oe+1>>1,B[K+0+32]=mn(le,ye,Ie),B[K+1+32]=B[K+0+96]=mn(ye,Ie,Pe),B[K+2+32]=B[K+1+96]=mn(Ie,Pe,Oe),B[K+3+32]=B[K+2+96]=mn(Pe,Oe,Ve),B[K+3+64]=mn(Oe,Ve,We),B[K+3+96]=mn(Ve,We,ut)}function Qo(B,K){var le=B[K-1+0],ye=B[K-1+32],Ie=B[K-1+64],Pe=B[K-1+96];B[K+0+0]=le+ye+1>>1,B[K+2+0]=B[K+0+32]=ye+Ie+1>>1,B[K+2+32]=B[K+0+64]=Ie+Pe+1>>1,B[K+1+0]=mn(le,ye,Ie),B[K+3+0]=B[K+1+32]=mn(ye,Ie,Pe),B[K+3+32]=B[K+1+64]=mn(Ie,Pe,Pe),B[K+3+64]=B[K+2+64]=B[K+0+96]=B[K+1+96]=B[K+2+96]=B[K+3+96]=Pe}function Qd(B,K){var le=B[K-1+0],ye=B[K-1+32],Ie=B[K-1+64],Pe=B[K-1+96],Oe=B[K-1-32],Ve=B[K+0-32],We=B[K+1-32],ut=B[K+2-32];B[K+0+0]=B[K+2+32]=le+Oe+1>>1,B[K+0+32]=B[K+2+64]=ye+le+1>>1,B[K+0+64]=B[K+2+96]=Ie+ye+1>>1,B[K+0+96]=Pe+Ie+1>>1,B[K+3+0]=mn(Ve,We,ut),B[K+2+0]=mn(Oe,Ve,We),B[K+1+0]=B[K+3+32]=mn(le,Oe,Ve),B[K+1+32]=B[K+3+64]=mn(ye,le,Oe),B[K+1+64]=B[K+3+96]=mn(Ie,ye,le),B[K+1+96]=mn(Pe,Ie,ye)}function Ic(B,K){var le;for(le=0;8>le;++le)Q(B,K+32*le,B,K-32,8)}function mf(B,K){var le;for(le=0;8>le;++le)z(B,K,B[K-1],8),K+=32}function dc(B,K,le){var ye;for(ye=0;8>ye;++ye)z(K,le+32*ye,B,8)}function Zu(B,K){var le,ye=8;for(le=0;8>le;++le)ye+=B[K+le-32]+B[K-1+32*le];dc(ye>>4,B,K)}function $l(B,K){var le,ye=4;for(le=0;8>le;++le)ye+=B[K+le-32];dc(ye>>3,B,K)}function hc(B,K){var le,ye=4;for(le=0;8>le;++le)ye+=B[K-1+32*le];dc(ye>>3,B,K)}function hh(B,K){dc(128,B,K)}function kc(B,K,le){var ye=B[K-le],Ie=B[K+0],Pe=3*(Ie-ye)+og[1020+B[K-2*le]-B[K+le]],Oe=qm[112+(Pe+4>>3)];B[K-le]=Iu[255+ye+qm[112+(Pe+3>>3)]],B[K+0]=Iu[255+Ie-Oe]}function Ju(B,K,le,ye){var Ie=B[K+0],Pe=B[K+le];return rd[255+B[K-2*le]-B[K-le]]>ye||rd[255+Pe-Ie]>ye}function Vd(B,K,le,ye){return 4*rd[255+B[K-le]-B[K+0]]+rd[255+B[K-2*le]-B[K+le]]<=ye}function fc(B,K,le,ye,Ie){var Pe=B[K-3*le],Oe=B[K-2*le],Ve=B[K-le],We=B[K+0],ut=B[K+le],kt=B[K+2*le],tr=B[K+3*le];return 4*rd[255+Ve-We]+rd[255+Oe-ut]>ye?0:rd[255+B[K-4*le]-Pe]<=Ie&&rd[255+Pe-Oe]<=Ie&&rd[255+Oe-Ve]<=Ie&&rd[255+tr-kt]<=Ie&&rd[255+kt-ut]<=Ie&&rd[255+ut-We]<=Ie}function Oa(B,K,le,ye){var Ie=2*ye+1;for(ye=0;16>ye;++ye)Vd(B,K+ye,le,Ie)&&kc(B,K+ye,le)}function fh(B,K,le,ye){var Ie=2*ye+1;for(ye=0;16>ye;++ye)Vd(B,K+ye*le,1,Ie)&&kc(B,K+ye*le,1)}function Xf(B,K,le,ye){var Ie;for(Ie=3;0<Ie;--Ie)Oa(B,K+=4*le,le,ye)}function RA(B,K,le,ye){var Ie;for(Ie=3;0<Ie;--Ie)fh(B,K+=4,le,ye)}function Kd(B,K,le,ye,Ie,Pe,Oe,Ve){for(Pe=2*Pe+1;0<Ie--;){if(fc(B,K,le,Pe,Oe))if(Ju(B,K,le,Ve))kc(B,K,le);else{var We=B,ut=K,kt=le,tr=We[ut-2*kt],at=We[ut-kt],Dt=We[ut+0],Kt=We[ut+kt],Sr=We[ut+2*kt],lr=27*(jr=og[1020+3*(Dt-at)+og[1020+tr-Kt]])+63>>7,_r=18*jr+63>>7,jr=9*jr+63>>7;We[ut-3*kt]=Iu[255+We[ut-3*kt]+jr],We[ut-2*kt]=Iu[255+tr+_r],We[ut-kt]=Iu[255+at+lr],We[ut+0]=Iu[255+Dt-lr],We[ut+kt]=Iu[255+Kt-_r],We[ut+2*kt]=Iu[255+Sr-jr]}K+=ye}}function Gd(B,K,le,ye,Ie,Pe,Oe,Ve){for(Pe=2*Pe+1;0<Ie--;){if(fc(B,K,le,Pe,Oe))if(Ju(B,K,le,Ve))kc(B,K,le);else{var We=B,ut=K,kt=le,tr=We[ut-kt],at=We[ut+0],Dt=We[ut+kt],Kt=qm[112+(4+(Sr=3*(at-tr))>>3)],Sr=qm[112+(Sr+3>>3)],lr=Kt+1>>1;We[ut-2*kt]=Iu[255+We[ut-2*kt]+lr],We[ut-kt]=Iu[255+tr+Sr],We[ut+0]=Iu[255+at-Kt],We[ut+kt]=Iu[255+Dt-lr]}K+=ye}}function Za(B,K,le,ye,Ie,Pe){Kd(B,K,le,1,16,ye,Ie,Pe)}function zd(B,K,le,ye,Ie,Pe){Kd(B,K,1,le,16,ye,Ie,Pe)}function Ah(B,K,le,ye,Ie,Pe){var Oe;for(Oe=3;0<Oe;--Oe)Gd(B,K+=4*le,le,1,16,ye,Ie,Pe)}function re(B,K,le,ye,Ie,Pe){var Oe;for(Oe=3;0<Oe;--Oe)Gd(B,K+=4,1,le,16,ye,Ie,Pe)}function Ne(B,K,le,ye,Ie,Pe,Oe,Ve){Kd(B,K,Ie,1,8,Pe,Oe,Ve),Kd(le,ye,Ie,1,8,Pe,Oe,Ve)}function dt(B,K,le,ye,Ie,Pe,Oe,Ve){Kd(B,K,1,Ie,8,Pe,Oe,Ve),Kd(le,ye,1,Ie,8,Pe,Oe,Ve)}function wt(B,K,le,ye,Ie,Pe,Oe,Ve){Gd(B,K+4*Ie,Ie,1,8,Pe,Oe,Ve),Gd(le,ye+4*Ie,Ie,1,8,Pe,Oe,Ve)}function Vt(B,K,le,ye,Ie,Pe,Oe,Ve){Gd(B,K+4,1,Ie,8,Pe,Oe,Ve),Gd(le,ye+4,1,Ie,8,Pe,Oe,Ve)}function Cr(){this.ba=new Pi,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Xi,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Dr(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Rn(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function On(){this.ua=0,this.Wa=new _i,this.vb=new _i,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new dr,this.yc=new _t}function Ni(){this.xb=this.a=0,this.l=new Bh,this.ca=new Pi,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new vt,this.Pb=0,this.wd=new vt,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new On,this.ab=0,this.gc=fe(4,Rn),this.Oc=0}function Di(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Bh,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function js(B,K,le,ye,Ie,Pe,Oe){for(B=B==null?0:B[K+0],K=0;K<Oe;++K)Ie[Pe+K]=B+le[ye+K]&255,B=Ie[Pe+K]}function oa(B,K,le,ye,Ie,Pe,Oe){var Ve;if(B==null)js(null,null,le,ye,Ie,Pe,Oe);else for(Ve=0;Ve<Oe;++Ve)Ie[Pe+Ve]=B[K+Ve]+le[ye+Ve]&255}function Ja(B,K,le,ye,Ie,Pe,Oe){if(B==null)js(null,null,le,ye,Ie,Pe,Oe);else{var Ve,We=B[K+0],ut=We,kt=We;for(Ve=0;Ve<Oe;++Ve)ut=kt+(We=B[K+Ve])-ut,kt=le[ye+Ve]+(-256&ut?0>ut?0:255:ut)&255,ut=We,Ie[Pe+Ve]=kt}}function Js(B,K,le,ye){var Ie=K.width,Pe=K.o;if(C(B!=null&&K!=null),0>le||0>=ye||le+ye>Pe)return null;if(!B.Cc){if(B.ga==null){var Oe;if(B.ga=new Di,(Oe=B.ga==null)||(Oe=K.width*K.o,C(B.Gb.length==0),B.Gb=X(Oe),B.Uc=0,B.Gb==null?Oe=0:(B.mb=B.Gb,B.nb=B.Uc,B.rc=null,Oe=1),Oe=!Oe),!Oe){Oe=B.ga;var Ve=B.Fa,We=B.P,ut=B.qc,kt=B.mb,tr=B.nb,at=We+1,Dt=ut-1,Kt=Oe.l;if(C(Ve!=null&&kt!=null&&K!=null),gh[0]=null,gh[1]=js,gh[2]=oa,gh[3]=Ja,Oe.ca=kt,Oe.tb=tr,Oe.c=K.width,Oe.i=K.height,C(0<Oe.c&&0<Oe.i),1>=ut)K=0;else if(Oe.$a=3&Ve[We+0],Oe.Z=Ve[We+0]>>2&3,Oe.Lc=Ve[We+0]>>4&3,We=Ve[We+0]>>6&3,0>Oe.$a||1<Oe.$a||4<=Oe.Z||1<Oe.Lc||We)K=0;else if(Kt.put=xi,Kt.ac=xu,Kt.bc=$a,Kt.ma=Oe,Kt.width=K.width,Kt.height=K.height,Kt.Da=K.Da,Kt.v=K.v,Kt.va=K.va,Kt.j=K.j,Kt.o=K.o,Oe.$a)e:{C(Oe.$a==1),K=Ud();t:for(;;){if(K==null){K=0;break e}if(C(Oe!=null),Oe.mc=K,K.c=Oe.c,K.i=Oe.i,K.l=Oe.l,K.l.ma=Oe,K.l.width=Oe.c,K.l.height=Oe.i,K.a=0,vr(K.m,Ve,at,Dt),!Tc(Oe.c,Oe.i,1,K,null)||(K.ab==1&&K.gc[0].hc==3&&Sc(K.s)?(Oe.ic=1,Ve=K.c*K.i,K.Ta=null,K.Ua=0,K.V=X(Ve),K.Ba=0,K.V==null?(K.a=1,K=0):K=1):(Oe.ic=0,K=Pl(K,Oe.c)),!K))break t;K=1;break e}Oe.mc=null,K=0}else K=Dt>=Oe.c*Oe.i;Oe=!K}if(Oe)return null;B.ga.Lc!=1?B.Ga=0:ye=Pe-le}C(B.ga!=null),C(le+ye<=Pe);e:{if(K=(Ve=B.ga).c,Pe=Ve.l.o,Ve.$a==0){if(at=B.rc,Dt=B.Vc,Kt=B.Fa,We=B.P+1+le*K,ut=B.mb,kt=B.nb+le*K,C(We<=B.P+B.qc),Ve.Z!=0)for(C(gh[Ve.Z]!=null),Oe=0;Oe<ye;++Oe)gh[Ve.Z](at,Dt,Kt,We,ut,kt,K),at=ut,Dt=kt,kt+=K,We+=K;else for(Oe=0;Oe<ye;++Oe)Q(ut,kt,Kt,We,K),at=ut,Dt=kt,kt+=K,We+=K;B.rc=at,B.Vc=Dt}else{if(C(Ve.mc!=null),K=le+ye,C((Oe=Ve.mc)!=null),C(K<=Oe.i),Oe.C>=K)K=1;else if(Ve.ic||He(),Ve.ic){Ve=Oe.V,at=Oe.Ba,Dt=Oe.c;var Sr=Oe.i,lr=(Kt=1,We=Oe.$/Dt,ut=Oe.$%Dt,kt=Oe.m,tr=Oe.s,Oe.$),_r=Dt*Sr,jr=Dt*K,Vr=tr.wc,Mr=lr<jr?Ha(tr,ut,We):null;C(lr<=_r),C(K<=Sr),C(Sc(tr));t:for(;;){for(;!kt.h&&lr<jr;){if(ut&Vr||(Mr=Ha(tr,ut,We)),C(Mr!=null),nr(kt),256>(Sr=fa(Mr.G[0],Mr.H[0],kt)))Ve[at+lr]=Sr,++lr,++ut>=Dt&&(ut=0,++We<=K&&!(We%16)&&Wc(Oe,We));else{if(!(280>Sr)){Kt=0;break t}Sr=lc(Sr-256,kt);var ii,Cn=fa(Mr.G[4],Mr.H[4],kt);if(nr(kt),!(lr>=(Cn=Rl(Dt,Cn=lc(Cn,kt)))&&_r-lr>=Sr)){Kt=0;break t}for(ii=0;ii<Sr;++ii)Ve[at+lr+ii]=Ve[at+lr+ii-Cn];for(lr+=Sr,ut+=Sr;ut>=Dt;)ut-=Dt,++We<=K&&!(We%16)&&Wc(Oe,We);lr<jr&&ut&Vr&&(Mr=Ha(tr,ut,We))}C(kt.h==Ft(kt))}Wc(Oe,We>K?K:We);break t}!Kt||kt.h&&lr<_r?(Kt=0,Oe.a=kt.h?5:3):Oe.$=lr,K=Kt}else K=Ol(Oe,Oe.V,Oe.Ba,Oe.c,Oe.i,K,gd);if(!K){ye=0;break e}}le+ye>=Pe&&(B.Cc=1),ye=1}if(!ye)return null;if(B.Cc&&((ye=B.ga)!=null&&(ye.mc=null),B.ga=null,0<B.Ga))return alert("todo:WebPDequantizeLevels"),null}return B.nb+le*Ie}function fo(B,K,le,ye,Ie,Pe){for(;0<Ie--;){var Oe,Ve=B,We=K+(le?1:0),ut=B,kt=K+(le?0:3);for(Oe=0;Oe<ye;++Oe){var tr=ut[kt+4*Oe];tr!=255&&(tr*=32897,Ve[We+4*Oe+0]=Ve[We+4*Oe+0]*tr>>23,Ve[We+4*Oe+1]=Ve[We+4*Oe+1]*tr>>23,Ve[We+4*Oe+2]=Ve[We+4*Oe+2]*tr>>23)}K+=Pe}}function k(B,K,le,ye,Ie){for(;0<ye--;){var Pe;for(Pe=0;Pe<le;++Pe){var Oe=B[K+2*Pe+0],Ve=15&(ut=B[K+2*Pe+1]),We=4369*Ve,ut=(240&ut|ut>>4)*We>>16;B[K+2*Pe+0]=(240&Oe|Oe>>4)*We>>16&240|(15&Oe|Oe<<4)*We>>16>>4&15,B[K+2*Pe+1]=240&ut|Ve}K+=Ie}}function Te(B,K,le,ye,Ie,Pe,Oe,Ve){var We,ut,kt=255;for(ut=0;ut<Ie;++ut){for(We=0;We<ye;++We){var tr=B[K+We];Pe[Oe+4*We]=tr,kt&=tr}K+=le,Oe+=Ve}return kt!=255}function Y(B,K,le,ye,Ie){var Pe;for(Pe=0;Pe<Ie;++Pe)le[ye+Pe]=B[K+Pe]>>8}function He(){Rh=fo,Wm=k,Jc=Te,Ed=Y}function mt(B,K,le){Ct[B]=function(ye,Ie,Pe,Oe,Ve,We,ut,kt,tr,at,Dt,Kt,Sr,lr,_r,jr,Vr){var Mr,ii=Vr-1>>1,Cn=Ve[We+0]|ut[kt+0]<<16,as=tr[at+0]|Dt[Kt+0]<<16;C(ye!=null);var Zn=3*Cn+as+131074>>2;for(K(ye[Ie+0],255&Zn,Zn>>16,Sr,lr),Pe!=null&&(Zn=3*as+Cn+131074>>2,K(Pe[Oe+0],255&Zn,Zn>>16,_r,jr)),Mr=1;Mr<=ii;++Mr){var Ls=Ve[We+Mr]|ut[kt+Mr]<<16,il=tr[at+Mr]|Dt[Kt+Mr]<<16,Zi=Cn+Ls+as+il+524296,zn=Zi+2*(Ls+as)>>3;Zn=zn+Cn>>1,Cn=(Zi=Zi+2*(Cn+il)>>3)+Ls>>1,K(ye[Ie+2*Mr-1],255&Zn,Zn>>16,Sr,lr+(2*Mr-1)*le),K(ye[Ie+2*Mr-0],255&Cn,Cn>>16,Sr,lr+(2*Mr-0)*le),Pe!=null&&(Zn=Zi+as>>1,Cn=zn+il>>1,K(Pe[Oe+2*Mr-1],255&Zn,Zn>>16,_r,jr+(2*Mr-1)*le),K(Pe[Oe+2*Mr+0],255&Cn,Cn>>16,_r,jr+(2*Mr+0)*le)),Cn=Ls,as=il}1&Vr||(Zn=3*Cn+as+131074>>2,K(ye[Ie+Vr-1],255&Zn,Zn>>16,Sr,lr+(Vr-1)*le),Pe!=null&&(Zn=3*as+Cn+131074>>2,K(Pe[Oe+Vr-1],255&Zn,Zn>>16,_r,jr+(Vr-1)*le)))}}function ht(){id[Jf]=UA,id[Xm]=pg,id[lg]=U0,id[DA]=Sy,id[nl]=_y,id[gf]=gg,id[cg]=vh,id[ug]=pg,id[Zm]=Sy,id[eA]=_y,id[dg]=gg}function ir(B){return B&-16384?0>B?0:255:B>>rp}function Ot(B,K){return ir((19077*B>>8)+(26149*K>>8)-14234)}function xn(B,K,le){return ir((19077*B>>8)-(6419*K>>8)-(13320*le>>8)+8708)}function Nt(B,K){return ir((19077*B>>8)+(33050*K>>8)-17685)}function sr(B,K,le,ye,Ie){ye[Ie+0]=Ot(B,le),ye[Ie+1]=xn(B,K,le),ye[Ie+2]=Nt(B,K)}function Ii(B,K,le,ye,Ie){ye[Ie+0]=Nt(B,K),ye[Ie+1]=xn(B,K,le),ye[Ie+2]=Ot(B,le)}function cn(B,K,le,ye,Ie){var Pe=xn(B,K,le);K=Pe<<3&224|Nt(B,K)>>3,ye[Ie+0]=248&Ot(B,le)|Pe>>5,ye[Ie+1]=K}function Fr(B,K,le,ye,Ie){var Pe=240&Nt(B,K)|15;ye[Ie+0]=240&Ot(B,le)|xn(B,K,le)>>4,ye[Ie+1]=Pe}function wr(B,K,le,ye,Ie){ye[Ie+0]=255,sr(B,K,le,ye,Ie+1)}function la(B,K,le,ye,Ie){Ii(B,K,le,ye,Ie),ye[Ie+3]=255}function Ci(B,K,le,ye,Ie){sr(B,K,le,ye,Ie),ye[Ie+3]=255}function li(B,K,le){Ct[B]=function(ye,Ie,Pe,Oe,Ve,We,ut,kt,tr){for(var at=kt+(-2&tr)*le;kt!=at;)K(ye[Ie+0],Pe[Oe+0],Ve[We+0],ut,kt),K(ye[Ie+1],Pe[Oe+0],Ve[We+0],ut,kt+le),Ie+=2,++Oe,++We,kt+=2*le;1&tr&&K(ye[Ie+0],Pe[Oe+0],Ve[We+0],ut,kt)}}function wi(B,K,le){return le==0?B==0?K==0?6:5:K==0?4:0:le}function zi(B,K,le,ye,Ie){switch(B>>>30){case 3:td(K,le,ye,Ie,0);break;case 2:Hl(K,le,ye,Ie);break;case 1:Is(K,le,ye,Ie)}}function an(B,K){var le,ye,Ie=K.M,Pe=K.Nb,Oe=B.oc,Ve=B.pc+40,We=B.oc,ut=B.pc+584,kt=B.oc,tr=B.pc+600;for(le=0;16>le;++le)Oe[Ve+32*le-1]=129;for(le=0;8>le;++le)We[ut+32*le-1]=129,kt[tr+32*le-1]=129;for(0<Ie?Oe[Ve-1-32]=We[ut-1-32]=kt[tr-1-32]=129:(z(Oe,Ve-32-1,127,21),z(We,ut-32-1,127,9),z(kt,tr-32-1,127,9)),ye=0;ye<B.za;++ye){var at=K.ya[K.aa+ye];if(0<ye){for(le=-1;16>le;++le)Q(Oe,Ve+32*le-4,Oe,Ve+32*le+12,4);for(le=-1;8>le;++le)Q(We,ut+32*le-4,We,ut+32*le+4,4),Q(kt,tr+32*le-4,kt,tr+32*le+4,4)}var Dt=B.Gd,Kt=B.Hd+ye,Sr=at.ad,lr=at.Hc;if(0<Ie&&(Q(Oe,Ve-32,Dt[Kt].y,0,16),Q(We,ut-32,Dt[Kt].f,0,8),Q(kt,tr-32,Dt[Kt].ea,0,8)),at.Za){var _r=Oe,jr=Ve-32+16;for(0<Ie&&(ye>=B.za-1?z(_r,jr,Dt[Kt].y[15],4):Q(_r,jr,Dt[Kt+1].y,0,4)),le=0;4>le;le++)_r[jr+128+le]=_r[jr+256+le]=_r[jr+384+le]=_r[jr+0+le];for(le=0;16>le;++le,lr<<=2)_r=Oe,jr=Ve+Oh[le],nd[at.Ob[le]](_r,jr),zi(lr,Sr,16*+le,_r,jr)}else if(_r=wi(ye,Ie,at.Ob[0]),ph[_r](Oe,Ve),lr!=0)for(le=0;16>le;++le,lr<<=2)zi(lr,Sr,16*+le,Oe,Ve+Oh[le]);for(le=at.Gc,_r=wi(ye,Ie,at.Dd),Sd[_r](We,ut),Sd[_r](kt,tr),lr=Sr,_r=We,jr=ut,255&(at=0|le)&&(170&at?Nu(lr,256,_r,jr):ya(lr,256,_r,jr)),at=kt,lr=tr,255&(le>>=8)&&(170&le?Nu(Sr,320,at,lr):ya(Sr,320,at,lr)),Ie<B.Ub-1&&(Q(Dt[Kt].y,0,Oe,Ve+480,16),Q(Dt[Kt].f,0,We,ut+224,8),Q(Dt[Kt].ea,0,kt,tr+224,8)),le=8*Pe*B.B,Dt=B.sa,Kt=B.ta+16*ye+16*Pe*B.R,Sr=B.qa,at=B.ra+8*ye+le,lr=B.Ha,_r=B.Ia+8*ye+le,le=0;16>le;++le)Q(Dt,Kt+le*B.R,Oe,Ve+32*le,16);for(le=0;8>le;++le)Q(Sr,at+le*B.B,We,ut+32*le,8),Q(lr,_r+le*B.B,kt,tr+32*le,8)}}function Wi(B,K,le,ye,Ie,Pe,Oe,Ve,We){var ut=[0],kt=[0],tr=0,at=We!=null?We.kd:0,Dt=We??new Dr;if(B==null||12>le)return 7;Dt.data=B,Dt.w=K,Dt.ha=le,K=[K],le=[le],Dt.gb=[Dt.gb];e:{var Kt=K,Sr=le,lr=Dt.gb;if(C(B!=null),C(Sr!=null),C(lr!=null),lr[0]=0,12<=Sr[0]&&!O(B,Kt[0],"RIFF")){if(O(B,Kt[0]+8,"WEBP")){lr=3;break e}var _r=ui(B,Kt[0]+4);if(12>_r||4294967286<_r){lr=3;break e}if(at&&_r>Sr[0]-8){lr=7;break e}lr[0]=_r,Kt[0]+=12,Sr[0]-=12}lr=0}if(lr!=0)return lr;for(_r=0<Dt.gb[0],le=le[0];;){e:{var jr=B;Sr=K,lr=le;var Vr=ut,Mr=kt,ii=Kt=[0];if((Zn=tr=[tr])[0]=0,8>lr[0])lr=7;else{if(!O(jr,Sr[0],"VP8X")){if(ui(jr,Sr[0]+4)!=10){lr=3;break e}if(18>lr[0]){lr=7;break e}var Cn=ui(jr,Sr[0]+8),as=1+wn(jr,Sr[0]+12);if(2147483648<=as*(jr=1+wn(jr,Sr[0]+15))){lr=3;break e}ii!=null&&(ii[0]=Cn),Vr!=null&&(Vr[0]=as),Mr!=null&&(Mr[0]=jr),Sr[0]+=18,lr[0]-=18,Zn[0]=1}lr=0}}if(tr=tr[0],Kt=Kt[0],lr!=0)return lr;if(Sr=!!(2&Kt),!_r&&tr)return 3;if(Pe!=null&&(Pe[0]=!!(16&Kt)),Oe!=null&&(Oe[0]=Sr),Ve!=null&&(Ve[0]=0),Oe=ut[0],Kt=kt[0],tr&&Sr&&We==null){lr=0;break}if(4>le){lr=7;break}if(_r&&tr||!_r&&!tr&&!O(B,K[0],"ALPH")){le=[le],Dt.na=[Dt.na],Dt.P=[Dt.P],Dt.Sa=[Dt.Sa];e:{Cn=B,lr=K,_r=le;var Zn=Dt.gb;Vr=Dt.na,Mr=Dt.P,ii=Dt.Sa,as=22,C(Cn!=null),C(_r!=null),jr=lr[0];var Ls=_r[0];for(C(Vr!=null),C(ii!=null),Vr[0]=null,Mr[0]=null,ii[0]=0;;){if(lr[0]=jr,_r[0]=Ls,8>Ls){lr=7;break e}var il=ui(Cn,jr+4);if(4294967286<il){lr=3;break e}var Zi=8+il+1&-2;if(as+=Zi,0<Zn&&as>Zn){lr=3;break e}if(!O(Cn,jr,"VP8 ")||!O(Cn,jr,"VP8L")){lr=0;break e}if(Ls[0]<Zi){lr=7;break e}O(Cn,jr,"ALPH")||(Vr[0]=Cn,Mr[0]=jr+8,ii[0]=il),jr+=Zi,Ls-=Zi}}if(le=le[0],Dt.na=Dt.na[0],Dt.P=Dt.P[0],Dt.Sa=Dt.Sa[0],lr!=0)break}le=[le],Dt.Ja=[Dt.Ja],Dt.xa=[Dt.xa];e:if(Zn=B,lr=K,_r=le,Vr=Dt.gb[0],Mr=Dt.Ja,ii=Dt.xa,Cn=lr[0],jr=!O(Zn,Cn,"VP8 "),as=!O(Zn,Cn,"VP8L"),C(Zn!=null),C(_r!=null),C(Mr!=null),C(ii!=null),8>_r[0])lr=7;else{if(jr||as){if(Zn=ui(Zn,Cn+4),12<=Vr&&Zn>Vr-12){lr=3;break e}if(at&&Zn>_r[0]-8){lr=7;break e}Mr[0]=Zn,lr[0]+=8,_r[0]-=8,ii[0]=as}else ii[0]=5<=_r[0]&&Zn[Cn+0]==47&&!(Zn[Cn+4]>>5),Mr[0]=_r[0];lr=0}if(le=le[0],Dt.Ja=Dt.Ja[0],Dt.xa=Dt.xa[0],K=K[0],lr!=0)break;if(4294967286<Dt.Ja)return 3;if(Ve==null||Sr||(Ve[0]=Dt.xa?2:1),Oe=[Oe],Kt=[Kt],Dt.xa){if(5>le){lr=7;break}Ve=Oe,at=Kt,Sr=Pe,B==null||5>le?B=0:5<=le&&B[K+0]==47&&!(B[K+4]>>5)?(_r=[0],Zn=[0],Vr=[0],vr(Mr=new vt,B,K,le),qa(Mr,_r,Zn,Vr)?(Ve!=null&&(Ve[0]=_r[0]),at!=null&&(at[0]=Zn[0]),Sr!=null&&(Sr[0]=Vr[0]),B=1):B=0):B=0}else{if(10>le){lr=7;break}Ve=Kt,B==null||10>le||!qc(B,K+3,le-3)?B=0:(at=B[K+0]|B[K+1]<<8|B[K+2]<<16,Sr=16383&(B[K+7]<<8|B[K+6]),B=16383&(B[K+9]<<8|B[K+8]),1&at||3<(at>>1&7)||!(at>>4&1)||at>>5>=Dt.Ja||!Sr||!B?B=0:(Oe&&(Oe[0]=Sr),Ve&&(Ve[0]=B),B=1))}if(!B||(Oe=Oe[0],Kt=Kt[0],tr&&(ut[0]!=Oe||kt[0]!=Kt)))return 3;We!=null&&(We[0]=Dt,We.offset=K-We.w,C(4294967286>K-We.w),C(We.offset==We.ha-le));break}return lr==0||lr==7&&tr&&We==null?(Pe!=null&&(Pe[0]|=Dt.na!=null&&0<Dt.na.length),ye!=null&&(ye[0]=Oe),Ie!=null&&(Ie[0]=Kt),0):lr}function ca(B,K,le){var ye=K.width,Ie=K.height,Pe=0,Oe=0,Ve=ye,We=Ie;if(K.Da=B!=null&&0<B.Da,K.Da&&(Ve=B.cd,We=B.bd,Pe=B.v,Oe=B.j,11>le||(Pe&=-2,Oe&=-2),0>Pe||0>Oe||0>=Ve||0>=We||Pe+Ve>ye||Oe+We>Ie))return 0;if(K.v=Pe,K.j=Oe,K.va=Pe+Ve,K.o=Oe+We,K.U=Ve,K.T=We,K.da=B!=null&&0<B.da,K.da){if(!ln(Ve,We,le=[B.ib],Pe=[B.hb]))return 0;K.ib=le[0],K.hb=Pe[0]}return K.ob=B!=null&&B.ob,K.Kb=B==null||!B.Sd,K.da&&(K.ob=K.ib<3*ye/4&&K.hb<3*Ie/4,K.Kb=0),1}function ni(B){if(B==null)return 2;if(11>B.S){var K=B.f.RGBA;K.fb+=(B.height-1)*K.A,K.A=-K.A}else K=B.f.kb,B=B.height,K.O+=(B-1)*K.fa,K.fa=-K.fa,K.N+=(B-1>>1)*K.Ab,K.Ab=-K.Ab,K.W+=(B-1>>1)*K.Db,K.Db=-K.Db,K.F!=null&&(K.J+=(B-1)*K.lb,K.lb=-K.lb);return 0}function Ns(B,K,le,ye){if(ye==null||0>=B||0>=K)return 2;if(le!=null){if(le.Da){var Ie=le.cd,Pe=le.bd,Oe=-2&le.v,Ve=-2&le.j;if(0>Oe||0>Ve||0>=Ie||0>=Pe||Oe+Ie>B||Ve+Pe>K)return 2;B=Ie,K=Pe}if(le.da){if(!ln(B,K,Ie=[le.ib],Pe=[le.hb]))return 2;B=Ie[0],K=Pe[0]}}ye.width=B,ye.height=K;e:{var We=ye.width,ut=ye.height;if(B=ye.S,0>=We||0>=ut||!(B>=Jf&&13>B))B=2;else{if(0>=ye.Rd&&ye.sd==null){Oe=Pe=Ie=K=0;var kt=(Ve=We*HA[B])*ut;if(11>B||(Pe=(ut+1)/2*(K=(We+1)/2),B==12&&(Oe=(Ie=We)*ut)),(ut=X(kt+2*Pe+Oe))==null){B=1;break e}ye.sd=ut,11>B?((We=ye.f.RGBA).eb=ut,We.fb=0,We.A=Ve,We.size=kt):((We=ye.f.kb).y=ut,We.O=0,We.fa=Ve,We.Fd=kt,We.f=ut,We.N=0+kt,We.Ab=K,We.Cd=Pe,We.ea=ut,We.W=0+kt+Pe,We.Db=K,We.Ed=Pe,B==12&&(We.F=ut,We.J=0+kt+2*Pe),We.Tc=Oe,We.lb=Ie)}if(K=1,Ie=ye.S,Pe=ye.width,Oe=ye.height,Ie>=Jf&&13>Ie)if(11>Ie)B=ye.f.RGBA,K&=(Ve=Math.abs(B.A))*(Oe-1)+Pe<=B.size,K&=Ve>=Pe*HA[Ie],K&=B.eb!=null;else{B=ye.f.kb,Ve=(Pe+1)/2,kt=(Oe+1)/2,We=Math.abs(B.fa),ut=Math.abs(B.Ab);var tr=Math.abs(B.Db),at=Math.abs(B.lb),Dt=at*(Oe-1)+Pe;K&=We*(Oe-1)+Pe<=B.Fd,K&=ut*(kt-1)+Ve<=B.Cd,K=(K&=tr*(kt-1)+Ve<=B.Ed)&We>=Pe&ut>=Ve&tr>=Ve,K&=B.y!=null,K&=B.f!=null,K&=B.ea!=null,Ie==12&&(K&=at>=Pe,K&=Dt<=B.Tc,K&=B.F!=null)}else K=0;B=K?0:2}}return B!=0||le!=null&&le.fd&&(B=ni(ye)),B}var is=64,Pn=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],bi=24,bl=32,Cu=8,Bc=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Sn("Predictor0","PredictorAdd0"),Ct.Predictor0=function(){return 4278190080},Ct.Predictor1=function(B){return B},Ct.Predictor2=function(B,K,le){return K[le+0]},Ct.Predictor3=function(B,K,le){return K[le+1]},Ct.Predictor4=function(B,K,le){return K[le-1]},Ct.Predictor5=function(B,K,le){return Kn(Kn(B,K[le+1]),K[le+0])},Ct.Predictor6=function(B,K,le){return Kn(B,K[le-1])},Ct.Predictor7=function(B,K,le){return Kn(B,K[le+0])},Ct.Predictor8=function(B,K,le){return Kn(K[le-1],K[le+0])},Ct.Predictor9=function(B,K,le){return Kn(K[le+0],K[le+1])},Ct.Predictor10=function(B,K,le){return Kn(Kn(B,K[le-1]),Kn(K[le+0],K[le+1]))},Ct.Predictor11=function(B,K,le){var ye=K[le+0];return 0>=Bn(ye>>24&255,B>>24&255,(K=K[le-1])>>24&255)+Bn(ye>>16&255,B>>16&255,K>>16&255)+Bn(ye>>8&255,B>>8&255,K>>8&255)+Bn(255&ye,255&B,255&K)?ye:B},Ct.Predictor12=function(B,K,le){var ye=K[le+0];return(Zs((B>>24&255)+(ye>>24&255)-((K=K[le-1])>>24&255))<<24|Zs((B>>16&255)+(ye>>16&255)-(K>>16&255))<<16|Zs((B>>8&255)+(ye>>8&255)-(K>>8&255))<<8|Zs((255&B)+(255&ye)-(255&K)))>>>0},Ct.Predictor13=function(B,K,le){var ye=K[le-1];return(Qi((B=Kn(B,K[le+0]))>>24&255,ye>>24&255)<<24|Qi(B>>16&255,ye>>16&255)<<16|Qi(B>>8&255,ye>>8&255)<<8|Qi(255&B,255&ye))>>>0};var Vo=Ct.PredictorAdd0;Ct.PredictorAdd1=cs,Sn("Predictor2","PredictorAdd2"),Sn("Predictor3","PredictorAdd3"),Sn("Predictor4","PredictorAdd4"),Sn("Predictor5","PredictorAdd5"),Sn("Predictor6","PredictorAdd6"),Sn("Predictor7","PredictorAdd7"),Sn("Predictor8","PredictorAdd8"),Sn("Predictor9","PredictorAdd9"),Sn("Predictor10","PredictorAdd10"),Sn("Predictor11","PredictorAdd11"),Sn("Predictor12","PredictorAdd12"),Sn("Predictor13","PredictorAdd13");var wl=Ct.PredictorAdd2;Gn("ColorIndexInverseTransform","MapARGB","32b",function(B){return B>>8&255},function(B){return B}),Gn("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(B){return B},function(B){return B>>8&255});var Sa,OA=Ct.ColorIndexInverseTransform,Wd=Ct.MapARGB,Ac=Ct.VP8LColorIndexInverseTransformAlpha,mc=Ct.MapAlpha,eo=Ct.VP8LPredictorsAdd=[];eo.length=16,(Ct.VP8LPredictors=[]).length=16,(Ct.VP8LPredictorsAdd_C=[]).length=16,(Ct.VP8LPredictors_C=[]).length=16;var pf,ed,Li,Ds,Pa,mh,ju,td,Hl,Nu,Is,ya,ss,Ko,Yd,Zf,Lh,PA,Vm,Km,Gm,pc,Ao,zm,Rh,Wm,Jc,Ed,Ym=X(511),sg=X(2041),ag=X(225),R0=X(767),O0=0,og=sg,qm=ag,Iu=R0,rd=Ym,Jf=0,Xm=1,lg=2,DA=3,nl=4,gf=5,cg=6,ug=7,Zm=8,eA=9,dg=10,yy=[2,3,7],u1=[3,3,11],P0=[280,256,256,256,40],MA=[0,1,1,1,0],xy=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],hg=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],fg=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],D0=8,FA=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Ag=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],tA=null,mg=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],by=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],M0=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],wy=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],F0=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Jm=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],ep=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ph=[],nd=[],Sd=[],Ey=1,tp=2,gh=[],id=[];mt("UpsampleRgbLinePair",sr,3),mt("UpsampleBgrLinePair",Ii,3),mt("UpsampleRgbaLinePair",Ci,4),mt("UpsampleBgraLinePair",la,4),mt("UpsampleArgbLinePair",wr,4),mt("UpsampleRgba4444LinePair",Fr,2),mt("UpsampleRgb565LinePair",cn,2);var UA=Ct.UpsampleRgbLinePair,U0=Ct.UpsampleBgrLinePair,pg=Ct.UpsampleRgbaLinePair,Sy=Ct.UpsampleBgraLinePair,_y=Ct.UpsampleArgbLinePair,gg=Ct.UpsampleRgba4444LinePair,vh=Ct.UpsampleRgb565LinePair,vf=16,yh=1<<vf-1,$A=-227,vg=482,rp=6,$0=0,yg=X(256),xg=X(256),bg=X(256),wg=X(256),Eg=X(vg-$A),H0=X(vg-$A);li("YuvToRgbRow",sr,3),li("YuvToBgrRow",Ii,3),li("YuvToRgbaRow",Ci,4),li("YuvToBgraRow",la,4),li("YuvToArgbRow",wr,4),li("YuvToRgba4444Row",Fr,2),li("YuvToRgb565Row",cn,2);var Oh=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],np=[0,2,8],ip=[8,7,6,4,4,2,2,2,1,1,1,1],sp=1;this.WebPDecodeRGBA=function(B,K,le,ye,Ie){var Pe=Xm,Oe=new Cr,Ve=new Pi;Oe.ba=Ve,Ve.S=Pe,Ve.width=[Ve.width],Ve.height=[Ve.height];var We=Ve.width,ut=Ve.height,kt=new fn;if(kt==null||B==null)var tr=2;else C(kt!=null),tr=Wi(B,K,le,kt.width,kt.height,kt.Pd,kt.Qd,kt.format,null);if(tr!=0?We=0:(We!=null&&(We[0]=kt.width[0]),ut!=null&&(ut[0]=kt.height[0]),We=1),We){Ve.width=Ve.width[0],Ve.height=Ve.height[0],ye!=null&&(ye[0]=Ve.width),Ie!=null&&(Ie[0]=Ve.height);e:{if(ye=new Bh,(Ie=new Dr).data=B,Ie.w=K,Ie.ha=le,Ie.kd=1,K=[0],C(Ie!=null),((B=Wi(Ie.data,Ie.w,Ie.ha,null,null,null,K,null,Ie))==0||B==7)&&K[0]&&(B=4),(K=B)==0){if(C(Oe!=null),ye.data=Ie.data,ye.w=Ie.w+Ie.offset,ye.ha=Ie.ha-Ie.offset,ye.put=xi,ye.ac=xu,ye.bc=$a,ye.ma=Oe,Ie.xa){if((B=Ud())==null){Oe=1;break e}if((function(at,Dt){var Kt=[0],Sr=[0],lr=[0];t:for(;;){if(at==null)return 0;if(Dt==null)return at.a=2,0;if(at.l=Dt,at.a=0,vr(at.m,Dt.data,Dt.w,Dt.ha),!qa(at.m,Kt,Sr,lr)){at.a=3;break t}if(at.xb=tp,Dt.width=Kt[0],Dt.height=Sr[0],!Tc(Kt[0],Sr[0],1,at,null))break t;return 1}return C(at.a!=0),0})(B,ye)){if(ye=(K=Ns(ye.width,ye.height,Oe.Oa,Oe.ba))==0){t:{ye=B;r:for(;;){if(ye==null){ye=0;break t}if(C(ye.s.yc!=null),C(ye.s.Ya!=null),C(0<ye.s.Wb),C((le=ye.l)!=null),C((Ie=le.ma)!=null),ye.xb!=0){if(ye.ca=Ie.ba,ye.tb=Ie.tb,C(ye.ca!=null),!ca(Ie.Oa,le,DA)){ye.a=2;break r}if(!Pl(ye,le.width)||le.da)break r;if((le.da||ji(ye.ca.S))&&He(),11>ye.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),ye.ca.f.kb.F!=null&&He()),ye.Pb&&0<ye.s.ua&&ye.s.vb.X==null&&!st(ye.s.vb,ye.s.Wa.Xa)){ye.a=1;break r}ye.xb=0}if(!Ol(ye,ye.V,ye.Ba,ye.c,ye.i,le.o,jo))break r;Ie.Dc=ye.Ma,ye=1;break t}C(ye.a!=0),ye=0}ye=!ye}ye&&(K=B.a)}else K=B.a}else{if((B=new Ml)==null){Oe=1;break e}if(B.Fa=Ie.na,B.P=Ie.P,B.qc=Ie.Sa,wu(B,ye)){if((K=Ns(ye.width,ye.height,Oe.Oa,Oe.ba))==0){if(B.Aa=0,le=Oe.Oa,C((Ie=B)!=null),le!=null){if(0<(We=0>(We=le.Md)?0:100<We?255:255*We/100)){for(ut=kt=0;4>ut;++ut)12>(tr=Ie.pb[ut]).lc&&(tr.ia=We*ip[0>tr.lc?0:tr.lc]>>3),kt|=tr.ia;kt&&(alert("todo:VP8InitRandom"),Ie.ia=1)}Ie.Ga=le.Id,100<Ie.Ga?Ie.Ga=100:0>Ie.Ga&&(Ie.Ga=0)}(function(at,Dt){if(at==null)return 0;if(Dt==null)return Ti(at,2,"NULL VP8Io parameter in VP8Decode().");if(!at.cb&&!wu(at,Dt))return 0;if(C(at.cb),Dt.ac==null||Dt.ac(Dt)){Dt.ob&&(at.L=0);var Kt=np[at.L];if(at.L==2?(at.yb=0,at.zb=0):(at.yb=Dt.v-Kt>>4,at.zb=Dt.j-Kt>>4,0>at.yb&&(at.yb=0),0>at.zb&&(at.zb=0)),at.Va=Dt.o+15+Kt>>4,at.Hb=Dt.va+15+Kt>>4,at.Hb>at.za&&(at.Hb=at.za),at.Va>at.Ub&&(at.Va=at.Ub),0<at.L){var Sr=at.ed;for(Kt=0;4>Kt;++Kt){var lr;if(at.Qa.Cb){var _r=at.Qa.Lb[Kt];at.Qa.Fb||(_r+=Sr.Tb)}else _r=Sr.Tb;for(lr=0;1>=lr;++lr){var jr=at.gd[Kt][lr],Vr=_r;if(Sr.Pc&&(Vr+=Sr.vd[0],lr&&(Vr+=Sr.od[0])),0<(Vr=0>Vr?0:63<Vr?63:Vr)){var Mr=Vr;0<Sr.wb&&(Mr=4<Sr.wb?Mr>>2:Mr>>1)>9-Sr.wb&&(Mr=9-Sr.wb),1>Mr&&(Mr=1),jr.dd=Mr,jr.tc=2*Vr+Mr,jr.ld=40<=Vr?2:15<=Vr?1:0}else jr.tc=0;jr.La=lr}}}Kt=0}else Ti(at,6,"Frame setup failed"),Kt=at.a;if(Kt=Kt==0){if(Kt){at.$c=0,0<at.Aa||(at.Ic=sp);t:{Kt=at.Ic,Sr=4*(Mr=at.za);var ii=32*Mr,Cn=Mr+1,as=0<at.L?Mr*(0<at.Aa?2:1):0,Zn=(at.Aa==2?2:1)*Mr;if((jr=Sr+832+(lr=3*(16*Kt+np[at.L])/2*ii)+(_r=at.Fa!=null&&0<at.Fa.length?at.Kc.c*at.Kc.i:0))!=jr)Kt=0;else{if(jr>at.Vb){if(at.Vb=0,at.Ec=X(jr),at.Fc=0,at.Ec==null){Kt=Ti(at,1,"no memory during frame initialization.");break t}at.Vb=jr}jr=at.Ec,Vr=at.Fc,at.Ac=jr,at.Bc=Vr,Vr+=Sr,at.Gd=fe(ii,Af),at.Hd=0,at.rb=fe(Cn+1,Xu),at.sb=1,at.wa=as?fe(as,vl):null,at.Y=0,at.D.Nb=0,at.D.wa=at.wa,at.D.Y=at.Y,0<at.Aa&&(at.D.Y+=Mr),C(!0),at.oc=jr,at.pc=Vr,Vr+=832,at.ya=fe(Zn,sh),at.aa=0,at.D.ya=at.ya,at.D.aa=at.aa,at.Aa==2&&(at.D.aa+=Mr),at.R=16*Mr,at.B=8*Mr,Mr=(ii=np[at.L])*at.R,ii=ii/2*at.B,at.sa=jr,at.ta=Vr+Mr,at.qa=at.sa,at.ra=at.ta+16*Kt*at.R+ii,at.Ha=at.qa,at.Ia=at.ra+8*Kt*at.B+ii,at.$c=0,Vr+=lr,at.mb=_r?jr:null,at.nb=_r?Vr:null,C(Vr+_r<=at.Fc+at.Vb),xd(at),z(at.Ac,at.Bc,0,Sr),Kt=1}}if(Kt){if(Dt.ka=0,Dt.y=at.sa,Dt.O=at.ta,Dt.f=at.qa,Dt.N=at.ra,Dt.ea=at.Ha,Dt.Vd=at.Ia,Dt.fa=at.R,Dt.Rc=at.B,Dt.F=null,Dt.J=0,!O0){for(Kt=-255;255>=Kt;++Kt)Ym[255+Kt]=0>Kt?-Kt:Kt;for(Kt=-1020;1020>=Kt;++Kt)sg[1020+Kt]=-128>Kt?-128:127<Kt?127:Kt;for(Kt=-112;112>=Kt;++Kt)ag[112+Kt]=-16>Kt?-16:15<Kt?15:Kt;for(Kt=-255;510>=Kt;++Kt)R0[255+Kt]=0>Kt?0:255<Kt?255:Kt;O0=1}ju=xl,td=Hd,Nu=Fl,Is=lh,ya=_u,Hl=Ho,ss=Za,Ko=zd,Yd=Ne,Zf=dt,Lh=Ah,PA=re,Vm=wt,Km=Vt,Gm=Oa,pc=fh,Ao=Xf,zm=RA,nd[0]=uh,nd[1]=Tu,nd[2]=bd,nd[3]=Nc,nd[4]=Ul,nd[5]=qf,nd[6]=wd,nd[7]=dh,nd[8]=Qd,nd[9]=Qo,ph[0]=Yf,ph[1]=uc,ph[2]=jc,ph[3]=Wf,ph[4]=ch,ph[5]=No,ph[6]=va,Sd[0]=Zu,Sd[1]=Cc,Sd[2]=Ic,Sd[3]=mf,Sd[4]=hc,Sd[5]=$l,Sd[6]=hh,Kt=1}else Kt=0}Kt&&(Kt=(function(Ls,il){for(Ls.M=0;Ls.M<Ls.Va;++Ls.M){var Zi,zn=Ls.Jc[Ls.M&Ls.Xb],pn=Ls.m,Io=Ls;for(Zi=0;Zi<Io.za;++Zi){var Ji=pn,us=Io,Da=us.Ac,El=us.Bc+4*Zi,Ql=us.zc,ua=us.ya[us.aa+Zi];if(us.Qa.Bb?ua.$b=Lr(Ji,us.Pa.jb[0])?2+Lr(Ji,us.Pa.jb[2]):Lr(Ji,us.Pa.jb[1]):ua.$b=0,us.kc&&(ua.Ad=Lr(Ji,us.Bd)),ua.Za=!Lr(Ji,145)+0,ua.Za){var Vl=ua.Ob,Lc=0;for(us=0;4>us;++us){var ko,ks=Ql[0+us];for(ko=0;4>ko;++ko){ks=F0[Da[El+ko]][ks];for(var Ei=M0[Lr(Ji,ks[0])];0<Ei;)Ei=M0[2*Ei+Lr(Ji,ks[Ei])];ks=-Ei,Da[El+ko]=ks}Q(Vl,Lc,Da,El,4),Lc+=4,Ql[0+us]=ks}}else ks=Lr(Ji,156)?Lr(Ji,128)?1:3:Lr(Ji,163)?2:0,ua.Ob[0]=ks,z(Da,El,ks,4),z(Ql,0,ks,4);ua.Dd=Lr(Ji,142)?Lr(Ji,114)?Lr(Ji,183)?1:3:2:0}if(Io.m.Ka)return Ti(Ls,7,"Premature end-of-partition0 encountered.");for(;Ls.ja<Ls.za;++Ls.ja){if(Io=zn,Ji=(pn=Ls).rb[pn.sb-1],Da=pn.rb[pn.sb+pn.ja],Zi=pn.ya[pn.aa+pn.ja],El=pn.kc?Zi.Ad:0)Ji.la=Da.la=0,Zi.Za||(Ji.Na=Da.Na=0),Zi.Hc=0,Zi.Gc=0,Zi.ia=0;else{var Go,xa;if(Ji=Da,Da=Io,El=pn.Pa.Xc,Ql=pn.ya[pn.aa+pn.ja],ua=pn.pb[Ql.$b],us=Ql.ad,Vl=0,Lc=pn.rb[pn.sb-1],ks=ko=0,z(us,Vl,0,384),Ql.Za)var Kl=0,gc=El[3];else{Ei=X(16);var _a=Ji.Na+Lc.Na;if(_a=tA(Da,El[1],_a,ua.Eb,0,Ei,0),Ji.Na=Lc.Na=(0<_a)+0,1<_a)ju(Ei,0,us,Vl);else{var vc=Ei[0]+3>>3;for(Ei=0;256>Ei;Ei+=16)us[Vl+Ei]=vc}Kl=1,gc=El[0]}var Ta=15&Ji.la,Zr=15&Lc.la;for(Ei=0;4>Ei;++Ei){var Ma=1&Zr;for(vc=xa=0;4>vc;++vc)Ta=Ta>>1|(Ma=(_a=tA(Da,gc,_a=Ma+(1&Ta),ua.Sc,Kl,us,Vl))>Kl)<<7,xa=xa<<2|(3<_a?3:1<_a?2:us[Vl+0]!=0),Vl+=16;Ta>>=4,Zr=Zr>>1|Ma<<7,ko=(ko<<8|xa)>>>0}for(gc=Ta,Kl=Zr>>4,Go=0;4>Go;Go+=2){for(xa=0,Ta=Ji.la>>4+Go,Zr=Lc.la>>4+Go,Ei=0;2>Ei;++Ei){for(Ma=1&Zr,vc=0;2>vc;++vc)_a=Ma+(1&Ta),Ta=Ta>>1|(Ma=0<(_a=tA(Da,El[2],_a,ua.Qc,0,us,Vl)))<<3,xa=xa<<2|(3<_a?3:1<_a?2:us[Vl+0]!=0),Vl+=16;Ta>>=2,Zr=Zr>>1|Ma<<5}ks|=xa<<4*Go,gc|=Ta<<4<<Go,Kl|=(240&Zr)<<Go}Ji.la=gc,Lc.la=Kl,Ql.Hc=ko,Ql.Gc=ks,Ql.ia=43690&ks?0:ua.ia,El=!(ko|ks)}if(0<pn.L&&(pn.wa[pn.Y+pn.ja]=pn.gd[Zi.$b][Zi.Za],pn.wa[pn.Y+pn.ja].La|=!El),Io.Ka)return Ti(Ls,7,"Premature end-of-file encountered.")}if(xd(Ls),pn=il,Io=1,Zi=(zn=Ls).D,Ji=0<zn.L&&zn.M>=zn.zb&&zn.M<=zn.Va,zn.Aa==0)t:{if(Zi.M=zn.M,Zi.uc=Ji,an(zn,Zi),Io=1,Zi=(xa=zn.D).Nb,Ji=(ks=np[zn.L])*zn.R,Da=ks/2*zn.B,Ei=16*Zi*zn.R,vc=8*Zi*zn.B,El=zn.sa,Ql=zn.ta-Ji+Ei,ua=zn.qa,us=zn.ra-Da+vc,Vl=zn.Ha,Lc=zn.Ia-Da+vc,Zr=(Ta=xa.M)==0,ko=Ta>=zn.Va-1,zn.Aa==2&&an(zn,xa),xa.uc)for(Ma=(_a=zn).D.M,C(_a.D.uc),xa=_a.yb;xa<_a.Hb;++xa){Kl=xa,gc=Ma;var Sl=(Qa=(Gl=_a).D).Nb;Go=Gl.R;var Qa=Qa.wa[Qa.Y+Kl],ku=Gl.sa,Yi=Gl.ta+16*Sl*Go+16*Kl,Ss=Qa.dd,ea=Qa.tc;if(ea!=0)if(C(3<=ea),Gl.L==1)0<Kl&&pc(ku,Yi,Go,ea+4),Qa.La&&zm(ku,Yi,Go,ea),0<gc&&Gm(ku,Yi,Go,ea+4),Qa.La&&Ao(ku,Yi,Go,ea);else{var Bu=Gl.B,zo=Gl.qa,Va=Gl.ra+8*Sl*Bu+8*Kl,Lu=Gl.Ha,Gl=Gl.Ia+8*Sl*Bu+8*Kl;Sl=Qa.ld,0<Kl&&(Ko(ku,Yi,Go,ea+4,Ss,Sl),Zf(zo,Va,Lu,Gl,Bu,ea+4,Ss,Sl)),Qa.La&&(PA(ku,Yi,Go,ea,Ss,Sl),Km(zo,Va,Lu,Gl,Bu,ea,Ss,Sl)),0<gc&&(ss(ku,Yi,Go,ea+4,Ss,Sl),Yd(zo,Va,Lu,Gl,Bu,ea+4,Ss,Sl)),Qa.La&&(Lh(ku,Yi,Go,ea,Ss,Sl),Vm(zo,Va,Lu,Gl,Bu,ea,Ss,Sl))}}if(zn.ia&&alert("todo:DitherRow"),pn.put!=null){if(xa=16*Ta,Ta=16*(Ta+1),Zr?(pn.y=zn.sa,pn.O=zn.ta+Ei,pn.f=zn.qa,pn.N=zn.ra+vc,pn.ea=zn.Ha,pn.W=zn.Ia+vc):(xa-=ks,pn.y=El,pn.O=Ql,pn.f=ua,pn.N=us,pn.ea=Vl,pn.W=Lc),ko||(Ta-=ks),Ta>pn.o&&(Ta=pn.o),pn.F=null,pn.J=null,zn.Fa!=null&&0<zn.Fa.length&&xa<Ta&&(pn.J=Js(zn,pn,xa,Ta-xa),pn.F=zn.mb,pn.F==null&&pn.F.length==0)){Io=Ti(zn,3,"Could not decode alpha data.");break t}xa<pn.j&&(ks=pn.j-xa,xa=pn.j,C(!(1&ks)),pn.O+=zn.R*ks,pn.N+=zn.B*(ks>>1),pn.W+=zn.B*(ks>>1),pn.F!=null&&(pn.J+=pn.width*ks)),xa<Ta&&(pn.O+=pn.v,pn.N+=pn.v>>1,pn.W+=pn.v>>1,pn.F!=null&&(pn.J+=pn.v),pn.ka=xa-pn.j,pn.U=pn.va-pn.v,pn.T=Ta-xa,Io=pn.put(pn))}Zi+1!=zn.Ic||ko||(Q(zn.sa,zn.ta-Ji,El,Ql+16*zn.R,Ji),Q(zn.qa,zn.ra-Da,ua,us+8*zn.B,Da),Q(zn.Ha,zn.Ia-Da,Vl,Lc+8*zn.B,Da))}if(!Io)return Ti(Ls,6,"Output aborted.")}return 1})(at,Dt)),Dt.bc!=null&&Dt.bc(Dt),Kt&=1}return Kt?(at.cb=0,Kt):0})(B,ye)||(K=B.a)}}else K=B.a}K==0&&Oe.Oa!=null&&Oe.Oa.fd&&(K=ni(Oe.ba))}Oe=K}Pe=Oe!=0?null:11>Pe?Ve.f.RGBA.eb:Ve.f.kb.y}else Pe=null;return Pe};var HA=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function Se(Ct,cr){for(var Xe="",lt=0;lt<4;lt++)Xe+=String.fromCharCode(Ct[cr++]);return Xe}function Re(Ct,cr){return Ct[cr+0]|Ct[cr+1]<<8}function Ge(Ct,cr){return(Ct[cr+0]|Ct[cr+1]<<8|Ct[cr+2]<<16)>>>0}function et(Ct,cr){return(Ct[cr+0]|Ct[cr+1]<<8|Ct[cr+2]<<16|Ct[cr+3]<<24)>>>0}new ae;var xe=[0],gt=[0],At=[],yt=new ae,qe=I,jt=(function(Ct,cr){var Xe={},lt=0,_t=!1,Tt=0,dr=0;if(Xe.frames=[],!(function(Qe,vt){for(var bt=0;bt<4;bt++)if(Qe[vt+bt]!="RIFF".charCodeAt(bt))return!0;return!1})(Ct,cr)){for(et(Ct,cr+=4),cr+=8;cr<Ct.length;){var pr=Se(Ct,cr),Er=et(Ct,cr+=4);cr+=4;var Xt=Er+(1&Er);switch(pr){case"VP8 ":case"VP8L":Xe.frames[lt]===void 0&&(Xe.frames[lt]={}),($r=Xe.frames[lt]).src_off=_t?dr:cr-8,$r.src_size=Tt+Er+8,lt++,_t&&(_t=!1,Tt=0,dr=0);break;case"VP8X":($r=Xe.header={}).feature_flags=Ct[cr];var vr=cr+4;$r.canvas_width=1+Ge(Ct,vr),vr+=3,$r.canvas_height=1+Ge(Ct,vr),vr+=3;break;case"ALPH":_t=!0,Tt=Xt+8,dr=cr-8;break;case"ANIM":($r=Xe.header).bgcolor=et(Ct,cr),vr=cr+4,$r.loop_count=Re(Ct,vr),vr+=2;break;case"ANMF":var en,$r;($r=Xe.frames[lt]={}).offset_x=2*Ge(Ct,cr),cr+=3,$r.offset_y=2*Ge(Ct,cr),cr+=3,$r.width=1+Ge(Ct,cr),cr+=3,$r.height=1+Ge(Ct,cr),cr+=3,$r.duration=Ge(Ct,cr),cr+=3,en=Ct[cr++],$r.dispose=1&en,$r.blend=en>>1&1}pr!="ANMF"&&(cr+=Xt)}return Xe}})(qe,0);jt.response=qe,jt.rgbaoutput=!0,jt.dataurl=!1;var Ht=jt.header?jt.header:null,St=jt.frames?jt.frames:null;if(Ht){Ht.loop_counter=Ht.loop_count,xe=[Ht.canvas_height],gt=[Ht.canvas_width];for(var Ye=0;Ye<St.length&&St[Ye].blend!=0;Ye++);}var Mt=St[0],Ar=yt.WebPDecodeRGBA(qe,Mt.src_off,Mt.src_size,gt,xe);Mt.rgba=Ar,Mt.imgwidth=gt[0],Mt.imgheight=xe[0];for(var zt=0;zt<gt[0]*xe[0]*4;zt++)At[zt]=Ar[zt];return this.width=gt,this.height=xe,this.data=At,this}(function(I){var C,O,Q,z,X,fe,ie,ae,Se,Re=function(Qe){return Qe=Qe||{},this.isStrokeTransparent=Qe.isStrokeTransparent||!1,this.strokeOpacity=Qe.strokeOpacity||1,this.strokeStyle=Qe.strokeStyle||"#000000",this.fillStyle=Qe.fillStyle||"#000000",this.isFillTransparent=Qe.isFillTransparent||!1,this.fillOpacity=Qe.fillOpacity||1,this.font=Qe.font||"10px sans-serif",this.textBaseline=Qe.textBaseline||"alphabetic",this.textAlign=Qe.textAlign||"left",this.lineWidth=Qe.lineWidth||1,this.lineJoin=Qe.lineJoin||"miter",this.lineCap=Qe.lineCap||"butt",this.path=Qe.path||[],this.transform=Qe.transform!==void 0?Qe.transform.clone():new ae,this.globalCompositeOperation=Qe.globalCompositeOperation||"normal",this.globalAlpha=Qe.globalAlpha||1,this.clip_path=Qe.clip_path||[],this.currentPoint=Qe.currentPoint||new fe,this.miterLimit=Qe.miterLimit||10,this.lastPoint=Qe.lastPoint||new fe,this.lineDashOffset=Qe.lineDashOffset||0,this.lineDash=Qe.lineDash||[],this.margin=Qe.margin||[0,0,0,0],this.prevPageLastElemOffset=Qe.prevPageLastElemOffset||0,this.ignoreClearRect=typeof Qe.ignoreClearRect!="boolean"||Qe.ignoreClearRect,this};I.events.push(["initialized",function(){this.context2d=new Ge(this),C=this.internal.f2,O=this.internal.getCoordinateString,Q=this.internal.getVerticalCoordinateString,z=this.internal.getHorizontalCoordinate,X=this.internal.getVerticalCoordinate,fe=this.internal.Point,ie=this.internal.Rectangle,ae=this.internal.Matrix,Se=new Re}]);var Ge=function(Qe){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var vt=Qe;Object.defineProperty(this,"pdf",{get:function(){return vt}});var bt=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return bt},set:function(st){bt=!!st}});var Ft=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Ft},set:function(st){Ft=!!st}});var Qt=0;Object.defineProperty(this,"posX",{get:function(){return Qt},set:function(st){isNaN(st)||(Qt=st)}});var nr=0;Object.defineProperty(this,"posY",{get:function(){return nr},set:function(st){isNaN(st)||(nr=st)}}),Object.defineProperty(this,"margin",{get:function(){return Se.margin},set:function(st){var An;typeof st=="number"?An=[st,st,st,st]:((An=new Array(4))[0]=st[0],An[1]=st.length>=2?st[1]:An[0],An[2]=st.length>=3?st[2]:An[0],An[3]=st.length>=4?st[3]:An[1]),Se.margin=An}});var xr=!1;Object.defineProperty(this,"autoPaging",{get:function(){return xr},set:function(st){xr=st}});var br=0;Object.defineProperty(this,"lastBreak",{get:function(){return br},set:function(st){br=st}});var Lr=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Lr},set:function(st){Lr=st}}),Object.defineProperty(this,"ctx",{get:function(){return Se},set:function(st){st instanceof Re&&(Se=st)}}),Object.defineProperty(this,"path",{get:function(){return Se.path},set:function(st){Se.path=st}});var tn=[];Object.defineProperty(this,"ctxStack",{get:function(){return tn},set:function(st){tn=st}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(st){var An;An=et(st),this.ctx.fillStyle=An.style,this.ctx.isFillTransparent=An.a===0,this.ctx.fillOpacity=An.a,this.pdf.setFillColor(An.r,An.g,An.b,{a:An.a}),this.pdf.setTextColor(An.r,An.g,An.b,{a:An.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(st){var An=et(st);this.ctx.strokeStyle=An.style,this.ctx.isStrokeTransparent=An.a===0,this.ctx.strokeOpacity=An.a,An.a===0?this.pdf.setDrawColor(255,255,255):(An.a,this.pdf.setDrawColor(An.r,An.g,An.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(st){["butt","round","square"].indexOf(st)!==-1&&(this.ctx.lineCap=st,this.pdf.setLineCap(st))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(st){isNaN(st)||(this.ctx.lineWidth=st,this.pdf.setLineWidth(st))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(st){["bevel","round","miter"].indexOf(st)!==-1&&(this.ctx.lineJoin=st,this.pdf.setLineJoin(st))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(st){isNaN(st)||(this.ctx.miterLimit=st,this.pdf.setMiterLimit(st))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(st){this.ctx.textBaseline=st}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(st){["right","end","center","left","start"].indexOf(st)!==-1&&(this.ctx.textAlign=st)}});var En=null,wn=null,ui=null;Object.defineProperty(this,"fontFaces",{get:function(){return ui},set:function(st){En=null,wn=null,ui=st}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(st){var An;if(this.ctx.font=st,(An=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(st))!==null){var _i=An[1];An[2];var ln=An[3],Hr=An[4];An[5];var mi=An[6],Sn=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Hr)[2];Hr=Math.floor(Sn==="px"?parseFloat(Hr)*this.pdf.internal.scaleFactor:Sn==="em"?parseFloat(Hr)*this.pdf.getFontSize():parseFloat(Hr)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Hr);var ai=(function(Gn){var Bi,As,Gi=[],ns=Gn.trim();if(ns==="")return lo;if(ns in rs)return[rs[ns]];for(;ns!=="";){switch(As=null,Bi=(ns=Ua(ns)).charAt(0)){case'"':case"'":As=Bl(ns.substring(1),Bi);break;default:As=yu(ns)}if(As===null||(Gi.push(As[0]),(ns=Ua(As[1]))!==""&&ns.charAt(0)!==","))return lo;ns=ns.replace(/^,/,"")}return Gi})(mi);if(this.fontFaces){var Kn=(function(Gn,Bi){var As=Gn.getFontList(),Gi=JSON.stringify(As);if(En===null||wn!==Gi){var ns=(function(Ea){var oi=[];return Object.keys(Ea).forEach(function(ga){Ea[ga].forEach(function(ji){var ri=null;switch(ji){case"bold":ri={family:ga,weight:"bold"};break;case"italic":ri={family:ga,style:"italic"};break;case"bolditalic":ri={family:ga,weight:"bold",style:"italic"};break;case"":case"normal":ri={family:ga}}ri!==null&&(ri.ref={name:ga,style:ji},oi.push(ri))})}),oi})(As);En=(function(Ea){for(var oi={},ga=0;ga<Ea.length;++ga){var ji=Hs(Ea[ga]),ri=ji.family,Ys=ji.stretch,Pi=ji.style,fn=ji.weight;oi[ri]=oi[ri]||{},oi[ri][Ys]=oi[ri][Ys]||{},oi[ri][Ys][Pi]=oi[ri][Ys][Pi]||{},oi[ri][Ys][Pi][fn]=ji}return oi})(ns.concat(Bi)),wn=Gi}return En})(this.pdf,this.fontFaces),Zs=ai.map(function(Gn){return{family:Gn,stretch:"normal",weight:ln,style:_i}}),Qi=(function(Gn,Bi,As){for(var Gi=(As=As||{}).defaultFontFamily||"times",ns=Object.assign({},_o,As.genericFontFamilies||{}),Ea=null,oi=null,ga=0;ga<Bi.length;++ga)if(ns[(Ea=Hs(Bi[ga])).family]&&(Ea.family=ns[Ea.family]),Gn.hasOwnProperty(Ea.family)){oi=Gn[Ea.family];break}if(!(oi=oi||Gn[Gi]))throw new Error("Could not find a font-family for the rule '"+Yu(Ea)+"' and default family '"+Gi+"'.");if(oi=(function(ji,ri){if(ri[ji])return ri[ji];var Ys=Ts[ji],Pi=Ys<=Ts.normal?-1:1,fn=xs(ri,ws,Ys,Pi);if(!fn)throw new Error("Could not find a matching font-stretch value for "+ji);return fn})(Ea.stretch,oi),oi=(function(ji,ri){if(ri[ji])return ri[ji];for(var Ys=La[ji],Pi=0;Pi<Ys.length;++Pi)if(ri[Ys[Pi]])return ri[Ys[Pi]];throw new Error("Could not find a matching font-style for "+ji)})(Ea.style,oi),!(oi=(function(ji,ri){if(ri[ji])return ri[ji];if(ji===400&&ri[500])return ri[500];if(ji===500&&ri[400])return ri[400];var Ys=Hi[ji],Pi=xs(ri,Es,Ys,ji<400?-1:1);if(!Pi)throw new Error("Could not find a matching font-weight for value "+ji);return Pi})(Ea.weight,oi)))throw new Error("Failed to resolve a font for the rule '"+Yu(Ea)+"'.");return oi})(Kn,Zs);this.pdf.setFont(Qi.ref.name,Qi.ref.style)}else{var Bn="";(ln==="bold"||parseInt(ln,10)>=700||_i==="bold")&&(Bn="bold"),_i==="italic"&&(Bn+="italic"),Bn.length===0&&(Bn="normal");for(var cs="",di={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ln=0;Ln<ai.length;Ln++){if(this.pdf.internal.getFont(ai[Ln],Bn,{noFallback:!0,disableWarning:!0})!==void 0){cs=ai[Ln];break}if(Bn==="bolditalic"&&this.pdf.internal.getFont(ai[Ln],"bold",{noFallback:!0,disableWarning:!0})!==void 0)cs=ai[Ln],Bn="bold";else if(this.pdf.internal.getFont(ai[Ln],"normal",{noFallback:!0,disableWarning:!0})!==void 0){cs=ai[Ln],Bn="normal";break}}if(cs===""){for(var vi=0;vi<ai.length;vi++)if(di[ai[vi]]){cs=di[ai[vi]];break}}cs=cs===""?"Times":cs,this.pdf.setFont(cs,Bn)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(st){this.ctx.globalCompositeOperation=st}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(st){this.ctx.globalAlpha=st}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(st){this.ctx.lineDashOffset=st,$r.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(st){this.ctx.lineDash=st,$r.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(st){this.ctx.ignoreClearRect=!!st}})};Ge.prototype.setLineDash=function(Qe){this.lineDash=Qe},Ge.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},Ge.prototype.fill=function(){St.call(this,"fill",!1)},Ge.prototype.stroke=function(){St.call(this,"stroke",!1)},Ge.prototype.beginPath=function(){this.path=[{type:"begin"}]},Ge.prototype.moveTo=function(Qe,vt){if(isNaN(Qe)||isNaN(vt))throw v.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var bt=this.ctx.transform.applyToPoint(new fe(Qe,vt));this.path.push({type:"mt",x:bt.x,y:bt.y}),this.ctx.lastPoint=new fe(Qe,vt)},Ge.prototype.closePath=function(){var Qe=new fe(0,0),vt=0;for(vt=this.path.length-1;vt!==-1;vt--)if(this.path[vt].type==="begin"&&(0,d.default)(this.path[vt+1])==="object"&&typeof this.path[vt+1].x=="number"){Qe=new fe(this.path[vt+1].x,this.path[vt+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new fe(Qe.x,Qe.y)},Ge.prototype.lineTo=function(Qe,vt){if(isNaN(Qe)||isNaN(vt))throw v.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var bt=this.ctx.transform.applyToPoint(new fe(Qe,vt));this.path.push({type:"lt",x:bt.x,y:bt.y}),this.ctx.lastPoint=new fe(bt.x,bt.y)},Ge.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),St.call(this,null,!0)},Ge.prototype.quadraticCurveTo=function(Qe,vt,bt,Ft){if(isNaN(bt)||isNaN(Ft)||isNaN(Qe)||isNaN(vt))throw v.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Qt=this.ctx.transform.applyToPoint(new fe(bt,Ft)),nr=this.ctx.transform.applyToPoint(new fe(Qe,vt));this.path.push({type:"qct",x1:nr.x,y1:nr.y,x:Qt.x,y:Qt.y}),this.ctx.lastPoint=new fe(Qt.x,Qt.y)},Ge.prototype.bezierCurveTo=function(Qe,vt,bt,Ft,Qt,nr){if(isNaN(Qt)||isNaN(nr)||isNaN(Qe)||isNaN(vt)||isNaN(bt)||isNaN(Ft))throw v.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var xr=this.ctx.transform.applyToPoint(new fe(Qt,nr)),br=this.ctx.transform.applyToPoint(new fe(Qe,vt)),Lr=this.ctx.transform.applyToPoint(new fe(bt,Ft));this.path.push({type:"bct",x1:br.x,y1:br.y,x2:Lr.x,y2:Lr.y,x:xr.x,y:xr.y}),this.ctx.lastPoint=new fe(xr.x,xr.y)},Ge.prototype.arc=function(Qe,vt,bt,Ft,Qt,nr){if(isNaN(Qe)||isNaN(vt)||isNaN(bt)||isNaN(Ft)||isNaN(Qt))throw v.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(nr=!!nr,!this.ctx.transform.isIdentity){var xr=this.ctx.transform.applyToPoint(new fe(Qe,vt));Qe=xr.x,vt=xr.y;var br=this.ctx.transform.applyToPoint(new fe(0,bt)),Lr=this.ctx.transform.applyToPoint(new fe(0,0));bt=Math.sqrt(Math.pow(br.x-Lr.x,2)+Math.pow(br.y-Lr.y,2))}Math.abs(Qt-Ft)>=2*Math.PI&&(Ft=0,Qt=2*Math.PI),this.path.push({type:"arc",x:Qe,y:vt,radius:bt,startAngle:Ft,endAngle:Qt,counterclockwise:nr})},Ge.prototype.arcTo=function(Qe,vt,bt,Ft,Qt){throw new Error("arcTo not implemented.")},Ge.prototype.rect=function(Qe,vt,bt,Ft){if(isNaN(Qe)||isNaN(vt)||isNaN(bt)||isNaN(Ft))throw v.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(Qe,vt),this.lineTo(Qe+bt,vt),this.lineTo(Qe+bt,vt+Ft),this.lineTo(Qe,vt+Ft),this.lineTo(Qe,vt),this.lineTo(Qe+bt,vt),this.lineTo(Qe,vt)},Ge.prototype.fillRect=function(Qe,vt,bt,Ft){if(isNaN(Qe)||isNaN(vt)||isNaN(bt)||isNaN(Ft))throw v.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!xe.call(this)){var Qt={};this.lineCap!=="butt"&&(Qt.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Qt.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(Qe,vt,bt,Ft),this.fill(),Qt.hasOwnProperty("lineCap")&&(this.lineCap=Qt.lineCap),Qt.hasOwnProperty("lineJoin")&&(this.lineJoin=Qt.lineJoin)}},Ge.prototype.strokeRect=function(Qe,vt,bt,Ft){if(isNaN(Qe)||isNaN(vt)||isNaN(bt)||isNaN(Ft))throw v.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");gt.call(this)||(this.beginPath(),this.rect(Qe,vt,bt,Ft),this.stroke())},Ge.prototype.clearRect=function(Qe,vt,bt,Ft){if(isNaN(Qe)||isNaN(vt)||isNaN(bt)||isNaN(Ft))throw v.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(Qe,vt,bt,Ft))},Ge.prototype.save=function(Qe){Qe=typeof Qe!="boolean"||Qe;for(var vt=this.pdf.internal.getCurrentPageInfo().pageNumber,bt=0;bt<this.pdf.internal.getNumberOfPages();bt++)this.pdf.setPage(bt+1),this.pdf.internal.out("q");if(this.pdf.setPage(vt),Qe){this.ctx.fontSize=this.pdf.internal.getFontSize();var Ft=new Re(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Ft}},Ge.prototype.restore=function(Qe){Qe=typeof Qe!="boolean"||Qe;for(var vt=this.pdf.internal.getCurrentPageInfo().pageNumber,bt=0;bt<this.pdf.internal.getNumberOfPages();bt++)this.pdf.setPage(bt+1),this.pdf.internal.out("Q");this.pdf.setPage(vt),Qe&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},Ge.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var et=function(Qe){var vt,bt,Ft,Qt;if(Qe.isCanvasGradient===!0&&(Qe=Qe.getColor()),!Qe)return{r:0,g:0,b:0,a:0,style:Qe};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(Qe))vt=0,bt=0,Ft=0,Qt=0;else{var nr=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(Qe);if(nr!==null)vt=parseInt(nr[1]),bt=parseInt(nr[2]),Ft=parseInt(nr[3]),Qt=1;else if((nr=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(Qe))!==null)vt=parseInt(nr[1]),bt=parseInt(nr[2]),Ft=parseInt(nr[3]),Qt=parseFloat(nr[4]);else{if(Qt=1,typeof Qe=="string"&&Qe.charAt(0)!=="#"){var xr=new T(Qe);Qe=xr.ok?xr.toHex():"#000000"}Qe.length===4?(vt=Qe.substring(1,2),vt+=vt,bt=Qe.substring(2,3),bt+=bt,Ft=Qe.substring(3,4),Ft+=Ft):(vt=Qe.substring(1,3),bt=Qe.substring(3,5),Ft=Qe.substring(5,7)),vt=parseInt(vt,16),bt=parseInt(bt,16),Ft=parseInt(Ft,16)}}return{r:vt,g:bt,b:Ft,a:Qt,style:Qe}},xe=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},gt=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};Ge.prototype.fillText=function(Qe,vt,bt,Ft){if(isNaN(vt)||isNaN(bt)||typeof Qe!="string")throw v.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Ft=isNaN(Ft)?void 0:Ft,!xe.call(this)){var Qt=Xt(this.ctx.transform.rotation),nr=this.ctx.transform.scaleX;lt.call(this,{text:Qe,x:vt,y:bt,scale:nr,angle:Qt,align:this.textAlign,maxWidth:Ft})}},Ge.prototype.strokeText=function(Qe,vt,bt,Ft){if(isNaN(vt)||isNaN(bt)||typeof Qe!="string")throw v.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!gt.call(this)){Ft=isNaN(Ft)?void 0:Ft;var Qt=Xt(this.ctx.transform.rotation),nr=this.ctx.transform.scaleX;lt.call(this,{text:Qe,x:vt,y:bt,scale:nr,renderingMode:"stroke",angle:Qt,align:this.textAlign,maxWidth:Ft})}},Ge.prototype.measureText=function(Qe){if(typeof Qe!="string")throw v.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var vt=this.pdf,bt=this.pdf.internal.scaleFactor,Ft=vt.internal.getFontSize(),Qt=vt.getStringUnitWidth(Qe)*Ft/vt.internal.scaleFactor;return new function(nr){var xr=(nr=nr||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return xr}}),this}({width:Qt*=Math.round(96*bt/72*1e4)/1e4})},Ge.prototype.scale=function(Qe,vt){if(isNaN(Qe)||isNaN(vt))throw v.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var bt=new ae(Qe,0,0,vt,0,0);this.ctx.transform=this.ctx.transform.multiply(bt)},Ge.prototype.rotate=function(Qe){if(isNaN(Qe))throw v.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var vt=new ae(Math.cos(Qe),Math.sin(Qe),-Math.sin(Qe),Math.cos(Qe),0,0);this.ctx.transform=this.ctx.transform.multiply(vt)},Ge.prototype.translate=function(Qe,vt){if(isNaN(Qe)||isNaN(vt))throw v.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var bt=new ae(1,0,0,1,Qe,vt);this.ctx.transform=this.ctx.transform.multiply(bt)},Ge.prototype.transform=function(Qe,vt,bt,Ft,Qt,nr){if(isNaN(Qe)||isNaN(vt)||isNaN(bt)||isNaN(Ft)||isNaN(Qt)||isNaN(nr))throw v.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var xr=new ae(Qe,vt,bt,Ft,Qt,nr);this.ctx.transform=this.ctx.transform.multiply(xr)},Ge.prototype.setTransform=function(Qe,vt,bt,Ft,Qt,nr){Qe=isNaN(Qe)?1:Qe,vt=isNaN(vt)?0:vt,bt=isNaN(bt)?0:bt,Ft=isNaN(Ft)?1:Ft,Qt=isNaN(Qt)?0:Qt,nr=isNaN(nr)?0:nr,this.ctx.transform=new ae(Qe,vt,bt,Ft,Qt,nr)};var At=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};Ge.prototype.drawImage=function(Qe,vt,bt,Ft,Qt,nr,xr,br,Lr){var tn=this.pdf.getImageProperties(Qe),En=1,wn=1,ui=1,st=1;Ft!==void 0&&br!==void 0&&(ui=br/Ft,st=Lr/Qt,En=tn.width/Ft*br/Ft,wn=tn.height/Qt*Lr/Qt),nr===void 0&&(nr=vt,xr=bt,vt=0,bt=0),Ft!==void 0&&br===void 0&&(br=Ft,Lr=Qt),Ft===void 0&&br===void 0&&(br=tn.width,Lr=tn.height);var An=this.ctx.transform.decompose(),_i=Xt(An.rotate.shx),ln=new ae,Hr=(ln=(ln=(ln=ln.multiply(An.translate)).multiply(An.skew)).multiply(An.scale)).applyToRectangle(new ie(nr-vt*ui,xr-bt*st,Ft*En,Qt*wn));if(this.autoPaging){for(var mi,Sn=yt.call(this,Hr),ai=[],Kn=0;Kn<Sn.length;Kn+=1)ai.indexOf(Sn[Kn])===-1&&ai.push(Sn[Kn]);Ht(ai);for(var Zs=ai[0],Qi=ai[ai.length-1],Bn=Zs;Bn<Qi+1;Bn++){this.pdf.setPage(Bn);var cs=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],di=Bn===1?this.posY+this.margin[0]:this.margin[0],Ln=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],vi=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Gn=Bn===1?0:Ln+(Bn-2)*vi;if(this.ctx.clip_path.length!==0){var Bi=this.path;mi=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=jt(mi,this.posX+this.margin[3],-Gn+di+this.ctx.prevPageLastElemOffset),Ye.call(this,"fill",!0),this.path=Bi}var As=JSON.parse(JSON.stringify(Hr));As=jt([As],this.posX+this.margin[3],-Gn+di+this.ctx.prevPageLastElemOffset)[0];var Gi=(Bn>Zs||Bn<Qi)&&At.call(this);Gi&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],cs,vi,null).clip().discardPath()),this.pdf.addImage(Qe,"JPEG",As.x,As.y,As.w,As.h,null,null,_i),Gi&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(Qe,"JPEG",Hr.x,Hr.y,Hr.w,Hr.h,null,null,_i)};var yt=function(Qe,vt,bt){var Ft=[];vt=vt||this.pdf.internal.pageSize.width,bt=bt||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Qt=this.posY+this.ctx.prevPageLastElemOffset;switch(Qe.type){default:case"mt":case"lt":Ft.push(Math.floor((Qe.y+Qt)/bt)+1);break;case"arc":Ft.push(Math.floor((Qe.y+Qt-Qe.radius)/bt)+1),Ft.push(Math.floor((Qe.y+Qt+Qe.radius)/bt)+1);break;case"qct":var nr=vr(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Qe.x1,Qe.y1,Qe.x,Qe.y);Ft.push(Math.floor((nr.y+Qt)/bt)+1),Ft.push(Math.floor((nr.y+nr.h+Qt)/bt)+1);break;case"bct":var xr=en(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Qe.x1,Qe.y1,Qe.x2,Qe.y2,Qe.x,Qe.y);Ft.push(Math.floor((xr.y+Qt)/bt)+1),Ft.push(Math.floor((xr.y+xr.h+Qt)/bt)+1);break;case"rect":Ft.push(Math.floor((Qe.y+Qt)/bt)+1),Ft.push(Math.floor((Qe.y+Qe.h+Qt)/bt)+1)}for(var br=0;br<Ft.length;br+=1)for(;this.pdf.internal.getNumberOfPages()<Ft[br];)qe.call(this);return Ft},qe=function(){var Qe=this.fillStyle,vt=this.strokeStyle,bt=this.font,Ft=this.lineCap,Qt=this.lineWidth,nr=this.lineJoin;this.pdf.addPage(),this.fillStyle=Qe,this.strokeStyle=vt,this.font=bt,this.lineCap=Ft,this.lineWidth=Qt,this.lineJoin=nr},jt=function(Qe,vt,bt){for(var Ft=0;Ft<Qe.length;Ft++)switch(Qe[Ft].type){case"bct":Qe[Ft].x2+=vt,Qe[Ft].y2+=bt;case"qct":Qe[Ft].x1+=vt,Qe[Ft].y1+=bt;default:Qe[Ft].x+=vt,Qe[Ft].y+=bt}return Qe},Ht=function(Qe){return Qe.sort(function(vt,bt){return vt-bt})},St=function(Qe,vt){var bt=this.fillStyle,Ft=this.strokeStyle,Qt=this.lineCap,nr=this.lineWidth,xr=Math.abs(nr*this.ctx.transform.scaleX),br=this.lineJoin;if(this.autoPaging){for(var Lr,tn,En=JSON.parse(JSON.stringify(this.path)),wn=JSON.parse(JSON.stringify(this.path)),ui=[],st=0;st<wn.length;st++)if(wn[st].x!==void 0)for(var An=yt.call(this,wn[st]),_i=0;_i<An.length;_i+=1)ui.indexOf(An[_i])===-1&&ui.push(An[_i]);for(var ln=0;ln<ui.length;ln++)for(;this.pdf.internal.getNumberOfPages()<ui[ln];)qe.call(this);Ht(ui);for(var Hr=ui[0],mi=ui[ui.length-1],Sn=Hr;Sn<mi+1;Sn++){this.pdf.setPage(Sn),this.fillStyle=bt,this.strokeStyle=Ft,this.lineCap=Qt,this.lineWidth=xr,this.lineJoin=br;var ai=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Kn=Sn===1?this.posY+this.margin[0]:this.margin[0],Zs=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Qi=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Bn=Sn===1?0:Zs+(Sn-2)*Qi;if(this.ctx.clip_path.length!==0){var cs=this.path;Lr=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=jt(Lr,this.posX+this.margin[3],-Bn+Kn+this.ctx.prevPageLastElemOffset),Ye.call(this,Qe,!0),this.path=cs}if(tn=JSON.parse(JSON.stringify(En)),this.path=jt(tn,this.posX+this.margin[3],-Bn+Kn+this.ctx.prevPageLastElemOffset),vt===!1||Sn===0){var di=(Sn>Hr||Sn<mi)&&At.call(this);di&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ai,Qi,null).clip().discardPath()),Ye.call(this,Qe,vt),di&&this.pdf.restoreGraphicsState()}this.lineWidth=nr}this.path=En}else this.lineWidth=xr,Ye.call(this,Qe,vt),this.lineWidth=nr},Ye=function(Qe,vt){if((Qe!=="stroke"||vt||!gt.call(this))&&(Qe==="stroke"||vt||!xe.call(this))){for(var bt,Ft,Qt=[],nr=this.path,xr=0;xr<nr.length;xr++){var br=nr[xr];switch(br.type){case"begin":Qt.push({begin:!0});break;case"close":Qt.push({close:!0});break;case"mt":Qt.push({start:br,deltas:[],abs:[]});break;case"lt":var Lr=Qt.length;if(nr[xr-1]&&!isNaN(nr[xr-1].x)&&(bt=[br.x-nr[xr-1].x,br.y-nr[xr-1].y],Lr>0)){for(;Lr>=0;Lr--)if(Qt[Lr-1].close!==!0&&Qt[Lr-1].begin!==!0){Qt[Lr-1].deltas.push(bt),Qt[Lr-1].abs.push(br);break}}break;case"bct":bt=[br.x1-nr[xr-1].x,br.y1-nr[xr-1].y,br.x2-nr[xr-1].x,br.y2-nr[xr-1].y,br.x-nr[xr-1].x,br.y-nr[xr-1].y],Qt[Qt.length-1].deltas.push(bt);break;case"qct":var tn=nr[xr-1].x+2/3*(br.x1-nr[xr-1].x),En=nr[xr-1].y+2/3*(br.y1-nr[xr-1].y),wn=br.x+2/3*(br.x1-br.x),ui=br.y+2/3*(br.y1-br.y),st=br.x,An=br.y;bt=[tn-nr[xr-1].x,En-nr[xr-1].y,wn-nr[xr-1].x,ui-nr[xr-1].y,st-nr[xr-1].x,An-nr[xr-1].y],Qt[Qt.length-1].deltas.push(bt);break;case"arc":Qt.push({deltas:[],abs:[],arc:!0}),Array.isArray(Qt[Qt.length-1].abs)&&Qt[Qt.length-1].abs.push(br)}}Ft=vt?null:Qe==="stroke"?"stroke":"fill";for(var _i=!1,ln=0;ln<Qt.length;ln++)if(Qt[ln].arc)for(var Hr=Qt[ln].abs,mi=0;mi<Hr.length;mi++){var Sn=Hr[mi];Sn.type==="arc"?zt.call(this,Sn.x,Sn.y,Sn.radius,Sn.startAngle,Sn.endAngle,Sn.counterclockwise,void 0,vt,!_i):_t.call(this,Sn.x,Sn.y),_i=!0}else if(Qt[ln].close===!0)this.pdf.internal.out("h"),_i=!1;else if(Qt[ln].begin!==!0){var ai=Qt[ln].start.x,Kn=Qt[ln].start.y;Tt.call(this,Qt[ln].deltas,ai,Kn),_i=!0}Ft&&Ct.call(this,Ft),vt&&cr.call(this)}},Mt=function(Qe){var vt=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,bt=vt*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return Qe-bt;case"top":return Qe+vt-bt;case"hanging":return Qe+vt-2*bt;case"middle":return Qe+vt/2-bt;default:return Qe}},Ar=function(Qe){return Qe+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};Ge.prototype.createLinearGradient=function(){var Qe=function(){};return Qe.colorStops=[],Qe.addColorStop=function(vt,bt){this.colorStops.push([vt,bt])},Qe.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},Qe.isCanvasGradient=!0,Qe},Ge.prototype.createPattern=function(){return this.createLinearGradient()},Ge.prototype.createRadialGradient=function(){return this.createLinearGradient()};var zt=function(Qe,vt,bt,Ft,Qt,nr,xr,br,Lr){for(var tn=pr.call(this,bt,Ft,Qt,nr),En=0;En<tn.length;En++){var wn=tn[En];En===0&&(Lr?Xe.call(this,wn.x1+Qe,wn.y1+vt):_t.call(this,wn.x1+Qe,wn.y1+vt)),dr.call(this,Qe,vt,wn.x2,wn.y2,wn.x3,wn.y3,wn.x4,wn.y4)}br?cr.call(this):Ct.call(this,xr)},Ct=function(Qe){switch(Qe){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},cr=function(){this.pdf.clip(),this.pdf.discardPath()},Xe=function(Qe,vt){this.pdf.internal.out(O(Qe)+" "+Q(vt)+" m")},lt=function(Qe){var vt;switch(Qe.align){case"right":case"end":vt="right";break;case"center":vt="center";break;default:vt="left"}var bt,Ft,Qt,nr=this.pdf.getTextDimensions(Qe.text),xr=Mt.call(this,Qe.y),br=Ar.call(this,xr)-nr.h,Lr=this.ctx.transform.applyToPoint(new fe(Qe.x,xr));if(this.autoPaging){var tn=this.ctx.transform.decompose(),En=new ae;En=(En=(En=En.multiply(tn.translate)).multiply(tn.skew)).multiply(tn.scale);for(var wn=this.ctx.transform.applyToRectangle(new ie(Qe.x,xr,nr.w,nr.h)),ui=En.applyToRectangle(new ie(Qe.x,br,nr.w,nr.h)),st=yt.call(this,ui),An=[],_i=0;_i<st.length;_i+=1)An.indexOf(st[_i])===-1&&An.push(st[_i]);Ht(An);for(var ln=An[0],Hr=An[An.length-1],mi=ln;mi<Hr+1;mi++){this.pdf.setPage(mi);var Sn=mi===1?this.posY+this.margin[0]:this.margin[0],ai=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Kn=this.pdf.internal.pageSize.height-this.margin[2],Zs=Kn-this.margin[0],Qi=this.pdf.internal.pageSize.width-this.margin[1],Bn=Qi-this.margin[3],cs=mi===1?0:ai+(mi-2)*Zs;if(this.ctx.clip_path.length!==0){var di=this.path;bt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=jt(bt,this.posX+this.margin[3],-1*cs+Sn),Ye.call(this,"fill",!0),this.path=di}var Ln=jt([JSON.parse(JSON.stringify(ui))],this.posX+this.margin[3],-cs+Sn+this.ctx.prevPageLastElemOffset)[0];Qe.scale>=.01&&(Ft=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ft*Qe.scale),Qt=this.lineWidth,this.lineWidth=Qt*Qe.scale);var vi=this.autoPaging!=="text";if(vi||Ln.y+Ln.h<=Kn){if(vi||Ln.y>=Sn&&Ln.x<=Qi){var Gn=vi?Qe.text:this.pdf.splitTextToSize(Qe.text,Qe.maxWidth||Qi-Ln.x)[0],Bi=jt([JSON.parse(JSON.stringify(wn))],this.posX+this.margin[3],-cs+Sn+this.ctx.prevPageLastElemOffset)[0],As=vi&&(mi>ln||mi<Hr)&&At.call(this);As&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Bn,Zs,null).clip().discardPath()),this.pdf.text(Gn,Bi.x,Bi.y,{angle:Qe.angle,align:vt,renderingMode:Qe.renderingMode}),As&&this.pdf.restoreGraphicsState()}}else Ln.y<Kn&&(this.ctx.prevPageLastElemOffset+=Kn-Ln.y);Qe.scale>=.01&&(this.pdf.setFontSize(Ft),this.lineWidth=Qt)}}else Qe.scale>=.01&&(Ft=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ft*Qe.scale),Qt=this.lineWidth,this.lineWidth=Qt*Qe.scale),this.pdf.text(Qe.text,Lr.x+this.posX,Lr.y+this.posY,{angle:Qe.angle,align:vt,renderingMode:Qe.renderingMode,maxWidth:Qe.maxWidth}),Qe.scale>=.01&&(this.pdf.setFontSize(Ft),this.lineWidth=Qt)},_t=function(Qe,vt,bt,Ft){bt=bt||0,Ft=Ft||0,this.pdf.internal.out(O(Qe+bt)+" "+Q(vt+Ft)+" l")},Tt=function(Qe,vt,bt){return this.pdf.lines(Qe,vt,bt,null,null)},dr=function(Qe,vt,bt,Ft,Qt,nr,xr,br){this.pdf.internal.out([C(z(bt+Qe)),C(X(Ft+vt)),C(z(Qt+Qe)),C(X(nr+vt)),C(z(xr+Qe)),C(X(br+vt)),"c"].join(" "))},pr=function(Qe,vt,bt,Ft){for(var Qt=2*Math.PI,nr=Math.PI/2;vt>bt;)vt-=Qt;var xr=Math.abs(bt-vt);xr<Qt&&Ft&&(xr=Qt-xr);for(var br=[],Lr=Ft?-1:1,tn=vt;xr>1e-5;){var En=tn+Lr*Math.min(xr,nr);br.push(Er.call(this,Qe,tn,En)),xr-=Math.abs(En-tn),tn=En}return br},Er=function(Qe,vt,bt){var Ft=(bt-vt)/2,Qt=Qe*Math.cos(Ft),nr=Qe*Math.sin(Ft),xr=Qt,br=-nr,Lr=xr*xr+br*br,tn=Lr+xr*Qt+br*nr,En=4/3*(Math.sqrt(2*Lr*tn)-tn)/(xr*nr-br*Qt),wn=xr-En*br,ui=br+En*xr,st=wn,An=-ui,_i=Ft+vt,ln=Math.cos(_i),Hr=Math.sin(_i);return{x1:Qe*Math.cos(vt),y1:Qe*Math.sin(vt),x2:wn*ln-ui*Hr,y2:wn*Hr+ui*ln,x3:st*ln-An*Hr,y3:st*Hr+An*ln,x4:Qe*Math.cos(bt),y4:Qe*Math.sin(bt)}},Xt=function(Qe){return 180*Qe/Math.PI},vr=function(Qe,vt,bt,Ft,Qt,nr){var xr=Qe+.5*(bt-Qe),br=vt+.5*(Ft-vt),Lr=Qt+.5*(bt-Qt),tn=nr+.5*(Ft-nr),En=Math.min(Qe,Qt,xr,Lr),wn=Math.max(Qe,Qt,xr,Lr),ui=Math.min(vt,nr,br,tn),st=Math.max(vt,nr,br,tn);return new ie(En,ui,wn-En,st-ui)},en=function(Qe,vt,bt,Ft,Qt,nr,xr,br){var Lr,tn,En,wn,ui,st,An,_i,ln,Hr,mi,Sn,ai,Kn,Zs=bt-Qe,Qi=Ft-vt,Bn=Qt-bt,cs=nr-Ft,di=xr-Qt,Ln=br-nr;for(tn=0;tn<41;tn++)ln=(An=(En=Qe+(Lr=tn/40)*Zs)+Lr*((ui=bt+Lr*Bn)-En))+Lr*(ui+Lr*(Qt+Lr*di-ui)-An),Hr=(_i=(wn=vt+Lr*Qi)+Lr*((st=Ft+Lr*cs)-wn))+Lr*(st+Lr*(nr+Lr*Ln-st)-_i),tn==0?(mi=ln,Sn=Hr,ai=ln,Kn=Hr):(mi=Math.min(mi,ln),Sn=Math.min(Sn,Hr),ai=Math.max(ai,ln),Kn=Math.max(Kn,Hr));return new ie(Math.round(mi),Math.round(Sn),Math.round(ai-mi),Math.round(Kn-Sn))},$r=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var Qe,vt,bt=(Qe=this.ctx.lineDash,vt=this.ctx.lineDashOffset,JSON.stringify({lineDash:Qe,lineDashOffset:vt}));this.prevLineDash!==bt&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=bt)}}})(ze.API),(function(I){var C=function(fe){var ie,ae,Se,Re,Ge,et,xe,gt,At,yt;for(ae=[],Se=0,Re=(fe+=ie="\0\0\0\0".slice(fe.length%4||4)).length;Re>Se;Se+=4)(Ge=(fe.charCodeAt(Se)<<24)+(fe.charCodeAt(Se+1)<<16)+(fe.charCodeAt(Se+2)<<8)+fe.charCodeAt(Se+3))!==0?(et=(Ge=((Ge=((Ge=((Ge=(Ge-(yt=Ge%85))/85)-(At=Ge%85))/85)-(gt=Ge%85))/85)-(xe=Ge%85))/85)%85,ae.push(et+33,xe+33,gt+33,At+33,yt+33)):ae.push(122);return(function(qe,jt){for(var Ht=jt;Ht>0;Ht--)qe.pop()})(ae,ie.length),String.fromCharCode.apply(String,ae)+"~>"},O=function(fe){var ie,ae,Se,Re,Ge,et=String,xe="length",gt=255,At="charCodeAt",yt="slice",qe="replace";for(fe[yt](-2),fe=fe[yt](0,-2)[qe](/\s/g,"")[qe]("z","!!!!!"),Se=[],Re=0,Ge=(fe+=ie="uuuuu"[yt](fe[xe]%5||5))[xe];Ge>Re;Re+=5)ae=52200625*(fe[At](Re)-33)+614125*(fe[At](Re+1)-33)+7225*(fe[At](Re+2)-33)+85*(fe[At](Re+3)-33)+(fe[At](Re+4)-33),Se.push(gt&ae>>24,gt&ae>>16,gt&ae>>8,gt&ae);return(function(jt,Ht){for(var St=Ht;St>0;St--)jt.pop()})(Se,ie[xe]),et.fromCharCode.apply(et,Se)},Q=function(fe){return fe.split("").map(function(ie){return("0"+ie.charCodeAt().toString(16)).slice(-2)}).join("")+">"},z=function(fe){var ie=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((fe=fe.replace(/\s/g,"")).indexOf(">")!==-1&&(fe=fe.substr(0,fe.indexOf(">"))),fe.length%2&&(fe+="0"),ie.test(fe)===!1)return"";for(var ae="",Se=0;Se<fe.length;Se+=2)ae+=String.fromCharCode("0x"+(fe[Se]+fe[Se+1]));return ae},X=function(fe){for(var ie=new Uint8Array(fe.length),ae=fe.length;ae--;)ie[ae]=fe.charCodeAt(ae);return(ie=(0,f.zlibSync)(ie)).reduce(function(Se,Re){return Se+String.fromCharCode(Re)},"")};I.processDataByFilters=function(fe,ie){var ae=0,Se=fe||"",Re=[];for(typeof(ie=ie||[])=="string"&&(ie=[ie]),ae=0;ae<ie.length;ae+=1)switch(ie[ae]){case"ASCII85Decode":case"/ASCII85Decode":Se=O(Se),Re.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":Se=C(Se),Re.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":Se=z(Se),Re.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":Se=Q(Se),Re.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":Se=X(Se),Re.push("/FlateDecode");break;default:throw new Error('The filter: "'+ie[ae]+'" is not implemented')}return{data:Se,reverseChain:Re.reverse().join(" ")}}})(ze.API),(function(I){I.loadFile=function(C,O,Q){return(function(z,X,fe){X=X!==!1,fe=typeof fe=="function"?fe:function(){};var ie=void 0;try{ie=(function(ae,Se,Re){var Ge=new XMLHttpRequest,et=0,xe=function(gt){var At=gt.length,yt=[],qe=String.fromCharCode;for(et=0;et<At;et+=1)yt.push(qe(255&gt.charCodeAt(et)));return yt.join("")};if(Ge.open("GET",ae,!Se),Ge.overrideMimeType("text/plain; charset=x-user-defined"),Se===!1&&(Ge.onload=function(){Ge.status===200?Re(xe(this.responseText)):Re(void 0)}),Ge.send(null),Se&&Ge.status===200)return xe(Ge.responseText)})(z,X,fe)}catch{}return ie})(C,O,Q)},I.allowFsRead=void 0,I.loadImageFile=I.loadFile})(ze.API),(function(I){function C(){return(g.html2canvas?Promise.resolve(g.html2canvas):Promise.resolve().then(o.t.bind(o,"html2canvas",23))).catch(function(ie){return Promise.reject(new Error("Could not load html2canvas: "+ie))}).then(function(ie){return ie.default?ie.default:ie})}function O(){return(g.DOMPurify?Promise.resolve(g.DOMPurify):Promise.resolve().then(o.bind(o,"./node_modules/dompurify/dist/purify.es.mjs"))).catch(function(ie){return Promise.reject(new Error("Could not load dompurify: "+ie))}).then(function(ie){return ie.default?ie.default:ie})}var Q=function(ie){var ae=(0,d.default)(ie);return ae==="undefined"?"undefined":ae==="string"||ie instanceof String?"string":ae==="number"||ie instanceof Number?"number":ae==="function"||ie instanceof Function?"function":ie&&ie.constructor===Array?"array":ie&&ie.nodeType===1?"element":ae==="object"?"object":"unknown"},z=function(ie,ae){var Se=document.createElement(ie);for(var Re in ae.className&&(Se.className=ae.className),ae.innerHTML&&ae.dompurify&&(Se.innerHTML=ae.dompurify.sanitize(ae.innerHTML)),ae.style)Se.style[Re]=ae.style[Re];return Se},X=function ie(ae,Se){for(var Re=ae.nodeType===3?document.createTextNode(ae.nodeValue):ae.cloneNode(!1),Ge=ae.firstChild;Ge;Ge=Ge.nextSibling)Se!==!0&&Ge.nodeType===1&&Ge.nodeName==="SCRIPT"||Re.appendChild(ie(Ge,Se));return ae.nodeType===1&&(ae.nodeName==="CANVAS"?(Re.width=ae.width,Re.height=ae.height,Re.getContext("2d").drawImage(ae,0,0)):ae.nodeName!=="TEXTAREA"&&ae.nodeName!=="SELECT"||(Re.value=ae.value),Re.addEventListener("load",function(){Re.scrollTop=ae.scrollTop,Re.scrollLeft=ae.scrollLeft},!0)),Re},fe=function ie(ae){var Se=Object.assign(ie.convert(Promise.resolve()),JSON.parse(JSON.stringify(ie.template))),Re=ie.convert(Promise.resolve(),Se);return(Re=Re.setProgress(1,ie,1,[ie])).set(ae)};(fe.prototype=Object.create(Promise.prototype)).constructor=fe,fe.convert=function(ie,ae){return ie.__proto__=ae||fe.prototype,ie},fe.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},fe.prototype.from=function(ie,ae){return this.then(function(){switch(ae=ae||(function(Se){switch(Q(Se)){case"string":return"string";case"element":return Se.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(ie),ae){case"string":return this.then(O).then(function(Se){return this.set({src:z("div",{innerHTML:ie,dompurify:Se})})});case"element":return this.set({src:ie});case"canvas":return this.set({canvas:ie});case"img":return this.set({img:ie});default:return this.error("Unknown source type.")}})},fe.prototype.to=function(ie){switch(ie){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},fe.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var ie={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},ae=X(this.prop.src,this.opt.html2canvas.javascriptEnabled);ae.tagName==="BODY"&&(ie.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=z("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=z("div",{className:"html2pdf__container",style:ie}),this.prop.container.appendChild(ae),this.prop.container.firstChild.appendChild(z("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},fe.prototype.toCanvas=function(){var ie=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(ie).then(C).then(function(ae){var Se=Object.assign({},this.opt.html2canvas);return delete Se.onrendered,ae(this.prop.container,Se)}).then(function(ae){(this.opt.html2canvas.onrendered||function(){})(ae),this.prop.canvas=ae,document.body.removeChild(this.prop.overlay)})},fe.prototype.toContext2d=function(){var ie=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(ie).then(C).then(function(ae){var Se=this.opt.jsPDF,Re=this.opt.fontFaces,Ge=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,et=Object.assign({async:!0,allowTaint:!0,scale:Ge,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete et.onrendered,Se.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,Se.context2d.posX=this.opt.x,Se.context2d.posY=this.opt.y,Se.context2d.margin=this.opt.margin,Se.context2d.fontFaces=Re,Re)for(var xe=0;xe<Re.length;++xe){var gt=Re[xe],At=gt.src.find(function(yt){return yt.format==="truetype"});At&&Se.addFont(At.url,gt.ref.name,gt.ref.style)}return et.windowHeight=et.windowHeight||0,et.windowHeight=et.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):et.windowHeight,Se.context2d.save(!0),ae(this.prop.container,et)}).then(function(ae){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(ae),this.prop.canvas=ae,document.body.removeChild(this.prop.overlay)})},fe.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var ie=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=ie})},fe.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},fe.prototype.output=function(ie,ae,Se){return(Se=Se||"pdf").toLowerCase()==="img"||Se.toLowerCase()==="image"?this.outputImg(ie,ae):this.outputPdf(ie,ae)},fe.prototype.outputPdf=function(ie,ae){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(ie,ae)})},fe.prototype.outputImg=function(ie){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(ie){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+ie+'" is not supported.'}})},fe.prototype.save=function(ie){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(ie?{filename:ie}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},fe.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},fe.prototype.set=function(ie){if(Q(ie)!=="object")return this;var ae=Object.keys(ie||{}).map(function(Se){if(Se in fe.template.prop)return function(){this.prop[Se]=ie[Se]};switch(Se){case"margin":return this.setMargin.bind(this,ie.margin);case"jsPDF":return function(){return this.opt.jsPDF=ie.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,ie.pageSize);default:return function(){this.opt[Se]=ie[Se]}}},this);return this.then(function(){return this.thenList(ae)})},fe.prototype.get=function(ie,ae){return this.then(function(){var Se=ie in fe.template.prop?this.prop[ie]:this.opt[ie];return ae?ae(Se):Se})},fe.prototype.setMargin=function(ie){return this.then(function(){switch(Q(ie)){case"number":ie=[ie,ie,ie,ie];case"array":if(ie.length===2&&(ie=[ie[0],ie[1],ie[0],ie[1]]),ie.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=ie}).then(this.setPageSize)},fe.prototype.setPageSize=function(ie){function ae(Se,Re){return Math.floor(Se*Re/72*96)}return this.then(function(){(ie=ie||ze.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(ie.inner={width:ie.width-this.opt.margin[1]-this.opt.margin[3],height:ie.height-this.opt.margin[0]-this.opt.margin[2]},ie.inner.px={width:ae(ie.inner.width,ie.k),height:ae(ie.inner.height,ie.k)},ie.inner.ratio=ie.inner.height/ie.inner.width),this.prop.pageSize=ie})},fe.prototype.setProgress=function(ie,ae,Se,Re){return ie!=null&&(this.progress.val=ie),ae!=null&&(this.progress.state=ae),Se!=null&&(this.progress.n=Se),Re!=null&&(this.progress.stack=Re),this.progress.ratio=this.progress.val/this.progress.state,this},fe.prototype.updateProgress=function(ie,ae,Se,Re){return this.setProgress(ie?this.progress.val+ie:null,ae||null,Se?this.progress.n+Se:null,Re?this.progress.stack.concat(Re):null)},fe.prototype.then=function(ie,ae){var Se=this;return this.thenCore(ie,ae,function(Re,Ge){return Se.updateProgress(null,null,1,[Re]),Promise.prototype.then.call(this,function(et){return Se.updateProgress(null,Re),et}).then(Re,Ge).then(function(et){return Se.updateProgress(1),et})})},fe.prototype.thenCore=function(ie,ae,Se){Se=Se||Promise.prototype.then;var Re=this;ie&&(ie=ie.bind(Re)),ae&&(ae=ae.bind(Re));var Ge=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?Re:fe.convert(Object.assign({},Re),Promise.prototype),et=Se.call(Ge,ie,ae);return fe.convert(et,Re.__proto__)},fe.prototype.thenExternal=function(ie,ae){return Promise.prototype.then.call(this,ie,ae)},fe.prototype.thenList=function(ie){var ae=this;return ie.forEach(function(Se){ae=ae.thenCore(Se)}),ae},fe.prototype.catch=function(ie){ie&&(ie=ie.bind(this));var ae=Promise.prototype.catch.call(this,ie);return fe.convert(ae,this)},fe.prototype.catchExternal=function(ie){return Promise.prototype.catch.call(this,ie)},fe.prototype.error=function(ie){return this.then(function(){throw new Error(ie)})},fe.prototype.using=fe.prototype.set,fe.prototype.saveAs=fe.prototype.save,fe.prototype.export=fe.prototype.output,fe.prototype.run=fe.prototype.then,ze.getPageSize=function(ie,ae,Se){if((0,d.default)(ie)==="object"){var Re=ie;ie=Re.orientation,ae=Re.unit||ae,Se=Re.format||Se}ae=ae||"mm",Se=Se||"a4",ie=(""+(ie||"P")).toLowerCase();var Ge,et=(""+Se).toLowerCase(),xe={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(ae){case"pt":Ge=1;break;case"mm":Ge=2.834645669291339;break;case"cm":Ge=28.346456692913385;break;case"in":Ge=72;break;case"px":Ge=.75;break;case"pc":case"em":Ge=12;break;case"ex":Ge=6;break;default:throw"Invalid unit: "+ae}var gt,At=0,yt=0;if(xe.hasOwnProperty(et))At=xe[et][1]/Ge,yt=xe[et][0]/Ge;else try{At=Se[1],yt=Se[0]}catch{throw new Error("Invalid format: "+Se)}if(ie==="p"||ie==="portrait")ie="p",yt>At&&(gt=yt,yt=At,At=gt);else{if(ie!=="l"&&ie!=="landscape")throw"Invalid orientation: "+ie;ie="l",At>yt&&(gt=yt,yt=At,At=gt)}return{width:yt,height:At,unit:ae,k:Ge,orientation:ie}},I.html=function(ie,ae){(ae=ae||{}).callback=ae.callback||function(){},ae.html2canvas=ae.html2canvas||{},ae.html2canvas.canvas=ae.html2canvas.canvas||this.canvas,ae.jsPDF=ae.jsPDF||this,ae.fontFaces=ae.fontFaces?ae.fontFaces.map(Hs):null;var Se=new fe(ae);return ae.worker?Se:Se.from(ie).doCallback()}})(ze.API),ze.API.addJS=function(I){return oo=I,this.internal.events.subscribe("postPutResources",function(){fl=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(fl+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Ps=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+oo+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){fl!==void 0&&Ps!==void 0&&this.internal.out("/Names <</JavaScript "+fl+" 0 R>>")}),this},(function(I){var C;I.events.push(["postPutResources",function(){var O=this,Q=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var z=O.outline.render().split(/\r\n/),X=0;X<z.length;X++){var fe=z[X],ie=Q.exec(fe);if(ie!=null){var ae=ie[1];O.internal.newObjectDeferredBegin(ae,!1)}O.internal.write(fe)}if(this.outline.createNamedDestinations){var Se=this.internal.pages.length,Re=[];for(X=0;X<Se;X++){var Ge=O.internal.newObject();Re.push(Ge);var et=O.internal.getPageInfo(X+1);O.internal.write("<< /D["+et.objId+" 0 R /XYZ null null null]>> endobj")}var xe=O.internal.newObject();for(O.internal.write("<< /Names [ "),X=0;X<Re.length;X++)O.internal.write("(page_"+(X+1)+")"+Re[X]+" 0 R");O.internal.write(" ] >>","endobj"),C=O.internal.newObject(),O.internal.write("<< /Dests "+xe+" 0 R"),O.internal.write(">>","endobj")}}]),I.events.push(["putCatalog",function(){var O=this;O.outline.root.children.length>0&&(O.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&O.internal.write("/Names "+C+" 0 R"))}]),I.events.push(["initialized",function(){var O=this;O.outline={createNamedDestinations:!1,root:{children:[]}},O.outline.add=function(Q,z,X){var fe={title:z,options:X,children:[]};return Q==null&&(Q=this.root),Q.children.push(fe),fe},O.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=O,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},O.outline.genIds_r=function(Q){Q.id=O.internal.newObjectDeferred();for(var z=0;z<Q.children.length;z++)this.genIds_r(Q.children[z])},O.outline.renderRoot=function(Q){this.objStart(Q),this.line("/Type /Outlines"),Q.children.length>0&&(this.line("/First "+this.makeRef(Q.children[0])),this.line("/Last "+this.makeRef(Q.children[Q.children.length-1]))),this.line("/Count "+this.count_r({count:0},Q)),this.objEnd()},O.outline.renderItems=function(Q){for(var z=this.ctx.pdf.internal.getVerticalCoordinateString,X=0;X<Q.children.length;X++){var fe=Q.children[X];this.objStart(fe),this.line("/Title "+this.makeString(fe.title)),this.line("/Parent "+this.makeRef(Q)),X>0&&this.line("/Prev "+this.makeRef(Q.children[X-1])),X<Q.children.length-1&&this.line("/Next "+this.makeRef(Q.children[X+1])),fe.children.length>0&&(this.line("/First "+this.makeRef(fe.children[0])),this.line("/Last "+this.makeRef(fe.children[fe.children.length-1])));var ie=this.count=this.count_r({count:0},fe);if(ie>0&&this.line("/Count "+ie),fe.options&&fe.options.pageNumber){var ae=O.internal.getPageInfo(fe.options.pageNumber);this.line("/Dest ["+ae.objId+" 0 R /XYZ 0 "+z(0)+" 0]")}this.objEnd()}for(var Se=0;Se<Q.children.length;Se++)this.renderItems(Q.children[Se])},O.outline.line=function(Q){this.ctx.val+=Q+`\r
`},O.outline.makeRef=function(Q){return Q.id+" 0 R"},O.outline.makeString=function(Q){return"("+O.internal.pdfEscape(Q)+")"},O.outline.objStart=function(Q){this.ctx.val+=`\r
`+Q.id+` 0 obj\r
<<\r
`},O.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},O.outline.count_r=function(Q,z){for(var X=0;X<z.children.length;X++)Q.count++,this.count_r(Q,z.children[X]);return Q.count}}])})(ze.API),(function(I){var C=[192,193,194,195,196,197,198,199];I.processJPEG=function(O,Q,z,X,fe,ie){var ae,Se=this.decode.DCT_DECODE,Re=null;if(typeof O=="string"||this.__addimage__.isArrayBuffer(O)||this.__addimage__.isArrayBufferView(O)){switch(O=fe||O,O=this.__addimage__.isArrayBuffer(O)?new Uint8Array(O):O,ae=(function(Ge){for(var et,xe=256*Ge.charCodeAt(4)+Ge.charCodeAt(5),gt=Ge.length,At={width:0,height:0,numcomponents:1},yt=4;yt<gt;yt+=2){if(yt+=xe,C.indexOf(Ge.charCodeAt(yt+1))!==-1){et=256*Ge.charCodeAt(yt+5)+Ge.charCodeAt(yt+6),At={width:256*Ge.charCodeAt(yt+7)+Ge.charCodeAt(yt+8),height:et,numcomponents:Ge.charCodeAt(yt+9)};break}xe=256*Ge.charCodeAt(yt+2)+Ge.charCodeAt(yt+3)}return At})(O=this.__addimage__.isArrayBufferView(O)?this.__addimage__.arrayBufferToBinaryString(O):O),ae.numcomponents){case 1:ie=this.color_spaces.DEVICE_GRAY;break;case 4:ie=this.color_spaces.DEVICE_CMYK;break;case 3:ie=this.color_spaces.DEVICE_RGB}Re={data:O,width:ae.width,height:ae.height,colorSpace:ie,bitsPerComponent:8,filter:Se,index:Q,alias:z}}return Re}})(ze.API),ze.API.processPNG=function(I,C,O,Q){if(this.__addimage__.isArrayBuffer(I)&&(I=new Uint8Array(I)),this.__addimage__.isArrayBufferView(I)){var z,X=(0,p.decode)(I,{checkCrc:!0}),fe=X.width,ie=X.height,ae=X.channels,Se=X.palette,Re=X.depth;z=Se&&ae===1?(function(zt){for(var Ct=zt.width,cr=zt.height,Xe=zt.data,lt=zt.palette,_t=zt.depth,Tt=!1,dr=[],pr=[],Er=void 0,Xt=!1,vr=0,en=0;en<lt.length;en++){var $r=(0,A.default)(lt[en],4),Qe=$r[0],vt=$r[1],bt=$r[2],Ft=$r[3];dr.push(Qe,vt,bt),Ft!=null&&(Ft===0?(vr++,pr.length<1&&pr.push(en)):Ft<255&&(Xt=!0))}if(Xt||vr>1){Tt=!0,pr=void 0;var Qt=Ct*cr;Er=new Uint8Array(Qt);for(var nr=new DataView(Xe.buffer),xr=0;xr<Qt;xr++){var br=za(nr,xr,_t),Lr=(0,A.default)(lt[br],4)[3];Er[xr]=Lr}}else vr===0&&(pr=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:Tt?8:void 0,colorBytes:Xe,alphaBytes:Er,needSMask:Tt,palette:dr,mask:pr}})(X):ae===2||ae===4?(function(zt){for(var Ct=zt.data,cr=zt.width,Xe=zt.height,lt=zt.channels,_t=zt.depth,Tt=lt===2?"DeviceGray":"DeviceRGB",dr=lt-1,pr=cr*Xe,Er=dr,Xt=pr*Er,vr=1*pr,en=Math.ceil(Xt*_t/8),$r=Math.ceil(vr*_t/8),Qe=new Uint8Array(en),vt=new Uint8Array($r),bt=new DataView(Ct.buffer),Ft=new DataView(Qe.buffer),Qt=new DataView(vt.buffer),nr=!1,xr=0;xr<pr;xr++){for(var br=xr*lt,Lr=0;Lr<Er;Lr++)ci(Ft,za(bt,br+Lr,_t),xr*Er+Lr,_t);var tn=za(bt,br+Er,_t);tn<(1<<_t)-1&&(nr=!0),ci(Qt,tn,1*xr,_t)}return{colorSpace:Tt,colorsPerPixel:dr,sMaskBitsPerComponent:nr?_t:void 0,colorBytes:Qe,alphaBytes:vt,needSMask:nr}})(X):(function(zt){var Ct=zt.data,cr=zt.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:cr,colorsPerPixel:cr==="DeviceGray"?1:3,colorBytes:Ct instanceof Uint16Array?(function(Xe){for(var lt=Xe.length,_t=new Uint8Array(2*lt),Tt=new DataView(_t.buffer,_t.byteOffset,_t.byteLength),dr=0;dr<lt;dr++)Tt.setUint16(2*dr,Xe[dr],!1);return _t})(Ct):Ct,needSMask:!1}})(X);var Ge,et,xe,gt=z,At=gt.colorSpace,yt=gt.colorsPerPixel,qe=gt.sMaskBitsPerComponent,jt=gt.colorBytes,Ht=gt.alphaBytes,St=gt.needSMask,Ye=gt.palette,Mt=gt.mask,Ar=null;return Q!==ze.API.image_compression.NONE&&typeof f.zlibSync=="function"?(Ar=(function(zt){var Ct;switch(zt){case ze.API.image_compression.FAST:Ct=11;break;case ze.API.image_compression.MEDIUM:Ct=13;break;case ze.API.image_compression.SLOW:Ct=14;break;default:Ct=12}return Ct})(Q),Ge=this.decode.FLATE_DECODE,et="/Predictor ".concat(Ar," /Colors ").concat(yt," /BitsPerComponent ").concat(Re," /Columns ").concat(fe),I=Ec(jt,Math.ceil(fe*yt*Re/8),yt,Re,Q),St&&(xe=Ec(Ht,Math.ceil(fe*qe/8),1,qe,Q))):(Ge=void 0,et=void 0,I=jt,St&&(xe=Ht)),(this.__addimage__.isArrayBuffer(I)||this.__addimage__.isArrayBufferView(I))&&(I=this.__addimage__.arrayBufferToBinaryString(I)),(xe&&this.__addimage__.isArrayBuffer(xe)||this.__addimage__.isArrayBufferView(xe))&&(xe=this.__addimage__.arrayBufferToBinaryString(xe)),{alias:O,data:I,index:C,filter:Ge,decodeParameters:et,transparency:Mt,palette:Ye,sMask:xe,predictor:Ar,width:fe,height:ie,bitsPerComponent:Re,sMaskBitsPerComponent:qe,colorSpace:At}}},(function(I){I.processGIF89A=function(C,O,Q,z){var X=new co(C),fe=X.width,ie=X.height,ae=[];X.decodeAndBlitFrameRGBA(0,ae);var Se={data:ae,width:fe,height:ie},Re=new pl(100).encode(Se,100);return I.processJPEG.call(this,Re,O,Q,z)},I.processGIF87A=I.processGIF89A})(ze.API),fs.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var I=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(I);for(var C=0;C<I;C++){var O=this.datav.getUint8(this.pos++,!0),Q=this.datav.getUint8(this.pos++,!0),z=this.datav.getUint8(this.pos++,!0),X=this.datav.getUint8(this.pos++,!0);this.palette[C]={red:z,green:Q,blue:O,quad:X}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},fs.prototype.parseBGR=function(){this.pos=this.offset;try{var I="bit"+this.bitPP,C=this.width*this.height*4;this.data=new Uint8Array(C),this[I]()}catch(O){v.log("bit decode error:"+O)}},fs.prototype.bit1=function(){var I,C=Math.ceil(this.width/8),O=C%4;for(I=this.height-1;I>=0;I--){for(var Q=this.bottom_up?I:this.height-1-I,z=0;z<C;z++)for(var X=this.datav.getUint8(this.pos++,!0),fe=Q*this.width*4+8*z*4,ie=0;ie<8&&8*z+ie<this.width;ie++){var ae=this.palette[X>>7-ie&1];this.data[fe+4*ie]=ae.blue,this.data[fe+4*ie+1]=ae.green,this.data[fe+4*ie+2]=ae.red,this.data[fe+4*ie+3]=255}O!==0&&(this.pos+=4-O)}},fs.prototype.bit4=function(){for(var I=Math.ceil(this.width/2),C=I%4,O=this.height-1;O>=0;O--){for(var Q=this.bottom_up?O:this.height-1-O,z=0;z<I;z++){var X=this.datav.getUint8(this.pos++,!0),fe=Q*this.width*4+2*z*4,ie=X>>4,ae=15&X,Se=this.palette[ie];if(this.data[fe]=Se.blue,this.data[fe+1]=Se.green,this.data[fe+2]=Se.red,this.data[fe+3]=255,2*z+1>=this.width)break;Se=this.palette[ae],this.data[fe+4]=Se.blue,this.data[fe+4+1]=Se.green,this.data[fe+4+2]=Se.red,this.data[fe+4+3]=255}C!==0&&(this.pos+=4-C)}},fs.prototype.bit8=function(){for(var I=this.width%4,C=this.height-1;C>=0;C--){for(var O=this.bottom_up?C:this.height-1-C,Q=0;Q<this.width;Q++){var z=this.datav.getUint8(this.pos++,!0),X=O*this.width*4+4*Q;if(z<this.palette.length){var fe=this.palette[z];this.data[X]=fe.red,this.data[X+1]=fe.green,this.data[X+2]=fe.blue,this.data[X+3]=255}else this.data[X]=255,this.data[X+1]=255,this.data[X+2]=255,this.data[X+3]=255}I!==0&&(this.pos+=4-I)}},fs.prototype.bit15=function(){for(var I=this.width%3,C=parseInt("11111",2),O=this.height-1;O>=0;O--){for(var Q=this.bottom_up?O:this.height-1-O,z=0;z<this.width;z++){var X=this.datav.getUint16(this.pos,!0);this.pos+=2;var fe=(X&C)/C*255|0,ie=(X>>5&C)/C*255|0,ae=(X>>10&C)/C*255|0,Se=X>>15?255:0,Re=Q*this.width*4+4*z;this.data[Re]=ae,this.data[Re+1]=ie,this.data[Re+2]=fe,this.data[Re+3]=Se}this.pos+=I}},fs.prototype.bit16=function(){for(var I=this.width%3,C=parseInt("11111",2),O=parseInt("111111",2),Q=this.height-1;Q>=0;Q--){for(var z=this.bottom_up?Q:this.height-1-Q,X=0;X<this.width;X++){var fe=this.datav.getUint16(this.pos,!0);this.pos+=2;var ie=(fe&C)/C*255|0,ae=(fe>>5&O)/O*255|0,Se=(fe>>11)/C*255|0,Re=z*this.width*4+4*X;this.data[Re]=Se,this.data[Re+1]=ae,this.data[Re+2]=ie,this.data[Re+3]=255}this.pos+=I}},fs.prototype.bit24=function(){for(var I=this.height-1;I>=0;I--){for(var C=this.bottom_up?I:this.height-1-I,O=0;O<this.width;O++){var Q=this.datav.getUint8(this.pos++,!0),z=this.datav.getUint8(this.pos++,!0),X=this.datav.getUint8(this.pos++,!0),fe=C*this.width*4+4*O;this.data[fe]=X,this.data[fe+1]=z,this.data[fe+2]=Q,this.data[fe+3]=255}this.pos+=this.width%4}},fs.prototype.bit32=function(){for(var I=this.height-1;I>=0;I--)for(var C=this.bottom_up?I:this.height-1-I,O=0;O<this.width;O++){var Q=this.datav.getUint8(this.pos++,!0),z=this.datav.getUint8(this.pos++,!0),X=this.datav.getUint8(this.pos++,!0),fe=this.datav.getUint8(this.pos++,!0),ie=C*this.width*4+4*O;this.data[ie]=X,this.data[ie+1]=z,this.data[ie+2]=Q,this.data[ie+3]=fe}},fs.prototype.getData=function(){return this.data},(function(I){I.processBMP=function(C,O,Q,z){var X=new fs(C,!1),fe=X.width,ie=X.height,ae={data:X.getData(),width:fe,height:ie},Se=new pl(100).encode(ae,100);return I.processJPEG.call(this,Se,O,Q,z)}})(ze.API),Uo.prototype.getData=function(){return this.data},(function(I){I.processWEBP=function(C,O,Q,z){var X=new Uo(C),fe=X.width,ie=X.height,ae={data:X.getData(),width:fe,height:ie},Se=new pl(100).encode(ae,100);return I.processJPEG.call(this,Se,O,Q,z)}})(ze.API),ze.API.processRGBA=function(I,C,O){for(var Q=I.data,z=Q.length,X=new Uint8Array(z/4*3),fe=new Uint8Array(z/4),ie=0,ae=0,Se=0;Se<z;Se+=4){var Re=Q[Se],Ge=Q[Se+1],et=Q[Se+2],xe=Q[Se+3];X[ie++]=Re,X[ie++]=Ge,X[ie++]=et,fe[ae++]=xe}var gt=this.__addimage__.arrayBufferToBinaryString(X);return{alpha:this.__addimage__.arrayBufferToBinaryString(fe),data:gt,index:C,alias:O,colorSpace:"DeviceRGB",bitsPerComponent:8,width:I.width,height:I.height}},ze.API.setLanguage=function(I){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[I]!==void 0&&(this.internal.languageSettings.languageCode=I,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Cs=ze.API,aa=Cs.getCharWidthsArray=function(I,C){var O,Q,z=(C=C||{}).font||this.internal.getFont(),X=C.fontSize||this.internal.getFontSize(),fe=C.charSpace||this.internal.getCharSpace(),ie=C.widths?C.widths:z.metadata.Unicode.widths,ae=ie.fof?ie.fof:1,Se=C.kerning?C.kerning:z.metadata.Unicode.kerning,Re=Se.fof?Se.fof:1,Ge=C.doKerning!==!1,et=0,xe=I.length,gt=0,At=ie[0]||ae,yt=[];for(O=0;O<xe;O++)Q=I.charCodeAt(O),typeof z.metadata.widthOfString=="function"?yt.push((z.metadata.widthOfGlyph(z.metadata.characterToGlyph(Q))+fe*(1e3/X)||0)/1e3):(et=Ge&&(0,d.default)(Se[Q])==="object"&&!isNaN(parseInt(Se[Q][gt],10))?Se[Q][gt]/Re:0,yt.push((ie[Q]||At)/ae+et)),gt=Q;return yt},bs=Cs.getStringUnitWidth=function(I,C){var O=(C=C||{}).fontSize||this.internal.getFontSize(),Q=C.font||this.internal.getFont(),z=C.charSpace||this.internal.getCharSpace();return Cs.processArabic&&(I=Cs.processArabic(I)),typeof Q.metadata.widthOfString=="function"?Q.metadata.widthOfString(I,O,z)/O:aa.apply(this,arguments).reduce(function(X,fe){return X+fe},0)},Al=function(I,C,O,Q){for(var z=[],X=0,fe=I.length,ie=0;X!==fe&&ie+C[X]<O;)ie+=C[X],X++;z.push(I.slice(0,X));var ae=X;for(ie=0;X!==fe;)ie+C[X]>Q&&(z.push(I.slice(ae,X)),ie=0,ae=X),ie+=C[X],X++;return ae!==X&&z.push(I.slice(ae,X)),z},Ga=function(I,C,O){O||(O={});var Q,z,X,fe,ie,ae,Se,Re=[],Ge=[Re],et=O.textIndent||0,xe=0,gt=0,At=I.split(" "),yt=aa.apply(this,[" ",O])[0];if(ae=O.lineIndent===-1?At[0].length+2:O.lineIndent||0){var qe=Array(ae).join(" "),jt=[];At.map(function(St){(St=St.split(/\s*\n/)).length>1?jt=jt.concat(St.map(function(Ye,Mt){return(Mt&&Ye.length?`
`:"")+Ye})):jt.push(St[0])}),At=jt,ae=bs.apply(this,[qe,O])}for(X=0,fe=At.length;X<fe;X++){var Ht=0;if(Q=At[X],ae&&Q[0]==`
`&&(Q=Q.substr(1),Ht=1),et+xe+(gt=(z=aa.apply(this,[Q,O])).reduce(function(St,Ye){return St+Ye},0))>C||Ht){if(gt>C){for(ie=Al.apply(this,[Q,z,C-(et+xe),C]),Re.push(ie.shift()),Re=[ie.pop()];ie.length;)Ge.push([ie.shift()]);gt=z.slice(Q.length-(Re[0]?Re[0].length:0)).reduce(function(St,Ye){return St+Ye},0)}else Re=[Q];Ge.push(Re),et=gt+ae,xe=yt}else Re.push(Q),et+=xe+gt,xe=yt}return Se=ae?function(St,Ye){return(Ye?qe:"")+St.join(" ")}:function(St){return St.join(" ")},Ge.map(Se)},Cs.splitTextToSize=function(I,C,O){var Q,z=(O=O||{}).fontSize||this.internal.getFontSize(),X=(function(Re){if(Re.widths&&Re.kerning)return{widths:Re.widths,kerning:Re.kerning};var Ge=this.internal.getFont(Re.fontName,Re.fontStyle),et="Unicode";return Ge.metadata[et]?{widths:Ge.metadata[et].widths||{0:1},kerning:Ge.metadata[et].kerning||{}}:{font:Ge.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,O);Q=Array.isArray(I)?I:String(I).split(/\r?\n/);var fe=1*this.internal.scaleFactor*C/z;X.textIndent=O.textIndent?1*O.textIndent*this.internal.scaleFactor/z:0,X.lineIndent=O.lineIndent;var ie,ae,Se=[];for(ie=0,ae=Q.length;ie<ae;ie++)Se=Se.concat(Ga.apply(this,[Q[ie],fe,X]));return Se},(function(I){I.__fontmetrics__=I.__fontmetrics__||{};for(var C="0123456789abcdef",O="klmnopqrstuvwxyz",Q={},z={},X=0;X<16;X++)Q[O[X]]=C[X],z[C[X]]=O[X];var fe=function(et){return"0x"+parseInt(et,10).toString(16)},ie=I.__fontmetrics__.compress=function(et){var xe,gt,At,yt,qe=["{"];for(var jt in et){if(xe=et[jt],isNaN(parseInt(jt,10))?gt="'"+jt+"'":(jt=parseInt(jt,10),gt=(gt=fe(jt).slice(2)).slice(0,-1)+z[gt.slice(-1)]),typeof xe=="number")xe<0?(At=fe(xe).slice(3),yt="-"):(At=fe(xe).slice(2),yt=""),At=yt+At.slice(0,-1)+z[At.slice(-1)];else{if((0,d.default)(xe)!=="object")throw new Error("Don't know what to do with value type "+(0,d.default)(xe)+".");At=ie(xe)}qe.push(gt+At)}return qe.push("}"),qe.join("")},ae=I.__fontmetrics__.uncompress=function(et){if(typeof et!="string")throw new Error("Invalid argument passed to uncompress.");for(var xe,gt,At,yt,qe={},jt=1,Ht=qe,St=[],Ye="",Mt="",Ar=et.length-1,zt=1;zt<Ar;zt+=1)(yt=et[zt])=="'"?xe?(At=xe.join(""),xe=void 0):xe=[]:xe?xe.push(yt):yt=="{"?(St.push([Ht,At]),Ht={},At=void 0):yt=="}"?((gt=St.pop())[0][gt[1]]=Ht,At=void 0,Ht=gt[0]):yt=="-"?jt=-1:At===void 0?Q.hasOwnProperty(yt)?(Ye+=Q[yt],At=parseInt(Ye,16)*jt,jt=1,Ye=""):Ye+=yt:Q.hasOwnProperty(yt)?(Mt+=Q[yt],Ht[At]=parseInt(Mt,16)*jt,jt=1,At=void 0,Mt=""):Mt+=yt;return qe},Se={codePages:["WinAnsiEncoding"],WinAnsiEncoding:ae("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},Re={Unicode:{Courier:Se,"Courier-Bold":Se,"Courier-BoldOblique":Se,"Courier-Oblique":Se,Helvetica:Se,"Helvetica-Bold":Se,"Helvetica-BoldOblique":Se,"Helvetica-Oblique":Se,"Times-Roman":Se,"Times-Bold":Se,"Times-BoldItalic":Se,"Times-Italic":Se}},Ge={Unicode:{"Courier-Oblique":ae("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":ae("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":ae("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:ae("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":ae("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":ae("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:ae("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:ae("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":ae("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:ae("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":ae("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":ae("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":ae("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":ae("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};I.events.push(["addFont",function(et){var xe=et.font,gt=Ge.Unicode[xe.postScriptName];gt&&(xe.metadata.Unicode={},xe.metadata.Unicode.widths=gt.widths,xe.metadata.Unicode.kerning=gt.kerning);var At=Re.Unicode[xe.postScriptName];At&&(xe.metadata.Unicode.encoding=At,xe.encoding=At.codePages[0])}])})(ze.API),(function(I){var C=function(O){for(var Q=O.length,z=new Uint8Array(Q),X=0;X<Q;X++)z[X]=O.charCodeAt(X);return z};I.API.events.push(["addFont",function(O){var Q=void 0,z=O.font,X=O.instance;if(!z.isStandardFont){if(X===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+z.postScriptName+"').");if(typeof(Q=X.existsFileInVFS(z.postScriptName)===!1?X.loadFile(z.postScriptName):X.getFileFromVFS(z.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+z.postScriptName+"').");(function(fe,ie){ie=/^\x00\x01\x00\x00/.test(ie)?C(ie):C(L(ie)),fe.metadata=I.API.TTFFont.open(ie),fe.metadata.Unicode=fe.metadata.Unicode||{encoding:{},kerning:{},widths:[]},fe.metadata.glyIdsUsed=[0]})(z,Q)}}])})(ze),ze.API.addSvgAsImage=function(I,C,O,Q,z,X,fe,ie){if(isNaN(C)||isNaN(O))throw v.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(Q)||isNaN(z))throw v.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var ae=document.createElement("canvas");ae.width=Q,ae.height=z;var Se=ae.getContext("2d");Se.fillStyle="#fff",Se.fillRect(0,0,ae.width,ae.height);var Re={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},Ge=this;return(g.canvg?Promise.resolve(g.canvg):Promise.resolve().then(o.bind(o,"./node_modules/canvg/lib/index.es.js"))).catch(function(et){return Promise.reject(new Error("Could not load canvg: "+et))}).then(function(et){return et.default?et.default:et}).then(function(et){return et.fromString(Se,I,Re)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(et){return et.render(Re)}).then(function(){Ge.addImage(ae.toDataURL("image/jpeg",1),C,O,Q,z,fe,ie)})},ze.API.putTotalPages=function(I){var C,O=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(C=new RegExp(I,"g"),O=this.internal.getNumberOfPages()):(C=new RegExp(this.pdfEscape16(I,this.internal.getFont()),"g"),O=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var Q=1;Q<=this.internal.getNumberOfPages();Q++)for(var z=0;z<this.internal.pages[Q].length;z++)this.internal.pages[Q][z]=this.internal.pages[Q][z].replace(C,O);return this},ze.API.viewerPreferences=function(I,C){var O;I=I||{},C=C||!1;var Q,z,X,fe={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},ie=Object.keys(fe),ae=[],Se=0,Re=0,Ge=0;function et(gt,At){var yt,qe=!1;for(yt=0;yt<gt.length;yt+=1)gt[yt]===At&&(qe=!0);return qe}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(fe)),this.internal.viewerpreferences.isSubscribed=!1),O=this.internal.viewerpreferences.configuration,I==="reset"||C===!0){var xe=ie.length;for(Ge=0;Ge<xe;Ge+=1)O[ie[Ge]].value=O[ie[Ge]].defaultValue,O[ie[Ge]].explicitSet=!1}if((0,d.default)(I)==="object"){for(z in I)if(X=I[z],et(ie,z)&&X!==void 0){if(O[z].type==="boolean"&&typeof X=="boolean")O[z].value=X;else if(O[z].type==="name"&&et(O[z].valueSet,X))O[z].value=X;else if(O[z].type==="integer"&&Number.isInteger(X))O[z].value=X;else if(O[z].type==="array"){for(Se=0;Se<X.length;Se+=1)if(Q=!0,X[Se].length===1&&typeof X[Se][0]=="number")ae.push(String(X[Se]-1));else if(X[Se].length>1){for(Re=0;Re<X[Se].length;Re+=1)typeof X[Se][Re]!="number"&&(Q=!1);Q===!0&&ae.push([X[Se][0]-1,X[Se][1]-1].join(" "))}O[z].value="["+ae.join(" ")+"]"}else O[z].value=O[z].defaultValue;O[z].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var gt,At=[];for(gt in O)O[gt].explicitSet===!0&&(O[gt].type==="name"?At.push("/"+gt+" /"+O[gt].value):At.push("/"+gt+" "+O[gt].value));At.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+At.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=O,this},(function(I){var C=function(){var Q='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',z=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),X=unescape(encodeURIComponent(Q)),fe=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),ie=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),ae=unescape(encodeURIComponent("</x:xmpmeta>")),Se=X.length+fe.length+ie.length+z.length+ae.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+Se+" >>"),this.internal.write("stream"),this.internal.write(z+X+fe+ie+ae),this.internal.write("endstream"),this.internal.write("endobj")},O=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};I.addMetadata=function(Q,z){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:Q,namespaceuri:z||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",O),this.internal.events.subscribe("postPutResources",C)),this}})(ze.API),(function(I){var C=I.API,O=C.pdfEscape16=function(X,fe){for(var ie,ae=fe.metadata.Unicode.widths,Se=["","0","00","000","0000"],Re=[""],Ge=0,et=X.length;Ge<et;++Ge){if(ie=fe.metadata.characterToGlyph(X.charCodeAt(Ge)),fe.metadata.glyIdsUsed.push(ie),fe.metadata.toUnicode[ie]=X.charCodeAt(Ge),ae.indexOf(ie)==-1&&(ae.push(ie),ae.push([parseInt(fe.metadata.widthOfGlyph(ie),10)])),ie=="0")return Re.join("");ie=ie.toString(16),Re.push(Se[4-ie.length],ie)}return Re.join("")},Q=function(X){var fe,ie,ae,Se,Re,Ge,et;for(Re=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,ae=[],Ge=0,et=(ie=Object.keys(X).sort(function(xe,gt){return xe-gt})).length;Ge<et;Ge++)fe=ie[Ge],ae.length>=100&&(Re+=`
`+ae.length+` beginbfchar
`+ae.join(`
`)+`
endbfchar`,ae=[]),X[fe]!==void 0&&X[fe]!==null&&typeof X[fe].toString=="function"&&(Se=("0000"+X[fe].toString(16)).slice(-4),fe=("0000"+(+fe).toString(16)).slice(-4),ae.push("<"+fe+"><"+Se+">"));return ae.length&&(Re+=`
`+ae.length+` beginbfchar
`+ae.join(`
`)+`
endbfchar
`),Re+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};C.events.push(["putFont",function(X){(function(fe){var ie=fe.font,ae=fe.out,Se=fe.newObject,Re=fe.putStream;if(ie.metadata instanceof I.API.TTFFont&&ie.encoding==="Identity-H"){for(var Ge=ie.metadata.Unicode.widths,et=ie.metadata.subset.encode(ie.metadata.glyIdsUsed,1),xe="",gt=0;gt<et.length;gt++)xe+=String.fromCharCode(et[gt]);var At=Se();Re({data:xe,addLength1:!0,objectId:At}),ae("endobj");var yt=Se();Re({data:Q(ie.metadata.toUnicode),addLength1:!0,objectId:yt}),ae("endobj");var qe=Se();ae("<<"),ae("/Type /FontDescriptor"),ae("/FontName /"+Ue(ie.fontName)),ae("/FontFile2 "+At+" 0 R"),ae("/FontBBox "+I.API.PDFObject.convert(ie.metadata.bbox)),ae("/Flags "+ie.metadata.flags),ae("/StemV "+ie.metadata.stemV),ae("/ItalicAngle "+ie.metadata.italicAngle),ae("/Ascent "+ie.metadata.ascender),ae("/Descent "+ie.metadata.decender),ae("/CapHeight "+ie.metadata.capHeight),ae(">>"),ae("endobj");var jt=Se();ae("<<"),ae("/Type /Font"),ae("/BaseFont /"+Ue(ie.fontName)),ae("/FontDescriptor "+qe+" 0 R"),ae("/W "+I.API.PDFObject.convert(Ge)),ae("/CIDToGIDMap /Identity"),ae("/DW 1000"),ae("/Subtype /CIDFontType2"),ae("/CIDSystemInfo"),ae("<<"),ae("/Supplement 0"),ae("/Registry (Adobe)"),ae("/Ordering ("+ie.encoding+")"),ae(">>"),ae(">>"),ae("endobj"),ie.objectNumber=Se(),ae("<<"),ae("/Type /Font"),ae("/Subtype /Type0"),ae("/ToUnicode "+yt+" 0 R"),ae("/BaseFont /"+Ue(ie.fontName)),ae("/Encoding /"+ie.encoding),ae("/DescendantFonts ["+jt+" 0 R]"),ae(">>"),ae("endobj"),ie.isAlreadyPutted=!0}})(X)}]),C.events.push(["putFont",function(X){(function(fe){var ie=fe.font,ae=fe.out,Se=fe.newObject,Re=fe.putStream;if(ie.metadata instanceof I.API.TTFFont&&ie.encoding==="WinAnsiEncoding"){for(var Ge=ie.metadata.rawData,et="",xe=0;xe<Ge.length;xe++)et+=String.fromCharCode(Ge[xe]);var gt=Se();Re({data:et,addLength1:!0,objectId:gt}),ae("endobj");var At=Se();Re({data:Q(ie.metadata.toUnicode),addLength1:!0,objectId:At}),ae("endobj");var yt=Se();ae("<<"),ae("/Descent "+ie.metadata.decender),ae("/CapHeight "+ie.metadata.capHeight),ae("/StemV "+ie.metadata.stemV),ae("/Type /FontDescriptor"),ae("/FontFile2 "+gt+" 0 R"),ae("/Flags 96"),ae("/FontBBox "+I.API.PDFObject.convert(ie.metadata.bbox)),ae("/FontName /"+Ue(ie.fontName)),ae("/ItalicAngle "+ie.metadata.italicAngle),ae("/Ascent "+ie.metadata.ascender),ae(">>"),ae("endobj"),ie.objectNumber=Se();for(var qe=0;qe<ie.metadata.hmtx.widths.length;qe++)ie.metadata.hmtx.widths[qe]=parseInt(ie.metadata.hmtx.widths[qe]*(1e3/ie.metadata.head.unitsPerEm));ae("<</Subtype/TrueType/Type/Font/ToUnicode "+At+" 0 R/BaseFont/"+Ue(ie.fontName)+"/FontDescriptor "+yt+" 0 R/Encoding/"+ie.encoding+" /FirstChar 29 /LastChar 255 /Widths "+I.API.PDFObject.convert(ie.metadata.hmtx.widths)+">>"),ae("endobj"),ie.isAlreadyPutted=!0}})(X)}]);var z=function(X){var fe,ie=X.text||"",ae=X.x,Se=X.y,Re=X.options||{},Ge=X.mutex||{},et=Ge.pdfEscape,xe=Ge.activeFontKey,gt=Ge.fonts,At=xe,yt="",qe=0,jt="",Ht=gt[At].encoding;if(gt[At].encoding!=="Identity-H")return{text:ie,x:ae,y:Se,options:Re,mutex:Ge};for(jt=ie,At=xe,Array.isArray(ie)&&(jt=ie[0]),qe=0;qe<jt.length;qe+=1)gt[At].metadata.hasOwnProperty("cmap")&&(fe=gt[At].metadata.cmap.unicode.codeMap[jt[qe].charCodeAt(0)]),fe||jt[qe].charCodeAt(0)<256&&gt[At].metadata.hasOwnProperty("Unicode")?yt+=jt[qe]:yt+="";var St="";return parseInt(At.slice(1))<14||Ht==="WinAnsiEncoding"?St=et(yt,At).split("").map(function(Ye){return Ye.charCodeAt(0).toString(16)}).join(""):Ht==="Identity-H"&&(St=O(yt,gt[At])),Ge.isHex=!0,{text:St,x:ae,y:Se,options:Re,mutex:Ge}};C.events.push(["postProcessText",function(X){var fe=X.text||"",ie=[],ae={text:fe,x:X.x,y:X.y,options:X.options,mutex:X.mutex};if(Array.isArray(fe)){var Se=0;for(Se=0;Se<fe.length;Se+=1)Array.isArray(fe[Se])&&fe[Se].length===3?ie.push([z(Object.assign({},ae,{text:fe[Se][0]})).text,fe[Se][1],fe[Se][2]]):ie.push(z(Object.assign({},ae,{text:fe[Se]})).text);X.text=ie}else X.text=z(Object.assign({},ae,{text:fe})).text}])})(ze),(function(I){var C=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};I.existsFileInVFS=function(O){return C.call(this),this.internal.vFS[O]!==void 0},I.addFileToVFS=function(O,Q){return C.call(this),this.internal.vFS[O]=Q,this},I.getFileFromVFS=function(O){return C.call(this),this.internal.vFS[O]!==void 0?this.internal.vFS[O]:null}})(ze.API),(function(I){I.__bidiEngine__=I.prototype.__bidiEngine__=function(Q){var z,X,fe,ie,ae,Se,Re,Ge=C,et=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],xe=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],gt={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},At={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},yt=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],qe=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),jt=!1,Ht=0;this.__bidiEngine__={};var St=function(Xe){var lt=Xe.charCodeAt(),_t=lt>>8,Tt=At[_t];return Tt!==void 0?Ge[256*Tt+(255&lt)]:_t===252||_t===253?"AL":qe.test(_t)?"L":_t===8?"R":"N"},Ye=function(Xe){for(var lt,_t=0;_t<Xe.length;_t++){if((lt=St(Xe.charAt(_t)))==="L")return!1;if(lt==="R")return!0}return!1},Mt=function(Xe,lt,_t,Tt){var dr,pr,Er,Xt,vr=lt[Tt];switch(vr){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":jt=!1;break;case"N":case"AN":break;case"EN":jt&&(vr="AN");break;case"AL":jt=!0,vr="R";break;case"WS":case"BN":vr="N";break;case"CS":Tt<1||Tt+1>=lt.length||(dr=_t[Tt-1])!=="EN"&&dr!=="AN"||(pr=lt[Tt+1])!=="EN"&&pr!=="AN"?vr="N":jt&&(pr="AN"),vr=pr===dr?pr:"N";break;case"ES":vr=(dr=Tt>0?_t[Tt-1]:"B")==="EN"&&Tt+1<lt.length&&lt[Tt+1]==="EN"?"EN":"N";break;case"ET":if(Tt>0&&_t[Tt-1]==="EN"){vr="EN";break}if(jt){vr="N";break}for(Er=Tt+1,Xt=lt.length;Er<Xt&&lt[Er]==="ET";)Er++;vr=Er<Xt&&lt[Er]==="EN"?"EN":"N";break;case"NSM":if(fe&&!ie){for(Xt=lt.length,Er=Tt+1;Er<Xt&&lt[Er]==="NSM";)Er++;if(Er<Xt){var en=Xe[Tt],$r=en>=1425&&en<=2303||en===64286;if(dr=lt[Er],$r&&(dr==="R"||dr==="AL")){vr="R";break}}}vr=Tt<1||(dr=lt[Tt-1])==="B"?"N":_t[Tt-1];break;case"B":jt=!1,z=!0,vr=Ht;break;case"S":X=!0,vr="N"}return vr},Ar=function(Xe,lt,_t){var Tt=Xe.split("");return _t&&zt(Tt,_t,{hiLevel:Ht}),Tt.reverse(),lt&&lt.reverse(),Tt.join("")},zt=function(Xe,lt,_t){var Tt,dr,pr,Er,Xt,vr=-1,en=Xe.length,$r=0,Qe=[],vt=Ht?xe:et,bt=[];for(jt=!1,z=!1,X=!1,dr=0;dr<en;dr++)bt[dr]=St(Xe[dr]);for(pr=0;pr<en;pr++){if(Xt=$r,Qe[pr]=Mt(Xe,bt,Qe,pr),Tt=240&($r=vt[Xt][gt[Qe[pr]]]),$r&=15,lt[pr]=Er=vt[$r][5],Tt>0)if(Tt===16){for(dr=vr;dr<pr;dr++)lt[dr]=1;vr=-1}else vr=-1;if(vt[$r][6])vr===-1&&(vr=pr);else if(vr>-1){for(dr=vr;dr<pr;dr++)lt[dr]=Er;vr=-1}bt[pr]==="B"&&(lt[pr]=0),_t.hiLevel|=Er}X&&(function(Ft,Qt,nr){for(var xr=0;xr<nr;xr++)if(Ft[xr]==="S"){Qt[xr]=Ht;for(var br=xr-1;br>=0&&Ft[br]==="WS";br--)Qt[br]=Ht}})(bt,lt,en)},Ct=function(Xe,lt,_t,Tt,dr){if(!(dr.hiLevel<Xe)){if(Xe===1&&Ht===1&&!z)return lt.reverse(),void(_t&&_t.reverse());for(var pr,Er,Xt,vr,en=lt.length,$r=0;$r<en;){if(Tt[$r]>=Xe){for(Xt=$r+1;Xt<en&&Tt[Xt]>=Xe;)Xt++;for(vr=$r,Er=Xt-1;vr<Er;vr++,Er--)pr=lt[vr],lt[vr]=lt[Er],lt[Er]=pr,_t&&(pr=_t[vr],_t[vr]=_t[Er],_t[Er]=pr);$r=Xt}$r++}}},cr=function(Xe,lt,_t){var Tt=Xe.split(""),dr={hiLevel:Ht};return _t||(_t=[]),zt(Tt,_t,dr),(function(pr,Er,Xt){if(Xt.hiLevel!==0&&Re)for(var vr,en=0;en<pr.length;en++)Er[en]===1&&(vr=yt.indexOf(pr[en]))>=0&&(pr[en]=yt[vr+1])})(Tt,_t,dr),Ct(2,Tt,lt,_t,dr),Ct(1,Tt,lt,_t,dr),Tt.join("")};return this.__bidiEngine__.doBidiReorder=function(Xe,lt,_t){if((function(dr,pr){if(pr)for(var Er=0;Er<dr.length;Er++)pr[Er]=Er;ie===void 0&&(ie=Ye(dr)),Se===void 0&&(Se=Ye(dr))})(Xe,lt),fe||!ae||Se)if(fe&&ae&&ie^Se)Ht=ie?1:0,Xe=Ar(Xe,lt,_t);else if(!fe&&ae&&Se)Ht=ie?1:0,Xe=cr(Xe,lt,_t),Xe=Ar(Xe,lt);else if(!fe||ie||ae||Se){if(fe&&!ae&&ie^Se)Xe=Ar(Xe,lt),ie?(Ht=0,Xe=cr(Xe,lt,_t)):(Ht=1,Xe=cr(Xe,lt,_t),Xe=Ar(Xe,lt));else if(fe&&ie&&!ae&&Se)Ht=1,Xe=cr(Xe,lt,_t),Xe=Ar(Xe,lt);else if(!fe&&!ae&&ie^Se){var Tt=Re;ie?(Ht=1,Xe=cr(Xe,lt,_t),Ht=0,Re=!1,Xe=cr(Xe,lt,_t),Re=Tt):(Ht=0,Xe=cr(Xe,lt,_t),Xe=Ar(Xe,lt),Ht=1,Re=!1,Xe=cr(Xe,lt,_t),Re=Tt,Xe=Ar(Xe,lt))}}else Ht=0,Xe=cr(Xe,lt,_t);else Ht=ie?1:0,Xe=cr(Xe,lt,_t);return Xe},this.__bidiEngine__.setOptions=function(Xe){Xe&&(fe=Xe.isInputVisual,ae=Xe.isOutputVisual,ie=Xe.isInputRtl,Se=Xe.isOutputRtl,Re=Xe.isSymmetricSwapping)},this.__bidiEngine__.setOptions(Q),this.__bidiEngine__};var C=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],O=new I.__bidiEngine__({isInputVisual:!0});I.API.events.push(["postProcessText",function(Q){var z=Q.text;Q.x,Q.y;var X=Q.options||{};Q.mutex,X.lang;var fe=[];if(X.isInputVisual=typeof X.isInputVisual!="boolean"||X.isInputVisual,O.setOptions(X),Object.prototype.toString.call(z)==="[object Array]"){var ie=0;for(fe=[],ie=0;ie<z.length;ie+=1)Object.prototype.toString.call(z[ie])==="[object Array]"?fe.push([O.doBidiReorder(z[ie][0]),z[ie][1],z[ie][2]]):fe.push([O.doBidiReorder(z[ie])]);Q.text=fe}else Q.text=O.doBidiReorder(z);O.setOptions({isInputVisual:!0})}])})(ze),ze.API.TTFFont=(function(){function I(C){var O;if(this.rawData=C,O=this.contents=new ha(C),this.contents.pos=4,O.readString(4)==="ttcf")throw new Error("TTCF not supported.");O.pos=0,this.parse(),this.subset=new tt(this),this.registerTTF()}return I.open=function(C){return new I(C)},I.prototype.parse=function(){return this.directory=new Wa(this.contents),this.head=new Vs(this),this.name=new Z(this),this.cmap=new tl(this),this.toUnicode={},this.hhea=new ho(this),this.maxp=new te(this),this.hmtx=new P(this),this.post=new Rt(this),this.os2=new ll(this),this.loca=new Me(this),this.glyf=new q(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},I.prototype.registerTTF=function(){var C,O,Q,z,X;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var fe,ie,ae,Se;for(Se=[],fe=0,ie=(ae=this.bbox).length;fe<ie;fe++)C=ae[fe],Se.push(Math.round(C*this.scaleFactor));return Se}).call(this),this.stemV=0,this.post.exists?(Q=255&(z=this.post.italic_angle),32768&(O=z>>16)&&(O=-(1+(65535^O))),this.italicAngle=+(O+"."+Q)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(X=this.familyClass)===1||X===2||X===3||X===4||X===5||X===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},I.prototype.characterToGlyph=function(C){var O;return((O=this.cmap.unicode)!=null?O.codeMap[C]:void 0)||0},I.prototype.widthOfGlyph=function(C){var O;return O=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(C).advance*O},I.prototype.widthOfString=function(C,O,Q){var z,X,fe,ie;for(fe=0,X=0,ie=(C=""+C).length;0<=ie?X<ie:X>ie;X=0<=ie?++X:--X)z=C.charCodeAt(X),fe+=this.widthOfGlyph(this.characterToGlyph(z))+Q*(1e3/O)||0;return fe*(O/1e3)},I.prototype.lineHeight=function(C,O){var Q;return O==null&&(O=!1),Q=O?this.lineGap:0,(this.ascender+Q-this.decender)/1e3*C},I})();var wa,ha=(function(){function I(C){this.data=C??[],this.pos=0,this.length=this.data.length}return I.prototype.readByte=function(){return this.data[this.pos++]},I.prototype.writeByte=function(C){return this.data[this.pos++]=C},I.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},I.prototype.writeUInt32=function(C){return this.writeByte(C>>>24&255),this.writeByte(C>>16&255),this.writeByte(C>>8&255),this.writeByte(255&C)},I.prototype.readInt32=function(){var C;return(C=this.readUInt32())>=2147483648?C-4294967296:C},I.prototype.writeInt32=function(C){return C<0&&(C+=4294967296),this.writeUInt32(C)},I.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},I.prototype.writeUInt16=function(C){return this.writeByte(C>>8&255),this.writeByte(255&C)},I.prototype.readInt16=function(){var C;return(C=this.readUInt16())>=32768?C-65536:C},I.prototype.writeInt16=function(C){return C<0&&(C+=65536),this.writeUInt16(C)},I.prototype.readString=function(C){var O,Q;for(Q=[],O=0;0<=C?O<C:O>C;O=0<=C?++O:--O)Q[O]=String.fromCharCode(this.readByte());return Q.join("")},I.prototype.writeString=function(C){var O,Q,z;for(z=[],O=0,Q=C.length;0<=Q?O<Q:O>Q;O=0<=Q?++O:--O)z.push(this.writeByte(C.charCodeAt(O)));return z},I.prototype.readShort=function(){return this.readInt16()},I.prototype.writeShort=function(C){return this.writeInt16(C)},I.prototype.readLongLong=function(){var C,O,Q,z,X,fe,ie,ae;return C=this.readByte(),O=this.readByte(),Q=this.readByte(),z=this.readByte(),X=this.readByte(),fe=this.readByte(),ie=this.readByte(),ae=this.readByte(),128&C?-1*(72057594037927940*(255^C)+281474976710656*(255^O)+1099511627776*(255^Q)+4294967296*(255^z)+16777216*(255^X)+65536*(255^fe)+256*(255^ie)+(255^ae)+1):72057594037927940*C+281474976710656*O+1099511627776*Q+4294967296*z+16777216*X+65536*fe+256*ie+ae},I.prototype.writeLongLong=function(C){var O,Q;return O=Math.floor(C/4294967296),Q=4294967295&C,this.writeByte(O>>24&255),this.writeByte(O>>16&255),this.writeByte(O>>8&255),this.writeByte(255&O),this.writeByte(Q>>24&255),this.writeByte(Q>>16&255),this.writeByte(Q>>8&255),this.writeByte(255&Q)},I.prototype.readInt=function(){return this.readInt32()},I.prototype.writeInt=function(C){return this.writeInt32(C)},I.prototype.read=function(C){var O,Q;for(O=[],Q=0;0<=C?Q<C:Q>C;Q=0<=C?++Q:--Q)O.push(this.readByte());return O},I.prototype.write=function(C){var O,Q,z,X;for(X=[],Q=0,z=C.length;Q<z;Q++)O=C[Q],X.push(this.writeByte(O));return X},I})(),Wa=(function(){var I;function C(O){var Q,z,X;for(this.scalarType=O.readInt(),this.tableCount=O.readShort(),this.searchRange=O.readShort(),this.entrySelector=O.readShort(),this.rangeShift=O.readShort(),this.tables={},z=0,X=this.tableCount;0<=X?z<X:z>X;z=0<=X?++z:--z)Q={tag:O.readString(4),checksum:O.readInt(),offset:O.readInt(),length:O.readInt()},this.tables[Q.tag]=Q}return C.prototype.encode=function(O){var Q,z,X,fe,ie,ae,Se,Re,Ge,et,xe,gt,At;for(At in xe=Object.keys(O).length,ae=Math.log(2),Ge=16*Math.floor(Math.log(xe)/ae),fe=Math.floor(Ge/ae),Re=16*xe-Ge,(z=new ha).writeInt(this.scalarType),z.writeShort(xe),z.writeShort(Ge),z.writeShort(fe),z.writeShort(Re),X=16*xe,Se=z.pos+X,ie=null,gt=[],O)for(et=O[At],z.writeString(At),z.writeInt(I(et)),z.writeInt(Se),z.writeInt(et.length),gt=gt.concat(et),At==="head"&&(ie=Se),Se+=et.length;Se%4;)gt.push(0),Se++;return z.write(gt),Q=2981146554-I(z.data),z.pos=ie+8,z.writeUInt32(Q),z.data},I=function(O){var Q,z,X,fe;for(O=$.call(O);O.length%4;)O.push(0);for(X=new ha(O),z=0,Q=0,fe=O.length;Q<fe;Q=Q+=4)z+=X.readUInt32();return 4294967295&z},C})(),Ll={}.hasOwnProperty,uo=function(I,C){for(var O in C)Ll.call(C,O)&&(I[O]=C[O]);function Q(){this.constructor=I}return Q.prototype=C.prototype,I.prototype=new Q,I.__super__=C.prototype,I};wa=(function(){function I(C){var O;this.file=C,O=this.file.directory.tables[this.tag],this.exists=!!O,O&&(this.offset=O.offset,this.length=O.length,this.parse(this.file.contents))}return I.prototype.parse=function(){},I.prototype.encode=function(){},I.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},I})();var Vs=(function(){function I(){return I.__super__.constructor.apply(this,arguments)}return uo(I,wa),I.prototype.tag="head",I.prototype.parse=function(C){return C.pos=this.offset,this.version=C.readInt(),this.revision=C.readInt(),this.checkSumAdjustment=C.readInt(),this.magicNumber=C.readInt(),this.flags=C.readShort(),this.unitsPerEm=C.readShort(),this.created=C.readLongLong(),this.modified=C.readLongLong(),this.xMin=C.readShort(),this.yMin=C.readShort(),this.xMax=C.readShort(),this.yMax=C.readShort(),this.macStyle=C.readShort(),this.lowestRecPPEM=C.readShort(),this.fontDirectionHint=C.readShort(),this.indexToLocFormat=C.readShort(),this.glyphDataFormat=C.readShort()},I.prototype.encode=function(C){var O;return(O=new ha).writeInt(this.version),O.writeInt(this.revision),O.writeInt(this.checkSumAdjustment),O.writeInt(this.magicNumber),O.writeShort(this.flags),O.writeShort(this.unitsPerEm),O.writeLongLong(this.created),O.writeLongLong(this.modified),O.writeShort(this.xMin),O.writeShort(this.yMin),O.writeShort(this.xMax),O.writeShort(this.yMax),O.writeShort(this.macStyle),O.writeShort(this.lowestRecPPEM),O.writeShort(this.fontDirectionHint),O.writeShort(C),O.writeShort(this.glyphDataFormat),O.data},I})(),Ya=(function(){function I(C,O){var Q,z,X,fe,ie,ae,Se,Re,Ge,et,xe,gt,At,yt,qe,jt,Ht;switch(this.platformID=C.readUInt16(),this.encodingID=C.readShort(),this.offset=O+C.readInt(),Ge=C.pos,C.pos=this.offset,this.format=C.readUInt16(),this.length=C.readUInt16(),this.language=C.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(ae=0;ae<256;++ae)this.codeMap[ae]=C.readByte();break;case 4:for(xe=C.readUInt16(),et=xe/2,C.pos+=6,X=(function(){var St,Ye;for(Ye=[],ae=St=0;0<=et?St<et:St>et;ae=0<=et?++St:--St)Ye.push(C.readUInt16());return Ye})(),C.pos+=2,At=(function(){var St,Ye;for(Ye=[],ae=St=0;0<=et?St<et:St>et;ae=0<=et?++St:--St)Ye.push(C.readUInt16());return Ye})(),Se=(function(){var St,Ye;for(Ye=[],ae=St=0;0<=et?St<et:St>et;ae=0<=et?++St:--St)Ye.push(C.readUInt16());return Ye})(),Re=(function(){var St,Ye;for(Ye=[],ae=St=0;0<=et?St<et:St>et;ae=0<=et?++St:--St)Ye.push(C.readUInt16());return Ye})(),z=(this.length-C.pos+this.offset)/2,ie=(function(){var St,Ye;for(Ye=[],ae=St=0;0<=z?St<z:St>z;ae=0<=z?++St:--St)Ye.push(C.readUInt16());return Ye})(),ae=qe=0,Ht=X.length;qe<Ht;ae=++qe)for(yt=X[ae],Q=jt=gt=At[ae];gt<=yt?jt<=yt:jt>=yt;Q=gt<=yt?++jt:--jt)Re[ae]===0?fe=Q+Se[ae]:(fe=ie[Re[ae]/2+(Q-gt)-(et-ae)]||0)!==0&&(fe+=Se[ae]),this.codeMap[Q]=65535&fe}C.pos=Ge}return I.encode=function(C,O){var Q,z,X,fe,ie,ae,Se,Re,Ge,et,xe,gt,At,yt,qe,jt,Ht,St,Ye,Mt,Ar,zt,Ct,cr,Xe,lt,_t,Tt,dr,pr,Er,Xt,vr,en,$r,Qe,vt,bt,Ft,Qt,nr,xr,br,Lr,tn,En;switch(Tt=new ha,fe=Object.keys(C).sort(function(wn,ui){return wn-ui}),O){case"macroman":for(At=0,yt=(function(){var wn=[];for(gt=0;gt<256;++gt)wn.push(0);return wn})(),jt={0:0},X={},dr=0,vr=fe.length;dr<vr;dr++)jt[br=C[z=fe[dr]]]==null&&(jt[br]=++At),X[z]={old:C[z],new:jt[C[z]]},yt[z]=jt[C[z]];return Tt.writeUInt16(1),Tt.writeUInt16(0),Tt.writeUInt32(12),Tt.writeUInt16(0),Tt.writeUInt16(262),Tt.writeUInt16(0),Tt.write(yt),{charMap:X,subtable:Tt.data,maxGlyphID:At+1};case"unicode":for(lt=[],Ge=[],Ht=0,jt={},Q={},qe=Se=null,pr=0,en=fe.length;pr<en;pr++)jt[Ye=C[z=fe[pr]]]==null&&(jt[Ye]=++Ht),Q[z]={old:Ye,new:jt[Ye]},ie=jt[Ye]-z,qe!=null&&ie===Se||(qe&&Ge.push(qe),lt.push(z),Se=ie),qe=z;for(qe&&Ge.push(qe),Ge.push(65535),lt.push(65535),cr=2*(Ct=lt.length),zt=2*Math.pow(Math.log(Ct)/Math.LN2,2),et=Math.log(zt/2)/Math.LN2,Ar=2*Ct-zt,ae=[],Mt=[],xe=[],gt=Er=0,$r=lt.length;Er<$r;gt=++Er){if(Xe=lt[gt],Re=Ge[gt],Xe===65535){ae.push(0),Mt.push(0);break}if(Xe-(_t=Q[Xe].new)>=32768)for(ae.push(0),Mt.push(2*(xe.length+Ct-gt)),z=Xt=Xe;Xe<=Re?Xt<=Re:Xt>=Re;z=Xe<=Re?++Xt:--Xt)xe.push(Q[z].new);else ae.push(_t-Xe),Mt.push(0)}for(Tt.writeUInt16(3),Tt.writeUInt16(1),Tt.writeUInt32(12),Tt.writeUInt16(4),Tt.writeUInt16(16+8*Ct+2*xe.length),Tt.writeUInt16(0),Tt.writeUInt16(cr),Tt.writeUInt16(zt),Tt.writeUInt16(et),Tt.writeUInt16(Ar),nr=0,Qe=Ge.length;nr<Qe;nr++)z=Ge[nr],Tt.writeUInt16(z);for(Tt.writeUInt16(0),xr=0,vt=lt.length;xr<vt;xr++)z=lt[xr],Tt.writeUInt16(z);for(Lr=0,bt=ae.length;Lr<bt;Lr++)ie=ae[Lr],Tt.writeUInt16(ie);for(tn=0,Ft=Mt.length;tn<Ft;tn++)St=Mt[tn],Tt.writeUInt16(St);for(En=0,Qt=xe.length;En<Qt;En++)At=xe[En],Tt.writeUInt16(At);return{charMap:Q,subtable:Tt.data,maxGlyphID:Ht+1}}},I})(),tl=(function(){function I(){return I.__super__.constructor.apply(this,arguments)}return uo(I,wa),I.prototype.tag="cmap",I.prototype.parse=function(C){var O,Q,z;for(C.pos=this.offset,this.version=C.readUInt16(),z=C.readUInt16(),this.tables=[],this.unicode=null,Q=0;0<=z?Q<z:Q>z;Q=0<=z?++Q:--Q)O=new Ya(C,this.offset),this.tables.push(O),O.isUnicode&&this.unicode==null&&(this.unicode=O);return!0},I.encode=function(C,O){var Q,z;return O==null&&(O="macroman"),Q=Ya.encode(C,O),(z=new ha).writeUInt16(0),z.writeUInt16(1),Q.table=z.data.concat(Q.subtable),Q},I})(),ho=(function(){function I(){return I.__super__.constructor.apply(this,arguments)}return uo(I,wa),I.prototype.tag="hhea",I.prototype.parse=function(C){return C.pos=this.offset,this.version=C.readInt(),this.ascender=C.readShort(),this.decender=C.readShort(),this.lineGap=C.readShort(),this.advanceWidthMax=C.readShort(),this.minLeftSideBearing=C.readShort(),this.minRightSideBearing=C.readShort(),this.xMaxExtent=C.readShort(),this.caretSlopeRise=C.readShort(),this.caretSlopeRun=C.readShort(),this.caretOffset=C.readShort(),C.pos+=8,this.metricDataFormat=C.readShort(),this.numberOfMetrics=C.readUInt16()},I})(),ll=(function(){function I(){return I.__super__.constructor.apply(this,arguments)}return uo(I,wa),I.prototype.tag="OS/2",I.prototype.parse=function(C){if(C.pos=this.offset,this.version=C.readUInt16(),this.averageCharWidth=C.readShort(),this.weightClass=C.readUInt16(),this.widthClass=C.readUInt16(),this.type=C.readShort(),this.ySubscriptXSize=C.readShort(),this.ySubscriptYSize=C.readShort(),this.ySubscriptXOffset=C.readShort(),this.ySubscriptYOffset=C.readShort(),this.ySuperscriptXSize=C.readShort(),this.ySuperscriptYSize=C.readShort(),this.ySuperscriptXOffset=C.readShort(),this.ySuperscriptYOffset=C.readShort(),this.yStrikeoutSize=C.readShort(),this.yStrikeoutPosition=C.readShort(),this.familyClass=C.readShort(),this.panose=(function(){var O,Q;for(Q=[],O=0;O<10;++O)Q.push(C.readByte());return Q})(),this.charRange=(function(){var O,Q;for(Q=[],O=0;O<4;++O)Q.push(C.readInt());return Q})(),this.vendorID=C.readString(4),this.selection=C.readShort(),this.firstCharIndex=C.readShort(),this.lastCharIndex=C.readShort(),this.version>0&&(this.ascent=C.readShort(),this.descent=C.readShort(),this.lineGap=C.readShort(),this.winAscent=C.readShort(),this.winDescent=C.readShort(),this.codePageRange=(function(){var O,Q;for(Q=[],O=0;O<2;O=++O)Q.push(C.readInt());return Q})(),this.version>1))return this.xHeight=C.readShort(),this.capHeight=C.readShort(),this.defaultChar=C.readShort(),this.breakChar=C.readShort(),this.maxContext=C.readShort()},I})(),Rt=(function(){function I(){return I.__super__.constructor.apply(this,arguments)}return uo(I,wa),I.prototype.tag="post",I.prototype.parse=function(C){var O,Q,z;switch(C.pos=this.offset,this.format=C.readInt(),this.italicAngle=C.readInt(),this.underlinePosition=C.readShort(),this.underlineThickness=C.readShort(),this.isFixedPitch=C.readInt(),this.minMemType42=C.readInt(),this.maxMemType42=C.readInt(),this.minMemType1=C.readInt(),this.maxMemType1=C.readInt(),this.format){case 65536:case 196608:break;case 131072:var X;for(Q=C.readUInt16(),this.glyphNameIndex=[],X=0;0<=Q?X<Q:X>Q;X=0<=Q?++X:--X)this.glyphNameIndex.push(C.readUInt16());for(this.names=[],z=[];C.pos<this.offset+this.length;)O=C.readByte(),z.push(this.names.push(C.readString(O)));return z;case 151552:return Q=C.readUInt16(),this.offsets=C.read(Q);case 262144:return this.map=(function(){var fe,ie,ae;for(ae=[],X=fe=0,ie=this.file.maxp.numGlyphs;0<=ie?fe<ie:fe>ie;X=0<=ie?++fe:--fe)ae.push(C.readUInt32());return ae}).call(this)}},I})(),U=function(I,C){this.raw=I,this.length=I.length,this.platformID=C.platformID,this.encodingID=C.encodingID,this.languageID=C.languageID},Z=(function(){function I(){return I.__super__.constructor.apply(this,arguments)}return uo(I,wa),I.prototype.tag="name",I.prototype.parse=function(C){var O,Q,z,X,fe,ie,ae,Se,Re,Ge,et;for(C.pos=this.offset,C.readShort(),O=C.readShort(),ie=C.readShort(),Q=[],X=0;0<=O?X<O:X>O;X=0<=O?++X:--X)Q.push({platformID:C.readShort(),encodingID:C.readShort(),languageID:C.readShort(),nameID:C.readShort(),length:C.readShort(),offset:this.offset+ie+C.readShort()});for(ae={},X=Re=0,Ge=Q.length;Re<Ge;X=++Re)z=Q[X],C.pos=z.offset,Se=C.readString(z.length),fe=new U(Se,z),ae[et=z.nameID]==null&&(ae[et]=[]),ae[z.nameID].push(fe);this.strings=ae,this.copyright=ae[0],this.fontFamily=ae[1],this.fontSubfamily=ae[2],this.uniqueSubfamily=ae[3],this.fontName=ae[4],this.version=ae[5];try{this.postscriptName=ae[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=ae[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=ae[7],this.manufacturer=ae[8],this.designer=ae[9],this.description=ae[10],this.vendorUrl=ae[11],this.designerUrl=ae[12],this.license=ae[13],this.licenseUrl=ae[14],this.preferredFamily=ae[15],this.preferredSubfamily=ae[17],this.compatibleFull=ae[18],this.sampleText=ae[19]},I})(),te=(function(){function I(){return I.__super__.constructor.apply(this,arguments)}return uo(I,wa),I.prototype.tag="maxp",I.prototype.parse=function(C){return C.pos=this.offset,this.version=C.readInt(),this.numGlyphs=C.readUInt16(),this.maxPoints=C.readUInt16(),this.maxContours=C.readUInt16(),this.maxCompositePoints=C.readUInt16(),this.maxComponentContours=C.readUInt16(),this.maxZones=C.readUInt16(),this.maxTwilightPoints=C.readUInt16(),this.maxStorage=C.readUInt16(),this.maxFunctionDefs=C.readUInt16(),this.maxInstructionDefs=C.readUInt16(),this.maxStackElements=C.readUInt16(),this.maxSizeOfInstructions=C.readUInt16(),this.maxComponentElements=C.readUInt16(),this.maxComponentDepth=C.readUInt16()},I})(),P=(function(){function I(){return I.__super__.constructor.apply(this,arguments)}return uo(I,wa),I.prototype.tag="hmtx",I.prototype.parse=function(C){var O,Q,z,X,fe,ie,ae;for(C.pos=this.offset,this.metrics=[],O=0,ie=this.file.hhea.numberOfMetrics;0<=ie?O<ie:O>ie;O=0<=ie?++O:--O)this.metrics.push({advance:C.readUInt16(),lsb:C.readInt16()});for(z=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var Se,Re;for(Re=[],O=Se=0;0<=z?Se<z:Se>z;O=0<=z?++Se:--Se)Re.push(C.readInt16());return Re})(),this.widths=(function(){var Se,Re,Ge,et;for(et=[],Se=0,Re=(Ge=this.metrics).length;Se<Re;Se++)X=Ge[Se],et.push(X.advance);return et}).call(this),Q=this.widths[this.widths.length-1],ae=[],O=fe=0;0<=z?fe<z:fe>z;O=0<=z?++fe:--fe)ae.push(this.widths.push(Q));return ae},I.prototype.forGlyph=function(C){return C in this.metrics?this.metrics[C]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[C-this.metrics.length]}},I})(),$=[].slice,q=(function(){function I(){return I.__super__.constructor.apply(this,arguments)}return uo(I,wa),I.prototype.tag="glyf",I.prototype.parse=function(){return this.cache={}},I.prototype.glyphFor=function(C){var O,Q,z,X,fe,ie,ae,Se,Re,Ge;return C in this.cache?this.cache[C]:(X=this.file.loca,O=this.file.contents,Q=X.indexOf(C),(z=X.lengthOf(C))===0?this.cache[C]=null:(O.pos=this.offset+Q,fe=(ie=new ha(O.read(z))).readShort(),Se=ie.readShort(),Ge=ie.readShort(),ae=ie.readShort(),Re=ie.readShort(),this.cache[C]=fe===-1?new we(ie,Se,Ge,ae,Re):new de(ie,fe,Se,Ge,ae,Re),this.cache[C]))},I.prototype.encode=function(C,O,Q){var z,X,fe,ie,ae;for(fe=[],X=[],ie=0,ae=O.length;ie<ae;ie++)z=C[O[ie]],X.push(fe.length),z&&(fe=fe.concat(z.encode(Q)));return X.push(fe.length),{table:fe,offsets:X}},I})(),de=(function(){function I(C,O,Q,z,X,fe){this.raw=C,this.numberOfContours=O,this.xMin=Q,this.yMin=z,this.xMax=X,this.yMax=fe,this.compound=!1}return I.prototype.encode=function(){return this.raw.data},I})(),we=(function(){function I(C,O,Q,z,X){var fe,ie;for(this.raw=C,this.xMin=O,this.yMin=Q,this.xMax=z,this.yMax=X,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],fe=this.raw;ie=fe.readShort(),this.glyphOffsets.push(fe.pos),this.glyphIDs.push(fe.readUInt16()),32&ie;)fe.pos+=1&ie?4:2,128&ie?fe.pos+=8:64&ie?fe.pos+=4:8&ie&&(fe.pos+=2)}return I.prototype.encode=function(){var C,O,Q;for(O=new ha($.call(this.raw.data)),C=0,Q=this.glyphIDs.length;C<Q;++C)O.pos=this.glyphOffsets[C];return O.data},I})(),Me=(function(){function I(){return I.__super__.constructor.apply(this,arguments)}return uo(I,wa),I.prototype.tag="loca",I.prototype.parse=function(C){var O,Q;return C.pos=this.offset,O=this.file.head.indexToLocFormat,this.offsets=O===0?(function(){var z,X;for(X=[],Q=0,z=this.length;Q<z;Q+=2)X.push(2*C.readUInt16());return X}).call(this):(function(){var z,X;for(X=[],Q=0,z=this.length;Q<z;Q+=4)X.push(C.readUInt32());return X}).call(this)},I.prototype.indexOf=function(C){return this.offsets[C]},I.prototype.lengthOf=function(C){return this.offsets[C+1]-this.offsets[C]},I.prototype.encode=function(C,O){for(var Q=new Uint32Array(this.offsets.length),z=0,X=0,fe=0;fe<Q.length;++fe)if(Q[fe]=z,X<O.length&&O[X]==fe){++X,Q[fe]=z;var ie=this.offsets[fe],ae=this.offsets[fe+1]-ie;ae>0&&(z+=ae)}for(var Se=new Array(4*Q.length),Re=0;Re<Q.length;++Re)Se[4*Re+3]=255&Q[Re],Se[4*Re+2]=(65280&Q[Re])>>8,Se[4*Re+1]=(16711680&Q[Re])>>16,Se[4*Re]=(4278190080&Q[Re])>>24;return Se},I})(),tt=(function(){function I(C){this.font=C,this.subset={},this.unicodes={},this.next=33}return I.prototype.generateCmap=function(){var C,O,Q,z,X;for(O in z=this.font.cmap.tables[0].codeMap,C={},X=this.subset)Q=X[O],C[O]=z[Q];return C},I.prototype.glyphsFor=function(C){var O,Q,z,X,fe,ie,ae;for(z={},fe=0,ie=C.length;fe<ie;fe++)z[X=C[fe]]=this.font.glyf.glyphFor(X);for(X in O=[],z)(Q=z[X])!=null&&Q.compound&&O.push.apply(O,Q.glyphIDs);if(O.length>0)for(X in ae=this.glyphsFor(O))Q=ae[X],z[X]=Q;return z},I.prototype.encode=function(C,O){var Q,z,X,fe,ie,ae,Se,Re,Ge,et,xe,gt,At,yt,qe;for(z in Q=tl.encode(this.generateCmap(),"unicode"),fe=this.glyphsFor(C),xe={0:0},qe=Q.charMap)xe[(ae=qe[z]).old]=ae.new;for(gt in et=Q.maxGlyphID,fe)gt in xe||(xe[gt]=et++);return Re=(function(jt){var Ht,St;for(Ht in St={},jt)St[jt[Ht]]=Ht;return St})(xe),Ge=Object.keys(Re).sort(function(jt,Ht){return jt-Ht}),At=(function(){var jt,Ht,St;for(St=[],jt=0,Ht=Ge.length;jt<Ht;jt++)ie=Ge[jt],St.push(Re[ie]);return St})(),X=this.font.glyf.encode(fe,At,xe),Se=this.font.loca.encode(X.offsets,At),yt={cmap:this.font.cmap.raw(),glyf:X.table,loca:Se,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(O)},this.font.os2.exists&&(yt["OS/2"]=this.font.os2.raw()),this.font.directory.encode(yt)},I})();ze.API.PDFObject=(function(){var I;function C(){}return I=function(O,Q){return(Array(Q+1).join("0")+O).slice(-Q)},C.convert=function(O){var Q,z,X,fe;if(Array.isArray(O))return"["+(function(){var ie,ae,Se;for(Se=[],ie=0,ae=O.length;ie<ae;ie++)Q=O[ie],Se.push(C.convert(Q));return Se})().join(" ")+"]";if(typeof O=="string")return"/"+O;if(O?.isString)return"("+O+")";if(O instanceof Date)return"(D:"+I(O.getUTCFullYear(),4)+I(O.getUTCMonth(),2)+I(O.getUTCDate(),2)+I(O.getUTCHours(),2)+I(O.getUTCMinutes(),2)+I(O.getUTCSeconds(),2)+"Z)";if({}.toString.call(O)==="[object Object]"){for(z in X=["<<"],O)fe=O[z],X.push("/"+z+" "+C.convert(fe));return X.push(">>"),X.join(`
`)}return""+O},C})()}),"./node_modules/pako/dist/pako.esm.mjs":(function(c,u,o){o.r(u),o.d(u,{Deflate:function(){return Dr},Inflate:function(){return Di},constants:function(){return Js},default:function(){return fo},deflate:function(){return Rn},deflateRaw:function(){return On},gzip:function(){return Ni},inflate:function(){return js},inflateRaw:function(){return oa},ungzip:function(){return Ja}});const d=4,f=0,A=1,p=2;function g(k){let Te=k.length;for(;--Te>=0;)k[Te]=0}const y=0,v=1,b=2,w=3,S=258,_=29,T=256,L=T+1+_,D=30,V=19,G=2*L+1,J=15,ee=16,ue=7,pe=256,ge=16,he=17,ne=18,Ae=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),oe=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Be=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),ke=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ve=512,se=new Array((L+2)*2);g(se);const me=new Array(D*2);g(me);const je=new Array(ve);g(je);const Ue=new Array(S-w+1);g(Ue);const De=new Array(_);g(De);const ot=new Array(D);g(ot);function ft(k,Te,Y,He,mt){this.static_tree=k,this.extra_bits=Te,this.extra_base=Y,this.elems=He,this.max_length=mt,this.has_stree=k&&k.length}let Ce,Ze,ze;function $e(k,Te){this.dyn_tree=k,this.max_code=0,this.stat_desc=Te}const ct=k=>k<256?je[k]:je[256+(k>>>7)],Fe=(k,Te)=>{k.pending_buf[k.pending++]=Te&255,k.pending_buf[k.pending++]=Te>>>8&255},xt=(k,Te,Y)=>{k.bi_valid>ee-Y?(k.bi_buf|=Te<<k.bi_valid&65535,Fe(k,k.bi_buf),k.bi_buf=Te>>ee-k.bi_valid,k.bi_valid+=Y-ee):(k.bi_buf|=Te<<k.bi_valid&65535,k.bi_valid+=Y)},pt=(k,Te,Y)=>{xt(k,Y[Te*2],Y[Te*2+1])},Bt=(k,Te)=>{let Y=0;do Y|=k&1,k>>>=1,Y<<=1;while(--Te>0);return Y>>>1},qt=k=>{k.bi_valid===16?(Fe(k,k.bi_buf),k.bi_buf=0,k.bi_valid=0):k.bi_valid>=8&&(k.pending_buf[k.pending++]=k.bi_buf&255,k.bi_buf>>=8,k.bi_valid-=8)},Yr=(k,Te)=>{const Y=Te.dyn_tree,He=Te.max_code,mt=Te.stat_desc.static_tree,ht=Te.stat_desc.has_stree,ir=Te.stat_desc.extra_bits,Ot=Te.stat_desc.extra_base,xn=Te.stat_desc.max_length;let Nt,sr,Ii,cn,Fr,wr,la=0;for(cn=0;cn<=J;cn++)k.bl_count[cn]=0;for(Y[k.heap[k.heap_max]*2+1]=0,Nt=k.heap_max+1;Nt<G;Nt++)sr=k.heap[Nt],cn=Y[Y[sr*2+1]*2+1]+1,cn>xn&&(cn=xn,la++),Y[sr*2+1]=cn,!(sr>He)&&(k.bl_count[cn]++,Fr=0,sr>=Ot&&(Fr=ir[sr-Ot]),wr=Y[sr*2],k.opt_len+=wr*(cn+Fr),ht&&(k.static_len+=wr*(mt[sr*2+1]+Fr)));if(la!==0){do{for(cn=xn-1;k.bl_count[cn]===0;)cn--;k.bl_count[cn]--,k.bl_count[cn+1]+=2,k.bl_count[xn]--,la-=2}while(la>0);for(cn=xn;cn!==0;cn--)for(sr=k.bl_count[cn];sr!==0;)Ii=k.heap[--Nt],!(Ii>He)&&(Y[Ii*2+1]!==cn&&(k.opt_len+=(cn-Y[Ii*2+1])*Y[Ii*2],Y[Ii*2+1]=cn),sr--)}},yr=(k,Te,Y)=>{const He=new Array(J+1);let mt=0,ht,ir;for(ht=1;ht<=J;ht++)mt=mt+Y[ht-1]<<1,He[ht]=mt;for(ir=0;ir<=Te;ir++){let Ot=k[ir*2+1];Ot!==0&&(k[ir*2]=Bt(He[Ot]++,Ot))}},Wr=()=>{let k,Te,Y,He,mt;const ht=new Array(J+1);for(Y=0,He=0;He<_-1;He++)for(De[He]=Y,k=0;k<1<<Ae[He];k++)Ue[Y++]=He;for(Ue[Y-1]=He,mt=0,He=0;He<16;He++)for(ot[He]=mt,k=0;k<1<<oe[He];k++)je[mt++]=He;for(mt>>=7;He<D;He++)for(ot[He]=mt<<7,k=0;k<1<<oe[He]-7;k++)je[256+mt++]=He;for(Te=0;Te<=J;Te++)ht[Te]=0;for(k=0;k<=143;)se[k*2+1]=8,k++,ht[8]++;for(;k<=255;)se[k*2+1]=9,k++,ht[9]++;for(;k<=279;)se[k*2+1]=7,k++,ht[7]++;for(;k<=287;)se[k*2+1]=8,k++,ht[8]++;for(yr(se,L+1,ht),k=0;k<D;k++)me[k*2+1]=5,me[k*2]=Bt(k,5);Ce=new ft(se,Ae,T+1,L,J),Ze=new ft(me,oe,0,D,J),ze=new ft(new Array(0),Be,0,V,ue)},hn=k=>{let Te;for(Te=0;Te<L;Te++)k.dyn_ltree[Te*2]=0;for(Te=0;Te<D;Te++)k.dyn_dtree[Te*2]=0;for(Te=0;Te<V;Te++)k.bl_tree[Te*2]=0;k.dyn_ltree[pe*2]=1,k.opt_len=k.static_len=0,k.sym_next=k.matches=0},Tn=k=>{k.bi_valid>8?Fe(k,k.bi_buf):k.bi_valid>0&&(k.pending_buf[k.pending++]=k.bi_buf),k.bi_buf=0,k.bi_valid=0},Jr=(k,Te,Y,He)=>{const mt=Te*2,ht=Y*2;return k[mt]<k[ht]||k[mt]===k[ht]&&He[Te]<=He[Y]},sn=(k,Te,Y)=>{const He=k.heap[Y];let mt=Y<<1;for(;mt<=k.heap_len&&(mt<k.heap_len&&Jr(Te,k.heap[mt+1],k.heap[mt],k.depth)&&mt++,!Jr(Te,He,k.heap[mt],k.depth));)k.heap[Y]=k.heap[mt],Y=mt,mt<<=1;k.heap[Y]=He},on=(k,Te,Y)=>{let He,mt,ht=0,ir,Ot;if(k.sym_next!==0)do He=k.pending_buf[k.sym_buf+ht++]&255,He+=(k.pending_buf[k.sym_buf+ht++]&255)<<8,mt=k.pending_buf[k.sym_buf+ht++],He===0?pt(k,mt,Te):(ir=Ue[mt],pt(k,ir+T+1,Te),Ot=Ae[ir],Ot!==0&&(mt-=De[ir],xt(k,mt,Ot)),He--,ir=ct(He),pt(k,ir,Y),Ot=oe[ir],Ot!==0&&(He-=ot[ir],xt(k,He,Ot)));while(ht<k.sym_next);pt(k,pe,Te)},Fn=(k,Te)=>{const Y=Te.dyn_tree,He=Te.stat_desc.static_tree,mt=Te.stat_desc.has_stree,ht=Te.stat_desc.elems;let ir,Ot,xn=-1,Nt;for(k.heap_len=0,k.heap_max=G,ir=0;ir<ht;ir++)Y[ir*2]!==0?(k.heap[++k.heap_len]=xn=ir,k.depth[ir]=0):Y[ir*2+1]=0;for(;k.heap_len<2;)Nt=k.heap[++k.heap_len]=xn<2?++xn:0,Y[Nt*2]=1,k.depth[Nt]=0,k.opt_len--,mt&&(k.static_len-=He[Nt*2+1]);for(Te.max_code=xn,ir=k.heap_len>>1;ir>=1;ir--)sn(k,Y,ir);Nt=ht;do ir=k.heap[1],k.heap[1]=k.heap[k.heap_len--],sn(k,Y,1),Ot=k.heap[1],k.heap[--k.heap_max]=ir,k.heap[--k.heap_max]=Ot,Y[Nt*2]=Y[ir*2]+Y[Ot*2],k.depth[Nt]=(k.depth[ir]>=k.depth[Ot]?k.depth[ir]:k.depth[Ot])+1,Y[ir*2+1]=Y[Ot*2+1]=Nt,k.heap[1]=Nt++,sn(k,Y,1);while(k.heap_len>=2);k.heap[--k.heap_max]=k.heap[1],Yr(k,Te),yr(Y,xn,k.bl_count)},Qn=(k,Te,Y)=>{let He,mt=-1,ht,ir=Te[1],Ot=0,xn=7,Nt=4;for(ir===0&&(xn=138,Nt=3),Te[(Y+1)*2+1]=65535,He=0;He<=Y;He++)ht=ir,ir=Te[(He+1)*2+1],!(++Ot<xn&&ht===ir)&&(Ot<Nt?k.bl_tree[ht*2]+=Ot:ht!==0?(ht!==mt&&k.bl_tree[ht*2]++,k.bl_tree[ge*2]++):Ot<=10?k.bl_tree[he*2]++:k.bl_tree[ne*2]++,Ot=0,mt=ht,ir===0?(xn=138,Nt=3):ht===ir?(xn=6,Nt=3):(xn=7,Nt=4))},gi=(k,Te,Y)=>{let He,mt=-1,ht,ir=Te[1],Ot=0,xn=7,Nt=4;for(ir===0&&(xn=138,Nt=3),He=0;He<=Y;He++)if(ht=ir,ir=Te[(He+1)*2+1],!(++Ot<xn&&ht===ir)){if(Ot<Nt)do pt(k,ht,k.bl_tree);while(--Ot!==0);else ht!==0?(ht!==mt&&(pt(k,ht,k.bl_tree),Ot--),pt(k,ge,k.bl_tree),xt(k,Ot-3,2)):Ot<=10?(pt(k,he,k.bl_tree),xt(k,Ot-3,3)):(pt(k,ne,k.bl_tree),xt(k,Ot-11,7));Ot=0,mt=ht,ir===0?(xn=138,Nt=3):ht===ir?(xn=6,Nt=3):(xn=7,Nt=4)}},Je=k=>{let Te;for(Qn(k,k.dyn_ltree,k.l_desc.max_code),Qn(k,k.dyn_dtree,k.d_desc.max_code),Fn(k,k.bl_desc),Te=V-1;Te>=3&&k.bl_tree[ke[Te]*2+1]===0;Te--);return k.opt_len+=3*(Te+1)+5+5+4,Te},Ut=(k,Te,Y,He)=>{let mt;for(xt(k,Te-257,5),xt(k,Y-1,5),xt(k,He-4,4),mt=0;mt<He;mt++)xt(k,k.bl_tree[ke[mt]*2+1],3);gi(k,k.dyn_ltree,Te-1),gi(k,k.dyn_dtree,Y-1)},gr=k=>{let Te=4093624447,Y;for(Y=0;Y<=31;Y++,Te>>>=1)if(Te&1&&k.dyn_ltree[Y*2]!==0)return f;if(k.dyn_ltree[18]!==0||k.dyn_ltree[20]!==0||k.dyn_ltree[26]!==0)return A;for(Y=32;Y<T;Y++)if(k.dyn_ltree[Y*2]!==0)return A;return f};let Wt=!1;const Pt=k=>{Wt||(Wr(),Wt=!0),k.l_desc=new $e(k.dyn_ltree,Ce),k.d_desc=new $e(k.dyn_dtree,Ze),k.bl_desc=new $e(k.bl_tree,ze),k.bi_buf=0,k.bi_valid=0,hn(k)},or=(k,Te,Y,He)=>{xt(k,(y<<1)+(He?1:0),3),Tn(k),Fe(k,Y),Fe(k,~Y),Y&&k.pending_buf.set(k.window.subarray(Te,Te+Y),k.pending),k.pending+=Y},Br=k=>{xt(k,v<<1,3),pt(k,pe,se),qt(k)},Ur=(k,Te,Y,He)=>{let mt,ht,ir=0;k.level>0?(k.strm.data_type===p&&(k.strm.data_type=gr(k)),Fn(k,k.l_desc),Fn(k,k.d_desc),ir=Je(k),mt=k.opt_len+3+7>>>3,ht=k.static_len+3+7>>>3,ht<=mt&&(mt=ht)):mt=ht=Y+5,Y+4<=mt&&Te!==-1?or(k,Te,Y,He):k.strategy===d||ht===mt?(xt(k,(v<<1)+(He?1:0),3),on(k,se,me)):(xt(k,(b<<1)+(He?1:0),3),Ut(k,k.l_desc.max_code+1,k.d_desc.max_code+1,ir+1),on(k,k.dyn_ltree,k.dyn_dtree)),hn(k),He&&Tn(k)},vn=(k,Te,Y)=>(k.pending_buf[k.sym_buf+k.sym_next++]=Te,k.pending_buf[k.sym_buf+k.sym_next++]=Te>>8,k.pending_buf[k.sym_buf+k.sym_next++]=Y,Te===0?k.dyn_ltree[Y*2]++:(k.matches++,Te--,k.dyn_ltree[(Ue[Y]+T+1)*2]++,k.dyn_dtree[ct(Te)*2]++),k.sym_next===k.sym_end);var qr=Pt,Vn=or,Qr=Ur,Nr=vn,rn=Br,Xr={_tr_init:qr,_tr_stored_block:Vn,_tr_flush_block:Qr,_tr_tally:Nr,_tr_align:rn},Wn=(k,Te,Y,He)=>{let mt=k&65535|0,ht=k>>>16&65535|0,ir=0;for(;Y!==0;){ir=Y>2e3?2e3:Y,Y-=ir;do mt=mt+Te[He++]|0,ht=ht+mt|0;while(--ir);mt%=65521,ht%=65521}return mt|ht<<16|0};const ds=()=>{let k,Te=[];for(var Y=0;Y<256;Y++){k=Y;for(var He=0;He<8;He++)k=k&1?3988292384^k>>>1:k>>>1;Te[Y]=k}return Te},vs=new Uint32Array(ds());var $n=(k,Te,Y,He)=>{const mt=vs,ht=He+Y;k^=-1;for(let ir=He;ir<ht;ir++)k=k>>>8^mt[(k^Te[ir])&255];return k^-1},zr={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},$i={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Os,_tr_stored_block:bn,_tr_flush_block:La,_tr_tally:ws,_tr_align:Ts}=Xr,{Z_NO_FLUSH:Es,Z_PARTIAL_FLUSH:Hi,Z_FULL_FLUSH:Hs,Z_FINISH:xs,Z_BLOCK:_o,Z_OK:rs,Z_STREAM_END:Yu,Z_STREAM_ERROR:Ua,Z_DATA_ERROR:Bl,Z_BUF_ERROR:yu,Z_DEFAULT_COMPRESSION:fl,Z_FILTERED:Ps,Z_HUFFMAN_ONLY:oo,Z_RLE:Cs,Z_FIXED:aa,Z_DEFAULT_STRATEGY:bs,Z_UNKNOWN:Al,Z_DEFLATED:Ga}=$i,lo=9,Ec=15,oc=8,Ws=256+1+29,ml=30,Ra=19,To=2*Ws+1,za=15,ci=3,ba=258,co=ba+ci+1,pa=32,pl=42,fs=57,Uo=69,wa=73,ha=91,Wa=103,Ll=113,uo=666,Vs=1,Ya=2,tl=3,ho=4,ll=3,Rt=(k,Te)=>(k.msg=zr[Te],Te),U=k=>k*2-(k>4?9:0),Z=k=>{let Te=k.length;for(;--Te>=0;)k[Te]=0},te=k=>{let Te,Y,He,mt=k.w_size;Te=k.hash_size,He=Te;do Y=k.head[--He],k.head[He]=Y>=mt?Y-mt:0;while(--Te);Te=mt,He=Te;do Y=k.prev[--He],k.prev[He]=Y>=mt?Y-mt:0;while(--Te)};let $=(k,Te,Y)=>(Te<<k.hash_shift^Y)&k.hash_mask;const q=k=>{const Te=k.state;let Y=Te.pending;Y>k.avail_out&&(Y=k.avail_out),Y!==0&&(k.output.set(Te.pending_buf.subarray(Te.pending_out,Te.pending_out+Y),k.next_out),k.next_out+=Y,Te.pending_out+=Y,k.total_out+=Y,k.avail_out-=Y,Te.pending-=Y,Te.pending===0&&(Te.pending_out=0))},de=(k,Te)=>{La(k,k.block_start>=0?k.block_start:-1,k.strstart-k.block_start,Te),k.block_start=k.strstart,q(k.strm)},we=(k,Te)=>{k.pending_buf[k.pending++]=Te},Me=(k,Te)=>{k.pending_buf[k.pending++]=Te>>>8&255,k.pending_buf[k.pending++]=Te&255},tt=(k,Te,Y,He)=>{let mt=k.avail_in;return mt>He&&(mt=He),mt===0?0:(k.avail_in-=mt,Te.set(k.input.subarray(k.next_in,k.next_in+mt),Y),k.state.wrap===1?k.adler=Wn(k.adler,Te,mt,Y):k.state.wrap===2&&(k.adler=$n(k.adler,Te,mt,Y)),k.next_in+=mt,k.total_in+=mt,mt)},I=(k,Te)=>{let Y=k.max_chain_length,He=k.strstart,mt,ht,ir=k.prev_length,Ot=k.nice_match;const xn=k.strstart>k.w_size-co?k.strstart-(k.w_size-co):0,Nt=k.window,sr=k.w_mask,Ii=k.prev,cn=k.strstart+ba;let Fr=Nt[He+ir-1],wr=Nt[He+ir];k.prev_length>=k.good_match&&(Y>>=2),Ot>k.lookahead&&(Ot=k.lookahead);do if(mt=Te,!(Nt[mt+ir]!==wr||Nt[mt+ir-1]!==Fr||Nt[mt]!==Nt[He]||Nt[++mt]!==Nt[He+1])){He+=2,mt++;do;while(Nt[++He]===Nt[++mt]&&Nt[++He]===Nt[++mt]&&Nt[++He]===Nt[++mt]&&Nt[++He]===Nt[++mt]&&Nt[++He]===Nt[++mt]&&Nt[++He]===Nt[++mt]&&Nt[++He]===Nt[++mt]&&Nt[++He]===Nt[++mt]&&He<cn);if(ht=ba-(cn-He),He=cn-ba,ht>ir){if(k.match_start=Te,ir=ht,ht>=Ot)break;Fr=Nt[He+ir-1],wr=Nt[He+ir]}}while((Te=Ii[Te&sr])>xn&&--Y!==0);return ir<=k.lookahead?ir:k.lookahead},C=k=>{const Te=k.w_size;let Y,He,mt;do{if(He=k.window_size-k.lookahead-k.strstart,k.strstart>=Te+(Te-co)&&(k.window.set(k.window.subarray(Te,Te+Te-He),0),k.match_start-=Te,k.strstart-=Te,k.block_start-=Te,k.insert>k.strstart&&(k.insert=k.strstart),te(k),He+=Te),k.strm.avail_in===0)break;if(Y=tt(k.strm,k.window,k.strstart+k.lookahead,He),k.lookahead+=Y,k.lookahead+k.insert>=ci)for(mt=k.strstart-k.insert,k.ins_h=k.window[mt],k.ins_h=$(k,k.ins_h,k.window[mt+1]);k.insert&&(k.ins_h=$(k,k.ins_h,k.window[mt+ci-1]),k.prev[mt&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=mt,mt++,k.insert--,!(k.lookahead+k.insert<ci)););}while(k.lookahead<co&&k.strm.avail_in!==0)},O=(k,Te)=>{let Y=k.pending_buf_size-5>k.w_size?k.w_size:k.pending_buf_size-5,He,mt,ht,ir=0,Ot=k.strm.avail_in;do{if(He=65535,ht=k.bi_valid+42>>3,k.strm.avail_out<ht||(ht=k.strm.avail_out-ht,mt=k.strstart-k.block_start,He>mt+k.strm.avail_in&&(He=mt+k.strm.avail_in),He>ht&&(He=ht),He<Y&&(He===0&&Te!==xs||Te===Es||He!==mt+k.strm.avail_in)))break;ir=Te===xs&&He===mt+k.strm.avail_in?1:0,bn(k,0,0,ir),k.pending_buf[k.pending-4]=He,k.pending_buf[k.pending-3]=He>>8,k.pending_buf[k.pending-2]=~He,k.pending_buf[k.pending-1]=~He>>8,q(k.strm),mt&&(mt>He&&(mt=He),k.strm.output.set(k.window.subarray(k.block_start,k.block_start+mt),k.strm.next_out),k.strm.next_out+=mt,k.strm.avail_out-=mt,k.strm.total_out+=mt,k.block_start+=mt,He-=mt),He&&(tt(k.strm,k.strm.output,k.strm.next_out,He),k.strm.next_out+=He,k.strm.avail_out-=He,k.strm.total_out+=He)}while(ir===0);return Ot-=k.strm.avail_in,Ot&&(Ot>=k.w_size?(k.matches=2,k.window.set(k.strm.input.subarray(k.strm.next_in-k.w_size,k.strm.next_in),0),k.strstart=k.w_size,k.insert=k.strstart):(k.window_size-k.strstart<=Ot&&(k.strstart-=k.w_size,k.window.set(k.window.subarray(k.w_size,k.w_size+k.strstart),0),k.matches<2&&k.matches++,k.insert>k.strstart&&(k.insert=k.strstart)),k.window.set(k.strm.input.subarray(k.strm.next_in-Ot,k.strm.next_in),k.strstart),k.strstart+=Ot,k.insert+=Ot>k.w_size-k.insert?k.w_size-k.insert:Ot),k.block_start=k.strstart),k.high_water<k.strstart&&(k.high_water=k.strstart),ir?ho:Te!==Es&&Te!==xs&&k.strm.avail_in===0&&k.strstart===k.block_start?Ya:(ht=k.window_size-k.strstart,k.strm.avail_in>ht&&k.block_start>=k.w_size&&(k.block_start-=k.w_size,k.strstart-=k.w_size,k.window.set(k.window.subarray(k.w_size,k.w_size+k.strstart),0),k.matches<2&&k.matches++,ht+=k.w_size,k.insert>k.strstart&&(k.insert=k.strstart)),ht>k.strm.avail_in&&(ht=k.strm.avail_in),ht&&(tt(k.strm,k.window,k.strstart,ht),k.strstart+=ht,k.insert+=ht>k.w_size-k.insert?k.w_size-k.insert:ht),k.high_water<k.strstart&&(k.high_water=k.strstart),ht=k.bi_valid+42>>3,ht=k.pending_buf_size-ht>65535?65535:k.pending_buf_size-ht,Y=ht>k.w_size?k.w_size:ht,mt=k.strstart-k.block_start,(mt>=Y||(mt||Te===xs)&&Te!==Es&&k.strm.avail_in===0&&mt<=ht)&&(He=mt>ht?ht:mt,ir=Te===xs&&k.strm.avail_in===0&&He===mt?1:0,bn(k,k.block_start,He,ir),k.block_start+=He,q(k.strm)),ir?tl:Vs)},Q=(k,Te)=>{let Y,He;for(;;){if(k.lookahead<co){if(C(k),k.lookahead<co&&Te===Es)return Vs;if(k.lookahead===0)break}if(Y=0,k.lookahead>=ci&&(k.ins_h=$(k,k.ins_h,k.window[k.strstart+ci-1]),Y=k.prev[k.strstart&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=k.strstart),Y!==0&&k.strstart-Y<=k.w_size-co&&(k.match_length=I(k,Y)),k.match_length>=ci)if(He=ws(k,k.strstart-k.match_start,k.match_length-ci),k.lookahead-=k.match_length,k.match_length<=k.max_lazy_match&&k.lookahead>=ci){k.match_length--;do k.strstart++,k.ins_h=$(k,k.ins_h,k.window[k.strstart+ci-1]),Y=k.prev[k.strstart&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=k.strstart;while(--k.match_length!==0);k.strstart++}else k.strstart+=k.match_length,k.match_length=0,k.ins_h=k.window[k.strstart],k.ins_h=$(k,k.ins_h,k.window[k.strstart+1]);else He=ws(k,0,k.window[k.strstart]),k.lookahead--,k.strstart++;if(He&&(de(k,!1),k.strm.avail_out===0))return Vs}return k.insert=k.strstart<ci-1?k.strstart:ci-1,Te===xs?(de(k,!0),k.strm.avail_out===0?tl:ho):k.sym_next&&(de(k,!1),k.strm.avail_out===0)?Vs:Ya},z=(k,Te)=>{let Y,He,mt;for(;;){if(k.lookahead<co){if(C(k),k.lookahead<co&&Te===Es)return Vs;if(k.lookahead===0)break}if(Y=0,k.lookahead>=ci&&(k.ins_h=$(k,k.ins_h,k.window[k.strstart+ci-1]),Y=k.prev[k.strstart&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=k.strstart),k.prev_length=k.match_length,k.prev_match=k.match_start,k.match_length=ci-1,Y!==0&&k.prev_length<k.max_lazy_match&&k.strstart-Y<=k.w_size-co&&(k.match_length=I(k,Y),k.match_length<=5&&(k.strategy===Ps||k.match_length===ci&&k.strstart-k.match_start>4096)&&(k.match_length=ci-1)),k.prev_length>=ci&&k.match_length<=k.prev_length){mt=k.strstart+k.lookahead-ci,He=ws(k,k.strstart-1-k.prev_match,k.prev_length-ci),k.lookahead-=k.prev_length-1,k.prev_length-=2;do++k.strstart<=mt&&(k.ins_h=$(k,k.ins_h,k.window[k.strstart+ci-1]),Y=k.prev[k.strstart&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=k.strstart);while(--k.prev_length!==0);if(k.match_available=0,k.match_length=ci-1,k.strstart++,He&&(de(k,!1),k.strm.avail_out===0))return Vs}else if(k.match_available){if(He=ws(k,0,k.window[k.strstart-1]),He&&de(k,!1),k.strstart++,k.lookahead--,k.strm.avail_out===0)return Vs}else k.match_available=1,k.strstart++,k.lookahead--}return k.match_available&&(He=ws(k,0,k.window[k.strstart-1]),k.match_available=0),k.insert=k.strstart<ci-1?k.strstart:ci-1,Te===xs?(de(k,!0),k.strm.avail_out===0?tl:ho):k.sym_next&&(de(k,!1),k.strm.avail_out===0)?Vs:Ya},X=(k,Te)=>{let Y,He,mt,ht;const ir=k.window;for(;;){if(k.lookahead<=ba){if(C(k),k.lookahead<=ba&&Te===Es)return Vs;if(k.lookahead===0)break}if(k.match_length=0,k.lookahead>=ci&&k.strstart>0&&(mt=k.strstart-1,He=ir[mt],He===ir[++mt]&&He===ir[++mt]&&He===ir[++mt])){ht=k.strstart+ba;do;while(He===ir[++mt]&&He===ir[++mt]&&He===ir[++mt]&&He===ir[++mt]&&He===ir[++mt]&&He===ir[++mt]&&He===ir[++mt]&&He===ir[++mt]&&mt<ht);k.match_length=ba-(ht-mt),k.match_length>k.lookahead&&(k.match_length=k.lookahead)}if(k.match_length>=ci?(Y=ws(k,1,k.match_length-ci),k.lookahead-=k.match_length,k.strstart+=k.match_length,k.match_length=0):(Y=ws(k,0,k.window[k.strstart]),k.lookahead--,k.strstart++),Y&&(de(k,!1),k.strm.avail_out===0))return Vs}return k.insert=0,Te===xs?(de(k,!0),k.strm.avail_out===0?tl:ho):k.sym_next&&(de(k,!1),k.strm.avail_out===0)?Vs:Ya},fe=(k,Te)=>{let Y;for(;;){if(k.lookahead===0&&(C(k),k.lookahead===0)){if(Te===Es)return Vs;break}if(k.match_length=0,Y=ws(k,0,k.window[k.strstart]),k.lookahead--,k.strstart++,Y&&(de(k,!1),k.strm.avail_out===0))return Vs}return k.insert=0,Te===xs?(de(k,!0),k.strm.avail_out===0?tl:ho):k.sym_next&&(de(k,!1),k.strm.avail_out===0)?Vs:Ya};function ie(k,Te,Y,He,mt){this.good_length=k,this.max_lazy=Te,this.nice_length=Y,this.max_chain=He,this.func=mt}const ae=[new ie(0,0,0,0,O),new ie(4,4,8,4,Q),new ie(4,5,16,8,Q),new ie(4,6,32,32,Q),new ie(4,4,16,16,z),new ie(8,16,32,32,z),new ie(8,16,128,128,z),new ie(8,32,128,256,z),new ie(32,128,258,1024,z),new ie(32,258,258,4096,z)],Se=k=>{k.window_size=2*k.w_size,Z(k.head),k.max_lazy_match=ae[k.level].max_lazy,k.good_match=ae[k.level].good_length,k.nice_match=ae[k.level].nice_length,k.max_chain_length=ae[k.level].max_chain,k.strstart=0,k.block_start=0,k.lookahead=0,k.insert=0,k.match_length=k.prev_length=ci-1,k.match_available=0,k.ins_h=0};function Re(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Ga,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(To*2),this.dyn_dtree=new Uint16Array((2*ml+1)*2),this.bl_tree=new Uint16Array((2*Ra+1)*2),Z(this.dyn_ltree),Z(this.dyn_dtree),Z(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(za+1),this.heap=new Uint16Array(2*Ws+1),Z(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*Ws+1),Z(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Ge=k=>{if(!k)return 1;const Te=k.state;return!Te||Te.strm!==k||Te.status!==pl&&Te.status!==fs&&Te.status!==Uo&&Te.status!==wa&&Te.status!==ha&&Te.status!==Wa&&Te.status!==Ll&&Te.status!==uo?1:0},et=k=>{if(Ge(k))return Rt(k,Ua);k.total_in=k.total_out=0,k.data_type=Al;const Te=k.state;return Te.pending=0,Te.pending_out=0,Te.wrap<0&&(Te.wrap=-Te.wrap),Te.status=Te.wrap===2?fs:Te.wrap?pl:Ll,k.adler=Te.wrap===2?0:1,Te.last_flush=-2,Os(Te),rs},xe=k=>{const Te=et(k);return Te===rs&&Se(k.state),Te},gt=(k,Te)=>Ge(k)||k.state.wrap!==2?Ua:(k.state.gzhead=Te,rs),At=(k,Te,Y,He,mt,ht)=>{if(!k)return Ua;let ir=1;if(Te===fl&&(Te=6),He<0?(ir=0,He=-He):He>15&&(ir=2,He-=16),mt<1||mt>lo||Y!==Ga||He<8||He>15||Te<0||Te>9||ht<0||ht>aa||He===8&&ir!==1)return Rt(k,Ua);He===8&&(He=9);const Ot=new Re;return k.state=Ot,Ot.strm=k,Ot.status=pl,Ot.wrap=ir,Ot.gzhead=null,Ot.w_bits=He,Ot.w_size=1<<Ot.w_bits,Ot.w_mask=Ot.w_size-1,Ot.hash_bits=mt+7,Ot.hash_size=1<<Ot.hash_bits,Ot.hash_mask=Ot.hash_size-1,Ot.hash_shift=~~((Ot.hash_bits+ci-1)/ci),Ot.window=new Uint8Array(Ot.w_size*2),Ot.head=new Uint16Array(Ot.hash_size),Ot.prev=new Uint16Array(Ot.w_size),Ot.lit_bufsize=1<<mt+6,Ot.pending_buf_size=Ot.lit_bufsize*4,Ot.pending_buf=new Uint8Array(Ot.pending_buf_size),Ot.sym_buf=Ot.lit_bufsize,Ot.sym_end=(Ot.lit_bufsize-1)*3,Ot.level=Te,Ot.strategy=ht,Ot.method=Y,xe(k)},yt=(k,Te)=>At(k,Te,Ga,Ec,oc,bs),qe=(k,Te)=>{if(Ge(k)||Te>_o||Te<0)return k?Rt(k,Ua):Ua;const Y=k.state;if(!k.output||k.avail_in!==0&&!k.input||Y.status===uo&&Te!==xs)return Rt(k,k.avail_out===0?yu:Ua);const He=Y.last_flush;if(Y.last_flush=Te,Y.pending!==0){if(q(k),k.avail_out===0)return Y.last_flush=-1,rs}else if(k.avail_in===0&&U(Te)<=U(He)&&Te!==xs)return Rt(k,yu);if(Y.status===uo&&k.avail_in!==0)return Rt(k,yu);if(Y.status===pl&&Y.wrap===0&&(Y.status=Ll),Y.status===pl){let mt=Ga+(Y.w_bits-8<<4)<<8,ht=-1;if(Y.strategy>=oo||Y.level<2?ht=0:Y.level<6?ht=1:Y.level===6?ht=2:ht=3,mt|=ht<<6,Y.strstart!==0&&(mt|=pa),mt+=31-mt%31,Me(Y,mt),Y.strstart!==0&&(Me(Y,k.adler>>>16),Me(Y,k.adler&65535)),k.adler=1,Y.status=Ll,q(k),Y.pending!==0)return Y.last_flush=-1,rs}if(Y.status===fs){if(k.adler=0,we(Y,31),we(Y,139),we(Y,8),Y.gzhead)we(Y,(Y.gzhead.text?1:0)+(Y.gzhead.hcrc?2:0)+(Y.gzhead.extra?4:0)+(Y.gzhead.name?8:0)+(Y.gzhead.comment?16:0)),we(Y,Y.gzhead.time&255),we(Y,Y.gzhead.time>>8&255),we(Y,Y.gzhead.time>>16&255),we(Y,Y.gzhead.time>>24&255),we(Y,Y.level===9?2:Y.strategy>=oo||Y.level<2?4:0),we(Y,Y.gzhead.os&255),Y.gzhead.extra&&Y.gzhead.extra.length&&(we(Y,Y.gzhead.extra.length&255),we(Y,Y.gzhead.extra.length>>8&255)),Y.gzhead.hcrc&&(k.adler=$n(k.adler,Y.pending_buf,Y.pending,0)),Y.gzindex=0,Y.status=Uo;else if(we(Y,0),we(Y,0),we(Y,0),we(Y,0),we(Y,0),we(Y,Y.level===9?2:Y.strategy>=oo||Y.level<2?4:0),we(Y,ll),Y.status=Ll,q(k),Y.pending!==0)return Y.last_flush=-1,rs}if(Y.status===Uo){if(Y.gzhead.extra){let mt=Y.pending,ht=(Y.gzhead.extra.length&65535)-Y.gzindex;for(;Y.pending+ht>Y.pending_buf_size;){let Ot=Y.pending_buf_size-Y.pending;if(Y.pending_buf.set(Y.gzhead.extra.subarray(Y.gzindex,Y.gzindex+Ot),Y.pending),Y.pending=Y.pending_buf_size,Y.gzhead.hcrc&&Y.pending>mt&&(k.adler=$n(k.adler,Y.pending_buf,Y.pending-mt,mt)),Y.gzindex+=Ot,q(k),Y.pending!==0)return Y.last_flush=-1,rs;mt=0,ht-=Ot}let ir=new Uint8Array(Y.gzhead.extra);Y.pending_buf.set(ir.subarray(Y.gzindex,Y.gzindex+ht),Y.pending),Y.pending+=ht,Y.gzhead.hcrc&&Y.pending>mt&&(k.adler=$n(k.adler,Y.pending_buf,Y.pending-mt,mt)),Y.gzindex=0}Y.status=wa}if(Y.status===wa){if(Y.gzhead.name){let mt=Y.pending,ht;do{if(Y.pending===Y.pending_buf_size){if(Y.gzhead.hcrc&&Y.pending>mt&&(k.adler=$n(k.adler,Y.pending_buf,Y.pending-mt,mt)),q(k),Y.pending!==0)return Y.last_flush=-1,rs;mt=0}Y.gzindex<Y.gzhead.name.length?ht=Y.gzhead.name.charCodeAt(Y.gzindex++)&255:ht=0,we(Y,ht)}while(ht!==0);Y.gzhead.hcrc&&Y.pending>mt&&(k.adler=$n(k.adler,Y.pending_buf,Y.pending-mt,mt)),Y.gzindex=0}Y.status=ha}if(Y.status===ha){if(Y.gzhead.comment){let mt=Y.pending,ht;do{if(Y.pending===Y.pending_buf_size){if(Y.gzhead.hcrc&&Y.pending>mt&&(k.adler=$n(k.adler,Y.pending_buf,Y.pending-mt,mt)),q(k),Y.pending!==0)return Y.last_flush=-1,rs;mt=0}Y.gzindex<Y.gzhead.comment.length?ht=Y.gzhead.comment.charCodeAt(Y.gzindex++)&255:ht=0,we(Y,ht)}while(ht!==0);Y.gzhead.hcrc&&Y.pending>mt&&(k.adler=$n(k.adler,Y.pending_buf,Y.pending-mt,mt))}Y.status=Wa}if(Y.status===Wa){if(Y.gzhead.hcrc){if(Y.pending+2>Y.pending_buf_size&&(q(k),Y.pending!==0))return Y.last_flush=-1,rs;we(Y,k.adler&255),we(Y,k.adler>>8&255),k.adler=0}if(Y.status=Ll,q(k),Y.pending!==0)return Y.last_flush=-1,rs}if(k.avail_in!==0||Y.lookahead!==0||Te!==Es&&Y.status!==uo){let mt=Y.level===0?O(Y,Te):Y.strategy===oo?fe(Y,Te):Y.strategy===Cs?X(Y,Te):ae[Y.level].func(Y,Te);if((mt===tl||mt===ho)&&(Y.status=uo),mt===Vs||mt===tl)return k.avail_out===0&&(Y.last_flush=-1),rs;if(mt===Ya&&(Te===Hi?Ts(Y):Te!==_o&&(bn(Y,0,0,!1),Te===Hs&&(Z(Y.head),Y.lookahead===0&&(Y.strstart=0,Y.block_start=0,Y.insert=0))),q(k),k.avail_out===0))return Y.last_flush=-1,rs}return Te!==xs?rs:Y.wrap<=0?Yu:(Y.wrap===2?(we(Y,k.adler&255),we(Y,k.adler>>8&255),we(Y,k.adler>>16&255),we(Y,k.adler>>24&255),we(Y,k.total_in&255),we(Y,k.total_in>>8&255),we(Y,k.total_in>>16&255),we(Y,k.total_in>>24&255)):(Me(Y,k.adler>>>16),Me(Y,k.adler&65535)),q(k),Y.wrap>0&&(Y.wrap=-Y.wrap),Y.pending!==0?rs:Yu)},jt=k=>{if(Ge(k))return Ua;const Te=k.state.status;return k.state=null,Te===Ll?Rt(k,Bl):rs},Ht=(k,Te)=>{let Y=Te.length;if(Ge(k))return Ua;const He=k.state,mt=He.wrap;if(mt===2||mt===1&&He.status!==pl||He.lookahead)return Ua;if(mt===1&&(k.adler=Wn(k.adler,Te,Y,0)),He.wrap=0,Y>=He.w_size){mt===0&&(Z(He.head),He.strstart=0,He.block_start=0,He.insert=0);let xn=new Uint8Array(He.w_size);xn.set(Te.subarray(Y-He.w_size,Y),0),Te=xn,Y=He.w_size}const ht=k.avail_in,ir=k.next_in,Ot=k.input;for(k.avail_in=Y,k.next_in=0,k.input=Te,C(He);He.lookahead>=ci;){let xn=He.strstart,Nt=He.lookahead-(ci-1);do He.ins_h=$(He,He.ins_h,He.window[xn+ci-1]),He.prev[xn&He.w_mask]=He.head[He.ins_h],He.head[He.ins_h]=xn,xn++;while(--Nt);He.strstart=xn,He.lookahead=ci-1,C(He)}return He.strstart+=He.lookahead,He.block_start=He.strstart,He.insert=He.lookahead,He.lookahead=0,He.match_length=He.prev_length=ci-1,He.match_available=0,k.next_in=ir,k.input=Ot,k.avail_in=ht,He.wrap=mt,rs};var St=yt,Ye=At,Mt=xe,Ar=et,zt=gt,Ct=qe,cr=jt,Xe=Ht,lt="pako deflate (from Nodeca project)",_t={deflateInit:St,deflateInit2:Ye,deflateReset:Mt,deflateResetKeep:Ar,deflateSetHeader:zt,deflate:Ct,deflateEnd:cr,deflateSetDictionary:Xe,deflateInfo:lt};const Tt=(k,Te)=>Object.prototype.hasOwnProperty.call(k,Te);var dr=function(k){const Te=Array.prototype.slice.call(arguments,1);for(;Te.length;){const Y=Te.shift();if(Y){if(typeof Y!="object")throw new TypeError(Y+"must be non-object");for(const He in Y)Tt(Y,He)&&(k[He]=Y[He])}}return k},pr=k=>{let Te=0;for(let He=0,mt=k.length;He<mt;He++)Te+=k[He].length;const Y=new Uint8Array(Te);for(let He=0,mt=0,ht=k.length;He<ht;He++){let ir=k[He];Y.set(ir,mt),mt+=ir.length}return Y},Er={assign:dr,flattenChunks:pr};let Xt=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Xt=!1}const vr=new Uint8Array(256);for(let k=0;k<256;k++)vr[k]=k>=252?6:k>=248?5:k>=240?4:k>=224?3:k>=192?2:1;vr[254]=vr[254]=1;var en=k=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(k);let Te,Y,He,mt,ht,ir=k.length,Ot=0;for(mt=0;mt<ir;mt++)Y=k.charCodeAt(mt),(Y&64512)===55296&&mt+1<ir&&(He=k.charCodeAt(mt+1),(He&64512)===56320&&(Y=65536+(Y-55296<<10)+(He-56320),mt++)),Ot+=Y<128?1:Y<2048?2:Y<65536?3:4;for(Te=new Uint8Array(Ot),ht=0,mt=0;ht<Ot;mt++)Y=k.charCodeAt(mt),(Y&64512)===55296&&mt+1<ir&&(He=k.charCodeAt(mt+1),(He&64512)===56320&&(Y=65536+(Y-55296<<10)+(He-56320),mt++)),Y<128?Te[ht++]=Y:Y<2048?(Te[ht++]=192|Y>>>6,Te[ht++]=128|Y&63):Y<65536?(Te[ht++]=224|Y>>>12,Te[ht++]=128|Y>>>6&63,Te[ht++]=128|Y&63):(Te[ht++]=240|Y>>>18,Te[ht++]=128|Y>>>12&63,Te[ht++]=128|Y>>>6&63,Te[ht++]=128|Y&63);return Te};const $r=(k,Te)=>{if(Te<65534&&k.subarray&&Xt)return String.fromCharCode.apply(null,k.length===Te?k:k.subarray(0,Te));let Y="";for(let He=0;He<Te;He++)Y+=String.fromCharCode(k[He]);return Y};var Qe=(k,Te)=>{const Y=Te||k.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(k.subarray(0,Te));let He,mt;const ht=new Array(Y*2);for(mt=0,He=0;He<Y;){let ir=k[He++];if(ir<128){ht[mt++]=ir;continue}let Ot=vr[ir];if(Ot>4){ht[mt++]=65533,He+=Ot-1;continue}for(ir&=Ot===2?31:Ot===3?15:7;Ot>1&&He<Y;)ir=ir<<6|k[He++]&63,Ot--;if(Ot>1){ht[mt++]=65533;continue}ir<65536?ht[mt++]=ir:(ir-=65536,ht[mt++]=55296|ir>>10&1023,ht[mt++]=56320|ir&1023)}return $r(ht,mt)},vt=(k,Te)=>{Te=Te||k.length,Te>k.length&&(Te=k.length);let Y=Te-1;for(;Y>=0&&(k[Y]&192)===128;)Y--;return Y<0||Y===0?Te:Y+vr[k[Y]]>Te?Y:Te},bt={string2buf:en,buf2string:Qe,utf8border:vt};function Ft(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Qt=Ft;const nr=Object.prototype.toString,{Z_NO_FLUSH:xr,Z_SYNC_FLUSH:br,Z_FULL_FLUSH:Lr,Z_FINISH:tn,Z_OK:En,Z_STREAM_END:wn,Z_DEFAULT_COMPRESSION:ui,Z_DEFAULT_STRATEGY:st,Z_DEFLATED:An}=$i;function _i(k){this.options=Er.assign({level:ui,method:An,chunkSize:16384,windowBits:15,memLevel:8,strategy:st},k||{});let Te=this.options;Te.raw&&Te.windowBits>0?Te.windowBits=-Te.windowBits:Te.gzip&&Te.windowBits>0&&Te.windowBits<16&&(Te.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Qt,this.strm.avail_out=0;let Y=_t.deflateInit2(this.strm,Te.level,Te.method,Te.windowBits,Te.memLevel,Te.strategy);if(Y!==En)throw new Error(zr[Y]);if(Te.header&&_t.deflateSetHeader(this.strm,Te.header),Te.dictionary){let He;if(typeof Te.dictionary=="string"?He=bt.string2buf(Te.dictionary):nr.call(Te.dictionary)==="[object ArrayBuffer]"?He=new Uint8Array(Te.dictionary):He=Te.dictionary,Y=_t.deflateSetDictionary(this.strm,He),Y!==En)throw new Error(zr[Y]);this._dict_set=!0}}_i.prototype.push=function(k,Te){const Y=this.strm,He=this.options.chunkSize;let mt,ht;if(this.ended)return!1;for(Te===~~Te?ht=Te:ht=Te===!0?tn:xr,typeof k=="string"?Y.input=bt.string2buf(k):nr.call(k)==="[object ArrayBuffer]"?Y.input=new Uint8Array(k):Y.input=k,Y.next_in=0,Y.avail_in=Y.input.length;;){if(Y.avail_out===0&&(Y.output=new Uint8Array(He),Y.next_out=0,Y.avail_out=He),(ht===br||ht===Lr)&&Y.avail_out<=6){this.onData(Y.output.subarray(0,Y.next_out)),Y.avail_out=0;continue}if(mt=_t.deflate(Y,ht),mt===wn)return Y.next_out>0&&this.onData(Y.output.subarray(0,Y.next_out)),mt=_t.deflateEnd(this.strm),this.onEnd(mt),this.ended=!0,mt===En;if(Y.avail_out===0){this.onData(Y.output);continue}if(ht>0&&Y.next_out>0){this.onData(Y.output.subarray(0,Y.next_out)),Y.avail_out=0;continue}if(Y.avail_in===0)break}return!0},_i.prototype.onData=function(k){this.chunks.push(k)},_i.prototype.onEnd=function(k){k===En&&(this.result=Er.flattenChunks(this.chunks)),this.chunks=[],this.err=k,this.msg=this.strm.msg};function ln(k,Te){const Y=new _i(Te);if(Y.push(k,!0),Y.err)throw Y.msg||zr[Y.err];return Y.result}function Hr(k,Te){return Te=Te||{},Te.raw=!0,ln(k,Te)}function mi(k,Te){return Te=Te||{},Te.gzip=!0,ln(k,Te)}var Sn=_i,ai=ln,Kn=Hr,Zs=mi,Qi={Deflate:Sn,deflate:ai,deflateRaw:Kn,gzip:Zs};const Bn=16209,cs=16191;var di=function(Te,Y){let He,mt,ht,ir,Ot,xn,Nt,sr,Ii,cn,Fr,wr,la,Ci,li,wi,zi,an,Wi,ca,ni,Ns,is,Pn;const bi=Te.state;He=Te.next_in,is=Te.input,mt=He+(Te.avail_in-5),ht=Te.next_out,Pn=Te.output,ir=ht-(Y-Te.avail_out),Ot=ht+(Te.avail_out-257),xn=bi.dmax,Nt=bi.wsize,sr=bi.whave,Ii=bi.wnext,cn=bi.window,Fr=bi.hold,wr=bi.bits,la=bi.lencode,Ci=bi.distcode,li=(1<<bi.lenbits)-1,wi=(1<<bi.distbits)-1;e:do{wr<15&&(Fr+=is[He++]<<wr,wr+=8,Fr+=is[He++]<<wr,wr+=8),zi=la[Fr&li];t:for(;;){if(an=zi>>>24,Fr>>>=an,wr-=an,an=zi>>>16&255,an===0)Pn[ht++]=zi&65535;else if(an&16){Wi=zi&65535,an&=15,an&&(wr<an&&(Fr+=is[He++]<<wr,wr+=8),Wi+=Fr&(1<<an)-1,Fr>>>=an,wr-=an),wr<15&&(Fr+=is[He++]<<wr,wr+=8,Fr+=is[He++]<<wr,wr+=8),zi=Ci[Fr&wi];r:for(;;){if(an=zi>>>24,Fr>>>=an,wr-=an,an=zi>>>16&255,an&16){if(ca=zi&65535,an&=15,wr<an&&(Fr+=is[He++]<<wr,wr+=8,wr<an&&(Fr+=is[He++]<<wr,wr+=8)),ca+=Fr&(1<<an)-1,ca>xn){Te.msg="invalid distance too far back",bi.mode=Bn;break e}if(Fr>>>=an,wr-=an,an=ht-ir,ca>an){if(an=ca-an,an>sr&&bi.sane){Te.msg="invalid distance too far back",bi.mode=Bn;break e}if(ni=0,Ns=cn,Ii===0){if(ni+=Nt-an,an<Wi){Wi-=an;do Pn[ht++]=cn[ni++];while(--an);ni=ht-ca,Ns=Pn}}else if(Ii<an){if(ni+=Nt+Ii-an,an-=Ii,an<Wi){Wi-=an;do Pn[ht++]=cn[ni++];while(--an);if(ni=0,Ii<Wi){an=Ii,Wi-=an;do Pn[ht++]=cn[ni++];while(--an);ni=ht-ca,Ns=Pn}}}else if(ni+=Ii-an,an<Wi){Wi-=an;do Pn[ht++]=cn[ni++];while(--an);ni=ht-ca,Ns=Pn}for(;Wi>2;)Pn[ht++]=Ns[ni++],Pn[ht++]=Ns[ni++],Pn[ht++]=Ns[ni++],Wi-=3;Wi&&(Pn[ht++]=Ns[ni++],Wi>1&&(Pn[ht++]=Ns[ni++]))}else{ni=ht-ca;do Pn[ht++]=Pn[ni++],Pn[ht++]=Pn[ni++],Pn[ht++]=Pn[ni++],Wi-=3;while(Wi>2);Wi&&(Pn[ht++]=Pn[ni++],Wi>1&&(Pn[ht++]=Pn[ni++]))}}else if((an&64)===0){zi=Ci[(zi&65535)+(Fr&(1<<an)-1)];continue r}else{Te.msg="invalid distance code",bi.mode=Bn;break e}break}}else if((an&64)===0){zi=la[(zi&65535)+(Fr&(1<<an)-1)];continue t}else if(an&32){bi.mode=cs;break e}else{Te.msg="invalid literal/length code",bi.mode=Bn;break e}break}}while(He<mt&&ht<Ot);Wi=wr>>3,He-=Wi,wr-=Wi<<3,Fr&=(1<<wr)-1,Te.next_in=He,Te.next_out=ht,Te.avail_in=He<mt?5+(mt-He):5-(He-mt),Te.avail_out=ht<Ot?257+(Ot-ht):257-(ht-Ot),bi.hold=Fr,bi.bits=wr};const Ln=15,vi=852,Gn=592,Bi=0,As=1,Gi=2,ns=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Ea=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),oi=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),ga=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var ri=(k,Te,Y,He,mt,ht,ir,Ot)=>{const xn=Ot.bits;let Nt=0,sr=0,Ii=0,cn=0,Fr=0,wr=0,la=0,Ci=0,li=0,wi=0,zi,an,Wi,ca,ni,Ns=null,is;const Pn=new Uint16Array(Ln+1),bi=new Uint16Array(Ln+1);let bl=null,Cu,Bc,Vo;for(Nt=0;Nt<=Ln;Nt++)Pn[Nt]=0;for(sr=0;sr<He;sr++)Pn[Te[Y+sr]]++;for(Fr=xn,cn=Ln;cn>=1&&Pn[cn]===0;cn--);if(Fr>cn&&(Fr=cn),cn===0)return mt[ht++]=1<<24|64<<16|0,mt[ht++]=1<<24|64<<16|0,Ot.bits=1,0;for(Ii=1;Ii<cn&&Pn[Ii]===0;Ii++);for(Fr<Ii&&(Fr=Ii),Ci=1,Nt=1;Nt<=Ln;Nt++)if(Ci<<=1,Ci-=Pn[Nt],Ci<0)return-1;if(Ci>0&&(k===Bi||cn!==1))return-1;for(bi[1]=0,Nt=1;Nt<Ln;Nt++)bi[Nt+1]=bi[Nt]+Pn[Nt];for(sr=0;sr<He;sr++)Te[Y+sr]!==0&&(ir[bi[Te[Y+sr]]++]=sr);if(k===Bi?(Ns=bl=ir,is=20):k===As?(Ns=ns,bl=Ea,is=257):(Ns=oi,bl=ga,is=0),wi=0,sr=0,Nt=Ii,ni=ht,wr=Fr,la=0,Wi=-1,li=1<<Fr,ca=li-1,k===As&&li>vi||k===Gi&&li>Gn)return 1;for(;;){Cu=Nt-la,ir[sr]+1<is?(Bc=0,Vo=ir[sr]):ir[sr]>=is?(Bc=bl[ir[sr]-is],Vo=Ns[ir[sr]-is]):(Bc=96,Vo=0),zi=1<<Nt-la,an=1<<wr,Ii=an;do an-=zi,mt[ni+(wi>>la)+an]=Cu<<24|Bc<<16|Vo|0;while(an!==0);for(zi=1<<Nt-1;wi&zi;)zi>>=1;if(zi!==0?(wi&=zi-1,wi+=zi):wi=0,sr++,--Pn[Nt]===0){if(Nt===cn)break;Nt=Te[Y+ir[sr]]}if(Nt>Fr&&(wi&ca)!==Wi){for(la===0&&(la=Fr),ni+=Ii,wr=Nt-la,Ci=1<<wr;wr+la<cn&&(Ci-=Pn[wr+la],!(Ci<=0));)wr++,Ci<<=1;if(li+=1<<wr,k===As&&li>vi||k===Gi&&li>Gn)return 1;Wi=wi&ca,mt[Wi]=Fr<<24|wr<<16|ni-ht|0}}return wi!==0&&(mt[ni+wi]=Nt-la<<24|64<<16|0),Ot.bits=Fr,0};const Ys=0,Pi=1,fn=2,{Z_FINISH:Xi,Z_BLOCK:Fd,Z_TREES:Co,Z_OK:cl,Z_STREAM_END:xu,Z_NEED_DICT:xi,Z_STREAM_ERROR:$a,Z_DATA_ERROR:qa,Z_MEM_ERROR:lc,Z_BUF_ERROR:Rl,Z_DEFLATED:fa}=$i,Xa=16180,Ha=16181,zc=16182,jo=16183,Sc=16184,gl=16185,Wc=16186,Ol=16187,_c=16188,Ud=16189,Tc=16190,Pl=16191,gd=16192,$d=16193,qu=16194,cc=16195,vd=16196,Dl=16197,Yc=16198,vl=16199,Xu=16200,yd=16201,sh=16202,bu=16203,Af=16204,ah=16205,yl=16206,Bh=16207,Ml=16208,Ti=16209,qc=16210,wu=16211,Eu=852,xd=592,$o=15,Su=k=>(k>>>24&255)+(k>>>8&65280)+((k&65280)<<8)+((k&255)<<24);function oh(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Ho=k=>{if(!k)return 1;const Te=k.state;return!Te||Te.strm!==k||Te.mode<Xa||Te.mode>wu?1:0},Hd=k=>{if(Ho(k))return $a;const Te=k.state;return k.total_in=k.total_out=Te.total=0,k.msg="",Te.wrap&&(k.adler=Te.wrap&1),Te.mode=Xa,Te.last=0,Te.havedict=0,Te.flags=-1,Te.dmax=32768,Te.head=null,Te.hold=0,Te.bits=0,Te.lencode=Te.lendyn=new Int32Array(Eu),Te.distcode=Te.distdyn=new Int32Array(xd),Te.sane=1,Te.back=-1,cl},Fl=k=>{if(Ho(k))return $a;const Te=k.state;return Te.wsize=0,Te.whave=0,Te.wnext=0,Hd(k)},lh=(k,Te)=>{let Y;if(Ho(k))return $a;const He=k.state;return Te<0?(Y=0,Te=-Te):(Y=(Te>>4)+5,Te<48&&(Te&=15)),Te&&(Te<8||Te>15)?$a:(He.window!==null&&He.wbits!==Te&&(He.window=null),He.wrap=Y,He.wbits=Te,Fl(k))},_u=(k,Te)=>{if(!k)return $a;const Y=new oh;k.state=Y,Y.strm=k,Y.window=null,Y.mode=Xa;const He=lh(k,Te);return He!==cl&&(k.state=null),He},xl=k=>_u(k,$o);let rl=!0,Tu,Cc;const uc=k=>{if(rl){Tu=new Int32Array(512),Cc=new Int32Array(32);let Te=0;for(;Te<144;)k.lens[Te++]=8;for(;Te<256;)k.lens[Te++]=9;for(;Te<280;)k.lens[Te++]=7;for(;Te<288;)k.lens[Te++]=8;for(ri(Pi,k.lens,0,288,Tu,0,k.work,{bits:9}),Te=0;Te<32;)k.lens[Te++]=5;ri(fn,k.lens,0,32,Cc,0,k.work,{bits:5}),rl=!1}k.lencode=Tu,k.lenbits=9,k.distcode=Cc,k.distbits=5},jc=(k,Te,Y,He)=>{let mt;const ht=k.state;return ht.window===null&&(ht.wsize=1<<ht.wbits,ht.wnext=0,ht.whave=0,ht.window=new Uint8Array(ht.wsize)),He>=ht.wsize?(ht.window.set(Te.subarray(Y-ht.wsize,Y),0),ht.wnext=0,ht.whave=ht.wsize):(mt=ht.wsize-ht.wnext,mt>He&&(mt=He),ht.window.set(Te.subarray(Y-He,Y-He+mt),ht.wnext),He-=mt,He?(ht.window.set(Te.subarray(Y-He,Y),0),ht.wnext=He,ht.whave=ht.wsize):(ht.wnext+=mt,ht.wnext===ht.wsize&&(ht.wnext=0),ht.whave<ht.wsize&&(ht.whave+=mt))),0},Wf=(k,Te)=>{let Y,He,mt,ht,ir,Ot,xn,Nt,sr,Ii,cn,Fr,wr,la,Ci=0,li,wi,zi,an,Wi,ca,ni,Ns;const is=new Uint8Array(4);let Pn,bi;const bl=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Ho(k)||!k.output||!k.input&&k.avail_in!==0)return $a;Y=k.state,Y.mode===Pl&&(Y.mode=gd),ir=k.next_out,mt=k.output,xn=k.avail_out,ht=k.next_in,He=k.input,Ot=k.avail_in,Nt=Y.hold,sr=Y.bits,Ii=Ot,cn=xn,Ns=cl;e:for(;;)switch(Y.mode){case Xa:if(Y.wrap===0){Y.mode=gd;break}for(;sr<16;){if(Ot===0)break e;Ot--,Nt+=He[ht++]<<sr,sr+=8}if(Y.wrap&2&&Nt===35615){Y.wbits===0&&(Y.wbits=15),Y.check=0,is[0]=Nt&255,is[1]=Nt>>>8&255,Y.check=$n(Y.check,is,2,0),Nt=0,sr=0,Y.mode=Ha;break}if(Y.head&&(Y.head.done=!1),!(Y.wrap&1)||(((Nt&255)<<8)+(Nt>>8))%31){k.msg="incorrect header check",Y.mode=Ti;break}if((Nt&15)!==fa){k.msg="unknown compression method",Y.mode=Ti;break}if(Nt>>>=4,sr-=4,ni=(Nt&15)+8,Y.wbits===0&&(Y.wbits=ni),ni>15||ni>Y.wbits){k.msg="invalid window size",Y.mode=Ti;break}Y.dmax=1<<Y.wbits,Y.flags=0,k.adler=Y.check=1,Y.mode=Nt&512?Ud:Pl,Nt=0,sr=0;break;case Ha:for(;sr<16;){if(Ot===0)break e;Ot--,Nt+=He[ht++]<<sr,sr+=8}if(Y.flags=Nt,(Y.flags&255)!==fa){k.msg="unknown compression method",Y.mode=Ti;break}if(Y.flags&57344){k.msg="unknown header flags set",Y.mode=Ti;break}Y.head&&(Y.head.text=Nt>>8&1),Y.flags&512&&Y.wrap&4&&(is[0]=Nt&255,is[1]=Nt>>>8&255,Y.check=$n(Y.check,is,2,0)),Nt=0,sr=0,Y.mode=zc;case zc:for(;sr<32;){if(Ot===0)break e;Ot--,Nt+=He[ht++]<<sr,sr+=8}Y.head&&(Y.head.time=Nt),Y.flags&512&&Y.wrap&4&&(is[0]=Nt&255,is[1]=Nt>>>8&255,is[2]=Nt>>>16&255,is[3]=Nt>>>24&255,Y.check=$n(Y.check,is,4,0)),Nt=0,sr=0,Y.mode=jo;case jo:for(;sr<16;){if(Ot===0)break e;Ot--,Nt+=He[ht++]<<sr,sr+=8}Y.head&&(Y.head.xflags=Nt&255,Y.head.os=Nt>>8),Y.flags&512&&Y.wrap&4&&(is[0]=Nt&255,is[1]=Nt>>>8&255,Y.check=$n(Y.check,is,2,0)),Nt=0,sr=0,Y.mode=Sc;case Sc:if(Y.flags&1024){for(;sr<16;){if(Ot===0)break e;Ot--,Nt+=He[ht++]<<sr,sr+=8}Y.length=Nt,Y.head&&(Y.head.extra_len=Nt),Y.flags&512&&Y.wrap&4&&(is[0]=Nt&255,is[1]=Nt>>>8&255,Y.check=$n(Y.check,is,2,0)),Nt=0,sr=0}else Y.head&&(Y.head.extra=null);Y.mode=gl;case gl:if(Y.flags&1024&&(Fr=Y.length,Fr>Ot&&(Fr=Ot),Fr&&(Y.head&&(ni=Y.head.extra_len-Y.length,Y.head.extra||(Y.head.extra=new Uint8Array(Y.head.extra_len)),Y.head.extra.set(He.subarray(ht,ht+Fr),ni)),Y.flags&512&&Y.wrap&4&&(Y.check=$n(Y.check,He,Fr,ht)),Ot-=Fr,ht+=Fr,Y.length-=Fr),Y.length))break e;Y.length=0,Y.mode=Wc;case Wc:if(Y.flags&2048){if(Ot===0)break e;Fr=0;do ni=He[ht+Fr++],Y.head&&ni&&Y.length<65536&&(Y.head.name+=String.fromCharCode(ni));while(ni&&Fr<Ot);if(Y.flags&512&&Y.wrap&4&&(Y.check=$n(Y.check,He,Fr,ht)),Ot-=Fr,ht+=Fr,ni)break e}else Y.head&&(Y.head.name=null);Y.length=0,Y.mode=Ol;case Ol:if(Y.flags&4096){if(Ot===0)break e;Fr=0;do ni=He[ht+Fr++],Y.head&&ni&&Y.length<65536&&(Y.head.comment+=String.fromCharCode(ni));while(ni&&Fr<Ot);if(Y.flags&512&&Y.wrap&4&&(Y.check=$n(Y.check,He,Fr,ht)),Ot-=Fr,ht+=Fr,ni)break e}else Y.head&&(Y.head.comment=null);Y.mode=_c;case _c:if(Y.flags&512){for(;sr<16;){if(Ot===0)break e;Ot--,Nt+=He[ht++]<<sr,sr+=8}if(Y.wrap&4&&Nt!==(Y.check&65535)){k.msg="header crc mismatch",Y.mode=Ti;break}Nt=0,sr=0}Y.head&&(Y.head.hcrc=Y.flags>>9&1,Y.head.done=!0),k.adler=Y.check=0,Y.mode=Pl;break;case Ud:for(;sr<32;){if(Ot===0)break e;Ot--,Nt+=He[ht++]<<sr,sr+=8}k.adler=Y.check=Su(Nt),Nt=0,sr=0,Y.mode=Tc;case Tc:if(Y.havedict===0)return k.next_out=ir,k.avail_out=xn,k.next_in=ht,k.avail_in=Ot,Y.hold=Nt,Y.bits=sr,xi;k.adler=Y.check=1,Y.mode=Pl;case Pl:if(Te===Fd||Te===Co)break e;case gd:if(Y.last){Nt>>>=sr&7,sr-=sr&7,Y.mode=yl;break}for(;sr<3;){if(Ot===0)break e;Ot--,Nt+=He[ht++]<<sr,sr+=8}switch(Y.last=Nt&1,Nt>>>=1,sr-=1,Nt&3){case 0:Y.mode=$d;break;case 1:if(uc(Y),Y.mode=vl,Te===Co){Nt>>>=2,sr-=2;break e}break;case 2:Y.mode=vd;break;case 3:k.msg="invalid block type",Y.mode=Ti}Nt>>>=2,sr-=2;break;case $d:for(Nt>>>=sr&7,sr-=sr&7;sr<32;){if(Ot===0)break e;Ot--,Nt+=He[ht++]<<sr,sr+=8}if((Nt&65535)!==(Nt>>>16^65535)){k.msg="invalid stored block lengths",Y.mode=Ti;break}if(Y.length=Nt&65535,Nt=0,sr=0,Y.mode=qu,Te===Co)break e;case qu:Y.mode=cc;case cc:if(Fr=Y.length,Fr){if(Fr>Ot&&(Fr=Ot),Fr>xn&&(Fr=xn),Fr===0)break e;mt.set(He.subarray(ht,ht+Fr),ir),Ot-=Fr,ht+=Fr,xn-=Fr,ir+=Fr,Y.length-=Fr;break}Y.mode=Pl;break;case vd:for(;sr<14;){if(Ot===0)break e;Ot--,Nt+=He[ht++]<<sr,sr+=8}if(Y.nlen=(Nt&31)+257,Nt>>>=5,sr-=5,Y.ndist=(Nt&31)+1,Nt>>>=5,sr-=5,Y.ncode=(Nt&15)+4,Nt>>>=4,sr-=4,Y.nlen>286||Y.ndist>30){k.msg="too many length or distance symbols",Y.mode=Ti;break}Y.have=0,Y.mode=Dl;case Dl:for(;Y.have<Y.ncode;){for(;sr<3;){if(Ot===0)break e;Ot--,Nt+=He[ht++]<<sr,sr+=8}Y.lens[bl[Y.have++]]=Nt&7,Nt>>>=3,sr-=3}for(;Y.have<19;)Y.lens[bl[Y.have++]]=0;if(Y.lencode=Y.lendyn,Y.lenbits=7,Pn={bits:Y.lenbits},Ns=ri(Ys,Y.lens,0,19,Y.lencode,0,Y.work,Pn),Y.lenbits=Pn.bits,Ns){k.msg="invalid code lengths set",Y.mode=Ti;break}Y.have=0,Y.mode=Yc;case Yc:for(;Y.have<Y.nlen+Y.ndist;){for(;Ci=Y.lencode[Nt&(1<<Y.lenbits)-1],li=Ci>>>24,wi=Ci>>>16&255,zi=Ci&65535,!(li<=sr);){if(Ot===0)break e;Ot--,Nt+=He[ht++]<<sr,sr+=8}if(zi<16)Nt>>>=li,sr-=li,Y.lens[Y.have++]=zi;else{if(zi===16){for(bi=li+2;sr<bi;){if(Ot===0)break e;Ot--,Nt+=He[ht++]<<sr,sr+=8}if(Nt>>>=li,sr-=li,Y.have===0){k.msg="invalid bit length repeat",Y.mode=Ti;break}ni=Y.lens[Y.have-1],Fr=3+(Nt&3),Nt>>>=2,sr-=2}else if(zi===17){for(bi=li+3;sr<bi;){if(Ot===0)break e;Ot--,Nt+=He[ht++]<<sr,sr+=8}Nt>>>=li,sr-=li,ni=0,Fr=3+(Nt&7),Nt>>>=3,sr-=3}else{for(bi=li+7;sr<bi;){if(Ot===0)break e;Ot--,Nt+=He[ht++]<<sr,sr+=8}Nt>>>=li,sr-=li,ni=0,Fr=11+(Nt&127),Nt>>>=7,sr-=7}if(Y.have+Fr>Y.nlen+Y.ndist){k.msg="invalid bit length repeat",Y.mode=Ti;break}for(;Fr--;)Y.lens[Y.have++]=ni}}if(Y.mode===Ti)break;if(Y.lens[256]===0){k.msg="invalid code -- missing end-of-block",Y.mode=Ti;break}if(Y.lenbits=9,Pn={bits:Y.lenbits},Ns=ri(Pi,Y.lens,0,Y.nlen,Y.lencode,0,Y.work,Pn),Y.lenbits=Pn.bits,Ns){k.msg="invalid literal/lengths set",Y.mode=Ti;break}if(Y.distbits=6,Y.distcode=Y.distdyn,Pn={bits:Y.distbits},Ns=ri(fn,Y.lens,Y.nlen,Y.ndist,Y.distcode,0,Y.work,Pn),Y.distbits=Pn.bits,Ns){k.msg="invalid distances set",Y.mode=Ti;break}if(Y.mode=vl,Te===Co)break e;case vl:Y.mode=Xu;case Xu:if(Ot>=6&&xn>=258){k.next_out=ir,k.avail_out=xn,k.next_in=ht,k.avail_in=Ot,Y.hold=Nt,Y.bits=sr,di(k,cn),ir=k.next_out,mt=k.output,xn=k.avail_out,ht=k.next_in,He=k.input,Ot=k.avail_in,Nt=Y.hold,sr=Y.bits,Y.mode===Pl&&(Y.back=-1);break}for(Y.back=0;Ci=Y.lencode[Nt&(1<<Y.lenbits)-1],li=Ci>>>24,wi=Ci>>>16&255,zi=Ci&65535,!(li<=sr);){if(Ot===0)break e;Ot--,Nt+=He[ht++]<<sr,sr+=8}if(wi&&(wi&240)===0){for(an=li,Wi=wi,ca=zi;Ci=Y.lencode[ca+((Nt&(1<<an+Wi)-1)>>an)],li=Ci>>>24,wi=Ci>>>16&255,zi=Ci&65535,!(an+li<=sr);){if(Ot===0)break e;Ot--,Nt+=He[ht++]<<sr,sr+=8}Nt>>>=an,sr-=an,Y.back+=an}if(Nt>>>=li,sr-=li,Y.back+=li,Y.length=zi,wi===0){Y.mode=ah;break}if(wi&32){Y.back=-1,Y.mode=Pl;break}if(wi&64){k.msg="invalid literal/length code",Y.mode=Ti;break}Y.extra=wi&15,Y.mode=yd;case yd:if(Y.extra){for(bi=Y.extra;sr<bi;){if(Ot===0)break e;Ot--,Nt+=He[ht++]<<sr,sr+=8}Y.length+=Nt&(1<<Y.extra)-1,Nt>>>=Y.extra,sr-=Y.extra,Y.back+=Y.extra}Y.was=Y.length,Y.mode=sh;case sh:for(;Ci=Y.distcode[Nt&(1<<Y.distbits)-1],li=Ci>>>24,wi=Ci>>>16&255,zi=Ci&65535,!(li<=sr);){if(Ot===0)break e;Ot--,Nt+=He[ht++]<<sr,sr+=8}if((wi&240)===0){for(an=li,Wi=wi,ca=zi;Ci=Y.distcode[ca+((Nt&(1<<an+Wi)-1)>>an)],li=Ci>>>24,wi=Ci>>>16&255,zi=Ci&65535,!(an+li<=sr);){if(Ot===0)break e;Ot--,Nt+=He[ht++]<<sr,sr+=8}Nt>>>=an,sr-=an,Y.back+=an}if(Nt>>>=li,sr-=li,Y.back+=li,wi&64){k.msg="invalid distance code",Y.mode=Ti;break}Y.offset=zi,Y.extra=wi&15,Y.mode=bu;case bu:if(Y.extra){for(bi=Y.extra;sr<bi;){if(Ot===0)break e;Ot--,Nt+=He[ht++]<<sr,sr+=8}Y.offset+=Nt&(1<<Y.extra)-1,Nt>>>=Y.extra,sr-=Y.extra,Y.back+=Y.extra}if(Y.offset>Y.dmax){k.msg="invalid distance too far back",Y.mode=Ti;break}Y.mode=Af;case Af:if(xn===0)break e;if(Fr=cn-xn,Y.offset>Fr){if(Fr=Y.offset-Fr,Fr>Y.whave&&Y.sane){k.msg="invalid distance too far back",Y.mode=Ti;break}Fr>Y.wnext?(Fr-=Y.wnext,wr=Y.wsize-Fr):wr=Y.wnext-Fr,Fr>Y.length&&(Fr=Y.length),la=Y.window}else la=mt,wr=ir-Y.offset,Fr=Y.length;Fr>xn&&(Fr=xn),xn-=Fr,Y.length-=Fr;do mt[ir++]=la[wr++];while(--Fr);Y.length===0&&(Y.mode=Xu);break;case ah:if(xn===0)break e;mt[ir++]=Y.length,xn--,Y.mode=Xu;break;case yl:if(Y.wrap){for(;sr<32;){if(Ot===0)break e;Ot--,Nt|=He[ht++]<<sr,sr+=8}if(cn-=xn,k.total_out+=cn,Y.total+=cn,Y.wrap&4&&cn&&(k.adler=Y.check=Y.flags?$n(Y.check,mt,cn,ir-cn):Wn(Y.check,mt,cn,ir-cn)),cn=xn,Y.wrap&4&&(Y.flags?Nt:Su(Nt))!==Y.check){k.msg="incorrect data check",Y.mode=Ti;break}Nt=0,sr=0}Y.mode=Bh;case Bh:if(Y.wrap&&Y.flags){for(;sr<32;){if(Ot===0)break e;Ot--,Nt+=He[ht++]<<sr,sr+=8}if(Y.wrap&4&&Nt!==(Y.total&4294967295)){k.msg="incorrect length check",Y.mode=Ti;break}Nt=0,sr=0}Y.mode=Ml;case Ml:Ns=xu;break e;case Ti:Ns=qa;break e;case qc:return lc;case wu:default:return $a}return k.next_out=ir,k.avail_out=xn,k.next_in=ht,k.avail_in=Ot,Y.hold=Nt,Y.bits=sr,(Y.wsize||cn!==k.avail_out&&Y.mode<Ti&&(Y.mode<yl||Te!==Xi))&&jc(k,k.output,k.next_out,cn-k.avail_out),Ii-=k.avail_in,cn-=k.avail_out,k.total_in+=Ii,k.total_out+=cn,Y.total+=cn,Y.wrap&4&&cn&&(k.adler=Y.check=Y.flags?$n(Y.check,mt,cn,k.next_out-cn):Wn(Y.check,mt,cn,k.next_out-cn)),k.data_type=Y.bits+(Y.last?64:0)+(Y.mode===Pl?128:0)+(Y.mode===vl||Y.mode===qu?256:0),(Ii===0&&cn===0||Te===Xi)&&Ns===cl&&(Ns=Rl),Ns},Zc=k=>{if(Ho(k))return $a;let Te=k.state;return Te.window&&(Te.window=null),k.state=null,cl},Yf=(k,Te)=>{if(Ho(k))return $a;const Y=k.state;return(Y.wrap&2)===0?$a:(Y.head=Te,Te.done=!1,cl)},ch=(k,Te)=>{const Y=Te.length;let He,mt,ht;return Ho(k)||(He=k.state,He.wrap!==0&&He.mode!==Tc)?$a:He.mode===Tc&&(mt=1,mt=Wn(mt,Te,Y,0),mt!==He.check)?qa:(ht=jc(k,Te,Y,Y),ht?(He.mode=qc,lc):(He.havedict=1,cl))};var No=Fl,va=lh,mn=Hd,bd=xl,Nc=_u,uh=Wf,Ul=Zc,wd=Yf,qf=ch,dh="pako inflate (from Nodeca project)",Qo={inflateReset:No,inflateReset2:va,inflateResetKeep:mn,inflateInit:bd,inflateInit2:Nc,inflate:uh,inflateEnd:Ul,inflateGetHeader:wd,inflateSetDictionary:qf,inflateInfo:dh};function Qd(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Ic=Qd;const mf=Object.prototype.toString,{Z_NO_FLUSH:dc,Z_FINISH:Zu,Z_OK:$l,Z_STREAM_END:hc,Z_NEED_DICT:hh,Z_STREAM_ERROR:kc,Z_DATA_ERROR:Ju,Z_MEM_ERROR:Vd}=$i;function fc(k){this.options=Er.assign({chunkSize:65536,windowBits:15,to:""},k||{});const Te=this.options;Te.raw&&Te.windowBits>=0&&Te.windowBits<16&&(Te.windowBits=-Te.windowBits,Te.windowBits===0&&(Te.windowBits=-15)),Te.windowBits>=0&&Te.windowBits<16&&!(k&&k.windowBits)&&(Te.windowBits+=32),Te.windowBits>15&&Te.windowBits<48&&(Te.windowBits&15)===0&&(Te.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Qt,this.strm.avail_out=0;let Y=Qo.inflateInit2(this.strm,Te.windowBits);if(Y!==$l)throw new Error(zr[Y]);if(this.header=new Ic,Qo.inflateGetHeader(this.strm,this.header),Te.dictionary&&(typeof Te.dictionary=="string"?Te.dictionary=bt.string2buf(Te.dictionary):mf.call(Te.dictionary)==="[object ArrayBuffer]"&&(Te.dictionary=new Uint8Array(Te.dictionary)),Te.raw&&(Y=Qo.inflateSetDictionary(this.strm,Te.dictionary),Y!==$l)))throw new Error(zr[Y])}fc.prototype.push=function(k,Te){const Y=this.strm,He=this.options.chunkSize,mt=this.options.dictionary;let ht,ir,Ot;if(this.ended)return!1;for(Te===~~Te?ir=Te:ir=Te===!0?Zu:dc,mf.call(k)==="[object ArrayBuffer]"?Y.input=new Uint8Array(k):Y.input=k,Y.next_in=0,Y.avail_in=Y.input.length;;){for(Y.avail_out===0&&(Y.output=new Uint8Array(He),Y.next_out=0,Y.avail_out=He),ht=Qo.inflate(Y,ir),ht===hh&&mt&&(ht=Qo.inflateSetDictionary(Y,mt),ht===$l?ht=Qo.inflate(Y,ir):ht===Ju&&(ht=hh));Y.avail_in>0&&ht===hc&&Y.state.wrap>0&&k[Y.next_in]!==0;)Qo.inflateReset(Y),ht=Qo.inflate(Y,ir);switch(ht){case kc:case Ju:case hh:case Vd:return this.onEnd(ht),this.ended=!0,!1}if(Ot=Y.avail_out,Y.next_out&&(Y.avail_out===0||ht===hc))if(this.options.to==="string"){let xn=bt.utf8border(Y.output,Y.next_out),Nt=Y.next_out-xn,sr=bt.buf2string(Y.output,xn);Y.next_out=Nt,Y.avail_out=He-Nt,Nt&&Y.output.set(Y.output.subarray(xn,xn+Nt),0),this.onData(sr)}else this.onData(Y.output.length===Y.next_out?Y.output:Y.output.subarray(0,Y.next_out));if(!(ht===$l&&Ot===0)){if(ht===hc)return ht=Qo.inflateEnd(this.strm),this.onEnd(ht),this.ended=!0,!0;if(Y.avail_in===0)break}}return!0},fc.prototype.onData=function(k){this.chunks.push(k)},fc.prototype.onEnd=function(k){k===$l&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Er.flattenChunks(this.chunks)),this.chunks=[],this.err=k,this.msg=this.strm.msg};function Oa(k,Te){const Y=new fc(Te);if(Y.push(k),Y.err)throw Y.msg||zr[Y.err];return Y.result}function fh(k,Te){return Te=Te||{},Te.raw=!0,Oa(k,Te)}var Xf=fc,RA=Oa,Kd=fh,Gd=Oa,Za={Inflate:Xf,inflate:RA,inflateRaw:Kd,ungzip:Gd};const{Deflate:zd,deflate:Ah,deflateRaw:re,gzip:Ne}=Qi,{Inflate:dt,inflate:wt,inflateRaw:Vt,ungzip:Cr}=Za;var Dr=zd,Rn=Ah,On=re,Ni=Ne,Di=dt,js=wt,oa=Vt,Ja=Cr,Js=$i,fo={Deflate:Dr,deflate:Rn,deflateRaw:On,gzip:Ni,Inflate:Di,inflate:js,inflateRaw:oa,ungzip:Ja,constants:Js}}),"./node_modules/performance-now/lib/performance-now.js":(function(c){(function(){var u,o,d,f,A,p;typeof performance<"u"&&performance!==null&&performance.now?c.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(c.exports=function(){return(u()-A)/1e6},o=process.hrtime,u=function(){var g;return g=o(),g[0]*1e9+g[1]},f=u(),p=process.uptime()*1e9,A=f-p):Date.now?(c.exports=function(){return Date.now()-d},d=Date.now()):(c.exports=function(){return new Date().getTime()-d},d=new Date().getTime())}).call(this)}),"./node_modules/raf/index.js":(function(c,u,o){for(var d=o("./node_modules/performance-now/lib/performance-now.js"),f=typeof window>"u"?b1:window,A=["moz","webkit"],p="AnimationFrame",g=f["request"+p],y=f["cancel"+p]||f["cancelRequest"+p],v=0;!g&&v<A.length;v++)g=f[A[v]+"Request"+p],y=f[A[v]+"Cancel"+p]||f[A[v]+"CancelRequest"+p];if(!g||!y){var b=0,w=0,S=[],_=1e3/60;g=function(T){if(S.length===0){var L=d(),D=Math.max(0,_-(L-b));b=D+L,setTimeout(function(){var V=S.slice(0);S.length=0;for(var G=0;G<V.length;G++)if(!V[G].cancelled)try{V[G].callback(b)}catch(J){setTimeout(function(){throw J},0)}},Math.round(D))}return S.push({handle:++w,callback:T,cancelled:!1}),w},y=function(T){for(var L=0;L<S.length;L++)S[L].handle===T&&(S[L].cancelled=!0)}}c.exports=function(T){return g.call(f,T)},c.exports.cancel=function(){y.apply(f,arguments)},c.exports.polyfill=function(T){T||(T=f),T.requestAnimationFrame=g,T.cancelAnimationFrame=y}}),"./node_modules/rgbcolor/index.js":(function(c){c.exports=function(u){this.ok=!1,this.alpha=1,u.charAt(0)=="#"&&(u=u.substr(1,6)),u=u.replace(/ /g,""),u=u.toLowerCase();var o={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};u=o[u]||u;for(var d=[{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*((?:\d?\.)?\d)\)$/,example:["rgba(123, 234, 45, 0.8)","rgba(255,234,245,1.0)"],process:function(v){return[parseInt(v[1]),parseInt(v[2]),parseInt(v[3]),parseFloat(v[4])]}},{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(v){return[parseInt(v[1]),parseInt(v[2]),parseInt(v[3])]}},{re:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,example:["#00ff00","336699"],process:function(v){return[parseInt(v[1],16),parseInt(v[2],16),parseInt(v[3],16)]}},{re:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,example:["#fb0","f0f"],process:function(v){return[parseInt(v[1]+v[1],16),parseInt(v[2]+v[2],16),parseInt(v[3]+v[3],16)]}}],f=0;f<d.length;f++){var A=d[f].re,p=d[f].process,g=A.exec(u);if(g){var y=p(g);this.r=y[0],this.g=y[1],this.b=y[2],y.length>3&&(this.alpha=y[3]),this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.alpha=this.alpha<0?0:this.alpha>1||isNaN(this.alpha)?1:this.alpha,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.alpha+")"},this.toHex=function(){var v=this.r.toString(16),b=this.g.toString(16),w=this.b.toString(16);return v.length==1&&(v="0"+v),b.length==1&&(b="0"+b),w.length==1&&(w="0"+w),"#"+v+b+w},this.getHelpXML=function(){for(var v=new Array,b=0;b<d.length;b++)for(var w=d[b].example,S=0;S<w.length;S++)v[v.length]=w[S];for(var _ in o)v[v.length]=_;var T=document.createElement("ul");T.setAttribute("id","rgbcolor-examples");for(var b=0;b<v.length;b++)try{var L=document.createElement("li"),D=new RGBColor(v[b]),V=document.createElement("div");V.style.cssText="margin: 3px; border: 1px solid black; background:"+D.toHex()+"; color:"+D.toHex(),V.appendChild(document.createTextNode("test"));var G=document.createTextNode(" "+v[b]+" -> "+D.toRGB()+" -> "+D.toHex());L.appendChild(V),L.appendChild(G),T.appendChild(L)}catch{}return T}}}),"./node_modules/stackblur-canvas/dist/stackblur-es.js":(function(c,u,o){o.r(u),o.d(u,{BlurStack:function(){return _},canvasRGB:function(){return w},canvasRGBA:function(){return v},image:function(){return g},imageDataRGB:function(){return S},imageDataRGBA:function(){return b}});function d(T){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?d=function(L){return typeof L}:d=function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},d(T)}function f(T,L){if(!(T instanceof L))throw new TypeError("Cannot call a class as a function")}var A=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],p=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function g(T,L,D,V,G,J){if(typeof T=="string"&&(T=document.getElementById(T)),!(!T||Object.prototype.toString.call(T).slice(8,-1)==="HTMLImageElement"&&!("naturalWidth"in T))){var ee=G?"offset":"natural",ue=T[ee+"Width"],pe=T[ee+"Height"];if(Object.prototype.toString.call(T).slice(8,-1)==="ImageBitmap"&&(ue=T.width,pe=T.height),typeof L=="string"&&(L=document.getElementById(L)),!(!L||!("getContext"in L))){J||(L.style.width=ue+"px",L.style.height=pe+"px"),L.width=ue,L.height=pe;var ge=L.getContext("2d");ge.clearRect(0,0,ue,pe),ge.drawImage(T,0,0,T.naturalWidth,T.naturalHeight,0,0,ue,pe),!(isNaN(D)||D<1)&&(V?v(L,0,0,ue,pe,D):w(L,0,0,ue,pe,D))}}}function y(T,L,D,V,G){if(typeof T=="string"&&(T=document.getElementById(T)),!T||d(T)!=="object"||!("getContext"in T))throw new TypeError("Expecting canvas with `getContext` method in processCanvasRGB(A) calls!");var J=T.getContext("2d");try{return J.getImageData(L,D,V,G)}catch(ee){throw new Error("unable to access image data: "+ee)}}function v(T,L,D,V,G,J){if(!(isNaN(J)||J<1)){J|=0;var ee=y(T,L,D,V,G);ee=b(ee,L,D,V,G,J),T.getContext("2d").putImageData(ee,L,D)}}function b(T,L,D,V,G,J){for(var ee=T.data,ue=2*J+1,pe=V-1,ge=G-1,he=J+1,ne=he*(he+1)/2,Ae=new _,oe=Ae,Be,ke=1;ke<ue;ke++)oe=oe.next=new _,ke===he&&(Be=oe);oe.next=Ae;for(var ve=null,se=null,me=0,je=0,Ue=A[J],De=p[J],ot=0;ot<G;ot++){oe=Ae;for(var ft=ee[je],Ce=ee[je+1],Ze=ee[je+2],ze=ee[je+3],$e=0;$e<he;$e++)oe.r=ft,oe.g=Ce,oe.b=Ze,oe.a=ze,oe=oe.next;for(var ct=0,Fe=0,xt=0,pt=0,Bt=he*ft,qt=he*Ce,Yr=he*Ze,yr=he*ze,Wr=ne*ft,hn=ne*Ce,Tn=ne*Ze,Jr=ne*ze,sn=1;sn<he;sn++){var on=je+((pe<sn?pe:sn)<<2),Fn=ee[on],Qn=ee[on+1],gi=ee[on+2],Je=ee[on+3],Ut=he-sn;Wr+=(oe.r=Fn)*Ut,hn+=(oe.g=Qn)*Ut,Tn+=(oe.b=gi)*Ut,Jr+=(oe.a=Je)*Ut,ct+=Fn,Fe+=Qn,xt+=gi,pt+=Je,oe=oe.next}ve=Ae,se=Be;for(var gr=0;gr<V;gr++){var Wt=Jr*Ue>>>De;if(ee[je+3]=Wt,Wt!==0){var Pt=255/Wt;ee[je]=(Wr*Ue>>>De)*Pt,ee[je+1]=(hn*Ue>>>De)*Pt,ee[je+2]=(Tn*Ue>>>De)*Pt}else ee[je]=ee[je+1]=ee[je+2]=0;Wr-=Bt,hn-=qt,Tn-=Yr,Jr-=yr,Bt-=ve.r,qt-=ve.g,Yr-=ve.b,yr-=ve.a;var or=gr+J+1;or=me+(or<pe?or:pe)<<2,ct+=ve.r=ee[or],Fe+=ve.g=ee[or+1],xt+=ve.b=ee[or+2],pt+=ve.a=ee[or+3],Wr+=ct,hn+=Fe,Tn+=xt,Jr+=pt,ve=ve.next;var Br=se,Ur=Br.r,vn=Br.g,qr=Br.b,Vn=Br.a;Bt+=Ur,qt+=vn,Yr+=qr,yr+=Vn,ct-=Ur,Fe-=vn,xt-=qr,pt-=Vn,se=se.next,je+=4}me+=V}for(var Qr=0;Qr<V;Qr++){je=Qr<<2;var Nr=ee[je],rn=ee[je+1],Xr=ee[je+2],yn=ee[je+3],Wn=he*Nr,ds=he*rn,vs=he*Xr,ys=he*yn,$n=ne*Nr,zr=ne*rn,$i=ne*Xr,Os=ne*yn;oe=Ae;for(var bn=0;bn<he;bn++)oe.r=Nr,oe.g=rn,oe.b=Xr,oe.a=yn,oe=oe.next;for(var La=V,ws=0,Ts=0,Es=0,Hi=0,Hs=1;Hs<=J;Hs++){je=La+Qr<<2;var xs=he-Hs;$n+=(oe.r=Nr=ee[je])*xs,zr+=(oe.g=rn=ee[je+1])*xs,$i+=(oe.b=Xr=ee[je+2])*xs,Os+=(oe.a=yn=ee[je+3])*xs,Hi+=Nr,ws+=rn,Ts+=Xr,Es+=yn,oe=oe.next,Hs<ge&&(La+=V)}je=Qr,ve=Ae,se=Be;for(var _o=0;_o<G;_o++){var rs=je<<2;ee[rs+3]=yn=Os*Ue>>>De,yn>0?(yn=255/yn,ee[rs]=($n*Ue>>>De)*yn,ee[rs+1]=(zr*Ue>>>De)*yn,ee[rs+2]=($i*Ue>>>De)*yn):ee[rs]=ee[rs+1]=ee[rs+2]=0,$n-=Wn,zr-=ds,$i-=vs,Os-=ys,Wn-=ve.r,ds-=ve.g,vs-=ve.b,ys-=ve.a,rs=Qr+((rs=_o+he)<ge?rs:ge)*V<<2,$n+=Hi+=ve.r=ee[rs],zr+=ws+=ve.g=ee[rs+1],$i+=Ts+=ve.b=ee[rs+2],Os+=Es+=ve.a=ee[rs+3],ve=ve.next,Wn+=Nr=se.r,ds+=rn=se.g,vs+=Xr=se.b,ys+=yn=se.a,Hi-=Nr,ws-=rn,Ts-=Xr,Es-=yn,se=se.next,je+=V}}return T}function w(T,L,D,V,G,J){if(!(isNaN(J)||J<1)){J|=0;var ee=y(T,L,D,V,G);ee=S(ee,L,D,V,G,J),T.getContext("2d").putImageData(ee,L,D)}}function S(T,L,D,V,G,J){for(var ee=T.data,ue=2*J+1,pe=V-1,ge=G-1,he=J+1,ne=he*(he+1)/2,Ae=new _,oe=Ae,Be,ke=1;ke<ue;ke++)oe=oe.next=new _,ke===he&&(Be=oe);oe.next=Ae;for(var ve=null,se=null,me=A[J],je=p[J],Ue,De,ot=0,ft=0,Ce=0;Ce<G;Ce++){var Ze=ee[ft],ze=ee[ft+1],$e=ee[ft+2],ct=he*Ze,Fe=he*ze,xt=he*$e,pt=ne*Ze,Bt=ne*ze,qt=ne*$e;oe=Ae;for(var Yr=0;Yr<he;Yr++)oe.r=Ze,oe.g=ze,oe.b=$e,oe=oe.next;for(var yr=0,Wr=0,hn=0,Tn=1;Tn<he;Tn++)Ue=ft+((pe<Tn?pe:Tn)<<2),pt+=(oe.r=Ze=ee[Ue])*(De=he-Tn),Bt+=(oe.g=ze=ee[Ue+1])*De,qt+=(oe.b=$e=ee[Ue+2])*De,yr+=Ze,Wr+=ze,hn+=$e,oe=oe.next;ve=Ae,se=Be;for(var Jr=0;Jr<V;Jr++)ee[ft]=pt*me>>>je,ee[ft+1]=Bt*me>>>je,ee[ft+2]=qt*me>>>je,pt-=ct,Bt-=Fe,qt-=xt,ct-=ve.r,Fe-=ve.g,xt-=ve.b,Ue=ot+((Ue=Jr+J+1)<pe?Ue:pe)<<2,yr+=ve.r=ee[Ue],Wr+=ve.g=ee[Ue+1],hn+=ve.b=ee[Ue+2],pt+=yr,Bt+=Wr,qt+=hn,ve=ve.next,ct+=Ze=se.r,Fe+=ze=se.g,xt+=$e=se.b,yr-=Ze,Wr-=ze,hn-=$e,se=se.next,ft+=4;ot+=V}for(var sn=0;sn<V;sn++){ft=sn<<2;var on=ee[ft],Fn=ee[ft+1],Qn=ee[ft+2],gi=he*on,Je=he*Fn,Ut=he*Qn,gr=ne*on,Wt=ne*Fn,Pt=ne*Qn;oe=Ae;for(var or=0;or<he;or++)oe.r=on,oe.g=Fn,oe.b=Qn,oe=oe.next;for(var Br=0,Ur=0,vn=0,qr=1,Vn=V;qr<=J;qr++)ft=Vn+sn<<2,gr+=(oe.r=on=ee[ft])*(De=he-qr),Wt+=(oe.g=Fn=ee[ft+1])*De,Pt+=(oe.b=Qn=ee[ft+2])*De,Br+=on,Ur+=Fn,vn+=Qn,oe=oe.next,qr<ge&&(Vn+=V);ft=sn,ve=Ae,se=Be;for(var Qr=0;Qr<G;Qr++)Ue=ft<<2,ee[Ue]=gr*me>>>je,ee[Ue+1]=Wt*me>>>je,ee[Ue+2]=Pt*me>>>je,gr-=gi,Wt-=Je,Pt-=Ut,gi-=ve.r,Je-=ve.g,Ut-=ve.b,Ue=sn+((Ue=Qr+he)<ge?Ue:ge)*V<<2,gr+=Br+=ve.r=ee[Ue],Wt+=Ur+=ve.g=ee[Ue+1],Pt+=vn+=ve.b=ee[Ue+2],ve=ve.next,gi+=on=se.r,Je+=Fn=se.g,Ut+=Qn=se.b,Br-=on,Ur-=Fn,vn-=Qn,se=se.next,ft+=V}return T}var _=function T(){f(this,T),this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}}),"./node_modules/svg-pathdata/lib/SVGPathData.module.js":(function(c,u,o){o.r(u),o.d(u,{COMMAND_ARG_COUNTS:function(){return ge},SVGPathData:function(){return pe},SVGPathDataParser:function(){return ue},SVGPathDataTransformer:function(){return w},encodeSVGPath:function(){return A}});var d=function(he,ne){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ae,oe){Ae.__proto__=oe}||function(Ae,oe){for(var Be in oe)Object.prototype.hasOwnProperty.call(oe,Be)&&(Ae[Be]=oe[Be])})(he,ne)};function f(he,ne){if(typeof ne!="function"&&ne!==null)throw new TypeError("Class extends value "+String(ne)+" is not a constructor or null");function Ae(){this.constructor=he}d(he,ne),he.prototype=ne===null?Object.create(ne):(Ae.prototype=ne.prototype,new Ae)}function A(he){var ne="";Array.isArray(he)||(he=[he]);for(var Ae=0;Ae<he.length;Ae++){var oe=he[Ae];if(oe.type===pe.CLOSE_PATH)ne+="z";else if(oe.type===pe.HORIZ_LINE_TO)ne+=(oe.relative?"h":"H")+oe.x;else if(oe.type===pe.VERT_LINE_TO)ne+=(oe.relative?"v":"V")+oe.y;else if(oe.type===pe.MOVE_TO)ne+=(oe.relative?"m":"M")+oe.x+" "+oe.y;else if(oe.type===pe.LINE_TO)ne+=(oe.relative?"l":"L")+oe.x+" "+oe.y;else if(oe.type===pe.CURVE_TO)ne+=(oe.relative?"c":"C")+oe.x1+" "+oe.y1+" "+oe.x2+" "+oe.y2+" "+oe.x+" "+oe.y;else if(oe.type===pe.SMOOTH_CURVE_TO)ne+=(oe.relative?"s":"S")+oe.x2+" "+oe.y2+" "+oe.x+" "+oe.y;else if(oe.type===pe.QUAD_TO)ne+=(oe.relative?"q":"Q")+oe.x1+" "+oe.y1+" "+oe.x+" "+oe.y;else if(oe.type===pe.SMOOTH_QUAD_TO)ne+=(oe.relative?"t":"T")+oe.x+" "+oe.y;else{if(oe.type!==pe.ARC)throw new Error('Unexpected command type "'+oe.type+'" at index '+Ae+".");ne+=(oe.relative?"a":"A")+oe.rX+" "+oe.rY+" "+oe.xRot+" "+ +oe.lArcFlag+" "+ +oe.sweepFlag+" "+oe.x+" "+oe.y}}return ne}function p(he,ne){var Ae=he[0],oe=he[1];return[Ae*Math.cos(ne)-oe*Math.sin(ne),Ae*Math.sin(ne)+oe*Math.cos(ne)]}function g(){for(var he=[],ne=0;ne<arguments.length;ne++)he[ne]=arguments[ne];for(var Ae=0;Ae<he.length;Ae++)if(typeof he[Ae]!="number")throw new Error("assertNumbers arguments["+Ae+"] is not a number. "+typeof he[Ae]+" == typeof "+he[Ae]);return!0}var y=Math.PI;function v(he,ne,Ae){he.lArcFlag=he.lArcFlag===0?0:1,he.sweepFlag=he.sweepFlag===0?0:1;var oe=he.rX,Be=he.rY,ke=he.x,ve=he.y;oe=Math.abs(he.rX),Be=Math.abs(he.rY);var se=p([(ne-ke)/2,(Ae-ve)/2],-he.xRot/180*y),me=se[0],je=se[1],Ue=Math.pow(me,2)/Math.pow(oe,2)+Math.pow(je,2)/Math.pow(Be,2);1<Ue&&(oe*=Math.sqrt(Ue),Be*=Math.sqrt(Ue)),he.rX=oe,he.rY=Be;var De=Math.pow(oe,2)*Math.pow(je,2)+Math.pow(Be,2)*Math.pow(me,2),ot=(he.lArcFlag!==he.sweepFlag?1:-1)*Math.sqrt(Math.max(0,(Math.pow(oe,2)*Math.pow(Be,2)-De)/De)),ft=oe*je/Be*ot,Ce=-Be*me/oe*ot,Ze=p([ft,Ce],he.xRot/180*y);he.cX=Ze[0]+(ne+ke)/2,he.cY=Ze[1]+(Ae+ve)/2,he.phi1=Math.atan2((je-Ce)/Be,(me-ft)/oe),he.phi2=Math.atan2((-je-Ce)/Be,(-me-ft)/oe),he.sweepFlag===0&&he.phi2>he.phi1&&(he.phi2-=2*y),he.sweepFlag===1&&he.phi2<he.phi1&&(he.phi2+=2*y),he.phi1*=180/y,he.phi2*=180/y}function b(he,ne,Ae){g(he,ne,Ae);var oe=he*he+ne*ne-Ae*Ae;if(0>oe)return[];if(oe===0)return[[he*Ae/(he*he+ne*ne),ne*Ae/(he*he+ne*ne)]];var Be=Math.sqrt(oe);return[[(he*Ae+ne*Be)/(he*he+ne*ne),(ne*Ae-he*Be)/(he*he+ne*ne)],[(he*Ae-ne*Be)/(he*he+ne*ne),(ne*Ae+he*Be)/(he*he+ne*ne)]]}var w,S=Math.PI/180;function _(he,ne,Ae){return(1-Ae)*he+Ae*ne}function T(he,ne,Ae,oe){return he+Math.cos(oe/180*y)*ne+Math.sin(oe/180*y)*Ae}function L(he,ne,Ae,oe){var Be=1e-6,ke=ne-he,ve=Ae-ne,se=3*ke+3*(oe-Ae)-6*ve,me=6*(ve-ke),je=3*ke;return Math.abs(se)<Be?[-je/me]:(function(Ue,De,ot){var ft=Ue*Ue/4-De;if(ft<-ot)return[];if(ft<=ot)return[-Ue/2];var Ce=Math.sqrt(ft);return[-Ue/2-Ce,-Ue/2+Ce]})(me/se,je/se,Be)}function D(he,ne,Ae,oe,Be){var ke=1-Be;return he*(ke*ke*ke)+ne*(3*ke*ke*Be)+Ae*(3*ke*Be*Be)+oe*(Be*Be*Be)}(function(he){function ne(){return Be((function(se,me,je){return se.relative&&(se.x1!==void 0&&(se.x1+=me),se.y1!==void 0&&(se.y1+=je),se.x2!==void 0&&(se.x2+=me),se.y2!==void 0&&(se.y2+=je),se.x!==void 0&&(se.x+=me),se.y!==void 0&&(se.y+=je),se.relative=!1),se}))}function Ae(){var se=NaN,me=NaN,je=NaN,Ue=NaN;return Be((function(De,ot,ft){return De.type&pe.SMOOTH_CURVE_TO&&(De.type=pe.CURVE_TO,se=isNaN(se)?ot:se,me=isNaN(me)?ft:me,De.x1=De.relative?ot-se:2*ot-se,De.y1=De.relative?ft-me:2*ft-me),De.type&pe.CURVE_TO?(se=De.relative?ot+De.x2:De.x2,me=De.relative?ft+De.y2:De.y2):(se=NaN,me=NaN),De.type&pe.SMOOTH_QUAD_TO&&(De.type=pe.QUAD_TO,je=isNaN(je)?ot:je,Ue=isNaN(Ue)?ft:Ue,De.x1=De.relative?ot-je:2*ot-je,De.y1=De.relative?ft-Ue:2*ft-Ue),De.type&pe.QUAD_TO?(je=De.relative?ot+De.x1:De.x1,Ue=De.relative?ft+De.y1:De.y1):(je=NaN,Ue=NaN),De}))}function oe(){var se=NaN,me=NaN;return Be((function(je,Ue,De){if(je.type&pe.SMOOTH_QUAD_TO&&(je.type=pe.QUAD_TO,se=isNaN(se)?Ue:se,me=isNaN(me)?De:me,je.x1=je.relative?Ue-se:2*Ue-se,je.y1=je.relative?De-me:2*De-me),je.type&pe.QUAD_TO){se=je.relative?Ue+je.x1:je.x1,me=je.relative?De+je.y1:je.y1;var ot=je.x1,ft=je.y1;je.type=pe.CURVE_TO,je.x1=((je.relative?0:Ue)+2*ot)/3,je.y1=((je.relative?0:De)+2*ft)/3,je.x2=(je.x+2*ot)/3,je.y2=(je.y+2*ft)/3}else se=NaN,me=NaN;return je}))}function Be(se){var me=0,je=0,Ue=NaN,De=NaN;return function(ot){if(isNaN(Ue)&&!(ot.type&pe.MOVE_TO))throw new Error("path must start with moveto");var ft=se(ot,me,je,Ue,De);return ot.type&pe.CLOSE_PATH&&(me=Ue,je=De),ot.x!==void 0&&(me=ot.relative?me+ot.x:ot.x),ot.y!==void 0&&(je=ot.relative?je+ot.y:ot.y),ot.type&pe.MOVE_TO&&(Ue=me,De=je),ft}}function ke(se,me,je,Ue,De,ot){return g(se,me,je,Ue,De,ot),Be((function(ft,Ce,Ze,ze){var $e=ft.x1,ct=ft.x2,Fe=ft.relative&&!isNaN(ze),xt=ft.x!==void 0?ft.x:Fe?0:Ce,pt=ft.y!==void 0?ft.y:Fe?0:Ze;function Bt(Wt){return Wt*Wt}ft.type&pe.HORIZ_LINE_TO&&me!==0&&(ft.type=pe.LINE_TO,ft.y=ft.relative?0:Ze),ft.type&pe.VERT_LINE_TO&&je!==0&&(ft.type=pe.LINE_TO,ft.x=ft.relative?0:Ce),ft.x!==void 0&&(ft.x=ft.x*se+pt*je+(Fe?0:De)),ft.y!==void 0&&(ft.y=xt*me+ft.y*Ue+(Fe?0:ot)),ft.x1!==void 0&&(ft.x1=ft.x1*se+ft.y1*je+(Fe?0:De)),ft.y1!==void 0&&(ft.y1=$e*me+ft.y1*Ue+(Fe?0:ot)),ft.x2!==void 0&&(ft.x2=ft.x2*se+ft.y2*je+(Fe?0:De)),ft.y2!==void 0&&(ft.y2=ct*me+ft.y2*Ue+(Fe?0:ot));var qt=se*Ue-me*je;if(ft.xRot!==void 0&&(se!==1||me!==0||je!==0||Ue!==1))if(qt===0)delete ft.rX,delete ft.rY,delete ft.xRot,delete ft.lArcFlag,delete ft.sweepFlag,ft.type=pe.LINE_TO;else{var Yr=ft.xRot*Math.PI/180,yr=Math.sin(Yr),Wr=Math.cos(Yr),hn=1/Bt(ft.rX),Tn=1/Bt(ft.rY),Jr=Bt(Wr)*hn+Bt(yr)*Tn,sn=2*yr*Wr*(hn-Tn),on=Bt(yr)*hn+Bt(Wr)*Tn,Fn=Jr*Ue*Ue-sn*me*Ue+on*me*me,Qn=sn*(se*Ue+me*je)-2*(Jr*je*Ue+on*se*me),gi=Jr*je*je-sn*se*je+on*se*se,Je=(Math.atan2(Qn,Fn-gi)+Math.PI)%Math.PI/2,Ut=Math.sin(Je),gr=Math.cos(Je);ft.rX=Math.abs(qt)/Math.sqrt(Fn*Bt(gr)+Qn*Ut*gr+gi*Bt(Ut)),ft.rY=Math.abs(qt)/Math.sqrt(Fn*Bt(Ut)-Qn*Ut*gr+gi*Bt(gr)),ft.xRot=180*Je/Math.PI}return ft.sweepFlag!==void 0&&0>qt&&(ft.sweepFlag=+!ft.sweepFlag),ft}))}function ve(){return function(se){var me={};for(var je in se)me[je]=se[je];return me}}he.ROUND=function(se){function me(je){return Math.round(je*se)/se}return se===void 0&&(se=1e13),g(se),function(je){return je.x1!==void 0&&(je.x1=me(je.x1)),je.y1!==void 0&&(je.y1=me(je.y1)),je.x2!==void 0&&(je.x2=me(je.x2)),je.y2!==void 0&&(je.y2=me(je.y2)),je.x!==void 0&&(je.x=me(je.x)),je.y!==void 0&&(je.y=me(je.y)),je.rX!==void 0&&(je.rX=me(je.rX)),je.rY!==void 0&&(je.rY=me(je.rY)),je}},he.TO_ABS=ne,he.TO_REL=function(){return Be((function(se,me,je){return se.relative||(se.x1!==void 0&&(se.x1-=me),se.y1!==void 0&&(se.y1-=je),se.x2!==void 0&&(se.x2-=me),se.y2!==void 0&&(se.y2-=je),se.x!==void 0&&(se.x-=me),se.y!==void 0&&(se.y-=je),se.relative=!0),se}))},he.NORMALIZE_HVZ=function(se,me,je){return se===void 0&&(se=!0),me===void 0&&(me=!0),je===void 0&&(je=!0),Be((function(Ue,De,ot,ft,Ce){if(isNaN(ft)&&!(Ue.type&pe.MOVE_TO))throw new Error("path must start with moveto");return me&&Ue.type&pe.HORIZ_LINE_TO&&(Ue.type=pe.LINE_TO,Ue.y=Ue.relative?0:ot),je&&Ue.type&pe.VERT_LINE_TO&&(Ue.type=pe.LINE_TO,Ue.x=Ue.relative?0:De),se&&Ue.type&pe.CLOSE_PATH&&(Ue.type=pe.LINE_TO,Ue.x=Ue.relative?ft-De:ft,Ue.y=Ue.relative?Ce-ot:Ce),Ue.type&pe.ARC&&(Ue.rX===0||Ue.rY===0)&&(Ue.type=pe.LINE_TO,delete Ue.rX,delete Ue.rY,delete Ue.xRot,delete Ue.lArcFlag,delete Ue.sweepFlag),Ue}))},he.NORMALIZE_ST=Ae,he.QT_TO_C=oe,he.INFO=Be,he.SANITIZE=function(se){se===void 0&&(se=0),g(se);var me=NaN,je=NaN,Ue=NaN,De=NaN;return Be((function(ot,ft,Ce,Ze,ze){var $e=Math.abs,ct=!1,Fe=0,xt=0;if(ot.type&pe.SMOOTH_CURVE_TO&&(Fe=isNaN(me)?0:ft-me,xt=isNaN(je)?0:Ce-je),ot.type&(pe.CURVE_TO|pe.SMOOTH_CURVE_TO)?(me=ot.relative?ft+ot.x2:ot.x2,je=ot.relative?Ce+ot.y2:ot.y2):(me=NaN,je=NaN),ot.type&pe.SMOOTH_QUAD_TO?(Ue=isNaN(Ue)?ft:2*ft-Ue,De=isNaN(De)?Ce:2*Ce-De):ot.type&pe.QUAD_TO?(Ue=ot.relative?ft+ot.x1:ot.x1,De=ot.relative?Ce+ot.y1:ot.y2):(Ue=NaN,De=NaN),ot.type&pe.LINE_COMMANDS||ot.type&pe.ARC&&(ot.rX===0||ot.rY===0||!ot.lArcFlag)||ot.type&pe.CURVE_TO||ot.type&pe.SMOOTH_CURVE_TO||ot.type&pe.QUAD_TO||ot.type&pe.SMOOTH_QUAD_TO){var pt=ot.x===void 0?0:ot.relative?ot.x:ot.x-ft,Bt=ot.y===void 0?0:ot.relative?ot.y:ot.y-Ce;Fe=isNaN(Ue)?ot.x1===void 0?Fe:ot.relative?ot.x:ot.x1-ft:Ue-ft,xt=isNaN(De)?ot.y1===void 0?xt:ot.relative?ot.y:ot.y1-Ce:De-Ce;var qt=ot.x2===void 0?0:ot.relative?ot.x:ot.x2-ft,Yr=ot.y2===void 0?0:ot.relative?ot.y:ot.y2-Ce;$e(pt)<=se&&$e(Bt)<=se&&$e(Fe)<=se&&$e(xt)<=se&&$e(qt)<=se&&$e(Yr)<=se&&(ct=!0)}return ot.type&pe.CLOSE_PATH&&$e(ft-Ze)<=se&&$e(Ce-ze)<=se&&(ct=!0),ct?[]:ot}))},he.MATRIX=ke,he.ROTATE=function(se,me,je){me===void 0&&(me=0),je===void 0&&(je=0),g(se,me,je);var Ue=Math.sin(se),De=Math.cos(se);return ke(De,Ue,-Ue,De,me-me*De+je*Ue,je-me*Ue-je*De)},he.TRANSLATE=function(se,me){return me===void 0&&(me=0),g(se,me),ke(1,0,0,1,se,me)},he.SCALE=function(se,me){return me===void 0&&(me=se),g(se,me),ke(se,0,0,me,0,0)},he.SKEW_X=function(se){return g(se),ke(1,0,Math.atan(se),1,0,0)},he.SKEW_Y=function(se){return g(se),ke(1,Math.atan(se),0,1,0,0)},he.X_AXIS_SYMMETRY=function(se){return se===void 0&&(se=0),g(se),ke(-1,0,0,1,se,0)},he.Y_AXIS_SYMMETRY=function(se){return se===void 0&&(se=0),g(se),ke(1,0,0,-1,0,se)},he.A_TO_C=function(){return Be((function(se,me,je){return pe.ARC===se.type?(function(Ue,De,ot){var ft,Ce,Ze,ze;Ue.cX||v(Ue,De,ot);for(var $e=Math.min(Ue.phi1,Ue.phi2),ct=Math.max(Ue.phi1,Ue.phi2)-$e,Fe=Math.ceil(ct/90),xt=new Array(Fe),pt=De,Bt=ot,qt=0;qt<Fe;qt++){var Yr=_(Ue.phi1,Ue.phi2,qt/Fe),yr=_(Ue.phi1,Ue.phi2,(qt+1)/Fe),Wr=yr-Yr,hn=4/3*Math.tan(Wr*S/4),Tn=[Math.cos(Yr*S)-hn*Math.sin(Yr*S),Math.sin(Yr*S)+hn*Math.cos(Yr*S)],Jr=Tn[0],sn=Tn[1],on=[Math.cos(yr*S),Math.sin(yr*S)],Fn=on[0],Qn=on[1],gi=[Fn+hn*Math.sin(yr*S),Qn-hn*Math.cos(yr*S)],Je=gi[0],Ut=gi[1];xt[qt]={relative:Ue.relative,type:pe.CURVE_TO};var gr=function(Wt,Pt){var or=p([Wt*Ue.rX,Pt*Ue.rY],Ue.xRot),Br=or[0],Ur=or[1];return[Ue.cX+Br,Ue.cY+Ur]};ft=gr(Jr,sn),xt[qt].x1=ft[0],xt[qt].y1=ft[1],Ce=gr(Je,Ut),xt[qt].x2=Ce[0],xt[qt].y2=Ce[1],Ze=gr(Fn,Qn),xt[qt].x=Ze[0],xt[qt].y=Ze[1],Ue.relative&&(xt[qt].x1-=pt,xt[qt].y1-=Bt,xt[qt].x2-=pt,xt[qt].y2-=Bt,xt[qt].x-=pt,xt[qt].y-=Bt),pt=(ze=[xt[qt].x,xt[qt].y])[0],Bt=ze[1]}return xt})(se,se.relative?0:me,se.relative?0:je):se}))},he.ANNOTATE_ARCS=function(){return Be((function(se,me,je){return se.relative&&(me=0,je=0),pe.ARC===se.type&&v(se,me,je),se}))},he.CLONE=ve,he.CALCULATE_BOUNDS=function(){var se=function(ot){var ft={};for(var Ce in ot)ft[Ce]=ot[Ce];return ft},me=ne(),je=oe(),Ue=Ae(),De=Be((function(ot,ft,Ce){var Ze=Ue(je(me(se(ot))));function ze(Ut){Ut>De.maxX&&(De.maxX=Ut),Ut<De.minX&&(De.minX=Ut)}function $e(Ut){Ut>De.maxY&&(De.maxY=Ut),Ut<De.minY&&(De.minY=Ut)}if(Ze.type&pe.DRAWING_COMMANDS&&(ze(ft),$e(Ce)),Ze.type&pe.HORIZ_LINE_TO&&ze(Ze.x),Ze.type&pe.VERT_LINE_TO&&$e(Ze.y),Ze.type&pe.LINE_TO&&(ze(Ze.x),$e(Ze.y)),Ze.type&pe.CURVE_TO){ze(Ze.x),$e(Ze.y);for(var ct=0,Fe=L(ft,Ze.x1,Ze.x2,Ze.x);ct<Fe.length;ct++)0<(Je=Fe[ct])&&1>Je&&ze(D(ft,Ze.x1,Ze.x2,Ze.x,Je));for(var xt=0,pt=L(Ce,Ze.y1,Ze.y2,Ze.y);xt<pt.length;xt++)0<(Je=pt[xt])&&1>Je&&$e(D(Ce,Ze.y1,Ze.y2,Ze.y,Je))}if(Ze.type&pe.ARC){ze(Ze.x),$e(Ze.y),v(Ze,ft,Ce);for(var Bt=Ze.xRot/180*Math.PI,qt=Math.cos(Bt)*Ze.rX,Yr=Math.sin(Bt)*Ze.rX,yr=-Math.sin(Bt)*Ze.rY,Wr=Math.cos(Bt)*Ze.rY,hn=Ze.phi1<Ze.phi2?[Ze.phi1,Ze.phi2]:-180>Ze.phi2?[Ze.phi2+360,Ze.phi1+360]:[Ze.phi2,Ze.phi1],Tn=hn[0],Jr=hn[1],sn=function(Ut){var gr=Ut[0],Wt=Ut[1],Pt=180*Math.atan2(Wt,gr)/Math.PI;return Pt<Tn?Pt+360:Pt},on=0,Fn=b(yr,-qt,0).map(sn);on<Fn.length;on++)(Je=Fn[on])>Tn&&Je<Jr&&ze(T(Ze.cX,qt,yr,Je));for(var Qn=0,gi=b(Wr,-Yr,0).map(sn);Qn<gi.length;Qn++){var Je;(Je=gi[Qn])>Tn&&Je<Jr&&$e(T(Ze.cY,Yr,Wr,Je))}}return ot}));return De.minX=1/0,De.maxX=-1/0,De.minY=1/0,De.maxY=-1/0,De}})(w||(w={}));var V,G=(function(){function he(){}return he.prototype.round=function(ne){return this.transform(w.ROUND(ne))},he.prototype.toAbs=function(){return this.transform(w.TO_ABS())},he.prototype.toRel=function(){return this.transform(w.TO_REL())},he.prototype.normalizeHVZ=function(ne,Ae,oe){return this.transform(w.NORMALIZE_HVZ(ne,Ae,oe))},he.prototype.normalizeST=function(){return this.transform(w.NORMALIZE_ST())},he.prototype.qtToC=function(){return this.transform(w.QT_TO_C())},he.prototype.aToC=function(){return this.transform(w.A_TO_C())},he.prototype.sanitize=function(ne){return this.transform(w.SANITIZE(ne))},he.prototype.translate=function(ne,Ae){return this.transform(w.TRANSLATE(ne,Ae))},he.prototype.scale=function(ne,Ae){return this.transform(w.SCALE(ne,Ae))},he.prototype.rotate=function(ne,Ae,oe){return this.transform(w.ROTATE(ne,Ae,oe))},he.prototype.matrix=function(ne,Ae,oe,Be,ke,ve){return this.transform(w.MATRIX(ne,Ae,oe,Be,ke,ve))},he.prototype.skewX=function(ne){return this.transform(w.SKEW_X(ne))},he.prototype.skewY=function(ne){return this.transform(w.SKEW_Y(ne))},he.prototype.xSymmetry=function(ne){return this.transform(w.X_AXIS_SYMMETRY(ne))},he.prototype.ySymmetry=function(ne){return this.transform(w.Y_AXIS_SYMMETRY(ne))},he.prototype.annotateArcs=function(){return this.transform(w.ANNOTATE_ARCS())},he})(),J=function(he){return he===" "||he==="	"||he==="\r"||he===`
`},ee=function(he){return 48<=he.charCodeAt(0)&&he.charCodeAt(0)<=57},ue=(function(he){function ne(){var Ae=he.call(this)||this;return Ae.curNumber="",Ae.curCommandType=-1,Ae.curCommandRelative=!1,Ae.canParseCommandOrComma=!0,Ae.curNumberHasExp=!1,Ae.curNumberHasExpDigits=!1,Ae.curNumberHasDecimal=!1,Ae.curArgs=[],Ae}return f(ne,he),ne.prototype.finish=function(Ae){if(Ae===void 0&&(Ae=[]),this.parse(" ",Ae),this.curArgs.length!==0||!this.canParseCommandOrComma)throw new SyntaxError("Unterminated command at the path end.");return Ae},ne.prototype.parse=function(Ae,oe){var Be=this;oe===void 0&&(oe=[]);for(var ke=function(De){oe.push(De),Be.curArgs.length=0,Be.canParseCommandOrComma=!0},ve=0;ve<Ae.length;ve++){var se=Ae[ve],me=!(this.curCommandType!==pe.ARC||this.curArgs.length!==3&&this.curArgs.length!==4||this.curNumber.length!==1||this.curNumber!=="0"&&this.curNumber!=="1"),je=ee(se)&&(this.curNumber==="0"&&se==="0"||me);if(!ee(se)||je)if(se!=="e"&&se!=="E")if(se!=="-"&&se!=="+"||!this.curNumberHasExp||this.curNumberHasExpDigits)if(se!=="."||this.curNumberHasExp||this.curNumberHasDecimal||me){if(this.curNumber&&this.curCommandType!==-1){var Ue=Number(this.curNumber);if(isNaN(Ue))throw new SyntaxError("Invalid number ending at "+ve);if(this.curCommandType===pe.ARC){if(this.curArgs.length===0||this.curArgs.length===1){if(0>Ue)throw new SyntaxError('Expected positive number, got "'+Ue+'" at index "'+ve+'"')}else if((this.curArgs.length===3||this.curArgs.length===4)&&this.curNumber!=="0"&&this.curNumber!=="1")throw new SyntaxError('Expected a flag, got "'+this.curNumber+'" at index "'+ve+'"')}this.curArgs.push(Ue),this.curArgs.length===ge[this.curCommandType]&&(pe.HORIZ_LINE_TO===this.curCommandType?ke({type:pe.HORIZ_LINE_TO,relative:this.curCommandRelative,x:Ue}):pe.VERT_LINE_TO===this.curCommandType?ke({type:pe.VERT_LINE_TO,relative:this.curCommandRelative,y:Ue}):this.curCommandType===pe.MOVE_TO||this.curCommandType===pe.LINE_TO||this.curCommandType===pe.SMOOTH_QUAD_TO?(ke({type:this.curCommandType,relative:this.curCommandRelative,x:this.curArgs[0],y:this.curArgs[1]}),pe.MOVE_TO===this.curCommandType&&(this.curCommandType=pe.LINE_TO)):this.curCommandType===pe.CURVE_TO?ke({type:pe.CURVE_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x2:this.curArgs[2],y2:this.curArgs[3],x:this.curArgs[4],y:this.curArgs[5]}):this.curCommandType===pe.SMOOTH_CURVE_TO?ke({type:pe.SMOOTH_CURVE_TO,relative:this.curCommandRelative,x2:this.curArgs[0],y2:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===pe.QUAD_TO?ke({type:pe.QUAD_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===pe.ARC&&ke({type:pe.ARC,relative:this.curCommandRelative,rX:this.curArgs[0],rY:this.curArgs[1],xRot:this.curArgs[2],lArcFlag:this.curArgs[3],sweepFlag:this.curArgs[4],x:this.curArgs[5],y:this.curArgs[6]})),this.curNumber="",this.curNumberHasExpDigits=!1,this.curNumberHasExp=!1,this.curNumberHasDecimal=!1,this.canParseCommandOrComma=!0}if(!J(se))if(se===","&&this.canParseCommandOrComma)this.canParseCommandOrComma=!1;else if(se!=="+"&&se!=="-"&&se!==".")if(je)this.curNumber=se,this.curNumberHasDecimal=!1;else{if(this.curArgs.length!==0)throw new SyntaxError("Unterminated command at index "+ve+".");if(!this.canParseCommandOrComma)throw new SyntaxError('Unexpected character "'+se+'" at index '+ve+". Command cannot follow comma");if(this.canParseCommandOrComma=!1,se!=="z"&&se!=="Z")if(se==="h"||se==="H")this.curCommandType=pe.HORIZ_LINE_TO,this.curCommandRelative=se==="h";else if(se==="v"||se==="V")this.curCommandType=pe.VERT_LINE_TO,this.curCommandRelative=se==="v";else if(se==="m"||se==="M")this.curCommandType=pe.MOVE_TO,this.curCommandRelative=se==="m";else if(se==="l"||se==="L")this.curCommandType=pe.LINE_TO,this.curCommandRelative=se==="l";else if(se==="c"||se==="C")this.curCommandType=pe.CURVE_TO,this.curCommandRelative=se==="c";else if(se==="s"||se==="S")this.curCommandType=pe.SMOOTH_CURVE_TO,this.curCommandRelative=se==="s";else if(se==="q"||se==="Q")this.curCommandType=pe.QUAD_TO,this.curCommandRelative=se==="q";else if(se==="t"||se==="T")this.curCommandType=pe.SMOOTH_QUAD_TO,this.curCommandRelative=se==="t";else{if(se!=="a"&&se!=="A")throw new SyntaxError('Unexpected character "'+se+'" at index '+ve+".");this.curCommandType=pe.ARC,this.curCommandRelative=se==="a"}else oe.push({type:pe.CLOSE_PATH}),this.canParseCommandOrComma=!0,this.curCommandType=-1}else this.curNumber=se,this.curNumberHasDecimal=se==="."}else this.curNumber+=se,this.curNumberHasDecimal=!0;else this.curNumber+=se;else this.curNumber+=se,this.curNumberHasExp=!0;else this.curNumber+=se,this.curNumberHasExpDigits=this.curNumberHasExp}return oe},ne.prototype.transform=function(Ae){return Object.create(this,{parse:{value:function(oe,Be){Be===void 0&&(Be=[]);for(var ke=0,ve=Object.getPrototypeOf(this).parse.call(this,oe);ke<ve.length;ke++){var se=ve[ke],me=Ae(se);Array.isArray(me)?Be.push.apply(Be,me):Be.push(me)}return Be}}})},ne})(G),pe=(function(he){function ne(Ae){var oe=he.call(this)||this;return oe.commands=typeof Ae=="string"?ne.parse(Ae):Ae,oe}return f(ne,he),ne.prototype.encode=function(){return ne.encode(this.commands)},ne.prototype.getBounds=function(){var Ae=w.CALCULATE_BOUNDS();return this.transform(Ae),Ae},ne.prototype.transform=function(Ae){for(var oe=[],Be=0,ke=this.commands;Be<ke.length;Be++){var ve=Ae(ke[Be]);Array.isArray(ve)?oe.push.apply(oe,ve):oe.push(ve)}return this.commands=oe,this},ne.encode=function(Ae){return A(Ae)},ne.parse=function(Ae){var oe=new ue,Be=[];return oe.parse(Ae,Be),oe.finish(Be),Be},ne.CLOSE_PATH=1,ne.MOVE_TO=2,ne.HORIZ_LINE_TO=4,ne.VERT_LINE_TO=8,ne.LINE_TO=16,ne.CURVE_TO=32,ne.SMOOTH_CURVE_TO=64,ne.QUAD_TO=128,ne.SMOOTH_QUAD_TO=256,ne.ARC=512,ne.LINE_COMMANDS=ne.LINE_TO|ne.HORIZ_LINE_TO|ne.VERT_LINE_TO,ne.DRAWING_COMMANDS=ne.HORIZ_LINE_TO|ne.VERT_LINE_TO|ne.LINE_TO|ne.CURVE_TO|ne.SMOOTH_CURVE_TO|ne.QUAD_TO|ne.SMOOTH_QUAD_TO|ne.ARC,ne})(G),ge=((V={})[pe.MOVE_TO]=2,V[pe.LINE_TO]=2,V[pe.HORIZ_LINE_TO]=1,V[pe.VERT_LINE_TO]=1,V[pe.CLOSE_PATH]=0,V[pe.QUAD_TO]=4,V[pe.SMOOTH_QUAD_TO]=2,V[pe.CURVE_TO]=6,V[pe.SMOOTH_CURVE_TO]=4,V[pe.ARC]=7,V)}),"./src/plugin/hyperlinks.js":(function(c,u,o){o.r(u),o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/es.string.link.js"),o("./node_modules/core-js/modules/esnext.iterator.constructor.js"),o("./node_modules/core-js/modules/esnext.iterator.for-each.js"),o("./node_modules/core-js/modules/web.dom-collections.for-each.js");var d=o("./src/worker.js"),f=o("./src/utils.js"),A=[],p={toContainer:d.default.prototype.toContainer,toPdf:d.default.prototype.toPdf};d.default.prototype.toContainer=function(){return p.toContainer.call(this).then(function(){if(this.opt.enableLinks){var v=this.prop.container,b=v.querySelectorAll("a"),w=(0,f.unitConvert)(v.getBoundingClientRect(),this.prop.pageSize.k);A=[],Array.prototype.forEach.call(b,function(S){for(var _=S.getClientRects(),T=0;T<_.length;T++){var L=(0,f.unitConvert)(_[T],this.prop.pageSize.k);L.left-=w.left,L.top-=w.top;var D=Math.floor(L.top/this.prop.pageSize.inner.height)+1,V=this.opt.margin[0]+L.top%this.prop.pageSize.inner.height,G=this.opt.margin[1]+L.left;A.push({page:D,top:V,left:G,clientRect:L,link:S})}},this)}})},d.default.prototype.toPdf=function(){return p.toPdf.call(this).then(function(){if(this.opt.enableLinks){A.forEach(function(b){this.prop.pdf.setPage(b.page),this.prop.pdf.link(b.left,b.top,b.clientRect.width,b.clientRect.height,{url:b.link.href})},this);var v=this.prop.pdf.internal.getNumberOfPages();this.prop.pdf.setPage(v)}})}}),"./src/plugin/jspdf-plugin.js":(function(c,u,o){o.r(u),o("./node_modules/core-js/modules/es.symbol.js"),o("./node_modules/core-js/modules/es.symbol.description.js"),o("./node_modules/core-js/modules/es.symbol.iterator.js"),o("./node_modules/core-js/modules/es.array.iterator.js"),o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/es.string.iterator.js"),o("./node_modules/core-js/modules/web.dom-collections.iterator.js");var d=o("./node_modules/jspdf/dist/jspdf.es.min.js");function f(A){"@babel/helpers - typeof";return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},f(A)}d.jsPDF.getPageSize=function(A,p,g){if(f(A)==="object"){var y=A;A=y.orientation,p=y.unit||p,g=y.format||g}p=p||"mm",g=g||"a4",A=(""+(A||"P")).toLowerCase();var v=(""+g).toLowerCase(),b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(p){case"pt":var w=1;break;case"mm":var w=72/25.4;break;case"cm":var w=72/2.54;break;case"in":var w=72;break;case"px":var w=72/96;break;case"pc":var w=12;break;case"em":var w=12;break;case"ex":var w=6;break;default:throw"Invalid unit: "+p}if(b.hasOwnProperty(v))var S=b[v][1]/w,_=b[v][0]/w;else try{var S=g[1],_=g[0]}catch{throw new Error("Invalid format: "+g)}if(A==="p"||A==="portrait"){if(A="p",_>S){var T=_;_=S,S=T}}else if(A==="l"||A==="landscape"){if(A="l",S>_){var T=_;_=S,S=T}}else throw"Invalid orientation: "+A;var L={width:_,height:S,unit:p,k:w};return L},u.default=d.jsPDF}),"./src/plugin/pagebreaks.js":(function(c,u,o){o.r(u),o("./node_modules/core-js/modules/es.array.concat.js"),o("./node_modules/core-js/modules/es.array.join.js"),o("./node_modules/core-js/modules/es.array.slice.js"),o("./node_modules/core-js/modules/es.object.keys.js"),o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/esnext.iterator.constructor.js"),o("./node_modules/core-js/modules/esnext.iterator.for-each.js"),o("./node_modules/core-js/modules/web.dom-collections.for-each.js");var d=o("./src/worker.js"),f=o("./src/utils.js"),A={toContainer:d.default.prototype.toContainer};d.default.template.opt.pagebreak={mode:["css","legacy"],before:[],after:[],avoid:[]},d.default.prototype.toContainer=function(){return A.toContainer.call(this).then(function(){var y=this.prop.container,v=this.prop.pageSize.inner.px.height,b=[].concat(this.opt.pagebreak.mode),w={avoidAll:b.indexOf("avoid-all")!==-1,css:b.indexOf("css")!==-1,legacy:b.indexOf("legacy")!==-1},S={},_=this;["before","after","avoid"].forEach(function(D){var V=w.avoidAll&&D==="avoid";S[D]=V?[]:[].concat(_.opt.pagebreak[D]||[]),S[D].length>0&&(S[D]=Array.prototype.slice.call(y.querySelectorAll(S[D].join(", "))))});var T=y.querySelectorAll(".html2pdf__page-break");T=Array.prototype.slice.call(T);var L=y.querySelectorAll("*");Array.prototype.forEach.call(L,function(V){var G={before:!1,after:w.legacy&&T.indexOf(V)!==-1,avoid:w.avoidAll};if(w.css){var J=window.getComputedStyle(V),ee=["always","page","left","right"],ue=["avoid","avoid-page"];G={before:G.before||ee.indexOf(J.breakBefore||J.pageBreakBefore)!==-1,after:G.after||ee.indexOf(J.breakAfter||J.pageBreakAfter)!==-1,avoid:G.avoid||ue.indexOf(J.breakInside||J.pageBreakInside)!==-1}}Object.keys(G).forEach(function(oe){G[oe]=G[oe]||S[oe].indexOf(V)!==-1});var pe=V.getBoundingClientRect();if(G.avoid&&!G.before){var ge=Math.floor(pe.top/v),he=Math.floor(pe.bottom/v),ne=Math.abs(pe.bottom-pe.top)/v;he!==ge&&ne<=1&&(G.before=!0)}if(G.before){var Ae=(0,f.createElement)("div",{style:{display:"block",height:v-pe.top%v+"px"}});V.parentNode.insertBefore(Ae,V)}if(G.after){var Ae=(0,f.createElement)("div",{style:{display:"block",height:v-pe.bottom%v+"px"}});V.parentNode.insertBefore(Ae,V.nextSibling)}})})}}),"./src/snapdom/clone.js":(function(c,u,o){o.r(u),o.d(u,{deepCloneBasic:function(){return g}}),o("./node_modules/core-js/modules/es.symbol.js"),o("./node_modules/core-js/modules/es.symbol.description.js"),o("./node_modules/core-js/modules/es.symbol.iterator.js"),o("./node_modules/core-js/modules/es.array.concat.js"),o("./node_modules/core-js/modules/es.array.from.js"),o("./node_modules/core-js/modules/es.array.iterator.js"),o("./node_modules/core-js/modules/es.array.slice.js"),o("./node_modules/core-js/modules/es.function.name.js"),o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/es.regexp.exec.js"),o("./node_modules/core-js/modules/es.regexp.test.js"),o("./node_modules/core-js/modules/es.regexp.to-string.js"),o("./node_modules/core-js/modules/es.set.js"),o("./node_modules/core-js/modules/es.string.iterator.js"),o("./node_modules/core-js/modules/esnext.set.add-all.js"),o("./node_modules/core-js/modules/esnext.set.delete-all.js"),o("./node_modules/core-js/modules/esnext.set.difference.js"),o("./node_modules/core-js/modules/esnext.set.every.js"),o("./node_modules/core-js/modules/esnext.set.filter.js"),o("./node_modules/core-js/modules/esnext.set.find.js"),o("./node_modules/core-js/modules/esnext.set.intersection.js"),o("./node_modules/core-js/modules/esnext.set.is-disjoint-from.js"),o("./node_modules/core-js/modules/esnext.set.is-subset-of.js"),o("./node_modules/core-js/modules/esnext.set.is-superset-of.js"),o("./node_modules/core-js/modules/esnext.set.join.js"),o("./node_modules/core-js/modules/esnext.set.map.js"),o("./node_modules/core-js/modules/esnext.set.reduce.js"),o("./node_modules/core-js/modules/esnext.set.some.js"),o("./node_modules/core-js/modules/esnext.set.symmetric-difference.js"),o("./node_modules/core-js/modules/esnext.set.union.js"),o("./node_modules/core-js/modules/web.dom-collections.iterator.js");function d(y,v){var b=typeof Symbol<"u"&&y[Symbol.iterator]||y["@@iterator"];if(!b){if(Array.isArray(y)||(b=f(y))||v){b&&(y=b);var w=0,S=function(){};return{s:S,n:function(){return w>=y.length?{done:!0}:{done:!1,value:y[w++]}},e:function(V){throw V},f:S}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _,T=!0,L=!1;return{s:function(){b=b.call(y)},n:function(){var V=b.next();return T=V.done,V},e:function(V){L=!0,_=V},f:function(){try{T||b.return==null||b.return()}finally{if(L)throw _}}}}function f(y,v){if(y){if(typeof y=="string")return A(y,v);var b={}.toString.call(y).slice(8,-1);return b==="Object"&&y.constructor&&(b=y.constructor.name),b==="Map"||b==="Set"?Array.from(y):b==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b)?A(y,v):void 0}}function A(y,v){(v==null||v>y.length)&&(v=y.length);for(var b=0,w=Array(v);b<v;b++)w[b]=y[b];return w}function p(y,v){try{var b=y.currentSrc||y.src||"";if(!b)return;v.setAttribute("src",b),v.removeAttribute("srcset"),v.removeAttribute("sizes"),v.loading="eager",v.decoding="sync"}catch{}}function g(y){if(!y)throw new Error("Invalid node");var v=new Set,b=null;if(y.nodeType===Node.TEXT_NODE||y.nodeType!==Node.ELEMENT_NODE)return y.cloneNode(!0);if(y.tagName==="IFRAME"){var w=document.createElement("div");return w.style.cssText="width:".concat(y.offsetWidth,"px;height:").concat(y.offsetHeight,"px;background-image:repeating-linear-gradient(45deg,#ddd,#ddd 5px,#f9f9f9 5px,#f9f9f9 10px);display:flex;align-items:center;justify-content:center;font-size:12px;color:#555;border:1px solid #aaa;"),w}if(y.tagName==="CANVAS"){var S=y.toDataURL(),_=document.createElement("img");return _.src=S,_.width=y.width,_.height=y.height,_}var T;try{T=y.cloneNode(!1),y.tagName==="IMG"&&p(y,T)}catch($e){throw console.error("[Snapdom] Failed to clone node:",y,$e),$e}if(y instanceof HTMLTextAreaElement){T.textContent=y.value,T.value=y.value;var L=y.getBoundingClientRect();return T.style.boxSizing="border-box",T.style.width="".concat(L.width,"px"),T.style.height="".concat(L.height,"px"),T}if(y instanceof HTMLInputElement&&(y.hasAttribute("value")&&(T.value=y.value,T.setAttribute("value",y.value)),y.checked!==void 0&&(T.checked=y.checked,y.checked&&T.setAttribute("checked",""),y.indeterminate&&(T.indeterminate=y.indeterminate))),y instanceof HTMLSelectElement&&(b=y.value),y.shadowRoot){var D=Array.from(y.shadowRoot.querySelectorAll("slot")).length>0;if(!D){var V=document.createDocumentFragment(),G=d(y.shadowRoot.childNodes),J;try{for(G.s();!(J=G.n()).done;){var ee=J.value;if(!(ee.nodeType===Node.ELEMENT_NODE&&ee.tagName==="STYLE")){var ue=g(ee);ue&&V.appendChild(ue)}}}catch($e){G.e($e)}finally{G.f()}T.appendChild(V)}}if(y.tagName==="SLOT"){var pe,ge=((pe=y.assignedNodes)===null||pe===void 0?void 0:pe.call(y,{flatten:!0}))||[],he=ge.length>0?ge:Array.from(y.childNodes),ne=document.createDocumentFragment(),Ae=d(he),oe;try{for(Ae.s();!(oe=Ae.n()).done;){var Be=oe.value,ke=g(Be);ke&&ne.appendChild(ke)}}catch($e){Ae.e($e)}finally{Ae.f()}return ne}var ve=d(y.childNodes),se;try{for(ve.s();!(se=ve.n()).done;){var me=se.value;if(!v.has(me)){var je=g(me);je&&T.appendChild(je)}}}catch($e){ve.e($e)}finally{ve.f()}if(b!==null&&T instanceof HTMLSelectElement){T.value=b;var Ue=d(T.options),De;try{for(Ue.s();!(De=Ue.n()).done;){var ot=De.value;ot.value===b?ot.setAttribute("selected",""):ot.removeAttribute("selected")}}catch($e){Ue.e($e)}finally{Ue.f()}}var ft=y.scrollLeft,Ce=y.scrollTop,Ze=ft||Ce;if(Ze&&T instanceof HTMLElement){T.style.overflow="hidden",T.style.scrollbarWidth="none",T.style.msOverflowStyle="none";var ze=document.createElement("div");for(ze.style.transform="translate(".concat(-ft,"px, ").concat(-Ce,"px)"),ze.style.willChange="transform",ze.style.display="inline-block",ze.style.width="100%";T.firstChild;)ze.appendChild(T.firstChild);T.appendChild(ze)}return T}}),"./src/utils.js":(function(c,u,o){o.r(u),o.d(u,{createElement:function(){return p},objType:function(){return A},toPx:function(){return y},unitConvert:function(){return g}}),o("./node_modules/core-js/modules/es.symbol.js"),o("./node_modules/core-js/modules/es.symbol.description.js"),o("./node_modules/core-js/modules/es.symbol.iterator.js"),o("./node_modules/core-js/modules/es.array.iterator.js"),o("./node_modules/core-js/modules/es.number.constructor.js"),o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/es.string.iterator.js"),o("./node_modules/core-js/modules/web.dom-collections.iterator.js");var d=o("./node_modules/dompurify/dist/purify.es.mjs");function f(v){"@babel/helpers - typeof";return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},f(v)}var A=function(b){var w=f(b);return w==="undefined"?"undefined":w==="string"||b instanceof String?"string":w==="number"||b instanceof Number?"number":w==="function"||b instanceof Function?"function":b&&b.constructor===Array?"array":b&&b.nodeType===1?"element":w==="object"?"object":"unknown"},p=function(b,w){var S=document.createElement(b);w.className&&(S.className=w.className),w.innerHTML&&(S.innerHTML=d.default.sanitize(w.innerHTML));for(var _ in w.style)S.style[_]=w.style[_];return S},g=function(b,w){if(A(b)==="number")return b*72/96/w;var S={};for(var _ in b)S[_]=b[_]*72/96/w;return S},y=function(b,w){return Math.floor(b*w/72*96)}}),"./src/worker.js":(function(c,u,o){o.r(u),o("./node_modules/core-js/modules/es.array.concat.js"),o("./node_modules/core-js/modules/es.array.map.js"),o("./node_modules/core-js/modules/es.function.name.js"),o("./node_modules/core-js/modules/es.json.stringify.js"),o("./node_modules/core-js/modules/es.object.assign.js"),o("./node_modules/core-js/modules/es.object.keys.js"),o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/es.promise.js"),o("./node_modules/core-js/modules/es.regexp.to-string.js"),o("./node_modules/core-js/modules/esnext.iterator.constructor.js"),o("./node_modules/core-js/modules/esnext.iterator.for-each.js"),o("./node_modules/core-js/modules/esnext.iterator.map.js"),o("./node_modules/core-js/modules/web.dom-collections.for-each.js"),o("./node_modules/core-js/modules/web.timers.js");var d=o("./node_modules/jspdf/dist/jspdf.es.min.js"),f=o("html2canvas"),A=o.n(f),p=o("./src/snapdom/clone.js"),g=o("./src/utils.js"),y=function v(b){var w=Object.assign(v.convert(Promise.resolve()),JSON.parse(JSON.stringify(v.template))),S=v.convert(Promise.resolve(),w);return S=S.setProgress(1,v,1,[v]),S=S.set(b),S};y.prototype=Object.create(Promise.prototype),y.prototype.constructor=y,y.convert=function(b,w){return b.__proto__=w||y.prototype,b},y.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],image:{type:"jpeg",quality:.95},enableLinks:!0,html2canvas:{},jsPDF:{}}},y.prototype.from=function(b,w){function S(_){switch((0,g.objType)(_)){case"string":return"string";case"element":return _.nodeName.toLowerCase&&_.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}return this.then(function(){switch(w=w||S(b),w){case"string":return this.set({src:(0,g.createElement)("div",{innerHTML:b})});case"element":return this.set({src:b});case"canvas":return this.set({canvas:b});case"img":return this.set({img:b});default:return this.error("Unknown source type.")}})},y.prototype.to=function(b){switch(b){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},y.prototype.toContainer=function(){var b=[function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(b).then(function(){var S={position:"fixed",overflow:"hidden",zIndex:1e3,left:0,right:0,bottom:0,top:0,backgroundColor:"rgba(0,0,0,0.8)"},_={position:"absolute",width:this.prop.pageSize.inner.width+this.prop.pageSize.unit,left:0,right:0,top:0,height:"auto",margin:"auto",backgroundColor:"white"};S.opacity=0;var T=(0,p.deepCloneBasic)(this.prop.src);return this.prop.overlay=(0,g.createElement)("div",{className:"html2pdf__overlay",style:S}),this.prop.container=(0,g.createElement)("div",{className:"html2pdf__container",style:_}),this.prop.container.appendChild(T),this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),new Promise(function(L){return setTimeout(L,10)})})},y.prototype.toCanvas=function(){var b=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(b).then(function(){var S=Object.assign({},this.opt.html2canvas);return delete S.onrendered,A()(this.prop.container,S)}).then(function(S){var _=this.opt.html2canvas.onrendered||function(){};_(S),this.prop.canvas=S,document.body.removeChild(this.prop.overlay)})},y.prototype.toImg=function(){var b=[function(){return this.prop.canvas||this.toCanvas()}];return this.thenList(b).then(function(){var S=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=S})},y.prototype.toPdf=function(){var b=[function(){return this.prop.canvas||this.toCanvas()},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(b).then(function(){var S=this.prop.canvas,_=this.opt,T=S.height,L=Math.floor(S.width*this.prop.pageSize.inner.ratio),D=Math.ceil(T/L),V=this.prop.pageSize.inner.height,G=document.createElement("canvas"),J=G.getContext("2d");G.width=S.width,G.height=L,this.prop.pdf=this.prop.pdf||new d.jsPDF(_.jsPDF);for(var ee=0;ee<D;ee++){ee===D-1&&T%L!==0&&(G.height=T%L,V=G.height*this.prop.pageSize.inner.width/G.width);var ue=G.width,pe=G.height;J.fillStyle="white",J.fillRect(0,0,ue,pe),J.drawImage(S,0,ee*L,ue,pe,0,0,ue,pe),ee&&this.prop.pdf.addPage();var ge=G.toDataURL("image/"+_.image.type,_.image.quality);this.prop.pdf.addImage(ge,_.image.type,_.margin[1],_.margin[0],this.prop.pageSize.inner.width,V)}})},y.prototype.output=function(b,w,S){return S=S||"pdf",S.toLowerCase()==="img"||S.toLowerCase()==="image"?this.outputImg(b,w):this.outputPdf(b,w)},y.prototype.outputPdf=function(b,w){var S=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(S).then(function(){return this.prop.pdf.output(b,w)})},y.prototype.outputImg=function(b,w){var S=[function(){return this.prop.img||this.toImg()}];return this.thenList(S).then(function(){switch(b){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+b+'" is not supported.'}})},y.prototype.save=function(b){var w=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(w).set(b?{filename:b}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},y.prototype.set=function(b){if((0,g.objType)(b)!=="object")return this;var w=Object.keys(b||{}).map(function(S){switch(S){case"margin":return this.setMargin.bind(this,b.margin);case"jsPDF":return function(){return this.opt.jsPDF=b.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,b.pageSize);default:return S in y.template.prop?function(){this.prop[S]=b[S]}:function(){this.opt[S]=b[S]}}},this);return this.then(function(){return this.thenList(w)})},y.prototype.get=function(b,w){return this.then(function(){var _=b in y.template.prop?this.prop[b]:this.opt[b];return w?w(_):_})},y.prototype.setMargin=function(b){return this.then(function(){switch((0,g.objType)(b)){case"number":b=[b,b,b,b];case"array":if(b.length===2&&(b=[b[0],b[1],b[0],b[1]]),b.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=b}).then(this.setPageSize)},y.prototype.setPageSize=function(b){return this.then(function(){b=b||d.jsPDF.getPageSize(this.opt.jsPDF),b.hasOwnProperty("inner")||(b.inner={width:b.width-this.opt.margin[1]-this.opt.margin[3],height:b.height-this.opt.margin[0]-this.opt.margin[2]},b.inner.px={width:(0,g.toPx)(b.inner.width,b.k),height:(0,g.toPx)(b.inner.height,b.k)},b.inner.ratio=b.inner.height/b.inner.width),this.prop.pageSize=b})},y.prototype.setProgress=function(b,w,S,_){return b!=null&&(this.progress.val=b),w!=null&&(this.progress.state=w),S!=null&&(this.progress.n=S),_!=null&&(this.progress.stack=_),this.progress.ratio=this.progress.val/this.progress.state,this},y.prototype.updateProgress=function(b,w,S,_){return this.setProgress(b?this.progress.val+b:null,w||null,S?this.progress.n+S:null,_?this.progress.stack.concat(_):null)},y.prototype.then=function(b,w){var S=this;return this.thenCore(b,w,function(T,L){return S.updateProgress(null,null,1,[T]),Promise.prototype.then.call(this,function(V){return S.updateProgress(null,T),V}).then(T,L).then(function(V){return S.updateProgress(1),V})})},y.prototype.thenCore=function(b,w,S){S=S||Promise.prototype.then;var _=this;b&&(b=b.bind(_)),w&&(w=w.bind(_));var T=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise",L=T?_:y.convert(Object.assign({},_),Promise.prototype),D=S.call(L,b,w);return y.convert(D,_.__proto__)},y.prototype.thenExternal=function(b,w){return Promise.prototype.then.call(this,b,w)},y.prototype.thenList=function(b){var w=this;return b.forEach(function(_){w=w.thenCore(_)}),w},y.prototype.catch=function(v){v&&(v=v.bind(this));var b=Promise.prototype.catch.call(this,v);return y.convert(b,this)},y.prototype.catchExternal=function(b){return Promise.prototype.catch.call(this,b)},y.prototype.error=function(b){return this.then(function(){throw new Error(b)})},y.prototype.using=y.prototype.set,y.prototype.saveAs=y.prototype.save,y.prototype.export=y.prototype.output,y.prototype.run=y.prototype.then,u.default=y}),html2canvas:(function(c){c.exports=r})},i={};function s(c){var u=i[c];if(u!==void 0)return u.exports;if(n[c]===void 0){var o=new Error("Cannot find module '"+c+"'");throw o.code="MODULE_NOT_FOUND",o}var d=i[c]={exports:{}};return n[c].call(d.exports,d,d.exports,s),d.exports}(function(){s.n=function(c){var u=c&&c.__esModule?function(){return c.default}:function(){return c};return s.d(u,{a:u}),u}})(),(function(){var c=Object.getPrototypeOf?function(o){return Object.getPrototypeOf(o)}:function(o){return o.__proto__},u;s.t=function(o,d){if(d&1&&(o=this(o)),d&8||typeof o=="object"&&o&&(d&4&&o.__esModule||d&16&&typeof o.then=="function"))return o;var f=Object.create(null);s.r(f);var A={};u=u||[null,c({}),c([]),c(c)];for(var p=d&2&&o;(typeof p=="object"||typeof p=="function")&&!~u.indexOf(p);p=c(p))Object.getOwnPropertyNames(p).forEach(function(g){A[g]=function(){return o[g]}});return A.default=function(){return o},s.d(f,A),f}})(),(function(){s.d=function(c,u){for(var o in u)s.o(u,o)&&!s.o(c,o)&&Object.defineProperty(c,o,{enumerable:!0,get:u[o]})}})(),(function(){s.o=function(c,u){return Object.prototype.hasOwnProperty.call(c,u)}})(),(function(){s.r=function(c){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})}})();var a={};return(function(){s.r(a);var c=s("./src/worker.js");s("./src/plugin/jspdf-plugin.js"),s("./src/plugin/pagebreaks.js"),s("./src/plugin/hyperlinks.js");var u=function o(d,f){var A=new o.Worker(f);return d?A.from(d).save():A};u.Worker=c.default,a.default=u})(),a=a.default,a})()})})(bB)),bB.exports}var NLe=jLe();const ILe=IA(NLe),kLe=({formData:t,analysis:e,selectedAddOns:r=[],prevStep:n,goToStep:i})=>{const s=()=>{const c=document.createElement("div");c.innerHTML=`
      <div style="font-family: 'Arial', sans-serif; color: #fff; background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%); padding: 40px;">
        <!-- Header -->
        <div style="text-align: center; margin-bottom: 40px; border-bottom: 3px solid #F83B3B; padding-bottom: 20px;">
          <h1 style="color: #F83B3B; font-size: 36px; margin: 0 0 10px 0; font-weight: 900;">
            FIT FOCUS MEDIA
          </h1>
          <p style="color: #9CA3AF; font-size: 16px; margin: 0;">Combat Sports Media Production Proposal</p>
          <p style="color: #6B7280; font-size: 12px; margin: 10px 0 0 0;">${new Date().toLocaleDateString()}</p>
        </div>

        <!-- Organization Details -->
        <div style="background: #2d2d2d; border: 2px solid #374151; border-radius: 12px; padding: 30px; margin-bottom: 30px;">
          <h2 style="color: #F83B3B; font-size: 24px; margin: 0 0 20px 0; font-weight: bold;">Organization Profile</h2>
          <table style="width: 100%; border-collapse: collapse;">
            <tr>
              <td style="padding: 8px 0; color: #9CA3AF; font-size: 14px;">Organization:</td>
              <td style="padding: 8px 0; color: #fff; font-size: 14px; font-weight: bold;">${t.orgName}</td>
            </tr>
            <tr>
              <td style="padding: 8px 0; color: #9CA3AF; font-size: 14px;">Events Per Year:</td>
              <td style="padding: 8px 0; color: #fff; font-size: 14px; font-weight: bold;">${t.showsPerYear}</td>
            </tr>
            <tr>
              <td style="padding: 8px 0; color: #9CA3AF; font-size: 14px;">Average Attendance:</td>
              <td style="padding: 8px 0; color: #fff; font-size: 14px; font-weight: bold;">${t.avgAttendance.toLocaleString()}</td>
            </tr>
            <tr>
              <td style="padding: 8px 0; color: #9CA3AF; font-size: 14px;">Social Following:</td>
              <td style="padding: 8px 0; color: #fff; font-size: 14px; font-weight: bold;">${t.socialFollowing.toLocaleString()}</td>
            </tr>
            <tr>
              <td style="padding: 8px 0; color: #9CA3AF; font-size: 14px;">Organization Tier:</td>
              <td style="padding: 8px 0; color: #F83B3B; font-size: 16px; font-weight: bold;">${e?.tier}</td>
            </tr>
          </table>
        </div>

        <!-- The Grand Slam Offer -->
        <div style="background: linear-gradient(135deg, #D97706 0%, #DC2626 100%); border: 3px solid #FBBF24; border-radius: 12px; padding: 30px; margin-bottom: 30px;">
          <div style="background: rgba(255,255,255,0.2); display: inline-block; padding: 8px 16px; border-radius: 20px; margin-bottom: 15px;">
            <span style="color: #fff; font-size: 12px; font-weight: bold;"> ZERO-COST PRODUCTION</span>
          </div>
          <h2 style="color: #fff; font-size: 28px; margin: 0 0 10px 0; font-weight: bold;">Our Offer to ${t.orgName}</h2>
          <p style="color: #FEF3C7; font-size: 18px; font-weight: bold; margin: 0 0 20px 0;">
            Professional live stream production at absolutely zero cost to you
          </p>
          
          <div style="background: rgba(255,255,255,0.1); border-radius: 8px; padding: 20px; margin-bottom: 20px;">
            <h3 style="color: #fff; font-size: 16px; margin: 0 0 15px 0; font-weight: bold;"> What's Included FREE:</h3>
            <ul style="margin: 0; padding-left: 20px; color: #FEF3C7;">
              <li style="margin-bottom: 8px;">Professional live stream production (1-2 cameras)</li>
              <li style="margin-bottom: 8px;">Complete PPV/streaming setup and management</li>
              <li style="margin-bottom: 8px;">Full show recording</li>
              <li style="margin-bottom: 8px;">1 social media highlight clip</li>
              <li style="margin-bottom: 0;">Revenue share: You earn from every PPV sale</li>
            </ul>
          </div>
          
          <div style="background: rgba(16, 185, 129, 0.3); border: 2px solid #10B981; border-radius: 8px; padding: 15px; text-align: center;">
            <p style="color: #fff; font-size: 20px; font-weight: bold; margin: 0;">
              Your Production Cost: <span style="color: #6EE7B7;">$0</span>
            </p>
            <p style="color: #D1FAE5; font-size: 12px; margin: 5px 0 0 0;">
              Zero upfront cost. Zero risk. Just professional streaming + revenue sharing.
            </p>
          </div>
        </div>
        
        <!-- Premium Add-Ons -->
        <div style="background: #2d2d2d; border: 2px solid #374151; border-radius: 12px; padding: 30px; margin-bottom: 30px;">
          <h2 style="color: #F83B3B; font-size: 24px; margin: 0 0 15px 0; font-weight: bold;">Premium Add-Ons</h2>
          ${r.length>0?`
            <p style="color: #10B981; font-size: 14px; margin: 0 0 15px 0; font-weight: bold;"> Selected Add-Ons:</p>
            <ul style="margin: 0 0 20px 0; padding-left: 20px; color: #D1D5DB; line-height: 1.8;">
              ${r.map(o=>`<li style="color: #10B981;"> ${o}</li>`).join("")}
            </ul>
          `:""}
          <p style="color: #9CA3AF; font-size: 14px; margin: 0 0 15px 0;">
            ${r.length>0?"Other available options:":"Available premium upgrades:"}
          </p>
          ${e?.tier==="Grassroots"?`
            <ul style="margin: 0; padding-left: 20px; color: #D1D5DB; line-height: 1.8;">
              ${r.includes("Custom Fight Banner Graphics")?"":"<li> Custom Fight Banner Graphics ($500-$800/event)</li>"}
              ${r.includes("Professional Event Photography")?"":"<li> Professional Event Photography ($800-$1,200/event)</li>"}
              ${r.includes("Full Recording Package")?"":"<li> Full Recording Package ($500-$800/event)</li>"}
            </ul>
          `:e?.tier==="Regional"?`
            <ul style="margin: 0; padding-left: 20px; color: #D1D5DB; line-height: 1.8;">
              ${r.includes("Premium Camera Setup")?"":"<li> Premium Camera Setup ($1,500-$3,000/event)</li>"}
              ${r.includes("Social Media Content Package")?"":"<li> Social Media Content Package ($1,000-$2,000/event)</li>"}
              ${r.includes("Professional Event Photography")?"":"<li> Professional Event Photography ($800-$1,200/event)</li>"}
              ${r.includes("Custom Fight Banner Graphics")?"":"<li> Custom Fight Banner Graphics ($500-$800/event)</li>"}
            </ul>
          `:`
            <ul style="margin: 0; padding-left: 20px; color: #D1D5DB; line-height: 1.8;">
              ${r.includes("Premium Camera Setup")?"":"<li> Premium Camera Setup ($1,500-$3,000/event)</li>"}
              ${r.includes("Social Media Content Package")?"":"<li> Social Media Content Package ($1,000-$2,000/event)</li>"}
              ${r.includes("Ongoing Content Strategy")?"":"<li> Ongoing Content Strategy ($2,000-$4,000/month)</li>"}
              ${r.includes("Full Premium Package")?"":"<li> Full Premium Package Bundle ($4,000-$6,000/event)</li>"}
            </ul>
          `}
          <p style="color: #6B7280; font-size: 12px; margin: 15px 0 0 0; font-style: italic;">
            * Your revenue share applies regardless of add-ons selected
          </p>
        </div>

        <!-- Revenue Projection -->
        <div style="background: #2d2d2d; border: 2px solid #10B981; border-radius: 12px; padding: 30px; margin-bottom: 30px;">
          <h2 style="color: #10B981; font-size: 24px; margin: 0 0 20px 0; font-weight: bold;">Your Revenue Projection</h2>
          
          <div style="background: #065F46; border: 2px solid #10B981; border-radius: 8px; padding: 20px; margin-bottom: 20px; text-align: center;">
            <p style="color: #D1FAE5; font-size: 14px; margin: 0 0 10px 0;">Your Production Cost</p>
            <p style="color: #6EE7B7; font-size: 36px; font-weight: bold; margin: 0;">$0</p>
            <p style="color: #A7F3D0; font-size: 12px; margin: 10px 0 0 0;">Zero upfront investment required</p>
          </div>
          
          <table style="width: 100%; border-collapse: collapse;">
            <tr>
              <td style="padding: 12px 0; color: #9CA3AF; font-size: 14px; border-bottom: 1px solid #374151;">Estimated PPV Purchases Per Event:</td>
              <td style="padding: 12px 0; color: #60A5FA; font-size: 16px; font-weight: bold; text-align: right; border-bottom: 1px solid #374151;">${Math.round(e?.potentialStreamingRevenue?.viewerEstimate*.6).toLocaleString()}</td>
            </tr>
            <tr>
              <td style="padding: 12px 0; color: #9CA3AF; font-size: 14px; border-bottom: 1px solid #374151;">Your Revenue Per Event:</td>
              <td style="padding: 12px 0; color: #10B981; font-size: 16px; font-weight: bold; text-align: right; border-bottom: 1px solid #374151;">$${Math.round(e?.potentialStreamingRevenue?.perEvent*.3).toLocaleString()}</td>
            </tr>
            <tr>
              <td style="padding: 12px 0; color: #10B981; font-size: 14px; font-weight: bold;">Your Annual Revenue:</td>
              <td style="padding: 12px 0; color: #10B981; font-size: 20px; font-weight: bold; text-align: right;">$${Math.round(e?.potentialStreamingRevenue?.annual*.3).toLocaleString()}</td>
            </tr>
          </table>
          <p style="color: #6B7280; font-size: 11px; margin: 15px 0 0 0; font-style: italic;">
            * Conservative estimates based on industry benchmarks. 100% pure profit  revenue you weren't generating before at zero cost.
          </p>
        </div>

        <!-- Contact Information -->
        <div style="background: #2d2d2d; border: 2px solid #F83B3B; border-radius: 12px; padding: 30px; margin-bottom: 20px;">
          <h2 style="color: #F83B3B; font-size: 24px; margin: 0 0 20px 0; font-weight: bold;">Next Steps</h2>
          <p style="color: #D1D5DB; font-size: 14px; margin: 0 0 20px 0;">
            Ready to elevate your combat sports events? Contact us to discuss this proposal:
          </p>
          <table style="width: 100%;">
            <tr>
              <td style="padding: 8px 0; color: #9CA3AF; font-size: 14px;">Email:</td>
              <td style="padding: 8px 0; color: #60A5FA; font-size: 14px;">info@fitfocusmedia.com.au</td>
            </tr>
            <tr>
              <td style="padding: 8px 0; color: #9CA3AF; font-size: 14px;">Website:</td>
              <td style="padding: 8px 0; color: #60A5FA; font-size: 14px;">fitfocusmedia.com.au</td>
            </tr>
          </table>
        </div>

        <!-- Footer -->
        <div style="text-align: center; margin-top: 40px; padding-top: 20px; border-top: 1px solid #374151;">
          <p style="color: #6B7280; font-size: 12px; margin: 0;">
             2026 Fit Focus Media | Professional Combat Sports Production
          </p>
        </div>
      </div>
    `;const u={margin:0,filename:`${t.orgName.replace(/\s/g,"-")}-proposal.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2,backgroundColor:"#1a1a1a"},jsPDF:{unit:"in",format:"letter",orientation:"portrait"}};ILe().set(u).from(c).save()},a=()=>{confirm("Start a new proposal? Your current data will be cleared.")&&i(1)};return l.jsx("section",{className:"min-h-screen py-12 sm:py-20 px-4",children:l.jsxs("div",{className:"max-w-5xl mx-auto",children:[l.jsxs(Or.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-8 sm:mb-12",children:[l.jsx(Or.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"inline-flex items-center justify-center w-16 h-16 sm:w-20 sm:h-20 bg-green-600 rounded-full mb-6",children:l.jsx(Cw,{className:"w-10 h-10 sm:w-12 sm:h-12 text-white"})}),l.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-black mb-4",children:l.jsx("span",{className:"text-gradient",children:"Your Proposal is Ready!"})}),l.jsxs("p",{className:"text-base sm:text-lg md:text-xl text-gray-300 max-w-2xl mx-auto",children:["Here's what we've prepared for ",l.jsx("span",{className:"text-primary-400 font-bold",children:t.orgName})]})]}),l.jsx(Or.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"bg-gradient-to-r from-primary-900/40 to-orange-900/40 border-2 border-primary-600 rounded-xl p-6 sm:p-8 mb-8",children:l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-sm text-gray-300 mb-2",children:"Your Tier"}),l.jsx("p",{className:"text-2xl sm:text-3xl font-black text-white",children:e?.tier})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-sm text-gray-300 mb-2",children:"Your Production Cost"}),l.jsx("p",{className:"text-xl sm:text-2xl font-black text-green-400",children:"$0"}),l.jsx("p",{className:"text-xs text-green-300 mt-1",children:"Zero upfront investment"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-sm text-gray-300 mb-2",children:"Your Annual Revenue"}),l.jsxs("p",{className:"text-2xl sm:text-3xl font-black text-green-400",children:["$",Math.round(e?.potentialStreamingRevenue?.annual*.3).toLocaleString()]}),l.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Revenue you weren't making before"})]})]})}),r.length>0&&l.jsxs(Or.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.35},className:"bg-dark-800 border border-green-600 rounded-xl p-6 sm:p-8 mb-8",children:[l.jsxs("h3",{className:"text-xl sm:text-2xl font-black text-white mb-4 flex items-center gap-2",children:[l.jsx(Cw,{className:"w-6 h-6 text-green-400"}),"Selected Premium Add-Ons"]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:r.map((c,u)=>l.jsxs("div",{className:"flex items-start gap-3 p-3 bg-dark-900 rounded-lg border border-green-600/30",children:[l.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-green-500 rounded-full flex items-center justify-center mt-0.5",children:l.jsx(Cw,{className:"w-4 h-4 text-white"})}),l.jsx("span",{className:"text-green-400 font-semibold text-sm sm:text-base",children:c})]},u))})]}),l.jsxs(Or.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"bg-dark-800 border border-gray-700 rounded-xl p-6 sm:p-8 mb-8",children:[l.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[l.jsx(wde,{className:"w-10 h-10 sm:w-12 sm:h-12 text-primary-500 flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-2xl sm:text-3xl font-black text-white mb-2",children:"Next Steps"}),l.jsx("p",{className:"text-gray-300 text-sm sm:text-base",children:"Let's turn this proposal into reality"})]})]}),l.jsx("div",{className:"space-y-4",children:[{step:"1",title:"Schedule a Consultation",desc:"Free 30-minute call to discuss your specific needs and answer questions"},{step:"2",title:"Refine Your Package",desc:"We'll customize the service package to perfectly match your requirements"},{step:"3",title:"Event Planning",desc:"Work with our team to plan production logistics and content strategy"},{step:"4",title:"Production Day",desc:"Sit back while we deliver broadcast-quality coverage of your event"}].map((c,u)=>l.jsxs(Or.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.5+u*.1},className:"flex gap-4 p-4 bg-dark-900 rounded-lg border border-gray-700 hover:border-primary-600/50 transition-colors",children:[l.jsx("div",{className:"flex-shrink-0 w-10 h-10 sm:w-12 sm:h-12 bg-primary-600 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-lg sm:text-xl font-black text-white",children:c.step})}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-base sm:text-lg font-bold text-white mb-1",children:c.title}),l.jsx("p",{className:"text-sm text-gray-400",children:c.desc})]})]},u))})]}),l.jsx(Or.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},className:"bg-dark-800 border border-gray-700 rounded-xl p-6 sm:p-8 mb-8",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"flex justify-center mb-4",children:[1,2,3,4,5].map(c=>l.jsx("svg",{className:"w-6 h-6 text-amber-500",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},c))}),l.jsx("p",{className:"text-base sm:text-lg text-gray-300 italic mb-4",children:`"Brandon's team delivered exactly what we needed. Professional coverage, quick turnaround on highlights, and our sponsors loved the exposure. Worth every dollar."`}),l.jsx("p",{className:"text-sm text-gray-500",children:" Combat Sports Promoter, QLD"})]})}),l.jsx(Or.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.7},className:"bg-gradient-to-r from-green-900/30 to-emerald-900/30 border-2 border-green-600 rounded-xl p-6 sm:p-8 mb-8",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-4xl mb-4",children:""}),l.jsx("h3",{className:"text-2xl sm:text-3xl font-black text-white mb-4",children:"Our Satisfaction Guarantee"}),l.jsx("p",{className:"text-base sm:text-lg text-gray-200 max-w-2xl mx-auto leading-relaxed",children:"We're confident you'll love our work. If you're not completely satisfied with your first event's media package, we'll re-edit the entire deliverable at no additional cost."}),l.jsx("p",{className:"text-sm text-green-400 mt-4 font-semibold",children:"Plus: Free consultation with absolutely no commitment required."})]})}),l.jsxs(Or.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.8},className:"bg-dark-800 border border-gray-700 rounded-xl p-6 sm:p-8 mb-8",children:[l.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6 text-center",children:"Get In Touch"}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6",children:[l.jsxs("a",{href:"mailto:info@fitfocusmedia.com.au?subject=Combat Sports Media Proposal - ${formData.orgName}",className:"flex items-center gap-3 p-4 sm:p-5 bg-primary-600 hover:bg-primary-700 text-white rounded-lg transition-all hover:scale-[1.02] group",children:[l.jsx(af,{className:"w-6 h-6 sm:w-8 sm:h-8 group-hover:rotate-12 transition-transform"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-bold text-sm sm:text-base",children:"Email Us"}),l.jsx("p",{className:"text-xs sm:text-sm text-white/80",children:"info@fitfocusmedia.com.au"})]})]}),l.jsxs("a",{href:"mailto:info@fitfocusmedia.com.au?subject=Consultation Request - ${formData.orgName}&body=Hi Brandon,%0D%0A%0D%0AI'd like to schedule a consultation to discuss media production for ${formData.orgName}.%0D%0A%0D%0APlease send me your available times.%0D%0A%0D%0AThanks!",className:"flex items-center gap-3 p-4 sm:p-5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-all hover:scale-[1.02] group",children:[l.jsx(Pd,{className:"w-6 h-6 sm:w-8 sm:h-8 group-hover:rotate-12 transition-transform"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-bold text-sm sm:text-base",children:"Request a Call"}),l.jsx("p",{className:"text-xs sm:text-sm text-white/80",children:"We'll send scheduling options"})]})]})]}),l.jsx("div",{className:"text-center",children:l.jsx("p",{className:"text-sm text-gray-400",children:"Response time: Usually within 24 hours"})})]}),l.jsxs(Or.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1},className:"space-y-3",children:[l.jsxs("button",{onClick:s,className:"w-full flex items-center justify-center gap-3 px-6 py-4 bg-green-600 hover:bg-green-700 text-white font-bold rounded-lg transition-all hover:scale-[1.02] text-base sm:text-lg",children:[l.jsx(gv,{className:"w-5 h-5 sm:w-6 sm:h-6"}),"Download Proposal PDF"]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsxs("button",{onClick:n,className:"flex-1 flex items-center justify-center gap-2 px-6 py-4 bg-dark-700 hover:bg-dark-600 text-white font-bold rounded-lg transition-all text-base sm:text-lg",children:[l.jsx(_0,{className:"w-5 h-5"}),l.jsx("span",{className:"hidden sm:inline",children:"Back"})]}),l.jsx("button",{onClick:a,className:"flex-1 flex items-center justify-center gap-2 px-6 py-4 bg-dark-700 hover:bg-dark-600 text-white font-semibold rounded-lg transition-all text-sm sm:text-base",children:"New Proposal"}),l.jsx("button",{onClick:()=>i(2),className:"flex-1 flex items-center justify-center gap-2 px-6 py-4 bg-primary-600 hover:bg-primary-700 text-white font-semibold rounded-lg transition-all text-sm sm:text-base",children:"Edit Details"})]})]}),l.jsx(Or.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.2},className:"mt-12 text-center",children:l.jsx("p",{className:"text-sm text-gray-500",children:" 2026 Fit Focus Media | Professional Combat Sports Production"})})]})})};function a5(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function BLe(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function c(d){try{o(n.next(d))}catch(f){a(f)}}function u(d){try{o(n.throw(d))}catch(f){a(f)}}function o(d){d.done?s(d.value):i(d.value).then(c,u)}o((n=n.apply(t,e||[])).next())})}const LLe=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class gM extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class RLe extends gM{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class IV extends gM{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class kV extends gM{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var hR;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(hR||(hR={}));class OLe{constructor(e,{headers:r={},customFetch:n,region:i=hR.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=LLe(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return BLe(this,arguments,void 0,function*(r,n={}){var i;let s,a;try{const{headers:c,method:u,body:o,signal:d,timeout:f}=n;let A={},{region:p}=n;p||(p=this.region);const g=new URL(`${this.url}/${r}`);p&&p!=="any"&&(A["x-region"]=p,g.searchParams.set("forceFunctionRegion",p));let y;o&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(A["Content-Type"]="application/octet-stream",y=o):typeof o=="string"?(A["Content-Type"]="text/plain",y=o):typeof FormData<"u"&&o instanceof FormData?y=o:(A["Content-Type"]="application/json",y=JSON.stringify(o)):o&&typeof o!="string"&&!(typeof Blob<"u"&&o instanceof Blob)&&!(o instanceof ArrayBuffer)&&!(typeof FormData<"u"&&o instanceof FormData)?y=JSON.stringify(o):y=o;let v=d;f&&(a=new AbortController,s=setTimeout(()=>a.abort(),f),d?(v=a.signal,d.addEventListener("abort",()=>a.abort())):v=a.signal);const b=yield this.fetch(g.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},A),this.headers),c),body:y,signal:v}).catch(T=>{throw new RLe(T)}),w=b.headers.get("x-relay-error");if(w&&w==="true")throw new IV(b);if(!b.ok)throw new kV(b);let S=((i=b.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),_;return S==="application/json"?_=yield b.json():S==="application/octet-stream"||S==="application/pdf"?_=yield b.blob():S==="text/event-stream"?_=b:S==="multipart/form-data"?_=yield b.formData():_=yield b.text(),{data:_,error:null,response:b}}catch(c){return{data:null,error:c,response:c instanceof kV||c instanceof IV?c.context:void 0}}finally{s&&clearTimeout(s)}})}}var PLe=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},DLe=class{constructor(t){var e,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{let a=null,c=null,u=null,o=s.status,d=s.statusText;if(s.ok){var f,A;if(r.method!=="HEAD"){var p;const b=await s.text();b===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((p=r.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?c=b:c=JSON.parse(b))}const y=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),v=(A=s.headers.get("content-range"))===null||A===void 0?void 0:A.split("/");y&&v&&v.length>1&&(u=parseInt(v[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(c)&&(c.length>1?(a={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,u=null,o=406,d="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{var g;const y=await s.text();try{a=JSON.parse(y),Array.isArray(a)&&s.status===404&&(c=[],a=null,o=200,d="OK")}catch{s.status===404&&y===""?(o=204,d="No Content"):a={message:y}}if(a&&r.isMaybeSingle&&(!(a==null||(g=a.details)===null||g===void 0)&&g.includes("0 rows"))&&(a=null,o=200,d="OK"),a&&r.shouldThrowOnError)throw new PLe(a)}return{error:a,data:c,count:u,status:o,statusText:d}});return this.shouldThrowOnError||(i=i.catch(s=>{var a;let c="";const u=s?.cause;if(u){var o,d,f,A;const g=(o=u?.message)!==null&&o!==void 0?o:"",y=(d=u?.code)!==null&&d!==void 0?d:"";c=`${(f=s?.name)!==null&&f!==void 0?f:"FetchError"}: ${s?.message}`,c+=`

Caused by: ${(A=u?.name)!==null&&A!==void 0?A:"Error"}: ${g}`,y&&(c+=` (${y})`),u?.stack&&(c+=`
${u.stack}`)}else{var p;c=(p=s?.stack)!==null&&p!==void 0?p:""}return{error:{message:`${(a=s?.name)!==null&&a!==void 0?a:"FetchError"}: ${s?.message}`,details:c,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}},MLe=class extends DLe{select(t){let e=!1;const r=(t??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){const s=i?`${i}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"offset":`${n}.offset`,s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(s,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:s="text"}={}){var a;const c=[t?"analyze":null,e?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${u}"; options=${c};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const BV=new RegExp("[,()]");var ox=class extends MLe{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&BV.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&BV.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const s=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${s}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},FLe=class{constructor(t,{headers:e={},schema:r,fetch:n}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:r=!1,count:n}=e??{},i=r?"HEAD":"GET";let s=!1;const a=(t??"*").split("").map(o=>/\s/.test(o)&&!s?"":(o==='"'&&(s=!s),o)).join(""),{url:c,headers:u}=this.cloneRequestState();return c.searchParams.set("select",a),n&&u.append("Prefer",`count=${n}`),new ox({method:i,url:c,headers:u,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:r=!0}={}){var n;const i="POST",{url:s,headers:a}=this.cloneRequestState();if(e&&a.append("Prefer",`count=${e}`),r||a.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((u,o)=>u.concat(Object.keys(o)),[]);if(c.length>0){const u=[...new Set(c)].map(o=>`"${o}"`);s.searchParams.set("columns",u.join(","))}}return new ox({method:i,url:s,headers:a,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){var s;const a="POST",{url:c,headers:u}=this.cloneRequestState();if(u.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&c.searchParams.set("on_conflict",e),n&&u.append("Prefer",`count=${n}`),i||u.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(o.length>0){const d=[...new Set(o)].map(f=>`"${f}"`);c.searchParams.set("columns",d.join(","))}}return new ox({method:a,url:c,headers:u,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(t,{count:e}={}){var r;const n="PATCH",{url:i,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new ox({method:n,url:i,headers:s,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var e;const r="DELETE",{url:n,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new ox({method:r,url:n,headers:i,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},ULe=class Ute{constructor(e,{headers:r={},schema:n,fetch:i}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=i}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new FLe(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Ute(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:i=!1,count:s}={}){var a;let c;const u=new URL(`${this.url}/rpc/${e}`);let o;const d=p=>p!==null&&typeof p=="object"&&(!Array.isArray(p)||p.some(d)),f=n&&Object.values(r).some(d);f?(c="POST",o=r):n||i?(c=n?"HEAD":"GET",Object.entries(r).filter(([p,g])=>g!==void 0).map(([p,g])=>[p,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([p,g])=>{u.searchParams.append(p,g)})):(c="POST",o=r);const A=new Headers(this.headers);return f?A.set("Prefer",s?`count=${s},return=minimal`:"return=minimal"):s&&A.set("Prefer",`count=${s}`),new ox({method:c,url:u,headers:A,schema:this.schemaName,body:o,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};class $Le{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const i=n.node,s=parseInt(i.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const HLe="2.93.3",QLe=`realtime-js/${HLe}`,VLe="1.0.0",$te="2.0.0",LV=$te,fR=1e4,KLe=1e3,GLe=100;var Zg;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Zg||(Zg={}));var su;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(su||(su={}));var vA;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(vA||(vA={}));var AR;(function(t){t.websocket="websocket"})(AR||(AR={}));var vv;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(vv||(vv={}));class zLe{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const i=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var r,n;const i=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},a=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(e,r,n){var i,s;const a=e.topic,c=(i=e.ref)!==null&&i!==void 0?i:"",u=(s=e.join_ref)!==null&&s!==void 0?s:"",o=e.payload.event,d=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(u.length>255)throw new Error(`joinRef length ${u.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`ref length ${c.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`userEvent length ${o.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const A=this.USER_BROADCAST_PUSH_META_LENGTH+u.length+c.length+a.length+o.length+f.length,p=new ArrayBuffer(this.HEADER_LENGTH+A);let g=new DataView(p),y=0;g.setUint8(y++,this.KINDS.userBroadcastPush),g.setUint8(y++,u.length),g.setUint8(y++,c.length),g.setUint8(y++,a.length),g.setUint8(y++,o.length),g.setUint8(y++,f.length),g.setUint8(y++,r),Array.from(u,b=>g.setUint8(y++,b.charCodeAt(0))),Array.from(c,b=>g.setUint8(y++,b.charCodeAt(0))),Array.from(a,b=>g.setUint8(y++,b.charCodeAt(0))),Array.from(o,b=>g.setUint8(y++,b.charCodeAt(0))),Array.from(f,b=>g.setUint8(y++,b.charCodeAt(0)));var v=new Uint8Array(p.byteLength+n.byteLength);return v.set(new Uint8Array(p),0),v.set(new Uint8Array(n),p.byteLength),v.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[i,s,a,c,u]=n;return r({join_ref:i,ref:s,topic:a,event:c,payload:u})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),i=new TextDecoder;if(n===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,r,i)}_decodeUserBroadcast(e,r,n){const i=r.getUint8(1),s=r.getUint8(2),a=r.getUint8(3),c=r.getUint8(4);let u=this.HEADER_LENGTH+4;const o=n.decode(e.slice(u,u+i));u=u+i;const d=n.decode(e.slice(u,u+s));u=u+s;const f=n.decode(e.slice(u,u+a));u=u+a;const A=e.slice(u,e.byteLength),p=c===this.JSON_ENCODING?JSON.parse(n.decode(A)):A,g={type:this.BROADCAST_EVENT,event:d,payload:p};return a>0&&(g.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:o,event:this.BROADCAST_EVENT,payload:g}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class Hte{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Wo;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Wo||(Wo={}));const RV=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((s,a)=>(s[a]=WLe(a,t,e,i),s),{}):{}},WLe=(t,e,r,n)=>{const i=e.find(c=>c.name===t),s=i?.type,a=r[t];return s&&!n.includes(s)?Qte(s,a):mR(a)},Qte=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return ZLe(e,r)}switch(t){case Wo.bool:return YLe(e);case Wo.float4:case Wo.float8:case Wo.int2:case Wo.int4:case Wo.int8:case Wo.numeric:case Wo.oid:return qLe(e);case Wo.json:case Wo.jsonb:return XLe(e);case Wo.timestamp:return JLe(e);case Wo.abstime:case Wo.date:case Wo.daterange:case Wo.int4range:case Wo.int8range:case Wo.money:case Wo.reltime:case Wo.text:case Wo.time:case Wo.timestamptz:case Wo.timetz:case Wo.tsrange:case Wo.tstzrange:return mR(e);default:return mR(e)}},mR=t=>t,YLe=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},qLe=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},XLe=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},ZLe=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let s;const a=t.slice(1,r);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(c=>Qte(e,c))}return t},JLe=t=>typeof t=="string"?t.replace(" ","T"):t,Vte=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class wB{constructor(e,r,n={},i=fR){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var OV;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(OV||(OV={}));class Ow{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:a,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ow.syncState(this.state,i,s,a),this.pendingDiffs.forEach(u=>{this.state=Ow.syncDiff(this.state,u,s,a)}),this.pendingDiffs=[],c()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Ow.syncDiff(this.state,i,s,a),c())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const s=this.cloneDeep(e),a=this.transformState(r),c={},u={};return this.map(s,(o,d)=>{a[o]||(u[o]=d)}),this.map(a,(o,d)=>{const f=s[o];if(f){const A=d.map(v=>v.presence_ref),p=f.map(v=>v.presence_ref),g=d.filter(v=>p.indexOf(v.presence_ref)<0),y=f.filter(v=>A.indexOf(v.presence_ref)<0);g.length>0&&(c[o]=g),y.length>0&&(u[o]=y)}else c[o]=d}),this.syncDiff(s,{joins:c,leaves:u},n,i)}static syncDiff(e,r,n,i){const{joins:s,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(c,u)=>{var o;const d=(o=e[c])!==null&&o!==void 0?o:[];if(e[c]=this.cloneDeep(u),d.length>0){const f=e[c].map(p=>p.presence_ref),A=d.filter(p=>f.indexOf(p.presence_ref)<0);e[c].unshift(...A)}n(c,d,u)}),this.map(a,(c,u)=>{let o=e[c];if(!o)return;const d=u.map(f=>f.presence_ref);o=o.filter(f=>d.indexOf(f.presence_ref)<0),e[c]=o,i(c,o,u),o.length===0&&delete e[c]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var PV;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(PV||(PV={}));var Pw;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Pw||(Pw={}));var yp;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(yp||(yp={}));class Vx{constructor(e,r={config:{}},n){var i,s;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=su.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new wB(this,vA.join,this.params,this.timeout),this.rejoinTimer=new Hte(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=su.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=su.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=su.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=su.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=su.errored,this.rejoinTimer.scheduleTimeout())}),this._on(vA.reply,{},(a,c)=>{this._trigger(this._replyEventName(c),a)}),this.presence=new Ow(this),this.broadcastEndpointURL=Vte(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==su.closed){const{config:{broadcast:a,presence:c,private:u}}=this.params,o=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[Pw.PRESENCE]&&this.bindings[Pw.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,f={},A={broadcast:a,presence:Object.assign(Object.assign({},c),{enabled:d}),postgres_changes:o,private:u};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>e?.(yp.CHANNEL_ERROR,p)),this._onClose(()=>e?.(yp.CLOSED)),this.updateJoinPayload(Object.assign({config:A},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var g;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){e?.(yp.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,v=(g=y?.length)!==null&&g!==void 0?g:0,b=[];for(let w=0;w<v;w++){const S=y[w],{filter:{event:_,schema:T,table:L,filter:D}}=S,V=p&&p[w];if(V&&V.event===_&&Vx.isFilterValueEqual(V.schema,T)&&Vx.isFilterValueEqual(V.table,L)&&Vx.isFilterValueEqual(V.filter,D))b.push(Object.assign(Object.assign({},S),{id:V.id}));else{this.unsubscribe(),this.state=su.errored,e?.(yp.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,e&&e(yp.SUBSCRIBED);return}}).receive("error",p=>{this.state=su.errored,e?.(yp.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e?.(yp.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===su.joined&&e===Pw.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var i;if(r==null)return Promise.reject("Payload is required for httpSend()");const s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(c.status===202)return{success:!0};let u=c.statusText;try{const o=await c.json();u=o.error||o.message||u}catch{}return Promise.reject(new Error(u))}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:a}=e,c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const o=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=o.body)===null||i===void 0?void 0:i.cancel()),o.ok?"ok":"error"}catch(o){return o.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,c,u;const o=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((u=(c=(a=this.params)===null||a===void 0?void 0:a.config)===null||c===void 0?void 0:c.broadcast)===null||u===void 0)&&u.ack)&&s("ok"),o.receive("ok",()=>s("ok")),o.receive("error",()=>s("error")),o.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=su.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(vA.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new wB(this,vA.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=su.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),a}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new wB(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>GLe){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,s;const a=e.toLocaleLowerCase(),{close:c,error:u,leave:o,join:d}=vA;if(n&&[c,u,o,d].indexOf(a)>=0&&n!==this._joinRef())return;let A=this._onMessage(a,r,n);if(r&&!A)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var g,y,v;return((g=p.filter)===null||g===void 0?void 0:g.event)==="*"||((v=(y=p.filter)===null||y===void 0?void 0:y.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===a}).map(p=>p.callback(A,n)):(s=this.bindings[a])===null||s===void 0||s.filter(p=>{var g,y,v,b,w,S;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in p){const _=p.id,T=(g=p.filter)===null||g===void 0?void 0:g.event;return _&&((y=r.ids)===null||y===void 0?void 0:y.includes(_))&&(T==="*"||T?.toLocaleLowerCase()===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const _=(w=(b=p?.filter)===null||b===void 0?void 0:b.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return _==="*"||_===((S=r?.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===a}).map(p=>{if(typeof A=="object"&&"ids"in A){const g=A.data,{schema:y,table:v,commit_timestamp:b,type:w,errors:S}=g;A=Object.assign(Object.assign({},{schema:y,table:v,commit_timestamp:b,eventType:w,new:{},old:{},errors:S}),this._getPayloadRecords(g))}p.callback(A,n)})}_isClosed(){return this.state===su.closed}_isJoined(){return this.state===su.joined}_isJoining(){return this.state===su.joining}_isLeaving(){return this.state===su.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&Vx.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(vA.close,{},e)}_onError(e){this._on(vA.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=su.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=RV(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=RV(e.columns,e.old_record)),r}}const EB=()=>{},LS={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},e4e=[1e3,2e3,5e3,1e4],t4e=1e4,r4e=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class n4e{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=fR,this.transport=null,this.heartbeatIntervalMs=LS.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=EB,this.ref=0,this.reconnectTimer=null,this.vsn=LV,this.logger=EB,this.conn=null,this.sendBuffer=[],this.serializer=new zLe,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${AR.websocket}`,this.httpEndpoint=Vte(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=$Le.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Zg.connecting:return vv.Connecting;case Zg.open:return vv.Open;case Zg.closing:return vv.Closing;default:return vv.Closed}}isConnected(){return this.connectionState()===vv.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new Vx(`realtime:${e}`,r,this);return this.channels.push(s),s}}push(e){const{topic:r,event:n,payload:i,ref:s}=e,a=()=>{this.encode(e,c=>{var u;(u=this.conn)===null||u===void 0||u.send(c)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(KLe,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},LS.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const o=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",o)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:i,payload:s,ref:a}=r,c=a?`(${a})`:"",u=s.status||"";this.log("receive",`${u} ${n} ${i} ${c}`.trim(),s),this.channels.filter(o=>o._isMember(n)).forEach(o=>o._trigger(i,s,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Zg.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Zg.open||this.conn.readyState===Zg.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(vA.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([r4e],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,n=!1;if(e)r=e,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const s={access_token:r,version:QLe};r&&i.updateJoinPayload(s),i.joinedOnce&&i._isJoined()&&i._push(vA.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Hte(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},LS.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,s,a,c,u,o,d,f,A,p;switch(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e?.timeout)!==null&&n!==void 0?n:fR,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:LS.HEARTBEAT_INTERVAL,this.worker=(s=e?.worker)!==null&&s!==void 0?s:!1,this.accessToken=(a=e?.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(c=e?.heartbeatCallback)!==null&&c!==void 0?c:EB,this.vsn=(u=e?.vsn)!==null&&u!==void 0?u:LV,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(o=e?.reconnectAfterMs)!==null&&o!==void 0?o:(g=>e4e[g-1]||t4e),this.vsn){case VLe:this.encode=(d=e?.encode)!==null&&d!==void 0?d:((g,y)=>y(JSON.stringify(g))),this.decode=(f=e?.decode)!==null&&f!==void 0?f:((g,y)=>y(JSON.parse(g)));break;case $te:this.encode=(A=e?.encode)!==null&&A!==void 0?A:this.serializer.encode.bind(this.serializer),this.decode=(p=e?.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var wE=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function i4e(t,e,r){const n=new URL(e,t);if(r)for(const[i,s]of Object.entries(r))s!==void 0&&n.searchParams.set(i,s);return n.toString()}async function s4e(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function a4e(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:s,headers:a}){const c=i4e(t.baseUrl,n,i),u=await s4e(t.auth),o=await e(c,{method:r,headers:{...s?{"Content-Type":"application/json"}:{},...u,...a},body:s?JSON.stringify(s):void 0}),d=await o.text(),f=(o.headers.get("content-type")||"").includes("application/json"),A=f&&d?JSON.parse(d):d;if(!o.ok){const p=f?A:void 0,g=p?.error;throw new wE(g?.message??`Request failed with status ${o.status}`,{status:o.status,icebergType:g?.type,icebergCode:g?.code,details:p})}return{status:o.status,headers:o.headers,data:A}}}}function RS(t){return t.join("")}var o4e=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:RS(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${RS(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${RS(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${RS(t.namespace)}`}),!0}catch(e){if(e instanceof wE&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof wE&&r.status===409)return;throw r}}};function Uy(t){return t.join("")}var l4e=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Uy(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Uy(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Uy(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Uy(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Uy(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Uy(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof wE&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof wE&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},c4e=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=a4e({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new o4e(this.client,e),this.tableOps=new l4e(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},o5=class extends Error{constructor(t,e="storage",r,n){super(t),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function l5(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var OS=class extends o5{constructor(t,e,r,n="storage"){super(t,n,e,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Kte=class extends o5{constructor(t,e,r="storage"){super(t,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const u4e=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),d4e=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},pR=t=>{if(Array.isArray(t))return t.map(r=>pR(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=pR(n)}),e},h4e=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function EE(t){"@babel/helpers - typeof";return EE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},EE(t)}function f4e(t,e){if(EE(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(EE(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function A4e(t){var e=f4e(t,"string");return EE(e)=="symbol"?e:e+""}function m4e(t,e,r){return(e=A4e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DV(Object(r),!0).forEach(function(n){m4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const MV=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},p4e=async(t,e,r,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!r?.noResolveJson){const i=t,s=i.status||500;if(typeof i.json=="function")i.json().then(a=>{const c=a?.statusCode||a?.code||s+"";e(new OS(MV(a),s,c,n))}).catch(()=>{if(n==="vectors"){const a=s+"";e(new OS(i.statusText||`HTTP ${s} error`,s,a,n))}else{const a=s+"";e(new OS(i.statusText||`HTTP ${s} error`,s,a,n))}});else{const a=s+"";e(new OS(i.statusText||`HTTP ${s} error`,s,a,n))}}else e(new Kte(MV(t),t,n))},g4e=(t,e,r,n)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"||t==="HEAD"||!n?qi(qi({},i),r):(d4e(n)?(i.headers=qi({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(n)):i.body=n,e?.duplex&&(i.duplex=e.duplex),qi(qi({},i),r))};async function O1(t,e,r,n,i,s,a){return new Promise((c,u)=>{t(r,g4e(e,n,i,s)).then(o=>{if(!o.ok)throw o;if(n?.noResolveJson)return o;if(a==="vectors"){const d=o.headers.get("content-type");if(o.headers.get("content-length")==="0"||o.status===204)return{};if(!d||!d.includes("application/json"))return{}}return o.json()}).then(o=>c(o)).catch(o=>p4e(o,u,n,a))})}function Gte(t="storage"){return{get:async(e,r,n,i)=>O1(e,"GET",r,n,i,void 0,t),post:async(e,r,n,i,s)=>O1(e,"POST",r,i,s,n,t),put:async(e,r,n,i,s)=>O1(e,"PUT",r,i,s,n,t),head:async(e,r,n,i)=>O1(e,"HEAD",r,qi(qi({},n),{},{noResolveJson:!0}),i,void 0,t),remove:async(e,r,n,i,s)=>O1(e,"DELETE",r,i,s,n,t)}}const v4e=Gte("storage"),{get:SE,post:pA,put:gR,head:y4e,remove:vM}=v4e,rf=Gte("vectors");var r1=class{constructor(t,e={},r,n="storage"){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.fetch=u4e(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(t){var e=this;try{return{data:await t(),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(l5(r))return{data:null,error:r};throw r}}},x4e=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(l5(e))return{data:null,error:e};throw e}}};let zte;zte=Symbol.toStringTag;var b4e=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[zte]="BlobDownloadBuilder",this.promise=null}asStream(){return new x4e(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(l5(e))return{data:null,error:e};throw e}}};const w4e={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},FV={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var E4e=class extends r1{constructor(t,e={},r,n){super(t,e,n,"storage"),this.bucketId=r}async uploadOrUpdate(t,e,r,n){var i=this;return i.handleOperation(async()=>{let s;const a=qi(qi({},FV),n);let c=qi(qi({},i.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const u=a.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),u&&s.append("metadata",i.encodeMetadata(u)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.has("cacheControl")||s.append("cacheControl",a.cacheControl),u&&!s.has("metadata")&&s.append("metadata",i.encodeMetadata(u))):(s=r,c["cache-control"]=`max-age=${a.cacheControl}`,c["content-type"]=a.contentType,u&&(c["x-metadata"]=i.toBase64(i.encodeMetadata(u))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!a.duplex&&(a.duplex="half")),n?.headers&&(c=qi(qi({},c),n.headers));const o=i._removeEmptyFolders(e),d=i._getFinalPath(o),f=await(t=="PUT"?gR:pA)(i.fetch,`${i.url}/object/${d}`,s,qi({headers:c},a?.duplex?{duplex:a.duplex}:{}));return{path:o,id:f.Id,fullPath:f.Key}})}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,n){var i=this;const s=i._removeEmptyFolders(t),a=i._getFinalPath(s),c=new URL(i.url+`/object/upload/sign/${a}`);return c.searchParams.set("token",e),i.handleOperation(async()=>{let u;const o=qi({upsert:FV.upsert},n),d=qi(qi({},i.headers),{"x-upsert":String(o.upsert)});return typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",o.cacheControl),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.append("cacheControl",o.cacheControl)):(u=r,d["cache-control"]=`max-age=${o.cacheControl}`,d["content-type"]=o.contentType),{path:s,fullPath:(await gR(i.fetch,c.toString(),u,{headers:d})).Key}})}async createSignedUploadUrl(t,e){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(t);const i=qi({},r.headers);e?.upsert&&(i["x-upsert"]="true");const s=await pA(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:i}),a=new URL(r.url+s.url),c=a.searchParams.get("token");if(!c)throw new o5("No token returned by API");return{signedUrl:a.toString(),path:t,token:c}})}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var n=this;return n.handleOperation(async()=>await pA(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:n.headers}))}async copy(t,e,r){var n=this;return n.handleOperation(async()=>({path:(await pA(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(t,e,r){var n=this;return n.handleOperation(async()=>{let i=n._getFinalPath(t),s=await pA(n.fetch,`${n.url}/object/sign/${i}`,qi({expiresIn:e},r?.transform?{transform:r.transform}:{}),{headers:n.headers});const a=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${s.signedURL}${a}`)}})}async createSignedUrls(t,e,r){var n=this;return n.handleOperation(async()=>{const i=await pA(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:e,paths:t},{headers:n.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return i.map(a=>qi(qi({},a),{},{signedUrl:a.signedURL?encodeURI(`${n.url}${a.signedURL}${s}`):null}))})}download(t,e){const r=typeof e?.transform<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString(e?.transform||{}),i=n?`?${n}`:"",s=this._getFinalPath(t),a=()=>SE(this.fetch,`${this.url}/${r}/${s}${i}`,{headers:this.headers,noResolveJson:!0});return new b4e(a,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);return e.handleOperation(async()=>pR(await SE(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})))}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await y4e(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(l5(n)&&n instanceof Kte){const i=n.originalError;if([400,404].includes(i?.status))return{data:!1,error:n}}throw n}}getPublicUrl(t,e){const r=this._getFinalPath(t),n=[],i=e?.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&n.push(i);const s=typeof e?.transform<"u"?"render/image":"object",a=this.transformOptsToQueryString(e?.transform||{});a!==""&&n.push(a);let c=n.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${c}`)}}}async remove(t){var e=this;return e.handleOperation(async()=>await vM(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}))}async list(t,e,r){var n=this;return n.handleOperation(async()=>{const i=qi(qi(qi({},w4e),e),{},{prefix:t||""});return await pA(n.fetch,`${n.url}/object/list/${n.bucketId}`,i,{headers:n.headers},r)})}async listV2(t,e){var r=this;return r.handleOperation(async()=>{const n=qi({},t);return await pA(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},e)})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const S4e="2.93.3",D2={"X-Client-Info":`storage-js/${S4e}`};var _4e=class extends r1{constructor(t,e={},r,n){const i=new URL(t);n?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."));const s=i.href.replace(/\/$/,""),a=qi(qi({},D2),e);super(s,a,r,"storage")}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const r=e.listBucketOptionsToQueryString(t);return await SE(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers})})}async getBucket(t){var e=this;return e.handleOperation(async()=>await SE(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}))}async createBucket(t,e={public:!1}){var r=this;return r.handleOperation(async()=>await pA(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}))}async updateBucket(t,e){var r=this;return r.handleOperation(async()=>await gR(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(t){var e=this;return e.handleOperation(async()=>await pA(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await vM(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},T4e=class extends r1{constructor(t,e={},r){const n=t.replace(/\/$/,""),i=qi(qi({},D2),e);super(n,i,r,"storage")}async createBucket(t){var e=this;return e.handleOperation(async()=>await pA(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}))}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const r=new URLSearchParams;t?.limit!==void 0&&r.set("limit",t.limit.toString()),t?.offset!==void 0&&r.set("offset",t.offset.toString()),t?.sortColumn&&r.set("sortColumn",t.sortColumn),t?.sortOrder&&r.set("sortOrder",t.sortOrder),t?.search&&r.set("search",t.search);const n=r.toString(),i=n?`${e.url}/bucket?${n}`:`${e.url}/bucket`;return await SE(e.fetch,i,{headers:e.headers})})}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await vM(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}from(t){var e=this;if(!h4e(t))throw new o5("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new c4e({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(i,s){const a=i[s];return typeof a!="function"?a:async(...c)=>{try{return{data:await a.apply(i,c),error:null}}catch(u){if(n)throw u;return{data:null,error:u}}}}})}},C4e=class extends r1{constructor(t,e={},r){const n=t.replace(/\/$/,""),i=qi(qi({},D2),{},{"Content-Type":"application/json"},e);super(n,i,r,"vectors")}async createIndex(t){var e=this;return e.handleOperation(async()=>await rf.post(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{})}async getIndex(t,e){var r=this;return r.handleOperation(async()=>await rf.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}))}async listIndexes(t){var e=this;return e.handleOperation(async()=>await rf.post(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}))}async deleteIndex(t,e){var r=this;return r.handleOperation(async()=>await rf.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{})}},j4e=class extends r1{constructor(t,e={},r){const n=t.replace(/\/$/,""),i=qi(qi({},D2),{},{"Content-Type":"application/json"},e);super(n,i,r,"vectors")}async putVectors(t){var e=this;if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await rf.post(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{})}async getVectors(t){var e=this;return e.handleOperation(async()=>await rf.post(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}))}async listVectors(t){var e=this;if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return e.handleOperation(async()=>await rf.post(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}))}async queryVectors(t){var e=this;return e.handleOperation(async()=>await rf.post(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}))}async deleteVectors(t){var e=this;if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await rf.post(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{})}},N4e=class extends r1{constructor(t,e={},r){const n=t.replace(/\/$/,""),i=qi(qi({},D2),{},{"Content-Type":"application/json"},e);super(n,i,r,"vectors")}async createBucket(t){var e=this;return e.handleOperation(async()=>await rf.post(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}async getBucket(t){var e=this;return e.handleOperation(async()=>await rf.post(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}))}async listBuckets(t={}){var e=this;return e.handleOperation(async()=>await rf.post(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await rf.post(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}},I4e=class extends N4e{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new k4e(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},k4e=class extends C4e{constructor(t,e,r,n){super(t,e,n),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,qi(qi({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,qi(qi({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new B4e(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},B4e=class extends j4e{constructor(t,e,r,n,i){super(t,e,i),this.vectorBucketName=r,this.indexName=n}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,qi(qi({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,qi(qi({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,qi(qi({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,qi(qi({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,qi(qi({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},L4e=class extends _4e{constructor(t,e={},r,n){super(t,e,r,n)}from(t){return new E4e(this.url,this.headers,t,this.fetch)}get vectors(){return new I4e(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new T4e(this.url+"/iceberg",this.headers,this.fetch)}};const Wte="2.93.3",lx=30*1e3,vR=3,SB=vR*lx,R4e="http://localhost:9999",O4e="supabase.auth.token",P4e={"X-Client-Info":`gotrue-js/${Wte}`},yR="X-Supabase-Api-Version",Yte={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},D4e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,M4e=600*1e3;class _E extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function yi(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class F4e extends _E{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function U4e(t){return yi(t)&&t.name==="AuthApiError"}class yv extends _E{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class rg extends _E{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class Vh extends rg{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function _B(t){return yi(t)&&t.name==="AuthSessionMissingError"}class $y extends rg{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class PS extends rg{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class DS extends rg{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function $4e(t){return yi(t)&&t.name==="AuthImplicitGrantRedirectError"}class UV extends rg{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class H4e extends rg{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class xR extends rg{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function TB(t){return yi(t)&&t.name==="AuthRetryableFetchError"}class $V extends rg{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class bR extends rg{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const lj="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),HV=` 	
\r=`.split(""),Q4e=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<HV.length;e+=1)t[HV[e].charCodeAt(0)]=-2;for(let e=0;e<lj.length;e+=1)t[lj[e].charCodeAt(0)]=e;return t})();function QV(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(lj[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(lj[n]),e.queuedBits-=6}}function qte(t,e,r){const n=Q4e[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function VV(t){const e=[],r=a=>{e.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{G4e(a,n,r)};for(let a=0;a<t.length;a+=1)qte(t.charCodeAt(a),i,s);return e.join("")}function V4e(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function K4e(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}V4e(n,e)}}function G4e(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function eb(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)qte(t.charCodeAt(i),r,n);return new Uint8Array(e)}function z4e(t){const e=[];return K4e(t,r=>e.push(r)),new Uint8Array(e)}function jv(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>QV(i,r,n)),QV(null,r,n),e.join("")}function W4e(t){return Math.round(Date.now()/1e3)+t}function Y4e(){return Symbol("auth-callback")}const ud=()=>typeof window<"u"&&typeof document<"u",W0={tested:!1,writable:!1},Xte=()=>{if(!ud())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(W0.tested)return W0.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),W0.tested=!0,W0.writable=!0}catch{W0.tested=!0,W0.writable=!1}return W0.writable};function q4e(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const Zte=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),X4e=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",cx=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Y0=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},od=async(t,e)=>{await t.removeItem(e)};class c5{constructor(){this.promise=new c5.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}c5.promiseConstructor=Promise;function MS(t){const e=t.split(".");if(e.length!==3)throw new bR("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!D4e.test(e[n]))throw new bR("JWT not in base64url format");return{header:JSON.parse(VV(e[0])),payload:JSON.parse(VV(e[1])),signature:eb(e[2]),raw:{header:e[0],payload:e[1]}}}async function Z4e(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function J4e(t,e){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await t(s);if(!e(s,null,a)){n(a);return}}catch(a){if(!e(s,a)){i(a);return}}})()})}function eRe(t){return("0"+t.toString(16)).substr(-2)}function tRe(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,eRe).join("")}async function rRe(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function nRe(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await rRe(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Hy(t,e,r=!1){const n=tRe();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await cx(t,`${e}-code-verifier`,i);const s=await nRe(n);return[s,n===s?"plain":"s256"]}const iRe=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function sRe(t){const e=t.headers.get(yR);if(!e||!e.match(iRe))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function aRe(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function oRe(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const lRe=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Qy(t){if(!lRe.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function CB(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function cRe(t,e){return new Proxy(t,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,i)}})}function KV(t){return JSON.parse(JSON.stringify(t))}const av=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),uRe=[502,503,504];async function GV(t){var e;if(!X4e(t))throw new xR(av(t),0);if(uRe.includes(t.status))throw new xR(av(t),t.status);let r;try{r=await t.json()}catch(s){throw new yv(av(s),s)}let n;const i=sRe(t);if(i&&i.getTime()>=Yte["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new $V(av(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Vh}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new $V(av(r),t.status,r.weak_password.reasons);throw new F4e(av(r),t.status||500,n)}const dRe=(t,e,r,n)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Ki(t,e,r,n){var i;const s=Object.assign({},n?.headers);s[yR]||(s[yR]=Yte["2024-01-01"].name),n?.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const a=(i=n?.query)!==null&&i!==void 0?i:{};n?.redirectTo&&(a.redirect_to=n.redirectTo);const c=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",u=await hRe(t,e,r+c,{headers:s,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(u):{data:Object.assign({},u),error:null}}async function hRe(t,e,r,n,i,s){const a=dRe(e,n,i,s);let c;try{c=await t(r,Object.assign({},a))}catch(u){throw console.error(u),new xR(av(u),0)}if(c.ok||await GV(c),n?.noResolveJson)return c;try{return await c.json()}catch(u){await GV(u)}}function cA(t){var e;let r=null;mRe(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=W4e(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function zV(t){const e=cA(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function i0(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function fRe(t){return{data:t,error:null}}function ARe(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=t,a=a5(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},u=Object.assign({},a);return{data:{properties:c,user:u},error:null}}function WV(t){return t}function mRe(t){return t.access_token&&t.refresh_token&&t.expires_in}const jB=["global","local","others"];class pRe{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Zte(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=jB[0]){if(jB.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${jB.join(", ")}`);try{return await Ki(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(yi(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Ki(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:i0})}catch(n){if(yi(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=a5(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n?.newEmail,delete i.newEmail),await Ki(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:ARe,redirectTo:r?.redirectTo})}catch(r){if(yi(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Ki(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:i0})}catch(r){if(yi(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,s,a,c,u;try{const o={nextPage:null,lastPage:0,total:0},d=await Ki(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:WV});if(d.error)throw d.error;const f=await d.json(),A=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(u=(c=d.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&u!==void 0?u:[];return p.length>0&&(p.forEach(g=>{const y=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);o[`${v}Page`]=y}),o.total=parseInt(A)),{data:Object.assign(Object.assign({},f),o),error:null}}catch(o){if(yi(o))return{data:{users:[]},error:o};throw o}}async getUserById(e){Qy(e);try{return await Ki(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:i0})}catch(r){if(yi(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Qy(e);try{return await Ki(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:i0})}catch(n){if(yi(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Qy(e);try{return await Ki(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:i0})}catch(n){if(yi(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Qy(e.userId);try{const{data:r,error:n}=await Ki(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(yi(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Qy(e.userId),Qy(e.id);try{return{data:await Ki(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(yi(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,i,s,a,c,u;try{const o={nextPage:null,lastPage:0,total:0},d=await Ki(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:WV});if(d.error)throw d.error;const f=await d.json(),A=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(u=(c=d.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&u!==void 0?u:[];return p.length>0&&(p.forEach(g=>{const y=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);o[`${v}Page`]=y}),o.total=parseInt(A)),{data:Object.assign(Object.assign({},f),o),error:null}}catch(o){if(yi(o))return{data:{clients:[]},error:o};throw o}}async _createOAuthClient(e){try{return await Ki(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(yi(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await Ki(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(yi(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await Ki(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(yi(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Ki(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(yi(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await Ki(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(yi(r))return{data:null,error:r};throw r}}}function YV(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Vy={debug:!!(globalThis&&Xte()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Jte extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class gRe extends Jte{}async function vRe(t,e,r){Vy.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Vy.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Vy.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{Vy.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Vy.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new gRe(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Vy.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function yRe(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function ere(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function xRe(t){return parseInt(t,16)}function bRe(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function wRe(t){var e;const{chainId:r,domain:n,expirationTime:i,issuedAt:s=new Date,nonce:a,notBefore:c,requestId:u,resources:o,scheme:d,uri:f,version:A}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(A!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${A}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const p=ere(t.address),g=d?`${d}://${n}`:n,y=t.statement?`${t.statement}
`:"",v=`${g} wants you to sign in with your Ethereum account:
${p}

${y}`;let b=`URI: ${f}
Version: ${A}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${s.toISOString()}`;if(i&&(b+=`
Expiration Time: ${i.toISOString()}`),c&&(b+=`
Not Before: ${c.toISOString()}`),u&&(b+=`
Request ID: ${u}`),o){let w=`
Resources:`;for(const S of o){if(!S||typeof S!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${S}`);w+=`
- ${S}`}b+=w}return`${v}
${b}`}class Mc extends Error{constructor({message:e,code:r,cause:n,name:i}){var s;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=i??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class cj extends Mc{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function ERe({error:t,options:e}){var r,n,i;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Mc({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Mc({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Mc({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Mc({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Mc({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Mc({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return s.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new Mc({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Mc({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(tre(a)){if(s.rp.id!==a)return new Mc({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Mc({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Mc({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Mc({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Mc({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function SRe({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Mc({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Mc({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(tre(n)){if(r.rpId!==n)return new Mc({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Mc({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Mc({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Mc({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class _Re{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const TRe=new _Re;function CRe(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,i=a5(t,["challenge","user","excludeCredentials"]),s=eb(e).buffer,a=Object.assign(Object.assign({},r),{id:eb(r.id).buffer}),c=Object.assign(Object.assign({},i),{challenge:s,user:a});if(n&&n.length>0){c.excludeCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const o=n[u];c.excludeCredentials[u]=Object.assign(Object.assign({},o),{id:eb(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return c}function jRe(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=a5(t,["challenge","allowCredentials"]),i=eb(e).buffer,s=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const c=r[a];s.allowCredentials[a]=Object.assign(Object.assign({},c),{id:eb(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return s}function NRe(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:jv(new Uint8Array(t.response.attestationObject)),clientDataJSON:jv(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function IRe(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:jv(new Uint8Array(i.authenticatorData)),clientDataJSON:jv(new Uint8Array(i.clientDataJSON)),signature:jv(new Uint8Array(i.signature)),userHandle:i.userHandle?jv(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function tre(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function qV(){var t,e;return!!(ud()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function kRe(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new cj("Browser returned unexpected credential type",e)}:{data:null,error:new cj("Empty credential response",e)}}catch(e){return{data:null,error:ERe({error:e,options:t})}}}async function BRe(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new cj("Browser returned unexpected credential type",e)}:{data:null,error:new cj("Empty credential response",e)}}catch(e){return{data:null,error:SRe({error:e,options:t})}}}const LRe={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},RRe={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function uj(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of t)if(i)for(const s in i){const a=i[s];if(a!==void 0)if(Array.isArray(a))n[s]=a;else if(r(a))n[s]=a;else if(e(a)){const c=n[s];e(c)?n[s]=uj(c,a):n[s]=uj(a)}else n[s]=a}return n}function ORe(t,e){return uj(LRe,t,e||{})}function PRe(t,e){return uj(RRe,t,e||{})}class DRe{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:i},s){var a;try{const{data:c,error:u}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!c)return{data:null,error:u};const o=i??TRe.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:d}=c.webauthn.credential_options.publicKey;if(!d.name){const f=n;if(f)d.name=`${d.id}:${f}`;else{const p=(await this.client.getUser()).data.user,g=((a=p?.user_metadata)===null||a===void 0?void 0:a.name)||p?.email||p?.id||"User";d.name=`${d.id}:${g}`}}d.displayName||(d.displayName=d.name)}switch(c.webauthn.type){case"create":{const d=ORe(c.webauthn.credential_options.publicKey,s?.create),{data:f,error:A}=await kRe({publicKey:d,signal:o});return f?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:f}},error:null}:{data:null,error:A}}case"request":{const d=PRe(c.webauthn.credential_options.publicKey,s?.request),{data:f,error:A}=await BRe(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:d,signal:o}));return f?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:f}},error:null}:{data:null,error:A}}}}catch(c){return yi(c)?{data:null,error:c}:{data:null,error:new yv("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new _E("rpId is required for WebAuthn authentication")};try{if(!qV())return{data:null,error:new yv("Browser does not support WebAuthn",null)};const{data:a,error:c}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:s});if(!a)return{data:null,error:c};const{webauthn:u}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:u.type,rpId:r,rpOrigins:n,credential_response:u.credential_response}})}catch(a){return yi(a)?{data:null,error:a}:{data:null,error:new yv("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new _E("rpId is required for WebAuthn registration")};try{if(!qV())return{data:null,error:new yv("Browser does not support WebAuthn",null)};const{data:a,error:c}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(A=>A.factor_type==="webauthn"&&A.friendly_name===e&&A.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d?.id}):void 0),{data:null,error:c};const{data:u,error:o}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:s});return u?this._verify({factorId:a.id,challengeId:u.challengeId,webauthn:{rpId:r,rpOrigins:n,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:o}}catch(a){return yi(a)?{data:null,error:a}:{data:null,error:new yv("Unexpected error in register",a)}}}}yRe();const MRe={url:R4e,storageKey:O4e,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:P4e,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function XV(t,e,r){return await r()}const Ky={};class TE{get jwks(){var e,r;return(r=(e=Ky[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Ky[this.storageKey]=Object.assign(Object.assign({},Ky[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Ky[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ky[this.storageKey]=Object.assign(Object.assign({},Ky[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},MRe),e);if(this.storageKey=s.storageKey,this.instanceID=(r=TE.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,TE.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&ud()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new pRe({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Zte(s.fetch),this.lock=s.lock||XV,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,this.lockAcquireTimeout=s.lockAcquireTimeout,s.lock?this.lock=s.lock:this.persistSession&&ud()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=vRe:this.lock=XV,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new DRe(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Xte()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=YV(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=YV(this.memoryStorage)),ud()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a);try{await this._notifyAllSubscribers(a.data.event,a.data.session,!1)}catch(c){this._debug("#broadcastChannel","error",c)}})}this.initialize().catch(a=>{this._debug("#initialize()","error",a)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Wte}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(ud()&&(r=q4e(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),ud()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),$4e(s)){const u=(e=s.details)===null||e===void 0?void 0:e.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:s}}return{error:s}}const{session:a,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",c),await this._saveSession(a),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return yi(r)?this._returnResult({error:r}):this._returnResult({error:new yv("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const s=await Ki(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:cA}),{data:a,error:c}=s;if(c||!a)return this._returnResult({data:{user:null,session:null},error:c});const u=a.session,o=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:o,session:u},error:null})}catch(s){if(yi(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(e){var r,n,i;try{let s;if("email"in e){const{email:d,password:f,options:A}=e;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await Hy(this.storage,this.storageKey)),s=await Ki(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:A?.emailRedirectTo,body:{email:d,password:f,data:(r=A?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:A?.captchaToken},code_challenge:p,code_challenge_method:g},xform:cA})}else if("phone"in e){const{phone:d,password:f,options:A}=e;s=await Ki(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=A?.data)!==null&&n!==void 0?n:{},channel:(i=A?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:A?.captchaToken}},xform:cA})}else throw new PS("You must provide either an email or phone number and a password");const{data:a,error:c}=s;if(c||!a)return await od(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:c});const u=a.session,o=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:o,session:u},error:null})}catch(s){if(await od(this.storage,`${this.storageKey}-code-verifier`),yi(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(e){try{let r;if("email"in e){const{email:s,password:a,options:c}=e;r=await Ki(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:zV})}else if("phone"in e){const{phone:s,password:a,options:c}=e;r=await Ki(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:zV})}else throw new PS("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const s=new $y;return this._returnResult({data:{user:null,session:null},error:s})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(yi(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,i,s,a,c,u,o,d,f,A;let p,g;if("message"in e)p=e.message,g=e.signature;else{const{chain:y,wallet:v,statement:b,options:w}=e;let S;if(ud())if(typeof v=="object")S=v;else{const G=window;if("ethereum"in G&&typeof G.ethereum=="object"&&"request"in G.ethereum&&typeof G.ethereum.request=="function")S=G.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!w?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=v}const _=new URL((r=w?.url)!==null&&r!==void 0?r:window.location.href),T=await S.request({method:"eth_requestAccounts"}).then(G=>G).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!T||T.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const L=ere(T[0]);let D=(n=w?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!D){const G=await S.request({method:"eth_chainId"});D=xRe(G)}const V={domain:_.host,address:L,statement:b,uri:_.href,version:"1",chainId:D,nonce:(i=w?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(s=w?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(c=w?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(u=w?.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(o=w?.signInWithEthereum)===null||o===void 0?void 0:o.requestId,resources:(d=w?.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=wRe(V),g=await S.request({method:"personal_sign",params:[bRe(p),L]})}try{const{data:y,error:v}=await Ki(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:g},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(A=e.options)===null||A===void 0?void 0:A.captchaToken}}:null),xform:cA});if(v)throw v;if(!y||!y.session||!y.user){const b=new $y;return this._returnResult({data:{user:null,session:null},error:b})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:v})}catch(y){if(yi(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(e){var r,n,i,s,a,c,u,o,d,f,A,p;let g,y;if("message"in e)g=e.message,y=e.signature;else{const{chain:v,wallet:b,statement:w,options:S}=e;let _;if(ud())if(typeof b=="object")_=b;else{const L=window;if("solana"in L&&typeof L.solana=="object"&&("signIn"in L.solana&&typeof L.solana.signIn=="function"||"signMessage"in L.solana&&typeof L.solana.signMessage=="function"))_=L.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!S?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=b}const T=new URL((r=S?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const L=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S?.signInWithSolana),{version:"1",domain:T.host,uri:T.href}),w?{statement:w}:null));let D;if(Array.isArray(L)&&L[0]&&typeof L[0]=="object")D=L[0];else if(L&&typeof L=="object"&&"signedMessage"in L&&"signature"in L)D=L;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in D&&"signature"in D&&(typeof D.signedMessage=="string"||D.signedMessage instanceof Uint8Array)&&D.signature instanceof Uint8Array)g=typeof D.signedMessage=="string"?D.signedMessage:new TextDecoder().decode(D.signedMessage),y=D.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${T.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${T.href}`,`Issued At: ${(i=(n=S?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=S?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((a=S?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((c=S?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((u=S?.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((o=S?.signInWithSolana)===null||o===void 0)&&o.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((f=(d=S?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...S.signInWithSolana.resources.map(D=>`- ${D}`)]:[]].join(`
`);const L=await _.signMessage(new TextEncoder().encode(g),"utf8");if(!L||!(L instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=L}}try{const{data:v,error:b}=await Ki(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:jv(y)},!((A=e.options)===null||A===void 0)&&A.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:cA});if(b)throw b;if(!v||!v.session||!v.user){const w=new $y;return this._returnResult({data:{user:null,session:null},error:w})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:b})}catch(v){if(yi(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async _exchangeCodeForSession(e){const r=await Y0(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new H4e;const{data:s,error:a}=await Ki(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:cA});if(await od(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!s||!s.session||!s.user){const c=new $y;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(await od(this.storage,`${this.storageKey}-code-verifier`),yi(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:s,nonce:a}=e,c=await Ki(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:cA}),{data:u,error:o}=c;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!u||!u.session||!u.user){const d=new $y;return this._returnResult({data:{user:null,session:null},error:d})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:u,error:o})}catch(r){if(yi(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,i,s,a;try{if("email"in e){const{email:c,options:u}=e;let o=null,d=null;this.flowType==="pkce"&&([o,d]=await Hy(this.storage,this.storageKey));const{error:f}=await Ki(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=u?.data)!==null&&r!==void 0?r:{},create_user:(n=u?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:o,code_challenge_method:d},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in e){const{phone:c,options:u}=e,{data:o,error:d}=await Ki(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=u?.data)!==null&&i!==void 0?i:{},create_user:(s=u?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:(a=u?.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:o?.message_id},error:d})}throw new PS("You must provide either an email or phone number.")}catch(c){if(await od(this.storage,`${this.storageKey}-code-verifier`),yi(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(e){var r,n;try{let i,s;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:c}=await Ki(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:cA});if(c)throw c;if(!a)throw new Error("An error occurred on token verification.");const u=a.session,o=a.user;return u?.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),this._returnResult({data:{user:o,session:u},error:null})}catch(i){if(yi(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var r,n,i,s,a;try{let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Hy(this.storage,this.storageKey));const o=await Ki(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:u}),headers:this.headers,xform:fRe});return!((s=o.data)===null||s===void 0)&&s.url&&ud()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(o.data.url),this._returnResult(o)}catch(c){if(await od(this.storage,`${this.storageKey}-code-verifier`),yi(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Vh;const{error:i}=await Ki(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(yi(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:s}=e,{error:a}=await Ki(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:n,type:i,options:s}=e,{data:a,error:c}=await Ki(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a?.message_id},error:c})}throw new PS("You must provide either an email or phone number and a type")}catch(r){if(yi(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Y0(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<SB:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const a=await Y0(this.userStorage,this.storageKey+"-user");a?.user?e.user=a.user:e.user=CB()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=cRe(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await Ki(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:i0}):await this._useSession(async r=>{var n,i,s;const{data:a,error:c}=r;if(c)throw c;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Vh}:await Ki(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:i0})})}catch(r){if(yi(r))return _B(r)&&(await this._removeSession(),await od(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new Vh;const a=i.session;let c=null,u=null;this.flowType==="pkce"&&e.email!=null&&([c,u]=await Hy(this.storage,this.storageKey));const{data:o,error:d}=await Ki(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:u}),jwt:a.access_token,xform:i0});if(d)throw d;return a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(await od(this.storage,`${this.storageKey}-code-verifier`),yi(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Vh;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:a}=MS(e.access_token);if(a.exp&&(n=a.exp,i=n<=r),i){const{data:c,error:u}=await this._callRefreshToken(e.refresh_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c)return{data:{user:null,session:null},error:null};s=c}else{const{data:c,error:u}=await this._getUser(e.access_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});s={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(yi(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:a,error:c}=r;if(c)throw c;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!e?.refresh_token)throw new Vh;const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(yi(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!ud())throw new DS("No browser detected.");if(e.error||e.error_description||e.error_code)throw new DS(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new UV("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new DS("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new UV("No code detected.");const{data:w,error:S}=await this._exchangeCodeForSession(e.code);if(S)throw S;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:c,expires_at:u,token_type:o}=e;if(!s||!c||!a||!o)throw new DS("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(c);let A=d+f;u&&(A=parseInt(u));const p=A-d;p*1e3<=lx&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const g=A-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,A,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,A,d);const{data:y,error:v}=await this._getUser(s);if(v)throw v;const b={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:f,expires_at:A,refresh_token:a,token_type:o,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:b,redirectType:e.type},error:null})}catch(n){if(yi(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Y0(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s&&!_B(s))return this._returnResult({error:s});const a=(n=i.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:c}=await this.admin.signOut(a,e);if(c&&!(U4e(c)&&(c.status===404||c.status===401||c.status===403)||_B(c)))return this._returnResult({error:c})}return e!=="others"&&(await this._removeSession(),await od(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=Y4e(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Hy(this.storage,this.storageKey,!0));try{return await Ki(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(await od(this.storage,`${this.storageKey}-code-verifier`),yi(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(yi(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var a,c,u,o,d;const{data:f,error:A}=s;if(A)throw A;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(u=e.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await Ki(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(o=f.session)===null||o===void 0?void 0:o.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return ud()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),this._returnResult({data:{provider:e.provider,url:n?.url},error:null})}catch(n){if(yi(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:s}}=r;if(i)throw i;const{options:a,provider:c,token:u,access_token:o,nonce:d}=e,f=await Ki(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:c,id_token:u,access_token:o,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:cA}),{data:A,error:p}=f;return p?this._returnResult({data:{user:null,session:null},error:p}):!A||!A.session||!A.user?this._returnResult({data:{user:null,session:null},error:new $y}):(A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("USER_UPDATED",A.session)),this._returnResult({data:A,error:p}))}catch(i){if(await od(this.storage,`${this.storageKey}-code-verifier`),yi(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)throw a;return await Ki(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(yi(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await J4e(async i=>(i>0&&await Z4e(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Ki(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:cA})),(i,s)=>{const a=200*Math.pow(2,i);return s&&TB(s)&&Date.now()+a-n<lx})}catch(n){if(this._debug(r,"error",n),yi(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),ud()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Y0(this.storage,this.storageKey);if(i&&this.userStorage){let a=await Y0(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await cx(this.userStorage,this.storageKey+"-user",a)),i.user=(e=a?.user)!==null&&e!==void 0?e:CB()}else if(i&&!i.user&&!i.user){const a=await Y0(this.storage,this.storageKey+"-user");a&&a?.user?(i.user=a.user,await od(this.storage,this.storageKey+"-user"),await cx(this.storage,this.storageKey,i)):i.user=CB()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<SB;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${SB}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),TB(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:c}=await this._getUser(i.access_token);!c&&a?.user?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Vh;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new c5;const{data:s,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new Vh;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const c={data:s.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(s){if(this._debug(i,"error",s),yi(s)){const a={data:null,error:s};return TB(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,r)}catch(u){s.push(u)}});if(await Promise.all(a),s.length>0){for(let c=0;c<s.length;c+=1)console.error(s[c]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await od(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await cx(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=KV(i);await cx(this.storage,this.storageKey,s)}else{const i=KV(r);await cx(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await od(this.storage,this.storageKey),await od(this.storage,this.storageKey+"-code-verifier"),await od(this.storage,this.storageKey+"-user"),this.userStorage&&await od(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ud()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),lx);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/lx);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${lx}ms, refresh threshold is ${vR} ticks`),i<=vR&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Jte)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ud()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,a]=await Hy(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(c.toString())}if(n?.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n?.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?this._returnResult({data:null,error:s}):await Ki(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(yi(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:u,error:o}=await Ki(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token});return o?this._returnResult({data:null,error:o}):(e.factorType==="totp"&&u.type==="totp"&&(!((i=u?.totp)===null||i===void 0)&&i.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),this._returnResult({data:u,error:null}))})}catch(r){if(yi(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?NRe(e.webauthn.credential_response):IRe(e.webauthn.credential_response)})}:{code:e.code}),{data:c,error:u}=await Ki(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:u}))})}catch(r){if(yi(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const a=await Ki(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:c}=a;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:CRe(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:jRe(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(yi(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=r?.factors)!==null&&e!==void 0?e:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(e){var r,n,i,s;if(e)try{const{payload:p}=MS(e);let g=null;p.aal&&(g=p.aal);let y=g;const{data:{user:v},error:b}=await this.getUser(e);if(b)return this._returnResult({data:null,error:b});((n=(r=v?.factors)===null||r===void 0?void 0:r.filter(_=>_.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(y="aal2");const S=p.amr||[];return{data:{currentLevel:g,nextLevel:y,currentAuthenticationMethods:S},error:null}}catch(p){if(yi(p))return this._returnResult({data:null,error:p});throw p}const{data:{session:a},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=MS(a.access_token);let o=null;u.aal&&(o=u.aal);let d=o;((s=(i=a.user.factors)===null||i===void 0?void 0:i.filter(p=>p.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(d="aal2");const A=u.amr||[];return{data:{currentLevel:o,nextLevel:d,currentAuthenticationMethods:A},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await Ki(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Vh})})}catch(r){if(yi(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new Vh});const a=await Ki(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return a.data&&a.data.redirect_url&&ud()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a})}catch(n){if(yi(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new Vh});const a=await Ki(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return a.data&&a.data.redirect_url&&ud()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a})}catch(n){if(yi(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await Ki(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Vh})})}catch(e){if(yi(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(await Ki(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Vh})})}catch(r){if(yi(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(c=>c.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(c=>c.kid===e),n&&this.jwks_cached_at+M4e>i)return n;const{data:s,error:a}=await Ki(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(c=>c.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:p,error:g}=await this.getSession();if(g||!p.session)return this._returnResult({data:null,error:g});n=p.session.access_token}const{header:i,payload:s,signature:a,raw:{header:c,payload:u}}=MS(n);r?.allowExpired||aRe(s.exp);const o=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!o){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:s,header:i,signature:a},error:null}}const d=oRe(i.alg),f=await crypto.subtle.importKey("jwk",o,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,a,z4e(`${c}.${u}`)))throw new bR("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(n){if(yi(n))return this._returnResult({data:null,error:n});throw n}}}TE.nextInstanceID={};const FRe=TE,URe="2.93.3";let rw="";typeof Deno<"u"?rw="deno":typeof document<"u"?rw="web":typeof navigator<"u"&&navigator.product==="ReactNative"?rw="react-native":rw="node";const $Re={"X-Client-Info":`supabase-js-${rw}/${URe}`},HRe={headers:$Re},QRe={schema:"public"},VRe={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},KRe={};function CE(t){"@babel/helpers - typeof";return CE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},CE(t)}function GRe(t,e){if(CE(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(CE(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zRe(t){var e=GRe(t,"string");return CE(e)=="symbol"?e:e+""}function WRe(t,e,r){return(e=zRe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Yl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZV(Object(r),!0).forEach(function(n){WRe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const YRe=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),qRe=()=>Headers,XRe=(t,e,r)=>{const n=YRe(r),i=qRe();return async(s,a)=>{var c;const u=(c=await e())!==null&&c!==void 0?c:t;let o=new i(a?.headers);return o.has("apikey")||o.set("apikey",t),o.has("Authorization")||o.set("Authorization",`Bearer ${u}`),n(s,Yl(Yl({},a),{},{headers:o}))}};function ZRe(t){return t.endsWith("/")?t:t+"/"}function JRe(t,e){var r,n;const{db:i,auth:s,realtime:a,global:c}=t,{db:u,auth:o,realtime:d,global:f}=e,A={db:Yl(Yl({},u),i),auth:Yl(Yl({},o),s),realtime:Yl(Yl({},d),a),storage:{},global:Yl(Yl(Yl({},f),c),{},{headers:Yl(Yl({},(r=f?.headers)!==null&&r!==void 0?r:{}),(n=c?.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?A.accessToken=t.accessToken:delete A.accessToken,A}function eOe(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(ZRe(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var tOe=class extends FRe{constructor(t){super(t)}},rOe=class{constructor(t,e,r){var n,i;this.supabaseUrl=t,this.supabaseKey=e;const s=eOe(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const a=`sb-${s.hostname.split(".")[0]}-auth-token`,c={db:QRe,realtime:KRe,auth:Yl(Yl({},VRe),{},{storageKey:a}),global:HRe},u=JRe(r??{},c);if(this.storageKey=(n=u.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken)this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var o;this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch)}this.fetch=XRe(e,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Yl({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new ULe(new URL("rest/v1",s).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new L4e(this.storageUrl.href,this.headers,this.fetch,r?.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new OLe(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:n}=await t.auth.getSession();return(e=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:i,storageKey:s,flowType:a,lock:c,debug:u,throwOnError:o},d,f){const A={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new tOe({url:this.authUrl.href,headers:Yl(Yl({},A),d),storageKey:s,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:i,flowType:a,lock:c,debug:u,throwOnError:o,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new n4e(this.realtimeUrl.href,Yl(Yl({},t),{},{params:Yl(Yl({},{apikey:this.supabaseKey}),t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e?.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const nOe=(t,e,r)=>new rOe(t,e,r);function iOe(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const r=e.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}iOe()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const sOe="https://gonalgubgldgpkcekaxe.supabase.co",aOe="sb_publishable_SB4LfH4EkuEyu5qeC_dffQ_G9cF8Fo_",Kr=nOe(sOe,aOe);async function oOe({name:t,email:e,phone:r,orgName:n}){const{data:i,error:s}=await Kr.from("leads").insert([{name:t,email:e,phone:r,org_name:n,completed_form:!1,source:"combat-sports-proposal"}]).select();if(s)throw s;return i?.[0]}async function lOe(t,e){const{error:r}=await Kr.from("leads").update({completed_form:!0,form_data:e}).eq("id",t);if(r)throw r}async function cOe(t){if(!t)return null;let{data:e,error:r}=await Kr.from("crm_leads").select("*").ilike("org_name",t).limit(1).single();if(e)return e;const n=t.replace(/\s*(Pty|Ltd|Inc|LLC|Pty Ltd|PTY LTD|Corporation|Corp)\.?\s*/gi,"").trim(),i=await Kr.from("crm_leads").select("*").ilike("org_name",`%${n}%`).limit(1).single();if(i.data)return i.data;const s=n.split(/\s+/).filter(a=>a.length>3);if(s.length>0){const a=s[0],c=await Kr.from("crm_leads").select("*").ilike("org_name",`%${a}%BJJ%`).limit(1).single();if(c.data)return c.data}return null}async function yM(){const{data:t,error:e}=await Kr.from("contracts").select("*").order("created_at",{ascending:!1});if(e)throw e;return t}async function rre(t){const{data:e,error:r}=await Kr.from("contracts").select("*").eq("id",t).single();if(r)throw r;return e}async function uOe(t){const{data:e,error:r}=await Kr.from("contracts").select("*").eq("share_token",t).single();if(r)throw r;return e}async function JV(t){const e=Array.from({length:32},()=>Math.floor(Math.random()*16).toString(16)).join(""),{data:r,error:n}=await Kr.from("contracts").insert({...t,share_token:e}).select().single();if(n)throw n;return r}async function eK(t,e){const{data:r,error:n}=await Kr.from("contracts").update({...e,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(n)throw n;return r}async function dOe(t){const{error:e}=await Kr.from("contracts").delete().eq("id",t);if(e)throw e}async function hOe(t){const{data:e,error:r}=await Kr.from("contracts").update({viewed_at:new Date().toISOString(),status:"viewed",updated_at:new Date().toISOString()}).eq("id",t).select().single();if(r)throw r;return e}async function fOe(t){const{data:e,error:r}=await Kr.from("orders").insert([t]).select().single();if(r)throw r;return e}async function AOe(t,e,r=!1){const n=r?{client_signature:e,client_signed_at:new Date().toISOString(),status:"signed",updated_at:new Date().toISOString()}:{ffm_signature:e,ffm_signed_at:new Date().toISOString(),status:"sent",updated_at:new Date().toISOString()},{data:i,error:s}=await Kr.from("contracts").update(n).eq("id",t).select().single();if(s)throw s;return i}const mOe=()=>Array.from({length:24},()=>Math.floor(Math.random()*16).toString(16)).join("");async function pOe(){const{data:t,error:e}=await Kr.from("onboarding_sessions").select("*").order("created_at",{ascending:!1});if(e)throw e;return t}async function gOe(t){const{data:e,error:r}=await Kr.from("onboarding_sessions").select("*").eq("share_token",t);if(r)throw r;if(!e||e.length===0)throw new Error("Onboarding session not found. Please check your link or contact Fit Focus Media.");const n=e[0];return n&&n.status==="pending"&&(await Kr.from("onboarding_sessions").update({status:"in_progress"}).eq("share_token",t),n.status="in_progress"),n}async function nre(t){const{data:e,error:r}=await Kr.from("onboarding_sessions").insert({...t,share_token:mOe(),status:"pending"}).select().single();if(r)throw r;if(e&&e.org_name&&e.event_name)try{await SOe(e.id,e.org_name,e.event_name)}catch(n){console.error("Failed to create Drive folders:",n)}return e}async function vOe(t,e){delete e.id,delete e.created_at,delete e.share_token,delete e.contract_id;const{data:r,error:n}=await Kr.from("onboarding_sessions").update({...e,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(n)throw n;return r}async function yOe(t,e){delete e.id,delete e.created_at,delete e.share_token,delete e.contract_id;const{data:r,error:n}=await Kr.from("onboarding_sessions").update({...e,updated_at:new Date().toISOString()}).eq("share_token",t).select();if(n)throw n;if(!r||r.length===0)throw new Error("Failed to save changes - session not found");return r[0]}async function xOe(t){const e=typeof t=="string"?t:t?.share_token;if(!e)throw new Error("No share token provided for submission");const{data:r,error:n}=await Kr.from("onboarding_sessions").update({status:"submitted",submitted_at:new Date().toISOString()}).eq("share_token",e).select();if(n)throw n;if(!r||r.length===0)throw new Error("Session not found or update blocked by permissions");return r[0]}async function bOe(t,e,r){const{data:n,error:i}=await Kr.from("onboarding_sessions").update({status:"reviewed",reviewed_at:new Date().toISOString(),reviewed_by:e,admin_notes:r}).eq("id",t).select();if(i)throw i;return n}async function wOe(t){const{error:e}=await Kr.from("onboarding_files").delete().eq("session_id",t);e&&console.error("Error deleting files:",e);const{error:r}=await Kr.from("onboarding_sessions").delete().eq("id",t);if(r)throw r;return!0}const NB="onboarding";async function EOe(t,e,r,n){const{data:i}=await Kr.from("onboarding_sessions").select("org_name, event_name").eq("id",t).single(),s=b=>b?.replace(/[^a-zA-Z0-9 -]/g,"").trim().substring(0,50)||"",a=s(i?.org_name)||t.substring(0,8),c=i?.event_name?s(i.event_name):null,u=Date.now(),o=n.name.replace(/[^a-zA-Z0-9.-]/g,"_"),d=c?`${a}/${c}/${e}/${u}_${o}`:`${a}/${e}/${u}_${o}`,{data:f,error:A}=await Kr.storage.from(NB).upload(d,n,{cacheControl:"3600",upsert:!1});if(A)throw new Error(A.message||"Upload failed");const{data:p}=Kr.storage.from(NB).getPublicUrl(d),g=p?.publicUrl||null,{data:y,error:v}=await Kr.from("onboarding_files").insert({session_id:t,category:e,file_type:r,file_name:n.name,file_size:n.size,mime_type:n.type,storage_path:d,public_url:g,synced_to_drive:!1}).select().single();if(v)throw await Kr.storage.from(NB).remove([d]),new Error(v.message||"Failed to create file record");return{file:y,url:g,message:"File uploaded. Will sync to Google Drive automatically."}}async function SOe(t,e,r){return console.log("Drive folders will be created automatically during sync"),{success:!0,message:"Folders created during sync"}}async function _Oe(t){const{data:e,error:r}=await Kr.from("onboarding_files").select("*").eq("session_id",t).order("created_at",{ascending:!1});if(r)throw r;return e}async function TOe(){const{data:t,error:e}=await Kr.from("livestream_events").select("*").in("status",["published","live","ended"]).order("start_time",{ascending:!0});if(e)throw e;return t}async function ire(t){const{data:e,error:r}=await Kr.from("livestream_events").select("*").eq("id",t).single();if(r)throw r;return e}async function COe(){const{data:t,error:e}=await Kr.from("livestream_events").select("*").order("created_at",{ascending:!1});if(e)throw e;return t}async function jOe(t){const{data:e,error:r}=await Kr.from("livestream_events").insert([t]).select().single();if(r)throw r;return e}async function NOe(t,e){const{data:r,error:n}=await Kr.from("livestream_events").update({...e,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(n)throw n;return r}async function IOe(t){const{error:e}=await Kr.from("livestream_events").delete().eq("id",t);if(e)throw e}async function sre(){const{data:t,error:e}=await Kr.from("livestream_settings").select("*").eq("id",1).single();if(e&&e.code!=="PGRST116")throw e;return t||{demo_mode:!1}}async function kOe(t){const{data:e,error:r}=await Kr.from("livestream_settings").upsert({id:1,...t,updated_at:new Date().toISOString()}).select().single();if(r)throw r;return e}async function BOe(t){const{data:e,error:r}=await Kr.from("livestream_orders").insert([t]).select().single();if(r)throw r;return e}async function LOe(t,e){const{data:r,error:n}=await Kr.from("livestream_orders").select("*").eq("event_id",t).eq("email",e.toLowerCase()).eq("status","completed").single();if(n&&n.code!=="PGRST116")throw n;return r}async function ROe(t){let e=Kr.from("livestream_orders").select("*, event:livestream_events(*)").order("created_at",{ascending:!1});const{data:r,error:n}=await e;if(n)throw n;return r}async function OOe(t){const{data:e,error:r}=await Kr.from("livestream_sessions").insert([t]).select().single();if(r)throw r;return e}async function POe(t){const{data:e,error:r}=await Kr.from("livestream_sessions").update({last_seen:new Date().toISOString()}).eq("token",t).eq("active",!0).select().single();if(r)throw r;return e}const DOe=()=>{const[t,e]=j.useState(1),[r,n]=j.useState({name:"",email:"",phone:""}),[i,s]=j.useState({orgName:"",showsPerYear:4,avgAttendance:200,venueCapacity:300,socialFollowing:5e3,currentMedia:"basic",geoReach:"local",sponsorshipLevel:"few",growthTrajectory:"stable"}),[a,c]=j.useState(null),[u,o]=j.useState([]),d=j.useRef(null),f=5;j.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[t]),j.useEffect(()=>{t===f&&d.current&&lOe(d.current,{...i,...r,analysis:a,selectedAddOns:u}).catch(S=>console.error("Error marking lead completed:",S))},[t]);const A=()=>{t<f&&e(t+1)},p=()=>{t>1&&e(t-1)},g=S=>{S>=1&&S<=f&&e(S)},y=(S,_)=>{s(T=>({...T,[S]:_}))},v=(S,_)=>{n(T=>({...T,[S]:_}))},b=S=>{s(S)},w=async()=>{const S=await oOe({name:r.name,email:r.email,phone:r.phone,orgName:i.orgName||""});S?.id&&(d.current=S.id),A()};return l.jsxs("div",{className:"pt-16 sm:pt-20",children:[t>1&&l.jsx(Gpe,{currentStep:t,totalSteps:f,goToStep:g}),l.jsxs("div",{className:"transition-opacity duration-300",children:[t===1&&l.jsx(zpe,{nextStep:A}),t===2&&l.jsx(Wpe,{formData:i,updateFormData:y,setFormDataBulk:b,setAnalysis:c,nextStep:A,prevStep:p}),t===3&&l.jsx(SLe,{formData:i,analysis:a,selectedAddOns:u,setSelectedAddOns:o,nextStep:A,prevStep:p}),t===4&&l.jsx(_Le,{contactData:r,updateContactData:v,formData:i,onSubmit:w,prevStep:p}),t===5&&l.jsx(kLe,{formData:i,analysis:a,selectedAddOns:u,prevStep:p,goToStep:g})]})]})},MOe=()=>{const[t,e]=j.useState({name:"",email:"",organization:"",message:""}),r=n=>{n.preventDefault();const i=encodeURIComponent(`Website Inquiry - ${t.organization||t.name}`),s=encodeURIComponent(`Name: ${t.name}
Email: ${t.email}
Organization: ${t.organization}

${t.message}`);window.location.href=`mailto:info@fitfocusmedia.com.au?subject=${i}&body=${s}`};return l.jsxs("div",{className:"pt-20 sm:pt-24",children:[l.jsx("section",{className:"py-12 sm:py-20 px-4 sm:px-6",children:l.jsx("div",{className:"max-w-7xl mx-auto text-center",children:l.jsxs(Or.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[l.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-black mb-6",children:l.jsx("span",{className:"text-gradient",children:"Get In Touch"})}),l.jsx("p",{className:"text-lg sm:text-xl text-gray-400 max-w-3xl mx-auto",children:"Ready to elevate your combat sports event? Let's talk about how professional media coverage can transform your promotion."})]})})}),l.jsx("section",{className:"py-8 sm:py-12 px-4 sm:px-6",children:l.jsx("div",{className:"max-w-7xl mx-auto",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 sm:gap-12",children:[l.jsx(Or.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6},children:l.jsxs("div",{className:"bg-dark-800 border border-gray-700 rounded-xl p-6 sm:p-8",children:[l.jsx("h2",{className:"text-2xl sm:text-3xl font-black text-white mb-2",children:"Send a Message"}),l.jsx("p",{className:"text-gray-400 text-sm mb-6",children:"We typically respond within 24 hours."}),l.jsxs("form",{onSubmit:r,className:"space-y-5",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-300 mb-2",children:"Your Name *"}),l.jsx("input",{type:"text",required:!0,value:t.name,onChange:n=>e({...t,name:n.target.value}),className:"w-full px-4 py-3 bg-dark-900 border-2 border-gray-700 rounded-lg text-white focus:border-primary-600 focus:outline-none transition-colors",placeholder:"John Smith"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-300 mb-2",children:"Email Address *"}),l.jsx("input",{type:"email",required:!0,value:t.email,onChange:n=>e({...t,email:n.target.value}),className:"w-full px-4 py-3 bg-dark-900 border-2 border-gray-700 rounded-lg text-white focus:border-primary-600 focus:outline-none transition-colors",placeholder:"john@promotion.com"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-300 mb-2",children:"Organization"}),l.jsx("input",{type:"text",value:t.organization,onChange:n=>e({...t,organization:n.target.value}),className:"w-full px-4 py-3 bg-dark-900 border-2 border-gray-700 rounded-lg text-white focus:border-primary-600 focus:outline-none transition-colors",placeholder:"Your promotion / gym name"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-300 mb-2",children:"Message *"}),l.jsx("textarea",{required:!0,rows:5,value:t.message,onChange:n=>e({...t,message:n.target.value}),className:"w-full px-4 py-3 bg-dark-900 border-2 border-gray-700 rounded-lg text-white focus:border-primary-600 focus:outline-none transition-colors resize-none",placeholder:"Tell us about your event or what you're looking for..."})]}),l.jsxs("button",{type:"submit",className:"w-full flex items-center justify-center gap-2 px-6 py-4 bg-primary-600 hover:bg-primary-700 text-white font-bold rounded-lg transition-all hover:scale-[1.02] text-lg",children:[l.jsx(zW,{className:"w-5 h-5"}),"Send Message"]})]})]})}),l.jsxs(Or.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6},className:"space-y-6",children:[l.jsxs("div",{className:"bg-dark-800 border border-gray-700 rounded-xl p-6 sm:p-8",children:[l.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:"Direct Contact"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("a",{href:"mailto:info@fitfocusmedia.com.au",className:"flex items-center gap-4 p-4 bg-dark-900 rounded-lg hover:bg-primary-600/10 border border-gray-700 hover:border-primary-600/50 transition-all group",children:[l.jsx("div",{className:"w-12 h-12 bg-primary-600/20 rounded-lg flex items-center justify-center",children:l.jsx(af,{className:"w-6 h-6 text-primary-500"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-white font-semibold",children:"Email"}),l.jsx("p",{className:"text-gray-400 text-sm group-hover:text-primary-400 transition-colors",children:"info@fitfocusmedia.com.au"})]})]}),l.jsxs("div",{className:"flex items-center gap-4 p-4 bg-dark-900 rounded-lg border border-gray-700",children:[l.jsx("div",{className:"w-12 h-12 bg-primary-600/20 rounded-lg flex items-center justify-center",children:l.jsx(C0,{className:"w-6 h-6 text-primary-500"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-white font-semibold",children:"Location"}),l.jsx("p",{className:"text-gray-400 text-sm",children:"Queensland, Australia"}),l.jsx("p",{className:"text-gray-500 text-xs",children:"Servicing events Australia-wide + International"})]})]})]})]}),l.jsxs("div",{className:"bg-dark-800 border border-gray-700 rounded-xl p-6 sm:p-8",children:[l.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:"Quick Actions"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("a",{href:"mailto:info@fitfocusmedia.com.au?subject=Consultation Request&body=Hi Brandon,%0D%0A%0D%0AI'd like to schedule a consultation to discuss media production for my event.%0D%0A%0D%0APlease send me your available times.%0D%0A%0D%0AThanks!",className:"flex items-center gap-3 p-4 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-all hover:scale-[1.02] group",children:[l.jsx(Pd,{className:"w-6 h-6 group-hover:rotate-12 transition-transform"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-bold",children:"Request a Consultation"}),l.jsx("p",{className:"text-sm text-blue-100",children:"Free 30-min call to discuss your needs"})]})]}),l.jsxs(gs,{to:"/proposal",className:"flex items-center gap-3 p-4 bg-primary-600 hover:bg-primary-700 text-white rounded-lg transition-all hover:scale-[1.02] group",children:[l.jsx(nf,{className:"w-6 h-6 group-hover:translate-x-1 transition-transform"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-bold",children:"Get Your Free Analysis"}),l.jsx("p",{className:"text-sm text-primary-100",children:"2-minute form, instant results"})]})]})]})]}),l.jsxs("div",{className:"bg-dark-800 border border-gray-700 rounded-xl p-6 sm:p-8",children:[l.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Follow Us"}),l.jsx("div",{className:"flex gap-3",children:[{icon:uN,label:"Instagram",href:"#"},{icon:qW,label:"YouTube",href:"#"},{icon:cN,label:"Facebook",href:"#"}].map(n=>l.jsxs("a",{href:n.href,className:"flex items-center gap-2 px-4 py-3 bg-dark-900 border border-gray-700 rounded-lg hover:border-primary-600/50 hover:bg-primary-600/10 transition-all",children:[l.jsx(n.icon,{className:"w-5 h-5 text-gray-400"}),l.jsx("span",{className:"text-gray-300 text-sm font-semibold",children:n.label})]},n.label))})]}),l.jsxs("div",{className:"p-5 bg-green-900/20 border border-green-600/40 rounded-xl",children:[l.jsx("p",{className:"text-green-300 font-semibold text-sm mb-1",children:" Fast Response"}),l.jsx("p",{className:"text-gray-400 text-sm",children:"We typically respond within 24 hours. For urgent event inquiries, mention your event date in the subject line."})]})]})]})})})]})};function FOe(){return j.useEffect(()=>{const t=document.createElement("script");return t.src="https://static.zcal.co/embed/v1/embed.js",t.async=!0,document.body.appendChild(t),()=>{const e=document.querySelector('script[src="https://static.zcal.co/embed/v1/embed.js"]');e&&e.remove()}},[]),l.jsx("div",{className:"min-h-screen bg-dark-950 pt-24 pb-16",children:l.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:[l.jsx("span",{className:"text-white",children:"Book a "}),l.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-primary-400 to-accent-400",children:"Meeting"})]}),l.jsx("p",{className:"text-xl text-gray-400 max-w-2xl mx-auto",children:"Schedule a call with Brandon to discuss your event media needs. Choose a time that works for you."})]}),l.jsx("div",{className:"bg-dark-900/50 backdrop-blur-sm rounded-2xl border border-dark-800 p-4 md:p-8",children:l.jsx("div",{className:"zcal-inline-widget w-full",style:{minHeight:"700px"},children:l.jsx("a",{href:"https://zcal.co/i/tG0dicG9",children:"Project Enquiry - Schedule a meeting"})})}),l.jsx("div",{className:"mt-8 text-center",children:l.jsxs("p",{className:"text-gray-500 text-sm",children:["Can't find a suitable time?"," ",l.jsx("a",{href:"mailto:info@fitfocusmedia.com.au",className:"text-primary-400 hover:text-primary-300 transition-colors",children:"Email us directly"})]})})]})})}const $h=({value:t,prefix:e="",suffix:r="",decimals:n=0})=>{const i=Ppe(0,{damping:50,stiffness:100}),s=Oq(i,a=>e+a.toFixed(n).replace(/\B(?=(\d{3})+(?!\d))/g,",")+r);return j.useEffect(()=>{i.set(t)},[i,t]),l.jsx(Or.span,{children:s})},UOe=()=>{const[t,e]=j.useState(4),[r,n]=j.useState(30),[i,s]=j.useState(50),[a,c]=j.useState(300),[u,o]=j.useState(!1),[d,f]=j.useState(2e3),A=24.99,p=r*.15*350*t,g=r*.25*175*t,y=r*.05*899,v=p+g+y,b=a*1.5,w=b*A,S=w*t,_=S*.7,T=d*.2*t,L=v+_+T,D=d*t,V=D+L,G=[{name:"Without FFM",Sponsorship:d*t,"Athlete Packages":0,"PPV Revenue":0,"Sponsorship Uplift":0},{name:"With FFM",Sponsorship:d*t,"Athlete Packages":v,"PPV Revenue":_,"Sponsorship Uplift":T}],J={Sponsorship:"#6b7280","Athlete Packages":"#22c55e","PPV Revenue":"#10b981","Sponsorship Uplift":"#14b8a6"};return l.jsx("div",{className:"py-12 px-4 sm:px-6",children:l.jsxs("div",{className:"max-w-5xl mx-auto",children:[l.jsxs(Or.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-16",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary-600/20 rounded-2xl mb-6",children:l.jsx(UW,{className:"w-8 h-8 text-primary-500"})}),l.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-black mb-4",children:l.jsx("span",{className:"text-gradient",children:"Revenue Calculator"})}),l.jsx("p",{className:"text-lg sm:text-xl text-gray-400 max-w-2xl mx-auto",children:"See how much your events could generate with professional media coverage"})]}),l.jsxs(Or.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-dark-800 border border-gray-700 rounded-2xl p-6 sm:p-8 mb-8",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx("div",{className:"w-10 h-10 bg-primary-600/20 rounded-xl flex items-center justify-center",children:l.jsx("span",{className:"text-xl font-black text-primary-500",children:"1"})}),l.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Your Event Details"})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"flex justify-between text-sm font-semibold text-gray-300 mb-3",children:[l.jsx("span",{children:"Number of events per year"}),l.jsxs("span",{className:"text-primary-400",children:[t," events"]})]}),l.jsx("input",{type:"range",min:"1",max:"24",value:t,onChange:ee=>e(Number(ee.target.value)),className:"w-full h-2 bg-dark-700 rounded-lg appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-5 [&::-webkit-slider-thumb]:h-5 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-primary-500 [&::-webkit-slider-thumb]:cursor-pointer [&::-moz-range-thumb]:w-5 [&::-moz-range-thumb]:h-5 [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:bg-primary-500 [&::-moz-range-thumb]:border-0 [&::-moz-range-thumb]:cursor-pointer"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"flex justify-between text-sm font-semibold text-gray-300 mb-3",children:[l.jsx("span",{children:"Average athletes per event"}),l.jsxs("span",{className:"text-primary-400",children:[r," athletes"]})]}),l.jsx("input",{type:"range",min:"10",max:"100",value:r,onChange:ee=>n(Number(ee.target.value)),className:"w-full h-2 bg-dark-700 rounded-lg appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-5 [&::-webkit-slider-thumb]:h-5 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-primary-500 [&::-webkit-slider-thumb]:cursor-pointer [&::-moz-range-thumb]:w-5 [&::-moz-range-thumb]:h-5 [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:bg-primary-500 [&::-moz-range-thumb]:border-0 [&::-moz-range-thumb]:cursor-pointer"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-300 mb-3",children:"Average ticket price"}),l.jsxs("div",{className:"relative",children:[l.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:"$"}),l.jsx("input",{type:"number",min:"0",value:i,onChange:ee=>s(Number(ee.target.value)),className:"w-full bg-dark-700 border border-gray-600 rounded-lg px-10 py-3 text-white focus:outline-none focus:border-primary-500 transition-colors"})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"flex justify-between text-sm font-semibold text-gray-300 mb-3",children:[l.jsx("span",{children:"Average attendees per event"}),l.jsxs("span",{className:"text-primary-400",children:[a," people"]})]}),l.jsx("input",{type:"range",min:"50",max:"2000",step:"50",value:a,onChange:ee=>c(Number(ee.target.value)),className:"w-full h-2 bg-dark-700 rounded-lg appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-5 [&::-webkit-slider-thumb]:h-5 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-primary-500 [&::-webkit-slider-thumb]:cursor-pointer [&::-moz-range-thumb]:w-5 [&::-moz-range-thumb]:h-5 [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:bg-primary-500 [&::-moz-range-thumb]:border-0 [&::-moz-range-thumb]:cursor-pointer"})]}),l.jsx("div",{children:l.jsxs("label",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm font-semibold text-gray-300",children:"Do you currently livestream?"}),l.jsx("button",{onClick:()=>o(!u),className:`relative inline-flex h-7 w-12 items-center rounded-full transition-colors ${u?"bg-primary-600":"bg-dark-600"}`,children:l.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white transition-transform ${u?"translate-x-6":"translate-x-1"}`})})]})}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-300 mb-3",children:"Current sponsorship revenue per event"}),l.jsxs("div",{className:"relative",children:[l.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:"$"}),l.jsx("input",{type:"number",min:"0",value:d,onChange:ee=>f(Number(ee.target.value)),className:"w-full bg-dark-700 border border-gray-600 rounded-lg px-10 py-3 text-white focus:outline-none focus:border-primary-500 transition-colors"})]})]})]})]}),l.jsxs(Or.section,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1},className:"bg-dark-800 border border-gray-700 rounded-2xl p-6 sm:p-8 mb-8",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx("div",{className:"w-10 h-10 bg-primary-600/20 rounded-xl flex items-center justify-center",children:l.jsx("span",{className:"text-xl font-black text-primary-500",children:"2"})}),l.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Revenue Projections"})]}),l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx(Ub,{className:"w-5 h-5 text-primary-500"}),l.jsx("h3",{className:"text-xl font-bold text-white",children:"A) Athlete Media Packages"})]}),l.jsxs("div",{className:"space-y-3 pl-7",children:[l.jsxs("div",{className:"flex justify-between items-center text-sm",children:[l.jsx("span",{className:"text-gray-400",children:"VIP Package ($350)  15% uptake"}),l.jsxs("span",{className:"text-green-400 font-semibold",children:["$",l.jsx($h,{value:p,decimals:0})]})]}),l.jsxs("div",{className:"flex justify-between items-center text-sm",children:[l.jsx("span",{className:"text-gray-400",children:"Match Package ($175)  25% uptake"}),l.jsxs("span",{className:"text-green-400 font-semibold",children:["$",l.jsx($h,{value:g,decimals:0})]})]}),l.jsxs("div",{className:"flex justify-between items-center text-sm",children:[l.jsx("span",{className:"text-gray-400",children:"Season Pass ($899/yr)  5% uptake"}),l.jsxs("span",{className:"text-green-400 font-semibold",children:["$",l.jsx($h,{value:y,decimals:0})]})]}),l.jsx("div",{className:"border-t border-gray-700 pt-3 mt-3",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"font-bold text-white",children:"Total Athlete Revenue"}),l.jsxs("span",{className:"text-2xl font-black text-green-400",children:["$",l.jsx($h,{value:v,decimals:0})]})]})})]})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx(Nm,{className:"w-5 h-5 text-primary-500"}),l.jsx("h3",{className:"text-xl font-bold text-white",children:"B) PPV/Live Streaming"})]}),!u&&l.jsx("div",{className:"bg-amber-900/20 border border-amber-700/50 rounded-lg p-4 mb-4 ml-7",children:l.jsx("p",{className:"text-amber-300 text-sm font-semibold",children:" You're leaving money on the table  streaming could add significant revenue"})}),l.jsxs("div",{className:"space-y-3 pl-7",children:[l.jsxs("div",{className:"flex justify-between items-center text-sm",children:[l.jsx("span",{className:"text-gray-400",children:"PPV viewers per event (attendees  1.5)"}),l.jsxs("span",{className:"text-gray-300 font-semibold",children:[l.jsx($h,{value:b,decimals:0})," viewers"]})]}),l.jsxs("div",{className:"flex justify-between items-center text-sm",children:[l.jsx("span",{className:"text-gray-400",children:"PPV price"}),l.jsxs("span",{className:"text-gray-300 font-semibold",children:["$",A]})]}),l.jsxs("div",{className:"flex justify-between items-center text-sm",children:[l.jsx("span",{className:"text-gray-400",children:"Revenue per event"}),l.jsxs("span",{className:"text-green-400 font-semibold",children:["$",l.jsx($h,{value:w,decimals:0})]})]}),l.jsxs("div",{className:"flex justify-between items-center text-sm",children:[l.jsx("span",{className:"text-gray-400",children:"Annual PPV revenue"}),l.jsxs("span",{className:"text-green-400 font-semibold",children:["$",l.jsx($h,{value:S,decimals:0})]})]}),l.jsx("div",{className:"bg-dark-700/50 border border-gray-600 rounded-lg p-3 my-3",children:l.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"FFM handles all production. Revenue shared 70/30 (70% to you)"})}),l.jsx("div",{className:"border-t border-gray-700 pt-3 mt-3",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"font-bold text-white",children:"Your PPV Revenue (70% share)"}),l.jsxs("span",{className:"text-2xl font-black text-green-400",children:["$",l.jsx($h,{value:_,decimals:0})]})]})})]})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx(r2,{className:"w-5 h-5 text-primary-500"}),l.jsx("h3",{className:"text-xl font-bold text-white",children:"C) Sponsorship Uplift"})]}),l.jsxs("div",{className:"space-y-3 pl-7",children:[l.jsx("p",{className:"text-sm text-gray-400 mb-3",children:"Professional media coverage attracts bigger sponsors. Estimated 20% increase in sponsorship value."}),l.jsxs("div",{className:"flex justify-between items-center text-sm",children:[l.jsx("span",{className:"text-gray-400",children:"Current annual sponsorship"}),l.jsxs("span",{className:"text-gray-300 font-semibold",children:["$",l.jsx($h,{value:d*t,decimals:0})]})]}),l.jsx("div",{className:"border-t border-gray-700 pt-3 mt-3",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"font-bold text-white",children:"Additional Sponsorship (20% uplift)"}),l.jsxs("span",{className:"text-2xl font-black text-green-400",children:["$",l.jsx($h,{value:T,decimals:0})]})]})})]})]})]})]}),l.jsxs(Or.section,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.2},className:"bg-gradient-to-br from-green-900/30 to-emerald-900/30 border-2 border-green-600/50 rounded-2xl p-6 sm:p-8 mb-8",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx("div",{className:"w-10 h-10 bg-green-600/30 rounded-xl flex items-center justify-center",children:l.jsx("span",{className:"text-xl font-black text-green-400",children:"3"})}),l.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"The Bottom Line"})]}),l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("p",{className:"text-gray-300 mb-3 text-lg",children:"Total Additional Annual Revenue"}),l.jsxs("div",{className:"text-5xl sm:text-6xl md:text-7xl font-black text-green-400 mb-2",children:["$",l.jsx($h,{value:L,decimals:0})]}),l.jsx("p",{className:"text-sm text-gray-400",children:"= Athlete Packages + Your PPV Share + Sponsorship Uplift"})]}),l.jsxs("div",{className:"bg-dark-900/50 rounded-xl p-4 sm:p-6 mb-6",children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-4 text-center",children:"Revenue Comparison"}),l.jsx(CC,{width:"100%",height:300,children:l.jsxs(Mte,{data:G,margin:{top:20,right:20,left:20,bottom:20},children:[l.jsx(pte,{strokeDasharray:"3 3",stroke:"#374151"}),l.jsx(dM,{dataKey:"name",stroke:"#9ca3af"}),l.jsx(hM,{stroke:"#9ca3af",tickFormatter:ee=>`$${(ee/1e3).toFixed(0)}k`}),l.jsx(eTe,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px",color:"#f3f4f6"},formatter:ee=>`$${ee.toLocaleString()}`}),l.jsx(pZ,{}),l.jsx(Qx,{dataKey:"Sponsorship",stackId:"a",fill:J.Sponsorship,radius:[0,0,0,0]}),l.jsx(Qx,{dataKey:"Athlete Packages",stackId:"a",fill:J["Athlete Packages"],radius:[0,0,0,0]}),l.jsx(Qx,{dataKey:"PPV Revenue",stackId:"a",fill:J["PPV Revenue"],radius:[0,0,0,0]}),l.jsx(Qx,{dataKey:"Sponsorship Uplift",stackId:"a",fill:J["Sponsorship Uplift"],radius:[8,8,0,0]})]})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-dark-800/50 rounded-lg p-4 text-center",children:[l.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Without FFM"}),l.jsxs("p",{className:"text-2xl font-bold text-gray-300",children:["$",l.jsx($h,{value:D,decimals:0})]})]}),l.jsxs("div",{className:"bg-green-900/30 border border-green-600/50 rounded-lg p-4 text-center",children:[l.jsx("p",{className:"text-sm text-green-300 mb-1",children:"With FFM"}),l.jsxs("p",{className:"text-2xl font-bold text-green-400",children:["$",l.jsx($h,{value:V,decimals:0})]})]})]})]}),l.jsxs(Or.section,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.3},className:"bg-dark-800 border border-gray-700 rounded-2xl p-6 sm:p-8 mb-8 text-center",children:[l.jsx(T0,{className:"w-12 h-12 text-primary-500 mx-auto mb-4"}),l.jsx("h3",{className:"text-3xl sm:text-4xl font-black text-white mb-3",children:"FFM Cost to You: $0"}),l.jsx("p",{className:"text-gray-400 mb-4 max-w-2xl mx-auto",children:"We earn from production fees and a share of the revenue we help generate"}),l.jsxs("div",{className:"inline-flex items-center gap-2 px-6 py-3 bg-green-900/30 border border-green-600/50 rounded-lg",children:[l.jsx(dy,{className:"w-5 h-5 text-green-400"}),l.jsx("span",{className:"text-green-300 font-semibold",children:"No risk. No upfront cost. Just results."})]})]}),l.jsxs(Or.section,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.4},className:"text-center",children:[l.jsx("h3",{className:"text-2xl sm:text-3xl font-bold text-white mb-6",children:"Ready to unlock this revenue?"}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsxs(gs,{to:"/proposal",className:"group inline-flex items-center justify-center gap-3 px-8 py-4 bg-primary-600 hover:bg-primary-700 text-white font-black rounded-lg text-lg transition-all hover:scale-105 card-glow",children:["Get Your Free Event Analysis",l.jsx(nf,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]}),l.jsx(gs,{to:"/contact",className:"inline-flex items-center justify-center gap-3 px-8 py-4 bg-white/10 hover:bg-white/20 backdrop-blur-sm text-white font-bold rounded-lg text-lg transition-all border border-white/20 hover:border-white/40",children:"Contact Us"})]}),l.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"Takes 2 minutes  No commitment required"})]})]})})},IB=[{id:"nba-sydney-nationals-day1-2026",name:"NBA Sydney Nationals Day 1",date:"2026-02-07"},{id:"nba-sydney-nationals-day2-2026",name:"NBA Sydney Nationals Day 2",date:"2026-02-08"}],$Oe=["Bikini","Wellness","Figure","Physique","Bodybuilding","Classic Physique","Sports Model","Fitness Model","Transformation","First Timers","Masters","Other"],HOe=[{id:"iwalk",name:"I-Walk Video",price:250,description:"Your complete walk-on stage moment"},{id:"highlight",name:"Highlight Reel",price:500,description:"Fully edited cinematic highlight"},{id:"combo",name:"Combo Pack",price:700,description:"I-Walk + Highlight Reel",savings:50}],QOe=(t,e)=>t<=1?{total:e,savings:0}:t===2?{total:e*2-50,savings:50}:{total:e*t-100,savings:100},VOe=()=>{const[t]=lN(),[e,r]=j.useState(1),[n,i]=j.useState(!1),[s,a]=j.useState(!1);j.useEffect(()=>{t.get("success")==="true"&&(i(!0),window.history.replaceState({},"",window.location.pathname)),t.get("canceled")==="true"&&(a(!0),window.history.replaceState({},"",window.location.pathname))},[t]);const[c,u]=j.useState({selectedPackage:null,selectedEvents:[],firstName:"",lastName:"",email:"",phone:"",divisions:[],instagram:"",coachName:"",coachInstagram:"",referenceImage:null,referenceImagePreview:null}),[o,d]=j.useState(!1),f=j.useRef(null),A=j.useRef(null),[p,g]=j.useState(!1),[y,v]=j.useState(!1),[b,w]=j.useState(null),[S,_]=j.useState(null);j.useEffect(()=>{S&&f.current&&(f.current.srcObject=S,f.current.play().then(()=>v(!1)).catch(()=>v(!1)))},[S,p]),j.useEffect(()=>()=>{S&&S.getTracks().forEach(he=>he.stop())},[S]);const T=c.selectedPackage?QOe(c.selectedEvents.length,c.selectedPackage.price):{total:0,savings:0},L=(he,ne)=>{u(Ae=>({...Ae,[he]:ne}))},D=he=>{u(ne=>({...ne,selectedEvents:ne.selectedEvents.includes(he)?ne.selectedEvents.filter(Ae=>Ae!==he):[...ne.selectedEvents,he]}))},V=he=>{u(ne=>({...ne,divisions:ne.divisions.includes(he)?ne.divisions.filter(Ae=>Ae!==he):[...ne.divisions,he]}))},G=async()=>{try{w(null),v(!0),g(!0);const he=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user",width:{ideal:640},height:{ideal:480}}});_(he)}catch(he){console.error("Camera error:",he),g(!1),v(!1),w("Unable to access camera. Please upload a photo instead.")}},J=()=>{if(f.current&&A.current){const he=f.current,ne=A.current;ne.width=he.videoWidth,ne.height=he.videoHeight,ne.getContext("2d").drawImage(he,0,0);const Ae=ne.toDataURL("image/jpeg",.8);L("referenceImage",Ae),L("referenceImagePreview",Ae),S&&(S.getTracks().forEach(oe=>oe.stop()),_(null)),g(!1)}},ee=he=>{const ne=he.target.files[0];if(ne){const Ae=new FileReader;Ae.onloadend=()=>{L("referenceImage",Ae.result),L("referenceImagePreview",Ae.result)},Ae.readAsDataURL(ne)}},ue=async()=>{d(!0);try{const he=c.selectedEvents.map(ve=>IB.find(se=>se.id===ve)?.name).join(", "),ne=await fOe({first_name:c.firstName,last_name:c.lastName,email:c.email,phone:c.phone,divisions:c.divisions,instagram:c.instagram,coach_name:c.coachName,coach_instagram:c.coachInstagram,show_name:he,reference_image_url:c.referenceImage,package_type:c.selectedPackage.id,amount_paid:T.total,order_status:"pending"}),oe=await fetch("https://scarlet-sales-api-vercel.vercel.app/api/create-checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({packageId:c.selectedPackage.id,showCount:c.selectedEvents.length,showNames:he,customerEmail:c.email,customerName:`${c.firstName} ${c.lastName}`,metadata:{orderId:ne.id,instagram:c.instagram,divisions:c.divisions.join(", "),coachName:c.coachName,coachInstagram:c.coachInstagram}})}),{url:Be,error:ke}=await oe.json();if(ke)throw new Error(ke);window.location.href=Be}catch(he){console.error("Order error:",he),alert("Error creating order. Please try again."),d(!1)}},pe=()=>{switch(e){case 1:return c.selectedPackage&&c.selectedEvents.length>0;case 2:return c.firstName&&c.lastName&&c.email&&c.phone&&c.divisions.length>0&&c.instagram&&c.coachName&&c.coachInstagram;case 3:return c.referenceImage;default:return!0}};if(n)return l.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center p-4 pt-24",children:l.jsxs("div",{className:"bg-dark-900 rounded-2xl p-8 max-w-md w-full text-center border border-gray-800",children:[l.jsx("div",{className:"w-20 h-20 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-6",children:l.jsx("svg",{className:"w-10 h-10 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),l.jsx("h2",{className:"text-3xl font-bold text-white mb-3",children:"Payment Successful!"}),l.jsx("p",{className:"text-gray-400 mb-6",children:"Thanks for your order! We'll find your footage and start editing. You'll receive a confirmation email shortly."}),l.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"Delivery: 5-7 business days"}),l.jsx(gs,{to:"/",className:"inline-block px-8 py-3 bg-primary-600 text-white rounded-lg font-medium hover:bg-primary-700",children:"Back to Home"})]})});if(s)return l.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center p-4 pt-24",children:l.jsxs("div",{className:"bg-dark-900 rounded-2xl p-8 max-w-md w-full text-center border border-gray-800",children:[l.jsx("div",{className:"w-20 h-20 bg-yellow-500/20 rounded-full flex items-center justify-center mx-auto mb-6",children:l.jsx("span",{className:"text-4xl",children:""})}),l.jsx("h2",{className:"text-2xl font-bold text-white mb-3",children:"Payment Canceled"}),l.jsx("p",{className:"text-gray-400 mb-6",children:"No worries  your order wasn't charged. You can try again whenever you're ready."}),l.jsx("button",{onClick:()=>a(!1),className:"px-8 py-3 bg-primary-600 text-white rounded-lg font-medium hover:bg-primary-700",children:"Try Again"})]})});const ge=["Package & Shows","Your Info","Photo","Checkout"];return l.jsxs("div",{className:"min-h-screen bg-dark-950 pt-24 pb-12",children:[l.jsxs("div",{className:"max-w-4xl mx-auto px-4 mb-8 text-center",children:[l.jsx("div",{className:"inline-block mb-4 px-4 py-2 bg-primary-600/10 border border-primary-500/30 rounded-full text-primary-400 text-sm font-medium",children:"NBA Sydney Nationals 2026  Pre-Order Your Footage"}),l.jsxs("h1",{className:"text-4xl md:text-5xl font-black text-white mb-4",children:["Athlete ",l.jsx("span",{className:"text-gradient",children:"Content Order"})]}),l.jsx("p",{className:"text-gray-400 text-lg max-w-2xl mx-auto",children:"Professional multi-angle coverage, cinematic editing, ready for social media."})]}),l.jsxs("div",{className:"max-w-lg mx-auto px-4 mb-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:ge.map((he,ne)=>l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold ${e>ne+1?"bg-green-500 text-white":e===ne+1?"bg-primary-600 text-white":"bg-dark-800 text-gray-500"}`,children:e>ne+1?"":ne+1}),ne<ge.length-1&&l.jsx("div",{className:`w-8 sm:w-16 h-0.5 mx-1 ${e>ne+1?"bg-green-500":"bg-dark-800"}`})]},ne))}),l.jsx("div",{className:"flex justify-between mt-2 text-xs text-gray-500",children:ge.map((he,ne)=>l.jsx("span",{className:"text-center w-16",children:he},ne))})]}),l.jsx("div",{className:"max-w-lg mx-auto px-4",children:l.jsxs("div",{className:"bg-dark-900 rounded-2xl p-6 border border-gray-800",children:[e===1&&l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Select Package & Shows"}),l.jsx("p",{className:"text-gray-400 text-sm mb-3",children:"Package Type"}),l.jsx("div",{className:"space-y-3 mb-6",children:HOe.map(he=>{const ne=c.selectedPackage?.id===he.id;return l.jsx("button",{onClick:()=>L("selectedPackage",he),className:`w-full p-4 rounded-xl border-2 text-left transition-all ${ne?"border-primary-500 bg-primary-600/10":"border-gray-800 hover:border-gray-700"}`,children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-white",children:he.name}),l.jsx("p",{className:"text-sm text-gray-500",children:he.description}),he.savings&&l.jsxs("span",{className:"text-xs text-green-400",children:["Save $",he.savings]})]}),l.jsxs("p",{className:"text-xl font-bold text-white",children:["$",he.price]})]})},he.id)})}),l.jsx("p",{className:"text-gray-400 text-sm mb-3",children:"Which shows did you compete in?"}),l.jsx("div",{className:"space-y-3 mb-6",children:IB.map(he=>{const ne=c.selectedEvents.includes(he.id);return l.jsx("button",{onClick:()=>D(he.id),className:`w-full p-4 rounded-xl border-2 text-left transition-all ${ne?"border-primary-500 bg-primary-600/10":"border-gray-800 hover:border-gray-700"}`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-white",children:he.name}),l.jsx("p",{className:"text-sm text-gray-500",children:he.date})]}),l.jsx("div",{className:`w-6 h-6 rounded border-2 flex items-center justify-center ${ne?"border-primary-500 bg-primary-600":"border-gray-600"}`,children:ne&&l.jsx("span",{className:"text-white text-xs",children:""})})]})},he.id)})}),c.selectedPackage&&c.selectedEvents.length>0&&l.jsx("div",{className:"bg-dark-800/50 rounded-xl p-4",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsxs("p",{className:"text-white font-medium",children:[c.selectedPackage.name,"  ",c.selectedEvents.length," show",c.selectedEvents.length>1?"s":""]}),T.savings>0&&l.jsxs("p",{className:"text-green-400 text-sm",children:["Multi-show discount: Save $",T.savings,"!"]})]}),l.jsxs("p",{className:"text-2xl font-bold text-white",children:["$",T.total]})]})})]}),e===2&&l.jsxs("div",{className:"space-y-4",children:[l.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Your Details"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"First Name *"}),l.jsx("input",{type:"text",value:c.firstName,onChange:he=>L("firstName",he.target.value),className:"w-full px-4 py-3 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Last Name *"}),l.jsx("input",{type:"text",value:c.lastName,onChange:he=>L("lastName",he.target.value),className:"w-full px-4 py-3 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary-500"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Email *"}),l.jsx("input",{type:"email",value:c.email,onChange:he=>L("email",he.target.value),className:"w-full px-4 py-3 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Phone *"}),l.jsx("input",{type:"tel",value:c.phone,onChange:he=>L("phone",he.target.value),placeholder:"0412 345 678",className:"w-full px-4 py-3 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Instagram Handle *"}),l.jsxs("div",{className:"relative",children:[l.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",children:"@"}),l.jsx("input",{type:"text",value:c.instagram,onChange:he=>L("instagram",he.target.value.replace("@","")),placeholder:"yourhandle",className:"w-full pl-8 pr-4 py-3 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary-500"})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Coach's Name *"}),l.jsx("input",{type:"text",value:c.coachName,onChange:he=>L("coachName",he.target.value),placeholder:"Coach name",className:"w-full px-4 py-3 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Coach's Instagram *"}),l.jsxs("div",{className:"relative",children:[l.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",children:"@"}),l.jsx("input",{type:"text",value:c.coachInstagram,onChange:he=>L("coachInstagram",he.target.value.replace("@","")),placeholder:"coachhandle",className:"w-full pl-8 pr-4 py-3 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary-500"})]})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm text-gray-400 mb-2",children:["Divisions * ",l.jsx("span",{className:"text-gray-600",children:"(select all that apply)"})]}),l.jsx("div",{className:"grid grid-cols-2 gap-2",children:$Oe.map(he=>{const ne=c.divisions.includes(he);return l.jsxs("button",{type:"button",onClick:()=>V(he),className:`px-3 py-2 rounded-lg text-sm text-left transition-all ${ne?"bg-primary-600/20 border-2 border-primary-500 text-white":"bg-dark-800 border-2 border-gray-700 text-gray-400 hover:border-gray-600"}`,children:[ne&&l.jsx("span",{className:"mr-1",children:""}),he]},he)})})]})]}),e===3&&l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Reference Photo"}),l.jsx("p",{className:"text-gray-500 mb-6",children:"We use AI to find you in the footage"}),c.referenceImagePreview?l.jsxs("div",{className:"text-center",children:[l.jsx("img",{src:c.referenceImagePreview,alt:"Reference",className:"w-40 h-40 object-cover rounded-xl mx-auto border-2 border-primary-500 mb-4"}),l.jsx("button",{onClick:()=>{L("referenceImage",null),L("referenceImagePreview",null)},className:"text-primary-400 text-sm",children:"Choose different photo"})]}):l.jsx("div",{className:"space-y-4",children:p?l.jsxs("div",{className:"text-center",children:[y&&l.jsx("div",{className:"w-full max-w-xs mx-auto h-60 rounded-xl border border-gray-700 bg-dark-800 flex items-center justify-center mb-4",children:l.jsx("span",{className:"text-gray-400",children:"Loading camera..."})}),l.jsx("video",{ref:f,autoPlay:!0,playsInline:!0,muted:!0,style:{width:"100%",maxWidth:"320px",height:"auto",minHeight:"240px",display:y?"none":"block"},className:"mx-auto rounded-xl border border-gray-700 bg-dark-800"}),l.jsx("canvas",{ref:A,className:"hidden"}),l.jsxs("div",{className:"flex gap-3 justify-center mt-4",children:[l.jsx("button",{onClick:()=>{S&&(S.getTracks().forEach(he=>he.stop()),_(null)),g(!1),v(!1)},className:"px-6 py-3 bg-gray-700 text-white rounded-lg font-medium",children:"Cancel"}),l.jsx("button",{onClick:J,className:"px-8 py-3 bg-primary-600 text-white rounded-lg font-medium",children:" Capture"})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:G,className:"w-full py-8 bg-dark-800 border-2 border-dashed border-gray-700 rounded-xl text-gray-400 hover:border-primary-500 hover:text-white transition-colors flex flex-col items-center gap-2",children:[l.jsx("span",{className:"text-4xl",children:""}),l.jsx("span",{children:"Take a Selfie"})]}),b&&l.jsx("p",{className:"text-red-400 text-sm text-center",children:b}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"flex-1 h-px bg-dark-800"}),l.jsx("span",{className:"text-gray-600 text-sm",children:"or"}),l.jsx("div",{className:"flex-1 h-px bg-dark-800"})]}),l.jsxs("label",{className:"block w-full py-8 bg-dark-800 border-2 border-dashed border-gray-700 rounded-xl text-gray-400 hover:border-primary-500 hover:text-white transition-colors text-center cursor-pointer",children:[l.jsx("span",{className:"text-4xl block mb-2",children:""}),l.jsx("span",{children:"Upload Photo"}),l.jsx("input",{type:"file",accept:"image/*",onChange:ee,className:"hidden"})]})]})})]}),e===4&&l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Confirm Order"}),l.jsxs("div",{className:"space-y-4 mb-6",children:[l.jsxs("div",{className:"bg-dark-800/50 rounded-xl p-4",children:[l.jsx("p",{className:"text-gray-500 text-sm mb-2",children:"Package"}),l.jsx("p",{className:"text-white font-semibold",children:c.selectedPackage?.name}),l.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Shows:"}),c.selectedEvents.map(he=>l.jsxs("p",{className:"text-white text-sm",children:[" ",IB.find(ne=>ne.id===he)?.name]},he))]}),l.jsxs("div",{className:"bg-dark-800/50 rounded-xl p-4 space-y-2",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-500",children:"Name"}),l.jsxs("span",{className:"text-white",children:[c.firstName," ",c.lastName]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-500",children:"Email"}),l.jsx("span",{className:"text-white text-sm",children:c.email})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-500",children:"Phone"}),l.jsx("span",{className:"text-white",children:c.phone})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-500",children:"Instagram"}),l.jsxs("span",{className:"text-white",children:["@",c.instagram]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-500",children:"Divisions"}),l.jsx("span",{className:"text-white text-right text-sm",children:c.divisions.join(", ")})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-500",children:"Coach"}),l.jsxs("span",{className:"text-white",children:[c.coachName," (@",c.coachInstagram,")"]})]})]}),c.referenceImagePreview&&l.jsxs("div",{className:"flex items-center gap-4 bg-dark-800/50 rounded-xl p-4",children:[l.jsx("img",{src:c.referenceImagePreview,alt:"Reference",className:"w-12 h-12 object-cover rounded-lg"}),l.jsx("span",{className:"text-gray-400 text-sm",children:"Reference photo "})]})]}),l.jsx("div",{className:"bg-primary-600/10 border border-primary-500/30 rounded-xl p-4 mb-4",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsxs("p",{className:"text-white font-semibold",children:[c.selectedPackage?.name,"  ",c.selectedEvents.length]}),T.savings>0&&l.jsxs("p",{className:"text-green-400 text-sm",children:["Saving $",T.savings]})]}),l.jsxs("p",{className:"text-3xl font-bold text-white",children:["$",T.total]})]})})]}),l.jsxs("div",{className:"flex gap-3 mt-6",children:[e>1&&l.jsx("button",{onClick:()=>r(e-1),className:"flex-1 py-3 bg-dark-800 text-white rounded-lg font-medium hover:bg-dark-700",children:"Back"}),e<4?l.jsx("button",{onClick:()=>r(e+1),disabled:!pe(),className:`flex-1 py-3 rounded-lg font-medium ${pe()?"bg-primary-600 text-white hover:bg-primary-700":"bg-dark-800 text-gray-600 cursor-not-allowed"}`,children:"Continue"}):l.jsx("button",{onClick:ue,disabled:o,className:"flex-1 py-4 bg-green-500 text-white rounded-lg font-bold hover:bg-green-600 disabled:opacity-50 text-lg",children:o?"Processing...":`Pay $${T.total} AUD`})]})]})})]})};function KOe(){const[t,e]=j.useState([]),[r,n]=j.useState(!0);j.useEffect(()=>{i()},[]);async function i(){const{data:a,error:c}=await Kr.from("organizations").select("*").eq("active",!0).order("name");!c&&a&&e(a),n(!1)}const s=[{name:"Sarah M.",event:"NBA QLD State Titles",quote:"The highlight reel captured my stage moment perfectly. Worth every cent!",image:null},{name:"Jake T.",event:"WNG Championship",quote:"Professional quality footage that I use for all my social media. Highly recommend!",image:null},{name:"Michelle R.",event:"NBA Sydney Nationals",quote:"Finally have professional content of my competition. The team was amazing!",image:null}];return l.jsxs("div",{className:"min-h-screen bg-black text-white",children:[l.jsx("section",{className:"relative py-20 px-4",children:l.jsxs("div",{className:"max-w-6xl mx-auto text-center",children:[l.jsx("span",{className:"inline-block px-4 py-2 bg-red-600/20 text-red-500 rounded-full text-sm font-medium mb-6",children:"Professional Athlete Content"}),l.jsxs("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:["Capture Your ",l.jsx("span",{className:"text-red-500",children:"Moment"})]}),l.jsx("p",{className:"text-xl text-gray-400 max-w-3xl mx-auto mb-8",children:"Multi-angle coverage, cinematic editing, delivered ready for social media. We've captured thousands of athletes across bodybuilding, grappling, and combat sports."}),l.jsx("button",{onClick:()=>document.getElementById("select-org")?.scrollIntoView({behavior:"smooth"}),className:"inline-block px-8 py-4 bg-red-600 hover:bg-red-700 rounded-lg font-semibold text-lg transition-colors cursor-pointer",children:"Order Your Content "})]})}),l.jsx("section",{className:"py-16 px-4 bg-gray-900/50",children:l.jsxs("div",{className:"max-w-6xl mx-auto",children:[l.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"What You Get"}),l.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"bg-gray-800/50 p-6 rounded-xl border border-gray-700",children:[l.jsx("div",{className:"w-12 h-12 bg-red-600/20 rounded-lg flex items-center justify-center mb-4",children:l.jsx("svg",{className:"w-6 h-6 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),l.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Multi-Angle Coverage"}),l.jsx("p",{className:"text-gray-400",children:"Professional cameras capturing every angle of your performance"})]}),l.jsxs("div",{className:"bg-gray-800/50 p-6 rounded-xl border border-gray-700",children:[l.jsx("div",{className:"w-12 h-12 bg-red-600/20 rounded-lg flex items-center justify-center mb-4",children:l.jsx("svg",{className:"w-6 h-6 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 4V2a1 1 0 011-1h8a1 1 0 011 1v2m-9 0h10m-10 0a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V6a2 2 0 00-2-2"})})}),l.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Cinematic Editing"}),l.jsx("p",{className:"text-gray-400",children:"Color graded, music synced, ready to share highlight reels"})]}),l.jsxs("div",{className:"bg-gray-800/50 p-6 rounded-xl border border-gray-700",children:[l.jsx("div",{className:"w-12 h-12 bg-red-600/20 rounded-lg flex items-center justify-center mb-4",children:l.jsx("svg",{className:"w-6 h-6 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})})}),l.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Fast Delivery"}),l.jsx("p",{className:"text-gray-400",children:"Your content delivered digitally, typically within 2 weeks"})]})]})]})}),l.jsx("section",{className:"py-16 px-4",children:l.jsxs("div",{className:"max-w-6xl mx-auto",children:[l.jsx("h2",{className:"text-3xl font-bold text-center mb-4",children:"Athletes Love Their Content"}),l.jsx("p",{className:"text-gray-400 text-center mb-12",children:"Join thousands of athletes who've captured their moments"}),l.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:s.map((a,c)=>l.jsxs("div",{className:"bg-gray-800/30 p-6 rounded-xl border border-gray-700",children:[l.jsx("div",{className:"flex items-center gap-1 mb-4",children:[...Array(5)].map((u,o)=>l.jsx("svg",{className:"w-5 h-5 text-yellow-500",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},o))}),l.jsxs("p",{className:"text-gray-300 mb-4",children:['"',a.quote,'"']}),l.jsxs("div",{className:"text-sm",children:[l.jsx("span",{className:"font-semibold text-white",children:a.name}),l.jsxs("span",{className:"text-gray-500",children:["  ",a.event]})]})]},c))})]})}),l.jsx("section",{id:"select-org",className:"py-16 px-4 bg-gray-900/50",children:l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsx("h2",{className:"text-3xl font-bold text-center mb-4",children:"Select Your Organization"}),l.jsx("p",{className:"text-gray-400 text-center mb-12",children:"Choose the federation or event organizer you competed with"}),r?l.jsx("div",{className:"text-center text-gray-400",children:"Loading organizations..."}):t.length===0?l.jsx("div",{className:"text-center text-gray-400",children:"No organizations available yet."}):l.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:t.map(a=>l.jsxs(gs,{to:`/order/${a.slug}`,className:"flex items-center gap-4 p-6 bg-gray-800/50 hover:bg-gray-800 border border-gray-700 hover:border-red-500/50 rounded-xl transition-all group",children:[l.jsx("div",{className:"w-16 h-16 bg-gray-700 rounded-lg flex items-center justify-center text-2xl font-bold text-red-500",children:a.name.split(" ").map(c=>c[0]).join("").slice(0,3)}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-lg font-semibold group-hover:text-red-500 transition-colors",children:a.name}),a.description&&l.jsx("p",{className:"text-sm text-gray-400",children:a.description})]}),l.jsx("svg",{className:"w-6 h-6 text-gray-500 group-hover:text-red-500 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]},a.id))})]})}),l.jsx("section",{className:"py-16 px-4",children:l.jsxs("div",{className:"max-w-3xl mx-auto",children:[l.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"Frequently Asked Questions"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("details",{className:"bg-gray-800/30 rounded-xl border border-gray-700 p-4 group",children:[l.jsxs("summary",{className:"font-semibold cursor-pointer list-none flex justify-between items-center",children:["When will I receive my content?",l.jsx("span",{className:"text-gray-500 group-open:rotate-180 transition-transform",children:""})]}),l.jsx("p",{className:"mt-4 text-gray-400",children:"Content is typically delivered within 2 weeks of the event, depending on the package and event size."})]}),l.jsxs("details",{className:"bg-gray-800/30 rounded-xl border border-gray-700 p-4 group",children:[l.jsxs("summary",{className:"font-semibold cursor-pointer list-none flex justify-between items-center",children:["What's included in the highlight reel?",l.jsx("span",{className:"text-gray-500 group-open:rotate-180 transition-transform",children:""})]}),l.jsx("p",{className:"mt-4 text-gray-400",children:"A fully edited 60-90 second video featuring your best moments, color graded with music and transitions, optimized for social media."})]}),l.jsxs("details",{className:"bg-gray-800/30 rounded-xl border border-gray-700 p-4 group",children:[l.jsxs("summary",{className:"font-semibold cursor-pointer list-none flex justify-between items-center",children:["Can I order after the event?",l.jsx("span",{className:"text-gray-500 group-open:rotate-180 transition-transform",children:""})]}),l.jsx("p",{className:"mt-4 text-gray-400",children:"Yes! You can pre-order before the event or order afterwards. We capture all athletes at every event we cover."})]}),l.jsxs("details",{className:"bg-gray-800/30 rounded-xl border border-gray-700 p-4 group",children:[l.jsxs("summary",{className:"font-semibold cursor-pointer list-none flex justify-between items-center",children:["What if I competed in multiple shows?",l.jsx("span",{className:"text-gray-500 group-open:rotate-180 transition-transform",children:""})]}),l.jsx("p",{className:"mt-4 text-gray-400",children:"No problem! Select all the shows you competed in during checkout. Multi-show bundles may be available."})]})]})]})}),l.jsx("section",{className:"py-16 px-4 bg-gradient-to-b from-gray-900/50 to-black",children:l.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[l.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Ready to Get Your Content?"}),l.jsx("p",{className:"text-gray-400 mb-8",children:"Select your organization above to see available events and packages."}),l.jsx("button",{onClick:()=>document.getElementById("select-org")?.scrollIntoView({behavior:"smooth"}),className:"inline-block px-8 py-4 bg-red-600 hover:bg-red-700 rounded-lg font-semibold text-lg transition-colors cursor-pointer",children:"Select Organization "})]})})]})}const GOe="https://scarlet-sales-api-vercel.vercel.app";function zOe(){const{orgSlug:t}=$m(),e=ic();lN();const[r,n]=j.useState(null),[i,s]=j.useState([]),[a,c]=j.useState([]),[u,o]=j.useState(!0),[d,f]=j.useState(null),[A,p]=j.useState(()=>{const Ce=new URLSearchParams(window.location.search),Ze=window.location.hash;return Ce.get("success")==="true"||Ze.includes("success=true")}),[g,y]=j.useState(()=>{const Ce=new URLSearchParams(window.location.search),Ze=window.location.hash;return Ce.get("canceled")==="true"||Ze.includes("canceled=true")});j.useEffect(()=>{if(A||g){const Ce=window.location.origin+window.location.pathname+"#/order/"+t;window.history.replaceState({},"",Ce)}},[A,g,t]);const[v,b]=j.useState(1),[w,S]=j.useState(null),[_,T]=j.useState([]),[L,D]=j.useState({firstName:"",lastName:"",email:"",phone:"",divisions:[],instagram:"",coachName:"",coachInstagram:""}),[V,G]=j.useState(!1);j.useEffect(()=>{J()},[t]);async function J(){o(!0),f(null);const{data:Ce,error:Ze}=await Kr.from("organizations").select("*").eq("slug",t).eq("active",!0).single();if(Ze||!Ce){f("Organization not found"),o(!1);return}n(Ce);const{data:ze}=await Kr.from("events").select("*").eq("organization_id",Ce.id).eq("active",!0).order("date",{ascending:!1});s(ze||[]);const{data:$e}=await Kr.from("packages").select("*").eq("organization_id",Ce.id).eq("active",!0).order("sort_order");c($e||[]),o(!1)}function ee(Ce){T(Ze=>Ze.includes(Ce)?Ze.filter(ze=>ze!==Ce):[...Ze,Ce])}function ue(Ce){D(Ze=>({...Ze,[Ce.target.name]:Ce.target.value}))}function pe(){return w&&_.length>0}function ge(){return L.firstName&&L.lastName&&L.email&&L.phone&&L.divisions.length>0&&L.instagram&&L.coachName&&L.coachInstagram}const[he,ne]=j.useState([]),[Ae,oe]=j.useState([]),[Be,ke]=j.useState([]),[ve,se]=j.useState(!1);j.useEffect(()=>{_.length>0?me():(ne([]),oe([]))},[_]);async function me(){se(!0);const{data:Ce}=await Kr.from("division_categories").select("*").in("event_id",_).eq("active",!0).order("sort_order");if(Ce&&Ce.length>0){ne(Ce);const Ze=Ce.map($e=>$e.id),{data:ze}=await Kr.from("division_subdivisions").select("*").in("category_id",Ze).eq("active",!0).order("sort_order");oe(ze||[])}else ne([]),oe([]);se(!1)}function je(Ce){ke(Ze=>Ze.includes(Ce)?Ze.filter(ze=>ze!==Ce):[...Ze,Ce])}function Ue(Ce){return Ae.filter(Ze=>Ze.category_id===Ce)}function De(Ce,Ze){const ze=`${Ce} - ${Ze}`;D($e=>({...$e,divisions:$e.divisions.includes(ze)?$e.divisions.filter(ct=>ct!==ze):[...$e.divisions,ze]}))}function ot(Ce){return L.divisions.filter(Ze=>Ze.startsWith(Ce+" - "))}async function ft(){if(ge()){G(!0);try{const Ce=a.find(Fe=>Fe.id===w),Ze=i.filter(Fe=>_.includes(Fe.id)).map(Fe=>Fe.name).join(", "),ze=Ce.price*_.length,ct=await(await fetch(`${GOe}/api/create-checkout`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({packageType:Ce.name,packagePrice:ze,showNames:Ze,customerName:`${L.firstName} ${L.lastName}`,customerEmail:L.email,metadata:{organizationId:r.id,organizationSlug:t,eventIds:_.join(","),packageId:w,firstName:L.firstName,lastName:L.lastName,phone:L.phone,divisions:L.divisions.join(", "),instagram:L.instagram,coachName:L.coachName,coachInstagram:L.coachInstagram}})})).json();if(ct.url){const{error:Fe}=await Kr.from("content_orders").insert({organization_id:r.id,event_id:_[0],package_id:w,first_name:L.firstName,last_name:L.lastName,email:L.email,phone:L.phone,division:L.divisions.join(", "),instagram:L.instagram,coach_name:L.coachName,coach_instagram:L.coachInstagram,amount:ze,stripe_session_id:ct.sessionId,status:"pending"});Fe&&console.error("Failed to save order:",Fe),window.location.href=ct.url}else throw new Error("No checkout URL received")}catch(Ce){console.error("Checkout error:",Ce),alert("Error creating checkout. Please try again.")}finally{G(!1)}}}return A?l.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-gray-900 rounded-2xl p-8 max-w-md w-full text-center border border-gray-800",children:[l.jsx("div",{className:"w-20 h-20 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-6",children:l.jsx("svg",{className:"w-10 h-10 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),l.jsx("h2",{className:"text-3xl font-bold mb-3",children:"You're Locked In! "}),l.jsx("p",{className:"text-gray-400 mb-6",children:"Thanks for your order! We'll capture your performance at the event and deliver your professionally edited content afterwards."}),l.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"Check your email for confirmation details."}),l.jsx(gs,{to:"/content",className:"inline-block px-8 py-3 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700",children:"Back to Events"})]})}):g?l.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-gray-900 rounded-2xl p-8 max-w-md w-full text-center border border-gray-800",children:[l.jsx("div",{className:"w-20 h-20 bg-yellow-500/20 rounded-full flex items-center justify-center mx-auto mb-6",children:l.jsx("span",{className:"text-4xl",children:""})}),l.jsx("h2",{className:"text-2xl font-bold mb-3",children:"Payment Canceled"}),l.jsx("p",{className:"text-gray-400 mb-6",children:"No worries  your order wasn't charged. You can try again whenever you're ready."}),l.jsx("button",{onClick:()=>y(!1),className:"px-8 py-3 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700",children:"Try Again"})]})}):u?l.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center",children:l.jsx("div",{className:"text-gray-400",children:"Loading..."})}):d?l.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col items-center justify-center gap-4",children:[l.jsx("div",{className:"text-red-500",children:d}),l.jsx(gs,{to:"/content",className:"text-gray-400 hover:text-white",children:" Back to all organizations"})]}):l.jsx("div",{className:"min-h-screen bg-black text-white py-12 px-4",children:l.jsxs("div",{className:"max-w-3xl mx-auto",children:[l.jsxs("button",{onClick:()=>e("/content"),className:"inline-flex items-center gap-2 text-gray-400 hover:text-white mb-8 mt-4",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})," All Organizations"]}),l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("span",{className:"inline-block px-4 py-2 bg-red-600/20 text-red-500 rounded-full text-sm font-medium mb-4",children:r.name}),l.jsxs("h1",{className:"text-3xl md:text-4xl font-bold mb-2",children:["Order Your ",l.jsx("span",{className:"text-red-500",children:"Content"})]}),l.jsx("p",{className:"text-gray-400",children:"Select your package and events below"})]}),l.jsx("div",{className:"flex items-center justify-center gap-4 mb-12",children:[{num:1,label:"Package & Events"},{num:2,label:"Your Info"},{num:3,label:"Checkout"}].map((Ce,Ze)=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-semibold ${v>=Ce.num?"bg-red-600 text-white":"bg-gray-700 text-gray-400"}`,children:Ce.num}),l.jsx("span",{className:`text-sm hidden sm:inline ${v>=Ce.num?"text-white":"text-gray-500"}`,children:Ce.label}),Ze<2&&l.jsx("div",{className:"w-8 h-px bg-gray-700 mx-2"})]},Ce.num))}),v===1&&l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"bg-gray-900/50 rounded-xl p-6 border border-gray-800",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Select Package"}),l.jsx("div",{className:"space-y-3",children:a.map(Ce=>l.jsx("button",{onClick:()=>S(Ce.id),className:`w-full p-4 rounded-lg border text-left transition-all ${w===Ce.id?"border-red-500 bg-red-500/10":"border-gray-700 hover:border-gray-600 bg-gray-800/50"}`,children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-semibold",children:Ce.name}),l.jsx("div",{className:"text-sm text-gray-400",children:Ce.description}),Ce.name.toLowerCase().includes("combo")&&l.jsx("span",{className:"text-xs text-green-500 mt-1 inline-block font-semibold",children:"Save $50"})]}),l.jsxs("div",{className:"text-xl font-bold",children:["$",Ce.price]})]})},Ce.id))})]}),l.jsxs("div",{className:"bg-gray-900/50 rounded-xl p-6 border border-gray-800",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Which events did you compete in?"}),i.length===0?l.jsx("p",{className:"text-gray-400",children:"No events available for this organization yet."}):l.jsx("div",{className:"space-y-3",children:i.map(Ce=>l.jsxs("button",{onClick:()=>ee(Ce.id),className:`w-full p-4 rounded-lg border text-left transition-all flex justify-between items-center ${_.includes(Ce.id)?"border-red-500 bg-red-500/10":"border-gray-700 hover:border-gray-600 bg-gray-800/50"}`,children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-semibold",children:Ce.name}),l.jsxs("div",{className:"text-sm text-gray-400",children:[Ce.date&&new Date(Ce.date).toLocaleDateString("en-AU",{year:"numeric",month:"short",day:"numeric"}),Ce.location&&`  ${Ce.location}`]})]}),l.jsx("div",{className:`w-6 h-6 rounded border-2 flex items-center justify-center ${_.includes(Ce.id)?"border-red-500 bg-red-500":"border-gray-600"}`,children:_.includes(Ce.id)&&l.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})]},Ce.id))})]}),l.jsx("button",{onClick:()=>b(2),disabled:!pe(),className:`w-full py-4 rounded-lg font-semibold text-lg transition-all ${pe()?"bg-red-600 hover:bg-red-700 text-white":"bg-gray-700 text-gray-500 cursor-not-allowed"}`,children:"Continue "})]}),v===2&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-gray-900/50 rounded-xl p-6 border border-gray-800",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Your Information"}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"First Name *"}),l.jsx("input",{type:"text",name:"firstName",value:L.firstName,onChange:ue,className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg focus:border-red-500 focus:outline-none",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Last Name *"}),l.jsx("input",{type:"text",name:"lastName",value:L.lastName,onChange:ue,className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg focus:border-red-500 focus:outline-none",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Email *"}),l.jsx("input",{type:"email",name:"email",value:L.email,onChange:ue,className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg focus:border-red-500 focus:outline-none",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Phone *"}),l.jsx("input",{type:"tel",name:"phone",value:L.phone,onChange:ue,className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg focus:border-red-500 focus:outline-none",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Instagram Handle *"}),l.jsx("input",{type:"text",name:"instagram",value:L.instagram,onChange:ue,placeholder:"@yourhandle",className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg focus:border-red-500 focus:outline-none",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Coach's Name *"}),l.jsx("input",{type:"text",name:"coachName",value:L.coachName,onChange:ue,className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg focus:border-red-500 focus:outline-none",required:!0})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Coach's Instagram Handle *"}),l.jsx("input",{type:"text",name:"coachInstagram",value:L.coachInstagram,onChange:ue,placeholder:"@coachhandle",className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg focus:border-red-500 focus:outline-none",required:!0})]})]})]}),l.jsxs("div",{className:"bg-gray-900/50 rounded-xl p-6 border border-gray-800",children:[l.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Division/Category *"}),l.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Click a category to expand, then select your divisions"}),ve?l.jsx("div",{className:"text-center text-gray-400 py-8",children:"Loading divisions..."}):he.length===0?l.jsxs("div",{className:"text-center text-gray-400 py-8 border border-gray-700 rounded-lg",children:["No divisions configured for the selected event(s) yet.",l.jsx("br",{}),l.jsx("span",{className:"text-sm",children:"Contact the organizer to set up divisions."})]}):l.jsx("div",{className:"space-y-2",children:he.map(Ce=>{const Ze=Be.includes(Ce.id),ze=ot(Ce.name).length,$e=Ue(Ce.id);return l.jsxs("div",{className:"border border-gray-700 rounded-lg overflow-hidden",children:[l.jsxs("button",{type:"button",onClick:()=>je(Ce.id),className:`w-full p-4 flex justify-between items-center transition-colors ${ze>0?"bg-red-500/10 border-l-4 border-l-red-500":"bg-gray-800/50 hover:bg-gray-800"}`,children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"font-medium",children:Ce.name}),ze>0&&l.jsxs("span",{className:"text-xs bg-red-500 text-white px-2 py-0.5 rounded-full",children:[ze," selected"]})]}),l.jsx("svg",{className:`w-5 h-5 text-gray-400 transition-transform ${Ze?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),Ze&&l.jsx("div",{className:"p-4 pt-2 bg-gray-900/50 border-t border-gray-700",children:$e.length===0?l.jsx("p",{className:"text-sm text-gray-500 italic",children:"No subdivisions available"}):l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:$e.map(ct=>{const Fe=`${Ce.name} - ${ct.name}`,xt=L.divisions.includes(Fe);return l.jsx("button",{type:"button",onClick:()=>De(Ce.name,ct.name),className:`p-3 text-sm rounded-lg border text-left transition-all ${xt?"border-red-500 bg-red-500/20 text-white":"border-gray-600 hover:border-gray-500 bg-gray-800/50 text-gray-300"}`,children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:`w-4 h-4 rounded border-2 flex items-center justify-center ${xt?"border-red-500 bg-red-500":"border-gray-500"}`,children:xt&&l.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),l.jsx("span",{children:ct.name})]})},ct.id)})})})]},Ce.id)})}),L.divisions.length>0&&l.jsxs("div",{className:"mt-4 p-3 bg-gray-800/50 rounded-lg border border-gray-700",children:[l.jsxs("div",{className:"text-sm text-gray-400 mb-2",children:["Selected divisions (",L.divisions.length,"):"]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:L.divisions.map(Ce=>l.jsxs("span",{className:"inline-flex items-center gap-1 text-xs bg-red-500/20 text-red-400 px-2 py-1 rounded-full border border-red-500/30",children:[Ce,l.jsx("button",{type:"button",onClick:()=>{const[Ze,ze]=Ce.split(" - ");De(Ze,ze)},className:"hover:text-white",children:""})]},Ce))})]})]}),l.jsxs("div",{className:"bg-gray-900/50 rounded-xl p-6 border border-gray-800",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Order Summary"}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"Package:"}),l.jsx("span",{children:a.find(Ce=>Ce.id===w)?.name})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"Events:"}),l.jsx("span",{className:"text-right",children:i.filter(Ce=>_.includes(Ce.id)).map(Ce=>Ce.name).join(", ")})]}),l.jsx("hr",{className:"border-gray-700 my-3"}),l.jsxs("div",{className:"flex justify-between text-lg font-semibold",children:[l.jsx("span",{children:"Total:"}),l.jsxs("span",{className:"text-red-500",children:["$",(a.find(Ce=>Ce.id===w)?.price||0)*_.length," AUD",_.length>1&&l.jsxs("span",{className:"text-sm text-gray-400 font-normal ml-2",children:["($",a.find(Ce=>Ce.id===w)?.price,"  ",_.length," events)"]})]})]})]})]}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx("button",{onClick:()=>b(1),className:"flex-1 py-4 rounded-lg font-semibold border border-gray-600 hover:border-gray-500 transition-colors",children:" Back"}),l.jsx("button",{onClick:ft,disabled:!ge()||V,className:`flex-1 py-4 rounded-lg font-semibold transition-all ${ge()&&!V?"bg-red-600 hover:bg-red-700 text-white":"bg-gray-700 text-gray-500 cursor-not-allowed"}`,children:V?"Processing...":"Proceed to Payment "})]})]})]})})}const are=j.createContext({}),xM=()=>{const t=j.useContext(are);if(!t)throw new Error("useAuth must be used within AuthProvider");return t},WOe=({children:t})=>{const[e,r]=j.useState(null),[n,i]=j.useState(null),[s,a]=j.useState(!0);j.useEffect(()=>{Kr.auth.getSession().then(({data:{session:f}})=>{i(f),r(f?.user??null),a(!1)});const{data:{subscription:d}}=Kr.auth.onAuthStateChange((f,A)=>{i(A),r(A?.user??null)});return()=>d.unsubscribe()},[]);const o={user:e,session:n,loading:s,signIn:async(d,f)=>{const{data:A,error:p}=await Kr.auth.signInWithPassword({email:d,password:f});if(p)throw p;return A},signOut:async()=>{const{error:d}=await Kr.auth.signOut();if(d)throw d}};return l.jsx(are.Provider,{value:o,children:t})};function ld({children:t}){const{user:e,loading:r}=xM();return r?l.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center",children:l.jsx("div",{className:"text-white text-xl",children:"Loading..."})}):e?t:l.jsx(yce,{to:"/portal",replace:!0})}function Id({children:t}){const{user:e,signOut:r}=xM(),n=ic(),i=hf(),s=async()=>{try{await r(),n("/portal")}catch(u){console.error("Error signing out:",u)}},a=u=>i.pathname.startsWith(u),c=[{name:"Contracts",path:"/portal/contracts"},{name:"Pipeline",path:"/portal/pipeline"},{name:"Outreach",path:"/portal/outreach"},{name:"Onboarding",path:"/portal/onboarding"},{name:"Content",path:"/portal/content-admin"},{name:"Orders",path:"/portal/orders"},{name:"Crews",path:"/portal/crews"},{name:"Pricing",path:"/portal/pricing"}];return l.jsxs("div",{className:"min-h-screen bg-[#0d0d1a] flex flex-col overflow-x-hidden w-full max-w-full",children:[l.jsx("header",{className:"print:hidden bg-gradient-to-r from-[#1a1a2e] to-[#16162a] border-b border-gray-800/50 w-full max-w-full overflow-hidden",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"flex items-center justify-between h-16",children:[l.jsxs("div",{className:"flex items-center gap-3 cursor-pointer",onClick:()=>n("/portal/contracts"),children:[l.jsxs("span",{className:"text-lg font-black tracking-wider",children:[l.jsx("span",{className:"text-red-500",children:"FIT FOCUS"})," ",l.jsx("span",{className:"text-white",children:"MEDIA"})]}),l.jsx("span",{className:"text-gray-700",children:"|"}),l.jsx("span",{className:"text-gray-400 font-medium",children:"Portal"})]}),e&&l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("span",{className:"text-gray-500 text-sm hidden sm:block",children:e.email}),l.jsx("button",{onClick:s,className:"px-4 py-2 bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded-lg transition-all text-sm font-medium border border-gray-700/50",children:"Sign Out"})]})]}),e&&l.jsx("div",{className:"flex gap-1 sm:gap-4 -mb-px overflow-x-auto scrollbar-hide pb-px",children:c.map(u=>l.jsxs("button",{onClick:()=>n(u.path),className:`relative px-3 sm:px-4 py-3 font-bold text-xs sm:text-sm transition-colors whitespace-nowrap flex-shrink-0 ${a(u.path)?"text-red-500":"text-gray-400 hover:text-gray-300"}`,children:[u.name,a(u.path)&&l.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-red-500"})]},u.path))})]})}),l.jsx("main",{className:"flex-1",children:t})]})}function YOe(){const[t,e]=j.useState(""),[r,n]=j.useState(""),[i,s]=j.useState(""),[a,c]=j.useState(!1),{signIn:u}=xM(),o=ic(),d=async f=>{f.preventDefault(),s(""),c(!0);try{await u(t,r),o("/portal/contracts")}catch(A){s(A.message||"Failed to sign in")}finally{c(!1)}};return l.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center px-4",children:l.jsxs("div",{className:"max-w-md w-full",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Portal Login"}),l.jsx("p",{className:"text-gray-400",children:"Fit Focus Media Contract Management"})]}),l.jsx("div",{className:"bg-dark-900 rounded-lg p-8 shadow-xl",children:l.jsxs("form",{onSubmit:d,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-2",children:"Email"}),l.jsx("input",{id:"email",type:"email",value:t,onChange:f=>e(f.target.value),required:!0,className:"w-full px-4 py-3 bg-dark-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your email"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),l.jsx("input",{id:"password",type:"password",value:r,onChange:f=>n(f.target.value),required:!0,className:"w-full px-4 py-3 bg-dark-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:""})]}),i&&l.jsx("div",{className:"bg-red-900/30 border border-red-500 text-red-200 px-4 py-3 rounded-lg",children:i}),l.jsx("button",{type:"submit",disabled:a,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-blue-800 text-white font-medium py-3 px-6 rounded-lg transition-colors",children:a?"Signing in...":"Sign In"})]})})]})})}function bM(t){const e=t.contract_data||{},r=(u,o="[NOT SET]")=>u||`<span class="text-gray-500">${o}</span>`,n=(u,o,d="[NOT SET]")=>!u&&!o?`<span class="text-gray-500">${d}</span>`:u?!o||o===u?u:`${u}${o}`:o,i=u=>u?"":"";let s="";e.multi_events&&e.multi_events.length>0&&e.multi_events.forEach((u,o)=>{(u.name||u.date||u.venue)&&(s+=`
          <tr>
            <td class="border border-gray-700 px-4 py-2">${o+1}</td>
            <td class="border border-gray-700 px-4 py-2">${r(u.name)}</td>
            <td class="border border-gray-700 px-4 py-2">${r(u.date)}</td>
            <td class="border border-gray-700 px-4 py-2">${r(u.venue)}</td>
          </tr>
        `)});const a=u=>u?`$${parseFloat(u).toLocaleString()}`:"$0";let c="";return e.athlete_revenue_ffm_100?c="<p><strong> FFM retains 100%</strong> of Athlete Media Package sales. This is reflected in the zero upfront cost and Client deliverables provided at no charge.</p>":c=`
      <table class="w-full border-collapse border border-gray-700 my-4">
        <tr><th class="border border-gray-700 px-4 py-2 bg-gray-800">Party</th><th class="border border-gray-700 px-4 py-2 bg-gray-800">Share</th></tr>
        <tr><td class="border border-gray-700 px-4 py-2"><strong>FFM</strong></td><td class="border border-gray-700 px-4 py-2">${r(e.athlete_ffm_split,"80")}%</td></tr>
        <tr><td class="border border-gray-700 px-4 py-2"><strong>Client</strong></td><td class="border border-gray-700 px-4 py-2">${r(e.athlete_client_split,"20")}%</td></tr>
      </table>
      <p>The Client's share will be paid monthly, with a statement of sales provided.</p>
    `,`
    <div class="contract-content prose prose-invert max-w-none">
      <h1 class="text-3xl font-bold mb-6">EVENT MEDIA COVERAGE & PARTNERSHIP AGREEMENT</h1>
      
      <p><strong>AGREEMENT</strong> made on <strong>${r(e.agreement_date,new Date().toLocaleDateString())}</strong></p>
      
      <p><strong>BETWEEN:</strong></p>
      
      <p>
        <strong>Fit Focus Media</strong> ABN ${r(e.ffm_abn,"[ABN]")}<br>
        Represented by: Brandon Hibbs<br>
        Email: info@fitfocusmedia.com.au<br>
        Website: www.fitfocusmedia.com.au<br>
        (hereinafter referred to as <strong>"FFM"</strong> or <strong>"the Media Provider"</strong>)
      </p>
      
      <p><strong>AND:</strong></p>
      
      <p>
        <strong>${r(e.org_name,"[ORGANIZATION NAME]")}</strong><br>
        Represented by: ${r(e.promoter_name,"[PROMOTER NAME]")}<br>
        Position: ${r(e.promoter_position,"[POSITION]")}<br>
        Email: ${r(e.promoter_email,"[EMAIL]")}<br>
        Phone: ${r(e.promoter_phone,"[PHONE]")}<br>
        (hereinafter referred to as <strong>"the Client"</strong> or <strong>"the Event Organiser"</strong>)
      </p>
      
      <hr class="my-6 border-gray-700">
      
      <h2 class="text-2xl font-bold mt-6 mb-4">1. EVENT DETAILS</h2>
      <table class="w-full border-collapse border border-gray-700 my-4">
        <tr><th class="border border-gray-700 px-4 py-2 bg-gray-800">Field</th><th class="border border-gray-700 px-4 py-2 bg-gray-800">Details</th></tr>
        <tr><td class="border border-gray-700 px-4 py-2"><strong>Event Name</strong></td><td class="border border-gray-700 px-4 py-2">${r(e.event_name)}</td></tr>
        <tr><td class="border border-gray-700 px-4 py-2"><strong>Event Date(s)</strong></td><td class="border border-gray-700 px-4 py-2">${r(e.event_date)}</td></tr>
        <tr><td class="border border-gray-700 px-4 py-2"><strong>Event Location</strong></td><td class="border border-gray-700 px-4 py-2">${r(e.event_location)}</td></tr>
        <tr><td class="border border-gray-700 px-4 py-2"><strong>Event Type</strong></td><td class="border border-gray-700 px-4 py-2">${r(e.event_type,"BJJ / Grappling Competition")}</td></tr>
        <tr><td class="border border-gray-700 px-4 py-2"><strong>Estimated Matches</strong></td><td class="border border-gray-700 px-4 py-2">${r(e.estimated_matches)}</td></tr>
        <tr><td class="border border-gray-700 px-4 py-2"><strong>Expected Athlete Participants</strong></td><td class="border border-gray-700 px-4 py-2">${r(e.expected_athletes)}</td></tr>
        <tr><td class="border border-gray-700 px-4 py-2"><strong>Expected Audience</strong></td><td class="border border-gray-700 px-4 py-2">${r(e.expected_audience)}</td></tr>
      </table>
      
      <h2 class="text-2xl font-bold mt-6 mb-4">2. PARTNERSHIP MODEL  ZERO UPFRONT COST</h2>
      
      <h3 class="text-xl font-bold mt-4 mb-2">2.1 No Upfront Fee</h3>
      <p>FFM will provide full professional media coverage for the Event at <strong>no upfront cost</strong> to the Client.</p>
      
      <h3 class="text-xl font-bold mt-4 mb-2">2.2 What FFM Provides at Zero Cost</h3>
      <ul class="list-disc pl-6 my-4">
        <li>Multi-camera professional video coverage (${n(e.camera_angles,e.camera_angles_max,"2")} camera angles)</li>
        ${e.photography_type==="professional"?"<li>Professional event photography</li>":""}
        ${e.photography_type==="base"?"<li>Base event photography</li>":""}
        <li>Livestream and/or PPV broadcast production (if applicable)</li>
        <li>Post-event highlight reel for the Client's promotional use</li>
        <li>Access to the FFM Athlete Media Portal for athlete content delivery</li>
        <li>On-site crew (${n(e.crew_size,e.crew_size_max,"2")} persons)</li>
      </ul>
      
      <h3 class="text-xl font-bold mt-4 mb-2">2.3 Multi-Event Commitment</h3>
      <p>This Agreement covers <strong>${r(e.multi_event_count,"1")}</strong> events over a period of <strong>${r(e.multi_event_duration,"[DURATION]")}</strong>${s?", as scheduled below:":"."}</p>
      
      ${s?`
        <table class="w-full border-collapse border border-gray-700 my-4">
          <tr><th class="border border-gray-700 px-4 py-2 bg-gray-800">#</th><th class="border border-gray-700 px-4 py-2 bg-gray-800">Event Name</th><th class="border border-gray-700 px-4 py-2 bg-gray-800">Date</th><th class="border border-gray-700 px-4 py-2 bg-gray-800">Venue</th></tr>
          ${s}
        </table>
      `:""}
      
      <h2 class="text-2xl font-bold mt-6 mb-4">3. SCOPE OF MEDIA COVERAGE</h2>
      
      <h3 class="text-xl font-bold mt-4 mb-2">3.1 Post-Production Deliverables for the Client</h3>
      <ul class="list-disc pl-6 my-4">
        <li>One (1) Event Highlight Reel (60120 seconds) within ${n(e.highlight_delivery_days,e.highlight_delivery_days_max,"7")} business days</li>
        <li>${n(e.social_clips_count,e.social_clips_count_max,"5")} social media clips within ${n(e.social_clips_delivery_days,e.social_clips_delivery_days_max,"5")} business days</li>
        ${e.photography_type&&e.photography_type!=="none"?`<li>Curated photo gallery of ${n(e.photo_count,e.photo_count_max,"50")} edited images</li>`:""}
      </ul>
      
      <h3 class="text-xl font-bold mt-4 mb-2">3.2 Livestream / PPV Production</h3>
      <p>
        <strong>Livestream included:</strong> ${i(e.livestream_included)} ${e.livestream_included?"Yes":"No"}<br>
        <strong>PPV included:</strong> ${i(e.ppv_included)} ${e.ppv_included?"Yes":"No"}
      </p>
      ${e.ppv_included?`
        <p>
          <strong>Platform:</strong> ${r(e.ppv_platform)}<br>
          <strong>PPV Price Point:</strong> ${e.ppv_price_type==="range"&&e.ppv_price_max?`${a(e.ppv_price)} - ${a(e.ppv_price_max)}`:a(e.ppv_price)} per viewer
        </p>
      `:""}
      
      <h2 class="text-2xl font-bold mt-6 mb-4">4. LIVESTREAM & PPV REVENUE SHARE</h2>
      ${e.ppv_included?`
        <table class="w-full border-collapse border border-gray-700 my-4">
          <tr><th class="border border-gray-700 px-4 py-2 bg-gray-800">Party</th><th class="border border-gray-700 px-4 py-2 bg-gray-800">Share</th></tr>
          <tr><td class="border border-gray-700 px-4 py-2"><strong>FFM</strong></td><td class="border border-gray-700 px-4 py-2">${r(e.ppv_ffm_split,"70")}%</td></tr>
          <tr><td class="border border-gray-700 px-4 py-2"><strong>Client</strong></td><td class="border border-gray-700 px-4 py-2">${r(e.ppv_client_split,"30")}%</td></tr>
        </table>
        <p>The Client's share will be paid within ${r(e.ppv_payment_days,"21")} days of each Event via bank transfer.</p>
      `:"<p>PPV not included in this agreement.</p>"}
      
      <h2 class="text-2xl font-bold mt-6 mb-4">5. ATHLETE MEDIA PACKAGES</h2>
      
      <h3 class="text-xl font-bold mt-4 mb-2">5.1 Overview</h3>
      <p>FFM operates a direct-to-athlete media sales model through the <strong>FFM Athlete Media Portal</strong>.</p>
      
      <h3 class="text-xl font-bold mt-4 mb-2">5.2 Available Packages</h3>
      ${e.athlete_packages&&e.athlete_packages.length>0?`
        <table class="w-full border-collapse border border-gray-700 my-4">
          <tr>
            <th class="border border-gray-700 px-4 py-2 bg-gray-800 text-left">Package</th>
            <th class="border border-gray-700 px-4 py-2 bg-gray-800 text-left">Price</th>
            <th class="border border-gray-700 px-4 py-2 bg-gray-800 text-left">Description</th>
          </tr>
          ${e.athlete_packages.map(u=>`
            <tr>
              <td class="border border-gray-700 px-4 py-2"><strong>${u.name||"[Package Name]"}</strong></td>
              <td class="border border-gray-700 px-4 py-2">${a(u.price)}</td>
              <td class="border border-gray-700 px-4 py-2">${u.description||"-"}</td>
            </tr>
          `).join("")}
        </table>
      `:`
        <p><strong> VIP COVERAGE</strong>  ${a(e.vip_price||350)}</p>
        <p><strong> MATCH PACKAGE</strong>  ${a(e.match_price||175)}</p>
        <p><strong> SEASON PASS</strong>  ${a(e.season_price||899)}/year</p>
      `}
      
      <h3 class="text-xl font-bold mt-4 mb-2">5.3 Athlete Media Package Revenue Split</h3>
      ${c}
      
      ${e.add_ons&&e.add_ons.length>0?`
      <h2 class="text-2xl font-bold mt-6 mb-4">6. CLIENT ADD-ONS</h2>
      <p>The following additional services have been included in this Agreement at the Client's request:</p>
      <table class="w-full border-collapse border border-gray-700 my-4">
        <tr>
          <th class="border border-gray-700 px-4 py-2 bg-gray-800 text-left">Add-On</th>
          <th class="border border-gray-700 px-4 py-2 bg-gray-800 text-left">Price</th>
          <th class="border border-gray-700 px-4 py-2 bg-gray-800 text-left">Description</th>
        </tr>
        ${e.add_ons.map(u=>`
          <tr>
            <td class="border border-gray-700 px-4 py-2"><strong>${u.name||"[Add-On Name]"}</strong></td>
            <td class="border border-gray-700 px-4 py-2">${a(u.price)}</td>
            <td class="border border-gray-700 px-4 py-2">${u.description||"-"}</td>
          </tr>
        `).join("")}
        <tr class="bg-gray-800">
          <td class="border border-gray-700 px-4 py-2"><strong>TOTAL ADD-ONS</strong></td>
          <td class="border border-gray-700 px-4 py-2"><strong>${a(e.add_ons.reduce((u,o)=>u+(parseFloat(o.price)||0),0))}</strong></td>
          <td class="border border-gray-700 px-4 py-2"></td>
        </tr>
      </table>
      <p>Payment for add-ons is due prior to the Event date unless otherwise agreed in writing.</p>
      
      <h2 class="text-2xl font-bold mt-6 mb-4">7. EXCLUSIVE MEDIA COVERAGE RIGHTS</h2>
      `:`
      <h2 class="text-2xl font-bold mt-6 mb-4">6. EXCLUSIVE MEDIA COVERAGE RIGHTS</h2>
      `}
      <p>The Client grants FFM <strong>exclusive rights</strong> to provide professional video and photography media coverage services at the Event.</p>
      
      <h2 class="text-2xl font-bold mt-6 mb-4">7. ACCESS & LOGISTICS</h2>
      <ul class="list-disc pl-6 my-4">
        <li>FFM requires venue access at least ${r(e.setup_hours,"2")} hours prior to first match</li>
        <li>Crew size: ${n(e.crew_size,e.crew_size_max,"2")} persons with complimentary entry</li>
        ${e.internet_speed?`<li>Internet upload speed: minimum ${e.internet_speed} Mbps</li>`:""}
        <li>Event schedule to be provided ${r(e.schedule_hours_before,"48")} hours before Event</li>
        <li>Athlete list to be provided ${r(e.athlete_list_days_before,"7")} days before Event</li>
      </ul>
      
      <h3 class="text-xl font-bold mt-4 mb-2">7.1 Athlete Contact Information</h3>
      <p>The Client <strong>must provide</strong> FFM with contact information for all registered athletes, including but not limited to:</p>
      <ul class="list-disc pl-6 my-4">
        <li>Full name</li>
        <li>Email address</li>
        <li>Phone number (where available)</li>
        <li>Social media handles (Instagram, etc.)</li>
      </ul>
      <p>This information will be used by FFM for:</p>
      <ul class="list-disc pl-6 my-4">
        <li>Delivering content and media packages to athletes via the FFM Athlete Media Portal</li>
        <li>Marketing and promotional communications regarding event content and athlete media services</li>
        <li>Tagging athletes in social media content</li>
      </ul>
      <p>The Client warrants that appropriate consent has been obtained from athletes for their contact information to be shared with FFM for these purposes, as outlined in Section 12.</p>
      
      <h2 class="text-2xl font-bold mt-6 mb-4">8. CANCELLATION & RESCHEDULING</h2>
      <p>Cancellation less than 15 days before Event: Client will pay ${a(e.cancellation_fee||500)} cancellation fee plus non-recoverable expenses.</p>
      
      <h2 class="text-2xl font-bold mt-6 mb-4">9. TERM & TERMINATION</h2>
      <p>Initial term: ${r(e.initial_term_months,"12")} months. Auto-renews for ${r(e.renewal_period_months,"12")}-month periods unless ${r(e.nonrenewal_notice_days,"60")} days' written notice provided.</p>
      <p>Termination: ${r(e.termination_notice_days,"30")} days' written notice. Remedy period: ${r(e.remedy_period_days,"14")} days.</p>
      
      <h2 class="text-2xl font-bold mt-6 mb-4">10. LIABILITY & INSURANCE</h2>
      <p>FFM holds public liability insurance of ${a(e.pli_amount||2e7)}.</p>
      
      <h2 class="text-2xl font-bold mt-6 mb-4">11. INTELLECTUAL PROPERTY & OWNERSHIP</h2>
      
      <h3 class="text-xl font-bold mt-4 mb-2">11.1 Ownership of Content</h3>
      <p>The Client agrees that, subject to the rights and licenses granted herein, FFM is and will remain the <strong>sole and exclusive owner</strong> of all right, title, and interest, throughout the world, to all video footage, photographs, and other media content ("Content") produced under this Agreement, and any copies thereof. Except as expressly provided in this Agreement, FFM reserves all rights and licenses not expressly granted.</p>
      
      <h3 class="text-xl font-bold mt-4 mb-2">11.2 License to Client</h3>
      <p>FFM hereby grants to the Client a <strong>non-exclusive, perpetual license</strong> to use the deliverables specified in Section 3.1 (Event Highlight Reel, social media clips, and curated photo gallery) for promotional purposes related to the Event and Client's organization. This license is non-transferable and does not include the right to sublicense.</p>
      
      <h3 class="text-xl font-bold mt-4 mb-2">11.3 Restrictions on Use</h3>
      <p>The Client will NOT use the Content for any of the following purposes without prior written permission from FFM:</p>
      <ul class="list-disc pl-6 my-4">
        <li><strong>No Unlawful Use:</strong> The Client will not use the Content in any unlawful manner, including but not limited to pornography or defamation.</li>
        <li><strong>No Standalone File Distribution:</strong> The Client will not distribute raw footage or allow Content to be downloaded, extracted, or redistributed by third parties.</li>
        <li><strong>No Trademark Use:</strong> The Client will not use the Content in any trademark, design, logo, or service mark without FFM's written consent.</li>
        <li><strong>No Products for Resale:</strong> The Client will not use the Content in any goods or products where the Content is the primary value.</li>
        <li><strong>No Alterations:</strong> The Client will not alter, modify, or create derivative works from the Content without prior written permission from FFM.</li>
        <li><strong>No Sublicensing:</strong> The Client will not sublicense, sell, or transfer rights to the Content to any third party.</li>
      </ul>
      
      <h3 class="text-xl font-bold mt-4 mb-2">11.4 Credit Requirements</h3>
      <p>The Client must include appropriate credit to <strong>"Fit Focus Media"</strong> or <strong>"@fitfocusmedia"</strong> when publishing or sharing any Content produced under this Agreement on social media, websites, or promotional materials.</p>
      
      <h2 class="text-2xl font-bold mt-6 mb-4">12. MEDIA RELEASE & CONSENT</h2>
      
      <h3 class="text-xl font-bold mt-4 mb-2">12.1 Athlete Media Release</h3>
      <p>The Client acknowledges that FFM will capture video footage and photographs of athletes, coaches, officials, and spectators at the Event. The Client warrants that:</p>
      <ul class="list-disc pl-6 my-4">
        <li>Appropriate media release and consent has been obtained from all athletes participating in the Event, either through registration terms & conditions or separate media release forms.</li>
        <li>Athletes have been informed that professional media coverage will be present and content may be used for promotional, commercial, and broadcast purposes.</li>
        <li>Minors participating in the Event have appropriate parental/guardian consent for media capture and publication.</li>
      </ul>
      
      <h3 class="text-xl font-bold mt-4 mb-2">12.2 Grant of Rights</h3>
      <p>FFM is granted the <strong>perpetual and irrevocable right</strong> to use, publish, and distribute video and photographs captured at the Event for editorial, trade, advertising, promotional, and commercial purposes in any manner and medium, including but not limited to:</p>
      <ul class="list-disc pl-6 my-4">
        <li>Social media platforms and websites</li>
        <li>Marketing and promotional materials</li>
        <li>Broadcast and streaming services</li>
        <li>Athlete Media Packages sold through the FFM Portal</li>
        <li>Portfolio and showcase purposes</li>
      </ul>
      
      <h3 class="text-xl font-bold mt-4 mb-2">12.3 Implied Consent & Opt-Out Procedure</h3>
      <p>The parties agree that:</p>
      <ul class="list-disc pl-6 my-4">
        <li><strong>Implied Consent:</strong> All athletes, by registering for and competing in the Event, are deemed to have consented to the capture, use, and publication of their image, likeness, and performance by FFM for the purposes outlined in this Agreement.</li>
        <li><strong>Opt-Out Requirement:</strong> Any athlete who does not consent to media capture and publication must notify FFM <strong>in writing</strong> (via email to info@fitfocusmedia.com.au) no less than <strong>48 hours prior</strong> to the Event. FFM will make reasonable efforts to exclude such athletes from published content, however FFM cannot guarantee exclusion from all footage, particularly wide-angle or crowd shots.</li>
        <li><strong>Client Responsibility:</strong> The Client is solely responsible for communicating media coverage terms to athletes through registration materials, event signage, and/or announcements. The Client shall include appropriate notice in registration terms and conditions that professional media coverage will be present and content may be used commercially.</li>
        <li><strong>Liability:</strong> The Client assumes all liability for any claims arising from athletes who allege they did not consent to media capture. FFM shall not be held liable for any such claims, and the Client shall indemnify FFM accordingly as outlined in Section 13.</li>
      </ul>
      
      <h2 class="text-2xl font-bold mt-6 mb-4">13. INDEMNIFICATION</h2>
      <p>The Client will <strong>indemnify, defend, and hold harmless</strong> FFM, its officers, employees, agents, and contractors from all liability, claims, demands, causes of action, judgments, damages, and expenses (including reasonable attorneys' fees and costs) arising out of or as a result of:</p>
      <ul class="list-disc pl-6 my-4">
        <li>The Client's use of the Content in violation of this Agreement</li>
        <li>Any breach of the Client's representations or warranties under this Agreement</li>
        <li>Any claim by a third party (including athletes, spectators, or venue operators) relating to the Event</li>
        <li>The Client's failure to obtain proper media releases or consents</li>
      </ul>
      <p>This indemnification does not apply to claims arising solely from FFM's willful misconduct, gross negligence, or bad faith.</p>
      
      <h2 class="text-2xl font-bold mt-6 mb-4">14. LIMITATION OF LIABILITY</h2>
      <p><strong>EXCEPT FOR ANY REMEDIES THAT CANNOT BE EXCLUDED OR LIMITED BY LAW, NEITHER PARTY, NOR ANY AFFILIATE, WILL BE LIABLE UNDER THIS AGREEMENT TO THE OTHER PARTY FOR ANY INDIRECT, INCIDENTAL, CONSEQUENTIAL, SPECIAL, RELIANCE, OR PUNITIVE DAMAGES OR LOST OR IMPUTED PROFITS, LOST DATA, OR COST OF PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES.</strong></p>
      <p>FFM's total liability under this Agreement shall not exceed the total fees paid or payable by the Client under this Agreement in the twelve (12) months preceding the claim.</p>
      
      <h2 class="text-2xl font-bold mt-6 mb-4">15. FORCE MAJEURE</h2>
      <p>Neither party shall be liable for any failure or delay in performing their obligations under this Agreement if such failure or delay results from circumstances beyond the reasonable control of that party, including but not limited to: acts of God, natural disasters, pandemic, government actions, war, terrorism, civil unrest, or failure of third-party services.</p>
      
      <h2 class="text-2xl font-bold mt-6 mb-4">16. CONFIDENTIALITY</h2>
      <p>Each party agrees to keep confidential and not disclose to any third party any confidential information received from the other party, including but not limited to business strategies, financial information, athlete data, and the specific commercial terms of this Agreement, except as required by law or with prior written consent.</p>
      
      <h2 class="text-2xl font-bold mt-6 mb-4">17. ASSIGNMENT</h2>
      <p>This Agreement may not be assigned by the Client without FFM's prior written consent. FFM may assign this Agreement, in whole or in part, to any affiliate or successor without the Client's consent.</p>
      
      <h2 class="text-2xl font-bold mt-6 mb-4">18. DISPUTE RESOLUTION</h2>
      <p>Any dispute arising from this Agreement shall first be resolved through good-faith negotiation between the parties. If the dispute cannot be resolved through negotiation within thirty (30) days, the dispute shall be submitted to mediation. If mediation fails, the dispute will be resolved through binding arbitration conducted in Brisbane, Queensland in accordance with the rules of the Resolution Institute.</p>
      
      <h2 class="text-2xl font-bold mt-6 mb-4">19. GOVERNING LAW</h2>
      <p>This Agreement shall be governed by and construed in accordance with the laws of <strong>Queensland, Australia</strong>, without reference to rules governing choice of laws. The parties submit to the exclusive jurisdiction of the courts of Queensland.</p>
      
      <h2 class="text-2xl font-bold mt-6 mb-4">20. SEVERABILITY</h2>
      <p>If any provision of this Agreement is held invalid, illegal, or unenforceable by a court of competent jurisdiction, the remainder of the Agreement will remain valid and enforceable, and the parties will negotiate in good faith a substitute provision which most nearly reflects the original intent.</p>
      
      <h2 class="text-2xl font-bold mt-6 mb-4">21. ENTIRE AGREEMENT</h2>
      <p>This Agreement represents and constitutes the <strong>entire agreement</strong> between the parties with respect to the subject matter hereof, and supersedes and merges all prior negotiations, agreements, and understandings, oral or written. This Agreement may not be altered, modified, or amended except in writing signed by both parties.</p>
      
      <h2 class="text-2xl font-bold mt-6 mb-4">22. NOTICES</h2>
      <p>All notices, demands, or other communications under this Agreement shall be in writing and delivered via email with read receipt, registered mail, or hand delivery to the addresses specified in this Agreement. Notices delivered by email shall be deemed received on the business day sent (or the next business day if sent after 5pm AEST). Mailed notices shall be deemed received three (3) business days after posting.</p>
      
      <hr class="my-6 border-gray-700">
      
      <h2 class="text-2xl font-bold mt-6 mb-4">SIGNATURES</h2>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-6">
        <div class="border border-gray-700 rounded-lg p-6">
          <h3 class="text-lg font-bold mb-4">Fit Focus Media</h3>
          ${t.ffm_signature?`
            <img src="${t.ffm_signature}" alt="FFM Signature" class="max-w-full h-auto border border-gray-600 p-2 rounded bg-white mb-4" style="max-width: 300px;">
            <p><strong>Name:</strong> Brandon Hibbs</p>
            <p><strong>Signed:</strong> ${new Date(t.ffm_signed_at).toLocaleString("en-AU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0,timeZoneName:"short"})}</p>
          `:'<p class="text-gray-500">[PENDING FFM SIGNATURE]</p>'}
        </div>
        
        <div class="border border-gray-700 rounded-lg p-6">
          <h3 class="text-lg font-bold mb-4">${r(e.org_name,"[ORGANIZATION]")}</h3>
          ${t.client_signature?`
            <img src="${t.client_signature}" alt="Client Signature" class="max-w-full h-auto border border-gray-600 p-2 rounded bg-white mb-4" style="max-width: 300px;">
            <p><strong>Name:</strong> ${r(e.promoter_name)}</p>
            <p><strong>Position:</strong> ${r(e.promoter_position)}</p>
            <p><strong>Signed:</strong> ${new Date(t.client_signed_at).toLocaleString("en-AU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0,timeZoneName:"short"})}</p>
          `:'<p class="text-gray-500">[PENDING CLIENT SIGNATURE]</p>'}
        </div>
      </div>
    </div>
  `}function wR(t){const e=document.createElement("canvas");e.width=t.width,e.height=t.height;const r=e.getContext("2d"),s=t.getContext("2d").getImageData(0,0,t.width,t.height).data,a=r.createImageData(t.width,t.height),c=a.data;for(let u=0;u<s.length;u+=4)s[u+3]>10?(c[u]=0,c[u+1]=0,c[u+2]=0,c[u+3]=255):(c[u]=255,c[u+1]=255,c[u+2]=255,c[u+3]=255);return r.putImageData(a,0,0),e.toDataURL("image/png")}function ore(t){return t.getContext("2d").getImageData(0,0,t.width,t.height).data.some(n=>n!==0)}function ER(t){const e=window.location.hostname;let r;return e==="localhost"||e.includes("192.168.")||e.includes("100.")?r="https://clawdbots-mini.tailcfdc1.ts.net:5198":r=window.location.origin,`${r}/#/contract/${t}`}function qOe(t,e,r){const n=ER(t);return{subject:`Event Media Coverage Agreement  Fit Focus Media  ${r}`,body:`Hi ${e},

Please find your Event Media Coverage & Partnership Agreement with Fit Focus Media ready for review and signature.

Review & Sign Here:
${n}

Once you've reviewed the terms, you can sign directly on the page. If you have any questions, reply to this email.

Cheers,
Brandon Hibbs
Fit Focus Media
info@fitfocusmedia.com.au
www.fitfocusmedia.com.au`}}function wM(t){return{draft:"",sent:"",viewed:"",signed:"",expired:""}[t]||""}function lre(t){return`${{draft:"bg-gray-600",sent:"bg-blue-600",viewed:"bg-yellow-600",signed:"bg-green-600",expired:"bg-red-600"}[t]||"bg-gray-600"} text-white px-3 py-1 rounded-full text-sm font-medium inline-flex items-center gap-2`}const XOe={draft:"bg-gray-700 text-gray-200",sent:"bg-blue-600/20 text-blue-400 border border-blue-500/30",viewed:"bg-yellow-600/20 text-yellow-400 border border-yellow-500/30",signed:"bg-green-600/20 text-green-400 border border-green-500/30",expired:"bg-red-600/20 text-red-400 border border-red-500/30"};function ZOe(){const[t,e]=j.useState([]),[r,n]=j.useState([]),[i,s]=j.useState(!0),[a,c]=j.useState(""),[u,o]=j.useState(""),[d,f]=j.useState("created_desc"),[A,p]=j.useState({total:0,signedThisMonth:0,pending:0,drafts:0,value:0}),g=ic();j.useEffect(()=>{y()},[]),j.useEffect(()=>{b()},[t,a,u,d]);const y=async()=>{try{const w=await yM();e(w),v(w)}catch(w){console.error("Error loading contracts:",w)}finally{s(!1)}},v=w=>{const S=new Date,_=w.filter(V=>{if(V.status!=="signed")return!1;const G=new Date(V.created_at);return G.getMonth()===S.getMonth()&&G.getFullYear()===S.getFullYear()}),T=w.filter(V=>V.status==="sent"||V.status==="viewed"),L=w.filter(V=>V.status==="draft"),D=w.reduce((V,G)=>{const J=G.contract_data?.vip_price||0,ee=G.contract_data?.expected_athletes||0;return V+J*ee*.3},0);p({total:w.length,signedThisMonth:_.length,pending:T.length,drafts:L.length,value:Math.round(D)})},b=()=>{let w=[...t];if(a){const S=a.toLowerCase();w=w.filter(_=>(_.org_name||"").toLowerCase().includes(S)||(_.promoter_name||"").toLowerCase().includes(S)||(_.promoter_email||"").toLowerCase().includes(S))}u&&(w=w.filter(S=>S.status===u)),w.sort((S,_)=>{switch(d){case"created_asc":return new Date(S.created_at)-new Date(_.created_at);case"created_desc":return new Date(_.created_at)-new Date(S.created_at);case"org_name":return(S.org_name||"").localeCompare(_.org_name||"");case"status":return(S.status||"").localeCompare(_.status||"");default:return 0}}),n(w)};return i?l.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:l.jsx("div",{className:"text-gray-400 text-lg",children:"Loading contracts..."})}):l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-8",children:[l.jsxs("h1",{className:"text-3xl font-black text-white tracking-tight",children:[l.jsx("span",{className:"text-red-500",children:"CONTRACT"})," MANAGEMENT"]}),l.jsxs("button",{onClick:()=>g("/portal/contracts/new"),className:"bg-red-600 hover:bg-red-700 text-white px-6 py-3 rounded-lg font-bold transition-all hover:scale-105 flex items-center gap-2",children:[l.jsx("span",{className:"text-lg",children:"+"})," Create New Contract"]})]}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-8",children:[{label:"TOTAL CONTRACTS",value:A.total,color:"text-white",filter:""},{label:"DRAFTS",value:A.drafts,color:"text-yellow-500",filter:"draft"},{label:"SIGNED THIS MONTH",value:A.signedThisMonth,color:"text-green-500",filter:"signed"},{label:"PENDING SIGNATURES",value:A.pending,color:"text-blue-400",filter:""},{label:"TOTAL VALUE",value:`$${A.value.toLocaleString()}`,color:"text-red-400",filter:""}].map(({label:w,value:S,color:_,filter:T})=>l.jsxs("div",{onClick:()=>T!==void 0&&o(T),className:`bg-[#1a1a2e] rounded-xl p-5 border border-gray-800/50 ${T!==""?"cursor-pointer hover:border-gray-600 transition-colors":""}`,children:[l.jsx("div",{className:"text-[11px] font-bold text-gray-500 tracking-widest uppercase mb-3",children:w}),l.jsx("div",{className:`text-3xl font-black ${_}`,children:S})]},w))}),l.jsxs("div",{className:"flex flex-col md:flex-row gap-3 mb-6",children:[l.jsx("input",{type:"text",value:a,onChange:w=>c(w.target.value),placeholder:"Search by organization name...",className:"flex-1 px-4 py-3 bg-[#1a1a2e] border border-gray-800/50 rounded-xl text-white placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-red-500/40 focus:border-red-500/40"}),l.jsxs("select",{value:u,onChange:w=>o(w.target.value),className:"px-4 py-3 bg-[#1a1a2e] border border-gray-800/50 rounded-xl text-gray-300 focus:outline-none focus:ring-2 focus:ring-red-500/40 min-w-[160px]",children:[l.jsx("option",{value:"",children:"All Statuses"}),l.jsx("option",{value:"draft",children:"Draft"}),l.jsx("option",{value:"sent",children:"Sent"}),l.jsx("option",{value:"viewed",children:"Viewed"}),l.jsx("option",{value:"signed",children:"Signed"}),l.jsx("option",{value:"expired",children:"Expired"})]}),l.jsxs("select",{value:d,onChange:w=>f(w.target.value),className:"px-4 py-3 bg-[#1a1a2e] border border-gray-800/50 rounded-xl text-gray-300 focus:outline-none focus:ring-2 focus:ring-red-500/40 min-w-[160px]",children:[l.jsx("option",{value:"created_desc",children:"Newest First"}),l.jsx("option",{value:"created_asc",children:"Oldest First"}),l.jsx("option",{value:"org_name",children:"Organization A-Z"}),l.jsx("option",{value:"status",children:"Status"})]})]}),r.length===0?l.jsxs("div",{className:"bg-[#1a1a2e] rounded-xl p-12 text-center border border-gray-800/50",children:[l.jsx("div",{className:"text-6xl mb-4",children:""}),l.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:t.length===0?"No Contracts Yet":"No Contracts Found"}),l.jsx("p",{className:"text-gray-500 mb-6",children:t.length===0?"Create your first contract to get started":"Try adjusting your search or filters"}),t.length===0&&l.jsx("button",{onClick:()=>g("/portal/contracts/new"),className:"bg-red-600 hover:bg-red-700 text-white px-6 py-3 rounded-lg font-bold transition-all",children:"Create New Contract"})]}):l.jsx("div",{className:"flex flex-col gap-3",children:r.map(w=>{const S=w.contract_data?.event_date?new Date(w.contract_data.event_date).toLocaleDateString("en-AU"):"Not set",_=new Date(w.created_at).toLocaleDateString("en-AU");return l.jsx("div",{onClick:()=>w.status==="draft"?g(`/portal/contracts/${w.id}/edit`):g(`/portal/contracts/${w.id}`),className:`bg-[#1a1a2e] rounded-xl p-5 border-l-4 ${w.status==="draft"?"border-l-yellow-500":"border-l-red-600"} border border-gray-800/50 hover:border-gray-700 cursor-pointer transition-all hover:bg-[#1f1f35] group`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-lg font-bold text-white group-hover:text-red-400 transition-colors",children:w.org_name||"Untitled Contract"}),l.jsxs("div",{className:"flex flex-wrap gap-x-6 gap-y-1 mt-2 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-[10px] font-bold text-gray-600 uppercase tracking-wider",children:"Promoter"}),l.jsx("div",{className:"text-gray-300",children:w.promoter_name||"N/A"})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-[10px] font-bold text-gray-600 uppercase tracking-wider",children:"Event Date"}),l.jsx("div",{className:"text-gray-300",children:S})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-[10px] font-bold text-gray-600 uppercase tracking-wider",children:"Created"}),l.jsx("div",{className:"text-gray-300",children:_})]})]})]}),l.jsxs("span",{className:`px-3 py-1.5 rounded-full text-xs font-bold uppercase tracking-wider ${XOe[w.status]||"bg-gray-700 text-gray-300"}`,children:[wM(w.status)," ",w.status]})]})},w.id)})})]})}function cre({onSignatureChange:t,className:e=""}){const r=j.useRef(null),n=j.useRef(!1),i=j.useRef({x:0,y:0});j.useEffect(()=>{const a=r.current;if(!a)return;const c=()=>{const u=a.getBoundingClientRect();a.width=u.width,a.height=u.height,a.getContext("2d").clearRect(0,0,a.width,a.height)};return setTimeout(c,100),window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)},[]),j.useEffect(()=>{const a=r.current;if(!a)return;const c=a.getContext("2d"),u=A=>{const p=a.getBoundingClientRect(),g=(A.clientX||A.touches?.[0]?.clientX||0)-p.left,y=(A.clientY||A.touches?.[0]?.clientY||0)-p.top;return{x:g,y}},o=A=>{A.preventDefault(),n.current=!0;const p=u(A);i.current=p},d=A=>{if(!n.current)return;A.preventDefault();const p=u(A);c.strokeStyle="#ffffff",c.lineWidth=2,c.lineCap="round",c.lineJoin="round",c.beginPath(),c.moveTo(i.current.x,i.current.y),c.lineTo(p.x,p.y),c.stroke(),i.current=p,t&&t(a)},f=()=>{n.current=!1};return a.addEventListener("mousedown",o),a.addEventListener("mousemove",d),a.addEventListener("mouseup",f),a.addEventListener("mouseout",f),a.addEventListener("touchstart",o),a.addEventListener("touchmove",d),a.addEventListener("touchend",f),()=>{a.removeEventListener("mousedown",o),a.removeEventListener("mousemove",d),a.removeEventListener("mouseup",f),a.removeEventListener("mouseout",f),a.removeEventListener("touchstart",o),a.removeEventListener("touchmove",d),a.removeEventListener("touchend",f)}},[t]);const s=()=>{const a=r.current;if(!a)return;a.getContext("2d").clearRect(0,0,a.width,a.height),t&&t(a)};return l.jsxs("div",{className:"signature-canvas-container",children:[l.jsx("canvas",{ref:r,className:`border-2 border-gray-600 rounded-lg bg-gray-900 cursor-crosshair touch-none ${e}`,style:{width:"100%",height:"200px"}}),l.jsx("button",{type:"button",onClick:s,className:"mt-2 px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:"Clear Signature"})]})}const Gy=6;function tK({editMode:t=!1}){const{id:e}=$m(),[r,n]=j.useState(1),[i,s]=j.useState({agreement_date:new Date().toISOString().split("T")[0],ffm_abn:"",org_name:"",promoter_name:"",promoter_position:"",promoter_email:"",promoter_phone:"",org_instagram:"",org_facebook:"",org_website:"",event_name:"",event_date:"",event_location:"",event_type:"BJJ / Grappling Competition",estimated_matches:"",expected_athletes:"",expected_audience:"",camera_angles:"2",camera_angles_max:"",crew_size:"2",crew_size_max:"",multi_event_count:"1",multi_event_duration:"",highlight_delivery_days:"7",highlight_delivery_days_max:"",social_clips_count:"5",social_clips_count_max:"",social_clips_delivery_days:"5",social_clips_delivery_days_max:"",photo_count:"50",photo_count_max:"",photography_included:!0,photography_type:"professional",livestream_included:!1,ppv_included:!1,ppv_platform:"",ppv_price:"",ppv_price_type:"fixed",ppv_price_max:"",ppv_ffm_split:"70",ppv_client_split:"30",ppv_payment_days:"21",vip_price:"350",match_price:"175",season_price:"899",athlete_revenue_ffm_100:!0,athlete_ffm_split:"80",athlete_client_split:"20",setup_hours:"2",internet_speed:"",schedule_hours_before:"48",athlete_list_days_before:"7",cancellation_fee:"500",initial_term_months:"12",renewal_period_months:"12",nonrenewal_notice_days:"60",termination_notice_days:"30",remedy_period_days:"14",pli_amount:"20000000"}),[a,c]=j.useState([]),[u,o]=j.useState([{name:"VIP Coverage",price:"350",description:"Full event coverage with priority editing, professional highlight reel, all match recordings, and premium photo package."},{name:"Match Package",price:"175",description:"Individual match recording with edited highlights and action photos from your matches."},{name:"Season Pass",price:"899",description:"Full season coverage across all events, priority processing, and exclusive content access."}]),[d,f]=j.useState([]),[A,p]=j.useState(!1),[g,y]=j.useState(!1),[v,b]=j.useState(null),[w,S]=j.useState(t),[_,T]=j.useState(!0);j.useRef(null);const[L,D]=j.useState(null),[V,G]=j.useState(!1),[J,ee]=j.useState(null),ue=ic();j.useEffect(()=>{t&&e&&pe()},[t,e]);const pe=async()=>{try{S(!0);const $e=await rre(e);b($e);const ct=$e.contract_data||{};s(Fe=>({...Fe,...ct})),ct.multi_events&&c(ct.multi_events),ct.athlete_packages&&o(ct.athlete_packages),ct.add_ons&&f(ct.add_ons)}catch($e){console.error("Error loading contract:",$e),alert("Failed to load contract for editing"),ue("/portal/contracts")}finally{S(!1)}};j.useEffect(()=>{if(!t){const $e=localStorage.getItem("contractBuilderData");if($e)try{const ct=JSON.parse($e);s(ct.formData||i),c(ct.multiEvents||[]),ct.athletePackages&&o(ct.athletePackages),ct.addOns&&f(ct.addOns),n(ct.currentStep||1)}catch(ct){console.error("Error loading saved data:",ct)}}},[t]),j.useEffect(()=>{localStorage.setItem("contractBuilderData",JSON.stringify({formData:i,multiEvents:a,athletePackages:u,addOns:d,currentStep:r}))},[i,a,u,d,r]);const ge=$e=>{const{name:ct,value:Fe,type:xt,checked:pt}=$e.target;s(Bt=>({...Bt,[ct]:xt==="checkbox"?pt:Fe}))},he=()=>{c([...a,{name:"",date:"",venue:""}])},ne=$e=>{c(a.filter((ct,Fe)=>Fe!==$e))},Ae=($e,ct,Fe)=>{const xt=[...a];xt[$e][ct]=Fe,c(xt)},oe=($e,ct)=>{const Fe=$e+ct;if(Fe<0||Fe>=a.length)return;const xt=[...a],[pt]=xt.splice($e,1);xt.splice(Fe,0,pt),c(xt)},Be=()=>{o([...u,{name:"",price:"",description:""}])},ke=$e=>{o(u.filter((ct,Fe)=>Fe!==$e))},ve=($e,ct,Fe)=>{const xt=[...u];xt[$e][ct]=Fe,o(xt)},se=()=>{f([...d,{name:"",price:"",description:"",included:!0}])},me=$e=>{f(d.filter((ct,Fe)=>Fe!==$e))},je=($e,ct,Fe)=>{const xt=[...d];xt[$e][ct]=Fe,f(xt)},Ue=$e=>{const Fe={1:["org_name","promoter_name","promoter_position","promoter_email","promoter_phone"],2:["event_name","event_date","event_location","estimated_matches","expected_athletes","expected_audience"],3:[],4:[],5:[],6:[]}[$e]||[];for(const xt of Fe)if(!i[xt]||i[xt].trim()==="")return alert("Please fill in all required fields in this step."),!1;return!0},De=()=>{Ue(r)&&r<Gy&&(n(r+1),window.scrollTo({top:0,behavior:"smooth"}))},ot=()=>{r>1&&(n(r-1),window.scrollTo({top:0,behavior:"smooth"}))},ft=$e=>{n($e),window.scrollTo({top:0,behavior:"smooth"})},Ce=async $e=>{$e.preventDefault();const ct=L&&ore(L);if(!t){if(!ct){alert("Please sign the contract before submitting.");return}if(!V){alert("Please confirm your signature.");return}}p(!0);try{const Fe={...i,multi_events:a,athlete_packages:u,add_ons:d};if(t&&v){const xt={org_name:i.org_name,promoter_name:i.promoter_name,promoter_email:i.promoter_email,promoter_phone:i.promoter_phone,contract_data:Fe,updated_at:new Date().toISOString()};ct&&V&&(xt.ffm_signature=wR(L),xt.ffm_signed_at=new Date().toISOString()),await eK(e,xt),alert("Contract updated successfully!"),ue(`/portal/contracts/${e}`)}else{const xt=wR(L),pt=await JV({status:"sent",org_name:i.org_name,promoter_name:i.promoter_name,promoter_email:i.promoter_email,promoter_phone:i.promoter_phone,contract_data:Fe,ffm_signature:xt,ffm_signed_at:new Date().toISOString()});localStorage.removeItem("contractBuilderData"),alert("Contract created successfully! You can now share it with the client."),ue(`/portal/contracts/${pt.id}`)}}catch(Fe){console.error("Error saving contract:",Fe),alert("Failed to save contract: "+Fe.message)}finally{p(!1)}},Ze=async()=>{y(!0);try{const $e={...i,multi_events:a,athlete_packages:u,add_ons:d};if(t&&v)await eK(e,{status:v.status==="draft"?"draft":v.status,org_name:i.org_name||"Untitled Draft",promoter_name:i.promoter_name,promoter_email:i.promoter_email,promoter_phone:i.promoter_phone,contract_data:$e}),ee(new Date),alert("Draft saved!");else{const ct=await JV({status:"draft",org_name:i.org_name||"Untitled Draft",promoter_name:i.promoter_name,promoter_email:i.promoter_email,promoter_phone:i.promoter_phone,contract_data:$e});localStorage.removeItem("contractBuilderData"),ue(`/portal/contracts/${ct.id}/edit`,{replace:!0}),b(ct),ee(new Date),alert("Draft saved! You can continue editing or come back later.")}}catch($e){console.error("Error saving draft:",$e),alert("Failed to save draft: "+$e.message)}finally{y(!1)}},ze={contract_data:{...i,multi_events:a,athlete_packages:u,add_ons:d},ffm_signature:null,client_signature:null};return w?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"text-white text-xl",children:"Loading contract..."})}):l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-8",children:[l.jsxs("div",{children:[l.jsxs("button",{onClick:()=>ue(t?`/portal/contracts/${e}`:"/portal/contracts"),className:"text-gray-400 hover:text-white mb-2 inline-flex items-center gap-2",children:[" ",t?"Back to Contract":"Back to Dashboard"]}),l.jsx("h1",{className:"text-3xl font-bold text-white",children:t?`Edit Contract: ${i.org_name||"Untitled"}`:"Create New Contract"})]}),l.jsxs("button",{onClick:()=>T(!_),className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:[_?"Hide":"Show"," Preview"]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"bg-dark-900 rounded-lg p-6 mb-6 border border-gray-800",children:[l.jsx("div",{className:"flex items-center justify-between mb-4",children:Array.from({length:Gy},($e,ct)=>ct+1).map($e=>l.jsx("button",{onClick:()=>ft($e),className:`flex-1 text-center py-2 px-3 rounded-lg font-medium transition-colors ${$e===r?"bg-blue-600 text-white":$e<r?"bg-green-600 text-white":"bg-gray-800 text-gray-400"} ${$e<Gy?"mr-2":""}`,children:$e},$e))}),l.jsxs("div",{className:"text-center text-gray-400 text-sm",children:["Step ",r," of ",Gy]})]}),l.jsxs("form",{onSubmit:Ce,noValidate:!0,className:"bg-dark-900 rounded-lg p-6 border border-gray-800",children:[r===1&&l.jsxs("div",{className:"space-y-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Step 1: Party Details"}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Agreement Date ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"date",name:"agreement_date",value:i.agreement_date,onChange:ge,required:!0,className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"FFM ABN"}),l.jsx("input",{type:"text",name:"ffm_abn",value:i.ffm_abn,onChange:ge,placeholder:"Enter ABN if available",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Organization Name ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",name:"org_name",value:i.org_name,onChange:ge,required:!0,placeholder:"e.g., Queensland Grappling Association",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Promoter Name ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",name:"promoter_name",value:i.promoter_name,onChange:ge,required:!0,placeholder:"Full name of the promoter",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Promoter Position ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",name:"promoter_position",value:i.promoter_position,onChange:ge,required:!0,placeholder:"e.g., Event Director, CEO",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Promoter Email ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"email",name:"promoter_email",value:i.promoter_email,onChange:ge,required:!0,placeholder:"email@example.com",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Promoter Phone ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"tel",name:"promoter_phone",value:i.promoter_phone,onChange:ge,required:!0,placeholder:"+61 4XX XXX XXX",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{className:"pt-4 border-t border-gray-700",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-300 mb-4",children:"Social & Web (Optional)"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Instagram"}),l.jsx("input",{type:"text",name:"org_instagram",value:i.org_instagram,onChange:ge,placeholder:"@yourorg",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Facebook"}),l.jsx("input",{type:"text",name:"org_facebook",value:i.org_facebook,onChange:ge,placeholder:"facebook.com/yourorg",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Website"}),l.jsx("input",{type:"text",name:"org_website",value:i.org_website,onChange:ge,placeholder:"https://yourorg.com",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]})]}),r===2&&l.jsxs("div",{className:"space-y-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Step 2: Event Details"}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Event Name ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",name:"event_name",value:i.event_name,onChange:ge,required:!0,placeholder:"e.g., Queensland Open 2024",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Event Date ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"date",name:"event_date",value:i.event_date,onChange:ge,required:!0,className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Event Location ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",name:"event_location",value:i.event_location,onChange:ge,required:!0,placeholder:"Venue name and address",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Event Type"}),l.jsx("input",{type:"text",name:"event_type",value:i.event_type,onChange:ge,placeholder:"e.g., BJJ / Grappling Competition",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Estimated Matches ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"number",name:"estimated_matches",value:i.estimated_matches,onChange:ge,required:!0,placeholder:"e.g., 200",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Expected Athlete Participants ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"number",name:"expected_athletes",value:i.expected_athletes,onChange:ge,required:!0,placeholder:"e.g., 400",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Expected Audience ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"number",name:"expected_audience",value:i.expected_audience,onChange:ge,required:!0,placeholder:"e.g., 300",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Multi-Event Count"}),l.jsx("input",{type:"number",name:"multi_event_count",value:i.multi_event_count,onChange:ge,placeholder:"e.g., 1",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Multi-Event Duration"}),l.jsx("input",{type:"text",name:"multi_event_duration",value:i.multi_event_duration,onChange:ge,placeholder:"e.g., 12 months",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Event Schedule (Optional)"}),l.jsx("button",{type:"button",onClick:he,className:"px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white rounded text-sm transition-colors",children:"+ Add Event"})]}),a.map(($e,ct)=>l.jsx("div",{className:"bg-dark-800 p-4 rounded-lg mb-2",children:l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsxs("span",{className:"text-gray-400 text-sm font-medium w-6",children:["#",ct+1]}),l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("button",{type:"button",onClick:()=>oe(ct,-1),disabled:ct===0,className:`px-2 py-0.5 rounded text-xs ${ct===0?"text-gray-600 cursor-not-allowed":"text-gray-400 hover:text-white hover:bg-dark-600"}`,title:"Move up",children:""}),l.jsx("button",{type:"button",onClick:()=>oe(ct,1),disabled:ct===a.length-1,className:`px-2 py-0.5 rounded text-xs ${ct===a.length-1?"text-gray-600 cursor-not-allowed":"text-gray-400 hover:text-white hover:bg-dark-600"}`,title:"Move down",children:""})]}),l.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-3 gap-2",children:[l.jsx("input",{type:"text",value:$e.name,onChange:Fe=>Ae(ct,"name",Fe.target.value),placeholder:"Event Name",className:"px-3 py-2 bg-dark-700 border border-gray-600 rounded text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),l.jsx("input",{type:"date",value:$e.date,onChange:Fe=>Ae(ct,"date",Fe.target.value),className:"px-3 py-2 bg-dark-700 border border-gray-600 rounded text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),l.jsx("input",{type:"text",value:$e.venue,onChange:Fe=>Ae(ct,"venue",Fe.target.value),placeholder:"Venue",className:"px-3 py-2 bg-dark-700 border border-gray-600 rounded text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsx("button",{type:"button",onClick:()=>ne(ct),className:"text-red-500 hover:text-red-400 text-sm px-2",title:"Remove event",children:""})]})},ct))]})]}),r===3&&l.jsxs("div",{className:"space-y-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Step 3: Coverage & Deliverables"}),l.jsx("p",{className:"text-sm text-gray-400 mb-4",children:' All fields support ranges. Leave "Max" empty for a single value, or enter a max to specify a range (e.g., "2-3").'}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Camera Angles"}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("input",{type:"number",name:"camera_angles",value:i.camera_angles,onChange:ge,placeholder:"Min",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),l.jsx("span",{className:"text-xs text-gray-500 mt-1 block",children:"Min"})]}),l.jsxs("div",{children:[l.jsx("input",{type:"number",name:"camera_angles_max",value:i.camera_angles_max,onChange:ge,placeholder:"Max (optional)",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),l.jsx("span",{className:"text-xs text-gray-500 mt-1 block",children:"Max (optional)"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"On-Site Crew Size"}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("input",{type:"number",name:"crew_size",value:i.crew_size,onChange:ge,placeholder:"Min",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),l.jsx("span",{className:"text-xs text-gray-500 mt-1 block",children:"Min"})]}),l.jsxs("div",{children:[l.jsx("input",{type:"number",name:"crew_size_max",value:i.crew_size_max,onChange:ge,placeholder:"Max (optional)",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),l.jsx("span",{className:"text-xs text-gray-500 mt-1 block",children:"Max (optional)"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Highlight Reel Delivery (Days)"}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("input",{type:"number",name:"highlight_delivery_days",value:i.highlight_delivery_days,onChange:ge,placeholder:"Min",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),l.jsx("span",{className:"text-xs text-gray-500 mt-1 block",children:"Min"})]}),l.jsxs("div",{children:[l.jsx("input",{type:"number",name:"highlight_delivery_days_max",value:i.highlight_delivery_days_max,onChange:ge,placeholder:"Max (optional)",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),l.jsx("span",{className:"text-xs text-gray-500 mt-1 block",children:"Max (optional)"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Social Media Clips Count"}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("input",{type:"number",name:"social_clips_count",value:i.social_clips_count,onChange:ge,placeholder:"Min",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),l.jsx("span",{className:"text-xs text-gray-500 mt-1 block",children:"Min"})]}),l.jsxs("div",{children:[l.jsx("input",{type:"number",name:"social_clips_count_max",value:i.social_clips_count_max,onChange:ge,placeholder:"Max (optional)",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),l.jsx("span",{className:"text-xs text-gray-500 mt-1 block",children:"Max (optional)"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Social Clips Delivery (Days)"}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("input",{type:"number",name:"social_clips_delivery_days",value:i.social_clips_delivery_days,onChange:ge,placeholder:"Min",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),l.jsx("span",{className:"text-xs text-gray-500 mt-1 block",children:"Min"})]}),l.jsxs("div",{children:[l.jsx("input",{type:"number",name:"social_clips_delivery_days_max",value:i.social_clips_delivery_days_max,onChange:ge,placeholder:"Max (optional)",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),l.jsx("span",{className:"text-xs text-gray-500 mt-1 block",children:"Max (optional)"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Photography"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[l.jsx("input",{type:"radio",name:"photography_type",value:"none",checked:i.photography_type==="none",onChange:ge,className:"w-4 h-4 text-blue-600 bg-dark-800 border-gray-700 focus:ring-2 focus:ring-blue-500"}),l.jsx("span",{className:"text-gray-300",children:"No photography included"})]}),l.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[l.jsx("input",{type:"radio",name:"photography_type",value:"base",checked:i.photography_type==="base",onChange:ge,className:"w-4 h-4 text-blue-600 bg-dark-800 border-gray-700 focus:ring-2 focus:ring-blue-500"}),l.jsx("span",{className:"text-gray-300",children:"Base event photography"})]}),l.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[l.jsx("input",{type:"radio",name:"photography_type",value:"professional",checked:i.photography_type==="professional",onChange:ge,className:"w-4 h-4 text-blue-600 bg-dark-800 border-gray-700 focus:ring-2 focus:ring-blue-500"}),l.jsx("span",{className:"text-gray-300",children:"Professional event photography"})]})]})]}),i.photography_type!=="none"&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Photo Count"}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("input",{type:"number",name:"photo_count",value:i.photo_count,onChange:ge,placeholder:"Min",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),l.jsx("span",{className:"text-xs text-gray-500 mt-1 block",children:"Min"})]}),l.jsxs("div",{children:[l.jsx("input",{type:"number",name:"photo_count_max",value:i.photo_count_max,onChange:ge,placeholder:"Max (optional)",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),l.jsx("span",{className:"text-xs text-gray-500 mt-1 block",children:"Max (optional)"})]})]})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",id:"livestream_included",name:"livestream_included",checked:i.livestream_included,onChange:ge,className:"w-4 h-4 text-blue-600 bg-dark-800 border-gray-700 rounded focus:ring-2 focus:ring-blue-500"}),l.jsx("label",{htmlFor:"livestream_included",className:"ml-2 text-sm font-medium text-gray-300",children:"Livestream Included"})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",id:"ppv_included",name:"ppv_included",checked:i.ppv_included,onChange:ge,className:"w-4 h-4 text-blue-600 bg-dark-800 border-gray-700 rounded focus:ring-2 focus:ring-blue-500"}),l.jsx("label",{htmlFor:"ppv_included",className:"ml-2 text-sm font-medium text-gray-300",children:"PPV Included"})]}),i.ppv_included&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"PPV Platform"}),l.jsx("input",{type:"text",name:"ppv_platform",value:i.ppv_platform,onChange:ge,placeholder:"e.g., Vimeo, YouTube Live",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"PPV Pricing Type"}),l.jsxs("div",{className:"flex gap-4 mb-3",children:[l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"radio",name:"ppv_price_type",value:"fixed",checked:i.ppv_price_type==="fixed",onChange:ge,className:"text-orange-500 focus:ring-orange-500"}),l.jsx("span",{className:"text-gray-300",children:"Fixed Price"})]}),l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"radio",name:"ppv_price_type",value:"range",checked:i.ppv_price_type==="range",onChange:ge,className:"text-orange-500 focus:ring-orange-500"}),l.jsx("span",{className:"text-gray-300",children:"Price Range"})]})]}),i.ppv_price_type==="fixed"?l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"PPV Price per Viewer"}),l.jsx("input",{type:"number",name:"ppv_price",value:i.ppv_price,onChange:ge,placeholder:"e.g., 25.00",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}):l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Minimum Price"}),l.jsx("input",{type:"number",name:"ppv_price",value:i.ppv_price,onChange:ge,placeholder:"e.g., 25.00",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Maximum Price"}),l.jsx("input",{type:"number",name:"ppv_price_max",value:i.ppv_price_max,onChange:ge,placeholder:"e.g., 35.00",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]})]})]}),r===4&&l.jsxs("div",{className:"space-y-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Step 4: Financial Terms"}),i.ppv_included&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{className:"text-lg font-bold text-white mt-6",children:"PPV Revenue Split"}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"FFM PPV Share (%)"}),l.jsx("input",{type:"number",name:"ppv_ffm_split",value:i.ppv_ffm_split,onChange:ge,placeholder:"e.g., 70",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Client PPV Share (%)"}),l.jsx("input",{type:"number",name:"ppv_client_split",value:i.ppv_client_split,onChange:ge,placeholder:"e.g., 30",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"PPV Payment Within (Days)"}),l.jsx("input",{type:"number",name:"ppv_payment_days",value:i.ppv_payment_days,onChange:ge,placeholder:"e.g., 21",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-bold text-white",children:"Athlete Media Packages"}),l.jsx("button",{type:"button",onClick:Be,className:"px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white rounded text-sm transition-colors",children:"+ Add Package"})]}),u.length===0&&l.jsx("p",{className:"text-gray-400 text-sm mb-4",children:'No packages added. Click "+ Add Package" to create athlete media packages.'}),u.map(($e,ct)=>l.jsxs("div",{className:"bg-dark-800 p-4 rounded-lg mb-4 border border-gray-700",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("span",{className:"text-sm font-medium text-gray-400",children:["Package ",ct+1]}),l.jsx("button",{type:"button",onClick:()=>ke(ct),className:"text-red-500 hover:text-red-400 text-sm",children:"Remove"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Package Name"}),l.jsx("input",{type:"text",value:$e.name,onChange:Fe=>ve(ct,"name",Fe.target.value),placeholder:"e.g., VIP Coverage",className:"w-full px-3 py-2 bg-dark-700 border border-gray-600 rounded text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Price ($)"}),l.jsx("input",{type:"number",value:$e.price,onChange:Fe=>ve(ct,"price",Fe.target.value),placeholder:"e.g., 350",className:"w-full px-3 py-2 bg-dark-700 border border-gray-600 rounded text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Description (what's included)"}),l.jsx("textarea",{value:$e.description,onChange:Fe=>ve(ct,"description",Fe.target.value),placeholder:"Describe what this package includes...",rows:2,className:"w-full px-3 py-2 bg-dark-700 border border-gray-600 rounded text-white focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none"})]})]},ct))]}),l.jsxs("div",{className:"mt-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-bold text-white",children:"Client Add-Ons"}),l.jsx("button",{type:"button",onClick:se,className:"px-3 py-1 bg-green-600 hover:bg-green-700 text-white rounded text-sm transition-colors",children:"+ Add Add-On"})]}),l.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Optional services or packages the client has opted into for this event."}),d.length===0&&l.jsx("p",{className:"text-gray-500 text-sm italic mb-4",children:'No add-ons added. Click "+ Add Add-On" to include optional services.'}),d.map(($e,ct)=>l.jsxs("div",{className:"bg-dark-800 p-4 rounded-lg mb-4 border border-green-900",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("span",{className:"text-sm font-medium text-green-400",children:["Add-On ",ct+1]}),l.jsx("button",{type:"button",onClick:()=>me(ct),className:"text-red-500 hover:text-red-400 text-sm",children:"Remove"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Add-On Name"}),l.jsx("input",{type:"text",value:$e.name,onChange:Fe=>je(ct,"name",Fe.target.value),placeholder:"e.g., Additional Camera Operator",className:"w-full px-3 py-2 bg-dark-700 border border-gray-600 rounded text-white focus:outline-none focus:ring-2 focus:ring-green-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Price ($)"}),l.jsx("input",{type:"number",value:$e.price,onChange:Fe=>je(ct,"price",Fe.target.value),placeholder:"e.g., 500",className:"w-full px-3 py-2 bg-dark-700 border border-gray-600 rounded text-white focus:outline-none focus:ring-2 focus:ring-green-500"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Description"}),l.jsx("textarea",{value:$e.description,onChange:Fe=>je(ct,"description",Fe.target.value),placeholder:"Describe what this add-on includes...",rows:2,className:"w-full px-3 py-2 bg-dark-700 border border-gray-600 rounded text-white focus:outline-none focus:ring-2 focus:ring-green-500 resize-none"})]})]},ct))]}),l.jsx("h3",{className:"text-lg font-bold text-white mt-6",children:"Athlete Revenue Split"}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",id:"athlete_revenue_ffm_100",name:"athlete_revenue_ffm_100",checked:i.athlete_revenue_ffm_100,onChange:ge,className:"w-4 h-4 text-blue-600 bg-dark-800 border-gray-700 rounded focus:ring-2 focus:ring-blue-500"}),l.jsx("label",{htmlFor:"athlete_revenue_ffm_100",className:"ml-2 text-sm font-medium text-gray-300",children:"FFM Retains 100% of Athlete Media Package Sales"})]}),!i.athlete_revenue_ffm_100&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"FFM Athlete Revenue Share (%)"}),l.jsx("input",{type:"number",name:"athlete_ffm_split",value:i.athlete_ffm_split,onChange:ge,placeholder:"e.g., 80",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Client Athlete Revenue Share (%)"}),l.jsx("input",{type:"number",name:"athlete_client_split",value:i.athlete_client_split,onChange:ge,placeholder:"e.g., 20",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),r===5&&l.jsxs("div",{className:"space-y-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Step 5: Terms & Conditions"}),l.jsx("h3",{className:"text-lg font-bold text-white",children:"Access & Logistics"}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Setup Hours Before Event"}),l.jsx("input",{type:"number",name:"setup_hours",value:i.setup_hours,onChange:ge,placeholder:"e.g., 2",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Internet Upload Speed (Mbps)"}),l.jsx("input",{type:"text",name:"internet_speed",value:i.internet_speed,onChange:ge,placeholder:"e.g., 50",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Event Schedule Provided (Hours Before)"}),l.jsx("input",{type:"number",name:"schedule_hours_before",value:i.schedule_hours_before,onChange:ge,placeholder:"e.g., 48",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Athlete List Provided (Days Before)"}),l.jsx("input",{type:"number",name:"athlete_list_days_before",value:i.athlete_list_days_before,onChange:ge,placeholder:"e.g., 7",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsx("h3",{className:"text-lg font-bold text-white mt-6",children:"Cancellation & Term"}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Cancellation Fee"}),l.jsx("input",{type:"number",name:"cancellation_fee",value:i.cancellation_fee,onChange:ge,placeholder:"e.g., 500",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Initial Term (Months)"}),l.jsx("input",{type:"number",name:"initial_term_months",value:i.initial_term_months,onChange:ge,placeholder:"e.g., 12",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Auto-Renewal Period (Months)"}),l.jsx("input",{type:"number",name:"renewal_period_months",value:i.renewal_period_months,onChange:ge,placeholder:"e.g., 12",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Non-Renewal Notice (Days)"}),l.jsx("input",{type:"number",name:"nonrenewal_notice_days",value:i.nonrenewal_notice_days,onChange:ge,placeholder:"e.g., 60",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Termination Notice (Days)"}),l.jsx("input",{type:"number",name:"termination_notice_days",value:i.termination_notice_days,onChange:ge,placeholder:"e.g., 30",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Remedy Period (Days)"}),l.jsx("input",{type:"number",name:"remedy_period_days",value:i.remedy_period_days,onChange:ge,placeholder:"e.g., 14",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Public Liability Insurance Amount"}),l.jsx("input",{type:"number",name:"pli_amount",value:i.pli_amount,onChange:ge,placeholder:"e.g., 20000000",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),r===6&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("h2",{className:"text-2xl font-bold text-white mb-4",children:["Step 6: ",t?"Review & Save":"Sign Contract"]}),t&&v?.ffm_signature&&l.jsxs("div",{className:"bg-green-900/20 border border-green-600 rounded-lg p-4 mb-4",children:[l.jsx("p",{className:"text-green-200 text-sm mb-3",children:" This contract already has an FFM signature. You can update the contract details without re-signing, or provide a new signature below if needed."}),l.jsx("div",{className:"bg-white p-2 rounded inline-block",children:l.jsx("img",{src:v.ffm_signature,alt:"Existing FFM Signature",className:"max-h-24"})}),l.jsxs("p",{className:"text-green-300 text-xs mt-2",children:["Signed: ",new Date(v.ffm_signed_at).toLocaleString()]})]}),l.jsx("div",{className:"bg-yellow-900/20 border border-yellow-600 rounded-lg p-4",children:l.jsx("p",{className:"text-yellow-200 text-sm",children:t?" Review your changes. If you want to update the signature, draw a new one below and check the confirmation box.":" By signing this contract, you confirm that all information provided is accurate and you are authorized to create this agreement on behalf of Fit Focus Media."})}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:t?"New FFM Signature (optional)":"FFM Signature"}),l.jsx(cre,{onSignatureChange:$e=>D($e)})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",id:"confirmSignature",checked:V,onChange:$e=>G($e.target.checked),className:"w-4 h-4 text-blue-600 bg-dark-800 border-gray-700 rounded focus:ring-2 focus:ring-blue-500"}),l.jsx("label",{htmlFor:"confirmSignature",className:"ml-2 text-sm font-medium text-gray-300",children:t?"I want to update the signature with the new one above":"I confirm this is my signature and I am authorized to sign this contract"})]})]}),l.jsxs("div",{className:"flex items-center justify-between mt-8 pt-6 border-t border-gray-700",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[r>1&&l.jsx("button",{type:"button",onClick:ot,className:"px-6 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:" Previous"}),l.jsx("button",{type:"button",onClick:Ze,disabled:g,className:"px-4 py-2 bg-yellow-600 hover:bg-yellow-700 disabled:bg-yellow-800 text-white rounded-lg transition-colors flex items-center gap-2",children:g?l.jsx(l.Fragment,{children:" Saving..."}):l.jsx(l.Fragment,{children:" Save Draft"})}),J&&l.jsxs("span",{className:"text-xs text-gray-500",children:["Saved ",J.toLocaleTimeString()]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[r<Gy&&l.jsx("button",{type:"button",onClick:De,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"Next "}),r===Gy&&l.jsx("button",{type:"submit",disabled:A,className:"px-6 py-2 bg-green-600 hover:bg-green-700 disabled:bg-green-800 text-white rounded-lg transition-colors",children:A?t?"Updating Contract...":"Creating Contract...":t?"Update Contract":"Sign & Send Contract"})]})]})]})]}),_&&l.jsx("div",{className:"lg:sticky lg:top-8 lg:h-[calc(100vh-4rem)]",children:l.jsxs("div",{className:"bg-dark-900 rounded-lg p-6 border border-gray-800 overflow-y-auto h-full",children:[l.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Live Preview"}),l.jsx("div",{className:"text-sm",dangerouslySetInnerHTML:{__html:bM(ze)}})]})})]})]})}function JOe(){const{id:t}=$m(),[e,r]=j.useState(null),[n,i]=j.useState(!0),s=ic();j.useEffect(()=>{a()},[t]);const a=async()=>{try{const p=await rre(t);r(p)}catch(p){console.error("Error loading contract:",p),alert("Contract not found"),s("/portal/contracts")}finally{i(!1)}},[c,u]=j.useState(!1),o=async()=>{const p=ER(e.share_token);try{if(navigator.clipboard&&navigator.clipboard.writeText)await navigator.clipboard.writeText(p);else{const g=document.createElement("textarea");g.value=p,g.style.position="fixed",g.style.left="-9999px",document.body.appendChild(g),g.focus(),g.select(),document.execCommand("copy"),document.body.removeChild(g)}u(!0),setTimeout(()=>u(!1),3e3)}catch{alert(`Copy this link:

`+p)}},d=()=>{const{subject:p,body:g}=qOe(e.share_token,e.contract_data?.promoter_name||"there",e.org_name||"Organization"),v=`mailto:${e.contract_data?.promoter_email||""}?subject=${encodeURIComponent(p)}&body=${encodeURIComponent(g)}`;window.open(v,"_blank"),navigator.clipboard.writeText(ER(e.share_token)).catch(()=>{})},f=()=>{window.print()},A=async()=>{if(confirm("Are you sure you want to delete this contract? This cannot be undone."))try{await dOe(e.id),alert("Contract deleted successfully."),s("/portal/contracts")}catch(p){console.error("Error deleting contract:",p),alert("Failed to delete contract: "+p.message)}};return n?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"text-white text-xl",children:"Loading contract..."})}):e?l.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("div",{className:"mb-6 print:hidden",children:[l.jsx("button",{onClick:()=>s("/portal/contracts"),className:"text-gray-400 hover:text-white mb-2 inline-flex items-center gap-2",children:" Back to Dashboard"}),l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:e.org_name||"Untitled Contract"}),l.jsx("p",{className:"text-gray-400",children:e.promoter_name||"No promoter name"})]}),l.jsxs("span",{className:lre(e.status),children:[wM(e.status)," ",e.status]})]})]}),l.jsxs("div",{className:"flex flex-wrap gap-3 mb-6 print:hidden",children:[l.jsx("button",{onClick:o,className:`px-4 py-2 ${c?"bg-green-600":"bg-gray-700 hover:bg-gray-600"} text-white rounded-lg transition-colors`,children:c?" Copied!":" Copy Link"}),e.status!=="signed"&&l.jsx("button",{onClick:d,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:" Send to Client"}),l.jsx("button",{onClick:f,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:" Download PDF"}),e.status!=="signed"&&l.jsx("button",{onClick:()=>s(`/portal/contracts/${e.id}/edit`),className:"px-4 py-2 bg-yellow-600 hover:bg-yellow-700 text-white rounded-lg transition-colors",children:" Edit Contract"}),l.jsx("button",{onClick:A,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors ml-auto",children:" Delete"})]}),l.jsx("div",{className:"bg-dark-900 rounded-lg p-8 border border-gray-800",dangerouslySetInnerHTML:{__html:bM(e)}})]}):null}function ePe(){const{shareToken:t}=$m(),[e,r]=j.useState(null),[n,i]=j.useState(!0),[s,a]=j.useState(!1),[c,u]=j.useState(null);j.useEffect(()=>{o()},[t]);const o=async()=>{try{const A=await uOe(t);r(A),A.status==="sent"&&!A.viewed_at&&(await hOe(A.id),r({...A,status:"viewed",viewed_at:new Date().toISOString()}))}catch(A){console.error("Error loading contract:",A),alert("Contract not found")}finally{i(!1)}},d=async()=>{if(!c||!ore(c)){alert("Please sign before submitting.");return}if(confirm("By signing, you agree to all terms and conditions in this agreement. This action cannot be undone.")){a(!0);try{const A=wR(c),p=await AOe(e.id,A,!0);r(p),alert("Contract signed successfully! Both parties will receive confirmation.")}catch(A){console.error("Error submitting signature:",A),alert("Failed to submit signature: "+A.message)}finally{a(!1)}}};if(n)return l.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center",children:l.jsx("div",{className:"text-white text-xl",children:"Loading contract..."})});if(!e)return l.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-6xl mb-4",children:""}),l.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Contract Not Found"}),l.jsx("p",{className:"text-gray-400",children:"This contract link may be invalid or expired."})]})});const f=e.status!=="signed"&&!e.client_signature&&e.ffm_signature;return l.jsxs("div",{className:"min-h-screen bg-dark-950",children:[l.jsx("header",{className:"bg-dark-900 border-b border-gray-800 print:hidden",children:l.jsx("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-white mb-1",children:"Fit Focus Media"}),l.jsx("p",{className:"text-gray-400",children:"Event Media Coverage Agreement"})]}),l.jsxs("span",{className:lre(e.status),children:[wM(e.status)," ",e.status]})]})})}),l.jsxs("main",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsx("div",{className:"bg-dark-900 rounded-lg p-8 border border-gray-800 mb-8",dangerouslySetInnerHTML:{__html:bM(e)}}),f&&l.jsxs("div",{className:"bg-dark-900 rounded-lg p-8 border border-gray-800 print:hidden",children:[l.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Sign Agreement"}),l.jsx("div",{className:"bg-yellow-900/20 border border-yellow-600 rounded-lg p-4 mb-6",children:l.jsx("p",{className:"text-yellow-200 text-sm",children:" By signing this agreement, you acknowledge that you have read, understood, and agree to all terms and conditions outlined above. This signature is legally binding."})}),l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Your Signature"}),l.jsx(cre,{onSignatureChange:A=>u(A)})]}),l.jsx("button",{onClick:d,disabled:s,className:"w-full bg-green-600 hover:bg-green-700 disabled:bg-green-800 text-white font-medium py-3 px-6 rounded-lg transition-colors",children:s?"Submitting...":" Accept & Sign Contract"})]}),e.status==="signed"&&l.jsxs("div",{className:"bg-green-900/20 border border-green-600 rounded-lg p-6 text-center print:hidden",children:[l.jsx("div",{className:"text-5xl mb-3",children:""}),l.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Contract Fully Executed"}),l.jsx("p",{className:"text-gray-300",children:"This contract has been signed by both parties. Both parties will receive confirmation."})]})]})]})}async function M2(){const{data:t,error:e}=await Kr.from("crm_leads").select("*").order("priority_score",{ascending:!1});return e?(console.error("Error fetching leads:",e),[]):t||[]}async function tPe(t){const{data:e,error:r}=await Kr.from("crm_leads").select("*").eq("id",t).single();return r?(console.error("Error fetching lead:",r),null):e}async function ure(t,e){const{data:r,error:n}=await Kr.from("crm_leads").update({...e,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(n)throw console.error("Error updating lead:",n),n;return r}async function P1(t){const{data:e,error:r}=await Kr.from("crm_activities").select("*").eq("lead_id",t).order("created_at",{ascending:!1});return r?(console.error("Error fetching activities:",r),[]):e||[]}async function rK(t,e){const{data:r,error:n}=await Kr.from("crm_activities").insert([{lead_id:t,type:e.type,notes:e.notes,created_at:new Date().toISOString()}]).select().single();if(n)throw console.error("Error adding activity:",n),n;return await Kr.from("crm_leads").update({last_contact:new Date().toISOString()}).eq("id",t),r}async function rPe(t,e){const{data:r,error:n}=await Kr.from("crm_activities").update({type:e.type,notes:e.notes}).eq("id",t).select().single();if(n)throw console.error("Error updating activity:",n),n;return r}async function nPe(t){const{error:e}=await Kr.from("crm_activities").delete().eq("id",t);if(e)throw console.error("Error deleting activity:",e),e;return!0}const dre=[{id:"cold-outreach",name:"Cold Outreach",subject:"{{org_name}}  free event coverage?",body:`{{decision_maker || "Hey"}},

I'll keep this short.

We film {{sport}} events  multi-camera, professional grade, full match coverage for every athlete. Livestream if you want it.

Here's the thing: you pay nothing.

We make money when athletes buy their footage through our portal after the event. You get free professional coverage. Athletes get content they actually want. Everyone wins.

We just covered NBA Sydney Nationals  400 athletes across 2 days. The org paid $0.

If that sounds interesting, I'll explain how it works in 10 minutes. If not, no worries.

Brandon
0411 934 935`},{id:"follow-up-1",name:"Follow-up #1",subject:"Re: {{org_name}} coverage",body:`{{decision_maker || "Hey"}},

Following up on my last email.

I know you're busy running events, so here's the short version:

 Professional multi-camera coverage for {{org_name}}
 Athletes buy their own footage (you don't lift a finger)
 You pay nothing. Ever.

We've done this for grappling comps, bodybuilding shows, and fight nights. Happy to send examples if useful.

10 minutes to see if it fits?

Brandon
0411 934 935`},{id:"meeting-request",name:"Meeting Request",subject:"{{org_name}}  quick call?",body:`{{decision_maker || "Hey"}},

Thanks for getting back.

Here's what I'll cover (10 min max):
1. How the zero-cost model works (and why there's no catch)
2. What your athletes would actually receive
3. What we'd need from you (almost nothing)

Send me a time that works or just call me direct.

Brandon
0411 934 935`},{id:"post-meeting",name:"Post-Meeting Follow-up",subject:"{{org_name}}  next steps",body:`{{decision_maker || "Hey"}},

Good chat. Here's the recap:

WHAT YOU GET (at zero cost):
 Multi-camera coverage, every mat, every match
 Livestream/PPV if you want it
 Event highlight reel for your socials
 Full photo gallery

WHAT ATHLETES GET:
 Professional footage of their matches
 Access through our portal
 Delivered within days of the event

WHAT IT COSTS YOU:
 $0 upfront
 $0 ongoing
 We make money on athlete purchases only

NEXT STEP:
I'm sending the agreement now. Read it, flag anything, we lock in the dates.

Questions? Call me.

Brandon
0411 934 935`},{id:"breakup",name:"Breakup Email",subject:"{{org_name}}  closing the loop",body:`{{decision_maker || "Hey"}},

I've sent a few emails about covering {{org_name}} events. Haven't heard back, so I'll assume the timing's not right.

All good. If you ever want professional coverage at no cost, the offer stands.

Good luck with the season.

Brandon`}];function iPe(){return dre}function sPe(t,e){const r=dre.find(u=>u.id===t);if(!r)return null;const n={org_name:e.org_name||"",decision_maker:e.contact?.decision_maker||"",sport:e.sport||"",upcoming_event:e.events?.upcoming?.[0]||"",event_date:e.events?.upcoming?.[0]?.split(":")?.[1]?.trim()||""};let i=r.subject,s=r.body;const a=/\{\{(\w+)\s*\|\|\s*"([^"]*)"\}\}/g;i=i.replace(a,(u,o,d)=>n[o]||d),s=s.replace(a,(u,o,d)=>n[o]||d);const c=/\{\{(\w+)\}\}/g;return i=i.replace(c,(u,o)=>n[o]||""),s=s.replace(c,(u,o)=>n[o]||""),{subject:i,body:s}}async function hre(){const t=await M2(),{data:e}=await Kr.from("crm_activities").select("*").order("created_at",{ascending:!1}),r=e||[],n={new:0,contacted:0,meeting:0,proposal:0,negotiating:0,signed:0,lost:0};t.forEach(g=>{const y=g.stage||"new";n.hasOwnProperty(y)&&n[y]++});const i=t.length,s=t.filter(g=>!["signed","lost","do_not_contact"].includes(g.stage)).length,a=n.signed,c=i>0?Math.round(a/i*100):0;let u=0;t.forEach(g=>{if(["proposal","negotiating","signed"].includes(g.stage)){const y=g.revenue_potential?.match(/\$(\d+)K/);y&&(u+=parseInt(y[1])*1e3)}});const o=new Date,d=new Date(o);d.setDate(o.getDate()-o.getDay()),d.setHours(0,0,0,0);const f=r.filter(g=>g.type==="Meeting"&&new Date(g.created_at)>=d).length,A=r.slice(0,10).map(g=>{const y=t.find(v=>v.id===g.lead_id);return{...g,lead_name:y?.org_name||"Unknown"}}),p={1:0,2:0,3:0};return t.forEach(g=>{p.hasOwnProperty(g.tier)&&p[g.tier]++}),{totalLeads:i,activeLeads:s,signedLeads:a,conversionRate:c,pipelineValue:u,meetingsThisWeek:f,stageCounts:n,tierCounts:p,recentActivities:A}}const SR=[{touch:1,name:"Initial Outreach",daysAfterPrevious:0,type:"initial"},{touch:2,name:"Value-Add Follow-up",daysAfterPrevious:3,type:"value"},{touch:3,name:"Social Proof",daysAfterPrevious:5,type:"proof"},{touch:4,name:"Meeting Request",daysAfterPrevious:5,type:"meeting"},{touch:5,name:"Permission to Close",daysAfterPrevious:7,type:"breakup"}];function aPe(t,e=1){if(!t)return null;const r=new Date(t),n=SR[e];if(!n)return null;let i=0;for(let a=1;a<=e;a++)i+=SR[a].daysAfterPrevious;const s=new Date(r);return s.setDate(s.getDate()+i),{touch:n.touch,name:n.name,type:n.type,dueDate:s,daysUntilDue:Math.ceil((s-new Date)/(1e3*60*60*24))}}function oPe(t){let e=1;(t.stage==="contacted"||t.stage==="meeting"||t.stage==="proposal")&&(e=1);const r=aPe(t.last_contact,e);if(!r)return{status:"complete",...t};const{daysUntilDue:n}=r;let i="upcoming";return n<0?i="overdue":n===0?i="today":n<=2&&(i="soon"),{...t,nextTouch:r,status:i,daysUntilDue:n}}function lPe(){const[t,e]=j.useState([]),[r,n]=j.useState(!0),[i,s]=j.useState("all");j.useEffect(()=>{a()},[]);const a=async()=>{n(!0);try{const p=(await M2()).filter(g=>["new","contacted","meeting"].includes(g.stage)&&g.last_contact);e(p.map(oPe))}catch(A){console.error("Error loading leads:",A)}finally{n(!1)}},u=i==="all"?t:t.filter(A=>A.status===i),o=t.filter(A=>A.status==="overdue").length,d=t.filter(A=>A.status==="today").length,f=t.filter(A=>A.status==="soon").length;return r?l.jsx("div",{className:"text-gray-400",children:"Loading follow-ups..."}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white",children:"Follow-Up Scheduler"}),l.jsx("p",{className:"text-gray-400 text-xs sm:text-sm mt-1",children:"5-Touch outreach strategy tracker"})]}),l.jsxs("div",{className:"flex gap-4 sm:gap-4",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-xl sm:text-2xl font-bold text-red-500",children:o}),l.jsx("div",{className:"text-xs text-gray-400",children:"Overdue"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-xl sm:text-2xl font-bold text-yellow-500",children:d}),l.jsx("div",{className:"text-xs text-gray-400",children:"Today"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-xl sm:text-2xl font-bold text-blue-500",children:f}),l.jsx("div",{className:"text-xs text-gray-400",children:"Soon"})]})]})]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:["all","overdue","today","soon","upcoming"].map(A=>l.jsx("button",{onClick:()=>s(A),className:`px-3 sm:px-4 py-2 rounded-lg text-xs sm:text-sm font-medium transition-all ${i===A?"bg-red-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:A.charAt(0).toUpperCase()+A.slice(1)},A))}),u.length===0?l.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 sm:p-8 text-center text-gray-400",children:[l.jsx(Cw,{className:"w-10 h-10 sm:w-12 sm:h-12 mx-auto mb-2 sm:mb-3 text-green-500"}),l.jsxs("p",{className:"text-sm sm:text-base",children:["No follow-ups ",i!=="all"?i:"needed","!"]})]}):l.jsx("div",{className:"space-y-3",children:u.map(A=>l.jsx("div",{className:`bg-gray-800 rounded-lg p-3 sm:p-4 border-l-4 ${A.status==="overdue"?"border-red-500":A.status==="today"?"border-yellow-500":A.status==="soon"?"border-blue-500":"border-gray-600"}`,children:l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-2 flex-wrap",children:[l.jsx("h3",{className:"text-base sm:text-lg font-bold text-white truncate",children:A.org_name}),l.jsxs("span",{className:`px-2 py-0.5 sm:py-1 rounded text-xs font-medium flex-shrink-0 ${A.tier===1?"bg-red-900 text-red-200":A.tier===2?"bg-yellow-900 text-yellow-200":"bg-blue-900 text-blue-200"}`,children:["Tier ",A.tier]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-4 text-xs sm:text-sm text-gray-400",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(af,{className:"w-3 h-3 sm:w-4 sm:h-4 flex-shrink-0"}),l.jsxs("span",{className:"truncate",children:["Touch ",A.nextTouch.touch,": ",A.nextTouch.name]})]}),l.jsxs("div",{className:"flex items-center gap-4 sm:gap-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Pd,{className:"w-3 h-3 sm:w-4 sm:h-4 flex-shrink-0"}),l.jsxs("span",{children:["Due: ",A.nextTouch.dueDate.toLocaleDateString()]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(pb,{className:"w-3 h-3 sm:w-4 sm:h-4 flex-shrink-0"}),l.jsx("span",{className:A.status==="overdue"?"text-red-400 font-medium":A.status==="today"?"text-yellow-400 font-medium":"text-gray-400",children:A.daysUntilDue===0?"Today":A.daysUntilDue<0?`${Math.abs(A.daysUntilDue)} days overdue`:`In ${A.daysUntilDue} days`})]})]})]})]}),l.jsxs("div",{className:"flex items-center gap-2 self-end sm:self-auto",children:[A.status==="overdue"&&l.jsx(Wv,{className:"w-5 h-5 text-red-500 hidden sm:block"}),l.jsx("button",{className:"bg-red-600 hover:bg-red-700 text-white px-3 sm:px-4 py-2 rounded-lg text-xs sm:text-sm font-medium transition-all whitespace-nowrap",children:"Send Follow-Up"})]})]})},A.id))}),l.jsxs("details",{className:"bg-gray-800 rounded-lg",children:[l.jsxs("summary",{className:"p-3 sm:p-4 text-xs sm:text-sm font-bold text-white cursor-pointer list-none flex items-center justify-between",children:["5-Touch Strategy Timeline",l.jsx("span",{className:"text-gray-500 text-xs",children:"tap to expand"})]}),l.jsxs("div",{className:"px-3 sm:px-4 pb-3 sm:pb-4 space-y-2 text-xs sm:text-sm",children:[SR.map((A,p)=>l.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 text-gray-400",children:[l.jsxs("span",{className:"font-mono text-[10px] sm:text-xs bg-gray-700 px-1.5 sm:px-2 py-0.5 sm:py-1 rounded",children:["T",A.touch]}),l.jsx("span",{className:"flex-1 text-xs sm:text-sm",children:A.name}),l.jsx("span",{className:"text-[10px] sm:text-xs",children:p===0?"Initial":`+${A.daysAfterPrevious} days`})]},A.touch)),l.jsx("div",{className:"mt-3 pt-3 border-t border-gray-700 text-[10px] sm:text-xs text-gray-500",children:" Research shows 80% of sales happen between Touch 5-12. Don't give up early!"})]})]})]})}const kB=["#ef4444","#f59e0b","#3b82f6"],zy={new:"#6b7280",contacted:"#3b82f6",meeting:"#8b5cf6",proposal:"#eab308",negotiating:"#f97316",signed:"#10b981"};function cPe(){const t=ic(),[e,r]=j.useState(null),[n,i]=j.useState([]),[s,a]=j.useState(!0),[c,u]=j.useState(""),[o,d]=j.useState(""),[f,A]=j.useState("");j.useEffect(()=>{p()},[]);const p=async()=>{a(!0);try{const[b,w]=await Promise.all([hre(),M2()]);r(b),i(w)}catch(b){console.error("Error loading CRM data:",b)}finally{a(!1)}},g=()=>{let b=n;return c&&(b=b.filter(w=>w.tier===parseInt(c))),o&&(b=b.filter(w=>w.sport?.toLowerCase().includes(o.toLowerCase()))),f&&(b=b.filter(w=>w.stage===f)),b};if(s)return l.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:l.jsx("div",{className:"text-gray-400 text-lg",children:"Loading CRM data..."})});const y=[{name:"New",value:e.stageCounts.new,color:zy.new},{name:"Contacted",value:e.stageCounts.contacted,color:zy.contacted},{name:"Meeting",value:e.stageCounts.meeting,color:zy.meeting},{name:"Proposal",value:e.stageCounts.proposal,color:zy.proposal},{name:"Negotiating",value:e.stageCounts.negotiating,color:zy.negotiating},{name:"Signed",value:e.stageCounts.signed,color:zy.signed}],v=[{name:"Tier 1",value:e.tierCounts[1]||0,color:kB[0]},{name:"Tier 2",value:e.tierCounts[2]||0,color:kB[1]},{name:"Tier 3",value:e.tierCounts[3]||0,color:kB[2]}].filter(b=>b.value>0);return l.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 lg:px-8 py-4 sm:py-8",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4 mb-6 sm:mb-8",children:[l.jsxs("h1",{className:"text-2xl sm:text-3xl font-black text-white tracking-tight",children:[l.jsx("span",{className:"text-red-500",children:"CRM"})," DASHBOARD"]}),l.jsxs("div",{className:"flex gap-2 sm:gap-3 w-full sm:w-auto",children:[l.jsxs("button",{onClick:p,className:"bg-gray-700 hover:bg-gray-600 text-white px-3 sm:px-4 py-2 rounded-lg font-medium transition-all flex items-center justify-center gap-2 text-xs sm:text-sm flex-1 sm:flex-none",children:[l.jsx(kP,{size:16,className:"sm:w-[18px] sm:h-[18px]"}),"Refresh"]}),l.jsx("button",{onClick:()=>t("/portal/pipeline/board"),className:"bg-red-600 hover:bg-red-700 text-white px-4 sm:px-6 py-2 rounded-lg font-bold transition-all hover:scale-105 text-xs sm:text-sm flex-1 sm:flex-none whitespace-nowrap",children:"View Pipeline Board"})]})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4 mb-6 sm:mb-8",children:[l.jsxs("div",{className:"bg-[#1a1a2e] rounded-xl p-3 sm:p-5 border border-gray-800/50",children:[l.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-2 sm:mb-3",children:[l.jsx(Ub,{size:16,className:"text-gray-500 sm:w-5 sm:h-5"}),l.jsx("div",{className:"text-[9px] sm:text-[11px] font-bold text-gray-500 tracking-wider sm:tracking-widest uppercase",children:"Total Leads"})]}),l.jsx("div",{className:"text-2xl sm:text-3xl font-black text-white",children:e.totalLeads})]}),l.jsxs("div",{className:"bg-[#1a1a2e] rounded-xl p-3 sm:p-5 border border-gray-800/50",children:[l.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-2 sm:mb-3",children:[l.jsx(r2,{size:16,className:"text-pink-500 sm:w-5 sm:h-5"}),l.jsx("div",{className:"text-[9px] sm:text-[11px] font-bold text-gray-500 tracking-wider sm:tracking-widest uppercase",children:"Conversion"})]}),l.jsxs("div",{className:"text-2xl sm:text-3xl font-black text-pink-500",children:[e.conversionRate,"%"]})]}),l.jsxs("div",{className:"bg-[#1a1a2e] rounded-xl p-3 sm:p-5 border border-gray-800/50",children:[l.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-2 sm:mb-3",children:[l.jsx(pb,{size:16,className:"text-purple-500 sm:w-5 sm:h-5"}),l.jsx("div",{className:"text-[9px] sm:text-[11px] font-bold text-gray-500 tracking-wider sm:tracking-widest uppercase",children:"Meetings"})]}),l.jsx("div",{className:"text-2xl sm:text-3xl font-black text-purple-500",children:e.meetingsThisWeek})]}),l.jsxs("div",{className:"bg-[#1a1a2e] rounded-xl p-3 sm:p-5 border border-gray-800/50",children:[l.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-2 sm:mb-3",children:[l.jsx(T0,{size:16,className:"text-red-400 sm:w-5 sm:h-5"}),l.jsx("div",{className:"text-[9px] sm:text-[11px] font-bold text-gray-500 tracking-wider sm:tracking-widest uppercase",children:"Pipeline"})]}),l.jsxs("div",{className:"text-2xl sm:text-3xl font-black text-red-400",children:["$",(e.pipelineValue/1e3).toFixed(0),"K"]})]})]}),l.jsx("div",{className:"mb-6 sm:mb-8",children:l.jsx(lPe,{})}),l.jsxs("div",{className:"hidden sm:grid md:grid-cols-3 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[l.jsxs("div",{className:"md:col-span-2 bg-[#1a1a2e] rounded-xl p-4 sm:p-6 border border-gray-800/50",children:[l.jsx("h3",{className:"text-base sm:text-lg font-bold text-white mb-3 sm:mb-4",children:"Pipeline Funnel"}),l.jsx(CC,{width:"100%",height:200,children:l.jsxs(Mte,{data:y,layout:"vertical",children:[l.jsx(dM,{type:"number",stroke:"#6b7280"}),l.jsx(hM,{dataKey:"name",type:"category",stroke:"#6b7280",width:80,tick:{fontSize:12}}),l.jsx(Qx,{dataKey:"value",radius:[0,8,8,0],children:y.map((b,w)=>l.jsx(Cb,{fill:b.color},`cell-${w}`))})]})})]}),l.jsxs("div",{className:"bg-[#1a1a2e] rounded-xl p-4 sm:p-6 border border-gray-800/50",children:[l.jsx("h3",{className:"text-base sm:text-lg font-bold text-white mb-3 sm:mb-4",children:"Leads by Tier"}),l.jsx(CC,{width:"100%",height:200,children:l.jsx(fLe,{children:l.jsx(nte,{data:v,cx:"50%",cy:"50%",innerRadius:50,outerRadius:75,dataKey:"value",label:b=>`${b.name}: ${b.value}`,children:v.map((b,w)=>l.jsx(Cb,{fill:b.color},`cell-${w}`))})})})]})]}),l.jsxs("div",{className:"bg-[#1a1a2e] rounded-xl p-4 sm:p-6 border border-gray-800/50 mb-4 sm:mb-6",children:[l.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-3 sm:mb-4",children:[l.jsx($W,{size:16,className:"text-gray-500 sm:w-5 sm:h-5"}),l.jsx("h3",{className:"text-base sm:text-lg font-bold text-white",children:"Quick Filters"})]}),l.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2 sm:gap-4",children:[l.jsxs("select",{value:c,onChange:b=>u(b.target.value),className:"px-3 sm:px-4 py-2 sm:py-3 bg-[#12122a] border border-gray-800/50 rounded-lg sm:rounded-xl text-gray-300 text-sm focus:outline-none focus:ring-2 focus:ring-red-500/40",children:[l.jsx("option",{value:"",children:"All Tiers"}),l.jsx("option",{value:"1",children:"Tier 1"}),l.jsx("option",{value:"2",children:"Tier 2"}),l.jsx("option",{value:"3",children:"Tier 3"})]}),l.jsxs("select",{value:f,onChange:b=>A(b.target.value),className:"px-3 sm:px-4 py-2 sm:py-3 bg-[#12122a] border border-gray-800/50 rounded-lg sm:rounded-xl text-gray-300 text-sm focus:outline-none focus:ring-2 focus:ring-red-500/40",children:[l.jsx("option",{value:"",children:"All Statuses"}),l.jsx("option",{value:"new",children:"New"}),l.jsx("option",{value:"contacted",children:"Contacted"}),l.jsx("option",{value:"meeting",children:"Meeting Booked"}),l.jsx("option",{value:"proposal",children:"Proposal Sent"}),l.jsx("option",{value:"negotiating",children:"Negotiating"}),l.jsx("option",{value:"signed",children:"Signed"}),l.jsx("option",{value:"lost",children:"Lost"})]}),l.jsx("input",{type:"text",value:o,onChange:b=>d(b.target.value),placeholder:"Filter by sport...",className:"col-span-2 sm:col-span-1 px-3 sm:px-4 py-2 sm:py-3 bg-[#12122a] border border-gray-800/50 rounded-lg sm:rounded-xl text-white placeholder-gray-600 text-sm focus:outline-none focus:ring-2 focus:ring-red-500/40"})]}),(c||o||f)&&l.jsx("div",{className:"mt-3 sm:mt-4",children:l.jsxs("div",{className:"text-xs sm:text-sm text-gray-400",children:["Showing ",g().length," of ",e.totalLeads," leads"]})})]}),l.jsxs("div",{className:"bg-[#1a1a2e] rounded-xl p-4 sm:p-6 border border-gray-800/50 mb-4 sm:mb-6",children:[l.jsx("h3",{className:"text-base sm:text-lg font-bold text-white mb-3 sm:mb-4",children:"Recent Activity"}),e.recentActivities.length===0?l.jsx("div",{className:"text-gray-500 text-center py-6 sm:py-8 text-sm",children:"No recent activity"}):l.jsx("div",{className:"space-y-2 sm:space-y-3",children:e.recentActivities.map(b=>l.jsxs("div",{className:"flex items-start gap-3 sm:gap-4 p-3 sm:p-4 bg-[#12122a] rounded-lg border border-gray-800/50 hover:border-gray-700 transition-all",children:[l.jsx("div",{className:"flex-shrink-0 w-8 h-8 sm:w-10 sm:h-10 bg-red-600/20 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-red-400 text-base sm:text-xl",children:b.type==="Phone Call"?"":b.type==="Email"?"":b.type==="Meeting"?"":""})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[l.jsx("span",{className:"font-bold text-white text-sm sm:text-base",children:b.lead_name}),l.jsx("span",{className:"text-gray-600",children:""}),l.jsx("span",{className:"text-[10px] sm:text-xs font-bold text-gray-500 uppercase",children:b.type})]}),l.jsx("p",{className:"text-xs sm:text-sm text-gray-400 mb-1 line-clamp-2",children:b.notes}),l.jsx("div",{className:"text-[10px] sm:text-xs text-gray-600",children:new Date(b.created_at).toLocaleDateString("en-AU",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})})]})]},b.id))})]}),l.jsxs("div",{className:"bg-[#1a1a2e] rounded-xl p-4 sm:p-6 border border-gray-800/50",children:[l.jsx("h3",{className:"text-base sm:text-lg font-bold text-white mb-3 sm:mb-4",children:"Follow-up Reminders"}),l.jsxs("div",{className:"text-gray-500 text-center py-6 sm:py-8 text-sm",children:["No pending follow-ups",l.jsx("div",{className:"text-xs sm:text-sm mt-2",children:"Add activities with due dates to see reminders here"})]})]})]})}const uPe=[{id:"new",name:"New",color:"bg-gray-600",textColor:"text-gray-300"},{id:"contacted",name:"Contacted",color:"bg-blue-600",textColor:"text-blue-400"},{id:"meeting",name:"Meeting Booked",color:"bg-purple-600",textColor:"text-purple-400"},{id:"proposal",name:"Proposal Sent",color:"bg-yellow-600",textColor:"text-yellow-400"},{id:"negotiating",name:"Negotiating",color:"bg-orange-600",textColor:"text-orange-400"},{id:"signed",name:"Signed",color:"bg-green-600",textColor:"text-green-400"},{id:"lost",name:"Lost",color:"bg-red-600",textColor:"text-red-400"}];function dPe({lead:t,onDragStart:e}){const r=ic(),n=i=>i>=80?"bg-red-600 text-red-100":i>=60?"bg-orange-600 text-orange-100":"bg-gray-600 text-gray-100";return l.jsxs("div",{draggable:!0,onDragStart:e,onClick:()=>r(`/portal/pipeline/leads/${t.id}`),className:"bg-[#12122a] rounded-lg p-4 border border-gray-800/50 hover:border-gray-700 cursor-move hover:bg-[#16162e] transition-all group",children:[l.jsx("h4",{className:"font-bold text-white group-hover:text-red-400 transition-colors mb-2 line-clamp-2",children:t.org_name}),l.jsxs("div",{className:"space-y-1.5 mb-3",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[l.jsx(YW,{size:14}),l.jsx("span",{className:"truncate",children:t.sport})]}),l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[l.jsx(C0,{size:14}),l.jsx("span",{className:"truncate",children:t.location})]})]}),l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("span",{className:`px-2 py-1 rounded text-xs font-bold ${n(t.priority_score)}`,children:["Priority: ",t.priority_score]}),l.jsxs("span",{className:"text-xs font-bold text-gray-600 uppercase",children:["Tier ",t.tier]})]}),l.jsxs("div",{className:"pt-3 border-t border-gray-800/50 space-y-1",children:[l.jsxs("div",{className:"text-xs text-gray-600",children:[l.jsx("span",{className:"font-bold",children:"Last Contact:"})," ",t.last_contact?new Date(t.last_contact).toLocaleDateString("en-AU"):"Never"]}),t.revenue_potential&&l.jsx("div",{className:"text-xs text-green-400 font-medium",children:t.revenue_potential})]})]})}function hPe({column:t,leads:e,onDrop:r,onDragOver:n}){return l.jsxs("div",{onDrop:r,onDragOver:n,className:"flex flex-col min-h-[500px]",children:[l.jsx("div",{className:`${t.color} rounded-t-xl px-4 py-3 mb-3`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"font-bold text-white text-sm uppercase tracking-wider",children:t.name}),l.jsx("span",{className:"bg-white/20 px-2 py-0.5 rounded-full text-xs font-bold text-white",children:e.length})]})}),l.jsx("div",{className:"flex-1 space-y-3 px-2",children:e.length===0?l.jsx("div",{className:"text-center text-gray-600 text-sm py-8",children:"No leads"}):e.map(i=>l.jsx(dPe,{lead:i,onDragStart:s=>{s.dataTransfer.effectAllowed="move",s.dataTransfer.setData("leadId",i.id)}},i.id))})]})}function fPe(){const t=ic(),[e,r]=j.useState([]),[n,i]=j.useState({totalLeads:0,activeLeads:0,meetingsThisWeek:0,pipelineValue:0}),[s,a]=j.useState(!0);j.useEffect(()=>{c()},[]);const c=async()=>{a(!0);try{const[f,A]=await Promise.all([M2(),hre()]);r(f),i({totalLeads:A.totalLeads,activeLeads:A.activeLeads,meetingsThisWeek:A.meetingsThisWeek,pipelineValue:A.pipelineValue})}catch(f){console.error("Error loading pipeline data:",f)}finally{a(!1)}},u=async(f,A)=>{f.preventDefault();const p=f.dataTransfer.getData("leadId");if(p)try{await ure(p,{stage:A}),await c()}catch(g){console.error("Error updating lead:",g)}},o=f=>{f.preventDefault()},d=f=>e.filter(A=>A.stage===f);return s?l.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:l.jsx("div",{className:"text-gray-400 text-lg",children:"Loading pipeline..."})}):l.jsxs("div",{className:"min-h-screen bg-[#0d0d1a] pb-8",children:[l.jsx("div",{className:"bg-[#1a1a2e] border-b border-gray-800/50 mb-6",children:l.jsxs("div",{className:"max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("button",{onClick:()=>t("/portal/pipeline"),className:"text-gray-400 hover:text-white transition-colors",children:l.jsx(_0,{size:24})}),l.jsxs("h1",{className:"text-3xl font-black text-white tracking-tight",children:[l.jsx("span",{className:"text-red-500",children:"PIPELINE"})," BOARD"]})]}),l.jsxs("button",{onClick:c,className:"bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-2 text-sm",children:[l.jsx(kP,{size:18}),"Refresh"]})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"bg-[#12122a] rounded-xl p-4 border border-gray-800/50",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Ub,{size:18,className:"text-gray-500"}),l.jsx("div",{className:"text-[10px] font-bold text-gray-500 tracking-widest uppercase",children:"Total Leads"})]}),l.jsx("div",{className:"text-2xl font-black text-white",children:n.totalLeads})]}),l.jsxs("div",{className:"bg-[#12122a] rounded-xl p-4 border border-gray-800/50",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(r2,{size:18,className:"text-pink-500"}),l.jsx("div",{className:"text-[10px] font-bold text-gray-500 tracking-widest uppercase",children:"Active Pipeline"})]}),l.jsx("div",{className:"text-2xl font-black text-pink-500",children:n.activeLeads})]}),l.jsxs("div",{className:"bg-[#12122a] rounded-xl p-4 border border-gray-800/50",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Pd,{size:18,className:"text-purple-500"}),l.jsx("div",{className:"text-[10px] font-bold text-gray-500 tracking-widest uppercase",children:"Meetings This Week"})]}),l.jsx("div",{className:"text-2xl font-black text-purple-500",children:n.meetingsThisWeek})]}),l.jsxs("div",{className:"bg-[#12122a] rounded-xl p-4 border border-gray-800/50",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(T0,{size:18,className:"text-red-400"}),l.jsx("div",{className:"text-[10px] font-bold text-gray-500 tracking-widest uppercase",children:"Pipeline Value"})]}),l.jsxs("div",{className:"text-2xl font-black text-red-400",children:["$",(n.pipelineValue/1e3).toFixed(0),"K"]})]})]})]})}),l.jsx("div",{className:"max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8",children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-7 gap-4",children:uPe.map(f=>l.jsx(hPe,{column:f,leads:d(f.id),onDrop:A=>u(A,f.id),onDragOver:o},f.id))})})]})}const BB=[{value:"new",label:"New",color:"bg-gray-600"},{value:"contacted",label:"Contacted",color:"bg-blue-600"},{value:"meeting",label:"Meeting Booked",color:"bg-purple-600"},{value:"proposal",label:"Proposal Sent",color:"bg-yellow-600"},{value:"negotiating",label:"Negotiating",color:"bg-orange-600"},{value:"signed",label:"Signed",color:"bg-green-600"},{value:"lost",label:"Lost",color:"bg-red-600"}],LB=[{value:"Phone Call",icon:""},{value:"Email",icon:""},{value:"Meeting",icon:""},{value:"Note",icon:""},{value:"Follow-up",icon:""}];function APe(){const{id:t}=$m(),e=ic(),[r,n]=j.useState(null),[i,s]=j.useState([]),[a,c]=j.useState(!1),[u,o]=j.useState(null),[d,f]=j.useState(!0),[A,p]=j.useState(!1),[g,y]=j.useState(!1),[v,b]=j.useState("Phone Call"),[w,S]=j.useState(""),[_,T]=j.useState(null),[L,D]=j.useState(""),[V,G]=j.useState("");j.useEffect(()=>{t&&J()},[t]);const J=async()=>{f(!0);try{const[oe,Be]=await Promise.all([tPe(t),P1(t)]);oe&&(n(oe),o(oe),s(Be))}catch(oe){console.error("Error loading lead:",oe)}finally{f(!1)}};if(d)return l.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:l.jsx("div",{className:"text-gray-400 text-lg",children:"Loading lead..."})});if(!r)return l.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:l.jsx("div",{className:"text-gray-400 text-lg",children:"Lead not found"})});const ee=async()=>{p(!0);try{await ure(t,u),n(u),c(!1)}catch(oe){console.error("Error saving lead:",oe),alert("Error saving lead")}finally{p(!1)}},ue=async()=>{if(!w.trim()){alert("Please enter activity notes");return}try{await rK(t,{type:v,notes:w});const oe=await P1(t);s(oe),S(""),y(!1)}catch(oe){console.error("Error adding activity:",oe),alert("Error adding activity")}},pe=oe=>{T(oe.id),D(oe.type),G(oe.notes)},ge=async()=>{try{await rPe(_,{type:L,notes:V});const oe=await P1(t);s(oe),T(null)}catch(oe){console.error("Error updating activity:",oe),alert("Error updating activity")}},he=async oe=>{if(confirm("Are you sure you want to delete this activity?"))try{await nPe(oe);const Be=await P1(t);s(Be)}catch(Be){console.error("Error deleting activity:",Be),alert("Error deleting activity")}},ne=async oe=>{try{await rK(t,{type:oe,notes:`Quick ${oe.toLowerCase()} logged`});const Be=await P1(t);s(Be)}catch(Be){console.error("Error logging activity:",Be)}},Ae=BB.find(oe=>oe.value===r.stage)?.color||"bg-gray-600";return l.jsxs("div",{className:"min-h-screen bg-[#0d0d1a]",children:[l.jsx("div",{className:"bg-gradient-to-r from-[#1a1a2e] to-[#16162a] border-b border-gray-800/50",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("button",{onClick:()=>e("/portal/pipeline/board"),className:"text-gray-400 hover:text-white transition-colors",children:l.jsx(_0,{size:24})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-black text-white tracking-tight",children:r.org_name}),l.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[l.jsx("span",{className:"text-sm text-gray-400",children:r.sport}),l.jsx("span",{className:"text-gray-700",children:""}),l.jsx("span",{className:"text-sm text-gray-400",children:r.location}),l.jsx("span",{className:"text-gray-700",children:""}),l.jsx("span",{className:"text-sm text-gray-400",children:r.type})]})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:`${Ae} px-4 py-2 rounded-lg text-white text-sm font-bold uppercase`,children:BB.find(oe=>oe.value===r.stage)?.label||r.stage}),a?l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:ee,disabled:A,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-2 disabled:opacity-50",children:[l.jsx(GW,{size:16})," ",A?"Saving...":"Save"]}),l.jsxs("button",{onClick:()=>{c(!1),o(r)},className:"bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-2",children:[l.jsx(qv,{size:16})," Cancel"]})]}):l.jsxs("button",{onClick:()=>c(!0),className:"bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-2",children:[l.jsx(Y6,{size:16})," Edit"]})]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"bg-red-600/20 border border-red-500/30 px-3 py-1 rounded-full",children:l.jsxs("span",{className:"text-red-400 font-bold text-sm",children:["Priority: ",r.priority_score]})}),l.jsx("div",{className:"bg-blue-600/20 border border-blue-500/30 px-3 py-1 rounded-full",children:l.jsxs("span",{className:"text-blue-400 font-bold text-sm",children:["Tier ",r.tier]})}),l.jsx("div",{className:`${r.verification_status==="verified"?"bg-green-600/20 border-green-500/30 text-green-400":"bg-yellow-600/20 border-yellow-500/30 text-yellow-400"} border px-3 py-1 rounded-full`,children:l.jsxs("span",{className:"font-bold text-sm flex items-center gap-1",children:[l.jsx(dN,{size:14})," ",r.verification_status]})})]})]})}),l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[l.jsxs("div",{className:"bg-[#1a1a2e] rounded-xl p-6 border border-gray-800/50",children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Contact Information"}),a?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-[10px] font-bold text-gray-600 uppercase mb-1 block",children:"Email"}),l.jsx("input",{type:"email",value:u.contact?.email||"",onChange:oe=>o({...u,contact:{...u.contact,email:oe.target.value}}),className:"w-full bg-[#12122a] border border-gray-700 rounded-lg px-3 py-2 text-white text-sm focus:border-red-500 focus:outline-none",placeholder:"email@example.com"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-[10px] font-bold text-gray-600 uppercase mb-1 block",children:"Phone"}),l.jsx("input",{type:"tel",value:u.contact?.phone||"",onChange:oe=>o({...u,contact:{...u.contact,phone:oe.target.value}}),className:"w-full bg-[#12122a] border border-gray-700 rounded-lg px-3 py-2 text-white text-sm focus:border-red-500 focus:outline-none",placeholder:"0400 000 000"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-[10px] font-bold text-gray-600 uppercase mb-1 block",children:"Website"}),l.jsx("input",{type:"url",value:u.contact?.website||"",onChange:oe=>o({...u,contact:{...u.contact,website:oe.target.value}}),className:"w-full bg-[#12122a] border border-gray-700 rounded-lg px-3 py-2 text-white text-sm focus:border-red-500 focus:outline-none",placeholder:"https://example.com"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-[10px] font-bold text-gray-600 uppercase mb-1 block",children:"Instagram"}),l.jsx("input",{type:"text",value:u.contact?.instagram||"",onChange:oe=>o({...u,contact:{...u.contact,instagram:oe.target.value}}),className:"w-full bg-[#12122a] border border-gray-700 rounded-lg px-3 py-2 text-white text-sm focus:border-red-500 focus:outline-none",placeholder:"@username"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-[10px] font-bold text-gray-600 uppercase mb-1 block",children:"Facebook"}),l.jsx("input",{type:"text",value:u.contact?.facebook||"",onChange:oe=>o({...u,contact:{...u.contact,facebook:oe.target.value}}),className:"w-full bg-[#12122a] border border-gray-700 rounded-lg px-3 py-2 text-white text-sm focus:border-red-500 focus:outline-none",placeholder:"PageName"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-[10px] font-bold text-gray-600 uppercase mb-1 block",children:"Contact Form URL"}),l.jsx("input",{type:"url",value:u.contact?.contact_form||"",onChange:oe=>o({...u,contact:{...u.contact,contact_form:oe.target.value}}),className:"w-full bg-[#12122a] border border-gray-700 rounded-lg px-3 py-2 text-white text-sm focus:border-red-500 focus:outline-none",placeholder:"https://example.com/contact"})]})]}),l.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-[10px] font-bold text-gray-600 uppercase mb-1 block",children:"Decision Maker"}),l.jsx("input",{type:"text",value:u.contact?.decision_maker||"",onChange:oe=>o({...u,contact:{...u.contact,decision_maker:oe.target.value}}),className:"w-full bg-[#12122a] border border-gray-700 rounded-lg px-3 py-2 text-white text-sm focus:border-red-500 focus:outline-none",placeholder:"Name"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-[10px] font-bold text-gray-600 uppercase mb-1 block",children:"Avatar URL"}),l.jsx("input",{type:"url",value:u.contact?.avatar||"",onChange:oe=>o({...u,contact:{...u.contact,avatar:oe.target.value}}),className:"w-full bg-[#12122a] border border-gray-700 rounded-lg px-3 py-2 text-white text-sm focus:border-red-500 focus:outline-none",placeholder:"https://example.com/photo.jpg"})]})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[(r.contact?.email||a)&&l.jsxs("a",{href:`mailto:${r.contact?.email}`,className:"flex items-center gap-3 p-3 bg-[#12122a] rounded-lg border border-gray-800/50 hover:border-red-500/30 transition-all group",children:[l.jsx(af,{size:20,className:"text-gray-500 group-hover:text-red-400"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"text-[10px] font-bold text-gray-600 uppercase mb-0.5",children:"Email"}),l.jsx("div",{className:"text-sm text-gray-300 group-hover:text-red-400 truncate",children:r.contact?.email||""})]})]}),(r.contact?.phone||a)&&l.jsxs("a",{href:`tel:${r.contact?.phone}`,className:"flex items-center gap-3 p-3 bg-[#12122a] rounded-lg border border-gray-800/50 hover:border-red-500/30 transition-all group",children:[l.jsx(rC,{size:20,className:"text-gray-500 group-hover:text-red-400"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"text-[10px] font-bold text-gray-600 uppercase mb-0.5",children:"Phone"}),l.jsx("div",{className:"text-sm text-gray-300 group-hover:text-red-400",children:r.contact?.phone||""})]})]}),(r.contact?.website||a)&&l.jsxs("a",{href:r.contact?.website,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-3 bg-[#12122a] rounded-lg border border-gray-800/50 hover:border-red-500/30 transition-all group",children:[l.jsx(HW,{size:20,className:"text-gray-500 group-hover:text-red-400"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"text-[10px] font-bold text-gray-600 uppercase mb-0.5",children:"Website"}),l.jsx("div",{className:"text-sm text-gray-300 group-hover:text-red-400 truncate",children:r.contact?.website||""})]})]}),(r.contact?.instagram||a)&&l.jsxs("a",{href:`https://instagram.com/${r.contact?.instagram?.replace("@","")}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-3 bg-[#12122a] rounded-lg border border-gray-800/50 hover:border-red-500/30 transition-all group",children:[l.jsx(uN,{size:20,className:"text-gray-500 group-hover:text-red-400"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"text-[10px] font-bold text-gray-600 uppercase mb-0.5",children:"Instagram"}),l.jsx("div",{className:"text-sm text-gray-300 group-hover:text-red-400",children:r.contact?.instagram||""})]})]}),r.contact?.facebook&&l.jsxs("a",{href:`https://facebook.com/${r.contact?.facebook}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-3 bg-[#12122a] rounded-lg border border-gray-800/50 hover:border-red-500/30 transition-all group",children:[l.jsx(cN,{size:20,className:"text-gray-500 group-hover:text-red-400"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"text-[10px] font-bold text-gray-600 uppercase mb-0.5",children:"Facebook"}),l.jsx("div",{className:"text-sm text-gray-300 group-hover:text-red-400",children:r.contact?.facebook||""})]})]}),r.contact?.linkedin&&l.jsxs("a",{href:`https://linkedin.com/in/${r.contact?.linkedin}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-3 bg-[#12122a] rounded-lg border border-gray-800/50 hover:border-red-500/30 transition-all group",children:[l.jsx(ide,{size:20,className:"text-gray-500 group-hover:text-red-400"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"text-[10px] font-bold text-gray-600 uppercase mb-0.5",children:"LinkedIn"}),l.jsx("div",{className:"text-sm text-gray-300 group-hover:text-red-400 truncate",children:r.contact?.linkedin||""})]})]}),r.contact?.decision_maker_instagram&&l.jsxs("a",{href:`https://instagram.com/${r.contact?.decision_maker_instagram?.replace("@","")}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-3 bg-[#12122a] rounded-lg border border-gray-800/50 hover:border-red-500/30 transition-all group",children:[l.jsx(Yv,{size:20,className:"text-gray-500 group-hover:text-red-400"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"text-[10px] font-bold text-gray-600 uppercase mb-0.5",children:"Decision Maker IG"}),l.jsx("div",{className:"text-sm text-gray-300 group-hover:text-red-400",children:r.contact?.decision_maker_instagram||""})]})]})]}),(r.contact?.decision_maker||a)&&l.jsxs("div",{className:"mt-4 p-3 bg-[#12122a] rounded-lg border border-gray-800/50",children:[l.jsx("div",{className:"text-[10px] font-bold text-gray-600 uppercase mb-1",children:"Decision Maker"}),l.jsxs("div",{className:"flex items-center gap-3",children:[r.contact?.avatar&&l.jsx("img",{src:r.contact.avatar,alt:r.contact.decision_maker,className:"w-12 h-12 rounded-full object-cover border-2 border-gray-700"}),l.jsx("div",{className:"text-white font-bold",children:r.contact?.decision_maker||""})]})]})]})]}),l.jsxs("div",{className:"bg-[#1a1a2e] rounded-xl p-6 border border-gray-800/50",children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Event Information"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(Pd,{size:20,className:"text-gray-500 mt-0.5"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-[10px] font-bold text-gray-600 uppercase mb-1",children:"Frequency"}),l.jsx("div",{className:"text-gray-300",children:r.events?.frequency||"Not specified"})]})]}),r.events?.upcoming?.length>0&&l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(YW,{size:20,className:"text-gray-500 mt-0.5"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-[10px] font-bold text-gray-600 uppercase mb-1",children:"Upcoming Events"}),l.jsx("div",{className:"text-gray-300 space-y-1",children:r.events.upcoming.map((oe,Be)=>l.jsx("div",{children:oe},Be))})]})]}),l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(C0,{size:20,className:"text-gray-500 mt-0.5"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-[10px] font-bold text-gray-600 uppercase mb-1",children:"Typical Venue"}),l.jsx("div",{className:"text-gray-300",children:r.events?.typical_venue||"Not specified"})]})]})]})]}),l.jsxs("div",{className:"bg-[#1a1a2e] rounded-xl p-6 border border-gray-800/50",children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Media & Revenue Assessment"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-[10px] font-bold text-gray-600 uppercase mb-2",children:"Media Quality"}),l.jsx("div",{className:"text-gray-300 text-sm",children:r.media_quality||"Not assessed"})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(T0,{size:20,className:"text-green-500"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-[10px] font-bold text-gray-600 uppercase mb-1",children:"Revenue Potential"}),l.jsx("div",{className:"text-green-400 font-bold",children:r.revenue_potential||"TBD"})]})]})]})]}),l.jsxs("div",{className:"bg-[#1a1a2e] rounded-xl p-6 border border-gray-800/50",children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Internal Notes"}),a?l.jsx("textarea",{value:u.notes||"",onChange:oe=>o({...u,notes:oe.target.value}),rows:4,className:"w-full px-4 py-3 bg-[#12122a] border border-gray-800/50 rounded-xl text-white placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-red-500/40"}):l.jsx("div",{className:"text-gray-300 text-sm whitespace-pre-wrap",children:r.notes||"No notes"})]}),l.jsxs("div",{className:"bg-[#1a1a2e] rounded-xl p-6 border border-gray-800/50",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-bold text-white",children:"Activity Timeline"}),l.jsxs("button",{onClick:()=>y(!g),className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-2 text-sm",children:[l.jsx(gb,{size:16})," Add Activity"]})]}),g&&l.jsx("div",{className:"mb-6 p-4 bg-[#12122a] rounded-lg border border-gray-800/50",children:l.jsxs("div",{className:"grid gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"Activity Type"}),l.jsx("select",{value:v,onChange:oe=>b(oe.target.value),className:"w-full px-4 py-3 bg-[#1a1a2e] border border-gray-800/50 rounded-xl text-gray-300 focus:outline-none focus:ring-2 focus:ring-red-500/40",children:LB.map(oe=>l.jsxs("option",{value:oe.value,children:[oe.icon," ",oe.value]},oe.value))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"Notes"}),l.jsx("textarea",{value:w,onChange:oe=>S(oe.target.value),rows:3,placeholder:"What happened?",className:"w-full px-4 py-3 bg-[#1a1a2e] border border-gray-800/50 rounded-xl text-white placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-red-500/40"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:ue,className:"flex-1 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg font-medium transition-all",children:"Add Activity"}),l.jsx("button",{onClick:()=>y(!1),className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-gray-300 rounded-lg font-medium transition-all",children:"Cancel"})]})]})}),i.length===0?l.jsx("div",{className:"text-center text-gray-500 py-8",children:"No activities yet. Add your first activity above."}):l.jsx("div",{className:"space-y-3",children:i.map(oe=>{const Be=LB.find(ve=>ve.value===oe.type),ke=_===oe.id;return l.jsxs("div",{className:"flex items-start gap-4 p-4 bg-[#12122a] rounded-lg border border-gray-800/50",children:[l.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-red-600/20 rounded-full flex items-center justify-center text-xl",children:Be?.icon||""}),l.jsx("div",{className:"flex-1 min-w-0",children:ke?l.jsxs("div",{className:"space-y-3",children:[l.jsx("select",{value:L,onChange:ve=>D(ve.target.value),className:"w-full px-3 py-2 bg-[#1a1a2e] border border-gray-700 rounded-lg text-gray-300 text-sm focus:outline-none focus:ring-2 focus:ring-red-500/40",children:LB.map(ve=>l.jsxs("option",{value:ve.value,children:[ve.icon," ",ve.value]},ve.value))}),l.jsx("textarea",{value:V,onChange:ve=>G(ve.target.value),rows:3,className:"w-full px-3 py-2 bg-[#1a1a2e] border border-gray-700 rounded-lg text-white text-sm focus:outline-none focus:ring-2 focus:ring-red-500/40"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:ge,className:"px-3 py-1 bg-green-600 hover:bg-green-700 text-white rounded text-sm",children:"Save"}),l.jsx("button",{onClick:()=>T(null),className:"px-3 py-1 bg-gray-600 hover:bg-gray-700 text-white rounded text-sm",children:"Cancel"})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase",children:oe.type}),l.jsx("span",{className:"text-gray-700",children:""}),l.jsx("span",{className:"text-xs text-gray-600",children:new Date(oe.created_at).toLocaleDateString("en-AU",{day:"numeric",month:"short",year:"numeric"})})]}),l.jsxs("div",{className:"flex gap-1",children:[l.jsx("button",{onClick:()=>pe(oe),className:"p-1 text-gray-500 hover:text-blue-400 transition-colors",title:"Edit",children:l.jsx(Y6,{size:14})}),l.jsx("button",{onClick:()=>he(oe.id),className:"p-1 text-gray-500 hover:text-red-400 transition-colors",title:"Delete",children:l.jsx(qv,{size:14})})]})]}),l.jsx("p",{className:"text-sm text-gray-300",children:oe.notes})]})})]},oe.id)})})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-[#1a1a2e] rounded-xl p-6 border border-gray-800/50",children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Quick Actions"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("button",{onClick:()=>ne("Phone Call"),className:"w-full bg-blue-600 hover:bg-blue-700 text-white px-4 py-3 rounded-lg font-medium transition-all flex items-center justify-center gap-2",children:[l.jsx(rC,{size:18})," Log Call"]}),l.jsxs("button",{onClick:()=>e("/portal/outreach"),className:"w-full bg-purple-600 hover:bg-purple-700 text-white px-4 py-3 rounded-lg font-medium transition-all flex items-center justify-center gap-2",children:[l.jsx(af,{size:18})," Send Email"]}),l.jsxs("button",{onClick:()=>ne("Meeting"),className:"w-full bg-green-600 hover:bg-green-700 text-white px-4 py-3 rounded-lg font-medium transition-all flex items-center justify-center gap-2",children:[l.jsx(Pd,{size:18})," Schedule Meeting"]}),l.jsxs("button",{onClick:()=>y(!0),className:"w-full bg-gray-700 hover:bg-gray-600 text-white px-4 py-3 rounded-lg font-medium transition-all flex items-center justify-center gap-2",children:[l.jsx(gb,{size:18})," Add Note"]})]})]}),a&&l.jsxs("div",{className:"bg-[#1a1a2e] rounded-xl p-6 border border-gray-800/50",children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Change Stage"}),l.jsx("select",{value:u.stage,onChange:oe=>o({...u,stage:oe.target.value}),className:"w-full px-4 py-3 bg-[#12122a] border border-gray-800/50 rounded-xl text-gray-300 focus:outline-none focus:ring-2 focus:ring-red-500/40",children:BB.map(oe=>l.jsx("option",{value:oe.value,children:oe.label},oe.value))})]}),l.jsxs("div",{className:"bg-[#1a1a2e] rounded-xl p-6 border border-gray-800/50",children:[l.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[l.jsx(Lde,{size:18})," Tags"]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:r.tags?.map((oe,Be)=>l.jsx("span",{className:"px-3 py-1 bg-gray-700 text-gray-300 rounded-full text-xs font-medium",children:oe},Be))})]})]})]})})]})}function mPe(){const[t]=j.useState(iPe()),[e,r]=j.useState(t[0]),[n,i]=j.useState(null),[s,a]=j.useState([]),[c,u]=j.useState(null),[o,d]=j.useState(!1),[f,A]=j.useState(!0),p=j.useRef(null);j.useEffect(()=>{(async()=>{A(!0);const b=await M2();a(b),A(!1)})()},[]),j.useEffect(()=>{if(e&&n){const v=sPe(e.id,n);u(v)}else u(null)},[e,n]);const g=async()=>{const v=c?`Subject: ${c.subject}

${c.body}`:"";if(navigator.clipboard&&window.isSecureContext)try{await navigator.clipboard.writeText(v),d(!0),setTimeout(()=>d(!1),2e3);return}catch{console.log("Clipboard API failed, falling back to textarea method")}if(p.current){p.current.value=v,p.current.style.display="block",p.current.select(),p.current.setSelectionRange(0,99999);try{document.execCommand("copy"),d(!0),setTimeout(()=>d(!1),2e3)}catch{alert("Copy failed. Please select and copy manually.")}p.current.style.display="none"}},y=()=>{if(!c||!n?.contact?.email){alert("No email address available for this lead");return}const v=encodeURIComponent(c.subject),b=encodeURIComponent(c.body),w=`mailto:${n.contact.email}?subject=${v}&body=${b}`;window.location.href=w};return l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsx("textarea",{ref:p,style:{position:"absolute",left:"-9999px",display:"none"},readOnly:!0}),l.jsxs("div",{className:"mb-8",children:[l.jsxs("h1",{className:"text-3xl font-black text-white tracking-tight mb-2",children:[l.jsx("span",{className:"text-red-500",children:"OUTREACH"})," TEMPLATES"]}),l.jsx("p",{className:"text-gray-400",children:"Pre-built email templates for sales outreach"})]}),l.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[l.jsxs("div",{className:"bg-[#1a1a2e] rounded-xl p-6 border border-gray-800/50",children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Templates"}),l.jsx("div",{className:"space-y-2",children:t.map(v=>l.jsx("button",{onClick:()=>r(v),className:`w-full text-left px-4 py-3 rounded-lg font-medium transition-all ${e?.id===v.id?"bg-red-600 text-white":"bg-[#12122a] text-gray-300 hover:bg-[#16162e]"}`,children:v.name},v.id))})]}),l.jsxs("div",{className:"bg-[#1a1a2e] rounded-xl p-6 border border-gray-800/50",children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Select Lead"}),l.jsxs("select",{value:n?.id||"",onChange:v=>{const b=s.find(w=>w.id===v.target.value);i(b)},className:"w-full px-4 py-3 bg-[#12122a] border border-gray-800/50 rounded-xl text-gray-300 focus:outline-none focus:ring-2 focus:ring-red-500/40",children:[l.jsx("option",{value:"",children:"-- Select a lead --"}),s.filter(v=>v.stage!=="lost"&&v.verification_status!=="do_not_contact").map(v=>l.jsx("option",{value:v.id,children:v.org_name},v.id))]}),n&&l.jsxs("div",{className:"mt-4 p-3 bg-[#12122a] rounded-lg border border-gray-800/50",children:[l.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Selected Lead"}),l.jsx("div",{className:"text-white font-bold mb-1",children:n.org_name}),l.jsx("div",{className:"text-sm text-gray-400",children:n.sport}),l.jsx("div",{className:"text-sm text-gray-400",children:n.location}),n.contact.email&&l.jsxs("div",{className:"text-sm text-green-400 mt-2 flex items-center gap-1",children:[l.jsx(af,{size:14})," ",n.contact.email]})]})]})]}),l.jsxs("div",{className:"lg:col-span-2",children:[l.jsxs("div",{className:"bg-[#1a1a2e] rounded-xl p-6 border border-gray-800/50",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-lg font-bold text-white",children:"Preview"}),c&&l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:g,className:`${o?"bg-green-600":"bg-gray-700 hover:bg-gray-600"} text-white px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-2`,children:o?l.jsxs(l.Fragment,{children:[l.jsx(bo,{size:16})," Copied!"]}):l.jsxs(l.Fragment,{children:[l.jsx(Lue,{size:16})," Copy to Clipboard"]})}),l.jsxs("button",{onClick:y,className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-2",children:[l.jsx(af,{size:16})," Open in Email"]})]})]}),c?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"Subject Line"}),l.jsx("div",{className:"px-4 py-3 bg-[#12122a] border border-gray-800/50 rounded-xl text-white font-medium",children:c.subject})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"Email Body"}),l.jsx("div",{className:"px-4 py-4 bg-[#12122a] border border-gray-800/50 rounded-xl text-gray-300 whitespace-pre-wrap font-mono text-sm leading-relaxed min-h-[400px]",children:c.body})]}),l.jsxs("div",{className:"p-4 bg-blue-600/10 border border-blue-500/20 rounded-lg",children:[l.jsx("div",{className:"text-xs font-bold text-blue-400 uppercase mb-2",children:"Available Variables"}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-blue-300",children:[l.jsx("div",{children:l.jsx("code",{className:"bg-blue-900/30 px-2 py-1 rounded",children:"{{org_name}}"})}),l.jsx("div",{children:l.jsx("code",{className:"bg-blue-900/30 px-2 py-1 rounded",children:"{{decision_maker}}"})}),l.jsx("div",{children:l.jsx("code",{className:"bg-blue-900/30 px-2 py-1 rounded",children:"{{sport}}"})}),l.jsx("div",{children:l.jsx("code",{className:"bg-blue-900/30 px-2 py-1 rounded",children:"{{upcoming_event}}"})})]})]})]}):l.jsxs("div",{className:"text-center text-gray-500 py-12",children:[l.jsx(af,{size:48,className:"mx-auto mb-4 opacity-50"}),l.jsx("p",{children:"Select a template and lead to preview"})]})]}),l.jsxs("div",{className:"mt-4 p-4 bg-green-600/10 border border-green-500/20 rounded-lg",children:[l.jsx("div",{className:"text-xs font-bold text-green-400 uppercase mb-1",children:" Templates Ready"}),l.jsx("div",{className:"text-sm text-green-300",children:"All email templates are pre-configured with FFM branding. Select a lead and template to preview, then copy or open in your email client."})]})]})]}),l.jsxs("div",{className:"mt-8 bg-[#1a1a2e] rounded-xl p-6 border border-gray-800/50",children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Outreach Strategy Guide"}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-6 text-sm",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-red-400 mb-2",children:"Cold Outreach (First Contact)"}),l.jsxs("ul",{className:"space-y-1 text-gray-400",children:[l.jsx("li",{children:" Keep it short and personal"}),l.jsx("li",{children:" Lead with value, not features"}),l.jsx("li",{children:" Mention specific details about their organization"}),l.jsx("li",{children:" End with a clear, low-pressure CTA"})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-red-400 mb-2",children:"Follow-up #1 (3-5 days later)"}),l.jsxs("ul",{className:"space-y-1 text-gray-400",children:[l.jsx("li",{children:" Acknowledge they're busy"}),l.jsx("li",{children:" Share a relevant work example"}),l.jsx("li",{children:" Reiterate availability"}),l.jsx("li",{children:" Keep it brief"})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-red-400 mb-2",children:"Meeting Request (After engagement)"}),l.jsxs("ul",{className:"space-y-1 text-gray-400",children:[l.jsx("li",{children:" Be specific about what you'll cover"}),l.jsx("li",{children:" Show you've researched them"}),l.jsx("li",{children:" Offer flexible scheduling"}),l.jsx("li",{children:" Include calendar link if available"})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-red-400 mb-2",children:"Post-Meeting (Same day)"}),l.jsxs("ul",{className:"space-y-1 text-gray-400",children:[l.jsx("li",{children:" Send within 2 hours of meeting"}),l.jsx("li",{children:" Recap what was discussed"}),l.jsx("li",{children:" Outline next steps clearly"}),l.jsx("li",{children:" Attach proposal or contract"})]})]})]})]})]})}const RB=[{id:"branding",category:"Branding & Assets",icon:"",items:[{id:"logo",label:"High-resolution logo",type:"file",priority:"essential"},{id:"brand_kit",label:"Brand kit (colors, fonts, guidelines)",type:"file",priority:"important"},{id:"event_graphics",label:"Event-specific graphics/banners",type:"file",priority:"important"},{id:"sponsor_logos",label:"Sponsor logos for on-screen display",type:"file",priority:"nice"}]},{id:"athletes",category:"Athlete Information",icon:"",items:[{id:"registration_list",label:"Registration list (Name, Email, Phone, Instagram)",type:"file",priority:"essential"},{id:"notable_athletes",label:"Notable athletes to feature",type:"textarea",priority:"important"}]},{id:"venue",category:"Venue & Technical",icon:"",items:[{id:"floor_plan",label:"Venue floor plan (mat layout)",type:"file",priority:"essential"},{id:"internet_specs",label:"Internet specs (upload speed, hardwired access)",type:"textarea",priority:"essential"},{id:"power_locations",label:"Power outlet locations",type:"textarea",priority:"important"},{id:"load_in_time",label:"Load-in/crew access time",type:"text",priority:"important"},{id:"venue_contact",label:"Venue contact for event day",type:"contact",priority:"important"}]},{id:"event",category:"Event Operations",icon:"",items:[{id:"mat_count",label:"Number of mats running",type:"number",priority:"essential"},{id:"schedule",label:"Event schedule/run sheet",type:"file",priority:"essential"},{id:"bracket_system",label:"Bracket/scoring system used",type:"text",priority:"important"},{id:"match_comms_method",label:"How match order will be communicated",type:"textarea",priority:"important"}]},{id:"social",category:"Social & Promotion",icon:"",items:[{id:"org_instagram",label:"Organization Instagram",type:"text",priority:"important"},{id:"org_facebook",label:"Organization Facebook",type:"text",priority:"nice"},{id:"org_website",label:"Organization Website",type:"text",priority:"nice"},{id:"existing_content",label:"Existing footage/photos for promos",type:"file",priority:"nice"},{id:"existing_content_links",label:"Links to existing footage (Google Drive, Dropbox, etc.)",type:"textarea",priority:"nice"}]}];function pPe({session:t,onClose:e,onSave:r}){const[n,i]=j.useState("checklist"),[s,a]=j.useState(!1),[c,u]=j.useState({}),[o,d]=j.useState({}),[f,A]=j.useState({}),[p,g]=j.useState({});j.useEffect(()=>{if(!t)return;const D={};RB.forEach(V=>{D[V.id]={},V.items.forEach(G=>{const J=t.checklist_config?.[V.id]?.[G.id]||{};D[V.id][G.id]={enabled:J.enabled!==!1,priority:J.priority||G.priority,alreadyHave:J.alreadyHave||!1}})}),u(D),d(t.collected_data||{}),A(t.admin_item_notes||{}),g(t.manual_completions||{})},[t]);const y=(D,V)=>{u(G=>({...G,[D]:{...G[D],[V]:{...G[D][V],enabled:!G[D][V].enabled}}}))},v=(D,V)=>{u(G=>({...G,[D]:{...G[D],[V]:{...G[D][V],alreadyHave:!G[D][V].alreadyHave}}}))},b=(D,V,G)=>{u(J=>({...J,[D]:{...J[D],[V]:{...J[D][V],priority:G}}}))},w=(D,V,G)=>{A(J=>({...J,[`${D}.${V}`]:G}))},S=(D,V)=>{const G=`${D}.${V}`;g(J=>({...J,[G]:!J[G]}))},_=(D,V,G)=>{d(J=>({...J,[D]:{...J[D]||{},[V]:G}}))},T=async()=>{a(!0);try{const D={checklist_config:c,collected_data:o,admin_item_notes:f,manual_completions:p};await vOe(t.id,D),r&&r(D),e()}catch(D){console.error("Error saving:",D),alert("Failed to save changes: "+D.message)}finally{a(!1)}},L=(D,V)=>{const G=o[D]||{},J=G[V]||G[`${V}_url`],ee=p[`${D}.${V}`],ue=c[D]?.[V]?.alreadyHave;return ee?{status:"manual",label:"Manually Complete",color:"blue"}:J?{status:"complete",label:"Client Provided",color:"green"}:ue?{status:"already",label:"Already Have",color:"purple"}:{status:"pending",label:"Pending",color:"gray"}};return t?l.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4 overflow-y-auto",onClick:e,children:l.jsxs("div",{className:"bg-gray-800 rounded-2xl w-full max-w-5xl my-8 border border-gray-700 shadow-2xl",onClick:D=>D.stopPropagation(),children:[l.jsxs("div",{className:"p-6 border-b border-gray-700 flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold mb-2 text-white",children:"Edit Session"}),l.jsx("p",{className:"text-gray-400",children:t.org_name})]}),l.jsx("button",{onClick:e,className:"text-gray-500 hover:text-white text-xl",children:""})]}),l.jsx("div",{className:"border-b border-gray-700",children:l.jsx("div",{className:"flex gap-1 px-6",children:[{id:"checklist",label:"Checklist Config",icon:""},{id:"data",label:"Collected Data",icon:""}].map(D=>l.jsxs("button",{onClick:()=>i(D.id),className:`flex items-center gap-2 px-4 py-3 font-medium transition-colors border-b-2 ${n===D.id?"border-orange-500 text-white":"border-transparent text-gray-500 hover:text-white"}`,children:[l.jsx("span",{children:D.icon})," ",D.label]},D.id))})}),l.jsxs("div",{className:"p-6 max-h-[600px] overflow-y-auto",children:[n==="checklist"&&l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4",children:l.jsxs("p",{className:"text-blue-200 text-sm",children:[l.jsx("strong",{children:" What this does:"}),' Configure what items the client sees, set priorities, mark items as "already have", and add internal notes for your team.']})}),RB.map(D=>l.jsxs("div",{className:"bg-gray-900/50 rounded-lg border border-gray-700",children:[l.jsx("div",{className:"px-4 py-3 border-b border-gray-700 bg-gray-800/50",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-2xl",children:D.icon}),l.jsx("h3",{className:"font-bold text-white",children:D.category})]})}),l.jsx("div",{className:"p-4 space-y-4",children:D.items.map(V=>{const G=c[D.id]?.[V.id]||{},J=L(D.id,V.id),ee=f[`${D.id}.${V.id}`]||"";return l.jsx("div",{className:`p-4 rounded-lg border transition-all ${G.enabled?"bg-gray-800/50 border-gray-700":"bg-gray-900/30 border-gray-800 opacity-60"}`,children:l.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[l.jsx("button",{onClick:()=>y(D.id,V.id),className:`flex-shrink-0 w-6 h-6 rounded border-2 flex items-center justify-center transition-colors ${G.enabled?"bg-orange-500 border-orange-500":"bg-transparent border-gray-600"}`,children:G.enabled&&l.jsx("span",{className:"text-white text-sm",children:""})}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:`font-medium ${G.enabled?"text-white":"text-gray-500"}`,children:V.label}),l.jsx("span",{className:`text-xs px-2 py-1 rounded-full bg-${J.color}-500/20 text-${J.color}-400 border border-${J.color}-500/30`,children:J.label})]}),G.enabled&&l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsxs("select",{value:G.priority,onChange:ue=>b(D.id,V.id,ue.target.value),className:"text-xs bg-gray-900 border border-gray-700 rounded px-2 py-1 text-white focus:outline-none focus:border-orange-500",children:[l.jsx("option",{value:"essential",children:"Essential"}),l.jsx("option",{value:"important",children:"Important"}),l.jsx("option",{value:"nice",children:"Nice to have"})]}),l.jsx("button",{onClick:()=>v(D.id,V.id),className:`text-xs px-3 py-1 rounded border transition-colors ${G.alreadyHave?"bg-purple-500/20 text-purple-400 border-purple-500/30":"bg-gray-900 text-gray-400 border-gray-700"}`,children:G.alreadyHave?" Already Have":'Mark "Already Have"'}),l.jsx("button",{onClick:()=>S(D.id,V.id),className:`text-xs px-3 py-1 rounded border transition-colors ${p[`${D.id}.${V.id}`]?"bg-blue-500/20 text-blue-400 border-blue-500/30":"bg-gray-900 text-gray-400 border-gray-700"}`,children:p[`${D.id}.${V.id}`]?" Manually Complete":"Mark Complete"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Internal Note (not visible to client)"}),l.jsx("textarea",{value:ee,onChange:ue=>w(D.id,V.id,ue.target.value),placeholder:"e.g., Client sent logo via email - see Drive folder",rows:2,className:"w-full text-sm bg-gray-900 border border-gray-700 rounded px-3 py-2 text-white placeholder-gray-600 focus:outline-none focus:border-orange-500 resize-none"})]})]})]})]})},V.id)})})]},D.id))]}),n==="data"&&l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-4",children:l.jsxs("p",{className:"text-yellow-200 text-sm",children:[l.jsx("strong",{children:" Caution:"})," You're editing data the client submitted. Only modify if you need to correct errors or add information on their behalf."]})}),RB.map(D=>{const V=o[D.id]||{};return l.jsxs("div",{className:"bg-gray-900/50 rounded-lg border border-gray-700",children:[l.jsx("div",{className:"px-4 py-3 border-b border-gray-700 bg-gray-800/50",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-2xl",children:D.icon}),l.jsx("h3",{className:"font-bold text-white",children:D.category})]})}),l.jsx("div",{className:"p-4 space-y-4",children:D.items.filter(G=>c[D.id]?.[G.id]?.enabled!==!1).map(G=>{const J=V[G.id]||"",ee=V[`${G.id}_url`]||"";return l.jsxs("div",{className:"p-3 rounded-lg bg-gray-800/50 border border-gray-700",children:[l.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:G.label}),G.type==="file"&&l.jsxs("div",{children:[l.jsx("input",{type:"text",value:ee,onChange:ue=>_(D.id,`${G.id}_url`,ue.target.value),placeholder:"File URL (if uploaded)",className:"w-full text-sm bg-gray-900 border border-gray-700 rounded px-3 py-2 text-white placeholder-gray-600 focus:outline-none focus:border-orange-500"}),ee&&l.jsx("a",{href:ee,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-orange-500 hover:underline mt-1 inline-block",children:"View uploaded file "})]}),G.type==="text"&&l.jsx("input",{type:"text",value:J,onChange:ue=>_(D.id,G.id,ue.target.value),placeholder:G.placeholder||"",className:"w-full text-sm bg-gray-900 border border-gray-700 rounded px-3 py-2 text-white placeholder-gray-600 focus:outline-none focus:border-orange-500"}),G.type==="number"&&l.jsx("input",{type:"number",value:J,onChange:ue=>_(D.id,G.id,ue.target.value),placeholder:G.placeholder||"",className:"w-full text-sm bg-gray-900 border border-gray-700 rounded px-3 py-2 text-white placeholder-gray-600 focus:outline-none focus:border-orange-500"}),G.type==="textarea"&&l.jsx("textarea",{value:J,onChange:ue=>_(D.id,G.id,ue.target.value),placeholder:G.placeholder||"",rows:3,className:"w-full text-sm bg-gray-900 border border-gray-700 rounded px-3 py-2 text-white placeholder-gray-600 focus:outline-none focus:border-orange-500 resize-none"}),G.type==="contact"&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("input",{type:"text",value:V[`${G.id}_name`]||"",onChange:ue=>_(D.id,`${G.id}_name`,ue.target.value),placeholder:"Contact name",className:"w-full text-sm bg-gray-900 border border-gray-700 rounded px-3 py-2 text-white placeholder-gray-600 focus:outline-none focus:border-orange-500"}),l.jsx("input",{type:"tel",value:V[`${G.id}_phone`]||"",onChange:ue=>_(D.id,`${G.id}_phone`,ue.target.value),placeholder:"Phone number",className:"w-full text-sm bg-gray-900 border border-gray-700 rounded px-3 py-2 text-white placeholder-gray-600 focus:outline-none focus:border-orange-500"}),l.jsx("input",{type:"email",value:V[`${G.id}_email`]||"",onChange:ue=>_(D.id,`${G.id}_email`,ue.target.value),placeholder:"Email address",className:"w-full text-sm bg-gray-900 border border-gray-700 rounded px-3 py-2 text-white placeholder-gray-600 focus:outline-none focus:border-orange-500"})]})]},G.id)})})]},D.id)})]})]}),l.jsxs("div",{className:"p-6 border-t border-gray-700 flex justify-end gap-3",children:[l.jsx("button",{onClick:e,className:"px-6 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:"Cancel"}),l.jsx("button",{onClick:T,disabled:s,className:"px-6 py-2 bg-orange-500 hover:bg-orange-600 disabled:bg-gray-600 text-white rounded-lg transition-colors flex items-center gap-2",children:s?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full"}),"Saving..."]}):l.jsx(l.Fragment,{children:" Save Changes"})})]})]})}):null}const nK=[{id:"branding",category:"Branding & Assets",icon:"",items:[{id:"logo",label:"High-resolution logo",type:"file"},{id:"brand_kit",label:"Brand kit (colors, fonts, guidelines)",type:"file"},{id:"event_graphics",label:"Event-specific graphics/banners",type:"file"},{id:"sponsor_logos",label:"Sponsor logos for on-screen display",type:"file"}]},{id:"athletes",category:"Athlete Information",icon:"",items:[{id:"registration_list",label:"Registration list",type:"file"},{id:"notable_athletes",label:"Notable athletes to feature",type:"textarea"}]},{id:"venue",category:"Venue & Technical",icon:"",items:[{id:"floor_plan",label:"Venue floor plan",type:"file"},{id:"internet_specs",label:"Internet specs",type:"textarea"},{id:"power_locations",label:"Power outlet locations",type:"textarea"},{id:"load_in_time",label:"Load-in/crew access time",type:"text"},{id:"venue_contact",label:"Venue contact for event day",type:"contact"}]},{id:"event",category:"Event Operations",icon:"",items:[{id:"mat_count",label:"Number of mats running",type:"number"},{id:"schedule",label:"Event schedule/run sheet",type:"file"},{id:"bracket_system",label:"Bracket/scoring system used",type:"text"},{id:"match_comms_method",label:"How match order will be communicated",type:"textarea"}]},{id:"social",category:"Social & Promotion",icon:"",items:[{id:"org_instagram",label:"Organization Instagram",type:"text"},{id:"org_facebook",label:"Organization Facebook",type:"text"},{id:"org_website",label:"Organization Website",type:"text"},{id:"existing_content",label:"Existing footage/photos for promos",type:"file"},{id:"existing_content_links",label:"Links to existing footage",type:"textarea"}]}],gPe=t=>{if(!t)return{icon:z6,type:"file",isImage:!1};const e=t.toLowerCase();return e.match(/\.(jpg|jpeg|png|gif|webp|svg|bmp)(\?|$)/i)?{icon:f0,type:"image",isImage:!0}:e.match(/\.(mp4|mov|avi|webm|mkv)(\?|$)/i)?{icon:IP,type:"video",isImage:!1}:e.match(/\.(mp3|wav|aac|ogg|m4a)(\?|$)/i)?{icon:hde,type:"audio",isImage:!1}:e.match(/\.(pdf|doc|docx|xls|xlsx|ppt|pptx|txt|csv)(\?|$)/i)?{icon:NP,type:"document",isImage:!1}:e.match(/\.(zip|rar|7z|tar|gz)(\?|$)/i)?{icon:lue,type:"archive",isImage:!1}:{icon:z6,type:"file",isImage:!1}},vPe=t=>{if(!t)return"File";try{const n=new URL(t).pathname.split("/").pop(),i=decodeURIComponent(n);return i.length>40?i.substring(0,37)+"...":i}catch{return"File"}};function yPe({url:t,label:e}){const{icon:r,type:n,isImage:i}=gPe(t),s=vPe(t);return l.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"group block",children:l.jsxs("div",{className:"border border-gray-700 rounded-xl overflow-hidden hover:border-orange-500/50 transition-all",children:[l.jsxs("div",{className:"bg-gray-900 aspect-video flex items-center justify-center relative overflow-hidden",children:[i?l.jsx("img",{src:t,alt:e,className:"w-full h-full object-cover group-hover:scale-105 transition-transform",onError:a=>{a.target.style.display="none",a.target.nextSibling.style.display="flex"}}):null,l.jsxs("div",{className:`flex flex-col items-center justify-center text-gray-500 ${i?"hidden":""}`,style:i?{display:"none"}:{},children:[l.jsx(r,{size:48,className:"mb-2"}),l.jsx("span",{className:"text-xs uppercase tracking-wide",children:n})]}),l.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-3",children:l.jsx("div",{className:"bg-orange-500 text-white p-2 rounded-full",children:l.jsx(tC,{size:20})})})]}),l.jsxs("div",{className:"p-3 bg-gray-800",children:[l.jsx("p",{className:"text-sm text-white truncate",children:s}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e})]})]})})}function xPe({value:t,isUrl:e}){return t?Array.isArray(t)?t.length===0?l.jsx("span",{className:"text-gray-500 italic",children:"No links provided"}):l.jsx("div",{className:"space-y-1",children:t.map((r,n)=>l.jsxs("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 break-all flex items-center gap-1 block",children:[" ",r.includes("drive.google")?"Google Drive":r.includes("dropbox")?"Dropbox":"External"," link",l.jsx(tC,{size:14})]},n))}):e||t.startsWith("http://")||t.startsWith("https://")?l.jsxs("a",{href:t.startsWith("http")?t:`https://${t}`,target:"_blank",rel:"noopener noreferrer",className:"text-orange-500 hover:text-orange-400 break-all flex items-center gap-1",children:[t,l.jsx(tC,{size:14})]}):t.includes(`
`)?l.jsx("p",{className:"text-white whitespace-pre-wrap",children:t}):l.jsx("span",{className:"text-white",children:t}):l.jsx("span",{className:"text-gray-500 italic",children:"Not provided"})}function bPe({data:t,itemId:e}){const r=t[`${e}_name`],n=t[`${e}_phone`],i=t[`${e}_email`];return!r&&!n&&!i?l.jsx("span",{className:"text-gray-500 italic",children:"Not provided"}):l.jsxs("div",{className:"space-y-1",children:[r&&l.jsx("p",{className:"text-white font-medium",children:r}),n&&l.jsxs("a",{href:`tel:${n}`,className:"text-orange-500 hover:text-orange-400 block",children:[" ",n]}),i&&l.jsxs("a",{href:`mailto:${i}`,className:"text-orange-500 hover:text-orange-400 block",children:[" ",i]})]})}function wPe({data:t,files:e=[],checklistConfig:r}){const[n,i]=j.useState(new Set(nK.map(f=>f.id))),s=r||nK,a=(f,A)=>{const p=s.find(y=>y.id===f);return p&&p.items.find(y=>y.id===A)?.label||null},c={};for(const f of e){if(!f.category)continue;c[f.category]||(c[f.category]=[]);const A=a(f.category,f.file_type);c[f.category].push({id:f.file_type||f.id,label:A||f.file_type||"Uploaded file",url:f.drive_file_url||f.public_url,fileName:f.file_name,mimeType:f.mime_type})}const u=f=>{i(A=>{const p=new Set(A);return p.has(f)?p.delete(f):p.add(f),p})},o=f=>{if(c[f]?.length>0)return!0;const A=t?.[f];return A?Object.values(A).some(p=>p&&p!==""):!1},d=f=>{const A=t?.[f.id]||{},p=c[f.id]||[];let g=0,y=f.items.length;const v=new Set(p.map(b=>b.id));return f.items.forEach(b=>{if(b.type==="file")(v.has(b.id)||A[`${b.id}_url`])&&g++;else if(b.type==="contact")(A[`${b.id}_name`]||A[`${b.id}_phone`]||A[`${b.id}_email`])&&g++;else{const w=A[b.id];w&&w!==""&&g++}}),{completed:g,total:y}};return!t||Object.keys(t).length===0?l.jsx("div",{className:"text-center py-8 text-gray-500",children:l.jsx("p",{children:"No information collected yet"})}):l.jsx("div",{className:"space-y-4",children:s.map(f=>{const A=t[f.id]||{},p=n.has(f.id),g=o(f.id),y=d(f),v=c[f.id]||[],b=new Set(v.map(T=>T.id)),w=f.items.filter(T=>T.type==="file").filter(T=>!b.has(T.id)).map(T=>({...T,url:A[`${T.id}_url`]||A[T.id]})).filter(T=>T.url&&T.url.startsWith("http")),S=[...v,...w],_=f.items.filter(T=>T.type!=="file");return l.jsxs("div",{className:`border rounded-xl overflow-hidden transition-colors ${g?"border-gray-700 bg-gray-800/50":"border-gray-800 bg-gray-900/30"}`,children:[l.jsxs("button",{onClick:()=>u(f.id),className:"w-full flex items-center justify-between p-4 hover:bg-gray-700/30 transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-2xl",children:f.icon}),l.jsxs("div",{className:"text-left",children:[l.jsx("h3",{className:"font-semibold text-white",children:f.category}),l.jsxs("p",{className:"text-xs text-gray-500",children:[y.completed,"/",y.total," items provided"]})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[y.completed===y.total?l.jsx("span",{className:"text-green-400 text-sm",children:" Complete"}):y.completed>0?l.jsxs("span",{className:"text-yellow-400 text-sm",children:[y.completed,"/",y.total]}):l.jsx("span",{className:"text-gray-500 text-sm",children:"Empty"}),p?l.jsx(eC,{size:20,className:"text-gray-400"}):l.jsx(eE,{size:20,className:"text-gray-400"})]})]}),p&&l.jsxs("div",{className:"border-t border-gray-700 p-4",children:[S.length>0&&l.jsxs("div",{className:"mb-6",children:[l.jsxs("h4",{className:"text-xs text-gray-500 uppercase mb-3",children:["Files (",S.length,")"]}),l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:S.map((T,L)=>l.jsx(yPe,{url:T.url,label:T.label||T.fileName||"Uploaded file"},T.id||L))})]}),_.length>0&&l.jsxs("div",{className:S.length>0?"mt-4 pt-4 border-t border-gray-700":"",children:[l.jsx("h4",{className:"text-xs text-gray-500 uppercase mb-3",children:"Details"}),l.jsx("div",{className:"space-y-4",children:_.map(T=>{const L=A[T.id],D=T.type==="contact"?A[`${T.id}_name`]||A[`${T.id}_phone`]||A[`${T.id}_email`]:L&&L!=="";return l.jsxs("div",{className:`${D?"":"opacity-50"}`,children:[l.jsx("label",{className:"text-sm text-gray-400 block mb-1",children:T.label}),T.type==="contact"?l.jsx(bPe,{data:A,itemId:T.id}):l.jsx(xPe,{value:L,isUrl:T.id.includes("website")||T.id.includes("facebook")||T.id.includes("instagram")})]},T.id)})})]}),Object.entries(A).filter(([T,L])=>T.endsWith("_links")&&Array.isArray(L)&&L.length>0).length>0&&l.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-700",children:[l.jsx("h4",{className:"text-xs text-gray-500 uppercase mb-3",children:"External Links"}),l.jsx("div",{className:"space-y-4",children:Object.entries(A).filter(([T,L])=>T.endsWith("_links")&&Array.isArray(L)&&L.length>0).map(([T,L])=>{const D=T.replace(/_links$/,""),G=f.items.find(J=>J.id===D)?.label||D.replace(/_/g," ").replace(/\b\w/g,J=>J.toUpperCase());return l.jsxs("div",{children:[l.jsxs("label",{className:"text-sm text-gray-400 block mb-1",children:[G," (external links)"]}),l.jsx("div",{className:"space-y-1",children:L.map((J,ee)=>l.jsxs("a",{href:J,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 break-all flex items-center gap-2 p-2 bg-blue-500/10 rounded-lg text-sm",children:[l.jsx("span",{children:""}),l.jsxs("span",{className:"flex-1 truncate",children:[J.includes("drive.google")?"Google Drive":J.includes("dropbox")?"Dropbox":"External"," link"]}),l.jsx(tC,{size:14})]},ee))})]},T)})})]}),S.length===0&&_.every(T=>{const L=A[T.id];return T.type==="contact"?!(A[`${T.id}_name`]||A[`${T.id}_phone`]||A[`${T.id}_email`]):!L||L===""})&&l.jsx("p",{className:"text-gray-500 text-center py-4 italic",children:"No information provided for this category"})]})]},f.id)})})}function EPe(){const t=ic(),[e,r]=j.useState([]),[n,i]=j.useState([]),[s,a]=j.useState(!0),[c,u]=j.useState(null),[o,d]=j.useState(null),[f,A]=j.useState([]),[p,g]=j.useState("all"),[y,v]=j.useState(""),[b,w]=j.useState(!1),[S,_]=j.useState(!1),[T,L]=j.useState(!1),[D,V]=j.useState(!1),[G,J]=j.useState({org_name:"",contact_name:"",contact_email:"",contact_phone:"",event_name:"",event_date:"",event_location:""});j.useEffect(()=>{ee()},[]);const ee=async()=>{try{const[se,me]=await Promise.all([pOe(),yM()]);r(se||[]),i(me||[])}catch(se){u(se.message)}finally{a(!1)}},ue=async se=>{se.preventDefault(),V(!0);try{const me=await nre(G);r(je=>[me,...je]),w(!1),J({org_name:"",contact_name:"",contact_email:"",contact_phone:"",event_name:"",event_date:"",event_location:""})}catch(me){alert("Error: "+me.message)}finally{V(!1)}},pe=async se=>{try{await bOe(se,"Brandon Hibbs"),await ee(),d(null)}catch(me){alert("Error: "+me.message)}},ge=async se=>{if(confirm("Are you sure you want to delete this onboarding session? This cannot be undone."))try{await wOe(se),r(me=>me.filter(je=>je.id!==se)),d(null)}catch(me){alert("Error deleting session: "+me.message)}},he=se=>{r(me=>me.map(je=>je.id===o.id?{...je,...se}:je)),d(me=>({...me,...se})),L(!1)},ne=async se=>{d(se);try{const me=await _Oe(se.id);A(me||[])}catch(me){console.error("Error fetching files:",me),A([])}},Ae=se=>{const me={pending:"bg-yellow-500/20 text-yellow-400",in_progress:"bg-blue-500/20 text-blue-400",submitted:"bg-green-500/20 text-green-400",reviewed:"bg-purple-500/20 text-purple-400"},je={pending:"Pending",in_progress:"In Progress",submitted:"Submitted",reviewed:"Reviewed"};return l.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${me[se]||me.pending}`,children:je[se]||"Unknown"})},oe=se=>{const me=se.checklist_progress||{},je=18,Ue=Object.values(me).filter(De=>De).length;return Math.round(Ue/je*100)},Be=e.filter(se=>!(p!=="all"&&se.status!==p||y&&!se.org_name?.toLowerCase().includes(y.toLowerCase()))),ke=se=>`${window.location.origin}/#/onboarding/${se}`,ve=n.filter(se=>se.status==="signed");return s?l.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:l.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-orange-500 border-t-transparent rounded-full"})}):l.jsxs("div",{className:"min-h-screen bg-gray-900 text-white",children:[l.jsx("div",{className:"bg-gray-800 border-b border-gray-700",children:l.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-4 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("button",{onClick:()=>t("/portal/contracts"),className:"text-gray-400 hover:text-white",children:" Back"}),l.jsx("h1",{className:"text-xl font-bold",children:"Partner Onboarding"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>_(!0),className:"bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-lg text-sm flex items-center gap-2",children:" From Contract"}),l.jsx("button",{onClick:()=>w(!0),className:"bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg text-sm flex items-center gap-2",children:" New Session"})]})]})}),l.jsx("div",{className:"max-w-6xl mx-auto px-4 py-6",children:l.jsx("div",{className:"grid grid-cols-4 gap-4",children:[{label:"Total",value:e.length,color:"orange"},{label:"Pending",value:e.filter(se=>se.status==="pending").length,color:"yellow"},{label:"Submitted",value:e.filter(se=>se.status==="submitted").length,color:"green"},{label:"Reviewed",value:e.filter(se=>se.status==="reviewed").length,color:"purple"}].map((se,me)=>l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[l.jsx("div",{className:`text-3xl font-bold text-${se.color}-500`,children:se.value}),l.jsx("div",{className:"text-sm text-gray-500",children:se.label})]},me))})}),l.jsx("div",{className:"max-w-6xl mx-auto px-4 mb-6",children:l.jsxs("div",{className:"flex gap-3",children:[l.jsx("input",{type:"text",placeholder:"Search organizations...",value:y,onChange:se=>v(se.target.value),className:"flex-1 max-w-xs px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:border-orange-500 focus:outline-none"}),l.jsxs("select",{value:p,onChange:se=>g(se.target.value),className:"px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:border-orange-500 focus:outline-none",children:[l.jsx("option",{value:"all",children:"All Status"}),l.jsx("option",{value:"pending",children:"Pending"}),l.jsx("option",{value:"in_progress",children:"In Progress"}),l.jsx("option",{value:"submitted",children:"Submitted"}),l.jsx("option",{value:"reviewed",children:"Reviewed"})]})]})}),l.jsx("div",{className:"max-w-6xl mx-auto px-4 pb-12",children:Be.length===0?l.jsxs("div",{className:"bg-gray-800 rounded-xl p-12 text-center border border-gray-700",children:[l.jsx("div",{className:"text-4xl mb-4",children:""}),l.jsx("p",{className:"text-gray-400",children:"No onboarding sessions found"}),l.jsx("button",{onClick:()=>w(!0),className:"mt-4 bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded-lg text-sm",children:"Create First Session"})]}):l.jsx("div",{className:"space-y-3",children:Be.map(se=>l.jsx("div",{onClick:()=>ne(se),className:"bg-gray-800 rounded-xl p-5 border border-gray-700 hover:border-gray-600 cursor-pointer transition-colors",children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx("h3",{className:"font-semibold text-lg",children:se.org_name}),Ae(se.status)]}),l.jsxs("div",{className:"flex gap-4 text-sm text-gray-500",children:[se.event_name&&l.jsxs("span",{children:[" ",se.event_name]}),se.contact_name&&l.jsxs("span",{children:[" ",se.contact_name]}),se.event_date&&l.jsxs("span",{children:[" ",new Date(se.event_date).toLocaleDateString()]})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"text-2xl font-bold text-orange-500",children:[oe(se),"%"]}),l.jsx("div",{className:"text-xs text-gray-500",children:"Complete"})]})]})},se.id))})}),o&&l.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>d(null),children:l.jsxs("div",{className:"bg-gray-800 rounded-2xl max-w-3xl w-full max-h-[90vh] overflow-auto border border-gray-700",onClick:se=>se.stopPropagation(),children:[l.jsxs("div",{className:"p-6 border-b border-gray-700 flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold mb-2",children:o.org_name}),Ae(o.status)]}),l.jsx("button",{onClick:()=>d(null),className:"text-gray-500 hover:text-white text-xl",children:""})]}),l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-xs text-gray-500 uppercase mb-2",children:"Event Details"}),l.jsxs("div",{className:"space-y-1 text-sm",children:[o.event_name&&l.jsxs("p",{children:[l.jsx("strong",{children:"Event:"})," ",o.event_name]}),o.event_date&&l.jsxs("p",{children:[l.jsx("strong",{children:"Date:"})," ",new Date(o.event_date).toLocaleDateString()]}),o.event_location&&l.jsxs("p",{children:[l.jsx("strong",{children:"Location:"})," ",o.event_location]})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-xs text-gray-500 uppercase mb-2",children:"Contact"}),l.jsxs("div",{className:"space-y-1 text-sm",children:[o.contact_name&&l.jsxs("p",{children:[l.jsx("strong",{children:"Name:"})," ",o.contact_name]}),o.contact_email&&l.jsxs("p",{children:[l.jsx("strong",{children:"Email:"})," ",l.jsx("a",{href:`mailto:${o.contact_email}`,className:"text-orange-500",children:o.contact_email})]}),o.contact_phone&&l.jsxs("p",{children:[l.jsx("strong",{children:"Phone:"})," ",l.jsx("a",{href:`tel:${o.contact_phone}`,className:"text-orange-500",children:o.contact_phone})]})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-xs text-gray-500 uppercase mb-2",children:"Progress"}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"flex-1 h-2 bg-gray-700 rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-orange-500",style:{width:`${oe(o)}%`}})}),l.jsxs("span",{className:"font-bold text-orange-500",children:[oe(o),"%"]})]})]}),o.collected_data&&Object.keys(o.collected_data).length>0||f.length>0?l.jsxs("div",{children:[l.jsx("h4",{className:"text-xs text-gray-500 uppercase mb-3",children:"Collected Information"}),l.jsx(wPe,{data:o.collected_data,files:f})]}):null,l.jsxs("div",{children:[l.jsx("h4",{className:"text-xs text-gray-500 uppercase mb-2",children:"Google Drive Status"}),o.drive_folder_id?l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-green-400",children:""}),l.jsx("span",{className:"text-sm",children:"Synced to Google Drive"})]}),(o.shared_with||[]).length>0&&l.jsxs("div",{className:"mt-2",children:[l.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Team access:"}),o.shared_with.map((se,me)=>l.jsxs("span",{className:"text-xs text-gray-400",children:[se.email,me<o.shared_with.length-1?", ":""]},me))]})]}):l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-yellow-400",children:""}),l.jsx("span",{className:"text-sm text-gray-400",children:"Pending sync (runs every 10 min)"})]})]}),l.jsxs("div",{className:"flex flex-wrap gap-2 pt-4 border-t border-gray-700",children:[l.jsx("button",{onClick:()=>L(!0),className:"bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg text-sm",children:" Edit Session"}),l.jsx("a",{href:ke(o.share_token),target:"_blank",rel:"noopener noreferrer",className:"bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-lg text-sm",children:" View Portal"}),l.jsx("button",{onClick:()=>{navigator.clipboard.writeText(ke(o.share_token)),alert("Link copied!")},className:"bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-lg text-sm",children:" Copy Link"}),o.drive_folder_id&&l.jsx("a",{href:o.drive_folder_url||`https://drive.google.com/drive/folders/${o.drive_folder_id}`,target:"_blank",rel:"noopener noreferrer",className:"bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-lg text-sm",children:" View Drive Folder"}),o.status==="submitted"&&l.jsx("button",{onClick:()=>pe(o.id),className:"bg-green-600 hover:bg-green-500 text-white px-4 py-2 rounded-lg text-sm",children:" Mark Reviewed"}),l.jsx("button",{onClick:()=>ge(o.id),className:"bg-red-600 hover:bg-red-500 text-white px-4 py-2 rounded-lg text-sm",children:" Delete"})]})]})]})}),b&&l.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>w(!1),children:l.jsxs("div",{className:"bg-gray-800 rounded-2xl max-w-md w-full border border-gray-700",onClick:se=>se.stopPropagation(),children:[l.jsx("div",{className:"p-6 border-b border-gray-700",children:l.jsx("h2",{className:"text-lg font-bold",children:"Create Onboarding Session"})}),l.jsxs("form",{onSubmit:ue,className:"p-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Organization Name *"}),l.jsx("input",{required:!0,value:G.org_name,onChange:se=>J({...G,org_name:se.target.value}),className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:border-orange-500 focus:outline-none"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Contact Name"}),l.jsx("input",{value:G.contact_name,onChange:se=>J({...G,contact_name:se.target.value}),className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:border-orange-500 focus:outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Contact Email"}),l.jsx("input",{type:"email",value:G.contact_email,onChange:se=>J({...G,contact_email:se.target.value}),className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:border-orange-500 focus:outline-none"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Event Name"}),l.jsx("input",{value:G.event_name,onChange:se=>J({...G,event_name:se.target.value}),className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:border-orange-500 focus:outline-none"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Event Date"}),l.jsx("input",{type:"date",value:G.event_date,onChange:se=>J({...G,event_date:se.target.value}),className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:border-orange-500 focus:outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Location"}),l.jsx("input",{value:G.event_location,onChange:se=>J({...G,event_location:se.target.value}),className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:border-orange-500 focus:outline-none"})]})]})]}),l.jsxs("div",{className:"flex gap-3 mt-6",children:[l.jsx("button",{type:"button",onClick:()=>w(!1),className:"flex-1 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg",children:"Cancel"}),l.jsx("button",{type:"submit",disabled:D,className:"flex-1 py-2 bg-orange-500 hover:bg-orange-600 rounded-lg disabled:opacity-50",children:D?"Creating...":"Create"})]})]})]})}),S&&l.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>_(!1),children:l.jsxs("div",{className:"bg-gray-800 rounded-2xl max-w-md w-full border border-gray-700",onClick:se=>se.stopPropagation(),children:[l.jsx("div",{className:"p-6 border-b border-gray-700",children:l.jsx("h2",{className:"text-lg font-bold",children:"Create From Signed Contract"})}),l.jsxs("div",{className:"p-6",children:[ve.length===0?l.jsx("p",{className:"text-gray-400 text-center py-8",children:"No signed contracts available"}):l.jsx("div",{className:"space-y-2 max-h-80 overflow-auto",children:ve.map(se=>{const me=e.some(je=>je.contract_id===se.id);return l.jsxs("button",{onClick:()=>!me&&t(`/portal/onboarding/new?contractId=${se.id}`),disabled:me,className:`w-full p-4 rounded-xl text-left transition-colors ${me?"bg-gray-700/50 cursor-not-allowed opacity-50":"bg-gray-700 hover:bg-gray-600"}`,children:[l.jsx("div",{className:"font-medium",children:se.org_name}),l.jsx("div",{className:"text-sm text-gray-400",children:se.promoter_name}),me&&l.jsx("div",{className:"text-xs text-orange-500 mt-1",children:"Session already exists"})]},se.id)})}),l.jsx("button",{onClick:()=>_(!1),className:"w-full mt-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg",children:"Close"})]})]})}),T&&o&&l.jsx(pPe,{session:o,onClose:()=>L(!1),onSave:he})]})}const D1=[{id:"branding",category:"Branding & Assets",icon:"",items:[{id:"logo",label:"High-resolution logo",type:"file",priority:"essential"},{id:"brand_kit",label:"Brand kit (colors, fonts, guidelines)",type:"file",priority:"important"},{id:"event_graphics",label:"Event-specific graphics/banners",type:"file",priority:"important"},{id:"sponsor_logos",label:"Sponsor logos for on-screen display",type:"file",priority:"nice"}]},{id:"athletes",category:"Athlete Information",icon:"",items:[{id:"registration_list",label:"Registration list (Name, Email, Phone, Instagram)",type:"file",priority:"essential"},{id:"notable_athletes",label:"Notable athletes to feature",type:"textarea",priority:"important"}]},{id:"venue",category:"Venue & Technical",icon:"",items:[{id:"floor_plan",label:"Venue floor plan (mat layout)",type:"file",priority:"essential"},{id:"internet_specs",label:"Internet specs (upload speed, hardwired access)",type:"textarea",priority:"essential"},{id:"power_locations",label:"Power outlet locations",type:"textarea",priority:"important"},{id:"load_in_time",label:"Load-in/crew access time",type:"text",priority:"important"},{id:"venue_contact",label:"Venue contact for event day",type:"contact",priority:"important"}]},{id:"event",category:"Event Operations",icon:"",items:[{id:"mat_count",label:"Number of mats running",type:"number",priority:"essential"},{id:"schedule",label:"Event schedule/run sheet",type:"file",priority:"essential"},{id:"bracket_system",label:"Bracket/scoring system used",type:"text",priority:"important"},{id:"match_comms_method",label:"How match order will be communicated",type:"textarea",priority:"important"}]},{id:"social",category:"Social & Promotion",icon:"",items:[{id:"org_instagram",label:"Organization Instagram",type:"text",priority:"important"},{id:"org_facebook",label:"Organization Facebook",type:"text",priority:"nice"},{id:"org_website",label:"Organization Website",type:"text",priority:"nice"},{id:"existing_content",label:"Existing footage/photos for promos",type:"file",priority:"nice"},{id:"existing_content_links",label:"Links to existing footage (Google Drive, Dropbox, etc.)",type:"textarea",priority:"nice"}]}];function SPe(){const t=ic(),[e]=lN(),[r,n]=j.useState(1),[i,s]=j.useState([]),[a,c]=j.useState(null),[u,o]=j.useState(!0),[d,f]=j.useState(!1),[A]=j.useState(()=>e.get("contractId")),[p,g]=j.useState({orgName:"",contactName:"",email:"",phone:"",eventName:"",eventDate:"",eventLocation:"",contractId:"",orgInstagram:"",orgFacebook:"",orgWebsite:""}),[y,v]=j.useState(()=>{const Fe={};return D1.forEach(xt=>{Fe[xt.id]={},xt.items.forEach(pt=>{Fe[xt.id][pt.id]={enabled:!0,priority:pt.priority,alreadyHave:!1,prefilledValue:""}})}),Fe}),[b,w]=j.useState({}),[S,_]=j.useState({}),[T,L]=j.useState(null),[D,V]=j.useState(""),[G,J]=j.useState("text"),[ee,ue]=j.useState(null);j.useEffect(()=>{pe()},[]),j.useEffect(()=>{A&&i.length>0&&!a&&i.find(xt=>xt.id===A)&&ge(A)},[i,A]);const pe=async()=>{try{const xt=(await yM()).filter(pt=>pt.status==="signed");s(xt)}catch(Fe){console.error("Error loading contracts:",Fe)}finally{o(!1)}},ge=async Fe=>{if(!Fe){c(null),oe();return}const xt=i.find(Yr=>Yr.id===Fe);if(!xt)return;c(xt);const pt=xt.contract_data||{};let Bt=null;try{Bt=await cOe(xt.org_name)}catch(Yr){console.log("No CRM lead found:",Yr)}const qt=Bt?.contact||{};g({orgName:xt.org_name||"",contactName:xt.promoter_name||xt.contact_name||"",email:xt.promoter_email||xt.contact_email||"",phone:xt.promoter_phone||xt.contact_phone||"",eventName:pt.event_name||"",eventDate:pt.event_date||"",eventLocation:pt.event_location||pt.venue||"",contractId:xt.id,orgInstagram:ne(qt.instagram||pt.org_instagram||""),orgFacebook:Ae(qt.facebook||pt.org_facebook||""),orgWebsite:qt.website||pt.org_website||""}),Be("social","org_instagram",ne(qt.instagram||pt.org_instagram||"")),Be("social","org_facebook",Ae(qt.facebook||pt.org_facebook||"")),Be("social","org_website",qt.website||pt.org_website||"")},he=async Fe=>{const xt=Fe.target.value;ge(xt)},ne=Fe=>Fe?Fe.startsWith("@")?Fe:`@${Fe}`:"",Ae=Fe=>Fe?Fe.startsWith("http")?Fe:`https://facebook.com/${Fe.replace(/^@/,"").replace(/^\//,"")}`:"",oe=()=>{g({orgName:"",contactName:"",email:"",phone:"",eventName:"",eventDate:"",eventLocation:"",contractId:"",orgInstagram:"",orgFacebook:"",orgWebsite:""})},Be=(Fe,xt,pt)=>{v(Bt=>({...Bt,[Fe]:{...Bt[Fe],[xt]:{...Bt[Fe][xt],prefilledValue:pt}}}))},ke=Fe=>{const{name:xt,value:pt}=Fe.target;g(Bt=>({...Bt,[xt]:pt})),b[xt]&&w(Bt=>({...Bt,[xt]:""}))},ve=(Fe,xt)=>{v(pt=>({...pt,[Fe]:{...pt[Fe],[xt]:{...pt[Fe][xt],enabled:!pt[Fe][xt].enabled}}}))},se=(Fe,xt)=>{v(pt=>({...pt,[Fe]:{...pt[Fe],[xt]:{...pt[Fe][xt],alreadyHave:!pt[Fe][xt].alreadyHave}}}))},me=(Fe,xt,pt)=>{v(Bt=>({...Bt,[Fe]:{...Bt[Fe],[xt]:{...Bt[Fe][xt],priority:pt}}}))},je=Fe=>{if(!D.trim())return;const xt=`custom_${Date.now()}`,pt={id:xt,label:D.trim(),type:G,priority:"important",isCustom:!0};_(Bt=>({...Bt,[Fe]:[...Bt[Fe]||[],pt]})),v(Bt=>({...Bt,[Fe]:{...Bt[Fe],[xt]:{enabled:!0,priority:"important",alreadyHave:!1,prefilledValue:"",isCustom:!0,label:D.trim(),type:G}}})),V(""),J("text"),L(null)},Ue=(Fe,xt)=>{_(pt=>({...pt,[Fe]:(pt[Fe]||[]).filter(Bt=>Bt.id!==xt)})),v(pt=>{const Bt={...pt};return Bt[Fe][xt]?.isCustom?delete Bt[Fe][xt]:Bt[Fe][xt]={...Bt[Fe][xt],enabled:!1},Bt})},De=(Fe,xt,pt)=>{pt.trim()&&(_(Bt=>({...Bt,[Fe]:(Bt[Fe]||[]).map(qt=>qt.id===xt?{...qt,label:pt.trim()}:qt)})),v(Bt=>({...Bt,[Fe]:{...Bt[Fe],[xt]:{...Bt[Fe][xt],label:pt.trim()}}})),ue(null))},ot=Fe=>{const xt=Fe.items,pt=S[Fe.id]||[];return[...xt,...pt]},ft=()=>{const Fe={};return p.orgName.trim()||(Fe.orgName="Organization name is required"),p.contactName.trim()||(Fe.contactName="Contact name is required"),p.email.trim()?/\S+@\S+\.\S+/.test(p.email)||(Fe.email="Email is invalid"):Fe.email="Email is required",p.eventDate||(Fe.eventDate="Event date is required"),w(Fe),Object.keys(Fe).length===0},Ce=()=>{r===1?ft()&&n(2):r===2&&n(3)},Ze=()=>{r>1?n(r-1):t("/portal/onboarding")},ze=async()=>{f(!0);try{const Fe={};D1.forEach(qt=>{qt.items.forEach(Yr=>{const yr=y[qt.id][Yr.id];yr.enabled&&yr.prefilledValue&&(Fe[qt.id]||(Fe[qt.id]={}),Fe[qt.id][Yr.id]=yr.prefilledValue)})});const xt={};Object.keys(y).forEach(qt=>{xt[qt]={},Object.keys(y[qt]).forEach(Yr=>{const yr=y[qt][Yr];xt[qt][Yr]={enabled:yr.enabled,priority:yr.priority,alreadyHave:yr.alreadyHave,...yr.isCustom?{isCustom:!0,label:yr.label,type:yr.type}:{}}})});const pt={org_name:p.orgName,contact_name:p.contactName,contact_email:p.email,contact_phone:p.phone,event_name:p.eventName,event_date:p.eventDate,event_location:p.eventLocation,contract_id:p.contractId||null,collected_data:Fe,checklist_config:xt},Bt=await nre(pt);t(`/portal/onboarding/${Bt.id}`)}catch(Fe){console.error("Error creating onboarding:",Fe),alert("Failed to create onboarding session: "+Fe.message)}finally{f(!1)}},ct=(()=>{let Fe=0,xt=0;return D1.forEach(pt=>{ot(pt).forEach(qt=>{xt++,y[pt.id]?.[qt.id]?.enabled&&Fe++})}),{enabled:Fe,total:xt}})();return u?l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#0d0d1a] to-[#1a1a2e] flex items-center justify-center",children:l.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-red-500 border-t-transparent rounded-full"})}):l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#0d0d1a] to-[#1a1a2e] py-8 px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("button",{onClick:Ze,className:"flex items-center gap-2 text-gray-400 hover:text-white transition-colors mb-6",children:[l.jsx(_0,{size:20}),"Back"]}),l.jsx("div",{className:"mb-8",children:l.jsx("div",{className:"flex items-center justify-center gap-4",children:[{num:1,label:"Contract & Details"},{num:2,label:"Customize Checklist"},{num:3,label:"Preview & Confirm"}].map((Fe,xt)=>l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:`flex items-center gap-3 ${r>=Fe.num?"opacity-100":"opacity-40"}`,children:[l.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold border-2 ${r>=Fe.num?"bg-red-500 border-red-500 text-white":"bg-transparent border-gray-600 text-gray-600"}`,children:r>Fe.num?l.jsx(bo,{size:20}):Fe.num}),l.jsx("div",{className:"hidden sm:block",children:l.jsx("div",{className:"text-sm font-medium text-white",children:Fe.label})})]}),xt<2&&l.jsx(mb,{size:20,className:r>Fe.num?"text-red-500":"text-gray-600"})]},Fe.num))})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"lg:col-span-2",children:[l.jsxs(Or.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"bg-gradient-to-br from-[#1a1a2e] to-[#16162a] border border-gray-800/50 rounded-xl p-6",children:[r===1&&l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx("div",{className:"w-12 h-12 bg-red-500/20 rounded-xl flex items-center justify-center",children:l.jsx(NP,{className:"text-red-500",size:24})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-black text-white",children:"Contract & Details"}),l.jsx("p",{className:"text-gray-400",children:"Select contract or enter details manually"})]})]}),l.jsxs("div",{className:"space-y-5",children:[i.length>0&&l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-bold text-white mb-2",children:[l.jsx(dy,{className:"inline mr-2",size:16}),"Link to Existing Contract (Auto-fill)"]}),l.jsxs("select",{value:a?.id||"",onChange:he,className:"w-full bg-gray-900/50 border border-gray-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-red-500 transition-colors",children:[l.jsx("option",{value:"",children:"Create from scratch"}),l.jsx("optgroup",{label:"Signed Contracts",children:i.map(Fe=>l.jsxs("option",{value:Fe.id,children:[Fe.org_name," - ",Fe.promoter_name||Fe.contact_name]},Fe.id))})]}),a&&l.jsxs("p",{className:"text-sm text-green-400 mt-2 flex items-center gap-2",children:[l.jsx(bo,{size:16})," Contract data loaded! Review and edit below."]})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"orgName",className:"block text-sm font-bold text-white mb-2",children:["Organization Name ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",id:"orgName",name:"orgName",value:p.orgName,onChange:ke,placeholder:"e.g., Eternal MMA",className:`w-full bg-gray-900/50 border rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none transition-colors ${b.orgName?"border-red-500":"border-gray-700 focus:border-red-500"}`}),b.orgName&&l.jsx("p",{className:"text-red-400 text-sm mt-1",children:b.orgName})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"contactName",className:"block text-sm font-bold text-white mb-2",children:["Contact Name ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",id:"contactName",name:"contactName",value:p.contactName,onChange:ke,placeholder:"Primary contact person",className:`w-full bg-gray-900/50 border rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none transition-colors ${b.contactName?"border-red-500":"border-gray-700 focus:border-red-500"}`}),b.contactName&&l.jsx("p",{className:"text-red-400 text-sm mt-1",children:b.contactName})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"email",className:"block text-sm font-bold text-white mb-2",children:["Email ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"email",id:"email",name:"email",value:p.email,onChange:ke,placeholder:"contact@org.com",className:`w-full bg-gray-900/50 border rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none transition-colors ${b.email?"border-red-500":"border-gray-700 focus:border-red-500"}`}),b.email&&l.jsx("p",{className:"text-red-400 text-sm mt-1",children:b.email})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"phone",className:"block text-sm font-bold text-white mb-2",children:"Phone"}),l.jsx("input",{type:"tel",id:"phone",name:"phone",value:p.phone,onChange:ke,placeholder:"0400 000 000",className:"w-full bg-gray-900/50 border border-gray-700 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-red-500 transition-colors"})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"eventName",className:"block text-sm font-bold text-white mb-2",children:"Event Name"}),l.jsx("input",{type:"text",id:"eventName",name:"eventName",value:p.eventName,onChange:ke,placeholder:"e.g., Summer Showdown 2026",className:"w-full bg-gray-900/50 border border-gray-700 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-red-500 transition-colors"})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"eventDate",className:"block text-sm font-bold text-white mb-2",children:["Event Date ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"date",id:"eventDate",name:"eventDate",value:p.eventDate,onChange:ke,className:`w-full bg-gray-900/50 border rounded-lg px-4 py-3 text-white focus:outline-none transition-colors ${b.eventDate?"border-red-500":"border-gray-700 focus:border-red-500"}`}),b.eventDate&&l.jsx("p",{className:"text-red-400 text-sm mt-1",children:b.eventDate})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"eventLocation",className:"block text-sm font-bold text-white mb-2",children:"Event Location"}),l.jsx("input",{type:"text",id:"eventLocation",name:"eventLocation",value:p.eventLocation,onChange:ke,placeholder:"e.g., Brisbane Convention Centre",className:"w-full bg-gray-900/50 border border-gray-700 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-red-500 transition-colors"})]})]})]})]}),r===2&&l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx("div",{className:"w-12 h-12 bg-red-500/20 rounded-xl flex items-center justify-center",children:l.jsx(Tde,{className:"text-red-500",size:24})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-black text-white",children:"Customize Checklist"}),l.jsx("p",{className:"text-gray-400",children:"Toggle items, set priorities, mark what they already have"})]})]}),l.jsx("div",{className:"mb-6 bg-blue-500/10 border border-blue-500/30 rounded-lg p-4",children:l.jsxs("p",{className:"text-blue-200 text-sm flex items-start gap-2",children:[l.jsx(Wv,{size:18,className:"flex-shrink-0 mt-0.5"}),l.jsxs("span",{children:[l.jsx("strong",{children:"Disabled items won't show to the client."}),` Use "Already Have" to pre-check items they've provided. Change priorities to indicate urgency.`]})]})}),l.jsx("div",{className:"space-y-4 max-h-[600px] overflow-y-auto pr-2",children:D1.map(Fe=>{const xt=ot(Fe),pt=xt.filter(Bt=>y[Fe.id]?.[Bt.id]?.enabled).length;return l.jsxs("div",{className:"bg-gray-900/50 rounded-lg border border-gray-700",children:[l.jsx("div",{className:"px-4 py-3 border-b border-gray-700 bg-gray-800/50",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-2xl",children:Fe.icon}),l.jsx("h3",{className:"font-bold text-white",children:Fe.category}),l.jsxs("span",{className:"text-sm text-gray-400 ml-auto",children:[pt,"/",xt.length," enabled"]})]})}),l.jsxs("div",{className:"p-4 space-y-3",children:[xt.map(Bt=>{const qt=y[Fe.id]?.[Bt.id]||{enabled:!0,priority:Bt.priority},Yr=Bt.isCustom||qt.isCustom,yr=qt.label||Bt.label,Wr=ee?.categoryId===Fe.id&&ee?.itemId===Bt.id;return l.jsx("div",{className:`p-3 rounded-lg border transition-all ${qt.enabled?"bg-gray-800/50 border-gray-700":"bg-gray-900/30 border-gray-800 opacity-50"}`,children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("button",{onClick:()=>ve(Fe.id,Bt.id),className:`flex-shrink-0 w-6 h-6 rounded border-2 flex items-center justify-center transition-colors ${qt.enabled?"bg-red-500 border-red-500":"bg-transparent border-gray-600"}`,children:qt.enabled&&l.jsx(bo,{size:16,className:"text-white"})}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[Wr?l.jsx("div",{className:"flex items-center gap-2 flex-1",children:l.jsx("input",{type:"text",defaultValue:yr,autoFocus:!0,onKeyDown:hn=>{hn.key==="Enter"?De(Fe.id,Bt.id,hn.target.value):hn.key==="Escape"&&ue(null)},onBlur:hn=>De(Fe.id,Bt.id,hn.target.value),className:"flex-1 bg-gray-900 border border-red-500 rounded px-2 py-1 text-white text-sm focus:outline-none"})}):l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`font-medium ${qt.enabled?"text-white":"text-gray-500"}`,children:yr}),Yr&&l.jsx("span",{className:"text-xs bg-purple-500/20 text-purple-400 px-2 py-0.5 rounded border border-purple-500/30",children:"Custom"}),Yr&&qt.enabled&&l.jsx("button",{onClick:()=>ue({categoryId:Fe.id,itemId:Bt.id,label:yr}),className:"text-gray-500 hover:text-white transition-colors",children:l.jsx(mde,{size:14})})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[qt.prefilledValue&&l.jsx("span",{className:"text-xs bg-green-500/20 text-green-400 px-2 py-1 rounded-full border border-green-500/30",children:"Pre-filled "}),l.jsx("button",{onClick:()=>Ue(Fe.id,Bt.id),className:"text-gray-500 hover:text-red-400 transition-colors",title:Yr?"Remove field":"Disable field",children:l.jsx(BP,{size:16})})]})]}),qt.enabled&&l.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[l.jsxs("select",{value:qt.priority||"important",onChange:hn=>me(Fe.id,Bt.id,hn.target.value),className:"text-xs bg-gray-900 border border-gray-700 rounded px-2 py-1 text-white focus:outline-none focus:border-red-500",children:[l.jsx("option",{value:"essential",children:"Essential"}),l.jsx("option",{value:"important",children:"Important"}),l.jsx("option",{value:"nice",children:"Nice to have"})]}),l.jsx("button",{onClick:()=>se(Fe.id,Bt.id),className:`text-xs px-3 py-1 rounded border transition-colors ${qt.alreadyHave?"bg-green-500/20 text-green-400 border-green-500/30":"bg-gray-900 text-gray-400 border-gray-700"}`,children:qt.alreadyHave?" Already Have":'Mark as "Already Have"'}),l.jsxs("span",{className:"text-xs text-gray-500",children:["(",Bt.type||qt.type||"text",")"]})]})]})]})},Bt.id)}),T===Fe.id?l.jsxs("div",{className:"p-3 rounded-lg border border-dashed border-green-500/50 bg-green-500/5",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("input",{type:"text",value:D,onChange:Bt=>V(Bt.target.value),placeholder:"Field label...",autoFocus:!0,onKeyDown:Bt=>{Bt.key==="Enter"&&je(Fe.id),Bt.key==="Escape"&&L(null)},className:"flex-1 bg-gray-900 border border-gray-700 rounded px-3 py-2 text-white text-sm placeholder-gray-500 focus:outline-none focus:border-green-500"}),l.jsxs("select",{value:G,onChange:Bt=>J(Bt.target.value),className:"bg-gray-900 border border-gray-700 rounded px-2 py-2 text-white text-sm focus:outline-none focus:border-green-500",children:[l.jsx("option",{value:"text",children:"Text"}),l.jsx("option",{value:"textarea",children:"Long Text"}),l.jsx("option",{value:"file",children:"File Upload"}),l.jsx("option",{value:"number",children:"Number"})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>je(Fe.id),disabled:!D.trim(),className:"flex-1 bg-green-600 hover:bg-green-500 disabled:bg-gray-700 text-white text-sm font-medium py-2 rounded transition-colors",children:"Add Field"}),l.jsx("button",{onClick:()=>{L(null),V(""),J("text")},className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white text-sm rounded transition-colors",children:"Cancel"})]})]}):l.jsxs("button",{onClick:()=>L(Fe.id),className:"w-full p-3 rounded-lg border border-dashed border-gray-700 hover:border-green-500/50 hover:bg-green-500/5 text-gray-500 hover:text-green-400 transition-all flex items-center justify-center gap-2",children:[l.jsx(Nue,{size:18}),"Add Custom Field"]})]})]},Fe.id)})})]}),r===3&&l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx("div",{className:"w-12 h-12 bg-red-500/20 rounded-xl flex items-center justify-center",children:l.jsx(UL,{className:"text-red-500",size:24})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-black text-white",children:"Review & Confirm"}),l.jsx("p",{className:"text-gray-400",children:"Everything looks good? Create the onboarding session!"})]})]}),l.jsxs("div",{className:"space-y-4 mb-6",children:[l.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-4 border border-gray-700",children:[l.jsx("h3",{className:"font-bold text-white mb-3",children:"Organization Details"}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-500",children:"Organization:"}),l.jsx("div",{className:"text-white font-medium",children:p.orgName})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-500",children:"Contact:"}),l.jsx("div",{className:"text-white font-medium",children:p.contactName})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-500",children:"Email:"}),l.jsx("div",{className:"text-white font-medium",children:p.email})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-500",children:"Phone:"}),l.jsx("div",{className:"text-white font-medium",children:p.phone||"Not provided"})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-500",children:"Event:"}),l.jsx("div",{className:"text-white font-medium",children:p.eventName||"Not specified"})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-500",children:"Date:"}),l.jsx("div",{className:"text-white font-medium",children:p.eventDate})]})]})]}),l.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-4 border border-gray-700",children:[l.jsx("h3",{className:"font-bold text-white mb-3",children:"Checklist Configuration"}),l.jsxs("div",{className:"grid grid-cols-3 gap-3 text-center",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl font-bold text-green-500",children:ct.enabled}),l.jsx("div",{className:"text-xs text-gray-500",children:"Enabled Items"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl font-bold text-gray-500",children:ct.total-ct.enabled}),l.jsx("div",{className:"text-xs text-gray-500",children:"Disabled Items"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl font-bold text-blue-500",children:Object.keys(y).reduce((Fe,xt)=>Fe+Object.keys(y[xt]).filter(pt=>y[xt][pt].prefilledValue).length,0)}),l.jsx("div",{className:"text-xs text-gray-500",children:"Pre-filled"})]})]})]})]}),ct.enabled<ct.total/2&&l.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-4 mb-6",children:l.jsxs("p",{className:"text-yellow-200 text-sm flex items-start gap-2",children:[l.jsx(Wv,{size:18,className:"flex-shrink-0 mt-0.5"}),l.jsx("span",{children:"You've disabled more than half the checklist items. Make sure this is intentional  clients need these details for quality coverage."})]})})]})]},r),l.jsxs("div",{className:"flex gap-3 mt-6",children:[l.jsx("button",{onClick:Ze,className:"px-6 py-3 bg-gray-800 hover:bg-gray-700 text-white rounded-lg transition-all font-medium border border-gray-700",children:r===1?"Cancel":"Back"}),r<3?l.jsxs("button",{onClick:Ce,className:"flex-1 px-6 py-3 bg-gradient-to-r from-red-600 to-red-500 hover:from-red-500 hover:to-red-400 text-white font-bold rounded-lg transition-all shadow-lg shadow-red-500/20 flex items-center justify-center gap-2",children:["Next Step",l.jsx(mb,{size:20})]}):l.jsx("button",{onClick:ze,disabled:d,className:"flex-1 px-6 py-3 bg-gradient-to-r from-green-600 to-green-500 hover:from-green-500 hover:to-green-400 disabled:from-gray-600 disabled:to-gray-500 text-white font-bold rounded-lg transition-all shadow-lg shadow-green-500/20 flex items-center justify-center gap-2",children:d?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin w-5 h-5 border-2 border-white border-t-transparent rounded-full"}),"Creating..."]}):l.jsxs(l.Fragment,{children:[l.jsx(gb,{size:20}),"Create Onboarding Session"]})})]})]}),l.jsx("div",{className:"lg:col-span-1",children:l.jsx("div",{className:"sticky top-6",children:l.jsxs("div",{className:"bg-gradient-to-br from-[#1a1a2e] to-[#16162a] border border-gray-800/50 rounded-xl p-5",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx(UL,{size:20,className:"text-red-500"}),l.jsx("h3",{className:"font-bold text-white",children:"Client Preview"})]}),l.jsxs("p",{className:"text-xs text-gray-500 mb-4",children:["This is what ",p.orgName||"the client"," will see"]}),l.jsxs("div",{className:"bg-gray-900 rounded-lg border border-gray-800 overflow-hidden",children:[l.jsx("div",{className:"bg-gray-800 px-3 py-2 border-b border-gray-700",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-6 h-6 bg-red-500 rounded-lg"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs font-semibold text-white",children:"Fit Focus Media"}),l.jsx("div",{className:"text-[10px] text-gray-500",children:p.orgName||"Organization"})]})]})}),l.jsxs("div",{className:"p-4 space-y-3 max-h-[500px] overflow-y-auto",children:[l.jsxs("div",{className:"text-sm",children:[l.jsx("div",{className:"text-gray-500 text-xs mb-2",children:"Event Details"}),l.jsx("div",{className:"text-white font-medium",children:p.eventName||"Event Name"}),l.jsx("div",{className:"text-gray-400 text-xs",children:p.eventDate||"Date not set"})]}),l.jsxs("div",{className:"border-t border-gray-800 pt-3",children:[l.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:["Checklist (",ct.enabled," items)"]}),D1.map(Fe=>{const pt=ot(Fe).filter(Bt=>y[Fe.id]?.[Bt.id]?.enabled);return pt.length===0?null:l.jsxs("div",{className:"mb-3",children:[l.jsxs("div",{className:"text-xs font-medium text-white flex items-center gap-2 mb-1",children:[l.jsx("span",{children:Fe.icon}),Fe.category]}),l.jsx("div",{className:"space-y-1",children:pt.map(Bt=>{const qt=y[Fe.id]?.[Bt.id]||{},Yr=qt.label||Bt.label;return l.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[l.jsx("div",{className:`w-3 h-3 rounded border ${qt.alreadyHave?"bg-green-500 border-green-500":"border-gray-600"}`,children:qt.alreadyHave&&l.jsx(bo,{size:10,className:"text-white"})}),l.jsxs("span",{className:`flex-1 ${qt.alreadyHave?"text-gray-500 line-through":"text-gray-400"}`,children:[Yr,(Bt.isCustom||qt.isCustom)&&l.jsx("span",{className:"text-purple-400 ml-1",children:"*"})]}),qt.prefilledValue&&l.jsx("span",{className:"text-green-400",children:""})]},Bt.id)})})]},Fe.id)})]})]})]}),l.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-2 text-xs",children:[l.jsxs("div",{className:"bg-gray-900/50 rounded p-2 text-center border border-gray-800",children:[l.jsx("div",{className:"text-lg font-bold text-red-500",children:ct.enabled}),l.jsx("div",{className:"text-gray-500",children:"Items to collect"})]}),l.jsxs("div",{className:"bg-gray-900/50 rounded p-2 text-center border border-gray-800",children:[l.jsx("div",{className:"text-lg font-bold text-green-500",children:Object.keys(y).reduce((Fe,xt)=>Fe+Object.keys(y[xt]).filter(pt=>y[xt][pt].prefilledValue||y[xt][pt].alreadyHave).length,0)}),l.jsx("div",{className:"text-gray-500",children:"Pre-filled/Have"})]})]})]})})})]})]})})}const EM="ffm_onboarding_workflows";function _Pe(t,e){if(t.completed)return"complete";if(t.inProgress)return"in-progress";const r=new Date;r.setHours(0,0,0,0);const n=new Date(e);return n.setHours(0,0,0,0),n<r?"overdue":"pending"}function SM(){const t=localStorage.getItem(EM);return t?JSON.parse(t):[]}function fre(t){return SM().find(r=>r.id===t)}function OB(t,e,r){const n=SM(),i=n.find(a=>a.id===t);return i?(i.steps[e]={...i.steps[e],...r},r.completed&&!i.steps[e].completedDate&&(i.steps[e].completedDate=new Date().toISOString().split("T")[0]),i.steps.every(a=>a.completed)&&i.status==="active"&&(i.status="completed"),localStorage.setItem(EM,JSON.stringify(n)),i):null}function TPe(t){const r=SM().filter(n=>n.id!==t);return localStorage.setItem(EM,JSON.stringify(r)),!0}function CPe(t){const e=fre(t);return e?`
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Onboarding Checklist - ${e.orgName}</title>
  <style>
    body { font-family: Arial, sans-serif; max-width: 800px; margin: 40px auto; padding: 20px; }
    h1 { color: #e51d1d; }
    .header { border-bottom: 2px solid #e51d1d; padding-bottom: 20px; margin-bottom: 30px; }
    .info { display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; margin-bottom: 30px; }
    .phase { margin-bottom: 40px; }
    .phase-title { background: #f5f5f5; padding: 10px; font-weight: bold; margin-bottom: 15px; }
    .step { margin-bottom: 25px; padding-left: 30px; position: relative; }
    .step-number { position: absolute; left: 0; font-weight: bold; }
    .checkbox { display: inline-block; width: 18px; height: 18px; border: 2px solid #333; margin-right: 10px; }
    .subtasks { margin-top: 10px; padding-left: 20px; font-size: 0.9em; color: #666; }
    .subtasks li { margin-bottom: 5px; }
  </style>
</head>
<body>
  <div class="header">
    <h1>Client Onboarding Checklist</h1>
    <div class="info">
      <div><strong>Organization:</strong> ${e.orgName}</div>
      <div><strong>Contact:</strong> ${e.contactName}</div>
      <div><strong>Email:</strong> ${e.email}</div>
      <div><strong>Phone:</strong> ${e.phone}</div>
      <div><strong>Sport:</strong> ${e.sport}</div>
      <div><strong>First Event:</strong> ${e.firstEventDate}</div>
      <div><strong>Signing Date:</strong> ${e.signingDate}</div>
      <div><strong>Generated:</strong> ${new Date().toLocaleDateString()}</div>
    </div>
  </div>
  
  ${[1,2,3].map(n=>`
    <div class="phase">
      <div class="phase-title">
        ${n===1?"Phase 1: Welcome & Setup":n===2?"Phase 2: Pre-Event Prep":"Phase 3: Go-Live"}
      </div>
      ${e.steps.filter(i=>i.phase===n).map(i=>`
        <div class="step">
          <span class="step-number">${i.id}.</span>
          <div>
            <div><span class="checkbox"></span><strong>${i.title}</strong> (Due: ${i.dueDate})</div>
            <div style="color: #666; margin-top: 5px;">${i.description}</div>
            ${i.subTasks&&i.subTasks.length>0?`
              <ul class="subtasks">
                ${i.subTasks.map(s=>`<li>${s}</li>`).join("")}
              </ul>
            `:""}
          </div>
        </div>
      `).join("")}
    </div>
  `).join("")}
</body>
</html>
  `:null}function jPe(){const{id:t}=$m(),e=ic(),[r,n]=j.useState(null),[i,s]=j.useState(null),[a,c]=j.useState(!1);j.useEffect(()=>{u()},[t]);const u=()=>{const D=fre(t);D?n(D):e("/portal/onboarding")},o=D=>{const V=r.steps[D],G=OB(t,D,{completed:!V.completed,completedDate:V.completed?null:new Date().toISOString().split("T")[0]});n(G)},d=D=>{const V=r.steps[D],G=OB(t,D,{inProgress:!V.inProgress});n(G)},f=(D,V)=>{const G=OB(t,D,{notes:V});n(G)},A=()=>{TPe(t),e("/portal/onboarding")},p=()=>{const D=CPe(t),V=new Blob([D],{type:"text/html"}),G=URL.createObjectURL(V),J=document.createElement("a");J.href=G,J.download=`onboarding-${r.orgName.replace(/\s+/g,"-")}.html`,J.click(),URL.revokeObjectURL(G)},g=()=>{const D=r.steps.findIndex(V=>!V.completed);D!==-1&&(s(D),document.getElementById(`step-${D}`)?.scrollIntoView({behavior:"smooth",block:"center"}))};if(!r)return null;const y=r.steps.filter(D=>D.completed).length,v=r.steps.length,b=Math.round(y/v*100),w=D=>r.steps.filter(V=>V.phase===D),S=D=>{const V=w(D),G=V.filter(J=>J.completed).length;return{completed:G,total:V.length,percentage:Math.round(G/V.length*100)}},_={1:"Welcome & Setup",2:"Pre-Event Prep",3:"Go-Live"},T=D=>{switch(D){case"complete":return"text-green-400 bg-green-600/20 border-green-500/30";case"overdue":return"text-red-400 bg-red-600/20 border-red-500/30";case"in-progress":return"text-yellow-400 bg-yellow-600/20 border-yellow-500/30";default:return"text-gray-400 bg-gray-800/30 border-gray-700/30"}},L=D=>{switch(D){case"complete":return l.jsx(EI,{size:18,className:"text-green-400"});case"overdue":return l.jsx(Wv,{size:18,className:"text-red-400"});case"in-progress":return l.jsx(pb,{size:18,className:"text-yellow-400"});default:return l.jsx(G6,{size:18,className:"text-gray-400"})}};return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#0d0d1a] to-[#1a1a2e]",children:[l.jsx("div",{className:"bg-gradient-to-r from-[#1a1a2e] to-[#16162a] border-b border-gray-800/50",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[l.jsxs("button",{onClick:()=>e("/portal/onboarding"),className:"flex items-center gap-2 text-gray-400 hover:text-white transition-colors mb-4",children:[l.jsx(_0,{size:20}),"Back to Dashboard"]}),l.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-black text-white mb-2",children:r.orgName}),l.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-400",children:[l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx(Yv,{size:16}),r.contactName]}),l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx(af,{size:16}),r.email]}),r.phone&&l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx(rC,{size:16}),r.phone]}),l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx(Pd,{size:16}),"Event: ",new Date(r.firstEventDate).toLocaleDateString("en-AU")]})]})]}),l.jsxs("div",{className:"flex flex-wrap gap-3",children:[l.jsxs(Or.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:g,disabled:y===v,className:"px-4 py-2 bg-blue-600 hover:bg-blue-500 disabled:bg-gray-700 disabled:text-gray-500 text-white font-medium rounded-lg transition-all flex items-center gap-2",children:[l.jsx(pb,{size:18}),"Next Step"]}),l.jsxs(Or.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:p,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white font-medium rounded-lg transition-all flex items-center gap-2",children:[l.jsx(gv,{size:18}),"Export"]}),l.jsxs(Or.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>c(!0),className:"px-4 py-2 bg-red-600/20 hover:bg-red-600/30 text-red-400 font-medium rounded-lg transition-all flex items-center gap-2 border border-red-500/30",children:[l.jsx(BP,{size:18}),"Delete"]})]})]}),l.jsxs("div",{className:"mt-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("span",{className:"text-sm font-medium text-gray-400",children:["Overall Progress: ",y,"/",v," steps"]}),l.jsxs("span",{className:"text-lg font-bold text-white",children:[b,"%"]})]}),l.jsx("div",{className:"w-full bg-gray-800 rounded-full h-3 overflow-hidden",children:l.jsx(Or.div,{initial:{width:0},animate:{width:`${b}%`},transition:{duration:.5},className:`h-full rounded-full ${b===100?"bg-gradient-to-r from-green-600 to-green-500":"bg-gradient-to-r from-red-600 to-red-500"}`})})]})]})}),l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsx("div",{className:"lg:col-span-1",children:l.jsxs("div",{className:"bg-gradient-to-br from-[#1a1a2e] to-[#16162a] border border-gray-800/50 rounded-xl p-6 sticky top-4",children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Client Information"}),l.jsxs("div",{className:"space-y-3 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-500 block mb-1",children:"Organization"}),l.jsx("span",{className:"text-white font-medium",children:r.orgName})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-500 block mb-1",children:"Contact"}),l.jsx("span",{className:"text-white font-medium",children:r.contactName})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-500 block mb-1",children:"Email"}),l.jsx("span",{className:"text-white font-medium break-all",children:r.email})]}),r.phone&&l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-500 block mb-1",children:"Phone"}),l.jsx("span",{className:"text-white font-medium",children:r.phone})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-500 block mb-1",children:"Sport"}),l.jsx("span",{className:"text-white font-medium",children:r.sport})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-500 block mb-1",children:"First Event Date"}),l.jsx("span",{className:"text-white font-medium",children:new Date(r.firstEventDate).toLocaleDateString("en-AU",{weekday:"short",year:"numeric",month:"short",day:"numeric"})})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-500 block mb-1",children:"Signing Date"}),l.jsx("span",{className:"text-white font-medium",children:new Date(r.signingDate).toLocaleDateString("en-AU")})]}),r.contractId&&l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-500 block mb-1",children:"Contract ID"}),l.jsx("span",{className:"text-white font-medium font-mono text-xs",children:r.contractId})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-500 block mb-1",children:"Status"}),l.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-bold ${r.status==="completed"?"bg-green-600/20 text-green-400 border border-green-500/30":"bg-blue-600/20 text-blue-400 border border-blue-500/30"}`,children:r.status==="completed"?"Completed":"Active"})]})]})]})}),l.jsx("div",{className:"lg:col-span-2 space-y-6",children:[1,2,3].map(D=>{const V=S(D),G=w(D);return l.jsxs("div",{className:"bg-gradient-to-br from-[#1a1a2e] to-[#16162a] border border-gray-800/50 rounded-xl p-6",children:[l.jsxs("div",{className:"mb-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("h2",{className:"text-xl font-bold text-white",children:["Phase ",D,": ",_[D]]}),l.jsxs("span",{className:"text-sm font-bold text-gray-400",children:[V.completed,"/",V.total]})]}),l.jsx("div",{className:"w-full bg-gray-800 rounded-full h-2 overflow-hidden",children:l.jsx("div",{className:`h-full rounded-full transition-all duration-500 ${V.percentage===100?"bg-green-600":"bg-red-600"}`,style:{width:`${V.percentage}%`}})})]}),l.jsx("div",{className:"space-y-4",children:G.map((J,ee)=>{const ue=r.steps.findIndex(oe=>oe.id===J.id),pe=_Pe(J,J.dueDate),ge=i===ue,he=new Date(J.dueDate),Ae=Math.ceil((he-new Date)/(1e3*60*60*24));return l.jsxs("div",{id:`step-${ue}`,className:`border rounded-lg transition-all ${J.completed?"border-green-500/30 bg-green-600/5":pe==="overdue"?"border-red-500/30 bg-red-600/5":"border-gray-700/50"}`,children:[l.jsx("div",{className:"p-4",children:l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("button",{onClick:()=>o(ue),className:"flex-shrink-0 mt-1",children:J.completed?l.jsx(EI,{size:24,className:"text-green-400"}):l.jsx(G6,{size:24,className:"text-gray-600 hover:text-gray-400 transition-colors"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-2 mb-2",children:[l.jsxs("h3",{className:`text-lg font-bold ${J.completed?"text-green-400 line-through":"text-white"}`,children:[J.id,". ",J.title]}),l.jsxs("div",{className:"flex items-center gap-2",children:[!J.completed&&l.jsx("button",{onClick:()=>d(ue),className:`px-3 py-1 rounded-full text-xs font-bold transition-all ${J.inProgress?"bg-yellow-600/20 text-yellow-400 border border-yellow-500/30":"bg-gray-800 text-gray-500 border border-gray-700 hover:bg-gray-700"}`,children:J.inProgress?"In Progress":"Mark In Progress"}),l.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-bold border flex items-center gap-1 ${T(pe)}`,children:[L(pe),J.completed?"Complete":pe==="overdue"?`${Math.abs(Ae)}d overdue`:pe==="in-progress"?"In Progress":Ae===0?"Due today":Ae===1?"Due tomorrow":`${Ae}d remaining`]})]})]}),l.jsx("p",{className:"text-gray-400 text-sm mb-2",children:J.description}),l.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(Pd,{size:14}),"Due: ",new Date(J.dueDate).toLocaleDateString("en-AU")]}),J.completedDate&&l.jsxs("span",{className:"flex items-center gap-1 text-green-400",children:[l.jsx(EI,{size:14}),"Completed: ",new Date(J.completedDate).toLocaleDateString("en-AU")]})]}),l.jsx("button",{onClick:()=>s(ge?null:ue),className:"mt-3 text-sm text-red-500 hover:text-red-400 font-medium flex items-center gap-1 transition-colors",children:ge?l.jsxs(l.Fragment,{children:[l.jsx(eC,{size:16}),"Hide Details"]}):l.jsxs(l.Fragment,{children:[l.jsx(eE,{size:16}),"Show Details & Notes"]})})]})]})}),l.jsx(Pv,{children:ge&&l.jsx(Or.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:l.jsxs("div",{className:"px-4 pb-4 pt-0 border-t border-gray-700/50 mt-4",children:[J.subTasks&&J.subTasks.length>0&&l.jsxs("div",{className:"mt-4",children:[l.jsx("h4",{className:"text-sm font-bold text-white mb-2",children:"Checklist:"}),l.jsx("ul",{className:"space-y-1.5",children:J.subTasks.map((oe,Be)=>l.jsxs("li",{className:"text-sm text-gray-400 flex items-start gap-2",children:[l.jsx("span",{className:"text-red-500 mt-0.5",children:""}),l.jsx("span",{children:oe})]},Be))})]}),J.emailTemplate&&l.jsxs("div",{className:"mt-4",children:[l.jsxs("h4",{className:"text-sm font-bold text-white mb-2 flex items-center gap-2",children:[l.jsx(zW,{size:14}),"Email Template:"]}),l.jsx("div",{className:"bg-gray-900/50 rounded-lg p-4 border border-gray-800",children:l.jsx("pre",{className:"text-xs text-gray-300 whitespace-pre-wrap font-mono",children:J.emailTemplate.replace("[CLIENT_NAME]",r.contactName).replace("[ORG_NAME]",r.orgName)})})]}),l.jsxs("div",{className:"mt-4",children:[l.jsxs("label",{className:"text-sm font-bold text-white mb-2 block flex items-center gap-2",children:[l.jsx(NP,{size:14}),"Notes:"]}),l.jsx("textarea",{value:J.notes,onChange:oe=>f(ue,oe.target.value),placeholder:"Add notes, links, or details for this step...",className:"w-full bg-gray-900/50 border border-gray-700 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-red-500 transition-colors text-sm min-h-[100px] resize-y"})]})]})})})]},J.id)})})]},D)})})]})}),l.jsx(Pv,{children:a&&l.jsx(Or.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 flex items-center justify-center p-4 z-50",onClick:()=>c(!1),children:l.jsxs(Or.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:D=>D.stopPropagation(),className:"bg-gradient-to-br from-[#1a1a2e] to-[#16162a] border border-red-500/30 rounded-xl p-6 max-w-md w-full",children:[l.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Delete Onboarding?"}),l.jsxs("p",{className:"text-gray-400 mb-6",children:["Are you sure you want to delete the onboarding workflow for ",l.jsx("strong",{className:"text-white",children:r.orgName}),"? This action cannot be undone."]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:A,className:"flex-1 px-4 py-3 bg-red-600 hover:bg-red-500 text-white font-bold rounded-lg transition-all",children:"Yes, Delete"}),l.jsx("button",{onClick:()=>c(!1),className:"flex-1 px-4 py-3 bg-gray-700 hover:bg-gray-600 text-white font-bold rounded-lg transition-all",children:"Cancel"})]})]})})})]})}const NPe=".pdf,.doc,.docx,.xls,.xlsx,.csv,.zip",Lg=`image/*,video/*,${NPe},.svg,.ai,.eps`,iK=[{id:"branding",category:"Branding & Assets",icon:"",items:[{id:"logo",label:"High-resolution logo",type:"file",accept:Lg,priority:"essential"},{id:"brand_kit",label:"Brand kit (colors, fonts, guidelines)",type:"file",accept:Lg,priority:"important"},{id:"event_graphics",label:"Event-specific graphics/banners",type:"file",accept:Lg,priority:"important"},{id:"sponsor_logos",label:"Sponsor logos for on-screen display",type:"file",accept:Lg,priority:"nice"}]},{id:"athletes",category:"Athlete Information",icon:"",items:[{id:"registration_list",label:"Registration list (Name, Email, Phone, Instagram)",type:"file",accept:Lg,priority:"essential"},{id:"notable_athletes",label:"Notable athletes to feature",type:"textarea",placeholder:"Champions, rising stars, fan favorites...",priority:"important"}]},{id:"venue",category:"Venue & Technical",icon:"",items:[{id:"floor_plan",label:"Venue floor plan (mat layout)",type:"file",accept:Lg,priority:"essential"},{id:"internet_specs",label:"Internet specs (upload speed, hardwired access)",type:"textarea",placeholder:"e.g., 100Mbps up/down, ethernet available at...",priority:"essential"},{id:"power_locations",label:"Power outlet locations",type:"textarea",placeholder:"Describe where power is available...",priority:"important"},{id:"load_in_time",label:"Load-in/crew access time",type:"text",placeholder:"e.g., 6:00 AM",priority:"important"},{id:"venue_contact",label:"Venue contact for event day",type:"contact",priority:"important"}]},{id:"event",category:"Event Operations",icon:"",items:[{id:"mat_count",label:"Number of mats running",type:"number",placeholder:"e.g., 4",priority:"essential"},{id:"schedule",label:"Event schedule/run sheet",type:"file",accept:Lg,priority:"essential"},{id:"bracket_system",label:"Bracket/scoring system used",type:"text",placeholder:"e.g., Smoothcomp, FloArena...",priority:"important"},{id:"match_comms_method",label:"How match order will be communicated",type:"textarea",placeholder:"e.g., WhatsApp group, printed sheets...",priority:"important"}]},{id:"social",category:"Social & Promotion",icon:"",items:[{id:"org_instagram",label:"Organization Instagram",type:"text",placeholder:"@yourorg",priority:"important"},{id:"org_facebook",label:"Organization Facebook",type:"text",placeholder:"facebook.com/yourorg",priority:"nice"},{id:"org_website",label:"Organization Website",type:"text",placeholder:"https://...",priority:"nice"},{id:"existing_content",label:"Existing footage/photos for promos",type:"file",accept:Lg,priority:"nice"},{id:"existing_content_links",label:"Links to existing footage (Google Drive, Dropbox, etc.)",type:"textarea",placeholder:"Paste links to your existing footage, one per line...",priority:"nice"}]}],IPe=[{id:1,title:"Information Gathering",description:"Complete the checklist so we can prepare everything perfectly",duration:"Week 1-2"},{id:2,title:"Pre-Production",description:"We create custom graphics, overlays, and streaming layouts",duration:"Week 2-3"},{id:3,title:"Technical Setup",description:"Site visit (if needed), equipment prep, streaming tests",duration:"Week 3-4"},{id:4,title:"Athlete Outreach",description:"We contact athletes about media packages and content options",duration:"Week 3-4"},{id:5,title:"Event Day",description:"Our crew arrives, sets up, and delivers world-class coverage",duration:"Show Time!"}];function kPe(){const{token:t}=$m(),[e,r]=j.useState(null),[n,i]=j.useState(!0),[s,a]=j.useState(null),[c,u]=j.useState(new Set(["branding"])),[o,d]=j.useState(!0),[f,A]=j.useState("checklist"),[p,g]=j.useState(!1),[y,v]=j.useState(!1),[b,w]=j.useState(null),[S,_]=j.useState(0),[T,L]=j.useState({}),[D,V]=j.useState({}),[G,J]=j.useState(!1),[ee,ue]=j.useState(null),[pe,ge]=j.useState("");j.useEffect(()=>{if(!t){i(!1),a("No onboarding session found. Please use the link provided by Fit Focus Media.");return}he()},[t]);const he=async()=>{try{const Ce=await gOe(t);r(Ce),L(Ce.collected_data||{}),(Ce.status==="submitted"||Ce.status==="reviewed")&&(J(!0),d(!1))}catch(Ce){a(Ce.message)}finally{i(!1)}},ne=()=>e?.checklist_config?iK.map(Ce=>{const Ze=e.checklist_config[Ce.id]||{};let ze=Ce.items.filter($e=>Ze[$e.id]?.enabled!==!1).map($e=>{const ct=Ze[$e.id];return{...$e,priority:ct?.priority||$e.priority,alreadyHave:ct?.alreadyHave||!1}});return Object.entries(Ze).forEach(([$e,ct])=>{ct.isCustom&&ct.enabled!==!1&&(Ce.items.some(xt=>xt.id===$e)||ze.push({id:$e,label:ct.label,type:ct.type,priority:ct.priority,isCustom:!0,alreadyHave:ct.alreadyHave||!1,accept:ct.type==="file"?"image/*,video/*,.pdf,.doc,.docx,.xls,.xlsx,.csv,.zip,.svg,.ai,.eps":void 0,placeholder:ct.placeholder||""}))}),{...Ce,items:ze}}).filter(Ce=>Ce.items.length>0):iK,Ae=ne(),oe=j.useCallback(async Ce=>{if(!(!e||!t)){g(!0);try{await yOe(t,{collected_data:Ce,checklist_progress:Be(Ce)})}catch(Ze){console.error("Save error:",Ze)}finally{g(!1)}}},[e,t]),Be=Ce=>{const Ze={};return ne().forEach($e=>{$e.items.forEach(ct=>{const Fe=Ce[$e.id]||{},xt=Fe[ct.id]||Fe[`${ct.id}_url`];Ze[`${$e.id}.${ct.id}`]=!!xt&&xt!==""})}),Ze},ke=(Ce,Ze,ze)=>{const $e={...T,[Ce]:{...T[Ce]||{},[Ze]:ze}};L($e),clearTimeout(window.saveTimeout),window.saveTimeout=setTimeout(()=>oe($e),1e3)},ve=20*1024*1024,se=async(Ce,Ze,ze)=>{if(!(!ze||ze.length===0||!e)){for(const $e of ze)if($e.size>ve){const ct=($e.size/1048576).toFixed(1);ue({fileName:$e.name,sizeMB:ct,categoryId:Ce,itemId:Ze}),ge("");return}w(`${Ce}.${Ze}`),_(0);try{for(const $e of ze){const ct=setInterval(()=>{_(pt=>pt>=90?pt:pt+Math.random()*15)},200),Fe=await EOe(e.id,Ce,Ze,$e);clearInterval(ct),_(100),V(pt=>({...pt,[`${Ce}.${Ze}`]:[...pt[`${Ce}.${Ze}`]||[],{name:$e.name,url:Fe.url,id:Fe.file.id}]}));const xt={...T,[Ce]:{...T[Ce]||{},[`${Ze}_url`]:Fe.url}};L(xt),oe(xt)}}catch($e){console.error("Upload error:",$e),ue({fileName:"Upload",sizeMB:null,error:$e.message})}finally{setTimeout(()=>{w(null),_(0)},500)}}},me=async()=>{if(!(!e||!t||y)){v(!0);try{await xOe(t),J(!0),A("checklist")}catch(Ce){console.error("Submit error:",Ce),alert("Submission failed: "+Ce.message)}finally{v(!1)}}},je=()=>{if(!pe.trim()||!ee)return;const{categoryId:Ce,itemId:Ze}=ee,ze=`${Ze}_links`,$e=T[Ce]?.[ze]||[],ct=pe.trim(),Fe=$e.includes(ct)?$e:[...$e,ct],xt={...T,[Ce]:{...T[Ce]||{},[ze]:Fe}};L(xt),oe(xt),ue(null),ge("")},De=(()=>{let Ce=0,Ze=0;return Ae.forEach(ze=>{ze.items.forEach($e=>{Ze++;const ct=T[ze.id]||{},Fe=ct[$e.id]||ct[`${$e.id}_url`];Fe&&Fe!==""&&Ce++})}),{completed:Ce,total:Ze,percent:Math.round(Ce/Ze*100)}})(),ot=Ce=>{u(Ze=>{const ze=new Set(Ze);return ze.has(Ce)?ze.delete(Ce):ze.add(Ce),ze})},ft=Ce=>{const Ze={essential:"bg-red-500/20 text-red-400",important:"bg-yellow-500/20 text-yellow-400",nice:"bg-green-500/20 text-green-400"},ze={essential:"Essential",important:"Important",nice:"Nice to have"};return l.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${Ze[Ce]}`,children:ze[Ce]})};return n?l.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-orange-500 border-t-transparent rounded-full mx-auto mb-4"}),l.jsx("p",{className:"text-gray-400",children:"Loading your onboarding portal..."})]})}):s&&!e?l.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-gray-800 rounded-2xl p-8 max-w-md text-center border border-gray-700",children:[l.jsx("div",{className:"text-red-500 text-4xl mb-4",children:""}),l.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Session Not Found"}),l.jsx("p",{className:"text-gray-400",children:s})]})}):l.jsxs("div",{className:"min-h-screen bg-gray-900",children:[ee&&l.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:l.jsx("div",{className:"bg-gray-800 rounded-2xl p-6 max-w-md w-full border border-gray-700 shadow-xl",children:ee.error?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"w-16 h-16 bg-red-500/20 rounded-2xl flex items-center justify-center mx-auto mb-4",children:l.jsx("span",{className:"text-3xl",children:""})}),l.jsx("h3",{className:"text-xl font-bold text-white text-center mb-2",children:"Upload Failed"}),l.jsx("p",{className:"text-gray-400 text-center mb-6",children:ee.error}),l.jsx("button",{onClick:()=>ue(null),className:"w-full bg-gray-700 hover:bg-gray-600 text-white font-semibold py-3 rounded-xl transition-colors",children:"Close"})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"w-16 h-16 bg-orange-500/20 rounded-2xl flex items-center justify-center mx-auto mb-4",children:l.jsx("span",{className:"text-3xl",children:""})}),l.jsx("h3",{className:"text-xl font-bold text-white text-center mb-2",children:"File Too Large"}),l.jsxs("p",{className:"text-gray-400 text-center mb-4",children:[l.jsxs("span",{className:"text-white font-medium",children:['"',ee.fileName,'"']})," is ",ee.sizeMB,"MB  our upload limit is 20MB."]}),l.jsxs("div",{className:"bg-gray-900 rounded-xl p-4 mb-4",children:[l.jsx("p",{className:"text-orange-500 font-medium mb-3",children:" Paste a share link instead:"}),l.jsx("input",{type:"url",value:pe,onChange:Ce=>ge(Ce.target.value),placeholder:"https://drive.google.com/... or Dropbox link",className:"w-full p-3 bg-gray-800 border border-gray-600 rounded-xl text-white placeholder-gray-500 focus:border-orange-500 focus:outline-none mb-3"}),l.jsx("p",{className:"text-gray-500 text-xs",children:"Upload to Google Drive or Dropbox, then paste the share link above"})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>{ue(null),ge("")},className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white font-semibold py-3 rounded-xl transition-colors",children:"Cancel"}),l.jsx("button",{onClick:je,disabled:!pe.trim(),className:"flex-1 bg-orange-500 hover:bg-orange-600 disabled:bg-gray-700 disabled:cursor-not-allowed text-white font-semibold py-3 rounded-xl transition-colors",children:"Save Link "})]})]})})}),o&&e&&l.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-gray-800 rounded-2xl p-8 max-w-md text-center border border-orange-500/30 shadow-xl shadow-orange-500/10",children:[l.jsx("div",{className:"w-20 h-20 bg-orange-500/20 rounded-2xl flex items-center justify-center mx-auto mb-6",children:l.jsx("span",{className:"text-4xl",children:""})}),l.jsxs("h1",{className:"text-2xl font-bold text-white mb-2",children:["Welcome, ",e.org_name,"! "]}),l.jsx("p",{className:"text-orange-500 font-medium mb-4",children:e.event_name}),l.jsx("p",{className:"text-gray-400 mb-6",children:"We're thrilled to partner with you! This portal will guide you through everything we need to deliver world-class coverage."}),l.jsx("button",{onClick:()=>d(!1),className:"bg-orange-500 hover:bg-orange-600 text-white font-semibold px-8 py-3 rounded-full transition-colors flex items-center gap-2 mx-auto",children:"Let's Get Started "})]})}),l.jsx("header",{className:"sticky top-0 z-40 bg-gray-900/95 backdrop-blur-lg border-b border-gray-800",children:l.jsxs("div",{className:"max-w-3xl mx-auto px-4 h-16 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("img",{src:"/ffm-logo.jpg",alt:"Fit Focus Media",className:"w-10 h-10 rounded-xl object-cover"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-semibold text-white",children:"Fit Focus Media"}),l.jsx("div",{className:"text-xs text-gray-500",children:e?.org_name||"Partner Onboarding"})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[p&&l.jsx("span",{className:"text-orange-500 text-sm animate-pulse",children:"Saving..."}),l.jsxs("div",{className:"bg-orange-500/20 text-orange-500 px-3 py-1 rounded-full text-sm font-semibold",children:[De.percent,"% Complete"]})]})]})}),l.jsx("div",{className:"bg-gray-800/50",children:l.jsx("div",{className:"max-w-3xl mx-auto px-4",children:l.jsx("div",{className:"h-1 bg-gray-700 rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-gradient-to-r from-orange-500 to-orange-400 transition-all duration-500",style:{width:`${De.percent}%`}})})})}),l.jsx("div",{className:"border-b border-gray-800",children:l.jsx("div",{className:"max-w-3xl mx-auto px-4",children:l.jsx("div",{className:"flex gap-1",children:[{id:"checklist",label:"What We Need",icon:""},{id:"timeline",label:"What's Next",icon:""},{id:"contact",label:"Get In Touch",icon:""}].map(Ce=>l.jsxs("button",{onClick:()=>A(Ce.id),className:`flex items-center gap-2 px-4 py-3 font-medium transition-colors border-b-2 ${f===Ce.id?"border-orange-500 text-white":"border-transparent text-gray-500 hover:text-white"}`,children:[l.jsx("span",{children:Ce.icon})," ",Ce.label]},Ce.id))})})}),l.jsxs("main",{className:"max-w-3xl mx-auto px-4 py-8",children:[f==="checklist"&&l.jsxs("div",{children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Information Checklist"}),l.jsx("p",{className:"text-gray-400",children:"Upload files and provide details for the best coverage"})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-8",children:[l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 text-center border border-gray-700",children:[l.jsx("div",{className:"text-2xl font-bold text-orange-500",children:De.completed}),l.jsx("div",{className:"text-xs text-gray-500",children:"Completed"})]}),l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 text-center border border-gray-700",children:[l.jsx("div",{className:"text-2xl font-bold text-yellow-500",children:De.total-De.completed}),l.jsx("div",{className:"text-xs text-gray-500",children:"Remaining"})]}),l.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 text-center border border-gray-700",children:[l.jsx("div",{className:"text-2xl font-bold text-green-500",children:De.total}),l.jsx("div",{className:"text-xs text-gray-500",children:"Total"})]})]}),l.jsx("div",{className:"space-y-3",children:Ae.map(Ce=>{const Ze=T[Ce.id]||{},ze=Ce.items.filter(ct=>{const Fe=Ze[ct.id]||Ze[`${ct.id}_url`];return Fe&&Fe!==""}).length,$e=c.has(Ce.id);return l.jsxs("div",{className:"bg-gray-800 rounded-xl border border-gray-700 overflow-hidden",children:[l.jsxs("button",{onClick:()=>ot(Ce.id),className:"w-full flex items-center justify-between p-4 hover:bg-gray-700/50 transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 bg-orange-500/20 rounded-xl flex items-center justify-center text-xl",children:Ce.icon}),l.jsxs("div",{className:"text-left",children:[l.jsx("div",{className:"font-semibold text-white",children:Ce.category}),l.jsxs("div",{className:"text-sm text-gray-500",children:[ze,"/",Ce.items.length," completed"]})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-20 h-1.5 bg-gray-700 rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-orange-500 transition-all duration-300",style:{width:`${ze/Ce.items.length*100}%`}})}),l.jsx("span",{className:`text-gray-400 transition-transform ${$e?"rotate-180":""}`,children:""})]})]}),$e&&l.jsx("div",{className:"border-t border-gray-700 p-4 space-y-4",children:Ce.items.map(ct=>{const Fe=Ze[ct.id]||Ze[`${ct.id}_url`]||"",xt=Fe!=="",pt=b===`${Ce.id}.${ct.id}`,Bt=D[`${Ce.id}.${ct.id}`]||[],Yr=e?.checklist_config?.[Ce.id]?.[ct.id]?.alreadyHave||!1;return l.jsxs("div",{className:`p-4 rounded-xl border ${xt?"bg-orange-500/5 border-orange-500/30":"bg-gray-900/50 border-gray-700"}`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center text-xs ${xt||Yr?"bg-orange-500 border-orange-500 text-white":"border-gray-600"}`,children:(xt||Yr)&&""}),l.jsx("span",{className:"font-medium text-white",children:ct.label}),Yr&&!xt&&l.jsx("span",{className:"text-xs bg-blue-500/20 text-blue-400 px-2 py-0.5 rounded-full border border-blue-500/30",children:"Already Provided"})]}),ft(ct.priority)]}),ct.type==="file"&&l.jsxs("div",{children:[pt?l.jsxs("div",{className:"p-4 border-2 border-orange-500/50 rounded-xl bg-orange-500/5",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsx("div",{className:"animate-spin text-orange-500",children:""}),l.jsxs("span",{className:"text-white font-medium",children:["Uploading... ",Math.round(S),"%"]})]}),l.jsx("div",{className:"h-2 bg-gray-700 rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-gradient-to-r from-orange-500 to-orange-400 transition-all duration-300 ease-out",style:{width:`${S}%`}})})]}):l.jsxs("label",{className:"flex items-center justify-center gap-2 p-4 border-2 border-dashed border-gray-600 rounded-xl cursor-pointer hover:border-orange-500/50 transition-colors",children:[l.jsx("span",{className:"text-orange-500",children:""}),l.jsx("span",{className:"text-gray-400",children:"Click to upload"}),l.jsx("input",{type:"file",accept:ct.accept,onChange:yr=>se(Ce.id,ct.id,yr.target.files),className:"hidden"})]}),(Bt.length>0||Fe)&&l.jsxs("div",{className:"mt-2 space-y-1",children:[Bt.map((yr,Wr)=>l.jsxs("div",{className:"flex items-center gap-2 p-2 bg-orange-500/10 rounded-lg text-sm",children:[l.jsx("span",{className:"text-orange-500",children:""}),l.jsx("span",{className:"flex-1 text-white truncate",children:yr.name}),l.jsx("a",{href:yr.url,target:"_blank",rel:"noopener noreferrer",className:"text-orange-500 hover:underline",children:"View"})]},Wr)),Fe&&Bt.length===0&&l.jsxs("div",{className:"flex items-center gap-2 p-2 bg-orange-500/10 rounded-lg text-sm",children:[l.jsx("span",{className:"text-orange-500",children:""}),l.jsx("span",{className:"text-white",children:"File uploaded"}),l.jsx("a",{href:Fe,target:"_blank",rel:"noopener noreferrer",className:"text-orange-500 hover:underline ml-auto",children:"View"})]})]}),Ze[`${ct.id}_links`]?.length>0&&l.jsx("div",{className:"mt-2 space-y-1",children:Ze[`${ct.id}_links`].map((yr,Wr)=>l.jsxs("div",{className:"flex items-center gap-2 p-2 bg-blue-500/10 rounded-lg text-sm",children:[l.jsx("span",{className:"text-blue-400",children:""}),l.jsxs("span",{className:"flex-1 text-white truncate",children:[yr.includes("drive.google")?"Google Drive":yr.includes("dropbox")?"Dropbox":"External"," link"]}),l.jsx("a",{href:yr,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline",children:"Open"})]},`link-${Wr}`))})]}),ct.type==="text"&&l.jsx("input",{type:"text",value:Fe,onChange:yr=>ke(Ce.id,ct.id,yr.target.value),placeholder:ct.placeholder,className:"w-full p-3 bg-gray-900 border border-gray-700 rounded-xl text-white placeholder-gray-500 focus:border-orange-500 focus:outline-none"}),ct.type==="number"&&l.jsx("input",{type:"number",value:Fe,onChange:yr=>ke(Ce.id,ct.id,yr.target.value),placeholder:ct.placeholder,className:"w-full p-3 bg-gray-900 border border-gray-700 rounded-xl text-white placeholder-gray-500 focus:border-orange-500 focus:outline-none"}),ct.type==="textarea"&&l.jsx("textarea",{value:Fe,onChange:yr=>ke(Ce.id,ct.id,yr.target.value),placeholder:ct.placeholder,rows:3,className:"w-full p-3 bg-gray-900 border border-gray-700 rounded-xl text-white placeholder-gray-500 focus:border-orange-500 focus:outline-none resize-none"}),ct.type==="contact"&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("input",{type:"text",value:Ze[`${ct.id}_name`]||"",onChange:yr=>ke(Ce.id,`${ct.id}_name`,yr.target.value),placeholder:"Contact name",className:"w-full p-3 bg-gray-900 border border-gray-700 rounded-xl text-white placeholder-gray-500 focus:border-orange-500 focus:outline-none"}),l.jsx("input",{type:"tel",value:Ze[`${ct.id}_phone`]||"",onChange:yr=>ke(Ce.id,`${ct.id}_phone`,yr.target.value),placeholder:"Phone number",className:"w-full p-3 bg-gray-900 border border-gray-700 rounded-xl text-white placeholder-gray-500 focus:border-orange-500 focus:outline-none"}),l.jsx("input",{type:"email",value:Ze[`${ct.id}_email`]||"",onChange:yr=>ke(Ce.id,`${ct.id}_email`,yr.target.value),placeholder:"Email address",className:"w-full p-3 bg-gray-900 border border-gray-700 rounded-xl text-white placeholder-gray-500 focus:border-orange-500 focus:outline-none"})]})]},ct.id)})})]},Ce.id)})}),l.jsxs("div",{className:"mt-8 text-center",children:[G&&l.jsx("div",{className:"mb-4 p-4 bg-green-500/20 border border-green-500/30 rounded-xl inline-block",children:l.jsx("p",{className:"text-green-400 font-medium",children:" Already submitted  you can still make changes below"})}),l.jsx("button",{onClick:me,disabled:De.completed===0||y,className:"bg-orange-500 hover:bg-orange-600 disabled:bg-gray-700 disabled:cursor-not-allowed text-white font-semibold px-8 py-4 rounded-full transition-all inline-flex items-center gap-2",children:y?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"animate-spin",children:""})," Submitting..."]}):l.jsxs(l.Fragment,{children:[l.jsx("span",{children:""})," ",G?"Update Submission":"Submit Onboarding Information"]})}),l.jsxs("p",{className:"text-gray-500 text-sm mt-3 flex items-center justify-center gap-2",children:[p&&l.jsx("span",{className:"text-orange-500 animate-pulse",children:" Saving..."}),!p&&(G?"Changes are auto-saved  click to notify us of updates":"You can submit anytime  we'll reach out if we need anything else")]})]})]}),f==="timeline"&&l.jsxs("div",{children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"What Happens Next"}),l.jsx("p",{className:"text-gray-400",children:"Here's our process from signup to showtime"})]}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute left-8 top-0 bottom-0 w-0.5 bg-gradient-to-b from-orange-500 to-orange-500/20"}),l.jsx("div",{className:"space-y-6",children:IPe.map(Ce=>l.jsxs("div",{className:"flex gap-6",children:[l.jsx("div",{className:"w-16 h-16 bg-gray-800 rounded-2xl border-2 border-orange-500 flex items-center justify-center text-orange-500 text-2xl font-bold relative z-10",children:Ce.id}),l.jsxs("div",{className:"flex-1 bg-gray-800 rounded-xl p-5 border border-gray-700",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("h3",{className:"font-semibold text-white",children:Ce.title}),l.jsx("span",{className:"text-xs bg-orange-500/20 text-orange-500 px-2 py-1 rounded-full",children:Ce.duration})]}),l.jsx("p",{className:"text-gray-400 text-sm",children:Ce.description})]})]},Ce.id))})]})]}),f==="contact"&&l.jsxs("div",{children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Get In Touch"}),l.jsx("p",{className:"text-gray-400",children:"Have questions? We're here to help"})]}),l.jsxs("div",{className:"bg-gray-800 rounded-xl p-6 border border-gray-700",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[l.jsx("div",{className:"w-16 h-16 bg-orange-500/20 rounded-2xl flex items-center justify-center text-3xl",children:""}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-white text-lg",children:"Brandon Hibbs"}),l.jsx("p",{className:"text-gray-400",children:"Founder, Fit Focus Media"})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("a",{href:"mailto:brandon@fitfocusmedia.com.au",className:"flex items-center gap-3 p-4 bg-gray-900 rounded-xl hover:bg-gray-700 transition-colors",children:[l.jsx("span",{className:"text-orange-500",children:""}),l.jsx("span",{className:"text-white",children:"brandon@fitfocusmedia.com.au"})]}),l.jsxs("a",{href:"tel:0411934935",className:"flex items-center gap-3 p-4 bg-gray-900 rounded-xl hover:bg-gray-700 transition-colors",children:[l.jsx("span",{className:"text-orange-500",children:""}),l.jsx("span",{className:"text-white",children:"0411 934 935"})]}),l.jsxs("a",{href:"https://instagram.com/fitfocusmedia",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-4 bg-gray-900 rounded-xl hover:bg-gray-700 transition-colors",children:[l.jsx("span",{className:"text-orange-500",children:""}),l.jsx("span",{className:"text-white",children:"@fitfocusmedia"})]})]})]})]})]}),l.jsxs("footer",{className:"border-t border-gray-800 py-6 text-center",children:[l.jsx("p",{className:"text-gray-600 text-sm",children:" 2026 Fit Focus Media. All rights reserved."}),l.jsx("p",{className:"text-gray-700 text-xs mt-1",children:"Delivering world-class event coverage across Australia "})]})]})}const BPe=[{id:"event-wng3-2024",name:"WNG 3  Who's Next Grappling",date:"2024-03-15",venue:"Brisbane Convention Centre",org_name:"Who's Next",created_at:"2024-03-01T10:00:00Z"},{id:"event-afn8-2024",name:"Aggression Fight Night 8",date:"2024-02-10",venue:"The Fortitude Music Hall",org_name:"Aggression",created_at:"2024-02-01T10:00:00Z"}],LPe=[{id:"athlete-jsmith-001",name:"Jake Smith",email:"jake.smith@example.com",sport:"Brazilian Jiu-Jitsu",gym:"Gracie Brisbane",created_at:"2024-01-15T08:00:00Z"},{id:"athlete-mchen-002",name:"Michelle Chen",email:"michelle.chen@example.com",sport:"MMA",gym:"Integrated MMA",created_at:"2024-01-20T09:00:00Z"},{id:"athlete-rjones-003",name:"Ryan Jones",email:"ryan.jones@example.com",sport:"Muay Thai",gym:"Roundhouse Brisbane",created_at:"2024-02-01T10:00:00Z"}],RPe=[{id:"content-001",athlete_id:"athlete-jsmith-001",event_id:"event-wng3-2024",type:"photo",title:"Match Action - Guard Pass",drive_url:"https://via.placeholder.com/1200x800/0d0d1a/e51d1d?text=Guard+Pass",thumbnail_url:"https://via.placeholder.com/400x300/0d0d1a/e51d1d?text=Guard+Pass",package_type:"vip",created_at:"2024-03-16T10:00:00Z"},{id:"content-002",athlete_id:"athlete-jsmith-001",event_id:"event-wng3-2024",type:"photo",title:"Submission Attempt",drive_url:"https://via.placeholder.com/1200x800/0d0d1a/e51d1d?text=Submission",thumbnail_url:"https://via.placeholder.com/400x300/0d0d1a/e51d1d?text=Submission",package_type:"vip",created_at:"2024-03-16T10:05:00Z"},{id:"content-003",athlete_id:"athlete-jsmith-001",event_id:"event-wng3-2024",type:"photo",title:"Victory Moment",drive_url:"https://via.placeholder.com/1200x800/0d0d1a/FFD700?text=Victory",thumbnail_url:"https://via.placeholder.com/400x300/0d0d1a/FFD700?text=Victory",package_type:"vip",created_at:"2024-03-16T10:10:00Z"},{id:"content-004",athlete_id:"athlete-jsmith-001",event_id:"event-wng3-2024",type:"photo",title:"Podium Celebration",drive_url:"https://via.placeholder.com/1200x800/0d0d1a/FFD700?text=Podium",thumbnail_url:"https://via.placeholder.com/400x300/0d0d1a/FFD700?text=Podium",package_type:"vip",created_at:"2024-03-16T10:15:00Z"},{id:"content-005",athlete_id:"athlete-jsmith-001",event_id:"event-wng3-2024",type:"video",title:"Walkout",drive_url:"https://via.placeholder.com/1920x1080/0d0d1a/e51d1d?text=Walkout+Video",thumbnail_url:"https://via.placeholder.com/640x360/0d0d1a/e51d1d?text=Walkout+Video",package_type:"vip",duration:"0:45",created_at:"2024-03-16T11:00:00Z"},{id:"content-006",athlete_id:"athlete-jsmith-001",event_id:"event-wng3-2024",type:"video",title:"Match Highlight",drive_url:"https://via.placeholder.com/1920x1080/0d0d1a/e51d1d?text=Match+Highlight",thumbnail_url:"https://via.placeholder.com/640x360/0d0d1a/e51d1d?text=Match+Highlight",package_type:"vip",duration:"2:30",created_at:"2024-03-16T11:05:00Z"},{id:"content-007",athlete_id:"athlete-jsmith-001",event_id:"event-wng3-2024",type:"video",title:"Victory Moment",drive_url:"https://via.placeholder.com/1920x1080/0d0d1a/FFD700?text=Victory+Video",thumbnail_url:"https://via.placeholder.com/640x360/0d0d1a/FFD700?text=Victory+Video",package_type:"vip",duration:"0:30",created_at:"2024-03-16T11:10:00Z"},{id:"content-008",athlete_id:"athlete-mchen-002",event_id:"event-afn8-2024",type:"photo",title:"Opening Exchange",drive_url:"https://via.placeholder.com/1200x800/0d0d1a/e51d1d?text=Opening+Exchange",thumbnail_url:"https://via.placeholder.com/400x300/0d0d1a/e51d1d?text=Opening+Exchange",package_type:"match",created_at:"2024-02-11T10:00:00Z"},{id:"content-009",athlete_id:"athlete-mchen-002",event_id:"event-afn8-2024",type:"photo",title:"Head Kick",drive_url:"https://via.placeholder.com/1200x800/0d0d1a/e51d1d?text=Head+Kick",thumbnail_url:"https://via.placeholder.com/400x300/0d0d1a/e51d1d?text=Head+Kick",package_type:"match",created_at:"2024-02-11T10:05:00Z"},{id:"content-010",athlete_id:"athlete-mchen-002",event_id:"event-afn8-2024",type:"photo",title:"Ground Control",drive_url:"https://via.placeholder.com/1200x800/0d0d1a/e51d1d?text=Ground+Control",thumbnail_url:"https://via.placeholder.com/400x300/0d0d1a/e51d1d?text=Ground+Control",package_type:"match",created_at:"2024-02-11T10:10:00Z"},{id:"content-011",athlete_id:"athlete-mchen-002",event_id:"event-afn8-2024",type:"video",title:"Match Highlight",drive_url:"https://via.placeholder.com/1920x1080/0d0d1a/e51d1d?text=Match+Highlight",thumbnail_url:"https://via.placeholder.com/640x360/0d0d1a/e51d1d?text=Match+Highlight",package_type:"match",duration:"1:45",created_at:"2024-02-11T11:00:00Z"},{id:"content-012",athlete_id:"athlete-rjones-003",event_id:"event-wng3-2024",type:"photo",title:"Clinch Work",drive_url:"https://via.placeholder.com/1200x800/0d0d1a/e51d1d?text=Clinch+Work",thumbnail_url:"https://via.placeholder.com/400x300/0d0d1a/e51d1d?text=Clinch+Work",package_type:"match",created_at:"2024-03-16T12:00:00Z"},{id:"content-013",athlete_id:"athlete-rjones-003",event_id:"event-wng3-2024",type:"photo",title:"Knee Strike",drive_url:"https://via.placeholder.com/1200x800/0d0d1a/e51d1d?text=Knee+Strike",thumbnail_url:"https://via.placeholder.com/400x300/0d0d1a/e51d1d?text=Knee+Strike",package_type:"match",created_at:"2024-03-16T12:05:00Z"},{id:"content-014",athlete_id:"athlete-rjones-003",event_id:"event-wng3-2024",type:"video",title:"Match Highlight",drive_url:"https://via.placeholder.com/1920x1080/0d0d1a/e51d1d?text=Match+Highlight",thumbnail_url:"https://via.placeholder.com/640x360/0d0d1a/e51d1d?text=Match+Highlight",package_type:"match",duration:"1:30",created_at:"2024-03-16T12:30:00Z"}],OPe=[{athlete_id:"athlete-jsmith-001",event_id:"event-wng3-2024",package_type:"vip",granted_at:"2024-03-16T09:00:00Z"},{athlete_id:"athlete-mchen-002",event_id:"event-afn8-2024",package_type:"match",granted_at:"2024-02-11T09:00:00Z"},{athlete_id:"athlete-rjones-003",event_id:"event-wng3-2024",package_type:"match",granted_at:"2024-03-16T09:00:00Z"}],PPe=()=>{const t=localStorage.getItem("ffm_athlete_profiles"),e=localStorage.getItem("ffm_athlete_events"),r=localStorage.getItem("ffm_athlete_content"),n=localStorage.getItem("ffm_athlete_access");t||localStorage.setItem("ffm_athlete_profiles",JSON.stringify(LPe)),e||localStorage.setItem("ffm_athlete_events",JSON.stringify(BPe)),r||localStorage.setItem("ffm_athlete_content",JSON.stringify(RPe)),n||localStorage.setItem("ffm_athlete_access",JSON.stringify(OPe)),console.log(" Athlete portal seed data loaded")};function DPe(){const t=ic(),[e,r]=j.useState(""),[n,i]=j.useState(""),[s,a]=j.useState(""),[c,u]=j.useState(!1);j.useEffect(()=>{PPe()},[]);const o=async d=>{d.preventDefault(),a(""),u(!0),setTimeout(()=>{const A=JSON.parse(localStorage.getItem("ffm_athlete_profiles")||"[]").find(p=>p.email===e);A?(sessionStorage.setItem("athlete_user",JSON.stringify(A)),t("/athlete/dashboard")):(a("Invalid email or password. Try: jake.smith@example.com"),u(!1))},800)};return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#0d0d1a] via-[#1a1a2e] to-[#0d0d1a] flex items-center justify-center px-4",children:l.jsxs(Or.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsxs(Or.h1,{initial:{scale:.9},animate:{scale:1},transition:{duration:.5,delay:.1},className:"text-4xl md:text-5xl font-black text-white mb-2",children:["FIT FOCUS ",l.jsx("span",{className:"text-[#e51d1d]",children:"MEDIA"})]}),l.jsx("p",{className:"text-gray-400 text-lg",children:"Athlete Portal"})]}),l.jsxs(Or.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"bg-[#1a1a2e]/80 backdrop-blur-xl border border-white/10 rounded-2xl p-8 shadow-2xl",children:[l.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Sign In"}),s&&l.jsxs(Or.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mb-6 p-4 bg-red-500/10 border border-red-500/30 rounded-lg flex items-start gap-3",children:[l.jsx(Wv,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),l.jsx("p",{className:"text-sm text-red-400",children:s})]}),l.jsxs("form",{onSubmit:o,className:"space-y-5",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-2",children:"Email Address"}),l.jsxs("div",{className:"relative",children:[l.jsx(Yv,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),l.jsx("input",{id:"email",type:"email",value:e,onChange:d=>r(d.target.value),className:"w-full bg-[#0d0d1a]/50 border border-white/10 rounded-lg pl-11 pr-4 py-3 text-white placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-[#e51d1d]/50 focus:border-[#e51d1d]/50 transition-all",placeholder:"your.email@example.com",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(VW,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),l.jsx("input",{id:"password",type:"password",value:n,onChange:d=>i(d.target.value),className:"w-full bg-[#0d0d1a]/50 border border-white/10 rounded-lg pl-11 pr-4 py-3 text-white placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-[#e51d1d]/50 focus:border-[#e51d1d]/50 transition-all",placeholder:"",required:!0})]})]}),l.jsx("div",{className:"flex justify-end",children:l.jsx(gs,{to:"/athlete/forgot-password",className:"text-sm text-[#e51d1d] hover:text-red-400 transition-colors",children:"Forgot password?"})}),l.jsx("button",{type:"submit",disabled:c,className:"w-full bg-gradient-to-r from-[#e51d1d] to-red-600 text-white font-semibold py-3 rounded-lg hover:from-red-600 hover:to-[#e51d1d] transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:c?l.jsxs(l.Fragment,{children:[l.jsx(QW,{className:"w-5 h-5 animate-spin"}),"Signing in..."]}):"Sign In"})]}),l.jsx("div",{className:"mt-6 pt-6 border-t border-white/10 text-center",children:l.jsxs("p",{className:"text-gray-400",children:["New athlete?"," ",l.jsx(gs,{to:"/athlete/register",className:"text-[#e51d1d] hover:text-red-400 font-semibold transition-colors",children:"Register here"})]})}),l.jsx("div",{className:"mt-4 text-center",children:l.jsx(gs,{to:"/athlete/packages",className:"text-sm text-gray-500 hover:text-gray-300 transition-colors",children:"Browse Packages"})})]}),l.jsx(Or.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.4},className:"mt-6 p-4 bg-blue-500/10 border border-blue-500/30 rounded-lg text-center",children:l.jsxs("p",{className:"text-sm text-blue-300",children:[l.jsx("strong",{children:"Demo:"})," jake.smith@example.com | michelle.chen@example.com | ryan.jones@example.com"]})})]})})}const mu={PROFILES:"ffm_athlete_profiles",EVENTS:"ffm_athlete_events",CONTENT:"ffm_athlete_content",ACCESS:"ffm_athlete_access"},nh=t=>{try{const e=localStorage.getItem(t);return e?JSON.parse(e):[]}catch(e){return console.error(`Error reading ${t}:`,e),[]}},dj=(t,e)=>{try{localStorage.setItem(t,JSON.stringify(e))}catch(r){console.error(`Error writing ${t}:`,r)}},_M=()=>`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,MPe=t=>{const e=nh(mu.PROFILES),r={id:_M(),name:t.name,email:t.email,sport:t.sport||"",gym:t.gym||"",created_at:new Date().toISOString()};return e.push(r),dj(mu.PROFILES,e),r},FPe=()=>nh(mu.PROFILES),UPe=()=>nh(mu.EVENTS).sort((t,e)=>new Date(e.date)-new Date(t.date)),$Pe=t=>nh(mu.EVENTS).find(r=>r.id===t),HPe=t=>{const e=nh(mu.EVENTS),r={id:_M(),name:t.name,date:t.date,venue:t.venue||"",org_name:t.org_name||"",created_at:new Date().toISOString()};return e.push(r),dj(mu.EVENTS,e),r},TM=t=>{const e=nh(mu.ACCESS),r=nh(mu.EVENTS),n=e.filter(s=>s.athlete_id===t),i=[...new Set(n.map(s=>s.event_id))];return r.filter(s=>i.includes(s.id)).map(s=>{const a=n.find(c=>c.event_id===s.id);return{...s,package_type:a?.package_type||"match",granted_at:a?.granted_at}}).sort((s,a)=>new Date(a.date)-new Date(s.date))},QPe=(t,e)=>{const r=nh(mu.CONTENT);return nh(mu.ACCESS).some(s=>s.athlete_id===t&&s.event_id===e)?r.filter(s=>s.athlete_id===t&&s.event_id===e).sort((s,a)=>new Date(a.created_at)-new Date(s.created_at)):[]},sK=t=>nh(mu.CONTENT).filter(r=>r.athlete_id===t).sort((r,n)=>new Date(n.created_at)-new Date(r.created_at)),VPe=t=>{const e=nh(mu.CONTENT),r=TM(t),n=e.filter(c=>c.athlete_id===t),i=n.filter(c=>c.type==="photo"),s=n.filter(c=>c.type==="video"),a=r.length>0?r[0].package_type:null;return{totalEvents:r.length,totalPhotos:i.length,totalVideos:s.length,activePackage:a}},KPe=(t,e,r,n)=>{const i=nh(mu.CONTENT),s=nh(mu.ACCESS),a=r.map(u=>({id:_M(),athlete_id:t,event_id:e,type:u.type,title:u.title||"",drive_url:u.drive_url,thumbnail_url:u.thumbnail_url||u.drive_url,package_type:n,duration:u.duration||null,created_at:new Date().toISOString()}));return i.push(...a),dj(mu.CONTENT,i),s.find(u=>u.athlete_id===t&&u.event_id===e)||(s.push({athlete_id:t,event_id:e,package_type:n,granted_at:new Date().toISOString()}),dj(mu.ACCESS,s)),a},GPe=t=>nh(mu.CONTENT).filter(r=>r.event_id===t),zPe=t=>{const r=nh(mu.CONTENT).filter(i=>i.athlete_id===t),n=TM(t);return{totalEvents:n.length,totalPhotos:r.filter(i=>i.type==="photo").length,totalVideos:r.filter(i=>i.type==="video").length,packages:n.map(i=>i.package_type)}},_R=t=>({vip:"VIP Package",match:"Match Package",season:"Season Pass"})[t]||t,Are=t=>({vip:"from-yellow-500/20 to-amber-600/20 border-yellow-500/30",match:"from-blue-500/20 to-cyan-600/20 border-blue-500/30",season:"from-purple-500/20 to-pink-600/20 border-purple-500/30"})[t]||"from-gray-500/20 to-gray-600/20 border-gray-500/30",mre=t=>new Date(t).toLocaleDateString("en-AU",{year:"numeric",month:"long",day:"numeric"}),FS=t=>{const e=[/\/file\/d\/([a-zA-Z0-9_-]+)/,/id=([a-zA-Z0-9_-]+)/,/\/d\/([a-zA-Z0-9_-]+)/];for(const r of e){const n=t.match(r);if(n)return`https://drive.google.com/uc?export=download&id=${n[1]}`}return t},WPe=["Brazilian Jiu-Jitsu","MMA","Muay Thai","Boxing","Wrestling","Judo","Kickboxing","Other"];function YPe(){const t=ic(),[e,r]=j.useState({name:"",email:"",password:"",confirmPassword:"",sport:"",gym:""}),[n,i]=j.useState(""),[s,a]=j.useState(!1),c=o=>{r({...e,[o.target.name]:o.target.value})},u=async o=>{if(o.preventDefault(),i(""),e.password!==e.confirmPassword){i("Passwords do not match");return}if(e.password.length<6){i("Password must be at least 6 characters");return}a(!0),setTimeout(()=>{try{if(JSON.parse(localStorage.getItem("ffm_athlete_profiles")||"[]").find(p=>p.email===e.email)){i("An account with this email already exists"),a(!1);return}const A=MPe({name:e.name,email:e.email,sport:e.sport,gym:e.gym});sessionStorage.setItem("athlete_user",JSON.stringify(A)),t("/athlete/dashboard")}catch{i("Registration failed. Please try again."),a(!1)}},800)};return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#0d0d1a] via-[#1a1a2e] to-[#0d0d1a] flex items-center justify-center px-4 py-12",children:l.jsxs(Or.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsxs(Or.h1,{initial:{scale:.9},animate:{scale:1},transition:{duration:.5,delay:.1},className:"text-4xl md:text-5xl font-black text-white mb-2",children:["FIT FOCUS ",l.jsx("span",{className:"text-[#e51d1d]",children:"MEDIA"})]}),l.jsx("p",{className:"text-gray-400 text-lg",children:"Athlete Portal"})]}),l.jsxs(Or.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"bg-[#1a1a2e]/80 backdrop-blur-xl border border-white/10 rounded-2xl p-8 shadow-2xl",children:[l.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Create Account"}),l.jsx("p",{className:"text-gray-400 text-sm mb-6",children:"Join the FFM athlete community"}),n&&l.jsxs(Or.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mb-6 p-4 bg-red-500/10 border border-red-500/30 rounded-lg flex items-start gap-3",children:[l.jsx(Wv,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),l.jsx("p",{className:"text-sm text-red-400",children:n})]}),l.jsxs("form",{onSubmit:u,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-300 mb-2",children:"Full Name"}),l.jsxs("div",{className:"relative",children:[l.jsx(Yv,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),l.jsx("input",{id:"name",name:"name",type:"text",value:e.name,onChange:c,className:"w-full bg-[#0d0d1a]/50 border border-white/10 rounded-lg pl-11 pr-4 py-3 text-white placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-[#e51d1d]/50 focus:border-[#e51d1d]/50 transition-all",placeholder:"John Smith",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-2",children:"Email Address"}),l.jsxs("div",{className:"relative",children:[l.jsx(af,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),l.jsx("input",{id:"email",name:"email",type:"email",value:e.email,onChange:c,className:"w-full bg-[#0d0d1a]/50 border border-white/10 rounded-lg pl-11 pr-4 py-3 text-white placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-[#e51d1d]/50 focus:border-[#e51d1d]/50 transition-all",placeholder:"your.email@example.com",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"sport",className:"block text-sm font-medium text-gray-300 mb-2",children:"Sport / Discipline"}),l.jsxs("div",{className:"relative",children:[l.jsx($ue,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),l.jsxs("select",{id:"sport",name:"sport",value:e.sport,onChange:c,className:"w-full bg-[#0d0d1a]/50 border border-white/10 rounded-lg pl-11 pr-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-[#e51d1d]/50 focus:border-[#e51d1d]/50 transition-all appearance-none",required:!0,children:[l.jsx("option",{value:"",children:"Select your sport"}),WPe.map(o=>l.jsx("option",{value:o,children:o},o))]})]})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"gym",className:"block text-sm font-medium text-gray-300 mb-2",children:["Gym / Team ",l.jsx("span",{className:"text-gray-500 text-xs",children:"(optional)"})]}),l.jsxs("div",{className:"relative",children:[l.jsx(pue,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),l.jsx("input",{id:"gym",name:"gym",type:"text",value:e.gym,onChange:c,className:"w-full bg-[#0d0d1a]/50 border border-white/10 rounded-lg pl-11 pr-4 py-3 text-white placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-[#e51d1d]/50 focus:border-[#e51d1d]/50 transition-all",placeholder:"Your gym or team"})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(VW,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),l.jsx("input",{id:"password",name:"password",type:"password",value:e.password,onChange:c,className:"w-full bg-[#0d0d1a]/50 border border-white/10 rounded-lg pl-11 pr-4 py-3 text-white placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-[#e51d1d]/50 focus:border-[#e51d1d]/50 transition-all",placeholder:"",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-300 mb-2",children:"Confirm Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(Cw,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),l.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",value:e.confirmPassword,onChange:c,className:"w-full bg-[#0d0d1a]/50 border border-white/10 rounded-lg pl-11 pr-4 py-3 text-white placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-[#e51d1d]/50 focus:border-[#e51d1d]/50 transition-all",placeholder:"",required:!0})]})]}),l.jsx("button",{type:"submit",disabled:s,className:"w-full bg-gradient-to-r from-[#e51d1d] to-red-600 text-white font-semibold py-3 rounded-lg hover:from-red-600 hover:to-[#e51d1d] transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 mt-6",children:s?l.jsxs(l.Fragment,{children:[l.jsx(QW,{className:"w-5 h-5 animate-spin"}),"Creating account..."]}):"Create Account"})]}),l.jsx("div",{className:"mt-6 pt-6 border-t border-white/10 text-center",children:l.jsxs("p",{className:"text-gray-400",children:["Already have an account?"," ",l.jsx(gs,{to:"/athlete",className:"text-[#e51d1d] hover:text-red-400 font-semibold transition-colors",children:"Sign in"})]})})]})]})})}const qPe=[{id:"match",name:"Match Package",price:175,icon:c0,color:"from-blue-500/20 to-cyan-600/20",borderColor:"border-blue-500/30",textColor:"text-blue-400",features:["All fight photos (high resolution)","Match highlight video clip","Instant download access","Share on social media","Available within 48 hours"]},{id:"vip",name:"VIP Package",price:350,icon:Due,color:"from-yellow-500/20 to-amber-600/20",borderColor:"border-yellow-500/30",textColor:"text-yellow-400",badge:"Most Popular",features:["All fight photos (high resolution)","Match highlight video","Walkout video","Victory moment video","Behind-the-scenes content","Priority delivery (24 hours)","Unlimited downloads"]},{id:"season",name:"Season Pass",price:899,priceNote:"/year",icon:$L,color:"from-purple-500/20 to-pink-600/20",borderColor:"border-purple-500/30",textColor:"text-purple-400",badge:"Best Value",features:["All content from every event","Unlimited events for full year","VIP package benefits for each event","Early access to content","Exclusive athlete portal access","Personalized highlight reels","Save over $1,000 per year"]}],XPe=[{question:"When will I get my content?",answer:"Match Package content is delivered within 48 hours of the event. VIP Package customers receive priority delivery within 24 hours. Season Pass holders get early access as soon as content is ready."},{question:"What format are the files?",answer:"Photos are delivered in high-resolution JPEG format (4K-6K resolution). Videos are provided in MP4 format at 1080p or 4K, optimized for both social media sharing and archival quality."},{question:"Can I share my content on social media?",answer:"Absolutely! All content is yours to share. We encourage you to share your highlight moments on Instagram, Facebook, TikTok, and other platforms. Your success is our success!"},{question:"How do I access my content?",answer:"After purchasing, you'll receive an email with login credentials to your personal athlete portal. All your content is organized by event and available for instant download anytime, anywhere."},{question:"Can I purchase content after the event?",answer:"Yes! Content is available for purchase for 90 days after the event. However, we recommend purchasing in advance to ensure priority processing and the best pricing."},{question:"What if I compete in multiple events?",answer:"If you compete in 3+ events per year, the Season Pass is your best value. It covers all events for an entire year and saves you over $1,000 compared to individual packages."}];function ZPe(){const[t,e]=j.useState(null);return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#0d0d1a] via-[#1a1a2e] to-[#0d0d1a]",children:[l.jsx("div",{className:"bg-[#1a1a2e]/50 backdrop-blur-xl border-b border-white/10",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(gs,{to:"/athlete",className:"text-2xl font-black text-white",children:["FIT FOCUS ",l.jsx("span",{className:"text-[#e51d1d]",children:"MEDIA"})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(gs,{to:"/athlete",className:"text-sm text-gray-400 hover:text-white transition-colors",children:"Sign In"}),l.jsx(gs,{to:"/athlete/register",className:"bg-gradient-to-r from-[#e51d1d] to-red-600 text-white font-semibold px-6 py-2 rounded-lg hover:from-red-600 hover:to-[#e51d1d] transition-all text-sm",children:"Get Started"})]})]})})}),l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 md:py-20",children:[l.jsxs(Or.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-16",children:[l.jsxs("div",{className:"inline-flex items-center gap-2 bg-[#e51d1d]/20 border border-[#e51d1d]/30 px-4 py-2 rounded-full mb-6",children:[l.jsx(LP,{className:"w-4 h-4 text-[#e51d1d]"}),l.jsx("span",{className:"text-sm font-semibold text-[#e51d1d]",children:"Professional Fight Media"})]}),l.jsxs("h1",{className:"text-4xl md:text-6xl font-black text-white mb-6",children:["Capture Your ",l.jsx("span",{className:"text-[#e51d1d]",children:"Victory"})]}),l.jsx("p",{className:"text-xl text-gray-400 max-w-3xl mx-auto",children:"Professional fight photography and videography packages for combat sports athletes. Relive your moments, share your glory."})]}),l.jsx("div",{className:"grid md:grid-cols-3 gap-8 mb-20",children:qPe.map((r,n)=>{const i=r.icon;return l.jsxs(Or.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:n*.1},className:`bg-gradient-to-br ${r.color} backdrop-blur-xl border ${r.borderColor} rounded-2xl p-8 hover:scale-105 transition-transform relative`,children:[r.badge&&l.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2",children:l.jsx("div",{className:"bg-gradient-to-r from-[#e51d1d] to-red-600 text-white text-xs font-bold px-4 py-1 rounded-full",children:r.badge})}),l.jsx("div",{className:`w-12 h-12 rounded-lg bg-gradient-to-br ${r.color} border ${r.borderColor} flex items-center justify-center mb-4`,children:l.jsx(i,{className:`w-6 h-6 ${r.textColor}`})}),l.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:r.name}),l.jsxs("div",{className:"mb-6",children:[l.jsxs("span",{className:"text-4xl font-black text-white",children:["$",r.price]}),r.priceNote&&l.jsx("span",{className:"text-gray-400 text-lg",children:r.priceNote})]}),l.jsx("ul",{className:"space-y-3 mb-8",children:r.features.map((s,a)=>l.jsxs("li",{className:"flex items-start gap-3",children:[l.jsx(bo,{className:`w-5 h-5 ${r.textColor} flex-shrink-0 mt-0.5`}),l.jsx("span",{className:"text-gray-300 text-sm",children:s})]},a))}),l.jsx("a",{href:`mailto:info@fitfocusmedia.com.au?subject=Purchase ${r.name}&body=Hi Brandon, I'd like to purchase the ${r.name} ($${r.price}).`,className:`block w-full bg-gradient-to-r ${r.color} border ${r.borderColor} ${r.textColor} font-semibold py-3 rounded-lg hover:scale-105 transition-transform text-center`,children:"Purchase Now"})]},r.id)})}),l.jsxs(Or.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-[#1a1a2e]/50 backdrop-blur-xl border border-white/10 rounded-2xl overflow-hidden mb-20",children:[l.jsxs("div",{className:"p-8 border-b border-white/10",children:[l.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Package Comparison"}),l.jsx("p",{className:"text-gray-400",children:"Choose the package that fits your needs"})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-[#0d0d1a]/50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"text-left p-4 text-gray-400 font-semibold",children:"Feature"}),l.jsx("th",{className:"text-center p-4 text-gray-400 font-semibold",children:"Match"}),l.jsx("th",{className:"text-center p-4 text-gray-400 font-semibold",children:"VIP"}),l.jsx("th",{className:"text-center p-4 text-gray-400 font-semibold",children:"Season"})]})}),l.jsxs("tbody",{className:"divide-y divide-white/10",children:[l.jsxs("tr",{children:[l.jsx("td",{className:"p-4 text-gray-300",children:"Fight Photos (High-Res)"}),l.jsx("td",{className:"text-center p-4",children:l.jsx(bo,{className:"w-5 h-5 text-green-400 mx-auto"})}),l.jsx("td",{className:"text-center p-4",children:l.jsx(bo,{className:"w-5 h-5 text-green-400 mx-auto"})}),l.jsx("td",{className:"text-center p-4",children:l.jsx(bo,{className:"w-5 h-5 text-green-400 mx-auto"})})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"p-4 text-gray-300",children:"Match Highlight Video"}),l.jsx("td",{className:"text-center p-4",children:l.jsx(bo,{className:"w-5 h-5 text-green-400 mx-auto"})}),l.jsx("td",{className:"text-center p-4",children:l.jsx(bo,{className:"w-5 h-5 text-green-400 mx-auto"})}),l.jsx("td",{className:"text-center p-4",children:l.jsx(bo,{className:"w-5 h-5 text-green-400 mx-auto"})})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"p-4 text-gray-300",children:"Walkout Video"}),l.jsx("td",{className:"text-center p-4 text-gray-600",children:""}),l.jsx("td",{className:"text-center p-4",children:l.jsx(bo,{className:"w-5 h-5 text-green-400 mx-auto"})}),l.jsx("td",{className:"text-center p-4",children:l.jsx(bo,{className:"w-5 h-5 text-green-400 mx-auto"})})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"p-4 text-gray-300",children:"Victory Moment Video"}),l.jsx("td",{className:"text-center p-4 text-gray-600",children:""}),l.jsx("td",{className:"text-center p-4",children:l.jsx(bo,{className:"w-5 h-5 text-green-400 mx-auto"})}),l.jsx("td",{className:"text-center p-4",children:l.jsx(bo,{className:"w-5 h-5 text-green-400 mx-auto"})})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"p-4 text-gray-300",children:"Delivery Time"}),l.jsx("td",{className:"text-center p-4 text-gray-300",children:"48hrs"}),l.jsx("td",{className:"text-center p-4 text-yellow-400",children:"24hrs"}),l.jsx("td",{className:"text-center p-4 text-purple-400",children:"Priority"})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"p-4 text-gray-300",children:"Number of Events"}),l.jsx("td",{className:"text-center p-4 text-gray-300",children:"1"}),l.jsx("td",{className:"text-center p-4 text-gray-300",children:"1"}),l.jsx("td",{className:"text-center p-4 text-purple-400",children:"Unlimited"})]})]})]})})]}),l.jsxs(Or.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Frequently Asked Questions"}),l.jsx("p",{className:"text-gray-400",children:"Everything you need to know about our packages"})]}),l.jsx("div",{className:"max-w-3xl mx-auto space-y-4",children:XPe.map((r,n)=>l.jsxs(Or.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.6+n*.05},className:"bg-[#1a1a2e]/50 backdrop-blur-xl border border-white/10 rounded-xl overflow-hidden",children:[l.jsxs("button",{onClick:()=>e(t===n?null:n),className:"w-full p-6 flex items-center justify-between text-left hover:bg-white/5 transition-colors",children:[l.jsx("span",{className:"text-lg font-semibold text-white pr-4",children:r.question}),l.jsx(eE,{className:`w-5 h-5 text-gray-400 flex-shrink-0 transition-transform ${t===n?"rotate-180":""}`})]}),t===n&&l.jsx(Or.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"px-6 pb-6",children:l.jsx("p",{className:"text-gray-400 leading-relaxed",children:r.answer})})]},n))})]}),l.jsxs(Or.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"mt-20 bg-gradient-to-r from-[#e51d1d]/20 via-red-600/20 to-purple-600/20 border border-[#e51d1d]/30 rounded-2xl p-12 text-center",children:[l.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Ready to Capture Your Glory?"}),l.jsx("p",{className:"text-xl text-gray-300 mb-8 max-w-2xl mx-auto",children:"Create an account or contact us to purchase a package for your next event."}),l.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[l.jsx(gs,{to:"/athlete/register",className:"bg-gradient-to-r from-[#e51d1d] to-red-600 text-white font-bold px-8 py-4 rounded-lg hover:from-red-600 hover:to-[#e51d1d] transition-all text-lg",children:"Create Account"}),l.jsxs("a",{href:"mailto:info@fitfocusmedia.com.au?subject=Package Inquiry",className:"flex items-center gap-2 bg-white/10 border border-white/20 text-white font-semibold px-8 py-4 rounded-lg hover:bg-white/20 transition-all text-lg",children:[l.jsx(af,{className:"w-5 h-5"}),"Contact Us"]})]})]})]})]})}function pre({children:t}){const e=ic(),r=hf(),[n,i]=j.useState(null),[s,a]=j.useState(!1);j.useEffect(()=>{const o=sessionStorage.getItem("athlete_user");if(!o){e("/athlete");return}i(JSON.parse(o))},[e]);const c=()=>{sessionStorage.removeItem("athlete_user"),e("/athlete")},u=[{path:"/athlete/dashboard",label:"Dashboard",icon:Zue},{path:"/athlete/content",label:"My Content",icon:f0},{path:"/athlete/packages",label:"Packages",icon:c0},{path:"/athlete/account",label:"Account",icon:Yv}];return n?l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#0d0d1a] via-[#1a1a2e] to-[#0d0d1a]",children:[l.jsxs("header",{className:"bg-[#1a1a2e]/50 backdrop-blur-xl border-b border-white/10 sticky top-0 z-50",children:[l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex items-center justify-between h-16",children:[l.jsxs(gs,{to:"/athlete/dashboard",className:"flex items-center gap-3",children:[l.jsxs("div",{className:"text-2xl font-black text-white",children:["FIT FOCUS ",l.jsx("span",{className:"text-[#e51d1d]",children:"MEDIA"})]}),l.jsx("div",{className:"hidden sm:block h-6 w-px bg-white/20"}),l.jsx("div",{className:"hidden sm:block text-sm text-gray-400",children:"Athlete Portal"})]}),l.jsx("nav",{className:"hidden md:flex items-center gap-1",children:u.map(o=>{const d=o.icon,f=r.pathname===o.path;return l.jsxs(gs,{to:o.path,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all ${f?"bg-[#e51d1d] text-white":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:[l.jsx(d,{className:"w-4 h-4"}),l.jsx("span",{className:"text-sm font-medium",children:o.label})]},o.path)})}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"hidden lg:flex items-center gap-3",children:[l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-sm font-semibold text-white",children:n.name}),l.jsx("div",{className:"text-xs text-gray-400",children:n.sport})]}),l.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-[#e51d1d] to-red-600 flex items-center justify-center text-white font-bold",children:n.name.charAt(0)})]}),l.jsxs("button",{onClick:c,className:"hidden md:flex items-center gap-2 px-4 py-2 text-sm text-gray-400 hover:text-white hover:bg-white/5 rounded-lg transition-all",children:[l.jsx(W6,{className:"w-4 h-4"}),l.jsx("span",{children:"Sign Out"})]}),l.jsx("button",{onClick:()=>a(!s),className:"md:hidden p-2 text-gray-400 hover:text-white transition-colors",children:s?l.jsx(qv,{className:"w-6 h-6"}):l.jsx(KW,{className:"w-6 h-6"})})]})]})}),s&&l.jsx(Or.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden border-t border-white/10 bg-[#0d0d1a]/95 backdrop-blur-xl",children:l.jsxs("div",{className:"px-4 py-4 space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-white/10",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-[#e51d1d] to-red-600 flex items-center justify-center text-white font-bold text-lg",children:n.name.charAt(0)}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-semibold text-white",children:n.name}),l.jsx("div",{className:"text-xs text-gray-400",children:n.sport})]})]}),u.map(o=>{const d=o.icon,f=r.pathname===o.path;return l.jsxs(gs,{to:o.path,onClick:()=>a(!1),className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${f?"bg-[#e51d1d] text-white":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:[l.jsx(d,{className:"w-5 h-5"}),l.jsx("span",{className:"font-medium",children:o.label})]},o.path)}),l.jsxs("button",{onClick:c,className:"flex items-center gap-3 px-4 py-3 text-gray-400 hover:text-white hover:bg-white/5 rounded-lg transition-all w-full",children:[l.jsx(W6,{className:"w-5 h-5"}),l.jsx("span",{className:"font-medium",children:"Sign Out"})]})]})})]}),l.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:t}),l.jsx("footer",{className:"border-t border-white/10 bg-[#0d0d1a]/50 mt-20",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:l.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[l.jsxs("p",{className:"text-sm text-gray-400",children:[" ",new Date().getFullYear()," Fit Focus Media. All rights reserved."]}),l.jsxs("div",{className:"flex items-center gap-6",children:[l.jsx(gs,{to:"/athlete/packages",className:"text-sm text-gray-400 hover:text-white transition-colors",children:"Packages"}),l.jsx("a",{href:"mailto:info@fitfocusmedia.com.au",className:"text-sm text-gray-400 hover:text-white transition-colors",children:"Support"})]})]})})})]}):null}function JPe(){const t=ic(),[e,r]=j.useState(null),[n,i]=j.useState([]),[s,a]=j.useState([]),[c,u]=j.useState({totalEvents:0,totalPhotos:0,totalVideos:0,activePackage:null});return j.useEffect(()=>{const o=sessionStorage.getItem("athlete_user");if(!o){t("/athlete");return}const d=JSON.parse(o);r(d);const f=TM(d.id),A=sK(d.id),p=VPe(d.id);i(f),a(A.slice(0,6)),u(p)},[t]),e?l.jsxs(pre,{children:[l.jsxs(Or.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-[#e51d1d]/20 via-red-600/20 to-purple-600/20 border border-[#e51d1d]/30 rounded-2xl p-8 mb-8",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx(dy,{className:"w-6 h-6 text-[#e51d1d]"}),l.jsxs("h1",{className:"text-3xl font-bold text-white",children:["Welcome back, ",e.name.split(" ")[0],"!"]})]}),l.jsx("p",{className:"text-gray-300",children:"Access your fight photos, highlight videos, and exclusive content."})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[l.jsx(Or.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1},className:"bg-[#1a1a2e]/50 backdrop-blur-xl border border-white/10 rounded-xl p-6",children:l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-500/20 flex items-center justify-center",children:l.jsx(Pd,{className:"w-5 h-5 text-blue-400"})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl font-bold text-white",children:c.totalEvents}),l.jsx("div",{className:"text-sm text-gray-400",children:"Events"})]})]})}),l.jsx(Or.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2},className:"bg-[#1a1a2e]/50 backdrop-blur-xl border border-white/10 rounded-xl p-6",children:l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-500/20 flex items-center justify-center",children:l.jsx(f0,{className:"w-5 h-5 text-green-400"})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl font-bold text-white",children:c.totalPhotos}),l.jsx("div",{className:"text-sm text-gray-400",children:"Photos"})]})]})}),l.jsx(Or.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.3},className:"bg-[#1a1a2e]/50 backdrop-blur-xl border border-white/10 rounded-xl p-6",children:l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx("div",{className:"w-10 h-10 rounded-lg bg-purple-500/20 flex items-center justify-center",children:l.jsx(Nm,{className:"w-5 h-5 text-purple-400"})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl font-bold text-white",children:c.totalVideos}),l.jsx("div",{className:"text-sm text-gray-400",children:"Videos"})]})]})}),l.jsx(Or.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.4},className:"bg-[#1a1a2e]/50 backdrop-blur-xl border border-white/10 rounded-xl p-6",children:l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx("div",{className:"w-10 h-10 rounded-lg bg-yellow-500/20 flex items-center justify-center",children:l.jsx(c0,{className:"w-5 h-5 text-yellow-400"})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-semibold text-white",children:c.activePackage?_R(c.activePackage):"None"}),l.jsx("div",{className:"text-xs text-gray-400",children:"Active Package"})]})]})})]}),l.jsxs(Or.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"mb-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-white",children:"My Events"}),l.jsxs(gs,{to:"/athlete/packages",className:"text-sm text-[#e51d1d] hover:text-red-400 transition-colors font-medium flex items-center gap-1",children:["Browse Packages",l.jsx(mb,{className:"w-4 h-4"})]})]}),n.length===0?l.jsxs("div",{className:"bg-[#1a1a2e]/50 backdrop-blur-xl border border-white/10 rounded-xl p-12 text-center",children:[l.jsx(c0,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),l.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No content yet"}),l.jsx("p",{className:"text-gray-400 mb-6",children:"Your media will appear here after your next event!"}),l.jsxs(gs,{to:"/athlete/packages",className:"inline-flex items-center gap-2 bg-gradient-to-r from-[#e51d1d] to-red-600 text-white font-semibold px-6 py-3 rounded-lg hover:from-red-600 hover:to-[#e51d1d] transition-all",children:[l.jsx(c0,{className:"w-5 h-5"}),"Browse Packages"]})]}):l.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:n.map((o,d)=>{const A=sK(e.id).filter(y=>y.event_id===o.id),p=A.filter(y=>y.type==="photo").length,g=A.filter(y=>y.type==="video").length;return l.jsx(Or.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6+d*.1},children:l.jsx(gs,{to:`/athlete/events/${o.id}`,className:"block group",children:l.jsxs("div",{className:"bg-[#1a1a2e]/50 backdrop-blur-xl border border-white/10 rounded-xl p-6 hover:border-[#e51d1d]/50 transition-all",children:[l.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full bg-gradient-to-r ${Are(o.package_type)} border mb-4`,children:[l.jsx(c0,{className:"w-3 h-3"}),l.jsx("span",{className:"text-xs font-semibold",children:_R(o.package_type)})]}),l.jsx("h3",{className:"text-xl font-bold text-white mb-2 group-hover:text-[#e51d1d] transition-colors",children:o.name}),l.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400 mb-4",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Pd,{className:"w-4 h-4"}),l.jsx("span",{children:mre(o.date)})]}),o.venue&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(C0,{className:"w-4 h-4"}),l.jsx("span",{children:o.venue})]})]}),l.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2 text-green-400",children:[l.jsx(f0,{className:"w-4 h-4"}),l.jsxs("span",{className:"font-medium",children:[p," Photos"]})]}),l.jsxs("div",{className:"flex items-center gap-2 text-purple-400",children:[l.jsx(Nm,{className:"w-4 h-4"}),l.jsxs("span",{className:"font-medium",children:[g," Videos"]})]})]}),l.jsxs("div",{className:"mt-4 pt-4 border-t border-white/10 flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-gray-400",children:"View content"}),l.jsx(mb,{className:"w-5 h-5 text-[#e51d1d] group-hover:translate-x-1 transition-transform"})]})]})})},o.id)})})]}),s.length>0&&l.jsxs(Or.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},children:[l.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Recent Content"}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:s.map((o,d)=>l.jsxs(Or.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.8+d*.05},className:"group relative aspect-square rounded-lg overflow-hidden bg-[#1a1a2e]/50 border border-white/10 hover:border-[#e51d1d]/50 transition-all",children:[l.jsx("img",{src:o.thumbnail_url,alt:o.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex items-end p-3",children:l.jsxs("div",{className:"flex items-center gap-1 text-white",children:[o.type==="video"?l.jsx(Nm,{className:"w-4 h-4"}):l.jsx(f0,{className:"w-4 h-4"}),l.jsx("span",{className:"text-xs font-medium truncate",children:o.title})]})})]},o.id))})]})]}):null}function e3e(){const{eventId:t}=$m(),e=ic(),[r,n]=j.useState(null),[i,s]=j.useState(null),[a,c]=j.useState([]),[u,o]=j.useState("photos"),[d,f]=j.useState(!1),[A,p]=j.useState(0);j.useEffect(()=>{const L=sessionStorage.getItem("athlete_user");if(!L){e("/athlete");return}const D=JSON.parse(L);n(D);const V=$Pe(t);if(!V){e("/athlete/dashboard");return}const G=QPe(D.id,t);s(V),c(G);const J=G.filter(ue=>ue.type==="photo"),ee=G.filter(ue=>ue.type==="video");J.length===0&&ee.length>0&&o("videos")},[t,e]);const g=a.filter(L=>L.type==="photo"),y=a.filter(L=>L.type==="video"),v=L=>{(L==="photos"?g:y).forEach((V,G)=>{setTimeout(()=>{const J=document.createElement("a");J.href=FS(V.drive_url),J.download=V.title||`${L}-${G+1}`,J.click()},G*500)})},b=(L,D)=>{const V=encodeURIComponent(L.drive_url),G=encodeURIComponent(`Check out my ${L.title} from ${i.name}!`),J={facebook:`https://www.facebook.com/sharer/sharer.php?u=${V}`,instagram:L.drive_url,twitter:`https://twitter.com/intent/tweet?url=${V}&text=${G}`};D==="instagram"?(navigator.clipboard.writeText(L.drive_url),alert("Link copied! Paste it in your Instagram post.")):window.open(J[D],"_blank","width=600,height=400")},w=L=>{p(L),f(!0)},S=()=>{f(!1)},_=()=>{p(L=>(L+1)%g.length)},T=()=>{p(L=>(L-1+g.length)%g.length)};return!r||!i?null:l.jsxs(pre,{children:[l.jsxs(gs,{to:"/athlete/dashboard",className:"inline-flex items-center gap-2 text-gray-400 hover:text-white transition-colors mb-6",children:[l.jsx(FL,{className:"w-4 h-4"}),l.jsx("span",{children:"Back to Dashboard"})]}),l.jsxs(Or.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-[#1a1a2e]/80 to-[#1a1a2e]/50 backdrop-blur-xl border border-white/10 rounded-2xl p-8 mb-8",children:[l.jsxs("div",{className:`inline-flex items-center gap-2 px-4 py-2 rounded-full bg-gradient-to-r ${Are(a[0]?.package_type)} border mb-4`,children:[l.jsx(c0,{className:"w-4 h-4"}),l.jsx("span",{className:"text-sm font-semibold",children:_R(a[0]?.package_type)})]}),l.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:i.name}),l.jsxs("div",{className:"flex flex-wrap items-center gap-6 text-gray-300",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Pd,{className:"w-5 h-5 text-[#e51d1d]"}),l.jsx("span",{children:mre(i.date)})]}),i.venue&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(C0,{className:"w-5 h-5 text-[#e51d1d]"}),l.jsx("span",{children:i.venue})]}),i.org_name&&l.jsxs("div",{className:"text-gray-400",children:["Organized by ",l.jsx("span",{className:"text-white font-semibold",children:i.org_name})]})]})]}),l.jsxs("div",{className:"flex items-center gap-4 mb-6 border-b border-white/10",children:[l.jsxs("button",{onClick:()=>o("photos"),className:`flex items-center gap-2 px-4 py-3 font-semibold transition-all ${u==="photos"?"text-[#e51d1d] border-b-2 border-[#e51d1d]":"text-gray-400 hover:text-white"}`,children:[l.jsx(f0,{className:"w-5 h-5"}),l.jsxs("span",{children:["Photos (",g.length,")"]})]}),l.jsxs("button",{onClick:()=>o("videos"),className:`flex items-center gap-2 px-4 py-3 font-semibold transition-all ${u==="videos"?"text-[#e51d1d] border-b-2 border-[#e51d1d]":"text-gray-400 hover:text-white"}`,children:[l.jsx(Nm,{className:"w-5 h-5"}),l.jsxs("span",{children:["Videos (",y.length,")"]})]})]}),u==="photos"&&l.jsx(Or.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:g.length===0?l.jsxs("div",{className:"bg-[#1a1a2e]/50 backdrop-blur-xl border border-white/10 rounded-xl p-12 text-center",children:[l.jsx(f0,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),l.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No photos available"}),l.jsx("p",{className:"text-gray-400",children:"Photos for this event will be added soon."})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"flex justify-end mb-4",children:l.jsxs("button",{onClick:()=>v("photos"),className:"flex items-center gap-2 bg-gradient-to-r from-[#e51d1d] to-red-600 text-white font-semibold px-6 py-3 rounded-lg hover:from-red-600 hover:to-[#e51d1d] transition-all",children:[l.jsx(gv,{className:"w-5 h-5"}),"Download All Photos"]})}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:g.map((L,D)=>l.jsxs(Or.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:D*.05},className:"group relative aspect-square rounded-lg overflow-hidden bg-[#1a1a2e]/50 border border-white/10 hover:border-[#e51d1d]/50 transition-all cursor-pointer",onClick:()=>w(D),children:[l.jsx("img",{src:L.thumbnail_url,alt:L.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex items-end p-4",children:l.jsx("p",{className:"text-white text-sm font-medium truncate",children:L.title})}),l.jsx("div",{className:"absolute top-2 right-2 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsx("a",{href:FS(L.drive_url),download:!0,onClick:V=>V.stopPropagation(),className:"bg-black/50 backdrop-blur-sm p-2 rounded-lg hover:bg-[#e51d1d] transition-colors",children:l.jsx(gv,{className:"w-4 h-4 text-white"})})})]},L.id))})]})}),u==="videos"&&l.jsx(Or.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:y.length===0?l.jsxs("div",{className:"bg-[#1a1a2e]/50 backdrop-blur-xl border border-white/10 rounded-xl p-12 text-center",children:[l.jsx(Nm,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),l.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No videos available"}),l.jsx("p",{className:"text-gray-400",children:"Videos for this event will be added soon."})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"flex justify-end mb-4",children:l.jsxs("button",{onClick:()=>v("videos"),className:"flex items-center gap-2 bg-gradient-to-r from-[#e51d1d] to-red-600 text-white font-semibold px-6 py-3 rounded-lg hover:from-red-600 hover:to-[#e51d1d] transition-all",children:[l.jsx(gv,{className:"w-5 h-5"}),"Download All Videos"]})}),l.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:y.map((L,D)=>l.jsxs(Or.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:D*.1},className:"bg-[#1a1a2e]/50 backdrop-blur-xl border border-white/10 rounded-xl overflow-hidden hover:border-[#e51d1d]/50 transition-all",children:[l.jsxs("div",{className:"relative aspect-video bg-black group",children:[l.jsx("img",{src:L.thumbnail_url,alt:L.title,className:"w-full h-full object-cover"}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/30 group-hover:bg-black/50 transition-colors",children:l.jsx("div",{className:"w-16 h-16 rounded-full bg-[#e51d1d]/80 backdrop-blur-sm flex items-center justify-center group-hover:scale-110 transition-transform",children:l.jsx(IP,{className:"w-8 h-8 text-white ml-1"})})}),L.duration&&l.jsx("div",{className:"absolute bottom-3 right-3 bg-black/80 backdrop-blur-sm px-2 py-1 rounded text-xs text-white font-medium",children:L.duration})]}),l.jsxs("div",{className:"p-5",children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:L.title}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsxs("a",{href:FS(L.drive_url),download:!0,className:"flex items-center gap-2 bg-gradient-to-r from-[#e51d1d] to-red-600 text-white font-semibold px-4 py-2 rounded-lg hover:from-red-600 hover:to-[#e51d1d] transition-all text-sm",children:[l.jsx(gv,{className:"w-4 h-4"}),"Download"]}),l.jsxs("button",{onClick:()=>b(L,"facebook"),className:"flex items-center gap-2 bg-blue-600/20 border border-blue-500/30 text-blue-400 font-medium px-4 py-2 rounded-lg hover:bg-blue-600/30 transition-all text-sm",children:[l.jsx(cN,{className:"w-4 h-4"}),"Share"]}),l.jsxs("button",{onClick:()=>b(L,"instagram"),className:"flex items-center gap-2 bg-pink-600/20 border border-pink-500/30 text-pink-400 font-medium px-4 py-2 rounded-lg hover:bg-pink-600/30 transition-all text-sm",children:[l.jsx(uN,{className:"w-4 h-4"}),"Copy Link"]})]})]})]},L.id))})]})}),l.jsx(Pv,{children:d&&g[A]&&l.jsxs(Or.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/95 backdrop-blur-xl flex items-center justify-center p-4",onClick:S,children:[l.jsx("button",{onClick:S,className:"absolute top-4 right-4 p-2 rounded-lg bg-white/10 hover:bg-white/20 transition-colors z-10",children:l.jsx(qv,{className:"w-6 h-6 text-white"})}),g.length>1&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:L=>{L.stopPropagation(),T()},className:"absolute left-4 p-3 rounded-lg bg-white/10 hover:bg-white/20 transition-colors z-10",children:l.jsx(FL,{className:"w-6 h-6 text-white"})}),l.jsx("button",{onClick:L=>{L.stopPropagation(),_()},className:"absolute right-4 p-3 rounded-lg bg-white/10 hover:bg-white/20 transition-colors z-10",children:l.jsx(mb,{className:"w-6 h-6 text-white"})})]}),l.jsx(Or.img,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},src:g[A].drive_url,alt:g[A].title,className:"max-w-full max-h-full object-contain",onClick:L=>L.stopPropagation()},A),l.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-6",children:l.jsxs("div",{className:"max-w-4xl mx-auto flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-white font-semibold",children:g[A].title}),l.jsxs("p",{className:"text-gray-400 text-sm",children:[A+1," of ",g.length]})]}),l.jsxs("a",{href:FS(g[A].drive_url),download:!0,onClick:L=>L.stopPropagation(),className:"flex items-center gap-2 bg-[#e51d1d] text-white font-semibold px-6 py-3 rounded-lg hover:bg-red-600 transition-all",children:[l.jsx(gv,{className:"w-5 h-5"}),"Download"]})]})})]})})]})}function t3e(){const[t,e]=j.useState("upload"),[r,n]=j.useState([]),[i,s]=j.useState([]),[a,c]=j.useState(""),[u,o]=j.useState(""),[d,f]=j.useState("match"),[A,p]=j.useState([{type:"photo",title:"",drive_url:"",thumbnail_url:""}]),[g,y]=j.useState(!1),[v,b]=j.useState({name:"",date:"",venue:"",org_name:""});j.useEffect(()=>{w()},[]);const w=()=>{n(FPe()),s(UPe())},S=()=>{p([...A,{type:"photo",title:"",drive_url:"",thumbnail_url:""}])},_=G=>{p(A.filter((J,ee)=>ee!==G))},T=(G,J,ee)=>{const ue=[...A];ue[G][J]=ee,p(ue)},L=()=>{if(!a||!u){alert("Please select both an athlete and an event");return}const G=A.filter(J=>J.drive_url.trim()!=="");if(G.length===0){alert("Please add at least one content item with a Drive URL");return}KPe(a,u,G,d),alert("Content assigned successfully!"),p([{type:"photo",title:"",drive_url:"",thumbnail_url:""}]),c(""),o(""),w()},D=()=>{if(!v.name||!v.date){alert("Please provide event name and date");return}HPe(v),b({name:"",date:"",venue:"",org_name:""}),y(!1),w()},V=G=>{const ee=G.split(`
`).filter(ue=>ue.trim()!=="").map(ue=>({type:"photo",title:"",drive_url:ue.trim(),thumbnail_url:ue.trim()}));p([...A,...ee])};return l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Content Manager"}),l.jsx("p",{className:"text-gray-400",children:"Manage athlete content and access"})]}),l.jsxs("div",{className:"flex items-center gap-4 border-b border-white/10",children:[l.jsxs("button",{onClick:()=>e("upload"),className:`flex items-center gap-2 px-4 py-3 font-semibold transition-all ${t==="upload"?"text-[#e51d1d] border-b-2 border-[#e51d1d]":"text-gray-400 hover:text-white"}`,children:[l.jsx(Kde,{className:"w-5 h-5"}),l.jsx("span",{children:"Upload Content"})]}),l.jsxs("button",{onClick:()=>e("athletes"),className:`flex items-center gap-2 px-4 py-3 font-semibold transition-all ${t==="athletes"?"text-[#e51d1d] border-b-2 border-[#e51d1d]":"text-gray-400 hover:text-white"}`,children:[l.jsx(Ub,{className:"w-5 h-5"}),l.jsx("span",{children:"Manage Athletes"})]}),l.jsxs("button",{onClick:()=>e("events"),className:`flex items-center gap-2 px-4 py-3 font-semibold transition-all ${t==="events"?"text-[#e51d1d] border-b-2 border-[#e51d1d]":"text-gray-400 hover:text-white"}`,children:[l.jsx(Pd,{className:"w-5 h-5"}),l.jsx("span",{children:"Manage Events"})]})]}),t==="upload"&&l.jsxs(Or.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-[#1a1a2e]/50 backdrop-blur-xl border border-white/10 rounded-xl p-6",children:[l.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:"Assign Content to Athlete"}),l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Select Athlete"}),l.jsxs("select",{value:a,onChange:G=>c(G.target.value),className:"w-full bg-[#0d0d1a]/50 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-[#e51d1d]/50",children:[l.jsx("option",{value:"",children:"Choose an athlete..."}),r.map(G=>l.jsxs("option",{value:G.id,children:[G.name," - ",G.email]},G.id))]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Select Event"}),l.jsxs("button",{onClick:()=>y(!g),className:"text-sm text-[#e51d1d] hover:text-red-400 transition-colors flex items-center gap-1",children:[l.jsx(gb,{className:"w-4 h-4"}),"New Event"]})]}),g&&l.jsxs("div",{className:"bg-[#0d0d1a]/50 border border-white/10 rounded-lg p-4 mb-4 space-y-3",children:[l.jsx("input",{type:"text",placeholder:"Event name",value:v.name,onChange:G=>b({...v,name:G.target.value}),className:"w-full bg-[#1a1a2e]/50 border border-white/10 rounded px-3 py-2 text-white text-sm"}),l.jsx("input",{type:"date",value:v.date,onChange:G=>b({...v,date:G.target.value}),className:"w-full bg-[#1a1a2e]/50 border border-white/10 rounded px-3 py-2 text-white text-sm"}),l.jsx("input",{type:"text",placeholder:"Venue (optional)",value:v.venue,onChange:G=>b({...v,venue:G.target.value}),className:"w-full bg-[#1a1a2e]/50 border border-white/10 rounded px-3 py-2 text-white text-sm"}),l.jsx("input",{type:"text",placeholder:"Organization name (optional)",value:v.org_name,onChange:G=>b({...v,org_name:G.target.value}),className:"w-full bg-[#1a1a2e]/50 border border-white/10 rounded px-3 py-2 text-white text-sm"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:D,className:"flex-1 bg-[#e51d1d] text-white px-4 py-2 rounded text-sm font-medium hover:bg-red-600 transition-colors",children:"Create Event"}),l.jsx("button",{onClick:()=>y(!1),className:"px-4 py-2 text-gray-400 hover:text-white transition-colors text-sm",children:"Cancel"})]})]}),l.jsxs("select",{value:u,onChange:G=>o(G.target.value),className:"w-full bg-[#0d0d1a]/50 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-[#e51d1d]/50",children:[l.jsx("option",{value:"",children:"Choose an event..."}),i.map(G=>l.jsxs("option",{value:G.id,children:[G.name," - ",new Date(G.date).toLocaleDateString()]},G.id))]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Package Type"}),l.jsx("div",{className:"grid grid-cols-3 gap-4",children:["match","vip","season"].map(G=>l.jsx("button",{onClick:()=>f(G),className:`px-4 py-3 rounded-lg border-2 transition-all ${d===G?"border-[#e51d1d] bg-[#e51d1d]/20 text-white":"border-white/10 text-gray-400 hover:border-white/30"}`,children:G.charAt(0).toUpperCase()+G.slice(1)},G))})]}),l.jsxs("div",{className:"mb-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Content Items"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:()=>{const G=prompt("Paste Google Drive URLs (one per line):");G&&V(G)},className:"text-sm text-[#e51d1d] hover:text-red-400 transition-colors flex items-center gap-1",children:[l.jsx(rde,{className:"w-4 h-4"}),"Batch Add URLs"]}),l.jsxs("button",{onClick:S,className:"text-sm text-[#e51d1d] hover:text-red-400 transition-colors flex items-center gap-1",children:[l.jsx(gb,{className:"w-4 h-4"}),"Add Row"]})]})]}),l.jsx("div",{className:"space-y-3",children:A.map((G,J)=>l.jsxs("div",{className:"grid grid-cols-12 gap-2 items-start",children:[l.jsxs("select",{value:G.type,onChange:ee=>T(J,"type",ee.target.value),className:"col-span-2 bg-[#0d0d1a]/50 border border-white/10 rounded px-3 py-2 text-white text-sm",children:[l.jsx("option",{value:"photo",children:"Photo"}),l.jsx("option",{value:"video",children:"Video"})]}),l.jsx("input",{type:"text",placeholder:"Title",value:G.title,onChange:ee=>T(J,"title",ee.target.value),className:"col-span-3 bg-[#0d0d1a]/50 border border-white/10 rounded px-3 py-2 text-white text-sm placeholder:text-gray-500"}),l.jsx("input",{type:"text",placeholder:"Google Drive URL",value:G.drive_url,onChange:ee=>T(J,"drive_url",ee.target.value),className:"col-span-6 bg-[#0d0d1a]/50 border border-white/10 rounded px-3 py-2 text-white text-sm placeholder:text-gray-500"}),l.jsx("button",{onClick:()=>_(J),className:"col-span-1 p-2 text-red-400 hover:text-red-300 transition-colors",children:l.jsx(qv,{className:"w-4 h-4"})})]},J))})]}),l.jsxs("button",{onClick:L,className:"w-full bg-gradient-to-r from-[#e51d1d] to-red-600 text-white font-semibold py-3 rounded-lg hover:from-red-600 hover:to-[#e51d1d] transition-all flex items-center justify-center gap-2",children:[l.jsx(GW,{className:"w-5 h-5"}),"Grant Access & Save"]})]}),t==="athletes"&&l.jsx(Or.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-4",children:l.jsx("div",{className:"bg-[#1a1a2e]/50 backdrop-blur-xl border border-white/10 rounded-xl overflow-hidden",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-[#0d0d1a]/50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"text-left p-4 text-gray-400 font-semibold",children:"Athlete"}),l.jsx("th",{className:"text-left p-4 text-gray-400 font-semibold",children:"Sport"}),l.jsx("th",{className:"text-center p-4 text-gray-400 font-semibold",children:"Events"}),l.jsx("th",{className:"text-center p-4 text-gray-400 font-semibold",children:"Photos"}),l.jsx("th",{className:"text-center p-4 text-gray-400 font-semibold",children:"Videos"}),l.jsx("th",{className:"text-left p-4 text-gray-400 font-semibold",children:"Contact"})]})}),l.jsx("tbody",{className:"divide-y divide-white/10",children:r.map(G=>{const J=zPe(G.id);return l.jsxs("tr",{className:"hover:bg-white/5 transition-colors",children:[l.jsx("td",{className:"p-4",children:l.jsxs("div",{children:[l.jsx("div",{className:"font-semibold text-white",children:G.name}),G.gym&&l.jsx("div",{className:"text-sm text-gray-400",children:G.gym})]})}),l.jsx("td",{className:"p-4 text-gray-300",children:G.sport}),l.jsx("td",{className:"text-center p-4 text-gray-300",children:J.totalEvents}),l.jsx("td",{className:"text-center p-4 text-green-400",children:J.totalPhotos}),l.jsx("td",{className:"text-center p-4 text-purple-400",children:J.totalVideos}),l.jsx("td",{className:"p-4 text-gray-400 text-sm",children:G.email})]},G.id)})})]})})}),t==="events"&&l.jsx(Or.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-4",children:i.map(G=>{const J=GPe(G.id),ee=[...new Set(J.map(ue=>ue.athlete_id))];return l.jsxs("div",{className:"bg-[#1a1a2e]/50 backdrop-blur-xl border border-white/10 rounded-xl p-6",children:[l.jsx("div",{className:"flex items-start justify-between mb-4",children:l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:G.name}),l.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400",children:[l.jsx("span",{children:new Date(G.date).toLocaleDateString()}),G.venue&&l.jsxs("span",{children:[" ",G.venue]}),G.org_name&&l.jsxs("span",{children:[" ",G.org_name]})]})]})}),l.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-4",children:[l.jsxs("div",{className:"bg-[#0d0d1a]/50 border border-white/10 rounded-lg p-4",children:[l.jsx("div",{className:"text-2xl font-bold text-white",children:ee.length}),l.jsx("div",{className:"text-sm text-gray-400",children:"Athletes"})]}),l.jsxs("div",{className:"bg-[#0d0d1a]/50 border border-white/10 rounded-lg p-4",children:[l.jsx("div",{className:"text-2xl font-bold text-green-400",children:J.filter(ue=>ue.type==="photo").length}),l.jsx("div",{className:"text-sm text-gray-400",children:"Photos"})]}),l.jsxs("div",{className:"bg-[#0d0d1a]/50 border border-white/10 rounded-lg p-4",children:[l.jsx("div",{className:"text-2xl font-bold text-purple-400",children:J.filter(ue=>ue.type==="video").length}),l.jsx("div",{className:"text-sm text-gray-400",children:"Videos"})]})]})]},G.id)})})]})}function r3e(){const[t,e]=j.useState([]),[r,n]=j.useState(null),[i,s]=j.useState([]),[a,c]=j.useState([]),[u,o]=j.useState([]),[d,f]=j.useState([]),[A,p]=j.useState([]),[g,y]=j.useState(!0),[v,b]=j.useState("events"),[w,S]=j.useState(!1),[_,T]=j.useState(null),[L,D]=j.useState(null),[V,G]=j.useState({}),[J,ee]=j.useState(null),[ue,pe]=j.useState([]);j.useEffect(()=>{ge()},[]),j.useEffect(()=>{r&&he(r.id)},[r]);async function ge(){y(!0);const{data:me}=await Kr.from("organizations").select("*").order("name");e(me||[]),y(!1)}async function he(me){const[je,Ue,De]=await Promise.all([Kr.from("events").select("*").eq("organization_id",me).order("date",{ascending:!0}),Kr.from("packages").select("*").eq("organization_id",me).order("sort_order"),Kr.from("content_orders").select("*, events(name), packages(name)").eq("organization_id",me).order("created_at",{ascending:!1}).limit(50)]);s(je.data||[]),c(Ue.data||[]),p(De.data||[]);const ot=(je.data||[]).map(ft=>ft.id);if(ot.length>0){const[ft,Ce]=await Promise.all([Kr.from("division_categories").select("*").in("event_id",ot).order("sort_order"),Kr.from("division_subdivisions").select("*").order("sort_order")]);o(ft.data||[]);const Ze=(ft.data||[]).map(ze=>ze.id);f((Ce.data||[]).filter(ze=>Ze.includes(ze.category_id)))}else o([]),f([])}function ne(me){return u.filter(je=>je.event_id===me)}function Ae(me){return d.filter(je=>je.category_id===me)}function oe(me,je=null,Ue=null){T(me),D(je),me==="org"?G(je||{name:"",slug:"",description:"",logo_url:"",active:!0}):me==="event"?G(je||{organization_id:r?.id,name:"",date:"",location:"",status:"upcoming",active:!0}):me==="package"?G(je||{organization_id:r?.id,name:"",description:"",price:"",sort_order:0,active:!0}):me==="division-cat"?G(je||{event_id:Ue||J,name:"",sort_order:0,active:!0}):me==="division-sub"&&G(je||{category_id:Ue,name:"",sort_order:0,active:!0}),S(!0)}async function Be(){try{if(_==="org")L?.id?await Kr.from("organizations").update(V).eq("id",L.id):await Kr.from("organizations").insert(V),ge();else if(_==="event"){const me={...V,organization_id:r.id};L?.id?await Kr.from("events").update(me).eq("id",L.id):await Kr.from("events").insert(me),he(r.id)}else if(_==="package"){const me={...V,organization_id:r.id,price:parseFloat(V.price)};L?.id?await Kr.from("packages").update(me).eq("id",L.id):await Kr.from("packages").insert(me),he(r.id)}else _==="division-cat"?(L?.id?await Kr.from("division_categories").update(V).eq("id",L.id):await Kr.from("division_categories").insert(V),he(r.id)):_==="division-sub"&&(L?.id?await Kr.from("division_subdivisions").update(V).eq("id",L.id):await Kr.from("division_subdivisions").insert(V),he(r.id));S(!1)}catch(me){console.error("Save error:",me),alert("Error saving. Check console.")}}async function ke(me,je){if(!confirm("Are you sure you want to delete this item?"))return;const{error:Ue}=await Kr.from(me).delete().eq("id",je);if(Ue){console.error("Delete error:",Ue),alert(`Failed to delete: ${Ue.message}`);return}me==="organizations"?(ge(),r?.id===je&&n(null)):he(r.id)}async function ve(me,je,Ue){await Kr.from(me).update({active:!Ue}).eq("id",je),me==="organizations"?ge():he(r.id)}if(g)return l.jsx("div",{className:"p-8 text-gray-400",children:"Loading..."});if(!r)return l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold",children:"Content Management"}),l.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Select an organization to manage its events, packages, and divisions"})]}),l.jsx("button",{onClick:()=>oe("org"),className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg text-sm font-medium",children:"+ Add Organization"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(me=>l.jsxs("div",{onClick:()=>n(me),className:"bg-gray-900/50 rounded-xl border border-gray-800 p-6 cursor-pointer hover:border-red-500/50 hover:bg-gray-900/80 transition-all group",children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[me.logo_url?l.jsx("img",{src:me.logo_url,alt:me.name,className:"w-12 h-12 rounded-lg object-cover"}):l.jsx("div",{className:"w-12 h-12 rounded-lg bg-gradient-to-br from-red-600 to-red-800 flex items-center justify-center text-xl font-bold",children:me.name.charAt(0)}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-lg group-hover:text-red-400 transition-colors",children:me.name}),l.jsxs("p",{className:"text-xs text-gray-500",children:["/",me.slug]})]})]}),!me.active&&l.jsx("span",{className:"text-xs bg-gray-700 px-2 py-1 rounded",children:"Inactive"})]}),me.description&&l.jsx("p",{className:"text-sm text-gray-400 line-clamp-2",children:me.description}),l.jsxs("div",{className:"mt-4 flex gap-2",children:[l.jsx("button",{onClick:je=>{je.stopPropagation(),oe("org",me)},className:"text-xs text-blue-400 hover:text-blue-300",children:"Edit"}),l.jsx("button",{onClick:je=>{je.stopPropagation(),ve("organizations",me.id,me.active)},className:"text-xs text-gray-400 hover:text-white",children:me.active?"Deactivate":"Activate"})]})]},me.id))}),w&&se()]});return l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[l.jsx("button",{onClick:()=>n(null),className:"text-gray-400 hover:text-white transition-colors",children:" Back"}),l.jsxs("div",{className:"flex items-center gap-3",children:[r.logo_url?l.jsx("img",{src:r.logo_url,alt:r.name,className:"w-10 h-10 rounded-lg object-cover"}):l.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-red-600 to-red-800 flex items-center justify-center text-lg font-bold",children:r.name.charAt(0)}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold",children:r.name}),l.jsxs("p",{className:"text-xs text-gray-500",children:["/",r.slug]})]})]})]}),l.jsx("div",{className:"flex gap-2 mb-6 border-b border-gray-700 pb-2",children:["events","packages","divisions","orders"].map(me=>l.jsxs("button",{onClick:()=>b(me),className:`px-4 py-2 rounded-t-lg capitalize transition-colors ${v===me?"bg-red-600 text-white":"text-gray-400 hover:text-white"}`,children:[me," ",me==="events"&&`(${i.length})`,me==="packages"&&`(${a.length})`,me==="orders"&&`(${A.length})`]},me))}),v==="events"&&l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"Upcoming Events"}),l.jsx("button",{onClick:()=>oe("event"),className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg text-sm",children:"+ Add Event"})]}),i.length===0?l.jsx("div",{className:"bg-gray-900/50 rounded-xl border border-gray-800 p-8 text-center text-gray-400",children:"No events yet. Add one to get started."}):l.jsx("div",{className:"bg-gray-900/50 rounded-xl border border-gray-800 overflow-hidden",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{className:"bg-gray-800",children:l.jsxs("tr",{children:[l.jsx("th",{className:"text-left p-3",children:"Event Name"}),l.jsx("th",{className:"text-left p-3",children:"Date"}),l.jsx("th",{className:"text-left p-3",children:"Location"}),l.jsx("th",{className:"text-center p-3",children:"Status"}),l.jsx("th",{className:"text-center p-3",children:"Active"}),l.jsx("th",{className:"text-right p-3",children:"Actions"})]})}),l.jsx("tbody",{children:i.map(me=>l.jsxs("tr",{className:"border-t border-gray-800",children:[l.jsx("td",{className:"p-3 font-medium",children:me.name}),l.jsx("td",{className:"p-3 text-gray-400",children:me.date&&new Date(me.date).toLocaleDateString("en-AU",{weekday:"short",day:"numeric",month:"short",year:"numeric"})}),l.jsx("td",{className:"p-3 text-gray-400",children:me.location}),l.jsx("td",{className:"p-3 text-center",children:l.jsx("span",{className:`px-2 py-1 rounded text-xs ${me.status==="upcoming"?"bg-blue-600":me.status==="active"?"bg-green-600":"bg-gray-600"}`,children:me.status})}),l.jsx("td",{className:"p-3 text-center",children:l.jsx("button",{onClick:()=>ve("events",me.id,me.active),className:`px-2 py-1 rounded text-xs ${me.active?"bg-green-600":"bg-gray-600"}`,children:me.active?"Yes":"No"})}),l.jsxs("td",{className:"p-3 text-right space-x-2",children:[l.jsx("button",{onClick:()=>oe("event",me),className:"text-blue-400 hover:text-blue-300",children:"Edit"}),l.jsx("button",{onClick:()=>ke("events",me.id),className:"text-red-400 hover:text-red-300",children:"Delete"})]})]},me.id))})]})})]}),v==="packages"&&l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"Content Packages"}),l.jsx("button",{onClick:()=>oe("package"),className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg text-sm",children:"+ Add Package"})]}),a.length===0?l.jsx("div",{className:"bg-gray-900/50 rounded-xl border border-gray-800 p-8 text-center text-gray-400",children:"No packages yet. Add one to get started."}):l.jsx("div",{className:"bg-gray-900/50 rounded-xl border border-gray-800 overflow-hidden",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{className:"bg-gray-800",children:l.jsxs("tr",{children:[l.jsx("th",{className:"text-left p-3",children:"Package Name"}),l.jsx("th",{className:"text-left p-3",children:"Description"}),l.jsx("th",{className:"text-right p-3",children:"Price"}),l.jsx("th",{className:"text-center p-3",children:"Active"}),l.jsx("th",{className:"text-right p-3",children:"Actions"})]})}),l.jsx("tbody",{children:a.map(me=>l.jsxs("tr",{className:"border-t border-gray-800",children:[l.jsx("td",{className:"p-3 font-medium",children:me.name}),l.jsx("td",{className:"p-3 text-gray-400 truncate max-w-xs",children:me.description}),l.jsxs("td",{className:"p-3 text-right font-semibold text-green-400",children:["$",me.price]}),l.jsx("td",{className:"p-3 text-center",children:l.jsx("button",{onClick:()=>ve("packages",me.id,me.active),className:`px-2 py-1 rounded text-xs ${me.active?"bg-green-600":"bg-gray-600"}`,children:me.active?"Yes":"No"})}),l.jsxs("td",{className:"p-3 text-right space-x-2",children:[l.jsx("button",{onClick:()=>oe("package",me),className:"text-blue-400 hover:text-blue-300",children:"Edit"}),l.jsx("button",{onClick:()=>ke("packages",me.id),className:"text-red-400 hover:text-red-300",children:"Delete"})]})]},me.id))})]})})]}),v==="divisions"&&l.jsx("div",{children:l.jsxs("div",{className:"mb-6",children:[l.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Divisions by Event"}),l.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Select an event to manage its division categories and subdivisions"}),i.length===0?l.jsx("div",{className:"bg-gray-900/50 rounded-xl border border-gray-800 p-8 text-center text-gray-400",children:"Add events first, then you can manage their divisions."}):l.jsxs(l.Fragment,{children:[l.jsxs("select",{value:J||"",onChange:me=>ee(me.target.value),className:"w-full max-w-md px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg",children:[l.jsx("option",{value:"",children:"Select an event..."}),i.map(me=>l.jsxs("option",{value:me.id,children:[me.name," (",me.date&&new Date(me.date).toLocaleDateString("en-AU"),")"]},me.id))]}),J&&l.jsxs("div",{className:"mt-6 space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("h3",{className:"text-lg font-semibold",children:["Division Categories (",ne(J).length,")"]}),l.jsx("button",{onClick:()=>oe("division-cat",null,J),className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg text-sm",children:"+ Add Category"})]}),ne(J).length===0?l.jsx("div",{className:"bg-gray-900/50 rounded-xl border border-gray-800 p-8 text-center text-gray-400",children:"No division categories for this event yet."}):l.jsx("div",{className:"space-y-3",children:ne(J).map(me=>l.jsxs("div",{className:"bg-gray-900/50 rounded-xl border border-gray-800 overflow-hidden",children:[l.jsxs("div",{className:"p-4 flex justify-between items-center bg-gray-800/50",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("button",{onClick:()=>pe(je=>je.includes(me.id)?je.filter(Ue=>Ue!==me.id):[...je,me.id]),className:"text-gray-400 hover:text-white",children:l.jsx("svg",{className:`w-5 h-5 transition-transform ${ue.includes(me.id)?"rotate-90":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),l.jsx("span",{className:"font-semibold",children:me.name}),l.jsxs("span",{className:"text-xs text-gray-400",children:["(",Ae(me.id).length," subdivisions)"]}),!me.active&&l.jsx("span",{className:"text-xs bg-gray-600 px-2 py-0.5 rounded",children:"Inactive"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>oe("division-cat",me),className:"text-blue-400 hover:text-blue-300 text-sm",children:"Edit"}),l.jsx("button",{onClick:()=>ke("division_categories",me.id),className:"text-red-400 hover:text-red-300 text-sm",children:"Delete"})]})]}),ue.includes(me.id)&&l.jsxs("div",{className:"p-4 border-t border-gray-700",children:[l.jsxs("div",{className:"flex justify-between items-center mb-3",children:[l.jsx("span",{className:"text-sm text-gray-400",children:"Subdivisions:"}),l.jsx("button",{onClick:()=>oe("division-sub",null,me.id),className:"text-sm text-green-400 hover:text-green-300",children:"+ Add Subdivision"})]}),Ae(me.id).length===0?l.jsx("p",{className:"text-sm text-gray-500 italic",children:"No subdivisions yet"}):l.jsx("div",{className:"flex flex-wrap gap-2",children:Ae(me.id).map(je=>l.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-lg border text-sm ${je.active?"bg-gray-800 border-gray-600":"bg-gray-900 border-gray-700 opacity-50"}`,children:[l.jsx("span",{children:je.name}),l.jsx("button",{onClick:()=>oe("division-sub",je,me.id),className:"text-blue-400 hover:text-blue-300",children:""}),l.jsx("button",{onClick:()=>ke("division_subdivisions",je.id),className:"text-red-400 hover:text-red-300",children:""})]},je.id))})]})]},me.id))}),r.slug==="nba"&&l.jsxs("div",{className:"mt-6 p-4 bg-blue-900/20 border border-blue-800 rounded-xl",children:[l.jsx("h4",{className:"font-semibold text-blue-400 mb-2",children:"Quick Add: Standard NBA Divisions"}),l.jsx("p",{className:"text-sm text-gray-400 mb-3",children:"Add all standard NBA bodybuilding divisions for this event"}),l.jsx("button",{onClick:async me=>{const je=me.target,Ue=je.innerText;if(!J){alert("Please select an event first");return}if(window.confirm("Add all standard NBA divisions to this event?")){je.disabled=!0,je.innerText="Adding divisions...";try{const De={"Men's Physique":["Novice","Open","Masters 40+","Masters 50+","Junior"],"Classic Physique":["Novice","Open","Masters 40+","Masters 50+"],Bodybuilding:["Novice","Open","Masters 40+","Masters 50+","Junior"],Figure:["Novice","Open","Masters 35+","Masters 45+","Junior"],Bikini:["Novice","Open","Masters 35+","Masters 45+","Junior"],Wellness:["Novice","Open","Masters 35+","Masters 45+"],"Fitness Model":["Open","Masters"],"Sports Model":["Open","Masters"],Transformation:["Open"]};let ot=0,ft=0;for(const[Ce,Ze]of Object.entries(De)){const{data:ze,error:$e}=await Kr.from("division_categories").insert({event_id:J,name:Ce,sort_order:ot++,active:!0}).select().single();if($e){console.error("Error adding category:",Ce,$e);continue}if(ze){ft++;let ct=0;for(const Fe of Ze){const{error:xt}=await Kr.from("division_subdivisions").insert({category_id:ze.id,name:Fe,sort_order:ct++,active:!0});xt&&console.error("Error adding subdivision:",Fe,xt)}}}alert(`Added ${ft} division categories with subdivisions!`),await he(r.id)}catch(De){console.error("Error adding divisions:",De),alert("Error adding divisions: "+De.message)}finally{je.disabled=!1,je.innerText=Ue}}},className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg text-sm disabled:opacity-50",children:"Add Standard NBA Divisions"})]})]})]})]})}),v==="orders"&&l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Recent Orders"}),l.jsx("div",{className:"bg-gray-900/50 rounded-xl border border-gray-800 overflow-hidden",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{className:"bg-gray-800",children:l.jsxs("tr",{children:[l.jsx("th",{className:"text-left p-3",children:"Date"}),l.jsx("th",{className:"text-left p-3",children:"Athlete"}),l.jsx("th",{className:"text-left p-3",children:"Email"}),l.jsx("th",{className:"text-left p-3",children:"Event"}),l.jsx("th",{className:"text-left p-3",children:"Package"}),l.jsx("th",{className:"text-right p-3",children:"Amount"}),l.jsx("th",{className:"text-center p-3",children:"Status"})]})}),l.jsx("tbody",{children:A.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:"7",className:"p-8 text-center text-gray-400",children:"No orders yet"})}):A.map(me=>l.jsxs("tr",{className:"border-t border-gray-800",children:[l.jsx("td",{className:"p-3 text-gray-400",children:new Date(me.created_at).toLocaleDateString("en-AU")}),l.jsxs("td",{className:"p-3 font-medium",children:[me.first_name," ",me.last_name]}),l.jsx("td",{className:"p-3 text-gray-400",children:me.email}),l.jsx("td",{className:"p-3 text-gray-400",children:me.events?.name}),l.jsx("td",{className:"p-3 text-gray-400",children:me.packages?.name}),l.jsxs("td",{className:"p-3 text-right font-semibold",children:["$",me.amount]}),l.jsx("td",{className:"p-3 text-center",children:l.jsx("span",{className:`px-2 py-1 rounded text-xs ${me.status==="paid"?"bg-green-600":me.status==="delivered"?"bg-blue-600":me.status==="pending"?"bg-yellow-600":"bg-gray-600"}`,children:me.status})})]},me.id))})]})})]}),w&&se()]});function se(){return l.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-gray-900 rounded-xl border border-gray-700 p-6 w-full max-w-md",children:[l.jsxs("h3",{className:"text-lg font-semibold mb-4",children:[L?"Edit":"Add"," ",_==="org"?"Organization":_==="event"?"Event":_==="package"?"Package":_==="division-cat"?"Division Category":_==="division-sub"?"Subdivision":""]}),l.jsxs("div",{className:"space-y-4",children:[_==="org"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Name"}),l.jsx("input",{type:"text",value:V.name||"",onChange:me=>G({...V,name:me.target.value}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Slug (URL-friendly)"}),l.jsx("input",{type:"text",value:V.slug||"",onChange:me=>G({...V,slug:me.target.value.toLowerCase().replace(/\s+/g,"-")}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Logo URL"}),l.jsx("input",{type:"text",value:V.logo_url||"",onChange:me=>G({...V,logo_url:me.target.value}),placeholder:"https://...",className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Description"}),l.jsx("textarea",{value:V.description||"",onChange:me=>G({...V,description:me.target.value}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg",rows:3})]})]}),_==="event"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Event Name"}),l.jsx("input",{type:"text",value:V.name||"",onChange:me=>G({...V,name:me.target.value}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Date"}),l.jsx("input",{type:"date",value:V.date||"",onChange:me=>G({...V,date:me.target.value}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Location"}),l.jsx("input",{type:"text",value:V.location||"",onChange:me=>G({...V,location:me.target.value}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Status"}),l.jsxs("select",{value:V.status||"upcoming",onChange:me=>G({...V,status:me.target.value}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg",children:[l.jsx("option",{value:"upcoming",children:"Upcoming"}),l.jsx("option",{value:"active",children:"Active"}),l.jsx("option",{value:"completed",children:"Completed"})]})]})]}),_==="package"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Package Name"}),l.jsx("input",{type:"text",value:V.name||"",onChange:me=>G({...V,name:me.target.value}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Description"}),l.jsx("input",{type:"text",value:V.description||"",onChange:me=>G({...V,description:me.target.value}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Price (AUD)"}),l.jsx("input",{type:"number",value:V.price||"",onChange:me=>G({...V,price:me.target.value}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Sort Order"}),l.jsx("input",{type:"number",value:V.sort_order||0,onChange:me=>G({...V,sort_order:parseInt(me.target.value)}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg"})]})]})]}),_==="division-cat"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Category Name"}),l.jsx("input",{type:"text",value:V.name||"",onChange:me=>G({...V,name:me.target.value}),placeholder:"e.g., Men's Physique, Bikini, Figure",className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Sort Order"}),l.jsx("input",{type:"number",value:V.sort_order||0,onChange:me=>G({...V,sort_order:parseInt(me.target.value)}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg"})]})]}),_==="division-sub"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Subdivision Name"}),l.jsx("input",{type:"text",value:V.name||"",onChange:me=>G({...V,name:me.target.value}),placeholder:"e.g., Novice, Open, Masters 40+",className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Sort Order"}),l.jsx("input",{type:"number",value:V.sort_order||0,onChange:me=>G({...V,sort_order:parseInt(me.target.value)}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg"})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",id:"active",checked:V.active??!0,onChange:me=>G({...V,active:me.target.checked}),className:"rounded"}),l.jsx("label",{htmlFor:"active",className:"text-sm text-gray-400",children:"Active"})]})]}),l.jsxs("div",{className:"flex gap-3 mt-6",children:[l.jsx("button",{onClick:()=>S(!1),className:"flex-1 py-2 border border-gray-600 rounded-lg hover:bg-gray-800",children:"Cancel"}),l.jsx("button",{onClick:Be,className:"flex-1 py-2 bg-red-600 hover:bg-red-700 rounded-lg",children:"Save"})]})]})})}}function n3e(){const[t,e]=j.useState([]),[r,n]=j.useState([]),[i,s]=j.useState([]),[a,c]=j.useState([]),[u,o]=j.useState(!0),[d,f]=j.useState("all"),[A,p]=j.useState("all"),[g,y]=j.useState(""),[v,b]=j.useState(""),[w,S]=j.useState(""),[_,T]=j.useState(null);j.useEffect(()=>{L()},[]);async function L(){o(!0);const{data:ge}=await Kr.from("organizations").select("*").order("name");n(ge||[]);const{data:he}=await Kr.from("events").select("*").order("date",{ascending:!1});s(he||[]);const{data:ne}=await Kr.from("packages").select("*").order("name");c(ne||[]);const{data:Ae}=await Kr.from("content_orders").select("*").order("created_at",{ascending:!1});e(Ae||[]),o(!1)}async function D(ge){const{error:he}=await Kr.from("content_orders").update({status:"delivered",delivered_at:new Date().toISOString()}).eq("id",ge);he?alert("Failed to update order status"):L()}function V(ge){return r.find(he=>he.id===ge)?.name||"Unknown"}function G(ge){return i.find(he=>he.id===ge)?.name||"Unknown"}function J(ge){return a.find(he=>he.id===ge)?.name||"Unknown"}const ee=t.filter(ge=>{if(d!=="all"&&ge.organization_id!==d||A!=="all"&&ge.status!==A||g&&new Date(ge.created_at)<new Date(g)||v&&new Date(ge.created_at)>new Date(v+"T23:59:59"))return!1;if(w){const he=w.toLowerCase(),ne=`${ge.first_name} ${ge.last_name}`.toLowerCase(),Ae=ge.email?.toLowerCase()||"",oe=ge.phone?.toLowerCase()||"";if(!ne.includes(he)&&!Ae.includes(he)&&!oe.includes(he))return!1}return!0}),ue=ee.filter(ge=>ge.status==="paid"||ge.status==="delivered").reduce((ge,he)=>ge+(parseFloat(he.amount)||0),0);function pe(){const ge=["Date","Customer","Email","Phone","Organization","Event","Package","Amount","Status"],he=ee.map(ke=>[new Date(ke.created_at).toLocaleDateString(),`${ke.first_name} ${ke.last_name}`,ke.email,ke.phone||"",V(ke.organization_id),G(ke.event_id),J(ke.package_id),ke.amount,ke.status]),ne=[ge,...he].map(ke=>ke.join(",")).join(`
`),Ae=new Blob([ne],{type:"text/csv"}),oe=URL.createObjectURL(Ae),Be=document.createElement("a");Be.href=oe,Be.download=`orders-${new Date().toISOString().split("T")[0]}.csv`,Be.click()}return u?l.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center",children:l.jsx("div",{className:"text-gray-400",children:"Loading orders..."})}):l.jsxs("div",{className:"min-h-screen bg-black text-white p-6",children:[l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"flex justify-between items-center mb-8",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold",children:"Order Management"}),l.jsxs("p",{className:"text-gray-400 mt-1",children:[ee.length," orders  $",ue.toFixed(2)," AUD revenue"]})]}),l.jsxs("button",{onClick:pe,className:"px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg hover:bg-gray-700 flex items-center gap-2",children:[l.jsx("span",{children:""}),"Export CSV"]})]}),l.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 mb-6 border border-gray-800",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Filters"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Organization"}),l.jsxs("select",{value:d,onChange:ge=>f(ge.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg",children:[l.jsx("option",{value:"all",children:"All Organizations"}),r.map(ge=>l.jsx("option",{value:ge.id,children:ge.name},ge.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Status"}),l.jsxs("select",{value:A,onChange:ge=>p(ge.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg",children:[l.jsx("option",{value:"all",children:"All Statuses"}),l.jsx("option",{value:"pending",children:"Pending"}),l.jsx("option",{value:"paid",children:"Paid"}),l.jsx("option",{value:"processing",children:"Processing"}),l.jsx("option",{value:"delivered",children:"Delivered"}),l.jsx("option",{value:"refunded",children:"Refunded"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"From Date"}),l.jsx("input",{type:"date",value:g,onChange:ge=>y(ge.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"To Date"}),l.jsx("input",{type:"date",value:v,onChange:ge=>b(ge.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg"})]})]}),l.jsxs("div",{className:"mt-4",children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Search (Name, Email, Phone)"}),l.jsx("input",{type:"text",value:w,onChange:ge=>S(ge.target.value),placeholder:"Search orders...",className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg"})]})]}),l.jsx("div",{className:"bg-gray-900 rounded-lg overflow-hidden border border-gray-800",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-800",children:l.jsxs("tr",{children:[l.jsx("th",{className:"text-left p-4 text-sm font-semibold",children:"Date"}),l.jsx("th",{className:"text-left p-4 text-sm font-semibold",children:"Customer"}),l.jsx("th",{className:"text-left p-4 text-sm font-semibold",children:"Organization"}),l.jsx("th",{className:"text-left p-4 text-sm font-semibold",children:"Event"}),l.jsx("th",{className:"text-left p-4 text-sm font-semibold",children:"Package"}),l.jsx("th",{className:"text-right p-4 text-sm font-semibold",children:"Amount"}),l.jsx("th",{className:"text-center p-4 text-sm font-semibold",children:"Status"}),l.jsx("th",{className:"text-center p-4 text-sm font-semibold",children:"Actions"})]})}),l.jsx("tbody",{children:ee.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:"8",className:"text-center p-8 text-gray-500",children:"No orders found"})}):ee.map(ge=>l.jsxs("tr",{className:"border-t border-gray-800 hover:bg-gray-800/50",children:[l.jsxs("td",{className:"p-4 text-sm",children:[new Date(ge.created_at).toLocaleDateString(),l.jsx("div",{className:"text-xs text-gray-500",children:new Date(ge.created_at).toLocaleTimeString()})]}),l.jsxs("td",{className:"p-4",children:[l.jsxs("div",{className:"font-medium",children:[ge.first_name," ",ge.last_name]}),l.jsx("div",{className:"text-sm text-gray-400",children:ge.email}),ge.phone&&l.jsx("div",{className:"text-xs text-gray-500",children:ge.phone})]}),l.jsx("td",{className:"p-4 text-sm",children:V(ge.organization_id)}),l.jsx("td",{className:"p-4 text-sm",children:G(ge.event_id)}),l.jsx("td",{className:"p-4 text-sm",children:J(ge.package_id)}),l.jsxs("td",{className:"p-4 text-right font-semibold",children:["$",ge.amount]}),l.jsx("td",{className:"p-4 text-center",children:l.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-medium ${ge.status==="delivered"?"bg-green-500/20 text-green-400":ge.status==="paid"?"bg-blue-500/20 text-blue-400":ge.status==="processing"?"bg-yellow-500/20 text-yellow-400":ge.status==="refunded"?"bg-red-500/20 text-red-400":"bg-gray-500/20 text-gray-400"}`,children:ge.status})}),l.jsxs("td",{className:"p-4 text-center",children:[l.jsx("button",{onClick:()=>T(ge),className:"text-blue-400 hover:text-blue-300 text-sm mr-3",children:"View"}),ge.status==="paid"&&l.jsx("button",{onClick:()=>D(ge.id),className:"text-green-400 hover:text-green-300 text-sm",children:"Mark Delivered"})]})]},ge.id))})]})})]}),_&&l.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",onClick:()=>T(null),children:l.jsxs("div",{className:"bg-gray-900 rounded-lg max-w-2xl w-full p-6 border border-gray-800",onClick:ge=>ge.stopPropagation(),children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold",children:"Order Details"}),l.jsx("button",{onClick:()=>T(null),className:"text-gray-400 hover:text-white",children:""})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4",children:[l.jsx("h3",{className:"font-semibold mb-3 text-red-500",children:"Customer Information"}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-400",children:"Name:"}),l.jsxs("div",{className:"font-medium",children:[_.first_name," ",_.last_name]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-400",children:"Email:"}),l.jsx("div",{className:"font-medium",children:_.email})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-400",children:"Phone:"}),l.jsx("div",{className:"font-medium",children:_.phone||"N/A"})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-400",children:"Instagram:"}),l.jsxs("div",{className:"font-medium",children:["@",_.instagram||"N/A"]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-400",children:"Division:"}),l.jsx("div",{className:"font-medium",children:_.division||"N/A"})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-400",children:"Coach:"}),l.jsxs("div",{className:"font-medium",children:[_.coach_name||"N/A"," (@",_.coach_instagram||"N/A",")"]})]})]})]}),l.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4",children:[l.jsx("h3",{className:"font-semibold mb-3 text-red-500",children:"Order Information"}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-400",children:"Organization:"}),l.jsx("div",{className:"font-medium",children:V(_.organization_id)})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-400",children:"Event:"}),l.jsx("div",{className:"font-medium",children:G(_.event_id)})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-400",children:"Package:"}),l.jsx("div",{className:"font-medium",children:J(_.package_id)})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-400",children:"Amount:"}),l.jsxs("div",{className:"font-medium text-lg",children:["$",_.amount," ",_.currency]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-400",children:"Status:"}),l.jsx("div",{className:"font-medium",children:_.status})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-400",children:"Order Date:"}),l.jsx("div",{className:"font-medium",children:new Date(_.created_at).toLocaleString()})]}),_.paid_at&&l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-400",children:"Paid At:"}),l.jsx("div",{className:"font-medium",children:new Date(_.paid_at).toLocaleString()})]}),_.delivered_at&&l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-400",children:"Delivered At:"}),l.jsx("div",{className:"font-medium",children:new Date(_.delivered_at).toLocaleString()})]})]})]}),l.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4",children:[l.jsx("h3",{className:"font-semibold mb-3 text-red-500",children:"Payment Information"}),l.jsxs("div",{className:"text-sm space-y-2",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-400",children:"Stripe Session ID:"}),l.jsx("div",{className:"font-mono text-xs break-all",children:_.stripe_session_id})]}),_.stripe_payment_id&&l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-400",children:"Payment Intent ID:"}),l.jsx("div",{className:"font-mono text-xs break-all",children:_.stripe_payment_id})]})]})]}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[_.status==="paid"&&l.jsx("button",{onClick:()=>{D(_.id),T(null)},className:"flex-1 px-4 py-2 bg-green-600 hover:bg-green-700 rounded-lg font-medium",children:"Mark as Delivered"}),l.jsx("button",{onClick:()=>T(null),className:"flex-1 px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg font-medium",children:"Close"})]})]})]})})]})}const i3e={1:1,2:1.8,3:2.4,4:2.9},s3e={1:"Base rate",2:"+80% for 2nd person",3:"+60% for 3rd person",4:"+50% for 4th person"},aK=[{id:"teleprompter",name:"Teleprompter",price:150},{id:"drone",name:"Drone Footage",price:300,perDay:!0},{id:"music",name:"Licensed Music",price:75},{id:"script",name:"Script Writing",price:250},{id:"skin",name:"Skin Smoothing",price:100},{id:"rush",name:"Rush Delivery",price:0,multiplier:1.5},{id:"revisions",name:"Extra Revisions",price:150,note:"3 rounds"}],oK=[{id:"horizontal",name:"Horizontal (16:9)",icon:""},{id:"vertical",name:"Vertical (9:16)",icon:""},{id:"square",name:"Square (1:1)",icon:""}];function a3e(){const[t,e]=j.useState(1e3),[r,n]=j.useState(2),[i,s]=j.useState(1),[a,c]=j.useState(4),[u,o]=j.useState(0),[d,f]=j.useState([{id:1,name:"Main Video",length:2,format:"horizontal"}]),[A,p]=j.useState(500),[g,y]=j.useState(300),[v,b]=j.useState(200),[w,S]=j.useState("none"),[_,T]=j.useState(0),[L,D]=j.useState({}),[V,G]=j.useState({}),J=()=>{const ne=Math.max(...d.map(Ae=>Ae.id),0)+1;f([...d,{id:ne,name:`Video ${ne}`,length:1,format:"horizontal"}])},ee=ne=>{d.length>1&&f(d.filter(Ae=>Ae.id!==ne))},ue=(ne,Ae,oe)=>{f(d.map(Be=>Be.id===ne?{...Be,[Ae]:oe}:Be))},pe=j.useCallback(()=>{const ne=t*.4,Ae=t*.6/7,oe=Math.max(0,a-1),Be=ne+oe*Ae,ke=i3e[r],se=Be*ke*i,me=u*2,je=Math.ceil(me/50)*50,Ue=u>0?je:0;let De=0;const ot=d.map((pt,Bt)=>{const qt=Bt===0?A:g,Yr=Math.max(0,pt.length-1)*v,yr=qt+Yr;return De+=yr,{...pt,cost:yr}});let ft=0,Ce=[],Ze=1;Object.entries(L).forEach(([pt,Bt])=>{if(!Bt)return;const qt=aK.find(Yr=>Yr.id===pt);if(qt){if(qt.multiplier)Ze=qt.multiplier,Ce.push("Rush (+50%)");else if(qt.price>0){const Yr=qt.perDay?qt.price*i:qt.price;ft+=Yr,Ce.push(qt.name)}}});let ze=(se+Ue+De+ft)*Ze,$e=0;w==="percent"&&_>0?$e=ze*(_/100):w==="fixed"&&_>0&&($e=_);const ct=ze-$e,Fe=ct/1.1,xt=ct-Fe;G({baseRate:Math.round(ne),hourlyRate:Math.round(Ae),shootTotal:Math.round(se),roundTripKm:me,travelTotal:Ue,deliverablesTotal:Math.round(De),deliverableBreakdown:ot,addonsTotal:Math.round(ft),addonsItems:Ce,discountAmount:Math.round($e),grandTotal:Math.round(ct),exGst:Math.round(Fe),gstAmount:Math.round(xt)})},[t,r,i,a,u,d,A,g,v,w,_,L]);j.useEffect(()=>{pe()},[pe]);const ge=ne=>{D(Ae=>({...Ae,[ne]:!Ae[ne]}))},he=()=>{const ne=d.map((oe,Be)=>{const ke=oK.find(ve=>ve.id===oe.format);return` ${oe.name}: ${oe.length} min ${ke?.name||""}  $${V.deliverableBreakdown?.[Be]?.cost?.toLocaleString()||0}`}).join(`
`),Ae=`
FFM PROJECT QUOTE
==================

PRODUCTION
 Crew: ${r} person${r>1?"s":""}
 Duration: ${i} day${i>1?"s":""}  ${a} hours
 Production: $${V.shootTotal?.toLocaleString()}

TRAVEL
 ${V.roundTripKm>0?`${V.roundTripKm}km round trip`:"Local (no charge)"}
 Travel: $${V.travelTotal?.toLocaleString()}

DELIVERABLES (${d.length} video${d.length>1?"s":""})
${ne}
 Total Editing: $${V.deliverablesTotal?.toLocaleString()}

${V.addonsItems?.length>0?`ADD-ONS
 ${V.addonsItems.join(`
 `)}
 Add-ons: $${V.addonsTotal?.toLocaleString()}
`:""}
==================
TOTAL: $${V.grandTotal?.toLocaleString()} (Inc. GST)
Ex. GST: $${V.exGst?.toLocaleString()}

Valid for 30 days.
    `.trim();navigator.clipboard.writeText(Ae).then(()=>{alert("Quote copied to clipboard!")})};return l.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-red-500",children:"Project Pricing Calculator"}),l.jsx("p",{className:"text-gray-400 mt-1",children:"Structure-based pricing for video production"})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[l.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-gray-700/50",children:[l.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[l.jsx("span",{className:"text-2xl",children:""})," Base Day Rate"]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Day Rate (AUD)"}),l.jsxs("div",{className:"relative",children:[l.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:"$"}),l.jsx("input",{type:"number",value:t,onChange:ne=>e(parseFloat(ne.target.value)||0),min:"100",step:"50",className:"w-full bg-gray-700 border border-gray-600 rounded-lg pl-8 pr-4 py-3 text-lg font-semibold focus:border-red-500 focus:outline-none transition"})]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"All prices auto-scale from this"})]}),l.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-4",children:[l.jsx("div",{className:"text-sm text-gray-400",children:"Calculated Rates:"}),l.jsxs("div",{className:"mt-2 space-y-1 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Base Rate (40%):"}),l.jsxs("span",{className:"font-semibold text-green-400",children:["$",V.baseRate]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Hourly Rate:"}),l.jsxs("span",{className:"font-semibold text-green-400",children:["$",V.hourlyRate,"/hr"]})]})]})]})]})]}),l.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-gray-700/50",children:[l.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[l.jsx("span",{className:"text-2xl",children:""})," Crew & Shooting Time"]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Crew Size"}),l.jsxs("select",{value:r,onChange:ne=>n(parseInt(ne.target.value)),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-3 focus:border-red-500 focus:outline-none",children:[l.jsx("option",{value:"1",children:"1 Person"}),l.jsx("option",{value:"2",children:"2 People"}),l.jsx("option",{value:"3",children:"3 People"}),l.jsx("option",{value:"4",children:"4 People"})]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:s3e[r]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Shoot Days"}),l.jsx("input",{type:"number",value:i,onChange:ne=>s(parseInt(ne.target.value)||1),min:"1",max:"30",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-3 focus:border-red-500 focus:outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Hours Per Day"}),l.jsx("input",{type:"number",value:a,onChange:ne=>c(parseFloat(ne.target.value)||1),min:"1",max:"12",step:"0.5",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-3 focus:border-red-500 focus:outline-none"})]})]})]}),l.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-gray-700/50",children:[l.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[l.jsx("span",{className:"text-2xl",children:""})," Travel"]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Distance (KM, one way)"}),l.jsx("input",{type:"number",value:u,onChange:ne=>o(parseFloat(ne.target.value)||0),min:"0",step:"10",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-3 focus:border-red-500 focus:outline-none"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"$50 per 50km (round trip calculated)"})]}),l.jsx("div",{className:"bg-gray-700/50 rounded-lg p-4 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-sm text-gray-400",children:"Round Trip"}),l.jsxs("div",{className:"text-2xl font-bold text-red-400",children:[V.roundTripKm||0," km"]})]})})]})]}),l.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-gray-700/50",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[l.jsx("span",{className:"text-2xl",children:""})," Deliverables"]}),l.jsx("button",{onClick:J,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg text-sm font-medium transition",children:"+ Add Video"})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6 p-4 bg-gray-700/30 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"First Video Base"}),l.jsxs("div",{className:"relative",children:[l.jsx("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-gray-400 text-sm",children:"$"}),l.jsx("input",{type:"number",value:A,onChange:ne=>p(parseFloat(ne.target.value)||0),className:"w-full bg-gray-700 border border-gray-600 rounded-lg pl-6 pr-2 py-2 text-sm focus:border-red-500 focus:outline-none"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Additional Videos"}),l.jsxs("div",{className:"relative",children:[l.jsx("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-gray-400 text-sm",children:"$"}),l.jsx("input",{type:"number",value:g,onChange:ne=>y(parseFloat(ne.target.value)||0),className:"w-full bg-gray-700 border border-gray-600 rounded-lg pl-6 pr-2 py-2 text-sm focus:border-red-500 focus:outline-none"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Per Extra Minute"}),l.jsxs("div",{className:"relative",children:[l.jsx("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-gray-400 text-sm",children:"$"}),l.jsx("input",{type:"number",value:v,onChange:ne=>b(parseFloat(ne.target.value)||0),className:"w-full bg-gray-700 border border-gray-600 rounded-lg pl-6 pr-2 py-2 text-sm focus:border-red-500 focus:outline-none"})]})]})]}),l.jsx("div",{className:"space-y-3",children:d.map((ne,Ae)=>l.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${Ae===0?"bg-red-600 text-white":"bg-gray-600 text-gray-300"}`,children:Ae===0?"Primary":`+${Ae}`}),l.jsx("input",{type:"text",value:ne.name,onChange:oe=>ue(ne.id,"name",oe.target.value),className:"bg-transparent border-b border-gray-600 focus:border-red-500 outline-none text-white font-medium",placeholder:"Video name"})]}),d.length>1&&l.jsx("button",{onClick:()=>ee(ne.id),className:"text-red-400 hover:text-red-300 text-sm",children:"Remove"})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Length (min)"}),l.jsx("input",{type:"number",value:ne.length,onChange:oe=>ue(ne.id,"length",parseInt(oe.target.value)||1),min:"1",max:"60",className:"w-full bg-gray-600 border border-gray-500 rounded px-3 py-2 text-sm focus:border-red-500 focus:outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Format"}),l.jsx("select",{value:ne.format,onChange:oe=>ue(ne.id,"format",oe.target.value),className:"w-full bg-gray-600 border border-gray-500 rounded px-3 py-2 text-sm focus:border-red-500 focus:outline-none",children:oK.map(oe=>l.jsxs("option",{value:oe.id,children:[oe.icon," ",oe.name]},oe.id))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Cost"}),l.jsxs("div",{className:"bg-gray-600/50 rounded px-3 py-2 text-sm font-semibold text-green-400",children:["$",V.deliverableBreakdown?.[Ae]?.cost?.toLocaleString()||0]})]})]})]},ne.id))}),l.jsxs("div",{className:"mt-4 p-3 bg-gray-700/50 rounded-lg text-sm text-gray-400",children:[l.jsx("strong",{children:"Each video includes:"})," Color correction, color grading, audio mixing, lower thirds, file conversion"]})]}),l.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-gray-700/50",children:[l.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[l.jsx("span",{className:"text-2xl",children:""})," Add-Ons"]}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:aK.map(ne=>l.jsxs("label",{className:`flex items-center gap-3 rounded-lg p-3 cursor-pointer transition ${L[ne.id]?"bg-red-600/20 border border-red-500/50":"bg-gray-700/50 hover:bg-gray-700"}`,children:[l.jsx("input",{type:"checkbox",checked:L[ne.id]||!1,onChange:()=>ge(ne.id),className:"w-5 h-5 rounded accent-red-500"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:ne.name}),l.jsxs("div",{className:"text-sm text-gray-400",children:[ne.multiplier?"+50%":`$${ne.price}${ne.perDay?"/day":""}`,ne.note&&` (${ne.note})`]})]})]},ne.id))})]}),l.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-gray-700/50",children:[l.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[l.jsx("span",{className:"text-2xl",children:""})," Package Discount"]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Discount Type"}),l.jsxs("select",{value:w,onChange:ne=>{S(ne.target.value),ne.target.value==="none"&&T(0)},className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-3 focus:border-red-500 focus:outline-none",children:[l.jsx("option",{value:"none",children:"No Discount"}),l.jsx("option",{value:"percent",children:"Percentage"}),l.jsx("option",{value:"fixed",children:"Fixed Amount"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Discount Value"}),l.jsx("input",{type:"number",value:_,onChange:ne=>T(parseFloat(ne.target.value)||0),min:"0",disabled:w==="none",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-3 focus:border-red-500 focus:outline-none disabled:opacity-50"})]})]})]})]}),l.jsx("div",{className:"lg:col-span-1",children:l.jsxs("div",{className:"bg-gradient-to-br from-red-600 to-red-800 rounded-xl p-6 sticky top-8",children:[l.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Quote Summary"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"bg-black/20 rounded-lg p-4",children:[l.jsx("div",{className:"text-sm text-red-200",children:"Production (Shoot)"}),l.jsxs("div",{className:"text-2xl font-bold",children:["$",V.shootTotal?.toLocaleString()]}),l.jsxs("div",{className:"text-xs text-red-300 mt-1",children:[r," crew  ",a,"h  ",i," day",i>1?"s":""]})]}),l.jsxs("div",{className:"bg-black/20 rounded-lg p-4",children:[l.jsx("div",{className:"text-sm text-red-200",children:"Travel"}),l.jsxs("div",{className:"text-2xl font-bold",children:["$",V.travelTotal?.toLocaleString()]}),l.jsx("div",{className:"text-xs text-red-300 mt-1",children:u>0?`${V.roundTripKm}km round trip`:"Local (no charge)"})]}),l.jsxs("div",{className:"bg-black/20 rounded-lg p-4",children:[l.jsxs("div",{className:"text-sm text-red-200",children:["Deliverables (",d.length," video",d.length>1?"s":"",")"]}),l.jsxs("div",{className:"text-2xl font-bold",children:["$",V.deliverablesTotal?.toLocaleString()]}),l.jsx("div",{className:"text-xs text-red-300 mt-1 space-y-0.5",children:V.deliverableBreakdown?.map((ne,Ae)=>l.jsxs("div",{children:[ne.name,": ",ne.length,"min  $",ne.cost?.toLocaleString()]},Ae))})]}),l.jsxs("div",{className:"bg-black/20 rounded-lg p-4",children:[l.jsx("div",{className:"text-sm text-red-200",children:"Add-Ons"}),l.jsxs("div",{className:"text-2xl font-bold",children:["$",V.addonsTotal?.toLocaleString()]}),l.jsx("div",{className:"text-xs text-red-300 mt-1",children:V.addonsItems?.length>0?V.addonsItems.join(", "):"None selected"})]}),V.discountAmount>0&&l.jsxs("div",{className:"bg-black/20 rounded-lg p-4",children:[l.jsx("div",{className:"text-sm text-red-200",children:"Discount"}),l.jsxs("div",{className:"text-2xl font-bold text-green-400",children:["-$",V.discountAmount?.toLocaleString()]})]})]}),l.jsx("div",{className:"mt-6 pt-6 border-t border-red-400/30",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm text-red-200",children:"TOTAL QUOTE"}),l.jsx("div",{className:"text-xs text-red-300",children:"Inc. GST"})]}),l.jsxs("div",{className:"text-4xl font-bold",children:["$",V.grandTotal?.toLocaleString()]})]})}),l.jsxs("div",{className:"mt-6 pt-4 border-t border-red-400/30",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-red-200",children:"Ex. GST:"}),l.jsxs("span",{className:"font-semibold",children:["$",V.exGst?.toLocaleString()]})]}),l.jsxs("div",{className:"flex justify-between text-sm mt-1",children:[l.jsx("span",{className:"text-red-200",children:"GST (10%):"}),l.jsxs("span",{className:"font-semibold",children:["$",V.gstAmount?.toLocaleString()]})]})]}),l.jsx("div",{className:"mt-6",children:l.jsx("button",{onClick:he,className:"w-full bg-white text-red-600 font-semibold py-3 rounded-lg hover:bg-red-100 transition",children:" Copy Quote Text"})})]})})]}),l.jsx("div",{className:"mt-12 text-center text-gray-500 text-sm",children:l.jsx("p",{children:"Pricing based on structure-based methodology. All prices in AUD."})})]})}function o3e({event:t,crew:e,equipment:r,onClose:n}){if(!t)return null;const i=f=>(f||[]).map(A=>e.find(p=>p.id===A)).filter(Boolean),s=f=>(f||[]).map(A=>r.find(p=>p.id===A)).filter(Boolean);function a(f){return new Date(f).toLocaleDateString("en-AU",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}const c=i(t.crew_ids),u=s(t.equipment_ids),o=u.reduce((f,A)=>{const p=A.category||"Other";return f[p]||(f[p]=[]),f[p].push(A),f},{}),d={confirmed:"#10b981",tentative:"#f59e0b",completed:"#6b7280",cancelled:"#ef4444"};return l.jsxs("div",{className:"fixed inset-0 bg-black/80 flex items-start justify-center z-50 p-4 overflow-y-auto",children:[l.jsxs("div",{className:"print:hidden fixed top-4 right-4 flex items-center gap-3 z-10",children:[l.jsxs("button",{onClick:()=>window.print(),className:"px-4 py-2 bg-orange-600 hover:bg-orange-700 rounded-lg text-white font-medium flex items-center gap-2",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})}),"Print Brief"]}),l.jsx("button",{onClick:n,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg text-white",children:"Close"})]}),l.jsxs("div",{id:"event-brief",className:"bg-white text-gray-900 w-full max-w-3xl my-4 rounded-xl overflow-hidden print:m-0 print:rounded-none print:shadow-none",style:{fontFamily:"system-ui, -apple-system, sans-serif"},children:[l.jsx("div",{style:{background:"linear-gradient(135deg, #1a1a2e 0%, #16213e 100%)",color:"white",padding:"32px"},children:l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",flexWrap:"wrap",gap:"16px"},children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"12px",textTransform:"uppercase",letterSpacing:"2px",color:"#e5383b",fontWeight:"700",marginBottom:"8px"},children:"FIT FOCUS MEDIA  PRODUCTION BRIEF"}),l.jsx("h1",{style:{fontSize:"28px",fontWeight:"800",margin:"0 0 8px"},children:t.name}),l.jsx("p",{style:{fontSize:"16px",color:"#e5383b",margin:"0"},children:t.client})]}),l.jsx("div",{style:{textAlign:"right"},children:l.jsx("span",{style:{background:d[t.status]||"#6b7280",color:"white",padding:"4px 12px",borderRadius:"20px",fontSize:"12px",fontWeight:"700",textTransform:"uppercase",letterSpacing:"1px"},children:t.status})})]})}),l.jsxs("div",{style:{padding:"32px"},children:[l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"24px",marginBottom:"32px"},children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"10px",textTransform:"uppercase",letterSpacing:"1px",color:"#9ca3af",marginBottom:"6px"},children:"DATE"}),l.jsx("div",{style:{fontSize:"15px",fontWeight:"600",color:"#111827"},children:a(t.date)})]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"10px",textTransform:"uppercase",letterSpacing:"1px",color:"#9ca3af",marginBottom:"6px"},children:"LOCATION"}),l.jsx("div",{style:{fontSize:"15px",fontWeight:"600",color:"#111827"},children:t.location||"TBC"})]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"10px",textTransform:"uppercase",letterSpacing:"1px",color:"#9ca3af",marginBottom:"6px"},children:"CLIENT"}),l.jsx("div",{style:{fontSize:"15px",fontWeight:"600",color:"#111827"},children:t.client})]})]}),l.jsx("div",{style:{borderTop:"1px solid #e5e7eb",marginBottom:"28px"}}),l.jsxs("div",{style:{marginBottom:"28px"},children:[l.jsxs("h2",{style:{fontSize:"14px",fontWeight:"700",textTransform:"uppercase",letterSpacing:"1px",color:"#374151",marginBottom:"12px",display:"flex",alignItems:"center",gap:"8px"},children:[" Crew (",c.length,")"]}),c.length>0?l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{background:"#f9fafb"},children:[l.jsx("th",{style:{padding:"8px 12px",textAlign:"left",fontSize:"11px",color:"#6b7280",textTransform:"uppercase",borderBottom:"1px solid #e5e7eb"},children:"Name"}),l.jsx("th",{style:{padding:"8px 12px",textAlign:"left",fontSize:"11px",color:"#6b7280",textTransform:"uppercase",borderBottom:"1px solid #e5e7eb"},children:"Role"}),l.jsx("th",{style:{padding:"8px 12px",textAlign:"left",fontSize:"11px",color:"#6b7280",textTransform:"uppercase",borderBottom:"1px solid #e5e7eb"},children:"Phone"}),l.jsx("th",{style:{padding:"8px 12px",textAlign:"left",fontSize:"11px",color:"#6b7280",textTransform:"uppercase",borderBottom:"1px solid #e5e7eb"},children:"Email"})]})}),l.jsx("tbody",{children:c.map((f,A)=>l.jsxs("tr",{style:{background:A%2===0?"white":"#f9fafb"},children:[l.jsx("td",{style:{padding:"10px 12px",fontWeight:"600",fontSize:"14px",borderBottom:"1px solid #f3f4f6"},children:f.name}),l.jsx("td",{style:{padding:"10px 12px",fontSize:"13px",color:"#6b7280",borderBottom:"1px solid #f3f4f6"},children:f.role||""}),l.jsx("td",{style:{padding:"10px 12px",fontSize:"13px",borderBottom:"1px solid #f3f4f6"},children:f.phone||""}),l.jsx("td",{style:{padding:"10px 12px",fontSize:"13px",borderBottom:"1px solid #f3f4f6"},children:f.email||""})]},f.id))})]}):l.jsx("p",{style:{color:"#9ca3af",fontSize:"14px",fontStyle:"italic"},children:"No crew assigned yet. Assign crew from the Crew & Logistics portal."})]}),u.length>0&&l.jsxs("div",{style:{marginBottom:"28px"},children:[l.jsxs("h2",{style:{fontSize:"14px",fontWeight:"700",textTransform:"uppercase",letterSpacing:"1px",color:"#374151",marginBottom:"12px"},children:[" Equipment (",u.length," items)"]}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"16px"},children:Object.entries(o).map(([f,A])=>l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"11px",fontWeight:"700",textTransform:"uppercase",letterSpacing:"1px",color:"#9ca3af",marginBottom:"6px"},children:f}),A.map(p=>l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"4px 0",borderBottom:"1px solid #f3f4f6",fontSize:"13px"},children:[l.jsx("span",{style:{color:"#111827"},children:p.name}),l.jsxs("span",{style:{color:"#6b7280"},children:["",p.quantity]})]},p.id))]},f))})]}),(t.flight_links?.length||0)+(t.accommodation_links?.length||0)+(t.rental_links?.length||0)>0&&l.jsxs("div",{style:{marginBottom:"28px"},children:[l.jsx("h2",{style:{fontSize:"14px",fontWeight:"700",textTransform:"uppercase",letterSpacing:"1px",color:"#374151",marginBottom:"12px"},children:" Travel & Logistics"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"16px"},children:[t.flight_links?.length>0&&l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"11px",fontWeight:"700",color:"#9ca3af",textTransform:"uppercase",marginBottom:"6px"},children:"Flights"}),t.flight_links.map((f,A)=>l.jsxs("a",{href:f,style:{display:"block",color:"#2563eb",fontSize:"13px",marginBottom:"4px",wordBreak:"break-all"},children:[" Flight ",A+1]},A))]}),t.accommodation_links?.length>0&&l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"11px",fontWeight:"700",color:"#9ca3af",textTransform:"uppercase",marginBottom:"6px"},children:"Accommodation"}),t.accommodation_links.map((f,A)=>l.jsxs("a",{href:f,style:{display:"block",color:"#2563eb",fontSize:"13px",marginBottom:"4px",wordBreak:"break-all"},children:[" Booking ",A+1]},A))]}),t.rental_links?.length>0&&l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"11px",fontWeight:"700",color:"#9ca3af",textTransform:"uppercase",marginBottom:"6px"},children:"Rental Cars"}),t.rental_links.map((f,A)=>l.jsxs("a",{href:f,style:{display:"block",color:"#2563eb",fontSize:"13px",marginBottom:"4px",wordBreak:"break-all"},children:[" Rental ",A+1]},A))]})]})]}),t.notes&&l.jsxs("div",{style:{marginBottom:"28px"},children:[l.jsx("h2",{style:{fontSize:"14px",fontWeight:"700",textTransform:"uppercase",letterSpacing:"1px",color:"#374151",marginBottom:"12px"},children:" Notes"}),l.jsx("div",{style:{background:"#f9fafb",borderLeft:"3px solid #e5383b",padding:"12px 16px",borderRadius:"4px",fontSize:"14px",lineHeight:"1.6",color:"#374151"},children:t.notes})]}),l.jsxs("div",{style:{marginBottom:"20px"},children:[l.jsx("h2",{style:{fontSize:"14px",fontWeight:"700",textTransform:"uppercase",letterSpacing:"1px",color:"#374151",marginBottom:"12px"},children:" Shot List / Run Sheet"}),l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{background:"#f9fafb"},children:[l.jsx("th",{style:{width:"60px",padding:"8px 12px",textAlign:"left",fontSize:"11px",color:"#6b7280",textTransform:"uppercase",borderBottom:"1px solid #e5e7eb"},children:"#"}),l.jsx("th",{style:{width:"80px",padding:"8px 12px",textAlign:"left",fontSize:"11px",color:"#6b7280",textTransform:"uppercase",borderBottom:"1px solid #e5e7eb"},children:"Time"}),l.jsx("th",{style:{padding:"8px 12px",textAlign:"left",fontSize:"11px",color:"#6b7280",textTransform:"uppercase",borderBottom:"1px solid #e5e7eb"},children:"Shot / Activity"}),l.jsx("th",{style:{width:"80px",padding:"8px 12px",textAlign:"left",fontSize:"11px",color:"#6b7280",textTransform:"uppercase",borderBottom:"1px solid #e5e7eb"},children:"Done"})]})}),l.jsx("tbody",{children:[1,2,3,4,5,6,7,8].map(f=>l.jsxs("tr",{style:{borderBottom:"1px solid #f3f4f6"},children:[l.jsx("td",{style:{padding:"12px",color:"#9ca3af",fontSize:"13px"},children:f}),l.jsx("td",{style:{padding:"12px"}}),l.jsx("td",{style:{padding:"12px"}}),l.jsx("td",{style:{padding:"12px",textAlign:"center"},children:""})]},f))})]})]}),l.jsxs("div",{style:{borderTop:"1px solid #e5e7eb",paddingTop:"16px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("div",{style:{fontSize:"11px",color:"#9ca3af"},children:["Generated by FIT FOCUS MEDIA Portal  ",new Date().toLocaleDateString("en-AU",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})]}),l.jsx("div",{style:{fontSize:"11px",color:"#9ca3af"},children:"fitfocusmedia.com.au"})]})]})]})]})}const u5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function n1(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function CM(t){return"nodeType"in t}function ih(t){var e,r;return t?n1(t)?t:CM(t)&&(e=(r=t.ownerDocument)==null?void 0:r.defaultView)!=null?e:window:window}function jM(t){const{Document:e}=ih(t);return t instanceof e}function F2(t){return n1(t)?!1:t instanceof ih(t).HTMLElement}function gre(t){return t instanceof ih(t).SVGElement}function i1(t){return t?n1(t)?t.document:CM(t)?jM(t)?t:F2(t)||gre(t)?t.ownerDocument:document:document:document}const Kp=u5?j.useLayoutEffect:j.useEffect;function d5(t){const e=j.useRef(t);return Kp(()=>{e.current=t}),j.useCallback(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return e.current==null?void 0:e.current(...n)},[])}function l3e(){const t=j.useRef(null),e=j.useCallback((n,i)=>{t.current=setInterval(n,i)},[]),r=j.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,r]}function jE(t,e){e===void 0&&(e=[t]);const r=j.useRef(t);return Kp(()=>{r.current!==t&&(r.current=t)},e),r}function U2(t,e){const r=j.useRef();return j.useMemo(()=>{const n=t(r.current);return r.current=n,n},[...e])}function hj(t){const e=d5(t),r=j.useRef(null),n=j.useCallback(i=>{i!==r.current&&e?.(i,r.current),r.current=i},[]);return[r,n]}function fj(t){const e=j.useRef();return j.useEffect(()=>{e.current=t},[t]),e.current}let PB={};function h5(t,e){return j.useMemo(()=>{if(e)return e;const r=PB[t]==null?0:PB[t]+1;return PB[t]=r,t+"-"+r},[t,e])}function vre(t){return function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return n.reduce((s,a)=>{const c=Object.entries(a);for(const[u,o]of c){const d=s[u];d!=null&&(s[u]=d+t*o)}return s},{...e})}}const tb=vre(1),Aj=vre(-1);function c3e(t){return"clientX"in t&&"clientY"in t}function NM(t){if(!t)return!1;const{KeyboardEvent:e}=ih(t.target);return e&&t instanceof e}function u3e(t){if(!t)return!1;const{TouchEvent:e}=ih(t.target);return e&&t instanceof e}function mj(t){if(u3e(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:r}=t.touches[0];return{x:e,y:r}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:r}=t.changedTouches[0];return{x:e,y:r}}}return c3e(t)?{x:t.clientX,y:t.clientY}:null}const NE=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:r}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:r}=t;return"scaleX("+e+") scaleY("+r+")"}},Transform:{toString(t){if(t)return[NE.Translate.toString(t),NE.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:r,easing:n}=t;return e+" "+r+"ms "+n}}}),lK="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function d3e(t){return t.matches(lK)?t:t.querySelector(lK)}const h3e={display:"none"};function f3e(t){let{id:e,value:r}=t;return wo.createElement("div",{id:e,style:h3e},r)}function A3e(t){let{id:e,announcement:r,ariaLiveType:n="assertive"}=t;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return wo.createElement("div",{id:e,style:i,role:"status","aria-live":n,"aria-atomic":!0},r)}function m3e(){const[t,e]=j.useState("");return{announce:j.useCallback(n=>{n!=null&&e(n)},[]),announcement:t}}const yre=j.createContext(null);function p3e(t){const e=j.useContext(yre);j.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function g3e(){const[t]=j.useState(()=>new Set),e=j.useCallback(n=>(t.add(n),()=>t.delete(n)),[t]);return[j.useCallback(n=>{let{type:i,event:s}=n;t.forEach(a=>{var c;return(c=a[i])==null?void 0:c.call(a,s)})},[t]),e]}const v3e={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},y3e={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:r}=t;return r?"Draggable item "+e.id+" was moved over droppable area "+r.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:r}=t;return r?"Draggable item "+e.id+" was dropped over droppable area "+r.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function x3e(t){let{announcements:e=y3e,container:r,hiddenTextDescribedById:n,screenReaderInstructions:i=v3e}=t;const{announce:s,announcement:a}=m3e(),c=h5("DndLiveRegion"),[u,o]=j.useState(!1);if(j.useEffect(()=>{o(!0)},[]),p3e(j.useMemo(()=>({onDragStart(f){let{active:A}=f;s(e.onDragStart({active:A}))},onDragMove(f){let{active:A,over:p}=f;e.onDragMove&&s(e.onDragMove({active:A,over:p}))},onDragOver(f){let{active:A,over:p}=f;s(e.onDragOver({active:A,over:p}))},onDragEnd(f){let{active:A,over:p}=f;s(e.onDragEnd({active:A,over:p}))},onDragCancel(f){let{active:A,over:p}=f;s(e.onDragCancel({active:A,over:p}))}}),[s,e])),!u)return null;const d=wo.createElement(wo.Fragment,null,wo.createElement(f3e,{id:n,value:i.draggable}),wo.createElement(A3e,{id:c,announcement:a}));return r?l0.createPortal(d,r):d}var uu;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(uu||(uu={}));function pj(){}function DB(t,e){return j.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function b3e(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return j.useMemo(()=>[...e].filter(n=>n!=null),[...e])}const NA=Object.freeze({x:0,y:0});function w3e(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function E3e(t,e){const r=mj(t);if(!r)return"0 0";const n={x:(r.x-e.left)/e.width*100,y:(r.y-e.top)/e.height*100};return n.x+"% "+n.y+"%"}function S3e(t,e){let{data:{value:r}}=t,{data:{value:n}}=e;return r-n}function _3e(t,e){let{data:{value:r}}=t,{data:{value:n}}=e;return n-r}function T3e(t,e){if(!t||t.length===0)return null;const[r]=t;return r[e]}function cK(t,e,r){return e===void 0&&(e=t.left),r===void 0&&(r=t.top),{x:e+t.width*.5,y:r+t.height*.5}}const C3e=t=>{let{collisionRect:e,droppableRects:r,droppableContainers:n}=t;const i=cK(e,e.left,e.top),s=[];for(const a of n){const{id:c}=a,u=r.get(c);if(u){const o=w3e(cK(u),i);s.push({id:c,data:{droppableContainer:a,value:o}})}}return s.sort(S3e)};function j3e(t,e){const r=Math.max(e.top,t.top),n=Math.max(e.left,t.left),i=Math.min(e.left+e.width,t.left+t.width),s=Math.min(e.top+e.height,t.top+t.height),a=i-n,c=s-r;if(n<i&&r<s){const u=e.width*e.height,o=t.width*t.height,d=a*c,f=d/(u+o-d);return Number(f.toFixed(4))}return 0}const N3e=t=>{let{collisionRect:e,droppableRects:r,droppableContainers:n}=t;const i=[];for(const s of n){const{id:a}=s,c=r.get(a);if(c){const u=j3e(c,e);u>0&&i.push({id:a,data:{droppableContainer:s,value:u}})}}return i.sort(_3e)};function I3e(t,e,r){return{...t,scaleX:e&&r?e.width/r.width:1,scaleY:e&&r?e.height/r.height:1}}function xre(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:NA}function k3e(t){return function(r){for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];return i.reduce((a,c)=>({...a,top:a.top+t*c.y,bottom:a.bottom+t*c.y,left:a.left+t*c.x,right:a.right+t*c.x}),{...r})}}const B3e=k3e(1);function bre(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function L3e(t,e,r){const n=bre(e);if(!n)return t;const{scaleX:i,scaleY:s,x:a,y:c}=n,u=t.left-a-(1-i)*parseFloat(r),o=t.top-c-(1-s)*parseFloat(r.slice(r.indexOf(" ")+1)),d=i?t.width/i:t.width,f=s?t.height/s:t.height;return{width:d,height:f,top:o,right:u+d,bottom:o+f,left:u}}const R3e={ignoreTransform:!1};function $2(t,e){e===void 0&&(e=R3e);let r=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:o,transformOrigin:d}=ih(t).getComputedStyle(t);o&&(r=L3e(r,o,d))}const{top:n,left:i,width:s,height:a,bottom:c,right:u}=r;return{top:n,left:i,width:s,height:a,bottom:c,right:u}}function uK(t){return $2(t,{ignoreTransform:!0})}function O3e(t){const e=t.innerWidth,r=t.innerHeight;return{top:0,left:0,right:e,bottom:r,width:e,height:r}}function P3e(t,e){return e===void 0&&(e=ih(t).getComputedStyle(t)),e.position==="fixed"}function D3e(t,e){e===void 0&&(e=ih(t).getComputedStyle(t));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const s=e[i];return typeof s=="string"?r.test(s):!1})}function IM(t,e){const r=[];function n(i){if(e!=null&&r.length>=e||!i)return r;if(jM(i)&&i.scrollingElement!=null&&!r.includes(i.scrollingElement))return r.push(i.scrollingElement),r;if(!F2(i)||gre(i)||r.includes(i))return r;const s=ih(t).getComputedStyle(i);return i!==t&&D3e(i,s)&&r.push(i),P3e(i,s)?r:n(i.parentNode)}return t?n(t):r}function wre(t){const[e]=IM(t,1);return e??null}function MB(t){return!u5||!t?null:n1(t)?t:CM(t)?jM(t)||t===i1(t).scrollingElement?window:F2(t)?t:null:null}function Ere(t){return n1(t)?t.scrollX:t.scrollLeft}function Sre(t){return n1(t)?t.scrollY:t.scrollTop}function TR(t){return{x:Ere(t),y:Sre(t)}}var Hu;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(Hu||(Hu={}));function _re(t){return!u5||!t?!1:t===document.scrollingElement}function Tre(t){const e={x:0,y:0},r=_re(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},n={x:t.scrollWidth-r.width,y:t.scrollHeight-r.height},i=t.scrollTop<=e.y,s=t.scrollLeft<=e.x,a=t.scrollTop>=n.y,c=t.scrollLeft>=n.x;return{isTop:i,isLeft:s,isBottom:a,isRight:c,maxScroll:n,minScroll:e}}const M3e={x:.2,y:.2};function F3e(t,e,r,n,i){let{top:s,left:a,right:c,bottom:u}=r;n===void 0&&(n=10),i===void 0&&(i=M3e);const{isTop:o,isBottom:d,isLeft:f,isRight:A}=Tre(t),p={x:0,y:0},g={x:0,y:0},y={height:e.height*i.y,width:e.width*i.x};return!o&&s<=e.top+y.height?(p.y=Hu.Backward,g.y=n*Math.abs((e.top+y.height-s)/y.height)):!d&&u>=e.bottom-y.height&&(p.y=Hu.Forward,g.y=n*Math.abs((e.bottom-y.height-u)/y.height)),!A&&c>=e.right-y.width?(p.x=Hu.Forward,g.x=n*Math.abs((e.right-y.width-c)/y.width)):!f&&a<=e.left+y.width&&(p.x=Hu.Backward,g.x=n*Math.abs((e.left+y.width-a)/y.width)),{direction:p,speed:g}}function U3e(t){if(t===document.scrollingElement){const{innerWidth:s,innerHeight:a}=window;return{top:0,left:0,right:s,bottom:a,width:s,height:a}}const{top:e,left:r,right:n,bottom:i}=t.getBoundingClientRect();return{top:e,left:r,right:n,bottom:i,width:t.clientWidth,height:t.clientHeight}}function Cre(t){return t.reduce((e,r)=>tb(e,TR(r)),NA)}function $3e(t){return t.reduce((e,r)=>e+Ere(r),0)}function H3e(t){return t.reduce((e,r)=>e+Sre(r),0)}function jre(t,e){if(e===void 0&&(e=$2),!t)return;const{top:r,left:n,bottom:i,right:s}=e(t);wre(t)&&(i<=0||s<=0||r>=window.innerHeight||n>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const Q3e=[["x",["left","right"],$3e],["y",["top","bottom"],H3e]];class kM{constructor(e,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=IM(r),i=Cre(n);this.rect={...e},this.width=e.width,this.height=e.height;for(const[s,a,c]of Q3e)for(const u of a)Object.defineProperty(this,u,{get:()=>{const o=c(n),d=i[s]-o;return this.rect[u]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Dw{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...r)})},this.target=e}add(e,r,n){var i;(i=this.target)==null||i.addEventListener(e,r,n),this.listeners.push([e,r,n])}}function V3e(t){const{EventTarget:e}=ih(t);return t instanceof e?t:i1(t)}function FB(t,e){const r=Math.abs(t.x),n=Math.abs(t.y);return typeof e=="number"?Math.sqrt(r**2+n**2)>e:"x"in e&&"y"in e?r>e.x&&n>e.y:"x"in e?r>e.x:"y"in e?n>e.y:!1}var Of;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(Of||(Of={}));function dK(t){t.preventDefault()}function K3e(t){t.stopPropagation()}var Bo;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(Bo||(Bo={}));const Nre={start:[Bo.Space,Bo.Enter],cancel:[Bo.Esc],end:[Bo.Space,Bo.Enter,Bo.Tab]},G3e=(t,e)=>{let{currentCoordinates:r}=e;switch(t.code){case Bo.Right:return{...r,x:r.x+25};case Bo.Left:return{...r,x:r.x-25};case Bo.Down:return{...r,y:r.y+25};case Bo.Up:return{...r,y:r.y-25}}};class BM{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:r}}=e;this.props=e,this.listeners=new Dw(i1(r)),this.windowListeners=new Dw(ih(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Of.Resize,this.handleCancel),this.windowListeners.add(Of.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Of.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:r}=this.props,n=e.node.current;n&&jre(n),r(NA)}handleKeyDown(e){if(NM(e)){const{active:r,context:n,options:i}=this.props,{keyboardCodes:s=Nre,coordinateGetter:a=G3e,scrollBehavior:c="smooth"}=i,{code:u}=e;if(s.end.includes(u)){this.handleEnd(e);return}if(s.cancel.includes(u)){this.handleCancel(e);return}const{collisionRect:o}=n.current,d=o?{x:o.left,y:o.top}:NA;this.referenceCoordinates||(this.referenceCoordinates=d);const f=a(e,{active:r,context:n.current,currentCoordinates:d});if(f){const A=Aj(f,d),p={x:0,y:0},{scrollableAncestors:g}=n.current;for(const y of g){const v=e.code,{isTop:b,isRight:w,isLeft:S,isBottom:_,maxScroll:T,minScroll:L}=Tre(y),D=U3e(y),V={x:Math.min(v===Bo.Right?D.right-D.width/2:D.right,Math.max(v===Bo.Right?D.left:D.left+D.width/2,f.x)),y:Math.min(v===Bo.Down?D.bottom-D.height/2:D.bottom,Math.max(v===Bo.Down?D.top:D.top+D.height/2,f.y))},G=v===Bo.Right&&!w||v===Bo.Left&&!S,J=v===Bo.Down&&!_||v===Bo.Up&&!b;if(G&&V.x!==f.x){const ee=y.scrollLeft+A.x,ue=v===Bo.Right&&ee<=T.x||v===Bo.Left&&ee>=L.x;if(ue&&!A.y){y.scrollTo({left:ee,behavior:c});return}ue?p.x=y.scrollLeft-ee:p.x=v===Bo.Right?y.scrollLeft-T.x:y.scrollLeft-L.x,p.x&&y.scrollBy({left:-p.x,behavior:c});break}else if(J&&V.y!==f.y){const ee=y.scrollTop+A.y,ue=v===Bo.Down&&ee<=T.y||v===Bo.Up&&ee>=L.y;if(ue&&!A.x){y.scrollTo({top:ee,behavior:c});return}ue?p.y=y.scrollTop-ee:p.y=v===Bo.Down?y.scrollTop-T.y:y.scrollTop-L.y,p.y&&y.scrollBy({top:-p.y,behavior:c});break}}this.handleMove(e,tb(Aj(f,this.referenceCoordinates),p))}}}handleMove(e,r){const{onMove:n}=this.props;e.preventDefault(),n(r)}handleEnd(e){const{onEnd:r}=this.props;e.preventDefault(),this.detach(),r()}handleCancel(e){const{onCancel:r}=this.props;e.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}BM.activators=[{eventName:"onKeyDown",handler:(t,e,r)=>{let{keyboardCodes:n=Nre,onActivation:i}=e,{active:s}=r;const{code:a}=t.nativeEvent;if(n.start.includes(a)){const c=s.activatorNode.current;return c&&t.target!==c?!1:(t.preventDefault(),i?.({event:t.nativeEvent}),!0)}return!1}}];function hK(t){return!!(t&&"distance"in t)}function fK(t){return!!(t&&"delay"in t)}class LM{constructor(e,r,n){var i;n===void 0&&(n=V3e(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=r;const{event:s}=e,{target:a}=s;this.props=e,this.events=r,this.document=i1(a),this.documentListeners=new Dw(this.document),this.listeners=new Dw(n),this.windowListeners=new Dw(ih(a)),this.initialCoordinates=(i=mj(s))!=null?i:NA,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:r,bypassActivationConstraint:n}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Of.Resize,this.handleCancel),this.windowListeners.add(Of.DragStart,dK),this.windowListeners.add(Of.VisibilityChange,this.handleCancel),this.windowListeners.add(Of.ContextMenu,dK),this.documentListeners.add(Of.Keydown,this.handleKeydown),r){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(fK(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(hK(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,r){const{active:n,onPending:i}=this.props;i(n,e,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:e}=this,{onStart:r}=this.props;e&&(this.activated=!0,this.documentListeners.add(Of.Click,K3e,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Of.SelectionChange,this.removeTextSelection),r(e))}handleMove(e){var r;const{activated:n,initialCoordinates:i,props:s}=this,{onMove:a,options:{activationConstraint:c}}=s;if(!i)return;const u=(r=mj(e))!=null?r:NA,o=Aj(i,u);if(!n&&c){if(hK(c)){if(c.tolerance!=null&&FB(o,c.tolerance))return this.handleCancel();if(FB(o,c.distance))return this.handleStart()}if(fK(c)&&FB(o,c.tolerance))return this.handleCancel();this.handlePending(c,o);return}e.cancelable&&e.preventDefault(),a(u)}handleEnd(){const{onAbort:e,onEnd:r}=this.props;this.detach(),this.activated||e(this.props.active),r()}handleCancel(){const{onAbort:e,onCancel:r}=this.props;this.detach(),this.activated||e(this.props.active),r()}handleKeydown(e){e.code===Bo.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const z3e={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class RM extends LM{constructor(e){const{event:r}=e,n=i1(r.target);super(e,z3e,n)}}RM.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:r}=t,{onActivation:n}=e;return!r.isPrimary||r.button!==0?!1:(n?.({event:r}),!0)}}];const W3e={move:{name:"mousemove"},end:{name:"mouseup"}};var CR;(function(t){t[t.RightClick=2]="RightClick"})(CR||(CR={}));class Y3e extends LM{constructor(e){super(e,W3e,i1(e.event.target))}}Y3e.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:r}=t,{onActivation:n}=e;return r.button===CR.RightClick?!1:(n?.({event:r}),!0)}}];const UB={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Ire extends LM{constructor(e){super(e,UB)}static setup(){return window.addEventListener(UB.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(UB.move.name,e)};function e(){}}}Ire.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:r}=t,{onActivation:n}=e;const{touches:i}=r;return i.length>1?!1:(n?.({event:r}),!0)}}];var Mw;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(Mw||(Mw={}));var gj;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(gj||(gj={}));function q3e(t){let{acceleration:e,activator:r=Mw.Pointer,canScroll:n,draggingRect:i,enabled:s,interval:a=5,order:c=gj.TreeOrder,pointerCoordinates:u,scrollableAncestors:o,scrollableAncestorRects:d,delta:f,threshold:A}=t;const p=Z3e({delta:f,disabled:!s}),[g,y]=l3e(),v=j.useRef({x:0,y:0}),b=j.useRef({x:0,y:0}),w=j.useMemo(()=>{switch(r){case Mw.Pointer:return u?{top:u.y,bottom:u.y,left:u.x,right:u.x}:null;case Mw.DraggableRect:return i}},[r,i,u]),S=j.useRef(null),_=j.useCallback(()=>{const L=S.current;if(!L)return;const D=v.current.x*b.current.x,V=v.current.y*b.current.y;L.scrollBy(D,V)},[]),T=j.useMemo(()=>c===gj.TreeOrder?[...o].reverse():o,[c,o]);j.useEffect(()=>{if(!s||!o.length||!w){y();return}for(const L of T){if(n?.(L)===!1)continue;const D=o.indexOf(L),V=d[D];if(!V)continue;const{direction:G,speed:J}=F3e(L,V,w,e,A);for(const ee of["x","y"])p[ee][G[ee]]||(J[ee]=0,G[ee]=0);if(J.x>0||J.y>0){y(),S.current=L,g(_,a),v.current=J,b.current=G;return}}v.current={x:0,y:0},b.current={x:0,y:0},y()},[e,_,n,y,s,a,JSON.stringify(w),JSON.stringify(p),g,o,T,d,JSON.stringify(A)])}const X3e={x:{[Hu.Backward]:!1,[Hu.Forward]:!1},y:{[Hu.Backward]:!1,[Hu.Forward]:!1}};function Z3e(t){let{delta:e,disabled:r}=t;const n=fj(e);return U2(i=>{if(r||!n||!i)return X3e;const s={x:Math.sign(e.x-n.x),y:Math.sign(e.y-n.y)};return{x:{[Hu.Backward]:i.x[Hu.Backward]||s.x===-1,[Hu.Forward]:i.x[Hu.Forward]||s.x===1},y:{[Hu.Backward]:i.y[Hu.Backward]||s.y===-1,[Hu.Forward]:i.y[Hu.Forward]||s.y===1}}},[r,e,n])}function J3e(t,e){const r=e!=null?t.get(e):void 0,n=r?r.node.current:null;return U2(i=>{var s;return e==null?null:(s=n??i)!=null?s:null},[n,e])}function eDe(t,e){return j.useMemo(()=>t.reduce((r,n)=>{const{sensor:i}=n,s=i.activators.map(a=>({eventName:a.eventName,handler:e(a.handler,n)}));return[...r,...s]},[]),[t,e])}var IE;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(IE||(IE={}));var jR;(function(t){t.Optimized="optimized"})(jR||(jR={}));const AK=new Map;function tDe(t,e){let{dragging:r,dependencies:n,config:i}=e;const[s,a]=j.useState(null),{frequency:c,measure:u,strategy:o}=i,d=j.useRef(t),f=v(),A=jE(f),p=j.useCallback(function(b){b===void 0&&(b=[]),!A.current&&a(w=>w===null?b:w.concat(b.filter(S=>!w.includes(S))))},[A]),g=j.useRef(null),y=U2(b=>{if(f&&!r)return AK;if(!b||b===AK||d.current!==t||s!=null){const w=new Map;for(let S of t){if(!S)continue;if(s&&s.length>0&&!s.includes(S.id)&&S.rect.current){w.set(S.id,S.rect.current);continue}const _=S.node.current,T=_?new kM(u(_),_):null;S.rect.current=T,T&&w.set(S.id,T)}return w}return b},[t,s,r,f,u]);return j.useEffect(()=>{d.current=t},[t]),j.useEffect(()=>{f||p()},[r,f]),j.useEffect(()=>{s&&s.length>0&&a(null)},[JSON.stringify(s)]),j.useEffect(()=>{f||typeof c!="number"||g.current!==null||(g.current=setTimeout(()=>{p(),g.current=null},c))},[c,f,p,...n]),{droppableRects:y,measureDroppableContainers:p,measuringScheduled:s!=null};function v(){switch(o){case IE.Always:return!1;case IE.BeforeDragging:return r;default:return!r}}}function OM(t,e){return U2(r=>t?r||(typeof e=="function"?e(t):t):null,[e,t])}function rDe(t,e){return OM(t,e)}function nDe(t){let{callback:e,disabled:r}=t;const n=d5(e),i=j.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(n)},[n,r]);return j.useEffect(()=>()=>i?.disconnect(),[i]),i}function f5(t){let{callback:e,disabled:r}=t;const n=d5(e),i=j.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(n)},[r]);return j.useEffect(()=>()=>i?.disconnect(),[i]),i}function iDe(t){return new kM($2(t),t)}function mK(t,e,r){e===void 0&&(e=iDe);const[n,i]=j.useState(null);function s(){i(u=>{if(!t)return null;if(t.isConnected===!1){var o;return(o=u??r)!=null?o:null}const d=e(t);return JSON.stringify(u)===JSON.stringify(d)?u:d})}const a=nDe({callback(u){if(t)for(const o of u){const{type:d,target:f}=o;if(d==="childList"&&f instanceof HTMLElement&&f.contains(t)){s();break}}}}),c=f5({callback:s});return Kp(()=>{s(),t?(c?.observe(t),a?.observe(document.body,{childList:!0,subtree:!0})):(c?.disconnect(),a?.disconnect())},[t]),n}function sDe(t){const e=OM(t);return xre(t,e)}const pK=[];function aDe(t){const e=j.useRef(t),r=U2(n=>t?n&&n!==pK&&t&&e.current&&t.parentNode===e.current.parentNode?n:IM(t):pK,[t]);return j.useEffect(()=>{e.current=t},[t]),r}function oDe(t){const[e,r]=j.useState(null),n=j.useRef(t),i=j.useCallback(s=>{const a=MB(s.target);a&&r(c=>c?(c.set(a,TR(a)),new Map(c)):null)},[]);return j.useEffect(()=>{const s=n.current;if(t!==s){a(s);const c=t.map(u=>{const o=MB(u);return o?(o.addEventListener("scroll",i,{passive:!0}),[o,TR(o)]):null}).filter(u=>u!=null);r(c.length?new Map(c):null),n.current=t}return()=>{a(t),a(s)};function a(c){c.forEach(u=>{const o=MB(u);o?.removeEventListener("scroll",i)})}},[i,t]),j.useMemo(()=>t.length?e?Array.from(e.values()).reduce((s,a)=>tb(s,a),NA):Cre(t):NA,[t,e])}function gK(t,e){e===void 0&&(e=[]);const r=j.useRef(null);return j.useEffect(()=>{r.current=null},e),j.useEffect(()=>{const n=t!==NA;n&&!r.current&&(r.current=t),!n&&r.current&&(r.current=null)},[t]),r.current?Aj(t,r.current):NA}function lDe(t){j.useEffect(()=>{if(!u5)return;const e=t.map(r=>{let{sensor:n}=r;return n.setup==null?void 0:n.setup()});return()=>{for(const r of e)r?.()}},t.map(e=>{let{sensor:r}=e;return r}))}function cDe(t,e){return j.useMemo(()=>t.reduce((r,n)=>{let{eventName:i,handler:s}=n;return r[i]=a=>{s(a,e)},r},{}),[t,e])}function kre(t){return j.useMemo(()=>t?O3e(t):null,[t])}const vK=[];function uDe(t,e){e===void 0&&(e=$2);const[r]=t,n=kre(r?ih(r):null),[i,s]=j.useState(vK);function a(){s(()=>t.length?t.map(u=>_re(u)?n:new kM(e(u),u)):vK)}const c=f5({callback:a});return Kp(()=>{c?.disconnect(),a(),t.forEach(u=>c?.observe(u))},[t]),i}function Bre(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return F2(e)?e:t}function dDe(t){let{measure:e}=t;const[r,n]=j.useState(null),i=j.useCallback(o=>{for(const{target:d}of o)if(F2(d)){n(f=>{const A=e(d);return f?{...f,width:A.width,height:A.height}:A});break}},[e]),s=f5({callback:i}),a=j.useCallback(o=>{const d=Bre(o);s?.disconnect(),d&&s?.observe(d),n(d?e(d):null)},[e,s]),[c,u]=hj(a);return j.useMemo(()=>({nodeRef:c,rect:r,setRef:u}),[r,c,u])}const hDe=[{sensor:RM,options:{}},{sensor:BM,options:{}}],fDe={current:{}},R_={draggable:{measure:uK},droppable:{measure:uK,strategy:IE.WhileDragging,frequency:jR.Optimized},dragOverlay:{measure:$2}};class Fw extends Map{get(e){var r;return e!=null&&(r=super.get(e))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:r}=e;return!r})}getNodeFor(e){var r,n;return(r=(n=this.get(e))==null?void 0:n.node.current)!=null?r:void 0}}const ADe={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Fw,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:pj},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:R_,measureDroppableContainers:pj,windowRect:null,measuringScheduled:!1},Lre={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:pj,draggableNodes:new Map,over:null,measureDroppableContainers:pj},H2=j.createContext(Lre),Rre=j.createContext(ADe);function mDe(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Fw}}}function pDe(t,e){switch(e.type){case uu.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case uu.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case uu.DragEnd:case uu.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case uu.RegisterDroppable:{const{element:r}=e,{id:n}=r,i=new Fw(t.droppable.containers);return i.set(n,r),{...t,droppable:{...t.droppable,containers:i}}}case uu.SetDroppableDisabled:{const{id:r,key:n,disabled:i}=e,s=t.droppable.containers.get(r);if(!s||n!==s.key)return t;const a=new Fw(t.droppable.containers);return a.set(r,{...s,disabled:i}),{...t,droppable:{...t.droppable,containers:a}}}case uu.UnregisterDroppable:{const{id:r,key:n}=e,i=t.droppable.containers.get(r);if(!i||n!==i.key)return t;const s=new Fw(t.droppable.containers);return s.delete(r),{...t,droppable:{...t.droppable,containers:s}}}default:return t}}function gDe(t){let{disabled:e}=t;const{active:r,activatorEvent:n,draggableNodes:i}=j.useContext(H2),s=fj(n),a=fj(r?.id);return j.useEffect(()=>{if(!e&&!n&&s&&a!=null){if(!NM(s)||document.activeElement===s.target)return;const c=i.get(a);if(!c)return;const{activatorNode:u,node:o}=c;if(!u.current&&!o.current)return;requestAnimationFrame(()=>{for(const d of[u.current,o.current]){if(!d)continue;const f=d3e(d);if(f){f.focus();break}}})}},[n,e,i,a,s]),null}function Ore(t,e){let{transform:r,...n}=e;return t!=null&&t.length?t.reduce((i,s)=>s({transform:i,...n}),r):r}function vDe(t){return j.useMemo(()=>({draggable:{...R_.draggable,...t?.draggable},droppable:{...R_.droppable,...t?.droppable},dragOverlay:{...R_.dragOverlay,...t?.dragOverlay}}),[t?.draggable,t?.droppable,t?.dragOverlay])}function yDe(t){let{activeNode:e,measure:r,initialRect:n,config:i=!0}=t;const s=j.useRef(!1),{x:a,y:c}=typeof i=="boolean"?{x:i,y:i}:i;Kp(()=>{if(!a&&!c||!e){s.current=!1;return}if(s.current||!n)return;const o=e?.node.current;if(!o||o.isConnected===!1)return;const d=r(o),f=xre(d,n);if(a||(f.x=0),c||(f.y=0),s.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const A=wre(o);A&&A.scrollBy({top:f.y,left:f.x})}},[e,a,c,n,r])}const A5=j.createContext({...NA,scaleX:1,scaleY:1});var Jg;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(Jg||(Jg={}));const xDe=j.memo(function(e){var r,n,i,s;let{id:a,accessibility:c,autoScroll:u=!0,children:o,sensors:d=hDe,collisionDetection:f=N3e,measuring:A,modifiers:p,...g}=e;const y=j.useReducer(pDe,void 0,mDe),[v,b]=y,[w,S]=g3e(),[_,T]=j.useState(Jg.Uninitialized),L=_===Jg.Initialized,{draggable:{active:D,nodes:V,translate:G},droppable:{containers:J}}=v,ee=D!=null?V.get(D):null,ue=j.useRef({initial:null,translated:null}),pe=j.useMemo(()=>{var Nr;return D!=null?{id:D,data:(Nr=ee?.data)!=null?Nr:fDe,rect:ue}:null},[D,ee]),ge=j.useRef(null),[he,ne]=j.useState(null),[Ae,oe]=j.useState(null),Be=jE(g,Object.values(g)),ke=h5("DndDescribedBy",a),ve=j.useMemo(()=>J.getEnabled(),[J]),se=vDe(A),{droppableRects:me,measureDroppableContainers:je,measuringScheduled:Ue}=tDe(ve,{dragging:L,dependencies:[G.x,G.y],config:se.droppable}),De=J3e(V,D),ot=j.useMemo(()=>Ae?mj(Ae):null,[Ae]),ft=Qr(),Ce=rDe(De,se.draggable.measure);yDe({activeNode:D!=null?V.get(D):null,config:ft.layoutShiftCompensation,initialRect:Ce,measure:se.draggable.measure});const Ze=mK(De,se.draggable.measure,Ce),ze=mK(De?De.parentElement:null),$e=j.useRef({activatorEvent:null,active:null,activeNode:De,collisionRect:null,collisions:null,droppableRects:me,draggableNodes:V,draggingNode:null,draggingNodeRect:null,droppableContainers:J,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ct=J.getNodeFor((r=$e.current.over)==null?void 0:r.id),Fe=dDe({measure:se.dragOverlay.measure}),xt=(n=Fe.nodeRef.current)!=null?n:De,pt=L?(i=Fe.rect)!=null?i:Ze:null,Bt=!!(Fe.nodeRef.current&&Fe.rect),qt=sDe(Bt?null:Ze),Yr=kre(xt?ih(xt):null),yr=aDe(L?ct??De:null),Wr=uDe(yr),hn=Ore(p,{transform:{x:G.x-qt.x,y:G.y-qt.y,scaleX:1,scaleY:1},activatorEvent:Ae,active:pe,activeNodeRect:Ze,containerNodeRect:ze,draggingNodeRect:pt,over:$e.current.over,overlayNodeRect:Fe.rect,scrollableAncestors:yr,scrollableAncestorRects:Wr,windowRect:Yr}),Tn=ot?tb(ot,G):null,Jr=oDe(yr),sn=gK(Jr),on=gK(Jr,[Ze]),Fn=tb(hn,sn),Qn=pt?B3e(pt,hn):null,gi=pe&&Qn?f({active:pe,collisionRect:Qn,droppableRects:me,droppableContainers:ve,pointerCoordinates:Tn}):null,Je=T3e(gi,"id"),[Ut,gr]=j.useState(null),Wt=Bt?hn:tb(hn,on),Pt=I3e(Wt,(s=Ut?.rect)!=null?s:null,Ze),or=j.useRef(null),Br=j.useCallback((Nr,rn)=>{let{sensor:Xr,options:yn}=rn;if(ge.current==null)return;const Wn=V.get(ge.current);if(!Wn)return;const ds=Nr.nativeEvent,vs=new Xr({active:ge.current,activeNode:Wn,event:ds,options:yn,context:$e,onAbort($n){if(!V.get($n))return;const{onDragAbort:$i}=Be.current,Os={id:$n};$i?.(Os),w({type:"onDragAbort",event:Os})},onPending($n,zr,$i,Os){if(!V.get($n))return;const{onDragPending:La}=Be.current,ws={id:$n,constraint:zr,initialCoordinates:$i,offset:Os};La?.(ws),w({type:"onDragPending",event:ws})},onStart($n){const zr=ge.current;if(zr==null)return;const $i=V.get(zr);if(!$i)return;const{onDragStart:Os}=Be.current,bn={activatorEvent:ds,active:{id:zr,data:$i.data,rect:ue}};l0.unstable_batchedUpdates(()=>{Os?.(bn),T(Jg.Initializing),b({type:uu.DragStart,initialCoordinates:$n,active:zr}),w({type:"onDragStart",event:bn}),ne(or.current),oe(ds)})},onMove($n){b({type:uu.DragMove,coordinates:$n})},onEnd:ys(uu.DragEnd),onCancel:ys(uu.DragCancel)});or.current=vs;function ys($n){return async function(){const{active:$i,collisions:Os,over:bn,scrollAdjustedTranslate:La}=$e.current;let ws=null;if($i&&La){const{cancelDrop:Ts}=Be.current;ws={activatorEvent:ds,active:$i,collisions:Os,delta:La,over:bn},$n===uu.DragEnd&&typeof Ts=="function"&&await Promise.resolve(Ts(ws))&&($n=uu.DragCancel)}ge.current=null,l0.unstable_batchedUpdates(()=>{b({type:$n}),T(Jg.Uninitialized),gr(null),ne(null),oe(null),or.current=null;const Ts=$n===uu.DragEnd?"onDragEnd":"onDragCancel";if(ws){const Es=Be.current[Ts];Es?.(ws),w({type:Ts,event:ws})}})}}},[V]),Ur=j.useCallback((Nr,rn)=>(Xr,yn)=>{const Wn=Xr.nativeEvent,ds=V.get(yn);if(ge.current!==null||!ds||Wn.dndKit||Wn.defaultPrevented)return;const vs={active:ds};Nr(Xr,rn.options,vs)===!0&&(Wn.dndKit={capturedBy:rn.sensor},ge.current=yn,Br(Xr,rn))},[V,Br]),vn=eDe(d,Ur);lDe(d),Kp(()=>{Ze&&_===Jg.Initializing&&T(Jg.Initialized)},[Ze,_]),j.useEffect(()=>{const{onDragMove:Nr}=Be.current,{active:rn,activatorEvent:Xr,collisions:yn,over:Wn}=$e.current;if(!rn||!Xr)return;const ds={active:rn,activatorEvent:Xr,collisions:yn,delta:{x:Fn.x,y:Fn.y},over:Wn};l0.unstable_batchedUpdates(()=>{Nr?.(ds),w({type:"onDragMove",event:ds})})},[Fn.x,Fn.y]),j.useEffect(()=>{const{active:Nr,activatorEvent:rn,collisions:Xr,droppableContainers:yn,scrollAdjustedTranslate:Wn}=$e.current;if(!Nr||ge.current==null||!rn||!Wn)return;const{onDragOver:ds}=Be.current,vs=yn.get(Je),ys=vs&&vs.rect.current?{id:vs.id,rect:vs.rect.current,data:vs.data,disabled:vs.disabled}:null,$n={active:Nr,activatorEvent:rn,collisions:Xr,delta:{x:Wn.x,y:Wn.y},over:ys};l0.unstable_batchedUpdates(()=>{gr(ys),ds?.($n),w({type:"onDragOver",event:$n})})},[Je]),Kp(()=>{$e.current={activatorEvent:Ae,active:pe,activeNode:De,collisionRect:Qn,collisions:gi,droppableRects:me,draggableNodes:V,draggingNode:xt,draggingNodeRect:pt,droppableContainers:J,over:Ut,scrollableAncestors:yr,scrollAdjustedTranslate:Fn},ue.current={initial:pt,translated:Qn}},[pe,De,gi,Qn,V,xt,pt,me,J,Ut,yr,Fn]),q3e({...ft,delta:G,draggingRect:Qn,pointerCoordinates:Tn,scrollableAncestors:yr,scrollableAncestorRects:Wr});const qr=j.useMemo(()=>({active:pe,activeNode:De,activeNodeRect:Ze,activatorEvent:Ae,collisions:gi,containerNodeRect:ze,dragOverlay:Fe,draggableNodes:V,droppableContainers:J,droppableRects:me,over:Ut,measureDroppableContainers:je,scrollableAncestors:yr,scrollableAncestorRects:Wr,measuringConfiguration:se,measuringScheduled:Ue,windowRect:Yr}),[pe,De,Ze,Ae,gi,ze,Fe,V,J,me,Ut,je,yr,Wr,se,Ue,Yr]),Vn=j.useMemo(()=>({activatorEvent:Ae,activators:vn,active:pe,activeNodeRect:Ze,ariaDescribedById:{draggable:ke},dispatch:b,draggableNodes:V,over:Ut,measureDroppableContainers:je}),[Ae,vn,pe,Ze,b,ke,V,Ut,je]);return wo.createElement(yre.Provider,{value:S},wo.createElement(H2.Provider,{value:Vn},wo.createElement(Rre.Provider,{value:qr},wo.createElement(A5.Provider,{value:Pt},o)),wo.createElement(gDe,{disabled:c?.restoreFocus===!1})),wo.createElement(x3e,{...c,hiddenTextDescribedById:ke}));function Qr(){const Nr=he?.autoScrollEnabled===!1,rn=typeof u=="object"?u.enabled===!1:u===!1,Xr=L&&!Nr&&!rn;return typeof u=="object"?{...u,enabled:Xr}:{enabled:Xr}}}),bDe=j.createContext(null),yK="button",wDe="Draggable";function EDe(t){let{id:e,data:r,disabled:n=!1,attributes:i}=t;const s=h5(wDe),{activators:a,activatorEvent:c,active:u,activeNodeRect:o,ariaDescribedById:d,draggableNodes:f,over:A}=j.useContext(H2),{role:p=yK,roleDescription:g="draggable",tabIndex:y=0}=i??{},v=u?.id===e,b=j.useContext(v?A5:bDe),[w,S]=hj(),[_,T]=hj(),L=cDe(a,e),D=jE(r);Kp(()=>(f.set(e,{id:e,key:s,node:w,activatorNode:_,data:D}),()=>{const G=f.get(e);G&&G.key===s&&f.delete(e)}),[f,e]);const V=j.useMemo(()=>({role:p,tabIndex:y,"aria-disabled":n,"aria-pressed":v&&p===yK?!0:void 0,"aria-roledescription":g,"aria-describedby":d.draggable}),[n,p,y,v,g,d.draggable]);return{active:u,activatorEvent:c,activeNodeRect:o,attributes:V,isDragging:v,listeners:n?void 0:L,node:w,over:A,setNodeRef:S,setActivatorNodeRef:T,transform:b}}function SDe(){return j.useContext(Rre)}const _De="Droppable",TDe={timeout:25};function CDe(t){let{data:e,disabled:r=!1,id:n,resizeObserverConfig:i}=t;const s=h5(_De),{active:a,dispatch:c,over:u,measureDroppableContainers:o}=j.useContext(H2),d=j.useRef({disabled:r}),f=j.useRef(!1),A=j.useRef(null),p=j.useRef(null),{disabled:g,updateMeasurementsFor:y,timeout:v}={...TDe,...i},b=jE(y??n),w=j.useCallback(()=>{if(!f.current){f.current=!0;return}p.current!=null&&clearTimeout(p.current),p.current=setTimeout(()=>{o(Array.isArray(b.current)?b.current:[b.current]),p.current=null},v)},[v]),S=f5({callback:w,disabled:g||!a}),_=j.useCallback((V,G)=>{S&&(G&&(S.unobserve(G),f.current=!1),V&&S.observe(V))},[S]),[T,L]=hj(_),D=jE(e);return j.useEffect(()=>{!S||!T.current||(S.disconnect(),f.current=!1,S.observe(T.current))},[T,S]),j.useEffect(()=>(c({type:uu.RegisterDroppable,element:{id:n,key:s,disabled:r,node:T,rect:A,data:D}}),()=>c({type:uu.UnregisterDroppable,key:s,id:n})),[n]),j.useEffect(()=>{r!==d.current.disabled&&(c({type:uu.SetDroppableDisabled,id:n,key:s,disabled:r}),d.current.disabled=r)},[n,s,r,c]),{active:a,rect:A,isOver:u?.id===n,node:T,over:u,setNodeRef:L}}function jDe(t){let{animation:e,children:r}=t;const[n,i]=j.useState(null),[s,a]=j.useState(null),c=fj(r);return!r&&!n&&c&&i(c),Kp(()=>{if(!s)return;const u=n?.key,o=n?.props.id;if(u==null||o==null){i(null);return}Promise.resolve(e(o,s)).then(()=>{i(null)})},[e,n,s]),wo.createElement(wo.Fragment,null,r,n?j.cloneElement(n,{ref:a}):null)}const NDe={x:0,y:0,scaleX:1,scaleY:1};function IDe(t){let{children:e}=t;return wo.createElement(H2.Provider,{value:Lre},wo.createElement(A5.Provider,{value:NDe},e))}const kDe={position:"fixed",touchAction:"none"},BDe=t=>NM(t)?"transform 250ms ease":void 0,LDe=j.forwardRef((t,e)=>{let{as:r,activatorEvent:n,adjustScale:i,children:s,className:a,rect:c,style:u,transform:o,transition:d=BDe}=t;if(!c)return null;const f=i?o:{...o,scaleX:1,scaleY:1},A={...kDe,width:c.width,height:c.height,top:c.top,left:c.left,transform:NE.Transform.toString(f),transformOrigin:i&&n?E3e(n,c):void 0,transition:typeof d=="function"?d(n):d,...u};return wo.createElement(r,{className:a,style:A,ref:e},s)}),RDe=t=>e=>{let{active:r,dragOverlay:n}=e;const i={},{styles:s,className:a}=t;if(s!=null&&s.active)for(const[c,u]of Object.entries(s.active))u!==void 0&&(i[c]=r.node.style.getPropertyValue(c),r.node.style.setProperty(c,u));if(s!=null&&s.dragOverlay)for(const[c,u]of Object.entries(s.dragOverlay))u!==void 0&&n.node.style.setProperty(c,u);return a!=null&&a.active&&r.node.classList.add(a.active),a!=null&&a.dragOverlay&&n.node.classList.add(a.dragOverlay),function(){for(const[u,o]of Object.entries(i))r.node.style.setProperty(u,o);a!=null&&a.active&&r.node.classList.remove(a.active)}},ODe=t=>{let{transform:{initial:e,final:r}}=t;return[{transform:NE.Transform.toString(e)},{transform:NE.Transform.toString(r)}]},PDe={duration:250,easing:"ease",keyframes:ODe,sideEffects:RDe({styles:{active:{opacity:"0"}}})};function DDe(t){let{config:e,draggableNodes:r,droppableContainers:n,measuringConfiguration:i}=t;return d5((s,a)=>{if(e===null)return;const c=r.get(s);if(!c)return;const u=c.node.current;if(!u)return;const o=Bre(a);if(!o)return;const{transform:d}=ih(a).getComputedStyle(a),f=bre(d);if(!f)return;const A=typeof e=="function"?e:MDe(e);return jre(u,i.draggable.measure),A({active:{id:s,data:c.data,node:u,rect:i.draggable.measure(u)},draggableNodes:r,dragOverlay:{node:a,rect:i.dragOverlay.measure(o)},droppableContainers:n,measuringConfiguration:i,transform:f})})}function MDe(t){const{duration:e,easing:r,sideEffects:n,keyframes:i}={...PDe,...t};return s=>{let{active:a,dragOverlay:c,transform:u,...o}=s;if(!e)return;const d={x:c.rect.left-a.rect.left,y:c.rect.top-a.rect.top},f={scaleX:u.scaleX!==1?a.rect.width*u.scaleX/c.rect.width:1,scaleY:u.scaleY!==1?a.rect.height*u.scaleY/c.rect.height:1},A={x:u.x-d.x,y:u.y-d.y,...f},p=i({...o,active:a,dragOverlay:c,transform:{initial:u,final:A}}),[g]=p,y=p[p.length-1];if(JSON.stringify(g)===JSON.stringify(y))return;const v=n?.({active:a,dragOverlay:c,...o}),b=c.node.animate(p,{duration:e,easing:r,fill:"forwards"});return new Promise(w=>{b.onfinish=()=>{v?.(),w()}})}}let xK=0;function FDe(t){return j.useMemo(()=>{if(t!=null)return xK++,xK},[t])}const UDe=wo.memo(t=>{let{adjustScale:e=!1,children:r,dropAnimation:n,style:i,transition:s,modifiers:a,wrapperElement:c="div",className:u,zIndex:o=999}=t;const{activatorEvent:d,active:f,activeNodeRect:A,containerNodeRect:p,draggableNodes:g,droppableContainers:y,dragOverlay:v,over:b,measuringConfiguration:w,scrollableAncestors:S,scrollableAncestorRects:_,windowRect:T}=SDe(),L=j.useContext(A5),D=FDe(f?.id),V=Ore(a,{activatorEvent:d,active:f,activeNodeRect:A,containerNodeRect:p,draggingNodeRect:v.rect,over:b,overlayNodeRect:v.rect,scrollableAncestors:S,scrollableAncestorRects:_,transform:L,windowRect:T}),G=OM(A),J=DDe({config:n,draggableNodes:g,droppableContainers:y,measuringConfiguration:w}),ee=G?v.setRef:void 0;return wo.createElement(IDe,null,wo.createElement(jDe,{animation:J},f&&D?wo.createElement(LDe,{key:D,id:f.id,ref:ee,as:c,activatorEvent:d,adjustScale:e,className:u,transition:s,rect:G,style:{zIndex:o,...i},transform:V},r):null))});function bK({id:t,children:e,data:r}){const{attributes:n,listeners:i,setNodeRef:s,transform:a,isDragging:c}=EDe({id:t,data:r}),u=a?{transform:`translate3d(${a.x}px, ${a.y}px, 0)`}:void 0;return l.jsx("div",{ref:s,style:u,...i,...n,className:`cursor-grab active:cursor-grabbing ${c?"opacity-50":""}`,children:e})}function $De({event:t,children:e,isOver:r}){const{setNodeRef:n}=CDe({id:`event-${t.id}`,data:{event:t}});return l.jsx("div",{ref:n,className:`bg-gray-800/50 rounded-xl border-2 transition-all ${r?"border-orange-500 bg-orange-500/10":"border-gray-700/50"}`,children:e})}function HDe({events:t,crewMembers:e,equipment:r,onAssignCrew:n,onUnassignCrew:i,onAssignEquipment:s,onUnassignEquipment:a}){const[c,u]=j.useState(null),[o,d]=j.useState(null),[f,A]=j.useState(null),p=b3e(DB(RM,{activationConstraint:{distance:8}}),DB(Ire,{activationConstraint:{delay:250,tolerance:5}}),DB(BM)),g=new Date;g.setHours(0,0,0,0);const y=t.filter(T=>new Date(T.date)>=g&&T.status!=="cancelled"&&T.status!=="completed").sort((T,L)=>new Date(T.date)-new Date(L.date));function v(T){u(T.active.id),d(T.active.data.current)}function b(T){A(T.over?.id||null)}function w(T){const{active:L,over:D}=T;if(D&&D.id.toString().startsWith("event-")){const V=D.id.toString().replace("event-",""),G=t.find(J=>J.id===V);if(G&&L.data.current){const{type:J,item:ee}=L.data.current;J==="crew"?n(G,ee):J==="equipment"&&s(G,ee)}}u(null),d(null),A(null)}function S(){u(null),d(null),A(null)}function _(T){return new Date(T+"T00:00:00").toLocaleDateString("en-AU",{weekday:"short",day:"numeric",month:"short"})}return new Set(y.flatMap(T=>T.crew_ids||[])),new Set(y.flatMap(T=>T.equipment_ids||[])),l.jsxs(xDe,{sensors:p,collisionDetection:C3e,onDragStart:v,onDragOver:b,onDragEnd:w,onDragCancel:S,children:[l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[l.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[" Upcoming Events",l.jsx("span",{className:"text-sm font-normal text-gray-400",children:"Drop crew & equipment here"})]}),l.jsxs("div",{className:"space-y-3 max-h-[600px] overflow-y-auto pr-2",children:[y.map(T=>{const L=f===`event-${T.id}`,D=e.filter(G=>(T.crew_ids||[]).includes(G.id)),V=r.filter(G=>(T.equipment_ids||[]).includes(G.id));return l.jsx($De,{event:T,isOver:L,children:l.jsxs("div",{className:"p-4",children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-white",children:T.name}),l.jsx("p",{className:"text-orange-500 text-sm",children:T.client})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-sm text-gray-400",children:_(T.date)}),l.jsx("div",{className:`text-xs px-2 py-0.5 rounded-full inline-block mt-1 ${T.status==="confirmed"?"bg-green-500/20 text-green-400":T.status==="tentative"?"bg-yellow-500/20 text-yellow-400":"bg-gray-500/20 text-gray-400"}`,children:T.status})]})]}),l.jsxs("div",{className:"mb-2",children:[l.jsxs("div",{className:"text-xs text-gray-500 mb-1",children:[" Crew (",D.length,")"]}),l.jsx("div",{className:"flex flex-wrap gap-1",children:D.length===0?l.jsx("span",{className:"text-xs text-gray-600 italic",children:"No crew assigned"}):D.map(G=>l.jsxs("span",{className:"text-xs bg-green-500/20 text-green-400 px-2 py-1 rounded flex items-center gap-1 group",children:[G.name,l.jsx("button",{onClick:()=>i(T,G),className:"opacity-0 group-hover:opacity-100 hover:text-red-400 transition",children:""})]},G.id))})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"text-xs text-gray-500 mb-1",children:[" Equipment (",V.length,")"]}),l.jsx("div",{className:"flex flex-wrap gap-1",children:V.length===0?l.jsx("span",{className:"text-xs text-gray-600 italic",children:"No equipment assigned"}):V.map(G=>l.jsxs("span",{className:"text-xs bg-blue-500/20 text-blue-400 px-2 py-1 rounded flex items-center gap-1 group",children:[G.name,l.jsx("button",{onClick:()=>a(T,G),className:"opacity-0 group-hover:opacity-100 hover:text-red-400 transition",children:""})]},G.id))})]})]})},T.id)}),y.length===0&&l.jsx("div",{className:"text-center text-gray-500 py-12",children:"No upcoming events to assign"})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"bg-gray-800/30 rounded-xl border border-gray-700/50 p-4",children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-3 flex items-center gap-2",children:" Crew Pool"}),l.jsxs("div",{className:"space-y-2 max-h-[250px] overflow-y-auto",children:[e.map(T=>l.jsx(bK,{id:`crew-${T.id}`,data:{type:"crew",item:T},children:l.jsxs("div",{className:"p-2 bg-gray-700/50 rounded-lg border border-gray-600/50 hover:border-green-500/50 transition",children:[l.jsx("div",{className:"font-medium text-white text-sm",children:T.name}),l.jsx("div",{className:"text-xs text-gray-400",children:T.role||"No role"})]})},T.id)),e.length===0&&l.jsx("p",{className:"text-gray-500 text-sm text-center py-4",children:"No crew members"})]})]}),l.jsxs("div",{className:"bg-gray-800/30 rounded-xl border border-gray-700/50 p-4",children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-3 flex items-center gap-2",children:" Equipment Pool"}),l.jsxs("div",{className:"space-y-2 max-h-[250px] overflow-y-auto",children:[r.map(T=>l.jsx(bK,{id:`equip-${T.id}`,data:{type:"equipment",item:T},children:l.jsxs("div",{className:"p-2 bg-gray-700/50 rounded-lg border border-gray-600/50 hover:border-blue-500/50 transition",children:[l.jsx("div",{className:"font-medium text-white text-sm",children:T.name}),l.jsxs("div",{className:"text-xs text-gray-400",children:[T.category,"  ",T.quantity]})]})},T.id)),r.length===0&&l.jsx("p",{className:"text-gray-500 text-sm text-center py-4",children:"No equipment"})]})]})]})]}),l.jsx(UDe,{children:c&&o&&l.jsx("div",{className:`p-2 rounded-lg border shadow-xl ${o.type==="crew"?"bg-green-600 border-green-500":"bg-blue-600 border-blue-500"}`,children:l.jsx("div",{className:"font-medium text-white text-sm",children:o.item.name})})})]})}function QDe(){const[t,e]=j.useState([]),[r,n]=j.useState([]),[i,s]=j.useState([]),[a,c]=j.useState(!0),[u,o]=j.useState("grid"),[d,f]=j.useState(null),[A,p]=j.useState("events"),[g,y]=j.useState(!1),[v,b]=j.useState(!1),[w,S]=j.useState(!1),[_,T]=j.useState(null),[L,D]=j.useState(null),[V,G]=j.useState(null),[J,ee]=j.useState(null),[ue,pe]=j.useState({name:"",client:"",date:"",location:"",status:"tentative",notes:"",crew_ids:[],equipment_ids:[],flight_links:"",accommodation_links:"",rental_links:""}),[ge,he]=j.useState({name:"",role:"",phone:"",email:""}),[ne,Ae]=j.useState({name:"",category:"Camera",quantity:1,notes:""}),[oe,Be]=j.useState("upcoming"),[ke,ve]=j.useState(new Date);j.useEffect(()=>{se()},[]);async function se(){c(!0);const[Je,Ut,gr]=await Promise.all([Kr.from("production_events").select("*").order("date",{ascending:!0}),Kr.from("crew_members").select("*").order("name"),Kr.from("equipment_inventory").select("*").order("category, name")]);e(Je.data||[]),n(Ut.data||[]),s(gr.data||[]),c(!1)}const me=new Date;me.setHours(0,0,0,0);const je=t.filter(Je=>new Date(Je.date)>=me&&Je.status!=="cancelled").length,Ue=t.filter(Je=>{const Ut=new Date(Je.date);return Ut.getMonth()===me.getMonth()&&Ut.getFullYear()===me.getFullYear()&&Je.status!=="cancelled"}).length,De=t.filter(Je=>new Date(Je.date)>=me&&(!Je.crew_ids||Je.crew_ids.length===0)).length,ot=t.filter(Je=>{const Ut=new Date(Je.date);return oe==="upcoming"?Ut>=me&&Je.status!=="completed"&&Je.status!=="cancelled":oe==="completed"?Je.status==="completed":oe==="thisMonth"?Ut.getMonth()===me.getMonth()&&Ut.getFullYear()===me.getFullYear():!0});async function ft(Je){Je.preventDefault();const Ut={name:ue.name,client:ue.client,date:ue.date,location:ue.location,status:ue.status,notes:ue.notes,crew_ids:ue.crew_ids,equipment_ids:ue.equipment_ids,flight_links:ue.flight_links.split(",").map(gr=>gr.trim()).filter(Boolean),accommodation_links:ue.accommodation_links.split(",").map(gr=>gr.trim()).filter(Boolean),rental_links:ue.rental_links.split(",").map(gr=>gr.trim()).filter(Boolean)};L?await Kr.from("production_events").update(Ut).eq("id",L.id):await Kr.from("production_events").insert([Ut]),y(!1),D(null),ze(),se()}async function Ce(Je){confirm("Delete this event? This cannot be undone.")&&(await Kr.from("production_events").delete().eq("id",Je),T(null),se())}function Ze(Je){D(Je),pe({name:Je.name,client:Je.client,date:Je.date,location:Je.location||"",status:Je.status,notes:Je.notes||"",crew_ids:Je.crew_ids||[],equipment_ids:Je.equipment_ids||[],flight_links:(Je.flight_links||[]).join(", "),accommodation_links:(Je.accommodation_links||[]).join(", "),rental_links:(Je.rental_links||[]).join(", ")}),y(!0)}function ze(){pe({name:"",client:"",date:"",location:"",status:"tentative",notes:"",crew_ids:[],equipment_ids:[],flight_links:"",accommodation_links:"",rental_links:""})}async function $e(Je){Je.preventDefault(),V?await Kr.from("crew_members").update(ge).eq("id",V.id):await Kr.from("crew_members").insert([ge]),b(!1),G(null),he({name:"",role:"",phone:"",email:""}),se()}function ct(Je){G(Je),he({name:Je.name,role:Je.role||"",phone:Je.phone||"",email:Je.email||""}),b(!0)}async function Fe(Je){confirm("Delete this crew member?")&&(await Kr.from("crew_members").delete().eq("id",Je),se())}async function xt(Je){Je.preventDefault(),J?await Kr.from("equipment_inventory").update(ne).eq("id",J.id):await Kr.from("equipment_inventory").insert([ne]),S(!1),ee(null),Ae({name:"",category:"Camera",quantity:1,notes:""}),se()}function pt(Je){ee(Je),Ae({name:Je.name,category:Je.category||"Camera",quantity:Je.quantity||1,notes:Je.notes||""}),S(!0)}async function Bt(Je){confirm("Delete this equipment?")&&(await Kr.from("equipment_inventory").delete().eq("id",Je),se())}async function qt(Je,Ut,gr){const Wt=t.find(or=>or.id===Je);if(!Wt)return;const Pt=gr?[...Wt.crew_ids||[],Ut]:(Wt.crew_ids||[]).filter(or=>or!==Ut);await Kr.from("production_events").update({crew_ids:Pt}).eq("id",Je),se(),_?.id===Je&&T({..._,crew_ids:Pt})}async function Yr(Je,Ut,gr){const Wt=t.find(or=>or.id===Je);if(!Wt)return;const Pt=gr?[...Wt.equipment_ids||[],Ut]:(Wt.equipment_ids||[]).filter(or=>or!==Ut);await Kr.from("production_events").update({equipment_ids:Pt}).eq("id",Je),se(),_?.id===Je&&T({..._,equipment_ids:Pt})}function yr(Je){return new Date(Je).toLocaleDateString("en-AU",{weekday:"short",day:"numeric",month:"short"})}function Wr(Je){return new Date(Je).toLocaleDateString("en-AU",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}function hn(Je){return(Je||[]).map(Ut=>r.find(gr=>gr.id===Ut)).filter(Boolean)}function Tn(Je){return(Je||[]).map(Ut=>i.find(gr=>gr.id===Ut)).filter(Boolean)}function Jr(Je){const[Ut,gr,Wt]=Je.split("-").map(Number),Pt=new Date(Ut,gr-1,Wt),or=new Date;or.setHours(0,0,0,0);const Br=Math.round((Pt-or)/(1e3*60*60*24));return Br===0?"Today":Br===1?"Tomorrow":Br<0?`${Math.abs(Br)}d ago`:`${Br}d`}const sn={confirmed:"bg-green-500",tentative:"bg-yellow-500",completed:"bg-gray-500",cancelled:"bg-red-500"},on={confirmed:"border-green-500/30",tentative:"border-yellow-500/30",completed:"border-gray-500/30",cancelled:"border-red-500/30"},Fn=["Camera","Lens","Audio","Lighting","Support","Monitor","Power","Media","Transport","Other"];function Qn(){const Je=ke.getFullYear(),Ut=ke.getMonth(),gr=new Date(Je,Ut,1),Wt=new Date(Je,Ut+1,0),Pt=gr.getDay(),or=[];for(let Ur=Pt-1;Ur>=0;Ur--){const vn=new Date(Je,Ut,-Ur);or.push({date:vn,isCurrentMonth:!1})}for(let Ur=1;Ur<=Wt.getDate();Ur++)or.push({date:new Date(Je,Ut,Ur),isCurrentMonth:!0});const Br=42-or.length;for(let Ur=1;Ur<=Br;Ur++)or.push({date:new Date(Je,Ut+1,Ur),isCurrentMonth:!1});return or}function gi(Je){const Ut=Je.getFullYear(),gr=String(Je.getMonth()+1).padStart(2,"0"),Wt=String(Je.getDate()).padStart(2,"0"),Pt=`${Ut}-${gr}-${Wt}`;return t.filter(or=>or.date===Pt)}return a?l.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:l.jsx("div",{className:"animate-pulse text-gray-400",children:"Loading..."})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-white",children:"Crew & Logistics"}),l.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Manage teams, equipment, and travel for events"})]}),A==="events"&&l.jsxs("button",{onClick:()=>{ze(),D(null),y(!0)},className:"bg-orange-600 hover:bg-orange-700 px-4 py-2.5 rounded-lg font-medium flex items-center justify-center sm:justify-start",children:[l.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"New Event"]}),A==="crew"&&l.jsxs("button",{onClick:()=>{G(null),he({name:"",role:"",phone:"",email:""}),b(!0)},className:"bg-green-600 hover:bg-green-700 px-4 py-2.5 rounded-lg font-medium flex items-center justify-center sm:justify-start",children:[l.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Crew"]}),A==="equipment"&&l.jsxs("button",{onClick:()=>{ee(null),Ae({name:"",category:"Camera",quantity:1,notes:""}),S(!0)},className:"bg-blue-600 hover:bg-blue-700 px-4 py-2.5 rounded-lg font-medium flex items-center justify-center sm:justify-start",children:[l.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Equipment"]})]}),l.jsxs("div",{className:"flex space-x-1 bg-gray-800/50 rounded-xl p-1 border border-gray-700/50",children:[l.jsxs("button",{onClick:()=>p("events"),className:`flex-1 px-4 py-3 rounded-lg font-medium transition flex items-center justify-center gap-2 ${A==="events"?"bg-orange-600 text-white":"text-gray-400 hover:text-white hover:bg-gray-700/50"}`,children:[l.jsx("span",{children:""}),l.jsx("span",{children:"Events"}),l.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${A==="events"?"bg-orange-700":"bg-gray-700"}`,children:je})]}),l.jsxs("button",{onClick:()=>p("crew"),className:`flex-1 px-4 py-3 rounded-lg font-medium transition flex items-center justify-center gap-2 ${A==="crew"?"bg-green-600 text-white":"text-gray-400 hover:text-white hover:bg-gray-700/50"}`,children:[l.jsx("span",{children:""}),l.jsx("span",{children:"Crew"}),l.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${A==="crew"?"bg-green-700":"bg-gray-700"}`,children:r.length})]}),l.jsxs("button",{onClick:()=>p("equipment"),className:`flex-1 px-4 py-3 rounded-lg font-medium transition flex items-center justify-center gap-2 ${A==="equipment"?"bg-blue-600 text-white":"text-gray-400 hover:text-white hover:bg-gray-700/50"}`,children:[l.jsx("span",{children:""}),l.jsx("span",{children:"Equipment"}),l.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${A==="equipment"?"bg-blue-700":"bg-gray-700"}`,children:i.length})]}),l.jsxs("button",{onClick:()=>p("assign"),className:`flex-1 px-4 py-3 rounded-lg font-medium transition flex items-center justify-center gap-2 ${A==="assign"?"bg-purple-600 text-white":"text-gray-400 hover:text-white hover:bg-gray-700/50"}`,children:[l.jsx("span",{children:""}),l.jsx("span",{className:"hidden sm:inline",children:"Assign"})]})]}),A==="events"&&l.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[l.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-4 border border-gray-700/50",children:[l.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-orange-500",children:je}),l.jsx("div",{className:"text-gray-400 text-xs sm:text-sm",children:"Upcoming Events"})]}),l.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-4 border border-gray-700/50",children:[l.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-green-500",children:r.length}),l.jsx("div",{className:"text-gray-400 text-xs sm:text-sm",children:"Crew Members"})]}),l.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-4 border border-gray-700/50",children:[l.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-blue-500",children:i.length}),l.jsx("div",{className:"text-gray-400 text-xs sm:text-sm",children:"Equipment Items"})]}),l.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-4 border border-gray-700/50",children:[l.jsx("div",{className:`text-2xl sm:text-3xl font-bold ${De>0?"text-red-500":"text-purple-500"}`,children:De>0?De:Ue}),l.jsx("div",{className:"text-gray-400 text-xs sm:text-sm",children:De>0?" Need Crew":"This Month"})]})]}),A==="events"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[l.jsxs("div",{className:"flex items-center overflow-x-auto pb-2 sm:pb-0 -mx-1 px-1",children:[l.jsx("span",{className:"text-gray-400 text-sm mr-3 whitespace-nowrap",children:"Filter:"}),l.jsx("div",{className:"flex space-x-2",children:[{key:"upcoming",label:"Upcoming"},{key:"all",label:"All"},{key:"thisMonth",label:"This Month"},{key:"completed",label:"Completed"}].map(Je=>l.jsx("button",{onClick:()=>Be(Je.key),className:`px-3 py-1.5 rounded-lg text-sm whitespace-nowrap transition ${oe===Je.key?"bg-orange-600 text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:Je.label},Je.key))})]}),l.jsxs("div",{className:"flex items-center space-x-1 bg-gray-800 rounded-lg p-1",children:[l.jsx("button",{onClick:()=>o("grid"),className:`p-2 rounded ${u==="grid"?"bg-gray-700 text-white":"text-gray-400 hover:text-white"}`,title:"Grid View",children:l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),l.jsx("button",{onClick:()=>o("list"),className:`p-2 rounded ${u==="list"?"bg-gray-700 text-white":"text-gray-400 hover:text-white"}`,title:"List View",children:l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})})}),l.jsx("button",{onClick:()=>o("calendar"),className:`p-2 rounded ${u==="calendar"?"bg-gray-700 text-white":"text-gray-400 hover:text-white"}`,title:"Calendar View",children:l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})]})]}),u==="grid"&&l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[ot.map(Je=>l.jsxs("div",{onClick:()=>T(Je),className:`bg-gray-800/50 rounded-xl border ${on[Je.status]} p-4 sm:p-5 hover:border-orange-500/50 transition cursor-pointer`,children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsx("span",{className:`${sn[Je.status]} px-2 py-0.5 rounded text-xs font-medium capitalize`,children:Je.status}),l.jsxs("div",{className:"text-right",children:[l.jsx("span",{className:"text-gray-400 text-sm",children:yr(Je.date)}),l.jsx("div",{className:`text-xs ${new Date(Je.date)<me?"text-gray-500":"text-orange-400"}`,children:Jr(Je.date)})]})]}),l.jsx("h3",{className:"font-bold text-white mb-1 line-clamp-1",children:Je.name}),l.jsx("p",{className:"text-orange-500 text-sm mb-3",children:Je.client}),Je.location&&l.jsxs("p",{className:"text-gray-400 text-sm mb-3 flex items-center",children:[l.jsx("svg",{className:"w-4 h-4 mr-1 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"})}),l.jsx("span",{className:"truncate",children:Je.location})]}),l.jsxs("div",{className:"flex items-center flex-wrap gap-2 text-xs",children:[l.jsxs("span",{className:`px-2 py-1 rounded ${(Je.crew_ids?.length||0)>0?"bg-green-500/20 text-green-400":"bg-gray-700 text-gray-500"}`,children:[" ",Je.crew_ids?.length||0," crew"]}),l.jsxs("span",{className:`px-2 py-1 rounded ${(Je.equipment_ids?.length||0)>0?"bg-blue-500/20 text-blue-400":"bg-gray-700 text-gray-500"}`,children:[" ",Je.equipment_ids?.length||0," items"]}),(Je.flight_links?.length||0)+(Je.accommodation_links?.length||0)+(Je.rental_links?.length||0)>0&&l.jsx("span",{className:"px-2 py-1 rounded bg-purple-500/20 text-purple-400",children:" Travel"})]})]},Je.id)),ot.length===0&&l.jsx("div",{className:"col-span-full text-center py-12 text-gray-500",children:l.jsx("p",{children:"No events found."})})]}),u==="list"&&l.jsxs("div",{className:"bg-gray-800/30 rounded-xl border border-gray-700/50 overflow-hidden",children:[l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full min-w-[600px]",children:[l.jsx("thead",{className:"bg-gray-800/50",children:l.jsxs("tr",{className:"text-left text-gray-400 text-xs uppercase",children:[l.jsx("th",{className:"px-4 py-3",children:"Date"}),l.jsx("th",{className:"px-4 py-3",children:"Event"}),l.jsx("th",{className:"px-4 py-3 hidden sm:table-cell",children:"Client"}),l.jsx("th",{className:"px-4 py-3",children:"Status"}),l.jsx("th",{className:"px-4 py-3 text-center",children:"Crew"}),l.jsx("th",{className:"px-4 py-3 text-center",children:"Gear"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-700/50",children:ot.map(Je=>l.jsxs("tr",{onClick:()=>T(Je),className:"hover:bg-gray-800/50 cursor-pointer transition",children:[l.jsxs("td",{className:"px-4 py-3",children:[l.jsx("div",{className:"text-white text-sm",children:yr(Je.date)}),l.jsx("div",{className:`text-xs ${new Date(Je.date)<me?"text-gray-500":"text-orange-400"}`,children:Jr(Je.date)})]}),l.jsxs("td",{className:"px-4 py-3",children:[l.jsx("div",{className:"font-medium text-white",children:Je.name}),l.jsx("div",{className:"text-sm text-gray-400 sm:hidden",children:Je.client})]}),l.jsx("td",{className:"px-4 py-3 text-orange-500 text-sm hidden sm:table-cell",children:Je.client}),l.jsx("td",{className:"px-4 py-3",children:l.jsx("span",{className:`${sn[Je.status]} px-2 py-0.5 rounded text-xs font-medium capitalize`,children:Je.status})}),l.jsx("td",{className:"px-4 py-3 text-center",children:l.jsx("span",{className:`text-sm ${(Je.crew_ids?.length||0)>0?"text-green-400":"text-gray-500"}`,children:Je.crew_ids?.length||0})}),l.jsx("td",{className:"px-4 py-3 text-center",children:l.jsx("span",{className:`text-sm ${(Je.equipment_ids?.length||0)>0?"text-blue-400":"text-gray-500"}`,children:Je.equipment_ids?.length||0})})]},Je.id))})]})}),ot.length===0&&l.jsx("div",{className:"text-center py-12 text-gray-500",children:"No events found."})]}),u==="calendar"&&l.jsxs("div",{className:"bg-gray-800/30 rounded-xl border border-gray-700/50 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("button",{onClick:()=>ve(new Date(ke.getFullYear(),ke.getMonth()-1)),className:"p-2 hover:bg-gray-700 rounded-lg text-gray-400 hover:text-white",children:l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),l.jsx("h3",{className:"text-lg font-bold text-white",children:ke.toLocaleDateString("en-AU",{month:"long",year:"numeric"})}),l.jsx("button",{onClick:()=>ve(new Date(ke.getFullYear(),ke.getMonth()+1)),className:"p-2 hover:bg-gray-700 rounded-lg text-gray-400 hover:text-white",children:l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),l.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(Je=>l.jsx("div",{className:"text-center text-xs text-gray-500 py-2 font-medium",children:Je},Je)),Qn().map((Je,Ut)=>{const gr=gi(Je.date),Wt=Je.date.toDateString()===new Date().toDateString();return l.jsxs("div",{className:`min-h-[80px] sm:min-h-[100px] p-1 border border-gray-700/30 rounded ${Je.isCurrentMonth?"bg-gray-800/30":"bg-gray-900/30"} ${Wt?"ring-2 ring-orange-500":""}`,children:[l.jsx("div",{className:`text-xs mb-1 ${Je.isCurrentMonth?"text-gray-400":"text-gray-600"} ${Wt?"text-orange-500 font-bold":""}`,children:Je.date.getDate()}),l.jsxs("div",{className:"space-y-1",children:[gr.slice(0,2).map(Pt=>l.jsx("div",{onClick:or=>{or.stopPropagation(),T(Pt)},className:`text-xs px-1 py-0.5 rounded truncate cursor-pointer ${sn[Pt.status]} text-white`,children:Pt.name},Pt.id)),gr.length>2&&l.jsxs("div",{className:"text-xs text-gray-500 px-1",children:["+",gr.length-2," more"]})]})]},Ut)})]})]})]}),A==="crew"&&l.jsxs("div",{className:"bg-gray-800/30 rounded-xl border border-gray-700/50 p-4 sm:p-6",children:[l.jsx("div",{className:"flex items-center justify-between mb-4",children:l.jsx("h3",{className:"text-lg font-bold text-white",children:" Crew Members"})}),l.jsxs("div",{className:"space-y-2",children:[r.map(Je=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-700/30 rounded-lg hover:bg-gray-700/50 cursor-pointer transition",onClick:()=>ct(Je),children:[l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("div",{className:"font-medium text-white",children:Je.name}),l.jsx("div",{className:"text-sm text-gray-400 truncate",children:Je.role||"No role assigned"})]}),l.jsxs("div",{className:"flex items-center space-x-2 ml-2",children:[Je.phone&&l.jsx("a",{href:`tel:${Je.phone}`,onClick:Ut=>Ut.stopPropagation(),className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded",children:""}),Je.email&&l.jsx("a",{href:`mailto:${Je.email}`,onClick:Ut=>Ut.stopPropagation(),className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded",children:""}),l.jsx("button",{onClick:Ut=>{Ut.stopPropagation(),Fe(Je.id)},className:"p-2 text-red-500/50 hover:text-red-500 hover:bg-red-500/10 rounded",children:""})]})]},Je.id)),r.length===0&&l.jsx("p",{className:"text-gray-500 text-center py-8",children:'No crew members yet. Click "Add Crew" to add one.'})]})]}),A==="equipment"&&l.jsxs("div",{className:"bg-gray-800/30 rounded-xl border border-gray-700/50 p-4 sm:p-6",children:[l.jsx("div",{className:"flex items-center justify-between mb-4",children:l.jsx("h3",{className:"text-lg font-bold text-white",children:" Equipment Inventory"})}),l.jsxs("div",{className:"space-y-3 max-h-[400px] overflow-y-auto",children:[Fn.filter(Je=>i.some(Ut=>Ut.category===Je)).map(Je=>l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wide mb-2 sticky top-0 bg-gray-800/90 py-1",children:Je}),i.filter(Ut=>Ut.category===Je).map(Ut=>l.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-700/30 rounded mb-1 hover:bg-gray-700/50 cursor-pointer transition",onClick:()=>pt(Ut),children:[l.jsx("span",{className:"text-white text-sm",children:Ut.name}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsxs("span",{className:"text-sm text-gray-400",children:["",Ut.quantity]}),l.jsx("button",{onClick:gr=>{gr.stopPropagation(),Bt(Ut.id)},className:"text-red-500/50 hover:text-red-500 text-xs",children:""})]})]},Ut.id))]},Je)),i.length===0&&l.jsx("p",{className:"text-gray-500 text-center py-8",children:'No equipment yet. Click "Add Equipment" to add some.'})]})]}),A==="assign"&&l.jsx(HDe,{events:t,crewMembers:r,equipment:i,onAssignCrew:async(Je,Ut)=>{const gr=[...Je.crew_ids||[],Ut.id];await Kr.from("production_events").update({crew_ids:gr}).eq("id",Je.id),e(t.map(Wt=>Wt.id===Je.id?{...Wt,crew_ids:gr}:Wt))},onUnassignCrew:async(Je,Ut)=>{const gr=(Je.crew_ids||[]).filter(Wt=>Wt!==Ut.id);await Kr.from("production_events").update({crew_ids:gr}).eq("id",Je.id),e(t.map(Wt=>Wt.id===Je.id?{...Wt,crew_ids:gr}:Wt))},onAssignEquipment:async(Je,Ut)=>{const gr=[...Je.equipment_ids||[],Ut.id];await Kr.from("production_events").update({equipment_ids:gr}).eq("id",Je.id),e(t.map(Wt=>Wt.id===Je.id?{...Wt,equipment_ids:gr}:Wt))},onUnassignEquipment:async(Je,Ut)=>{const gr=(Je.equipment_ids||[]).filter(Wt=>Wt!==Ut.id);await Kr.from("production_events").update({equipment_ids:gr}).eq("id",Je.id),e(t.map(Wt=>Wt.id===Je.id?{...Wt,equipment_ids:gr}:Wt))}}),g&&l.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-start sm:items-center justify-center z-50 p-4 overflow-y-auto",children:l.jsxs("div",{className:"bg-gray-800 rounded-xl w-full max-w-2xl my-4",children:[l.jsxs("div",{className:"p-4 sm:p-6 border-b border-gray-700 flex items-center justify-between sticky top-0 bg-gray-800 rounded-t-xl",children:[l.jsx("h3",{className:"text-xl font-bold text-white",children:L?"Edit Event":"New Event"}),l.jsx("button",{onClick:()=>y(!1),className:"text-gray-400 hover:text-white text-2xl leading-none",children:""})]}),l.jsxs("form",{onSubmit:ft,className:"p-4 sm:p-6 space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Event Name *"}),l.jsx("input",{type:"text",required:!0,value:ue.name,onChange:Je=>pe({...ue,name:Je.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white focus:border-orange-500 focus:outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Client *"}),l.jsx("input",{type:"text",required:!0,value:ue.client,onChange:Je=>pe({...ue,client:Je.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white focus:border-orange-500 focus:outline-none"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Date *"}),l.jsx("input",{type:"date",required:!0,value:ue.date,onChange:Je=>pe({...ue,date:Je.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white focus:border-orange-500 focus:outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Status"}),l.jsxs("select",{value:ue.status,onChange:Je=>pe({...ue,status:Je.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white focus:border-orange-500 focus:outline-none",children:[l.jsx("option",{value:"tentative",children:"Tentative"}),l.jsx("option",{value:"confirmed",children:"Confirmed"}),l.jsx("option",{value:"completed",children:"Completed"}),l.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Location"}),l.jsx("input",{type:"text",value:ue.location,onChange:Je=>pe({...ue,location:Je.target.value}),placeholder:"Venue, City",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white focus:border-orange-500 focus:outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Notes"}),l.jsx("textarea",{rows:"2",value:ue.notes,onChange:Je=>pe({...ue,notes:Je.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white focus:border-orange-500 focus:outline-none resize-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Assign Crew"}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 max-h-32 overflow-y-auto bg-gray-900/50 rounded-lg p-2",children:[r.map(Je=>l.jsxs("label",{className:"flex items-center space-x-2 p-2 bg-gray-700/30 rounded cursor-pointer hover:bg-gray-700/50",children:[l.jsx("input",{type:"checkbox",checked:ue.crew_ids.includes(Je.id),onChange:Ut=>{const gr=Ut.target.checked?[...ue.crew_ids,Je.id]:ue.crew_ids.filter(Wt=>Wt!==Je.id);pe({...ue,crew_ids:gr})},className:"rounded border-gray-600 text-orange-500 focus:ring-orange-500"}),l.jsx("span",{className:"text-white text-sm",children:Je.name})]},Je.id)),r.length===0&&l.jsx("p",{className:"text-gray-500 text-sm col-span-2 text-center py-2",children:"No crew members to assign"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Assign Equipment"}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 max-h-40 overflow-y-auto bg-gray-900/50 rounded-lg p-2",children:[i.map(Je=>l.jsxs("label",{className:"flex items-center space-x-2 p-2 bg-gray-700/30 rounded cursor-pointer hover:bg-gray-700/50",children:[l.jsx("input",{type:"checkbox",checked:ue.equipment_ids.includes(Je.id),onChange:Ut=>{const gr=Ut.target.checked?[...ue.equipment_ids,Je.id]:ue.equipment_ids.filter(Wt=>Wt!==Je.id);pe({...ue,equipment_ids:gr})},className:"rounded border-gray-600 text-blue-500 focus:ring-blue-500"}),l.jsx("span",{className:"text-sm text-white truncate",children:Je.name})]},Je.id)),i.length===0&&l.jsx("p",{className:"text-gray-500 text-sm col-span-2 text-center py-2",children:"No equipment to assign"})]})]}),l.jsxs("div",{className:"border-t border-gray-700 pt-4",children:[l.jsx("h4",{className:"font-medium text-white mb-3",children:" Travel & Logistics"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Flight Links"}),l.jsx("input",{type:"text",value:ue.flight_links,onChange:Je=>pe({...ue,flight_links:Je.target.value}),placeholder:"Comma-separated URLs",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 text-white text-sm focus:border-orange-500 focus:outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Accommodation Links"}),l.jsx("input",{type:"text",value:ue.accommodation_links,onChange:Je=>pe({...ue,accommodation_links:Je.target.value}),placeholder:"Comma-separated URLs",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 text-white text-sm focus:border-orange-500 focus:outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Rental Car Links"}),l.jsx("input",{type:"text",value:ue.rental_links,onChange:Je=>pe({...ue,rental_links:Je.target.value}),placeholder:"Comma-separated URLs",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 text-white text-sm focus:border-orange-500 focus:outline-none"})]})]})]}),l.jsxs("div",{className:"flex flex-col-reverse sm:flex-row justify-end gap-3 pt-4",children:[l.jsx("button",{type:"button",onClick:()=>y(!1),className:"px-4 py-2.5 bg-gray-700 hover:bg-gray-600 rounded-lg text-white",children:"Cancel"}),l.jsx("button",{type:"submit",className:"px-6 py-2.5 bg-orange-600 hover:bg-orange-700 rounded-lg font-medium text-white",children:L?"Save Changes":"Create Event"})]})]})]})}),_&&l.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-start sm:items-center justify-center z-50 p-4 overflow-y-auto",children:l.jsxs("div",{className:"bg-gray-800 rounded-xl w-full max-w-3xl my-4",children:[l.jsxs("div",{className:"p-4 sm:p-6 border-b border-gray-700 flex items-center justify-between sticky top-0 bg-gray-800 rounded-t-xl",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold text-white",children:_.name}),l.jsx("p",{className:"text-orange-500 text-sm",children:_.client})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{onClick:()=>{f(_),T(null)},className:"px-3 py-1.5 bg-gray-700 hover:bg-gray-600 rounded text-sm font-medium flex items-center gap-1",children:" Brief"}),l.jsx("button",{onClick:()=>{Ze(_),T(null)},className:"px-3 py-1.5 bg-orange-600 hover:bg-orange-700 rounded text-sm font-medium",children:"Edit"}),l.jsx("button",{onClick:()=>T(null),className:"text-gray-400 hover:text-white text-2xl leading-none",children:""})]})]}),l.jsxs("div",{className:"p-4 sm:p-6 space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-500 text-xs uppercase",children:"Date"}),l.jsx("p",{className:"font-medium text-white",children:Wr(_.date)}),l.jsx("p",{className:`text-sm ${new Date(_.date)<me?"text-gray-500":"text-orange-400"}`,children:Jr(_.date)})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-500 text-xs uppercase",children:"Location"}),l.jsx("p",{className:"font-medium text-white",children:_.location||"TBD"})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-500 text-xs uppercase",children:"Status"}),l.jsx("p",{children:l.jsx("span",{className:`${sn[_.status]} px-2 py-0.5 rounded text-xs font-medium capitalize`,children:_.status})})]})]}),_.notes&&l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-500 text-xs uppercase",children:"Notes"}),l.jsx("p",{className:"mt-1 text-gray-300 text-sm",children:_.notes})]}),l.jsxs("div",{children:[l.jsx("div",{className:"flex items-center justify-between mb-3",children:l.jsxs("h4",{className:"font-medium text-white",children:[" Crew (",hn(_.crew_ids).length,")"]})}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:r.map(Je=>{const Ut=(_.crew_ids||[]).includes(Je.id);return l.jsxs("div",{onClick:()=>qt(_.id,Je.id,!Ut),className:`p-3 rounded-lg cursor-pointer transition flex items-center justify-between ${Ut?"bg-green-500/20 border border-green-500/50":"bg-gray-700/30 border border-gray-700 hover:border-gray-600"}`,children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-white",children:Je.name}),l.jsx("span",{className:"text-gray-400 text-sm ml-2",children:Je.role})]}),Ut?l.jsx("span",{className:"text-green-400 text-sm",children:" Assigned"}):l.jsx("span",{className:"text-gray-500 text-sm",children:"+ Add"})]},Je.id)})})]}),l.jsxs("div",{children:[l.jsx("div",{className:"flex items-center justify-between mb-3",children:l.jsxs("h4",{className:"font-medium text-white",children:[" Equipment (",Tn(_.equipment_ids).length,")"]})}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 max-h-48 overflow-y-auto",children:i.map(Je=>{const Ut=(_.equipment_ids||[]).includes(Je.id);return l.jsxs("div",{onClick:()=>Yr(_.id,Je.id,!Ut),className:`p-2 rounded-lg cursor-pointer transition flex items-center justify-between ${Ut?"bg-blue-500/20 border border-blue-500/50":"bg-gray-700/30 border border-gray-700 hover:border-gray-600"}`,children:[l.jsx("span",{className:"text-white text-sm truncate",children:Je.name}),Ut?l.jsx("span",{className:"text-blue-400 text-xs ml-2",children:""}):l.jsx("span",{className:"text-gray-500 text-xs ml-2",children:"+"})]},Je.id)})})]}),l.jsxs("div",{className:"border-t border-gray-700 pt-4",children:[l.jsx("h4",{className:"font-medium text-white mb-4",children:" Travel & Logistics"}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-500 text-xs uppercase",children:"Flights"}),_.flight_links?.length?_.flight_links.map((Je,Ut)=>l.jsxs("a",{href:Je,target:"_blank",rel:"noopener noreferrer",className:"block text-blue-400 hover:underline text-sm truncate mt-1",children:[" Flight ",Ut+1]},Ut)):l.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"None added"})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-500 text-xs uppercase",children:"Accommodation"}),_.accommodation_links?.length?_.accommodation_links.map((Je,Ut)=>l.jsxs("a",{href:Je,target:"_blank",rel:"noopener noreferrer",className:"block text-blue-400 hover:underline text-sm truncate mt-1",children:[" Booking ",Ut+1]},Ut)):l.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"None added"})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-500 text-xs uppercase",children:"Rental Cars"}),_.rental_links?.length?_.rental_links.map((Je,Ut)=>l.jsxs("a",{href:Je,target:"_blank",rel:"noopener noreferrer",className:"block text-blue-400 hover:underline text-sm truncate mt-1",children:[" Rental ",Ut+1]},Ut)):l.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"None added"})]})]})]}),l.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-700",children:l.jsx("button",{onClick:()=>Ce(_.id),className:"px-4 py-2 text-red-500 hover:bg-red-500/10 rounded-lg text-sm",children:" Delete Event"})})]})]})}),v&&l.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-gray-800 rounded-xl w-full max-w-md",children:[l.jsxs("div",{className:"p-4 sm:p-6 border-b border-gray-700 flex items-center justify-between",children:[l.jsx("h3",{className:"text-xl font-bold text-white",children:V?"Edit Crew Member":"Add Crew Member"}),l.jsx("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-white text-2xl leading-none",children:""})]}),l.jsxs("form",{onSubmit:$e,className:"p-4 sm:p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Name *"}),l.jsx("input",{type:"text",required:!0,value:ge.name,onChange:Je=>he({...ge,name:Je.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white focus:border-orange-500 focus:outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Role"}),l.jsx("input",{type:"text",value:ge.role,onChange:Je=>he({...ge,role:Je.target.value}),placeholder:"e.g. Camera Operator, Director, Audio",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white focus:border-orange-500 focus:outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Phone"}),l.jsx("input",{type:"tel",value:ge.phone,onChange:Je=>he({...ge,phone:Je.target.value}),placeholder:"0400 000 000",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white focus:border-orange-500 focus:outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Email"}),l.jsx("input",{type:"email",value:ge.email,onChange:Je=>he({...ge,email:Je.target.value}),placeholder:"name@email.com",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white focus:border-orange-500 focus:outline-none"})]}),l.jsxs("div",{className:"flex flex-col-reverse sm:flex-row justify-end gap-3 pt-4",children:[l.jsx("button",{type:"button",onClick:()=>b(!1),className:"px-4 py-2.5 bg-gray-700 hover:bg-gray-600 rounded-lg text-white",children:"Cancel"}),l.jsx("button",{type:"submit",className:"px-6 py-2.5 bg-orange-600 hover:bg-orange-700 rounded-lg font-medium text-white",children:V?"Save Changes":"Add Crew"})]})]})]})}),d&&l.jsx(o3e,{event:d,crew:r,equipment:i,onClose:()=>f(null)}),w&&l.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-gray-800 rounded-xl w-full max-w-md",children:[l.jsxs("div",{className:"p-4 sm:p-6 border-b border-gray-700 flex items-center justify-between",children:[l.jsx("h3",{className:"text-xl font-bold text-white",children:J?"Edit Equipment":"Add Equipment"}),l.jsx("button",{onClick:()=>S(!1),className:"text-gray-400 hover:text-white text-2xl leading-none",children:""})]}),l.jsxs("form",{onSubmit:xt,className:"p-4 sm:p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Equipment Name *"}),l.jsx("input",{type:"text",required:!0,value:ne.name,onChange:Je=>Ae({...ne,name:Je.target.value}),placeholder:"e.g. Sony FX6",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white focus:border-blue-500 focus:outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Category"}),l.jsx("select",{value:ne.category,onChange:Je=>Ae({...ne,category:Je.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white focus:border-blue-500 focus:outline-none",children:Fn.map(Je=>l.jsx("option",{value:Je,children:Je},Je))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Quantity"}),l.jsx("input",{type:"number",min:"1",value:ne.quantity,onChange:Je=>Ae({...ne,quantity:parseInt(Je.target.value)||1}),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white focus:border-blue-500 focus:outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Notes"}),l.jsx("input",{type:"text",value:ne.notes||"",onChange:Je=>Ae({...ne,notes:Je.target.value}),placeholder:"Serial number, condition, etc.",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white focus:border-blue-500 focus:outline-none"})]}),l.jsxs("div",{className:"flex flex-col-reverse sm:flex-row justify-end gap-3 pt-4",children:[l.jsx("button",{type:"button",onClick:()=>S(!1),className:"px-4 py-2.5 bg-gray-700 hover:bg-gray-600 rounded-lg text-white",children:"Cancel"}),l.jsx("button",{type:"submit",className:"px-6 py-2.5 bg-blue-600 hover:bg-blue-700 rounded-lg font-medium text-white",children:J?"Save Changes":"Add Equipment"})]})]})]})})]})}function VDe(){const[t,e]=j.useState([]),[r,n]=j.useState([]),[i,s]=j.useState({demo_mode:!1}),[a,c]=j.useState(!0),[u,o]=j.useState(!1),[d,f]=j.useState(null),[A,p]=j.useState("events");j.useEffect(()=>{g()},[]);const g=async()=>{try{const[_,T,L]=await Promise.all([COe(),ROe(),sre()]);e(_||[]),n(T||[]),s(L||{demo_mode:!1})}catch(_){console.error("Failed to load data:",_)}finally{c(!1)}},y=async()=>{try{const _=await kOe({demo_mode:!i.demo_mode});s(_)}catch(_){console.error("Failed to toggle demo mode:",_)}},v=async _=>{if(confirm("Delete this event? This cannot be undone."))try{await IOe(_),e(t.filter(T=>T.id!==_))}catch{alert("Failed to delete event")}},b=r.filter(_=>_.status==="completed").reduce((_,T)=>_+Number(T.amount),0),w=r.filter(_=>_.status==="completed").length,S=t.filter(_=>_.status==="live"||_.is_live).length;return a?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-red-500"})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-white",children:"Livestream Events"}),l.jsx("p",{className:"text-gray-400",children:"Manage PPV events and view orders"})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("button",{onClick:y,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${i.demo_mode?"bg-yellow-500/20 text-yellow-500 border border-yellow-500/30":"bg-dark-800 text-gray-400 border border-dark-700"}`,children:[i.demo_mode?l.jsx(Mde,{className:"w-5 h-5"}):l.jsx(Pde,{className:"w-5 h-5"}),"Demo Mode ",i.demo_mode?"ON":"OFF"]}),l.jsxs("button",{onClick:()=>{f(null),o(!0)},className:"flex items-center gap-2 px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg font-medium transition-colors",children:[l.jsx(gb,{className:"w-5 h-5"}),"New Event"]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[l.jsx("div",{className:"bg-dark-900 rounded-xl p-5 border border-dark-800",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-3 bg-green-500/10 rounded-lg",children:l.jsx(T0,{className:"w-6 h-6 text-green-500"})}),l.jsxs("div",{children:[l.jsxs("p",{className:"text-2xl font-bold text-white",children:["$",b.toFixed(2)]}),l.jsx("p",{className:"text-sm text-gray-400",children:"Total Revenue"})]})]})}),l.jsx("div",{className:"bg-dark-900 rounded-xl p-5 border border-dark-800",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-3 bg-blue-500/10 rounded-lg",children:l.jsx(Ub,{className:"w-6 h-6 text-blue-500"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold text-white",children:w}),l.jsx("p",{className:"text-sm text-gray-400",children:"Total Orders"})]})]})}),l.jsx("div",{className:"bg-dark-900 rounded-xl p-5 border border-dark-800",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-3 bg-red-500/10 rounded-lg",children:l.jsx(Pd,{className:"w-6 h-6 text-red-500"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold text-white",children:t.length}),l.jsxs("p",{className:"text-sm text-gray-400",children:["Total Events (",S," live)"]})]})]})})]}),l.jsx("div",{className:"border-b border-dark-800",children:l.jsxs("div",{className:"flex gap-6",children:[l.jsxs("button",{onClick:()=>p("events"),className:`pb-3 px-1 font-medium transition-colors ${A==="events"?"text-red-500 border-b-2 border-red-500":"text-gray-400 hover:text-white"}`,children:["Events (",t.length,")"]}),l.jsxs("button",{onClick:()=>p("orders"),className:`pb-3 px-1 font-medium transition-colors ${A==="orders"?"text-red-500 border-b-2 border-red-500":"text-gray-400 hover:text-white"}`,children:["Orders (",r.length,")"]})]})}),A==="events"&&l.jsx("div",{className:"space-y-4",children:t.length===0?l.jsx("div",{className:"text-center py-12 text-gray-400",children:"No events yet. Create your first event!"}):t.map(_=>l.jsx("div",{className:"bg-dark-900 rounded-xl p-5 border border-dark-800",children:l.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx("h3",{className:"text-lg font-bold text-white",children:_.title}),l.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded ${_.status==="live"?"bg-red-500 text-white":_.status==="published"?"bg-green-500/20 text-green-500":_.status==="ended"?"bg-gray-500/20 text-gray-400":"bg-yellow-500/20 text-yellow-500"}`,children:_.status||"draft"})]}),l.jsx("p",{className:"text-gray-400 mb-2",children:_.organization}),l.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-500",children:[l.jsx("span",{children:new Date(_.start_time).toLocaleDateString("en-AU")}),l.jsx("span",{children:_.venue}),l.jsxs("span",{className:"font-medium text-green-500",children:["$",_.price," AUD"]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("a",{href:`/live/${_.id}`,target:"_blank",className:"p-2 text-gray-400 hover:text-white hover:bg-dark-800 rounded-lg transition-colors",title:"View",children:l.jsx(UL,{className:"w-5 h-5"})}),l.jsx("button",{onClick:()=>{f(_),o(!0)},className:"p-2 text-gray-400 hover:text-white hover:bg-dark-800 rounded-lg transition-colors",title:"Edit",children:l.jsx(Ide,{className:"w-5 h-5"})}),l.jsx("button",{onClick:()=>v(_.id),className:"p-2 text-gray-400 hover:text-red-500 hover:bg-dark-800 rounded-lg transition-colors",title:"Delete",children:l.jsx(BP,{className:"w-5 h-5"})})]})]})},_.id))}),A==="orders"&&l.jsx("div",{className:"bg-dark-900 rounded-xl border border-dark-800 overflow-hidden",children:r.length===0?l.jsx("div",{className:"text-center py-12 text-gray-400",children:"No orders yet."}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-dark-800",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-400",children:"Order"}),l.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-400",children:"Email"}),l.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-400",children:"Event"}),l.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-400",children:"Amount"}),l.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-400",children:"Status"}),l.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-400",children:"Date"})]})}),l.jsx("tbody",{className:"divide-y divide-dark-800",children:r.map(_=>l.jsxs("tr",{className:"hover:bg-dark-800/50",children:[l.jsx("td",{className:"px-4 py-3",children:l.jsx("code",{className:"text-xs text-gray-400",children:_.id.slice(0,8)})}),l.jsx("td",{className:"px-4 py-3 text-white",children:_.email}),l.jsx("td",{className:"px-4 py-3 text-gray-400",children:_.event?.title||"Unknown"}),l.jsxs("td",{className:"px-4 py-3 text-green-500 font-medium",children:["$",_.amount]}),l.jsx("td",{className:"px-4 py-3",children:l.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded ${_.status==="completed"?"bg-green-500/20 text-green-500":_.status==="pending"?"bg-yellow-500/20 text-yellow-500":"bg-red-500/20 text-red-500"}`,children:_.payment_method==="demo"?" Demo":_.status})}),l.jsx("td",{className:"px-4 py-3 text-gray-400 text-sm",children:new Date(_.created_at).toLocaleString("en-AU")})]},_.id))})]})})}),u&&l.jsx(KDe,{event:d,onClose:()=>{o(!1),f(null)},onSave:async _=>{try{d?await NOe(d.id,_):await jOe(_),await g(),o(!1),f(null)}catch{alert("Failed to save event")}}})]})}function KDe({event:t,onClose:e,onSave:r}){const[n,i]=j.useState({title:t?.title||"",organization:t?.organization||"",venue:t?.venue||"",start_time:t?.start_time?.slice(0,16)||"",end_time:t?.end_time?.slice(0,16)||"",price:t?.price||29.99,description:t?.description||"",thumbnail_url:t?.thumbnail_url||"",ticket_url:t?.ticket_url||"",status:t?.status||"draft",mux_playback_id:t?.mux_playback_id||"",geo_blocking_enabled:t?.geo_blocking_enabled||!1,geo_radius_km:t?.geo_radius_km||50,geo_venue_address:t?.geo_venue_address||""}),[s,a]=j.useState(!1),c=async u=>{u.preventDefault(),a(!0),await r(n),a(!1)};return l.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center p-4 z-50",children:l.jsxs("div",{className:"bg-dark-900 rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[l.jsx("div",{className:"p-6 border-b border-dark-800",children:l.jsx("h2",{className:"text-xl font-bold text-white",children:t?"Edit Event":"Create Event"})}),l.jsxs("form",{onSubmit:c,className:"p-6 space-y-4",children:[l.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Title *"}),l.jsx("input",{type:"text",value:n.title,onChange:u=>i({...n,title:u.target.value}),className:"w-full px-3 py-2 bg-dark-800 border border-dark-700 rounded-lg text-white",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Organization *"}),l.jsx("input",{type:"text",value:n.organization,onChange:u=>i({...n,organization:u.target.value}),className:"w-full px-3 py-2 bg-dark-800 border border-dark-700 rounded-lg text-white",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Venue *"}),l.jsx("input",{type:"text",value:n.venue,onChange:u=>i({...n,venue:u.target.value}),className:"w-full px-3 py-2 bg-dark-800 border border-dark-700 rounded-lg text-white",required:!0})]}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Start Time *"}),l.jsx("input",{type:"datetime-local",value:n.start_time,onChange:u=>i({...n,start_time:u.target.value}),className:"w-full px-3 py-2 bg-dark-800 border border-dark-700 rounded-lg text-white",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"End Time *"}),l.jsx("input",{type:"datetime-local",value:n.end_time,onChange:u=>i({...n,end_time:u.target.value}),className:"w-full px-3 py-2 bg-dark-800 border border-dark-700 rounded-lg text-white",required:!0})]})]}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Price (AUD) *"}),l.jsx("input",{type:"number",step:"0.01",value:n.price,onChange:u=>i({...n,price:parseFloat(u.target.value)}),className:"w-full px-3 py-2 bg-dark-800 border border-dark-700 rounded-lg text-white",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Status"}),l.jsxs("select",{value:n.status,onChange:u=>i({...n,status:u.target.value}),className:"w-full px-3 py-2 bg-dark-800 border border-dark-700 rounded-lg text-white",children:[l.jsx("option",{value:"draft",children:"Draft"}),l.jsx("option",{value:"published",children:"Published"}),l.jsx("option",{value:"live",children:"Live"}),l.jsx("option",{value:"ended",children:"Ended"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"MUX Playback ID"}),l.jsx("input",{type:"text",value:n.mux_playback_id,onChange:u=>i({...n,mux_playback_id:u.target.value}),className:"w-full px-3 py-2 bg-dark-800 border border-dark-700 rounded-lg text-white",placeholder:"Leave empty for demo"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Description"}),l.jsx("textarea",{value:n.description,onChange:u=>i({...n,description:u.target.value}),className:"w-full px-3 py-2 bg-dark-800 border border-dark-700 rounded-lg text-white",rows:3})]}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Thumbnail URL"}),l.jsx("input",{type:"url",value:n.thumbnail_url,onChange:u=>i({...n,thumbnail_url:u.target.value}),className:"w-full px-3 py-2 bg-dark-800 border border-dark-700 rounded-lg text-white"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Ticket URL"}),l.jsx("input",{type:"url",value:n.ticket_url,onChange:u=>i({...n,ticket_url:u.target.value}),className:"w-full px-3 py-2 bg-dark-800 border border-dark-700 rounded-lg text-white"})]})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-dark-800",children:[l.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-400 hover:text-white transition-colors",children:"Cancel"}),l.jsx("button",{type:"submit",disabled:s,className:"px-6 py-2 bg-red-500 hover:bg-red-600 disabled:bg-dark-700 text-white font-medium rounded-lg transition-colors",children:s?"Saving...":t?"Update Event":"Create Event"})]})]})]})})}function GDe(){const[t,e]=j.useState([]),[r,n]=j.useState(!0),[i,s]=j.useState(null);j.useEffect(()=>{a()},[]);const a=async()=>{try{const f=await TOe();e(f||[])}catch(f){s("Failed to load events"),console.error(f)}finally{n(!1)}},c=new Date,u=t.filter(f=>new Date(f.start_time)>c&&f.status!=="ended"),o=t.filter(f=>f.status==="live"||f.is_live),d=t.filter(f=>f.status==="ended"||new Date(f.end_time)<c);return r?l.jsx("div",{className:"min-h-[60vh] flex items-center justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-500"})}):i?l.jsx("div",{className:"min-h-[60vh] flex items-center justify-center",children:l.jsx("p",{className:"text-red-500",children:i})}):l.jsx("div",{className:"py-16 px-4",children:l.jsxs("div",{className:"max-w-6xl mx-auto",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"Live Events"}),l.jsx("p",{className:"text-xl text-gray-400 max-w-2xl mx-auto",children:"Watch live combat sports events from anywhere. Professional production, HD quality streaming."})]}),o.length>0&&l.jsxs("section",{className:"mb-12",children:[l.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[l.jsx("span",{className:"w-3 h-3 bg-red-500 rounded-full animate-pulse"}),"Live Now"]}),l.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:o.map(f=>l.jsx($B,{event:f,isLive:!0},f.id))})]}),u.length>0&&l.jsxs("section",{className:"mb-12",children:[l.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Upcoming Events"}),l.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(f=>l.jsx($B,{event:f},f.id))})]}),d.length>0&&l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Replays Available"}),l.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(f=>l.jsx($B,{event:f,isPast:!0},f.id))})]}),t.length===0&&l.jsx("div",{className:"text-center py-16",children:l.jsx("p",{className:"text-gray-400 text-lg",children:"No events scheduled yet. Check back soon!"})})]})})}function $B({event:t,isLive:e,isPast:r}){const n=new Date(t.start_time);return l.jsxs(gs,{to:`/live/${t.id}`,className:"group bg-dark-900 rounded-xl overflow-hidden border border-dark-800 hover:border-red-500/50 transition-all",children:[l.jsxs("div",{className:"relative aspect-video bg-dark-800",children:[t.thumbnail_url?l.jsx("img",{src:t.thumbnail_url,alt:t.title,className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full flex items-center justify-center",children:l.jsx(IP,{className:"w-16 h-16 text-dark-600"})}),e&&l.jsxs("div",{className:"absolute top-3 left-3 px-3 py-1 bg-red-500 text-white text-sm font-bold rounded-full flex items-center gap-1",children:[l.jsx("span",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),"LIVE"]}),r&&l.jsx("div",{className:"absolute top-3 left-3 px-3 py-1 bg-dark-700 text-white text-sm font-medium rounded-full",children:"Replay"}),l.jsxs("div",{className:"absolute bottom-3 right-3 px-3 py-1 bg-black/80 text-white font-bold rounded-lg",children:["$",t.price," AUD"]})]}),l.jsxs("div",{className:"p-5",children:[l.jsx("h3",{className:"text-xl font-bold text-white mb-2 group-hover:text-red-500 transition-colors",children:t.title}),l.jsx("p",{className:"text-gray-400 mb-4",children:t.organization}),l.jsxs("div",{className:"space-y-2 text-sm text-gray-500",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Pd,{className:"w-4 h-4"}),n.toLocaleDateString("en-AU",{weekday:"short",day:"numeric",month:"short",year:"numeric"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(pb,{className:"w-4 h-4"}),n.toLocaleTimeString("en-AU",{hour:"2-digit",minute:"2-digit"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(C0,{className:"w-4 h-4"}),t.venue]})]})]})]})}function zDe(){const{eventId:t}=$m(),e=ic(),[r,n]=j.useState(null),[i,s]=j.useState({demo_mode:!1}),[a,c]=j.useState(""),[u,o]=j.useState(!0),[d,f]=j.useState(!1),[A,p]=j.useState(null);j.useEffect(()=>{g()},[t]);const g=async()=>{try{const[S,_]=await Promise.all([ire(t),sre()]);n(S),s(_||{demo_mode:!1})}catch(S){p("Event not found"),console.error(S)}finally{o(!1)}},y=async S=>{if(S.preventDefault(),!a){p("Please enter your email");return}f(!0),p(null);try{if(i.demo_mode)await BOe({event_id:t,email:a.toLowerCase(),amount:r.price,status:"completed",payment_method:"demo",completed_at:new Date().toISOString()}),e(`/watch/${t}?email=${encodeURIComponent(a)}`);else{const T=await(await fetch("/api/livestream/checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({eventId:t,email:a})})).json();if(T.checkoutUrl)window.location.href=T.checkoutUrl;else throw new Error(T.error||"Checkout failed")}}catch(_){p(_.message||"Purchase failed. Please try again.")}finally{f(!1)}};if(u)return l.jsx("div",{className:"min-h-[60vh] flex items-center justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-500"})});if(A&&!r)return l.jsx("div",{className:"min-h-[60vh] flex items-center justify-center",children:l.jsx("p",{className:"text-red-500",children:A})});const v=new Date(r.start_time),b=r.is_live||r.status==="live",w=r.status==="ended"||new Date(r.end_time)<new Date;return l.jsx("div",{className:"py-16 px-4",children:l.jsx("div",{className:"max-w-5xl mx-auto",children:l.jsxs("div",{className:"grid lg:grid-cols-5 gap-8",children:[l.jsxs("div",{className:"lg:col-span-3",children:[l.jsxs("div",{className:"relative aspect-video bg-dark-800 rounded-xl overflow-hidden mb-6",children:[r.thumbnail_url?l.jsx("img",{src:r.thumbnail_url,alt:r.title,className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-dark-800 to-dark-900",children:l.jsx("span",{className:"text-6xl",children:""})}),b&&l.jsxs("div",{className:"absolute top-4 left-4 px-4 py-2 bg-red-500 text-white font-bold rounded-full flex items-center gap-2",children:[l.jsx("span",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),"LIVE NOW"]})]}),l.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-2",children:r.title}),l.jsx("p",{className:"text-xl text-gray-400 mb-6",children:r.organization}),l.jsxs("div",{className:"grid sm:grid-cols-2 gap-4 mb-8",children:[l.jsxs("div",{className:"flex items-center gap-3 text-gray-300",children:[l.jsx(Pd,{className:"w-5 h-5 text-red-500"}),v.toLocaleDateString("en-AU",{weekday:"long",day:"numeric",month:"long",year:"numeric"})]}),l.jsxs("div",{className:"flex items-center gap-3 text-gray-300",children:[l.jsx(pb,{className:"w-5 h-5 text-red-500"}),v.toLocaleTimeString("en-AU",{hour:"2-digit",minute:"2-digit"})," AEST"]}),l.jsxs("div",{className:"flex items-center gap-3 text-gray-300 sm:col-span-2",children:[l.jsx(C0,{className:"w-5 h-5 text-red-500"}),r.venue]})]}),r.description&&l.jsxs("div",{className:"prose prose-invert max-w-none",children:[l.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"About This Event"}),l.jsx("p",{className:"text-gray-400",children:r.description})]})]}),l.jsx("div",{className:"lg:col-span-2",children:l.jsxs("div",{className:"sticky top-24 bg-dark-900 rounded-xl border border-dark-800 p-6",children:[l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("p",{className:"text-gray-400 mb-1",children:"Stream Access"}),l.jsxs("p",{className:"text-4xl font-bold text-white",children:["$",r.price," ",l.jsx("span",{className:"text-lg text-gray-400",children:"AUD"})]})]}),l.jsxs("form",{onSubmit:y,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Email Address"}),l.jsx("input",{type:"email",value:a,onChange:S=>c(S.target.value),placeholder:"your@email.com",className:"w-full px-4 py-3 bg-dark-800 border border-dark-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-red-500",required:!0}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Your access link will be sent here"})]}),A&&l.jsx("p",{className:"text-red-500 text-sm",children:A}),l.jsx("button",{type:"submit",disabled:d||!a,className:"w-full py-4 bg-red-500 hover:bg-red-600 disabled:bg-dark-700 disabled:cursor-not-allowed text-white font-bold rounded-lg transition-colors flex items-center justify-center gap-2",children:d?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-white"}),"Processing..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Oue,{className:"w-5 h-5"}),w?"Buy Replay Access":b?"Watch Now":"Buy Access"]})})]}),l.jsxs("div",{className:"mt-6 space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-400",children:[l.jsx(bo,{className:"w-4 h-4 text-green-500"}),"Instant access after payment"]}),l.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-400",children:[l.jsx(bo,{className:"w-4 h-4 text-green-500"}),"Watch live + replay for 7 days"]}),l.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-400",children:[l.jsx(bo,{className:"w-4 h-4 text-green-500"}),"HD quality streaming"]}),l.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-400",children:[l.jsx(dN,{className:"w-4 h-4 text-green-500"}),"Secure payment via Stripe"]})]}),i.demo_mode&&l.jsx("div",{className:"mt-4 p-3 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:l.jsx("p",{className:"text-yellow-500 text-xs text-center",children:" Demo Mode  No payment required"})})]})})]})})})}var WDe=Object.create,Pre=Object.defineProperty,YDe=Object.getOwnPropertyDescriptor,qDe=Object.getOwnPropertyNames,XDe=Object.getPrototypeOf,ZDe=Object.prototype.hasOwnProperty,Dre=function(t,e){return function(){return t&&(e=t(t=0)),e}},kh=function(t,e){return function(){return e||t((e={exports:{}}).exports,e),e.exports}},JDe=function(t,e,r,n){if(e&&typeof e=="object"||typeof e=="function")for(var i=qDe(e),s=0,a=i.length,c;s<a;s++)c=i[s],!ZDe.call(t,c)&&c!==r&&Pre(t,c,{get:(function(u){return e[u]}).bind(null,c),enumerable:!(n=YDe(e,c))||n.enumerable});return t},Kf=function(t,e,r){return r=t!=null?WDe(XDe(t)):{},JDe(!t||!t.__esModule?Pre(r,"default",{value:t,enumerable:!0}):r,t)},Qm=kh(function(t,e){var r;typeof window<"u"?r=window:typeof global<"u"?r=global:typeof self<"u"?r=self:r={},e.exports=r});function gy(t,e){return e!=null&&typeof Symbol<"u"&&e[Symbol.hasInstance]?!!e[Symbol.hasInstance](t):gy(t,e)}var vy=Dre(function(){vy()});function Mre(t){"@swc/helpers - typeof";return t&&typeof Symbol<"u"&&t.constructor===Symbol?"symbol":typeof t}var Fre=Dre(function(){}),Ure=kh(function(t,e){var r=Array.prototype.slice;e.exports=n;function n(i,s){for(("length"in i)||(i=[i]),i=r.call(i);i.length;){var a=i.shift(),c=s(a);if(c)return c;a.childNodes&&a.childNodes.length&&(i=r.call(a.childNodes).concat(i))}}}),eMe=kh(function(t,e){vy(),e.exports=r;function r(n,i){if(!gy(this,r))return new r(n,i);this.data=n,this.nodeValue=n,this.length=n.length,this.ownerDocument=i||null}r.prototype.nodeType=8,r.prototype.nodeName="#comment",r.prototype.toString=function(){return"[object Comment]"}}),tMe=kh(function(t,e){vy(),e.exports=r;function r(n,i){if(!gy(this,r))return new r(n);this.data=n||"",this.length=this.data.length,this.ownerDocument=i||null}r.prototype.type="DOMTextNode",r.prototype.nodeType=3,r.prototype.nodeName="#text",r.prototype.toString=function(){return this.data},r.prototype.replaceData=function(n,i,s){var a=this.data,c=a.substring(0,n),u=a.substring(n+i,a.length);this.data=c+s+u,this.length=this.data.length}}),$re=kh(function(t,e){e.exports=r;function r(n){var i=this,s=n.type;n.target||(n.target=i),i.listeners||(i.listeners={});var a=i.listeners[s];if(a)return a.forEach(function(c){n.currentTarget=i,typeof c=="function"?c(n):c.handleEvent(n)});i.parentNode&&i.parentNode.dispatchEvent(n)}}),Hre=kh(function(t,e){e.exports=r;function r(n,i){var s=this;s.listeners||(s.listeners={}),s.listeners[n]||(s.listeners[n]=[]),s.listeners[n].indexOf(i)===-1&&s.listeners[n].push(i)}}),Qre=kh(function(t,e){e.exports=r;function r(n,i){var s=this;if(s.listeners&&s.listeners[n]){var a=s.listeners[n],c=a.indexOf(i);c!==-1&&a.splice(c,1)}}}),rMe=kh(function(t,e){Fre(),e.exports=n;var r=["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"];function n(A){switch(A.nodeType){case 3:return d(A.data);case 8:return"<!--"+A.data+"-->";default:return i(A)}}function i(A){var p=[],g=A.tagName;return A.namespaceURI==="http://www.w3.org/1999/xhtml"&&(g=g.toLowerCase()),p.push("<"+g+o(A)+c(A)),r.indexOf(g)>-1?p.push(" />"):(p.push(">"),A.childNodes.length?p.push.apply(p,A.childNodes.map(n)):A.textContent||A.innerText?p.push(d(A.textContent||A.innerText)):A.innerHTML&&p.push(A.innerHTML),p.push("</"+g+">")),p.join("")}function s(A,p){var g=Mre(A[p]);return p==="style"&&Object.keys(A.style).length>0?!0:A.hasOwnProperty(p)&&(g==="string"||g==="boolean"||g==="number")&&p!=="nodeName"&&p!=="className"&&p!=="tagName"&&p!=="textContent"&&p!=="innerText"&&p!=="namespaceURI"&&p!=="innerHTML"}function a(A){if(typeof A=="string")return A;var p="";return Object.keys(A).forEach(function(g){var y=A[g];g=g.replace(/[A-Z]/g,function(v){return"-"+v.toLowerCase()}),p+=g+":"+y+";"}),p}function c(A){var p=A.dataset,g=[];for(var y in p)g.push({name:"data-"+y,value:p[y]});return g.length?u(g):""}function u(A){var p=[];return A.forEach(function(g){var y=g.name,v=g.value;y==="style"&&(v=a(v)),p.push(y+'="'+f(v)+'"')}),p.length?" "+p.join(" "):""}function o(A){var p=[];for(var g in A)s(A,g)&&p.push({name:g,value:A[g]});for(var y in A._attributes)for(var v in A._attributes[y]){var b=A._attributes[y][v],w=(b.prefix?b.prefix+":":"")+v;p.push({name:w,value:b.value})}return A.className&&p.push({name:"class",value:A.className}),p.length?u(p):""}function d(A){var p="";return typeof A=="string"?p=A:A&&(p=A.toString()),p.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function f(A){return d(A).replace(/"/g,"&quot;")}}),Vre=kh(function(t,e){vy();var r=Ure(),n=$re(),i=Hre(),s=Qre(),a=rMe(),c="http://www.w3.org/1999/xhtml";e.exports=u;function u(o,d,f){if(!gy(this,u))return new u(o);var A=f===void 0?c:f||null;this.tagName=A===c?String(o).toUpperCase():o,this.nodeName=this.tagName,this.className="",this.dataset={},this.childNodes=[],this.parentNode=null,this.style={},this.ownerDocument=d||null,this.namespaceURI=A,this._attributes={},this.tagName==="INPUT"&&(this.type="text")}u.prototype.type="DOMElement",u.prototype.nodeType=1,u.prototype.appendChild=function(o){return o.parentNode&&o.parentNode.removeChild(o),this.childNodes.push(o),o.parentNode=this,o},u.prototype.replaceChild=function(o,d){o.parentNode&&o.parentNode.removeChild(o);var f=this.childNodes.indexOf(d);return d.parentNode=null,this.childNodes[f]=o,o.parentNode=this,d},u.prototype.removeChild=function(o){var d=this.childNodes.indexOf(o);return this.childNodes.splice(d,1),o.parentNode=null,o},u.prototype.insertBefore=function(o,d){o.parentNode&&o.parentNode.removeChild(o);var f=d==null?-1:this.childNodes.indexOf(d);return f>-1?this.childNodes.splice(f,0,o):this.childNodes.push(o),o.parentNode=this,o},u.prototype.setAttributeNS=function(o,d,f){var A=null,p=d,g=d.indexOf(":");if(g>-1&&(A=d.substr(0,g),p=d.substr(g+1)),this.tagName==="INPUT"&&d==="type")this.type=f;else{var y=this._attributes[o]||(this._attributes[o]={});y[p]={value:f,prefix:A}}},u.prototype.getAttributeNS=function(o,d){var f=this._attributes[o],A=f&&f[d]&&f[d].value;return this.tagName==="INPUT"&&d==="type"?this.type:typeof A!="string"?null:A},u.prototype.removeAttributeNS=function(o,d){var f=this._attributes[o];f&&delete f[d]},u.prototype.hasAttributeNS=function(o,d){var f=this._attributes[o];return!!f&&d in f},u.prototype.setAttribute=function(o,d){return this.setAttributeNS(null,o,d)},u.prototype.getAttribute=function(o){return this.getAttributeNS(null,o)},u.prototype.removeAttribute=function(o){return this.removeAttributeNS(null,o)},u.prototype.hasAttribute=function(o){return this.hasAttributeNS(null,o)},u.prototype.removeEventListener=s,u.prototype.addEventListener=i,u.prototype.dispatchEvent=n,u.prototype.focus=function(){},u.prototype.toString=function(){return a(this)},u.prototype.getElementsByClassName=function(o){var d=o.split(" "),f=[];return r(this,function(A){if(A.nodeType===1){var p=A.className||"",g=p.split(" ");d.every(function(y){return g.indexOf(y)!==-1})&&f.push(A)}}),f},u.prototype.getElementsByTagName=function(o){o=o.toLowerCase();var d=[];return r(this.childNodes,function(f){f.nodeType===1&&(o==="*"||f.tagName.toLowerCase()===o)&&d.push(f)}),d},u.prototype.contains=function(o){return r(this,function(d){return o===d})||!1}}),nMe=kh(function(t,e){vy();var r=Vre();e.exports=n;function n(i){if(!gy(this,n))return new n;this.childNodes=[],this.parentNode=null,this.ownerDocument=i||null}n.prototype.type="DocumentFragment",n.prototype.nodeType=11,n.prototype.nodeName="#document-fragment",n.prototype.appendChild=r.prototype.appendChild,n.prototype.replaceChild=r.prototype.replaceChild,n.prototype.removeChild=r.prototype.removeChild,n.prototype.toString=function(){return this.childNodes.map(function(i){return String(i)}).join("")}}),iMe=kh(function(t,e){e.exports=r;function r(n){}r.prototype.initEvent=function(n,i,s){this.type=n,this.bubbles=i,this.cancelable=s},r.prototype.preventDefault=function(){}}),sMe=kh(function(t,e){vy();var r=Ure(),n=eMe(),i=tMe(),s=Vre(),a=nMe(),c=iMe(),u=$re(),o=Hre(),d=Qre();e.exports=f;function f(){if(!gy(this,f))return new f;this.head=this.createElement("head"),this.body=this.createElement("body"),this.documentElement=this.createElement("html"),this.documentElement.appendChild(this.head),this.documentElement.appendChild(this.body),this.childNodes=[this.documentElement],this.nodeType=9}var A=f.prototype;A.createTextNode=function(p){return new i(p,this)},A.createElementNS=function(p,g){var y=p===null?null:String(p);return new s(g,this,y)},A.createElement=function(p){return new s(p,this)},A.createDocumentFragment=function(){return new a(this)},A.createEvent=function(p){return new c(p)},A.createComment=function(p){return new n(p,this)},A.getElementById=function(p){p=String(p);var g=r(this.childNodes,function(y){if(String(y.id)===p)return y});return g||null},A.getElementsByClassName=s.prototype.getElementsByClassName,A.getElementsByTagName=s.prototype.getElementsByTagName,A.contains=s.prototype.contains,A.removeEventListener=d,A.addEventListener=o,A.dispatchEvent=u}),aMe=kh(function(t,e){var r=sMe();e.exports=new r}),Kre=kh(function(t,e){var r=typeof global<"u"?global:typeof window<"u"?window:{},n=aMe(),i;typeof document<"u"?i=document:(i=r["__GLOBAL_DOCUMENT_CACHE@4"],i||(i=r["__GLOBAL_DOCUMENT_CACHE@4"]=n)),e.exports=i});function oMe(t){if(Array.isArray(t))return t}function lMe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,s=!1,a,c;try{for(r=r.call(t);!(i=(a=r.next()).done)&&(n.push(a.value),!(e&&n.length===e));i=!0);}catch(u){s=!0,c=u}finally{try{!i&&r.return!=null&&r.return()}finally{if(s)throw c}}return n}}function cMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Gre(t,e){if(t){if(typeof t=="string")return NR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(r);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NR(t,e)}}function Gp(t,e){return oMe(t)||lMe(t,e)||Gre(t,e)||cMe()}var Uw=Kf(Qm()),wK=Kf(Qm()),uMe=Kf(Qm()),dMe={now:function(){var t=uMe.default.performance,e=t&&t.timing,r=e&&e.navigationStart,n=typeof r=="number"&&typeof t.now=="function"?r+t.now():Date.now();return Math.round(n)}},Ku=dMe,kE=function(){var t,e,r;if(typeof((t=wK.default.crypto)===null||t===void 0?void 0:t.getRandomValues)=="function"){r=new Uint8Array(32),wK.default.crypto.getRandomValues(r);for(var n=0;n<32;n++)r[n]=r[n]%16}else{r=[];for(var i=0;i<32;i++)r[i]=Math.random()*16|0}var s=0;e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(u){var o=u==="x"?r[s]:r[s]&3|8;return s++,o.toString(16)});var a=Ku.now(),c=a?.toString(16).substring(3);return c?e.substring(0,28)+c:e},zre=function(){return("000000"+(Math.random()*Math.pow(36,6)<<0).toString(36)).slice(-6)},uA=function(t){if(t&&typeof t.nodeName<"u")return t.muxId||(t.muxId=zre()),t.muxId;var e;try{e=document.querySelector(t)}catch{}return e&&!e.muxId&&(e.muxId=t),e?.muxId||t},vj=function(t){var e;t&&typeof t.nodeName<"u"?(e=t,t=uA(e)):e=document.querySelector(t);var r=e&&e.nodeName?e.nodeName.toLowerCase():"";return[e,t,r]};function hMe(t){if(Array.isArray(t))return NR(t)}function fMe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function AMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dA(t){return hMe(t)||fMe(t)||Gre(t)||AMe()}var xv={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4},mMe=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:3,r,n,i,s,a,c=[console,t],u=(r=console.trace).bind.apply(r,dA(c)),o=(n=console.info).bind.apply(n,dA(c)),d=(i=console.debug).bind.apply(i,dA(c)),f=(s=console.warn).bind.apply(s,dA(c)),A=(a=console.error).bind.apply(a,dA(c)),p=e;return{trace:function(){for(var g=arguments.length,y=new Array(g),v=0;v<g;v++)y[v]=arguments[v];if(!(p>xv.TRACE))return u.apply(void 0,dA(y))},debug:function(){for(var g=arguments.length,y=new Array(g),v=0;v<g;v++)y[v]=arguments[v];if(!(p>xv.DEBUG))return d.apply(void 0,dA(y))},info:function(){for(var g=arguments.length,y=new Array(g),v=0;v<g;v++)y[v]=arguments[v];if(!(p>xv.INFO))return o.apply(void 0,dA(y))},warn:function(){for(var g=arguments.length,y=new Array(g),v=0;v<g;v++)y[v]=arguments[v];if(!(p>xv.WARN))return f.apply(void 0,dA(y))},error:function(){for(var g=arguments.length,y=new Array(g),v=0;v<g;v++)y[v]=arguments[v];if(!(p>xv.ERROR))return A.apply(void 0,dA(y))},get level(){return p},set level(g){g!==this.level&&(p=g??e)}}},Lo=mMe("[mux]"),HB=Kf(Qm());function IR(){var t=HB.default.doNotTrack||HB.default.navigator&&HB.default.navigator.doNotTrack;return t==="1"}function Vi(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}vy();function Kc(t,e){if(!gy(t,e))throw new TypeError("Cannot call a class as a function")}function pMe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function LA(t,e,r){return e&&pMe(t.prototype,e),t}function dn(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jb(t){return jb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},jb(t)}function gMe(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=jb(t),t!==null););return t}function O_(t,e,r){return typeof Reflect<"u"&&Reflect.get?O_=Reflect.get:O_=function(n,i,s){var a=gMe(n,i);if(a){var c=Object.getOwnPropertyDescriptor(a,i);return c.get?c.get.call(s||n):c.value}},O_(t,e,r||t)}function kR(t,e){return kR=Object.setPrototypeOf||function(r,n){return r.__proto__=n,r},kR(t,e)}function vMe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&kR(t,e)}function yMe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function xMe(t,e){if(t==null)return{};var r=yMe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function bMe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}Fre();function wMe(t,e){return e&&(Mre(e)==="object"||typeof e=="function")?e:Vi(t)}function EMe(t){var e=bMe();return function(){var r=jb(t),n;if(e){var i=jb(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return wMe(this,n)}}var xA=function(t){return BE(t)[0]},BE=function(t){if(typeof t!="string"||t==="")return["localhost"];var e=/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,r=t.match(e)||[],n=r[4],i;return n&&(i=(n.match(/[^\.]+\.[^\.]+$/)||[])[0]),[n,i]},QB=Kf(Qm()),SMe={exists:function(){var t=QB.default.performance,e=t&&t.timing;return e!==void 0},domContentLoadedEventEnd:function(){var t=QB.default.performance,e=t&&t.timing;return e&&e.domContentLoadedEventEnd},navigationStart:function(){var t=QB.default.performance,e=t&&t.timing;return e&&e.navigationStart}},yj=SMe;function fu(t,e,r){r=r===void 0?1:r,t[e]=t[e]||0,t[e]+=r}function xj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){dn(t,i,r[i])})}return t}function _Me(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r.push.apply(r,n)}return r}function PM(t,e){return e=e??{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):_Me(Object(e)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}),t}var TMe=["x-cdn","content-type"],Wre=["x-request-id","cf-ray","x-amz-cf-id","x-akamai-request-id"],CMe=TMe.concat(Wre);function DM(t){t=t||"";var e={},r=t.trim().split(/[\r\n]+/);return r.forEach(function(n){if(n){var i=n.split(": "),s=i.shift();s&&(CMe.indexOf(s.toLowerCase())>=0||s.toLowerCase().indexOf("x-litix-")===0)&&(e[s]=i.join(": "))}}),e}function bj(t){if(t){var e=Wre.find(function(r){return t[r]!==void 0});return e?t[e]:void 0}}var jMe=function(t){var e={};for(var r in t){var n=t[r],i=n["DATA-ID"].search("io.litix.data.");if(i!==-1){var s=n["DATA-ID"].replace("io.litix.data.","");e[s]=n.VALUE}}return e},Yre=jMe,US=function(t){if(!t)return{};var e=yj.navigationStart(),r=t.loading,n=r?r.start:t.trequest,i=r?r.first:t.tfirst,s=r?r.end:t.tload;return{bytesLoaded:t.total,requestStart:Math.round(e+n),responseStart:Math.round(e+i),responseEnd:Math.round(e+s)}},M1=function(t){if(!(!t||typeof t.getAllResponseHeaders!="function"))return DM(t.getAllResponseHeaders())},NMe=function(t,e,r){var n=arguments.length>4?arguments[4]:void 0,i=t.log,s=t.utils.secondsToMs,a=function(v){var b=parseInt(n.version),w;return b===1&&v.programDateTime!==null&&(w=v.programDateTime),b===0&&v.pdt!==null&&(w=v.pdt),w};if(!yj.exists()){i.warn("performance timing not supported. Not tracking HLS.js.");return}var c=function(v,b){return t.emit(e,v,b)},u=function(v,b){var w=b.levels,S=b.audioTracks,_=b.url,T=b.stats,L=b.networkDetails,D=b.sessionData,V={},G={};w.forEach(function(he,ne){V[ne]={width:he.width,height:he.height,bitrate:he.bitrate,attrs:he.attrs}}),S.forEach(function(he,ne){G[ne]={name:he.name,language:he.lang,bitrate:he.bitrate}});var J=US(T),ee=J.bytesLoaded,ue=J.requestStart,pe=J.responseStart,ge=J.responseEnd;c("requestcompleted",PM(xj({},Yre(D)),{request_event_type:v,request_bytes_loaded:ee,request_start:ue,request_response_start:pe,request_response_end:ge,request_type:"manifest",request_hostname:xA(_),request_response_headers:M1(L),request_rendition_lists:{media:V,audio:G,video:{}}}))};r.on(n.Events.MANIFEST_LOADED,u);var o=function(v,b){var w=b.details,S=b.level,_=b.networkDetails,T=b.stats,L=US(T),D=L.bytesLoaded,V=L.requestStart,G=L.responseStart,J=L.responseEnd,ee=w.fragments[w.fragments.length-1],ue=a(ee)+s(ee.duration);c("requestcompleted",{request_event_type:v,request_bytes_loaded:D,request_start:V,request_response_start:G,request_response_end:J,request_current_level:S,request_type:"manifest",request_hostname:xA(w.url),request_response_headers:M1(_),video_holdback:w.holdBack&&s(w.holdBack),video_part_holdback:w.partHoldBack&&s(w.partHoldBack),video_part_target_duration:w.partTarget&&s(w.partTarget),video_target_duration:w.targetduration&&s(w.targetduration),video_source_is_live:w.live,player_manifest_newest_program_time:isNaN(ue)?void 0:ue})};r.on(n.Events.LEVEL_LOADED,o);var d=function(v,b){var w=b.details,S=b.networkDetails,_=b.stats,T=US(_),L=T.bytesLoaded,D=T.requestStart,V=T.responseStart,G=T.responseEnd;c("requestcompleted",{request_event_type:v,request_bytes_loaded:L,request_start:D,request_response_start:V,request_response_end:G,request_type:"manifest",request_hostname:xA(w.url),request_response_headers:M1(S)})};r.on(n.Events.AUDIO_TRACK_LOADED,d);var f=function(v,b){var w=b.stats,S=b.networkDetails,_=b.frag;w=w||_.stats;var T=US(w),L=T.bytesLoaded,D=T.requestStart,V=T.responseStart,G=T.responseEnd,J=S?M1(S):void 0,ee={request_event_type:v,request_bytes_loaded:L,request_start:D,request_response_start:V,request_response_end:G,request_hostname:S?xA(S.responseURL):void 0,request_id:J?bj(J):void 0,request_response_headers:J,request_media_duration:_.duration,request_url:S?.responseURL};_.type==="main"?(ee.request_type="media",ee.request_current_level=_.level,ee.request_video_width=(r.levels[_.level]||{}).width,ee.request_video_height=(r.levels[_.level]||{}).height,ee.request_labeled_bitrate=(r.levels[_.level]||{}).bitrate):ee.request_type=_.type,c("requestcompleted",ee)};r.on(n.Events.FRAG_LOADED,f);var A=function(v,b){var w=b.frag,S=w.start,_=a(w),T={currentFragmentPDT:_,currentFragmentStart:s(S)};c("fragmentchange",T)};r.on(n.Events.FRAG_CHANGED,A);var p=function(v,b){var w=b.type,S=b.details,_=b.response,T=b.fatal,L=b.frag,D=b.networkDetails,V=L?.url||b.url||"",G=D?M1(D):void 0;if((S===n.ErrorDetails.MANIFEST_LOAD_ERROR||S===n.ErrorDetails.MANIFEST_LOAD_TIMEOUT||S===n.ErrorDetails.FRAG_LOAD_ERROR||S===n.ErrorDetails.FRAG_LOAD_TIMEOUT||S===n.ErrorDetails.LEVEL_LOAD_ERROR||S===n.ErrorDetails.LEVEL_LOAD_TIMEOUT||S===n.ErrorDetails.AUDIO_TRACK_LOAD_ERROR||S===n.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT||S===n.ErrorDetails.SUBTITLE_LOAD_ERROR||S===n.ErrorDetails.SUBTITLE_LOAD_TIMEOUT||S===n.ErrorDetails.KEY_LOAD_ERROR||S===n.ErrorDetails.KEY_LOAD_TIMEOUT)&&c("requestfailed",{request_error:S,request_url:V,request_hostname:xA(V),request_id:G?bj(G):void 0,request_type:S===n.ErrorDetails.FRAG_LOAD_ERROR||S===n.ErrorDetails.FRAG_LOAD_TIMEOUT?"media":S===n.ErrorDetails.AUDIO_TRACK_LOAD_ERROR||S===n.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT?"audio":S===n.ErrorDetails.SUBTITLE_LOAD_ERROR||S===n.ErrorDetails.SUBTITLE_LOAD_TIMEOUT?"subtitle":S===n.ErrorDetails.KEY_LOAD_ERROR||S===n.ErrorDetails.KEY_LOAD_TIMEOUT?"encryption":"manifest",request_error_code:_?.code,request_error_text:_?.text}),T){var J,ee="".concat(V?"url: ".concat(V,`
`):"")+"".concat(_&&(_.code||_.text)?"response: ".concat(_.code,", ").concat(_.text,`
`):"")+"".concat(b.reason?"failure reason: ".concat(b.reason,`
`):"")+"".concat(b.level?"level: ".concat(b.level,`
`):"")+"".concat(b.parent?"parent stream controller: ".concat(b.parent,`
`):"")+"".concat(b.buffer?"buffer length: ".concat(b.buffer,`
`):"")+"".concat(b.error?"error: ".concat(b.error,`
`):"")+"".concat(b.event?"event: ".concat(b.event,`
`):"")+"".concat(b.err?"error message: ".concat((J=b.err)===null||J===void 0?void 0:J.message,`
`):"");c("error",{player_error_code:w,player_error_message:S,player_error_context:ee})}};r.on(n.Events.ERROR,p);var g=function(v,b){var w=b.frag,S=w&&w._url||"";c("requestcanceled",{request_event_type:v,request_url:S,request_type:"media",request_hostname:xA(S)})};r.on(n.Events.FRAG_LOAD_EMERGENCY_ABORTED,g);var y=function(v,b){var w=b.level,S=r.levels[w];if(S&&S.attrs&&S.attrs.BANDWIDTH){var _=S.attrs.BANDWIDTH,T,L=parseFloat(S.attrs["FRAME-RATE"]);isNaN(L)||(T=L),_?c("renditionchange",{video_source_fps:T,video_source_bitrate:_,video_source_width:S.width,video_source_height:S.height,video_source_rendition_name:S.name,video_source_codec:S?.videoCodec}):i.warn("missing BANDWIDTH from HLS manifest parsed by HLS.js")}};r.on(n.Events.LEVEL_SWITCHED,y),r._stopMuxMonitor=function(){r.off(n.Events.MANIFEST_LOADED,u),r.off(n.Events.LEVEL_LOADED,o),r.off(n.Events.AUDIO_TRACK_LOADED,d),r.off(n.Events.FRAG_LOADED,f),r.off(n.Events.FRAG_CHANGED,A),r.off(n.Events.ERROR,p),r.off(n.Events.FRAG_LOAD_EMERGENCY_ABORTED,g),r.off(n.Events.LEVEL_SWITCHED,y),r.off(n.Events.DESTROYING,r._stopMuxMonitor),delete r._stopMuxMonitor},r.on(n.Events.DESTROYING,r._stopMuxMonitor)},IMe=function(t){t&&typeof t._stopMuxMonitor=="function"&&t._stopMuxMonitor()},EK=function(t,e){if(!t||!t.requestEndDate)return{};var r=xA(t.url),n=t.url,i=t.bytesLoaded,s=new Date(t.requestStartDate).getTime(),a=new Date(t.firstByteDate).getTime(),c=new Date(t.requestEndDate).getTime(),u=isNaN(t.duration)?0:t.duration,o=typeof e.getMetricsFor=="function"?e.getMetricsFor(t.mediaType).HttpList:e.getDashMetrics().getHttpRequests(t.mediaType),d;o.length>0&&(d=DM(o[o.length-1]._responseHeaders||""));var f=d?bj(d):void 0;return{requestStart:s,requestResponseStart:a,requestResponseEnd:c,requestBytesLoaded:i,requestResponseHeaders:d,requestMediaDuration:u,requestHostname:r,requestUrl:n,requestId:f}},kMe=function(t,e){var r=e.getQualityFor(t),n=e.getCurrentTrackFor(t).bitrateList;return n?{currentLevel:r,renditionWidth:n[r].width||null,renditionHeight:n[r].height||null,renditionBitrate:n[r].bandwidth}:{}},BMe=function(t){var e;return(e=t.match(/.*codecs\*?="(.*)"/))===null||e===void 0?void 0:e[1]},LMe=function(t){try{var e,r,n=(r=t.getVersion)===null||r===void 0||(e=r.call(t))===null||e===void 0?void 0:e.split(".").map(function(i){return parseInt(i)})[0];return n}catch{return!1}},RMe=function(t,e,r){var n=t.log;if(!r||!r.on){n.warn("Invalid dash.js player reference. Monitoring blocked.");return}var i=LMe(r),s=function(w,S){return t.emit(e,w,S)},a=function(w){var S=w.type,_=w.data,T=(_||{}).url;s("requestcompleted",{request_event_type:S,request_start:0,request_response_start:0,request_response_end:0,request_bytes_loaded:-1,request_type:"manifest",request_hostname:xA(T),request_url:T})};r.on("manifestLoaded",a);var c={},u=function(w){if(typeof w.getRequests!="function")return null;var S=w.getRequests({state:"executed"});return S.length===0?null:S[S.length-1]},o=function(w){var S=w.type,_=w.fragmentModel,T=w.chunk,L=u(_);d({type:S,request:L,chunk:T})},d=function(w){var S=w.type,_=w.chunk,T=w.request,L=(_||{}).mediaInfo,D=L||{},V=D.type,G=D.bitrateList;G=G||[];var J={};G.forEach(function(ke,ve){J[ve]={},J[ve].width=ke.width,J[ve].height=ke.height,J[ve].bitrate=ke.bandwidth,J[ve].attrs={}}),V==="video"?c.video=J:V==="audio"?c.audio=J:c.media=J;var ee=EK(T,r),ue=ee.requestStart,pe=ee.requestResponseStart,ge=ee.requestResponseEnd,he=ee.requestResponseHeaders,ne=ee.requestMediaDuration,Ae=ee.requestHostname,oe=ee.requestUrl,Be=ee.requestId;s("requestcompleted",{request_event_type:S,request_start:ue,request_response_start:pe,request_response_end:ge,request_bytes_loaded:-1,request_type:V+"_init",request_response_headers:he,request_hostname:Ae,request_id:Be,request_url:oe,request_media_duration:ne,request_rendition_lists:c})};i>=4?r.on("initFragmentLoaded",d):r.on("initFragmentLoaded",o);var f=function(w){var S=w.type,_=w.fragmentModel,T=w.chunk,L=u(_);A({type:S,request:L,chunk:T})},A=function(w){var S=w.type,_=w.chunk,T=w.request,L=_||{},D=L.mediaInfo,V=L.start,G=D||{},J=G.type,ee=EK(T,r),ue=ee.requestStart,pe=ee.requestResponseStart,ge=ee.requestResponseEnd,he=ee.requestBytesLoaded,ne=ee.requestResponseHeaders,Ae=ee.requestMediaDuration,oe=ee.requestHostname,Be=ee.requestUrl,ke=ee.requestId,ve=kMe(J,r),se=ve.currentLevel,me=ve.renditionWidth,je=ve.renditionHeight,Ue=ve.renditionBitrate;s("requestcompleted",{request_event_type:S,request_start:ue,request_response_start:pe,request_response_end:ge,request_bytes_loaded:he,request_type:J,request_response_headers:ne,request_hostname:oe,request_id:ke,request_url:Be,request_media_start_time:V,request_media_duration:Ae,request_current_level:se,request_labeled_bitrate:Ue,request_video_width:me,request_video_height:je})};i>=4?r.on("mediaFragmentLoaded",A):r.on("mediaFragmentLoaded",f);var p={video:void 0,audio:void 0,totalBitrate:void 0},g=function(){if(p.video&&typeof p.video.bitrate=="number"){if(!(p.video.width&&p.video.height)){n.warn("have bitrate info for video but missing width/height");return}var w=p.video.bitrate;if(p.audio&&typeof p.audio.bitrate=="number"&&(w+=p.audio.bitrate),w!==p.totalBitrate)return p.totalBitrate=w,{video_source_bitrate:w,video_source_height:p.video.height,video_source_width:p.video.width,video_source_codec:BMe(p.video.codec)}}},y=function(w,S,_){if(typeof w.newQuality!="number"){n.warn("missing evt.newQuality in qualityChangeRendered event",w);return}var T=w.mediaType;if(T==="audio"||T==="video"){var L=r.getBitrateInfoListFor(T).find(function(V){var G=V.qualityIndex;return G===w.newQuality});if(!(L&&typeof L.bitrate=="number")){n.warn("missing bitrate info for ".concat(T));return}p[T]=PM(xj({},L),{codec:r.getCurrentTrackFor(T).codec});var D=g();D&&s("renditionchange",D)}};r.on("qualityChangeRendered",y);var v=function(w){var S=w.request,_=w.mediaType;S=S||{},s("requestcanceled",{request_event_type:S.type+"_"+S.action,request_url:S.url,request_type:_,request_hostname:xA(S.url)})};r.on("fragmentLoadingAbandoned",v);var b=function(w){var S=w.error,_,T,L=(S==null||(_=S.data)===null||_===void 0?void 0:_.request)||{},D=(S==null||(T=S.data)===null||T===void 0?void 0:T.response)||{};S?.code===27&&s("requestfailed",{request_error:L.type+"_"+L.action,request_url:L.url,request_hostname:xA(L.url),request_type:L.mediaType,request_error_code:D.status,request_error_text:D.statusText});var V="".concat(L!=null&&L.url?"url: ".concat(L.url,`
`):"")+"".concat(D!=null&&D.status||D!=null&&D.statusText?"response: ".concat(D?.status,", ").concat(D?.statusText,`
`):"");s("error",{player_error_code:S?.code,player_error_message:S?.message,player_error_context:V})};r.on("error",b),r._stopMuxMonitor=function(){r.off("manifestLoaded",a),r.off("initFragmentLoaded",d),r.off("mediaFragmentLoaded",A),r.off("qualityChangeRendered",y),r.off("error",b),r.off("fragmentLoadingAbandoned",v),delete r._stopMuxMonitor}},OMe=function(t){t&&typeof t._stopMuxMonitor=="function"&&t._stopMuxMonitor()},SK=0,PMe=(function(){function t(){Kc(this,t),dn(this,"_listeners",void 0)}return LA(t,[{key:"on",value:function(e,r,n){return r._eventEmitterGuid=r._eventEmitterGuid||++SK,this._listeners=this._listeners||{},this._listeners[e]=this._listeners[e]||[],n&&(r=r.bind(n)),this._listeners[e].push(r),r}},{key:"off",value:function(e,r){var n=this._listeners&&this._listeners[e];n&&n.forEach(function(i,s){i._eventEmitterGuid===r._eventEmitterGuid&&n.splice(s,1)})}},{key:"one",value:function(e,r,n){var i=this;r._eventEmitterGuid=r._eventEmitterGuid||++SK;var s=function(){i.off(e,s),r.apply(n||this,arguments)};s._eventEmitterGuid=r._eventEmitterGuid,this.on(e,s)}},{key:"emit",value:function(e,r){var n=this;if(this._listeners){r=r||{};var i=this._listeners["before"+e]||[],s=this._listeners["before*"]||[],a=this._listeners[e]||[],c=this._listeners["after"+e]||[],u=function(o,d){o=o.slice(),o.forEach(function(f){f.call(n,{type:e},d)})};u(i,r),u(s,r),u(a,r),u(c,r)}}}]),t})(),DMe=PMe,VB=Kf(Qm()),MMe=(function(){function t(e){var r=this;Kc(this,t),dn(this,"_playbackHeartbeatInterval",void 0),dn(this,"_playheadShouldBeProgressing",void 0),dn(this,"pm",void 0),this.pm=e,this._playbackHeartbeatInterval=null,this._playheadShouldBeProgressing=!1,e.on("playing",function(){r._playheadShouldBeProgressing=!0}),e.on("play",this._startPlaybackHeartbeatInterval.bind(this)),e.on("playing",this._startPlaybackHeartbeatInterval.bind(this)),e.on("adbreakstart",this._startPlaybackHeartbeatInterval.bind(this)),e.on("adplay",this._startPlaybackHeartbeatInterval.bind(this)),e.on("adplaying",this._startPlaybackHeartbeatInterval.bind(this)),e.on("devicewake",this._startPlaybackHeartbeatInterval.bind(this)),e.on("viewstart",this._startPlaybackHeartbeatInterval.bind(this)),e.on("rebufferstart",this._startPlaybackHeartbeatInterval.bind(this)),e.on("pause",this._stopPlaybackHeartbeatInterval.bind(this)),e.on("ended",this._stopPlaybackHeartbeatInterval.bind(this)),e.on("viewend",this._stopPlaybackHeartbeatInterval.bind(this)),e.on("error",this._stopPlaybackHeartbeatInterval.bind(this)),e.on("aderror",this._stopPlaybackHeartbeatInterval.bind(this)),e.on("adpause",this._stopPlaybackHeartbeatInterval.bind(this)),e.on("adended",this._stopPlaybackHeartbeatInterval.bind(this)),e.on("adbreakend",this._stopPlaybackHeartbeatInterval.bind(this)),e.on("seeked",function(){e.data.player_is_paused?r._stopPlaybackHeartbeatInterval():r._startPlaybackHeartbeatInterval()}),e.on("timeupdate",function(){r._playbackHeartbeatInterval!==null&&e.emit("playbackheartbeat")}),e.on("devicesleep",function(n,i){r._playbackHeartbeatInterval!==null&&(VB.default.clearInterval(r._playbackHeartbeatInterval),e.emit("playbackheartbeatend",{viewer_time:i.viewer_time}),r._playbackHeartbeatInterval=null)})}return LA(t,[{key:"_startPlaybackHeartbeatInterval",value:function(){var e=this;this._playbackHeartbeatInterval===null&&(this.pm.emit("playbackheartbeat"),this._playbackHeartbeatInterval=VB.default.setInterval(function(){e.pm.emit("playbackheartbeat")},this.pm.playbackHeartbeatTime))}},{key:"_stopPlaybackHeartbeatInterval",value:function(){this._playheadShouldBeProgressing=!1,this._playbackHeartbeatInterval!==null&&(VB.default.clearInterval(this._playbackHeartbeatInterval),this.pm.emit("playbackheartbeatend"),this._playbackHeartbeatInterval=null)}}]),t})(),FMe=MMe,UMe=function t(e){var r=this;Kc(this,t),dn(this,"viewErrored",void 0),e.on("viewinit",function(){r.viewErrored=!1}),e.on("error",function(n,i){try{var s=e.errorTranslator({player_error_code:i.player_error_code,player_error_message:i.player_error_message,player_error_context:i.player_error_context,player_error_severity:i.player_error_severity,player_error_business_exception:i.player_error_business_exception});s&&(e.data.player_error_code=s.player_error_code||i.player_error_code,e.data.player_error_message=s.player_error_message||i.player_error_message,e.data.player_error_context=s.player_error_context||i.player_error_context,e.data.player_error_severity=s.player_error_severity||i.player_error_severity,e.data.player_error_business_exception=s.player_error_business_exception||i.player_error_business_exception,r.viewErrored=!0)}catch(a){e.mux.log.warn("Exception in error translator callback.",a),r.viewErrored=!0}}),e.on("aftererror",function(){var n,i,s,a,c;(n=e.data)===null||n===void 0||delete n.player_error_code,(i=e.data)===null||i===void 0||delete i.player_error_message,(s=e.data)===null||s===void 0||delete s.player_error_context,(a=e.data)===null||a===void 0||delete a.player_error_severity,(c=e.data)===null||c===void 0||delete c.player_error_business_exception})},$Me=UMe,HMe=(function(){function t(e){Kc(this,t),dn(this,"_watchTimeTrackerLastCheckedTime",void 0),dn(this,"pm",void 0),this.pm=e,this._watchTimeTrackerLastCheckedTime=null,e.on("playbackheartbeat",this._updateWatchTime.bind(this)),e.on("playbackheartbeatend",this._clearWatchTimeState.bind(this))}return LA(t,[{key:"_updateWatchTime",value:function(e,r){var n=r.viewer_time;this._watchTimeTrackerLastCheckedTime===null&&(this._watchTimeTrackerLastCheckedTime=n),fu(this.pm.data,"view_watch_time",n-this._watchTimeTrackerLastCheckedTime),this._watchTimeTrackerLastCheckedTime=n}},{key:"_clearWatchTimeState",value:function(e,r){this._updateWatchTime(e,r),this._watchTimeTrackerLastCheckedTime=null}}]),t})(),QMe=HMe,VMe=(function(){function t(e){var r=this;Kc(this,t),dn(this,"_playbackTimeTrackerLastPlayheadPosition",void 0),dn(this,"_lastTime",void 0),dn(this,"_isAdPlaying",void 0),dn(this,"_callbackUpdatePlaybackTime",void 0),dn(this,"pm",void 0),this.pm=e,this._playbackTimeTrackerLastPlayheadPosition=-1,this._lastTime=Ku.now(),this._isAdPlaying=!1,this._callbackUpdatePlaybackTime=null,e.on("viewinit",function(){r.pm.data.view_playing_time_ms_cumulative=0});var n=this._startPlaybackTimeTracking.bind(this);e.on("playing",n),e.on("adplaying",n),e.on("seeked",n),e.on("rebufferend",n);var i=this._stopPlaybackTimeTracking.bind(this);e.on("playbackheartbeatend",i),e.on("seeking",i),e.on("rebufferstart",i),e.on("adplaying",function(){r._isAdPlaying=!0}),e.on("adended",function(){r._isAdPlaying=!1}),e.on("adpause",function(){r._isAdPlaying=!1}),e.on("adbreakstart",function(){r._isAdPlaying=!1}),e.on("adbreakend",function(){r._isAdPlaying=!1}),e.on("adplay",function(){r._isAdPlaying=!1}),e.on("viewinit",function(){r._playbackTimeTrackerLastPlayheadPosition=-1,r._lastTime=Ku.now(),r._isAdPlaying=!1,r._callbackUpdatePlaybackTime=null})}return LA(t,[{key:"_startPlaybackTimeTracking",value:function(){this._callbackUpdatePlaybackTime===null&&(this._callbackUpdatePlaybackTime=this._updatePlaybackTime.bind(this),this._playbackTimeTrackerLastPlayheadPosition=this.pm.data.player_playhead_time,this._lastTime=Ku.now(),this.pm.on("playbackheartbeat",this._callbackUpdatePlaybackTime))}},{key:"_stopPlaybackTimeTracking",value:function(){this._callbackUpdatePlaybackTime&&(this._updatePlaybackTime(),this.pm.off("playbackheartbeat",this._callbackUpdatePlaybackTime),this._callbackUpdatePlaybackTime=null,this._playbackTimeTrackerLastPlayheadPosition=-1)}},{key:"_updatePlaybackTime",value:function(){var e=this.pm.data.player_playhead_time||0,r=Ku.now(),n=r-this._lastTime,i=-1;this._playbackTimeTrackerLastPlayheadPosition>=0&&e>this._playbackTimeTrackerLastPlayheadPosition?i=e-this._playbackTimeTrackerLastPlayheadPosition:this._isAdPlaying&&(i=n),i>0&&i<=1e3&&fu(this.pm.data,"view_content_playback_time",i),this._callbackUpdatePlaybackTime!==null&&n>0&&n<=1e3&&(this._isAdPlaying&&fu(this.pm.data,"ad_playing_time_ms_cumulative",n),fu(this.pm.data,"view_playing_time_ms_cumulative",n)),this._playbackTimeTrackerLastPlayheadPosition=e,this._lastTime=r}}]),t})(),KMe=VMe,GMe=(function(){function t(e){Kc(this,t),dn(this,"pm",void 0),this.pm=e;var r=this._updatePlayheadTime.bind(this);e.on("playbackheartbeat",r),e.on("playbackheartbeatend",r),e.on("timeupdate",r),e.on("destroy",function(){e.off("timeupdate",r)})}return LA(t,[{key:"_updateMaxPlayheadPosition",value:function(){this.pm.data.view_max_playhead_position=typeof this.pm.data.view_max_playhead_position>"u"?this.pm.data.player_playhead_time:Math.max(this.pm.data.view_max_playhead_position,this.pm.data.player_playhead_time)}},{key:"_updatePlayheadTime",value:function(e,r){var n=this,i=function(){n.pm.currentFragmentPDT&&n.pm.currentFragmentStart&&(n.pm.data.player_program_time=n.pm.currentFragmentPDT+n.pm.data.player_playhead_time-n.pm.currentFragmentStart)};if(r&&r.player_playhead_time)this.pm.data.player_playhead_time=r.player_playhead_time,i(),this._updateMaxPlayheadPosition();else if(this.pm.getPlayheadTime){var s=this.pm.getPlayheadTime();typeof s<"u"&&(this.pm.data.player_playhead_time=s,i(),this._updateMaxPlayheadPosition())}}}]),t})(),zMe=GMe,_K=300*1e3,WMe=function t(e){if(Kc(this,t),!e.disableRebufferTracking){var r,n=function(s,a){i(a),r=void 0},i=function(s){if(r){var a=s.viewer_time-r;fu(e.data,"view_rebuffer_duration",a),r=s.viewer_time,e.data.view_rebuffer_duration>_K&&(e.emit("viewend"),e.send("viewend"),e.mux.log.warn("Ending view after rebuffering for longer than ".concat(_K,"ms, future events will be ignored unless a programchange or videochange occurs.")))}e.data.view_watch_time>=0&&e.data.view_rebuffer_count>0&&(e.data.view_rebuffer_frequency=e.data.view_rebuffer_count/e.data.view_watch_time,e.data.view_rebuffer_percentage=e.data.view_rebuffer_duration/e.data.view_watch_time)};e.on("playbackheartbeat",function(s,a){return i(a)}),e.on("rebufferstart",function(s,a){r||(fu(e.data,"view_rebuffer_count",1),r=a.viewer_time,e.one("rebufferend",n))}),e.on("viewinit",function(){r=void 0,e.off("rebufferend",n)})}},YMe=WMe,qMe=(function(){function t(e){var r=this;Kc(this,t),dn(this,"_lastCheckedTime",void 0),dn(this,"_lastPlayheadTime",void 0),dn(this,"_lastPlayheadTimeUpdatedTime",void 0),dn(this,"_rebuffering",void 0),dn(this,"pm",void 0),this.pm=e,!(e.disableRebufferTracking||e.disablePlayheadRebufferTracking)&&(this._lastCheckedTime=null,this._lastPlayheadTime=null,this._lastPlayheadTimeUpdatedTime=null,e.on("playbackheartbeat",this._checkIfRebuffering.bind(this)),e.on("playbackheartbeatend",this._cleanupRebufferTracker.bind(this)),e.on("seeking",function(){r._cleanupRebufferTracker(null,{viewer_time:Ku.now()})}))}return LA(t,[{key:"_checkIfRebuffering",value:function(e,r){if(this.pm.seekingTracker.isSeeking||this.pm.adTracker.isAdBreak||!this.pm.playbackHeartbeat._playheadShouldBeProgressing){this._cleanupRebufferTracker(e,r);return}if(this._lastCheckedTime===null){this._prepareRebufferTrackerState(r.viewer_time);return}if(this._lastPlayheadTime!==this.pm.data.player_playhead_time){this._cleanupRebufferTracker(e,r,!0);return}var n=r.viewer_time-this._lastPlayheadTimeUpdatedTime;typeof this.pm.sustainedRebufferThreshold=="number"&&n>=this.pm.sustainedRebufferThreshold&&(this._rebuffering||(this._rebuffering=!0,this.pm.emit("rebufferstart",{viewer_time:this._lastPlayheadTimeUpdatedTime}))),this._lastCheckedTime=r.viewer_time}},{key:"_clearRebufferTrackerState",value:function(){this._lastCheckedTime=null,this._lastPlayheadTime=null,this._lastPlayheadTimeUpdatedTime=null}},{key:"_prepareRebufferTrackerState",value:function(e){this._lastCheckedTime=e,this._lastPlayheadTime=this.pm.data.player_playhead_time,this._lastPlayheadTimeUpdatedTime=e}},{key:"_cleanupRebufferTracker",value:function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(this._rebuffering)this._rebuffering=!1,this.pm.emit("rebufferend",{viewer_time:r.viewer_time});else{if(this._lastCheckedTime===null)return;var i=this.pm.data.player_playhead_time-this._lastPlayheadTime,s=r.viewer_time-this._lastPlayheadTimeUpdatedTime;typeof this.pm.minimumRebufferDuration=="number"&&i>0&&s-i>this.pm.minimumRebufferDuration&&(this._lastCheckedTime=null,this.pm.emit("rebufferstart",{viewer_time:this._lastPlayheadTimeUpdatedTime}),this.pm.emit("rebufferend",{viewer_time:this._lastPlayheadTimeUpdatedTime+s-i}))}n?this._prepareRebufferTrackerState(r.viewer_time):this._clearRebufferTrackerState()}}]),t})(),XMe=qMe,ZMe=(function(){function t(e){var r=this;Kc(this,t),dn(this,"pm",void 0),this.pm=e,e.on("viewinit",function(){var n=e.data,i=n.view_id;if(!n.view_program_changed){var s=function(a,c){var u=c.viewer_time;(a.type==="playing"&&typeof e.data.view_time_to_first_frame>"u"||a.type==="adplaying"&&(typeof e.data.view_time_to_first_frame>"u"||r._inPrerollPosition()))&&r.calculateTimeToFirstFrame(u||Ku.now(),i)};e.one("playing",s),e.one("adplaying",s),e.one("viewend",function(){e.off("playing",s),e.off("adplaying",s)})}})}return LA(t,[{key:"_inPrerollPosition",value:function(){return typeof this.pm.data.view_content_playback_time>"u"||this.pm.data.view_content_playback_time<=1e3}},{key:"calculateTimeToFirstFrame",value:function(e,r){r===this.pm.data.view_id&&(this.pm.watchTimeTracker._updateWatchTime(null,{viewer_time:e}),this.pm.data.view_time_to_first_frame=this.pm.data.view_watch_time,(this.pm.data.player_autoplay_on||this.pm.data.video_is_autoplay)&&this.pm.pageLoadInitTime&&(this.pm.data.view_aggregate_startup_time=this.pm.data.view_start+this.pm.data.view_watch_time-this.pm.pageLoadInitTime))}}]),t})(),JMe=ZMe,eFe=function t(e){var r=this;Kc(this,t),dn(this,"_lastPlayerHeight",void 0),dn(this,"_lastPlayerWidth",void 0),dn(this,"_lastPlayheadPosition",void 0),dn(this,"_lastSourceHeight",void 0),dn(this,"_lastSourceWidth",void 0),e.on("viewinit",function(){r._lastPlayheadPosition=-1});var n=["pause","rebufferstart","seeking","error","adbreakstart","hb","renditionchange","orientationchange","viewend","playbackmodechange"],i=["playing","hb","renditionchange","orientationchange","playbackmodechange"];n.forEach(function(s){e.on(s,function(){if(r._lastPlayheadPosition>=0&&e.data.player_playhead_time>=0&&r._lastPlayerWidth>=0&&r._lastSourceWidth>0&&r._lastPlayerHeight>=0&&r._lastSourceHeight>0){var a=e.data.player_playhead_time-r._lastPlayheadPosition;if(a<0){r._lastPlayheadPosition=-1;return}var c=Math.min(r._lastPlayerWidth/r._lastSourceWidth,r._lastPlayerHeight/r._lastSourceHeight),u=Math.max(0,c-1),o=Math.max(0,1-c);e.data.view_max_upscale_percentage=Math.max(e.data.view_max_upscale_percentage||0,u),e.data.view_max_downscale_percentage=Math.max(e.data.view_max_downscale_percentage||0,o),fu(e.data,"view_total_content_playback_time",a),fu(e.data,"view_total_upscaling",u*a),fu(e.data,"view_total_downscaling",o*a)}r._lastPlayheadPosition=-1})}),i.forEach(function(s){e.on(s,function(){r._lastPlayheadPosition=e.data.player_playhead_time,r._lastPlayerWidth=e.data.player_width,r._lastPlayerHeight=e.data.player_height,r._lastSourceWidth=e.data.video_source_width,r._lastSourceHeight=e.data.video_source_height})})},tFe=eFe,rFe=2e3,nFe=function t(e){var r=this;Kc(this,t),dn(this,"isSeeking",void 0),this.isSeeking=!1;var n=-1,i=function(){var s=Ku.now(),a=(e.data.viewer_time||s)-(n||s);fu(e.data,"view_seek_duration",a),e.data.view_max_seek_time=Math.max(e.data.view_max_seek_time||0,a),r.isSeeking=!1,n=-1};e.on("seeking",function(s,a){if(Object.assign(e.data,a),r.isSeeking&&a.viewer_time-n<=rFe){n=a.viewer_time;return}r.isSeeking&&i(),r.isSeeking=!0,n=a.viewer_time,fu(e.data,"view_seek_count",1),e.send("seeking")}),e.on("seeked",function(){i()}),e.on("viewend",function(){r.isSeeking&&(i(),e.send("seeked")),r.isSeeking=!1,n=-1})},iFe=nFe,TK=function(t,e){t.push(e),t.sort(function(r,n){return r.viewer_time-n.viewer_time})},sFe=["adbreakstart","adrequest","adresponse","adplay","adplaying","adpause","adended","adbreakend","aderror","adclicked","adskipped"],aFe=(function(){function t(e){var r=this;Kc(this,t),dn(this,"_adHasPlayed",void 0),dn(this,"_adRequests",void 0),dn(this,"_adResponses",void 0),dn(this,"_currentAdRequestNumber",void 0),dn(this,"_currentAdResponseNumber",void 0),dn(this,"_prerollPlayTime",void 0),dn(this,"_wouldBeNewAdPlay",void 0),dn(this,"isAdBreak",void 0),dn(this,"pm",void 0),this.pm=e,e.on("viewinit",function(){r.isAdBreak=!1,r._currentAdRequestNumber=0,r._currentAdResponseNumber=0,r._adRequests=[],r._adResponses=[],r._adHasPlayed=!1,r._wouldBeNewAdPlay=!0,r._prerollPlayTime=void 0}),sFe.forEach(function(i){return e.on(i,r._updateAdData.bind(r))});var n=function(){r.isAdBreak=!1};e.on("adbreakstart",function(){r.isAdBreak=!0}),e.on("play",n),e.on("playing",n),e.on("viewend",n),e.on("adrequest",function(i,s){s=Object.assign({ad_request_id:"generatedAdRequestId"+r._currentAdRequestNumber++},s),TK(r._adRequests,s),fu(e.data,"view_ad_request_count"),r.inPrerollPosition()&&(e.data.view_preroll_requested=!0,r._adHasPlayed||fu(e.data,"view_preroll_request_count"))}),e.on("adresponse",function(i,s){s=Object.assign({ad_request_id:"generatedAdRequestId"+r._currentAdResponseNumber++},s),TK(r._adResponses,s);var a=r.findAdRequest(s.ad_request_id);a&&fu(e.data,"view_ad_request_time",Math.max(0,s.viewer_time-a.viewer_time))}),e.on("adplay",function(i,s){r._adHasPlayed=!0,r._wouldBeNewAdPlay&&(r._wouldBeNewAdPlay=!1,fu(e.data,"view_ad_played_count")),r.inPrerollPosition()&&!e.data.view_preroll_played&&(e.data.view_preroll_played=!0,r._adRequests.length>0&&(e.data.view_preroll_request_time=Math.max(0,s.viewer_time-r._adRequests[0].viewer_time)),e.data.view_start&&(e.data.view_startup_preroll_request_time=Math.max(0,s.viewer_time-e.data.view_start)),r._prerollPlayTime=s.viewer_time)}),e.on("adplaying",function(i,s){r.inPrerollPosition()&&typeof e.data.view_preroll_load_time>"u"&&typeof r._prerollPlayTime<"u"&&(e.data.view_preroll_load_time=s.viewer_time-r._prerollPlayTime,e.data.view_startup_preroll_load_time=s.viewer_time-r._prerollPlayTime)}),e.on("adclicked",function(i,s){r._wouldBeNewAdPlay||fu(e.data,"view_ad_clicked_count")}),e.on("adskipped",function(i,s){r._wouldBeNewAdPlay||fu(e.data,"view_ad_skipped_count")}),e.on("adended",function(){r._wouldBeNewAdPlay=!0}),e.on("aderror",function(){r._wouldBeNewAdPlay=!0})}return LA(t,[{key:"inPrerollPosition",value:function(){return typeof this.pm.data.view_content_playback_time>"u"||this.pm.data.view_content_playback_time<=1e3}},{key:"findAdRequest",value:function(e){for(var r=0;r<this._adRequests.length;r++)if(this._adRequests[r].ad_request_id===e)return this._adRequests[r]}},{key:"_updateAdData",value:function(e,r){if(this.inPrerollPosition()){if(!this.pm.data.view_preroll_ad_tag_hostname&&r.ad_tag_url){var n=Gp(BE(r.ad_tag_url),2),i=n[0],s=n[1];this.pm.data.view_preroll_ad_tag_domain=s,this.pm.data.view_preroll_ad_tag_hostname=i}if(!this.pm.data.view_preroll_ad_asset_hostname&&r.ad_asset_url){var a=Gp(BE(r.ad_asset_url),2),c=a[0],u=a[1];this.pm.data.view_preroll_ad_asset_domain=u,this.pm.data.view_preroll_ad_asset_hostname=c}this.pm.data.ad_type="preroll"}this.pm.data.ad_asset_url=r?.ad_asset_url,this.pm.data.ad_tag_url=r?.ad_tag_url,this.pm.data.ad_creative_id=r?.ad_creative_id,this.pm.data.ad_id=r?.ad_id,this.pm.data.ad_universal_id=r?.ad_universal_id,r!=null&&r.ad_type&&(this.pm.data.ad_type=r?.ad_type)}}]),t})(),oFe=aFe,lFe=function t(e){var r=this;Kc(this,t),dn(this,"lastWallClockTime",void 0);var n=function(){r.lastWallClockTime=Ku.now(),e.on("before*",i)},i=function(s){var a=Ku.now(),c=r.lastWallClockTime;r.lastWallClockTime=a,a-c>3e4&&(e.emit("devicesleep",{viewer_time:c}),Object.assign(e.data,{viewer_time:c}),e.send("devicesleep"),e.emit("devicewake",{viewer_time:a}),Object.assign(e.data,{viewer_time:a}),e.send("devicewake"))};e.one("playbackheartbeat",n),e.on("playbackheartbeatend",function(){e.off("before*",i),e.one("playbackheartbeat",n)})},cFe=lFe,KB=Kf(Qm()),qre=(function(t){return t()})(function(){var t=function(){for(var r=0,n={};r<arguments.length;r++){var i=arguments[r];for(var s in i)n[s]=i[s]}return n};function e(r){function n(i,s,a){var c;if(typeof document<"u"){if(arguments.length>1){if(a=t({path:"/"},n.defaults,a),typeof a.expires=="number"){var u=new Date;u.setMilliseconds(u.getMilliseconds()+a.expires*864e5),a.expires=u}try{c=JSON.stringify(s),/^[\{\[]/.test(c)&&(s=c)}catch{}return r.write?s=r.write(s,i):s=encodeURIComponent(String(s)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),i=encodeURIComponent(String(i)),i=i.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),i=i.replace(/[\(\)]/g,escape),document.cookie=[i,"=",s,a.expires?"; expires="+a.expires.toUTCString():"",a.path?"; path="+a.path:"",a.domain?"; domain="+a.domain:"",a.secure?"; secure":""].join("")}i||(c={});for(var o=document.cookie?document.cookie.split("; "):[],d=/(%[0-9A-Z]{2})+/g,f=0;f<o.length;f++){var A=o[f].split("="),p=A.slice(1).join("=");p.charAt(0)==='"'&&(p=p.slice(1,-1));try{var g=A[0].replace(d,decodeURIComponent);if(p=r.read?r.read(p,g):r(p,g)||p.replace(d,decodeURIComponent),this.json)try{p=JSON.parse(p)}catch{}if(i===g){c=p;break}i||(c[g]=p)}catch{}}return c}}return n.set=n,n.get=function(i){return n.call(n,i)},n.getJSON=function(){return n.apply({json:!0},[].slice.call(arguments))},n.defaults={},n.remove=function(i,s){n(i,"",t(s,{expires:-1}))},n.withConverter=e,n}return e(function(){})}),Xre="muxData",uFe=function(t){return Object.entries(t).map(function(e){var r=Gp(e,2),n=r[0],i=r[1];return"".concat(n,"=").concat(i)}).join("&")},dFe=function(t){return t.split("&").reduce(function(e,r){var n=Gp(r.split("="),2),i=n[0],s=n[1],a=+s,c=s&&a==s?a:s;return e[i]=c,e},{})},Zre=function(){var t;try{t=dFe(qre.get(Xre)||"")}catch{t={}}return t},Jre=function(t){try{qre.set(Xre,uFe(t),{expires:365})}catch{}},hFe=function(){var t=Zre();return t.mux_viewer_id=t.mux_viewer_id||kE(),t.msn=t.msn||Math.random(),Jre(t),{mux_viewer_id:t.mux_viewer_id,mux_sample_number:t.msn}},fFe=function(){var t=Zre(),e=Ku.now();return t.session_start&&(t.sst=t.session_start,delete t.session_start),t.session_id&&(t.sid=t.session_id,delete t.session_id),t.session_expires&&(t.sex=t.session_expires,delete t.session_expires),(!t.sex||t.sex<e)&&(t.sid=kE(),t.sst=e),t.sex=e+1500*1e3,Jre(t),{session_id:t.sid,session_start:t.sst,session_expires:t.sex}};function AFe(t,e){var r=e.beaconCollectionDomain,n=e.beaconDomain;if(r)return"https://"+r;t=t||"inferred";var i=n||"litix.io";return t.match(/^[a-z0-9]+$/)?"https://"+t+"."+i:"https://img.litix.io/a.gif"}var mFe=Kf(Qm()),ene=function(){var t;switch(tne()){case"cellular":t="cellular";break;case"ethernet":t="wired";break;case"wifi":t="wifi";break;case void 0:break;default:t="other"}return t},tne=function(){var t=mFe.default.navigator,e=t&&(t.connection||t.mozConnection||t.webkitConnection);return e&&e.type};ene.getConnectionFromAPI=tne;var pFe=ene,gFe={a:"env",b:"beacon",c:"custom",d:"ad",e:"event",f:"experiment",i:"internal",m:"mux",n:"response",p:"player",q:"request",r:"retry",s:"session",t:"timestamp",u:"viewer",v:"video",w:"page",x:"view",y:"sub"},vFe=rne(gFe),yFe={ad:"ad",af:"affiliate",ag:"aggregate",ap:"api",al:"application",ao:"audio",ar:"architecture",as:"asset",au:"autoplay",av:"average",bi:"bitrate",bn:"brand",br:"break",bw:"browser",by:"bytes",bz:"business",ca:"cached",cb:"cancel",cc:"codec",cd:"code",cg:"category",ch:"changed",ci:"client",ck:"clicked",cl:"canceled",cm:"cmcd",cn:"config",co:"count",ce:"counter",cp:"complete",cq:"creator",cr:"creative",cs:"captions",ct:"content",cu:"current",cv:"cumulative",cx:"connection",cz:"context",da:"data",dg:"downscaling",dm:"domain",dn:"cdn",do:"downscale",dr:"drm",dp:"dropped",du:"duration",dv:"device",dy:"dynamic",eb:"enabled",ec:"encoding",ed:"edge",en:"end",eg:"engine",em:"embed",er:"error",ep:"experiments",es:"errorcode",et:"errortext",ee:"event",ev:"events",ex:"expires",ez:"exception",fa:"failed",fi:"first",fm:"family",ft:"format",fp:"fps",fq:"frequency",fr:"frame",fs:"fullscreen",ha:"has",hb:"holdback",he:"headers",ho:"host",hn:"hostname",ht:"height",id:"id",ii:"init",in:"instance",ip:"ip",is:"is",ke:"key",la:"language",lb:"labeled",le:"level",li:"live",ld:"loaded",lo:"load",ls:"lists",lt:"latency",ma:"max",md:"media",me:"message",mf:"manifest",mi:"mime",ml:"midroll",mm:"min",mn:"manufacturer",mo:"model",mp:"mode",ms:"ms",mx:"mux",ne:"newest",nm:"name",no:"number",on:"on",or:"origin",os:"os",pa:"paused",pb:"playback",pd:"producer",pe:"percentage",pf:"played",pg:"program",ph:"playhead",pi:"plugin",pl:"preroll",pn:"playing",po:"poster",pp:"pip",pr:"preload",ps:"position",pt:"part",pv:"previous",py:"property",px:"pop",pz:"plan",ra:"rate",rd:"requested",re:"rebuffer",rf:"rendition",rg:"range",rm:"remote",ro:"ratio",rp:"response",rq:"request",rs:"requests",sa:"sample",sd:"skipped",se:"session",sh:"shift",sk:"seek",sm:"stream",so:"source",sq:"sequence",sr:"series",ss:"status",st:"start",su:"startup",sv:"server",sw:"software",sy:"severity",ta:"tag",tc:"tech",te:"text",tg:"target",th:"throughput",ti:"time",tl:"total",to:"to",tt:"title",ty:"type",ug:"upscaling",un:"universal",up:"upscale",ur:"url",us:"user",va:"variant",vd:"viewed",vi:"video",ve:"version",vw:"view",vr:"viewer",wd:"width",wa:"watch",wt:"waiting"},CK=rne(yFe);function rne(t){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[t[r]]=r);return e}function BR(t){var e={},r={};return Object.keys(t).forEach(function(n){var i=!1;if(t.hasOwnProperty(n)&&t[n]!==void 0){var s=n.split("_"),a=s[0],c=vFe[a];c||(Lo.info("Data key word `"+s[0]+"` not expected in "+n),c=a+"_"),s.splice(1).forEach(function(u){u==="url"&&(i=!0),CK[u]?c+=CK[u]:Number.isInteger(Number(u))?c+=u:(Lo.info("Data key word `"+u+"` not expected in "+n),c+="_"+u+"_")}),i?r[c]=t[n]:e[c]=t[n]}}),Object.assign(e,r)}var Nv=Kf(Qm()),xFe=Kf(Kre()),bFe={maxBeaconSize:300,maxQueueLength:3600,baseTimeBetweenBeacons:1e4,maxPayloadKBSize:500},wFe=56*1024,EFe=["hb","requestcompleted","requestfailed","requestcanceled"],SFe="https://img.litix.io",ng=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this._beaconUrl=t||SFe,this._eventQueue=[],this._postInFlight=!1,this._resendAfterPost=!1,this._failureCount=0,this._sendTimeout=!1,this._options=Object.assign({},bFe,e)};ng.prototype.queueEvent=function(t,e){var r=Object.assign({},e);return this._eventQueue.length<=this._options.maxQueueLength||t==="eventrateexceeded"?(this._eventQueue.push(r),this._sendTimeout||this._startBeaconSending(),this._eventQueue.length<=this._options.maxQueueLength):!1};ng.prototype.flushEvents=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(t&&this._eventQueue.length===1){this._eventQueue.pop();return}this._eventQueue.length&&this._sendBeaconQueue(),this._startBeaconSending()};ng.prototype.destroy=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.destroyed=!0,t?this._clearBeaconQueue():this.flushEvents(),Nv.default.clearTimeout(this._sendTimeout)};ng.prototype._clearBeaconQueue=function(){var t=this._eventQueue.length>this._options.maxBeaconSize?this._eventQueue.length-this._options.maxBeaconSize:0,e=this._eventQueue.slice(t);t>0&&Object.assign(e[e.length-1],BR({mux_view_message:"event queue truncated"}));var r=this._createPayload(e);nne(this._beaconUrl,r,!0,function(){})};ng.prototype._sendBeaconQueue=function(){var t=this;if(this._postInFlight){this._resendAfterPost=!0;return}var e=this._eventQueue.slice(0,this._options.maxBeaconSize);this._eventQueue=this._eventQueue.slice(this._options.maxBeaconSize),this._postInFlight=!0;var r=this._createPayload(e),n=Ku.now();nne(this._beaconUrl,r,!1,function(i,s){s?(t._eventQueue=e.concat(t._eventQueue),t._failureCount+=1,Lo.info("Error sending beacon: "+s)):t._failureCount=0,t._roundTripTime=Ku.now()-n,t._postInFlight=!1,t._resendAfterPost&&(t._resendAfterPost=!1,t._eventQueue.length>0&&t._sendBeaconQueue())})};ng.prototype._getNextBeaconTime=function(){if(!this._failureCount)return this._options.baseTimeBetweenBeacons;var t=Math.pow(2,this._failureCount-1);return t=t*Math.random(),(1+t)*this._options.baseTimeBetweenBeacons};ng.prototype._startBeaconSending=function(){var t=this;Nv.default.clearTimeout(this._sendTimeout),!this.destroyed&&(this._sendTimeout=Nv.default.setTimeout(function(){t._eventQueue.length&&t._sendBeaconQueue(),t._startBeaconSending()},this._getNextBeaconTime()))};ng.prototype._createPayload=function(t){var e=this,r={transmission_timestamp:Math.round(Ku.now())};this._roundTripTime&&(r.rtt_ms=Math.round(this._roundTripTime));var n,i,s,a=function(){n=JSON.stringify({metadata:r,events:i||t}),s=n.length/1024},c=function(){return s<=e._options.maxPayloadKBSize};return a(),c()||(Lo.info("Payload size is too big ("+s+" kb). Removing unnecessary events."),i=t.filter(function(u){return EFe.indexOf(u.e)===-1}),a()),c()||(Lo.info("Payload size still too big ("+s+" kb). Cropping fields.."),i.forEach(function(u){for(var o in u){var d=u[o],f=50*1024;typeof d=="string"&&d.length>f&&(u[o]=d.substring(0,f))}}),a()),n};var _Fe=typeof xFe.default.exitPictureInPicture=="function"?function(t){return t.length<=wFe}:function(t){return!1},nne=function(t,e,r,n){if(r&&navigator&&navigator.sendBeacon&&navigator.sendBeacon(t,e)){n();return}if(Nv.default.fetch){Nv.default.fetch(t,{method:"POST",body:e,headers:{"Content-Type":"text/plain"},keepalive:_Fe(e)}).then(function(s){return n(null,s.ok?null:"Error")}).catch(function(s){return n(null,s)});return}if(Nv.default.XMLHttpRequest){var i=new Nv.default.XMLHttpRequest;i.onreadystatechange=function(){if(i.readyState===4)return n(null,i.status!==200?"error":void 0)},i.open("POST",t),i.setRequestHeader("Content-Type","text/plain"),i.send(e);return}n()},TFe=ng,CFe=["env_key","view_id","view_sequence_number","player_sequence_number","beacon_domain","player_playhead_time","viewer_time","mux_api_version","event","video_id","player_instance_id","player_error_code","player_error_message","player_error_context","player_error_severity","player_error_business_exception","view_playing_time_ms_cumulative","ad_playing_time_ms_cumulative"],jFe=["adplay","adplaying","adpause","adfirstquartile","admidpoint","adthirdquartile","adended","adresponse","adrequest"],NFe=["ad_id","ad_creative_id","ad_universal_id"],IFe=["viewstart","error","ended","viewend"],kFe=600*1e3,BFe=(function(){function t(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Kc(this,t);var i,s,a,c,u,o,d,f,A,p,g,y;dn(this,"mux",void 0),dn(this,"envKey",void 0),dn(this,"options",void 0),dn(this,"eventQueue",void 0),dn(this,"sampleRate",void 0),dn(this,"disableCookies",void 0),dn(this,"respectDoNotTrack",void 0),dn(this,"previousBeaconData",void 0),dn(this,"lastEventTime",void 0),dn(this,"rateLimited",void 0),dn(this,"pageLevelData",void 0),dn(this,"viewerData",void 0),this.mux=e,this.envKey=r,this.options=n,this.previousBeaconData=null,this.lastEventTime=0,this.rateLimited=!1,this.eventQueue=new TFe(AFe(this.envKey,this.options));var v;this.sampleRate=(v=this.options.sampleRate)!==null&&v!==void 0?v:1;var b;this.disableCookies=(b=this.options.disableCookies)!==null&&b!==void 0?b:!1;var w;this.respectDoNotTrack=(w=this.options.respectDoNotTrack)!==null&&w!==void 0?w:!1,this.previousBeaconData=null,this.lastEventTime=0,this.rateLimited=!1,this.pageLevelData={mux_api_version:this.mux.API_VERSION,mux_embed:this.mux.NAME,mux_embed_version:this.mux.VERSION,viewer_application_name:(i=this.options.platform)===null||i===void 0?void 0:i.name,viewer_application_version:(s=this.options.platform)===null||s===void 0?void 0:s.version,viewer_application_engine:(a=this.options.platform)===null||a===void 0?void 0:a.layout,viewer_device_name:(c=this.options.platform)===null||c===void 0?void 0:c.product,viewer_device_category:"",viewer_device_manufacturer:(u=this.options.platform)===null||u===void 0?void 0:u.manufacturer,viewer_os_family:(d=this.options.platform)===null||d===void 0||(o=d.os)===null||o===void 0?void 0:o.family,viewer_os_architecture:(A=this.options.platform)===null||A===void 0||(f=A.os)===null||f===void 0?void 0:f.architecture,viewer_os_version:(g=this.options.platform)===null||g===void 0||(p=g.os)===null||p===void 0?void 0:p.version,viewer_connection_type:pFe(),page_url:KB.default===null||KB.default===void 0||(y=KB.default.location)===null||y===void 0?void 0:y.href},this.viewerData=this.disableCookies?{}:hFe()}return LA(t,[{key:"send",value:function(e,r){if(!(!e||!(r!=null&&r.view_id))){if(this.respectDoNotTrack&&IR())return Lo.info("Not sending `"+e+"` because Do Not Track is enabled");if(!r||typeof r!="object")return Lo.error("A data object was expected in send() but was not provided");var n=this.disableCookies?{}:fFe(),i=PM(xj({},this.pageLevelData,r,n,this.viewerData),{event:e,env_key:this.envKey});i.user_id&&(i.viewer_user_id=i.user_id,delete i.user_id);var s,a=((s=i.mux_sample_number)!==null&&s!==void 0?s:0)>=this.sampleRate,c=this._deduplicateBeaconData(e,i),u=BR(c);if(this.lastEventTime=this.mux.utils.now(),a)return Lo.info("Not sending event due to sample rate restriction",e,i,u);if(this.envKey||Lo.info("Missing environment key (envKey) - beacons will be dropped if the video source is not a valid mux video URL",e,i,u),!this.rateLimited)if(Lo.info("Sending event",e,i,u),this.rateLimited=!this.eventQueue.queueEvent(e,u),this.mux.WINDOW_UNLOADING&&e==="viewend")this.eventQueue.destroy(!0);else{if(this.mux.WINDOW_HIDDEN&&e==="hb")this.eventQueue.flushEvents(!0);else if(IFe.indexOf(e)>=0){if(e==="error"&&r.player_error_severity==="warning")return;this.eventQueue.flushEvents()}if(this.rateLimited)return i.event="eventrateexceeded",u=BR(i),this.eventQueue.queueEvent(i.event,u),Lo.error("Beaconing disabled due to rate limit.")}}}},{key:"destroy",value:function(){this.eventQueue.destroy(!1)}},{key:"_deduplicateBeaconData",value:function(e,r){var n=this,i={},s=r.view_id;if(s==="-1"||e==="viewstart"||e==="viewend"||!this.previousBeaconData||this.mux.utils.now()-this.lastEventTime>=kFe)i=xj({},r),s&&(this.previousBeaconData=i),s&&e==="viewend"&&(this.previousBeaconData=null);else{var a=e.indexOf("request")===0;Object.entries(r).forEach(function(c){var u=Gp(c,2),o=u[0],d=u[1];n.previousBeaconData&&(d!==n.previousBeaconData[o]||CFe.indexOf(o)>-1||n.objectHasChanged(a,o,d,n.previousBeaconData[o])||n.eventRequiresKey(e,o))&&(i[o]=d,n.previousBeaconData[o]=d)})}return i}},{key:"objectHasChanged",value:function(e,r,n,i){return!e||r.indexOf("request_")!==0?!1:r==="request_response_headers"||typeof n!="object"||typeof i!="object"?!0:Object.keys(n||{}).length!==Object.keys(i||{}).length}},{key:"eventRequiresKey",value:function(e,r){return!!(e==="renditionchange"&&r.indexOf("video_source_")===0||NFe.includes(r)&&jFe.includes(e))}}]),t})(),LFe=function t(e){Kc(this,t);var r=0,n=0,i=0,s=0,a=0,c=0,u=0,o=function(A,p){var g=p.request_start,y=p.request_response_start,v=p.request_response_end,b=p.request_bytes_loaded;s++;var w,S;if(y?(w=y-(g??0),S=(v??0)-y):S=(v??0)-(g??0),S>0&&b&&b>0){var _=b/S*8e3;a++,n+=b,i+=S,e.data.view_min_request_throughput=Math.min(e.data.view_min_request_throughput||1/0,_),e.data.view_average_request_throughput=n/i*8e3,e.data.view_request_count=s,w>0&&(r+=w,e.data.view_max_request_latency=Math.max(e.data.view_max_request_latency||0,w),e.data.view_average_request_latency=r/a)}},d=function(A,p){s++,c++,e.data.view_request_count=s,e.data.view_request_failed_count=c},f=function(A,p){s++,u++,e.data.view_request_count=s,e.data.view_request_canceled_count=u};e.on("requestcompleted",o),e.on("requestfailed",d),e.on("requestcanceled",f)},RFe=LFe,OFe=3600*1e3,PFe=function t(e){var r=this;Kc(this,t),dn(this,"_lastEventTime",void 0),e.on("before*",function(n,i){var s=i.viewer_time,a=Ku.now(),c=r._lastEventTime;if(r._lastEventTime=a,c&&a-c>OFe){var u=Object.keys(e.data).reduce(function(d,f){return f.indexOf("video_")===0?Object.assign(d,dn({},f,e.data[f])):d},{});e.mux.log.info("Received event after at least an hour inactivity, creating a new view");var o=e.playbackHeartbeat._playheadShouldBeProgressing;e._resetView(Object.assign({viewer_time:s},u)),e.playbackHeartbeat._playheadShouldBeProgressing=o,e.playbackHeartbeat._playheadShouldBeProgressing&&n.type!=="play"&&n.type!=="adbreakstart"&&(e.emit("play",{viewer_time:s}),n.type!=="playing"&&e.emit("playing",{viewer_time:s}))}})},DFe=PFe,MFe=function t(e){Kc(this,t);var r=function(c){var u=FFe(c),o=UFe(c);if(u!=null&&!jK(u,s)&&a<=o){s=u,a=o;var d={video_cdn:u};e.emit("cdnchange",d)}},n=null,i=null,s=null,a=0;e.on("viewinit",function(){n=null,i=null,s=null,a=0}),e.on("beforecdnchange",function(c,u){var o=u?.video_cdn;o&&(typeof u.video_previous_cdn>"u"||u.video_previous_cdn===null)&&(jK(o,i)?u.video_previous_cdn=n??void 0:(u.video_previous_cdn=i??void 0,n=i,i=o))}),e.on("requestcompleted",function(c,u){r(u)})};function jK(t,e){return t?.toLowerCase()===e?.toLowerCase()}function FFe(t){var e;return t!=null&&t.request_type&&(t.request_type==="media"||t.request_type==="video")&&!((e=t.request_response_headers)===null||e===void 0)&&e["x-cdn"]?t.request_response_headers["x-cdn"]:t!=null&&t.video_cdn?t.video_cdn:null}function UFe(t){return t!=null&&t.request_start?t.request_start:t!=null&&t.viewer_time?t.viewer_time:Date.now()}var $Fe=MFe,HFe=function(t){try{return JSON.parse(t),!0}catch{return!1}},QFe=function t(e){var r=this;Kc(this,t),dn(this,"_emittingAutomaticEvent",!1),dn(this,"_hasInitialized",!1),dn(this,"_currentMode","standard"),e.on("viewstart",function(){r._hasInitialized||(r._hasInitialized=!0,r._currentMode=e.data.player_playback_mode||"standard",r._emittingAutomaticEvent=!0,e.emit("playbackmodechange",{player_playback_mode:r._currentMode,player_playback_mode_data:"{}"}),r._emittingAutomaticEvent=!1)}),e.on("viewend",function(){r._hasInitialized=!1}),e.on("playbackmodechange",function(n,i){r._emittingAutomaticEvent||(i.player_playback_mode_data?HFe(i.player_playback_mode_data)||(e.mux.log.warn("Invalid JSON string for player_playback_mode_data"),i.player_playback_mode_data="{}"):i.player_playback_mode_data="{}",e.data.player_playback_mode_data=i.player_playback_mode_data,e.data.player_playback_mode=i.player_playback_mode,r._currentMode=i.player_playback_mode)})},VFe=QFe,KFe=(function(){function t(e){Kc(this,t),dn(this,"pm",void 0),dn(this,"_currentRangeStart",void 0),dn(this,"_lastPlayheadTime",void 0),this.pm=e,this._currentRangeStart=null,this._lastPlayheadTime=null,e.on("playbackheartbeat",this._updatePlaybackRange.bind(this)),e.on("playbackheartbeatend",this._endPlaybackRange.bind(this))}return LA(t,[{key:"_updateLastRangeEnd",value:function(){var e=this.pm.data.video_playback_ranges;if(e&&e.length>0){var r=this.pm.data.player_playhead_time||0;e[e.length-1][1]=r}}},{key:"_updatePlaybackRange",value:function(){var e,r=this.pm.data.player_playhead_time||0;if(!(!this.pm.disableAdPlaybackRangeFiltering&&!((e=this.pm.adTracker)===null||e===void 0)&&e.isAdBreak&&this._lastPlayheadTime!==null&&r<this._lastPlayheadTime)){if(this._lastPlayheadTime!==null&&this._currentRangeStart!==null){var n=Math.abs(r-this._lastPlayheadTime);if(n>1e3){var i=this.pm.data.video_playback_ranges;i&&i.length>0&&(i[i.length-1][1]=this._lastPlayheadTime),this._currentRangeStart=null}}if(this._currentRangeStart===null){var s=this.pm.data.video_playback_ranges||[];s.length>0&&s[s.length-1][1]===r?this._currentRangeStart=s[s.length-1][0]:(this._currentRangeStart=r,s.push([r,r])),this.pm.data.video_playback_ranges=s}else this._updateLastRangeEnd();this._lastPlayheadTime=r}}},{key:"_endPlaybackRange",value:function(){this._currentRangeStart!==null&&(this._updateLastRangeEnd(),this._currentRangeStart=null,this._lastPlayheadTime=null)}}]),t})(),GFe=KFe,zFe=["viewstart","ended","loadstart","pause","play","playing","ratechange","waiting","adplay","adpause","adended","aderror","adplaying","adrequest","adresponse","adbreakstart","adbreakend","adfirstquartile","admidpoint","adthirdquartile","rebufferstart","rebufferend","seeked","error","hb","requestcompleted","requestfailed","requestcanceled","renditionchange","cdnchange","playbackmodechange"],WFe=new Set(["requestcompleted","requestfailed","requestcanceled"]),YFe=(function(t){vMe(r,t);var e=EMe(r);function r(n,i,s){Kc(this,r);var a;a=e.call(this),dn(Vi(a),"pageLoadEndTime",void 0),dn(Vi(a),"pageLoadInitTime",void 0),dn(Vi(a),"_destroyed",void 0),dn(Vi(a),"_heartBeatTimeout",void 0),dn(Vi(a),"adTracker",void 0),dn(Vi(a),"dashjs",void 0),dn(Vi(a),"data",void 0),dn(Vi(a),"disablePlayheadRebufferTracking",void 0),dn(Vi(a),"disableRebufferTracking",void 0),dn(Vi(a),"disableAdPlaybackRangeFiltering",void 0),dn(Vi(a),"errorTracker",void 0),dn(Vi(a),"errorTranslator",void 0),dn(Vi(a),"emitTranslator",void 0),dn(Vi(a),"getAdData",void 0),dn(Vi(a),"getPlayheadTime",void 0),dn(Vi(a),"getStateData",void 0),dn(Vi(a),"stateDataTranslator",void 0),dn(Vi(a),"hlsjs",void 0),dn(Vi(a),"id",void 0),dn(Vi(a),"longResumeTracker",void 0),dn(Vi(a),"minimumRebufferDuration",void 0),dn(Vi(a),"mux",void 0),dn(Vi(a),"playbackEventDispatcher",void 0),dn(Vi(a),"playbackHeartbeat",void 0),dn(Vi(a),"playbackHeartbeatTime",void 0),dn(Vi(a),"playheadTime",void 0),dn(Vi(a),"seekingTracker",void 0),dn(Vi(a),"sustainedRebufferThreshold",void 0),dn(Vi(a),"watchTimeTracker",void 0),dn(Vi(a),"currentFragmentPDT",void 0),dn(Vi(a),"currentFragmentStart",void 0),a.pageLoadInitTime=yj.navigationStart(),a.pageLoadEndTime=yj.domContentLoadedEventEnd();var c={debug:!1,minimumRebufferDuration:250,sustainedRebufferThreshold:1e3,playbackHeartbeatTime:25,beaconDomain:"litix.io",sampleRate:1,disableCookies:!1,respectDoNotTrack:!1,disableRebufferTracking:!1,disablePlayheadRebufferTracking:!1,disableAdPlaybackRangeFiltering:!1,errorTranslator:function(A){return A},emitTranslator:function(){for(var A=arguments.length,p=new Array(A),g=0;g<A;g++)p[g]=arguments[g];return p},stateDataTranslator:function(A){return A}};a.mux=n,a.id=i,s!=null&&s.beaconDomain&&a.mux.log.warn("The `beaconDomain` setting has been deprecated in favor of `beaconCollectionDomain`. Please change your integration to use `beaconCollectionDomain` instead of `beaconDomain`."),s=Object.assign(c,s),s.data=s.data||{},s.data.property_key&&(s.data.env_key=s.data.property_key,delete s.data.property_key),Lo.level=s.debug?xv.DEBUG:xv.WARN,a.getPlayheadTime=s.getPlayheadTime,a.getStateData=s.getStateData||function(){return{}},a.getAdData=s.getAdData||function(){},a.minimumRebufferDuration=s.minimumRebufferDuration,a.sustainedRebufferThreshold=s.sustainedRebufferThreshold,a.playbackHeartbeatTime=s.playbackHeartbeatTime,a.disableRebufferTracking=s.disableRebufferTracking,a.disableRebufferTracking&&a.mux.log.warn("Disabling rebuffer tracking. This should only be used in specific circumstances as a last resort when your player is known to unreliably track rebuffering."),a.disablePlayheadRebufferTracking=s.disablePlayheadRebufferTracking,a.disableAdPlaybackRangeFiltering=s.disableAdPlaybackRangeFiltering,a.errorTranslator=s.errorTranslator,a.emitTranslator=s.emitTranslator,a.stateDataTranslator=s.stateDataTranslator,a.playbackEventDispatcher=new BFe(n,s.data.env_key,s),a.data={player_instance_id:kE(),mux_sample_rate:s.sampleRate,beacon_domain:s.beaconCollectionDomain||s.beaconDomain},a.data.view_sequence_number=1,a.data.player_sequence_number=1;var u=(function(){typeof this.data.view_start>"u"&&(this.data.view_start=this.mux.utils.now(),this.emit("viewstart"),this.emit("renditionchange"))}).bind(Vi(a));if(a.on("viewinit",function(A,p){this._resetVideoData(),this._resetViewData(),this._resetErrorData(),this._updateStateData(),Object.assign(this.data,p),this._initializeViewData(),this.one("play",u),this.one("adbreakstart",u)}),a.on("videochange",function(A,p){this._resetView(p)}),a.on("programchange",function(A,p){this.data.player_is_paused&&this.mux.log.warn("The `programchange` event is intended to be used when the content changes mid playback without the video source changing, however the video is not currently playing. If the video source is changing please use the videochange event otherwise you will lose startup time information."),this._resetView(Object.assign(p,{view_program_changed:!0})),u(),this.emit("play"),this.emit("playing")}),a.on("fragmentchange",function(A,p){this.currentFragmentPDT=p.currentFragmentPDT,this.currentFragmentStart=p.currentFragmentStart}),a.on("destroy",a.destroy),typeof window<"u"&&typeof window.addEventListener=="function"&&typeof window.removeEventListener=="function"){var o=function(){var A=typeof a.data.view_start<"u";a.mux.WINDOW_HIDDEN=document.visibilityState==="hidden",A&&a.mux.WINDOW_HIDDEN&&(a.data.player_is_paused||a.emit("hb"))};window.addEventListener("visibilitychange",o,!1);var d=function(A){A.persisted||a.destroy()};window.addEventListener("pagehide",d,!1),a.on("destroy",function(){window.removeEventListener("visibilitychange",o),window.removeEventListener("pagehide",d)})}a.on("playerready",function(A,p){Object.assign(this.data,p)}),zFe.forEach(function(A){a.on(A,function(p,g){A.indexOf("ad")!==0&&this._updateStateData(),Object.assign(this.data,g),this._sanitizeData()}),a.on("after"+A,function(){(A!=="error"||this.errorTracker.viewErrored)&&this.send(A)})}),a.on("viewend",function(A,p){Object.assign(a.data,p)});var f=function(A){var p=this.mux.utils.now();this.data.player_init_time&&(this.data.player_startup_time=p-this.data.player_init_time),this.pageLoadInitTime=this.data.page_load_init_time||this.pageLoadInitTime,this.pageLoadEndTime=this.data.page_load_end_time||this.pageLoadEndTime,!this.mux.PLAYER_TRACKED&&this.pageLoadInitTime&&(this.mux.PLAYER_TRACKED=!0,(this.data.player_init_time||this.pageLoadEndTime)&&(this.data.page_load_time=Math.min(this.data.player_init_time||1/0,this.pageLoadEndTime||1/0)-this.pageLoadInitTime)),this.send("playerready"),delete this.data.player_startup_time,delete this.data.page_load_time};return a.one("playerready",f),a.longResumeTracker=new DFe(Vi(a)),a.errorTracker=new $Me(Vi(a)),new cFe(Vi(a)),a.seekingTracker=new iFe(Vi(a)),a.playheadTime=new zMe(Vi(a)),a.playbackHeartbeat=new FMe(Vi(a)),new tFe(Vi(a)),a.watchTimeTracker=new QMe(Vi(a)),new KMe(Vi(a)),new GFe(Vi(a)),a.adTracker=new oFe(Vi(a)),new XMe(Vi(a)),new YMe(Vi(a)),new JMe(Vi(a)),new RFe(Vi(a)),new $Fe(Vi(a)),new VFe(Vi(a)),s.hlsjs&&a.addHLSJS(s),s.dashjs&&a.addDashJS(s),a.emit("viewinit",s.data),a}return LA(r,[{key:"emit",value:function(n,i){var s,a=Object.assign({viewer_time:this.mux.utils.now()},i),c=[n,a];if(this.emitTranslator)try{c=this.emitTranslator(n,a)}catch(u){this.mux.log.warn("Exception in emit translator callback.",u)}c!=null&&c.length&&(s=O_(jb(r.prototype),"emit",this)).call.apply(s,[this].concat(dA(c)))}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,typeof this.data.view_start<"u"&&(this.emit("viewend"),this.send("viewend")),this.playbackEventDispatcher.destroy(),this.removeHLSJS(),this.removeDashJS(),window.clearTimeout(this._heartBeatTimeout))}},{key:"send",value:function(n){if(this.data.view_id){var i=Object.assign({},this.data),s=["player_program_time","player_manifest_newest_program_time","player_live_edge_program_time","player_program_time","video_holdback","video_part_holdback","video_target_duration","video_part_target_duration"];if(i.video_source_is_live===void 0&&(i.player_source_duration===1/0||i.video_source_duration===1/0?i.video_source_is_live=!0:(i.player_source_duration>0||i.video_source_duration>0)&&(i.video_source_is_live=!1)),i.video_source_is_live||s.forEach(function(o){i[o]=void 0}),i.video_source_url=i.video_source_url||i.player_source_url,i.video_source_url){var a=Gp(BE(i.video_source_url),2),c=a[0],u=a[1];i.video_source_domain=u,i.video_source_hostname=c}delete i.ad_request_id,i.video_playback_ranges&&(i.video_playback_range=JSON.stringify(i.video_playback_ranges.filter(function(o){return o[0]!==o[1]}).map(function(o){return"".concat(o[0],":").concat(o[1])})),delete i.video_playback_ranges),this.playbackEventDispatcher.send(n,i),this.data.view_sequence_number++,this.data.player_sequence_number++,WFe.has(n)||this._restartHeartBeat(),n==="viewend"&&delete this.data.view_id}}},{key:"_resetView",value:function(n){this.emit("viewend"),this.send("viewend"),this.emit("viewinit",n)}},{key:"_updateStateData",value:function(){var n,i=this.getStateData();if(typeof this.stateDataTranslator=="function")try{i=this.stateDataTranslator(i)}catch(a){this.mux.log.warn("Exception in stateDataTranslator translator callback.",a)}if(!((n=this.data)===null||n===void 0)&&n.video_cdn&&i!=null&&i.video_cdn){i.video_cdn;var s=xMe(i,["video_cdn"]);i=s}Object.assign(this.data,i),this.playheadTime._updatePlayheadTime(),this._sanitizeData()}},{key:"_sanitizeData",value:function(){var n=this,i=["player_width","player_height","video_source_width","video_source_height","player_playhead_time","video_source_bitrate"];i.forEach(function(a){var c=parseInt(n.data[a],10);n.data[a]=isNaN(c)?void 0:c});var s=["player_source_url","video_source_url"];s.forEach(function(a){if(n.data[a]){var c=n.data[a].toLowerCase();(c.indexOf("data:")===0||c.indexOf("blob:")===0)&&(n.data[a]="MSE style URL")}})}},{key:"_resetVideoData",value:function(){var n=this;Object.keys(this.data).forEach(function(i){i.indexOf("video_")===0&&delete n.data[i]})}},{key:"_resetViewData",value:function(){var n=this;Object.keys(this.data).forEach(function(i){i.indexOf("view_")===0&&delete n.data[i]}),this.data.view_sequence_number=1}},{key:"_resetErrorData",value:function(){delete this.data.player_error_code,delete this.data.player_error_message,delete this.data.player_error_context,delete this.data.player_error_severity,delete this.data.player_error_business_exception}},{key:"_initializeViewData",value:function(){var n=this,i=this.data.view_id=kE(),s=function(){i===n.data.view_id&&fu(n.data,"player_view_count",1)};this.data.player_is_paused?this.one("play",s):s()}},{key:"_restartHeartBeat",value:function(){var n=this;window.clearTimeout(this._heartBeatTimeout),this._heartBeatTimeout=window.setTimeout(function(){n.data.player_is_paused||n.emit("hb")},1e4)}},{key:"addHLSJS",value:function(n){if(!n.hlsjs){this.mux.log.warn("You must pass a valid hlsjs instance in order to track it.");return}if(this.hlsjs){this.mux.log.warn("An instance of HLS.js is already being monitored for this player.");return}this.hlsjs=n.hlsjs,NMe(this.mux,this.id,n.hlsjs,{},n.Hls||window.Hls)}},{key:"removeHLSJS",value:function(){this.hlsjs&&(IMe(this.hlsjs),this.hlsjs=void 0)}},{key:"addDashJS",value:function(n){if(!n.dashjs){this.mux.log.warn("You must pass a valid dashjs instance in order to track it.");return}if(this.dashjs){this.mux.log.warn("An instance of Dash.js is already being monitored for this player.");return}this.dashjs=n.dashjs,RMe(this.mux,this.id,n.dashjs)}},{key:"removeDashJS",value:function(){this.dashjs&&(OMe(this.dashjs),this.dashjs=void 0)}}]),r})(DMe),qFe=YFe,F1=Kf(Kre());function GB(){return F1.default&&!!(F1.default.fullscreenElement||F1.default.webkitFullscreenElement||F1.default.mozFullScreenElement||F1.default.msFullscreenElement)}var XFe=["loadstart","pause","play","playing","seeking","seeked","timeupdate","ratechange","stalled","waiting","error","ended"],ZFe={1:"MEDIA_ERR_ABORTED",2:"MEDIA_ERR_NETWORK",3:"MEDIA_ERR_DECODE",4:"MEDIA_ERR_SRC_NOT_SUPPORTED"};function JFe(t,e,r){var n=Gp(vj(e),3),i=n[0],s=n[1],a=n[2],c=t.log,u=t.utils.getComputedStyle,o=t.utils.secondsToMs,d={automaticErrorTracking:!0};if(i){if(a!=="video"&&a!=="audio")return c.error("The element of `"+s+"` was not a media element.")}else return c.error("No element was found with the `"+s+"` query selector.");i.mux&&(i.mux.destroy(),delete i.mux,c.warn("Already monitoring this video element, replacing existing event listeners"));var f={getPlayheadTime:function(){return o(i.currentTime)},getStateData:function(){var p,g,y,v=((p=(g=this).getPlayheadTime)===null||p===void 0?void 0:p.call(g))||o(i.currentTime),b=this.hlsjs&&this.hlsjs.url,w=this.dashjs&&typeof this.dashjs.getSource=="function"&&this.dashjs.getSource(),S={player_is_paused:i.paused,player_width:parseInt(u(i,"width")),player_height:parseInt(u(i,"height")),player_autoplay_on:i.autoplay,player_preload_on:i.preload,player_language_code:i.lang,player_is_fullscreen:GB(),video_poster_url:i.poster,video_source_url:b||w||i.currentSrc,video_source_duration:o(i.duration),video_source_height:i.videoHeight,video_source_width:i.videoWidth,view_dropped_frame_count:i==null||(y=i.getVideoPlaybackQuality)===null||y===void 0?void 0:y.call(i).droppedVideoFrames};if(i.getStartDate&&v>0){var _=i.getStartDate();if(_&&typeof _.getTime=="function"&&_.getTime()){var T=_.getTime();if(S.player_program_time=T+v,i.seekable.length>0){var L=T+i.seekable.end(i.seekable.length-1);S.player_live_edge_program_time=L}}}return S}};r=Object.assign(d,r,f),r.data=Object.assign({player_software:"HTML5 Video Element",player_mux_plugin_name:"VideoElementMonitor",player_mux_plugin_version:t.VERSION},r.data),i.mux=i.mux||{},i.mux.deleted=!1,i.mux.emit=function(p,g){t.emit(s,p,g)},i.mux.updateData=function(p){i.mux.emit("hb",p)};var A=function(){c.error("The monitor for this video element has already been destroyed.")};i.mux.destroy=function(){Object.keys(i.mux.listeners).forEach(function(p){i.removeEventListener(p,i.mux.listeners[p],!1)}),delete i.mux.listeners,i.mux.fullscreenChangeListener&&(document.removeEventListener("fullscreenchange",i.mux.fullscreenChangeListener,!1),delete i.mux.fullscreenChangeListener),i.mux.destroy=A,i.mux.swapElement=A,i.mux.emit=A,i.mux.addHLSJS=A,i.mux.addDashJS=A,i.mux.removeHLSJS=A,i.mux.removeDashJS=A,i.mux.updateData=A,i.mux.setEmitTranslator=A,i.mux.setStateDataTranslator=A,i.mux.setGetPlayheadTime=A,i.mux.deleted=!0,t.emit(s,"destroy")},i.mux.swapElement=function(p){var g=Gp(vj(p),3),y=g[0],v=g[1],b=g[2];if(y){if(b!=="video"&&b!=="audio")return t.log.error("The element of `"+v+"` was not a media element.")}else return t.log.error("No element was found with the `"+v+"` query selector.");y.muxId=i.muxId,delete i.muxId,y.mux=y.mux||{},y.mux.listeners=Object.assign({},i.mux.listeners),delete i.mux.listeners,Object.keys(y.mux.listeners).forEach(function(w){i.removeEventListener(w,y.mux.listeners[w],!1),y.addEventListener(w,y.mux.listeners[w],!1)}),y.mux.fullscreenChangeListener=i.mux.fullscreenChangeListener,delete i.mux.fullscreenChangeListener,y.mux.swapElement=i.mux.swapElement,y.mux.destroy=i.mux.destroy,delete i.mux,i=y},i.mux.addHLSJS=function(p){t.addHLSJS(s,p)},i.mux.addDashJS=function(p){t.addDashJS(s,p)},i.mux.removeHLSJS=function(){t.removeHLSJS(s)},i.mux.removeDashJS=function(){t.removeDashJS(s)},i.mux.setEmitTranslator=function(p){t.setEmitTranslator(s,p)},i.mux.setStateDataTranslator=function(p){t.setStateDataTranslator(s,p)},i.mux.setGetPlayheadTime=function(p){p||(p=r.getPlayheadTime),t.setGetPlayheadTime(s,p)},t.init(s,r),t.emit(s,"playerready"),i.paused||(t.emit(s,"play"),i.readyState>2&&t.emit(s,"playing")),i.mux.listeners={},XFe.forEach(function(p){p==="error"&&!r.automaticErrorTracking||(i.mux.listeners[p]=function(){var g={};if(p==="error"){if(!i.error||i.error.code===1)return;g.player_error_code=i.error.code,g.player_error_message=ZFe[i.error.code]||i.error.message}t.emit(s,p,g)},i.addEventListener(p,i.mux.listeners[p],!1))}),i.mux.listeners.enterpictureinpicture=function(){t.emit(s,"playbackmodechange",{player_playback_mode:"pip",player_playback_mode_data:"{}"})},i.mux.listeners.leavepictureinpicture=function(){var p=GB()?"fullscreen":"standard";t.emit(s,"playbackmodechange",{player_playback_mode:p,player_playback_mode_data:"{}"})},i.addEventListener("enterpictureinpicture",i.mux.listeners.enterpictureinpicture,!1),i.addEventListener("leavepictureinpicture",i.mux.listeners.leavepictureinpicture,!1),i.mux.fullscreenChangeListener=function(){var p=GB(),g=document.fullscreenElement;if(p&&(g===i||g!=null&&g.contains(i)))t.emit(s,"playbackmodechange",{player_playback_mode:"fullscreen",player_playback_mode_data:"{}"});else if(!p){var y=document.pictureInPictureElement===i,v=y?"pip":"standard";t.emit(s,"playbackmodechange",{player_playback_mode:v,player_playback_mode_data:"{}"})}},document.addEventListener("fullscreenchange",i.mux.fullscreenChangeListener,!1)}function eUe(t,e,r,n){var i=n;if(t&&typeof t[e]=="function")try{i=t[e].apply(t,r)}catch(s){Lo.info("safeCall error",s)}return i}var $w=Kf(Qm()),ux;$w.default&&$w.default.WeakMap&&(ux=new WeakMap);function tUe(t,e){if(!t||!e||!$w.default||typeof $w.default.getComputedStyle!="function")return"";var r;return ux&&ux.has(t)&&(r=ux.get(t)),r||(r=$w.default.getComputedStyle(t,null),ux&&ux.set(t,r)),r.getPropertyValue(e)}function rUe(t){return Math.floor(t*1e3)}var q0={TARGET_DURATION:"#EXT-X-TARGETDURATION",PART_INF:"#EXT-X-PART-INF",SERVER_CONTROL:"#EXT-X-SERVER-CONTROL",INF:"#EXTINF",PROGRAM_DATE_TIME:"#EXT-X-PROGRAM-DATE-TIME",VERSION:"#EXT-X-VERSION",SESSION_DATA:"#EXT-X-SESSION-DATA"},m5=function(t){return this.buffer="",this.manifest={segments:[],serverControl:{},sessionData:{}},this.currentUri={},this.process(t),this.manifest};m5.prototype.process=function(t){var e;for(this.buffer+=t,e=this.buffer.indexOf(`
`);e>-1;e=this.buffer.indexOf(`
`))this.processLine(this.buffer.substring(0,e)),this.buffer=this.buffer.substring(e+1)};m5.prototype.processLine=function(t){var e=t.indexOf(":"),r=aUe(t,e),n=r[0],i=r.length===2?MM(r[1]):void 0;if(n[0]!=="#")this.currentUri.uri=n,this.manifest.segments.push(this.currentUri),this.manifest.targetDuration&&!("duration"in this.currentUri)&&(this.currentUri.duration=this.manifest.targetDuration),this.currentUri={};else switch(n){case q0.TARGET_DURATION:{if(!isFinite(i)||i<0)return;this.manifest.targetDuration=i,this.setHoldBack();break}case q0.PART_INF:{zB(this.manifest,r),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),this.setHoldBack();break}case q0.SERVER_CONTROL:{zB(this.manifest,r),this.setHoldBack();break}case q0.INF:{i===0?this.currentUri.duration=.01:i>0&&(this.currentUri.duration=i);break}case q0.PROGRAM_DATE_TIME:{var s=i,a=new Date(s);this.manifest.dateTimeString||(this.manifest.dateTimeString=s,this.manifest.dateTimeObject=a),this.currentUri.dateTimeString=s,this.currentUri.dateTimeObject=a;break}case q0.VERSION:{zB(this.manifest,r);break}case q0.SESSION_DATA:{var c=oUe(r[1]),u=Yre(c);Object.assign(this.manifest.sessionData,u)}}};m5.prototype.setHoldBack=function(){var t=this.manifest,e=t.serverControl,r=t.targetDuration,n=t.partTargetDuration;if(e){var i="holdBack",s="partHoldBack",a=r&&r*3,c=n&&n*2;r&&!e.hasOwnProperty(i)&&(e[i]=a),a&&e[i]<a&&(e[i]=a),n&&!e.hasOwnProperty(s)&&(e[s]=n*3),n&&e[s]<c&&(e[s]=c)}};var zB=function(t,e){var r=ine(e[0].replace("#EXT-X-","")),n;sUe(e[1])?(n={},n=Object.assign(iUe(e[1]),n)):n=MM(e[1]),t[r]=n},ine=function(t){return t.toLowerCase().replace(/-(\w)/g,function(e){return e[1].toUpperCase()})},MM=function(t){if(t.toLowerCase()==="yes"||t.toLowerCase()==="no")return t.toLowerCase()==="yes";var e=t.indexOf(":")!==-1?t:parseFloat(t);return isNaN(e)?t:e},nUe=function(t){var e={},r=t.split("=");if(r.length>1){var n=ine(r[0]);e[n]=MM(r[1])}return e},iUe=function(t){for(var e=t.split(","),r={},n=0;e.length>n;n++){var i=e[n],s=nUe(i);r=Object.assign(s,r)}return r},sUe=function(t){return t.indexOf("=")>-1},aUe=function(t,e){return e===-1?[t]:[t.substring(0,e),t.substring(e+1)]},oUe=function(t){var e={};if(t){var r=t.search(","),n=t.slice(0,r),i=t.slice(r+1),s=[n,i];return s.forEach(function(a,c){for(var u=a.replace(/['"]+/g,"").split("="),o=0;o<u.length;o++)u[o]==="DATA-ID"&&(e["DATA-ID"]=u[1-o]),u[o]==="VALUE"&&(e.VALUE=u[1-o])}),{data:e}}},lUe=m5,cUe={safeCall:eUe,safeIncrement:fu,getComputedStyle:tUe,secondsToMs:rUe,assign:Object.assign,headersStringToObject:DM,cdnHeadersToRequestId:bj,extractHostnameAndDomain:BE,extractHostname:xA,manifestParser:lUe,generateShortID:zre,generateUUID:kE,now:Ku.now,findMediaElement:vj},uUe=cUe,dUe={PLAYER_READY:"playerready",VIEW_INIT:"viewinit",VIDEO_CHANGE:"videochange",PLAY:"play",PAUSE:"pause",PLAYING:"playing",TIME_UPDATE:"timeupdate",SEEKING:"seeking",SEEKED:"seeked",REBUFFER_START:"rebufferstart",REBUFFER_END:"rebufferend",ERROR:"error",ENDED:"ended",RENDITION_CHANGE:"renditionchange",ORIENTATION_CHANGE:"orientationchange",PLAYBACK_MODE_CHANGE:"playbackmodechange",AD_REQUEST:"adrequest",AD_RESPONSE:"adresponse",AD_BREAK_START:"adbreakstart",AD_PLAY:"adplay",AD_PLAYING:"adplaying",AD_PAUSE:"adpause",AD_FIRST_QUARTILE:"adfirstquartile",AD_MID_POINT:"admidpoint",AD_THIRD_QUARTILE:"adthirdquartile",AD_ENDED:"adended",AD_BREAK_END:"adbreakend",AD_ERROR:"aderror",REQUEST_COMPLETED:"requestcompleted",REQUEST_FAILED:"requestfailed",REQUEST_CANCELLED:"requestcanceled",HEARTBEAT:"hb",DESTROY:"destroy"},hUe=dUe,fUe="mux-embed",AUe="5.16.1",mUe="2.1",Pc={},p0=function(t){var e=arguments;typeof t=="string"?p0.hasOwnProperty(t)?Uw.default.setTimeout(function(){e=Array.prototype.splice.call(e,1),p0[t].apply(null,e)},0):Lo.warn("`"+t+"` is an unknown task"):typeof t=="function"?Uw.default.setTimeout(function(){t(p0)},0):Lo.warn("`"+t+"` is invalid.")},pUe={loaded:Ku.now(),NAME:fUe,VERSION:AUe,API_VERSION:mUe,PLAYER_TRACKED:!1,monitor:function(t,e){return JFe(p0,t,e)},destroyMonitor:function(t){var e=Gp(vj(t),1),r=e[0];r&&r.mux&&typeof r.mux.destroy=="function"?r.mux.destroy():Lo.error("A video element monitor for `"+t+"` has not been initialized via `mux.monitor`.")},addHLSJS:function(t,e){var r=uA(t);Pc[r]?Pc[r].addHLSJS(e):Lo.error("A monitor for `"+r+"` has not been initialized.")},addDashJS:function(t,e){var r=uA(t);Pc[r]?Pc[r].addDashJS(e):Lo.error("A monitor for `"+r+"` has not been initialized.")},removeHLSJS:function(t){var e=uA(t);Pc[e]?Pc[e].removeHLSJS():Lo.error("A monitor for `"+e+"` has not been initialized.")},removeDashJS:function(t){var e=uA(t);Pc[e]?Pc[e].removeDashJS():Lo.error("A monitor for `"+e+"` has not been initialized.")},init:function(t,e){IR()&&e&&e.respectDoNotTrack&&Lo.info("The browser's Do Not Track flag is enabled - Mux beaconing is disabled.");var r=uA(t);Pc[r]=new qFe(p0,r,e)},emit:function(t,e,r){var n=uA(t);Pc[n]?(Pc[n].emit(e,r),e==="destroy"&&delete Pc[n]):Lo.error("A monitor for `"+n+"` has not been initialized.")},updateData:function(t,e){var r=uA(t);Pc[r]?Pc[r].emit("hb",e):Lo.error("A monitor for `"+r+"` has not been initialized.")},setEmitTranslator:function(t,e){var r=uA(t);Pc[r]?Pc[r].emitTranslator=e:Lo.error("A monitor for `"+r+"` has not been initialized.")},setStateDataTranslator:function(t,e){var r=uA(t);Pc[r]?Pc[r].stateDataTranslator=e:Lo.error("A monitor for `"+r+"` has not been initialized.")},setGetPlayheadTime:function(t,e){var r=uA(t);Pc[r]?Pc[r].getPlayheadTime=e:Lo.error("A monitor for `"+r+"` has not been initialized.")},checkDoNotTrack:IR,log:Lo,utils:uUe,events:hUe,WINDOW_HIDDEN:!1,WINDOW_UNLOADING:!1};Object.assign(p0,pUe);typeof Uw.default<"u"&&typeof Uw.default.addEventListener=="function"&&Uw.default.addEventListener("pagehide",function(t){t.persisted||(p0.WINDOW_UNLOADING=!0)},!1);var FM=p0;const kn=Number.isFinite||function(t){return typeof t=="number"&&isFinite(t)},gUe=Number.isSafeInteger||function(t){return typeof t=="number"&&Math.abs(t)<=vUe},vUe=Number.MAX_SAFE_INTEGER||9007199254740991;let Ai=(function(t){return t.NETWORK_ERROR="networkError",t.MEDIA_ERROR="mediaError",t.KEY_SYSTEM_ERROR="keySystemError",t.MUX_ERROR="muxError",t.OTHER_ERROR="otherError",t})({}),ar=(function(t){return t.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",t.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",t.KEY_SYSTEM_NO_SESSION="keySystemNoSession",t.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",t.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",t.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",t.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",t.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",t.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",t.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",t.KEY_SYSTEM_DESTROY_MEDIA_KEYS_ERROR="keySystemDestroyMediaKeysError",t.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR="keySystemDestroyCloseSessionError",t.KEY_SYSTEM_DESTROY_REMOVE_SESSION_ERROR="keySystemDestroyRemoveSessionError",t.MANIFEST_LOAD_ERROR="manifestLoadError",t.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",t.MANIFEST_PARSING_ERROR="manifestParsingError",t.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",t.LEVEL_EMPTY_ERROR="levelEmptyError",t.LEVEL_LOAD_ERROR="levelLoadError",t.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",t.LEVEL_PARSING_ERROR="levelParsingError",t.LEVEL_SWITCH_ERROR="levelSwitchError",t.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",t.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",t.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",t.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",t.FRAG_LOAD_ERROR="fragLoadError",t.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",t.FRAG_DECRYPT_ERROR="fragDecryptError",t.FRAG_PARSING_ERROR="fragParsingError",t.FRAG_GAP="fragGap",t.REMUX_ALLOC_ERROR="remuxAllocError",t.KEY_LOAD_ERROR="keyLoadError",t.KEY_LOAD_TIMEOUT="keyLoadTimeOut",t.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",t.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",t.BUFFER_APPEND_ERROR="bufferAppendError",t.BUFFER_APPENDING_ERROR="bufferAppendingError",t.BUFFER_STALLED_ERROR="bufferStalledError",t.BUFFER_FULL_ERROR="bufferFullError",t.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",t.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",t.ASSET_LIST_LOAD_ERROR="assetListLoadError",t.ASSET_LIST_LOAD_TIMEOUT="assetListLoadTimeout",t.ASSET_LIST_PARSING_ERROR="assetListParsingError",t.INTERSTITIAL_ASSET_ITEM_ERROR="interstitialAssetItemError",t.INTERNAL_EXCEPTION="internalException",t.INTERNAL_ABORTED="aborted",t.ATTACH_MEDIA_ERROR="attachMediaError",t.UNKNOWN="unknown",t})({}),_e=(function(t){return t.MEDIA_ATTACHING="hlsMediaAttaching",t.MEDIA_ATTACHED="hlsMediaAttached",t.MEDIA_DETACHING="hlsMediaDetaching",t.MEDIA_DETACHED="hlsMediaDetached",t.MEDIA_ENDED="hlsMediaEnded",t.STALL_RESOLVED="hlsStallResolved",t.BUFFER_RESET="hlsBufferReset",t.BUFFER_CODECS="hlsBufferCodecs",t.BUFFER_CREATED="hlsBufferCreated",t.BUFFER_APPENDING="hlsBufferAppending",t.BUFFER_APPENDED="hlsBufferAppended",t.BUFFER_EOS="hlsBufferEos",t.BUFFERED_TO_END="hlsBufferedToEnd",t.BUFFER_FLUSHING="hlsBufferFlushing",t.BUFFER_FLUSHED="hlsBufferFlushed",t.MANIFEST_LOADING="hlsManifestLoading",t.MANIFEST_LOADED="hlsManifestLoaded",t.MANIFEST_PARSED="hlsManifestParsed",t.LEVEL_SWITCHING="hlsLevelSwitching",t.LEVEL_SWITCHED="hlsLevelSwitched",t.LEVEL_LOADING="hlsLevelLoading",t.LEVEL_LOADED="hlsLevelLoaded",t.LEVEL_UPDATED="hlsLevelUpdated",t.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",t.LEVELS_UPDATED="hlsLevelsUpdated",t.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",t.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",t.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",t.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",t.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",t.AUDIO_TRACK_UPDATED="hlsAudioTrackUpdated",t.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",t.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",t.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",t.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",t.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",t.SUBTITLE_TRACK_UPDATED="hlsSubtitleTrackUpdated",t.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",t.CUES_PARSED="hlsCuesParsed",t.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",t.INIT_PTS_FOUND="hlsInitPtsFound",t.FRAG_LOADING="hlsFragLoading",t.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",t.FRAG_LOADED="hlsFragLoaded",t.FRAG_DECRYPTED="hlsFragDecrypted",t.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",t.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",t.FRAG_PARSING_METADATA="hlsFragParsingMetadata",t.FRAG_PARSED="hlsFragParsed",t.FRAG_BUFFERED="hlsFragBuffered",t.FRAG_CHANGED="hlsFragChanged",t.FPS_DROP="hlsFpsDrop",t.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",t.MAX_AUTO_LEVEL_UPDATED="hlsMaxAutoLevelUpdated",t.ERROR="hlsError",t.DESTROYING="hlsDestroying",t.KEY_LOADING="hlsKeyLoading",t.KEY_LOADED="hlsKeyLoaded",t.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",t.BACK_BUFFER_REACHED="hlsBackBufferReached",t.STEERING_MANIFEST_LOADED="hlsSteeringManifestLoaded",t.ASSET_LIST_LOADING="hlsAssetListLoading",t.ASSET_LIST_LOADED="hlsAssetListLoaded",t.INTERSTITIALS_UPDATED="hlsInterstitialsUpdated",t.INTERSTITIALS_BUFFERED_TO_BOUNDARY="hlsInterstitialsBufferedToBoundary",t.INTERSTITIAL_ASSET_PLAYER_CREATED="hlsInterstitialAssetPlayerCreated",t.INTERSTITIAL_STARTED="hlsInterstitialStarted",t.INTERSTITIAL_ASSET_STARTED="hlsInterstitialAssetStarted",t.INTERSTITIAL_ASSET_ENDED="hlsInterstitialAssetEnded",t.INTERSTITIAL_ASSET_ERROR="hlsInterstitialAssetError",t.INTERSTITIAL_ENDED="hlsInterstitialEnded",t.INTERSTITIALS_PRIMARY_RESUMED="hlsInterstitialsPrimaryResumed",t.PLAYOUT_LIMIT_REACHED="hlsPlayoutLimitReached",t.EVENT_CUE_ENTER="hlsEventCueEnter",t})({});var zs={MANIFEST:"manifest",LEVEL:"level",AUDIO_TRACK:"audioTrack",SUBTITLE_TRACK:"subtitleTrack"},Yn={MAIN:"main",AUDIO:"audio",SUBTITLE:"subtitle"};class Wy{constructor(e,r=0,n=0){this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=e,this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=r,this.totalWeight_=n}sample(e,r){const n=Math.pow(this.alpha_,e);this.estimate_=r*(1-n)+n*this.estimate_,this.totalWeight_+=e}getTotalWeight(){return this.totalWeight_}getEstimate(){if(this.alpha_){const e=1-Math.pow(this.alpha_,this.totalWeight_);if(e)return this.estimate_/e}return this.estimate_}}class yUe{constructor(e,r,n,i=100){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=n,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new Wy(e),this.fast_=new Wy(r),this.defaultTTFB_=i,this.ttfb_=new Wy(e)}update(e,r){const{slow_:n,fast_:i,ttfb_:s}=this;n.halfLife!==e&&(this.slow_=new Wy(e,n.getEstimate(),n.getTotalWeight())),i.halfLife!==r&&(this.fast_=new Wy(r,i.getEstimate(),i.getTotalWeight())),s.halfLife!==e&&(this.ttfb_=new Wy(e,s.getEstimate(),s.getTotalWeight()))}sample(e,r){e=Math.max(e,this.minDelayMs_);const n=8*r,i=e/1e3,s=n/i;this.fast_.sample(i,s),this.slow_.sample(i,s)}sampleTTFB(e){const r=e/1e3,n=Math.sqrt(2)*Math.exp(-Math.pow(r,2)/2);this.ttfb_.sample(n,Math.max(e,5))}canEstimate(){return this.fast_.getTotalWeight()>=this.minWeight_}getEstimate(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}getEstimateTTFB(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_}get defaultEstimate(){return this.defaultEstimate_}destroy(){}}function xUe(t,e,r){return(e=wUe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function So(){return So=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},So.apply(null,arguments)}function NK(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function io(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NK(Object(r),!0).forEach(function(n){xUe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NK(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bUe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wUe(t){var e=bUe(t,"string");return typeof e=="symbol"?e:e+""}class Gf{constructor(e,r){this.trace=void 0,this.debug=void 0,this.log=void 0,this.warn=void 0,this.info=void 0,this.error=void 0;const n=`[${e}]:`;this.trace=e0,this.debug=r.debug.bind(null,n),this.log=r.log.bind(null,n),this.warn=r.warn.bind(null,n),this.info=r.info.bind(null,n),this.error=r.error.bind(null,n)}}const e0=function(){},EUe={trace:e0,debug:e0,log:e0,warn:e0,info:e0,error:e0};function LR(){return So({},EUe)}function SUe(t,e){const r=self.console[t];return r?r.bind(self.console,`${e?"["+e+"] ":""}[${t}] >`):e0}function IK(t,e,r){return e[t]?e[t].bind(e):SUe(t,r)}const RR=LR();function _Ue(t,e,r){const n=LR();if(typeof console=="object"&&t===!0||typeof t=="object"){const i=["debug","log","info","warn","error"];i.forEach(s=>{n[s]=IK(s,t,r)});try{n.log(`Debug logs enabled for "${e}" in hls.js version 1.6.15`)}catch{return LR()}i.forEach(s=>{RR[s]=IK(s,t)})}else So(RR,n);return n}const ao=RR;function w0(t=!0){return typeof self>"u"?void 0:(t||!self.MediaSource)&&self.ManagedMediaSource||self.MediaSource||self.WebKitMediaSource}function TUe(t){return typeof self<"u"&&t===self.ManagedMediaSource}function sne(t,e){const r=Object.keys(t),n=Object.keys(e),i=r.length,s=n.length;return!i||!s||i===s&&!r.some(a=>n.indexOf(a)===-1)}function lf(t,e=!1){if(typeof TextDecoder<"u"){const o=new TextDecoder("utf-8").decode(t);if(e){const d=o.indexOf("\0");return d!==-1?o.substring(0,d):o}return o.replace(/\0/g,"")}const r=t.length;let n,i,s,a="",c=0;for(;c<r;){if(n=t[c++],n===0&&e)return a;if(n===0||n===3)continue;switch(n>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:a+=String.fromCharCode(n);break;case 12:case 13:i=t[c++],a+=String.fromCharCode((n&31)<<6|i&63);break;case 14:i=t[c++],s=t[c++],a+=String.fromCharCode((n&15)<<12|(i&63)<<6|(s&63)<<0);break}}return a}function md(t){let e="";for(let r=0;r<t.length;r++){let n=t[r].toString(16);n.length<2&&(n="0"+n),e+=n}return e}function ane(t){return Uint8Array.from(t.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer}function CUe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var WB={exports:{}},kK;function jUe(){return kK||(kK=1,(function(t,e){(function(r){var n=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,i=/^(?=([^\/?#]*))\1([^]*)$/,s=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,c={buildAbsoluteURL:function(u,o,d){if(d=d||{},u=u.trim(),o=o.trim(),!o){if(!d.alwaysNormalize)return u;var f=c.parseURL(u);if(!f)throw new Error("Error trying to parse base URL.");return f.path=c.normalizePath(f.path),c.buildURLFromParts(f)}var A=c.parseURL(o);if(!A)throw new Error("Error trying to parse relative URL.");if(A.scheme)return d.alwaysNormalize?(A.path=c.normalizePath(A.path),c.buildURLFromParts(A)):o;var p=c.parseURL(u);if(!p)throw new Error("Error trying to parse base URL.");if(!p.netLoc&&p.path&&p.path[0]!=="/"){var g=i.exec(p.path);p.netLoc=g[1],p.path=g[2]}p.netLoc&&!p.path&&(p.path="/");var y={scheme:p.scheme,netLoc:A.netLoc,path:null,params:A.params,query:A.query,fragment:A.fragment};if(!A.netLoc&&(y.netLoc=p.netLoc,A.path[0]!=="/"))if(!A.path)y.path=p.path,A.params||(y.params=p.params,A.query||(y.query=p.query));else{var v=p.path,b=v.substring(0,v.lastIndexOf("/")+1)+A.path;y.path=c.normalizePath(b)}return y.path===null&&(y.path=d.alwaysNormalize?c.normalizePath(A.path):A.path),c.buildURLFromParts(y)},parseURL:function(u){var o=n.exec(u);return o?{scheme:o[1]||"",netLoc:o[2]||"",path:o[3]||"",params:o[4]||"",query:o[5]||"",fragment:o[6]||""}:null},normalizePath:function(u){for(u=u.split("").reverse().join("").replace(s,"");u.length!==(u=u.replace(a,"")).length;);return u.split("").reverse().join("")},buildURLFromParts:function(u){return u.scheme+u.netLoc+u.path+u.params+u.query+u.fragment}};t.exports=c})()})(WB)),WB.exports}var UM=jUe();class $M{constructor(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}}var Ro={AUDIO:"audio",VIDEO:"video",AUDIOVIDEO:"audiovideo"};class one{constructor(e){this._byteRange=null,this._url=null,this._stats=null,this._streams=null,this.base=void 0,this.relurl=void 0,typeof e=="string"&&(e={url:e}),this.base=e,IUe(this,"stats")}setByteRange(e,r){const n=e.split("@",2);let i;n.length===1?i=r?.byteRangeEndOffset||0:i=parseInt(n[1]),this._byteRange=[i,parseInt(n[0])+i]}get baseurl(){return this.base.url}get byteRange(){return this._byteRange===null?[]:this._byteRange}get byteRangeStartOffset(){return this.byteRange[0]}get byteRangeEndOffset(){return this.byteRange[1]}get elementaryStreams(){return this._streams===null&&(this._streams={[Ro.AUDIO]:null,[Ro.VIDEO]:null,[Ro.AUDIOVIDEO]:null}),this._streams}set elementaryStreams(e){this._streams=e}get hasStats(){return this._stats!==null}get hasStreams(){return this._streams!==null}get stats(){return this._stats===null&&(this._stats=new $M),this._stats}set stats(e){this._stats=e}get url(){return!this._url&&this.baseurl&&this.relurl&&(this._url=UM.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""}set url(e){this._url=e}clearElementaryStreamInfo(){const{elementaryStreams:e}=this;e[Ro.AUDIO]=null,e[Ro.VIDEO]=null,e[Ro.AUDIOVIDEO]=null}}function bc(t){return t.sn!=="initSegment"}class YB extends one{constructor(e,r){super(r),this._decryptdata=null,this._programDateTime=null,this._ref=null,this._bitrate=void 0,this.rawProgramDateTime=null,this.tagList=[],this.duration=0,this.sn=0,this.levelkeys=void 0,this.type=void 0,this.loader=null,this.keyLoader=null,this.level=-1,this.cc=0,this.startPTS=void 0,this.endPTS=void 0,this.startDTS=void 0,this.endDTS=void 0,this.start=0,this.playlistOffset=0,this.deltaPTS=void 0,this.maxStartPTS=void 0,this.minEndPTS=void 0,this.data=void 0,this.bitrateTest=!1,this.title=null,this.initSegment=null,this.endList=void 0,this.gap=void 0,this.urlId=0,this.type=e}get byteLength(){if(this.hasStats){const e=this.stats.total;if(e)return e}if(this.byteRange.length){const e=this.byteRange[0],r=this.byteRange[1];if(kn(e)&&kn(r))return r-e}return null}get bitrate(){return this.byteLength?this.byteLength*8/this.duration:this._bitrate?this._bitrate:null}set bitrate(e){this._bitrate=e}get decryptdata(){var e;const{levelkeys:r}=this;if(!r||r.NONE)return null;if(r.identity)this._decryptdata||(this._decryptdata=r.identity.getDecryptData(this.sn));else if(!((e=this._decryptdata)!=null&&e.keyId)){const n=Object.keys(r);if(n.length===1){const i=this._decryptdata=r[n[0]]||null;i&&(this._decryptdata=i.getDecryptData(this.sn,r))}}return this._decryptdata}get end(){return this.start+this.duration}get endProgramDateTime(){if(this.programDateTime===null)return null;const e=kn(this.duration)?this.duration:0;return this.programDateTime+e*1e3}get encrypted(){var e;if((e=this._decryptdata)!=null&&e.encrypted)return!0;if(this.levelkeys){var r;const n=Object.keys(this.levelkeys),i=n.length;if(i>1||i===1&&(r=this.levelkeys[n[0]])!=null&&r.encrypted)return!0}return!1}get programDateTime(){return this._programDateTime===null&&this.rawProgramDateTime&&(this.programDateTime=Date.parse(this.rawProgramDateTime)),this._programDateTime}set programDateTime(e){if(!kn(e)){this._programDateTime=this.rawProgramDateTime=null;return}this._programDateTime=e}get ref(){return bc(this)?(this._ref||(this._ref={base:this.base,start:this.start,duration:this.duration,sn:this.sn,programDateTime:this.programDateTime}),this._ref):null}addStart(e){this.setStart(this.start+e)}setStart(e){this.start=e,this._ref&&(this._ref.start=e)}setDuration(e){this.duration=e,this._ref&&(this._ref.duration=e)}setKeyFormat(e){const r=this.levelkeys;if(r){var n;const i=r[e];i&&!((n=this._decryptdata)!=null&&n.keyId)&&(this._decryptdata=i.getDecryptData(this.sn,r))}}abortRequests(){var e,r;(e=this.loader)==null||e.abort(),(r=this.keyLoader)==null||r.abort()}setElementaryStreamInfo(e,r,n,i,s,a=!1){const{elementaryStreams:c}=this,u=c[e];if(!u){c[e]={startPTS:r,endPTS:n,startDTS:i,endDTS:s,partial:a};return}u.startPTS=Math.min(u.startPTS,r),u.endPTS=Math.max(u.endPTS,n),u.startDTS=Math.min(u.startDTS,i),u.endDTS=Math.max(u.endDTS,s)}}let NUe=class extends one{constructor(e,r,n,i,s){super(n),this.fragOffset=0,this.duration=0,this.gap=!1,this.independent=!1,this.relurl=void 0,this.fragment=void 0,this.index=void 0,this.duration=e.decimalFloatingPoint("DURATION"),this.gap=e.bool("GAP"),this.independent=e.bool("INDEPENDENT"),this.relurl=e.enumeratedString("URI"),this.fragment=r,this.index=i;const a=e.enumeratedString("BYTERANGE");a&&this.setByteRange(a,s),s&&(this.fragOffset=s.fragOffset+s.duration)}get start(){return this.fragment.start+this.fragOffset}get end(){return this.start+this.duration}get loaded(){const{elementaryStreams:e}=this;return!!(e.audio||e.video||e.audiovideo)}};function lne(t,e){const r=Object.getPrototypeOf(t);if(r){const n=Object.getOwnPropertyDescriptor(r,e);return n||lne(r,e)}}function IUe(t,e){const r=lne(t,e);r&&(r.enumerable=!0,Object.defineProperty(t,e,r))}const BK=Math.pow(2,32)-1,kUe=[].push,cne={video:1,audio:2,id3:3,text:4};function lu(t){return String.fromCharCode.apply(null,t)}function une(t,e){const r=t[e]<<8|t[e+1];return r<0?65536+r:r}function ls(t,e){const r=dne(t,e);return r<0?4294967296+r:r}function LK(t,e){let r=ls(t,e);return r*=Math.pow(2,32),r+=ls(t,e+4),r}function dne(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}function BUe(t){const e=t.byteLength;for(let r=0;r<e;){const n=ls(t,r);if(n>8&&t[r+4]===109&&t[r+5]===111&&t[r+6]===111&&t[r+7]===102)return!0;r=n>1?r+n:e}return!1}function $s(t,e){const r=[];if(!e.length)return r;const n=t.byteLength;for(let i=0;i<n;){const s=ls(t,i),a=lu(t.subarray(i+4,i+8)),c=s>1?i+s:n;if(a===e[0])if(e.length===1)r.push(t.subarray(i+8,c));else{const u=$s(t.subarray(i+8,c),e.slice(1));u.length&&kUe.apply(r,u)}i=c}return r}function LUe(t){const e=[],r=t[0];let n=8;const i=ls(t,n);n+=4;let s=0,a=0;r===0?(s=ls(t,n),a=ls(t,n+4),n+=8):(s=LK(t,n),a=LK(t,n+8),n+=16),n+=2;let c=t.length+a;const u=une(t,n);n+=2;for(let o=0;o<u;o++){let d=n;const f=ls(t,d);d+=4;const A=f&2147483647;if((f&2147483648)>>>31===1)return ao.warn("SIDX has hierarchical references (not supported)"),null;const g=ls(t,d);d+=4,e.push({referenceSize:A,subsegmentDuration:g,info:{duration:g/i,start:c,end:c+A-1}}),c+=A,d+=4,n=d}return{earliestPresentationTime:s,timescale:i,version:r,referencesCount:u,references:e}}function hne(t){const e=[],r=$s(t,["moov","trak"]);for(let i=0;i<r.length;i++){const s=r[i],a=$s(s,["tkhd"])[0];if(a){let c=a[0];const u=ls(a,c===0?12:20),o=$s(s,["mdia","mdhd"])[0];if(o){c=o[0];const d=ls(o,c===0?12:20),f=$s(s,["mdia","hdlr"])[0];if(f){const A=lu(f.subarray(8,12)),p={soun:Ro.AUDIO,vide:Ro.VIDEO}[A],g=$s(s,["mdia","minf","stbl","stsd"])[0],y=RUe(g);p?(e[u]={timescale:d,type:p,stsd:y},e[p]=io({timescale:d,id:u},y)):e[u]={timescale:d,type:A,stsd:y}}}}}return $s(t,["moov","mvex","trex"]).forEach(i=>{const s=ls(i,4),a=e[s];a&&(a.default={duration:ls(i,12),flags:ls(i,20)})}),e}function RUe(t){const e=t.subarray(8),r=e.subarray(86),n=lu(e.subarray(4,8));let i=n,s;const a=n==="enca"||n==="encv";if(a){const o=$s(e,[n])[0].subarray(n==="enca"?28:78);$s(o,["sinf"]).forEach(f=>{const A=$s(f,["schm"])[0];if(A){const p=lu(A.subarray(4,8));if(p==="cbcs"||p==="cenc"){const g=$s(f,["frma"])[0];g&&(i=lu(g))}}})}const c=i;switch(i){case"avc1":case"avc2":case"avc3":case"avc4":{const u=$s(r,["avcC"])[0];u&&u.length>3&&(i+="."+HS(u[1])+HS(u[2])+HS(u[3]),s=$S(c==="avc1"?"dva1":"dvav",r));break}case"mp4a":{const u=$s(e,[n])[0],o=$s(u.subarray(28),["esds"])[0];if(o&&o.length>7){let d=4;if(o[d++]!==3)break;d=qB(o,d),d+=2;const f=o[d++];if(f&128&&(d+=2),f&64&&(d+=o[d++]),o[d++]!==4)break;d=qB(o,d);const A=o[d++];if(A===64)i+="."+HS(A);else break;if(d+=12,o[d++]!==5)break;d=qB(o,d);const p=o[d++];let g=(p&248)>>3;g===31&&(g+=1+((p&7)<<3)+((o[d]&224)>>5)),i+="."+g}break}case"hvc1":case"hev1":{const u=$s(r,["hvcC"])[0];if(u&&u.length>12){const o=u[1],d=["","A","B","C"][o>>6],f=o&31,A=ls(u,2),p=(o&32)>>5?"H":"L",g=u[12],y=u.subarray(6,12);i+="."+d+f,i+="."+OUe(A).toString(16).toUpperCase(),i+="."+p+g;let v="";for(let b=y.length;b--;){const w=y[b];(w||v)&&(v="."+w.toString(16).toUpperCase()+v)}i+=v}s=$S(c=="hev1"?"dvhe":"dvh1",r);break}case"dvh1":case"dvhe":case"dvav":case"dva1":case"dav1":{i=$S(i,r)||i;break}case"vp09":{const u=$s(r,["vpcC"])[0];if(u&&u.length>6){const o=u[4],d=u[5],f=u[6]>>4&15;i+="."+pm(o)+"."+pm(d)+"."+pm(f)}break}case"av01":{const u=$s(r,["av1C"])[0];if(u&&u.length>2){const o=u[1]>>>5,d=u[1]&31,f=u[2]>>>7?"H":"M",A=(u[2]&64)>>6,p=(u[2]&32)>>5,g=o===2&&A?p?12:10:A?10:8,y=(u[2]&16)>>4,v=(u[2]&8)>>3,b=(u[2]&4)>>2,w=u[2]&3;i+="."+o+"."+pm(d)+f+"."+pm(g)+"."+y+"."+v+b+w+"."+pm(1)+"."+pm(1)+"."+pm(1)+"."+0,s=$S("dav1",r)}break}}return{codec:i,encrypted:a,supplemental:s}}function $S(t,e){const r=$s(e,["dvvC"]),n=r.length?r[0]:$s(e,["dvcC"])[0];if(n){const i=n[2]>>1&127,s=n[2]<<5&32|n[3]>>3&31;return t+"."+pm(i)+"."+pm(s)}}function OUe(t){let e=0;for(let r=0;r<32;r++)e|=(t>>r&1)<<31-r;return e>>>0}function qB(t,e){const r=e+5;for(;t[e++]&128&&e<r;);return e}function HS(t){return("0"+t.toString(16).toUpperCase()).slice(-2)}function pm(t){return(t<10?"0":"")+t}function PUe(t,e){if(!t||!e)return;const r=e.keyId;r&&e.isCommonEncryption&&fne(t,(n,i)=>{const s=n.subarray(8,24);s.some(a=>a!==0)||(ao.log(`[eme] Patching keyId in 'enc${i?"a":"v"}>sinf>>tenc' box: ${md(s)} -> ${md(r)}`),n.set(r,8))})}function DUe(t){const e=[];return fne(t,r=>e.push(r.subarray(8,24))),e}function fne(t,e){$s(t,["moov","trak"]).forEach(n=>{const i=$s(n,["mdia","minf","stbl","stsd"])[0];if(!i)return;const s=i.subarray(8);let a=$s(s,["enca"]);const c=a.length>0;c||(a=$s(s,["encv"])),a.forEach(u=>{const o=c?u.subarray(28):u.subarray(78);$s(o,["sinf"]).forEach(f=>{const A=Ane(f);A&&e(A,c)})})})}function Ane(t){const e=$s(t,["schm"])[0];if(e){const r=lu(e.subarray(4,8));if(r==="cbcs"||r==="cenc"){const n=$s(t,["schi","tenc"])[0];if(n)return n}}}function MUe(t,e,r){const n={},i=$s(t,["moof","traf"]);for(let s=0;s<i.length;s++){const a=i[s],c=$s(a,["tfhd"])[0],u=ls(c,4),o=e[u];if(!o)continue;n[u]||(n[u]={start:NaN,duration:0,sampleCount:0,timescale:o.timescale,type:o.type});const d=n[u],f=$s(a,["tfdt"])[0];if(f){const S=f[0];let _=ls(f,4);S===1&&(_===BK?r.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"):(_*=BK+1,_+=ls(f,8))),kn(_)&&(!kn(d.start)||_<d.start)&&(d.start=_)}const A=o.default,p=ls(c,0)|A?.flags;let g=A?.duration||0;p&8&&(p&2?g=ls(c,12):g=ls(c,8));const y=$s(a,["trun"]);let v=d.start||0,b=0,w=g;for(let S=0;S<y.length;S++){const _=y[S],T=ls(_,4),L=d.sampleCount;d.sampleCount+=T;const D=_[3]&1,V=_[3]&4,G=_[2]&1,J=_[2]&2,ee=_[2]&4,ue=_[2]&8;let pe=8,ge=T;for(D&&(pe+=4),V&&T&&(!(_[pe+1]&1)&&d.keyFrameIndex===void 0&&(d.keyFrameIndex=L),pe+=4,G?(w=ls(_,pe),pe+=4):w=g,J&&(pe+=4),ue&&(pe+=4),v+=w,b+=w,ge--);ge--;)G?(w=ls(_,pe),pe+=4):w=g,J&&(pe+=4),ee&&(_[pe+1]&1||d.keyFrameIndex===void 0&&(d.keyFrameIndex=d.sampleCount-(ge+1),d.keyFrameStart=v),pe+=4),ue&&(pe+=4),v+=w,b+=w;!b&&g&&(b+=g*T)}d.duration+=b}if(!Object.keys(n).some(s=>n[s].duration)){let s=1/0,a=0;const c=$s(t,["sidx"]);for(let u=0;u<c.length;u++){const o=LUe(c[u]);if(o!=null&&o.references){s=Math.min(s,o.earliestPresentationTime/o.timescale);const d=o.references.reduce((f,A)=>f+A.info.duration||0,0);a=Math.max(a,d+o.earliestPresentationTime/o.timescale)}}a&&kn(a)&&Object.keys(n).forEach(u=>{n[u].duration||(n[u].duration=a*n[u].timescale-n[u].start)})}return n}function FUe(t){const e={valid:null,remainder:null},r=$s(t,["moof"]);if(r.length<2)return e.remainder=t,e;const n=r[r.length-1];return e.valid=t.slice(0,n.byteOffset-8),e.remainder=t.slice(n.byteOffset-8),e}function Qf(t,e){const r=new Uint8Array(t.length+e.length);return r.set(t),r.set(e,t.length),r}function RK(t,e){const r=[],n=e.samples,i=e.timescale,s=e.id;let a=!1;return $s(n,["moof"]).map(u=>{const o=u.byteOffset-8;$s(u,["traf"]).map(f=>{const A=$s(f,["tfdt"]).map(p=>{const g=p[0];let y=ls(p,4);return g===1&&(y*=Math.pow(2,32),y+=ls(p,8)),y/i})[0];return A!==void 0&&(t=A),$s(f,["tfhd"]).map(p=>{const g=ls(p,4),y=ls(p,0)&16777215,v=(y&1)!==0,b=(y&2)!==0,w=(y&8)!==0;let S=0;const _=(y&16)!==0;let T=0;const L=(y&32)!==0;let D=8;g===s&&(v&&(D+=8),b&&(D+=4),w&&(S=ls(p,D),D+=4),_&&(T=ls(p,D),D+=4),L&&(D+=4),e.type==="video"&&(a=p5(e.codec)),$s(f,["trun"]).map(V=>{const G=V[0],J=ls(V,0)&16777215,ee=(J&1)!==0;let ue=0;const pe=(J&4)!==0,ge=(J&256)!==0;let he=0;const ne=(J&512)!==0;let Ae=0;const oe=(J&1024)!==0,Be=(J&2048)!==0;let ke=0;const ve=ls(V,4);let se=8;ee&&(ue=ls(V,se),se+=4),pe&&(se+=4);let me=ue+o;for(let je=0;je<ve;je++){if(ge?(he=ls(V,se),se+=4):he=S,ne?(Ae=ls(V,se),se+=4):Ae=T,oe&&(se+=4),Be&&(G===0?ke=ls(V,se):ke=dne(V,se),se+=4),e.type===Ro.VIDEO){let Ue=0;for(;Ue<Ae;){const De=ls(n,me);if(me+=4,UUe(a,n[me])){const ot=n.subarray(me,me+De);HM(ot,a?2:1,t+ke/i,r)}me+=De,Ue+=De+4}}t+=he/i}}))})})}),r}function p5(t){if(!t)return!1;const e=t.substring(0,4);return e==="hvc1"||e==="hev1"||e==="dvh1"||e==="dvhe"}function UUe(t,e){if(t){const r=e>>1&63;return r===39||r===40}else return(e&31)===6}function HM(t,e,r,n){const i=mne(t);let s=0;s+=e;let a=0,c=0,u=0;for(;s<i.length;){a=0;do{if(s>=i.length)break;u=i[s++],a+=u}while(u===255);c=0;do{if(s>=i.length)break;u=i[s++],c+=u}while(u===255);const o=i.length-s;let d=s;if(c<o)s+=c;else if(c>o){ao.error(`Malformed SEI payload. ${c} is too small, only ${o} bytes left to parse.`);break}if(a===4){if(i[d++]===181){const A=une(i,d);if(d+=2,A===49){const p=ls(i,d);if(d+=4,p===1195456820){const g=i[d++];if(g===3){const y=i[d++],v=31&y,b=64&y,w=b?2+v*3:0,S=new Uint8Array(w);if(b){S[0]=y;for(let _=1;_<w;_++)S[_]=i[d++]}n.push({type:g,payloadType:a,pts:r,bytes:S})}}}}}else if(a===5&&c>16){const f=[];for(let g=0;g<16;g++){const y=i[d++].toString(16);f.push(y.length==1?"0"+y:y),(g===3||g===5||g===7||g===9)&&f.push("-")}const A=c-16,p=new Uint8Array(A);for(let g=0;g<A;g++)p[g]=i[d++];n.push({payloadType:a,pts:r,uuid:f.join(""),userData:lf(p),userDataBytes:p})}}}function mne(t){const e=t.byteLength,r=[];let n=1;for(;n<e-2;)t[n]===0&&t[n+1]===0&&t[n+2]===3?(r.push(n+2),n+=2):n++;if(r.length===0)return t;const i=e-r.length,s=new Uint8Array(i);let a=0;for(n=0;n<i;a++,n++)a===r[0]&&(a++,r.shift()),s[n]=t[a];return s}function $Ue(t){const e=t[0];let r="",n="",i=0,s=0,a=0,c=0,u=0,o=0;if(e===0){for(;lu(t.subarray(o,o+1))!=="\0";)r+=lu(t.subarray(o,o+1)),o+=1;for(r+=lu(t.subarray(o,o+1)),o+=1;lu(t.subarray(o,o+1))!=="\0";)n+=lu(t.subarray(o,o+1)),o+=1;n+=lu(t.subarray(o,o+1)),o+=1,i=ls(t,12),s=ls(t,16),c=ls(t,20),u=ls(t,24),o=28}else if(e===1){o+=4,i=ls(t,o),o+=4;const f=ls(t,o);o+=4;const A=ls(t,o);for(o+=4,a=2**32*f+A,gUe(a)||(a=Number.MAX_SAFE_INTEGER,ao.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),c=ls(t,o),o+=4,u=ls(t,o),o+=4;lu(t.subarray(o,o+1))!=="\0";)r+=lu(t.subarray(o,o+1)),o+=1;for(r+=lu(t.subarray(o,o+1)),o+=1;lu(t.subarray(o,o+1))!=="\0";)n+=lu(t.subarray(o,o+1)),o+=1;n+=lu(t.subarray(o,o+1)),o+=1}const d=t.subarray(o,t.byteLength);return{schemeIdUri:r,value:n,timeScale:i,presentationTime:a,presentationTimeDelta:s,eventDuration:c,id:u,payload:d}}function HUe(t,...e){const r=e.length;let n=8,i=r;for(;i--;)n+=e[i].byteLength;const s=new Uint8Array(n);for(s[0]=n>>24&255,s[1]=n>>16&255,s[2]=n>>8&255,s[3]=n&255,s.set(t,4),i=0,n=8;i<r;i++)s.set(e[i],n),n+=e[i].byteLength;return s}function QUe(t,e,r){if(t.byteLength!==16)throw new RangeError("Invalid system id");let n,i;n=0,i=new Uint8Array;let s;n>0?(s=new Uint8Array(4),e.length>0&&new DataView(s.buffer).setUint32(0,e.length,!1)):s=new Uint8Array;const a=new Uint8Array(4);return r.byteLength>0&&new DataView(a.buffer).setUint32(0,r.byteLength,!1),HUe([112,115,115,104],new Uint8Array([n,0,0,0]),t,s,i,a,r)}function VUe(t){const e=[];if(t instanceof ArrayBuffer){const r=t.byteLength;let n=0;for(;n+32<r;){const i=new DataView(t,n),s=KUe(i);e.push(s),n+=s.size}}return e}function KUe(t){const e=t.getUint32(0),r=t.byteOffset,n=t.byteLength;if(n<e)return{offset:r,size:n};if(t.getUint32(4)!==1886614376)return{offset:r,size:e};const s=t.getUint32(8)>>>24;if(s!==0&&s!==1)return{offset:r,size:e};const a=t.buffer,c=md(new Uint8Array(a,r+12,16));let u=null,o=null,d=0;if(s===0)d=28;else{const A=t.getUint32(28);if(!A||n<32+A*16)return{offset:r,size:e};u=[];for(let p=0;p<A;p++)u.push(new Uint8Array(a,r+32+p*16,16));d=32+A*16}if(!d)return{offset:r,size:e};const f=t.getUint32(d);return e-32<f?{offset:r,size:e}:(o=new Uint8Array(a,r+d+4,f),{version:s,systemId:c,kids:u,data:o,offset:r,size:e})}const pne=()=>/\(Windows.+Firefox\//i.test(navigator.userAgent),Nb={audio:{a3ds:1,"ac-3":.95,"ac-4":1,alac:.9,alaw:1,dra1:1,"dts+":1,"dts-":1,dtsc:1,dtse:1,dtsh:1,"ec-3":.9,enca:1,fLaC:.9,flac:.9,FLAC:.9,g719:1,g726:1,m4ae:1,mha1:1,mha2:1,mhm1:1,mhm2:1,mlpa:1,mp4a:1,"raw ":1,Opus:1,opus:1,samr:1,sawb:1,sawp:1,sevc:1,sqcp:1,ssmv:1,twos:1,ulaw:1},video:{avc1:1,avc2:1,avc3:1,avc4:1,avcp:1,av01:.8,dav1:.8,drac:1,dva1:1,dvav:1,dvh1:.7,dvhe:.7,encv:1,hev1:.75,hvc1:.75,mjp2:1,mp4v:1,mvc1:1,mvc2:1,mvc3:1,mvc4:1,resv:1,rv60:1,s263:1,svc1:1,svc2:1,"vc-1":1,vp08:1,vp09:.9},text:{stpp:1,wvtt:1}};function QM(t,e){const r=Nb[e];return!!r&&!!r[t.slice(0,4)]}function LE(t,e,r=!0){return!t.split(",").some(n=>!VM(n,e,r))}function VM(t,e,r=!0){var n;const i=w0(r);return(n=i?.isTypeSupported(RE(t,e)))!=null?n:!1}function RE(t,e){return`${e}/mp4;codecs=${t}`}function OK(t){if(t){const e=t.substring(0,4);return Nb.video[e]}return 2}function wj(t){const e=pne();return t.split(",").reduce((r,n)=>{const s=e&&p5(n)?9:Nb.video[n];return s?(s*2+r)/(r?3:2):(Nb.audio[n]+r)/(r?2:1)},0)}const XB={};function GUe(t,e=!0){if(XB[t])return XB[t];const r={flac:["flac","fLaC","FLAC"],opus:["opus","Opus"],"mp4a.40.34":["mp3"]}[t];for(let i=0;i<r.length;i++){var n;if(VM(r[i],"audio",e))return XB[t]=r[i],r[i];if(r[i]==="mp3"&&(n=w0(e))!=null&&n.isTypeSupported("audio/mpeg"))return""}return t}const zUe=/flac|opus|mp4a\.40\.34/i;function Ej(t,e=!0){return t.replace(zUe,r=>GUe(r.toLowerCase(),e))}function WUe(t,e){const r=[];if(t){const n=t.split(",");for(let i=0;i<n.length;i++)QM(n[i],"video")||r.push(n[i])}return e&&r.push(e),r.join(",")}function P_(t,e){if(t&&(t.length>4||["ac-3","ec-3","alac","fLaC","Opus"].indexOf(t)!==-1)&&(PK(t,"audio")||PK(t,"video")))return t;if(e){const r=e.split(",");if(r.length>1){if(t){for(let n=r.length;n--;)if(r[n].substring(0,4)===t.substring(0,4))return r[n]}return r[0]}}return e||t}function PK(t,e){return QM(t,e)&&VM(t,e)}function YUe(t){const e=t.split(",");for(let r=0;r<e.length;r++){const n=e[r].split(".");n.length>2&&n[0]==="avc1"&&(e[r]=`avc1.${parseInt(n[1]).toString(16)}${("000"+parseInt(n[2]).toString(16)).slice(-4)}`)}return e.join(",")}function qUe(t){if(t.startsWith("av01.")){const e=t.split("."),r=["0","111","01","01","01","0"];for(let n=e.length;n>4&&n<10;n++)e[n]=r[n-4];return e.join(".")}return t}function DK(t){const e=w0(t)||{isTypeSupported:()=>!1};return{mpeg:e.isTypeSupported("audio/mpeg"),mp3:e.isTypeSupported('audio/mp4; codecs="mp3"'),ac3:e.isTypeSupported('audio/mp4; codecs="ac-3"')}}function OR(t){return t.replace(/^.+codecs=["']?([^"']+).*$/,"$1")}const XUe={supported:!0,powerEfficient:!0,smooth:!0},ZUe={supported:!1,smooth:!1,powerEfficient:!1},gne={supported:!0,configurations:[],decodingInfoResults:[XUe]};function vne(t,e){return{supported:!1,configurations:e,decodingInfoResults:[ZUe],error:t}}function JUe(t,e,r,n,i,s){const a=t.videoCodec,c=t.audioCodec?t.audioGroups:null,u=s?.audioCodec,o=s?.channels,d=o?parseInt(o):u?1/0:2;let f=null;if(c!=null&&c.length)try{c.length===1&&c[0]?f=e.groups[c[0]].channels:f=c.reduce((A,p)=>{if(p){const g=e.groups[p];if(!g)throw new Error(`Audio track group ${p} not found`);Object.keys(g.channels).forEach(y=>{A[y]=(A[y]||0)+g.channels[y]})}return A},{2:0})}catch{return!0}return a!==void 0&&(a.split(",").some(A=>p5(A))||t.width>1920&&t.height>1088||t.height>1920&&t.width>1088||t.frameRate>Math.max(n,30)||t.videoRange!=="SDR"&&t.videoRange!==r||t.bitrate>Math.max(i,8e6))||!!f&&kn(d)&&Object.keys(f).some(A=>parseInt(A)>d)}function yne(t,e,r,n={}){const i=t.videoCodec;if(!i&&!t.audioCodec||!r)return Promise.resolve(gne);const s=[],a=e6e(t),c=a.length,u=t6e(t,e,c>0),o=u.length;for(let d=c||1*o||1;d--;){const f={type:"media-source"};if(c&&(f.video=a[d%c]),o){f.audio=u[d%o];const A=f.audio.bitrate;f.video&&A&&(f.video.bitrate-=A)}s.push(f)}if(i){const d=navigator.userAgent;if(i.split(",").some(f=>p5(f))&&pne())return Promise.resolve(vne(new Error(`Overriding Windows Firefox HEVC MediaCapabilities result based on user-agent string: (${d})`),s))}return Promise.all(s.map(d=>{const f=n6e(d);return n[f]||(n[f]=r.decodingInfo(d))})).then(d=>({supported:!d.some(f=>!f.supported),configurations:s,decodingInfoResults:d})).catch(d=>({supported:!1,configurations:s,decodingInfoResults:[],error:d}))}function e6e(t){var e;const r=(e=t.videoCodec)==null?void 0:e.split(","),n=xne(t),i=t.width||640,s=t.height||480,a=t.frameRate||30,c=t.videoRange.toLowerCase();return r?r.map(u=>{const o={contentType:RE(qUe(u),"video"),width:i,height:s,bitrate:n,framerate:a};return c!=="sdr"&&(o.transferFunction=c),o}):[]}function t6e(t,e,r){var n;const i=(n=t.audioCodec)==null?void 0:n.split(","),s=xne(t);return i&&t.audioGroups?t.audioGroups.reduce((a,c)=>{var u;const o=c?(u=e.groups[c])==null?void 0:u.tracks:null;return o?o.reduce((d,f)=>{if(f.groupId===c){const A=parseFloat(f.channels||"");i.forEach(p=>{const g={contentType:RE(p,"audio"),bitrate:r?r6e(p,s):s};A&&(g.channels=""+A),d.push(g)})}return d},a):a},[]):[]}function r6e(t,e){if(e<=1)return 1;let r=128e3;return t==="ec-3"?r=768e3:t==="ac-3"&&(r=64e4),Math.min(e/2,r)}function xne(t){return Math.ceil(Math.max(t.bitrate*.9,t.averageBitrate)/1e3)*1e3||1}function n6e(t){let e="";const{audio:r,video:n}=t;if(n){const i=OR(n.contentType);e+=`${i}_r${n.height}x${n.width}f${Math.ceil(n.framerate)}${n.transferFunction||"sd"}_${Math.ceil(n.bitrate/1e5)}`}if(r){const i=OR(r.contentType);e+=`${n?"_":""}${i}_c${r.channels}`}return e}const PR=["NONE","TYPE-0","TYPE-1",null];function i6e(t){return PR.indexOf(t)>-1}const Sj=["SDR","PQ","HLG"];function s6e(t){return!!t&&Sj.indexOf(t)>-1}var D_={No:"",Yes:"YES",v2:"v2"};function MK(t){const{canSkipUntil:e,canSkipDateRanges:r,age:n}=t,i=n<e/2;return e&&i?r?D_.v2:D_.Yes:D_.No}class FK{constructor(e,r,n){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=e,this.part=r,this.skip=n}addDirectives(e){const r=new self.URL(e);return this.msn!==void 0&&r.searchParams.set("_HLS_msn",this.msn.toString()),this.part!==void 0&&r.searchParams.set("_HLS_part",this.part.toString()),this.skip&&r.searchParams.set("_HLS_skip",this.skip),r.href}}class OE{constructor(e){if(this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.url=void 0,this.frameRate=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.supplemental=void 0,this.videoCodec=void 0,this.width=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.supportedPromise=void 0,this.supportedResult=void 0,this._avgBitrate=0,this._audioGroups=void 0,this._subtitleGroups=void 0,this._urlId=0,this.url=[e.url],this._attrs=[e.attrs],this.bitrate=e.bitrate,e.details&&(this.details=e.details),this.id=e.id||0,this.name=e.name,this.width=e.width||0,this.height=e.height||0,this.frameRate=e.attrs.optionalFloat("FRAME-RATE",0),this._avgBitrate=e.attrs.decimalInteger("AVERAGE-BANDWIDTH"),this.audioCodec=e.audioCodec,this.videoCodec=e.videoCodec,this.codecSet=[e.videoCodec,e.audioCodec].filter(n=>!!n).map(n=>n.substring(0,4)).join(","),"supplemental"in e){var r;this.supplemental=e.supplemental;const n=(r=e.supplemental)==null?void 0:r.videoCodec;n&&n!==e.videoCodec&&(this.codecSet+=`,${n.substring(0,4)}`)}this.addGroupId("audio",e.attrs.AUDIO),this.addGroupId("text",e.attrs.SUBTITLES)}get maxBitrate(){return Math.max(this.realBitrate,this.bitrate)}get averageBitrate(){return this._avgBitrate||this.realBitrate||this.bitrate}get attrs(){return this._attrs[0]}get codecs(){return this.attrs.CODECS||""}get pathwayId(){return this.attrs["PATHWAY-ID"]||"."}get videoRange(){return this.attrs["VIDEO-RANGE"]||"SDR"}get score(){return this.attrs.optionalFloat("SCORE",0)}get uri(){return this.url[0]||""}hasAudioGroup(e){return UK(this._audioGroups,e)}hasSubtitleGroup(e){return UK(this._subtitleGroups,e)}get audioGroups(){return this._audioGroups}get subtitleGroups(){return this._subtitleGroups}addGroupId(e,r){if(r){if(e==="audio"){let n=this._audioGroups;n||(n=this._audioGroups=[]),n.indexOf(r)===-1&&n.push(r)}else if(e==="text"){let n=this._subtitleGroups;n||(n=this._subtitleGroups=[]),n.indexOf(r)===-1&&n.push(r)}}}get urlId(){return 0}set urlId(e){}get audioGroupIds(){return this.audioGroups?[this.audioGroupId]:void 0}get textGroupIds(){return this.subtitleGroups?[this.textGroupId]:void 0}get audioGroupId(){var e;return(e=this.audioGroups)==null?void 0:e[0]}get textGroupId(){var e;return(e=this.subtitleGroups)==null?void 0:e[0]}addFallback(){}}function UK(t,e){return!e||!t?!1:t.indexOf(e)!==-1}function a6e(){if(typeof matchMedia=="function"){const t=matchMedia("(dynamic-range: high)"),e=matchMedia("bad query");if(t.media!==e.media)return t.matches===!0}return!1}function o6e(t,e){let r=!1,n=[];if(t&&(r=t!=="SDR",n=[t]),e){n=e.allowedVideoRanges||Sj.slice(0);const i=n.join("")!=="SDR"&&!e.videoCodec;r=e.preferHDR!==void 0?e.preferHDR:i&&a6e(),r||(n=["SDR"])}return{preferHDR:r,allowedVideoRanges:n}}const l6e=t=>{const e=new WeakSet;return(r,n)=>{if(t&&(n=t(r,n)),typeof n=="object"&&n!==null){if(e.has(n))return;e.add(n)}return n}},Mo=(t,e)=>JSON.stringify(t,l6e(e));function c6e(t,e,r,n,i){const s=Object.keys(t),a=n?.channels,c=n?.audioCodec,u=i?.videoCodec,o=a&&parseInt(a)===2;let d=!1,f=!1,A=1/0,p=1/0,g=1/0,y=1/0,v=0,b=[];const{preferHDR:w,allowedVideoRanges:S}=o6e(e,i);for(let V=s.length;V--;){const G=t[s[V]];d||(d=G.channels[2]>0),A=Math.min(A,G.minHeight),p=Math.min(p,G.minFramerate),g=Math.min(g,G.minBitrate),S.filter(ee=>G.videoRanges[ee]>0).length>0&&(f=!0)}A=kn(A)?A:0,p=kn(p)?p:0;const _=Math.max(1080,A),T=Math.max(30,p);g=kn(g)?g:r,r=Math.max(g,r),f||(e=void 0);const L=s.length>1;return{codecSet:s.reduce((V,G)=>{const J=t[G];if(G===V)return V;if(b=f?S.filter(ee=>J.videoRanges[ee]>0):[],L){if(J.minBitrate>r)return JA(G,`min bitrate of ${J.minBitrate} > current estimate of ${r}`),V;if(!J.hasDefaultAudio)return JA(G,"no renditions with default or auto-select sound found"),V;if(c&&G.indexOf(c.substring(0,4))%5!==0)return JA(G,`audio codec preference "${c}" not found`),V;if(a&&!o){if(!J.channels[a])return JA(G,`no renditions with ${a} channel sound found (channels options: ${Object.keys(J.channels)})`),V}else if((!c||o)&&d&&J.channels[2]===0)return JA(G,"no renditions with stereo sound found"),V;if(J.minHeight>_)return JA(G,`min resolution of ${J.minHeight} > maximum of ${_}`),V;if(J.minFramerate>T)return JA(G,`min framerate of ${J.minFramerate} > maximum of ${T}`),V;if(!b.some(ee=>J.videoRanges[ee]>0))return JA(G,`no variants with VIDEO-RANGE of ${Mo(b)} found`),V;if(u&&G.indexOf(u.substring(0,4))%5!==0)return JA(G,`video codec preference "${u}" not found`),V;if(J.maxScore<v)return JA(G,`max score of ${J.maxScore} < selected max of ${v}`),V}return V&&(wj(G)>=wj(V)||J.fragmentError>t[V].fragmentError)?V:(y=J.minIndex,v=J.maxScore,G)},void 0),videoRanges:b,preferHDR:w,minFramerate:p,minBitrate:g,minIndex:y}}function JA(t,e){ao.log(`[abr] start candidates with "${t}" ignored because ${e}`)}function bne(t){return t.reduce((e,r)=>{let n=e.groups[r.groupId];n||(n=e.groups[r.groupId]={tracks:[],channels:{2:0},hasDefault:!1,hasAutoSelect:!1}),n.tracks.push(r);const i=r.channels||"2";return n.channels[i]=(n.channels[i]||0)+1,n.hasDefault=n.hasDefault||r.default,n.hasAutoSelect=n.hasAutoSelect||r.autoselect,n.hasDefault&&(e.hasDefaultAudio=!0),n.hasAutoSelect&&(e.hasAutoSelectAudio=!0),e},{hasDefaultAudio:!1,hasAutoSelectAudio:!1,groups:{}})}function u6e(t,e,r,n){return t.slice(r,n+1).reduce((i,s,a)=>{if(!s.codecSet)return i;const c=s.audioGroups;let u=i[s.codecSet];u||(i[s.codecSet]=u={minBitrate:1/0,minHeight:1/0,minFramerate:1/0,minIndex:a,maxScore:0,videoRanges:{SDR:0},channels:{2:0},hasDefaultAudio:!c,fragmentError:0}),u.minBitrate=Math.min(u.minBitrate,s.bitrate);const o=Math.min(s.height,s.width);return u.minHeight=Math.min(u.minHeight,o),u.minFramerate=Math.min(u.minFramerate,s.frameRate),u.minIndex=Math.min(u.minIndex,a),u.maxScore=Math.max(u.maxScore,s.score),u.fragmentError+=s.fragmentError,u.videoRanges[s.videoRange]=(u.videoRanges[s.videoRange]||0)+1,c&&c.forEach(d=>{if(!d)return;const f=e.groups[d];f&&(u.hasDefaultAudio=u.hasDefaultAudio||e.hasDefaultAudio?f.hasDefault:f.hasAutoSelect||!e.hasDefaultAudio&&!e.hasAutoSelectAudio,Object.keys(f.channels).forEach(A=>{u.channels[A]=(u.channels[A]||0)+f.channels[A]}))}),i},{})}function $K(t){if(!t)return t;const{lang:e,assocLang:r,characteristics:n,channels:i,audioCodec:s}=t;return{lang:e,assocLang:r,characteristics:n,channels:i,audioCodec:s}}function Sm(t,e,r){if("attrs"in t){const n=e.indexOf(t);if(n!==-1)return n}for(let n=0;n<e.length;n++){const i=e[n];if(Uv(t,i,r))return n}return-1}function Uv(t,e,r){const{groupId:n,name:i,lang:s,assocLang:a,default:c}=t,u=t.forced;return(n===void 0||e.groupId===n)&&(i===void 0||e.name===i)&&(s===void 0||d6e(s,e.lang))&&(s===void 0||e.assocLang===a)&&(c===void 0||e.default===c)&&(u===void 0||e.forced===u)&&(!("characteristics"in t)||h6e(t.characteristics||"",e.characteristics))&&(r===void 0||r(t,e))}function d6e(t,e="--"){return t.length===e.length?t===e:t.startsWith(e)||e.startsWith(t)}function h6e(t,e=""){const r=t.split(","),n=e.split(",");return r.length===n.length&&!r.some(i=>n.indexOf(i)===-1)}function ov(t,e){const{audioCodec:r,channels:n}=t;return(r===void 0||(e.audioCodec||"").substring(0,4)===r.substring(0,4))&&(n===void 0||n===(e.channels||"2"))}function f6e(t,e,r,n,i){const s=e[n],c=e.reduce((A,p,g)=>{const y=p.uri;return(A[y]||(A[y]=[])).push(g),A},{})[s.uri];c.length>1&&(n=Math.max.apply(Math,c));const u=s.videoRange,o=s.frameRate,d=s.codecSet.substring(0,4),f=HK(e,n,A=>{if(A.videoRange!==u||A.frameRate!==o||A.codecSet.substring(0,4)!==d)return!1;const p=A.audioGroups,g=r.filter(y=>!p||p.indexOf(y.groupId)!==-1);return Sm(t,g,i)>-1});return f>-1?f:HK(e,n,A=>{const p=A.audioGroups,g=r.filter(y=>!p||p.indexOf(y.groupId)!==-1);return Sm(t,g,i)>-1})}function HK(t,e,r){for(let n=e;n>-1;n--)if(r(t[n]))return n;for(let n=e+1;n<t.length;n++)if(r(t[n]))return n;return-1}function _j(t,e){var r;return!!t&&t!==((r=e.loadLevelObj)==null?void 0:r.uri)}class A6e extends Gf{constructor(e){super("abr",e.logger),this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=-1,this.firstSelection=-1,this._nextAutoLevel=-1,this.nextAutoLevelKey="",this.audioTracksByGroup=null,this.codecTiers=null,this.timer=-1,this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.rebufferNotice=-1,this.supportedCache={},this.bwEstimator=void 0,this._abandonRulesCheck=r=>{var n;const{fragCurrent:i,partCurrent:s,hls:a}=this,{autoLevelEnabled:c,media:u}=a;if(!i||!u)return;const o=performance.now(),d=s?s.stats:i.stats,f=s?s.duration:i.duration,A=o-d.loading.start,p=a.minAutoLevel,g=i.level,y=this._nextAutoLevel;if(d.aborted||d.loaded&&d.loaded===d.total||g<=p){this.clearTimer(),this._nextAutoLevel=-1;return}if(!c)return;const v=y>-1&&y!==g,b=!!r||v;if(!b&&(u.paused||!u.playbackRate||!u.readyState))return;const w=a.mainForwardBufferInfo;if(!b&&w===null)return;const S=this.bwEstimator.getEstimateTTFB(),_=Math.abs(u.playbackRate);if(A<=Math.max(S,1e3*(f/(_*2))))return;const T=w?w.len/_:0,L=d.loading.first?d.loading.first-d.loading.start:-1,D=d.loaded&&L>-1,V=this.getBwEstimate(),G=a.levels,J=G[g],ee=Math.max(d.loaded,Math.round(f*(i.bitrate||J.averageBitrate)/8));let ue=D?A-L:A;ue<1&&D&&(ue=Math.min(A,d.loaded*8/V));const pe=D?d.loaded*1e3/ue:0,ge=S/1e3,he=pe?(ee-d.loaded)/pe:ee*8/V+ge;if(he<=T)return;const ne=pe?pe*8:V,Ae=((n=r?.details||this.hls.latestLevelDetails)==null?void 0:n.live)===!0,oe=this.hls.config.abrBandWidthUpFactor;let Be=Number.POSITIVE_INFINITY,ke;for(ke=g-1;ke>p;ke--){const je=G[ke].maxBitrate,Ue=!G[ke].details||Ae;if(Be=this.getTimeToLoadFrag(ge,ne,f*je,Ue),Be<Math.min(T,f+ge))break}if(Be>=he||Be>f*10)return;D?this.bwEstimator.sample(A-Math.min(S,L),d.loaded):this.bwEstimator.sampleTTFB(A);const ve=G[ke].maxBitrate;this.getBwEstimate()*oe>ve&&this.resetEstimator(ve);const se=this.findBestLevel(ve,p,ke,0,T,1,1);se>-1&&(ke=se),this.warn(`Fragment ${i.sn}${s?" part "+s.index:""} of level ${g} is loading too slowly;
      Fragment duration: ${i.duration.toFixed(3)}
      Time to underbuffer: ${T.toFixed(3)} s
      Estimated load time for current fragment: ${he.toFixed(3)} s
      Estimated load time for down switch fragment: ${Be.toFixed(3)} s
      TTFB estimate: ${L|0} ms
      Current BW estimate: ${kn(V)?V|0:"Unknown"} bps
      New BW estimate: ${this.getBwEstimate()|0} bps
      Switching to level ${ke} @ ${ve|0} bps`),a.nextLoadLevel=a.nextAutoLevel=ke,this.clearTimer();const me=()=>{if(this.clearTimer(),this.fragCurrent===i&&this.hls.loadLevel===ke&&ke>0){const je=this.getStarvationDelay();if(this.warn(`Aborting inflight request ${ke>0?"and switching down":""}
      Fragment duration: ${i.duration.toFixed(3)} s
      Time to underbuffer: ${je.toFixed(3)} s`),i.abortRequests(),this.fragCurrent=this.partCurrent=null,ke>p){let Ue=this.findBestLevel(this.hls.levels[p].bitrate,p,ke,0,je,1,1);Ue===-1&&(Ue=p),this.hls.nextLoadLevel=this.hls.nextAutoLevel=Ue,this.resetEstimator(this.hls.levels[Ue].bitrate)}}};v||he>Be*2?me():this.timer=self.setInterval(me,Be*1e3),a.trigger(_e.FRAG_LOAD_EMERGENCY_ABORTED,{frag:i,part:s,stats:d})},this.hls=e,this.bwEstimator=this.initEstimator(),this.registerListeners()}resetEstimator(e){e&&(this.log(`setting initial bwe to ${e}`),this.hls.config.abrEwmaDefaultEstimate=e),this.firstSelection=-1,this.bwEstimator=this.initEstimator()}initEstimator(){const e=this.hls.config;return new yUe(e.abrEwmaSlowVoD,e.abrEwmaFastVoD,e.abrEwmaDefaultEstimate)}registerListeners(){const{hls:e}=this;e.on(_e.MANIFEST_LOADING,this.onManifestLoading,this),e.on(_e.FRAG_LOADING,this.onFragLoading,this),e.on(_e.FRAG_LOADED,this.onFragLoaded,this),e.on(_e.FRAG_BUFFERED,this.onFragBuffered,this),e.on(_e.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(_e.LEVEL_LOADED,this.onLevelLoaded,this),e.on(_e.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(_e.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),e.on(_e.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e&&(e.off(_e.MANIFEST_LOADING,this.onManifestLoading,this),e.off(_e.FRAG_LOADING,this.onFragLoading,this),e.off(_e.FRAG_LOADED,this.onFragLoaded,this),e.off(_e.FRAG_BUFFERED,this.onFragBuffered,this),e.off(_e.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(_e.LEVEL_LOADED,this.onLevelLoaded,this),e.off(_e.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(_e.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),e.off(_e.ERROR,this.onError,this))}destroy(){this.unregisterListeners(),this.clearTimer(),this.hls=this._abandonRulesCheck=this.supportedCache=null,this.fragCurrent=this.partCurrent=null}onManifestLoading(e,r){this.lastLoadedFragLevel=-1,this.firstSelection=-1,this.lastLevelLoadSec=0,this.supportedCache={},this.fragCurrent=this.partCurrent=null,this.onLevelsUpdated(),this.clearTimer()}onLevelsUpdated(){this.lastLoadedFragLevel>-1&&this.fragCurrent&&(this.lastLoadedFragLevel=this.fragCurrent.level),this._nextAutoLevel=-1,this.onMaxAutoLevelUpdated(),this.codecTiers=null,this.audioTracksByGroup=null}onMaxAutoLevelUpdated(){this.firstSelection=-1,this.nextAutoLevelKey=""}onFragLoading(e,r){const n=r.frag;if(!this.ignoreFragment(n)){if(!n.bitrateTest){var i;this.fragCurrent=n,this.partCurrent=(i=r.part)!=null?i:null}this.clearTimer(),this.timer=self.setInterval(this._abandonRulesCheck,100)}}onLevelSwitching(e,r){this.clearTimer()}onError(e,r){if(!r.fatal)switch(r.details){case ar.BUFFER_ADD_CODEC_ERROR:case ar.BUFFER_APPEND_ERROR:this.lastLoadedFragLevel=-1,this.firstSelection=-1;break;case ar.FRAG_LOAD_TIMEOUT:{const n=r.frag,{fragCurrent:i,partCurrent:s}=this;if(n&&i&&n.sn===i.sn&&n.level===i.level){const a=performance.now(),c=s?s.stats:n.stats,u=a-c.loading.start,o=c.loading.first?c.loading.first-c.loading.start:-1;if(c.loaded&&o>-1){const f=this.bwEstimator.getEstimateTTFB();this.bwEstimator.sample(u-Math.min(f,o),c.loaded)}else this.bwEstimator.sampleTTFB(u)}break}}}getTimeToLoadFrag(e,r,n,i){const s=e+n/r,a=i?e+this.lastLevelLoadSec:0;return s+a}onLevelLoaded(e,r){const n=this.hls.config,{loading:i}=r.stats,s=i.end-i.first;kn(s)&&(this.lastLevelLoadSec=s/1e3),r.details.live?this.bwEstimator.update(n.abrEwmaSlowLive,n.abrEwmaFastLive):this.bwEstimator.update(n.abrEwmaSlowVoD,n.abrEwmaFastVoD),this.timer>-1&&this._abandonRulesCheck(r.levelInfo)}onFragLoaded(e,{frag:r,part:n}){const i=n?n.stats:r.stats;if(r.type===Yn.MAIN&&this.bwEstimator.sampleTTFB(i.loading.first-i.loading.start),!this.ignoreFragment(r)){if(this.clearTimer(),r.level===this._nextAutoLevel&&(this._nextAutoLevel=-1),this.firstSelection=-1,this.hls.config.abrMaxWithRealBitrate){const s=n?n.duration:r.duration,a=this.hls.levels[r.level],c=(a.loaded?a.loaded.bytes:0)+i.loaded,u=(a.loaded?a.loaded.duration:0)+s;a.loaded={bytes:c,duration:u},a.realBitrate=Math.round(8*c/u)}if(r.bitrateTest){const s={stats:i,frag:r,part:n,id:r.type};this.onFragBuffered(_e.FRAG_BUFFERED,s),r.bitrateTest=!1}else this.lastLoadedFragLevel=r.level}}onFragBuffered(e,r){const{frag:n,part:i}=r,s=i!=null&&i.stats.loaded?i.stats:n.stats;if(s.aborted||this.ignoreFragment(n))return;const a=s.parsing.end-s.loading.start-Math.min(s.loading.first-s.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(a,s.loaded),s.bwEstimate=this.getBwEstimate(),n.bitrateTest?this.bitrateTestDelay=a/1e3:this.bitrateTestDelay=0}ignoreFragment(e){return e.type!==Yn.MAIN||e.sn==="initSegment"}clearTimer(){this.timer>-1&&(self.clearInterval(this.timer),this.timer=-1)}get firstAutoLevel(){const{maxAutoLevel:e,minAutoLevel:r}=this.hls,n=this.getBwEstimate(),i=this.hls.config.maxStarvationDelay,s=this.findBestLevel(n,r,e,0,i,1,1);if(s>-1)return s;const a=this.hls.firstLevel,c=Math.min(Math.max(a,r),e);return this.warn(`Could not find best starting auto level. Defaulting to first in playlist ${a} clamped to ${c}`),c}get forcedAutoLevel(){return this.nextAutoLevelKey?-1:this._nextAutoLevel}get nextAutoLevel(){const e=this.forcedAutoLevel,n=this.bwEstimator.canEstimate(),i=this.lastLoadedFragLevel>-1;if(e!==-1&&(!n||!i||this.nextAutoLevelKey===this.getAutoLevelKey()))return e;const s=n&&i?this.getNextABRAutoLevel():this.firstAutoLevel;if(e!==-1){const a=this.hls.levels;if(a.length>Math.max(e,s)&&a[e].loadError<=a[s].loadError)return e}return this._nextAutoLevel=s,this.nextAutoLevelKey=this.getAutoLevelKey(),s}getAutoLevelKey(){return`${this.getBwEstimate()}_${this.getStarvationDelay().toFixed(2)}`}getNextABRAutoLevel(){const{fragCurrent:e,partCurrent:r,hls:n}=this;if(n.levels.length<=1)return n.loadLevel;const{maxAutoLevel:i,config:s,minAutoLevel:a}=n,c=r?r.duration:e?e.duration:0,u=this.getBwEstimate(),o=this.getStarvationDelay();let d=s.abrBandWidthFactor,f=s.abrBandWidthUpFactor;if(o){const v=this.findBestLevel(u,a,i,o,0,d,f);if(v>=0)return this.rebufferNotice=-1,v}let A=c?Math.min(c,s.maxStarvationDelay):s.maxStarvationDelay;if(!o){const v=this.bitrateTestDelay;v&&(A=(c?Math.min(c,s.maxLoadingDelay):s.maxLoadingDelay)-v,this.info(`bitrate test took ${Math.round(1e3*v)}ms, set first fragment max fetchDuration to ${Math.round(1e3*A)} ms`),d=f=1)}const p=this.findBestLevel(u,a,i,o,A,d,f);if(this.rebufferNotice!==p&&(this.rebufferNotice=p,this.info(`${o?"rebuffering expected":"buffer is empty"}, optimal quality level ${p}`)),p>-1)return p;const g=n.levels[a],y=n.loadLevelObj;return y&&g?.bitrate<y.bitrate?a:n.loadLevel}getStarvationDelay(){const e=this.hls,r=e.media;if(!r)return 1/0;const n=r&&r.playbackRate!==0?Math.abs(r.playbackRate):1,i=e.mainForwardBufferInfo;return(i?i.len:0)/n}getBwEstimate(){return this.bwEstimator.canEstimate()?this.bwEstimator.getEstimate():this.hls.config.abrEwmaDefaultEstimate}findBestLevel(e,r,n,i,s,a,c){var u;const o=i+s,d=this.lastLoadedFragLevel,f=d===-1?this.hls.firstLevel:d,{fragCurrent:A,partCurrent:p}=this,{levels:g,allAudioTracks:y,loadLevel:v,config:b}=this.hls;if(g.length===1)return 0;const w=g[f],S=!!((u=this.hls.latestLevelDetails)!=null&&u.live),_=v===-1||d===-1;let T,L="SDR",D=w?.frameRate||0;const{audioPreference:V,videoPreference:G}=b,J=this.audioTracksByGroup||(this.audioTracksByGroup=bne(y));let ee=-1;if(_){if(this.firstSelection!==-1)return this.firstSelection;const ne=this.codecTiers||(this.codecTiers=u6e(g,J,r,n)),Ae=c6e(ne,L,e,V,G),{codecSet:oe,videoRanges:Be,minFramerate:ke,minBitrate:ve,minIndex:se,preferHDR:me}=Ae;ee=se,T=oe,L=me?Be[Be.length-1]:Be[0],D=ke,e=Math.max(e,ve),this.log(`picked start tier ${Mo(Ae)}`)}else T=w?.codecSet,L=w?.videoRange;const ue=p?p.duration:A?A.duration:0,pe=this.bwEstimator.getEstimateTTFB()/1e3,ge=[];for(let ne=n;ne>=r;ne--){var he;const Ae=g[ne],oe=ne>f;if(!Ae)continue;if(b.useMediaCapabilities&&!Ae.supportedResult&&!Ae.supportedPromise){const Ue=navigator.mediaCapabilities;typeof Ue?.decodingInfo=="function"&&JUe(Ae,J,L,D,e,V)?(Ae.supportedPromise=yne(Ae,J,Ue,this.supportedCache),Ae.supportedPromise.then(De=>{if(!this.hls)return;Ae.supportedResult=De;const ot=this.hls.levels,ft=ot.indexOf(Ae);De.error?this.warn(`MediaCapabilities decodingInfo error: "${De.error}" for level ${ft} ${Mo(De)}`):De.supported?De.decodingInfoResults.some(Ce=>Ce.smooth===!1||Ce.powerEfficient===!1)&&this.log(`MediaCapabilities decodingInfo for level ${ft} not smooth or powerEfficient: ${Mo(De)}`):(this.warn(`Unsupported MediaCapabilities decodingInfo result for level ${ft} ${Mo(De)}`),ft>-1&&ot.length>1&&(this.log(`Removing unsupported level ${ft}`),this.hls.removeLevel(ft),this.hls.loadLevel===-1&&(this.hls.nextLoadLevel=0)))}).catch(De=>{this.warn(`Error handling MediaCapabilities decodingInfo: ${De}`)})):Ae.supportedResult=gne}if((T&&Ae.codecSet!==T||L&&Ae.videoRange!==L||oe&&D>Ae.frameRate||!oe&&D>0&&D<Ae.frameRate||(he=Ae.supportedResult)!=null&&(he=he.decodingInfoResults)!=null&&he.some(Ue=>Ue.smooth===!1))&&(!_||ne!==ee)){ge.push(ne);continue}const Be=Ae.details,ke=(p?Be?.partTarget:Be?.averagetargetduration)||ue;let ve;oe?ve=c*e:ve=a*e;const se=ue&&i>=ue*2&&s===0?Ae.averageBitrate:Ae.maxBitrate,me=this.getTimeToLoadFrag(pe,ve,se*ke,Be===void 0);if(ve>=se&&(ne===d||Ae.loadError===0&&Ae.fragmentError===0)&&(me<=pe||!kn(me)||S&&!this.bitrateTestDelay||me<o)){const Ue=this.forcedAutoLevel;return ne!==v&&(Ue===-1||Ue!==v)&&(ge.length&&this.trace(`Skipped level(s) ${ge.join(",")} of ${n} max with CODECS and VIDEO-RANGE:"${g[ge[0]].codecs}" ${g[ge[0]].videoRange}; not compatible with "${T}" ${L}`),this.info(`switch candidate:${f}->${ne} adjustedbw(${Math.round(ve)})-bitrate=${Math.round(ve-se)} ttfb:${pe.toFixed(1)} avgDuration:${ke.toFixed(1)} maxFetchDuration:${o.toFixed(1)} fetchDuration:${me.toFixed(1)} firstSelection:${_} codecSet:${Ae.codecSet} videoRange:${Ae.videoRange} hls.loadLevel:${v}`)),_&&(this.firstSelection=ne),ne}}return-1}set nextAutoLevel(e){const r=this.deriveNextAutoLevel(e);this._nextAutoLevel!==r&&(this.nextAutoLevelKey="",this._nextAutoLevel=r)}deriveNextAutoLevel(e){const{maxAutoLevel:r,minAutoLevel:n}=this.hls;return Math.min(Math.max(e,n),r)}}const wne={search:function(t,e){let r=0,n=t.length-1,i=null,s=null;for(;r<=n;){i=(r+n)/2|0,s=t[i];const a=e(s);if(a>0)r=i+1;else if(a<0)n=i-1;else return s}return null}};function m6e(t,e,r){if(e===null||!Array.isArray(t)||!t.length||!kn(e))return null;const n=t[0].programDateTime;if(e<(n||0))return null;const i=t[t.length-1].endProgramDateTime;if(e>=(i||0))return null;for(let s=0;s<t.length;++s){const a=t[s];if(g6e(e,r,a))return a}return null}function ly(t,e,r=0,n=0,i=.005){let s=null;if(t){s=e[1+t.sn-e[0].sn]||null;const c=t.endDTS-r;c>0&&c<15e-7&&(r+=15e-7),s&&t.level!==s.level&&s.end<=t.end&&(s=e[2+t.sn-e[0].sn]||null)}else r===0&&e[0].start===0&&(s=e[0]);if(s&&((!t||t.level===s.level)&&QK(r,n,s)===0||p6e(s,t,Math.min(i,n))))return s;const a=wne.search(e,QK.bind(null,r,n));return a&&(a!==t||!s)?a:s}function p6e(t,e,r){if(e&&e.start===0&&e.level<t.level&&(e.endPTS||0)>0){const n=e.tagList.reduce((i,s)=>(s[0]==="INF"&&(i+=parseFloat(s[1])),i),r);return t.start<=n}return!1}function QK(t=0,e=0,r){if(r.start<=t&&r.start+r.duration>t)return 0;const n=Math.min(e,r.duration+(r.deltaPTS?r.deltaPTS:0));return r.start+r.duration-n<=t?1:r.start-n>t&&r.start?-1:0}function g6e(t,e,r){const n=Math.min(e,r.duration+(r.deltaPTS?r.deltaPTS:0))*1e3;return(r.endProgramDateTime||0)-n>t}function Ene(t,e,r){if(t&&t.startCC<=e&&t.endCC>=e){let n=t.fragments;const{fragmentHint:i}=t;i&&(n=n.concat(i));let s;return wne.search(n,a=>a.cc<e?1:a.cc>e?-1:(s=a,a.end<=r?1:a.start>r?-1:0)),s||null}return null}function Tj(t){switch(t.details){case ar.FRAG_LOAD_TIMEOUT:case ar.KEY_LOAD_TIMEOUT:case ar.LEVEL_LOAD_TIMEOUT:case ar.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function Sne(t){return t.details.startsWith("key")}function _ne(t){return Sne(t)&&!!t.frag&&!t.frag.decryptdata}function VK(t,e){const r=Tj(e);return t.default[`${r?"timeout":"error"}Retry`]}function KM(t,e){const r=t.backoff==="linear"?1:Math.pow(2,e);return Math.min(r*t.retryDelayMs,t.maxRetryDelayMs)}function KK(t){return io(io({},t),{errorRetry:null,timeoutRetry:null})}function Cj(t,e,r,n){if(!t)return!1;const i=n?.code,s=e<t.maxNumRetry&&(v6e(i)||!!r);return t.shouldRetry?t.shouldRetry(t,e,r,n,s):s}function v6e(t){return DR(t)||!!t&&(t<400||t>499)}function DR(t){return t===0&&navigator.onLine===!1}var Ad={DoNothing:0,SendAlternateToPenaltyBox:2,RemoveAlternatePermanently:3,RetryRequest:5},Wh={None:0,MoveAllAlternatesMatchingHost:1,MoveAllAlternatesMatchingHDCP:2,MoveAllAlternatesMatchingKey:4};class y6e extends Gf{constructor(e){super("error-controller",e.logger),this.hls=void 0,this.playlistError=0,this.hls=e,this.registerListeners()}registerListeners(){const e=this.hls;e.on(_e.ERROR,this.onError,this),e.on(_e.MANIFEST_LOADING,this.onManifestLoading,this),e.on(_e.LEVEL_UPDATED,this.onLevelUpdated,this)}unregisterListeners(){const e=this.hls;e&&(e.off(_e.ERROR,this.onError,this),e.off(_e.ERROR,this.onErrorOut,this),e.off(_e.MANIFEST_LOADING,this.onManifestLoading,this),e.off(_e.LEVEL_UPDATED,this.onLevelUpdated,this))}destroy(){this.unregisterListeners(),this.hls=null}startLoad(e){}stopLoad(){this.playlistError=0}getVariantLevelIndex(e){return e?.type===Yn.MAIN?e.level:this.getVariantIndex()}getVariantIndex(){var e;const r=this.hls,n=r.currentLevel;return(e=r.loadLevelObj)!=null&&e.details||n===-1?r.loadLevel:n}variantHasKey(e,r){if(e){var n;if((n=e.details)!=null&&n.hasKey(r))return!0;const i=e.audioGroups;if(i)return this.hls.allAudioTracks.filter(a=>i.indexOf(a.groupId)>=0).some(a=>{var c;return(c=a.details)==null?void 0:c.hasKey(r)})}return!1}onManifestLoading(){this.playlistError=0}onLevelUpdated(){this.playlistError=0}onError(e,r){var n;if(r.fatal)return;const i=this.hls,s=r.context;switch(r.details){case ar.FRAG_LOAD_ERROR:case ar.FRAG_LOAD_TIMEOUT:case ar.KEY_LOAD_ERROR:case ar.KEY_LOAD_TIMEOUT:r.errorAction=this.getFragRetryOrSwitchAction(r);return;case ar.FRAG_PARSING_ERROR:if((n=r.frag)!=null&&n.gap){r.errorAction=rb();return}case ar.FRAG_GAP:case ar.FRAG_DECRYPT_ERROR:{r.errorAction=this.getFragRetryOrSwitchAction(r),r.errorAction.action=Ad.SendAlternateToPenaltyBox;return}case ar.LEVEL_EMPTY_ERROR:case ar.LEVEL_PARSING_ERROR:{var a;const u=r.parent===Yn.MAIN?r.level:i.loadLevel;r.details===ar.LEVEL_EMPTY_ERROR&&((a=r.context)!=null&&(a=a.levelDetails)!=null&&a.live)?r.errorAction=this.getPlaylistRetryOrSwitchAction(r,u):(r.levelRetry=!1,r.errorAction=this.getLevelSwitchAction(r,u))}return;case ar.LEVEL_LOAD_ERROR:case ar.LEVEL_LOAD_TIMEOUT:typeof s?.level=="number"&&(r.errorAction=this.getPlaylistRetryOrSwitchAction(r,s.level));return;case ar.AUDIO_TRACK_LOAD_ERROR:case ar.AUDIO_TRACK_LOAD_TIMEOUT:case ar.SUBTITLE_LOAD_ERROR:case ar.SUBTITLE_TRACK_LOAD_TIMEOUT:if(s){const u=i.loadLevelObj;if(u&&(s.type===zs.AUDIO_TRACK&&u.hasAudioGroup(s.groupId)||s.type===zs.SUBTITLE_TRACK&&u.hasSubtitleGroup(s.groupId))){r.errorAction=this.getPlaylistRetryOrSwitchAction(r,i.loadLevel),r.errorAction.action=Ad.SendAlternateToPenaltyBox,r.errorAction.flags=Wh.MoveAllAlternatesMatchingHost;return}}return;case ar.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:r.errorAction={action:Ad.SendAlternateToPenaltyBox,flags:Wh.MoveAllAlternatesMatchingHDCP};return;case ar.KEY_SYSTEM_SESSION_UPDATE_FAILED:case ar.KEY_SYSTEM_STATUS_INTERNAL_ERROR:case ar.KEY_SYSTEM_NO_SESSION:r.errorAction={action:Ad.SendAlternateToPenaltyBox,flags:Wh.MoveAllAlternatesMatchingKey};return;case ar.BUFFER_ADD_CODEC_ERROR:case ar.REMUX_ALLOC_ERROR:case ar.BUFFER_APPEND_ERROR:if(!r.errorAction){var c;r.errorAction=this.getLevelSwitchAction(r,(c=r.level)!=null?c:i.loadLevel)}return;case ar.INTERNAL_EXCEPTION:case ar.BUFFER_APPENDING_ERROR:case ar.BUFFER_FULL_ERROR:case ar.LEVEL_SWITCH_ERROR:case ar.BUFFER_STALLED_ERROR:case ar.BUFFER_SEEK_OVER_HOLE:case ar.BUFFER_NUDGE_ON_STALL:r.errorAction=rb();return}r.type===Ai.KEY_SYSTEM_ERROR&&(r.levelRetry=!1,r.errorAction=rb())}getPlaylistRetryOrSwitchAction(e,r){const n=this.hls,i=VK(n.config.playlistLoadPolicy,e),s=this.playlistError++;if(Cj(i,s,Tj(e),e.response))return{action:Ad.RetryRequest,flags:Wh.None,retryConfig:i,retryCount:s};const c=this.getLevelSwitchAction(e,r);return i&&(c.retryConfig=i,c.retryCount=s),c}getFragRetryOrSwitchAction(e){const r=this.hls,n=this.getVariantLevelIndex(e.frag),i=r.levels[n],{fragLoadPolicy:s,keyLoadPolicy:a}=r.config,c=VK(Sne(e)?a:s,e),u=r.levels.reduce((d,f)=>d+f.fragmentError,0);if(i&&(e.details!==ar.FRAG_GAP&&i.fragmentError++,!_ne(e)&&Cj(c,u,Tj(e),e.response)))return{action:Ad.RetryRequest,flags:Wh.None,retryConfig:c,retryCount:u};const o=this.getLevelSwitchAction(e,n);return c&&(o.retryConfig=c,o.retryCount=u),o}getLevelSwitchAction(e,r){const n=this.hls;r==null&&(r=n.loadLevel);const i=this.hls.levels[r];if(i){var s,a;const o=e.details;i.loadError++,o===ar.BUFFER_APPEND_ERROR&&i.fragmentError++;let d=-1;const{levels:f,loadLevel:A,minAutoLevel:p,maxAutoLevel:g}=n;!n.autoLevelEnabled&&!n.config.preserveManualLevelOnError&&(n.loadLevel=-1);const y=(s=e.frag)==null?void 0:s.type,b=(y===Yn.AUDIO&&o===ar.FRAG_PARSING_ERROR||e.sourceBufferName==="audio"&&(o===ar.BUFFER_ADD_CODEC_ERROR||o===ar.BUFFER_APPEND_ERROR))&&f.some(({audioCodec:L})=>i.audioCodec!==L),S=e.sourceBufferName==="video"&&(o===ar.BUFFER_ADD_CODEC_ERROR||o===ar.BUFFER_APPEND_ERROR)&&f.some(({codecSet:L,audioCodec:D})=>i.codecSet!==L&&i.audioCodec===D),{type:_,groupId:T}=(a=e.context)!=null?a:{};for(let L=f.length;L--;){const D=(L+A)%f.length;if(D!==A&&D>=p&&D<=g&&f[D].loadError===0){var c,u;const V=f[D];if(o===ar.FRAG_GAP&&y===Yn.MAIN&&e.frag){const G=f[D].details;if(G){const J=ly(e.frag,G.fragments,e.frag.start);if(J!=null&&J.gap)continue}}else{if(_===zs.AUDIO_TRACK&&V.hasAudioGroup(T)||_===zs.SUBTITLE_TRACK&&V.hasSubtitleGroup(T))continue;if(y===Yn.AUDIO&&(c=i.audioGroups)!=null&&c.some(G=>V.hasAudioGroup(G))||y===Yn.SUBTITLE&&(u=i.subtitleGroups)!=null&&u.some(G=>V.hasSubtitleGroup(G))||b&&i.audioCodec===V.audioCodec||S&&i.codecSet===V.codecSet||!b&&i.codecSet!==V.codecSet)continue}d=D;break}}if(d>-1&&n.loadLevel!==d)return e.levelRetry=!0,this.playlistError=0,{action:Ad.SendAlternateToPenaltyBox,flags:Wh.None,nextAutoLevel:d}}return{action:Ad.SendAlternateToPenaltyBox,flags:Wh.MoveAllAlternatesMatchingHost}}onErrorOut(e,r){var n;switch((n=r.errorAction)==null?void 0:n.action){case Ad.DoNothing:break;case Ad.SendAlternateToPenaltyBox:this.sendAlternateToPenaltyBox(r),!r.errorAction.resolved&&r.details!==ar.FRAG_GAP?r.fatal=!0:/MediaSource readyState: ended/.test(r.error.message)&&(this.warn(`MediaSource ended after "${r.sourceBufferName}" sourceBuffer append error. Attempting to recover from media error.`),this.hls.recoverMediaError());break}if(r.fatal){this.hls.stopLoad();return}}sendAlternateToPenaltyBox(e){const r=this.hls,n=e.errorAction;if(!n)return;const{flags:i}=n,s=n.nextAutoLevel;switch(i){case Wh.None:this.switchLevel(e,s);break;case Wh.MoveAllAlternatesMatchingHDCP:{const u=this.getVariantLevelIndex(e.frag),o=r.levels[u],d=o?.attrs["HDCP-LEVEL"];if(n.hdcpLevel=d,d==="NONE")this.warn("HDCP policy resticted output with HDCP-LEVEL=NONE");else if(d){r.maxHdcpLevel=PR[PR.indexOf(d)-1],n.resolved=!0,this.warn(`Restricting playback to HDCP-LEVEL of "${r.maxHdcpLevel}" or lower`);break}}case Wh.MoveAllAlternatesMatchingKey:{const u=e.decryptdata;if(u){const o=this.hls.levels,d=o.length;for(let A=d;A--;)if(this.variantHasKey(o[A],u)){var a,c;this.log(`Banned key found in level ${A} (${o[A].bitrate}bps) or audio group "${(a=o[A].audioGroups)==null?void 0:a.join(",")}" (${(c=e.frag)==null?void 0:c.type} fragment) ${md(u.keyId||[])}`),o[A].fragmentError++,o[A].loadError++,this.log(`Removing level ${A} with key error (${e.error})`),this.hls.removeLevel(A)}const f=e.frag;if(this.hls.levels.length<d)n.resolved=!0;else if(f&&f.type!==Yn.MAIN){const A=f.decryptdata;A&&!u.matches(A)&&(n.resolved=!0)}}break}}n.resolved||this.switchLevel(e,s)}switchLevel(e,r){if(r!==void 0&&e.errorAction&&(this.warn(`switching to level ${r} after ${e.details}`),this.hls.nextAutoLevel=r,e.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel,e.details===ar.BUFFER_ADD_CODEC_ERROR&&e.mimeType&&e.sourceBufferName!=="audiovideo")){const n=OR(e.mimeType),i=this.hls.levels;for(let s=i.length;s--;)i[s][`${e.sourceBufferName}Codec`]===n&&(this.log(`Removing level ${s} for ${e.details} ("${n}" not supported)`),this.hls.removeLevel(s))}}}function rb(t){const e={action:Ad.DoNothing,flags:Wh.None};return t&&(e.resolved=!0),e}var du={NOT_LOADED:"NOT_LOADED",APPENDING:"APPENDING",PARTIAL:"PARTIAL",OK:"OK"};class x6e{constructor(e){this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=e,this._registerListeners()}_registerListeners(){const{hls:e}=this;e&&(e.on(_e.MANIFEST_LOADING,this.onManifestLoading,this),e.on(_e.BUFFER_APPENDED,this.onBufferAppended,this),e.on(_e.FRAG_BUFFERED,this.onFragBuffered,this),e.on(_e.FRAG_LOADED,this.onFragLoaded,this))}_unregisterListeners(){const{hls:e}=this;e&&(e.off(_e.MANIFEST_LOADING,this.onManifestLoading,this),e.off(_e.BUFFER_APPENDED,this.onBufferAppended,this),e.off(_e.FRAG_BUFFERED,this.onFragBuffered,this),e.off(_e.FRAG_LOADED,this.onFragLoaded,this))}destroy(){this._unregisterListeners(),this.hls=this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null}getAppendedFrag(e,r){const n=this.activePartLists[r];if(n)for(let i=n.length;i--;){const s=n[i];if(!s)break;if(s.start<=e&&e<=s.end&&s.loaded)return s}return this.getBufferedFrag(e,r)}getBufferedFrag(e,r){return this.getFragAtPos(e,r,!0)}getFragAtPos(e,r,n){const{fragments:i}=this,s=Object.keys(i);for(let a=s.length;a--;){const c=i[s[a]];if(c?.body.type===r&&(!n||c.buffered)){const u=c.body;if(u.start<=e&&e<=u.end)return u}}return null}detectEvictedFragments(e,r,n,i,s){this.timeRanges&&(this.timeRanges[e]=r);const a=i?.fragment.sn||-1;Object.keys(this.fragments).forEach(c=>{const u=this.fragments[c];if(!u||a>=u.body.sn)return;if(!u.buffered&&(!u.loaded||s)){u.body.type===n&&this.removeFragment(u.body);return}const o=u.range[e];if(o){if(o.time.length===0){this.removeFragment(u.body);return}o.time.some(d=>{const f=!this.isTimeBuffered(d.startPTS,d.endPTS,r);return f&&this.removeFragment(u.body),f})}})}detectPartialFragments(e){const r=this.timeRanges;if(!r||e.frag.sn==="initSegment")return;const n=e.frag,i=Yy(n),s=this.fragments[i];if(!s||s.buffered&&n.gap)return;const a=!n.relurl;Object.keys(r).forEach(c=>{const u=n.elementaryStreams[c];if(!u)return;const o=r[c],d=a||u.partial===!0;s.range[c]=this.getBufferedTimes(n,e.part,d,o)}),s.loaded=null,Object.keys(s.range).length?(this.bufferedEnd(s,n),QS(s)||this.removeParts(n.sn-1,n.type)):this.removeFragment(s.body)}bufferedEnd(e,r){e.buffered=!0,(e.body.endList=r.endList||e.body.endList)&&(this.endListFragments[e.body.type]=e)}removeParts(e,r){const n=this.activePartLists[r];n&&(this.activePartLists[r]=GK(n,i=>i.fragment.sn>=e))}fragBuffered(e,r){const n=Yy(e);let i=this.fragments[n];!i&&r&&(i=this.fragments[n]={body:e,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},e.gap&&(this.hasGaps=!0)),i&&(i.loaded=null,this.bufferedEnd(i,e))}getBufferedTimes(e,r,n,i){const s={time:[],partial:n},a=e.start,c=e.end,u=e.minEndPTS||c,o=e.maxStartPTS||a;for(let d=0;d<i.length;d++){const f=i.start(d)-this.bufferPadding,A=i.end(d)+this.bufferPadding;if(o>=f&&u<=A){s.time.push({startPTS:Math.max(a,i.start(d)),endPTS:Math.min(c,i.end(d))});break}else if(a<A&&c>f){const p=Math.max(a,i.start(d)),g=Math.min(c,i.end(d));g>p&&(s.partial=!0,s.time.push({startPTS:p,endPTS:g}))}else if(c<=f)break}return s}getPartialFragment(e){let r=null,n,i,s,a=0;const{bufferPadding:c,fragments:u}=this;return Object.keys(u).forEach(o=>{const d=u[o];d&&QS(d)&&(i=d.body.start-c,s=d.body.end+c,e>=i&&e<=s&&(n=Math.min(e-i,s-e),a<=n&&(r=d.body,a=n)))}),r}isEndListAppended(e){const r=this.endListFragments[e];return r!==void 0&&(r.buffered||QS(r))}getState(e){const r=Yy(e),n=this.fragments[r];return n?n.buffered?QS(n)?du.PARTIAL:du.OK:du.APPENDING:du.NOT_LOADED}isTimeBuffered(e,r,n){let i,s;for(let a=0;a<n.length;a++){if(i=n.start(a)-this.bufferPadding,s=n.end(a)+this.bufferPadding,e>=i&&r<=s)return!0;if(r<=i)return!1}return!1}onManifestLoading(){this.removeAllFragments()}onFragLoaded(e,r){if(r.frag.sn==="initSegment"||r.frag.bitrateTest)return;const n=r.frag,i=r.part?null:r,s=Yy(n);this.fragments[s]={body:n,appendedPTS:null,loaded:i,buffered:!1,range:Object.create(null)}}onBufferAppended(e,r){const{frag:n,part:i,timeRanges:s,type:a}=r;if(n.sn==="initSegment")return;const c=n.type;if(i){let o=this.activePartLists[c];o||(this.activePartLists[c]=o=[]),o.push(i)}this.timeRanges=s;const u=s[a];this.detectEvictedFragments(a,u,c,i)}onFragBuffered(e,r){this.detectPartialFragments(r)}hasFragment(e){const r=Yy(e);return!!this.fragments[r]}hasFragments(e){const{fragments:r}=this,n=Object.keys(r);if(!e)return n.length>0;for(let i=n.length;i--;){const s=r[n[i]];if(s?.body.type===e)return!0}return!1}hasParts(e){var r;return!!((r=this.activePartLists[e])!=null&&r.length)}removeFragmentsInRange(e,r,n,i,s){i&&!this.hasGaps||Object.keys(this.fragments).forEach(a=>{const c=this.fragments[a];if(!c)return;const u=c.body;u.type!==n||i&&!u.gap||u.start<r&&u.end>e&&(c.buffered||s)&&this.removeFragment(u)})}removeFragment(e){const r=Yy(e);e.clearElementaryStreamInfo();const n=this.activePartLists[e.type];if(n){const i=e.sn;this.activePartLists[e.type]=GK(n,s=>s.fragment.sn!==i)}delete this.fragments[r],e.endList&&delete this.endListFragments[e.type]}removeAllFragments(){var e;this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1;const r=(e=this.hls)==null||(e=e.latestLevelDetails)==null?void 0:e.partList;r&&r.forEach(n=>n.clearElementaryStreamInfo())}}function QS(t){var e,r,n;return t.buffered&&!!(t.body.gap||(e=t.range.video)!=null&&e.partial||(r=t.range.audio)!=null&&r.partial||(n=t.range.audiovideo)!=null&&n.partial)}function Yy(t){return`${t.type}_${t.level}_${t.sn}`}function GK(t,e){return t.filter(r=>{const n=e(r);return n||r.clearElementaryStreamInfo(),n})}var E0={cbc:0,ctr:1};class b6e{constructor(e,r,n){this.subtle=void 0,this.aesIV=void 0,this.aesMode=void 0,this.subtle=e,this.aesIV=r,this.aesMode=n}decrypt(e,r){switch(this.aesMode){case E0.cbc:return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},r,e);case E0.ctr:return this.subtle.decrypt({name:"AES-CTR",counter:this.aesIV,length:64},r,e);default:throw new Error(`[AESCrypto] invalid aes mode ${this.aesMode}`)}}}function w6e(t){const e=t.byteLength,r=e&&new DataView(t.buffer).getUint8(e-1);return r?t.slice(0,e-r):t}class E6e{constructor(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}uint8ArrayToUint32Array_(e){const r=new DataView(e),n=new Uint32Array(4);for(let i=0;i<4;i++)n[i]=r.getUint32(i*4);return n}initTable(){const e=this.sBox,r=this.invSBox,n=this.subMix,i=n[0],s=n[1],a=n[2],c=n[3],u=this.invSubMix,o=u[0],d=u[1],f=u[2],A=u[3],p=new Uint32Array(256);let g=0,y=0,v=0;for(v=0;v<256;v++)v<128?p[v]=v<<1:p[v]=v<<1^283;for(v=0;v<256;v++){let b=y^y<<1^y<<2^y<<3^y<<4;b=b>>>8^b&255^99,e[g]=b,r[b]=g;const w=p[g],S=p[w],_=p[S];let T=p[b]*257^b*16843008;i[g]=T<<24|T>>>8,s[g]=T<<16|T>>>16,a[g]=T<<8|T>>>24,c[g]=T,T=_*16843009^S*65537^w*257^g*16843008,o[b]=T<<24|T>>>8,d[b]=T<<16|T>>>16,f[b]=T<<8|T>>>24,A[b]=T,g?(g=w^p[p[p[_^w]]],y^=p[p[y]]):g=y=1}}expandKey(e){const r=this.uint8ArrayToUint32Array_(e);let n=!0,i=0;for(;i<r.length&&n;)n=r[i]===this.key[i],i++;if(n)return;this.key=r;const s=this.keySize=r.length;if(s!==4&&s!==6&&s!==8)throw new Error("Invalid aes key size="+s);const a=this.ksRows=(s+6+1)*4;let c,u;const o=this.keySchedule=new Uint32Array(a),d=this.invKeySchedule=new Uint32Array(a),f=this.sBox,A=this.rcon,p=this.invSubMix,g=p[0],y=p[1],v=p[2],b=p[3];let w,S;for(c=0;c<a;c++){if(c<s){w=o[c]=r[c];continue}S=w,c%s===0?(S=S<<8|S>>>24,S=f[S>>>24]<<24|f[S>>>16&255]<<16|f[S>>>8&255]<<8|f[S&255],S^=A[c/s|0]<<24):s>6&&c%s===4&&(S=f[S>>>24]<<24|f[S>>>16&255]<<16|f[S>>>8&255]<<8|f[S&255]),o[c]=w=(o[c-s]^S)>>>0}for(u=0;u<a;u++)c=a-u,u&3?S=o[c]:S=o[c-4],u<4||c<=4?d[u]=S:d[u]=g[f[S>>>24]]^y[f[S>>>16&255]]^v[f[S>>>8&255]]^b[f[S&255]],d[u]=d[u]>>>0}networkToHostOrderSwap(e){return e<<24|(e&65280)<<8|(e&16711680)>>8|e>>>24}decrypt(e,r,n){const i=this.keySize+6,s=this.invKeySchedule,a=this.invSBox,c=this.invSubMix,u=c[0],o=c[1],d=c[2],f=c[3],A=this.uint8ArrayToUint32Array_(n);let p=A[0],g=A[1],y=A[2],v=A[3];const b=new Int32Array(e),w=new Int32Array(b.length);let S,_,T,L,D,V,G,J,ee,ue,pe,ge,he,ne;const Ae=this.networkToHostOrderSwap;for(;r<b.length;){for(ee=Ae(b[r]),ue=Ae(b[r+1]),pe=Ae(b[r+2]),ge=Ae(b[r+3]),D=ee^s[0],V=ge^s[1],G=pe^s[2],J=ue^s[3],he=4,ne=1;ne<i;ne++)S=u[D>>>24]^o[V>>16&255]^d[G>>8&255]^f[J&255]^s[he],_=u[V>>>24]^o[G>>16&255]^d[J>>8&255]^f[D&255]^s[he+1],T=u[G>>>24]^o[J>>16&255]^d[D>>8&255]^f[V&255]^s[he+2],L=u[J>>>24]^o[D>>16&255]^d[V>>8&255]^f[G&255]^s[he+3],D=S,V=_,G=T,J=L,he=he+4;S=a[D>>>24]<<24^a[V>>16&255]<<16^a[G>>8&255]<<8^a[J&255]^s[he],_=a[V>>>24]<<24^a[G>>16&255]<<16^a[J>>8&255]<<8^a[D&255]^s[he+1],T=a[G>>>24]<<24^a[J>>16&255]<<16^a[D>>8&255]<<8^a[V&255]^s[he+2],L=a[J>>>24]<<24^a[D>>16&255]<<16^a[V>>8&255]<<8^a[G&255]^s[he+3],w[r]=Ae(S^p),w[r+1]=Ae(L^g),w[r+2]=Ae(T^y),w[r+3]=Ae(_^v),p=ee,g=ue,y=pe,v=ge,r=r+4}return w.buffer}}class S6e{constructor(e,r,n){this.subtle=void 0,this.key=void 0,this.aesMode=void 0,this.subtle=e,this.key=r,this.aesMode=n}expandKey(){const e=_6e(this.aesMode);return this.subtle.importKey("raw",this.key,{name:e},!1,["encrypt","decrypt"])}}function _6e(t){switch(t){case E0.cbc:return"AES-CBC";case E0.ctr:return"AES-CTR";default:throw new Error(`[FastAESKey] invalid aes mode ${t}`)}}const T6e=16;class GM{constructor(e,{removePKCS7Padding:r=!0}={}){if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.enableSoftwareAES=void 0,this.enableSoftwareAES=e.enableSoftwareAES,this.removePKCS7Padding=r,r)try{const n=self.crypto;n&&(this.subtle=n.subtle||n.webkitSubtle)}catch{}this.useSoftware=!this.subtle}destroy(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null}isSync(){return this.useSoftware}flush(){const{currentResult:e,remainderData:r}=this;if(!e||r)return this.reset(),null;const n=new Uint8Array(e);return this.reset(),this.removePKCS7Padding?w6e(n):n}reset(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)}decrypt(e,r,n,i){return this.useSoftware?new Promise((s,a)=>{const c=ArrayBuffer.isView(e)?e:new Uint8Array(e);this.softwareDecrypt(c,r,n,i);const u=this.flush();u?s(u.buffer):a(new Error("[softwareDecrypt] Failed to decrypt data"))}):this.webCryptoDecrypt(new Uint8Array(e),r,n,i)}softwareDecrypt(e,r,n,i){const{currentIV:s,currentResult:a,remainderData:c}=this;if(i!==E0.cbc||r.byteLength!==16)return ao.warn("SoftwareDecrypt: can only handle AES-128-CBC"),null;this.logOnce("JS AES decrypt"),c&&(e=Qf(c,e),this.remainderData=null);const u=this.getValidChunk(e);if(!u.length)return null;s&&(n=s);let o=this.softwareDecrypter;o||(o=this.softwareDecrypter=new E6e),o.expandKey(r);const d=a;return this.currentResult=o.decrypt(u.buffer,0,n),this.currentIV=u.slice(-16).buffer,d||null}webCryptoDecrypt(e,r,n,i){if(this.key!==r||!this.fastAesKey){if(!this.subtle)return Promise.resolve(this.onWebCryptoError(e,r,n,i));this.key=r,this.fastAesKey=new S6e(this.subtle,r,i)}return this.fastAesKey.expandKey().then(s=>this.subtle?(this.logOnce("WebCrypto AES decrypt"),new b6e(this.subtle,new Uint8Array(n),i).decrypt(e.buffer,s)):Promise.reject(new Error("web crypto not initialized"))).catch(s=>(ao.warn(`[decrypter]: WebCrypto Error, disable WebCrypto API, ${s.name}: ${s.message}`),this.onWebCryptoError(e,r,n,i)))}onWebCryptoError(e,r,n,i){const s=this.enableSoftwareAES;if(s){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(e,r,n,i);const a=this.flush();if(a)return a.buffer}throw new Error("WebCrypto"+(s?" and softwareDecrypt":"")+": failed to decrypt data")}getValidChunk(e){let r=e;const n=e.length-e.length%T6e;return n!==e.length&&(r=e.slice(0,n),this.remainderData=e.slice(n)),r}logOnce(e){this.logEnabled&&(ao.log(`[decrypter]: ${e}`),this.logEnabled=!1)}}const zK=Math.pow(2,17);class C6e{constructor(e){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=e}destroy(){this.loader&&(this.loader.destroy(),this.loader=null)}abort(){this.loader&&this.loader.abort()}load(e,r){const n=e.url;if(!n)return Promise.reject(new xp({type:Ai.NETWORK_ERROR,details:ar.FRAG_LOAD_ERROR,fatal:!1,frag:e,error:new Error(`Fragment does not have a ${n?"part list":"url"}`),networkDetails:null}));this.abort();const i=this.config,s=i.fLoader,a=i.loader;return new Promise((c,u)=>{if(this.loader&&this.loader.destroy(),e.gap)if(e.tagList.some(g=>g[0]==="GAP")){u(YK(e));return}else e.gap=!1;const o=this.loader=s?new s(i):new a(i),d=WK(e);e.loader=o;const f=KK(i.fragLoadPolicy.default),A={loadPolicy:f,timeout:f.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:e.sn==="initSegment"?1/0:zK};e.stats=o.stats;const p={onSuccess:(g,y,v,b)=>{this.resetLoader(e,o);let w=g.data;v.resetIV&&e.decryptdata&&(e.decryptdata.iv=new Uint8Array(w.slice(0,16)),w=w.slice(16)),c({frag:e,part:null,payload:w,networkDetails:b})},onError:(g,y,v,b)=>{this.resetLoader(e,o),u(new xp({type:Ai.NETWORK_ERROR,details:ar.FRAG_LOAD_ERROR,fatal:!1,frag:e,response:io({url:n,data:void 0},g),error:new Error(`HTTP Error ${g.code} ${g.text}`),networkDetails:v,stats:b}))},onAbort:(g,y,v)=>{this.resetLoader(e,o),u(new xp({type:Ai.NETWORK_ERROR,details:ar.INTERNAL_ABORTED,fatal:!1,frag:e,error:new Error("Aborted"),networkDetails:v,stats:g}))},onTimeout:(g,y,v)=>{this.resetLoader(e,o),u(new xp({type:Ai.NETWORK_ERROR,details:ar.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,error:new Error(`Timeout after ${A.timeout}ms`),networkDetails:v,stats:g}))}};r&&(p.onProgress=(g,y,v,b)=>r({frag:e,part:null,payload:v,networkDetails:b})),o.load(d,A,p)})}loadPart(e,r,n){this.abort();const i=this.config,s=i.fLoader,a=i.loader;return new Promise((c,u)=>{if(this.loader&&this.loader.destroy(),e.gap||r.gap){u(YK(e,r));return}const o=this.loader=s?new s(i):new a(i),d=WK(e,r);e.loader=o;const f=KK(i.fragLoadPolicy.default),A={loadPolicy:f,timeout:f.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:zK};r.stats=o.stats,o.load(d,A,{onSuccess:(p,g,y,v)=>{this.resetLoader(e,o),this.updateStatsFromPart(e,r);const b={frag:e,part:r,payload:p.data,networkDetails:v};n(b),c(b)},onError:(p,g,y,v)=>{this.resetLoader(e,o),u(new xp({type:Ai.NETWORK_ERROR,details:ar.FRAG_LOAD_ERROR,fatal:!1,frag:e,part:r,response:io({url:d.url,data:void 0},p),error:new Error(`HTTP Error ${p.code} ${p.text}`),networkDetails:y,stats:v}))},onAbort:(p,g,y)=>{e.stats.aborted=r.stats.aborted,this.resetLoader(e,o),u(new xp({type:Ai.NETWORK_ERROR,details:ar.INTERNAL_ABORTED,fatal:!1,frag:e,part:r,error:new Error("Aborted"),networkDetails:y,stats:p}))},onTimeout:(p,g,y)=>{this.resetLoader(e,o),u(new xp({type:Ai.NETWORK_ERROR,details:ar.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,part:r,error:new Error(`Timeout after ${A.timeout}ms`),networkDetails:y,stats:p}))}})})}updateStatsFromPart(e,r){const n=e.stats,i=r.stats,s=i.total;if(n.loaded+=i.loaded,s){const u=Math.round(e.duration/r.duration),o=Math.min(Math.round(n.loaded/s),u),f=(u-o)*Math.round(n.loaded/o);n.total=n.loaded+f}else n.total=Math.max(n.loaded,n.total);const a=n.loading,c=i.loading;a.start?a.first+=c.first-c.start:(a.start=c.start,a.first=c.first),a.end=c.end}resetLoader(e,r){e.loader=null,this.loader===r&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),r.destroy()}}function WK(t,e=null){const r=e||t,n={frag:t,part:e,responseType:"arraybuffer",url:r.url,headers:{},rangeStart:0,rangeEnd:0},i=r.byteRangeStartOffset,s=r.byteRangeEndOffset;if(kn(i)&&kn(s)){var a;let c=i,u=s;if(t.sn==="initSegment"&&j6e((a=t.decryptdata)==null?void 0:a.method)){const o=s-i;o%16&&(u=s+(16-o%16)),i!==0&&(n.resetIV=!0,c=i-16)}n.rangeStart=c,n.rangeEnd=u}return n}function YK(t,e){const r=new Error(`GAP ${t.gap?"tag":"attribute"} found`),n={type:Ai.MEDIA_ERROR,details:ar.FRAG_GAP,fatal:!1,frag:t,error:r,networkDetails:null};return e&&(n.part=e),(e||t).stats.aborted=!0,new xp(n)}function j6e(t){return t==="AES-128"||t==="AES-256"}class xp extends Error{constructor(e){super(e.error.message),this.data=void 0,this.data=e}}class Tne extends Gf{constructor(e,r){super(e,r),this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}destroy(){this.onHandlerDestroying(),this.onHandlerDestroyed()}onHandlerDestroying(){this.clearNextTick(),this.clearInterval()}onHandlerDestroyed(){}hasInterval(){return!!this._tickInterval}hasNextTick(){return!!this._tickTimer}setInterval(e){return this._tickInterval?!1:(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,e),!0)}clearInterval(){return this._tickInterval?(self.clearInterval(this._tickInterval),this._tickInterval=null,!0):!1}clearNextTick(){return this._tickTimer?(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0):!1}tick(){this._tickCallCount++,this._tickCallCount===1&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)}tickImmediate(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)}doTick(){}}class zM{constructor(e,r,n,i=0,s=-1,a=!1){this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing=VS(),this.buffering={audio:VS(),video:VS(),audiovideo:VS()},this.level=e,this.sn=r,this.id=n,this.size=i,this.part=s,this.partial=a}}function VS(){return{start:0,executeStart:0,executeEnd:0,end:0}}const qK={length:0,start:()=>0,end:()=>0};class hs{static isBuffered(e,r){if(e){const n=hs.getBuffered(e);for(let i=n.length;i--;)if(r>=n.start(i)&&r<=n.end(i))return!0}return!1}static bufferedRanges(e){if(e){const r=hs.getBuffered(e);return hs.timeRangesToArray(r)}return[]}static timeRangesToArray(e){const r=[];for(let n=0;n<e.length;n++)r.push({start:e.start(n),end:e.end(n)});return r}static bufferInfo(e,r,n){if(e){const i=hs.bufferedRanges(e);if(i.length)return hs.bufferedInfo(i,r,n)}return{len:0,start:r,end:r,bufferedIndex:-1}}static bufferedInfo(e,r,n){r=Math.max(0,r),e.length>1&&e.sort((d,f)=>d.start-f.start||f.end-d.end);let i=-1,s=[];if(n)for(let d=0;d<e.length;d++){r>=e[d].start&&r<=e[d].end&&(i=d);const f=s.length;if(f){const A=s[f-1].end;e[d].start-A<n?e[d].end>A&&(s[f-1].end=e[d].end):s.push(e[d])}else s.push(e[d])}else s=e;let a=0,c,u=r,o=r;for(let d=0;d<s.length;d++){const f=s[d].start,A=s[d].end;if(i===-1&&r>=f&&r<=A&&(i=d),r+n>=f&&r<A)u=f,o=A,a=o-r;else if(r+n<f){c=f;break}}return{len:a,start:u||0,end:o||0,nextStart:c,buffered:e,bufferedIndex:i}}static getBuffered(e){try{return e.buffered||qK}catch(r){return ao.log("failed to get media.buffered",r),qK}}}const Cne=/\{\$([a-zA-Z0-9-_]+)\}/g;function XK(t){return Cne.test(t)}function MR(t,e){if(t.variableList!==null||t.hasVariableRefs){const r=t.variableList;return e.replace(Cne,n=>{const i=n.substring(2,n.length-1),s=r?.[i];return s===void 0?(t.playlistParsingError||(t.playlistParsingError=new Error(`Missing preceding EXT-X-DEFINE tag for Variable Reference: "${i}"`)),n):s})}return e}function ZK(t,e,r){let n=t.variableList;n||(t.variableList=n={});let i,s;if("QUERYPARAM"in e){i=e.QUERYPARAM;try{const a=new self.URL(r).searchParams;if(a.has(i))s=a.get(i);else throw new Error(`"${i}" does not match any query parameter in URI: "${r}"`)}catch(a){t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE QUERYPARAM: ${a.message}`))}}else i=e.NAME,s=e.VALUE;i in n?t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE duplicate Variable Name declarations: "${i}"`)):n[i]=s||""}function N6e(t,e,r){const n=e.IMPORT;if(r&&n in r){let i=t.variableList;i||(t.variableList=i={}),i[n]=r[n]}else t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "${n}"`))}const I6e=/^(\d+)x(\d+)$/,JK=/(.+?)=(".*?"|.*?)(?:,|$)/g;class Cl{constructor(e,r){typeof e=="string"&&(e=Cl.parseAttrList(e,r)),So(this,e)}get clientAttrs(){return Object.keys(this).filter(e=>e.substring(0,2)==="X-")}decimalInteger(e){const r=parseInt(this[e],10);return r>Number.MAX_SAFE_INTEGER?1/0:r}hexadecimalInteger(e){if(this[e]){let r=(this[e]||"0x").slice(2);r=(r.length&1?"0":"")+r;const n=new Uint8Array(r.length/2);for(let i=0;i<r.length/2;i++)n[i]=parseInt(r.slice(i*2,i*2+2),16);return n}return null}hexadecimalIntegerAsNumber(e){const r=parseInt(this[e],16);return r>Number.MAX_SAFE_INTEGER?1/0:r}decimalFloatingPoint(e){return parseFloat(this[e])}optionalFloat(e,r){const n=this[e];return n?parseFloat(n):r}enumeratedString(e){return this[e]}enumeratedStringList(e,r){const n=this[e];return(n?n.split(/[ ,]+/):[]).reduce((i,s)=>(i[s.toLowerCase()]=!0,i),r)}bool(e){return this[e]==="YES"}decimalResolution(e){const r=I6e.exec(this[e]);if(r!==null)return{width:parseInt(r[1],10),height:parseInt(r[2],10)}}static parseAttrList(e,r){let n;const i={};for(JK.lastIndex=0;(n=JK.exec(e))!==null;){const a=n[1].trim();let c=n[2];const u=c.indexOf('"')===0&&c.lastIndexOf('"')===c.length-1;let o=!1;if(u)c=c.slice(1,-1);else switch(a){case"IV":case"SCTE35-CMD":case"SCTE35-IN":case"SCTE35-OUT":o=!0}if(r&&(u||o))c=MR(r,c);else if(!o&&!u)switch(a){case"CLOSED-CAPTIONS":if(c==="NONE")break;case"ALLOWED-CPC":case"CLASS":case"ASSOC-LANGUAGE":case"AUDIO":case"BYTERANGE":case"CHANNELS":case"CHARACTERISTICS":case"CODECS":case"DATA-ID":case"END-DATE":case"GROUP-ID":case"ID":case"IMPORT":case"INSTREAM-ID":case"KEYFORMAT":case"KEYFORMATVERSIONS":case"LANGUAGE":case"NAME":case"PATHWAY-ID":case"QUERYPARAM":case"RECENTLY-REMOVED-DATERANGES":case"SERVER-URI":case"STABLE-RENDITION-ID":case"STABLE-VARIANT-ID":case"START-DATE":case"SUBTITLES":case"SUPPLEMENTAL-CODECS":case"URI":case"VALUE":case"VIDEO":case"X-ASSET-LIST":case"X-ASSET-URI":ao.warn(`${e}: attribute ${a} is missing quotes`)}i[a]=c}return i}}const k6e="com.apple.hls.interstitial";function B6e(t){return t!=="ID"&&t!=="CLASS"&&t!=="CUE"&&t!=="START-DATE"&&t!=="DURATION"&&t!=="END-DATE"&&t!=="END-ON-NEXT"}function L6e(t){return t==="SCTE35-OUT"||t==="SCTE35-IN"||t==="SCTE35-CMD"}class jne{constructor(e,r,n=0){var i;if(this.attr=void 0,this.tagAnchor=void 0,this.tagOrder=void 0,this._startDate=void 0,this._endDate=void 0,this._dateAtEnd=void 0,this._cue=void 0,this._badValueForSameId=void 0,this.tagAnchor=r?.tagAnchor||null,this.tagOrder=(i=r?.tagOrder)!=null?i:n,r){const s=r.attr;for(const a in s)if(Object.prototype.hasOwnProperty.call(e,a)&&e[a]!==s[a]){ao.warn(`DATERANGE tag attribute: "${a}" does not match for tags with ID: "${e.ID}"`),this._badValueForSameId=a;break}e=So(new Cl({}),s,e)}if(this.attr=e,r?(this._startDate=r._startDate,this._cue=r._cue,this._endDate=r._endDate,this._dateAtEnd=r._dateAtEnd):this._startDate=new Date(e["START-DATE"]),"END-DATE"in this.attr){const s=r?.endDate||new Date(this.attr["END-DATE"]);kn(s.getTime())&&(this._endDate=s)}}get id(){return this.attr.ID}get class(){return this.attr.CLASS}get cue(){const e=this._cue;return e===void 0?this._cue=this.attr.enumeratedStringList(this.attr.CUE?"CUE":"X-CUE",{pre:!1,post:!1,once:!1}):e}get startTime(){const{tagAnchor:e}=this;return e===null||e.programDateTime===null?(ao.warn(`Expected tagAnchor Fragment with PDT set for DateRange "${this.id}": ${e}`),NaN):e.start+(this.startDate.getTime()-e.programDateTime)/1e3}get startDate(){return this._startDate}get endDate(){const e=this._endDate||this._dateAtEnd;if(e)return e;const r=this.duration;return r!==null?this._dateAtEnd=new Date(this._startDate.getTime()+r*1e3):null}get duration(){if("DURATION"in this.attr){const e=this.attr.decimalFloatingPoint("DURATION");if(kn(e))return e}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}get plannedDuration(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}get endOnNext(){return this.attr.bool("END-ON-NEXT")}get isInterstitial(){return this.class===k6e}get isValid(){return!!this.id&&!this._badValueForSameId&&kn(this.startDate.getTime())&&(this.duration===null||this.duration>=0)&&(!this.endOnNext||!!this.class)&&(!this.attr.CUE||!this.cue.pre&&!this.cue.post||this.cue.pre!==this.cue.post)&&(!this.isInterstitial||"X-ASSET-URI"in this.attr||"X-ASSET-LIST"in this.attr)}}const R6e=10;class O6e{constructor(e){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.dateRangeTagCount=0,this.live=!0,this.requestScheduled=-1,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.appliedTimelineOffset=void 0,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=e}reloaded(e){if(!e){this.advanced=!0,this.updated=!0;return}const r=this.lastPartSn-e.lastPartSn,n=this.lastPartIndex-e.lastPartIndex;this.updated=this.endSN!==e.endSN||!!n||!!r||!this.live,this.advanced=this.endSN>e.endSN||r>0||r===0&&n>0,this.updated||this.advanced?this.misses=Math.floor(e.misses*.6):this.misses=e.misses+1}hasKey(e){return this.encryptedFragments.some(r=>{let n=r.decryptdata;return n||(r.setKeyFormat(e.keyFormat),n=r.decryptdata),!!n&&e.matches(n)})}get hasProgramDateTime(){return this.fragments.length?kn(this.fragments[this.fragments.length-1].programDateTime):!1}get levelTargetDuration(){return this.averagetargetduration||this.targetduration||R6e}get drift(){const e=this.driftEndTime-this.driftStartTime;return e>0?(this.driftEnd-this.driftStart)*1e3/e:1}get edge(){return this.partEnd||this.fragmentEnd}get partEnd(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].end:this.fragmentEnd}get fragmentEnd(){return this.fragments.length?this.fragments[this.fragments.length-1].end:0}get fragmentStart(){return this.fragments.length?this.fragments[0].start:0}get age(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}get lastPartIndex(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].index:-1}get maxPartIndex(){const e=this.partList;if(e){const r=this.lastPartIndex;if(r!==-1){for(let n=e.length;n--;)if(e[n].index>r)return e[n].index;return r}}return 0}get lastPartSn(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}get expired(){if(this.live&&this.age&&this.misses<3){const e=this.partEnd-this.fragmentStart;return this.age>Math.max(e,this.totalduration)+this.levelTargetDuration}return!1}}function jj(t,e){return t.length===e.length?!t.some((r,n)=>r!==e[n]):!1}function eG(t,e){return!t&&!e?!0:!t||!e?!1:jj(t,e)}function nb(t){return t==="AES-128"||t==="AES-256"||t==="AES-256-CTR"}function WM(t){switch(t){case"AES-128":case"AES-256":return E0.cbc;case"AES-256-CTR":return E0.ctr;default:throw new Error(`invalid full segment method ${t}`)}}function YM(t){return Uint8Array.from(atob(t),e=>e.charCodeAt(0))}function FR(t){return Uint8Array.from(unescape(encodeURIComponent(t)),e=>e.charCodeAt(0))}function P6e(t){const e=FR(t).subarray(0,16),r=new Uint8Array(16);return r.set(e,16-e.length),r}function Nne(t){const e=function(n,i,s){const a=n[i];n[i]=n[s],n[s]=a};e(t,0,3),e(t,1,2),e(t,4,5),e(t,6,7)}function Ine(t){const e=t.split(":");let r=null;if(e[0]==="data"&&e.length===2){const n=e[1].split(";"),i=n[n.length-1].split(",");if(i.length===2){const s=i[0]==="base64",a=i[1];s?(n.splice(-1,1),r=YM(a)):r=P6e(a)}}return r}const Nj=typeof self<"u"?self:void 0;var Il={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},pd={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.streamingkeydelivery",PLAYREADY:"com.microsoft.playready",WIDEVINE:"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"};function M_(t){switch(t){case pd.FAIRPLAY:return Il.FAIRPLAY;case pd.PLAYREADY:return Il.PLAYREADY;case pd.WIDEVINE:return Il.WIDEVINE;case pd.CLEARKEY:return Il.CLEARKEY}}function ZB(t){switch(t){case Il.FAIRPLAY:return pd.FAIRPLAY;case Il.PLAYREADY:return pd.PLAYREADY;case Il.WIDEVINE:return pd.WIDEVINE;case Il.CLEARKEY:return pd.CLEARKEY}}function nw(t){const{drmSystems:e,widevineLicenseUrl:r}=t,n=e?[Il.FAIRPLAY,Il.WIDEVINE,Il.PLAYREADY,Il.CLEARKEY].filter(i=>!!e[i]):[];return!n[Il.WIDEVINE]&&r&&n.push(Il.WIDEVINE),n}const kne=(function(t){return Nj!=null&&(t=Nj.navigator)!=null&&t.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null})();function D6e(t,e,r,n){let i;switch(t){case Il.FAIRPLAY:i=["cenc","sinf"];break;case Il.WIDEVINE:case Il.PLAYREADY:i=["cenc"];break;case Il.CLEARKEY:i=["cenc","keyids"];break;default:throw new Error(`Unknown key-system: ${t}`)}return M6e(i,e,r,n)}function M6e(t,e,r,n){return[{initDataTypes:t,persistentState:n.persistentState||"optional",distinctiveIdentifier:n.distinctiveIdentifier||"optional",sessionTypes:n.sessionTypes||[n.sessionType||"temporary"],audioCapabilities:e.map(s=>({contentType:`audio/mp4; codecs=${s}`,robustness:n.audioRobustness||"",encryptionScheme:n.audioEncryptionScheme||null})),videoCapabilities:r.map(s=>({contentType:`video/mp4; codecs=${s}`,robustness:n.videoRobustness||"",encryptionScheme:n.videoEncryptionScheme||null}))}]}function F6e(t){var e;return!!t&&(t.sessionType==="persistent-license"||!!((e=t.sessionTypes)!=null&&e.some(r=>r==="persistent-license")))}function Bne(t){const e=new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2),r=String.fromCharCode.apply(null,Array.from(e)),n=r.substring(r.indexOf("<"),r.length),a=new DOMParser().parseFromString(n,"text/xml").getElementsByTagName("KID")[0];if(a){const c=a.childNodes[0]?a.childNodes[0].nodeValue:a.getAttribute("VALUE");if(c){const u=YM(c).subarray(0,16);return Nne(u),u}}return null}let qy={};class g0{static clearKeyUriToKeyIdMap(){qy={}}static setKeyIdForUri(e,r){qy[e]=r}static addKeyIdForUri(e){const r=Object.keys(qy).length%Number.MAX_SAFE_INTEGER,n=new Uint8Array(16);return new DataView(n.buffer,12,4).setUint32(0,r),qy[e]=n,n}constructor(e,r,n,i=[1],s=null,a){this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=e,this.uri=r,this.keyFormat=n,this.keyFormatVersions=i,this.iv=s,this.encrypted=e?e!=="NONE":!1,this.isCommonEncryption=this.encrypted&&!nb(e),a!=null&&a.startsWith("0x")&&(this.keyId=new Uint8Array(ane(a)))}matches(e){return e.uri===this.uri&&e.method===this.method&&e.encrypted===this.encrypted&&e.keyFormat===this.keyFormat&&jj(e.keyFormatVersions,this.keyFormatVersions)&&eG(e.iv,this.iv)&&eG(e.keyId,this.keyId)}isSupported(){if(this.method){if(nb(this.method)||this.method==="NONE")return!0;if(this.keyFormat==="identity")return this.method==="SAMPLE-AES";switch(this.keyFormat){case pd.FAIRPLAY:case pd.WIDEVINE:case pd.PLAYREADY:case pd.CLEARKEY:return["SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)!==-1}}return!1}getDecryptData(e,r){if(!this.encrypted||!this.uri)return null;if(nb(this.method)){let s=this.iv;return s||(typeof e!="number"&&(ao.warn(`missing IV for initialization segment with method="${this.method}" - compliance issue`),e=0),s=$6e(e)),new g0(this.method,this.uri,"identity",this.keyFormatVersions,s)}if(this.keyId){const s=qy[this.uri];if(s&&!jj(this.keyId,s)&&g0.setKeyIdForUri(this.uri,this.keyId),this.pssh)return this}const n=Ine(this.uri);if(n)switch(this.keyFormat){case pd.WIDEVINE:if(this.pssh=n,!this.keyId){const s=VUe(n.buffer);if(s.length){var i;const a=s[0];this.keyId=(i=a.kids)!=null&&i.length?a.kids[0]:null}}this.keyId||(this.keyId=tG(r));break;case pd.PLAYREADY:{const s=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=QUe(s,null,n),this.keyId=Bne(n);break}default:{let s=n.subarray(0,16);if(s.length!==16){const a=new Uint8Array(16);a.set(s,16-s.length),s=a}this.keyId=s;break}}if(!this.keyId||this.keyId.byteLength!==16){let s;s=U6e(r),s||(s=tG(r),s||(s=qy[this.uri])),s&&(this.keyId=s,g0.setKeyIdForUri(this.uri,s))}return this}}function U6e(t){const e=t?.[pd.WIDEVINE];return e?e.keyId:null}function tG(t){const e=t?.[pd.PLAYREADY];if(e){const r=Ine(e.uri);if(r)return Bne(r)}return null}function $6e(t){const e=new Uint8Array(16);for(let r=12;r<16;r++)e[r]=t>>8*(15-r)&255;return e}const rG=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,nG=/#EXT-X-MEDIA:(.*)/g,H6e=/^#EXT(?:INF|-X-TARGETDURATION):/m,JB=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[^\r\n]*)/.source,/#.*/.source].join("|"),"g"),Q6e=new RegExp([/#EXT-X-(PROGRAM-DATE-TIME|BYTERANGE|DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP|INDEPENDENT-SEGMENTS)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|"));class _m{static findGroup(e,r){for(let n=0;n<e.length;n++){const i=e[n];if(i.id===r)return i}}static resolve(e,r){return UM.buildAbsoluteURL(r,e,{alwaysNormalize:!0})}static isMediaPlaylist(e){return H6e.test(e)}static parseMasterPlaylist(e,r){const n=XK(e),i={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:n},s=[];if(rG.lastIndex=0,!e.startsWith("#EXTM3U"))return i.playlistParsingError=new Error("no EXTM3U delimiter"),i;let a;for(;(a=rG.exec(e))!=null;)if(a[1]){var c;const o=new Cl(a[1],i),d=MR(i,a[2]),f={attrs:o,bitrate:o.decimalInteger("BANDWIDTH")||o.decimalInteger("AVERAGE-BANDWIDTH"),name:o.NAME,url:_m.resolve(d,r)},A=o.decimalResolution("RESOLUTION");A&&(f.width=A.width,f.height=A.height),aG(o.CODECS,f);const p=o["SUPPLEMENTAL-CODECS"];p&&(f.supplemental={},aG(p,f.supplemental)),(c=f.unknownCodecs)!=null&&c.length||s.push(f),i.levels.push(f)}else if(a[3]){const o=a[3],d=a[4];switch(o){case"SESSION-DATA":{const f=new Cl(d,i),A=f["DATA-ID"];A&&(i.sessionData===null&&(i.sessionData={}),i.sessionData[A]=f);break}case"SESSION-KEY":{const f=iG(d,r,i);f.encrypted&&f.isSupported()?(i.sessionKeys===null&&(i.sessionKeys=[]),i.sessionKeys.push(f)):ao.warn(`[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "${d}"`);break}case"DEFINE":{{const f=new Cl(d,i);ZK(i,f,r)}break}case"CONTENT-STEERING":{const f=new Cl(d,i);i.contentSteering={uri:_m.resolve(f["SERVER-URI"],r),pathwayId:f["PATHWAY-ID"]||"."};break}case"START":{i.startTimeOffset=sG(d);break}}}const u=s.length>0&&s.length<i.levels.length;return i.levels=u?s:i.levels,i.levels.length===0&&(i.playlistParsingError=new Error("no levels found in manifest")),i}static parseMasterPlaylistMedia(e,r,n){let i;const s={},a=n.levels,c={AUDIO:a.map(o=>({id:o.attrs.AUDIO,audioCodec:o.audioCodec})),SUBTITLES:a.map(o=>({id:o.attrs.SUBTITLES,textCodec:o.textCodec})),"CLOSED-CAPTIONS":[]};let u=0;for(nG.lastIndex=0;(i=nG.exec(e))!==null;){const o=new Cl(i[1],n),d=o.TYPE;if(d){const f=c[d],A=s[d]||[];s[d]=A;const p=o.LANGUAGE,g=o["ASSOC-LANGUAGE"],y=o.CHANNELS,v=o.CHARACTERISTICS,b=o["INSTREAM-ID"],w={attrs:o,bitrate:0,id:u++,groupId:o["GROUP-ID"]||"",name:o.NAME||p||"",type:d,default:o.bool("DEFAULT"),autoselect:o.bool("AUTOSELECT"),forced:o.bool("FORCED"),lang:p,url:o.URI?_m.resolve(o.URI,r):""};if(g&&(w.assocLang=g),y&&(w.channels=y),v&&(w.characteristics=v),b&&(w.instreamId=b),f!=null&&f.length){const S=_m.findGroup(f,w.groupId)||f[0];oG(w,S,"audioCodec"),oG(w,S,"textCodec")}A.push(w)}}return s}static parseLevelPlaylist(e,r,n,i,s,a){var c;const u={url:r},o=new O6e(r),d=o.fragments,f=[];let A=null,p=0,g=0,y=0,v=0,b=0,w=null,S=new YB(i,u),_,T,L,D=-1,V=!1,G=null,J;if(JB.lastIndex=0,o.m3u8=e,o.hasVariableRefs=XK(e),((c=JB.exec(e))==null?void 0:c[0])!=="#EXTM3U")return o.playlistParsingError=new Error("Missing format identifier #EXTM3U"),o;for(;(_=JB.exec(e))!==null;){V&&(V=!1,S=new YB(i,u),S.playlistOffset=y,S.setStart(y),S.sn=p,S.cc=v,b&&(S.bitrate=b),S.level=n,A&&(S.initSegment=A,A.rawProgramDateTime&&(S.rawProgramDateTime=A.rawProgramDateTime,A.rawProgramDateTime=null),G&&(S.setByteRange(G),G=null)));const ge=_[1];if(ge){S.duration=parseFloat(ge);const he=(" "+_[2]).slice(1);S.title=he||null,S.tagList.push(he?["INF",ge,he]:["INF",ge])}else if(_[3]){if(kn(S.duration)){S.playlistOffset=y,S.setStart(y),L&&cG(S,L,o),S.sn=p,S.level=n,S.cc=v,d.push(S);const he=(" "+_[3]).slice(1);S.relurl=MR(o,he),UR(S,w,f),w=S,y+=S.duration,p++,g=0,V=!0}}else{if(_=_[0].match(Q6e),!_){ao.warn("No matches on slow regex match for level playlist!");continue}for(T=1;T<_.length&&_[T]===void 0;T++);const he=(" "+_[T]).slice(1),ne=(" "+_[T+1]).slice(1),Ae=_[T+2]?(" "+_[T+2]).slice(1):null;switch(he){case"BYTERANGE":w?S.setByteRange(ne,w):S.setByteRange(ne);break;case"PROGRAM-DATE-TIME":S.rawProgramDateTime=ne,S.tagList.push(["PROGRAM-DATE-TIME",ne]),D===-1&&(D=d.length);break;case"PLAYLIST-TYPE":o.type&&fp(o,he,_),o.type=ne.toUpperCase();break;case"MEDIA-SEQUENCE":o.startSN!==0?fp(o,he,_):d.length>0&&uG(o,he,_),p=o.startSN=parseInt(ne);break;case"SKIP":{o.skippedSegments&&fp(o,he,_);const oe=new Cl(ne,o),Be=oe.decimalInteger("SKIPPED-SEGMENTS");if(kn(Be)){o.skippedSegments+=Be;for(let ve=Be;ve--;)d.push(null);p+=Be}const ke=oe.enumeratedString("RECENTLY-REMOVED-DATERANGES");ke&&(o.recentlyRemovedDateranges=(o.recentlyRemovedDateranges||[]).concat(ke.split("	")));break}case"TARGETDURATION":o.targetduration!==0&&fp(o,he,_),o.targetduration=Math.max(parseInt(ne),1);break;case"VERSION":o.version!==null&&fp(o,he,_),o.version=parseInt(ne);break;case"INDEPENDENT-SEGMENTS":break;case"ENDLIST":o.live||fp(o,he,_),o.live=!1;break;case"#":(ne||Ae)&&S.tagList.push(Ae?[ne,Ae]:[ne]);break;case"DISCONTINUITY":v++,S.tagList.push(["DIS"]);break;case"GAP":S.gap=!0,S.tagList.push([he]);break;case"BITRATE":S.tagList.push([he,ne]),b=parseInt(ne)*1e3,kn(b)?S.bitrate=b:b=0;break;case"DATERANGE":{const oe=new Cl(ne,o),Be=new jne(oe,o.dateRanges[oe.ID],o.dateRangeTagCount);o.dateRangeTagCount++,Be.isValid||o.skippedSegments?o.dateRanges[Be.id]=Be:ao.warn(`Ignoring invalid DATERANGE tag: "${ne}"`),S.tagList.push(["EXT-X-DATERANGE",ne]);break}case"DEFINE":{{const oe=new Cl(ne,o);"IMPORT"in oe?N6e(o,oe,a):ZK(o,oe,r)}break}case"DISCONTINUITY-SEQUENCE":o.startCC!==0?fp(o,he,_):d.length>0&&uG(o,he,_),o.startCC=v=parseInt(ne);break;case"KEY":{const oe=iG(ne,r,o);if(oe.isSupported()){if(oe.method==="NONE"){L=void 0;break}L||(L={});const Be=L[oe.keyFormat];Be!=null&&Be.matches(oe)||(Be&&(L=So({},L)),L[oe.keyFormat]=oe)}else ao.warn(`[Keys] Ignoring unsupported EXT-X-KEY tag: "${ne}"`);break}case"START":o.startTimeOffset=sG(ne);break;case"MAP":{const oe=new Cl(ne,o);if(S.duration){const Be=new YB(i,u);lG(Be,oe,n,L),A=Be,S.initSegment=A,A.rawProgramDateTime&&!S.rawProgramDateTime&&(S.rawProgramDateTime=A.rawProgramDateTime)}else{const Be=S.byteRangeEndOffset;if(Be){const ke=S.byteRangeStartOffset;G=`${Be-ke}@${ke}`}else G=null;lG(S,oe,n,L),A=S,V=!0}A.cc=v;break}case"SERVER-CONTROL":{J&&fp(o,he,_),J=new Cl(ne),o.canBlockReload=J.bool("CAN-BLOCK-RELOAD"),o.canSkipUntil=J.optionalFloat("CAN-SKIP-UNTIL",0),o.canSkipDateRanges=o.canSkipUntil>0&&J.bool("CAN-SKIP-DATERANGES"),o.partHoldBack=J.optionalFloat("PART-HOLD-BACK",0),o.holdBack=J.optionalFloat("HOLD-BACK",0);break}case"PART-INF":{o.partTarget&&fp(o,he,_);const oe=new Cl(ne);o.partTarget=oe.decimalFloatingPoint("PART-TARGET");break}case"PART":{let oe=o.partList;oe||(oe=o.partList=[]);const Be=g>0?oe[oe.length-1]:void 0,ke=g++,ve=new Cl(ne,o),se=new NUe(ve,S,u,ke,Be);oe.push(se),S.duration+=se.duration;break}case"PRELOAD-HINT":{const oe=new Cl(ne,o);o.preloadHint=oe;break}case"RENDITION-REPORT":{const oe=new Cl(ne,o);o.renditionReports=o.renditionReports||[],o.renditionReports.push(oe);break}default:ao.warn(`line parsed but not handled: ${_}`);break}}}w&&!w.relurl?(d.pop(),y-=w.duration,o.partList&&(o.fragmentHint=w)):o.partList&&(UR(S,w,f),S.cc=v,o.fragmentHint=S,L&&cG(S,L,o)),o.targetduration||(o.playlistParsingError=new Error("Missing Target Duration"));const ee=d.length,ue=d[0],pe=d[ee-1];if(y+=o.skippedSegments*o.targetduration,y>0&&ee&&pe){o.averagetargetduration=y/ee;const ge=pe.sn;o.endSN=ge!=="initSegment"?ge:0,o.live||(pe.endList=!0),D>0&&(K6e(d,D),ue&&f.unshift(ue))}return o.fragmentHint&&(y+=o.fragmentHint.duration),o.totalduration=y,f.length&&o.dateRangeTagCount&&ue&&Lne(f,o),o.endCC=v,o}}function Lne(t,e){let r=t.length;if(!r)if(e.hasProgramDateTime){const c=e.fragments[e.fragments.length-1];t.push(c),r++}else return;const n=t[r-1],i=e.live?1/0:e.totalduration,s=Object.keys(e.dateRanges);for(let c=s.length;c--;){const u=e.dateRanges[s[c]],o=u.startDate.getTime();u.tagAnchor=n.ref;for(let d=r;d--;){var a;if(((a=t[d])==null?void 0:a.sn)<e.startSN)break;const f=V6e(e,o,t,d,i);if(f!==-1){u.tagAnchor=e.fragments[f].ref;break}}}}function V6e(t,e,r,n,i){const s=r[n];if(s){const c=s.programDateTime;if(e>=c||n===0){var a;const u=(((a=r[n+1])==null?void 0:a.start)||i)-s.start;if(e<=c+u*1e3){const o=r[n].sn-t.startSN;if(o<0)return-1;const d=t.fragments;if(d.length>r.length){const A=(r[n+1]||d[d.length-1]).sn-t.startSN;for(let p=A;p>o;p--){const g=d[p].programDateTime;if(e>=g&&e<g+d[p].duration*1e3)return p}}return o}}}return-1}function iG(t,e,r){var n,i;const s=new Cl(t,r),a=(n=s.METHOD)!=null?n:"",c=s.URI,u=s.hexadecimalInteger("IV"),o=s.KEYFORMATVERSIONS,d=(i=s.KEYFORMAT)!=null?i:"identity";c&&s.IV&&!u&&ao.error(`Invalid IV: ${s.IV}`);const f=c?_m.resolve(c,e):"",A=(o||"1").split("/").map(Number).filter(Number.isFinite);return new g0(a,f,d,A,u,s.KEYID)}function sG(t){const r=new Cl(t).decimalFloatingPoint("TIME-OFFSET");return kn(r)?r:null}function aG(t,e){let r=(t||"").split(/[ ,]+/).filter(n=>n);["video","audio","text"].forEach(n=>{const i=r.filter(s=>QM(s,n));i.length&&(e[`${n}Codec`]=i.map(s=>s.split("/")[0]).join(","),r=r.filter(s=>i.indexOf(s)===-1))}),e.unknownCodecs=r}function oG(t,e,r){const n=e[r];n&&(t[r]=n)}function K6e(t,e){let r=t[e];for(let n=e;n--;){const i=t[n];if(!i)return;i.programDateTime=r.programDateTime-i.duration*1e3,r=i}}function UR(t,e,r){t.rawProgramDateTime?r.push(t):e!=null&&e.programDateTime&&(t.programDateTime=e.endProgramDateTime)}function lG(t,e,r,n){t.relurl=e.URI,e.BYTERANGE&&t.setByteRange(e.BYTERANGE),t.level=r,t.sn="initSegment",n&&(t.levelkeys=n),t.initSegment=null}function cG(t,e,r){t.levelkeys=e;const{encryptedFragments:n}=r;(!n.length||n[n.length-1].levelkeys!==e)&&Object.keys(e).some(i=>e[i].isCommonEncryption)&&n.push(t)}function fp(t,e,r){t.playlistParsingError=new Error(`#EXT-X-${e} must not appear more than once (${r[0]})`)}function uG(t,e,r){t.playlistParsingError=new Error(`#EXT-X-${e} must appear before the first Media Segment (${r[0]})`)}function eL(t,e){const r=e.startPTS;if(kn(r)){let n=0,i;e.sn>t.sn?(n=r-t.start,i=t):(n=t.start-r,i=e),i.duration!==n&&i.setDuration(n)}else e.sn>t.sn?t.cc===e.cc&&t.minEndPTS?e.setStart(t.start+(t.minEndPTS-t.start)):e.setStart(t.start+t.duration):e.setStart(Math.max(t.start-e.duration,0))}function Rne(t,e,r,n,i,s,a){n-r<=0&&(a.warn("Fragment should have a positive duration",e),n=r+e.duration,s=i+e.duration);let u=r,o=n;const d=e.startPTS,f=e.endPTS;if(kn(d)){const b=Math.abs(d-r);t&&b>t.totalduration?a.warn(`media timestamps and playlist times differ by ${b}s for level ${e.level} ${t.url}`):kn(e.deltaPTS)?e.deltaPTS=Math.max(b,e.deltaPTS):e.deltaPTS=b,u=Math.max(r,d),r=Math.min(r,d),i=e.startDTS!==void 0?Math.min(i,e.startDTS):i,o=Math.min(n,f),n=Math.max(n,f),s=e.endDTS!==void 0?Math.max(s,e.endDTS):s}const A=r-e.start;e.start!==0&&e.setStart(r),e.setDuration(n-e.start),e.startPTS=r,e.maxStartPTS=u,e.startDTS=i,e.endPTS=n,e.minEndPTS=o,e.endDTS=s;const p=e.sn;if(!t||p<t.startSN||p>t.endSN)return 0;let g;const y=p-t.startSN,v=t.fragments;for(v[y]=e,g=y;g>0;g--)eL(v[g],v[g-1]);for(g=y;g<v.length-1;g++)eL(v[g],v[g+1]);return t.fragmentHint&&eL(v[v.length-1],t.fragmentHint),t.PTSKnown=t.alignedSliding=!0,A}function G6e(t,e,r){if(t===e)return;let n=null;const i=t.fragments;for(let d=i.length-1;d>=0;d--){const f=i[d].initSegment;if(f){n=f;break}}t.fragmentHint&&delete t.fragmentHint.endPTS;let s;Y6e(t,e,(d,f,A,p)=>{if((!e.startCC||e.skippedSegments)&&f.cc!==d.cc){const g=d.cc-f.cc;for(let y=A;y<p.length;y++)p[y].cc+=g;e.endCC=p[p.length-1].cc}kn(d.startPTS)&&kn(d.endPTS)&&(f.setStart(f.startPTS=d.startPTS),f.startDTS=d.startDTS,f.maxStartPTS=d.maxStartPTS,f.endPTS=d.endPTS,f.endDTS=d.endDTS,f.minEndPTS=d.minEndPTS,f.setDuration(d.endPTS-d.startPTS),f.duration&&(s=f),e.PTSKnown=e.alignedSliding=!0),d.hasStreams&&(f.elementaryStreams=d.elementaryStreams),f.loader=d.loader,d.hasStats&&(f.stats=d.stats),d.initSegment&&(f.initSegment=d.initSegment,n=d.initSegment)});const a=e.fragments,c=e.fragmentHint?a.concat(e.fragmentHint):a;if(n&&c.forEach(d=>{var f;d&&(!d.initSegment||d.initSegment.relurl===((f=n)==null?void 0:f.relurl))&&(d.initSegment=n)}),e.skippedSegments){if(e.deltaUpdateFailed=a.some(d=>!d),e.deltaUpdateFailed){r.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(let d=e.skippedSegments;d--;)a.shift();e.startSN=a[0].sn}else{e.canSkipDateRanges&&(e.dateRanges=z6e(t.dateRanges,e,r));const d=t.fragments.filter(f=>f.rawProgramDateTime);if(t.hasProgramDateTime&&!e.hasProgramDateTime)for(let f=1;f<c.length;f++)c[f].programDateTime===null&&UR(c[f],c[f-1],d);Lne(d,e)}e.endCC=a[a.length-1].cc}if(!e.startCC){var u;const d=Dne(t,e.startSN-1);e.startCC=(u=d?.cc)!=null?u:a[0].cc}W6e(t.partList,e.partList,(d,f)=>{f.elementaryStreams=d.elementaryStreams,f.stats=d.stats}),s?Rne(e,s,s.startPTS,s.endPTS,s.startDTS,s.endDTS,r):One(t,e),a.length&&(e.totalduration=e.edge-a[0].start),e.driftStartTime=t.driftStartTime,e.driftStart=t.driftStart;const o=e.advancedDateTime;if(e.advanced&&o){const d=e.edge;e.driftStart||(e.driftStartTime=o,e.driftStart=d),e.driftEndTime=o,e.driftEnd=d}else e.driftEndTime=t.driftEndTime,e.driftEnd=t.driftEnd,e.advancedDateTime=t.advancedDateTime;e.requestScheduled===-1&&(e.requestScheduled=t.requestScheduled)}function z6e(t,e,r){const{dateRanges:n,recentlyRemovedDateranges:i}=e,s=So({},t);i&&i.forEach(u=>{delete s[u]});const c=Object.keys(s).length;return c?(Object.keys(n).forEach(u=>{const o=s[u],d=new jne(n[u].attr,o);d.isValid?(s[u]=d,o||(d.tagOrder+=c)):r.warn(`Ignoring invalid Playlist Delta Update DATERANGE tag: "${Mo(n[u].attr)}"`)}),s):n}function W6e(t,e,r){if(t&&e){let n=0;for(let i=0,s=t.length;i<=s;i++){const a=t[i],c=e[i+n];a&&c&&a.index===c.index&&a.fragment.sn===c.fragment.sn?r(a,c):n--}}}function Y6e(t,e,r){const n=e.skippedSegments,i=Math.max(t.startSN,e.startSN)-e.startSN,s=(t.fragmentHint?1:0)+(n?e.endSN:Math.min(t.endSN,e.endSN))-e.startSN,a=e.startSN-t.startSN,c=e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments,u=t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments;for(let o=i;o<=s;o++){const d=u[a+o];let f=c[o];if(n&&!f&&d&&(f=e.fragments[o]=d),d&&f){r(d,f,o,c);const A=d.relurl,p=f.relurl;if(A&&q6e(A,p)){e.playlistParsingError=dG(`media sequence mismatch ${f.sn}:`,t,e,d,f);return}else if(d.cc!==f.cc){e.playlistParsingError=dG(`discontinuity sequence mismatch (${d.cc}!=${f.cc})`,t,e,d,f);return}}}}function dG(t,e,r,n,i){return new Error(`${t} ${i.url}
Playlist starting @${e.startSN}
${e.m3u8}

Playlist starting @${r.startSN}
${r.m3u8}`)}function One(t,e,r=!0){const n=e.startSN+e.skippedSegments-t.startSN,i=t.fragments,s=n>=0;let a=0;if(s&&n<i.length)a=i[n].start;else if(s&&e.startSN===t.endSN+1)a=t.fragmentEnd;else if(s&&r)a=t.fragmentStart+n*e.levelTargetDuration;else if(!e.skippedSegments&&e.fragmentStart===0)a=t.fragmentStart;else return;$R(e,a)}function $R(t,e){if(e){const r=t.fragments;for(let n=t.skippedSegments;n<r.length;n++)r[n].addStart(e);t.fragmentHint&&t.fragmentHint.addStart(e)}}function Pne(t,e=1/0){let r=1e3*t.targetduration;if(t.updated){const n=t.fragments;if(n.length&&r*4>e){const s=n[n.length-1].duration*1e3;s<r&&(r=s)}}else r/=2;return Math.round(r)}function Dne(t,e,r){if(!t)return null;let n=t.fragments[e-t.startSN];return n||(n=t.fragmentHint,n&&n.sn===e)?n:e<t.startSN&&r&&r.sn===e?r:null}function hG(t,e,r){return t?Mne(t.partList,e,r):null}function Mne(t,e,r){if(t)for(let n=t.length;n--;){const i=t[n];if(i.index===r&&i.fragment.sn===e)return i}return null}function Fne(t){t.forEach((e,r)=>{var n;(n=e.details)==null||n.fragments.forEach(i=>{i.level=r,i.initSegment&&(i.initSegment.level=r)})})}function q6e(t,e){return t!==e&&e?fG(t)!==fG(e):!1}function fG(t){return t.replace(/\?[^?]*$/,"")}function Hw(t,e){for(let n=0,i=t.length;n<i;n++){var r;if(((r=t[n])==null?void 0:r.cc)===e)return t[n]}return null}function X6e(t,e){return!!(t&&e.startCC<t.endCC&&e.endCC>t.startCC)}function AG(t,e){const r=t.start+e;t.startPTS=r,t.setStart(r),t.endPTS=r+t.duration}function Une(t,e){const r=e.fragments;for(let n=0,i=r.length;n<i;n++)AG(r[n],t);e.fragmentHint&&AG(e.fragmentHint,t),e.alignedSliding=!0}function Z6e(t,e){t&&($ne(e,t),e.alignedSliding||Ij(e,t),!e.alignedSliding&&!e.skippedSegments&&One(t,e,!1))}function $ne(t,e){if(!X6e(e,t))return;const r=Math.min(e.endCC,t.endCC),n=Hw(e.fragments,r),i=Hw(t.fragments,r);if(!n||!i)return;ao.log(`Aligning playlist at start of dicontinuity sequence ${r}`);const s=n.start-i.start;Une(s,t)}function Ij(t,e){if(!t.hasProgramDateTime||!e.hasProgramDateTime)return;const r=t.fragments,n=e.fragments;if(!r.length||!n.length)return;let i,s;const a=Math.min(e.endCC,t.endCC);e.startCC<a&&t.startCC<a&&(i=Hw(n,a),s=Hw(r,a)),(!i||!s)&&(i=n[Math.floor(n.length/2)],s=Hw(r,i.cc)||r[Math.floor(r.length/2)]);const c=i.programDateTime,u=s.programDateTime;if(!c||!u)return;const o=(u-c)/1e3-(s.start-i.start);Une(o,t)}function th(t,e,r){jh(t,e,r),t.addEventListener(e,r)}function jh(t,e,r){t.removeEventListener(e,r)}const J6e={toString:function(t){let e="";const r=t.length;for(let n=0;n<r;n++)e+=`[${t.start(n).toFixed(3)}-${t.end(n).toFixed(3)}]`;return e}},kr={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"};class qM extends Tne{constructor(e,r,n,i,s){super(i,e.logger),this.hls=void 0,this.fragPrevious=null,this.fragCurrent=null,this.fragmentTracker=void 0,this.transmuxer=null,this._state=kr.STOPPED,this.playlistType=void 0,this.media=null,this.mediaBuffer=null,this.config=void 0,this.bitrateTest=!1,this.lastCurrentTime=0,this.nextLoadPosition=0,this.startPosition=0,this.startTimeOffset=null,this.retryDate=0,this.levels=null,this.fragmentLoader=void 0,this.keyLoader=void 0,this.levelLastLoaded=null,this.startFragRequested=!1,this.decrypter=void 0,this.initPTS=[],this.buffering=!0,this.loadingParts=!1,this.loopSn=void 0,this.onMediaSeeking=()=>{const{config:a,fragCurrent:c,media:u,mediaBuffer:o,state:d}=this,f=u?u.currentTime:0,A=hs.bufferInfo(o||u,f,a.maxBufferHole),p=!A.len;if(this.log(`Media seeking to ${kn(f)?f.toFixed(3):f}, state: ${d}, ${p?"out of":"in"} buffer`),this.state===kr.ENDED)this.resetLoadingState();else if(c){const g=a.maxFragLookUpTolerance,y=c.start-g,v=c.start+c.duration+g;if(p||v<A.start||y>A.end){const b=f>v;(f<y||b)&&(b&&c.loader&&(this.log(`Cancelling fragment load for seek (sn: ${c.sn})`),c.abortRequests(),this.resetLoadingState()),this.fragPrevious=null)}}if(u){this.fragmentTracker.removeFragmentsInRange(f,1/0,this.playlistType,!0);const g=this.lastCurrentTime;if(f>g&&(this.lastCurrentTime=f),!this.loadingParts){const y=Math.max(A.end,f),v=this.shouldLoadParts(this.getLevelDetails(),y);v&&(this.log(`LL-Part loading ON after seeking to ${f.toFixed(2)} with buffer @${y.toFixed(2)}`),this.loadingParts=v)}}this.hls.hasEnoughToStart||(this.log(`Setting ${p?"startPosition":"nextLoadPosition"} to ${f} for seek without enough to start`),this.nextLoadPosition=f,p&&(this.startPosition=f)),p&&this.state===kr.IDLE&&this.tickImmediate()},this.onMediaEnded=()=>{this.log("setting startPosition to 0 because media ended"),this.startPosition=this.lastCurrentTime=0},this.playlistType=s,this.hls=e,this.fragmentLoader=new C6e(e.config),this.keyLoader=n,this.fragmentTracker=r,this.config=e.config,this.decrypter=new GM(e.config)}registerListeners(){const{hls:e}=this;e.on(_e.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(_e.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(_e.MANIFEST_LOADING,this.onManifestLoading,this),e.on(_e.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(_e.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(_e.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(_e.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(_e.MANIFEST_LOADING,this.onManifestLoading,this),e.off(_e.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(_e.ERROR,this.onError,this)}doTick(){this.onTickEnd()}onTickEnd(){}startLoad(e){}stopLoad(){if(this.state===kr.STOPPED)return;this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);const e=this.fragCurrent;e!=null&&e.loader&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=kr.STOPPED}get startPositionValue(){const{nextLoadPosition:e,startPosition:r}=this;return r===-1&&e?e:r}get bufferingEnabled(){return this.buffering}pauseBuffering(){this.buffering=!1}resumeBuffering(){this.buffering=!0}get inFlightFrag(){return{frag:this.fragCurrent,state:this.state}}_streamEnded(e,r){if(r.live||!this.media)return!1;const n=e.end||0,i=this.config.timelineOffset||0;if(n<=i)return!1;const s=e.buffered;this.config.maxBufferHole&&s&&s.length>1&&(e=hs.bufferedInfo(s,e.start,0));const a=e.nextStart;if(a&&a>i&&a<r.edge||this.media.currentTime<e.start)return!1;const u=r.partList;if(u!=null&&u.length){const d=u[u.length-1];return hs.isBuffered(this.media,d.start+d.duration/2)}const o=r.fragments[r.fragments.length-1].type;return this.fragmentTracker.isEndListAppended(o)}getLevelDetails(){if(this.levels&&this.levelLastLoaded!==null)return this.levelLastLoaded.details}get timelineOffset(){const e=this.config.timelineOffset;if(e){var r;return((r=this.getLevelDetails())==null?void 0:r.appliedTimelineOffset)||e}return 0}onMediaAttached(e,r){const n=this.media=this.mediaBuffer=r.media;th(n,"seeking",this.onMediaSeeking),th(n,"ended",this.onMediaEnded);const i=this.config;this.levels&&i.autoStartLoad&&this.state===kr.STOPPED&&this.startLoad(i.startPosition)}onMediaDetaching(e,r){const n=!!r.transferMedia,i=this.media;if(i!==null){if(i.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),jh(i,"seeking",this.onMediaSeeking),jh(i,"ended",this.onMediaEnded),this.keyLoader&&!n&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loopSn=void 0,n){this.resetLoadingState(),this.resetTransmuxer();return}this.loadingParts=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()}}onManifestLoading(){this.initPTS=[],this.levels=this.levelLastLoaded=this.fragCurrent=null,this.lastCurrentTime=this.startPosition=0,this.startFragRequested=!1}onError(e,r){}onManifestLoaded(e,r){this.startTimeOffset=r.startTimeOffset}onHandlerDestroying(){this.stopLoad(),this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null),super.onHandlerDestroying(),this.hls=this.onMediaSeeking=this.onMediaEnded=null}onHandlerDestroyed(){this.state=kr.STOPPED,this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,super.onHandlerDestroyed()}loadFragment(e,r,n){this.startFragRequested=!0,this._loadFragForPlayback(e,r,n)}_loadFragForPlayback(e,r,n){const i=s=>{const a=s.frag;if(this.fragContextChanged(a)){this.warn(`${a.type} sn: ${a.sn}${s.part?" part: "+s.part.index:""} of ${this.fragInfo(a,!1,s.part)}) was dropped during download.`),this.fragmentTracker.removeFragment(a);return}a.stats.chunkCount++,this._handleFragmentLoadProgress(s)};this._doFragLoad(e,r,n,i).then(s=>{if(!s)return;const a=this.state,c=s.frag;if(this.fragContextChanged(c)){(a===kr.FRAG_LOADING||!this.fragCurrent&&a===kr.PARSING)&&(this.fragmentTracker.removeFragment(c),this.state=kr.IDLE);return}"payload"in s&&(this.log(`Loaded ${c.type} sn: ${c.sn} of ${this.playlistLabel()} ${c.level}`),this.hls.trigger(_e.FRAG_LOADED,s)),this._handleFragmentLoadComplete(s)}).catch(s=>{this.state===kr.STOPPED||this.state===kr.ERROR||(this.warn(`Frag error: ${s?.message||s}`),this.resetFragmentLoading(e))})}clearTrackerIfNeeded(e){var r;const{fragmentTracker:n}=this;if(n.getState(e)===du.APPENDING){const s=e.type,a=this.getFwdBufferInfo(this.mediaBuffer,s),c=Math.max(e.duration,a?a.len:this.config.maxBufferLength),u=this.backtrackFragment;((u?e.sn-u.sn:0)===1||this.reduceMaxBufferLength(c,e.duration))&&n.removeFragment(e)}else((r=this.mediaBuffer)==null?void 0:r.buffered.length)===0?n.removeAllFragments():n.hasParts(e.type)&&(n.detectPartialFragments({frag:e,part:null,stats:e.stats,id:e.type}),n.getState(e)===du.PARTIAL&&n.removeFragment(e))}checkLiveUpdate(e){if(e.updated&&!e.live){const r=e.fragments[e.fragments.length-1];this.fragmentTracker.detectPartialFragments({frag:r,part:null,stats:r.stats,id:r.type})}e.fragments[0]||(e.deltaUpdateFailed=!0)}waitForLive(e){const r=e.details;return r?.live&&r.type!=="EVENT"&&(this.levelLastLoaded!==e||r.expired)}flushMainBuffer(e,r,n=null){if(!(e-r))return;const i={startOffset:e,endOffset:r,type:n};this.hls.trigger(_e.BUFFER_FLUSHING,i)}_loadInitSegment(e,r){this._doFragLoad(e,r).then(n=>{const i=n?.frag;if(!i||this.fragContextChanged(i)||!this.levels)throw new Error("init load aborted");return n}).then(n=>{const{hls:i}=this,{frag:s,payload:a}=n,c=s.decryptdata;if(a&&a.byteLength>0&&c!=null&&c.key&&c.iv&&nb(c.method)){const u=self.performance.now();return this.decrypter.decrypt(new Uint8Array(a),c.key.buffer,c.iv.buffer,WM(c.method)).catch(o=>{throw i.trigger(_e.ERROR,{type:Ai.MEDIA_ERROR,details:ar.FRAG_DECRYPT_ERROR,fatal:!1,error:o,reason:o.message,frag:s}),o}).then(o=>{const d=self.performance.now();return i.trigger(_e.FRAG_DECRYPTED,{frag:s,payload:o,stats:{tstart:u,tdecrypt:d}}),n.payload=o,this.completeInitSegmentLoad(n)})}return this.completeInitSegmentLoad(n)}).catch(n=>{this.state===kr.STOPPED||this.state===kr.ERROR||(this.warn(n),this.resetFragmentLoading(e))})}completeInitSegmentLoad(e){const{levels:r}=this;if(!r)throw new Error("init load aborted, missing levels");const n=e.frag.stats;this.state!==kr.STOPPED&&(this.state=kr.IDLE),e.frag.data=new Uint8Array(e.payload),n.parsing.start=n.buffering.start=self.performance.now(),n.parsing.end=n.buffering.end=self.performance.now(),this.tick()}unhandledEncryptionError(e,r){var n,i;const s=e.tracks;if(s&&!r.encrypted&&((n=s.audio)!=null&&n.encrypted||(i=s.video)!=null&&i.encrypted)&&(!this.config.emeEnabled||!this.keyLoader.emeController)){const a=this.media,c=new Error(`Encrypted track with no key in ${this.fragInfo(r)} (media ${a?"attached mediaKeys: "+a.mediaKeys:"detached"})`);return this.warn(c.message),!a||a.mediaKeys?!1:(this.hls.trigger(_e.ERROR,{type:Ai.KEY_SYSTEM_ERROR,details:ar.KEY_SYSTEM_NO_KEYS,fatal:!1,error:c,frag:r}),this.resetTransmuxer(),!0)}return!1}fragContextChanged(e){const{fragCurrent:r}=this;return!e||!r||e.sn!==r.sn||e.level!==r.level}fragBufferedComplete(e,r){const n=this.mediaBuffer?this.mediaBuffer:this.media;if(this.log(`Buffered ${e.type} sn: ${e.sn}${r?" part: "+r.index:""} of ${this.fragInfo(e,!1,r)} > buffer:${n?J6e.toString(hs.getBuffered(n)):"(detached)"})`),bc(e)){var i;if(e.type!==Yn.SUBTITLE){const a=e.elementaryStreams;if(!Object.keys(a).some(c=>!!a[c])){this.state=kr.IDLE;return}}const s=(i=this.levels)==null?void 0:i[e.level];s!=null&&s.fragmentError&&(this.log(`Resetting level fragment error count of ${s.fragmentError} on frag buffered`),s.fragmentError=0)}this.state=kr.IDLE}_handleFragmentLoadComplete(e){const{transmuxer:r}=this;if(!r)return;const{frag:n,part:i,partsLoaded:s}=e,a=!s||s.length===0||s.some(u=>!u),c=new zM(n.level,n.sn,n.stats.chunkCount+1,0,i?i.index:-1,!a);r.flush(c)}_handleFragmentLoadProgress(e){}_doFragLoad(e,r,n=null,i){var s;this.fragCurrent=e;const a=r.details;if(!this.levels||!a)throw new Error(`frag load aborted, missing level${a?"":" detail"}s`);let c=null;if(e.encrypted&&!((s=e.decryptdata)!=null&&s.key)){if(this.log(`Loading key for ${e.sn} of [${a.startSN}-${a.endSN}], ${this.playlistLabel()} ${e.level}`),this.state=kr.KEY_LOADING,this.fragCurrent=e,c=this.keyLoader.load(e).then(A=>{if(!this.fragContextChanged(A.frag))return this.hls.trigger(_e.KEY_LOADED,A),this.state===kr.KEY_LOADING&&(this.state=kr.IDLE),A}),this.hls.trigger(_e.KEY_LOADING,{frag:e}),this.fragCurrent===null)return this.log("context changed in KEY_LOADING"),Promise.resolve(null)}else e.encrypted||(c=this.keyLoader.loadClear(e,a.encryptedFragments,this.startFragRequested),c&&this.log("[eme] blocking frag load until media-keys acquired"));const u=this.fragPrevious;if(bc(e)&&(!u||e.sn!==u.sn)){const A=this.shouldLoadParts(r.details,e.end);A!==this.loadingParts&&(this.log(`LL-Part loading ${A?"ON":"OFF"} loading sn ${u?.sn}->${e.sn}`),this.loadingParts=A)}if(n=Math.max(e.start,n||0),this.loadingParts&&bc(e)){const A=a.partList;if(A&&i){n>a.fragmentEnd&&a.fragmentHint&&(e=a.fragmentHint);const p=this.getNextPart(A,e,n);if(p>-1){const g=A[p];e=this.fragCurrent=g.fragment,this.log(`Loading ${e.type} sn: ${e.sn} part: ${g.index} (${p}/${A.length-1}) of ${this.fragInfo(e,!1,g)}) cc: ${e.cc} [${a.startSN}-${a.endSN}], target: ${parseFloat(n.toFixed(3))}`),this.nextLoadPosition=g.start+g.duration,this.state=kr.FRAG_LOADING;let y;return c?y=c.then(v=>!v||this.fragContextChanged(v.frag)?null:this.doFragPartsLoad(e,g,r,i)).catch(v=>this.handleFragLoadError(v)):y=this.doFragPartsLoad(e,g,r,i).catch(v=>this.handleFragLoadError(v)),this.hls.trigger(_e.FRAG_LOADING,{frag:e,part:g,targetBufferTime:n}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):y}else if(!e.url||this.loadedEndOfParts(A,n))return Promise.resolve(null)}}if(bc(e)&&this.loadingParts){var o;this.log(`LL-Part loading OFF after next part miss @${n.toFixed(2)} Check buffer at sn: ${e.sn} loaded parts: ${(o=a.partList)==null?void 0:o.filter(A=>A.loaded).map(A=>`[${A.start}-${A.end}]`)}`),this.loadingParts=!1}else if(!e.url)return Promise.resolve(null);this.log(`Loading ${e.type} sn: ${e.sn} of ${this.fragInfo(e,!1)}) cc: ${e.cc} ${"["+a.startSN+"-"+a.endSN+"]"}, target: ${parseFloat(n.toFixed(3))}`),kn(e.sn)&&!this.bitrateTest&&(this.nextLoadPosition=e.start+e.duration),this.state=kr.FRAG_LOADING;const d=this.config.progressive&&e.type!==Yn.SUBTITLE;let f;return d&&c?f=c.then(A=>!A||this.fragContextChanged(A.frag)?null:this.fragmentLoader.load(e,i)).catch(A=>this.handleFragLoadError(A)):f=Promise.all([this.fragmentLoader.load(e,d?i:void 0),c]).then(([A])=>(!d&&i&&i(A),A)).catch(A=>this.handleFragLoadError(A)),this.hls.trigger(_e.FRAG_LOADING,{frag:e,targetBufferTime:n}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):f}doFragPartsLoad(e,r,n,i){return new Promise((s,a)=>{var c;const u=[],o=(c=n.details)==null?void 0:c.partList,d=f=>{this.fragmentLoader.loadPart(e,f,i).then(A=>{u[f.index]=A;const p=A.part;this.hls.trigger(_e.FRAG_LOADED,A);const g=hG(n.details,e.sn,f.index+1)||Mne(o,e.sn,f.index+1);if(g)d(g);else return s({frag:e,part:p,partsLoaded:u})}).catch(a)};d(r)})}handleFragLoadError(e){if("data"in e){const r=e.data;r.frag&&r.details===ar.INTERNAL_ABORTED?this.handleFragLoadAborted(r.frag,r.part):r.frag&&r.type===Ai.KEY_SYSTEM_ERROR?(r.frag.abortRequests(),this.resetStartWhenNotLoaded(),this.resetFragmentLoading(r.frag)):this.hls.trigger(_e.ERROR,r)}else this.hls.trigger(_e.ERROR,{type:Ai.OTHER_ERROR,details:ar.INTERNAL_EXCEPTION,err:e,error:e,fatal:!0});return null}_handleTransmuxerFlush(e){const r=this.getCurrentContext(e);if(!r||this.state!==kr.PARSING){!this.fragCurrent&&this.state!==kr.STOPPED&&this.state!==kr.ERROR&&(this.state=kr.IDLE);return}const{frag:n,part:i,level:s}=r,a=self.performance.now();n.stats.parsing.end=a,i&&(i.stats.parsing.end=a);const c=this.getLevelDetails(),o=c&&n.sn>c.endSN||this.shouldLoadParts(c,n.end);o!==this.loadingParts&&(this.log(`LL-Part loading ${o?"ON":"OFF"} after parsing segment ending @${n.end.toFixed(2)}`),this.loadingParts=o),this.updateLevelTiming(n,i,s,e.partial)}shouldLoadParts(e,r){if(this.config.lowLatencyMode){if(!e)return this.loadingParts;if(e.partList){var n;const s=e.partList[0];if(s.fragment.type===Yn.SUBTITLE)return!1;const a=s.end+(((n=e.fragmentHint)==null?void 0:n.duration)||0);if(r>=a){var i;if((this.hls.hasEnoughToStart?((i=this.media)==null?void 0:i.currentTime)||this.lastCurrentTime:this.getLoadPosition())>s.start-s.fragment.duration)return!0}}}return!1}getCurrentContext(e){const{levels:r,fragCurrent:n}=this,{level:i,sn:s,part:a}=e;if(!(r!=null&&r[i]))return this.warn(`Levels object was unset while buffering fragment ${s} of ${this.playlistLabel()} ${i}. The current chunk will not be buffered.`),null;const c=r[i],u=c.details,o=a>-1?hG(u,s,a):null,d=o?o.fragment:Dne(u,s,n);return d?(n&&n!==d&&(d.stats=n.stats),{frag:d,part:o,level:c}):null}bufferFragmentData(e,r,n,i,s){if(this.state!==kr.PARSING)return;const{data1:a,data2:c}=e;let u=a;if(c&&(u=Qf(a,c)),!u.length)return;const o=this.initPTS[r.cc],d=o?-o.baseTime/o.timescale:void 0,f={type:e.type,frag:r,part:n,chunkMeta:i,offset:d,parent:r.type,data:u};if(this.hls.trigger(_e.BUFFER_APPENDING,f),e.dropped&&e.independent&&!n){if(s)return;this.flushBufferGap(r)}}flushBufferGap(e){const r=this.media;if(!r)return;if(!hs.isBuffered(r,r.currentTime)){this.flushMainBuffer(0,e.start);return}const n=r.currentTime,i=hs.bufferInfo(r,n,0),s=e.duration,a=Math.min(this.config.maxFragLookUpTolerance*2,s*.25),c=Math.max(Math.min(e.start-a,i.end-a),n+a);e.start-c>a&&this.flushMainBuffer(c,e.start)}getFwdBufferInfo(e,r){var n;const i=this.getLoadPosition();if(!kn(i))return null;const a=this.lastCurrentTime>i||(n=this.media)!=null&&n.paused?0:this.config.maxBufferHole;return this.getFwdBufferInfoAtPos(e,i,r,a)}getFwdBufferInfoAtPos(e,r,n,i){const s=hs.bufferInfo(e,r,i);if(s.len===0&&s.nextStart!==void 0){const a=this.fragmentTracker.getBufferedFrag(r,n);if(a&&(s.nextStart<=a.end||a.gap)){const c=Math.max(Math.min(s.nextStart,a.end)-r,i);return hs.bufferInfo(e,r,c)}}return s}getMaxBufferLength(e){const{config:r}=this;let n;return e?n=Math.max(8*r.maxBufferSize/e,r.maxBufferLength):n=r.maxBufferLength,Math.min(n,r.maxMaxBufferLength)}reduceMaxBufferLength(e,r){const n=this.config,i=Math.max(Math.min(e-r,n.maxBufferLength),r),s=Math.max(e-r*3,n.maxMaxBufferLength/2,i);return s>=i?(n.maxMaxBufferLength=s,this.warn(`Reduce max buffer length to ${s}s`),!0):!1}getAppendedFrag(e,r=Yn.MAIN){const n=this.fragmentTracker?this.fragmentTracker.getAppendedFrag(e,r):null;return n&&"fragment"in n?n.fragment:n}getNextFragment(e,r){const n=r.fragments,i=n.length;if(!i)return null;const{config:s}=this,a=n[0].start,c=s.lowLatencyMode&&!!r.partList;let u=null;if(r.live){const f=s.initialLiveManifestSize;if(i<f)return this.warn(`Not enough fragments to start playback (have: ${i}, need: ${f})`),null;if(!r.PTSKnown&&!this.startFragRequested&&this.startPosition===-1||e<a){var o;c&&!this.loadingParts&&(this.log("LL-Part loading ON for initial live fragment"),this.loadingParts=!0),u=this.getInitialLiveFragment(r);const A=this.hls.startPosition,p=this.hls.liveSyncPosition,g=u?(A!==-1&&A>=a?A:p)||u.start:e;this.log(`Setting startPosition to ${g} to match start frag at live edge. mainStart: ${A} liveSyncPosition: ${p} frag.start: ${(o=u)==null?void 0:o.start}`),this.startPosition=this.nextLoadPosition=g}}else e<=a&&(u=n[0]);if(!u){const f=this.loadingParts?r.partEnd:r.fragmentEnd;u=this.getFragmentAtPosition(e,f,r)}let d=this.filterReplacedPrimary(u,r);if(!d&&u){const f=u.sn-r.startSN;d=this.filterReplacedPrimary(n[f+1]||null,r)}return this.mapToInitFragWhenRequired(d)}isLoopLoading(e,r){const n=this.fragmentTracker.getState(e);return(n===du.OK||n===du.PARTIAL&&!!e.gap)&&this.nextLoadPosition>r}getNextFragmentLoopLoading(e,r,n,i,s){let a=null;if(e.gap&&(a=this.getNextFragment(this.nextLoadPosition,r),a&&!a.gap&&n.nextStart)){const c=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,n.nextStart,i,0);if(c!==null&&n.len+c.len>=s){const u=a.sn;return this.loopSn!==u&&(this.log(`buffer full after gaps in "${i}" playlist starting at sn: ${u}`),this.loopSn=u),null}}return this.loopSn=void 0,a}get primaryPrefetch(){if(mG(this.config)){var e;if((e=this.hls.interstitialsManager)==null||(e=e.playingItem)==null?void 0:e.event)return!0}return!1}filterReplacedPrimary(e,r){if(!e)return e;if(mG(this.config)&&e.type!==Yn.SUBTITLE){const n=this.hls.interstitialsManager,i=n?.bufferingItem;if(i){const a=i.event;if(a){if(a.appendInPlace||Math.abs(e.start-i.start)>1||i.start===0)return null}else if(e.end<=i.start&&r?.live===!1||e.start>i.end&&i.nextEvent&&(i.nextEvent.appendInPlace||e.start-i.end>1))return null}const s=n?.playerQueue;if(s)for(let a=s.length;a--;){const c=s[a].interstitial;if(c.appendInPlace&&e.start>=c.startTime&&e.end<=c.resumeTime)return null}}return e}mapToInitFragWhenRequired(e){return e!=null&&e.initSegment&&!e.initSegment.data&&!this.bitrateTest?e.initSegment:e}getNextPart(e,r,n){let i=-1,s=!1,a=!0;for(let c=0,u=e.length;c<u;c++){const o=e[c];if(a=a&&!o.independent,i>-1&&n<o.start)break;const d=o.loaded;d?i=-1:(s||(o.independent||a)&&o.fragment===r)&&(o.fragment!==r&&this.warn(`Need buffer at ${n} but next unloaded part starts at ${o.start}`),i=c),s=d}return i}loadedEndOfParts(e,r){let n;for(let i=e.length;i--;){if(n=e[i],!n.loaded)return!1;if(r>n.start)return!0}return!1}getInitialLiveFragment(e){const r=e.fragments,n=this.fragPrevious;let i=null;if(n){if(e.hasProgramDateTime&&(this.log(`Live playlist, switching playlist, load frag with same PDT: ${n.programDateTime}`),i=m6e(r,n.endProgramDateTime,this.config.maxFragLookUpTolerance)),!i){const s=n.sn+1;if(s>=e.startSN&&s<=e.endSN){const a=r[s-e.startSN];n.cc===a.cc&&(i=a,this.log(`Live playlist, switching playlist, load frag with next SN: ${i.sn}`))}i||(i=Ene(e,n.cc,n.end),i&&this.log(`Live playlist, switching playlist, load frag with same CC: ${i.sn}`))}}else{const s=this.hls.liveSyncPosition;s!==null&&(i=this.getFragmentAtPosition(s,this.bitrateTest?e.fragmentEnd:e.edge,e))}return i}getFragmentAtPosition(e,r,n){const{config:i}=this;let{fragPrevious:s}=this,{fragments:a,endSN:c}=n;const{fragmentHint:u}=n,{maxFragLookUpTolerance:o}=i,d=n.partList,f=!!(this.loadingParts&&d!=null&&d.length&&u);f&&!this.bitrateTest&&d[d.length-1].fragment.sn===u.sn&&(a=a.concat(u),c=u.sn);let A;if(e<r){var p;const y=e<this.lastCurrentTime||e>r-o||(p=this.media)!=null&&p.paused||!this.startFragRequested?0:o;A=ly(s,a,e,y)}else A=a[a.length-1];if(A){const g=A.sn-n.startSN,y=this.fragmentTracker.getState(A);if((y===du.OK||y===du.PARTIAL&&A.gap)&&(s=A),s&&A.sn===s.sn&&(!f||d[0].fragment.sn>A.sn||!n.live)&&A.level===s.level){const b=a[g+1];A.sn<c&&this.fragmentTracker.getState(b)!==du.OK?A=b:A=null}}return A}alignPlaylists(e,r,n){const i=e.fragments.length;if(!i)return this.warn("No fragments in live playlist"),0;const s=e.fragmentStart,a=!r,c=e.alignedSliding&&kn(s);if(a||!c&&!s){Z6e(n,e);const u=e.fragmentStart;return this.log(`Live playlist sliding: ${u.toFixed(2)} start-sn: ${r?r.startSN:"na"}->${e.startSN} fragments: ${i}`),u}return s}waitForCdnTuneIn(e){return e.live&&e.canBlockReload&&e.partTarget&&e.tuneInGoal>Math.max(e.partHoldBack,e.partTarget*3)}setStartPosition(e,r){let n=this.startPosition;n<r&&(n=-1);const i=this.timelineOffset;if(n===-1){const s=this.startTimeOffset!==null,a=s?this.startTimeOffset:e.startTimeOffset;a!==null&&kn(a)?(n=r+a,a<0&&(n+=e.edge),n=Math.min(Math.max(r,n),r+e.totalduration),this.log(`Setting startPosition to ${n} for start time offset ${a} found in ${s?"multivariant":"media"} playlist`),this.startPosition=n):e.live?(n=this.hls.liveSyncPosition||r,this.log(`Setting startPosition to -1 to start at live edge ${n}`),this.startPosition=-1):(this.log("setting startPosition to 0 by default"),this.startPosition=n=0),this.lastCurrentTime=n+i}this.nextLoadPosition=n+i}getLoadPosition(){var e;const{media:r}=this;let n=0;return(e=this.hls)!=null&&e.hasEnoughToStart&&r?n=r.currentTime:this.nextLoadPosition>=0&&(n=this.nextLoadPosition),n}handleFragLoadAborted(e,r){this.transmuxer&&e.type===this.playlistType&&bc(e)&&e.stats.aborted&&(this.log(`Fragment ${e.sn}${r?" part "+r.index:""} of ${this.playlistLabel()} ${e.level} was aborted`),this.resetFragmentLoading(e))}resetFragmentLoading(e){(!this.fragCurrent||!this.fragContextChanged(e)&&this.state!==kr.FRAG_LOADING_WAITING_RETRY)&&(this.state=kr.IDLE)}onFragmentOrKeyLoadError(e,r){var n;if(r.chunkMeta&&!r.frag){const b=this.getCurrentContext(r.chunkMeta);b&&(r.frag=b.frag)}const i=r.frag;if(!i||i.type!==e||!this.levels)return;if(this.fragContextChanged(i)){var s;this.warn(`Frag load error must match current frag to retry ${i.url} > ${(s=this.fragCurrent)==null?void 0:s.url}`);return}const a=r.details===ar.FRAG_GAP;a&&this.fragmentTracker.fragBuffered(i,!0);const c=r.errorAction;if(!c){this.state=kr.ERROR;return}const{action:u,flags:o,retryCount:d=0,retryConfig:f}=c,A=!!f,p=A&&u===Ad.RetryRequest,g=A&&!c.resolved&&o===Wh.MoveAllAlternatesMatchingHost,y=(n=this.hls.latestLevelDetails)==null?void 0:n.live;if(!p&&g&&bc(i)&&!i.endList&&y&&!_ne(r))this.resetFragmentErrors(e),this.treatAsGap(i),c.resolved=!0;else if((p||g)&&d<f.maxNumRetry){var v;const b=DR((v=r.response)==null?void 0:v.code),w=KM(f,d);if(this.resetStartWhenNotLoaded(),this.retryDate=self.performance.now()+w,this.state=kr.FRAG_LOADING_WAITING_RETRY,c.resolved=!0,b){this.log("Waiting for connection (offline)"),this.retryDate=1/0,r.reason="offline";return}this.warn(`Fragment ${i.sn} of ${e} ${i.level} errored with ${r.details}, retrying loading ${d+1}/${f.maxNumRetry} in ${w}ms`)}else if(f)if(this.resetFragmentErrors(e),d<f.maxNumRetry)!a&&u!==Ad.RemoveAlternatePermanently&&(c.resolved=!0);else{this.warn(`${r.details} reached or exceeded max retry (${d})`);return}else u===Ad.SendAlternateToPenaltyBox?this.state=kr.WAITING_LEVEL:this.state=kr.ERROR;this.tickImmediate()}checkRetryDate(){const e=self.performance.now(),r=this.retryDate,n=r===1/0;(!r||e>=r||n&&!DR(0))&&(n&&this.log("Connection restored (online)"),this.resetStartWhenNotLoaded(),this.state=kr.IDLE)}reduceLengthAndFlushBuffer(e){if(this.state===kr.PARSING||this.state===kr.PARSED){const r=e.frag,n=e.parent,i=this.getFwdBufferInfo(this.mediaBuffer,n),s=i&&i.len>.5;s&&this.reduceMaxBufferLength(i.len,r?.duration||10);const a=!s;return a&&this.warn(`Buffer full error while media.currentTime (${this.getLoadPosition()}) is not buffered, flush ${n} buffer`),r&&(this.fragmentTracker.removeFragment(r),this.nextLoadPosition=r.start),this.resetLoadingState(),a}return!1}resetFragmentErrors(e){e===Yn.AUDIO&&(this.fragCurrent=null),this.hls.hasEnoughToStart||(this.startFragRequested=!1),this.state!==kr.STOPPED&&(this.state=kr.IDLE)}afterBufferFlushed(e,r,n){if(!e)return;const i=hs.getBuffered(e);this.fragmentTracker.detectEvictedFragments(r,i,n),this.state===kr.ENDED&&this.resetLoadingState()}resetLoadingState(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state!==kr.STOPPED&&(this.state=kr.IDLE)}resetStartWhenNotLoaded(){if(!this.hls.hasEnoughToStart){this.startFragRequested=!1;const e=this.levelLastLoaded,r=e?e.details:null;r!=null&&r.live?(this.log("resetting startPosition for live start"),this.startPosition=-1,this.setStartPosition(r,r.fragmentStart),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}}resetWhenMissingContext(e){this.log(`Loading context changed while buffering sn ${e.sn} of ${this.playlistLabel()} ${e.level===-1?"<removed>":e.level}. This chunk will not be buffered.`),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded(),this.resetLoadingState()}removeUnbufferedFrags(e=0){this.fragmentTracker.removeFragmentsInRange(e,1/0,this.playlistType,!1,!0)}updateLevelTiming(e,r,n,i){const s=n.details;if(!s){this.warn("level.details undefined");return}if(!Object.keys(e.elementaryStreams).reduce((u,o)=>{const d=e.elementaryStreams[o];if(d){const f=d.endPTS-d.startPTS;if(f<=0)return this.warn(`Could not parse fragment ${e.sn} ${o} duration reliably (${f})`),u||!1;const A=i?0:Rne(s,e,d.startPTS,d.endPTS,d.startDTS,d.endDTS,this);return this.hls.trigger(_e.LEVEL_PTS_UPDATED,{details:s,level:n,drift:A,type:o,frag:e,start:d.startPTS,end:d.endPTS}),!0}return u},!1)){var c;const u=((c=this.transmuxer)==null?void 0:c.error)===null;if((n.fragmentError===0||u&&(n.fragmentError<2||e.endList))&&this.treatAsGap(e,n),u){const o=new Error(`Found no media in fragment ${e.sn} of ${this.playlistLabel()} ${e.level} resetting transmuxer to fallback to playlist timing`);if(this.warn(o.message),this.hls.trigger(_e.ERROR,{type:Ai.MEDIA_ERROR,details:ar.FRAG_PARSING_ERROR,fatal:!1,error:o,frag:e,reason:`Found no media in msn ${e.sn} of ${this.playlistLabel()} "${n.url}"`}),!this.hls)return;this.resetTransmuxer()}}this.state=kr.PARSED,this.log(`Parsed ${e.type} sn: ${e.sn}${r?" part: "+r.index:""} of ${this.fragInfo(e,!1,r)})`),this.hls.trigger(_e.FRAG_PARSED,{frag:e,part:r})}playlistLabel(){return this.playlistType===Yn.MAIN?"level":"track"}fragInfo(e,r=!0,n){var i,s;return`${this.playlistLabel()} ${e.level} (${n?"part":"frag"}:[${((i=r&&!n?e.startPTS:(n||e).start)!=null?i:NaN).toFixed(3)}-${((s=r&&!n?e.endPTS:(n||e).end)!=null?s:NaN).toFixed(3)}]${n&&e.type==="main"?"INDEPENDENT="+(n.independent?"YES":"NO"):""}`}treatAsGap(e,r){r&&r.fragmentError++,e.gap=!0,this.fragmentTracker.removeFragment(e),this.fragmentTracker.fragBuffered(e,!0)}resetTransmuxer(){var e;(e=this.transmuxer)==null||e.reset()}recoverWorkerError(e){e.event==="demuxerWorker"&&(this.fragmentTracker.removeAllFragments(),this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null),this.resetStartWhenNotLoaded(),this.resetLoadingState())}set state(e){const r=this._state;r!==e&&(this._state=e,this.log(`${r}->${e}`))}get state(){return this._state}}function mG(t){return!!t.interstitialsController&&t.enableInterstitialPlayback!==!1}class Hne{constructor(){this.chunks=[],this.dataLength=0}push(e){this.chunks.push(e),this.dataLength+=e.length}flush(){const{chunks:e,dataLength:r}=this;let n;if(e.length)e.length===1?n=e[0]:n=e8e(e,r);else return new Uint8Array(0);return this.reset(),n}reset(){this.chunks.length=0,this.dataLength=0}}function e8e(t,e){const r=new Uint8Array(e);let n=0;for(let i=0;i<t.length;i++){const s=t[i];r.set(s,n),n+=s.length}return r}var tL={exports:{}},pG;function t8e(){return pG||(pG=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(u,o,d){this.fn=u,this.context=o,this.once=d||!1}function s(u,o,d,f,A){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new i(d,f||u,A),g=r?r+o:o;return u._events[g]?u._events[g].fn?u._events[g]=[u._events[g],p]:u._events[g].push(p):(u._events[g]=p,u._eventsCount++),u}function a(u,o){--u._eventsCount===0?u._events=new n:delete u._events[o]}function c(){this._events=new n,this._eventsCount=0}c.prototype.eventNames=function(){var o=[],d,f;if(this._eventsCount===0)return o;for(f in d=this._events)e.call(d,f)&&o.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(d)):o},c.prototype.listeners=function(o){var d=r?r+o:o,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var A=0,p=f.length,g=new Array(p);A<p;A++)g[A]=f[A].fn;return g},c.prototype.listenerCount=function(o){var d=r?r+o:o,f=this._events[d];return f?f.fn?1:f.length:0},c.prototype.emit=function(o,d,f,A,p,g){var y=r?r+o:o;if(!this._events[y])return!1;var v=this._events[y],b=arguments.length,w,S;if(v.fn){switch(v.once&&this.removeListener(o,v.fn,void 0,!0),b){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,A),!0;case 5:return v.fn.call(v.context,d,f,A,p),!0;case 6:return v.fn.call(v.context,d,f,A,p,g),!0}for(S=1,w=new Array(b-1);S<b;S++)w[S-1]=arguments[S];v.fn.apply(v.context,w)}else{var _=v.length,T;for(S=0;S<_;S++)switch(v[S].once&&this.removeListener(o,v[S].fn,void 0,!0),b){case 1:v[S].fn.call(v[S].context);break;case 2:v[S].fn.call(v[S].context,d);break;case 3:v[S].fn.call(v[S].context,d,f);break;case 4:v[S].fn.call(v[S].context,d,f,A);break;default:if(!w)for(T=1,w=new Array(b-1);T<b;T++)w[T-1]=arguments[T];v[S].fn.apply(v[S].context,w)}}return!0},c.prototype.on=function(o,d,f){return s(this,o,d,f,!1)},c.prototype.once=function(o,d,f){return s(this,o,d,f,!0)},c.prototype.removeListener=function(o,d,f,A){var p=r?r+o:o;if(!this._events[p])return this;if(!d)return a(this,p),this;var g=this._events[p];if(g.fn)g.fn===d&&(!A||g.once)&&(!f||g.context===f)&&a(this,p);else{for(var y=0,v=[],b=g.length;y<b;y++)(g[y].fn!==d||A&&!g[y].once||f&&g[y].context!==f)&&v.push(g[y]);v.length?this._events[p]=v.length===1?v[0]:v:a(this,p)}return this},c.prototype.removeAllListeners=function(o){var d;return o?(d=r?r+o:o,this._events[d]&&a(this,d)):(this._events=new n,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,t.exports=c})(tL)),tL.exports}var r8e=t8e(),XM=CUe(r8e);const PE="1.6.15",Ib={};function n8e(){return typeof __HLS_WORKER_BUNDLE__=="function"}function i8e(){const t=Ib[PE];if(t)return t.clientCount++,t;const e=new self.Blob([`var exports={};var module={exports:exports};function define(f){f()};define.amd=true;(${__HLS_WORKER_BUNDLE__.toString()})(true);`],{type:"text/javascript"}),r=self.URL.createObjectURL(e),i={worker:new self.Worker(r),objectURL:r,clientCount:1};return Ib[PE]=i,i}function s8e(t){const e=Ib[t];if(e)return e.clientCount++,e;const r=new self.URL(t,self.location.href).href,i={worker:new self.Worker(r),scriptURL:r,clientCount:1};return Ib[t]=i,i}function a8e(t){const e=Ib[t||PE];if(e&&e.clientCount--===1){const{worker:n,objectURL:i}=e;delete Ib[t||PE],i&&self.URL.revokeObjectURL(i),n.terminate()}}function Qne(t,e){return e+10<=t.length&&t[e]===51&&t[e+1]===68&&t[e+2]===73&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128}function ZM(t,e){return e+10<=t.length&&t[e]===73&&t[e+1]===68&&t[e+2]===51&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128}function g5(t,e){let r=0;return r=(t[e]&127)<<21,r|=(t[e+1]&127)<<14,r|=(t[e+2]&127)<<7,r|=t[e+3]&127,r}function DE(t,e){const r=e;let n=0;for(;ZM(t,e);){n+=10;const i=g5(t,e+6);n+=i,Qne(t,e+10)&&(n+=10),e+=n}if(n>0)return t.subarray(r,r+n)}function o8e(t,e,r,n){const i=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],s=e[r+2],a=s>>2&15;if(a>12){const p=new Error(`invalid ADTS sampling index:${a}`);t.emit(_e.ERROR,_e.ERROR,{type:Ai.MEDIA_ERROR,details:ar.FRAG_PARSING_ERROR,fatal:!0,error:p,reason:p.message});return}const c=(s>>6&3)+1,u=e[r+3]>>6&3|(s&1)<<2,o="mp4a.40."+c,d=i[a];let f=a;(c===5||c===29)&&(f-=3);const A=[c<<3|(f&14)>>1,(f&1)<<7|u<<3];return ao.log(`manifest codec:${n}, parsed codec:${o}, channels:${u}, rate:${d} (ADTS object type:${c} sampling index:${a})`),{config:A,samplerate:d,channelCount:u,codec:o,parsedCodec:o,manifestCodec:n}}function Vne(t,e){return t[e]===255&&(t[e+1]&246)===240}function Kne(t,e){return t[e+1]&1?7:9}function JM(t,e){return(t[e+3]&3)<<11|t[e+4]<<3|(t[e+5]&224)>>>5}function l8e(t,e){return e+5<t.length}function kj(t,e){return e+1<t.length&&Vne(t,e)}function c8e(t,e){return l8e(t,e)&&Vne(t,e)&&JM(t,e)<=t.length-e}function u8e(t,e){if(kj(t,e)){const r=Kne(t,e);if(e+r>=t.length)return!1;const n=JM(t,e);if(n<=r)return!1;const i=e+n;return i===t.length||kj(t,i)}return!1}function Gne(t,e,r,n,i){if(!t.samplerate){const s=o8e(e,r,n,i);if(!s)return;So(t,s)}}function zne(t){return 1024*9e4/t}function d8e(t,e){const r=Kne(t,e);if(e+r<=t.length){const n=JM(t,e)-r;if(n>0)return{headerLength:r,frameLength:n}}}function Wne(t,e,r,n,i){const s=zne(t.samplerate),a=n+i*s,c=d8e(e,r);let u;if(c){const{frameLength:f,headerLength:A}=c,p=A+f,g=Math.max(0,r+p-e.length);g?(u=new Uint8Array(p-A),u.set(e.subarray(r+A,e.length),0)):u=e.subarray(r+A,r+p);const y={unit:u,pts:a};return g||t.samples.push(y),{sample:y,length:p,missing:g}}const o=e.length-r;return u=new Uint8Array(o),u.set(e.subarray(r,e.length),0),{sample:{unit:u,pts:a},length:o,missing:-1}}function h8e(t,e){return ZM(t,e)&&g5(t,e+6)+10<=t.length-e}function f8e(t){return t instanceof ArrayBuffer?t:t.byteOffset==0&&t.byteLength==t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer}function rL(t,e=0,r=1/0){return A8e(t,e,r,Uint8Array)}function A8e(t,e,r,n){const i=m8e(t);let s=1;"BYTES_PER_ELEMENT"in n&&(s=n.BYTES_PER_ELEMENT);const a=p8e(t)?t.byteOffset:0,c=(a+t.byteLength)/s,u=(a+e)/s,o=Math.floor(Math.max(0,Math.min(u,c))),d=Math.floor(Math.min(o+Math.max(r,0),c));return new n(i,o,d-o)}function m8e(t){return t instanceof ArrayBuffer?t:t.buffer}function p8e(t){return t&&t.buffer instanceof ArrayBuffer&&t.byteLength!==void 0&&t.byteOffset!==void 0}function g8e(t){const e={key:t.type,description:"",data:"",mimeType:null,pictureType:null},r=3;if(t.size<2)return;if(t.data[0]!==r){console.log("Ignore frame with unrecognized character encoding");return}const n=t.data.subarray(1).indexOf(0);if(n===-1)return;const i=lf(rL(t.data,1,n)),s=t.data[2+n],a=t.data.subarray(3+n).indexOf(0);if(a===-1)return;const c=lf(rL(t.data,3+n,a));let u;return i==="-->"?u=lf(rL(t.data,4+n+a)):u=f8e(t.data.subarray(4+n+a)),e.mimeType=i,e.pictureType=s,e.description=c,e.data=u,e}function v8e(t){if(t.size<2)return;const e=lf(t.data,!0),r=new Uint8Array(t.data.subarray(e.length+1));return{key:t.type,info:e,data:r.buffer}}function y8e(t){if(t.size<2)return;if(t.type==="TXXX"){let r=1;const n=lf(t.data.subarray(r),!0);r+=n.length+1;const i=lf(t.data.subarray(r));return{key:t.type,info:n,data:i}}const e=lf(t.data.subarray(1));return{key:t.type,info:"",data:e}}function x8e(t){if(t.type==="WXXX"){if(t.size<2)return;let r=1;const n=lf(t.data.subarray(r),!0);r+=n.length+1;const i=lf(t.data.subarray(r));return{key:t.type,info:n,data:i}}const e=lf(t.data);return{key:t.type,info:"",data:e}}function b8e(t){return t.type==="PRIV"?v8e(t):t.type[0]==="W"?x8e(t):t.type==="APIC"?g8e(t):y8e(t)}function w8e(t){const e=String.fromCharCode(t[0],t[1],t[2],t[3]),r=g5(t,4),n=10;return{type:e,size:r,data:t.subarray(n,n+r)}}const KS=10,E8e=10;function Yne(t){let e=0;const r=[];for(;ZM(t,e);){const n=g5(t,e+6);t[e+5]>>6&1&&(e+=KS),e+=KS;const i=e+n;for(;e+E8e<i;){const s=w8e(t.subarray(e)),a=b8e(s);a&&r.push(a),e+=s.size+KS}Qne(t,e)&&(e+=KS)}return r}function qne(t){return t&&t.key==="PRIV"&&t.info==="com.apple.streaming.transportStreamTimestamp"}function S8e(t){if(t.data.byteLength===8){const e=new Uint8Array(t.data),r=e[3]&1;let n=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7];return n/=45,r&&(n+=4772185884e-2),Math.round(n)}}function eF(t){const e=Yne(t);for(let r=0;r<e.length;r++){const n=e[r];if(qne(n))return S8e(n)}}let Jh=(function(t){return t.audioId3="org.id3",t.dateRange="com.apple.quicktime.HLS",t.emsg="https://aomedia.org/emsg/ID3",t.misbklv="urn:misb:KLV:bin:1910.1",t})({});function vm(t="",e=9e4){return{type:t,id:-1,pid:-1,inputTimeScale:e,sequenceNumber:-1,samples:[],dropped:0}}class tF{constructor(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}resetInitSegment(e,r,n,i){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}}resetTimeStamp(e){this.initPTS=e,this.resetContiguity()}resetContiguity(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0}canParse(e,r){return!1}appendFrame(e,r,n){}demux(e,r){this.cachedData&&(e=Qf(this.cachedData,e),this.cachedData=null);let n=DE(e,0),i=n?n.length:0,s;const a=this._audioTrack,c=this._id3Track,u=n?eF(n):void 0,o=e.length;for((this.basePTS===null||this.frameIndex===0&&kn(u))&&(this.basePTS=_8e(u,r,this.initPTS),this.lastPTS=this.basePTS),this.lastPTS===null&&(this.lastPTS=this.basePTS),n&&n.length>0&&c.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:n,type:Jh.audioId3,duration:Number.POSITIVE_INFINITY});i<o;){if(this.canParse(e,i)){const d=this.appendFrame(a,e,i);d?(this.frameIndex++,this.lastPTS=d.sample.pts,i+=d.length,s=i):i=o}else h8e(e,i)?(n=DE(e,i),c.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:n,type:Jh.audioId3,duration:Number.POSITIVE_INFINITY}),i+=n.length,s=i):i++;if(i===o&&s!==o){const d=e.slice(s);this.cachedData?this.cachedData=Qf(this.cachedData,d):this.cachedData=d}}return{audioTrack:a,videoTrack:vm(),id3Track:c,textTrack:vm()}}demuxSampleAes(e,r,n){return Promise.reject(new Error(`[${this}] This demuxer does not support Sample-AES decryption`))}flush(e){const r=this.cachedData;return r&&(this.cachedData=null,this.demux(r,0)),{audioTrack:this._audioTrack,videoTrack:vm(),id3Track:this._id3Track,textTrack:vm()}}destroy(){this.cachedData=null,this._audioTrack=this._id3Track=void 0}}const _8e=(t,e,r)=>{if(kn(t))return t*90;const n=r?r.baseTime*9e4/r.timescale:0;return e*9e4+n};let GS=null;const T8e=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],C8e=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],j8e=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],N8e=[0,1,1,4];function Xne(t,e,r,n,i){if(r+24>e.length)return;const s=Zne(e,r);if(s&&r+s.frameLength<=e.length){const a=s.samplesPerFrame*9e4/s.sampleRate,c=n+i*a,u={unit:e.subarray(r,r+s.frameLength),pts:c,dts:c};return t.config=[],t.channelCount=s.channelCount,t.samplerate=s.sampleRate,t.samples.push(u),{sample:u,length:s.frameLength,missing:0}}}function Zne(t,e){const r=t[e+1]>>3&3,n=t[e+1]>>1&3,i=t[e+2]>>4&15,s=t[e+2]>>2&3;if(r!==1&&i!==0&&i!==15&&s!==3){const a=t[e+2]>>1&1,c=t[e+3]>>6,u=r===3?3-n:n===3?3:4,o=T8e[u*14+i-1]*1e3,f=C8e[(r===3?0:r===2?1:2)*3+s],A=c===3?1:2,p=j8e[r][n],g=N8e[n],y=p*8*g,v=Math.floor(p*o/f+a)*g;if(GS===null){const S=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);GS=S?parseInt(S[1]):0}return GS&&GS<=87&&n===2&&o>=224e3&&c===0&&(t[e+3]=t[e+3]|128),{sampleRate:f,channelCount:A,frameLength:v,samplesPerFrame:y}}}function rF(t,e){return t[e]===255&&(t[e+1]&224)===224&&(t[e+1]&6)!==0}function Jne(t,e){return e+1<t.length&&rF(t,e)}function I8e(t,e){return rF(t,e)&&4<=t.length-e}function eie(t,e){if(e+1<t.length&&rF(t,e)){const n=Zne(t,e);let i=4;n!=null&&n.frameLength&&(i=n.frameLength);const s=e+i;return s===t.length||Jne(t,s)}return!1}class k8e extends tF{constructor(e,r){super(),this.observer=void 0,this.config=void 0,this.observer=e,this.config=r}resetInitSegment(e,r,n,i){super.resetInitSegment(e,r,n,i),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:r,duration:i,inputTimeScale:9e4,dropped:0}}static probe(e,r){if(!e)return!1;const n=DE(e,0);let i=n?.length||0;if(eie(e,i))return!1;for(let s=e.length;i<s;i++)if(u8e(e,i))return r.log("ADTS sync word found !"),!0;return!1}canParse(e,r){return c8e(e,r)}appendFrame(e,r,n){Gne(e,this.observer,r,n,e.manifestCodec);const i=Wne(e,r,n,this.basePTS,this.frameIndex);if(i&&i.missing===0)return i}}const tie=(t,e)=>{let r=0,n=5;e+=n;const i=new Uint32Array(1),s=new Uint32Array(1),a=new Uint8Array(1);for(;n>0;){a[0]=t[e];const c=Math.min(n,8),u=8-c;s[0]=4278190080>>>24+u<<u,i[0]=(a[0]&s[0])>>u,r=r?r<<c|i[0]:i[0],e+=1,n-=c}return r};class B8e extends tF{constructor(e){super(),this.observer=void 0,this.observer=e}resetInitSegment(e,r,n,i){super.resetInitSegment(e,r,n,i),this._audioTrack={container:"audio/ac-3",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"ac3",samples:[],manifestCodec:r,duration:i,inputTimeScale:9e4,dropped:0}}canParse(e,r){return r+64<e.length}appendFrame(e,r,n){const i=rie(e,r,n,this.basePTS,this.frameIndex);if(i!==-1)return{sample:e.samples[e.samples.length-1],length:i,missing:0}}static probe(e){if(!e)return!1;const r=DE(e,0);if(!r)return!1;const n=r.length;return e[n]===11&&e[n+1]===119&&eF(r)!==void 0&&tie(e,n)<16}}function rie(t,e,r,n,i){if(r+8>e.length||e[r]!==11||e[r+1]!==119)return-1;const s=e[r+4]>>6;if(s>=3)return-1;const c=[48e3,44100,32e3][s],u=e[r+4]&63,d=[64,69,96,64,70,96,80,87,120,80,88,120,96,104,144,96,105,144,112,121,168,112,122,168,128,139,192,128,140,192,160,174,240,160,175,240,192,208,288,192,209,288,224,243,336,224,244,336,256,278,384,256,279,384,320,348,480,320,349,480,384,417,576,384,418,576,448,487,672,448,488,672,512,557,768,512,558,768,640,696,960,640,697,960,768,835,1152,768,836,1152,896,975,1344,896,976,1344,1024,1114,1536,1024,1115,1536,1152,1253,1728,1152,1254,1728,1280,1393,1920,1280,1394,1920][u*3+s]*2;if(r+d>e.length)return-1;const f=e[r+6]>>5;let A=0;f===2?A+=2:(f&1&&f!==1&&(A+=2),f&4&&(A+=2));const p=(e[r+6]<<8|e[r+7])>>12-A&1,y=[2,1,2,3,3,4,4,5][f]+p,v=e[r+5]>>3,b=e[r+5]&7,w=new Uint8Array([s<<6|v<<1|b>>2,(b&3)<<6|f<<3|p<<2|u>>4,u<<4&224]),S=1536/c*9e4,_=n+i*S,T=e.subarray(r,r+d);return t.config=w,t.channelCount=y,t.samplerate=c,t.samples.push({unit:T,pts:_}),d}class L8e extends tF{resetInitSegment(e,r,n,i){super.resetInitSegment(e,r,n,i),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:r,duration:i,inputTimeScale:9e4,dropped:0}}static probe(e){if(!e)return!1;const r=DE(e,0);let n=r?.length||0;if(r&&e[n]===11&&e[n+1]===119&&eF(r)!==void 0&&tie(e,n)<=16)return!1;for(let i=e.length;n<i;n++)if(eie(e,n))return ao.log("MPEG Audio sync word found !"),!0;return!1}canParse(e,r){return I8e(e,r)}appendFrame(e,r,n){if(this.basePTS!==null)return Xne(e,r,n,this.basePTS,this.frameIndex)}}const R8e=/\/emsg[-/]ID3/i;class O8e{constructor(e,r){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=r}resetTimeStamp(){}resetInitSegment(e,r,n,i){const s=this.videoTrack=vm("video",1),a=this.audioTrack=vm("audio",1),c=this.txtTrack=vm("text",1);if(this.id3Track=vm("id3",1),this.timeOffset=0,!(e!=null&&e.byteLength))return;const u=hne(e);if(u.video){const{id:o,timescale:d,codec:f,supplemental:A}=u.video;s.id=o,s.timescale=c.timescale=d,s.codec=f,s.supplemental=A}if(u.audio){const{id:o,timescale:d,codec:f}=u.audio;a.id=o,a.timescale=d,a.codec=f}c.id=cne.text,s.sampleDuration=0,s.duration=a.duration=i}resetContiguity(){this.remainderData=null}static probe(e){return BUe(e)}demux(e,r){this.timeOffset=r;let n=e;const i=this.videoTrack,s=this.txtTrack;if(this.config.progressive){this.remainderData&&(n=Qf(this.remainderData,e));const c=FUe(n);this.remainderData=c.remainder,i.samples=c.valid||new Uint8Array}else i.samples=n;const a=this.extractID3Track(i,r);return s.samples=RK(r,i),{videoTrack:i,audioTrack:this.audioTrack,id3Track:a,textTrack:this.txtTrack}}flush(){const e=this.timeOffset,r=this.videoTrack,n=this.txtTrack;r.samples=this.remainderData||new Uint8Array,this.remainderData=null;const i=this.extractID3Track(r,this.timeOffset);return n.samples=RK(e,r),{videoTrack:r,audioTrack:vm(),id3Track:i,textTrack:vm()}}extractID3Track(e,r){const n=this.id3Track;if(e.samples.length){const i=$s(e.samples,["emsg"]);i&&i.forEach(s=>{const a=$Ue(s);if(R8e.test(a.schemeIdUri)){const c=gG(a,r);let u=a.eventDuration===4294967295?Number.POSITIVE_INFINITY:a.eventDuration/a.timeScale;u<=.001&&(u=Number.POSITIVE_INFINITY);const o=a.payload;n.samples.push({data:o,len:o.byteLength,dts:c,pts:c,type:Jh.emsg,duration:u})}else if(this.config.enableEmsgKLVMetadata&&a.schemeIdUri.startsWith("urn:misb:KLV:bin:1910.1")){const c=gG(a,r);n.samples.push({data:a.payload,len:a.payload.byteLength,dts:c,pts:c,type:Jh.misbklv,duration:Number.POSITIVE_INFINITY})}})}return n}demuxSampleAes(e,r,n){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))}destroy(){this.config=null,this.remainderData=null,this.videoTrack=this.audioTrack=this.id3Track=this.txtTrack=void 0}}function gG(t,e){return kn(t.presentationTime)?t.presentationTime/t.timeScale:e+t.presentationTimeDelta/t.timeScale}class P8e{constructor(e,r,n){this.keyData=void 0,this.decrypter=void 0,this.keyData=n,this.decrypter=new GM(r,{removePKCS7Padding:!1})}decryptBuffer(e){return this.decrypter.decrypt(e,this.keyData.key.buffer,this.keyData.iv.buffer,E0.cbc)}decryptAacSample(e,r,n){const i=e[r].unit;if(i.length<=16)return;const s=i.subarray(16,i.length-i.length%16),a=s.buffer.slice(s.byteOffset,s.byteOffset+s.length);this.decryptBuffer(a).then(c=>{const u=new Uint8Array(c);i.set(u,16),this.decrypter.isSync()||this.decryptAacSamples(e,r+1,n)}).catch(n)}decryptAacSamples(e,r,n){for(;;r++){if(r>=e.length){n();return}if(!(e[r].unit.length<32)&&(this.decryptAacSample(e,r,n),!this.decrypter.isSync()))return}}getAvcEncryptedData(e){const r=Math.floor((e.length-48)/160)*16+16,n=new Int8Array(r);let i=0;for(let s=32;s<e.length-16;s+=160,i+=16)n.set(e.subarray(s,s+16),i);return n}getAvcDecryptedUnit(e,r){const n=new Uint8Array(r);let i=0;for(let s=32;s<e.length-16;s+=160,i+=16)e.set(n.subarray(i,i+16),s);return e}decryptAvcSample(e,r,n,i,s){const a=mne(s.data),c=this.getAvcEncryptedData(a);this.decryptBuffer(c.buffer).then(u=>{s.data=this.getAvcDecryptedUnit(a,u),this.decrypter.isSync()||this.decryptAvcSamples(e,r,n+1,i)}).catch(i)}decryptAvcSamples(e,r,n,i){if(e instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;r++,n=0){if(r>=e.length){i();return}const s=e[r].units;for(;!(n>=s.length);n++){const a=s[n];if(!(a.data.length<=48||a.type!==1&&a.type!==5)&&(this.decryptAvcSample(e,r,n,i,a),!this.decrypter.isSync()))return}}}}class nie{constructor(){this.VideoSample=null}createVideoSample(e,r,n){return{key:e,frame:!1,pts:r,dts:n,units:[],length:0}}getLastNalUnit(e){var r;let n=this.VideoSample,i;if((!n||n.units.length===0)&&(n=e[e.length-1]),(r=n)!=null&&r.units){const s=n.units;i=s[s.length-1]}return i}pushAccessUnit(e,r){if(e.units.length&&e.frame){if(e.pts===void 0){const n=r.samples,i=n.length;if(i){const s=n[i-1];e.pts=s.pts,e.dts=s.dts}else{r.dropped++;return}}r.samples.push(e)}}parseNALu(e,r,n){const i=r.byteLength;let s=e.naluState||0;const a=s,c=[];let u=0,o,d,f,A=-1,p=0;for(s===-1&&(A=0,p=this.getNALuType(r,0),s=0,u=1);u<i;){if(o=r[u++],!s){s=o?0:1;continue}if(s===1){s=o?0:2;continue}if(!o)s=3;else if(o===1){if(d=u-s-1,A>=0){const g={data:r.subarray(A,d),type:p};c.push(g)}else{const g=this.getLastNalUnit(e.samples);g&&(a&&u<=4-a&&g.state&&(g.data=g.data.subarray(0,g.data.byteLength-a)),d>0&&(g.data=Qf(g.data,r.subarray(0,d)),g.state=0))}u<i?(f=this.getNALuType(r,u),A=u,p=f,s=0):s=-1}else s=0}if(A>=0&&s>=0){const g={data:r.subarray(A,i),type:p,state:s};c.push(g)}if(c.length===0){const g=this.getLastNalUnit(e.samples);g&&(g.data=Qf(g.data,r))}return e.naluState=s,c}}class Qw{constructor(e){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}loadWord(){const e=this.data,r=this.bytesAvailable,n=e.byteLength-r,i=new Uint8Array(4),s=Math.min(4,r);if(s===0)throw new Error("no bytes available");i.set(e.subarray(n,n+s)),this.word=new DataView(i.buffer).getUint32(0),this.bitsAvailable=s*8,this.bytesAvailable-=s}skipBits(e){let r;e=Math.min(e,this.bytesAvailable*8+this.bitsAvailable),this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,r=e>>3,e-=r<<3,this.bytesAvailable-=r,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)}readBits(e){let r=Math.min(this.bitsAvailable,e);const n=this.word>>>32-r;if(e>32&&ao.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=r,this.bitsAvailable>0)this.word<<=r;else if(this.bytesAvailable>0)this.loadWord();else throw new Error("no bits available");return r=e-r,r>0&&this.bitsAvailable?n<<r|this.readBits(r):n}skipLZ(){let e;for(e=0;e<this.bitsAvailable;++e)if((this.word&2147483648>>>e)!==0)return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()}skipUEG(){this.skipBits(1+this.skipLZ())}skipEG(){this.skipBits(1+this.skipLZ())}readUEG(){const e=this.skipLZ();return this.readBits(e+1)-1}readEG(){const e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)}readBoolean(){return this.readBits(1)===1}readUByte(){return this.readBits(8)}readUShort(){return this.readBits(16)}readUInt(){return this.readBits(32)}}class D8e extends nie{parsePES(e,r,n,i){const s=this.parseNALu(e,n.data,i);let a=this.VideoSample,c,u=!1;n.data=null,a&&s.length&&!e.audFound&&(this.pushAccessUnit(a,e),a=this.VideoSample=this.createVideoSample(!1,n.pts,n.dts)),s.forEach(o=>{var d,f;switch(o.type){case 1:{let y=!1;c=!0;const v=o.data;if(u&&v.length>4){const b=this.readSliceType(v);(b===2||b===4||b===7||b===9)&&(y=!0)}if(y){var A;(A=a)!=null&&A.frame&&!a.key&&(this.pushAccessUnit(a,e),a=this.VideoSample=null)}a||(a=this.VideoSample=this.createVideoSample(!0,n.pts,n.dts)),a.frame=!0,a.key=y;break}case 5:c=!0,(d=a)!=null&&d.frame&&!a.key&&(this.pushAccessUnit(a,e),a=this.VideoSample=null),a||(a=this.VideoSample=this.createVideoSample(!0,n.pts,n.dts)),a.key=!0,a.frame=!0;break;case 6:{c=!0,HM(o.data,1,n.pts,r.samples);break}case 7:{var p,g;c=!0,u=!0;const y=o.data,v=this.readSPS(y);if(!e.sps||e.width!==v.width||e.height!==v.height||((p=e.pixelRatio)==null?void 0:p[0])!==v.pixelRatio[0]||((g=e.pixelRatio)==null?void 0:g[1])!==v.pixelRatio[1]){e.width=v.width,e.height=v.height,e.pixelRatio=v.pixelRatio,e.sps=[y];const b=y.subarray(1,4);let w="avc1.";for(let S=0;S<3;S++){let _=b[S].toString(16);_.length<2&&(_="0"+_),w+=_}e.codec=w}break}case 8:c=!0,e.pps=[o.data];break;case 9:c=!0,e.audFound=!0,(f=a)!=null&&f.frame&&(this.pushAccessUnit(a,e),a=null),a||(a=this.VideoSample=this.createVideoSample(!1,n.pts,n.dts));break;case 12:c=!0;break;default:c=!1;break}a&&c&&a.units.push(o)}),i&&a&&(this.pushAccessUnit(a,e),this.VideoSample=null)}getNALuType(e,r){return e[r]&31}readSliceType(e){const r=new Qw(e);return r.readUByte(),r.readUEG(),r.readUEG()}skipScalingList(e,r){let n=8,i=8,s;for(let a=0;a<e;a++)i!==0&&(s=r.readEG(),i=(n+s+256)%256),n=i===0?n:i}readSPS(e){const r=new Qw(e);let n=0,i=0,s=0,a=0,c,u,o;const d=r.readUByte.bind(r),f=r.readBits.bind(r),A=r.readUEG.bind(r),p=r.readBoolean.bind(r),g=r.skipBits.bind(r),y=r.skipEG.bind(r),v=r.skipUEG.bind(r),b=this.skipScalingList.bind(this);d();const w=d();if(f(5),g(3),d(),v(),w===100||w===110||w===122||w===244||w===44||w===83||w===86||w===118||w===128){const V=A();if(V===3&&g(1),v(),v(),g(1),p())for(u=V!==3?8:12,o=0;o<u;o++)p()&&(o<6?b(16,r):b(64,r))}v();const S=A();if(S===0)A();else if(S===1)for(g(1),y(),y(),c=A(),o=0;o<c;o++)y();v(),g(1);const _=A(),T=A(),L=f(1);L===0&&g(1),g(1),p()&&(n=A(),i=A(),s=A(),a=A());let D=[1,1];if(p()&&p())switch(d()){case 1:D=[1,1];break;case 2:D=[12,11];break;case 3:D=[10,11];break;case 4:D=[16,11];break;case 5:D=[40,33];break;case 6:D=[24,11];break;case 7:D=[20,11];break;case 8:D=[32,11];break;case 9:D=[80,33];break;case 10:D=[18,11];break;case 11:D=[15,11];break;case 12:D=[64,33];break;case 13:D=[160,99];break;case 14:D=[4,3];break;case 15:D=[3,2];break;case 16:D=[2,1];break;case 255:{D=[d()<<8|d(),d()<<8|d()];break}}return{width:Math.ceil((_+1)*16-n*2-i*2),height:(2-L)*(T+1)*16-(L?2:4)*(s+a),pixelRatio:D}}}class M8e extends nie{constructor(...e){super(...e),this.initVPS=null}parsePES(e,r,n,i){const s=this.parseNALu(e,n.data,i);let a=this.VideoSample,c,u=!1;n.data=null,a&&s.length&&!e.audFound&&(this.pushAccessUnit(a,e),a=this.VideoSample=this.createVideoSample(!1,n.pts,n.dts)),s.forEach(o=>{var d,f;switch(o.type){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:a||(a=this.VideoSample=this.createVideoSample(!1,n.pts,n.dts)),a.frame=!0,c=!0;break;case 16:case 17:case 18:case 21:if(c=!0,u){var A;(A=a)!=null&&A.frame&&!a.key&&(this.pushAccessUnit(a,e),a=this.VideoSample=null)}a||(a=this.VideoSample=this.createVideoSample(!0,n.pts,n.dts)),a.key=!0,a.frame=!0;break;case 19:case 20:c=!0,(d=a)!=null&&d.frame&&!a.key&&(this.pushAccessUnit(a,e),a=this.VideoSample=null),a||(a=this.VideoSample=this.createVideoSample(!0,n.pts,n.dts)),a.key=!0,a.frame=!0;break;case 39:c=!0,HM(o.data,2,n.pts,r.samples);break;case 32:c=!0,e.vps||(typeof e.params!="object"&&(e.params={}),e.params=So(e.params,this.readVPS(o.data)),this.initVPS=o.data),e.vps=[o.data];break;case 33:if(c=!0,u=!0,e.vps!==void 0&&e.vps[0]!==this.initVPS&&e.sps!==void 0&&!this.matchSPS(e.sps[0],o.data)&&(this.initVPS=e.vps[0],e.sps=e.pps=void 0),!e.sps){const p=this.readSPS(o.data);e.width=p.width,e.height=p.height,e.pixelRatio=p.pixelRatio,e.codec=p.codecString,e.sps=[],typeof e.params!="object"&&(e.params={});for(const g in p.params)e.params[g]=p.params[g]}this.pushParameterSet(e.sps,o.data,e.vps),a||(a=this.VideoSample=this.createVideoSample(!0,n.pts,n.dts)),a.key=!0;break;case 34:if(c=!0,typeof e.params=="object"){if(!e.pps){e.pps=[];const p=this.readPPS(o.data);for(const g in p)e.params[g]=p[g]}this.pushParameterSet(e.pps,o.data,e.vps)}break;case 35:c=!0,e.audFound=!0,(f=a)!=null&&f.frame&&(this.pushAccessUnit(a,e),a=null),a||(a=this.VideoSample=this.createVideoSample(!1,n.pts,n.dts));break;default:c=!1;break}a&&c&&a.units.push(o)}),i&&a&&(this.pushAccessUnit(a,e),this.VideoSample=null)}pushParameterSet(e,r,n){(n&&n[0]===this.initVPS||!n&&!e.length)&&e.push(r)}getNALuType(e,r){return(e[r]&126)>>>1}ebsp2rbsp(e){const r=new Uint8Array(e.byteLength);let n=0;for(let i=0;i<e.byteLength;i++)i>=2&&e[i]===3&&e[i-1]===0&&e[i-2]===0||(r[n]=e[i],n++);return new Uint8Array(r.buffer,0,n)}pushAccessUnit(e,r){super.pushAccessUnit(e,r),this.initVPS&&(this.initVPS=null)}readVPS(e){const r=new Qw(e);r.readUByte(),r.readUByte(),r.readBits(4),r.skipBits(2),r.readBits(6);const n=r.readBits(3),i=r.readBoolean();return{numTemporalLayers:n+1,temporalIdNested:i}}readSPS(e){const r=new Qw(this.ebsp2rbsp(e));r.readUByte(),r.readUByte(),r.readBits(4);const n=r.readBits(3);r.readBoolean();const i=r.readBits(2),s=r.readBoolean(),a=r.readBits(5),c=r.readUByte(),u=r.readUByte(),o=r.readUByte(),d=r.readUByte(),f=r.readUByte(),A=r.readUByte(),p=r.readUByte(),g=r.readUByte(),y=r.readUByte(),v=r.readUByte(),b=r.readUByte(),w=[],S=[];for(let pt=0;pt<n;pt++)w.push(r.readBoolean()),S.push(r.readBoolean());if(n>0)for(let pt=n;pt<8;pt++)r.readBits(2);for(let pt=0;pt<n;pt++)w[pt]&&(r.readUByte(),r.readUByte(),r.readUByte(),r.readUByte(),r.readUByte(),r.readUByte(),r.readUByte(),r.readUByte(),r.readUByte(),r.readUByte(),r.readUByte()),S[pt]&&r.readUByte();r.readUEG();const _=r.readUEG();_==3&&r.skipBits(1);const T=r.readUEG(),L=r.readUEG(),D=r.readBoolean();let V=0,G=0,J=0,ee=0;D&&(V+=r.readUEG(),G+=r.readUEG(),J+=r.readUEG(),ee+=r.readUEG());const ue=r.readUEG(),pe=r.readUEG(),ge=r.readUEG(),he=r.readBoolean();for(let pt=he?0:n;pt<=n;pt++)r.skipUEG(),r.skipUEG(),r.skipUEG();if(r.skipUEG(),r.skipUEG(),r.skipUEG(),r.skipUEG(),r.skipUEG(),r.skipUEG(),r.readBoolean()&&r.readBoolean())for(let Bt=0;Bt<4;Bt++)for(let qt=0;qt<(Bt===3?2:6);qt++)if(!r.readBoolean())r.readUEG();else{const yr=Math.min(64,1<<4+(Bt<<1));Bt>1&&r.readEG();for(let Wr=0;Wr<yr;Wr++)r.readEG()}r.readBoolean(),r.readBoolean(),r.readBoolean()&&(r.readUByte(),r.skipUEG(),r.skipUEG(),r.readBoolean());const oe=r.readUEG();let Be=0;for(let pt=0;pt<oe;pt++){let Bt=!1;if(pt!==0&&(Bt=r.readBoolean()),Bt){pt===oe&&r.readUEG(),r.readBoolean(),r.readUEG();let qt=0;for(let Yr=0;Yr<=Be;Yr++){const yr=r.readBoolean();let Wr=!1;yr||(Wr=r.readBoolean()),(yr||Wr)&&qt++}Be=qt}else{const qt=r.readUEG(),Yr=r.readUEG();Be=qt+Yr;for(let yr=0;yr<qt;yr++)r.readUEG(),r.readBoolean();for(let yr=0;yr<Yr;yr++)r.readUEG(),r.readBoolean()}}if(r.readBoolean()){const pt=r.readUEG();for(let Bt=0;Bt<pt;Bt++){for(let qt=0;qt<ge+4;qt++)r.readBits(1);r.readBits(1)}}let ve=0,se=1,me=1,je=!0,Ue=1,De=0;r.readBoolean(),r.readBoolean();let ot=!1;if(r.readBoolean()){if(r.readBoolean()){const hn=r.readUByte(),Tn=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2],Jr=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1];hn>0&&hn<16?(se=Tn[hn-1],me=Jr[hn-1]):hn===255&&(se=r.readBits(16),me=r.readBits(16))}if(r.readBoolean()&&r.readBoolean(),r.readBoolean()&&(r.readBits(3),r.readBoolean(),r.readBoolean()&&(r.readUByte(),r.readUByte(),r.readUByte())),r.readBoolean()&&(r.readUEG(),r.readUEG()),r.readBoolean(),r.readBoolean(),r.readBoolean(),ot=r.readBoolean(),ot&&(r.skipUEG(),r.skipUEG(),r.skipUEG(),r.skipUEG()),r.readBoolean()&&(Ue=r.readBits(32),De=r.readBits(32),r.readBoolean()&&r.readUEG(),r.readBoolean())){const Jr=r.readBoolean(),sn=r.readBoolean();let on=!1;(Jr||sn)&&(on=r.readBoolean(),on&&(r.readUByte(),r.readBits(5),r.readBoolean(),r.readBits(5)),r.readBits(4),r.readBits(4),on&&r.readBits(4),r.readBits(5),r.readBits(5),r.readBits(5));for(let Fn=0;Fn<=n;Fn++){je=r.readBoolean();const Qn=je||r.readBoolean();let gi=!1;Qn?r.readEG():gi=r.readBoolean();const Je=gi?1:r.readUEG()+1;if(Jr)for(let Ut=0;Ut<Je;Ut++)r.readUEG(),r.readUEG(),on&&(r.readUEG(),r.readUEG()),r.skipBits(1);if(sn)for(let Ut=0;Ut<Je;Ut++)r.readUEG(),r.readUEG(),on&&(r.readUEG(),r.readUEG()),r.skipBits(1)}}r.readBoolean()&&(r.readBoolean(),r.readBoolean(),r.readBoolean(),ve=r.readUEG())}let Ce=T,Ze=L;if(D){let pt=1,Bt=1;_===1?pt=Bt=2:_==2&&(pt=2),Ce=T-pt*G-pt*V,Ze=L-Bt*ee-Bt*J}const ze=i?["A","B","C"][i]:"",$e=c<<24|u<<16|o<<8|d;let ct=0;for(let pt=0;pt<32;pt++)ct=(ct|($e>>pt&1)<<31-pt)>>>0;let Fe=ct.toString(16);return a===1&&Fe==="2"&&(Fe="6"),{codecString:`hvc1.${ze}${a}.${Fe}.${s?"H":"L"}${b}.B0`,params:{general_tier_flag:s,general_profile_idc:a,general_profile_space:i,general_profile_compatibility_flags:[c,u,o,d],general_constraint_indicator_flags:[f,A,p,g,y,v],general_level_idc:b,bit_depth:ue+8,bit_depth_luma_minus8:ue,bit_depth_chroma_minus8:pe,min_spatial_segmentation_idc:ve,chroma_format_idc:_,frame_rate:{fixed:je,fps:De/Ue}},width:Ce,height:Ze,pixelRatio:[se,me]}}readPPS(e){const r=new Qw(this.ebsp2rbsp(e));r.readUByte(),r.readUByte(),r.skipUEG(),r.skipUEG(),r.skipBits(2),r.skipBits(3),r.skipBits(2),r.skipUEG(),r.skipUEG(),r.skipEG(),r.skipBits(2),r.readBoolean()&&r.skipUEG(),r.skipEG(),r.skipEG(),r.skipBits(4);const i=r.readBoolean(),s=r.readBoolean();let a=1;return s&&i?a=0:s?a=3:i&&(a=2),{parallelismType:a}}matchSPS(e,r){return String.fromCharCode.apply(null,e).substr(3)===String.fromCharCode.apply(null,r).substr(3)}}const Ou=188;class t0{constructor(e,r,n,i){this.logger=void 0,this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._pmtId=-1,this._videoTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.remainderData=null,this.videoParser=void 0,this.observer=e,this.config=r,this.typeSupported=n,this.logger=i,this.videoParser=null}static probe(e,r){const n=t0.syncOffset(e);return n>0&&r.warn(`MPEG2-TS detected but first sync word found @ offset ${n}`),n!==-1}static syncOffset(e){const r=e.length;let n=Math.min(Ou*5,r-Ou)+1,i=0;for(;i<n;){let s=!1,a=-1,c=0;for(let u=i;u<r;u+=Ou)if(e[u]===71&&(r-u===Ou||e[u+Ou]===71)){if(c++,a===-1&&(a=u,a!==0&&(n=Math.min(a+Ou*99,e.length-Ou)+1)),s||(s=HR(e,u)===0),s&&c>1&&(a===0&&c>2||u+Ou>n))return a}else{if(c)return-1;break}i++}return-1}static createTrack(e,r){return{container:e==="video"||e==="audio"?"video/mp2t":void 0,type:e,id:cne[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:e==="audio"?r:void 0}}resetInitSegment(e,r,n,i){this.pmtParsed=!1,this._pmtId=-1,this._videoTrack=t0.createTrack("video"),this._videoTrack.duration=i,this._audioTrack=t0.createTrack("audio",i),this._id3Track=t0.createTrack("id3"),this._txtTrack=t0.createTrack("text"),this._audioTrack.segmentCodec="aac",this.videoParser=null,this.aacOverFlow=null,this.remainderData=null,this.audioCodec=r,this.videoCodec=n}resetTimeStamp(){}resetContiguity(){const{_audioTrack:e,_videoTrack:r,_id3Track:n}=this;e&&(e.pesData=null),r&&(r.pesData=null),n&&(n.pesData=null),this.aacOverFlow=null,this.remainderData=null}demux(e,r,n=!1,i=!1){n||(this.sampleAes=null);let s;const a=this._videoTrack,c=this._audioTrack,u=this._id3Track,o=this._txtTrack;let d=a.pid,f=a.pesData,A=c.pid,p=u.pid,g=c.pesData,y=u.pesData,v=null,b=this.pmtParsed,w=this._pmtId,S=e.length;if(this.remainderData&&(e=Qf(this.remainderData,e),S=e.length,this.remainderData=null),S<Ou&&!i)return this.remainderData=e,{audioTrack:c,videoTrack:a,id3Track:u,textTrack:o};const _=Math.max(0,t0.syncOffset(e));S-=(S-_)%Ou,S<e.byteLength&&!i&&(this.remainderData=new Uint8Array(e.buffer,S,e.buffer.byteLength-S));let T=0;for(let D=_;D<S;D+=Ou)if(e[D]===71){const V=!!(e[D+1]&64),G=HR(e,D),J=(e[D+3]&48)>>4;let ee;if(J>1){if(ee=D+5+e[D+4],ee===D+Ou)continue}else ee=D+4;switch(G){case d:V&&(f&&(s=Xy(f,this.logger))&&(this.readyVideoParser(a.segmentCodec),this.videoParser!==null&&this.videoParser.parsePES(a,o,s,!1)),f={data:[],size:0}),f&&(f.data.push(e.subarray(ee,D+Ou)),f.size+=D+Ou-ee);break;case A:if(V){if(g&&(s=Xy(g,this.logger)))switch(c.segmentCodec){case"aac":this.parseAACPES(c,s);break;case"mp3":this.parseMPEGPES(c,s);break;case"ac3":this.parseAC3PES(c,s);break}g={data:[],size:0}}g&&(g.data.push(e.subarray(ee,D+Ou)),g.size+=D+Ou-ee);break;case p:V&&(y&&(s=Xy(y,this.logger))&&this.parseID3PES(u,s),y={data:[],size:0}),y&&(y.data.push(e.subarray(ee,D+Ou)),y.size+=D+Ou-ee);break;case 0:V&&(ee+=e[ee]+1),w=this._pmtId=F8e(e,ee);break;case w:{V&&(ee+=e[ee]+1);const ue=U8e(e,ee,this.typeSupported,n,this.observer,this.logger);d=ue.videoPid,d>0&&(a.pid=d,a.segmentCodec=ue.segmentVideoCodec),A=ue.audioPid,A>0&&(c.pid=A,c.segmentCodec=ue.segmentAudioCodec),p=ue.id3Pid,p>0&&(u.pid=p),v!==null&&!b&&(this.logger.warn(`MPEG-TS PMT found at ${D} after unknown PID '${v}'. Backtracking to sync byte @${_} to parse all TS packets.`),v=null,D=_-188),b=this.pmtParsed=!0;break}case 17:case 8191:break;default:v=G;break}}else T++;T>0&&QR(this.observer,new Error(`Found ${T} TS packet/s that do not start with 0x47`),void 0,this.logger),a.pesData=f,c.pesData=g,u.pesData=y;const L={audioTrack:c,videoTrack:a,id3Track:u,textTrack:o};return i&&this.extractRemainingSamples(L),L}flush(){const{remainderData:e}=this;this.remainderData=null;let r;return e?r=this.demux(e,-1,!1,!0):r={videoTrack:this._videoTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(r),this.sampleAes?this.decrypt(r,this.sampleAes):r}extractRemainingSamples(e){const{audioTrack:r,videoTrack:n,id3Track:i,textTrack:s}=e,a=n.pesData,c=r.pesData,u=i.pesData;let o;if(a&&(o=Xy(a,this.logger))?(this.readyVideoParser(n.segmentCodec),this.videoParser!==null&&(this.videoParser.parsePES(n,s,o,!0),n.pesData=null)):n.pesData=a,c&&(o=Xy(c,this.logger))){switch(r.segmentCodec){case"aac":this.parseAACPES(r,o);break;case"mp3":this.parseMPEGPES(r,o);break;case"ac3":this.parseAC3PES(r,o);break}r.pesData=null}else c!=null&&c.size&&this.logger.log("last AAC PES packet truncated,might overlap between fragments"),r.pesData=c;u&&(o=Xy(u,this.logger))?(this.parseID3PES(i,o),i.pesData=null):i.pesData=u}demuxSampleAes(e,r,n){const i=this.demux(e,n,!0,!this.config.progressive),s=this.sampleAes=new P8e(this.observer,this.config,r);return this.decrypt(i,s)}readyVideoParser(e){this.videoParser===null&&(e==="avc"?this.videoParser=new D8e:e==="hevc"&&(this.videoParser=new M8e))}decrypt(e,r){return new Promise(n=>{const{audioTrack:i,videoTrack:s}=e;i.samples&&i.segmentCodec==="aac"?r.decryptAacSamples(i.samples,0,()=>{s.samples?r.decryptAvcSamples(s.samples,0,0,()=>{n(e)}):n(e)}):s.samples&&r.decryptAvcSamples(s.samples,0,0,()=>{n(e)})})}destroy(){this.observer&&this.observer.removeAllListeners(),this.config=this.logger=this.observer=null,this.aacOverFlow=this.videoParser=this.remainderData=this.sampleAes=null,this._videoTrack=this._audioTrack=this._id3Track=this._txtTrack=void 0}parseAACPES(e,r){let n=0;const i=this.aacOverFlow;let s=r.data;if(i){this.aacOverFlow=null;const f=i.missing,A=i.sample.unit.byteLength;if(f===-1)s=Qf(i.sample.unit,s);else{const p=A-f;i.sample.unit.set(s.subarray(0,f),p),e.samples.push(i.sample),n=i.missing}}let a,c;for(a=n,c=s.length;a<c-1&&!kj(s,a);a++);if(a!==n){let f;const A=a<c-1;if(A?f=`AAC PES did not start with ADTS header,offset:${a}`:f="No ADTS header found in AAC PES",QR(this.observer,new Error(f),A,this.logger),!A)return}Gne(e,this.observer,s,a,this.audioCodec);let u;if(r.pts!==void 0)u=r.pts;else if(i){const f=zne(e.samplerate);u=i.sample.pts+f}else{this.logger.warn("[tsdemuxer]: AAC PES unknown PTS");return}let o=0,d;for(;a<c;)if(d=Wne(e,s,a,u,o),a+=d.length,d.missing){this.aacOverFlow=d;break}else for(o++;a<c-1&&!kj(s,a);a++);}parseMPEGPES(e,r){const n=r.data,i=n.length;let s=0,a=0;const c=r.pts;if(c===void 0){this.logger.warn("[tsdemuxer]: MPEG PES unknown PTS");return}for(;a<i;)if(Jne(n,a)){const u=Xne(e,n,a,c,s);if(u)a+=u.length,s++;else break}else a++}parseAC3PES(e,r){{const n=r.data,i=r.pts;if(i===void 0){this.logger.warn("[tsdemuxer]: AC3 PES unknown PTS");return}const s=n.length;let a=0,c=0,u;for(;c<s&&(u=rie(e,n,c,i,a++))>0;)c+=u}}parseID3PES(e,r){if(r.pts===void 0){this.logger.warn("[tsdemuxer]: ID3 PES unknown PTS");return}const n=So({},r,{type:this._videoTrack?Jh.emsg:Jh.audioId3,duration:Number.POSITIVE_INFINITY});e.samples.push(n)}}function HR(t,e){return((t[e+1]&31)<<8)+t[e+2]}function F8e(t,e){return(t[e+10]&31)<<8|t[e+11]}function U8e(t,e,r,n,i,s){const a={audioPid:-1,videoPid:-1,id3Pid:-1,segmentVideoCodec:"avc",segmentAudioCodec:"aac"},c=(t[e+1]&15)<<8|t[e+2],u=e+3+c-4,o=(t[e+10]&15)<<8|t[e+11];for(e+=12+o;e<u;){const d=HR(t,e),f=(t[e+3]&15)<<8|t[e+4];switch(t[e]){case 207:if(!n){nL("ADTS AAC",s);break}case 15:a.audioPid===-1&&(a.audioPid=d);break;case 21:a.id3Pid===-1&&(a.id3Pid=d);break;case 219:if(!n){nL("H.264",s);break}case 27:a.videoPid===-1&&(a.videoPid=d);break;case 3:case 4:!r.mpeg&&!r.mp3?s.log("MPEG audio found, not supported in this browser"):a.audioPid===-1&&(a.audioPid=d,a.segmentAudioCodec="mp3");break;case 193:if(!n){nL("AC-3",s);break}case 129:r.ac3?a.audioPid===-1&&(a.audioPid=d,a.segmentAudioCodec="ac3"):s.log("AC-3 audio found, not supported in this browser");break;case 6:if(a.audioPid===-1&&f>0){let A=e+5,p=f;for(;p>2;){t[A]===106&&(r.ac3!==!0?s.log("AC-3 audio found, not supported in this browser for now"):(a.audioPid=d,a.segmentAudioCodec="ac3"));const y=t[A+1]+2;A+=y,p-=y}}break;case 194:case 135:return QR(i,new Error("Unsupported EC-3 in M2TS found"),void 0,s),a;case 36:a.videoPid===-1&&(a.videoPid=d,a.segmentVideoCodec="hevc",s.log("HEVC in M2TS found"));break}e+=f+5}return a}function QR(t,e,r,n){n.warn(`parsing error: ${e.message}`),t.emit(_e.ERROR,_e.ERROR,{type:Ai.MEDIA_ERROR,details:ar.FRAG_PARSING_ERROR,fatal:!1,levelRetry:r,error:e,reason:e.message})}function nL(t,e){e.log(`${t} with AES-128-CBC encryption found in unencrypted stream`)}function Xy(t,e){let r=0,n,i,s,a,c;const u=t.data;if(!t||t.size===0)return null;for(;u[0].length<19&&u.length>1;)u[0]=Qf(u[0],u[1]),u.splice(1,1);if(n=u[0],(n[0]<<16)+(n[1]<<8)+n[2]===1){if(i=(n[4]<<8)+n[5],i&&i>t.size-6)return null;const d=n[7];d&192&&(a=(n[9]&14)*536870912+(n[10]&255)*4194304+(n[11]&254)*16384+(n[12]&255)*128+(n[13]&254)/2,d&64?(c=(n[14]&14)*536870912+(n[15]&255)*4194304+(n[16]&254)*16384+(n[17]&255)*128+(n[18]&254)/2,a-c>60*9e4&&(e.warn(`${Math.round((a-c)/9e4)}s delta between PTS and DTS, align them`),a=c)):c=a),s=n[8];let f=s+9;if(t.size<=f)return null;t.size-=f;const A=new Uint8Array(t.size);for(let p=0,g=u.length;p<g;p++){n=u[p];let y=n.byteLength;if(f)if(f>y){f-=y;continue}else n=n.subarray(f),y-=f,f=0;A.set(n,r),r+=y}return i&&(i-=s+3),{data:A,pts:a,dts:c,len:i}}return null}class $8e{static getSilentFrame(e,r){switch(e){case"mp4a.40.2":if(r===1)return new Uint8Array([0,200,0,128,35,128]);if(r===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(r===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(r===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(r===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(r===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(r===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(r===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(r===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);break}}}const Rg=Math.pow(2,32)-1;class rr{static init(){rr.types={avc1:[],avcC:[],hvc1:[],hvcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],dac3:[],"ac-3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};let e;for(e in rr.types)rr.types.hasOwnProperty(e)&&(rr.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);const r=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),n=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);rr.HDLR_TYPES={video:r,audio:n};const i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),s=new Uint8Array([0,0,0,0,0,0,0,0]);rr.STTS=rr.STSC=rr.STCO=s,rr.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),rr.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),rr.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),rr.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);const a=new Uint8Array([105,115,111,109]),c=new Uint8Array([97,118,99,49]),u=new Uint8Array([0,0,0,1]);rr.FTYP=rr.box(rr.types.ftyp,a,u,a,c),rr.DINF=rr.box(rr.types.dinf,rr.box(rr.types.dref,i))}static box(e,...r){let n=8,i=r.length;const s=i;for(;i--;)n+=r[i].byteLength;const a=new Uint8Array(n);for(a[0]=n>>24&255,a[1]=n>>16&255,a[2]=n>>8&255,a[3]=n&255,a.set(e,4),i=0,n=8;i<s;i++)a.set(r[i],n),n+=r[i].byteLength;return a}static hdlr(e){return rr.box(rr.types.hdlr,rr.HDLR_TYPES[e])}static mdat(e){return rr.box(rr.types.mdat,e)}static mdhd(e,r){r*=e;const n=Math.floor(r/(Rg+1)),i=Math.floor(r%(Rg+1));return rr.box(rr.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,e&255,n>>24,n>>16&255,n>>8&255,n&255,i>>24,i>>16&255,i>>8&255,i&255,85,196,0,0]))}static mdia(e){return rr.box(rr.types.mdia,rr.mdhd(e.timescale||0,e.duration||0),rr.hdlr(e.type),rr.minf(e))}static mfhd(e){return rr.box(rr.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,e&255]))}static minf(e){return e.type==="audio"?rr.box(rr.types.minf,rr.box(rr.types.smhd,rr.SMHD),rr.DINF,rr.stbl(e)):rr.box(rr.types.minf,rr.box(rr.types.vmhd,rr.VMHD),rr.DINF,rr.stbl(e))}static moof(e,r,n){return rr.box(rr.types.moof,rr.mfhd(e),rr.traf(n,r))}static moov(e){let r=e.length;const n=[];for(;r--;)n[r]=rr.trak(e[r]);return rr.box.apply(null,[rr.types.moov,rr.mvhd(e[0].timescale||0,e[0].duration||0)].concat(n).concat(rr.mvex(e)))}static mvex(e){let r=e.length;const n=[];for(;r--;)n[r]=rr.trex(e[r]);return rr.box.apply(null,[rr.types.mvex,...n])}static mvhd(e,r){r*=e;const n=Math.floor(r/(Rg+1)),i=Math.floor(r%(Rg+1)),s=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,e&255,n>>24,n>>16&255,n>>8&255,n&255,i>>24,i>>16&255,i>>8&255,i&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return rr.box(rr.types.mvhd,s)}static sdtp(e){const r=e.samples||[],n=new Uint8Array(4+r.length);let i,s;for(i=0;i<r.length;i++)s=r[i].flags,n[i+4]=s.dependsOn<<4|s.isDependedOn<<2|s.hasRedundancy;return rr.box(rr.types.sdtp,n)}static stbl(e){return rr.box(rr.types.stbl,rr.stsd(e),rr.box(rr.types.stts,rr.STTS),rr.box(rr.types.stsc,rr.STSC),rr.box(rr.types.stsz,rr.STSZ),rr.box(rr.types.stco,rr.STCO))}static avc1(e){let r=[],n=[],i,s,a;for(i=0;i<e.sps.length;i++)s=e.sps[i],a=s.byteLength,r.push(a>>>8&255),r.push(a&255),r=r.concat(Array.prototype.slice.call(s));for(i=0;i<e.pps.length;i++)s=e.pps[i],a=s.byteLength,n.push(a>>>8&255),n.push(a&255),n=n.concat(Array.prototype.slice.call(s));const c=rr.box(rr.types.avcC,new Uint8Array([1,r[3],r[4],r[5],255,224|e.sps.length].concat(r).concat([e.pps.length]).concat(n))),u=e.width,o=e.height,d=e.pixelRatio[0],f=e.pixelRatio[1];return rr.box(rr.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,u>>8&255,u&255,o>>8&255,o&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),c,rr.box(rr.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),rr.box(rr.types.pasp,new Uint8Array([d>>24,d>>16&255,d>>8&255,d&255,f>>24,f>>16&255,f>>8&255,f&255])))}static esds(e){const r=e.config;return new Uint8Array([0,0,0,0,3,25,0,1,0,4,17,64,21,0,0,0,0,0,0,0,0,0,0,0,5,2,...r,6,1,2])}static audioStsd(e){const r=e.samplerate||0;return new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount||0,0,16,0,0,0,0,r>>8&255,r&255,0,0])}static mp4a(e){return rr.box(rr.types.mp4a,rr.audioStsd(e),rr.box(rr.types.esds,rr.esds(e)))}static mp3(e){return rr.box(rr.types[".mp3"],rr.audioStsd(e))}static ac3(e){return rr.box(rr.types["ac-3"],rr.audioStsd(e),rr.box(rr.types.dac3,e.config))}static stsd(e){const{segmentCodec:r}=e;if(e.type==="audio"){if(r==="aac")return rr.box(rr.types.stsd,rr.STSD,rr.mp4a(e));if(r==="ac3"&&e.config)return rr.box(rr.types.stsd,rr.STSD,rr.ac3(e));if(r==="mp3"&&e.codec==="mp3")return rr.box(rr.types.stsd,rr.STSD,rr.mp3(e))}else if(e.pps&&e.sps){if(r==="avc")return rr.box(rr.types.stsd,rr.STSD,rr.avc1(e));if(r==="hevc"&&e.vps)return rr.box(rr.types.stsd,rr.STSD,rr.hvc1(e))}else throw new Error("video track missing pps or sps");throw new Error(`unsupported ${e.type} segment codec (${r}/${e.codec})`)}static tkhd(e){const r=e.id,n=(e.duration||0)*(e.timescale||0),i=e.width||0,s=e.height||0,a=Math.floor(n/(Rg+1)),c=Math.floor(n%(Rg+1));return rr.box(rr.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,r>>24&255,r>>16&255,r>>8&255,r&255,0,0,0,0,a>>24,a>>16&255,a>>8&255,a&255,c>>24,c>>16&255,c>>8&255,c&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,i>>8&255,i&255,0,0,s>>8&255,s&255,0,0]))}static traf(e,r){const n=rr.sdtp(e),i=e.id,s=Math.floor(r/(Rg+1)),a=Math.floor(r%(Rg+1));return rr.box(rr.types.traf,rr.box(rr.types.tfhd,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,i&255])),rr.box(rr.types.tfdt,new Uint8Array([1,0,0,0,s>>24,s>>16&255,s>>8&255,s&255,a>>24,a>>16&255,a>>8&255,a&255])),rr.trun(e,n.length+16+20+8+16+8+8),n)}static trak(e){return e.duration=e.duration||4294967295,rr.box(rr.types.trak,rr.tkhd(e),rr.mdia(e))}static trex(e){const r=e.id;return rr.box(rr.types.trex,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,r&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}static trun(e,r){const n=e.samples||[],i=n.length,s=12+16*i,a=new Uint8Array(s);let c,u,o,d,f,A;for(r+=8+s,a.set([e.type==="video"?1:0,0,15,1,i>>>24&255,i>>>16&255,i>>>8&255,i&255,r>>>24&255,r>>>16&255,r>>>8&255,r&255],0),c=0;c<i;c++)u=n[c],o=u.duration,d=u.size,f=u.flags,A=u.cts,a.set([o>>>24&255,o>>>16&255,o>>>8&255,o&255,d>>>24&255,d>>>16&255,d>>>8&255,d&255,f.isLeading<<2|f.dependsOn,f.isDependedOn<<6|f.hasRedundancy<<4|f.paddingValue<<1|f.isNonSync,f.degradPrio&61440,f.degradPrio&15,A>>>24&255,A>>>16&255,A>>>8&255,A&255],12+16*c);return rr.box(rr.types.trun,a)}static initSegment(e){rr.types||rr.init();const r=rr.moov(e);return Qf(rr.FTYP,r)}static hvc1(e){const r=e.params,n=[e.vps,e.sps,e.pps],i=4,s=new Uint8Array([1,r.general_profile_space<<6|(r.general_tier_flag?32:0)|r.general_profile_idc,r.general_profile_compatibility_flags[0],r.general_profile_compatibility_flags[1],r.general_profile_compatibility_flags[2],r.general_profile_compatibility_flags[3],r.general_constraint_indicator_flags[0],r.general_constraint_indicator_flags[1],r.general_constraint_indicator_flags[2],r.general_constraint_indicator_flags[3],r.general_constraint_indicator_flags[4],r.general_constraint_indicator_flags[5],r.general_level_idc,240|r.min_spatial_segmentation_idc>>8,255&r.min_spatial_segmentation_idc,252|r.parallelismType,252|r.chroma_format_idc,248|r.bit_depth_luma_minus8,248|r.bit_depth_chroma_minus8,0,parseInt(r.frame_rate.fps),i-1|r.temporal_id_nested<<2|r.num_temporal_layers<<3|(r.frame_rate.fixed?64:0),n.length]);let a=s.length;for(let g=0;g<n.length;g+=1){a+=3;for(let y=0;y<n[g].length;y+=1)a+=2+n[g][y].length}const c=new Uint8Array(a);c.set(s,0),a=s.length;const u=n.length-1;for(let g=0;g<n.length;g+=1){c.set(new Uint8Array([32+g|(g===u?128:0),0,n[g].length]),a),a+=3;for(let y=0;y<n[g].length;y+=1)c.set(new Uint8Array([n[g][y].length>>8,n[g][y].length&255]),a),a+=2,c.set(n[g][y],a),a+=n[g][y].length}const o=rr.box(rr.types.hvcC,c),d=e.width,f=e.height,A=e.pixelRatio[0],p=e.pixelRatio[1];return rr.box(rr.types.hvc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,d>>8&255,d&255,f>>8&255,f&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),o,rr.box(rr.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),rr.box(rr.types.pasp,new Uint8Array([A>>24,A>>16&255,A>>8&255,A&255,p>>24,p>>16&255,p>>8&255,p&255])))}}rr.types=void 0;rr.HDLR_TYPES=void 0;rr.STTS=void 0;rr.STSC=void 0;rr.STCO=void 0;rr.STSZ=void 0;rr.VMHD=void 0;rr.SMHD=void 0;rr.STSD=void 0;rr.FTYP=void 0;rr.DINF=void 0;const iie=9e4;function nF(t,e,r=1,n=!1){const i=t*e*r;return n?Math.round(i):i}function H8e(t,e,r=1,n=!1){return nF(t,e,1/r,n)}function U1(t,e=!1){return nF(t,1e3,1/iie,e)}function Q8e(t,e=1){return nF(t,iie,1/e)}function vG(t){const{baseTime:e,timescale:r,trackId:n}=t;return`${e/r} (${e}/${r}) trackId: ${n}`}const V8e=10*1e3,K8e=1024,G8e=1152,z8e=1536;let Zy=null,iL=null;function yG(t,e,r,n){return{duration:e,size:r,cts:n,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:t?2:1,isNonSync:t?0:1}}}class F_ extends Gf{constructor(e,r,n,i){if(super("mp4-remuxer",i),this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextVideoTs=null,this.nextAudioTs=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.videoTrackConfig=void 0,this.observer=e,this.config=r,this.typeSupported=n,this.ISGenerated=!1,Zy===null){const a=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);Zy=a?parseInt(a[1]):0}if(iL===null){const s=navigator.userAgent.match(/Safari\/(\d+)/i);iL=s?parseInt(s[1]):0}}destroy(){this.config=this.videoTrackConfig=this._initPTS=this._initDTS=null}resetTimeStamp(e){const r=this._initPTS;(!r||!e||e.trackId!==r.trackId||e.baseTime!==r.baseTime||e.timescale!==r.timescale)&&this.log(`Reset initPTS: ${r&&vG(r)} > ${e&&vG(e)}`),this._initPTS=this._initDTS=e}resetNextTimestamp(){this.log("reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1}resetInitSegment(){this.log("ISGenerated flag reset"),this.ISGenerated=!1,this.videoTrackConfig=void 0}getVideoStartPts(e){let r=!1;const n=e[0].pts,i=e.reduce((s,a)=>{let c=a.pts,u=c-s;return u<-4294967296&&(r=!0,c=qh(c,n),u=c-s),u>0?s:c},n);return r&&this.debug("PTS rollover detected"),i}remux(e,r,n,i,s,a,c,u){let o,d,f,A,p,g,y=s,v=s;const b=e.pid>-1,w=r.pid>-1,S=r.samples.length,_=e.samples.length>0,T=c&&S>0||S>1;if((!b||_)&&(!w||T)||this.ISGenerated||c){if(this.ISGenerated){var D,V,G,J;const ge=this.videoTrackConfig;(ge&&(r.width!==ge.width||r.height!==ge.height||((D=r.pixelRatio)==null?void 0:D[0])!==((V=ge.pixelRatio)==null?void 0:V[0])||((G=r.pixelRatio)==null?void 0:G[1])!==((J=ge.pixelRatio)==null?void 0:J[1]))||!ge&&T||this.nextAudioTs===null&&_)&&this.resetInitSegment()}this.ISGenerated||(f=this.generateIS(e,r,s,a));const ee=this.isVideoContiguous;let ue=-1,pe;if(T&&(ue=W8e(r.samples),!ee&&this.config.forceKeyFrameOnDiscontinuity))if(g=!0,ue>0){this.warn(`Dropped ${ue} out of ${S} video samples due to a missing keyframe`);const ge=this.getVideoStartPts(r.samples);r.samples=r.samples.slice(ue),r.dropped+=ue,v+=(r.samples[0].pts-ge)/r.inputTimeScale,pe=v}else ue===-1&&(this.warn(`No keyframe found out of ${S} video samples`),g=!1);if(this.ISGenerated){if(_&&T){const ge=this.getVideoStartPts(r.samples),ne=(qh(e.samples[0].pts,ge)-ge)/r.inputTimeScale;y+=Math.max(0,ne),v+=Math.max(0,-ne)}if(_){if(e.samplerate||(this.warn("regenerate InitSegment as audio detected"),f=this.generateIS(e,r,s,a)),d=this.remuxAudio(e,y,this.isAudioContiguous,a,w||T||u===Yn.AUDIO?v:void 0),T){const ge=d?d.endPTS-d.startPTS:0;r.inputTimeScale||(this.warn("regenerate InitSegment as video detected"),f=this.generateIS(e,r,s,a)),o=this.remuxVideo(r,v,ee,ge)}}else T&&(o=this.remuxVideo(r,v,ee,0));o&&(o.firstKeyFrame=ue,o.independent=ue!==-1,o.firstKeyFramePTS=pe)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(n.samples.length&&(p=sie(n,s,this._initPTS,this._initDTS)),i.samples.length&&(A=aie(i,s,this._initPTS))),{audio:d,video:o,initSegment:f,independent:g,text:A,id3:p}}computeInitPts(e,r,n,i){const s=Math.round(n*r);let a=qh(e,s);if(a<s+r)for(this.log(`Adjusting PTS for rollover in timeline near ${(s-a)/r} ${i}`);a<s+r;)a+=8589934592;return a-s}generateIS(e,r,n,i){const s=e.samples,a=r.samples,c=this.typeSupported,u={},o=this._initPTS;let d=!o||i,f="audio/mp4",A,p,g,y=-1;if(d&&(A=p=1/0),e.config&&s.length){switch(e.timescale=e.samplerate,e.segmentCodec){case"mp3":c.mpeg?(f="audio/mpeg",e.codec=""):c.mp3&&(e.codec="mp3");break;case"ac3":e.codec="ac-3";break}u.audio={id:"audio",container:f,codec:e.codec,initSegment:e.segmentCodec==="mp3"&&c.mpeg?new Uint8Array(0):rr.initSegment([e]),metadata:{channelCount:e.channelCount}},d&&(y=e.id,g=e.inputTimeScale,!o||g!==o.timescale?A=p=this.computeInitPts(s[0].pts,g,n,"audio"):d=!1)}if(r.sps&&r.pps&&a.length){if(r.timescale=r.inputTimeScale,u.video={id:"main",container:"video/mp4",codec:r.codec,initSegment:rr.initSegment([r]),metadata:{width:r.width,height:r.height}},d)if(y=r.id,g=r.inputTimeScale,!o||g!==o.timescale){const v=this.getVideoStartPts(a),b=qh(a[0].dts,v),w=this.computeInitPts(b,g,n,"video"),S=this.computeInitPts(v,g,n,"video");p=Math.min(p,w),A=Math.min(A,S)}else d=!1;this.videoTrackConfig={width:r.width,height:r.height,pixelRatio:r.pixelRatio}}if(Object.keys(u).length)return this.ISGenerated=!0,d?(o&&this.warn(`Timestamps at playlist time: ${i?"":"~"}${n} ${A/g} != initPTS: ${o.baseTime/o.timescale} (${o.baseTime}/${o.timescale}) trackId: ${o.trackId}`),this.log(`Found initPTS at playlist time: ${n} offset: ${A/g} (${A}/${g}) trackId: ${y}`),this._initPTS={baseTime:A,timescale:g,trackId:y},this._initDTS={baseTime:p,timescale:g,trackId:y}):A=g=void 0,{tracks:u,initPTS:A,timescale:g,trackId:y}}remuxVideo(e,r,n,i){const s=e.inputTimeScale,a=e.samples,c=[],u=a.length,o=this._initPTS,d=o.baseTime*s/o.timescale;let f=this.nextVideoTs,A=8,p=this.videoSampleDuration,g,y,v=Number.POSITIVE_INFINITY,b=Number.NEGATIVE_INFINITY,w=!1;if(!n||f===null){const ve=d+r*s,se=a[0].pts-qh(a[0].dts,a[0].pts);Zy&&f!==null&&Math.abs(ve-se-(f+d))<15e3?n=!0:f=ve-se-d}const S=f+d;for(let ve=0;ve<u;ve++){const se=a[ve];se.pts=qh(se.pts,S),se.dts=qh(se.dts,S),se.dts<a[ve>0?ve-1:ve].dts&&(w=!0)}w&&a.sort(function(ve,se){const me=ve.dts-se.dts,je=ve.pts-se.pts;return me||je}),g=a[0].dts,y=a[a.length-1].dts;const _=y-g,T=_?Math.round(_/(u-1)):p||e.inputTimeScale/30;if(n){const ve=g-S,se=ve>T,me=ve<-1;if((se||me)&&(se?this.warn(`${(e.segmentCodec||"").toUpperCase()}: ${U1(ve,!0)} ms (${ve}dts) hole between fragments detected at ${r.toFixed(3)}`):this.warn(`${(e.segmentCodec||"").toUpperCase()}: ${U1(-ve,!0)} ms (${ve}dts) overlapping between fragments detected at ${r.toFixed(3)}`),!me||S>=a[0].pts||Zy)){g=S;const je=a[0].pts-ve;if(se)a[0].dts=g,a[0].pts=je;else{let Ue=!0;for(let De=0;De<a.length&&!(a[De].dts>je&&Ue);De++){const ot=a[De].pts;if(a[De].dts-=ve,a[De].pts-=ve,De<a.length-1){const ft=a[De+1].pts,Ce=a[De].pts,Ze=ft<=Ce,ze=ft<=ot;Ue=Ze==ze}}}this.log(`Video: Initial PTS/DTS adjusted: ${U1(je,!0)}/${U1(g,!0)}, delta: ${U1(ve,!0)} ms`)}}g=Math.max(0,g);let L=0,D=0,V=g;for(let ve=0;ve<u;ve++){const se=a[ve],me=se.units,je=me.length;let Ue=0;for(let De=0;De<je;De++)Ue+=me[De].data.length;D+=Ue,L+=je,se.length=Ue,se.dts<V?(se.dts=V,V+=T/4|0||1):V=se.dts,v=Math.min(se.pts,v),b=Math.max(se.pts,b)}y=a[u-1].dts;const G=D+4*L+8;let J;try{J=new Uint8Array(G)}catch(ve){this.observer.emit(_e.ERROR,_e.ERROR,{type:Ai.MUX_ERROR,details:ar.REMUX_ALLOC_ERROR,fatal:!1,error:ve,bytes:G,reason:`fail allocating video mdat ${G}`});return}const ee=new DataView(J.buffer);ee.setUint32(0,G),J.set(rr.types.mdat,4);let ue=!1,pe=Number.POSITIVE_INFINITY,ge=Number.POSITIVE_INFINITY,he=Number.NEGATIVE_INFINITY,ne=Number.NEGATIVE_INFINITY;for(let ve=0;ve<u;ve++){const se=a[ve],me=se.units;let je=0;for(let ot=0,ft=me.length;ot<ft;ot++){const Ce=me[ot],Ze=Ce.data,ze=Ce.data.byteLength;ee.setUint32(A,ze),A+=4,J.set(Ze,A),A+=ze,je+=4+ze}let Ue;if(ve<u-1)p=a[ve+1].dts-se.dts,Ue=a[ve+1].pts-se.pts;else{const ot=this.config,ft=ve>0?se.dts-a[ve-1].dts:T;if(Ue=ve>0?se.pts-a[ve-1].pts:T,ot.stretchShortVideoTrack&&this.nextAudioTs!==null){const Ce=Math.floor(ot.maxBufferHole*s),Ze=(i?v+i*s:this.nextAudioTs+d)-se.pts;Ze>Ce?(p=Ze-ft,p<0?p=ft:ue=!0,this.log(`It is approximately ${Ze/90} ms to the next segment; using duration ${p/90} ms for the last video frame.`)):p=ft}else p=ft}const De=Math.round(se.pts-se.dts);pe=Math.min(pe,p),he=Math.max(he,p),ge=Math.min(ge,Ue),ne=Math.max(ne,Ue),c.push(yG(se.key,p,je,De))}if(c.length){if(Zy){if(Zy<70){const ve=c[0].flags;ve.dependsOn=2,ve.isNonSync=0}}else if(iL&&ne-ge<he-pe&&T/he<.025&&c[0].cts===0){this.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");let ve=g;for(let se=0,me=c.length;se<me;se++){const je=ve+c[se].duration,Ue=ve+c[se].cts;if(se<me-1){const De=je+c[se+1].cts;c[se].duration=De-Ue}else c[se].duration=se?c[se-1].duration:T;c[se].cts=0,ve=je}}}p=ue||!p?T:p;const Ae=y+p;this.nextVideoTs=f=Ae-d,this.videoSampleDuration=p,this.isVideoContiguous=!0;const ke={data1:rr.moof(e.sequenceNumber++,g,So(e,{samples:c})),data2:J,startPTS:(v-d)/s,endPTS:(b+p-d)/s,startDTS:(g-d)/s,endDTS:f/s,type:"video",hasAudio:!1,hasVideo:!0,nb:c.length,dropped:e.dropped};return e.samples=[],e.dropped=0,ke}getSamplesPerFrame(e){switch(e.segmentCodec){case"mp3":return G8e;case"ac3":return z8e;default:return K8e}}remuxAudio(e,r,n,i,s){const a=e.inputTimeScale,c=e.samplerate?e.samplerate:a,u=a/c,o=this.getSamplesPerFrame(e),d=o*u,f=this._initPTS,A=e.segmentCodec==="mp3"&&this.typeSupported.mpeg,p=[],g=s!==void 0;let y=e.samples,v=A?0:8,b=this.nextAudioTs||-1;const w=f.baseTime*a/f.timescale,S=w+r*a;if(this.isAudioContiguous=n=n||y.length&&b>0&&(i&&Math.abs(S-(b+w))<9e3||Math.abs(qh(y[0].pts,S)-(b+w))<20*d),y.forEach(function(ne){ne.pts=qh(ne.pts,S)}),!n||b<0){const ne=y.length;if(y=y.filter(Ae=>Ae.pts>=0),ne!==y.length&&this.warn(`Removed ${y.length-ne} of ${ne} samples (initPTS ${w} / ${a})`),!y.length)return;s===0?b=0:i&&!g?b=Math.max(0,S-w):b=y[0].pts-w}if(e.segmentCodec==="aac"){const ne=this.config.maxAudioFramesDrift;for(let Ae=0,oe=b+w;Ae<y.length;Ae++){const Be=y[Ae],ke=Be.pts,ve=ke-oe,se=Math.abs(1e3*ve/a);if(ve<=-ne*d&&g)Ae===0&&(this.warn(`Audio frame @ ${(ke/a).toFixed(3)}s overlaps marker by ${Math.round(1e3*ve/a)} ms.`),this.nextAudioTs=b=ke-w,oe=ke);else if(ve>=ne*d&&se<V8e&&g){let me=Math.round(ve/d);for(oe=ke-me*d;oe<0&&me&&d;)me--,oe+=d;Ae===0&&(this.nextAudioTs=b=oe-w),this.warn(`Injecting ${me} audio frames @ ${((oe-w)/a).toFixed(3)}s due to ${Math.round(1e3*ve/a)} ms gap.`);for(let je=0;je<me;je++){let Ue=$8e.getSilentFrame(e.parsedCodec||e.manifestCodec||e.codec,e.channelCount);Ue||(this.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),Ue=Be.unit.subarray()),y.splice(Ae,0,{unit:Ue,pts:oe}),oe+=d,Ae++}}Be.pts=oe,oe+=d}}let _=null,T=null,L,D=0,V=y.length;for(;V--;)D+=y[V].unit.byteLength;for(let ne=0,Ae=y.length;ne<Ae;ne++){const oe=y[ne],Be=oe.unit;let ke=oe.pts;if(T!==null){const se=p[ne-1];se.duration=Math.round((ke-T)/u)}else if(n&&e.segmentCodec==="aac"&&(ke=b+w),_=ke,D>0){D+=v;try{L=new Uint8Array(D)}catch(se){this.observer.emit(_e.ERROR,_e.ERROR,{type:Ai.MUX_ERROR,details:ar.REMUX_ALLOC_ERROR,fatal:!1,error:se,bytes:D,reason:`fail allocating audio mdat ${D}`});return}A||(new DataView(L.buffer).setUint32(0,D),L.set(rr.types.mdat,4))}else return;L.set(Be,v);const ve=Be.byteLength;v+=ve,p.push(yG(!0,o,ve,0)),T=ke}const G=p.length;if(!G)return;const J=p[p.length-1];b=T-w,this.nextAudioTs=b+u*J.duration;const ee=A?new Uint8Array(0):rr.moof(e.sequenceNumber++,_/u,So({},e,{samples:p}));e.samples=[];const ue=(_-w)/a,pe=this.nextAudioTs/a,he={data1:ee,data2:L,startPTS:ue,endPTS:pe,startDTS:ue,endDTS:pe,type:"audio",hasAudio:!0,hasVideo:!1,nb:G};return this.isAudioContiguous=!0,he}}function qh(t,e){let r;if(e===null)return t;for(e<t?r=-8589934592:r=8589934592;Math.abs(t-e)>4294967296;)t+=r;return t}function W8e(t){for(let e=0;e<t.length;e++)if(t[e].key)return e;return-1}function sie(t,e,r,n){const i=t.samples.length;if(!i)return;const s=t.inputTimeScale;for(let c=0;c<i;c++){const u=t.samples[c];u.pts=qh(u.pts-r.baseTime*s/r.timescale,e*s)/s,u.dts=qh(u.dts-n.baseTime*s/n.timescale,e*s)/s}const a=t.samples;return t.samples=[],{samples:a}}function aie(t,e,r){const n=t.samples.length;if(!n)return;const i=t.inputTimeScale;for(let a=0;a<n;a++){const c=t.samples[a];c.pts=qh(c.pts-r.baseTime*i/r.timescale,e*i)/i}t.samples.sort((a,c)=>a.pts-c.pts);const s=t.samples;return t.samples=[],{samples:s}}class Y8e extends Gf{constructor(e,r,n,i){super("passthrough-remuxer",i),this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null,this.isVideoContiguous=!1}destroy(){}resetTimeStamp(e){this.lastEndTime=null;const r=this.initPTS;r&&e&&r.baseTime===e.baseTime&&r.timescale===e.timescale||(this.initPTS=e)}resetNextTimestamp(){this.isVideoContiguous=!1,this.lastEndTime=null}resetInitSegment(e,r,n,i){this.audioCodec=r,this.videoCodec=n,this.generateInitSegment(e,i),this.emitInitSegment=!0}generateInitSegment(e,r){let{audioCodec:n,videoCodec:i}=this;if(!(e!=null&&e.byteLength)){this.initTracks=void 0,this.initData=void 0;return}const{audio:s,video:a}=this.initData=hne(e);if(r)PUe(e,r);else{const u=s||a;u!=null&&u.encrypted&&this.warn(`Init segment with encrypted track with has no key ("${u.codec}")!`)}s&&(n=xG(s,Ro.AUDIO,this)),a&&(i=xG(a,Ro.VIDEO,this));const c={};s&&a?c.audiovideo={container:"video/mp4",codec:n+","+i,supplemental:a.supplemental,encrypted:a.encrypted,initSegment:e,id:"main"}:s?c.audio={container:"audio/mp4",codec:n,encrypted:s.encrypted,initSegment:e,id:"audio"}:a?c.video={container:"video/mp4",codec:i,supplemental:a.supplemental,encrypted:a.encrypted,initSegment:e,id:"main"}:this.warn("initSegment does not contain moov or trak boxes."),this.initTracks=c}remux(e,r,n,i,s,a){var c,u;let{initPTS:o,lastEndTime:d}=this;const f={audio:void 0,video:void 0,text:i,id3:n,initSegment:void 0};kn(d)||(d=this.lastEndTime=s||0);const A=r.samples;if(!A.length)return f;const p={initPTS:void 0,timescale:void 0,trackId:void 0};let g=this.initData;if((c=g)!=null&&c.length||(this.generateInitSegment(A),g=this.initData),!((u=g)!=null&&u.length))return this.warn("Failed to generate initSegment."),f;this.emitInitSegment&&(p.tracks=this.initTracks,this.emitInitSegment=!1);const y=MUe(A,g,this),v=g.audio?y[g.audio.id]:null,b=g.video?y[g.video.id]:null,w=zS(b,1/0),S=zS(v,1/0),_=zS(b,0,!0),T=zS(v,0,!0);let L=s,D=0;const V=v&&(!b||!o&&S<w||o&&o.trackId===g.audio.id),G=V?v:b;if(G){const oe=G.timescale,Be=G.start-s*oe,ke=V?g.audio.id:g.video.id;L=G.start/oe,D=V?T-S:_-w,(a||!o)&&(q8e(o,L,s,D)||oe!==o.timescale)&&(o&&this.warn(`Timestamps at playlist time: ${a?"":"~"}${s} ${Be/oe} != initPTS: ${o.baseTime/o.timescale} (${o.baseTime}/${o.timescale}) trackId: ${o.trackId}`),this.log(`Found initPTS at playlist time: ${s} offset: ${L-s} (${Be}/${oe}) trackId: ${ke}`),o=null,p.initPTS=Be,p.timescale=oe,p.trackId=ke)}else this.warn(`No audio or video samples found for initPTS at playlist time: ${s}`);o?(p.initPTS=o.baseTime,p.timescale=o.timescale,p.trackId=o.trackId):((!p.timescale||p.trackId===void 0||p.initPTS===void 0)&&(this.warn("Could not set initPTS"),p.initPTS=L,p.timescale=1,p.trackId=-1),this.initPTS=o={baseTime:p.initPTS,timescale:p.timescale,trackId:p.trackId});const J=L-o.baseTime/o.timescale,ee=J+D;D>0?this.lastEndTime=ee:(this.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());const ue=!!g.audio,pe=!!g.video;let ge="";ue&&(ge+="audio"),pe&&(ge+="video");const he=(g.audio?g.audio.encrypted:!1)||(g.video?g.video.encrypted:!1),ne={data1:A,startPTS:J,startDTS:J,endPTS:ee,endDTS:ee,type:ge,hasAudio:ue,hasVideo:pe,nb:1,dropped:0,encrypted:he};f.audio=ue&&!pe?ne:void 0,f.video=pe?ne:void 0;const Ae=b?.sampleCount;if(Ae){const oe=b.keyFrameIndex,Be=oe!==-1;ne.nb=Ae,ne.dropped=oe===0||this.isVideoContiguous?0:Be?oe:Ae,ne.independent=Be,ne.firstKeyFrame=oe,Be&&b.keyFrameStart&&(ne.firstKeyFramePTS=(b.keyFrameStart-o.baseTime)/o.timescale),this.isVideoContiguous||(f.independent=Be),this.isVideoContiguous||(this.isVideoContiguous=Be),ne.dropped&&this.warn(`fmp4 does not start with IDR: firstIDR ${oe}/${Ae} dropped: ${ne.dropped} start: ${ne.firstKeyFramePTS||"NA"}`)}return f.initSegment=p,f.id3=sie(n,s,o,o),i.samples.length&&(f.text=aie(i,s,o)),f}}function zS(t,e,r=!1){return t?.start!==void 0?(t.start+(r?t.duration:0))/t.timescale:e}function q8e(t,e,r,n){if(t===null)return!0;const i=Math.max(n,1),s=e-t.baseTime/t.timescale;return Math.abs(s-r)>i}function xG(t,e,r){const n=t.codec;return n&&n.length>4?n:e===Ro.AUDIO?n==="ec-3"||n==="ac-3"||n==="alac"?n:n==="fLaC"||n==="Opus"?Ej(n,!1):(r.warn(`Unhandled audio codec "${n}" in mp4 MAP`),n||"mp4a"):(r.warn(`Unhandled video codec "${n}" in mp4 MAP`),n||"avc1")}let bp;try{bp=self.performance.now.bind(self.performance)}catch{bp=Date.now}const U_=[{demux:O8e,remux:Y8e},{demux:t0,remux:F_},{demux:k8e,remux:F_},{demux:L8e,remux:F_}];U_.splice(2,0,{demux:B8e,remux:F_});class bG{constructor(e,r,n,i,s,a){this.asyncResult=!1,this.logger=void 0,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=e,this.typeSupported=r,this.config=n,this.id=s,this.logger=a}configure(e){this.transmuxConfig=e,this.decrypter&&this.decrypter.reset()}push(e,r,n,i){const s=n.transmuxing;s.executeStart=bp();let a=new Uint8Array(e);const{currentTransmuxState:c,transmuxConfig:u}=this;i&&(this.currentTransmuxState=i);const{contiguous:o,discontinuity:d,trackSwitch:f,accurateTimeOffset:A,timeOffset:p,initSegmentChange:g}=i||c,{audioCodec:y,videoCodec:v,defaultInitPts:b,duration:w,initSegmentData:S}=u,_=X8e(a,r);if(_&&nb(_.method)){const V=this.getDecrypter(),G=WM(_.method);if(V.isSync()){let J=V.softwareDecrypt(a,_.key.buffer,_.iv.buffer,G);if(n.part>-1){const ue=V.flush();J=ue&&ue.buffer}if(!J)return s.executeEnd=bp(),sL(n);a=new Uint8Array(J)}else return this.asyncResult=!0,this.decryptionPromise=V.webCryptoDecrypt(a,_.key.buffer,_.iv.buffer,G).then(J=>{const ee=this.push(J,null,n);return this.decryptionPromise=null,ee}),this.decryptionPromise}const T=this.needsProbing(d,f);if(T){const V=this.configureTransmuxer(a);if(V)return this.logger.warn(`[transmuxer] ${V.message}`),this.observer.emit(_e.ERROR,_e.ERROR,{type:Ai.MEDIA_ERROR,details:ar.FRAG_PARSING_ERROR,fatal:!1,error:V,reason:V.message}),s.executeEnd=bp(),sL(n)}(d||f||g||T)&&this.resetInitSegment(S,y,v,w,r),(d||g||T)&&this.resetInitialTimestamp(b),o||this.resetContiguity();const L=this.transmux(a,_,p,A,n);this.asyncResult=ME(L);const D=this.currentTransmuxState;return D.contiguous=!0,D.discontinuity=!1,D.trackSwitch=!1,s.executeEnd=bp(),L}flush(e){const r=e.transmuxing;r.executeStart=bp();const{decrypter:n,currentTransmuxState:i,decryptionPromise:s}=this;if(s)return this.asyncResult=!0,s.then(()=>this.flush(e));const a=[],{timeOffset:c}=i;if(n){const f=n.flush();f&&a.push(this.push(f.buffer,null,e))}const{demuxer:u,remuxer:o}=this;if(!u||!o){r.executeEnd=bp();const f=[sL(e)];return this.asyncResult?Promise.resolve(f):f}const d=u.flush(c);return ME(d)?(this.asyncResult=!0,d.then(f=>(this.flushRemux(a,f,e),a))):(this.flushRemux(a,d,e),this.asyncResult?Promise.resolve(a):a)}flushRemux(e,r,n){const{audioTrack:i,videoTrack:s,id3Track:a,textTrack:c}=r,{accurateTimeOffset:u,timeOffset:o}=this.currentTransmuxState;this.logger.log(`[transmuxer.ts]: Flushed ${this.id} sn: ${n.sn}${n.part>-1?" part: "+n.part:""} of ${this.id===Yn.MAIN?"level":"track"} ${n.level}`);const d=this.remuxer.remux(i,s,a,c,o,u,!0,this.id);e.push({remuxResult:d,chunkMeta:n}),n.transmuxing.executeEnd=bp()}resetInitialTimestamp(e){const{demuxer:r,remuxer:n}=this;!r||!n||(r.resetTimeStamp(e),n.resetTimeStamp(e))}resetContiguity(){const{demuxer:e,remuxer:r}=this;!e||!r||(e.resetContiguity(),r.resetNextTimestamp())}resetInitSegment(e,r,n,i,s){const{demuxer:a,remuxer:c}=this;!a||!c||(a.resetInitSegment(e,r,n,i),c.resetInitSegment(e,r,n,s))}destroy(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)}transmux(e,r,n,i,s){let a;return r&&r.method==="SAMPLE-AES"?a=this.transmuxSampleAes(e,r,n,i,s):a=this.transmuxUnencrypted(e,n,i,s),a}transmuxUnencrypted(e,r,n,i){const{audioTrack:s,videoTrack:a,id3Track:c,textTrack:u}=this.demuxer.demux(e,r,!1,!this.config.progressive);return{remuxResult:this.remuxer.remux(s,a,c,u,r,n,!1,this.id),chunkMeta:i}}transmuxSampleAes(e,r,n,i,s){return this.demuxer.demuxSampleAes(e,r,n).then(a=>({remuxResult:this.remuxer.remux(a.audioTrack,a.videoTrack,a.id3Track,a.textTrack,n,i,!1,this.id),chunkMeta:s}))}configureTransmuxer(e){const{config:r,observer:n,typeSupported:i}=this;let s;for(let f=0,A=U_.length;f<A;f++){var a;if((a=U_[f].demux)!=null&&a.probe(e,this.logger)){s=U_[f];break}}if(!s)return new Error("Failed to find demuxer by probing fragment data");const c=this.demuxer,u=this.remuxer,o=s.remux,d=s.demux;(!u||!(u instanceof o))&&(this.remuxer=new o(n,r,i,this.logger)),(!c||!(c instanceof d))&&(this.demuxer=new d(n,r,i,this.logger),this.probe=d.probe)}needsProbing(e,r){return!this.demuxer||!this.remuxer||e||r}getDecrypter(){let e=this.decrypter;return e||(e=this.decrypter=new GM(this.config)),e}}function X8e(t,e){let r=null;return t.byteLength>0&&e?.key!=null&&e.iv!==null&&e.method!=null&&(r=e),r}const sL=t=>({remuxResult:{},chunkMeta:t});function ME(t){return"then"in t&&t.then instanceof Function}class Z8e{constructor(e,r,n,i,s){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=e,this.videoCodec=r,this.initSegmentData=n,this.duration=i,this.defaultInitPts=s||null}}class J8e{constructor(e,r,n,i,s,a){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=e,this.contiguous=r,this.accurateTimeOffset=n,this.trackSwitch=i,this.timeOffset=s,this.initSegmentChange=a}}let wG=0;class oie{constructor(e,r,n,i){this.error=null,this.hls=void 0,this.id=void 0,this.instanceNo=wG++,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0,this.onWorkerMessage=u=>{const o=u.data,d=this.hls;if(!(!d||!(o!=null&&o.event)||o.instanceNo!==this.instanceNo))switch(o.event){case"init":{var f;const A=(f=this.workerContext)==null?void 0:f.objectURL;A&&self.URL.revokeObjectURL(A);break}case"transmuxComplete":{this.handleTransmuxComplete(o.data);break}case"flush":{this.onFlush(o.data);break}case"workerLog":{d.logger[o.data.logType]&&d.logger[o.data.logType](o.data.message);break}default:{o.data=o.data||{},o.data.frag=this.frag,o.data.part=this.part,o.data.id=this.id,d.trigger(o.event,o.data);break}}},this.onWorkerError=u=>{if(!this.hls)return;const o=new Error(`${u.message}  (${u.filename}:${u.lineno})`);this.hls.config.enableWorker=!1,this.hls.logger.warn(`Error in "${this.id}" Web Worker, fallback to inline`),this.hls.trigger(_e.ERROR,{type:Ai.OTHER_ERROR,details:ar.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:o})};const s=e.config;this.hls=e,this.id=r,this.useWorker=!!s.enableWorker,this.onTransmuxComplete=n,this.onFlush=i;const a=(u,o)=>{o=o||{},o.frag=this.frag||void 0,u===_e.ERROR&&(o=o,o.parent=this.id,o.part=this.part,this.error=o.error),this.hls.trigger(u,o)};this.observer=new XM,this.observer.on(_e.FRAG_DECRYPTED,a),this.observer.on(_e.ERROR,a);const c=DK(s.preferManagedMediaSource);if(this.useWorker&&typeof Worker<"u"){const u=this.hls.logger;if(s.workerPath||n8e()){try{s.workerPath?(u.log(`loading Web Worker ${s.workerPath} for "${r}"`),this.workerContext=s8e(s.workerPath)):(u.log(`injecting Web Worker for "${r}"`),this.workerContext=i8e());const{worker:d}=this.workerContext;d.addEventListener("message",this.onWorkerMessage),d.addEventListener("error",this.onWorkerError),d.postMessage({instanceNo:this.instanceNo,cmd:"init",typeSupported:c,id:r,config:Mo(s)})}catch(d){u.warn(`Error setting up "${r}" Web Worker, fallback to inline`,d),this.terminateWorker(),this.error=null,this.transmuxer=new bG(this.observer,c,s,"",r,e.logger)}return}}this.transmuxer=new bG(this.observer,c,s,"",r,e.logger)}reset(){if(this.frag=null,this.part=null,this.workerContext){const e=this.instanceNo;this.instanceNo=wG++;const r=this.hls.config,n=DK(r.preferManagedMediaSource);this.workerContext.worker.postMessage({instanceNo:this.instanceNo,cmd:"reset",resetNo:e,typeSupported:n,id:this.id,config:Mo(r)})}}terminateWorker(){if(this.workerContext){const{worker:e}=this.workerContext;this.workerContext=null,e.removeEventListener("message",this.onWorkerMessage),e.removeEventListener("error",this.onWorkerError),a8e(this.hls.config.workerPath)}}destroy(){if(this.workerContext)this.terminateWorker(),this.onWorkerMessage=this.onWorkerError=null;else{const r=this.transmuxer;r&&(r.destroy(),this.transmuxer=null)}const e=this.observer;e&&e.removeAllListeners(),this.frag=null,this.part=null,this.observer=null,this.hls=null}push(e,r,n,i,s,a,c,u,o,d){var f,A;o.transmuxing.start=self.performance.now();const{instanceNo:p,transmuxer:g}=this,y=a?a.start:s.start,v=s.decryptdata,b=this.frag,w=!(b&&s.cc===b.cc),S=!(b&&o.level===b.level),_=b?o.sn-b.sn:-1,T=this.part?o.part-this.part.index:-1,L=_===0&&o.id>1&&o.id===b?.stats.chunkCount,D=!S&&(_===1||_===0&&(T===1||L&&T<=0)),V=self.performance.now();(S||_||s.stats.parsing.start===0)&&(s.stats.parsing.start=V),a&&(T||!D)&&(a.stats.parsing.start=V);const G=!(b&&((f=s.initSegment)==null?void 0:f.url)===((A=b.initSegment)==null?void 0:A.url)),J=new J8e(w,D,u,S,y,G);if(!D||w||G){this.hls.logger.log(`[transmuxer-interface]: Starting new transmux session for ${s.type} sn: ${o.sn}${o.part>-1?" part: "+o.part:""} ${this.id===Yn.MAIN?"level":"track"}: ${o.level} id: ${o.id}
        discontinuity: ${w}
        trackSwitch: ${S}
        contiguous: ${D}
        accurateTimeOffset: ${u}
        timeOffset: ${y}
        initSegmentChange: ${G}`);const ee=new Z8e(n,i,r,c,d);this.configureTransmuxer(ee)}if(this.frag=s,this.part=a,this.workerContext)this.workerContext.worker.postMessage({instanceNo:p,cmd:"demux",data:e,decryptdata:v,chunkMeta:o,state:J},e instanceof ArrayBuffer?[e]:[]);else if(g){const ee=g.push(e,v,o,J);ME(ee)?ee.then(ue=>{this.handleTransmuxComplete(ue)}).catch(ue=>{this.transmuxerError(ue,o,"transmuxer-interface push error")}):this.handleTransmuxComplete(ee)}}flush(e){e.transmuxing.start=self.performance.now();const{instanceNo:r,transmuxer:n}=this;if(this.workerContext)this.workerContext.worker.postMessage({instanceNo:r,cmd:"flush",chunkMeta:e});else if(n){const i=n.flush(e);ME(i)?i.then(s=>{this.handleFlushResult(s,e)}).catch(s=>{this.transmuxerError(s,e,"transmuxer-interface flush error")}):this.handleFlushResult(i,e)}}transmuxerError(e,r,n){this.hls&&(this.error=e,this.hls.trigger(_e.ERROR,{type:Ai.MEDIA_ERROR,details:ar.FRAG_PARSING_ERROR,chunkMeta:r,frag:this.frag||void 0,part:this.part||void 0,fatal:!1,error:e,err:e,reason:n}))}handleFlushResult(e,r){e.forEach(n=>{this.handleTransmuxComplete(n)}),this.onFlush(r)}configureTransmuxer(e){const{instanceNo:r,transmuxer:n}=this;this.workerContext?this.workerContext.worker.postMessage({instanceNo:r,cmd:"configure",config:e}):n&&n.configure(e)}handleTransmuxComplete(e){e.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(e)}}const EG=100;class e7e extends qM{constructor(e,r,n){super(e,r,n,"audio-stream-controller",Yn.AUDIO),this.mainAnchor=null,this.mainFragLoading=null,this.audioOnly=!1,this.bufferedTrack=null,this.switchingTrack=null,this.trackId=-1,this.waitingData=null,this.mainDetails=null,this.flushing=!1,this.bufferFlushed=!1,this.cachedTrackLoadedData=null,this.registerListeners()}onHandlerDestroying(){this.unregisterListeners(),super.onHandlerDestroying(),this.resetItem()}resetItem(){this.mainDetails=this.mainAnchor=this.mainFragLoading=this.bufferedTrack=this.switchingTrack=this.waitingData=this.cachedTrackLoadedData=null}registerListeners(){super.registerListeners();const{hls:e}=this;e.on(_e.LEVEL_LOADED,this.onLevelLoaded,this),e.on(_e.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.on(_e.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(_e.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(_e.BUFFER_RESET,this.onBufferReset,this),e.on(_e.BUFFER_CREATED,this.onBufferCreated,this),e.on(_e.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(_e.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(_e.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(_e.FRAG_LOADING,this.onFragLoading,this),e.on(_e.FRAG_BUFFERED,this.onFragBuffered,this)}unregisterListeners(){const{hls:e}=this;e&&(super.unregisterListeners(),e.off(_e.LEVEL_LOADED,this.onLevelLoaded,this),e.off(_e.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.off(_e.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(_e.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(_e.BUFFER_RESET,this.onBufferReset,this),e.off(_e.BUFFER_CREATED,this.onBufferCreated,this),e.off(_e.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(_e.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(_e.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(_e.FRAG_LOADING,this.onFragLoading,this),e.off(_e.FRAG_BUFFERED,this.onFragBuffered,this))}onInitPtsFound(e,{frag:r,id:n,initPTS:i,timescale:s,trackId:a}){if(n===Yn.MAIN){const c=r.cc,u=this.fragCurrent;if(this.initPTS[c]={baseTime:i,timescale:s,trackId:a},this.log(`InitPTS for cc: ${c} found from main: ${i/s} (${i}/${s}) trackId: ${a}`),this.mainAnchor=r,this.state===kr.WAITING_INIT_PTS){const o=this.waitingData;(!o&&!this.loadingParts||o&&o.frag.cc!==c)&&this.syncWithAnchor(r,o?.frag)}else!this.hls.hasEnoughToStart&&u&&u.cc!==c?(u.abortRequests(),this.syncWithAnchor(r,u)):this.state===kr.IDLE&&this.tick()}}getLoadPosition(){return!this.startFragRequested&&this.nextLoadPosition>=0?this.nextLoadPosition:super.getLoadPosition()}syncWithAnchor(e,r){var n;const i=((n=this.mainFragLoading)==null?void 0:n.frag)||null;if(r&&i?.cc===r.cc)return;const s=(i||e).cc,a=this.getLevelDetails(),c=this.getLoadPosition(),u=Ene(a,s,c);u&&(this.log(`Syncing with main frag at ${u.start} cc ${u.cc}`),this.startFragRequested=!1,this.nextLoadPosition=u.start,this.resetLoadingState(),this.state===kr.IDLE&&this.doTickIdle())}startLoad(e,r){if(!this.levels){this.startPosition=e,this.state=kr.STOPPED;return}const n=this.lastCurrentTime;this.stopLoad(),this.setInterval(EG),n>0&&e===-1?(this.log(`Override startPosition with lastCurrentTime @${n.toFixed(3)}`),e=n,this.state=kr.IDLE):this.state=kr.WAITING_TRACK,this.nextLoadPosition=this.lastCurrentTime=e+this.timelineOffset,this.startPosition=r?-1:e,this.tick()}doTick(){switch(this.state){case kr.IDLE:this.doTickIdle();break;case kr.WAITING_TRACK:{const{levels:e,trackId:r}=this,n=e?.[r],i=n?.details;if(i&&!this.waitForLive(n)){if(this.waitForCdnTuneIn(i))break;this.state=kr.WAITING_INIT_PTS}break}case kr.FRAG_LOADING_WAITING_RETRY:{this.checkRetryDate();break}case kr.WAITING_INIT_PTS:{const e=this.waitingData;if(e){const{frag:r,part:n,cache:i,complete:s}=e,a=this.mainAnchor;if(this.initPTS[r.cc]!==void 0){this.waitingData=null,this.state=kr.FRAG_LOADING;const c=i.flush().buffer,u={frag:r,part:n,payload:c,networkDetails:null};this._handleFragmentLoadProgress(u),s&&super._handleFragmentLoadComplete(u)}else a&&a.cc!==e.frag.cc&&this.syncWithAnchor(a,e.frag)}else this.state=kr.IDLE}}this.onTickEnd()}resetLoadingState(){const e=this.waitingData;e&&(this.fragmentTracker.removeFragment(e.frag),this.waitingData=null),super.resetLoadingState()}onTickEnd(){const{media:e}=this;e!=null&&e.readyState&&(this.lastCurrentTime=e.currentTime)}doTickIdle(){var e;const{hls:r,levels:n,media:i,trackId:s}=this,a=r.config;if(!this.buffering||!i&&!this.primaryPrefetch&&(this.startFragRequested||!a.startFragPrefetch)||!(n!=null&&n[s]))return;const c=n[s],u=c.details;if(!u||this.waitForLive(c)||this.waitForCdnTuneIn(u)){this.state=kr.WAITING_TRACK,this.startFragRequested=!1;return}const o=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&o&&(this.bufferFlushed=!1,this.afterBufferFlushed(o,Ro.AUDIO,Yn.AUDIO));const d=this.getFwdBufferInfo(o,Yn.AUDIO);if(d===null)return;if(!this.switchingTrack&&this._streamEnded(d,u)){r.trigger(_e.BUFFER_EOS,{type:"audio"}),this.state=kr.ENDED;return}const f=d.len,A=r.maxBufferLength,p=u.fragments,g=p[0].start,y=this.getLoadPosition(),v=this.flushing?y:d.end;if(this.switchingTrack&&i){const S=y;u.PTSKnown&&S<g&&(d.end>g||d.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),i.currentTime=g+.05)}if(f>=A&&!this.switchingTrack&&v<p[p.length-1].start)return;let b=this.getNextFragment(v,u);if(b&&this.isLoopLoading(b,v)&&(b=this.getNextFragmentLoopLoading(b,u,d,Yn.MAIN,A)),!b){this.bufferFlushed=!0;return}let w=((e=this.mainFragLoading)==null?void 0:e.frag)||null;if(!this.audioOnly&&this.startFragRequested&&w&&bc(b)&&!b.endList&&(!u.live||!this.loadingParts&&v<this.hls.liveSyncPosition)&&(this.fragmentTracker.getState(w)===du.OK&&(this.mainFragLoading=w=null),w&&bc(w))){if(b.start>w.end){const _=this.fragmentTracker.getFragAtPos(v,Yn.MAIN);_&&_.end>w.end&&(w=_,this.mainFragLoading={frag:_,targetBufferTime:null})}if(b.start>w.end)return}this.loadFragment(b,c,v)}onMediaDetaching(e,r){this.bufferFlushed=this.flushing=!1,super.onMediaDetaching(e,r)}onAudioTracksUpdated(e,{audioTracks:r}){this.resetTransmuxer(),this.levels=r.map(n=>new OE(n))}onAudioTrackSwitching(e,r){const n=!!r.url;this.trackId=r.id;const{fragCurrent:i}=this;i&&(i.abortRequests(),this.removeUnbufferedFrags(i.start)),this.resetLoadingState(),n?(this.switchingTrack=r,this.flushAudioIfNeeded(r),this.state!==kr.STOPPED&&(this.setInterval(EG),this.state=kr.IDLE,this.tick())):(this.resetTransmuxer(),this.switchingTrack=null,this.bufferedTrack=r,this.clearInterval())}onManifestLoading(){super.onManifestLoading(),this.bufferFlushed=this.flushing=this.audioOnly=!1,this.resetItem(),this.trackId=-1}onLevelLoaded(e,r){this.mainDetails=r.details;const n=this.cachedTrackLoadedData;n&&(this.cachedTrackLoadedData=null,this.onAudioTrackLoaded(_e.AUDIO_TRACK_LOADED,n))}onAudioTrackLoaded(e,r){var n;const{levels:i}=this,{details:s,id:a,groupId:c,track:u}=r;if(!i){this.warn(`Audio tracks reset while loading track ${a} "${u.name}" of "${c}"`);return}const o=this.mainDetails;if(!o||s.endCC>o.endCC||o.expired){this.cachedTrackLoadedData=r,this.state!==kr.STOPPED&&(this.state=kr.WAITING_TRACK);return}this.cachedTrackLoadedData=null,this.log(`Audio track ${a} "${u.name}" of "${c}" loaded [${s.startSN},${s.endSN}]${s.lastPartSn?`[part-${s.lastPartSn}-${s.lastPartIndex}]`:""},duration:${s.totalduration}`);const d=i[a];let f=0;if(s.live||(n=d.details)!=null&&n.live){if(this.checkLiveUpdate(s),s.deltaUpdateFailed)return;if(d.details){var A;f=this.alignPlaylists(s,d.details,(A=this.levelLastLoaded)==null?void 0:A.details)}s.alignedSliding||($ne(s,o),s.alignedSliding||Ij(s,o),f=s.fragmentStart)}d.details=s,this.levelLastLoaded=d,this.startFragRequested||this.setStartPosition(o,f),this.hls.trigger(_e.AUDIO_TRACK_UPDATED,{details:s,id:a,groupId:r.groupId}),this.state===kr.WAITING_TRACK&&!this.waitForCdnTuneIn(s)&&(this.state=kr.IDLE),this.tick()}_handleFragmentLoadProgress(e){var r;const n=e.frag,{part:i,payload:s}=e,{config:a,trackId:c,levels:u}=this;if(!u){this.warn(`Audio tracks were reset while fragment load was in progress. Fragment ${n.sn} of level ${n.level} will not be buffered`);return}const o=u[c];if(!o){this.warn("Audio track is undefined on fragment load progress");return}const d=o.details;if(!d){this.warn("Audio track details undefined on fragment load progress"),this.removeUnbufferedFrags(n.start);return}const f=a.defaultAudioCodec||o.audioCodec||"mp4a.40.2";let A=this.transmuxer;A||(A=this.transmuxer=new oie(this.hls,Yn.AUDIO,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));const p=this.initPTS[n.cc],g=(r=n.initSegment)==null?void 0:r.data;if(p!==void 0){const v=i?i.index:-1,b=v!==-1,w=new zM(n.level,n.sn,n.stats.chunkCount,s.byteLength,v,b);A.push(s,g,f,"",n,i,d.totalduration,!1,w,p)}else{this.log(`Unknown video PTS for cc ${n.cc}, waiting for video PTS before demuxing audio frag ${n.sn} of [${d.startSN} ,${d.endSN}],track ${c}`);const{cache:y}=this.waitingData=this.waitingData||{frag:n,part:i,cache:new Hne,complete:!1};y.push(new Uint8Array(s)),this.state!==kr.STOPPED&&(this.state=kr.WAITING_INIT_PTS)}}_handleFragmentLoadComplete(e){if(this.waitingData){this.waitingData.complete=!0;return}super._handleFragmentLoadComplete(e)}onBufferReset(){this.mediaBuffer=null}onBufferCreated(e,r){this.bufferFlushed=this.flushing=!1;const n=r.tracks.audio;n&&(this.mediaBuffer=n.buffer||null)}onFragLoading(e,r){!this.audioOnly&&r.frag.type===Yn.MAIN&&bc(r.frag)&&(this.mainFragLoading=r,this.state===kr.IDLE&&this.tick())}onFragBuffered(e,r){const{frag:n,part:i}=r;if(n.type!==Yn.AUDIO){!this.audioOnly&&n.type===Yn.MAIN&&!n.elementaryStreams.video&&!n.elementaryStreams.audiovideo&&(this.audioOnly=!0,this.mainFragLoading=null);return}if(this.fragContextChanged(n)){this.warn(`Fragment ${n.sn}${i?" p: "+i.index:""} of level ${n.level} finished buffering, but was aborted. state: ${this.state}, audioSwitch: ${this.switchingTrack?this.switchingTrack.name:"false"}`);return}if(bc(n)){this.fragPrevious=n;const s=this.switchingTrack;s&&(this.bufferedTrack=s,this.switchingTrack=null,this.hls.trigger(_e.AUDIO_TRACK_SWITCHED,io({},s)))}this.fragBufferedComplete(n,i),this.media&&this.tick()}onError(e,r){var n;if(r.fatal){this.state=kr.ERROR;return}switch(r.details){case ar.FRAG_GAP:case ar.FRAG_PARSING_ERROR:case ar.FRAG_DECRYPT_ERROR:case ar.FRAG_LOAD_ERROR:case ar.FRAG_LOAD_TIMEOUT:case ar.KEY_LOAD_ERROR:case ar.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(Yn.AUDIO,r);break;case ar.AUDIO_TRACK_LOAD_ERROR:case ar.AUDIO_TRACK_LOAD_TIMEOUT:case ar.LEVEL_PARSING_ERROR:!r.levelRetry&&this.state===kr.WAITING_TRACK&&((n=r.context)==null?void 0:n.type)===zs.AUDIO_TRACK&&(this.state=kr.IDLE);break;case ar.BUFFER_ADD_CODEC_ERROR:case ar.BUFFER_APPEND_ERROR:if(r.parent!=="audio")return;this.reduceLengthAndFlushBuffer(r)||this.resetLoadingState();break;case ar.BUFFER_FULL_ERROR:if(r.parent!=="audio")return;this.reduceLengthAndFlushBuffer(r)&&(this.bufferedTrack=null,super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"));break;case ar.INTERNAL_EXCEPTION:this.recoverWorkerError(r);break}}onBufferFlushing(e,{type:r}){r!==Ro.VIDEO&&(this.flushing=!0)}onBufferFlushed(e,{type:r}){if(r!==Ro.VIDEO){this.flushing=!1,this.bufferFlushed=!0,this.state===kr.ENDED&&(this.state=kr.IDLE);const n=this.mediaBuffer||this.media;n&&(this.afterBufferFlushed(n,r,Yn.AUDIO),this.tick())}}_handleTransmuxComplete(e){var r;const n="audio",{hls:i}=this,{remuxResult:s,chunkMeta:a}=e,c=this.getCurrentContext(a);if(!c){this.resetWhenMissingContext(a);return}const{frag:u,part:o,level:d}=c,{details:f}=d,{audio:A,text:p,id3:g,initSegment:y}=s;if(this.fragContextChanged(u)||!f){this.fragmentTracker.removeFragment(u);return}if(this.state=kr.PARSING,this.switchingTrack&&A&&this.completeAudioSwitch(this.switchingTrack),y!=null&&y.tracks){const v=u.initSegment||u;if(this.unhandledEncryptionError(y,u))return;this._bufferInitSegment(d,y.tracks,v,a),i.trigger(_e.FRAG_PARSING_INIT_SEGMENT,{frag:v,id:n,tracks:y.tracks})}if(A){const{startPTS:v,endPTS:b,startDTS:w,endDTS:S}=A;o&&(o.elementaryStreams[Ro.AUDIO]={startPTS:v,endPTS:b,startDTS:w,endDTS:S}),u.setElementaryStreamInfo(Ro.AUDIO,v,b,w,S),this.bufferFragmentData(A,u,o,a)}if(g!=null&&(r=g.samples)!=null&&r.length){const v=So({id:n,frag:u,details:f},g);i.trigger(_e.FRAG_PARSING_METADATA,v)}if(p){const v=So({id:n,frag:u,details:f},p);i.trigger(_e.FRAG_PARSING_USERDATA,v)}}_bufferInitSegment(e,r,n,i){if(this.state!==kr.PARSING||(r.video&&delete r.video,r.audiovideo&&delete r.audiovideo,!r.audio))return;const s=r.audio;s.id=Yn.AUDIO;const a=e.audioCodec;this.log(`Init audio buffer, container:${s.container}, codecs[level/parsed]=[${a}/${s.codec}]`),a&&a.split(",").length===1&&(s.levelCodec=a),this.hls.trigger(_e.BUFFER_CODECS,r);const c=s.initSegment;if(c!=null&&c.byteLength){const u={type:"audio",frag:n,part:null,chunkMeta:i,parent:n.type,data:c};this.hls.trigger(_e.BUFFER_APPENDING,u)}this.tickImmediate()}loadFragment(e,r,n){const i=this.fragmentTracker.getState(e);if(this.switchingTrack||i===du.NOT_LOADED||i===du.PARTIAL){var s;if(!bc(e))this._loadInitSegment(e,r);else if((s=r.details)!=null&&s.live&&!this.initPTS[e.cc]){this.log(`Waiting for video PTS in continuity counter ${e.cc} of live stream before loading audio fragment ${e.sn} of level ${this.trackId}`),this.state=kr.WAITING_INIT_PTS;const a=this.mainDetails;a&&a.fragmentStart!==r.details.fragmentStart&&Ij(r.details,a)}else super.loadFragment(e,r,n)}else this.clearTrackerIfNeeded(e)}flushAudioIfNeeded(e){if(this.media&&this.bufferedTrack){const{name:r,lang:n,assocLang:i,characteristics:s,audioCodec:a,channels:c}=this.bufferedTrack;Uv({name:r,lang:n,assocLang:i,characteristics:s,audioCodec:a,channels:c},e,ov)||(_j(e.url,this.hls)?(this.log("Switching audio track : flushing all audio"),super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"),this.bufferedTrack=null):this.bufferedTrack=e)}}completeAudioSwitch(e){const{hls:r}=this;this.flushAudioIfNeeded(e),this.bufferedTrack=e,this.switchingTrack=null,r.trigger(_e.AUDIO_TRACK_SWITCHED,io({},e))}}class iF extends Gf{constructor(e,r){super(r,e.logger),this.hls=void 0,this.canLoad=!1,this.timer=-1,this.hls=e}destroy(){this.clearTimer(),this.hls=this.log=this.warn=null}clearTimer(){this.timer!==-1&&(self.clearTimeout(this.timer),this.timer=-1)}startLoad(){this.canLoad=!0,this.loadPlaylist()}stopLoad(){this.canLoad=!1,this.clearTimer()}switchParams(e,r,n){const i=r?.renditionReports;if(i){let s=-1;for(let a=0;a<i.length;a++){const c=i[a];let u;try{u=new self.URL(c.URI,r.url).href}catch(o){this.warn(`Could not construct new URL for Rendition Report: ${o}`),u=c.URI||""}if(u===e){s=a;break}else u===e.substring(0,u.length)&&(s=a)}if(s!==-1){const a=i[s],c=parseInt(a["LAST-MSN"])||r.lastPartSn;let u=parseInt(a["LAST-PART"])||r.lastPartIndex;if(this.hls.config.lowLatencyMode){const d=Math.min(r.age-r.partTarget,r.targetduration);u>=0&&d>r.partTarget&&(u+=1)}const o=n&&MK(n);return new FK(c,u>=0?u:void 0,o)}}}loadPlaylist(e){this.clearTimer()}loadingPlaylist(e,r){this.clearTimer()}shouldLoadPlaylist(e){return this.canLoad&&!!e&&!!e.url&&(!e.details||e.details.live)}getUrlWithDirectives(e,r){if(r)try{return r.addDirectives(e)}catch(n){this.warn(`Could not construct new URL with HLS Delivery Directives: ${n}`)}return e}playlistLoaded(e,r,n){const{details:i,stats:s}=r,a=self.performance.now(),c=s.loading.first?Math.max(0,a-s.loading.first):0;i.advancedDateTime=Date.now()-c;const u=this.hls.config.timelineOffset;if(u!==i.appliedTimelineOffset){const d=Math.max(u||0,0);i.appliedTimelineOffset=d,i.fragments.forEach(f=>{f.setStart(f.playlistOffset+d)})}if(i.live||n!=null&&n.live){const d="levelInfo"in r?r.levelInfo:r.track;if(i.reloaded(n),n&&i.fragments.length>0){G6e(n,i,this);const w=i.playlistParsingError;if(w){this.warn(w);const S=this.hls;if(!S.config.ignorePlaylistParsingErrors){var o;const{networkDetails:_}=r;S.trigger(_e.ERROR,{type:Ai.NETWORK_ERROR,details:ar.LEVEL_PARSING_ERROR,fatal:!1,url:i.url,error:w,reason:w.message,level:r.level||void 0,parent:(o=i.fragments[0])==null?void 0:o.type,networkDetails:_,stats:s});return}i.playlistParsingError=null}}i.requestScheduled===-1&&(i.requestScheduled=s.loading.start);const f=this.hls.mainForwardBufferInfo,A=f?f.end-f.len:0,p=(i.edge-A)*1e3,g=Pne(i,p);if(i.requestScheduled+g<a?i.requestScheduled=a:i.requestScheduled+=g,this.log(`live playlist ${e} ${i.advanced?"REFRESHED "+i.lastPartSn+"-"+i.lastPartIndex:i.updated?"UPDATED":"MISSED"}`),!this.canLoad||!i.live)return;let y,v,b;if(i.canBlockReload&&i.endSN&&i.advanced){const w=this.hls.config.lowLatencyMode,S=i.lastPartSn,_=i.endSN,T=i.lastPartIndex,L=T!==-1,D=S===_;L?D?(v=_+1,b=w?0:T):(v=S,b=w?T+1:i.maxPartIndex):v=_+1;const V=i.age,G=V+i.ageHeader;let J=Math.min(G-i.partTarget,i.targetduration*1.5);if(J>0){if(G>i.targetduration*3)this.log(`Playlist last advanced ${V.toFixed(2)}s ago. Omitting segment and part directives.`),v=void 0,b=void 0;else if(n!=null&&n.tuneInGoal&&G-i.partTarget>n.tuneInGoal)this.warn(`CDN Tune-in goal increased from: ${n.tuneInGoal} to: ${J} with playlist age: ${i.age}`),J=0;else{const ee=Math.floor(J/i.targetduration);if(v+=ee,b!==void 0){const ue=Math.round(J%i.targetduration/i.partTarget);b+=ue}this.log(`CDN Tune-in age: ${i.ageHeader}s last advanced ${V.toFixed(2)}s goal: ${J} skip sn ${ee} to part ${b}`)}i.tuneInGoal=J}if(y=this.getDeliveryDirectives(i,r.deliveryDirectives,v,b),w||!D){i.requestScheduled=a,this.loadingPlaylist(d,y);return}}else(i.canBlockReload||i.canSkipUntil)&&(y=this.getDeliveryDirectives(i,r.deliveryDirectives,v,b));y&&v!==void 0&&i.canBlockReload&&(i.requestScheduled=s.loading.first+Math.max(g-c*2,g/2)),this.scheduleLoading(d,y,i)}else this.clearTimer()}scheduleLoading(e,r,n){const i=n||e.details;if(!i){this.loadingPlaylist(e,r);return}const s=self.performance.now(),a=i.requestScheduled;if(s>=a){this.loadingPlaylist(e,r);return}const c=a-s;this.log(`reload live playlist ${e.name||e.bitrate+"bps"} in ${Math.round(c)} ms`),this.clearTimer(),this.timer=self.setTimeout(()=>this.loadingPlaylist(e,r),c)}getDeliveryDirectives(e,r,n,i){let s=MK(e);return r!=null&&r.skip&&e.deltaUpdateFailed&&(n=r.msn,i=r.part,s=D_.No),new FK(n,i,s)}checkRetry(e){const r=e.details,n=Tj(e),i=e.errorAction,{action:s,retryCount:a=0,retryConfig:c}=i||{},u=!!i&&!!c&&(s===Ad.RetryRequest||!i.resolved&&s===Ad.SendAlternateToPenaltyBox);if(u){var o;if(a>=c.maxNumRetry)return!1;if(n&&(o=e.context)!=null&&o.deliveryDirectives)this.warn(`Retrying playlist loading ${a+1}/${c.maxNumRetry} after "${r}" without delivery-directives`),this.loadPlaylist();else{const d=KM(c,a);this.clearTimer(),this.timer=self.setTimeout(()=>this.loadPlaylist(),d),this.warn(`Retrying playlist loading ${a+1}/${c.maxNumRetry} after "${r}" in ${d}ms`)}e.levelRetry=!0,i.resolved=!0}return u}}function lie(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(!FE(t[r].attrs,e[r].attrs))return!1;return!0}function FE(t,e,r){const n=t["STABLE-RENDITION-ID"];return n&&!r?n===e["STABLE-RENDITION-ID"]:!(r||["LANGUAGE","NAME","CHARACTERISTICS","AUTOSELECT","DEFAULT","FORCED","ASSOC-LANGUAGE"]).some(i=>t[i]!==e[i])}function VR(t,e){return e.label.toLowerCase()===t.name.toLowerCase()&&(!e.language||e.language.toLowerCase()===(t.lang||"").toLowerCase())}class t7e extends iF{constructor(e){super(e,"audio-track-controller"),this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.registerListeners()}registerListeners(){const{hls:e}=this;e.on(_e.MANIFEST_LOADING,this.onManifestLoading,this),e.on(_e.MANIFEST_PARSED,this.onManifestParsed,this),e.on(_e.LEVEL_LOADING,this.onLevelLoading,this),e.on(_e.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(_e.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(_e.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(_e.MANIFEST_LOADING,this.onManifestLoading,this),e.off(_e.MANIFEST_PARSED,this.onManifestParsed,this),e.off(_e.LEVEL_LOADING,this.onLevelLoading,this),e.off(_e.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(_e.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(_e.ERROR,this.onError,this)}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,super.destroy()}onManifestLoading(){this.tracks=[],this.tracksInGroup=[],this.groupIds=null,this.currentTrack=null,this.trackId=-1,this.selectDefaultTrack=!0}onManifestParsed(e,r){this.tracks=r.audioTracks||[]}onAudioTrackLoaded(e,r){const{id:n,groupId:i,details:s}=r,a=this.tracksInGroup[n];if(!a||a.groupId!==i){this.warn(`Audio track with id:${n} and group:${i} not found in active group ${a?.groupId}`);return}const c=a.details;a.details=r.details,this.log(`Audio track ${n} "${a.name}" lang:${a.lang} group:${i} loaded [${s.startSN}-${s.endSN}]`),n===this.trackId&&this.playlistLoaded(n,r,c)}onLevelLoading(e,r){this.switchLevel(r.level)}onLevelSwitching(e,r){this.switchLevel(r.level)}switchLevel(e){const r=this.hls.levels[e];if(!r)return;const n=r.audioGroups||null,i=this.groupIds;let s=this.currentTrack;if(!n||i?.length!==n?.length||n!=null&&n.some(c=>i?.indexOf(c)===-1)){this.groupIds=n,this.trackId=-1,this.currentTrack=null;const c=this.tracks.filter(A=>!n||n.indexOf(A.groupId)!==-1);if(c.length)this.selectDefaultTrack&&!c.some(A=>A.default)&&(this.selectDefaultTrack=!1),c.forEach((A,p)=>{A.id=p});else if(!s&&!this.tracksInGroup.length)return;this.tracksInGroup=c;const u=this.hls.config.audioPreference;if(!s&&u){const A=Sm(u,c,ov);if(A>-1)s=c[A];else{const p=Sm(u,this.tracks);s=this.tracks[p]}}let o=this.findTrackId(s);o===-1&&s&&(o=this.findTrackId(null));const d={audioTracks:c};this.log(`Updating audio tracks, ${c.length} track(s) found in group(s): ${n?.join(",")}`),this.hls.trigger(_e.AUDIO_TRACKS_UPDATED,d);const f=this.trackId;if(o!==-1&&f===-1)this.setAudioTrack(o);else if(c.length&&f===-1){var a;const A=new Error(`No audio track selected for current audio group-ID(s): ${(a=this.groupIds)==null?void 0:a.join(",")} track count: ${c.length}`);this.warn(A.message),this.hls.trigger(_e.ERROR,{type:Ai.MEDIA_ERROR,details:ar.AUDIO_TRACK_LOAD_ERROR,fatal:!0,error:A})}}}onError(e,r){r.fatal||!r.context||r.context.type===zs.AUDIO_TRACK&&r.context.id===this.trackId&&(!this.groupIds||this.groupIds.indexOf(r.context.groupId)!==-1)&&this.checkRetry(r)}get allAudioTracks(){return this.tracks}get audioTracks(){return this.tracksInGroup}get audioTrack(){return this.trackId}set audioTrack(e){this.selectDefaultTrack=!1,this.setAudioTrack(e)}setAudioOption(e){const r=this.hls;if(r.config.audioPreference=e,e){const n=this.allAudioTracks;if(this.selectDefaultTrack=!1,n.length){const i=this.currentTrack;if(i&&Uv(e,i,ov))return i;const s=Sm(e,this.tracksInGroup,ov);if(s>-1){const a=this.tracksInGroup[s];return this.setAudioTrack(s),a}else if(i){let a=r.loadLevel;a===-1&&(a=r.firstAutoLevel);const c=f6e(e,r.levels,n,a,ov);if(c===-1)return null;r.nextLoadLevel=c}if(e.channels||e.audioCodec){const a=Sm(e,n);if(a>-1)return n[a]}}}return null}setAudioTrack(e){const r=this.tracksInGroup;if(e<0||e>=r.length){this.warn(`Invalid audio track id: ${e}`);return}this.selectDefaultTrack=!1;const n=this.currentTrack,i=r[e],s=i.details&&!i.details.live;if(e===this.trackId&&i===n&&s||(this.log(`Switching to audio-track ${e} "${i.name}" lang:${i.lang} group:${i.groupId} channels:${i.channels}`),this.trackId=e,this.currentTrack=i,this.hls.trigger(_e.AUDIO_TRACK_SWITCHING,io({},i)),s))return;const a=this.switchParams(i.url,n?.details,i.details);this.loadPlaylist(a)}findTrackId(e){const r=this.tracksInGroup;for(let n=0;n<r.length;n++){const i=r[n];if(!(this.selectDefaultTrack&&!i.default)&&(!e||Uv(e,i,ov)))return n}if(e){const{name:n,lang:i,assocLang:s,characteristics:a,audioCodec:c,channels:u}=e;for(let o=0;o<r.length;o++){const d=r[o];if(Uv({name:n,lang:i,assocLang:s,characteristics:a,audioCodec:c,channels:u},d,ov))return o}for(let o=0;o<r.length;o++){const d=r[o];if(FE(e.attrs,d.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return o}for(let o=0;o<r.length;o++){const d=r[o];if(FE(e.attrs,d.attrs,["LANGUAGE"]))return o}}return-1}loadPlaylist(e){super.loadPlaylist();const r=this.currentTrack;this.shouldLoadPlaylist(r)&&_j(r.url,this.hls)&&this.scheduleLoading(r,e)}loadingPlaylist(e,r){super.loadingPlaylist(e,r);const n=e.id,i=e.groupId,s=this.getUrlWithDirectives(e.url,r),a=e.details,c=a?.age;this.log(`Loading audio-track ${n} "${e.name}" lang:${e.lang} group:${i}${r?.msn!==void 0?" at sn "+r.msn+" part "+r.part:""}${c&&a.live?" age "+c.toFixed(1)+(a.type&&" "+a.type||""):""} ${s}`),this.hls.trigger(_e.AUDIO_TRACK_LOADING,{url:s,id:n,groupId:i,deliveryDirectives:r||null,track:e})}}class r7e{constructor(e){this.tracks=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.tracks=e}destroy(){this.tracks=this.queues=null}append(e,r,n){if(this.queues===null||this.tracks===null)return;const i=this.queues[r];i.push(e),i.length===1&&!n&&this.executeNext(r)}appendBlocker(e){return new Promise(r=>{const n={label:"async-blocker",execute:r,onStart:()=>{},onComplete:()=>{},onError:()=>{}};this.append(n,e)})}prependBlocker(e){return new Promise(r=>{if(this.queues){const n={label:"async-blocker-prepend",execute:r,onStart:()=>{},onComplete:()=>{},onError:()=>{}};this.queues[e].unshift(n)}})}removeBlockers(){this.queues!==null&&[this.queues.video,this.queues.audio,this.queues.audiovideo].forEach(e=>{var r;const n=(r=e[0])==null?void 0:r.label;(n==="async-blocker"||n==="async-blocker-prepend")&&(e[0].execute(),e.splice(0,1))})}unblockAudio(e){if(this.queues===null)return;this.queues.audio[0]===e&&this.shiftAndExecuteNext("audio")}executeNext(e){if(this.queues===null||this.tracks===null)return;const r=this.queues[e];if(r.length){const i=r[0];try{i.execute()}catch(s){var n;if(i.onError(s),this.queues===null||this.tracks===null)return;const a=(n=this.tracks[e])==null?void 0:n.buffer;a!=null&&a.updating||this.shiftAndExecuteNext(e)}}}shiftAndExecuteNext(e){this.queues!==null&&(this.queues[e].shift(),this.executeNext(e))}current(e){var r;return((r=this.queues)==null?void 0:r[e][0])||null}toString(){const{queues:e,tracks:r}=this;return e===null||r===null?"<destroyed>":`
${this.list("video")}
${this.list("audio")}
${this.list("audiovideo")}}`}list(e){var r,n;return(r=this.queues)!=null&&r[e]||(n=this.tracks)!=null&&n[e]?`${e}: (${this.listSbInfo(e)}) ${this.listOps(e)}`:""}listSbInfo(e){var r;const n=(r=this.tracks)==null?void 0:r[e],i=n?.buffer;return i?`SourceBuffer${i.updating?" updating":""}${n.ended?" ended":""}${n.ending?" ending":""}`:"none"}listOps(e){var r;return((r=this.queues)==null?void 0:r[e].map(n=>n.label).join(", "))||""}}const SG=/(avc[1234]|hvc1|hev1|dvh[1e]|vp09|av01)(?:\.[^.,]+)+/,cie="HlsJsTrackRemovedError";class n7e extends Error{constructor(e){super(e),this.name=cie}}class i7e extends Gf{constructor(e,r){super("buffer-controller",e.logger),this.hls=void 0,this.fragmentTracker=void 0,this.details=null,this._objectUrl=null,this.operationQueue=null,this.bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.blockedAudioAppend=null,this.lastVideoAppendEnd=0,this.appendSource=void 0,this.transferData=void 0,this.overrides=void 0,this.appendErrors={audio:0,video:0,audiovideo:0},this.tracks={},this.sourceBuffers=[[null,null],[null,null]],this._onEndStreaming=n=>{var i;this.hls&&((i=this.mediaSource)==null?void 0:i.readyState)==="open"&&this.hls.pauseBuffering()},this._onStartStreaming=n=>{this.hls&&this.hls.resumeBuffering()},this._onMediaSourceOpen=n=>{const{media:i,mediaSource:s}=this;n&&this.log("Media source opened"),!(!i||!s)&&(s.removeEventListener("sourceopen",this._onMediaSourceOpen),i.removeEventListener("emptied",this._onMediaEmptied),this.updateDuration(),this.hls.trigger(_e.MEDIA_ATTACHED,{media:i,mediaSource:s}),this.mediaSource!==null&&this.checkPendingTracks())},this._onMediaSourceClose=()=>{this.log("Media source closed")},this._onMediaSourceEnded=()=>{this.log("Media source ended")},this._onMediaEmptied=()=>{const{mediaSrc:n,_objectUrl:i}=this;n!==i&&this.error(`Media element src was set while attaching MediaSource (${i} > ${n})`)},this.hls=e,this.fragmentTracker=r,this.appendSource=TUe(w0(e.config.preferManagedMediaSource)),this.initTracks(),this.registerListeners()}hasSourceTypes(){return Object.keys(this.tracks).length>0}destroy(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=this.blockedAudioAppend=null,this.transferData=this.overrides=void 0,this.operationQueue&&(this.operationQueue.destroy(),this.operationQueue=null),this.hls=this.fragmentTracker=null,this._onMediaSourceOpen=this._onMediaSourceClose=null,this._onMediaSourceEnded=null,this._onStartStreaming=this._onEndStreaming=null}registerListeners(){const{hls:e}=this;e.on(_e.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(_e.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(_e.MANIFEST_LOADING,this.onManifestLoading,this),e.on(_e.MANIFEST_PARSED,this.onManifestParsed,this),e.on(_e.BUFFER_RESET,this.onBufferReset,this),e.on(_e.BUFFER_APPENDING,this.onBufferAppending,this),e.on(_e.BUFFER_CODECS,this.onBufferCodecs,this),e.on(_e.BUFFER_EOS,this.onBufferEos,this),e.on(_e.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(_e.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(_e.FRAG_PARSED,this.onFragParsed,this),e.on(_e.FRAG_CHANGED,this.onFragChanged,this),e.on(_e.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(_e.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(_e.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(_e.MANIFEST_LOADING,this.onManifestLoading,this),e.off(_e.MANIFEST_PARSED,this.onManifestParsed,this),e.off(_e.BUFFER_RESET,this.onBufferReset,this),e.off(_e.BUFFER_APPENDING,this.onBufferAppending,this),e.off(_e.BUFFER_CODECS,this.onBufferCodecs,this),e.off(_e.BUFFER_EOS,this.onBufferEos,this),e.off(_e.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(_e.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(_e.FRAG_PARSED,this.onFragParsed,this),e.off(_e.FRAG_CHANGED,this.onFragChanged,this),e.off(_e.ERROR,this.onError,this)}transferMedia(){const{media:e,mediaSource:r}=this;if(!e)return null;const n={};if(this.operationQueue){const s=this.isUpdating();s||this.operationQueue.removeBlockers();const a=this.isQueued();(s||a)&&this.warn(`Transfering MediaSource with${a?" operations in queue":""}${s?" updating SourceBuffer(s)":""} ${this.operationQueue}`),this.operationQueue.destroy()}const i=this.transferData;return!this.sourceBufferCount&&i&&i.mediaSource===r?So(n,i.tracks):this.sourceBuffers.forEach(s=>{const[a]=s;a&&(n[a]=So({},this.tracks[a]),this.removeBuffer(a)),s[0]=s[1]=null}),{media:e,mediaSource:r,tracks:n}}initTracks(){const e={};this.sourceBuffers=[[null,null],[null,null]],this.tracks=e,this.resetQueue(),this.resetAppendErrors(),this.lastMpegAudioChunk=this.blockedAudioAppend=null,this.lastVideoAppendEnd=0}onManifestLoading(){this.bufferCodecEventsTotal=0,this.details=null}onManifestParsed(e,r){var n;let i=2;(r.audio&&!r.video||!r.altAudio)&&(i=1),this.bufferCodecEventsTotal=i,this.log(`${i} bufferCodec event(s) expected.`),(n=this.transferData)!=null&&n.mediaSource&&this.sourceBufferCount&&i&&this.bufferCreated()}onMediaAttaching(e,r){const n=this.media=r.media;this.transferData=this.overrides=void 0;const i=w0(this.appendSource);if(i){const s=!!r.mediaSource;(s||r.overrides)&&(this.transferData=r,this.overrides=r.overrides);const a=this.mediaSource=r.mediaSource||new i;if(this.assignMediaSource(a),s)this._objectUrl=n.src,this.attachTransferred();else{const c=this._objectUrl=self.URL.createObjectURL(a);if(this.appendSource)try{n.removeAttribute("src");const u=self.ManagedMediaSource;n.disableRemotePlayback=n.disableRemotePlayback||u&&a instanceof u,_G(n),s7e(n,c),n.load()}catch{n.src=c}else n.src=c}n.addEventListener("emptied",this._onMediaEmptied)}}assignMediaSource(e){var r,n;this.log(`${((r=this.transferData)==null?void 0:r.mediaSource)===e?"transferred":"created"} media source: ${(n=e.constructor)==null?void 0:n.name}`),e.addEventListener("sourceopen",this._onMediaSourceOpen),e.addEventListener("sourceended",this._onMediaSourceEnded),e.addEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(e.addEventListener("startstreaming",this._onStartStreaming),e.addEventListener("endstreaming",this._onEndStreaming))}attachTransferred(){const e=this.media,r=this.transferData;if(!r||!e)return;const n=this.tracks,i=r.tracks,s=i?Object.keys(i):null,a=s?s.length:0,c=()=>{Promise.resolve().then(()=>{this.media&&this.mediaSourceOpenOrEnded&&this._onMediaSourceOpen()})};if(i&&s&&a){if(!this.tracksReady){this.hls.config.startFragPrefetch=!0,this.log("attachTransferred: waiting for SourceBuffer track info");return}if(this.log(`attachTransferred: (bufferCodecEventsTotal ${this.bufferCodecEventsTotal})
required tracks: ${Mo(n,(u,o)=>u==="initSegment"?void 0:o)};
transfer tracks: ${Mo(i,(u,o)=>u==="initSegment"?void 0:o)}}`),!sne(i,n)){r.mediaSource=null,r.tracks=void 0;const u=e.currentTime,o=this.details,d=Math.max(u,o?.fragments[0].start||0);if(d-u>1){this.log(`attachTransferred: waiting for playback to reach new tracks start time ${u} -> ${d}`);return}this.warn(`attachTransferred: resetting MediaSource for incompatible tracks ("${Object.keys(i)}"->"${Object.keys(n)}") start time: ${d} currentTime: ${u}`),this.onMediaDetaching(_e.MEDIA_DETACHING,{}),this.onMediaAttaching(_e.MEDIA_ATTACHING,r),e.currentTime=d;return}this.transferData=void 0,s.forEach(u=>{const o=u,d=i[o];if(d){const f=d.buffer;if(f){const A=this.fragmentTracker,p=d.id;if(A.hasFragments(p)||A.hasParts(p)){const v=hs.getBuffered(f);A.detectEvictedFragments(o,v,p,null,!0)}const g=aL(o),y=[o,f];this.sourceBuffers[g]=y,f.updating&&this.operationQueue&&this.operationQueue.prependBlocker(o),this.trackSourceBuffer(o,d)}}}),c(),this.bufferCreated()}else this.log("attachTransferred: MediaSource w/o SourceBuffers"),c()}get mediaSourceOpenOrEnded(){var e;const r=(e=this.mediaSource)==null?void 0:e.readyState;return r==="open"||r==="ended"}onMediaDetaching(e,r){const n=!!r.transferMedia;this.transferData=this.overrides=void 0;const{media:i,mediaSource:s,_objectUrl:a}=this;if(s){if(this.log(`media source ${n?"transferring":"detaching"}`),n)this.sourceBuffers.forEach(([c])=>{c&&this.removeBuffer(c)}),this.resetQueue();else{if(this.mediaSourceOpenOrEnded){const c=s.readyState==="open";try{const u=s.sourceBuffers;for(let o=u.length;o--;)c&&u[o].abort(),s.removeSourceBuffer(u[o]);c&&s.endOfStream()}catch(u){this.warn(`onMediaDetaching: ${u.message} while calling endOfStream`)}}this.sourceBufferCount&&this.onBufferReset()}s.removeEventListener("sourceopen",this._onMediaSourceOpen),s.removeEventListener("sourceended",this._onMediaSourceEnded),s.removeEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(s.removeEventListener("startstreaming",this._onStartStreaming),s.removeEventListener("endstreaming",this._onEndStreaming)),this.mediaSource=null,this._objectUrl=null}i&&(i.removeEventListener("emptied",this._onMediaEmptied),n||(a&&self.URL.revokeObjectURL(a),this.mediaSrc===a?(i.removeAttribute("src"),this.appendSource&&_G(i),i.load()):this.warn("media|source.src was changed by a third party - skip cleanup")),this.media=null),this.hls.trigger(_e.MEDIA_DETACHED,r)}onBufferReset(){this.sourceBuffers.forEach(([e])=>{e&&this.resetBuffer(e)}),this.initTracks()}resetBuffer(e){var r;const n=(r=this.tracks[e])==null?void 0:r.buffer;if(this.removeBuffer(e),n)try{var i;(i=this.mediaSource)!=null&&i.sourceBuffers.length&&this.mediaSource.removeSourceBuffer(n)}catch(s){this.warn(`onBufferReset ${e}`,s)}delete this.tracks[e]}removeBuffer(e){this.removeBufferListeners(e),this.sourceBuffers[aL(e)]=[null,null];const r=this.tracks[e];r&&(r.buffer=void 0)}resetQueue(){this.operationQueue&&this.operationQueue.destroy(),this.operationQueue=new r7e(this.tracks)}onBufferCodecs(e,r){var n;const i=this.tracks,s=Object.keys(r);this.log(`BUFFER_CODECS: "${s}" (current SB count ${this.sourceBufferCount})`);const a="audiovideo"in r&&(i.audio||i.video)||i.audiovideo&&("audio"in r||"video"in r),c=!a&&this.sourceBufferCount&&this.media&&s.some(u=>!i[u]);if(a||c){this.warn(`Unsupported transition between "${Object.keys(i)}" and "${s}" SourceBuffers`);return}s.forEach(u=>{var o,d;const f=r[u],{id:A,codec:p,levelCodec:g,container:y,metadata:v,supplemental:b}=f;let w=i[u];const S=(o=this.transferData)==null||(o=o.tracks)==null?void 0:o[u],_=S!=null&&S.buffer?S:w,T=_?.pendingCodec||_?.codec,L=_?.levelCodec;w||(w=i[u]={buffer:void 0,listeners:[],codec:p,supplemental:b,container:y,levelCodec:g,metadata:v,id:A});const D=P_(T,L),V=D?.replace(SG,"$1");let G=P_(p,g);const J=(d=G)==null?void 0:d.replace(SG,"$1");G&&D&&V!==J&&(u.slice(0,5)==="audio"&&(G=Ej(G,this.appendSource)),this.log(`switching codec ${T} to ${G}`),G!==(w.pendingCodec||w.codec)&&(w.pendingCodec=G),w.container=y,this.appendChangeType(u,y,G))}),(this.tracksReady||this.sourceBufferCount)&&(r.tracks=this.sourceBufferTracks),!this.sourceBufferCount&&(this.bufferCodecEventsTotal>1&&!this.tracks.video&&!r.video&&((n=r.audio)==null?void 0:n.id)==="main"&&(this.log("Main audio-only"),this.bufferCodecEventsTotal=1),this.mediaSourceOpenOrEnded&&this.checkPendingTracks())}get sourceBufferTracks(){return Object.keys(this.tracks).reduce((e,r)=>{const n=this.tracks[r];return e[r]={id:n.id,container:n.container,codec:n.codec,levelCodec:n.levelCodec},e},{})}appendChangeType(e,r,n){const i=`${r};codecs=${n}`,s={label:`change-type=${i}`,execute:()=>{const a=this.tracks[e];if(a){const c=a.buffer;c!=null&&c.changeType&&(this.log(`changing ${e} sourceBuffer type to ${i}`),c.changeType(i),a.codec=n,a.container=r)}this.shiftAndExecuteNext(e)},onStart:()=>{},onComplete:()=>{},onError:a=>{this.warn(`Failed to change ${e} SourceBuffer type`,a)}};this.append(s,e,this.isPending(this.tracks[e]))}blockAudio(e){var r;const n=e.start,i=n+e.duration*.05;if(((r=this.fragmentTracker.getAppendedFrag(n,Yn.MAIN))==null?void 0:r.gap)===!0)return;const a={label:"block-audio",execute:()=>{var c;const u=this.tracks.video;(this.lastVideoAppendEnd>i||u!=null&&u.buffer&&hs.isBuffered(u.buffer,i)||((c=this.fragmentTracker.getAppendedFrag(i,Yn.MAIN))==null?void 0:c.gap)===!0)&&(this.blockedAudioAppend=null,this.shiftAndExecuteNext("audio"))},onStart:()=>{},onComplete:()=>{},onError:c=>{this.warn("Error executing block-audio operation",c)}};this.blockedAudioAppend={op:a,frag:e},this.append(a,"audio",!0)}unblockAudio(){const{blockedAudioAppend:e,operationQueue:r}=this;e&&r&&(this.blockedAudioAppend=null,r.unblockAudio(e.op))}onBufferAppending(e,r){const{tracks:n}=this,{data:i,type:s,parent:a,frag:c,part:u,chunkMeta:o,offset:d}=r,f=o.buffering[s],{sn:A,cc:p}=c,g=self.performance.now();f.start=g;const y=c.stats.buffering,v=u?u.stats.buffering:null;y.start===0&&(y.start=g),v&&v.start===0&&(v.start=g);const b=n.audio;let w=!1;s==="audio"&&b?.container==="audio/mpeg"&&(w=!this.lastMpegAudioChunk||o.id===1||this.lastMpegAudioChunk.sn!==o.sn,this.lastMpegAudioChunk=o);const S=n.video,_=S?.buffer;if(_&&A!=="initSegment"){const D=u||c,V=this.blockedAudioAppend;if(s==="audio"&&a!=="main"&&!this.blockedAudioAppend&&!(S.ending||S.ended)){const J=D.start+D.duration*.05,ee=_.buffered,ue=this.currentOp("video");!ee.length&&!ue?this.blockAudio(D):!ue&&!hs.isBuffered(_,J)&&this.lastVideoAppendEnd<J&&this.blockAudio(D)}else if(s==="video"){const G=D.end;if(V){const J=V.frag.start;(G>J||G<this.lastVideoAppendEnd||hs.isBuffered(_,J))&&this.unblockAudio()}this.lastVideoAppendEnd=G}}const T=(u||c).start,L={label:`append-${s}`,execute:()=>{var D;f.executeStart=self.performance.now();const V=(D=this.tracks[s])==null?void 0:D.buffer;V&&(w?this.updateTimestampOffset(V,T,.1,s,A,p):d!==void 0&&kn(d)&&this.updateTimestampOffset(V,d,1e-6,s,A,p)),this.appendExecutor(i,s)},onStart:()=>{},onComplete:()=>{const D=self.performance.now();f.executeEnd=f.end=D,y.first===0&&(y.first=D),v&&v.first===0&&(v.first=D);const V={};this.sourceBuffers.forEach(([G,J])=>{G&&(V[G]=hs.getBuffered(J))}),this.appendErrors[s]=0,s==="audio"||s==="video"?this.appendErrors.audiovideo=0:(this.appendErrors.audio=0,this.appendErrors.video=0),this.hls.trigger(_e.BUFFER_APPENDED,{type:s,frag:c,part:u,chunkMeta:o,parent:c.type,timeRanges:V})},onError:D=>{var V;const G={type:Ai.MEDIA_ERROR,parent:c.type,details:ar.BUFFER_APPEND_ERROR,sourceBufferName:s,frag:c,part:u,chunkMeta:o,error:D,err:D,fatal:!1},J=(V=this.media)==null?void 0:V.error;if(D.code===DOMException.QUOTA_EXCEEDED_ERR||D.name=="QuotaExceededError"||"quota"in D)G.details=ar.BUFFER_FULL_ERROR;else if(D.code===DOMException.INVALID_STATE_ERR&&this.mediaSourceOpenOrEnded&&!J)G.errorAction=rb(!0);else if(D.name===cie&&this.sourceBufferCount===0)G.errorAction=rb(!0);else{const ee=++this.appendErrors[s];this.warn(`Failed ${ee}/${this.hls.config.appendErrorMaxRetry} times to append segment in "${s}" sourceBuffer (${J||"no media error"})`),(ee>=this.hls.config.appendErrorMaxRetry||J)&&(G.fatal=!0)}this.hls.trigger(_e.ERROR,G)}};this.log(`queuing "${s}" append sn: ${A}${u?" p: "+u.index:""} of ${c.type===Yn.MAIN?"level":"track"} ${c.level} cc: ${p}`),this.append(L,s,this.isPending(this.tracks[s]))}getFlushOp(e,r,n){return this.log(`queuing "${e}" remove ${r}-${n}`),{label:"remove",execute:()=>{this.removeExecutor(e,r,n)},onStart:()=>{},onComplete:()=>{this.hls.trigger(_e.BUFFER_FLUSHED,{type:e})},onError:i=>{this.warn(`Failed to remove ${r}-${n} from "${e}" SourceBuffer`,i)}}}onBufferFlushing(e,r){const{type:n,startOffset:i,endOffset:s}=r;n?this.append(this.getFlushOp(n,i,s),n):this.sourceBuffers.forEach(([a])=>{a&&this.append(this.getFlushOp(a,i,s),a)})}onFragParsed(e,r){const{frag:n,part:i}=r,s=[],a=i?i.elementaryStreams:n.elementaryStreams;a[Ro.AUDIOVIDEO]?s.push("audiovideo"):(a[Ro.AUDIO]&&s.push("audio"),a[Ro.VIDEO]&&s.push("video"));const c=()=>{const u=self.performance.now();n.stats.buffering.end=u,i&&(i.stats.buffering.end=u);const o=i?i.stats:n.stats;this.hls.trigger(_e.FRAG_BUFFERED,{frag:n,part:i,stats:o,id:n.type})};s.length===0&&this.warn(`Fragments must have at least one ElementaryStreamType set. type: ${n.type} level: ${n.level} sn: ${n.sn}`),this.blockBuffers(c,s).catch(u=>{this.warn(`Fragment buffered callback ${u}`),this.stepOperationQueue(this.sourceBufferTypes)})}onFragChanged(e,r){this.trimBuffers()}get bufferedToEnd(){return this.sourceBufferCount>0&&!this.sourceBuffers.some(([e])=>{if(e){const r=this.tracks[e];if(r)return!r.ended||r.ending}return!1})}onBufferEos(e,r){var n;this.sourceBuffers.forEach(([a])=>{if(a){const c=this.tracks[a];(!r.type||r.type===a)&&(c.ending=!0,c.ended||(c.ended=!0,this.log(`${a} buffer reached EOS`)))}});const i=((n=this.overrides)==null?void 0:n.endOfStream)!==!1;this.sourceBufferCount>0&&!this.sourceBuffers.some(([a])=>{var c;return a&&!((c=this.tracks[a])!=null&&c.ended)})?i?(this.log("Queueing EOS"),this.blockUntilOpen(()=>{this.tracksEnded();const{mediaSource:a}=this;if(!a||a.readyState!=="open"){a&&this.log(`Could not call mediaSource.endOfStream(). mediaSource.readyState: ${a.readyState}`);return}this.log("Calling mediaSource.endOfStream()"),a.endOfStream(),this.hls.trigger(_e.BUFFERED_TO_END,void 0)})):(this.tracksEnded(),this.hls.trigger(_e.BUFFERED_TO_END,void 0)):r.type==="video"&&this.unblockAudio()}tracksEnded(){this.sourceBuffers.forEach(([e])=>{if(e!==null){const r=this.tracks[e];r&&(r.ending=!1)}})}onLevelUpdated(e,{details:r}){r.fragments.length&&(this.details=r,this.updateDuration())}updateDuration(){this.blockUntilOpen(()=>{const e=this.getDurationAndRange();e&&this.updateMediaSource(e)})}onError(e,r){if(r.details===ar.BUFFER_APPEND_ERROR&&r.frag){var n;const i=(n=r.errorAction)==null?void 0:n.nextAutoLevel;kn(i)&&i!==r.frag.level&&this.resetAppendErrors()}}resetAppendErrors(){this.appendErrors={audio:0,video:0,audiovideo:0}}trimBuffers(){const{hls:e,details:r,media:n}=this;if(!n||r===null||!this.sourceBufferCount)return;const i=e.config,s=n.currentTime,a=r.levelTargetDuration,c=r.live&&i.liveBackBufferLength!==null?i.liveBackBufferLength:i.backBufferLength;if(kn(c)&&c>=0){const o=Math.max(c,a),d=Math.floor(s/a)*a-o;this.flushBackBuffer(s,a,d)}const u=i.frontBufferFlushThreshold;if(kn(u)&&u>0){const o=Math.max(i.maxBufferLength,u),d=Math.max(o,a),f=Math.floor(s/a)*a+d;this.flushFrontBuffer(s,a,f)}}flushBackBuffer(e,r,n){this.sourceBuffers.forEach(([i,s])=>{if(s){const c=hs.getBuffered(s);if(c.length>0&&n>c.start(0)){var a;this.hls.trigger(_e.BACK_BUFFER_REACHED,{bufferEnd:n});const u=this.tracks[i];if((a=this.details)!=null&&a.live)this.hls.trigger(_e.LIVE_BACK_BUFFER_REACHED,{bufferEnd:n});else if(u!=null&&u.ended){this.log(`Cannot flush ${i} back buffer while SourceBuffer is in ended state`);return}this.hls.trigger(_e.BUFFER_FLUSHING,{startOffset:0,endOffset:n,type:i})}}})}flushFrontBuffer(e,r,n){this.sourceBuffers.forEach(([i,s])=>{if(s){const a=hs.getBuffered(s),c=a.length;if(c<2)return;const u=a.start(c-1),o=a.end(c-1);if(n>u||e>=u&&e<=o)return;this.hls.trigger(_e.BUFFER_FLUSHING,{startOffset:u,endOffset:1/0,type:i})}})}getDurationAndRange(){var e;const{details:r,mediaSource:n}=this;if(!r||!this.media||n?.readyState!=="open")return null;const i=r.edge;if(r.live&&this.hls.config.liveDurationInfinity){if(r.fragments.length&&n.setLiveSeekableRange){const o=Math.max(0,r.fragmentStart),d=Math.max(o,i);return{duration:1/0,start:o,end:d}}return{duration:1/0}}const s=(e=this.overrides)==null?void 0:e.duration;if(s)return kn(s)?{duration:s}:null;const a=this.media.duration,c=kn(n.duration)?n.duration:0;return i>c&&i>a||!kn(a)?{duration:i}:null}updateMediaSource({duration:e,start:r,end:n}){const i=this.mediaSource;!this.media||!i||i.readyState!=="open"||(i.duration!==e&&(kn(e)&&this.log(`Updating MediaSource duration to ${e.toFixed(3)}`),i.duration=e),r!==void 0&&n!==void 0&&(this.log(`MediaSource duration is set to ${i.duration}. Setting seekable range to ${r}-${n}.`),i.setLiveSeekableRange(r,n)))}get tracksReady(){const e=this.pendingTrackCount;return e>0&&(e>=this.bufferCodecEventsTotal||this.isPending(this.tracks.audiovideo))}checkPendingTracks(){const{bufferCodecEventsTotal:e,pendingTrackCount:r,tracks:n}=this;if(this.log(`checkPendingTracks (pending: ${r} codec events expected: ${e}) ${Mo(n)}`),this.tracksReady){var i;const s=(i=this.transferData)==null?void 0:i.tracks;s&&Object.keys(s).length?this.attachTransferred():this.createSourceBuffers()}}bufferCreated(){if(this.sourceBufferCount){const e={};this.sourceBuffers.forEach(([r,n])=>{if(r){const i=this.tracks[r];e[r]={buffer:n,container:i.container,codec:i.codec,supplemental:i.supplemental,levelCodec:i.levelCodec,id:i.id,metadata:i.metadata}}}),this.hls.trigger(_e.BUFFER_CREATED,{tracks:e}),this.log(`SourceBuffers created. Running queue: ${this.operationQueue}`),this.sourceBuffers.forEach(([r])=>{this.executeNext(r)})}else{const e=new Error("could not create source buffer for media codec(s)");this.hls.trigger(_e.ERROR,{type:Ai.MEDIA_ERROR,details:ar.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:e,reason:e.message})}}createSourceBuffers(){const{tracks:e,sourceBuffers:r,mediaSource:n}=this;if(!n)throw new Error("createSourceBuffers called when mediaSource was null");for(const s in e){const a=s,c=e[a];if(this.isPending(c)){const u=this.getTrackCodec(c,a),o=`${c.container};codecs=${u}`;c.codec=u,this.log(`creating sourceBuffer(${o})${this.currentOp(a)?" Queued":""} ${Mo(c)}`);try{const d=n.addSourceBuffer(o),f=aL(a),A=[a,d];r[f]=A,c.buffer=d}catch(d){var i;this.error(`error while trying to add sourceBuffer: ${d.message}`),this.shiftAndExecuteNext(a),(i=this.operationQueue)==null||i.removeBlockers(),delete this.tracks[a],this.hls.trigger(_e.ERROR,{type:Ai.MEDIA_ERROR,details:ar.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:d,sourceBufferName:a,mimeType:o,parent:c.id});return}this.trackSourceBuffer(a,c)}}this.bufferCreated()}getTrackCodec(e,r){const n=e.supplemental;let i=e.codec;n&&(r==="video"||r==="audiovideo")&&LE(n,"video")&&(i=WUe(i,n));const s=P_(i,e.levelCodec);return s?r.slice(0,5)==="audio"?Ej(s,this.appendSource):s:""}trackSourceBuffer(e,r){const n=r.buffer;if(!n)return;const i=this.getTrackCodec(r,e);this.tracks[e]={buffer:n,codec:i,container:r.container,levelCodec:r.levelCodec,supplemental:r.supplemental,metadata:r.metadata,id:r.id,listeners:[]},this.removeBufferListeners(e),this.addBufferListener(e,"updatestart",this.onSBUpdateStart),this.addBufferListener(e,"updateend",this.onSBUpdateEnd),this.addBufferListener(e,"error",this.onSBUpdateError),this.appendSource&&this.addBufferListener(e,"bufferedchange",(s,a)=>{const c=a.removedRanges;c!=null&&c.length&&this.hls.trigger(_e.BUFFER_FLUSHED,{type:s})})}get mediaSrc(){var e,r;const n=((e=this.media)==null||(r=e.querySelector)==null?void 0:r.call(e,"source"))||this.media;return n?.src}onSBUpdateStart(e){const r=this.currentOp(e);r&&r.onStart()}onSBUpdateEnd(e){var r;if(((r=this.mediaSource)==null?void 0:r.readyState)==="closed"){this.resetBuffer(e);return}const n=this.currentOp(e);n&&(n.onComplete(),this.shiftAndExecuteNext(e))}onSBUpdateError(e,r){var n;const i=new Error(`${e} SourceBuffer error. MediaSource readyState: ${(n=this.mediaSource)==null?void 0:n.readyState}`);this.error(`${i}`,r),this.hls.trigger(_e.ERROR,{type:Ai.MEDIA_ERROR,details:ar.BUFFER_APPENDING_ERROR,sourceBufferName:e,error:i,fatal:!1});const s=this.currentOp(e);s&&s.onError(i)}updateTimestampOffset(e,r,n,i,s,a){const c=r-e.timestampOffset;Math.abs(c)>=n&&(this.log(`Updating ${i} SourceBuffer timestampOffset to ${r} (sn: ${s} cc: ${a})`),e.timestampOffset=r)}removeExecutor(e,r,n){const{media:i,mediaSource:s}=this,a=this.tracks[e],c=a?.buffer;if(!i||!s||!c){this.warn(`Attempting to remove from the ${e} SourceBuffer, but it does not exist`),this.shiftAndExecuteNext(e);return}const u=kn(i.duration)?i.duration:1/0,o=kn(s.duration)?s.duration:1/0,d=Math.max(0,r),f=Math.min(n,u,o);f>d&&(!a.ending||a.ended)?(a.ended=!1,this.log(`Removing [${d},${f}] from the ${e} SourceBuffer`),c.remove(d,f)):this.shiftAndExecuteNext(e)}appendExecutor(e,r){const n=this.tracks[r],i=n?.buffer;if(!i)throw new n7e(`Attempting to append to the ${r} SourceBuffer, but it does not exist`);n.ending=!1,n.ended=!1,i.appendBuffer(e)}blockUntilOpen(e){if(this.isUpdating()||this.isQueued())this.blockBuffers(e).catch(r=>{this.warn(`SourceBuffer blocked callback ${r}`),this.stepOperationQueue(this.sourceBufferTypes)});else try{e()}catch(r){this.warn(`Callback run without blocking ${this.operationQueue} ${r}`)}}isUpdating(){return this.sourceBuffers.some(([e,r])=>e&&r.updating)}isQueued(){return this.sourceBuffers.some(([e])=>e&&!!this.currentOp(e))}isPending(e){return!!e&&!e.buffer}blockBuffers(e,r=this.sourceBufferTypes){if(!r.length)return this.log("Blocking operation requested, but no SourceBuffers exist"),Promise.resolve().then(e);const{operationQueue:n}=this,i=r.map(a=>this.appendBlocker(a));return r.length>1&&this.blockedAudioAppend&&this.unblockAudio(),Promise.all(i).then(a=>{n===this.operationQueue&&(e(),this.stepOperationQueue(this.sourceBufferTypes))})}stepOperationQueue(e){e.forEach(r=>{var n;const i=(n=this.tracks[r])==null?void 0:n.buffer;!i||i.updating||this.shiftAndExecuteNext(r)})}append(e,r,n){this.operationQueue&&this.operationQueue.append(e,r,n)}appendBlocker(e){if(this.operationQueue)return this.operationQueue.appendBlocker(e)}currentOp(e){return this.operationQueue?this.operationQueue.current(e):null}executeNext(e){e&&this.operationQueue&&this.operationQueue.executeNext(e)}shiftAndExecuteNext(e){this.operationQueue&&this.operationQueue.shiftAndExecuteNext(e)}get pendingTrackCount(){return Object.keys(this.tracks).reduce((e,r)=>e+(this.isPending(this.tracks[r])?1:0),0)}get sourceBufferCount(){return this.sourceBuffers.reduce((e,[r])=>e+(r?1:0),0)}get sourceBufferTypes(){return this.sourceBuffers.map(([e])=>e).filter(e=>!!e)}addBufferListener(e,r,n){const i=this.tracks[e];if(!i)return;const s=i.buffer;if(!s)return;const a=n.bind(this,e);i.listeners.push({event:r,listener:a}),s.addEventListener(r,a)}removeBufferListeners(e){const r=this.tracks[e];if(!r)return;const n=r.buffer;n&&(r.listeners.forEach(i=>{n.removeEventListener(i.event,i.listener)}),r.listeners.length=0)}}function _G(t){const e=t.querySelectorAll("source");[].slice.call(e).forEach(r=>{t.removeChild(r)})}function s7e(t,e){const r=self.document.createElement("source");r.type="video/mp4",r.src=e,t.appendChild(r)}function aL(t){return t==="audio"?1:0}class v5{constructor(e){this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=e,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}setStreamController(e){this.streamController=e}destroy(){this.hls&&this.unregisterListener(),this.timer&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null}registerListeners(){const{hls:e}=this;e.on(_e.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.on(_e.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(_e.MANIFEST_PARSED,this.onManifestParsed,this),e.on(_e.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(_e.BUFFER_CODECS,this.onBufferCodecs,this),e.on(_e.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListener(){const{hls:e}=this;e.off(_e.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.off(_e.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(_e.MANIFEST_PARSED,this.onManifestParsed,this),e.off(_e.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(_e.BUFFER_CODECS,this.onBufferCodecs,this),e.off(_e.MEDIA_DETACHING,this.onMediaDetaching,this)}onFpsDropLevelCapping(e,r){const n=this.hls.levels[r.droppedLevel];this.isLevelAllowed(n)&&this.restrictedLevels.push({bitrate:n.bitrate,height:n.height,width:n.width})}onMediaAttaching(e,r){this.media=r.media instanceof HTMLVideoElement?r.media:null,this.clientRect=null,this.timer&&this.hls.levels.length&&this.detectPlayerSize()}onManifestParsed(e,r){const n=this.hls;this.restrictedLevels=[],this.firstLevel=r.firstLevel,n.config.capLevelToPlayerSize&&r.video&&this.startCapping()}onLevelsUpdated(e,r){this.timer&&kn(this.autoLevelCapping)&&this.detectPlayerSize()}onBufferCodecs(e,r){this.hls.config.capLevelToPlayerSize&&r.video&&this.startCapping()}onMediaDetaching(){this.stopCapping(),this.media=null}detectPlayerSize(){if(this.media){if(this.mediaHeight<=0||this.mediaWidth<=0){this.clientRect=null;return}const e=this.hls.levels;if(e.length){const r=this.hls,n=this.getMaxLevel(e.length-1);n!==this.autoLevelCapping&&r.logger.log(`Setting autoLevelCapping to ${n}: ${e[n].height}p@${e[n].bitrate} for media ${this.mediaWidth}x${this.mediaHeight}`),r.autoLevelCapping=n,r.autoLevelEnabled&&r.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=r.autoLevelCapping}}}getMaxLevel(e){const r=this.hls.levels;if(!r.length)return-1;const n=r.filter((i,s)=>this.isLevelAllowed(i)&&s<=e);return this.clientRect=null,v5.getMaxLevelByMediaSize(n,this.mediaWidth,this.mediaHeight)}startCapping(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}stopCapping(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)}getDimensions(){if(this.clientRect)return this.clientRect;const e=this.media,r={width:0,height:0};if(e){const n=e.getBoundingClientRect();r.width=n.width,r.height=n.height,!r.width&&!r.height&&(r.width=n.right-n.left||e.width||0,r.height=n.bottom-n.top||e.height||0)}return this.clientRect=r,r}get mediaWidth(){return this.getDimensions().width*this.contentScaleFactor}get mediaHeight(){return this.getDimensions().height*this.contentScaleFactor}get contentScaleFactor(){let e=1;if(!this.hls.config.ignoreDevicePixelRatio)try{e=self.devicePixelRatio}catch{}return Math.min(e,this.hls.config.maxDevicePixelRatio)}isLevelAllowed(e){return!this.restrictedLevels.some(n=>e.bitrate===n.bitrate&&e.width===n.width&&e.height===n.height)}static getMaxLevelByMediaSize(e,r,n){if(!(e!=null&&e.length))return-1;const i=(c,u)=>u?c.width!==u.width||c.height!==u.height:!0;let s=e.length-1;const a=Math.max(r,n);for(let c=0;c<e.length;c+=1){const u=e[c];if((u.width>=a||u.height>=a)&&i(u,e[c+1])){s=c;break}}return s}}const a7e={MANIFEST:"m",AUDIO:"a",VIDEO:"v",MUXED:"av",INIT:"i",CAPTION:"c",TIMED_TEXT:"tt",KEY:"k",OTHER:"o"},wh=a7e,o7e={HLS:"h"},l7e=o7e;class Fm{constructor(e,r){Array.isArray(e)&&(e=e.map(n=>n instanceof Fm?n:new Fm(n))),this.value=e,this.params=r}}const c7e="Dict";function u7e(t){return Array.isArray(t)?JSON.stringify(t):t instanceof Map?"Map{}":t instanceof Set?"Set{}":typeof t=="object"?JSON.stringify(t):String(t)}function d7e(t,e,r,n){return new Error(`failed to ${t} "${u7e(e)}" as ${r}`,{cause:n})}function Um(t,e,r){return d7e("serialize",t,e,r)}class uie{constructor(e){this.description=e}}const TG="Bare Item",h7e="Boolean";function f7e(t){if(typeof t!="boolean")throw Um(t,h7e);return t?"?1":"?0"}function A7e(t){return btoa(String.fromCharCode(...t))}const m7e="Byte Sequence";function p7e(t){if(ArrayBuffer.isView(t)===!1)throw Um(t,m7e);return`:${A7e(t)}:`}const g7e="Integer";function v7e(t){return t<-999999999999999||999999999999999<t}function die(t){if(v7e(t))throw Um(t,g7e);return t.toString()}function y7e(t){return`@${die(t.getTime()/1e3)}`}function hie(t,e){if(t<0)return-hie(-t,e);const r=Math.pow(10,e);if(Math.abs(t*r%1-.5)<Number.EPSILON){const i=Math.floor(t*r);return(i%2===0?i:i+1)/r}else return Math.round(t*r)/r}const x7e="Decimal";function b7e(t){const e=hie(t,3);if(Math.floor(Math.abs(e)).toString().length>12)throw Um(t,x7e);const r=e.toString();return r.includes(".")?r:`${r}.0`}const w7e="String",E7e=/[\x00-\x1f\x7f]+/;function S7e(t){if(E7e.test(t))throw Um(t,w7e);return`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`}function _7e(t){return t.description||t.toString().slice(7,-1)}const T7e="Token";function CG(t){const e=_7e(t);if(/^([a-zA-Z*])([!#$%&'*+\-.^_`|~\w:/]*)$/.test(e)===!1)throw Um(e,T7e);return e}function KR(t){switch(typeof t){case"number":if(!kn(t))throw Um(t,TG);return Number.isInteger(t)?die(t):b7e(t);case"string":return S7e(t);case"symbol":return CG(t);case"boolean":return f7e(t);case"object":if(t instanceof Date)return y7e(t);if(t instanceof Uint8Array)return p7e(t);if(t instanceof uie)return CG(t);default:throw Um(t,TG)}}const C7e="Key";function GR(t){if(/^[a-z*][a-z0-9\-_.*]*$/.test(t)===!1)throw Um(t,C7e);return t}function sF(t){return t==null?"":Object.entries(t).map(([e,r])=>r===!0?`;${GR(e)}`:`;${GR(e)}=${KR(r)}`).join("")}function fie(t){return t instanceof Fm?`${KR(t.value)}${sF(t.params)}`:KR(t)}function j7e(t){return`(${t.value.map(fie).join(" ")})${sF(t.params)}`}function N7e(t,e={whitespace:!0}){if(typeof t!="object"||t==null)throw Um(t,c7e);const r=t instanceof Map?t.entries():Object.entries(t),n=e?.whitespace?" ":"";return Array.from(r).map(([i,s])=>{s instanceof Fm||(s=new Fm(s));let a=GR(i);return s.value===!0?a+=sF(s.params):(a+="=",Array.isArray(s.value)?a+=j7e(s):a+=fie(s)),a}).join(`,${n}`)}function Aie(t,e){return N7e(t,e)}const em="CMCD-Object",zl="CMCD-Request",X0="CMCD-Session",Og="CMCD-Status",I7e={br:em,ab:em,d:em,ot:em,tb:em,tpb:em,lb:em,tab:em,lab:em,url:em,pb:zl,bl:zl,tbl:zl,dl:zl,ltc:zl,mtp:zl,nor:zl,nrr:zl,rc:zl,sn:zl,sta:zl,su:zl,ttfb:zl,ttfbb:zl,ttlb:zl,cmsdd:zl,cmsds:zl,smrt:zl,df:zl,cs:zl,ts:zl,cid:X0,pr:X0,sf:X0,sid:X0,st:X0,v:X0,msd:X0,bs:Og,bsd:Og,cdn:Og,rtp:Og,bg:Og,pt:Og,ec:Og,e:Og},k7e={REQUEST:zl};function B7e(t){return Object.keys(t).reduce((e,r)=>{var n;return(n=t[r])===null||n===void 0||n.forEach(i=>e[i]=r),e},{})}function L7e(t,e){const r={};if(!t)return r;const n=Object.keys(t),i=e?B7e(e):{};return n.reduce((s,a)=>{var c;const u=I7e[a]||i[a]||k7e.REQUEST,o=(c=s[u])!==null&&c!==void 0?c:s[u]={};return o[a]=t[a],s},r)}function R7e(t){return["ot","sf","st","e","sta"].includes(t)}function O7e(t){return typeof t=="number"?kn(t):t!=null&&t!==""&&t!==!1}const mie="event";function P7e(t,e){const r=new URL(t),n=new URL(e);if(r.origin!==n.origin)return t;const i=r.pathname.split("/").slice(1),s=n.pathname.split("/").slice(1,-1);for(;i[0]===s[0];)i.shift(),s.shift();for(;s.length;)s.shift(),i.unshift("..");return i.join("/")+r.search+r.hash}const $_=t=>Math.round(t),zR=(t,e)=>Array.isArray(t)?t.map(r=>zR(r,e)):t instanceof Fm&&typeof t.value=="string"?new Fm(zR(t.value,e),t.params):(e.baseUrl&&(t=P7e(t,e.baseUrl)),e.version===1?encodeURIComponent(t):t),WS=t=>$_(t/100)*100,D7e=(t,e)=>{let r=t;return e.version>=2&&(t instanceof Fm&&typeof t.value=="string"?r=new Fm([t]):typeof t=="string"&&(r=[t])),zR(r,e)},M7e={br:$_,d:$_,bl:WS,dl:WS,mtp:WS,nor:D7e,rtp:WS,tb:$_},pie="request",gie="response",aF=["ab","bg","bl","br","bs","bsd","cdn","cid","cs","df","ec","lab","lb","ltc","msd","mtp","pb","pr","pt","sf","sid","sn","st","sta","tab","tb","tbl","tpb","ts","v"],F7e=["e"],U7e=/^[a-zA-Z0-9-.]+-[a-zA-Z0-9-.]+$/;function y5(t){return U7e.test(t)}function $7e(t){return aF.includes(t)||F7e.includes(t)||y5(t)}const vie=["d","dl","nor","ot","rtp","su"];function H7e(t){return aF.includes(t)||vie.includes(t)||y5(t)}const Q7e=["cmsdd","cmsds","rc","smrt","ttfb","ttfbb","ttlb","url"];function V7e(t){return aF.includes(t)||vie.includes(t)||Q7e.includes(t)||y5(t)}const K7e=["bl","br","bs","cid","d","dl","mtp","nor","nrr","ot","pr","rtp","sf","sid","st","su","tb","v"];function G7e(t){return K7e.includes(t)||y5(t)}const z7e={[gie]:V7e,[mie]:$7e,[pie]:H7e};function yie(t,e={}){const r={};if(t==null||typeof t!="object")return r;const n=e.version||t.v||1,i=e.reportingMode||pie,s=n===1?G7e:z7e[i];let a=Object.keys(t).filter(s);const c=e.filter;typeof c=="function"&&(a=a.filter(c));const u=i===gie||i===mie;u&&!a.includes("ts")&&a.push("ts"),n>1&&!a.includes("v")&&a.push("v");const o=So({},M7e,e.formatters),d={version:n,reportingMode:i,baseUrl:e.baseUrl};return a.sort().forEach(f=>{let A=t[f];const p=o[f];if(typeof p=="function"&&(A=p(A,d)),f==="v"){if(n===1)return;A=n}f=="pr"&&A===1||(u&&f==="ts"&&!kn(A)&&(A=Date.now()),O7e(A)&&(R7e(f)&&typeof A=="string"&&(A=new uie(A)),r[f]=A))}),r}function W7e(t,e={}){const r={};if(!t)return r;const n=yie(t,e),i=L7e(n,e?.customHeaderMap);return Object.entries(i).reduce((s,[a,c])=>{const u=Aie(c,{whitespace:!1});return u&&(s[a]=u),s},r)}function Y7e(t,e,r){return So(t,W7e(e,r))}const q7e="CMCD";function X7e(t,e={}){return t?Aie(yie(t,e),{whitespace:!1}):""}function Z7e(t,e={}){if(!t)return"";const r=X7e(t,e);return encodeURIComponent(r)}function J7e(t,e={}){if(!t)return"";const r=Z7e(t,e);return`${q7e}=${r}`}const jG=/CMCD=[^&#]+/;function e$e(t,e,r){const n=J7e(e,r);if(!n)return t;if(jG.test(t))return t.replace(jG,n);const i=t.includes("?")?"&":"?";return`${t}${i}${n}`}class t$e{constructor(e){this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.includeKeys=void 0,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=()=>{this.initialized&&(this.starved=!0),this.buffering=!0},this.onPlaying=()=>{this.initialized||(this.initialized=!0),this.buffering=!1},this.applyPlaylistData=i=>{try{this.apply(i,{ot:wh.MANIFEST,su:!this.initialized})}catch(s){this.hls.logger.warn("Could not generate manifest CMCD data.",s)}},this.applyFragmentData=i=>{try{const{frag:s,part:a}=i,c=this.hls.levels[s.level],u=this.getObjectType(s),o={d:(a||s).duration*1e3,ot:u};(u===wh.VIDEO||u===wh.AUDIO||u==wh.MUXED)&&(o.br=c.bitrate/1e3,o.tb=this.getTopBandwidth(u)/1e3,o.bl=this.getBufferLength(u));const d=a?this.getNextPart(a):this.getNextFrag(s);d!=null&&d.url&&d.url!==s.url&&(o.nor=d.url),this.apply(i,o)}catch(s){this.hls.logger.warn("Could not generate segment CMCD data.",s)}},this.hls=e;const r=this.config=e.config,{cmcd:n}=r;n!=null&&(r.pLoader=this.createPlaylistLoader(),r.fLoader=this.createFragmentLoader(),this.sid=n.sessionId||e.sessionId,this.cid=n.contentId,this.useHeaders=n.useHeaders===!0,this.includeKeys=n.includeKeys,this.registerListeners())}registerListeners(){const e=this.hls;e.on(_e.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(_e.MEDIA_DETACHED,this.onMediaDetached,this),e.on(_e.BUFFER_CREATED,this.onBufferCreated,this)}unregisterListeners(){const e=this.hls;e.off(_e.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(_e.MEDIA_DETACHED,this.onMediaDetached,this),e.off(_e.BUFFER_CREATED,this.onBufferCreated,this)}destroy(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null,this.onWaiting=this.onPlaying=this.media=null}onMediaAttached(e,r){this.media=r.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)}onMediaDetached(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)}onBufferCreated(e,r){var n,i;this.audioBuffer=(n=r.tracks.audio)==null?void 0:n.buffer,this.videoBuffer=(i=r.tracks.video)==null?void 0:i.buffer}createData(){var e;return{v:1,sf:l7e.HLS,sid:this.sid,cid:this.cid,pr:(e=this.media)==null?void 0:e.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}}apply(e,r={}){So(r,this.createData());const n=r.ot===wh.INIT||r.ot===wh.VIDEO||r.ot===wh.MUXED;this.starved&&n&&(r.bs=!0,r.su=!0,this.starved=!1),r.su==null&&(r.su=this.buffering);const{includeKeys:i}=this;i&&(r=Object.keys(r).reduce((a,c)=>(i.includes(c)&&(a[c]=r[c]),a),{}));const s={baseUrl:e.url};this.useHeaders?(e.headers||(e.headers={}),Y7e(e.headers,r,s)):e.url=e$e(e.url,r,s)}getNextFrag(e){var r;const n=(r=this.hls.levels[e.level])==null?void 0:r.details;if(n){const i=e.sn-n.startSN;return n.fragments[i+1]}}getNextPart(e){var r;const{index:n,fragment:i}=e,s=(r=this.hls.levels[i.level])==null||(r=r.details)==null?void 0:r.partList;if(s){const{sn:a}=i;for(let c=s.length-1;c>=0;c--){const u=s[c];if(u.index===n&&u.fragment.sn===a)return s[c+1]}}}getObjectType(e){const{type:r}=e;if(r==="subtitle")return wh.TIMED_TEXT;if(e.sn==="initSegment")return wh.INIT;if(r==="audio")return wh.AUDIO;if(r==="main")return this.hls.audioTracks.length?wh.VIDEO:wh.MUXED}getTopBandwidth(e){let r=0,n;const i=this.hls;if(e===wh.AUDIO)n=i.audioTracks;else{const s=i.maxAutoLevel,a=s>-1?s+1:i.levels.length;n=i.levels.slice(0,a)}return n.forEach(s=>{s.bitrate>r&&(r=s.bitrate)}),r>0?r:NaN}getBufferLength(e){const r=this.media,n=e===wh.AUDIO?this.audioBuffer:this.videoBuffer;return!n||!r?NaN:hs.bufferInfo(n,r.currentTime,this.config.maxBufferHole).len*1e3}createPlaylistLoader(){const{pLoader:e}=this.config,r=this.applyPlaylistData,n=e||this.config.loader;return class{constructor(s){this.loader=void 0,this.loader=new n(s)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(s,a,c){r(s),this.loader.load(s,a,c)}}}createFragmentLoader(){const{fLoader:e}=this.config,r=this.applyFragmentData,n=e||this.config.loader;return class{constructor(s){this.loader=void 0,this.loader=new n(s)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(s,a,c){r(s),this.loader.load(s,a,c)}}}}const r$e=3e5;class n$e extends Gf{constructor(e){super("content-steering",e.logger),this.hls=void 0,this.loader=null,this.uri=null,this.pathwayId=".",this._pathwayPriority=null,this.timeToLoad=300,this.reloadTimer=-1,this.updated=0,this.started=!1,this.enabled=!0,this.levels=null,this.audioTracks=null,this.subtitleTracks=null,this.penalizedPathways={},this.hls=e,this.registerListeners()}registerListeners(){const e=this.hls;e.on(_e.MANIFEST_LOADING,this.onManifestLoading,this),e.on(_e.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(_e.MANIFEST_PARSED,this.onManifestParsed,this),e.on(_e.ERROR,this.onError,this)}unregisterListeners(){const e=this.hls;e&&(e.off(_e.MANIFEST_LOADING,this.onManifestLoading,this),e.off(_e.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(_e.MANIFEST_PARSED,this.onManifestParsed,this),e.off(_e.ERROR,this.onError,this))}pathways(){return(this.levels||[]).reduce((e,r)=>(e.indexOf(r.pathwayId)===-1&&e.push(r.pathwayId),e),[])}get pathwayPriority(){return this._pathwayPriority}set pathwayPriority(e){this.updatePathwayPriority(e)}startLoad(){if(this.started=!0,this.clearTimeout(),this.enabled&&this.uri){if(this.updated){const e=this.timeToLoad*1e3-(performance.now()-this.updated);if(e>0){this.scheduleRefresh(this.uri,e);return}}this.loadSteeringManifest(this.uri)}}stopLoad(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),this.clearTimeout()}clearTimeout(){this.reloadTimer!==-1&&(self.clearTimeout(this.reloadTimer),this.reloadTimer=-1)}destroy(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null}removeLevel(e){const r=this.levels;r&&(this.levels=r.filter(n=>n!==e))}onManifestLoading(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null}onManifestLoaded(e,r){const{contentSteering:n}=r;n!==null&&(this.pathwayId=n.pathwayId,this.uri=n.uri,this.started&&this.startLoad())}onManifestParsed(e,r){this.audioTracks=r.audioTracks,this.subtitleTracks=r.subtitleTracks}onError(e,r){const{errorAction:n}=r;if(n?.action===Ad.SendAlternateToPenaltyBox&&n.flags===Wh.MoveAllAlternatesMatchingHost){const i=this.levels;let s=this._pathwayPriority,a=this.pathwayId;if(r.context){const{groupId:c,pathwayId:u,type:o}=r.context;c&&i?a=this.getPathwayForGroupId(c,o,a):u&&(a=u)}a in this.penalizedPathways||(this.penalizedPathways[a]=performance.now()),!s&&i&&(s=this.pathways()),s&&s.length>1&&(this.updatePathwayPriority(s),n.resolved=this.pathwayId!==a),r.details===ar.BUFFER_APPEND_ERROR&&!r.fatal?n.resolved=!0:n.resolved||this.warn(`Could not resolve ${r.details} ("${r.error.message}") with content-steering for Pathway: ${a} levels: ${i&&i.length} priorities: ${Mo(s)} penalized: ${Mo(this.penalizedPathways)}`)}}filterParsedLevels(e){this.levels=e;let r=this.getLevelsForPathway(this.pathwayId);if(r.length===0){const n=e[0].pathwayId;this.log(`No levels found in Pathway ${this.pathwayId}. Setting initial Pathway to "${n}"`),r=this.getLevelsForPathway(n),this.pathwayId=n}return r.length!==e.length&&this.log(`Found ${r.length}/${e.length} levels in Pathway "${this.pathwayId}"`),r}getLevelsForPathway(e){return this.levels===null?[]:this.levels.filter(r=>e===r.pathwayId)}updatePathwayPriority(e){this._pathwayPriority=e;let r;const n=this.penalizedPathways,i=performance.now();Object.keys(n).forEach(s=>{i-n[s]>r$e&&delete n[s]});for(let s=0;s<e.length;s++){const a=e[s];if(a in n)continue;if(a===this.pathwayId)return;const c=this.hls.nextLoadLevel,u=this.hls.levels[c];if(r=this.getLevelsForPathway(a),r.length>0){this.log(`Setting Pathway to "${a}"`),this.pathwayId=a,Fne(r),this.hls.trigger(_e.LEVELS_UPDATED,{levels:r});const o=this.hls.levels[c];u&&o&&this.levels&&(o.attrs["STABLE-VARIANT-ID"]!==u.attrs["STABLE-VARIANT-ID"]&&o.bitrate!==u.bitrate&&this.log(`Unstable Pathways change from bitrate ${u.bitrate} to ${o.bitrate}`),this.hls.nextLoadLevel=c);break}}}getPathwayForGroupId(e,r,n){const i=this.getLevelsForPathway(n).concat(this.levels||[]);for(let s=0;s<i.length;s++)if(r===zs.AUDIO_TRACK&&i[s].hasAudioGroup(e)||r===zs.SUBTITLE_TRACK&&i[s].hasSubtitleGroup(e))return i[s].pathwayId;return n}clonePathways(e){const r=this.levels;if(!r)return;const n={},i={};e.forEach(s=>{const{ID:a,"BASE-ID":c,"URI-REPLACEMENT":u}=s;if(r.some(d=>d.pathwayId===a))return;const o=this.getLevelsForPathway(c).map(d=>{const f=new Cl(d.attrs);f["PATHWAY-ID"]=a;const A=f.AUDIO&&`${f.AUDIO}_clone_${a}`,p=f.SUBTITLES&&`${f.SUBTITLES}_clone_${a}`;A&&(n[f.AUDIO]=A,f.AUDIO=A),p&&(i[f.SUBTITLES]=p,f.SUBTITLES=p);const g=xie(d.uri,f["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",u),y=new OE({attrs:f,audioCodec:d.audioCodec,bitrate:d.bitrate,height:d.height,name:d.name,url:g,videoCodec:d.videoCodec,width:d.width});if(d.audioGroups)for(let v=1;v<d.audioGroups.length;v++)y.addGroupId("audio",`${d.audioGroups[v]}_clone_${a}`);if(d.subtitleGroups)for(let v=1;v<d.subtitleGroups.length;v++)y.addGroupId("text",`${d.subtitleGroups[v]}_clone_${a}`);return y});r.push(...o),NG(this.audioTracks,n,u,a),NG(this.subtitleTracks,i,u,a)})}loadSteeringManifest(e){const r=this.hls.config,n=r.loader;this.loader&&this.loader.destroy(),this.loader=new n(r);let i;try{i=new self.URL(e)}catch{this.enabled=!1,this.log(`Failed to parse Steering Manifest URI: ${e}`);return}if(i.protocol!=="data:"){const d=(this.hls.bandwidthEstimate||r.abrEwmaDefaultEstimate)|0;i.searchParams.set("_HLS_pathway",this.pathwayId),i.searchParams.set("_HLS_throughput",""+d)}const s={responseType:"json",url:i.href},a=r.steeringManifestLoadPolicy.default,c=a.errorRetry||a.timeoutRetry||{},u={loadPolicy:a,timeout:a.maxLoadTimeMs,maxRetry:c.maxNumRetry||0,retryDelay:c.retryDelayMs||0,maxRetryDelay:c.maxRetryDelayMs||0},o={onSuccess:(d,f,A,p)=>{this.log(`Loaded steering manifest: "${i}"`);const g=d.data;if(g?.VERSION!==1){this.log(`Steering VERSION ${g.VERSION} not supported!`);return}this.updated=performance.now(),this.timeToLoad=g.TTL;const{"RELOAD-URI":y,"PATHWAY-CLONES":v,"PATHWAY-PRIORITY":b}=g;if(y)try{this.uri=new self.URL(y,i).href}catch{this.enabled=!1,this.log(`Failed to parse Steering Manifest RELOAD-URI: ${y}`);return}this.scheduleRefresh(this.uri||A.url),v&&this.clonePathways(v);const w={steeringManifest:g,url:i.toString()};this.hls.trigger(_e.STEERING_MANIFEST_LOADED,w),b&&this.updatePathwayPriority(b)},onError:(d,f,A,p)=>{if(this.log(`Error loading steering manifest: ${d.code} ${d.text} (${f.url})`),this.stopLoad(),d.code===410){this.enabled=!1,this.log(`Steering manifest ${f.url} no longer available`);return}let g=this.timeToLoad*1e3;if(d.code===429){const y=this.loader;if(typeof y?.getResponseHeader=="function"){const v=y.getResponseHeader("Retry-After");v&&(g=parseFloat(v)*1e3)}this.log(`Steering manifest ${f.url} rate limited`);return}this.scheduleRefresh(this.uri||f.url,g)},onTimeout:(d,f,A)=>{this.log(`Timeout loading steering manifest (${f.url})`),this.scheduleRefresh(this.uri||f.url)}};this.log(`Requesting steering manifest: ${i}`),this.loader.load(s,u,o)}scheduleRefresh(e,r=this.timeToLoad*1e3){this.clearTimeout(),this.reloadTimer=self.setTimeout(()=>{var n;const i=(n=this.hls)==null?void 0:n.media;if(i&&!i.ended){this.loadSteeringManifest(e);return}this.scheduleRefresh(e,this.timeToLoad*1e3)},r)}}function NG(t,e,r,n){t&&Object.keys(e).forEach(i=>{const s=t.filter(a=>a.groupId===i).map(a=>{const c=So({},a);return c.details=void 0,c.attrs=new Cl(c.attrs),c.url=c.attrs.URI=xie(a.url,a.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",r),c.groupId=c.attrs["GROUP-ID"]=e[i],c.attrs["PATHWAY-ID"]=n,c});t.push(...s)})}function xie(t,e,r,n){const{HOST:i,PARAMS:s,[r]:a}=n;let c;e&&(c=a?.[e],c&&(t=c));const u=new self.URL(t);return i&&!c&&(u.host=i),s&&Object.keys(s).sort().forEach(o=>{o&&u.searchParams.set(o,s[o])}),u.href}class ib extends Gf{constructor(e){super("eme",e.logger),this.hls=void 0,this.config=void 0,this.media=null,this.mediaResolved=void 0,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.mediaKeys=null,this.setMediaKeysQueue=ib.CDMCleanupPromise?[ib.CDMCleanupPromise]:[],this.bannedKeyIds={},this.onMediaEncrypted=r=>{const{initDataType:n,initData:i}=r,s=`"${r.type}" event: init data type: "${n}"`;if(this.debug(s),i!==null){if(!this.keyFormatPromise){let a=Object.keys(this.keySystemAccessPromises);a.length||(a=nw(this.config));const c=a.map(ZB).filter(u=>!!u);this.keyFormatPromise=this.getKeyFormatPromise(c)}this.keyFormatPromise.then(a=>{const c=M_(a);if(n!=="sinf"||c!==Il.FAIRPLAY){this.log(`Ignoring "${r.type}" event with init data type: "${n}" for selected key-system ${c}`);return}let u;try{const p=lu(new Uint8Array(i)),g=YM(JSON.parse(p).sinf),y=Ane(g);if(!y)throw new Error("'schm' box missing or not cbcs/cenc with schi > tenc");u=new Uint8Array(y.subarray(8,24))}catch(p){this.warn(`${s} Failed to parse sinf: ${p}`);return}const o=md(u),{keyIdToKeySessionPromise:d,mediaKeySessions:f}=this;let A=d[o];for(let p=0;p<f.length;p++){const g=f[p],y=g.decryptdata;if(!y.keyId)continue;const v=md(y.keyId);if(jj(u,y.keyId)||y.uri.replace(/-/g,"").indexOf(o)!==-1){if(A=d[v],!A)continue;if(y.pssh)break;delete d[v],y.pssh=new Uint8Array(i),y.keyId=u,A=d[o]=A.then(()=>this.generateRequestWithPreferredKeySession(g,n,i,"encrypted-event-key-match")),A.catch(b=>this.handleError(b));break}}A||this.handleError(new Error(`Key ID ${o} not encountered in playlist. Key-system sessions ${f.length}.`))}).catch(a=>this.handleError(a))}},this.onWaitingForKey=r=>{this.log(`"${r.type}" event`)},this.hls=e,this.config=e.config,this.registerListeners()}destroy(){this.onDestroying(),this.onMediaDetached();const e=this.config;e.requestMediaKeySystemAccessFunc=null,e.licenseXhrSetup=e.licenseResponseCallback=void 0,e.drmSystems=e.drmSystemOptions={},this.hls=this.config=this.keyIdToKeySessionPromise=null,this.onMediaEncrypted=this.onWaitingForKey=null}registerListeners(){this.hls.on(_e.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(_e.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(_e.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(_e.MANIFEST_LOADED,this.onManifestLoaded,this),this.hls.on(_e.DESTROYING,this.onDestroying,this)}unregisterListeners(){this.hls.off(_e.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(_e.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(_e.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(_e.MANIFEST_LOADED,this.onManifestLoaded,this),this.hls.off(_e.DESTROYING,this.onDestroying,this)}getLicenseServerUrl(e){const{drmSystems:r,widevineLicenseUrl:n}=this.config,i=r?.[e];if(i)return i.licenseUrl;if(e===Il.WIDEVINE&&n)return n}getLicenseServerUrlOrThrow(e){const r=this.getLicenseServerUrl(e);if(r===void 0)throw new Error(`no license server URL configured for key-system "${e}"`);return r}getServerCertificateUrl(e){const{drmSystems:r}=this.config,n=r?.[e];if(n)return n.serverCertificateUrl;this.log(`No Server Certificate in config.drmSystems["${e}"]`)}attemptKeySystemAccess(e){const r=this.hls.levels,n=(a,c,u)=>!!a&&u.indexOf(a)===c,i=r.map(a=>a.audioCodec).filter(n),s=r.map(a=>a.videoCodec).filter(n);return i.length+s.length===0&&s.push("avc1.42e01e"),new Promise((a,c)=>{const u=o=>{const d=o.shift();this.getMediaKeysPromise(d,i,s).then(f=>a({keySystem:d,mediaKeys:f})).catch(f=>{o.length?u(o):f instanceof Kh?c(f):c(new Kh({type:Ai.KEY_SYSTEM_ERROR,details:ar.KEY_SYSTEM_NO_ACCESS,error:f,fatal:!0},f.message))})};u(e)})}requestMediaKeySystemAccess(e,r){const{requestMediaKeySystemAccessFunc:n}=this.config;if(typeof n!="function"){let i=`Configured requestMediaKeySystemAccess is not a function ${n}`;return kne===null&&self.location.protocol==="http:"&&(i=`navigator.requestMediaKeySystemAccess is not available over insecure protocol ${location.protocol}`),Promise.reject(new Error(i))}return n(e,r)}getMediaKeysPromise(e,r,n){var i;const s=D6e(e,r,n,this.config.drmSystemOptions||{});let a=this.keySystemAccessPromises[e],c=(i=a)==null?void 0:i.keySystemAccess;if(!c){this.log(`Requesting encrypted media "${e}" key-system access with config: ${Mo(s)}`),c=this.requestMediaKeySystemAccess(e,s);const u=a=this.keySystemAccessPromises[e]={keySystemAccess:c};return c.catch(o=>{this.log(`Failed to obtain access to key-system "${e}": ${o}`)}),c.then(o=>{this.log(`Access for key-system "${o.keySystem}" obtained`);const d=this.fetchServerCertificate(e);this.log(`Create media-keys for "${e}"`);const f=u.mediaKeys=o.createMediaKeys().then(A=>(this.log(`Media-keys created for "${e}"`),u.hasMediaKeys=!0,d.then(p=>p?this.setMediaKeysServerCertificate(A,e,p):A)));return f.catch(A=>{this.error(`Failed to create media-keys for "${e}"}: ${A}`)}),f})}return c.then(()=>a.mediaKeys)}createMediaKeySessionContext({decryptdata:e,keySystem:r,mediaKeys:n}){this.log(`Creating key-system session "${r}" keyId: ${md(e.keyId||[])} keyUri: ${e.uri}`);const i=n.createSession(),s={decryptdata:e,keySystem:r,mediaKeys:n,mediaKeysSession:i,keyStatus:"status-pending"};return this.mediaKeySessions.push(s),s}renewKeySession(e){const r=e.decryptdata;if(r.pssh){const n=this.createMediaKeySessionContext(e),i=YS(r),s="cenc";this.keyIdToKeySessionPromise[i]=this.generateRequestWithPreferredKeySession(n,s,r.pssh.buffer,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(e)}updateKeySession(e,r){const n=e.mediaKeysSession;return this.log(`Updating key-session "${n.sessionId}" for keyId ${md(e.decryptdata.keyId||[])}
      } (data length: ${r.byteLength})`),n.update(r)}getSelectedKeySystemFormats(){return Object.keys(this.keySystemAccessPromises).map(e=>({keySystem:e,hasMediaKeys:this.keySystemAccessPromises[e].hasMediaKeys})).filter(({hasMediaKeys:e})=>!!e).map(({keySystem:e})=>ZB(e)).filter(e=>!!e)}getKeySystemAccess(e){return this.getKeySystemSelectionPromise(e).then(({keySystem:r,mediaKeys:n})=>this.attemptSetMediaKeys(r,n))}selectKeySystem(e){return new Promise((r,n)=>{this.getKeySystemSelectionPromise(e).then(({keySystem:i})=>{const s=ZB(i);s?r(s):n(new Error(`Unable to find format for key-system "${i}"`))}).catch(n)})}selectKeySystemFormat(e){const r=Object.keys(e.levelkeys||{});return this.keyFormatPromise||(this.log(`Selecting key-system from fragment (sn: ${e.sn} ${e.type}: ${e.level}) key formats ${r.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(r)),this.keyFormatPromise}getKeyFormatPromise(e){const r=nw(this.config),n=e.map(M_).filter(i=>!!i&&r.indexOf(i)!==-1);return this.selectKeySystem(n)}getKeyStatus(e){const{mediaKeySessions:r}=this;for(let n=0;n<r.length;n++){const i=i$e(e,r[n]);if(i)return i}}loadKey(e){const r=e.keyInfo.decryptdata,n=YS(r),i=this.bannedKeyIds[n];if(i||this.getKeyStatus(r)==="internal-error"){const c=IG(i||"internal-error",r);return this.handleError(c,e.frag),Promise.reject(c)}const s=`(keyId: ${n} format: "${r.keyFormat}" method: ${r.method} uri: ${r.uri})`;this.log(`Starting session for key ${s}`);const a=this.keyIdToKeySessionPromise[n];if(!a){const c=this.getKeySystemForKeyPromise(r).then(({keySystem:u,mediaKeys:o})=>(this.throwIfDestroyed(),this.log(`Handle encrypted media sn: ${e.frag.sn} ${e.frag.type}: ${e.frag.level} using key ${s}`),this.attemptSetMediaKeys(u,o).then(()=>(this.throwIfDestroyed(),this.createMediaKeySessionContext({keySystem:u,mediaKeys:o,decryptdata:r}))))).then(u=>{const o="cenc",d=r.pssh?r.pssh.buffer:null;return this.generateRequestWithPreferredKeySession(u,o,d,"playlist-key")});return c.catch(u=>this.handleError(u,e.frag)),this.keyIdToKeySessionPromise[n]=c,c}return a.catch(c=>{if(c instanceof Kh){const u=io({},c.data);this.getKeyStatus(r)==="internal-error"&&(u.decryptdata=r);const o=new Kh(u,c.message);this.handleError(o,e.frag)}}),a}throwIfDestroyed(e="Invalid state"){if(!this.hls)throw new Error("invalid state")}handleError(e,r){if(this.hls)if(e instanceof Kh){r&&(e.data.frag=r);const n=e.data.decryptdata;this.error(`${e.message}${n?` (${md(n.keyId||[])})`:""}`),this.hls.trigger(_e.ERROR,e.data)}else this.error(e.message),this.hls.trigger(_e.ERROR,{type:Ai.KEY_SYSTEM_ERROR,details:ar.KEY_SYSTEM_NO_KEYS,error:e,fatal:!0})}getKeySystemForKeyPromise(e){const r=YS(e),n=this.keyIdToKeySessionPromise[r];if(!n){const i=M_(e.keyFormat),s=i?[i]:nw(this.config);return this.attemptKeySystemAccess(s)}return n}getKeySystemSelectionPromise(e){if(e.length||(e=nw(this.config)),e.length===0)throw new Kh({type:Ai.KEY_SYSTEM_ERROR,details:ar.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},`Missing key-system license configuration options ${Mo({drmSystems:this.config.drmSystems})}`);return this.attemptKeySystemAccess(e)}attemptSetMediaKeys(e,r){if(this.mediaResolved=void 0,this.mediaKeys===r)return Promise.resolve();const n=this.setMediaKeysQueue.slice();this.log(`Setting media-keys for "${e}"`);const i=Promise.all(n).then(()=>this.media?this.media.setMediaKeys(r):new Promise((s,a)=>{this.mediaResolved=()=>{if(this.mediaResolved=void 0,!this.media)return a(new Error("Attempted to set mediaKeys without media element attached"));this.mediaKeys=r,this.media.setMediaKeys(r).then(s).catch(a)}}));return this.mediaKeys=r,this.setMediaKeysQueue.push(i),i.then(()=>{this.log(`Media-keys set for "${e}"`),n.push(i),this.setMediaKeysQueue=this.setMediaKeysQueue.filter(s=>n.indexOf(s)===-1)})}generateRequestWithPreferredKeySession(e,r,n,i){var s;const a=(s=this.config.drmSystems)==null||(s=s[e.keySystem])==null?void 0:s.generateRequest;if(a)try{const g=a.call(this.hls,r,n,e);if(!g)throw new Error("Invalid response from configured generateRequest filter");r=g.initDataType,n=g.initData?g.initData:null,e.decryptdata.pssh=n?new Uint8Array(n):null}catch(g){if(this.warn(g.message),this.hls&&this.hls.config.debug)throw g}if(n===null)return this.log(`Skipping key-session request for "${i}" (no initData)`),Promise.resolve(e);const c=YS(e.decryptdata),u=e.decryptdata.uri;this.log(`Generating key-session request for "${i}" keyId: ${c} URI: ${u} (init data type: ${r} length: ${n.byteLength})`);const o=new XM,d=e._onmessage=g=>{const y=e.mediaKeysSession;if(!y){o.emit("error",new Error("invalid state"));return}const{messageType:v,message:b}=g;this.log(`"${v}" message event for session "${y.sessionId}" message size: ${b.byteLength}`),v==="license-request"||v==="license-renewal"?this.renewLicense(e,b).catch(w=>{o.eventNames().length?o.emit("error",w):this.handleError(w)}):v==="license-release"?e.keySystem===Il.FAIRPLAY&&this.updateKeySession(e,FR("acknowledged")).then(()=>this.removeSession(e)).catch(w=>this.handleError(w)):this.warn(`unhandled media key message type "${v}"`)},f=(g,y)=>{y.keyStatus=g;let v;g.startsWith("usable")?o.emit("resolved"):g==="internal-error"||g==="output-restricted"||g==="output-downscaled"?v=IG(g,y.decryptdata):g==="expired"?v=new Error(`key expired (keyId: ${c})`):g==="released"?v=new Error("key released"):g==="status-pending"||this.warn(`unhandled key status change "${g}" (keyId: ${c})`),v&&(o.eventNames().length?o.emit("error",v):this.handleError(v))},A=e._onkeystatuseschange=g=>{if(!e.mediaKeysSession){o.emit("error",new Error("invalid state"));return}const v=this.getKeyStatuses(e);if(!Object.keys(v).some(_=>v[_]!=="status-pending"))return;if(v[c]==="expired"){this.log(`Expired key ${Mo(v)} in key-session "${e.mediaKeysSession.sessionId}"`),this.renewKeySession(e);return}let w=v[c];if(w)f(w,e);else{var S;e.keyStatusTimeouts||(e.keyStatusTimeouts={}),(S=e.keyStatusTimeouts)[c]||(S[c]=self.setTimeout(()=>{if(!e.mediaKeysSession||!this.mediaKeys)return;const T=this.getKeyStatus(e.decryptdata);if(T&&T!=="status-pending")return this.log(`No status for keyId ${c} in key-session "${e.mediaKeysSession.sessionId}". Using session key-status ${T} from other session.`),f(T,e);this.log(`key status for ${c} in key-session "${e.mediaKeysSession.sessionId}" timed out after 1000ms`),w="internal-error",f(w,e)},1e3)),this.log(`No status for keyId ${c} (${Mo(v)}).`)}};th(e.mediaKeysSession,"message",d),th(e.mediaKeysSession,"keystatuseschange",A);const p=new Promise((g,y)=>{o.on("error",y),o.on("resolved",g)});return e.mediaKeysSession.generateRequest(r,n).then(()=>{this.log(`Request generated for key-session "${e.mediaKeysSession.sessionId}" keyId: ${c} URI: ${u}`)}).catch(g=>{throw new Kh({type:Ai.KEY_SYSTEM_ERROR,details:ar.KEY_SYSTEM_NO_SESSION,error:g,decryptdata:e.decryptdata,fatal:!1},`Error generating key-session request: ${g}`)}).then(()=>p).catch(g=>(o.removeAllListeners(),this.removeSession(e).then(()=>{throw g}))).then(()=>(o.removeAllListeners(),e))}getKeyStatuses(e){const r={};return e.mediaKeysSession.keyStatuses.forEach((n,i)=>{if(typeof i=="string"&&typeof n=="object"){const c=i;i=n,n=c}const s="buffer"in i?new Uint8Array(i.buffer,i.byteOffset,i.byteLength):new Uint8Array(i);if(e.keySystem===Il.PLAYREADY&&s.length===16){const c=md(s);r[c]=n,Nne(s)}const a=md(s);n==="internal-error"&&(this.bannedKeyIds[a]=n),this.log(`key status change "${n}" for keyStatuses keyId: ${a} key-session "${e.mediaKeysSession.sessionId}"`),r[a]=n}),r}fetchServerCertificate(e){const r=this.config,n=r.loader,i=new n(r),s=this.getServerCertificateUrl(e);return s?(this.log(`Fetching server certificate for "${e}"`),new Promise((a,c)=>{const u={responseType:"arraybuffer",url:s},o=r.certLoadPolicy.default,d={loadPolicy:o,timeout:o.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},f={onSuccess:(A,p,g,y)=>{a(A.data)},onError:(A,p,g,y)=>{c(new Kh({type:Ai.KEY_SYSTEM_ERROR,details:ar.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:g,response:io({url:u.url,data:void 0},A)},`"${e}" certificate request failed (${s}). Status: ${A.code} (${A.text})`))},onTimeout:(A,p,g)=>{c(new Kh({type:Ai.KEY_SYSTEM_ERROR,details:ar.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:g,response:{url:u.url,data:void 0}},`"${e}" certificate request timed out (${s})`))},onAbort:(A,p,g)=>{c(new Error("aborted"))}};i.load(u,d,f)})):Promise.resolve()}setMediaKeysServerCertificate(e,r,n){return new Promise((i,s)=>{e.setServerCertificate(n).then(a=>{this.log(`setServerCertificate ${a?"success":"not supported by CDM"} (${n.byteLength}) on "${r}"`),i(e)}).catch(a=>{s(new Kh({type:Ai.KEY_SYSTEM_ERROR,details:ar.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:a,fatal:!0},a.message))})})}renewLicense(e,r){return this.requestLicense(e,new Uint8Array(r)).then(n=>this.updateKeySession(e,new Uint8Array(n)).catch(i=>{throw new Kh({type:Ai.KEY_SYSTEM_ERROR,details:ar.KEY_SYSTEM_SESSION_UPDATE_FAILED,decryptdata:e.decryptdata,error:i,fatal:!1},i.message)}))}unpackPlayReadyKeyMessage(e,r){const n=String.fromCharCode.apply(null,new Uint16Array(r.buffer));if(!n.includes("PlayReadyKeyMessage"))return e.setRequestHeader("Content-Type","text/xml; charset=utf-8"),r;const i=new DOMParser().parseFromString(n,"application/xml"),s=i.querySelectorAll("HttpHeader");if(s.length>0){let d;for(let f=0,A=s.length;f<A;f++){var a,c;d=s[f];const p=(a=d.querySelector("name"))==null?void 0:a.textContent,g=(c=d.querySelector("value"))==null?void 0:c.textContent;p&&g&&e.setRequestHeader(p,g)}}const u=i.querySelector("Challenge"),o=u?.textContent;if(!o)throw new Error("Cannot find <Challenge> in key message");return FR(atob(o))}setupLicenseXHR(e,r,n,i){const s=this.config.licenseXhrSetup;return s?Promise.resolve().then(()=>{if(!n.decryptdata)throw new Error("Key removed");return s.call(this.hls,e,r,n,i)}).catch(a=>{if(!n.decryptdata)throw a;return e.open("POST",r,!0),s.call(this.hls,e,r,n,i)}).then(a=>(e.readyState||e.open("POST",r,!0),{xhr:e,licenseChallenge:a||i})):(e.open("POST",r,!0),Promise.resolve({xhr:e,licenseChallenge:i}))}requestLicense(e,r){const n=this.config.keyLoadPolicy.default;return new Promise((i,s)=>{const a=this.getLicenseServerUrlOrThrow(e.keySystem);this.log(`Sending license request to URL: ${a}`);const c=new XMLHttpRequest;c.responseType="arraybuffer",c.onreadystatechange=()=>{if(!this.hls||!e.mediaKeysSession)return s(new Error("invalid state"));if(c.readyState===4)if(c.status===200){this._requestLicenseFailureCount=0;let u=c.response;this.log(`License received ${u instanceof ArrayBuffer?u.byteLength:u}`);const o=this.config.licenseResponseCallback;if(o)try{u=o.call(this.hls,c,a,e)}catch(d){this.error(d)}i(u)}else{const u=n.errorRetry,o=u?u.maxNumRetry:0;if(this._requestLicenseFailureCount++,this._requestLicenseFailureCount>o||c.status>=400&&c.status<500)s(new Kh({type:Ai.KEY_SYSTEM_ERROR,details:ar.KEY_SYSTEM_LICENSE_REQUEST_FAILED,decryptdata:e.decryptdata,fatal:!0,networkDetails:c,response:{url:a,data:void 0,code:c.status,text:c.statusText}},`License Request XHR failed (${a}). Status: ${c.status} (${c.statusText})`));else{const d=o-this._requestLicenseFailureCount+1;this.warn(`Retrying license request, ${d} attempts left`),this.requestLicense(e,r).then(i,s)}}},e.licenseXhr&&e.licenseXhr.readyState!==XMLHttpRequest.DONE&&e.licenseXhr.abort(),e.licenseXhr=c,this.setupLicenseXHR(c,a,e,r).then(({xhr:u,licenseChallenge:o})=>{e.keySystem==Il.PLAYREADY&&(o=this.unpackPlayReadyKeyMessage(u,o)),u.send(o)}).catch(s)})}onDestroying(){this.unregisterListeners(),this._clear()}onMediaAttached(e,r){if(!this.config.emeEnabled)return;const n=r.media;this.media=n,th(n,"encrypted",this.onMediaEncrypted),th(n,"waitingforkey",this.onWaitingForKey);const i=this.mediaResolved;i?i():this.mediaKeys=n.mediaKeys}onMediaDetached(){const e=this.media;e&&(jh(e,"encrypted",this.onMediaEncrypted),jh(e,"waitingforkey",this.onWaitingForKey),this.media=null,this.mediaKeys=null)}_clear(){var e;this._requestLicenseFailureCount=0,this.keyIdToKeySessionPromise={},this.bannedKeyIds={};const r=this.mediaResolved;if(r&&r(),!this.mediaKeys&&!this.mediaKeySessions.length)return;const n=this.media,i=this.mediaKeySessions.slice();this.mediaKeySessions=[],this.mediaKeys=null,g0.clearKeyUriToKeyIdMap();const s=i.length;ib.CDMCleanupPromise=Promise.all(i.map(a=>this.removeSession(a)).concat((n==null||(e=n.setMediaKeys(null))==null?void 0:e.catch(a=>{this.log(`Could not clear media keys: ${a}`),this.hls&&this.hls.trigger(_e.ERROR,{type:Ai.OTHER_ERROR,details:ar.KEY_SYSTEM_DESTROY_MEDIA_KEYS_ERROR,fatal:!1,error:new Error(`Could not clear media keys: ${a}`)})}))||Promise.resolve())).catch(a=>{this.log(`Could not close sessions and clear media keys: ${a}`),this.hls&&this.hls.trigger(_e.ERROR,{type:Ai.OTHER_ERROR,details:ar.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR,fatal:!1,error:new Error(`Could not close sessions and clear media keys: ${a}`)})}).then(()=>{s&&this.log("finished closing key sessions and clearing media keys")})}onManifestLoading(){this._clear()}onManifestLoaded(e,{sessionKeys:r}){if(!(!r||!this.config.emeEnabled)&&!this.keyFormatPromise){const n=r.reduce((i,s)=>(i.indexOf(s.keyFormat)===-1&&i.push(s.keyFormat),i),[]);this.log(`Selecting key-system from session-keys ${n.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(n)}}removeSession(e){const{mediaKeysSession:r,licenseXhr:n,decryptdata:i}=e;if(r){this.log(`Remove licenses and keys and close session "${r.sessionId}" keyId: ${md(i?.keyId||[])}`),e._onmessage&&(r.removeEventListener("message",e._onmessage),e._onmessage=void 0),e._onkeystatuseschange&&(r.removeEventListener("keystatuseschange",e._onkeystatuseschange),e._onkeystatuseschange=void 0),n&&n.readyState!==XMLHttpRequest.DONE&&n.abort(),e.mediaKeysSession=e.decryptdata=e.licenseXhr=void 0;const s=this.mediaKeySessions.indexOf(e);s>-1&&this.mediaKeySessions.splice(s,1);const{keyStatusTimeouts:a}=e;a&&Object.keys(a).forEach(o=>self.clearTimeout(a[o]));const{drmSystemOptions:c}=this.config;return(F6e(c)?new Promise((o,d)=>{self.setTimeout(()=>d(new Error("MediaKeySession.remove() timeout")),8e3),r.remove().then(o).catch(d)}):Promise.resolve()).catch(o=>{this.log(`Could not remove session: ${o}`),this.hls&&this.hls.trigger(_e.ERROR,{type:Ai.OTHER_ERROR,details:ar.KEY_SYSTEM_DESTROY_REMOVE_SESSION_ERROR,fatal:!1,error:new Error(`Could not remove session: ${o}`)})}).then(()=>r.close()).catch(o=>{this.log(`Could not close session: ${o}`),this.hls&&this.hls.trigger(_e.ERROR,{type:Ai.OTHER_ERROR,details:ar.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR,fatal:!1,error:new Error(`Could not close session: ${o}`)})})}return Promise.resolve()}}ib.CDMCleanupPromise=void 0;function YS(t){if(!t)throw new Error("Could not read keyId of undefined decryptdata");if(t.keyId===null)throw new Error("keyId is null");return md(t.keyId)}function i$e(t,e){if(t.keyId&&e.mediaKeysSession.keyStatuses.has(t.keyId))return e.mediaKeysSession.keyStatuses.get(t.keyId);if(t.matches(e.decryptdata))return e.keyStatus}class Kh extends Error{constructor(e,r){super(r),this.data=void 0,e.error||(e.error=new Error(r)),this.data=e,e.err=e.error}}function IG(t,e){const r=t==="output-restricted",n=r?ar.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:ar.KEY_SYSTEM_STATUS_INTERNAL_ERROR;return new Kh({type:Ai.KEY_SYSTEM_ERROR,details:n,fatal:!1,decryptdata:e},r?"HDCP level output restricted":`key status changed to "${t}"`)}class s$e{constructor(e){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=e,this.registerListeners()}setStreamController(e){this.streamController=e}registerListeners(){this.hls.on(_e.MEDIA_ATTACHING,this.onMediaAttaching,this),this.hls.on(_e.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListeners(){this.hls.off(_e.MEDIA_ATTACHING,this.onMediaAttaching,this),this.hls.off(_e.MEDIA_DETACHING,this.onMediaDetaching,this)}destroy(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null}onMediaAttaching(e,r){const n=this.hls.config;if(n.capLevelOnFPSDrop){const i=r.media instanceof self.HTMLVideoElement?r.media:null;this.media=i,i&&typeof i.getVideoPlaybackQuality=="function"&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),n.fpsDroppedMonitoringPeriod)}}onMediaDetaching(){this.media=null}checkFPS(e,r,n){const i=performance.now();if(r){if(this.lastTime){const s=i-this.lastTime,a=n-this.lastDroppedFrames,c=r-this.lastDecodedFrames,u=1e3*a/s,o=this.hls;if(o.trigger(_e.FPS_DROP,{currentDropped:a,currentDecoded:c,totalDroppedFrames:n}),u>0&&a>o.config.fpsDroppedMonitoringThreshold*c){let d=o.currentLevel;o.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+d),d>0&&(o.autoLevelCapping===-1||o.autoLevelCapping>=d)&&(d=d-1,o.trigger(_e.FPS_DROP_LEVEL_CAPPING,{level:d,droppedLevel:o.currentLevel}),o.autoLevelCapping=d,this.streamController.nextLevelSwitch())}}this.lastTime=i,this.lastDroppedFrames=n,this.lastDecodedFrames=r}}checkFPSInterval(){const e=this.media;if(e)if(this.isVideoPlaybackQualityAvailable){const r=e.getVideoPlaybackQuality();this.checkFPS(e,r.totalVideoFrames,r.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)}}function bie(t,e){let r;try{r=new Event("addtrack")}catch{r=document.createEvent("Event"),r.initEvent("addtrack",!1,!1)}r.track=t,e.dispatchEvent(r)}function wie(t,e){const r=t.mode;if(r==="disabled"&&(t.mode="hidden"),t.cues&&!t.cues.getCueById(e.id))try{if(t.addCue(e),!t.cues.getCueById(e.id))throw new Error(`addCue is failed for: ${e}`)}catch(n){ao.debug(`[texttrack-utils]: ${n}`);try{const i=new self.TextTrackCue(e.startTime,e.endTime,e.text);i.id=e.id,t.addCue(i)}catch(i){ao.debug(`[texttrack-utils]: Legacy TextTrackCue fallback failed: ${i}`)}}r==="disabled"&&(t.mode=r)}function Kx(t,e){const r=t.mode;if(r==="disabled"&&(t.mode="hidden"),t.cues)for(let n=t.cues.length;n--;)e&&t.cues[n].removeEventListener("enter",e),t.removeCue(t.cues[n]);r==="disabled"&&(t.mode=r)}function WR(t,e,r,n){const i=t.mode;if(i==="disabled"&&(t.mode="hidden"),t.cues&&t.cues.length>0){const s=o$e(t.cues,e,r);for(let a=0;a<s.length;a++)(!n||n(s[a]))&&t.removeCue(s[a])}i==="disabled"&&(t.mode=i)}function a$e(t,e){if(e<=t[0].startTime)return 0;const r=t.length-1;if(e>t[r].endTime)return-1;let n=0,i=r,s;for(;n<=i;)if(s=Math.floor((i+n)/2),e<t[s].startTime)i=s-1;else if(e>t[s].startTime&&n<r)n=s+1;else return s;return t[n].startTime-e<e-t[i].startTime?n:i}function o$e(t,e,r){const n=[],i=a$e(t,e);if(i>-1)for(let s=i,a=t.length;s<a;s++){const c=t[s];if(c.startTime>=e&&c.endTime<=r)n.push(c);else if(c.startTime>r)return n}return n}function H_(t){const e=[];for(let r=0;r<t.length;r++){const n=t[r];(n.kind==="subtitles"||n.kind==="captions")&&n.label&&e.push(t[r])}return e}class l$e extends iF{constructor(e){super(e,"subtitle-track-controller"),this.media=null,this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.queuedDefaultTrack=-1,this.useTextTrackPolling=!1,this.subtitlePollingInterval=-1,this._subtitleDisplay=!0,this.asyncPollTrackChange=()=>this.pollTrackChange(0),this.onTextTracksChanged=()=>{if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),!this.media||!this.hls.config.renderTextTracksNatively)return;let r=null;const n=H_(this.media.textTracks);for(let s=0;s<n.length;s++)if(n[s].mode==="hidden")r=n[s];else if(n[s].mode==="showing"){r=n[s];break}const i=this.findTrackForTextTrack(r);this.subtitleTrack!==i&&this.setSubtitleTrack(i)},this.registerListeners()}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,this.onTextTracksChanged=this.asyncPollTrackChange=null,super.destroy()}get subtitleDisplay(){return this._subtitleDisplay}set subtitleDisplay(e){this._subtitleDisplay=e,this.trackId>-1&&this.toggleTrackModes()}registerListeners(){const{hls:e}=this;e.on(_e.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(_e.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(_e.MANIFEST_LOADING,this.onManifestLoading,this),e.on(_e.MANIFEST_PARSED,this.onManifestParsed,this),e.on(_e.LEVEL_LOADING,this.onLevelLoading,this),e.on(_e.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(_e.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(_e.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(_e.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(_e.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(_e.MANIFEST_LOADING,this.onManifestLoading,this),e.off(_e.MANIFEST_PARSED,this.onManifestParsed,this),e.off(_e.LEVEL_LOADING,this.onLevelLoading,this),e.off(_e.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(_e.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(_e.ERROR,this.onError,this)}onMediaAttached(e,r){this.media=r.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))}pollTrackChange(e){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.onTextTracksChanged,e)}onMediaDetaching(e,r){const n=this.media;if(!n)return;const i=!!r.transferMedia;if(self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||n.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),this.subtitleTrack=-1,this.media=null,i)return;H_(n.textTracks).forEach(a=>{Kx(a)})}onManifestLoading(){this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0}onManifestParsed(e,r){this.tracks=r.subtitleTracks}onSubtitleTrackLoaded(e,r){const{id:n,groupId:i,details:s}=r,a=this.tracksInGroup[n];if(!a||a.groupId!==i){this.warn(`Subtitle track with id:${n} and group:${i} not found in active group ${a?.groupId}`);return}const c=a.details;a.details=r.details,this.log(`Subtitle track ${n} "${a.name}" lang:${a.lang} group:${i} loaded [${s.startSN}-${s.endSN}]`),n===this.trackId&&this.playlistLoaded(n,r,c)}onLevelLoading(e,r){this.switchLevel(r.level)}onLevelSwitching(e,r){this.switchLevel(r.level)}switchLevel(e){const r=this.hls.levels[e];if(!r)return;const n=r.subtitleGroups||null,i=this.groupIds;let s=this.currentTrack;if(!n||i?.length!==n?.length||n!=null&&n.some(a=>i?.indexOf(a)===-1)){this.groupIds=n,this.trackId=-1,this.currentTrack=null;const a=this.tracks.filter(d=>!n||n.indexOf(d.groupId)!==-1);if(a.length)this.selectDefaultTrack&&!a.some(d=>d.default)&&(this.selectDefaultTrack=!1),a.forEach((d,f)=>{d.id=f});else if(!s&&!this.tracksInGroup.length)return;this.tracksInGroup=a;const c=this.hls.config.subtitlePreference;if(!s&&c){this.selectDefaultTrack=!1;const d=Sm(c,a);if(d>-1)s=a[d];else{const f=Sm(c,this.tracks);s=this.tracks[f]}}let u=this.findTrackId(s);u===-1&&s&&(u=this.findTrackId(null));const o={subtitleTracks:a};this.log(`Updating subtitle tracks, ${a.length} track(s) found in "${n?.join(",")}" group-id`),this.hls.trigger(_e.SUBTITLE_TRACKS_UPDATED,o),u!==-1&&this.trackId===-1&&this.setSubtitleTrack(u)}}findTrackId(e){const r=this.tracksInGroup,n=this.selectDefaultTrack;for(let i=0;i<r.length;i++){const s=r[i];if(!(n&&!s.default||!n&&!e)&&(!e||Uv(s,e)))return i}if(e){for(let i=0;i<r.length;i++){const s=r[i];if(FE(e.attrs,s.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return i}for(let i=0;i<r.length;i++){const s=r[i];if(FE(e.attrs,s.attrs,["LANGUAGE"]))return i}}return-1}findTrackForTextTrack(e){if(e){const r=this.tracksInGroup;for(let n=0;n<r.length;n++){const i=r[n];if(VR(i,e))return n}}return-1}onError(e,r){r.fatal||!r.context||r.context.type===zs.SUBTITLE_TRACK&&r.context.id===this.trackId&&(!this.groupIds||this.groupIds.indexOf(r.context.groupId)!==-1)&&this.checkRetry(r)}get allSubtitleTracks(){return this.tracks}get subtitleTracks(){return this.tracksInGroup}get subtitleTrack(){return this.trackId}set subtitleTrack(e){this.selectDefaultTrack=!1,this.setSubtitleTrack(e)}setSubtitleOption(e){if(this.hls.config.subtitlePreference=e,e){if(e.id===-1)return this.setSubtitleTrack(-1),null;const r=this.allSubtitleTracks;if(this.selectDefaultTrack=!1,r.length){const n=this.currentTrack;if(n&&Uv(e,n))return n;const i=Sm(e,this.tracksInGroup);if(i>-1){const s=this.tracksInGroup[i];return this.setSubtitleTrack(i),s}else{if(n)return null;{const s=Sm(e,r);if(s>-1)return r[s]}}}}return null}loadPlaylist(e){super.loadPlaylist(),this.shouldLoadPlaylist(this.currentTrack)&&this.scheduleLoading(this.currentTrack,e)}loadingPlaylist(e,r){super.loadingPlaylist(e,r);const n=e.id,i=e.groupId,s=this.getUrlWithDirectives(e.url,r),a=e.details,c=a?.age;this.log(`Loading subtitle ${n} "${e.name}" lang:${e.lang} group:${i}${r?.msn!==void 0?" at sn "+r.msn+" part "+r.part:""}${c&&a.live?" age "+c.toFixed(1)+(a.type&&" "+a.type||""):""} ${s}`),this.hls.trigger(_e.SUBTITLE_TRACK_LOADING,{url:s,id:n,groupId:i,deliveryDirectives:r||null,track:e})}toggleTrackModes(){const{media:e}=this;if(!e)return;const r=H_(e.textTracks),n=this.currentTrack;let i;if(n&&(i=r.filter(s=>VR(n,s))[0],i||this.warn(`Unable to find subtitle TextTrack with name "${n.name}" and language "${n.lang}"`)),[].slice.call(r).forEach(s=>{s.mode!=="disabled"&&s!==i&&(s.mode="disabled")}),i){const s=this.subtitleDisplay?"showing":"hidden";i.mode!==s&&(i.mode=s)}}setSubtitleTrack(e){const r=this.tracksInGroup;if(!this.media){this.queuedDefaultTrack=e;return}if(e<-1||e>=r.length||!kn(e)){this.warn(`Invalid subtitle track id: ${e}`);return}this.selectDefaultTrack=!1;const n=this.currentTrack,i=r[e]||null;if(this.trackId=e,this.currentTrack=i,this.toggleTrackModes(),!i){this.hls.trigger(_e.SUBTITLE_TRACK_SWITCH,{id:e});return}const s=!!i.details&&!i.details.live;if(e===this.trackId&&i===n&&s)return;this.log(`Switching to subtitle-track ${e}`+(i?` "${i.name}" lang:${i.lang} group:${i.groupId}`:""));const{id:a,groupId:c="",name:u,type:o,url:d}=i;this.hls.trigger(_e.SUBTITLE_TRACK_SWITCH,{id:a,groupId:c,name:u,type:o,url:d});const f=this.switchParams(i.url,n?.details,i.details);this.loadPlaylist(f)}}function c$e(){try{return crypto.randomUUID()}catch{try{const e=URL.createObjectURL(new Blob),r=e.toString();return URL.revokeObjectURL(e),r.slice(r.lastIndexOf("/")+1)}catch{let r=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,i=>{const s=(r+Math.random()*16)%16|0;return r=Math.floor(r/16),(i=="x"?s:s&3|8).toString(16)})}}}function Vw(t){let e=5381,r=t.length;for(;r;)e=e*33^t.charCodeAt(--r);return(e>>>0).toString()}const sb=.025;let Bj=(function(t){return t[t.Point=0]="Point",t[t.Range=1]="Range",t})({});function u$e(t,e,r){return`${t.identifier}-${r+1}-${Vw(e)}`}class d$e{constructor(e,r){this.base=void 0,this._duration=null,this._timelineStart=null,this.appendInPlaceDisabled=void 0,this.appendInPlaceStarted=void 0,this.dateRange=void 0,this.hasPlayed=!1,this.cumulativeDuration=0,this.resumeOffset=NaN,this.playoutLimit=NaN,this.restrictions={skip:!1,jump:!1},this.snapOptions={out:!1,in:!1},this.assetList=[],this.assetListLoader=void 0,this.assetListResponse=null,this.resumeAnchor=void 0,this.error=void 0,this.resetOnResume=void 0,this.base=r,this.dateRange=e,this.setDateRange(e)}setDateRange(e){this.dateRange=e,this.resumeOffset=e.attr.optionalFloat("X-RESUME-OFFSET",this.resumeOffset),this.playoutLimit=e.attr.optionalFloat("X-PLAYOUT-LIMIT",this.playoutLimit),this.restrictions=e.attr.enumeratedStringList("X-RESTRICT",this.restrictions),this.snapOptions=e.attr.enumeratedStringList("X-SNAP",this.snapOptions)}reset(){var e;this.appendInPlaceStarted=!1,(e=this.assetListLoader)==null||e.destroy(),this.assetListLoader=void 0,this.supplementsPrimary||(this.assetListResponse=null,this.assetList=[],this._duration=null)}isAssetPastPlayoutLimit(e){var r;if(e>0&&e>=this.assetList.length)return!0;const n=this.playoutLimit;return e<=0||isNaN(n)?!1:n===0?!0:(((r=this.assetList[e])==null?void 0:r.startOffset)||0)>n}findAssetIndex(e){return this.assetList.indexOf(e)}get identifier(){return this.dateRange.id}get startDate(){return this.dateRange.startDate}get startTime(){const e=this.dateRange.startTime;if(this.snapOptions.out){const r=this.dateRange.tagAnchor;if(r)return oL(e,r)}return e}get startOffset(){return this.cue.pre?0:this.startTime}get startIsAligned(){if(this.startTime===0||this.snapOptions.out)return!0;const e=this.dateRange.tagAnchor;if(e){const r=this.dateRange.startTime,n=oL(r,e);return r-n<.1}return!1}get resumptionOffset(){const e=this.resumeOffset,r=kn(e)?e:this.duration;return this.cumulativeDuration+r}get resumeTime(){const e=this.startOffset+this.resumptionOffset;if(this.snapOptions.in){const r=this.resumeAnchor;if(r)return oL(e,r)}return e}get appendInPlace(){return this.appendInPlaceStarted?!0:this.appendInPlaceDisabled?!1:!!(!this.cue.once&&!this.cue.pre&&this.startIsAligned&&(isNaN(this.playoutLimit)&&isNaN(this.resumeOffset)||this.resumeOffset&&this.duration&&Math.abs(this.resumeOffset-this.duration)<sb))}set appendInPlace(e){if(this.appendInPlaceStarted){this.resetOnResume=!e;return}this.appendInPlaceDisabled=!e}get timelineStart(){return this._timelineStart!==null?this._timelineStart:this.startTime}set timelineStart(e){this._timelineStart=e}get duration(){const e=this.playoutLimit;let r;return this._duration!==null?r=this._duration:this.dateRange.duration?r=this.dateRange.duration:r=this.dateRange.plannedDuration||0,!isNaN(e)&&e<r&&(r=e),r}set duration(e){this._duration=e}get cue(){return this.dateRange.cue}get timelineOccupancy(){return this.dateRange.attr["X-TIMELINE-OCCUPIES"]==="RANGE"?Bj.Range:Bj.Point}get supplementsPrimary(){return this.dateRange.attr["X-TIMELINE-STYLE"]==="PRIMARY"}get contentMayVary(){return this.dateRange.attr["X-CONTENT-MAY-VARY"]!=="NO"}get assetUrl(){return this.dateRange.attr["X-ASSET-URI"]}get assetListUrl(){return this.dateRange.attr["X-ASSET-LIST"]}get baseUrl(){return this.base.url}get assetListLoaded(){return this.assetList.length>0||this.assetListResponse!==null}toString(){return h$e(this)}}function oL(t,e){return t-e.start<e.duration/2&&!(Math.abs(t-(e.start+e.duration))<sb)?e.start:e.start+e.duration}function Eie(t,e,r){const n=new self.URL(t,r);return n.protocol!=="data:"&&n.searchParams.set("_HLS_primary_id",e),n}function lL(t,e){for(;(r=t.assetList[++e])!=null&&r.error;)var r;return e}function h$e(t){return`["${t.identifier}" ${t.cue.pre?"<pre>":t.cue.post?"<post>":""}${t.timelineStart.toFixed(2)}-${t.resumeTime.toFixed(2)}]`}function dx(t){const e=t.timelineStart,r=t.duration||0;return`["${t.identifier}" ${e.toFixed(2)}-${(e+r).toFixed(2)}]`}class f$e{constructor(e,r,n,i){this.hls=void 0,this.interstitial=void 0,this.assetItem=void 0,this.tracks=null,this.hasDetails=!1,this.mediaAttached=null,this._currentTime=void 0,this._bufferedEosTime=void 0,this.checkPlayout=()=>{this.reachedPlayout(this.currentTime)&&this.hls&&this.hls.trigger(_e.PLAYOUT_LIMIT_REACHED,{})};const s=this.hls=new e(r);this.interstitial=n,this.assetItem=i;const a=()=>{this.hasDetails=!0};s.once(_e.LEVEL_LOADED,a),s.once(_e.AUDIO_TRACK_LOADED,a),s.once(_e.SUBTITLE_TRACK_LOADED,a),s.on(_e.MEDIA_ATTACHING,(c,{media:u})=>{this.removeMediaListeners(),this.mediaAttached=u,this.interstitial.playoutLimit&&(u.addEventListener("timeupdate",this.checkPlayout),this.appendInPlace&&s.on(_e.BUFFER_APPENDED,()=>{const d=this.bufferedEnd;this.reachedPlayout(d)&&(this._bufferedEosTime=d,s.trigger(_e.BUFFERED_TO_END,void 0))}))})}get appendInPlace(){return this.interstitial.appendInPlace}loadSource(){const e=this.hls;if(e)if(e.url)e.levels.length&&!e.started&&e.startLoad(-1,!0);else{let r=this.assetItem.uri;try{r=Eie(r,e.config.primarySessionId||"").href}catch{}e.loadSource(r)}}bufferedInPlaceToEnd(e){var r;if(!this.appendInPlace)return!1;if((r=this.hls)!=null&&r.bufferedToEnd)return!0;if(!e)return!1;const n=Math.min(this._bufferedEosTime||1/0,this.duration),i=this.timelineOffset,s=hs.bufferInfo(e,i,0);return this.getAssetTime(s.end)>=n-.02}reachedPlayout(e){const n=this.interstitial.playoutLimit;return this.startOffset+e>=n}get destroyed(){var e;return!((e=this.hls)!=null&&e.userConfig)}get assetId(){return this.assetItem.identifier}get interstitialId(){return this.assetItem.parentIdentifier}get media(){var e;return((e=this.hls)==null?void 0:e.media)||null}get bufferedEnd(){const e=this.media||this.mediaAttached;if(!e)return this._bufferedEosTime?this._bufferedEosTime:this.currentTime;const r=hs.bufferInfo(e,e.currentTime,.001);return this.getAssetTime(r.end)}get currentTime(){const e=this.media||this.mediaAttached;return e?this.getAssetTime(e.currentTime):this._currentTime||0}get duration(){const e=this.assetItem.duration;if(!e)return 0;const r=this.interstitial.playoutLimit;if(r){const n=r-this.startOffset;if(n>0&&n<e)return n}return e}get remaining(){const e=this.duration;return e?Math.max(0,e-this.currentTime):0}get startOffset(){return this.assetItem.startOffset}get timelineOffset(){var e;return((e=this.hls)==null?void 0:e.config.timelineOffset)||0}set timelineOffset(e){const r=this.timelineOffset;if(e!==r){const n=e-r;if(Math.abs(n)>1/9e4&&this.hls){if(this.hasDetails)throw new Error("Cannot set timelineOffset after playlists are loaded");this.hls.config.timelineOffset=e}}}getAssetTime(e){const r=this.timelineOffset,n=this.duration;return Math.min(Math.max(0,e-r),n)}removeMediaListeners(){const e=this.mediaAttached;e&&(this._currentTime=e.currentTime,this.bufferSnapShot(),e.removeEventListener("timeupdate",this.checkPlayout))}bufferSnapShot(){if(this.mediaAttached){var e;(e=this.hls)!=null&&e.bufferedToEnd&&(this._bufferedEosTime=this.bufferedEnd)}}destroy(){this.removeMediaListeners(),this.hls&&this.hls.destroy(),this.hls=null,this.tracks=this.mediaAttached=this.checkPlayout=null}attachMedia(e){var r;this.loadSource(),(r=this.hls)==null||r.attachMedia(e)}detachMedia(){var e;this.removeMediaListeners(),this.mediaAttached=null,(e=this.hls)==null||e.detachMedia()}resumeBuffering(){var e;(e=this.hls)==null||e.resumeBuffering()}pauseBuffering(){var e;(e=this.hls)==null||e.pauseBuffering()}transferMedia(){var e;return this.bufferSnapShot(),((e=this.hls)==null?void 0:e.transferMedia())||null}resetDetails(){const e=this.hls;if(e&&this.hasDetails){e.stopLoad();const r=n=>delete n.details;e.levels.forEach(r),e.allAudioTracks.forEach(r),e.allSubtitleTracks.forEach(r),this.hasDetails=!1}}on(e,r,n){var i;(i=this.hls)==null||i.on(e,r)}once(e,r,n){var i;(i=this.hls)==null||i.once(e,r)}off(e,r,n){var i;(i=this.hls)==null||i.off(e,r)}toString(){var e;return`HlsAssetPlayer: ${dx(this.assetItem)} ${(e=this.hls)==null?void 0:e.sessionId} ${this.appendInPlace?"append-in-place":""}`}}const kG=.033;class A$e extends Gf{constructor(e,r){super("interstitials-sched",r),this.onScheduleUpdate=void 0,this.eventMap={},this.events=null,this.items=null,this.durations={primary:0,playout:0,integrated:0},this.onScheduleUpdate=e}destroy(){this.reset(),this.onScheduleUpdate=null}reset(){this.eventMap={},this.setDurations(0,0,0),this.events&&this.events.forEach(e=>e.reset()),this.events=this.items=null}resetErrorsInRange(e,r){return this.events?this.events.reduce((n,i)=>e<=i.startOffset&&r>i.startOffset?(delete i.error,n+1):n,0):0}get duration(){const e=this.items;return e?e[e.length-1].end:0}get length(){return this.items?this.items.length:0}getEvent(e){return e&&this.eventMap[e]||null}hasEvent(e){return e in this.eventMap}findItemIndex(e,r){if(e.event)return this.findEventIndex(e.event.identifier);let n=-1;e.nextEvent?n=this.findEventIndex(e.nextEvent.identifier)-1:e.previousEvent&&(n=this.findEventIndex(e.previousEvent.identifier)+1);const i=this.items;if(i)for(i[n]||(r===void 0&&(r=e.start),n=this.findItemIndexAtTime(r));n>=0&&(s=i[n])!=null&&s.event;){var s;n--}return n}findItemIndexAtTime(e,r){const n=this.items;if(n)for(let i=0;i<n.length;i++){let s=n[i];if(r&&r!=="primary"&&(s=s[r]),e===s.start||e>s.start&&e<s.end)return i}return-1}findJumpRestrictedIndex(e,r){const n=this.items;if(n)for(let i=e;i<=r&&n[i];i++){const s=n[i].event;if(s!=null&&s.restrictions.jump&&!s.appendInPlace)return i}return-1}findEventIndex(e){const r=this.items;if(r)for(let i=r.length;i--;){var n;if(((n=r[i].event)==null?void 0:n.identifier)===e)return i}return-1}findAssetIndex(e,r){const n=e.assetList,i=n.length;if(i>1)for(let s=0;s<i;s++){const a=n[s];if(!a.error){const c=a.timelineStart;if(r===c||r>c&&(r<c+(a.duration||0)||s===i-1))return s}}return 0}get assetIdAtEnd(){var e;const r=(e=this.items)==null||(e=e[this.length-1])==null?void 0:e.event;if(r){const n=r.assetList,i=n[n.length-1];if(i)return i.identifier}return null}parseInterstitialDateRanges(e,r){const n=e.main.details,{dateRanges:i}=n,s=this.events,a=this.parseDateRanges(i,{url:n.url},r),c=Object.keys(i),u=s?s.filter(o=>!c.includes(o.identifier)):[];a.length&&a.sort((o,d)=>{const f=o.cue.pre,A=o.cue.post,p=d.cue.pre,g=d.cue.post;if(f&&!p)return-1;if(p&&!f||A&&!g)return 1;if(g&&!A)return-1;if(!f&&!p&&!A&&!g){const y=o.startTime,v=d.startTime;if(y!==v)return y-v}return o.dateRange.tagOrder-d.dateRange.tagOrder}),this.events=a,u.forEach(o=>{this.removeEvent(o)}),this.updateSchedule(e,u)}updateSchedule(e,r=[],n=!1){const i=this.events||[];if(i.length||r.length||this.length<2){const s=this.items,a=this.parseSchedule(i,e);(n||r.length||s?.length!==a.length||a.some((u,o)=>Math.abs(u.playout.start-s[o].playout.start)>.005||Math.abs(u.playout.end-s[o].playout.end)>.005))&&(this.items=a,this.onScheduleUpdate(r,s))}}parseDateRanges(e,r,n){const i=[],s=Object.keys(e);for(let a=0;a<s.length;a++){const c=s[a],u=e[c];if(u.isInterstitial){let o=this.eventMap[c];o?o.setDateRange(u):(o=new d$e(u,r),this.eventMap[c]=o,n===!1&&(o.appendInPlace=n)),i.push(o)}}return i}parseSchedule(e,r){const n=[],i=r.main.details,s=i.live?1/0:i.edge;let a=0;if(e=e.filter(u=>!u.error&&!(u.cue.once&&u.hasPlayed)),e.length){this.resolveOffsets(e,r);let u=0,o=0;if(e.forEach((d,f)=>{const A=d.cue.pre,p=d.cue.post,g=e[f-1]||null,y=d.appendInPlace,v=p?s:d.startOffset,b=d.duration,w=d.timelineOccupancy===Bj.Range?b:0,S=d.resumptionOffset,_=g?.startTime===v,T=v+d.cumulativeDuration;let L=y?T+b:v+S;if(A||!p&&v<=0){const V=o;o+=w,d.timelineStart=T;const G=a;a+=b,n.push({event:d,start:T,end:L,playout:{start:G,end:a},integrated:{start:V,end:o}})}else if(v<=s){if(!_){const J=v-u;if(J>kG){const ee=u,ue=o;o+=J;const pe=a;a+=J;const ge={previousEvent:e[f-1]||null,nextEvent:d,start:ee,end:ee+J,playout:{start:pe,end:a},integrated:{start:ue,end:o}};n.push(ge)}else J>0&&g&&(g.cumulativeDuration+=J,n[n.length-1].end=v)}p&&(L=T),d.timelineStart=T;const V=o;o+=w;const G=a;a+=b,n.push({event:d,start:T,end:L,playout:{start:G,end:a},integrated:{start:V,end:o}})}else return;const D=d.resumeTime;p||D>s?u=s:u=D}),u<s){var c;const d=u,f=o,A=s-u;o+=A;const p=a;a+=A,n.push({previousEvent:((c=n[n.length-1])==null?void 0:c.event)||null,nextEvent:null,start:u,end:d+A,playout:{start:p,end:a},integrated:{start:f,end:o}})}this.setDurations(s,a,o)}else n.push({previousEvent:null,nextEvent:null,start:0,end:s,playout:{start:0,end:s},integrated:{start:0,end:s}}),this.setDurations(s,s,s);return n}setDurations(e,r,n){this.durations={primary:e,playout:r,integrated:n}}resolveOffsets(e,r){const n=r.main.details,i=n.live?1/0:n.edge;let s=0,a=-1;e.forEach((c,u)=>{const o=c.cue.pre,d=c.cue.post,f=o?0:d?i:c.startTime;this.updateAssetDurations(c),a===f?c.cumulativeDuration=s:(s=0,a=f),!d&&c.snapOptions.in&&(c.resumeAnchor=ly(null,n.fragments,c.startOffset+c.resumptionOffset,0,0)||void 0),c.appendInPlace&&!c.appendInPlaceStarted&&(this.primaryCanResumeInPlaceAt(c,r)||(c.appendInPlace=!1)),!c.appendInPlace&&u+1<e.length&&e[u+1].startTime-e[u].resumeTime<kG&&(e[u+1].appendInPlace=!1,e[u+1].appendInPlace&&this.warn(`Could not change append strategy for abutting event ${c}`));const p=kn(c.resumeOffset)?c.resumeOffset:c.duration;s+=p})}primaryCanResumeInPlaceAt(e,r){const n=e.resumeTime,i=e.startTime+e.resumptionOffset;return Math.abs(n-i)>sb?(this.log(`"${e.identifier}" resumption ${n} not aligned with estimated timeline end ${i}`),!1):!Object.keys(r).some(a=>{const c=r[a].details,u=c.edge;if(n>=u)return this.log(`"${e.identifier}" resumption ${n} past ${a} playlist end ${u}`),!1;const o=ly(null,c.fragments,n);if(!o)return this.log(`"${e.identifier}" resumption ${n} does not align with any fragments in ${a} playlist (${c.fragStart}-${c.fragmentEnd})`),!0;const d=a==="audio"?.175:0;return Math.abs(o.start-n)<sb+d||Math.abs(o.end-n)<sb+d?!1:(this.log(`"${e.identifier}" resumption ${n} not aligned with ${a} fragment bounds (${o.start}-${o.end} sn: ${o.sn} cc: ${o.cc})`),!0)})}updateAssetDurations(e){if(!e.assetListLoaded)return;const r=e.timelineStart;let n=0,i=!1,s=!1;for(let a=0;a<e.assetList.length;a++){const c=e.assetList[a],u=r+n;c.startOffset=n,c.timelineStart=u,i||(i=c.duration===null),s||(s=!!c.error);const o=c.error?0:c.duration||0;n+=o}i&&!s?e.duration=Math.max(n,e.duration):e.duration=n}removeEvent(e){e.reset(),delete this.eventMap[e.identifier]}}function lA(t){return`[${t.event?'"'+t.event.identifier+'"':"primary"}: ${t.start.toFixed(2)}-${t.end.toFixed(2)}]`}class m$e{constructor(e){this.hls=void 0,this.hls=e}destroy(){this.hls=null}loadAssetList(e,r){const n=e.assetListUrl;let i;try{i=Eie(n,this.hls.sessionId,e.baseUrl)}catch(A){const p=this.assignAssetListError(e,ar.ASSET_LIST_LOAD_ERROR,A,n);this.hls.trigger(_e.ERROR,p);return}r&&i.protocol!=="data:"&&i.searchParams.set("_HLS_start_offset",""+r);const s=this.hls.config,a=s.loader,c=new a(s),u={responseType:"json",url:i.href},o=s.interstitialAssetListLoadPolicy.default,d={loadPolicy:o,timeout:o.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},f={onSuccess:(A,p,g,y)=>{const v=A.data,b=v?.ASSETS;if(!Array.isArray(b)){const w=this.assignAssetListError(e,ar.ASSET_LIST_PARSING_ERROR,new Error("Invalid interstitial asset list"),g.url,p,y);this.hls.trigger(_e.ERROR,w);return}e.assetListResponse=v,this.hls.trigger(_e.ASSET_LIST_LOADED,{event:e,assetListResponse:v,networkDetails:y})},onError:(A,p,g,y)=>{const v=this.assignAssetListError(e,ar.ASSET_LIST_LOAD_ERROR,new Error(`Error loading X-ASSET-LIST: HTTP status ${A.code} ${A.text} (${p.url})`),p.url,y,g);this.hls.trigger(_e.ERROR,v)},onTimeout:(A,p,g)=>{const y=this.assignAssetListError(e,ar.ASSET_LIST_LOAD_TIMEOUT,new Error(`Timeout loading X-ASSET-LIST (${p.url})`),p.url,A,g);this.hls.trigger(_e.ERROR,y)}};return c.load(u,d,f),this.hls.trigger(_e.ASSET_LIST_LOADING,{event:e}),c}assignAssetListError(e,r,n,i,s,a){return e.error=n,{type:Ai.NETWORK_ERROR,details:r,fatal:!1,interstitial:e,url:i,error:n,networkDetails:a,stats:s}}}function BG(t){var e;t==null||(e=t.play())==null||e.catch(()=>{})}function qS(t,e){return`[${t}] Advancing timeline position to ${e}`}class p$e extends Gf{constructor(e,r){super("interstitials",e.logger),this.HlsPlayerClass=void 0,this.hls=void 0,this.assetListLoader=void 0,this.mediaSelection=null,this.altSelection=null,this.media=null,this.detachedData=null,this.requiredTracks=null,this.manager=null,this.playerQueue=[],this.bufferedPos=-1,this.timelinePos=-1,this.schedule=void 0,this.playingItem=null,this.bufferingItem=null,this.waitingItem=null,this.endedItem=null,this.playingAsset=null,this.endedAsset=null,this.bufferingAsset=null,this.shouldPlay=!1,this.onPlay=()=>{this.shouldPlay=!0},this.onPause=()=>{this.shouldPlay=!1},this.onSeeking=()=>{const n=this.currentTime;if(n===void 0||this.playbackDisabled||!this.schedule)return;const i=n-this.timelinePos;if(Math.abs(i)<1/7056e5)return;const a=i<=-.01;this.timelinePos=n,this.bufferedPos=n;const c=this.playingItem;if(!c){this.checkBuffer();return}if(a&&this.schedule.resetErrorsInRange(n,n-i)&&this.updateSchedule(!0),this.checkBuffer(),a&&n<c.start||n>=c.end){var u;const p=this.findItemIndex(c);let g=this.schedule.findItemIndexAtTime(n);if(g===-1&&(g=p+(a?-1:1),this.log(`seeked ${a?"back ":""}to position not covered by schedule ${n} (resolving from ${p} to ${g})`)),!this.isInterstitial(c)&&(u=this.media)!=null&&u.paused&&(this.shouldPlay=!1),!a&&g>p){const y=this.schedule.findJumpRestrictedIndex(p+1,g);if(y>p){this.setSchedulePosition(y);return}}this.setSchedulePosition(g);return}const o=this.playingAsset;if(!o){if(this.playingLastItem&&this.isInterstitial(c)){const p=c.event.assetList[0];p&&(this.endedItem=this.playingItem,this.playingItem=null,this.setScheduleToAssetAtTime(n,p))}return}const d=o.timelineStart,f=o.duration||0;if(a&&n<d||n>=d+f){var A;(A=c.event)!=null&&A.appendInPlace&&(this.clearAssetPlayers(c.event,c),this.flushFrontBuffer(n)),this.setScheduleToAssetAtTime(n,o)}},this.onTimeupdate=()=>{const n=this.currentTime;if(n===void 0||this.playbackDisabled)return;if(n>this.timelinePos)this.timelinePos=n,n>this.bufferedPos&&this.checkBuffer();else return;const i=this.playingItem;if(!i||this.playingLastItem)return;if(n>=i.end){this.timelinePos=i.end;const c=this.findItemIndex(i);this.setSchedulePosition(c+1)}const s=this.playingAsset;if(!s)return;const a=s.timelineStart+(s.duration||0);n>=a&&this.setScheduleToAssetAtTime(n,s)},this.onScheduleUpdate=(n,i)=>{const s=this.schedule;if(!s)return;const a=this.playingItem,c=s.events||[],u=s.items||[],o=s.durations,d=n.map(y=>y.identifier),f=!!(c.length||d.length);(f||i)&&this.log(`INTERSTITIALS_UPDATED (${c.length}): ${c}
Schedule: ${u.map(y=>lA(y))} pos: ${this.timelinePos}`),d.length&&this.log(`Removed events ${d}`);let A=null,p=null;a&&(A=this.updateItem(a,this.timelinePos),this.itemsMatch(a,A)?this.playingItem=A:this.waitingItem=this.endedItem=null),this.waitingItem=this.updateItem(this.waitingItem),this.endedItem=this.updateItem(this.endedItem);const g=this.bufferingItem;if(g&&(p=this.updateItem(g,this.bufferedPos),this.itemsMatch(g,p)?this.bufferingItem=p:g.event&&(this.bufferingItem=this.playingItem,this.clearInterstitial(g.event,null))),n.forEach(y=>{y.assetList.forEach(v=>{this.clearAssetPlayer(v.identifier,null)})}),this.playerQueue.forEach(y=>{if(y.interstitial.appendInPlace){const v=y.assetItem.timelineStart,b=y.timelineOffset-v;if(b)try{y.timelineOffset=v}catch(w){Math.abs(b)>sb&&this.warn(`${w} ("${y.assetId}" ${y.timelineOffset}->${v})`)}}}),f||i){if(this.hls.trigger(_e.INTERSTITIALS_UPDATED,{events:c.slice(0),schedule:u.slice(0),durations:o,removedIds:d}),this.isInterstitial(a)&&d.includes(a.event.identifier)){this.warn(`Interstitial "${a.event.identifier}" removed while playing`),this.primaryFallback(a.event);return}a&&this.trimInPlace(A,a),g&&p!==A&&this.trimInPlace(p,g),this.checkBuffer()}},this.hls=e,this.HlsPlayerClass=r,this.assetListLoader=new m$e(e),this.schedule=new A$e(this.onScheduleUpdate,e.logger),this.registerListeners()}registerListeners(){const e=this.hls;e&&(e.on(_e.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(_e.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(_e.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(_e.MANIFEST_LOADING,this.onManifestLoading,this),e.on(_e.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(_e.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(_e.AUDIO_TRACK_UPDATED,this.onAudioTrackUpdated,this),e.on(_e.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.on(_e.SUBTITLE_TRACK_UPDATED,this.onSubtitleTrackUpdated,this),e.on(_e.EVENT_CUE_ENTER,this.onInterstitialCueEnter,this),e.on(_e.ASSET_LIST_LOADED,this.onAssetListLoaded,this),e.on(_e.BUFFER_APPENDED,this.onBufferAppended,this),e.on(_e.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(_e.BUFFERED_TO_END,this.onBufferedToEnd,this),e.on(_e.MEDIA_ENDED,this.onMediaEnded,this),e.on(_e.ERROR,this.onError,this),e.on(_e.DESTROYING,this.onDestroying,this))}unregisterListeners(){const e=this.hls;e&&(e.off(_e.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(_e.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(_e.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(_e.MANIFEST_LOADING,this.onManifestLoading,this),e.off(_e.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(_e.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(_e.AUDIO_TRACK_UPDATED,this.onAudioTrackUpdated,this),e.off(_e.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.off(_e.SUBTITLE_TRACK_UPDATED,this.onSubtitleTrackUpdated,this),e.off(_e.EVENT_CUE_ENTER,this.onInterstitialCueEnter,this),e.off(_e.ASSET_LIST_LOADED,this.onAssetListLoaded,this),e.off(_e.BUFFER_CODECS,this.onBufferCodecs,this),e.off(_e.BUFFER_APPENDED,this.onBufferAppended,this),e.off(_e.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(_e.BUFFERED_TO_END,this.onBufferedToEnd,this),e.off(_e.MEDIA_ENDED,this.onMediaEnded,this),e.off(_e.ERROR,this.onError,this),e.off(_e.DESTROYING,this.onDestroying,this))}startLoad(){this.resumeBuffering()}stopLoad(){this.pauseBuffering()}resumeBuffering(){var e;(e=this.getBufferingPlayer())==null||e.resumeBuffering()}pauseBuffering(){var e;(e=this.getBufferingPlayer())==null||e.pauseBuffering()}destroy(){this.unregisterListeners(),this.stopLoad(),this.assetListLoader&&this.assetListLoader.destroy(),this.emptyPlayerQueue(),this.clearScheduleState(),this.schedule&&this.schedule.destroy(),this.media=this.detachedData=this.mediaSelection=this.requiredTracks=this.altSelection=this.schedule=this.manager=null,this.hls=this.HlsPlayerClass=this.log=null,this.assetListLoader=null,this.onPlay=this.onPause=this.onSeeking=this.onTimeupdate=null,this.onScheduleUpdate=null}onDestroying(){const e=this.primaryMedia||this.media;e&&this.removeMediaListeners(e)}removeMediaListeners(e){jh(e,"play",this.onPlay),jh(e,"pause",this.onPause),jh(e,"seeking",this.onSeeking),jh(e,"timeupdate",this.onTimeupdate)}onMediaAttaching(e,r){const n=this.media=r.media;th(n,"seeking",this.onSeeking),th(n,"timeupdate",this.onTimeupdate),th(n,"play",this.onPlay),th(n,"pause",this.onPause)}onMediaAttached(e,r){const n=this.effectivePlayingItem,i=this.detachedData;if(this.detachedData=null,n===null)this.checkStart();else if(!i){this.clearScheduleState();const s=this.findItemIndex(n);this.setSchedulePosition(s)}}clearScheduleState(){this.log("clear schedule state"),this.playingItem=this.bufferingItem=this.waitingItem=this.endedItem=this.playingAsset=this.endedAsset=this.bufferingAsset=null}onMediaDetaching(e,r){const n=!!r.transferMedia,i=this.media;if(this.media=null,!n&&(i&&this.removeMediaListeners(i),this.detachedData)){const s=this.getBufferingPlayer();s&&(this.log(`Removing schedule state for detachedData and ${s}`),this.playingAsset=this.endedAsset=this.bufferingAsset=this.bufferingItem=this.waitingItem=this.detachedData=null,s.detachMedia()),this.shouldPlay=!1}}get interstitialsManager(){if(!this.hls)return null;if(this.manager)return this.manager;const e=this,r=()=>e.bufferingItem||e.waitingItem,n=f=>f&&e.getAssetPlayer(f.identifier),i=(f,A,p,g,y)=>{if(f){let v=f[A].start;const b=f.event;if(b){if(A==="playout"||b.timelineOccupancy!==Bj.Point){const w=n(p);w?.interstitial===b&&(v+=w.assetItem.startOffset+w[y])}}else{const w=g==="bufferedPos"?a():e[g];v+=w-f.start}return v}return 0},s=(f,A)=>{var p;if(f!==0&&A!=="primary"&&(p=e.schedule)!=null&&p.length){var g;const y=e.schedule.findItemIndexAtTime(f),v=(g=e.schedule.items)==null?void 0:g[y];if(v){const b=v[A].start-v.start;return f+b}}return f},a=()=>{const f=e.bufferedPos;return f===Number.MAX_VALUE?c("primary"):Math.max(f,0)},c=f=>{var A,p;return(A=e.primaryDetails)!=null&&A.live?e.primaryDetails.edge:((p=e.schedule)==null?void 0:p.durations[f])||0},u=(f,A)=>{var p,g;const y=e.effectivePlayingItem;if(y!=null&&(p=y.event)!=null&&p.restrictions.skip||!e.schedule)return;e.log(`seek to ${f} "${A}"`);const v=e.effectivePlayingItem,b=e.schedule.findItemIndexAtTime(f,A),w=(g=e.schedule.items)==null?void 0:g[b],S=e.getBufferingPlayer(),_=S?.interstitial,T=_?.appendInPlace,L=v&&e.itemsMatch(v,w);if(v&&(T||L)){const D=n(e.playingAsset),V=D?.media||e.primaryMedia;if(V){const G=A==="primary"?V.currentTime:i(v,A,e.playingAsset,"timelinePos","currentTime"),J=f-G,ee=(T?G:V.currentTime)+J;if(ee>=0&&(!D||T||ee<=D.duration)){V.currentTime=ee;return}}}if(w){let D=f;if(A!=="primary"){const G=w[A].start,J=f-G;D=w.start+J}const V=!e.isInterstitial(w);if((!e.isInterstitial(v)||v.event.appendInPlace)&&(V||w.event.appendInPlace)){const G=e.media||(T?S?.media:null);G&&(G.currentTime=D)}else if(v){const G=e.findItemIndex(v);if(b>G){const ee=e.schedule.findJumpRestrictedIndex(G+1,b);if(ee>G){e.setSchedulePosition(ee);return}}let J=0;if(V)e.timelinePos=D,e.checkBuffer();else{const ee=w.event.assetList,ue=f-(w[A]||w).start;for(let pe=ee.length;pe--;){const ge=ee[pe];if(ge.duration&&ue>=ge.startOffset&&ue<ge.startOffset+ge.duration){J=pe;break}}}e.setSchedulePosition(b,J)}}},o=()=>{const f=e.effectivePlayingItem;if(e.isInterstitial(f))return f;const A=r();return e.isInterstitial(A)?A:null},d={get bufferedEnd(){const f=r(),A=e.bufferingItem;if(A&&A===f){var p;return i(A,"playout",e.bufferingAsset,"bufferedPos","bufferedEnd")-A.playout.start||((p=e.bufferingAsset)==null?void 0:p.startOffset)||0}return 0},get currentTime(){const f=o(),A=e.effectivePlayingItem;return A&&A===f?i(A,"playout",e.effectivePlayingAsset,"timelinePos","currentTime")-A.playout.start:0},set currentTime(f){const A=o(),p=e.effectivePlayingItem;p&&p===A&&u(f+p.playout.start,"playout")},get duration(){const f=o();return f?f.playout.end-f.playout.start:0},get assetPlayers(){var f;const A=(f=o())==null?void 0:f.event.assetList;return A?A.map(p=>e.getAssetPlayer(p.identifier)):[]},get playingIndex(){var f;const A=(f=o())==null?void 0:f.event;return A&&e.effectivePlayingAsset?A.findAssetIndex(e.effectivePlayingAsset):-1},get scheduleItem(){return o()}};return this.manager={get events(){var f;return((f=e.schedule)==null||(f=f.events)==null?void 0:f.slice(0))||[]},get schedule(){var f;return((f=e.schedule)==null||(f=f.items)==null?void 0:f.slice(0))||[]},get interstitialPlayer(){return o()?d:null},get playerQueue(){return e.playerQueue.slice(0)},get bufferingAsset(){return e.bufferingAsset},get bufferingItem(){return r()},get bufferingIndex(){const f=r();return e.findItemIndex(f)},get playingAsset(){return e.effectivePlayingAsset},get playingItem(){return e.effectivePlayingItem},get playingIndex(){const f=e.effectivePlayingItem;return e.findItemIndex(f)},primary:{get bufferedEnd(){return a()},get currentTime(){const f=e.timelinePos;return f>0?f:0},set currentTime(f){u(f,"primary")},get duration(){return c("primary")},get seekableStart(){var f;return((f=e.primaryDetails)==null?void 0:f.fragmentStart)||0}},integrated:{get bufferedEnd(){return i(r(),"integrated",e.bufferingAsset,"bufferedPos","bufferedEnd")},get currentTime(){return i(e.effectivePlayingItem,"integrated",e.effectivePlayingAsset,"timelinePos","currentTime")},set currentTime(f){u(f,"integrated")},get duration(){return c("integrated")},get seekableStart(){var f;return s(((f=e.primaryDetails)==null?void 0:f.fragmentStart)||0,"integrated")}},skip:()=>{const f=e.effectivePlayingItem,A=f?.event;if(A&&!A.restrictions.skip){const p=e.findItemIndex(f);if(A.appendInPlace){const g=f.playout.start+f.event.duration;u(g+.001,"playout")}else e.advanceAfterAssetEnded(A,p,1/0)}}}}get effectivePlayingItem(){return this.waitingItem||this.playingItem||this.endedItem}get effectivePlayingAsset(){return this.playingAsset||this.endedAsset}get playingLastItem(){var e;const r=this.playingItem,n=(e=this.schedule)==null?void 0:e.items;return!this.playbackStarted||!r||!n?!1:this.findItemIndex(r)===n.length-1}get playbackStarted(){return this.effectivePlayingItem!==null}get currentTime(){var e,r;if(this.mediaSelection===null)return;const n=this.waitingItem||this.playingItem;if(this.isInterstitial(n)&&!n.event.appendInPlace)return;let i=this.media;!i&&(e=this.bufferingItem)!=null&&(e=e.event)!=null&&e.appendInPlace&&(i=this.primaryMedia);const s=(r=i)==null?void 0:r.currentTime;if(!(s===void 0||!kn(s)))return s}get primaryMedia(){var e;return this.media||((e=this.detachedData)==null?void 0:e.media)||null}isInterstitial(e){return!!(e!=null&&e.event)}retreiveMediaSource(e,r){const n=this.getAssetPlayer(e);n&&this.transferMediaFromPlayer(n,r)}transferMediaFromPlayer(e,r){const n=e.interstitial.appendInPlace,i=e.media;if(n&&i===this.primaryMedia){if(this.bufferingAsset=null,(!r||this.isInterstitial(r)&&!r.event.appendInPlace)&&r&&i){this.detachedData={media:i};return}const s=e.transferMedia();this.log(`transfer MediaSource from ${e} ${Mo(s)}`),this.detachedData=s}else r&&i&&(this.shouldPlay||(this.shouldPlay=!i.paused))}transferMediaTo(e,r){var n,i;if(e.media===r)return;let s=null;const a=this.hls,c=e!==a,u=c&&e.interstitial.appendInPlace,o=(n=this.detachedData)==null?void 0:n.mediaSource;let d;if(a.media)u&&(s=a.transferMedia(),this.detachedData=s),d="Primary";else if(o){const g=this.getBufferingPlayer();g?(s=g.transferMedia(),d=`${g}`):d="detached MediaSource"}else d="detached media";if(!s){if(o)s=this.detachedData,this.log(`using detachedData: MediaSource ${Mo(s)}`);else if(!this.detachedData||a.media===r){const g=this.playerQueue;g.length>1&&g.forEach(y=>{if(c&&y.interstitial.appendInPlace!==u){const v=y.interstitial;this.clearInterstitial(y.interstitial,null),v.appendInPlace=!1,v.appendInPlace&&this.warn(`Could not change append strategy for queued assets ${v}`)}}),this.hls.detachMedia(),this.detachedData={media:r}}}const f=s&&"mediaSource"in s&&((i=s.mediaSource)==null?void 0:i.readyState)!=="closed",A=f&&s?s:r;this.log(`${f?"transfering MediaSource":"attaching media"} to ${c?e:"Primary"} from ${d} (media.currentTime: ${r.currentTime})`);const p=this.schedule;if(A===s&&p){const g=c&&e.assetId===p.assetIdAtEnd;A.overrides={duration:p.duration,endOfStream:!c||g,cueRemoval:!c}}e.attachMedia(A)}onInterstitialCueEnter(){this.onTimeupdate()}checkStart(){const e=this.schedule,r=e?.events;if(!r||this.playbackDisabled||!this.media)return;this.bufferedPos===-1&&(this.bufferedPos=0);const n=this.timelinePos,i=this.effectivePlayingItem;if(n===-1){const s=this.hls.startPosition;if(this.log(qS("checkStart",s)),this.timelinePos=s,r.length&&r[0].cue.pre){const a=e.findEventIndex(r[0].identifier);this.setSchedulePosition(a)}else if(s>=0||!this.primaryLive){const a=this.timelinePos=s>0?s:0,c=e.findItemIndexAtTime(a);this.setSchedulePosition(c)}}else if(i&&!this.playingItem){const s=e.findItemIndex(i);this.setSchedulePosition(s)}}advanceAssetBuffering(e,r){const n=e.event,i=n.findAssetIndex(r),s=lL(n,i);if(!n.isAssetPastPlayoutLimit(s))this.bufferedToEvent(e,s);else if(this.schedule){var a;const c=(a=this.schedule.items)==null?void 0:a[this.findItemIndex(e)+1];c&&this.bufferedToItem(c)}}advanceAfterAssetEnded(e,r,n){const i=lL(e,n);if(e.isAssetPastPlayoutLimit(i)){if(this.schedule){const s=this.schedule.items;if(s){const a=r+1,c=s.length;if(a>=c){this.setSchedulePosition(-1);return}const u=e.resumeTime;this.timelinePos<u&&(this.log(qS("advanceAfterAssetEnded",u)),this.timelinePos=u,e.appendInPlace&&this.advanceInPlace(u),this.checkBuffer(this.bufferedPos<u)),this.setSchedulePosition(a)}}}else{if(e.appendInPlace){const s=e.assetList[i];s&&this.advanceInPlace(s.timelineStart)}this.setSchedulePosition(r,i)}}setScheduleToAssetAtTime(e,r){const n=this.schedule;if(!n)return;const i=r.parentIdentifier,s=n.getEvent(i);if(s){const a=n.findEventIndex(i),c=n.findAssetIndex(s,e);this.advanceAfterAssetEnded(s,a,c-1)}}setSchedulePosition(e,r){var n;const i=(n=this.schedule)==null?void 0:n.items;if(!i||this.playbackDisabled)return;const s=e>=0?i[e]:null;this.log(`setSchedulePosition ${e}, ${r} (${s&&lA(s)}) pos: ${this.timelinePos}`);const a=this.waitingItem||this.playingItem,c=this.playingLastItem;if(this.isInterstitial(a)){const d=a.event,f=this.playingAsset,A=f?.identifier,p=A?this.getAssetPlayer(A):null;if(p&&A&&(!this.eventItemsMatch(a,s)||r!==void 0&&A!==d.assetList[r].identifier)){var u;const g=d.findAssetIndex(f);if(this.log(`INTERSTITIAL_ASSET_ENDED ${g+1}/${d.assetList.length} ${dx(f)}`),this.endedAsset=f,this.playingAsset=null,this.hls.trigger(_e.INTERSTITIAL_ASSET_ENDED,{asset:f,assetListIndex:g,event:d,schedule:i.slice(0),scheduleIndex:e,player:p}),a!==this.playingItem){this.itemsMatch(a,this.playingItem)&&!this.playingAsset&&this.advanceAfterAssetEnded(d,this.findItemIndex(this.playingItem),g);return}this.retreiveMediaSource(A,s),p.media&&!((u=this.detachedData)!=null&&u.mediaSource)&&p.detachMedia()}if(!this.eventItemsMatch(a,s)&&(this.endedItem=a,this.playingItem=null,this.log(`INTERSTITIAL_ENDED ${d} ${lA(a)}`),d.hasPlayed=!0,this.hls.trigger(_e.INTERSTITIAL_ENDED,{event:d,schedule:i.slice(0),scheduleIndex:e}),d.cue.once)){var o;this.updateSchedule();const g=(o=this.schedule)==null?void 0:o.items;if(s&&g){const y=this.findItemIndex(s);this.advanceSchedule(y,g,r,a,c)}return}}this.advanceSchedule(e,i,r,a,c)}advanceSchedule(e,r,n,i,s){const a=this.schedule;if(!a)return;const c=r[e]||null,u=this.primaryMedia,o=this.playerQueue;if(o.length&&o.forEach(d=>{const f=d.interstitial,A=a.findEventIndex(f.identifier);(A<e||A>e+1)&&this.clearInterstitial(f,c)}),this.isInterstitial(c)){this.timelinePos=Math.min(Math.max(this.timelinePos,c.start),c.end);const d=c.event;if(n===void 0){n=a.findAssetIndex(d,this.timelinePos);const g=lL(d,n-1);if(d.isAssetPastPlayoutLimit(g)||d.appendInPlace&&this.timelinePos===c.end){this.advanceAfterAssetEnded(d,e,n);return}n=g}const f=this.waitingItem;this.assetsBuffered(c,u)||this.setBufferingItem(c);let A=this.preloadAssets(d,n);if(this.eventItemsMatch(c,f||i)||(this.waitingItem=c,this.log(`INTERSTITIAL_STARTED ${lA(c)} ${d.appendInPlace?"append in place":""}`),this.hls.trigger(_e.INTERSTITIAL_STARTED,{event:d,schedule:r.slice(0),scheduleIndex:e})),!d.assetListLoaded){this.log(`Waiting for ASSET-LIST to complete loading ${d}`);return}if(d.assetListLoader&&(d.assetListLoader.destroy(),d.assetListLoader=void 0),!u){this.log(`Waiting for attachMedia to start Interstitial ${d}`);return}this.waitingItem=this.endedItem=null,this.playingItem=c;const p=d.assetList[n];if(!p){this.advanceAfterAssetEnded(d,e,n||0);return}if(A||(A=this.getAssetPlayer(p.identifier)),A===null||A.destroyed){const g=d.assetList.length;this.warn(`asset ${n+1}/${g} player destroyed ${d}`),A=this.createAssetPlayer(d,p,n),A.loadSource()}if(!this.eventItemsMatch(c,this.bufferingItem)&&d.appendInPlace&&this.isAssetBuffered(p))return;this.startAssetPlayer(A,n,r,e,u),this.shouldPlay&&BG(A.media)}else c?(this.resumePrimary(c,e,i),this.shouldPlay&&BG(this.hls.media)):s&&this.isInterstitial(i)&&(this.endedItem=null,this.playingItem=i,i.event.appendInPlace||this.attachPrimary(a.durations.primary,null))}get playbackDisabled(){return this.hls.config.enableInterstitialPlayback===!1}get primaryDetails(){var e;return(e=this.mediaSelection)==null?void 0:e.main.details}get primaryLive(){var e;return!!((e=this.primaryDetails)!=null&&e.live)}resumePrimary(e,r,n){var i,s;if(this.playingItem=e,this.playingAsset=this.endedAsset=null,this.waitingItem=this.endedItem=null,this.bufferedToItem(e),this.log(`resuming ${lA(e)}`),!((i=this.detachedData)!=null&&i.mediaSource)){let c=this.timelinePos;(c<e.start||c>=e.end)&&(c=this.getPrimaryResumption(e,r),this.log(qS("resumePrimary",c)),this.timelinePos=c),this.attachPrimary(c,e)}if(!n)return;const a=(s=this.schedule)==null?void 0:s.items;a&&(this.log(`INTERSTITIALS_PRIMARY_RESUMED ${lA(e)}`),this.hls.trigger(_e.INTERSTITIALS_PRIMARY_RESUMED,{schedule:a.slice(0),scheduleIndex:r}),this.checkBuffer())}getPrimaryResumption(e,r){const n=e.start;if(this.primaryLive){const i=this.primaryDetails;if(r===0)return this.hls.startPosition;if(i&&(n<i.fragmentStart||n>i.edge))return this.hls.liveSyncPosition||-1}return n}isAssetBuffered(e){const r=this.getAssetPlayer(e.identifier);return r!=null&&r.hls?r.hls.bufferedToEnd:hs.bufferInfo(this.primaryMedia,this.timelinePos,0).end+1>=e.timelineStart+(e.duration||0)}attachPrimary(e,r,n){r?this.setBufferingItem(r):this.bufferingItem=this.playingItem,this.bufferingAsset=null;const i=this.primaryMedia;if(!i)return;const s=this.hls;s.media?this.checkBuffer():(this.transferMediaTo(s,i),n&&this.startLoadingPrimaryAt(e,n)),n||(this.log(qS("attachPrimary",e)),this.timelinePos=e,this.startLoadingPrimaryAt(e,n))}startLoadingPrimaryAt(e,r){var n;const i=this.hls;!i.loadingEnabled||!i.media||Math.abs((((n=i.mainForwardBufferInfo)==null?void 0:n.start)||i.media.currentTime)-e)>.5?i.startLoad(e,r):i.bufferingEnabled||i.resumeBuffering()}onManifestLoading(){var e;this.stopLoad(),(e=this.schedule)==null||e.reset(),this.emptyPlayerQueue(),this.clearScheduleState(),this.shouldPlay=!1,this.bufferedPos=this.timelinePos=-1,this.mediaSelection=this.altSelection=this.manager=this.requiredTracks=null,this.hls.off(_e.BUFFER_CODECS,this.onBufferCodecs,this),this.hls.on(_e.BUFFER_CODECS,this.onBufferCodecs,this)}onLevelUpdated(e,r){if(r.level===-1||!this.schedule)return;const n=this.hls.levels[r.level];if(!n.details)return;const i=io(io({},this.mediaSelection||this.altSelection),{},{main:n});this.mediaSelection=i,this.schedule.parseInterstitialDateRanges(i,this.hls.config.interstitialAppendInPlace),!this.effectivePlayingItem&&this.schedule.items&&this.checkStart()}onAudioTrackUpdated(e,r){const n=this.hls.audioTracks[r.id],i=this.mediaSelection;if(!i){this.altSelection=io(io({},this.altSelection),{},{audio:n});return}const s=io(io({},i),{},{audio:n});this.mediaSelection=s}onSubtitleTrackUpdated(e,r){const n=this.hls.subtitleTracks[r.id],i=this.mediaSelection;if(!i){this.altSelection=io(io({},this.altSelection),{},{subtitles:n});return}const s=io(io({},i),{},{subtitles:n});this.mediaSelection=s}onAudioTrackSwitching(e,r){const n=$K(r);this.playerQueue.forEach(({hls:i})=>i&&(i.setAudioOption(r)||i.setAudioOption(n)))}onSubtitleTrackSwitch(e,r){const n=$K(r);this.playerQueue.forEach(({hls:i})=>i&&(i.setSubtitleOption(r)||r.id!==-1&&i.setSubtitleOption(n)))}onBufferCodecs(e,r){const n=r.tracks;n&&(this.requiredTracks=n)}onBufferAppended(e,r){this.checkBuffer()}onBufferFlushed(e,r){const n=this.playingItem;if(n&&!this.itemsMatch(n,this.bufferingItem)&&!this.isInterstitial(n)){const i=this.timelinePos;this.bufferedPos=i,this.checkBuffer()}}onBufferedToEnd(e){if(!this.schedule)return;const r=this.schedule.events;if(this.bufferedPos<Number.MAX_VALUE&&r){for(let i=0;i<r.length;i++){const s=r[i];if(s.cue.post){var n;const a=this.schedule.findEventIndex(s.identifier),c=(n=this.schedule.items)==null?void 0:n[a];this.isInterstitial(c)&&this.eventItemsMatch(c,this.bufferingItem)&&this.bufferedToItem(c,0);break}}this.bufferedPos=Number.MAX_VALUE}}onMediaEnded(e){const r=this.playingItem;if(!this.playingLastItem&&r){const n=this.findItemIndex(r);this.setSchedulePosition(n+1)}else this.shouldPlay=!1}updateItem(e,r){var n;const i=(n=this.schedule)==null?void 0:n.items;if(e&&i){const s=this.findItemIndex(e,r);return i[s]||null}return null}trimInPlace(e,r){if(this.isInterstitial(e)&&e.event.appendInPlace&&r.end-e.end>.25){e.event.assetList.forEach((s,a)=>{e.event.isAssetPastPlayoutLimit(a)&&this.clearAssetPlayer(s.identifier,null)});const n=e.end+.25,i=hs.bufferInfo(this.primaryMedia,n,0);(i.end>n||(i.nextStart||0)>n)&&(this.log(`trim buffered interstitial ${lA(e)} (was ${lA(r)})`),this.attachPrimary(n,null,!0),this.flushFrontBuffer(n))}}itemsMatch(e,r){return!!r&&(e===r||e.event&&r.event&&this.eventItemsMatch(e,r)||!e.event&&!r.event&&this.findItemIndex(e)===this.findItemIndex(r))}eventItemsMatch(e,r){var n;return!!r&&(e===r||e.event.identifier===((n=r.event)==null?void 0:n.identifier))}findItemIndex(e,r){return e&&this.schedule?this.schedule.findItemIndex(e,r):-1}updateSchedule(e=!1){var r;const n=this.mediaSelection;n&&((r=this.schedule)==null||r.updateSchedule(n,[],e))}checkBuffer(e){var r;const n=(r=this.schedule)==null?void 0:r.items;if(!n)return;const i=hs.bufferInfo(this.primaryMedia,this.timelinePos,0);e&&(this.bufferedPos=this.timelinePos),e||(e=i.len<1),this.updateBufferedPos(i.end,n,e)}updateBufferedPos(e,r,n){const i=this.schedule,s=this.bufferingItem;if(this.bufferedPos>e||!i)return;if(r.length===1&&this.itemsMatch(r[0],s)){this.bufferedPos=e;return}const a=this.playingItem,c=this.findItemIndex(a);let u=i.findItemIndexAtTime(e);if(this.bufferedPos<e){var o;const d=this.findItemIndex(s),f=Math.min(d+1,r.length-1),A=r[f];if((u===-1&&s&&e>=s.end||(o=A.event)!=null&&o.appendInPlace&&e+.01>=A.start)&&(u=f),this.isInterstitial(s)){const p=s.event;if(f-c>1&&p.appendInPlace===!1||p.assetList.length===0&&p.assetListLoader)return}if(this.bufferedPos=e,u>d&&u>c)this.bufferedToItem(A);else{const p=this.primaryDetails;this.primaryLive&&p&&e>p.edge-p.targetduration&&A.start<p.edge+this.hls.config.interstitialLiveLookAhead&&this.isInterstitial(A)&&this.preloadAssets(A.event,0)}}else n&&a&&!this.itemsMatch(a,s)&&(u===c?this.bufferedToItem(a):u===c+1&&this.bufferedToItem(r[u]))}assetsBuffered(e,r){return e.event.assetList.length===0?!1:!e.event.assetList.some(i=>{const s=this.getAssetPlayer(i.identifier);return!(s!=null&&s.bufferedInPlaceToEnd(r))})}setBufferingItem(e){const r=this.bufferingItem,n=this.schedule;if(!this.itemsMatch(e,r)&&n){const{items:i,events:s}=n;if(!i||!s)return r;const a=this.isInterstitial(e),c=this.getBufferingPlayer();this.bufferingItem=e,this.bufferedPos=Math.max(e.start,Math.min(e.end,this.timelinePos));const u=c?c.remaining:r?r.end-this.timelinePos:0;if(this.log(`INTERSTITIALS_BUFFERED_TO_BOUNDARY ${lA(e)}`+(r?` (${u.toFixed(2)} remaining)`:"")),!this.playbackDisabled)if(a){const o=n.findAssetIndex(e.event,this.bufferedPos);e.event.assetList.forEach((d,f)=>{const A=this.getAssetPlayer(d.identifier);A&&(f===o&&A.loadSource(),A.resumeBuffering())})}else this.hls.resumeBuffering(),this.playerQueue.forEach(o=>o.pauseBuffering());this.hls.trigger(_e.INTERSTITIALS_BUFFERED_TO_BOUNDARY,{events:s.slice(0),schedule:i.slice(0),bufferingIndex:this.findItemIndex(e),playingIndex:this.findItemIndex(this.playingItem)})}else this.bufferingItem!==e&&(this.bufferingItem=e);return r}bufferedToItem(e,r=0){const n=this.setBufferingItem(e);if(!this.playbackDisabled){if(this.isInterstitial(e))this.bufferedToEvent(e,r);else if(n!==null){this.bufferingAsset=null;const i=this.detachedData;i?i.mediaSource?this.attachPrimary(e.start,e,!0):this.preloadPrimary(e):this.preloadPrimary(e)}}}preloadPrimary(e){const r=this.findItemIndex(e),n=this.getPrimaryResumption(e,r);this.startLoadingPrimaryAt(n)}bufferedToEvent(e,r){const n=e.event,i=n.assetList.length===0&&!n.assetListLoader,s=n.cue.once;if(i||!s){const a=this.preloadAssets(n,r);if(a!=null&&a.interstitial.appendInPlace){const c=this.primaryMedia;c&&this.bufferAssetPlayer(a,c)}}}preloadAssets(e,r){const n=e.assetUrl,i=e.assetList.length,s=i===0&&!e.assetListLoader,a=e.cue.once;if(s){const u=e.timelineStart;if(e.appendInPlace){var c;const A=this.playingItem;!this.isInterstitial(A)&&(A==null||(c=A.nextEvent)==null?void 0:c.identifier)===e.identifier&&this.flushFrontBuffer(u+.25)}let o,d=0;if(!this.playingItem&&this.primaryLive&&(d=this.hls.startPosition,d===-1&&(d=this.hls.liveSyncPosition||0)),d&&!(e.cue.pre||e.cue.post)){const A=d-u;A>0&&(o=Math.round(A*1e3)/1e3)}if(this.log(`Load interstitial asset ${r+1}/${n?1:i} ${e}${o?` live-start: ${d} start-offset: ${o}`:""}`),n)return this.createAsset(e,0,0,u,e.duration,n);const f=this.assetListLoader.loadAssetList(e,o);f&&(e.assetListLoader=f)}else if(!a&&i){for(let o=r;o<i;o++){const d=e.assetList[o],f=this.getAssetPlayerQueueIndex(d.identifier);(f===-1||this.playerQueue[f].destroyed)&&!d.error&&this.createAssetPlayer(e,d,o)}const u=e.assetList[r];if(u){const o=this.getAssetPlayer(u.identifier);return o&&o.loadSource(),o}}return null}flushFrontBuffer(e){const r=this.requiredTracks;if(!r)return;this.log(`Removing front buffer starting at ${e}`),Object.keys(r).forEach(i=>{this.hls.trigger(_e.BUFFER_FLUSHING,{startOffset:e,endOffset:1/0,type:i})})}getAssetPlayerQueueIndex(e){const r=this.playerQueue;for(let n=0;n<r.length;n++)if(e===r[n].assetId)return n;return-1}getAssetPlayer(e){const r=this.getAssetPlayerQueueIndex(e);return this.playerQueue[r]||null}getBufferingPlayer(){const{playerQueue:e,primaryMedia:r}=this;if(r){for(let n=0;n<e.length;n++)if(e[n].media===r)return e[n]}return null}createAsset(e,r,n,i,s,a){const c={parentIdentifier:e.identifier,identifier:u$e(e,a,r),duration:s,startOffset:n,timelineStart:i,uri:a};return this.createAssetPlayer(e,c,r)}createAssetPlayer(e,r,n){const i=this.hls,s=i.userConfig;let a=s.videoPreference;const c=i.loadLevelObj||i.levels[i.currentLevel];(a||c)&&(a=So({},a),c.videoCodec&&(a.videoCodec=c.videoCodec),c.videoRange&&(a.allowedVideoRanges=[c.videoRange]));const u=i.audioTracks[i.audioTrack],o=i.subtitleTracks[i.subtitleTrack];let d=0;if(this.primaryLive||e.appendInPlace){const _=this.timelinePos-r.timelineStart;if(_>1){const T=r.duration;T&&_<T&&(d=_)}}const f=r.identifier,A=io(io({},s),{},{maxMaxBufferLength:Math.min(180,i.config.maxMaxBufferLength),autoStartLoad:!0,startFragPrefetch:!0,primarySessionId:i.sessionId,assetPlayerId:f,abrEwmaDefaultEstimate:i.bandwidthEstimate,interstitialsController:void 0,startPosition:d,liveDurationInfinity:!1,testBandwidth:!1,videoPreference:a,audioPreference:u||s.audioPreference,subtitlePreference:o||s.subtitlePreference});e.appendInPlace&&(e.appendInPlaceStarted=!0,r.timelineStart&&(A.timelineOffset=r.timelineStart));const p=A.cmcd;p!=null&&p.sessionId&&p.contentId&&(A.cmcd=So({},p,{contentId:Vw(r.uri)})),this.getAssetPlayer(f)&&this.warn(`Duplicate date range identifier ${e} and asset ${f}`);const g=new f$e(this.HlsPlayerClass,A,e,r);this.playerQueue.push(g),e.assetList[n]=r;let y=!0;const v=_=>{if(_.live){var T;const V=new Error(`Interstitials MUST be VOD assets ${e}`),G={fatal:!0,type:Ai.OTHER_ERROR,details:ar.INTERSTITIAL_ASSET_ITEM_ERROR,error:V},J=((T=this.schedule)==null?void 0:T.findEventIndex(e.identifier))||-1;this.handleAssetItemError(G,e,J,n,V.message);return}const L=_.edge-_.fragmentStart,D=r.duration;(y||D===null||L>D)&&(y=!1,this.log(`Interstitial asset "${f}" duration change ${D} > ${L}`),r.duration=L,this.updateSchedule())};g.on(_e.LEVEL_UPDATED,(_,{details:T})=>v(T)),g.on(_e.LEVEL_PTS_UPDATED,(_,{details:T})=>v(T)),g.on(_e.EVENT_CUE_ENTER,()=>this.onInterstitialCueEnter());const b=(_,T)=>{const L=this.getAssetPlayer(f);if(L&&T.tracks){L.off(_e.BUFFER_CODECS,b),L.tracks=T.tracks;const D=this.primaryMedia;this.bufferingAsset===L.assetItem&&D&&!L.media&&this.bufferAssetPlayer(L,D)}};g.on(_e.BUFFER_CODECS,b);const w=()=>{var _;const T=this.getAssetPlayer(f);if(this.log(`buffered to end of asset ${T}`),!T||!this.schedule)return;const L=this.schedule.findEventIndex(e.identifier),D=(_=this.schedule.items)==null?void 0:_[L];this.isInterstitial(D)&&this.advanceAssetBuffering(D,r)};g.on(_e.BUFFERED_TO_END,w);const S=_=>()=>{if(!this.getAssetPlayer(f)||!this.schedule)return;this.shouldPlay=!0;const L=this.schedule.findEventIndex(e.identifier);this.advanceAfterAssetEnded(e,L,_)};return g.once(_e.MEDIA_ENDED,S(n)),g.once(_e.PLAYOUT_LIMIT_REACHED,S(1/0)),g.on(_e.ERROR,(_,T)=>{if(!this.schedule)return;const L=this.getAssetPlayer(f);if(T.details===ar.BUFFER_STALLED_ERROR){if(L!=null&&L.appendInPlace){this.handleInPlaceStall(e);return}this.onTimeupdate(),this.checkBuffer(!0);return}this.handleAssetItemError(T,e,this.schedule.findEventIndex(e.identifier),n,`Asset player error ${T.error} ${e}`)}),g.on(_e.DESTROYING,()=>{if(!this.getAssetPlayer(f)||!this.schedule)return;const T=new Error(`Asset player destroyed unexpectedly ${f}`),L={fatal:!0,type:Ai.OTHER_ERROR,details:ar.INTERSTITIAL_ASSET_ITEM_ERROR,error:T};this.handleAssetItemError(L,e,this.schedule.findEventIndex(e.identifier),n,T.message)}),this.log(`INTERSTITIAL_ASSET_PLAYER_CREATED ${dx(r)}`),this.hls.trigger(_e.INTERSTITIAL_ASSET_PLAYER_CREATED,{asset:r,assetListIndex:n,event:e,player:g}),g}clearInterstitial(e,r){this.clearAssetPlayers(e,r),e.reset()}clearAssetPlayers(e,r){e.assetList.forEach(n=>{this.clearAssetPlayer(n.identifier,r)})}resetAssetPlayer(e){const r=this.getAssetPlayerQueueIndex(e);if(r!==-1){this.log(`reset asset player "${e}" after error`);const n=this.playerQueue[r];this.transferMediaFromPlayer(n,null),n.resetDetails()}}clearAssetPlayer(e,r){const n=this.getAssetPlayerQueueIndex(e);if(n!==-1){const i=this.playerQueue[n];this.log(`clear ${i} toSegment: ${r&&lA(r)}`),this.transferMediaFromPlayer(i,r),this.playerQueue.splice(n,1),i.destroy()}}emptyPlayerQueue(){let e;for(;e=this.playerQueue.pop();)e.destroy();this.playerQueue=[]}startAssetPlayer(e,r,n,i,s){const{interstitial:a,assetItem:c,assetId:u}=e,o=a.assetList.length,d=this.playingAsset;this.endedAsset=null,this.playingAsset=c,(!d||d.identifier!==u)&&(d&&(this.clearAssetPlayer(d.identifier,n[i]),delete d.error),this.log(`INTERSTITIAL_ASSET_STARTED ${r+1}/${o} ${dx(c)}`),this.hls.trigger(_e.INTERSTITIAL_ASSET_STARTED,{asset:c,assetListIndex:r,event:a,schedule:n.slice(0),scheduleIndex:i,player:e})),this.bufferAssetPlayer(e,s)}bufferAssetPlayer(e,r){var n,i;if(!this.schedule)return;const{interstitial:s,assetItem:a}=e,c=this.schedule.findEventIndex(s.identifier),u=(n=this.schedule.items)==null?void 0:n[c];if(!u)return;e.loadSource(),this.setBufferingItem(u),this.bufferingAsset=a;const o=this.getBufferingPlayer();if(o===e)return;const d=s.appendInPlace;if(d&&o?.interstitial.appendInPlace===!1)return;const f=o?.tracks||((i=this.detachedData)==null?void 0:i.tracks)||this.requiredTracks;if(d&&a!==this.playingAsset){if(!e.tracks){this.log(`Waiting for track info before buffering ${e}`);return}if(f&&!sne(f,e.tracks)){const A=new Error(`Asset ${dx(a)} SourceBuffer tracks ('${Object.keys(e.tracks)}') are not compatible with primary content tracks ('${Object.keys(f)}')`),p={fatal:!0,type:Ai.OTHER_ERROR,details:ar.INTERSTITIAL_ASSET_ITEM_ERROR,error:A},g=s.findAssetIndex(a);this.handleAssetItemError(p,s,c,g,A.message);return}}this.transferMediaTo(e,r)}handleInPlaceStall(e){const r=this.schedule,n=this.primaryMedia;if(!r||!n)return;const i=n.currentTime,s=r.findAssetIndex(e,i),a=e.assetList[s];if(a){const c=this.getAssetPlayer(a.identifier);if(c){const u=c.currentTime||i-a.timelineStart,o=c.duration-u;if(this.warn(`Stalled at ${u} of ${u+o} in ${c} ${e} (media.currentTime: ${i})`),u&&(o/n.playbackRate<.5||c.bufferedInPlaceToEnd(n))&&c.hls){const d=r.findEventIndex(e.identifier);this.advanceAfterAssetEnded(e,d,s)}}}}advanceInPlace(e){const r=this.primaryMedia;r&&r.currentTime<e&&(r.currentTime=e)}handleAssetItemError(e,r,n,i,s){if(e.details===ar.BUFFER_STALLED_ERROR)return;const a=r.assetList[i]||null;if(this.warn(`INTERSTITIAL_ASSET_ERROR ${a&&dx(a)} ${e.error}`),!this.schedule)return;const c=a?.identifier||"",u=this.getAssetPlayerQueueIndex(c),o=this.playerQueue[u]||null,d=this.schedule.items,f=So({},e,{fatal:!1,errorAction:rb(!0),asset:a,assetListIndex:i,event:r,schedule:d,scheduleIndex:n,player:o});if(this.hls.trigger(_e.INTERSTITIAL_ASSET_ERROR,f),!e.fatal)return;const A=this.playingAsset,p=this.bufferingAsset,g=new Error(s);if(a&&(this.clearAssetPlayer(c,null),a.error=g),!r.assetList.some(y=>!y.error))r.error=g;else for(let y=i;y<r.assetList.length;y++)this.resetAssetPlayer(r.assetList[y].identifier);this.updateSchedule(!0),r.error?this.primaryFallback(r):A&&A.identifier===c?this.advanceAfterAssetEnded(r,n,i):p&&p.identifier===c&&this.isInterstitial(this.bufferingItem)&&this.advanceAssetBuffering(this.bufferingItem,p)}primaryFallback(e){const r=e.timelineStart,n=this.effectivePlayingItem;let i=this.timelinePos;if(n){this.log(`Fallback to primary from event "${e.identifier}" start: ${r} pos: ${i} playing: ${lA(n)} error: ${e.error}`),i===-1&&(i=this.hls.startPosition);const a=this.updateItem(n,i);this.itemsMatch(n,a)&&this.clearInterstitial(e,null),e.appendInPlace&&(this.attachPrimary(r,null),this.flushFrontBuffer(r))}else if(i===-1){this.checkStart();return}if(!this.schedule)return;const s=this.schedule.findItemIndexAtTime(i);this.setSchedulePosition(s)}onAssetListLoaded(e,r){var n,i;const s=r.event,a=s.identifier,c=r.assetListResponse.ASSETS;if(!((n=this.schedule)!=null&&n.hasEvent(a)))return;const u=s.timelineStart,o=s.duration;let d=0;c.forEach((y,v)=>{const b=parseFloat(y.DURATION);this.createAsset(s,v,d,u+d,b,y.URI),d+=b}),s.duration=d,this.log(`Loaded asset-list with duration: ${d} (was: ${o}) ${s}`);const f=this.waitingItem,A=f?.event.identifier===a;this.updateSchedule();const p=(i=this.bufferingItem)==null?void 0:i.event;if(A){var g;const y=this.schedule.findEventIndex(a),v=(g=this.schedule.items)==null?void 0:g[y];if(v){if(!this.playingItem&&this.timelinePos>v.end&&this.schedule.findItemIndexAtTime(this.timelinePos)!==y){s.error=new Error(`Interstitial ${c.length?"no longer within playback range":"asset-list is empty"} ${this.timelinePos} ${s}`),this.log(s.error.message),this.updateSchedule(!0),this.primaryFallback(s);return}this.setBufferingItem(v)}this.setSchedulePosition(y)}else if(p?.identifier===a){const y=s.assetList[0];if(y){const v=this.getAssetPlayer(y.identifier);if(p.appendInPlace){const b=this.primaryMedia;v&&b&&this.bufferAssetPlayer(v,b)}else v&&v.loadSource()}}}onError(e,r){if(this.schedule)switch(r.details){case ar.ASSET_LIST_PARSING_ERROR:case ar.ASSET_LIST_LOAD_ERROR:case ar.ASSET_LIST_LOAD_TIMEOUT:{const n=r.interstitial;n&&(this.updateSchedule(!0),this.primaryFallback(n));break}case ar.BUFFER_STALLED_ERROR:{const n=this.endedItem||this.waitingItem||this.playingItem;if(this.isInterstitial(n)&&n.event.appendInPlace){this.handleInPlaceStall(n.event);return}this.log(`Primary player stall @${this.timelinePos} bufferedPos: ${this.bufferedPos}`),this.onTimeupdate(),this.checkBuffer(!0);break}}}}const LG=500;class g$e extends qM{constructor(e,r,n){super(e,r,n,"subtitle-stream-controller",Yn.SUBTITLE),this.currentTrackId=-1,this.tracksBuffered=[],this.mainDetails=null,this.registerListeners()}onHandlerDestroying(){this.unregisterListeners(),super.onHandlerDestroying(),this.mainDetails=null}registerListeners(){super.registerListeners();const{hls:e}=this;e.on(_e.LEVEL_LOADED,this.onLevelLoaded,this),e.on(_e.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(_e.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.on(_e.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(_e.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.on(_e.BUFFER_FLUSHING,this.onBufferFlushing,this)}unregisterListeners(){super.unregisterListeners();const{hls:e}=this;e.off(_e.LEVEL_LOADED,this.onLevelLoaded,this),e.off(_e.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(_e.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.off(_e.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(_e.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.off(_e.BUFFER_FLUSHING,this.onBufferFlushing,this)}startLoad(e,r){this.stopLoad(),this.state=kr.IDLE,this.setInterval(LG),this.nextLoadPosition=this.lastCurrentTime=e+this.timelineOffset,this.startPosition=r?-1:e,this.tick()}onManifestLoading(){super.onManifestLoading(),this.mainDetails=null}onMediaDetaching(e,r){this.tracksBuffered=[],super.onMediaDetaching(e,r)}onLevelLoaded(e,r){this.mainDetails=r.details}onSubtitleFragProcessed(e,r){const{frag:n,success:i}=r;if(this.fragContextChanged(n)||(bc(n)&&(this.fragPrevious=n),this.state=kr.IDLE),!i)return;const s=this.tracksBuffered[this.currentTrackId];if(!s)return;let a;const c=n.start;for(let o=0;o<s.length;o++)if(c>=s[o].start&&c<=s[o].end){a=s[o];break}const u=n.start+n.duration;a?a.end=u:(a={start:c,end:u},s.push(a)),this.fragmentTracker.fragBuffered(n),this.fragBufferedComplete(n,null),this.media&&this.tick()}onBufferFlushing(e,r){const{startOffset:n,endOffset:i}=r;if(n===0&&i!==Number.POSITIVE_INFINITY){const s=i-1;if(s<=0)return;r.endOffsetSubtitles=Math.max(0,s),this.tracksBuffered.forEach(a=>{for(let c=0;c<a.length;){if(a[c].end<=s){a.shift();continue}else if(a[c].start<s)a[c].start=s;else break;c++}}),this.fragmentTracker.removeFragmentsInRange(n,s,Yn.SUBTITLE)}}onError(e,r){const n=r.frag;n?.type===Yn.SUBTITLE&&(r.details===ar.FRAG_GAP&&this.fragmentTracker.fragBuffered(n,!0),this.fragCurrent&&this.fragCurrent.abortRequests(),this.state!==kr.STOPPED&&(this.state=kr.IDLE))}onSubtitleTracksUpdated(e,{subtitleTracks:r}){if(this.levels&&lie(this.levels,r)){this.levels=r.map(n=>new OE(n));return}this.tracksBuffered=[],this.levels=r.map(n=>{const i=new OE(n);return this.tracksBuffered[i.id]=[],i}),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,Yn.SUBTITLE),this.fragPrevious=null,this.mediaBuffer=null}onSubtitleTrackSwitch(e,r){var n;if(this.currentTrackId=r.id,!((n=this.levels)!=null&&n.length)||this.currentTrackId===-1){this.clearInterval();return}const i=this.levels[this.currentTrackId];i!=null&&i.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,i&&this.state!==kr.STOPPED&&this.setInterval(LG)}onSubtitleTrackLoaded(e,r){var n;const{currentTrackId:i,levels:s}=this,{details:a,id:c}=r;if(!s){this.warn(`Subtitle tracks were reset while loading level ${c}`);return}const u=s[c];if(c>=s.length||!u)return;this.log(`Subtitle track ${c} loaded [${a.startSN},${a.endSN}]${a.lastPartSn?`[part-${a.lastPartSn}-${a.lastPartIndex}]`:""},duration:${a.totalduration}`),this.mediaBuffer=this.mediaBufferTimeRanges;let o=0;if(a.live||(n=u.details)!=null&&n.live){if(a.deltaUpdateFailed)return;const f=this.mainDetails;if(!f){this.startFragRequested=!1;return}const A=f.fragments[0];if(!u.details)a.hasProgramDateTime&&f.hasProgramDateTime?(Ij(a,f),o=a.fragmentStart):A&&(o=A.start,$R(a,o));else{var d;o=this.alignPlaylists(a,u.details,(d=this.levelLastLoaded)==null?void 0:d.details),o===0&&A&&(o=A.start,$R(a,o))}f&&!this.startFragRequested&&this.setStartPosition(f,o)}u.details=a,this.levelLastLoaded=u,c===i&&(this.hls.trigger(_e.SUBTITLE_TRACK_UPDATED,{details:a,id:c,groupId:r.groupId}),this.tick(),a.live&&!this.fragCurrent&&this.media&&this.state===kr.IDLE&&(ly(null,a.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),u.details=void 0)))}_handleFragmentLoadComplete(e){const{frag:r,payload:n}=e,i=r.decryptdata,s=this.hls;if(!this.fragContextChanged(r)&&n&&n.byteLength>0&&i!=null&&i.key&&i.iv&&nb(i.method)){const a=performance.now();this.decrypter.decrypt(new Uint8Array(n),i.key.buffer,i.iv.buffer,WM(i.method)).catch(c=>{throw s.trigger(_e.ERROR,{type:Ai.MEDIA_ERROR,details:ar.FRAG_DECRYPT_ERROR,fatal:!1,error:c,reason:c.message,frag:r}),c}).then(c=>{const u=performance.now();s.trigger(_e.FRAG_DECRYPTED,{frag:r,payload:c,stats:{tstart:a,tdecrypt:u}})}).catch(c=>{this.warn(`${c.name}: ${c.message}`),this.state=kr.IDLE})}}doTick(){if(!this.media){this.state=kr.IDLE;return}if(this.state===kr.IDLE){const{currentTrackId:e,levels:r}=this,n=r?.[e];if(!n||!r.length||!n.details||this.waitForLive(n))return;const{config:i}=this,s=this.getLoadPosition(),a=hs.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],s,i.maxBufferHole),{end:c,len:u}=a,o=n.details,d=this.hls.maxBufferLength+o.levelTargetDuration;if(u>d)return;const f=o.fragments,A=f.length,p=o.edge;let g=null;const y=this.fragPrevious;if(c<p){const w=i.maxFragLookUpTolerance,S=c>p-w?0:w;g=ly(y,f,Math.max(f[0].start,c),S),!g&&y&&y.start<f[0].start&&(g=f[0])}else g=f[A-1];if(g=this.filterReplacedPrimary(g,n.details),!g)return;const v=g.sn-o.startSN,b=f[v-1];if(b&&b.cc===g.cc&&this.fragmentTracker.getState(b)===du.NOT_LOADED&&(g=b),this.fragmentTracker.getState(g)===du.NOT_LOADED){const w=this.mapToInitFragWhenRequired(g);w&&this.loadFragment(w,n,c)}}}loadFragment(e,r,n){bc(e)?super.loadFragment(e,r,n):this._loadInitSegment(e,r)}get mediaBufferTimeRanges(){return new v$e(this.tracksBuffered[this.currentTrackId]||[])}}class v$e{constructor(e){this.buffered=void 0;const r=(n,i,s)=>{if(i=i>>>0,i>s-1)throw new DOMException(`Failed to execute '${n}' on 'TimeRanges': The index provided (${i}) is greater than the maximum bound (${s})`);return e[i][n]};this.buffered={get length(){return e.length},end(n){return r("end",n,e.length)},start(n){return r("start",n,e.length)}}}}const y$e={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},Sie=t=>String.fromCharCode(y$e[t]||t),AA=15,Ap=100,x$e={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},b$e={17:2,18:4,21:6,22:8,23:10,19:13,20:15},w$e={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},E$e={25:2,26:4,29:6,30:8,31:10,27:13,28:15},S$e=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];class _$e{constructor(){this.time=null,this.verboseLevel=0}log(e,r){if(this.verboseLevel>=e){const n=typeof r=="function"?r():r;ao.log(`${this.time} [${e}] ${n}`)}}}const Z0=function(e){const r=[];for(let n=0;n<e.length;n++)r.push(e[n].toString(16));return r};class _ie{constructor(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}reset(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}setStyles(e){const r=["foreground","underline","italics","background","flash"];for(let n=0;n<r.length;n++){const i=r[n];e.hasOwnProperty(i)&&(this[i]=e[i])}}isDefault(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash}equals(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash}copy(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash}toString(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}class T$e{constructor(){this.uchar=" ",this.penState=new _ie}reset(){this.uchar=" ",this.penState.reset()}setChar(e,r){this.uchar=e,this.penState.copy(r)}setPenState(e){this.penState.copy(e)}equals(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)}copy(e){this.uchar=e.uchar,this.penState.copy(e.penState)}isEmpty(){return this.uchar===" "&&this.penState.isDefault()}}class C$e{constructor(e){this.chars=[],this.pos=0,this.currPenState=new _ie,this.cueStartTime=null,this.logger=void 0;for(let r=0;r<Ap;r++)this.chars.push(new T$e);this.logger=e}equals(e){for(let r=0;r<Ap;r++)if(!this.chars[r].equals(e.chars[r]))return!1;return!0}copy(e){for(let r=0;r<Ap;r++)this.chars[r].copy(e.chars[r])}isEmpty(){let e=!0;for(let r=0;r<Ap;r++)if(!this.chars[r].isEmpty()){e=!1;break}return e}setCursor(e){this.pos!==e&&(this.pos=e),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>Ap&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=Ap)}moveCursor(e){const r=this.pos+e;if(e>1)for(let n=this.pos+1;n<r+1;n++)this.chars[n].setPenState(this.currPenState);this.setCursor(r)}backSpace(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}insertChar(e){e>=144&&this.backSpace();const r=Sie(e);if(this.pos>=Ap){this.logger.log(0,()=>"Cannot insert "+e.toString(16)+" ("+r+") at position "+this.pos+". Skipping it!");return}this.chars[this.pos].setChar(r,this.currPenState),this.moveCursor(1)}clearFromPos(e){let r;for(r=e;r<Ap;r++)this.chars[r].reset()}clear(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}clearToEndOfRow(){this.clearFromPos(this.pos)}getTextString(){const e=[];let r=!0;for(let n=0;n<Ap;n++){const i=this.chars[n].uchar;i!==" "&&(r=!1),e.push(i)}return r?"":e.join("")}setPenStyles(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)}}class cL{constructor(e){this.rows=[],this.currRow=AA-1,this.nrRollUpRows=null,this.lastOutputScreen=null,this.logger=void 0;for(let r=0;r<AA;r++)this.rows.push(new C$e(e));this.logger=e}reset(){for(let e=0;e<AA;e++)this.rows[e].clear();this.currRow=AA-1}equals(e){let r=!0;for(let n=0;n<AA;n++)if(!this.rows[n].equals(e.rows[n])){r=!1;break}return r}copy(e){for(let r=0;r<AA;r++)this.rows[r].copy(e.rows[r])}isEmpty(){let e=!0;for(let r=0;r<AA;r++)if(!this.rows[r].isEmpty()){e=!1;break}return e}backSpace(){this.rows[this.currRow].backSpace()}clearToEndOfRow(){this.rows[this.currRow].clearToEndOfRow()}insertChar(e){this.rows[this.currRow].insertChar(e)}setPen(e){this.rows[this.currRow].setPenStyles(e)}moveCursor(e){this.rows[this.currRow].moveCursor(e)}setCursor(e){this.logger.log(2,"setCursor: "+e),this.rows[this.currRow].setCursor(e)}setPAC(e){this.logger.log(2,()=>"pacData = "+Mo(e));let r=e.row-1;if(this.nrRollUpRows&&r<this.nrRollUpRows-1&&(r=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==r){for(let c=0;c<AA;c++)this.rows[c].clear();const s=this.currRow+1-this.nrRollUpRows,a=this.lastOutputScreen;if(a){const c=a.rows[s].cueStartTime,u=this.logger.time;if(c!==null&&u!==null&&c<u)for(let o=0;o<this.nrRollUpRows;o++)this.rows[r-this.nrRollUpRows+o+1].copy(a.rows[s+o])}}this.currRow=r;const n=this.rows[this.currRow];if(e.indent!==null){const s=e.indent,a=Math.max(s-1,0);n.setCursor(e.indent),e.color=n.chars[a].penState.foreground}const i={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(i)}setBkgData(e){this.logger.log(2,()=>"bkgData = "+Mo(e)),this.backSpace(),this.setPen(e),this.insertChar(32)}setRollUpRows(e){this.nrRollUpRows=e}rollUp(){if(this.nrRollUpRows===null){this.logger.log(3,"roll_up but nrRollUpRows not set yet");return}this.logger.log(1,()=>this.getDisplayText());const e=this.currRow+1-this.nrRollUpRows,r=this.rows.splice(e,1)[0];r.clear(),this.rows.splice(this.currRow,0,r),this.logger.log(2,"Rolling up")}getDisplayText(e){e=e||!1;const r=[];let n="",i=-1;for(let s=0;s<AA;s++){const a=this.rows[s].getTextString();a&&(i=s+1,e?r.push("Row "+i+": '"+a+"'"):r.push(a.trim()))}return r.length>0&&(e?n="["+r.join(" | ")+"]":n=r.join(`
`)),n}getTextAndFormat(){return this.rows}}class RG{constructor(e,r,n){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=e,this.outputFilter=r,this.mode=null,this.verbose=0,this.displayedMemory=new cL(n),this.nonDisplayedMemory=new cL(n),this.lastOutputScreen=new cL(n),this.currRollUpRow=this.displayedMemory.rows[AA-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=n}reset(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[AA-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}getHandler(){return this.outputFilter}setHandler(e){this.outputFilter=e}setPAC(e){this.writeScreen.setPAC(e)}setBkgData(e){this.writeScreen.setBkgData(e)}setMode(e){e!==this.mode&&(this.mode=e,this.logger.log(2,()=>"MODE="+e),this.mode==="MODE_POP-ON"?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),this.mode!=="MODE_ROLL-UP"&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)}insertChars(e){for(let n=0;n<e.length;n++)this.writeScreen.insertChar(e[n]);const r=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,()=>r+": "+this.writeScreen.getDisplayText(!0)),(this.mode==="MODE_PAINT-ON"||this.mode==="MODE_ROLL-UP")&&(this.logger.log(1,()=>"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())}ccRCL(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}ccBS(){this.logger.log(2,"BS - BackSpace"),this.mode!=="MODE_TEXT"&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}ccAOF(){}ccAON(){}ccDER(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}ccRU(e){this.logger.log(2,"RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)}ccFON(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})}ccRDC(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}ccTR(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")}ccRTD(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")}ccEDM(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)}ccCR(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)}ccENM(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}ccEOC(){if(this.logger.log(2,"EOC - End Of Caption"),this.mode==="MODE_POP-ON"){const e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,()=>"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)}ccTO(e){this.logger.log(2,"TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)}ccMIDROW(e){const r={flash:!1};if(r.underline=e%2===1,r.italics=e>=46,r.italics)r.foreground="white";else{const n=Math.floor(e/2)-16,i=["white","green","blue","cyan","red","yellow","magenta"];r.foreground=i[n]}this.logger.log(2,"MIDROW: "+Mo(r)),this.writeScreen.setPen(r)}outputDataUpdate(e=!1){const r=this.logger.time;r!==null&&this.outputFilter&&(this.cueStartTime===null&&!this.displayedMemory.isEmpty()?this.cueStartTime=r:this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,r,this.lastOutputScreen),e&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:r),this.lastOutputScreen.copy(this.displayedMemory))}cueSplitAtTime(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))}}class OG{constructor(e,r,n){this.channels=void 0,this.currentChannel=0,this.cmdHistory=N$e(),this.logger=void 0;const i=this.logger=new _$e;this.channels=[null,new RG(e,r,i),new RG(e+1,n,i)]}getHandler(e){return this.channels[e].getHandler()}setHandler(e,r){this.channels[e].setHandler(r)}addData(e,r){this.logger.time=e;for(let n=0;n<r.length;n+=2){const i=r[n]&127,s=r[n+1]&127;let a=!1,c=null;if(i===0&&s===0)continue;this.logger.log(3,()=>"["+Z0([r[n],r[n+1]])+"] -> ("+Z0([i,s])+")");const u=this.cmdHistory;if(i>=16&&i<=31){if(j$e(i,s,u)){XS(null,null,u),this.logger.log(3,()=>"Repeated command ("+Z0([i,s])+") is dropped");continue}XS(i,s,this.cmdHistory),a=this.parseCmd(i,s),a||(a=this.parseMidrow(i,s)),a||(a=this.parsePAC(i,s)),a||(a=this.parseBackgroundAttributes(i,s))}else XS(null,null,u);if(!a&&(c=this.parseChars(i,s),c)){const d=this.currentChannel;d&&d>0?this.channels[d].insertChars(c):this.logger.log(2,"No channel found yet. TEXT-MODE?")}!a&&!c&&this.logger.log(2,()=>"Couldn't parse cleaned data "+Z0([i,s])+" orig: "+Z0([r[n],r[n+1]]))}}parseCmd(e,r){const n=(e===20||e===28||e===21||e===29)&&r>=32&&r<=47,i=(e===23||e===31)&&r>=33&&r<=35;if(!(n||i))return!1;const s=e===20||e===21||e===23?1:2,a=this.channels[s];return e===20||e===21||e===28||e===29?r===32?a.ccRCL():r===33?a.ccBS():r===34?a.ccAOF():r===35?a.ccAON():r===36?a.ccDER():r===37?a.ccRU(2):r===38?a.ccRU(3):r===39?a.ccRU(4):r===40?a.ccFON():r===41?a.ccRDC():r===42?a.ccTR():r===43?a.ccRTD():r===44?a.ccEDM():r===45?a.ccCR():r===46?a.ccENM():r===47&&a.ccEOC():a.ccTO(r-32),this.currentChannel=s,!0}parseMidrow(e,r){let n=0;if((e===17||e===25)&&r>=32&&r<=47){if(e===17?n=1:n=2,n!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;const i=this.channels[n];return i?(i.ccMIDROW(r),this.logger.log(3,()=>"MIDROW ("+Z0([e,r])+")"),!0):!1}return!1}parsePAC(e,r){let n;const i=(e>=17&&e<=23||e>=25&&e<=31)&&r>=64&&r<=127,s=(e===16||e===24)&&r>=64&&r<=95;if(!(i||s))return!1;const a=e<=23?1:2;r>=64&&r<=95?n=a===1?x$e[e]:w$e[e]:n=a===1?b$e[e]:E$e[e];const c=this.channels[a];return c?(c.setPAC(this.interpretPAC(n,r)),this.currentChannel=a,!0):!1}interpretPAC(e,r){let n;const i={color:null,italics:!1,indent:null,underline:!1,row:e};return r>95?n=r-96:n=r-64,i.underline=(n&1)===1,n<=13?i.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(n/2)]:n<=15?(i.italics=!0,i.color="white"):i.indent=Math.floor((n-16)/2)*4,i}parseChars(e,r){let n,i=null,s=null;if(e>=25?(n=2,s=e-8):(n=1,s=e),s>=17&&s<=19){let a;s===17?a=r+80:s===18?a=r+112:a=r+144,this.logger.log(2,()=>"Special char '"+Sie(a)+"' in channel "+n),i=[a]}else e>=32&&e<=127&&(i=r===0?[e]:[e,r]);return i&&this.logger.log(3,()=>"Char codes =  "+Z0(i).join(",")),i}parseBackgroundAttributes(e,r){const n=(e===16||e===24)&&r>=32&&r<=47,i=(e===23||e===31)&&r>=45&&r<=47;if(!(n||i))return!1;let s;const a={};e===16||e===24?(s=Math.floor((r-32)/2),a.background=S$e[s],r%2===1&&(a.background=a.background+"_semi")):r===45?a.background="transparent":(a.foreground="black",r===47&&(a.underline=!0));const c=e<=23?1:2;return this.channels[c].setBkgData(a),!0}reset(){for(let e=0;e<Object.keys(this.channels).length;e++){const r=this.channels[e];r&&r.reset()}XS(null,null,this.cmdHistory)}cueSplitAtTime(e){for(let r=0;r<this.channels.length;r++){const n=this.channels[r];n&&n.cueSplitAtTime(e)}}}function XS(t,e,r){r.a=t,r.b=e}function j$e(t,e,r){return r.a===t&&r.b===e}function N$e(){return{a:null,b:null}}var oF=(function(){if(Nj!=null&&Nj.VTTCue)return self.VTTCue;const t=["","lr","rl"],e=["start","middle","end","left","right"];function r(c,u){if(typeof u!="string"||!Array.isArray(c))return!1;const o=u.toLowerCase();return~c.indexOf(o)?o:!1}function n(c){return r(t,c)}function i(c){return r(e,c)}function s(c,...u){let o=1;for(;o<arguments.length;o++){const d=arguments[o];for(const f in d)c[f]=d[f]}return c}function a(c,u,o){const d=this,f={enumerable:!0};d.hasBeenReset=!1;let A="",p=!1,g=c,y=u,v=o,b=null,w="",S=!0,_="auto",T="start",L=50,D="middle",V=50,G="middle";Object.defineProperty(d,"id",s({},f,{get:function(){return A},set:function(J){A=""+J}})),Object.defineProperty(d,"pauseOnExit",s({},f,{get:function(){return p},set:function(J){p=!!J}})),Object.defineProperty(d,"startTime",s({},f,{get:function(){return g},set:function(J){if(typeof J!="number")throw new TypeError("Start time must be set to a number.");g=J,this.hasBeenReset=!0}})),Object.defineProperty(d,"endTime",s({},f,{get:function(){return y},set:function(J){if(typeof J!="number")throw new TypeError("End time must be set to a number.");y=J,this.hasBeenReset=!0}})),Object.defineProperty(d,"text",s({},f,{get:function(){return v},set:function(J){v=""+J,this.hasBeenReset=!0}})),Object.defineProperty(d,"region",s({},f,{get:function(){return b},set:function(J){b=J,this.hasBeenReset=!0}})),Object.defineProperty(d,"vertical",s({},f,{get:function(){return w},set:function(J){const ee=n(J);if(ee===!1)throw new SyntaxError("An invalid or illegal string was specified.");w=ee,this.hasBeenReset=!0}})),Object.defineProperty(d,"snapToLines",s({},f,{get:function(){return S},set:function(J){S=!!J,this.hasBeenReset=!0}})),Object.defineProperty(d,"line",s({},f,{get:function(){return _},set:function(J){if(typeof J!="number"&&J!=="auto")throw new SyntaxError("An invalid number or illegal string was specified.");_=J,this.hasBeenReset=!0}})),Object.defineProperty(d,"lineAlign",s({},f,{get:function(){return T},set:function(J){const ee=i(J);if(!ee)throw new SyntaxError("An invalid or illegal string was specified.");T=ee,this.hasBeenReset=!0}})),Object.defineProperty(d,"position",s({},f,{get:function(){return L},set:function(J){if(J<0||J>100)throw new Error("Position must be between 0 and 100.");L=J,this.hasBeenReset=!0}})),Object.defineProperty(d,"positionAlign",s({},f,{get:function(){return D},set:function(J){const ee=i(J);if(!ee)throw new SyntaxError("An invalid or illegal string was specified.");D=ee,this.hasBeenReset=!0}})),Object.defineProperty(d,"size",s({},f,{get:function(){return V},set:function(J){if(J<0||J>100)throw new Error("Size must be between 0 and 100.");V=J,this.hasBeenReset=!0}})),Object.defineProperty(d,"align",s({},f,{get:function(){return G},set:function(J){const ee=i(J);if(!ee)throw new SyntaxError("An invalid or illegal string was specified.");G=ee,this.hasBeenReset=!0}})),d.displayState=void 0}return a.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},a})();class I$e{decode(e,r){if(!e)return"";if(typeof e!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}function Tie(t){function e(n,i,s,a){return(n|0)*3600+(i|0)*60+(s|0)+parseFloat(a||0)}const r=t.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return r?parseFloat(r[2])>59?e(r[2],r[3],0,r[4]):e(r[1],r[2],r[3],r[4]):null}class k$e{constructor(){this.values=Object.create(null)}set(e,r){!this.get(e)&&r!==""&&(this.values[e]=r)}get(e,r,n){return n?this.has(e)?this.values[e]:r[n]:this.has(e)?this.values[e]:r}has(e){return e in this.values}alt(e,r,n){for(let i=0;i<n.length;++i)if(r===n[i]){this.set(e,r);break}}integer(e,r){/^-?\d+$/.test(r)&&this.set(e,parseInt(r,10))}percent(e,r){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(r)){const n=parseFloat(r);if(n>=0&&n<=100)return this.set(e,n),!0}return!1}}function Cie(t,e,r,n){const i=n?t.split(n):[t];for(const s in i){if(typeof i[s]!="string")continue;const a=i[s].split(r);if(a.length!==2)continue;const c=a[0],u=a[1];e(c,u)}}const YR=new oF(0,0,""),ZS=YR.align==="middle"?"middle":"center";function B$e(t,e,r){const n=t;function i(){const c=Tie(t);if(c===null)throw new Error("Malformed timestamp: "+n);return t=t.replace(/^[^\sa-zA-Z-]+/,""),c}function s(c,u){const o=new k$e;Cie(c,function(A,p){let g;switch(A){case"region":for(let y=r.length-1;y>=0;y--)if(r[y].id===p){o.set(A,r[y].region);break}break;case"vertical":o.alt(A,p,["rl","lr"]);break;case"line":g=p.split(","),o.integer(A,g[0]),o.percent(A,g[0])&&o.set("snapToLines",!1),o.alt(A,g[0],["auto"]),g.length===2&&o.alt("lineAlign",g[1],["start",ZS,"end"]);break;case"position":g=p.split(","),o.percent(A,g[0]),g.length===2&&o.alt("positionAlign",g[1],["start",ZS,"end","line-left","line-right","auto"]);break;case"size":o.percent(A,p);break;case"align":o.alt(A,p,["start",ZS,"end","left","right"]);break}},/:/,/\s/),u.region=o.get("region",null),u.vertical=o.get("vertical","");let d=o.get("line","auto");d==="auto"&&YR.line===-1&&(d=-1),u.line=d,u.lineAlign=o.get("lineAlign","start"),u.snapToLines=o.get("snapToLines",!0),u.size=o.get("size",100),u.align=o.get("align",ZS);let f=o.get("position","auto");f==="auto"&&YR.position===50&&(f=u.align==="start"||u.align==="left"?0:u.align==="end"||u.align==="right"?100:50),u.position=f}function a(){t=t.replace(/^\s+/,"")}if(a(),e.startTime=i(),a(),t.slice(0,3)!=="-->")throw new Error("Malformed time stamp (time stamps must be separated by '-->'): "+n);t=t.slice(3),a(),e.endTime=i(),a(),s(t,e)}function jie(t){return t.replace(/<br(?: \/)?>/gi,`
`)}class L$e{constructor(){this.state="INITIAL",this.buffer="",this.decoder=new I$e,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}parse(e){const r=this;e&&(r.buffer+=r.decoder.decode(e,{stream:!0}));function n(){let s=r.buffer,a=0;for(s=jie(s);a<s.length&&s[a]!=="\r"&&s[a]!==`
`;)++a;const c=s.slice(0,a);return s[a]==="\r"&&++a,s[a]===`
`&&++a,r.buffer=s.slice(a),c}function i(s){Cie(s,function(a,c){},/:/)}try{let s="";if(r.state==="INITIAL"){if(!/\r\n|\n/.test(r.buffer))return this;s=n();const c=s.match(/^()?WEBVTT([ \t].*)?$/);if(!(c!=null&&c[0]))throw new Error("Malformed WebVTT signature.");r.state="HEADER"}let a=!1;for(;r.buffer;){if(!/\r\n|\n/.test(r.buffer))return this;switch(a?a=!1:s=n(),r.state){case"HEADER":/:/.test(s)?i(s):s||(r.state="ID");continue;case"NOTE":s||(r.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(s)){r.state="NOTE";break}if(!s)continue;if(r.cue=new oF(0,0,""),r.state="CUE",s.indexOf("-->")===-1){r.cue.id=s;continue}case"CUE":if(!r.cue){r.state="BADCUE";continue}try{B$e(s,r.cue,r.regionList)}catch{r.cue=null,r.state="BADCUE";continue}r.state="CUETEXT";continue;case"CUETEXT":{const c=s.indexOf("-->")!==-1;if(!s||c&&(a=!0)){r.oncue&&r.cue&&r.oncue(r.cue),r.cue=null,r.state="ID";continue}if(r.cue===null)continue;r.cue.text&&(r.cue.text+=`
`),r.cue.text+=s}continue;case"BADCUE":s||(r.state="ID")}}}catch{r.state==="CUETEXT"&&r.cue&&r.oncue&&r.oncue(r.cue),r.cue=null,r.state=r.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this}flush(){const e=this;try{if((e.cue||e.state==="HEADER")&&(e.buffer+=`

`,e.parse()),e.state==="INITIAL"||e.state==="BADWEBVTT")throw new Error("Malformed WebVTT signature.")}catch(r){e.onparsingerror&&e.onparsingerror(r)}return e.onflush&&e.onflush(),this}}const R$e=/\r\n|\n\r|\n|\r/g,uL=function(e,r,n=0){return e.slice(n,n+r.length)===r},O$e=function(e){let r=parseInt(e.slice(-3));const n=parseInt(e.slice(-6,-4)),i=parseInt(e.slice(-9,-7)),s=e.length>9?parseInt(e.substring(0,e.indexOf(":"))):0;if(!kn(r)||!kn(n)||!kn(i)||!kn(s))throw Error(`Malformed X-TIMESTAMP-MAP: Local:${e}`);return r+=1e3*n,r+=60*1e3*i,r+=3600*1e3*s,r};function lF(t,e,r){return Vw(t.toString())+Vw(e.toString())+Vw(r)}const P$e=function(e,r,n){let i=e[r],s=e[i.prevCC];if(!s||!s.new&&i.new){e.ccOffset=e.presentationOffset=i.start,i.new=!1;return}for(;(a=s)!=null&&a.new;){var a;e.ccOffset+=i.start-s.start,i.new=!1,i=s,s=e[i.prevCC]}e.presentationOffset=n};function D$e(t,e,r,n,i,s,a){const c=new L$e,u=lf(new Uint8Array(t)).trim().replace(R$e,`
`).split(`
`),o=[],d=e?Q8e(e.baseTime,e.timescale):0;let f="00:00.000",A=0,p=0,g,y=!0;c.oncue=function(v){const b=r[n];let w=r.ccOffset;const S=(A-d)/9e4;if(b!=null&&b.new&&(p!==void 0?w=r.ccOffset=b.start:P$e(r,n,S)),S){if(!e){g=new Error("Missing initPTS for VTT MPEGTS");return}w=S-r.presentationOffset}const _=v.endTime-v.startTime,T=qh((v.startTime+w-p)*9e4,i*9e4)/9e4;v.startTime=Math.max(T,0),v.endTime=Math.max(T+_,0);const L=v.text.trim();v.text=decodeURIComponent(encodeURIComponent(L)),v.id||(v.id=lF(v.startTime,v.endTime,L)),v.endTime>0&&o.push(v)},c.onparsingerror=function(v){g=v},c.onflush=function(){if(g){a(g);return}s(o)},u.forEach(v=>{if(y)if(uL(v,"X-TIMESTAMP-MAP=")){y=!1,v.slice(16).split(",").forEach(b=>{uL(b,"LOCAL:")?f=b.slice(6):uL(b,"MPEGTS:")&&(A=parseInt(b.slice(7)))});try{p=O$e(f)/1e3}catch(b){g=b}return}else v===""&&(y=!1);c.parse(v+`
`)}),c.flush()}const dL="stpp.ttml.im1t",Nie=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,Iie=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,M$e={left:"start",center:"center",right:"end",start:"start",end:"end"};function PG(t,e,r,n){const i=$s(new Uint8Array(t),["mdat"]);if(i.length===0){n(new Error("Could not parse IMSC1 mdat"));return}const s=i.map(c=>lf(c)),a=H8e(e.baseTime,1,e.timescale);try{s.forEach(c=>r(F$e(c,a)))}catch(c){n(c)}}function F$e(t,e){const i=new DOMParser().parseFromString(t,"text/xml").getElementsByTagName("tt")[0];if(!i)throw new Error("Invalid ttml");const s={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},a=Object.keys(s).reduce((f,A)=>(f[A]=i.getAttribute(`ttp:${A}`)||s[A],f),{}),c=i.getAttribute("xml:space")!=="preserve",u=DG(hL(i,"styling","style")),o=DG(hL(i,"layout","region")),d=hL(i,"body","[begin]");return[].map.call(d,f=>{const A=kie(f,c);if(!A||!f.hasAttribute("begin"))return null;const p=AL(f.getAttribute("begin"),a),g=AL(f.getAttribute("dur"),a);let y=AL(f.getAttribute("end"),a);if(p===null)throw MG(f);if(y===null){if(g===null)throw MG(f);y=p+g}const v=new oF(p-e,y-e,A);v.id=lF(v.startTime,v.endTime,v.text);const b=o[f.getAttribute("region")],w=u[f.getAttribute("style")],S=U$e(b,w,u),{textAlign:_}=S;if(_){const T=M$e[_];T&&(v.lineAlign=T),v.align=_}return So(v,S),v}).filter(f=>f!==null)}function hL(t,e,r){const n=t.getElementsByTagName(e)[0];return n?[].slice.call(n.querySelectorAll(r)):[]}function DG(t){return t.reduce((e,r)=>{const n=r.getAttribute("xml:id");return n&&(e[n]=r),e},{})}function kie(t,e){return[].slice.call(t.childNodes).reduce((r,n,i)=>{var s;return n.nodeName==="br"&&i?r+`
`:(s=n.childNodes)!=null&&s.length?kie(n,e):e?r+n.textContent.trim().replace(/\s+/g," "):r+n.textContent},"")}function U$e(t,e,r){const n="http://www.w3.org/ns/ttml#styling";let i=null;const s=["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"],a=t!=null&&t.hasAttribute("style")?t.getAttribute("style"):null;return a&&r.hasOwnProperty(a)&&(i=r[a]),s.reduce((c,u)=>{const o=fL(e,n,u)||fL(t,n,u)||fL(i,n,u);return o&&(c[u]=o),c},{})}function fL(t,e,r){return t&&t.hasAttributeNS(e,r)?t.getAttributeNS(e,r):null}function MG(t){return new Error(`Could not parse ttml timestamp ${t}`)}function AL(t,e){if(!t)return null;let r=Tie(t);return r===null&&(Nie.test(t)?r=$$e(t,e):Iie.test(t)&&(r=H$e(t,e))),r}function $$e(t,e){const r=Nie.exec(t),n=(r[4]|0)+(r[5]|0)/e.subFrameRate;return(r[1]|0)*3600+(r[2]|0)*60+(r[3]|0)+n/e.frameRate}function H$e(t,e){const r=Iie.exec(t),n=Number(r[1]);switch(r[2]){case"h":return n*3600;case"m":return n*60;case"ms":return n*1e3;case"f":return n/e.frameRate;case"t":return n/e.tickRate}return n}class JS{constructor(e,r){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=e,this.trackName=r}dispatchCue(){this.startTime!==null&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)}newCue(e,r,n){(this.startTime===null||this.startTime>e)&&(this.startTime=e),this.endTime=r,this.screen=n,this.timelineController.createCaptionsTrack(this.trackName)}reset(){this.cueRanges=[],this.startTime=null}}class Q$e{constructor(e){this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=UG(),this.captionsProperties=void 0,this.hls=e,this.config=e.config,this.Cues=e.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},e.on(_e.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(_e.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(_e.MANIFEST_LOADING,this.onManifestLoading,this),e.on(_e.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(_e.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(_e.FRAG_LOADING,this.onFragLoading,this),e.on(_e.FRAG_LOADED,this.onFragLoaded,this),e.on(_e.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.on(_e.FRAG_DECRYPTED,this.onFragDecrypted,this),e.on(_e.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(_e.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.on(_e.BUFFER_FLUSHING,this.onBufferFlushing,this)}destroy(){const{hls:e}=this;e.off(_e.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(_e.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(_e.MANIFEST_LOADING,this.onManifestLoading,this),e.off(_e.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(_e.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(_e.FRAG_LOADING,this.onFragLoading,this),e.off(_e.FRAG_LOADED,this.onFragLoaded,this),e.off(_e.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.off(_e.FRAG_DECRYPTED,this.onFragDecrypted,this),e.off(_e.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(_e.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.off(_e.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.media=null,this.cea608Parser1=this.cea608Parser2=void 0}initCea608Parsers(){const e=new JS(this,"textTrack1"),r=new JS(this,"textTrack2"),n=new JS(this,"textTrack3"),i=new JS(this,"textTrack4");this.cea608Parser1=new OG(1,e,r),this.cea608Parser2=new OG(3,n,i)}addCues(e,r,n,i,s){let a=!1;for(let c=s.length;c--;){const u=s[c],o=V$e(u[0],u[1],r,n);if(o>=0&&(u[0]=Math.min(u[0],r),u[1]=Math.max(u[1],n),a=!0,o/(n-r)>.5))return}if(a||s.push([r,n]),this.config.renderTextTracksNatively){const c=this.captionsTracks[e];this.Cues.newCue(c,r,n,i)}else{const c=this.Cues.newCue(null,r,n,i);this.hls.trigger(_e.CUES_PARSED,{type:"captions",cues:c,track:e})}}onInitPtsFound(e,{frag:r,id:n,initPTS:i,timescale:s,trackId:a}){const{unparsedVttFrags:c}=this;n===Yn.MAIN&&(this.initPTS[r.cc]={baseTime:i,timescale:s,trackId:a}),c.length&&(this.unparsedVttFrags=[],c.forEach(u=>{this.initPTS[u.frag.cc]?this.onFragLoaded(_e.FRAG_LOADED,u):this.hls.trigger(_e.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:u.frag,error:new Error("Subtitle discontinuity domain does not match main")})}))}getExistingTrack(e,r){const{media:n}=this;if(n)for(let i=0;i<n.textTracks.length;i++){const s=n.textTracks[i];if(FG(s,{name:e,lang:r,characteristics:"transcribes-spoken-dialog,describes-music-and-sound"}))return s}return null}createCaptionsTrack(e){this.config.renderTextTracksNatively?this.createNativeTrack(e):this.createNonNativeTrack(e)}createNativeTrack(e){if(this.captionsTracks[e])return;const{captionsProperties:r,captionsTracks:n,media:i}=this,{label:s,languageCode:a}=r[e],c=this.getExistingTrack(s,a);if(c)n[e]=c,Kx(n[e]),bie(n[e],i);else{const u=this.createTextTrack("captions",s,a);u&&(u[e]=!0,n[e]=u)}}createNonNativeTrack(e){if(this.nonNativeCaptionsTracks[e])return;const r=this.captionsProperties[e];if(!r)return;const n=r.label,i={_id:e,label:n,kind:"captions",default:r.media?!!r.media.default:!1,closedCaptions:r.media};this.nonNativeCaptionsTracks[e]=i,this.hls.trigger(_e.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[i]})}createTextTrack(e,r,n){const i=this.media;if(i)return i.addTextTrack(e,r,n)}onMediaAttaching(e,r){this.media=r.media,r.mediaSource||this._cleanTracks()}onMediaDetaching(e,r){const n=!!r.transferMedia;if(this.media=null,n)return;const{captionsTracks:i}=this;Object.keys(i).forEach(s=>{Kx(i[s]),delete i[s]}),this.nonNativeCaptionsTracks={}}onManifestLoading(){this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=UG(),this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())}_cleanTracks(){const{media:e}=this;if(!e)return;const r=e.textTracks;if(r)for(let n=0;n<r.length;n++)Kx(r[n])}onSubtitleTracksUpdated(e,r){const n=r.subtitleTracks||[],i=n.some(s=>s.textCodec===dL);if(this.config.enableWebVTT||i&&this.config.enableIMSC1){if(lie(this.tracks,n)){this.tracks=n;return}if(this.textTracks=[],this.tracks=n,this.config.renderTextTracksNatively){const a=this.media,c=a?H_(a.textTracks):null;if(this.tracks.forEach((u,o)=>{let d;if(c){let f=null;for(let A=0;A<c.length;A++)if(c[A]&&FG(c[A],u)){f=c[A],c[A]=null;break}f&&(d=f)}if(d)Kx(d);else{const f=Bie(u);d=this.createTextTrack(f,u.name,u.lang),d&&(d.mode="disabled")}d&&this.textTracks.push(d)}),c!=null&&c.length){const u=c.filter(o=>o!==null).map(o=>o.label);u.length&&this.hls.logger.warn(`Media element contains unused subtitle tracks: ${u.join(", ")}. Replace media element for each source to clear TextTracks and captions menu.`)}}else if(this.tracks.length){const a=this.tracks.map(c=>({label:c.name,kind:c.type.toLowerCase(),default:c.default,subtitleTrack:c}));this.hls.trigger(_e.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:a})}}}onManifestLoaded(e,r){this.config.enableCEA708Captions&&r.captions&&r.captions.forEach(n=>{const i=/(?:CC|SERVICE)([1-4])/.exec(n.instreamId);if(!i)return;const s=`textTrack${i[1]}`,a=this.captionsProperties[s];a&&(a.label=n.name,n.lang&&(a.languageCode=n.lang),a.media=n)})}closedCaptionsForLevel(e){const r=this.hls.levels[e.level];return r?.attrs["CLOSED-CAPTIONS"]}onFragLoading(e,r){if(this.enabled&&r.frag.type===Yn.MAIN){var n,i;const{cea608Parser1:s,cea608Parser2:a,lastSn:c}=this,{cc:u,sn:o}=r.frag,d=(n=(i=r.part)==null?void 0:i.index)!=null?n:-1;s&&a&&(o!==c+1||o===c&&d!==this.lastPartIndex+1||u!==this.lastCc)&&(s.reset(),a.reset()),this.lastCc=u,this.lastSn=o,this.lastPartIndex=d}}onFragLoaded(e,r){const{frag:n,payload:i}=r;if(n.type===Yn.SUBTITLE)if(i.byteLength){const s=n.decryptdata,a="stats"in r;if(s==null||!s.encrypted||a){const c=this.tracks[n.level],u=this.vttCCs;u[n.cc]||(u[n.cc]={start:n.start,prevCC:this.prevCC,new:!0},this.prevCC=n.cc),c&&c.textCodec===dL?this._parseIMSC1(n,i):this._parseVTTs(r)}}else this.hls.trigger(_e.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n,error:new Error("Empty subtitle payload")})}_parseIMSC1(e,r){const n=this.hls;PG(r,this.initPTS[e.cc],i=>{this._appendCues(i,e.level),n.trigger(_e.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})},i=>{n.logger.log(`Failed to parse IMSC1: ${i}`),n.trigger(_e.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e,error:i})})}_parseVTTs(e){var r;const{frag:n,payload:i}=e,{initPTS:s,unparsedVttFrags:a}=this,c=s.length-1;if(!s[n.cc]&&c===-1){a.push(e);return}const u=this.hls,o=(r=n.initSegment)!=null&&r.data?Qf(n.initSegment.data,new Uint8Array(i)).buffer:i;D$e(o,this.initPTS[n.cc],this.vttCCs,n.cc,n.start,d=>{this._appendCues(d,n.level),u.trigger(_e.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:n})},d=>{const f=d.message==="Missing initPTS for VTT MPEGTS";f?a.push(e):this._fallbackToIMSC1(n,i),u.logger.log(`Failed to parse VTT cue: ${d}`),!(f&&c>n.cc)&&u.trigger(_e.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n,error:d})})}_fallbackToIMSC1(e,r){const n=this.tracks[e.level];n.textCodec||PG(r,this.initPTS[e.cc],()=>{n.textCodec=dL,this._parseIMSC1(e,r)},()=>{n.textCodec="wvtt"})}_appendCues(e,r){const n=this.hls;if(this.config.renderTextTracksNatively){const i=this.textTracks[r];if(!i||i.mode==="disabled")return;e.forEach(s=>wie(i,s))}else{const i=this.tracks[r];if(!i)return;const s=i.default?"default":"subtitles"+r;n.trigger(_e.CUES_PARSED,{type:"subtitles",cues:e,track:s})}}onFragDecrypted(e,r){const{frag:n}=r;n.type===Yn.SUBTITLE&&this.onFragLoaded(_e.FRAG_LOADED,r)}onSubtitleTracksCleared(){this.tracks=[],this.captionsTracks={}}onFragParsingUserdata(e,r){if(!this.enabled||!this.config.enableCEA708Captions)return;const{frag:n,samples:i}=r;if(!(n.type===Yn.MAIN&&this.closedCaptionsForLevel(n)==="NONE"))for(let s=0;s<i.length;s++){const a=i[s].bytes;if(a){this.cea608Parser1||this.initCea608Parsers();const c=this.extractCea608Data(a);this.cea608Parser1.addData(i[s].pts,c[0]),this.cea608Parser2.addData(i[s].pts,c[1])}}}onBufferFlushing(e,{startOffset:r,endOffset:n,endOffsetSubtitles:i,type:s}){const{media:a}=this;if(!(!a||a.currentTime<n)){if(!s||s==="video"){const{captionsTracks:c}=this;Object.keys(c).forEach(u=>WR(c[u],r,n))}if(this.config.renderTextTracksNatively&&r===0&&i!==void 0){const{textTracks:c}=this;Object.keys(c).forEach(u=>WR(c[u],r,i))}}}extractCea608Data(e){const r=[[],[]],n=e[0]&31;let i=2;for(let s=0;s<n;s++){const a=e[i++],c=127&e[i++],u=127&e[i++];if(c===0&&u===0)continue;if((4&a)!==0){const d=3&a;(d===0||d===1)&&(r[d].push(c),r[d].push(u))}}return r}}function Bie(t){return t.characteristics&&/transcribes-spoken-dialog/gi.test(t.characteristics)&&/describes-music-and-sound/gi.test(t.characteristics)?"captions":"subtitles"}function FG(t,e){return!!t&&t.kind===Bie(e)&&VR(e,t)}function V$e(t,e,r,n){return Math.min(e,n)-Math.max(t,r)}function UG(){return{ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}}}const K$e=/\s/,G$e={newCue(t,e,r,n){const i=[];let s,a,c,u,o;const d=self.VTTCue||self.TextTrackCue;for(let A=0;A<n.rows.length;A++)if(s=n.rows[A],c=!0,u=0,o="",!s.isEmpty()){var f;for(let y=0;y<s.chars.length;y++)K$e.test(s.chars[y].uchar)&&c?u++:(o+=s.chars[y].uchar,c=!1);s.cueStartTime=e,e===r&&(r+=1e-4),u>=16?u--:u++;const p=jie(o.trim()),g=lF(e,r,p);t!=null&&(f=t.cues)!=null&&f.getCueById(g)||(a=new d(e,r,p),a.id=g,a.line=A+1,a.align="left",a.position=10+Math.min(80,Math.floor(u*8/32)*10),i.push(a))}return t&&i.length&&(i.sort((A,p)=>A.line==="auto"||p.line==="auto"?0:A.line>8&&p.line>8?p.line-A.line:A.line-p.line),i.forEach(A=>wie(t,A))),i}};function z$e(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch{}return!1}const W$e=/(\d+)-(\d+)\/(\d+)/;class $G{constructor(e){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=null,this.response=null,this.controller=void 0,this.context=null,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=e.fetchSetup||Z$e,this.controller=new self.AbortController,this.stats=new $M}destroy(){this.loader=this.callbacks=this.context=this.config=this.request=null,this.abortInternal(),this.response=null,this.fetchSetup=this.controller=this.stats=null}abortInternal(){this.controller&&!this.stats.loading.end&&(this.stats.aborted=!0,this.controller.abort())}abort(){var e;this.abortInternal(),(e=this.callbacks)!=null&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)}load(e,r,n){const i=this.stats;if(i.loading.start)throw new Error("Loader can only be used once.");i.loading.start=self.performance.now();const s=Y$e(e,this.controller.signal),a=e.responseType==="arraybuffer",c=a?"byteLength":"length",{maxTimeToFirstByteMs:u,maxLoadTimeMs:o}=r.loadPolicy;this.context=e,this.config=r,this.callbacks=n,this.request=this.fetchSetup(e,s),self.clearTimeout(this.requestTimeout),r.timeout=u&&kn(u)?u:o,this.requestTimeout=self.setTimeout(()=>{this.callbacks&&(this.abortInternal(),this.callbacks.onTimeout(i,e,this.response))},r.timeout),(ME(this.request)?this.request.then(self.fetch):self.fetch(this.request)).then(f=>{var A;this.response=this.loader=f;const p=Math.max(self.performance.now(),i.loading.start);if(self.clearTimeout(this.requestTimeout),r.timeout=o,this.requestTimeout=self.setTimeout(()=>{this.callbacks&&(this.abortInternal(),this.callbacks.onTimeout(i,e,this.response))},o-(p-i.loading.start)),!f.ok){const{status:y,statusText:v}=f;throw new J$e(v||"fetch, bad network response",y,f)}i.loading.first=p,i.total=X$e(f.headers)||i.total;const g=(A=this.callbacks)==null?void 0:A.onProgress;return g&&kn(r.highWaterMark)?this.loadProgressively(f,i,e,r.highWaterMark,g):a?f.arrayBuffer():e.responseType==="json"?f.json():f.text()}).then(f=>{var A,p;const g=this.response;if(!g)throw new Error("loader destroyed");self.clearTimeout(this.requestTimeout),i.loading.end=Math.max(self.performance.now(),i.loading.first);const y=f[c];y&&(i.loaded=i.total=y);const v={url:g.url,data:f,code:g.status},b=(A=this.callbacks)==null?void 0:A.onProgress;b&&!kn(r.highWaterMark)&&b(i,e,f,g),(p=this.callbacks)==null||p.onSuccess(v,i,e,g)}).catch(f=>{var A;if(self.clearTimeout(this.requestTimeout),i.aborted)return;const p=f&&f.code||0,g=f?f.message:null;(A=this.callbacks)==null||A.onError({code:p,text:g},e,f?f.details:null,i)})}getCacheAge(){let e=null;if(this.response){const r=this.response.headers.get("age");e=r?parseFloat(r):null}return e}getResponseHeader(e){return this.response?this.response.headers.get(e):null}loadProgressively(e,r,n,i=0,s){const a=new Hne,c=e.body.getReader(),u=()=>c.read().then(o=>{if(o.done)return a.dataLength&&s(r,n,a.flush().buffer,e),Promise.resolve(new ArrayBuffer(0));const d=o.value,f=d.length;return r.loaded+=f,f<i||a.dataLength?(a.push(d),a.dataLength>=i&&s(r,n,a.flush().buffer,e)):s(r,n,d.buffer,e),u()}).catch(()=>Promise.reject());return u()}}function Y$e(t,e){const r={method:"GET",mode:"cors",credentials:"same-origin",signal:e,headers:new self.Headers(So({},t.headers))};return t.rangeEnd&&r.headers.set("Range","bytes="+t.rangeStart+"-"+String(t.rangeEnd-1)),r}function q$e(t){const e=W$e.exec(t);if(e)return parseInt(e[2])-parseInt(e[1])+1}function X$e(t){const e=t.get("Content-Range");if(e){const n=q$e(e);if(kn(n))return n}const r=t.get("Content-Length");if(r)return parseInt(r)}function Z$e(t,e){return new self.Request(t.url,e)}class J$e extends Error{constructor(e,r,n){super(e),this.code=void 0,this.details=void 0,this.code=r,this.details=n}}const e9e=/^age:\s*[\d.]+\s*$/im;class Lie{constructor(e){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=null,this.loader=null,this.stats=void 0,this.xhrSetup=e&&e.xhrSetup||null,this.stats=new $M,this.retryDelay=0}destroy(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null,this.context=null,this.xhrSetup=null}abortInternal(){const e=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),e&&(e.onreadystatechange=null,e.onprogress=null,e.readyState!==4&&(this.stats.aborted=!0,e.abort()))}abort(){var e;this.abortInternal(),(e=this.callbacks)!=null&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)}load(e,r,n){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=e,this.config=r,this.callbacks=n,this.loadInternal()}loadInternal(){const{config:e,context:r}=this;if(!e||!r)return;const n=this.loader=new self.XMLHttpRequest,i=this.stats;i.loading.first=0,i.loaded=0,i.aborted=!1;const s=this.xhrSetup;s?Promise.resolve().then(()=>{if(!(this.loader!==n||this.stats.aborted))return s(n,r.url)}).catch(a=>{if(!(this.loader!==n||this.stats.aborted))return n.open("GET",r.url,!0),s(n,r.url)}).then(()=>{this.loader!==n||this.stats.aborted||this.openAndSendXhr(n,r,e)}).catch(a=>{var c;(c=this.callbacks)==null||c.onError({code:n.status,text:a.message},r,n,i)}):this.openAndSendXhr(n,r,e)}openAndSendXhr(e,r,n){e.readyState||e.open("GET",r.url,!0);const i=r.headers,{maxTimeToFirstByteMs:s,maxLoadTimeMs:a}=n.loadPolicy;if(i)for(const c in i)e.setRequestHeader(c,i[c]);r.rangeEnd&&e.setRequestHeader("Range","bytes="+r.rangeStart+"-"+(r.rangeEnd-1)),e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.responseType=r.responseType,self.clearTimeout(this.requestTimeout),n.timeout=s&&kn(s)?s:a,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),n.timeout),e.send()}readystatechange(){const{context:e,loader:r,stats:n}=this;if(!e||!r)return;const i=r.readyState,s=this.config;if(!n.aborted&&i>=2&&(n.loading.first===0&&(n.loading.first=Math.max(self.performance.now(),n.loading.start),s.timeout!==s.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),s.timeout=s.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),s.loadPolicy.maxLoadTimeMs-(n.loading.first-n.loading.start)))),i===4)){self.clearTimeout(this.requestTimeout),r.onreadystatechange=null,r.onprogress=null;const o=r.status,d=r.responseType==="text"?r.responseText:null;if(o>=200&&o<300){const g=d??r.response;if(g!=null){var a,c;n.loading.end=Math.max(self.performance.now(),n.loading.first);const y=r.responseType==="arraybuffer"?g.byteLength:g.length;n.loaded=n.total=y,n.bwEstimate=n.total*8e3/(n.loading.end-n.loading.first);const v=(a=this.callbacks)==null?void 0:a.onProgress;v&&v(n,e,g,r);const b={url:r.responseURL,data:g,code:o};(c=this.callbacks)==null||c.onSuccess(b,n,e,r);return}}const f=s.loadPolicy.errorRetry,A=n.retry,p={url:e.url,data:void 0,code:o};if(Cj(f,A,!1,p))this.retry(f);else{var u;ao.error(`${o} while loading ${e.url}`),(u=this.callbacks)==null||u.onError({code:o,text:r.statusText},e,r,n)}}}loadtimeout(){if(!this.config)return;const e=this.config.loadPolicy.timeoutRetry,r=this.stats.retry;if(Cj(e,r,!0))this.retry(e);else{var n;ao.warn(`timeout while loading ${(n=this.context)==null?void 0:n.url}`);const i=this.callbacks;i&&(this.abortInternal(),i.onTimeout(this.stats,this.context,this.loader))}}retry(e){const{context:r,stats:n}=this;this.retryDelay=KM(e,n.retry),n.retry++,ao.warn(`${status?"HTTP Status "+status:"Timeout"} while loading ${r?.url}, retrying ${n.retry}/${e.maxNumRetry} in ${this.retryDelay}ms`),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)}loadprogress(e){const r=this.stats;r.loaded=e.loaded,e.lengthComputable&&(r.total=e.total)}getCacheAge(){let e=null;if(this.loader&&e9e.test(this.loader.getAllResponseHeaders())){const r=this.loader.getResponseHeader("age");e=r?parseFloat(r):null}return e}getResponseHeader(e){return this.loader&&new RegExp(`^${e}:\\s*[\\d.]+\\s*$`,"im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(e):null}}const t9e={maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null},r9e=io(io({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,maxDevicePixelRatio:Number.POSITIVE_INFINITY,preferManagedMediaSource:!0,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,frontBufferFlushThreshold:1/0,startOnSegmentBoundary:!1,maxBufferSize:60*1e3*1e3,maxFragLookUpTolerance:.25,maxBufferHole:.1,detectStallWithCurrentTimeMs:1250,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,nudgeOnVideoHole:!0,liveSyncMode:"edge",liveSyncDurationCount:3,liveSyncOnStallIncrease:1,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,ignorePlaylistParsingErrors:!1,loader:Lie,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:A6e,bufferController:i7e,capLevelController:v5,errorController:y6e,fpsController:s$e,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrEwmaDefaultEstimateMax:5e6,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:kne,requireKeySystemAccessOnStart:!1,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableEmsgKLVMetadata:!1,enableID3MetadataCues:!0,enableInterstitialPlayback:!0,interstitialAppendInPlace:!0,interstitialLiveLookAhead:10,useMediaCapabilities:!0,preserveManualLevelOnError:!1,certLoadPolicy:{default:t9e},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},interstitialAssetListLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:3e4,timeoutRetry:{maxNumRetry:0,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:0,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},n9e()),{},{subtitleStreamController:g$e,subtitleTrackController:l$e,timelineController:Q$e,audioStreamController:e7e,audioTrackController:t7e,emeController:ib,cmcdController:t$e,contentSteeringController:n$e,interstitialsController:p$e});function n9e(){return{cueHandler:G$e,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}}function i9e(t,e,r){if((e.liveSyncDurationCount||e.liveMaxLatencyDurationCount)&&(e.liveSyncDuration||e.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(e.liveMaxLatencyDurationCount!==void 0&&(e.liveSyncDurationCount===void 0||e.liveMaxLatencyDurationCount<=e.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(e.liveMaxLatencyDuration!==void 0&&(e.liveSyncDuration===void 0||e.liveMaxLatencyDuration<=e.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');const n=qR(t),i=["manifest","level","frag"],s=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return i.forEach(a=>{const c=`${a==="level"?"playlist":a}LoadPolicy`,u=e[c]===void 0,o=[];s.forEach(d=>{const f=`${a}Loading${d}`,A=e[f];if(A!==void 0&&u){o.push(f);const p=n[c].default;switch(e[c]={default:p},d){case"TimeOut":p.maxLoadTimeMs=A,p.maxTimeToFirstByteMs=A;break;case"MaxRetry":p.errorRetry.maxNumRetry=A,p.timeoutRetry.maxNumRetry=A;break;case"RetryDelay":p.errorRetry.retryDelayMs=A,p.timeoutRetry.retryDelayMs=A;break;case"MaxRetryTimeout":p.errorRetry.maxRetryDelayMs=A,p.timeoutRetry.maxRetryDelayMs=A;break}}}),o.length&&r.warn(`hls.js config: "${o.join('", "')}" setting(s) are deprecated, use "${c}": ${Mo(e[c])}`)}),io(io({},n),e)}function qR(t){return t&&typeof t=="object"?Array.isArray(t)?t.map(qR):Object.keys(t).reduce((e,r)=>(e[r]=qR(t[r]),e),{}):t}function s9e(t,e){const r=t.loader;r!==$G&&r!==Lie?(e.log("[config]: Custom loader detected, cannot enable progressive streaming"),t.progressive=!1):z$e()&&(t.loader=$G,t.progressive=!0,t.enableSoftwareAES=!0,e.log("[config]: Progressive streaming enabled, using FetchLoader"))}const Q_=2,a9e=.1,o9e=.05,l9e=100;class c9e extends Tne{constructor(e,r){super("gap-controller",e.logger),this.hls=void 0,this.fragmentTracker=void 0,this.media=null,this.mediaSource=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.buffered={},this.lastCurrentTime=0,this.ended=0,this.waiting=0,this.onMediaPlaying=()=>{this.ended=0,this.waiting=0},this.onMediaWaiting=()=>{var n;(n=this.media)!=null&&n.seeking||(this.waiting=self.performance.now(),this.tick())},this.onMediaEnded=()=>{if(this.hls){var n;this.ended=((n=this.media)==null?void 0:n.currentTime)||1,this.hls.trigger(_e.MEDIA_ENDED,{stalled:!1})}},this.hls=e,this.fragmentTracker=r,this.registerListeners()}registerListeners(){const{hls:e}=this;e&&(e.on(_e.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(_e.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(_e.BUFFER_APPENDED,this.onBufferAppended,this))}unregisterListeners(){const{hls:e}=this;e&&(e.off(_e.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(_e.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(_e.BUFFER_APPENDED,this.onBufferAppended,this))}destroy(){super.destroy(),this.unregisterListeners(),this.media=this.hls=this.fragmentTracker=null,this.mediaSource=void 0}onMediaAttached(e,r){this.setInterval(l9e),this.mediaSource=r.mediaSource;const n=this.media=r.media;th(n,"playing",this.onMediaPlaying),th(n,"waiting",this.onMediaWaiting),th(n,"ended",this.onMediaEnded)}onMediaDetaching(e,r){this.clearInterval();const{media:n}=this;n&&(jh(n,"playing",this.onMediaPlaying),jh(n,"waiting",this.onMediaWaiting),jh(n,"ended",this.onMediaEnded),this.media=null),this.mediaSource=void 0}onBufferAppended(e,r){this.buffered=r.timeRanges}get hasBuffered(){return Object.keys(this.buffered).length>0}tick(){var e;if(!((e=this.media)!=null&&e.readyState)||!this.hasBuffered)return;const r=this.media.currentTime;this.poll(r,this.lastCurrentTime),this.lastCurrentTime=r}poll(e,r){var n,i;const s=(n=this.hls)==null?void 0:n.config;if(!s)return;const a=this.media;if(!a)return;const{seeking:c}=a,u=this.seeking&&!c,o=!this.seeking&&c,d=a.paused&&!c||a.ended||a.playbackRate===0;if(this.seeking=c,e!==r){r&&(this.ended=0),this.moved=!0,c||(this.nudgeRetry=0,s.nudgeOnVideoHole&&!d&&e>r&&this.nudgeOnVideoHole(e,r)),this.waiting===0&&this.stallResolved(e);return}if(o||u){u&&this.stallResolved(e);return}if(d){this.nudgeRetry=0,this.stallResolved(e),!this.ended&&a.ended&&this.hls&&(this.ended=e||1,this.hls.trigger(_e.MEDIA_ENDED,{stalled:!1}));return}if(!hs.getBuffered(a).length){this.nudgeRetry=0;return}const f=hs.bufferInfo(a,e,0),A=f.nextStart||0,p=this.fragmentTracker;if(c&&p&&this.hls){const L=HG(this.hls.inFlightFragments,e),D=f.len>Q_,V=!A||L||A-e>Q_&&!p.getPartialFragment(e);if(D||V)return;this.moved=!1}const g=(i=this.hls)==null?void 0:i.latestLevelDetails;if(!this.moved&&this.stalled!==null&&p){if(!(f.len>0)&&!A)return;const D=Math.max(A,f.start||0)-e,G=!!(g!=null&&g.live)?g.targetduration*2:Q_,J=e_(e,p);if(D>0&&(D<=G||J)){a.paused||this._trySkipBufferHole(J);return}}const y=s.detectStallWithCurrentTimeMs,v=self.performance.now(),b=this.waiting;let w=this.stalled;if(w===null)if(b>0&&v-b<y)w=this.stalled=b;else{this.stalled=v;return}const S=v-w;if(!c&&(S>=y||b)&&this.hls){var _;if(((_=this.mediaSource)==null?void 0:_.readyState)==="ended"&&!(g!=null&&g.live)&&Math.abs(e-(g?.edge||0))<1){if(this.ended)return;this.ended=e||1,this.hls.trigger(_e.MEDIA_ENDED,{stalled:!0});return}if(this._reportStall(f),!this.media||!this.hls)return}const T=hs.bufferInfo(a,e,s.maxBufferHole);this._tryFixBufferStall(T,S,e)}stallResolved(e){const r=this.stalled;if(r&&this.hls&&(this.stalled=null,this.stallReported)){const n=self.performance.now()-r;this.log(`playback not stuck anymore @${e}, after ${Math.round(n)}ms`),this.stallReported=!1,this.waiting=0,this.hls.trigger(_e.STALL_RESOLVED,{})}}nudgeOnVideoHole(e,r){var n;const i=this.buffered.video;if(this.hls&&this.media&&this.fragmentTracker&&(n=this.buffered.audio)!=null&&n.length&&i&&i.length>1&&e>i.end(0)){const s=hs.bufferedInfo(hs.timeRangesToArray(this.buffered.audio),e,0);if(s.len>1&&r>=s.start){const a=hs.timeRangesToArray(i),c=hs.bufferedInfo(a,r,0).bufferedIndex;if(c>-1&&c<a.length-1){const u=hs.bufferedInfo(a,e,0).bufferedIndex,o=a[c].end,d=a[c+1].start;if((u===-1||u>c)&&d-o<1&&e-o<2){const f=new Error(`nudging playhead to flush pipeline after video hole. currentTime: ${e} hole: ${o} -> ${d} buffered index: ${u}`);this.warn(f.message),this.media.currentTime+=1e-6;let A=e_(e,this.fragmentTracker);A&&"fragment"in A?A=A.fragment:A||(A=void 0);const p=hs.bufferInfo(this.media,e,0);this.hls.trigger(_e.ERROR,{type:Ai.MEDIA_ERROR,details:ar.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:f,reason:f.message,frag:A,buffer:p.len,bufferInfo:p})}}}}}_tryFixBufferStall(e,r,n){var i,s;const{fragmentTracker:a,media:c}=this,u=(i=this.hls)==null?void 0:i.config;if(!c||!a||!u)return;const o=(s=this.hls)==null?void 0:s.latestLevelDetails,d=e_(n,a);if((d||o!=null&&o.live&&n<o.fragmentStart)&&(this._trySkipBufferHole(d)||!this.media))return;const f=e.buffered,A=this.adjacentTraversal(e,n);(f&&f.length>1&&e.len>u.maxBufferHole||e.nextStart&&(e.nextStart-n<u.maxBufferHole||A))&&(r>u.highBufferWatchdogPeriod*1e3||this.waiting)&&(this.warn("Trying to nudge playhead over buffer-hole"),this._tryNudgeBuffer(e))}adjacentTraversal(e,r){const n=this.fragmentTracker,i=e.nextStart;if(n&&i){const s=n.getFragAtPos(r,Yn.MAIN),a=n.getFragAtPos(i,Yn.MAIN);if(s&&a)return a.sn-s.sn<2}return!1}_reportStall(e){const{hls:r,media:n,stallReported:i,stalled:s}=this;if(!i&&s!==null&&n&&r){this.stallReported=!0;const a=new Error(`Playback stalling at @${n.currentTime} due to low buffer (${Mo(e)})`);this.warn(a.message),r.trigger(_e.ERROR,{type:Ai.MEDIA_ERROR,details:ar.BUFFER_STALLED_ERROR,fatal:!1,error:a,buffer:e.len,bufferInfo:e,stalled:{start:s}})}}_trySkipBufferHole(e){var r;const{fragmentTracker:n,media:i}=this,s=(r=this.hls)==null?void 0:r.config;if(!i||!n||!s)return 0;const a=i.currentTime,c=hs.bufferInfo(i,a,0),u=a<c.start?c.start:c.nextStart;if(u&&this.hls){const d=c.len<=s.maxBufferHole,f=c.len>0&&c.len<1&&i.readyState<3,A=u-a;if(A>0&&(d||f)){if(A>s.maxBufferHole){let g=!1;if(a===0){const y=n.getAppendedFrag(0,Yn.MAIN);y&&u<y.end&&(g=!0)}if(!g&&e){var o;if(!((o=this.hls.loadLevelObj)!=null&&o.details)||HG(this.hls.inFlightFragments,u))return 0;let v=!1,b=e.end;for(;b<u;){const w=e_(b,n);if(w)b+=w.duration;else{v=!0;break}}if(v)return 0}}const p=Math.max(u+o9e,a+a9e);if(this.warn(`skipping hole, adjusting currentTime from ${a} to ${p}`),this.moved=!0,i.currentTime=p,!(e!=null&&e.gap)){const g=new Error(`fragment loaded with buffer holes, seeking from ${a} to ${p}`),y={type:Ai.MEDIA_ERROR,details:ar.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:g,reason:g.message,buffer:c.len,bufferInfo:c};e&&("fragment"in e?y.part=e:y.frag=e),this.hls.trigger(_e.ERROR,y)}return p}}return 0}_tryNudgeBuffer(e){const{hls:r,media:n,nudgeRetry:i}=this,s=r?.config;if(!n||!s)return 0;const a=n.currentTime;if(this.nudgeRetry++,i<s.nudgeMaxRetry){const c=a+(i+1)*s.nudgeOffset,u=new Error(`Nudging 'currentTime' from ${a} to ${c}`);this.warn(u.message),n.currentTime=c,r.trigger(_e.ERROR,{type:Ai.MEDIA_ERROR,details:ar.BUFFER_NUDGE_ON_STALL,error:u,fatal:!1,buffer:e.len,bufferInfo:e})}else{const c=new Error(`Playhead still not moving while enough data buffered @${a} after ${s.nudgeMaxRetry} nudges`);this.error(c.message),r.trigger(_e.ERROR,{type:Ai.MEDIA_ERROR,details:ar.BUFFER_STALLED_ERROR,error:c,fatal:!0,buffer:e.len,bufferInfo:e})}}}function HG(t,e){const r=QG(t.main);if(r&&r.start<=e)return r;const n=QG(t.audio);return n&&n.start<=e?n:null}function QG(t){if(!t)return null;switch(t.state){case kr.IDLE:case kr.STOPPED:case kr.ENDED:case kr.ERROR:return null}return t.frag}function e_(t,e){return e.getAppendedFrag(t,Yn.MAIN)||e.getPartialFragment(t)}const u9e=.25;function XR(){if(!(typeof self>"u"))return self.VTTCue||self.TextTrackCue}function mL(t,e,r,n,i){let s=new t(e,r,"");try{s.value=n,i&&(s.type=i)}catch{s=new t(e,r,Mo(i?io({type:i},n):n))}return s}const t_=(()=>{const t=XR();try{t&&new t(0,Number.POSITIVE_INFINITY,"")}catch{return Number.MAX_VALUE}return Number.POSITIVE_INFINITY})();class d9e{constructor(e){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.removeCues=!0,this.assetCue=void 0,this.onEventCueEnter=()=>{this.hls&&this.hls.trigger(_e.EVENT_CUE_ENTER,{})},this.hls=e,this._registerListeners()}destroy(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=this.onEventCueEnter=null}_registerListeners(){const{hls:e}=this;e&&(e.on(_e.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(_e.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(_e.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(_e.MANIFEST_LOADING,this.onManifestLoading,this),e.on(_e.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.on(_e.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(_e.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(_e.LEVEL_PTS_UPDATED,this.onLevelPtsUpdated,this))}_unregisterListeners(){const{hls:e}=this;e&&(e.off(_e.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(_e.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(_e.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(_e.MANIFEST_LOADING,this.onManifestLoading,this),e.off(_e.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.off(_e.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(_e.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(_e.LEVEL_PTS_UPDATED,this.onLevelPtsUpdated,this))}onMediaAttaching(e,r){var n;this.media=r.media,((n=r.overrides)==null?void 0:n.cueRemoval)===!1&&(this.removeCues=!1)}onMediaAttached(){var e;const r=(e=this.hls)==null?void 0:e.latestLevelDetails;r&&this.updateDateRangeCues(r)}onMediaDetaching(e,r){this.media=null,!r.transferMedia&&(this.id3Track&&(this.removeCues&&Kx(this.id3Track,this.onEventCueEnter),this.id3Track=null),this.dateRangeCuesAppended={})}onManifestLoading(){this.dateRangeCuesAppended={}}createTrack(e){const r=this.getID3Track(e.textTracks);return r.mode="hidden",r}getID3Track(e){if(this.media){for(let r=0;r<e.length;r++){const n=e[r];if(n.kind==="metadata"&&n.label==="id3")return bie(n,this.media),n}return this.media.addTextTrack("metadata","id3")}}onFragParsingMetadata(e,r){if(!this.media||!this.hls)return;const{enableEmsgMetadataCues:n,enableID3MetadataCues:i}=this.hls.config;if(!n&&!i)return;const{samples:s}=r;this.id3Track||(this.id3Track=this.createTrack(this.media));const a=XR();if(a)for(let c=0;c<s.length;c++){const u=s[c].type;if(u===Jh.emsg&&!n||!i)continue;const o=Yne(s[c].data),d=s[c].pts;let f=d+s[c].duration;f>t_&&(f=t_),f-d<=0&&(f=d+u9e);for(let p=0;p<o.length;p++){const g=o[p];if(!qne(g)){this.updateId3CueEnds(d,u);const y=mL(a,d,f,g,u);y&&this.id3Track.addCue(y)}}}}updateId3CueEnds(e,r){var n;const i=(n=this.id3Track)==null?void 0:n.cues;if(i)for(let s=i.length;s--;){const a=i[s];a.type===r&&a.startTime<e&&a.endTime===t_&&(a.endTime=e)}}onBufferFlushing(e,{startOffset:r,endOffset:n,type:i}){const{id3Track:s,hls:a}=this;if(!a)return;const{config:{enableEmsgMetadataCues:c,enableID3MetadataCues:u}}=a;if(s&&(c||u)){let o;i==="audio"?o=d=>d.type===Jh.audioId3&&u:i==="video"?o=d=>d.type===Jh.emsg&&c:o=d=>d.type===Jh.audioId3&&u||d.type===Jh.emsg&&c,WR(s,r,n,o)}}onLevelUpdated(e,{details:r}){this.updateDateRangeCues(r,!0)}onLevelPtsUpdated(e,r){Math.abs(r.drift)>.01&&this.updateDateRangeCues(r.details)}updateDateRangeCues(e,r){if(!this.hls||!this.media)return;const{assetPlayerId:n,timelineOffset:i,enableDateRangeMetadataCues:s,interstitialsController:a}=this.hls.config;if(!s)return;const c=XR();if(n&&i&&!a){const{fragmentStart:y,fragmentEnd:v}=e;let b=this.assetCue;b?(b.startTime=y,b.endTime=v):c&&(b=this.assetCue=mL(c,y,v,{assetPlayerId:this.hls.config.assetPlayerId},"hlsjs.interstitial.asset"),b&&(b.id=n,this.id3Track||(this.id3Track=this.createTrack(this.media)),this.id3Track.addCue(b),b.addEventListener("enter",this.onEventCueEnter)))}if(!e.hasProgramDateTime)return;const{id3Track:u}=this,{dateRanges:o}=e,d=Object.keys(o);let f=this.dateRangeCuesAppended;if(u&&r){var A;if((A=u.cues)!=null&&A.length){const y=Object.keys(f).filter(v=>!d.includes(v));for(let v=y.length;v--;){var p;const b=y[v],w=(p=f[b])==null?void 0:p.cues;delete f[b],w&&Object.keys(w).forEach(S=>{const _=w[S];if(_){_.removeEventListener("enter",this.onEventCueEnter);try{u.removeCue(_)}catch{}}})}}else f=this.dateRangeCuesAppended={}}const g=e.fragments[e.fragments.length-1];if(!(d.length===0||!kn(g?.programDateTime))){this.id3Track||(this.id3Track=this.createTrack(this.media));for(let y=0;y<d.length;y++){const v=d[y],b=o[v],w=b.startTime,S=f[v],_=S?.cues||{};let T=S?.durationKnown||!1,L=t_;const{duration:D,endDate:V}=b;if(V&&D!==null)L=w+D,T=!0;else if(b.endOnNext&&!T){const J=d.reduce((ee,ue)=>{if(ue!==b.id){const pe=o[ue];if(pe.class===b.class&&pe.startDate>b.startDate&&(!ee||b.startDate<ee.startDate))return pe}return ee},null);J&&(L=J.startTime,T=!0)}const G=Object.keys(b.attr);for(let J=0;J<G.length;J++){const ee=G[J];if(!B6e(ee))continue;const ue=_[ee];if(ue)T&&!(S!=null&&S.durationKnown)?ue.endTime=L:Math.abs(ue.startTime-w)>.01&&(ue.startTime=w,ue.endTime=L);else if(c){let pe=b.attr[ee];L6e(ee)&&(pe=ane(pe));const he=mL(c,w,L,{key:ee,data:pe},Jh.dateRange);he&&(he.id=v,this.id3Track.addCue(he),_[ee]=he,a&&(ee==="X-ASSET-LIST"||ee==="X-ASSET-URL")&&he.addEventListener("enter",this.onEventCueEnter))}}f[v]={cues:_,dateRange:b,durationKnown:T}}}}}class h9e{constructor(e){this.hls=void 0,this.config=void 0,this.media=null,this.currentTime=0,this.stallCount=0,this._latency=null,this._targetLatencyUpdated=!1,this.onTimeupdate=()=>{const{media:r}=this,n=this.levelDetails;if(!r||!n)return;this.currentTime=r.currentTime;const i=this.computeLatency();if(i===null)return;this._latency=i;const{lowLatencyMode:s,maxLiveSyncPlaybackRate:a}=this.config;if(!s||a===1||!n.live)return;const c=this.targetLatency;if(c===null)return;const u=i-c,o=Math.min(this.maxLatency,c+n.targetduration);if(u<o&&u>.05&&this.forwardBufferLength>1){const f=Math.min(2,Math.max(1,a)),A=Math.round(2/(1+Math.exp(-.75*u-this.edgeStalled))*20)/20,p=Math.min(f,Math.max(1,A));this.changeMediaPlaybackRate(r,p)}else r.playbackRate!==1&&r.playbackRate!==0&&this.changeMediaPlaybackRate(r,1)},this.hls=e,this.config=e.config,this.registerListeners()}get levelDetails(){var e;return((e=this.hls)==null?void 0:e.latestLevelDetails)||null}get latency(){return this._latency||0}get maxLatency(){const{config:e}=this;if(e.liveMaxLatencyDuration!==void 0)return e.liveMaxLatencyDuration;const r=this.levelDetails;return r?e.liveMaxLatencyDurationCount*r.targetduration:0}get targetLatency(){const e=this.levelDetails;if(e===null||this.hls===null)return null;const{holdBack:r,partHoldBack:n,targetduration:i}=e,{liveSyncDuration:s,liveSyncDurationCount:a,lowLatencyMode:c}=this.config,u=this.hls.userConfig;let o=c&&n||r;(this._targetLatencyUpdated||u.liveSyncDuration||u.liveSyncDurationCount||o===0)&&(o=s!==void 0?s:a*i);const d=i;return o+Math.min(this.stallCount*this.config.liveSyncOnStallIncrease,d)}set targetLatency(e){this.stallCount=0,this.config.liveSyncDuration=e,this._targetLatencyUpdated=!0}get liveSyncPosition(){const e=this.estimateLiveEdge(),r=this.targetLatency;if(e===null||r===null)return null;const n=this.levelDetails;if(n===null)return null;const i=n.edge,s=e-r-this.edgeStalled,a=i-n.totalduration,c=i-(this.config.lowLatencyMode&&n.partTarget||n.targetduration);return Math.min(Math.max(a,s),c)}get drift(){const e=this.levelDetails;return e===null?1:e.drift}get edgeStalled(){const e=this.levelDetails;if(e===null)return 0;const r=(this.config.lowLatencyMode&&e.partTarget||e.targetduration)*3;return Math.max(e.age-r,0)}get forwardBufferLength(){const{media:e}=this,r=this.levelDetails;if(!e||!r)return 0;const n=e.buffered.length;return(n?e.buffered.end(n-1):r.edge)-this.currentTime}destroy(){this.unregisterListeners(),this.onMediaDetaching(),this.hls=null}registerListeners(){const{hls:e}=this;e&&(e.on(_e.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(_e.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(_e.MANIFEST_LOADING,this.onManifestLoading,this),e.on(_e.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(_e.ERROR,this.onError,this))}unregisterListeners(){const{hls:e}=this;e&&(e.off(_e.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(_e.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(_e.MANIFEST_LOADING,this.onManifestLoading,this),e.off(_e.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(_e.ERROR,this.onError,this))}onMediaAttached(e,r){this.media=r.media,this.media.addEventListener("timeupdate",this.onTimeupdate)}onMediaDetaching(){this.media&&(this.media.removeEventListener("timeupdate",this.onTimeupdate),this.media=null)}onManifestLoading(){this._latency=null,this.stallCount=0}onLevelUpdated(e,{details:r}){r.advanced&&this.onTimeupdate(),!r.live&&this.media&&this.media.removeEventListener("timeupdate",this.onTimeupdate)}onError(e,r){var n;r.details===ar.BUFFER_STALLED_ERROR&&(this.stallCount++,this.hls&&(n=this.levelDetails)!=null&&n.live&&this.hls.logger.warn("[latency-controller]: Stall detected, adjusting target latency"))}changeMediaPlaybackRate(e,r){var n,i;e.playbackRate!==r&&((n=this.hls)==null||n.logger.debug(`[latency-controller]: latency=${this.latency.toFixed(3)}, targetLatency=${(i=this.targetLatency)==null?void 0:i.toFixed(3)}, forwardBufferLength=${this.forwardBufferLength.toFixed(3)}: adjusting playback rate from ${e.playbackRate} to ${r}`),e.playbackRate=r)}estimateLiveEdge(){const e=this.levelDetails;return e===null?null:e.edge+e.age}computeLatency(){const e=this.estimateLiveEdge();return e===null?null:e-this.currentTime}}class f9e extends iF{constructor(e,r){super(e,"level-controller"),this._levels=[],this._firstLevel=-1,this._maxAutoLevel=-1,this._startLevel=void 0,this.currentLevel=null,this.currentLevelIndex=-1,this.manualLevelIndex=-1,this.steering=void 0,this.onParsedComplete=void 0,this.steering=r,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on(_e.MANIFEST_LOADING,this.onManifestLoading,this),e.on(_e.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(_e.LEVEL_LOADED,this.onLevelLoaded,this),e.on(_e.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(_e.FRAG_BUFFERED,this.onFragBuffered,this),e.on(_e.ERROR,this.onError,this)}_unregisterListeners(){const{hls:e}=this;e.off(_e.MANIFEST_LOADING,this.onManifestLoading,this),e.off(_e.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(_e.LEVEL_LOADED,this.onLevelLoaded,this),e.off(_e.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(_e.FRAG_BUFFERED,this.onFragBuffered,this),e.off(_e.ERROR,this.onError,this)}destroy(){this._unregisterListeners(),this.steering=null,this.resetLevels(),super.destroy()}stopLoad(){this._levels.forEach(r=>{r.loadError=0,r.fragmentError=0}),super.stopLoad()}resetLevels(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[],this._maxAutoLevel=-1}onManifestLoading(e,r){this.resetLevels()}onManifestLoaded(e,r){const n=this.hls.config.preferManagedMediaSource,i=[],s={},a={};let c=!1,u=!1,o=!1;r.levels.forEach(d=>{const f=d.attrs;let{audioCodec:A,videoCodec:p}=d;A&&(d.audioCodec=A=Ej(A,n)||void 0),p&&(p=d.videoCodec=YUe(p));const{width:g,height:y,unknownCodecs:v}=d,b=v?.length||0;if(c||(c=!!(g&&y)),u||(u=!!p),o||(o=!!A),b||A&&!this.isAudioSupported(A)||p&&!this.isVideoSupported(p)){this.log(`Some or all CODECS not supported "${f.CODECS}"`);return}const{CODECS:w,"FRAME-RATE":S,"HDCP-LEVEL":_,"PATHWAY-ID":T,RESOLUTION:L,"VIDEO-RANGE":D}=f,G=`${`${T||"."}-`}${d.bitrate}-${L}-${S}-${w}-${D}-${_}`;if(s[G])if(s[G].uri!==d.url&&!d.attrs["PATHWAY-ID"]){const J=a[G]+=1;d.attrs["PATHWAY-ID"]=new Array(J+1).join(".");const ee=this.createLevel(d);s[G]=ee,i.push(ee)}else s[G].addGroupId("audio",f.AUDIO),s[G].addGroupId("text",f.SUBTITLES);else{const J=this.createLevel(d);s[G]=J,a[G]=1,i.push(J)}}),this.filterAndSortMediaOptions(i,r,c,u,o)}createLevel(e){const r=new OE(e),n=e.supplemental;if(n!=null&&n.videoCodec&&!this.isVideoSupported(n.videoCodec)){const i=new Error(`SUPPLEMENTAL-CODECS not supported "${n.videoCodec}"`);this.log(i.message),r.supportedResult=vne(i,[])}return r}isAudioSupported(e){return LE(e,"audio",this.hls.config.preferManagedMediaSource)}isVideoSupported(e){return LE(e,"video",this.hls.config.preferManagedMediaSource)}filterAndSortMediaOptions(e,r,n,i,s){var a;let c=[],u=[],o=e;const d=((a=r.stats)==null?void 0:a.parsing)||{};if((n||i)&&s&&(o=o.filter(({videoCodec:w,videoRange:S,width:_,height:T})=>(!!w||!!(_&&T))&&s6e(S))),o.length===0){Promise.resolve().then(()=>{if(this.hls){let w="no level with compatible codecs found in manifest",S=w;r.levels.length&&(S=`one or more CODECS in variant not supported: ${Mo(r.levels.map(T=>T.attrs.CODECS).filter((T,L,D)=>D.indexOf(T)===L))}`,this.warn(S),w+=` (${S})`);const _=new Error(w);this.hls.trigger(_e.ERROR,{type:Ai.MEDIA_ERROR,details:ar.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:r.url,error:_,reason:S})}}),d.end=performance.now();return}r.audioTracks&&(c=r.audioTracks.filter(w=>!w.audioCodec||this.isAudioSupported(w.audioCodec)),VG(c)),r.subtitles&&(u=r.subtitles,VG(u));const f=o.slice(0);o.sort((w,S)=>{if(w.attrs["HDCP-LEVEL"]!==S.attrs["HDCP-LEVEL"])return(w.attrs["HDCP-LEVEL"]||"")>(S.attrs["HDCP-LEVEL"]||"")?1:-1;if(n&&w.height!==S.height)return w.height-S.height;if(w.frameRate!==S.frameRate)return w.frameRate-S.frameRate;if(w.videoRange!==S.videoRange)return Sj.indexOf(w.videoRange)-Sj.indexOf(S.videoRange);if(w.videoCodec!==S.videoCodec){const _=OK(w.videoCodec),T=OK(S.videoCodec);if(_!==T)return T-_}if(w.uri===S.uri&&w.codecSet!==S.codecSet){const _=wj(w.codecSet),T=wj(S.codecSet);if(_!==T)return T-_}return w.averageBitrate!==S.averageBitrate?w.averageBitrate-S.averageBitrate:0});let A=f[0];if(this.steering&&(o=this.steering.filterParsedLevels(o),o.length!==f.length)){for(let w=0;w<f.length;w++)if(f[w].pathwayId===o[0].pathwayId){A=f[w];break}}this._levels=o;for(let w=0;w<o.length;w++)if(o[w]===A){var p;this._firstLevel=w;const S=A.bitrate,_=this.hls.bandwidthEstimate;if(this.log(`manifest loaded, ${o.length} level(s) found, first bitrate: ${S}`),((p=this.hls.userConfig)==null?void 0:p.abrEwmaDefaultEstimate)===void 0){const T=Math.min(S,this.hls.config.abrEwmaDefaultEstimateMax);T>_&&_===this.hls.abrEwmaDefaultEstimate&&(this.hls.bandwidthEstimate=T)}break}const g=s&&!i,y=this.hls.config,v=!!(y.audioStreamController&&y.audioTrackController),b={levels:o,audioTracks:c,subtitleTracks:u,sessionData:r.sessionData,sessionKeys:r.sessionKeys,firstLevel:this._firstLevel,stats:r.stats,audio:s,video:i,altAudio:v&&!g&&c.some(w=>!!w.url)};d.end=performance.now(),this.hls.trigger(_e.MANIFEST_PARSED,b)}get levels(){return this._levels.length===0?null:this._levels}get loadLevelObj(){return this.currentLevel}get level(){return this.currentLevelIndex}set level(e){const r=this._levels;if(r.length===0)return;if(e<0||e>=r.length){const d=new Error("invalid level idx"),f=e<0;if(this.hls.trigger(_e.ERROR,{type:Ai.OTHER_ERROR,details:ar.LEVEL_SWITCH_ERROR,level:e,fatal:f,error:d,reason:d.message}),f)return;e=Math.min(e,r.length-1)}const n=this.currentLevelIndex,i=this.currentLevel,s=i?i.attrs["PATHWAY-ID"]:void 0,a=r[e],c=a.attrs["PATHWAY-ID"];if(this.currentLevelIndex=e,this.currentLevel=a,n===e&&i&&s===c)return;this.log(`Switching to level ${e} (${a.height?a.height+"p ":""}${a.videoRange?a.videoRange+" ":""}${a.codecSet?a.codecSet+" ":""}@${a.bitrate})${c?" with Pathway "+c:""} from level ${n}${s?" with Pathway "+s:""}`);const u={level:e,attrs:a.attrs,details:a.details,bitrate:a.bitrate,averageBitrate:a.averageBitrate,maxBitrate:a.maxBitrate,realBitrate:a.realBitrate,width:a.width,height:a.height,codecSet:a.codecSet,audioCodec:a.audioCodec,videoCodec:a.videoCodec,audioGroups:a.audioGroups,subtitleGroups:a.subtitleGroups,loaded:a.loaded,loadError:a.loadError,fragmentError:a.fragmentError,name:a.name,id:a.id,uri:a.uri,url:a.url,urlId:0,audioGroupIds:a.audioGroupIds,textGroupIds:a.textGroupIds};this.hls.trigger(_e.LEVEL_SWITCHING,u);const o=a.details;if(!o||o.live){const d=this.switchParams(a.uri,i?.details,o);this.loadPlaylist(d)}}get manualLevel(){return this.manualLevelIndex}set manualLevel(e){this.manualLevelIndex=e,this._startLevel===void 0&&(this._startLevel=e),e!==-1&&(this.level=e)}get firstLevel(){return this._firstLevel}set firstLevel(e){this._firstLevel=e}get startLevel(){if(this._startLevel===void 0){const e=this.hls.config.startLevel;return e!==void 0?e:this.hls.firstAutoLevel}return this._startLevel}set startLevel(e){this._startLevel=e}get pathways(){return this.steering?this.steering.pathways():[]}get pathwayPriority(){return this.steering?this.steering.pathwayPriority:null}set pathwayPriority(e){if(this.steering){const r=this.steering.pathways(),n=e.filter(i=>r.indexOf(i)!==-1);if(e.length<1){this.warn(`pathwayPriority ${e} should contain at least one pathway from list: ${r}`);return}this.steering.pathwayPriority=n}}onError(e,r){r.fatal||!r.context||r.context.type===zs.LEVEL&&r.context.level===this.level&&this.checkRetry(r)}onFragBuffered(e,{frag:r}){if(r!==void 0&&r.type===Yn.MAIN){const n=r.elementaryStreams;if(!Object.keys(n).some(s=>!!n[s]))return;const i=this._levels[r.level];i!=null&&i.loadError&&(this.log(`Resetting level error count of ${i.loadError} on frag buffered`),i.loadError=0)}}onLevelLoaded(e,r){var n;const{level:i,details:s}=r,a=r.levelInfo;if(!a){var c;this.warn(`Invalid level index ${i}`),(c=r.deliveryDirectives)!=null&&c.skip&&(s.deltaUpdateFailed=!0);return}if(a===this.currentLevel||r.withoutMultiVariant){a.fragmentError===0&&(a.loadError=0);let u=a.details;u===r.details&&u.advanced&&(u=void 0),this.playlistLoaded(i,r,u)}else(n=r.deliveryDirectives)!=null&&n.skip&&(s.deltaUpdateFailed=!0)}loadPlaylist(e){super.loadPlaylist(),this.shouldLoadPlaylist(this.currentLevel)&&this.scheduleLoading(this.currentLevel,e)}loadingPlaylist(e,r){super.loadingPlaylist(e,r);const n=this.getUrlWithDirectives(e.uri,r),i=this.currentLevelIndex,s=e.attrs["PATHWAY-ID"],a=e.details,c=a?.age;this.log(`Loading level index ${i}${r?.msn!==void 0?" at sn "+r.msn+" part "+r.part:""}${s?" Pathway "+s:""}${c&&a.live?" age "+c.toFixed(1)+(a.type&&" "+a.type||""):""} ${n}`),this.hls.trigger(_e.LEVEL_LOADING,{url:n,level:i,levelInfo:e,pathwayId:e.attrs["PATHWAY-ID"],id:0,deliveryDirectives:r||null})}get nextLoadLevel(){return this.manualLevelIndex!==-1?this.manualLevelIndex:this.hls.nextAutoLevel}set nextLoadLevel(e){this.level=e,this.manualLevelIndex===-1&&(this.hls.nextAutoLevel=e)}removeLevel(e){var r;if(this._levels.length===1)return;const n=this._levels.filter((s,a)=>a!==e?!0:(this.steering&&this.steering.removeLevel(s),s===this.currentLevel&&(this.currentLevel=null,this.currentLevelIndex=-1,s.details&&s.details.fragments.forEach(c=>c.level=-1)),!1));Fne(n),this._levels=n,this.currentLevelIndex>-1&&(r=this.currentLevel)!=null&&r.details&&(this.currentLevelIndex=this.currentLevel.details.fragments[0].level),this.manualLevelIndex>-1&&(this.manualLevelIndex=this.currentLevelIndex);const i=n.length-1;this._firstLevel=Math.min(this._firstLevel,i),this._startLevel&&(this._startLevel=Math.min(this._startLevel,i)),this.hls.trigger(_e.LEVELS_UPDATED,{levels:n})}onLevelsUpdated(e,{levels:r}){this._levels=r}checkMaxAutoUpdated(){const{autoLevelCapping:e,maxAutoLevel:r,maxHdcpLevel:n}=this.hls;this._maxAutoLevel!==r&&(this._maxAutoLevel=r,this.hls.trigger(_e.MAX_AUTO_LEVEL_UPDATED,{autoLevelCapping:e,levels:this.levels,maxAutoLevel:r,minAutoLevel:this.hls.minAutoLevel,maxHdcpLevel:n}))}}function VG(t){const e={};t.forEach(r=>{const n=r.groupId||"";r.id=e[n]=e[n]||0,e[n]++})}function Rie(){return self.SourceBuffer||self.WebKitSourceBuffer}function Oie(){if(!w0())return!1;const e=Rie();return!e||e.prototype&&typeof e.prototype.appendBuffer=="function"&&typeof e.prototype.remove=="function"}function A9e(){if(!Oie())return!1;const t=w0();return typeof t?.isTypeSupported=="function"&&(["avc1.42E01E,mp4a.40.2","av01.0.01M.08","vp09.00.50.08"].some(e=>t.isTypeSupported(RE(e,"video")))||["mp4a.40.2","fLaC"].some(e=>t.isTypeSupported(RE(e,"audio"))))}function m9e(){var t;const e=Rie();return typeof(e==null||(t=e.prototype)==null?void 0:t.changeType)=="function"}const p9e=100;class g9e extends qM{constructor(e,r,n){super(e,r,n,"stream-controller",Yn.MAIN),this.audioCodecSwap=!1,this.level=-1,this._forceStartLoad=!1,this._hasEnoughToStart=!1,this.altAudio=0,this.audioOnly=!1,this.fragPlaying=null,this.fragLastKbps=0,this.couldBacktrack=!1,this.backtrackFragment=null,this.audioCodecSwitch=!1,this.videoBuffer=null,this.onMediaPlaying=()=>{this.tick()},this.onMediaSeeked=()=>{const i=this.media,s=i?i.currentTime:null;if(s===null||!kn(s)||(this.log(`Media seeked to ${s.toFixed(3)}`),!this.getBufferedFrag(s)))return;const a=this.getFwdBufferInfoAtPos(i,s,Yn.MAIN,0);if(a===null||a.len===0){this.warn(`Main forward buffer length at ${s} on "seeked" event ${a?a.len:"empty"})`);return}this.tick()},this.registerListeners()}registerListeners(){super.registerListeners();const{hls:e}=this;e.on(_e.MANIFEST_PARSED,this.onManifestParsed,this),e.on(_e.LEVEL_LOADING,this.onLevelLoading,this),e.on(_e.LEVEL_LOADED,this.onLevelLoaded,this),e.on(_e.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.on(_e.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(_e.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on(_e.BUFFER_CREATED,this.onBufferCreated,this),e.on(_e.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(_e.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(_e.FRAG_BUFFERED,this.onFragBuffered,this)}unregisterListeners(){super.unregisterListeners();const{hls:e}=this;e.off(_e.MANIFEST_PARSED,this.onManifestParsed,this),e.off(_e.LEVEL_LOADED,this.onLevelLoaded,this),e.off(_e.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.off(_e.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(_e.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off(_e.BUFFER_CREATED,this.onBufferCreated,this),e.off(_e.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(_e.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(_e.FRAG_BUFFERED,this.onFragBuffered,this)}onHandlerDestroying(){this.onMediaPlaying=this.onMediaSeeked=null,this.unregisterListeners(),super.onHandlerDestroying()}startLoad(e,r){if(this.levels){const{lastCurrentTime:n,hls:i}=this;if(this.stopLoad(),this.setInterval(p9e),this.level=-1,!this.startFragRequested){let s=i.startLevel;s===-1&&(i.config.testBandwidth&&this.levels.length>1?(s=0,this.bitrateTest=!0):s=i.firstAutoLevel),i.nextLoadLevel=s,this.level=i.loadLevel,this._hasEnoughToStart=!!r}n>0&&e===-1&&!r&&(this.log(`Override startPosition with lastCurrentTime @${n.toFixed(3)}`),e=n),this.state=kr.IDLE,this.nextLoadPosition=this.lastCurrentTime=e+this.timelineOffset,this.startPosition=r?-1:e,this.tick()}else this._forceStartLoad=!0,this.state=kr.STOPPED}stopLoad(){this._forceStartLoad=!1,super.stopLoad()}doTick(){switch(this.state){case kr.WAITING_LEVEL:{const{levels:e,level:r}=this,n=e?.[r],i=n?.details;if(i&&(!i.live||this.levelLastLoaded===n&&!this.waitForLive(n))){if(this.waitForCdnTuneIn(i))break;this.state=kr.IDLE;break}else if(this.hls.nextLoadLevel!==this.level){this.state=kr.IDLE;break}break}case kr.FRAG_LOADING_WAITING_RETRY:this.checkRetryDate();break}this.state===kr.IDLE&&this.doTickIdle(),this.onTickEnd()}onTickEnd(){var e;super.onTickEnd(),(e=this.media)!=null&&e.readyState&&this.media.seeking===!1&&(this.lastCurrentTime=this.media.currentTime),this.checkFragmentChanged()}doTickIdle(){const{hls:e,levelLastLoaded:r,levels:n,media:i}=this;if(r===null||!i&&!this.primaryPrefetch&&(this.startFragRequested||!e.config.startFragPrefetch)||this.altAudio&&this.audioOnly)return;const s=this.buffering?e.nextLoadLevel:e.loadLevel;if(!(n!=null&&n[s]))return;const a=n[s],c=this.getMainFwdBufferInfo();if(c===null)return;const u=this.getLevelDetails();if(u&&this._streamEnded(c,u)){const y={};this.altAudio===2&&(y.type="video"),this.hls.trigger(_e.BUFFER_EOS,y),this.state=kr.ENDED;return}if(!this.buffering)return;e.loadLevel!==s&&e.manualLevel===-1&&this.log(`Adapting to level ${s} from level ${this.level}`),this.level=e.nextLoadLevel=s;const o=a.details;if(!o||this.state===kr.WAITING_LEVEL||this.waitForLive(a)){this.level=s,this.state=kr.WAITING_LEVEL,this.startFragRequested=!1;return}const d=c.len,f=this.getMaxBufferLength(a.maxBitrate);if(d>=f)return;this.backtrackFragment&&this.backtrackFragment.start>c.end&&(this.backtrackFragment=null);const A=this.backtrackFragment?this.backtrackFragment.start:c.end;let p=this.getNextFragment(A,o);if(this.couldBacktrack&&!this.fragPrevious&&p&&bc(p)&&this.fragmentTracker.getState(p)!==du.OK){var g;const v=((g=this.backtrackFragment)!=null?g:p).sn-o.startSN,b=o.fragments[v-1];b&&p.cc===b.cc&&(p=b,this.fragmentTracker.removeFragment(b))}else this.backtrackFragment&&c.len&&(this.backtrackFragment=null);if(p&&this.isLoopLoading(p,A)){if(!p.gap){const v=this.audioOnly&&!this.altAudio?Ro.AUDIO:Ro.VIDEO,b=(v===Ro.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;b&&this.afterBufferFlushed(b,v,Yn.MAIN)}p=this.getNextFragmentLoopLoading(p,o,c,Yn.MAIN,f)}p&&(p.initSegment&&!p.initSegment.data&&!this.bitrateTest&&(p=p.initSegment),this.loadFragment(p,a,A))}loadFragment(e,r,n){const i=this.fragmentTracker.getState(e);i===du.NOT_LOADED||i===du.PARTIAL?bc(e)?this.bitrateTest?(this.log(`Fragment ${e.sn} of level ${e.level} is being downloaded to test bitrate and will not be buffered`),this._loadBitrateTestFrag(e,r)):super.loadFragment(e,r,n):this._loadInitSegment(e,r):this.clearTrackerIfNeeded(e)}getBufferedFrag(e){return this.fragmentTracker.getBufferedFrag(e,Yn.MAIN)}followingBufferedFrag(e){return e?this.getBufferedFrag(e.end+.5):null}immediateLevelSwitch(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}nextLevelSwitch(){const{levels:e,media:r}=this;if(r!=null&&r.readyState){let n;const i=this.getAppendedFrag(r.currentTime);i&&i.start>1&&this.flushMainBuffer(0,i.start-1);const s=this.getLevelDetails();if(s!=null&&s.live){const c=this.getMainFwdBufferInfo();if(!c||c.len<s.targetduration*2)return}if(!r.paused&&e){const c=this.hls.nextLoadLevel,u=e[c],o=this.fragLastKbps;o&&this.fragCurrent?n=this.fragCurrent.duration*u.maxBitrate/(1e3*o)+1:n=0}else n=0;const a=this.getBufferedFrag(r.currentTime+n);if(a){const c=this.followingBufferedFrag(a);if(c){this.abortCurrentFrag();const u=c.maxStartPTS?c.maxStartPTS:c.start,o=c.duration,d=Math.max(a.end,u+Math.min(Math.max(o-this.config.maxFragLookUpTolerance,o*(this.couldBacktrack?.5:.125)),o*(this.couldBacktrack?.75:.25)));this.flushMainBuffer(d,Number.POSITIVE_INFINITY)}}}}abortCurrentFrag(){const e=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,e&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.state){case kr.KEY_LOADING:case kr.FRAG_LOADING:case kr.FRAG_LOADING_WAITING_RETRY:case kr.PARSING:case kr.PARSED:this.state=kr.IDLE;break}this.nextLoadPosition=this.getLoadPosition()}flushMainBuffer(e,r){super.flushMainBuffer(e,r,this.altAudio===2?"video":null)}onMediaAttached(e,r){super.onMediaAttached(e,r);const n=r.media;th(n,"playing",this.onMediaPlaying),th(n,"seeked",this.onMediaSeeked)}onMediaDetaching(e,r){const{media:n}=this;n&&(jh(n,"playing",this.onMediaPlaying),jh(n,"seeked",this.onMediaSeeked)),this.videoBuffer=null,this.fragPlaying=null,super.onMediaDetaching(e,r),!r.transferMedia&&(this._hasEnoughToStart=!1)}onManifestLoading(){super.onManifestLoading(),this.log("Trigger BUFFER_RESET"),this.hls.trigger(_e.BUFFER_RESET,void 0),this.couldBacktrack=!1,this.fragLastKbps=0,this.fragPlaying=this.backtrackFragment=null,this.altAudio=0,this.audioOnly=!1}onManifestParsed(e,r){let n=!1,i=!1;for(let s=0;s<r.levels.length;s++){const a=r.levels[s].audioCodec;a&&(n=n||a.indexOf("mp4a.40.2")!==-1,i=i||a.indexOf("mp4a.40.5")!==-1)}this.audioCodecSwitch=n&&i&&!m9e(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=r.levels,this.startFragRequested=!1}onLevelLoading(e,r){const{levels:n}=this;if(!n||this.state!==kr.IDLE)return;const i=r.levelInfo;(!i.details||i.details.live&&(this.levelLastLoaded!==i||i.details.expired)||this.waitForCdnTuneIn(i.details))&&(this.state=kr.WAITING_LEVEL)}onLevelLoaded(e,r){var n;const{levels:i,startFragRequested:s}=this,a=r.level,c=r.details,u=c.totalduration;if(!i){this.warn(`Levels were reset while loading level ${a}`);return}this.log(`Level ${a} loaded [${c.startSN},${c.endSN}]${c.lastPartSn?`[part-${c.lastPartSn}-${c.lastPartIndex}]`:""}, cc [${c.startCC}, ${c.endCC}] duration:${u}`);const o=r.levelInfo,d=this.fragCurrent;d&&(this.state===kr.FRAG_LOADING||this.state===kr.FRAG_LOADING_WAITING_RETRY)&&d.level!==r.level&&d.loader&&this.abortCurrentFrag();let f=0;if(c.live||(n=o.details)!=null&&n.live){var A;if(this.checkLiveUpdate(c),c.deltaUpdateFailed)return;f=this.alignPlaylists(c,o.details,(A=this.levelLastLoaded)==null?void 0:A.details)}if(o.details=c,this.levelLastLoaded=o,s||this.setStartPosition(c,f),this.hls.trigger(_e.LEVEL_UPDATED,{details:c,level:a}),this.state===kr.WAITING_LEVEL){if(this.waitForCdnTuneIn(c))return;this.state=kr.IDLE}s&&c.live&&this.synchronizeToLiveEdge(c),this.tick()}synchronizeToLiveEdge(e){const{config:r,media:n}=this;if(!n)return;const i=this.hls.liveSyncPosition,s=this.getLoadPosition(),a=e.fragmentStart,c=e.edge,u=s>=a-r.maxFragLookUpTolerance&&s<=c;if(i!==null&&n.duration>i&&(s<i||!u)){const d=r.liveMaxLatencyDuration!==void 0?r.liveMaxLatencyDuration:r.liveMaxLatencyDurationCount*e.targetduration;if((!u&&n.readyState<4||s<c-d)&&(this._hasEnoughToStart||(this.nextLoadPosition=i),n.readyState))if(this.warn(`Playback: ${s.toFixed(3)} is located too far from the end of live sliding playlist: ${c}, reset currentTime to : ${i.toFixed(3)}`),this.config.liveSyncMode==="buffered"){var o;const f=hs.bufferInfo(n,i,0);if(!((o=f.buffered)!=null&&o.length)){n.currentTime=i;return}if(f.start<=s){n.currentTime=i;return}const{nextStart:p}=hs.bufferedInfo(f.buffered,s,0);p&&(n.currentTime=p)}else n.currentTime=i}}_handleFragmentLoadProgress(e){var r;const n=e.frag,{part:i,payload:s}=e,{levels:a}=this;if(!a){this.warn(`Levels were reset while fragment load was in progress. Fragment ${n.sn} of level ${n.level} will not be buffered`);return}const c=a[n.level];if(!c){this.warn(`Level ${n.level} not found on progress`);return}const u=c.details;if(!u){this.warn(`Dropping fragment ${n.sn} of level ${n.level} after level details were reset`),this.fragmentTracker.removeFragment(n);return}const o=c.videoCodec,d=u.PTSKnown||!u.live,f=(r=n.initSegment)==null?void 0:r.data,A=this._getAudioCodec(c),p=this.transmuxer=this.transmuxer||new oie(this.hls,Yn.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),g=i?i.index:-1,y=g!==-1,v=new zM(n.level,n.sn,n.stats.chunkCount,s.byteLength,g,y),b=this.initPTS[n.cc];p.push(s,f,A,o,n,i,u.totalduration,d,v,b)}onAudioTrackSwitching(e,r){const n=this.hls,i=this.altAudio!==0;if(_j(r.url,n))this.altAudio=1;else{if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;const a=this.fragCurrent;a&&(this.log("Switching to main audio track, cancel main fragment load"),a.abortRequests(),this.fragmentTracker.removeFragment(a)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();if(i){this.altAudio=0,this.fragmentTracker.removeAllFragments(),n.once(_e.BUFFER_FLUSHED,()=>{this.hls&&this.hls.trigger(_e.AUDIO_TRACK_SWITCHED,r)}),n.trigger(_e.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null});return}n.trigger(_e.AUDIO_TRACK_SWITCHED,r)}}onAudioTrackSwitched(e,r){const n=_j(r.url,this.hls);if(n){const i=this.videoBuffer;i&&this.mediaBuffer!==i&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=i)}this.altAudio=n?2:0,this.tick()}onBufferCreated(e,r){const n=r.tracks;let i,s,a=!1;for(const c in n){const u=n[c];if(u.id==="main"){if(s=c,i=u,c==="video"){const o=n[c];o&&(this.videoBuffer=o.buffer)}}else a=!0}a&&i?(this.log(`Alternate track found, use ${s}.buffered to schedule main fragment loading`),this.mediaBuffer=i.buffer):this.mediaBuffer=this.media}onFragBuffered(e,r){const{frag:n,part:i}=r,s=n.type===Yn.MAIN;if(s){if(this.fragContextChanged(n)){this.warn(`Fragment ${n.sn}${i?" p: "+i.index:""} of level ${n.level} finished buffering, but was aborted. state: ${this.state}`),this.state===kr.PARSED&&(this.state=kr.IDLE);return}const c=i?i.stats:n.stats;this.fragLastKbps=Math.round(8*c.total/(c.buffering.end-c.loading.first)),bc(n)&&(this.fragPrevious=n),this.fragBufferedComplete(n,i)}const a=this.media;a&&(!this._hasEnoughToStart&&hs.getBuffered(a).length&&(this._hasEnoughToStart=!0,this.seekToStartPos()),s&&this.tick())}get hasEnoughToStart(){return this._hasEnoughToStart}onError(e,r){var n;if(r.fatal){this.state=kr.ERROR;return}switch(r.details){case ar.FRAG_GAP:case ar.FRAG_PARSING_ERROR:case ar.FRAG_DECRYPT_ERROR:case ar.FRAG_LOAD_ERROR:case ar.FRAG_LOAD_TIMEOUT:case ar.KEY_LOAD_ERROR:case ar.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(Yn.MAIN,r);break;case ar.LEVEL_LOAD_ERROR:case ar.LEVEL_LOAD_TIMEOUT:case ar.LEVEL_PARSING_ERROR:!r.levelRetry&&this.state===kr.WAITING_LEVEL&&((n=r.context)==null?void 0:n.type)===zs.LEVEL&&(this.state=kr.IDLE);break;case ar.BUFFER_ADD_CODEC_ERROR:case ar.BUFFER_APPEND_ERROR:if(r.parent!=="main")return;this.reduceLengthAndFlushBuffer(r)&&this.resetLoadingState();break;case ar.BUFFER_FULL_ERROR:if(r.parent!=="main")return;this.reduceLengthAndFlushBuffer(r)&&(!this.config.interstitialsController&&this.config.assetPlayerId?this._hasEnoughToStart=!0:this.flushMainBuffer(0,Number.POSITIVE_INFINITY));break;case ar.INTERNAL_EXCEPTION:this.recoverWorkerError(r);break}}onFragLoadEmergencyAborted(){this.state=kr.IDLE,this._hasEnoughToStart||(this.startFragRequested=!1,this.nextLoadPosition=this.lastCurrentTime),this.tickImmediate()}onBufferFlushed(e,{type:r}){if(r!==Ro.AUDIO||!this.altAudio){const n=(r===Ro.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;n&&(this.afterBufferFlushed(n,r,Yn.MAIN),this.tick())}}onLevelsUpdated(e,r){this.level>-1&&this.fragCurrent&&(this.level=this.fragCurrent.level,this.level===-1&&this.resetWhenMissingContext(this.fragCurrent)),this.levels=r.levels}swapAudioCodec(){this.audioCodecSwap=!this.audioCodecSwap}seekToStartPos(){const{media:e}=this;if(!e)return;const r=e.currentTime;let n=this.startPosition;if(n>=0&&r<n){if(e.seeking){this.log(`could not seek to ${n}, already seeking at ${r}`);return}const i=this.timelineOffset;i&&n&&(n+=i);const s=this.getLevelDetails(),a=hs.getBuffered(e),c=a.length?a.start(0):0,u=c-n,o=Math.max(this.config.maxBufferHole,this.config.maxFragLookUpTolerance);(this.config.startOnSegmentBoundary||u>0&&(u<o||this.loadingParts&&u<2*(s?.partTarget||0)))&&(this.log(`adjusting start position by ${u} to match buffer start`),n+=u,this.startPosition=n),r<n&&(this.log(`seek to target start position ${n} from current time ${r} buffer start ${c}`),e.currentTime=n)}}_getAudioCodec(e){let r=this.config.defaultAudioCodec||e.audioCodec;return this.audioCodecSwap&&r&&(this.log("Swapping audio codec"),r.indexOf("mp4a.40.5")!==-1?r="mp4a.40.2":r="mp4a.40.5"),r}_loadBitrateTestFrag(e,r){e.bitrateTest=!0,this._doFragLoad(e,r).then(n=>{const{hls:i}=this,s=n?.frag;if(!s||this.fragContextChanged(s))return;r.fragmentError=0,this.state=kr.IDLE,this.startFragRequested=!1,this.bitrateTest=!1;const a=s.stats;a.parsing.start=a.parsing.end=a.buffering.start=a.buffering.end=self.performance.now(),i.trigger(_e.FRAG_LOADED,n),s.bitrateTest=!1}).catch(n=>{this.state===kr.STOPPED||this.state===kr.ERROR||(this.warn(n),this.resetFragmentLoading(e))})}_handleTransmuxComplete(e){const r=this.playlistType,{hls:n}=this,{remuxResult:i,chunkMeta:s}=e,a=this.getCurrentContext(s);if(!a){this.resetWhenMissingContext(s);return}const{frag:c,part:u,level:o}=a,{video:d,text:f,id3:A,initSegment:p}=i,{details:g}=o,y=this.altAudio?void 0:i.audio;if(this.fragContextChanged(c)){this.fragmentTracker.removeFragment(c);return}if(this.state=kr.PARSING,p){const v=p.tracks;if(v){const _=c.initSegment||c;if(this.unhandledEncryptionError(p,c))return;this._bufferInitSegment(o,v,_,s),n.trigger(_e.FRAG_PARSING_INIT_SEGMENT,{frag:_,id:r,tracks:v})}const b=p.initPTS,w=p.timescale,S=this.initPTS[c.cc];if(kn(b)&&(!S||S.baseTime!==b||S.timescale!==w)){const _=p.trackId;this.initPTS[c.cc]={baseTime:b,timescale:w,trackId:_},n.trigger(_e.INIT_PTS_FOUND,{frag:c,id:r,initPTS:b,timescale:w,trackId:_})}}if(d&&g){y&&d.type==="audiovideo"&&this.logMuxedErr(c);const v=g.fragments[c.sn-1-g.startSN],b=c.sn===g.startSN,w=!v||c.cc>v.cc;if(i.independent!==!1){const{startPTS:S,endPTS:_,startDTS:T,endDTS:L}=d;if(u)u.elementaryStreams[d.type]={startPTS:S,endPTS:_,startDTS:T,endDTS:L};else if(d.firstKeyFrame&&d.independent&&s.id===1&&!w&&(this.couldBacktrack=!0),d.dropped&&d.independent){const D=this.getMainFwdBufferInfo(),V=(D?D.end:this.getLoadPosition())+this.config.maxBufferHole,G=d.firstKeyFramePTS?d.firstKeyFramePTS:S;if(!b&&V<G-this.config.maxBufferHole&&!w){this.backtrack(c);return}else w&&(c.gap=!0);c.setElementaryStreamInfo(d.type,c.start,_,c.start,L,!0)}else b&&S-(g.appliedTimelineOffset||0)>Q_&&(c.gap=!0);c.setElementaryStreamInfo(d.type,S,_,T,L),this.backtrackFragment&&(this.backtrackFragment=c),this.bufferFragmentData(d,c,u,s,b||w)}else if(b||w)c.gap=!0;else{this.backtrack(c);return}}if(y){const{startPTS:v,endPTS:b,startDTS:w,endDTS:S}=y;u&&(u.elementaryStreams[Ro.AUDIO]={startPTS:v,endPTS:b,startDTS:w,endDTS:S}),c.setElementaryStreamInfo(Ro.AUDIO,v,b,w,S),this.bufferFragmentData(y,c,u,s)}if(g&&A!=null&&A.samples.length){const v={id:r,frag:c,details:g,samples:A.samples};n.trigger(_e.FRAG_PARSING_METADATA,v)}if(g&&f){const v={id:r,frag:c,details:g,samples:f.samples};n.trigger(_e.FRAG_PARSING_USERDATA,v)}}logMuxedErr(e){this.warn(`${bc(e)?"Media":"Init"} segment with muxed audiovideo where only video expected: ${e.url}`)}_bufferInitSegment(e,r,n,i){if(this.state!==kr.PARSING)return;this.audioOnly=!!r.audio&&!r.video,this.altAudio&&!this.audioOnly&&(delete r.audio,r.audiovideo&&this.logMuxedErr(n));const{audio:s,video:a,audiovideo:c}=r;if(s){const o=e.audioCodec;let d=P_(s.codec,o);d==="mp4a"&&(d="mp4a.40.5");const f=navigator.userAgent.toLowerCase();if(this.audioCodecSwitch){d&&(d.indexOf("mp4a.40.5")!==-1?d="mp4a.40.2":d="mp4a.40.5");const A=s.metadata;A&&"channelCount"in A&&(A.channelCount||1)!==1&&f.indexOf("firefox")===-1&&(d="mp4a.40.5")}d&&d.indexOf("mp4a.40.5")!==-1&&f.indexOf("android")!==-1&&s.container!=="audio/mpeg"&&(d="mp4a.40.2",this.log(`Android: force audio codec to ${d}`)),o&&o!==d&&this.log(`Swapping manifest audio codec "${o}" for "${d}"`),s.levelCodec=d,s.id=Yn.MAIN,this.log(`Init audio buffer, container:${s.container}, codecs[selected/level/parsed]=[${d||""}/${o||""}/${s.codec}]`),delete r.audiovideo}if(a){a.levelCodec=e.videoCodec,a.id=Yn.MAIN;const o=a.codec;if(o?.length===4)switch(o){case"hvc1":case"hev1":a.codec="hvc1.1.6.L120.90";break;case"av01":a.codec="av01.0.04M.08";break;case"avc1":a.codec="avc1.42e01e";break}this.log(`Init video buffer, container:${a.container}, codecs[level/parsed]=[${e.videoCodec||""}/${o}]${a.codec!==o?" parsed-corrected="+a.codec:""}${a.supplemental?" supplemental="+a.supplemental:""}`),delete r.audiovideo}c&&(this.log(`Init audiovideo buffer, container:${c.container}, codecs[level/parsed]=[${e.codecs}/${c.codec}]`),delete r.video,delete r.audio);const u=Object.keys(r);if(u.length){if(this.hls.trigger(_e.BUFFER_CODECS,r),!this.hls)return;u.forEach(o=>{const f=r[o].initSegment;f!=null&&f.byteLength&&this.hls.trigger(_e.BUFFER_APPENDING,{type:o,data:f,frag:n,part:null,chunkMeta:i,parent:n.type})})}this.tickImmediate()}getMainFwdBufferInfo(){const e=this.mediaBuffer&&this.altAudio===2?this.mediaBuffer:this.media;return this.getFwdBufferInfo(e,Yn.MAIN)}get maxBufferLength(){const{levels:e,level:r}=this,n=e?.[r];return n?this.getMaxBufferLength(n.maxBitrate):this.config.maxBufferLength}backtrack(e){this.couldBacktrack=!0,this.backtrackFragment=e,this.resetTransmuxer(),this.flushBufferGap(e),this.fragmentTracker.removeFragment(e),this.fragPrevious=null,this.nextLoadPosition=e.start,this.state=kr.IDLE}checkFragmentChanged(){const e=this.media;let r=null;if(e&&e.readyState>1&&e.seeking===!1){const n=e.currentTime;if(hs.isBuffered(e,n)?r=this.getAppendedFrag(n):hs.isBuffered(e,n+.1)&&(r=this.getAppendedFrag(n+.1)),r){this.backtrackFragment=null;const i=this.fragPlaying,s=r.level;(!i||r.sn!==i.sn||i.level!==s)&&(this.fragPlaying=r,this.hls.trigger(_e.FRAG_CHANGED,{frag:r}),(!i||i.level!==s)&&this.hls.trigger(_e.LEVEL_SWITCHED,{level:s}))}}}get nextLevel(){const e=this.nextBufferedFrag;return e?e.level:-1}get currentFrag(){var e;if(this.fragPlaying)return this.fragPlaying;const r=((e=this.media)==null?void 0:e.currentTime)||this.lastCurrentTime;return kn(r)?this.getAppendedFrag(r):null}get currentProgramDateTime(){var e;const r=((e=this.media)==null?void 0:e.currentTime)||this.lastCurrentTime;if(kn(r)){const n=this.getLevelDetails(),i=this.currentFrag||(n?ly(null,n.fragments,r):null);if(i){const s=i.programDateTime;if(s!==null){const a=s+(r-i.start)*1e3;return new Date(a)}}}return null}get currentLevel(){const e=this.currentFrag;return e?e.level:-1}get nextBufferedFrag(){const e=this.currentFrag;return e?this.followingBufferedFrag(e):null}get forceStartLoad(){return this._forceStartLoad}}class v9e extends Gf{constructor(e,r){super("key-loader",r),this.config=void 0,this.keyIdToKeyInfo={},this.emeController=null,this.config=e}abort(e){for(const n in this.keyIdToKeyInfo){const i=this.keyIdToKeyInfo[n].loader;if(i){var r;if(e&&e!==((r=i.context)==null?void 0:r.frag.type))return;i.abort()}}}detach(){for(const e in this.keyIdToKeyInfo){const r=this.keyIdToKeyInfo[e];(r.mediaKeySessionContext||r.decryptdata.isCommonEncryption)&&delete this.keyIdToKeyInfo[e]}}destroy(){this.detach();for(const e in this.keyIdToKeyInfo){const r=this.keyIdToKeyInfo[e].loader;r&&r.destroy()}this.keyIdToKeyInfo={}}createKeyLoadError(e,r=ar.KEY_LOAD_ERROR,n,i,s){return new xp({type:Ai.NETWORK_ERROR,details:r,fatal:!1,frag:e,response:s,error:n,networkDetails:i})}loadClear(e,r,n){if(this.emeController&&this.config.emeEnabled&&!this.emeController.getSelectedKeySystemFormats().length){if(r.length)for(let i=0,s=r.length;i<s;i++){const a=r[i];if(e.cc<=a.cc&&(!bc(e)||!bc(a)||e.sn<a.sn)||!n&&i==s-1)return this.emeController.selectKeySystemFormat(a).then(c=>{if(!this.emeController)return;a.setKeyFormat(c);const u=M_(c);if(u)return this.emeController.getKeySystemAccess([u])})}if(this.config.requireKeySystemAccessOnStart){const i=nw(this.config);if(i.length)return this.emeController.getKeySystemAccess(i)}}return null}load(e){return!e.decryptdata&&e.encrypted&&this.emeController&&this.config.emeEnabled?this.emeController.selectKeySystemFormat(e).then(r=>this.loadInternal(e,r)):this.loadInternal(e)}loadInternal(e,r){var n,i;r&&e.setKeyFormat(r);const s=e.decryptdata;if(!s){const o=new Error(r?`Expected frag.decryptdata to be defined after setting format ${r}`:`Missing decryption data on fragment in onKeyLoading (emeEnabled with controller: ${this.emeController&&this.config.emeEnabled})`);return Promise.reject(this.createKeyLoadError(e,ar.KEY_LOAD_ERROR,o))}const a=s.uri;if(!a)return Promise.reject(this.createKeyLoadError(e,ar.KEY_LOAD_ERROR,new Error(`Invalid key URI: "${a}"`)));const c=pL(s);let u=this.keyIdToKeyInfo[c];if((n=u)!=null&&n.decryptdata.key)return s.key=u.decryptdata.key,Promise.resolve({frag:e,keyInfo:u});if(this.emeController&&(i=u)!=null&&i.keyLoadPromise)switch(this.emeController.getKeyStatus(u.decryptdata)){case"usable":case"usable-in-future":return u.keyLoadPromise.then(d=>{const{keyInfo:f}=d;return s.key=f.decryptdata.key,{frag:e,keyInfo:f}})}switch(this.log(`${this.keyIdToKeyInfo[c]?"Rel":"L"}oading${s.keyId?" keyId: "+md(s.keyId):""} URI: ${s.uri} from ${e.type} ${e.level}`),u=this.keyIdToKeyInfo[c]={decryptdata:s,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},s.method){case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return s.keyFormat==="identity"?this.loadKeyHTTP(u,e):this.loadKeyEME(u,e);case"AES-128":case"AES-256":case"AES-256-CTR":return this.loadKeyHTTP(u,e);default:return Promise.reject(this.createKeyLoadError(e,ar.KEY_LOAD_ERROR,new Error(`Key supplied with unsupported METHOD: "${s.method}"`)))}}loadKeyEME(e,r){const n={frag:r,keyInfo:e};if(this.emeController&&this.config.emeEnabled){var i;if(!e.decryptdata.keyId&&(i=r.initSegment)!=null&&i.data){const a=DUe(r.initSegment.data);if(a.length){let c=a[0];c.some(u=>u!==0)?(this.log(`Using keyId found in init segment ${md(c)}`),g0.setKeyIdForUri(e.decryptdata.uri,c)):(c=g0.addKeyIdForUri(e.decryptdata.uri),this.log(`Generating keyId to patch media ${md(c)}`)),e.decryptdata.keyId=c}}if(!e.decryptdata.keyId&&!bc(r))return Promise.resolve(n);const s=this.emeController.loadKey(n);return(e.keyLoadPromise=s.then(a=>(e.mediaKeySessionContext=a,n))).catch(a=>{throw e.keyLoadPromise=null,"data"in a&&(a.data.frag=r),a})}return Promise.resolve(n)}loadKeyHTTP(e,r){const n=this.config,i=n.loader,s=new i(n);return r.keyLoader=e.loader=s,e.keyLoadPromise=new Promise((a,c)=>{const u={keyInfo:e,frag:r,responseType:"arraybuffer",url:e.decryptdata.uri},o=n.keyLoadPolicy.default,d={loadPolicy:o,timeout:o.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},f={onSuccess:(A,p,g,y)=>{const{frag:v,keyInfo:b}=g,w=pL(b.decryptdata);if(!v.decryptdata||b!==this.keyIdToKeyInfo[w])return c(this.createKeyLoadError(v,ar.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),y));b.decryptdata.key=v.decryptdata.key=new Uint8Array(A.data),v.keyLoader=null,b.loader=null,a({frag:v,keyInfo:b})},onError:(A,p,g,y)=>{this.resetLoader(p),c(this.createKeyLoadError(r,ar.KEY_LOAD_ERROR,new Error(`HTTP Error ${A.code} loading key ${A.text}`),g,io({url:u.url,data:void 0},A)))},onTimeout:(A,p,g)=>{this.resetLoader(p),c(this.createKeyLoadError(r,ar.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),g))},onAbort:(A,p,g)=>{this.resetLoader(p),c(this.createKeyLoadError(r,ar.INTERNAL_ABORTED,new Error("key loading aborted"),g))}};s.load(u,d,f)})}resetLoader(e){const{frag:r,keyInfo:n,url:i}=e,s=n.loader;r.keyLoader===s&&(r.keyLoader=null,n.loader=null);const a=pL(n.decryptdata)||i;delete this.keyIdToKeyInfo[a],s&&s.destroy()}}function pL(t){if(t.keyFormat!==pd.FAIRPLAY){const e=t.keyId;if(e)return md(e)}return t.uri}function KG(t){const{type:e}=t;switch(e){case zs.AUDIO_TRACK:return Yn.AUDIO;case zs.SUBTITLE_TRACK:return Yn.SUBTITLE;default:return Yn.MAIN}}function gL(t,e){let r=t.url;return(r===void 0||r.indexOf("data:")===0)&&(r=e.url),r}class y9e{constructor(e){this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.onManifestLoaded=this.checkAutostartLoad,this.hls=e,this.registerListeners()}startLoad(e){}stopLoad(){this.destroyInternalLoaders()}registerListeners(){const{hls:e}=this;e.on(_e.MANIFEST_LOADING,this.onManifestLoading,this),e.on(_e.LEVEL_LOADING,this.onLevelLoading,this),e.on(_e.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.on(_e.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this),e.on(_e.LEVELS_UPDATED,this.onLevelsUpdated,this)}unregisterListeners(){const{hls:e}=this;e.off(_e.MANIFEST_LOADING,this.onManifestLoading,this),e.off(_e.LEVEL_LOADING,this.onLevelLoading,this),e.off(_e.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.off(_e.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this),e.off(_e.LEVELS_UPDATED,this.onLevelsUpdated,this)}createInternalLoader(e){const r=this.hls.config,n=r.pLoader,i=r.loader,s=n||i,a=new s(r);return this.loaders[e.type]=a,a}getInternalLoader(e){return this.loaders[e.type]}resetInternalLoader(e){this.loaders[e]&&delete this.loaders[e]}destroyInternalLoaders(){for(const e in this.loaders){const r=this.loaders[e];r&&r.destroy(),this.resetInternalLoader(e)}}destroy(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()}onManifestLoading(e,r){const{url:n}=r;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:zs.MANIFEST,url:n,deliveryDirectives:null,levelOrTrack:null})}onLevelLoading(e,r){const{id:n,level:i,pathwayId:s,url:a,deliveryDirectives:c,levelInfo:u}=r;this.load({id:n,level:i,pathwayId:s,responseType:"text",type:zs.LEVEL,url:a,deliveryDirectives:c,levelOrTrack:u})}onAudioTrackLoading(e,r){const{id:n,groupId:i,url:s,deliveryDirectives:a,track:c}=r;this.load({id:n,groupId:i,level:null,responseType:"text",type:zs.AUDIO_TRACK,url:s,deliveryDirectives:a,levelOrTrack:c})}onSubtitleTrackLoading(e,r){const{id:n,groupId:i,url:s,deliveryDirectives:a,track:c}=r;this.load({id:n,groupId:i,level:null,responseType:"text",type:zs.SUBTITLE_TRACK,url:s,deliveryDirectives:a,levelOrTrack:c})}onLevelsUpdated(e,r){const n=this.loaders[zs.LEVEL];if(n){const i=n.context;i&&!r.levels.some(s=>s===i.levelOrTrack)&&(n.abort(),delete this.loaders[zs.LEVEL])}}load(e){var r;const n=this.hls.config;let i=this.getInternalLoader(e);if(i){const o=this.hls.logger,d=i.context;if(d&&d.levelOrTrack===e.levelOrTrack&&(d.url===e.url||d.deliveryDirectives&&!e.deliveryDirectives)){d.url===e.url?o.log(`[playlist-loader]: ignore ${e.url} ongoing request`):o.log(`[playlist-loader]: ignore ${e.url} in favor of ${d.url}`);return}o.log(`[playlist-loader]: aborting previous loader for type: ${e.type}`),i.abort()}let s;if(e.type===zs.MANIFEST?s=n.manifestLoadPolicy.default:s=So({},n.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),i=this.createInternalLoader(e),kn((r=e.deliveryDirectives)==null?void 0:r.part)){let o;if(e.type===zs.LEVEL&&e.level!==null?o=this.hls.levels[e.level].details:e.type===zs.AUDIO_TRACK&&e.id!==null?o=this.hls.audioTracks[e.id].details:e.type===zs.SUBTITLE_TRACK&&e.id!==null&&(o=this.hls.subtitleTracks[e.id].details),o){const d=o.partTarget,f=o.targetduration;if(d&&f){const A=Math.max(d*3,f*.8)*1e3;s=So({},s,{maxTimeToFirstByteMs:Math.min(A,s.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(A,s.maxTimeToFirstByteMs)})}}}const a=s.errorRetry||s.timeoutRetry||{},c={loadPolicy:s,timeout:s.maxLoadTimeMs,maxRetry:a.maxNumRetry||0,retryDelay:a.retryDelayMs||0,maxRetryDelay:a.maxRetryDelayMs||0},u={onSuccess:(o,d,f,A)=>{const p=this.getInternalLoader(f);this.resetInternalLoader(f.type);const g=o.data;d.parsing.start=performance.now(),_m.isMediaPlaylist(g)||f.type!==zs.MANIFEST?this.handleTrackOrLevelPlaylist(o,d,f,A||null,p):this.handleMasterPlaylist(o,d,f,A)},onError:(o,d,f,A)=>{this.handleNetworkError(d,f,!1,o,A)},onTimeout:(o,d,f)=>{this.handleNetworkError(d,f,!0,void 0,o)}};i.load(e,c,u)}checkAutostartLoad(){if(!this.hls)return;const{config:{autoStartLoad:e,startPosition:r},forceStartLoad:n}=this.hls;(e||n)&&(this.hls.logger.log(`${e?"auto":"force"} startLoad with configured startPosition ${r}`),this.hls.startLoad(r))}handleMasterPlaylist(e,r,n,i){const s=this.hls,a=e.data,c=gL(e,n),u=_m.parseMasterPlaylist(a,c);if(u.playlistParsingError){r.parsing.end=performance.now(),this.handleManifestParsingError(e,n,u.playlistParsingError,i,r);return}const{contentSteering:o,levels:d,sessionData:f,sessionKeys:A,startTimeOffset:p,variableList:g}=u;this.variableList=g,d.forEach(w=>{const{unknownCodecs:S}=w;if(S){const{preferManagedMediaSource:_}=this.hls.config;let{audioCodec:T,videoCodec:L}=w;for(let D=S.length;D--;){const V=S[D];LE(V,"audio",_)?(w.audioCodec=T=T?`${T},${V}`:V,Nb.audio[T.substring(0,4)]=2,S.splice(D,1)):LE(V,"video",_)&&(w.videoCodec=L=L?`${L},${V}`:V,Nb.video[L.substring(0,4)]=2,S.splice(D,1))}}});const{AUDIO:y=[],SUBTITLES:v,"CLOSED-CAPTIONS":b}=_m.parseMasterPlaylistMedia(a,c,u);y.length&&!y.some(S=>!S.url)&&d[0].audioCodec&&!d[0].attrs.AUDIO&&(this.hls.logger.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),y.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new Cl({}),bitrate:0,url:""})),s.trigger(_e.MANIFEST_LOADED,{levels:d,audioTracks:y,subtitles:v,captions:b,contentSteering:o,url:c,stats:r,networkDetails:i,sessionData:f,sessionKeys:A,startTimeOffset:p,variableList:g})}handleTrackOrLevelPlaylist(e,r,n,i,s){const a=this.hls,{id:c,level:u,type:o}=n,d=gL(e,n),f=kn(u)?u:kn(c)?c:0,A=KG(n),p=_m.parseLevelPlaylist(e.data,d,f,A,0,this.variableList);if(o===zs.MANIFEST){const g={attrs:new Cl({}),bitrate:0,details:p,name:"",url:d};p.requestScheduled=r.loading.start+Pne(p,0),a.trigger(_e.MANIFEST_LOADED,{levels:[g],audioTracks:[],url:d,stats:r,networkDetails:i,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}r.parsing.end=performance.now(),n.levelDetails=p,this.handlePlaylistLoaded(p,e,r,n,i,s)}handleManifestParsingError(e,r,n,i,s){this.hls.trigger(_e.ERROR,{type:Ai.NETWORK_ERROR,details:ar.MANIFEST_PARSING_ERROR,fatal:r.type===zs.MANIFEST,url:e.url,err:n,error:n,reason:n.message,response:e,context:r,networkDetails:i,stats:s})}handleNetworkError(e,r,n=!1,i,s){let a=`A network ${n?"timeout":"error"+(i?" (status "+i.code+")":"")} occurred while loading ${e.type}`;e.type===zs.LEVEL?a+=`: ${e.level} id: ${e.id}`:(e.type===zs.AUDIO_TRACK||e.type===zs.SUBTITLE_TRACK)&&(a+=` id: ${e.id} group-id: "${e.groupId}"`);const c=new Error(a);this.hls.logger.warn(`[playlist-loader]: ${a}`);let u=ar.UNKNOWN,o=!1;const d=this.getInternalLoader(e);switch(e.type){case zs.MANIFEST:u=n?ar.MANIFEST_LOAD_TIMEOUT:ar.MANIFEST_LOAD_ERROR,o=!0;break;case zs.LEVEL:u=n?ar.LEVEL_LOAD_TIMEOUT:ar.LEVEL_LOAD_ERROR,o=!1;break;case zs.AUDIO_TRACK:u=n?ar.AUDIO_TRACK_LOAD_TIMEOUT:ar.AUDIO_TRACK_LOAD_ERROR,o=!1;break;case zs.SUBTITLE_TRACK:u=n?ar.SUBTITLE_TRACK_LOAD_TIMEOUT:ar.SUBTITLE_LOAD_ERROR,o=!1;break}d&&this.resetInternalLoader(e.type);const f={type:Ai.NETWORK_ERROR,details:u,fatal:o,url:e.url,loader:d,context:e,error:c,networkDetails:r,stats:s};if(i){const A=r?.url||e.url;f.response=io({url:A,data:void 0},i)}this.hls.trigger(_e.ERROR,f)}handlePlaylistLoaded(e,r,n,i,s,a){const c=this.hls,{type:u,level:o,levelOrTrack:d,id:f,groupId:A,deliveryDirectives:p}=i,g=gL(r,i),y=KG(i);let v=typeof i.level=="number"&&y===Yn.MAIN?o:void 0;const b=e.playlistParsingError;if(b){if(this.hls.logger.warn(`${b} ${e.url}`),!c.config.ignorePlaylistParsingErrors){c.trigger(_e.ERROR,{type:Ai.NETWORK_ERROR,details:ar.LEVEL_PARSING_ERROR,fatal:!1,url:g,error:b,reason:b.message,response:r,context:i,level:v,parent:y,networkDetails:s,stats:n});return}e.playlistParsingError=null}if(!e.fragments.length){const w=e.playlistParsingError=new Error("No Segments found in Playlist");c.trigger(_e.ERROR,{type:Ai.NETWORK_ERROR,details:ar.LEVEL_EMPTY_ERROR,fatal:!1,url:g,error:w,reason:w.message,response:r,context:i,level:v,parent:y,networkDetails:s,stats:n});return}switch(e.live&&a&&(a.getCacheAge&&(e.ageHeader=a.getCacheAge()||0),(!a.getCacheAge||isNaN(e.ageHeader))&&(e.ageHeader=0)),u){case zs.MANIFEST:case zs.LEVEL:if(v){if(!d)v=0;else if(d!==c.levels[v]){const w=c.levels.indexOf(d);w>-1&&(v=w)}}c.trigger(_e.LEVEL_LOADED,{details:e,levelInfo:d||c.levels[0],level:v||0,id:f||0,stats:n,networkDetails:s,deliveryDirectives:p,withoutMultiVariant:u===zs.MANIFEST});break;case zs.AUDIO_TRACK:c.trigger(_e.AUDIO_TRACK_LOADED,{details:e,track:d,id:f||0,groupId:A||"",stats:n,networkDetails:s,deliveryDirectives:p});break;case zs.SUBTITLE_TRACK:c.trigger(_e.SUBTITLE_TRACK_LOADED,{details:e,track:d,id:f||0,groupId:A||"",stats:n,networkDetails:s,deliveryDirectives:p});break}}}class s0{static get version(){return PE}static isMSESupported(){return Oie()}static isSupported(){return A9e()}static getMediaSource(){return w0()}static get Events(){return _e}static get MetadataSchema(){return Jh}static get ErrorTypes(){return Ai}static get ErrorDetails(){return ar}static get DefaultConfig(){return s0.defaultConfig?s0.defaultConfig:r9e}static set DefaultConfig(e){s0.defaultConfig=e}constructor(e={}){this.config=void 0,this.userConfig=void 0,this.logger=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new XM,this._autoLevelCapping=-1,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioStreamController=void 0,this.subtititleStreamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.interstitialsController=void 0,this.gapController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this._url=null,this._sessionId=void 0,this.triggeringException=void 0,this.started=!1;const r=this.logger=_Ue(e.debug||!1,"Hls instance",e.assetPlayerId),n=this.config=i9e(s0.DefaultConfig,e,r);this.userConfig=e,n.progressive&&s9e(n,r);const{abrController:i,bufferController:s,capLevelController:a,errorController:c,fpsController:u}=n,o=new c(this),d=this.abrController=new i(this),f=new x6e(this),A=n.interstitialsController,p=A?this.interstitialsController=new A(this,s0):null,g=this.bufferController=new s(this,f),y=this.capLevelController=new a(this),v=new u(this),b=new y9e(this),w=n.contentSteeringController,S=w?new w(this):null,_=this.levelController=new f9e(this,S),T=new d9e(this),L=new v9e(this.config,this.logger),D=this.streamController=new g9e(this,f,L),V=this.gapController=new c9e(this,f);y.setStreamController(D),v.setStreamController(D);const G=[b,_,D];p&&G.splice(1,0,p),S&&G.splice(1,0,S),this.networkControllers=G;const J=[d,g,V,y,v,T,f];this.audioTrackController=this.createController(n.audioTrackController,G);const ee=n.audioStreamController;ee&&G.push(this.audioStreamController=new ee(this,f,L)),this.subtitleTrackController=this.createController(n.subtitleTrackController,G);const ue=n.subtitleStreamController;ue&&G.push(this.subtititleStreamController=new ue(this,f,L)),this.createController(n.timelineController,J),L.emeController=this.emeController=this.createController(n.emeController,J),this.cmcdController=this.createController(n.cmcdController,J),this.latencyController=this.createController(h9e,J),this.coreComponents=J,G.push(o);const pe=o.onErrorOut;typeof pe=="function"&&this.on(_e.ERROR,pe,o),this.on(_e.MANIFEST_LOADED,b.onManifestLoaded,b)}createController(e,r){if(e){const n=new e(this);return r&&r.push(n),n}return null}on(e,r,n=this){this._emitter.on(e,r,n)}once(e,r,n=this){this._emitter.once(e,r,n)}removeAllListeners(e){this._emitter.removeAllListeners(e)}off(e,r,n=this,i){this._emitter.off(e,r,n,i)}listeners(e){return this._emitter.listeners(e)}emit(e,r,n){return this._emitter.emit(e,r,n)}trigger(e,r){if(this.config.debug)return this.emit(e,e,r);try{return this.emit(e,e,r)}catch(n){if(this.logger.error("An internal error happened while handling event "+e+'. Error message: "'+n.message+'". Here is a stacktrace:',n),!this.triggeringException){this.triggeringException=!0;const i=e===_e.ERROR;this.trigger(_e.ERROR,{type:Ai.OTHER_ERROR,details:ar.INTERNAL_EXCEPTION,fatal:i,event:e,error:n}),this.triggeringException=!1}}return!1}listenerCount(e){return this._emitter.listenerCount(e)}destroy(){this.logger.log("destroy"),this.trigger(_e.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this._url=null,this.networkControllers.forEach(r=>r.destroy()),this.networkControllers.length=0,this.coreComponents.forEach(r=>r.destroy()),this.coreComponents.length=0;const e=this.config;e.xhrSetup=e.fetchSetup=void 0,this.userConfig=null}attachMedia(e){if(!e||"media"in e&&!e.media){const s=new Error(`attachMedia failed: invalid argument (${e})`);this.trigger(_e.ERROR,{type:Ai.OTHER_ERROR,details:ar.ATTACH_MEDIA_ERROR,fatal:!0,error:s});return}this.logger.log("attachMedia"),this._media&&(this.logger.warn("media must be detached before attaching"),this.detachMedia());const r="media"in e,n=r?e.media:e,i=r?e:{media:n};this._media=n,this.trigger(_e.MEDIA_ATTACHING,i)}detachMedia(){this.logger.log("detachMedia"),this.trigger(_e.MEDIA_DETACHING,{}),this._media=null}transferMedia(){this._media=null;const e=this.bufferController.transferMedia();return this.trigger(_e.MEDIA_DETACHING,{transferMedia:e}),e}loadSource(e){this.stopLoad();const r=this.media,n=this._url,i=this._url=UM.buildAbsoluteURL(self.location.href,e,{alwaysNormalize:!0});this._autoLevelCapping=-1,this._maxHdcpLevel=null,this.logger.log(`loadSource:${i}`),r&&n&&(n!==i||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(r)),this.trigger(_e.MANIFEST_LOADING,{url:e})}get url(){return this._url}get hasEnoughToStart(){return this.streamController.hasEnoughToStart}get startPosition(){return this.streamController.startPositionValue}startLoad(e=-1,r){this.logger.log(`startLoad(${e+(r?", <skip seek to start>":"")})`),this.started=!0,this.resumeBuffering();for(let n=0;n<this.networkControllers.length&&(this.networkControllers[n].startLoad(e,r),!(!this.started||!this.networkControllers));n++);}stopLoad(){this.logger.log("stopLoad"),this.started=!1;for(let e=0;e<this.networkControllers.length&&(this.networkControllers[e].stopLoad(),!(this.started||!this.networkControllers));e++);}get loadingEnabled(){return this.started}get bufferingEnabled(){return this.streamController.bufferingEnabled}resumeBuffering(){this.bufferingEnabled||(this.logger.log("resume buffering"),this.networkControllers.forEach(e=>{e.resumeBuffering&&e.resumeBuffering()}))}pauseBuffering(){this.bufferingEnabled&&(this.logger.log("pause buffering"),this.networkControllers.forEach(e=>{e.pauseBuffering&&e.pauseBuffering()}))}get inFlightFragments(){const e={[Yn.MAIN]:this.streamController.inFlightFrag};return this.audioStreamController&&(e[Yn.AUDIO]=this.audioStreamController.inFlightFrag),this.subtititleStreamController&&(e[Yn.SUBTITLE]=this.subtititleStreamController.inFlightFrag),e}swapAudioCodec(){this.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()}recoverMediaError(){this.logger.log("recoverMediaError");const e=this._media,r=e?.currentTime;this.detachMedia(),e&&(this.attachMedia(e),r&&this.startLoad(r))}removeLevel(e){this.levelController.removeLevel(e)}get sessionId(){let e=this._sessionId;return e||(e=this._sessionId=c$e()),e}get levels(){const e=this.levelController.levels;return e||[]}get latestLevelDetails(){return this.streamController.getLevelDetails()||null}get loadLevelObj(){return this.levelController.loadLevelObj}get currentLevel(){return this.streamController.currentLevel}set currentLevel(e){this.logger.log(`set currentLevel:${e}`),this.levelController.manualLevel=e,this.streamController.immediateLevelSwitch()}get nextLevel(){return this.streamController.nextLevel}set nextLevel(e){this.logger.log(`set nextLevel:${e}`),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}get loadLevel(){return this.levelController.level}set loadLevel(e){this.logger.log(`set loadLevel:${e}`),this.levelController.manualLevel=e}get nextLoadLevel(){return this.levelController.nextLoadLevel}set nextLoadLevel(e){this.levelController.nextLoadLevel=e}get firstLevel(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)}set firstLevel(e){this.logger.log(`set firstLevel:${e}`),this.levelController.firstLevel=e}get startLevel(){const e=this.levelController.startLevel;return e===-1&&this.abrController.forcedAutoLevel>-1?this.abrController.forcedAutoLevel:e}set startLevel(e){this.logger.log(`set startLevel:${e}`),e!==-1&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e}get capLevelToPlayerSize(){return this.config.capLevelToPlayerSize}set capLevelToPlayerSize(e){const r=!!e;r!==this.config.capLevelToPlayerSize&&(r?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=r)}get autoLevelCapping(){return this._autoLevelCapping}get bandwidthEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimate():NaN}set bandwidthEstimate(e){this.abrController.resetEstimator(e)}get abrEwmaDefaultEstimate(){const{bwEstimator:e}=this.abrController;return e?e.defaultEstimate:NaN}get ttfbEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimateTTFB():NaN}set autoLevelCapping(e){this._autoLevelCapping!==e&&(this.logger.log(`set autoLevelCapping:${e}`),this._autoLevelCapping=e,this.levelController.checkMaxAutoUpdated())}get maxHdcpLevel(){return this._maxHdcpLevel}set maxHdcpLevel(e){i6e(e)&&this._maxHdcpLevel!==e&&(this._maxHdcpLevel=e,this.levelController.checkMaxAutoUpdated())}get autoLevelEnabled(){return this.levelController.manualLevel===-1}get manualLevel(){return this.levelController.manualLevel}get minAutoLevel(){const{levels:e,config:{minAutoBitrate:r}}=this;if(!e)return 0;const n=e.length;for(let i=0;i<n;i++)if(e[i].maxBitrate>=r)return i;return 0}get maxAutoLevel(){const{levels:e,autoLevelCapping:r,maxHdcpLevel:n}=this;let i;if(r===-1&&e!=null&&e.length?i=e.length-1:i=r,n)for(let s=i;s--;){const a=e[s].attrs["HDCP-LEVEL"];if(a&&a<=n)return s}return i}get firstAutoLevel(){return this.abrController.firstAutoLevel}get nextAutoLevel(){return this.abrController.nextAutoLevel}set nextAutoLevel(e){this.abrController.nextAutoLevel=e}get playingDate(){return this.streamController.currentProgramDateTime}get mainForwardBufferInfo(){return this.streamController.getMainFwdBufferInfo()}get maxBufferLength(){return this.streamController.maxBufferLength}setAudioOption(e){var r;return((r=this.audioTrackController)==null?void 0:r.setAudioOption(e))||null}setSubtitleOption(e){var r;return((r=this.subtitleTrackController)==null?void 0:r.setSubtitleOption(e))||null}get allAudioTracks(){const e=this.audioTrackController;return e?e.allAudioTracks:[]}get audioTracks(){const e=this.audioTrackController;return e?e.audioTracks:[]}get audioTrack(){const e=this.audioTrackController;return e?e.audioTrack:-1}set audioTrack(e){const r=this.audioTrackController;r&&(r.audioTrack=e)}get allSubtitleTracks(){const e=this.subtitleTrackController;return e?e.allSubtitleTracks:[]}get subtitleTracks(){const e=this.subtitleTrackController;return e?e.subtitleTracks:[]}get subtitleTrack(){const e=this.subtitleTrackController;return e?e.subtitleTrack:-1}get media(){return this._media}set subtitleTrack(e){const r=this.subtitleTrackController;r&&(r.subtitleTrack=e)}get subtitleDisplay(){const e=this.subtitleTrackController;return e?e.subtitleDisplay:!1}set subtitleDisplay(e){const r=this.subtitleTrackController;r&&(r.subtitleDisplay=e)}get lowLatencyMode(){return this.config.lowLatencyMode}set lowLatencyMode(e){this.config.lowLatencyMode=e}get liveSyncPosition(){return this.latencyController.liveSyncPosition}get latency(){return this.latencyController.latency}get maxLatency(){return this.latencyController.maxLatency}get targetLatency(){return this.latencyController.targetLatency}set targetLatency(e){this.latencyController.targetLatency=e}get drift(){return this.latencyController.drift}get forceStartLoad(){return this.streamController.forceStartLoad}get pathways(){return this.levelController.pathways}get pathwayPriority(){return this.levelController.pathwayPriority}set pathwayPriority(e){this.levelController.pathwayPriority=e}get bufferedToEnd(){var e;return!!((e=this.bufferController)!=null&&e.bufferedToEnd)}get interstitialsManager(){var e;return((e=this.interstitialsController)==null?void 0:e.interstitialsManager)||null}getMediaDecodingInfo(e,r=this.allAudioTracks){const n=bne(r);return yne(e,n,navigator.mediaCapabilities)}}s0.defaultConfig=void 0;var na=s0,qo={VIDEO:"video",THUMBNAIL:"thumbnail",STORYBOARD:"storyboard",DRM:"drm"},Oi={NOT_AN_ERROR:0,NETWORK_OFFLINE:2000002,NETWORK_UNKNOWN_ERROR:2e6,NETWORK_NO_STATUS:2000001,NETWORK_INVALID_URL:24e5,NETWORK_NOT_FOUND:2404e3,NETWORK_NOT_READY:2412e3,NETWORK_GENERIC_SERVER_FAIL:25e5,NETWORK_TOKEN_MISSING:2403201,NETWORK_TOKEN_MALFORMED:2412202,NETWORK_TOKEN_EXPIRED:2403210,NETWORK_TOKEN_AUD_MISSING:2403221,NETWORK_TOKEN_AUD_MISMATCH:2403222,NETWORK_TOKEN_SUB_MISMATCH:2403232,ENCRYPTED_ERROR:5e6,ENCRYPTED_UNSUPPORTED_KEY_SYSTEM:5000001,ENCRYPTED_GENERATE_REQUEST_FAILED:5000002,ENCRYPTED_UPDATE_LICENSE_FAILED:5000003,ENCRYPTED_UPDATE_SERVER_CERT_FAILED:5000004,ENCRYPTED_CDM_ERROR:5000005,ENCRYPTED_OUTPUT_RESTRICTED:5000006,ENCRYPTED_MISSING_TOKEN:5000002},x5=t=>t===qo.VIDEO?"playback":t,Hg=class iw extends Error{constructor(e,r=iw.MEDIA_ERR_CUSTOM,n,i){var s;super(e),this.name="MediaError",this.code=r,this.context=i,this.fatal=n??(r>=iw.MEDIA_ERR_NETWORK&&r<=iw.MEDIA_ERR_ENCRYPTED),this.message||(this.message=(s=iw.defaultMessages[this.code])!=null?s:"")}};Hg.MEDIA_ERR_ABORTED=1,Hg.MEDIA_ERR_NETWORK=2,Hg.MEDIA_ERR_DECODE=3,Hg.MEDIA_ERR_SRC_NOT_SUPPORTED=4,Hg.MEDIA_ERR_ENCRYPTED=5,Hg.MEDIA_ERR_CUSTOM=100,Hg.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail.",3:"A media error caused playback to be aborted. The media could be corrupt or your browser does not support this format.",4:"An unsupported error occurred. The server or network failed, or your browser does not support this format.",5:"The media is encrypted and there are no keys to decrypt it."};var Dn=Hg,x9e=t=>t==null,cF=(t,e)=>x9e(e)?!1:t in e,ZR={ANY:"any",MUTED:"muted"},Ka={ON_DEMAND:"on-demand",LIVE:"live",UNKNOWN:"unknown"},Tm={MSE:"mse",NATIVE:"native"},sw={HEADER:"header",QUERY:"query",NONE:"none"},Lj=Object.values(sw),Lp={M3U8:"application/vnd.apple.mpegurl",MP4:"video/mp4"},GG={HLS:Lp.M3U8};[...Object.values(Lp)];var b9e="en",JR={code:b9e},Uc=(t,e,r,n,i=t)=>{i.addEventListener(e,r,n),t.addEventListener("teardown",()=>{i.removeEventListener(e,r)},{once:!0})};function w9e(t,e,r){e&&r>e&&(r=e);for(let n=0;n<t.length;n++)if(t.start(n)<=r&&t.end(n)>=r)return!0;return!1}var uF=t=>{let e=t.indexOf("?");if(e<0)return[t];let r=t.slice(0,e),n=t.slice(e);return[r,n]},b5=t=>{let{type:e}=t;if(e){let r=e.toUpperCase();return cF(r,GG)?GG[r]:e}return E9e(t)},Pie=t=>t==="VOD"?Ka.ON_DEMAND:Ka.LIVE,Die=t=>t==="EVENT"?Number.POSITIVE_INFINITY:t==="VOD"?Number.NaN:0,E9e=t=>{let{src:e}=t;if(!e)return"";let r="";try{r=new URL(e).pathname}catch{console.error("invalid url")}let n=r.lastIndexOf(".");if(n<0)return _9e(t)?Lp.M3U8:"";let i=r.slice(n+1).toUpperCase();return cF(i,Lp)?Lp[i]:""},S9e="mux.com",_9e=({src:t,customDomain:e=S9e})=>{let r;try{r=new URL(`${t}`)}catch{return!1}let n=r.protocol==="https:",i=r.hostname===`stream.${e}`.toLowerCase(),s=r.pathname.split("/"),a=s.length===2,c=!(s!=null&&s[1].includes("."));return n&&i&&a&&c},ab=t=>{let e=(t??"").split(".")[1];if(e)try{let r=e.replace(/-/g,"+").replace(/_/g,"/"),n=decodeURIComponent(atob(r).split("").map(function(i){return"%"+("00"+i.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(n)}catch{return}},T9e=({exp:t},e=Date.now())=>!t||t*1e3<e,C9e=({sub:t},e)=>t!==e,j9e=({aud:t},e)=>!t,N9e=({aud:t},e)=>t!==e,Mie="en";function Si(t,e=!0){var r,n;let i=e&&(n=(r=JR)==null?void 0:r[t])!=null?n:t,s=e?JR.code:Mie;return new I9e(i,s)}var I9e=class{constructor(t,e=(r=>(r=JR)!=null?r:Mie)()){this.message=t,this.locale=e}format(t){return this.message.replace(/\{(\w+)\}/g,(e,r)=>{var n;return(n=t[r])!=null?n:""})}toString(){return this.message}},k9e=Object.values(ZR),zG=t=>typeof t=="boolean"||typeof t=="string"&&k9e.includes(t),B9e=(t,e,r)=>{let{autoplay:n}=t,i=!1,s=!1,a=zG(n)?n:!!n,c=()=>{i||Uc(e,"playing",()=>{i=!0},{once:!0})};if(c(),Uc(e,"loadstart",()=>{i=!1,c(),vL(e,a)},{once:!0}),Uc(e,"loadstart",()=>{r||(t.streamType&&t.streamType!==Ka.UNKNOWN?s=t.streamType===Ka.LIVE:s=!Number.isFinite(e.duration)),vL(e,a)},{once:!0}),r&&r.once(na.Events.LEVEL_LOADED,(u,o)=>{var d;t.streamType&&t.streamType!==Ka.UNKNOWN?s=t.streamType===Ka.LIVE:s=(d=o.details.live)!=null?d:!1}),!a){let u=()=>{!s||Number.isFinite(t.startTime)||(r!=null&&r.liveSyncPosition?e.currentTime=r.liveSyncPosition:Number.isFinite(e.seekable.end(0))&&(e.currentTime=e.seekable.end(0)))};r&&Uc(e,"play",()=>{e.preload==="metadata"?r.once(na.Events.LEVEL_UPDATED,u):u()},{once:!0})}return u=>{i||(a=zG(u)?u:!!u,vL(e,a))}},vL=(t,e)=>{if(!e)return;let r=t.muted,n=()=>t.muted=r;switch(e){case ZR.ANY:t.play().catch(()=>{t.muted=!0,t.play().catch(n)});break;case ZR.MUTED:t.muted=!0,t.play().catch(n);break;default:t.play().catch(()=>{});break}},L9e=({preload:t,src:e},r,n)=>{let i=f=>{f!=null&&["","none","metadata","auto"].includes(f)?r.setAttribute("preload",f):r.removeAttribute("preload")};if(!n)return i(t),i;let s=!1,a=!1,c=n.config.maxBufferLength,u=n.config.maxBufferSize,o=f=>{i(f);let A=f??r.preload;a||A==="none"||(A==="metadata"?(n.config.maxBufferLength=1,n.config.maxBufferSize=1):(n.config.maxBufferLength=c,n.config.maxBufferSize=u),d())},d=()=>{!s&&e&&(s=!0,n.loadSource(e))};return Uc(r,"play",()=>{a=!0,n.config.maxBufferLength=c,n.config.maxBufferSize=u,d()},{once:!0}),o(t),o};function R9e(t,e){var r;if(!("videoTracks"in t))return;let n=new WeakMap;e.on(na.Events.MANIFEST_PARSED,function(u,o){c();let d=t.addVideoTrack("main");d.selected=!0;for(let[f,A]of o.levels.entries()){let p=d.addRendition(A.url[0],A.width,A.height,A.videoCodec,A.bitrate);n.set(A,`${f}`),p.id=`${f}`}}),e.on(na.Events.AUDIO_TRACKS_UPDATED,function(u,o){a();for(let d of o.audioTracks){let f=d.default?"main":"alternative",A=t.addAudioTrack(f,d.name,d.lang);A.id=`${d.id}`,d.default&&(A.enabled=!0)}}),t.audioTracks.addEventListener("change",()=>{var u;let o=+((u=[...t.audioTracks].find(f=>f.enabled))==null?void 0:u.id),d=e.audioTracks.map(f=>f.id);o!=e.audioTrack&&d.includes(o)&&(e.audioTrack=o)}),e.on(na.Events.LEVELS_UPDATED,function(u,o){var d;let f=t.videoTracks[(d=t.videoTracks.selectedIndex)!=null?d:0];if(!f)return;let A=o.levels.map(p=>n.get(p));for(let p of t.videoRenditions)p.id&&!A.includes(p.id)&&f.removeRendition(p)});let i=u=>{let o=u.target.selectedIndex;o!=e.nextLevel&&(e.nextLevel=o)};(r=t.videoRenditions)==null||r.addEventListener("change",i);let s=()=>{for(let u of t.videoTracks)t.removeVideoTrack(u)},a=()=>{for(let u of t.audioTracks)t.removeAudioTrack(u)},c=()=>{s(),a()};e.once(na.Events.DESTROYING,c)}var yL=t=>"time"in t?t.time:t.startTime;function O9e(t,e){e.on(na.Events.NON_NATIVE_TEXT_TRACKS_FOUND,(i,{tracks:s})=>{s.forEach(a=>{var c,u;let o=(c=a.subtitleTrack)!=null?c:a.closedCaptions,d=e.subtitleTracks.findIndex(({lang:A,name:p,type:g})=>A==o?.lang&&p===a.label&&g.toLowerCase()===a.kind),f=((u=a._id)!=null?u:a.default)?"default":`${a.kind}${d}`;dF(t,a.kind,a.label,o?.lang,f,a.default)})});let r=()=>{if(!e.subtitleTracks.length)return;let i=Array.from(t.textTracks).find(c=>c.id&&c.mode==="showing"&&["subtitles","captions"].includes(c.kind));if(!i)return;let s=e.subtitleTracks[e.subtitleTrack],a=s?s.default?"default":`${e.subtitleTracks[e.subtitleTrack].type.toLowerCase()}${e.subtitleTrack}`:void 0;if(e.subtitleTrack<0||i?.id!==a){let c=e.subtitleTracks.findIndex(({lang:u,name:o,type:d,default:f})=>i.id==="default"&&f||u==i.language&&o===i.label&&d.toLowerCase()===i.kind);e.subtitleTrack=c}i?.id===a&&i.cues&&Array.from(i.cues).forEach(c=>{i.addCue(c)})};t.textTracks.addEventListener("change",r),e.on(na.Events.CUES_PARSED,(i,{track:s,cues:a})=>{let c=t.textTracks.getTrackById(s);if(!c)return;let u=c.mode==="disabled";u&&(c.mode="hidden"),a.forEach(o=>{var d;(d=c.cues)!=null&&d.getCueById(o.id)||c.addCue(o)}),u&&(c.mode="disabled")}),e.once(na.Events.DESTROYING,()=>{t.textTracks.removeEventListener("change",r),t.querySelectorAll("track[data-removeondestroy]").forEach(i=>{i.remove()})});let n=()=>{Array.from(t.textTracks).forEach(i=>{var s,a;if(!["subtitles","caption"].includes(i.kind)&&(i.label==="thumbnails"||i.kind==="chapters")){if(!((s=i.cues)!=null&&s.length)){let c="track";i.kind&&(c+=`[kind="${i.kind}"]`),i.label&&(c+=`[label="${i.label}"]`);let u=t.querySelector(c),o=(a=u?.getAttribute("src"))!=null?a:"";u?.removeAttribute("src"),setTimeout(()=>{u?.setAttribute("src",o)},0)}i.mode!=="hidden"&&(i.mode="hidden")}})};e.once(na.Events.MANIFEST_LOADED,n),e.once(na.Events.MEDIA_ATTACHED,n)}function dF(t,e,r,n,i,s){let a=document.createElement("track");return a.kind=e,a.label=r,n&&(a.srclang=n),i&&(a.id=i),s&&(a.default=!0),a.track.mode=["subtitles","captions"].includes(e)?"disabled":"hidden",a.setAttribute("data-removeondestroy",""),t.append(a),a.track}function P9e(t,e){let r=Array.prototype.find.call(t.querySelectorAll("track"),n=>n.track===e);r?.remove()}function Q2(t,e,r){var n;return(n=Array.from(t.querySelectorAll("track")).find(i=>i.track.label===e&&i.track.kind===r))==null?void 0:n.track}async function Fie(t,e,r,n){let i=Q2(t,r,n);return i||(i=dF(t,n,r),i.mode="hidden",await new Promise(s=>setTimeout(()=>s(void 0),0))),i.mode!=="hidden"&&(i.mode="hidden"),[...e].sort((s,a)=>yL(a)-yL(s)).forEach(s=>{var a,c;let u=s.value,o=yL(s);if("endTime"in s&&s.endTime!=null)i?.addCue(new VTTCue(o,s.endTime,n==="chapters"?u:JSON.stringify(u??null)));else{let d=Array.prototype.findIndex.call(i?.cues,g=>g.startTime>=o),f=(a=i?.cues)==null?void 0:a[d],A=f?f.startTime:Number.isFinite(t.duration)?t.duration:Number.MAX_SAFE_INTEGER,p=(c=i?.cues)==null?void 0:c[d-1];p&&(p.endTime=o),i?.addCue(new VTTCue(o,A,n==="chapters"?u:JSON.stringify(u??null)))}}),t.textTracks.dispatchEvent(new Event("change",{bubbles:!0,composed:!0})),i}var hF="cuepoints",Uie=Object.freeze({label:hF});async function $ie(t,e,r=Uie){return Fie(t,e,r.label,"metadata")}var eO=t=>({time:t.startTime,value:JSON.parse(t.text)});function D9e(t,e={label:hF}){let r=Q2(t,e.label,"metadata");return r!=null&&r.cues?Array.from(r.cues,n=>eO(n)):[]}function Hie(t,e={label:hF}){var r,n;let i=Q2(t,e.label,"metadata");if(!((r=i?.activeCues)!=null&&r.length))return;if(i.activeCues.length===1)return eO(i.activeCues[0]);let{currentTime:s}=t,a=Array.prototype.find.call((n=i.activeCues)!=null?n:[],({startTime:c,endTime:u})=>c<=s&&u>s);return eO(a||i.activeCues[0])}async function M9e(t,e=Uie){return new Promise(r=>{Uc(t,"loadstart",async()=>{let n=await $ie(t,[],e);Uc(t,"cuechange",()=>{let i=Hie(t);if(i){let s=new CustomEvent("cuepointchange",{composed:!0,bubbles:!0,detail:i});t.dispatchEvent(s)}},{},n),r(n)})})}var fF="chapters",Qie=Object.freeze({label:fF}),tO=t=>({startTime:t.startTime,endTime:t.endTime,value:t.text});async function Vie(t,e,r=Qie){return Fie(t,e,r.label,"chapters")}function F9e(t,e={label:fF}){var r;let n=Q2(t,e.label,"chapters");return(r=n?.cues)!=null&&r.length?Array.from(n.cues,i=>tO(i)):[]}function Kie(t,e={label:fF}){var r,n;let i=Q2(t,e.label,"chapters");if(!((r=i?.activeCues)!=null&&r.length))return;if(i.activeCues.length===1)return tO(i.activeCues[0]);let{currentTime:s}=t,a=Array.prototype.find.call((n=i.activeCues)!=null?n:[],({startTime:c,endTime:u})=>c<=s&&u>s);return tO(a||i.activeCues[0])}async function U9e(t,e=Qie){return new Promise(r=>{Uc(t,"loadstart",async()=>{let n=await Vie(t,[],e);Uc(t,"cuechange",()=>{let i=Kie(t);if(i){let s=new CustomEvent("chapterchange",{composed:!0,bubbles:!0,detail:i});t.dispatchEvent(s)}},{},n),r(n)})})}function $9e(t,e){if(e){let r=e.playingDate;if(r!=null)return new Date(r.getTime()-t.currentTime*1e3)}return typeof t.getStartDate=="function"?t.getStartDate():new Date(NaN)}function H9e(t,e){if(e&&e.playingDate)return e.playingDate;if(typeof t.getStartDate=="function"){let r=t.getStartDate();return new Date(r.getTime()+t.currentTime*1e3)}return new Date(NaN)}var Kw={VIDEO:"v",THUMBNAIL:"t",STORYBOARD:"s",DRM:"d"},Q9e=t=>{if(t===qo.VIDEO)return Kw.VIDEO;if(t===qo.DRM)return Kw.DRM},V9e=(t,e)=>{var r,n;let i=x5(t),s=`${i}Token`;return(r=e.tokens)!=null&&r[i]?(n=e.tokens)==null?void 0:n[i]:cF(s,e)?e[s]:void 0},Rj=(t,e,r,n,i=!1,s=!(a=>(a=globalThis.navigator)==null?void 0:a.onLine)())=>{var a,c;if(s){let b=Si("Your device appears to be offline",i),w,S=Dn.MEDIA_ERR_NETWORK,_=new Dn(b,S,!1,w);return _.errorCategory=e,_.muxCode=Oi.NETWORK_OFFLINE,_.data=t,_}let u="status"in t?t.status:t.code,o=Date.now(),d=Dn.MEDIA_ERR_NETWORK;if(u===200)return;let f=x5(e),A=V9e(e,r),p=Q9e(e),[g]=uF((a=r.playbackId)!=null?a:"");if(!u||!g)return;let y=ab(A);if(A&&!y){let b=Si("The {tokenNamePrefix}-token provided is invalid or malformed.",i).format({tokenNamePrefix:f}),w=Si("Compact JWT string: {token}",i).format({token:A}),S=new Dn(b,d,!0,w);return S.errorCategory=e,S.muxCode=Oi.NETWORK_TOKEN_MALFORMED,S.data=t,S}if(u>=500){let b=new Dn("",d,n??!0);return b.errorCategory=e,b.muxCode=Oi.NETWORK_UNKNOWN_ERROR,b}if(u===403)if(y){if(T9e(y,o)){let b={timeStyle:"medium",dateStyle:"medium"},w=Si("The videos secured {tokenNamePrefix}-token has expired.",i).format({tokenNamePrefix:f}),S=Si("Expired at: {expiredDate}. Current time: {currentDate}.",i).format({expiredDate:new Intl.DateTimeFormat("en",b).format((c=y.exp)!=null?c:0*1e3),currentDate:new Intl.DateTimeFormat("en",b).format(o)}),_=new Dn(w,d,!0,S);return _.errorCategory=e,_.muxCode=Oi.NETWORK_TOKEN_EXPIRED,_.data=t,_}if(C9e(y,g)){let b=Si("The videos playback ID does not match the one encoded in the {tokenNamePrefix}-token.",i).format({tokenNamePrefix:f}),w=Si("Specified playback ID: {playbackId} and the playback ID encoded in the {tokenNamePrefix}-token: {tokenPlaybackId}",i).format({tokenNamePrefix:f,playbackId:g,tokenPlaybackId:y.sub}),S=new Dn(b,d,!0,w);return S.errorCategory=e,S.muxCode=Oi.NETWORK_TOKEN_SUB_MISMATCH,S.data=t,S}if(j9e(y)){let b=Si("The {tokenNamePrefix}-token is formatted with incorrect information.",i).format({tokenNamePrefix:f}),w=Si("The {tokenNamePrefix}-token has no aud value. aud value should be {expectedAud}.",i).format({tokenNamePrefix:f,expectedAud:p}),S=new Dn(b,d,!0,w);return S.errorCategory=e,S.muxCode=Oi.NETWORK_TOKEN_AUD_MISSING,S.data=t,S}if(N9e(y,p)){let b=Si("The {tokenNamePrefix}-token is formatted with incorrect information.",i).format({tokenNamePrefix:f}),w=Si("The {tokenNamePrefix}-token has an incorrect aud value: {aud}. aud value should be {expectedAud}.",i).format({tokenNamePrefix:f,expectedAud:p,aud:y.aud}),S=new Dn(b,d,!0,w);return S.errorCategory=e,S.muxCode=Oi.NETWORK_TOKEN_AUD_MISMATCH,S.data=t,S}}else{let b=Si("Authorization error trying to access this {category} URL. If this is a signed URL, you might need to provide a {tokenNamePrefix}-token.",i).format({tokenNamePrefix:f,category:e}),w=Si("Specified playback ID: {playbackId}",i).format({playbackId:g}),S=new Dn(b,d,n??!0,w);return S.errorCategory=e,S.muxCode=Oi.NETWORK_TOKEN_MISSING,S.data=t,S}if(u===412){let b=Si("This playback-id may belong to a live stream that is not currently active or an asset that is not ready.",i),w=Si("Specified playback ID: {playbackId}",i).format({playbackId:g}),S=new Dn(b,d,n??!0,w);return S.errorCategory=e,S.muxCode=Oi.NETWORK_NOT_READY,S.streamType=r.streamType===Ka.LIVE?"live":r.streamType===Ka.ON_DEMAND?"on-demand":"unknown",S.data=t,S}if(u===404){let b=Si("This URL or playback-id does not exist. You may have used an Asset ID or an ID from a different resource.",i),w=Si("Specified playback ID: {playbackId}",i).format({playbackId:g}),S=new Dn(b,d,n??!0,w);return S.errorCategory=e,S.muxCode=Oi.NETWORK_NOT_FOUND,S.data=t,S}if(u===400){let b=Si("The URL or playback-id was invalid. You may have used an invalid value as a playback-id."),w=Si("Specified playback ID: {playbackId}",i).format({playbackId:g}),S=new Dn(b,d,n??!0,w);return S.errorCategory=e,S.muxCode=Oi.NETWORK_INVALID_URL,S.data=t,S}let v=new Dn("",d,n??!0);return v.errorCategory=e,v.muxCode=Oi.NETWORK_UNKNOWN_ERROR,v.data=t,v},WG=na.DefaultConfig.capLevelController,K9e={"720p":921600,"1080p":2073600,"1440p":4194304,"2160p":8294400};function G9e(t){let e=t.toLowerCase().trim();return K9e[e]}var rO=class aw extends WG{constructor(e){super(e)}static setMaxAutoResolution(e,r){r?aw.maxAutoResolution.set(e,r):aw.maxAutoResolution.delete(e)}getMaxAutoResolution(){var e;let r=this.hls;return(e=aw.maxAutoResolution.get(r))!=null?e:void 0}get levels(){var e;return(e=this.hls.levels)!=null?e:[]}getValidLevels(e){return this.levels.filter((r,n)=>this.isLevelAllowed(r)&&n<=e)}getMaxLevelCapped(e){let r=this.getValidLevels(e),n=this.getMaxAutoResolution();if(!n)return super.getMaxLevel(e);let i=G9e(n);if(!i)return super.getMaxLevel(e);let s=r.filter(u=>u.width*u.height<=i),a=s.findIndex(u=>u.width*u.height===i);if(a!==-1){let u=s[a];return r.findIndex(o=>o===u)}if(s.length===0)return 0;let c=s[s.length-1];return r.findIndex(u=>u===c)}getMaxLevel(e){if(this.getMaxAutoResolution()!==void 0)return this.getMaxLevelCapped(e);let r=super.getMaxLevel(e),n=this.getValidLevels(e);if(!n[r])return r;let i=Math.min(n[r].width,n[r].height),s=aw.minMaxResolution;return i>=s?r:WG.getMaxLevelByMediaSize(n,s*(16/9),s)}};rO.minMaxResolution=720,rO.maxAutoResolution=new WeakMap;var z9e=rO,nO=z9e,V_={FAIRPLAY:"fairplay",PLAYREADY:"playready",WIDEVINE:"widevine"},W9e=t=>{if(t.includes("fps"))return V_.FAIRPLAY;if(t.includes("playready"))return V_.PLAYREADY;if(t.includes("widevine"))return V_.WIDEVINE},Y9e=t=>{let e=t.split(`
`).find((r,n,i)=>n&&i[n-1].startsWith("#EXT-X-STREAM-INF"));return fetch(e).then(r=>r.status!==200?Promise.reject(r):r.text())},q9e=t=>{let e=t.split(`
`).filter(n=>n.startsWith("#EXT-X-SESSION-DATA"));if(!e.length)return{};let r={};for(let n of e){let i=Z9e(n),s=i["DATA-ID"];s&&(r[s]={...i})}return{sessionData:r}},X9e=/([A-Z0-9-]+)="?(.*?)"?(?:,|$)/g;function Z9e(t){let e=[...t.matchAll(X9e)];return Object.fromEntries(e.map(([,r,n])=>[r,n]))}var J9e=t=>{var e,r,n;let i=t.split(`
`),s=(r=((e=i.find(o=>o.startsWith("#EXT-X-PLAYLIST-TYPE")))!=null?e:"").split(":")[1])==null?void 0:r.trim(),a=Pie(s),c=Die(s),u;if(a===Ka.LIVE){let o=i.find(d=>d.startsWith("#EXT-X-PART-INF"));if(o)u=+o.split(":")[1].split("=")[1]*2;else{let d=i.find(A=>A.startsWith("#EXT-X-TARGETDURATION")),f=(n=d?.split(":"))==null?void 0:n[1];u=+(f??6)*3}}return{streamType:a,targetLiveWindow:c,liveEdgeStartOffset:u}},eHe=async(t,e)=>{if(e===Lp.MP4)return{streamType:Ka.ON_DEMAND,targetLiveWindow:Number.NaN,liveEdgeStartOffset:void 0,sessionData:void 0};if(e===Lp.M3U8){let r=await fetch(t);if(!r.ok)return Promise.reject(r);let n=await r.text(),i=await Y9e(n);return{...q9e(n),...J9e(i)}}return console.error(`Media type ${e} is an unrecognized or unsupported type for src ${t}.`),{streamType:void 0,targetLiveWindow:void 0,liveEdgeStartOffset:void 0,sessionData:void 0}},tHe=async(t,e,r=b5({src:t}))=>{var n,i,s,a;let{streamType:c,targetLiveWindow:u,liveEdgeStartOffset:o,sessionData:d}=await eHe(t,r),f=d?.["com.apple.hls.chapters"];(f!=null&&f.URI||f!=null&&f.VALUE.toLocaleLowerCase().startsWith("http"))&&AF((n=f.URI)!=null?n:f.VALUE,e),((i=tc.get(e))!=null?i:{}).liveEdgeStartOffset=o,((s=tc.get(e))!=null?s:{}).targetLiveWindow=u,e.dispatchEvent(new CustomEvent("targetlivewindowchange",{composed:!0,bubbles:!0})),((a=tc.get(e))!=null?a:{}).streamType=c,e.dispatchEvent(new CustomEvent("streamtypechange",{composed:!0,bubbles:!0}))},AF=async(t,e)=>{var r,n;try{let i=await fetch(t);if(!i.ok)throw new Error(`Failed to fetch Mux metadata: ${i.status} ${i.statusText}`);let s=await i.json(),a={};if(!((r=s?.[0])!=null&&r.metadata))return;for(let u of s[0].metadata)u.key&&u.value&&(a[u.key]=u.value);((n=tc.get(e))!=null?n:{}).metadata=a;let c=new CustomEvent("muxmetadata");e.dispatchEvent(c)}catch(i){console.error(i)}},rHe=t=>{var e;let r=t.type,n=Pie(r),i=Die(r),s,a=!!((e=t.partList)!=null&&e.length);return n===Ka.LIVE&&(s=a?t.partTarget*2:t.targetduration*3),{streamType:n,targetLiveWindow:i,liveEdgeStartOffset:s,lowLatency:a}},nHe=(t,e,r)=>{var n,i,s,a,c,u,o,d;let{streamType:f,targetLiveWindow:A,liveEdgeStartOffset:p,lowLatency:g}=rHe(t);if(f===Ka.LIVE){g?(r.config.backBufferLength=(n=r.userConfig.backBufferLength)!=null?n:4,r.config.maxFragLookUpTolerance=(i=r.userConfig.maxFragLookUpTolerance)!=null?i:.001,r.config.abrBandWidthUpFactor=(s=r.userConfig.abrBandWidthUpFactor)!=null?s:r.config.abrBandWidthFactor):r.config.backBufferLength=(a=r.userConfig.backBufferLength)!=null?a:8;let y=Object.freeze({get length(){return e.seekable.length},start(v){return e.seekable.start(v)},end(v){var b;return v>this.length||v<0||Number.isFinite(e.duration)?e.seekable.end(v):(b=r.liveSyncPosition)!=null?b:e.seekable.end(v)}});((c=tc.get(e))!=null?c:{}).seekable=y}((u=tc.get(e))!=null?u:{}).liveEdgeStartOffset=p,((o=tc.get(e))!=null?o:{}).targetLiveWindow=A,e.dispatchEvent(new CustomEvent("targetlivewindowchange",{composed:!0,bubbles:!0})),((d=tc.get(e))!=null?d:{}).streamType=f,e.dispatchEvent(new CustomEvent("streamtypechange",{composed:!0,bubbles:!0}))},YG,qG,Gie=(qG=(YG=globalThis?.navigator)==null?void 0:YG.userAgent)!=null?qG:"",XG,ZG,JG,iHe=(JG=(ZG=(XG=globalThis?.navigator)==null?void 0:XG.userAgentData)==null?void 0:ZG.platform)!=null?JG:"",sHe=Gie.toLowerCase().includes("android")||["x11","android"].some(t=>iHe.toLowerCase().includes(t)),aHe=t=>/^((?!chrome|android).)*safari/i.test(Gie)&&!!t.canPlayType("application/vnd.apple.mpegurl"),tc=new WeakMap,Rp="mux.com",ez,tz,zie=(tz=(ez=na).isSupported)==null?void 0:tz.call(ez),oHe=t=>sHe||!aHe(t),mF=()=>{if(typeof window<"u")return FM.utils.now()},lHe=FM.utils.generateUUID,iO=({playbackId:t,customDomain:e=Rp,maxResolution:r,minResolution:n,renditionOrder:i,programStartTime:s,programEndTime:a,assetStartTime:c,assetEndTime:u,playbackToken:o,tokens:{playback:d=o}={},extraSourceParams:f={}}={})=>{if(!t)return;let[A,p=""]=uF(t),g=new URL(`https://stream.${e}/${A}.m3u8${p}`);return d||g.searchParams.has("token")?(g.searchParams.forEach((y,v)=>{v!="token"&&g.searchParams.delete(v)}),d&&g.searchParams.set("token",d)):(r&&g.searchParams.set("max_resolution",r),n&&(g.searchParams.set("min_resolution",n),r&&+r.slice(0,-1)<+n.slice(0,-1)&&console.error("minResolution must be <= maxResolution","minResolution",n,"maxResolution",r)),i&&g.searchParams.set("rendition_order",i),s&&g.searchParams.set("program_start_time",`${s}`),a&&g.searchParams.set("program_end_time",`${a}`),c&&g.searchParams.set("asset_start_time",`${c}`),u&&g.searchParams.set("asset_end_time",`${u}`),Object.entries(f).forEach(([y,v])=>{v!=null&&g.searchParams.set(y,v)})),g.toString()},w5=t=>{if(!t)return;let[e]=t.split("?");return e||void 0},pF=t=>{if(!t||!t.startsWith("https://stream."))return;let[e]=new URL(t).pathname.slice(1).split(/\.m3u8|\//);return e||void 0},cHe=t=>{var e,r,n;return(e=t?.metadata)!=null&&e.video_id?t.metadata.video_id:tse(t)&&(n=(r=w5(t.playbackId))!=null?r:pF(t.src))!=null?n:t.src},Wie=t=>{var e;return(e=tc.get(t))==null?void 0:e.error},uHe=t=>{var e;return(e=tc.get(t))==null?void 0:e.metadata},sO=t=>{var e,r;return(r=(e=tc.get(t))==null?void 0:e.streamType)!=null?r:Ka.UNKNOWN},dHe=t=>{var e,r;return(r=(e=tc.get(t))==null?void 0:e.targetLiveWindow)!=null?r:Number.NaN},gF=t=>{var e,r;return(r=(e=tc.get(t))==null?void 0:e.seekable)!=null?r:t.seekable},hHe=t=>{var e;let r=(e=tc.get(t))==null?void 0:e.liveEdgeStartOffset;if(typeof r!="number")return Number.NaN;let n=gF(t);return n.length?n.end(n.length-1)-r:Number.NaN},vF=.034,fHe=(t,e,r=vF)=>Math.abs(t-e)<=r,Yie=(t,e,r=vF)=>t>e||fHe(t,e,r),AHe=(t,e=vF)=>t.paused&&Yie(t.currentTime,t.duration,e),qie=(t,e)=>{var r,n,i;if(!e||!t.buffered.length)return;if(t.readyState>2)return!1;let s=e.currentLevel>=0?(n=(r=e.levels)==null?void 0:r[e.currentLevel])==null?void 0:n.details:(i=e.levels.find(f=>!!f.details))==null?void 0:i.details;if(!s||s.live)return;let{fragments:a}=s;if(!(a!=null&&a.length))return;if(t.currentTime<t.duration-(s.targetduration+.5))return!1;let c=a[a.length-1];if(t.currentTime<=c.start)return!1;let u=c.start+c.duration/2,o=t.buffered.start(t.buffered.length-1),d=t.buffered.end(t.buffered.length-1);return u>o&&u<d},Xie=(t,e)=>t.ended||t.loop?t.ended:e&&qie(t,e)?!0:AHe(t),mHe=(t,e,r)=>{Zie(e,r,t);let{metadata:n={}}=t,{view_session_id:i=lHe()}=n,s=cHe(t);n.view_session_id=i,n.video_id=s,t.metadata=n;let a=d=>{var f;(f=e.mux)==null||f.emit("hb",{view_drm_type:d})};t.drmTypeCb=a,tc.set(e,{retryCount:0});let c=pHe(t,e),u=L9e(t,e,c);t!=null&&t.muxDataKeepSession&&e!=null&&e.mux&&!e.mux.deleted?c&&e.mux.addHLSJS({hlsjs:c,Hls:c?na:void 0}):EHe(t,e,c),SHe(t,e,c),M9e(e),U9e(e);let o=B9e(t,e,c);return{engine:c,setAutoplay:o,setPreload:u}},Zie=(t,e,r)=>{let n=e?.engine;t!=null&&t.mux&&!t.mux.deleted&&(r!=null&&r.muxDataKeepSession?n&&t.mux.removeHLSJS():(t.mux.destroy(),delete t.mux)),n&&(n.detachMedia(),n.destroy()),t&&(t.hasAttribute("src")&&(t.removeAttribute("src"),t.load()),t.removeEventListener("error",nse),t.removeEventListener("error",aO),t.removeEventListener("durationchange",rse),tc.delete(t),t.dispatchEvent(new Event("teardown")))};function Jie(t,e){var r;let n=b5(t);if(n!==Lp.M3U8)return!0;let i=!n||((r=e.canPlayType(n))!=null?r:!0),{preferPlayback:s}=t,a=s===Tm.MSE,c=s===Tm.NATIVE,u=zie&&(a||oHe(e));return i&&(c||!u)}var pHe=(t,e)=>{let{debug:r,streamType:n,startTime:i=-1,metadata:s,preferCmcd:a,_hlsConfig:c={},maxAutoResolution:u}=t,o=b5(t)===Lp.M3U8,d=Jie(t,e);if(o&&!d&&zie){let f={backBufferLength:30,renderTextTracksNatively:!1,liveDurationInfinity:!0,capLevelOnFPSDrop:!0},A=gHe(n),p=vHe(t),g=[sw.QUERY,sw.HEADER].includes(a)?{useHeaders:a===sw.HEADER,sessionId:s?.view_session_id,contentId:s?.video_id}:void 0,y=wHe(t),v=new na({debug:r,startPosition:i,cmcd:g,xhrSetup:(b,w)=>{var S,_;if(a&&a!==sw.QUERY)return;let T=new URL(w);if(!T.searchParams.has("CMCD"))return;let L=((_=(S=T.searchParams.get("CMCD"))==null?void 0:S.split(","))!=null?_:[]).filter(D=>D.startsWith("sid")||D.startsWith("cid")).join(",");T.searchParams.set("CMCD",L),b.open("GET",T)},...f,...y,...A,...p,...c});return y.capLevelController===nO&&u!==void 0&&nO.setMaxAutoResolution(v,u),v.on(na.Events.MANIFEST_PARSED,async function(b,w){var S,_;let T=(S=w.sessionData)==null?void 0:S["com.apple.hls.chapters"];(T!=null&&T.URI||T!=null&&T.VALUE.toLocaleLowerCase().startsWith("http"))&&AF((_=T?.URI)!=null?_:T?.VALUE,e)}),v}},gHe=t=>t===Ka.LIVE?{backBufferLength:8}:{},vHe=t=>{let{tokens:{drm:e}={},playbackId:r,drmTypeCb:n}=t,i=w5(r);return!e||!i?{}:{emeEnabled:!0,drmSystems:{"com.apple.fps":{licenseUrl:K_(t,"fairplay"),serverCertificateUrl:ese(t,"fairplay")},"com.widevine.alpha":{licenseUrl:K_(t,"widevine")},"com.microsoft.playready":{licenseUrl:K_(t,"playready")}},requestMediaKeySystemAccessFunc:(s,a)=>(s==="com.widevine.alpha"&&(a=[...a.map(c=>{var u;let o=(u=c.videoCapabilities)==null?void 0:u.map(d=>({...d,robustness:"HW_SECURE_ALL"}));return{...c,videoCapabilities:o}}),...a]),navigator.requestMediaKeySystemAccess(s,a).then(c=>{let u=W9e(s);return n?.(u),c}))}},yHe=async t=>{let e=await fetch(t);return e.status!==200?Promise.reject(e):await e.arrayBuffer()},xHe=async(t,e)=>{let r=await fetch(e,{method:"POST",headers:{"Content-type":"application/octet-stream"},body:t});if(r.status!==200)return Promise.reject(r);let n=await r.arrayBuffer();return new Uint8Array(n)},bHe=(t,e)=>{let r=async s=>{let a=await navigator.requestMediaKeySystemAccess("com.apple.fps",[{initDataTypes:[s],videoCapabilities:[{contentType:"application/vnd.apple.mpegurl",robustness:""}],distinctiveIdentifier:"not-allowed",persistentState:"not-allowed",sessionTypes:["temporary"]}]).then(u=>{var o;return(o=t.drmTypeCb)==null||o.call(t,V_.FAIRPLAY),u}).catch(()=>{let u=Si("Cannot play DRM-protected content with current security configuration on this browser. Try playing in another browser."),o=new Dn(u,Dn.MEDIA_ERR_ENCRYPTED,!0);o.errorCategory=qo.DRM,o.muxCode=Oi.ENCRYPTED_UNSUPPORTED_KEY_SYSTEM,ef(e,o)});if(!a)return;let c=await a.createMediaKeys();try{let u=await yHe(ese(t,"fairplay")).catch(o=>{if(o instanceof Response){let d=Rj(o,qo.DRM,t);return console.error("mediaError",d?.message,d?.context),d?Promise.reject(d):Promise.reject(new Error("Unexpected error in app cert request"))}return Promise.reject(o)});await c.setServerCertificate(u).catch(()=>{let o=Si("Your server certificate failed when attempting to set it. This may be an issue with a no longer valid certificate."),d=new Dn(o,Dn.MEDIA_ERR_ENCRYPTED,!0);return d.errorCategory=qo.DRM,d.muxCode=Oi.ENCRYPTED_UPDATE_SERVER_CERT_FAILED,Promise.reject(d)})}catch(u){ef(e,u);return}await e.setMediaKeys(c)},n=s=>{let a;if(s==="internal-error"){let c=Si("The DRM Content Decryption Module system had an internal failure. Try reloading the page, upading your browser, or playing in another browser.");a=new Dn(c,Dn.MEDIA_ERR_ENCRYPTED,!0),a.errorCategory=qo.DRM,a.muxCode=Oi.ENCRYPTED_CDM_ERROR}else if(s==="output-restricted"||s==="output-downscaled"){let c=Si("DRM playback is being attempted in an environment that is not sufficiently secure. User may see black screen.");a=new Dn(c,Dn.MEDIA_ERR_ENCRYPTED,!1),a.errorCategory=qo.DRM,a.muxCode=Oi.ENCRYPTED_OUTPUT_RESTRICTED}a&&ef(e,a)},i=async(s,a)=>{let c=e.mediaKeys.createSession(),u=()=>{c.keyStatuses.forEach(d=>n(d))},o=async d=>{let f=d.message;try{let A=await xHe(f,K_(t,"fairplay"));try{await c.update(A)}catch{let p=Si("Failed to update DRM license. This may be an issue with the player or your protected content."),g=new Dn(p,Dn.MEDIA_ERR_ENCRYPTED,!0);g.errorCategory=qo.DRM,g.muxCode=Oi.ENCRYPTED_UPDATE_LICENSE_FAILED,ef(e,g)}}catch(A){if(A instanceof Response){let p=Rj(A,qo.DRM,t);if(console.error("mediaError",p?.message,p?.context),p){ef(e,p);return}console.error("Unexpected error in license key request",A);return}console.error(A)}};c.addEventListener("keystatuseschange",u),c.addEventListener("message",o),e.addEventListener("teardown",()=>{c.removeEventListener("keystatuseschange",u),c.removeEventListener("message",o),c.close()},{once:!0}),await c.generateRequest(s,a).catch(d=>{console.error("Failed to generate license request",d);let f=Si("Failed to generate a DRM license request. This may be an issue with the player or your protected content."),A=new Dn(f,Dn.MEDIA_ERR_ENCRYPTED,!0);return A.errorCategory=qo.DRM,A.muxCode=Oi.ENCRYPTED_GENERATE_REQUEST_FAILED,Promise.reject(A)})};Uc(e,"encrypted",async s=>{try{let a=s.initDataType;if(a!=="skd"){console.error(`Received unexpected initialization data type "${a}"`);return}e.mediaKeys||await r(a);let c=s.initData;if(c==null){console.error(`Could not start encrypted playback due to missing initData in ${s.type} event`);return}await i(a,c)}catch(a){ef(e,a);return}})},K_=({playbackId:t,tokens:{drm:e}={},customDomain:r=Rp},n)=>{let i=w5(t);return`https://license.${r.toLocaleLowerCase().endsWith(Rp)?r:Rp}/license/${n}/${i}?token=${e}`},ese=({playbackId:t,tokens:{drm:e}={},customDomain:r=Rp},n)=>{let i=w5(t);return`https://license.${r.toLocaleLowerCase().endsWith(Rp)?r:Rp}/appcert/${n}/${i}?token=${e}`},tse=({playbackId:t,src:e,customDomain:r})=>{if(t)return!0;if(typeof e!="string")return!1;let n=window?.location.href,i=new URL(e,n).hostname.toLocaleLowerCase();return i.includes(Rp)||!!r&&i.includes(r.toLocaleLowerCase())},wHe=(t,e)=>{let r={};return r.capLevelToPlayerSize=t.capRenditionToPlayerSize,r.capLevelToPlayerSize==null?(r.capLevelController=nO,r.capLevelToPlayerSize=!0):r.capLevelController=v5,r},EHe=(t,e,r)=>{var n;let{envKey:i,disableTracking:s,muxDataSDK:a=FM,muxDataSDKOptions:c={}}=t,u=tse(t);if(!s&&(i||u)){let{playerInitTime:o,playerSoftwareName:d,playerSoftwareVersion:f,beaconCollectionDomain:A,debug:p,disableCookies:g}=t,y={...t.metadata,video_title:((n=t?.metadata)==null?void 0:n.video_title)||void 0},v=b=>typeof b.player_error_code=="string"?!1:typeof t.errorTranslator=="function"?t.errorTranslator(b):b;a.monitor(e,{debug:p,beaconCollectionDomain:A,hlsjs:r,Hls:r?na:void 0,automaticErrorTracking:!1,errorTranslator:v,disableCookies:g,...c,data:{...i?{env_key:i}:{},player_software_name:d,player_software:d,player_software_version:f,player_init_time:o,...y}})}},SHe=(t,e,r)=>{var n,i;let s=Jie(t,e),{src:a,customDomain:c=Rp}=t,u=()=>{e.ended||t.disablePseudoEnded||!Xie(e,r)||(qie(e,r)?e.currentTime=e.buffered.end(e.buffered.length-1):e.dispatchEvent(new Event("ended")))},o,d,f=()=>{let A=gF(e),p,g;A.length>0&&(p=A.start(0),g=A.end(0)),(d!==g||o!==p)&&e.dispatchEvent(new CustomEvent("seekablechange",{composed:!0})),o=p,d=g};if(Uc(e,"durationchange",f),e&&s){let A=b5(t);if(typeof a=="string"){if(a.endsWith(".mp4")&&a.includes(c)){let y=pF(a),v=new URL(`https://stream.${c}/${y}/metadata.json`);AF(v.toString(),e)}let p=()=>{if(sO(e)!==Ka.LIVE||Number.isFinite(e.duration))return;let y=setInterval(f,1e3);e.addEventListener("teardown",()=>{clearInterval(y)},{once:!0}),Uc(e,"durationchange",()=>{Number.isFinite(e.duration)&&clearInterval(y)})},g=async()=>tHe(a,e,A).then(p).catch(y=>{if(y instanceof Response){let v=Rj(y,qo.VIDEO,t);if(v){ef(e,v);return}}});if(e.preload==="none"){let y=()=>{g(),e.removeEventListener("loadedmetadata",v)},v=()=>{g(),e.removeEventListener("play",y)};Uc(e,"play",y,{once:!0}),Uc(e,"loadedmetadata",v,{once:!0})}else g();(n=t.tokens)!=null&&n.drm?bHe(t,e):Uc(e,"encrypted",()=>{let y=Si("Attempting to play DRM-protected content without providing a DRM token."),v=new Dn(y,Dn.MEDIA_ERR_ENCRYPTED,!0);v.errorCategory=qo.DRM,v.muxCode=Oi.ENCRYPTED_MISSING_TOKEN,ef(e,v)},{once:!0}),e.setAttribute("src",a),t.startTime&&(((i=tc.get(e))!=null?i:{}).startTime=t.startTime,e.addEventListener("durationchange",rse,{once:!0}))}else e.removeAttribute("src");e.addEventListener("error",nse),e.addEventListener("error",aO),e.addEventListener("emptied",()=>{e.querySelectorAll("track[data-removeondestroy]").forEach(p=>{p.remove()})},{once:!0}),Uc(e,"pause",u),Uc(e,"seeked",u),Uc(e,"play",()=>{e.ended||Yie(e.currentTime,e.duration)&&(e.currentTime=e.seekable.length?e.seekable.start(0):0)})}else r&&a?(r.once(na.Events.LEVEL_LOADED,(A,p)=>{nHe(p.details,e,r),f(),sO(e)===Ka.LIVE&&!Number.isFinite(e.duration)&&(r.on(na.Events.LEVEL_UPDATED,f),Uc(e,"durationchange",()=>{Number.isFinite(e.duration)&&r.off(na.Events.LEVELS_UPDATED,f)}))}),r.on(na.Events.ERROR,(A,p)=>{var g,y;let v=_He(p,t);if(v.muxCode===Oi.NETWORK_NOT_READY){let b=(g=tc.get(e))!=null?g:{},w=(y=b.retryCount)!=null?y:0;if(w<6){let S=w===0?5e3:6e4,_=new Dn(`Retrying in ${S/1e3} seconds...`,v.code,v.fatal);Object.assign(_,v),ef(e,_),setTimeout(()=>{b.retryCount=w+1,p.details==="manifestLoadError"&&p.url&&r.loadSource(p.url)},S);return}else{b.retryCount=0;let S=new Dn('Try again later or <a href="#" onclick="window.location.reload(); return false;" style="color: #4a90e2;">click here to retry</a>',v.code,v.fatal);Object.assign(S,v),ef(e,S);return}}ef(e,v)}),r.on(na.Events.MANIFEST_LOADED,()=>{let A=tc.get(e);A&&A.error&&(A.error=null,A.retryCount=0,e.dispatchEvent(new Event("emptied")),e.dispatchEvent(new Event("loadstart")))}),e.addEventListener("error",aO),Uc(e,"waiting",u),R9e(t,r),O9e(e,r),r.attachMedia(e)):console.error("It looks like the video you're trying to play will not work on this system! If possible, try upgrading to the newest versions of your browser or software.")};function rse(t){var e;let r=t.target,n=(e=tc.get(r))==null?void 0:e.startTime;if(n&&w9e(r.seekable,r.duration,n)){let i=r.preload==="auto";i&&(r.preload="none"),r.currentTime=n,i&&(r.preload="auto")}}async function nse(t){if(!t.isTrusted)return;t.stopImmediatePropagation();let e=t.target;if(!(e!=null&&e.error))return;let{message:r,code:n}=e.error,i=new Dn(r,n);if(e.src&&n===Dn.MEDIA_ERR_SRC_NOT_SUPPORTED&&e.readyState===HTMLMediaElement.HAVE_NOTHING){setTimeout(()=>{var s;let a=(s=Wie(e))!=null?s:e.error;a?.code===Dn.MEDIA_ERR_SRC_NOT_SUPPORTED&&ef(e,i)},500);return}if(e.src&&(n!==Dn.MEDIA_ERR_DECODE||n!==void 0))try{let{status:s}=await fetch(e.src);i.data={response:{code:s}}}catch{}ef(e,i)}function ef(t,e){var r;e.fatal&&(((r=tc.get(t))!=null?r:{}).error=e,t.dispatchEvent(new CustomEvent("error",{detail:e})))}function aO(t){var e,r;if(!(t instanceof CustomEvent)||!(t.detail instanceof Dn))return;let n=t.target,i=t.detail;!i||!i.fatal||(((e=tc.get(n))!=null?e:{}).error=i,(r=n.mux)==null||r.emit("error",{player_error_code:i.code,player_error_message:i.message,player_error_context:i.context}))}var _He=(t,e)=>{var r,n,i;t.fatal?console.error("getErrorFromHlsErrorData()",t):e.debug&&console.warn("getErrorFromHlsErrorData() (non-fatal)",t);let s={[na.ErrorTypes.NETWORK_ERROR]:Dn.MEDIA_ERR_NETWORK,[na.ErrorTypes.MEDIA_ERROR]:Dn.MEDIA_ERR_DECODE,[na.ErrorTypes.KEY_SYSTEM_ERROR]:Dn.MEDIA_ERR_ENCRYPTED},a=d=>[na.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,na.ErrorDetails.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED].includes(d.details)?Dn.MEDIA_ERR_NETWORK:s[d.type],c=d=>{if(d.type===na.ErrorTypes.KEY_SYSTEM_ERROR)return qo.DRM;if(d.type===na.ErrorTypes.NETWORK_ERROR)return qo.VIDEO},u,o=a(t);if(o===Dn.MEDIA_ERR_NETWORK&&t.response){let d=(r=c(t))!=null?r:qo.VIDEO;u=(n=Rj(t.response,d,e,t.fatal))!=null?n:new Dn("",o,t.fatal)}else if(o===Dn.MEDIA_ERR_ENCRYPTED)if(t.details===na.ErrorDetails.KEY_SYSTEM_NO_CONFIGURED_LICENSE){let d=Si("Attempting to play DRM-protected content without providing a DRM token.");u=new Dn(d,Dn.MEDIA_ERR_ENCRYPTED,t.fatal),u.errorCategory=qo.DRM,u.muxCode=Oi.ENCRYPTED_MISSING_TOKEN}else if(t.details===na.ErrorDetails.KEY_SYSTEM_NO_ACCESS){let d=Si("Cannot play DRM-protected content with current security configuration on this browser. Try playing in another browser.");u=new Dn(d,Dn.MEDIA_ERR_ENCRYPTED,t.fatal),u.errorCategory=qo.DRM,u.muxCode=Oi.ENCRYPTED_UNSUPPORTED_KEY_SYSTEM}else if(t.details===na.ErrorDetails.KEY_SYSTEM_NO_SESSION){let d=Si("Failed to generate a DRM license request. This may be an issue with the player or your protected content.");u=new Dn(d,Dn.MEDIA_ERR_ENCRYPTED,!0),u.errorCategory=qo.DRM,u.muxCode=Oi.ENCRYPTED_GENERATE_REQUEST_FAILED}else if(t.details===na.ErrorDetails.KEY_SYSTEM_SESSION_UPDATE_FAILED){let d=Si("Failed to update DRM license. This may be an issue with the player or your protected content.");u=new Dn(d,Dn.MEDIA_ERR_ENCRYPTED,t.fatal),u.errorCategory=qo.DRM,u.muxCode=Oi.ENCRYPTED_UPDATE_LICENSE_FAILED}else if(t.details===na.ErrorDetails.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED){let d=Si("Your server certificate failed when attempting to set it. This may be an issue with a no longer valid certificate.");u=new Dn(d,Dn.MEDIA_ERR_ENCRYPTED,t.fatal),u.errorCategory=qo.DRM,u.muxCode=Oi.ENCRYPTED_UPDATE_SERVER_CERT_FAILED}else if(t.details===na.ErrorDetails.KEY_SYSTEM_STATUS_INTERNAL_ERROR){let d=Si("The DRM Content Decryption Module system had an internal failure. Try reloading the page, upading your browser, or playing in another browser.");u=new Dn(d,Dn.MEDIA_ERR_ENCRYPTED,t.fatal),u.errorCategory=qo.DRM,u.muxCode=Oi.ENCRYPTED_CDM_ERROR}else if(t.details===na.ErrorDetails.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED){let d=Si("DRM playback is being attempted in an environment that is not sufficiently secure. User may see black screen.");u=new Dn(d,Dn.MEDIA_ERR_ENCRYPTED,!1),u.errorCategory=qo.DRM,u.muxCode=Oi.ENCRYPTED_OUTPUT_RESTRICTED}else u=new Dn(t.error.message,Dn.MEDIA_ERR_ENCRYPTED,t.fatal),u.errorCategory=qo.DRM,u.muxCode=Oi.ENCRYPTED_ERROR;else u=new Dn("",o,t.fatal);return u.context||(u.context=`${t.url?`url: ${t.url}
`:""}${t.response&&(t.response.code||t.response.text)?`response: ${t.response.code}, ${t.response.text}
`:""}${t.reason?`failure reason: ${t.reason}
`:""}${t.level?`level: ${t.level}
`:""}${t.parent?`parent stream controller: ${t.parent}
`:""}${t.buffer?`buffer length: ${t.buffer}
`:""}${t.error?`error: ${t.error}
`:""}${t.event?`event: ${t.event}
`:""}${t.err?`error message: ${(i=t.err)==null?void 0:i.message}
`:""}`),u.data=t,u};const THe=["abort","canplay","canplaythrough","durationchange","emptied","encrypted","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting","waitingforkey","resize","enterpictureinpicture","leavepictureinpicture","webkitbeginfullscreen","webkitendfullscreen","webkitpresentationmodechanged"],ise=["autopictureinpicture","disablepictureinpicture","disableremoteplayback","autoplay","controls","controlslist","crossorigin","loop","muted","playsinline","poster","preload","src"];function CHe(t){return`
    <style>
      :host {
        display: inline-flex;
        line-height: 0;
        flex-direction: column;
        justify-content: end;
      }

      audio {
        width: 100%;
      }
    </style>
    <slot name="media">
      <audio${ase(t)}></audio>
    </slot>
    <slot></slot>
  `}function jHe(t){return`
    <style>
      :host {
        display: inline-block;
        line-height: 0;
      }

      video {
        max-width: 100%;
        max-height: 100%;
        min-width: 100%;
        min-height: 100%;
        object-fit: var(--media-object-fit, contain);
        object-position: var(--media-object-position, 50% 50%);
      }

      video::-webkit-media-text-track-container {
        transform: var(--media-webkit-text-track-transform);
        transition: var(--media-webkit-text-track-transition);
      }
    </style>
    <slot name="media">
      <video${ase(t)}></video>
    </slot>
    <slot></slot>
  `}function sse(t,{tag:e,is:r}){const n=globalThis.document?.createElement?.(e,{is:r}),i=n?NHe(n):[];return class oO extends t{static getTemplateHTML=e.endsWith("audio")?CHe:jHe;static shadowRootOptions={mode:"open"};static Events=THe;static#e=!1;static get observedAttributes(){return oO.#n(),[...n?.constructor?.observedAttributes??[],...ise]}static#n(){if(this.#e)return;this.#e=!0;const a=new Set(this.observedAttributes);a.delete("muted");for(const c of i)if(!(c in this.prototype))if(typeof n[c]=="function")this.prototype[c]=function(...u){return this.#s(),this.call?this.call(c,...u):this.nativeEl?.[c]?.apply(this.nativeEl,u)};else{const u={get(){this.#s();const o=c.toLowerCase();if(a.has(o)){const d=this.getAttribute(o);return d===null?!1:d===""?!0:d}return this.get?.(c)??this.nativeEl?.[c]}};c!==c.toUpperCase()&&(u.set=function(o){this.#s();const d=c.toLowerCase();if(a.has(d)){o===!0||o===!1||o==null?this.toggleAttribute(d,!!o):this.setAttribute(d,o);return}if(this.set){this.set(c,o);return}this.nativeEl&&(this.nativeEl[c]=o)}),Object.defineProperty(this.prototype,c,u)}}#r=!1;#i=null;#t=new Map;#a;get;set;call;get nativeEl(){return this.#s(),this.#i??this.querySelector(":scope > [slot=media]")??this.querySelector(e)??this.shadowRoot?.querySelector(e)??null}set nativeEl(a){this.#i=a}get defaultMuted(){return this.hasAttribute("muted")}set defaultMuted(a){this.toggleAttribute("muted",a)}get src(){return this.getAttribute("src")}set src(a){this.setAttribute("src",`${a}`)}get preload(){return this.getAttribute("preload")??this.nativeEl?.preload}set preload(a){this.setAttribute("preload",`${a}`)}#s(){this.#r||(this.#r=!0,this.init())}init(){if(!this.shadowRoot){this.attachShadow({mode:"open"});const a=IHe(this.attributes);r&&(a.is=r),e&&(a.part=e),this.shadowRoot.innerHTML=this.constructor.getTemplateHTML(a)}this.nativeEl.muted=this.hasAttribute("muted");for(const a of i)this.#d(a);this.#a=new MutationObserver(this.#o.bind(this)),this.shadowRoot.addEventListener("slotchange",()=>this.#l()),this.#l();for(const a of this.constructor.Events)this.shadowRoot.addEventListener(a,this,!0)}handleEvent(a){a.target===this.nativeEl&&this.dispatchEvent(new CustomEvent(a.type,{detail:a.detail}))}#l(){const a=new Map(this.#t);(this.shadowRoot?.querySelector("slot:not([name])")?.assignedElements({flatten:!0}).filter(o=>["track","source"].includes(o.localName))).forEach(o=>{a.delete(o);let d=this.#t.get(o);d||(d=o.cloneNode(),this.#t.set(o,d),this.#a?.observe(o,{attributes:!0})),this.nativeEl?.append(d),this.#c(d)}),a.forEach((o,d)=>{o.remove(),this.#t.delete(d)})}#o(a){for(const c of a)if(c.type==="attributes"){const{target:u,attributeName:o}=c,d=this.#t.get(u);d&&o&&(d.setAttribute(o,u.getAttribute(o)??""),this.#c(d))}}#c(a){a&&a.localName==="track"&&a.default&&(a.kind==="chapters"||a.kind==="metadata")&&a.track.mode==="disabled"&&(a.track.mode="hidden")}#d(a){if(Object.prototype.hasOwnProperty.call(this,a)){const c=this[a];delete this[a],this[a]=c}}attributeChangedCallback(a,c,u){this.#s(),this.#u(a,c,u)}#u(a,c,u){["id","class"].includes(a)||!oO.observedAttributes.includes(a)&&this.constructor.observedAttributes.includes(a)||(u===null?this.nativeEl?.removeAttribute(a):this.nativeEl?.getAttribute(a)!==u&&this.nativeEl?.setAttribute(a,u))}connectedCallback(){this.#s()}}}function NHe(t){const e=[];for(let r=Object.getPrototypeOf(t);r&&r!==HTMLElement.prototype;r=Object.getPrototypeOf(r)){const n=Object.getOwnPropertyNames(r);e.push(...n)}return e}function ase(t){let e="";for(const r in t){if(!ise.includes(r))continue;const n=t[r];n===""?e+=` ${r}`:e+=` ${r}="${n}"`}return e}function IHe(t){const e={};for(const r of t)e[r.name]=r.value;return e}const r_=sse(globalThis.HTMLElement??class{},{tag:"video"});sse(globalThis.HTMLElement??class{},{tag:"audio"});var ose=t=>{throw TypeError(t)},yF=(t,e,r)=>e.has(t)||ose("Cannot "+r),Pu=(t,e,r)=>(yF(t,e,"read from private field"),r?r.call(t):e.get(t)),Tf=(t,e,r)=>e.has(t)?ose("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),zh=(t,e,r,n)=>(yF(t,e,"write to private field"),e.set(t,r),r),n_=(t,e,r)=>(yF(t,e,"access private method"),r),kHe=()=>{try{return"0.30.2"}catch{}return"UNKNOWN"},BHe=kHe(),LHe=()=>BHe,RHe=`
<svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" part="logo" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2" viewBox="0 0 1600 500"><g fill="#fff"><path d="M994.287 93.486c-17.121 0-31-13.879-31-31 0-17.121 13.879-31 31-31 17.121 0 31 13.879 31 31 0 17.121-13.879 31-31 31m0-93.486c-34.509 0-62.484 27.976-62.484 62.486v187.511c0 68.943-56.09 125.033-125.032 125.033s-125.03-56.09-125.03-125.033V62.486C681.741 27.976 653.765 0 619.256 0s-62.484 27.976-62.484 62.486v187.511C556.772 387.85 668.921 500 806.771 500c137.851 0 250.001-112.15 250.001-250.003V62.486c0-34.51-27.976-62.486-62.485-62.486M1537.51 468.511c-17.121 0-31-13.879-31-31 0-17.121 13.879-31 31-31 17.121 0 31 13.879 31 31 0 17.121-13.879 31-31 31m-275.883-218.509-143.33 143.329c-24.402 24.402-24.402 63.966 0 88.368 24.402 24.402 63.967 24.402 88.369 0l143.33-143.329 143.328 143.329c24.402 24.4 63.967 24.402 88.369 0 24.403-24.402 24.403-63.966.001-88.368l-143.33-143.329.001-.004 143.329-143.329c24.402-24.402 24.402-63.965 0-88.367s-63.967-24.402-88.369 0L1349.996 161.63 1206.667 18.302c-24.402-24.401-63.967-24.402-88.369 0s-24.402 63.965 0 88.367l143.329 143.329v.004ZM437.511 468.521c-17.121 0-31-13.879-31-31 0-17.121 13.879-31 31-31 17.121 0 31 13.879 31 31 0 17.121-13.879 31-31 31M461.426 4.759C438.078-4.913 411.2.432 393.33 18.303L249.999 161.632 106.669 18.303C88.798.432 61.922-4.913 38.573 4.759 15.224 14.43-.001 37.214-.001 62.488v375.026c0 34.51 27.977 62.486 62.487 62.486 34.51 0 62.486-27.976 62.486-62.486V213.341l80.843 80.844c24.404 24.402 63.965 24.402 88.369 0l80.843-80.844v224.173c0 34.51 27.976 62.486 62.486 62.486s62.486-27.976 62.486-62.486V62.488c0-25.274-15.224-48.058-38.573-57.729" style="fill-rule:nonzero"/></g></svg>`,er={BEACON_COLLECTION_DOMAIN:"beacon-collection-domain",CUSTOM_DOMAIN:"custom-domain",DEBUG:"debug",DISABLE_TRACKING:"disable-tracking",DISABLE_COOKIES:"disable-cookies",DISABLE_PSEUDO_ENDED:"disable-pseudo-ended",DRM_TOKEN:"drm-token",PLAYBACK_TOKEN:"playback-token",ENV_KEY:"env-key",MAX_RESOLUTION:"max-resolution",MIN_RESOLUTION:"min-resolution",MAX_AUTO_RESOLUTION:"max-auto-resolution",RENDITION_ORDER:"rendition-order",PROGRAM_START_TIME:"program-start-time",PROGRAM_END_TIME:"program-end-time",ASSET_START_TIME:"asset-start-time",ASSET_END_TIME:"asset-end-time",METADATA_URL:"metadata-url",PLAYBACK_ID:"playback-id",PLAYER_SOFTWARE_NAME:"player-software-name",PLAYER_SOFTWARE_VERSION:"player-software-version",PLAYER_INIT_TIME:"player-init-time",PREFER_CMCD:"prefer-cmcd",PREFER_PLAYBACK:"prefer-playback",START_TIME:"start-time",STREAM_TYPE:"stream-type",TARGET_LIVE_WINDOW:"target-live-window",LIVE_EDGE_OFFSET:"live-edge-offset",TYPE:"type",LOGO:"logo",CAP_RENDITION_TO_PLAYER_SIZE:"cap-rendition-to-player-size"},OHe=Object.values(er),rz=LHe(),nz="mux-video",sm,ow,G_,lw,z_,W_,Y_,q_,X_,cw,Z_,hx,uw,PHe=class extends r_{constructor(){super(),Tf(this,hx),Tf(this,sm),Tf(this,ow),Tf(this,G_),Tf(this,lw,{}),Tf(this,z_,{}),Tf(this,W_),Tf(this,Y_),Tf(this,q_),Tf(this,X_),Tf(this,cw,""),Tf(this,Z_),zh(this,G_,mF()),this.nativeEl.addEventListener("muxmetadata",e=>{var r;let n=uHe(this.nativeEl),i=(r=this.metadata)!=null?r:{};this.metadata={...n,...i},n?.["com.mux.video.branding"]==="mux-free-plan"&&(zh(this,cw,"default"),this.updateLogo())})}static get NAME(){return nz}static get VERSION(){return rz}static get observedAttributes(){var e;return[...OHe,...(e=r_.observedAttributes)!=null?e:[]]}static getLogoHTML(e){return!e||e==="false"?"":e==="default"?RHe:`<img part="logo" src="${e}" />`}static getTemplateHTML(e={}){var r;return`
      ${r_.getTemplateHTML(e)}
      <style>
        :host {
          position: relative;
        }
        slot[name="logo"] {
          display: flex;
          justify-content: end;
          position: absolute;
          top: 1rem;
          right: 1rem;
          opacity: 0;
          transition: opacity 0.25s ease-in-out;
          z-index: 1;
        }
        slot[name="logo"]:has([part="logo"]) {
          opacity: 1;
        }
        slot[name="logo"] [part="logo"] {
          width: 5rem;
          pointer-events: none;
          user-select: none;
        }
      </style>
      <slot name="logo">
        ${this.getLogoHTML((r=e[er.LOGO])!=null?r:"")}
      </slot>
    `}get preferCmcd(){var e;return(e=this.getAttribute(er.PREFER_CMCD))!=null?e:void 0}set preferCmcd(e){e!==this.preferCmcd&&(e?Lj.includes(e)?this.setAttribute(er.PREFER_CMCD,e):console.warn(`Invalid value for preferCmcd. Must be one of ${Lj.join()}`):this.removeAttribute(er.PREFER_CMCD))}get playerInitTime(){return this.hasAttribute(er.PLAYER_INIT_TIME)?+this.getAttribute(er.PLAYER_INIT_TIME):Pu(this,G_)}set playerInitTime(e){e!=this.playerInitTime&&(e==null?this.removeAttribute(er.PLAYER_INIT_TIME):this.setAttribute(er.PLAYER_INIT_TIME,`${+e}`))}get playerSoftwareName(){var e;return(e=Pu(this,q_))!=null?e:nz}set playerSoftwareName(e){zh(this,q_,e)}get playerSoftwareVersion(){var e;return(e=Pu(this,Y_))!=null?e:rz}set playerSoftwareVersion(e){zh(this,Y_,e)}get _hls(){var e;return(e=Pu(this,sm))==null?void 0:e.engine}get mux(){var e;return(e=this.nativeEl)==null?void 0:e.mux}get error(){var e;return(e=Wie(this.nativeEl))!=null?e:null}get errorTranslator(){return Pu(this,X_)}set errorTranslator(e){zh(this,X_,e)}get src(){return this.getAttribute("src")}set src(e){e!==this.src&&(e==null?this.removeAttribute("src"):this.setAttribute("src",e))}get type(){var e;return(e=this.getAttribute(er.TYPE))!=null?e:void 0}set type(e){e!==this.type&&(e?this.setAttribute(er.TYPE,e):this.removeAttribute(er.TYPE))}get preload(){let e=this.getAttribute("preload");return e===""?"auto":["none","metadata","auto"].includes(e)?e:super.preload}set preload(e){e!=this.getAttribute("preload")&&(["","none","metadata","auto"].includes(e)?this.setAttribute("preload",e):this.removeAttribute("preload"))}get debug(){return this.getAttribute(er.DEBUG)!=null}set debug(e){e!==this.debug&&(e?this.setAttribute(er.DEBUG,""):this.removeAttribute(er.DEBUG))}get disableTracking(){return this.hasAttribute(er.DISABLE_TRACKING)}set disableTracking(e){e!==this.disableTracking&&this.toggleAttribute(er.DISABLE_TRACKING,!!e)}get disableCookies(){return this.hasAttribute(er.DISABLE_COOKIES)}set disableCookies(e){e!==this.disableCookies&&(e?this.setAttribute(er.DISABLE_COOKIES,""):this.removeAttribute(er.DISABLE_COOKIES))}get disablePseudoEnded(){return this.hasAttribute(er.DISABLE_PSEUDO_ENDED)}set disablePseudoEnded(e){e!==this.disablePseudoEnded&&(e?this.setAttribute(er.DISABLE_PSEUDO_ENDED,""):this.removeAttribute(er.DISABLE_PSEUDO_ENDED))}get startTime(){let e=this.getAttribute(er.START_TIME);if(e==null)return;let r=+e;return Number.isNaN(r)?void 0:r}set startTime(e){e!==this.startTime&&(e==null?this.removeAttribute(er.START_TIME):this.setAttribute(er.START_TIME,`${e}`))}get playbackId(){var e;return this.hasAttribute(er.PLAYBACK_ID)?this.getAttribute(er.PLAYBACK_ID):(e=pF(this.src))!=null?e:void 0}set playbackId(e){e!==this.playbackId&&(e?this.setAttribute(er.PLAYBACK_ID,e):this.removeAttribute(er.PLAYBACK_ID))}get maxResolution(){var e;return(e=this.getAttribute(er.MAX_RESOLUTION))!=null?e:void 0}set maxResolution(e){e!==this.maxResolution&&(e?this.setAttribute(er.MAX_RESOLUTION,e):this.removeAttribute(er.MAX_RESOLUTION))}get minResolution(){var e;return(e=this.getAttribute(er.MIN_RESOLUTION))!=null?e:void 0}set minResolution(e){e!==this.minResolution&&(e?this.setAttribute(er.MIN_RESOLUTION,e):this.removeAttribute(er.MIN_RESOLUTION))}get maxAutoResolution(){var e;return(e=this.getAttribute(er.MAX_AUTO_RESOLUTION))!=null?e:void 0}set maxAutoResolution(e){e==null?this.removeAttribute(er.MAX_AUTO_RESOLUTION):this.setAttribute(er.MAX_AUTO_RESOLUTION,e)}get renditionOrder(){var e;return(e=this.getAttribute(er.RENDITION_ORDER))!=null?e:void 0}set renditionOrder(e){e!==this.renditionOrder&&(e?this.setAttribute(er.RENDITION_ORDER,e):this.removeAttribute(er.RENDITION_ORDER))}get programStartTime(){let e=this.getAttribute(er.PROGRAM_START_TIME);if(e==null)return;let r=+e;return Number.isNaN(r)?void 0:r}set programStartTime(e){e==null?this.removeAttribute(er.PROGRAM_START_TIME):this.setAttribute(er.PROGRAM_START_TIME,`${e}`)}get programEndTime(){let e=this.getAttribute(er.PROGRAM_END_TIME);if(e==null)return;let r=+e;return Number.isNaN(r)?void 0:r}set programEndTime(e){e==null?this.removeAttribute(er.PROGRAM_END_TIME):this.setAttribute(er.PROGRAM_END_TIME,`${e}`)}get assetStartTime(){let e=this.getAttribute(er.ASSET_START_TIME);if(e==null)return;let r=+e;return Number.isNaN(r)?void 0:r}set assetStartTime(e){e==null?this.removeAttribute(er.ASSET_START_TIME):this.setAttribute(er.ASSET_START_TIME,`${e}`)}get assetEndTime(){let e=this.getAttribute(er.ASSET_END_TIME);if(e==null)return;let r=+e;return Number.isNaN(r)?void 0:r}set assetEndTime(e){e==null?this.removeAttribute(er.ASSET_END_TIME):this.setAttribute(er.ASSET_END_TIME,`${e}`)}get customDomain(){var e;return(e=this.getAttribute(er.CUSTOM_DOMAIN))!=null?e:void 0}set customDomain(e){e!==this.customDomain&&(e?this.setAttribute(er.CUSTOM_DOMAIN,e):this.removeAttribute(er.CUSTOM_DOMAIN))}get capRenditionToPlayerSize(){var e;return((e=this._hlsConfig)==null?void 0:e.capLevelToPlayerSize)!=null?this._hlsConfig.capLevelToPlayerSize:Pu(this,Z_)}set capRenditionToPlayerSize(e){zh(this,Z_,e)}get drmToken(){var e;return(e=this.getAttribute(er.DRM_TOKEN))!=null?e:void 0}set drmToken(e){e!==this.drmToken&&(e?this.setAttribute(er.DRM_TOKEN,e):this.removeAttribute(er.DRM_TOKEN))}get playbackToken(){var e,r,n,i;if(this.hasAttribute(er.PLAYBACK_TOKEN))return(e=this.getAttribute(er.PLAYBACK_TOKEN))!=null?e:void 0;if(this.hasAttribute(er.PLAYBACK_ID)){let[,s]=uF((r=this.playbackId)!=null?r:"");return(n=new URLSearchParams(s).get("token"))!=null?n:void 0}if(this.src)return(i=new URLSearchParams(this.src).get("token"))!=null?i:void 0}set playbackToken(e){e!==this.playbackToken&&(e?this.setAttribute(er.PLAYBACK_TOKEN,e):this.removeAttribute(er.PLAYBACK_TOKEN))}get tokens(){let e=this.getAttribute(er.PLAYBACK_TOKEN),r=this.getAttribute(er.DRM_TOKEN);return{...Pu(this,z_),...e!=null?{playback:e}:{},...r!=null?{drm:r}:{}}}set tokens(e){zh(this,z_,e??{})}get ended(){return Xie(this.nativeEl,this._hls)}get envKey(){var e;return(e=this.getAttribute(er.ENV_KEY))!=null?e:void 0}set envKey(e){e!==this.envKey&&(e?this.setAttribute(er.ENV_KEY,e):this.removeAttribute(er.ENV_KEY))}get beaconCollectionDomain(){var e;return(e=this.getAttribute(er.BEACON_COLLECTION_DOMAIN))!=null?e:void 0}set beaconCollectionDomain(e){e!==this.beaconCollectionDomain&&(e?this.setAttribute(er.BEACON_COLLECTION_DOMAIN,e):this.removeAttribute(er.BEACON_COLLECTION_DOMAIN))}get streamType(){var e;return(e=this.getAttribute(er.STREAM_TYPE))!=null?e:sO(this.nativeEl)}set streamType(e){e!==this.streamType&&(e?this.setAttribute(er.STREAM_TYPE,e):this.removeAttribute(er.STREAM_TYPE))}get targetLiveWindow(){return this.hasAttribute(er.TARGET_LIVE_WINDOW)?+this.getAttribute(er.TARGET_LIVE_WINDOW):dHe(this.nativeEl)}set targetLiveWindow(e){e!=this.targetLiveWindow&&(e==null?this.removeAttribute(er.TARGET_LIVE_WINDOW):this.setAttribute(er.TARGET_LIVE_WINDOW,`${+e}`))}get liveEdgeStart(){var e,r;if(this.hasAttribute(er.LIVE_EDGE_OFFSET)){let{liveEdgeOffset:n}=this,i=(e=this.nativeEl.seekable.end(0))!=null?e:0,s=(r=this.nativeEl.seekable.start(0))!=null?r:0;return Math.max(s,i-n)}return hHe(this.nativeEl)}get liveEdgeOffset(){if(this.hasAttribute(er.LIVE_EDGE_OFFSET))return+this.getAttribute(er.LIVE_EDGE_OFFSET)}set liveEdgeOffset(e){e!=this.liveEdgeOffset&&(e==null?this.removeAttribute(er.LIVE_EDGE_OFFSET):this.setAttribute(er.LIVE_EDGE_OFFSET,`${+e}`))}get seekable(){return gF(this.nativeEl)}async addCuePoints(e){return $ie(this.nativeEl,e)}get activeCuePoint(){return Hie(this.nativeEl)}get cuePoints(){return D9e(this.nativeEl)}async addChapters(e){return Vie(this.nativeEl,e)}get activeChapter(){return Kie(this.nativeEl)}get chapters(){return F9e(this.nativeEl)}getStartDate(){return $9e(this.nativeEl,this._hls)}get currentPdt(){return H9e(this.nativeEl,this._hls)}get preferPlayback(){let e=this.getAttribute(er.PREFER_PLAYBACK);if(e===Tm.MSE||e===Tm.NATIVE)return e}set preferPlayback(e){e!==this.preferPlayback&&(e===Tm.MSE||e===Tm.NATIVE?this.setAttribute(er.PREFER_PLAYBACK,e):this.removeAttribute(er.PREFER_PLAYBACK))}get metadata(){return{...this.getAttributeNames().filter(e=>e.startsWith("metadata-")&&![er.METADATA_URL].includes(e)).reduce((e,r)=>{let n=this.getAttribute(r);return n!=null&&(e[r.replace(/^metadata-/,"").replace(/-/g,"_")]=n),e},{}),...Pu(this,lw)}}set metadata(e){zh(this,lw,e??{}),this.mux&&this.mux.emit("hb",Pu(this,lw))}get _hlsConfig(){return Pu(this,W_)}set _hlsConfig(e){zh(this,W_,e)}get logo(){var e;return(e=this.getAttribute(er.LOGO))!=null?e:Pu(this,cw)}set logo(e){e?this.setAttribute(er.LOGO,e):this.removeAttribute(er.LOGO)}load(){zh(this,sm,mHe(this,this.nativeEl,Pu(this,sm)))}unload(){Zie(this.nativeEl,Pu(this,sm),this),zh(this,sm,void 0)}attributeChangedCallback(e,r,n){var i,s;switch(r_.observedAttributes.includes(e)&&!["src","autoplay","preload"].includes(e)&&super.attributeChangedCallback(e,r,n),e){case er.PLAYER_SOFTWARE_NAME:this.playerSoftwareName=n??void 0;break;case er.PLAYER_SOFTWARE_VERSION:this.playerSoftwareVersion=n??void 0;break;case"src":{let a=!!r,c=!!n;!a&&c?n_(this,hx,uw).call(this):a&&!c?this.unload():a&&c&&(this.unload(),n_(this,hx,uw).call(this));break}case"autoplay":if(n===r)break;(i=Pu(this,sm))==null||i.setAutoplay(this.autoplay);break;case"preload":if(n===r)break;(s=Pu(this,sm))==null||s.setPreload(n);break;case er.PLAYBACK_ID:this.src=iO(this);break;case er.DEBUG:{let a=this.debug;this.mux&&console.info("Cannot toggle debug mode of mux data after initialization. Make sure you set all metadata to override before setting the src."),this._hls&&(this._hls.config.debug=a);break}case er.METADATA_URL:n&&fetch(n).then(a=>a.json()).then(a=>this.metadata=a).catch(()=>console.error(`Unable to load or parse metadata JSON from metadata-url ${n}!`));break;case er.STREAM_TYPE:(n==null||n!==r)&&this.dispatchEvent(new CustomEvent("streamtypechange",{composed:!0,bubbles:!0}));break;case er.TARGET_LIVE_WINDOW:(n==null||n!==r)&&this.dispatchEvent(new CustomEvent("targetlivewindowchange",{composed:!0,bubbles:!0,detail:this.targetLiveWindow}));break;case er.LOGO:(n==null||n!==r)&&this.updateLogo();break;case er.DISABLE_TRACKING:{if(n==null||n!==r){let a=this.currentTime,c=this.paused;this.unload(),n_(this,hx,uw).call(this).then(()=>{this.currentTime=a,c||this.play()})}break}case er.DISABLE_COOKIES:{(n==null||n!==r)&&this.disableCookies&&document.cookie.split(";").forEach(a=>{a.trim().startsWith("muxData")&&(document.cookie=a.replace(/^ +/,"").replace(/=.*/,"=;expires="+new Date().toUTCString()+";path=/"))});break}case er.CAP_RENDITION_TO_PLAYER_SIZE:(n==null||n!==r)&&(this.capRenditionToPlayerSize=n!=null?!0:void 0)}}updateLogo(){if(!this.shadowRoot)return;let e=this.shadowRoot.querySelector('slot[name="logo"]');if(!e)return;let r=this.constructor.getLogoHTML(Pu(this,cw)||this.logo);e.innerHTML=r}connectedCallback(){var e;(e=super.connectedCallback)==null||e.call(this),this.nativeEl&&this.src&&!Pu(this,sm)&&n_(this,hx,uw).call(this)}disconnectedCallback(){this.unload()}handleEvent(e){e.target===this.nativeEl&&this.dispatchEvent(new CustomEvent(e.type,{composed:!0,detail:e.detail}))}};sm=new WeakMap,ow=new WeakMap,G_=new WeakMap,lw=new WeakMap,z_=new WeakMap,W_=new WeakMap,Y_=new WeakMap,q_=new WeakMap,X_=new WeakMap,cw=new WeakMap,Z_=new WeakMap,hx=new WeakSet,uw=async function(){Pu(this,ow)||(await zh(this,ow,Promise.resolve()),zh(this,ow,null),this.load())};const $v=new WeakMap;class xL extends Error{}class DHe extends Error{}const MHe=["application/x-mpegURL","application/vnd.apple.mpegurl","audio/mpegurl"],FHe=globalThis.WeakRef?class extends Set{add(t){super.add(new WeakRef(t))}forEach(t){super.forEach(e=>{const r=e.deref();r&&t(r)})}}:Set;function UHe(t){globalThis.chrome?.cast?.isAvailable?globalThis.cast?.framework?t():customElements.whenDefined("google-cast-button").then(t):globalThis.__onGCastApiAvailable=()=>{customElements.whenDefined("google-cast-button").then(t)}}function $He(){return globalThis.chrome}function HHe(){const t="https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1";if(globalThis.chrome?.cast||document.querySelector(`script[src="${t}"]`))return;const e=document.createElement("script");e.src=t,document.head.append(e)}function h0(){return globalThis.cast?.framework?.CastContext.getInstance()}function xF(){return h0()?.getCurrentSession()}function bF(){return xF()?.getSessionObj().media[0]}function QHe(t){return new Promise((e,r)=>{bF().editTracksInfo(t,e,r)})}function VHe(t){return new Promise((e,r)=>{bF().getStatus(t,e,r)})}function iz(t){return h0().setOptions({...lse(),...t})}function lse(){return{receiverApplicationId:"CC1AD845",autoJoinPolicy:"origin_scoped",androidReceiverCompatible:!1,language:"en-US",resumeSavedSession:!0}}function KHe(t){if(!t)return;const e=/\.([a-zA-Z0-9]+)(?:\?.*)?$/,r=t.match(e);return r?r[1]:null}function GHe(t){const e=t.split(`
`),r=[];for(let n=0;n<e.length;n++)if(e[n].trim().startsWith("#EXT-X-STREAM-INF")){const s=e[n+1]?e[n+1].trim():"";s&&!s.startsWith("#")&&r.push(s)}return r}function zHe(t){return t.split(`
`).find(n=>!n.trim().startsWith("#")&&n.trim()!=="")}async function WHe(t){try{const r=(await fetch(t,{method:"HEAD"})).headers.get("Content-Type");return MHe.some(n=>r===n)}catch(e){return console.error("Error while trying to get the Content-Type of the manifest",e),!1}}async function YHe(t){try{const e=await(await fetch(t)).text();let r=e;const n=GHe(e);if(n.length>0){const a=new URL(n[0],t).toString();r=await(await fetch(a)).text()}const i=zHe(r);return KHe(i)}catch(e){console.error("Error while trying to parse the manifest playlist",e);return}}const J_=new FHe,Pg=new WeakSet;let au;UHe(()=>{if(!globalThis.chrome?.cast?.isAvailable){console.debug("chrome.cast.isAvailable",globalThis.chrome?.cast?.isAvailable);return}au||(au=cast.framework,h0().addEventListener(au.CastContextEventType.CAST_STATE_CHANGED,t=>{J_.forEach(e=>$v.get(e).onCastStateChanged?.(t))}),h0().addEventListener(au.CastContextEventType.SESSION_STATE_CHANGED,t=>{J_.forEach(e=>$v.get(e).onSessionStateChanged?.(t))}),J_.forEach(t=>$v.get(t).init?.()))});let sz=0;class qHe extends EventTarget{#e;#n;#r;#i;#t="disconnected";#a=!1;#s=new Set;#l=new WeakMap;constructor(e){super(),this.#e=e,J_.add(this),$v.set(this,{init:()=>this.#h(),onCastStateChanged:()=>this.#u(),onSessionStateChanged:()=>this.#A(),getCastPlayer:()=>this.#o}),this.#h()}get#o(){if(Pg.has(this.#e))return this.#r}get state(){return this.#t}async watchAvailability(e){if(this.#e.disableRemotePlayback)throw new xL("disableRemotePlayback attribute is present.");return this.#l.set(e,++sz),this.#s.add(e),queueMicrotask(()=>e(this.#d())),sz}async cancelWatchAvailability(e){if(this.#e.disableRemotePlayback)throw new xL("disableRemotePlayback attribute is present.");e?this.#s.delete(e):this.#s.clear()}async prompt(){if(this.#e.disableRemotePlayback)throw new xL("disableRemotePlayback attribute is present.");if(!globalThis.chrome?.cast?.isAvailable)throw new DHe("The RemotePlayback API is disabled on this platform.");const e=Pg.has(this.#e);Pg.add(this.#e),iz(this.#e.castOptions),Object.entries(this.#i).forEach(([r,n])=>{this.#r.controller.addEventListener(r,n)});try{await h0().requestSession()}catch(r){if(e||Pg.delete(this.#e),r==="cancel")return;throw new Error(r)}$v.get(this.#e)?.loadOnPrompt?.()}#c(){Pg.has(this.#e)&&(Object.entries(this.#i).forEach(([e,r])=>{this.#r.controller.removeEventListener(e,r)}),Pg.delete(this.#e),this.#e.muted=this.#r.isMuted,this.#e.currentTime=this.#r.savedPlayerState.currentTime,this.#r.savedPlayerState.isPaused===!1&&this.#e.play())}#d(){const e=h0()?.getCastState();return e&&e!=="NO_DEVICES_AVAILABLE"}#u(){const e=h0().getCastState();if(Pg.has(this.#e)&&e==="CONNECTING"&&(this.#t="connecting",this.dispatchEvent(new Event("connecting"))),!this.#a&&e?.includes("CONNECT")){this.#a=!0;for(let r of this.#s)r(!0)}else if(this.#a&&(!e||e==="NO_DEVICES_AVAILABLE")){this.#a=!1;for(let r of this.#s)r(!1)}}async#A(){const{SESSION_RESUMED:e}=au.SessionState;if(h0().getSessionState()===e&&this.#e.castSrc===bF()?.media.contentId){Pg.add(this.#e),Object.entries(this.#i).forEach(([r,n])=>{this.#r.controller.addEventListener(r,n)});try{await VHe(new chrome.cast.media.GetStatusRequest)}catch(r){console.error(r)}this.#i[au.RemotePlayerEventType.IS_PAUSED_CHANGED](),this.#i[au.RemotePlayerEventType.PLAYER_STATE_CHANGED]()}}#h(){!au||this.#n||(this.#n=!0,iz(this.#e.castOptions),this.#e.textTracks.addEventListener("change",()=>this.#f()),this.#u(),this.#r=new au.RemotePlayer,new au.RemotePlayerController(this.#r),this.#i={[au.RemotePlayerEventType.IS_CONNECTED_CHANGED]:({value:e})=>{e===!0?(this.#t="connected",this.dispatchEvent(new Event("connect"))):(this.#c(),this.#t="disconnected",this.dispatchEvent(new Event("disconnect")))},[au.RemotePlayerEventType.DURATION_CHANGED]:()=>{this.#e.dispatchEvent(new Event("durationchange"))},[au.RemotePlayerEventType.VOLUME_LEVEL_CHANGED]:()=>{this.#e.dispatchEvent(new Event("volumechange"))},[au.RemotePlayerEventType.IS_MUTED_CHANGED]:()=>{this.#e.dispatchEvent(new Event("volumechange"))},[au.RemotePlayerEventType.CURRENT_TIME_CHANGED]:()=>{this.#o?.isMediaLoaded&&this.#e.dispatchEvent(new Event("timeupdate"))},[au.RemotePlayerEventType.VIDEO_INFO_CHANGED]:()=>{this.#e.dispatchEvent(new Event("resize"))},[au.RemotePlayerEventType.IS_PAUSED_CHANGED]:()=>{this.#e.dispatchEvent(new Event(this.paused?"pause":"play"))},[au.RemotePlayerEventType.PLAYER_STATE_CHANGED]:()=>{this.#o?.playerState!==chrome.cast.media.PlayerState.PAUSED&&this.#e.dispatchEvent(new Event({[chrome.cast.media.PlayerState.PLAYING]:"playing",[chrome.cast.media.PlayerState.BUFFERING]:"waiting",[chrome.cast.media.PlayerState.IDLE]:"emptied"}[this.#o?.playerState]))},[au.RemotePlayerEventType.IS_MEDIA_LOADED_CHANGED]:async()=>{this.#o?.isMediaLoaded&&(await Promise.resolve(),this.#m())}})}#m(){this.#f()}async#f(){if(!this.#o)return;const r=(this.#r.mediaInfo?.tracks??[]).filter(({type:f})=>f===chrome.cast.media.TrackType.TEXT),n=[...this.#e.textTracks].filter(({kind:f})=>f==="subtitles"||f==="captions"),i=r.map(({language:f,name:A,trackId:p})=>{const{mode:g}=n.find(y=>y.language===f&&y.label===A)??{};return g?{mode:g,trackId:p}:!1}).filter(Boolean),a=i.filter(({mode:f})=>f!=="showing").map(({trackId:f})=>f),c=i.find(({mode:f})=>f==="showing"),u=xF()?.getSessionObj().media[0]?.activeTrackIds??[];let o=u;if(u.length&&(o=o.filter(f=>!a.includes(f))),c?.trackId&&(o=[...o,c.trackId]),o=[...new Set(o)],!((f,A)=>f.length===A.length&&f.every(p=>A.includes(p)))(u,o))try{const f=new chrome.cast.media.EditTracksInfoRequest(o);await QHe(f)}catch(f){console.error(f)}}}const XHe=t=>class extends t{static observedAttributes=[...t.observedAttributes??[],"cast-src","cast-content-type","cast-stream-type","cast-receiver"];#e={paused:!1};#n=lse();#r;#i;get remote(){return this.#i?this.#i:$He()?(this.disableRemotePlayback||HHe(),$v.set(this,{loadOnPrompt:()=>this.#a()}),this.#i=new qHe(this)):super.remote}get#t(){return $v.get(this.remote)?.getCastPlayer?.()}attributeChangedCallback(r,n,i){if(super.attributeChangedCallback(r,n,i),r==="cast-receiver"&&i){this.#n.receiverApplicationId=i;return}if(this.#t)switch(r){case"cast-stream-type":case"cast-src":this.load();break}}async#a(){this.#e.paused=super.paused,super.pause(),this.muted=super.muted;try{await this.load()}catch(r){console.error(r)}}async load(){if(!this.#t)return super.load();const r=new chrome.cast.media.MediaInfo(this.castSrc,this.castContentType);r.customData=this.castCustomData;const n=[...this.querySelectorAll("track")].filter(({kind:c,src:u})=>u&&(c==="subtitles"||c==="captions")),i=[];let s=0;if(n.length&&(r.tracks=n.map(c=>{const u=++s;i.length===0&&c.track.mode==="showing"&&i.push(u);const o=new chrome.cast.media.Track(u,chrome.cast.media.TrackType.TEXT);return o.trackContentId=c.src,o.trackContentType="text/vtt",o.subtype=c.kind==="captions"?chrome.cast.media.TextTrackType.CAPTIONS:chrome.cast.media.TextTrackType.SUBTITLES,o.name=c.label,o.language=c.srclang,o})),this.castStreamType==="live"?r.streamType=chrome.cast.media.StreamType.LIVE:r.streamType=chrome.cast.media.StreamType.BUFFERED,r.metadata=new chrome.cast.media.GenericMediaMetadata,r.metadata.title=this.title,r.metadata.images=[{url:this.poster}],WHe(this.castSrc)){const c=await YHe(this.castSrc);c?.includes("m4s")||c?.includes("mp4")?(r.hlsSegmentFormat=chrome.cast.media.HlsSegmentFormat.FMP4,r.hlsVideoSegmentFormat=chrome.cast.media.HlsVideoSegmentFormat.FMP4):c?.includes("ts")&&(r.hlsSegmentFormat=chrome.cast.media.HlsSegmentFormat.TS,r.hlsVideoSegmentFormat=chrome.cast.media.HlsVideoSegmentFormat.TS)}const a=new chrome.cast.media.LoadRequest(r);a.currentTime=super.currentTime??0,a.autoplay=!this.#e.paused,a.activeTrackIds=i,await xF()?.loadMedia(a),this.dispatchEvent(new Event("volumechange"))}play(){if(this.#t){this.#t.isPaused&&this.#t.controller?.playOrPause();return}return super.play()}pause(){if(this.#t){this.#t.isPaused||this.#t.controller?.playOrPause();return}super.pause()}get castOptions(){return this.#n}get castReceiver(){return this.getAttribute("cast-receiver")??void 0}set castReceiver(r){this.castReceiver!=r&&this.setAttribute("cast-receiver",`${r}`)}get castSrc(){return this.getAttribute("cast-src")??this.querySelector("source")?.src??this.currentSrc}set castSrc(r){this.castSrc!=r&&this.setAttribute("cast-src",`${r}`)}get castContentType(){return this.getAttribute("cast-content-type")??void 0}set castContentType(r){this.setAttribute("cast-content-type",`${r}`)}get castStreamType(){return this.getAttribute("cast-stream-type")??this.streamType??void 0}set castStreamType(r){this.setAttribute("cast-stream-type",`${r}`)}get castCustomData(){return this.#r}set castCustomData(r){const n=typeof r;if(!["object","undefined"].includes(n)){console.error(`castCustomData must be nullish or an object but value was of type ${n}`);return}this.#r=r}get readyState(){if(this.#t)switch(this.#t.playerState){case chrome.cast.media.PlayerState.IDLE:return 0;case chrome.cast.media.PlayerState.BUFFERING:return 2;default:return 3}return super.readyState}get paused(){return this.#t?this.#t.isPaused:super.paused}get muted(){return this.#t?this.#t?.isMuted:super.muted}set muted(r){if(this.#t){(r&&!this.#t.isMuted||!r&&this.#t.isMuted)&&this.#t.controller?.muteOrUnmute();return}super.muted=r}get volume(){return this.#t?this.#t?.volumeLevel??1:super.volume}set volume(r){if(this.#t){this.#t.volumeLevel=+r,this.#t.controller?.setVolumeLevel();return}super.volume=r}get duration(){return this.#t&&this.#t?.isMediaLoaded?this.#t?.duration??NaN:super.duration}get currentTime(){return this.#t&&this.#t?.isMediaLoaded?this.#t?.currentTime??0:super.currentTime}set currentTime(r){if(this.#t){this.#t.currentTime=r,this.#t.controller?.seek();return}super.currentTime=r}};class E5 extends Event{track;constructor(e,r){super(e),this.track=r.track}}const lO=new WeakMap;function qn(t){return lO.get(t)??ZHe(t,{})}function ZHe(t,e){let r=lO.get(t);return r||lO.set(t,r={}),Object.assign(r,e)}function cO(t,e){const r=t.videoTracks;qn(e).media=t,qn(e).renditionSet||(qn(e).renditionSet=new Set);const n=qn(r).trackSet;n.add(e);const i=n.size-1;i in dO.prototype||Object.defineProperty(dO.prototype,i,{get(){return[...qn(this).trackSet][i]}}),queueMicrotask(()=>{r.dispatchEvent(new E5("addtrack",{track:e}))})}function uO(t){const e=qn(t).media?.videoTracks;if(!e)return;qn(e).trackSet.delete(t),queueMicrotask(()=>{e.dispatchEvent(new E5("removetrack",{track:t}))})}function JHe(t){const e=qn(t).media.videoTracks??[];let r=!1;for(const n of e)n!==t&&(n.selected=!1,r=!0);if(r){if(qn(e).changeRequested)return;qn(e).changeRequested=!0,queueMicrotask(()=>{delete qn(e).changeRequested,e.dispatchEvent(new Event("change"))})}}class dO extends EventTarget{#e;#n;#r;constructor(){super(),qn(this).trackSet=new Set}get#i(){return qn(this).trackSet}[Symbol.iterator](){return this.#i.values()}get length(){return this.#i.size}getTrackById(e){return[...this.#i].find(r=>r.id===e)??null}get selectedIndex(){return[...this.#i].findIndex(e=>e.selected)}get onaddtrack(){return this.#e}set onaddtrack(e){this.#e&&(this.removeEventListener("addtrack",this.#e),this.#e=void 0),typeof e=="function"&&(this.#e=e,this.addEventListener("addtrack",e))}get onremovetrack(){return this.#n}set onremovetrack(e){this.#n&&(this.removeEventListener("removetrack",this.#n),this.#n=void 0),typeof e=="function"&&(this.#n=e,this.addEventListener("removetrack",e))}get onchange(){return this.#r}set onchange(e){this.#r&&(this.removeEventListener("change",this.#r),this.#r=void 0),typeof e=="function"&&(this.#r=e,this.addEventListener("change",e))}}class S5 extends Event{rendition;constructor(e,r){super(e),this.rendition=r.rendition}}function eQe(t,e){const r=qn(t).media.videoRenditions;qn(e).media=qn(t).media,qn(e).track=t;const n=qn(t).renditionSet;n.add(e);const i=n.size-1;i in hO.prototype||Object.defineProperty(hO.prototype,i,{get(){return fx(this)[i]}}),queueMicrotask(()=>{t.selected&&r.dispatchEvent(new S5("addrendition",{rendition:e}))})}function tQe(t){const e=qn(t).media.videoRenditions,r=qn(t).track;qn(r).renditionSet.delete(t),queueMicrotask(()=>{qn(t).track.selected&&e.dispatchEvent(new S5("removerendition",{rendition:t}))})}function rQe(t){const e=qn(t).media.videoRenditions;!e||qn(e).changeRequested||(qn(e).changeRequested=!0,queueMicrotask(()=>{delete qn(e).changeRequested,qn(t).track.selected&&e.dispatchEvent(new Event("change"))}))}function fx(t){return[...qn(t).media.videoTracks].filter(r=>r.selected).flatMap(r=>[...qn(r).renditionSet])}class hO extends EventTarget{#e;#n;#r;[Symbol.iterator](){return fx(this).values()}get length(){return fx(this).length}getRenditionById(e){return fx(this).find(r=>`${r.id}`==`${e}`)??null}get selectedIndex(){return fx(this).findIndex(e=>e.selected)}set selectedIndex(e){for(const[r,n]of fx(this).entries())n.selected=r===e}get onaddrendition(){return this.#e}set onaddrendition(e){this.#e&&(this.removeEventListener("addrendition",this.#e),this.#e=void 0),typeof e=="function"&&(this.#e=e,this.addEventListener("addrendition",e))}get onremoverendition(){return this.#n}set onremoverendition(e){this.#n&&(this.removeEventListener("removerendition",this.#n),this.#n=void 0),typeof e=="function"&&(this.#n=e,this.addEventListener("removerendition",e))}get onchange(){return this.#r}set onchange(e){this.#r&&(this.removeEventListener("change",this.#r),this.#r=void 0),typeof e=="function"&&(this.#r=e,this.addEventListener("change",e))}}class nQe{src;id;width;height;bitrate;frameRate;codec;#e=!1;get selected(){return this.#e}set selected(e){this.#e!==e&&(this.#e=e,rQe(this))}}class cse{id;kind;label="";language="";sourceBuffer;#e=!1;addRendition(e,r,n,i,s,a){const c=new nQe;return c.src=e,c.width=r,c.height=n,c.frameRate=a,c.bitrate=s,c.codec=i,eQe(this,c),c}removeRendition(e){tQe(e)}get selected(){return this.#e}set selected(e){this.#e!==e&&(this.#e=e,e===!0&&JHe(this))}}function iQe(t,e){const r=qn(t).media.audioRenditions;qn(e).media=qn(t).media,qn(e).track=t;const n=qn(t).renditionSet;n.add(e);const i=n.size-1;i in fO.prototype||Object.defineProperty(fO.prototype,i,{get(){return Ax(this)[i]}}),queueMicrotask(()=>{t.enabled&&r.dispatchEvent(new S5("addrendition",{rendition:e}))})}function sQe(t){const e=qn(t).media.audioRenditions,r=qn(t).track;qn(r).renditionSet.delete(t),queueMicrotask(()=>{qn(t).track.enabled&&e.dispatchEvent(new S5("removerendition",{rendition:t}))})}function aQe(t){const e=qn(t).media.audioRenditions;!e||qn(e).changeRequested||(qn(e).changeRequested=!0,queueMicrotask(()=>{delete qn(e).changeRequested,qn(t).track.enabled&&e.dispatchEvent(new Event("change"))}))}function Ax(t){return[...qn(t).media.audioTracks].filter(r=>r.enabled).flatMap(r=>[...qn(r).renditionSet])}class fO extends EventTarget{#e;#n;#r;[Symbol.iterator](){return Ax(this).values()}get length(){return Ax(this).length}getRenditionById(e){return Ax(this).find(r=>`${r.id}`==`${e}`)??null}get selectedIndex(){return Ax(this).findIndex(e=>e.selected)}set selectedIndex(e){for(const[r,n]of Ax(this).entries())n.selected=r===e}get onaddrendition(){return this.#e}set onaddrendition(e){this.#e&&(this.removeEventListener("addrendition",this.#e),this.#e=void 0),typeof e=="function"&&(this.#e=e,this.addEventListener("addrendition",e))}get onremoverendition(){return this.#n}set onremoverendition(e){this.#n&&(this.removeEventListener("removerendition",this.#n),this.#n=void 0),typeof e=="function"&&(this.#n=e,this.addEventListener("removerendition",e))}get onchange(){return this.#r}set onchange(e){this.#r&&(this.removeEventListener("change",this.#r),this.#r=void 0),typeof e=="function"&&(this.#r=e,this.addEventListener("change",e))}}class oQe{src;id;bitrate;codec;#e=!1;get selected(){return this.#e}set selected(e){this.#e!==e&&(this.#e=e,aQe(this))}}function AO(t,e){const r=t.audioTracks;qn(e).media=t,qn(e).renditionSet||(qn(e).renditionSet=new Set);const n=qn(r).trackSet;n.add(e);const i=n.size-1;i in pO.prototype||Object.defineProperty(pO.prototype,i,{get(){return[...qn(this).trackSet][i]}}),queueMicrotask(()=>{r.dispatchEvent(new E5("addtrack",{track:e}))})}function mO(t){const e=qn(t).media?.audioTracks;if(!e)return;qn(e).trackSet.delete(t),queueMicrotask(()=>{e.dispatchEvent(new E5("removetrack",{track:t}))})}function lQe(t){const e=qn(t).media.audioTracks;!e||qn(e).changeRequested||(qn(e).changeRequested=!0,queueMicrotask(()=>{delete qn(e).changeRequested,e.dispatchEvent(new Event("change"))}))}class pO extends EventTarget{#e;#n;#r;constructor(){super(),qn(this).trackSet=new Set}get#i(){return qn(this).trackSet}[Symbol.iterator](){return this.#i.values()}get length(){return this.#i.size}getTrackById(e){return[...this.#i].find(r=>r.id===e)??null}get onaddtrack(){return this.#e}set onaddtrack(e){this.#e&&(this.removeEventListener("addtrack",this.#e),this.#e=void 0),typeof e=="function"&&(this.#e=e,this.addEventListener("addtrack",e))}get onremovetrack(){return this.#n}set onremovetrack(e){this.#n&&(this.removeEventListener("removetrack",this.#n),this.#n=void 0),typeof e=="function"&&(this.#n=e,this.addEventListener("removetrack",e))}get onchange(){return this.#r}set onchange(e){this.#r&&(this.removeEventListener("change",this.#r),this.#r=void 0),typeof e=="function"&&(this.#r=e,this.addEventListener("change",e))}}class use{id;kind;label="";language="";sourceBuffer;#e=!1;addRendition(e,r,n){const i=new oQe;return i.src=e,i.codec=r,i.bitrate=n,iQe(this,i),i}removeRendition(e){sQe(e)}get enabled(){return this.#e}set enabled(e){this.#e!==e&&(this.#e=e,lQe(this))}}const az=Oj(globalThis.HTMLMediaElement,"video"),oz=Oj(globalThis.HTMLMediaElement,"audio");function cQe(t){if(!t?.prototype)return t;const e=Oj(t,"video");(!e||`${e}`.includes("[native code]"))&&Object.defineProperty(t.prototype,"videoTracks",{get(){return uQe(this)}});const r=Oj(t,"audio");(!r||`${r}`.includes("[native code]"))&&Object.defineProperty(t.prototype,"audioTracks",{get(){return dQe(this)}}),"addVideoTrack"in t.prototype||(t.prototype.addVideoTrack=function(s,a="",c=""){const u=new cse;return u.kind=s,u.label=a,u.language=c,cO(this,u),u}),"removeVideoTrack"in t.prototype||(t.prototype.removeVideoTrack=uO),"addAudioTrack"in t.prototype||(t.prototype.addAudioTrack=function(s,a="",c=""){const u=new use;return u.kind=s,u.label=a,u.language=c,AO(this,u),u}),"removeAudioTrack"in t.prototype||(t.prototype.removeAudioTrack=mO),"videoRenditions"in t.prototype||Object.defineProperty(t.prototype,"videoRenditions",{get(){return n(this)}});const n=s=>{let a=qn(s).videoRenditions;return a||(a=new hO,qn(a).media=s,qn(s).videoRenditions=a),a};"audioRenditions"in t.prototype||Object.defineProperty(t.prototype,"audioRenditions",{get(){return i(this)}});const i=s=>{let a=qn(s).audioRenditions;return a||(a=new fO,qn(a).media=s,qn(s).audioRenditions=a),a};return t}function Oj(t,e){if(t?.prototype)return Object.getOwnPropertyDescriptor(t.prototype,`${e}Tracks`)?.get}function uQe(t){let e=qn(t).videoTracks;if(!e&&(e=new dO,qn(t).videoTracks=e,az)){const r=az.call(t.nativeEl??t);for(const n of r)cO(t,n);r.addEventListener("change",()=>{e.dispatchEvent(new Event("change"))}),r.addEventListener("addtrack",n=>{if([...e].some(i=>i instanceof cse)){for(const i of r)uO(i);return}cO(t,n.track)}),r.addEventListener("removetrack",n=>{uO(n.track)})}return e}function dQe(t){let e=qn(t).audioTracks;if(!e&&(e=new pO,qn(t).audioTracks=e,oz)){const r=oz.call(t.nativeEl??t);for(const n of r)AO(t,n);r.addEventListener("change",()=>{e.dispatchEvent(new Event("change"))}),r.addEventListener("addtrack",n=>{if([...e].some(i=>i instanceof use)){for(const i of r)mO(i);return}AO(t,n.track)}),r.addEventListener("removetrack",n=>{mO(n.track)})}return e}var dse=t=>{throw TypeError(t)},hse=(t,e,r)=>e.has(t)||dse("Cannot "+r),hQe=(t,e,r)=>(hse(t,e,"read from private field"),r?r.call(t):e.get(t)),fQe=(t,e,r)=>e.has(t)?dse("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),AQe=(t,e,r,n)=>(hse(t,e,"write to private field"),e.set(t,r),r),fse=class{addEventListener(){}removeEventListener(){}dispatchEvent(e){return!0}};if(typeof DocumentFragment>"u"){class t extends fse{}globalThis.DocumentFragment=t}var mQe=class extends fse{},pQe={get(t){},define(t,e,r){},getName(t){return null},upgrade(t){},whenDefined(t){return Promise.resolve(mQe)}},gQe={customElements:pQe},vQe=typeof window>"u"||typeof globalThis.customElements>"u",bL=vQe?gQe:globalThis,eT,lz=class extends XHe(cQe(PHe)){constructor(){super(...arguments),fQe(this,eT)}get autoplay(){let t=this.getAttribute("autoplay");return t===null?!1:t===""?!0:t}set autoplay(t){let e=this.autoplay;t!==e&&(t?this.setAttribute("autoplay",typeof t=="string"?t:""):this.removeAttribute("autoplay"))}get muxCastCustomData(){return{mux:{playbackId:this.playbackId,minResolution:this.minResolution,maxResolution:this.maxResolution,renditionOrder:this.renditionOrder,customDomain:this.customDomain,tokens:{drm:this.drmToken},envKey:this.envKey,metadata:this.metadata,disableCookies:this.disableCookies,disableTracking:this.disableTracking,beaconCollectionDomain:this.beaconCollectionDomain,startTime:this.startTime,preferCmcd:this.preferCmcd}}}get castCustomData(){var t;return(t=hQe(this,eT))!=null?t:this.muxCastCustomData}set castCustomData(t){AQe(this,eT,t)}};eT=new WeakMap;bL.customElements.get("mux-video")||(bL.customElements.define("mux-video",lz),bL.MuxVideoElement=lz);const Nn={MEDIA_PLAY_REQUEST:"mediaplayrequest",MEDIA_PAUSE_REQUEST:"mediapauserequest",MEDIA_MUTE_REQUEST:"mediamuterequest",MEDIA_UNMUTE_REQUEST:"mediaunmuterequest",MEDIA_LOOP_REQUEST:"medialooprequest",MEDIA_VOLUME_REQUEST:"mediavolumerequest",MEDIA_SEEK_REQUEST:"mediaseekrequest",MEDIA_AIRPLAY_REQUEST:"mediaairplayrequest",MEDIA_ENTER_FULLSCREEN_REQUEST:"mediaenterfullscreenrequest",MEDIA_EXIT_FULLSCREEN_REQUEST:"mediaexitfullscreenrequest",MEDIA_PREVIEW_REQUEST:"mediapreviewrequest",MEDIA_ENTER_PIP_REQUEST:"mediaenterpiprequest",MEDIA_EXIT_PIP_REQUEST:"mediaexitpiprequest",MEDIA_ENTER_CAST_REQUEST:"mediaentercastrequest",MEDIA_EXIT_CAST_REQUEST:"mediaexitcastrequest",MEDIA_SHOW_TEXT_TRACKS_REQUEST:"mediashowtexttracksrequest",MEDIA_HIDE_TEXT_TRACKS_REQUEST:"mediahidetexttracksrequest",MEDIA_SHOW_SUBTITLES_REQUEST:"mediashowsubtitlesrequest",MEDIA_DISABLE_SUBTITLES_REQUEST:"mediadisablesubtitlesrequest",MEDIA_TOGGLE_SUBTITLES_REQUEST:"mediatogglesubtitlesrequest",MEDIA_PLAYBACK_RATE_REQUEST:"mediaplaybackraterequest",MEDIA_RENDITION_REQUEST:"mediarenditionrequest",MEDIA_AUDIO_TRACK_REQUEST:"mediaaudiotrackrequest",MEDIA_SEEK_TO_LIVE_REQUEST:"mediaseektoliverequest",REGISTER_MEDIA_STATE_RECEIVER:"registermediastatereceiver",UNREGISTER_MEDIA_STATE_RECEIVER:"unregistermediastatereceiver"},ka={MEDIA_CHROME_ATTRIBUTES:"mediachromeattributes",MEDIA_CONTROLLER:"mediacontroller"},Ase={MEDIA_AIRPLAY_UNAVAILABLE:"mediaAirplayUnavailable",MEDIA_AUDIO_TRACK_ENABLED:"mediaAudioTrackEnabled",MEDIA_AUDIO_TRACK_LIST:"mediaAudioTrackList",MEDIA_AUDIO_TRACK_UNAVAILABLE:"mediaAudioTrackUnavailable",MEDIA_BUFFERED:"mediaBuffered",MEDIA_CAST_UNAVAILABLE:"mediaCastUnavailable",MEDIA_CHAPTERS_CUES:"mediaChaptersCues",MEDIA_CURRENT_TIME:"mediaCurrentTime",MEDIA_DURATION:"mediaDuration",MEDIA_ENDED:"mediaEnded",MEDIA_ERROR:"mediaError",MEDIA_ERROR_CODE:"mediaErrorCode",MEDIA_ERROR_MESSAGE:"mediaErrorMessage",MEDIA_FULLSCREEN_UNAVAILABLE:"mediaFullscreenUnavailable",MEDIA_HAS_PLAYED:"mediaHasPlayed",MEDIA_HEIGHT:"mediaHeight",MEDIA_IS_AIRPLAYING:"mediaIsAirplaying",MEDIA_IS_CASTING:"mediaIsCasting",MEDIA_IS_FULLSCREEN:"mediaIsFullscreen",MEDIA_IS_PIP:"mediaIsPip",MEDIA_LOADING:"mediaLoading",MEDIA_MUTED:"mediaMuted",MEDIA_LOOP:"mediaLoop",MEDIA_PAUSED:"mediaPaused",MEDIA_PIP_UNAVAILABLE:"mediaPipUnavailable",MEDIA_PLAYBACK_RATE:"mediaPlaybackRate",MEDIA_PREVIEW_CHAPTER:"mediaPreviewChapter",MEDIA_PREVIEW_COORDS:"mediaPreviewCoords",MEDIA_PREVIEW_IMAGE:"mediaPreviewImage",MEDIA_PREVIEW_TIME:"mediaPreviewTime",MEDIA_RENDITION_LIST:"mediaRenditionList",MEDIA_RENDITION_SELECTED:"mediaRenditionSelected",MEDIA_RENDITION_UNAVAILABLE:"mediaRenditionUnavailable",MEDIA_SEEKABLE:"mediaSeekable",MEDIA_STREAM_TYPE:"mediaStreamType",MEDIA_SUBTITLES_LIST:"mediaSubtitlesList",MEDIA_SUBTITLES_SHOWING:"mediaSubtitlesShowing",MEDIA_TARGET_LIVE_WINDOW:"mediaTargetLiveWindow",MEDIA_TIME_IS_LIVE:"mediaTimeIsLive",MEDIA_VOLUME:"mediaVolume",MEDIA_VOLUME_LEVEL:"mediaVolumeLevel",MEDIA_VOLUME_UNAVAILABLE:"mediaVolumeUnavailable",MEDIA_LANG:"mediaLang",MEDIA_WIDTH:"mediaWidth"},mse=Object.entries(Ase),it=mse.reduce((t,[e,r])=>(t[e]=r.toLowerCase(),t),{}),yQe={USER_INACTIVE_CHANGE:"userinactivechange",BREAKPOINTS_CHANGE:"breakpointchange",BREAKPOINTS_COMPUTED:"breakpointscomputed"},zp=mse.reduce((t,[e,r])=>(t[e]=r.toLowerCase(),t),{...yQe});Object.entries(zp).reduce((t,[e,r])=>{const n=it[e];return n&&(t[r]=n),t},{userinactivechange:"userinactive"});const xQe=Object.entries(it).reduce((t,[e,r])=>{const n=zp[e];return n&&(t[r]=n),t},{userinactive:"userinactivechange"}),Bm={SUBTITLES:"subtitles",CAPTIONS:"captions",CHAPTERS:"chapters",METADATA:"metadata"},ob={DISABLED:"disabled",SHOWING:"showing"},wL={MOUSE:"mouse",PEN:"pen",TOUCH:"touch"},Hh={UNAVAILABLE:"unavailable",UNSUPPORTED:"unsupported"},wp={LIVE:"live",ON_DEMAND:"on-demand",UNKNOWN:"unknown"},bQe={FULLSCREEN:"fullscreen"};function wQe(t){return t?.map(SQe).join(" ")}function EQe(t){return t?.split(/\s+/).map(_Qe)}function SQe(t){if(t){const{id:e,width:r,height:n}=t;return[e,r,n].filter(i=>i!=null).join(":")}}function _Qe(t){if(t){const[e,r,n]=t.split(":");return{id:e,width:+r,height:+n}}}function TQe(t){return t?.map(jQe).join(" ")}function CQe(t){return t?.split(/\s+/).map(NQe)}function jQe(t){if(t){const{id:e,kind:r,language:n,label:i}=t;return[e,r,n,i].filter(s=>s!=null).join(":")}}function NQe(t){if(t){const[e,r,n,i]=t.split(":");return{id:e,kind:r,language:n,label:i}}}function IQe(t){return t.replace(/[-_]([a-z])/g,(e,r)=>r.toUpperCase())}function wF(t){return typeof t=="number"&&!Number.isNaN(t)&&Number.isFinite(t)}function pse(t){return typeof t!="string"?!1:!isNaN(t)&&!isNaN(parseFloat(t))}const gse=t=>new Promise(e=>setTimeout(e,t)),cz=[{singular:"hour",plural:"hours"},{singular:"minute",plural:"minutes"},{singular:"second",plural:"seconds"}],kQe=(t,e)=>{const r=t===1?cz[e].singular:cz[e].plural;return`${t} ${r}`},Gw=t=>{if(!wF(t))return"";const e=Math.abs(t),r=e!==t,n=new Date(0,0,0,0,0,e,0);return`${[n.getHours(),n.getMinutes(),n.getSeconds()].map((c,u)=>c&&kQe(c,u)).filter(c=>c).join(", ")}${r?" remaining":""}`};function v0(t,e){let r=!1;t<0&&(r=!0,t=0-t),t=t<0?0:t;let n=Math.floor(t%60),i=Math.floor(t/60%60),s=Math.floor(t/3600);const a=Math.floor(e/60%60),c=Math.floor(e/3600);return(isNaN(t)||t===1/0)&&(s=i=n="0"),s=s>0||c>0?s+":":"",i=((s||a>=10)&&i<10?"0"+i:i)+":",n=n<10?"0"+n:n,(r?"-":"")+s+i+n}const BQe={"Start airplay":"Start airplay","Stop airplay":"Stop airplay",Audio:"Audio",Captions:"Captions","Enable captions":"Enable captions","Disable captions":"Disable captions","Start casting":"Start casting","Stop casting":"Stop casting","Enter fullscreen mode":"Enter fullscreen mode","Exit fullscreen mode":"Exit fullscreen mode",Mute:"Mute",Unmute:"Unmute",Loop:"Loop","Enter picture in picture mode":"Enter picture in picture mode","Exit picture in picture mode":"Exit picture in picture mode",Play:"Play",Pause:"Pause","Playback rate":"Playback rate","Playback rate {playbackRate}":"Playback rate {playbackRate}",Quality:"Quality","Seek backward":"Seek backward","Seek forward":"Seek forward",Settings:"Settings",Auto:"Auto","audio player":"audio player","video player":"video player",volume:"volume",seek:"seek","closed captions":"closed captions","current playback rate":"current playback rate","playback time":"playback time","media loading":"media loading",settings:"settings","audio tracks":"audio tracks",quality:"quality",play:"play",pause:"pause",mute:"mute",unmute:"unmute","chapter: {chapterName}":"chapter: {chapterName}",live:"live",Off:"Off","start airplay":"start airplay","stop airplay":"stop airplay","start casting":"start casting","stop casting":"stop casting","enter fullscreen mode":"enter fullscreen mode","exit fullscreen mode":"exit fullscreen mode","enter picture in picture mode":"enter picture in picture mode","exit picture in picture mode":"exit picture in picture mode","seek to live":"seek to live","playing live":"playing live","seek back {seekOffset} seconds":"seek back {seekOffset} seconds","seek forward {seekOffset} seconds":"seek forward {seekOffset} seconds","Network Error":"Network Error","Decode Error":"Decode Error","Source Not Supported":"Source Not Supported","Encryption Error":"Encryption Error","A network error caused the media download to fail.":"A network error caused the media download to fail.","A media error caused playback to be aborted. The media could be corrupt or your browser does not support this format.":"A media error caused playback to be aborted. The media could be corrupt or your browser does not support this format.","An unsupported error occurred. The server or network failed, or your browser does not support this format.":"An unsupported error occurred. The server or network failed, or your browser does not support this format.","The media is encrypted and there are no keys to decrypt it.":"The media is encrypted and there are no keys to decrypt it."};var uz;const EL={en:BQe};let gO=((uz=globalThis.navigator)==null?void 0:uz.language)||"en";const LQe=t=>{gO=t},RQe=t=>{var e,r,n;const[i]=gO.split("-");return((e=EL[gO])==null?void 0:e[t])||((r=EL[i])==null?void 0:r[t])||((n=EL.en)==null?void 0:n[t])||t},Xn=(t,e={})=>RQe(t).replace(/\{(\w+)\}/g,(r,n)=>n in e?String(e[n]):`{${n}}`);let vse=class{addEventListener(){}removeEventListener(){}dispatchEvent(){return!0}},yse=class extends vse{},dz=class extends yse{constructor(){super(...arguments),this.role=null}},OQe=class{observe(){}unobserve(){}disconnect(){}};const xse={createElement:function(){return new UE.HTMLElement},createElementNS:function(){return new UE.HTMLElement},addEventListener(){},removeEventListener(){},dispatchEvent(t){return!1}},UE={ResizeObserver:OQe,document:xse,Node:yse,Element:dz,HTMLElement:class extends dz{constructor(){super(...arguments),this.innerHTML=""}get content(){return new UE.DocumentFragment}},DocumentFragment:class extends vse{},customElements:{get:function(){},define:function(){},whenDefined:function(){}},localStorage:{getItem(t){return null},setItem(t,e){},removeItem(t){}},CustomEvent:function(){},getComputedStyle:function(){},navigator:{languages:[],get userAgent(){return""}},matchMedia(t){return{matches:!1,media:t}},DOMParser:class{parseFromString(e,r){return{body:{textContent:e}}}}},bse="global"in globalThis&&globalThis?.global===globalThis||typeof window>"u"||typeof window.customElements>"u",wse=Object.keys(UE).every(t=>t in globalThis),Gt=bse&&!wse?UE:globalThis,Qc=bse&&!wse?xse:globalThis.document,hz=new WeakMap,EF=t=>{let e=hz.get(t);return e||hz.set(t,e=new Set),e},Ese=new Gt.ResizeObserver(t=>{for(const e of t)for(const r of EF(e.target))r(e)});function kb(t,e){EF(t).add(e),Ese.observe(t)}function Bb(t,e){const r=EF(t);r.delete(e),r.size||Ese.unobserve(t)}function ff(t){const e={};for(const r of t)e[r.name]=r.value;return e}function Nh(t){var e;return(e=vO(t))!=null?e:s1(t,"media-controller")}function vO(t){var e;const{MEDIA_CONTROLLER:r}=ka,n=t.getAttribute(r);if(n)return(e=_5(t))==null?void 0:e.getElementById(n)}const Sse=(t,e,r=".value")=>{const n=t.querySelector(r);n&&(n.textContent=e)},PQe=(t,e)=>{const r=`slot[name="${e}"]`,n=t.shadowRoot.querySelector(r);return n?n.children:[]},_se=(t,e)=>PQe(t,e)[0],ig=(t,e)=>!t||!e?!1:t?.contains(e)?!0:ig(t,e.getRootNode().host),s1=(t,e)=>{if(!t)return null;const r=t.closest(e);return r||s1(t.getRootNode().host,e)};function SF(t=document){var e;const r=t?.activeElement;return r?(e=SF(r.shadowRoot))!=null?e:r:null}function _5(t){var e;const r=(e=t?.getRootNode)==null?void 0:e.call(t);return r instanceof ShadowRoot||r instanceof Document?r:null}function Tse(t,{depth:e=3,checkOpacity:r=!0,checkVisibilityCSS:n=!0}={}){if(t.checkVisibility)return t.checkVisibility({checkOpacity:r,checkVisibilityCSS:n});let i=t;for(;i&&e>0;){const s=getComputedStyle(i);if(r&&s.opacity==="0"||n&&s.visibility==="hidden"||s.display==="none")return!1;i=i.parentElement,e--}return!0}function DQe(t,e,r,n){const i=n.x-r.x,s=n.y-r.y,a=i*i+s*s;if(a===0)return 0;const c=((t-r.x)*i+(e-r.y)*s)/a;return Math.max(0,Math.min(1,c))}function hu(t,e){const r=MQe(t,n=>n===e);return r||_F(t,e)}function MQe(t,e){var r,n;let i;for(i of(r=t.querySelectorAll("style:not([media])"))!=null?r:[]){let s;try{s=(n=i.sheet)==null?void 0:n.cssRules}catch{continue}for(const a of s??[])if(e(a.selectorText))return a}}function _F(t,e){var r,n;const i=(r=t.querySelectorAll("style:not([media])"))!=null?r:[],s=i?.[i.length-1];return s?.sheet?(s?.sheet.insertRule(`${e}{}`,s.sheet.cssRules.length),(n=s.sheet.cssRules)==null?void 0:n[s.sheet.cssRules.length-1]):(console.warn("Media Chrome: No style sheet found on style tag of",t),{style:{setProperty:()=>{},removeProperty:()=>"",getPropertyValue:()=>""}})}function Xo(t,e,r=Number.NaN){const n=t.getAttribute(e);return n!=null?+n:r}function rc(t,e,r){const n=+r;if(r==null||Number.isNaN(n)){t.hasAttribute(e)&&t.removeAttribute(e);return}Xo(t,e,void 0)!==n&&t.setAttribute(e,`${n}`)}function ia(t,e){return t.hasAttribute(e)}function sa(t,e,r){if(r==null){t.hasAttribute(e)&&t.removeAttribute(e);return}ia(t,e)!=r&&t.toggleAttribute(e,r)}function Zo(t,e,r=null){var n;return(n=t.getAttribute(e))!=null?n:r}function Jo(t,e,r){if(r==null){t.hasAttribute(e)&&t.removeAttribute(e);return}const n=`${r}`;Zo(t,e,void 0)!==n&&t.setAttribute(e,n)}var Cse=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},Dg=(t,e,r)=>(Cse(t,e,"read from private field"),r?r.call(t):e.get(t)),FQe=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},i_=(t,e,r,n)=>(Cse(t,e,"write to private field"),e.set(t,r),r),Eh;function UQe(t){return`
    <style>
      :host {
        display: var(--media-control-display, var(--media-gesture-receiver-display, inline-block));
        box-sizing: border-box;
      }
    </style>
  `}class T5 extends Gt.HTMLElement{constructor(){if(super(),FQe(this,Eh,void 0),!this.shadowRoot){this.attachShadow(this.constructor.shadowRootOptions);const e=ff(this.attributes);this.shadowRoot.innerHTML=this.constructor.getTemplateHTML(e)}}static get observedAttributes(){return[ka.MEDIA_CONTROLLER,it.MEDIA_PAUSED]}attributeChangedCallback(e,r,n){var i,s,a,c,u;e===ka.MEDIA_CONTROLLER&&(r&&((s=(i=Dg(this,Eh))==null?void 0:i.unassociateElement)==null||s.call(i,this),i_(this,Eh,null)),n&&this.isConnected&&(i_(this,Eh,(a=this.getRootNode())==null?void 0:a.getElementById(n)),(u=(c=Dg(this,Eh))==null?void 0:c.associateElement)==null||u.call(c,this)))}connectedCallback(){var e,r,n,i;this.tabIndex=-1,this.setAttribute("aria-hidden","true"),i_(this,Eh,$Qe(this)),this.getAttribute(ka.MEDIA_CONTROLLER)&&((r=(e=Dg(this,Eh))==null?void 0:e.associateElement)==null||r.call(e,this)),(n=Dg(this,Eh))==null||n.addEventListener("pointerdown",this),(i=Dg(this,Eh))==null||i.addEventListener("click",this)}disconnectedCallback(){var e,r,n,i;this.getAttribute(ka.MEDIA_CONTROLLER)&&((r=(e=Dg(this,Eh))==null?void 0:e.unassociateElement)==null||r.call(e,this)),(n=Dg(this,Eh))==null||n.removeEventListener("pointerdown",this),(i=Dg(this,Eh))==null||i.removeEventListener("click",this),i_(this,Eh,null)}handleEvent(e){var r;const n=(r=e.composedPath())==null?void 0:r[0];if(["video","media-controller"].includes(n?.localName)){if(e.type==="pointerdown")this._pointerType=e.pointerType;else if(e.type==="click"){const{clientX:s,clientY:a}=e,{left:c,top:u,width:o,height:d}=this.getBoundingClientRect(),f=s-c,A=a-u;if(f<0||A<0||f>o||A>d||o===0&&d===0)return;const p=this._pointerType||"mouse";if(this._pointerType=void 0,p===wL.TOUCH){this.handleTap(e);return}else if(p===wL.MOUSE||p===wL.PEN){this.handleMouseClick(e);return}}}}get mediaPaused(){return ia(this,it.MEDIA_PAUSED)}set mediaPaused(e){sa(this,it.MEDIA_PAUSED,e)}handleTap(e){}handleMouseClick(e){const r=this.mediaPaused?Nn.MEDIA_PLAY_REQUEST:Nn.MEDIA_PAUSE_REQUEST;this.dispatchEvent(new Gt.CustomEvent(r,{composed:!0,bubbles:!0}))}}Eh=new WeakMap;T5.shadowRootOptions={mode:"open"};T5.getTemplateHTML=UQe;function $Qe(t){var e;const r=t.getAttribute(ka.MEDIA_CONTROLLER);return r?(e=t.getRootNode())==null?void 0:e.getElementById(r):s1(t,"media-controller")}Gt.customElements.get("media-gesture-receiver")||Gt.customElements.define("media-gesture-receiver",T5);var fz=T5,TF=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},Xh=(t,e,r)=>(TF(t,e,"read from private field"),r?r.call(t):e.get(t)),Qh=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},lv=(t,e,r,n)=>(TF(t,e,"write to private field"),e.set(t,r),r),Df=(t,e,r)=>(TF(t,e,"access private method"),r),Pj,mx,$E,Gx,tT,yO,jse,dw,rT,xO,Nse,bO,Ise,HE,C5,j5,CF,Lb,QE;const Ri={AUDIO:"audio",AUTOHIDE:"autohide",BREAKPOINTS:"breakpoints",GESTURES_DISABLED:"gesturesdisabled",KEYBOARD_CONTROL:"keyboardcontrol",NO_AUTOHIDE:"noautohide",USER_INACTIVE:"userinactive",AUTOHIDE_OVER_CONTROLS:"autohideovercontrols"};function HQe(t){return`
    <style>
      
      :host([${it.MEDIA_IS_FULLSCREEN}]) ::slotted([slot=media]) {
        outline: none;
      }

      :host {
        box-sizing: border-box;
        position: relative;
        display: inline-block;
        line-height: 0;
        background-color: var(--media-background-color, #000);
        overflow: hidden;
      }

      :host(:not([${Ri.AUDIO}])) [part~=layer]:not([part~=media-layer]) {
        position: absolute;
        top: 0;
        left: 0;
        bottom: 0;
        right: 0;
        display: flex;
        flex-flow: column nowrap;
        align-items: start;
        pointer-events: none;
        background: none;
      }

      slot[name=media] {
        display: var(--media-slot-display, contents);
      }

      
      :host([${Ri.AUDIO}]) slot[name=media] {
        display: var(--media-slot-display, none);
      }

      
      :host([${Ri.AUDIO}]) [part~=layer][part~=gesture-layer] {
        height: 0;
        display: block;
      }

      
      :host(:not([${Ri.AUDIO}])[${Ri.GESTURES_DISABLED}]) ::slotted([slot=gestures-chrome]),
          :host(:not([${Ri.AUDIO}])[${Ri.GESTURES_DISABLED}]) media-gesture-receiver[slot=gestures-chrome] {
        display: none;
      }

      
      ::slotted(:not([slot=media]):not([slot=poster]):not(media-loading-indicator):not([role=dialog]):not([hidden])) {
        pointer-events: auto;
      }

      :host(:not([${Ri.AUDIO}])) *[part~=layer][part~=centered-layer] {
        align-items: center;
        justify-content: center;
      }

      :host(:not([${Ri.AUDIO}])) ::slotted(media-gesture-receiver[slot=gestures-chrome]),
      :host(:not([${Ri.AUDIO}])) media-gesture-receiver[slot=gestures-chrome] {
        align-self: stretch;
        flex-grow: 1;
      }

      slot[name=middle-chrome] {
        display: inline;
        flex-grow: 1;
        pointer-events: none;
        background: none;
      }

      
      ::slotted([slot=media]),
      ::slotted([slot=poster]) {
        width: 100%;
        height: 100%;
      }

      
      :host(:not([${Ri.AUDIO}])) .spacer {
        flex-grow: 1;
      }

      
      :host(:-webkit-full-screen) {
        
        width: 100% !important;
        height: 100% !important;
      }

      
      ::slotted(:not([slot=media]):not([slot=poster]):not([${Ri.NO_AUTOHIDE}]):not([hidden]):not([role=dialog])) {
        opacity: 1;
        transition: var(--media-control-transition-in, opacity 0.25s);
      }

      
      :host([${Ri.USER_INACTIVE}]:not([${it.MEDIA_PAUSED}]):not([${it.MEDIA_IS_AIRPLAYING}]):not([${it.MEDIA_IS_CASTING}]):not([${Ri.AUDIO}])) ::slotted(:not([slot=media]):not([slot=poster]):not([${Ri.NO_AUTOHIDE}]):not([role=dialog])) {
        opacity: 0;
        transition: var(--media-control-transition-out, opacity 1s);
      }

      :host([${Ri.USER_INACTIVE}]:not([${Ri.NO_AUTOHIDE}]):not([${it.MEDIA_PAUSED}]):not([${it.MEDIA_IS_CASTING}]):not([${Ri.AUDIO}])) ::slotted([slot=media]) {
        cursor: none;
      }

      :host([${Ri.USER_INACTIVE}][${Ri.AUTOHIDE_OVER_CONTROLS}]:not([${Ri.NO_AUTOHIDE}]):not([${it.MEDIA_PAUSED}]):not([${it.MEDIA_IS_CASTING}]):not([${Ri.AUDIO}])) * {
        --media-cursor: none;
        cursor: none;
      }


      ::slotted(media-control-bar)  {
        align-self: stretch;
      }

      
      :host(:not([${Ri.AUDIO}])[${it.MEDIA_HAS_PLAYED}]) slot[name=poster] {
        display: none;
      }

      ::slotted([role=dialog]) {
        width: 100%;
        height: 100%;
        align-self: center;
      }

      ::slotted([role=menu]) {
        align-self: end;
      }
    </style>

    <slot name="media" part="layer media-layer"></slot>
    <slot name="poster" part="layer poster-layer"></slot>
    <slot name="gestures-chrome" part="layer gesture-layer">
      <media-gesture-receiver slot="gestures-chrome">
        <template shadowrootmode="${fz.shadowRootOptions.mode}">
          ${fz.getTemplateHTML({})}
        </template>
      </media-gesture-receiver>
    </slot>
    <span part="layer vertical-layer">
      <slot name="top-chrome" part="top chrome"></slot>
      <slot name="middle-chrome" part="middle chrome"></slot>
      <slot name="centered-chrome" part="layer centered-layer center centered chrome"></slot>
      
      <slot part="bottom chrome"></slot>
    </span>
    <slot name="dialog" part="layer dialog-layer"></slot>
  `}const QQe=Object.values(it),VQe="sm:384 md:576 lg:768 xl:960";function KQe(t){kse(t.target,t.contentRect.width)}function kse(t,e){var r;if(!t.isConnected)return;const n=(r=t.getAttribute(Ri.BREAKPOINTS))!=null?r:VQe,i=GQe(n),s=zQe(i,e);let a=!1;if(Object.keys(i).forEach(c=>{if(s.includes(c)){t.hasAttribute(`breakpoint${c}`)||(t.setAttribute(`breakpoint${c}`,""),a=!0);return}t.hasAttribute(`breakpoint${c}`)&&(t.removeAttribute(`breakpoint${c}`),a=!0)}),a){const c=new CustomEvent(zp.BREAKPOINTS_CHANGE,{detail:s});t.dispatchEvent(c)}t.breakpointsComputed||(t.breakpointsComputed=!0,t.dispatchEvent(new CustomEvent(zp.BREAKPOINTS_COMPUTED,{bubbles:!0,composed:!0})))}function GQe(t){const e=t.split(/\s+/);return Object.fromEntries(e.map(r=>r.split(":")))}function zQe(t,e){return Object.keys(t).filter(r=>e>=parseInt(t[r]))}class N5 extends Gt.HTMLElement{constructor(){if(super(),Qh(this,yO),Qh(this,xO),Qh(this,bO),Qh(this,HE),Qh(this,j5),Qh(this,Lb),Qh(this,Pj,0),Qh(this,mx,null),Qh(this,$E,null),Qh(this,Gx,void 0),this.breakpointsComputed=!1,Qh(this,tT,new MutationObserver(Df(this,yO,jse).bind(this))),Qh(this,dw,!1),Qh(this,rT,r=>{Xh(this,dw)||(setTimeout(()=>{KQe(r),lv(this,dw,!1)},0),lv(this,dw,!0))}),!this.shadowRoot){this.attachShadow(this.constructor.shadowRootOptions);const r=ff(this.attributes),n=this.constructor.getTemplateHTML(r);this.shadowRoot.setHTMLUnsafe?this.shadowRoot.setHTMLUnsafe(n):this.shadowRoot.innerHTML=n}const e=this.querySelector(":scope > slot[slot=media]");e&&e.addEventListener("slotchange",()=>{if(!e.assignedElements({flatten:!0}).length){Xh(this,mx)&&this.mediaUnsetCallback(Xh(this,mx));return}this.handleMediaUpdated(this.media)})}static get observedAttributes(){return[Ri.AUTOHIDE,Ri.GESTURES_DISABLED].concat(QQe).filter(e=>![it.MEDIA_RENDITION_LIST,it.MEDIA_AUDIO_TRACK_LIST,it.MEDIA_CHAPTERS_CUES,it.MEDIA_WIDTH,it.MEDIA_HEIGHT,it.MEDIA_ERROR,it.MEDIA_ERROR_MESSAGE].includes(e))}attributeChangedCallback(e,r,n){e.toLowerCase()==Ri.AUTOHIDE&&(this.autohide=n)}get media(){let e=this.querySelector(":scope > [slot=media]");return e?.nodeName=="SLOT"&&(e=e.assignedElements({flatten:!0})[0]),e}async handleMediaUpdated(e){e&&(lv(this,mx,e),e.localName.includes("-")&&await Gt.customElements.whenDefined(e.localName),this.mediaSetCallback(e))}connectedCallback(){var e;Xh(this,tT).observe(this,{childList:!0,subtree:!0}),kb(this,Xh(this,rT));const r=this.getAttribute(Ri.AUDIO)!=null,n=Xn(r?"audio player":"video player");this.setAttribute("role","region"),this.setAttribute("aria-label",n),this.handleMediaUpdated(this.media),this.setAttribute(Ri.USER_INACTIVE,""),kse(this,this.getBoundingClientRect().width),this.addEventListener("pointerdown",this),this.addEventListener("pointermove",this),this.addEventListener("pointerup",this),this.addEventListener("mouseleave",this),this.addEventListener("keyup",this),(e=Gt.window)==null||e.addEventListener("mouseup",this)}disconnectedCallback(){var e;Xh(this,tT).disconnect(),Bb(this,Xh(this,rT)),this.media&&this.mediaUnsetCallback(this.media),(e=Gt.window)==null||e.removeEventListener("mouseup",this)}mediaSetCallback(e){}mediaUnsetCallback(e){lv(this,mx,null)}handleEvent(e){switch(e.type){case"pointerdown":lv(this,Pj,e.timeStamp);break;case"pointermove":Df(this,xO,Nse).call(this,e);break;case"pointerup":Df(this,bO,Ise).call(this,e);break;case"mouseleave":Df(this,HE,C5).call(this);break;case"mouseup":this.removeAttribute(Ri.KEYBOARD_CONTROL);break;case"keyup":Df(this,Lb,QE).call(this),this.setAttribute(Ri.KEYBOARD_CONTROL,"");break}}set autohide(e){const r=Number(e);lv(this,Gx,isNaN(r)?0:r)}get autohide(){return(Xh(this,Gx)===void 0?2:Xh(this,Gx)).toString()}get breakpoints(){return Zo(this,Ri.BREAKPOINTS)}set breakpoints(e){Jo(this,Ri.BREAKPOINTS,e)}get audio(){return ia(this,Ri.AUDIO)}set audio(e){sa(this,Ri.AUDIO,e)}get gesturesDisabled(){return ia(this,Ri.GESTURES_DISABLED)}set gesturesDisabled(e){sa(this,Ri.GESTURES_DISABLED,e)}get keyboardControl(){return ia(this,Ri.KEYBOARD_CONTROL)}set keyboardControl(e){sa(this,Ri.KEYBOARD_CONTROL,e)}get noAutohide(){return ia(this,Ri.NO_AUTOHIDE)}set noAutohide(e){sa(this,Ri.NO_AUTOHIDE,e)}get autohideOverControls(){return ia(this,Ri.AUTOHIDE_OVER_CONTROLS)}set autohideOverControls(e){sa(this,Ri.AUTOHIDE_OVER_CONTROLS,e)}get userInteractive(){return ia(this,Ri.USER_INACTIVE)}set userInteractive(e){sa(this,Ri.USER_INACTIVE,e)}}Pj=new WeakMap;mx=new WeakMap;$E=new WeakMap;Gx=new WeakMap;tT=new WeakMap;yO=new WeakSet;jse=function(t){const e=this.media;for(const r of t){if(r.type!=="childList")continue;const n=r.removedNodes;for(const i of n){if(i.slot!="media"||r.target!=this)continue;let s=r.previousSibling&&r.previousSibling.previousElementSibling;if(!s||!e)this.mediaUnsetCallback(i);else{let a=s.slot!=="media";for(;(s=s.previousSibling)!==null;)s.slot=="media"&&(a=!1);a&&this.mediaUnsetCallback(i)}}if(e)for(const i of r.addedNodes)i===e&&this.handleMediaUpdated(e)}};dw=new WeakMap;rT=new WeakMap;xO=new WeakSet;Nse=function(t){if(t.pointerType!=="mouse"&&t.timeStamp-Xh(this,Pj)<250)return;Df(this,j5,CF).call(this),clearTimeout(Xh(this,$E));const e=this.hasAttribute(Ri.AUTOHIDE_OVER_CONTROLS);([this,this.media].includes(t.target)||e)&&Df(this,Lb,QE).call(this)};bO=new WeakSet;Ise=function(t){if(t.pointerType==="touch"){const e=!this.hasAttribute(Ri.USER_INACTIVE);[this,this.media].includes(t.target)&&e?Df(this,HE,C5).call(this):Df(this,Lb,QE).call(this)}else t.composedPath().some(e=>["media-play-button","media-fullscreen-button"].includes(e?.localName))&&Df(this,Lb,QE).call(this)};HE=new WeakSet;C5=function(){if(Xh(this,Gx)<0||this.hasAttribute(Ri.USER_INACTIVE))return;this.setAttribute(Ri.USER_INACTIVE,"");const t=new Gt.CustomEvent(zp.USER_INACTIVE_CHANGE,{composed:!0,bubbles:!0,detail:!0});this.dispatchEvent(t)};j5=new WeakSet;CF=function(){if(!this.hasAttribute(Ri.USER_INACTIVE))return;this.removeAttribute(Ri.USER_INACTIVE);const t=new Gt.CustomEvent(zp.USER_INACTIVE_CHANGE,{composed:!0,bubbles:!0,detail:!1});this.dispatchEvent(t)};Lb=new WeakSet;QE=function(){Df(this,j5,CF).call(this),clearTimeout(Xh(this,$E));const t=parseInt(this.autohide);t<0||lv(this,$E,setTimeout(()=>{Df(this,HE,C5).call(this)},t*1e3))};N5.shadowRootOptions={mode:"open"};N5.getTemplateHTML=HQe;Gt.customElements.get("media-container")||Gt.customElements.define("media-container",N5);var Bse=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},Uu=(t,e,r)=>(Bse(t,e,"read from private field"),r?r.call(t):e.get(t)),$1=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},s_=(t,e,r,n)=>(Bse(t,e,"write to private field"),e.set(t,r),r),px,gx,Dj,Iv,gp,Qg;class jF{constructor(e,r,{defaultValue:n}={defaultValue:void 0}){$1(this,gp),$1(this,px,void 0),$1(this,gx,void 0),$1(this,Dj,void 0),$1(this,Iv,new Set),s_(this,px,e),s_(this,gx,r),s_(this,Dj,new Set(n))}[Symbol.iterator](){return Uu(this,gp,Qg).values()}get length(){return Uu(this,gp,Qg).size}get value(){var e;return(e=[...Uu(this,gp,Qg)].join(" "))!=null?e:""}set value(e){var r;e!==this.value&&(s_(this,Iv,new Set),this.add(...(r=e?.split(" "))!=null?r:[]))}toString(){return this.value}item(e){return[...Uu(this,gp,Qg)][e]}values(){return Uu(this,gp,Qg).values()}forEach(e,r){Uu(this,gp,Qg).forEach(e,r)}add(...e){var r,n;e.forEach(i=>Uu(this,Iv).add(i)),!(this.value===""&&!((r=Uu(this,px))!=null&&r.hasAttribute(`${Uu(this,gx)}`)))&&((n=Uu(this,px))==null||n.setAttribute(`${Uu(this,gx)}`,`${this.value}`))}remove(...e){var r;e.forEach(n=>Uu(this,Iv).delete(n)),(r=Uu(this,px))==null||r.setAttribute(`${Uu(this,gx)}`,`${this.value}`)}contains(e){return Uu(this,gp,Qg).has(e)}toggle(e,r){return typeof r<"u"?r?(this.add(e),!0):(this.remove(e),!1):this.contains(e)?(this.remove(e),!1):(this.add(e),!0)}replace(e,r){return this.remove(e),this.add(r),e===r}}px=new WeakMap;gx=new WeakMap;Dj=new WeakMap;Iv=new WeakMap;gp=new WeakSet;Qg=function(){return Uu(this,Iv).size?Uu(this,Iv):Uu(this,Dj)};const WQe=(t="")=>t.split(/\s+/),Lse=(t="")=>{const[e,r,n]=t.split(":"),i=n?decodeURIComponent(n):void 0;return{kind:e==="cc"?Bm.CAPTIONS:Bm.SUBTITLES,language:r,label:i}},I5=(t="",e={})=>WQe(t).map(r=>{const n=Lse(r);return{...e,...n}}),Rse=t=>t?Array.isArray(t)?t.map(e=>typeof e=="string"?Lse(e):e):typeof t=="string"?I5(t):[t]:[],wO=({kind:t,label:e,language:r}={kind:"subtitles"})=>e?`${t==="captions"?"cc":"sb"}:${r}:${encodeURIComponent(e)}`:r,VE=(t=[])=>Array.prototype.map.call(t,wO).join(" "),YQe=(t,e)=>r=>r[t]===e,Ose=t=>{const e=Object.entries(t).map(([r,n])=>YQe(r,n));return r=>e.every(n=>n(r))},zw=(t,e=[],r=[])=>{const n=Rse(r).map(Ose),i=s=>n.some(a=>a(s));Array.from(e).filter(i).forEach(s=>{s.mode=t})},k5=(t,e=()=>!0)=>{if(!t?.textTracks)return[];const r=typeof e=="function"?e:Ose(e);return Array.from(t.textTracks).filter(r)},Pse=t=>{var e;return!!((e=t.mediaSubtitlesShowing)!=null&&e.length)||t.hasAttribute(it.MEDIA_SUBTITLES_SHOWING)},qQe=t=>{var e;const{media:r,fullscreenElement:n}=t;try{const i=n&&"requestFullscreen"in n?"requestFullscreen":n&&"webkitRequestFullScreen"in n?"webkitRequestFullScreen":void 0;if(i){const s=(e=n[i])==null?void 0:e.call(n);if(s instanceof Promise)return s.catch(()=>{})}else r?.webkitEnterFullscreen?r.webkitEnterFullscreen():r?.requestFullscreen&&r.requestFullscreen()}catch(i){console.error(i)}},Az="exitFullscreen"in Qc?"exitFullscreen":"webkitExitFullscreen"in Qc?"webkitExitFullscreen":"webkitCancelFullScreen"in Qc?"webkitCancelFullScreen":void 0,XQe=t=>{var e;const{documentElement:r}=t;if(Az){const n=(e=r?.[Az])==null?void 0:e.call(r);if(n instanceof Promise)return n.catch(()=>{})}},hw="fullscreenElement"in Qc?"fullscreenElement":"webkitFullscreenElement"in Qc?"webkitFullscreenElement":void 0,ZQe=t=>{const{documentElement:e,media:r}=t,n=e?.[hw];return!n&&"webkitDisplayingFullscreen"in r&&"webkitPresentationMode"in r&&r.webkitDisplayingFullscreen&&r.webkitPresentationMode===bQe.FULLSCREEN?r:n},JQe=t=>{var e;const{media:r,documentElement:n,fullscreenElement:i=r}=t;if(!r||!n)return!1;const s=ZQe(t);if(!s)return!1;if(s===i||s===r)return!0;if(s.localName.includes("-")){let a=s.shadowRoot;if(!(hw in a))return ig(s,i);for(;a?.[hw];){if(a[hw]===i)return!0;a=(e=a[hw])==null?void 0:e.shadowRoot}}return!1},eVe="fullscreenEnabled"in Qc?"fullscreenEnabled":"webkitFullscreenEnabled"in Qc?"webkitFullscreenEnabled":void 0,tVe=t=>{const{documentElement:e,media:r}=t;return!!e?.[eVe]||r&&"webkitSupportsFullscreen"in r};let a_;const NF=()=>{var t,e;return a_||(a_=(e=(t=Qc)==null?void 0:t.createElement)==null?void 0:e.call(t,"video"),a_)},rVe=async(t=NF())=>{if(!t)return!1;const e=t.volume;t.volume=e/2+.1;const r=new AbortController,n=await Promise.race([nVe(t,r.signal),iVe(t,e)]);return r.abort(),n},nVe=(t,e)=>new Promise(r=>{t.addEventListener("volumechange",()=>r(!0),{signal:e})}),iVe=async(t,e)=>{for(let r=0;r<10;r++){if(t.volume===e)return!1;await gse(10)}return t.volume!==e},sVe=/.*Version\/.*Safari\/.*/.test(Gt.navigator.userAgent),Dse=(t=NF())=>Gt.matchMedia("(display-mode: standalone)").matches&&sVe?!1:typeof t?.requestPictureInPicture=="function",Mse=(t=NF())=>tVe({documentElement:Qc,media:t}),aVe=Mse(),oVe=Dse(),lVe=!!Gt.WebKitPlaybackTargetAvailabilityEvent,cVe=!!Gt.chrome,Mj=t=>k5(t.media,e=>[Bm.SUBTITLES,Bm.CAPTIONS].includes(e.kind)).sort((e,r)=>e.kind>=r.kind?1:-1),Fse=t=>k5(t.media,e=>e.mode===ob.SHOWING&&[Bm.SUBTITLES,Bm.CAPTIONS].includes(e.kind)),Use=(t,e)=>{const r=Mj(t),n=Fse(t),i=!!n.length;if(r.length){if(e===!1||i&&e!==!0)zw(ob.DISABLED,r,n);else if(e===!0||!i&&e!==!1){let s=r[0];const{options:a}=t;if(!a?.noSubtitlesLangPref){const d=globalThis.localStorage.getItem("media-chrome-pref-subtitles-lang"),f=d?[d,...globalThis.navigator.languages]:globalThis.navigator.languages,A=r.filter(p=>f.some(g=>p.language.toLowerCase().startsWith(g.split("-")[0]))).sort((p,g)=>{const y=f.findIndex(b=>p.language.toLowerCase().startsWith(b.split("-")[0])),v=f.findIndex(b=>g.language.toLowerCase().startsWith(b.split("-")[0]));return y-v});A[0]&&(s=A[0])}const{language:c,label:u,kind:o}=s;zw(ob.DISABLED,r,n),zw(ob.SHOWING,r,[{language:c,label:u,kind:o}])}}},IF=(t,e)=>t===e?!0:t==null||e==null||typeof t!=typeof e?!1:typeof t=="number"&&Number.isNaN(t)&&Number.isNaN(e)?!0:typeof t!="object"?!1:Array.isArray(t)?uVe(t,e):Object.entries(t).every(([r,n])=>r in e&&IF(n,e[r])),uVe=(t,e)=>{const r=Array.isArray(t),n=Array.isArray(e);return r!==n?!1:r||n?t.length!==e.length?!1:t.every((i,s)=>IF(i,e[s])):!0},dVe=Object.values(wp);let Fj;const hVe=rVe().then(t=>(Fj=t,Fj)),fVe=async(...t)=>{await Promise.all(t.filter(e=>e).map(async e=>{if(!("localName"in e&&e instanceof Gt.HTMLElement))return;const r=e.localName;if(!r.includes("-"))return;const n=Gt.customElements.get(r);n&&e instanceof n||(await Gt.customElements.whenDefined(r),Gt.customElements.upgrade(e))}))},AVe=new Gt.DOMParser,mVe=t=>t&&(AVe.parseFromString(t,"text/html").body.textContent||t),fw={mediaError:{get(t,e){const{media:r}=t;if(e?.type!=="playing")return r?.error},mediaEvents:["emptied","error","playing"]},mediaErrorCode:{get(t,e){var r;const{media:n}=t;if(e?.type!=="playing")return(r=n?.error)==null?void 0:r.code},mediaEvents:["emptied","error","playing"]},mediaErrorMessage:{get(t,e){var r,n;const{media:i}=t;if(e?.type!=="playing")return(n=(r=i?.error)==null?void 0:r.message)!=null?n:""},mediaEvents:["emptied","error","playing"]},mediaWidth:{get(t){var e;const{media:r}=t;return(e=r?.videoWidth)!=null?e:0},mediaEvents:["resize"]},mediaHeight:{get(t){var e;const{media:r}=t;return(e=r?.videoHeight)!=null?e:0},mediaEvents:["resize"]},mediaPaused:{get(t){var e;const{media:r}=t;return(e=r?.paused)!=null?e:!0},set(t,e){var r;const{media:n}=e;n&&(t?n.pause():(r=n.play())==null||r.catch(()=>{}))},mediaEvents:["play","playing","pause","emptied"]},mediaHasPlayed:{get(t,e){const{media:r}=t;return r?e?e.type==="playing":!r.paused:!1},mediaEvents:["playing","emptied"]},mediaEnded:{get(t){var e;const{media:r}=t;return(e=r?.ended)!=null?e:!1},mediaEvents:["seeked","ended","emptied"]},mediaPlaybackRate:{get(t){var e;const{media:r}=t;return(e=r?.playbackRate)!=null?e:1},set(t,e){const{media:r}=e;r&&Number.isFinite(+t)&&(r.playbackRate=+t)},mediaEvents:["ratechange","loadstart"]},mediaMuted:{get(t){var e;const{media:r}=t;return(e=r?.muted)!=null?e:!1},set(t,e){const{media:r,options:{noMutedPref:n}={}}=e;if(r){r.muted=t;try{const i=Gt.localStorage.getItem("media-chrome-pref-muted")!==null,s=r.hasAttribute("muted");if(n){i&&Gt.localStorage.removeItem("media-chrome-pref-muted");return}if(s&&!i)return;Gt.localStorage.setItem("media-chrome-pref-muted",t?"true":"false")}catch(i){console.debug("Error setting muted pref",i)}}},mediaEvents:["volumechange"],stateOwnersUpdateHandlers:[(t,e)=>{const{options:{noMutedPref:r}}=e,{media:n}=e;if(!(!n||n.muted||r))try{const i=Gt.localStorage.getItem("media-chrome-pref-muted")==="true";fw.mediaMuted.set(i,e),t(i)}catch(i){console.debug("Error getting muted pref",i)}}]},mediaLoop:{get(t){const{media:e}=t;return e?.loop},set(t,e){const{media:r}=e;r&&(r.loop=t)},mediaEvents:["medialooprequest"]},mediaVolume:{get(t){var e;const{media:r}=t;return(e=r?.volume)!=null?e:1},set(t,e){const{media:r,options:{noVolumePref:n}={}}=e;if(r){try{t==null?Gt.localStorage.removeItem("media-chrome-pref-volume"):!r.hasAttribute("muted")&&!n&&Gt.localStorage.setItem("media-chrome-pref-volume",t.toString())}catch(i){console.debug("Error setting volume pref",i)}Number.isFinite(+t)&&(r.volume=+t)}},mediaEvents:["volumechange"],stateOwnersUpdateHandlers:[(t,e)=>{const{options:{noVolumePref:r}}=e;if(!r)try{const{media:n}=e;if(!n)return;const i=Gt.localStorage.getItem("media-chrome-pref-volume");if(i==null)return;fw.mediaVolume.set(+i,e),t(+i)}catch(n){console.debug("Error getting volume pref",n)}}]},mediaVolumeLevel:{get(t){const{media:e}=t;return typeof e?.volume>"u"?"high":e.muted||e.volume===0?"off":e.volume<.5?"low":e.volume<.75?"medium":"high"},mediaEvents:["volumechange"]},mediaCurrentTime:{get(t){var e;const{media:r}=t;return(e=r?.currentTime)!=null?e:0},set(t,e){const{media:r}=e;!r||!wF(t)||(r.currentTime=t)},mediaEvents:["timeupdate","loadedmetadata"]},mediaDuration:{get(t){const{media:e,options:{defaultDuration:r}={}}=t;return r&&(!e||!e.duration||Number.isNaN(e.duration)||!Number.isFinite(e.duration))?r:Number.isFinite(e?.duration)?e.duration:Number.NaN},mediaEvents:["durationchange","loadedmetadata","emptied"]},mediaLoading:{get(t){const{media:e}=t;return e?.readyState<3},mediaEvents:["waiting","playing","emptied"]},mediaSeekable:{get(t){var e;const{media:r}=t;if(!((e=r?.seekable)!=null&&e.length))return;const n=r.seekable.start(0),i=r.seekable.end(r.seekable.length-1);if(!(!n&&!i))return[Number(n.toFixed(3)),Number(i.toFixed(3))]},mediaEvents:["loadedmetadata","emptied","progress","seekablechange"]},mediaBuffered:{get(t){var e;const{media:r}=t,n=(e=r?.buffered)!=null?e:[];return Array.from(n).map((i,s)=>[Number(n.start(s).toFixed(3)),Number(n.end(s).toFixed(3))])},mediaEvents:["progress","emptied"]},mediaStreamType:{get(t){const{media:e,options:{defaultStreamType:r}={}}=t,n=[wp.LIVE,wp.ON_DEMAND].includes(r)?r:void 0;if(!e)return n;const{streamType:i}=e;if(dVe.includes(i))return i===wp.UNKNOWN?n:i;const s=e.duration;return s===1/0?wp.LIVE:Number.isFinite(s)?wp.ON_DEMAND:n},mediaEvents:["emptied","durationchange","loadedmetadata","streamtypechange"]},mediaTargetLiveWindow:{get(t){const{media:e}=t;if(!e)return Number.NaN;const{targetLiveWindow:r}=e,n=fw.mediaStreamType.get(t);return(r==null||Number.isNaN(r))&&n===wp.LIVE?0:r},mediaEvents:["emptied","durationchange","loadedmetadata","streamtypechange","targetlivewindowchange"]},mediaTimeIsLive:{get(t){const{media:e,options:{liveEdgeOffset:r=10}={}}=t;if(!e)return!1;if(typeof e.liveEdgeStart=="number")return Number.isNaN(e.liveEdgeStart)?!1:e.currentTime>=e.liveEdgeStart;if(!(fw.mediaStreamType.get(t)===wp.LIVE))return!1;const i=e.seekable;if(!i)return!0;if(!i.length)return!1;const s=i.end(i.length-1)-r;return e.currentTime>=s},mediaEvents:["playing","timeupdate","progress","waiting","emptied"]},mediaSubtitlesList:{get(t){return Mj(t).map(({kind:e,label:r,language:n})=>({kind:e,label:r,language:n}))},mediaEvents:["loadstart"],textTracksEvents:["addtrack","removetrack"]},mediaSubtitlesShowing:{get(t){return Fse(t).map(({kind:e,label:r,language:n})=>({kind:e,label:r,language:n}))},mediaEvents:["loadstart"],textTracksEvents:["addtrack","removetrack","change"],stateOwnersUpdateHandlers:[(t,e)=>{var r,n;const{media:i,options:s}=e;if(!i)return;const a=c=>{var u;!s.defaultSubtitles||c&&![Bm.CAPTIONS,Bm.SUBTITLES].includes((u=c?.track)==null?void 0:u.kind)||Use(e,!0)};return i.addEventListener("loadstart",a),(r=i.textTracks)==null||r.addEventListener("addtrack",a),(n=i.textTracks)==null||n.addEventListener("removetrack",a),()=>{var c,u;i.removeEventListener("loadstart",a),(c=i.textTracks)==null||c.removeEventListener("addtrack",a),(u=i.textTracks)==null||u.removeEventListener("removetrack",a)}}]},mediaChaptersCues:{get(t){var e;const{media:r}=t;if(!r)return[];const[n]=k5(r,{kind:Bm.CHAPTERS});return Array.from((e=n?.cues)!=null?e:[]).map(({text:i,startTime:s,endTime:a})=>({text:mVe(i),startTime:s,endTime:a}))},mediaEvents:["loadstart","loadedmetadata"],textTracksEvents:["addtrack","removetrack","change"],stateOwnersUpdateHandlers:[(t,e)=>{var r;const{media:n}=e;if(!n)return;const i=n.querySelector('track[kind="chapters"][default][src]'),s=(r=n.shadowRoot)==null?void 0:r.querySelector(':is(video,audio) > track[kind="chapters"][default][src]');return i?.addEventListener("load",t),s?.addEventListener("load",t),()=>{i?.removeEventListener("load",t),s?.removeEventListener("load",t)}}]},mediaIsPip:{get(t){var e,r;const{media:n,documentElement:i}=t;if(!n||!i||!i.pictureInPictureElement)return!1;if(i.pictureInPictureElement===n)return!0;if(i.pictureInPictureElement instanceof HTMLMediaElement)return(e=n.localName)!=null&&e.includes("-")?ig(n,i.pictureInPictureElement):!1;if(i.pictureInPictureElement.localName.includes("-")){let s=i.pictureInPictureElement.shadowRoot;for(;s?.pictureInPictureElement;){if(s.pictureInPictureElement===n)return!0;s=(r=s.pictureInPictureElement)==null?void 0:r.shadowRoot}}return!1},set(t,e){const{media:r}=e;if(r)if(t){if(!Qc.pictureInPictureEnabled){console.warn("MediaChrome: Picture-in-picture is not enabled");return}if(!r.requestPictureInPicture){console.warn("MediaChrome: The current media does not support picture-in-picture");return}const n=()=>{console.warn("MediaChrome: The media is not ready for picture-in-picture. It must have a readyState > 0.")};r.requestPictureInPicture().catch(i=>{if(i.code===11){if(!r.src){console.warn("MediaChrome: The media is not ready for picture-in-picture. It must have a src set.");return}if(r.readyState===0&&r.preload==="none"){const s=()=>{r.removeEventListener("loadedmetadata",a),r.preload="none"},a=()=>{r.requestPictureInPicture().catch(n),s()};r.addEventListener("loadedmetadata",a),r.preload="metadata",setTimeout(()=>{r.readyState===0&&n(),s()},1e3)}else throw i}else throw i})}else Qc.pictureInPictureElement&&Qc.exitPictureInPicture()},mediaEvents:["enterpictureinpicture","leavepictureinpicture"]},mediaRenditionList:{get(t){var e;const{media:r}=t;return[...(e=r?.videoRenditions)!=null?e:[]].map(n=>({...n}))},mediaEvents:["emptied","loadstart"],videoRenditionsEvents:["addrendition","removerendition"]},mediaRenditionSelected:{get(t){var e,r,n;const{media:i}=t;return(n=(r=i?.videoRenditions)==null?void 0:r[(e=i.videoRenditions)==null?void 0:e.selectedIndex])==null?void 0:n.id},set(t,e){const{media:r}=e;if(!r?.videoRenditions){console.warn("MediaController: Rendition selection not supported by this media.");return}const n=t,i=Array.prototype.findIndex.call(r.videoRenditions,s=>s.id==n);r.videoRenditions.selectedIndex!=i&&(r.videoRenditions.selectedIndex=i)},mediaEvents:["emptied"],videoRenditionsEvents:["addrendition","removerendition","change"]},mediaAudioTrackList:{get(t){var e;const{media:r}=t;return[...(e=r?.audioTracks)!=null?e:[]]},mediaEvents:["emptied","loadstart"],audioTracksEvents:["addtrack","removetrack"]},mediaAudioTrackEnabled:{get(t){var e,r;const{media:n}=t;return(r=[...(e=n?.audioTracks)!=null?e:[]].find(i=>i.enabled))==null?void 0:r.id},set(t,e){const{media:r}=e;if(!r?.audioTracks){console.warn("MediaChrome: Audio track selection not supported by this media.");return}const n=t;for(const i of r.audioTracks)i.enabled=n==i.id},mediaEvents:["emptied"],audioTracksEvents:["addtrack","removetrack","change"]},mediaIsFullscreen:{get(t){return JQe(t)},set(t,e,r){var n;t?(qQe(e),r.detail&&((n=e.media)==null||n.focus())):XQe(e)},rootEvents:["fullscreenchange","webkitfullscreenchange"],mediaEvents:["webkitbeginfullscreen","webkitendfullscreen","webkitpresentationmodechanged"]},mediaIsCasting:{get(t){var e;const{media:r}=t;return!r?.remote||((e=r.remote)==null?void 0:e.state)==="disconnected"?!1:!!r.remote.state},set(t,e){var r,n;const{media:i}=e;if(i&&!(t&&((r=i.remote)==null?void 0:r.state)!=="disconnected")&&!(!t&&((n=i.remote)==null?void 0:n.state)!=="connected")){if(typeof i.remote.prompt!="function"){console.warn("MediaChrome: Casting is not supported in this environment");return}i.remote.prompt().catch(()=>{})}},remoteEvents:["connect","connecting","disconnect"]},mediaIsAirplaying:{get(){return!1},set(t,e){const{media:r}=e;if(r){if(!(r.webkitShowPlaybackTargetPicker&&Gt.WebKitPlaybackTargetAvailabilityEvent)){console.error("MediaChrome: received a request to select AirPlay but AirPlay is not supported in this environment");return}r.webkitShowPlaybackTargetPicker()}},mediaEvents:["webkitcurrentplaybacktargetiswirelesschanged"]},mediaFullscreenUnavailable:{get(t){const{media:e}=t;if(!aVe||!Mse(e))return Hh.UNSUPPORTED}},mediaPipUnavailable:{get(t){const{media:e}=t;if(!oVe||!Dse(e))return Hh.UNSUPPORTED;if(e?.disablePictureInPicture)return Hh.UNAVAILABLE}},mediaVolumeUnavailable:{get(t){const{media:e}=t;if(Fj===!1||e?.volume==null)return Hh.UNSUPPORTED},stateOwnersUpdateHandlers:[t=>{Fj==null&&hVe.then(e=>t(e?void 0:Hh.UNSUPPORTED))}]},mediaCastUnavailable:{get(t,{availability:e="not-available"}={}){var r;const{media:n}=t;if(!cVe||!((r=n?.remote)!=null&&r.state))return Hh.UNSUPPORTED;if(!(e==null||e==="available"))return Hh.UNAVAILABLE},stateOwnersUpdateHandlers:[(t,e)=>{var r;const{media:n}=e;return n?(n.disableRemotePlayback||n.hasAttribute("disableremoteplayback")||(r=n?.remote)==null||r.watchAvailability(s=>{t({availability:s?"available":"not-available"})}).catch(s=>{s.name==="NotSupportedError"?t({availability:null}):t({availability:"not-available"})}),()=>{var s;(s=n?.remote)==null||s.cancelWatchAvailability().catch(()=>{})}):void 0}]},mediaAirplayUnavailable:{get(t,e){if(!lVe)return Hh.UNSUPPORTED;if(e?.availability==="not-available")return Hh.UNAVAILABLE},mediaEvents:["webkitplaybacktargetavailabilitychanged"],stateOwnersUpdateHandlers:[(t,e)=>{var r;const{media:n}=e;return n?(n.disableRemotePlayback||n.hasAttribute("disableremoteplayback")||(r=n?.remote)==null||r.watchAvailability(s=>{t({availability:s?"available":"not-available"})}).catch(s=>{s.name==="NotSupportedError"?t({availability:null}):t({availability:"not-available"})}),()=>{var s;(s=n?.remote)==null||s.cancelWatchAvailability().catch(()=>{})}):void 0}]},mediaRenditionUnavailable:{get(t){var e;const{media:r}=t;if(!r?.videoRenditions)return Hh.UNSUPPORTED;if(!((e=r.videoRenditions)!=null&&e.length))return Hh.UNAVAILABLE},mediaEvents:["emptied","loadstart"],videoRenditionsEvents:["addrendition","removerendition"]},mediaAudioTrackUnavailable:{get(t){var e,r;const{media:n}=t;if(!n?.audioTracks)return Hh.UNSUPPORTED;if(((r=(e=n.audioTracks)==null?void 0:e.length)!=null?r:0)<=1)return Hh.UNAVAILABLE},mediaEvents:["emptied","loadstart"],audioTracksEvents:["addtrack","removetrack"]},mediaLang:{get(t){const{options:{mediaLang:e}={}}=t;return e??"en"}}},pVe={[Nn.MEDIA_PREVIEW_REQUEST](t,e,{detail:r}){var n,i,s;const{media:a}=e,c=r??void 0;let u,o;if(a&&c!=null){const[p]=k5(a,{kind:Bm.METADATA,label:"thumbnails"}),g=Array.prototype.find.call((n=p?.cues)!=null?n:[],(y,v,b)=>v===0?y.endTime>c:v===b.length-1?y.startTime<=c:y.startTime<=c&&y.endTime>c);if(g){const y=/'^(?:[a-z]+:)?\/\//i.test(g.text)||(i=a?.querySelector('track[label="thumbnails"]'))==null?void 0:i.src,v=new URL(g.text,y);o=new URLSearchParams(v.hash).get("#xywh").split(",").map(w=>+w),u=v.href}}const d=t.mediaDuration.get(e);let A=(s=t.mediaChaptersCues.get(e).find((p,g,y)=>g===y.length-1&&d===p.endTime?p.startTime<=c&&p.endTime>=c:p.startTime<=c&&p.endTime>c))==null?void 0:s.text;return r!=null&&A==null&&(A=""),{mediaPreviewTime:c,mediaPreviewImage:u,mediaPreviewCoords:o,mediaPreviewChapter:A}},[Nn.MEDIA_PAUSE_REQUEST](t,e){t["mediaPaused"].set(!0,e)},[Nn.MEDIA_PLAY_REQUEST](t,e){var r,n,i,s;const a="mediaPaused",u=t.mediaStreamType.get(e)===wp.LIVE,o=!((r=e.options)!=null&&r.noAutoSeekToLive),d=t.mediaTargetLiveWindow.get(e)>0;if(u&&o&&!d){const f=(n=t.mediaSeekable.get(e))==null?void 0:n[1];if(f){const A=(s=(i=e.options)==null?void 0:i.seekToLiveOffset)!=null?s:0,p=f-A;t.mediaCurrentTime.set(p,e)}}t[a].set(!1,e)},[Nn.MEDIA_PLAYBACK_RATE_REQUEST](t,e,{detail:r}){const n="mediaPlaybackRate",i=r;t[n].set(i,e)},[Nn.MEDIA_MUTE_REQUEST](t,e){t["mediaMuted"].set(!0,e)},[Nn.MEDIA_UNMUTE_REQUEST](t,e){const r="mediaMuted";t.mediaVolume.get(e)||t.mediaVolume.set(.25,e),t[r].set(!1,e)},[Nn.MEDIA_LOOP_REQUEST](t,e,{detail:r}){const n="mediaLoop",i=!!r;return t[n].set(i,e),{mediaLoop:i}},[Nn.MEDIA_VOLUME_REQUEST](t,e,{detail:r}){const n="mediaVolume",i=r;i&&t.mediaMuted.get(e)&&t.mediaMuted.set(!1,e),t[n].set(i,e)},[Nn.MEDIA_SEEK_REQUEST](t,e,{detail:r}){const n="mediaCurrentTime",i=r;t[n].set(i,e)},[Nn.MEDIA_SEEK_TO_LIVE_REQUEST](t,e){var r,n,i;const s="mediaCurrentTime",a=(r=t.mediaSeekable.get(e))==null?void 0:r[1];if(Number.isNaN(Number(a)))return;const c=(i=(n=e.options)==null?void 0:n.seekToLiveOffset)!=null?i:0,u=a-c;t[s].set(u,e)},[Nn.MEDIA_SHOW_SUBTITLES_REQUEST](t,e,{detail:r}){var n;const{options:i}=e,s=Mj(e),a=Rse(r),c=(n=a[0])==null?void 0:n.language;c&&!i.noSubtitlesLangPref&&Gt.localStorage.setItem("media-chrome-pref-subtitles-lang",c),zw(ob.SHOWING,s,a)},[Nn.MEDIA_DISABLE_SUBTITLES_REQUEST](t,e,{detail:r}){const n=Mj(e),i=r??[];zw(ob.DISABLED,n,i)},[Nn.MEDIA_TOGGLE_SUBTITLES_REQUEST](t,e,{detail:r}){Use(e,r)},[Nn.MEDIA_RENDITION_REQUEST](t,e,{detail:r}){const n="mediaRenditionSelected",i=r;t[n].set(i,e)},[Nn.MEDIA_AUDIO_TRACK_REQUEST](t,e,{detail:r}){const n="mediaAudioTrackEnabled",i=r;t[n].set(i,e)},[Nn.MEDIA_ENTER_PIP_REQUEST](t,e){const r="mediaIsPip";t.mediaIsFullscreen.get(e)&&t.mediaIsFullscreen.set(!1,e),t[r].set(!0,e)},[Nn.MEDIA_EXIT_PIP_REQUEST](t,e){t["mediaIsPip"].set(!1,e)},[Nn.MEDIA_ENTER_FULLSCREEN_REQUEST](t,e,r){const n="mediaIsFullscreen";t.mediaIsPip.get(e)&&t.mediaIsPip.set(!1,e),t[n].set(!0,e,r)},[Nn.MEDIA_EXIT_FULLSCREEN_REQUEST](t,e){t["mediaIsFullscreen"].set(!1,e)},[Nn.MEDIA_ENTER_CAST_REQUEST](t,e){const r="mediaIsCasting";t.mediaIsFullscreen.get(e)&&t.mediaIsFullscreen.set(!1,e),t[r].set(!0,e)},[Nn.MEDIA_EXIT_CAST_REQUEST](t,e){t["mediaIsCasting"].set(!1,e)},[Nn.MEDIA_AIRPLAY_REQUEST](t,e){t["mediaIsAirplaying"].set(!0,e)}},gVe=({media:t,fullscreenElement:e,documentElement:r,stateMediator:n=fw,requestMap:i=pVe,options:s={},monitorStateOwnersOnlyWithSubscriptions:a=!0})=>{const c=[],u={options:{...s}};let o=Object.freeze({mediaPreviewTime:void 0,mediaPreviewImage:void 0,mediaPreviewCoords:void 0,mediaPreviewChapter:void 0});const d=y=>{y!=null&&(IF(y,o)||(o=Object.freeze({...o,...y}),c.forEach(v=>v(o))))},f=()=>{const y=Object.entries(n).reduce((v,[b,{get:w}])=>(v[b]=w(u),v),{});d(y)},A={};let p;const g=async(y,v)=>{var b,w,S,_,T,L,D,V,G,J,ee,ue,pe,ge,he,ne;const Ae=!!p;if(p={...u,...p??{},...y},Ae)return;await fVe(...Object.values(y));const oe=c.length>0&&v===0&&a,Be=u.media!==p.media,ke=((b=u.media)==null?void 0:b.textTracks)!==((w=p.media)==null?void 0:w.textTracks),ve=((S=u.media)==null?void 0:S.videoRenditions)!==((_=p.media)==null?void 0:_.videoRenditions),se=((T=u.media)==null?void 0:T.audioTracks)!==((L=p.media)==null?void 0:L.audioTracks),me=((D=u.media)==null?void 0:D.remote)!==((V=p.media)==null?void 0:V.remote),je=u.documentElement!==p.documentElement,Ue=!!u.media&&(Be||oe),De=!!((G=u.media)!=null&&G.textTracks)&&(ke||oe),ot=!!((J=u.media)!=null&&J.videoRenditions)&&(ve||oe),ft=!!((ee=u.media)!=null&&ee.audioTracks)&&(se||oe),Ce=!!((ue=u.media)!=null&&ue.remote)&&(me||oe),Ze=!!u.documentElement&&(je||oe),ze=Ue||De||ot||ft||Ce||Ze,$e=c.length===0&&v===1&&a,ct=!!p.media&&(Be||$e),Fe=!!((pe=p.media)!=null&&pe.textTracks)&&(ke||$e),xt=!!((ge=p.media)!=null&&ge.videoRenditions)&&(ve||$e),pt=!!((he=p.media)!=null&&he.audioTracks)&&(se||$e),Bt=!!((ne=p.media)!=null&&ne.remote)&&(me||$e),qt=!!p.documentElement&&(je||$e),Yr=ct||Fe||xt||pt||Bt||qt;if(!(ze||Yr)){Object.entries(p).forEach(([Wr,hn])=>{u[Wr]=hn}),f(),p=void 0;return}Object.entries(n).forEach(([Wr,{get:hn,mediaEvents:Tn=[],textTracksEvents:Jr=[],videoRenditionsEvents:sn=[],audioTracksEvents:on=[],remoteEvents:Fn=[],rootEvents:Qn=[],stateOwnersUpdateHandlers:gi=[]}])=>{A[Wr]||(A[Wr]={});const Je=Wt=>{const Pt=hn(u,Wt);d({[Wr]:Pt})};let Ut;Ut=A[Wr].mediaEvents,Tn.forEach(Wt=>{Ut&&Ue&&(u.media.removeEventListener(Wt,Ut),A[Wr].mediaEvents=void 0),ct&&(p.media.addEventListener(Wt,Je),A[Wr].mediaEvents=Je)}),Ut=A[Wr].textTracksEvents,Jr.forEach(Wt=>{var Pt,or;Ut&&De&&((Pt=u.media.textTracks)==null||Pt.removeEventListener(Wt,Ut),A[Wr].textTracksEvents=void 0),Fe&&((or=p.media.textTracks)==null||or.addEventListener(Wt,Je),A[Wr].textTracksEvents=Je)}),Ut=A[Wr].videoRenditionsEvents,sn.forEach(Wt=>{var Pt,or;Ut&&ot&&((Pt=u.media.videoRenditions)==null||Pt.removeEventListener(Wt,Ut),A[Wr].videoRenditionsEvents=void 0),xt&&((or=p.media.videoRenditions)==null||or.addEventListener(Wt,Je),A[Wr].videoRenditionsEvents=Je)}),Ut=A[Wr].audioTracksEvents,on.forEach(Wt=>{var Pt,or;Ut&&ft&&((Pt=u.media.audioTracks)==null||Pt.removeEventListener(Wt,Ut),A[Wr].audioTracksEvents=void 0),pt&&((or=p.media.audioTracks)==null||or.addEventListener(Wt,Je),A[Wr].audioTracksEvents=Je)}),Ut=A[Wr].remoteEvents,Fn.forEach(Wt=>{var Pt,or;Ut&&Ce&&((Pt=u.media.remote)==null||Pt.removeEventListener(Wt,Ut),A[Wr].remoteEvents=void 0),Bt&&((or=p.media.remote)==null||or.addEventListener(Wt,Je),A[Wr].remoteEvents=Je)}),Ut=A[Wr].rootEvents,Qn.forEach(Wt=>{Ut&&Ze&&(u.documentElement.removeEventListener(Wt,Ut),A[Wr].rootEvents=void 0),qt&&(p.documentElement.addEventListener(Wt,Je),A[Wr].rootEvents=Je)});const gr=A[Wr].stateOwnersUpdateHandlers;if(gr&&ze&&(Array.isArray(gr)?gr:[gr]).forEach(Pt=>{typeof Pt=="function"&&Pt()}),Yr){const Wt=gi.map(Pt=>Pt(Je,p)).filter(Pt=>typeof Pt=="function");A[Wr].stateOwnersUpdateHandlers=Wt.length===1?Wt[0]:Wt}else ze&&(A[Wr].stateOwnersUpdateHandlers=void 0)}),Object.entries(p).forEach(([Wr,hn])=>{u[Wr]=hn}),f(),p=void 0};return g({media:t,fullscreenElement:e,documentElement:r,options:s}),{dispatch(y){const{type:v,detail:b}=y;if(i[v]&&o.mediaErrorCode==null){d(i[v](n,u,y));return}v==="mediaelementchangerequest"?g({media:b}):v==="fullscreenelementchangerequest"?g({fullscreenElement:b}):v==="documentelementchangerequest"?g({documentElement:b}):v==="optionschangerequest"&&(Object.entries(b??{}).forEach(([w,S])=>{u.options[w]=S}),f())},getState(){return o},subscribe(y){return g({},c.length+1),c.push(y),y(o),()=>{const v=c.indexOf(y);v>=0&&(g({},c.length-1),c.splice(v,1))}}}};var kF=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},Mi=(t,e,r)=>(kF(t,e,"read from private field"),r?r.call(t):e.get(t)),Cf=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},am=(t,e,r,n)=>(kF(t,e,"write to private field"),e.set(t,r),r),ym=(t,e,r)=>(kF(t,e,"access private method"),r),a0,Aw,Aa,kv,mw,om,nT,pw,iT,EO,Hv,lb,sT,SO,_O,$se;const Hse=["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Enter"," ","f","m","k","c","l","j",">","<","p"],mz=10,pz=.025,gz=.25,vVe=.25,yVe=2,un={DEFAULT_SUBTITLES:"defaultsubtitles",DEFAULT_STREAM_TYPE:"defaultstreamtype",DEFAULT_DURATION:"defaultduration",FULLSCREEN_ELEMENT:"fullscreenelement",HOTKEYS:"hotkeys",KEYBOARD_BACKWARD_SEEK_OFFSET:"keyboardbackwardseekoffset",KEYBOARD_FORWARD_SEEK_OFFSET:"keyboardforwardseekoffset",KEYBOARD_DOWN_VOLUME_STEP:"keyboarddownvolumestep",KEYBOARD_UP_VOLUME_STEP:"keyboardupvolumestep",KEYS_USED:"keysused",LANG:"lang",LOOP:"loop",LIVE_EDGE_OFFSET:"liveedgeoffset",NO_AUTO_SEEK_TO_LIVE:"noautoseektolive",NO_DEFAULT_STORE:"nodefaultstore",NO_HOTKEYS:"nohotkeys",NO_MUTED_PREF:"nomutedpref",NO_SUBTITLES_LANG_PREF:"nosubtitleslangpref",NO_VOLUME_PREF:"novolumepref",SEEK_TO_LIVE_OFFSET:"seektoliveoffset"};class Qse extends N5{constructor(){super(),Cf(this,iT),Cf(this,Hv),Cf(this,sT),Cf(this,_O),this.mediaStateReceivers=[],this.associatedElementSubscriptions=new Map,Cf(this,a0,new jF(this,un.HOTKEYS)),Cf(this,Aw,void 0),Cf(this,Aa,void 0),Cf(this,kv,null),Cf(this,mw,void 0),Cf(this,om,void 0),Cf(this,nT,r=>{var n;(n=Mi(this,Aa))==null||n.dispatch(r)}),Cf(this,pw,void 0),this.associateElement(this);let e={};am(this,mw,r=>{Object.entries(r).forEach(([n,i])=>{if(n in e&&e[n]===i)return;this.propagateMediaState(n,i);const s=n.toLowerCase(),a=new Gt.CustomEvent(xQe[s],{composed:!0,detail:i});this.dispatchEvent(a)}),e=r}),this.hasAttribute(un.NO_HOTKEYS)?this.disableHotkeys():this.enableHotkeys()}static get observedAttributes(){return super.observedAttributes.concat(un.NO_HOTKEYS,un.HOTKEYS,un.DEFAULT_STREAM_TYPE,un.DEFAULT_SUBTITLES,un.DEFAULT_DURATION,un.NO_MUTED_PREF,un.NO_VOLUME_PREF,un.LANG,un.LOOP)}get mediaStore(){return Mi(this,Aa)}set mediaStore(e){var r,n;if(Mi(this,Aa)&&((r=Mi(this,om))==null||r.call(this),am(this,om,void 0)),am(this,Aa,e),!Mi(this,Aa)&&!this.hasAttribute(un.NO_DEFAULT_STORE)){ym(this,iT,EO).call(this);return}am(this,om,(n=Mi(this,Aa))==null?void 0:n.subscribe(Mi(this,mw)))}get fullscreenElement(){var e;return(e=Mi(this,Aw))!=null?e:this}set fullscreenElement(e){var r;this.hasAttribute(un.FULLSCREEN_ELEMENT)&&this.removeAttribute(un.FULLSCREEN_ELEMENT),am(this,Aw,e),(r=Mi(this,Aa))==null||r.dispatch({type:"fullscreenelementchangerequest",detail:this.fullscreenElement})}get defaultSubtitles(){return ia(this,un.DEFAULT_SUBTITLES)}set defaultSubtitles(e){sa(this,un.DEFAULT_SUBTITLES,e)}get defaultStreamType(){return Zo(this,un.DEFAULT_STREAM_TYPE)}set defaultStreamType(e){Jo(this,un.DEFAULT_STREAM_TYPE,e)}get defaultDuration(){return Xo(this,un.DEFAULT_DURATION)}set defaultDuration(e){rc(this,un.DEFAULT_DURATION,e)}get noHotkeys(){return ia(this,un.NO_HOTKEYS)}set noHotkeys(e){sa(this,un.NO_HOTKEYS,e)}get keysUsed(){return Zo(this,un.KEYS_USED)}set keysUsed(e){Jo(this,un.KEYS_USED,e)}get liveEdgeOffset(){return Xo(this,un.LIVE_EDGE_OFFSET)}set liveEdgeOffset(e){rc(this,un.LIVE_EDGE_OFFSET,e)}get noAutoSeekToLive(){return ia(this,un.NO_AUTO_SEEK_TO_LIVE)}set noAutoSeekToLive(e){sa(this,un.NO_AUTO_SEEK_TO_LIVE,e)}get noVolumePref(){return ia(this,un.NO_VOLUME_PREF)}set noVolumePref(e){sa(this,un.NO_VOLUME_PREF,e)}get noMutedPref(){return ia(this,un.NO_MUTED_PREF)}set noMutedPref(e){sa(this,un.NO_MUTED_PREF,e)}get noSubtitlesLangPref(){return ia(this,un.NO_SUBTITLES_LANG_PREF)}set noSubtitlesLangPref(e){sa(this,un.NO_SUBTITLES_LANG_PREF,e)}get noDefaultStore(){return ia(this,un.NO_DEFAULT_STORE)}set noDefaultStore(e){sa(this,un.NO_DEFAULT_STORE,e)}attributeChangedCallback(e,r,n){var i,s,a,c,u,o,d,f,A,p,g,y;if(super.attributeChangedCallback(e,r,n),e===un.NO_HOTKEYS)n!==r&&n===""?(this.hasAttribute(un.HOTKEYS)&&console.warn("Media Chrome: Both `hotkeys` and `nohotkeys` have been set. All hotkeys will be disabled."),this.disableHotkeys()):n!==r&&n===null&&this.enableHotkeys();else if(e===un.HOTKEYS)Mi(this,a0).value=n;else if(e===un.DEFAULT_SUBTITLES&&n!==r)(i=Mi(this,Aa))==null||i.dispatch({type:"optionschangerequest",detail:{defaultSubtitles:this.hasAttribute(un.DEFAULT_SUBTITLES)}});else if(e===un.DEFAULT_STREAM_TYPE)(a=Mi(this,Aa))==null||a.dispatch({type:"optionschangerequest",detail:{defaultStreamType:(s=this.getAttribute(un.DEFAULT_STREAM_TYPE))!=null?s:void 0}});else if(e===un.LIVE_EDGE_OFFSET)(c=Mi(this,Aa))==null||c.dispatch({type:"optionschangerequest",detail:{liveEdgeOffset:this.hasAttribute(un.LIVE_EDGE_OFFSET)?+this.getAttribute(un.LIVE_EDGE_OFFSET):void 0,seekToLiveOffset:this.hasAttribute(un.SEEK_TO_LIVE_OFFSET)?void 0:+this.getAttribute(un.LIVE_EDGE_OFFSET)}});else if(e===un.SEEK_TO_LIVE_OFFSET)(u=Mi(this,Aa))==null||u.dispatch({type:"optionschangerequest",detail:{seekToLiveOffset:this.hasAttribute(un.SEEK_TO_LIVE_OFFSET)?+this.getAttribute(un.SEEK_TO_LIVE_OFFSET):void 0}});else if(e===un.NO_AUTO_SEEK_TO_LIVE)(o=Mi(this,Aa))==null||o.dispatch({type:"optionschangerequest",detail:{noAutoSeekToLive:this.hasAttribute(un.NO_AUTO_SEEK_TO_LIVE)}});else if(e===un.FULLSCREEN_ELEMENT){const v=n?(d=this.getRootNode())==null?void 0:d.getElementById(n):void 0;am(this,Aw,v),(f=Mi(this,Aa))==null||f.dispatch({type:"fullscreenelementchangerequest",detail:this.fullscreenElement})}else e===un.LANG&&n!==r?(LQe(n),(A=Mi(this,Aa))==null||A.dispatch({type:"optionschangerequest",detail:{mediaLang:n}})):e===un.LOOP&&n!==r?(p=Mi(this,Aa))==null||p.dispatch({type:Nn.MEDIA_LOOP_REQUEST,detail:n!=null}):e===un.NO_VOLUME_PREF&&n!==r?(g=Mi(this,Aa))==null||g.dispatch({type:"optionschangerequest",detail:{noVolumePref:this.hasAttribute(un.NO_VOLUME_PREF)}}):e===un.NO_MUTED_PREF&&n!==r&&((y=Mi(this,Aa))==null||y.dispatch({type:"optionschangerequest",detail:{noMutedPref:this.hasAttribute(un.NO_MUTED_PREF)}}))}connectedCallback(){var e,r;!Mi(this,Aa)&&!this.hasAttribute(un.NO_DEFAULT_STORE)&&ym(this,iT,EO).call(this),(e=Mi(this,Aa))==null||e.dispatch({type:"documentelementchangerequest",detail:Qc}),super.connectedCallback(),Mi(this,Aa)&&!Mi(this,om)&&am(this,om,(r=Mi(this,Aa))==null?void 0:r.subscribe(Mi(this,mw))),Mi(this,pw)!==void 0&&Mi(this,Aa)&&this.media&&setTimeout(()=>{var n,i,s;(i=(n=this.media)==null?void 0:n.textTracks)!=null&&i.length&&((s=Mi(this,Aa))==null||s.dispatch({type:Nn.MEDIA_TOGGLE_SUBTITLES_REQUEST,detail:Mi(this,pw)}))},0),this.hasAttribute(un.NO_HOTKEYS)?this.disableHotkeys():this.enableHotkeys()}disconnectedCallback(){var e,r,n,i,s;if((e=super.disconnectedCallback)==null||e.call(this),Mi(this,Aa)){const a=Mi(this,Aa).getState();am(this,pw,!!((r=a.mediaSubtitlesShowing)!=null&&r.length)),(n=Mi(this,Aa))==null||n.dispatch({type:"documentelementchangerequest",detail:void 0}),(i=Mi(this,Aa))==null||i.dispatch({type:Nn.MEDIA_TOGGLE_SUBTITLES_REQUEST,detail:!1})}Mi(this,om)&&((s=Mi(this,om))==null||s.call(this),am(this,om,void 0))}mediaSetCallback(e){var r;super.mediaSetCallback(e),(r=Mi(this,Aa))==null||r.dispatch({type:"mediaelementchangerequest",detail:e}),e.hasAttribute("tabindex")||(e.tabIndex=-1)}mediaUnsetCallback(e){var r;super.mediaUnsetCallback(e),(r=Mi(this,Aa))==null||r.dispatch({type:"mediaelementchangerequest",detail:void 0})}propagateMediaState(e,r){xz(this.mediaStateReceivers,e,r)}associateElement(e){if(!e)return;const{associatedElementSubscriptions:r}=this;if(r.has(e))return;const n=this.registerMediaStateReceiver.bind(this),i=this.unregisterMediaStateReceiver.bind(this),s=_Ve(e,n,i);Object.values(Nn).forEach(a=>{e.addEventListener(a,Mi(this,nT))}),r.set(e,s)}unassociateElement(e){if(!e)return;const{associatedElementSubscriptions:r}=this;if(!r.has(e))return;r.get(e)(),r.delete(e),Object.values(Nn).forEach(i=>{e.removeEventListener(i,Mi(this,nT))})}registerMediaStateReceiver(e){if(!e)return;const r=this.mediaStateReceivers;r.indexOf(e)>-1||(r.push(e),Mi(this,Aa)&&Object.entries(Mi(this,Aa).getState()).forEach(([i,s])=>{xz([e],i,s)}))}unregisterMediaStateReceiver(e){const r=this.mediaStateReceivers,n=r.indexOf(e);n<0||r.splice(n,1)}enableHotkeys(){this.addEventListener("keydown",ym(this,sT,SO))}disableHotkeys(){this.removeEventListener("keydown",ym(this,sT,SO)),this.removeEventListener("keyup",ym(this,Hv,lb))}get hotkeys(){return Zo(this,un.HOTKEYS)}set hotkeys(e){Jo(this,un.HOTKEYS,e)}keyboardShortcutHandler(e){var r,n,i,s,a,c,u,o,d;const f=e.target;if(((i=(n=(r=f.getAttribute(un.KEYS_USED))==null?void 0:r.split(" "))!=null?n:f?.keysUsed)!=null?i:[]).map(b=>b==="Space"?" ":b).filter(Boolean).includes(e.key))return;let p,g,y;if(!(Mi(this,a0).contains(`no${e.key.toLowerCase()}`)||e.key===" "&&Mi(this,a0).contains("nospace")||e.shiftKey&&(e.key==="/"||e.key==="?")&&Mi(this,a0).contains("noshift+/")))switch(e.key){case" ":case"k":p=Mi(this,Aa).getState().mediaPaused?Nn.MEDIA_PLAY_REQUEST:Nn.MEDIA_PAUSE_REQUEST,this.dispatchEvent(new Gt.CustomEvent(p,{composed:!0,bubbles:!0}));break;case"m":p=this.mediaStore.getState().mediaVolumeLevel==="off"?Nn.MEDIA_UNMUTE_REQUEST:Nn.MEDIA_MUTE_REQUEST,this.dispatchEvent(new Gt.CustomEvent(p,{composed:!0,bubbles:!0}));break;case"f":p=this.mediaStore.getState().mediaIsFullscreen?Nn.MEDIA_EXIT_FULLSCREEN_REQUEST:Nn.MEDIA_ENTER_FULLSCREEN_REQUEST,this.dispatchEvent(new Gt.CustomEvent(p,{composed:!0,bubbles:!0}));break;case"c":this.dispatchEvent(new Gt.CustomEvent(Nn.MEDIA_TOGGLE_SUBTITLES_REQUEST,{composed:!0,bubbles:!0}));break;case"ArrowLeft":case"j":{const b=this.hasAttribute(un.KEYBOARD_BACKWARD_SEEK_OFFSET)?+this.getAttribute(un.KEYBOARD_BACKWARD_SEEK_OFFSET):mz;g=Math.max(((s=this.mediaStore.getState().mediaCurrentTime)!=null?s:0)-b,0),y=new Gt.CustomEvent(Nn.MEDIA_SEEK_REQUEST,{composed:!0,bubbles:!0,detail:g}),this.dispatchEvent(y);break}case"ArrowRight":case"l":{const b=this.hasAttribute(un.KEYBOARD_FORWARD_SEEK_OFFSET)?+this.getAttribute(un.KEYBOARD_FORWARD_SEEK_OFFSET):mz;g=Math.max(((a=this.mediaStore.getState().mediaCurrentTime)!=null?a:0)+b,0),y=new Gt.CustomEvent(Nn.MEDIA_SEEK_REQUEST,{composed:!0,bubbles:!0,detail:g}),this.dispatchEvent(y);break}case"ArrowUp":{const b=this.hasAttribute(un.KEYBOARD_UP_VOLUME_STEP)?+this.getAttribute(un.KEYBOARD_UP_VOLUME_STEP):pz;g=Math.min(((c=this.mediaStore.getState().mediaVolume)!=null?c:1)+b,1),y=new Gt.CustomEvent(Nn.MEDIA_VOLUME_REQUEST,{composed:!0,bubbles:!0,detail:g}),this.dispatchEvent(y);break}case"ArrowDown":{const b=this.hasAttribute(un.KEYBOARD_DOWN_VOLUME_STEP)?+this.getAttribute(un.KEYBOARD_DOWN_VOLUME_STEP):pz;g=Math.max(((u=this.mediaStore.getState().mediaVolume)!=null?u:1)-b,0),y=new Gt.CustomEvent(Nn.MEDIA_VOLUME_REQUEST,{composed:!0,bubbles:!0,detail:g}),this.dispatchEvent(y);break}case"<":{const b=(o=this.mediaStore.getState().mediaPlaybackRate)!=null?o:1;g=Math.max(b-gz,vVe).toFixed(2),y=new Gt.CustomEvent(Nn.MEDIA_PLAYBACK_RATE_REQUEST,{composed:!0,bubbles:!0,detail:g}),this.dispatchEvent(y);break}case">":{const b=(d=this.mediaStore.getState().mediaPlaybackRate)!=null?d:1;g=Math.min(b+gz,yVe).toFixed(2),y=new Gt.CustomEvent(Nn.MEDIA_PLAYBACK_RATE_REQUEST,{composed:!0,bubbles:!0,detail:g}),this.dispatchEvent(y);break}case"/":case"?":{e.shiftKey&&ym(this,_O,$se).call(this);break}case"p":{p=this.mediaStore.getState().mediaIsPip?Nn.MEDIA_EXIT_PIP_REQUEST:Nn.MEDIA_ENTER_PIP_REQUEST,y=new Gt.CustomEvent(p,{composed:!0,bubbles:!0}),this.dispatchEvent(y);break}}}}a0=new WeakMap;Aw=new WeakMap;Aa=new WeakMap;kv=new WeakMap;mw=new WeakMap;om=new WeakMap;nT=new WeakMap;pw=new WeakMap;iT=new WeakSet;EO=function(){var t;this.mediaStore=gVe({media:this.media,fullscreenElement:this.fullscreenElement,options:{defaultSubtitles:this.hasAttribute(un.DEFAULT_SUBTITLES),defaultDuration:this.hasAttribute(un.DEFAULT_DURATION)?+this.getAttribute(un.DEFAULT_DURATION):void 0,defaultStreamType:(t=this.getAttribute(un.DEFAULT_STREAM_TYPE))!=null?t:void 0,liveEdgeOffset:this.hasAttribute(un.LIVE_EDGE_OFFSET)?+this.getAttribute(un.LIVE_EDGE_OFFSET):void 0,seekToLiveOffset:this.hasAttribute(un.SEEK_TO_LIVE_OFFSET)?+this.getAttribute(un.SEEK_TO_LIVE_OFFSET):this.hasAttribute(un.LIVE_EDGE_OFFSET)?+this.getAttribute(un.LIVE_EDGE_OFFSET):void 0,noAutoSeekToLive:this.hasAttribute(un.NO_AUTO_SEEK_TO_LIVE),noVolumePref:this.hasAttribute(un.NO_VOLUME_PREF),noMutedPref:this.hasAttribute(un.NO_MUTED_PREF),noSubtitlesLangPref:this.hasAttribute(un.NO_SUBTITLES_LANG_PREF)}})};Hv=new WeakSet;lb=function(t){const{key:e,shiftKey:r}=t;if(!(r&&(e==="/"||e==="?")||Hse.includes(e))){this.removeEventListener("keyup",ym(this,Hv,lb));return}this.keyboardShortcutHandler(t)};sT=new WeakSet;SO=function(t){var e;const{metaKey:r,altKey:n,key:i,shiftKey:s}=t,a=s&&(i==="/"||i==="?");if(a&&((e=Mi(this,kv))!=null&&e.open)){this.removeEventListener("keyup",ym(this,Hv,lb));return}if(r||n||!a&&!Hse.includes(i)){this.removeEventListener("keyup",ym(this,Hv,lb));return}const c=t.target,u=c instanceof HTMLElement&&(c.tagName.toLowerCase()==="media-volume-range"||c.tagName.toLowerCase()==="media-time-range");[" ","ArrowLeft","ArrowRight","ArrowUp","ArrowDown"].includes(i)&&!(Mi(this,a0).contains(`no${i.toLowerCase()}`)||i===" "&&Mi(this,a0).contains("nospace"))&&!u&&t.preventDefault(),this.addEventListener("keyup",ym(this,Hv,lb),{once:!0})};_O=new WeakSet;$se=function(){Mi(this,kv)||(am(this,kv,Qc.createElement("media-keyboard-shortcuts-dialog")),this.appendChild(Mi(this,kv))),Mi(this,kv).open=!0};const xVe=Object.values(it),bVe=Object.values(Ase),Vse=t=>{var e,r,n,i;let{observedAttributes:s}=t.constructor;!s&&((e=t.nodeName)!=null&&e.includes("-"))&&(Gt.customElements.upgrade(t),{observedAttributes:s}=t.constructor);const a=(i=(n=(r=t?.getAttribute)==null?void 0:r.call(t,ka.MEDIA_CHROME_ATTRIBUTES))==null?void 0:n.split)==null?void 0:i.call(n,/\s+/);return Array.isArray(s||a)?(s||a).filter(c=>xVe.includes(c)):[]},wVe=t=>{var e,r;return(e=t.nodeName)!=null&&e.includes("-")&&Gt.customElements.get((r=t.nodeName)==null?void 0:r.toLowerCase())&&!(t instanceof Gt.customElements.get(t.nodeName.toLowerCase()))&&Gt.customElements.upgrade(t),bVe.some(n=>n in t)},TO=t=>wVe(t)||!!Vse(t).length,vz=t=>{var e;return(e=t?.join)==null?void 0:e.call(t,":")},yz={[it.MEDIA_SUBTITLES_LIST]:VE,[it.MEDIA_SUBTITLES_SHOWING]:VE,[it.MEDIA_SEEKABLE]:vz,[it.MEDIA_BUFFERED]:t=>t?.map(vz).join(" "),[it.MEDIA_PREVIEW_COORDS]:t=>t?.join(" "),[it.MEDIA_RENDITION_LIST]:wQe,[it.MEDIA_AUDIO_TRACK_LIST]:TQe},EVe=async(t,e,r)=>{var n,i;if(t.isConnected||await gse(0),typeof r=="boolean"||r==null)return sa(t,e,r);if(typeof r=="number")return rc(t,e,r);if(typeof r=="string")return Jo(t,e,r);if(Array.isArray(r)&&!r.length)return t.removeAttribute(e);const s=(i=(n=yz[e])==null?void 0:n.call(yz,r))!=null?i:r;return t.setAttribute(e,s)},SVe=t=>{var e;return!!((e=t.closest)!=null&&e.call(t,'*[slot="media"]'))},cv=(t,e)=>{if(SVe(t))return;const r=(i,s)=>{var a,c;TO(i)&&s(i);const{children:u=[]}=i??{},o=(c=(a=i?.shadowRoot)==null?void 0:a.children)!=null?c:[];[...u,...o].forEach(f=>cv(f,s))},n=t?.nodeName.toLowerCase();if(n.includes("-")&&!TO(t)){Gt.customElements.whenDefined(n).then(()=>{r(t,e)});return}r(t,e)},xz=(t,e,r)=>{t.forEach(n=>{if(e in n){n[e]=r;return}const i=Vse(n),s=e.toLowerCase();i.includes(s)&&EVe(n,s,r)})},_Ve=(t,e,r)=>{cv(t,e);const n=d=>{var f;const A=(f=d?.composedPath()[0])!=null?f:d.target;e(A)},i=d=>{var f;const A=(f=d?.composedPath()[0])!=null?f:d.target;r(A)};t.addEventListener(Nn.REGISTER_MEDIA_STATE_RECEIVER,n),t.addEventListener(Nn.UNREGISTER_MEDIA_STATE_RECEIVER,i);const s=d=>{d.forEach(f=>{const{addedNodes:A=[],removedNodes:p=[],type:g,target:y,attributeName:v}=f;g==="childList"?(Array.prototype.forEach.call(A,b=>cv(b,e)),Array.prototype.forEach.call(p,b=>cv(b,r))):g==="attributes"&&v===ka.MEDIA_CHROME_ATTRIBUTES&&(TO(y)?e(y):r(y))})};let a=[];const c=d=>{const f=d.target;f.name!=="media"&&(a.forEach(A=>cv(A,r)),a=[...f.assignedElements({flatten:!0})],a.forEach(A=>cv(A,e)))};t.addEventListener("slotchange",c);const u=new MutationObserver(s);return u.observe(t,{childList:!0,attributes:!0,subtree:!0}),()=>{cv(t,r),t.removeEventListener("slotchange",c),u.disconnect(),t.removeEventListener(Nn.REGISTER_MEDIA_STATE_RECEIVER,n),t.removeEventListener(Nn.UNREGISTER_MEDIA_STATE_RECEIVER,i)}};Gt.customElements.get("media-controller")||Gt.customElements.define("media-controller",Qse);var TVe=Qse;const Jy={PLACEMENT:"placement",BOUNDS:"bounds"};function CVe(t){return`
    <style>
      :host {
        --_tooltip-background-color: var(--media-tooltip-background-color, var(--media-secondary-color, rgba(20, 20, 30, .7)));
        --_tooltip-background: var(--media-tooltip-background, var(--_tooltip-background-color));
        --_tooltip-arrow-half-width: calc(var(--media-tooltip-arrow-width, 12px) / 2);
        --_tooltip-arrow-height: var(--media-tooltip-arrow-height, 5px);
        --_tooltip-arrow-background: var(--media-tooltip-arrow-color, var(--_tooltip-background-color));
        position: relative;
        pointer-events: none;
        display: var(--media-tooltip-display, inline-flex);
        justify-content: center;
        align-items: center;
        box-sizing: border-box;
        z-index: var(--media-tooltip-z-index, 1);
        background: var(--_tooltip-background);
        color: var(--media-text-color, var(--media-primary-color, rgb(238 238 238)));
        font: var(--media-font,
          var(--media-font-weight, 400)
          var(--media-font-size, 13px) /
          var(--media-text-content-height, var(--media-control-height, 18px))
          var(--media-font-family, helvetica neue, segoe ui, roboto, arial, sans-serif));
        padding: var(--media-tooltip-padding, .35em .7em);
        border: var(--media-tooltip-border, none);
        border-radius: var(--media-tooltip-border-radius, 5px);
        filter: var(--media-tooltip-filter, drop-shadow(0 0 4px rgba(0, 0, 0, .2)));
        white-space: var(--media-tooltip-white-space, nowrap);
      }

      :host([hidden]) {
        display: none;
      }

      img, svg {
        display: inline-block;
      }

      #arrow {
        position: absolute;
        width: 0px;
        height: 0px;
        border-style: solid;
        display: var(--media-tooltip-arrow-display, block);
      }

      :host(:not([placement])),
      :host([placement="top"]) {
        position: absolute;
        bottom: calc(100% + var(--media-tooltip-distance, 12px));
        left: 50%;
        transform: translate(calc(-50% - var(--media-tooltip-offset-x, 0px)), 0);
      }
      :host(:not([placement])) #arrow,
      :host([placement="top"]) #arrow {
        top: 100%;
        left: 50%;
        border-width: var(--_tooltip-arrow-height) var(--_tooltip-arrow-half-width) 0 var(--_tooltip-arrow-half-width);
        border-color: var(--_tooltip-arrow-background) transparent transparent transparent;
        transform: translate(calc(-50% + var(--media-tooltip-offset-x, 0px)), 0);
      }

      :host([placement="right"]) {
        position: absolute;
        left: calc(100% + var(--media-tooltip-distance, 12px));
        top: 50%;
        transform: translate(0, -50%);
      }
      :host([placement="right"]) #arrow {
        top: 50%;
        right: 100%;
        border-width: var(--_tooltip-arrow-half-width) var(--_tooltip-arrow-height) var(--_tooltip-arrow-half-width) 0;
        border-color: transparent var(--_tooltip-arrow-background) transparent transparent;
        transform: translate(0, -50%);
      }

      :host([placement="bottom"]) {
        position: absolute;
        top: calc(100% + var(--media-tooltip-distance, 12px));
        left: 50%;
        transform: translate(calc(-50% - var(--media-tooltip-offset-x, 0px)), 0);
      }
      :host([placement="bottom"]) #arrow {
        bottom: 100%;
        left: 50%;
        border-width: 0 var(--_tooltip-arrow-half-width) var(--_tooltip-arrow-height) var(--_tooltip-arrow-half-width);
        border-color: transparent transparent var(--_tooltip-arrow-background) transparent;
        transform: translate(calc(-50% + var(--media-tooltip-offset-x, 0px)), 0);
      }

      :host([placement="left"]) {
        position: absolute;
        right: calc(100% + var(--media-tooltip-distance, 12px));
        top: 50%;
        transform: translate(0, -50%);
      }
      :host([placement="left"]) #arrow {
        top: 50%;
        left: 100%;
        border-width: var(--_tooltip-arrow-half-width) 0 var(--_tooltip-arrow-half-width) var(--_tooltip-arrow-height);
        border-color: transparent transparent transparent var(--_tooltip-arrow-background);
        transform: translate(0, -50%);
      }
      
      :host([placement="none"]) #arrow {
        display: none;
      }
    </style>
    <slot></slot>
    <div id="arrow"></div>
  `}class B5 extends Gt.HTMLElement{constructor(){if(super(),this.updateXOffset=()=>{var e;if(!Tse(this,{checkOpacity:!1,checkVisibilityCSS:!1}))return;const r=this.placement;if(r==="left"||r==="right"){this.style.removeProperty("--media-tooltip-offset-x");return}const n=getComputedStyle(this),i=(e=s1(this,"#"+this.bounds))!=null?e:Nh(this);if(!i)return;const{x:s,width:a}=i.getBoundingClientRect(),{x:c,width:u}=this.getBoundingClientRect(),o=c+u,d=s+a,f=n.getPropertyValue("--media-tooltip-offset-x"),A=f?parseFloat(f.replace("px","")):0,p=n.getPropertyValue("--media-tooltip-container-margin"),g=p?parseFloat(p.replace("px","")):0,y=c-s+A-g,v=o-d+A+g;if(y<0){this.style.setProperty("--media-tooltip-offset-x",`${y}px`);return}if(v>0){this.style.setProperty("--media-tooltip-offset-x",`${v}px`);return}this.style.removeProperty("--media-tooltip-offset-x")},!this.shadowRoot){this.attachShadow(this.constructor.shadowRootOptions);const e=ff(this.attributes);this.shadowRoot.innerHTML=this.constructor.getTemplateHTML(e)}if(this.arrowEl=this.shadowRoot.querySelector("#arrow"),Object.prototype.hasOwnProperty.call(this,"placement")){const e=this.placement;delete this.placement,this.placement=e}}static get observedAttributes(){return[Jy.PLACEMENT,Jy.BOUNDS]}get placement(){return Zo(this,Jy.PLACEMENT)}set placement(e){Jo(this,Jy.PLACEMENT,e)}get bounds(){return Zo(this,Jy.BOUNDS)}set bounds(e){Jo(this,Jy.BOUNDS,e)}}B5.shadowRootOptions={mode:"open"};B5.getTemplateHTML=CVe;Gt.customElements.get("media-tooltip")||Gt.customElements.define("media-tooltip",B5);var bz=B5,BF=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},Dc=(t,e,r)=>(BF(t,e,"read from private field"),r?r.call(t):e.get(t)),ex=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},o_=(t,e,r,n)=>(BF(t,e,"write to private field"),e.set(t,r),r),jVe=(t,e,r)=>(BF(t,e,"access private method"),r),lm,zx,o0,vx,aT,CO,Kse;const Mg={TOOLTIP_PLACEMENT:"tooltipplacement",DISABLED:"disabled",NO_TOOLTIP:"notooltip"};function NVe(t,e={}){return`
    <style>
      :host {
        position: relative;
        font: var(--media-font,
          var(--media-font-weight, bold)
          var(--media-font-size, 14px) /
          var(--media-text-content-height, var(--media-control-height, 24px))
          var(--media-font-family, helvetica neue, segoe ui, roboto, arial, sans-serif));
        color: var(--media-text-color, var(--media-primary-color, rgb(238 238 238)));
        background: var(--media-control-background, var(--media-secondary-color, rgb(20 20 30 / .7)));
        padding: var(--media-button-padding, var(--media-control-padding, 10px));
        justify-content: var(--media-button-justify-content, center);
        display: inline-flex;
        align-items: center;
        vertical-align: middle;
        box-sizing: border-box;
        transition: background .15s linear;
        pointer-events: auto;
        cursor: var(--media-cursor, pointer);
        -webkit-tap-highlight-color: transparent;
      }

      
      :host(:focus-visible) {
        box-shadow: var(--media-focus-box-shadow, inset 0 0 0 2px rgb(27 127 204 / .9));
        outline: 0;
      }
      
      :host(:where(:focus)) {
        box-shadow: none;
        outline: 0;
      }

      :host(:hover) {
        background: var(--media-control-hover-background, rgba(50 50 70 / .7));
      }

      svg, img, ::slotted(svg), ::slotted(img) {
        width: var(--media-button-icon-width);
        height: var(--media-button-icon-height, var(--media-control-height, 24px));
        transform: var(--media-button-icon-transform);
        transition: var(--media-button-icon-transition);
        fill: var(--media-icon-color, var(--media-primary-color, rgb(238 238 238)));
        vertical-align: middle;
        max-width: 100%;
        max-height: 100%;
        min-width: 100%;
      }

      media-tooltip {
        
        max-width: 0;
        overflow-x: clip;
        opacity: 0;
        transition: opacity .3s, max-width 0s 9s;
      }

      :host(:hover) media-tooltip,
      :host(:focus-visible) media-tooltip {
        max-width: 100vw;
        opacity: 1;
        transition: opacity .3s;
      }

      :host([notooltip]) slot[name="tooltip"] {
        display: none;
      }
    </style>

    ${this.getSlotTemplateHTML(t,e)}

    <slot name="tooltip">
      <media-tooltip part="tooltip" aria-hidden="true">
        <template shadowrootmode="${bz.shadowRootOptions.mode}">
          ${bz.getTemplateHTML({})}
        </template>
        <slot name="tooltip-content">
          ${this.getTooltipContentHTML(t)}
        </slot>
      </media-tooltip>
    </slot>
  `}function IVe(t,e){return`
    <slot></slot>
  `}function kVe(){return""}class Wu extends Gt.HTMLElement{constructor(){if(super(),ex(this,CO),ex(this,lm,void 0),this.preventClick=!1,this.tooltipEl=null,ex(this,zx,e=>{this.preventClick||this.handleClick(e),setTimeout(Dc(this,o0),0)}),ex(this,o0,()=>{var e,r;(r=(e=this.tooltipEl)==null?void 0:e.updateXOffset)==null||r.call(e)}),ex(this,vx,e=>{const{key:r}=e;if(!this.keysUsed.includes(r)){this.removeEventListener("keyup",Dc(this,vx));return}this.preventClick||this.handleClick(e)}),ex(this,aT,e=>{const{metaKey:r,altKey:n,key:i}=e;if(r||n||!this.keysUsed.includes(i)){this.removeEventListener("keyup",Dc(this,vx));return}this.addEventListener("keyup",Dc(this,vx),{once:!0})}),!this.shadowRoot){this.attachShadow(this.constructor.shadowRootOptions);const e=ff(this.attributes),r=this.constructor.getTemplateHTML(e);this.shadowRoot.setHTMLUnsafe?this.shadowRoot.setHTMLUnsafe(r):this.shadowRoot.innerHTML=r}this.tooltipEl=this.shadowRoot.querySelector("media-tooltip")}static get observedAttributes(){return["disabled",Mg.TOOLTIP_PLACEMENT,ka.MEDIA_CONTROLLER,it.MEDIA_LANG]}enable(){this.addEventListener("click",Dc(this,zx)),this.addEventListener("keydown",Dc(this,aT)),this.tabIndex=0}disable(){this.removeEventListener("click",Dc(this,zx)),this.removeEventListener("keydown",Dc(this,aT)),this.removeEventListener("keyup",Dc(this,vx)),this.tabIndex=-1}attributeChangedCallback(e,r,n){var i,s,a,c,u;e===ka.MEDIA_CONTROLLER?(r&&((s=(i=Dc(this,lm))==null?void 0:i.unassociateElement)==null||s.call(i,this),o_(this,lm,null)),n&&this.isConnected&&(o_(this,lm,(a=this.getRootNode())==null?void 0:a.getElementById(n)),(u=(c=Dc(this,lm))==null?void 0:c.associateElement)==null||u.call(c,this))):e==="disabled"&&n!==r?n==null?this.enable():this.disable():e===Mg.TOOLTIP_PLACEMENT&&this.tooltipEl&&n!==r?this.tooltipEl.placement=n:e===it.MEDIA_LANG&&(this.shadowRoot.querySelector('slot[name="tooltip-content"]').innerHTML=this.constructor.getTooltipContentHTML()),Dc(this,o0).call(this)}connectedCallback(){var e,r,n;const{style:i}=hu(this.shadowRoot,":host");i.setProperty("display",`var(--media-control-display, var(--${this.localName}-display, inline-flex))`),this.hasAttribute("disabled")?this.disable():this.enable(),this.setAttribute("role","button");const s=this.getAttribute(ka.MEDIA_CONTROLLER);s&&(o_(this,lm,(e=this.getRootNode())==null?void 0:e.getElementById(s)),(n=(r=Dc(this,lm))==null?void 0:r.associateElement)==null||n.call(r,this)),Gt.customElements.whenDefined("media-tooltip").then(()=>jVe(this,CO,Kse).call(this))}disconnectedCallback(){var e,r;this.disable(),(r=(e=Dc(this,lm))==null?void 0:e.unassociateElement)==null||r.call(e,this),o_(this,lm,null),this.removeEventListener("mouseenter",Dc(this,o0)),this.removeEventListener("focus",Dc(this,o0)),this.removeEventListener("click",Dc(this,zx))}get keysUsed(){return["Enter"," "]}get tooltipPlacement(){return Zo(this,Mg.TOOLTIP_PLACEMENT)}set tooltipPlacement(e){Jo(this,Mg.TOOLTIP_PLACEMENT,e)}get mediaController(){return Zo(this,ka.MEDIA_CONTROLLER)}set mediaController(e){Jo(this,ka.MEDIA_CONTROLLER,e)}get disabled(){return ia(this,Mg.DISABLED)}set disabled(e){sa(this,Mg.DISABLED,e)}get noTooltip(){return ia(this,Mg.NO_TOOLTIP)}set noTooltip(e){sa(this,Mg.NO_TOOLTIP,e)}handleClick(e){}}lm=new WeakMap;zx=new WeakMap;o0=new WeakMap;vx=new WeakMap;aT=new WeakMap;CO=new WeakSet;Kse=function(){this.addEventListener("mouseenter",Dc(this,o0)),this.addEventListener("focus",Dc(this,o0)),this.addEventListener("click",Dc(this,zx));const t=this.tooltipPlacement;t&&this.tooltipEl&&(this.tooltipEl.placement=t)};Wu.shadowRootOptions={mode:"open"};Wu.getTemplateHTML=NVe;Wu.getSlotTemplateHTML=IVe;Wu.getTooltipContentHTML=kVe;Gt.customElements.get("media-chrome-button")||Gt.customElements.define("media-chrome-button",Wu);const wz=`<svg aria-hidden="true" viewBox="0 0 26 24">
  <path d="M22.13 3H3.87a.87.87 0 0 0-.87.87v13.26a.87.87 0 0 0 .87.87h3.4L9 16H5V5h16v11h-4l1.72 2h3.4a.87.87 0 0 0 .87-.87V3.87a.87.87 0 0 0-.86-.87Zm-8.75 11.44a.5.5 0 0 0-.76 0l-4.91 5.73a.5.5 0 0 0 .38.83h9.82a.501.501 0 0 0 .38-.83l-4.91-5.73Z"/>
</svg>
`;function BVe(t){return`
    <style>
      :host([${it.MEDIA_IS_AIRPLAYING}]) slot[name=icon] slot:not([name=exit]) {
        display: none !important;
      }

      
      :host(:not([${it.MEDIA_IS_AIRPLAYING}])) slot[name=icon] slot:not([name=enter]) {
        display: none !important;
      }

      :host([${it.MEDIA_IS_AIRPLAYING}]) slot[name=tooltip-enter],
      :host(:not([${it.MEDIA_IS_AIRPLAYING}])) slot[name=tooltip-exit] {
        display: none;
      }
    </style>

    <slot name="icon">
      <slot name="enter">${wz}</slot>
      <slot name="exit">${wz}</slot>
    </slot>
  `}function LVe(){return`
    <slot name="tooltip-enter">${Xn("start airplay")}</slot>
    <slot name="tooltip-exit">${Xn("stop airplay")}</slot>
  `}const Ez=t=>{const e=t.mediaIsAirplaying?Xn("stop airplay"):Xn("start airplay");t.setAttribute("aria-label",e)};class LF extends Wu{static get observedAttributes(){return[...super.observedAttributes,it.MEDIA_IS_AIRPLAYING,it.MEDIA_AIRPLAY_UNAVAILABLE]}connectedCallback(){super.connectedCallback(),Ez(this)}attributeChangedCallback(e,r,n){super.attributeChangedCallback(e,r,n),e===it.MEDIA_IS_AIRPLAYING&&Ez(this)}get mediaIsAirplaying(){return ia(this,it.MEDIA_IS_AIRPLAYING)}set mediaIsAirplaying(e){sa(this,it.MEDIA_IS_AIRPLAYING,e)}get mediaAirplayUnavailable(){return Zo(this,it.MEDIA_AIRPLAY_UNAVAILABLE)}set mediaAirplayUnavailable(e){Jo(this,it.MEDIA_AIRPLAY_UNAVAILABLE,e)}handleClick(){const e=new Gt.CustomEvent(Nn.MEDIA_AIRPLAY_REQUEST,{composed:!0,bubbles:!0});this.dispatchEvent(e)}}LF.getSlotTemplateHTML=BVe;LF.getTooltipContentHTML=LVe;Gt.customElements.get("media-airplay-button")||Gt.customElements.define("media-airplay-button",LF);const RVe=`<svg aria-hidden="true" viewBox="0 0 26 24">
  <path d="M22.83 5.68a2.58 2.58 0 0 0-2.3-2.5c-3.62-.24-11.44-.24-15.06 0a2.58 2.58 0 0 0-2.3 2.5c-.23 4.21-.23 8.43 0 12.64a2.58 2.58 0 0 0 2.3 2.5c3.62.24 11.44.24 15.06 0a2.58 2.58 0 0 0 2.3-2.5c.23-4.21.23-8.43 0-12.64Zm-11.39 9.45a3.07 3.07 0 0 1-1.91.57 3.06 3.06 0 0 1-2.34-1 3.75 3.75 0 0 1-.92-2.67 3.92 3.92 0 0 1 .92-2.77 3.18 3.18 0 0 1 2.43-1 2.94 2.94 0 0 1 2.13.78c.364.359.62.813.74 1.31l-1.43.35a1.49 1.49 0 0 0-1.51-1.17 1.61 1.61 0 0 0-1.29.58 2.79 2.79 0 0 0-.5 1.89 3 3 0 0 0 .49 1.93 1.61 1.61 0 0 0 1.27.58 1.48 1.48 0 0 0 1-.37 2.1 2.1 0 0 0 .59-1.14l1.4.44a3.23 3.23 0 0 1-1.07 1.69Zm7.22 0a3.07 3.07 0 0 1-1.91.57 3.06 3.06 0 0 1-2.34-1 3.75 3.75 0 0 1-.92-2.67 3.88 3.88 0 0 1 .93-2.77 3.14 3.14 0 0 1 2.42-1 3 3 0 0 1 2.16.82 2.8 2.8 0 0 1 .73 1.31l-1.43.35a1.49 1.49 0 0 0-1.51-1.21 1.61 1.61 0 0 0-1.29.58A2.79 2.79 0 0 0 15 12a3 3 0 0 0 .49 1.93 1.61 1.61 0 0 0 1.27.58 1.44 1.44 0 0 0 1-.37 2.1 2.1 0 0 0 .6-1.15l1.4.44a3.17 3.17 0 0 1-1.1 1.7Z"/>
</svg>`,OVe=`<svg aria-hidden="true" viewBox="0 0 26 24">
  <path d="M17.73 14.09a1.4 1.4 0 0 1-1 .37 1.579 1.579 0 0 1-1.27-.58A3 3 0 0 1 15 12a2.8 2.8 0 0 1 .5-1.85 1.63 1.63 0 0 1 1.29-.57 1.47 1.47 0 0 1 1.51 1.2l1.43-.34A2.89 2.89 0 0 0 19 9.07a3 3 0 0 0-2.14-.78 3.14 3.14 0 0 0-2.42 1 3.91 3.91 0 0 0-.93 2.78 3.74 3.74 0 0 0 .92 2.66 3.07 3.07 0 0 0 2.34 1 3.07 3.07 0 0 0 1.91-.57 3.17 3.17 0 0 0 1.07-1.74l-1.4-.45c-.083.43-.3.822-.62 1.12Zm-7.22 0a1.43 1.43 0 0 1-1 .37 1.58 1.58 0 0 1-1.27-.58A3 3 0 0 1 7.76 12a2.8 2.8 0 0 1 .5-1.85 1.63 1.63 0 0 1 1.29-.57 1.47 1.47 0 0 1 1.51 1.2l1.43-.34a2.81 2.81 0 0 0-.74-1.32 2.94 2.94 0 0 0-2.13-.78 3.18 3.18 0 0 0-2.43 1 4 4 0 0 0-.92 2.78 3.74 3.74 0 0 0 .92 2.66 3.07 3.07 0 0 0 2.34 1 3.07 3.07 0 0 0 1.91-.57 3.23 3.23 0 0 0 1.07-1.74l-1.4-.45a2.06 2.06 0 0 1-.6 1.07Zm12.32-8.41a2.59 2.59 0 0 0-2.3-2.51C18.72 3.05 15.86 3 13 3c-2.86 0-5.72.05-7.53.17a2.59 2.59 0 0 0-2.3 2.51c-.23 4.207-.23 8.423 0 12.63a2.57 2.57 0 0 0 2.3 2.5c1.81.13 4.67.19 7.53.19 2.86 0 5.72-.06 7.53-.19a2.57 2.57 0 0 0 2.3-2.5c.23-4.207.23-8.423 0-12.63Zm-1.49 12.53a1.11 1.11 0 0 1-.91 1.11c-1.67.11-4.45.18-7.43.18-2.98 0-5.76-.07-7.43-.18a1.11 1.11 0 0 1-.91-1.11c-.21-4.14-.21-8.29 0-12.43a1.11 1.11 0 0 1 .91-1.11C7.24 4.56 10 4.49 13 4.49s5.76.07 7.43.18a1.11 1.11 0 0 1 .91 1.11c.21 4.14.21 8.29 0 12.43Z"/>
</svg>`;function PVe(t){return`
    <style>
      :host([aria-checked="true"]) slot[name=off] {
        display: none !important;
      }

      
      :host(:not([aria-checked="true"])) slot[name=on] {
        display: none !important;
      }

      :host([aria-checked="true"]) slot[name=tooltip-enable],
      :host(:not([aria-checked="true"])) slot[name=tooltip-disable] {
        display: none;
      }
    </style>

    <slot name="icon">
      <slot name="on">${RVe}</slot>
      <slot name="off">${OVe}</slot>
    </slot>
  `}function DVe(){return`
    <slot name="tooltip-enable">${Xn("Enable captions")}</slot>
    <slot name="tooltip-disable">${Xn("Disable captions")}</slot>
  `}const Sz=t=>{t.setAttribute("aria-checked",Pse(t).toString())};class RF extends Wu{static get observedAttributes(){return[...super.observedAttributes,it.MEDIA_SUBTITLES_LIST,it.MEDIA_SUBTITLES_SHOWING]}connectedCallback(){super.connectedCallback(),this.setAttribute("role","switch"),this.setAttribute("aria-label",Xn("closed captions")),Sz(this)}attributeChangedCallback(e,r,n){super.attributeChangedCallback(e,r,n),e===it.MEDIA_SUBTITLES_SHOWING&&Sz(this)}get mediaSubtitlesList(){return _z(this,it.MEDIA_SUBTITLES_LIST)}set mediaSubtitlesList(e){Tz(this,it.MEDIA_SUBTITLES_LIST,e)}get mediaSubtitlesShowing(){return _z(this,it.MEDIA_SUBTITLES_SHOWING)}set mediaSubtitlesShowing(e){Tz(this,it.MEDIA_SUBTITLES_SHOWING,e)}handleClick(){this.dispatchEvent(new Gt.CustomEvent(Nn.MEDIA_TOGGLE_SUBTITLES_REQUEST,{composed:!0,bubbles:!0}))}}RF.getSlotTemplateHTML=PVe;RF.getTooltipContentHTML=DVe;const _z=(t,e)=>{const r=t.getAttribute(e);return r?I5(r):[]},Tz=(t,e,r)=>{if(!r?.length){t.removeAttribute(e);return}const n=VE(r);t.getAttribute(e)!==n&&t.setAttribute(e,n)};Gt.customElements.get("media-captions-button")||Gt.customElements.define("media-captions-button",RF);const MVe='<svg aria-hidden="true" viewBox="0 0 24 24"><g><path class="cast_caf_icon_arch0" d="M1,18 L1,21 L4,21 C4,19.3 2.66,18 1,18 L1,18 Z"/><path class="cast_caf_icon_arch1" d="M1,14 L1,16 C3.76,16 6,18.2 6,21 L8,21 C8,17.13 4.87,14 1,14 L1,14 Z"/><path class="cast_caf_icon_arch2" d="M1,10 L1,12 C5.97,12 10,16.0 10,21 L12,21 C12,14.92 7.07,10 1,10 L1,10 Z"/><path class="cast_caf_icon_box" d="M21,3 L3,3 C1.9,3 1,3.9 1,5 L1,8 L3,8 L3,5 L21,5 L21,19 L14,19 L14,21 L21,21 C22.1,21 23,20.1 23,19 L23,5 C23,3.9 22.1,3 21,3 L21,3 Z"/></g></svg>',FVe='<svg aria-hidden="true" viewBox="0 0 24 24"><g><path class="cast_caf_icon_arch0" d="M1,18 L1,21 L4,21 C4,19.3 2.66,18 1,18 L1,18 Z"/><path class="cast_caf_icon_arch1" d="M1,14 L1,16 C3.76,16 6,18.2 6,21 L8,21 C8,17.13 4.87,14 1,14 L1,14 Z"/><path class="cast_caf_icon_arch2" d="M1,10 L1,12 C5.97,12 10,16.0 10,21 L12,21 C12,14.92 7.07,10 1,10 L1,10 Z"/><path class="cast_caf_icon_box" d="M21,3 L3,3 C1.9,3 1,3.9 1,5 L1,8 L3,8 L3,5 L21,5 L21,19 L14,19 L14,21 L21,21 C22.1,21 23,20.1 23,19 L23,5 C23,3.9 22.1,3 21,3 L21,3 Z"/><path class="cast_caf_icon_boxfill" d="M5,7 L5,8.63 C8,8.6 13.37,14 13.37,17 L19,17 L19,7 Z"/></g></svg>';function UVe(t){return`
    <style>
      :host([${it.MEDIA_IS_CASTING}]) slot[name=icon] slot:not([name=exit]) {
        display: none !important;
      }

      
      :host(:not([${it.MEDIA_IS_CASTING}])) slot[name=icon] slot:not([name=enter]) {
        display: none !important;
      }

      :host([${it.MEDIA_IS_CASTING}]) slot[name=tooltip-enter],
      :host(:not([${it.MEDIA_IS_CASTING}])) slot[name=tooltip-exit] {
        display: none;
      }
    </style>

    <slot name="icon">
      <slot name="enter">${MVe}</slot>
      <slot name="exit">${FVe}</slot>
    </slot>
  `}function $Ve(){return`
    <slot name="tooltip-enter">${Xn("Start casting")}</slot>
    <slot name="tooltip-exit">${Xn("Stop casting")}</slot>
  `}const Cz=t=>{const e=t.mediaIsCasting?Xn("stop casting"):Xn("start casting");t.setAttribute("aria-label",e)};class OF extends Wu{static get observedAttributes(){return[...super.observedAttributes,it.MEDIA_IS_CASTING,it.MEDIA_CAST_UNAVAILABLE]}connectedCallback(){super.connectedCallback(),Cz(this)}attributeChangedCallback(e,r,n){super.attributeChangedCallback(e,r,n),e===it.MEDIA_IS_CASTING&&Cz(this)}get mediaIsCasting(){return ia(this,it.MEDIA_IS_CASTING)}set mediaIsCasting(e){sa(this,it.MEDIA_IS_CASTING,e)}get mediaCastUnavailable(){return Zo(this,it.MEDIA_CAST_UNAVAILABLE)}set mediaCastUnavailable(e){Jo(this,it.MEDIA_CAST_UNAVAILABLE,e)}handleClick(){const e=this.mediaIsCasting?Nn.MEDIA_EXIT_CAST_REQUEST:Nn.MEDIA_ENTER_CAST_REQUEST;this.dispatchEvent(new Gt.CustomEvent(e,{composed:!0,bubbles:!0}))}}OF.getSlotTemplateHTML=UVe;OF.getTooltipContentHTML=$Ve;Gt.customElements.get("media-cast-button")||Gt.customElements.define("media-cast-button",OF);var PF=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},Qv=(t,e,r)=>(PF(t,e,"read from private field"),e.get(t)),mp=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},DF=(t,e,r,n)=>(PF(t,e,"write to private field"),e.set(t,r),r),J0=(t,e,r)=>(PF(t,e,"access private method"),r),Uj,KE,cy,oT,jO,NO,Gse,IO,zse,kO,Wse,BO,Yse,LO,qse;function HVe(t){return`
    <style>
      :host {
        font: var(--media-font,
          var(--media-font-weight, normal)
          var(--media-font-size, 14px) /
          var(--media-text-content-height, var(--media-control-height, 24px))
          var(--media-font-family, helvetica neue, segoe ui, roboto, arial, sans-serif));
        color: var(--media-text-color, var(--media-primary-color, rgb(238 238 238)));
        display: var(--media-dialog-display, inline-flex);
        justify-content: center;
        align-items: center;
        
        transition-behavior: allow-discrete;
        visibility: hidden;
        opacity: 0;
        transform: translateY(2px) scale(.99);
        pointer-events: none;
      }

      :host([open]) {
        transition: display .2s, visibility 0s, opacity .2s ease-out, transform .15s ease-out;
        visibility: visible;
        opacity: 1;
        transform: translateY(0) scale(1);
        pointer-events: auto;
      }

      #content {
        display: flex;
        position: relative;
        box-sizing: border-box;
        width: min(320px, 100%);
        word-wrap: break-word;
        max-height: 100%;
        overflow: auto;
        text-align: center;
        line-height: 1.4;
      }
    </style>
    ${this.getSlotTemplateHTML(t)}
  `}function QVe(t){return`
    <slot id="content"></slot>
  `}const H1={OPEN:"open",ANCHOR:"anchor"};class a1 extends Gt.HTMLElement{constructor(){super(),mp(this,oT),mp(this,NO),mp(this,IO),mp(this,kO),mp(this,BO),mp(this,LO),mp(this,Uj,!1),mp(this,KE,null),mp(this,cy,null),this.addEventListener("invoke",this),this.addEventListener("focusout",this),this.addEventListener("keydown",this)}static get observedAttributes(){return[H1.OPEN,H1.ANCHOR]}get open(){return ia(this,H1.OPEN)}set open(e){sa(this,H1.OPEN,e)}handleEvent(e){switch(e.type){case"invoke":J0(this,kO,Wse).call(this,e);break;case"focusout":J0(this,BO,Yse).call(this,e);break;case"keydown":J0(this,LO,qse).call(this,e);break}}connectedCallback(){J0(this,oT,jO).call(this),this.role||(this.role="dialog")}attributeChangedCallback(e,r,n){J0(this,oT,jO).call(this),e===H1.OPEN&&n!==r&&(this.open?J0(this,NO,Gse).call(this):J0(this,IO,zse).call(this))}focus(){DF(this,KE,SF());const e=!this.dispatchEvent(new Event("focus",{composed:!0,cancelable:!0})),r=!this.dispatchEvent(new Event("focusin",{composed:!0,bubbles:!0,cancelable:!0}));if(e||r)return;const n=this.querySelector('[autofocus], [tabindex]:not([tabindex="-1"]), [role="menu"]');n?.focus()}get keysUsed(){return["Escape","Tab"]}}Uj=new WeakMap;KE=new WeakMap;cy=new WeakMap;oT=new WeakSet;jO=function(){if(!Qv(this,Uj)&&(DF(this,Uj,!0),!this.shadowRoot)){this.attachShadow(this.constructor.shadowRootOptions);const t=ff(this.attributes);this.shadowRoot.innerHTML=this.constructor.getTemplateHTML(t),queueMicrotask(()=>{const{style:e}=hu(this.shadowRoot,":host");e.setProperty("transition","display .15s, visibility .15s, opacity .15s ease-in, transform .15s ease-in")})}};NO=new WeakSet;Gse=function(){var t;(t=Qv(this,cy))==null||t.setAttribute("aria-expanded","true"),this.dispatchEvent(new Event("open",{composed:!0,bubbles:!0})),this.addEventListener("transitionend",()=>this.focus(),{once:!0})};IO=new WeakSet;zse=function(){var t;(t=Qv(this,cy))==null||t.setAttribute("aria-expanded","false"),this.dispatchEvent(new Event("close",{composed:!0,bubbles:!0}))};kO=new WeakSet;Wse=function(t){DF(this,cy,t.relatedTarget),ig(this,t.relatedTarget)||(this.open=!this.open)};BO=new WeakSet;Yse=function(t){var e;ig(this,t.relatedTarget)||((e=Qv(this,KE))==null||e.focus(),Qv(this,cy)&&Qv(this,cy)!==t.relatedTarget&&this.open&&(this.open=!1))};LO=new WeakSet;qse=function(t){var e,r,n,i,s;const{key:a,ctrlKey:c,altKey:u,metaKey:o}=t;c||u||o||this.keysUsed.includes(a)&&(t.preventDefault(),t.stopPropagation(),a==="Tab"?(t.shiftKey?(r=(e=this.previousElementSibling)==null?void 0:e.focus)==null||r.call(e):(i=(n=this.nextElementSibling)==null?void 0:n.focus)==null||i.call(n),this.blur()):a==="Escape"&&((s=Qv(this,KE))==null||s.focus(),this.open=!1))};a1.shadowRootOptions={mode:"open"};a1.getTemplateHTML=HVe;a1.getSlotTemplateHTML=QVe;Gt.customElements.get("media-chrome-dialog")||Gt.customElements.define("media-chrome-dialog",a1);var MF=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},Tl=(t,e,r)=>(MF(t,e,"read from private field"),r?r.call(t):e.get(t)),cd=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},Vg=(t,e,r,n)=>(MF(t,e,"write to private field"),e.set(t,r),r),mA=(t,e,r)=>(MF(t,e,"access private method"),r),cm,L5,lT,cT,gA,$j,uT,dT,hT,FF,Xse,fT,RO,AT,OO,Hj,UF,PO,Zse,DO,Jse,MO,eae,FO,tae;function VVe(t){return`
    <style>
      :host {
        --_focus-box-shadow: var(--media-focus-box-shadow, inset 0 0 0 2px rgb(27 127 204 / .9));
        --_media-range-padding: var(--media-range-padding, var(--media-control-padding, 10px));

        box-shadow: var(--_focus-visible-box-shadow, none);
        background: var(--media-control-background, var(--media-secondary-color, rgb(20 20 30 / .7)));
        height: calc(var(--media-control-height, 24px) + 2 * var(--_media-range-padding));
        display: inline-flex;
        align-items: center;
        
        vertical-align: middle;
        box-sizing: border-box;
        position: relative;
        width: 100px;
        transition: background .15s linear;
        cursor: var(--media-cursor, pointer);
        pointer-events: auto;
        touch-action: none; 
      }

      
      input[type=range]:focus {
        outline: 0;
      }
      input[type=range]:focus::-webkit-slider-runnable-track {
        outline: 0;
      }

      :host(:hover) {
        background: var(--media-control-hover-background, rgb(50 50 70 / .7));
      }

      #leftgap {
        padding-left: var(--media-range-padding-left, var(--_media-range-padding));
      }

      #rightgap {
        padding-right: var(--media-range-padding-right, var(--_media-range-padding));
      }

      #startpoint,
      #endpoint {
        position: absolute;
      }

      #endpoint {
        right: 0;
      }

      #container {
        
        width: var(--media-range-track-width, 100%);
        transform: translate(var(--media-range-track-translate-x, 0px), var(--media-range-track-translate-y, 0px));
        position: relative;
        height: 100%;
        display: flex;
        align-items: center;
        min-width: 40px;
      }

      #range {
        
        display: var(--media-time-range-hover-display, block);
        bottom: var(--media-time-range-hover-bottom, -7px);
        height: var(--media-time-range-hover-height, max(100% + 7px, 25px));
        width: 100%;
        position: absolute;
        cursor: var(--media-cursor, pointer);

        -webkit-appearance: none; 
        -webkit-tap-highlight-color: transparent;
        background: transparent; 
        margin: 0;
        z-index: 1;
      }

      @media (hover: hover) {
        #range {
          bottom: var(--media-time-range-hover-bottom, -5px);
          height: var(--media-time-range-hover-height, max(100% + 5px, 20px));
        }
      }

      
      
      #range::-webkit-slider-thumb {
        -webkit-appearance: none;
        background: transparent;
        width: .1px;
        height: .1px;
      }

      
      #range::-moz-range-thumb {
        background: transparent;
        border: transparent;
        width: .1px;
        height: .1px;
      }

      #appearance {
        height: var(--media-range-track-height, 4px);
        display: flex;
        flex-direction: column;
        justify-content: center;
        width: 100%;
        position: absolute;
        
        will-change: transform;
      }

      #track {
        background: var(--media-range-track-background, rgb(255 255 255 / .2));
        border-radius: var(--media-range-track-border-radius, 1px);
        border: var(--media-range-track-border, none);
        outline: var(--media-range-track-outline);
        outline-offset: var(--media-range-track-outline-offset);
        backdrop-filter: var(--media-range-track-backdrop-filter);
        -webkit-backdrop-filter: var(--media-range-track-backdrop-filter);
        box-shadow: var(--media-range-track-box-shadow, none);
        position: absolute;
        width: 100%;
        height: 100%;
        overflow: hidden;
      }

      #progress,
      #pointer {
        position: absolute;
        height: 100%;
        will-change: width;
      }

      #progress {
        background: var(--media-range-bar-color, var(--media-primary-color, rgb(238 238 238)));
        transition: var(--media-range-track-transition);
      }

      #pointer {
        background: var(--media-range-track-pointer-background);
        border-right: var(--media-range-track-pointer-border-right);
        transition: visibility .25s, opacity .25s;
        visibility: hidden;
        opacity: 0;
      }

      @media (hover: hover) {
        :host(:hover) #pointer {
          transition: visibility .5s, opacity .5s;
          visibility: visible;
          opacity: 1;
        }
      }

      #thumb,
      ::slotted([slot=thumb]) {
        width: var(--media-range-thumb-width, 10px);
        height: var(--media-range-thumb-height, 10px);
        transition: var(--media-range-thumb-transition);
        transform: var(--media-range-thumb-transform, none);
        opacity: var(--media-range-thumb-opacity, 1);
        translate: -50%;
        position: absolute;
        left: 0;
        cursor: var(--media-cursor, pointer);
      }

      #thumb {
        border-radius: var(--media-range-thumb-border-radius, 10px);
        background: var(--media-range-thumb-background, var(--media-primary-color, rgb(238 238 238)));
        box-shadow: var(--media-range-thumb-box-shadow, 1px 1px 1px transparent);
        border: var(--media-range-thumb-border, none);
      }

      :host([disabled]) #thumb {
        background-color: #777;
      }

      .segments #appearance {
        height: var(--media-range-segment-hover-height, 7px);
      }

      #track {
        clip-path: url(#segments-clipping);
      }

      #segments {
        --segments-gap: var(--media-range-segments-gap, 2px);
        position: absolute;
        width: 100%;
        height: 100%;
      }

      #segments-clipping {
        transform: translateX(calc(var(--segments-gap) / 2));
      }

      #segments-clipping:empty {
        display: none;
      }

      #segments-clipping rect {
        height: var(--media-range-track-height, 4px);
        y: calc((var(--media-range-segment-hover-height, 7px) - var(--media-range-track-height, 4px)) / 2);
        transition: var(--media-range-segment-transition, transform .1s ease-in-out);
        transform: var(--media-range-segment-transform, scaleY(1));
        transform-origin: center;
      }
    </style>
    <div id="leftgap"></div>
    <div id="container">
      <div id="startpoint"></div>
      <div id="endpoint"></div>
      <div id="appearance">
        <div id="track" part="track">
          <div id="pointer"></div>
          <div id="progress" part="progress"></div>
        </div>
        <slot name="thumb">
          <div id="thumb" part="thumb"></div>
        </slot>
        <svg id="segments"><clipPath id="segments-clipping"></clipPath></svg>
      </div>
      <input id="range" type="range" min="0" max="1" step="any" value="0">

      ${this.getContainerTemplateHTML(t)}
    </div>
    <div id="rightgap"></div>
  `}function KVe(t){return""}class o1 extends Gt.HTMLElement{constructor(){if(super(),cd(this,FF),cd(this,fT),cd(this,AT),cd(this,Hj),cd(this,PO),cd(this,DO),cd(this,MO),cd(this,FO),cd(this,cm,void 0),cd(this,L5,void 0),cd(this,lT,void 0),cd(this,cT,void 0),cd(this,gA,{}),cd(this,$j,[]),cd(this,uT,()=>{if(this.range.matches(":focus-visible")){const{style:e}=hu(this.shadowRoot,":host");e.setProperty("--_focus-visible-box-shadow","var(--_focus-box-shadow)")}}),cd(this,dT,()=>{const{style:e}=hu(this.shadowRoot,":host");e.removeProperty("--_focus-visible-box-shadow")}),cd(this,hT,()=>{const e=this.shadowRoot.querySelector("#segments-clipping");e&&e.parentNode.append(e)}),!this.shadowRoot){this.attachShadow(this.constructor.shadowRootOptions);const e=ff(this.attributes),r=this.constructor.getTemplateHTML(e);this.shadowRoot.setHTMLUnsafe?this.shadowRoot.setHTMLUnsafe(r):this.shadowRoot.innerHTML=r}this.container=this.shadowRoot.querySelector("#container"),Vg(this,lT,this.shadowRoot.querySelector("#startpoint")),Vg(this,cT,this.shadowRoot.querySelector("#endpoint")),this.range=this.shadowRoot.querySelector("#range"),this.appearance=this.shadowRoot.querySelector("#appearance")}static get observedAttributes(){return["disabled","aria-disabled",ka.MEDIA_CONTROLLER]}attributeChangedCallback(e,r,n){var i,s,a,c,u;e===ka.MEDIA_CONTROLLER?(r&&((s=(i=Tl(this,cm))==null?void 0:i.unassociateElement)==null||s.call(i,this),Vg(this,cm,null)),n&&this.isConnected&&(Vg(this,cm,(a=this.getRootNode())==null?void 0:a.getElementById(n)),(u=(c=Tl(this,cm))==null?void 0:c.associateElement)==null||u.call(c,this))):(e==="disabled"||e==="aria-disabled"&&r!==n)&&(n==null?(this.range.removeAttribute(e),mA(this,fT,RO).call(this)):(this.range.setAttribute(e,n),mA(this,AT,OO).call(this)))}connectedCallback(){var e,r,n;const{style:i}=hu(this.shadowRoot,":host");i.setProperty("display",`var(--media-control-display, var(--${this.localName}-display, inline-flex))`),Tl(this,gA).pointer=hu(this.shadowRoot,"#pointer"),Tl(this,gA).progress=hu(this.shadowRoot,"#progress"),Tl(this,gA).thumb=hu(this.shadowRoot,'#thumb, ::slotted([slot="thumb"])'),Tl(this,gA).activeSegment=hu(this.shadowRoot,"#segments-clipping rect:nth-child(0)");const s=this.getAttribute(ka.MEDIA_CONTROLLER);s&&(Vg(this,cm,(e=this.getRootNode())==null?void 0:e.getElementById(s)),(n=(r=Tl(this,cm))==null?void 0:r.associateElement)==null||n.call(r,this)),this.updateBar(),this.shadowRoot.addEventListener("focusin",Tl(this,uT)),this.shadowRoot.addEventListener("focusout",Tl(this,dT)),mA(this,fT,RO).call(this),kb(this.container,Tl(this,hT))}disconnectedCallback(){var e,r;mA(this,AT,OO).call(this),(r=(e=Tl(this,cm))==null?void 0:e.unassociateElement)==null||r.call(e,this),Vg(this,cm,null),this.shadowRoot.removeEventListener("focusin",Tl(this,uT)),this.shadowRoot.removeEventListener("focusout",Tl(this,dT)),Bb(this.container,Tl(this,hT))}updatePointerBar(e){var r;(r=Tl(this,gA).pointer)==null||r.style.setProperty("width",`${this.getPointerRatio(e)*100}%`)}updateBar(){var e,r;const n=this.range.valueAsNumber*100;(e=Tl(this,gA).progress)==null||e.style.setProperty("width",`${n}%`),(r=Tl(this,gA).thumb)==null||r.style.setProperty("left",`${n}%`)}updateSegments(e){const r=this.shadowRoot.querySelector("#segments-clipping");if(r.textContent="",this.container.classList.toggle("segments",!!e?.length),!e?.length)return;const n=[...new Set([+this.range.min,...e.flatMap(s=>[s.start,s.end]),+this.range.max])];Vg(this,$j,[...n]);const i=n.pop();for(const[s,a]of n.entries()){const[c,u]=[s===0,s===n.length-1],o=c?"calc(var(--segments-gap) / -1)":`${a*100}%`,f=`calc(${((u?i:n[s+1])-a)*100}%${c||u?"":" - var(--segments-gap)"})`,A=Qc.createElementNS("http://www.w3.org/2000/svg","rect"),p=_F(this.shadowRoot,`#segments-clipping rect:nth-child(${s+1})`);p.style.setProperty("x",o),p.style.setProperty("width",f),r.append(A)}}getPointerRatio(e){return DQe(e.clientX,e.clientY,Tl(this,lT).getBoundingClientRect(),Tl(this,cT).getBoundingClientRect())}get dragging(){return this.hasAttribute("dragging")}handleEvent(e){switch(e.type){case"pointermove":mA(this,FO,tae).call(this,e);break;case"input":this.updateBar();break;case"pointerenter":mA(this,PO,Zse).call(this,e);break;case"pointerdown":mA(this,Hj,UF).call(this,e);break;case"pointerup":mA(this,DO,Jse).call(this);break;case"pointerleave":mA(this,MO,eae).call(this);break}}get keysUsed(){return["ArrowUp","ArrowRight","ArrowDown","ArrowLeft"]}}cm=new WeakMap;L5=new WeakMap;lT=new WeakMap;cT=new WeakMap;gA=new WeakMap;$j=new WeakMap;uT=new WeakMap;dT=new WeakMap;hT=new WeakMap;FF=new WeakSet;Xse=function(t){const e=Tl(this,gA).activeSegment;if(!e)return;const r=this.getPointerRatio(t),i=`#segments-clipping rect:nth-child(${Tl(this,$j).findIndex((s,a,c)=>{const u=c[a+1];return u!=null&&r>=s&&r<=u})+1})`;(e.selectorText!=i||!e.style.transform)&&(e.selectorText=i,e.style.setProperty("transform","var(--media-range-segment-hover-transform, scaleY(2))"))};fT=new WeakSet;RO=function(){this.hasAttribute("disabled")||(this.addEventListener("input",this),this.addEventListener("pointerdown",this),this.addEventListener("pointerenter",this))};AT=new WeakSet;OO=function(){var t,e;this.removeEventListener("input",this),this.removeEventListener("pointerdown",this),this.removeEventListener("pointerenter",this),(t=Gt.window)==null||t.removeEventListener("pointerup",this),(e=Gt.window)==null||e.removeEventListener("pointermove",this)};Hj=new WeakSet;UF=function(t){var e;Vg(this,L5,t.composedPath().includes(this.range)),(e=Gt.window)==null||e.addEventListener("pointerup",this)};PO=new WeakSet;Zse=function(t){var e;t.pointerType!=="mouse"&&mA(this,Hj,UF).call(this,t),this.addEventListener("pointerleave",this),(e=Gt.window)==null||e.addEventListener("pointermove",this)};DO=new WeakSet;Jse=function(){var t;(t=Gt.window)==null||t.removeEventListener("pointerup",this),this.toggleAttribute("dragging",!1),this.range.disabled=this.hasAttribute("disabled")};MO=new WeakSet;eae=function(){var t,e;this.removeEventListener("pointerleave",this),(t=Gt.window)==null||t.removeEventListener("pointermove",this),this.toggleAttribute("dragging",!1),this.range.disabled=this.hasAttribute("disabled"),(e=Tl(this,gA).activeSegment)==null||e.style.removeProperty("transform")};FO=new WeakSet;tae=function(t){t.pointerType==="pen"&&t.buttons===0||(this.toggleAttribute("dragging",t.buttons===1||t.pointerType!=="mouse"),this.updatePointerBar(t),mA(this,FF,Xse).call(this,t),this.dragging&&(t.pointerType!=="mouse"||!Tl(this,L5))&&(this.range.disabled=!0,this.range.valueAsNumber=this.getPointerRatio(t),this.range.dispatchEvent(new Event("input",{bubbles:!0,composed:!0}))))};o1.shadowRootOptions={mode:"open"};o1.getTemplateHTML=VVe;o1.getContainerTemplateHTML=KVe;Gt.customElements.get("media-chrome-range")||Gt.customElements.define("media-chrome-range",o1);var rae=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},l_=(t,e,r)=>(rae(t,e,"read from private field"),r?r.call(t):e.get(t)),GVe=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},c_=(t,e,r,n)=>(rae(t,e,"write to private field"),e.set(t,r),r),um;function zVe(t){return`
    <style>
      :host {
        
        box-sizing: border-box;
        display: var(--media-control-display, var(--media-control-bar-display, inline-flex));
        color: var(--media-text-color, var(--media-primary-color, rgb(238 238 238)));
        --media-loading-indicator-icon-height: 44px;
      }

      ::slotted(media-time-range),
      ::slotted(media-volume-range) {
        min-height: 100%;
      }

      ::slotted(media-time-range),
      ::slotted(media-clip-selector) {
        flex-grow: 1;
      }

      ::slotted([role="menu"]) {
        position: absolute;
      }
    </style>

    <slot></slot>
  `}class $F extends Gt.HTMLElement{constructor(){if(super(),GVe(this,um,void 0),!this.shadowRoot){this.attachShadow(this.constructor.shadowRootOptions);const e=ff(this.attributes);this.shadowRoot.innerHTML=this.constructor.getTemplateHTML(e)}}static get observedAttributes(){return[ka.MEDIA_CONTROLLER]}attributeChangedCallback(e,r,n){var i,s,a,c,u;e===ka.MEDIA_CONTROLLER&&(r&&((s=(i=l_(this,um))==null?void 0:i.unassociateElement)==null||s.call(i,this),c_(this,um,null)),n&&this.isConnected&&(c_(this,um,(a=this.getRootNode())==null?void 0:a.getElementById(n)),(u=(c=l_(this,um))==null?void 0:c.associateElement)==null||u.call(c,this)))}connectedCallback(){var e,r,n;const i=this.getAttribute(ka.MEDIA_CONTROLLER);i&&(c_(this,um,(e=this.getRootNode())==null?void 0:e.getElementById(i)),(n=(r=l_(this,um))==null?void 0:r.associateElement)==null||n.call(r,this))}disconnectedCallback(){var e,r;(r=(e=l_(this,um))==null?void 0:e.unassociateElement)==null||r.call(e,this),c_(this,um,null)}}um=new WeakMap;$F.shadowRootOptions={mode:"open"};$F.getTemplateHTML=zVe;Gt.customElements.get("media-control-bar")||Gt.customElements.define("media-control-bar",$F);var nae=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},u_=(t,e,r)=>(nae(t,e,"read from private field"),r?r.call(t):e.get(t)),WVe=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},d_=(t,e,r,n)=>(nae(t,e,"write to private field"),e.set(t,r),r),dm;function YVe(t,e={}){return`
    <style>
      :host {
        font: var(--media-font,
          var(--media-font-weight, normal)
          var(--media-font-size, 14px) /
          var(--media-text-content-height, var(--media-control-height, 24px))
          var(--media-font-family, helvetica neue, segoe ui, roboto, arial, sans-serif));
        color: var(--media-text-color, var(--media-primary-color, rgb(238 238 238)));
        background: var(--media-text-background, var(--media-control-background, var(--media-secondary-color, rgb(20 20 30 / .7))));
        padding: var(--media-control-padding, 10px);
        display: inline-flex;
        justify-content: center;
        align-items: center;
        vertical-align: middle;
        box-sizing: border-box;
        text-align: center;
        pointer-events: auto;
      }

      
      :host(:focus-visible) {
        box-shadow: inset 0 0 0 2px rgb(27 127 204 / .9);
        outline: 0;
      }

      
      :host(:where(:focus)) {
        box-shadow: none;
        outline: 0;
      }
    </style>

    ${this.getSlotTemplateHTML(t,e)}
  `}function qVe(t,e){return`
    <slot></slot>
  `}class B0 extends Gt.HTMLElement{constructor(){if(super(),WVe(this,dm,void 0),!this.shadowRoot){this.attachShadow(this.constructor.shadowRootOptions);const e=ff(this.attributes);this.shadowRoot.innerHTML=this.constructor.getTemplateHTML(e)}}static get observedAttributes(){return[ka.MEDIA_CONTROLLER]}attributeChangedCallback(e,r,n){var i,s,a,c,u;e===ka.MEDIA_CONTROLLER&&(r&&((s=(i=u_(this,dm))==null?void 0:i.unassociateElement)==null||s.call(i,this),d_(this,dm,null)),n&&this.isConnected&&(d_(this,dm,(a=this.getRootNode())==null?void 0:a.getElementById(n)),(u=(c=u_(this,dm))==null?void 0:c.associateElement)==null||u.call(c,this)))}connectedCallback(){var e,r,n;const{style:i}=hu(this.shadowRoot,":host");i.setProperty("display",`var(--media-control-display, var(--${this.localName}-display, inline-flex))`);const s=this.getAttribute(ka.MEDIA_CONTROLLER);s&&(d_(this,dm,(e=this.getRootNode())==null?void 0:e.getElementById(s)),(n=(r=u_(this,dm))==null?void 0:r.associateElement)==null||n.call(r,this))}disconnectedCallback(){var e,r;(r=(e=u_(this,dm))==null?void 0:e.unassociateElement)==null||r.call(e,this),d_(this,dm,null)}}dm=new WeakMap;B0.shadowRootOptions={mode:"open"};B0.getTemplateHTML=YVe;B0.getSlotTemplateHTML=qVe;Gt.customElements.get("media-text-display")||Gt.customElements.define("media-text-display",B0);var iae=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},jz=(t,e,r)=>(iae(t,e,"read from private field"),r?r.call(t):e.get(t)),XVe=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},ZVe=(t,e,r,n)=>(iae(t,e,"write to private field"),e.set(t,r),r),gw;function JVe(t,e){return`
    <slot>${v0(e.mediaDuration)}</slot>
  `}class sae extends B0{constructor(){var e;super(),XVe(this,gw,void 0),ZVe(this,gw,this.shadowRoot.querySelector("slot")),jz(this,gw).textContent=v0((e=this.mediaDuration)!=null?e:0)}static get observedAttributes(){return[...super.observedAttributes,it.MEDIA_DURATION]}attributeChangedCallback(e,r,n){e===it.MEDIA_DURATION&&(jz(this,gw).textContent=v0(+n)),super.attributeChangedCallback(e,r,n)}get mediaDuration(){return Xo(this,it.MEDIA_DURATION)}set mediaDuration(e){rc(this,it.MEDIA_DURATION,e)}}gw=new WeakMap;sae.getSlotTemplateHTML=JVe;Gt.customElements.get("media-duration-display")||Gt.customElements.define("media-duration-display",sae);const eKe={2:Xn("Network Error"),3:Xn("Decode Error"),4:Xn("Source Not Supported"),5:Xn("Encryption Error")},tKe={2:Xn("A network error caused the media download to fail."),3:Xn("A media error caused playback to be aborted. The media could be corrupt or your browser does not support this format."),4:Xn("An unsupported error occurred. The server or network failed, or your browser does not support this format."),5:Xn("The media is encrypted and there are no keys to decrypt it.")},aae=t=>{var e,r;return t.code===1?null:{title:(e=eKe[t.code])!=null?e:`Error ${t.code}`,message:(r=tKe[t.code])!=null?r:t.message}};var oae=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},rKe=(t,e,r)=>(oae(t,e,"read from private field"),r?r.call(t):e.get(t)),nKe=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},iKe=(t,e,r,n)=>(oae(t,e,"write to private field"),e.set(t,r),r),mT;function sKe(t){return`
    <style>
      :host {
        background: rgb(20 20 30 / .8);
      }

      #content {
        display: block;
        padding: 1.2em 1.5em;
      }

      h3,
      p {
        margin-block: 0 .3em;
      }
    </style>
    <slot name="error-${t.mediaerrorcode}" id="content">
      ${lae({code:+t.mediaerrorcode,message:t.mediaerrormessage})}
    </slot>
  `}function aKe(t){return t.code&&aae(t)!==null}function lae(t){var e;const{title:r,message:n}=(e=aae(t))!=null?e:{};let i="";return r&&(i+=`<slot name="error-${t.code}-title"><h3>${r}</h3></slot>`),n&&(i+=`<slot name="error-${t.code}-message"><p>${n}</p></slot>`),i}const Nz=[it.MEDIA_ERROR_CODE,it.MEDIA_ERROR_MESSAGE];class R5 extends a1{constructor(){super(...arguments),nKe(this,mT,null)}static get observedAttributes(){return[...super.observedAttributes,...Nz]}formatErrorMessage(e){return this.constructor.formatErrorMessage(e)}attributeChangedCallback(e,r,n){var i;if(super.attributeChangedCallback(e,r,n),!Nz.includes(e))return;const s=(i=this.mediaError)!=null?i:{code:this.mediaErrorCode,message:this.mediaErrorMessage};this.open=aKe(s),this.open&&(this.shadowRoot.querySelector("slot").name=`error-${this.mediaErrorCode}`,this.shadowRoot.querySelector("#content").innerHTML=this.formatErrorMessage(s))}get mediaError(){return rKe(this,mT)}set mediaError(e){iKe(this,mT,e)}get mediaErrorCode(){return Xo(this,"mediaerrorcode")}set mediaErrorCode(e){rc(this,"mediaerrorcode",e)}get mediaErrorMessage(){return Zo(this,"mediaerrormessage")}set mediaErrorMessage(e){Jo(this,"mediaerrormessage",e)}}mT=new WeakMap;R5.getSlotTemplateHTML=sKe;R5.formatErrorMessage=lae;Gt.customElements.get("media-error-dialog")||Gt.customElements.define("media-error-dialog",R5);var cae=R5,oKe=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},Fg=(t,e,r)=>(oKe(t,e,"read from private field"),r?r.call(t):e.get(t)),Iz=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},yx,xx;function lKe(t){return`
    <style>
      :host {
        position: fixed;
        top: 0;
        left: 0;
        z-index: 9999;
        background: rgb(20 20 30 / .8);
        backdrop-filter: blur(10px);
      }

      #content {
        display: block;
        width: clamp(400px, 40vw, 700px);
        max-width: 90vw;
        text-align: left;
      }

      h2 {
        margin: 0 0 1.5rem 0;
        font-size: 1.5rem;
        font-weight: 500;
        text-align: center;
      }

      .shortcuts-table {
        width: 100%;
        border-collapse: collapse;
      }

      .shortcuts-table tr {
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      }

      .shortcuts-table tr:last-child {
        border-bottom: none;
      }

      .shortcuts-table td {
        padding: 0.75rem 0.5rem;
      }

      .shortcuts-table td:first-child {
        text-align: right;
        padding-right: 1rem;
        width: 40%;
        min-width: 120px;
      }

      .shortcuts-table td:last-child {
        padding-left: 1rem;
      }

      .key {
        display: inline-block;
        background: rgba(255, 255, 255, 0.15);
        border: 1px solid rgba(255, 255, 255, 0.2);
        border-radius: 4px;
        padding: 0.25rem 0.5rem;
        font-family: 'Courier New', monospace;
        font-size: 0.9rem;
        font-weight: 500;
        min-width: 1.5rem;
        text-align: center;
        margin: 0 0.2rem;
      }

      .description {
        color: rgba(255, 255, 255, 0.9);
        font-size: 0.95rem;
      }

      .key-combo {
        display: flex;
        align-items: center;
        justify-content: flex-end;
        gap: 0.3rem;
      }

      .key-separator {
        color: rgba(255, 255, 255, 0.5);
        font-size: 0.9rem;
      }
    </style>
    <slot id="content">
      ${cKe()}
    </slot>
  `}function cKe(){return`
    <h2>Keyboard Shortcuts</h2>
    <table class="shortcuts-table">${[{keys:["Space","k"],description:"Toggle Playback"},{keys:["m"],description:"Toggle mute"},{keys:["f"],description:"Toggle fullscreen"},{keys:["c"],description:"Toggle captions or subtitles, if available"},{keys:["p"],description:"Toggle Picture in Picture"},{keys:["","j"],description:"Seek back 10s"},{keys:["","l"],description:"Seek forward 10s"},{keys:[""],description:"Turn volume up"},{keys:[""],description:"Turn volume down"},{keys:["< (SHIFT+,)"],description:"Decrease playback rate"},{keys:["> (SHIFT+.)"],description:"Increase playback rate"}].map(({keys:r,description:n})=>`
      <tr>
        <td>
          <div class="key-combo">${r.map((s,a)=>a>0?`<span class="key-separator">or</span><span class="key">${s}</span>`:`<span class="key">${s}</span>`).join("")}</div>
        </td>
        <td class="description">${n}</td>
      </tr>
    `).join("")}</table>
  `}class uae extends a1{constructor(){super(...arguments),Iz(this,yx,e=>{var r;if(!this.open)return;const n=(r=this.shadowRoot)==null?void 0:r.querySelector("#content");if(!n)return;const i=e.composedPath(),s=i[0]===this||i.includes(this),a=i.includes(n);s&&!a&&(this.open=!1)}),Iz(this,xx,e=>{if(!this.open)return;const r=e.shiftKey&&(e.key==="/"||e.key==="?");(e.key==="Escape"||r)&&!e.ctrlKey&&!e.altKey&&!e.metaKey&&(this.open=!1,e.preventDefault(),e.stopPropagation())})}connectedCallback(){super.connectedCallback(),this.open&&(this.addEventListener("click",Fg(this,yx)),document.addEventListener("keydown",Fg(this,xx)))}disconnectedCallback(){this.removeEventListener("click",Fg(this,yx)),document.removeEventListener("keydown",Fg(this,xx))}attributeChangedCallback(e,r,n){super.attributeChangedCallback(e,r,n),e==="open"&&(this.open?(this.addEventListener("click",Fg(this,yx)),document.addEventListener("keydown",Fg(this,xx))):(this.removeEventListener("click",Fg(this,yx)),document.removeEventListener("keydown",Fg(this,xx))))}}yx=new WeakMap;xx=new WeakMap;uae.getSlotTemplateHTML=lKe;Gt.customElements.get("media-keyboard-shortcuts-dialog")||Gt.customElements.define("media-keyboard-shortcuts-dialog",uae);var dae=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},uKe=(t,e,r)=>(dae(t,e,"read from private field"),e.get(t)),dKe=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},hKe=(t,e,r,n)=>(dae(t,e,"write to private field"),e.set(t,r),r),pT;const fKe=`<svg aria-hidden="true" viewBox="0 0 26 24">
  <path d="M16 3v2.5h3.5V9H22V3h-6ZM4 9h2.5V5.5H10V3H4v6Zm15.5 9.5H16V21h6v-6h-2.5v3.5ZM6.5 15H4v6h6v-2.5H6.5V15Z"/>
</svg>`,AKe=`<svg aria-hidden="true" viewBox="0 0 26 24">
  <path d="M18.5 6.5V3H16v6h6V6.5h-3.5ZM16 21h2.5v-3.5H22V15h-6v6ZM4 17.5h3.5V21H10v-6H4v2.5Zm3.5-11H4V9h6V3H7.5v3.5Z"/>
</svg>`;function mKe(t){return`
    <style>
      :host([${it.MEDIA_IS_FULLSCREEN}]) slot[name=icon] slot:not([name=exit]) {
        display: none !important;
      }

      
      :host(:not([${it.MEDIA_IS_FULLSCREEN}])) slot[name=icon] slot:not([name=enter]) {
        display: none !important;
      }

      :host([${it.MEDIA_IS_FULLSCREEN}]) slot[name=tooltip-enter],
      :host(:not([${it.MEDIA_IS_FULLSCREEN}])) slot[name=tooltip-exit] {
        display: none;
      }
    </style>

    <slot name="icon">
      <slot name="enter">${fKe}</slot>
      <slot name="exit">${AKe}</slot>
    </slot>
  `}function pKe(){return`
    <slot name="tooltip-enter">${Xn("Enter fullscreen mode")}</slot>
    <slot name="tooltip-exit">${Xn("Exit fullscreen mode")}</slot>
  `}const kz=t=>{const e=t.mediaIsFullscreen?Xn("exit fullscreen mode"):Xn("enter fullscreen mode");t.setAttribute("aria-label",e)};class HF extends Wu{constructor(){super(...arguments),dKe(this,pT,null)}static get observedAttributes(){return[...super.observedAttributes,it.MEDIA_IS_FULLSCREEN,it.MEDIA_FULLSCREEN_UNAVAILABLE]}connectedCallback(){super.connectedCallback(),kz(this)}attributeChangedCallback(e,r,n){super.attributeChangedCallback(e,r,n),e===it.MEDIA_IS_FULLSCREEN&&kz(this)}get mediaFullscreenUnavailable(){return Zo(this,it.MEDIA_FULLSCREEN_UNAVAILABLE)}set mediaFullscreenUnavailable(e){Jo(this,it.MEDIA_FULLSCREEN_UNAVAILABLE,e)}get mediaIsFullscreen(){return ia(this,it.MEDIA_IS_FULLSCREEN)}set mediaIsFullscreen(e){sa(this,it.MEDIA_IS_FULLSCREEN,e)}handleClick(e){hKe(this,pT,e);const r=uKe(this,pT)instanceof PointerEvent,n=this.mediaIsFullscreen?new Gt.CustomEvent(Nn.MEDIA_EXIT_FULLSCREEN_REQUEST,{composed:!0,bubbles:!0}):new Gt.CustomEvent(Nn.MEDIA_ENTER_FULLSCREEN_REQUEST,{composed:!0,bubbles:!0,detail:r});this.dispatchEvent(n)}}pT=new WeakMap;HF.getSlotTemplateHTML=mKe;HF.getTooltipContentHTML=pKe;Gt.customElements.get("media-fullscreen-button")||Gt.customElements.define("media-fullscreen-button",HF);const{MEDIA_TIME_IS_LIVE:gT,MEDIA_PAUSED:Ww}=it,{MEDIA_SEEK_TO_LIVE_REQUEST:gKe,MEDIA_PLAY_REQUEST:vKe}=Nn,yKe='<svg viewBox="0 0 6 12"><circle cx="3" cy="6" r="2"></circle></svg>';function xKe(t){return`
    <style>
      :host { --media-tooltip-display: none; }
      
      slot[name=indicator] > *,
      :host ::slotted([slot=indicator]) {
        
        min-width: auto;
        fill: var(--media-live-button-icon-color, rgb(140, 140, 140));
        color: var(--media-live-button-icon-color, rgb(140, 140, 140));
      }

      :host([${gT}]:not([${Ww}])) slot[name=indicator] > *,
      :host([${gT}]:not([${Ww}])) ::slotted([slot=indicator]) {
        fill: var(--media-live-button-indicator-color, rgb(255, 0, 0));
        color: var(--media-live-button-indicator-color, rgb(255, 0, 0));
      }

      :host([${gT}]:not([${Ww}])) {
        cursor: var(--media-cursor, not-allowed);
      }

      slot[name=text]{
        text-transform: uppercase;
      }

    </style>

    <slot name="indicator">${yKe}</slot>
    
    <slot name="spacer">&nbsp;</slot><slot name="text">${Xn("live")}</slot>
  `}const Bz=t=>{var e;const r=t.mediaPaused||!t.mediaTimeIsLive,n=Xn(r?"seek to live":"playing live");t.setAttribute("aria-label",n);const i=(e=t.shadowRoot)==null?void 0:e.querySelector('slot[name="text"]');i&&(i.textContent=Xn("live")),r?t.removeAttribute("aria-disabled"):t.setAttribute("aria-disabled","true")};class hae extends Wu{static get observedAttributes(){return[...super.observedAttributes,gT,Ww]}connectedCallback(){super.connectedCallback(),Bz(this)}attributeChangedCallback(e,r,n){super.attributeChangedCallback(e,r,n),Bz(this)}get mediaPaused(){return ia(this,it.MEDIA_PAUSED)}set mediaPaused(e){sa(this,it.MEDIA_PAUSED,e)}get mediaTimeIsLive(){return ia(this,it.MEDIA_TIME_IS_LIVE)}set mediaTimeIsLive(e){sa(this,it.MEDIA_TIME_IS_LIVE,e)}handleClick(){!this.mediaPaused&&this.mediaTimeIsLive||(this.dispatchEvent(new Gt.CustomEvent(gKe,{composed:!0,bubbles:!0})),this.hasAttribute(Ww)&&this.dispatchEvent(new Gt.CustomEvent(vKe,{composed:!0,bubbles:!0})))}}hae.getSlotTemplateHTML=xKe;Gt.customElements.get("media-live-button")||Gt.customElements.define("media-live-button",hae);var fae=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},Q1=(t,e,r)=>(fae(t,e,"read from private field"),r?r.call(t):e.get(t)),Lz=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},V1=(t,e,r,n)=>(fae(t,e,"write to private field"),e.set(t,r),r),hm,vT;const h_={LOADING_DELAY:"loadingdelay",NO_AUTOHIDE:"noautohide"},Aae=500,bKe=`
<svg aria-hidden="true" viewBox="0 0 100 100">
  <path d="M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50">
    <animateTransform
       attributeName="transform"
       attributeType="XML"
       type="rotate"
       dur="1s"
       from="0 50 50"
       to="360 50 50"
       repeatCount="indefinite" />
  </path>
</svg>
`;function wKe(t){return`
    <style>
      :host {
        display: var(--media-control-display, var(--media-loading-indicator-display, inline-block));
        vertical-align: middle;
        box-sizing: border-box;
        --_loading-indicator-delay: var(--media-loading-indicator-transition-delay, ${Aae}ms);
      }

      #status {
        color: rgba(0,0,0,0);
        width: 0px;
        height: 0px;
      }

      :host slot[name=icon] > *,
      :host ::slotted([slot=icon]) {
        opacity: var(--media-loading-indicator-opacity, 0);
        transition: opacity 0.15s;
      }

      :host([${it.MEDIA_LOADING}]:not([${it.MEDIA_PAUSED}])) slot[name=icon] > *,
      :host([${it.MEDIA_LOADING}]:not([${it.MEDIA_PAUSED}])) ::slotted([slot=icon]) {
        opacity: var(--media-loading-indicator-opacity, 1);
        transition: opacity 0.15s var(--_loading-indicator-delay);
      }

      :host #status {
        visibility: var(--media-loading-indicator-opacity, hidden);
        transition: visibility 0.15s;
      }

      :host([${it.MEDIA_LOADING}]:not([${it.MEDIA_PAUSED}])) #status {
        visibility: var(--media-loading-indicator-opacity, visible);
        transition: visibility 0.15s var(--_loading-indicator-delay);
      }

      svg, img, ::slotted(svg), ::slotted(img) {
        width: var(--media-loading-indicator-icon-width);
        height: var(--media-loading-indicator-icon-height, 100px);
        fill: var(--media-icon-color, var(--media-primary-color, rgb(238 238 238)));
        vertical-align: middle;
      }
    </style>

    <slot name="icon">${bKe}</slot>
    <div id="status" role="status" aria-live="polite">${Xn("media loading")}</div>
  `}class QF extends Gt.HTMLElement{constructor(){if(super(),Lz(this,hm,void 0),Lz(this,vT,Aae),!this.shadowRoot){this.attachShadow(this.constructor.shadowRootOptions);const e=ff(this.attributes);this.shadowRoot.innerHTML=this.constructor.getTemplateHTML(e)}}static get observedAttributes(){return[ka.MEDIA_CONTROLLER,it.MEDIA_PAUSED,it.MEDIA_LOADING,h_.LOADING_DELAY]}attributeChangedCallback(e,r,n){var i,s,a,c,u;e===h_.LOADING_DELAY&&r!==n?this.loadingDelay=Number(n):e===ka.MEDIA_CONTROLLER&&(r&&((s=(i=Q1(this,hm))==null?void 0:i.unassociateElement)==null||s.call(i,this),V1(this,hm,null)),n&&this.isConnected&&(V1(this,hm,(a=this.getRootNode())==null?void 0:a.getElementById(n)),(u=(c=Q1(this,hm))==null?void 0:c.associateElement)==null||u.call(c,this)))}connectedCallback(){var e,r,n;const i=this.getAttribute(ka.MEDIA_CONTROLLER);i&&(V1(this,hm,(e=this.getRootNode())==null?void 0:e.getElementById(i)),(n=(r=Q1(this,hm))==null?void 0:r.associateElement)==null||n.call(r,this))}disconnectedCallback(){var e,r;(r=(e=Q1(this,hm))==null?void 0:e.unassociateElement)==null||r.call(e,this),V1(this,hm,null)}get loadingDelay(){return Q1(this,vT)}set loadingDelay(e){V1(this,vT,e);const{style:r}=hu(this.shadowRoot,":host");r.setProperty("--_loading-indicator-delay",`var(--media-loading-indicator-transition-delay, ${e}ms)`)}get mediaPaused(){return ia(this,it.MEDIA_PAUSED)}set mediaPaused(e){sa(this,it.MEDIA_PAUSED,e)}get mediaLoading(){return ia(this,it.MEDIA_LOADING)}set mediaLoading(e){sa(this,it.MEDIA_LOADING,e)}get mediaController(){return Zo(this,ka.MEDIA_CONTROLLER)}set mediaController(e){Jo(this,ka.MEDIA_CONTROLLER,e)}get noAutohide(){return ia(this,h_.NO_AUTOHIDE)}set noAutohide(e){sa(this,h_.NO_AUTOHIDE,e)}}hm=new WeakMap;vT=new WeakMap;QF.shadowRootOptions={mode:"open"};QF.getTemplateHTML=wKe;Gt.customElements.get("media-loading-indicator")||Gt.customElements.define("media-loading-indicator",QF);const EKe=`<svg aria-hidden="true" viewBox="0 0 24 24">
  <path d="M16.5 12A4.5 4.5 0 0 0 14 8v2.18l2.45 2.45a4.22 4.22 0 0 0 .05-.63Zm2.5 0a6.84 6.84 0 0 1-.54 2.64L20 16.15A8.8 8.8 0 0 0 21 12a9 9 0 0 0-7-8.77v2.06A7 7 0 0 1 19 12ZM4.27 3 3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25A6.92 6.92 0 0 1 14 18.7v2.06A9 9 0 0 0 17.69 19l2 2.05L21 19.73l-9-9L4.27 3ZM12 4 9.91 6.09 12 8.18V4Z"/>
</svg>`,Rz=`<svg aria-hidden="true" viewBox="0 0 24 24">
  <path d="M3 9v6h4l5 5V4L7 9H3Zm13.5 3A4.5 4.5 0 0 0 14 8v8a4.47 4.47 0 0 0 2.5-4Z"/>
</svg>`,SKe=`<svg aria-hidden="true" viewBox="0 0 24 24">
  <path d="M3 9v6h4l5 5V4L7 9H3Zm13.5 3A4.5 4.5 0 0 0 14 8v8a4.47 4.47 0 0 0 2.5-4ZM14 3.23v2.06a7 7 0 0 1 0 13.42v2.06a9 9 0 0 0 0-17.54Z"/>
</svg>`;function _Ke(t){return`
    <style>
      :host(:not([${it.MEDIA_VOLUME_LEVEL}])) slot[name=icon] slot:not([name=high]),
      :host([${it.MEDIA_VOLUME_LEVEL}=high]) slot[name=icon] slot:not([name=high]) {
        display: none !important;
      }

      :host([${it.MEDIA_VOLUME_LEVEL}=off]) slot[name=icon] slot:not([name=off]) {
        display: none !important;
      }

      :host([${it.MEDIA_VOLUME_LEVEL}=low]) slot[name=icon] slot:not([name=low]) {
        display: none !important;
      }

      :host([${it.MEDIA_VOLUME_LEVEL}=medium]) slot[name=icon] slot:not([name=medium]) {
        display: none !important;
      }

      :host(:not([${it.MEDIA_VOLUME_LEVEL}=off])) slot[name=tooltip-unmute],
      :host([${it.MEDIA_VOLUME_LEVEL}=off]) slot[name=tooltip-mute] {
        display: none;
      }
    </style>

    <slot name="icon">
      <slot name="off">${EKe}</slot>
      <slot name="low">${Rz}</slot>
      <slot name="medium">${Rz}</slot>
      <slot name="high">${SKe}</slot>
    </slot>
  `}function TKe(){return`
    <slot name="tooltip-mute">${Xn("Mute")}</slot>
    <slot name="tooltip-unmute">${Xn("Unmute")}</slot>
  `}const Oz=t=>{const e=t.mediaVolumeLevel==="off",r=Xn(e?"unmute":"mute");t.setAttribute("aria-label",r)};class VF extends Wu{static get observedAttributes(){return[...super.observedAttributes,it.MEDIA_VOLUME_LEVEL]}connectedCallback(){super.connectedCallback(),Oz(this)}attributeChangedCallback(e,r,n){super.attributeChangedCallback(e,r,n),e===it.MEDIA_VOLUME_LEVEL&&Oz(this)}get mediaVolumeLevel(){return Zo(this,it.MEDIA_VOLUME_LEVEL)}set mediaVolumeLevel(e){Jo(this,it.MEDIA_VOLUME_LEVEL,e)}handleClick(){const e=this.mediaVolumeLevel==="off"?Nn.MEDIA_UNMUTE_REQUEST:Nn.MEDIA_MUTE_REQUEST;this.dispatchEvent(new Gt.CustomEvent(e,{composed:!0,bubbles:!0}))}}VF.getSlotTemplateHTML=_Ke;VF.getTooltipContentHTML=TKe;Gt.customElements.get("media-mute-button")||Gt.customElements.define("media-mute-button",VF);const Pz=`<svg aria-hidden="true" viewBox="0 0 28 24">
  <path d="M24 3H4a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h20a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1Zm-1 16H5V5h18v14Zm-3-8h-7v5h7v-5Z"/>
</svg>`;function CKe(t){return`
    <style>
      :host([${it.MEDIA_IS_PIP}]) slot[name=icon] slot:not([name=exit]) {
        display: none !important;
      }

      :host(:not([${it.MEDIA_IS_PIP}])) slot[name=icon] slot:not([name=enter]) {
        display: none !important;
      }

      :host([${it.MEDIA_IS_PIP}]) slot[name=tooltip-enter],
      :host(:not([${it.MEDIA_IS_PIP}])) slot[name=tooltip-exit] {
        display: none;
      }
    </style>

    <slot name="icon">
      <slot name="enter">${Pz}</slot>
      <slot name="exit">${Pz}</slot>
    </slot>
  `}function jKe(){return`
    <slot name="tooltip-enter">${Xn("Enter picture in picture mode")}</slot>
    <slot name="tooltip-exit">${Xn("Exit picture in picture mode")}</slot>
  `}const Dz=t=>{const e=t.mediaIsPip?Xn("exit picture in picture mode"):Xn("enter picture in picture mode");t.setAttribute("aria-label",e)};class KF extends Wu{static get observedAttributes(){return[...super.observedAttributes,it.MEDIA_IS_PIP,it.MEDIA_PIP_UNAVAILABLE]}connectedCallback(){super.connectedCallback(),Dz(this)}attributeChangedCallback(e,r,n){super.attributeChangedCallback(e,r,n),e===it.MEDIA_IS_PIP&&Dz(this)}get mediaPipUnavailable(){return Zo(this,it.MEDIA_PIP_UNAVAILABLE)}set mediaPipUnavailable(e){Jo(this,it.MEDIA_PIP_UNAVAILABLE,e)}get mediaIsPip(){return ia(this,it.MEDIA_IS_PIP)}set mediaIsPip(e){sa(this,it.MEDIA_IS_PIP,e)}handleClick(){const e=this.mediaIsPip?Nn.MEDIA_EXIT_PIP_REQUEST:Nn.MEDIA_ENTER_PIP_REQUEST;this.dispatchEvent(new Gt.CustomEvent(e,{composed:!0,bubbles:!0}))}}KF.getSlotTemplateHTML=CKe;KF.getTooltipContentHTML=jKe;Gt.customElements.get("media-pip-button")||Gt.customElements.define("media-pip-button",KF);var NKe=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},tx=(t,e,r)=>(NKe(t,e,"read from private field"),r?r.call(t):e.get(t)),IKe=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},Kg;const SL={RATES:"rates"},mae=[1,1.2,1.5,1.7,2],Wx=1;function kKe(t){return`
    <style>
      :host {
        min-width: 5ch;
        padding: var(--media-button-padding, var(--media-control-padding, 10px 5px));
      }
    </style>
    <slot name="icon">${t.mediaplaybackrate||Wx}x</slot>
  `}function BKe(){return Xn("Playback rate")}class GF extends Wu{constructor(){var e;super(),IKe(this,Kg,new jF(this,SL.RATES,{defaultValue:mae})),this.container=this.shadowRoot.querySelector('slot[name="icon"]'),this.container.innerHTML=`${(e=this.mediaPlaybackRate)!=null?e:Wx}x`}static get observedAttributes(){return[...super.observedAttributes,it.MEDIA_PLAYBACK_RATE,SL.RATES]}attributeChangedCallback(e,r,n){if(super.attributeChangedCallback(e,r,n),e===SL.RATES&&(tx(this,Kg).value=n),e===it.MEDIA_PLAYBACK_RATE){const i=n?+n:Number.NaN,s=Number.isNaN(i)?Wx:i;this.container.innerHTML=`${s}x`,this.setAttribute("aria-label",Xn("Playback rate {playbackRate}",{playbackRate:s}))}}get rates(){return tx(this,Kg)}set rates(e){e?Array.isArray(e)?tx(this,Kg).value=e.join(" "):typeof e=="string"&&(tx(this,Kg).value=e):tx(this,Kg).value=""}get mediaPlaybackRate(){return Xo(this,it.MEDIA_PLAYBACK_RATE,Wx)}set mediaPlaybackRate(e){rc(this,it.MEDIA_PLAYBACK_RATE,e)}handleClick(){var e,r;const n=Array.from(tx(this,Kg).values(),a=>+a).sort((a,c)=>a-c),i=(r=(e=n.find(a=>a>this.mediaPlaybackRate))!=null?e:n[0])!=null?r:Wx,s=new Gt.CustomEvent(Nn.MEDIA_PLAYBACK_RATE_REQUEST,{composed:!0,bubbles:!0,detail:i});this.dispatchEvent(s)}}Kg=new WeakMap;GF.getSlotTemplateHTML=kKe;GF.getTooltipContentHTML=BKe;Gt.customElements.get("media-playback-rate-button")||Gt.customElements.define("media-playback-rate-button",GF);const LKe=`<svg aria-hidden="true" viewBox="0 0 24 24">
  <path d="m6 21 15-9L6 3v18Z"/>
</svg>`,RKe=`<svg aria-hidden="true" viewBox="0 0 24 24">
  <path d="M6 20h4V4H6v16Zm8-16v16h4V4h-4Z"/>
</svg>`;function OKe(t){return`
    <style>
      :host([${it.MEDIA_PAUSED}]) slot[name=pause],
      :host(:not([${it.MEDIA_PAUSED}])) slot[name=play] {
        display: none !important;
      }

      :host([${it.MEDIA_PAUSED}]) slot[name=tooltip-pause],
      :host(:not([${it.MEDIA_PAUSED}])) slot[name=tooltip-play] {
        display: none;
      }
    </style>

    <slot name="icon">
      <slot name="play">${LKe}</slot>
      <slot name="pause">${RKe}</slot>
    </slot>
  `}function PKe(){return`
    <slot name="tooltip-play">${Xn("Play")}</slot>
    <slot name="tooltip-pause">${Xn("Pause")}</slot>
  `}const Mz=t=>{const e=t.mediaPaused?Xn("play"):Xn("pause");t.setAttribute("aria-label",e)};class zF extends Wu{static get observedAttributes(){return[...super.observedAttributes,it.MEDIA_PAUSED,it.MEDIA_ENDED]}connectedCallback(){super.connectedCallback(),Mz(this)}attributeChangedCallback(e,r,n){super.attributeChangedCallback(e,r,n),(e===it.MEDIA_PAUSED||e===it.MEDIA_LANG)&&Mz(this)}get mediaPaused(){return ia(this,it.MEDIA_PAUSED)}set mediaPaused(e){sa(this,it.MEDIA_PAUSED,e)}handleClick(){const e=this.mediaPaused?Nn.MEDIA_PLAY_REQUEST:Nn.MEDIA_PAUSE_REQUEST;this.dispatchEvent(new Gt.CustomEvent(e,{composed:!0,bubbles:!0}))}}zF.getSlotTemplateHTML=OKe;zF.getTooltipContentHTML=PKe;Gt.customElements.get("media-play-button")||Gt.customElements.define("media-play-button",zF);const tm={PLACEHOLDER_SRC:"placeholdersrc",SRC:"src"};function DKe(t){return`
    <style>
      :host {
        pointer-events: none;
        display: var(--media-poster-image-display, inline-block);
        box-sizing: border-box;
      }

      img {
        max-width: 100%;
        max-height: 100%;
        min-width: 100%;
        min-height: 100%;
        background-repeat: no-repeat;
        background-position: var(--media-poster-image-background-position, var(--media-object-position, center));
        background-size: var(--media-poster-image-background-size, var(--media-object-fit, contain));
        object-fit: var(--media-object-fit, contain);
        object-position: var(--media-object-position, center);
      }
    </style>

    <img part="poster img" aria-hidden="true" id="image"/>
  `}const MKe=t=>{t.style.removeProperty("background-image")},FKe=(t,e)=>{t.style["background-image"]=`url('${e}')`};class WF extends Gt.HTMLElement{static get observedAttributes(){return[tm.PLACEHOLDER_SRC,tm.SRC]}constructor(){if(super(),!this.shadowRoot){this.attachShadow(this.constructor.shadowRootOptions);const e=ff(this.attributes);this.shadowRoot.innerHTML=this.constructor.getTemplateHTML(e)}this.image=this.shadowRoot.querySelector("#image")}attributeChangedCallback(e,r,n){e===tm.SRC&&(n==null?this.image.removeAttribute(tm.SRC):this.image.setAttribute(tm.SRC,n)),e===tm.PLACEHOLDER_SRC&&(n==null?MKe(this.image):FKe(this.image,n))}get placeholderSrc(){return Zo(this,tm.PLACEHOLDER_SRC)}set placeholderSrc(e){Jo(this,tm.SRC,e)}get src(){return Zo(this,tm.SRC)}set src(e){Jo(this,tm.SRC,e)}}WF.shadowRootOptions={mode:"open"};WF.getTemplateHTML=DKe;Gt.customElements.get("media-poster-image")||Gt.customElements.define("media-poster-image",WF);var pae=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},UKe=(t,e,r)=>(pae(t,e,"read from private field"),r?r.call(t):e.get(t)),$Ke=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},HKe=(t,e,r,n)=>(pae(t,e,"write to private field"),e.set(t,r),r),yT;class QKe extends B0{constructor(){super(),$Ke(this,yT,void 0),HKe(this,yT,this.shadowRoot.querySelector("slot"))}static get observedAttributes(){return[...super.observedAttributes,it.MEDIA_PREVIEW_CHAPTER,it.MEDIA_LANG]}attributeChangedCallback(e,r,n){if(super.attributeChangedCallback(e,r,n),(e===it.MEDIA_PREVIEW_CHAPTER||e===it.MEDIA_LANG)&&n!==r&&n!=null)if(UKe(this,yT).textContent=n,n!==""){const i=Xn("chapter: {chapterName}",{chapterName:n});this.setAttribute("aria-valuetext",i)}else this.removeAttribute("aria-valuetext")}get mediaPreviewChapter(){return Zo(this,it.MEDIA_PREVIEW_CHAPTER)}set mediaPreviewChapter(e){Jo(this,it.MEDIA_PREVIEW_CHAPTER,e)}}yT=new WeakMap;Gt.customElements.get("media-preview-chapter-display")||Gt.customElements.define("media-preview-chapter-display",QKe);var gae=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},f_=(t,e,r)=>(gae(t,e,"read from private field"),r?r.call(t):e.get(t)),VKe=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},A_=(t,e,r,n)=>(gae(t,e,"write to private field"),e.set(t,r),r),fm;function KKe(t){return`
    <style>
      :host {
        box-sizing: border-box;
        display: var(--media-control-display, var(--media-preview-thumbnail-display, inline-block));
        overflow: hidden;
      }

      img {
        display: none;
        position: relative;
      }
    </style>
    <img crossorigin loading="eager" decoding="async">
  `}class O5 extends Gt.HTMLElement{constructor(){if(super(),VKe(this,fm,void 0),!this.shadowRoot){this.attachShadow(this.constructor.shadowRootOptions);const e=ff(this.attributes);this.shadowRoot.innerHTML=this.constructor.getTemplateHTML(e)}}static get observedAttributes(){return[ka.MEDIA_CONTROLLER,it.MEDIA_PREVIEW_IMAGE,it.MEDIA_PREVIEW_COORDS]}connectedCallback(){var e,r,n;const i=this.getAttribute(ka.MEDIA_CONTROLLER);i&&(A_(this,fm,(e=this.getRootNode())==null?void 0:e.getElementById(i)),(n=(r=f_(this,fm))==null?void 0:r.associateElement)==null||n.call(r,this))}disconnectedCallback(){var e,r;(r=(e=f_(this,fm))==null?void 0:e.unassociateElement)==null||r.call(e,this),A_(this,fm,null)}attributeChangedCallback(e,r,n){var i,s,a,c,u;[it.MEDIA_PREVIEW_IMAGE,it.MEDIA_PREVIEW_COORDS].includes(e)&&this.update(),e===ka.MEDIA_CONTROLLER&&(r&&((s=(i=f_(this,fm))==null?void 0:i.unassociateElement)==null||s.call(i,this),A_(this,fm,null)),n&&this.isConnected&&(A_(this,fm,(a=this.getRootNode())==null?void 0:a.getElementById(n)),(u=(c=f_(this,fm))==null?void 0:c.associateElement)==null||u.call(c,this)))}get mediaPreviewImage(){return Zo(this,it.MEDIA_PREVIEW_IMAGE)}set mediaPreviewImage(e){Jo(this,it.MEDIA_PREVIEW_IMAGE,e)}get mediaPreviewCoords(){const e=this.getAttribute(it.MEDIA_PREVIEW_COORDS);if(e)return e.split(/\s+/).map(r=>+r)}set mediaPreviewCoords(e){if(!e){this.removeAttribute(it.MEDIA_PREVIEW_COORDS);return}this.setAttribute(it.MEDIA_PREVIEW_COORDS,e.join(" "))}update(){const e=this.mediaPreviewCoords,r=this.mediaPreviewImage;if(!(e&&r))return;const[n,i,s,a]=e,c=r.split("#")[0],u=getComputedStyle(this),{maxWidth:o,maxHeight:d,minWidth:f,minHeight:A}=u,p=Math.min(parseInt(o)/s,parseInt(d)/a),g=Math.max(parseInt(f)/s,parseInt(A)/a),y=p<1,v=y?p:g>1?g:1,{style:b}=hu(this.shadowRoot,":host"),w=hu(this.shadowRoot,"img").style,S=this.shadowRoot.querySelector("img"),_=y?"min":"max";b.setProperty(`${_}-width`,"initial","important"),b.setProperty(`${_}-height`,"initial","important"),b.width=`${s*v}px`,b.height=`${a*v}px`;const T=()=>{w.width=`${this.imgWidth*v}px`,w.height=`${this.imgHeight*v}px`,w.display="block"};S.src!==c&&(S.onload=()=>{this.imgWidth=S.naturalWidth,this.imgHeight=S.naturalHeight,T()},S.src=c,T()),T(),w.transform=`translate(-${n*v}px, -${i*v}px)`}}fm=new WeakMap;O5.shadowRootOptions={mode:"open"};O5.getTemplateHTML=KKe;Gt.customElements.get("media-preview-thumbnail")||Gt.customElements.define("media-preview-thumbnail",O5);var Fz=O5,vae=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},Uz=(t,e,r)=>(vae(t,e,"read from private field"),r?r.call(t):e.get(t)),GKe=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},zKe=(t,e,r,n)=>(vae(t,e,"write to private field"),e.set(t,r),r),vw;class WKe extends B0{constructor(){super(),GKe(this,vw,void 0),zKe(this,vw,this.shadowRoot.querySelector("slot")),Uz(this,vw).textContent=v0(0)}static get observedAttributes(){return[...super.observedAttributes,it.MEDIA_PREVIEW_TIME]}attributeChangedCallback(e,r,n){super.attributeChangedCallback(e,r,n),e===it.MEDIA_PREVIEW_TIME&&n!=null&&(Uz(this,vw).textContent=v0(parseFloat(n)))}get mediaPreviewTime(){return Xo(this,it.MEDIA_PREVIEW_TIME)}set mediaPreviewTime(e){rc(this,it.MEDIA_PREVIEW_TIME,e)}}vw=new WeakMap;Gt.customElements.get("media-preview-time-display")||Gt.customElements.define("media-preview-time-display",WKe);const rx={SEEK_OFFSET:"seekoffset"},_L=30,YKe=t=>`
  <svg aria-hidden="true" viewBox="0 0 20 24">
    <defs>
      <style>.text{font-size:8px;font-family:Arial-BoldMT, Arial;font-weight:700;}</style>
    </defs>
    <text class="text value" transform="translate(2.18 19.87)">${t}</text>
    <path d="M10 6V3L4.37 7 10 10.94V8a5.54 5.54 0 0 1 1.9 10.48v2.12A7.5 7.5 0 0 0 10 6Z"/>
  </svg>`;function qKe(t,e){return`
    <slot name="icon">${YKe(e.seekOffset)}</slot>
  `}function XKe(){return Xn("Seek backward")}const ZKe=0;class YF extends Wu{static get observedAttributes(){return[...super.observedAttributes,it.MEDIA_CURRENT_TIME,rx.SEEK_OFFSET]}connectedCallback(){super.connectedCallback(),this.seekOffset=Xo(this,rx.SEEK_OFFSET,_L)}attributeChangedCallback(e,r,n){super.attributeChangedCallback(e,r,n),e===rx.SEEK_OFFSET&&(this.seekOffset=Xo(this,rx.SEEK_OFFSET,_L))}get seekOffset(){return Xo(this,rx.SEEK_OFFSET,_L)}set seekOffset(e){rc(this,rx.SEEK_OFFSET,e),this.setAttribute("aria-label",Xn("seek back {seekOffset} seconds",{seekOffset:this.seekOffset})),Sse(_se(this,"icon"),this.seekOffset)}get mediaCurrentTime(){return Xo(this,it.MEDIA_CURRENT_TIME,ZKe)}set mediaCurrentTime(e){rc(this,it.MEDIA_CURRENT_TIME,e)}handleClick(){const e=Math.max(this.mediaCurrentTime-this.seekOffset,0),r=new Gt.CustomEvent(Nn.MEDIA_SEEK_REQUEST,{composed:!0,bubbles:!0,detail:e});this.dispatchEvent(r)}}YF.getSlotTemplateHTML=qKe;YF.getTooltipContentHTML=XKe;Gt.customElements.get("media-seek-backward-button")||Gt.customElements.define("media-seek-backward-button",YF);const nx={SEEK_OFFSET:"seekoffset"},TL=30,JKe=t=>`
  <svg aria-hidden="true" viewBox="0 0 20 24">
    <defs>
      <style>.text{font-size:8px;font-family:Arial-BoldMT, Arial;font-weight:700;}</style>
    </defs>
    <text class="text value" transform="translate(8.9 19.87)">${t}</text>
    <path d="M10 6V3l5.61 4L10 10.94V8a5.54 5.54 0 0 0-1.9 10.48v2.12A7.5 7.5 0 0 1 10 6Z"/>
  </svg>`;function eGe(t,e){return`
    <slot name="icon">${JKe(e.seekOffset)}</slot>
  `}function tGe(){return Xn("Seek forward")}const rGe=0;class qF extends Wu{static get observedAttributes(){return[...super.observedAttributes,it.MEDIA_CURRENT_TIME,nx.SEEK_OFFSET]}connectedCallback(){super.connectedCallback(),this.seekOffset=Xo(this,nx.SEEK_OFFSET,TL)}attributeChangedCallback(e,r,n){super.attributeChangedCallback(e,r,n),e===nx.SEEK_OFFSET&&(this.seekOffset=Xo(this,nx.SEEK_OFFSET,TL))}get seekOffset(){return Xo(this,nx.SEEK_OFFSET,TL)}set seekOffset(e){rc(this,nx.SEEK_OFFSET,e),this.setAttribute("aria-label",Xn("seek forward {seekOffset} seconds",{seekOffset:this.seekOffset})),Sse(_se(this,"icon"),this.seekOffset)}get mediaCurrentTime(){return Xo(this,it.MEDIA_CURRENT_TIME,rGe)}set mediaCurrentTime(e){rc(this,it.MEDIA_CURRENT_TIME,e)}handleClick(){const e=this.mediaCurrentTime+this.seekOffset,r=new Gt.CustomEvent(Nn.MEDIA_SEEK_REQUEST,{composed:!0,bubbles:!0,detail:e});this.dispatchEvent(r)}}qF.getSlotTemplateHTML=eGe;qF.getTooltipContentHTML=tGe;Gt.customElements.get("media-seek-forward-button")||Gt.customElements.define("media-seek-forward-button",qF);var yae=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},CL=(t,e,r)=>(yae(t,e,"read from private field"),r?r.call(t):e.get(t)),nGe=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},iGe=(t,e,r,n)=>(yae(t,e,"write to private field"),e.set(t,r),r),bx;const uv={REMAINING:"remaining",SHOW_DURATION:"showduration",NO_TOGGLE:"notoggle"},$z=[...Object.values(uv),it.MEDIA_CURRENT_TIME,it.MEDIA_DURATION,it.MEDIA_SEEKABLE],Hz=["Enter"," "],sGe="&nbsp;/&nbsp;",UO=(t,{timesSep:e=sGe}={})=>{var r,n;const i=(r=t.mediaCurrentTime)!=null?r:0,[,s]=(n=t.mediaSeekable)!=null?n:[];let a=0;Number.isFinite(t.mediaDuration)?a=t.mediaDuration:Number.isFinite(s)&&(a=s);const c=t.remaining?v0(0-(a-i)):v0(i);return t.showDuration?`${c}${e}${v0(a)}`:c},aGe="video not loaded, unknown time.",oGe=t=>{var e;const r=t.mediaCurrentTime,[,n]=(e=t.mediaSeekable)!=null?e:[];let i=null;if(Number.isFinite(t.mediaDuration)?i=t.mediaDuration:Number.isFinite(n)&&(i=n),r==null||i===null){t.setAttribute("aria-valuetext",aGe);return}const s=t.remaining?Gw(0-(i-r)):Gw(r);if(!t.showDuration){t.setAttribute("aria-valuetext",s);return}const a=Gw(i),c=`${s} of ${a}`;t.setAttribute("aria-valuetext",c)};function lGe(t,e){return`
    <slot>${UO(e)}</slot>
  `}class xae extends B0{constructor(){super(),nGe(this,bx,void 0),iGe(this,bx,this.shadowRoot.querySelector("slot")),CL(this,bx).innerHTML=`${UO(this)}`}static get observedAttributes(){return[...super.observedAttributes,...$z,"disabled"]}connectedCallback(){const{style:e}=hu(this.shadowRoot,":host(:hover:not([notoggle]))");e.setProperty("cursor","var(--media-cursor, pointer)"),e.setProperty("background","var(--media-control-hover-background, rgba(50 50 70 / .7))"),this.hasAttribute("disabled")||this.enable(),this.setAttribute("role","progressbar"),this.setAttribute("aria-label",Xn("playback time"));const r=n=>{const{key:i}=n;if(!Hz.includes(i)){this.removeEventListener("keyup",r);return}this.toggleTimeDisplay()};this.addEventListener("keydown",n=>{const{metaKey:i,altKey:s,key:a}=n;if(i||s||!Hz.includes(a)){this.removeEventListener("keyup",r);return}this.addEventListener("keyup",r)}),this.addEventListener("click",this.toggleTimeDisplay),super.connectedCallback()}toggleTimeDisplay(){this.noToggle||(this.hasAttribute("remaining")?this.removeAttribute("remaining"):this.setAttribute("remaining",""))}disconnectedCallback(){this.disable(),super.disconnectedCallback()}attributeChangedCallback(e,r,n){$z.includes(e)?this.update():e==="disabled"&&n!==r&&(n==null?this.enable():this.disable()),super.attributeChangedCallback(e,r,n)}enable(){this.tabIndex=0}disable(){this.tabIndex=-1}get remaining(){return ia(this,uv.REMAINING)}set remaining(e){sa(this,uv.REMAINING,e)}get showDuration(){return ia(this,uv.SHOW_DURATION)}set showDuration(e){sa(this,uv.SHOW_DURATION,e)}get noToggle(){return ia(this,uv.NO_TOGGLE)}set noToggle(e){sa(this,uv.NO_TOGGLE,e)}get mediaDuration(){return Xo(this,it.MEDIA_DURATION)}set mediaDuration(e){rc(this,it.MEDIA_DURATION,e)}get mediaCurrentTime(){return Xo(this,it.MEDIA_CURRENT_TIME)}set mediaCurrentTime(e){rc(this,it.MEDIA_CURRENT_TIME,e)}get mediaSeekable(){const e=this.getAttribute(it.MEDIA_SEEKABLE);if(e)return e.split(":").map(r=>+r)}set mediaSeekable(e){if(e==null){this.removeAttribute(it.MEDIA_SEEKABLE);return}this.setAttribute(it.MEDIA_SEEKABLE,e.join(":"))}update(){const e=UO(this);oGe(this),e!==CL(this,bx).innerHTML&&(CL(this,bx).innerHTML=e)}}bx=new WeakMap;xae.getSlotTemplateHTML=lGe;Gt.customElements.get("media-time-display")||Gt.customElements.define("media-time-display",xae);var bae=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},Du=(t,e,r)=>(bae(t,e,"read from private field"),e.get(t)),rm=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},Gh=(t,e,r,n)=>(bae(t,e,"write to private field"),e.set(t,r),r),cGe=(t,e,r,n)=>({set _(i){Gh(t,e,i)},get _(){return Du(t,e)}}),wx,xT,Ex,yw,bT,wT,ET,Sx,dv,ST;class uGe{constructor(e,r,n){rm(this,wx,void 0),rm(this,xT,void 0),rm(this,Ex,void 0),rm(this,yw,void 0),rm(this,bT,void 0),rm(this,wT,void 0),rm(this,ET,void 0),rm(this,Sx,void 0),rm(this,dv,0),rm(this,ST,(i=performance.now())=>{Gh(this,dv,requestAnimationFrame(Du(this,ST))),Gh(this,yw,performance.now()-Du(this,Ex));const s=1e3/this.fps;if(Du(this,yw)>s){Gh(this,Ex,i-Du(this,yw)%s);const a=1e3/((i-Du(this,xT))/++cGe(this,bT)._),c=(i-Du(this,wT))/1e3/this.duration;let u=Du(this,ET)+c*this.playbackRate;u-Du(this,wx).valueAsNumber>0?Gh(this,Sx,this.playbackRate/this.duration/a):(Gh(this,Sx,.995*Du(this,Sx)),u=Du(this,wx).valueAsNumber+Du(this,Sx)),this.callback(u)}}),Gh(this,wx,e),this.callback=r,this.fps=n}start(){Du(this,dv)===0&&(Gh(this,Ex,performance.now()),Gh(this,xT,Du(this,Ex)),Gh(this,bT,0),Du(this,ST).call(this))}stop(){Du(this,dv)!==0&&(cancelAnimationFrame(Du(this,dv)),Gh(this,dv,0))}update({start:e,duration:r,playbackRate:n}){const i=e-Du(this,wx).valueAsNumber,s=Math.abs(r-this.duration);(i>0||i<-.03||s>=.5)&&this.callback(e),Gh(this,ET,e),Gh(this,wT,performance.now()),this.duration=r,this.playbackRate=n}}wx=new WeakMap;xT=new WeakMap;Ex=new WeakMap;yw=new WeakMap;bT=new WeakMap;wT=new WeakMap;ET=new WeakMap;Sx=new WeakMap;dv=new WeakMap;ST=new WeakMap;var XF=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},xc=(t,e,r)=>(XF(t,e,"read from private field"),r?r.call(t):e.get(t)),iu=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},kf=(t,e,r,n)=>(XF(t,e,"write to private field"),e.set(t,r),r),Ld=(t,e,r)=>(XF(t,e,"access private method"),r),_x,Vv,Qj,Yw,Vj,_T,GE,zE,Tx,Cx,jx,xw,ZF,wae,$O,Kj,JF,Gj,eU,zj,tU,HO,Eae,WE,Wj,QO,Sae;const dGe="video not loaded, unknown time.",hGe=t=>{const e=t.range,r=Gw(+_ae(t)),n=Gw(+t.mediaSeekableEnd),i=r&&n?`${r} of ${n}`:dGe;e.setAttribute("aria-valuetext",i)};function fGe(t){return`
    <style>
      :host {
        --media-box-border-radius: 4px;
        --media-box-padding-left: 10px;
        --media-box-padding-right: 10px;
        --media-preview-border-radius: var(--media-box-border-radius);
        --media-box-arrow-offset: var(--media-box-border-radius);
        --_control-background: var(--media-control-background, var(--media-secondary-color, rgb(20 20 30 / .7)));
        --_preview-background: var(--media-preview-background, var(--_control-background));

        
        contain: layout;
      }

      #buffered {
        background: var(--media-time-range-buffered-color, rgb(255 255 255 / .4));
        position: absolute;
        height: 100%;
        will-change: width;
      }

      #preview-rail,
      #current-rail {
        width: 100%;
        position: absolute;
        left: 0;
        bottom: 100%;
        pointer-events: none;
        will-change: transform;
      }

      [part~="box"] {
        width: min-content;
        
        position: absolute;
        bottom: 100%;
        flex-direction: column;
        align-items: center;
        transform: translateX(-50%);
      }

      [part~="current-box"] {
        display: var(--media-current-box-display, var(--media-box-display, flex));
        margin: var(--media-current-box-margin, var(--media-box-margin, 0 0 5px));
        visibility: hidden;
      }

      [part~="preview-box"] {
        display: var(--media-preview-box-display, var(--media-box-display, flex));
        margin: var(--media-preview-box-margin, var(--media-box-margin, 0 0 5px));
        transition-property: var(--media-preview-transition-property, visibility, opacity);
        transition-duration: var(--media-preview-transition-duration-out, .25s);
        transition-delay: var(--media-preview-transition-delay-out, 0s);
        visibility: hidden;
        opacity: 0;
      }

      :host(:is([${it.MEDIA_PREVIEW_IMAGE}], [${it.MEDIA_PREVIEW_TIME}])[dragging]) [part~="preview-box"] {
        transition-duration: var(--media-preview-transition-duration-in, .5s);
        transition-delay: var(--media-preview-transition-delay-in, .25s);
        visibility: visible;
        opacity: 1;
      }

      @media (hover: hover) {
        :host(:is([${it.MEDIA_PREVIEW_IMAGE}], [${it.MEDIA_PREVIEW_TIME}]):hover) [part~="preview-box"] {
          transition-duration: var(--media-preview-transition-duration-in, .5s);
          transition-delay: var(--media-preview-transition-delay-in, .25s);
          visibility: visible;
          opacity: 1;
        }
      }

      media-preview-thumbnail,
      ::slotted(media-preview-thumbnail) {
        visibility: hidden;
        
        transition: visibility 0s .25s;
        transition-delay: calc(var(--media-preview-transition-delay-out, 0s) + var(--media-preview-transition-duration-out, .25s));
        background: var(--media-preview-thumbnail-background, var(--_preview-background));
        box-shadow: var(--media-preview-thumbnail-box-shadow, 0 0 4px rgb(0 0 0 / .2));
        max-width: var(--media-preview-thumbnail-max-width, 180px);
        max-height: var(--media-preview-thumbnail-max-height, 160px);
        min-width: var(--media-preview-thumbnail-min-width, 120px);
        min-height: var(--media-preview-thumbnail-min-height, 80px);
        border: var(--media-preview-thumbnail-border);
        border-radius: var(--media-preview-thumbnail-border-radius,
          var(--media-preview-border-radius) var(--media-preview-border-radius) 0 0);
      }

      :host([${it.MEDIA_PREVIEW_IMAGE}][dragging]) media-preview-thumbnail,
      :host([${it.MEDIA_PREVIEW_IMAGE}][dragging]) ::slotted(media-preview-thumbnail) {
        transition-delay: var(--media-preview-transition-delay-in, .25s);
        visibility: visible;
      }

      @media (hover: hover) {
        :host([${it.MEDIA_PREVIEW_IMAGE}]:hover) media-preview-thumbnail,
        :host([${it.MEDIA_PREVIEW_IMAGE}]:hover) ::slotted(media-preview-thumbnail) {
          transition-delay: var(--media-preview-transition-delay-in, .25s);
          visibility: visible;
        }

        :host([${it.MEDIA_PREVIEW_TIME}]:hover) {
          --media-time-range-hover-display: block;
        }
      }

      media-preview-chapter-display,
      ::slotted(media-preview-chapter-display) {
        font-size: var(--media-font-size, 13px);
        line-height: 17px;
        min-width: 0;
        visibility: hidden;
        
        transition: min-width 0s, border-radius 0s, margin 0s, padding 0s, visibility 0s;
        transition-delay: calc(var(--media-preview-transition-delay-out, 0s) + var(--media-preview-transition-duration-out, .25s));
        background: var(--media-preview-chapter-background, var(--_preview-background));
        border-radius: var(--media-preview-chapter-border-radius,
          var(--media-preview-border-radius) var(--media-preview-border-radius)
          var(--media-preview-border-radius) var(--media-preview-border-radius));
        padding: var(--media-preview-chapter-padding, 3.5px 9px);
        margin: var(--media-preview-chapter-margin, 0 0 5px);
        text-shadow: var(--media-preview-chapter-text-shadow, 0 0 4px rgb(0 0 0 / .75));
      }

      :host([${it.MEDIA_PREVIEW_IMAGE}]) media-preview-chapter-display,
      :host([${it.MEDIA_PREVIEW_IMAGE}]) ::slotted(media-preview-chapter-display) {
        transition-delay: var(--media-preview-transition-delay-in, .25s);
        border-radius: var(--media-preview-chapter-border-radius, 0);
        padding: var(--media-preview-chapter-padding, 3.5px 9px 0);
        margin: var(--media-preview-chapter-margin, 0);
        min-width: 100%;
      }

      media-preview-chapter-display[${it.MEDIA_PREVIEW_CHAPTER}],
      ::slotted(media-preview-chapter-display[${it.MEDIA_PREVIEW_CHAPTER}]) {
        visibility: visible;
      }

      media-preview-chapter-display:not([aria-valuetext]),
      ::slotted(media-preview-chapter-display:not([aria-valuetext])) {
        display: none;
      }

      media-preview-time-display,
      ::slotted(media-preview-time-display),
      media-time-display,
      ::slotted(media-time-display) {
        font-size: var(--media-font-size, 13px);
        line-height: 17px;
        min-width: 0;
        
        transition: min-width 0s, border-radius 0s;
        transition-delay: calc(var(--media-preview-transition-delay-out, 0s) + var(--media-preview-transition-duration-out, .25s));
        background: var(--media-preview-time-background, var(--_preview-background));
        border-radius: var(--media-preview-time-border-radius,
          var(--media-preview-border-radius) var(--media-preview-border-radius)
          var(--media-preview-border-radius) var(--media-preview-border-radius));
        padding: var(--media-preview-time-padding, 3.5px 9px);
        margin: var(--media-preview-time-margin, 0);
        text-shadow: var(--media-preview-time-text-shadow, 0 0 4px rgb(0 0 0 / .75));
        transform: translateX(min(
          max(calc(50% - var(--_box-width) / 2),
          calc(var(--_box-shift, 0))),
          calc(var(--_box-width) / 2 - 50%)
        ));
      }

      :host([${it.MEDIA_PREVIEW_IMAGE}]) media-preview-time-display,
      :host([${it.MEDIA_PREVIEW_IMAGE}]) ::slotted(media-preview-time-display) {
        transition-delay: var(--media-preview-transition-delay-in, .25s);
        border-radius: var(--media-preview-time-border-radius,
          0 0 var(--media-preview-border-radius) var(--media-preview-border-radius));
        min-width: 100%;
      }

      :host([${it.MEDIA_PREVIEW_TIME}]:hover) {
        --media-time-range-hover-display: block;
      }

      [part~="arrow"],
      ::slotted([part~="arrow"]) {
        display: var(--media-box-arrow-display, inline-block);
        transform: translateX(min(
          max(calc(50% - var(--_box-width) / 2 + var(--media-box-arrow-offset)),
          calc(var(--_box-shift, 0))),
          calc(var(--_box-width) / 2 - 50% - var(--media-box-arrow-offset))
        ));
        
        border-color: transparent;
        border-top-color: var(--media-box-arrow-background, var(--_control-background));
        border-width: var(--media-box-arrow-border-width,
          var(--media-box-arrow-height, 5px) var(--media-box-arrow-width, 6px) 0);
        border-style: solid;
        justify-content: center;
        height: 0;
      }
    </style>
    <div id="preview-rail">
      <slot name="preview" part="box preview-box">
        <media-preview-thumbnail>
          <template shadowrootmode="${Fz.shadowRootOptions.mode}">
            ${Fz.getTemplateHTML({})}
          </template>
        </media-preview-thumbnail>
        <media-preview-chapter-display></media-preview-chapter-display>
        <media-preview-time-display></media-preview-time-display>
        <slot name="preview-arrow"><div part="arrow"></div></slot>
      </slot>
    </div>
    <div id="current-rail">
      <slot name="current" part="box current-box">
        
      </slot>
    </div>
  `}const m_=(t,e=t.mediaCurrentTime)=>{const r=Number.isFinite(t.mediaSeekableStart)?t.mediaSeekableStart:0,n=Number.isFinite(t.mediaDuration)?t.mediaDuration:t.mediaSeekableEnd;if(Number.isNaN(n))return 0;const i=(e-r)/(n-r);return Math.max(0,Math.min(i,1))},_ae=(t,e=t.range.valueAsNumber)=>{const r=Number.isFinite(t.mediaSeekableStart)?t.mediaSeekableStart:0,n=Number.isFinite(t.mediaDuration)?t.mediaDuration:t.mediaSeekableEnd;return Number.isNaN(n)?0:e*(n-r)+r};class rU extends o1{constructor(){super(),iu(this,jx),iu(this,ZF),iu(this,Kj),iu(this,Gj),iu(this,zj),iu(this,HO),iu(this,WE),iu(this,QO),iu(this,_x,void 0),iu(this,Vv,void 0),iu(this,Qj,void 0),iu(this,Yw,void 0),iu(this,Vj,void 0),iu(this,_T,void 0),iu(this,GE,void 0),iu(this,zE,void 0),iu(this,Tx,void 0),iu(this,Cx,void 0),iu(this,$O,n=>{this.dragging||(wF(n)&&(this.range.valueAsNumber=n),xc(this,Cx)||this.updateBar())}),this.shadowRoot.querySelector("#track").insertAdjacentHTML("afterbegin",'<div id="buffered" part="buffered"></div>'),kf(this,Qj,this.shadowRoot.querySelectorAll('[part~="box"]')),kf(this,Vj,this.shadowRoot.querySelector('[part~="preview-box"]')),kf(this,_T,this.shadowRoot.querySelector('[part~="current-box"]'));const r=getComputedStyle(this);kf(this,GE,parseInt(r.getPropertyValue("--media-box-padding-left"))),kf(this,zE,parseInt(r.getPropertyValue("--media-box-padding-right"))),kf(this,Vv,new uGe(this.range,xc(this,$O),60))}static get observedAttributes(){return[...super.observedAttributes,it.MEDIA_PAUSED,it.MEDIA_DURATION,it.MEDIA_SEEKABLE,it.MEDIA_CURRENT_TIME,it.MEDIA_PREVIEW_IMAGE,it.MEDIA_PREVIEW_TIME,it.MEDIA_PREVIEW_CHAPTER,it.MEDIA_BUFFERED,it.MEDIA_PLAYBACK_RATE,it.MEDIA_LOADING,it.MEDIA_ENDED]}connectedCallback(){var e;super.connectedCallback(),this.range.setAttribute("aria-label",Xn("seek")),Ld(this,jx,xw).call(this),kf(this,_x,this.getRootNode()),(e=xc(this,_x))==null||e.addEventListener("transitionstart",this)}disconnectedCallback(){var e;super.disconnectedCallback(),Ld(this,jx,xw).call(this),(e=xc(this,_x))==null||e.removeEventListener("transitionstart",this),kf(this,_x,null)}attributeChangedCallback(e,r,n){super.attributeChangedCallback(e,r,n),r!=n&&(e===it.MEDIA_CURRENT_TIME||e===it.MEDIA_PAUSED||e===it.MEDIA_ENDED||e===it.MEDIA_LOADING||e===it.MEDIA_DURATION||e===it.MEDIA_SEEKABLE?(xc(this,Vv).update({start:m_(this),duration:this.mediaSeekableEnd-this.mediaSeekableStart,playbackRate:this.mediaPlaybackRate}),Ld(this,jx,xw).call(this),hGe(this)):e===it.MEDIA_BUFFERED&&this.updateBufferedBar(),(e===it.MEDIA_DURATION||e===it.MEDIA_SEEKABLE)&&(this.mediaChaptersCues=xc(this,Tx),this.updateBar()))}get mediaChaptersCues(){return xc(this,Tx)}set mediaChaptersCues(e){var r;kf(this,Tx,e),this.updateSegments((r=xc(this,Tx))==null?void 0:r.map(n=>({start:m_(this,n.startTime),end:m_(this,n.endTime)})))}get mediaPaused(){return ia(this,it.MEDIA_PAUSED)}set mediaPaused(e){sa(this,it.MEDIA_PAUSED,e)}get mediaLoading(){return ia(this,it.MEDIA_LOADING)}set mediaLoading(e){sa(this,it.MEDIA_LOADING,e)}get mediaDuration(){return Xo(this,it.MEDIA_DURATION)}set mediaDuration(e){rc(this,it.MEDIA_DURATION,e)}get mediaCurrentTime(){return Xo(this,it.MEDIA_CURRENT_TIME)}set mediaCurrentTime(e){rc(this,it.MEDIA_CURRENT_TIME,e)}get mediaPlaybackRate(){return Xo(this,it.MEDIA_PLAYBACK_RATE,1)}set mediaPlaybackRate(e){rc(this,it.MEDIA_PLAYBACK_RATE,e)}get mediaBuffered(){const e=this.getAttribute(it.MEDIA_BUFFERED);return e?e.split(" ").map(r=>r.split(":").map(n=>+n)):[]}set mediaBuffered(e){if(!e){this.removeAttribute(it.MEDIA_BUFFERED);return}const r=e.map(n=>n.join(":")).join(" ");this.setAttribute(it.MEDIA_BUFFERED,r)}get mediaSeekable(){const e=this.getAttribute(it.MEDIA_SEEKABLE);if(e)return e.split(":").map(r=>+r)}set mediaSeekable(e){if(e==null){this.removeAttribute(it.MEDIA_SEEKABLE);return}this.setAttribute(it.MEDIA_SEEKABLE,e.join(":"))}get mediaSeekableEnd(){var e;const[,r=this.mediaDuration]=(e=this.mediaSeekable)!=null?e:[];return r}get mediaSeekableStart(){var e;const[r=0]=(e=this.mediaSeekable)!=null?e:[];return r}get mediaPreviewImage(){return Zo(this,it.MEDIA_PREVIEW_IMAGE)}set mediaPreviewImage(e){Jo(this,it.MEDIA_PREVIEW_IMAGE,e)}get mediaPreviewTime(){return Xo(this,it.MEDIA_PREVIEW_TIME)}set mediaPreviewTime(e){rc(this,it.MEDIA_PREVIEW_TIME,e)}get mediaEnded(){return ia(this,it.MEDIA_ENDED)}set mediaEnded(e){sa(this,it.MEDIA_ENDED,e)}updateBar(){super.updateBar(),this.updateBufferedBar(),this.updateCurrentBox()}updateBufferedBar(){var e;const r=this.mediaBuffered;if(!r.length)return;let n;if(this.mediaEnded)n=1;else{const s=this.mediaCurrentTime,[,a=this.mediaSeekableStart]=(e=r.find(([c,u])=>c<=s&&s<=u))!=null?e:[];n=m_(this,a)}const{style:i}=hu(this.shadowRoot,"#buffered");i.setProperty("width",`${n*100}%`)}updateCurrentBox(){if(!this.shadowRoot.querySelector('slot[name="current"]').assignedElements().length)return;const r=hu(this.shadowRoot,"#current-rail"),n=hu(this.shadowRoot,'[part~="current-box"]'),i=Ld(this,Kj,JF).call(this,xc(this,_T)),s=Ld(this,Gj,eU).call(this,i,this.range.valueAsNumber),a=Ld(this,zj,tU).call(this,i,this.range.valueAsNumber);r.style.transform=`translateX(${s})`,r.style.setProperty("--_range-width",`${i.range.width}`),n.style.setProperty("--_box-shift",`${a}`),n.style.setProperty("--_box-width",`${i.box.width}px`),n.style.setProperty("visibility","initial")}handleEvent(e){switch(super.handleEvent(e),e.type){case"input":Ld(this,QO,Sae).call(this);break;case"pointermove":Ld(this,HO,Eae).call(this,e);break;case"pointerup":xc(this,Cx)&&kf(this,Cx,!1);break;case"pointerdown":kf(this,Cx,!0);break;case"pointerleave":Ld(this,WE,Wj).call(this,null);break;case"transitionstart":ig(e.target,this)&&setTimeout(()=>Ld(this,jx,xw).call(this),0);break}}}_x=new WeakMap;Vv=new WeakMap;Qj=new WeakMap;Yw=new WeakMap;Vj=new WeakMap;_T=new WeakMap;GE=new WeakMap;zE=new WeakMap;Tx=new WeakMap;Cx=new WeakMap;jx=new WeakSet;xw=function(){Ld(this,ZF,wae).call(this)?xc(this,Vv).start():xc(this,Vv).stop()};ZF=new WeakSet;wae=function(){return this.isConnected&&!this.mediaPaused&&!this.mediaLoading&&!this.mediaEnded&&this.mediaSeekableEnd>0&&Tse(this)};$O=new WeakMap;Kj=new WeakSet;JF=function(t){var e;const n=((e=this.getAttribute("bounds")?s1(this,`#${this.getAttribute("bounds")}`):this.parentElement)!=null?e:this).getBoundingClientRect(),i=this.range.getBoundingClientRect(),s=t.offsetWidth,a=-(i.left-n.left-s/2),c=n.right-i.left-s/2;return{box:{width:s,min:a,max:c},bounds:n,range:i}};Gj=new WeakSet;eU=function(t,e){let r=`${e*100}%`;const{width:n,min:i,max:s}=t.box;if(!n)return r;if(Number.isNaN(i)||(r=`max(${`calc(1 / var(--_range-width) * 100 * ${i}% + var(--media-box-padding-left))`}, ${r})`),!Number.isNaN(s)){const c=`calc(1 / var(--_range-width) * 100 * ${s}% - var(--media-box-padding-right))`;r=`min(${r}, ${c})`}return r};zj=new WeakSet;tU=function(t,e){const{width:r,min:n,max:i}=t.box,s=e*t.range.width;if(s<n+xc(this,GE)){const a=t.range.left-t.bounds.left-xc(this,GE);return`${s-r/2+a}px`}if(s>i-xc(this,zE)){const a=t.bounds.right-t.range.right-xc(this,zE);return`${s+r/2-a-t.range.width}px`}return 0};HO=new WeakSet;Eae=function(t){const e=[...xc(this,Qj)].some(d=>t.composedPath().includes(d));if(!this.dragging&&(e||!t.composedPath().includes(this))){Ld(this,WE,Wj).call(this,null);return}const r=this.mediaSeekableEnd;if(!r)return;const n=hu(this.shadowRoot,"#preview-rail"),i=hu(this.shadowRoot,'[part~="preview-box"]'),s=Ld(this,Kj,JF).call(this,xc(this,Vj));let a=(t.clientX-s.range.left)/s.range.width;a=Math.max(0,Math.min(1,a));const c=Ld(this,Gj,eU).call(this,s,a),u=Ld(this,zj,tU).call(this,s,a);n.style.transform=`translateX(${c})`,n.style.setProperty("--_range-width",`${s.range.width}`),i.style.setProperty("--_box-shift",`${u}`),i.style.setProperty("--_box-width",`${s.box.width}px`);const o=Math.round(xc(this,Yw))-Math.round(a*r);Math.abs(o)<1&&a>.01&&a<.99||(kf(this,Yw,a*r),Ld(this,WE,Wj).call(this,xc(this,Yw)))};WE=new WeakSet;Wj=function(t){this.dispatchEvent(new Gt.CustomEvent(Nn.MEDIA_PREVIEW_REQUEST,{composed:!0,bubbles:!0,detail:t}))};QO=new WeakSet;Sae=function(){xc(this,Vv).stop();const t=_ae(this);this.dispatchEvent(new Gt.CustomEvent(Nn.MEDIA_SEEK_REQUEST,{composed:!0,bubbles:!0,detail:t}))};rU.shadowRootOptions={mode:"open"};rU.getContainerTemplateHTML=fGe;Gt.customElements.get("media-time-range")||Gt.customElements.define("media-time-range",rU);const AGe=1,mGe=t=>t.mediaMuted?0:t.mediaVolume,pGe=t=>`${Math.round(t*100)}%`;class gGe extends o1{static get observedAttributes(){return[...super.observedAttributes,it.MEDIA_VOLUME,it.MEDIA_MUTED,it.MEDIA_VOLUME_UNAVAILABLE]}constructor(){super(),this.range.addEventListener("input",()=>{const e=this.range.value,r=new Gt.CustomEvent(Nn.MEDIA_VOLUME_REQUEST,{composed:!0,bubbles:!0,detail:e});this.dispatchEvent(r)})}connectedCallback(){super.connectedCallback(),this.range.setAttribute("aria-label",Xn("volume"))}attributeChangedCallback(e,r,n){super.attributeChangedCallback(e,r,n),(e===it.MEDIA_VOLUME||e===it.MEDIA_MUTED)&&(this.range.valueAsNumber=mGe(this),this.range.setAttribute("aria-valuetext",pGe(this.range.valueAsNumber)),this.updateBar())}get mediaVolume(){return Xo(this,it.MEDIA_VOLUME,AGe)}set mediaVolume(e){rc(this,it.MEDIA_VOLUME,e)}get mediaMuted(){return ia(this,it.MEDIA_MUTED)}set mediaMuted(e){sa(this,it.MEDIA_MUTED,e)}get mediaVolumeUnavailable(){return Zo(this,it.MEDIA_VOLUME_UNAVAILABLE)}set mediaVolumeUnavailable(e){Jo(this,it.MEDIA_VOLUME_UNAVAILABLE,e)}}Gt.customElements.get("media-volume-range")||Gt.customElements.define("media-volume-range",gGe);function vGe(t){return`
      <style>
        :host {
          min-width: 4ch;
          padding: var(--media-button-padding, var(--media-control-padding, 10px 5px));
          width: 100%;
          display: grid;
          grid-template-columns: 1fr auto;
          gap: 1rem;
          font-weight: var(--media-button-font-weight, normal);
        }

        #checked-indicator {
          display: none;
        }

        :host([${it.MEDIA_LOOP}]) #checked-indicator {
          display: block;
        }
      </style>
      
      <span id="icon">
     </span>

      <div id="checked-indicator">
        <svg aria-hidden="true" viewBox="0 1 24 24" part="checked-indicator indicator">
          <path d="m10 15.17 9.193-9.191 1.414 1.414-10.606 10.606-6.364-6.364 1.414-1.414 4.95 4.95Z"/>
        </svg>
      </div>
    `}function yGe(){return Xn("Loop")}class nU extends Wu{constructor(){super(...arguments),this.container=null}static get observedAttributes(){return[...super.observedAttributes,it.MEDIA_LOOP]}connectedCallback(){var e;super.connectedCallback(),this.container=((e=this.shadowRoot)==null?void 0:e.querySelector("#icon"))||null,this.container&&(this.container.textContent=Xn("Loop"))}attributeChangedCallback(e,r,n){super.attributeChangedCallback(e,r,n),e===it.MEDIA_LOOP&&this.container&&this.setAttribute("aria-checked",this.mediaLoop?"true":"false")}get mediaLoop(){return ia(this,it.MEDIA_LOOP)}set mediaLoop(e){sa(this,it.MEDIA_LOOP,e)}handleClick(){const e=!this.mediaLoop,r=new Gt.CustomEvent(Nn.MEDIA_LOOP_REQUEST,{composed:!0,bubbles:!0,detail:e});this.dispatchEvent(r)}}nU.getSlotTemplateHTML=vGe;nU.getTooltipContentHTML=yGe;Gt.customElements.get("media-loop-button")||Gt.customElements.define("media-loop-button",nU);var Tae=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},Us=(t,e,r)=>(Tae(t,e,"read from private field"),r?r.call(t):e.get(t)),xm=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},jp=(t,e,r,n)=>(Tae(t,e,"write to private field"),e.set(t,r),r),Nx,TT,hv,bw,Gg,zg,Wg,fv,Ix,CT,hA;const Qz=1,Vz=0,xGe=1,bGe={processCallback(t,e,r){if(r){for(const[n,i]of e)if(n in r){const s=r[n];typeof s=="boolean"&&i instanceof CA&&typeof i.element[i.attributeName]=="boolean"?i.booleanValue=s:typeof s=="function"&&i instanceof CA?i.element[i.attributeName]=s:i.value=s}}}};class P5 extends Gt.DocumentFragment{constructor(e,r,n=bGe){var i;super(),xm(this,Nx,void 0),xm(this,TT,void 0),this.append(e.content.cloneNode(!0)),jp(this,Nx,Cae(this)),jp(this,TT,n),(i=n.createCallback)==null||i.call(n,this,Us(this,Nx),r),n.processCallback(this,Us(this,Nx),r)}update(e){Us(this,TT).processCallback(this,Us(this,Nx),e)}}Nx=new WeakMap;TT=new WeakMap;const Cae=(t,e=[])=>{let r,n;for(const i of t.attributes||[])if(i.value.includes("{{")){const s=new EGe;for([r,n]of Gz(i.value))if(!r)s.append(n);else{const a=new CA(t,i.name,i.namespaceURI);s.append(a),e.push([n,a])}i.value=s.toString()}for(const i of t.childNodes)if(i.nodeType===Qz&&!(i instanceof HTMLTemplateElement))Cae(i,e);else{const s=i.data;if(i.nodeType===Qz||s.includes("{{")){const a=[];if(s)for([r,n]of Gz(s))if(!r)a.push(new Text(n));else{const c=new l1(t);a.push(c),e.push([n,c])}else if(i instanceof HTMLTemplateElement){const c=new Iae(t,i);a.push(c),e.push([c.expression,c])}i.replaceWith(...a.flatMap(c=>c.replacementNodes||[c]))}}return e},Kz={},Gz=t=>{let e="",r=0,n=Kz[t],i=0,s;if(n)return n;for(n=[];s=t[i];i++)s==="{"&&t[i+1]==="{"&&t[i-1]!=="\\"&&t[i+2]&&++r==1?(e&&n.push([Vz,e]),e="",i++):s==="}"&&t[i+1]==="}"&&t[i-1]!=="\\"&&!--r?(n.push([xGe,e.trim()]),e="",i++):e+=s||"";return e&&n.push([Vz,(r>0?"{{":"")+e]),Kz[t]=n},wGe=11;class jae{get value(){return""}set value(e){}toString(){return this.value}}const Nae=new WeakMap;class EGe{constructor(){xm(this,hv,[])}[Symbol.iterator](){return Us(this,hv).values()}get length(){return Us(this,hv).length}item(e){return Us(this,hv)[e]}append(...e){for(const r of e)r instanceof CA&&Nae.set(r,this),Us(this,hv).push(r)}toString(){return Us(this,hv).join("")}}hv=new WeakMap;class CA extends jae{constructor(e,r,n){super(),xm(this,fv),xm(this,bw,""),xm(this,Gg,void 0),xm(this,zg,void 0),xm(this,Wg,void 0),jp(this,Gg,e),jp(this,zg,r),jp(this,Wg,n)}get attributeName(){return Us(this,zg)}get attributeNamespace(){return Us(this,Wg)}get element(){return Us(this,Gg)}get value(){return Us(this,bw)}set value(e){Us(this,bw)!==e&&(jp(this,bw,e),!Us(this,fv,Ix)||Us(this,fv,Ix).length===1?e==null?Us(this,Gg).removeAttributeNS(Us(this,Wg),Us(this,zg)):Us(this,Gg).setAttributeNS(Us(this,Wg),Us(this,zg),e):Us(this,Gg).setAttributeNS(Us(this,Wg),Us(this,zg),Us(this,fv,Ix).toString()))}get booleanValue(){return Us(this,Gg).hasAttributeNS(Us(this,Wg),Us(this,zg))}set booleanValue(e){if(!Us(this,fv,Ix)||Us(this,fv,Ix).length===1)this.value=e?"":null;else throw new DOMException("Value is not fully templatized")}}bw=new WeakMap;Gg=new WeakMap;zg=new WeakMap;Wg=new WeakMap;fv=new WeakSet;Ix=function(){return Nae.get(this)};class l1 extends jae{constructor(e,r){super(),xm(this,CT,void 0),xm(this,hA,void 0),jp(this,CT,e),jp(this,hA,r?[...r]:[new Text])}get replacementNodes(){return Us(this,hA)}get parentNode(){return Us(this,CT)}get nextSibling(){return Us(this,hA)[Us(this,hA).length-1].nextSibling}get previousSibling(){return Us(this,hA)[0].previousSibling}get value(){return Us(this,hA).map(e=>e.textContent).join("")}set value(e){this.replace(e)}replace(...e){const r=e.flat().flatMap(n=>n==null?[new Text]:n.forEach?[...n]:n.nodeType===wGe?[...n.childNodes]:n.nodeType?[n]:[new Text(n)]);r.length||r.push(new Text),jp(this,hA,SGe(Us(this,hA)[0].parentNode,Us(this,hA),r,this.nextSibling))}}CT=new WeakMap;hA=new WeakMap;class Iae extends l1{constructor(e,r){const n=r.getAttribute("directive")||r.getAttribute("type");let i=r.getAttribute("expression")||r.getAttribute(n)||"";i.startsWith("{{")&&(i=i.trim().slice(2,-2).trim()),super(e),this.expression=i,this.template=r,this.directive=n}}function SGe(t,e,r,n=null){let i=0,s,a,c,u=r.length,o=e.length;for(;i<u&&i<o&&e[i]==r[i];)i++;for(;i<u&&i<o&&r[u-1]==e[o-1];)n=r[--o,--u];if(i==o)for(;i<u;)t.insertBefore(r[i++],n);if(i==u)for(;i<o;)t.removeChild(e[i++]);else{for(s=e[i];i<u;)c=r[i++],a=s?s.nextSibling:n,s==c?s=a:i<u&&r[i]==a?(t.replaceChild(c,s),s=a):t.insertBefore(c,s);for(;s!=n;)a=s.nextSibling,t.removeChild(s),s=a}return r}const zz={string:t=>String(t)};class kae{constructor(e){this.template=e,this.state=void 0}}const Bv=new WeakMap,Lv=new WeakMap,VO={partial:(t,e)=>{e[t.expression]=new kae(t.template)},if:(t,e)=>{var r;if(Bae(t.expression,e))if(Bv.get(t)!==t.template){Bv.set(t,t.template);const n=new P5(t.template,e,iU);t.replace(n),Lv.set(t,n)}else(r=Lv.get(t))==null||r.update(e);else t.replace(""),Bv.delete(t),Lv.delete(t)}},_Ge=Object.keys(VO),iU={processCallback(t,e,r){var n,i;if(r)for(const[s,a]of e){if(a instanceof Iae){if(!a.directive){const u=_Ge.find(o=>a.template.hasAttribute(o));u&&(a.directive=u,a.expression=a.template.getAttribute(u))}(n=VO[a.directive])==null||n.call(VO,a,r);continue}let c=Bae(s,r);if(c instanceof kae){Bv.get(a)!==c.template?(Bv.set(a,c.template),c=new P5(c.template,c.state,iU),a.value=c,Lv.set(a,c)):(i=Lv.get(a))==null||i.update(c.state);continue}c?(a instanceof CA&&a.attributeName.startsWith("aria-")&&(c=String(c)),a instanceof CA?typeof c=="boolean"?a.booleanValue=c:typeof c=="function"?a.element[a.attributeName]=c:a.value=c:(a.value=c,Bv.delete(a),Lv.delete(a))):a instanceof CA?a.value=void 0:(a.value=void 0,Bv.delete(a),Lv.delete(a))}}},Wz={"!":t=>!t,"!!":t=>!!t,"==":(t,e)=>t==e,"!=":(t,e)=>t!=e,">":(t,e)=>t>e,">=":(t,e)=>t>=e,"<":(t,e)=>t<e,"<=":(t,e)=>t<=e,"??":(t,e)=>t??e,"|":(t,e)=>{var r;return(r=zz[e])==null?void 0:r.call(zz,t)}};function TGe(t){return CGe(t,{boolean:/true|false/,number:/-?\d+\.?\d*/,string:/(["'])((?:\\.|[^\\])*?)\1/,operator:/[!=><][=!]?|\?\?|\|/,ws:/\s+/,param:/[$a-z_][$\w]*/i}).filter(({type:e})=>e!=="ws")}function Bae(t,e={}){var r,n,i,s,a,c,u;const o=TGe(t);if(o.length===0||o.some(({type:d})=>!d))return K1(t);if(((r=o[0])==null?void 0:r.token)===">"){const d=e[(n=o[1])==null?void 0:n.token];if(!d)return K1(t);const f={...e};d.state=f;const A=o.slice(2);for(let p=0;p<A.length;p+=3){const g=(i=A[p])==null?void 0:i.token,y=(s=A[p+1])==null?void 0:s.token,v=(a=A[p+2])==null?void 0:a.token;g&&y==="="&&(f[g]=G1(v,e))}return d}if(o.length===1)return p_(o[0])?G1(o[0].token,e):K1(t);if(o.length===2){const d=(c=o[0])==null?void 0:c.token,f=Wz[d];if(!f||!p_(o[1]))return K1(t);const A=G1(o[1].token,e);return f(A)}if(o.length===3){const d=(u=o[1])==null?void 0:u.token,f=Wz[d];if(!f||!p_(o[0])||!p_(o[2]))return K1(t);const A=G1(o[0].token,e);if(d==="|")return f(A,o[2].token);const p=G1(o[2].token,e);return f(A,p)}}function K1(t){return console.warn(`Warning: invalid expression \`${t}\``),!1}function p_({type:t}){return["number","boolean","string","param"].includes(t)}function G1(t,e){const r=t[0],n=t.slice(-1);return t==="true"||t==="false"?t==="true":r===n&&["'",'"'].includes(r)?t.slice(1,-1):pse(t)?parseFloat(t):e[t]}function CGe(t,e){let r,n,i;const s=[];for(;t;){i=null,r=t.length;for(const a in e)n=e[a].exec(t),n&&n.index<r&&(i={token:n[0],type:a,matches:n.slice(1)},r=n.index);r&&s.push({token:t.substr(0,r),type:void 0}),i&&s.push(i),t=t.substr(r+(i?i.token.length:0))}return s}var sU=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},KO=(t,e,r)=>(sU(t,e,"read from private field"),r?r.call(t):e.get(t)),z1=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},Rv=(t,e,r,n)=>(sU(t,e,"write to private field"),e.set(t,r),r),jL=(t,e,r)=>(sU(t,e,"access private method"),r),cb,jT,ub,GO,Lae,NT,zO;const NL={mediatargetlivewindow:"targetlivewindow",mediastreamtype:"streamtype"},Rae=Qc.createElement("template");Rae.innerHTML=`
  <style>
    :host {
      display: inline-block;
      line-height: 0;
    }

    media-controller {
      width: 100%;
      height: 100%;
    }

    media-captions-button:not([mediasubtitleslist]),
    media-captions-menu:not([mediasubtitleslist]),
    media-captions-menu-button:not([mediasubtitleslist]),
    media-audio-track-menu[mediaaudiotrackunavailable],
    media-audio-track-menu-button[mediaaudiotrackunavailable],
    media-rendition-menu[mediarenditionunavailable],
    media-rendition-menu-button[mediarenditionunavailable],
    media-volume-range[mediavolumeunavailable],
    media-airplay-button[mediaairplayunavailable],
    media-fullscreen-button[mediafullscreenunavailable],
    media-cast-button[mediacastunavailable],
    media-pip-button[mediapipunavailable] {
      display: none;
    }
  </style>
`;class D5 extends Gt.HTMLElement{constructor(){super(),z1(this,GO),z1(this,NT),z1(this,cb,void 0),z1(this,jT,void 0),z1(this,ub,void 0),this.shadowRoot?this.renderRoot=this.shadowRoot:(this.renderRoot=this.attachShadow({mode:"open"}),this.createRenderer());const e=new MutationObserver(r=>{var n;this.mediaController&&!((n=this.mediaController)!=null&&n.breakpointsComputed)||r.some(i=>{const s=i.target;return s===this?!0:s.localName!=="media-controller"?!1:!!(NL[i.attributeName]||i.attributeName.startsWith("breakpoint"))})&&this.render()});e.observe(this,{attributes:!0}),e.observe(this.renderRoot,{attributes:!0,subtree:!0}),this.addEventListener(zp.BREAKPOINTS_COMPUTED,this.render),jL(this,GO,Lae).call(this,"template")}get mediaController(){return this.renderRoot.querySelector("media-controller")}get template(){var e;return(e=KO(this,cb))!=null?e:this.constructor.template}set template(e){if(e===null){this.removeAttribute("template");return}typeof e=="string"?this.setAttribute("template",e):e instanceof HTMLTemplateElement&&(Rv(this,cb,e),Rv(this,ub,null),this.createRenderer())}get props(){var e,r,n;const i=[...Array.from((r=(e=this.mediaController)==null?void 0:e.attributes)!=null?r:[]).filter(({name:a})=>NL[a]||a.startsWith("breakpoint")),...Array.from(this.attributes)],s={};for(const a of i){const c=(n=NL[a.name])!=null?n:IQe(a.name);let{value:u}=a;u!=null?(pse(u)&&(u=parseFloat(u)),s[c]=u===""?!0:u):s[c]=!1}return s}attributeChangedCallback(e,r,n){e==="template"&&r!=n&&jL(this,NT,zO).call(this)}connectedCallback(){jL(this,NT,zO).call(this)}createRenderer(){this.template instanceof HTMLTemplateElement&&this.template!==KO(this,jT)&&(Rv(this,jT,this.template),this.renderer=new P5(this.template,this.props,this.constructor.processor),this.renderRoot.textContent="",this.renderRoot.append(Rae.content.cloneNode(!0),this.renderer))}render(){var e;(e=this.renderer)==null||e.update(this.props)}}cb=new WeakMap;jT=new WeakMap;ub=new WeakMap;GO=new WeakSet;Lae=function(t){if(Object.prototype.hasOwnProperty.call(this,t)){const e=this[t];delete this[t],this[t]=e}};NT=new WeakSet;zO=function(){var t;const e=this.getAttribute("template");if(!e||e===KO(this,ub))return;const r=this.getRootNode(),n=(t=r?.getElementById)==null?void 0:t.call(r,e);if(n){Rv(this,ub,e),Rv(this,cb,n),this.createRenderer();return}jGe(e)&&(Rv(this,ub,e),NGe(e).then(i=>{const s=Qc.createElement("template");s.innerHTML=i,Rv(this,cb,s),this.createRenderer()}).catch(console.error))};D5.observedAttributes=["template"];D5.processor=iU;function jGe(t){if(!/^(\/|\.\/|https?:\/\/)/.test(t))return!1;const e=/^https?:\/\//.test(t)?void 0:location.origin;try{new URL(t,e)}catch{return!1}return!0}async function NGe(t){const e=await fetch(t);if(e.status!==200)throw new Error(`Failed to load resource: the server responded with a status of ${e.status}`);return e.text()}Gt.customElements.get("media-theme")||Gt.customElements.define("media-theme",D5);function IGe({anchor:t,floating:e,placement:r}){const n=kGe({anchor:t,floating:e}),{x:i,y:s}=LGe(n,r);return{x:i,y:s}}function kGe({anchor:t,floating:e}){return{anchor:BGe(t,e.offsetParent),floating:{x:0,y:0,width:e.offsetWidth,height:e.offsetHeight}}}function BGe(t,e){var r;const n=t.getBoundingClientRect(),i=(r=e?.getBoundingClientRect())!=null?r:{x:0,y:0};return{x:n.x-i.x,y:n.y-i.y,width:n.width,height:n.height}}function LGe({anchor:t,floating:e},r){const n=RGe(r)==="x"?"y":"x",i=n==="y"?"height":"width",s=Oae(r),a=t.x+t.width/2-e.width/2,c=t.y+t.height/2-e.height/2,u=t[i]/2-e[i]/2;let o;switch(s){case"top":o={x:a,y:t.y-e.height};break;case"bottom":o={x:a,y:t.y+t.height};break;case"right":o={x:t.x+t.width,y:c};break;case"left":o={x:t.x-e.width,y:c};break;default:o={x:t.x,y:t.y}}switch(r.split("-")[1]){case"start":o[n]-=u;break;case"end":o[n]+=u;break}return o}function Oae(t){return t.split("-")[0]}function RGe(t){return["top","bottom"].includes(Oae(t))?"y":"x"}class aU extends Event{constructor({action:e="auto",relatedTarget:r,...n}){super("invoke",n),this.action=e,this.relatedTarget=r}}class OGe extends Event{constructor({newState:e,oldState:r,...n}){super("toggle",n),this.newState=e,this.oldState=r}}var oU=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},Ia=(t,e,r)=>(oU(t,e,"read from private field"),r?r.call(t):e.get(t)),yo=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},Am=(t,e,r,n)=>(oU(t,e,"write to private field"),e.set(t,r),r),xo=(t,e,r)=>(oU(t,e,"access private method"),r),mm,Kv,S0,IT,kT,Gv,YE,WO,Pae,Yj,lU,qj,BT,YO,qO,Dae,XO,Mae,ZO,Fae,db,hb,fb,qE,Xj,cU,JO,Uae,uU,$ae,eP,Hae,dU,Qae,tP,Vae,rP,Kae,qw,Zj,nP,Gae,Xw,Jj,LT,iP;function Rb({type:t,text:e,value:r,checked:n}){const i=Qc.createElement("media-chrome-menu-item");i.type=t,i.part.add("menu-item"),i.part.add(t),i.value=r,i.checked=n;const s=Qc.createElement("span");return s.textContent=e,i.append(s),i}function zv(t,e){let r=t.querySelector(`:scope > [slot="${e}"]`);if(r?.nodeName=="SLOT"&&(r=r.assignedElements({flatten:!0})[0]),r)return r=r.cloneNode(!0),r;const n=t.shadowRoot.querySelector(`[name="${e}"] > svg`);return n?n.cloneNode(!0):""}function PGe(t){return`
    <style>
      :host {
        font: var(--media-font,
          var(--media-font-weight, normal)
          var(--media-font-size, 14px) /
          var(--media-text-content-height, var(--media-control-height, 24px))
          var(--media-font-family, helvetica neue, segoe ui, roboto, arial, sans-serif));
        color: var(--media-text-color, var(--media-primary-color, rgb(238 238 238)));
        --_menu-bg: rgb(20 20 30 / .8);
        background: var(--media-menu-background, var(--media-control-background, var(--media-secondary-color, var(--_menu-bg))));
        border-radius: var(--media-menu-border-radius);
        border: var(--media-menu-border, none);
        display: var(--media-menu-display, inline-flex) !important;
        
        transition: var(--media-menu-transition-in,
          visibility 0s,
          opacity .2s ease-out,
          transform .15s ease-out,
          left .2s ease-in-out,
          min-width .2s ease-in-out,
          min-height .2s ease-in-out
        ) !important;
        
        visibility: var(--media-menu-visibility, visible);
        opacity: var(--media-menu-opacity, 1);
        max-height: var(--media-menu-max-height, var(--_menu-max-height, 300px));
        transform: var(--media-menu-transform-in, translateY(0) scale(1));
        flex-direction: column;
        
        min-height: 0;
        position: relative;
        bottom: var(--_menu-bottom);
        box-sizing: border-box;
      } 

      @-moz-document url-prefix() {
        :host{
          --_menu-bg: rgb(20 20 30);
        }
      }

      :host([hidden]) {
        transition: var(--media-menu-transition-out,
          visibility .15s ease-in,
          opacity .15s ease-in,
          transform .15s ease-in
        ) !important;
        visibility: var(--media-menu-hidden-visibility, hidden);
        opacity: var(--media-menu-hidden-opacity, 0);
        max-height: var(--media-menu-hidden-max-height,
          var(--media-menu-max-height, var(--_menu-max-height, 300px)));
        transform: var(--media-menu-transform-out, translateY(2px) scale(.99));
        pointer-events: none;
      }

      :host([slot="submenu"]) {
        background: none;
        width: 100%;
        min-height: 100%;
        position: absolute;
        bottom: 0;
        right: -100%;
      }

      #container {
        display: flex;
        flex-direction: column;
        min-height: 0;
        transition: transform .2s ease-out;
        transform: translate(0, 0);
      }

      #container.has-expanded {
        transition: transform .2s ease-in;
        transform: translate(-100%, 0);
      }

      button {
        background: none;
        color: inherit;
        border: none;
        padding: 0;
        font: inherit;
        outline: inherit;
        display: inline-flex;
        align-items: center;
      }

      slot[name="header"][hidden] {
        display: none;
      }

      slot[name="header"] > *,
      slot[name="header"]::slotted(*) {
        padding: .4em .7em;
        border-bottom: 1px solid rgb(255 255 255 / .25);
        cursor: var(--media-cursor, default);
      }

      slot[name="header"] > button[part~="back"],
      slot[name="header"]::slotted(button[part~="back"]) {
        cursor: var(--media-cursor, pointer);
      }

      svg[part~="back"] {
        height: var(--media-menu-icon-height, var(--media-control-height, 24px));
        fill: var(--media-icon-color, var(--media-primary-color, rgb(238 238 238)));
        display: block;
        margin-right: .5ch;
      }

      slot:not([name]) {
        gap: var(--media-menu-gap);
        flex-direction: var(--media-menu-flex-direction, column);
        overflow: var(--media-menu-overflow, hidden auto);
        display: flex;
        min-height: 0;
      }

      :host([role="menu"]) slot:not([name]) {
        padding-block: .4em;
      }

      slot:not([name])::slotted([role="menu"]) {
        background: none;
      }

      media-chrome-menu-item > span {
        margin-right: .5ch;
        max-width: var(--media-menu-item-max-width);
        text-overflow: ellipsis;
        overflow: hidden;
      }
    </style>
    <style id="layout-row" media="width:0">

      slot[name="header"] > *,
      slot[name="header"]::slotted(*) {
        padding: .4em .5em;
      }

      slot:not([name]) {
        gap: var(--media-menu-gap, .25em);
        flex-direction: var(--media-menu-flex-direction, row);
        padding-inline: .5em;
      }

      media-chrome-menu-item {
        padding: .3em .5em;
      }

      media-chrome-menu-item[aria-checked="true"] {
        background: var(--media-menu-item-checked-background, rgb(255 255 255 / .2));
      }

      
      media-chrome-menu-item::part(checked-indicator) {
        display: var(--media-menu-item-checked-indicator-display, none);
      }
    </style>
    <div id="container" part="container">
      <slot name="header" hidden>
        <button part="back button" aria-label="Back to previous menu">
          <slot name="back-icon">
            <svg aria-hidden="true" viewBox="0 0 20 24" part="back indicator">
              <path d="m11.88 17.585.742-.669-4.2-4.665 4.2-4.666-.743-.669-4.803 5.335 4.803 5.334Z"/>
            </svg>
          </slot>
          <slot name="title"></slot>
        </button>
      </slot>
      <slot></slot>
    </div>
    <slot name="checked-indicator" hidden></slot>
  `}const ev={STYLE:"style",HIDDEN:"hidden",DISABLED:"disabled",ANCHOR:"anchor"};class zf extends Gt.HTMLElement{constructor(){if(super(),yo(this,WO),yo(this,Yj),yo(this,BT),yo(this,qO),yo(this,XO),yo(this,ZO),yo(this,fb),yo(this,Xj),yo(this,JO),yo(this,uU),yo(this,eP),yo(this,dU),yo(this,tP),yo(this,rP),yo(this,qw),yo(this,nP),yo(this,Xw),yo(this,LT),yo(this,mm,null),yo(this,Kv,null),yo(this,S0,null),yo(this,IT,new Set),yo(this,kT,void 0),yo(this,Gv,!1),yo(this,YE,null),yo(this,qj,()=>{const e=Ia(this,IT),r=new Set(this.items);for(const n of e)r.has(n)||this.dispatchEvent(new CustomEvent("removemenuitem",{detail:n}));for(const n of r)e.has(n)||this.dispatchEvent(new CustomEvent("addmenuitem",{detail:n}));Am(this,IT,r)}),yo(this,db,()=>{xo(this,fb,qE).call(this),xo(this,Xj,cU).call(this,!1)}),yo(this,hb,()=>{xo(this,fb,qE).call(this)}),!this.shadowRoot){this.attachShadow(this.constructor.shadowRootOptions);const e=ff(this.attributes);this.shadowRoot.innerHTML=this.constructor.getTemplateHTML(e)}this.container=this.shadowRoot.querySelector("#container"),this.defaultSlot=this.shadowRoot.querySelector("slot:not([name])"),this.shadowRoot.addEventListener("slotchange",this),Am(this,kT,new MutationObserver(Ia(this,qj))),Ia(this,kT).observe(this.defaultSlot,{childList:!0})}static get observedAttributes(){return[ev.DISABLED,ev.HIDDEN,ev.STYLE,ev.ANCHOR,ka.MEDIA_CONTROLLER]}static formatMenuItemText(e,r){return e}enable(){this.addEventListener("click",this),this.addEventListener("focusout",this),this.addEventListener("keydown",this),this.addEventListener("invoke",this),this.addEventListener("toggle",this)}disable(){this.removeEventListener("click",this),this.removeEventListener("focusout",this),this.removeEventListener("keyup",this),this.removeEventListener("invoke",this),this.removeEventListener("toggle",this)}handleEvent(e){switch(e.type){case"slotchange":xo(this,WO,Pae).call(this,e);break;case"invoke":xo(this,qO,Dae).call(this,e);break;case"click":xo(this,JO,Uae).call(this,e);break;case"toggle":xo(this,eP,Hae).call(this,e);break;case"focusout":xo(this,tP,Vae).call(this,e);break;case"keydown":xo(this,rP,Kae).call(this,e);break}}connectedCallback(){var e,r;Am(this,YE,_F(this.shadowRoot,":host")),xo(this,BT,YO).call(this),this.hasAttribute("disabled")||this.enable(),this.role||(this.role="menu"),Am(this,mm,vO(this)),(r=(e=Ia(this,mm))==null?void 0:e.associateElement)==null||r.call(e,this),this.hidden||(kb(XE(this),Ia(this,db)),kb(this,Ia(this,hb))),xo(this,Yj,lU).call(this)}disconnectedCallback(){var e,r;Bb(XE(this),Ia(this,db)),Bb(this,Ia(this,hb)),this.disable(),(r=(e=Ia(this,mm))==null?void 0:e.unassociateElement)==null||r.call(e,this),Am(this,mm,null)}attributeChangedCallback(e,r,n){var i,s,a,c;e===ev.HIDDEN&&n!==r?(Ia(this,Gv)||Am(this,Gv,!0),this.hidden?xo(this,ZO,Fae).call(this):xo(this,XO,Mae).call(this),this.dispatchEvent(new OGe({oldState:this.hidden?"open":"closed",newState:this.hidden?"closed":"open",bubbles:!0}))):e===ka.MEDIA_CONTROLLER?(r&&((s=(i=Ia(this,mm))==null?void 0:i.unassociateElement)==null||s.call(i,this),Am(this,mm,null)),n&&this.isConnected&&(Am(this,mm,vO(this)),(c=(a=Ia(this,mm))==null?void 0:a.associateElement)==null||c.call(a,this))):e===ev.DISABLED&&n!==r?n==null?this.enable():this.disable():e===ev.STYLE&&n!==r&&xo(this,BT,YO).call(this)}formatMenuItemText(e,r){return this.constructor.formatMenuItemText(e,r)}get anchor(){return this.getAttribute("anchor")}set anchor(e){this.setAttribute("anchor",`${e}`)}get anchorElement(){var e;return this.anchor?(e=_5(this))==null?void 0:e.querySelector(`#${this.anchor}`):null}get items(){return this.defaultSlot.assignedElements({flatten:!0}).filter(DGe)}get radioGroupItems(){return this.items.filter(e=>e.role==="menuitemradio")}get checkedItems(){return this.items.filter(e=>e.checked)}get value(){var e,r;return(r=(e=this.checkedItems[0])==null?void 0:e.value)!=null?r:""}set value(e){const r=this.items.find(n=>n.value===e);r&&xo(this,LT,iP).call(this,r)}focus(){if(Am(this,Kv,SF()),this.items.length){xo(this,Xw,Jj).call(this,this.items[0]),this.items[0].focus();return}const e=this.querySelector('[autofocus], [tabindex]:not([tabindex="-1"]), [role="menu"]');e?.focus()}handleSelect(e){var r;const n=xo(this,qw,Zj).call(this,e);n&&(xo(this,LT,iP).call(this,n,n.type==="checkbox"),Ia(this,S0)&&!this.hidden&&((r=Ia(this,Kv))==null||r.focus(),this.hidden=!0))}get keysUsed(){return["Enter","Escape","Tab"," ","ArrowDown","ArrowUp","Home","End"]}handleMove(e){var r,n;const{key:i}=e,s=this.items,a=(n=(r=xo(this,qw,Zj).call(this,e))!=null?r:xo(this,nP,Gae).call(this))!=null?n:s[0],c=s.indexOf(a);let u=Math.max(0,c);i==="ArrowDown"?u++:i==="ArrowUp"?u--:e.key==="Home"?u=0:e.key==="End"&&(u=s.length-1),u<0&&(u=s.length-1),u>s.length-1&&(u=0),xo(this,Xw,Jj).call(this,s[u]),s[u].focus()}}mm=new WeakMap;Kv=new WeakMap;S0=new WeakMap;IT=new WeakMap;kT=new WeakMap;Gv=new WeakMap;YE=new WeakMap;WO=new WeakSet;Pae=function(t){const e=t.target;for(const r of e.assignedNodes({flatten:!0}))r.nodeType===3&&r.textContent.trim()===""&&r.remove();["header","title"].includes(e.name)&&xo(this,Yj,lU).call(this),e.name||Ia(this,qj).call(this)};Yj=new WeakSet;lU=function(){const t=this.shadowRoot.querySelector('slot[name="header"]'),e=this.shadowRoot.querySelector('slot[name="title"]');t.hidden=e.assignedNodes().length===0&&t.assignedNodes().length===0};qj=new WeakMap;BT=new WeakSet;YO=function(){var t;const e=this.shadowRoot.querySelector("#layout-row"),r=(t=getComputedStyle(this).getPropertyValue("--media-menu-layout"))==null?void 0:t.trim();e.setAttribute("media",r==="row"?"":"width:0")};qO=new WeakSet;Dae=function(t){Am(this,S0,t.relatedTarget),ig(this,t.relatedTarget)||(this.hidden=!this.hidden)};XO=new WeakSet;Mae=function(){var t;(t=Ia(this,S0))==null||t.setAttribute("aria-expanded","true"),this.addEventListener("transitionend",()=>this.focus(),{once:!0}),kb(XE(this),Ia(this,db)),kb(this,Ia(this,hb))};ZO=new WeakSet;Fae=function(){var t;(t=Ia(this,S0))==null||t.setAttribute("aria-expanded","false"),Bb(XE(this),Ia(this,db)),Bb(this,Ia(this,hb))};db=new WeakMap;hb=new WeakMap;fb=new WeakSet;qE=function(t){if(this.hasAttribute("mediacontroller")&&!this.anchor||this.hidden||!this.anchorElement)return;const{x:e,y:r}=IGe({anchor:this.anchorElement,floating:this,placement:"top-start"});t??(t=this.offsetWidth);const i=XE(this).getBoundingClientRect(),s=i.width-e-t,a=i.height-r-this.offsetHeight,{style:c}=Ia(this,YE);c.setProperty("position","absolute"),c.setProperty("right",`${Math.max(0,s)}px`),c.setProperty("--_menu-bottom",`${a}px`);const u=getComputedStyle(this),d=c.getPropertyValue("--_menu-bottom")===u.bottom?a:parseFloat(u.bottom),f=i.height-d-parseFloat(u.marginBottom);this.style.setProperty("--_menu-max-height",`${f}px`)};Xj=new WeakSet;cU=function(t){const e=this.querySelector('[role="menuitem"][aria-haspopup][aria-expanded="true"]'),r=e?.querySelector('[role="menu"]'),{style:n}=Ia(this,YE);if(t||n.setProperty("--media-menu-transition-in","none"),r){const i=r.offsetHeight,s=Math.max(r.offsetWidth,e.offsetWidth);this.style.setProperty("min-width",`${s}px`),this.style.setProperty("min-height",`${i}px`),xo(this,fb,qE).call(this,s)}else this.style.removeProperty("min-width"),this.style.removeProperty("min-height"),xo(this,fb,qE).call(this);n.removeProperty("--media-menu-transition-in")};JO=new WeakSet;Uae=function(t){var e;if(t.stopPropagation(),t.composedPath().includes(Ia(this,uU,$ae))){(e=Ia(this,Kv))==null||e.focus(),this.hidden=!0;return}const r=xo(this,qw,Zj).call(this,t);!r||r.hasAttribute("disabled")||(xo(this,Xw,Jj).call(this,r),this.handleSelect(t))};uU=new WeakSet;$ae=function(){var t;return(t=this.shadowRoot.querySelector('slot[name="header"]').assignedElements({flatten:!0}))==null?void 0:t.find(r=>r.matches('button[part~="back"]'))};eP=new WeakSet;Hae=function(t){if(t.target===this)return;xo(this,dU,Qae).call(this);const e=Array.from(this.querySelectorAll('[role="menuitem"][aria-haspopup]'));for(const r of e)r.invokeTargetElement!=t.target&&t.newState=="open"&&r.getAttribute("aria-expanded")=="true"&&!r.invokeTargetElement.hidden&&r.invokeTargetElement.dispatchEvent(new aU({relatedTarget:r}));for(const r of e)r.setAttribute("aria-expanded",`${!r.submenuElement.hidden}`);xo(this,Xj,cU).call(this,!0)};dU=new WeakSet;Qae=function(){const e=this.querySelector('[role="menuitem"] > [role="menu"]:not([hidden])');this.container.classList.toggle("has-expanded",!!e)};tP=new WeakSet;Vae=function(t){var e;ig(this,t.relatedTarget)||(Ia(this,Gv)&&((e=Ia(this,Kv))==null||e.focus()),Ia(this,S0)&&Ia(this,S0)!==t.relatedTarget&&!this.hidden&&(this.hidden=!0))};rP=new WeakSet;Kae=function(t){var e,r,n,i,s;const{key:a,ctrlKey:c,altKey:u,metaKey:o}=t;if(!(c||u||o)&&this.keysUsed.includes(a))if(t.preventDefault(),t.stopPropagation(),a==="Tab"){if(Ia(this,Gv)){this.hidden=!0;return}t.shiftKey?(r=(e=this.previousElementSibling)==null?void 0:e.focus)==null||r.call(e):(i=(n=this.nextElementSibling)==null?void 0:n.focus)==null||i.call(n),this.blur()}else a==="Escape"?((s=Ia(this,Kv))==null||s.focus(),Ia(this,Gv)&&(this.hidden=!0)):a==="Enter"||a===" "?this.handleSelect(t):this.handleMove(t)};qw=new WeakSet;Zj=function(t){return t.composedPath().find(e=>["menuitemradio","menuitemcheckbox"].includes(e.role))};nP=new WeakSet;Gae=function(){return this.items.find(t=>t.tabIndex===0)};Xw=new WeakSet;Jj=function(t){for(const e of this.items)e.tabIndex=e===t?0:-1};LT=new WeakSet;iP=function(t,e){const r=[...this.checkedItems];t.type==="radio"&&this.radioGroupItems.forEach(n=>n.checked=!1),e?t.checked=!t.checked:t.checked=!0,this.checkedItems.some((n,i)=>n!=r[i])&&this.dispatchEvent(new Event("change",{bubbles:!0,composed:!0}))};zf.shadowRootOptions={mode:"open"};zf.getTemplateHTML=PGe;function DGe(t){return["menuitem","menuitemradio","menuitemcheckbox"].includes(t?.role)}function XE(t){var e;return(e=t.getAttribute("bounds")?s1(t,`#${t.getAttribute("bounds")}`):Nh(t)||t.parentElement)!=null?e:t}Gt.customElements.get("media-chrome-menu")||Gt.customElements.define("media-chrome-menu",zf);var hU=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},Cm=(t,e,r)=>(hU(t,e,"read from private field"),r?r.call(t):e.get(t)),pp=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},IL=(t,e,r,n)=>(hU(t,e,"write to private field"),e.set(t,r),r),bA=(t,e,r)=>(hU(t,e,"access private method"),r),RT,Zw,sP,zae,eN,fU,AU,Wae,jm,Ob,ZE,aP,Yae,OT,oP;function MGe(t){return`
    <style>
      :host {
        transition: var(--media-menu-item-transition,
          background .15s linear,
          opacity .2s ease-in-out
        );
        outline: var(--media-menu-item-outline, 0);
        outline-offset: var(--media-menu-item-outline-offset, -1px);
        cursor: var(--media-cursor, pointer);
        display: flex;
        align-items: center;
        align-self: stretch;
        justify-self: stretch;
        white-space: nowrap;
        white-space-collapse: collapse;
        text-wrap: nowrap;
        padding: .4em .8em .4em 1em;
      }

      :host(:focus-visible) {
        box-shadow: var(--media-menu-item-focus-shadow, inset 0 0 0 2px rgb(27 127 204 / .9));
        outline: var(--media-menu-item-hover-outline, 0);
        outline-offset: var(--media-menu-item-hover-outline-offset,  var(--media-menu-item-outline-offset, -1px));
      }

      :host(:hover) {
        cursor: var(--media-cursor, pointer);
        background: var(--media-menu-item-hover-background, rgb(92 92 102 / .5));
        outline: var(--media-menu-item-hover-outline);
        outline-offset: var(--media-menu-item-hover-outline-offset,  var(--media-menu-item-outline-offset, -1px));
      }

      :host([aria-checked="true"]) {
        background: var(--media-menu-item-checked-background);
      }

      :host([hidden]) {
        display: none;
      }

      :host([disabled]) {
        pointer-events: none;
        color: rgba(255, 255, 255, .3);
      }

      slot:not([name]) {
        width: 100%;
      }

      slot:not([name="submenu"]) {
        display: inline-flex;
        align-items: center;
        transition: inherit;
        opacity: var(--media-menu-item-opacity, 1);
      }

      slot[name="description"] {
        justify-content: end;
      }

      slot[name="description"] > span {
        display: inline-block;
        margin-inline: 1em .2em;
        max-width: var(--media-menu-item-description-max-width, 100px);
        text-overflow: ellipsis;
        overflow: hidden;
        font-size: .8em;
        font-weight: 400;
        text-align: right;
        position: relative;
        top: .04em;
      }

      slot[name="checked-indicator"] {
        display: none;
      }

      :host(:is([role="menuitemradio"],[role="menuitemcheckbox"])) slot[name="checked-indicator"] {
        display: var(--media-menu-item-checked-indicator-display, inline-block);
      }

      
      svg, img, ::slotted(svg), ::slotted(img) {
        height: var(--media-menu-item-icon-height, var(--media-control-height, 24px));
        fill: var(--media-icon-color, var(--media-primary-color, rgb(238 238 238)));
        display: block;
      }

      
      [part~="indicator"],
      ::slotted([part~="indicator"]) {
        fill: var(--media-menu-item-indicator-fill,
          var(--media-icon-color, var(--media-primary-color, rgb(238 238 238))));
        height: var(--media-menu-item-indicator-height, 1.25em);
        margin-right: .5ch;
      }

      [part~="checked-indicator"] {
        visibility: hidden;
      }

      :host([aria-checked="true"]) [part~="checked-indicator"] {
        visibility: visible;
      }
    </style>
    <slot name="checked-indicator">
      <svg aria-hidden="true" viewBox="0 1 24 24" part="checked-indicator indicator">
        <path d="m10 15.17 9.193-9.191 1.414 1.414-10.606 10.606-6.364-6.364 1.414-1.414 4.95 4.95Z"/>
      </svg>
    </slot>
    <slot name="prefix"></slot>
    <slot></slot>
    <slot name="description"></slot>
    <slot name="suffix">
      ${this.getSuffixSlotInnerHTML(t)}
    </slot>
    <slot name="submenu"></slot>
  `}function FGe(t){return""}const jf={TYPE:"type",VALUE:"value",CHECKED:"checked",DISABLED:"disabled"};class L0 extends Gt.HTMLElement{constructor(){if(super(),pp(this,sP),pp(this,eN),pp(this,AU),pp(this,Ob),pp(this,aP),pp(this,OT),pp(this,RT,!1),pp(this,Zw,void 0),pp(this,jm,()=>{var e,r;this.submenuElement.items&&this.setAttribute("submenusize",`${this.submenuElement.items.length}`);const n=this.shadowRoot.querySelector('slot[name="description"]'),i=(e=this.submenuElement.checkedItems)==null?void 0:e[0],s=(r=i?.dataset.description)!=null?r:i?.text,a=Qc.createElement("span");a.textContent=s??"",n.replaceChildren(a)}),!this.shadowRoot){this.attachShadow(this.constructor.shadowRootOptions);const e=ff(this.attributes);this.shadowRoot.innerHTML=this.constructor.getTemplateHTML(e)}this.shadowRoot.addEventListener("slotchange",this)}static get observedAttributes(){return[jf.TYPE,jf.DISABLED,jf.CHECKED,jf.VALUE]}enable(){this.hasAttribute("tabindex")||this.setAttribute("tabindex","-1"),W1(this)&&!this.hasAttribute("aria-checked")&&this.setAttribute("aria-checked","false"),this.addEventListener("click",this),this.addEventListener("keydown",this)}disable(){this.removeAttribute("tabindex"),this.removeEventListener("click",this),this.removeEventListener("keydown",this),this.removeEventListener("keyup",this)}handleEvent(e){switch(e.type){case"slotchange":bA(this,sP,zae).call(this,e);break;case"click":this.handleClick(e);break;case"keydown":bA(this,aP,Yae).call(this,e);break;case"keyup":bA(this,Ob,ZE).call(this,e);break}}attributeChangedCallback(e,r,n){e===jf.CHECKED&&W1(this)&&!Cm(this,RT)?this.setAttribute("aria-checked",n!=null?"true":"false"):e===jf.TYPE&&n!==r?this.role="menuitem"+n:e===jf.DISABLED&&n!==r&&(n==null?this.enable():this.disable())}connectedCallback(){this.hasAttribute(jf.DISABLED)||this.enable(),this.role="menuitem"+this.type,IL(this,Zw,lP(this,this.parentNode)),bA(this,OT,oP).call(this),this.submenuElement&&bA(this,eN,fU).call(this)}disconnectedCallback(){this.disable(),bA(this,OT,oP).call(this),IL(this,Zw,null)}get invokeTarget(){return this.getAttribute("invoketarget")}set invokeTarget(e){this.setAttribute("invoketarget",`${e}`)}get invokeTargetElement(){var e;return this.invokeTarget?(e=_5(this))==null?void 0:e.querySelector(`#${this.invokeTarget}`):this.submenuElement}get submenuElement(){return this.shadowRoot.querySelector('slot[name="submenu"]').assignedElements({flatten:!0})[0]}get type(){var e;return(e=this.getAttribute(jf.TYPE))!=null?e:""}set type(e){this.setAttribute(jf.TYPE,`${e}`)}get value(){var e;return(e=this.getAttribute(jf.VALUE))!=null?e:this.text}set value(e){this.setAttribute(jf.VALUE,e)}get text(){var e;return((e=this.textContent)!=null?e:"").trim()}get checked(){if(W1(this))return this.getAttribute("aria-checked")==="true"}set checked(e){W1(this)&&(IL(this,RT,!0),this.setAttribute("aria-checked",e?"true":"false"),e?this.part.add("checked"):this.part.remove("checked"))}handleClick(e){W1(this)||this.invokeTargetElement&&ig(this,e.target)&&this.invokeTargetElement.dispatchEvent(new aU({relatedTarget:this}))}get keysUsed(){return["Enter"," "]}}RT=new WeakMap;Zw=new WeakMap;sP=new WeakSet;zae=function(t){const e=t.target;if(!e?.name)for(const n of e.assignedNodes({flatten:!0}))n instanceof Text&&n.textContent.trim()===""&&n.remove();e.name==="submenu"&&(this.submenuElement?bA(this,eN,fU).call(this):bA(this,AU,Wae).call(this))};eN=new WeakSet;fU=async function(){this.setAttribute("aria-haspopup","menu"),this.setAttribute("aria-expanded",`${!this.submenuElement.hidden}`),this.submenuElement.addEventListener("change",Cm(this,jm)),this.submenuElement.addEventListener("addmenuitem",Cm(this,jm)),this.submenuElement.addEventListener("removemenuitem",Cm(this,jm)),Cm(this,jm).call(this)};AU=new WeakSet;Wae=function(){this.removeAttribute("aria-haspopup"),this.removeAttribute("aria-expanded"),this.submenuElement.removeEventListener("change",Cm(this,jm)),this.submenuElement.removeEventListener("addmenuitem",Cm(this,jm)),this.submenuElement.removeEventListener("removemenuitem",Cm(this,jm)),Cm(this,jm).call(this)};jm=new WeakMap;Ob=new WeakSet;ZE=function(t){const{key:e}=t;if(!this.keysUsed.includes(e)){this.removeEventListener("keyup",bA(this,Ob,ZE));return}this.handleClick(t)};aP=new WeakSet;Yae=function(t){const{metaKey:e,altKey:r,key:n}=t;if(e||r||!this.keysUsed.includes(n)){this.removeEventListener("keyup",bA(this,Ob,ZE));return}this.addEventListener("keyup",bA(this,Ob,ZE),{once:!0})};OT=new WeakSet;oP=function(){var t;const e=(t=Cm(this,Zw))==null?void 0:t.radioGroupItems;if(!e)return;let r=e.filter(n=>n.getAttribute("aria-checked")==="true").pop();r||(r=e[0]);for(const n of e)n.setAttribute("aria-checked","false");r?.setAttribute("aria-checked","true")};L0.shadowRootOptions={mode:"open"};L0.getTemplateHTML=MGe;L0.getSuffixSlotInnerHTML=FGe;function W1(t){return t.type==="radio"||t.type==="checkbox"}function lP(t,e){if(!t)return null;const{host:r}=t.getRootNode();return!e&&r?lP(t,r):e?.items?e:lP(e,e?.parentNode)}Gt.customElements.get("media-chrome-menu-item")||Gt.customElements.define("media-chrome-menu-item",L0);function UGe(t){return`
    ${zf.getTemplateHTML(t)}
    <style>
      :host {
        --_menu-bg: rgb(20 20 30 / .8);
        background: var(--media-settings-menu-background,
            var(--media-menu-background,
              var(--media-control-background,
                var(--media-secondary-color, var(--_menu-bg)))));
        min-width: var(--media-settings-menu-min-width, 170px);
        border-radius: 2px 2px 0 0;
        overflow: hidden;
      }

      @-moz-document url-prefix() {
        :host{
          --_menu-bg: rgb(20 20 30);
        }
      }

      :host([role="menu"]) {
        
        justify-content: end;
      }

      slot:not([name]) {
        justify-content: var(--media-settings-menu-justify-content);
        flex-direction: var(--media-settings-menu-flex-direction, column);
        overflow: visible;
      }

      #container.has-expanded {
        --media-settings-menu-item-opacity: 0;
      }
    </style>
  `}class qae extends zf{get anchorElement(){return this.anchor!=="auto"?super.anchorElement:Nh(this).querySelector("media-settings-menu-button")}}qae.getTemplateHTML=UGe;Gt.customElements.get("media-settings-menu")||Gt.customElements.define("media-settings-menu",qae);function $Ge(t){return`
    ${L0.getTemplateHTML.call(this,t)}
    <style>
      slot:not([name="submenu"]) {
        opacity: var(--media-settings-menu-item-opacity, var(--media-menu-item-opacity));
      }

      :host([aria-expanded="true"]:hover) {
        background: transparent;
      }
    </style>
  `}function HGe(t){return`
    <svg aria-hidden="true" viewBox="0 0 20 24">
      <path d="m8.12 17.585-.742-.669 4.2-4.665-4.2-4.666.743-.669 4.803 5.335-4.803 5.334Z"/>
    </svg>
  `}class M5 extends L0{}M5.shadowRootOptions={mode:"open"};M5.getTemplateHTML=$Ge;M5.getSuffixSlotInnerHTML=HGe;Gt.customElements.get("media-settings-menu-item")||Gt.customElements.define("media-settings-menu-item",M5);class c1 extends Wu{connectedCallback(){super.connectedCallback(),this.invokeTargetElement&&this.setAttribute("aria-haspopup","menu")}get invokeTarget(){return this.getAttribute("invoketarget")}set invokeTarget(e){this.setAttribute("invoketarget",`${e}`)}get invokeTargetElement(){var e;return this.invokeTarget?(e=_5(this))==null?void 0:e.querySelector(`#${this.invokeTarget}`):null}handleClick(){var e;(e=this.invokeTargetElement)==null||e.dispatchEvent(new aU({relatedTarget:this}))}}Gt.customElements.get("media-chrome-menu-button")||Gt.customElements.define("media-chrome-menu-button",c1);function QGe(){return`
    <style>
      :host([aria-expanded="true"]) slot[name=tooltip] {
        display: none;
      }
    </style>
    <slot name="icon">
      <svg aria-hidden="true" viewBox="0 0 24 24">
        <path d="M4.5 14.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Zm7.5 0a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Zm7.5 0a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z"/>
      </svg>
    </slot>
  `}function VGe(){return Xn("Settings")}class mU extends c1{static get observedAttributes(){return[...super.observedAttributes,"target"]}connectedCallback(){super.connectedCallback(),this.setAttribute("aria-label",Xn("settings"))}get invokeTargetElement(){return this.invokeTarget!=null?super.invokeTargetElement:Nh(this).querySelector("media-settings-menu")}}mU.getSlotTemplateHTML=QGe;mU.getTooltipContentHTML=VGe;Gt.customElements.get("media-settings-menu-button")||Gt.customElements.define("media-settings-menu-button",mU);var pU=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},Xae=(t,e,r)=>(pU(t,e,"read from private field"),r?r.call(t):e.get(t)),g_=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},cP=(t,e,r,n)=>(pU(t,e,"write to private field"),e.set(t,r),r),v_=(t,e,r)=>(pU(t,e,"access private method"),r),ww,tN,PT,uP,DT,dP;class KGe extends zf{constructor(){super(...arguments),g_(this,PT),g_(this,DT),g_(this,ww,[]),g_(this,tN,void 0)}static get observedAttributes(){return[...super.observedAttributes,it.MEDIA_AUDIO_TRACK_LIST,it.MEDIA_AUDIO_TRACK_ENABLED,it.MEDIA_AUDIO_TRACK_UNAVAILABLE]}attributeChangedCallback(e,r,n){super.attributeChangedCallback(e,r,n),e===it.MEDIA_AUDIO_TRACK_ENABLED&&r!==n?this.value=n:e===it.MEDIA_AUDIO_TRACK_LIST&&r!==n&&(cP(this,ww,CQe(n??"")),v_(this,PT,uP).call(this))}connectedCallback(){super.connectedCallback(),this.addEventListener("change",v_(this,DT,dP))}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("change",v_(this,DT,dP))}get anchorElement(){var e;return this.anchor!=="auto"?super.anchorElement:(e=Nh(this))==null?void 0:e.querySelector("media-audio-track-menu-button")}get mediaAudioTrackList(){return Xae(this,ww)}set mediaAudioTrackList(e){cP(this,ww,e),v_(this,PT,uP).call(this)}get mediaAudioTrackEnabled(){var e;return(e=Zo(this,it.MEDIA_AUDIO_TRACK_ENABLED))!=null?e:""}set mediaAudioTrackEnabled(e){Jo(this,it.MEDIA_AUDIO_TRACK_ENABLED,e)}}ww=new WeakMap;tN=new WeakMap;PT=new WeakSet;uP=function(){if(Xae(this,tN)===JSON.stringify(this.mediaAudioTrackList))return;cP(this,tN,JSON.stringify(this.mediaAudioTrackList));const t=this.mediaAudioTrackList;this.defaultSlot.textContent="",t.sort((e,r)=>e.id.localeCompare(r.id,void 0,{numeric:!0}));for(const e of t){const r=this.formatMenuItemText(e.label,e),n=Rb({type:"radio",text:r,value:`${e.id}`,checked:e.enabled});n.prepend(zv(this,"checked-indicator")),this.defaultSlot.append(n)}};DT=new WeakSet;dP=function(){if(this.value==null)return;const t=new Gt.CustomEvent(Nn.MEDIA_AUDIO_TRACK_REQUEST,{composed:!0,bubbles:!0,detail:this.value});this.dispatchEvent(t)};Gt.customElements.get("media-audio-track-menu")||Gt.customElements.define("media-audio-track-menu",KGe);const GGe=`<svg aria-hidden="true" viewBox="0 0 24 24">
  <path d="M11 17H9.5V7H11v10Zm-3-3H6.5v-4H8v4Zm6-5h-1.5v6H14V9Zm3 7h-1.5V8H17v8Z"/>
  <path d="M22 12c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2s10 4.477 10 10Zm-2 0a8 8 0 1 0-16 0 8 8 0 0 0 16 0Z"/>
</svg>`;function zGe(){return`
    <style>
      :host([aria-expanded="true"]) slot[name=tooltip] {
        display: none;
      }
    </style>
    <slot name="icon">${GGe}</slot>
  `}function WGe(){return Xn("Audio")}const Yz=t=>{const e=Xn("Audio");t.setAttribute("aria-label",e)};class gU extends c1{static get observedAttributes(){return[...super.observedAttributes,it.MEDIA_AUDIO_TRACK_ENABLED,it.MEDIA_AUDIO_TRACK_UNAVAILABLE]}connectedCallback(){super.connectedCallback(),Yz(this)}attributeChangedCallback(e,r,n){super.attributeChangedCallback(e,r,n),e===it.MEDIA_LANG&&Yz(this)}get invokeTargetElement(){var e;return this.invokeTarget!=null?super.invokeTargetElement:(e=Nh(this))==null?void 0:e.querySelector("media-audio-track-menu")}get mediaAudioTrackEnabled(){var e;return(e=Zo(this,it.MEDIA_AUDIO_TRACK_ENABLED))!=null?e:""}set mediaAudioTrackEnabled(e){Jo(this,it.MEDIA_AUDIO_TRACK_ENABLED,e)}}gU.getSlotTemplateHTML=zGe;gU.getTooltipContentHTML=WGe;Gt.customElements.get("media-audio-track-menu-button")||Gt.customElements.define("media-audio-track-menu-button",gU);var vU=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},YGe=(t,e,r)=>(vU(t,e,"read from private field"),e.get(t)),kL=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},qGe=(t,e,r,n)=>(vU(t,e,"write to private field"),e.set(t,r),r),y_=(t,e,r)=>(vU(t,e,"access private method"),r),rN,MT,hP,FT,fP;const XGe=`
  <svg aria-hidden="true" viewBox="0 0 26 24" part="captions-indicator indicator">
    <path d="M22.83 5.68a2.58 2.58 0 0 0-2.3-2.5c-3.62-.24-11.44-.24-15.06 0a2.58 2.58 0 0 0-2.3 2.5c-.23 4.21-.23 8.43 0 12.64a2.58 2.58 0 0 0 2.3 2.5c3.62.24 11.44.24 15.06 0a2.58 2.58 0 0 0 2.3-2.5c.23-4.21.23-8.43 0-12.64Zm-11.39 9.45a3.07 3.07 0 0 1-1.91.57 3.06 3.06 0 0 1-2.34-1 3.75 3.75 0 0 1-.92-2.67 3.92 3.92 0 0 1 .92-2.77 3.18 3.18 0 0 1 2.43-1 2.94 2.94 0 0 1 2.13.78c.364.359.62.813.74 1.31l-1.43.35a1.49 1.49 0 0 0-1.51-1.17 1.61 1.61 0 0 0-1.29.58 2.79 2.79 0 0 0-.5 1.89 3 3 0 0 0 .49 1.93 1.61 1.61 0 0 0 1.27.58 1.48 1.48 0 0 0 1-.37 2.1 2.1 0 0 0 .59-1.14l1.4.44a3.23 3.23 0 0 1-1.07 1.69Zm7.22 0a3.07 3.07 0 0 1-1.91.57 3.06 3.06 0 0 1-2.34-1 3.75 3.75 0 0 1-.92-2.67 3.88 3.88 0 0 1 .93-2.77 3.14 3.14 0 0 1 2.42-1 3 3 0 0 1 2.16.82 2.8 2.8 0 0 1 .73 1.31l-1.43.35a1.49 1.49 0 0 0-1.51-1.21 1.61 1.61 0 0 0-1.29.58A2.79 2.79 0 0 0 15 12a3 3 0 0 0 .49 1.93 1.61 1.61 0 0 0 1.27.58 1.44 1.44 0 0 0 1-.37 2.1 2.1 0 0 0 .6-1.15l1.4.44a3.17 3.17 0 0 1-1.1 1.7Z"/>
  </svg>`;function ZGe(t){return`
    ${zf.getTemplateHTML(t)}
    <slot name="captions-indicator" hidden>${XGe}</slot>
  `}class Zae extends zf{constructor(){super(...arguments),kL(this,MT),kL(this,FT),kL(this,rN,void 0)}static get observedAttributes(){return[...super.observedAttributes,it.MEDIA_SUBTITLES_LIST,it.MEDIA_SUBTITLES_SHOWING]}attributeChangedCallback(e,r,n){super.attributeChangedCallback(e,r,n),e===it.MEDIA_SUBTITLES_LIST&&r!==n?y_(this,MT,hP).call(this):e===it.MEDIA_SUBTITLES_SHOWING&&r!==n&&(this.value=n||"",y_(this,MT,hP).call(this))}connectedCallback(){super.connectedCallback(),this.addEventListener("change",y_(this,FT,fP))}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("change",y_(this,FT,fP))}get anchorElement(){return this.anchor!=="auto"?super.anchorElement:Nh(this).querySelector("media-captions-menu-button")}get mediaSubtitlesList(){return qz(this,it.MEDIA_SUBTITLES_LIST)}set mediaSubtitlesList(e){Xz(this,it.MEDIA_SUBTITLES_LIST,e)}get mediaSubtitlesShowing(){return qz(this,it.MEDIA_SUBTITLES_SHOWING)}set mediaSubtitlesShowing(e){Xz(this,it.MEDIA_SUBTITLES_SHOWING,e)}}rN=new WeakMap;MT=new WeakSet;hP=function(){var t;const e=YGe(this,rN)!==JSON.stringify(this.mediaSubtitlesList),r=this.value!==this.getAttribute(it.MEDIA_SUBTITLES_SHOWING);if(!e&&!r)return;qGe(this,rN,JSON.stringify(this.mediaSubtitlesList)),this.defaultSlot.textContent="";const n=!this.value,i=Rb({type:"radio",text:this.formatMenuItemText(Xn("Off")),value:"off",checked:n});i.prepend(zv(this,"checked-indicator")),this.defaultSlot.append(i);const s=this.mediaSubtitlesList;for(const a of s){const c=Rb({type:"radio",text:this.formatMenuItemText(a.label,a),value:wO(a),checked:this.value==wO(a)});c.prepend(zv(this,"checked-indicator")),((t=a.kind)!=null?t:"subs")==="captions"&&c.append(zv(this,"captions-indicator")),this.defaultSlot.append(c)}};FT=new WeakSet;fP=function(){const t=this.mediaSubtitlesShowing,e=this.getAttribute(it.MEDIA_SUBTITLES_SHOWING),r=this.value!==e;if(t?.length&&r&&this.dispatchEvent(new Gt.CustomEvent(Nn.MEDIA_DISABLE_SUBTITLES_REQUEST,{composed:!0,bubbles:!0,detail:t})),!this.value||!r)return;const n=new Gt.CustomEvent(Nn.MEDIA_SHOW_SUBTITLES_REQUEST,{composed:!0,bubbles:!0,detail:this.value});this.dispatchEvent(n)};Zae.getTemplateHTML=ZGe;const qz=(t,e)=>{const r=t.getAttribute(e);return r?I5(r):[]},Xz=(t,e,r)=>{if(!r?.length){t.removeAttribute(e);return}const n=VE(r);t.getAttribute(e)!==n&&t.setAttribute(e,n)};Gt.customElements.get("media-captions-menu")||Gt.customElements.define("media-captions-menu",Zae);const JGe=`<svg aria-hidden="true" viewBox="0 0 26 24">
  <path d="M22.83 5.68a2.58 2.58 0 0 0-2.3-2.5c-3.62-.24-11.44-.24-15.06 0a2.58 2.58 0 0 0-2.3 2.5c-.23 4.21-.23 8.43 0 12.64a2.58 2.58 0 0 0 2.3 2.5c3.62.24 11.44.24 15.06 0a2.58 2.58 0 0 0 2.3-2.5c.23-4.21.23-8.43 0-12.64Zm-11.39 9.45a3.07 3.07 0 0 1-1.91.57 3.06 3.06 0 0 1-2.34-1 3.75 3.75 0 0 1-.92-2.67 3.92 3.92 0 0 1 .92-2.77 3.18 3.18 0 0 1 2.43-1 2.94 2.94 0 0 1 2.13.78c.364.359.62.813.74 1.31l-1.43.35a1.49 1.49 0 0 0-1.51-1.17 1.61 1.61 0 0 0-1.29.58 2.79 2.79 0 0 0-.5 1.89 3 3 0 0 0 .49 1.93 1.61 1.61 0 0 0 1.27.58 1.48 1.48 0 0 0 1-.37 2.1 2.1 0 0 0 .59-1.14l1.4.44a3.23 3.23 0 0 1-1.07 1.69Zm7.22 0a3.07 3.07 0 0 1-1.91.57 3.06 3.06 0 0 1-2.34-1 3.75 3.75 0 0 1-.92-2.67 3.88 3.88 0 0 1 .93-2.77 3.14 3.14 0 0 1 2.42-1 3 3 0 0 1 2.16.82 2.8 2.8 0 0 1 .73 1.31l-1.43.35a1.49 1.49 0 0 0-1.51-1.21 1.61 1.61 0 0 0-1.29.58A2.79 2.79 0 0 0 15 12a3 3 0 0 0 .49 1.93 1.61 1.61 0 0 0 1.27.58 1.44 1.44 0 0 0 1-.37 2.1 2.1 0 0 0 .6-1.15l1.4.44a3.17 3.17 0 0 1-1.1 1.7Z"/>
</svg>`,eze=`<svg aria-hidden="true" viewBox="0 0 26 24">
  <path d="M17.73 14.09a1.4 1.4 0 0 1-1 .37 1.579 1.579 0 0 1-1.27-.58A3 3 0 0 1 15 12a2.8 2.8 0 0 1 .5-1.85 1.63 1.63 0 0 1 1.29-.57 1.47 1.47 0 0 1 1.51 1.2l1.43-.34A2.89 2.89 0 0 0 19 9.07a3 3 0 0 0-2.14-.78 3.14 3.14 0 0 0-2.42 1 3.91 3.91 0 0 0-.93 2.78 3.74 3.74 0 0 0 .92 2.66 3.07 3.07 0 0 0 2.34 1 3.07 3.07 0 0 0 1.91-.57 3.17 3.17 0 0 0 1.07-1.74l-1.4-.45c-.083.43-.3.822-.62 1.12Zm-7.22 0a1.43 1.43 0 0 1-1 .37 1.58 1.58 0 0 1-1.27-.58A3 3 0 0 1 7.76 12a2.8 2.8 0 0 1 .5-1.85 1.63 1.63 0 0 1 1.29-.57 1.47 1.47 0 0 1 1.51 1.2l1.43-.34a2.81 2.81 0 0 0-.74-1.32 2.94 2.94 0 0 0-2.13-.78 3.18 3.18 0 0 0-2.43 1 4 4 0 0 0-.92 2.78 3.74 3.74 0 0 0 .92 2.66 3.07 3.07 0 0 0 2.34 1 3.07 3.07 0 0 0 1.91-.57 3.23 3.23 0 0 0 1.07-1.74l-1.4-.45a2.06 2.06 0 0 1-.6 1.07Zm12.32-8.41a2.59 2.59 0 0 0-2.3-2.51C18.72 3.05 15.86 3 13 3c-2.86 0-5.72.05-7.53.17a2.59 2.59 0 0 0-2.3 2.51c-.23 4.207-.23 8.423 0 12.63a2.57 2.57 0 0 0 2.3 2.5c1.81.13 4.67.19 7.53.19 2.86 0 5.72-.06 7.53-.19a2.57 2.57 0 0 0 2.3-2.5c.23-4.207.23-8.423 0-12.63Zm-1.49 12.53a1.11 1.11 0 0 1-.91 1.11c-1.67.11-4.45.18-7.43.18-2.98 0-5.76-.07-7.43-.18a1.11 1.11 0 0 1-.91-1.11c-.21-4.14-.21-8.29 0-12.43a1.11 1.11 0 0 1 .91-1.11C7.24 4.56 10 4.49 13 4.49s5.76.07 7.43.18a1.11 1.11 0 0 1 .91 1.11c.21 4.14.21 8.29 0 12.43Z"/>
</svg>`;function tze(){return`
    <style>
      :host([data-captions-enabled="true"]) slot[name=off] {
        display: none !important;
      }

      
      :host(:not([data-captions-enabled="true"])) slot[name=on] {
        display: none !important;
      }

      :host([aria-expanded="true"]) slot[name=tooltip] {
        display: none;
      }
    </style>

    <slot name="icon">
      <slot name="on">${JGe}</slot>
      <slot name="off">${eze}</slot>
    </slot>
  `}function rze(){return Xn("Captions")}const Zz=t=>{t.setAttribute("data-captions-enabled",Pse(t).toString())},Jz=t=>{t.setAttribute("aria-label",Xn("closed captions"))};class yU extends c1{static get observedAttributes(){return[...super.observedAttributes,it.MEDIA_SUBTITLES_LIST,it.MEDIA_SUBTITLES_SHOWING,it.MEDIA_LANG]}connectedCallback(){super.connectedCallback(),Jz(this),Zz(this)}attributeChangedCallback(e,r,n){super.attributeChangedCallback(e,r,n),e===it.MEDIA_SUBTITLES_SHOWING?Zz(this):e===it.MEDIA_LANG&&Jz(this)}get invokeTargetElement(){var e;return this.invokeTarget!=null?super.invokeTargetElement:(e=Nh(this))==null?void 0:e.querySelector("media-captions-menu")}get mediaSubtitlesList(){return eW(this,it.MEDIA_SUBTITLES_LIST)}set mediaSubtitlesList(e){tW(this,it.MEDIA_SUBTITLES_LIST,e)}get mediaSubtitlesShowing(){return eW(this,it.MEDIA_SUBTITLES_SHOWING)}set mediaSubtitlesShowing(e){tW(this,it.MEDIA_SUBTITLES_SHOWING,e)}}yU.getSlotTemplateHTML=tze;yU.getTooltipContentHTML=rze;const eW=(t,e)=>{const r=t.getAttribute(e);return r?I5(r):[]},tW=(t,e,r)=>{if(!r?.length){t.removeAttribute(e);return}const n=VE(r);t.getAttribute(e)!==n&&t.setAttribute(e,n)};Gt.customElements.get("media-captions-menu-button")||Gt.customElements.define("media-captions-menu-button",yU);var Jae=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},kx=(t,e,r)=>(Jae(t,e,"read from private field"),r?r.call(t):e.get(t)),BL=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},ix=(t,e,r)=>(Jae(t,e,"access private method"),r),r0,Bx,Ew,UT,AP;const LL={RATES:"rates"};class nze extends zf{constructor(){super(),BL(this,Bx),BL(this,UT),BL(this,r0,new jF(this,LL.RATES,{defaultValue:mae})),ix(this,Bx,Ew).call(this)}static get observedAttributes(){return[...super.observedAttributes,it.MEDIA_PLAYBACK_RATE,LL.RATES]}attributeChangedCallback(e,r,n){super.attributeChangedCallback(e,r,n),e===it.MEDIA_PLAYBACK_RATE&&r!=n?(this.value=n,ix(this,Bx,Ew).call(this)):e===LL.RATES&&r!=n&&(kx(this,r0).value=n,ix(this,Bx,Ew).call(this))}connectedCallback(){super.connectedCallback(),this.addEventListener("change",ix(this,UT,AP))}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("change",ix(this,UT,AP))}get anchorElement(){return this.anchor!=="auto"?super.anchorElement:Nh(this).querySelector("media-playback-rate-menu-button")}get rates(){return kx(this,r0)}set rates(e){e?Array.isArray(e)?kx(this,r0).value=e.join(" "):typeof e=="string"&&(kx(this,r0).value=e):kx(this,r0).value="",ix(this,Bx,Ew).call(this)}get mediaPlaybackRate(){return Xo(this,it.MEDIA_PLAYBACK_RATE,Wx)}set mediaPlaybackRate(e){rc(this,it.MEDIA_PLAYBACK_RATE,e)}}r0=new WeakMap;Bx=new WeakSet;Ew=function(){this.defaultSlot.textContent="";const t=this.mediaPlaybackRate,e=new Set(Array.from(kx(this,r0)).map(n=>Number(n)));t>0&&!e.has(t)&&e.add(t);const r=Array.from(e).sort((n,i)=>n-i);for(const n of r){const i=Rb({type:"radio",text:this.formatMenuItemText(`${n}x`,n),value:n.toString(),checked:t===n});i.prepend(zv(this,"checked-indicator")),this.defaultSlot.append(i)}};UT=new WeakSet;AP=function(){if(!this.value)return;const t=new Gt.CustomEvent(Nn.MEDIA_PLAYBACK_RATE_REQUEST,{composed:!0,bubbles:!0,detail:this.value});this.dispatchEvent(t)};Gt.customElements.get("media-playback-rate-menu")||Gt.customElements.define("media-playback-rate-menu",nze);const $T=1;function ize(t){return`
    <style>
      :host {
        min-width: 5ch;
        padding: var(--media-button-padding, var(--media-control-padding, 10px 5px));
      }
      
      :host([aria-expanded="true"]) slot {
        display: block;
      }

      :host([aria-expanded="true"]) slot[name=tooltip] {
        display: none;
      }
    </style>
    <slot name="icon">${t.mediaplaybackrate||$T}x</slot>
  `}function sze(){return Xn("Playback rate")}class xU extends c1{static get observedAttributes(){return[...super.observedAttributes,it.MEDIA_PLAYBACK_RATE]}constructor(){var e;super(),this.container=this.shadowRoot.querySelector('slot[name="icon"]'),this.container.innerHTML=`${(e=this.mediaPlaybackRate)!=null?e:$T}x`}attributeChangedCallback(e,r,n){if(super.attributeChangedCallback(e,r,n),e===it.MEDIA_PLAYBACK_RATE){const i=n?+n:Number.NaN,s=Number.isNaN(i)?$T:i;this.container.innerHTML=`${s}x`,this.setAttribute("aria-label",Xn("Playback rate {playbackRate}",{playbackRate:s}))}}get invokeTargetElement(){return this.invokeTarget!=null?super.invokeTargetElement:Nh(this).querySelector("media-playback-rate-menu")}get mediaPlaybackRate(){return Xo(this,it.MEDIA_PLAYBACK_RATE,$T)}set mediaPlaybackRate(e){rc(this,it.MEDIA_PLAYBACK_RATE,e)}}xU.getSlotTemplateHTML=ize;xU.getTooltipContentHTML=sze;Gt.customElements.get("media-playback-rate-menu-button")||Gt.customElements.define("media-playback-rate-menu-button",xU);var bU=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},Sw=(t,e,r)=>(bU(t,e,"read from private field"),r?r.call(t):e.get(t)),x_=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},rW=(t,e,r,n)=>(bU(t,e,"write to private field"),e.set(t,r),r),sx=(t,e,r)=>(bU(t,e,"access private method"),r),_w,Yx,Lx,Tw,HT,mP;class aze extends zf{constructor(){super(...arguments),x_(this,Lx),x_(this,HT),x_(this,_w,[]),x_(this,Yx,{})}static get observedAttributes(){return[...super.observedAttributes,it.MEDIA_RENDITION_LIST,it.MEDIA_RENDITION_SELECTED,it.MEDIA_RENDITION_UNAVAILABLE,it.MEDIA_HEIGHT]}static formatMenuItemText(e,r){return super.formatMenuItemText(e,r)}static formatRendition(e,{showBitrate:r=!1}={}){const n=`${Math.min(e.width,e.height)}p`;if(r&&e.bitrate){const i=e.bitrate/1e6,s=`${i.toFixed(i<1?1:0)} Mbps`;return`${n} (${s})`}return this.formatMenuItemText(n,e)}static compareRendition(e,r){var n,i;return r.height===e.height?((n=r.bitrate)!=null?n:0)-((i=e.bitrate)!=null?i:0):r.height-e.height}attributeChangedCallback(e,r,n){super.attributeChangedCallback(e,r,n),e===it.MEDIA_RENDITION_SELECTED&&r!==n?(this.value=n??"auto",sx(this,Lx,Tw).call(this)):e===it.MEDIA_RENDITION_LIST&&r!==n?(rW(this,_w,EQe(n)),sx(this,Lx,Tw).call(this)):e===it.MEDIA_HEIGHT&&r!==n&&sx(this,Lx,Tw).call(this)}connectedCallback(){super.connectedCallback(),this.addEventListener("change",sx(this,HT,mP))}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("change",sx(this,HT,mP))}get anchorElement(){return this.anchor!=="auto"?super.anchorElement:Nh(this).querySelector("media-rendition-menu-button")}get mediaRenditionList(){return Sw(this,_w)}set mediaRenditionList(e){rW(this,_w,e),sx(this,Lx,Tw).call(this)}get mediaRenditionSelected(){return Zo(this,it.MEDIA_RENDITION_SELECTED)}set mediaRenditionSelected(e){Jo(this,it.MEDIA_RENDITION_SELECTED,e)}get mediaHeight(){return Xo(this,it.MEDIA_HEIGHT)}set mediaHeight(e){rc(this,it.MEDIA_HEIGHT,e)}compareRendition(e,r){return this.constructor.compareRendition(e,r)}formatMenuItemText(e,r){return this.constructor.formatMenuItemText(e,r)}formatRendition(e,r){return this.constructor.formatRendition(e,r)}showRenditionBitrate(e){return this.mediaRenditionList.some(r=>r!==e&&r.height===e.height&&r.bitrate!==e.bitrate)}}_w=new WeakMap;Yx=new WeakMap;Lx=new WeakSet;Tw=function(){if(Sw(this,Yx).mediaRenditionList===JSON.stringify(this.mediaRenditionList)&&Sw(this,Yx).mediaHeight===this.mediaHeight)return;Sw(this,Yx).mediaRenditionList=JSON.stringify(this.mediaRenditionList),Sw(this,Yx).mediaHeight=this.mediaHeight;const t=this.mediaRenditionList.sort(this.compareRendition.bind(this)),e=t.find(a=>a.id===this.mediaRenditionSelected);for(const a of t)a.selected=a===e;this.defaultSlot.textContent="";const r=!this.mediaRenditionSelected;for(const a of t){const c=this.formatRendition(a,{showBitrate:this.showRenditionBitrate(a)}),u=Rb({type:"radio",text:c,value:`${a.id}`,checked:a.selected&&!r});u.prepend(zv(this,"checked-indicator")),this.defaultSlot.append(u)}const n=e&&this.showRenditionBitrate(e),i=r?e?this.formatMenuItemText(`${Xn("Auto")}  ${this.formatRendition(e,{showBitrate:n})}`,e):this.formatMenuItemText(`${Xn("Auto")} (${this.mediaHeight}p)`):this.formatMenuItemText(Xn("Auto")),s=Rb({type:"radio",text:i,value:"auto",checked:r});s.dataset.description=i,s.prepend(zv(this,"checked-indicator")),this.defaultSlot.append(s)};HT=new WeakSet;mP=function(){if(this.value==null)return;const t=new Gt.CustomEvent(Nn.MEDIA_RENDITION_REQUEST,{composed:!0,bubbles:!0,detail:this.value});this.dispatchEvent(t)};Gt.customElements.get("media-rendition-menu")||Gt.customElements.define("media-rendition-menu",aze);const oze=`<svg aria-hidden="true" viewBox="0 0 24 24">
  <path d="M13.5 2.5h2v6h-2v-2h-11v-2h11v-2Zm4 2h4v2h-4v-2Zm-12 4h2v6h-2v-2h-3v-2h3v-2Zm4 2h12v2h-12v-2Zm1 4h2v6h-2v-2h-8v-2h8v-2Zm4 2h7v2h-7v-2Z" />
</svg>`;function lze(){return`
    <style>
      :host([aria-expanded="true"]) slot[name=tooltip] {
        display: none;
      }
    </style>
    <slot name="icon">${oze}</slot>
  `}function cze(){return Xn("Quality")}class wU extends c1{static get observedAttributes(){return[...super.observedAttributes,it.MEDIA_RENDITION_SELECTED,it.MEDIA_RENDITION_UNAVAILABLE,it.MEDIA_HEIGHT]}connectedCallback(){super.connectedCallback(),this.setAttribute("aria-label",Xn("quality"))}get invokeTargetElement(){return this.invokeTarget!=null?super.invokeTargetElement:Nh(this).querySelector("media-rendition-menu")}get mediaRenditionSelected(){return Zo(this,it.MEDIA_RENDITION_SELECTED)}set mediaRenditionSelected(e){Jo(this,it.MEDIA_RENDITION_SELECTED,e)}get mediaHeight(){return Xo(this,it.MEDIA_HEIGHT)}set mediaHeight(e){rc(this,it.MEDIA_HEIGHT,e)}}wU.getSlotTemplateHTML=lze;wU.getTooltipContentHTML=cze;Gt.customElements.get("media-rendition-menu-button")||Gt.customElements.define("media-rendition-menu-button",wU);var EU=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},gm=(t,e,r)=>(EU(t,e,"read from private field"),r?r.call(t):e.get(t)),nm=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},eoe=(t,e,r,n)=>(EU(t,e,"write to private field"),e.set(t,r),r),Rf=(t,e,r)=>(EU(t,e,"access private method"),r),Pb,JE,F5,bv,qx,SU,toe,QT,pP,VT,gP,roe,nN,iN,KT;function uze(t){return`
      ${zf.getTemplateHTML(t)}
      <style>
        :host {
          --_menu-bg: rgb(20 20 30 / .8);
          background: var(--media-settings-menu-background,
            var(--media-menu-background,
              var(--media-control-background,
                var(--media-secondary-color, var(--_menu-bg)))));
          min-width: var(--media-settings-menu-min-width, 170px);
          border-radius: 2px;
          overflow: hidden;
        }
      </style>
    `}class noe extends zf{constructor(){super(),nm(this,JE),nm(this,bv),nm(this,SU),nm(this,QT),nm(this,gP),nm(this,Pb,!1),nm(this,VT,e=>{const r=e.target,n=r?.nodeName==="VIDEO",i=Rf(this,QT,pP).call(this,r);(n||i)&&(gm(this,Pb)?Rf(this,bv,qx).call(this):Rf(this,gP,roe).call(this,e))}),nm(this,nN,e=>{const r=e.target,n=this.contains(r),i=e.button===2,s=r?.nodeName==="VIDEO",a=Rf(this,QT,pP).call(this,r);n||i&&(s||a)||Rf(this,bv,qx).call(this)}),nm(this,iN,e=>{e.key==="Escape"&&Rf(this,bv,qx).call(this)}),nm(this,KT,e=>{var r,n;const i=e.target;if((r=i.matches)!=null&&r.call(i,'button[invoke="copy"]')){const s=(n=i.closest("media-context-menu-item"))==null?void 0:n.querySelector('input[slot="copy"]');s&&navigator.clipboard.writeText(s.value)}Rf(this,bv,qx).call(this)}),this.setAttribute("noautohide",""),Rf(this,JE,F5).call(this)}connectedCallback(){super.connectedCallback(),Nh(this).addEventListener("contextmenu",gm(this,VT)),this.addEventListener("click",gm(this,KT))}disconnectedCallback(){super.disconnectedCallback(),Nh(this).removeEventListener("contextmenu",gm(this,VT)),this.removeEventListener("click",gm(this,KT)),document.removeEventListener("mousedown",gm(this,nN)),document.removeEventListener("keydown",gm(this,iN))}}Pb=new WeakMap;JE=new WeakSet;F5=function(){this.hidden=!gm(this,Pb)};bv=new WeakSet;qx=function(){eoe(this,Pb,!1),Rf(this,JE,F5).call(this)};SU=new WeakSet;toe=function(){document.querySelectorAll("media-context-menu").forEach(e=>{var r;e!==this&&Rf(r=e,bv,qx).call(r)})};QT=new WeakSet;pP=function(t){return t?t.hasAttribute("slot")&&t.getAttribute("slot")==="media"?!0:t.nodeName.includes("-")&&t.tagName.includes("-")?t.hasAttribute("src")||t.hasAttribute("poster")||t.hasAttribute("preload")||t.hasAttribute("playsinline"):!1:!1};VT=new WeakMap;gP=new WeakSet;roe=function(t){t.preventDefault(),Rf(this,SU,toe).call(this),eoe(this,Pb,!0),this.style.position="fixed",this.style.left=`${t.clientX}px`,this.style.top=`${t.clientY}px`,Rf(this,JE,F5).call(this),document.addEventListener("mousedown",gm(this,nN),{once:!0}),document.addEventListener("keydown",gm(this,iN),{once:!0})};nN=new WeakMap;iN=new WeakMap;KT=new WeakMap;noe.getTemplateHTML=uze;Gt.customElements.get("media-context-menu")||Gt.customElements.define("media-context-menu",noe);function dze(t){return`
    ${L0.getTemplateHTML.call(this,t)}
    <style>
        ::slotted(*) {
            color: var(--media-text-color, white);
            text-decoration: none;
            border: none;
            background: none;
            cursor: pointer;
            padding: 0;
            min-height: var(--media-control-height, 24px);
        }
    </style>
  `}class _U extends L0{}_U.shadowRootOptions={mode:"open"};_U.getTemplateHTML=dze;Gt.customElements.get("media-context-menu-item")||Gt.customElements.define("media-context-menu-item",_U);var ioe=t=>{throw TypeError(t)},TU=(t,e,r)=>e.has(t)||ioe("Cannot "+r),no=(t,e,r)=>(TU(t,e,"read from private field"),r?r.call(t):e.get(t)),yA=(t,e,r)=>e.has(t)?ioe("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),Lm=(t,e,r,n)=>(TU(t,e,"write to private field"),e.set(t,r),r),$c=(t,e,r)=>(TU(t,e,"access private method"),r),U5=class{addEventListener(){}removeEventListener(){}dispatchEvent(t){return!0}};if(typeof DocumentFragment>"u"){class t extends U5{}globalThis.DocumentFragment=t}var CU=class extends U5{},hze=class extends U5{},fze={get(t){},define(t,e,r){},getName(t){return null},upgrade(t){},whenDefined(t){return Promise.resolve(CU)}},GT,Aze=class{constructor(e,r={}){yA(this,GT),Lm(this,GT,r?.detail)}get detail(){return no(this,GT)}initCustomEvent(){}};GT=new WeakMap;function mze(t,e){return new CU}var soe={document:{createElement:mze},DocumentFragment,customElements:fze,CustomEvent:Aze,EventTarget:U5,HTMLElement:CU,HTMLVideoElement:hze},aoe=typeof window>"u"||typeof globalThis.customElements>"u",bm=aoe?soe:globalThis,sN=aoe?soe.document:globalThis.document;function pze(t){let e="";return Object.entries(t).forEach(([r,n])=>{n!=null&&(e+=`${vP(r)}: ${n}; `)}),e?e.trim():void 0}function vP(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ooe(t){return t.replace(/[-_]([a-z])/g,(e,r)=>r.toUpperCase())}function Yh(t){if(t==null)return;let e=+t;return Number.isNaN(e)?void 0:e}function loe(t){let e=gze(t).toString();return e?"?"+e:""}function gze(t){let e={};for(let r in t)t[r]!=null&&(e[r]=t[r]);return new URLSearchParams(e)}var coe=(t,e)=>!t||!e?!1:t.contains(e)?!0:coe(t,e.getRootNode().host),uoe="mux.com",vze=()=>{try{return"3.11.4"}catch{}return"UNKNOWN"},yze=vze(),doe=()=>yze,xze=(t,{token:e,customDomain:r=uoe,thumbnailTime:n,programTime:i}={})=>{var s;let a=e==null?n:void 0,{aud:c}=(s=ab(e))!=null?s:{};if(!(e&&c!=="t"))return`https://image.${r}/${t}/thumbnail.webp${loe({token:e,time:a,program_time:i})}`},bze=(t,{token:e,customDomain:r=uoe,programStartTime:n,programEndTime:i}={})=>{var s;let{aud:a}=(s=ab(e))!=null?s:{};if(!(e&&a!=="s"))return`https://image.${r}/${t}/storyboard.vtt${loe({token:e,format:"webp",program_start_time:n,program_end_time:i})}`},jU=t=>{if(t){if([Ka.LIVE,Ka.ON_DEMAND].includes(t))return t;if(t!=null&&t.includes("live"))return Ka.LIVE}},wze={crossorigin:"crossOrigin",playsinline:"playsInline"};function Eze(t){var e;return(e=wze[t])!=null?e:ooe(t)}var Rx,Ox,Sh,Sze=class{constructor(e,r){yA(this,Rx),yA(this,Ox),yA(this,Sh,[]),Lm(this,Rx,e),Lm(this,Ox,r)}[Symbol.iterator](){return no(this,Sh).values()}get length(){return no(this,Sh).length}get value(){var e;return(e=no(this,Sh).join(" "))!=null?e:""}set value(e){var r;e!==this.value&&(Lm(this,Sh,[]),this.add(...(r=e?.split(" "))!=null?r:[]))}toString(){return this.value}item(e){return no(this,Sh)[e]}values(){return no(this,Sh).values()}keys(){return no(this,Sh).keys()}forEach(e){no(this,Sh).forEach(e)}add(...e){var r,n;e.forEach(i=>{this.contains(i)||no(this,Sh).push(i)}),!(this.value===""&&!((r=no(this,Rx))!=null&&r.hasAttribute(`${no(this,Ox)}`)))&&((n=no(this,Rx))==null||n.setAttribute(`${no(this,Ox)}`,`${this.value}`))}remove(...e){var r;e.forEach(n=>{no(this,Sh).splice(no(this,Sh).indexOf(n),1)}),(r=no(this,Rx))==null||r.setAttribute(`${no(this,Ox)}`,`${this.value}`)}contains(e){return no(this,Sh).includes(e)}toggle(e,r){return typeof r<"u"?r?(this.add(e),!0):(this.remove(e),!1):this.contains(e)?(this.remove(e),!1):(this.add(e),!0)}replace(e,r){this.remove(e),this.add(r)}};Rx=new WeakMap,Ox=new WeakMap,Sh=new WeakMap;var hoe=`[mux-player ${doe()}]`;function Sp(...t){console.warn(hoe,...t)}function Zh(...t){console.error(hoe,...t)}function foe(t){var e;let r=(e=t.message)!=null?e:"";t.context&&(r+=` ${t.context}`),t.file&&(r+=` ${Si("Read more: ")}
https://github.com/muxinc/elements/blob/main/errors/${t.file}`),Sp(r)}var kd={AUTOPLAY:"autoplay",CROSSORIGIN:"crossorigin",LOOP:"loop",MUTED:"muted",PLAYSINLINE:"playsinline",PRELOAD:"preload"},Av={VOLUME:"volume",PLAYBACKRATE:"playbackrate",MUTED:"muted"},nW=Object.freeze({length:0,start(t){let e=t>>>0;if(e>=this.length)throw new DOMException(`Failed to execute 'start' on 'TimeRanges': The index provided (${e}) is greater than or equal to the maximum bound (${this.length}).`);return 0},end(t){let e=t>>>0;if(e>=this.length)throw new DOMException(`Failed to execute 'end' on 'TimeRanges': The index provided (${e}) is greater than or equal to the maximum bound (${this.length}).`);return 0}}),_ze=Object.values(kd).filter(t=>kd.PLAYSINLINE!==t),Tze=Object.values(Av),Cze=[..._ze,...Tze],jze=class extends bm.HTMLElement{static get observedAttributes(){return Cze}constructor(){super()}attributeChangedCallback(t,e,r){var n,i;switch(t){case Av.MUTED:{this.media&&(this.media.muted=r!=null,this.media.defaultMuted=r!=null);return}case Av.VOLUME:{let s=(n=Yh(r))!=null?n:1;this.media&&(this.media.volume=s);return}case Av.PLAYBACKRATE:{let s=(i=Yh(r))!=null?i:1;this.media&&(this.media.playbackRate=s,this.media.defaultPlaybackRate=s);return}}}play(){var t,e;return(e=(t=this.media)==null?void 0:t.play())!=null?e:Promise.reject()}pause(){var t;(t=this.media)==null||t.pause()}load(){var t;(t=this.media)==null||t.load()}get media(){var t;return(t=this.shadowRoot)==null?void 0:t.querySelector("mux-video")}get audioTracks(){return this.media.audioTracks}get videoTracks(){return this.media.videoTracks}get audioRenditions(){return this.media.audioRenditions}get videoRenditions(){return this.media.videoRenditions}get paused(){var t,e;return(e=(t=this.media)==null?void 0:t.paused)!=null?e:!0}get duration(){var t,e;return(e=(t=this.media)==null?void 0:t.duration)!=null?e:NaN}get ended(){var t,e;return(e=(t=this.media)==null?void 0:t.ended)!=null?e:!1}get buffered(){var t,e;return(e=(t=this.media)==null?void 0:t.buffered)!=null?e:nW}get seekable(){var t,e;return(e=(t=this.media)==null?void 0:t.seekable)!=null?e:nW}get readyState(){var t,e;return(e=(t=this.media)==null?void 0:t.readyState)!=null?e:0}get videoWidth(){var t,e;return(e=(t=this.media)==null?void 0:t.videoWidth)!=null?e:0}get videoHeight(){var t,e;return(e=(t=this.media)==null?void 0:t.videoHeight)!=null?e:0}get currentSrc(){var t,e;return(e=(t=this.media)==null?void 0:t.currentSrc)!=null?e:""}get currentTime(){var t,e;return(e=(t=this.media)==null?void 0:t.currentTime)!=null?e:0}set currentTime(t){this.media&&(this.media.currentTime=Number(t))}get volume(){var t,e;return(e=(t=this.media)==null?void 0:t.volume)!=null?e:1}set volume(t){this.media&&(this.media.volume=Number(t))}get playbackRate(){var t,e;return(e=(t=this.media)==null?void 0:t.playbackRate)!=null?e:1}set playbackRate(t){this.media&&(this.media.playbackRate=Number(t))}get defaultPlaybackRate(){var t;return(t=Yh(this.getAttribute(Av.PLAYBACKRATE)))!=null?t:1}set defaultPlaybackRate(t){t!=null?this.setAttribute(Av.PLAYBACKRATE,`${t}`):this.removeAttribute(Av.PLAYBACKRATE)}get crossOrigin(){return Y1(this,kd.CROSSORIGIN)}set crossOrigin(t){this.setAttribute(kd.CROSSORIGIN,`${t}`)}get autoplay(){return Y1(this,kd.AUTOPLAY)!=null}set autoplay(t){t?this.setAttribute(kd.AUTOPLAY,typeof t=="string"?t:""):this.removeAttribute(kd.AUTOPLAY)}get loop(){return Y1(this,kd.LOOP)!=null}set loop(t){t?this.setAttribute(kd.LOOP,""):this.removeAttribute(kd.LOOP)}get muted(){var t,e;return(e=(t=this.media)==null?void 0:t.muted)!=null?e:!1}set muted(t){this.media&&(this.media.muted=!!t)}get defaultMuted(){return Y1(this,kd.MUTED)!=null}set defaultMuted(t){t?this.setAttribute(kd.MUTED,""):this.removeAttribute(kd.MUTED)}get playsInline(){return Y1(this,kd.PLAYSINLINE)!=null}set playsInline(t){Zh("playsInline is set to true by default and is not currently supported as a setter.")}get preload(){return this.media?this.media.preload:this.getAttribute("preload")}set preload(t){["","none","metadata","auto"].includes(t)?this.setAttribute(kd.PRELOAD,t):this.removeAttribute(kd.PRELOAD)}};function Y1(t,e){return t.media?t.media.getAttribute(e):t.getAttribute(e)}var iW=jze,Nze=`:host {
  --media-control-display: var(--controls);
  --media-loading-indicator-display: var(--loading-indicator);
  --media-dialog-display: var(--dialog);
  --media-play-button-display: var(--play-button);
  --media-live-button-display: var(--live-button);
  --media-seek-backward-button-display: var(--seek-backward-button);
  --media-seek-forward-button-display: var(--seek-forward-button);
  --media-mute-button-display: var(--mute-button);
  --media-captions-button-display: var(--captions-button);
  --media-captions-menu-button-display: var(--captions-menu-button, var(--media-captions-button-display));
  --media-rendition-menu-button-display: var(--rendition-menu-button);
  --media-audio-track-menu-button-display: var(--audio-track-menu-button);
  --media-airplay-button-display: var(--airplay-button);
  --media-pip-button-display: var(--pip-button);
  --media-fullscreen-button-display: var(--fullscreen-button);
  --media-cast-button-display: var(--cast-button, var(--_cast-button-drm-display));
  --media-playback-rate-button-display: var(--playback-rate-button);
  --media-playback-rate-menu-button-display: var(--playback-rate-menu-button);
  --media-volume-range-display: var(--volume-range);
  --media-time-range-display: var(--time-range);
  --media-time-display-display: var(--time-display);
  --media-duration-display-display: var(--duration-display);
  --media-title-display-display: var(--title-display);

  display: inline-block;
  line-height: 0;
  width: 100%;
}

a {
  color: #fff;
  font-size: 0.9em;
  text-decoration: underline;
}

media-theme {
  display: inline-block;
  line-height: 0;
  width: 100%;
  height: 100%;
  direction: ltr;
}

media-poster-image {
  display: inline-block;
  line-height: 0;
  width: 100%;
  height: 100%;
}

media-poster-image:not([src]):not([placeholdersrc]) {
  display: none;
}

::part(top),
[part~='top'] {
  --media-control-display: var(--controls, var(--top-controls));
  --media-play-button-display: var(--play-button, var(--top-play-button));
  --media-live-button-display: var(--live-button, var(--top-live-button));
  --media-seek-backward-button-display: var(--seek-backward-button, var(--top-seek-backward-button));
  --media-seek-forward-button-display: var(--seek-forward-button, var(--top-seek-forward-button));
  --media-mute-button-display: var(--mute-button, var(--top-mute-button));
  --media-captions-button-display: var(--captions-button, var(--top-captions-button));
  --media-captions-menu-button-display: var(
    --captions-menu-button,
    var(--media-captions-button-display, var(--top-captions-menu-button))
  );
  --media-rendition-menu-button-display: var(--rendition-menu-button, var(--top-rendition-menu-button));
  --media-audio-track-menu-button-display: var(--audio-track-menu-button, var(--top-audio-track-menu-button));
  --media-airplay-button-display: var(--airplay-button, var(--top-airplay-button));
  --media-pip-button-display: var(--pip-button, var(--top-pip-button));
  --media-fullscreen-button-display: var(--fullscreen-button, var(--top-fullscreen-button));
  --media-cast-button-display: var(--cast-button, var(--top-cast-button, var(--_cast-button-drm-display)));
  --media-playback-rate-button-display: var(--playback-rate-button, var(--top-playback-rate-button));
  --media-playback-rate-menu-button-display: var(
    --captions-menu-button,
    var(--media-playback-rate-button-display, var(--top-playback-rate-menu-button))
  );
  --media-volume-range-display: var(--volume-range, var(--top-volume-range));
  --media-time-range-display: var(--time-range, var(--top-time-range));
  --media-time-display-display: var(--time-display, var(--top-time-display));
  --media-duration-display-display: var(--duration-display, var(--top-duration-display));
  --media-title-display-display: var(--title-display, var(--top-title-display));
}

::part(center),
[part~='center'] {
  --media-control-display: var(--controls, var(--center-controls));
  --media-play-button-display: var(--play-button, var(--center-play-button));
  --media-live-button-display: var(--live-button, var(--center-live-button));
  --media-seek-backward-button-display: var(--seek-backward-button, var(--center-seek-backward-button));
  --media-seek-forward-button-display: var(--seek-forward-button, var(--center-seek-forward-button));
  --media-mute-button-display: var(--mute-button, var(--center-mute-button));
  --media-captions-button-display: var(--captions-button, var(--center-captions-button));
  --media-captions-menu-button-display: var(
    --captions-menu-button,
    var(--media-captions-button-display, var(--center-captions-menu-button))
  );
  --media-rendition-menu-button-display: var(--rendition-menu-button, var(--center-rendition-menu-button));
  --media-audio-track-menu-button-display: var(--audio-track-menu-button, var(--center-audio-track-menu-button));
  --media-airplay-button-display: var(--airplay-button, var(--center-airplay-button));
  --media-pip-button-display: var(--pip-button, var(--center-pip-button));
  --media-fullscreen-button-display: var(--fullscreen-button, var(--center-fullscreen-button));
  --media-cast-button-display: var(--cast-button, var(--center-cast-button, var(--_cast-button-drm-display)));
  --media-playback-rate-button-display: var(--playback-rate-button, var(--center-playback-rate-button));
  --media-playback-rate-menu-button-display: var(
    --playback-rate-menu-button,
    var(--media-playback-rate-button-display, var(--center-playback-rate-menu-button))
  );
  --media-volume-range-display: var(--volume-range, var(--center-volume-range));
  --media-time-range-display: var(--time-range, var(--center-time-range));
  --media-time-display-display: var(--time-display, var(--center-time-display));
  --media-duration-display-display: var(--duration-display, var(--center-duration-display));
}

::part(bottom),
[part~='bottom'] {
  --media-control-display: var(--controls, var(--bottom-controls));
  --media-play-button-display: var(--play-button, var(--bottom-play-button));
  --media-live-button-display: var(--live-button, var(--bottom-live-button));
  --media-seek-backward-button-display: var(--seek-backward-button, var(--bottom-seek-backward-button));
  --media-seek-forward-button-display: var(--seek-forward-button, var(--bottom-seek-forward-button));
  --media-mute-button-display: var(--mute-button, var(--bottom-mute-button));
  --media-captions-button-display: var(--captions-button, var(--bottom-captions-button));
  --media-captions-menu-button-display: var(
    --captions-menu-button,
    var(--media-captions-button-display, var(--bottom-captions-menu-button))
  );
  --media-rendition-menu-button-display: var(--rendition-menu-button, var(--bottom-rendition-menu-button));
  --media-audio-track-menu-button-display: var(--audio-track-menu-button, var(--bottom-audio-track-menu-button));
  --media-airplay-button-display: var(--airplay-button, var(--bottom-airplay-button));
  --media-pip-button-display: var(--pip-button, var(--bottom-pip-button));
  --media-fullscreen-button-display: var(--fullscreen-button, var(--bottom-fullscreen-button));
  --media-cast-button-display: var(--cast-button, var(--bottom-cast-button, var(--_cast-button-drm-display)));
  --media-playback-rate-button-display: var(--playback-rate-button, var(--bottom-playback-rate-button));
  --media-playback-rate-menu-button-display: var(
    --playback-rate-menu-button,
    var(--media-playback-rate-button-display, var(--bottom-playback-rate-menu-button))
  );
  --media-volume-range-display: var(--volume-range, var(--bottom-volume-range));
  --media-time-range-display: var(--time-range, var(--bottom-time-range));
  --media-time-display-display: var(--time-display, var(--bottom-time-display));
  --media-duration-display-display: var(--duration-display, var(--bottom-duration-display));
  --media-title-display-display: var(--title-display, var(--bottom-title-display));
}

:host([no-tooltips]) {
  --media-tooltip-display: none;
}
`,q1=new WeakMap,Ize=class Aoe{constructor(e,r){this.element=e,this.type=r,this.element.addEventListener(this.type,this);let n=q1.get(this.element);n&&n.set(this.type,this)}set(e){if(typeof e=="function")this.handleEvent=e.bind(this.element);else if(typeof e=="object"&&typeof e.handleEvent=="function")this.handleEvent=e.handleEvent.bind(e);else{this.element.removeEventListener(this.type,this);let r=q1.get(this.element);r&&r.delete(this.type)}}static for(e){q1.has(e.element)||q1.set(e.element,new Map);let r=e.attributeName.slice(2),n=q1.get(e.element);return n&&n.has(r)?n.get(r):new Aoe(e.element,r)}};function kze(t,e){return t instanceof CA&&t.attributeName.startsWith("on")?(Ize.for(t).set(e),t.element.removeAttributeNS(t.attributeNamespace,t.attributeName),!0):!1}function Bze(t,e){return e instanceof moe&&t instanceof l1?(e.renderInto(t),!0):!1}function Lze(t,e){return e instanceof DocumentFragment&&t instanceof l1?(e.childNodes.length&&t.replace(...e.childNodes),!0):!1}function Rze(t,e){if(t instanceof CA){let r=t.attributeNamespace,n=t.element.getAttributeNS(r,t.attributeName);return String(e)!==n&&(t.value=String(e)),!0}return t.value=String(e),!0}function Oze(t,e){if(t instanceof CA&&e instanceof Element){let r=t.element;return r[t.attributeName]!==e&&(t.element.removeAttributeNS(t.attributeNamespace,t.attributeName),r[t.attributeName]=e),!0}return!1}function Pze(t,e){if(typeof e=="boolean"&&t instanceof CA){let r=t.attributeNamespace,n=t.element.hasAttributeNS(r,t.attributeName);return e!==n&&(t.booleanValue=e),!0}return!1}function Dze(t,e){return e===!1&&t instanceof l1?(t.replace(""),!0):!1}function Mze(t,e){Oze(t,e)||Pze(t,e)||kze(t,e)||Dze(t,e)||Bze(t,e)||Lze(t,e)||Rze(t,e)}var RL=new Map,sW=new WeakMap,aW=new WeakMap,moe=class{constructor(e,r,n){this.strings=e,this.values=r,this.processor=n,this.stringsKey=this.strings.join("")}get template(){if(RL.has(this.stringsKey))return RL.get(this.stringsKey);{let e=sN.createElement("template"),r=this.strings.length-1;return e.innerHTML=this.strings.reduce((n,i,s)=>n+i+(s<r?`{{ ${s} }}`:""),""),RL.set(this.stringsKey,e),e}}renderInto(e){var r;let n=this.template;if(sW.get(e)!==n){sW.set(e,n);let s=new P5(n,this.values,this.processor);aW.set(e,s),e instanceof l1?e.replace(...s.children):e.appendChild(s);return}let i=aW.get(e);(r=i?.update)==null||r.call(i,this.values)}},Fze={processCallback(t,e,r){var n;if(r){for(let[i,s]of e)if(i in r){let a=(n=r[i])!=null?n:"";Mze(s,a)}}}};function zT(t,...e){return new moe(t,e,Fze)}function Uze(t,e){t.renderInto(e)}var $ze=t=>{let{tokens:e}=t;return e.drm?":host(:not([cast-receiver])) { --_cast-button-drm-display: none; }":""},Hze=t=>zT`
  <style>
    ${$ze(t)}
    ${Nze}
  </style>
  ${Gze(t)}
`,Qze=t=>{let e=t.hotKeys?`${t.hotKeys}`:"";return jU(t.streamType)==="live"&&(e+=" noarrowleft noarrowright"),e},Vze={TOP:"top",CENTER:"center",BOTTOM:"bottom",LAYER:"layer",MEDIA_LAYER:"media-layer",POSTER_LAYER:"poster-layer",VERTICAL_LAYER:"vertical-layer",CENTERED_LAYER:"centered-layer",GESTURE_LAYER:"gesture-layer",CONTROLLER_LAYER:"controller",BUTTON:"button",RANGE:"range",THUMB:"thumb",DISPLAY:"display",CONTROL_BAR:"control-bar",MENU_BUTTON:"menu-button",MENU:"menu",MENU_ITEM:"menu-item",OPTION:"option",POSTER:"poster",LIVE:"live",PLAY:"play",PRE_PLAY:"pre-play",SEEK_BACKWARD:"seek-backward",SEEK_FORWARD:"seek-forward",MUTE:"mute",CAPTIONS:"captions",AIRPLAY:"airplay",PIP:"pip",FULLSCREEN:"fullscreen",CAST:"cast",PLAYBACK_RATE:"playback-rate",VOLUME:"volume",TIME:"time",TITLE:"title",AUDIO_TRACK:"audio-track",RENDITION:"rendition"},Kze=Object.values(Vze).join(", "),Gze=t=>{var e,r,n,i,s,a,c,u,o,d,f,A,p,g,y,v,b,w,S,_,T,L,D,V,G,J,ee,ue,pe,ge,he,ne,Ae,oe,Be,ke,ve,se,me;return zT`
  <media-theme
    template="${t.themeTemplate||!1}"
    defaultstreamtype="${(e=t.defaultStreamType)!=null?e:!1}"
    hotkeys="${Qze(t)||!1}"
    nohotkeys="${t.noHotKeys||!t.hasSrc||!1}"
    noautoseektolive="${!!((r=t.streamType)!=null&&r.includes(Ka.LIVE))&&t.targetLiveWindow!==0}"
    novolumepref="${t.novolumepref||!1}"
    nomutedpref="${t.nomutedpref||!1}"
    disabled="${!t.hasSrc||t.isDialogOpen}"
    audio="${(n=t.audio)!=null?n:!1}"
    style="${(i=pze({"--media-primary-color":t.primaryColor,"--media-secondary-color":t.secondaryColor,"--media-accent-color":t.accentColor}))!=null?i:!1}"
    defaultsubtitles="${!t.defaultHiddenCaptions}"
    forwardseekoffset="${(s=t.forwardSeekOffset)!=null?s:!1}"
    backwardseekoffset="${(a=t.backwardSeekOffset)!=null?a:!1}"
    playbackrates="${(c=t.playbackRates)!=null?c:!1}"
    defaultshowremainingtime="${(u=t.defaultShowRemainingTime)!=null?u:!1}"
    defaultduration="${(o=t.defaultDuration)!=null?o:!1}"
    hideduration="${(d=t.hideDuration)!=null?d:!1}"
    title="${(f=t.title)!=null?f:!1}"
    videotitle="${(A=t.videoTitle)!=null?A:!1}"
    proudlydisplaymuxbadge="${(p=t.proudlyDisplayMuxBadge)!=null?p:!1}"
    exportparts="${Kze}"
    onclose="${t.onCloseErrorDialog}"
    onfocusin="${t.onFocusInErrorDialog}"
  >
    <mux-video
      slot="media"
      inert="${(g=t.noHotKeys)!=null?g:!1}"
      target-live-window="${(y=t.targetLiveWindow)!=null?y:!1}"
      stream-type="${(v=jU(t.streamType))!=null?v:!1}"
      crossorigin="${(b=t.crossOrigin)!=null?b:""}"
      playsinline
      autoplay="${(w=t.autoplay)!=null?w:!1}"
      muted="${(S=t.muted)!=null?S:!1}"
      loop="${(_=t.loop)!=null?_:!1}"
      preload="${(T=t.preload)!=null?T:!1}"
      debug="${(L=t.debug)!=null?L:!1}"
      prefer-cmcd="${(D=t.preferCmcd)!=null?D:!1}"
      disable-tracking="${(V=t.disableTracking)!=null?V:!1}"
      disable-cookies="${(G=t.disableCookies)!=null?G:!1}"
      prefer-playback="${(J=t.preferPlayback)!=null?J:!1}"
      start-time="${t.startTime!=null?t.startTime:!1}"
      beacon-collection-domain="${(ee=t.beaconCollectionDomain)!=null?ee:!1}"
      player-init-time="${(ue=t.playerInitTime)!=null?ue:!1}"
      player-software-name="${(pe=t.playerSoftwareName)!=null?pe:!1}"
      player-software-version="${(ge=t.playerSoftwareVersion)!=null?ge:!1}"
      env-key="${(he=t.envKey)!=null?he:!1}"
      custom-domain="${(ne=t.customDomain)!=null?ne:!1}"
      src="${t.src?t.src:t.playbackId?iO(t):!1}"
      cast-src="${t.src?t.src:t.playbackId?iO(t):!1}"
      cast-receiver="${(Ae=t.castReceiver)!=null?Ae:!1}"
      drm-token="${(Be=(oe=t.tokens)==null?void 0:oe.drm)!=null?Be:!1}"
      exportparts="video"
      disable-pseudo-ended="${(ke=t.disablePseudoEnded)!=null?ke:!1}"
      max-auto-resolution="${(ve=t.maxAutoResolution)!=null?ve:!1}"
      cap-rendition-to-player-size="${(se=t.capRenditionToPlayerSize)!=null?se:!1}"
    >
      ${t.storyboard?zT`<track label="thumbnails" default kind="metadata" src="${t.storyboard}" />`:zT``}
      <slot></slot>
    </mux-video>
    <slot name="poster" slot="poster">
      <media-poster-image
        part="poster"
        exportparts="poster, img"
        src="${t.poster?t.poster:!1}"
        placeholdersrc="${(me=t.placeholder)!=null?me:!1}"
      ></media-poster-image>
    </slot>
  </media-theme>
`},poe=t=>t.charAt(0).toUpperCase()+t.slice(1),zze=(t,e=!1)=>{var r,n;if(t.muxCode){let i=poe((r=t.errorCategory)!=null?r:"video"),s=x5((n=t.errorCategory)!=null?n:qo.VIDEO);if(t.muxCode===Oi.NETWORK_OFFLINE)return Si("Your device appears to be offline",e);if(t.muxCode===Oi.NETWORK_TOKEN_EXPIRED)return Si("{category} URL has expired",e).format({category:i});if([Oi.NETWORK_TOKEN_SUB_MISMATCH,Oi.NETWORK_TOKEN_AUD_MISMATCH,Oi.NETWORK_TOKEN_AUD_MISSING,Oi.NETWORK_TOKEN_MALFORMED].includes(t.muxCode))return Si("{category} URL is formatted incorrectly",e).format({category:i});if(t.muxCode===Oi.NETWORK_TOKEN_MISSING)return Si("Invalid {categoryName} URL",e).format({categoryName:s});if(t.muxCode===Oi.NETWORK_NOT_FOUND)return Si("{category} does not exist",e).format({category:i});if(t.muxCode===Oi.NETWORK_NOT_READY){let a=t.streamType==="live"?"Live stream":"Video";return Si("{mediaType} is not currently available",e).format({mediaType:a})}}if(t.code){if(t.code===Dn.MEDIA_ERR_NETWORK)return Si("Network Error",e);if(t.code===Dn.MEDIA_ERR_DECODE)return Si("Media Error",e);if(t.code===Dn.MEDIA_ERR_SRC_NOT_SUPPORTED)return Si("Source Not Supported",e)}return Si("Error",e)},Wze=(t,e=!1)=>{var r,n;if(t.muxCode){let i=poe((r=t.errorCategory)!=null?r:"video"),s=x5((n=t.errorCategory)!=null?n:qo.VIDEO);return t.muxCode===Oi.NETWORK_OFFLINE?Si("Check your internet connection and try reloading this video.",e):t.muxCode===Oi.NETWORK_TOKEN_EXPIRED?Si("The videos secured {tokenNamePrefix}-token has expired.",e).format({tokenNamePrefix:s}):t.muxCode===Oi.NETWORK_TOKEN_SUB_MISMATCH?Si("The videos playback ID does not match the one encoded in the {tokenNamePrefix}-token.",e).format({tokenNamePrefix:s}):t.muxCode===Oi.NETWORK_TOKEN_MALFORMED?Si("{category} URL is formatted incorrectly",e).format({category:i}):[Oi.NETWORK_TOKEN_AUD_MISMATCH,Oi.NETWORK_TOKEN_AUD_MISSING].includes(t.muxCode)?Si("The {tokenNamePrefix}-token is formatted with incorrect information.",e).format({tokenNamePrefix:s}):[Oi.NETWORK_TOKEN_MISSING,Oi.NETWORK_INVALID_URL].includes(t.muxCode)?Si("The video URL or {tokenNamePrefix}-token are formatted with incorrect or incomplete information.",e).format({tokenNamePrefix:s}):t.muxCode===Oi.NETWORK_NOT_FOUND?"":t.message}return t.code&&(t.code===Dn.MEDIA_ERR_NETWORK||t.code===Dn.MEDIA_ERR_DECODE||(t.code,Dn.MEDIA_ERR_SRC_NOT_SUPPORTED)),t.message},Yze=(t,e=!1)=>{let r=zze(t,e).toString(),n=Wze(t,e).toString();return{title:r,message:n}},qze=t=>{if(t.muxCode){if(t.muxCode===Oi.NETWORK_TOKEN_EXPIRED)return"403-expired-token.md";if(t.muxCode===Oi.NETWORK_TOKEN_MALFORMED)return"403-malformatted-token.md";if([Oi.NETWORK_TOKEN_AUD_MISMATCH,Oi.NETWORK_TOKEN_AUD_MISSING].includes(t.muxCode))return"403-incorrect-aud-value.md";if(t.muxCode===Oi.NETWORK_TOKEN_SUB_MISMATCH)return"403-playback-id-mismatch.md";if(t.muxCode===Oi.NETWORK_TOKEN_MISSING)return"missing-signed-tokens.md";if(t.muxCode===Oi.NETWORK_NOT_FOUND)return"404-not-found.md";if(t.muxCode===Oi.NETWORK_NOT_READY)return"412-not-playable.md"}if(t.code){if(t.code===Dn.MEDIA_ERR_NETWORK)return"";if(t.code===Dn.MEDIA_ERR_DECODE)return"media-decode-error.md";if(t.code===Dn.MEDIA_ERR_SRC_NOT_SUPPORTED)return"media-src-not-supported.md"}return""},oW=(t,e)=>{let r=qze(t);return{message:t.message,context:t.context,file:r}},Xze=`<template id="media-theme-gerwig">
  <style>
    @keyframes pre-play-hide {
      0% {
        transform: scale(1);
        opacity: 1;
      }

      30% {
        transform: scale(0.7);
      }

      100% {
        transform: scale(1.5);
        opacity: 0;
      }
    }

    :host {
      --_primary-color: var(--media-primary-color, #fff);
      --_secondary-color: var(--media-secondary-color, transparent);
      --_accent-color: var(--media-accent-color, #fa50b5);
      --_text-color: var(--media-text-color, #000);

      --media-icon-color: var(--_primary-color);
      --media-control-background: var(--_secondary-color);
      --media-control-hover-background: var(--_accent-color);
      --media-time-buffered-color: rgba(255, 255, 255, 0.4);
      --media-preview-time-text-shadow: none;
      --media-control-height: 14px;
      --media-control-padding: 6px;
      --media-tooltip-container-margin: 6px;
      --media-tooltip-distance: 18px;

      color: var(--_primary-color);
      display: inline-block;
      width: 100%;
      height: 100%;
    }

    :host([audio]) {
      --_secondary-color: var(--media-secondary-color, black);
      --media-preview-time-text-shadow: none;
    }

    :host([audio]) ::slotted([slot='media']) {
      height: 0px;
    }

    :host([audio]) media-loading-indicator {
      display: none;
    }

    :host([audio]) media-controller {
      background: transparent;
    }

    :host([audio]) media-controller::part(vertical-layer) {
      background: transparent;
    }

    :host([audio]) media-control-bar {
      width: 100%;
      background-color: var(--media-control-background);
    }

    /*
     * 0.433s is the transition duration for VTT Regions.
     * Borrowed here, so the captions don't move too fast.
     */
    media-controller {
      --media-webkit-text-track-transform: translateY(0) scale(0.98);
      --media-webkit-text-track-transition: transform 0.433s ease-out 0.3s;
    }
    media-controller:is([mediapaused], :not([userinactive])) {
      --media-webkit-text-track-transform: translateY(-50px) scale(0.98);
      --media-webkit-text-track-transition: transform 0.15s ease;
    }

    /*
     * CSS specific to iOS devices.
     * See: https://stackoverflow.com/questions/30102792/css-media-query-to-target-only-ios-devices/60220757#60220757
     */
    @supports (-webkit-touch-callout: none) {
      /* Disable subtitle adjusting for iOS Safari */
      media-controller[mediaisfullscreen] {
        --media-webkit-text-track-transform: unset;
        --media-webkit-text-track-transition: unset;
      }
    }

    media-time-range {
      --media-box-padding-left: 6px;
      --media-box-padding-right: 6px;
      --media-range-bar-color: var(--_accent-color);
      --media-time-range-buffered-color: var(--_primary-color);
      --media-range-track-color: transparent;
      --media-range-track-background: rgba(255, 255, 255, 0.4);
      --media-range-thumb-background: radial-gradient(
        circle,
        #000 0%,
        #000 25%,
        var(--_accent-color) 25%,
        var(--_accent-color)
      );
      --media-range-thumb-width: 12px;
      --media-range-thumb-height: 12px;
      --media-range-thumb-transform: scale(0);
      --media-range-thumb-transition: transform 0.3s;
      --media-range-thumb-opacity: 1;
      --media-preview-background: var(--_primary-color);
      --media-box-arrow-background: var(--_primary-color);
      --media-preview-thumbnail-border: 5px solid var(--_primary-color);
      --media-preview-border-radius: 5px;
      --media-text-color: var(--_text-color);
      --media-control-hover-background: transparent;
      --media-preview-chapter-text-shadow: none;
      color: var(--_accent-color);
      padding: 0 6px;
    }

    :host([audio]) media-time-range {
      --media-preview-time-padding: 1.5px 6px;
      --media-preview-box-margin: 0 0 -5px;
    }

    media-time-range:hover {
      --media-range-thumb-transform: scale(1);
    }

    media-preview-thumbnail {
      border-bottom-width: 0;
    }

    [part~='menu'] {
      border-radius: 2px;
      border: 1px solid rgba(0, 0, 0, 0.1);
      bottom: 50px;
      padding: 2.5px 10px;
    }

    [part~='menu']::part(indicator) {
      fill: var(--_accent-color);
    }

    [part~='menu']::part(menu-item) {
      box-sizing: border-box;
      display: flex;
      align-items: center;
      padding: 6px 10px;
      min-height: 34px;
    }

    [part~='menu']::part(checked) {
      font-weight: 700;
    }

    media-captions-menu,
    media-rendition-menu,
    media-audio-track-menu,
    media-playback-rate-menu {
      position: absolute; /* ensure they don't take up space in DOM on load */
      --media-menu-background: var(--_primary-color);
      --media-menu-item-checked-background: transparent;
      --media-text-color: var(--_text-color);
      --media-menu-item-hover-background: transparent;
      --media-menu-item-hover-outline: var(--_accent-color) solid 1px;
    }

    media-rendition-menu {
      min-width: 140px;
    }

    /* The icon is a circle so make it 16px high instead of 14px for more balance. */
    media-audio-track-menu-button {
      --media-control-padding: 5px;
      --media-control-height: 16px;
    }

    media-playback-rate-menu-button {
      --media-control-padding: 6px 3px;
      min-width: 4.4ch;
    }

    media-playback-rate-menu {
      --media-menu-flex-direction: row;
      --media-menu-item-checked-background: var(--_accent-color);
      --media-menu-item-checked-indicator-display: none;
      margin-right: 6px;
      padding: 0;
      --media-menu-gap: 0.25em;
    }

    media-playback-rate-menu[part~='menu']::part(menu-item) {
      padding: 6px 6px 6px 8px;
    }

    media-playback-rate-menu[part~='menu']::part(checked) {
      color: #fff;
    }

    :host(:not([audio])) media-time-range {
      /* Adding px is required here for calc() */
      --media-range-padding: 0px;
      background: transparent;
      z-index: 10;
      height: 10px;
      bottom: -3px;
      width: 100%;
    }

    media-control-bar :is([role='button'], [role='switch'], button) {
      line-height: 0;
    }

    media-control-bar :is([part*='button'], [part*='range'], [part*='display']) {
      border-radius: 3px;
    }

    .spacer {
      flex-grow: 1;
      background-color: var(--media-control-background, rgba(20, 20, 30, 0.7));
    }

    media-control-bar[slot~='top-chrome'] {
      min-height: 42px;
      pointer-events: none;
    }

    media-control-bar {
      --gradient-steps:
        hsl(0 0% 0% / 0) 0%, hsl(0 0% 0% / 0.013) 8.1%, hsl(0 0% 0% / 0.049) 15.5%, hsl(0 0% 0% / 0.104) 22.5%,
        hsl(0 0% 0% / 0.175) 29%, hsl(0 0% 0% / 0.259) 35.3%, hsl(0 0% 0% / 0.352) 41.2%, hsl(0 0% 0% / 0.45) 47.1%,
        hsl(0 0% 0% / 0.55) 52.9%, hsl(0 0% 0% / 0.648) 58.8%, hsl(0 0% 0% / 0.741) 64.7%, hsl(0 0% 0% / 0.825) 71%,
        hsl(0 0% 0% / 0.896) 77.5%, hsl(0 0% 0% / 0.951) 84.5%, hsl(0 0% 0% / 0.987) 91.9%, hsl(0 0% 0%) 100%;
    }

    :host([title]) media-control-bar[slot='top-chrome']::before,
    :host([videotitle]) media-control-bar[slot='top-chrome']::before {
      content: '';
      position: absolute;
      width: 100%;
      padding-bottom: min(100px, 25%);
      background: linear-gradient(to top, var(--gradient-steps));
      opacity: 0.8;
      pointer-events: none;
    }

    :host(:not([audio])) media-control-bar[part~='bottom']::before {
      content: '';
      position: absolute;
      width: 100%;
      bottom: 0;
      left: 0;
      padding-bottom: min(100px, 25%);
      background: linear-gradient(to bottom, var(--gradient-steps));
      opacity: 0.8;
      z-index: 1;
      pointer-events: none;
    }

    media-control-bar[part~='bottom'] > * {
      z-index: 20;
    }

    media-control-bar[part~='bottom'] {
      padding: 6px 6px;
    }

    media-control-bar[slot~='top-chrome'] > * {
      --media-control-background: transparent;
      --media-control-hover-background: transparent;
      position: relative;
    }

    media-controller::part(vertical-layer) {
      transition: background-color 1s;
    }

    media-controller:is([mediapaused], :not([userinactive]))::part(vertical-layer) {
      background-color: var(--controls-backdrop-color, var(--controls, transparent));
      transition: background-color 0.25s;
    }

    .center-controls {
      --media-button-icon-width: 100%;
      --media-button-icon-height: auto;
      --media-tooltip-display: none;
      pointer-events: none;
      width: 100%;
      display: flex;
      flex-flow: row;
      align-items: center;
      justify-content: center;
      paint-order: stroke;
      stroke: rgba(102, 102, 102, 1);
      stroke-width: 0.3px;
      text-shadow:
        0 0 2px rgb(0 0 0 / 0.25),
        0 0 6px rgb(0 0 0 / 0.25);
    }

    .center-controls media-play-button {
      --media-control-background: transparent;
      --media-control-hover-background: transparent;
      --media-control-padding: 0;
      width: 40px;
      filter: drop-shadow(0 0 2px rgb(0 0 0 / 0.25)) drop-shadow(0 0 6px rgb(0 0 0 / 0.25));
    }

    [breakpointsm] .center-controls media-play-button {
      width: 90px;
      height: 90px;
      border-radius: 50%;
      transition: background 0.4s;
      padding: 24px;
      --media-control-background: #000;
      --media-control-hover-background: var(--_accent-color);
    }

    .center-controls media-seek-backward-button,
    .center-controls media-seek-forward-button {
      --media-control-background: transparent;
      --media-control-hover-background: transparent;
      padding: 0;
      margin: 0 20px;
      width: max(33px, min(8%, 40px));
      text-shadow:
        0 0 2px rgb(0 0 0 / 0.25),
        0 0 6px rgb(0 0 0 / 0.25);
    }

    [breakpointsm]:not([audio]) .center-controls.pre-playback {
      display: grid;
      align-items: initial;
      justify-content: initial;
      height: 100%;
      overflow: hidden;
    }

    [breakpointsm]:not([audio]) .center-controls.pre-playback media-play-button {
      place-self: var(--_pre-playback-place, center);
      grid-area: 1 / 1;
      margin: 16px;
    }

    /* Show and hide controls or pre-playback state */

    [breakpointsm]:is([mediahasplayed], :not([mediapaused])):not([audio])
      .center-controls.pre-playback
      media-play-button {
      /* Using \`forwards\` would lead to a laggy UI after the animation got in the end state */
      animation: 0.3s linear pre-play-hide;
      opacity: 0;
      pointer-events: none;
    }

    .autoplay-unmute {
      --media-control-hover-background: transparent;
      width: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      filter: drop-shadow(0 0 2px rgb(0 0 0 / 0.25)) drop-shadow(0 0 6px rgb(0 0 0 / 0.25));
    }

    .autoplay-unmute-btn {
      --media-control-height: 16px;
      border-radius: 8px;
      background: #000;
      color: var(--_primary-color);
      display: flex;
      align-items: center;
      padding: 8px 16px;
      font-size: 18px;
      font-weight: 500;
      cursor: pointer;
    }

    .autoplay-unmute-btn:hover {
      background: var(--_accent-color);
    }

    [breakpointsm] .autoplay-unmute-btn {
      --media-control-height: 30px;
      padding: 14px 24px;
      font-size: 26px;
    }

    .autoplay-unmute-btn svg {
      margin: 0 6px 0 0;
    }

    [breakpointsm] .autoplay-unmute-btn svg {
      margin: 0 10px 0 0;
    }

    media-controller:not([audio]):not([mediahasplayed]) *:is(media-control-bar, media-time-range) {
      display: none;
    }

    media-error-dialog:not([mediaerrorcode]) {
      opacity: 0;
    }

    media-loading-indicator {
      --media-loading-icon-width: 100%;
      --media-button-icon-height: auto;
      display: var(--media-control-display, var(--media-loading-indicator-display, flex));
      pointer-events: none;
      position: absolute;
      width: min(15%, 150px);
      flex-flow: row;
      align-items: center;
      justify-content: center;
    }

    /* Intentionally don't target the div for transition but the children
     of the div. Prevents messing with media-chrome's autohide feature. */
    media-loading-indicator + div * {
      transition: opacity 0.15s;
      opacity: 1;
    }

    media-loading-indicator[medialoading]:not([mediapaused]) ~ div > * {
      opacity: 0;
      transition-delay: 400ms;
    }

    media-volume-range {
      width: min(100%, 100px);
      --media-range-padding-left: 10px;
      --media-range-padding-right: 10px;
      --media-range-thumb-width: 12px;
      --media-range-thumb-height: 12px;
      --media-range-thumb-background: radial-gradient(
        circle,
        #000 0%,
        #000 25%,
        var(--_primary-color) 25%,
        var(--_primary-color)
      );
      --media-control-hover-background: none;
    }

    media-time-display {
      white-space: nowrap;
    }

    /* Generic style for explicitly disabled controls */
    media-control-bar[part~='bottom'] [disabled],
    media-control-bar[part~='bottom'] [aria-disabled='true'] {
      opacity: 60%;
      cursor: not-allowed;
    }

    media-text-display {
      --media-font-size: 16px;
      --media-control-padding: 14px;
      font-weight: 500;
    }

    media-play-button.animated *:is(g, path) {
      transition: all 0.3s;
    }

    media-play-button.animated[mediapaused] .pause-icon-pt1 {
      opacity: 0;
    }

    media-play-button.animated[mediapaused] .pause-icon-pt2 {
      transform-origin: center center;
      transform: scaleY(0);
    }

    media-play-button.animated[mediapaused] .play-icon {
      clip-path: inset(0 0 0 0);
    }

    media-play-button.animated:not([mediapaused]) .play-icon {
      clip-path: inset(0 0 0 100%);
    }

    media-seek-forward-button,
    media-seek-backward-button {
      --media-font-weight: 400;
    }

    .mute-icon {
      display: inline-block;
    }

    .mute-icon :is(path, g) {
      transition: opacity 0.5s;
    }

    .muted {
      opacity: 0;
    }

    media-mute-button[mediavolumelevel='low'] :is(.volume-medium, .volume-high),
    media-mute-button[mediavolumelevel='medium'] :is(.volume-high) {
      opacity: 0;
    }

    media-mute-button[mediavolumelevel='off'] .unmuted {
      opacity: 0;
    }

    media-mute-button[mediavolumelevel='off'] .muted {
      opacity: 1;
    }

    /**
     * Our defaults for these buttons are to hide them at small sizes
     * users can override this with CSS
     */
    media-controller:not([breakpointsm]):not([audio]) {
      --bottom-play-button: none;
      --bottom-seek-backward-button: none;
      --bottom-seek-forward-button: none;
      --bottom-time-display: none;
      --bottom-playback-rate-menu-button: none;
      --bottom-pip-button: none;
    }

    [part='mux-badge'] {
      position: absolute;
      bottom: 10px;
      right: 10px;
      z-index: 2;
      opacity: 0.6;
      transition:
        opacity 0.2s ease-in-out,
        bottom 0.2s ease-in-out;
    }

    [part='mux-badge']:hover {
      opacity: 1;
    }

    [part='mux-badge'] a {
      font-size: 14px;
      font-family: var(--_font-family);
      color: var(--_primary-color);
      text-decoration: none;
      display: flex;
      align-items: center;
      gap: 5px;
    }

    [part='mux-badge'] .mux-badge-text {
      transition: opacity 0.5s ease-in-out;
      opacity: 0;
    }

    [part='mux-badge'] .mux-badge-logo {
      width: 40px;
      height: auto;
      display: inline-block;
    }

    [part='mux-badge'] .mux-badge-logo svg {
      width: 100%;
      height: 100%;
      fill: white;
    }

    media-controller:not([userinactive]):not([mediahasplayed]) [part='mux-badge'],
    media-controller:not([userinactive]) [part='mux-badge'],
    media-controller[mediahasplayed][mediapaused] [part='mux-badge'] {
      transition: bottom 0.1s ease-in-out;
    }

    media-controller[userinactive]:not([mediapaused]) [part='mux-badge'] {
      transition: bottom 0.2s ease-in-out 0.62s;
    }

    media-controller:not([userinactive]) [part='mux-badge'] .mux-badge-text,
    media-controller[mediahasplayed][mediapaused] [part='mux-badge'] .mux-badge-text {
      opacity: 1;
    }

    media-controller[userinactive]:not([mediapaused]) [part='mux-badge'] .mux-badge-text {
      opacity: 0;
    }

    media-controller[userinactive]:not([mediapaused]) [part='mux-badge'] {
      bottom: 10px;
    }

    media-controller:not([userinactive]):not([mediahasplayed]) [part='mux-badge'] {
      bottom: 10px;
    }

    media-controller:not([userinactive])[mediahasplayed] [part='mux-badge'],
    media-controller[mediahasplayed][mediapaused] [part='mux-badge'] {
      bottom: calc(28px + var(--media-control-height, 0px) + var(--media-control-padding, 0px) * 2);
    }
  </style>

  <template partial="TitleDisplay">
    <template if="videotitle">
      <template if="videotitle != true">
        <media-text-display part="top title display" class="title-display">{{videotitle}}</media-text-display>
      </template>
    </template>
    <template if="!videotitle">
      <template if="title">
        <media-text-display part="top title display" class="title-display">{{title}}</media-text-display>
      </template>
    </template>
  </template>

  <template partial="PlayButton">
    <media-play-button
      part="{{section ?? 'bottom'}} play button"
      disabled="{{disabled}}"
      aria-disabled="{{disabled}}"
      class="animated"
    >
      <svg aria-hidden="true" viewBox="0 0 18 14" slot="icon">
        <g class="play-icon">
          <path
            d="M15.5987 6.2911L3.45577 0.110898C2.83667 -0.204202 2.06287 0.189698 2.06287 0.819798V13.1802C2.06287 13.8103 2.83667 14.2042 3.45577 13.8891L15.5987 7.7089C16.2178 7.3938 16.2178 6.6061 15.5987 6.2911Z"
          />
        </g>
        <g class="pause-icon">
          <path
            class="pause-icon-pt1"
            d="M5.90709 0H2.96889C2.46857 0 2.06299 0.405585 2.06299 0.9059V13.0941C2.06299 13.5944 2.46857 14 2.96889 14H5.90709C6.4074 14 6.81299 13.5944 6.81299 13.0941V0.9059C6.81299 0.405585 6.4074 0 5.90709 0Z"
          />
          <path
            class="pause-icon-pt2"
            d="M15.1571 0H12.2189C11.7186 0 11.313 0.405585 11.313 0.9059V13.0941C11.313 13.5944 11.7186 14 12.2189 14H15.1571C15.6574 14 16.063 13.5944 16.063 13.0941V0.9059C16.063 0.405585 15.6574 0 15.1571 0Z"
          />
        </g>
      </svg>
    </media-play-button>
  </template>

  <template partial="PrePlayButton">
    <media-play-button
      part="{{section ?? 'center'}} play button pre-play"
      disabled="{{disabled}}"
      aria-disabled="{{disabled}}"
    >
      <svg aria-hidden="true" viewBox="0 0 18 14" slot="icon" style="transform: translate(3px, 0)">
        <path
          d="M15.5987 6.2911L3.45577 0.110898C2.83667 -0.204202 2.06287 0.189698 2.06287 0.819798V13.1802C2.06287 13.8103 2.83667 14.2042 3.45577 13.8891L15.5987 7.7089C16.2178 7.3938 16.2178 6.6061 15.5987 6.2911Z"
        />
      </svg>
    </media-play-button>
  </template>

  <template partial="SeekBackwardButton">
    <media-seek-backward-button
      seekoffset="{{backwardseekoffset}}"
      part="{{section ?? 'bottom'}} seek-backward button"
      disabled="{{disabled}}"
      aria-disabled="{{disabled}}"
    >
      <svg viewBox="0 0 22 14" aria-hidden="true" slot="icon">
        <path
          d="M3.65 2.07888L0.0864 6.7279C-0.0288 6.87812 -0.0288 7.12188 0.0864 7.2721L3.65 11.9211C3.7792 12.0896 4 11.9703 4 11.7321V2.26787C4 2.02968 3.7792 1.9104 3.65 2.07888Z"
        />
        <text transform="translate(6 12)" style="font-size: 14px; font-family: 'ArialMT', 'Arial'">
          {{backwardseekoffset}}
        </text>
      </svg>
    </media-seek-backward-button>
  </template>

  <template partial="SeekForwardButton">
    <media-seek-forward-button
      seekoffset="{{forwardseekoffset}}"
      part="{{section ?? 'bottom'}} seek-forward button"
      disabled="{{disabled}}"
      aria-disabled="{{disabled}}"
    >
      <svg viewBox="0 0 22 14" aria-hidden="true" slot="icon">
        <g>
          <text transform="translate(-1 12)" style="font-size: 14px; font-family: 'ArialMT', 'Arial'">
            {{forwardseekoffset}}
          </text>
          <path
            d="M18.35 11.9211L21.9136 7.2721C22.0288 7.12188 22.0288 6.87812 21.9136 6.7279L18.35 2.07888C18.2208 1.91041 18 2.02968 18 2.26787V11.7321C18 11.9703 18.2208 12.0896 18.35 11.9211Z"
          />
        </g>
      </svg>
    </media-seek-forward-button>
  </template>

  <template partial="MuteButton">
    <media-mute-button part="bottom mute button" disabled="{{disabled}}" aria-disabled="{{disabled}}">
      <svg viewBox="0 0 18 14" slot="icon" class="mute-icon" aria-hidden="true">
        <g class="unmuted">
          <path
            d="M6.76786 1.21233L3.98606 3.98924H1.19937C0.593146 3.98924 0.101743 4.51375 0.101743 5.1607V6.96412L0 6.99998L0.101743 7.03583V8.83926C0.101743 9.48633 0.593146 10.0108 1.19937 10.0108H3.98606L6.76773 12.7877C7.23561 13.2547 8 12.9007 8 12.2171V1.78301C8 1.09925 7.23574 0.745258 6.76786 1.21233Z"
          />
          <path
            class="volume-low"
            d="M10 3.54781C10.7452 4.55141 11.1393 5.74511 11.1393 6.99991C11.1393 8.25471 10.7453 9.44791 10 10.4515L10.7988 11.0496C11.6734 9.87201 12.1356 8.47161 12.1356 6.99991C12.1356 5.52821 11.6735 4.12731 10.7988 2.94971L10 3.54781Z"
          />
          <path
            class="volume-medium"
            d="M12.3778 2.40086C13.2709 3.76756 13.7428 5.35806 13.7428 7.00026C13.7428 8.64246 13.2709 10.233 12.3778 11.5992L13.2106 12.1484C14.2107 10.6185 14.739 8.83796 14.739 7.00016C14.739 5.16236 14.2107 3.38236 13.2106 1.85156L12.3778 2.40086Z"
          />
          <path
            class="volume-high"
            d="M15.5981 0.75L14.7478 1.2719C15.7937 2.9919 16.3468 4.9723 16.3468 7C16.3468 9.0277 15.7937 11.0082 14.7478 12.7281L15.5981 13.25C16.7398 11.3722 17.343 9.211 17.343 7C17.343 4.789 16.7398 2.6268 15.5981 0.75Z"
          />
        </g>
        <g class="muted">
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M4.39976 4.98924H1.19937C1.19429 4.98924 1.17777 4.98961 1.15296 5.01609C1.1271 5.04369 1.10174 5.09245 1.10174 5.1607V8.83926C1.10174 8.90761 1.12714 8.95641 1.15299 8.984C1.17779 9.01047 1.1943 9.01084 1.19937 9.01084H4.39977L7 11.6066V2.39357L4.39976 4.98924ZM7.47434 1.92006C7.4743 1.9201 7.47439 1.92002 7.47434 1.92006V1.92006ZM6.76773 12.7877L3.98606 10.0108H1.19937C0.593146 10.0108 0.101743 9.48633 0.101743 8.83926V7.03583L0 6.99998L0.101743 6.96412V5.1607C0.101743 4.51375 0.593146 3.98924 1.19937 3.98924H3.98606L6.76786 1.21233C7.23574 0.745258 8 1.09925 8 1.78301V12.2171C8 12.9007 7.23561 13.2547 6.76773 12.7877Z"
          />
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M15.2677 9.30323C15.463 9.49849 15.7796 9.49849 15.9749 9.30323C16.1701 9.10796 16.1701 8.79138 15.9749 8.59612L14.2071 6.82841L15.9749 5.06066C16.1702 4.8654 16.1702 4.54882 15.9749 4.35355C15.7796 4.15829 15.4631 4.15829 15.2678 4.35355L13.5 6.1213L11.7322 4.35348C11.537 4.15822 11.2204 4.15822 11.0251 4.35348C10.8298 4.54874 10.8298 4.86532 11.0251 5.06058L12.7929 6.82841L11.0251 8.59619C10.8299 8.79146 10.8299 9.10804 11.0251 9.3033C11.2204 9.49856 11.537 9.49856 11.7323 9.3033L13.5 7.53552L15.2677 9.30323Z"
          />
        </g>
      </svg>
    </media-mute-button>
  </template>

  <template partial="PipButton">
    <media-pip-button part="bottom pip button" disabled="{{disabled}}" aria-disabled="{{disabled}}">
      <svg viewBox="0 0 18 14" aria-hidden="true" slot="icon">
        <path
          d="M15.9891 0H2.011C0.9004 0 0 0.9003 0 2.0109V11.989C0 13.0996 0.9004 14 2.011 14H15.9891C17.0997 14 18 13.0997 18 11.9891V2.0109C18 0.9003 17.0997 0 15.9891 0ZM17 11.9891C17 12.5465 16.5465 13 15.9891 13H2.011C1.4536 13 1.0001 12.5465 1.0001 11.9891V2.0109C1.0001 1.4535 1.4536 0.9999 2.011 0.9999H15.9891C16.5465 0.9999 17 1.4535 17 2.0109V11.9891Z"
        />
        <path
          d="M15.356 5.67822H8.19523C8.03253 5.67822 7.90063 5.81012 7.90063 5.97282V11.3836C7.90063 11.5463 8.03253 11.6782 8.19523 11.6782H15.356C15.5187 11.6782 15.6506 11.5463 15.6506 11.3836V5.97282C15.6506 5.81012 15.5187 5.67822 15.356 5.67822Z"
        />
      </svg>
    </media-pip-button>
  </template>

  <template partial="CaptionsMenu">
    <media-captions-menu-button part="bottom captions button">
      <svg aria-hidden="true" viewBox="0 0 18 14" slot="on">
        <path
          d="M15.989 0H2.011C0.9004 0 0 0.9003 0 2.0109V11.9891C0 13.0997 0.9004 14 2.011 14H15.989C17.0997 14 18 13.0997 18 11.9891V2.0109C18 0.9003 17.0997 0 15.989 0ZM4.2292 8.7639C4.5954 9.1902 5.0935 9.4031 5.7233 9.4031C6.1852 9.4031 6.5544 9.301 6.8302 9.0969C7.1061 8.8933 7.2863 8.614 7.3702 8.26H8.4322C8.3062 8.884 8.0093 9.3733 7.5411 9.7273C7.0733 10.0813 6.4703 10.2581 5.732 10.2581C5.108 10.2581 4.5699 10.1219 4.1168 9.8489C3.6637 9.5759 3.3141 9.1946 3.0685 8.7058C2.8224 8.2165 2.6994 7.6511 2.6994 7.009C2.6994 6.3611 2.8224 5.7927 3.0685 5.3034C3.3141 4.8146 3.6637 4.4323 4.1168 4.1559C4.5699 3.88 5.108 3.7418 5.732 3.7418C6.4703 3.7418 7.0733 3.922 7.5411 4.2818C8.0094 4.6422 8.3062 5.1461 8.4322 5.794H7.3702C7.2862 5.4283 7.106 5.1368 6.8302 4.921C6.5544 4.7052 6.1852 4.5968 5.7233 4.5968C5.0934 4.5968 4.5954 4.8116 4.2292 5.2404C3.8635 5.6696 3.6804 6.259 3.6804 7.009C3.6804 7.7531 3.8635 8.3381 4.2292 8.7639ZM11.0974 8.7639C11.4636 9.1902 11.9617 9.4031 12.5915 9.4031C13.0534 9.4031 13.4226 9.301 13.6984 9.0969C13.9743 8.8933 14.1545 8.614 14.2384 8.26H15.3004C15.1744 8.884 14.8775 9.3733 14.4093 9.7273C13.9415 10.0813 13.3385 10.2581 12.6002 10.2581C11.9762 10.2581 11.4381 10.1219 10.985 9.8489C10.5319 9.5759 10.1823 9.1946 9.9367 8.7058C9.6906 8.2165 9.5676 7.6511 9.5676 7.009C9.5676 6.3611 9.6906 5.7927 9.9367 5.3034C10.1823 4.8146 10.5319 4.4323 10.985 4.1559C11.4381 3.88 11.9762 3.7418 12.6002 3.7418C13.3385 3.7418 13.9415 3.922 14.4093 4.2818C14.8776 4.6422 15.1744 5.1461 15.3004 5.794H14.2384C14.1544 5.4283 13.9742 5.1368 13.6984 4.921C13.4226 4.7052 13.0534 4.5968 12.5915 4.5968C11.9616 4.5968 11.4636 4.8116 11.0974 5.2404C10.7317 5.6696 10.5486 6.259 10.5486 7.009C10.5486 7.7531 10.7317 8.3381 11.0974 8.7639Z"
        />
      </svg>
      <svg aria-hidden="true" viewBox="0 0 18 14" slot="off">
        <path
          d="M5.73219 10.258C5.10819 10.258 4.57009 10.1218 4.11699 9.8488C3.66389 9.5758 3.31429 9.1945 3.06869 8.7057C2.82259 8.2164 2.69958 7.651 2.69958 7.0089C2.69958 6.361 2.82259 5.7926 3.06869 5.3033C3.31429 4.8145 3.66389 4.4322 4.11699 4.1558C4.57009 3.8799 5.10819 3.7417 5.73219 3.7417C6.47049 3.7417 7.07348 3.9219 7.54128 4.2817C8.00958 4.6421 8.30638 5.146 8.43238 5.7939H7.37039C7.28639 5.4282 7.10618 5.1367 6.83039 4.9209C6.55459 4.7051 6.18538 4.5967 5.72348 4.5967C5.09358 4.5967 4.59559 4.8115 4.22939 5.2403C3.86369 5.6695 3.68058 6.2589 3.68058 7.0089C3.68058 7.753 3.86369 8.338 4.22939 8.7638C4.59559 9.1901 5.09368 9.403 5.72348 9.403C6.18538 9.403 6.55459 9.3009 6.83039 9.0968C7.10629 8.8932 7.28649 8.6139 7.37039 8.2599H8.43238C8.30638 8.8839 8.00948 9.3732 7.54128 9.7272C7.07348 10.0812 6.47049 10.258 5.73219 10.258Z"
        />
        <path
          d="M12.6003 10.258C11.9763 10.258 11.4382 10.1218 10.9851 9.8488C10.532 9.5758 10.1824 9.1945 9.93685 8.7057C9.69075 8.2164 9.56775 7.651 9.56775 7.0089C9.56775 6.361 9.69075 5.7926 9.93685 5.3033C10.1824 4.8145 10.532 4.4322 10.9851 4.1558C11.4382 3.8799 11.9763 3.7417 12.6003 3.7417C13.3386 3.7417 13.9416 3.9219 14.4094 4.2817C14.8777 4.6421 15.1745 5.146 15.3005 5.7939H14.2385C14.1545 5.4282 13.9743 5.1367 13.6985 4.9209C13.4227 4.7051 13.0535 4.5967 12.5916 4.5967C11.9617 4.5967 11.4637 4.8115 11.0975 5.2403C10.7318 5.6695 10.5487 6.2589 10.5487 7.0089C10.5487 7.753 10.7318 8.338 11.0975 8.7638C11.4637 9.1901 11.9618 9.403 12.5916 9.403C13.0535 9.403 13.4227 9.3009 13.6985 9.0968C13.9744 8.8932 14.1546 8.6139 14.2385 8.2599H15.3005C15.1745 8.8839 14.8776 9.3732 14.4094 9.7272C13.9416 10.0812 13.3386 10.258 12.6003 10.258Z"
        />
        <path
          d="M15.9891 1C16.5465 1 17 1.4535 17 2.011V11.9891C17 12.5465 16.5465 13 15.9891 13H2.0109C1.4535 13 1 12.5465 1 11.9891V2.0109C1 1.4535 1.4535 0.9999 2.0109 0.9999L15.9891 1ZM15.9891 0H2.0109C0.9003 0 0 0.9003 0 2.0109V11.9891C0 13.0997 0.9003 14 2.0109 14H15.9891C17.0997 14 18 13.0997 18 11.9891V2.0109C18 0.9003 17.0997 0 15.9891 0Z"
        />
      </svg>
    </media-captions-menu-button>
    <media-captions-menu
      hidden
      anchor="auto"
      part="bottom captions menu"
      disabled="{{disabled}}"
      aria-disabled="{{disabled}}"
      exportparts="menu-item"
    >
      <div slot="checked-indicator">
        <style>
          .indicator {
            position: relative;
            top: 1px;
            width: 0.9em;
            height: auto;
            fill: var(--_accent-color);
            margin-right: 5px;
          }

          [aria-checked='false'] .indicator {
            display: none;
          }
        </style>
        <svg viewBox="0 0 14 18" class="indicator">
          <path
            d="M12.252 3.48c-.115.033-.301.161-.425.291-.059.063-1.407 1.815-2.995 3.894s-2.897 3.79-2.908 3.802c-.013.014-.661-.616-1.672-1.624-.908-.905-1.702-1.681-1.765-1.723-.401-.27-.783-.211-1.176.183a1.285 1.285 0 0 0-.261.342.582.582 0 0 0-.082.35c0 .165.01.205.08.35.075.153.213.296 2.182 2.271 1.156 1.159 2.17 2.159 2.253 2.222.189.143.338.196.539.194.203-.003.412-.104.618-.299.205-.193 6.7-8.693 6.804-8.903a.716.716 0 0 0 .085-.345c.01-.179.005-.203-.062-.339-.124-.252-.45-.531-.746-.639a.784.784 0 0 0-.469-.027"
            fill-rule="evenodd"
          />
        </svg></div
    ></media-captions-menu>
  </template>

  <template partial="AirplayButton">
    <media-airplay-button part="bottom airplay button" disabled="{{disabled}}" aria-disabled="{{disabled}}">
      <svg viewBox="0 0 18 14" aria-hidden="true" slot="icon">
        <path
          d="M16.1383 0H1.8618C0.8335 0 0 0.8335 0 1.8617V10.1382C0 11.1664 0.8335 12 1.8618 12H3.076C3.1204 11.9433 3.1503 11.8785 3.2012 11.826L4.004 11H1.8618C1.3866 11 1 10.6134 1 10.1382V1.8617C1 1.3865 1.3866 0.9999 1.8618 0.9999H16.1383C16.6135 0.9999 17.0001 1.3865 17.0001 1.8617V10.1382C17.0001 10.6134 16.6135 11 16.1383 11H13.9961L14.7989 11.826C14.8499 11.8785 14.8798 11.9432 14.9241 12H16.1383C17.1665 12 18.0001 11.1664 18.0001 10.1382V1.8617C18 0.8335 17.1665 0 16.1383 0Z"
        />
        <path
          d="M9.55061 8.21903C9.39981 8.06383 9.20001 7.98633 9.00011 7.98633C8.80021 7.98633 8.60031 8.06383 8.44951 8.21903L4.09771 12.697C3.62471 13.1838 3.96961 13.9998 4.64831 13.9998H13.3518C14.0304 13.9998 14.3754 13.1838 13.9023 12.697L9.55061 8.21903Z"
        />
      </svg>
    </media-airplay-button>
  </template>

  <template partial="FullscreenButton">
    <media-fullscreen-button part="bottom fullscreen button" disabled="{{disabled}}" aria-disabled="{{disabled}}">
      <svg viewBox="0 0 18 14" aria-hidden="true" slot="enter">
        <path
          d="M1.00745 4.39539L1.01445 1.98789C1.01605 1.43049 1.47085 0.978289 2.02835 0.979989L6.39375 0.992589L6.39665 -0.007411L2.03125 -0.020011C0.920646 -0.023211 0.0176463 0.874489 0.0144463 1.98509L0.00744629 4.39539H1.00745Z"
        />
        <path
          d="M17.0144 2.03431L17.0076 4.39541H18.0076L18.0144 2.03721C18.0176 0.926712 17.1199 0.0237125 16.0093 0.0205125L11.6439 0.0078125L11.641 1.00781L16.0064 1.02041C16.5638 1.02201 17.016 1.47681 17.0144 2.03431Z"
        />
        <path
          d="M16.9925 9.60498L16.9855 12.0124C16.9839 12.5698 16.5291 13.022 15.9717 13.0204L11.6063 13.0078L11.6034 14.0078L15.9688 14.0204C17.0794 14.0236 17.9823 13.1259 17.9855 12.0153L17.9925 9.60498H16.9925Z"
        />
        <path
          d="M0.985626 11.9661L0.992426 9.60498H-0.0074737L-0.0142737 11.9632C-0.0174737 13.0738 0.880226 13.9767 1.99083 13.98L6.35623 13.9926L6.35913 12.9926L1.99373 12.98C1.43633 12.9784 0.983926 12.5236 0.985626 11.9661Z"
        />
      </svg>
      <svg viewBox="0 0 18 14" aria-hidden="true" slot="exit">
        <path
          d="M5.39655 -0.0200195L5.38955 2.38748C5.38795 2.94488 4.93315 3.39708 4.37565 3.39538L0.0103463 3.38278L0.00744629 4.38278L4.37285 4.39538C5.48345 4.39858 6.38635 3.50088 6.38965 2.39028L6.39665 -0.0200195H5.39655Z"
        />
        <path
          d="M12.6411 2.36891L12.6479 0.0078125H11.6479L11.6411 2.36601C11.6379 3.47651 12.5356 4.37951 13.6462 4.38271L18.0116 4.39531L18.0145 3.39531L13.6491 3.38271C13.0917 3.38111 12.6395 2.92641 12.6411 2.36891Z"
        />
        <path
          d="M12.6034 14.0204L12.6104 11.613C12.612 11.0556 13.0668 10.6034 13.6242 10.605L17.9896 10.6176L17.9925 9.61759L13.6271 9.60499C12.5165 9.60179 11.6136 10.4995 11.6104 11.6101L11.6034 14.0204H12.6034Z"
        />
        <path
          d="M5.359 11.6315L5.3522 13.9926H6.3522L6.359 11.6344C6.3622 10.5238 5.4645 9.62088 4.3539 9.61758L-0.0115043 9.60498L-0.0144043 10.605L4.351 10.6176C4.9084 10.6192 5.3607 11.074 5.359 11.6315Z"
        />
      </svg>
    </media-fullscreen-button>
  </template>

  <template partial="CastButton">
    <media-cast-button part="bottom cast button" disabled="{{disabled}}" aria-disabled="{{disabled}}">
      <svg viewBox="0 0 18 14" aria-hidden="true" slot="enter">
        <path
          d="M16.0072 0H2.0291C0.9185 0 0.0181 0.9003 0.0181 2.011V5.5009C0.357 5.5016 0.6895 5.5275 1.0181 5.5669V2.011C1.0181 1.4536 1.4716 1 2.029 1H16.0072C16.5646 1 17.0181 1.4536 17.0181 2.011V11.9891C17.0181 12.5465 16.5646 13 16.0072 13H8.4358C8.4746 13.3286 8.4999 13.6611 8.4999 13.9999H16.0071C17.1177 13.9999 18.018 13.0996 18.018 11.989V2.011C18.0181 0.9003 17.1178 0 16.0072 0ZM0 6.4999V7.4999C3.584 7.4999 6.5 10.4159 6.5 13.9999H7.5C7.5 9.8642 4.1357 6.4999 0 6.4999ZM0 8.7499V9.7499C2.3433 9.7499 4.25 11.6566 4.25 13.9999H5.25C5.25 11.1049 2.895 8.7499 0 8.7499ZM0.0181 11V14H3.0181C3.0181 12.3431 1.675 11 0.0181 11Z"
        />
      </svg>
      <svg viewBox="0 0 18 14" aria-hidden="true" slot="exit">
        <path
          d="M15.9891 0H2.01103C0.900434 0 3.35947e-05 0.9003 3.35947e-05 2.011V5.5009C0.338934 5.5016 0.671434 5.5275 1.00003 5.5669V2.011C1.00003 1.4536 1.45353 1 2.01093 1H15.9891C16.5465 1 17 1.4536 17 2.011V11.9891C17 12.5465 16.5465 13 15.9891 13H8.41773C8.45653 13.3286 8.48183 13.6611 8.48183 13.9999H15.989C17.0996 13.9999 17.9999 13.0996 17.9999 11.989V2.011C18 0.9003 17.0997 0 15.9891 0ZM-0.0180664 6.4999V7.4999C3.56593 7.4999 6.48193 10.4159 6.48193 13.9999H7.48193C7.48193 9.8642 4.11763 6.4999 -0.0180664 6.4999ZM-0.0180664 8.7499V9.7499C2.32523 9.7499 4.23193 11.6566 4.23193 13.9999H5.23193C5.23193 11.1049 2.87693 8.7499 -0.0180664 8.7499ZM3.35947e-05 11V14H3.00003C3.00003 12.3431 1.65693 11 3.35947e-05 11Z"
        />
        <path d="M2.15002 5.634C5.18352 6.4207 7.57252 8.8151 8.35282 11.8499H15.8501V2.1499H2.15002V5.634Z" />
      </svg>
    </media-cast-button>
  </template>

  <template partial="LiveButton">
    <media-live-button part="{{section ?? 'top'}} live button" disabled="{{disabled}}" aria-disabled="{{disabled}}">
      <span slot="text">Live</span>
    </media-live-button>
  </template>

  <template partial="PlaybackRateMenu">
    <media-playback-rate-menu-button part="bottom playback-rate button"></media-playback-rate-menu-button>
    <media-playback-rate-menu
      hidden
      anchor="auto"
      rates="{{playbackrates}}"
      exportparts="menu-item"
      part="bottom playback-rate menu"
      disabled="{{disabled}}"
      aria-disabled="{{disabled}}"
    ></media-playback-rate-menu>
  </template>

  <template partial="VolumeRange">
    <media-volume-range
      part="bottom volume range"
      disabled="{{disabled}}"
      aria-disabled="{{disabled}}"
    ></media-volume-range>
  </template>

  <template partial="TimeDisplay">
    <media-time-display
      remaining="{{defaultshowremainingtime}}"
      showduration="{{!hideduration}}"
      part="bottom time display"
      disabled="{{disabled}}"
      aria-disabled="{{disabled}}"
    ></media-time-display>
  </template>

  <template partial="TimeRange">
    <media-time-range part="bottom time range" disabled="{{disabled}}" aria-disabled="{{disabled}}" exportparts="thumb">
      <media-preview-thumbnail slot="preview"></media-preview-thumbnail>
      <media-preview-chapter-display slot="preview"></media-preview-chapter-display>
      <media-preview-time-display slot="preview"></media-preview-time-display>
      <div slot="preview" part="arrow"></div>
    </media-time-range>
  </template>

  <template partial="AudioTrackMenu">
    <media-audio-track-menu-button part="bottom audio-track button">
      <svg aria-hidden="true" slot="icon" viewBox="0 0 18 16">
        <path d="M9 15A7 7 0 1 1 9 1a7 7 0 0 1 0 14Zm0 1A8 8 0 1 0 9 0a8 8 0 0 0 0 16Z" />
        <path
          d="M5.2 6.3a.5.5 0 0 1 .5.5v2.4a.5.5 0 1 1-1 0V6.8a.5.5 0 0 1 .5-.5Zm2.4-2.4a.5.5 0 0 1 .5.5v7.2a.5.5 0 0 1-1 0V4.4a.5.5 0 0 1 .5-.5ZM10 5.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5Zm2.4-.8a.5.5 0 0 1 .5.5v5.6a.5.5 0 0 1-1 0V5.2a.5.5 0 0 1 .5-.5Z"
        />
      </svg>
    </media-audio-track-menu-button>
    <media-audio-track-menu
      hidden
      anchor="auto"
      part="bottom audio-track menu"
      disabled="{{disabled}}"
      aria-disabled="{{disabled}}"
      exportparts="menu-item"
    >
      <div slot="checked-indicator">
        <style>
          .indicator {
            position: relative;
            top: 1px;
            width: 0.9em;
            height: auto;
            fill: var(--_accent-color);
            margin-right: 5px;
          }

          [aria-checked='false'] .indicator {
            display: none;
          }
        </style>
        <svg viewBox="0 0 14 18" class="indicator">
          <path
            d="M12.252 3.48c-.115.033-.301.161-.425.291-.059.063-1.407 1.815-2.995 3.894s-2.897 3.79-2.908 3.802c-.013.014-.661-.616-1.672-1.624-.908-.905-1.702-1.681-1.765-1.723-.401-.27-.783-.211-1.176.183a1.285 1.285 0 0 0-.261.342.582.582 0 0 0-.082.35c0 .165.01.205.08.35.075.153.213.296 2.182 2.271 1.156 1.159 2.17 2.159 2.253 2.222.189.143.338.196.539.194.203-.003.412-.104.618-.299.205-.193 6.7-8.693 6.804-8.903a.716.716 0 0 0 .085-.345c.01-.179.005-.203-.062-.339-.124-.252-.45-.531-.746-.639a.784.784 0 0 0-.469-.027"
            fill-rule="evenodd"
          />
        </svg>
      </div>
    </media-audio-track-menu>
  </template>

  <template partial="RenditionMenu">
    <media-rendition-menu-button part="bottom rendition button">
      <svg aria-hidden="true" slot="icon" viewBox="0 0 18 14">
        <path
          d="M2.25 9a2 2 0 1 0 0-4 2 2 0 0 0 0 4ZM9 9a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm6.75 0a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z"
        />
      </svg>
    </media-rendition-menu-button>
    <media-rendition-menu
      hidden
      anchor="auto"
      part="bottom rendition menu"
      disabled="{{disabled}}"
      aria-disabled="{{disabled}}"
    >
      <div slot="checked-indicator">
        <style>
          .indicator {
            position: relative;
            top: 1px;
            width: 0.9em;
            height: auto;
            fill: var(--_accent-color);
            margin-right: 5px;
          }

          [aria-checked='false'] .indicator {
            opacity: 0;
          }
        </style>
        <svg viewBox="0 0 14 18" class="indicator">
          <path
            d="M12.252 3.48c-.115.033-.301.161-.425.291-.059.063-1.407 1.815-2.995 3.894s-2.897 3.79-2.908 3.802c-.013.014-.661-.616-1.672-1.624-.908-.905-1.702-1.681-1.765-1.723-.401-.27-.783-.211-1.176.183a1.285 1.285 0 0 0-.261.342.582.582 0 0 0-.082.35c0 .165.01.205.08.35.075.153.213.296 2.182 2.271 1.156 1.159 2.17 2.159 2.253 2.222.189.143.338.196.539.194.203-.003.412-.104.618-.299.205-.193 6.7-8.693 6.804-8.903a.716.716 0 0 0 .085-.345c.01-.179.005-.203-.062-.339-.124-.252-.45-.531-.746-.639a.784.784 0 0 0-.469-.027"
            fill-rule="evenodd"
          />
        </svg>
      </div>
    </media-rendition-menu>
  </template>

  <template partial="MuxBadge">
    <div part="mux-badge">
      <a href="https://www.mux.com/player" target="_blank">
        <span class="mux-badge-text">Powered by</span>
        <div class="mux-badge-logo">
          <svg
            viewBox="0 0 1600 500"
            style="fill-rule: evenodd; clip-rule: evenodd; stroke-linejoin: round; stroke-miterlimit: 2"
          >
            <g>
              <path
                d="M994.287,93.486c-17.121,-0 -31,-13.879 -31,-31c0,-17.121 13.879,-31 31,-31c17.121,-0 31,13.879 31,31c0,17.121 -13.879,31 -31,31m0,-93.486c-34.509,-0 -62.484,27.976 -62.484,62.486l0,187.511c0,68.943 -56.09,125.033 -125.032,125.033c-68.942,-0 -125.03,-56.09 -125.03,-125.033l0,-187.511c0,-34.51 -27.976,-62.486 -62.485,-62.486c-34.509,-0 -62.484,27.976 -62.484,62.486l0,187.511c0,137.853 112.149,250.003 249.999,250.003c137.851,-0 250.001,-112.15 250.001,-250.003l0,-187.511c0,-34.51 -27.976,-62.486 -62.485,-62.486"
                style="fill-rule: nonzero"
              ></path>
              <path
                d="M1537.51,468.511c-17.121,-0 -31,-13.879 -31,-31c0,-17.121 13.879,-31 31,-31c17.121,-0 31,13.879 31,31c0,17.121 -13.879,31 -31,31m-275.883,-218.509l-143.33,143.329c-24.402,24.402 -24.402,63.966 0,88.368c24.402,24.402 63.967,24.402 88.369,-0l143.33,-143.329l143.328,143.329c24.402,24.4 63.967,24.402 88.369,-0c24.403,-24.402 24.403,-63.966 0.001,-88.368l-143.33,-143.329l0.001,-0.004l143.329,-143.329c24.402,-24.402 24.402,-63.965 0,-88.367c-24.402,-24.402 -63.967,-24.402 -88.369,-0l-143.329,143.328l-143.329,-143.328c-24.402,-24.401 -63.967,-24.402 -88.369,-0c-24.402,24.402 -24.402,63.965 0,88.367l143.329,143.329l0,0.004Z"
                style="fill-rule: nonzero"
              ></path>
              <path
                d="M437.511,468.521c-17.121,-0 -31,-13.879 -31,-31c0,-17.121 13.879,-31 31,-31c17.121,-0 31,13.879 31,31c0,17.121 -13.879,31 -31,31m23.915,-463.762c-23.348,-9.672 -50.226,-4.327 -68.096,13.544l-143.331,143.329l-143.33,-143.329c-17.871,-17.871 -44.747,-23.216 -68.096,-13.544c-23.349,9.671 -38.574,32.455 -38.574,57.729l0,375.026c0,34.51 27.977,62.486 62.487,62.486c34.51,-0 62.486,-27.976 62.486,-62.486l0,-224.173l80.843,80.844c24.404,24.402 63.965,24.402 88.369,-0l80.843,-80.844l0,224.173c0,34.51 27.976,62.486 62.486,62.486c34.51,-0 62.486,-27.976 62.486,-62.486l0,-375.026c0,-25.274 -15.224,-48.058 -38.573,-57.729"
                style="fill-rule: nonzero"
              ></path>
            </g>
          </svg>
        </div>
      </a>
    </div>
  </template>

  <media-controller
    part="controller"
    defaultstreamtype="{{defaultstreamtype ?? 'on-demand'}}"
    breakpoints="sm:470"
    gesturesdisabled="{{disabled}}"
    hotkeys="{{hotkeys}}"
    nohotkeys="{{nohotkeys}}"
    novolumepref="{{novolumepref}}"
    audio="{{audio}}"
    noautoseektolive="{{noautoseektolive}}"
    defaultsubtitles="{{defaultsubtitles}}"
    defaultduration="{{defaultduration ?? false}}"
    keyboardforwardseekoffset="{{forwardseekoffset}}"
    keyboardbackwardseekoffset="{{backwardseekoffset}}"
    exportparts="layer, media-layer, poster-layer, vertical-layer, centered-layer, gesture-layer"
    style="--_pre-playback-place:{{preplaybackplace ?? 'center'}}"
  >
    <slot name="media" slot="media"></slot>
    <slot name="poster" slot="poster"></slot>

    <media-loading-indicator slot="centered-chrome" noautohide></media-loading-indicator>

    <template if="!audio">
      <media-error-dialog slot="dialog" noautohide></media-error-dialog>
      <!-- Pre-playback UI -->
      <!-- same for both on-demand and live -->
      <div slot="centered-chrome" class="center-controls pre-playback">
        <template if="!breakpointsm">{{>PlayButton section="center"}}</template>
        <template if="breakpointsm">{{>PrePlayButton section="center"}}</template>
      </div>

      <!-- Mux Badge -->
      <template if="proudlydisplaymuxbadge"> {{>MuxBadge}} </template>

      <!-- Autoplay centered unmute button -->
      <!--
        todo: figure out how show this with available state variables
        needs to show when:
        - autoplay is enabled
        - playback has been successful
        - audio is muted
        - in place / instead of the pre-plaback play button
        - not to show again after user has interacted with this button
          - OR user has interacted with the mute button in the control bar
      -->
      <!--
        There should be a >MuteButton to the left of the "Unmute" text, but a templating bug
        makes it appear even if commented out in the markup, add it back when code is un-commented
      -->
      <!-- <div slot="centered-chrome" class="autoplay-unmute">
        <div role="button" class="autoplay-unmute-btn">Unmute</div>
      </div> -->

      <template if="streamtype == 'on-demand'">
        <template if="breakpointsm">
          <media-control-bar part="control-bar top" slot="top-chrome">{{>TitleDisplay}} </media-control-bar>
        </template>
        {{>TimeRange}}
        <media-control-bar part="control-bar bottom">
          {{>PlayButton}} {{>SeekBackwardButton}} {{>SeekForwardButton}} {{>TimeDisplay}} {{>MuteButton}}
          {{>VolumeRange}}
          <div class="spacer"></div>
          {{>RenditionMenu}} {{>PlaybackRateMenu}} {{>AudioTrackMenu}} {{>CaptionsMenu}} {{>AirplayButton}}
          {{>CastButton}} {{>PipButton}} {{>FullscreenButton}}
        </media-control-bar>
      </template>

      <template if="streamtype == 'live'">
        <media-control-bar part="control-bar top" slot="top-chrome">
          {{>LiveButton}}
          <template if="breakpointsm"> {{>TitleDisplay}} </template>
        </media-control-bar>
        <template if="targetlivewindow > 0">{{>TimeRange}}</template>
        <media-control-bar part="control-bar bottom">
          {{>PlayButton}}
          <template if="targetlivewindow > 0">{{>SeekBackwardButton}} {{>SeekForwardButton}}</template>
          {{>MuteButton}} {{>VolumeRange}}
          <div class="spacer"></div>
          {{>RenditionMenu}} {{>AudioTrackMenu}} {{>CaptionsMenu}} {{>AirplayButton}} {{>CastButton}} {{>PipButton}}
          {{>FullscreenButton}}
        </media-control-bar>
      </template>
    </template>

    <template if="audio">
      <template if="streamtype == 'on-demand'">
        <template if="title">
          <media-control-bar part="control-bar top">{{>TitleDisplay}}</media-control-bar>
        </template>
        <media-control-bar part="control-bar bottom">
          {{>PlayButton}}
          <template if="breakpointsm"> {{>SeekBackwardButton}} {{>SeekForwardButton}} </template>
          {{>MuteButton}}
          <template if="breakpointsm">{{>VolumeRange}}</template>
          {{>TimeDisplay}} {{>TimeRange}}
          <template if="breakpointsm">{{>PlaybackRateMenu}}</template>
          {{>AirplayButton}} {{>CastButton}}
        </media-control-bar>
      </template>

      <template if="streamtype == 'live'">
        <template if="title">
          <media-control-bar part="control-bar top">{{>TitleDisplay}}</media-control-bar>
        </template>
        <media-control-bar part="control-bar bottom">
          {{>PlayButton}} {{>LiveButton section="bottom"}} {{>MuteButton}}
          <template if="breakpointsm">
            {{>VolumeRange}}
            <template if="targetlivewindow > 0"> {{>SeekBackwardButton}} {{>SeekForwardButton}} </template>
          </template>
          <template if="targetlivewindow > 0"> {{>TimeDisplay}} {{>TimeRange}} </template>
          <template if="!targetlivewindow"><div class="spacer"></div></template>
          {{>AirplayButton}} {{>CastButton}}
        </media-control-bar>
      </template>
    </template>

    <slot></slot>
  </media-controller>
</template>
`,yP=sN.createElement("template");"innerHTML"in yP&&(yP.innerHTML=Xze);var lW,cW,goe=class extends D5{};goe.template=(cW=(lW=yP.content)==null?void 0:lW.children)==null?void 0:cW[0];bm.customElements.get("media-theme-gerwig")||bm.customElements.define("media-theme-gerwig",goe);var Zze="gerwig",vp={SRC:"src",POSTER:"poster"},Gr={STYLE:"style",DEFAULT_HIDDEN_CAPTIONS:"default-hidden-captions",PRIMARY_COLOR:"primary-color",SECONDARY_COLOR:"secondary-color",ACCENT_COLOR:"accent-color",FORWARD_SEEK_OFFSET:"forward-seek-offset",BACKWARD_SEEK_OFFSET:"backward-seek-offset",PLAYBACK_TOKEN:"playback-token",THUMBNAIL_TOKEN:"thumbnail-token",STORYBOARD_TOKEN:"storyboard-token",FULLSCREEN_ELEMENT:"fullscreen-element",DRM_TOKEN:"drm-token",STORYBOARD_SRC:"storyboard-src",THUMBNAIL_TIME:"thumbnail-time",AUDIO:"audio",NOHOTKEYS:"nohotkeys",HOTKEYS:"hotkeys",PLAYBACK_RATES:"playbackrates",DEFAULT_SHOW_REMAINING_TIME:"default-show-remaining-time",DEFAULT_DURATION:"default-duration",TITLE:"title",VIDEO_TITLE:"video-title",PLACEHOLDER:"placeholder",THEME:"theme",DEFAULT_STREAM_TYPE:"default-stream-type",TARGET_LIVE_WINDOW:"target-live-window",EXTRA_SOURCE_PARAMS:"extra-source-params",NO_VOLUME_PREF:"no-volume-pref",NO_MUTED_PREF:"no-muted-pref",CAST_RECEIVER:"cast-receiver",NO_TOOLTIPS:"no-tooltips",PROUDLY_DISPLAY_MUX_BADGE:"proudly-display-mux-badge",DISABLE_PSEUDO_ENDED:"disable-pseudo-ended"},xP=["audio","backwardseekoffset","defaultduration","defaultshowremainingtime","defaultsubtitles","noautoseektolive","disabled","exportparts","forwardseekoffset","hideduration","hotkeys","nohotkeys","playbackrates","defaultstreamtype","streamtype","style","targetlivewindow","template","title","videotitle","novolumepref","nomutedpref","proudlydisplaymuxbadge"];function Jze(t,e){var r,n,i;return{src:!t.playbackId&&t.src,playbackId:t.playbackId,hasSrc:!!t.playbackId||!!t.src||!!t.currentSrc,poster:t.poster,storyboard:((r=t.media)==null?void 0:r.currentSrc)&&t.storyboard,storyboardSrc:t.getAttribute(Gr.STORYBOARD_SRC),fullscreenElement:t.getAttribute(Gr.FULLSCREEN_ELEMENT),placeholder:t.getAttribute("placeholder"),themeTemplate:tWe(t),thumbnailTime:!t.tokens.thumbnail&&t.thumbnailTime,autoplay:t.autoplay,crossOrigin:t.crossOrigin,loop:t.loop,noHotKeys:t.hasAttribute(Gr.NOHOTKEYS),hotKeys:t.getAttribute(Gr.HOTKEYS),muted:t.muted,paused:t.paused,preload:t.preload,envKey:t.envKey,preferCmcd:t.preferCmcd,debug:t.debug,disableTracking:t.disableTracking,disableCookies:t.disableCookies,tokens:t.tokens,beaconCollectionDomain:t.beaconCollectionDomain,maxResolution:t.maxResolution,minResolution:t.minResolution,maxAutoResolution:t.maxAutoResolution,programStartTime:t.programStartTime,programEndTime:t.programEndTime,assetStartTime:t.assetStartTime,assetEndTime:t.assetEndTime,renditionOrder:t.renditionOrder,metadata:t.metadata,playerInitTime:t.playerInitTime,playerSoftwareName:t.playerSoftwareName,playerSoftwareVersion:t.playerSoftwareVersion,startTime:t.startTime,preferPlayback:t.preferPlayback,audio:t.audio,defaultStreamType:t.defaultStreamType,targetLiveWindow:t.getAttribute(er.TARGET_LIVE_WINDOW),streamType:jU(t.getAttribute(er.STREAM_TYPE)),primaryColor:t.getAttribute(Gr.PRIMARY_COLOR),secondaryColor:t.getAttribute(Gr.SECONDARY_COLOR),accentColor:t.getAttribute(Gr.ACCENT_COLOR),forwardSeekOffset:t.forwardSeekOffset,backwardSeekOffset:t.backwardSeekOffset,defaultHiddenCaptions:t.defaultHiddenCaptions,defaultDuration:t.defaultDuration,defaultShowRemainingTime:t.defaultShowRemainingTime,hideDuration:rWe(t),playbackRates:t.getAttribute(Gr.PLAYBACK_RATES),customDomain:(n=t.getAttribute(er.CUSTOM_DOMAIN))!=null?n:void 0,title:t.getAttribute(Gr.TITLE),videoTitle:(i=t.getAttribute(Gr.VIDEO_TITLE))!=null?i:t.getAttribute(Gr.TITLE),novolumepref:t.hasAttribute(Gr.NO_VOLUME_PREF),nomutedpref:t.hasAttribute(Gr.NO_MUTED_PREF),proudlyDisplayMuxBadge:t.hasAttribute(Gr.PROUDLY_DISPLAY_MUX_BADGE),castReceiver:t.castReceiver,disablePseudoEnded:t.hasAttribute(Gr.DISABLE_PSEUDO_ENDED),capRenditionToPlayerSize:t.capRenditionToPlayerSize,...e,extraSourceParams:t.extraSourceParams}}var eWe=cae.formatErrorMessage;cae.formatErrorMessage=t=>{var e,r;if(t instanceof Dn){let n=Yze(t,!1);return`
      ${n!=null&&n.title?`<h3>${n.title}</h3>`:""}
      ${n!=null&&n.message||n!=null&&n.linkUrl?`<p>
        ${n?.message}
        ${n!=null&&n.linkUrl?`<a
              href="${n.linkUrl}"
              target="_blank"
              rel="external noopener"
              aria-label="${(e=n.linkText)!=null?e:""} ${Si("(opens in a new window)")}"
              >${(r=n.linkText)!=null?r:n.linkUrl}</a
            >`:""}
      </p>`:""}
    `}return eWe(t)};function tWe(t){var e,r;let n=t.theme;if(n){let i=(r=(e=t.getRootNode())==null?void 0:e.getElementById)==null?void 0:r.call(e,n);if(i&&i instanceof HTMLTemplateElement)return i;n.startsWith("media-theme-")||(n=`media-theme-${n}`);let s=bm.customElements.get(n);if(s!=null&&s.template)return s.template}}function rWe(t){var e;let r=(e=t.mediaController)==null?void 0:e.querySelector("media-time-display");return r&&getComputedStyle(r).getPropertyValue("--media-duration-display-display").trim()==="none"}function uW(t){let e=t.videoTitle?{video_title:t.videoTitle}:{};return t.getAttributeNames().filter(r=>r.startsWith("metadata-")).reduce((r,n)=>{let i=t.getAttribute(n);return i!==null&&(r[n.replace(/^metadata-/,"").replace(/-/g,"_")]=i),r},e)}var nWe=Object.values(er),iWe=Object.values(vp),sWe=Object.values(Gr),dW=doe(),hW="mux-player",fW={isDialogOpen:!1},aWe={redundant_streams:!0},WT,YT,qT,mv,XT,Ab,ql,Yg,voe,bP,pv,AW,mW,pW,gW,oWe=class extends iW{constructor(){super(),yA(this,ql),yA(this,WT),yA(this,YT,!1),yA(this,qT,{}),yA(this,mv,!0),yA(this,XT,new Sze(this,"hotkeys")),yA(this,Ab,{...fW,onCloseErrorDialog:t=>{var e;((e=t.composedPath()[0])==null?void 0:e.localName)==="media-error-dialog"&&$c(this,ql,bP).call(this,{isDialogOpen:!1})},onFocusInErrorDialog:t=>{var e;((e=t.composedPath()[0])==null?void 0:e.localName)==="media-error-dialog"&&(coe(this,sN.activeElement)||t.preventDefault())}}),Lm(this,WT,mF()),this.attachShadow({mode:"open"}),$c(this,ql,voe).call(this),this.isConnected&&$c(this,ql,Yg).call(this)}static get NAME(){return hW}static get VERSION(){return dW}static get observedAttributes(){var t;return[...(t=iW.observedAttributes)!=null?t:[],...iWe,...nWe,...sWe]}get mediaTheme(){var t;return(t=this.shadowRoot)==null?void 0:t.querySelector("media-theme")}get mediaController(){var t,e;return(e=(t=this.mediaTheme)==null?void 0:t.shadowRoot)==null?void 0:e.querySelector("media-controller")}connectedCallback(){let t=this.media;t&&(t.metadata=uW(this))}attributeChangedCallback(t,e,r){switch($c(this,ql,Yg).call(this),super.attributeChangedCallback(t,e,r),t){case Gr.HOTKEYS:no(this,XT).value=r;break;case Gr.THUMBNAIL_TIME:{r!=null&&this.tokens.thumbnail&&Sp(Si("Use of thumbnail-time with thumbnail-token is currently unsupported. Ignore thumbnail-time.").toString());break}case Gr.THUMBNAIL_TOKEN:{if(r){let n=ab(r);if(n){let{aud:i}=n,s=Kw.THUMBNAIL;i!==s&&Sp(Si("The {tokenNamePrefix}-token has an incorrect aud value: {aud}. aud value should be {expectedAud}.").format({aud:i,expectedAud:s,tokenNamePrefix:"thumbnail"}))}}break}case Gr.STORYBOARD_TOKEN:{if(r){let n=ab(r);if(n){let{aud:i}=n,s=Kw.STORYBOARD;i!==s&&Sp(Si("The {tokenNamePrefix}-token has an incorrect aud value: {aud}. aud value should be {expectedAud}.").format({aud:i,expectedAud:s,tokenNamePrefix:"storyboard"}))}}break}case Gr.DRM_TOKEN:{if(r){let n=ab(r);if(n){let{aud:i}=n,s=Kw.DRM;i!==s&&Sp(Si("The {tokenNamePrefix}-token has an incorrect aud value: {aud}. aud value should be {expectedAud}.").format({aud:i,expectedAud:s,tokenNamePrefix:"drm"}))}}break}case er.PLAYBACK_ID:{r!=null&&r.includes("?token")&&Zh(Si("The specificed playback ID {playbackId} contains a token which must be provided via the playback-token attribute.").format({playbackId:r}));break}case er.STREAM_TYPE:{r&&![Ka.LIVE,Ka.ON_DEMAND,Ka.UNKNOWN].includes(r)?["ll-live","live:dvr","ll-live:dvr"].includes(this.streamType)?this.targetLiveWindow=r.includes("dvr")?Number.POSITIVE_INFINITY:0:foe({file:"invalid-stream-type.md",message:Si("Invalid stream-type value supplied: `{streamType}`. Please provide stream-type as either: `on-demand` or `live`").format({streamType:this.streamType})}):r===Ka.LIVE?this.getAttribute(Gr.TARGET_LIVE_WINDOW)==null&&(this.targetLiveWindow=0):this.targetLiveWindow=Number.NaN;break}case Gr.FULLSCREEN_ELEMENT:{if(r!=null||r!==e){let n=sN.getElementById(r),i=n?.querySelector("mux-player");this.mediaController&&n&&i&&(this.mediaController.fullscreenElement=n)}break}case er.CAP_RENDITION_TO_PLAYER_SIZE:{(r==null||r!==e)&&(this.capRenditionToPlayerSize=r!=null?!0:void 0);break}}[er.PLAYBACK_ID,vp.SRC,Gr.PLAYBACK_TOKEN].includes(t)&&e!==r&&Lm(this,Ab,{...no(this,Ab),...fW}),$c(this,ql,pv).call(this,{[Eze(t)]:r})}async requestFullscreen(t){var e;if(!(!this.mediaController||this.mediaController.hasAttribute(it.MEDIA_IS_FULLSCREEN)))return(e=this.mediaController)==null||e.dispatchEvent(new bm.CustomEvent(Nn.MEDIA_ENTER_FULLSCREEN_REQUEST,{composed:!0,bubbles:!0})),new Promise((r,n)=>{var i;(i=this.mediaController)==null||i.addEventListener(zp.MEDIA_IS_FULLSCREEN,()=>r(),{once:!0})})}async exitFullscreen(){var t;if(!(!this.mediaController||!this.mediaController.hasAttribute(it.MEDIA_IS_FULLSCREEN)))return(t=this.mediaController)==null||t.dispatchEvent(new bm.CustomEvent(Nn.MEDIA_EXIT_FULLSCREEN_REQUEST,{composed:!0,bubbles:!0})),new Promise((e,r)=>{var n;(n=this.mediaController)==null||n.addEventListener(zp.MEDIA_IS_FULLSCREEN,()=>e(),{once:!0})})}get preferCmcd(){var t;return(t=this.getAttribute(er.PREFER_CMCD))!=null?t:void 0}set preferCmcd(t){t!==this.preferCmcd&&(t?Lj.includes(t)?this.setAttribute(er.PREFER_CMCD,t):Sp(`Invalid value for preferCmcd. Must be one of ${Lj.join()}`):this.removeAttribute(er.PREFER_CMCD))}get hasPlayed(){var t,e;return(e=(t=this.mediaController)==null?void 0:t.hasAttribute(it.MEDIA_HAS_PLAYED))!=null?e:!1}get inLiveWindow(){var t;return(t=this.mediaController)==null?void 0:t.hasAttribute(it.MEDIA_TIME_IS_LIVE)}get _hls(){var t;return(t=this.media)==null?void 0:t._hls}get mux(){var t;return(t=this.media)==null?void 0:t.mux}get theme(){var t;return(t=this.getAttribute(Gr.THEME))!=null?t:Zze}set theme(t){this.setAttribute(Gr.THEME,`${t}`)}get themeProps(){let t=this.mediaTheme;if(!t)return;let e={};for(let r of t.getAttributeNames()){if(xP.includes(r))continue;let n=t.getAttribute(r);e[ooe(r)]=n===""?!0:n}return e}set themeProps(t){var e,r;$c(this,ql,Yg).call(this);let n={...this.themeProps,...t};for(let i in n){if(xP.includes(i))continue;let s=t?.[i];typeof s=="boolean"||s==null?(e=this.mediaTheme)==null||e.toggleAttribute(vP(i),!!s):(r=this.mediaTheme)==null||r.setAttribute(vP(i),s)}}get playbackId(){var t;return(t=this.getAttribute(er.PLAYBACK_ID))!=null?t:void 0}set playbackId(t){t?this.setAttribute(er.PLAYBACK_ID,t):this.removeAttribute(er.PLAYBACK_ID)}get src(){var t,e;return this.playbackId?(t=tv(this,vp.SRC))!=null?t:void 0:(e=this.getAttribute(vp.SRC))!=null?e:void 0}set src(t){t?this.setAttribute(vp.SRC,t):this.removeAttribute(vp.SRC)}get poster(){var t;let e=this.getAttribute(vp.POSTER);if(e!=null)return e;let{tokens:r}=this;if(r.playback&&!r.thumbnail){Sp("Missing expected thumbnail token. No poster image will be shown");return}if(this.playbackId&&!this.audio)return xze(this.playbackId,{customDomain:this.customDomain,thumbnailTime:(t=this.thumbnailTime)!=null?t:this.startTime,programTime:this.programStartTime,token:r.thumbnail})}set poster(t){t||t===""?this.setAttribute(vp.POSTER,t):this.removeAttribute(vp.POSTER)}get storyboardSrc(){var t;return(t=this.getAttribute(Gr.STORYBOARD_SRC))!=null?t:void 0}set storyboardSrc(t){t?this.setAttribute(Gr.STORYBOARD_SRC,t):this.removeAttribute(Gr.STORYBOARD_SRC)}get storyboard(){let{tokens:t}=this;if(this.storyboardSrc&&!t.storyboard)return this.storyboardSrc;if(!(this.audio||!this.playbackId||!this.streamType||[Ka.LIVE,Ka.UNKNOWN].includes(this.streamType)||t.playback&&!t.storyboard))return bze(this.playbackId,{customDomain:this.customDomain,token:t.storyboard,programStartTime:this.programStartTime,programEndTime:this.programEndTime})}get audio(){return this.hasAttribute(Gr.AUDIO)}set audio(t){if(!t){this.removeAttribute(Gr.AUDIO);return}this.setAttribute(Gr.AUDIO,"")}get hotkeys(){return no(this,XT)}get nohotkeys(){return this.hasAttribute(Gr.NOHOTKEYS)}set nohotkeys(t){if(!t){this.removeAttribute(Gr.NOHOTKEYS);return}this.setAttribute(Gr.NOHOTKEYS,"")}get thumbnailTime(){return Yh(this.getAttribute(Gr.THUMBNAIL_TIME))}set thumbnailTime(t){this.setAttribute(Gr.THUMBNAIL_TIME,`${t}`)}get videoTitle(){var t,e;return(e=(t=this.getAttribute(Gr.VIDEO_TITLE))!=null?t:this.getAttribute(Gr.TITLE))!=null?e:""}set videoTitle(t){t!==this.videoTitle&&(t?this.setAttribute(Gr.VIDEO_TITLE,t):this.removeAttribute(Gr.VIDEO_TITLE))}get placeholder(){var t;return(t=tv(this,Gr.PLACEHOLDER))!=null?t:""}set placeholder(t){this.setAttribute(Gr.PLACEHOLDER,`${t}`)}get primaryColor(){var t,e;let r=this.getAttribute(Gr.PRIMARY_COLOR);if(r!=null||this.mediaTheme&&(r=(e=(t=bm.getComputedStyle(this.mediaTheme))==null?void 0:t.getPropertyValue("--_primary-color"))==null?void 0:e.trim(),r))return r}set primaryColor(t){this.setAttribute(Gr.PRIMARY_COLOR,`${t}`)}get secondaryColor(){var t,e;let r=this.getAttribute(Gr.SECONDARY_COLOR);if(r!=null||this.mediaTheme&&(r=(e=(t=bm.getComputedStyle(this.mediaTheme))==null?void 0:t.getPropertyValue("--_secondary-color"))==null?void 0:e.trim(),r))return r}set secondaryColor(t){this.setAttribute(Gr.SECONDARY_COLOR,`${t}`)}get accentColor(){var t,e;let r=this.getAttribute(Gr.ACCENT_COLOR);if(r!=null||this.mediaTheme&&(r=(e=(t=bm.getComputedStyle(this.mediaTheme))==null?void 0:t.getPropertyValue("--_accent-color"))==null?void 0:e.trim(),r))return r}set accentColor(t){this.setAttribute(Gr.ACCENT_COLOR,`${t}`)}get defaultShowRemainingTime(){return this.hasAttribute(Gr.DEFAULT_SHOW_REMAINING_TIME)}set defaultShowRemainingTime(t){t?this.setAttribute(Gr.DEFAULT_SHOW_REMAINING_TIME,""):this.removeAttribute(Gr.DEFAULT_SHOW_REMAINING_TIME)}get playbackRates(){if(this.hasAttribute(Gr.PLAYBACK_RATES))return this.getAttribute(Gr.PLAYBACK_RATES).trim().split(/\s*,?\s+/).map(t=>Number(t)).filter(t=>!Number.isNaN(t)).sort((t,e)=>t-e)}set playbackRates(t){if(!t){this.removeAttribute(Gr.PLAYBACK_RATES);return}this.setAttribute(Gr.PLAYBACK_RATES,t.join(" "))}get forwardSeekOffset(){var t;return(t=Yh(this.getAttribute(Gr.FORWARD_SEEK_OFFSET)))!=null?t:10}set forwardSeekOffset(t){this.setAttribute(Gr.FORWARD_SEEK_OFFSET,`${t}`)}get backwardSeekOffset(){var t;return(t=Yh(this.getAttribute(Gr.BACKWARD_SEEK_OFFSET)))!=null?t:10}set backwardSeekOffset(t){this.setAttribute(Gr.BACKWARD_SEEK_OFFSET,`${t}`)}get defaultHiddenCaptions(){return this.hasAttribute(Gr.DEFAULT_HIDDEN_CAPTIONS)}set defaultHiddenCaptions(t){t?this.setAttribute(Gr.DEFAULT_HIDDEN_CAPTIONS,""):this.removeAttribute(Gr.DEFAULT_HIDDEN_CAPTIONS)}get defaultDuration(){return Yh(this.getAttribute(Gr.DEFAULT_DURATION))}set defaultDuration(t){t==null?this.removeAttribute(Gr.DEFAULT_DURATION):this.setAttribute(Gr.DEFAULT_DURATION,`${t}`)}get playerInitTime(){return this.hasAttribute(er.PLAYER_INIT_TIME)?Yh(this.getAttribute(er.PLAYER_INIT_TIME)):no(this,WT)}set playerInitTime(t){t!=this.playerInitTime&&(t==null?this.removeAttribute(er.PLAYER_INIT_TIME):this.setAttribute(er.PLAYER_INIT_TIME,`${+t}`))}get playerSoftwareName(){var t;return(t=this.getAttribute(er.PLAYER_SOFTWARE_NAME))!=null?t:hW}get playerSoftwareVersion(){var t;return(t=this.getAttribute(er.PLAYER_SOFTWARE_VERSION))!=null?t:dW}get beaconCollectionDomain(){var t;return(t=this.getAttribute(er.BEACON_COLLECTION_DOMAIN))!=null?t:void 0}set beaconCollectionDomain(t){t!==this.beaconCollectionDomain&&(t?this.setAttribute(er.BEACON_COLLECTION_DOMAIN,t):this.removeAttribute(er.BEACON_COLLECTION_DOMAIN))}get maxResolution(){var t;return(t=this.getAttribute(er.MAX_RESOLUTION))!=null?t:void 0}set maxResolution(t){t!==this.maxResolution&&(t?this.setAttribute(er.MAX_RESOLUTION,t):this.removeAttribute(er.MAX_RESOLUTION))}get minResolution(){var t;return(t=this.getAttribute(er.MIN_RESOLUTION))!=null?t:void 0}set minResolution(t){t!==this.minResolution&&(t?this.setAttribute(er.MIN_RESOLUTION,t):this.removeAttribute(er.MIN_RESOLUTION))}get maxAutoResolution(){var t;return(t=this.getAttribute(er.MAX_AUTO_RESOLUTION))!=null?t:void 0}set maxAutoResolution(t){t==null?this.removeAttribute(er.MAX_AUTO_RESOLUTION):this.setAttribute(er.MAX_AUTO_RESOLUTION,t)}get renditionOrder(){var t;return(t=this.getAttribute(er.RENDITION_ORDER))!=null?t:void 0}set renditionOrder(t){t!==this.renditionOrder&&(t?this.setAttribute(er.RENDITION_ORDER,t):this.removeAttribute(er.RENDITION_ORDER))}get programStartTime(){return Yh(this.getAttribute(er.PROGRAM_START_TIME))}set programStartTime(t){t==null?this.removeAttribute(er.PROGRAM_START_TIME):this.setAttribute(er.PROGRAM_START_TIME,`${t}`)}get programEndTime(){return Yh(this.getAttribute(er.PROGRAM_END_TIME))}set programEndTime(t){t==null?this.removeAttribute(er.PROGRAM_END_TIME):this.setAttribute(er.PROGRAM_END_TIME,`${t}`)}get assetStartTime(){return Yh(this.getAttribute(er.ASSET_START_TIME))}set assetStartTime(t){t==null?this.removeAttribute(er.ASSET_START_TIME):this.setAttribute(er.ASSET_START_TIME,`${t}`)}get assetEndTime(){return Yh(this.getAttribute(er.ASSET_END_TIME))}set assetEndTime(t){t==null?this.removeAttribute(er.ASSET_END_TIME):this.setAttribute(er.ASSET_END_TIME,`${t}`)}get extraSourceParams(){return this.hasAttribute(Gr.EXTRA_SOURCE_PARAMS)?[...new URLSearchParams(this.getAttribute(Gr.EXTRA_SOURCE_PARAMS)).entries()].reduce((t,[e,r])=>(t[e]=r,t),{}):aWe}set extraSourceParams(t){t==null?this.removeAttribute(Gr.EXTRA_SOURCE_PARAMS):this.setAttribute(Gr.EXTRA_SOURCE_PARAMS,new URLSearchParams(t).toString())}get customDomain(){var t;return(t=this.getAttribute(er.CUSTOM_DOMAIN))!=null?t:void 0}set customDomain(t){t!==this.customDomain&&(t?this.setAttribute(er.CUSTOM_DOMAIN,t):this.removeAttribute(er.CUSTOM_DOMAIN))}get envKey(){var t;return(t=tv(this,er.ENV_KEY))!=null?t:void 0}set envKey(t){this.setAttribute(er.ENV_KEY,`${t}`)}get noVolumePref(){return this.hasAttribute(Gr.NO_VOLUME_PREF)}set noVolumePref(t){t?this.setAttribute(Gr.NO_VOLUME_PREF,""):this.removeAttribute(Gr.NO_VOLUME_PREF)}get noMutedPref(){return this.hasAttribute(Gr.NO_MUTED_PREF)}set noMutedPref(t){t?this.setAttribute(Gr.NO_MUTED_PREF,""):this.removeAttribute(Gr.NO_MUTED_PREF)}get debug(){return tv(this,er.DEBUG)!=null}set debug(t){t?this.setAttribute(er.DEBUG,""):this.removeAttribute(er.DEBUG)}get disableTracking(){return tv(this,er.DISABLE_TRACKING)!=null}set disableTracking(t){this.toggleAttribute(er.DISABLE_TRACKING,!!t)}get disableCookies(){return tv(this,er.DISABLE_COOKIES)!=null}set disableCookies(t){t?this.setAttribute(er.DISABLE_COOKIES,""):this.removeAttribute(er.DISABLE_COOKIES)}get streamType(){var t,e,r;return(r=(e=this.getAttribute(er.STREAM_TYPE))!=null?e:(t=this.media)==null?void 0:t.streamType)!=null?r:Ka.UNKNOWN}set streamType(t){this.setAttribute(er.STREAM_TYPE,`${t}`)}get defaultStreamType(){var t,e,r;return(r=(e=this.getAttribute(Gr.DEFAULT_STREAM_TYPE))!=null?e:(t=this.mediaController)==null?void 0:t.getAttribute(Gr.DEFAULT_STREAM_TYPE))!=null?r:Ka.ON_DEMAND}set defaultStreamType(t){t?this.setAttribute(Gr.DEFAULT_STREAM_TYPE,t):this.removeAttribute(Gr.DEFAULT_STREAM_TYPE)}get targetLiveWindow(){var t,e;return this.hasAttribute(Gr.TARGET_LIVE_WINDOW)?+this.getAttribute(Gr.TARGET_LIVE_WINDOW):(e=(t=this.media)==null?void 0:t.targetLiveWindow)!=null?e:Number.NaN}set targetLiveWindow(t){t==this.targetLiveWindow||Number.isNaN(t)&&Number.isNaN(this.targetLiveWindow)||(t==null?this.removeAttribute(Gr.TARGET_LIVE_WINDOW):this.setAttribute(Gr.TARGET_LIVE_WINDOW,`${+t}`))}get liveEdgeStart(){var t;return(t=this.media)==null?void 0:t.liveEdgeStart}get startTime(){return Yh(tv(this,er.START_TIME))}set startTime(t){this.setAttribute(er.START_TIME,`${t}`)}get preferPlayback(){let t=this.getAttribute(er.PREFER_PLAYBACK);if(t===Tm.MSE||t===Tm.NATIVE)return t}set preferPlayback(t){t!==this.preferPlayback&&(t===Tm.MSE||t===Tm.NATIVE?this.setAttribute(er.PREFER_PLAYBACK,t):this.removeAttribute(er.PREFER_PLAYBACK))}get metadata(){var t;return(t=this.media)==null?void 0:t.metadata}set metadata(t){if($c(this,ql,Yg).call(this),!this.media){Zh("underlying media element missing when trying to set metadata. metadata will not be set.");return}this.media.metadata={...uW(this),...t}}get _hlsConfig(){var t;return(t=this.media)==null?void 0:t._hlsConfig}set _hlsConfig(t){if($c(this,ql,Yg).call(this),!this.media){Zh("underlying media element missing when trying to set _hlsConfig. _hlsConfig will not be set.");return}this.media._hlsConfig=t}async addCuePoints(t){var e;if($c(this,ql,Yg).call(this),!this.media){Zh("underlying media element missing when trying to addCuePoints. cuePoints will not be added.");return}return(e=this.media)==null?void 0:e.addCuePoints(t)}get activeCuePoint(){var t;return(t=this.media)==null?void 0:t.activeCuePoint}get cuePoints(){var t,e;return(e=(t=this.media)==null?void 0:t.cuePoints)!=null?e:[]}addChapters(t){var e;if($c(this,ql,Yg).call(this),!this.media){Zh("underlying media element missing when trying to addChapters. chapters will not be added.");return}return(e=this.media)==null?void 0:e.addChapters(t)}get activeChapter(){var t;return(t=this.media)==null?void 0:t.activeChapter}get chapters(){var t,e;return(e=(t=this.media)==null?void 0:t.chapters)!=null?e:[]}getStartDate(){var t;return(t=this.media)==null?void 0:t.getStartDate()}get currentPdt(){var t;return(t=this.media)==null?void 0:t.currentPdt}get tokens(){let t=this.getAttribute(Gr.PLAYBACK_TOKEN),e=this.getAttribute(Gr.DRM_TOKEN),r=this.getAttribute(Gr.THUMBNAIL_TOKEN),n=this.getAttribute(Gr.STORYBOARD_TOKEN);return{...no(this,qT),...t!=null?{playback:t}:{},...e!=null?{drm:e}:{},...r!=null?{thumbnail:r}:{},...n!=null?{storyboard:n}:{}}}set tokens(t){Lm(this,qT,t??{})}get playbackToken(){var t;return(t=this.getAttribute(Gr.PLAYBACK_TOKEN))!=null?t:void 0}set playbackToken(t){this.setAttribute(Gr.PLAYBACK_TOKEN,`${t}`)}get drmToken(){var t;return(t=this.getAttribute(Gr.DRM_TOKEN))!=null?t:void 0}set drmToken(t){this.setAttribute(Gr.DRM_TOKEN,`${t}`)}get thumbnailToken(){var t;return(t=this.getAttribute(Gr.THUMBNAIL_TOKEN))!=null?t:void 0}set thumbnailToken(t){this.setAttribute(Gr.THUMBNAIL_TOKEN,`${t}`)}get storyboardToken(){var t;return(t=this.getAttribute(Gr.STORYBOARD_TOKEN))!=null?t:void 0}set storyboardToken(t){this.setAttribute(Gr.STORYBOARD_TOKEN,`${t}`)}addTextTrack(t,e,r,n){var i;let s=(i=this.media)==null?void 0:i.nativeEl;if(s)return dF(s,t,e,r,n)}removeTextTrack(t){var e;let r=(e=this.media)==null?void 0:e.nativeEl;if(r)return P9e(r,t)}get textTracks(){var t;return(t=this.media)==null?void 0:t.textTracks}get castReceiver(){var t;return(t=this.getAttribute(Gr.CAST_RECEIVER))!=null?t:void 0}set castReceiver(t){t!==this.castReceiver&&(t?this.setAttribute(Gr.CAST_RECEIVER,t):this.removeAttribute(Gr.CAST_RECEIVER))}get castCustomData(){var t;return(t=this.media)==null?void 0:t.castCustomData}set castCustomData(t){if(!this.media){Zh("underlying media element missing when trying to set castCustomData. castCustomData will not be set.");return}this.media.castCustomData=t}get noTooltips(){return this.hasAttribute(Gr.NO_TOOLTIPS)}set noTooltips(t){if(!t){this.removeAttribute(Gr.NO_TOOLTIPS);return}this.setAttribute(Gr.NO_TOOLTIPS,"")}get proudlyDisplayMuxBadge(){return this.hasAttribute(Gr.PROUDLY_DISPLAY_MUX_BADGE)}set proudlyDisplayMuxBadge(t){t?this.setAttribute(Gr.PROUDLY_DISPLAY_MUX_BADGE,""):this.removeAttribute(Gr.PROUDLY_DISPLAY_MUX_BADGE)}get capRenditionToPlayerSize(){var t;return(t=this.media)==null?void 0:t.capRenditionToPlayerSize}set capRenditionToPlayerSize(t){if(!this.media){Zh("underlying media element missing when trying to set capRenditionToPlayerSize");return}this.media.capRenditionToPlayerSize=t}};WT=new WeakMap,YT=new WeakMap,qT=new WeakMap,mv=new WeakMap,XT=new WeakMap,Ab=new WeakMap,ql=new WeakSet,Yg=function(){var t,e,r,n;if(!no(this,YT)){Lm(this,YT,!0),$c(this,ql,pv).call(this);try{if(customElements.upgrade(this.mediaTheme),!(this.mediaTheme instanceof bm.HTMLElement))throw""}catch{Zh("<media-theme> failed to upgrade!")}try{customElements.upgrade(this.media)}catch{Zh("underlying media element failed to upgrade!")}try{if(customElements.upgrade(this.mediaController),!(this.mediaController instanceof TVe))throw""}catch{Zh("<media-controller> failed to upgrade!")}$c(this,ql,AW).call(this),$c(this,ql,mW).call(this),$c(this,ql,pW).call(this),Lm(this,mv,(e=(t=this.mediaController)==null?void 0:t.hasAttribute(Ri.USER_INACTIVE))!=null?e:!0),$c(this,ql,gW).call(this),(r=this.media)==null||r.addEventListener("streamtypechange",()=>$c(this,ql,pv).call(this)),(n=this.media)==null||n.addEventListener("loadstart",()=>$c(this,ql,pv).call(this))}},voe=function(){var t,e;try{(t=window?.CSS)==null||t.registerProperty({name:"--media-primary-color",syntax:"<color>",inherits:!0}),(e=window?.CSS)==null||e.registerProperty({name:"--media-secondary-color",syntax:"<color>",inherits:!0})}catch{}},bP=function(t){Object.assign(no(this,Ab),t),$c(this,ql,pv).call(this)},pv=function(t={}){Uze(Hze(Jze(this,{...no(this,Ab),...t})),this.shadowRoot)},AW=function(){let t=e=>{var r,n;if(!(e!=null&&e.startsWith("theme-")))return;let i=e.replace(/^theme-/,"");if(xP.includes(i))return;let s=this.getAttribute(e);s!=null?(r=this.mediaTheme)==null||r.setAttribute(i,s):(n=this.mediaTheme)==null||n.removeAttribute(i)};new MutationObserver(e=>{for(let{attributeName:r}of e)t(r)}).observe(this,{attributes:!0}),this.getAttributeNames().forEach(t)},mW=function(){let t=e=>{var r;let n=(r=this.media)==null?void 0:r.error;if(!(n instanceof Dn)){let{message:s,code:a}=n??{};n=new Dn(s,a)}if(!(n!=null&&n.fatal)){Sp(n),n.data&&Sp(`${n.name} data:`,n.data);return}let i=oW(n);i.message&&foe(i),Zh(n),n.data&&Zh(`${n.name} data:`,n.data),$c(this,ql,bP).call(this,{isDialogOpen:!0})};this.addEventListener("error",t),this.media&&(this.media.errorTranslator=(e={})=>{var r,n,i;if(!(((r=this.media)==null?void 0:r.error)instanceof Dn))return e;let s=oW((n=this.media)==null?void 0:n.error);return{player_error_code:(i=this.media)==null?void 0:i.error.code,player_error_message:s.message?String(s.message):e.player_error_message,player_error_context:s.context?String(s.context):e.player_error_context}})},pW=function(){var t,e,r,n;let i=()=>$c(this,ql,pv).call(this);(e=(t=this.media)==null?void 0:t.textTracks)==null||e.addEventListener("addtrack",i),(n=(r=this.media)==null?void 0:r.textTracks)==null||n.addEventListener("removetrack",i)},gW=function(){var t,e;if(!/Firefox/i.test(navigator.userAgent))return;let r,n=new WeakMap,i=()=>this.streamType===Ka.LIVE&&!this.secondaryColor&&this.offsetWidth>=800,s=(u,o,d=!1)=>{i()||Array.from(u&&u.activeCues||[]).forEach(f=>{if(!(!f.snapToLines||f.line<-5||f.line>=0&&f.line<10))if(!o||this.paused){let A=f.text.split(`
`).length,p=-3;this.streamType===Ka.LIVE&&(p=-2);let g=p-A;if(f.line===g&&!d)return;n.has(f)||n.set(f,f.line),f.line=g}else setTimeout(()=>{f.line=n.get(f)||"auto"},500)})},a=()=>{var u,o;s(r,(o=(u=this.mediaController)==null?void 0:u.hasAttribute(Ri.USER_INACTIVE))!=null?o:!1)},c=()=>{var u,o;let d=Array.from(((o=(u=this.mediaController)==null?void 0:u.media)==null?void 0:o.textTracks)||[]).filter(f=>["subtitles","captions"].includes(f.kind)&&f.mode==="showing")[0];d!==r&&r?.removeEventListener("cuechange",a),r=d,r?.addEventListener("cuechange",a),s(r,no(this,mv))};c(),(t=this.textTracks)==null||t.addEventListener("change",c),(e=this.textTracks)==null||e.addEventListener("addtrack",c),this.addEventListener("userinactivechange",()=>{var u,o;let d=(o=(u=this.mediaController)==null?void 0:u.hasAttribute(Ri.USER_INACTIVE))!=null?o:!0;no(this,mv)!==d&&(Lm(this,mv,d),s(r,no(this,mv)))})};function tv(t,e){return t.media?t.media.getAttribute(e):t.getAttribute(e)}var vW=oWe,yoe=class{addEventListener(){}removeEventListener(){}dispatchEvent(t){return!0}};if(typeof DocumentFragment>"u"){class t extends yoe{}globalThis.DocumentFragment=t}var lWe=class extends yoe{},cWe={get(t){},define(t,e,r){},getName(t){return null},upgrade(t){},whenDefined(t){return Promise.resolve(lWe)}},uWe={customElements:cWe},dWe=typeof window>"u"||typeof globalThis.customElements>"u",OL=dWe?uWe:globalThis;OL.customElements.get("mux-player")||(OL.customElements.define("mux-player",vW),OL.MuxPlayerElement=vW);var xoe=parseInt(wo.version)>=19,yW={className:"class",classname:"class",htmlFor:"for",crossOrigin:"crossorigin",viewBox:"viewBox",playsInline:"playsinline",autoPlay:"autoplay",playbackRate:"playbackrate"},hWe=t=>t==null,fWe=(t,e)=>hWe(e)?!1:t in e,AWe=t=>t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`),mWe=(t,e)=>{if(!(!xoe&&typeof e=="boolean"&&!e)){if(fWe(t,yW))return yW[t];if(typeof e<"u")return/[A-Z]/.test(t)?AWe(t):t}},pWe=(t,e)=>!xoe&&typeof t=="boolean"?"":t,gWe=(t={})=>{let{ref:e,...r}=t;return Object.entries(r).reduce((n,[i,s])=>{let a=mWe(i,s);if(!a)return n;let c=pWe(s);return n[a]=c,n},{})};function xW(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function vWe(...t){return e=>{let r=!1,n=t.map(i=>{let s=xW(i,e);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){let s=n[i];typeof s=="function"?s():xW(t[i],null)}}}}function yWe(...t){return j.useCallback(vWe(...t),t)}var xWe=Object.prototype.hasOwnProperty,bWe=(t,e)=>{if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(Array.isArray(t))return!Array.isArray(e)||t.length!==e.length?!1:t.some((i,s)=>e[s]===i);let r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(!xWe.call(e,r[i])||!Object.is(t[r[i]],e[r[i]]))return!1;return!0},boe=(t,e,r)=>!bWe(e,t[r]),wWe=(t,e,r)=>{t[r]=e},EWe=(t,e,r,n=wWe,i=boe)=>j.useEffect(()=>{let s=r?.current;s&&i(s,e,t)&&n(s,e,t)},[r?.current,e]),im=EWe,SWe=()=>{try{return"3.11.4"}catch{}return"UNKNOWN"},_We=SWe(),TWe=()=>_We,al=(t,e,r)=>j.useEffect(()=>{let n=e?.current;if(!n||!r)return;let i=t,s=r;return n.addEventListener(i,s),()=>{n.removeEventListener(i,s)}},[e?.current,r,t]),CWe=wo.forwardRef(({children:t,...e},r)=>wo.createElement("mux-player",{suppressHydrationWarning:!0,...gWe(e),ref:r},t)),jWe=(t,e)=>{let{onAbort:r,onCanPlay:n,onCanPlayThrough:i,onEmptied:s,onLoadStart:a,onLoadedData:c,onLoadedMetadata:u,onProgress:o,onDurationChange:d,onVolumeChange:f,onRateChange:A,onResize:p,onWaiting:g,onPlay:y,onPlaying:v,onTimeUpdate:b,onPause:w,onSeeking:S,onSeeked:_,onStalled:T,onSuspend:L,onEnded:D,onError:V,onCuePointChange:G,onChapterChange:J,metadata:ee,tokens:ue,paused:pe,playbackId:ge,playbackRates:he,currentTime:ne,themeProps:Ae,extraSourceParams:oe,castCustomData:Be,_hlsConfig:ke,...ve}=e;return im("tokens",ue,t),im("playbackId",ge,t),im("playbackRates",he,t),im("metadata",ee,t),im("extraSourceParams",oe,t),im("_hlsConfig",ke,t),im("themeProps",Ae,t),im("castCustomData",Be,t),im("paused",pe,t,(se,me)=>{me!=null&&(me?se.pause():se.play())},(se,me,je)=>se.hasAttribute("autoplay")&&!se.hasPlayed?!1:boe(se,me,je)),im("currentTime",ne,t,(se,me)=>{me!=null&&(se.currentTime=me)}),al("abort",t,r),al("canplay",t,n),al("canplaythrough",t,i),al("emptied",t,s),al("loadstart",t,a),al("loadeddata",t,c),al("loadedmetadata",t,u),al("progress",t,o),al("durationchange",t,d),al("volumechange",t,f),al("ratechange",t,A),al("resize",t,p),al("waiting",t,g),al("play",t,y),al("playing",t,v),al("timeupdate",t,b),al("pause",t,w),al("seeking",t,S),al("seeked",t,_),al("stalled",t,T),al("suspend",t,L),al("ended",t,D),al("error",t,V),al("cuepointchange",t,G),al("chapterchange",t,J),[ve]},NWe=TWe(),IWe="mux-player-react",kWe=wo.forwardRef((t,e)=>{var r;let n=j.useRef(null),i=yWe(n,e),[s]=jWe(n,t),[a]=j.useState((r=t.playerInitTime)!=null?r:mF());return wo.createElement(CWe,{ref:i,defaultHiddenCaptions:t.defaultHiddenCaptions,playerSoftwareName:IWe,playerSoftwareVersion:NWe,playerInitTime:a,...s})}),BWe=kWe;function LWe(){const{eventId:t}=$m(),[e]=lN(),[r,n]=j.useState(null),[i,s]=j.useState(e.get("email")||""),[a,c]=j.useState(null),[u,o]=j.useState(!1),[d,f]=j.useState(!0),[A,p]=j.useState(!1),[g,y]=j.useState(null),[v,b]=j.useState(!1),w=j.useRef(null);j.useEffect(()=>(S(),()=>{w.current&&clearInterval(w.current)}),[t]),j.useEffect(()=>{const D=e.get("email");D&&r&&!u&&_(D)},[r,e]),j.useEffect(()=>(a&&u&&(w.current=setInterval(async()=>{try{await POe(a)||(b(!0),o(!1),clearInterval(w.current))}catch(D){console.error("Heartbeat failed:",D)}},3e4)),()=>{w.current&&clearInterval(w.current)}),[a,u]);const S=async()=>{try{const D=await ire(t);n(D)}catch{y("Event not found")}finally{f(!1)}},_=async(D=i)=>{if(!D){y("Please enter your email");return}p(!0),y(null),b(!1);try{const V=await LOe(t,D);if(!V){y("No purchase found for this email. Please check your email or purchase access."),o(!1);return}const G=await OOe({event_id:t,order_id:V.id,email:D.toLowerCase()});c(G.token),o(!0),s(D),localStorage.setItem(`livestream_session_${t}`,G.token),localStorage.setItem(`livestream_email_${t}`,D)}catch(V){console.error("Verify error:",V),y("Failed to verify access. Please try again."),o(!1)}finally{p(!1)}};if(d)return l.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-500"})});if(g&&!r)return l.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center",children:l.jsx("p",{className:"text-red-500",children:g})});if(v)return l.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center p-4",children:l.jsxs("div",{className:"max-w-md w-full bg-dark-900 rounded-xl p-8 text-center",children:[l.jsx(Wv,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),l.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Session Ended"}),l.jsx("p",{className:"text-gray-400 mb-6",children:"This stream is now playing on another device. Only one active viewing session is allowed per purchase."}),l.jsxs("button",{onClick:()=>_(i),className:"px-6 py-3 bg-red-500 hover:bg-red-600 text-white font-bold rounded-lg transition-colors flex items-center justify-center gap-2 mx-auto",children:[l.jsx(kP,{className:"w-5 h-5"}),"Watch Here Instead"]})]})});if(!u)return l.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center p-4",children:l.jsxs("div",{className:"max-w-md w-full bg-dark-900 rounded-xl p-8",children:[l.jsx("h2",{className:"text-2xl font-bold text-white mb-2 text-center",children:r.title}),l.jsx("p",{className:"text-gray-400 text-center mb-6",children:r.organization}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Enter Your Email"}),l.jsx("input",{type:"email",value:i,onChange:D=>s(D.target.value),placeholder:"your@email.com",className:"w-full px-4 py-3 bg-dark-800 border border-dark-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-red-500"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Use the email address from your purchase"})]}),g&&l.jsx("p",{className:"text-red-500 text-sm",children:g}),l.jsx("button",{onClick:()=>_(),disabled:A||!i,className:"w-full py-3 bg-red-500 hover:bg-red-600 disabled:bg-dark-700 disabled:cursor-not-allowed text-white font-bold rounded-lg transition-colors",children:A?"Verifying...":"Watch Stream"}),l.jsxs("div",{className:"text-center pt-4 border-t border-dark-800",children:[l.jsx("p",{className:"text-gray-500 text-sm mb-2",children:"Don't have access?"}),l.jsxs(gs,{to:`/live/${t}`,className:"text-red-500 hover:text-red-400 font-medium",children:["Purchase Access  $",r.price," AUD"]})]})]})]})});const T=new Date(r.start_time),L=r.is_live||r.status==="live";return l.jsxs("div",{className:"min-h-screen bg-dark-950",children:[l.jsx("div",{className:"w-full bg-black",children:l.jsx("div",{className:"max-w-6xl mx-auto",children:l.jsx(BWe,{playbackId:r.mux_playback_id||"demo-playback-id",metadata:{video_title:r.title,viewer_user_id:i},streamType:L?"live":"on-demand",autoPlay:!0,className:"w-full aspect-video"})})}),l.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[l.jsx("div",{className:"flex flex-wrap items-start justify-between gap-4 mb-6",children:l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-white",children:r.title}),L&&l.jsxs("span",{className:"px-3 py-1 bg-red-500 text-white text-sm font-bold rounded-full flex items-center gap-1",children:[l.jsx("span",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),"LIVE"]})]}),l.jsx("p",{className:"text-gray-400",children:r.organization})]})}),l.jsxs("div",{className:"flex flex-wrap gap-6 text-sm text-gray-400",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Pd,{className:"w-4 h-4"}),T.toLocaleDateString("en-AU",{weekday:"long",day:"numeric",month:"long",year:"numeric"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(C0,{className:"w-4 h-4"}),r.venue]})]}),r.description&&l.jsxs("div",{className:"mt-8 pt-8 border-t border-dark-800",children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"About This Event"}),l.jsx("p",{className:"text-gray-400",children:r.description})]})]})]})}function RWe(){const{pathname:t}=hf();return j.useEffect(()=>{window.scrollTo(0,0)},[t]),null}function Nf({children:t}){return l.jsxs("div",{className:"min-h-screen bg-dark-950 flex flex-col",children:[l.jsx(Dpe,{}),l.jsx("main",{className:"flex-1",children:t}),l.jsx(Mpe,{})]})}function OWe(){return l.jsxs(WOe,{children:[l.jsx(RWe,{}),l.jsxs(bce,{children:[l.jsx(Fs,{path:"/",element:l.jsx(Nf,{children:l.jsx($pe,{})})}),l.jsx(Fs,{path:"/services",element:l.jsx(Nf,{children:l.jsx(Qpe,{})})}),l.jsx(Fs,{path:"/work",element:l.jsx(Nf,{children:l.jsx(Kpe,{})})}),l.jsx(Fs,{path:"/proposal",element:l.jsx(Nf,{children:l.jsx(DOe,{})})}),l.jsx(Fs,{path:"/contact",element:l.jsx(Nf,{children:l.jsx(MOe,{})})}),l.jsx(Fs,{path:"/book",element:l.jsx(Nf,{children:l.jsx(FOe,{})})}),l.jsx(Fs,{path:"/calculator",element:l.jsx(Nf,{children:l.jsx(UOe,{})})}),l.jsx(Fs,{path:"/order",element:l.jsx(Nf,{children:l.jsx(VOe,{})})}),l.jsx(Fs,{path:"/content",element:l.jsx(Nf,{children:l.jsx(KOe,{})})}),l.jsx(Fs,{path:"/order/:orgSlug",element:l.jsx(Nf,{children:l.jsx(zOe,{})})}),l.jsx(Fs,{path:"/live",element:l.jsx(Nf,{children:l.jsx(GDe,{})})}),l.jsx(Fs,{path:"/live/:eventId",element:l.jsx(Nf,{children:l.jsx(zDe,{})})}),l.jsx(Fs,{path:"/watch/:eventId",element:l.jsx(LWe,{})}),l.jsx(Fs,{path:"/contract/:shareToken",element:l.jsx(ePe,{})}),l.jsx(Fs,{path:"/onboarding/:token",element:l.jsx(kPe,{})}),l.jsx(Fs,{path:"/portal",element:l.jsx(Id,{children:l.jsx(YOe,{})})}),l.jsx(Fs,{path:"/portal/contracts",element:l.jsx(ld,{children:l.jsx(Id,{children:l.jsx(ZOe,{})})})}),l.jsx(Fs,{path:"/portal/contracts/new",element:l.jsx(ld,{children:l.jsx(Id,{children:l.jsx(tK,{})})})}),l.jsx(Fs,{path:"/portal/contracts/:id",element:l.jsx(ld,{children:l.jsx(Id,{children:l.jsx(JOe,{})})})}),l.jsx(Fs,{path:"/portal/contracts/:id/edit",element:l.jsx(ld,{children:l.jsx(Id,{children:l.jsx(tK,{editMode:!0})})})}),l.jsx(Fs,{path:"/portal/onboarding",element:l.jsx(ld,{children:l.jsx(Id,{children:l.jsx(EPe,{})})})}),l.jsx(Fs,{path:"/portal/onboarding/new",element:l.jsx(ld,{children:l.jsx(Id,{children:l.jsx(SPe,{})})})}),l.jsx(Fs,{path:"/portal/onboarding/:id",element:l.jsx(ld,{children:l.jsx(Id,{children:l.jsx(jPe,{})})})}),l.jsx(Fs,{path:"/portal/pipeline",element:l.jsx(ld,{children:l.jsx(Id,{children:l.jsx(cPe,{})})})}),l.jsx(Fs,{path:"/portal/pipeline/board",element:l.jsx(ld,{children:l.jsx(fPe,{})})}),l.jsx(Fs,{path:"/portal/pipeline/leads/:id",element:l.jsx(ld,{children:l.jsx(APe,{})})}),l.jsx(Fs,{path:"/portal/outreach",element:l.jsx(ld,{children:l.jsx(Id,{children:l.jsx(mPe,{})})})}),l.jsx(Fs,{path:"/portal/content",element:l.jsx(ld,{children:l.jsx(Id,{children:l.jsx(t3e,{})})})}),l.jsx(Fs,{path:"/portal/content-admin",element:l.jsx(ld,{children:l.jsx(Id,{children:l.jsx(r3e,{})})})}),l.jsx(Fs,{path:"/portal/orders",element:l.jsx(ld,{children:l.jsx(Id,{children:l.jsx(n3e,{})})})}),l.jsx(Fs,{path:"/portal/pricing",element:l.jsx(ld,{children:l.jsx(Id,{children:l.jsx(a3e,{})})})}),l.jsx(Fs,{path:"/portal/crews",element:l.jsx(ld,{children:l.jsx(Id,{children:l.jsx(QDe,{})})})}),l.jsx(Fs,{path:"/portal/livestream",element:l.jsx(ld,{children:l.jsx(Id,{children:l.jsx(VDe,{})})})}),l.jsx(Fs,{path:"/athlete",element:l.jsx(DPe,{})}),l.jsx(Fs,{path:"/athlete/register",element:l.jsx(YPe,{})}),l.jsx(Fs,{path:"/athlete/packages",element:l.jsx(ZPe,{})}),l.jsx(Fs,{path:"/athlete/dashboard",element:l.jsx(JPe,{})}),l.jsx(Fs,{path:"/athlete/events/:eventId",element:l.jsx(e3e,{})})]})]})}Ele.createRoot(document.getElementById("root")).render(l.jsx(wo.StrictMode,{children:l.jsx(Gce,{children:l.jsx(OWe,{})})}));
