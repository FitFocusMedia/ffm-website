import{j as f}from"./index-BJpWZbSk.js";import{b as u}from"./vendor-react-q0iRXJvs.js";function w({onSignatureChange:o,className:m=""}){const a=u.useRef(null),l=u.useRef(!1),d=u.useRef({x:0,y:0});u.useEffect(()=>{const e=a.current;if(!e)return;const t=()=>{const c=e.getBoundingClientRect();e.width=c.width,e.height=c.height,e.getContext("2d").clearRect(0,0,e.width,e.height)};return setTimeout(t,100),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),u.useEffect(()=>{const e=a.current;if(!e)return;const t=e.getContext("2d"),c=n=>{const r=e.getBoundingClientRect(),x=(n.clientX||n.touches?.[0]?.clientX||0)-r.left,g=(n.clientY||n.touches?.[0]?.clientY||0)-r.top;return{x,y:g}},i=n=>{n.preventDefault(),l.current=!0;const r=c(n);d.current=r},v=n=>{if(!l.current)return;n.preventDefault();const r=c(n);t.strokeStyle="#ffffff",t.lineWidth=2,t.lineCap="round",t.lineJoin="round",t.beginPath(),t.moveTo(d.current.x,d.current.y),t.lineTo(r.x,r.y),t.stroke(),d.current=r,o&&o(e)},s=()=>{l.current=!1};return e.addEventListener("mousedown",i),e.addEventListener("mousemove",v),e.addEventListener("mouseup",s),e.addEventListener("mouseout",s),e.addEventListener("touchstart",i),e.addEventListener("touchmove",v),e.addEventListener("touchend",s),()=>{e.removeEventListener("mousedown",i),e.removeEventListener("mousemove",v),e.removeEventListener("mouseup",s),e.removeEventListener("mouseout",s),e.removeEventListener("touchstart",i),e.removeEventListener("touchmove",v),e.removeEventListener("touchend",s)}},[o]);const h=()=>{const e=a.current;if(!e)return;e.getContext("2d").clearRect(0,0,e.width,e.height),o&&o(e)};return f.jsxs("div",{className:"signature-canvas-container",children:[f.jsx("canvas",{ref:a,className:`border-2 border-gray-600 rounded-lg bg-gray-900 cursor-crosshair touch-none ${m}`,style:{width:"100%",height:"200px"}}),f.jsx("button",{type:"button",onClick:h,className:"mt-2 px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:"Clear Signature"})]})}export{w as S};
