import{j as e,H as s,a as A,m as u,I as x,V as m,bc as c,z as v,M as E}from"./index-Bz4mH0bH.js";import{h as S,b as r,L as h}from"./vendor-react-q0iRXJvs.js";import{A as V}from"./AthleteLayout-WunZO9cA.js";import{g as _,a as N,b as L,d as f,e as R,f as D}from"./athleteHelpers-DfE0_HVn.js";import"./vendor-supabase-DhDedaeW.js";import"./log-out-Dpj96k0k.js";function z(){const p=S(),[d,y]=r.useState(null),[g,w]=r.useState([]),[b,k]=r.useState([]),[l,P]=r.useState({totalEvents:0,totalPhotos:0,totalVideos:0,activePackage:null});return r.useEffect(()=>{const t=sessionStorage.getItem("athlete_user");if(!t){p("/athlete");return}const a=JSON.parse(t);y(a);const j=_(a.id),n=N(a.id),o=L(a.id);w(j),k(n.slice(0,6)),P(o)},[p]),d?e.jsxs(V,{children:[e.jsxs(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-[#e51d1d]/20 via-red-600/20 to-purple-600/20 border border-[#e51d1d]/30 rounded-2xl p-8 mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(A,{className:"w-6 h-6 text-[#e51d1d]"}),e.jsxs("h1",{className:"text-3xl font-bold text-white",children:["Welcome back, ",d.name.split(" ")[0],"!"]})]}),e.jsx("p",{className:"text-gray-300",children:"Access your fight photos, highlight videos, and exclusive content."})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[e.jsx(s.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1},className:"bg-[#1a1a2e]/50 backdrop-blur-xl border border-white/10 rounded-xl p-6",children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-500/20 flex items-center justify-center",children:e.jsx(u,{className:"w-5 h-5 text-blue-400"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:l.totalEvents}),e.jsx("div",{className:"text-sm text-gray-400",children:"Events"})]})]})}),e.jsx(s.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2},className:"bg-[#1a1a2e]/50 backdrop-blur-xl border border-white/10 rounded-xl p-6",children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-500/20 flex items-center justify-center",children:e.jsx(x,{className:"w-5 h-5 text-green-400"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:l.totalPhotos}),e.jsx("div",{className:"text-sm text-gray-400",children:"Photos"})]})]})}),e.jsx(s.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.3},className:"bg-[#1a1a2e]/50 backdrop-blur-xl border border-white/10 rounded-xl p-6",children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-purple-500/20 flex items-center justify-center",children:e.jsx(m,{className:"w-5 h-5 text-purple-400"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:l.totalVideos}),e.jsx("div",{className:"text-sm text-gray-400",children:"Videos"})]})]})}),e.jsx(s.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.4},className:"bg-[#1a1a2e]/50 backdrop-blur-xl border border-white/10 rounded-xl p-6",children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-yellow-500/20 flex items-center justify-center",children:e.jsx(c,{className:"w-5 h-5 text-yellow-400"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-white",children:l.activePackage?f(l.activePackage):"None"}),e.jsx("div",{className:"text-xs text-gray-400",children:"Active Package"})]})]})})]}),e.jsxs(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"My Events"}),e.jsxs(h,{to:"/athlete/packages",className:"text-sm text-[#e51d1d] hover:text-red-400 transition-colors font-medium flex items-center gap-1",children:["Browse Packages",e.jsx(v,{className:"w-4 h-4"})]})]}),g.length===0?e.jsxs("div",{className:"bg-[#1a1a2e]/50 backdrop-blur-xl border border-white/10 rounded-xl p-12 text-center",children:[e.jsx(c,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No content yet"}),e.jsx("p",{className:"text-gray-400 mb-6",children:"Your media will appear here after your next event!"}),e.jsxs(h,{to:"/athlete/packages",className:"inline-flex items-center gap-2 bg-gradient-to-r from-[#e51d1d] to-red-600 text-white font-semibold px-6 py-3 rounded-lg hover:from-red-600 hover:to-[#e51d1d] transition-all",children:[e.jsx(c,{className:"w-5 h-5"}),"Browse Packages"]})]}):e.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:g.map((t,a)=>{const n=N(d.id).filter(i=>i.event_id===t.id),o=n.filter(i=>i.type==="photo").length,C=n.filter(i=>i.type==="video").length;return e.jsx(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6+a*.1},children:e.jsx(h,{to:`/athlete/events/${t.id}`,className:"block group",children:e.jsxs("div",{className:"bg-[#1a1a2e]/50 backdrop-blur-xl border border-white/10 rounded-xl p-6 hover:border-[#e51d1d]/50 transition-all",children:[e.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full bg-gradient-to-r ${R(t.package_type)} border mb-4`,children:[e.jsx(c,{className:"w-3 h-3"}),e.jsx("span",{className:"text-xs font-semibold",children:f(t.package_type)})]}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2 group-hover:text-[#e51d1d] transition-colors",children:t.name}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(u,{className:"w-4 h-4"}),e.jsx("span",{children:D(t.date)})]}),t.venue&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(E,{className:"w-4 h-4"}),e.jsx("span",{children:t.venue})]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 text-green-400",children:[e.jsx(x,{className:"w-4 h-4"}),e.jsxs("span",{className:"font-medium",children:[o," Photos"]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-purple-400",children:[e.jsx(m,{className:"w-4 h-4"}),e.jsxs("span",{className:"font-medium",children:[C," Videos"]})]})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-white/10 flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-400",children:"View content"}),e.jsx(v,{className:"w-5 h-5 text-[#e51d1d] group-hover:translate-x-1 transition-transform"})]})]})})},t.id)})})]}),b.length>0&&e.jsxs(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Recent Content"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:b.map((t,a)=>e.jsxs(s.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.8+a*.05},className:"group relative aspect-square rounded-lg overflow-hidden bg-[#1a1a2e]/50 border border-white/10 hover:border-[#e51d1d]/50 transition-all",children:[e.jsx("img",{src:t.thumbnail_url,alt:t.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex items-end p-3",children:e.jsxs("div",{className:"flex items-center gap-1 text-white",children:[t.type==="video"?e.jsx(m,{className:"w-4 h-4"}):e.jsx(x,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs font-medium truncate",children:t.title})]})})]},t.id))})]})]}):null}export{z as default};
