import{c as ae,s as K,j as e,C as X,y as pe,z as ge}from"./index-CMDo77gV.js";import{f as fe,e as be,b as a}from"./vendor-react-q0iRXJvs.js";import{L as le}from"./loader-circle-BX_6aUDi.js";import{T as we}from"./tag-B3Uds75j.js";import{P as ne}from"./plus-BIlzvLw7.js";import{S as Q}from"./shopping-cart-D5glZoMn.js";import"./vendor-supabase-DhDedaeW.js";const ye=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],se=ae("heart",ye);const je=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],ve=ae("layout-grid",je);function Ne(h,c,t){if(!c||!Array.isArray(c)||c.length===0)return{total:h*t,breakdown:[{qty:h,price:t,subtotal:h*t}],savings:0};const y=[...c].sort((d,x)=>d.min_qty-x.min_qty);let n=h,g=0;const i=[];for(const d of y){if(n<=0)break;const x=d.min_qty,b=d.max_qty||1/0,p=d.price_per_photo,u=b===1/0?n:b-x+1,j=Math.min(n,u);if(j>0){const f=j*p;g+=f,i.push({tier:`${x}-${b===1/0?"+":b}`,qty:j,price:p,subtotal:f}),n-=j}}if(n>0){const d=n*t;g+=d,i.push({tier:"standard",qty:n,price:t,subtotal:d})}const m=h*t,S=m-g;return{total:g,breakdown:i,savings:S,flatTotal:m}}function Fe(){const{slug:h}=fe(),[c]=be(),[t,y]=a.useState(null),[n,g]=a.useState([]),[i,m]=a.useState(new Set),[S,d]=a.useState(!0),[x,b]=a.useState(null),[p,u]=a.useState(!1),[j,f]=a.useState(!1),[U,H]=a.useState(null),[N,A]=a.useState(0),[F,I]=a.useState(null),V=c.get("cancelled");a.useEffect(()=>{const s=window.innerWidth<768,r=localStorage.getItem("gallery_tutorial_seen");s&&!r&&n.length>0&&A(1)},[n]),a.useEffect(()=>{if(N===4&&F){const s=setTimeout(()=>{m(r=>{const _=new Set(r);return _.delete(F),_}),I(null),A(5)},1500);return()=>clearTimeout(s)}},[N,F]),a.useEffect(()=>{if(N===5){const s=setTimeout(()=>{A(0)},2500);return()=>clearTimeout(s)}},[N]),a.useEffect(()=>{R()},[h]);const R=async()=>{try{const{data:s,error:r}=await K.from("galleries").select(`
          id, title, description, slug, price_per_photo, package_price, package_enabled,
          pricing_tiers, tiered_pricing_enabled,
          organizations(id, name, display_name)
        `).eq("slug",h).eq("status","published").single();if(r)throw r;y(s);const{data:_,error:T}=await K.from("gallery_photos").select("id, filename, width, height, price, sort_order, watermarked_path, thumbnail_path").eq("gallery_id",s.id).order("sort_order",{ascending:!0});if(T)throw T;const D=await Promise.all(_.map(async P=>{const{data:B}=await K.storage.from("galleries").createSignedUrl(P.watermarked_path,3600);return{...P,watermarked_url:B?.signedUrl,thumbnail_url:B?.signedUrl,price:P.price||s.price_per_photo}}));g(D)}catch(s){console.error("Load gallery error:",s),b("Gallery not found")}finally{d(!1)}},k=s=>{const r=new Set(i);r.has(s)?r.delete(s):r.add(s),m(r)},Y=()=>{m(new Set(n.map(s=>s.id)))},G=()=>{m(new Set)},w=a.useMemo(()=>{const s=i.size;if(s===0||!t)return{total:0,savings:0,breakdown:[],flatTotal:0};if(t.tiered_pricing_enabled&&t.pricing_tiers?.length>0)return Ne(s,t.pricing_tiers,t.price_per_photo);const r=s*t.price_per_photo;return{total:r,savings:0,breakdown:[],flatTotal:r}},[i.size,t]),O=async(s,r,_=!1)=>{f(!0),b(null);try{const T=await fetch("https://gonalgubgldgpkcekaxe.supabase.co/functions/v1/gallery_checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({gallery_slug:h,email:s,customer_name:r,photo_ids:_?[]:Array.from(i),is_package:_})}),D=await T.json();if(!T.ok)throw new Error(D.error||"Checkout failed");D.checkout_url&&(window.location.href=D.checkout_url)}catch(T){console.error("Checkout error:",T),b(T.message)}finally{f(!1)}};return S?e.jsx("div",{className:"min-h-[60vh] flex items-center justify-center",children:e.jsx(le,{className:"w-8 h-8 text-red-500 animate-spin"})}):x&&!t?e.jsx("div",{className:"min-h-[60vh] flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Gallery Not Found"}),e.jsx("p",{className:"text-gray-400",children:x})]})}):e.jsx("div",{className:"py-8 px-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:t.title}),t.livestream_events&&e.jsx("p",{className:"text-gray-400",children:t.livestream_events.title}),t.description&&e.jsx("p",{className:"text-gray-300 mt-4",children:t.description})]}),V&&e.jsx("div",{className:"mb-6 p-4 bg-yellow-500/20 border border-yellow-500/50 rounded-lg text-yellow-300",children:"Checkout was cancelled. Your selection is still saved."}),e.jsxs("div",{className:"mb-6 space-y-3",children:[e.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[e.jsxs("div",{className:"bg-dark-800 px-4 py-2 rounded-lg",children:[e.jsx("span",{className:"text-gray-400",children:"Per Photo:"}),e.jsxs("span",{className:"text-white ml-2 font-semibold",children:["$",(t.price_per_photo/100).toFixed(2)]})]}),t.package_enabled&&t.package_price&&e.jsxs("div",{className:"bg-dark-800 px-4 py-2 rounded-lg",children:[e.jsx("span",{className:"text-gray-400",children:"All Photos:"}),e.jsxs("span",{className:"text-green-400 ml-2 font-semibold",children:["$",(t.package_price/100).toFixed(2)]}),e.jsxs("span",{className:"text-gray-500 ml-1",children:["(save $",((n.length*t.price_per_photo-t.package_price)/100).toFixed(2),")"]})]})]}),t.tiered_pricing_enabled&&t.pricing_tiers?.length>0&&e.jsxs("div",{className:"bg-gradient-to-r from-green-500/10 to-green-500/5 border border-green-500/30 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-green-400 font-semibold mb-3",children:[e.jsx(we,{className:"w-4 h-4"}),"Volume Discounts"]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2 text-sm",children:t.pricing_tiers.map((s,r)=>e.jsxs("div",{className:"bg-dark-800/50 rounded px-3 py-2",children:[e.jsxs("span",{className:"text-gray-400",children:[s.max_qty?`${s.min_qty}-${s.max_qty}`:`${s.min_qty}+`," photos:"]}),e.jsxs("span",{className:"text-white ml-2 font-semibold",children:["$",(s.price_per_photo/100).toFixed(2)," each"]})]},r))})]})]}),e.jsxs("div",{className:"mb-6 flex flex-wrap items-center gap-4",children:[e.jsxs("button",{onClick:Y,className:"text-sm text-gray-400 hover:text-white",children:["Select All (",n.length,")"]}),i.size>0&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:G,className:"text-sm text-gray-400 hover:text-white",children:"Clear Selection"}),e.jsxs("span",{className:"text-white",children:[i.size," selected ¬∑ $",(w.total/100).toFixed(2),w.savings>0&&e.jsxs("span",{className:"text-green-400 ml-2",children:["(saving $",(w.savings/100).toFixed(2),")"]})]})]})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-2 md:gap-4 mb-24 md:mb-8",children:n.map((s,r)=>e.jsxs("div",{className:`relative group cursor-pointer rounded-lg overflow-hidden transition-transform active:scale-98 ${i.has(s.id)?"ring-2 ring-red-500":""} ${N===1&&r===0?"ring-2 ring-white animate-pulse z-10":""}`,onClick:()=>{H(s),N===1&&A(2)},children:[e.jsx("img",{src:s.thumbnail_url||s.watermarked_url,alt:s.filename,className:"w-full aspect-square object-cover",loading:"lazy"}),e.jsx("div",{className:`absolute top-2 right-2 w-7 h-7 rounded-full flex items-center justify-center transition-all ${i.has(s.id)?"bg-red-500 text-white":"bg-black/40 text-white md:opacity-0 md:group-hover:opacity-100"}`,children:i.has(s.id)?e.jsx(X,{className:"w-4 h-4"}):e.jsx(ne,{className:"w-4 h-4"})}),e.jsx("button",{onClick:_=>{_.stopPropagation(),k(s.id)},className:`absolute bottom-2 left-2 px-3 py-1 rounded-full text-xs font-semibold transition-all md:opacity-0 md:group-hover:opacity-100 ${i.has(s.id)?"bg-green-500 text-white":"bg-black/60 backdrop-blur-sm text-white"}`,children:i.has(s.id)?"Added":"Add"})]},s.id))}),(i.size>0||t.package_enabled)&&e.jsxs("div",{className:"fixed bottom-0 left-0 right-0 md:bottom-4 md:left-auto md:right-8 md:w-96 z-40",children:[e.jsxs("div",{className:"md:hidden bg-dark-900/95 backdrop-blur-lg border-t border-dark-700 px-4 py-3 safe-area-pb",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 bg-dark-700 rounded-full px-3 py-1.5",children:[e.jsx(Q,{className:"w-4 h-4 text-red-500"}),e.jsx("span",{className:"text-white font-semibold text-sm",children:i.size})]}),e.jsxs("div",{className:"flex-1 text-right",children:[w.savings>0&&e.jsxs("span",{className:"text-gray-500 text-xs line-through mr-2",children:["$",(w.flatTotal/100).toFixed(2)]}),e.jsxs("span",{className:"text-white font-bold",children:["$",(w.total/100).toFixed(2)]})]}),e.jsx("button",{onClick:()=>u(!0),disabled:i.size===0,className:"bg-red-500 hover:bg-red-600 disabled:bg-gray-600 text-white font-semibold px-5 py-2 rounded-full transition-all active:scale-95",children:"Checkout"})]}),t.package_enabled&&t.package_price&&e.jsxs("button",{onClick:()=>{Y(),u(!0)},className:"w-full mt-2 bg-green-600/20 border border-green-500/50 text-green-400 font-semibold py-2 rounded-full text-sm transition-all active:scale-98",children:["Buy All ",n.length," Photos - $",(t.package_price/100).toFixed(2)]})]}),e.jsxs("div",{className:"hidden md:block bg-dark-800 rounded-xl shadow-2xl p-4 border border-dark-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Q,{className:"w-5 h-5 text-red-500"}),e.jsxs("span",{className:"text-white font-semibold",children:[i.size," photos selected"]})]}),e.jsxs("span",{className:"text-white font-bold",children:["$",(w.total/100).toFixed(2)]})]}),w.savings>0&&e.jsxs("div",{className:"flex items-center justify-between mb-3 text-sm",children:[e.jsx("span",{className:"text-gray-400",children:e.jsxs("span",{className:"line-through",children:["$",(w.flatTotal/100).toFixed(2)]})}),e.jsxs("span",{className:"text-green-400 font-semibold",children:["Volume discount: -$",(w.savings/100).toFixed(2)]})]}),e.jsx("button",{onClick:()=>u(!0),disabled:i.size===0,className:"w-full bg-red-500 hover:bg-red-600 disabled:bg-gray-600 disabled:cursor-not-allowed text-white font-semibold py-3 rounded-lg transition-colors",children:"Checkout"}),t.package_enabled&&t.package_price&&e.jsxs("button",{onClick:()=>{Y(),u(!0)},className:"w-full mt-2 bg-green-600 hover:bg-green-700 text-white font-semibold py-3 rounded-lg transition-colors",children:["Buy All Photos - $",(t.package_price/100).toFixed(2)]})]})]}),p&&e.jsx(ke,{gallery:t,selectedCount:i.size,priceCalc:w,isPackage:i.size===n.length&&t.package_enabled,packagePrice:t.package_price,onClose:()=>u(!1),onCheckout:O,purchasing:j,error:x}),N===1&&n.length>0&&e.jsx("div",{className:"fixed inset-0 bg-black/60 z-30 flex items-center justify-center pointer-events-none md:hidden",children:e.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl p-6 mx-4 text-center animate-bounce-slow",children:[e.jsx("div",{className:"text-4xl mb-3",children:"üëÜ"}),e.jsx("p",{className:"text-white text-lg font-semibold",children:"Tap a photo to view"}),e.jsx("p",{className:"text-white/70 text-sm mt-1",children:"Open the fullscreen gallery"})]})}),U&&e.jsx(_e,{photos:n,currentPhoto:U,selectedPhotos:i,onClose:()=>{H(null),N>0&&N<4&&A(0)},onNavigate:H,onToggleSelect:k,pricePerPhoto:t.price_per_photo,tutorialStep:N,onTutorialStep:(s,r)=>{A(s),s===4&&r&&(localStorage.setItem("gallery_tutorial_seen","true"),I(r))}})]})})}function ke({gallery:h,selectedCount:c,priceCalc:t,isPackage:y,packagePrice:n,onClose:g,onCheckout:i,purchasing:m,error:S}){const[d,x]=a.useState(""),[b,p]=a.useState(""),u=y&&n?n:t.total,j=f=>{f.preventDefault(),i(d,b,y&&n)};return e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-dark-800 rounded-xl max-w-md w-full p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Complete Purchase"}),e.jsxs("div",{className:"mb-6 p-4 bg-dark-700 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between text-gray-300 mb-2",children:[e.jsxs("span",{children:[c," photos"]}),e.jsxs("span",{children:["$",(t.flatTotal/100).toFixed(2)]})]}),t.savings>0&&!y&&e.jsxs("div",{className:"flex justify-between text-green-400 mb-2",children:[e.jsx("span",{children:"Volume Discount"}),e.jsxs("span",{children:["-$",(t.savings/100).toFixed(2)]})]}),y&&n&&t.flatTotal>n&&e.jsxs("div",{className:"flex justify-between text-green-400 mb-2",children:[e.jsx("span",{children:"Package Discount"}),e.jsxs("span",{children:["-$",((t.flatTotal-n)/100).toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-white font-bold mt-2 pt-2 border-t border-dark-600",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{children:["$",(u/100).toFixed(2)," AUD"]})]})]}),e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 mb-1",children:"Email *"}),e.jsx("input",{type:"email",value:d,onChange:f=>x(f.target.value),className:"w-full bg-dark-700 text-white rounded-lg px-4 py-3 border border-dark-600 focus:border-red-500 focus:outline-none",placeholder:"your@email.com",required:!0}),e.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Download link will be sent here"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 mb-1",children:"Name (optional)"}),e.jsx("input",{type:"text",value:b,onChange:f=>p(f.target.value),className:"w-full bg-dark-700 text-white rounded-lg px-4 py-3 border border-dark-600 focus:border-red-500 focus:outline-none",placeholder:"Your name"})]}),S&&e.jsx("div",{className:"p-3 bg-red-500/20 border border-red-500/50 rounded-lg text-red-300 text-sm",children:S}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsx("button",{type:"button",onClick:g,className:"flex-1 bg-dark-600 hover:bg-dark-500 text-white py-3 rounded-lg transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:m||!d,className:"flex-1 bg-red-500 hover:bg-red-600 disabled:bg-gray-600 text-white py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:m?e.jsxs(e.Fragment,{children:[e.jsx(le,{className:"w-4 h-4 animate-spin"}),"Processing..."]}):e.jsxs(e.Fragment,{children:["Pay $",(u/100).toFixed(2)]})})]})]})]})})}function _e({photos:h,currentPhoto:c,selectedPhotos:t,onClose:y,onNavigate:n,onToggleSelect:g,pricePerPhoto:i,tutorialStep:m=0,onTutorialStep:S}){const d=h.findIndex(l=>l.id===c.id),x=t.has(c.id),b=a.useRef(null),[p,u]=a.useState(0),[j,f]=a.useState(!1),[U,H]=a.useState(0),[N,A]=a.useState(0),[F,I]=a.useState(0),[V,R]=a.useState(0),[k,Y]=a.useState(!1),[G,w]=a.useState(!1),[O,s]=a.useState(!1),[r,_]=a.useState(0),[T,D]=a.useState(!1),[P,B]=a.useState({x:0,y:0}),[z,ie]=a.useState(window.innerHeight);a.useEffect(()=>{const l=()=>ie(window.innerHeight);return window.addEventListener("resize",l),()=>window.removeEventListener("resize",l)},[]);const C=d>0?h[d-1]:null,$=d<h.length-1?h[d+1]:null;a.useEffect(()=>{const l=window.scrollY;return document.body.style.position="fixed",document.body.style.top=`-${l}px`,document.body.style.left="0",document.body.style.right="0",document.body.style.overflow="hidden",()=>{document.body.style.position="",document.body.style.top="",document.body.style.left="",document.body.style.right="",document.body.style.overflow="",window.scrollTo(0,l)}},[]);const L=a.useCallback(l=>{const o=l===1?$:C;!o||k||(Y(!0),u(l===-1?z:-z),setTimeout(()=>{n(o),u(0),Y(!1)},280))},[$,C,z,n,k]),W=a.useCallback(()=>L(1),[L]),J=a.useCallback(()=>L(-1),[L]);a.useEffect(()=>{const l=o=>{k||(o.key==="ArrowDown"||o.key==="ArrowRight"?(o.preventDefault(),W()):o.key==="ArrowUp"||o.key==="ArrowLeft"?(o.preventDefault(),J()):o.key==="Escape"?y():(o.key===" "||o.key==="Enter")&&(o.preventDefault(),g(c.id)))};return window.addEventListener("keydown",l),()=>window.removeEventListener("keydown",l)},[W,J,y,g,c.id,k]);const re=l=>{if(k)return;const o=Date.now(),v=l.touches[0].clientY;H(v),A(o),I(v),R(o),f(!0)},oe=l=>{if(!j||k)return;const o=Date.now(),v=l.touches[0].clientY,E=v-U;I(v),R(o);const M=.3;let q=E;E>0&&!C&&(q=E*M),E<0&&!$&&(q=E*M),u(q)},ce=l=>{if(!j||k)return;f(!1);const o=Date.now(),v=Math.max(o-V,1),q=((l.changedTouches?.[0]?.clientY??F)-F)/v,he=z*.15,Z=.5,ue=Math.abs(p)>he,ee=q<-Z&&p<0,te=q>Z&&p>0;ue||ee||te?(p<0||ee)&&$&&p<=0?(m===2&&!G&&(w(!0),O&&S?.(3)),L(1)):(p>0||te)&&C&&p>=0?(m===2&&!O&&(s(!0),G&&S?.(3)),L(-1)):u(0):u(0)},de=l=>{if(k)return;const o=Date.now();if(o-r<300){const v=l.currentTarget.getBoundingClientRect(),E=l.clientX||v.width/2,M=l.clientY||v.height/2;B({x:E-v.left,y:M-v.top}),D(!0),t.has(c.id)||(g(c.id),m===3&&S?.(4,c.id)),setTimeout(()=>D(!1),800)}_(o)};a.useEffect(()=>{if(C){const l=new Image;l.src=C.watermarked_url}if($){const l=new Image;l.src=$.watermarked_url}},[C,$]);const me=`translateY(${p}px)`,xe=j?"none":"transform 0.28s cubic-bezier(0.33, 1, 0.68, 1)";return e.jsxs("div",{ref:b,className:"fixed inset-0 bg-black z-50 overflow-hidden",style:{touchAction:"none"},onTouchStart:re,onTouchMove:oe,onTouchEnd:ce,onClick:de,children:[e.jsxs("div",{className:"absolute inset-0",style:{transform:me,transition:xe},children:[C&&e.jsx("div",{className:"absolute inset-x-0 flex items-center justify-center p-4 pt-16 pb-24",style:{height:z,top:-z},children:e.jsx("img",{src:C.watermarked_url,alt:"Previous",className:"max-w-full max-h-full object-contain",draggable:!1})}),e.jsx("div",{className:"absolute inset-x-0 flex items-center justify-center p-4 pt-16 pb-24",style:{height:z,top:0},children:e.jsx("img",{src:c.watermarked_url,alt:c.filename,className:"max-w-full max-h-full object-contain select-none",draggable:!1})}),$&&e.jsx("div",{className:"absolute inset-x-0 flex items-center justify-center p-4 pt-16 pb-24",style:{height:z,top:z},children:e.jsx("img",{src:$.watermarked_url,alt:"Next",className:"max-w-full max-h-full object-contain",draggable:!1})})]}),T&&e.jsx("div",{className:"absolute pointer-events-none z-50",style:{left:P.x,top:P.y,transform:"translate(-50%, -50%)"},children:e.jsx(se,{className:"w-20 h-20 text-red-500 fill-red-500",style:{animation:"heartBurst 0.6s ease-out forwards"}})}),e.jsxs("div",{className:"absolute top-0 left-0 right-0 z-40 flex items-center justify-between p-4 bg-gradient-to-b from-black/70 to-transparent",children:[e.jsxs("div",{className:"text-white/90 font-medium text-sm bg-black/40 px-3 py-1.5 rounded-full backdrop-blur-sm",children:[d+1," / ",h.length]}),e.jsx("button",{onClick:y,className:"text-white bg-black/40 hover:bg-black/60 p-2.5 rounded-full backdrop-blur-sm transition-colors",children:e.jsx(ve,{className:"w-5 h-5"})})]}),C&&e.jsx("button",{onClick:l=>{l.stopPropagation(),J()},className:"hidden md:flex absolute left-4 top-1/2 -translate-y-1/2 z-40 bg-black/50 hover:bg-black/70 text-white p-3 rounded-full",children:e.jsx(pe,{className:"w-6 h-6"})}),$&&e.jsx("button",{onClick:l=>{l.stopPropagation(),W()},className:"hidden md:flex absolute right-4 top-1/2 -translate-y-1/2 z-40 bg-black/50 hover:bg-black/70 text-white p-3 rounded-full",children:e.jsx(ge,{className:"w-6 h-6"})}),e.jsxs("div",{className:"md:hidden absolute right-3 bottom-28 z-40 flex flex-col items-center gap-4",children:[e.jsxs("button",{onClick:l=>{l.stopPropagation(),g(c.id)},className:"flex flex-col items-center gap-1",children:[e.jsx("div",{className:`p-3 rounded-full transition-all shadow-lg ${x?"bg-red-500 text-white scale-110":"bg-black/60 text-white backdrop-blur-sm"}`,children:x?e.jsx(X,{className:"w-6 h-6"}):e.jsx(Q,{className:"w-6 h-6"})}),e.jsx("span",{className:"text-white text-xs font-medium drop-shadow",children:x?"Added":"Add"})]}),e.jsxs("div",{className:"flex flex-col items-center gap-1",children:[e.jsx("div",{className:`p-3 rounded-full shadow-lg ${x?"bg-black/60 text-red-500":"bg-black/60 text-white/70"} backdrop-blur-sm`,children:e.jsx(se,{className:`w-6 h-6 ${x?"fill-red-500":""}`})}),e.jsx("span",{className:"text-white/80 text-xs font-medium drop-shadow",children:x?"Added":"Add"})]})]}),e.jsxs("div",{className:"hidden md:flex p-4 bg-gradient-to-t from-black/80 to-transparent items-center justify-between absolute bottom-0 left-0 right-0 z-40",children:[e.jsx("div",{className:"text-gray-300 text-sm truncate max-w-[50%]",children:c.filename}),e.jsx("button",{onClick:()=>g(c.id),className:`flex items-center gap-2 px-5 py-2.5 rounded-full font-semibold transition-all ${x?"bg-green-500 hover:bg-green-600 text-white":"bg-red-500 hover:bg-red-600 text-white"}`,children:x?e.jsxs(e.Fragment,{children:[e.jsx(X,{className:"w-5 h-5"}),"In Cart"]}):e.jsxs(e.Fragment,{children:[e.jsx(ne,{className:"w-5 h-5"}),"Add $",(i/100).toFixed(2)]})})]}),e.jsxs("div",{className:"hidden md:flex absolute bottom-16 left-1/2 -translate-x-1/2 text-gray-500 text-xs gap-4 z-40",children:[e.jsx("span",{children:"‚Üë ‚Üì Navigate"}),e.jsx("span",{children:"Space: Add to cart"}),e.jsx("span",{children:"Esc: Close"})]}),m===0&&e.jsx("div",{className:"md:hidden absolute left-4 bottom-28 z-40 text-white/40 text-xs",children:"Double-tap to add"}),m===2&&e.jsx("div",{className:"md:hidden absolute inset-x-0 bottom-40 z-50 flex justify-center pointer-events-none",children:e.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl p-5 mx-4 text-center",children:[e.jsx("div",{className:"text-4xl mb-2",children:"üëÜüëá"}),e.jsx("p",{className:"text-white text-lg font-semibold",children:"Swipe up or down"}),e.jsx("p",{className:"text-white/70 text-sm mt-1",children:"Browse through photos"})]})}),m===3&&e.jsx("div",{className:"md:hidden absolute inset-0 z-50 flex items-center justify-center pointer-events-none",children:e.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl p-6 mx-4 text-center",children:[e.jsx("div",{className:"text-4xl mb-2 animate-double-tap",children:"‚òùÔ∏è"}),e.jsx("p",{className:"text-white text-lg font-semibold",children:"Double-tap to add to cart"}),e.jsx("p",{className:"text-white/70 text-sm mt-1",children:"Try it on this photo!"})]})}),m===4&&e.jsx("div",{className:"md:hidden absolute inset-0 z-50 flex items-center justify-center pointer-events-none",children:e.jsxs("div",{className:"bg-green-500/20 backdrop-blur-md rounded-2xl p-6 mx-4 text-center animate-pulse",children:[e.jsx("div",{className:"text-4xl mb-2",children:"‚úÖ"}),e.jsx("p",{className:"text-white text-lg font-semibold",children:"You're all set!"}),e.jsx("p",{className:"text-white/70 text-sm mt-1",children:"Swipe to browse, double-tap to add"})]})}),m===5&&e.jsx("div",{className:"md:hidden absolute top-14 right-14 z-50 pointer-events-none animate-fade-hint",children:e.jsx("div",{className:"bg-black/40 backdrop-blur-sm rounded-lg px-3 py-1.5",children:e.jsx("span",{className:"text-white/60 text-xs",children:"Grid view"})})}),e.jsx("style",{children:`
        @keyframes heartBurst {
          0% {
            transform: translate(-50%, -50%) scale(0);
            opacity: 1;
          }
          50% {
            transform: translate(-50%, -50%) scale(1.2);
            opacity: 1;
          }
          100% {
            transform: translate(-50%, -50%) scale(1);
            opacity: 0;
          }
        }
        @keyframes fadeOut {
          0% { opacity: 1; }
          70% { opacity: 1; }
          100% { opacity: 0; }
        }
        .animate-fade-out {
          animation: fadeOut 3s ease-out forwards;
        }
        .safe-area-pb {
          padding-bottom: max(12px, env(safe-area-inset-bottom));
        }
        @keyframes bounce-slow {
          0%, 100% { transform: translateY(0); }
          50% { transform: translateY(-10px); }
        }
        .animate-bounce-slow {
          animation: bounce-slow 2s ease-in-out infinite;
        }
        @keyframes double-tap {
          0%, 100% { transform: scale(1); }
          10% { transform: scale(0.85) translateY(5px); }
          20% { transform: scale(1); }
          30% { transform: scale(0.85) translateY(5px); }
          40% { transform: scale(1); }
        }
        .animate-double-tap {
          animation: double-tap 1.5s ease-in-out infinite;
        }
        @keyframes fade-hint {
          0% { opacity: 0; }
          15% { opacity: 1; }
          85% { opacity: 1; }
          100% { opacity: 0; }
        }
        .animate-fade-hint {
          animation: fade-hint 2.5s ease-in-out forwards;
        }
      `})]})}export{Fe as default};
