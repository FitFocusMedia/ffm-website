import{W as ue,j as e,X as V,Y as z}from"./index-D7fQyTW5.js";import{f as me,b as c,h as ge}from"./vendor-react-q0iRXJvs.js";import{a as xe,h as pe,b as $}from"./contractHelpers-DfGjr2hJ.js";import{S as he}from"./SignatureCanvas-fswecnTp.js";import"./vendor-supabase-DhDedaeW.js";const b=6;function je({editMode:i=!1}){const{id:x}=me(),[o,N]=c.useState(1),[t,k]=c.useState({agreement_date:new Date().toISOString().split("T")[0],ffm_abn:"",org_name:"",promoter_name:"",promoter_position:"",promoter_email:"",promoter_phone:"",org_instagram:"",org_facebook:"",org_website:"",event_name:"",event_date:"",event_location:"",event_type:"BJJ / Grappling Competition",estimated_matches:"",expected_athletes:"",expected_audience:"",camera_angles:"2",camera_angles_max:"",crew_size:"2",crew_size_max:"",multi_event_count:"1",multi_event_duration:"",highlight_delivery_days:"7",highlight_delivery_days_max:"",social_clips_count:"5",social_clips_count_max:"",social_clips_delivery_days:"5",social_clips_delivery_days_max:"",photo_count:"50",photo_count_max:"",photography_included:!0,photography_type:"professional",livestream_included:!1,ppv_included:!1,ppv_platform:"",ppv_price:"",ppv_price_type:"fixed",ppv_price_max:"",ppv_ffm_split:"70",ppv_client_split:"30",ppv_payment_days:"21",vip_price:"350",match_price:"175",season_price:"899",athlete_revenue_ffm_100:!0,athlete_ffm_split:"80",athlete_client_split:"20",setup_hours:"2",internet_speed:"",schedule_hours_before:"48",athlete_list_days_before:"7",cancellation_fee:"500",initial_term_months:"12",renewal_period_months:"12",nonrenewal_notice_days:"60",termination_notice_days:"30",remedy_period_days:"14",pli_amount:"20000000"}),[d,h]=c.useState([]),[u,f]=c.useState([{name:"VIP Coverage",price:"350",description:"Full event coverage with priority editing, professional highlight reel, all match recordings, and premium photo package."},{name:"Match Package",price:"175",description:"Individual match recording with edited highlights and action photos from your matches."},{name:"Season Pass",price:"899",description:"Full season coverage across all events, priority processing, and exclusive content access."}]),[m,y]=c.useState([]),[g,v]=c.useState([]),[E,F]=c.useState(!1),[M,O]=c.useState(!1),[p,I]=c.useState(null),[X,T]=c.useState(i),[C,H]=c.useState(!0);c.useRef(null);const[w,J]=c.useState(null),[S,U]=c.useState(!1),[R,B]=c.useState(null),_=ge();c.useEffect(()=>{i&&x&&Y()},[i,x]);const Y=async()=>{try{T(!0);const r=await ue(x);I(r);const a=r.contract_data||{};k(n=>({...n,...a})),a.multi_events&&h(a.multi_events),a.athlete_packages&&f(a.athlete_packages),a.add_ons&&y(a.add_ons),a.custom_notes&&v(a.custom_notes)}catch(r){console.error("Error loading contract:",r),alert("Failed to load contract for editing"),_("/portal/contracts")}finally{T(!1)}};c.useEffect(()=>{if(!i){const r=localStorage.getItem("contractBuilderData");if(r)try{const a=JSON.parse(r);k(a.formData||t),h(a.multiEvents||[]),a.athletePackages&&f(a.athletePackages),a.addOns&&y(a.addOns),a.customNotes&&v(a.customNotes),N(a.currentStep||1)}catch(a){console.error("Error loading saved data:",a)}}},[i]),c.useEffect(()=>{localStorage.setItem("contractBuilderData",JSON.stringify({formData:t,multiEvents:d,athletePackages:u,addOns:m,customNotes:g,currentStep:o}))},[t,d,u,m,g,o]);const s=r=>{const{name:a,value:n,type:l,checked:j}=r.target;k(de=>({...de,[a]:l==="checkbox"?j:n}))},G=()=>{h([...d,{name:"",date:"",venue:""}])},W=r=>{h(d.filter((a,n)=>n!==r))},P=(r,a,n)=>{const l=[...d];l[r][a]=n,h(l)},q=(r,a)=>{const n=r+a;if(n<0||n>=d.length)return;const l=[...d],[j]=l.splice(r,1);l.splice(n,0,j),h(l)},Q=()=>{f([...u,{name:"",price:"",description:""}])},K=r=>{f(u.filter((a,n)=>n!==r))},D=(r,a,n)=>{const l=[...u];l[r][a]=n,f(l)},Z=()=>{y([...m,{name:"",price:"",description:"",included:!0}])},ee=r=>{y(m.filter((a,n)=>n!==r))},A=(r,a,n)=>{const l=[...m];l[r][a]=n,y(l)},te=()=>{v([...g,{title:"",content:""}])},ae=r=>{v(g.filter((a,n)=>n!==r))},L=(r,a,n)=>{const l=[...g];l[r][a]=n,v(l)},re=r=>{const n={1:["org_name","promoter_name","promoter_position","promoter_email","promoter_phone"],2:["event_name","event_date","event_location","estimated_matches","expected_athletes","expected_audience"],3:[],4:[],5:[],6:[]}[r]||[];for(const l of n)if(!t[l]||t[l].trim()==="")return alert("Please fill in all required fields in this step."),!1;return!0},se=()=>{re(o)&&o<b&&(N(o+1),window.scrollTo({top:0,behavior:"smooth"}))},ne=()=>{o>1&&(N(o-1),window.scrollTo({top:0,behavior:"smooth"}))},le=r=>{N(r),window.scrollTo({top:0,behavior:"smooth"})},oe=async r=>{r.preventDefault();const a=w&&pe(w);if(!i){if(!a){alert("Please sign the contract before submitting.");return}if(!S){alert("Please confirm your signature.");return}}F(!0);try{const n={...t,multi_events:d,athlete_packages:u,add_ons:m,custom_notes:g};if(i&&p){const l={org_name:t.org_name,promoter_name:t.promoter_name,promoter_email:t.promoter_email,promoter_phone:t.promoter_phone,contract_data:n,updated_at:new Date().toISOString()};a&&S&&(l.ffm_signature=$(w),l.ffm_signed_at=new Date().toISOString()),await V(x,l),alert("Contract updated successfully!"),_(`/portal/contracts/${x}`)}else{const l=$(w),j=await z({status:"sent",org_name:t.org_name,promoter_name:t.promoter_name,promoter_email:t.promoter_email,promoter_phone:t.promoter_phone,contract_data:n,ffm_signature:l,ffm_signed_at:new Date().toISOString()});localStorage.removeItem("contractBuilderData"),alert("Contract created successfully! You can now share it with the client."),_(`/portal/contracts/${j.id}`)}}catch(n){console.error("Error saving contract:",n),alert("Failed to save contract: "+n.message)}finally{F(!1)}},ie=async()=>{O(!0);try{const r={...t,multi_events:d,athlete_packages:u,add_ons:m,custom_notes:g};if(i&&p)await V(x,{status:p.status==="draft"?"draft":p.status,org_name:t.org_name||"Untitled Draft",promoter_name:t.promoter_name,promoter_email:t.promoter_email,promoter_phone:t.promoter_phone,contract_data:r}),B(new Date),alert("Draft saved!");else{const a=await z({status:"draft",org_name:t.org_name||"Untitled Draft",promoter_name:t.promoter_name,promoter_email:t.promoter_email,promoter_phone:t.promoter_phone,contract_data:r});localStorage.removeItem("contractBuilderData"),_(`/portal/contracts/${a.id}/edit`,{replace:!0}),I(a),B(new Date),alert("Draft saved! You can continue editing or come back later.")}}catch(r){console.error("Error saving draft:",r),alert("Failed to save draft: "+r.message)}finally{O(!1)}},ce={contract_data:{...t,multi_events:d,athlete_packages:u,add_ons:m,custom_notes:g},ffm_signature:null,client_signature:null};return X?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"text-white text-xl",children:"Loading contract..."})}):e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>_(i?`/portal/contracts/${x}`:"/portal/contracts"),className:"text-gray-400 hover:text-white mb-2 inline-flex items-center gap-2",children:["â† ",i?"Back to Contract":"Back to Dashboard"]}),e.jsx("h1",{className:"text-3xl font-bold text-white",children:i?`Edit Contract: ${t.org_name||"Untitled"}`:"Create New Contract"})]}),e.jsxs("button",{onClick:()=>H(!C),className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:[C?"Hide":"Show"," Preview"]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"bg-dark-900 rounded-lg p-6 mb-6 border border-gray-800",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:Array.from({length:b},(r,a)=>a+1).map(r=>e.jsx("button",{onClick:()=>le(r),className:`flex-1 text-center py-2 px-3 rounded-lg font-medium transition-colors ${r===o?"bg-blue-600 text-white":r<o?"bg-green-600 text-white":"bg-gray-800 text-gray-400"} ${r<b?"mr-2":""}`,children:r},r))}),e.jsxs("div",{className:"text-center text-gray-400 text-sm",children:["Step ",o," of ",b]})]}),e.jsxs("form",{onSubmit:oe,noValidate:!0,className:"bg-dark-900 rounded-lg p-6 border border-gray-800",children:[o===1&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Step 1: Party Details"}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Agreement Date ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",name:"agreement_date",value:t.agreement_date,onChange:s,required:!0,className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"FFM ABN"}),e.jsx("input",{type:"text",name:"ffm_abn",value:t.ffm_abn,onChange:s,placeholder:"Enter ABN if available",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Organization Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"org_name",value:t.org_name,onChange:s,required:!0,placeholder:"e.g., Queensland Grappling Association",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Promoter Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"promoter_name",value:t.promoter_name,onChange:s,required:!0,placeholder:"Full name of the promoter",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Promoter Position ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"promoter_position",value:t.promoter_position,onChange:s,required:!0,placeholder:"e.g., Event Director, CEO",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Promoter Email ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"email",name:"promoter_email",value:t.promoter_email,onChange:s,required:!0,placeholder:"email@example.com",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Promoter Phone ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"tel",name:"promoter_phone",value:t.promoter_phone,onChange:s,required:!0,placeholder:"+61 4XX XXX XXX",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"pt-4 border-t border-gray-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-300 mb-4",children:"Social & Web (Optional)"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Instagram"}),e.jsx("input",{type:"text",name:"org_instagram",value:t.org_instagram,onChange:s,placeholder:"@yourorg",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Facebook"}),e.jsx("input",{type:"text",name:"org_facebook",value:t.org_facebook,onChange:s,placeholder:"facebook.com/yourorg",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Website"}),e.jsx("input",{type:"text",name:"org_website",value:t.org_website,onChange:s,placeholder:"https://yourorg.com",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]})]}),o===2&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Step 2: Event Details"}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Event Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"event_name",value:t.event_name,onChange:s,required:!0,placeholder:"e.g., Queensland Open 2024",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Event Date ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",name:"event_date",value:t.event_date,onChange:s,required:!0,className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Event Location ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"event_location",value:t.event_location,onChange:s,required:!0,placeholder:"Venue name and address",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Event Type"}),e.jsx("input",{type:"text",name:"event_type",value:t.event_type,onChange:s,placeholder:"e.g., BJJ / Grappling Competition",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Estimated Matches ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",name:"estimated_matches",value:t.estimated_matches,onChange:s,required:!0,placeholder:"e.g., 200",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Expected Athlete Participants ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",name:"expected_athletes",value:t.expected_athletes,onChange:s,required:!0,placeholder:"e.g., 400",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Expected Audience ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",name:"expected_audience",value:t.expected_audience,onChange:s,required:!0,placeholder:"e.g., 300",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Multi-Event Count"}),e.jsx("input",{type:"number",name:"multi_event_count",value:t.multi_event_count,onChange:s,placeholder:"e.g., 1",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Multi-Event Duration"}),e.jsx("input",{type:"text",name:"multi_event_duration",value:t.multi_event_duration,onChange:s,placeholder:"e.g., 12 months",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Event Schedule (Optional)"}),e.jsx("button",{type:"button",onClick:G,className:"px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white rounded text-sm transition-colors",children:"+ Add Event"})]}),d.map((r,a)=>e.jsx("div",{className:"bg-dark-800 p-4 rounded-lg mb-2",children:e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsxs("span",{className:"text-gray-400 text-sm font-medium w-6",children:["#",a+1]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("button",{type:"button",onClick:()=>q(a,-1),disabled:a===0,className:`px-2 py-0.5 rounded text-xs ${a===0?"text-gray-600 cursor-not-allowed":"text-gray-400 hover:text-white hover:bg-dark-600"}`,title:"Move up",children:"â–²"}),e.jsx("button",{type:"button",onClick:()=>q(a,1),disabled:a===d.length-1,className:`px-2 py-0.5 rounded text-xs ${a===d.length-1?"text-gray-600 cursor-not-allowed":"text-gray-400 hover:text-white hover:bg-dark-600"}`,title:"Move down",children:"â–¼"})]}),e.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-3 gap-2",children:[e.jsx("input",{type:"text",value:r.name,onChange:n=>P(a,"name",n.target.value),placeholder:"Event Name",className:"px-3 py-2 bg-dark-700 border border-gray-600 rounded text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("input",{type:"date",value:r.date,onChange:n=>P(a,"date",n.target.value),className:"px-3 py-2 bg-dark-700 border border-gray-600 rounded text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("input",{type:"text",value:r.venue,onChange:n=>P(a,"venue",n.target.value),placeholder:"Venue",className:"px-3 py-2 bg-dark-700 border border-gray-600 rounded text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsx("button",{type:"button",onClick:()=>W(a),className:"text-red-500 hover:text-red-400 text-sm px-2",title:"Remove event",children:"âœ•"})]})},a))]})]}),o===3&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Step 3: Coverage & Deliverables"}),e.jsx("p",{className:"text-sm text-gray-400 mb-4",children:'ğŸ’¡ All fields support ranges. Leave "Max" empty for a single value, or enter a max to specify a range (e.g., "2-3").'}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Camera Angles"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("input",{type:"number",name:"camera_angles",value:t.camera_angles,onChange:s,placeholder:"Min",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("span",{className:"text-xs text-gray-500 mt-1 block",children:"Min"})]}),e.jsxs("div",{children:[e.jsx("input",{type:"number",name:"camera_angles_max",value:t.camera_angles_max,onChange:s,placeholder:"Max (optional)",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("span",{className:"text-xs text-gray-500 mt-1 block",children:"Max (optional)"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"On-Site Crew Size"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("input",{type:"number",name:"crew_size",value:t.crew_size,onChange:s,placeholder:"Min",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("span",{className:"text-xs text-gray-500 mt-1 block",children:"Min"})]}),e.jsxs("div",{children:[e.jsx("input",{type:"number",name:"crew_size_max",value:t.crew_size_max,onChange:s,placeholder:"Max (optional)",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("span",{className:"text-xs text-gray-500 mt-1 block",children:"Max (optional)"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Highlight Reel Delivery (Days)"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("input",{type:"number",name:"highlight_delivery_days",value:t.highlight_delivery_days,onChange:s,placeholder:"Min",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("span",{className:"text-xs text-gray-500 mt-1 block",children:"Min"})]}),e.jsxs("div",{children:[e.jsx("input",{type:"number",name:"highlight_delivery_days_max",value:t.highlight_delivery_days_max,onChange:s,placeholder:"Max (optional)",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("span",{className:"text-xs text-gray-500 mt-1 block",children:"Max (optional)"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Social Media Clips Count"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("input",{type:"number",name:"social_clips_count",value:t.social_clips_count,onChange:s,placeholder:"Min",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("span",{className:"text-xs text-gray-500 mt-1 block",children:"Min"})]}),e.jsxs("div",{children:[e.jsx("input",{type:"number",name:"social_clips_count_max",value:t.social_clips_count_max,onChange:s,placeholder:"Max (optional)",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("span",{className:"text-xs text-gray-500 mt-1 block",children:"Max (optional)"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Social Clips Delivery (Days)"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("input",{type:"number",name:"social_clips_delivery_days",value:t.social_clips_delivery_days,onChange:s,placeholder:"Min",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("span",{className:"text-xs text-gray-500 mt-1 block",children:"Min"})]}),e.jsxs("div",{children:[e.jsx("input",{type:"number",name:"social_clips_delivery_days_max",value:t.social_clips_delivery_days_max,onChange:s,placeholder:"Max (optional)",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("span",{className:"text-xs text-gray-500 mt-1 block",children:"Max (optional)"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Photography"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"photography_type",value:"none",checked:t.photography_type==="none",onChange:s,className:"w-4 h-4 text-blue-600 bg-dark-800 border-gray-700 focus:ring-2 focus:ring-blue-500"}),e.jsx("span",{className:"text-gray-300",children:"No photography included"})]}),e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"photography_type",value:"base",checked:t.photography_type==="base",onChange:s,className:"w-4 h-4 text-blue-600 bg-dark-800 border-gray-700 focus:ring-2 focus:ring-blue-500"}),e.jsx("span",{className:"text-gray-300",children:"Base event photography"})]}),e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"photography_type",value:"professional",checked:t.photography_type==="professional",onChange:s,className:"w-4 h-4 text-blue-600 bg-dark-800 border-gray-700 focus:ring-2 focus:ring-blue-500"}),e.jsx("span",{className:"text-gray-300",children:"Professional event photography"})]})]})]}),t.photography_type!=="none"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Photo Count"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("input",{type:"number",name:"photo_count",value:t.photo_count,onChange:s,placeholder:"Min",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("span",{className:"text-xs text-gray-500 mt-1 block",children:"Min"})]}),e.jsxs("div",{children:[e.jsx("input",{type:"number",name:"photo_count_max",value:t.photo_count_max,onChange:s,placeholder:"Max (optional)",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("span",{className:"text-xs text-gray-500 mt-1 block",children:"Max (optional)"})]})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"livestream_included",name:"livestream_included",checked:t.livestream_included,onChange:s,className:"w-4 h-4 text-blue-600 bg-dark-800 border-gray-700 rounded focus:ring-2 focus:ring-blue-500"}),e.jsx("label",{htmlFor:"livestream_included",className:"ml-2 text-sm font-medium text-gray-300",children:"Livestream Included"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"ppv_included",name:"ppv_included",checked:t.ppv_included,onChange:s,className:"w-4 h-4 text-blue-600 bg-dark-800 border-gray-700 rounded focus:ring-2 focus:ring-blue-500"}),e.jsx("label",{htmlFor:"ppv_included",className:"ml-2 text-sm font-medium text-gray-300",children:"PPV Included"})]}),t.ppv_included&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"PPV Platform"}),e.jsx("input",{type:"text",name:"ppv_platform",value:t.ppv_platform,onChange:s,placeholder:"e.g., Vimeo, YouTube Live",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"PPV Pricing Type"}),e.jsxs("div",{className:"flex gap-4 mb-3",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"ppv_price_type",value:"fixed",checked:t.ppv_price_type==="fixed",onChange:s,className:"text-orange-500 focus:ring-orange-500"}),e.jsx("span",{className:"text-gray-300",children:"Fixed Price"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"ppv_price_type",value:"range",checked:t.ppv_price_type==="range",onChange:s,className:"text-orange-500 focus:ring-orange-500"}),e.jsx("span",{className:"text-gray-300",children:"Price Range"})]})]}),t.ppv_price_type==="fixed"?e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"PPV Price per Viewer"}),e.jsx("input",{type:"number",name:"ppv_price",value:t.ppv_price,onChange:s,placeholder:"e.g., 25.00",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}):e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Minimum Price"}),e.jsx("input",{type:"number",name:"ppv_price",value:t.ppv_price,onChange:s,placeholder:"e.g., 25.00",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Maximum Price"}),e.jsx("input",{type:"number",name:"ppv_price_max",value:t.ppv_price_max,onChange:s,placeholder:"e.g., 35.00",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]})]})]}),o===4&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Step 4: Financial Terms"}),t.ppv_included&&e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"text-lg font-bold text-white mt-6",children:"PPV Revenue Split"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"FFM PPV Share (%)"}),e.jsx("input",{type:"number",name:"ppv_ffm_split",value:t.ppv_ffm_split,onChange:s,placeholder:"e.g., 70",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Client PPV Share (%)"}),e.jsx("input",{type:"number",name:"ppv_client_split",value:t.ppv_client_split,onChange:s,placeholder:"e.g., 30",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"PPV Payment Within (Days)"}),e.jsx("input",{type:"number",name:"ppv_payment_days",value:t.ppv_payment_days,onChange:s,placeholder:"e.g., 21",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-bold text-white",children:"Athlete Media Packages"}),e.jsx("button",{type:"button",onClick:Q,className:"px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white rounded text-sm transition-colors",children:"+ Add Package"})]}),u.length===0&&e.jsx("p",{className:"text-gray-400 text-sm mb-4",children:'No packages added. Click "+ Add Package" to create athlete media packages.'}),u.map((r,a)=>e.jsxs("div",{className:"bg-dark-800 p-4 rounded-lg mb-4 border border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-400",children:["Package ",a+1]}),e.jsx("button",{type:"button",onClick:()=>K(a),className:"text-red-500 hover:text-red-400 text-sm",children:"Remove"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Package Name"}),e.jsx("input",{type:"text",value:r.name,onChange:n=>D(a,"name",n.target.value),placeholder:"e.g., VIP Coverage",className:"w-full px-3 py-2 bg-dark-700 border border-gray-600 rounded text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Price ($)"}),e.jsx("input",{type:"number",value:r.price,onChange:n=>D(a,"price",n.target.value),placeholder:"e.g., 350",className:"w-full px-3 py-2 bg-dark-700 border border-gray-600 rounded text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Description (what's included)"}),e.jsx("textarea",{value:r.description,onChange:n=>D(a,"description",n.target.value),placeholder:"Describe what this package includes...",rows:2,className:"w-full px-3 py-2 bg-dark-700 border border-gray-600 rounded text-white focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none"})]})]},a))]}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-bold text-white",children:"Client Add-Ons"}),e.jsx("button",{type:"button",onClick:Z,className:"px-3 py-1 bg-green-600 hover:bg-green-700 text-white rounded text-sm transition-colors",children:"+ Add Add-On"})]}),e.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Optional services or packages the client has opted into for this event."}),m.length===0&&e.jsx("p",{className:"text-gray-500 text-sm italic mb-4",children:'No add-ons added. Click "+ Add Add-On" to include optional services.'}),m.map((r,a)=>e.jsxs("div",{className:"bg-dark-800 p-4 rounded-lg mb-4 border border-green-900",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("span",{className:"text-sm font-medium text-green-400",children:["Add-On ",a+1]}),e.jsx("button",{type:"button",onClick:()=>ee(a),className:"text-red-500 hover:text-red-400 text-sm",children:"Remove"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Add-On Name"}),e.jsx("input",{type:"text",value:r.name,onChange:n=>A(a,"name",n.target.value),placeholder:"e.g., Additional Camera Operator",className:"w-full px-3 py-2 bg-dark-700 border border-gray-600 rounded text-white focus:outline-none focus:ring-2 focus:ring-green-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Price ($)"}),e.jsx("input",{type:"number",value:r.price,onChange:n=>A(a,"price",n.target.value),placeholder:"e.g., 500",className:"w-full px-3 py-2 bg-dark-700 border border-gray-600 rounded text-white focus:outline-none focus:ring-2 focus:ring-green-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Description"}),e.jsx("textarea",{value:r.description,onChange:n=>A(a,"description",n.target.value),placeholder:"Describe what this add-on includes...",rows:2,className:"w-full px-3 py-2 bg-dark-700 border border-gray-600 rounded text-white focus:outline-none focus:ring-2 focus:ring-green-500 resize-none"})]})]},a))]}),e.jsx("h3",{className:"text-lg font-bold text-white mt-6",children:"Athlete Revenue Split"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"athlete_revenue_ffm_100",name:"athlete_revenue_ffm_100",checked:t.athlete_revenue_ffm_100,onChange:s,className:"w-4 h-4 text-blue-600 bg-dark-800 border-gray-700 rounded focus:ring-2 focus:ring-blue-500"}),e.jsx("label",{htmlFor:"athlete_revenue_ffm_100",className:"ml-2 text-sm font-medium text-gray-300",children:"FFM Retains 100% of Athlete Media Package Sales"})]}),!t.athlete_revenue_ffm_100&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"FFM Athlete Revenue Share (%)"}),e.jsx("input",{type:"number",name:"athlete_ffm_split",value:t.athlete_ffm_split,onChange:s,placeholder:"e.g., 80",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Client Athlete Revenue Share (%)"}),e.jsx("input",{type:"number",name:"athlete_client_split",value:t.athlete_client_split,onChange:s,placeholder:"e.g., 20",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),o===5&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Step 5: Terms & Conditions"}),e.jsx("h3",{className:"text-lg font-bold text-white",children:"Access & Logistics"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Setup Hours Before Event"}),e.jsx("input",{type:"number",name:"setup_hours",value:t.setup_hours,onChange:s,placeholder:"e.g., 2",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Internet Upload Speed (Mbps)"}),e.jsx("input",{type:"text",name:"internet_speed",value:t.internet_speed,onChange:s,placeholder:"e.g., 50",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Event Schedule Provided (Hours Before)"}),e.jsx("input",{type:"number",name:"schedule_hours_before",value:t.schedule_hours_before,onChange:s,placeholder:"e.g., 48",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Athlete List Provided (Days Before)"}),e.jsx("input",{type:"number",name:"athlete_list_days_before",value:t.athlete_list_days_before,onChange:s,placeholder:"e.g., 7",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsx("h3",{className:"text-lg font-bold text-white mt-6",children:"Cancellation & Term"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Cancellation Fee"}),e.jsx("input",{type:"number",name:"cancellation_fee",value:t.cancellation_fee,onChange:s,placeholder:"e.g., 500",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Initial Term (Months)"}),e.jsx("input",{type:"number",name:"initial_term_months",value:t.initial_term_months,onChange:s,placeholder:"e.g., 12",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Auto-Renewal Period (Months)"}),e.jsx("input",{type:"number",name:"renewal_period_months",value:t.renewal_period_months,onChange:s,placeholder:"e.g., 12",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Non-Renewal Notice (Days)"}),e.jsx("input",{type:"number",name:"nonrenewal_notice_days",value:t.nonrenewal_notice_days,onChange:s,placeholder:"e.g., 60",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Termination Notice (Days)"}),e.jsx("input",{type:"number",name:"termination_notice_days",value:t.termination_notice_days,onChange:s,placeholder:"e.g., 30",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Remedy Period (Days)"}),e.jsx("input",{type:"number",name:"remedy_period_days",value:t.remedy_period_days,onChange:s,placeholder:"e.g., 14",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Public Liability Insurance Amount"}),e.jsx("input",{type:"number",name:"pli_amount",value:t.pli_amount,onChange:s,placeholder:"e.g., 20000000",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-white",children:"Custom Contract Notes"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Add event-specific details like geo-blocking, special requirements, or custom terms."})]}),e.jsx("button",{type:"button",onClick:te,className:"px-3 py-1 bg-purple-600 hover:bg-purple-700 text-white rounded text-sm transition-colors",children:"+ Add Note"})]}),g.length===0&&e.jsx("p",{className:"text-gray-500 text-sm italic mb-4",children:'No custom notes added. Click "+ Add Note" to include event-specific details.'}),g.map((r,a)=>e.jsxs("div",{className:"bg-dark-800 p-4 rounded-lg mb-4 border border-purple-900",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("span",{className:"text-sm font-medium text-purple-400",children:["Custom Note ",a+1]}),e.jsx("button",{type:"button",onClick:()=>ae(a),className:"text-red-500 hover:text-red-400 text-sm",children:"Remove"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Note Title"}),e.jsx("input",{type:"text",value:r.title,onChange:n=>L(a,"title",n.target.value),placeholder:"e.g., Geo-Blocking Requirements, Special Access, etc.",className:"w-full px-3 py-2 bg-dark-700 border border-gray-600 rounded text-white focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Note Content"}),e.jsx("textarea",{value:r.content,onChange:n=>L(a,"content",n.target.value),placeholder:"Enter the details for this custom note...",rows:3,className:"w-full px-3 py-2 bg-dark-700 border border-gray-600 rounded text-white focus:outline-none focus:ring-2 focus:ring-purple-500 resize-none"})]})]},a))]})]}),o===6&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-white mb-4",children:["Step 6: ",i?"Review & Save":"Sign Contract"]}),i&&p?.ffm_signature&&e.jsxs("div",{className:"bg-green-900/20 border border-green-600 rounded-lg p-4 mb-4",children:[e.jsx("p",{className:"text-green-200 text-sm mb-3",children:"âœ… This contract already has an FFM signature. You can update the contract details without re-signing, or provide a new signature below if needed."}),e.jsx("div",{className:"bg-white p-2 rounded inline-block",children:e.jsx("img",{src:p.ffm_signature,alt:"Existing FFM Signature",className:"max-h-24"})}),e.jsxs("p",{className:"text-green-300 text-xs mt-2",children:["Signed: ",new Date(p.ffm_signed_at).toLocaleString()]})]}),e.jsx("div",{className:"bg-yellow-900/20 border border-yellow-600 rounded-lg p-4",children:e.jsx("p",{className:"text-yellow-200 text-sm",children:i?"âš ï¸ Review your changes. If you want to update the signature, draw a new one below and check the confirmation box.":"âš ï¸ By signing this contract, you confirm that all information provided is accurate and you are authorized to create this agreement on behalf of Fit Focus Media."})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:i?"New FFM Signature (optional)":"FFM Signature"}),e.jsx(he,{onSignatureChange:r=>J(r)})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"confirmSignature",checked:S,onChange:r=>U(r.target.checked),className:"w-4 h-4 text-blue-600 bg-dark-800 border-gray-700 rounded focus:ring-2 focus:ring-blue-500"}),e.jsx("label",{htmlFor:"confirmSignature",className:"ml-2 text-sm font-medium text-gray-300",children:i?"I want to update the signature with the new one above":"I confirm this is my signature and I am authorized to sign this contract"})]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-8 pt-6 border-t border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[o>1&&e.jsx("button",{type:"button",onClick:ne,className:"px-6 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:"â† Previous"}),e.jsx("button",{type:"button",onClick:ie,disabled:M,className:"px-4 py-2 bg-yellow-600 hover:bg-yellow-700 disabled:bg-yellow-800 text-white rounded-lg transition-colors flex items-center gap-2",children:M?e.jsx(e.Fragment,{children:"ğŸ’¾ Saving..."}):e.jsx(e.Fragment,{children:"ğŸ’¾ Save Draft"})}),R&&e.jsxs("span",{className:"text-xs text-gray-500",children:["Saved ",R.toLocaleTimeString()]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[o<b&&e.jsx("button",{type:"button",onClick:se,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"Next â†’"}),o===b&&e.jsx("button",{type:"submit",disabled:E,className:"px-6 py-2 bg-green-600 hover:bg-green-700 disabled:bg-green-800 text-white rounded-lg transition-colors",children:E?i?"Updating Contract...":"Creating Contract...":i?"Update Contract":"Sign & Send Contract"})]})]})]})]}),C&&e.jsx("div",{className:"lg:sticky lg:top-8 lg:h-[calc(100vh-4rem)]",children:e.jsxs("div",{className:"bg-dark-900 rounded-lg p-6 border border-gray-800 overflow-y-auto h-full",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Live Preview"}),e.jsx("div",{className:"text-sm",dangerouslySetInnerHTML:{__html:xe(ce)}})]})})]})]})}export{je as default};
