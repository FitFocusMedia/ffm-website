import{v as M,a as i,j as e,L as H}from"./vendor-react-CBAhgyLg.js";import{N as Y}from"./app-livestream-Bf1YYS1I.js";import"./vendor-misc-BT9kFnKO.js";import"./feature-video-BYMX8jmn.js";import"./feature-maps-CF1gGmr7.js";import"./vendor-supabase-CIrp0PiG.js";const y=[{id:"nba-sydney-nationals-day1-2026",name:"NBA Sydney Nationals Day 1",date:"2026-02-07"},{id:"nba-sydney-nationals-day2-2026",name:"NBA Sydney Nationals Day 2",date:"2026-02-08"}],V=["Bikini","Wellness","Figure","Physique","Bodybuilding","Classic Physique","Sports Model","Fitness Model","Transformation","First Timers","Masters","Other"],q=[{id:"iwalk",name:"I-Walk Video",price:250,description:"Your complete walk-on stage moment"},{id:"highlight",name:"Highlight Reel",price:500,description:"Fully edited cinematic highlight"},{id:"combo",name:"Combo Pack",price:700,description:"I-Walk + Highlight Reel",savings:50}],G=(o,r)=>o<=1?{total:r,savings:0}:o===2?{total:r*2-50,savings:50}:{total:r*o-100,savings:100},ee=()=>{const[o]=M(),[r,j]=i.useState(1),[$,D]=i.useState(!1),[R,N]=i.useState(!1);i.useEffect(()=>{o.get("success")==="true"&&(D(!0),window.history.replaceState({},"",window.location.pathname)),o.get("canceled")==="true"&&(N(!0),window.history.replaceState({},"",window.location.pathname))},[o]);const[a,g]=i.useState({selectedPackage:null,selectedEvents:[],firstName:"",lastName:"",email:"",phone:"",divisions:[],instagram:"",coachName:"",coachInstagram:"",referenceImage:null,referenceImagePreview:null}),[v,w]=i.useState(!1),m=i.useRef(null),u=i.useRef(null),[k,h]=i.useState(!1),[P,x]=i.useState(!1),[C,S]=i.useState(null),[c,p]=i.useState(null);i.useEffect(()=>{c&&m.current&&(m.current.srcObject=c,m.current.play().then(()=>x(!1)).catch(()=>x(!1)))},[c,k]),i.useEffect(()=>()=>{c&&c.getTracks().forEach(s=>s.stop())},[c]);const d=a.selectedPackage?G(a.selectedEvents.length,a.selectedPackage.price):{total:0,savings:0},l=(s,t)=>{g(n=>({...n,[s]:t}))},A=s=>{g(t=>({...t,selectedEvents:t.selectedEvents.includes(s)?t.selectedEvents.filter(n=>n!==s):[...t.selectedEvents,s]}))},L=s=>{g(t=>({...t,divisions:t.divisions.includes(s)?t.divisions.filter(n=>n!==s):[...t.divisions,s]}))},T=async()=>{try{S(null),x(!0),h(!0);const s=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user",width:{ideal:640},height:{ideal:480}}});p(s)}catch(s){console.error("Camera error:",s),h(!1),x(!1),S("Unable to access camera. Please upload a photo instead.")}},_=()=>{if(m.current&&u.current){const s=m.current,t=u.current;t.width=s.videoWidth,t.height=s.videoHeight,t.getContext("2d").drawImage(s,0,0);const n=t.toDataURL("image/jpeg",.8);l("referenceImage",n),l("referenceImagePreview",n),c&&(c.getTracks().forEach(f=>f.stop()),p(null)),h(!1)}},F=s=>{const t=s.target.files[0];if(t){const n=new FileReader;n.onloadend=()=>{l("referenceImage",n.result),l("referenceImagePreview",n.result)},n.readAsDataURL(t)}},O=async()=>{w(!0);try{const s=a.selectedEvents.map(W=>y.find(B=>B.id===W)?.name).join(", "),t=await Y({first_name:a.firstName,last_name:a.lastName,email:a.email,phone:a.phone,divisions:a.divisions,instagram:a.instagram,coach_name:a.coachName,coach_instagram:a.coachInstagram,show_name:s,reference_image_url:a.referenceImage,package_type:a.selectedPackage.id,amount_paid:d.total,order_status:"pending"}),f=await fetch("https://scarlet-sales-api-vercel.vercel.app/api/create-checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({packageId:a.selectedPackage.id,showCount:a.selectedEvents.length,showNames:s,customerEmail:a.email,customerName:`${a.firstName} ${a.lastName}`,metadata:{orderId:t.id,instagram:a.instagram,divisions:a.divisions.join(", "),coachName:a.coachName,coachInstagram:a.coachInstagram}})}),{url:U,error:E}=await f.json();if(E)throw new Error(E);window.location.href=U}catch(s){console.error("Order error:",s),alert("Error creating order. Please try again."),w(!1)}},I=()=>{switch(r){case 1:return a.selectedPackage&&a.selectedEvents.length>0;case 2:return a.firstName&&a.lastName&&a.email&&a.phone&&a.divisions.length>0&&a.instagram&&a.coachName&&a.coachInstagram;case 3:return a.referenceImage;default:return!0}};if($)return e.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center p-4 pt-24",children:e.jsxs("div",{className:"bg-dark-900 rounded-2xl p-8 max-w-md w-full text-center border border-gray-800",children:[e.jsx("div",{className:"w-20 h-20 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx("svg",{className:"w-10 h-10 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),e.jsx("h2",{className:"text-3xl font-bold text-white mb-3",children:"Payment Successful!"}),e.jsx("p",{className:"text-gray-400 mb-6",children:"Thanks for your order! We'll find your footage and start editing. You'll receive a confirmation email shortly."}),e.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"Delivery: 5-7 business days"}),e.jsx(H,{to:"/",className:"inline-block px-8 py-3 bg-primary-600 text-white rounded-lg font-medium hover:bg-primary-700",children:"Back to Home"})]})});if(R)return e.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center p-4 pt-24",children:e.jsxs("div",{className:"bg-dark-900 rounded-2xl p-8 max-w-md w-full text-center border border-gray-800",children:[e.jsx("div",{className:"w-20 h-20 bg-yellow-500/20 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx("span",{className:"text-4xl",children:"âš ï¸"})}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-3",children:"Payment Canceled"}),e.jsx("p",{className:"text-gray-400 mb-6",children:"No worries â€” your order wasn't charged. You can try again whenever you're ready."}),e.jsx("button",{onClick:()=>N(!1),className:"px-8 py-3 bg-primary-600 text-white rounded-lg font-medium hover:bg-primary-700",children:"Try Again"})]})});const b=["Package & Shows","Your Info","Photo","Checkout"];return e.jsxs("div",{className:"min-h-screen bg-dark-950 pt-24 pb-12",children:[e.jsxs("div",{className:"max-w-4xl mx-auto px-4 mb-8 text-center",children:[e.jsx("div",{className:"inline-block mb-4 px-4 py-2 bg-primary-600/10 border border-primary-500/30 rounded-full text-primary-400 text-sm font-medium",children:"NBA Sydney Nationals 2026 â€” Pre-Order Your Footage"}),e.jsxs("h1",{className:"text-4xl md:text-5xl font-black text-white mb-4",children:["Athlete ",e.jsx("span",{className:"text-gradient",children:"Content Order"})]}),e.jsx("p",{className:"text-gray-400 text-lg max-w-2xl mx-auto",children:"Professional multi-angle coverage, cinematic editing, ready for social media."})]}),e.jsxs("div",{className:"max-w-lg mx-auto px-4 mb-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:b.map((s,t)=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold ${r>t+1?"bg-green-500 text-white":r===t+1?"bg-primary-600 text-white":"bg-dark-800 text-gray-500"}`,children:r>t+1?"âœ“":t+1}),t<b.length-1&&e.jsx("div",{className:`w-8 sm:w-16 h-0.5 mx-1 ${r>t+1?"bg-green-500":"bg-dark-800"}`})]},t))}),e.jsx("div",{className:"flex justify-between mt-2 text-xs text-gray-500",children:b.map((s,t)=>e.jsx("span",{className:"text-center w-16",children:s},t))})]}),e.jsx("div",{className:"max-w-lg mx-auto px-4",children:e.jsxs("div",{className:"bg-dark-900 rounded-2xl p-6 border border-gray-800",children:[r===1&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Select Package & Shows"}),e.jsx("p",{className:"text-gray-400 text-sm mb-3",children:"Package Type"}),e.jsx("div",{className:"space-y-3 mb-6",children:q.map(s=>{const t=a.selectedPackage?.id===s.id;return e.jsx("button",{onClick:()=>l("selectedPackage",s),className:`w-full p-4 rounded-xl border-2 text-left transition-all ${t?"border-primary-500 bg-primary-600/10":"border-gray-800 hover:border-gray-700"}`,children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:s.name}),e.jsx("p",{className:"text-sm text-gray-500",children:s.description}),s.savings&&e.jsxs("span",{className:"text-xs text-green-400",children:["Save $",s.savings]})]}),e.jsxs("p",{className:"text-xl font-bold text-white",children:["$",s.price]})]})},s.id)})}),e.jsx("p",{className:"text-gray-400 text-sm mb-3",children:"Which shows did you compete in?"}),e.jsx("div",{className:"space-y-3 mb-6",children:y.map(s=>{const t=a.selectedEvents.includes(s.id);return e.jsx("button",{onClick:()=>A(s.id),className:`w-full p-4 rounded-xl border-2 text-left transition-all ${t?"border-primary-500 bg-primary-600/10":"border-gray-800 hover:border-gray-700"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:s.name}),e.jsx("p",{className:"text-sm text-gray-500",children:s.date})]}),e.jsx("div",{className:`w-6 h-6 rounded border-2 flex items-center justify-center ${t?"border-primary-500 bg-primary-600":"border-gray-600"}`,children:t&&e.jsx("span",{className:"text-white text-xs",children:"âœ“"})})]})},s.id)})}),a.selectedPackage&&a.selectedEvents.length>0&&e.jsx("div",{className:"bg-dark-800/50 rounded-xl p-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-white font-medium",children:[a.selectedPackage.name," Ã— ",a.selectedEvents.length," show",a.selectedEvents.length>1?"s":""]}),d.savings>0&&e.jsxs("p",{className:"text-green-400 text-sm",children:["Multi-show discount: Save $",d.savings,"!"]})]}),e.jsxs("p",{className:"text-2xl font-bold text-white",children:["$",d.total]})]})})]}),r===2&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Your Details"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"First Name *"}),e.jsx("input",{type:"text",value:a.firstName,onChange:s=>l("firstName",s.target.value),className:"w-full px-4 py-3 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Last Name *"}),e.jsx("input",{type:"text",value:a.lastName,onChange:s=>l("lastName",s.target.value),className:"w-full px-4 py-3 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Email *"}),e.jsx("input",{type:"email",value:a.email,onChange:s=>l("email",s.target.value),className:"w-full px-4 py-3 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Phone *"}),e.jsx("input",{type:"tel",value:a.phone,onChange:s=>l("phone",s.target.value),placeholder:"0412 345 678",className:"w-full px-4 py-3 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Instagram Handle *"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",children:"@"}),e.jsx("input",{type:"text",value:a.instagram,onChange:s=>l("instagram",s.target.value.replace("@","")),placeholder:"yourhandle",className:"w-full pl-8 pr-4 py-3 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary-500"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Coach's Name *"}),e.jsx("input",{type:"text",value:a.coachName,onChange:s=>l("coachName",s.target.value),placeholder:"Coach name",className:"w-full px-4 py-3 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Coach's Instagram *"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",children:"@"}),e.jsx("input",{type:"text",value:a.coachInstagram,onChange:s=>l("coachInstagram",s.target.value.replace("@","")),placeholder:"coachhandle",className:"w-full pl-8 pr-4 py-3 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary-500"})]})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm text-gray-400 mb-2",children:["Divisions * ",e.jsx("span",{className:"text-gray-600",children:"(select all that apply)"})]}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:V.map(s=>{const t=a.divisions.includes(s);return e.jsxs("button",{type:"button",onClick:()=>L(s),className:`px-3 py-2 rounded-lg text-sm text-left transition-all ${t?"bg-primary-600/20 border-2 border-primary-500 text-white":"bg-dark-800 border-2 border-gray-700 text-gray-400 hover:border-gray-600"}`,children:[t&&e.jsx("span",{className:"mr-1",children:"âœ“"}),s]},s)})})]})]}),r===3&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Reference Photo"}),e.jsx("p",{className:"text-gray-500 mb-6",children:"We use AI to find you in the footage"}),a.referenceImagePreview?e.jsxs("div",{className:"text-center",children:[e.jsx("img",{src:a.referenceImagePreview,alt:"Reference",className:"w-40 h-40 object-cover rounded-xl mx-auto border-2 border-primary-500 mb-4"}),e.jsx("button",{onClick:()=>{l("referenceImage",null),l("referenceImagePreview",null)},className:"text-primary-400 text-sm",children:"Choose different photo"})]}):e.jsx("div",{className:"space-y-4",children:k?e.jsxs("div",{className:"text-center",children:[P&&e.jsx("div",{className:"w-full max-w-xs mx-auto h-60 rounded-xl border border-gray-700 bg-dark-800 flex items-center justify-center mb-4",children:e.jsx("span",{className:"text-gray-400",children:"Loading camera..."})}),e.jsx("video",{ref:m,autoPlay:!0,playsInline:!0,muted:!0,style:{width:"100%",maxWidth:"320px",height:"auto",minHeight:"240px",display:P?"none":"block"},className:"mx-auto rounded-xl border border-gray-700 bg-dark-800"}),e.jsx("canvas",{ref:u,className:"hidden"}),e.jsxs("div",{className:"flex gap-3 justify-center mt-4",children:[e.jsx("button",{onClick:()=>{c&&(c.getTracks().forEach(s=>s.stop()),p(null)),h(!1),x(!1)},className:"px-6 py-3 bg-gray-700 text-white rounded-lg font-medium",children:"Cancel"}),e.jsx("button",{onClick:_,className:"px-8 py-3 bg-primary-600 text-white rounded-lg font-medium",children:"ðŸ“¸ Capture"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:T,className:"w-full py-8 bg-dark-800 border-2 border-dashed border-gray-700 rounded-xl text-gray-400 hover:border-primary-500 hover:text-white transition-colors flex flex-col items-center gap-2",children:[e.jsx("span",{className:"text-4xl",children:"ðŸ“·"}),e.jsx("span",{children:"Take a Selfie"})]}),C&&e.jsx("p",{className:"text-red-400 text-sm text-center",children:C}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex-1 h-px bg-dark-800"}),e.jsx("span",{className:"text-gray-600 text-sm",children:"or"}),e.jsx("div",{className:"flex-1 h-px bg-dark-800"})]}),e.jsxs("label",{className:"block w-full py-8 bg-dark-800 border-2 border-dashed border-gray-700 rounded-xl text-gray-400 hover:border-primary-500 hover:text-white transition-colors text-center cursor-pointer",children:[e.jsx("span",{className:"text-4xl block mb-2",children:"ðŸ“"}),e.jsx("span",{children:"Upload Photo"}),e.jsx("input",{type:"file",accept:"image/*",onChange:F,className:"hidden"})]})]})})]}),r===4&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Confirm Order"}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{className:"bg-dark-800/50 rounded-xl p-4",children:[e.jsx("p",{className:"text-gray-500 text-sm mb-2",children:"Package"}),e.jsx("p",{className:"text-white font-semibold",children:a.selectedPackage?.name}),e.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Shows:"}),a.selectedEvents.map(s=>e.jsxs("p",{className:"text-white text-sm",children:["â€¢ ",y.find(t=>t.id===s)?.name]},s))]}),e.jsxs("div",{className:"bg-dark-800/50 rounded-xl p-4 space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Name"}),e.jsxs("span",{className:"text-white",children:[a.firstName," ",a.lastName]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Email"}),e.jsx("span",{className:"text-white text-sm",children:a.email})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Phone"}),e.jsx("span",{className:"text-white",children:a.phone})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Instagram"}),e.jsxs("span",{className:"text-white",children:["@",a.instagram]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Divisions"}),e.jsx("span",{className:"text-white text-right text-sm",children:a.divisions.join(", ")})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Coach"}),e.jsxs("span",{className:"text-white",children:[a.coachName," (@",a.coachInstagram,")"]})]})]}),a.referenceImagePreview&&e.jsxs("div",{className:"flex items-center gap-4 bg-dark-800/50 rounded-xl p-4",children:[e.jsx("img",{src:a.referenceImagePreview,alt:"Reference",className:"w-12 h-12 object-cover rounded-lg"}),e.jsx("span",{className:"text-gray-400 text-sm",children:"Reference photo âœ“"})]})]}),e.jsx("div",{className:"bg-primary-600/10 border border-primary-500/30 rounded-xl p-4 mb-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-white font-semibold",children:[a.selectedPackage?.name," Ã— ",a.selectedEvents.length]}),d.savings>0&&e.jsxs("p",{className:"text-green-400 text-sm",children:["Saving $",d.savings]})]}),e.jsxs("p",{className:"text-3xl font-bold text-white",children:["$",d.total]})]})})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[r>1&&e.jsx("button",{onClick:()=>j(r-1),className:"flex-1 py-3 bg-dark-800 text-white rounded-lg font-medium hover:bg-dark-700",children:"Back"}),r<4?e.jsx("button",{onClick:()=>j(r+1),disabled:!I(),className:`flex-1 py-3 rounded-lg font-medium ${I()?"bg-primary-600 text-white hover:bg-primary-700":"bg-dark-800 text-gray-600 cursor-not-allowed"}`,children:"Continue"}):e.jsx("button",{onClick:O,disabled:v,className:"flex-1 py-4 bg-green-500 text-white rounded-lg font-bold hover:bg-green-600 disabled:opacity-50 text-lg",children:v?"Processing...":`Pay $${d.total} AUD`})]})]})})]})};export{ee as default};
