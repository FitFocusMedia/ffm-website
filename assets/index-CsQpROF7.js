function Rle(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var E1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Yf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var xk={exports:{}},_1={};var M6;function Dle(){if(M6)return _1;M6=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,i,s){var a=null;if(s!==void 0&&(a=""+s),i.key!==void 0&&(a=""+i.key),"key"in i){s={};for(var c in i)c!=="key"&&(s[c]=i[c])}else s=i;return i=s.ref,{$$typeof:t,type:n,key:a,ref:i!==void 0?i:null,props:s}}return _1.Fragment=e,_1.jsx=r,_1.jsxs=r,_1}var F6;function Mle(){return F6||(F6=1,xk.exports=Dle()),xk.exports}var o=Mle(),bk={exports:{}},zs={};var U6;function Fle(){if(U6)return zs;U6=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),l=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),A=Symbol.iterator;function p(we){return we===null||typeof we!="object"?null:(we=A&&we[A]||we["@@iterator"],typeof we=="function"?we:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,x={};function w(we,ue,ye){this.props=we,this.context=ue,this.refs=x,this.updater=ye||v}w.prototype.isReactComponent={},w.prototype.setState=function(we,ue){if(typeof we!="object"&&typeof we!="function"&&we!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,we,ue,"setState")},w.prototype.forceUpdate=function(we){this.updater.enqueueForceUpdate(this,we,"forceUpdate")};function E(){}E.prototype=w.prototype;function T(we,ue,ye){this.props=we,this.context=ue,this.refs=x,this.updater=ye||v}var C=T.prototype=new E;C.constructor=T,y(C,w.prototype),C.isPureReactComponent=!0;var j=Array.isArray;function P(){}var U={H:null,A:null,T:null,S:null},W=Object.prototype.hasOwnProperty;function q(we,ue,ye){var Le=ye.ref;return{$$typeof:t,type:we,key:ue,ref:Le!==void 0?Le:null,props:ye}}function re(we,ue){return q(we.type,ue,we.props)}function ie(we){return typeof we=="object"&&we!==null&&we.$$typeof===t}function Ae(we){var ue={"=":"=0",":":"=2"};return"$"+we.replace(/[=:]/g,function(ye){return ue[ye]})}var be=/\/+/g;function Ee(we,ue){return typeof we=="object"&&we!==null&&we.key!=null?Ae(""+we.key):ue.toString(36)}function ge(we){switch(we.status){case"fulfilled":return we.value;case"rejected":throw we.reason;default:switch(typeof we.status=="string"?we.then(P,P):(we.status="pending",we.then(function(ue){we.status==="pending"&&(we.status="fulfilled",we.value=ue)},function(ue){we.status==="pending"&&(we.status="rejected",we.reason=ue)})),we.status){case"fulfilled":return we.value;case"rejected":throw we.reason}}throw we}function se(we,ue,ye,Le,He){var Fe=typeof we;(Fe==="undefined"||Fe==="boolean")&&(we=null);var At=!1;if(we===null)At=!0;else switch(Fe){case"bigint":case"string":case"number":At=!0;break;case"object":switch(we.$$typeof){case t:case e:At=!0;break;case d:return At=we._init,se(At(we._payload),ue,ye,Le,He)}}if(At)return He=He(we),At=Le===""?"."+Ee(we,0):Le,j(He)?(ye="",At!=null&&(ye=At.replace(be,"$&/")+"/"),se(He,ue,ye,"",function(st){return st})):He!=null&&(ie(He)&&(He=re(He,ye+(He.key==null||we&&we.key===He.key?"":(""+He.key).replace(be,"$&/")+"/")+At)),ue.push(He)),1;At=0;var pt=Le===""?".":Le+":";if(j(we))for(var Pe=0;Pe<we.length;Pe++)Le=we[Pe],Fe=pt+Ee(Le,Pe),At+=se(Le,ue,ye,Fe,He);else if(Pe=p(we),typeof Pe=="function")for(we=Pe.call(we),Pe=0;!(Le=we.next()).done;)Le=Le.value,Fe=pt+Ee(Le,Pe++),At+=se(Le,ue,ye,Fe,He);else if(Fe==="object"){if(typeof we.then=="function")return se(ge(we),ue,ye,Le,He);throw ue=String(we),Error("Objects are not valid as a React child (found: "+(ue==="[object Object]"?"object with keys {"+Object.keys(we).join(", ")+"}":ue)+"). If you meant to render a collection of children, use an array instead.")}return At}function xe(we,ue,ye){if(we==null)return we;var Le=[],He=0;return se(we,Le,"","",function(Fe){return ue.call(ye,Fe,He++)}),Le}function ce(we){if(we._status===-1){var ue=we._result;ue=ue(),ue.then(function(ye){(we._status===0||we._status===-1)&&(we._status=1,we._result=ye)},function(ye){(we._status===0||we._status===-1)&&(we._status=2,we._result=ye)}),we._status===-1&&(we._status=0,we._result=ue)}if(we._status===1)return we._result.default;throw we._result}var Me=typeof reportError=="function"?reportError:function(we){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ue=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof we=="object"&&we!==null&&typeof we.message=="string"?String(we.message):String(we),error:we});if(!window.dispatchEvent(ue))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",we);return}console.error(we)},Oe={map:xe,forEach:function(we,ue,ye){xe(we,function(){ue.apply(this,arguments)},ye)},count:function(we){var ue=0;return xe(we,function(){ue++}),ue},toArray:function(we){return xe(we,function(ue){return ue})||[]},only:function(we){if(!ie(we))throw Error("React.Children.only expected to receive a single React element child.");return we}};return zs.Activity=f,zs.Children=Oe,zs.Component=w,zs.Fragment=r,zs.Profiler=i,zs.PureComponent=T,zs.StrictMode=n,zs.Suspense=u,zs.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=U,zs.__COMPILER_RUNTIME={__proto__:null,c:function(we){return U.H.useMemoCache(we)}},zs.cache=function(we){return function(){return we.apply(null,arguments)}},zs.cacheSignal=function(){return null},zs.cloneElement=function(we,ue,ye){if(we==null)throw Error("The argument must be a React element, but you passed "+we+".");var Le=y({},we.props),He=we.key;if(ue!=null)for(Fe in ue.key!==void 0&&(He=""+ue.key),ue)!W.call(ue,Fe)||Fe==="key"||Fe==="__self"||Fe==="__source"||Fe==="ref"&&ue.ref===void 0||(Le[Fe]=ue[Fe]);var Fe=arguments.length-2;if(Fe===1)Le.children=ye;else if(1<Fe){for(var At=Array(Fe),pt=0;pt<Fe;pt++)At[pt]=arguments[pt+2];Le.children=At}return q(we.type,He,Le)},zs.createContext=function(we){return we={$$typeof:a,_currentValue:we,_currentValue2:we,_threadCount:0,Provider:null,Consumer:null},we.Provider=we,we.Consumer={$$typeof:s,_context:we},we},zs.createElement=function(we,ue,ye){var Le,He={},Fe=null;if(ue!=null)for(Le in ue.key!==void 0&&(Fe=""+ue.key),ue)W.call(ue,Le)&&Le!=="key"&&Le!=="__self"&&Le!=="__source"&&(He[Le]=ue[Le]);var At=arguments.length-2;if(At===1)He.children=ye;else if(1<At){for(var pt=Array(At),Pe=0;Pe<At;Pe++)pt[Pe]=arguments[Pe+2];He.children=pt}if(we&&we.defaultProps)for(Le in At=we.defaultProps,At)He[Le]===void 0&&(He[Le]=At[Le]);return q(we,Fe,He)},zs.createRef=function(){return{current:null}},zs.forwardRef=function(we){return{$$typeof:c,render:we}},zs.isValidElement=ie,zs.lazy=function(we){return{$$typeof:d,_payload:{_status:-1,_result:we},_init:ce}},zs.memo=function(we,ue){return{$$typeof:l,type:we,compare:ue===void 0?null:ue}},zs.startTransition=function(we){var ue=U.T,ye={};U.T=ye;try{var Le=we(),He=U.S;He!==null&&He(ye,Le),typeof Le=="object"&&Le!==null&&typeof Le.then=="function"&&Le.then(P,Me)}catch(Fe){Me(Fe)}finally{ue!==null&&ye.types!==null&&(ue.types=ye.types),U.T=ue}},zs.unstable_useCacheRefresh=function(){return U.H.useCacheRefresh()},zs.use=function(we){return U.H.use(we)},zs.useActionState=function(we,ue,ye){return U.H.useActionState(we,ue,ye)},zs.useCallback=function(we,ue){return U.H.useCallback(we,ue)},zs.useContext=function(we){return U.H.useContext(we)},zs.useDebugValue=function(){},zs.useDeferredValue=function(we,ue){return U.H.useDeferredValue(we,ue)},zs.useEffect=function(we,ue){return U.H.useEffect(we,ue)},zs.useEffectEvent=function(we){return U.H.useEffectEvent(we)},zs.useId=function(){return U.H.useId()},zs.useImperativeHandle=function(we,ue,ye){return U.H.useImperativeHandle(we,ue,ye)},zs.useInsertionEffect=function(we,ue){return U.H.useInsertionEffect(we,ue)},zs.useLayoutEffect=function(we,ue){return U.H.useLayoutEffect(we,ue)},zs.useMemo=function(we,ue){return U.H.useMemo(we,ue)},zs.useOptimistic=function(we,ue){return U.H.useOptimistic(we,ue)},zs.useReducer=function(we,ue,ye){return U.H.useReducer(we,ue,ye)},zs.useRef=function(we){return U.H.useRef(we)},zs.useState=function(we){return U.H.useState(we)},zs.useSyncExternalStore=function(we,ue,ye){return U.H.useSyncExternalStore(we,ue,ye)},zs.useTransition=function(){return U.H.useTransition()},zs.version="19.2.4",zs}var $6;function Fb(){return $6||($6=1,bk.exports=Fle()),bk.exports}var k=Fb();const _o=Yf(k),Ule=Rle({__proto__:null,default:_o},[k]);var wk={exports:{}},S1={},Ek={exports:{}},_k={};var H6;function $le(){return H6||(H6=1,(function(t){function e(se,xe){var ce=se.length;se.push(xe);e:for(;0<ce;){var Me=ce-1>>>1,Oe=se[Me];if(0<i(Oe,xe))se[Me]=xe,se[ce]=Oe,ce=Me;else break e}}function r(se){return se.length===0?null:se[0]}function n(se){if(se.length===0)return null;var xe=se[0],ce=se.pop();if(ce!==xe){se[0]=ce;e:for(var Me=0,Oe=se.length,we=Oe>>>1;Me<we;){var ue=2*(Me+1)-1,ye=se[ue],Le=ue+1,He=se[Le];if(0>i(ye,ce))Le<Oe&&0>i(He,ye)?(se[Me]=He,se[Le]=ce,Me=Le):(se[Me]=ye,se[ue]=ce,Me=ue);else if(Le<Oe&&0>i(He,ce))se[Me]=He,se[Le]=ce,Me=Le;else break e}}return xe}function i(se,xe){var ce=se.sortIndex-xe.sortIndex;return ce!==0?ce:se.id-xe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var u=[],l=[],d=1,f=null,A=3,p=!1,v=!1,y=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function C(se){for(var xe=r(l);xe!==null;){if(xe.callback===null)n(l);else if(xe.startTime<=se)n(l),xe.sortIndex=xe.expirationTime,e(u,xe);else break;xe=r(l)}}function j(se){if(y=!1,C(se),!v)if(r(u)!==null)v=!0,P||(P=!0,Ae());else{var xe=r(l);xe!==null&&ge(j,xe.startTime-se)}}var P=!1,U=-1,W=5,q=-1;function re(){return x?!0:!(t.unstable_now()-q<W)}function ie(){if(x=!1,P){var se=t.unstable_now();q=se;var xe=!0;try{e:{v=!1,y&&(y=!1,E(U),U=-1),p=!0;var ce=A;try{t:{for(C(se),f=r(u);f!==null&&!(f.expirationTime>se&&re());){var Me=f.callback;if(typeof Me=="function"){f.callback=null,A=f.priorityLevel;var Oe=Me(f.expirationTime<=se);if(se=t.unstable_now(),typeof Oe=="function"){f.callback=Oe,C(se),xe=!0;break t}f===r(u)&&n(u),C(se)}else n(u);f=r(u)}if(f!==null)xe=!0;else{var we=r(l);we!==null&&ge(j,we.startTime-se),xe=!1}}break e}finally{f=null,A=ce,p=!1}xe=void 0}}finally{xe?Ae():P=!1}}}var Ae;if(typeof T=="function")Ae=function(){T(ie)};else if(typeof MessageChannel<"u"){var be=new MessageChannel,Ee=be.port2;be.port1.onmessage=ie,Ae=function(){Ee.postMessage(null)}}else Ae=function(){w(ie,0)};function ge(se,xe){U=w(function(){se(t.unstable_now())},xe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(se){se.callback=null},t.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<se?Math.floor(1e3/se):5},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_next=function(se){switch(A){case 1:case 2:case 3:var xe=3;break;default:xe=A}var ce=A;A=xe;try{return se()}finally{A=ce}},t.unstable_requestPaint=function(){x=!0},t.unstable_runWithPriority=function(se,xe){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var ce=A;A=se;try{return xe()}finally{A=ce}},t.unstable_scheduleCallback=function(se,xe,ce){var Me=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?Me+ce:Me):ce=Me,se){case 1:var Oe=-1;break;case 2:Oe=250;break;case 5:Oe=1073741823;break;case 4:Oe=1e4;break;default:Oe=5e3}return Oe=ce+Oe,se={id:d++,callback:xe,priorityLevel:se,startTime:ce,expirationTime:Oe,sortIndex:-1},ce>Me?(se.sortIndex=ce,e(l,se),r(u)===null&&se===r(l)&&(y?(E(U),U=-1):y=!0,ge(j,ce-Me))):(se.sortIndex=Oe,e(u,se),v||p||(v=!0,P||(P=!0,Ae()))),se},t.unstable_shouldYield=re,t.unstable_wrapCallback=function(se){var xe=A;return function(){var ce=A;A=xe;try{return se.apply(this,arguments)}finally{A=ce}}}})(_k)),_k}var Q6;function Hle(){return Q6||(Q6=1,Ek.exports=$le()),Ek.exports}var Sk={exports:{}},Wd={};var V6;function Qle(){if(V6)return Wd;V6=1;var t=Fb();function e(u){var l="https://react.dev/errors/"+u;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+u+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(u,l,d){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:f==null?null:""+f,children:u,containerInfo:l,implementation:d}}var a=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(u,l){if(u==="font")return"";if(typeof l=="string")return l==="use-credentials"?l:""}return Wd.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Wd.createPortal=function(u,l){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)throw Error(e(299));return s(u,l,null,d)},Wd.flushSync=function(u){var l=a.T,d=n.p;try{if(a.T=null,n.p=2,u)return u()}finally{a.T=l,n.p=d,n.d.f()}},Wd.preconnect=function(u,l){typeof u=="string"&&(l?(l=l.crossOrigin,l=typeof l=="string"?l==="use-credentials"?l:"":void 0):l=null,n.d.C(u,l))},Wd.prefetchDNS=function(u){typeof u=="string"&&n.d.D(u)},Wd.preinit=function(u,l){if(typeof u=="string"&&l&&typeof l.as=="string"){var d=l.as,f=c(d,l.crossOrigin),A=typeof l.integrity=="string"?l.integrity:void 0,p=typeof l.fetchPriority=="string"?l.fetchPriority:void 0;d==="style"?n.d.S(u,typeof l.precedence=="string"?l.precedence:void 0,{crossOrigin:f,integrity:A,fetchPriority:p}):d==="script"&&n.d.X(u,{crossOrigin:f,integrity:A,fetchPriority:p,nonce:typeof l.nonce=="string"?l.nonce:void 0})}},Wd.preinitModule=function(u,l){if(typeof u=="string")if(typeof l=="object"&&l!==null){if(l.as==null||l.as==="script"){var d=c(l.as,l.crossOrigin);n.d.M(u,{crossOrigin:d,integrity:typeof l.integrity=="string"?l.integrity:void 0,nonce:typeof l.nonce=="string"?l.nonce:void 0})}}else l==null&&n.d.M(u)},Wd.preload=function(u,l){if(typeof u=="string"&&typeof l=="object"&&l!==null&&typeof l.as=="string"){var d=l.as,f=c(d,l.crossOrigin);n.d.L(u,d,{crossOrigin:f,integrity:typeof l.integrity=="string"?l.integrity:void 0,nonce:typeof l.nonce=="string"?l.nonce:void 0,type:typeof l.type=="string"?l.type:void 0,fetchPriority:typeof l.fetchPriority=="string"?l.fetchPriority:void 0,referrerPolicy:typeof l.referrerPolicy=="string"?l.referrerPolicy:void 0,imageSrcSet:typeof l.imageSrcSet=="string"?l.imageSrcSet:void 0,imageSizes:typeof l.imageSizes=="string"?l.imageSizes:void 0,media:typeof l.media=="string"?l.media:void 0})}},Wd.preloadModule=function(u,l){if(typeof u=="string")if(l){var d=c(l.as,l.crossOrigin);n.d.m(u,{as:typeof l.as=="string"&&l.as!=="script"?l.as:void 0,crossOrigin:d,integrity:typeof l.integrity=="string"?l.integrity:void 0})}else n.d.m(u)},Wd.requestFormReset=function(u){n.d.r(u)},Wd.unstable_batchedUpdates=function(u,l){return u(l)},Wd.useFormState=function(u,l,d){return a.H.useFormState(u,l,d)},Wd.useFormStatus=function(){return a.H.useHostTransitionStatus()},Wd.version="19.2.4",Wd}var z6;function BW(){if(z6)return Sk.exports;z6=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Sk.exports=Qle(),Sk.exports}var K6;function Vle(){if(K6)return S1;K6=1;var t=Hle(),e=Fb(),r=BW();function n(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)m+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)}function s(h){var m=h,b=h;if(h.alternate)for(;m.return;)m=m.return;else{h=m;do m=h,(m.flags&4098)!==0&&(b=m.return),h=m.return;while(h)}return m.tag===3?b:null}function a(h){if(h.tag===13){var m=h.memoizedState;if(m===null&&(h=h.alternate,h!==null&&(m=h.memoizedState)),m!==null)return m.dehydrated}return null}function c(h){if(h.tag===31){var m=h.memoizedState;if(m===null&&(h=h.alternate,h!==null&&(m=h.memoizedState)),m!==null)return m.dehydrated}return null}function u(h){if(s(h)!==h)throw Error(n(188))}function l(h){var m=h.alternate;if(!m){if(m=s(h),m===null)throw Error(n(188));return m!==h?null:h}for(var b=h,S=m;;){var G=b.return;if(G===null)break;var Z=G.alternate;if(Z===null){if(S=G.return,S!==null){b=S;continue}break}if(G.child===Z.child){for(Z=G.child;Z;){if(Z===b)return u(G),h;if(Z===S)return u(G),m;Z=Z.sibling}throw Error(n(188))}if(b.return!==S.return)b=G,S=Z;else{for(var je=!1,Je=G.child;Je;){if(Je===b){je=!0,b=G,S=Z;break}if(Je===S){je=!0,S=G,b=Z;break}Je=Je.sibling}if(!je){for(Je=Z.child;Je;){if(Je===b){je=!0,b=Z,S=G;break}if(Je===S){je=!0,S=Z,b=G;break}Je=Je.sibling}if(!je)throw Error(n(189))}}if(b.alternate!==S)throw Error(n(190))}if(b.tag!==3)throw Error(n(188));return b.stateNode.current===b?h:m}function d(h){var m=h.tag;if(m===5||m===26||m===27||m===6)return h;for(h=h.child;h!==null;){if(m=d(h),m!==null)return m;h=h.sibling}return null}var f=Object.assign,A=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),re=Symbol.for("react.memo_cache_sentinel"),ie=Symbol.iterator;function Ae(h){return h===null||typeof h!="object"?null:(h=ie&&h[ie]||h["@@iterator"],typeof h=="function"?h:null)}var be=Symbol.for("react.client.reference");function Ee(h){if(h==null)return null;if(typeof h=="function")return h.$$typeof===be?null:h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case y:return"Fragment";case w:return"Profiler";case x:return"StrictMode";case j:return"Suspense";case P:return"SuspenseList";case q:return"Activity"}if(typeof h=="object")switch(h.$$typeof){case v:return"Portal";case T:return h.displayName||"Context";case E:return(h._context.displayName||"Context")+".Consumer";case C:var m=h.render;return h=h.displayName,h||(h=m.displayName||m.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case U:return m=h.displayName||null,m!==null?m:Ee(h.type)||"Memo";case W:m=h._payload,h=h._init;try{return Ee(h(m))}catch{}}return null}var ge=Array.isArray,se=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,xe=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},Me=[],Oe=-1;function we(h){return{current:h}}function ue(h){0>Oe||(h.current=Me[Oe],Me[Oe]=null,Oe--)}function ye(h,m){Oe++,Me[Oe]=h.current,h.current=m}var Le=we(null),He=we(null),Fe=we(null),At=we(null);function pt(h,m){switch(ye(Fe,m),ye(He,h),ye(Le,null),m.nodeType){case 9:case 11:h=(h=m.documentElement)&&(h=h.namespaceURI)?o6(h):0;break;default:if(h=m.tagName,m=m.namespaceURI)m=o6(m),h=l6(m,h);else switch(h){case"svg":h=1;break;case"math":h=2;break;default:h=0}}ue(Le),ye(Le,h)}function Pe(){ue(Le),ue(He),ue(Fe)}function st(h){h.memoizedState!==null&&ye(At,h);var m=Le.current,b=l6(m,h.type);m!==b&&(ye(He,h),ye(Le,b))}function et(h){He.current===h&&(ue(Le),ue(He)),At.current===h&&(ue(At),y1._currentValue=ce)}var We,gt;function Ge(h){if(We===void 0)try{throw Error()}catch(b){var m=b.stack.trim().match(/\n( *(at )?)/);We=m&&m[1]||"",gt=-1<b.stack.indexOf(`
    at`)?" (<anonymous>)":-1<b.stack.indexOf("@")?"@unknown:0:0":""}return`
`+We+h+gt}var Ct=!1;function Et(h,m){if(!h||Ct)return"";Ct=!0;var b=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var S={DetermineComponentFrameRoot:function(){try{if(m){var Wr=function(){throw Error()};if(Object.defineProperty(Wr.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Wr,[])}catch(Nr){var _r=Nr}Reflect.construct(h,[],Wr)}else{try{Wr.call()}catch(Nr){_r=Nr}h.call(Wr.prototype)}}else{try{throw Error()}catch(Nr){_r=Nr}(Wr=h())&&typeof Wr.catch=="function"&&Wr.catch(function(){})}}catch(Nr){if(Nr&&_r&&typeof Nr.stack=="string")return[Nr.stack,_r.stack]}return[null,null]}};S.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var G=Object.getOwnPropertyDescriptor(S.DetermineComponentFrameRoot,"name");G&&G.configurable&&Object.defineProperty(S.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var Z=S.DetermineComponentFrameRoot(),je=Z[0],Je=Z[1];if(je&&Je){var Lt=je.split(`
`),wr=Je.split(`
`);for(G=S=0;S<Lt.length&&!Lt[S].includes("DetermineComponentFrameRoot");)S++;for(;G<wr.length&&!wr[G].includes("DetermineComponentFrameRoot");)G++;if(S===Lt.length||G===wr.length)for(S=Lt.length-1,G=wr.length-1;1<=S&&0<=G&&Lt[S]!==wr[G];)G--;for(;1<=S&&0<=G;S--,G--)if(Lt[S]!==wr[G]){if(S!==1||G!==1)do if(S--,G--,0>G||Lt[S]!==wr[G]){var Ur=`
`+Lt[S].replace(" at new "," at ");return h.displayName&&Ur.includes("<anonymous>")&&(Ur=Ur.replace("<anonymous>",h.displayName)),Ur}while(1<=S&&0<=G);break}}}finally{Ct=!1,Error.prepareStackTrace=b}return(b=h?h.displayName||h.name:"")?Ge(b):""}function Ut(h,m){switch(h.tag){case 26:case 27:case 5:return Ge(h.type);case 16:return Ge("Lazy");case 13:return h.child!==m&&m!==null?Ge("Suspense Fallback"):Ge("Suspense");case 19:return Ge("SuspenseList");case 0:case 15:return Et(h.type,!1);case 11:return Et(h.type.render,!1);case 1:return Et(h.type,!0);case 31:return Ge("Activity");default:return""}}function ir(h){try{var m="",b=null;do m+=Ut(h,b),b=h,h=h.return;while(h);return m}catch(S){return`
Error generating stack: `+S.message+`
`+S.stack}}var on=Object.prototype.hasOwnProperty,kr=t.unstable_scheduleCallback,rn=t.unstable_cancelCallback,wn=t.unstable_shouldYield,Mn=t.unstable_requestPaint,dn=t.unstable_now,pn=t.unstable_getCurrentPriorityLevel,mn=t.unstable_ImmediatePriority,Kn=t.unstable_UserBlockingPriority,Zn=t.unstable_NormalPriority,Li=t.unstable_LowPriority,ot=t.unstable_IdlePriority,Wt=t.log,jr=t.unstable_setDisableYieldValue,rr=null,Ht=null;function fr(h){if(typeof Wt=="function"&&jr(h),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(rr,h)}catch{}}var Hr=Math.clz32?Math.clz32:ln,Gr=Math.log,Ln=Math.LN2;function ln(h){return h>>>=0,h===0?32:31-(Gr(h)/Ln|0)|0}var Jn=256,en=262144,Dr=4194304;function An(h){var m=h&42;if(m!==0)return m;switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return h&261888;case 262144:case 524288:case 1048576:case 2097152:return h&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return h&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return h}}function cn(h,m,b){var S=h.pendingLanes;if(S===0)return 0;var G=0,Z=h.suspendedLanes,je=h.pingedLanes;h=h.warmLanes;var Je=S&134217727;return Je!==0?(S=Je&~Z,S!==0?G=An(S):(je&=Je,je!==0?G=An(je):b||(b=Je&~h,b!==0&&(G=An(b))))):(Je=S&~Z,Je!==0?G=An(Je):je!==0?G=An(je):b||(b=S&~h,b!==0&&(G=An(b)))),G===0?0:m!==0&&m!==G&&(m&Z)===0&&(Z=G&-G,b=m&-m,Z>=b||Z===32&&(b&4194048)!==0)?m:G}function Pn(h,m){return(h.pendingLanes&~(h.suspendedLanes&~h.pingedLanes)&m)===0}function li(h,m){switch(h){case 1:case 2:case 4:case 8:case 64:return m+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ts(){var h=Dr;return Dr<<=1,(Dr&62914560)===0&&(Dr=4194304),h}function Rs(h){for(var m=[],b=0;31>b;b++)m.push(h);return m}function Cs(h,m){h.pendingLanes|=m,m!==268435456&&(h.suspendedLanes=0,h.pingedLanes=0,h.warmLanes=0)}function ei(h,m,b,S,G,Z){var je=h.pendingLanes;h.pendingLanes=b,h.suspendedLanes=0,h.pingedLanes=0,h.warmLanes=0,h.expiredLanes&=b,h.entangledLanes&=b,h.errorRecoveryDisabledLanes&=b,h.shellSuspendCounter=0;var Je=h.entanglements,Lt=h.expirationTimes,wr=h.hiddenUpdates;for(b=je&~b;0<b;){var Ur=31-Hr(b),Wr=1<<Ur;Je[Ur]=0,Lt[Ur]=-1;var _r=wr[Ur];if(_r!==null)for(wr[Ur]=null,Ur=0;Ur<_r.length;Ur++){var Nr=_r[Ur];Nr!==null&&(Nr.lane&=-536870913)}b&=~Wr}S!==0&&nn(h,S,0),Z!==0&&G===0&&h.tag!==0&&(h.suspendedLanes|=Z&~(je&~m))}function nn(h,m,b){h.pendingLanes|=m,h.suspendedLanes&=~m;var S=31-Hr(m);h.entangledLanes|=m,h.entanglements[S]=h.entanglements[S]|1073741824|b&261930}function ss(h,m){var b=h.entangledLanes|=m;for(h=h.entanglements;b;){var S=31-Hr(b),G=1<<S;G&m|h[S]&m&&(h[S]|=m),b&=~G}}function ea(h,m){var b=m&-m;return b=(b&42)!==0?1:En(b),(b&(h.suspendedLanes|m))!==0?0:b}function En(h){switch(h){case 2:h=1;break;case 8:h=4;break;case 32:h=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:h=128;break;case 268435456:h=134217728;break;default:h=0}return h}function Tn(h){return h&=-h,2<h?8<h?(h&134217727)!==0?32:268435456:8:2}function Ds(){var h=xe.p;return h!==0?h:(h=window.event,h===void 0?32:I6(h.type))}function $s(h,m){var b=xe.p;try{return xe.p=h,m()}finally{xe.p=b}}var Ms=Math.random().toString(36).slice(2),rs="__reactFiber$"+Ms,Ys="__reactProps$"+Ms,Os="__reactContainer$"+Ms,Qa="__reactEvents$"+Ms,ds="__reactListeners$"+Ms,yu="__reactHandles$"+Ms,to="__reactResources$"+Ms,Ml="__reactMarker$"+Ms;function tu(h){delete h[rs],delete h[Ys],delete h[Qa],delete h[ds],delete h[yu]}function ml(h){var m=h[rs];if(m)return m;for(var b=h.parentNode;b;){if(m=b[Os]||b[rs]){if(b=m.alternate,m.child!==null||b!==null&&b.child!==null)for(h=m6(h);h!==null;){if(b=h[rs])return b;h=m6(h)}return m}h=b,b=h.parentNode}return null}function ta(h){if(h=h[rs]||h[Os]){var m=h.tag;if(m===5||m===6||m===13||m===31||m===26||m===27||m===3)return h}return null}function Ya(h){var m=h.tag;if(m===5||m===26||m===27||m===6)return h.stateNode;throw Error(n(33))}function Gs(h){var m=h[to];return m||(m=h[to]={hoistableStyles:new Map,hoistableScripts:new Map}),m}function ba(h){h[Ml]=!0}var Fs=new Set,kl={};function po(h,m){ro(h,m),ro(h+"Capture",m)}function ro(h,m){for(kl[h]=m,h=0;h<m.length;h++)Fs.add(m[h])}var pl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fl={},fc={};function Hs(h){return on.call(fc,h)?!0:on.call(Fl,h)?!1:pl.test(h)?fc[h]=!0:(Fl[h]=!0,!1)}function ci(h,m,b){if(Hs(m))if(b===null)h.removeAttribute(m);else{switch(typeof b){case"undefined":case"function":case"symbol":h.removeAttribute(m);return;case"boolean":var S=m.toLowerCase().slice(0,5);if(S!=="data-"&&S!=="aria-"){h.removeAttribute(m);return}}h.setAttribute(m,""+b)}}function js(h,m,b){if(b===null)h.removeAttribute(m);else{switch(typeof b){case"undefined":case"function":case"symbol":case"boolean":h.removeAttribute(m);return}h.setAttribute(m,""+b)}}function Ta(h,m,b,S){if(S===null)h.removeAttribute(b);else{switch(typeof S){case"undefined":case"function":case"symbol":case"boolean":h.removeAttribute(b);return}h.setAttributeNS(m,b,""+S)}}function Va(h){switch(typeof h){case"bigint":case"boolean":case"number":case"string":case"undefined":return h;case"object":return h;default:return""}}function Ca(h){var m=h.type;return(h=h.nodeName)&&h.toLowerCase()==="input"&&(m==="checkbox"||m==="radio")}function gi(h,m,b){var S=Object.getOwnPropertyDescriptor(h.constructor.prototype,m);if(!h.hasOwnProperty(m)&&typeof S<"u"&&typeof S.get=="function"&&typeof S.set=="function"){var G=S.get,Z=S.set;return Object.defineProperty(h,m,{configurable:!0,get:function(){return G.call(this)},set:function(je){b=""+je,Z.call(this,je)}}),Object.defineProperty(h,m,{enumerable:S.enumerable}),{getValue:function(){return b},setValue:function(je){b=""+je},stopTracking:function(){h._valueTracker=null,delete h[m]}}}}function Xn(h){if(!h._valueTracker){var m=Ca(h)?"checked":"value";h._valueTracker=gi(h,m,""+h[m])}}function hs(h){if(!h)return!1;var m=h._valueTracker;if(!m)return!0;var b=m.getValue(),S="";return h&&(S=Ca(h)?h.checked?"true":"false":h.value),h=S,h!==b?(m.setValue(h),!0):!1}function wa(h){if(h=h||(typeof document<"u"?document:void 0),typeof h>"u")return null;try{return h.activeElement||h.body}catch{return h.body}}var Ho=/[\n"\\]/g;function Hi(h){return h.replace(Ho,function(m){return"\\"+m.charCodeAt(0).toString(16)+" "})}function Qo(h,m,b,S,G,Z,je,Je){h.name="",je!=null&&typeof je!="function"&&typeof je!="symbol"&&typeof je!="boolean"?h.type=je:h.removeAttribute("type"),m!=null?je==="number"?(m===0&&h.value===""||h.value!=m)&&(h.value=""+Va(m)):h.value!==""+Va(m)&&(h.value=""+Va(m)):je!=="submit"&&je!=="reset"||h.removeAttribute("value"),m!=null?qs(h,je,Va(m)):b!=null?qs(h,je,Va(b)):S!=null&&h.removeAttribute("value"),G==null&&Z!=null&&(h.defaultChecked=!!Z),G!=null&&(h.checked=G&&typeof G!="function"&&typeof G!="symbol"),Je!=null&&typeof Je!="function"&&typeof Je!="symbol"&&typeof Je!="boolean"?h.name=""+Va(Je):h.removeAttribute("name")}function Ea(h,m,b,S,G,Z,je,Je){if(Z!=null&&typeof Z!="function"&&typeof Z!="symbol"&&typeof Z!="boolean"&&(h.type=Z),m!=null||b!=null){if(!(Z!=="submit"&&Z!=="reset"||m!=null)){Xn(h);return}b=b!=null?""+Va(b):"",m=m!=null?""+Va(m):b,Je||m===h.value||(h.value=m),h.defaultValue=m}S=S??G,S=typeof S!="function"&&typeof S!="symbol"&&!!S,h.checked=Je?h.checked:!!S,h.defaultChecked=!!S,je!=null&&typeof je!="function"&&typeof je!="symbol"&&typeof je!="boolean"&&(h.name=je),Xn(h)}function qs(h,m,b){m==="number"&&wa(h.ownerDocument)===h||h.defaultValue===""+b||(h.defaultValue=""+b)}function fs(h,m,b,S){if(h=h.options,m){m={};for(var G=0;G<b.length;G++)m["$"+b[G]]=!0;for(b=0;b<h.length;b++)G=m.hasOwnProperty("$"+h[b].value),h[b].selected!==G&&(h[b].selected=G),G&&S&&(h[b].defaultSelected=!0)}else{for(b=""+Va(b),m=null,G=0;G<h.length;G++){if(h[G].value===b){h[G].selected=!0,S&&(h[G].defaultSelected=!0);return}m!==null||h[G].disabled||(m=h[G])}m!==null&&(m.selected=!0)}}function So(h,m,b){if(m!=null&&(m=""+Va(m),m!==h.value&&(h.value=m),b==null)){h.defaultValue!==m&&(h.defaultValue=m);return}h.defaultValue=b!=null?""+Va(b):""}function za(h,m,b,S){if(m==null){if(S!=null){if(b!=null)throw Error(n(92));if(ge(S)){if(1<S.length)throw Error(n(93));S=S[0]}b=S}b==null&&(b=""),m=b}b=Va(m),h.defaultValue=b,S=h.textContent,S===b&&S!==""&&S!==null&&(h.value=S),Xn(h)}function Qs(h,m){if(m){var b=h.firstChild;if(b&&b===h.lastChild&&b.nodeType===3){b.nodeValue=m;return}}h.textContent=m}var qa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function go(h,m,b){var S=m.indexOf("--")===0;b==null||typeof b=="boolean"||b===""?S?h.setProperty(m,""):m==="float"?h.cssFloat="":h[m]="":S?h.setProperty(m,b):typeof b!="number"||b===0||qa.has(m)?m==="float"?h.cssFloat=b:h[m]=(""+b).trim():h[m]=b+"px"}function no(h,m,b){if(m!=null&&typeof m!="object")throw Error(n(62));if(h=h.style,b!=null){for(var S in b)!b.hasOwnProperty(S)||m!=null&&m.hasOwnProperty(S)||(S.indexOf("--")===0?h.setProperty(S,""):S==="float"?h.cssFloat="":h[S]="");for(var G in m)S=m[G],m.hasOwnProperty(G)&&b[G]!==S&&go(h,G,S)}else for(var Z in m)m.hasOwnProperty(Z)&&go(h,Z,m[Z])}function Vo(h){if(h.indexOf("-")===-1)return!1;switch(h){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $t=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),V=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ne(h){return V.test(""+h)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":h}function oe(){}var F=null;function z(h){return h=h.target||h.srcElement||window,h.correspondingUseElement&&(h=h.correspondingUseElement),h.nodeType===3?h.parentNode:h}var te=null,he=null;function Te(h){var m=ta(h);if(m&&(h=m.stateNode)){var b=h[Ys]||null;e:switch(h=m.stateNode,m.type){case"input":if(Qo(h,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name),m=b.name,b.type==="radio"&&m!=null){for(b=h;b.parentNode;)b=b.parentNode;for(b=b.querySelectorAll('input[name="'+Hi(""+m)+'"][type="radio"]'),m=0;m<b.length;m++){var S=b[m];if(S!==h&&S.form===h.form){var G=S[Ys]||null;if(!G)throw Error(n(90));Qo(S,G.value,G.defaultValue,G.defaultValue,G.checked,G.defaultChecked,G.type,G.name)}}for(m=0;m<b.length;m++)S=b[m],S.form===h.form&&hs(S)}break e;case"textarea":So(h,b.value,b.defaultValue);break e;case"select":m=b.value,m!=null&&fs(h,!!b.multiple,m,!1)}}}var Ue=!1;function ct(h,m,b){if(Ue)return h(m,b);Ue=!0;try{var S=h(m);return S}finally{if(Ue=!1,(te!==null||he!==null)&&(Nu(),te&&(m=te,h=he,he=te=null,Te(m),h)))for(m=0;m<h.length;m++)Te(h[m])}}function B(h,m){var b=h.stateNode;if(b===null)return null;var S=b[Ys]||null;if(S===null)return null;b=S[m];e:switch(m){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(S=!S.disabled)||(h=h.type,S=!(h==="button"||h==="input"||h==="select"||h==="textarea")),h=!S;break e;default:h=!1}if(h)return null;if(b&&typeof b!="function")throw Error(n(231,m,typeof b));return b}var N=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),D=!1;if(N)try{var K={};Object.defineProperty(K,"passive",{get:function(){D=!0}}),window.addEventListener("test",K,K),window.removeEventListener("test",K,K)}catch{D=!1}var X=null,ee=null,ve=null;function de(){if(ve)return ve;var h,m=ee,b=m.length,S,G="value"in X?X.value:X.textContent,Z=G.length;for(h=0;h<b&&m[h]===G[h];h++);var je=b-h;for(S=1;S<=je&&m[b-S]===G[Z-S];S++);return ve=G.slice(h,1<S?1-S:void 0)}function fe(h){var m=h.keyCode;return"charCode"in h?(h=h.charCode,h===0&&m===13&&(h=13)):h=m,h===10&&(h=13),32<=h||h===13?h:0}function ke(){return!0}function Qe(){return!1}function Xe(h){function m(b,S,G,Z,je){this._reactName=b,this._targetInst=G,this.type=S,this.nativeEvent=Z,this.target=je,this.currentTarget=null;for(var Je in h)h.hasOwnProperty(Je)&&(b=h[Je],this[Je]=b?b(Z):Z[Je]);return this.isDefaultPrevented=(Z.defaultPrevented!=null?Z.defaultPrevented:Z.returnValue===!1)?ke:Qe,this.isPropagationStopped=Qe,this}return f(m.prototype,{preventDefault:function(){this.defaultPrevented=!0;var b=this.nativeEvent;b&&(b.preventDefault?b.preventDefault():typeof b.returnValue!="unknown"&&(b.returnValue=!1),this.isDefaultPrevented=ke)},stopPropagation:function(){var b=this.nativeEvent;b&&(b.stopPropagation?b.stopPropagation():typeof b.cancelBubble!="unknown"&&(b.cancelBubble=!0),this.isPropagationStopped=ke)},persist:function(){},isPersistent:ke}),m}var lt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(h){return h.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ce=Xe(lt),_t=f({},lt,{view:0,detail:0}),at=Xe(_t),Tt,rt,Bt,Yt=f({},_t,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ir,button:0,buttons:0,relatedTarget:function(h){return h.relatedTarget===void 0?h.fromElement===h.srcElement?h.toElement:h.fromElement:h.relatedTarget},movementX:function(h){return"movementX"in h?h.movementX:(h!==Bt&&(Bt&&h.type==="mousemove"?(Tt=h.screenX-Bt.screenX,rt=h.screenY-Bt.screenY):rt=Tt=0,Bt=h),Tt)},movementY:function(h){return"movementY"in h?h.movementY:rt}}),kt=Xe(Yt),tt=f({},Yt,{dataTransfer:0}),Vt=Xe(tt),Er=f({},_t,{relatedTarget:0}),nr=Xe(Er),Rt=f({},lt,{animationName:0,elapsedTime:0,pseudoElement:0}),yr=Xe(Rt),it=f({},lt,{clipboardData:function(h){return"clipboardData"in h?h.clipboardData:window.clipboardData}}),ft=Xe(it),Ot=f({},lt,{data:0}),Pt=Xe(Ot),Ar={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ar(h){var m=this.nativeEvent;return m.getModifierState?m.getModifierState(h):(h=Lr[h])?!!m[h]:!1}function Ir(){return ar}var hn=f({},_t,{key:function(h){if(h.key){var m=Ar[h.key]||h.key;if(m!=="Unidentified")return m}return h.type==="keypress"?(h=fe(h),h===13?"Enter":String.fromCharCode(h)):h.type==="keydown"||h.type==="keyup"?Tr[h.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ir,charCode:function(h){return h.type==="keypress"?fe(h):0},keyCode:function(h){return h.type==="keydown"||h.type==="keyup"?h.keyCode:0},which:function(h){return h.type==="keypress"?fe(h):h.type==="keydown"||h.type==="keyup"?h.keyCode:0}}),Zr=Xe(hn),Ye=f({},Yt,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),St=Xe(Ye),Nt=f({},_t,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ir}),Kt=Xe(Nt),qt=f({},lt,{propertyName:0,elapsedTime:0,pseudoElement:0}),cr=Xe(qt),Cr=f({},Yt,{deltaX:function(h){return"deltaX"in h?h.deltaX:"wheelDeltaX"in h?-h.wheelDeltaX:0},deltaY:function(h){return"deltaY"in h?h.deltaY:"wheelDeltaY"in h?-h.wheelDeltaY:"wheelDelta"in h?-h.wheelDelta:0},deltaZ:0,deltaMode:0}),Sr=Xe(Cr),Vr=f({},lt,{newState:0,oldState:0}),un=Xe(Vr),bn=[9,13,27,32],Rn=N&&"CompositionEvent"in window,yi=null;N&&"documentMode"in document&&(yi=document.documentMode);var mt=N&&"TextEvent"in window&&!yi,_n=N&&(!Rn||yi&&8<yi&&11>=yi),Ri=" ",Sn=!1;function tn(h,m){switch(h){case"keyup":return bn.indexOf(m.keyCode)!==-1;case"keydown":return m.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ji(h){return h=h.detail,typeof h=="object"&&"data"in h?h.data:null}var Fn=!1;function Hn(h,m){switch(h){case"compositionend":return ji(m);case"keypress":return m.which!==32?null:(Sn=!0,Ri);case"textInput":return h=m.data,h===Ri&&Sn?null:h;default:return null}}function $n(h,m){if(Fn)return h==="compositionend"||!Rn&&tn(h,m)?(h=de(),ve=ee=X=null,Fn=!1,h):null;switch(h){case"paste":return null;case"keypress":if(!(m.ctrlKey||m.altKey||m.metaKey)||m.ctrlKey&&m.altKey){if(m.char&&1<m.char.length)return m.char;if(m.which)return String.fromCharCode(m.which)}return null;case"compositionend":return _n&&m.locale!=="ko"?null:m.data;default:return null}}var ga={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Di(h){var m=h&&h.nodeName&&h.nodeName.toLowerCase();return m==="input"?!!ga[h.type]:m==="textarea"}function Gn(h,m,b,S){te?he?he.push(S):he=[S]:te=S,m=J_(m,"onChange"),0<m.length&&(b=new Ce("onChange","change",null,b,S),h.push({event:b,listeners:m}))}var ns=null,_i=null;function Un(h){t6(h,0)}function ki(h){var m=Ya(h);if(hs(m))return h}function Wn(h,m){if(h==="change")return m}var Gi=!1;if(N){var is;if(N){var Zi="oninput"in document;if(!Zi){var gs=document.createElement("div");gs.setAttribute("oninput","return;"),Zi=typeof gs.oninput=="function"}is=Zi}else is=!1;Gi=is&&(!document.documentMode||9<document.documentMode)}function ja(){ns&&(ns.detachEvent("onpropertychange",xi),_i=ns=null)}function xi(h){if(h.propertyName==="value"&&ki(_i)){var m=[];Gn(m,_i,h,z(h)),ct(Un,m)}}function Ws(h,m,b){h==="focusin"?(ja(),ns=m,_i=b,ns.attachEvent("onpropertychange",xi)):h==="focusout"&&ja()}function Qi(h){if(h==="selectionchange"||h==="keyup"||h==="keydown")return ki(_i)}function ai(h,m){if(h==="click")return ki(m)}function ua(h,m){if(h==="input"||h==="change")return ki(m)}function Ii(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var yn=typeof Object.is=="function"?Object.is:Ii;function ls(h,m){if(yn(h,m))return!0;if(typeof h!="object"||h===null||typeof m!="object"||m===null)return!1;var b=Object.keys(h),S=Object.keys(m);if(b.length!==S.length)return!1;for(S=0;S<b.length;S++){var G=b[S];if(!on.call(m,G)||!yn(h[G],m[G]))return!1}return!0}function xu(h){for(;h&&h.firstChild;)h=h.firstChild;return h}function io(h,m){var b=xu(h);h=0;for(var S;b;){if(b.nodeType===3){if(S=h+b.textContent.length,h<=m&&S>=m)return{node:b,offset:m-h};h=S}e:{for(;b;){if(b.nextSibling){b=b.nextSibling;break e}b=b.parentNode}b=void 0}b=xu(b)}}function zo(h,m){return h&&m?h===m?!0:h&&h.nodeType===3?!1:m&&m.nodeType===3?zo(h,m.parentNode):"contains"in h?h.contains(m):h.compareDocumentPosition?!!(h.compareDocumentPosition(m)&16):!1:!1}function Jl(h){h=h!=null&&h.ownerDocument!=null&&h.ownerDocument.defaultView!=null?h.ownerDocument.defaultView:window;for(var m=wa(h.document);m instanceof h.HTMLIFrameElement;){try{var b=typeof m.contentWindow.location.href=="string"}catch{b=!1}if(b)h=m.contentWindow;else break;m=wa(h.document)}return m}function bi(h){var m=h&&h.nodeName&&h.nodeName.toLowerCase();return m&&(m==="input"&&(h.type==="text"||h.type==="search"||h.type==="tel"||h.type==="url"||h.type==="password")||m==="textarea"||h.contentEditable==="true")}var Ra=N&&"documentMode"in document&&11>=document.documentMode,Xa=null,Ul=null,$l=null,da=!1;function vo(h,m,b){var S=b.window===b?b.document:b.nodeType===9?b:b.ownerDocument;da||Xa==null||Xa!==wa(S)||(S=Xa,"selectionStart"in S&&bi(S)?S={start:S.selectionStart,end:S.selectionEnd}:(S=(S.ownerDocument&&S.ownerDocument.defaultView||window).getSelection(),S={anchorNode:S.anchorNode,anchorOffset:S.anchorOffset,focusNode:S.focusNode,focusOffset:S.focusOffset}),$l&&ls($l,S)||($l=S,S=J_(Ul,"onSelect"),0<S.length&&(m=new Ce("onSelect","select",null,m,b),h.push({event:m,listeners:S}),m.target=Xa)))}function Za(h,m){var b={};return b[h.toLowerCase()]=m.toLowerCase(),b["Webkit"+h]="webkit"+m,b["Moz"+h]="moz"+m,b}var $c={animationend:Za("Animation","AnimationEnd"),animationiteration:Za("Animation","AnimationIteration"),animationstart:Za("Animation","AnimationStart"),transitionrun:Za("Transition","TransitionRun"),transitionstart:Za("Transition","TransitionStart"),transitioncancel:Za("Transition","TransitionCancel"),transitionend:Za("Transition","TransitionEnd")},To={},Ac={};N&&(Ac=document.createElement("div").style,"AnimationEvent"in window||(delete $c.animationend.animation,delete $c.animationiteration.animation,delete $c.animationstart.animation),"TransitionEvent"in window||delete $c.transitionend.transition);function Ka(h){if(To[h])return To[h];if(!$c[h])return h;var m=$c[h],b;for(b in m)if(m.hasOwnProperty(b)&&b in Ac)return To[h]=m[b];return h}var Hl=Ka("animationend"),Ql=Ka("animationiteration"),Il=Ka("animationstart"),gd=Ka("transitionrun"),ec=Ka("transitionstart"),Vl=Ka("transitioncancel"),mc=Ka("transitionend"),vd=new Map,zl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zl.push("scrollEnd");function Kl(h,m){vd.set(h,m),po(m,[h])}var bu=typeof reportError=="function"?reportError:function(h){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var m=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof h=="object"&&h!==null&&typeof h.message=="string"?String(h.message):String(h),error:h});if(!window.dispatchEvent(m))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",h);return}console.error(h)},Gl=[],Io=0,gl=0;function ru(){for(var h=Io,m=gl=Io=0;m<h;){var b=Gl[m];Gl[m++]=null;var S=Gl[m];Gl[m++]=null;var G=Gl[m];Gl[m++]=null;var Z=Gl[m];if(Gl[m++]=null,S!==null&&G!==null){var je=S.pending;je===null?G.next=G:(G.next=je.next,je.next=G),S.pending=G}Z!==0&&zu(b,G,Z)}}function pc(h,m,b,S){Gl[Io++]=h,Gl[Io++]=m,Gl[Io++]=b,Gl[Io++]=S,gl|=S,h.lanes|=S,h=h.alternate,h!==null&&(h.lanes|=S)}function Ud(h,m,b,S){return pc(h,m,b,S),yd(h)}function tc(h,m){return pc(h,null,null,m),yd(h)}function zu(h,m,b){h.lanes|=b;var S=h.alternate;S!==null&&(S.lanes|=b);for(var G=!1,Z=h.return;Z!==null;)Z.childLanes|=b,S=Z.alternate,S!==null&&(S.childLanes|=b),Z.tag===22&&(h=Z.stateNode,h===null||h._visibility&1||(G=!0)),h=Z,Z=Z.return;return h.tag===3?(Z=h.stateNode,G&&m!==null&&(G=31-Hr(b),h=Z.hiddenUpdates,S=h[G],S===null?h[G]=[m]:S.push(m),m.lane=b|536870912),Z):null}function yd(h){if(50<ca)throw ca=0,ya=null,Error(n(185));for(var m=h.return;m!==null;)h=m,m=h.return;return h.tag===3?h.stateNode:null}var vl={};function nh(h,m,b,S){this.tag=h,this.key=b,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ll(h,m,b,S){return new nh(h,m,b,S)}function Fi(h){return h=h.prototype,!(!h||!h.isReactComponent)}function gc(h,m){var b=h.alternate;return b===null?(b=Ll(h.tag,m,h.key,h.mode),b.elementType=h.elementType,b.type=h.type,b.stateNode=h.stateNode,b.alternate=h,h.alternate=b):(b.pendingProps=m,b.type=h.type,b.flags=0,b.subtreeFlags=0,b.deletions=null),b.flags=h.flags&65011712,b.childLanes=h.childLanes,b.lanes=h.lanes,b.child=h.child,b.memoizedProps=h.memoizedProps,b.memoizedState=h.memoizedState,b.updateQueue=h.updateQueue,m=h.dependencies,b.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},b.sibling=h.sibling,b.index=h.index,b.ref=h.ref,b.refCleanup=h.refCleanup,b}function Hc(h,m){h.flags&=65011714;var b=h.alternate;return b===null?(h.childLanes=0,h.lanes=m,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=b.childLanes,h.lanes=b.lanes,h.child=b.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=b.memoizedProps,h.memoizedState=b.memoizedState,h.updateQueue=b.updateQueue,h.type=b.type,m=b.dependencies,h.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext}),h}function Qc(h,m,b,S,G,Z){var je=0;if(S=h,typeof h=="function")Fi(h)&&(je=1);else if(typeof h=="string")je=_le(h,b,Le.current)?26:h==="html"||h==="head"||h==="body"?27:5;else e:switch(h){case q:return h=Ll(31,b,m,G),h.elementType=q,h.lanes=Z,h;case y:return Ku(b.children,G,Z,m);case x:je=8,G|=24;break;case w:return h=Ll(12,b,m,G|2),h.elementType=w,h.lanes=Z,h;case j:return h=Ll(13,b,m,G),h.elementType=j,h.lanes=Z,h;case P:return h=Ll(19,b,m,G),h.elementType=P,h.lanes=Z,h;default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case T:je=10;break e;case E:je=9;break e;case C:je=11;break e;case U:je=14;break e;case W:je=16,S=null;break e}je=29,b=Error(n(130,h===null?"null":typeof h,"")),S=null}return m=Ll(je,b,m,G),m.elementType=h,m.type=S,m.lanes=Z,m}function Ku(h,m,b,S){return h=Ll(7,h,S,m),h.lanes=b,h}function vc(h,m,b){return h=Ll(6,h,null,m),h.lanes=b,h}function Lo(h){var m=Ll(18,null,null,0);return m.stateNode=h,m}function nu(h,m,b){return m=Ll(4,h.children!==null?h.children:[],h.key,m),m.lanes=b,m.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},m}var g=new WeakMap;function _(h,m){if(typeof h=="object"&&h!==null){var b=g.get(h);return b!==void 0?b:(m={value:h,source:m,stack:ir(m)},g.set(h,m),m)}return{value:h,source:m,stack:ir(m)}}var H=[],ae=0,_e=null,Ve=0,jt=[],Zt=0,xr=null,$r=1,vn="";function ui(h,m){H[ae++]=Ve,H[ae++]=_e,_e=h,Ve=m}function As(h,m,b){jt[Zt++]=$r,jt[Zt++]=vn,jt[Zt++]=xr,xr=h;var S=$r;h=vn;var G=32-Hr(S)-1;S&=~(1<<G),b+=1;var Z=32-Hr(m)+G;if(30<Z){var je=G-G%5;Z=(S&(1<<je)-1).toString(32),S>>=je,G-=je,$r=1<<32-Hr(m)+G|b<<G|S,vn=Z+h}else $r=1<<Z|b<<G|S,vn=h}function Da(h){h.return!==null&&(ui(h,1),As(h,1,0))}function Co(h){for(;h===_e;)_e=H[--ae],H[ae]=null,Ve=H[--ae],H[ae]=null;for(;h===xr;)xr=jt[--Zt],jt[Zt]=null,vn=jt[--Zt],jt[Zt]=null,$r=jt[--Zt],jt[Zt]=null}function il(h,m){jt[Zt++]=$r,jt[Zt++]=vn,jt[Zt++]=xr,$r=m.id,vn=m.overflow,xr=h}var Xs=null,oa=null,Cn=!1,Gu=null,yc=!1,xd=Error(n(519));function Wl(h){var m=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw xc(_(m,h)),xd}function wu(h){var m=h.stateNode,b=h.type,S=h.memoizedProps;switch(m[rs]=h,m[Ys]=S,b){case"dialog":_a("cancel",m),_a("close",m);break;case"iframe":case"object":case"embed":_a("load",m);break;case"video":case"audio":for(b=0;b<A1.length;b++)_a(A1[b],m);break;case"source":_a("error",m);break;case"img":case"image":case"link":_a("error",m),_a("load",m);break;case"details":_a("toggle",m);break;case"input":_a("invalid",m),Ea(m,S.value,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name,!0);break;case"select":_a("invalid",m);break;case"textarea":_a("invalid",m),za(m,S.value,S.defaultValue,S.children)}b=S.children,typeof b!="string"&&typeof b!="number"&&typeof b!="bigint"||m.textContent===""+b||S.suppressHydrationWarning===!0||s6(m.textContent,b)?(S.popover!=null&&(_a("beforetoggle",m),_a("toggle",m)),S.onScroll!=null&&_a("scroll",m),S.onScrollEnd!=null&&_a("scrollend",m),S.onClick!=null&&(m.onclick=oe),m=!0):m=!1,m||Wl(h,!0)}function so(h){for(Xs=h.return;Xs;)switch(Xs.tag){case 5:case 31:case 13:yc=!1;return;case 27:case 3:yc=!0;return;default:Xs=Xs.return}}function Eu(h){if(h!==Xs)return!1;if(!Cn)return so(h),Cn=!0,!1;var m=h.tag,b;if((b=m!==3&&m!==27)&&((b=m===5)&&(b=h.type,b=!(b!=="form"&&b!=="button")||sk(h.type,h.memoizedProps)),b=!b),b&&oa&&Wl(h),so(h),m===13){if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(n(317));oa=A6(h)}else if(m===31){if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(n(317));oa=A6(h)}else m===27?(m=oa,kg(h.type)?(h=uk,uk=null,oa=h):oa=m):oa=Xs?Tf(h.stateNode.nextSibling):null;return!0}function Ko(){oa=Xs=null,Cn=!1}function bd(){var h=Gu;return h!==null&&(Mt===null?Mt=h:Mt.push.apply(Mt,h),Gu=null),h}function xc(h){Gu===null?Gu=[h]:Gu.push(h)}var $d=we(null),Yl=null,_u=null;function bc(h,m,b){ye($d,m._currentValue),m._currentValue=b}function Vc(h){h._currentValue=$d.current,ue($d)}function yh(h,m,b){for(;h!==null;){var S=h.alternate;if((h.childLanes&m)!==m?(h.childLanes|=m,S!==null&&(S.childLanes|=m)):S!==null&&(S.childLanes&m)!==m&&(S.childLanes|=m),h===b)break;h=h.return}}function iu(h,m,b,S){var G=h.child;for(G!==null&&(G.return=h);G!==null;){var Z=G.dependencies;if(Z!==null){var je=G.child;Z=Z.firstContext;e:for(;Z!==null;){var Je=Z;Z=G;for(var Lt=0;Lt<m.length;Lt++)if(Je.context===m[Lt]){Z.lanes|=b,Je=Z.alternate,Je!==null&&(Je.lanes|=b),yh(Z.return,b,h),S||(je=null);break e}Z=Je.next}}else if(G.tag===18){if(je=G.return,je===null)throw Error(n(341));je.lanes|=b,Z=je.alternate,Z!==null&&(Z.lanes|=b),yh(je,b,h),je=null}else je=G.child;if(je!==null)je.return=G;else for(je=G;je!==null;){if(je===h){je=null;break}if(G=je.sibling,G!==null){G.return=je.return,je=G;break}je=je.return}G=je}}function wd(h,m,b,S){h=null;for(var G=m,Z=!1;G!==null;){if(!Z){if((G.flags&524288)!==0)Z=!0;else if((G.flags&262144)!==0)break}if(G.tag===10){var je=G.alternate;if(je===null)throw Error(n(387));if(je=je.memoizedProps,je!==null){var Je=G.type;yn(G.pendingProps.value,je.value)||(h!==null?h.push(Je):h=[Je])}}else if(G===At.current){if(je=G.alternate,je===null)throw Error(n(387));je.memoizedState.memoizedState!==G.memoizedState.memoizedState&&(h!==null?h.push(y1):h=[y1])}G=G.return}h!==null&&iu(m,h,b,S),m.flags|=262144}function ih(h){for(h=h.firstContext;h!==null;){if(!yn(h.context._currentValue,h.memoizedValue))return!0;h=h.next}return!1}function zc(h){Yl=h,_u=null,h=h.dependencies,h!==null&&(h.firstContext=null)}function yo(h){return eA(Yl,h)}function xh(h,m){return Yl===null&&zc(h),eA(h,m)}function eA(h,m){var b=m._currentValue;if(m={context:m,memoizedValue:b,next:null},_u===null){if(h===null)throw Error(n(308));_u=m,h.dependencies={lanes:0,firstContext:m},h.flags|=524288}else _u=_u.next=m;return b}var RA=typeof AbortController<"u"?AbortController:function(){var h=[],m=this.signal={aborted:!1,addEventListener:function(b,S){h.push(S)}};this.abort=function(){m.aborted=!0,h.forEach(function(b){return b()})}},sh=t.unstable_scheduleCallback,ah=t.unstable_NormalPriority,Bo={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function oh(){return{controller:new RA,data:new Map,refCount:0}}function bh(h){h.refCount--,h.refCount===0&&sh(ah,function(){h.controller.abort()})}var le=null,Re=0,xt=0,It=null;function Jt(h,m){if(le===null){var b=le=[];Re=0,xt=q5(),It={status:"pending",value:void 0,then:function(S){b.push(S)}}}return Re++,m.then(Mr,Mr),m}function Mr(){if(--Re===0&&le!==null){It!==null&&(It.status="fulfilled");var h=le;le=null,xt=0,It=null;for(var m=0;m<h.length;m++)(0,h[m])()}}function Yr(h,m){var b=[],S={status:"pending",value:null,reason:null,then:function(G){b.push(G)}};return h.then(function(){S.status="fulfilled",S.value=m;for(var G=0;G<b.length;G++)(0,b[G])(m)},function(G){for(S.status="rejected",S.reason=G,G=0;G<b.length;G++)(0,b[G])(void 0)}),S}var ti=se.S;se.S=function(h,m){Rr=dn(),typeof m=="object"&&m!==null&&typeof m.then=="function"&&Jt(h,m),ti!==null&&ti(h,m)};var ri=we(null);function Yi(){var h=ri.current;return h!==null?h:fa.pooledCache}function as(h,m){m===null?ye(ri,ri.current):ye(ri,m.pool)}function ra(){var h=Yi();return h===null?null:{parent:Bo._currentValue,pool:h}}var Ma=Error(n(460)),Oo=Error(n(474)),Na=Error(n(542)),Go={then:function(){}};function O(h){return h=h.status,h==="fulfilled"||h==="rejected"}function Be(h,m,b){switch(b=h[b],b===void 0?h.push(m):b!==m&&(m.then(oe,oe),m=b),m.status){case"fulfilled":return m.value;case"rejected":throw h=m.reason,bt(h),h;default:if(typeof m.status=="string")m.then(oe,oe);else{if(h=fa,h!==null&&100<h.shellSuspendCounter)throw Error(n(482));h=m,h.status="pending",h.then(function(S){if(m.status==="pending"){var G=m;G.status="fulfilled",G.value=S}},function(S){if(m.status==="pending"){var G=m;G.status="rejected",G.reason=S}})}switch(m.status){case"fulfilled":return m.value;case"rejected":throw h=m.reason,bt(h),h}throw qe=m,Ma}}function J(h){try{var m=h._init;return m(h._payload)}catch(b){throw b!==null&&typeof b=="object"&&typeof b.then=="function"?(qe=b,Ma):b}}var qe=null;function wt(){if(qe===null)throw Error(n(459));var h=qe;return qe=null,h}function bt(h){if(h===Ma||h===Na)throw Error(n(483))}var mr=null,zt=0;function Dn(h){var m=zt;return zt+=1,mr===null&&(mr=[]),Be(mr,h,m)}function Dt(h,m){m=m.props.ref,h.ref=m!==void 0?m:null}function pr(h,m){throw m.$$typeof===A?Error(n(525)):(h=Object.prototype.toString.call(m),Error(n(31,h==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":h)))}function qi(h){function m(sr,Qt){if(h){var br=sr.deletions;br===null?(sr.deletions=[Qt],sr.flags|=16):br.push(Qt)}}function b(sr,Qt){if(!h)return null;for(;Qt!==null;)m(sr,Qt),Qt=Qt.sibling;return null}function S(sr){for(var Qt=new Map;sr!==null;)sr.key!==null?Qt.set(sr.key,sr):Qt.set(sr.index,sr),sr=sr.sibling;return Qt}function G(sr,Qt){return sr=gc(sr,Qt),sr.index=0,sr.sibling=null,sr}function Z(sr,Qt,br){return sr.index=br,h?(br=sr.alternate,br!==null?(br=br.index,br<Qt?(sr.flags|=67108866,Qt):br):(sr.flags|=67108866,Qt)):(sr.flags|=1048576,Qt)}function je(sr){return h&&sr.alternate===null&&(sr.flags|=67108866),sr}function Je(sr,Qt,br,zr){return Qt===null||Qt.tag!==6?(Qt=vc(br,sr.mode,zr),Qt.return=sr,Qt):(Qt=G(Qt,br),Qt.return=sr,Qt)}function Lt(sr,Qt,br,zr){var Xi=br.type;return Xi===y?Ur(sr,Qt,br.props.children,zr,br.key):Qt!==null&&(Qt.elementType===Xi||typeof Xi=="object"&&Xi!==null&&Xi.$$typeof===W&&J(Xi)===Qt.type)?(Qt=G(Qt,br.props),Dt(Qt,br),Qt.return=sr,Qt):(Qt=Qc(br.type,br.key,br.props,null,sr.mode,zr),Dt(Qt,br),Qt.return=sr,Qt)}function wr(sr,Qt,br,zr){return Qt===null||Qt.tag!==4||Qt.stateNode.containerInfo!==br.containerInfo||Qt.stateNode.implementation!==br.implementation?(Qt=nu(br,sr.mode,zr),Qt.return=sr,Qt):(Qt=G(Qt,br.children||[]),Qt.return=sr,Qt)}function Ur(sr,Qt,br,zr,Xi){return Qt===null||Qt.tag!==7?(Qt=Ku(br,sr.mode,zr,Xi),Qt.return=sr,Qt):(Qt=G(Qt,br),Qt.return=sr,Qt)}function Wr(sr,Qt,br){if(typeof Qt=="string"&&Qt!==""||typeof Qt=="number"||typeof Qt=="bigint")return Qt=vc(""+Qt,sr.mode,br),Qt.return=sr,Qt;if(typeof Qt=="object"&&Qt!==null){switch(Qt.$$typeof){case p:return br=Qc(Qt.type,Qt.key,Qt.props,null,sr.mode,br),Dt(br,Qt),br.return=sr,br;case v:return Qt=nu(Qt,sr.mode,br),Qt.return=sr,Qt;case W:return Qt=J(Qt),Wr(sr,Qt,br)}if(ge(Qt)||Ae(Qt))return Qt=Ku(Qt,sr.mode,br,null),Qt.return=sr,Qt;if(typeof Qt.then=="function")return Wr(sr,Dn(Qt),br);if(Qt.$$typeof===T)return Wr(sr,xh(sr,Qt),br);pr(sr,Qt)}return null}function _r(sr,Qt,br,zr){var Xi=Qt!==null?Qt.key:null;if(typeof br=="string"&&br!==""||typeof br=="number"||typeof br=="bigint")return Xi!==null?null:Je(sr,Qt,""+br,zr);if(typeof br=="object"&&br!==null){switch(br.$$typeof){case p:return br.key===Xi?Lt(sr,Qt,br,zr):null;case v:return br.key===Xi?wr(sr,Qt,br,zr):null;case W:return br=J(br),_r(sr,Qt,br,zr)}if(ge(br)||Ae(br))return Xi!==null?null:Ur(sr,Qt,br,zr,null);if(typeof br.then=="function")return _r(sr,Qt,Dn(br),zr);if(br.$$typeof===T)return _r(sr,Qt,xh(sr,br),zr);pr(sr,br)}return null}function Nr(sr,Qt,br,zr,Xi){if(typeof zr=="string"&&zr!==""||typeof zr=="number"||typeof zr=="bigint")return sr=sr.get(br)||null,Je(Qt,sr,""+zr,Xi);if(typeof zr=="object"&&zr!==null){switch(zr.$$typeof){case p:return sr=sr.get(zr.key===null?br:zr.key)||null,Lt(Qt,sr,zr,Xi);case v:return sr=sr.get(zr.key===null?br:zr.key)||null,wr(Qt,sr,zr,Xi);case W:return zr=J(zr),Nr(sr,Qt,br,zr,Xi)}if(ge(zr)||Ae(zr))return sr=sr.get(br)||null,Ur(Qt,sr,zr,Xi,null);if(typeof zr.then=="function")return Nr(sr,Qt,br,Dn(zr),Xi);if(zr.$$typeof===T)return Nr(sr,Qt,br,xh(Qt,zr),Xi);pr(Qt,zr)}return null}function wi(sr,Qt,br,zr){for(var Xi=null,uo=null,Oi=Qt,aa=Qt=0,La=null;Oi!==null&&aa<br.length;aa++){Oi.index>aa?(La=Oi,Oi=null):La=Oi.sibling;var ho=_r(sr,Oi,br[aa],zr);if(ho===null){Oi===null&&(Oi=La);break}h&&Oi&&ho.alternate===null&&m(sr,Oi),Qt=Z(ho,Qt,aa),uo===null?Xi=ho:uo.sibling=ho,uo=ho,Oi=La}if(aa===br.length)return b(sr,Oi),Cn&&ui(sr,aa),Xi;if(Oi===null){for(;aa<br.length;aa++)Oi=Wr(sr,br[aa],zr),Oi!==null&&(Qt=Z(Oi,Qt,aa),uo===null?Xi=Oi:uo.sibling=Oi,uo=Oi);return Cn&&ui(sr,aa),Xi}for(Oi=S(Oi);aa<br.length;aa++)La=Nr(Oi,sr,aa,br[aa],zr),La!==null&&(h&&La.alternate!==null&&Oi.delete(La.key===null?aa:La.key),Qt=Z(La,Qt,aa),uo===null?Xi=La:uo.sibling=La,uo=La);return h&&Oi.forEach(function(Pg){return m(sr,Pg)}),Cn&&ui(sr,aa),Xi}function us(sr,Qt,br,zr){if(br==null)throw Error(n(151));for(var Xi=null,uo=null,Oi=Qt,aa=Qt=0,La=null,ho=br.next();Oi!==null&&!ho.done;aa++,ho=br.next()){Oi.index>aa?(La=Oi,Oi=null):La=Oi.sibling;var Pg=_r(sr,Oi,ho.value,zr);if(Pg===null){Oi===null&&(Oi=La);break}h&&Oi&&Pg.alternate===null&&m(sr,Oi),Qt=Z(Pg,Qt,aa),uo===null?Xi=Pg:uo.sibling=Pg,uo=Pg,Oi=La}if(ho.done)return b(sr,Oi),Cn&&ui(sr,aa),Xi;if(Oi===null){for(;!ho.done;aa++,ho=br.next())ho=Wr(sr,ho.value,zr),ho!==null&&(Qt=Z(ho,Qt,aa),uo===null?Xi=ho:uo.sibling=ho,uo=ho);return Cn&&ui(sr,aa),Xi}for(Oi=S(Oi);!ho.done;aa++,ho=br.next())ho=Nr(Oi,sr,aa,ho.value,zr),ho!==null&&(h&&ho.alternate!==null&&Oi.delete(ho.key===null?aa:ho.key),Qt=Z(ho,Qt,aa),uo===null?Xi=ho:uo.sibling=ho,uo=ho);return h&&Oi.forEach(function(Ple){return m(sr,Ple)}),Cn&&ui(sr,aa),Xi}function Xo(sr,Qt,br,zr){if(typeof br=="object"&&br!==null&&br.type===y&&br.key===null&&(br=br.props.children),typeof br=="object"&&br!==null){switch(br.$$typeof){case p:e:{for(var Xi=br.key;Qt!==null;){if(Qt.key===Xi){if(Xi=br.type,Xi===y){if(Qt.tag===7){b(sr,Qt.sibling),zr=G(Qt,br.props.children),zr.return=sr,sr=zr;break e}}else if(Qt.elementType===Xi||typeof Xi=="object"&&Xi!==null&&Xi.$$typeof===W&&J(Xi)===Qt.type){b(sr,Qt.sibling),zr=G(Qt,br.props),Dt(zr,br),zr.return=sr,sr=zr;break e}b(sr,Qt);break}else m(sr,Qt);Qt=Qt.sibling}br.type===y?(zr=Ku(br.props.children,sr.mode,zr,br.key),zr.return=sr,sr=zr):(zr=Qc(br.type,br.key,br.props,null,sr.mode,zr),Dt(zr,br),zr.return=sr,sr=zr)}return je(sr);case v:e:{for(Xi=br.key;Qt!==null;){if(Qt.key===Xi)if(Qt.tag===4&&Qt.stateNode.containerInfo===br.containerInfo&&Qt.stateNode.implementation===br.implementation){b(sr,Qt.sibling),zr=G(Qt,br.children||[]),zr.return=sr,sr=zr;break e}else{b(sr,Qt);break}else m(sr,Qt);Qt=Qt.sibling}zr=nu(br,sr.mode,zr),zr.return=sr,sr=zr}return je(sr);case W:return br=J(br),Xo(sr,Qt,br,zr)}if(ge(br))return wi(sr,Qt,br,zr);if(Ae(br)){if(Xi=Ae(br),typeof Xi!="function")throw Error(n(150));return br=Xi.call(br),us(sr,Qt,br,zr)}if(typeof br.then=="function")return Xo(sr,Qt,Dn(br),zr);if(br.$$typeof===T)return Xo(sr,Qt,xh(sr,br),zr);pr(sr,br)}return typeof br=="string"&&br!==""||typeof br=="number"||typeof br=="bigint"?(br=""+br,Qt!==null&&Qt.tag===6?(b(sr,Qt.sibling),zr=G(Qt,br),zr.return=sr,sr=zr):(b(sr,Qt),zr=vc(br,sr.mode,zr),zr.return=sr,sr=zr),je(sr)):b(sr,Qt)}return function(sr,Qt,br,zr){try{zt=0;var Xi=Xo(sr,Qt,br,zr);return mr=null,Xi}catch(Oi){if(Oi===Ma||Oi===Na)throw Oi;var uo=Ll(29,Oi,null,sr.mode);return uo.lanes=zr,uo.return=sr,uo}}}var jn=qi(!0),Xr=qi(!1),Br=!1;function Fa(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wi(h,m){h=h.updateQueue,m.updateQueue===h&&(m.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,callbacks:null})}function Ni(h){return{lane:h,tag:0,payload:null,callback:null,next:null}}function Vi(h,m,b){var S=h.updateQueue;if(S===null)return null;if(S=S.shared,(va&2)!==0){var G=S.pending;return G===null?m.next=m:(m.next=G.next,G.next=m),S.pending=m,m=yd(h),zu(h,null,b),m}return pc(h,S,m,b),yd(h)}function vs(h,m,b){if(m=m.updateQueue,m!==null&&(m=m.shared,(b&4194048)!==0)){var S=m.lanes;S&=h.pendingLanes,b|=S,m.lanes=b,ss(h,b)}}function xn(h,m){var b=h.updateQueue,S=h.alternate;if(S!==null&&(S=S.updateQueue,b===S)){var G=null,Z=null;if(b=b.firstBaseUpdate,b!==null){do{var je={lane:b.lane,tag:b.tag,payload:b.payload,callback:null,next:null};Z===null?G=Z=je:Z=Z.next=je,b=b.next}while(b!==null);Z===null?G=Z=m:Z=Z.next=m}else G=Z=m;b={baseState:S.baseState,firstBaseUpdate:G,lastBaseUpdate:Z,shared:S.shared,callbacks:S.callbacks},h.updateQueue=b;return}h=b.lastBaseUpdate,h===null?b.firstBaseUpdate=m:h.next=m,b.lastBaseUpdate=m}var ys=!1;function Ua(){if(ys){var h=It;if(h!==null)throw h}}function Si(h,m,b,S){ys=!1;var G=h.updateQueue;Br=!1;var Z=G.firstBaseUpdate,je=G.lastBaseUpdate,Je=G.shared.pending;if(Je!==null){G.shared.pending=null;var Lt=Je,wr=Lt.next;Lt.next=null,je===null?Z=wr:je.next=wr,je=Lt;var Ur=h.alternate;Ur!==null&&(Ur=Ur.updateQueue,Je=Ur.lastBaseUpdate,Je!==je&&(Je===null?Ur.firstBaseUpdate=wr:Je.next=wr,Ur.lastBaseUpdate=Lt))}if(Z!==null){var Wr=G.baseState;je=0,Ur=wr=Lt=null,Je=Z;do{var _r=Je.lane&-536870913,Nr=_r!==Je.lane;if(Nr?(Ls&_r)===_r:(S&_r)===_r){_r!==0&&_r===xt&&(ys=!0),Ur!==null&&(Ur=Ur.next={lane:0,tag:Je.tag,payload:Je.payload,callback:null,next:null});e:{var wi=h,us=Je;_r=m;var Xo=b;switch(us.tag){case 1:if(wi=us.payload,typeof wi=="function"){Wr=wi.call(Xo,Wr,_r);break e}Wr=wi;break e;case 3:wi.flags=wi.flags&-65537|128;case 0:if(wi=us.payload,_r=typeof wi=="function"?wi.call(Xo,Wr,_r):wi,_r==null)break e;Wr=f({},Wr,_r);break e;case 2:Br=!0}}_r=Je.callback,_r!==null&&(h.flags|=64,Nr&&(h.flags|=8192),Nr=G.callbacks,Nr===null?G.callbacks=[_r]:Nr.push(_r))}else Nr={lane:_r,tag:Je.tag,payload:Je.payload,callback:Je.callback,next:null},Ur===null?(wr=Ur=Nr,Lt=Wr):Ur=Ur.next=Nr,je|=_r;if(Je=Je.next,Je===null){if(Je=G.shared.pending,Je===null)break;Nr=Je,Je=Nr.next,Nr.next=null,G.lastBaseUpdate=Nr,G.shared.pending=null}}while(!0);Ur===null&&(Lt=Wr),G.baseState=Lt,G.firstBaseUpdate=wr,G.lastBaseUpdate=Ur,Z===null&&(G.shared.lanes=0),$|=je,h.lanes=je,h.memoizedState=Wr}}function na(h,m){if(typeof h!="function")throw Error(n(191,h));h.call(m)}function Ns(h,m){var b=h.callbacks;if(b!==null)for(h.callbacks=null,h=0;h<b.length;h++)na(b[h],m)}var ni=we(null),$i=we(0);function rc(h,m){h=I,ye($i,h),ye(ni,m),I=h|m.baseLanes}function Wu(){ye($i,I),ye(ni,ni.current)}function su(){I=$i.current,ue(ni),ue($i)}var yl=we(null),nc=null;function ao(h){var m=h.alternate;ye(Po,Po.current&1),ye(yl,h),nc===null&&(m===null||ni.current!==null||m.memoizedState!==null)&&(nc=h)}function DA(h){ye(Po,Po.current),ye(yl,h),nc===null&&(nc=h)}function lh(h){h.tag===22?(ye(Po,Po.current),ye(yl,h),nc===null&&(nc=h)):Kc()}function Kc(){ye(Po,Po.current),ye(yl,yl.current)}function Gc(h){ue(yl),nc===h&&(nc=null),ue(Po)}var Po=we(0);function xf(h){for(var m=h;m!==null;){if(m.tag===13){var b=m.memoizedState;if(b!==null&&(b=b.dehydrated,b===null||lk(b)||ck(b)))return m}else if(m.tag===19&&(m.memoizedProps.revealOrder==="forwards"||m.memoizedProps.revealOrder==="backwards"||m.memoizedProps.revealOrder==="unstable_legacy-backwards"||m.memoizedProps.revealOrder==="together")){if((m.flags&128)!==0)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===h)break;for(;m.sibling===null;){if(m.return===null||m.return===h)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}var Ed=0,Ji=null,ha=null,xo=null,wh=!1,Yu=!1,_d=!1,wc=0,qu=0,ia=null,Ja=0;function ks(){throw Error(n(321))}function xl(h,m){if(m===null)return!1;for(var b=0;b<m.length&&b<h.length;b++)if(!yn(h[b],m[b]))return!1;return!0}function ch(h,m,b,S,G,Z){return Ed=Z,Ji=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,se.H=h===null||h.memoizedState===null?V0:wg,_d=!1,Z=b(S,G),_d=!1,Yu&&(Z=Fh(m,b,S,G)),tA(h),Z}function tA(h){se.H=ip;var m=ha!==null&&ha.next!==null;if(Ed=0,xo=ha=Ji=null,wh=!1,qu=0,ia=null,m)throw Error(n(300));h===null||ze||(h=h.dependencies,h!==null&&ih(h)&&(ze=!0))}function Fh(h,m,b,S){Ji=h;var G=0;do{if(Yu&&(ia=null),qu=0,Yu=!1,25<=G)throw Error(n(301));if(G+=1,xo=ha=null,h.updateQueue!=null){var Z=h.updateQueue;Z.lastEffect=null,Z.events=null,Z.stores=null,Z.memoCache!=null&&(Z.memoCache.index=0)}se.H=Eg,Z=m(b,S)}while(Yu);return Z}function MA(){var h=se.H,m=h.useState()[0];return m=typeof m.then=="function"?Uh(m):m,h=h.useState()[0],(ha!==null?ha.memoizedState:null)!==h&&(Ji.flags|=1024),m}function Km(){var h=wc!==0;return wc=0,h}function Gm(h,m,b){m.updateQueue=h.updateQueue,m.flags&=-2053,h.lanes&=~b}function Wm(h){if(wh){for(h=h.memoizedState;h!==null;){var m=h.queue;m!==null&&(m.pending=null),h=h.next}wh=!1}Ed=0,xo=ha=Ji=null,Yu=!1,qu=wc=0,ia=null}function Wc(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xo===null?Ji.memoizedState=xo=h:xo=xo.next=h,xo}function Wo(){if(ha===null){var h=Ji.alternate;h=h!==null?h.memoizedState:null}else h=ha.next;var m=xo===null?Ji.memoizedState:xo.next;if(m!==null)xo=m,ha=h;else{if(h===null)throw Ji.alternate===null?Error(n(467)):Error(n(310));ha=h,h={memoizedState:ha.memoizedState,baseState:ha.baseState,baseQueue:ha.baseQueue,queue:ha.queue,next:null},xo===null?Ji.memoizedState=xo=h:xo=xo.next=h}return xo}function Ym(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Uh(h){var m=qu;return qu+=1,ia===null&&(ia=[]),h=Be(ia,h,m),m=Ji,(xo===null?m.memoizedState:xo.next)===null&&(m=m.alternate,se.H=m===null||m.memoizedState===null?V0:wg),h}function qm(h){if(h!==null&&typeof h=="object"){if(typeof h.then=="function")return Uh(h);if(h.$$typeof===T)return yo(h)}throw Error(n(438,String(h)))}function Su(h){var m=null,b=Ji.updateQueue;if(b!==null&&(m=b.memoCache),m==null){var S=Ji.alternate;S!==null&&(S=S.updateQueue,S!==null&&(S=S.memoCache,S!=null&&(m={data:S.data.map(function(G){return G.slice()}),index:0})))}if(m==null&&(m={data:[],index:0}),b===null&&(b=Ym(),Ji.updateQueue=b),b.memoCache=m,b=m.data[m.index],b===void 0)for(b=m.data[m.index]=Array(h),S=0;S<h;S++)b[S]=re;return m.index++,b}function Hd(h,m){return typeof m=="function"?m(h):m}function Xm(h){var m=Wo();return lg(m,ha,h)}function lg(h,m,b){var S=h.queue;if(S===null)throw Error(n(311));S.lastRenderedReducer=b;var G=h.baseQueue,Z=S.pending;if(Z!==null){if(G!==null){var je=G.next;G.next=Z.next,Z.next=je}m.baseQueue=G=Z,S.pending=null}if(Z=h.baseState,G===null)h.memoizedState=Z;else{m=G.next;var Je=je=null,Lt=null,wr=m,Ur=!1;do{var Wr=wr.lane&-536870913;if(Wr!==wr.lane?(Ls&Wr)===Wr:(Ed&Wr)===Wr){var _r=wr.revertLane;if(_r===0)Lt!==null&&(Lt=Lt.next={lane:0,revertLane:0,gesture:null,action:wr.action,hasEagerState:wr.hasEagerState,eagerState:wr.eagerState,next:null}),Wr===xt&&(Ur=!0);else if((Ed&_r)===_r){wr=wr.next,_r===xt&&(Ur=!0);continue}else Wr={lane:0,revertLane:wr.revertLane,gesture:null,action:wr.action,hasEagerState:wr.hasEagerState,eagerState:wr.eagerState,next:null},Lt===null?(Je=Lt=Wr,je=Z):Lt=Lt.next=Wr,Ji.lanes|=_r,$|=_r;Wr=wr.action,_d&&b(Z,Wr),Z=wr.hasEagerState?wr.eagerState:b(Z,Wr)}else _r={lane:Wr,revertLane:wr.revertLane,gesture:wr.gesture,action:wr.action,hasEagerState:wr.hasEagerState,eagerState:wr.eagerState,next:null},Lt===null?(Je=Lt=_r,je=Z):Lt=Lt.next=_r,Ji.lanes|=Wr,$|=Wr;wr=wr.next}while(wr!==null&&wr!==m);if(Lt===null?je=Z:Lt.next=Je,!yn(Z,h.memoizedState)&&(ze=!0,Ur&&(b=It,b!==null)))throw b;h.memoizedState=Z,h.baseState=je,h.baseQueue=Lt,S.lastRenderedState=Z}return G===null&&(S.lanes=0),[h.memoizedState,S.dispatch]}function cg(h){var m=Wo(),b=m.queue;if(b===null)throw Error(n(311));b.lastRenderedReducer=h;var S=b.dispatch,G=b.pending,Z=m.memoizedState;if(G!==null){b.pending=null;var je=G=G.next;do Z=h(Z,je.action),je=je.next;while(je!==G);yn(Z,m.memoizedState)||(ze=!0),m.memoizedState=Z,m.baseQueue===null&&(m.baseState=Z),b.lastRenderedState=Z}return[Z,S]}function D0(h,m,b){var S=Ji,G=Wo(),Z=Cn;if(Z){if(b===void 0)throw Error(n(407));b=b()}else b=m();var je=!yn((ha||G).memoizedState,b);if(je&&(G.memoizedState=b,ze=!0),G=G.queue,$A(Zm.bind(null,S,G,h),[h]),G.getSnapshot!==m||je||xo!==null&&xo.memoizedState.tag&1){if(S.flags|=2048,UA(9,{destroy:void 0},ug.bind(null,S,G,b,m),null),fa===null)throw Error(n(349));Z||(Ed&127)!==0||M0(S,m,b)}return b}function M0(h,m,b){h.flags|=16384,h={getSnapshot:m,value:b},m=Ji.updateQueue,m===null?(m=Ym(),Ji.updateQueue=m,m.stores=[h]):(b=m.stores,b===null?m.stores=[h]:b.push(h))}function ug(h,m,b,S){m.value=b,m.getSnapshot=S,Xu(m)&&Sd(h)}function Zm(h,m,b){return b(function(){Xu(m)&&Sd(h)})}function Xu(h){var m=h.getSnapshot;h=h.value;try{var b=m();return!yn(h,b)}catch{return!0}}function Sd(h){var m=tc(h,2);m!==null&&Ro(m,h,2)}function rA(h){var m=Wc();if(typeof h=="function"){var b=h;if(h=b(),_d){fr(!0);try{b()}finally{fr(!1)}}}return m.memoizedState=m.baseState=h,m.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hd,lastRenderedState:h},m}function Jm(h,m,b,S){return h.baseState=b,lg(h,ha,typeof S=="function"?S:Hd)}function dg(h,m,b,S,G){if(Th(h))throw Error(n(485));if(h=m.action,h!==null){var Z={payload:G,action:h,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(je){Z.listeners.push(je)}};se.T!==null?b(!0):Z.isTransition=!1,S(Z),b=m.pending,b===null?(Z.next=m.pending=Z,FA(m,Z)):(Z.next=b.next,m.pending=b.next=Z)}}function FA(h,m){var b=m.action,S=m.payload,G=h.state;if(m.isTransition){var Z=se.T,je={};se.T=je;try{var Je=b(G,S),Lt=se.S;Lt!==null&&Lt(je,Je),Bl(h,m,Je)}catch(wr){hg(h,m,wr)}finally{Z!==null&&je.types!==null&&(Z.types=je.types),se.T=Z}}else try{Z=b(G,S),Bl(h,m,Z)}catch(wr){hg(h,m,wr)}}function Bl(h,m,b){b!==null&&typeof b=="object"&&typeof b.then=="function"?b.then(function(S){bf(h,m,S)},function(S){return hg(h,m,S)}):bf(h,m,b)}function bf(h,m,b){m.status="fulfilled",m.value=b,fg(m),h.state=b,m=h.pending,m!==null&&(b=m.next,b===m?h.pending=null:(b=b.next,m.next=b,FA(h,b)))}function hg(h,m,b){var S=h.pending;if(h.pending=null,S!==null){S=S.next;do m.status="rejected",m.reason=b,fg(m),m=m.next;while(m!==S)}h.action=null}function fg(h){h=h.listeners;for(var m=0;m<h.length;m++)(0,h[m])()}function ep(h,m){return m}function nA(h,m){if(Cn){var b=fa.formState;if(b!==null){e:{var S=Ji;if(Cn){if(oa){t:{for(var G=oa,Z=yc;G.nodeType!==8;){if(!Z){G=null;break t}if(G=Tf(G.nextSibling),G===null){G=null;break t}}Z=G.data,G=Z==="F!"||Z==="F"?G:null}if(G){oa=Tf(G.nextSibling),S=G.data==="F!";break e}}Wl(S)}S=!1}S&&(m=b[0])}}return b=Wc(),b.memoizedState=b.baseState=m,S={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ep,lastRenderedState:m},b.queue=S,b=xg.bind(null,Ji,S),S.dispatch=b,S=rA(!1),Z=wf.bind(null,Ji,!1,S.queue),S=Wc(),G={state:m,dispatch:null,action:h,pending:null},S.queue=G,b=dg.bind(null,Ji,G,Z,b),G.dispatch=b,S.memoizedState=h,[m,b,!1]}function Ag(h){var m=Wo();return by(m,ha,h)}function by(h,m,b){if(m=lg(h,m,ep)[0],h=Xm(Hd)[0],typeof m=="object"&&m!==null&&typeof m.then=="function")try{var S=Uh(m)}catch(je){throw je===Ma?Na:je}else S=m;m=Wo();var G=m.queue,Z=G.dispatch;return b!==m.memoizedState&&(Ji.flags|=2048,UA(9,{destroy:void 0},h1.bind(null,G,b),null)),[S,Z,h]}function h1(h,m){h.action=m}function F0(h){var m=Wo(),b=ha;if(b!==null)return by(m,b,h);Wo(),m=m.memoizedState,b=Wo();var S=b.queue.dispatch;return b.memoizedState=h,[m,S,!1]}function UA(h,m,b,S){return h={tag:h,create:b,deps:S,inst:m,next:null},m=Ji.updateQueue,m===null&&(m=Ym(),Ji.updateQueue=m),b=m.lastEffect,b===null?m.lastEffect=h.next=h:(S=b.next,b.next=h,h.next=S,m.lastEffect=h),h}function wy(){return Wo().memoizedState}function mg(h,m,b,S){var G=Wc();Ji.flags|=h,G.memoizedState=UA(1|m,{destroy:void 0},b,S===void 0?null:S)}function pg(h,m,b,S){var G=Wo();S=S===void 0?null:S;var Z=G.memoizedState.inst;ha!==null&&S!==null&&xl(S,ha.memoizedState.deps)?G.memoizedState=UA(m,Z,b,S):(Ji.flags|=h,G.memoizedState=UA(1|m,Z,b,S))}function U0(h,m){mg(8390656,8,h,m)}function $A(h,m){pg(2048,8,h,m)}function gg(h){Ji.flags|=4;var m=Ji.updateQueue;if(m===null)m=Ym(),Ji.updateQueue=m,m.events=[h];else{var b=m.events;b===null?m.events=[h]:b.push(h)}}function iA(h){var m=Wo().memoizedState;return gg({ref:m,nextImpl:h}),function(){if((va&2)!==0)throw Error(n(440));return m.impl.apply(void 0,arguments)}}function vg(h,m){return pg(4,2,h,m)}function Ey(h,m){return pg(4,4,h,m)}function $0(h,m){if(typeof m=="function"){h=h();var b=m(h);return function(){typeof b=="function"?b():m(null)}}if(m!=null)return h=h(),m.current=h,function(){m.current=null}}function _y(h,m,b){b=b!=null?b.concat([h]):null,pg(4,4,$0.bind(null,m,h),b)}function H0(){}function tp(h,m){var b=Wo();m=m===void 0?null:m;var S=b.memoizedState;return m!==null&&xl(m,S[1])?S[0]:(b.memoizedState=[h,m],h)}function rp(h,m){var b=Wo();m=m===void 0?null:m;var S=b.memoizedState;if(m!==null&&xl(m,S[1]))return S[0];if(S=h(),_d){fr(!0);try{h()}finally{fr(!1)}}return b.memoizedState=[S,m],S}function Eh(h,m,b){return b===void 0||(Ed&1073741824)!==0&&(Ls&261930)===0?h.memoizedState=m:(h.memoizedState=b,h=ac(),Ji.lanes|=h,$|=h,b)}function Td(h,m,b,S){return yn(b,m)?b:ni.current!==null?(h=Eh(h,b,S),yn(h,m)||(ze=!0),h):(Ed&42)===0||(Ed&1073741824)!==0&&(Ls&261930)===0?(ze=!0,h.memoizedState=b):(h=ac(),Ji.lanes|=h,$|=h,m)}function Qd(h,m,b,S,G){var Z=xe.p;xe.p=Z!==0&&8>Z?Z:8;var je=se.T,Je={};se.T=Je,wf(h,!1,m,b);try{var Lt=G(),wr=se.S;if(wr!==null&&wr(Je,Lt),Lt!==null&&typeof Lt=="object"&&typeof Lt.then=="function"){var Ur=Yr(Lt,S);Sh(h,m,Ur,Mi(h))}else Sh(h,m,S,Mi(h))}catch(Wr){Sh(h,m,{then:function(){},status:"rejected",reason:Wr},Mi())}finally{xe.p=Z,je!==null&&Je.types!==null&&(je.types=Je.types),se.T=je}}function Sy(){}function np(h,m,b,S){if(h.tag!==5)throw Error(n(476));var G=_h(h).queue;Qd(h,G,m,ce,b===null?Sy:function(){return Cd(h),b(S)})}function _h(h){var m=h.memoizedState;if(m!==null)return m;m={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hd,lastRenderedState:ce},next:null};var b={};return m.next={memoizedState:b,baseState:b,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hd,lastRenderedState:b},next:null},h.memoizedState=m,h=h.alternate,h!==null&&(h.memoizedState=m),m}function Cd(h){var m=_h(h);m.next===null&&(m=h.alternate.memoizedState),Sh(h,m.next.queue,{},Mi())}function HA(){return yo(y1)}function Q0(){return Wo().memoizedState}function yg(){return Wo().memoizedState}function Ty(h){for(var m=h.return;m!==null;){switch(m.tag){case 24:case 3:var b=Mi();h=Ni(b);var S=Vi(m,h,b);S!==null&&(Ro(S,m,b),vs(S,m,b)),m={cache:oh()},h.payload=m;return}m=m.return}}function Cy(h,m,b){var S=Mi();b={lane:S,revertLane:0,gesture:null,action:b,hasEagerState:!1,eagerState:null,next:null},Th(h)?QA(m,b):(b=Ud(h,m,b,S),b!==null&&(Ro(b,h,S),bg(b,m,S)))}function xg(h,m,b){var S=Mi();Sh(h,m,b,S)}function Sh(h,m,b,S){var G={lane:S,revertLane:0,gesture:null,action:b,hasEagerState:!1,eagerState:null,next:null};if(Th(h))QA(m,G);else{var Z=h.alternate;if(h.lanes===0&&(Z===null||Z.lanes===0)&&(Z=m.lastRenderedReducer,Z!==null))try{var je=m.lastRenderedState,Je=Z(je,b);if(G.hasEagerState=!0,G.eagerState=Je,yn(Je,je))return pc(h,m,G,0),fa===null&&ru(),!1}catch{}if(b=Ud(h,m,G,S),b!==null)return Ro(b,h,S),bg(b,m,S),!0}return!1}function wf(h,m,b,S){if(S={lane:2,revertLane:q5(),gesture:null,action:S,hasEagerState:!1,eagerState:null,next:null},Th(h)){if(m)throw Error(n(479))}else m=Ud(h,b,S,2),m!==null&&Ro(m,h,2)}function Th(h){var m=h.alternate;return h===Ji||m!==null&&m===Ji}function QA(h,m){Yu=wh=!0;var b=h.pending;b===null?m.next=m:(m.next=b.next,b.next=m),h.pending=m}function bg(h,m,b){if((b&4194048)!==0){var S=m.lanes;S&=h.pendingLanes,b|=S,m.lanes=b,ss(h,b)}}var ip={readContext:yo,use:qm,useCallback:ks,useContext:ks,useEffect:ks,useImperativeHandle:ks,useLayoutEffect:ks,useInsertionEffect:ks,useMemo:ks,useReducer:ks,useRef:ks,useState:ks,useDebugValue:ks,useDeferredValue:ks,useTransition:ks,useSyncExternalStore:ks,useId:ks,useHostTransitionStatus:ks,useFormState:ks,useActionState:ks,useOptimistic:ks,useMemoCache:ks,useCacheRefresh:ks};ip.useEffectEvent=ks;var V0={readContext:yo,use:qm,useCallback:function(h,m){return Wc().memoizedState=[h,m===void 0?null:m],h},useContext:yo,useEffect:U0,useImperativeHandle:function(h,m,b){b=b!=null?b.concat([h]):null,mg(4194308,4,$0.bind(null,m,h),b)},useLayoutEffect:function(h,m){return mg(4194308,4,h,m)},useInsertionEffect:function(h,m){mg(4,2,h,m)},useMemo:function(h,m){var b=Wc();m=m===void 0?null:m;var S=h();if(_d){fr(!0);try{h()}finally{fr(!1)}}return b.memoizedState=[S,m],S},useReducer:function(h,m,b){var S=Wc();if(b!==void 0){var G=b(m);if(_d){fr(!0);try{b(m)}finally{fr(!1)}}}else G=m;return S.memoizedState=S.baseState=G,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:G},S.queue=h,h=h.dispatch=Cy.bind(null,Ji,h),[S.memoizedState,h]},useRef:function(h){var m=Wc();return h={current:h},m.memoizedState=h},useState:function(h){h=rA(h);var m=h.queue,b=xg.bind(null,Ji,m);return m.dispatch=b,[h.memoizedState,b]},useDebugValue:H0,useDeferredValue:function(h,m){var b=Wc();return Eh(b,h,m)},useTransition:function(){var h=rA(!1);return h=Qd.bind(null,Ji,h.queue,!0,!1),Wc().memoizedState=h,[!1,h]},useSyncExternalStore:function(h,m,b){var S=Ji,G=Wc();if(Cn){if(b===void 0)throw Error(n(407));b=b()}else{if(b=m(),fa===null)throw Error(n(349));(Ls&127)!==0||M0(S,m,b)}G.memoizedState=b;var Z={value:b,getSnapshot:m};return G.queue=Z,U0(Zm.bind(null,S,Z,h),[h]),S.flags|=2048,UA(9,{destroy:void 0},ug.bind(null,S,Z,b,m),null),b},useId:function(){var h=Wc(),m=fa.identifierPrefix;if(Cn){var b=vn,S=$r;b=(S&~(1<<32-Hr(S)-1)).toString(32)+b,m="_"+m+"R_"+b,b=wc++,0<b&&(m+="H"+b.toString(32)),m+="_"}else b=Ja++,m="_"+m+"r_"+b.toString(32)+"_";return h.memoizedState=m},useHostTransitionStatus:HA,useFormState:nA,useActionState:nA,useOptimistic:function(h){var m=Wc();m.memoizedState=m.baseState=h;var b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return m.queue=b,m=wf.bind(null,Ji,!0,b),b.dispatch=m,[h,m]},useMemoCache:Su,useCacheRefresh:function(){return Wc().memoizedState=Ty.bind(null,Ji)},useEffectEvent:function(h){var m=Wc(),b={impl:h};return m.memoizedState=b,function(){if((va&2)!==0)throw Error(n(440));return b.impl.apply(void 0,arguments)}}},wg={readContext:yo,use:qm,useCallback:tp,useContext:yo,useEffect:$A,useImperativeHandle:_y,useInsertionEffect:vg,useLayoutEffect:Ey,useMemo:rp,useReducer:Xm,useRef:wy,useState:function(){return Xm(Hd)},useDebugValue:H0,useDeferredValue:function(h,m){var b=Wo();return Td(b,ha.memoizedState,h,m)},useTransition:function(){var h=Xm(Hd)[0],m=Wo().memoizedState;return[typeof h=="boolean"?h:Uh(h),m]},useSyncExternalStore:D0,useId:Q0,useHostTransitionStatus:HA,useFormState:Ag,useActionState:Ag,useOptimistic:function(h,m){var b=Wo();return Jm(b,ha,h,m)},useMemoCache:Su,useCacheRefresh:yg};wg.useEffectEvent=iA;var Eg={readContext:yo,use:qm,useCallback:tp,useContext:yo,useEffect:$A,useImperativeHandle:_y,useInsertionEffect:vg,useLayoutEffect:Ey,useMemo:rp,useReducer:cg,useRef:wy,useState:function(){return cg(Hd)},useDebugValue:H0,useDeferredValue:function(h,m){var b=Wo();return ha===null?Eh(b,h,m):Td(b,ha.memoizedState,h,m)},useTransition:function(){var h=cg(Hd)[0],m=Wo().memoizedState;return[typeof h=="boolean"?h:Uh(h),m]},useSyncExternalStore:D0,useId:Q0,useHostTransitionStatus:HA,useFormState:F0,useActionState:F0,useOptimistic:function(h,m){var b=Wo();return ha!==null?Jm(b,ha,h,m):(b.baseState=h,[h,b.queue.dispatch])},useMemoCache:Su,useCacheRefresh:yg};Eg.useEffectEvent=iA;function _g(h,m,b,S){m=h.memoizedState,b=b(S,m),b=b==null?m:f({},m,b),h.memoizedState=b,h.lanes===0&&(h.updateQueue.baseState=b)}var Sg={enqueueSetState:function(h,m,b){h=h._reactInternals;var S=Mi(),G=Ni(S);G.payload=m,b!=null&&(G.callback=b),m=Vi(h,G,S),m!==null&&(Ro(m,h,S),vs(m,h,S))},enqueueReplaceState:function(h,m,b){h=h._reactInternals;var S=Mi(),G=Ni(S);G.tag=1,G.payload=m,b!=null&&(G.callback=b),m=Vi(h,G,S),m!==null&&(Ro(m,h,S),vs(m,h,S))},enqueueForceUpdate:function(h,m){h=h._reactInternals;var b=Mi(),S=Ni(b);S.tag=2,m!=null&&(S.callback=m),m=Vi(h,S,b),m!==null&&(Ro(m,h,b),vs(m,h,b))}};function Tg(h,m,b,S,G,Z,je){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(S,Z,je):m.prototype&&m.prototype.isPureReactComponent?!ls(b,S)||!ls(G,Z):!0}function z0(h,m,b,S){h=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(b,S),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(b,S),m.state!==h&&Sg.enqueueReplaceState(m,m.state,null)}function $h(h,m){var b=m;if("ref"in m){b={};for(var S in m)S!=="ref"&&(b[S]=m[S])}if(h=h.defaultProps){b===m&&(b=f({},b));for(var G in h)b[G]===void 0&&(b[G]=h[G])}return b}function sp(h){bu(h)}function ap(h){console.error(h)}function op(h){bu(h)}function VA(h,m){try{var b=h.onUncaughtError;b(m.value,{componentStack:m.stack})}catch(S){setTimeout(function(){throw S})}}function R(h,m,b){try{var S=h.onCaughtError;S(b.value,{componentStack:b.stack,errorBoundary:m.tag===1?m.stateNode:null})}catch(G){setTimeout(function(){throw G})}}function Y(h,m,b){return b=Ni(b),b.tag=3,b.payload={element:null},b.callback=function(){VA(h,m)},b}function me(h){return h=Ni(h),h.tag=3,h}function Se(h,m,b,S){var G=b.type.getDerivedStateFromError;if(typeof G=="function"){var Z=S.value;h.payload=function(){return G(Z)},h.callback=function(){R(m,b,S)}}var je=b.stateNode;je!==null&&typeof je.componentDidCatch=="function"&&(h.callback=function(){R(m,b,S),typeof G!="function"&&(On===null?On=new Set([this]):On.add(this));var Je=S.stack;this.componentDidCatch(S.value,{componentStack:Je!==null?Je:""})})}function De(h,m,b,S,G){if(b.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){if(m=b.alternate,m!==null&&wd(m,b,G,!0),b=yl.current,b!==null){switch(b.tag){case 31:case 13:return nc===null?jh():b.alternate===null&&Q===0&&(Q=3),b.flags&=-257,b.flags|=65536,b.lanes=G,S===Go?b.flags|=16384:(m=b.updateQueue,m===null?b.updateQueue=new Set([S]):m.add(S),G5(h,S,G)),!1;case 22:return b.flags|=65536,S===Go?b.flags|=16384:(m=b.updateQueue,m===null?(m={transitions:null,markerInstances:null,retryQueue:new Set([S])},b.updateQueue=m):(b=m.retryQueue,b===null?m.retryQueue=new Set([S]):b.add(S)),G5(h,S,G)),!1}throw Error(n(435,b.tag))}return G5(h,S,G),jh(),!1}if(Cn)return m=yl.current,m!==null?((m.flags&65536)===0&&(m.flags|=256),m.flags|=65536,m.lanes=G,S!==xd&&(h=Error(n(422),{cause:S}),xc(_(h,b)))):(S!==xd&&(m=Error(n(423),{cause:S}),xc(_(m,b))),h=h.current.alternate,h.flags|=65536,G&=-G,h.lanes|=G,S=_(S,b),G=Y(h.stateNode,S,G),xn(h,G),Q!==4&&(Q=2)),!1;var Z=Error(n(520),{cause:S});if(Z=_(Z,b),dt===null?dt=[Z]:dt.push(Z),Q!==4&&(Q=2),m===null)return!0;S=_(S,b),b=m;do{switch(b.tag){case 3:return b.flags|=65536,h=G&-G,b.lanes|=h,h=Y(b.stateNode,S,h),xn(b,h),!1;case 1:if(m=b.type,Z=b.stateNode,(b.flags&128)===0&&(typeof m.getDerivedStateFromError=="function"||Z!==null&&typeof Z.componentDidCatch=="function"&&(On===null||!On.has(Z))))return b.flags|=65536,G&=-G,b.lanes|=G,G=me(G),Se(G,h,b,S),xn(b,G),!1}b=b.return}while(b!==null);return!1}var Ke=Error(n(461)),ze=!1;function Ze(h,m,b,S){m.child=h===null?Xr(m,null,b,S):jn(m,h.child,b,S)}function nt(h,m,b,S,G){b=b.render;var Z=m.ref;if("ref"in S){var je={};for(var Je in S)Je!=="ref"&&(je[Je]=S[Je])}else je=S;return zc(m),S=ch(h,m,b,je,Z,G),Je=Km(),h!==null&&!ze?(Gm(h,m,G),Ps(h,m,G)):(Cn&&Je&&Da(m),m.flags|=1,Ze(h,m,S,G),m.child)}function yt(h,m,b,S,G){if(h===null){var Z=b.type;return typeof Z=="function"&&!Fi(Z)&&Z.defaultProps===void 0&&b.compare===null?(m.tag=15,m.type=Z,Ft(h,m,Z,S,G)):(h=Qc(b.type,null,S,m,m.mode,G),h.ref=m.ref,h.return=m,m.child=h)}if(Z=h.child,!bo(h,G)){var je=Z.memoizedProps;if(b=b.compare,b=b!==null?b:ls,b(je,S)&&h.ref===m.ref)return Ps(h,m,G)}return m.flags|=1,h=gc(Z,S),h.ref=m.ref,h.return=m,m.child=h}function Ft(h,m,b,S,G){if(h!==null){var Z=h.memoizedProps;if(ls(Z,S)&&h.ref===m.ref)if(ze=!1,m.pendingProps=S=Z,bo(h,G))(h.flags&131072)!==0&&(ze=!0);else return m.lanes=h.lanes,Ps(h,m,G)}return Fr(h,m,b,S,G)}function dr(h,m,b,S){var G=S.children,Z=h!==null?h.memoizedState:null;if(h===null&&m.stateNode===null&&(m.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),S.mode==="hidden"){if((m.flags&128)!==0){if(Z=Z!==null?Z.baseLanes|b:b,h!==null){for(S=m.child=h.child,G=0;S!==null;)G=G|S.lanes|S.childLanes,S=S.sibling;S=G&~Z}else S=0,m.child=null;return Gt(h,m,Z,b,S)}if((b&536870912)!==0)m.memoizedState={baseLanes:0,cachePool:null},h!==null&&as(m,Z!==null?Z.cachePool:null),Z!==null?rc(m,Z):Wu(),lh(m);else return S=m.lanes=536870912,Gt(h,m,Z!==null?Z.baseLanes|b:b,b,S)}else Z!==null?(as(m,Z.cachePool),rc(m,Z),Kc(),m.memoizedState=null):(h!==null&&as(m,null),Wu(),Kc());return Ze(h,m,G,b),m.child}function vt(h,m){return h!==null&&h.tag===22||m.stateNode!==null||(m.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.sibling}function Gt(h,m,b,S,G){var Z=Yi();return Z=Z===null?null:{parent:Bo._currentValue,pool:Z},m.memoizedState={baseLanes:b,cachePool:Z},h!==null&&as(m,null),Wu(),lh(m),h!==null&&wd(h,m,S,!0),m.childLanes=G,null}function er(h,m){return m=ws({mode:m.mode,children:m.children},h.mode),m.ref=h.ref,h.child=m,m.return=h,m}function Or(h,m,b){return jn(m,h.child,null,b),h=er(m,m.pendingProps),h.flags|=2,Gc(m),m.memoizedState=null,h}function vr(h,m,b){var S=m.pendingProps,G=(m.flags&128)!==0;if(m.flags&=-129,h===null){if(Cn){if(S.mode==="hidden")return h=er(m,S),m.lanes=536870912,vt(null,h);if(DA(m),(h=oa)?(h=f6(h,yc),h=h!==null&&h.data==="&"?h:null,h!==null&&(m.memoizedState={dehydrated:h,treeContext:xr!==null?{id:$r,overflow:vn}:null,retryLane:536870912,hydrationErrors:null},b=Lo(h),b.return=m,m.child=b,Xs=m,oa=null)):h=null,h===null)throw Wl(m);return m.lanes=536870912,null}return er(m,S)}var Z=h.memoizedState;if(Z!==null){var je=Z.dehydrated;if(DA(m),G)if(m.flags&256)m.flags&=-257,m=Or(h,m,b);else if(m.memoizedState!==null)m.child=h.child,m.flags|=128,m=null;else throw Error(n(558));else if(ze||wd(h,m,b,!1),G=(b&h.childLanes)!==0,ze||G){if(S=fa,S!==null&&(je=ea(S,b),je!==0&&je!==Z.retryLane))throw Z.retryLane=je,tc(h,je),Ro(S,h,je),Ke;jh(),m=Or(h,m,b)}else h=Z.treeContext,oa=Tf(je.nextSibling),Xs=m,Cn=!0,Gu=null,yc=!1,h!==null&&il(m,h),m=er(m,S),m.flags|=4096;return m}return h=gc(h.child,{mode:S.mode,children:S.children}),h.ref=m.ref,m.child=h,h.return=m,h}function Pr(h,m){var b=m.ref;if(b===null)h!==null&&h.ref!==null&&(m.flags|=4194816);else{if(typeof b!="function"&&typeof b!="object")throw Error(n(284));(h===null||h.ref!==b)&&(m.flags|=4194816)}}function Fr(h,m,b,S,G){return zc(m),b=ch(h,m,b,S,void 0,G),S=Km(),h!==null&&!ze?(Gm(h,m,G),Ps(h,m,G)):(Cn&&S&&Da(m),m.flags|=1,Ze(h,m,b,G),m.child)}function sn(h,m,b,S,G,Z){return zc(m),m.updateQueue=null,b=Fh(m,S,b,G),tA(h),S=Km(),h!==null&&!ze?(Gm(h,m,Z),Ps(h,m,Z)):(Cn&&S&&Da(m),m.flags|=1,Ze(h,m,b,Z),m.child)}function qr(h,m,b,S,G){if(zc(m),m.stateNode===null){var Z=vl,je=b.contextType;typeof je=="object"&&je!==null&&(Z=yo(je)),Z=new b(S,Z),m.memoizedState=Z.state!==null&&Z.state!==void 0?Z.state:null,Z.updater=Sg,m.stateNode=Z,Z._reactInternals=m,Z=m.stateNode,Z.props=S,Z.state=m.memoizedState,Z.refs={},Fa(m),je=b.contextType,Z.context=typeof je=="object"&&je!==null?yo(je):vl,Z.state=m.memoizedState,je=b.getDerivedStateFromProps,typeof je=="function"&&(_g(m,b,je,S),Z.state=m.memoizedState),typeof b.getDerivedStateFromProps=="function"||typeof Z.getSnapshotBeforeUpdate=="function"||typeof Z.UNSAFE_componentWillMount!="function"&&typeof Z.componentWillMount!="function"||(je=Z.state,typeof Z.componentWillMount=="function"&&Z.componentWillMount(),typeof Z.UNSAFE_componentWillMount=="function"&&Z.UNSAFE_componentWillMount(),je!==Z.state&&Sg.enqueueReplaceState(Z,Z.state,null),Si(m,S,Z,G),Ua(),Z.state=m.memoizedState),typeof Z.componentDidMount=="function"&&(m.flags|=4194308),S=!0}else if(h===null){Z=m.stateNode;var Je=m.memoizedProps,Lt=$h(b,Je);Z.props=Lt;var wr=Z.context,Ur=b.contextType;je=vl,typeof Ur=="object"&&Ur!==null&&(je=yo(Ur));var Wr=b.getDerivedStateFromProps;Ur=typeof Wr=="function"||typeof Z.getSnapshotBeforeUpdate=="function",Je=m.pendingProps!==Je,Ur||typeof Z.UNSAFE_componentWillReceiveProps!="function"&&typeof Z.componentWillReceiveProps!="function"||(Je||wr!==je)&&z0(m,Z,S,je),Br=!1;var _r=m.memoizedState;Z.state=_r,Si(m,S,Z,G),Ua(),wr=m.memoizedState,Je||_r!==wr||Br?(typeof Wr=="function"&&(_g(m,b,Wr,S),wr=m.memoizedState),(Lt=Br||Tg(m,b,Lt,S,_r,wr,je))?(Ur||typeof Z.UNSAFE_componentWillMount!="function"&&typeof Z.componentWillMount!="function"||(typeof Z.componentWillMount=="function"&&Z.componentWillMount(),typeof Z.UNSAFE_componentWillMount=="function"&&Z.UNSAFE_componentWillMount()),typeof Z.componentDidMount=="function"&&(m.flags|=4194308)):(typeof Z.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=S,m.memoizedState=wr),Z.props=S,Z.state=wr,Z.context=je,S=Lt):(typeof Z.componentDidMount=="function"&&(m.flags|=4194308),S=!1)}else{Z=m.stateNode,Wi(h,m),je=m.memoizedProps,Ur=$h(b,je),Z.props=Ur,Wr=m.pendingProps,_r=Z.context,wr=b.contextType,Lt=vl,typeof wr=="object"&&wr!==null&&(Lt=yo(wr)),Je=b.getDerivedStateFromProps,(wr=typeof Je=="function"||typeof Z.getSnapshotBeforeUpdate=="function")||typeof Z.UNSAFE_componentWillReceiveProps!="function"&&typeof Z.componentWillReceiveProps!="function"||(je!==Wr||_r!==Lt)&&z0(m,Z,S,Lt),Br=!1,_r=m.memoizedState,Z.state=_r,Si(m,S,Z,G),Ua();var Nr=m.memoizedState;je!==Wr||_r!==Nr||Br||h!==null&&h.dependencies!==null&&ih(h.dependencies)?(typeof Je=="function"&&(_g(m,b,Je,S),Nr=m.memoizedState),(Ur=Br||Tg(m,b,Ur,S,_r,Nr,Lt)||h!==null&&h.dependencies!==null&&ih(h.dependencies))?(wr||typeof Z.UNSAFE_componentWillUpdate!="function"&&typeof Z.componentWillUpdate!="function"||(typeof Z.componentWillUpdate=="function"&&Z.componentWillUpdate(S,Nr,Lt),typeof Z.UNSAFE_componentWillUpdate=="function"&&Z.UNSAFE_componentWillUpdate(S,Nr,Lt)),typeof Z.componentDidUpdate=="function"&&(m.flags|=4),typeof Z.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof Z.componentDidUpdate!="function"||je===h.memoizedProps&&_r===h.memoizedState||(m.flags|=4),typeof Z.getSnapshotBeforeUpdate!="function"||je===h.memoizedProps&&_r===h.memoizedState||(m.flags|=1024),m.memoizedProps=S,m.memoizedState=Nr),Z.props=S,Z.state=Nr,Z.context=Lt,S=Ur):(typeof Z.componentDidUpdate!="function"||je===h.memoizedProps&&_r===h.memoizedState||(m.flags|=4),typeof Z.getSnapshotBeforeUpdate!="function"||je===h.memoizedProps&&_r===h.memoizedState||(m.flags|=1024),S=!1)}return Z=S,Pr(h,m),S=(m.flags&128)!==0,Z||S?(Z=m.stateNode,b=S&&typeof b.getDerivedStateFromError!="function"?null:Z.render(),m.flags|=1,h!==null&&S?(m.child=jn(m,h.child,null,G),m.child=jn(m,null,b,G)):Ze(h,m,b,G),m.memoizedState=Z.state,h=m.child):h=Ps(h,m,G),h}function Ti(h,m,b,S){return Ko(),m.flags|=256,Ze(h,m,b,S),m.child}var Qn={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Is(h){return{baseLanes:h,cachePool:ra()}}function pi(h,m,b){return h=h!==null?h.childLanes&~b:0,m&&(h|=$e),h}function la(h,m,b){var S=m.pendingProps,G=!1,Z=(m.flags&128)!==0,je;if((je=Z)||(je=h!==null&&h.memoizedState===null?!1:(Po.current&2)!==0),je&&(G=!0,m.flags&=-129),je=(m.flags&32)!==0,m.flags&=-33,h===null){if(Cn){if(G?ao(m):Kc(),(h=oa)?(h=f6(h,yc),h=h!==null&&h.data!=="&"?h:null,h!==null&&(m.memoizedState={dehydrated:h,treeContext:xr!==null?{id:$r,overflow:vn}:null,retryLane:536870912,hydrationErrors:null},b=Lo(h),b.return=m,m.child=b,Xs=m,oa=null)):h=null,h===null)throw Wl(m);return ck(h)?m.lanes=32:m.lanes=536870912,null}var Je=S.children;return S=S.fallback,G?(Kc(),G=m.mode,Je=ws({mode:"hidden",children:Je},G),S=Ku(S,G,b,null),Je.return=m,S.return=m,Je.sibling=S,m.child=Je,S=m.child,S.memoizedState=Is(b),S.childLanes=pi(h,je,b),m.memoizedState=Qn,vt(null,S)):(ao(m),Ol(m,Je))}var Lt=h.memoizedState;if(Lt!==null&&(Je=Lt.dehydrated,Je!==null)){if(Z)m.flags&256?(ao(m),m.flags&=-257,m=hi(h,m,b)):m.memoizedState!==null?(Kc(),m.child=h.child,m.flags|=128,m=null):(Kc(),Je=S.fallback,G=m.mode,S=ws({mode:"visible",children:S.children},G),Je=Ku(Je,G,b,null),Je.flags|=2,S.return=m,Je.return=m,S.sibling=Je,m.child=S,jn(m,h.child,null,b),S=m.child,S.memoizedState=Is(b),S.childLanes=pi(h,je,b),m.memoizedState=Qn,m=vt(null,S));else if(ao(m),ck(Je)){if(je=Je.nextSibling&&Je.nextSibling.dataset,je)var wr=je.dgst;je=wr,S=Error(n(419)),S.stack="",S.digest=je,xc({value:S,source:null,stack:null}),m=hi(h,m,b)}else if(ze||wd(h,m,b,!1),je=(b&h.childLanes)!==0,ze||je){if(je=fa,je!==null&&(S=ea(je,b),S!==0&&S!==Lt.retryLane))throw Lt.retryLane=S,tc(h,S),Ro(je,h,S),Ke;lk(Je)||jh(),m=hi(h,m,b)}else lk(Je)?(m.flags|=192,m.child=h.child,m=null):(h=Lt.treeContext,oa=Tf(Je.nextSibling),Xs=m,Cn=!0,Gu=null,yc=!1,h!==null&&il(m,h),m=Ol(m,S.children),m.flags|=4096);return m}return G?(Kc(),Je=S.fallback,G=m.mode,Lt=h.child,wr=Lt.sibling,S=gc(Lt,{mode:"hidden",children:S.children}),S.subtreeFlags=Lt.subtreeFlags&65011712,wr!==null?Je=gc(wr,Je):(Je=Ku(Je,G,b,null),Je.flags|=2),Je.return=m,S.return=m,S.sibling=Je,m.child=S,vt(null,S),S=m.child,Je=h.child.memoizedState,Je===null?Je=Is(b):(G=Je.cachePool,G!==null?(Lt=Bo._currentValue,G=G.parent!==Lt?{parent:Lt,pool:Lt}:G):G=ra(),Je={baseLanes:Je.baseLanes|b,cachePool:G}),S.memoizedState=Je,S.childLanes=pi(h,je,b),m.memoizedState=Qn,vt(h.child,S)):(ao(m),b=h.child,h=b.sibling,b=gc(b,{mode:"visible",children:S.children}),b.return=m,b.sibling=null,h!==null&&(je=m.deletions,je===null?(m.deletions=[h],m.flags|=16):je.push(h)),m.child=b,m.memoizedState=null,b)}function Ol(h,m){return m=ws({mode:"visible",children:m},h.mode),m.return=h,h.child=m}function ws(h,m){return h=Ll(22,h,null,m),h.lanes=0,h}function hi(h,m,b){return jn(m,h.child,null,b),h=Ol(m,m.pendingProps.children),h.flags|=2,m.memoizedState=null,h}function Bn(h,m,b){h.lanes|=m;var S=h.alternate;S!==null&&(S.lanes|=m),yh(h.return,m,b)}function sl(h,m,b,S,G,Z){var je=h.memoizedState;je===null?h.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:S,tail:b,tailMode:G,treeForkCount:Z}:(je.isBackwards=m,je.rendering=null,je.renderingStartTime=0,je.last=S,je.tail=b,je.tailMode=G,je.treeForkCount=Z)}function Es(h,m,b){var S=m.pendingProps,G=S.revealOrder,Z=S.tail;S=S.children;var je=Po.current,Je=(je&2)!==0;if(Je?(je=je&1|2,m.flags|=128):je&=1,ye(Po,je),Ze(h,m,S,b),S=Cn?Ve:0,!Je&&h!==null&&(h.flags&128)!==0)e:for(h=m.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&Bn(h,b,m);else if(h.tag===19)Bn(h,b,m);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===m)break e;for(;h.sibling===null;){if(h.return===null||h.return===m)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}switch(G){case"forwards":for(b=m.child,G=null;b!==null;)h=b.alternate,h!==null&&xf(h)===null&&(G=b),b=b.sibling;b=G,b===null?(G=m.child,m.child=null):(G=b.sibling,b.sibling=null),sl(m,!1,G,b,Z,S);break;case"backwards":case"unstable_legacy-backwards":for(b=null,G=m.child,m.child=null;G!==null;){if(h=G.alternate,h!==null&&xf(h)===null){m.child=G;break}h=G.sibling,G.sibling=b,b=G,G=h}sl(m,!0,b,null,Z,S);break;case"together":sl(m,!1,null,null,void 0,S);break;default:m.memoizedState=null}return m.child}function Ps(h,m,b){if(h!==null&&(m.dependencies=h.dependencies),$|=m.lanes,(b&m.childLanes)===0)if(h!==null){if(wd(h,m,b,!1),(b&m.childLanes)===0)return null}else return null;if(h!==null&&m.child!==h.child)throw Error(n(153));if(m.child!==null){for(h=m.child,b=gc(h,h.pendingProps),m.child=b,b.return=m;h.sibling!==null;)h=h.sibling,b=b.sibling=gc(h,h.pendingProps),b.return=m;b.sibling=null}return m.child}function bo(h,m){return(h.lanes&m)!==0?!0:(h=h.dependencies,!!(h!==null&&ih(h)))}function ic(h,m,b){switch(m.tag){case 3:pt(m,m.stateNode.containerInfo),bc(m,Bo,h.memoizedState.cache),Ko();break;case 27:case 5:st(m);break;case 4:pt(m,m.stateNode.containerInfo);break;case 10:bc(m,m.type,m.memoizedProps.value);break;case 31:if(m.memoizedState!==null)return m.flags|=128,DA(m),null;break;case 13:var S=m.memoizedState;if(S!==null)return S.dehydrated!==null?(ao(m),m.flags|=128,null):(b&m.child.childLanes)!==0?la(h,m,b):(ao(m),h=Ps(h,m,b),h!==null?h.sibling:null);ao(m);break;case 19:var G=(h.flags&128)!==0;if(S=(b&m.childLanes)!==0,S||(wd(h,m,b,!1),S=(b&m.childLanes)!==0),G){if(S)return Es(h,m,b);m.flags|=128}if(G=m.memoizedState,G!==null&&(G.rendering=null,G.tail=null,G.lastEffect=null),ye(Po,Po.current),S)break;return null;case 22:return m.lanes=0,dr(h,m,b,m.pendingProps);case 24:bc(m,Bo,h.memoizedState.cache)}return Ps(h,m,b)}function Ec(h,m,b){if(h!==null)if(h.memoizedProps!==m.pendingProps)ze=!0;else{if(!bo(h,b)&&(m.flags&128)===0)return ze=!1,ic(h,m,b);ze=(h.flags&131072)!==0}else ze=!1,Cn&&(m.flags&1048576)!==0&&As(m,Ve,m.index);switch(m.lanes=0,m.tag){case 16:e:{var S=m.pendingProps;if(h=J(m.elementType),m.type=h,typeof h=="function")Fi(h)?(S=$h(h,S),m.tag=1,m=qr(null,m,h,S,b)):(m.tag=0,m=Fr(null,m,h,S,b));else{if(h!=null){var G=h.$$typeof;if(G===C){m.tag=11,m=nt(null,m,h,S,b);break e}else if(G===U){m.tag=14,m=yt(null,m,h,S,b);break e}}throw m=Ee(h)||h,Error(n(306,m,""))}}return m;case 0:return Fr(h,m,m.type,m.pendingProps,b);case 1:return S=m.type,G=$h(S,m.pendingProps),qr(h,m,S,G,b);case 3:e:{if(pt(m,m.stateNode.containerInfo),h===null)throw Error(n(387));S=m.pendingProps;var Z=m.memoizedState;G=Z.element,Wi(h,m),Si(m,S,null,b);var je=m.memoizedState;if(S=je.cache,bc(m,Bo,S),S!==Z.cache&&iu(m,[Bo],b,!0),Ua(),S=je.element,Z.isDehydrated)if(Z={element:S,isDehydrated:!1,cache:je.cache},m.updateQueue.baseState=Z,m.memoizedState=Z,m.flags&256){m=Ti(h,m,S,b);break e}else if(S!==G){G=_(Error(n(424)),m),xc(G),m=Ti(h,m,S,b);break e}else for(h=m.stateNode.containerInfo,h.nodeType===9?h=h.body:h=h.nodeName==="HTML"?h.ownerDocument.body:h,oa=Tf(h.firstChild),Xs=m,Cn=!0,Gu=null,yc=!0,b=Xr(m,null,S,b),m.child=b;b;)b.flags=b.flags&-3|4096,b=b.sibling;else{if(Ko(),S===G){m=Ps(h,m,b);break e}Ze(h,m,S,b)}m=m.child}return m;case 26:return Pr(h,m),h===null?(b=y6(m.type,null,m.pendingProps,null))?m.memoizedState=b:Cn||(b=m.type,h=m.pendingProps,S=e2(Fe.current).createElement(b),S[rs]=m,S[Ys]=h,Nd(S,b,h),ba(S),m.stateNode=S):m.memoizedState=y6(m.type,h.memoizedProps,m.pendingProps,h.memoizedState),null;case 27:return st(m),h===null&&Cn&&(S=m.stateNode=p6(m.type,m.pendingProps,Fe.current),Xs=m,yc=!0,G=oa,kg(m.type)?(uk=G,oa=Tf(S.firstChild)):oa=G),Ze(h,m,m.pendingProps.children,b),Pr(h,m),h===null&&(m.flags|=4194304),m.child;case 5:return h===null&&Cn&&((G=S=oa)&&(S=dle(S,m.type,m.pendingProps,yc),S!==null?(m.stateNode=S,Xs=m,oa=Tf(S.firstChild),yc=!1,G=!0):G=!1),G||Wl(m)),st(m),G=m.type,Z=m.pendingProps,je=h!==null?h.memoizedProps:null,S=Z.children,sk(G,Z)?S=null:je!==null&&sk(G,je)&&(m.flags|=32),m.memoizedState!==null&&(G=ch(h,m,MA,null,null,b),y1._currentValue=G),Pr(h,m),Ze(h,m,S,b),m.child;case 6:return h===null&&Cn&&((h=b=oa)&&(b=hle(b,m.pendingProps,yc),b!==null?(m.stateNode=b,Xs=m,oa=null,h=!0):h=!1),h||Wl(m)),null;case 13:return la(h,m,b);case 4:return pt(m,m.stateNode.containerInfo),S=m.pendingProps,h===null?m.child=jn(m,null,S,b):Ze(h,m,S,b),m.child;case 11:return nt(h,m,m.type,m.pendingProps,b);case 7:return Ze(h,m,m.pendingProps,b),m.child;case 8:return Ze(h,m,m.pendingProps.children,b),m.child;case 12:return Ze(h,m,m.pendingProps.children,b),m.child;case 10:return S=m.pendingProps,bc(m,m.type,S.value),Ze(h,m,S.children,b),m.child;case 9:return G=m.type._context,S=m.pendingProps.children,zc(m),G=yo(G),S=S(G),m.flags|=1,Ze(h,m,S,b),m.child;case 14:return yt(h,m,m.type,m.pendingProps,b);case 15:return Ft(h,m,m.type,m.pendingProps,b);case 19:return Es(h,m,b);case 31:return vr(h,m,b);case 22:return dr(h,m,b,m.pendingProps);case 24:return zc(m),S=yo(Bo),h===null?(G=Yi(),G===null&&(G=fa,Z=oh(),G.pooledCache=Z,Z.refCount++,Z!==null&&(G.pooledCacheLanes|=b),G=Z),m.memoizedState={parent:S,cache:G},Fa(m),bc(m,Bo,G)):((h.lanes&b)!==0&&(Wi(h,m),Si(m,null,null,b),Ua()),G=h.memoizedState,Z=m.memoizedState,G.parent!==S?(G={parent:S,cache:S},m.memoizedState=G,m.lanes===0&&(m.memoizedState=m.updateQueue.baseState=G),bc(m,Bo,S)):(S=Z.cache,bc(m,Bo,S),S!==G.cache&&iu(m,[Bo],b,!0))),Ze(h,m,m.pendingProps.children,b),m.child;case 29:throw m.pendingProps}throw Error(n(156,m.tag))}function $a(h){h.flags|=4}function _c(h,m,b,S,G){if((m=(h.mode&32)!==0)&&(m=!1),m){if(h.flags|=16777216,(G&335544128)===G)if(h.stateNode.complete)h.flags|=8192;else if(oA())h.flags|=8192;else throw qe=Go,Oo}else h.flags&=-16777217}function au(h,m){if(m.type!=="stylesheet"||(m.state.loading&4)!==0)h.flags&=-16777217;else if(h.flags|=16777216,!_6(m))if(oA())h.flags|=8192;else throw qe=Go,Oo}function al(h,m){m!==null&&(h.flags|=4),h.flags&16384&&(m=h.tag!==22?Ts():536870912,h.lanes|=m,ut|=m)}function sa(h,m){if(!Cn)switch(h.tailMode){case"hidden":m=h.tail;for(var b=null;m!==null;)m.alternate!==null&&(b=m),m=m.sibling;b===null?h.tail=null:b.sibling=null;break;case"collapsed":b=h.tail;for(var S=null;b!==null;)b.alternate!==null&&(S=b),b=b.sibling;S===null?m||h.tail===null?h.tail=null:h.tail.sibling=null:S.sibling=null}}function zi(h){var m=h.alternate!==null&&h.alternate.child===h.child,b=0,S=0;if(m)for(var G=h.child;G!==null;)b|=G.lanes|G.childLanes,S|=G.subtreeFlags&65011712,S|=G.flags&65011712,G.return=h,G=G.sibling;else for(G=h.child;G!==null;)b|=G.lanes|G.childLanes,S|=G.subtreeFlags,S|=G.flags,G.return=h,G=G.sibling;return h.subtreeFlags|=S,h.childLanes=b,m}function bl(h,m,b){var S=m.pendingProps;switch(Co(m),m.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zi(m),null;case 1:return zi(m),null;case 3:return b=m.stateNode,S=null,h!==null&&(S=h.memoizedState.cache),m.memoizedState.cache!==S&&(m.flags|=2048),Vc(Bo),Pe(),b.pendingContext&&(b.context=b.pendingContext,b.pendingContext=null),(h===null||h.child===null)&&(Eu(m)?$a(m):h===null||h.memoizedState.isDehydrated&&(m.flags&256)===0||(m.flags|=1024,bd())),zi(m),null;case 26:var G=m.type,Z=m.memoizedState;return h===null?($a(m),Z!==null?(zi(m),au(m,Z)):(zi(m),_c(m,G,null,S,b))):Z?Z!==h.memoizedState?($a(m),zi(m),au(m,Z)):(zi(m),m.flags&=-16777217):(h=h.memoizedProps,h!==S&&$a(m),zi(m),_c(m,G,h,S,b)),null;case 27:if(et(m),b=Fe.current,G=m.type,h!==null&&m.stateNode!=null)h.memoizedProps!==S&&$a(m);else{if(!S){if(m.stateNode===null)throw Error(n(166));return zi(m),null}h=Le.current,Eu(m)?wu(m):(h=p6(G,S,b),m.stateNode=h,$a(m))}return zi(m),null;case 5:if(et(m),G=m.type,h!==null&&m.stateNode!=null)h.memoizedProps!==S&&$a(m);else{if(!S){if(m.stateNode===null)throw Error(n(166));return zi(m),null}if(Z=Le.current,Eu(m))wu(m);else{var je=e2(Fe.current);switch(Z){case 1:Z=je.createElementNS("http://www.w3.org/2000/svg",G);break;case 2:Z=je.createElementNS("http://www.w3.org/1998/Math/MathML",G);break;default:switch(G){case"svg":Z=je.createElementNS("http://www.w3.org/2000/svg",G);break;case"math":Z=je.createElementNS("http://www.w3.org/1998/Math/MathML",G);break;case"script":Z=je.createElement("div"),Z.innerHTML="<script><\/script>",Z=Z.removeChild(Z.firstChild);break;case"select":Z=typeof S.is=="string"?je.createElement("select",{is:S.is}):je.createElement("select"),S.multiple?Z.multiple=!0:S.size&&(Z.size=S.size);break;default:Z=typeof S.is=="string"?je.createElement(G,{is:S.is}):je.createElement(G)}}Z[rs]=m,Z[Ys]=S;e:for(je=m.child;je!==null;){if(je.tag===5||je.tag===6)Z.appendChild(je.stateNode);else if(je.tag!==4&&je.tag!==27&&je.child!==null){je.child.return=je,je=je.child;continue}if(je===m)break e;for(;je.sibling===null;){if(je.return===null||je.return===m)break e;je=je.return}je.sibling.return=je.return,je=je.sibling}m.stateNode=Z;e:switch(Nd(Z,G,S),G){case"button":case"input":case"select":case"textarea":S=!!S.autoFocus;break e;case"img":S=!0;break e;default:S=!1}S&&$a(m)}}return zi(m),_c(m,m.type,h===null?null:h.memoizedProps,m.pendingProps,b),null;case 6:if(h&&m.stateNode!=null)h.memoizedProps!==S&&$a(m);else{if(typeof S!="string"&&m.stateNode===null)throw Error(n(166));if(h=Fe.current,Eu(m)){if(h=m.stateNode,b=m.memoizedProps,S=null,G=Xs,G!==null)switch(G.tag){case 27:case 5:S=G.memoizedProps}h[rs]=m,h=!!(h.nodeValue===b||S!==null&&S.suppressHydrationWarning===!0||s6(h.nodeValue,b)),h||Wl(m,!0)}else h=e2(h).createTextNode(S),h[rs]=m,m.stateNode=h}return zi(m),null;case 31:if(b=m.memoizedState,h===null||h.memoizedState!==null){if(S=Eu(m),b!==null){if(h===null){if(!S)throw Error(n(318));if(h=m.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(n(557));h[rs]=m}else Ko(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;zi(m),h=!1}else b=bd(),h!==null&&h.memoizedState!==null&&(h.memoizedState.hydrationErrors=b),h=!0;if(!h)return m.flags&256?(Gc(m),m):(Gc(m),null);if((m.flags&128)!==0)throw Error(n(558))}return zi(m),null;case 13:if(S=m.memoizedState,h===null||h.memoizedState!==null&&h.memoizedState.dehydrated!==null){if(G=Eu(m),S!==null&&S.dehydrated!==null){if(h===null){if(!G)throw Error(n(318));if(G=m.memoizedState,G=G!==null?G.dehydrated:null,!G)throw Error(n(317));G[rs]=m}else Ko(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;zi(m),G=!1}else G=bd(),h!==null&&h.memoizedState!==null&&(h.memoizedState.hydrationErrors=G),G=!0;if(!G)return m.flags&256?(Gc(m),m):(Gc(m),null)}return Gc(m),(m.flags&128)!==0?(m.lanes=b,m):(b=S!==null,h=h!==null&&h.memoizedState!==null,b&&(S=m.child,G=null,S.alternate!==null&&S.alternate.memoizedState!==null&&S.alternate.memoizedState.cachePool!==null&&(G=S.alternate.memoizedState.cachePool.pool),Z=null,S.memoizedState!==null&&S.memoizedState.cachePool!==null&&(Z=S.memoizedState.cachePool.pool),Z!==G&&(S.flags|=2048)),b!==h&&b&&(m.child.flags|=8192),al(m,m.updateQueue),zi(m),null);case 4:return Pe(),h===null&&ek(m.stateNode.containerInfo),zi(m),null;case 10:return Vc(m.type),zi(m),null;case 19:if(ue(Po),S=m.memoizedState,S===null)return zi(m),null;if(G=(m.flags&128)!==0,Z=S.rendering,Z===null)if(G)sa(S,!1);else{if(Q!==0||h!==null&&(h.flags&128)!==0)for(h=m.child;h!==null;){if(Z=xf(h),Z!==null){for(m.flags|=128,sa(S,!1),h=Z.updateQueue,m.updateQueue=h,al(m,h),m.subtreeFlags=0,h=b,b=m.child;b!==null;)Hc(b,h),b=b.sibling;return ye(Po,Po.current&1|2),Cn&&ui(m,S.treeForkCount),m.child}h=h.sibling}S.tail!==null&&dn()>Vn&&(m.flags|=128,G=!0,sa(S,!1),m.lanes=4194304)}else{if(!G)if(h=xf(Z),h!==null){if(m.flags|=128,G=!0,h=h.updateQueue,m.updateQueue=h,al(m,h),sa(S,!0),S.tail===null&&S.tailMode==="hidden"&&!Z.alternate&&!Cn)return zi(m),null}else 2*dn()-S.renderingStartTime>Vn&&b!==536870912&&(m.flags|=128,G=!0,sa(S,!1),m.lanes=4194304);S.isBackwards?(Z.sibling=m.child,m.child=Z):(h=S.last,h!==null?h.sibling=Z:m.child=Z,S.last=Z)}return S.tail!==null?(h=S.tail,S.rendering=h,S.tail=h.sibling,S.renderingStartTime=dn(),h.sibling=null,b=Po.current,ye(Po,G?b&1|2:b&1),Cn&&ui(m,S.treeForkCount),h):(zi(m),null);case 22:case 23:return Gc(m),su(),S=m.memoizedState!==null,h!==null?h.memoizedState!==null!==S&&(m.flags|=8192):S&&(m.flags|=8192),S?(b&536870912)!==0&&(m.flags&128)===0&&(zi(m),m.subtreeFlags&6&&(m.flags|=8192)):zi(m),b=m.updateQueue,b!==null&&al(m,b.retryQueue),b=null,h!==null&&h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(b=h.memoizedState.cachePool.pool),S=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(S=m.memoizedState.cachePool.pool),S!==b&&(m.flags|=2048),h!==null&&ue(ri),null;case 24:return b=null,h!==null&&(b=h.memoizedState.cache),m.memoizedState.cache!==b&&(m.flags|=2048),Vc(Bo),zi(m),null;case 25:return null;case 30:return null}throw Error(n(156,m.tag))}function eo(h,m){switch(Co(m),m.tag){case 1:return h=m.flags,h&65536?(m.flags=h&-65537|128,m):null;case 3:return Vc(Bo),Pe(),h=m.flags,(h&65536)!==0&&(h&128)===0?(m.flags=h&-65537|128,m):null;case 26:case 27:case 5:return et(m),null;case 31:if(m.memoizedState!==null){if(Gc(m),m.alternate===null)throw Error(n(340));Ko()}return h=m.flags,h&65536?(m.flags=h&-65537|128,m):null;case 13:if(Gc(m),h=m.memoizedState,h!==null&&h.dehydrated!==null){if(m.alternate===null)throw Error(n(340));Ko()}return h=m.flags,h&65536?(m.flags=h&-65537|128,m):null;case 19:return ue(Po),null;case 4:return Pe(),null;case 10:return Vc(m.type),null;case 22:case 23:return Gc(m),su(),h!==null&&ue(ri),h=m.flags,h&65536?(m.flags=h&-65537|128,m):null;case 24:return Vc(Bo),null;case 25:return null;default:return null}}function Sc(h,m){switch(Co(m),m.tag){case 3:Vc(Bo),Pe();break;case 26:case 27:case 5:et(m);break;case 4:Pe();break;case 31:m.memoizedState!==null&&Gc(m);break;case 13:Gc(m);break;case 19:ue(Po);break;case 10:Vc(m.type);break;case 22:case 23:Gc(m),su(),h!==null&&ue(ri);break;case 24:Vc(Bo)}}function Yc(h,m){try{var b=m.updateQueue,S=b!==null?b.lastEffect:null;if(S!==null){var G=S.next;b=G;do{if((b.tag&h)===h){S=void 0;var Z=b.create,je=b.inst;S=Z(),je.destroy=S}b=b.next}while(b!==G)}}catch(Je){Do(m,m.return,Je)}}function oo(h,m,b){try{var S=m.updateQueue,G=S!==null?S.lastEffect:null;if(G!==null){var Z=G.next;S=Z;do{if((S.tag&h)===h){var je=S.inst,Je=je.destroy;if(Je!==void 0){je.destroy=void 0,G=m;var Lt=b,wr=Je;try{wr()}catch(Ur){Do(G,Lt,Ur)}}}S=S.next}while(S!==Z)}}catch(Ur){Do(m,m.return,Ur)}}function qc(h){var m=h.updateQueue;if(m!==null){var b=h.stateNode;try{Ns(m,b)}catch(S){Do(h,h.return,S)}}}function lo(h,m,b){b.props=$h(h.type,h.memoizedProps),b.state=h.memoizedState;try{b.componentWillUnmount()}catch(S){Do(h,m,S)}}function fn(h,m){try{var b=h.ref;if(b!==null){switch(h.tag){case 26:case 27:case 5:var S=h.stateNode;break;case 30:S=h.stateNode;break;default:S=h.stateNode}typeof b=="function"?h.refCleanup=b(S):b.current=S}}catch(G){Do(h,m,G)}}function wo(h,m){var b=h.ref,S=h.refCleanup;if(b!==null)if(typeof S=="function")try{S()}catch(G){Do(h,m,G)}finally{h.refCleanup=null,h=h.alternate,h!=null&&(h.refCleanup=null)}else if(typeof b=="function")try{b(null)}catch(G){Do(h,m,G)}else b.current=null}function sc(h){var m=h.type,b=h.memoizedProps,S=h.stateNode;try{e:switch(m){case"button":case"input":case"select":case"textarea":b.autoFocus&&S.focus();break e;case"img":b.src?S.src=b.src:b.srcSet&&(S.srcset=b.srcSet)}}catch(G){Do(h,h.return,G)}}function jo(h,m,b){try{var S=h.stateNode;sle(S,h.type,b,m),S[Ys]=m}catch(G){Do(h,h.return,G)}}function Zu(h){return h.tag===5||h.tag===3||h.tag===26||h.tag===27&&kg(h.type)||h.tag===4}function xs(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||Zu(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.tag===27&&kg(h.type)||h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function Zs(h,m,b){var S=h.tag;if(S===5||S===6)h=h.stateNode,m?(b.nodeType===9?b.body:b.nodeName==="HTML"?b.ownerDocument.body:b).insertBefore(h,m):(m=b.nodeType===9?b.body:b.nodeName==="HTML"?b.ownerDocument.body:b,m.appendChild(h),b=b._reactRootContainer,b!=null||m.onclick!==null||(m.onclick=oe));else if(S!==4&&(S===27&&kg(h.type)&&(b=h.stateNode,m=null),h=h.child,h!==null))for(Zs(h,m,b),h=h.sibling;h!==null;)Zs(h,m,b),h=h.sibling}function ka(h,m,b){var S=h.tag;if(S===5||S===6)h=h.stateNode,m?b.insertBefore(h,m):b.appendChild(h);else if(S!==4&&(S===27&&kg(h.type)&&(b=h.stateNode),h=h.child,h!==null))for(ka(h,m,b),h=h.sibling;h!==null;)ka(h,m,b),h=h.sibling}function Ju(h){var m=h.stateNode,b=h.memoizedProps;try{for(var S=h.type,G=m.attributes;G.length;)m.removeAttributeNode(G[0]);Nd(m,S,b),m[rs]=h,m[Ys]=b}catch(Z){Do(h,h.return,Z)}}var wl=!1,No=!1,ed=!1,Tc=typeof WeakSet=="function"?WeakSet:Set,Pl=null;function Cg(h,m){if(h=h.containerInfo,nk=o2,h=Jl(h),bi(h)){if("selectionStart"in h)var b={start:h.selectionStart,end:h.selectionEnd};else e:{b=(b=h.ownerDocument)&&b.defaultView||window;var S=b.getSelection&&b.getSelection();if(S&&S.rangeCount!==0){b=S.anchorNode;var G=S.anchorOffset,Z=S.focusNode;S=S.focusOffset;try{b.nodeType,Z.nodeType}catch{b=null;break e}var je=0,Je=-1,Lt=-1,wr=0,Ur=0,Wr=h,_r=null;t:for(;;){for(var Nr;Wr!==b||G!==0&&Wr.nodeType!==3||(Je=je+G),Wr!==Z||S!==0&&Wr.nodeType!==3||(Lt=je+S),Wr.nodeType===3&&(je+=Wr.nodeValue.length),(Nr=Wr.firstChild)!==null;)_r=Wr,Wr=Nr;for(;;){if(Wr===h)break t;if(_r===b&&++wr===G&&(Je=je),_r===Z&&++Ur===S&&(Lt=je),(Nr=Wr.nextSibling)!==null)break;Wr=_r,_r=Wr.parentNode}Wr=Nr}b=Je===-1||Lt===-1?null:{start:Je,end:Lt}}else b=null}b=b||{start:0,end:0}}else b=null;for(ik={focusedElem:h,selectionRange:b},o2=!1,Pl=m;Pl!==null;)if(m=Pl,h=m.child,(m.subtreeFlags&1028)!==0&&h!==null)h.return=m,Pl=h;else for(;Pl!==null;){switch(m=Pl,Z=m.alternate,h=m.flags,m.tag){case 0:if((h&4)!==0&&(h=m.updateQueue,h=h!==null?h.events:null,h!==null))for(b=0;b<h.length;b++)G=h[b],G.ref.impl=G.nextImpl;break;case 11:case 15:break;case 1:if((h&1024)!==0&&Z!==null){h=void 0,b=m,G=Z.memoizedProps,Z=Z.memoizedState,S=b.stateNode;try{var wi=$h(b.type,G);h=S.getSnapshotBeforeUpdate(wi,Z),S.__reactInternalSnapshotBeforeUpdate=h}catch(us){Do(b,b.return,us)}}break;case 3:if((h&1024)!==0){if(h=m.stateNode.containerInfo,b=h.nodeType,b===9)ok(h);else if(b===1)switch(h.nodeName){case"HEAD":case"HTML":case"BODY":ok(h);break;default:h.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((h&1024)!==0)throw Error(n(163))}if(h=m.sibling,h!==null){h.return=m.return,Pl=h;break}Pl=m.return}}function lp(h,m,b){var S=b.flags;switch(b.tag){case 0:case 11:case 15:ou(h,b),S&4&&Yc(5,b);break;case 1:if(ou(h,b),S&4)if(h=b.stateNode,m===null)try{h.componentDidMount()}catch(je){Do(b,b.return,je)}else{var G=$h(b.type,m.memoizedProps);m=m.memoizedState;try{h.componentDidUpdate(G,m,h.__reactInternalSnapshotBeforeUpdate)}catch(je){Do(b,b.return,je)}}S&64&&qc(b),S&512&&fn(b,b.return);break;case 3:if(ou(h,b),S&64&&(h=b.updateQueue,h!==null)){if(m=null,b.child!==null)switch(b.child.tag){case 27:case 5:m=b.child.stateNode;break;case 1:m=b.child.stateNode}try{Ns(h,m)}catch(je){Do(b,b.return,je)}}break;case 27:m===null&&S&4&&Ju(b);case 26:case 5:ou(h,b),m===null&&S&4&&sc(b),S&512&&fn(b,b.return);break;case 12:ou(h,b);break;case 31:ou(h,b),S&4&&K0(h,b);break;case 13:ou(h,b),S&4&&jy(h,b),S&64&&(h=b.memoizedState,h!==null&&(h=h.dehydrated,h!==null&&(b=Goe.bind(null,b),fle(h,b))));break;case 22:if(S=b.memoizedState!==null||wl,!S){m=m!==null&&m.memoizedState!==null||No,G=wl;var Z=No;wl=S,(No=m)&&!Z?Hh(h,b,(b.subtreeFlags&8772)!==0):ou(h,b),wl=G,No=Z}break;case 30:break;default:ou(h,b)}}function sA(h){var m=h.alternate;m!==null&&(h.alternate=null,sA(m)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(m=h.stateNode,m!==null&&tu(m)),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}var Yo=null,Tu=!1;function Vd(h,m,b){for(b=b.child;b!==null;)uh(h,m,b),b=b.sibling}function uh(h,m,b){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(rr,b)}catch{}switch(b.tag){case 26:No||wo(b,m),Vd(h,m,b),b.memoizedState?b.memoizedState.count--:b.stateNode&&(b=b.stateNode,b.parentNode.removeChild(b));break;case 27:No||wo(b,m);var S=Yo,G=Tu;kg(b.type)&&(Yo=b.stateNode,Tu=!1),Vd(h,m,b),p1(b.stateNode),Yo=S,Tu=G;break;case 5:No||wo(b,m);case 6:if(S=Yo,G=Tu,Yo=null,Vd(h,m,b),Yo=S,Tu=G,Yo!==null)if(Tu)try{(Yo.nodeType===9?Yo.body:Yo.nodeName==="HTML"?Yo.ownerDocument.body:Yo).removeChild(b.stateNode)}catch(Z){Do(b,m,Z)}else try{Yo.removeChild(b.stateNode)}catch(Z){Do(b,m,Z)}break;case 18:Yo!==null&&(Tu?(h=Yo,d6(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,b.stateNode),Dy(h)):d6(Yo,b.stateNode));break;case 4:S=Yo,G=Tu,Yo=b.stateNode.containerInfo,Tu=!0,Vd(h,m,b),Yo=S,Tu=G;break;case 0:case 11:case 14:case 15:oo(2,b,m),No||oo(4,b,m),Vd(h,m,b);break;case 1:No||(wo(b,m),S=b.stateNode,typeof S.componentWillUnmount=="function"&&lo(b,m,S)),Vd(h,m,b);break;case 21:Vd(h,m,b);break;case 22:No=(S=No)||b.memoizedState!==null,Vd(h,m,b),No=S;break;default:Vd(h,m,b)}}function K0(h,m){if(m.memoizedState===null&&(h=m.alternate,h!==null&&(h=h.memoizedState,h!==null))){h=h.dehydrated;try{Dy(h)}catch(b){Do(m,m.return,b)}}}function jy(h,m){if(m.memoizedState===null&&(h=m.alternate,h!==null&&(h=h.memoizedState,h!==null&&(h=h.dehydrated,h!==null))))try{Dy(h)}catch(b){Do(m,m.return,b)}}function Ny(h){switch(h.tag){case 31:case 13:case 19:var m=h.stateNode;return m===null&&(m=h.stateNode=new Tc),m;case 22:return h=h.stateNode,m=h._retryCache,m===null&&(m=h._retryCache=new Tc),m;default:throw Error(n(435,h.tag))}}function cp(h,m){var b=Ny(h);m.forEach(function(S){if(!b.has(S)){b.add(S);var G=Woe.bind(null,h,S);S.then(G,G)}})}function Xc(h,m){var b=m.deletions;if(b!==null)for(var S=0;S<b.length;S++){var G=b[S],Z=h,je=m,Je=je;e:for(;Je!==null;){switch(Je.tag){case 27:if(kg(Je.type)){Yo=Je.stateNode,Tu=!1;break e}break;case 5:Yo=Je.stateNode,Tu=!1;break e;case 3:case 4:Yo=Je.stateNode.containerInfo,Tu=!0;break e}Je=Je.return}if(Yo===null)throw Error(n(160));uh(Z,je,G),Yo=null,Tu=!1,Z=G.alternate,Z!==null&&(Z.return=null),G.return=null}if(m.subtreeFlags&13886)for(m=m.child;m!==null;)zA(m,h),m=m.sibling}var zd=null;function zA(h,m){var b=h.alternate,S=h.flags;switch(h.tag){case 0:case 11:case 14:case 15:Xc(m,h),co(h),S&4&&(oo(3,h,h.return),Yc(3,h),oo(5,h,h.return));break;case 1:Xc(m,h),co(h),S&512&&(No||b===null||wo(b,b.return)),S&64&&wl&&(h=h.updateQueue,h!==null&&(S=h.callbacks,S!==null&&(b=h.shared.hiddenCallbacks,h.shared.hiddenCallbacks=b===null?S:b.concat(S))));break;case 26:var G=zd;if(Xc(m,h),co(h),S&512&&(No||b===null||wo(b,b.return)),S&4){var Z=b!==null?b.memoizedState:null;if(S=h.memoizedState,b===null)if(S===null)if(h.stateNode===null){e:{S=h.type,b=h.memoizedProps,G=G.ownerDocument||G;t:switch(S){case"title":Z=G.getElementsByTagName("title")[0],(!Z||Z[Ml]||Z[rs]||Z.namespaceURI==="http://www.w3.org/2000/svg"||Z.hasAttribute("itemprop"))&&(Z=G.createElement(S),G.head.insertBefore(Z,G.querySelector("head > title"))),Nd(Z,S,b),Z[rs]=h,ba(Z),S=Z;break e;case"link":var je=w6("link","href",G).get(S+(b.href||""));if(je){for(var Je=0;Je<je.length;Je++)if(Z=je[Je],Z.getAttribute("href")===(b.href==null||b.href===""?null:b.href)&&Z.getAttribute("rel")===(b.rel==null?null:b.rel)&&Z.getAttribute("title")===(b.title==null?null:b.title)&&Z.getAttribute("crossorigin")===(b.crossOrigin==null?null:b.crossOrigin)){je.splice(Je,1);break t}}Z=G.createElement(S),Nd(Z,S,b),G.head.appendChild(Z);break;case"meta":if(je=w6("meta","content",G).get(S+(b.content||""))){for(Je=0;Je<je.length;Je++)if(Z=je[Je],Z.getAttribute("content")===(b.content==null?null:""+b.content)&&Z.getAttribute("name")===(b.name==null?null:b.name)&&Z.getAttribute("property")===(b.property==null?null:b.property)&&Z.getAttribute("http-equiv")===(b.httpEquiv==null?null:b.httpEquiv)&&Z.getAttribute("charset")===(b.charSet==null?null:b.charSet)){je.splice(Je,1);break t}}Z=G.createElement(S),Nd(Z,S,b),G.head.appendChild(Z);break;default:throw Error(n(468,S))}Z[rs]=h,ba(Z),S=Z}h.stateNode=S}else E6(G,h.type,h.stateNode);else h.stateNode=b6(G,S,h.memoizedProps);else Z!==S?(Z===null?b.stateNode!==null&&(b=b.stateNode,b.parentNode.removeChild(b)):Z.count--,S===null?E6(G,h.type,h.stateNode):b6(G,S,h.memoizedProps)):S===null&&h.stateNode!==null&&jo(h,h.memoizedProps,b.memoizedProps)}break;case 27:Xc(m,h),co(h),S&512&&(No||b===null||wo(b,b.return)),b!==null&&S&4&&jo(h,h.memoizedProps,b.memoizedProps);break;case 5:if(Xc(m,h),co(h),S&512&&(No||b===null||wo(b,b.return)),h.flags&32){G=h.stateNode;try{Qs(G,"")}catch(wi){Do(h,h.return,wi)}}S&4&&h.stateNode!=null&&(G=h.memoizedProps,jo(h,G,b!==null?b.memoizedProps:G)),S&1024&&(ed=!0);break;case 6:if(Xc(m,h),co(h),S&4){if(h.stateNode===null)throw Error(n(162));S=h.memoizedProps,b=h.stateNode;try{b.nodeValue=S}catch(wi){Do(h,h.return,wi)}}break;case 3:if(n2=null,G=zd,zd=t2(m.containerInfo),Xc(m,h),zd=G,co(h),S&4&&b!==null&&b.memoizedState.isDehydrated)try{Dy(m.containerInfo)}catch(wi){Do(h,h.return,wi)}ed&&(ed=!1,up(h));break;case 4:S=zd,zd=t2(h.stateNode.containerInfo),Xc(m,h),co(h),zd=S;break;case 12:Xc(m,h),co(h);break;case 31:Xc(m,h),co(h),S&4&&(S=h.updateQueue,S!==null&&(h.updateQueue=null,cp(h,S)));break;case 13:Xc(m,h),co(h),h.child.flags&8192&&h.memoizedState!==null!=(b!==null&&b.memoizedState!==null)&&(lr=dn()),S&4&&(S=h.updateQueue,S!==null&&(h.updateQueue=null,cp(h,S)));break;case 22:G=h.memoizedState!==null;var Lt=b!==null&&b.memoizedState!==null,wr=wl,Ur=No;if(wl=wr||G,No=Ur||Lt,Xc(m,h),No=Ur,wl=wr,co(h),S&8192)e:for(m=h.stateNode,m._visibility=G?m._visibility&-2:m._visibility|1,G&&(b===null||Lt||wl||No||Ef(h)),b=null,m=h;;){if(m.tag===5||m.tag===26){if(b===null){Lt=b=m;try{if(Z=Lt.stateNode,G)je=Z.style,typeof je.setProperty=="function"?je.setProperty("display","none","important"):je.display="none";else{Je=Lt.stateNode;var Wr=Lt.memoizedProps.style,_r=Wr!=null&&Wr.hasOwnProperty("display")?Wr.display:null;Je.style.display=_r==null||typeof _r=="boolean"?"":(""+_r).trim()}}catch(wi){Do(Lt,Lt.return,wi)}}}else if(m.tag===6){if(b===null){Lt=m;try{Lt.stateNode.nodeValue=G?"":Lt.memoizedProps}catch(wi){Do(Lt,Lt.return,wi)}}}else if(m.tag===18){if(b===null){Lt=m;try{var Nr=Lt.stateNode;G?h6(Nr,!0):h6(Lt.stateNode,!1)}catch(wi){Do(Lt,Lt.return,wi)}}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===h)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===h)break e;for(;m.sibling===null;){if(m.return===null||m.return===h)break e;b===m&&(b=null),m=m.return}b===m&&(b=null),m.sibling.return=m.return,m=m.sibling}S&4&&(S=h.updateQueue,S!==null&&(b=S.retryQueue,b!==null&&(S.retryQueue=null,cp(h,b))));break;case 19:Xc(m,h),co(h),S&4&&(S=h.updateQueue,S!==null&&(h.updateQueue=null,cp(h,S)));break;case 30:break;case 21:break;default:Xc(m,h),co(h)}}function co(h){var m=h.flags;if(m&2){try{for(var b,S=h.return;S!==null;){if(Zu(S)){b=S;break}S=S.return}if(b==null)throw Error(n(160));switch(b.tag){case 27:var G=b.stateNode,Z=xs(h);ka(h,Z,G);break;case 5:var je=b.stateNode;b.flags&32&&(Qs(je,""),b.flags&=-33);var Je=xs(h);ka(h,Je,je);break;case 3:case 4:var Lt=b.stateNode.containerInfo,wr=xs(h);Zs(h,wr,Lt);break;default:throw Error(n(161))}}catch(Ur){Do(h,h.return,Ur)}h.flags&=-3}m&4096&&(h.flags&=-4097)}function up(h){if(h.subtreeFlags&1024)for(h=h.child;h!==null;){var m=h;up(m),m.tag===5&&m.flags&1024&&m.stateNode.reset(),h=h.sibling}}function ou(h,m){if(m.subtreeFlags&8772)for(m=m.child;m!==null;)lp(h,m.alternate,m),m=m.sibling}function Ef(h){for(h=h.child;h!==null;){var m=h;switch(m.tag){case 0:case 11:case 14:case 15:oo(4,m,m.return),Ef(m);break;case 1:wo(m,m.return);var b=m.stateNode;typeof b.componentWillUnmount=="function"&&lo(m,m.return,b),Ef(m);break;case 27:p1(m.stateNode);case 26:case 5:wo(m,m.return),Ef(m);break;case 22:m.memoizedState===null&&Ef(m);break;case 30:Ef(m);break;default:Ef(m)}h=h.sibling}}function Hh(h,m,b){for(b=b&&(m.subtreeFlags&8772)!==0,m=m.child;m!==null;){var S=m.alternate,G=h,Z=m,je=Z.flags;switch(Z.tag){case 0:case 11:case 15:Hh(G,Z,b),Yc(4,Z);break;case 1:if(Hh(G,Z,b),S=Z,G=S.stateNode,typeof G.componentDidMount=="function")try{G.componentDidMount()}catch(wr){Do(S,S.return,wr)}if(S=Z,G=S.updateQueue,G!==null){var Je=S.stateNode;try{var Lt=G.shared.hiddenCallbacks;if(Lt!==null)for(G.shared.hiddenCallbacks=null,G=0;G<Lt.length;G++)na(Lt[G],Je)}catch(wr){Do(S,S.return,wr)}}b&&je&64&&qc(Z),fn(Z,Z.return);break;case 27:Ju(Z);case 26:case 5:Hh(G,Z,b),b&&S===null&&je&4&&sc(Z),fn(Z,Z.return);break;case 12:Hh(G,Z,b);break;case 31:Hh(G,Z,b),b&&je&4&&K0(G,Z);break;case 13:Hh(G,Z,b),b&&je&4&&jy(G,Z);break;case 22:Z.memoizedState===null&&Hh(G,Z,b),fn(Z,Z.return);break;case 30:break;default:Hh(G,Z,b)}m=m.sibling}}function _f(h,m){var b=null;h!==null&&h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(b=h.memoizedState.cachePool.pool),h=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(h=m.memoizedState.cachePool.pool),h!==b&&(h!=null&&h.refCount++,b!=null&&bh(b))}function Qh(h,m){h=null,m.alternate!==null&&(h=m.alternate.memoizedState.cache),m=m.memoizedState.cache,m!==h&&(m.refCount++,h!=null&&bh(h))}function lu(h,m,b,S){if(m.subtreeFlags&10256)for(m=m.child;m!==null;)Vh(h,m,b,S),m=m.sibling}function Vh(h,m,b,S){var G=m.flags;switch(m.tag){case 0:case 11:case 15:lu(h,m,b,S),G&2048&&Yc(9,m);break;case 1:lu(h,m,b,S);break;case 3:lu(h,m,b,S),G&2048&&(h=null,m.alternate!==null&&(h=m.alternate.memoizedState.cache),m=m.memoizedState.cache,m!==h&&(m.refCount++,h!=null&&bh(h)));break;case 12:if(G&2048){lu(h,m,b,S),h=m.stateNode;try{var Z=m.memoizedProps,je=Z.id,Je=Z.onPostCommit;typeof Je=="function"&&Je(je,m.alternate===null?"mount":"update",h.passiveEffectDuration,-0)}catch(Lt){Do(m,m.return,Lt)}}else lu(h,m,b,S);break;case 31:lu(h,m,b,S);break;case 13:lu(h,m,b,S);break;case 23:break;case 22:Z=m.stateNode,je=m.alternate,m.memoizedState!==null?Z._visibility&2?lu(h,m,b,S):KA(h,m):Z._visibility&2?lu(h,m,b,S):(Z._visibility|=2,Kd(h,m,b,S,(m.subtreeFlags&10256)!==0||!1)),G&2048&&_f(je,m);break;case 24:lu(h,m,b,S),G&2048&&Qh(m.alternate,m);break;default:lu(h,m,b,S)}}function Kd(h,m,b,S,G){for(G=G&&((m.subtreeFlags&10256)!==0||!1),m=m.child;m!==null;){var Z=h,je=m,Je=b,Lt=S,wr=je.flags;switch(je.tag){case 0:case 11:case 15:Kd(Z,je,Je,Lt,G),Yc(8,je);break;case 23:break;case 22:var Ur=je.stateNode;je.memoizedState!==null?Ur._visibility&2?Kd(Z,je,Je,Lt,G):KA(Z,je):(Ur._visibility|=2,Kd(Z,je,Je,Lt,G)),G&&wr&2048&&_f(je.alternate,je);break;case 24:Kd(Z,je,Je,Lt,G),G&&wr&2048&&Qh(je.alternate,je);break;default:Kd(Z,je,Je,Lt,G)}m=m.sibling}}function KA(h,m){if(m.subtreeFlags&10256)for(m=m.child;m!==null;){var b=h,S=m,G=S.flags;switch(S.tag){case 22:KA(b,S),G&2048&&_f(S.alternate,S);break;case 24:KA(b,S),G&2048&&Qh(S.alternate,S);break;default:KA(b,S)}m=m.sibling}}var dp=8192;function Sf(h,m,b){if(h.subtreeFlags&dp)for(h=h.child;h!==null;)aA(h,m,b),h=h.sibling}function aA(h,m,b){switch(h.tag){case 26:Sf(h,m,b),h.flags&dp&&h.memoizedState!==null&&Sle(b,zd,h.memoizedState,h.memoizedProps);break;case 5:Sf(h,m,b);break;case 3:case 4:var S=zd;zd=t2(h.stateNode.containerInfo),Sf(h,m,b),zd=S;break;case 22:h.memoizedState===null&&(S=h.alternate,S!==null&&S.memoizedState!==null?(S=dp,dp=16777216,Sf(h,m,b),dp=S):Sf(h,m,b));break;default:Sf(h,m,b)}}function G0(h){var m=h.alternate;if(m!==null&&(h=m.child,h!==null)){m.child=null;do m=h.sibling,h.sibling=null,h=m;while(h!==null)}}function GA(h){var m=h.deletions;if((h.flags&16)!==0){if(m!==null)for(var b=0;b<m.length;b++){var S=m[b];Pl=S,Iy(S,h)}G0(h)}if(h.subtreeFlags&10256)for(h=h.child;h!==null;)ky(h),h=h.sibling}function ky(h){switch(h.tag){case 0:case 11:case 15:GA(h),h.flags&2048&&oo(9,h,h.return);break;case 3:GA(h);break;case 12:GA(h);break;case 22:var m=h.stateNode;h.memoizedState!==null&&m._visibility&2&&(h.return===null||h.return.tag!==13)?(m._visibility&=-3,hp(h)):GA(h);break;default:GA(h)}}function hp(h){var m=h.deletions;if((h.flags&16)!==0){if(m!==null)for(var b=0;b<m.length;b++){var S=m[b];Pl=S,Iy(S,h)}G0(h)}for(h=h.child;h!==null;){switch(m=h,m.tag){case 0:case 11:case 15:oo(8,m,m.return),hp(m);break;case 22:b=m.stateNode,b._visibility&2&&(b._visibility&=-3,hp(m));break;default:hp(m)}h=h.sibling}}function Iy(h,m){for(;Pl!==null;){var b=Pl;switch(b.tag){case 0:case 11:case 15:oo(8,b,m);break;case 23:case 22:if(b.memoizedState!==null&&b.memoizedState.cachePool!==null){var S=b.memoizedState.cachePool.pool;S!=null&&S.refCount++}break;case 24:bh(b.memoizedState.cache)}if(S=b.child,S!==null)S.return=b,Pl=S;else e:for(b=h;Pl!==null;){S=Pl;var G=S.sibling,Z=S.return;if(sA(S),S===b){Pl=null;break e}if(G!==null){G.return=Z,Pl=G;break e}Pl=Z}}}var fp={getCacheForType:function(h){var m=yo(Bo),b=m.data.get(h);return b===void 0&&(b=h(),m.data.set(h,b)),b},cacheSignal:function(){return yo(Bo).controller.signal}},W0=typeof WeakMap=="function"?WeakMap:Map,va=0,fa=null,_s=null,Ls=0,Ia=0,Cu=null,zh=!1,WA=!1,M=!1,I=0,Q=0,$=0,pe=0,Ne=0,$e=0,ut=0,dt=null,Mt=null,Xt=!1,lr=0,Rr=0,Vn=1/0,gn=null,On=null,Bi=0,di=null,oi=null,Js=0,Vs=0,cs=null,Yn=null,ca=0,ya=null;function Mi(){return(va&2)!==0&&Ls!==0?Ls&-Ls:se.T!==null?q5():Ds()}function ac(){if($e===0)if((Ls&536870912)===0||Cn){var h=en;en<<=1,(en&3932160)===0&&(en=262144),$e=h}else $e=536870912;return h=yl.current,h!==null&&(h.flags|=32),$e}function Ro(h,m,b){(h===fa&&(Ia===2||Ia===9)||h.cancelPendingCommit!==null)&&(Ch(h,0),jd(h,Ls,$e,!1)),Cs(h,b),((va&2)===0||h!==fa)&&(h===fa&&((va&2)===0&&(pe|=b),Q===4&&jd(h,Ls,$e,!1)),XA(h))}function Gd(h,m,b){if((va&6)!==0)throw Error(n(327));var S=!b&&(m&127)===0&&(m&h.expiredLanes)===0||Pn(h,m),G=S?jg(h,m):lA(h,m,!0),Z=S;do{if(G===0){WA&&!S&&jd(h,m,0,!1);break}else{if(b=h.current.alternate,Z&&!ju(b)){G=lA(h,m,!1),Z=!1;continue}if(G===2){if(Z=m,h.errorRecoveryDisabledLanes&Z)var je=0;else je=h.pendingLanes&-536870913,je=je!==0?je:je&536870912?536870912:0;if(je!==0){m=je;e:{var Je=h;G=dt;var Lt=Je.current.memoizedState.isDehydrated;if(Lt&&(Ch(Je,je).flags|=256),je=lA(Je,je,!1),je!==2){if(M&&!Lt){Je.errorRecoveryDisabledLanes|=Z,pe|=Z,G=4;break e}Z=Mt,Mt=G,Z!==null&&(Mt===null?Mt=Z:Mt.push.apply(Mt,Z))}G=je}if(Z=!1,G!==2)continue}}if(G===1){Ch(h,0),jd(h,m,0,!0);break}e:{switch(S=h,Z=G,Z){case 0:case 1:throw Error(n(345));case 4:if((m&4194048)!==m)break;case 6:jd(S,m,$e,!zh);break e;case 2:Mt=null;break;case 3:case 5:break;default:throw Error(n(329))}if((m&62914560)===m&&(G=lr+300-dn(),10<G)){if(jd(S,m,$e,!zh),cn(S,0,!0)!==0)break e;Js=m,S.timeoutHandle=c6(Eo.bind(null,S,b,Mt,gn,Xt,m,$e,pe,ut,zh,Z,"Throttled",-0,0),G);break e}Eo(S,b,Mt,gn,Xt,m,$e,pe,ut,zh,Z,null,-0,0)}}break}while(!0);XA(h)}function Eo(h,m,b,S,G,Z,je,Je,Lt,wr,Ur,Wr,_r,Nr){if(h.timeoutHandle=-1,Wr=m.subtreeFlags,Wr&8192||(Wr&16785408)===16785408){Wr={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:oe},aA(m,Z,Wr);var wi=(Z&62914560)===Z?lr-dn():(Z&4194048)===Z?Rr-dn():0;if(wi=Tle(Wr,wi),wi!==null){Js=Z,h.cancelPendingCommit=wi($U.bind(null,h,m,Z,b,S,G,je,Je,Lt,Ur,Wr,null,_r,Nr)),jd(h,Z,je,!wr);return}}$U(h,m,Z,b,S,G,je,Je,Lt)}function ju(h){for(var m=h;;){var b=m.tag;if((b===0||b===11||b===15)&&m.flags&16384&&(b=m.updateQueue,b!==null&&(b=b.stores,b!==null)))for(var S=0;S<b.length;S++){var G=b[S],Z=G.getSnapshot;G=G.value;try{if(!yn(Z(),G))return!1}catch{return!1}}if(b=m.child,m.subtreeFlags&16384&&b!==null)b.return=m,m=b;else{if(m===h)break;for(;m.sibling===null;){if(m.return===null||m.return===h)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function jd(h,m,b,S){m&=~Ne,m&=~pe,h.suspendedLanes|=m,h.pingedLanes&=~m,S&&(h.warmLanes|=m),S=h.expirationTimes;for(var G=m;0<G;){var Z=31-Hr(G),je=1<<Z;S[Z]=-1,G&=~je}b!==0&&nn(h,b,m)}function Nu(){return(va&6)===0?(f1(0),!1):!0}function td(){if(_s!==null){if(Ia===0)var h=_s.return;else h=_s,_u=Yl=null,Wm(h),mr=null,zt=0,h=_s;for(;h!==null;)Sc(h.alternate,h),h=h.return;_s=null}}function Ch(h,m){var b=h.timeoutHandle;b!==-1&&(h.timeoutHandle=-1,lle(b)),b=h.cancelPendingCommit,b!==null&&(h.cancelPendingCommit=null,b()),Js=0,td(),fa=h,_s=b=gc(h.current,null),Ls=m,Ia=0,Cu=null,zh=!1,WA=Pn(h,m),M=!1,ut=$e=Ne=pe=$=Q=0,Mt=dt=null,Xt=!1,(m&8)!==0&&(m|=m&32);var S=h.entangledLanes;if(S!==0)for(h=h.entanglements,S&=m;0<S;){var G=31-Hr(S),Z=1<<G;m|=h[G],S&=~Z}return I=m,ru(),b}function Kh(h,m){Ji=null,se.H=ip,m===Ma||m===Na?(m=wt(),Ia=3):m===Oo?(m=wt(),Ia=4):Ia=m===Ke?8:m!==null&&typeof m=="object"&&typeof m.then=="function"?6:1,Cu=m,_s===null&&(Q=1,VA(h,_(m,h.current)))}function oA(){var h=yl.current;return h===null?!0:(Ls&4194048)===Ls?nc===null:(Ls&62914560)===Ls||(Ls&536870912)!==0?h===nc:!1}function YA(){var h=se.H;return se.H=ip,h===null?ip:h}function qA(){var h=se.A;return se.A=fp,h}function jh(){Q=4,zh||(Ls&4194048)!==Ls&&yl.current!==null||(WA=!0),($&134217727)===0&&(pe&134217727)===0||fa===null||jd(fa,Ls,$e,!1)}function lA(h,m,b){var S=va;va|=2;var G=YA(),Z=qA();(fa!==h||Ls!==m)&&(gn=null,Ch(h,m)),m=!1;var je=Q;e:do try{if(Ia!==0&&_s!==null){var Je=_s,Lt=Cu;switch(Ia){case 8:td(),je=6;break e;case 3:case 2:case 9:case 6:yl.current===null&&(m=!0);var wr=Ia;if(Ia=0,Cu=null,Ly(h,Je,Lt,wr),b&&WA){je=0;break e}break;default:wr=Ia,Ia=0,Cu=null,Ly(h,Je,Lt,wr)}}cA(),je=Q;break}catch(Ur){Kh(h,Ur)}while(!0);return m&&h.shellSuspendCounter++,_u=Yl=null,va=S,se.H=G,se.A=Z,_s===null&&(fa=null,Ls=0,ru()),je}function cA(){for(;_s!==null;)MU(_s)}function jg(h,m){var b=va;va|=2;var S=YA(),G=qA();fa!==h||Ls!==m?(gn=null,Vn=dn()+500,Ch(h,m)):WA=Pn(h,m);e:do try{if(Ia!==0&&_s!==null){m=_s;var Z=Cu;t:switch(Ia){case 1:Ia=0,Cu=null,Ly(h,m,Z,1);break;case 2:case 9:if(O(Z)){Ia=0,Cu=null,FU(m);break}m=function(){Ia!==2&&Ia!==9||fa!==h||(Ia=7),XA(h)},Z.then(m,m);break e;case 3:Ia=7;break e;case 4:Ia=5;break e;case 7:O(Z)?(Ia=0,Cu=null,FU(m)):(Ia=0,Cu=null,Ly(h,m,Z,7));break;case 5:var je=null;switch(_s.tag){case 26:je=_s.memoizedState;case 5:case 27:var Je=_s;if(je?_6(je):Je.stateNode.complete){Ia=0,Cu=null;var Lt=Je.sibling;if(Lt!==null)_s=Lt;else{var wr=Je.return;wr!==null?(_s=wr,W_(wr)):_s=null}break t}}Ia=0,Cu=null,Ly(h,m,Z,5);break;case 6:Ia=0,Cu=null,Ly(h,m,Z,6);break;case 8:td(),Q=6;break e;default:throw Error(n(462))}}Y0();break}catch(Ur){Kh(h,Ur)}while(!0);return _u=Yl=null,se.H=S,se.A=G,va=b,_s!==null?0:(fa=null,Ls=0,ru(),Q)}function Y0(){for(;_s!==null&&!wn();)MU(_s)}function MU(h){var m=Ec(h.alternate,h,I);h.memoizedProps=h.pendingProps,m===null?W_(h):_s=m}function FU(h){var m=h,b=m.alternate;switch(m.tag){case 15:case 0:m=sn(b,m,m.pendingProps,m.type,void 0,Ls);break;case 11:m=sn(b,m,m.pendingProps,m.type.render,m.ref,Ls);break;case 5:Wm(m);default:Sc(b,m),m=_s=Hc(m,I),m=Ec(b,m,I)}h.memoizedProps=h.pendingProps,m===null?W_(h):_s=m}function Ly(h,m,b,S){_u=Yl=null,Wm(m),mr=null,zt=0;var G=m.return;try{if(De(h,G,m,b,Ls)){Q=1,VA(h,_(b,h.current)),_s=null;return}}catch(Z){if(G!==null)throw _s=G,Z;Q=1,VA(h,_(b,h.current)),_s=null;return}m.flags&32768?(Cn||S===1?h=!0:WA||(Ls&536870912)!==0?h=!1:(zh=h=!0,(S===2||S===9||S===3||S===6)&&(S=yl.current,S!==null&&S.tag===13&&(S.flags|=16384))),UU(m,h)):W_(m)}function W_(h){var m=h;do{if((m.flags&32768)!==0){UU(m,zh);return}h=m.return;var b=bl(m.alternate,m,I);if(b!==null){_s=b;return}if(m=m.sibling,m!==null){_s=m;return}_s=m=h}while(m!==null);Q===0&&(Q=5)}function UU(h,m){do{var b=eo(h.alternate,h);if(b!==null){b.flags&=32767,_s=b;return}if(b=h.return,b!==null&&(b.flags|=32768,b.subtreeFlags=0,b.deletions=null),!m&&(h=h.sibling,h!==null)){_s=h;return}_s=h=b}while(h!==null);Q=6,_s=null}function $U(h,m,b,S,G,Z,je,Je,Lt){h.cancelPendingCommit=null;do Y_();while(Bi!==0);if((va&6)!==0)throw Error(n(327));if(m!==null){if(m===h.current)throw Error(n(177));if(Z=m.lanes|m.childLanes,Z|=gl,ei(h,b,Z,je,Je,Lt),h===fa&&(_s=fa=null,Ls=0),oi=m,di=h,Js=b,Vs=Z,cs=G,Yn=S,(m.subtreeFlags&10256)!==0||(m.flags&10256)!==0?(h.callbackNode=null,h.callbackPriority=0,Yoe(Zn,function(){return KU(),null})):(h.callbackNode=null,h.callbackPriority=0),S=(m.flags&13878)!==0,(m.subtreeFlags&13878)!==0||S){S=se.T,se.T=null,G=xe.p,xe.p=2,je=va,va|=4;try{Cg(h,m,b)}finally{va=je,xe.p=G,se.T=S}}Bi=1,HU(),QU(),VU()}}function HU(){if(Bi===1){Bi=0;var h=di,m=oi,b=(m.flags&13878)!==0;if((m.subtreeFlags&13878)!==0||b){b=se.T,se.T=null;var S=xe.p;xe.p=2;var G=va;va|=4;try{zA(m,h);var Z=ik,je=Jl(h.containerInfo),Je=Z.focusedElem,Lt=Z.selectionRange;if(je!==Je&&Je&&Je.ownerDocument&&zo(Je.ownerDocument.documentElement,Je)){if(Lt!==null&&bi(Je)){var wr=Lt.start,Ur=Lt.end;if(Ur===void 0&&(Ur=wr),"selectionStart"in Je)Je.selectionStart=wr,Je.selectionEnd=Math.min(Ur,Je.value.length);else{var Wr=Je.ownerDocument||document,_r=Wr&&Wr.defaultView||window;if(_r.getSelection){var Nr=_r.getSelection(),wi=Je.textContent.length,us=Math.min(Lt.start,wi),Xo=Lt.end===void 0?us:Math.min(Lt.end,wi);!Nr.extend&&us>Xo&&(je=Xo,Xo=us,us=je);var sr=io(Je,us),Qt=io(Je,Xo);if(sr&&Qt&&(Nr.rangeCount!==1||Nr.anchorNode!==sr.node||Nr.anchorOffset!==sr.offset||Nr.focusNode!==Qt.node||Nr.focusOffset!==Qt.offset)){var br=Wr.createRange();br.setStart(sr.node,sr.offset),Nr.removeAllRanges(),us>Xo?(Nr.addRange(br),Nr.extend(Qt.node,Qt.offset)):(br.setEnd(Qt.node,Qt.offset),Nr.addRange(br))}}}}for(Wr=[],Nr=Je;Nr=Nr.parentNode;)Nr.nodeType===1&&Wr.push({element:Nr,left:Nr.scrollLeft,top:Nr.scrollTop});for(typeof Je.focus=="function"&&Je.focus(),Je=0;Je<Wr.length;Je++){var zr=Wr[Je];zr.element.scrollLeft=zr.left,zr.element.scrollTop=zr.top}}o2=!!nk,ik=nk=null}finally{va=G,xe.p=S,se.T=b}}h.current=m,Bi=2}}function QU(){if(Bi===2){Bi=0;var h=di,m=oi,b=(m.flags&8772)!==0;if((m.subtreeFlags&8772)!==0||b){b=se.T,se.T=null;var S=xe.p;xe.p=2;var G=va;va|=4;try{lp(h,m.alternate,m)}finally{va=G,xe.p=S,se.T=b}}Bi=3}}function VU(){if(Bi===4||Bi===3){Bi=0,Mn();var h=di,m=oi,b=Js,S=Yn;(m.subtreeFlags&10256)!==0||(m.flags&10256)!==0?Bi=5:(Bi=0,oi=di=null,zU(h,h.pendingLanes));var G=h.pendingLanes;if(G===0&&(On=null),Tn(b),m=m.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(rr,m,void 0,(m.current.flags&128)===128)}catch{}if(S!==null){m=se.T,G=xe.p,xe.p=2,se.T=null;try{for(var Z=h.onRecoverableError,je=0;je<S.length;je++){var Je=S[je];Z(Je.value,{componentStack:Je.stack})}}finally{se.T=m,xe.p=G}}(Js&3)!==0&&Y_(),XA(h),G=h.pendingLanes,(b&261930)!==0&&(G&42)!==0?h===ya?ca++:(ca=0,ya=h):ca=0,f1(0)}}function zU(h,m){(h.pooledCacheLanes&=m)===0&&(m=h.pooledCache,m!=null&&(h.pooledCache=null,bh(m)))}function Y_(){return HU(),QU(),VU(),KU()}function KU(){if(Bi!==5)return!1;var h=di,m=Vs;Vs=0;var b=Tn(Js),S=se.T,G=xe.p;try{xe.p=32>b?32:b,se.T=null,b=cs,cs=null;var Z=di,je=Js;if(Bi=0,oi=di=null,Js=0,(va&6)!==0)throw Error(n(331));var Je=va;if(va|=4,ky(Z.current),Vh(Z,Z.current,je,b),va=Je,f1(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(rr,Z)}catch{}return!0}finally{xe.p=G,se.T=S,zU(h,m)}}function GU(h,m,b){m=_(b,m),m=Y(h.stateNode,m,2),h=Vi(h,m,2),h!==null&&(Cs(h,2),XA(h))}function Do(h,m,b){if(h.tag===3)GU(h,h,b);else for(;m!==null;){if(m.tag===3){GU(m,h,b);break}else if(m.tag===1){var S=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(On===null||!On.has(S))){h=_(b,h),b=me(2),S=Vi(m,b,2),S!==null&&(Se(b,S,m,h),Cs(S,2),XA(S));break}}m=m.return}}function G5(h,m,b){var S=h.pingCache;if(S===null){S=h.pingCache=new W0;var G=new Set;S.set(m,G)}else G=S.get(m),G===void 0&&(G=new Set,S.set(m,G));G.has(b)||(M=!0,G.add(b),h=Koe.bind(null,h,m,b),m.then(h,h))}function Koe(h,m,b){var S=h.pingCache;S!==null&&S.delete(m),h.pingedLanes|=h.suspendedLanes&b,h.warmLanes&=~b,fa===h&&(Ls&b)===b&&(Q===4||Q===3&&(Ls&62914560)===Ls&&300>dn()-lr?(va&2)===0&&Ch(h,0):Ne|=b,ut===Ls&&(ut=0)),XA(h)}function WU(h,m){m===0&&(m=Ts()),h=tc(h,m),h!==null&&(Cs(h,m),XA(h))}function Goe(h){var m=h.memoizedState,b=0;m!==null&&(b=m.retryLane),WU(h,b)}function Woe(h,m){var b=0;switch(h.tag){case 31:case 13:var S=h.stateNode,G=h.memoizedState;G!==null&&(b=G.retryLane);break;case 19:S=h.stateNode;break;case 22:S=h.stateNode._retryCache;break;default:throw Error(n(314))}S!==null&&S.delete(m),WU(h,b)}function Yoe(h,m){return kr(h,m)}var q_=null,By=null,W5=!1,X_=!1,Y5=!1,Ng=0;function XA(h){h!==By&&h.next===null&&(By===null?q_=By=h:By=By.next=h),X_=!0,W5||(W5=!0,Xoe())}function f1(h,m){if(!Y5&&X_){Y5=!0;do for(var b=!1,S=q_;S!==null;){if(h!==0){var G=S.pendingLanes;if(G===0)var Z=0;else{var je=S.suspendedLanes,Je=S.pingedLanes;Z=(1<<31-Hr(42|h)+1)-1,Z&=G&~(je&~Je),Z=Z&201326741?Z&201326741|1:Z?Z|2:0}Z!==0&&(b=!0,ZU(S,Z))}else Z=Ls,Z=cn(S,S===fa?Z:0,S.cancelPendingCommit!==null||S.timeoutHandle!==-1),(Z&3)===0||Pn(S,Z)||(b=!0,ZU(S,Z));S=S.next}while(b);Y5=!1}}function qoe(){YU()}function YU(){X_=W5=!1;var h=0;Ng!==0&&ole()&&(h=Ng);for(var m=dn(),b=null,S=q_;S!==null;){var G=S.next,Z=qU(S,m);Z===0?(S.next=null,b===null?q_=G:b.next=G,G===null&&(By=b)):(b=S,(h!==0||(Z&3)!==0)&&(X_=!0)),S=G}Bi!==0&&Bi!==5||f1(h),Ng!==0&&(Ng=0)}function qU(h,m){for(var b=h.suspendedLanes,S=h.pingedLanes,G=h.expirationTimes,Z=h.pendingLanes&-62914561;0<Z;){var je=31-Hr(Z),Je=1<<je,Lt=G[je];Lt===-1?((Je&b)===0||(Je&S)!==0)&&(G[je]=li(Je,m)):Lt<=m&&(h.expiredLanes|=Je),Z&=~Je}if(m=fa,b=Ls,b=cn(h,h===m?b:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),S=h.callbackNode,b===0||h===m&&(Ia===2||Ia===9)||h.cancelPendingCommit!==null)return S!==null&&S!==null&&rn(S),h.callbackNode=null,h.callbackPriority=0;if((b&3)===0||Pn(h,b)){if(m=b&-b,m===h.callbackPriority)return m;switch(S!==null&&rn(S),Tn(b)){case 2:case 8:b=Kn;break;case 32:b=Zn;break;case 268435456:b=ot;break;default:b=Zn}return S=XU.bind(null,h),b=kr(b,S),h.callbackPriority=m,h.callbackNode=b,m}return S!==null&&S!==null&&rn(S),h.callbackPriority=2,h.callbackNode=null,2}function XU(h,m){if(Bi!==0&&Bi!==5)return h.callbackNode=null,h.callbackPriority=0,null;var b=h.callbackNode;if(Y_()&&h.callbackNode!==b)return null;var S=Ls;return S=cn(h,h===fa?S:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),S===0?null:(Gd(h,S,m),qU(h,dn()),h.callbackNode!=null&&h.callbackNode===b?XU.bind(null,h):null)}function ZU(h,m){if(Y_())return null;Gd(h,m,!0)}function Xoe(){cle(function(){(va&6)!==0?kr(mn,qoe):YU()})}function q5(){if(Ng===0){var h=xt;h===0&&(h=Jn,Jn<<=1,(Jn&261888)===0&&(Jn=256)),Ng=h}return Ng}function JU(h){return h==null||typeof h=="symbol"||typeof h=="boolean"?null:typeof h=="function"?h:ne(""+h)}function e6(h,m){var b=m.ownerDocument.createElement("input");return b.name=m.name,b.value=m.value,h.id&&b.setAttribute("form",h.id),m.parentNode.insertBefore(b,m),h=new FormData(h),b.parentNode.removeChild(b),h}function Zoe(h,m,b,S,G){if(m==="submit"&&b&&b.stateNode===G){var Z=JU((G[Ys]||null).action),je=S.submitter;je&&(m=(m=je[Ys]||null)?JU(m.formAction):je.getAttribute("formAction"),m!==null&&(Z=m,je=null));var Je=new Ce("action","action",null,S,G);h.push({event:Je,listeners:[{instance:null,listener:function(){if(S.defaultPrevented){if(Ng!==0){var Lt=je?e6(G,je):new FormData(G);np(b,{pending:!0,data:Lt,method:G.method,action:Z},null,Lt)}}else typeof Z=="function"&&(Je.preventDefault(),Lt=je?e6(G,je):new FormData(G),np(b,{pending:!0,data:Lt,method:G.method,action:Z},Z,Lt))},currentTarget:G}]})}}for(var X5=0;X5<zl.length;X5++){var Z5=zl[X5],Joe=Z5.toLowerCase(),ele=Z5[0].toUpperCase()+Z5.slice(1);Kl(Joe,"on"+ele)}Kl(Hl,"onAnimationEnd"),Kl(Ql,"onAnimationIteration"),Kl(Il,"onAnimationStart"),Kl("dblclick","onDoubleClick"),Kl("focusin","onFocus"),Kl("focusout","onBlur"),Kl(gd,"onTransitionRun"),Kl(ec,"onTransitionStart"),Kl(Vl,"onTransitionCancel"),Kl(mc,"onTransitionEnd"),ro("onMouseEnter",["mouseout","mouseover"]),ro("onMouseLeave",["mouseout","mouseover"]),ro("onPointerEnter",["pointerout","pointerover"]),ro("onPointerLeave",["pointerout","pointerover"]),po("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),po("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),po("onBeforeInput",["compositionend","keypress","textInput","paste"]),po("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),po("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),po("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var A1="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tle=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(A1));function t6(h,m){m=(m&4)!==0;for(var b=0;b<h.length;b++){var S=h[b],G=S.event;S=S.listeners;e:{var Z=void 0;if(m)for(var je=S.length-1;0<=je;je--){var Je=S[je],Lt=Je.instance,wr=Je.currentTarget;if(Je=Je.listener,Lt!==Z&&G.isPropagationStopped())break e;Z=Je,G.currentTarget=wr;try{Z(G)}catch(Ur){bu(Ur)}G.currentTarget=null,Z=Lt}else for(je=0;je<S.length;je++){if(Je=S[je],Lt=Je.instance,wr=Je.currentTarget,Je=Je.listener,Lt!==Z&&G.isPropagationStopped())break e;Z=Je,G.currentTarget=wr;try{Z(G)}catch(Ur){bu(Ur)}G.currentTarget=null,Z=Lt}}}}function _a(h,m){var b=m[Qa];b===void 0&&(b=m[Qa]=new Set);var S=h+"__bubble";b.has(S)||(r6(m,h,2,!1),b.add(S))}function J5(h,m,b){var S=0;m&&(S|=4),r6(b,h,S,m)}var Z_="_reactListening"+Math.random().toString(36).slice(2);function ek(h){if(!h[Z_]){h[Z_]=!0,Fs.forEach(function(b){b!=="selectionchange"&&(tle.has(b)||J5(b,!1,h),J5(b,!0,h))});var m=h.nodeType===9?h:h.ownerDocument;m===null||m[Z_]||(m[Z_]=!0,J5("selectionchange",!1,m))}}function r6(h,m,b,S){switch(I6(m)){case 2:var G=Nle;break;case 8:G=kle;break;default:G=mk}b=G.bind(null,m,b,h),G=void 0,!D||m!=="touchstart"&&m!=="touchmove"&&m!=="wheel"||(G=!0),S?G!==void 0?h.addEventListener(m,b,{capture:!0,passive:G}):h.addEventListener(m,b,!0):G!==void 0?h.addEventListener(m,b,{passive:G}):h.addEventListener(m,b,!1)}function tk(h,m,b,S,G){var Z=S;if((m&1)===0&&(m&2)===0&&S!==null)e:for(;;){if(S===null)return;var je=S.tag;if(je===3||je===4){var Je=S.stateNode.containerInfo;if(Je===G)break;if(je===4)for(je=S.return;je!==null;){var Lt=je.tag;if((Lt===3||Lt===4)&&je.stateNode.containerInfo===G)return;je=je.return}for(;Je!==null;){if(je=ml(Je),je===null)return;if(Lt=je.tag,Lt===5||Lt===6||Lt===26||Lt===27){S=Z=je;continue e}Je=Je.parentNode}}S=S.return}ct(function(){var wr=Z,Ur=z(b),Wr=[];e:{var _r=vd.get(h);if(_r!==void 0){var Nr=Ce,wi=h;switch(h){case"keypress":if(fe(b)===0)break e;case"keydown":case"keyup":Nr=Zr;break;case"focusin":wi="focus",Nr=nr;break;case"focusout":wi="blur",Nr=nr;break;case"beforeblur":case"afterblur":Nr=nr;break;case"click":if(b.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Nr=kt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Nr=Vt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Nr=Kt;break;case Hl:case Ql:case Il:Nr=yr;break;case mc:Nr=cr;break;case"scroll":case"scrollend":Nr=at;break;case"wheel":Nr=Sr;break;case"copy":case"cut":case"paste":Nr=ft;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Nr=St;break;case"toggle":case"beforetoggle":Nr=un}var us=(m&4)!==0,Xo=!us&&(h==="scroll"||h==="scrollend"),sr=us?_r!==null?_r+"Capture":null:_r;us=[];for(var Qt=wr,br;Qt!==null;){var zr=Qt;if(br=zr.stateNode,zr=zr.tag,zr!==5&&zr!==26&&zr!==27||br===null||sr===null||(zr=B(Qt,sr),zr!=null&&us.push(m1(Qt,zr,br))),Xo)break;Qt=Qt.return}0<us.length&&(_r=new Nr(_r,wi,null,b,Ur),Wr.push({event:_r,listeners:us}))}}if((m&7)===0){e:{if(_r=h==="mouseover"||h==="pointerover",Nr=h==="mouseout"||h==="pointerout",_r&&b!==F&&(wi=b.relatedTarget||b.fromElement)&&(ml(wi)||wi[Os]))break e;if((Nr||_r)&&(_r=Ur.window===Ur?Ur:(_r=Ur.ownerDocument)?_r.defaultView||_r.parentWindow:window,Nr?(wi=b.relatedTarget||b.toElement,Nr=wr,wi=wi?ml(wi):null,wi!==null&&(Xo=s(wi),us=wi.tag,wi!==Xo||us!==5&&us!==27&&us!==6)&&(wi=null)):(Nr=null,wi=wr),Nr!==wi)){if(us=kt,zr="onMouseLeave",sr="onMouseEnter",Qt="mouse",(h==="pointerout"||h==="pointerover")&&(us=St,zr="onPointerLeave",sr="onPointerEnter",Qt="pointer"),Xo=Nr==null?_r:Ya(Nr),br=wi==null?_r:Ya(wi),_r=new us(zr,Qt+"leave",Nr,b,Ur),_r.target=Xo,_r.relatedTarget=br,zr=null,ml(Ur)===wr&&(us=new us(sr,Qt+"enter",wi,b,Ur),us.target=br,us.relatedTarget=Xo,zr=us),Xo=zr,Nr&&wi)t:{for(us=rle,sr=Nr,Qt=wi,br=0,zr=sr;zr;zr=us(zr))br++;zr=0;for(var Xi=Qt;Xi;Xi=us(Xi))zr++;for(;0<br-zr;)sr=us(sr),br--;for(;0<zr-br;)Qt=us(Qt),zr--;for(;br--;){if(sr===Qt||Qt!==null&&sr===Qt.alternate){us=sr;break t}sr=us(sr),Qt=us(Qt)}us=null}else us=null;Nr!==null&&n6(Wr,_r,Nr,us,!1),wi!==null&&Xo!==null&&n6(Wr,Xo,wi,us,!0)}}e:{if(_r=wr?Ya(wr):window,Nr=_r.nodeName&&_r.nodeName.toLowerCase(),Nr==="select"||Nr==="input"&&_r.type==="file")var uo=Wn;else if(Di(_r))if(Gi)uo=ua;else{uo=Qi;var Oi=Ws}else Nr=_r.nodeName,!Nr||Nr.toLowerCase()!=="input"||_r.type!=="checkbox"&&_r.type!=="radio"?wr&&Vo(wr.elementType)&&(uo=Wn):uo=ai;if(uo&&(uo=uo(h,wr))){Gn(Wr,uo,b,Ur);break e}Oi&&Oi(h,_r,wr),h==="focusout"&&wr&&_r.type==="number"&&wr.memoizedProps.value!=null&&qs(_r,"number",_r.value)}switch(Oi=wr?Ya(wr):window,h){case"focusin":(Di(Oi)||Oi.contentEditable==="true")&&(Xa=Oi,Ul=wr,$l=null);break;case"focusout":$l=Ul=Xa=null;break;case"mousedown":da=!0;break;case"contextmenu":case"mouseup":case"dragend":da=!1,vo(Wr,b,Ur);break;case"selectionchange":if(Ra)break;case"keydown":case"keyup":vo(Wr,b,Ur)}var aa;if(Rn)e:{switch(h){case"compositionstart":var La="onCompositionStart";break e;case"compositionend":La="onCompositionEnd";break e;case"compositionupdate":La="onCompositionUpdate";break e}La=void 0}else Fn?tn(h,b)&&(La="onCompositionEnd"):h==="keydown"&&b.keyCode===229&&(La="onCompositionStart");La&&(_n&&b.locale!=="ko"&&(Fn||La!=="onCompositionStart"?La==="onCompositionEnd"&&Fn&&(aa=de()):(X=Ur,ee="value"in X?X.value:X.textContent,Fn=!0)),Oi=J_(wr,La),0<Oi.length&&(La=new Pt(La,h,null,b,Ur),Wr.push({event:La,listeners:Oi}),aa?La.data=aa:(aa=ji(b),aa!==null&&(La.data=aa)))),(aa=mt?Hn(h,b):$n(h,b))&&(La=J_(wr,"onBeforeInput"),0<La.length&&(Oi=new Pt("onBeforeInput","beforeinput",null,b,Ur),Wr.push({event:Oi,listeners:La}),Oi.data=aa)),Zoe(Wr,h,wr,b,Ur)}t6(Wr,m)})}function m1(h,m,b){return{instance:h,listener:m,currentTarget:b}}function J_(h,m){for(var b=m+"Capture",S=[];h!==null;){var G=h,Z=G.stateNode;if(G=G.tag,G!==5&&G!==26&&G!==27||Z===null||(G=B(h,b),G!=null&&S.unshift(m1(h,G,Z)),G=B(h,m),G!=null&&S.push(m1(h,G,Z))),h.tag===3)return S;h=h.return}return[]}function rle(h){if(h===null)return null;do h=h.return;while(h&&h.tag!==5&&h.tag!==27);return h||null}function n6(h,m,b,S,G){for(var Z=m._reactName,je=[];b!==null&&b!==S;){var Je=b,Lt=Je.alternate,wr=Je.stateNode;if(Je=Je.tag,Lt!==null&&Lt===S)break;Je!==5&&Je!==26&&Je!==27||wr===null||(Lt=wr,G?(wr=B(b,Z),wr!=null&&je.unshift(m1(b,wr,Lt))):G||(wr=B(b,Z),wr!=null&&je.push(m1(b,wr,Lt)))),b=b.return}je.length!==0&&h.push({event:m,listeners:je})}var nle=/\r\n?/g,ile=/\u0000|\uFFFD/g;function i6(h){return(typeof h=="string"?h:""+h).replace(nle,`
`).replace(ile,"")}function s6(h,m){return m=i6(m),i6(h)===m}function qo(h,m,b,S,G,Z){switch(b){case"children":typeof S=="string"?m==="body"||m==="textarea"&&S===""||Qs(h,S):(typeof S=="number"||typeof S=="bigint")&&m!=="body"&&Qs(h,""+S);break;case"className":js(h,"class",S);break;case"tabIndex":js(h,"tabindex",S);break;case"dir":case"role":case"viewBox":case"width":case"height":js(h,b,S);break;case"style":no(h,S,Z);break;case"data":if(m!=="object"){js(h,"data",S);break}case"src":case"href":if(S===""&&(m!=="a"||b!=="href")){h.removeAttribute(b);break}if(S==null||typeof S=="function"||typeof S=="symbol"||typeof S=="boolean"){h.removeAttribute(b);break}S=ne(""+S),h.setAttribute(b,S);break;case"action":case"formAction":if(typeof S=="function"){h.setAttribute(b,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof Z=="function"&&(b==="formAction"?(m!=="input"&&qo(h,m,"name",G.name,G,null),qo(h,m,"formEncType",G.formEncType,G,null),qo(h,m,"formMethod",G.formMethod,G,null),qo(h,m,"formTarget",G.formTarget,G,null)):(qo(h,m,"encType",G.encType,G,null),qo(h,m,"method",G.method,G,null),qo(h,m,"target",G.target,G,null)));if(S==null||typeof S=="symbol"||typeof S=="boolean"){h.removeAttribute(b);break}S=ne(""+S),h.setAttribute(b,S);break;case"onClick":S!=null&&(h.onclick=oe);break;case"onScroll":S!=null&&_a("scroll",h);break;case"onScrollEnd":S!=null&&_a("scrollend",h);break;case"dangerouslySetInnerHTML":if(S!=null){if(typeof S!="object"||!("__html"in S))throw Error(n(61));if(b=S.__html,b!=null){if(G.children!=null)throw Error(n(60));h.innerHTML=b}}break;case"multiple":h.multiple=S&&typeof S!="function"&&typeof S!="symbol";break;case"muted":h.muted=S&&typeof S!="function"&&typeof S!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(S==null||typeof S=="function"||typeof S=="boolean"||typeof S=="symbol"){h.removeAttribute("xlink:href");break}b=ne(""+S),h.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",b);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":S!=null&&typeof S!="function"&&typeof S!="symbol"?h.setAttribute(b,""+S):h.removeAttribute(b);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":S&&typeof S!="function"&&typeof S!="symbol"?h.setAttribute(b,""):h.removeAttribute(b);break;case"capture":case"download":S===!0?h.setAttribute(b,""):S!==!1&&S!=null&&typeof S!="function"&&typeof S!="symbol"?h.setAttribute(b,S):h.removeAttribute(b);break;case"cols":case"rows":case"size":case"span":S!=null&&typeof S!="function"&&typeof S!="symbol"&&!isNaN(S)&&1<=S?h.setAttribute(b,S):h.removeAttribute(b);break;case"rowSpan":case"start":S==null||typeof S=="function"||typeof S=="symbol"||isNaN(S)?h.removeAttribute(b):h.setAttribute(b,S);break;case"popover":_a("beforetoggle",h),_a("toggle",h),ci(h,"popover",S);break;case"xlinkActuate":Ta(h,"http://www.w3.org/1999/xlink","xlink:actuate",S);break;case"xlinkArcrole":Ta(h,"http://www.w3.org/1999/xlink","xlink:arcrole",S);break;case"xlinkRole":Ta(h,"http://www.w3.org/1999/xlink","xlink:role",S);break;case"xlinkShow":Ta(h,"http://www.w3.org/1999/xlink","xlink:show",S);break;case"xlinkTitle":Ta(h,"http://www.w3.org/1999/xlink","xlink:title",S);break;case"xlinkType":Ta(h,"http://www.w3.org/1999/xlink","xlink:type",S);break;case"xmlBase":Ta(h,"http://www.w3.org/XML/1998/namespace","xml:base",S);break;case"xmlLang":Ta(h,"http://www.w3.org/XML/1998/namespace","xml:lang",S);break;case"xmlSpace":Ta(h,"http://www.w3.org/XML/1998/namespace","xml:space",S);break;case"is":ci(h,"is",S);break;case"innerText":case"textContent":break;default:(!(2<b.length)||b[0]!=="o"&&b[0]!=="O"||b[1]!=="n"&&b[1]!=="N")&&(b=$t.get(b)||b,ci(h,b,S))}}function rk(h,m,b,S,G,Z){switch(b){case"style":no(h,S,Z);break;case"dangerouslySetInnerHTML":if(S!=null){if(typeof S!="object"||!("__html"in S))throw Error(n(61));if(b=S.__html,b!=null){if(G.children!=null)throw Error(n(60));h.innerHTML=b}}break;case"children":typeof S=="string"?Qs(h,S):(typeof S=="number"||typeof S=="bigint")&&Qs(h,""+S);break;case"onScroll":S!=null&&_a("scroll",h);break;case"onScrollEnd":S!=null&&_a("scrollend",h);break;case"onClick":S!=null&&(h.onclick=oe);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!kl.hasOwnProperty(b))e:{if(b[0]==="o"&&b[1]==="n"&&(G=b.endsWith("Capture"),m=b.slice(2,G?b.length-7:void 0),Z=h[Ys]||null,Z=Z!=null?Z[b]:null,typeof Z=="function"&&h.removeEventListener(m,Z,G),typeof S=="function")){typeof Z!="function"&&Z!==null&&(b in h?h[b]=null:h.hasAttribute(b)&&h.removeAttribute(b)),h.addEventListener(m,S,G);break e}b in h?h[b]=S:S===!0?h.setAttribute(b,""):ci(h,b,S)}}}function Nd(h,m,b){switch(m){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_a("error",h),_a("load",h);var S=!1,G=!1,Z;for(Z in b)if(b.hasOwnProperty(Z)){var je=b[Z];if(je!=null)switch(Z){case"src":S=!0;break;case"srcSet":G=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,m));default:qo(h,m,Z,je,b,null)}}G&&qo(h,m,"srcSet",b.srcSet,b,null),S&&qo(h,m,"src",b.src,b,null);return;case"input":_a("invalid",h);var Je=Z=je=G=null,Lt=null,wr=null;for(S in b)if(b.hasOwnProperty(S)){var Ur=b[S];if(Ur!=null)switch(S){case"name":G=Ur;break;case"type":je=Ur;break;case"checked":Lt=Ur;break;case"defaultChecked":wr=Ur;break;case"value":Z=Ur;break;case"defaultValue":Je=Ur;break;case"children":case"dangerouslySetInnerHTML":if(Ur!=null)throw Error(n(137,m));break;default:qo(h,m,S,Ur,b,null)}}Ea(h,Z,Je,Lt,wr,je,G,!1);return;case"select":_a("invalid",h),S=je=Z=null;for(G in b)if(b.hasOwnProperty(G)&&(Je=b[G],Je!=null))switch(G){case"value":Z=Je;break;case"defaultValue":je=Je;break;case"multiple":S=Je;default:qo(h,m,G,Je,b,null)}m=Z,b=je,h.multiple=!!S,m!=null?fs(h,!!S,m,!1):b!=null&&fs(h,!!S,b,!0);return;case"textarea":_a("invalid",h),Z=G=S=null;for(je in b)if(b.hasOwnProperty(je)&&(Je=b[je],Je!=null))switch(je){case"value":S=Je;break;case"defaultValue":G=Je;break;case"children":Z=Je;break;case"dangerouslySetInnerHTML":if(Je!=null)throw Error(n(91));break;default:qo(h,m,je,Je,b,null)}za(h,S,G,Z);return;case"option":for(Lt in b)b.hasOwnProperty(Lt)&&(S=b[Lt],S!=null)&&(Lt==="selected"?h.selected=S&&typeof S!="function"&&typeof S!="symbol":qo(h,m,Lt,S,b,null));return;case"dialog":_a("beforetoggle",h),_a("toggle",h),_a("cancel",h),_a("close",h);break;case"iframe":case"object":_a("load",h);break;case"video":case"audio":for(S=0;S<A1.length;S++)_a(A1[S],h);break;case"image":_a("error",h),_a("load",h);break;case"details":_a("toggle",h);break;case"embed":case"source":case"link":_a("error",h),_a("load",h);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(wr in b)if(b.hasOwnProperty(wr)&&(S=b[wr],S!=null))switch(wr){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,m));default:qo(h,m,wr,S,b,null)}return;default:if(Vo(m)){for(Ur in b)b.hasOwnProperty(Ur)&&(S=b[Ur],S!==void 0&&rk(h,m,Ur,S,b,void 0));return}}for(Je in b)b.hasOwnProperty(Je)&&(S=b[Je],S!=null&&qo(h,m,Je,S,b,null))}function sle(h,m,b,S){switch(m){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var G=null,Z=null,je=null,Je=null,Lt=null,wr=null,Ur=null;for(Nr in b){var Wr=b[Nr];if(b.hasOwnProperty(Nr)&&Wr!=null)switch(Nr){case"checked":break;case"value":break;case"defaultValue":Lt=Wr;default:S.hasOwnProperty(Nr)||qo(h,m,Nr,null,S,Wr)}}for(var _r in S){var Nr=S[_r];if(Wr=b[_r],S.hasOwnProperty(_r)&&(Nr!=null||Wr!=null))switch(_r){case"type":Z=Nr;break;case"name":G=Nr;break;case"checked":wr=Nr;break;case"defaultChecked":Ur=Nr;break;case"value":je=Nr;break;case"defaultValue":Je=Nr;break;case"children":case"dangerouslySetInnerHTML":if(Nr!=null)throw Error(n(137,m));break;default:Nr!==Wr&&qo(h,m,_r,Nr,S,Wr)}}Qo(h,je,Je,Lt,wr,Ur,Z,G);return;case"select":Nr=je=Je=_r=null;for(Z in b)if(Lt=b[Z],b.hasOwnProperty(Z)&&Lt!=null)switch(Z){case"value":break;case"multiple":Nr=Lt;default:S.hasOwnProperty(Z)||qo(h,m,Z,null,S,Lt)}for(G in S)if(Z=S[G],Lt=b[G],S.hasOwnProperty(G)&&(Z!=null||Lt!=null))switch(G){case"value":_r=Z;break;case"defaultValue":Je=Z;break;case"multiple":je=Z;default:Z!==Lt&&qo(h,m,G,Z,S,Lt)}m=Je,b=je,S=Nr,_r!=null?fs(h,!!b,_r,!1):!!S!=!!b&&(m!=null?fs(h,!!b,m,!0):fs(h,!!b,b?[]:"",!1));return;case"textarea":Nr=_r=null;for(Je in b)if(G=b[Je],b.hasOwnProperty(Je)&&G!=null&&!S.hasOwnProperty(Je))switch(Je){case"value":break;case"children":break;default:qo(h,m,Je,null,S,G)}for(je in S)if(G=S[je],Z=b[je],S.hasOwnProperty(je)&&(G!=null||Z!=null))switch(je){case"value":_r=G;break;case"defaultValue":Nr=G;break;case"children":break;case"dangerouslySetInnerHTML":if(G!=null)throw Error(n(91));break;default:G!==Z&&qo(h,m,je,G,S,Z)}So(h,_r,Nr);return;case"option":for(var wi in b)_r=b[wi],b.hasOwnProperty(wi)&&_r!=null&&!S.hasOwnProperty(wi)&&(wi==="selected"?h.selected=!1:qo(h,m,wi,null,S,_r));for(Lt in S)_r=S[Lt],Nr=b[Lt],S.hasOwnProperty(Lt)&&_r!==Nr&&(_r!=null||Nr!=null)&&(Lt==="selected"?h.selected=_r&&typeof _r!="function"&&typeof _r!="symbol":qo(h,m,Lt,_r,S,Nr));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var us in b)_r=b[us],b.hasOwnProperty(us)&&_r!=null&&!S.hasOwnProperty(us)&&qo(h,m,us,null,S,_r);for(wr in S)if(_r=S[wr],Nr=b[wr],S.hasOwnProperty(wr)&&_r!==Nr&&(_r!=null||Nr!=null))switch(wr){case"children":case"dangerouslySetInnerHTML":if(_r!=null)throw Error(n(137,m));break;default:qo(h,m,wr,_r,S,Nr)}return;default:if(Vo(m)){for(var Xo in b)_r=b[Xo],b.hasOwnProperty(Xo)&&_r!==void 0&&!S.hasOwnProperty(Xo)&&rk(h,m,Xo,void 0,S,_r);for(Ur in S)_r=S[Ur],Nr=b[Ur],!S.hasOwnProperty(Ur)||_r===Nr||_r===void 0&&Nr===void 0||rk(h,m,Ur,_r,S,Nr);return}}for(var sr in b)_r=b[sr],b.hasOwnProperty(sr)&&_r!=null&&!S.hasOwnProperty(sr)&&qo(h,m,sr,null,S,_r);for(Wr in S)_r=S[Wr],Nr=b[Wr],!S.hasOwnProperty(Wr)||_r===Nr||_r==null&&Nr==null||qo(h,m,Wr,_r,S,Nr)}function a6(h){switch(h){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ale(){if(typeof performance.getEntriesByType=="function"){for(var h=0,m=0,b=performance.getEntriesByType("resource"),S=0;S<b.length;S++){var G=b[S],Z=G.transferSize,je=G.initiatorType,Je=G.duration;if(Z&&Je&&a6(je)){for(je=0,Je=G.responseEnd,S+=1;S<b.length;S++){var Lt=b[S],wr=Lt.startTime;if(wr>Je)break;var Ur=Lt.transferSize,Wr=Lt.initiatorType;Ur&&a6(Wr)&&(Lt=Lt.responseEnd,je+=Ur*(Lt<Je?1:(Je-wr)/(Lt-wr)))}if(--S,m+=8*(Z+je)/(G.duration/1e3),h++,10<h)break}}if(0<h)return m/h/1e6}return navigator.connection&&(h=navigator.connection.downlink,typeof h=="number")?h:5}var nk=null,ik=null;function e2(h){return h.nodeType===9?h:h.ownerDocument}function o6(h){switch(h){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function l6(h,m){if(h===0)switch(m){case"svg":return 1;case"math":return 2;default:return 0}return h===1&&m==="foreignObject"?0:h}function sk(h,m){return h==="textarea"||h==="noscript"||typeof m.children=="string"||typeof m.children=="number"||typeof m.children=="bigint"||typeof m.dangerouslySetInnerHTML=="object"&&m.dangerouslySetInnerHTML!==null&&m.dangerouslySetInnerHTML.__html!=null}var ak=null;function ole(){var h=window.event;return h&&h.type==="popstate"?h===ak?!1:(ak=h,!0):(ak=null,!1)}var c6=typeof setTimeout=="function"?setTimeout:void 0,lle=typeof clearTimeout=="function"?clearTimeout:void 0,u6=typeof Promise=="function"?Promise:void 0,cle=typeof queueMicrotask=="function"?queueMicrotask:typeof u6<"u"?function(h){return u6.resolve(null).then(h).catch(ule)}:c6;function ule(h){setTimeout(function(){throw h})}function kg(h){return h==="head"}function d6(h,m){var b=m,S=0;do{var G=b.nextSibling;if(h.removeChild(b),G&&G.nodeType===8)if(b=G.data,b==="/$"||b==="/&"){if(S===0){h.removeChild(G),Dy(m);return}S--}else if(b==="$"||b==="$?"||b==="$~"||b==="$!"||b==="&")S++;else if(b==="html")p1(h.ownerDocument.documentElement);else if(b==="head"){b=h.ownerDocument.head,p1(b);for(var Z=b.firstChild;Z;){var je=Z.nextSibling,Je=Z.nodeName;Z[Ml]||Je==="SCRIPT"||Je==="STYLE"||Je==="LINK"&&Z.rel.toLowerCase()==="stylesheet"||b.removeChild(Z),Z=je}}else b==="body"&&p1(h.ownerDocument.body);b=G}while(b);Dy(m)}function h6(h,m){var b=h;h=0;do{var S=b.nextSibling;if(b.nodeType===1?m?(b._stashedDisplay=b.style.display,b.style.display="none"):(b.style.display=b._stashedDisplay||"",b.getAttribute("style")===""&&b.removeAttribute("style")):b.nodeType===3&&(m?(b._stashedText=b.nodeValue,b.nodeValue=""):b.nodeValue=b._stashedText||""),S&&S.nodeType===8)if(b=S.data,b==="/$"){if(h===0)break;h--}else b!=="$"&&b!=="$?"&&b!=="$~"&&b!=="$!"||h++;b=S}while(b)}function ok(h){var m=h.firstChild;for(m&&m.nodeType===10&&(m=m.nextSibling);m;){var b=m;switch(m=m.nextSibling,b.nodeName){case"HTML":case"HEAD":case"BODY":ok(b),tu(b);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(b.rel.toLowerCase()==="stylesheet")continue}h.removeChild(b)}}function dle(h,m,b,S){for(;h.nodeType===1;){var G=b;if(h.nodeName.toLowerCase()!==m.toLowerCase()){if(!S&&(h.nodeName!=="INPUT"||h.type!=="hidden"))break}else if(S){if(!h[Ml])switch(m){case"meta":if(!h.hasAttribute("itemprop"))break;return h;case"link":if(Z=h.getAttribute("rel"),Z==="stylesheet"&&h.hasAttribute("data-precedence"))break;if(Z!==G.rel||h.getAttribute("href")!==(G.href==null||G.href===""?null:G.href)||h.getAttribute("crossorigin")!==(G.crossOrigin==null?null:G.crossOrigin)||h.getAttribute("title")!==(G.title==null?null:G.title))break;return h;case"style":if(h.hasAttribute("data-precedence"))break;return h;case"script":if(Z=h.getAttribute("src"),(Z!==(G.src==null?null:G.src)||h.getAttribute("type")!==(G.type==null?null:G.type)||h.getAttribute("crossorigin")!==(G.crossOrigin==null?null:G.crossOrigin))&&Z&&h.hasAttribute("async")&&!h.hasAttribute("itemprop"))break;return h;default:return h}}else if(m==="input"&&h.type==="hidden"){var Z=G.name==null?null:""+G.name;if(G.type==="hidden"&&h.getAttribute("name")===Z)return h}else return h;if(h=Tf(h.nextSibling),h===null)break}return null}function hle(h,m,b){if(m==="")return null;for(;h.nodeType!==3;)if((h.nodeType!==1||h.nodeName!=="INPUT"||h.type!=="hidden")&&!b||(h=Tf(h.nextSibling),h===null))return null;return h}function f6(h,m){for(;h.nodeType!==8;)if((h.nodeType!==1||h.nodeName!=="INPUT"||h.type!=="hidden")&&!m||(h=Tf(h.nextSibling),h===null))return null;return h}function lk(h){return h.data==="$?"||h.data==="$~"}function ck(h){return h.data==="$!"||h.data==="$?"&&h.ownerDocument.readyState!=="loading"}function fle(h,m){var b=h.ownerDocument;if(h.data==="$~")h._reactRetry=m;else if(h.data!=="$?"||b.readyState!=="loading")m();else{var S=function(){m(),b.removeEventListener("DOMContentLoaded",S)};b.addEventListener("DOMContentLoaded",S),h._reactRetry=S}}function Tf(h){for(;h!=null;h=h.nextSibling){var m=h.nodeType;if(m===1||m===3)break;if(m===8){if(m=h.data,m==="$"||m==="$!"||m==="$?"||m==="$~"||m==="&"||m==="F!"||m==="F")break;if(m==="/$"||m==="/&")return null}}return h}var uk=null;function A6(h){h=h.nextSibling;for(var m=0;h;){if(h.nodeType===8){var b=h.data;if(b==="/$"||b==="/&"){if(m===0)return Tf(h.nextSibling);m--}else b!=="$"&&b!=="$!"&&b!=="$?"&&b!=="$~"&&b!=="&"||m++}h=h.nextSibling}return null}function m6(h){h=h.previousSibling;for(var m=0;h;){if(h.nodeType===8){var b=h.data;if(b==="$"||b==="$!"||b==="$?"||b==="$~"||b==="&"){if(m===0)return h;m--}else b!=="/$"&&b!=="/&"||m++}h=h.previousSibling}return null}function p6(h,m,b){switch(m=e2(b),h){case"html":if(h=m.documentElement,!h)throw Error(n(452));return h;case"head":if(h=m.head,!h)throw Error(n(453));return h;case"body":if(h=m.body,!h)throw Error(n(454));return h;default:throw Error(n(451))}}function p1(h){for(var m=h.attributes;m.length;)h.removeAttributeNode(m[0]);tu(h)}var Cf=new Map,g6=new Set;function t2(h){return typeof h.getRootNode=="function"?h.getRootNode():h.nodeType===9?h:h.ownerDocument}var Ap=xe.d;xe.d={f:Ale,r:mle,D:ple,C:gle,L:vle,m:yle,X:ble,S:xle,M:wle};function Ale(){var h=Ap.f(),m=Nu();return h||m}function mle(h){var m=ta(h);m!==null&&m.tag===5&&m.type==="form"?Cd(m):Ap.r(h)}var Oy=typeof document>"u"?null:document;function v6(h,m,b){var S=Oy;if(S&&typeof m=="string"&&m){var G=Hi(m);G='link[rel="'+h+'"][href="'+G+'"]',typeof b=="string"&&(G+='[crossorigin="'+b+'"]'),g6.has(G)||(g6.add(G),h={rel:h,crossOrigin:b,href:m},S.querySelector(G)===null&&(m=S.createElement("link"),Nd(m,"link",h),ba(m),S.head.appendChild(m)))}}function ple(h){Ap.D(h),v6("dns-prefetch",h,null)}function gle(h,m){Ap.C(h,m),v6("preconnect",h,m)}function vle(h,m,b){Ap.L(h,m,b);var S=Oy;if(S&&h&&m){var G='link[rel="preload"][as="'+Hi(m)+'"]';m==="image"&&b&&b.imageSrcSet?(G+='[imagesrcset="'+Hi(b.imageSrcSet)+'"]',typeof b.imageSizes=="string"&&(G+='[imagesizes="'+Hi(b.imageSizes)+'"]')):G+='[href="'+Hi(h)+'"]';var Z=G;switch(m){case"style":Z=Py(h);break;case"script":Z=Ry(h)}Cf.has(Z)||(h=f({rel:"preload",href:m==="image"&&b&&b.imageSrcSet?void 0:h,as:m},b),Cf.set(Z,h),S.querySelector(G)!==null||m==="style"&&S.querySelector(g1(Z))||m==="script"&&S.querySelector(v1(Z))||(m=S.createElement("link"),Nd(m,"link",h),ba(m),S.head.appendChild(m)))}}function yle(h,m){Ap.m(h,m);var b=Oy;if(b&&h){var S=m&&typeof m.as=="string"?m.as:"script",G='link[rel="modulepreload"][as="'+Hi(S)+'"][href="'+Hi(h)+'"]',Z=G;switch(S){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":Z=Ry(h)}if(!Cf.has(Z)&&(h=f({rel:"modulepreload",href:h},m),Cf.set(Z,h),b.querySelector(G)===null)){switch(S){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(b.querySelector(v1(Z)))return}S=b.createElement("link"),Nd(S,"link",h),ba(S),b.head.appendChild(S)}}}function xle(h,m,b){Ap.S(h,m,b);var S=Oy;if(S&&h){var G=Gs(S).hoistableStyles,Z=Py(h);m=m||"default";var je=G.get(Z);if(!je){var Je={loading:0,preload:null};if(je=S.querySelector(g1(Z)))Je.loading=5;else{h=f({rel:"stylesheet",href:h,"data-precedence":m},b),(b=Cf.get(Z))&&dk(h,b);var Lt=je=S.createElement("link");ba(Lt),Nd(Lt,"link",h),Lt._p=new Promise(function(wr,Ur){Lt.onload=wr,Lt.onerror=Ur}),Lt.addEventListener("load",function(){Je.loading|=1}),Lt.addEventListener("error",function(){Je.loading|=2}),Je.loading|=4,r2(je,m,S)}je={type:"stylesheet",instance:je,count:1,state:Je},G.set(Z,je)}}}function ble(h,m){Ap.X(h,m);var b=Oy;if(b&&h){var S=Gs(b).hoistableScripts,G=Ry(h),Z=S.get(G);Z||(Z=b.querySelector(v1(G)),Z||(h=f({src:h,async:!0},m),(m=Cf.get(G))&&hk(h,m),Z=b.createElement("script"),ba(Z),Nd(Z,"link",h),b.head.appendChild(Z)),Z={type:"script",instance:Z,count:1,state:null},S.set(G,Z))}}function wle(h,m){Ap.M(h,m);var b=Oy;if(b&&h){var S=Gs(b).hoistableScripts,G=Ry(h),Z=S.get(G);Z||(Z=b.querySelector(v1(G)),Z||(h=f({src:h,async:!0,type:"module"},m),(m=Cf.get(G))&&hk(h,m),Z=b.createElement("script"),ba(Z),Nd(Z,"link",h),b.head.appendChild(Z)),Z={type:"script",instance:Z,count:1,state:null},S.set(G,Z))}}function y6(h,m,b,S){var G=(G=Fe.current)?t2(G):null;if(!G)throw Error(n(446));switch(h){case"meta":case"title":return null;case"style":return typeof b.precedence=="string"&&typeof b.href=="string"?(m=Py(b.href),b=Gs(G).hoistableStyles,S=b.get(m),S||(S={type:"style",instance:null,count:0,state:null},b.set(m,S)),S):{type:"void",instance:null,count:0,state:null};case"link":if(b.rel==="stylesheet"&&typeof b.href=="string"&&typeof b.precedence=="string"){h=Py(b.href);var Z=Gs(G).hoistableStyles,je=Z.get(h);if(je||(G=G.ownerDocument||G,je={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},Z.set(h,je),(Z=G.querySelector(g1(h)))&&!Z._p&&(je.instance=Z,je.state.loading=5),Cf.has(h)||(b={rel:"preload",as:"style",href:b.href,crossOrigin:b.crossOrigin,integrity:b.integrity,media:b.media,hrefLang:b.hrefLang,referrerPolicy:b.referrerPolicy},Cf.set(h,b),Z||Ele(G,h,b,je.state))),m&&S===null)throw Error(n(528,""));return je}if(m&&S!==null)throw Error(n(529,""));return null;case"script":return m=b.async,b=b.src,typeof b=="string"&&m&&typeof m!="function"&&typeof m!="symbol"?(m=Ry(b),b=Gs(G).hoistableScripts,S=b.get(m),S||(S={type:"script",instance:null,count:0,state:null},b.set(m,S)),S):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,h))}}function Py(h){return'href="'+Hi(h)+'"'}function g1(h){return'link[rel="stylesheet"]['+h+"]"}function x6(h){return f({},h,{"data-precedence":h.precedence,precedence:null})}function Ele(h,m,b,S){h.querySelector('link[rel="preload"][as="style"]['+m+"]")?S.loading=1:(m=h.createElement("link"),S.preload=m,m.addEventListener("load",function(){return S.loading|=1}),m.addEventListener("error",function(){return S.loading|=2}),Nd(m,"link",b),ba(m),h.head.appendChild(m))}function Ry(h){return'[src="'+Hi(h)+'"]'}function v1(h){return"script[async]"+h}function b6(h,m,b){if(m.count++,m.instance===null)switch(m.type){case"style":var S=h.querySelector('style[data-href~="'+Hi(b.href)+'"]');if(S)return m.instance=S,ba(S),S;var G=f({},b,{"data-href":b.href,"data-precedence":b.precedence,href:null,precedence:null});return S=(h.ownerDocument||h).createElement("style"),ba(S),Nd(S,"style",G),r2(S,b.precedence,h),m.instance=S;case"stylesheet":G=Py(b.href);var Z=h.querySelector(g1(G));if(Z)return m.state.loading|=4,m.instance=Z,ba(Z),Z;S=x6(b),(G=Cf.get(G))&&dk(S,G),Z=(h.ownerDocument||h).createElement("link"),ba(Z);var je=Z;return je._p=new Promise(function(Je,Lt){je.onload=Je,je.onerror=Lt}),Nd(Z,"link",S),m.state.loading|=4,r2(Z,b.precedence,h),m.instance=Z;case"script":return Z=Ry(b.src),(G=h.querySelector(v1(Z)))?(m.instance=G,ba(G),G):(S=b,(G=Cf.get(Z))&&(S=f({},b),hk(S,G)),h=h.ownerDocument||h,G=h.createElement("script"),ba(G),Nd(G,"link",S),h.head.appendChild(G),m.instance=G);case"void":return null;default:throw Error(n(443,m.type))}else m.type==="stylesheet"&&(m.state.loading&4)===0&&(S=m.instance,m.state.loading|=4,r2(S,b.precedence,h));return m.instance}function r2(h,m,b){for(var S=b.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),G=S.length?S[S.length-1]:null,Z=G,je=0;je<S.length;je++){var Je=S[je];if(Je.dataset.precedence===m)Z=Je;else if(Z!==G)break}Z?Z.parentNode.insertBefore(h,Z.nextSibling):(m=b.nodeType===9?b.head:b,m.insertBefore(h,m.firstChild))}function dk(h,m){h.crossOrigin==null&&(h.crossOrigin=m.crossOrigin),h.referrerPolicy==null&&(h.referrerPolicy=m.referrerPolicy),h.title==null&&(h.title=m.title)}function hk(h,m){h.crossOrigin==null&&(h.crossOrigin=m.crossOrigin),h.referrerPolicy==null&&(h.referrerPolicy=m.referrerPolicy),h.integrity==null&&(h.integrity=m.integrity)}var n2=null;function w6(h,m,b){if(n2===null){var S=new Map,G=n2=new Map;G.set(b,S)}else G=n2,S=G.get(b),S||(S=new Map,G.set(b,S));if(S.has(h))return S;for(S.set(h,null),b=b.getElementsByTagName(h),G=0;G<b.length;G++){var Z=b[G];if(!(Z[Ml]||Z[rs]||h==="link"&&Z.getAttribute("rel")==="stylesheet")&&Z.namespaceURI!=="http://www.w3.org/2000/svg"){var je=Z.getAttribute(m)||"";je=h+je;var Je=S.get(je);Je?Je.push(Z):S.set(je,[Z])}}return S}function E6(h,m,b){h=h.ownerDocument||h,h.head.insertBefore(b,m==="title"?h.querySelector("head > title"):null)}function _le(h,m,b){if(b===1||m.itemProp!=null)return!1;switch(h){case"meta":case"title":return!0;case"style":if(typeof m.precedence!="string"||typeof m.href!="string"||m.href==="")break;return!0;case"link":if(typeof m.rel!="string"||typeof m.href!="string"||m.href===""||m.onLoad||m.onError)break;return m.rel==="stylesheet"?(h=m.disabled,typeof m.precedence=="string"&&h==null):!0;case"script":if(m.async&&typeof m.async!="function"&&typeof m.async!="symbol"&&!m.onLoad&&!m.onError&&m.src&&typeof m.src=="string")return!0}return!1}function _6(h){return!(h.type==="stylesheet"&&(h.state.loading&3)===0)}function Sle(h,m,b,S){if(b.type==="stylesheet"&&(typeof S.media!="string"||matchMedia(S.media).matches!==!1)&&(b.state.loading&4)===0){if(b.instance===null){var G=Py(S.href),Z=m.querySelector(g1(G));if(Z){m=Z._p,m!==null&&typeof m=="object"&&typeof m.then=="function"&&(h.count++,h=i2.bind(h),m.then(h,h)),b.state.loading|=4,b.instance=Z,ba(Z);return}Z=m.ownerDocument||m,S=x6(S),(G=Cf.get(G))&&dk(S,G),Z=Z.createElement("link"),ba(Z);var je=Z;je._p=new Promise(function(Je,Lt){je.onload=Je,je.onerror=Lt}),Nd(Z,"link",S),b.instance=Z}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(b,m),(m=b.state.preload)&&(b.state.loading&3)===0&&(h.count++,b=i2.bind(h),m.addEventListener("load",b),m.addEventListener("error",b))}}var fk=0;function Tle(h,m){return h.stylesheets&&h.count===0&&a2(h,h.stylesheets),0<h.count||0<h.imgCount?function(b){var S=setTimeout(function(){if(h.stylesheets&&a2(h,h.stylesheets),h.unsuspend){var Z=h.unsuspend;h.unsuspend=null,Z()}},6e4+m);0<h.imgBytes&&fk===0&&(fk=62500*ale());var G=setTimeout(function(){if(h.waitingForImages=!1,h.count===0&&(h.stylesheets&&a2(h,h.stylesheets),h.unsuspend)){var Z=h.unsuspend;h.unsuspend=null,Z()}},(h.imgBytes>fk?50:800)+m);return h.unsuspend=b,function(){h.unsuspend=null,clearTimeout(S),clearTimeout(G)}}:null}function i2(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)a2(this,this.stylesheets);else if(this.unsuspend){var h=this.unsuspend;this.unsuspend=null,h()}}}var s2=null;function a2(h,m){h.stylesheets=null,h.unsuspend!==null&&(h.count++,s2=new Map,m.forEach(Cle,h),s2=null,i2.call(h))}function Cle(h,m){if(!(m.state.loading&4)){var b=s2.get(h);if(b)var S=b.get(null);else{b=new Map,s2.set(h,b);for(var G=h.querySelectorAll("link[data-precedence],style[data-precedence]"),Z=0;Z<G.length;Z++){var je=G[Z];(je.nodeName==="LINK"||je.getAttribute("media")!=="not all")&&(b.set(je.dataset.precedence,je),S=je)}S&&b.set(null,S)}G=m.instance,je=G.getAttribute("data-precedence"),Z=b.get(je)||S,Z===S&&b.set(null,G),b.set(je,G),this.count++,S=i2.bind(this),G.addEventListener("load",S),G.addEventListener("error",S),Z?Z.parentNode.insertBefore(G,Z.nextSibling):(h=h.nodeType===9?h.head:h,h.insertBefore(G,h.firstChild)),m.state.loading|=4}}var y1={$$typeof:T,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function jle(h,m,b,S,G,Z,je,Je,Lt){this.tag=1,this.containerInfo=h,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Rs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rs(0),this.hiddenUpdates=Rs(null),this.identifierPrefix=S,this.onUncaughtError=G,this.onCaughtError=Z,this.onRecoverableError=je,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Lt,this.incompleteTransitions=new Map}function S6(h,m,b,S,G,Z,je,Je,Lt,wr,Ur,Wr){return h=new jle(h,m,b,je,Lt,wr,Ur,Wr,Je),m=1,Z===!0&&(m|=24),Z=Ll(3,null,null,m),h.current=Z,Z.stateNode=h,m=oh(),m.refCount++,h.pooledCache=m,m.refCount++,Z.memoizedState={element:S,isDehydrated:b,cache:m},Fa(Z),h}function T6(h){return h?(h=vl,h):vl}function C6(h,m,b,S,G,Z){G=T6(G),S.context===null?S.context=G:S.pendingContext=G,S=Ni(m),S.payload={element:b},Z=Z===void 0?null:Z,Z!==null&&(S.callback=Z),b=Vi(h,S,m),b!==null&&(Ro(b,h,m),vs(b,h,m))}function j6(h,m){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var b=h.retryLane;h.retryLane=b!==0&&b<m?b:m}}function Ak(h,m){j6(h,m),(h=h.alternate)&&j6(h,m)}function N6(h){if(h.tag===13||h.tag===31){var m=tc(h,67108864);m!==null&&Ro(m,h,67108864),Ak(h,67108864)}}function k6(h){if(h.tag===13||h.tag===31){var m=Mi();m=En(m);var b=tc(h,m);b!==null&&Ro(b,h,m),Ak(h,m)}}var o2=!0;function Nle(h,m,b,S){var G=se.T;se.T=null;var Z=xe.p;try{xe.p=2,mk(h,m,b,S)}finally{xe.p=Z,se.T=G}}function kle(h,m,b,S){var G=se.T;se.T=null;var Z=xe.p;try{xe.p=8,mk(h,m,b,S)}finally{xe.p=Z,se.T=G}}function mk(h,m,b,S){if(o2){var G=pk(S);if(G===null)tk(h,m,S,l2,b),L6(h,S);else if(Lle(G,h,m,b,S))S.stopPropagation();else if(L6(h,S),m&4&&-1<Ile.indexOf(h)){for(;G!==null;){var Z=ta(G);if(Z!==null)switch(Z.tag){case 3:if(Z=Z.stateNode,Z.current.memoizedState.isDehydrated){var je=An(Z.pendingLanes);if(je!==0){var Je=Z;for(Je.pendingLanes|=2,Je.entangledLanes|=2;je;){var Lt=1<<31-Hr(je);Je.entanglements[1]|=Lt,je&=~Lt}XA(Z),(va&6)===0&&(Vn=dn()+500,f1(0))}}break;case 31:case 13:Je=tc(Z,2),Je!==null&&Ro(Je,Z,2),Nu(),Ak(Z,2)}if(Z=pk(S),Z===null&&tk(h,m,S,l2,b),Z===G)break;G=Z}G!==null&&S.stopPropagation()}else tk(h,m,S,null,b)}}function pk(h){return h=z(h),gk(h)}var l2=null;function gk(h){if(l2=null,h=ml(h),h!==null){var m=s(h);if(m===null)h=null;else{var b=m.tag;if(b===13){if(h=a(m),h!==null)return h;h=null}else if(b===31){if(h=c(m),h!==null)return h;h=null}else if(b===3){if(m.stateNode.current.memoizedState.isDehydrated)return m.tag===3?m.stateNode.containerInfo:null;h=null}else m!==h&&(h=null)}}return l2=h,null}function I6(h){switch(h){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pn()){case mn:return 2;case Kn:return 8;case Zn:case Li:return 32;case ot:return 268435456;default:return 32}default:return 32}}var vk=!1,Ig=null,Lg=null,Bg=null,x1=new Map,b1=new Map,Og=[],Ile="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function L6(h,m){switch(h){case"focusin":case"focusout":Ig=null;break;case"dragenter":case"dragleave":Lg=null;break;case"mouseover":case"mouseout":Bg=null;break;case"pointerover":case"pointerout":x1.delete(m.pointerId);break;case"gotpointercapture":case"lostpointercapture":b1.delete(m.pointerId)}}function w1(h,m,b,S,G,Z){return h===null||h.nativeEvent!==Z?(h={blockedOn:m,domEventName:b,eventSystemFlags:S,nativeEvent:Z,targetContainers:[G]},m!==null&&(m=ta(m),m!==null&&N6(m)),h):(h.eventSystemFlags|=S,m=h.targetContainers,G!==null&&m.indexOf(G)===-1&&m.push(G),h)}function Lle(h,m,b,S,G){switch(m){case"focusin":return Ig=w1(Ig,h,m,b,S,G),!0;case"dragenter":return Lg=w1(Lg,h,m,b,S,G),!0;case"mouseover":return Bg=w1(Bg,h,m,b,S,G),!0;case"pointerover":var Z=G.pointerId;return x1.set(Z,w1(x1.get(Z)||null,h,m,b,S,G)),!0;case"gotpointercapture":return Z=G.pointerId,b1.set(Z,w1(b1.get(Z)||null,h,m,b,S,G)),!0}return!1}function B6(h){var m=ml(h.target);if(m!==null){var b=s(m);if(b!==null){if(m=b.tag,m===13){if(m=a(b),m!==null){h.blockedOn=m,$s(h.priority,function(){k6(b)});return}}else if(m===31){if(m=c(b),m!==null){h.blockedOn=m,$s(h.priority,function(){k6(b)});return}}else if(m===3&&b.stateNode.current.memoizedState.isDehydrated){h.blockedOn=b.tag===3?b.stateNode.containerInfo:null;return}}}h.blockedOn=null}function c2(h){if(h.blockedOn!==null)return!1;for(var m=h.targetContainers;0<m.length;){var b=pk(h.nativeEvent);if(b===null){b=h.nativeEvent;var S=new b.constructor(b.type,b);F=S,b.target.dispatchEvent(S),F=null}else return m=ta(b),m!==null&&N6(m),h.blockedOn=b,!1;m.shift()}return!0}function O6(h,m,b){c2(h)&&b.delete(m)}function Ble(){vk=!1,Ig!==null&&c2(Ig)&&(Ig=null),Lg!==null&&c2(Lg)&&(Lg=null),Bg!==null&&c2(Bg)&&(Bg=null),x1.forEach(O6),b1.forEach(O6)}function u2(h,m){h.blockedOn===m&&(h.blockedOn=null,vk||(vk=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Ble)))}var d2=null;function P6(h){d2!==h&&(d2=h,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){d2===h&&(d2=null);for(var m=0;m<h.length;m+=3){var b=h[m],S=h[m+1],G=h[m+2];if(typeof S!="function"){if(gk(S||b)===null)continue;break}var Z=ta(b);Z!==null&&(h.splice(m,3),m-=3,np(Z,{pending:!0,data:G,method:b.method,action:S},S,G))}}))}function Dy(h){function m(Lt){return u2(Lt,h)}Ig!==null&&u2(Ig,h),Lg!==null&&u2(Lg,h),Bg!==null&&u2(Bg,h),x1.forEach(m),b1.forEach(m);for(var b=0;b<Og.length;b++){var S=Og[b];S.blockedOn===h&&(S.blockedOn=null)}for(;0<Og.length&&(b=Og[0],b.blockedOn===null);)B6(b),b.blockedOn===null&&Og.shift();if(b=(h.ownerDocument||h).$$reactFormReplay,b!=null)for(S=0;S<b.length;S+=3){var G=b[S],Z=b[S+1],je=G[Ys]||null;if(typeof Z=="function")je||P6(b);else if(je){var Je=null;if(Z&&Z.hasAttribute("formAction")){if(G=Z,je=Z[Ys]||null)Je=je.formAction;else if(gk(G)!==null)continue}else Je=je.action;typeof Je=="function"?b[S+1]=Je:(b.splice(S,3),S-=3),P6(b)}}}function R6(){function h(Z){Z.canIntercept&&Z.info==="react-transition"&&Z.intercept({handler:function(){return new Promise(function(je){return G=je})},focusReset:"manual",scroll:"manual"})}function m(){G!==null&&(G(),G=null),S||setTimeout(b,20)}function b(){if(!S&&!navigation.transition){var Z=navigation.currentEntry;Z&&Z.url!=null&&navigation.navigate(Z.url,{state:Z.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var S=!1,G=null;return navigation.addEventListener("navigate",h),navigation.addEventListener("navigatesuccess",m),navigation.addEventListener("navigateerror",m),setTimeout(b,100),function(){S=!0,navigation.removeEventListener("navigate",h),navigation.removeEventListener("navigatesuccess",m),navigation.removeEventListener("navigateerror",m),G!==null&&(G(),G=null)}}}function yk(h){this._internalRoot=h}h2.prototype.render=yk.prototype.render=function(h){var m=this._internalRoot;if(m===null)throw Error(n(409));var b=m.current,S=Mi();C6(b,S,h,m,null,null)},h2.prototype.unmount=yk.prototype.unmount=function(){var h=this._internalRoot;if(h!==null){this._internalRoot=null;var m=h.containerInfo;C6(h.current,2,null,h,null,null),Nu(),m[Os]=null}};function h2(h){this._internalRoot=h}h2.prototype.unstable_scheduleHydration=function(h){if(h){var m=Ds();h={blockedOn:null,target:h,priority:m};for(var b=0;b<Og.length&&m!==0&&m<Og[b].priority;b++);Og.splice(b,0,h),b===0&&B6(h)}};var D6=e.version;if(D6!=="19.2.4")throw Error(n(527,D6,"19.2.4"));xe.findDOMNode=function(h){var m=h._reactInternals;if(m===void 0)throw typeof h.render=="function"?Error(n(188)):(h=Object.keys(h).join(","),Error(n(268,h)));return h=l(m),h=h!==null?d(h):null,h=h===null?null:h.stateNode,h};var Ole={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:se,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var f2=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!f2.isDisabled&&f2.supportsFiber)try{rr=f2.inject(Ole),Ht=f2}catch{}}return S1.createRoot=function(h,m){if(!i(h))throw Error(n(299));var b=!1,S="",G=sp,Z=ap,je=op;return m!=null&&(m.unstable_strictMode===!0&&(b=!0),m.identifierPrefix!==void 0&&(S=m.identifierPrefix),m.onUncaughtError!==void 0&&(G=m.onUncaughtError),m.onCaughtError!==void 0&&(Z=m.onCaughtError),m.onRecoverableError!==void 0&&(je=m.onRecoverableError)),m=S6(h,1,!1,null,null,b,S,null,G,Z,je,R6),h[Os]=m.current,ek(h),new yk(m)},S1.hydrateRoot=function(h,m,b){if(!i(h))throw Error(n(299));var S=!1,G="",Z=sp,je=ap,Je=op,Lt=null;return b!=null&&(b.unstable_strictMode===!0&&(S=!0),b.identifierPrefix!==void 0&&(G=b.identifierPrefix),b.onUncaughtError!==void 0&&(Z=b.onUncaughtError),b.onCaughtError!==void 0&&(je=b.onCaughtError),b.onRecoverableError!==void 0&&(Je=b.onRecoverableError),b.formState!==void 0&&(Lt=b.formState)),m=S6(h,1,!0,m,b??null,S,G,Lt,Z,je,Je,R6),m.context=T6(null),b=m.current,S=Mi(),S=En(S),G=Ni(S),G.callback=null,Vi(b,G,S),b=S,m.current.lanes=b,Cs(m,b),XA(m),h[Os]=m.current,ek(h),new h2(m)},S1.version="19.2.4",S1}var G6;function zle(){if(G6)return wk.exports;G6=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),wk.exports=Vle(),wk.exports}var Kle=zle();const Gle=Yf(Kle);var W6="popstate";function Wle(t={}){function e(i,s){let{pathname:a="/",search:c="",hash:u=""}=hy(i.location.hash.substring(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),HB("",{pathname:a,search:c,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(i,s){let a=i.document.querySelector("base"),c="";if(a&&a.getAttribute("href")){let u=i.location.href,l=u.indexOf("#");c=l===-1?u:u.slice(0,l)}return c+"#"+(typeof s=="string"?s:rE(s))}function n(i,s){mf(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return qle(e,r,n,t)}function Zl(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function mf(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Yle(){return Math.random().toString(36).substring(2,10)}function Y6(t,e){return{usr:t.state,key:t.key,idx:e}}function HB(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?hy(e):e,state:r,key:e&&e.key||n||Yle()}}function rE({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function hy(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function qle(t,e,r,n={}){let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,c="POP",u=null,l=d();l==null&&(l=0,a.replaceState({...a.state,idx:l},""));function d(){return(a.state||{idx:null}).idx}function f(){c="POP";let x=d(),w=x==null?null:x-l;l=x,u&&u({action:c,location:y.location,delta:w})}function A(x,w){c="PUSH";let E=HB(y.location,x,w);r&&r(E,x),l=d()+1;let T=Y6(E,l),C=y.createHref(E);try{a.pushState(T,"",C)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(C)}s&&u&&u({action:c,location:y.location,delta:1})}function p(x,w){c="REPLACE";let E=HB(y.location,x,w);r&&r(E,x),l=d();let T=Y6(E,l),C=y.createHref(E);a.replaceState(T,"",C),s&&u&&u({action:c,location:y.location,delta:0})}function v(x){return Xle(x)}let y={get action(){return c},get location(){return t(i,a)},listen(x){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(W6,f),u=x,()=>{i.removeEventListener(W6,f),u=null}},createHref(x){return e(i,x)},createURL:v,encodeLocation(x){let w=v(x);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:A,replace:p,go(x){return a.go(x)}};return y}function Xle(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Zl(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:rE(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function OW(t,e,r="/"){return Zle(t,e,r,!1)}function Zle(t,e,r,n){let i=typeof e=="string"?hy(e):e,s=Mp(i.pathname||"/",r);if(s==null)return null;let a=PW(t);Jle(a);let c=null;for(let u=0;c==null&&u<a.length;++u){let l=uce(s);c=lce(a[u],l,n)}return c}function PW(t,e=[],r=[],n="",i=!1){let s=(a,c,u=i,l)=>{let d={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(n)&&u)return;Zl(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length)}let f=Lp([n,d.relativePath]),A=r.concat(d);a.children&&a.children.length>0&&(Zl(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),PW(a.children,e,A,f,u)),!(a.path==null&&!a.index)&&e.push({path:f,score:ace(f,a.index),routesMeta:A})};return t.forEach((a,c)=>{if(a.path===""||!a.path?.includes("?"))s(a,c);else for(let u of RW(a.path))s(a,c,!0,u)}),e}function RW(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=RW(n.join("/")),c=[];return c.push(...a.map(u=>u===""?s:[s,u].join("/"))),i&&c.push(...a),c.map(u=>t.startsWith("/")&&u===""?"/":u)}function Jle(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:oce(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var ece=/^:[\w-]+$/,tce=3,rce=2,nce=1,ice=10,sce=-2,q6=t=>t==="*";function ace(t,e){let r=t.split("/"),n=r.length;return r.some(q6)&&(n+=sce),e&&(n+=rce),r.filter(i=>!q6(i)).reduce((i,s)=>i+(ece.test(s)?tce:s===""?nce:ice),n)}function oce(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function lce(t,e,r=!1){let{routesMeta:n}=t,i={},s="/",a=[];for(let c=0;c<n.length;++c){let u=n[c],l=c===n.length-1,d=s==="/"?e:e.slice(s.length)||"/",f=rC({path:u.relativePath,caseSensitive:u.caseSensitive,end:l},d),A=u.route;if(!f&&l&&r&&!n[n.length-1].route.index&&(f=rC({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:Lp([s,f.pathname]),pathnameBase:Ace(Lp([s,f.pathnameBase])),route:A}),f.pathnameBase!=="/"&&(s=Lp([s,f.pathnameBase]))}return a}function rC(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=cce(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:n.reduce((l,{paramName:d,isOptional:f},A)=>{if(d==="*"){let v=c[A]||"";a=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const p=c[A];return f&&!p?l[d]=void 0:l[d]=(p||"").replace(/%2F/g,"/"),l},{}),pathname:s,pathnameBase:a,pattern:t}}function cce(t,e=!1,r=!0){mf(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,c,u)=>(n.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function uce(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return mf(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Mp(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}var dce=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function hce(t,e="/"){let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?hy(t):t,s;return r?(r=r.replace(/\/\/+/g,"/"),r.startsWith("/")?s=X6(r.substring(1),"/"):s=X6(r,e)):s=e,{pathname:s,search:mce(n),hash:pce(i)}}function X6(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Tk(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function fce(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function jR(t){let e=fce(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function NR(t,e,r,n=!1){let i;typeof t=="string"?i=hy(t):(i={...t},Zl(!i.pathname||!i.pathname.includes("?"),Tk("?","pathname","search",i)),Zl(!i.pathname||!i.pathname.includes("#"),Tk("#","pathname","hash",i)),Zl(!i.search||!i.search.includes("#"),Tk("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,c;if(a==null)c=r;else{let f=e.length-1;if(!n&&a.startsWith("..")){let A=a.split("/");for(;A[0]==="..";)A.shift(),f-=1;i.pathname=A.join("/")}c=f>=0?e[f]:"/"}let u=hce(i,c),l=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(l||d)&&(u.pathname+="/"),u}var Lp=t=>t.join("/").replace(/\/\/+/g,"/"),Ace=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),mce=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,pce=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,gce=class{constructor(t,e,r,n=!1){this.status=t,this.statusText=e||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function vce(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function yce(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var DW=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function MW(t,e){let r=t;if(typeof r!="string"||!dce.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,i=!1;if(DW)try{let s=new URL(window.location.href),a=r.startsWith("//")?new URL(s.protocol+r):new URL(r),c=Mp(a.pathname,e);a.origin===s.origin&&c!=null?r=c+a.search+a.hash:i=!0}catch{mf(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:i,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var FW=["POST","PUT","PATCH","DELETE"];new Set(FW);var xce=["GET",...FW];new Set(xce);var Ub=k.createContext(null);Ub.displayName="DataRouter";var dN=k.createContext(null);dN.displayName="DataRouterState";var bce=k.createContext(!1),UW=k.createContext({isTransitioning:!1});UW.displayName="ViewTransition";var wce=k.createContext(new Map);wce.displayName="Fetchers";var Ece=k.createContext(null);Ece.displayName="Await";var gf=k.createContext(null);gf.displayName="Navigation";var r_=k.createContext(null);r_.displayName="Location";var BA=k.createContext({outlet:null,matches:[],isDataRoute:!1});BA.displayName="Route";var kR=k.createContext(null);kR.displayName="RouteError";var $W="REACT_ROUTER_ERROR",_ce="REDIRECT",Sce="ROUTE_ERROR_RESPONSE";function Tce(t){if(t.startsWith(`${$W}:${_ce}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function Cce(t){if(t.startsWith(`${$W}:${Sce}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new gce(e.status,e.statusText,e.data)}catch{}}function jce(t,{relative:e}={}){Zl($b(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=k.useContext(gf),{hash:i,pathname:s,search:a}=n_(t,{relative:e}),c=s;return r!=="/"&&(c=s==="/"?r:Lp([r,s])),n.createHref({pathname:c,search:a,hash:i})}function $b(){return k.useContext(r_)!=null}function vf(){return Zl($b(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(r_).location}var HW="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function QW(t){k.useContext(gf).static||k.useLayoutEffect(t)}function Mc(){let{isDataRoute:t}=k.useContext(BA);return t?$ce():Nce()}function Nce(){Zl($b(),"useNavigate() may be used only in the context of a <Router> component.");let t=k.useContext(Ub),{basename:e,navigator:r}=k.useContext(gf),{matches:n}=k.useContext(BA),{pathname:i}=vf(),s=JSON.stringify(jR(n)),a=k.useRef(!1);return QW(()=>{a.current=!0}),k.useCallback((u,l={})=>{if(mf(a.current,HW),!a.current)return;if(typeof u=="number"){r.go(u);return}let d=NR(u,JSON.parse(s),i,l.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Lp([e,d.pathname])),(l.replace?r.replace:r.push)(d,l.state,l)},[e,r,s,i,t])}k.createContext(null);function Qm(){let{matches:t}=k.useContext(BA),e=t[t.length-1];return e?e.params:{}}function n_(t,{relative:e}={}){let{matches:r}=k.useContext(BA),{pathname:n}=vf(),i=JSON.stringify(jR(r));return k.useMemo(()=>NR(t,JSON.parse(i),n,e==="path"),[t,i,n,e])}function kce(t,e){return VW(t,e)}function VW(t,e,r,n,i){Zl($b(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=k.useContext(gf),{matches:a}=k.useContext(BA),c=a[a.length-1],u=c?c.params:{},l=c?c.pathname:"/",d=c?c.pathnameBase:"/",f=c&&c.route;{let E=f&&f.path||"";KW(l,!f||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let A=vf(),p;if(e){let E=typeof e=="string"?hy(e):e;Zl(d==="/"||E.pathname?.startsWith(d),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${E.pathname}" was given in the \`location\` prop.`),p=E}else p=A;let v=p.pathname||"/",y=v;if(d!=="/"){let E=d.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(E.length).join("/")}let x=OW(t,{pathname:y});mf(f||x!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),mf(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=Pce(x&&x.map(E=>Object.assign({},E,{params:Object.assign({},u,E.params),pathname:Lp([d,s.encodeLocation?s.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?d:Lp([d,s.encodeLocation?s.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),a,r,n,i);return e&&w?k.createElement(r_.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},w):w}function Ice(){let t=Uce(),e=vce(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:s},"ErrorBoundary")," or"," ",k.createElement("code",{style:s},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),r?k.createElement("pre",{style:i},r):null,a)}var Lce=k.createElement(Ice,null),zW=class extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const r=Cce(t.digest);r&&(t=r)}let e=t!==void 0?k.createElement(BA.Provider,{value:this.props.routeContext},k.createElement(kR.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?k.createElement(Bce,{error:t},e):e}};zW.contextType=bce;var Ck=new WeakMap;function Bce({children:t,error:e}){let{basename:r}=k.useContext(gf);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let n=Tce(e.digest);if(n){let i=Ck.get(e);if(i)throw i;let s=MW(n.location,r);if(DW&&!Ck.get(e))if(s.isExternal||n.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const a=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:n.replace}));throw Ck.set(e,a),a}return k.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return t}function Oce({routeContext:t,match:e,children:r}){let n=k.useContext(Ub);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(BA.Provider,{value:t},r)}function Pce(t,e=[],r=null,n=null,i=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let s=t,a=r?.errors;if(a!=null){let d=s.findIndex(f=>f.route.id&&a?.[f.route.id]!==void 0);Zl(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let c=!1,u=-1;if(r)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:A,errors:p}=r,v=f.route.loader&&!A.hasOwnProperty(f.route.id)&&(!p||p[f.route.id]===void 0);if(f.route.lazy||v){c=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}let l=r&&n?(d,f)=>{n(d,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:yce(r.matches),errorInfo:f})}:void 0;return s.reduceRight((d,f,A)=>{let p,v=!1,y=null,x=null;r&&(p=a&&f.route.id?a[f.route.id]:void 0,y=f.route.errorElement||Lce,c&&(u<0&&A===0?(KW("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,x=null):u===A&&(v=!0,x=f.route.hydrateFallbackElement||null)));let w=e.concat(s.slice(0,A+1)),E=()=>{let T;return p?T=y:v?T=x:f.route.Component?T=k.createElement(f.route.Component,null):f.route.element?T=f.route.element:T=d,k.createElement(Oce,{match:f,routeContext:{outlet:d,matches:w,isDataRoute:r!=null},children:T})};return r&&(f.route.ErrorBoundary||f.route.errorElement||A===0)?k.createElement(zW,{location:r.location,revalidation:r.revalidation,component:y,error:p,children:E(),routeContext:{outlet:null,matches:w,isDataRoute:!0},onError:l}):E()},null)}function IR(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Rce(t){let e=k.useContext(Ub);return Zl(e,IR(t)),e}function Dce(t){let e=k.useContext(dN);return Zl(e,IR(t)),e}function Mce(t){let e=k.useContext(BA);return Zl(e,IR(t)),e}function LR(t){let e=Mce(t),r=e.matches[e.matches.length-1];return Zl(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function Fce(){return LR("useRouteId")}function Uce(){let t=k.useContext(kR),e=Dce("useRouteError"),r=LR("useRouteError");return t!==void 0?t:e.errors?.[r]}function $ce(){let{router:t}=Rce("useNavigate"),e=LR("useNavigate"),r=k.useRef(!1);return QW(()=>{r.current=!0}),k.useCallback(async(i,s={})=>{mf(r.current,HW),r.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var Z6={};function KW(t,e,r){!e&&!Z6[t]&&(Z6[t]=!0,mf(!1,r))}k.memo(Hce);function Hce({routes:t,future:e,state:r,onError:n}){return VW(t,void 0,r,n,e)}function Qce({to:t,replace:e,state:r,relative:n}){Zl($b(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=k.useContext(gf);mf(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=k.useContext(BA),{pathname:a}=vf(),c=Mc(),u=NR(t,jR(s),a,n==="path"),l=JSON.stringify(u);return k.useEffect(()=>{c(JSON.parse(l),{replace:e,state:r,relative:n})},[c,l,n,e,r]),null}function Aa(t){Zl(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Vce({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:i,static:s=!1,unstable_useTransitions:a}){Zl(!$b(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),u=k.useMemo(()=>({basename:c,navigator:i,static:s,unstable_useTransitions:a,future:{}}),[c,i,s,a]);typeof r=="string"&&(r=hy(r));let{pathname:l="/",search:d="",hash:f="",state:A=null,key:p="default"}=r,v=k.useMemo(()=>{let y=Mp(l,c);return y==null?null:{location:{pathname:y,search:d,hash:f,state:A,key:p},navigationType:n}},[c,l,d,f,A,p,n]);return mf(v!=null,`<Router basename="${c}"> is not able to match the URL "${l}${d}${f}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:k.createElement(gf.Provider,{value:u},k.createElement(r_.Provider,{children:e,value:v}))}function zce({children:t,location:e}){return kce(QB(t),e)}function QB(t,e=[]){let r=[];return k.Children.forEach(t,(n,i)=>{if(!k.isValidElement(n))return;let s=[...e,i];if(n.type===k.Fragment){r.push.apply(r,QB(n.props.children,s));return}Zl(n.type===Aa,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Zl(!n.props.index||!n.props.children,"An index route cannot have child routes.");let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=QB(n.props.children,s)),r.push(a)}),r}var SS="get",TS="application/x-www-form-urlencoded";function hN(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function Kce(t){return hN(t)&&t.tagName.toLowerCase()==="button"}function Gce(t){return hN(t)&&t.tagName.toLowerCase()==="form"}function Wce(t){return hN(t)&&t.tagName.toLowerCase()==="input"}function Yce(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function qce(t,e){return t.button===0&&(!e||e==="_self")&&!Yce(t)}function VB(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function Xce(t,e){let r=VB(t);return e&&e.forEach((n,i)=>{r.has(i)||e.getAll(i).forEach(s=>{r.append(i,s)})}),r}var A2=null;function Zce(){if(A2===null)try{new FormData(document.createElement("form"),0),A2=!1}catch{A2=!0}return A2}var Jce=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function jk(t){return t!=null&&!Jce.has(t)?(mf(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${TS}"`),null):t}function eue(t,e){let r,n,i,s,a;if(Gce(t)){let c=t.getAttribute("action");n=c?Mp(c,e):null,r=t.getAttribute("method")||SS,i=jk(t.getAttribute("enctype"))||TS,s=new FormData(t)}else if(Kce(t)||Wce(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||c.getAttribute("action");if(n=u?Mp(u,e):null,r=t.getAttribute("formmethod")||c.getAttribute("method")||SS,i=jk(t.getAttribute("formenctype"))||jk(c.getAttribute("enctype"))||TS,s=new FormData(c,t),!Zce()){let{name:l,type:d,value:f}=t;if(d==="image"){let A=l?`${l}.`:"";s.append(`${A}x`,"0"),s.append(`${A}y`,"0")}else l&&s.append(l,f)}}else{if(hN(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=SS,n=null,i=TS,a=t}return s&&i==="text/plain"&&(a=s,s=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function BR(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function tue(t,e,r,n){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${n}`:i.pathname=`${i.pathname}.${n}`:i.pathname==="/"?i.pathname=`_root.${n}`:e&&Mp(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function rue(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function nue(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function iue(t,e,r){let n=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let a=await rue(s,r);return a.links?a.links():[]}return[]}));return lue(n.flat(1).filter(nue).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function J6(t,e,r,n,i,s){let a=(u,l)=>r[l]?u.route.id!==r[l].route.id:!0,c=(u,l)=>r[l].pathname!==u.pathname||r[l].route.path?.endsWith("*")&&r[l].params["*"]!==u.params["*"];return s==="assets"?e.filter((u,l)=>a(u,l)||c(u,l)):s==="data"?e.filter((u,l)=>{let d=n.routes[u.route.id];if(!d||!d.hasLoader)return!1;if(a(u,l)||c(u,l))return!0;if(u.route.shouldRevalidate){let f=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function sue(t,e,{includeHydrateFallback:r}={}){return aue(t.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function aue(t){return[...new Set(t)]}function oue(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function lue(t,e){let r=new Set;return new Set(e),t.reduce((n,i)=>{let s=JSON.stringify(oue(i));return r.has(s)||(r.add(s),n.push({key:s,link:i})),n},[])}function GW(){let t=k.useContext(Ub);return BR(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function cue(){let t=k.useContext(dN);return BR(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var OR=k.createContext(void 0);OR.displayName="FrameworkContext";function WW(){let t=k.useContext(OR);return BR(t,"You must render this element inside a <HydratedRouter> element"),t}function uue(t,e){let r=k.useContext(OR),[n,i]=k.useState(!1),[s,a]=k.useState(!1),{onFocus:c,onBlur:u,onMouseEnter:l,onMouseLeave:d,onTouchStart:f}=e,A=k.useRef(null);k.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let y=w=>{w.forEach(E=>{a(E.isIntersecting)})},x=new IntersectionObserver(y,{threshold:.5});return A.current&&x.observe(A.current),()=>{x.disconnect()}}},[t]),k.useEffect(()=>{if(n){let y=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(y)}}},[n]);let p=()=>{i(!0)},v=()=>{i(!1),a(!1)};return r?t!=="intent"?[s,A,{}]:[s,A,{onFocus:T1(c,p),onBlur:T1(u,v),onMouseEnter:T1(l,p),onMouseLeave:T1(d,v),onTouchStart:T1(f,p)}]:[!1,A,{}]}function T1(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function due({page:t,...e}){let{router:r}=GW(),n=k.useMemo(()=>OW(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?k.createElement(fue,{page:t,matches:n,...e}):null}function hue(t){let{manifest:e,routeModules:r}=WW(),[n,i]=k.useState([]);return k.useEffect(()=>{let s=!1;return iue(t,e,r).then(a=>{s||i(a)}),()=>{s=!0}},[t,e,r]),n}function fue({page:t,matches:e,...r}){let n=vf(),{future:i,manifest:s,routeModules:a}=WW(),{basename:c}=GW(),{loaderData:u,matches:l}=cue(),d=k.useMemo(()=>J6(t,e,l,s,n,"data"),[t,e,l,s,n]),f=k.useMemo(()=>J6(t,e,l,s,n,"assets"),[t,e,l,s,n]),A=k.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let y=new Set,x=!1;if(e.forEach(E=>{let T=s.routes[E.route.id];!T||!T.hasLoader||(!d.some(C=>C.route.id===E.route.id)&&E.route.id in u&&a[E.route.id]?.shouldRevalidate||T.hasClientLoader?x=!0:y.add(E.route.id))}),y.size===0)return[];let w=tue(t,c,i.unstable_trailingSlashAwareDataRequests,"data");return x&&y.size>0&&w.searchParams.set("_routes",e.filter(E=>y.has(E.route.id)).map(E=>E.route.id).join(",")),[w.pathname+w.search]},[c,i.unstable_trailingSlashAwareDataRequests,u,n,s,d,e,t,a]),p=k.useMemo(()=>sue(f,s),[f,s]),v=hue(f);return k.createElement(k.Fragment,null,A.map(y=>k.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...r})),p.map(y=>k.createElement("link",{key:y,rel:"modulepreload",href:y,...r})),v.map(({key:y,link:x})=>k.createElement("link",{key:y,nonce:r.nonce,...x,crossOrigin:x.crossOrigin??r.crossOrigin})))}function Aue(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var mue=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{mue&&(window.__reactRouterVersion="7.13.0")}catch{}function pue({basename:t,children:e,unstable_useTransitions:r,window:n}){let i=k.useRef();i.current==null&&(i.current=Wle({window:n,v5Compat:!0}));let s=i.current,[a,c]=k.useState({action:s.action,location:s.location}),u=k.useCallback(l=>{r===!1?c(l):k.startTransition(()=>c(l))},[r]);return k.useLayoutEffect(()=>s.listen(u),[s,u]),k.createElement(Vce,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:s,unstable_useTransitions:r})}var YW=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ks=k.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:i,reloadDocument:s,replace:a,state:c,target:u,to:l,preventScrollReset:d,viewTransition:f,unstable_defaultShouldRevalidate:A,...p},v){let{basename:y,unstable_useTransitions:x}=k.useContext(gf),w=typeof l=="string"&&YW.test(l),E=MW(l,y);l=E.to;let T=jce(l,{relative:i}),[C,j,P]=uue(n,p),U=xue(l,{replace:a,state:c,target:u,preventScrollReset:d,relative:i,viewTransition:f,unstable_defaultShouldRevalidate:A,unstable_useTransitions:x});function W(re){e&&e(re),re.defaultPrevented||U(re)}let q=k.createElement("a",{...p,...P,href:E.absoluteURL||T,onClick:E.isExternal||s?e:W,ref:Aue(v,j),target:u,"data-discover":!w&&r==="render"?"true":void 0});return C&&!w?k.createElement(k.Fragment,null,q,k.createElement(due,{page:T})):q});Ks.displayName="Link";var gue=k.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:i=!1,style:s,to:a,viewTransition:c,children:u,...l},d){let f=n_(a,{relative:l.relative}),A=vf(),p=k.useContext(dN),{navigator:v,basename:y}=k.useContext(gf),x=p!=null&&Sue(f)&&c===!0,w=v.encodeLocation?v.encodeLocation(f).pathname:f.pathname,E=A.pathname,T=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;r||(E=E.toLowerCase(),T=T?T.toLowerCase():null,w=w.toLowerCase()),T&&y&&(T=Mp(T,y)||T);const C=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let j=E===w||!i&&E.startsWith(w)&&E.charAt(C)==="/",P=T!=null&&(T===w||!i&&T.startsWith(w)&&T.charAt(w.length)==="/"),U={isActive:j,isPending:P,isTransitioning:x},W=j?e:void 0,q;typeof n=="function"?q=n(U):q=[n,j?"active":null,P?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let re=typeof s=="function"?s(U):s;return k.createElement(Ks,{...l,"aria-current":W,className:q,ref:d,style:re,to:a,viewTransition:c},typeof u=="function"?u(U):u)});gue.displayName="NavLink";var vue=k.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:i,state:s,method:a=SS,action:c,onSubmit:u,relative:l,preventScrollReset:d,viewTransition:f,unstable_defaultShouldRevalidate:A,...p},v)=>{let{unstable_useTransitions:y}=k.useContext(gf),x=Eue(),w=_ue(c,{relative:l}),E=a.toLowerCase()==="get"?"get":"post",T=typeof c=="string"&&YW.test(c),C=j=>{if(u&&u(j),j.defaultPrevented)return;j.preventDefault();let P=j.nativeEvent.submitter,U=P?.getAttribute("formmethod")||a,W=()=>x(P||j.currentTarget,{fetcherKey:e,method:U,navigate:r,replace:i,state:s,relative:l,preventScrollReset:d,viewTransition:f,unstable_defaultShouldRevalidate:A});y&&r!==!1?k.startTransition(()=>W()):W()};return k.createElement("form",{ref:v,method:E,action:w,onSubmit:n?u:C,...p,"data-discover":!T&&t==="render"?"true":void 0})});vue.displayName="Form";function yue(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qW(t){let e=k.useContext(Ub);return Zl(e,yue(t)),e}function xue(t,{target:e,replace:r,state:n,preventScrollReset:i,relative:s,viewTransition:a,unstable_defaultShouldRevalidate:c,unstable_useTransitions:u}={}){let l=Mc(),d=vf(),f=n_(t,{relative:s});return k.useCallback(A=>{if(qce(A,e)){A.preventDefault();let p=r!==void 0?r:rE(d)===rE(f),v=()=>l(t,{replace:p,state:n,preventScrollReset:i,relative:s,viewTransition:a,unstable_defaultShouldRevalidate:c});u?k.startTransition(()=>v()):v()}},[d,l,f,r,n,e,t,i,s,a,c,u])}function fN(t){mf(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=k.useRef(VB(t)),r=k.useRef(!1),n=vf(),i=k.useMemo(()=>Xce(n.search,r.current?null:e.current),[n.search]),s=Mc(),a=k.useCallback((c,u)=>{const l=VB(typeof c=="function"?c(new URLSearchParams(i)):c);r.current=!0,s("?"+l,u)},[s,i]);return[i,a]}var bue=0,wue=()=>`__${String(++bue)}__`;function Eue(){let{router:t}=qW("useSubmit"),{basename:e}=k.useContext(gf),r=Fce(),n=t.fetch,i=t.navigate;return k.useCallback(async(s,a={})=>{let{action:c,method:u,encType:l,formData:d,body:f}=eue(s,e);if(a.navigate===!1){let A=a.fetcherKey||wue();await n(A,r,a.action||c,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:d,body:f,formMethod:a.method||u,formEncType:a.encType||l,flushSync:a.flushSync})}else await i(a.action||c,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:d,body:f,formMethod:a.method||u,formEncType:a.encType||l,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,i,e,r])}function _ue(t,{relative:e}={}){let{basename:r}=k.useContext(gf),n=k.useContext(BA);Zl(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),s={...n_(t||".",{relative:e})},a=vf();if(t==null){s.search=a.search;let c=new URLSearchParams(s.search),u=c.getAll("index");if(u.some(d=>d==="")){c.delete("index"),u.filter(f=>f).forEach(f=>c.append("index",f));let d=c.toString();s.search=d?`?${d}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:Lp([r,s.pathname])),rE(s)}function Sue(t,{relative:e}={}){let r=k.useContext(UW);Zl(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=qW("useViewTransitionState"),i=n_(t,{relative:e});if(!r.isTransitioning)return!1;let s=Mp(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=Mp(r.nextLocation.pathname,n)||r.nextLocation.pathname;return rC(i.pathname,a)!=null||rC(i.pathname,s)!=null}var d0=BW();const XW=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();const Tue=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const Cue=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase());const e8=t=>{const e=Cue(t);return e.charAt(0).toUpperCase()+e.slice(1)};var jue={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Nue=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const kue=k.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:a,...c},u)=>k.createElement("svg",{ref:u,...jue,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:XW("lucide",i),...!s&&!Nue(c)&&{"aria-hidden":"true"},...c},[...a.map(([l,d])=>k.createElement(l,d)),...Array.isArray(s)?s:[s]]));const In=(t,e)=>{const r=k.forwardRef(({className:n,...i},s)=>k.createElement(kue,{ref:s,iconNode:e,className:XW(`lucide-${Tue(e8(t))}`,`lucide-${t}`,n),...i}));return r.displayName=e8(t),r};const Iue=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],Lue=In("archive",Iue);const Bue=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],N0=In("arrow-left",Bue);const Oue=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],uf=In("arrow-right",Oue);const Pue=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Rue=In("award",Pue);const Due=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Mue=In("bell",Due);const Fue=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],Uue=In("building-2",Fue);const $ue=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],Hue=In("building",$ue);const Que=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],ZW=In("calculator",Que);const Vue=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],fd=In("calendar",Vue);const zue=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],nC=In("camera",zue);const Kue=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],tl=In("check",Kue);const Gue=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],gb=In("chevron-down",Gue);const Wue=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],zB=In("chevron-left",Wue);const Yue=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],vb=In("chevron-right",Yue);const que=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],iC=In("chevron-up",que);const Xue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],qv=In("circle-alert",Xue);const Zue=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],kw=In("circle-check-big",Zue);const Jue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Nk=In("circle-check",Jue);const ede=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],tde=In("circle-plus",ede);const rde=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],t8=In("circle",rde);const nde=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],w0=In("clock",nde);const ide=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],JW=In("copy",ide);const sde=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],ade=In("credit-card",sde);const ode=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],lde=In("crown",ode);const cde=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],k0=In("dollar-sign",cde);const ude=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Cp=In("download",ude);const dde=[["path",{d:"M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z",key:"9m4mmf"}],["path",{d:"m2.5 21.5 1.4-1.4",key:"17g3f0"}],["path",{d:"m20.1 3.9 1.4-1.4",key:"1qn309"}],["path",{d:"M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z",key:"1t2c92"}],["path",{d:"m9.6 14.4 4.8-4.8",key:"6umqxw"}]],hde=In("dumbbell",dde);const fde=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],sC=In("external-link",fde);const Ade=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],aC=In("eye",Ade);const mde=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],i_=In("facebook",mde);const pde=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],PR=In("file-text",pde);const gde=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}]],r8=In("file",gde);const vde=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],eY=In("funnel",vde);const yde=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],tY=In("globe",yde);const xde=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],p0=In("image",xde);const bde=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],AN=In("instagram",bde);const wde=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Ede=In("layout-dashboard",wde);const _de=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Sde=In("lightbulb",_de);const Tde=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],rY=In("link",Tde);const Cde=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],jde=In("linkedin",Cde);const Nde=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],nY=In("loader",Nde);const kde=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],iY=In("lock",kde);const Ide=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],n8=In("log-out",Ide);const Lde=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],hf=In("mail",Lde);const Bde=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Vf=In("map-pin",Bde);const Ode=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],sY=In("menu",Ode);const Pde=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Rde=In("message-circle",Pde);const Dde=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],Mde=In("music",Dde);const Fde=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],Ude=In("navigation",Fde);const $de=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],h0=In("package",$de);const Hde=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Qde=In("pen-line",Hde);const Vde=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],i8=In("pen",Vde);const zde=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],oC=In("phone",zde);const Kde=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],RR=In("play",Kde);const Gde=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],yb=In("plus",Gde);const Wde=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],aY=In("radio",Wde);const Yde=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],mN=In("refresh-cw",Yde);const qde=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],Xde=In("rocket",qde);const Zde=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],oY=In("save",Zde);const Jde=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ehe=In("search",Jde);const the=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],lY=In("send",the);const rhe=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],nhe=In("settings",rhe);const ihe=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],she=In("share-2",ihe);const ahe=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],pN=In("shield",ahe);const ohe=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],fy=In("sparkles",ohe);const lhe=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],che=In("square-pen",lhe);const uhe=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],KB=In("star",uhe);const dhe=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],hhe=In("tag",dhe);const fhe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],cY=In("target",fhe);const Ahe=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],mhe=In("toggle-left",Ahe);const phe=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],ghe=In("toggle-right",phe);const vhe=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],DR=In("trash-2",vhe);const yhe=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],s_=In("trending-up",yhe);const xhe=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],GB=In("triangle-alert",xhe);const bhe=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],uY=In("trophy",bhe);const whe=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],Ehe=In("twitter",whe);const _he=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],She=In("upload",_he);const The=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Xv=In("user",The);const Che=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Hb=In("users",Che);const jhe=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Im=In("video",jhe);const Nhe=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],s8=In("wifi-off",Nhe);const khe=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],Ihe=In("wifi",khe);const Lhe=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Zv=In("x",Lhe);const Bhe=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],dY=In("youtube",Bhe);const Ohe=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],MR=In("zap",Ohe),FR=k.createContext({});function a_(t){const e=k.useRef(null);return e.current===null&&(e.current=t()),e.current}const hY=typeof window<"u",UR=hY?k.useLayoutEffect:k.useEffect,gN=k.createContext(null);function $R(t,e){t.indexOf(e)===-1&&t.push(e)}function HR(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const Rm=(t,e,r)=>r>e?e:r<t?t:r;let QR=()=>{};const Fp={},fY=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function AY(t){return typeof t=="object"&&t!==null}const mY=t=>/^0[^.\s]+$/u.test(t);function VR(t){let e;return()=>(e===void 0&&(e=t()),e)}const zf=t=>t,Phe=(t,e)=>r=>e(t(r)),o_=(...t)=>t.reduce(Phe),nE=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n};class zR{constructor(){this.subscriptions=[]}add(e){return $R(this.subscriptions,e),()=>HR(this.subscriptions,e)}notify(e,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,r,n);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Bp=t=>t*1e3,Hf=t=>t/1e3;function pY(t,e){return e?t*(1e3/e):0}const gY=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,Rhe=1e-7,Dhe=12;function Mhe(t,e,r,n,i){let s,a,c=0;do a=e+(r-e)/2,s=gY(a,n,i)-t,s>0?r=a:e=a;while(Math.abs(s)>Rhe&&++c<Dhe);return a}function l_(t,e,r,n){if(t===e&&r===n)return zf;const i=s=>Mhe(s,0,1,t,r);return s=>s===0||s===1?s:gY(i(s),e,n)}const vY=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,yY=t=>e=>1-t(1-e),xY=l_(.33,1.53,.69,.99),KR=yY(xY),bY=vY(KR),wY=t=>(t*=2)<1?.5*KR(t):.5*(2-Math.pow(2,-10*(t-1))),GR=t=>1-Math.sin(Math.acos(t)),EY=yY(GR),_Y=vY(GR),Fhe=l_(.42,0,1,1),Uhe=l_(0,0,.58,1),SY=l_(.42,0,.58,1),$he=t=>Array.isArray(t)&&typeof t[0]!="number",TY=t=>Array.isArray(t)&&typeof t[0]=="number",Hhe={linear:zf,easeIn:Fhe,easeInOut:SY,easeOut:Uhe,circIn:GR,circInOut:_Y,circOut:EY,backIn:KR,backInOut:bY,backOut:xY,anticipate:wY},Qhe=t=>typeof t=="string",a8=t=>{if(TY(t)){QR(t.length===4);const[e,r,n,i]=t;return l_(e,r,n,i)}else if(Qhe(t))return Hhe[t];return t},m2=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Vhe(t,e){let r=new Set,n=new Set,i=!1,s=!1;const a=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function u(d){a.has(d)&&(l.schedule(d),t()),d(c)}const l={schedule:(d,f=!1,A=!1)=>{const v=A&&i?r:n;return f&&a.add(d),v.has(d)||v.add(d),d},cancel:d=>{n.delete(d),a.delete(d)},process:d=>{if(c=d,i){s=!0;return}i=!0,[r,n]=[n,r],r.forEach(u),r.clear(),i=!1,s&&(s=!1,l.process(d))}};return l}const zhe=40;function CY(t,e){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>r=!0,a=m2.reduce((T,C)=>(T[C]=Vhe(s),T),{}),{setup:c,read:u,resolveKeyframes:l,preUpdate:d,update:f,preRender:A,render:p,postRender:v}=a,y=()=>{const T=Fp.useManualTiming?i.timestamp:performance.now();r=!1,Fp.useManualTiming||(i.delta=n?1e3/60:Math.max(Math.min(T-i.timestamp,zhe),1)),i.timestamp=T,i.isProcessing=!0,c.process(i),u.process(i),l.process(i),d.process(i),f.process(i),A.process(i),p.process(i),v.process(i),i.isProcessing=!1,r&&e&&(n=!1,t(y))},x=()=>{r=!0,n=!0,i.isProcessing||t(y)};return{schedule:m2.reduce((T,C)=>{const j=a[C];return T[C]=(P,U=!1,W=!1)=>(r||x(),j.schedule(P,U,W)),T},{}),cancel:T=>{for(let C=0;C<m2.length;C++)a[m2[C]].cancel(T)},state:i,steps:a}}const{schedule:ul,cancel:Up,state:Pd,steps:kk}=CY(typeof requestAnimationFrame<"u"?requestAnimationFrame:zf,!0);let CS;function Khe(){CS=void 0}const hh={now:()=>(CS===void 0&&hh.set(Pd.isProcessing||Fp.useManualTiming?Pd.timestamp:performance.now()),CS),set:t=>{CS=t,queueMicrotask(Khe)}},jY=t=>e=>typeof e=="string"&&e.startsWith(t),NY=jY("--"),Ghe=jY("var(--"),WR=t=>Ghe(t)?Whe.test(t.split("/*")[0].trim()):!1,Whe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function o8(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const Qb={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},iE={...Qb,transform:t=>Rm(0,1,t)},p2={...Qb,default:1},Iw=t=>Math.round(t*1e5)/1e5,YR=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Yhe(t){return t==null}const qhe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,qR=(t,e)=>r=>!!(typeof r=="string"&&qhe.test(r)&&r.startsWith(t)||e&&!Yhe(r)&&Object.prototype.hasOwnProperty.call(r,e)),kY=(t,e,r)=>n=>{if(typeof n!="string")return n;const[i,s,a,c]=n.match(YR);return{[t]:parseFloat(i),[e]:parseFloat(s),[r]:parseFloat(a),alpha:c!==void 0?parseFloat(c):1}},Xhe=t=>Rm(0,255,t),Ik={...Qb,transform:t=>Math.round(Xhe(t))},_v={test:qR("rgb","red"),parse:kY("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+Ik.transform(t)+", "+Ik.transform(e)+", "+Ik.transform(r)+", "+Iw(iE.transform(n))+")"};function Zhe(t){let e="",r="",n="",i="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),i=t.substring(4,5),e+=e,r+=r,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const WB={test:qR("#"),parse:Zhe,transform:_v.transform},c_=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Qg=c_("deg"),Lm=c_("%"),Ci=c_("px"),Jhe=c_("vh"),efe=c_("vw"),l8={...Lm,parse:t=>Lm.parse(t)/100,transform:t=>Lm.transform(t*100)},Mx={test:qR("hsl","hue"),parse:kY("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+Lm.transform(Iw(e))+", "+Lm.transform(Iw(r))+", "+Iw(iE.transform(n))+")"},hu={test:t=>_v.test(t)||WB.test(t)||Mx.test(t),parse:t=>_v.test(t)?_v.parse(t):Mx.test(t)?Mx.parse(t):WB.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?_v.transform(t):Mx.transform(t),getAnimatableNone:t=>{const e=hu.parse(t);return e.alpha=0,hu.transform(e)}},tfe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function rfe(t){return isNaN(t)&&typeof t=="string"&&(t.match(YR)?.length||0)+(t.match(tfe)?.length||0)>0}const IY="number",LY="color",nfe="var",ife="var(",c8="${}",sfe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function sE(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},i=[];let s=0;const c=e.replace(sfe,u=>(hu.test(u)?(n.color.push(s),i.push(LY),r.push(hu.parse(u))):u.startsWith(ife)?(n.var.push(s),i.push(nfe),r.push(u)):(n.number.push(s),i.push(IY),r.push(parseFloat(u))),++s,c8)).split(c8);return{values:r,split:c,indexes:n,types:i}}function BY(t){return sE(t).values}function OY(t){const{split:e,types:r}=sE(t),n=e.length;return i=>{let s="";for(let a=0;a<n;a++)if(s+=e[a],i[a]!==void 0){const c=r[a];c===IY?s+=Iw(i[a]):c===LY?s+=hu.transform(i[a]):s+=i[a]}return s}}const afe=t=>typeof t=="number"?0:hu.test(t)?hu.getAnimatableNone(t):t;function ofe(t){const e=BY(t);return OY(t)(e.map(afe))}const E0={test:rfe,parse:BY,createTransformer:OY,getAnimatableNone:ofe};function Lk(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function lfe({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let i=0,s=0,a=0;if(!e)i=s=a=r;else{const c=r<.5?r*(1+e):r+e-r*e,u=2*r-c;i=Lk(u,c,t+1/3),s=Lk(u,c,t),a=Lk(u,c,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:n}}function lC(t,e){return r=>r>0?e:t}const hc=(t,e,r)=>t+(e-t)*r,Bk=(t,e,r)=>{const n=t*t,i=r*(e*e-n)+n;return i<0?0:Math.sqrt(i)},cfe=[WB,_v,Mx],ufe=t=>cfe.find(e=>e.test(t));function u8(t){const e=ufe(t);if(!e)return!1;let r=e.parse(t);return e===Mx&&(r=lfe(r)),r}const d8=(t,e)=>{const r=u8(t),n=u8(e);if(!r||!n)return lC(t,e);const i={...r};return s=>(i.red=Bk(r.red,n.red,s),i.green=Bk(r.green,n.green,s),i.blue=Bk(r.blue,n.blue,s),i.alpha=hc(r.alpha,n.alpha,s),_v.transform(i))},YB=new Set(["none","hidden"]);function dfe(t,e){return YB.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function hfe(t,e){return r=>hc(t,e,r)}function XR(t){return typeof t=="number"?hfe:typeof t=="string"?WR(t)?lC:hu.test(t)?d8:mfe:Array.isArray(t)?PY:typeof t=="object"?hu.test(t)?d8:ffe:lC}function PY(t,e){const r=[...t],n=r.length,i=t.map((s,a)=>XR(s)(s,e[a]));return s=>{for(let a=0;a<n;a++)r[a]=i[a](s);return r}}function ffe(t,e){const r={...t,...e},n={};for(const i in r)t[i]!==void 0&&e[i]!==void 0&&(n[i]=XR(t[i])(t[i],e[i]));return i=>{for(const s in n)r[s]=n[s](i);return r}}function Afe(t,e){const r=[],n={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],a=t.indexes[s][n[s]],c=t.values[a]??0;r[i]=c,n[s]++}return r}const mfe=(t,e)=>{const r=E0.createTransformer(e),n=sE(t),i=sE(e);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?YB.has(t)&&!i.values.length||YB.has(e)&&!n.values.length?dfe(t,e):o_(PY(Afe(n,i),i.values),r):lC(t,e)};function RY(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?hc(t,e,r):XR(t)(t,e)}const pfe=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>ul.update(e,r),stop:()=>Up(e),now:()=>Pd.isProcessing?Pd.timestamp:hh.now()}},DY=(t,e,r=10)=>{let n="";const i=Math.max(Math.round(e/r),2);for(let s=0;s<i;s++)n+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},cC=2e4;function ZR(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<cC;)e+=r,n=t.next(e);return e>=cC?1/0:e}function gfe(t,e=100,r){const n=r({...t,keyframes:[0,e]}),i=Math.min(ZR(n),cC);return{type:"keyframes",ease:s=>n.next(i*s).value/e,duration:Hf(i)}}const vfe=5;function MY(t,e,r){const n=Math.max(e-vfe,0);return pY(r-t(n),e-n)}const Ic={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ok=.001;function yfe({duration:t=Ic.duration,bounce:e=Ic.bounce,velocity:r=Ic.velocity,mass:n=Ic.mass}){let i,s,a=1-e;a=Rm(Ic.minDamping,Ic.maxDamping,a),t=Rm(Ic.minDuration,Ic.maxDuration,Hf(t)),a<1?(i=l=>{const d=l*a,f=d*t,A=d-r,p=qB(l,a),v=Math.exp(-f);return Ok-A/p*v},s=l=>{const f=l*a*t,A=f*r+r,p=Math.pow(a,2)*Math.pow(l,2)*t,v=Math.exp(-f),y=qB(Math.pow(l,2),a);return(-i(l)+Ok>0?-1:1)*((A-p)*v)/y}):(i=l=>{const d=Math.exp(-l*t),f=(l-r)*t+1;return-Ok+d*f},s=l=>{const d=Math.exp(-l*t),f=(r-l)*(t*t);return d*f});const c=5/t,u=bfe(i,s,c);if(t=Bp(t),isNaN(u))return{stiffness:Ic.stiffness,damping:Ic.damping,duration:t};{const l=Math.pow(u,2)*n;return{stiffness:l,damping:a*2*Math.sqrt(n*l),duration:t}}}const xfe=12;function bfe(t,e,r){let n=r;for(let i=1;i<xfe;i++)n=n-t(n)/e(n);return n}function qB(t,e){return t*Math.sqrt(1-e*e)}const wfe=["duration","bounce"],Efe=["stiffness","damping","mass"];function h8(t,e){return e.some(r=>t[r]!==void 0)}function _fe(t){let e={velocity:Ic.velocity,stiffness:Ic.stiffness,damping:Ic.damping,mass:Ic.mass,isResolvedFromDuration:!1,...t};if(!h8(t,Efe)&&h8(t,wfe))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),i=n*n,s=2*Rm(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Ic.mass,stiffness:i,damping:s}}else{const r=yfe(t);e={...e,...r,mass:Ic.mass},e.isResolvedFromDuration=!0}return e}function uC(t=Ic.visualDuration,e=Ic.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:i}=r;const s=r.keyframes[0],a=r.keyframes[r.keyframes.length-1],c={done:!1,value:s},{stiffness:u,damping:l,mass:d,duration:f,velocity:A,isResolvedFromDuration:p}=_fe({...r,velocity:-Hf(r.velocity||0)}),v=A||0,y=l/(2*Math.sqrt(u*d)),x=a-s,w=Hf(Math.sqrt(u/d)),E=Math.abs(x)<5;n||(n=E?Ic.restSpeed.granular:Ic.restSpeed.default),i||(i=E?Ic.restDelta.granular:Ic.restDelta.default);let T;if(y<1){const j=qB(w,y);T=P=>{const U=Math.exp(-y*w*P);return a-U*((v+y*w*x)/j*Math.sin(j*P)+x*Math.cos(j*P))}}else if(y===1)T=j=>a-Math.exp(-w*j)*(x+(v+w*x)*j);else{const j=w*Math.sqrt(y*y-1);T=P=>{const U=Math.exp(-y*w*P),W=Math.min(j*P,300);return a-U*((v+y*w*x)*Math.sinh(W)+j*x*Math.cosh(W))/j}}const C={calculatedDuration:p&&f||null,next:j=>{const P=T(j);if(p)c.done=j>=f;else{let U=j===0?v:0;y<1&&(U=j===0?Bp(v):MY(T,j,P));const W=Math.abs(U)<=n,q=Math.abs(a-P)<=i;c.done=W&&q}return c.value=c.done?a:P,c},toString:()=>{const j=Math.min(ZR(C),cC),P=DY(U=>C.next(j*U).value,j,30);return j+"ms "+P},toTransition:()=>{}};return C}uC.applyToOptions=t=>{const e=gfe(t,100,uC);return t.ease=e.ease,t.duration=Bp(e.duration),t.type="keyframes",t};function XB({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:c,max:u,restDelta:l=.5,restSpeed:d}){const f=t[0],A={done:!1,value:f},p=W=>c!==void 0&&W<c||u!==void 0&&W>u,v=W=>c===void 0?u:u===void 0||Math.abs(c-W)<Math.abs(u-W)?c:u;let y=r*e;const x=f+y,w=a===void 0?x:a(x);w!==x&&(y=w-f);const E=W=>-y*Math.exp(-W/n),T=W=>w+E(W),C=W=>{const q=E(W),re=T(W);A.done=Math.abs(q)<=l,A.value=A.done?w:re};let j,P;const U=W=>{p(A.value)&&(j=W,P=uC({keyframes:[A.value,v(A.value)],velocity:MY(T,W,A.value),damping:i,stiffness:s,restDelta:l,restSpeed:d}))};return U(0),{calculatedDuration:null,next:W=>{let q=!1;return!P&&j===void 0&&(q=!0,C(W),U(W)),j!==void 0&&W>=j?P.next(W-j):(!q&&C(W),A)}}}function Sfe(t,e,r){const n=[],i=r||Fp.mix||RY,s=t.length-1;for(let a=0;a<s;a++){let c=i(t[a],t[a+1]);if(e){const u=Array.isArray(e)?e[a]||zf:e;c=o_(u,c)}n.push(c)}return n}function FY(t,e,{clamp:r=!0,ease:n,mixer:i}={}){const s=t.length;if(QR(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=Sfe(e,n,i),u=c.length,l=d=>{if(a&&d<t[0])return e[0];let f=0;if(u>1)for(;f<t.length-2&&!(d<t[f+1]);f++);const A=nE(t[f],t[f+1],d);return c[f](A)};return r?d=>l(Rm(t[0],t[s-1],d)):l}function Tfe(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const i=nE(0,e,n);t.push(hc(r,1,i))}}function Cfe(t){const e=[0];return Tfe(e,t.length-1),e}function jfe(t,e){return t.map(r=>r*e)}function Nfe(t,e){return t.map(()=>e||SY).splice(0,t.length-1)}function Lw({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const i=$he(n)?n.map(a8):a8(n),s={done:!1,value:e[0]},a=jfe(r&&r.length===e.length?r:Cfe(e),t),c=FY(a,e,{ease:Array.isArray(i)?i:Nfe(e,i)});return{calculatedDuration:t,next:u=>(s.value=c(u),s.done=u>=t,s)}}const kfe=t=>t!==null;function JR(t,{repeat:e,repeatType:r="loop"},n,i=1){const s=t.filter(kfe),c=i<0||e&&r!=="loop"&&e%2===1?0:s.length-1;return!c||n===void 0?s[c]:n}const Ife={decay:XB,inertia:XB,tween:Lw,keyframes:Lw,spring:uC};function UY(t){typeof t.type=="string"&&(t.type=Ife[t.type])}class eD{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const Lfe=t=>t/100;class vN extends eD{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:r}=this.options;r&&r.updatedAt!==hh.now()&&this.tick(hh.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;UY(e);const{type:r=Lw,repeat:n=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=e;let{keyframes:c}=e;const u=r||Lw;u!==Lw&&typeof c[0]!="number"&&(this.mixKeyframes=o_(Lfe,RY(c[0],c[1])),c=[0,100]);const l=u({...e,keyframes:c});s==="mirror"&&(this.mirroredGenerator=u({...e,keyframes:[...c].reverse(),velocity:-a})),l.calculatedDuration===null&&(l.calculatedDuration=ZR(l));const{calculatedDuration:d}=l;this.calculatedDuration=d,this.resolvedDuration=d+i,this.totalDuration=this.resolvedDuration*(n+1)-i,this.generator=l}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:n,totalDuration:i,mixKeyframes:s,mirroredGenerator:a,resolvedDuration:c,calculatedDuration:u}=this;if(this.startTime===null)return n.next(0);const{delay:l=0,keyframes:d,repeat:f,repeatType:A,repeatDelay:p,type:v,onUpdate:y,finalKeyframe:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const w=this.currentTime-l*(this.playbackSpeed>=0?1:-1),E=this.playbackSpeed>=0?w<0:w>i;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let T=this.currentTime,C=n;if(f){const W=Math.min(this.currentTime,i)/c;let q=Math.floor(W),re=W%1;!re&&W>=1&&(re=1),re===1&&q--,q=Math.min(q,f+1),q%2&&(A==="reverse"?(re=1-re,p&&(re-=p/c)):A==="mirror"&&(C=a)),T=Rm(0,1,re)*c}const j=E?{done:!1,value:d[0]}:C.next(T);s&&(j.value=s(j.value));let{done:P}=j;!E&&u!==null&&(P=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const U=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return U&&v!==XB&&(j.value=JR(d,this.options,x,this.speed)),y&&y(j.value),U&&this.finish(),j}then(e,r){return this.finished.then(e,r)}get duration(){return Hf(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Hf(e)}get time(){return Hf(this.currentTime)}set time(e){e=Bp(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(hh.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=Hf(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=pfe,startTime:r}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(hh.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function Bfe(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Sv=t=>t*180/Math.PI,ZB=t=>{const e=Sv(Math.atan2(t[1],t[0]));return JB(e)},Ofe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:ZB,rotateZ:ZB,skewX:t=>Sv(Math.atan(t[1])),skewY:t=>Sv(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},JB=t=>(t=t%360,t<0&&(t+=360),t),f8=ZB,A8=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),m8=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Pfe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:A8,scaleY:m8,scale:t=>(A8(t)+m8(t))/2,rotateX:t=>JB(Sv(Math.atan2(t[6],t[5]))),rotateY:t=>JB(Sv(Math.atan2(-t[2],t[0]))),rotateZ:f8,rotate:f8,skewX:t=>Sv(Math.atan(t[4])),skewY:t=>Sv(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function e4(t){return t.includes("scale")?1:0}function t4(t,e){if(!t||t==="none")return e4(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,i;if(r)n=Pfe,i=r;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=Ofe,i=c}if(!i)return e4(e);const s=n[e],a=i[1].split(",").map(Dfe);return typeof s=="function"?s(a):a[s]}const Rfe=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return t4(r,e)};function Dfe(t){return parseFloat(t.trim())}const Vb=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],zb=new Set(Vb),p8=t=>t===Qb||t===Ci,Mfe=new Set(["x","y","z"]),Ffe=Vb.filter(t=>!Mfe.has(t));function Ufe(t){const e=[];return Ffe.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const f0={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>t4(e,"x"),y:(t,{transform:e})=>t4(e,"y")};f0.translateX=f0.x;f0.translateY=f0.y;const Dv=new Set;let r4=!1,n4=!1,i4=!1;function $Y(){if(n4){const t=Array.from(Dv).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const i=Ufe(n);i.length&&(r.set(n,i),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const i=r.get(n);i&&i.forEach(([s,a])=>{n.getValue(s)?.set(a)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}n4=!1,r4=!1,Dv.forEach(t=>t.complete(i4)),Dv.clear()}function HY(){Dv.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(n4=!0)})}function $fe(){i4=!0,HY(),$Y(),i4=!1}class tD{constructor(e,r,n,i,s,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Dv.add(this),r4||(r4=!0,ul.read(HY),ul.resolveKeyframes($Y))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:i}=this;if(e[0]===null){const s=i?.get(),a=e[e.length-1];if(s!==void 0)e[0]=s;else if(n&&r){const c=n.readValue(r,a);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=a),i&&s===void 0&&i.set(e[0])}Bfe(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Dv.delete(this)}cancel(){this.state==="scheduled"&&(Dv.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Hfe=t=>t.startsWith("--");function Qfe(t,e,r){Hfe(e)?t.style.setProperty(e,r):t.style[e]=r}const Vfe=VR(()=>window.ScrollTimeline!==void 0),zfe={};function Kfe(t,e){const r=VR(t);return()=>zfe[e]??r()}const QY=Kfe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),J1=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,g8={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:J1([0,.65,.55,1]),circOut:J1([.55,0,1,.45]),backIn:J1([.31,.01,.66,-.59]),backOut:J1([.33,1.53,.69,.99])};function VY(t,e){if(t)return typeof t=="function"?QY()?DY(t,e):"ease-out":TY(t)?J1(t):Array.isArray(t)?t.map(r=>VY(r,e)||g8.easeOut):g8[t]}function Gfe(t,e,r,{delay:n=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:c="easeOut",times:u}={},l=void 0){const d={[e]:r};u&&(d.offset=u);const f=VY(c,i);Array.isArray(f)&&(d.easing=f);const A={delay:n,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"};return l&&(A.pseudoElement=l),t.animate(d,A)}function zY(t){return typeof t=="function"&&"applyToOptions"in t}function Wfe({type:t,...e}){return zY(t)&&QY()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Yfe extends eD{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:r,name:n,keyframes:i,pseudoElement:s,allowFlatten:a=!1,finalKeyframe:c,onComplete:u}=e;this.isPseudoElement=!!s,this.allowFlatten=a,this.options=e,QR(typeof e.type!="string");const l=Wfe(e);this.animation=Gfe(r,n,i,l,s),l.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const d=JR(i,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(d):Qfe(r,n,d),this.animation.cancel()}u?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Hf(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Hf(e)}get time(){return Hf(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Bp(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&Vfe()?(this.animation.timeline=e,zf):r(this)}}const KY={anticipate:wY,backInOut:bY,circInOut:_Y};function qfe(t){return t in KY}function Xfe(t){typeof t.ease=="string"&&qfe(t.ease)&&(t.ease=KY[t.ease])}const Pk=10;class Zfe extends Yfe{constructor(e){Xfe(e),UY(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:n,onComplete:i,element:s,...a}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const c=new vN({...a,autoplay:!1}),u=Math.max(Pk,hh.now()-this.startTime),l=Rm(0,Pk,u-Pk);r.setWithVelocity(c.sample(Math.max(0,u-l)).value,c.sample(u).value,l),c.stop()}}const v8=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(E0.test(t)||t==="0")&&!t.startsWith("url("));function Jfe(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function eAe(t,e,r,n){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],a=v8(i,e),c=v8(s,e);return!a||!c?!1:Jfe(t)||(r==="spring"||zY(r))&&n}function s4(t){t.duration=0,t.type="keyframes"}const tAe=new Set(["opacity","clipPath","filter","transform"]),rAe=VR(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function nAe(t){const{motionValue:e,name:r,repeatDelay:n,repeatType:i,damping:s,type:a}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:l}=e.owner.getProps();return rAe()&&r&&tAe.has(r)&&(r!=="transform"||!l)&&!u&&!n&&i!=="mirror"&&s!==0&&a!=="inertia"}const iAe=40;class sAe extends eD{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",keyframes:c,name:u,motionValue:l,element:d,...f}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=hh.now();const A={autoplay:e,delay:r,type:n,repeat:i,repeatDelay:s,repeatType:a,name:u,motionValue:l,element:d,...f},p=d?.KeyframeResolver||tD;this.keyframeResolver=new p(c,(v,y,x)=>this.onKeyframesResolved(v,y,A,!x),u,l,d),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,r,n,i){this.keyframeResolver=void 0;const{name:s,type:a,velocity:c,delay:u,isHandoff:l,onUpdate:d}=n;this.resolvedAt=hh.now(),eAe(e,s,a,c)||((Fp.instantAnimations||!u)&&d?.(JR(e,n,r)),e[0]=e[e.length-1],s4(n),n.repeat=0);const A={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>iAe?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:e},p=!l&&nAe(A),v=A.motionValue?.owner?.current,y=p?new Zfe({...A,element:v}):new vN(A);y.finished.then(()=>{this.notifyFinished()}).catch(zf),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),$fe()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function GY(t,e,r,n=0,i=1){const s=Array.from(t).sort((l,d)=>l.sortNodePosition(d)).indexOf(e),a=t.size,c=(a-1)*n;return typeof r=="function"?r(s,a):i===1?s*n:c-s*n}const aAe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function oAe(t){const e=aAe.exec(t);if(!e)return[,];const[,r,n,i]=e;return[`--${r??n}`,i]}function WY(t,e,r=1){const[n,i]=oAe(t);if(!n)return;const s=window.getComputedStyle(e).getPropertyValue(n);if(s){const a=s.trim();return fY(a)?parseFloat(a):a}return WR(i)?WY(i,e,r+1):i}const lAe={type:"spring",stiffness:500,damping:25,restSpeed:10},cAe=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),uAe={type:"keyframes",duration:.8},dAe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},hAe=(t,{keyframes:e})=>e.length>2?uAe:zb.has(t)?t.startsWith("scale")?cAe(e[1]):lAe:dAe,fAe=t=>t!==null;function AAe(t,{repeat:e,repeatType:r="loop"},n){const i=t.filter(fAe),s=e&&r!=="loop"&&e%2===1?0:i.length-1;return i[s]}function rD(t,e){return t?.[e]??t?.default??t}function mAe({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:c,from:u,elapsed:l,...d}){return!!Object.keys(d).length}const nD=(t,e,r,n={},i,s)=>a=>{const c=rD(n,t)||{},u=c.delay||n.delay||0;let{elapsed:l=0}=n;l=l-Bp(u);const d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-l,onUpdate:A=>{e.set(A),c.onUpdate&&c.onUpdate(A)},onComplete:()=>{a(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:s?void 0:i};mAe(c)||Object.assign(d,hAe(t,d)),d.duration&&(d.duration=Bp(d.duration)),d.repeatDelay&&(d.repeatDelay=Bp(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(s4(d),d.delay===0&&(f=!0)),(Fp.instantAnimations||Fp.skipAnimations)&&(f=!0,s4(d),d.delay=0),d.allowFlatten=!c.type&&!c.ease,f&&!s&&e.get()!==void 0){const A=AAe(d.keyframes,c);if(A!==void 0){ul.update(()=>{d.onUpdate(A),d.onComplete()});return}}return c.isSync?new vN(d):new sAe(d)};function y8(t){const e=[{},{}];return t?.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function iD(t,e,r,n){if(typeof e=="function"){const[i,s]=y8(n);e=e(r!==void 0?r:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=y8(n);e=e(r!==void 0?r:t.custom,i,s)}return e}function Jx(t,e,r){const n=t.getProps();return iD(n,e,r!==void 0?r:n.custom,t)}const YY=new Set(["width","height","top","left","right","bottom",...Vb]),x8=30,pAe=t=>!isNaN(parseFloat(t)),Bw={current:void 0};class gAe{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{const i=hh.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=hh.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=pAe(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new zR);const n=this.events[e].add(r);return e==="change"?()=>{n(),ul.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return Bw.current&&Bw.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=hh.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>x8)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,x8);return pY(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Jv(t,e){return new gAe(t,e)}const a4=t=>Array.isArray(t);function vAe(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,Jv(r))}function yAe(t){return a4(t)?t[t.length-1]||0:t}function xAe(t,e){const r=Jx(t,e);let{transitionEnd:n={},transition:i={},...s}=r||{};s={...s,...n};for(const a in s){const c=yAe(s[a]);vAe(t,a,c)}}const ud=t=>!!(t&&t.getVelocity);function bAe(t){return!!(ud(t)&&t.add)}function o4(t,e){const r=t.getValue("willChange");if(bAe(r))return r.add(e);if(!r&&Fp.WillChange){const n=new Fp.WillChange("auto");t.addValue("willChange",n),n.add(e)}}function sD(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const wAe="framerAppearId",qY="data-"+sD(wAe);function XY(t){return t.props[qY]}function EAe({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function ZY(t,e,{delay:r=0,transitionOverride:n,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:a,...c}=e;const u=s?.reduceMotion;n&&(s=n);const l=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const f in c){const A=t.getValue(f,t.latestValues[f]??null),p=c[f];if(p===void 0||d&&EAe(d,f))continue;const v={delay:r,...rD(s||{},f)},y=A.get();if(y!==void 0&&!A.isAnimating&&!Array.isArray(p)&&p===y&&!v.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const T=XY(t);if(T){const C=window.MotionHandoffAnimation(T,f,ul);C!==null&&(v.startTime=C,x=!0)}}o4(t,f);const w=u??t.shouldReduceMotion;A.start(nD(f,A,p,w&&YY.has(f)?{type:!1}:v,t,x));const E=A.animation;E&&l.push(E)}return a&&Promise.all(l).then(()=>{ul.update(()=>{a&&xAe(t,a)})}),l}function l4(t,e,r={}){const n=Jx(t,e,r.type==="exit"?t.presenceContext?.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(i=r.transitionOverride);const s=n?()=>Promise.all(ZY(t,n,r)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:l=0,staggerChildren:d,staggerDirection:f}=i;return _Ae(t,e,u,l,d,f,r)}:()=>Promise.resolve(),{when:c}=i;if(c){const[u,l]=c==="beforeChildren"?[s,a]:[a,s];return u().then(()=>l())}else return Promise.all([s(),a(r.delay)])}function _Ae(t,e,r=0,n=0,i=0,s=1,a){const c=[];for(const u of t.variantChildren)u.notify("AnimationStart",e),c.push(l4(u,e,{...a,delay:r+(typeof n=="function"?0:n)+GY(t.variantChildren,u,n,i,s)}).then(()=>u.notify("AnimationComplete",e)));return Promise.all(c)}function SAe(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const i=e.map(s=>l4(t,s,r));n=Promise.all(i)}else if(typeof e=="string")n=l4(t,e,r);else{const i=typeof e=="function"?Jx(t,e,r.custom):e;n=Promise.all(ZY(t,i,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}const TAe={test:t=>t==="auto",parse:t=>t},JY=t=>e=>e.test(t),eq=[Qb,Ci,Lm,Qg,efe,Jhe,TAe],b8=t=>eq.find(JY(t));function CAe(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||mY(t):!0}const jAe=new Set(["brightness","contrast","saturate","opacity"]);function NAe(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(YR)||[];if(!n)return t;const i=r.replace(n,"");let s=jAe.has(e)?1:0;return n!==r&&(s*=100),e+"("+s+i+")"}const kAe=/\b([a-z-]*)\(.*?\)/gu,c4={...E0,getAnimatableNone:t=>{const e=t.match(kAe);return e?e.map(NAe).join(" "):t}},w8={...Qb,transform:Math.round},IAe={rotate:Qg,rotateX:Qg,rotateY:Qg,rotateZ:Qg,scale:p2,scaleX:p2,scaleY:p2,scaleZ:p2,skew:Qg,skewX:Qg,skewY:Qg,distance:Ci,translateX:Ci,translateY:Ci,translateZ:Ci,x:Ci,y:Ci,z:Ci,perspective:Ci,transformPerspective:Ci,opacity:iE,originX:l8,originY:l8,originZ:Ci},aD={borderWidth:Ci,borderTopWidth:Ci,borderRightWidth:Ci,borderBottomWidth:Ci,borderLeftWidth:Ci,borderRadius:Ci,borderTopLeftRadius:Ci,borderTopRightRadius:Ci,borderBottomRightRadius:Ci,borderBottomLeftRadius:Ci,width:Ci,maxWidth:Ci,height:Ci,maxHeight:Ci,top:Ci,right:Ci,bottom:Ci,left:Ci,inset:Ci,insetBlock:Ci,insetBlockStart:Ci,insetBlockEnd:Ci,insetInline:Ci,insetInlineStart:Ci,insetInlineEnd:Ci,padding:Ci,paddingTop:Ci,paddingRight:Ci,paddingBottom:Ci,paddingLeft:Ci,paddingBlock:Ci,paddingBlockStart:Ci,paddingBlockEnd:Ci,paddingInline:Ci,paddingInlineStart:Ci,paddingInlineEnd:Ci,margin:Ci,marginTop:Ci,marginRight:Ci,marginBottom:Ci,marginLeft:Ci,marginBlock:Ci,marginBlockStart:Ci,marginBlockEnd:Ci,marginInline:Ci,marginInlineStart:Ci,marginInlineEnd:Ci,fontSize:Ci,backgroundPositionX:Ci,backgroundPositionY:Ci,...IAe,zIndex:w8,fillOpacity:iE,strokeOpacity:iE,numOctaves:w8},LAe={...aD,color:hu,backgroundColor:hu,outlineColor:hu,fill:hu,stroke:hu,borderColor:hu,borderTopColor:hu,borderRightColor:hu,borderBottomColor:hu,borderLeftColor:hu,filter:c4,WebkitFilter:c4},tq=t=>LAe[t];function rq(t,e){let r=tq(t);return r!==c4&&(r=E0),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const BAe=new Set(["auto","none","0"]);function OAe(t,e,r){let n=0,i;for(;n<t.length&&!i;){const s=t[n];typeof s=="string"&&!BAe.has(s)&&sE(s).values.length&&(i=t[n]),n++}if(i&&r)for(const s of e)t[s]=rq(r,i)}class PAe extends tD{constructor(e,r,n,i,s){super(e,r,n,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let f=e[d];if(typeof f=="string"&&(f=f.trim(),WR(f))){const A=WY(f,r.current);A!==void 0&&(e[d]=A),d===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!YY.has(n)||e.length!==2)return;const[i,s]=e,a=b8(i),c=b8(s),u=o8(i),l=o8(s);if(u!==l&&f0[n]){this.needsMeasurement=!0;return}if(a!==c)if(p8(a)&&p8(c))for(let d=0;d<e.length;d++){const f=e[d];typeof f=="string"&&(e[d]=parseFloat(f))}else f0[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let i=0;i<e.length;i++)(e[i]===null||CAe(e[i]))&&n.push(i);n.length&&OAe(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=f0[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&e.getValue(n,i).jump(i,!1)}measureEndState(){const{element:e,name:r,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const i=e.getValue(r);i&&i.jump(this.measuredOrigin,!1);const s=n.length-1,a=n[s];n[s]=f0[r](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,u])=>{e.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function RAe(t,e,r){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let n=document;const i=r?.[t]??n.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t).filter(n=>n!=null)}const nq=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function u4(t){return AY(t)&&"offsetHeight"in t}const{schedule:oD}=CY(queueMicrotask,!1),pA={x:!1,y:!1};function iq(){return pA.x||pA.y}function DAe(t){return t==="x"||t==="y"?pA[t]?null:(pA[t]=!0,()=>{pA[t]=!1}):pA.x||pA.y?null:(pA.x=pA.y=!0,()=>{pA.x=pA.y=!1})}function sq(t,e){const r=RAe(t),n=new AbortController,i={passive:!0,...e,signal:n.signal};return[r,i,()=>n.abort()]}function E8(t){return!(t.pointerType==="touch"||iq())}function MAe(t,e,r={}){const[n,i,s]=sq(t,r),a=c=>{if(!E8(c))return;const{target:u}=c,l=e(u,c);if(typeof l!="function"||!u)return;const d=f=>{E8(f)&&(l(f),u.removeEventListener("pointerleave",d))};u.addEventListener("pointerleave",d,i)};return n.forEach(c=>{c.addEventListener("pointerenter",a,i)}),s}const aq=(t,e)=>e?t===e?!0:aq(t,e.parentElement):!1,lD=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,FAe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function oq(t){return FAe.has(t.tagName)||t.isContentEditable===!0}const jS=new WeakSet;function _8(t){return e=>{e.key==="Enter"&&t(e)}}function Rk(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const UAe=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=_8(()=>{if(jS.has(r))return;Rk(r,"down");const i=_8(()=>{Rk(r,"up")}),s=()=>Rk(r,"cancel");r.addEventListener("keyup",i,e),r.addEventListener("blur",s,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function S8(t){return lD(t)&&!iq()}function $Ae(t,e,r={}){const[n,i,s]=sq(t,r),a=c=>{const u=c.currentTarget;if(!S8(c))return;jS.add(u);const l=e(u,c),d=(p,v)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",A),jS.has(u)&&jS.delete(u),S8(p)&&typeof l=="function"&&l(p,{success:v})},f=p=>{d(p,u===window||u===document||r.useGlobalTarget||aq(u,p.target))},A=p=>{d(p,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",A,i)};return n.forEach(c=>{(r.useGlobalTarget?window:c).addEventListener("pointerdown",a,i),u4(c)&&(c.addEventListener("focus",l=>UAe(l,i)),!oq(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),s}function lq(t){return AY(t)&&"ownerSVGElement"in t}function HAe(t){return lq(t)&&t.tagName==="svg"}function QAe(...t){const e=!Array.isArray(t[0]),r=e?0:-1,n=t[0+r],i=t[1+r],s=t[2+r],a=t[3+r],c=FY(i,s,a);return e?c(n):c}function VAe(t,e,r={}){const n=t.get();let i=null,s=n,a;const c=typeof n=="string"?n.replace(/[\d.-]/g,""):void 0,u=()=>{i&&(i.stop(),i=null)},l=()=>{u();const d=C8(t.get()),f=C8(s);d!==f&&(i=new vN({keyframes:[d,f],velocity:t.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...r,onUpdate:a}))};if(t.attach((d,f)=>{s=d,a=A=>f(T8(A,c)),ul.postRender(()=>{l(),t.events.animationStart?.notify(),i?.then(()=>{t.events.animationComplete?.notify()})})},u),ud(e)){const d=e.on("change",A=>t.set(T8(A,c))),f=t.on("destroy",d);return()=>{d(),f()}}return u}function T8(t,e){return e?t+e:t}function C8(t){return typeof t=="number"?t:parseFloat(t)}const zAe=[...eq,hu,E0],KAe=t=>zAe.find(JY(t)),j8=()=>({translate:0,scale:1,origin:0,originPoint:0}),Fx=()=>({x:j8(),y:j8()}),N8=()=>({min:0,max:0}),Bu=()=>({x:N8(),y:N8()}),d4={current:null},cq={current:!1},GAe=typeof window<"u";function WAe(){if(cq.current=!0,!!GAe)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>d4.current=t.matches;t.addEventListener("change",e),e()}else d4.current=!1}const YAe=new WeakMap;function yN(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function aE(t){return typeof t=="string"||Array.isArray(t)}const cD=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],uD=["initial",...cD];function xN(t){return yN(t.animate)||uD.some(e=>aE(t[e]))}function uq(t){return!!(xN(t)||t.variants)}function qAe(t,e,r){for(const n in e){const i=e[n],s=r[n];if(ud(i))t.addValue(n,i);else if(ud(s))t.addValue(n,Jv(i,{owner:t}));else if(s!==i)if(t.hasValue(n)){const a=t.getValue(n);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=t.getStaticValue(n);t.addValue(n,Jv(a!==void 0?a:i,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const k8=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let dC={};function dq(t){dC=t}function XAe(){return dC}class ZAe{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=tD,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const A=hh.now();this.renderScheduledAt<A&&(this.renderScheduledAt=A,ul.render(this.render,!1,!0))};const{latestValues:u,renderState:l}=a;this.latestValues=u,this.baseTarget={...u},this.initialValues=r.initial?{...u}:{},this.renderState=l,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=c,this.blockInitialAnimation=!!s,this.isControllingVariants=xN(r),this.isVariantNode=uq(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const A in f){const p=f[A];u[A]!==void 0&&ud(p)&&p.set(u[A])}}mount(e){this.current=e,YAe.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(cq.current||WAe(),this.shouldReduceMotion=d4.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Up(this.notifyUpdate),Up(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=zb.has(e);n&&this.onBindTransform&&this.onBindTransform();const i=r.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&ul.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;typeof window<"u"&&window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in dC){const r=dC[e];if(!r)continue;const{isEnabled:n,Feature:i}=r;if(!this.features[e]&&i&&n(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Bu()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<k8.length;n++){const i=k8[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=e[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=qAe(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=Jv(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(fY(n)||mY(n))?n=parseFloat(n):!KAe(n)&&E0.test(r)&&(n=rq(e,r)),this.setBaseTarget(e,ud(n)?n.get():n)),ud(n)?n.get():n}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const s=iD(this.props,r,this.presenceContext?.custom);s&&(n=s[e])}if(r&&n!==void 0)return n;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!ud(i)?i:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new zR),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}scheduleRenderMicrotask(){oD.render(this.render)}}class hq extends ZAe{constructor(){super(...arguments),this.KeyframeResolver=PAe}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){const n=e.style;return n?n[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ud(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}class I0{constructor(e){this.isMounted=!1,this.node=e}update(){}}function fq({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function JAe({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function eme(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Dk(t){return t===void 0||t===1}function h4({scale:t,scaleX:e,scaleY:r}){return!Dk(t)||!Dk(e)||!Dk(r)}function sv(t){return h4(t)||Aq(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Aq(t){return I8(t.x)||I8(t.y)}function I8(t){return t&&t!=="0%"}function hC(t,e,r){const n=t-r,i=e*n;return r+i}function L8(t,e,r,n,i){return i!==void 0&&(t=hC(t,i,n)),hC(t,r,n)+e}function f4(t,e=0,r=1,n,i){t.min=L8(t.min,e,r,n,i),t.max=L8(t.max,e,r,n,i)}function mq(t,{x:e,y:r}){f4(t.x,e.translate,e.scale,e.originPoint),f4(t.y,r.translate,r.scale,r.originPoint)}const B8=.999999999999,O8=1.0000000000001;function tme(t,e,r,n=!1){const i=r.length;if(!i)return;e.x=e.y=1;let s,a;for(let c=0;c<i;c++){s=r[c],a=s.projectionDelta;const{visualElement:u}=s.options;u&&u.props.style&&u.props.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&$x(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,mq(t,a)),n&&sv(s.latestValues)&&$x(t,s.latestValues))}e.x<O8&&e.x>B8&&(e.x=1),e.y<O8&&e.y>B8&&(e.y=1)}function Ux(t,e){t.min=t.min+e,t.max=t.max+e}function P8(t,e,r,n,i=.5){const s=hc(t.min,t.max,i);f4(t,e,r,s,n)}function $x(t,e){P8(t.x,e.x,e.scaleX,e.scale,e.originX),P8(t.y,e.y,e.scaleY,e.scale,e.originY)}function pq(t,e){return fq(eme(t.getBoundingClientRect(),e))}function rme(t,e,r){const n=pq(t,r),{scroll:i}=e;return i&&(Ux(n.x,i.offset.x),Ux(n.y,i.offset.y)),n}const nme={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ime=Vb.length;function sme(t,e,r){let n="",i=!0;for(let s=0;s<ime;s++){const a=Vb[s],c=t[a];if(c===void 0)continue;let u=!0;if(typeof c=="number")u=c===(a.startsWith("scale")?1:0);else{const l=parseFloat(c);u=a.startsWith("scale")?l===1:l===0}if(!u||r){const l=nq(c,aD[a]);if(!u){i=!1;const d=nme[a]||a;n+=`${d}(${l}) `}r&&(e[a]=l)}}return n=n.trim(),r?n=r(e,i?"":n):i&&(n="none"),n}function dD(t,e,r){const{style:n,vars:i,transformOrigin:s}=t;let a=!1,c=!1;for(const u in e){const l=e[u];if(zb.has(u)){a=!0;continue}else if(NY(u)){i[u]=l;continue}else{const d=nq(l,aD[u]);u.startsWith("origin")?(c=!0,s[u]=d):n[u]=d}}if(e.transform||(a||r?n.transform=sme(e,t.transform,r):n.transform&&(n.transform="none")),c){const{originX:u="50%",originY:l="50%",originZ:d=0}=s;n.transformOrigin=`${u} ${l} ${d}`}}function gq(t,{style:e,vars:r},n,i){const s=t.style;let a;for(a in e)s[a]=e[a];i?.applyProjectionStyles(s,n);for(a in r)s.setProperty(a,r[a])}function R8(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const C1={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ci.test(t))t=parseFloat(t);else return t;const r=R8(t,e.target.x),n=R8(t,e.target.y);return`${r}% ${n}%`}},ame={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,i=E0.parse(t);if(i.length>5)return n;const s=E0.createTransformer(t),a=typeof i[0]!="number"?1:0,c=r.x.scale*e.x,u=r.y.scale*e.y;i[0+a]/=c,i[1+a]/=u;const l=hc(c,u,.5);return typeof i[2+a]=="number"&&(i[2+a]/=l),typeof i[3+a]=="number"&&(i[3+a]/=l),s(i)}},A4={borderRadius:{...C1,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:C1,borderTopRightRadius:C1,borderBottomLeftRadius:C1,borderBottomRightRadius:C1,boxShadow:ame};function vq(t,{layout:e,layoutId:r}){return zb.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!A4[t]||t==="opacity")}function hD(t,e,r){const n=t.style,i=e?.style,s={};if(!n)return s;for(const a in n)(ud(n[a])||i&&ud(i[a])||vq(a,t)||r?.getValue(a)?.liveStyle!==void 0)&&(s[a]=n[a]);return s}function ome(t){return window.getComputedStyle(t)}class lme extends hq{constructor(){super(...arguments),this.type="html",this.renderInstance=gq}readValueFromInstance(e,r){if(zb.has(r))return this.projection?.isProjecting?e4(r):Rfe(e,r);{const n=ome(e),i=(NY(r)?n.getPropertyValue(r):n[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:r}){return pq(e,r)}build(e,r,n){dD(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return hD(e,r,n)}}const cme={offset:"stroke-dashoffset",array:"stroke-dasharray"},ume={offset:"strokeDashoffset",array:"strokeDasharray"};function dme(t,e,r=1,n=0,i=!0){t.pathLength=1;const s=i?cme:ume;t[s.offset]=`${-n}`,t[s.array]=`${e} ${r}`}const hme=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function yq(t,{attrX:e,attrY:r,attrScale:n,pathLength:i,pathSpacing:s=1,pathOffset:a=0,...c},u,l,d){if(dD(t,c,l),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:A}=t;f.transform&&(A.transform=f.transform,delete f.transform),(A.transform||f.transformOrigin)&&(A.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),A.transform&&(A.transformBox=d?.transformBox??"fill-box",delete f.transformBox);for(const p of hme)f[p]!==void 0&&(A[p]=f[p],delete f[p]);e!==void 0&&(f.x=e),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),i!==void 0&&dme(f,i,s,a,!1)}const xq=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),bq=t=>typeof t=="string"&&t.toLowerCase()==="svg";function fme(t,e,r,n){gq(t,e,void 0,n);for(const i in e.attrs)t.setAttribute(xq.has(i)?i:sD(i),e.attrs[i])}function wq(t,e,r){const n=hD(t,e,r);for(const i in t)if(ud(t[i])||ud(e[i])){const s=Vb.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[s]=t[i]}return n}class Ame extends hq{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Bu}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(zb.has(r)){const n=tq(r);return n&&n.default||0}return r=xq.has(r)?r:sD(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return wq(e,r,n)}build(e,r,n){yq(e,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,r,n,i){fme(e,r,n,i)}mount(e){this.isSVGTag=bq(e.tagName),super.mount(e)}}const mme=uD.length;function Eq(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?Eq(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<mme;r++){const n=uD[r],i=t.props[n];(aE(i)||i===!1)&&(e[n]=i)}return e}function _q(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}const pme=[...cD].reverse(),gme=cD.length;function vme(t){return e=>Promise.all(e.map(({animation:r,options:n})=>SAe(t,r,n)))}function yme(t){let e=vme(t),r=D8(),n=!0;const i=u=>(l,d)=>{const f=Jx(t,d,u==="exit"?t.presenceContext?.custom:void 0);if(f){const{transition:A,transitionEnd:p,...v}=f;l={...l,...v,...p}}return l};function s(u){e=u(t)}function a(u){const{props:l}=t,d=Eq(t.parent)||{},f=[],A=new Set;let p={},v=1/0;for(let x=0;x<gme;x++){const w=pme[x],E=r[w],T=l[w]!==void 0?l[w]:d[w],C=aE(T),j=w===u?E.isActive:null;j===!1&&(v=x);let P=T===d[w]&&T!==l[w]&&C;if(P&&n&&t.manuallyAnimateOnMount&&(P=!1),E.protectedKeys={...p},!E.isActive&&j===null||!T&&!E.prevProp||yN(T)||typeof T=="boolean")continue;const U=xme(E.prevProp,T);let W=U||w===u&&E.isActive&&!P&&C||x>v&&C,q=!1;const re=Array.isArray(T)?T:[T];let ie=re.reduce(i(w),{});j===!1&&(ie={});const{prevResolvedValues:Ae={}}=E,be={...Ae,...ie},Ee=xe=>{W=!0,A.has(xe)&&(q=!0,A.delete(xe)),E.needsAnimating[xe]=!0;const ce=t.getValue(xe);ce&&(ce.liveStyle=!1)};for(const xe in be){const ce=ie[xe],Me=Ae[xe];if(p.hasOwnProperty(xe))continue;let Oe=!1;a4(ce)&&a4(Me)?Oe=!_q(ce,Me):Oe=ce!==Me,Oe?ce!=null?Ee(xe):A.add(xe):ce!==void 0&&A.has(xe)?Ee(xe):E.protectedKeys[xe]=!0}E.prevProp=T,E.prevResolvedValues=ie,E.isActive&&(p={...p,...ie}),n&&t.blockInitialAnimation&&(W=!1);const ge=P&&U;W&&(!ge||q)&&f.push(...re.map(xe=>{const ce={type:w};if(typeof xe=="string"&&n&&!ge&&t.manuallyAnimateOnMount&&t.parent){const{parent:Me}=t,Oe=Jx(Me,xe);if(Me.enteringChildren&&Oe){const{delayChildren:we}=Oe.transition||{};ce.delay=GY(Me.enteringChildren,t,we)}}return{animation:xe,options:ce}}))}if(A.size){const x={};if(typeof l.initial!="boolean"){const w=Jx(t,Array.isArray(l.initial)?l.initial[0]:l.initial);w&&w.transition&&(x.transition=w.transition)}A.forEach(w=>{const E=t.getBaseTarget(w),T=t.getValue(w);T&&(T.liveStyle=!0),x[w]=E??null}),f.push({animation:x})}let y=!!f.length;return n&&(l.initial===!1||l.initial===l.animate)&&!t.manuallyAnimateOnMount&&(y=!1),n=!1,y?e(f):Promise.resolve()}function c(u,l){if(r[u].isActive===l)return Promise.resolve();t.variantChildren?.forEach(f=>f.animationState?.setActive(u,l)),r[u].isActive=l;const d=a(u);for(const f in r)r[f].protectedKeys={};return d}return{animateChanges:a,setActive:c,setAnimateFunction:s,getState:()=>r,reset:()=>{r=D8()}}}function xme(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!_q(e,t):!1}function q0(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function D8(){return{animate:q0(!0),whileInView:q0(),whileHover:q0(),whileTap:q0(),whileDrag:q0(),whileFocus:q0(),exit:q0()}}function M8(t,e){t.min=e.min,t.max=e.max}function uA(t,e){M8(t.x,e.x),M8(t.y,e.y)}function F8(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const Sq=1e-4,bme=1-Sq,wme=1+Sq,Tq=.01,Eme=0-Tq,_me=0+Tq;function fh(t){return t.max-t.min}function Sme(t,e,r){return Math.abs(t-e)<=r}function U8(t,e,r,n=.5){t.origin=n,t.originPoint=hc(e.min,e.max,t.origin),t.scale=fh(r)/fh(e),t.translate=hc(r.min,r.max,t.origin)-t.originPoint,(t.scale>=bme&&t.scale<=wme||isNaN(t.scale))&&(t.scale=1),(t.translate>=Eme&&t.translate<=_me||isNaN(t.translate))&&(t.translate=0)}function Ow(t,e,r,n){U8(t.x,e.x,r.x,n?n.originX:void 0),U8(t.y,e.y,r.y,n?n.originY:void 0)}function $8(t,e,r){t.min=r.min+e.min,t.max=t.min+fh(e)}function Tme(t,e,r){$8(t.x,e.x,r.x),$8(t.y,e.y,r.y)}function H8(t,e,r){t.min=e.min-r.min,t.max=t.min+fh(e)}function fC(t,e,r){H8(t.x,e.x,r.x),H8(t.y,e.y,r.y)}function Q8(t,e,r,n,i){return t-=e,t=hC(t,1/r,n),i!==void 0&&(t=hC(t,1/i,n)),t}function Cme(t,e=0,r=1,n=.5,i,s=t,a=t){if(Lm.test(e)&&(e=parseFloat(e),e=hc(a.min,a.max,e/100)-a.min),typeof e!="number")return;let c=hc(s.min,s.max,n);t===s&&(c-=e),t.min=Q8(t.min,e,r,c,i),t.max=Q8(t.max,e,r,c,i)}function V8(t,e,[r,n,i],s,a){Cme(t,e[r],e[n],e[i],e.scale,s,a)}const jme=["x","scaleX","originX"],Nme=["y","scaleY","originY"];function z8(t,e,r,n){V8(t.x,e,jme,r?r.x:void 0,n?n.x:void 0),V8(t.y,e,Nme,r?r.y:void 0,n?n.y:void 0)}function K8(t){return t.translate===0&&t.scale===1}function Cq(t){return K8(t.x)&&K8(t.y)}function G8(t,e){return t.min===e.min&&t.max===e.max}function kme(t,e){return G8(t.x,e.x)&&G8(t.y,e.y)}function W8(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function jq(t,e){return W8(t.x,e.x)&&W8(t.y,e.y)}function Y8(t){return fh(t.x)/fh(t.y)}function q8(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function Rf(t){return[t("x"),t("y")]}function Ime(t,e,r){let n="";const i=t.x.translate/e.x,s=t.y.translate/e.y,a=r?.z||0;if((i||s||a)&&(n=`translate3d(${i}px, ${s}px, ${a}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:l,rotate:d,rotateX:f,rotateY:A,skewX:p,skewY:v}=r;l&&(n=`perspective(${l}px) ${n}`),d&&(n+=`rotate(${d}deg) `),f&&(n+=`rotateX(${f}deg) `),A&&(n+=`rotateY(${A}deg) `),p&&(n+=`skewX(${p}deg) `),v&&(n+=`skewY(${v}deg) `)}const c=t.x.scale*e.x,u=t.y.scale*e.y;return(c!==1||u!==1)&&(n+=`scale(${c}, ${u})`),n||"none"}const Nq=["TopLeft","TopRight","BottomLeft","BottomRight"],Lme=Nq.length,X8=t=>typeof t=="string"?parseFloat(t):t,Z8=t=>typeof t=="number"||Ci.test(t);function Bme(t,e,r,n,i,s){i?(t.opacity=hc(0,r.opacity??1,Ome(n)),t.opacityExit=hc(e.opacity??1,0,Pme(n))):s&&(t.opacity=hc(e.opacity??1,r.opacity??1,n));for(let a=0;a<Lme;a++){const c=`border${Nq[a]}Radius`;let u=J8(e,c),l=J8(r,c);if(u===void 0&&l===void 0)continue;u||(u=0),l||(l=0),u===0||l===0||Z8(u)===Z8(l)?(t[c]=Math.max(hc(X8(u),X8(l),n),0),(Lm.test(l)||Lm.test(u))&&(t[c]+="%")):t[c]=l}(e.rotate||r.rotate)&&(t.rotate=hc(e.rotate||0,r.rotate||0,n))}function J8(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Ome=kq(0,.5,EY),Pme=kq(.5,.95,zf);function kq(t,e,r){return n=>n<t?0:n>e?1:r(nE(t,e,n))}function Rme(t,e,r){const n=ud(t)?t:Jv(t);return n.start(nD("",n,e,r)),n.animation}function oE(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}const Dme=(t,e)=>t.depth-e.depth;class Mme{constructor(){this.children=[],this.isDirty=!1}add(e){$R(this.children,e),this.isDirty=!0}remove(e){HR(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Dme),this.isDirty=!1,this.children.forEach(e)}}function Fme(t,e){const r=hh.now(),n=({timestamp:i})=>{const s=i-r;s>=e&&(Up(n),t(s-e))};return ul.setup(n,!0),()=>Up(n)}function NS(t){return ud(t)?t.get():t}class Ume{constructor(){this.members=[]}add(e){$R(this.members,e),e.scheduleRender()}remove(e){if(HR(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(i=>e===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender();const i=n.options.layoutDependency,s=e.options.layoutDependency;i!==void 0&&s!==void 0&&i===s||(e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0));const{crossfade:c}=e.options;c===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const kS={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Mk=["","X","Y","Z"],$me=1e3;let Hme=0;function Fk(t,e,r,n){const{latestValues:i}=e;i[t]&&(r[t]=i[t],e.setStaticValue(t,0),n&&(n[t]=0))}function Iq(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=XY(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",ul,!(i||s))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&Iq(n)}function Lq({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(a={},c=e?.()){this.id=Hme++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(zme),this.nodes.forEach(Yme),this.nodes.forEach(qme),this.nodes.forEach(Kme)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new Mme)}addEventListener(a,c){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new zR),this.eventHandlers.get(a).add(c)}notifyListeners(a,...c){const u=this.eventHandlers.get(a);u&&u.notify(...c)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=lq(a)&&!HAe(a),this.instance=a;const{layoutId:c,layout:u,visualElement:l}=this.options;if(l&&!l.current&&l.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||c)&&(this.isLayoutDirty=!0),t){let d,f=0;const A=()=>this.root.updateBlockedByResize=!1;ul.read(()=>{f=window.innerWidth}),t(a,()=>{const p=window.innerWidth;p!==f&&(f=p,this.root.updateBlockedByResize=!0,d&&d(),d=Fme(A,250),kS.hasAnimatedSinceResize&&(kS.hasAnimatedSinceResize=!1,this.nodes.forEach(r7)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&l&&(c||u)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:A,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||l.getDefaultTransition()||tpe,{onLayoutAnimationStart:y,onLayoutAnimationComplete:x}=l.getProps(),w=!this.targetLayout||!jq(this.targetLayout,p),E=!f&&A;if(this.options.layoutRoot||this.resumeFrom||E||f&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const T={...rD(v,"layout"),onPlay:y,onComplete:x};(l.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T),this.setAnimationOrigin(d,E)}else f||r7(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Up(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Xme),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Iq(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:c,layout:u}=this.options;if(c===void 0&&!u)return;const l=this.getTransformTemplate();this.prevTransformTemplateValue=l?l(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(e7);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(t7);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Wme),this.nodes.forEach(Qme),this.nodes.forEach(Vme)):this.nodes.forEach(t7),this.clearAllSnapshots();const c=hh.now();Pd.delta=Rm(0,1e3/60,c-Pd.timestamp),Pd.timestamp=c,Pd.isProcessing=!0,kk.update.process(Pd),kk.preRender.process(Pd),kk.render.process(Pd),Pd.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,oD.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Gme),this.sharedNodes.forEach(Zme)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ul.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ul.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!fh(this.snapshot.measuredBox.x)&&!fh(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Bu(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(c=!1),c&&this.instance){const u=n(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:u,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!Cq(this.projectionDelta),u=this.getTransformTemplate(),l=u?u(this.latestValues,""):void 0,d=l!==this.prevTransformTemplateValue;a&&this.instance&&(c||sv(this.latestValues)||d)&&(i(this.instance,l),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const c=this.measurePageBox();let u=this.removeElementScroll(c);return a&&(u=this.removeTransform(u)),rpe(u),{animationId:this.root.animationId,measuredBox:c,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return Bu();const c=a.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(npe))){const{scroll:l}=this.root;l&&(Ux(c.x,l.offset.x),Ux(c.y,l.offset.y))}return c}removeElementScroll(a){const c=Bu();if(uA(c,a),this.scroll?.wasRoot)return c;for(let u=0;u<this.path.length;u++){const l=this.path[u],{scroll:d,options:f}=l;l!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&uA(c,a),Ux(c.x,d.offset.x),Ux(c.y,d.offset.y))}return c}applyTransform(a,c=!1){const u=Bu();uA(u,a);for(let l=0;l<this.path.length;l++){const d=this.path[l];!c&&d.options.layoutScroll&&d.scroll&&d!==d.root&&$x(u,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),sv(d.latestValues)&&$x(u,d.latestValues)}return sv(this.latestValues)&&$x(u,this.latestValues),u}removeTransform(a){const c=Bu();uA(c,a);for(let u=0;u<this.path.length;u++){const l=this.path[u];if(!l.instance||!sv(l.latestValues))continue;h4(l.latestValues)&&l.updateSnapshot();const d=Bu(),f=l.measurePageBox();uA(d,f),z8(c,l.latestValues,l.snapshot?l.snapshot.layoutBox:void 0,d)}return sv(this.latestValues)&&z8(c,this.latestValues),c}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Pd.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!this.layout||!(d||f))return;this.resolvedRelativeTargetAt=Pd.timestamp;const A=this.getClosestProjectingParent();A&&this.linkedParentVersion!==A.layoutVersion&&!A.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(A&&A.layout?this.createRelativeTarget(A,this.layout.layoutBox,A.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Bu(),this.targetWithTransforms=Bu()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Tme(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):uA(this.target,this.layout.layoutBox),mq(this.target,this.targetDelta)):uA(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,A&&!!A.resumingFrom==!!this.resumingFrom&&!A.options.layoutScroll&&A.target&&this.animationProgress!==1?this.createRelativeTarget(A,this.target,A.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||h4(this.parent.latestValues)||Aq(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(a,c,u){this.relativeParent=a,this.linkedParentVersion=a.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Bu(),this.relativeTargetOrigin=Bu(),fC(this.relativeTargetOrigin,c,u),uA(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const a=this.getLead(),c=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Pd.timestamp&&(u=!1),u)return;const{layout:l,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(l||d))return;uA(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,A=this.treeScale.y;tme(this.layoutCorrected,this.treeScale,this.path,c),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Bu());const{target:p}=a;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(F8(this.prevProjectionDelta.x,this.projectionDelta.x),F8(this.prevProjectionDelta.y,this.projectionDelta.y)),Ow(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==A||!q8(this.projectionDelta.x,this.prevProjectionDelta.x)||!q8(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.visualElement?.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Fx(),this.projectionDelta=Fx(),this.projectionDeltaWithTransform=Fx()}setAnimationOrigin(a,c=!1){const u=this.snapshot,l=u?u.latestValues:{},d={...this.latestValues},f=Fx();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const A=Bu(),p=u?u.source:void 0,v=this.layout?this.layout.source:void 0,y=p!==v,x=this.getStack(),w=!x||x.members.length<=1,E=!!(y&&!w&&this.options.crossfade===!0&&!this.path.some(epe));this.animationProgress=0;let T;this.mixTargetDelta=C=>{const j=C/1e3;n7(f.x,a.x,j),n7(f.y,a.y,j),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(fC(A,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Jme(this.relativeTarget,this.relativeTargetOrigin,A,j),T&&kme(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=Bu()),uA(T,this.relativeTarget)),y&&(this.animationValues=d,Bme(d,l,this.latestValues,j,E,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Up(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ul.update(()=>{kS.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Jv(0)),this.currentAnimation=Rme(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),a.onUpdate&&a.onUpdate(c)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta($me),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:c,target:u,layout:l,latestValues:d}=a;if(!(!c||!u||!l)){if(this!==a&&this.layout&&l&&Bq(this.options.animationType,this.layout.layoutBox,l.layoutBox)){u=this.target||Bu();const f=fh(this.layout.layoutBox.x);u.x.min=a.target.x.min,u.x.max=u.x.min+f;const A=fh(this.layout.layoutBox.y);u.y.min=a.target.y.min,u.y.max=u.y.min+A}uA(c,u),$x(c,d),Ow(this.projectionDeltaWithTransform,this.layoutCorrected,c,d)}}registerSharedNode(a,c){this.sharedNodes.has(a)||this.sharedNodes.set(a,new Ume),this.sharedNodes.get(a).add(c);const l=c.options.initialPromotionConfig;c.promote({transition:l?l.transition:void 0,preserveFollowOpacity:l&&l.shouldPreserveFollowOpacity?l.shouldPreserveFollowOpacity(c):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){const{layoutId:a}=this.options;return a?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:a}=this.options;return a?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:c,preserveFollowOpacity:u}={}){const l=this.getStack();l&&l.promote(this,u),a&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let c=!1;const{latestValues:u}=a;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(c=!0),!c)return;const l={};u.z&&Fk("z",a,l,this.animationValues);for(let d=0;d<Mk.length;d++)Fk(`rotate${Mk[d]}`,a,l,this.animationValues),Fk(`skew${Mk[d]}`,a,l,this.animationValues);a.render();for(const d in l)a.setStaticValue(d,l[d]),this.animationValues&&(this.animationValues[d]=l[d]);a.scheduleRender()}applyProjectionStyles(a,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=NS(c?.pointerEvents)||"",a.transform=u?u(this.latestValues,""):"none";return}const l=this.getLead();if(!this.projectionDelta||!this.layout||!l.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=NS(c?.pointerEvents)||""),this.hasProjected&&!sv(this.latestValues)&&(a.transform=u?u({},""):"none",this.hasProjected=!1);return}a.visibility="";const d=l.animationValues||l.latestValues;this.applyTransformsToTarget();let f=Ime(this.projectionDeltaWithTransform,this.treeScale,d);u&&(f=u(d,f)),a.transform=f;const{x:A,y:p}=this.projectionDelta;a.transformOrigin=`${A.origin*100}% ${p.origin*100}% 0`,l.animationValues?a.opacity=l===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:a.opacity=l===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const v in A4){if(d[v]===void 0)continue;const{correct:y,applyTo:x,isCSSVariable:w}=A4[v],E=f==="none"?d[v]:y(d[v],l);if(x){const T=x.length;for(let C=0;C<T;C++)a[x[C]]=E}else w?this.options.visualElement.renderState.vars[v]=E:a[v]=E}this.options.layoutId&&(a.pointerEvents=l===this?NS(c?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>a.currentAnimation?.stop()),this.root.nodes.forEach(e7),this.root.sharedNodes.clear()}}}function Qme(t){t.updateLayout()}function Vme(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:n}=t.layout,{animationType:i}=t.options,s=e.source!==t.layout.source;i==="size"?Rf(d=>{const f=s?e.measuredBox[d]:e.layoutBox[d],A=fh(f);f.min=r[d].min,f.max=f.min+A}):Bq(i,e.layoutBox,r)&&Rf(d=>{const f=s?e.measuredBox[d]:e.layoutBox[d],A=fh(r[d]);f.max=f.min+A,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+A)});const a=Fx();Ow(a,r,e.layoutBox);const c=Fx();s?Ow(c,t.applyTransform(n,!0),e.measuredBox):Ow(c,r,e.layoutBox);const u=!Cq(a);let l=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:A}=d;if(f&&A){const p=Bu();fC(p,e.layoutBox,f.layoutBox);const v=Bu();fC(v,r,A.layoutBox),jq(p,v)||(l=!0),d.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=p,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:c,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:l})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function zme(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Kme(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Gme(t){t.clearSnapshot()}function e7(t){t.clearMeasurements()}function t7(t){t.isLayoutDirty=!1}function Wme(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function r7(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Yme(t){t.resolveTargetDelta()}function qme(t){t.calcProjection()}function Xme(t){t.resetSkewAndRotation()}function Zme(t){t.removeLeadSnapshot()}function n7(t,e,r){t.translate=hc(e.translate,0,r),t.scale=hc(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function i7(t,e,r,n){t.min=hc(e.min,r.min,n),t.max=hc(e.max,r.max,n)}function Jme(t,e,r,n){i7(t.x,e.x,r.x,n),i7(t.y,e.y,r.y,n)}function epe(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const tpe={duration:.45,ease:[.4,0,.1,1]},s7=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),a7=s7("applewebkit/")&&!s7("chrome/")?Math.round:zf;function o7(t){t.min=a7(t.min),t.max=a7(t.max)}function rpe(t){o7(t.x),o7(t.y)}function Bq(t,e,r){return t==="position"||t==="preserve-aspect"&&!Sme(Y8(e),Y8(r),.2)}function npe(t){return t!==t.root&&t.scroll?.wasRoot}const ipe=Lq({attachResizeListener:(t,e)=>oE(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),Uk={current:void 0},Oq=Lq({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Uk.current){const t=new ipe({});t.mount(window),t.setOptions({layoutScroll:!0}),Uk.current=t}return Uk.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),u_=k.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function l7(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function spe(...t){return e=>{let r=!1;const n=t.map(i=>{const s=l7(i,e);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():l7(t[i],null)}}}}function ape(...t){return k.useCallback(spe(...t),t)}class ope extends k.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=r.offsetParent,i=u4(n)&&n.offsetWidth||0,s=u4(n)&&n.offsetHeight||0,a=this.props.sizeRef.current;a.height=r.offsetHeight||0,a.width=r.offsetWidth||0,a.top=r.offsetTop,a.left=r.offsetLeft,a.right=i-a.width-a.left,a.bottom=s-a.height-a.top}return null}componentDidUpdate(){}render(){return this.props.children}}function lpe({children:t,isPresent:e,anchorX:r,anchorY:n,root:i}){const s=k.useId(),a=k.useRef(null),c=k.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:u}=k.useContext(u_),l=t.props?.ref??t?.ref,d=ape(a,l);return k.useInsertionEffect(()=>{const{width:f,height:A,top:p,left:v,right:y,bottom:x}=c.current;if(e||!a.current||!f||!A)return;const w=r==="left"?`left: ${v}`:`right: ${y}`,E=n==="bottom"?`bottom: ${x}`:`top: ${p}`;a.current.dataset.motionPopId=s;const T=document.createElement("style");u&&(T.nonce=u);const C=i??document.head;return C.appendChild(T),T.sheet&&T.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${A}px !important;
            ${w}px !important;
            ${E}px !important;
          }
        `),()=>{C.contains(T)&&C.removeChild(T)}},[e]),o.jsx(ope,{isPresent:e,childRef:a,sizeRef:c,children:k.cloneElement(t,{ref:d})})}const cpe=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:s,mode:a,anchorX:c,anchorY:u,root:l})=>{const d=a_(upe),f=k.useId();let A=!0,p=k.useMemo(()=>(A=!1,{id:f,initial:e,isPresent:r,custom:i,onExitComplete:v=>{d.set(v,!0);for(const y of d.values())if(!y)return;n&&n()},register:v=>(d.set(v,!1),()=>d.delete(v))}),[r,d,n]);return s&&A&&(p={...p}),k.useMemo(()=>{d.forEach((v,y)=>d.set(y,!1))},[r]),k.useEffect(()=>{!r&&!d.size&&n&&n()},[r]),a==="popLayout"&&(t=o.jsx(lpe,{isPresent:r,anchorX:c,anchorY:u,root:l,children:t})),o.jsx(gN.Provider,{value:p,children:t})};function upe(){return new Map}function Pq(t=!0){const e=k.useContext(gN);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:i}=e,s=k.useId();k.useEffect(()=>{if(t)return i(s)},[t]);const a=k.useCallback(()=>t&&n&&n(s),[s,n,t]);return!r&&n?[!1,a]:[!0]}const g2=t=>t.key||"";function c7(t){const e=[];return k.Children.forEach(t,r=>{k.isValidElement(r)&&e.push(r)}),e}const Mv=({children:t,custom:e,initial:r=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:s="sync",propagate:a=!1,anchorX:c="left",anchorY:u="top",root:l})=>{const[d,f]=Pq(a),A=k.useMemo(()=>c7(t),[t]),p=a&&!d?[]:A.map(g2),v=k.useRef(!0),y=k.useRef(A),x=a_(()=>new Map),w=k.useRef(new Set),[E,T]=k.useState(A),[C,j]=k.useState(A);UR(()=>{v.current=!1,y.current=A;for(let W=0;W<C.length;W++){const q=g2(C[W]);p.includes(q)?(x.delete(q),w.current.delete(q)):x.get(q)!==!0&&x.set(q,!1)}},[C,p.length,p.join("-")]);const P=[];if(A!==E){let W=[...A];for(let q=0;q<C.length;q++){const re=C[q],ie=g2(re);p.includes(ie)||(W.splice(q,0,re),P.push(re))}return s==="wait"&&P.length&&(W=P),j(c7(W)),T(A),null}const{forceRender:U}=k.useContext(FR);return o.jsx(o.Fragment,{children:C.map(W=>{const q=g2(W),re=a&&!d?!1:A===C||p.includes(q),ie=()=>{if(w.current.has(q))return;if(w.current.add(q),x.has(q))x.set(q,!0);else return;let Ae=!0;x.forEach(be=>{be||(Ae=!1)}),Ae&&(U?.(),j(y.current),a&&f?.(),n&&n())};return o.jsx(cpe,{isPresent:re,initial:!v.current||r?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,root:l,onExitComplete:re?void 0:ie,anchorX:c,anchorY:u,children:W},q)})})},Rq=k.createContext({strict:!1}),u7={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let d7=!1;function dpe(){if(d7)return;const t={};for(const e in u7)t[e]={isEnabled:r=>u7[e].some(n=>!!r[n])};dq(t),d7=!0}function Dq(){return dpe(),XAe()}function hpe(t){const e=Dq();for(const r in t)e[r]={...e[r],...t[r]};dq(e)}const fpe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function AC(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||fpe.has(t)}let Mq=t=>!AC(t);function Ape(t){typeof t=="function"&&(Mq=e=>e.startsWith("on")?!AC(e):t(e))}try{Ape(require("@emotion/is-prop-valid").default)}catch{}function mpe(t,e,r){const n={};for(const i in t)i==="values"&&typeof t.values=="object"||(Mq(i)||r===!0&&AC(i)||!e&&!AC(i)||t.draggable&&i.startsWith("onDrag"))&&(n[i]=t[i]);return n}const bN=k.createContext({});function ppe(t,e){if(xN(t)){const{initial:r,animate:n}=t;return{initial:r===!1||aE(r)?r:void 0,animate:aE(n)?n:void 0}}return t.inherit!==!1?e:{}}function gpe(t){const{initial:e,animate:r}=ppe(t,k.useContext(bN));return k.useMemo(()=>({initial:e,animate:r}),[h7(e),h7(r)])}function h7(t){return Array.isArray(t)?t.join(" "):t}const fD=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Fq(t,e,r){for(const n in e)!ud(e[n])&&!vq(n,r)&&(t[n]=e[n])}function vpe({transformTemplate:t},e){return k.useMemo(()=>{const r=fD();return dD(r,e,t),Object.assign({},r.vars,r.style)},[e])}function ype(t,e){const r=t.style||{},n={};return Fq(n,r,t),Object.assign(n,vpe(t,e)),n}function xpe(t,e){const r={},n=ype(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}const Uq=()=>({...fD(),attrs:{}});function bpe(t,e,r,n){const i=k.useMemo(()=>{const s=Uq();return yq(s,e,bq(n),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};Fq(s,t.style,t),i.style={...s,...i.style}}return i}const wpe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function AD(t){return typeof t!="string"||t.includes("-")?!1:!!(wpe.indexOf(t)>-1||/[A-Z]/u.test(t))}function Epe(t,e,r,{latestValues:n},i,s=!1,a){const u=(a??AD(t)?bpe:xpe)(e,n,i,t),l=mpe(e,typeof t=="string",s),d=t!==k.Fragment?{...l,...u,ref:r}:{},{children:f}=e,A=k.useMemo(()=>ud(f)?f.get():f,[f]);return k.createElement(t,{...d,children:A})}function _pe({scrapeMotionValuesFromProps:t,createRenderState:e},r,n,i){return{latestValues:Spe(r,n,i,t),renderState:e()}}function Spe(t,e,r,n){const i={},s=n(t,{});for(const A in s)i[A]=NS(s[A]);let{initial:a,animate:c}=t;const u=xN(t),l=uq(t);e&&l&&!u&&t.inherit!==!1&&(a===void 0&&(a=e.initial),c===void 0&&(c=e.animate));let d=r?r.initial===!1:!1;d=d||a===!1;const f=d?c:a;if(f&&typeof f!="boolean"&&!yN(f)){const A=Array.isArray(f)?f:[f];for(let p=0;p<A.length;p++){const v=iD(t,A[p]);if(v){const{transitionEnd:y,transition:x,...w}=v;for(const E in w){let T=w[E];if(Array.isArray(T)){const C=d?T.length-1:0;T=T[C]}T!==null&&(i[E]=T)}for(const E in y)i[E]=y[E]}}}return i}const $q=t=>(e,r)=>{const n=k.useContext(bN),i=k.useContext(gN),s=()=>_pe(t,e,n,i);return r?s():a_(s)},Tpe=$q({scrapeMotionValuesFromProps:hD,createRenderState:fD}),Cpe=$q({scrapeMotionValuesFromProps:wq,createRenderState:Uq}),jpe=Symbol.for("motionComponentSymbol");function Npe(t,e,r){const n=k.useRef(r);k.useInsertionEffect(()=>{n.current=r});const i=k.useRef(null);return k.useCallback(s=>{s&&t.onMount?.(s),e&&(s?e.mount(s):e.unmount());const a=n.current;if(typeof a=="function")if(s){const c=a(s);typeof c=="function"&&(i.current=c)}else i.current?(i.current(),i.current=null):a(s);else a&&(a.current=s)},[e])}const Hq=k.createContext({});function ew(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function kpe(t,e,r,n,i,s){const{visualElement:a}=k.useContext(bN),c=k.useContext(Rq),u=k.useContext(gN),l=k.useContext(u_).reducedMotion,d=k.useRef(null),f=k.useRef(!1);n=n||c.renderer,!d.current&&n&&(d.current=n(t,{visualState:e,parent:a,props:r,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:l,isSVG:s}),f.current&&d.current&&(d.current.manuallyAnimateOnMount=!0));const A=d.current,p=k.useContext(Hq);A&&!A.projection&&i&&(A.type==="html"||A.type==="svg")&&Ipe(d.current,r,i,p);const v=k.useRef(!1);k.useInsertionEffect(()=>{A&&v.current&&A.update(r,u)});const y=r[qY],x=k.useRef(!!y&&!window.MotionHandoffIsComplete?.(y)&&window.MotionHasOptimisedAnimation?.(y));return UR(()=>{f.current=!0,A&&(v.current=!0,window.MotionIsMounted=!0,A.updateFeatures(),A.scheduleRenderMicrotask(),x.current&&A.animationState&&A.animationState.animateChanges())}),k.useEffect(()=>{A&&(!x.current&&A.animationState&&A.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(y)}),x.current=!1),A.enteringChildren=void 0)}),A}function Ipe(t,e,r,n){const{layoutId:i,layout:s,drag:a,dragConstraints:c,layoutScroll:u,layoutRoot:l,layoutCrossfade:d}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:Qq(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||c&&ew(c),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:n,crossfade:d,layoutScroll:u,layoutRoot:l})}function Qq(t){if(t)return t.options.allowProjection!==!1?t.projection:Qq(t.parent)}function $k(t,{forwardMotionProps:e=!1,type:r}={},n,i){n&&hpe(n);const s=r?r==="svg":AD(t),a=s?Cpe:Tpe;function c(l,d){let f;const A={...k.useContext(u_),...l,layoutId:Lpe(l)},{isStatic:p}=A,v=gpe(l),y=a(l,p);if(!p&&hY){Bpe();const x=Ope(A);f=x.MeasureLayout,v.visualElement=kpe(t,y,A,i,x.ProjectionNode,s)}return o.jsxs(bN.Provider,{value:v,children:[f&&v.visualElement?o.jsx(f,{visualElement:v.visualElement,...A}):null,Epe(t,l,Npe(y,v.visualElement,d),y,p,e,s)]})}c.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const u=k.forwardRef(c);return u[jpe]=t,u}function Lpe({layoutId:t}){const e=k.useContext(FR).id;return e&&t!==void 0?e+"-"+t:t}function Bpe(t,e){k.useContext(Rq).strict}function Ope(t){const e=Dq(),{drag:r,layout:n}=e;if(!r&&!n)return{};const i={...r,...n};return{MeasureLayout:r?.isEnabled(t)||n?.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function Ppe(t,e){if(typeof Proxy>"u")return $k;const r=new Map,n=(s,a)=>$k(s,a,t,e),i=(s,a)=>n(s,a);return new Proxy(i,{get:(s,a)=>a==="create"?n:(r.has(a)||r.set(a,$k(a,void 0,t,e)),r.get(a))})}const Rpe=(t,e)=>e.isSVG??AD(t)?new Ame(e):new lme(e,{allowProjection:t!==k.Fragment});class Dpe extends I0{constructor(e){super(e),e.animationState||(e.animationState=yme(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();yN(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Mpe=0;class Fpe extends I0{constructor(){super(...arguments),this.id=Mpe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const i=this.node.animationState.setActive("exit",!e);r&&!e&&i.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Upe={animation:{Feature:Dpe},exit:{Feature:Fpe}};function d_(t){return{point:{x:t.pageX,y:t.pageY}}}const $pe=t=>e=>lD(e)&&t(e,d_(e));function Pw(t,e,r,n){return oE(t,e,$pe(r),n)}const Vq=({current:t})=>t?t.ownerDocument.defaultView:null,f7=(t,e)=>Math.abs(t-e);function Hpe(t,e){const r=f7(t.x,e.x),n=f7(t.y,e.y);return Math.sqrt(r**2+n**2)}const A7=new Set(["auto","scroll"]);class zq{constructor(e,r,{transformPagePoint:n,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:a=3,element:c}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=p=>{this.handleScroll(p.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=Qk(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,y=Hpe(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!y)return;const{point:x}=p,{timestamp:w}=Pd;this.history.push({...x,timestamp:w});const{onStart:E,onMove:T}=this.handlers;v||(E&&E(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),T&&T(this.lastMoveEvent,p)},this.handlePointerMove=(p,v)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=Hk(v,this.transformPagePoint),ul.update(this.updatePoint,!0)},this.handlePointerUp=(p,v)=>{this.end();const{onEnd:y,onSessionEnd:x,resumeAnimation:w}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=Qk(p.type==="pointercancel"?this.lastMoveEventInfo:Hk(v,this.transformPagePoint),this.history);this.startEvent&&y&&y(p,E),x&&x(p,E)},!lD(e))return;this.dragSnapToOrigin=s,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=a,this.contextWindow=i||window;const u=d_(e),l=Hk(u,this.transformPagePoint),{point:d}=l,{timestamp:f}=Pd;this.history=[{...d,timestamp:f}];const{onSessionStart:A}=r;A&&A(e,Qk(l,this.history)),this.removeListeners=o_(Pw(this.contextWindow,"pointermove",this.handlePointerMove),Pw(this.contextWindow,"pointerup",this.handlePointerUp),Pw(this.contextWindow,"pointercancel",this.handlePointerUp)),c&&this.startScrollTracking(c)}startScrollTracking(e){let r=e.parentElement;for(;r;){const n=getComputedStyle(r);(A7.has(n.overflowX)||A7.has(n.overflowY))&&this.scrollPositions.set(r,{x:r.scrollLeft,y:r.scrollTop}),r=r.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const r=this.scrollPositions.get(e);if(!r)return;const n=e===window,i=n?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},s={x:i.x-r.x,y:i.y-r.y};s.x===0&&s.y===0||(n?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=s.x,this.lastMoveEventInfo.point.y+=s.y):this.history.length>0&&(this.history[0].x-=s.x,this.history[0].y-=s.y),this.scrollPositions.set(e,i),ul.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Up(this.updatePoint)}}function Hk(t,e){return e?{point:e(t.point)}:t}function m7(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Qk({point:t},e){return{point:t,delta:m7(t,Kq(e)),offset:m7(t,Qpe(e)),velocity:Vpe(e,.1)}}function Qpe(t){return t[0]}function Kq(t){return t[t.length-1]}function Vpe(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const i=Kq(t);for(;r>=0&&(n=t[r],!(i.timestamp-n.timestamp>Bp(e)));)r--;if(!n)return{x:0,y:0};const s=Hf(i.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-n.x)/s,y:(i.y-n.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function zpe(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?hc(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?hc(r,t,n.max):Math.min(t,r)),t}function p7(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function Kpe(t,{top:e,left:r,bottom:n,right:i}){return{x:p7(t.x,r,i),y:p7(t.y,e,n)}}function g7(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function Gpe(t,e){return{x:g7(t.x,e.x),y:g7(t.y,e.y)}}function Wpe(t,e){let r=.5;const n=fh(t),i=fh(e);return i>n?r=nE(e.min,e.max-n,t.min):n>i&&(r=nE(t.min,t.max-i,e.min)),Rm(0,1,r)}function Ype(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const m4=.35;function qpe(t=m4){return t===!1?t=0:t===!0&&(t=m4),{x:v7(t,"left","right"),y:v7(t,"top","bottom")}}function v7(t,e,r){return{min:y7(t,e),max:y7(t,r)}}function y7(t,e){return typeof t=="number"?t:t[e]||0}const Xpe=new WeakMap;class Zpe{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Bu(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=f=>{r?(this.stopAnimation(),this.snapToCursor(d_(f).point)):this.pauseAnimation()},a=(f,A)=>{this.stopAnimation();const{drag:p,dragPropagation:v,onDragStart:y}=this.getProps();if(p&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=DAe(p),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=A,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Rf(w=>{let E=this.getAxisMotionValue(w).get()||0;if(Lm.test(E)){const{projection:T}=this.visualElement;if(T&&T.layout){const C=T.layout.layoutBox[w];C&&(E=fh(C)*(parseFloat(E)/100))}}this.originPoint[w]=E}),y&&ul.postRender(()=>y(f,A)),o4(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},c=(f,A)=>{this.latestPointerEvent=f,this.latestPanInfo=A;const{dragPropagation:p,dragDirectionLock:v,onDirectionLock:y,onDrag:x}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:w}=A;if(v&&this.currentDirection===null){this.currentDirection=Jpe(w),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",A.point,w),this.updateAxis("y",A.point,w),this.visualElement.render(),x&&x(f,A)},u=(f,A)=>{this.latestPointerEvent=f,this.latestPanInfo=A,this.stop(f,A),this.latestPointerEvent=null,this.latestPanInfo=null},l=()=>Rf(f=>this.getAnimationState(f)==="paused"&&this.getAxisMotionValue(f).animation?.play()),{dragSnapToOrigin:d}=this.getProps();this.panSession=new zq(e,{onSessionStart:s,onStart:a,onMove:c,onSessionEnd:u,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:n,contextWindow:Vq(this.visualElement),element:this.visualElement.current})}stop(e,r){const n=e||this.latestPointerEvent,i=r||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!n)return;const{velocity:a}=i;this.startAnimation(a);const{onDragEnd:c}=this.getProps();c&&ul.postRender(()=>c(n,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,r,n){const{drag:i}=this.getProps();if(!n||!v2(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=zpe(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){const{dragConstraints:e,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&ew(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=Kpe(n.layoutBox,e):this.constraints=!1,this.elastic=qpe(r),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Rf(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=Ype(n.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!ew(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=rme(n,i.root,this.visualElement.getTransformPagePoint());let a=Gpe(i.layout.layoutBox,s);if(r){const c=r(JAe(a));this.hasMutatedConstraints=!!c,c&&(a=fq(c))}return a}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:c}=this.getProps(),u=this.constraints||{},l=Rf(d=>{if(!v2(d,r,this.currentDirection))return;let f=u&&u[d]||{};a&&(f={min:0,max:0});const A=i?200:1e6,p=i?40:1e7,v={type:"inertia",velocity:n?e[d]:0,bounceStiffness:A,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(d,v)});return Promise.all(l).then(c)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return o4(this.visualElement,e),n.start(nD(e,n,0,r,this.visualElement,!1))}stopAnimation(){Rf(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Rf(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Rf(r=>{const{drag:n}=this.getProps();if(!v2(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(r);if(i&&i.layout){const{min:a,max:c}=i.layout.layoutBox[r],u=s.get()||0;s.set(e[r]-hc(a,c,.5)+u)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!ew(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Rf(a=>{const c=this.getAxisMotionValue(a);if(c&&this.constraints!==!1){const u=c.get();i[a]=Wpe({min:u,max:u},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Rf(a=>{if(!v2(a,e,null))return;const c=this.getAxisMotionValue(a),{min:u,max:l}=this.constraints[a];c.set(hc(u,l,i[a]))})}addListeners(){if(!this.visualElement.current)return;Xpe.set(this.visualElement,this);const e=this.visualElement.current,r=Pw(e,"pointerdown",u=>{const{drag:l,dragListener:d=!0}=this.getProps(),f=u.target,A=f!==e&&oq(f);l&&d&&!A&&this.start(u)}),n=()=>{const{dragConstraints:u}=this.getProps();ew(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),ul.read(n);const a=oE(window,"resize",()=>this.scalePositionWithinConstraints()),c=i.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:l})=>{this.isDragging&&l&&(Rf(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=u[d].translate,f.set(f.get()+u[d].translate))}),this.visualElement.render())}));return()=>{a(),r(),s(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=m4,dragMomentum:c=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:c}}}function v2(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function Jpe(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class ege extends I0{constructor(e){super(e),this.removeGroupControls=zf,this.removeListeners=zf,this.controls=new Zpe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||zf}update(){const{dragControls:e}=this.node.getProps(),{dragControls:r}=this.node.prevProps||{};e!==r&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const x7=t=>(e,r)=>{t&&ul.postRender(()=>t(e,r))};class tge extends I0{constructor(){super(...arguments),this.removePointerDownListener=zf}onPointerDown(e){this.session=new zq(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Vq(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:x7(e),onStart:x7(r),onMove:n,onEnd:(s,a)=>{delete this.session,i&&ul.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=Pw(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Vk=!1;class rge extends k.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:s}=e;s&&(r.group&&r.group.add(s),n&&n.register&&i&&n.register(s),Vk&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),kS.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:i,isPresent:s}=this.props,{projection:a}=n;return a&&(a.isPresent=s,e.layoutDependency!==r&&a.setOptions({...a.options,layoutDependency:r}),Vk=!0,i||e.layoutDependency!==r||r===void 0||e.isPresent!==s?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||ul.postRender(()=>{const c=a.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),oD.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=e;Vk=!0,i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Gq(t){const[e,r]=Pq(),n=k.useContext(FR);return o.jsx(rge,{...t,layoutGroup:n,switchLayoutGroup:k.useContext(Hq),isPresent:e,safeToRemove:r})}const nge={pan:{Feature:tge},drag:{Feature:ege,ProjectionNode:Oq,MeasureLayout:Gq}};function b7(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,s=n[i];s&&ul.postRender(()=>s(e,d_(e)))}class ige extends I0{mount(){const{current:e}=this.node;e&&(this.unmount=MAe(e,(r,n)=>(b7(this.node,n,"Start"),i=>b7(this.node,i,"End"))))}unmount(){}}class sge extends I0{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=o_(oE(this.node.current,"focus",()=>this.onFocus()),oE(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function w7(t,e,r){const{props:n}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),s=n[i];s&&ul.postRender(()=>s(e,d_(e)))}class age extends I0{mount(){const{current:e}=this.node;e&&(this.unmount=$Ae(e,(r,n)=>(w7(this.node,n,"Start"),(i,{success:s})=>w7(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const p4=new WeakMap,zk=new WeakMap,oge=t=>{const e=p4.get(t.target);e&&e(t)},lge=t=>{t.forEach(oge)};function cge({root:t,...e}){const r=t||document;zk.has(r)||zk.set(r,{});const n=zk.get(r),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(lge,{root:t,...e})),n[i]}function uge(t,e,r){const n=cge(e);return p4.set(t,r),n.observe(t),()=>{p4.delete(t),n.unobserve(t)}}const dge={some:0,all:1};class hge extends I0{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:s}=e,a={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:dge[i]},c=u=>{const{isIntersecting:l}=u;if(this.isInView===l||(this.isInView=l,s&&!l&&this.hasEnteredView))return;l&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",l);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),A=l?d:f;A&&A(u)};return uge(this.node.current,a,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(fge(e,r))&&this.startObserver()}unmount(){}}function fge({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const Age={inView:{Feature:hge},tap:{Feature:age},focus:{Feature:sge},hover:{Feature:ige}},mge={layout:{ProjectionNode:Oq,MeasureLayout:Gq}},pge={...Upe,...Age,...nge,...mge},Kr=Ppe(pge,Rpe);function Wq(t){const e=a_(()=>Jv(t)),{isStatic:r}=k.useContext(u_);if(r){const[,n]=k.useState(t);k.useEffect(()=>e.on("change",n),[])}return e}function Yq(t,e){const r=Wq(e()),n=()=>r.set(e());return n(),UR(()=>{const i=()=>ul.preRender(n,!1,!0),s=t.map(a=>a.on("change",i));return()=>{s.forEach(a=>a()),Up(n)}}),r}function gge(t){Bw.current=[],t();const e=Yq(Bw.current,t);return Bw.current=void 0,e}function qq(t,e,r,n){if(typeof t=="function")return gge(t);const s=typeof e=="function"?e:QAe(e,r,n);return Array.isArray(t)?E7(t,s):E7([t],([a])=>s(a))}function E7(t,e){const r=a_(()=>[]);return Yq(t,()=>{r.length=0;const n=t.length;for(let i=0;i<n;i++)r[i]=t[i].get();return e(r)})}function vge(t,e={}){const{isStatic:r}=k.useContext(u_),n=()=>ud(t)?t.get():t;if(r)return qq(n);const i=Wq(n());return k.useInsertionEffect(()=>VAe(i,t,e),[i,JSON.stringify(e)]),i}function yge(t,e={}){return vge(t,{type:"spring",...e})}const _7=[{path:"/",label:"Home"},{path:"/live",label:"Live Events"},{path:"/services",label:"Services"},{path:"/work",label:"Our Work"},{path:"/content",label:"Athlete Content Order"},{path:"/proposal",label:"Free Analysis"},{path:"/contact",label:"Contact"}],xge=()=>{const[t,e]=k.useState(!1),[r,n]=k.useState(!1),i=vf();return k.useEffect(()=>{const s=()=>n(window.scrollY>20);return window.addEventListener("scroll",s),()=>window.removeEventListener("scroll",s)},[]),k.useEffect(()=>{e(!1)},[i]),o.jsxs("nav",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${r?"bg-dark-950/95 backdrop-blur-md border-b border-gray-800/50 shadow-lg":"bg-transparent"}`,children:[o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6",children:o.jsxs("div",{className:"flex items-center justify-between h-16 sm:h-20",children:[o.jsx(Ks,{to:"/",className:"flex items-center gap-2 group",children:o.jsxs("span",{className:"text-xl sm:text-2xl font-black tracking-wider",children:[o.jsx("span",{className:"text-gradient",children:"FIT FOCUS"})," ",o.jsx("span",{className:"text-white group-hover:text-primary-400 transition-colors",children:"MEDIA"})]})}),o.jsxs("div",{className:"hidden md:flex items-center gap-1",children:[_7.map(s=>o.jsx(Ks,{to:s.path,className:`px-4 py-2 rounded-lg text-sm font-semibold transition-all ${i.pathname===s.path?"text-primary-400 bg-primary-600/10":"text-gray-300 hover:text-white hover:bg-white/5"}`,children:s.label},s.path)),o.jsx(Ks,{to:"/portal",className:"ml-2 px-4 py-2 text-sm font-semibold text-gray-400 hover:text-white hover:bg-white/5 rounded-lg transition-all",children:"Portal"}),o.jsx(Ks,{to:"/proposal",className:"ml-1 px-5 py-2.5 bg-primary-600 hover:bg-primary-700 text-white font-bold rounded-lg text-sm transition-all hover:scale-105",children:"Get Started"})]}),o.jsx("button",{onClick:()=>e(!t),className:"md:hidden p-2 text-gray-300 hover:text-white",children:t?o.jsx(Zv,{className:"w-6 h-6"}):o.jsx(sY,{className:"w-6 h-6"})})]})}),o.jsx(Mv,{children:t&&o.jsx(Kr.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden bg-dark-950/98 backdrop-blur-md border-b border-gray-800",children:o.jsxs("div",{className:"px-4 py-4 space-y-1",children:[_7.map(s=>o.jsx(Ks,{to:s.path,className:`block px-4 py-3 rounded-lg text-base font-semibold transition-all ${i.pathname===s.path?"text-primary-400 bg-primary-600/10":"text-gray-300 hover:text-white hover:bg-white/5"}`,children:s.label},s.path)),o.jsx(Ks,{to:"/portal",className:"block px-4 py-3 rounded-lg text-base font-semibold text-gray-400 hover:text-white hover:bg-white/5 transition-all",children:"Portal"}),o.jsx(Ks,{to:"/proposal",className:"block mt-3 px-4 py-3 bg-primary-600 hover:bg-primary-700 text-white font-bold rounded-lg text-center transition-all",children:"Get Your Free Analysis"})]})})})]})},bge=()=>o.jsx("footer",{className:"bg-dark-950 border-t border-gray-800",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-12 sm:py-16",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 sm:gap-12",children:[o.jsxs("div",{className:"md:col-span-2",children:[o.jsx(Ks,{to:"/",className:"inline-block mb-4",children:o.jsxs("span",{className:"text-2xl font-black tracking-wider",children:[o.jsx("span",{className:"text-gradient",children:"FIT FOCUS"})," ",o.jsx("span",{className:"text-white",children:"MEDIA"})]})}),o.jsx("p",{className:"text-gray-400 text-sm leading-relaxed max-w-md mb-6",children:"Professional live production for combat sports. We produce your events at zero cost and help you unlock new revenue streams through PPV, content, and sponsorship opportunities."}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("a",{href:"https://instagram.com/fitfocusmedia",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 bg-dark-800 hover:bg-primary-600/20 border border-gray-700 hover:border-primary-600 rounded-lg flex items-center justify-center transition-all",children:o.jsx(AN,{className:"w-5 h-5 text-gray-400 hover:text-primary-400"})}),o.jsx("a",{href:"https://youtube.com/@fitfocusmedia",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 bg-dark-800 hover:bg-primary-600/20 border border-gray-700 hover:border-primary-600 rounded-lg flex items-center justify-center transition-all",children:o.jsx(dY,{className:"w-5 h-5 text-gray-400 hover:text-primary-400"})}),o.jsx("a",{href:"https://facebook.com/FitFocusMedia",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 bg-dark-800 hover:bg-primary-600/20 border border-gray-700 hover:border-primary-600 rounded-lg flex items-center justify-center transition-all",children:o.jsx(i_,{className:"w-5 h-5 text-gray-400 hover:text-primary-400"})})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-white font-bold mb-4",children:"Quick Links"}),o.jsx("ul",{className:"space-y-2",children:[{to:"/services",label:"Services"},{to:"/work",label:"Our Work"},{to:"/proposal",label:"Free Analysis"},{to:"/contact",label:"Contact"}].map(t=>o.jsx("li",{children:o.jsx(Ks,{to:t.to,className:"text-gray-400 hover:text-primary-400 text-sm transition-colors",children:t.label})},t.to))})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-white font-bold mb-4",children:"Contact"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("a",{href:"mailto:info@fitfocusmedia.com.au",className:"flex items-center gap-2 text-gray-400 hover:text-primary-400 text-sm transition-colors",children:[o.jsx(hf,{className:"w-4 h-4"}),"info@fitfocusmedia.com.au"]}),o.jsx("p",{className:"text-gray-500 text-xs",children:"Based in Queensland, Australia"}),o.jsx("p",{className:"text-gray-500 text-xs",children:"Servicing events Australia-wide + International"})]})]})]}),o.jsxs("div",{className:"mt-12 pt-6 border-t border-gray-800 flex flex-col sm:flex-row justify-between items-center gap-4",children:[o.jsxs("p",{className:"text-gray-500 text-xs",children:[" ",new Date().getFullYear()," Fit Focus Media. All rights reserved."]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-gray-600 text-xs",children:"Professional Combat Sports Production"}),o.jsxs("p",{className:"text-gray-700 text-[10px] mt-1",children:["v","260222.1133"]})]})]})]})}),Ss="/",Kk=[`${Ss}images/hero/aggression-hero-1.jpg`,`${Ss}images/hero/aggression-hero-2.jpg`,`${Ss}images/hero/aggression-hero-3.jpg`,`${Ss}images/hero/wng1-hero-1.jpg`,`${Ss}images/hero/wng1-hero-2.jpg`],Lc={wng1:[{src:`${Ss}images/events/wng1/wng1-01226.jpg`,alt:"WNG1 Grappling Action",category:"events"},{src:`${Ss}images/events/wng1/wng1-01675.jpg`,alt:"WNG1 Competition",category:"events"},{src:`${Ss}images/events/wng1/wng1-02953.jpg`,alt:"WNG1 Match",category:"events"},{src:`${Ss}images/events/wng1/wng1-05237.jpg`,alt:"WNG1 Event Atmosphere",category:"events"},{src:`${Ss}images/events/wng1/wng1-02527.jpg`,alt:"WNG1 Action Shot",category:"events"},{src:`${Ss}images/events/wng1/wng1-01588.jpg`,alt:"WNG1 Grappling",category:"events"}],wng2:[{src:`${Ss}images/events/wng2/wng2-09820.jpg`,alt:"WNG2 Competition",category:"events"},{src:`${Ss}images/events/wng2/wng2-08613.jpg`,alt:"WNG2 Grappling Action",category:"events"},{src:`${Ss}images/events/wng2/wng2-01906.jpg`,alt:"WNG2 Match",category:"events"},{src:`${Ss}images/events/wng2/wng2-09420.jpg`,alt:"WNG2 Event",category:"events"},{src:`${Ss}images/events/wng2/wng2-07770.jpg`,alt:"WNG2 Action",category:"events"},{src:`${Ss}images/events/wng2/wng2-09170.jpg`,alt:"WNG2 Competition",category:"events"}],aggression:[{src:`${Ss}images/events/aggression/aggression-06388.jpg`,alt:"Aggression Muay Thai Fight",category:"events"},{src:`${Ss}images/events/aggression/aggression-06742.jpg`,alt:"Aggression Ring Action",category:"events"},{src:`${Ss}images/events/aggression/aggression-06140.jpg`,alt:"Aggression Muay Thai",category:"events"},{src:`${Ss}images/events/aggression/aggression-05876.jpg`,alt:"Aggression Fight Night",category:"events"},{src:`${Ss}images/events/aggression/aggression-06843.jpg`,alt:"Aggression MT Event",category:"events"}],athletes:[{src:`${Ss}images/athletes/wng1-promo/athlete-00666.jpg`,alt:"Athlete Promo - WNG1",category:"athletes"},{src:`${Ss}images/athletes/wng1-promo/athlete-00559.jpg`,alt:"Fighter Portrait",category:"athletes"},{src:`${Ss}images/athletes/wng1-promo/athlete-00669.jpg`,alt:"Athlete Promo Shot",category:"athletes"},{src:`${Ss}images/athletes/wng1-promo/athlete-00601.jpg`,alt:"Fighter Promo",category:"athletes"},{src:`${Ss}images/athletes/wng1-promo/athlete-00692.jpg`,alt:"WNG1 Fighter",category:"athletes"},{src:`${Ss}images/athletes/wng1-promo/athlete-00485.jpg`,alt:"Athlete Portrait",category:"athletes"},{src:`${Ss}images/athletes/wng2-promo/athlete-06134.jpg`,alt:"WNG2 Athlete Promo",category:"athletes"},{src:`${Ss}images/athletes/wng2-promo/athlete-06092.jpg`,alt:"WNG2 Fighter Portrait",category:"athletes"},{src:`${Ss}images/athletes/wng2-promo/athlete-05913.jpg`,alt:"WNG2 Promo Shot",category:"athletes"},{src:`${Ss}images/athletes/wng2-promo/athlete-06067.jpg`,alt:"WNG2 Athlete",category:"athletes"},{src:`${Ss}images/athletes/wng2-promo/athlete-06031.jpg`,alt:"Fighter Promo WNG2",category:"athletes"},{src:`${Ss}images/athletes/wng2-promo/athlete-05884.jpg`,alt:"WNG2 Fighter",category:"athletes"},{src:`${Ss}images/athletes/headshots/headshot-00670.jpg`,alt:"Professional Headshot",category:"athletes"},{src:`${Ss}images/athletes/headshots/headshot-00667.jpg`,alt:"Gi Headshot",category:"athletes"},{src:`${Ss}images/athletes/headshots/headshot-00669.jpg`,alt:"Athlete Headshot",category:"athletes"},{src:`${Ss}images/athletes/headshots/headshot-00678.jpg`,alt:"BJJ Headshot",category:"athletes"}],gym:[{src:`${Ss}images/gym/bjj/bjj-08397.jpg`,alt:"One Purpose BJJ Training",category:"promo"},{src:`${Ss}images/gym/bjj/bjj-08410.jpg`,alt:"BJJ Class",category:"promo"},{src:`${Ss}images/gym/bjj/bjj-08478.jpg`,alt:"BJJ Training Environment",category:"promo"},{src:`${Ss}images/gym/bjj/bjj-08390.jpg`,alt:"One Purpose BJJ",category:"promo"},{src:`${Ss}images/gym/bjj/bjj-08467.jpg`,alt:"BJJ Rolling",category:"promo"},{src:`${Ss}images/gym/stuart/stuart-06855.jpg`,alt:"Fight House Industries",category:"promo"},{src:`${Ss}images/gym/stuart/stuart-07156.jpg`,alt:"Fight House Training",category:"promo"},{src:`${Ss}images/gym/stuart/stuart-04954.jpg`,alt:"Gym Environment",category:"promo"},{src:`${Ss}images/gym/stuart/stuart-07504.jpg`,alt:"Class Photos",category:"promo"},{src:`${Ss}images/gym/stuart/stuart-07260.jpg`,alt:"Training Session",category:"promo"}]},S7=[...Lc.wng1,...Lc.wng2,...Lc.aggression,...Lc.athletes,...Lc.gym],wge=[Lc.aggression[0],Lc.wng1[0],Lc.athletes[0],Lc.wng2[0],Lc.gym[0],Lc.wng1[2],Lc.athletes[6],Lc.aggression[3]],Ege=[{id:"wng1",name:"Who's Next Grappling",shortName:"WNG1",description:"Professional grappling event coverage with multi-camera production and athlete promo shoots.",images:Lc.wng1,tags:["Event","Grappling","Live Production"]},{id:"wng2",name:"Who's Next Grappling 2",shortName:"WNG2",description:"Second edition of WNG featuring expanded coverage, athlete content packages, and PPV streaming.",images:Lc.wng2,tags:["Event","Grappling","PPV"]},{id:"aggression",name:"Aggression Muay Thai",shortName:"Aggression MT",description:"High-energy Muay Thai fight night with dramatic ring-side photography and broadcast production.",images:Lc.aggression,tags:["Event","Muay Thai","Fight Night"]},{id:"athletes",name:"Athlete Promo Shoots",shortName:"Athletes",description:"Professional athlete portraits and promotional imagery for fighters across multiple events.",images:Lc.athletes,tags:["Athletes","Portraits","Promo"]},{id:"gym",name:"Gym & Training",shortName:"Gym/Training",description:"Training environment photography for gyms including One Purpose BJJ and Fight House Industries.",images:Lc.gym,tags:["Gym","Training","Content"]}],_ge=()=>{const[t,e]=k.useState(0);return k.useEffect(()=>{const r=setInterval(()=>{e(n=>(n+1)%Kk.length)},5e3);return()=>clearInterval(r)},[]),o.jsxs("div",{children:[o.jsxs("section",{className:"relative min-h-screen flex items-center justify-center overflow-hidden",children:[Kk.map((r,n)=>o.jsx("div",{className:"absolute inset-0 transition-opacity duration-1000",style:{opacity:n===t?1:0},children:o.jsx("img",{src:r,alt:"",className:"w-full h-full object-cover",loading:n===0?"eager":"lazy"})},r)),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-dark-950/70 via-dark-950/60 to-dark-950/90"}),o.jsxs("div",{className:"relative z-10 text-center px-4 sm:px-6 max-w-6xl mx-auto py-20",children:[o.jsxs(Kr.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[o.jsxs(Kr.h1,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2,duration:.6},className:"text-5xl sm:text-6xl md:text-8xl font-black mb-6 leading-tight",children:[o.jsx("span",{className:"text-gradient",children:"FIT FOCUS"}),o.jsx("br",{}),o.jsx("span",{className:"text-white",children:"MEDIA"})]}),o.jsxs(Kr.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6,duration:.8},children:[o.jsx("p",{className:"text-xl sm:text-2xl md:text-3xl text-gray-200 mb-4 max-w-3xl mx-auto font-semibold",children:"Professional Live Production for Combat Sports"}),o.jsx("p",{className:"text-lg sm:text-xl text-gray-400 mb-10 max-w-2xl mx-auto",children:"Zero-cost production  You earn revenue from PPV  Professional broadcast quality"})]}),o.jsxs(Kr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1,duration:.6},className:"flex flex-col sm:flex-row gap-4 justify-center",children:[o.jsxs(Ks,{to:"/proposal",className:"group px-8 py-4 bg-primary-600 hover:bg-primary-700 text-white font-black rounded-lg text-lg transition-all hover:scale-105 card-glow inline-flex items-center justify-center gap-3",children:["Get Your Free Analysis",o.jsx(uf,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]}),o.jsx(Ks,{to:"/work",className:"px-8 py-4 bg-white/10 hover:bg-white/20 backdrop-blur-sm text-white font-bold rounded-lg text-lg transition-all border border-white/20 hover:border-white/40 inline-flex items-center justify-center gap-3",children:"View Our Work"}),o.jsx(Ks,{to:"/book",className:"px-8 py-4 bg-accent-600 hover:bg-accent-700 text-white font-bold rounded-lg text-lg transition-all inline-flex items-center justify-center gap-3 hover:scale-105",children:" Book a Call"})]})]}),o.jsx("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 flex gap-2",children:Kk.map((r,n)=>o.jsx("button",{onClick:()=>e(n),className:`w-2 h-2 rounded-full transition-all ${n===t?"bg-primary-500 w-6":"bg-white/40 hover:bg-white/60"}`},n))})]})]}),o.jsx("section",{className:"bg-dark-900 border-y border-gray-800",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-8 sm:py-12",children:o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-6 sm:gap-8",children:[{icon:Rue,value:"25+",label:"Live Events Covered"},{icon:tY,value:"4",label:"Countries Worldwide"},{icon:Hb,value:"50K+",label:"Viewers Reached"},{icon:s_,value:"100%",label:"Client Satisfaction"}].map((r,n)=>o.jsxs(Kr.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:n*.1},className:"text-center",children:[o.jsx(r.icon,{className:"w-6 h-6 sm:w-8 sm:h-8 text-primary-500 mx-auto mb-2"}),o.jsx("p",{className:"text-2xl sm:text-3xl md:text-4xl font-black text-primary-500",children:r.value}),o.jsx("p",{className:"text-xs sm:text-sm text-gray-400 mt-1",children:r.label})]},n))})})}),o.jsx("section",{className:"py-16 sm:py-24 px-4 sm:px-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs(Kr.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-12 sm:mb-16",children:[o.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-black mb-4",children:o.jsx("span",{className:"text-gradient",children:"What We Do"})}),o.jsx("p",{className:"text-lg sm:text-xl text-gray-400 max-w-2xl mx-auto",children:"End-to-end media production designed specifically for combat sports promotions"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 sm:gap-8",children:[{icon:Im,title:"Live Streaming & PPV",description:"Professional multi-camera broadcast production with PPV platform setup and management. We handle the tech  you focus on the event.",features:["Multi-camera production","PPV platform management","Live graphics & overlays","Instant replay capability"]},{icon:nC,title:"Event Photography",description:"Ring-side action shots, athlete portraits, crowd atmosphere, and winners ceremony  delivered as a complete digital gallery.",features:["Full event coverage","Action photography","Athlete portraits","Same-week delivery"]},{icon:fy,title:"Content Production",description:"Social media highlights, fight recaps, promotional content, and ongoing content strategy to grow your audience between events.",features:["Social media clips","Highlight reels","Fighter promo content","Content strategy"]}].map((r,n)=>o.jsxs(Kr.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:n*.15},className:"bg-dark-800 border border-gray-700 rounded-xl p-6 sm:p-8 hover:border-primary-600/50 transition-all hover-lift group",children:[o.jsx("div",{className:"w-14 h-14 bg-primary-600/20 rounded-xl flex items-center justify-center mb-6 group-hover:bg-primary-600/30 transition-colors",children:o.jsx(r.icon,{className:"w-7 h-7 text-primary-500"})}),o.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-3",children:r.title}),o.jsx("p",{className:"text-gray-400 text-sm sm:text-base mb-4 leading-relaxed",children:r.description}),o.jsx("ul",{className:"space-y-2",children:r.features.map((i,s)=>o.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-300",children:[o.jsx("div",{className:"w-1.5 h-1.5 bg-primary-500 rounded-full"}),i]},s))})]},n))}),o.jsx("div",{className:"text-center mt-10",children:o.jsxs(Ks,{to:"/services",className:"inline-flex items-center gap-2 text-primary-400 hover:text-primary-300 font-semibold transition-colors",children:["View All Services ",o.jsx(uf,{className:"w-4 h-4"})]})})]})}),o.jsx("section",{className:"py-16 sm:py-24 px-4 sm:px-6 bg-dark-900/50",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs(Kr.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-12 sm:mb-16",children:[o.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-black mb-4",children:o.jsx("span",{className:"text-gradient",children:"Featured Work"})}),o.jsx("p",{className:"text-lg sm:text-xl text-gray-400 max-w-2xl mx-auto",children:"From ring-side action to athlete promo shoots  see what professional media coverage looks like"})]}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4",children:wge.map((r,n)=>o.jsxs(Kr.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{delay:n*.05},className:`gallery-item rounded-xl overflow-hidden cursor-pointer ${n===0||n===3?"md:row-span-2":""}`,children:[o.jsx("img",{src:r.src,alt:r.alt,className:"w-full h-full object-cover min-h-[200px]",loading:"lazy"}),o.jsx("div",{className:"overlay flex items-end p-4",children:o.jsx("p",{className:"text-white text-sm font-semibold",children:r.alt})})]},n))}),o.jsx("div",{className:"text-center mt-10",children:o.jsxs(Ks,{to:"/work",className:"inline-flex items-center gap-2 px-6 py-3 bg-primary-600 hover:bg-primary-700 text-white font-bold rounded-lg transition-all hover:scale-105",children:["View Full Portfolio ",o.jsx(uf,{className:"w-4 h-4"})]})})]})}),o.jsx("section",{className:"py-16 sm:py-24 px-4 sm:px-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs(Kr.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-12 sm:mb-16",children:[o.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-black mb-4",children:o.jsx("span",{className:"text-gradient",children:"How It Works"})}),o.jsx("p",{className:"text-lg sm:text-xl text-gray-400 max-w-2xl mx-auto",children:"Professional production at zero cost. Here's our model."})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-5xl mx-auto",children:[{step:"01",title:"We Produce Your Event",description:"Full professional multi-camera production, live switching, graphics, and streaming setup  completely handled by our team.",color:"from-primary-600 to-orange-600"},{step:"02",title:"Fans Purchase PPV",description:"Your audience buys PPV access at $20-30. We handle the platform, payment processing, and viewer experience.",color:"from-orange-600 to-amber-600"},{step:"03",title:"You Earn Revenue",description:"You receive a share of every PPV sale. Zero upfront cost, zero risk  just new revenue from viewers you weren't reaching before.",color:"from-amber-600 to-green-600"}].map((r,n)=>o.jsxs(Kr.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:n*.2},className:"text-center",children:[o.jsx("div",{className:`inline-flex items-center justify-center w-20 h-20 rounded-2xl bg-gradient-to-br ${r.color} mb-6`,children:o.jsx("span",{className:"text-3xl font-black text-white",children:r.step})}),o.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-3",children:r.title}),o.jsx("p",{className:"text-gray-400 text-sm sm:text-base leading-relaxed",children:r.description})]},n))}),o.jsx(Kr.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"mt-12 sm:mt-16 max-w-3xl mx-auto",children:o.jsxs("div",{className:"bg-gradient-to-r from-green-900/30 to-emerald-900/30 border-2 border-green-600/50 rounded-xl p-6 sm:p-8 text-center",children:[o.jsx(k0,{className:"w-10 h-10 text-green-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-2xl sm:text-3xl font-black text-white mb-3",children:"Your Cost: $0"}),o.jsx("p",{className:"text-gray-300 text-sm sm:text-base leading-relaxed max-w-xl mx-auto",children:"We cover all production costs. You pay nothing upfront. You earn revenue from PPV sales that you weren't making before. It's literally free money + professional coverage."})]})})]})}),o.jsx("section",{className:"py-16 sm:py-24 px-4 sm:px-6 bg-dark-900/50",children:o.jsx("div",{className:"max-w-4xl mx-auto text-center",children:o.jsxs(Kr.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:[o.jsx("div",{className:"flex justify-center mb-6",children:[1,2,3,4,5].map(r=>o.jsx("svg",{className:"w-6 h-6 sm:w-8 sm:h-8 text-amber-500",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},r))}),o.jsx("blockquote",{className:"text-xl sm:text-2xl md:text-3xl text-gray-200 font-semibold italic mb-6 leading-relaxed",children:'"Professional coverage, quick turnaround on highlights, and our sponsors loved the exposure. The zero-cost model meant we could invest in growing other areas of our event."'}),o.jsx("p",{className:"text-gray-500 text-sm sm:text-base",children:" Combat Sports Promoter, QLD"})]})})}),o.jsx("section",{className:"py-16 sm:py-24 px-4 sm:px-6",children:o.jsx("div",{className:"max-w-4xl mx-auto text-center",children:o.jsxs(Kr.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:[o.jsxs("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-black mb-6",children:["Ready to ",o.jsx("span",{className:"text-gradient",children:"Elevate Your Event?"})]}),o.jsx("p",{className:"text-lg sm:text-xl text-gray-400 mb-8 max-w-2xl mx-auto",children:"Get a free analysis of your organization and see exactly how much revenue professional media coverage could generate. Zero commitment."}),o.jsxs(Ks,{to:"/proposal",className:"group inline-flex items-center gap-3 px-10 py-5 bg-primary-600 hover:bg-primary-700 text-white font-black rounded-lg text-xl transition-all hover:scale-105 card-glow",children:["Get Your Free Analysis",o.jsx(uf,{className:"w-6 h-6 group-hover:translate-x-1 transition-transform"})]}),o.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"Takes 2 minutes  No commitment required"})]})})})]})},Sge=[{id:"livestream",icon:Im,title:"Live Stream & PPV Production",tagline:"Broadcast-quality live production at zero cost",description:"We handle everything  from multi-camera setup and live switching to PPV platform management and viewer experience. Your audience gets a professional broadcast; you get revenue.",image:Lc.wng1[0].src,features:["Professional multi-camera production (1-4 cameras)","PTZ cameras for dynamic angles","Live switching and production","Custom broadcast graphics and overlays","Instant replay capability","PPV platform setup and management","Payment processing and viewer analytics","Full show recording for VOD"],highlight:"Zero upfront cost  we earn from production, you earn from PPV revenue share."},{id:"photography",icon:nC,title:"Event Photography & Videography",tagline:"Every moment captured in stunning detail",description:"Dedicated ring-side photographers capturing the intensity of every fight, the emotion of every victory, and the atmosphere of your entire event. Delivered as a complete digital gallery.",image:Lc.aggression[0].src,features:["Full event coverage from doors to finish","Ring-side action photography","Athlete portraits and walk-outs","Winners and awards ceremony","Crowd and atmosphere shots","Behind-the-scenes content","Complete digital gallery delivery","Same-week turnaround"],highlight:"Professional photography that athletes share, sponsors love, and audiences remember."},{id:"content",icon:fy,title:"Content Packages",tagline:"Social media content that grows your audience",description:"From event highlight reels to fighter promo clips, we create content designed for maximum reach. Short-form vertical edits for Reels/TikTok, YouTube-ready highlights, and everything in between.",image:Lc.athletes[0].src,features:["5-10 social media clips per event","Event highlight reel (3-5 minutes)","Short-form vertical edits (Reels/TikTok)","Individual fight/match recordings","Fighter promo content","Custom fight banner graphics","Same-day highlight delivery","YouTube-ready formats"],highlight:"Content that keeps your promotion visible 365 days a year  not just on event night."},{id:"strategy",icon:cY,title:"Ongoing Content Strategy",tagline:"Build a media empire around your promotion",description:"Monthly content calendars, audience growth strategy, between-event content creation, and analytics-driven optimization. We become your dedicated media team.",image:Lc.gym[5].src,features:["Monthly content calendar","Audience growth strategy","Between-event content creation","Analytics and performance tracking","Platform optimization (IG, YouTube, TikTok)","Dedicated account manager","Sponsor integration strategy","Quarterly performance reviews"],highlight:"From promoter to media brand  we help you build an audience that sells out every event."}],Tge=()=>o.jsxs("div",{className:"pt-20 sm:pt-24",children:[o.jsx("section",{className:"py-12 sm:py-20 px-4 sm:px-6",children:o.jsx("div",{className:"max-w-7xl mx-auto text-center",children:o.jsxs(Kr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[o.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-black mb-6",children:o.jsx("span",{className:"text-gradient",children:"Our Services"})}),o.jsx("p",{className:"text-lg sm:text-xl text-gray-400 max-w-3xl mx-auto mb-8",children:"End-to-end media production built specifically for combat sports. From live broadcast to athlete content  we've got every angle covered."}),o.jsxs("div",{className:"inline-flex items-center gap-2 bg-green-900/30 border border-green-600/50 px-5 py-3 rounded-full",children:[o.jsx(MR,{className:"w-5 h-5 text-green-400"}),o.jsx("span",{className:"text-green-300 font-semibold text-sm sm:text-base",children:"Live stream production available at zero cost"})]})]})})}),Sge.map((t,e)=>o.jsx("section",{className:`py-12 sm:py-20 px-4 sm:px-6 ${e%2===1?"bg-dark-900/50":""}`,children:o.jsx("div",{className:"max-w-7xl mx-auto",children:o.jsxs("div",{className:`grid grid-cols-1 lg:grid-cols-2 gap-8 sm:gap-12 items-center ${e%2===1?"lg:flex-row-reverse":""}`,children:[o.jsx(Kr.div,{initial:{opacity:0,x:e%2===0?-30:30},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},className:`${e%2===1?"lg:order-2":""}`,children:o.jsx("div",{className:"rounded-xl overflow-hidden border border-gray-700",children:o.jsx("img",{src:t.image,alt:t.title,className:"w-full h-[300px] sm:h-[400px] object-cover",loading:"lazy"})})}),o.jsxs(Kr.div,{initial:{opacity:0,x:e%2===0?30:-30},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},className:`${e%2===1?"lg:order-1":""}`,children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx("div",{className:"w-12 h-12 bg-primary-600/20 rounded-xl flex items-center justify-center",children:o.jsx(t.icon,{className:"w-6 h-6 text-primary-500"})}),o.jsx("span",{className:"text-primary-400 text-sm font-bold uppercase tracking-wider",children:t.tagline})]}),o.jsx("h2",{className:"text-3xl sm:text-4xl font-black text-white mb-4",children:t.title}),o.jsx("p",{className:"text-gray-400 text-base sm:text-lg mb-6 leading-relaxed",children:t.description}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 mb-6",children:t.features.map((r,n)=>o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(tl,{className:"w-4 h-4 text-green-400 flex-shrink-0 mt-1"}),o.jsx("span",{className:"text-gray-300 text-sm",children:r})]},n))}),o.jsx("div",{className:"p-4 bg-primary-600/10 border border-primary-600/30 rounded-lg mb-6",children:o.jsxs("p",{className:"text-primary-300 text-sm font-semibold",children:[" ",t.highlight]})})]})]})})},t.id)),o.jsx("section",{className:"py-16 sm:py-24 px-4 sm:px-6 bg-dark-900/50",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs(Kr.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-12 sm:mb-16",children:[o.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-black mb-4",children:o.jsx("span",{className:"text-gradient",children:"Tailored Packages"})}),o.jsx("p",{className:"text-lg sm:text-xl text-gray-400 max-w-2xl mx-auto",children:"Every promotion is different. Our proposal tool analyzes your organization and recommends the perfect package."})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 sm:gap-8 max-w-5xl mx-auto",children:[{name:"Essentials",range:"$1,500 - $2,500",desc:"Core add-ons on top of free production",features:["Free live stream production","Fight recordings","Social media clips","Custom graphics"]},{name:"Professional",range:"$3,000 - $4,000",desc:"Everything you need to level up",features:["Everything in Essentials","Event photography","Premium camera setup","Highlight reels"],popular:!0},{name:"Broadcast",range:"$4,500 - $6,500",desc:"Full media partnership",features:["Everything in Professional","Ongoing content strategy","Dedicated account manager","Priority scheduling"]}].map((t,e)=>o.jsxs(Kr.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:e*.15},className:`bg-dark-800 border-2 rounded-xl p-6 sm:p-8 relative ${t.popular?"border-primary-600 card-glow":"border-gray-700"}`,children:[t.popular&&o.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2",children:o.jsx("span",{className:"bg-primary-600 text-white text-xs font-bold px-4 py-1 rounded-full",children:"MOST POPULAR"})}),o.jsx("h3",{className:"text-2xl font-black text-white mb-2",children:t.name}),o.jsx("p",{className:"text-primary-400 font-bold text-lg mb-2",children:t.range}),o.jsx("p",{className:"text-gray-500 text-sm mb-6",children:t.desc}),o.jsx("ul",{className:"space-y-3 mb-6",children:t.features.map((r,n)=>o.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-300",children:[o.jsx(tl,{className:"w-4 h-4 text-green-400 flex-shrink-0 mt-0.5"}),r]},n))})]},e))}),o.jsxs("div",{className:"text-center mt-10",children:[o.jsxs(Ks,{to:"/proposal",className:"group inline-flex items-center gap-3 px-8 py-4 bg-primary-600 hover:bg-primary-700 text-white font-black rounded-lg text-lg transition-all hover:scale-105 card-glow",children:["Get Your Custom Package",o.jsx(uf,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]}),o.jsx("p",{className:"text-gray-500 text-sm mt-3",children:"Our proposal tool will recommend the perfect package for your organization"})]})]})})]}),Cge=[{id:"all",label:"All"},{id:"events",label:"Events"},{id:"athletes",label:"Athletes"},{id:"promo",label:"Promo"}],jge=()=>{const[t,e]=k.useState("all"),[r,n]=k.useState(null),[i,s]=k.useState(null),[a,c]=k.useState(0),[u,l]=k.useState([]),d=t==="all"?S7:S7.filter(y=>y.category===t),f=(y,x)=>{l(y),c(x),s(y[x])},A=()=>{s(null),l([])},p=()=>{const y=(a+1)%u.length;c(y),s(u[y])},v=()=>{const y=(a-1+u.length)%u.length;c(y),s(u[y])};return o.jsxs("div",{className:"pt-20 sm:pt-24",children:[o.jsx("section",{className:"py-12 sm:py-20 px-4 sm:px-6",children:o.jsx("div",{className:"max-w-7xl mx-auto text-center",children:o.jsxs(Kr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[o.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-black mb-6",children:o.jsx("span",{className:"text-gradient",children:"Our Work"})}),o.jsx("p",{className:"text-lg sm:text-xl text-gray-400 max-w-3xl mx-auto",children:"From grappling events to Muay Thai fight nights, athlete promo shoots to gym content  see how we capture the intensity of combat sports."})]})})}),o.jsx("section",{className:"py-8 sm:py-12 px-4 sm:px-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsx("h2",{className:"text-2xl sm:text-3xl font-black text-white mb-8",children:"Projects"}),o.jsx("div",{className:"space-y-6",children:Ege.map((y,x)=>o.jsxs(Kr.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:x*.1},className:"bg-dark-800 border border-gray-700 rounded-xl overflow-hidden",children:[o.jsxs("button",{onClick:()=>n(r===y.id?null:y.id),className:"w-full flex flex-col sm:flex-row items-start sm:items-center gap-4 p-5 sm:p-6 text-left hover:bg-dark-900/30 transition-colors",children:[o.jsx("div",{className:"w-full sm:w-24 h-32 sm:h-24 rounded-lg overflow-hidden flex-shrink-0",children:o.jsx("img",{src:y.images[0].src,alt:y.name,className:"w-full h-full object-cover",loading:"lazy"})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("h3",{className:"text-lg sm:text-xl font-bold text-white",children:y.name}),o.jsxs("span",{className:"text-xs bg-primary-600/20 text-primary-400 px-2 py-1 rounded-full font-semibold",children:[y.images.length," photos"]})]}),o.jsx("p",{className:"text-gray-400 text-sm mb-2",children:y.description}),o.jsx("div",{className:"flex gap-2",children:y.tags.map(w=>o.jsx("span",{className:"text-xs bg-dark-900 text-gray-400 px-2 py-1 rounded border border-gray-700",children:w},w))})]}),o.jsx("div",{className:"text-primary-400",children:o.jsx(Kr.div,{animate:{rotate:r===y.id?90:0},transition:{duration:.2},children:o.jsx(uf,{className:"w-5 h-5"})})})]}),o.jsx(Mv,{children:r===y.id&&o.jsx(Kr.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden",children:o.jsx("div",{className:"px-5 sm:px-6 pb-6 border-t border-gray-700 pt-4",children:o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:y.images.map((w,E)=>o.jsxs("div",{onClick:()=>f(y.images,E),className:"gallery-item rounded-lg overflow-hidden cursor-pointer aspect-[4/3]",children:[o.jsx("img",{src:w.src,alt:w.alt,className:"w-full h-full object-cover",loading:"lazy"}),o.jsx("div",{className:"overlay"})]},E))})})})})]},y.id))})]})}),o.jsx("section",{className:"py-12 sm:py-20 px-4 sm:px-6 bg-dark-900/50",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-8",children:[o.jsx("h2",{className:"text-2xl sm:text-3xl font-black text-white",children:"Full Gallery"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(eY,{className:"w-4 h-4 text-gray-500"}),Cge.map(y=>o.jsx("button",{onClick:()=>e(y.id),className:`px-4 py-2 rounded-lg text-sm font-semibold transition-all ${t===y.id?"bg-primary-600 text-white":"bg-dark-800 text-gray-400 hover:text-white border border-gray-700"}`,children:y.label},y.id))]})]}),o.jsx(Kr.div,{layout:!0,className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 sm:gap-4",children:o.jsx(Mv,{mode:"popLayout",children:d.map((y,x)=>o.jsxs(Kr.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},onClick:()=>f(d,x),className:"gallery-item rounded-lg overflow-hidden cursor-pointer aspect-[4/3]",children:[o.jsx("img",{src:y.src,alt:y.alt,className:"w-full h-full object-cover",loading:"lazy"}),o.jsx("div",{className:"overlay flex items-end p-3",children:o.jsx("p",{className:"text-white text-xs font-semibold",children:y.alt})})]},y.src))})})]})}),o.jsx("section",{className:"py-16 sm:py-24 px-4 sm:px-6",children:o.jsx("div",{className:"max-w-4xl mx-auto text-center",children:o.jsxs(Kr.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:[o.jsxs("h2",{className:"text-3xl sm:text-4xl font-black mb-4",children:["Want This for ",o.jsx("span",{className:"text-gradient",children:"Your Event?"})]}),o.jsx("p",{className:"text-gray-400 text-lg mb-8",children:"Get professional media coverage at zero cost. See what we can do for your promotion."}),o.jsxs(Ks,{to:"/proposal",className:"group inline-flex items-center gap-3 px-8 py-4 bg-primary-600 hover:bg-primary-700 text-white font-black rounded-lg text-lg transition-all hover:scale-105 card-glow",children:["Get Your Free Analysis",o.jsx(uf,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})]})})}),o.jsx(Mv,{children:i&&o.jsxs(Kr.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"lightbox-backdrop",onClick:A,children:[o.jsx("button",{onClick:A,className:"absolute top-4 right-4 z-10 p-2 bg-black/50 rounded-full text-white hover:bg-black/80 transition-colors",children:o.jsx(Zv,{className:"w-6 h-6"})}),u.length>1&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:y=>{y.stopPropagation(),v()},className:"absolute left-4 z-10 p-3 bg-black/50 rounded-full text-white hover:bg-black/80 transition-colors",children:o.jsx(zB,{className:"w-6 h-6"})}),o.jsx("button",{onClick:y=>{y.stopPropagation(),p()},className:"absolute right-4 z-10 p-3 bg-black/50 rounded-full text-white hover:bg-black/80 transition-colors",children:o.jsx(vb,{className:"w-6 h-6"})})]}),o.jsx("img",{src:i.src,alt:i.alt,className:"max-w-[90vw] max-h-[90vh] object-contain",onClick:y=>y.stopPropagation()}),o.jsxs("div",{className:"absolute bottom-4 text-center text-white text-sm",children:[i.alt,"  ",a+1," / ",u.length]})]})})]})},y2=[{num:1,label:"Welcome"},{num:2,label:"Your Organization"},{num:3,label:"Analysis"},{num:4,label:"Get Proposal"},{num:5,label:"Your Proposal"}],Nge=({currentStep:t,totalSteps:e,goToStep:r})=>{const n=i=>i<t;return o.jsx("nav",{className:"sticky top-0 z-50 bg-dark-900/95 backdrop-blur-sm border-b border-gray-800",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4",children:[o.jsxs("div",{className:"md:hidden",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsxs("span",{className:"text-sm font-semibold text-gray-300",children:["Step ",t," of ",e]}),o.jsx("span",{className:"text-xs text-gray-400",children:y2[Math.min(t-1,y2.length-1)]?.label})]}),o.jsx("div",{className:"h-2 bg-dark-800 rounded-full overflow-hidden",children:o.jsx(Kr.div,{className:"h-full bg-gradient-to-r from-primary-500 to-orange-500",initial:{width:0},animate:{width:`${t/e*100}%`},transition:{duration:.3}})})]}),o.jsx("div",{className:"hidden md:flex items-center justify-between",children:y2.map((i,s)=>o.jsxs("div",{className:"flex items-center flex-1",children:[o.jsxs("button",{onClick:()=>n(i.num)&&r(i.num),disabled:!n(i.num),className:`flex flex-col items-center gap-2 transition-all ${n(i.num)?"cursor-pointer hover:scale-105":"cursor-default"}`,children:[o.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold text-sm transition-all ${t===i.num?"bg-primary-600 text-white ring-4 ring-primary-600/30":t>i.num?"bg-green-600 text-white":"bg-dark-800 text-gray-500"}`,children:t>i.num?o.jsx(tl,{className:"w-5 h-5"}):i.num}),o.jsx("span",{className:`text-xs font-semibold ${t===i.num?"text-primary-400":t>i.num?"text-green-400":"text-gray-500"}`,children:i.label})]}),s<y2.length-1&&o.jsx("div",{className:"flex-1 h-1 mx-2 bg-dark-800 rounded-full overflow-hidden",children:o.jsx(Kr.div,{className:"h-full bg-gradient-to-r from-green-600 to-primary-600",initial:{width:0},animate:{width:t>i.num?"100%":"0%"},transition:{duration:.3}})})]},i.num))})]})})},kge=({nextStep:t})=>o.jsxs("section",{className:"relative min-h-screen flex items-center justify-center overflow-hidden animated-gradient",children:[o.jsx("div",{className:"absolute inset-0 opacity-10",children:o.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ff0000' fill-opacity='0.4'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),o.jsx("div",{className:"relative z-10 text-center px-4 sm:px-6 max-w-6xl mx-auto py-12",children:o.jsxs(Kr.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[o.jsx(Kr.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2,duration:.6},className:"mb-8",children:o.jsxs("h1",{className:"text-5xl sm:text-6xl md:text-8xl font-black mb-6 leading-tight",children:[o.jsx("span",{className:"text-gradient",children:"ELEVATE"}),o.jsx("br",{}),o.jsx("span",{className:"text-white",children:"YOUR EVENT"})]})}),o.jsxs(Kr.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6,duration:.8},children:[o.jsx("p",{className:"text-xl sm:text-2xl md:text-3xl text-gray-300 mb-4 max-w-3xl mx-auto font-semibold",children:"Professional Live Stream Production at Zero Cost to Your Organization"}),o.jsx("p",{className:"text-lg sm:text-xl md:text-2xl text-gray-400 mb-12 max-w-2xl mx-auto",children:"We produce your event for free + you earn revenue from PPV that you weren't before"})]}),o.jsxs(Kr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1,duration:.6},className:"mb-16",children:[o.jsxs("button",{onClick:t,className:"group px-8 sm:px-12 py-4 sm:py-5 bg-primary-600 hover:bg-primary-700 text-white font-black rounded-lg text-lg sm:text-xl transition-all hover:scale-105 card-glow inline-flex items-center gap-3",children:["Get Your Free Analysis",o.jsx(uf,{className:"w-6 h-6 group-hover:translate-x-1 transition-transform"})]}),o.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"See what your promotion is worth in 2 minutes  Zero commitment"})]}),o.jsx(Kr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.2,duration:.6},className:"mb-16 max-w-4xl mx-auto",children:o.jsx("div",{className:"relative rounded-xl overflow-hidden bg-gradient-to-br from-dark-900 via-dark-800 to-dark-900 border-2 border-gray-700 hover:border-primary-600/50 transition-all group cursor-pointer",children:o.jsxs("div",{className:"aspect-video flex items-center justify-center relative",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary-900/30 via-transparent to-orange-900/30"}),o.jsxs("div",{className:"relative z-10 flex flex-col items-center gap-4",children:[o.jsx("div",{className:"w-20 h-20 sm:w-24 sm:h-24 bg-primary-600 rounded-full flex items-center justify-center group-hover:scale-110 transition-transform shadow-lg",children:o.jsx("svg",{className:"w-10 h-10 sm:w-12 sm:h-12 text-white ml-1",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M8 5v14l11-7z"})})}),o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-xl sm:text-2xl font-bold text-white mb-2",children:"See Our Work in Action"}),o.jsx("p",{className:"text-sm sm:text-base text-gray-300",children:"Watch how we transform combat sports events into premium broadcast experiences"})]})]})]})})}),o.jsx(Kr.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.4,duration:.8},className:"grid grid-cols-1 sm:grid-cols-3 gap-6 sm:gap-8 max-w-4xl mx-auto",children:[{icon:Im,title:"Industry Leading Live Production",desc:"Professional multi-camera production that commands respect"},{icon:s_,title:"3-10x Audience Growth",desc:"Grow Your Audience 3-10x With Professional Content"},{icon:k0,title:"Unlock Hidden Revenue",desc:"Unlock Revenue Streams You're Currently Leaving on the Table"}].map((e,r)=>o.jsxs(Kr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.6+r*.1,duration:.6},className:"bg-dark-900/60 backdrop-blur-sm border border-gray-800 rounded-xl p-6 hover:border-primary-600/50 transition-all",children:[o.jsx(e.icon,{className:"w-10 h-10 sm:w-12 sm:h-12 text-primary-500 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg sm:text-xl font-bold text-white mb-2",children:e.title}),o.jsx("p",{className:"text-sm sm:text-base text-gray-400",children:e.desc})]},r))}),o.jsxs(Kr.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:2,duration:.8},className:"mt-12 sm:mt-16",children:[o.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-6 max-w-4xl mx-auto mb-8",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-3xl sm:text-4xl font-black text-primary-500",children:"25+"}),o.jsx("p",{className:"text-xs sm:text-sm text-gray-400 mt-1",children:"Live Events Covered"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-3xl sm:text-4xl font-black text-primary-500",children:"4"}),o.jsx("p",{className:"text-xs sm:text-sm text-gray-400 mt-1",children:"Countries Worldwide"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-3xl sm:text-4xl font-black text-primary-500",children:"Australia Wide"}),o.jsx("p",{className:"text-xs sm:text-sm text-gray-400 mt-1",children:"+ International"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-3xl sm:text-4xl font-black text-primary-500",children:"100%"}),o.jsx("p",{className:"text-xs sm:text-sm text-gray-400 mt-1",children:"Client Satisfaction"})]})]}),o.jsxs("div",{className:"max-w-2xl mx-auto bg-dark-900/60 backdrop-blur-sm border border-green-700/50 rounded-xl p-5",children:[o.jsx("p",{className:"text-green-400 text-sm sm:text-base font-semibold mb-2",children:" Free Consultation  No Commitment Required"}),o.jsx("p",{className:"text-gray-400 text-xs sm:text-sm",children:"We'll analyze your organization and show you exactly what's possible  even if you're not ready to start yet."})]})]})]})})]}),Ige=({formData:t,updateFormData:e,setFormDataBulk:r,setAnalysis:n,nextStep:i,prevStep:s})=>{k.useEffect(()=>{if(t.orgName){const l=a();n(l)}},[t]);const a=()=>{let l="Grassroots",d=0;t.showsPerYear>=12?d+=3:t.showsPerYear>=6?d+=2:t.showsPerYear>=3&&(d+=1),t.avgAttendance>=800?d+=3:t.avgAttendance>=400?d+=2:t.avgAttendance>=150&&(d+=1),t.socialFollowing>=5e4?d+=3:t.socialFollowing>=15e3?d+=2:t.socialFollowing>=3e3&&(d+=1),t.venueCapacity>=1500?d+=2:t.venueCapacity>=500&&(d+=1),t.sponsorshipLevel==="strong"?d+=2:t.sponsorshipLevel==="moderate"&&(d+=1),(t.growthTrajectory==="rapidly-growing"||t.growthTrajectory==="growing")&&(d+=1),d>=10?l="Major":d>=7?l="Established":d>=4&&(l="Regional");let f=[],A="flat";l==="Major"?(f=["Media Partnership","Full Media Buyout"],A="partnership"):l==="Established"?(f=["Broadcast Premium","Media Partnership"],A="hybrid"):l==="Regional"?(f=["Professional Production"],A="flat"):(f=["Essential Coverage"],A="flat");const p=c();return{tier:l,tierScore:d,recommendedPackages:f,pricingModel:A,potentialStreamingRevenue:p}},c=()=>{const l=Math.round(t.avgAttendance*1.5),d=Math.round(l*.4),f=25,A=d*f,p=A*t.showsPerYear,v=t.avgAttendance>=500?2e3:t.avgAttendance>=200?1e3:500,y=v*t.showsPerYear,x=1200,w=x*t.showsPerYear,E=t.showsPerYear*500,T=A+v+x,C=p+y+w;return{perEvent:Math.round(A),annual:Math.round(p),viewerEstimate:l,expectedPurchases:d,ppvPrice:f,sponsorRevenue:{perEvent:v,annual:y},contentValue:{perEvent:x,annual:w},socialGrowth:{followersPerYear:E,valueDescription:`${E.toLocaleString()} new followers/year`},totalROI:{perEvent:Math.round(T),annual:Math.round(C)}}},u=t.orgName.trim().length>0;return o.jsx("section",{className:"min-h-screen py-12 sm:py-20 px-4",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsxs(Kr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-8 sm:mb-12",children:[o.jsxs("div",{className:"inline-flex items-center gap-3 mb-4",children:[o.jsx(Uue,{className:"w-10 h-10 sm:w-12 sm:h-12 text-primary-500"}),o.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-black",children:o.jsx("span",{className:"text-gradient",children:"Tell Us About Your Organization"})})]}),o.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-300 max-w-2xl mx-auto",children:"We'll analyze your profile and recommend the perfect media solution"})]}),o.jsxs(Kr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"bg-dark-800 border border-gray-700 rounded-xl p-6 sm:p-8",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm sm:text-base font-semibold mb-3 text-gray-300",children:["Organization Name ",o.jsx("span",{className:"text-primary-500",children:"*"})]}),o.jsx("input",{type:"text",value:t.orgName,onChange:l=>e("orgName",l.target.value),className:"w-full px-4 py-3 sm:py-4 bg-dark-900 border-2 border-gray-700 rounded-lg text-white text-base sm:text-lg focus:border-primary-600 focus:outline-none transition-colors",placeholder:"Enter organization name..."})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm sm:text-base font-semibold mb-3 text-gray-300",children:["Shows Per Year: ",o.jsx("span",{className:"text-primary-500 text-lg sm:text-xl font-bold",children:t.showsPerYear})]}),o.jsx("input",{type:"range",min:"1",max:"24",value:t.showsPerYear,onChange:l=>e("showsPerYear",parseInt(l.target.value)),className:"w-full h-3 accent-primary-600"}),o.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[o.jsx("span",{children:"1"}),o.jsx("span",{children:"24"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm sm:text-base font-semibold mb-3 text-gray-300",children:["Average Attendance: ",o.jsx("span",{className:"text-primary-500 text-lg sm:text-xl font-bold",children:t.avgAttendance})]}),o.jsx("input",{type:"range",min:"50",max:"2000",step:"50",value:t.avgAttendance,onChange:l=>e("avgAttendance",parseInt(l.target.value)),className:"w-full h-3 accent-primary-600"}),o.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[o.jsx("span",{children:"50"}),o.jsx("span",{children:"2,000"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm sm:text-base font-semibold mb-3 text-gray-300",children:["Venue Capacity: ",o.jsx("span",{className:"text-primary-500 text-lg sm:text-xl font-bold",children:t.venueCapacity})]}),o.jsx("input",{type:"range",min:"100",max:"3000",step:"100",value:t.venueCapacity,onChange:l=>e("venueCapacity",parseInt(l.target.value)),className:"w-full h-3 accent-primary-600"}),o.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[o.jsx("span",{children:"100"}),o.jsx("span",{children:"3,000"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm sm:text-base font-semibold mb-3 text-gray-300",children:["Social Media Following: ",o.jsx("span",{className:"text-primary-500 text-lg sm:text-xl font-bold",children:t.socialFollowing.toLocaleString()})]}),o.jsx("input",{type:"range",min:"1000",max:"200000",step:"1000",value:t.socialFollowing,onChange:l=>e("socialFollowing",parseInt(l.target.value)),className:"w-full h-3 accent-primary-600"}),o.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[o.jsx("span",{children:"1k"}),o.jsx("span",{children:"200k"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm sm:text-base font-semibold mb-3 text-gray-300",children:"Current Media Setup"}),o.jsxs("select",{value:t.currentMedia,onChange:l=>e("currentMedia",l.target.value),className:"w-full px-4 py-3 sm:py-4 bg-dark-900 border-2 border-gray-700 rounded-lg text-white text-base focus:border-primary-600 focus:outline-none appearance-none cursor-pointer",children:[o.jsx("option",{value:"none",children:"No media coverage"}),o.jsx("option",{value:"basic",children:"Basic (smartphone/amateur)"}),o.jsx("option",{value:"semi",children:"Semi-professional"}),o.jsx("option",{value:"pro",children:"Professional production"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm sm:text-base font-semibold mb-3 text-gray-300",children:"Geographic Reach"}),o.jsxs("select",{value:t.geoReach,onChange:l=>e("geoReach",l.target.value),className:"w-full px-4 py-3 sm:py-4 bg-dark-900 border-2 border-gray-700 rounded-lg text-white text-base focus:border-primary-600 focus:outline-none appearance-none cursor-pointer",children:[o.jsx("option",{value:"local",children:"Local"}),o.jsx("option",{value:"state",children:"State/Regional"}),o.jsx("option",{value:"national",children:"National"}),o.jsx("option",{value:"international",children:"International"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm sm:text-base font-semibold mb-3 text-gray-300",children:"Sponsorship Level"}),o.jsxs("select",{value:t.sponsorshipLevel,onChange:l=>e("sponsorshipLevel",l.target.value),className:"w-full px-4 py-3 sm:py-4 bg-dark-900 border-2 border-gray-700 rounded-lg text-white text-base focus:border-primary-600 focus:outline-none appearance-none cursor-pointer",children:[o.jsx("option",{value:"none",children:"No sponsors"}),o.jsx("option",{value:"few",children:"Few local sponsors"}),o.jsx("option",{value:"moderate",children:"Moderate sponsorship"}),o.jsx("option",{value:"strong",children:"Strong sponsor portfolio"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm sm:text-base font-semibold mb-3 text-gray-300",children:"Growth Trajectory"}),o.jsxs("select",{value:t.growthTrajectory,onChange:l=>e("growthTrajectory",l.target.value),className:"w-full px-4 py-3 sm:py-4 bg-dark-900 border-2 border-gray-700 rounded-lg text-white text-base focus:border-primary-600 focus:outline-none appearance-none cursor-pointer",children:[o.jsx("option",{value:"declining",children:"Declining"}),o.jsx("option",{value:"stable",children:"Stable"}),o.jsx("option",{value:"growing",children:"Growing"}),o.jsx("option",{value:"rapidly-growing",children:"Rapidly Growing"})]})]})]}),o.jsx("div",{className:"mt-8 sm:mt-10",children:o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("button",{onClick:s,className:"flex-1 flex items-center justify-center gap-2 px-6 py-4 bg-dark-700 hover:bg-dark-600 text-white font-bold rounded-lg transition-all text-base sm:text-lg",children:[o.jsx(N0,{className:"w-5 h-5"}),"Back"]}),o.jsxs("button",{onClick:i,disabled:!u,className:"flex-[2] flex items-center justify-center gap-2 px-6 py-4 bg-primary-600 hover:bg-primary-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white font-bold rounded-lg transition-all hover:scale-[1.02] text-base sm:text-lg",children:["Continue to Analysis",o.jsx(uf,{className:"w-5 h-5"})]})]})})]})]})})};function Xq(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=Xq(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Sa(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=Xq(t))&&(n&&(n+=" "),n+=e);return n}var Lge=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function mD(t){if(typeof t!="string")return!1;var e=Lge;return e.includes(t)}var Bge=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Oge=new Set(Bge);function Zq(t){return typeof t!="string"?!1:Oge.has(t)}function Jq(t){return typeof t=="string"&&t.startsWith("data-")}function gu(t){if(typeof t!="object"||t===null)return{};var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(Zq(r)||Jq(r))&&(e[r]=t[r]);return e}function ey(t){if(t==null)return null;if(k.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return gu(e)}return typeof t=="object"&&!Array.isArray(t)?gu(t):null}function Uu(t){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(Zq(r)||Jq(r)||mD(r))&&(e[r]=t[r]);return e}function Pge(t){return t==null?null:k.isValidElement(t)?Uu(t.props):typeof t=="object"&&!Array.isArray(t)?Uu(t):null}var Rge=["children","width","height","viewBox","className","style","title","desc"];function g4(){return g4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},g4.apply(null,arguments)}function Dge(t,e){if(t==null)return{};var r,n,i=Mge(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Mge(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var pD=k.forwardRef((t,e)=>{var{children:r,width:n,height:i,viewBox:s,className:a,style:c,title:u,desc:l}=t,d=Dge(t,Rge),f=s||{width:n,height:i,x:0,y:0},A=Sa("recharts-surface",a);return k.createElement("svg",g4({},Uu(d),{className:A,width:n,height:i,style:c,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:e}),k.createElement("title",null,u),k.createElement("desc",null,l),r)}),Fge=["children","className"];function v4(){return v4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},v4.apply(null,arguments)}function Uge(t,e){if(t==null)return{};var r,n,i=$ge(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function $ge(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Dc=k.forwardRef((t,e)=>{var{children:r,className:n}=t,i=Uge(t,Fge),s=Sa("recharts-layer",n);return k.createElement("g",v4({className:s},Uu(i),{ref:e}),r)}),eX=k.createContext(null),Hge=()=>k.useContext(eX);function _l(t){return function(){return t}}const tX=Math.cos,mC=Math.sin,OA=Math.sqrt,pC=Math.PI,wN=2*pC,y4=Math.PI,x4=2*y4,av=1e-6,Qge=x4-av;function rX(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function Vge(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return rX;const r=10**e;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class zge{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?rX:Vge(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,s,a){this._append`C${+e},${+r},${+n},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,r,n,i,s){if(e=+e,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,c=this._y1,u=n-e,l=i-r,d=a-e,f=c-r,A=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(A>av)if(!(Math.abs(f*u-l*d)>av)||!s)this._append`L${this._x1=e},${this._y1=r}`;else{let p=n-a,v=i-c,y=u*u+l*l,x=p*p+v*v,w=Math.sqrt(y),E=Math.sqrt(A),T=s*Math.tan((y4-Math.acos((y+A-x)/(2*w*E)))/2),C=T/E,j=T/w;Math.abs(C-1)>av&&this._append`L${e+C*d},${r+C*f}`,this._append`A${s},${s},0,0,${+(f*p>d*v)},${this._x1=e+j*u},${this._y1=r+j*l}`}}arc(e,r,n,i,s,a){if(e=+e,r=+r,n=+n,a=!!a,n<0)throw new Error(`negative radius: ${n}`);let c=n*Math.cos(i),u=n*Math.sin(i),l=e+c,d=r+u,f=1^a,A=a?i-s:s-i;this._x1===null?this._append`M${l},${d}`:(Math.abs(this._x1-l)>av||Math.abs(this._y1-d)>av)&&this._append`L${l},${d}`,n&&(A<0&&(A=A%x4+x4),A>Qge?this._append`A${n},${n},0,1,${f},${e-c},${r-u}A${n},${n},0,1,${f},${this._x1=l},${this._y1=d}`:A>av&&this._append`A${n},${n},0,${+(A>=y4)},${f},${this._x1=e+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function gD(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new zge(e)}function vD(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function nX(t){this._context=t}nX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function EN(t){return new nX(t)}function iX(t){return t[0]}function sX(t){return t[1]}function aX(t,e){var r=_l(!0),n=null,i=EN,s=null,a=gD(c);t=typeof t=="function"?t:t===void 0?iX:_l(t),e=typeof e=="function"?e:e===void 0?sX:_l(e);function c(u){var l,d=(u=vD(u)).length,f,A=!1,p;for(n==null&&(s=i(p=a())),l=0;l<=d;++l)!(l<d&&r(f=u[l],l,u))===A&&((A=!A)?s.lineStart():s.lineEnd()),A&&s.point(+t(f,l,u),+e(f,l,u));if(p)return s=null,p+""||null}return c.x=function(u){return arguments.length?(t=typeof u=="function"?u:_l(+u),c):t},c.y=function(u){return arguments.length?(e=typeof u=="function"?u:_l(+u),c):e},c.defined=function(u){return arguments.length?(r=typeof u=="function"?u:_l(!!u),c):r},c.curve=function(u){return arguments.length?(i=u,n!=null&&(s=i(n)),c):i},c.context=function(u){return arguments.length?(u==null?n=s=null:s=i(n=u),c):n},c}function x2(t,e,r){var n=null,i=_l(!0),s=null,a=EN,c=null,u=gD(l);t=typeof t=="function"?t:t===void 0?iX:_l(+t),e=typeof e=="function"?e:_l(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?sX:_l(+r);function l(f){var A,p,v,y=(f=vD(f)).length,x,w=!1,E,T=new Array(y),C=new Array(y);for(s==null&&(c=a(E=u())),A=0;A<=y;++A){if(!(A<y&&i(x=f[A],A,f))===w)if(w=!w)p=A,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),v=A-1;v>=p;--v)c.point(T[v],C[v]);c.lineEnd(),c.areaEnd()}w&&(T[A]=+t(x,A,f),C[A]=+e(x,A,f),c.point(n?+n(x,A,f):T[A],r?+r(x,A,f):C[A]))}if(E)return c=null,E+""||null}function d(){return aX().defined(i).curve(a).context(s)}return l.x=function(f){return arguments.length?(t=typeof f=="function"?f:_l(+f),n=null,l):t},l.x0=function(f){return arguments.length?(t=typeof f=="function"?f:_l(+f),l):t},l.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:_l(+f),l):n},l.y=function(f){return arguments.length?(e=typeof f=="function"?f:_l(+f),r=null,l):e},l.y0=function(f){return arguments.length?(e=typeof f=="function"?f:_l(+f),l):e},l.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:_l(+f),l):r},l.lineX0=l.lineY0=function(){return d().x(t).y(e)},l.lineY1=function(){return d().x(t).y(r)},l.lineX1=function(){return d().x(n).y(e)},l.defined=function(f){return arguments.length?(i=typeof f=="function"?f:_l(!!f),l):i},l.curve=function(f){return arguments.length?(a=f,s!=null&&(c=a(s)),l):a},l.context=function(f){return arguments.length?(f==null?s=c=null:c=a(s=f),l):s},l}class oX{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function Kge(t){return new oX(t,!0)}function Gge(t){return new oX(t,!1)}const yD={draw(t,e){const r=OA(e/pC);t.moveTo(r,0),t.arc(0,0,r,0,wN)}},Wge={draw(t,e){const r=OA(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},lX=OA(1/3),Yge=lX*2,qge={draw(t,e){const r=OA(e/Yge),n=r*lX;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},Xge={draw(t,e){const r=OA(e),n=-r/2;t.rect(n,n,r,r)}},Zge=.8908130915292852,cX=mC(pC/10)/mC(7*pC/10),Jge=mC(wN/10)*cX,e0e=-tX(wN/10)*cX,t0e={draw(t,e){const r=OA(e*Zge),n=Jge*r,i=e0e*r;t.moveTo(0,-r),t.lineTo(n,i);for(let s=1;s<5;++s){const a=wN*s/5,c=tX(a),u=mC(a);t.lineTo(u*r,-c*r),t.lineTo(c*n-u*i,u*n+c*i)}t.closePath()}},Gk=OA(3),r0e={draw(t,e){const r=-OA(e/(Gk*3));t.moveTo(0,r*2),t.lineTo(-Gk*r,-r),t.lineTo(Gk*r,-r),t.closePath()}},jf=-.5,Nf=OA(3)/2,b4=1/OA(12),n0e=(b4/2+1)*3,i0e={draw(t,e){const r=OA(e/n0e),n=r/2,i=r*b4,s=n,a=r*b4+r,c=-s,u=a;t.moveTo(n,i),t.lineTo(s,a),t.lineTo(c,u),t.lineTo(jf*n-Nf*i,Nf*n+jf*i),t.lineTo(jf*s-Nf*a,Nf*s+jf*a),t.lineTo(jf*c-Nf*u,Nf*c+jf*u),t.lineTo(jf*n+Nf*i,jf*i-Nf*n),t.lineTo(jf*s+Nf*a,jf*a-Nf*s),t.lineTo(jf*c+Nf*u,jf*u-Nf*c),t.closePath()}};function s0e(t,e){let r=null,n=gD(i);t=typeof t=="function"?t:_l(t||yD),e=typeof e=="function"?e:_l(e===void 0?64:+e);function i(){let s;if(r||(r=s=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:_l(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:_l(+s),i):e},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function gC(){}function vC(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function uX(t){this._context=t}uX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:vC(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:vC(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function a0e(t){return new uX(t)}function dX(t){this._context=t}dX.prototype={areaStart:gC,areaEnd:gC,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:vC(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function o0e(t){return new dX(t)}function hX(t){this._context=t}hX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:vC(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function l0e(t){return new hX(t)}function fX(t){this._context=t}fX.prototype={areaStart:gC,areaEnd:gC,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function c0e(t){return new fX(t)}function T7(t){return t<0?-1:1}function C7(t,e,r){var n=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(n||i<0&&-0),a=(r-t._y1)/(i||n<0&&-0),c=(s*i+a*n)/(n+i);return(T7(s)+T7(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(c))||0}function j7(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function Wk(t,e,r){var n=t._x0,i=t._y0,s=t._x1,a=t._y1,c=(s-n)/3;t._context.bezierCurveTo(n+c,i+c*e,s-c,a-c*r,s,a)}function yC(t){this._context=t}yC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Wk(this,this._t0,j7(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Wk(this,j7(this,r=C7(this,t,e)),r);break;default:Wk(this,this._t0,r=C7(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function AX(t){this._context=new mX(t)}(AX.prototype=Object.create(yC.prototype)).point=function(t,e){yC.prototype.point.call(this,e,t)};function mX(t){this._context=t}mX.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,s){this._context.bezierCurveTo(e,t,n,r,s,i)}};function u0e(t){return new yC(t)}function d0e(t){return new AX(t)}function pX(t){this._context=t}pX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=N7(t),i=N7(e),s=0,a=1;a<r;++s,++a)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],t[a],e[a]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function N7(t){var e,r=t.length-1,n,i=new Array(r),s=new Array(r),a=new Array(r);for(i[0]=0,s[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,s[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,s[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/s[e-1],s[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/s[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function h0e(t){return new pX(t)}function _N(t,e){this._context=t,this._t=e}_N.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function f0e(t){return new _N(t,.5)}function A0e(t){return new _N(t,0)}function m0e(t){return new _N(t,1)}function ty(t,e){if((a=t.length)>1)for(var r=1,n,i,s=t[e[0]],a,c=s.length;r<a;++r)for(i=s,s=t[e[r]],n=0;n<c;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function w4(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function p0e(t,e){return t[e]}function g0e(t){const e=[];return e.key=t,e}function v0e(){var t=_l([]),e=w4,r=ty,n=p0e;function i(s){var a=Array.from(t.apply(this,arguments),g0e),c,u=a.length,l=-1,d;for(const f of s)for(c=0,++l;c<u;++c)(a[c][l]=[0,+n(f,a[c].key,l,s)]).data=f;for(c=0,d=vD(e(a));c<u;++c)a[d[c]].index=c;return r(a,d),a}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:_l(Array.from(s)),i):t},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:_l(+s),i):n},i.order=function(s){return arguments.length?(e=s==null?w4:typeof s=="function"?s:_l(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(r=s??ty,i):r},i}function y0e(t,e){if((n=t.length)>0){for(var r,n,i=0,s=t[0].length,a;i<s;++i){for(a=r=0;r<n;++r)a+=t[r][i][1]||0;if(a)for(r=0;r<n;++r)t[r][i][1]/=a}ty(t,e)}}function x0e(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,s=n.length;r<s;++r){for(var a=0,c=0;a<i;++a)c+=t[a][r][1]||0;n[r][1]+=n[r][0]=-c/2}ty(t,e)}}function b0e(t,e){if(!(!((a=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,s,a;n<s;++n){for(var c=0,u=0,l=0;c<a;++c){for(var d=t[e[c]],f=d[n][1]||0,A=d[n-1][1]||0,p=(f-A)/2,v=0;v<c;++v){var y=t[e[v]],x=y[n][1]||0,w=y[n-1][1]||0;p+=x-w}u+=f,l+=p*f}i[n-1][1]+=i[n-1][0]=r,u&&(r-=l/u)}i[n-1][1]+=i[n-1][0]=r,ty(t,e)}}var Yk={},qk={},k7;function w0e(){return k7||(k7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==="__proto__"}t.isUnsafeProperty=e})(qk)),qk}var Xk={},I7;function gX(){return I7||(I7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}t.isDeepKey=e})(Xk)),Xk}var Zk={},L7;function xD(){return L7||(L7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}t.toKey=e})(Zk)),Zk}var Jk={},eI={},B7;function E0e(){return B7||(B7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(e).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}t.toString=e})(eI)),eI}var O7;function bD(){return O7||(O7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=E0e(),r=xD();function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const s=[],a=i.length;if(a===0)return s;let c=0,u="",l="",d=!1;for(i.charCodeAt(0)===46&&(s.push(""),c++);c<a;){const f=i[c];l?f==="\\"&&c+1<a?(c++,u+=i[c]):f===l?l="":u+=f:d?f==='"'||f==="'"?l=f:f==="]"?(d=!1,s.push(u),u=""):u+=f:f==="["?(d=!0,u&&(s.push(u),u="")):f==="."?u&&(s.push(u),u=""):u+=f,c++}return u&&s.push(u),s}t.toPath=n})(Jk)),Jk}var P7;function wD(){return P7||(P7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=w0e(),r=gX(),n=xD(),i=bD();function s(c,u,l){if(c==null)return l;switch(typeof u){case"string":{if(e.isUnsafeProperty(u))return l;const d=c[u];return d===void 0?r.isDeepKey(u)?s(c,i.toPath(u),l):l:d}case"number":case"symbol":{typeof u=="number"&&(u=n.toKey(u));const d=c[u];return d===void 0?l:d}default:{if(Array.isArray(u))return a(c,u,l);if(Object.is(u?.valueOf(),-0)?u="-0":u=String(u),e.isUnsafeProperty(u))return l;const d=c[u];return d===void 0?l:d}}}function a(c,u,l){if(u.length===0)return l;let d=c;for(let f=0;f<u.length;f++){if(d==null||e.isUnsafeProperty(u[f]))return l;d=d[u[f]]}return d===void 0?l:d}t.get=s})(Yk)),Yk}var tI,R7;function _0e(){return R7||(R7=1,tI=wD().get),tI}var S0e=_0e();const ry=Yf(S0e);var T0e=4;function A0(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:T0e,r=10**e,n=Math.round(t*r)/r;return Object.is(n,-0)?0:n}function cc(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return t.reduce((i,s,a)=>{var c=r[a-1];return typeof c=="string"?i+c+s:c!==void 0?i+A0(c)+s:i+s},"")}var dd=t=>t===0?0:t>0?1:-1,Dm=t=>typeof t=="number"&&t!=+t,ny=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Ei=t=>(typeof t=="number"||t instanceof Number)&&!Dm(t),Mm=t=>Ei(t)||typeof t=="string",C0e=0,lE=t=>{var e=++C0e;return"".concat(t||"").concat(e)},eh=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ei(e)&&typeof e!="string")return n;var s;if(ny(e)){if(r==null)return n;var a=e.indexOf("%");s=r*parseFloat(e.slice(0,a))/100}else s=+e;return Dm(s)&&(s=n),i&&r!=null&&s>r&&(s=r),s},vX=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,r={},n=0;n<e;n++)if(!r[String(t[n])])r[String(t[n])]=!0;else return!0;return!1};function uc(t,e,r){return Ei(t)&&Ei(e)?A0(t+r*(e-t)):e}function j0e(t,e,r){if(!(!t||!t.length))return t.find(n=>n&&(typeof e=="function"?e(n):ry(n,e))===r)}var eu=t=>t===null||typeof t>"u",h_=t=>eu(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function Lh(t){return t!=null}function L0(){}var N0e=["type","size","sizeType"];function E4(){return E4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},E4.apply(null,arguments)}function D7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function M7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?D7(Object(r),!0).forEach(function(n){k0e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):D7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function k0e(t,e,r){return(e=I0e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function I0e(t){var e=L0e(t,"string");return typeof e=="symbol"?e:e+""}function L0e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function B0e(t,e){if(t==null)return{};var r,n,i=O0e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function O0e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var yX={symbolCircle:yD,symbolCross:Wge,symbolDiamond:qge,symbolSquare:Xge,symbolStar:t0e,symbolTriangle:r0e,symbolWye:i0e},P0e=Math.PI/180,R0e=t=>{var e="symbol".concat(h_(t));return yX[e]||yD},D0e=(t,e,r)=>{if(e==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var n=18*P0e;return 1.25*t*t*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},M0e=(t,e)=>{yX["symbol".concat(h_(t))]=e},ED=t=>{var{type:e="circle",size:r=64,sizeType:n="area"}=t,i=B0e(t,N0e),s=M7(M7({},i),{},{type:e,size:r,sizeType:n}),a="circle";typeof e=="string"&&(a=e);var c=()=>{var A=R0e(a),p=s0e().type(A).size(D0e(r,n,a)),v=p();if(v!==null)return v},{className:u,cx:l,cy:d}=s,f=Uu(s);return Ei(l)&&Ei(d)&&Ei(r)?k.createElement("path",E4({},f,{className:Sa("recharts-symbols",u),transform:"translate(".concat(l,", ").concat(d,")"),d:c()})):null};ED.registerSymbol=M0e;var xX=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,_D=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(k.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{mD(i)&&(n[i]=(s=>r[i](r,s)))}),n},F0e=(t,e,r)=>n=>(t(e,r,n),null),Kb=(t,e,r)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var n=null;return Object.keys(t).forEach(i=>{var s=t[i];mD(i)&&typeof s=="function"&&(n||(n={}),n[i]=F0e(s,e,r))}),n};function F7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function U0e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?F7(Object(r),!0).forEach(function(n){$0e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):F7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $0e(t,e,r){return(e=H0e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function H0e(t){var e=Q0e(t,"string");return typeof e=="symbol"?e:e+""}function Q0e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fc(t,e){var r=U0e({},t),n=e,i=Object.keys(e),s=i.reduce((a,c)=>(a[c]===void 0&&n[c]!==void 0&&(a[c]=n[c]),a),r);return s}function xC(){return xC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xC.apply(null,arguments)}function U7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function V0e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?U7(Object(r),!0).forEach(function(n){z0e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function z0e(t,e,r){return(e=K0e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function K0e(t){var e=G0e(t,"string");return typeof e=="symbol"?e:e+""}function G0e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Df=32,W0e={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function Y0e(t){var{data:e,iconType:r,inactiveColor:n}=t,i=Df/2,s=Df/6,a=Df/3,c=e.inactive?n:e.color,u=r??e.type;if(u==="none")return null;if(u==="plainline"){var l;return k.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:(l=e.payload)===null||l===void 0?void 0:l.strokeDasharray,x1:0,y1:i,x2:Df,y2:i,className:"recharts-legend-icon"})}if(u==="line")return k.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*a,",").concat(i,`
            H`).concat(Df,"M").concat(2*a,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(a,",").concat(i),className:"recharts-legend-icon"});if(u==="rect")return k.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Df/8,"h").concat(Df,"v").concat(Df*3/4,"h").concat(-Df,"z"),className:"recharts-legend-icon"});if(k.isValidElement(e.legendIcon)){var d=V0e({},e);return delete d.legendIcon,k.cloneElement(e.legendIcon,d)}return k.createElement(ED,{fill:c,cx:i,cy:i,size:Df,sizeType:"diameter",type:u})}function q0e(t){var{payload:e,iconSize:r,layout:n,formatter:i,inactiveColor:s,iconType:a}=t,c={x:0,y:0,width:Df,height:Df},u={display:n==="horizontal"?"inline-block":"block",marginRight:10},l={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((d,f)=>{var A=d.formatter||i,p=Sa({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var v=d.inactive?s:d.color,y=A?A(d.value,d,f):d.value;return k.createElement("li",xC({className:p,style:u,key:"legend-item-".concat(f)},Kb(t,d,f)),k.createElement(pD,{width:r,height:r,viewBox:c,style:l,"aria-label":"".concat(y," legend icon")},k.createElement(Y0e,{data:d,iconType:a,inactiveColor:s})),k.createElement("span",{className:"recharts-legend-item-text",style:{color:v}},y))})}var X0e=t=>{var e=Fc(t,W0e),{payload:r,layout:n,align:i}=e;if(!r||!r.length)return null;var s={padding:0,margin:0,textAlign:n==="horizontal"?i:"left"};return k.createElement("ul",{className:"recharts-default-legend",style:s},k.createElement(q0e,xC({},e,{payload:r})))},rI={},nI={},$7;function Z0e(){return $7||($7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){const i=new Map;for(let s=0;s<r.length;s++){const a=r[s],c=n(a,s,r);i.has(c)||i.set(c,a)}return Array.from(i.values())}t.uniqBy=e})(nI)),nI}var iI={},H7;function J0e(){return H7||(H7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){return function(...i){return r.apply(this,i.slice(0,n))}}t.ary=e})(iI)),iI}var sI={},Q7;function bX(){return Q7||(Q7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r}t.identity=e})(sI)),sI}var aI={},oI={},lI={},V7;function eve(){return V7||(V7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Number.isSafeInteger(r)&&r>=0}t.isLength=e})(lI)),lI}var z7;function SD(){return z7||(z7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=eve();function r(n){return n!=null&&typeof n!="function"&&e.isLength(n.length)}t.isArrayLike=r})(oI)),oI}var cI={},K7;function tve(){return K7||(K7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="object"&&r!==null}t.isObjectLike=e})(cI)),cI}var G7;function rve(){return G7||(G7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=SD(),r=tve();function n(i){return r.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=n})(aI)),aI}var uI={},dI={},W7;function nve(){return W7||(W7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wD();function r(n){return function(i){return e.get(i,n)}}t.property=r})(dI)),dI}var hI={},fI={},AI={},mI={},Y7;function wX(){return Y7||(Y7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r!==null&&(typeof r=="object"||typeof r=="function")}t.isObject=e})(mI)),mI}var pI={},q7;function EX(){return q7||(q7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null||typeof r!="object"&&typeof r!="function"}t.isPrimitive=e})(pI)),pI}var gI={},X7;function _X(){return X7||(X7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}t.isEqualsSameValueZero=e})(gI)),gI}var Z7;function ive(){return Z7||(Z7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wX(),r=EX(),n=_X();function i(d,f,A){return typeof A!="function"?i(d,f,()=>{}):s(d,f,function p(v,y,x,w,E,T){const C=A(v,y,x,w,E,T);return C!==void 0?!!C:s(v,y,p,T)},new Map)}function s(d,f,A,p){if(f===d)return!0;switch(typeof f){case"object":return a(d,f,A,p);case"function":return Object.keys(f).length>0?s(d,{...f},A,p):n.isEqualsSameValueZero(d,f);default:return e.isObject(d)?typeof f=="string"?f==="":!0:n.isEqualsSameValueZero(d,f)}}function a(d,f,A,p){if(f==null)return!0;if(Array.isArray(f))return u(d,f,A,p);if(f instanceof Map)return c(d,f,A,p);if(f instanceof Set)return l(d,f,A,p);const v=Object.keys(f);if(d==null||r.isPrimitive(d))return v.length===0;if(v.length===0)return!0;if(p?.has(f))return p.get(f)===d;p?.set(f,d);try{for(let y=0;y<v.length;y++){const x=v[y];if(!r.isPrimitive(d)&&!(x in d)||f[x]===void 0&&d[x]!==void 0||f[x]===null&&d[x]!==null||!A(d[x],f[x],x,d,f,p))return!1}return!0}finally{p?.delete(f)}}function c(d,f,A,p){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[v,y]of f.entries()){const x=d.get(v);if(A(x,y,v,d,f,p)===!1)return!1}return!0}function u(d,f,A,p){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const v=new Set;for(let y=0;y<f.length;y++){const x=f[y];let w=!1;for(let E=0;E<d.length;E++){if(v.has(E))continue;const T=d[E];let C=!1;if(A(T,x,y,d,f,p)&&(C=!0),C){v.add(E),w=!0;break}}if(!w)return!1}return!0}function l(d,f,A,p){return f.size===0?!0:d instanceof Set?u([...d],[...f],A,p):!1}t.isMatchWith=i,t.isSetMatch=l})(AI)),AI}var J7;function SX(){return J7||(J7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ive();function r(n,i){return e.isMatchWith(n,i,()=>{})}t.isMatch=r})(fI)),fI}var vI={},yI={},xI={},e$;function sve(){return e$||(e$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}t.getSymbols=e})(xI)),xI}var bI={},t$;function TD(){return t$||(t$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}t.getTag=e})(bI)),bI}var wI={},r$;function TX(){return r$||(r$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",s="[object Arguments]",a="[object Symbol]",c="[object Date]",u="[object Map]",l="[object Set]",d="[object Array]",f="[object Function]",A="[object ArrayBuffer]",p="[object Object]",v="[object Error]",y="[object DataView]",x="[object Uint8Array]",w="[object Uint8ClampedArray]",E="[object Uint16Array]",T="[object Uint32Array]",C="[object BigUint64Array]",j="[object Int8Array]",P="[object Int16Array]",U="[object Int32Array]",W="[object BigInt64Array]",q="[object Float32Array]",re="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=A,t.arrayTag=d,t.bigInt64ArrayTag=W,t.bigUint64ArrayTag=C,t.booleanTag=i,t.dataViewTag=y,t.dateTag=c,t.errorTag=v,t.float32ArrayTag=q,t.float64ArrayTag=re,t.functionTag=f,t.int16ArrayTag=P,t.int32ArrayTag=U,t.int8ArrayTag=j,t.mapTag=u,t.numberTag=n,t.objectTag=p,t.regexpTag=e,t.setTag=l,t.stringTag=r,t.symbolTag=a,t.uint16ArrayTag=E,t.uint32ArrayTag=T,t.uint8ArrayTag=x,t.uint8ClampedArrayTag=w})(wI)),wI}var EI={},n$;function ave(){return n$||(n$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}t.isTypedArray=e})(EI)),EI}var i$;function CX(){return i$||(i$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=sve(),r=TD(),n=TX(),i=EX(),s=ave();function a(d,f){return c(d,void 0,d,new Map,f)}function c(d,f,A,p=new Map,v=void 0){const y=v?.(d,f,A,p);if(y!==void 0)return y;if(i.isPrimitive(d))return d;if(p.has(d))return p.get(d);if(Array.isArray(d)){const x=new Array(d.length);p.set(d,x);for(let w=0;w<d.length;w++)x[w]=c(d[w],w,A,p,v);return Object.hasOwn(d,"index")&&(x.index=d.index),Object.hasOwn(d,"input")&&(x.input=d.input),x}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const x=new RegExp(d.source,d.flags);return x.lastIndex=d.lastIndex,x}if(d instanceof Map){const x=new Map;p.set(d,x);for(const[w,E]of d)x.set(w,c(E,w,A,p,v));return x}if(d instanceof Set){const x=new Set;p.set(d,x);for(const w of d)x.add(c(w,void 0,A,p,v));return x}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(s.isTypedArray(d)){const x=new(Object.getPrototypeOf(d)).constructor(d.length);p.set(d,x);for(let w=0;w<d.length;w++)x[w]=c(d[w],w,A,p,v);return x}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const x=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return p.set(d,x),u(x,d,A,p,v),x}if(typeof File<"u"&&d instanceof File){const x=new File([d],d.name,{type:d.type});return p.set(d,x),u(x,d,A,p,v),x}if(typeof Blob<"u"&&d instanceof Blob){const x=new Blob([d],{type:d.type});return p.set(d,x),u(x,d,A,p,v),x}if(d instanceof Error){const x=new d.constructor;return p.set(d,x),x.message=d.message,x.name=d.name,x.stack=d.stack,x.cause=d.cause,u(x,d,A,p,v),x}if(d instanceof Boolean){const x=new Boolean(d.valueOf());return p.set(d,x),u(x,d,A,p,v),x}if(d instanceof Number){const x=new Number(d.valueOf());return p.set(d,x),u(x,d,A,p,v),x}if(d instanceof String){const x=new String(d.valueOf());return p.set(d,x),u(x,d,A,p,v),x}if(typeof d=="object"&&l(d)){const x=Object.create(Object.getPrototypeOf(d));return p.set(d,x),u(x,d,A,p,v),x}return d}function u(d,f,A=d,p,v){const y=[...Object.keys(f),...e.getSymbols(f)];for(let x=0;x<y.length;x++){const w=y[x],E=Object.getOwnPropertyDescriptor(d,w);(E==null||E.writable)&&(d[w]=c(f[w],w,A,p,v))}}function l(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=a,t.cloneDeepWithImpl=c,t.copyProperties=u})(yI)),yI}var s$;function ove(){return s$||(s$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=CX();function r(n){return e.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}t.cloneDeep=r})(vI)),vI}var a$;function lve(){return a$||(a$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=SX(),r=ove();function n(i){return i=r.cloneDeep(i),s=>e.isMatch(s,i)}t.matches=n})(hI)),hI}var _I={},SI={},TI={},o$;function cve(){return o$||(o$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=CX(),r=TD(),n=TX();function i(s,a){return e.cloneDeepWith(s,(c,u,l,d)=>{const f=a?.(c,u,l,d);if(f!==void 0)return f;if(typeof s=="object"){if(r.getTag(s)===n.objectTag&&typeof s.constructor!="function"){const A={};return d.set(s,A),e.copyProperties(A,s,l,d),A}switch(Object.prototype.toString.call(s)){case n.numberTag:case n.stringTag:case n.booleanTag:{const A=new s.constructor(s?.valueOf());return e.copyProperties(A,s),A}case n.argumentsTag:{const A={};return e.copyProperties(A,s),A.length=s.length,A[Symbol.iterator]=s[Symbol.iterator],A}default:return}}})}t.cloneDeepWith=i})(TI)),TI}var l$;function uve(){return l$||(l$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cve();function r(n){return e.cloneDeepWith(n)}t.cloneDeep=r})(SI)),SI}var CI={},jI={},c$;function jX(){return c$||(c$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return e.test(n)}}t.isIndex=r})(jI)),jI}var NI={},u$;function dve(){return u$||(u$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=TD();function r(n){return n!==null&&typeof n=="object"&&e.getTag(n)==="[object Arguments]"}t.isArguments=r})(NI)),NI}var d$;function hve(){return d$||(d$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gX(),r=jX(),n=dve(),i=bD();function s(a,c){let u;if(Array.isArray(c)?u=c:typeof c=="string"&&e.isDeepKey(c)&&a?.[c]==null?u=i.toPath(c):u=[c],u.length===0)return!1;let l=a;for(let d=0;d<u.length;d++){const f=u[d];if((l==null||!Object.hasOwn(l,f))&&!((Array.isArray(l)||n.isArguments(l))&&r.isIndex(f)&&f<l.length))return!1;l=l[f]}return!0}t.has=s})(CI)),CI}var h$;function fve(){return h$||(h$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=SX(),r=xD(),n=uve(),i=wD(),s=hve();function a(c,u){switch(typeof c){case"object":{Object.is(c?.valueOf(),-0)&&(c="-0");break}case"number":{c=r.toKey(c);break}}return u=n.cloneDeep(u),function(l){const d=i.get(l,c);return d===void 0?s.has(l,c):u===void 0?d===void 0:e.isMatch(d,u)}}t.matchesProperty=a})(_I)),_I}var f$;function Ave(){return f$||(f$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bX(),r=nve(),n=lve(),i=fve();function s(a){if(a==null)return e.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):n.matches(a);case"string":case"symbol":case"number":return r.property(a)}}t.iteratee=s})(uI)),uI}var A$;function mve(){return A$||(A$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Z0e(),r=J0e(),n=bX(),i=rve(),s=Ave();function a(c,u=n.identity){return i.isArrayLikeObject(c)?e.uniqBy(Array.from(c),r.ary(s.iteratee(u),1)):[]}t.uniqBy=a})(rI)),rI}var kI,m$;function pve(){return m$||(m$=1,kI=mve().uniqBy),kI}var gve=pve();const p$=Yf(gve);function NX(t,e,r){return e===!0?p$(t,r):typeof e=="function"?p$(t,e):t}var II={exports:{}},LI={},BI={exports:{}},OI={};var g$;function vve(){if(g$)return OI;g$=1;var t=Fb();function e(f,A){return f===A&&(f!==0||1/f===1/A)||f!==f&&A!==A}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,i=t.useEffect,s=t.useLayoutEffect,a=t.useDebugValue;function c(f,A){var p=A(),v=n({inst:{value:p,getSnapshot:A}}),y=v[0].inst,x=v[1];return s(function(){y.value=p,y.getSnapshot=A,u(y)&&x({inst:y})},[f,p,A]),i(function(){return u(y)&&x({inst:y}),f(function(){u(y)&&x({inst:y})})},[f]),a(p),p}function u(f){var A=f.getSnapshot;f=f.value;try{var p=A();return!r(f,p)}catch{return!0}}function l(f,A){return A()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?l:c;return OI.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:d,OI}var v$;function yve(){return v$||(v$=1,BI.exports=vve()),BI.exports}var y$;function xve(){if(y$)return LI;y$=1;var t=Fb(),e=yve();function r(l,d){return l===d&&(l!==0||1/l===1/d)||l!==l&&d!==d}var n=typeof Object.is=="function"?Object.is:r,i=e.useSyncExternalStore,s=t.useRef,a=t.useEffect,c=t.useMemo,u=t.useDebugValue;return LI.useSyncExternalStoreWithSelector=function(l,d,f,A,p){var v=s(null);if(v.current===null){var y={hasValue:!1,value:null};v.current=y}else y=v.current;v=c(function(){function w(P){if(!E){if(E=!0,T=P,P=A(P),p!==void 0&&y.hasValue){var U=y.value;if(p(U,P))return C=U}return C=P}if(U=C,n(T,P))return U;var W=A(P);return p!==void 0&&p(U,W)?(T=P,U):(T=P,C=W)}var E=!1,T,C,j=f===void 0?null:f;return[function(){return w(d())},j===null?void 0:function(){return w(j())}]},[d,f,A,p]);var x=i(l,v[0],v[1]);return a(function(){y.hasValue=!0,y.value=x},[x]),u(x),x},LI}var x$;function bve(){return x$||(x$=1,II.exports=xve()),II.exports}var wve=bve(),CD=k.createContext(null),Eve=t=>t,Al=()=>{var t=k.useContext(CD);return t?t.store.dispatch:Eve},IS=()=>{},_ve=()=>IS,Sve=(t,e)=>t===e;function si(t){var e=k.useContext(CD),r=k.useMemo(()=>e?n=>{if(n!=null)return t(n)}:IS,[e,t]);return wve.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:_ve,e?e.store.getState:IS,e?e.store.getState:IS,r,Sve)}function Tve(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function Cve(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function jve(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(r=>typeof r=="function")){const r=t.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${e}[${r}]`)}}var b$=t=>Array.isArray(t)?t:[t];function Nve(t){const e=Array.isArray(t[0])?t[0]:t;return jve(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function kve(t,e){const r=[],{length:n}=t;for(let i=0;i<n;i++)r.push(t[i].apply(null,e));return r}var Ive=class{constructor(t){this.value=t}deref(){return this.value}},Lve=typeof WeakRef<"u"?WeakRef:Ive,Bve=0,w$=1;function b2(){return{s:Bve,v:void 0,o:null,p:null}}function kX(t,e={}){let r=b2();const{resultEqualityCheck:n}=e;let i,s=0;function a(){let c=r;const{length:u}=arguments;for(let f=0,A=u;f<A;f++){const p=arguments[f];if(typeof p=="function"||typeof p=="object"&&p!==null){let v=c.o;v===null&&(c.o=v=new WeakMap);const y=v.get(p);y===void 0?(c=b2(),v.set(p,c)):c=y}else{let v=c.p;v===null&&(c.p=v=new Map);const y=v.get(p);y===void 0?(c=b2(),v.set(p,c)):c=y}}const l=c;let d;if(c.s===w$)d=c.v;else if(d=t.apply(null,arguments),s++,n){const f=i?.deref?.()??i;f!=null&&n(f,d)&&(d=f,s!==0&&s--),i=typeof d=="object"&&d!==null||typeof d=="function"?new Lve(d):d}return l.s=w$,l.v=d,d}return a.clearCache=()=>{r=b2(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function Ove(t,...e){const r=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,n=(...i)=>{let s=0,a=0,c,u={},l=i.pop();typeof l=="object"&&(u=l,l=i.pop()),Tve(l,`createSelector expects an output function after the inputs, but received: [${typeof l}]`);const d={...r,...u},{memoize:f,memoizeOptions:A=[],argsMemoize:p=kX,argsMemoizeOptions:v=[]}=d,y=b$(A),x=b$(v),w=Nve(i),E=f(function(){return s++,l.apply(null,arguments)},...y),T=p(function(){a++;const j=kve(w,arguments);return c=E.apply(null,j),c},...x);return Object.assign(T,{resultFunc:l,memoizedResultFunc:E,dependencies:w,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>c,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:f,argsMemoize:p})};return Object.assign(n,{withTypes:()=>n}),n}var or=Ove(kX),Pve=Object.assign((t,e=or)=>{Cve(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const r=Object.keys(t),n=r.map(s=>t[s]);return e(n,(...s)=>s.reduce((a,c,u)=>(a[r[u]]=c,a),{}))},{withTypes:()=>Pve}),PI={},RI={},DI={},E$;function Rve(){return E$||(E$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,s)=>{if(n!==i){const a=e(n),c=e(i);if(a===c&&a===0){if(n<i)return s==="desc"?1:-1;if(n>i)return s==="desc"?-1:1}return s==="desc"?c-a:a-c}return 0};t.compareValues=r})(DI)),DI}var MI={},FI={},_$;function IX(){return _$||(_$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"||r instanceof Symbol}t.isSymbol=e})(FI)),FI}var S$;function Dve(){return S$||(S$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=IX(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(s,a){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||a!=null&&Object.hasOwn(a,s)}t.isKey=i})(MI)),MI}var T$;function Mve(){return T$||(T$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Rve(),r=Dve(),n=bD();function i(s,a,c,u){if(s==null)return[];c=u?void 0:c,Array.isArray(s)||(s=Object.values(s)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(p=>String(p));const l=(p,v)=>{let y=p;for(let x=0;x<v.length&&y!=null;++x)y=y[v[x]];return y},d=(p,v)=>v==null||p==null?v:typeof p=="object"&&"key"in p?Object.hasOwn(v,p.key)?v[p.key]:l(v,p.path):typeof p=="function"?p(v):Array.isArray(p)?l(v,p):typeof v=="object"?v[p]:v,f=a.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||r.isKey(p)?p:{key:p,path:n.toPath(p)}));return s.map(p=>({original:p,criteria:f.map(v=>d(v,p))})).slice().sort((p,v)=>{for(let y=0;y<f.length;y++){const x=e.compareValues(p.criteria[y],v.criteria[y],c[y]);if(x!==0)return x}return 0}).map(p=>p.original)}t.orderBy=i})(RI)),RI}var UI={},C$;function Fve(){return C$||(C$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n=1){const i=[],s=Math.floor(n),a=(c,u)=>{for(let l=0;l<c.length;l++){const d=c[l];Array.isArray(d)&&u<s?a(d,u+1):i.push(d)}};return a(r,0),i}t.flatten=e})(UI)),UI}var $I={},j$;function LX(){return j$||(j$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jX(),r=SD(),n=wX(),i=_X();function s(a,c,u){return n.isObject(u)&&(typeof c=="number"&&r.isArrayLike(u)&&e.isIndex(c)&&c<u.length||typeof c=="string"&&c in u)?i.isEqualsSameValueZero(u[c],a):!1}t.isIterateeCall=s})($I)),$I}var N$;function Uve(){return N$||(N$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Mve(),r=Fve(),n=LX();function i(s,...a){const c=a.length;return c>1&&n.isIterateeCall(s,a[0],a[1])?a=[]:c>2&&n.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),e.orderBy(s,r.flatten(a),["asc"])}t.sortBy=i})(PI)),PI}var HI,k$;function $ve(){return k$||(k$=1,HI=Uve().sortBy),HI}var Hve=$ve();const SN=Yf(Hve);var BX=t=>t.legend.settings,Qve=t=>t.legend.size,Vve=t=>t.legend.payload,zve=or([Vve,BX],(t,e)=>{var{itemSorter:r}=e,n=t.flat(1);return r?SN(n,r):n});function Kve(){return si(zve)}var w2=1;function OX(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,r]=k.useState({height:0,left:0,top:0,width:0}),n=k.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),a={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(a.height-e.height)>w2||Math.abs(a.left-e.left)>w2||Math.abs(a.top-e.top)>w2||Math.abs(a.width-e.width)>w2)&&r({height:a.height,left:a.left,top:a.top,width:a.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,n]}function Od(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Gve=typeof Symbol=="function"&&Symbol.observable||"@@observable",I$=Gve,QI=()=>Math.random().toString(36).substring(7).split("").join("."),Wve={INIT:`@@redux/INIT${QI()}`,REPLACE:`@@redux/REPLACE${QI()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${QI()}`},bC=Wve;function jD(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function PX(t,e,r){if(typeof t!="function")throw new Error(Od(2));if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Od(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Od(1));return r(PX)(t,e)}let n=t,i=e,s=new Map,a=s,c=0,u=!1;function l(){a===s&&(a=new Map,s.forEach((x,w)=>{a.set(w,x)}))}function d(){if(u)throw new Error(Od(3));return i}function f(x){if(typeof x!="function")throw new Error(Od(4));if(u)throw new Error(Od(5));let w=!0;l();const E=c++;return a.set(E,x),function(){if(w){if(u)throw new Error(Od(6));w=!1,l(),a.delete(E),s=null}}}function A(x){if(!jD(x))throw new Error(Od(7));if(typeof x.type>"u")throw new Error(Od(8));if(typeof x.type!="string")throw new Error(Od(17));if(u)throw new Error(Od(9));try{u=!0,i=n(i,x)}finally{u=!1}return(s=a).forEach(E=>{E()}),x}function p(x){if(typeof x!="function")throw new Error(Od(10));n=x,A({type:bC.REPLACE})}function v(){const x=f;return{subscribe(w){if(typeof w!="object"||w===null)throw new Error(Od(11));function E(){const C=w;C.next&&C.next(d())}return E(),{unsubscribe:x(E)}},[I$](){return this}}}return A({type:bC.INIT}),{dispatch:A,subscribe:f,getState:d,replaceReducer:p,[I$]:v}}function Yve(t){Object.keys(t).forEach(e=>{const r=t[e];if(typeof r(void 0,{type:bC.INIT})>"u")throw new Error(Od(12));if(typeof r(void 0,{type:bC.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Od(13))})}function RX(t){const e=Object.keys(t),r={};for(let s=0;s<e.length;s++){const a=e[s];typeof t[a]=="function"&&(r[a]=t[a])}const n=Object.keys(r);let i;try{Yve(r)}catch(s){i=s}return function(a={},c){if(i)throw i;let u=!1;const l={};for(let d=0;d<n.length;d++){const f=n[d],A=r[f],p=a[f],v=A(p,c);if(typeof v>"u")throw c&&c.type,new Error(Od(14));l[f]=v,u=u||v!==p}return u=u||n.length!==Object.keys(a).length,u?l:a}}function wC(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,r)=>(...n)=>e(r(...n)))}function qve(...t){return e=>(r,n)=>{const i=e(r,n);let s=()=>{throw new Error(Od(15))};const a={getState:i.getState,dispatch:(u,...l)=>s(u,...l)},c=t.map(u=>u(a));return s=wC(...c)(i.dispatch),{...i,dispatch:s}}}function DX(t){return jD(t)&&"type"in t&&typeof t.type=="string"}var MX=Symbol.for("immer-nothing"),L$=Symbol.for("immer-draftable"),ph=Symbol.for("immer-state");function SA(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var df=Object,xb=df.getPrototypeOf,EC="constructor",TN="prototype",_4="configurable",_C="enumerable",LS="writable",cE="value",$p=t=>!!t&&!!t[ph];function IA(t){return t?FX(t)||jN(t)||!!t[L$]||!!t[EC]?.[L$]||NN(t)||kN(t):!1}var Xve=df[TN][EC].toString(),B$=new WeakMap;function FX(t){if(!t||!ND(t))return!1;const e=xb(t);if(e===null||e===df[TN])return!0;const r=df.hasOwnProperty.call(e,EC)&&e[EC];if(r===Object)return!0;if(!lx(r))return!1;let n=B$.get(r);return n===void 0&&(n=Function.toString.call(r),B$.set(r,n)),n===Xve}function CN(t,e,r=!0){f_(t)===0?(r?Reflect.ownKeys(t):df.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((n,i)=>e(i,n,t))}function f_(t){const e=t[ph];return e?e.type_:jN(t)?1:NN(t)?2:kN(t)?3:0}var O$=(t,e,r=f_(t))=>r===2?t.has(e):df[TN].hasOwnProperty.call(t,e),S4=(t,e,r=f_(t))=>r===2?t.get(e):t[e],SC=(t,e,r,n=f_(t))=>{n===2?t.set(e,r):n===3?t.add(r):t[e]=r};function Zve(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var jN=Array.isArray,NN=t=>t instanceof Map,kN=t=>t instanceof Set,ND=t=>typeof t=="object",lx=t=>typeof t=="function",VI=t=>typeof t=="boolean";function Jve(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var Sp=t=>t.copy_||t.base_,kD=t=>t.modified_?t.copy_:t.base_;function T4(t,e){if(NN(t))return new Map(t);if(kN(t))return new Set(t);if(jN(t))return Array[TN].slice.call(t);const r=FX(t);if(e===!0||e==="class_only"&&!r){const n=df.getOwnPropertyDescriptors(t);delete n[ph];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const a=i[s],c=n[a];c[LS]===!1&&(c[LS]=!0,c[_4]=!0),(c.get||c.set)&&(n[a]={[_4]:!0,[LS]:!0,[_C]:c[_C],[cE]:t[a]})}return df.create(xb(t),n)}else{const n=xb(t);if(n!==null&&r)return{...t};const i=df.create(n);return df.assign(i,t)}}function ID(t,e=!1){return IN(t)||$p(t)||!IA(t)||(f_(t)>1&&df.defineProperties(t,{set:E2,add:E2,clear:E2,delete:E2}),df.freeze(t),e&&CN(t,(r,n)=>{ID(n,!0)},!1)),t}function eye(){SA(2)}var E2={[cE]:eye};function IN(t){return t===null||!ND(t)?!0:df.isFrozen(t)}var TC="MapSet",C4="Patches",P$="ArrayMethods",UX={};function iy(t){const e=UX[t];return e||SA(0,t),e}var R$=t=>!!UX[t],uE,$X=()=>uE,tye=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:R$(TC)?iy(TC):void 0,arrayMethodsPlugin_:R$(P$)?iy(P$):void 0});function D$(t,e){e&&(t.patchPlugin_=iy(C4),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function j4(t){N4(t),t.drafts_.forEach(rye),t.drafts_=null}function N4(t){t===uE&&(uE=t.parent_)}var M$=t=>uE=tye(uE,t);function rye(t){const e=t[ph];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function F$(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];if(t!==void 0&&t!==r){r[ph].modified_&&(j4(e),SA(4)),IA(t)&&(t=U$(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(r[ph].base_,t,e)}else t=U$(e,r);return nye(e,t,!0),j4(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==MX?t:void 0}function U$(t,e){if(IN(e))return e;const r=e[ph];if(!r)return CC(e,t.handledSet_,t);if(!LN(r,t))return e;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(t);VX(r,t)}return r.copy_}function nye(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&ID(e,r)}function HX(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var LN=(t,e)=>t.scope_===e,iye=[];function QX(t,e,r,n){const i=Sp(t),s=t.type_;if(n!==void 0&&S4(i,n,s)===e){SC(i,n,r,s);return}if(!t.draftLocations_){const c=t.draftLocations_=new Map;CN(i,(u,l)=>{if($p(l)){const d=c.get(l)||[];d.push(u),c.set(l,d)}})}const a=t.draftLocations_.get(e)??iye;for(const c of a)SC(i,c,r,s)}function sye(t,e,r){t.callbacks_.push(function(i){const s=e;if(!s||!LN(s,i))return;i.mapSetPlugin_?.fixSetContents(s);const a=kD(s);QX(t,s.draft_??s,a,r),VX(s,i)})}function VX(t,e){if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(t.assigned_?.size??0)>0)){const{patchPlugin_:n}=e;if(n){const i=n.getPath(t);i&&n.generatePatches_(t,i,e)}HX(t)}}function aye(t,e,r){const{scope_:n}=t;if($p(r)){const i=r[ph];LN(i,n)&&i.callbacks_.push(function(){BS(t);const a=kD(i);QX(t,r,a,e)})}else IA(r)&&t.callbacks_.push(function(){const s=Sp(t);t.type_===3?s.has(r)&&CC(r,n.handledSet_,n):S4(s,e,t.type_)===r&&n.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&CC(S4(t.copy_,e,t.type_),n.handledSet_,n)})}function CC(t,e,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||$p(t)||e.has(t)||!IA(t)||IN(t)||(e.add(t),CN(t,(n,i)=>{if($p(i)){const s=i[ph];if(LN(s,r)){const a=kD(s);SC(t,n,a,t.type_),HX(s)}}else IA(i)&&CC(i,e,r)})),t}function oye(t,e){const r=jN(t),n={type_:r?1:0,scope_:e?e.scope_:$X(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=n,s=jC;r&&(i=[n],s=dE);const{revoke:a,proxy:c}=Proxy.revocable(i,s);return n.draft_=c,n.revoke_=a,[c,n]}var jC={get(t,e){if(e===ph)return t;let r=t.scope_.arrayMethodsPlugin_;const n=t.type_===1&&typeof e=="string";if(n&&r?.isArrayOperationMethod(e))return r.createMethodInterceptor(t,e);const i=Sp(t);if(!O$(i,e,t.type_))return lye(t,i,e);const s=i[e];if(t.finalized_||!IA(s)||n&&t.operationMethod&&r?.isMutatingArrayMethod(t.operationMethod)&&Jve(e))return s;if(s===zI(t.base_,e)){BS(t);const a=t.type_===1?+e:e,c=I4(t.scope_,s,t,a);return t.copy_[a]=c}return s},has(t,e){return e in Sp(t)},ownKeys(t){return Reflect.ownKeys(Sp(t))},set(t,e,r){const n=zX(Sp(t),e);if(n?.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const i=zI(Sp(t),e),s=i?.[ph];if(s&&s.base_===r)return t.copy_[e]=r,t.assigned_.set(e,!1),!0;if(Zve(r,i)&&(r!==void 0||O$(t.base_,e,t.type_)))return!0;BS(t),k4(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_.set(e,!0),aye(t,e,r)),!0},deleteProperty(t,e){return BS(t),zI(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),k4(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=Sp(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{[LS]:!0,[_4]:t.type_!==1||e!=="length",[_C]:n[_C],[cE]:r[e]}},defineProperty(){SA(11)},getPrototypeOf(t){return xb(t.base_)},setPrototypeOf(){SA(12)}},dE={};for(let t in jC){let e=jC[t];dE[t]=function(){const r=arguments;return r[0]=r[0][0],e.apply(this,r)}}dE.deleteProperty=function(t,e){return dE.set.call(this,t,e,void 0)};dE.set=function(t,e,r){return jC.set.call(this,t[0],e,r,t[0])};function zI(t,e){const r=t[ph];return(r?Sp(r):t)[e]}function lye(t,e,r){const n=zX(e,r);return n?cE in n?n[cE]:n.get?.call(t.draft_):void 0}function zX(t,e){if(!(e in t))return;let r=xb(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=xb(r)}}function k4(t){t.modified_||(t.modified_=!0,t.parent_&&k4(t.parent_))}function BS(t){t.copy_||(t.assigned_=new Map,t.copy_=T4(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var cye=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,i)=>{if(lx(r)&&!lx(n)){const a=n;n=r;const c=this;return function(l=a,...d){return c.produce(l,f=>n.call(this,f,...d))}}lx(n)||SA(6),i!==void 0&&!lx(i)&&SA(7);let s;if(IA(r)){const a=M$(this),c=I4(a,r,void 0);let u=!0;try{s=n(c),u=!1}finally{u?j4(a):N4(a)}return D$(a,i),F$(s,a)}else if(!r||!ND(r)){if(s=n(r),s===void 0&&(s=r),s===MX&&(s=void 0),this.autoFreeze_&&ID(s,!0),i){const a=[],c=[];iy(C4).generateReplacementPatches_(r,s,{patches_:a,inversePatches_:c}),i(a,c)}return s}else SA(1,r)},this.produceWithPatches=(r,n)=>{if(lx(r))return(c,...u)=>this.produceWithPatches(c,l=>r(l,...u));let i,s;return[this.produce(r,n,(c,u)=>{i=c,s=u}),i,s]},VI(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),VI(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),VI(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){IA(e)||SA(8),$p(e)&&(e=NA(e));const r=M$(this),n=I4(r,e,void 0);return n[ph].isManual_=!0,N4(r),n}finishDraft(e,r){const n=e&&e[ph];(!n||!n.isManual_)&&SA(9);const{scope_:i}=n;return D$(i,r),F$(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,r){let n;for(n=r.length-1;n>=0;n--){const s=r[n];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}n>-1&&(r=r.slice(n+1));const i=iy(C4).applyPatches_;return $p(e)?i(e,r):this.produce(e,s=>i(s,r))}};function I4(t,e,r,n){const[i,s]=NN(e)?iy(TC).proxyMap_(e,r):kN(e)?iy(TC).proxySet_(e,r):oye(e,r);return(r?.scope_??$X()).drafts_.push(i),s.callbacks_=r?.callbacks_??[],s.key_=n,r&&n!==void 0?sye(r,s,n):s.callbacks_.push(function(u){u.mapSetPlugin_?.fixSetContents(s);const{patchPlugin_:l}=u;s.modified_&&l&&l.generatePatches_(s,[],u)}),i}function NA(t){return $p(t)||SA(10,t),KX(t)}function KX(t){if(!IA(t)||IN(t))return t;const e=t[ph];let r,n=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=T4(t,e.scope_.immer_.useStrictShallowCopy_),n=e.scope_.immer_.shouldUseStrictIteration()}else r=T4(t,!0);return CN(r,(i,s)=>{SC(r,i,KX(s))},n),e&&(e.finalized_=!1),r}var uye=new cye,GX=uye.produce;function WX(t){return({dispatch:r,getState:n})=>i=>s=>typeof s=="function"?s(r,n,t):i(s)}var dye=WX(),hye=WX,fye=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?wC:wC.apply(null,arguments)};function Kf(t,e){function r(...n){if(e){let i=e(...n);if(!i)throw new Error(ff(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:n[0]}}return r.toString=()=>`${t}`,r.type=t,r.match=n=>DX(n)&&n.type===t,r}var YX=class tw extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,tw.prototype)}static get[Symbol.species](){return tw}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new tw(...e[0].concat(this)):new tw(...e.concat(this))}};function $$(t){return IA(t)?GX(t,()=>{}):t}function _2(t,e,r){return t.has(e)?t.get(e):t.set(e,r(e)).get(e)}function Aye(t){return typeof t=="boolean"}var mye=()=>function(e){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let a=new YX;return r&&(Aye(r)?a.push(dye):a.push(hye(r.extraArgument))),a},qX="RTK_autoBatch",ql=()=>t=>({payload:t,meta:{[qX]:!0}}),H$=t=>e=>{setTimeout(e,t)},XX=(t={type:"raf"})=>e=>(...r)=>{const n=e(...r);let i=!0,s=!1,a=!1;const c=new Set,u=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:H$(10):t.type==="callback"?t.queueNotification:H$(t.timeout),l=()=>{a=!1,s&&(s=!1,c.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>i&&d(),A=n.subscribe(f);return c.add(d),()=>{A(),c.delete(d)}},dispatch(d){try{return i=!d?.meta?.[qX],s=!i,s&&(a||(a=!0,u(l))),n.dispatch(d)}finally{i=!0}}})},pye=t=>function(r){const{autoBatch:n=!0}=r??{};let i=new YX(t);return n&&i.push(XX(typeof n=="object"?n:void 0)),i};function gye(t){const e=mye(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:s=void 0,enhancers:a=void 0}=t||{};let c;if(typeof r=="function")c=r;else if(jD(r))c=RX(r);else throw new Error(ff(1));let u;typeof n=="function"?u=n(e):u=e();let l=wC;i&&(l=fye({trace:!1,...typeof i=="object"&&i}));const d=qve(...u),f=pye(d);let A=typeof a=="function"?a(f):f();const p=l(...A);return PX(c,s,p)}function ZX(t){const e={},r=[];let n;const i={addCase(s,a){const c=typeof s=="string"?s:s.type;if(!c)throw new Error(ff(28));if(c in e)throw new Error(ff(29));return e[c]=a,i},addAsyncThunk(s,a){return a.pending&&(e[s.pending.type]=a.pending),a.rejected&&(e[s.rejected.type]=a.rejected),a.fulfilled&&(e[s.fulfilled.type]=a.fulfilled),a.settled&&r.push({matcher:s.settled,reducer:a.settled}),i},addMatcher(s,a){return r.push({matcher:s,reducer:a}),i},addDefaultCase(s){return n=s,i}};return t(i),[e,r,n]}function vye(t){return typeof t=="function"}function yye(t,e){let[r,n,i]=ZX(e),s;if(vye(t))s=()=>$$(t());else{const c=$$(t);s=()=>c}function a(c=s(),u){let l=[r[u.type],...n.filter(({matcher:d})=>d(u)).map(({reducer:d})=>d)];return l.filter(d=>!!d).length===0&&(l=[i]),l.reduce((d,f)=>{if(f)if($p(d)){const p=f(d,u);return p===void 0?d:p}else{if(IA(d))return GX(d,A=>f(A,u));{const A=f(d,u);if(A===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return A}}return d},c)}return a.getInitialState=s,a}var xye="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",bye=(t=21)=>{let e="",r=t;for(;r--;)e+=xye[Math.random()*64|0];return e},wye=Symbol.for("rtk-slice-createasyncthunk");function Eye(t,e){return`${t}/${e}`}function _ye({creators:t}={}){const e=t?.asyncThunk?.[wye];return function(n){const{name:i,reducerPath:s=i}=n;if(!i)throw new Error(ff(11));const a=(typeof n.reducers=="function"?n.reducers(Tye()):n.reducers)||{},c=Object.keys(a),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},l={addCase(T,C){const j=typeof T=="string"?T:T.type;if(!j)throw new Error(ff(12));if(j in u.sliceCaseReducersByType)throw new Error(ff(13));return u.sliceCaseReducersByType[j]=C,l},addMatcher(T,C){return u.sliceMatchers.push({matcher:T,reducer:C}),l},exposeAction(T,C){return u.actionCreators[T]=C,l},exposeCaseReducer(T,C){return u.sliceCaseReducersByName[T]=C,l}};c.forEach(T=>{const C=a[T],j={reducerName:T,type:Eye(i,T),createNotation:typeof n.reducers=="function"};jye(C)?kye(j,C,l,e):Cye(j,C,l)});function d(){const[T={},C=[],j=void 0]=typeof n.extraReducers=="function"?ZX(n.extraReducers):[n.extraReducers],P={...T,...u.sliceCaseReducersByType};return yye(n.initialState,U=>{for(let W in P)U.addCase(W,P[W]);for(let W of u.sliceMatchers)U.addMatcher(W.matcher,W.reducer);for(let W of C)U.addMatcher(W.matcher,W.reducer);j&&U.addDefaultCase(j)})}const f=T=>T,A=new Map,p=new WeakMap;let v;function y(T,C){return v||(v=d()),v(T,C)}function x(){return v||(v=d()),v.getInitialState()}function w(T,C=!1){function j(U){let W=U[T];return typeof W>"u"&&C&&(W=_2(p,j,x)),W}function P(U=f){const W=_2(A,C,()=>new WeakMap);return _2(W,U,()=>{const q={};for(const[re,ie]of Object.entries(n.selectors??{}))q[re]=Sye(ie,U,()=>_2(p,U,x),C);return q})}return{reducerPath:T,getSelectors:P,get selectors(){return P(j)},selectSlice:j}}const E={name:i,reducer:y,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:x,...w(s),injectInto(T,{reducerPath:C,...j}={}){const P=C??s;return T.inject({reducerPath:P,reducer:y},j),{...E,...w(P,!0)}}};return E}}function Sye(t,e,r,n){function i(s,...a){let c=e(s);return typeof c>"u"&&n&&(c=r()),t(c,...a)}return i.unwrapped=t,i}var Dh=_ye();function Tye(){function t(e,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...r}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...r){return e(...r)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:r}},asyncThunk:t}}function Cye({type:t,reducerName:e,createNotation:r},n,i){let s,a;if("reducer"in n){if(r&&!Nye(n))throw new Error(ff(17));s=n.reducer,a=n.prepare}else s=n;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,a?Kf(t,a):Kf(t))}function jye(t){return t._reducerDefinitionType==="asyncThunk"}function Nye(t){return t._reducerDefinitionType==="reducerWithPrepare"}function kye({type:t,reducerName:e},r,n,i){if(!i)throw new Error(ff(18));const{payloadCreator:s,fulfilled:a,pending:c,rejected:u,settled:l,options:d}=r,f=i(t,s,d);n.exposeAction(e,f),a&&n.addCase(f.fulfilled,a),c&&n.addCase(f.pending,c),u&&n.addCase(f.rejected,u),l&&n.addMatcher(f.settled,l),n.exposeCaseReducer(e,{fulfilled:a||S2,pending:c||S2,rejected:u||S2,settled:l||S2})}function S2(){}var Iye="task",JX="listener",eZ="completed",LD="cancelled",Lye=`task-${LD}`,Bye=`task-${eZ}`,L4=`${JX}-${LD}`,Oye=`${JX}-${eZ}`,BN=class{constructor(t){this.code=t,this.message=`${Iye} ${LD} (reason: ${t})`}name="TaskAbortError";message},BD=(t,e)=>{if(typeof t!="function")throw new TypeError(ff(32))},NC=()=>{},tZ=(t,e=NC)=>(t.catch(e),t),rZ=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Fv=t=>{if(t.aborted)throw new BN(t.reason)};function nZ(t,e){let r=NC;return new Promise((n,i)=>{const s=()=>i(new BN(t.reason));if(t.aborted){s();return}r=rZ(t,s),e.finally(()=>r()).then(n,i)}).finally(()=>{r=NC})}var Pye=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(r){return{status:r instanceof BN?"cancelled":"rejected",error:r}}finally{e?.()}},kC=t=>e=>tZ(nZ(t,e).then(r=>(Fv(t),r))),iZ=t=>{const e=kC(t);return r=>e(new Promise(n=>setTimeout(n,r)))},{assign:eb}=Object,Q$={},ON="listenerMiddleware",Rye=(t,e)=>{const r=n=>rZ(t,()=>n.abort(t.reason));return(n,i)=>{BD(n);const s=new AbortController;r(s);const a=Pye(async()=>{Fv(t),Fv(s.signal);const c=await n({pause:kC(s.signal),delay:iZ(s.signal),signal:s.signal});return Fv(s.signal),c},()=>s.abort(Bye));return i?.autoJoin&&e.push(a.catch(NC)),{result:kC(t)(a),cancel(){s.abort(Lye)}}}},Dye=(t,e)=>{const r=async(n,i)=>{Fv(e);let s=()=>{};const c=[new Promise((u,l)=>{let d=t({predicate:n,effect:(f,A)=>{A.unsubscribe(),u([f,A.getState(),A.getOriginalState()])}});s=()=>{d(),l()}})];i!=null&&c.push(new Promise(u=>setTimeout(u,i,null)));try{const u=await nZ(e,Promise.race(c));return Fv(e),u}finally{s()}};return(n,i)=>tZ(r(n,i))},sZ=t=>{let{type:e,actionCreator:r,matcher:n,predicate:i,effect:s}=t;if(e)i=Kf(e).match;else if(r)e=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(ff(21));return BD(s),{predicate:i,type:e,effect:s}},aZ=eb(t=>{const{type:e,predicate:r,effect:n}=sZ(t);return{id:bye(),effect:n,type:e,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(ff(22))}}},{withTypes:()=>aZ}),V$=(t,e)=>{const{type:r,effect:n,predicate:i}=sZ(e);return Array.from(t.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===i)&&s.effect===n)},B4=t=>{t.pending.forEach(e=>{e.abort(L4)})},Mye=(t,e)=>()=>{for(const r of e.keys())B4(r);t.clear()},z$=(t,e,r)=>{try{t(e,r)}catch(n){setTimeout(()=>{throw n},0)}},oZ=eb(Kf(`${ON}/add`),{withTypes:()=>oZ}),Fye=Kf(`${ON}/removeAll`),lZ=eb(Kf(`${ON}/remove`),{withTypes:()=>lZ}),Uye=(...t)=>{console.error(`${ON}/error`,...t)},A_=(t={})=>{const e=new Map,r=new Map,n=p=>{const v=r.get(p)??0;r.set(p,v+1)},i=p=>{const v=r.get(p)??1;v===1?r.delete(p):r.set(p,v-1)},{extra:s,onError:a=Uye}=t;BD(a);const c=p=>(p.unsubscribe=()=>e.delete(p.id),e.set(p.id,p),v=>{p.unsubscribe(),v?.cancelActive&&B4(p)}),u=p=>{const v=V$(e,p)??aZ(p);return c(v)};eb(u,{withTypes:()=>u});const l=p=>{const v=V$(e,p);return v&&(v.unsubscribe(),p.cancelActive&&B4(v)),!!v};eb(l,{withTypes:()=>l});const d=async(p,v,y,x)=>{const w=new AbortController,E=Dye(u,w.signal),T=[];try{p.pending.add(w),n(p),await Promise.resolve(p.effect(v,eb({},y,{getOriginalState:x,condition:(C,j)=>E(C,j).then(Boolean),take:E,delay:iZ(w.signal),pause:kC(w.signal),extra:s,signal:w.signal,fork:Rye(w.signal,T),unsubscribe:p.unsubscribe,subscribe:()=>{e.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((C,j,P)=>{C!==w&&(C.abort(L4),P.delete(C))})},cancel:()=>{w.abort(L4),p.pending.delete(w)},throwIfCancelled:()=>{Fv(w.signal)}})))}catch(C){C instanceof BN||z$(a,C,{raisedBy:"effect"})}finally{await Promise.all(T),w.abort(Oye),i(p),p.pending.delete(w)}},f=Mye(e,r);return{middleware:p=>v=>y=>{if(!DX(y))return v(y);if(oZ.match(y))return u(y.payload);if(Fye.match(y)){f();return}if(lZ.match(y))return l(y.payload);let x=p.getState();const w=()=>{if(x===Q$)throw new Error(ff(23));return x};let E;try{if(E=v(y),e.size>0){const T=p.getState(),C=Array.from(e.values());for(const j of C){let P=!1;try{P=j.predicate(y,T,x)}catch(U){P=!1,z$(a,U,{raisedBy:"predicate"})}P&&d(j,y,p,w)}}}finally{x=Q$}return E},startListening:u,stopListening:l,clearListeners:f}};function ff(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var $ye={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},cZ=Dh({name:"chartLayout",initialState:$ye,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var r,n,i,s;t.margin.top=(r=e.payload.top)!==null&&r!==void 0?r:0,t.margin.right=(n=e.payload.right)!==null&&n!==void 0?n:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:Hye,setLayout:Qye,setChartSize:Vye,setScale:zye}=cZ.actions,Kye=cZ.reducer;function uZ(t,e,r){return Array.isArray(t)&&t&&e+r!==0?t.slice(e,r+1):t}function Ha(t){return Number.isFinite(t)}function Fm(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function K$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Hx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?K$(Object(r),!0).forEach(function(n){Gye(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):K$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Gye(t,e,r){return(e=Wye(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wye(t){var e=Yye(t,"string");return typeof e=="symbol"?e:e+""}function Yye(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dl(t,e,r){return eu(t)||eu(e)?r:Mm(e)?ry(t,e,r):typeof e=="function"?e(t):r}var qye=(t,e,r)=>{if(e&&r){var{width:n,height:i}=r,{align:s,verticalAlign:a,layout:c}=e;if((c==="vertical"||c==="horizontal"&&a==="middle")&&s!=="center"&&Ei(t[s]))return Hx(Hx({},t),{},{[s]:t[s]+(n||0)});if((c==="horizontal"||c==="vertical"&&s==="center")&&a!=="middle"&&Ei(t[a]))return Hx(Hx({},t),{},{[a]:t[a]+(i||0)})}return t},Xp=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",dZ=(t,e,r,n)=>{if(n)return t.map(c=>c.coordinate);var i,s,a=t.map(c=>(c.coordinate===e&&(i=!0),c.coordinate===r&&(s=!0),c.coordinate));return i||a.push(e),s||a.push(r),a},hZ=(t,e,r)=>{if(!t)return null;var{duplicateDomain:n,type:i,range:s,scale:a,realScaleType:c,isCategorical:u,categoricalDomain:l,tickCount:d,ticks:f,niceTicks:A,axisType:p}=t;if(!a)return null;var v=c==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,y=i==="category"&&a.bandwidth?a.bandwidth()/v:0;if(y=p==="angleAxis"&&s&&s.length>=2?dd(s[0]-s[1])*2*y:y,f||A){var x=(f||A||[]).map((w,E)=>{var T=n?n.indexOf(w):w,C=a.map(T);return Ha(C)?{coordinate:C+y,value:w,offset:y,index:E}:null}).filter(Lh);return x}return u&&l?l.map((w,E)=>{var T=a.map(w);return Ha(T)?{coordinate:T+y,value:w,index:E,offset:y}:null}).filter(Lh):a.ticks&&d!=null?a.ticks(d).map((w,E)=>{var T=a.map(w);return Ha(T)?{coordinate:T+y,value:w,index:E,offset:y}:null}).filter(Lh):a.domain().map((w,E)=>{var T=a.map(w);return Ha(T)?{coordinate:T+y,value:n?n[w]:w,index:E,offset:y}:null}).filter(Lh)},Xye=(t,e)=>{if(!e||e.length!==2||!Ei(e[0])||!Ei(e[1]))return t;var r=Math.min(e[0],e[1]),n=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!Ei(t[0])||t[0]<r)&&(i[0]=r),(!Ei(t[1])||t[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},Zye=t=>{var e,r=t.length;if(!(r<=0)){var n=(e=t[0])===null||e===void 0?void 0:e.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var s=0,a=0,c=0;c<r;++c){var u=t[c],l=u?.[i];if(l!=null){var d=l[1],f=l[0],A=Dm(d)?f:d;A>=0?(l[0]=s,s+=A,l[1]=s):(l[0]=a,a+=A,l[1]=a)}}}},Jye=t=>{var e,r=t.length;if(!(r<=0)){var n=(e=t[0])===null||e===void 0?void 0:e.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var s=0,a=0;a<r;++a){var c=t[a],u=c?.[i];if(u!=null){var l=Dm(u[1])?u[0]:u[1];l>=0?(u[0]=s,s+=l,u[1]=s):(u[0]=0,u[1]=0)}}}},exe={sign:Zye,expand:y0e,none:ty,silhouette:x0e,wiggle:b0e,positive:Jye},txe=(t,e,r)=>{var n,i=(n=exe[r])!==null&&n!==void 0?n:ty,s=v0e().keys(e).value((c,u)=>Number(dl(c,u,0))).order(w4).offset(i),a=s(t);return a.forEach((c,u)=>{c.forEach((l,d)=>{var f=dl(t[d],e[u],0);Array.isArray(f)&&f.length===2&&Ei(f[0])&&Ei(f[1])&&(l[0]=f[0],l[1]=f[1])})}),a};function rxe(t){return t==null?void 0:String(t)}var G$=t=>{var{axis:e,ticks:r,offset:n,bandSize:i,entry:s,index:a}=t;if(e.type==="category")return r[a]?r[a].coordinate+n:null;var c=dl(s,e.dataKey,e.scale.domain()[a]);if(eu(c))return null;var u=e.scale.map(c);return Ei(u)?u-i/2+n:null},nxe=t=>{var{numericAxis:e}=t,r=e.scale.domain();if(e.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},ixe=t=>{var e=t.flat(2).filter(Ei);return[Math.min(...e),Math.max(...e)]},sxe=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],axe=(t,e,r)=>{if(t!=null)return sxe(Object.keys(t).reduce((n,i)=>{var s=t[i];if(!s)return n;var{stackedData:a}=s,c=a.reduce((u,l)=>{var d=uZ(l,e,r),f=ixe(d);return!Ha(f[0])||!Ha(f[1])?u:[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],n[0]),Math.max(c[1],n[1])]},[1/0,-1/0]))},W$=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Y$=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,bb=(t,e,r)=>{if(t&&t.scale&&t.scale.bandwidth){var n=t.scale.bandwidth();if(!r||n>0)return n}if(t&&e&&e.length>=2){for(var i=SN(e,d=>d.coordinate),s=1/0,a=1,c=i.length;a<c;a++){var u=i[a],l=i[a-1];s=Math.min((u?.coordinate||0)-(l?.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0};function q$(t){var{tooltipEntrySettings:e,dataKey:r,payload:n,value:i,name:s}=t;return Hx(Hx({},e),{},{dataKey:r,payload:n,value:i,name:s})}function Gb(t,e){if(t)return String(t);if(typeof e=="string")return e}var oxe=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},lxe=(t,e)=>e==="centric"?t.angle:t.radius,Zp=t=>t.layout.width,Jp=t=>t.layout.height,cxe=t=>t.layout.scale,fZ=t=>t.layout.margin,PN=or(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),RN=or(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),AZ="data-recharts-item-index",mZ="data-recharts-item-id",m_=60;function X$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function T2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?X$(Object(r),!0).forEach(function(n){uxe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):X$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uxe(t,e,r){return(e=dxe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dxe(t){var e=hxe(t,"string");return typeof e=="symbol"?e:e+""}function hxe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fxe=t=>t.brush.height;function Axe(t){var e=RN(t);return e.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:m_;return r+i}return r},0)}function mxe(t){var e=RN(t);return e.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:m_;return r+i}return r},0)}function pxe(t){var e=PN(t);return e.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function gxe(t){var e=PN(t);return e.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Hu=or([Zp,Jp,fZ,fxe,Axe,mxe,pxe,gxe,BX,Qve],(t,e,r,n,i,s,a,c,u,l)=>{var d={left:(r.left||0)+i,right:(r.right||0)+s},f={top:(r.top||0)+a,bottom:(r.bottom||0)+c},A=T2(T2({},f),d),p=A.bottom;A.bottom+=n,A=qye(A,u,l);var v=t-A.left-A.right,y=e-A.top-A.bottom;return T2(T2({brushBottom:p},A),{},{width:Math.max(v,0),height:Math.max(y,0)})}),vxe=or(Hu,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),OD=or(Zp,Jp,(t,e)=>({x:0,y:0,width:t,height:e})),yxe=k.createContext(null),th=()=>k.useContext(yxe)!=null,DN=t=>t.brush,MN=or([DN,Hu,fZ],(t,e,r)=>({height:t.height,x:Ei(t.x)?t.x:e.left,y:Ei(t.y)?t.y:e.top+e.height+e.brushBottom-(r?.bottom||0),width:Ei(t.width)?t.width:e.width})),KI={},GI={},WI={},Z$;function xxe(){return Z$||(Z$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n,{signal:i,edges:s}={}){let a,c=null;const u=s!=null&&s.includes("leading"),l=s==null||s.includes("trailing"),d=()=>{c!==null&&(r.apply(a,c),a=void 0,c=null)},f=()=>{l&&d(),y()};let A=null;const p=()=>{A!=null&&clearTimeout(A),A=setTimeout(()=>{A=null,f()},n)},v=()=>{A!==null&&(clearTimeout(A),A=null)},y=()=>{v(),a=void 0,c=null},x=()=>{d()},w=function(...E){if(i?.aborted)return;a=this,c=E;const T=A==null;p(),u&&T&&d()};return w.schedule=p,w.cancel=y,w.flush=x,i?.addEventListener("abort",y,{once:!0}),w}t.debounce=e})(WI)),WI}var J$;function bxe(){return J$||(J$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xxe();function r(n,i=0,s={}){typeof s!="object"&&(s={});const{leading:a=!1,trailing:c=!0,maxWait:u}=s,l=Array(2);a&&(l[0]="leading"),c&&(l[1]="trailing");let d,f=null;const A=e.debounce(function(...y){d=n.apply(this,y),f=null},i,{edges:l}),p=function(...y){return u!=null&&(f===null&&(f=Date.now()),Date.now()-f>=u)?(d=n.apply(this,y),f=Date.now(),A.cancel(),A.schedule(),d):(A.apply(this,y),d)},v=()=>(A.flush(),d);return p.cancel=A.cancel,p.flush=v,p}t.debounce=r})(GI)),GI}var e9;function wxe(){return e9||(e9=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bxe();function r(n,i=0,s={}){const{leading:a=!0,trailing:c=!0}=s;return e.debounce(n,i,{leading:a,maxWait:i,trailing:c})}t.throttle=r})(KI)),KI}var YI,t9;function Exe(){return t9||(t9=1,YI=wxe().throttle),YI}var _xe=Exe();const Sxe=Yf(_xe);var IC=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;console.warn(r.replace(/%s/g,()=>i[a++]))}},_m={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},pZ=(t,e,r)=>{var{width:n=_m.width,height:i=_m.height,aspect:s,maxHeight:a}=r,c=ny(n)?t:Number(n),u=ny(i)?e:Number(i);return s&&s>0&&(c?u=c/s:u&&(c=u*s),a&&u!=null&&u>a&&(u=a)),{calculatedWidth:c,calculatedHeight:u}},Txe={width:0,height:0,overflow:"visible"},Cxe={width:0,overflowX:"visible"},jxe={height:0,overflowY:"visible"},Nxe={},kxe=t=>{var{width:e,height:r}=t,n=ny(e),i=ny(r);return n&&i?Txe:n?Cxe:i?jxe:Nxe};function Ixe(t){var{width:e,height:r,aspect:n}=t,i=e,s=r;return i===void 0&&s===void 0?(i=_m.width,s=_m.height):i===void 0?i=n&&n>0?void 0:_m.width:s===void 0&&(s=n&&n>0?void 0:_m.height),{width:i,height:s}}function O4(){return O4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},O4.apply(null,arguments)}function r9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function n9(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?r9(Object(r),!0).forEach(function(n){Lxe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):r9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lxe(t,e,r){return(e=Bxe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bxe(t){var e=Oxe(t,"string");return typeof e=="symbol"?e:e+""}function Oxe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gZ=k.createContext(_m.initialDimension);function Pxe(t){return Fm(t.width)&&Fm(t.height)}function vZ(t){var{children:e,width:r,height:n}=t,i=k.useMemo(()=>({width:r,height:n}),[r,n]);return Pxe(i)?k.createElement(gZ.Provider,{value:i},e):null}var PD=()=>k.useContext(gZ),Rxe=k.forwardRef((t,e)=>{var{aspect:r,initialDimension:n=_m.initialDimension,width:i,height:s,minWidth:a=_m.minWidth,minHeight:c,maxHeight:u,children:l,debounce:d=_m.debounce,id:f,className:A,onResize:p,style:v={}}=t,y=k.useRef(null),x=k.useRef();x.current=p,k.useImperativeHandle(e,()=>y.current);var[w,E]=k.useState({containerWidth:n.width,containerHeight:n.height}),T=k.useCallback((W,q)=>{E(re=>{var ie=Math.round(W),Ae=Math.round(q);return re.containerWidth===ie&&re.containerHeight===Ae?re:{containerWidth:ie,containerHeight:Ae}})},[]);k.useEffect(()=>{if(y.current==null||typeof ResizeObserver>"u")return L0;var W=Ae=>{var be,Ee=Ae[0];if(Ee!=null){var{width:ge,height:se}=Ee.contentRect;T(ge,se),(be=x.current)===null||be===void 0||be.call(x,ge,se)}};d>0&&(W=Sxe(W,d,{trailing:!0,leading:!1}));var q=new ResizeObserver(W),{width:re,height:ie}=y.current.getBoundingClientRect();return T(re,ie),q.observe(y.current),()=>{q.disconnect()}},[T,d]);var{containerWidth:C,containerHeight:j}=w;IC(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:P,calculatedHeight:U}=pZ(C,j,{width:i,height:s,aspect:r,maxHeight:u});return IC(P!=null&&P>0||U!=null&&U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,P,U,i,s,a,c,r),k.createElement("div",{id:f?"".concat(f):void 0,className:Sa("recharts-responsive-container",A),style:n9(n9({},v),{},{width:i,height:s,minWidth:a,minHeight:c,maxHeight:u}),ref:y},k.createElement("div",{style:kxe({width:i,height:s})},k.createElement(vZ,{width:P,height:U},l)))}),LC=k.forwardRef((t,e)=>{var r=PD();if(Fm(r.width)&&Fm(r.height))return t.children;var{width:n,height:i}=Ixe({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:s,calculatedHeight:a}=pZ(void 0,void 0,{width:n,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return Ei(s)&&Ei(a)?k.createElement(vZ,{width:s,height:a},t.children):k.createElement(Rxe,O4({},t,{width:n,height:i,ref:e}))});function RD(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var FN=()=>{var t,e=th(),r=si(vxe),n=si(MN),i=(t=si(DN))===null||t===void 0?void 0:t.padding;return!e||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},Dxe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},yZ=()=>{var t;return(t=si(Hu))!==null&&t!==void 0?t:Dxe},DD=()=>si(Zp),MD=()=>si(Jp),Mxe=()=>si(t=>t.layout.margin),Wa=t=>t.layout.layoutType,Wb=()=>si(Wa),xZ=()=>{var t=Wb();if(t==="horizontal"||t==="vertical")return t},FD=t=>{var e=t.layout.layoutType;if(e==="centric"||e==="radial")return e},Fxe=()=>si(FD),Uxe=()=>{var t=Wb();return t!==void 0},p_=t=>{var e=Al(),r=th(),{width:n,height:i}=t,s=PD(),a=n,c=i;return s&&(a=s.width>0?s.width:n,c=s.height>0?s.height:i),k.useEffect(()=>{!r&&Fm(a)&&Fm(c)&&e(Vye({width:a,height:c}))},[e,r,a,c]),null},bZ=Symbol.for("immer-nothing"),i9=Symbol.for("immer-draftable"),pf=Symbol.for("immer-state");function TA(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var hE=Object.getPrototypeOf;function wb(t){return!!t&&!!t[pf]}function sy(t){return t?wZ(t)||Array.isArray(t)||!!t[i9]||!!t.constructor?.[i9]||g_(t)||$N(t):!1}var $xe=Object.prototype.constructor.toString(),s9=new WeakMap;function wZ(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=s9.get(r);return n===void 0&&(n=Function.toString.call(r),s9.set(r,n)),n===$xe}function BC(t,e,r=!0){UN(t)===0?(r?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((n,i)=>e(i,n,t))}function UN(t){const e=t[pf];return e?e.type_:Array.isArray(t)?1:g_(t)?2:$N(t)?3:0}function P4(t,e){return UN(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function EZ(t,e,r){const n=UN(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function Hxe(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function g_(t){return t instanceof Map}function $N(t){return t instanceof Set}function ov(t){return t.copy_||t.base_}function R4(t,e){if(g_(t))return new Map(t);if($N(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=wZ(t);if(e===!0||e==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(t);delete n[pf];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const a=i[s],c=n[a];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(n[a]={configurable:!0,writable:!0,enumerable:c.enumerable,value:t[a]})}return Object.create(hE(t),n)}else{const n=hE(t);if(n!==null&&r)return{...t};const i=Object.create(n);return Object.assign(i,t)}}function UD(t,e=!1){return HN(t)||wb(t)||!sy(t)||(UN(t)>1&&Object.defineProperties(t,{set:C2,add:C2,clear:C2,delete:C2}),Object.freeze(t),e&&Object.values(t).forEach(r=>UD(r,!0))),t}function Qxe(){TA(2)}var C2={value:Qxe};function HN(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var Vxe={};function ay(t){const e=Vxe[t];return e||TA(0,t),e}var fE;function _Z(){return fE}function zxe(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function a9(t,e){e&&(ay("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function D4(t){M4(t),t.drafts_.forEach(Kxe),t.drafts_=null}function M4(t){t===fE&&(fE=t.parent_)}function o9(t){return fE=zxe(fE,t)}function Kxe(t){const e=t[pf];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function l9(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[pf].modified_&&(D4(e),TA(4)),sy(t)&&(t=OC(e,t),e.parent_||PC(e,t)),e.patches_&&ay("Patches").generateReplacementPatches_(r[pf].base_,t,e.patches_,e.inversePatches_)):t=OC(e,r,[]),D4(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==bZ?t:void 0}function OC(t,e,r){if(HN(e))return e;const n=t.immer_.shouldUseStrictIteration(),i=e[pf];if(!i)return BC(e,(s,a)=>c9(t,i,e,s,a,r),n),e;if(i.scope_!==t)return e;if(!i.modified_)return PC(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let a=s,c=!1;i.type_===3&&(a=new Set(s),s.clear(),c=!0),BC(a,(u,l)=>c9(t,i,s,u,l,r,c),n),PC(t,s,!1),r&&t.patches_&&ay("Patches").generatePatches_(i,r,t.patches_,t.inversePatches_)}return i.copy_}function c9(t,e,r,n,i,s,a){if(i==null||typeof i!="object"&&!a)return;const c=HN(i);if(!(c&&!a)){if(wb(i)){const u=s&&e&&e.type_!==3&&!P4(e.assigned_,n)?s.concat(n):void 0,l=OC(t,i,u);if(EZ(r,n,l),wb(l))t.canAutoFreeze_=!1;else return}else a&&r.add(i);if(sy(i)&&!c){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[n]===i&&c)return;OC(t,i),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&(g_(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&PC(t,i)}}}function PC(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&UD(e,r)}function Gxe(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:_Z(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,s=$D;r&&(i=[n],s=AE);const{revoke:a,proxy:c}=Proxy.revocable(i,s);return n.draft_=c,n.revoke_=a,c}var $D={get(t,e){if(e===pf)return t;const r=ov(t);if(!P4(r,e))return Wxe(t,r,e);const n=r[e];return t.finalized_||!sy(n)?n:n===qI(t.base_,e)?(XI(t),t.copy_[e]=U4(n,t)):n},has(t,e){return e in ov(t)},ownKeys(t){return Reflect.ownKeys(ov(t))},set(t,e,r){const n=SZ(ov(t),e);if(n?.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const i=qI(ov(t),e),s=i?.[pf];if(s&&s.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(Hxe(r,i)&&(r!==void 0||P4(t.base_,e)))return!0;XI(t),F4(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return qI(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,XI(t),F4(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=ov(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){TA(11)},getPrototypeOf(t){return hE(t.base_)},setPrototypeOf(){TA(12)}},AE={};BC($D,(t,e)=>{AE[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});AE.deleteProperty=function(t,e){return AE.set.call(this,t,e,void 0)};AE.set=function(t,e,r){return $D.set.call(this,t[0],e,r,t[0])};function qI(t,e){const r=t[pf];return(r?ov(r):t)[e]}function Wxe(t,e,r){const n=SZ(e,r);return n?"value"in n?n.value:n.get?.call(t.draft_):void 0}function SZ(t,e){if(!(e in t))return;let r=hE(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=hE(r)}}function F4(t){t.modified_||(t.modified_=!0,t.parent_&&F4(t.parent_))}function XI(t){t.copy_||(t.copy_=R4(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Yxe=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const s=r;r=e;const a=this;return function(u=s,...l){return a.produce(u,d=>r.call(this,d,...l))}}typeof r!="function"&&TA(6),n!==void 0&&typeof n!="function"&&TA(7);let i;if(sy(e)){const s=o9(this),a=U4(e,void 0);let c=!0;try{i=r(a),c=!1}finally{c?D4(s):M4(s)}return a9(s,n),l9(i,s)}else if(!e||typeof e!="object"){if(i=r(e),i===void 0&&(i=e),i===bZ&&(i=void 0),this.autoFreeze_&&UD(i,!0),n){const s=[],a=[];ay("Patches").generateReplacementPatches_(e,i,s,a),n(s,a)}return i}else TA(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(a,...c)=>this.produceWithPatches(a,u=>e(u,...c));let n,i;return[this.produce(e,r,(a,c)=>{n=a,i=c}),n,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof t?.useStrictIteration=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){sy(t)||TA(8),wb(t)&&(t=qxe(t));const e=o9(this),r=U4(t,void 0);return r[pf].isManual_=!0,M4(e),r}finishDraft(t,e){const r=t&&t[pf];(!r||!r.isManual_)&&TA(9);const{scope_:n}=r;return a9(n,e),l9(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const i=e[r];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}r>-1&&(e=e.slice(r+1));const n=ay("Patches").applyPatches_;return wb(t)?n(t,e):this.produce(t,i=>n(i,e))}};function U4(t,e){const r=g_(t)?ay("MapSet").proxyMap_(t,e):$N(t)?ay("MapSet").proxySet_(t,e):Gxe(t,e);return(e?e.scope_:_Z()).drafts_.push(r),r}function qxe(t){return wb(t)||TA(10,t),TZ(t)}function TZ(t){if(!sy(t)||HN(t))return t;const e=t[pf];let r,n=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=R4(t,e.scope_.immer_.useStrictShallowCopy_),n=e.scope_.immer_.shouldUseStrictIteration()}else r=R4(t,!0);return BC(r,(i,s)=>{EZ(r,i,TZ(s))},n),e&&(e.finalized_=!1),r}var Xxe=new Yxe;Xxe.produce;var Zxe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},CZ=Dh({name:"legend",initialState:Zxe,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:ql()},replaceLegendPayload:{reducer(t,e){var{prev:r,next:n}=e.payload,i=NA(t).payload.indexOf(r);i>-1&&(t.payload[i]=n)},prepare:ql()},removeLegendPayload:{reducer(t,e){var r=NA(t).payload.indexOf(e.payload);r>-1&&t.payload.splice(r,1)},prepare:ql()}}}),{setLegendSize:u9,setLegendSettings:Jxe,addLegendPayload:jZ,replaceLegendPayload:NZ,removeLegendPayload:kZ}=CZ.actions,ebe=CZ.reducer,tbe=["contextPayload"];function $4(){return $4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$4.apply(null,arguments)}function d9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Eb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?d9(Object(r),!0).forEach(function(n){rbe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rbe(t,e,r){return(e=nbe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nbe(t){var e=ibe(t,"string");return typeof e=="symbol"?e:e+""}function ibe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sbe(t,e){if(t==null)return{};var r,n,i=abe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function abe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function obe(t){return t.value}function lbe(t){var{contextPayload:e}=t,r=sbe(t,tbe),n=NX(e,t.payloadUniqBy,obe),i=Eb(Eb({},r),{},{payload:n});return k.isValidElement(t.content)?k.cloneElement(t.content,i):typeof t.content=="function"?k.createElement(t.content,i):k.createElement(X0e,i)}function cbe(t,e,r,n,i,s){var{layout:a,align:c,verticalAlign:u}=e,l,d;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(c==="center"&&a==="vertical"?l={left:((n||0)-s.width)/2}:l=c==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(u==="middle"?d={top:((i||0)-s.height)/2}:d=u==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Eb(Eb({},l),d)}function ube(t){var e=Al();return k.useEffect(()=>{e(Jxe(t))},[e,t]),null}function dbe(t){var e=Al();return k.useEffect(()=>(e(u9(t)),()=>{e(u9({width:0,height:0}))}),[e,t]),null}function hbe(t,e,r,n){return t==="vertical"&&e!=null?{height:e}:t==="horizontal"?{width:r||n}:null}var fbe={align:"center",iconSize:14,inactiveColor:"#ccc",itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function IZ(t){var e=Fc(t,fbe),r=Kve(),n=Hge(),i=Mxe(),{width:s,height:a,wrapperStyle:c,portal:u}=e,[l,d]=OX([r]),f=DD(),A=MD();if(f==null||A==null)return null;var p=f-(i?.left||0)-(i?.right||0),v=hbe(e.layout,a,s,p),y=u?c:Eb(Eb({position:"absolute",width:v?.width||s||"auto",height:v?.height||a||"auto"},cbe(c,e,i,f,A,l)),c),x=u??n;if(x==null||r==null)return null;var w=k.createElement("div",{className:"recharts-legend-wrapper",style:y,ref:d},k.createElement(ube,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),!u&&k.createElement(dbe,{width:l.width,height:l.height}),k.createElement(lbe,$4({},e,v,{margin:i,chartWidth:f,chartHeight:A,contextPayload:r})));return d0.createPortal(w,x)}IZ.displayName="Legend";function H4(){return H4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},H4.apply(null,arguments)}function h9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function j1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?h9(Object(r),!0).forEach(function(n){Abe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Abe(t,e,r){return(e=mbe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mbe(t){var e=pbe(t,"string");return typeof e=="symbol"?e:e+""}function pbe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gbe(t){return Array.isArray(t)&&Mm(t[0])&&Mm(t[1])?t.join(" ~ "):t}var My={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},vbe=t=>{var{separator:e=My.separator,contentStyle:r,itemStyle:n,labelStyle:i=My.labelStyle,payload:s,formatter:a,itemSorter:c,wrapperClassName:u,labelClassName:l,label:d,labelFormatter:f,accessibilityLayer:A=My.accessibilityLayer}=t,p=()=>{if(s&&s.length){var j={padding:0,margin:0},P=(c?SN(s,c):s).map((U,W)=>{if(U.type==="none")return null;var q=U.formatter||a||gbe,{value:re,name:ie}=U,Ae=re,be=ie;if(q){var Ee=q(re,ie,U,W,s);if(Array.isArray(Ee))[Ae,be]=Ee;else if(Ee!=null)Ae=Ee;else return null}var ge=j1(j1({},My.itemStyle),{},{color:U.color||My.itemStyle.color},n);return k.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(W),style:ge},Mm(be)?k.createElement("span",{className:"recharts-tooltip-item-name"},be):null,Mm(be)?k.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,k.createElement("span",{className:"recharts-tooltip-item-value"},Ae),k.createElement("span",{className:"recharts-tooltip-item-unit"},U.unit||""))});return k.createElement("ul",{className:"recharts-tooltip-item-list",style:j},P)}return null},v=j1(j1({},My.contentStyle),r),y=j1({margin:0},i),x=!eu(d),w=x?d:"",E=Sa("recharts-default-tooltip",u),T=Sa("recharts-tooltip-label",l);x&&f&&s!==void 0&&s!==null&&(w=f(d,s));var C=A?{role:"status","aria-live":"assertive"}:{};return k.createElement("div",H4({className:E,style:v},C),k.createElement("p",{className:T,style:y},k.isValidElement(w)?w:"".concat(w)),p())},N1="recharts-tooltip-wrapper",ybe={visibility:"hidden"};function xbe(t){var{coordinate:e,translateX:r,translateY:n}=t;return Sa(N1,{["".concat(N1,"-right")]:Ei(r)&&e&&Ei(e.x)&&r>=e.x,["".concat(N1,"-left")]:Ei(r)&&e&&Ei(e.x)&&r<e.x,["".concat(N1,"-bottom")]:Ei(n)&&e&&Ei(e.y)&&n>=e.y,["".concat(N1,"-top")]:Ei(n)&&e&&Ei(e.y)&&n<e.y})}function f9(t){var{allowEscapeViewBox:e,coordinate:r,key:n,offset:i,position:s,reverseDirection:a,tooltipDimension:c,viewBox:u,viewBoxDimension:l}=t;if(s&&Ei(s[n]))return s[n];var d=r[n]-c-(i>0?i:0),f=r[n]+i;if(e[n])return a[n]?d:f;var A=u[n];if(A==null)return 0;if(a[n]){var p=d,v=A;return p<v?Math.max(f,A):Math.max(d,A)}if(l==null)return 0;var y=f+c,x=A+l;return y>x?Math.max(d,A):Math.max(f,A)}function bbe(t){var{translateX:e,translateY:r,useTranslate3d:n}=t;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function wbe(t){var{allowEscapeViewBox:e,coordinate:r,offsetTop:n,offsetLeft:i,position:s,reverseDirection:a,tooltipBox:c,useTranslate3d:u,viewBox:l}=t,d,f,A;return c.height>0&&c.width>0&&r?(f=f9({allowEscapeViewBox:e,coordinate:r,key:"x",offset:i,position:s,reverseDirection:a,tooltipDimension:c.width,viewBox:l,viewBoxDimension:l.width}),A=f9({allowEscapeViewBox:e,coordinate:r,key:"y",offset:n,position:s,reverseDirection:a,tooltipDimension:c.height,viewBox:l,viewBoxDimension:l.height}),d=bbe({translateX:f,translateY:A,useTranslate3d:u})):d=ybe,{cssProperties:d,cssClasses:xbe({translateX:f,translateY:A,coordinate:r})}}function A9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function j2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?A9(Object(r),!0).forEach(function(n){Q4(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Q4(t,e,r){return(e=Ebe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ebe(t){var e=_be(t,"string");return typeof e=="symbol"?e:e+""}function _be(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Sbe extends k.PureComponent{constructor(){super(...arguments),Q4(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Q4(this,"handleKeyDown",e=>{if(e.key==="Escape"){var r,n,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,r;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:s,coordinate:a,hasPayload:c,isAnimationActive:u,offset:l,position:d,reverseDirection:f,useTranslate3d:A,viewBox:p,wrapperStyle:v,lastBoundingBox:y,innerRef:x,hasPortalFromProps:w}=this.props,E=typeof l=="number"?l:l.x,T=typeof l=="number"?l:l.y,{cssClasses:C,cssProperties:j}=wbe({allowEscapeViewBox:r,coordinate:a,offsetLeft:E,offsetTop:T,position:d,reverseDirection:f,tooltipBox:{height:y.height,width:y.width},useTranslate3d:A,viewBox:p}),P=w?{}:j2(j2({transition:u&&e?"transform ".concat(n,"ms ").concat(i):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&c?"visible":"hidden",position:"absolute",top:0,left:0}),U=j2(j2({},P),{},{visibility:!this.state.dismissed&&e&&c?"visible":"hidden"},v);return k.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:C,style:U,ref:x},s)}}var LZ=()=>{var t;return(t=si(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function V4(){return V4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},V4.apply(null,arguments)}function m9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function p9(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?m9(Object(r),!0).forEach(function(n){Tbe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Tbe(t,e,r){return(e=Cbe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cbe(t){var e=jbe(t,"string");return typeof e=="symbol"?e:e+""}function jbe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var g9={curveBasisClosed:o0e,curveBasisOpen:l0e,curveBasis:a0e,curveBumpX:Kge,curveBumpY:Gge,curveLinearClosed:c0e,curveLinear:EN,curveMonotoneX:u0e,curveMonotoneY:d0e,curveNatural:h0e,curveStep:f0e,curveStepAfter:m0e,curveStepBefore:A0e},RC=t=>Ha(t.x)&&Ha(t.y),v9=t=>t.base!=null&&RC(t.base)&&RC(t),k1=t=>t.x,I1=t=>t.y,Nbe=(t,e)=>{if(typeof t=="function")return t;var r="curve".concat(h_(t));if((r==="curveMonotone"||r==="curveBump")&&e){var n=g9["".concat(r).concat(e==="vertical"?"Y":"X")];if(n)return n}return g9[r]||EN},y9={connectNulls:!1,type:"linear"},kbe=t=>{var{type:e=y9.type,points:r=[],baseLine:n,layout:i,connectNulls:s=y9.connectNulls}=t,a=Nbe(e,i),c=s?r.filter(RC):r;if(Array.isArray(n)){var u,l=r.map((v,y)=>p9(p9({},v),{},{base:n[y]}));i==="vertical"?u=x2().y(I1).x1(k1).x0(v=>v.base.x):u=x2().x(k1).y1(I1).y0(v=>v.base.y);var d=u.defined(v9).curve(a),f=s?l.filter(v9):l;return d(f)}var A;i==="vertical"&&Ei(n)?A=x2().y(I1).x1(k1).x0(n):Ei(n)?A=x2().x(k1).y1(I1).y0(n):A=aX().x(k1).y(I1);var p=A.defined(RC).curve(a);return p(c)},HD=t=>{var{className:e,points:r,path:n,pathRef:i}=t,s=Wb();if((!r||!r.length)&&!n)return null;var a={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||s,connectNulls:t.connectNulls},c=r&&r.length?kbe(a):n;return k.createElement("path",V4({},gu(t),_D(t),{className:Sa("recharts-curve",e),d:c===null?void 0:c,ref:i}))},Ibe=["x","y","top","left","width","height","className"];function z4(){return z4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},z4.apply(null,arguments)}function x9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Lbe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?x9(Object(r),!0).forEach(function(n){Bbe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):x9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Bbe(t,e,r){return(e=Obe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Obe(t){var e=Pbe(t,"string");return typeof e=="symbol"?e:e+""}function Pbe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rbe(t,e){if(t==null)return{};var r,n,i=Dbe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Dbe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Mbe=(t,e,r,n,i,s)=>"M".concat(t,",").concat(i,"v").concat(n,"M").concat(s,",").concat(e,"h").concat(r),Fbe=t=>{var{x:e=0,y:r=0,top:n=0,left:i=0,width:s=0,height:a=0,className:c}=t,u=Rbe(t,Ibe),l=Lbe({x:e,y:r,top:n,left:i,width:s,height:a},u);return!Ei(e)||!Ei(r)||!Ei(s)||!Ei(a)||!Ei(n)||!Ei(i)?null:k.createElement("path",z4({},Uu(l),{className:Sa("recharts-cross",c),d:Mbe(e,r,s,a,n,i)}))};function Ube(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function b9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function w9(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?b9(Object(r),!0).forEach(function(n){$be(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $be(t,e,r){return(e=Hbe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hbe(t){var e=Qbe(t,"string");return typeof e=="symbol"?e:e+""}function Qbe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vbe=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),BZ=(t,e,r)=>t.map(n=>"".concat(Vbe(n)," ").concat(e,"ms ").concat(r)).join(","),zbe=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((r,n)=>r.filter(i=>n.includes(i))),mE=(t,e)=>Object.keys(e).reduce((r,n)=>w9(w9({},r),{},{[n]:t(n,e[n])}),{});function E9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Pu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?E9(Object(r),!0).forEach(function(n){Kbe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):E9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kbe(t,e,r){return(e=Gbe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gbe(t){var e=Wbe(t,"string");return typeof e=="symbol"?e:e+""}function Wbe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DC=(t,e,r)=>t+(e-t)*r,K4=t=>{var{from:e,to:r}=t;return e!==r},OZ=(t,e,r)=>{var n=mE((i,s)=>{if(K4(s)){var[a,c]=t(s.from,s.to,s.velocity);return Pu(Pu({},s),{},{from:a,velocity:c})}return s},e);return r<1?mE((i,s)=>K4(s)&&n[i]!=null?Pu(Pu({},s),{},{velocity:DC(s.velocity,n[i].velocity,r),from:DC(s.from,n[i].from,r)}):s,e):OZ(t,n,r-1)};function Ybe(t,e,r,n,i,s){var a,c=n.reduce((A,p)=>Pu(Pu({},A),{},{[p]:{from:t[p],velocity:0,to:e[p]}}),{}),u=()=>mE((A,p)=>p.from,c),l=()=>!Object.values(c).filter(K4).length,d=null,f=A=>{a||(a=A);var p=A-a,v=p/r.dt;c=OZ(r,c,v),i(Pu(Pu(Pu({},t),e),u())),a=A,l()||(d=s.setTimeout(f))};return()=>(d=s.setTimeout(f),()=>{var A;(A=d)===null||A===void 0||A()})}function qbe(t,e,r,n,i,s,a){var c=null,u=i.reduce((f,A)=>{var p=t[A],v=e[A];return p==null||v==null?f:Pu(Pu({},f),{},{[A]:[p,v]})},{}),l,d=f=>{l||(l=f);var A=(f-l)/n,p=mE((y,x)=>DC(...x,r(A)),u);if(s(Pu(Pu(Pu({},t),e),p)),A<1)c=a.setTimeout(d);else{var v=mE((y,x)=>DC(...x,r(1)),u);s(Pu(Pu(Pu({},t),e),v))}};return()=>(c=a.setTimeout(d),()=>{var f;(f=c)===null||f===void 0||f()})}const Xbe=(t,e,r,n,i,s)=>{var a=zbe(t,e);return r==null?()=>(i(Pu(Pu({},t),e)),()=>{}):r.isStepper===!0?Ybe(t,e,r,a,i,s):qbe(t,e,r,n,a,i,s)};var MC=1e-4,PZ=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],RZ=(t,e)=>t.map((r,n)=>r*e**n).reduce((r,n)=>r+n),_9=(t,e)=>r=>{var n=PZ(t,e);return RZ(n,r)},Zbe=(t,e)=>r=>{var n=PZ(t,e),i=[...n.map((s,a)=>s*a).slice(1),0];return RZ(i,r)},Jbe=t=>{var e,r=t.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(e=r[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(n==null||n.length!==4)return null;var i=n.map(s=>parseFloat(s));return[i[0],i[1],i[2],i[3]]},e1e=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=Jbe(r[0]);if(i)return i}}return r.length===4?r:[0,0,1,1]},t1e=(t,e,r,n)=>{var i=_9(t,r),s=_9(e,n),a=Zbe(t,r),c=l=>l>1?1:l<0?0:l,u=l=>{for(var d=l>1?1:l,f=d,A=0;A<8;++A){var p=i(f)-d,v=a(f);if(Math.abs(p-d)<MC||v<MC)return s(f);f=c(f-p/v)}return s(f)};return u.isStepper=!1,u},S9=function(){return t1e(...e1e(...arguments))},r1e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=e,s=(a,c,u)=>{var l=-(a-c)*r,d=u*n,f=u+(l-d)*i/1e3,A=u*i/1e3+a;return Math.abs(A-c)<MC&&Math.abs(f)<MC?[c,0]:[A,f]};return s.isStepper=!0,s.dt=i,s},n1e=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return S9(t);case"spring":return r1e();default:if(t.split("(")[0]==="cubic-bezier")return S9(t)}return typeof t=="function"?t:null};function i1e(t){var e,r=()=>null,n=!1,i=null,s=a=>{if(!n){if(Array.isArray(a)){if(!a.length)return;var c=a,[u,...l]=c;if(typeof u=="number"){i=t.setTimeout(s.bind(null,l),u);return}s(u),i=t.setTimeout(s.bind(null,l));return}typeof a=="string"&&(e=a,r(e)),typeof a=="object"&&(e=a,r(e)),typeof a=="function"&&a()}};return{stop:()=>{n=!0},start:a=>{n=!1,i&&(i(),i=null),s(a)},subscribe:a=>(r=a,()=>{r=()=>null}),getTimeoutController:()=>t}}class s1e{setTimeout(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,s=a=>{a-n>=r?e(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function a1e(){return i1e(new s1e)}var o1e=k.createContext(a1e);function l1e(t,e){var r=k.useContext(o1e);return k.useMemo(()=>e??r(t),[t,e,r])}var c1e=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),QN={isSsr:c1e()},u1e={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},T9={t:0},ZI={t:1};function v_(t){var e=Fc(t,u1e),{isActive:r,canBegin:n,duration:i,easing:s,begin:a,onAnimationEnd:c,onAnimationStart:u,children:l}=e,d=r==="auto"?!QN.isSsr:r,f=l1e(e.animationId,e.animationManager),[A,p]=k.useState(d?T9:ZI),v=k.useRef(null);return k.useEffect(()=>{d||p(ZI)},[d]),k.useEffect(()=>{if(!d||!n)return L0;var y=Xbe(T9,ZI,n1e(s),i,p,f.getTimeoutController()),x=()=>{v.current=y()};return f.start([u,a,x,i,c]),()=>{f.stop(),v.current&&v.current(),c()}},[d,n,i,s,a,u,c,f]),l(A.t)}function y_(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=k.useRef(lE(e)),n=k.useRef(t);return n.current!==t&&(r.current=lE(e),n.current=t),r.current}var d1e=["radius"],h1e=["radius"],C9,j9,N9,k9,I9,L9,B9,O9,P9,R9;function D9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function M9(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?D9(Object(r),!0).forEach(function(n){f1e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):D9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function f1e(t,e,r){return(e=A1e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function A1e(t){var e=m1e(t,"string");return typeof e=="symbol"?e:e+""}function m1e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function FC(){return FC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},FC.apply(null,arguments)}function F9(t,e){if(t==null)return{};var r,n,i=p1e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function p1e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function ZA(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var U9=(t,e,r,n,i)=>{var s=A0(r),a=A0(n),c=Math.min(Math.abs(s)/2,Math.abs(a)/2),u=a>=0?1:-1,l=s>=0?1:-1,d=a>=0&&s>=0||a<0&&s<0?1:0,f;if(c>0&&Array.isArray(i)){for(var A=[0,0,0,0],p=0,v=4;p<v;p++){var y,x=(y=i[p])!==null&&y!==void 0?y:0;A[p]=x>c?c:x}f=cc(C9||(C9=ZA(["M",",",""])),t,e+u*A[0]),A[0]>0&&(f+=cc(j9||(j9=ZA(["A ",",",",0,0,",",",",",""])),A[0],A[0],d,t+l*A[0],e)),f+=cc(N9||(N9=ZA(["L ",",",""])),t+r-l*A[1],e),A[1]>0&&(f+=cc(k9||(k9=ZA(["A ",",",",0,0,",`,
        `,",",""])),A[1],A[1],d,t+r,e+u*A[1])),f+=cc(I9||(I9=ZA(["L ",",",""])),t+r,e+n-u*A[2]),A[2]>0&&(f+=cc(L9||(L9=ZA(["A ",",",",0,0,",`,
        `,",",""])),A[2],A[2],d,t+r-l*A[2],e+n)),f+=cc(B9||(B9=ZA(["L ",",",""])),t+l*A[3],e+n),A[3]>0&&(f+=cc(O9||(O9=ZA(["A ",",",",0,0,",`,
        `,",",""])),A[3],A[3],d,t,e+n-u*A[3])),f+="Z"}else if(c>0&&i===+i&&i>0){var w=Math.min(c,i);f=cc(P9||(P9=ZA(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+u*w,w,w,d,t+l*w,e,t+r-l*w,e,w,w,d,t+r,e+u*w,t+r,e+n-u*w,w,w,d,t+r-l*w,e+n,t+l*w,e+n,w,w,d,t,e+n-u*w)}else f=cc(R9||(R9=ZA(["M ",","," h "," v "," h "," Z"])),t,e,r,n,-r);return f},$9={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},DZ=t=>{var e=Fc(t,$9),r=k.useRef(null),[n,i]=k.useState(-1);k.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var xe=r.current.getTotalLength();xe&&i(xe)}catch{}},[]);var{x:s,y:a,width:c,height:u,radius:l,className:d}=e,{animationEasing:f,animationDuration:A,animationBegin:p,isAnimationActive:v,isUpdateAnimationActive:y}=e,x=k.useRef(c),w=k.useRef(u),E=k.useRef(s),T=k.useRef(a),C=k.useMemo(()=>({x:s,y:a,width:c,height:u,radius:l}),[s,a,c,u,l]),j=y_(C,"rectangle-");if(s!==+s||a!==+a||c!==+c||u!==+u||c===0||u===0)return null;var P=Sa("recharts-rectangle",d);if(!y){var U=Uu(e),{radius:W}=U,q=F9(U,d1e);return k.createElement("path",FC({},q,{x:A0(s),y:A0(a),width:A0(c),height:A0(u),radius:typeof l=="number"?l:void 0,className:P,d:U9(s,a,c,u,l)}))}var re=x.current,ie=w.current,Ae=E.current,be=T.current,Ee="0px ".concat(n===-1?1:n,"px"),ge="".concat(n,"px 0px"),se=BZ(["strokeDasharray"],A,typeof f=="string"?f:$9.animationEasing);return k.createElement(v_,{animationId:j,key:j,canBegin:n>0,duration:A,easing:f,isActive:y,begin:p},xe=>{var ce=uc(re,c,xe),Me=uc(ie,u,xe),Oe=uc(Ae,s,xe),we=uc(be,a,xe);r.current&&(x.current=ce,w.current=Me,E.current=Oe,T.current=we);var ue;v?xe>0?ue={transition:se,strokeDasharray:ge}:ue={strokeDasharray:Ee}:ue={strokeDasharray:ge};var ye=Uu(e),{radius:Le}=ye,He=F9(ye,h1e);return k.createElement("path",FC({},He,{radius:typeof l=="number"?l:void 0,className:P,d:U9(Oe,we,ce,Me,l),ref:r,style:M9(M9({},ue),e.style)}))})};function H9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Q9(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?H9(Object(r),!0).forEach(function(n){g1e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):H9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function g1e(t,e,r){return(e=v1e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function v1e(t){var e=y1e(t,"string");return typeof e=="symbol"?e:e+""}function y1e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var UC=Math.PI/180,$C=t=>t*Math.PI/180,x1e=t=>t*180/Math.PI,rl=(t,e,r,n)=>({x:t+Math.cos(-UC*n)*r,y:e+Math.sin(-UC*n)*r}),MZ=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},b1e=(t,e)=>{var{x:r,y:n}=t,{x:i,y:s}=e;return Math.sqrt((r-i)**2+(n-s)**2)},w1e=(t,e)=>{var{x:r,y:n}=t,{cx:i,cy:s}=e,a=b1e({x:r,y:n},{x:i,y:s});if(a<=0)return{radius:a,angle:0};var c=(r-i)/a,u=Math.acos(c);return n>s&&(u=2*Math.PI-u),{radius:a,angle:x1e(u),angleInRadian:u}},E1e=t=>{var{startAngle:e,endAngle:r}=t,n=Math.floor(e/360),i=Math.floor(r/360),s=Math.min(n,i);return{startAngle:e-s*360,endAngle:r-s*360}},_1e=(t,e)=>{var{startAngle:r,endAngle:n}=e,i=Math.floor(r/360),s=Math.floor(n/360),a=Math.min(i,s);return t+a*360},S1e=(t,e)=>{var{chartX:r,chartY:n}=t,{radius:i,angle:s}=w1e({x:r,y:n},e),{innerRadius:a,outerRadius:c}=e;if(i<a||i>c||i===0)return null;var{startAngle:u,endAngle:l}=E1e(e),d=s,f;if(u<=l){for(;d>l;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=l}else{for(;d>u;)d-=360;for(;d<l;)d+=360;f=d>=l&&d<=u}return f?Q9(Q9({},e),{},{radius:i,angle:_1e(d,e)}):null};function FZ(t){var{cx:e,cy:r,radius:n,startAngle:i,endAngle:s}=t,a=rl(e,r,n,i),c=rl(e,r,n,s);return{points:[a,c],cx:e,cy:r,radius:n,startAngle:i,endAngle:s}}var V9,z9,K9,G9,W9,Y9,q9;function G4(){return G4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},G4.apply(null,arguments)}function Tv(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var T1e=(t,e)=>{var r=dd(e-t),n=Math.min(Math.abs(e-t),359.999);return r*n},N2=t=>{var{cx:e,cy:r,radius:n,angle:i,sign:s,isExternal:a,cornerRadius:c,cornerIsExternal:u}=t,l=c*(a?1:-1)+n,d=Math.asin(c/l)/UC,f=u?i:i+s*d,A=rl(e,r,l,f),p=rl(e,r,n,f),v=u?i-s*d:i,y=rl(e,r,l*Math.cos(d*UC),v);return{center:A,circleTangency:p,lineTangency:y,theta:d}},UZ=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:i,startAngle:s,endAngle:a}=t,c=T1e(s,a),u=s+c,l=rl(e,r,i,s),d=rl(e,r,i,u),f=cc(V9||(V9=Tv(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),l.x,l.y,i,i,+(Math.abs(c)>180),+(s>u),d.x,d.y);if(n>0){var A=rl(e,r,n,s),p=rl(e,r,n,u);f+=cc(z9||(z9=Tv(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),p.x,p.y,n,n,+(Math.abs(c)>180),+(s<=u),A.x,A.y)}else f+=cc(K9||(K9=Tv(["L ",","," Z"])),e,r);return f},C1e=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:i,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:c,startAngle:u,endAngle:l}=t,d=dd(l-u),{circleTangency:f,lineTangency:A,theta:p}=N2({cx:e,cy:r,radius:i,angle:u,sign:d,cornerRadius:s,cornerIsExternal:c}),{circleTangency:v,lineTangency:y,theta:x}=N2({cx:e,cy:r,radius:i,angle:l,sign:-d,cornerRadius:s,cornerIsExternal:c}),w=c?Math.abs(u-l):Math.abs(u-l)-p-x;if(w<0)return a?cc(G9||(G9=Tv(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),A.x,A.y,s,s,s*2,s,s,-s*2):UZ({cx:e,cy:r,innerRadius:n,outerRadius:i,startAngle:u,endAngle:l});var E=cc(W9||(W9=Tv(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),A.x,A.y,s,s,+(d<0),f.x,f.y,i,i,+(w>180),+(d<0),v.x,v.y,s,s,+(d<0),y.x,y.y);if(n>0){var{circleTangency:T,lineTangency:C,theta:j}=N2({cx:e,cy:r,radius:n,angle:u,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),{circleTangency:P,lineTangency:U,theta:W}=N2({cx:e,cy:r,radius:n,angle:l,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),q=c?Math.abs(u-l):Math.abs(u-l)-j-W;if(q<0&&s===0)return"".concat(E,"L").concat(e,",").concat(r,"Z");E+=cc(Y9||(Y9=Tv(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),U.x,U.y,s,s,+(d<0),P.x,P.y,n,n,+(q>180),+(d>0),T.x,T.y,s,s,+(d<0),C.x,C.y)}else E+=cc(q9||(q9=Tv(["L",",","Z"])),e,r);return E},j1e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},$Z=t=>{var e=Fc(t,j1e),{cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:a,forceCornerRadius:c,cornerIsExternal:u,startAngle:l,endAngle:d,className:f}=e;if(s<i||l===d)return null;var A=Sa("recharts-sector",f),p=s-i,v=eh(a,p,0,!0),y;return v>0&&Math.abs(l-d)<360?y=C1e({cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:Math.min(v,p/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:l,endAngle:d}):y=UZ({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:l,endAngle:d}),k.createElement("path",G4({},Uu(e),{className:A,d:y}))};function N1e(t,e,r){if(t==="horizontal")return[{x:e.x,y:r.top},{x:e.x,y:r.top+r.height}];if(t==="vertical")return[{x:r.left,y:e.y},{x:r.left+r.width,y:e.y}];if(xX(e)){if(t==="centric"){var{cx:n,cy:i,innerRadius:s,outerRadius:a,angle:c}=e,u=rl(n,i,s,c),l=rl(n,i,a,c);return[{x:u.x,y:u.y},{x:l.x,y:l.y}]}return FZ(e)}}var JI={},eL={},tL={},X9;function k1e(){return X9||(X9=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=IX();function r(n){return e.isSymbol(n)?NaN:Number(n)}t.toNumber=r})(tL)),tL}var Z9;function I1e(){return Z9||(Z9=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=k1e();function r(n){return n?(n=e.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}t.toFinite=r})(eL)),eL}var J9;function L1e(){return J9||(J9=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=LX(),r=I1e();function n(i,s,a){a&&typeof a!="number"&&e.isIterateeCall(i,s,a)&&(s=a=void 0),i=r.toFinite(i),s===void 0?(s=i,i=0):s=r.toFinite(s),a=a===void 0?i<s?1:-1:r.toFinite(a);const c=Math.max(Math.ceil((s-i)/(a||1)),0),u=new Array(c);for(let l=0;l<c;l++)u[l]=i,i+=a;return u}t.range=n})(JI)),JI}var rL,eH;function B1e(){return eH||(eH=1,rL=L1e().range),rL}var O1e=B1e();const HZ=Yf(O1e);function g0(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function P1e(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function QD(t){let e,r,n;t.length!==2?(e=g0,r=(c,u)=>g0(t(c),u),n=(c,u)=>t(c)-u):(e=t===g0||t===P1e?t:R1e,r=t,n=t);function i(c,u,l=0,d=c.length){if(l<d){if(e(u,u)!==0)return d;do{const f=l+d>>>1;r(c[f],u)<0?l=f+1:d=f}while(l<d)}return l}function s(c,u,l=0,d=c.length){if(l<d){if(e(u,u)!==0)return d;do{const f=l+d>>>1;r(c[f],u)<=0?l=f+1:d=f}while(l<d)}return l}function a(c,u,l=0,d=c.length){const f=i(c,u,l,d-1);return f>l&&n(c[f-1],u)>-n(c[f],u)?f-1:f}return{left:i,center:a,right:s}}function R1e(){return 0}function QZ(t){return t===null?NaN:+t}function*D1e(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const M1e=QD(g0),x_=M1e.right;QD(QZ).center;class tH extends Map{constructor(e,r=$1e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(rH(this,e))}has(e){return super.has(rH(this,e))}set(e,r){return super.set(F1e(this,e),r)}delete(e){return super.delete(U1e(this,e))}}function rH({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function F1e({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function U1e({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function $1e(t){return t!==null&&typeof t=="object"?t.valueOf():t}function H1e(t=g0){if(t===g0)return VZ;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function VZ(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Q1e=Math.sqrt(50),V1e=Math.sqrt(10),z1e=Math.sqrt(2);function HC(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),a=s>=Q1e?10:s>=V1e?5:s>=z1e?2:1;let c,u,l;return i<0?(l=Math.pow(10,-i)/a,c=Math.round(t*l),u=Math.round(e*l),c/l<t&&++c,u/l>e&&--u,l=-l):(l=Math.pow(10,i)*a,c=Math.round(t/l),u=Math.round(e/l),c*l<t&&++c,u*l>e&&--u),u<c&&.5<=r&&r<2?HC(t,e,r*2):[c,u,l]}function W4(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,s,a]=n?HC(e,t,r):HC(t,e,r);if(!(s>=i))return[];const c=s-i+1,u=new Array(c);if(n)if(a<0)for(let l=0;l<c;++l)u[l]=(s-l)/-a;else for(let l=0;l<c;++l)u[l]=(s-l)*a;else if(a<0)for(let l=0;l<c;++l)u[l]=(i+l)/-a;else for(let l=0;l<c;++l)u[l]=(i+l)*a;return u}function Y4(t,e,r){return e=+e,t=+t,r=+r,HC(t,e,r)[2]}function q4(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?Y4(e,t,r):Y4(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function nH(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function iH(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function zZ(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?VZ:H1e(i);n>r;){if(n-r>600){const u=n-r+1,l=e-r+1,d=Math.log(u),f=.5*Math.exp(2*d/3),A=.5*Math.sqrt(d*f*(u-f)/u)*(l-u/2<0?-1:1),p=Math.max(r,Math.floor(e-l*f/u+A)),v=Math.min(n,Math.floor(e+(u-l)*f/u+A));zZ(t,e,p,v,i)}const s=t[e];let a=r,c=n;for(L1(t,r,e),i(t[n],s)>0&&L1(t,r,n);a<c;){for(L1(t,a,c),++a,--c;i(t[a],s)<0;)++a;for(;i(t[c],s)>0;)--c}i(t[r],s)===0?L1(t,r,c):(++c,L1(t,c,n)),c<=e&&(r=c+1),e<=c&&(n=c-1)}return t}function L1(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function K1e(t,e,r){if(t=Float64Array.from(D1e(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return iH(t);if(e>=1)return nH(t);var n,i=(n-1)*e,s=Math.floor(i),a=nH(zZ(t,s).subarray(0,s+1)),c=iH(t.subarray(s+1));return a+(c-a)*(i-s)}}function G1e(t,e,r=QZ){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,s=Math.floor(i),a=+r(t[s],s,t),c=+r(t[s+1],s+1,t);return a+(c-a)*(i-s)}}function W1e(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,s=new Array(i);++n<i;)s[n]=t+n*r;return s}function qf(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function eg(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const X4=Symbol("implicit");function VD(){var t=new tH,e=[],r=[],n=X4;function i(s){let a=t.get(s);if(a===void 0){if(n!==X4)return n;t.set(s,a=e.push(s)-1)}return r[a%r.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new tH;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return VD(e,r).unknown(n)},qf.apply(i,arguments),i}function zD(){var t=VD().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,s,a,c=!1,u=0,l=0,d=.5;delete t.unknown;function f(){var A=e().length,p=i<n,v=p?i:n,y=p?n:i;s=(y-v)/Math.max(1,A-u+l*2),c&&(s=Math.floor(s)),v+=(y-v-s*(A-u))*d,a=s*(1-u),c&&(v=Math.round(v),a=Math.round(a));var x=W1e(A).map(function(w){return v+s*w});return r(p?x.reverse():x)}return t.domain=function(A){return arguments.length?(e(A),f()):e()},t.range=function(A){return arguments.length?([n,i]=A,n=+n,i=+i,f()):[n,i]},t.rangeRound=function(A){return[n,i]=A,n=+n,i=+i,c=!0,f()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(A){return arguments.length?(c=!!A,f()):c},t.padding=function(A){return arguments.length?(u=Math.min(1,l=+A),f()):u},t.paddingInner=function(A){return arguments.length?(u=Math.min(1,A),f()):u},t.paddingOuter=function(A){return arguments.length?(l=+A,f()):l},t.align=function(A){return arguments.length?(d=Math.max(0,Math.min(1,A)),f()):d},t.copy=function(){return zD(e(),[n,i]).round(c).paddingInner(u).paddingOuter(l).align(d)},qf.apply(f(),arguments)}function KZ(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return KZ(e())},t}function Y1e(){return KZ(zD.apply(null,arguments).paddingInner(1))}function KD(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function GZ(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function b_(){}var pE=.7,QC=1/pE,tb="\\s*([+-]?\\d+)\\s*",gE="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Bm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",q1e=/^#([0-9a-f]{3,8})$/,X1e=new RegExp(`^rgb\\(${tb},${tb},${tb}\\)$`),Z1e=new RegExp(`^rgb\\(${Bm},${Bm},${Bm}\\)$`),J1e=new RegExp(`^rgba\\(${tb},${tb},${tb},${gE}\\)$`),ewe=new RegExp(`^rgba\\(${Bm},${Bm},${Bm},${gE}\\)$`),twe=new RegExp(`^hsl\\(${gE},${Bm},${Bm}\\)$`),rwe=new RegExp(`^hsla\\(${gE},${Bm},${Bm},${gE}\\)$`),sH={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};KD(b_,vE,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:aH,formatHex:aH,formatHex8:nwe,formatHsl:iwe,formatRgb:oH,toString:oH});function aH(){return this.rgb().formatHex()}function nwe(){return this.rgb().formatHex8()}function iwe(){return WZ(this).formatHsl()}function oH(){return this.rgb().formatRgb()}function vE(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=q1e.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?lH(e):r===3?new Bh(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?k2(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?k2(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=X1e.exec(t))?new Bh(e[1],e[2],e[3],1):(e=Z1e.exec(t))?new Bh(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=J1e.exec(t))?k2(e[1],e[2],e[3],e[4]):(e=ewe.exec(t))?k2(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=twe.exec(t))?dH(e[1],e[2]/100,e[3]/100,1):(e=rwe.exec(t))?dH(e[1],e[2]/100,e[3]/100,e[4]):sH.hasOwnProperty(t)?lH(sH[t]):t==="transparent"?new Bh(NaN,NaN,NaN,0):null}function lH(t){return new Bh(t>>16&255,t>>8&255,t&255,1)}function k2(t,e,r,n){return n<=0&&(t=e=r=NaN),new Bh(t,e,r,n)}function swe(t){return t instanceof b_||(t=vE(t)),t?(t=t.rgb(),new Bh(t.r,t.g,t.b,t.opacity)):new Bh}function Z4(t,e,r,n){return arguments.length===1?swe(t):new Bh(t,e,r,n??1)}function Bh(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}KD(Bh,Z4,GZ(b_,{brighter(t){return t=t==null?QC:Math.pow(QC,t),new Bh(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?pE:Math.pow(pE,t),new Bh(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Bh(Uv(this.r),Uv(this.g),Uv(this.b),VC(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:cH,formatHex:cH,formatHex8:awe,formatRgb:uH,toString:uH}));function cH(){return`#${Cv(this.r)}${Cv(this.g)}${Cv(this.b)}`}function awe(){return`#${Cv(this.r)}${Cv(this.g)}${Cv(this.b)}${Cv((isNaN(this.opacity)?1:this.opacity)*255)}`}function uH(){const t=VC(this.opacity);return`${t===1?"rgb(":"rgba("}${Uv(this.r)}, ${Uv(this.g)}, ${Uv(this.b)}${t===1?")":`, ${t})`}`}function VC(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Uv(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Cv(t){return t=Uv(t),(t<16?"0":"")+t.toString(16)}function dH(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new CA(t,e,r,n)}function WZ(t){if(t instanceof CA)return new CA(t.h,t.s,t.l,t.opacity);if(t instanceof b_||(t=vE(t)),!t)return new CA;if(t instanceof CA)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),s=Math.max(e,r,n),a=NaN,c=s-i,u=(s+i)/2;return c?(e===s?a=(r-n)/c+(r<n)*6:r===s?a=(n-e)/c+2:a=(e-r)/c+4,c/=u<.5?s+i:2-s-i,a*=60):c=u>0&&u<1?0:a,new CA(a,c,u,t.opacity)}function owe(t,e,r,n){return arguments.length===1?WZ(t):new CA(t,e,r,n??1)}function CA(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}KD(CA,owe,GZ(b_,{brighter(t){return t=t==null?QC:Math.pow(QC,t),new CA(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?pE:Math.pow(pE,t),new CA(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new Bh(nL(t>=240?t-240:t+120,i,n),nL(t,i,n),nL(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new CA(hH(this.h),I2(this.s),I2(this.l),VC(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=VC(this.opacity);return`${t===1?"hsl(":"hsla("}${hH(this.h)}, ${I2(this.s)*100}%, ${I2(this.l)*100}%${t===1?")":`, ${t})`}`}}));function hH(t){return t=(t||0)%360,t<0?t+360:t}function I2(t){return Math.max(0,Math.min(1,t||0))}function nL(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const GD=t=>()=>t;function lwe(t,e){return function(r){return t+r*e}}function cwe(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function uwe(t){return(t=+t)==1?YZ:function(e,r){return r-e?cwe(e,r,t):GD(isNaN(e)?r:e)}}function YZ(t,e){var r=e-t;return r?lwe(t,r):GD(isNaN(t)?e:t)}const fH=(function t(e){var r=uwe(e);function n(i,s){var a=r((i=Z4(i)).r,(s=Z4(s)).r),c=r(i.g,s.g),u=r(i.b,s.b),l=YZ(i.opacity,s.opacity);return function(d){return i.r=a(d),i.g=c(d),i.b=u(d),i.opacity=l(d),i+""}}return n.gamma=t,n})(1);function dwe(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=t[i]*(1-s)+e[i]*s;return n}}function hwe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function fwe(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),s=new Array(r),a;for(a=0;a<n;++a)i[a]=Yb(t[a],e[a]);for(;a<r;++a)s[a]=e[a];return function(c){for(a=0;a<n;++a)s[a]=i[a](c);return s}}function Awe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function zC(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function mwe(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Yb(t[i],e[i]):n[i]=e[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var J4=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,iL=new RegExp(J4.source,"g");function pwe(t){return function(){return t}}function gwe(t){return function(e){return t(e)+""}}function vwe(t,e){var r=J4.lastIndex=iL.lastIndex=0,n,i,s,a=-1,c=[],u=[];for(t=t+"",e=e+"";(n=J4.exec(t))&&(i=iL.exec(e));)(s=i.index)>r&&(s=e.slice(r,s),c[a]?c[a]+=s:c[++a]=s),(n=n[0])===(i=i[0])?c[a]?c[a]+=i:c[++a]=i:(c[++a]=null,u.push({i:a,x:zC(n,i)})),r=iL.lastIndex;return r<e.length&&(s=e.slice(r),c[a]?c[a]+=s:c[++a]=s),c.length<2?u[0]?gwe(u[0].x):pwe(e):(e=u.length,function(l){for(var d=0,f;d<e;++d)c[(f=u[d]).i]=f.x(l);return c.join("")})}function Yb(t,e){var r=typeof e,n;return e==null||r==="boolean"?GD(e):(r==="number"?zC:r==="string"?(n=vE(e))?(e=n,fH):vwe:e instanceof vE?fH:e instanceof Date?Awe:hwe(e)?dwe:Array.isArray(e)?fwe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?mwe:zC)(t,e)}function WD(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function ywe(t,e){e===void 0&&(e=t,t=Yb);for(var r=0,n=e.length-1,i=e[0],s=new Array(n<0?0:n);r<n;)s[r]=t(i,i=e[++r]);return function(a){var c=Math.max(0,Math.min(n-1,Math.floor(a*=n)));return s[c](a-c)}}function xwe(t){return function(){return t}}function KC(t){return+t}var AH=[0,1];function Ah(t){return t}function eO(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:xwe(isNaN(e)?NaN:.5)}function bwe(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function wwe(t,e,r){var n=t[0],i=t[1],s=e[0],a=e[1];return i<n?(n=eO(i,n),s=r(a,s)):(n=eO(n,i),s=r(s,a)),function(c){return s(n(c))}}function Ewe(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),s=new Array(n),a=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<n;)i[a]=eO(t[a],t[a+1]),s[a]=r(e[a],e[a+1]);return function(c){var u=x_(t,c,1,n)-1;return s[u](i[u](c))}}function w_(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function VN(){var t=AH,e=AH,r=Yb,n,i,s,a=Ah,c,u,l;function d(){var A=Math.min(t.length,e.length);return a!==Ah&&(a=bwe(t[0],t[A-1])),c=A>2?Ewe:wwe,u=l=null,f}function f(A){return A==null||isNaN(A=+A)?s:(u||(u=c(t.map(n),e,r)))(n(a(A)))}return f.invert=function(A){return a(i((l||(l=c(e,t.map(n),zC)))(A)))},f.domain=function(A){return arguments.length?(t=Array.from(A,KC),d()):t.slice()},f.range=function(A){return arguments.length?(e=Array.from(A),d()):e.slice()},f.rangeRound=function(A){return e=Array.from(A),r=WD,d()},f.clamp=function(A){return arguments.length?(a=A?!0:Ah,d()):a!==Ah},f.interpolate=function(A){return arguments.length?(r=A,d()):r},f.unknown=function(A){return arguments.length?(s=A,f):s},function(A,p){return n=A,i=p,d()}}function YD(){return VN()(Ah,Ah)}function _we(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function GC(t,e){if(!isFinite(t)||t===0)return null;var r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function _b(t){return t=GC(Math.abs(t)),t?t[1]:NaN}function Swe(t,e){return function(r,n){for(var i=r.length,s=[],a=0,c=t[0],u=0;i>0&&c>0&&(u+c+1>n&&(c=Math.max(1,n-u)),s.push(r.substring(i-=c,i+c)),!((u+=c+1)>n));)c=t[a=(a+1)%t.length];return s.reverse().join(e)}}function Twe(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var Cwe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function yE(t){if(!(e=Cwe.exec(t)))throw new Error("invalid format: "+t);var e;return new qD({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}yE.prototype=qD.prototype;function qD(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}qD.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function jwe(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var WC;function Nwe(t,e){var r=GC(t,e);if(!r)return WC=void 0,t.toPrecision(e);var n=r[0],i=r[1],s=i-(WC=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=n.length;return s===a?n:s>a?n+new Array(s-a+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+GC(t,Math.max(0,e+s-1))[0]}function mH(t,e){var r=GC(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const pH={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:_we,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>mH(t*100,e),r:mH,s:Nwe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function gH(t){return t}var vH=Array.prototype.map,yH=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function kwe(t){var e=t.grouping===void 0||t.thousands===void 0?gH:Swe(vH.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?gH:Twe(vH.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function l(f,A){f=yE(f);var p=f.fill,v=f.align,y=f.sign,x=f.symbol,w=f.zero,E=f.width,T=f.comma,C=f.precision,j=f.trim,P=f.type;P==="n"?(T=!0,P="g"):pH[P]||(C===void 0&&(C=12),j=!0,P="g"),(w||p==="0"&&v==="=")&&(w=!0,p="0",v="=");var U=(A&&A.prefix!==void 0?A.prefix:"")+(x==="$"?r:x==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():""),W=(x==="$"?n:/[%p]/.test(P)?a:"")+(A&&A.suffix!==void 0?A.suffix:""),q=pH[P],re=/[defgprs%]/.test(P);C=C===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function ie(Ae){var be=U,Ee=W,ge,se,xe;if(P==="c")Ee=q(Ae)+Ee,Ae="";else{Ae=+Ae;var ce=Ae<0||1/Ae<0;if(Ae=isNaN(Ae)?u:q(Math.abs(Ae),C),j&&(Ae=jwe(Ae)),ce&&+Ae==0&&y!=="+"&&(ce=!1),be=(ce?y==="("?y:c:y==="-"||y==="("?"":y)+be,Ee=(P==="s"&&!isNaN(Ae)&&WC!==void 0?yH[8+WC/3]:"")+Ee+(ce&&y==="("?")":""),re){for(ge=-1,se=Ae.length;++ge<se;)if(xe=Ae.charCodeAt(ge),48>xe||xe>57){Ee=(xe===46?i+Ae.slice(ge+1):Ae.slice(ge))+Ee,Ae=Ae.slice(0,ge);break}}}T&&!w&&(Ae=e(Ae,1/0));var Me=be.length+Ae.length+Ee.length,Oe=Me<E?new Array(E-Me+1).join(p):"";switch(T&&w&&(Ae=e(Oe+Ae,Oe.length?E-Ee.length:1/0),Oe=""),v){case"<":Ae=be+Ae+Ee+Oe;break;case"=":Ae=be+Oe+Ae+Ee;break;case"^":Ae=Oe.slice(0,Me=Oe.length>>1)+be+Ae+Ee+Oe.slice(Me);break;default:Ae=Oe+be+Ae+Ee;break}return s(Ae)}return ie.toString=function(){return f+""},ie}function d(f,A){var p=Math.max(-8,Math.min(8,Math.floor(_b(A)/3)))*3,v=Math.pow(10,-p),y=l((f=yE(f),f.type="f",f),{suffix:yH[8+p/3]});return function(x){return y(v*x)}}return{format:l,formatPrefix:d}}var L2,XD,qZ;Iwe({thousands:",",grouping:[3],currency:["$",""]});function Iwe(t){return L2=kwe(t),XD=L2.format,qZ=L2.formatPrefix,L2}function Lwe(t){return Math.max(0,-_b(Math.abs(t)))}function Bwe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(_b(e)/3)))*3-_b(Math.abs(t)))}function Owe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,_b(e)-_b(t))+1}function XZ(t,e,r,n){var i=q4(t,e,r),s;switch(n=yE(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(s=Bwe(i,a))&&(n.precision=s),qZ(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=Owe(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=Lwe(i))&&(n.precision=s-(n.type==="%")*2);break}}return XD(n)}function B0(t){var e=t.domain;return t.ticks=function(r){var n=e();return W4(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return XZ(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,s=n.length-1,a=n[i],c=n[s],u,l,d=10;for(c<a&&(l=a,a=c,c=l,l=i,i=s,s=l);d-- >0;){if(l=Y4(a,c,r),l===u)return n[i]=a,n[s]=c,e(n);if(l>0)a=Math.floor(a/l)*l,c=Math.ceil(c/l)*l;else if(l<0)a=Math.ceil(a*l)/l,c=Math.floor(c*l)/l;else break;u=l}return t},t}function ZZ(){var t=YD();return t.copy=function(){return w_(t,ZZ())},qf.apply(t,arguments),B0(t)}function JZ(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,KC),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return JZ(t).unknown(e)},t=arguments.length?Array.from(t,KC):[0,1],B0(r)}function eJ(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],s=t[n],a;return s<i&&(a=r,r=n,n=a,a=i,i=s,s=a),t[r]=e.floor(i),t[n]=e.ceil(s),t}function xH(t){return Math.log(t)}function bH(t){return Math.exp(t)}function Pwe(t){return-Math.log(-t)}function Rwe(t){return-Math.exp(-t)}function Dwe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Mwe(t){return t===10?Dwe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Fwe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function wH(t){return(e,r)=>-t(-e,r)}function ZD(t){const e=t(xH,bH),r=e.domain;let n=10,i,s;function a(){return i=Fwe(n),s=Mwe(n),r()[0]<0?(i=wH(i),s=wH(s),t(Pwe,Rwe)):t(xH,bH),e}return e.base=function(c){return arguments.length?(n=+c,a()):n},e.domain=function(c){return arguments.length?(r(c),a()):r()},e.ticks=c=>{const u=r();let l=u[0],d=u[u.length-1];const f=d<l;f&&([l,d]=[d,l]);let A=i(l),p=i(d),v,y;const x=c==null?10:+c;let w=[];if(!(n%1)&&p-A<x){if(A=Math.floor(A),p=Math.ceil(p),l>0){for(;A<=p;++A)for(v=1;v<n;++v)if(y=A<0?v/s(-A):v*s(A),!(y<l)){if(y>d)break;w.push(y)}}else for(;A<=p;++A)for(v=n-1;v>=1;--v)if(y=A>0?v/s(-A):v*s(A),!(y<l)){if(y>d)break;w.push(y)}w.length*2<x&&(w=W4(l,d,x))}else w=W4(A,p,Math.min(p-A,x)).map(s);return f?w.reverse():w},e.tickFormat=(c,u)=>{if(c==null&&(c=10),u==null&&(u=n===10?"s":","),typeof u!="function"&&(!(n%1)&&(u=yE(u)).precision==null&&(u.trim=!0),u=XD(u)),c===1/0)return u;const l=Math.max(1,n*c/e.ticks().length);return d=>{let f=d/s(Math.round(i(d)));return f*n<n-.5&&(f*=n),f<=l?u(d):""}},e.nice=()=>r(eJ(r(),{floor:c=>s(Math.floor(i(c))),ceil:c=>s(Math.ceil(i(c)))})),e}function tJ(){const t=ZD(VN()).domain([1,10]);return t.copy=()=>w_(t,tJ()).base(t.base()),qf.apply(t,arguments),t}function EH(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function _H(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function JD(t){var e=1,r=t(EH(e),_H(e));return r.constant=function(n){return arguments.length?t(EH(e=+n),_H(e)):e},B0(r)}function rJ(){var t=JD(VN());return t.copy=function(){return w_(t,rJ()).constant(t.constant())},qf.apply(t,arguments)}function SH(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Uwe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function $we(t){return t<0?-t*t:t*t}function e3(t){var e=t(Ah,Ah),r=1;function n(){return r===1?t(Ah,Ah):r===.5?t(Uwe,$we):t(SH(r),SH(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},B0(e)}function t3(){var t=e3(VN());return t.copy=function(){return w_(t,t3()).exponent(t.exponent())},qf.apply(t,arguments),t}function Hwe(){return t3.apply(null,arguments).exponent(.5)}function TH(t){return Math.sign(t)*t*t}function Qwe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function nJ(){var t=YD(),e=[0,1],r=!1,n;function i(s){var a=Qwe(t(s));return isNaN(a)?n:r?Math.round(a):a}return i.invert=function(s){return t.invert(TH(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,KC)).map(TH)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return nJ(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},qf.apply(i,arguments),B0(i)}function iJ(){var t=[],e=[],r=[],n;function i(){var a=0,c=Math.max(1,e.length);for(r=new Array(c-1);++a<c;)r[a-1]=G1e(t,a/c);return s}function s(a){return a==null||isNaN(a=+a)?n:e[x_(r,a)]}return s.invertExtent=function(a){var c=e.indexOf(a);return c<0?[NaN,NaN]:[c>0?r[c-1]:t[0],c<r.length?r[c]:t[t.length-1]]},s.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let c of a)c!=null&&!isNaN(c=+c)&&t.push(c);return t.sort(g0),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(n=a,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return iJ().domain(t).range(e).unknown(n)},qf.apply(s,arguments)}function sJ(){var t=0,e=1,r=1,n=[.5],i=[0,1],s;function a(u){return u!=null&&u<=u?i[x_(n,u,0,r)]:s}function c(){var u=-1;for(n=new Array(r);++u<r;)n[u]=((u+1)*e-(u-r)*t)/(r+1);return a}return a.domain=function(u){return arguments.length?([t,e]=u,t=+t,e=+e,c()):[t,e]},a.range=function(u){return arguments.length?(r=(i=Array.from(u)).length-1,c()):i.slice()},a.invertExtent=function(u){var l=i.indexOf(u);return l<0?[NaN,NaN]:l<1?[t,n[0]]:l>=r?[n[r-1],e]:[n[l-1],n[l]]},a.unknown=function(u){return arguments.length&&(s=u),a},a.thresholds=function(){return n.slice()},a.copy=function(){return sJ().domain([t,e]).range(i).unknown(s)},qf.apply(B0(a),arguments)}function aJ(){var t=[.5],e=[0,1],r,n=1;function i(s){return s!=null&&s<=s?e[x_(t,s,0,n)]:r}return i.domain=function(s){return arguments.length?(t=Array.from(s),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[t[a-1],t[a]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return aJ().domain(t).range(e).unknown(r)},qf.apply(i,arguments)}const sL=new Date,aL=new Date;function Qu(t,e,r,n){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),c=i.ceil(s);return s-a<c-s?a:c},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,c)=>{const u=[];if(s=i.ceil(s),c=c==null?1:Math.floor(c),!(s<a)||!(c>0))return u;let l;do u.push(l=new Date(+s)),e(s,c),t(s);while(l<s&&s<a);return u},i.filter=s=>Qu(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,c)=>{if(a>=a)if(c<0)for(;++c<=0;)for(;e(a,-1),!s(a););else for(;--c>=0;)for(;e(a,1),!s(a););}),r&&(i.count=(s,a)=>(sL.setTime(+s),aL.setTime(+a),t(sL),t(aL),Math.floor(r(sL,aL))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?a=>n(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const YC=Qu(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);YC.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Qu(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):YC);YC.range;const Np=1e3,Qf=Np*60,kp=Qf*60,Hp=kp*24,r3=Hp*7,CH=Hp*30,oL=Hp*365,jv=Qu(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Np)},(t,e)=>(e-t)/Np,t=>t.getUTCSeconds());jv.range;const n3=Qu(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Np)},(t,e)=>{t.setTime(+t+e*Qf)},(t,e)=>(e-t)/Qf,t=>t.getMinutes());n3.range;const i3=Qu(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Qf)},(t,e)=>(e-t)/Qf,t=>t.getUTCMinutes());i3.range;const s3=Qu(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Np-t.getMinutes()*Qf)},(t,e)=>{t.setTime(+t+e*kp)},(t,e)=>(e-t)/kp,t=>t.getHours());s3.range;const a3=Qu(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*kp)},(t,e)=>(e-t)/kp,t=>t.getUTCHours());a3.range;const E_=Qu(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Qf)/Hp,t=>t.getDate()-1);E_.range;const zN=Qu(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Hp,t=>t.getUTCDate()-1);zN.range;const oJ=Qu(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Hp,t=>Math.floor(t/Hp));oJ.range;function Ay(t){return Qu(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Qf)/r3)}const KN=Ay(0),qC=Ay(1),Vwe=Ay(2),zwe=Ay(3),Sb=Ay(4),Kwe=Ay(5),Gwe=Ay(6);KN.range;qC.range;Vwe.range;zwe.range;Sb.range;Kwe.range;Gwe.range;function my(t){return Qu(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/r3)}const GN=my(0),XC=my(1),Wwe=my(2),Ywe=my(3),Tb=my(4),qwe=my(5),Xwe=my(6);GN.range;XC.range;Wwe.range;Ywe.range;Tb.range;qwe.range;Xwe.range;const o3=Qu(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());o3.range;const l3=Qu(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());l3.range;const Qp=Qu(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Qp.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Qu(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Qp.range;const Vp=Qu(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Vp.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Qu(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Vp.range;function lJ(t,e,r,n,i,s){const a=[[jv,1,Np],[jv,5,5*Np],[jv,15,15*Np],[jv,30,30*Np],[s,1,Qf],[s,5,5*Qf],[s,15,15*Qf],[s,30,30*Qf],[i,1,kp],[i,3,3*kp],[i,6,6*kp],[i,12,12*kp],[n,1,Hp],[n,2,2*Hp],[r,1,r3],[e,1,CH],[e,3,3*CH],[t,1,oL]];function c(l,d,f){const A=d<l;A&&([l,d]=[d,l]);const p=f&&typeof f.range=="function"?f:u(l,d,f),v=p?p.range(l,+d+1):[];return A?v.reverse():v}function u(l,d,f){const A=Math.abs(d-l)/f,p=QD(([,,x])=>x).right(a,A);if(p===a.length)return t.every(q4(l/oL,d/oL,f));if(p===0)return YC.every(Math.max(q4(l,d,f),1));const[v,y]=a[A/a[p-1][2]<a[p][2]/A?p-1:p];return v.every(y)}return[c,u]}const[Zwe,Jwe]=lJ(Vp,l3,GN,oJ,a3,i3),[eEe,tEe]=lJ(Qp,o3,KN,E_,s3,n3);function lL(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function cL(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function B1(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function rEe(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,s=t.days,a=t.shortDays,c=t.months,u=t.shortMonths,l=O1(i),d=P1(i),f=O1(s),A=P1(s),p=O1(a),v=P1(a),y=O1(c),x=P1(c),w=O1(u),E=P1(u),T={a:xe,A:ce,b:Me,B:Oe,c:null,d:BH,e:BH,f:SEe,g:PEe,G:DEe,H:wEe,I:EEe,j:_Ee,L:cJ,m:TEe,M:CEe,p:we,q:ue,Q:RH,s:DH,S:jEe,u:NEe,U:kEe,V:IEe,w:LEe,W:BEe,x:null,X:null,y:OEe,Y:REe,Z:MEe,"%":PH},C={a:ye,A:Le,b:He,B:Fe,c:null,d:OH,e:OH,f:HEe,g:ZEe,G:e_e,H:FEe,I:UEe,j:$Ee,L:dJ,m:QEe,M:VEe,p:At,q:pt,Q:RH,s:DH,S:zEe,u:KEe,U:GEe,V:WEe,w:YEe,W:qEe,x:null,X:null,y:XEe,Y:JEe,Z:t_e,"%":PH},j={a:re,A:ie,b:Ae,B:be,c:Ee,d:IH,e:IH,f:vEe,g:kH,G:NH,H:LH,I:LH,j:AEe,L:gEe,m:fEe,M:mEe,p:q,q:hEe,Q:xEe,s:bEe,S:pEe,u:oEe,U:lEe,V:cEe,w:aEe,W:uEe,x:ge,X:se,y:kH,Y:NH,Z:dEe,"%":yEe};T.x=P(r,T),T.X=P(n,T),T.c=P(e,T),C.x=P(r,C),C.X=P(n,C),C.c=P(e,C);function P(Pe,st){return function(et){var We=[],gt=-1,Ge=0,Ct=Pe.length,Et,Ut,ir;for(et instanceof Date||(et=new Date(+et));++gt<Ct;)Pe.charCodeAt(gt)===37&&(We.push(Pe.slice(Ge,gt)),(Ut=jH[Et=Pe.charAt(++gt)])!=null?Et=Pe.charAt(++gt):Ut=Et==="e"?" ":"0",(ir=st[Et])&&(Et=ir(et,Ut)),We.push(Et),Ge=gt+1);return We.push(Pe.slice(Ge,gt)),We.join("")}}function U(Pe,st){return function(et){var We=B1(1900,void 0,1),gt=W(We,Pe,et+="",0),Ge,Ct;if(gt!=et.length)return null;if("Q"in We)return new Date(We.Q);if("s"in We)return new Date(We.s*1e3+("L"in We?We.L:0));if(st&&!("Z"in We)&&(We.Z=0),"p"in We&&(We.H=We.H%12+We.p*12),We.m===void 0&&(We.m="q"in We?We.q:0),"V"in We){if(We.V<1||We.V>53)return null;"w"in We||(We.w=1),"Z"in We?(Ge=cL(B1(We.y,0,1)),Ct=Ge.getUTCDay(),Ge=Ct>4||Ct===0?XC.ceil(Ge):XC(Ge),Ge=zN.offset(Ge,(We.V-1)*7),We.y=Ge.getUTCFullYear(),We.m=Ge.getUTCMonth(),We.d=Ge.getUTCDate()+(We.w+6)%7):(Ge=lL(B1(We.y,0,1)),Ct=Ge.getDay(),Ge=Ct>4||Ct===0?qC.ceil(Ge):qC(Ge),Ge=E_.offset(Ge,(We.V-1)*7),We.y=Ge.getFullYear(),We.m=Ge.getMonth(),We.d=Ge.getDate()+(We.w+6)%7)}else("W"in We||"U"in We)&&("w"in We||(We.w="u"in We?We.u%7:"W"in We?1:0),Ct="Z"in We?cL(B1(We.y,0,1)).getUTCDay():lL(B1(We.y,0,1)).getDay(),We.m=0,We.d="W"in We?(We.w+6)%7+We.W*7-(Ct+5)%7:We.w+We.U*7-(Ct+6)%7);return"Z"in We?(We.H+=We.Z/100|0,We.M+=We.Z%100,cL(We)):lL(We)}}function W(Pe,st,et,We){for(var gt=0,Ge=st.length,Ct=et.length,Et,Ut;gt<Ge;){if(We>=Ct)return-1;if(Et=st.charCodeAt(gt++),Et===37){if(Et=st.charAt(gt++),Ut=j[Et in jH?st.charAt(gt++):Et],!Ut||(We=Ut(Pe,et,We))<0)return-1}else if(Et!=et.charCodeAt(We++))return-1}return We}function q(Pe,st,et){var We=l.exec(st.slice(et));return We?(Pe.p=d.get(We[0].toLowerCase()),et+We[0].length):-1}function re(Pe,st,et){var We=p.exec(st.slice(et));return We?(Pe.w=v.get(We[0].toLowerCase()),et+We[0].length):-1}function ie(Pe,st,et){var We=f.exec(st.slice(et));return We?(Pe.w=A.get(We[0].toLowerCase()),et+We[0].length):-1}function Ae(Pe,st,et){var We=w.exec(st.slice(et));return We?(Pe.m=E.get(We[0].toLowerCase()),et+We[0].length):-1}function be(Pe,st,et){var We=y.exec(st.slice(et));return We?(Pe.m=x.get(We[0].toLowerCase()),et+We[0].length):-1}function Ee(Pe,st,et){return W(Pe,e,st,et)}function ge(Pe,st,et){return W(Pe,r,st,et)}function se(Pe,st,et){return W(Pe,n,st,et)}function xe(Pe){return a[Pe.getDay()]}function ce(Pe){return s[Pe.getDay()]}function Me(Pe){return u[Pe.getMonth()]}function Oe(Pe){return c[Pe.getMonth()]}function we(Pe){return i[+(Pe.getHours()>=12)]}function ue(Pe){return 1+~~(Pe.getMonth()/3)}function ye(Pe){return a[Pe.getUTCDay()]}function Le(Pe){return s[Pe.getUTCDay()]}function He(Pe){return u[Pe.getUTCMonth()]}function Fe(Pe){return c[Pe.getUTCMonth()]}function At(Pe){return i[+(Pe.getUTCHours()>=12)]}function pt(Pe){return 1+~~(Pe.getUTCMonth()/3)}return{format:function(Pe){var st=P(Pe+="",T);return st.toString=function(){return Pe},st},parse:function(Pe){var st=U(Pe+="",!1);return st.toString=function(){return Pe},st},utcFormat:function(Pe){var st=P(Pe+="",C);return st.toString=function(){return Pe},st},utcParse:function(Pe){var st=U(Pe+="",!0);return st.toString=function(){return Pe},st}}}var jH={"-":"",_:" ",0:"0"},Ad=/^\s*\d+/,nEe=/^%/,iEe=/[\\^$*+?|[\]().{}]/g;function mo(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(e)+i:i)}function sEe(t){return t.replace(iEe,"\\$&")}function O1(t){return new RegExp("^(?:"+t.map(sEe).join("|")+")","i")}function P1(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function aEe(t,e,r){var n=Ad.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function oEe(t,e,r){var n=Ad.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function lEe(t,e,r){var n=Ad.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function cEe(t,e,r){var n=Ad.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function uEe(t,e,r){var n=Ad.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function NH(t,e,r){var n=Ad.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function kH(t,e,r){var n=Ad.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function dEe(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function hEe(t,e,r){var n=Ad.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function fEe(t,e,r){var n=Ad.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function IH(t,e,r){var n=Ad.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function AEe(t,e,r){var n=Ad.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function LH(t,e,r){var n=Ad.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function mEe(t,e,r){var n=Ad.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function pEe(t,e,r){var n=Ad.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function gEe(t,e,r){var n=Ad.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function vEe(t,e,r){var n=Ad.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function yEe(t,e,r){var n=nEe.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function xEe(t,e,r){var n=Ad.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function bEe(t,e,r){var n=Ad.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function BH(t,e){return mo(t.getDate(),e,2)}function wEe(t,e){return mo(t.getHours(),e,2)}function EEe(t,e){return mo(t.getHours()%12||12,e,2)}function _Ee(t,e){return mo(1+E_.count(Qp(t),t),e,3)}function cJ(t,e){return mo(t.getMilliseconds(),e,3)}function SEe(t,e){return cJ(t,e)+"000"}function TEe(t,e){return mo(t.getMonth()+1,e,2)}function CEe(t,e){return mo(t.getMinutes(),e,2)}function jEe(t,e){return mo(t.getSeconds(),e,2)}function NEe(t){var e=t.getDay();return e===0?7:e}function kEe(t,e){return mo(KN.count(Qp(t)-1,t),e,2)}function uJ(t){var e=t.getDay();return e>=4||e===0?Sb(t):Sb.ceil(t)}function IEe(t,e){return t=uJ(t),mo(Sb.count(Qp(t),t)+(Qp(t).getDay()===4),e,2)}function LEe(t){return t.getDay()}function BEe(t,e){return mo(qC.count(Qp(t)-1,t),e,2)}function OEe(t,e){return mo(t.getFullYear()%100,e,2)}function PEe(t,e){return t=uJ(t),mo(t.getFullYear()%100,e,2)}function REe(t,e){return mo(t.getFullYear()%1e4,e,4)}function DEe(t,e){var r=t.getDay();return t=r>=4||r===0?Sb(t):Sb.ceil(t),mo(t.getFullYear()%1e4,e,4)}function MEe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+mo(e/60|0,"0",2)+mo(e%60,"0",2)}function OH(t,e){return mo(t.getUTCDate(),e,2)}function FEe(t,e){return mo(t.getUTCHours(),e,2)}function UEe(t,e){return mo(t.getUTCHours()%12||12,e,2)}function $Ee(t,e){return mo(1+zN.count(Vp(t),t),e,3)}function dJ(t,e){return mo(t.getUTCMilliseconds(),e,3)}function HEe(t,e){return dJ(t,e)+"000"}function QEe(t,e){return mo(t.getUTCMonth()+1,e,2)}function VEe(t,e){return mo(t.getUTCMinutes(),e,2)}function zEe(t,e){return mo(t.getUTCSeconds(),e,2)}function KEe(t){var e=t.getUTCDay();return e===0?7:e}function GEe(t,e){return mo(GN.count(Vp(t)-1,t),e,2)}function hJ(t){var e=t.getUTCDay();return e>=4||e===0?Tb(t):Tb.ceil(t)}function WEe(t,e){return t=hJ(t),mo(Tb.count(Vp(t),t)+(Vp(t).getUTCDay()===4),e,2)}function YEe(t){return t.getUTCDay()}function qEe(t,e){return mo(XC.count(Vp(t)-1,t),e,2)}function XEe(t,e){return mo(t.getUTCFullYear()%100,e,2)}function ZEe(t,e){return t=hJ(t),mo(t.getUTCFullYear()%100,e,2)}function JEe(t,e){return mo(t.getUTCFullYear()%1e4,e,4)}function e_e(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Tb(t):Tb.ceil(t),mo(t.getUTCFullYear()%1e4,e,4)}function t_e(){return"+0000"}function PH(){return"%"}function RH(t){return+t}function DH(t){return Math.floor(+t/1e3)}var Fy,fJ,AJ;r_e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function r_e(t){return Fy=rEe(t),fJ=Fy.format,Fy.parse,AJ=Fy.utcFormat,Fy.utcParse,Fy}function n_e(t){return new Date(t)}function i_e(t){return t instanceof Date?+t:+new Date(+t)}function c3(t,e,r,n,i,s,a,c,u,l){var d=YD(),f=d.invert,A=d.domain,p=l(".%L"),v=l(":%S"),y=l("%I:%M"),x=l("%I %p"),w=l("%a %d"),E=l("%b %d"),T=l("%B"),C=l("%Y");function j(P){return(u(P)<P?p:c(P)<P?v:a(P)<P?y:s(P)<P?x:n(P)<P?i(P)<P?w:E:r(P)<P?T:C)(P)}return d.invert=function(P){return new Date(f(P))},d.domain=function(P){return arguments.length?A(Array.from(P,i_e)):A().map(n_e)},d.ticks=function(P){var U=A();return t(U[0],U[U.length-1],P??10)},d.tickFormat=function(P,U){return U==null?j:l(U)},d.nice=function(P){var U=A();return(!P||typeof P.range!="function")&&(P=e(U[0],U[U.length-1],P??10)),P?A(eJ(U,P)):d},d.copy=function(){return w_(d,c3(t,e,r,n,i,s,a,c,u,l))},d}function s_e(){return qf.apply(c3(eEe,tEe,Qp,o3,KN,E_,s3,n3,jv,fJ).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function a_e(){return qf.apply(c3(Zwe,Jwe,Vp,l3,GN,zN,a3,i3,jv,AJ).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function WN(){var t=0,e=1,r,n,i,s,a=Ah,c=!1,u;function l(f){return f==null||isNaN(f=+f)?u:a(i===0?.5:(f=(s(f)-r)*i,c?Math.max(0,Math.min(1,f)):f))}l.domain=function(f){return arguments.length?([t,e]=f,r=s(t=+t),n=s(e=+e),i=r===n?0:1/(n-r),l):[t,e]},l.clamp=function(f){return arguments.length?(c=!!f,l):c},l.interpolator=function(f){return arguments.length?(a=f,l):a};function d(f){return function(A){var p,v;return arguments.length?([p,v]=A,a=f(p,v),l):[a(0),a(1)]}}return l.range=d(Yb),l.rangeRound=d(WD),l.unknown=function(f){return arguments.length?(u=f,l):u},function(f){return s=f,r=f(t),n=f(e),i=r===n?0:1/(n-r),l}}function O0(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function mJ(){var t=B0(WN()(Ah));return t.copy=function(){return O0(t,mJ())},eg.apply(t,arguments)}function pJ(){var t=ZD(WN()).domain([1,10]);return t.copy=function(){return O0(t,pJ()).base(t.base())},eg.apply(t,arguments)}function gJ(){var t=JD(WN());return t.copy=function(){return O0(t,gJ()).constant(t.constant())},eg.apply(t,arguments)}function u3(){var t=e3(WN());return t.copy=function(){return O0(t,u3()).exponent(t.exponent())},eg.apply(t,arguments)}function o_e(){return u3.apply(null,arguments).exponent(.5)}function vJ(){var t=[],e=Ah;function r(n){if(n!=null&&!isNaN(n=+n))return e((x_(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(g0),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>K1e(t,s/n))},r.copy=function(){return vJ(e).domain(t)},eg.apply(r,arguments)}function YN(){var t=0,e=.5,r=1,n=1,i,s,a,c,u,l=Ah,d,f=!1,A;function p(y){return isNaN(y=+y)?A:(y=.5+((y=+d(y))-s)*(n*y<n*s?c:u),l(f?Math.max(0,Math.min(1,y)):y))}p.domain=function(y){return arguments.length?([t,e,r]=y,i=d(t=+t),s=d(e=+e),a=d(r=+r),c=i===s?0:.5/(s-i),u=s===a?0:.5/(a-s),n=s<i?-1:1,p):[t,e,r]},p.clamp=function(y){return arguments.length?(f=!!y,p):f},p.interpolator=function(y){return arguments.length?(l=y,p):l};function v(y){return function(x){var w,E,T;return arguments.length?([w,E,T]=x,l=ywe(y,[w,E,T]),p):[l(0),l(.5),l(1)]}}return p.range=v(Yb),p.rangeRound=v(WD),p.unknown=function(y){return arguments.length?(A=y,p):A},function(y){return d=y,i=y(t),s=y(e),a=y(r),c=i===s?0:.5/(s-i),u=s===a?0:.5/(a-s),n=s<i?-1:1,p}}function yJ(){var t=B0(YN()(Ah));return t.copy=function(){return O0(t,yJ())},eg.apply(t,arguments)}function xJ(){var t=ZD(YN()).domain([.1,1,10]);return t.copy=function(){return O0(t,xJ()).base(t.base())},eg.apply(t,arguments)}function bJ(){var t=JD(YN());return t.copy=function(){return O0(t,bJ()).constant(t.constant())},eg.apply(t,arguments)}function d3(){var t=e3(YN());return t.copy=function(){return O0(t,d3()).exponent(t.exponent())},eg.apply(t,arguments)}function l_e(){return d3.apply(null,arguments).exponent(.5)}const rw=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:zD,scaleDiverging:yJ,scaleDivergingLog:xJ,scaleDivergingPow:d3,scaleDivergingSqrt:l_e,scaleDivergingSymlog:bJ,scaleIdentity:JZ,scaleImplicit:X4,scaleLinear:ZZ,scaleLog:tJ,scaleOrdinal:VD,scalePoint:Y1e,scalePow:t3,scaleQuantile:iJ,scaleQuantize:sJ,scaleRadial:nJ,scaleSequential:mJ,scaleSequentialLog:pJ,scaleSequentialPow:u3,scaleSequentialQuantile:vJ,scaleSequentialSqrt:o_e,scaleSequentialSymlog:gJ,scaleSqrt:Hwe,scaleSymlog:rJ,scaleThreshold:aJ,scaleTime:s_e,scaleUtc:a_e,tickFormat:XZ},Symbol.toStringTag,{value:"Module"}));var tg=t=>t.chartData,__=or([tg],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),wJ=(t,e,r,n)=>n?__(t):tg(t),c_e=(t,e,r)=>r?__(t):tg(t);function zp(t){if(Array.isArray(t)&&t.length===2){var[e,r]=t;if(Ha(e)&&Ha(r))return!0}return!1}function MH(t,e,r){return r?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function EJ(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[r,n]=t,i,s;if(Ha(r))i=r;else if(typeof r=="function")return;if(Ha(n))s=n;else if(typeof n=="function")return;var a=[i,s];if(zp(a))return a}}function u_e(t,e,r){if(!(!r&&e==null)){if(typeof t=="function"&&e!=null)try{var n=t(e,r);if(zp(n))return MH(n,e,r)}catch{}if(Array.isArray(t)&&t.length===2){var[i,s]=t,a,c;if(i==="auto")e!=null&&(a=Math.min(...e));else if(Ei(i))a=i;else if(typeof i=="function")try{e!=null&&(a=i(e?.[0]))}catch{}else if(typeof i=="string"&&W$.test(i)){var u=W$.exec(i);if(u==null||u[1]==null||e==null)a=void 0;else{var l=+u[1];a=e[0]-l}}else a=e?.[0];if(s==="auto")e!=null&&(c=Math.max(...e));else if(Ei(s))c=s;else if(typeof s=="function")try{e!=null&&(c=s(e?.[1]))}catch{}else if(typeof s=="string"&&Y$.test(s)){var d=Y$.exec(s);if(d==null||d[1]==null||e==null)c=void 0;else{var f=+d[1];c=e[1]+f}}else c=e?.[1];var A=[a,c];if(zp(A))return e==null?A:MH(A,e,r)}}}var qb=1e9,d_e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},f3,Xl=!0,Gf="[DecimalError] ",$v=Gf+"Invalid argument: ",h3=Gf+"Exponent out of range: ",Xb=Math.floor,lv=Math.pow,h_e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,lf,ld=1e7,Dl=7,_J=9007199254740991,ZC=Xb(_J/Dl),vi={};vi.absoluteValue=vi.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};vi.comparedTo=vi.cmp=function(t){var e,r,n,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(n=s.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};vi.decimalPlaces=vi.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Dl;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};vi.dividedBy=vi.div=function(t){return Op(this,new this.constructor(t))};vi.dividedToIntegerBy=vi.idiv=function(t){var e=this,r=e.constructor;return hl(Op(e,new r(t),0,1),r.precision)};vi.equals=vi.eq=function(t){return!this.cmp(t)};vi.exponent=function(){return mu(this)};vi.greaterThan=vi.gt=function(t){return this.cmp(t)>0};vi.greaterThanOrEqualTo=vi.gte=function(t){return this.cmp(t)>=0};vi.isInteger=vi.isint=function(){return this.e>this.d.length-2};vi.isNegative=vi.isneg=function(){return this.s<0};vi.isPositive=vi.ispos=function(){return this.s>0};vi.isZero=function(){return this.s===0};vi.lessThan=vi.lt=function(t){return this.cmp(t)<0};vi.lessThanOrEqualTo=vi.lte=function(t){return this.cmp(t)<1};vi.logarithm=vi.log=function(t){var e,r=this,n=r.constructor,i=n.precision,s=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(lf))throw Error(Gf+"NaN");if(r.s<1)throw Error(Gf+(r.s?"NaN":"-Infinity"));return r.eq(lf)?new n(0):(Xl=!1,e=Op(xE(r,s),xE(t,s),s),Xl=!0,hl(e,i))};vi.minus=vi.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?CJ(e,t):SJ(e,(t.s=-t.s,t))};vi.modulo=vi.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(Gf+"NaN");return r.s?(Xl=!1,e=Op(r,t,0,1).times(t),Xl=!0,r.minus(e)):hl(new n(r),i)};vi.naturalExponential=vi.exp=function(){return TJ(this)};vi.naturalLogarithm=vi.ln=function(){return xE(this)};vi.negated=vi.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};vi.plus=vi.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?SJ(e,t):CJ(e,(t.s=-t.s,t))};vi.precision=vi.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error($v+t);if(e=mu(i)+1,n=i.d.length-1,r=n*Dl+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};vi.squareRoot=vi.sqrt=function(){var t,e,r,n,i,s,a,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(Gf+"NaN")}for(t=mu(c),Xl=!1,i=Math.sqrt(+c),i==0||i==1/0?(e=Sm(c.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Xb((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new u(e)):n=new u(i.toString()),r=u.precision,i=a=r+3;;)if(s=n,n=s.plus(Op(c,s,a+2)).times(.5),Sm(s.d).slice(0,a)===(e=Sm(n.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(hl(s,r+1,0),s.times(s).eq(c)){n=s;break}}else if(e!="9999")break;a+=4}return Xl=!0,hl(n,r)};vi.times=vi.mul=function(t){var e,r,n,i,s,a,c,u,l,d=this,f=d.constructor,A=d.d,p=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,r=d.e+t.e,u=A.length,l=p.length,u<l&&(s=A,A=p,p=s,a=u,u=l,l=a),s=[],a=u+l,n=a;n--;)s.push(0);for(n=l;--n>=0;){for(e=0,i=u+n;i>n;)c=s[i]+p[n]*A[i-n-1]+e,s[i--]=c%ld|0,e=c/ld|0;s[i]=(s[i]+e)%ld|0}for(;!s[--a];)s.pop();return e?++r:s.shift(),t.d=s,t.e=r,Xl?hl(t,f.precision):t};vi.toDecimalPlaces=vi.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Um(t,0,qb),e===void 0?e=n.rounding:Um(e,0,8),hl(r,t+mu(r)+1,e))};vi.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=oy(n,!0):(Um(t,0,qb),e===void 0?e=i.rounding:Um(e,0,8),n=hl(new i(n),t+1,e),r=oy(n,!0,t+1)),r};vi.toFixed=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?oy(i):(Um(t,0,qb),e===void 0?e=s.rounding:Um(e,0,8),n=hl(new s(i),t+mu(i)+1,e),r=oy(n.abs(),!1,t+mu(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};vi.toInteger=vi.toint=function(){var t=this,e=t.constructor;return hl(new e(t),mu(t)+1,e.rounding)};vi.toNumber=function(){return+this};vi.toPower=vi.pow=function(t){var e,r,n,i,s,a,c=this,u=c.constructor,l=12,d=+(t=new u(t));if(!t.s)return new u(lf);if(c=new u(c),!c.s){if(t.s<1)throw Error(Gf+"Infinity");return c}if(c.eq(lf))return c;if(n=u.precision,t.eq(lf))return hl(c,n);if(e=t.e,r=t.d.length-1,a=e>=r,s=c.s,a){if((r=d<0?-d:d)<=_J){for(i=new u(lf),e=Math.ceil(n/Dl+4),Xl=!1;r%2&&(i=i.times(c),UH(i.d,e)),r=Xb(r/2),r!==0;)c=c.times(c),UH(c.d,e);return Xl=!0,t.s<0?new u(lf).div(i):hl(i,n)}}else if(s<0)throw Error(Gf+"NaN");return s=s<0&&t.d[Math.max(e,r)]&1?-1:1,c.s=1,Xl=!1,i=t.times(xE(c,n+l)),Xl=!0,i=TJ(i),i.s=s,i};vi.toPrecision=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?(r=mu(i),n=oy(i,r<=s.toExpNeg||r>=s.toExpPos)):(Um(t,1,qb),e===void 0?e=s.rounding:Um(e,0,8),i=hl(new s(i),t,e),r=mu(i),n=oy(i,t<=r||r<=s.toExpNeg,t)),n};vi.toSignificantDigits=vi.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Um(t,1,qb),e===void 0?e=n.rounding:Um(e,0,8)),hl(new n(r),t,e)};vi.toString=vi.valueOf=vi.val=vi.toJSON=vi[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=mu(t),r=t.constructor;return oy(t,e<=r.toExpNeg||e>=r.toExpPos)};function SJ(t,e){var r,n,i,s,a,c,u,l,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),Xl?hl(e,f):e;if(u=t.d,l=e.d,a=t.e,i=e.e,u=u.slice(),s=a-i,s){for(s<0?(n=u,s=-s,c=l.length):(n=l,i=a,c=u.length),a=Math.ceil(f/Dl),c=a>c?a+1:c+1,s>c&&(s=c,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(c=u.length,s=l.length,c-s<0&&(s=c,n=l,l=u,u=n),r=0;s;)r=(u[--s]=u[s]+l[s]+r)/ld|0,u[s]%=ld;for(r&&(u.unshift(r),++i),c=u.length;u[--c]==0;)u.pop();return e.d=u,e.e=i,Xl?hl(e,f):e}function Um(t,e,r){if(t!==~~t||t<e||t>r)throw Error($v+t)}function Sm(t){var e,r,n,i=t.length-1,s="",a=t[0];if(i>0){for(s+=a,e=1;e<i;e++)n=t[e]+"",r=Dl-n.length,r&&(s+=Jg(r)),s+=n;a=t[e],n=a+"",r=Dl-n.length,r&&(s+=Jg(r))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var Op=(function(){function t(n,i){var s,a=0,c=n.length;for(n=n.slice();c--;)s=n[c]*i+a,n[c]=s%ld|0,a=s/ld|0;return a&&n.unshift(a),n}function e(n,i,s,a){var c,u;if(s!=a)u=s>a?1:-1;else for(c=u=0;c<s;c++)if(n[c]!=i[c]){u=n[c]>i[c]?1:-1;break}return u}function r(n,i,s){for(var a=0;s--;)n[s]-=a,a=n[s]<i[s]?1:0,n[s]=a*ld+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,a){var c,u,l,d,f,A,p,v,y,x,w,E,T,C,j,P,U,W,q=n.constructor,re=n.s==i.s?1:-1,ie=n.d,Ae=i.d;if(!n.s)return new q(n);if(!i.s)throw Error(Gf+"Division by zero");for(u=n.e-i.e,U=Ae.length,j=ie.length,p=new q(re),v=p.d=[],l=0;Ae[l]==(ie[l]||0);)++l;if(Ae[l]>(ie[l]||0)&&--u,s==null?E=s=q.precision:a?E=s+(mu(n)-mu(i))+1:E=s,E<0)return new q(0);if(E=E/Dl+2|0,l=0,U==1)for(d=0,Ae=Ae[0],E++;(l<j||d)&&E--;l++)T=d*ld+(ie[l]||0),v[l]=T/Ae|0,d=T%Ae|0;else{for(d=ld/(Ae[0]+1)|0,d>1&&(Ae=t(Ae,d),ie=t(ie,d),U=Ae.length,j=ie.length),C=U,y=ie.slice(0,U),x=y.length;x<U;)y[x++]=0;W=Ae.slice(),W.unshift(0),P=Ae[0],Ae[1]>=ld/2&&++P;do d=0,c=e(Ae,y,U,x),c<0?(w=y[0],U!=x&&(w=w*ld+(y[1]||0)),d=w/P|0,d>1?(d>=ld&&(d=ld-1),f=t(Ae,d),A=f.length,x=y.length,c=e(f,y,A,x),c==1&&(d--,r(f,U<A?W:Ae,A))):(d==0&&(c=d=1),f=Ae.slice()),A=f.length,A<x&&f.unshift(0),r(y,f,x),c==-1&&(x=y.length,c=e(Ae,y,U,x),c<1&&(d++,r(y,U<x?W:Ae,x))),x=y.length):c===0&&(d++,y=[0]),v[l++]=d,c&&y[0]?y[x++]=ie[C]||0:(y=[ie[C]],x=1);while((C++<j||y[0]!==void 0)&&E--)}return v[0]||v.shift(),p.e=u,hl(p,a?s+mu(p)+1:s)}})();function TJ(t,e){var r,n,i,s,a,c,u=0,l=0,d=t.constructor,f=d.precision;if(mu(t)>16)throw Error(h3+mu(t));if(!t.s)return new d(lf);for(Xl=!1,c=f,a=new d(.03125);t.abs().gte(.1);)t=t.times(a),l+=5;for(n=Math.log(lv(2,l))/Math.LN10*2+5|0,c+=n,r=i=s=new d(lf),d.precision=c;;){if(i=hl(i.times(t),c),r=r.times(++u),a=s.plus(Op(i,r,c)),Sm(a.d).slice(0,c)===Sm(s.d).slice(0,c)){for(;l--;)s=hl(s.times(s),c);return d.precision=f,e==null?(Xl=!0,hl(s,f)):s}s=a}}function mu(t){for(var e=t.e*Dl,r=t.d[0];r>=10;r/=10)e++;return e}function uL(t,e,r){if(e>t.LN10.sd())throw Xl=!0,r&&(t.precision=r),Error(Gf+"LN10 precision limit exceeded");return hl(new t(t.LN10),e)}function Jg(t){for(var e="";t--;)e+="0";return e}function xE(t,e){var r,n,i,s,a,c,u,l,d,f=1,A=10,p=t,v=p.d,y=p.constructor,x=y.precision;if(p.s<1)throw Error(Gf+(p.s?"NaN":"-Infinity"));if(p.eq(lf))return new y(0);if(e==null?(Xl=!1,l=x):l=e,p.eq(10))return e==null&&(Xl=!0),uL(y,l);if(l+=A,y.precision=l,r=Sm(v),n=r.charAt(0),s=mu(p),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(t),r=Sm(p.d),n=r.charAt(0),f++;s=mu(p),n>1?(p=new y("0."+r),s++):p=new y(n+"."+r.slice(1))}else return u=uL(y,l+2,x).times(s+""),p=xE(new y(n+"."+r.slice(1)),l-A).plus(u),y.precision=x,e==null?(Xl=!0,hl(p,x)):p;for(c=a=p=Op(p.minus(lf),p.plus(lf),l),d=hl(p.times(p),l),i=3;;){if(a=hl(a.times(d),l),u=c.plus(Op(a,new y(i),l)),Sm(u.d).slice(0,l)===Sm(c.d).slice(0,l))return c=c.times(2),s!==0&&(c=c.plus(uL(y,l+2,x).times(s+""))),c=Op(c,new y(f),l),y.precision=x,e==null?(Xl=!0,hl(c,x)):c;c=u,i+=2}}function FH(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Xb(r/Dl),t.d=[],n=(r+1)%Dl,r<0&&(n+=Dl),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Dl;n<i;)t.d.push(+e.slice(n,n+=Dl));e=e.slice(n),n=Dl-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),Xl&&(t.e>ZC||t.e<-ZC))throw Error(h3+r)}else t.s=0,t.e=0,t.d=[0];return t}function hl(t,e,r){var n,i,s,a,c,u,l,d,f=t.d;for(a=1,s=f[0];s>=10;s/=10)a++;if(n=e-a,n<0)n+=Dl,i=e,l=f[d=0];else{if(d=Math.ceil((n+1)/Dl),s=f.length,d>=s)return t;for(l=s=f[d],a=1;s>=10;s/=10)a++;n%=Dl,i=n-Dl+a}if(r!==void 0&&(s=lv(10,a-i-1),c=l/s%10|0,u=e<0||f[d+1]!==void 0||l%s,u=r<4?(c||u)&&(r==0||r==(t.s<0?3:2)):c>5||c==5&&(r==4||u||r==6&&(n>0?i>0?l/lv(10,a-i):0:f[d-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return u?(s=mu(t),f.length=1,e=e-s-1,f[0]=lv(10,(Dl-e%Dl)%Dl),t.e=Xb(-e/Dl)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=d,s=1,d--):(f.length=d+1,s=lv(10,Dl-n),f[d]=i>0?(l/lv(10,a-i)%lv(10,i)|0)*s:0),u)for(;;)if(d==0){(f[0]+=s)==ld&&(f[0]=1,++t.e);break}else{if(f[d]+=s,f[d]!=ld)break;f[d--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(Xl&&(t.e>ZC||t.e<-ZC))throw Error(h3+mu(t));return t}function CJ(t,e){var r,n,i,s,a,c,u,l,d,f,A=t.constructor,p=A.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new A(t),Xl?hl(e,p):e;if(u=t.d,f=e.d,n=e.e,l=t.e,u=u.slice(),a=l-n,a){for(d=a<0,d?(r=u,a=-a,c=f.length):(r=f,n=l,c=u.length),i=Math.max(Math.ceil(p/Dl),c)+2,a>i&&(a=i,r.length=1),r.reverse(),i=a;i--;)r.push(0);r.reverse()}else{for(i=u.length,c=f.length,d=i<c,d&&(c=i),i=0;i<c;i++)if(u[i]!=f[i]){d=u[i]<f[i];break}a=0}for(d&&(r=u,u=f,f=r,e.s=-e.s),c=u.length,i=f.length-c;i>0;--i)u[c++]=0;for(i=f.length;i>a;){if(u[--i]<f[i]){for(s=i;s&&u[--s]===0;)u[s]=ld-1;--u[s],u[i]+=ld}u[i]-=f[i]}for(;u[--c]===0;)u.pop();for(;u[0]===0;u.shift())--n;return u[0]?(e.d=u,e.e=n,Xl?hl(e,p):e):new A(0)}function oy(t,e,r){var n,i=mu(t),s=Sm(t.d),a=s.length;return e?(r&&(n=r-a)>0?s=s.charAt(0)+"."+s.slice(1)+Jg(n):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Jg(-i-1)+s,r&&(n=r-a)>0&&(s+=Jg(n))):i>=a?(s+=Jg(i+1-a),r&&(n=r-i-1)>0&&(s=s+"."+Jg(n))):((n=i+1)<a&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-a)>0&&(i+1===a&&(s+="."),s+=Jg(n))),t.s<0?"-"+s:s}function UH(t,e){if(t.length>e)return t.length=e,!0}function jJ(t){var e,r,n;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error($v+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return FH(a,s.toString())}else if(typeof s!="string")throw Error($v+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,h_e.test(s))FH(a,s);else throw Error($v+s)}if(i.prototype=vi,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=jJ,i.config=i.set=f_e,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function f_e(t){if(!t||typeof t!="object")throw Error(Gf+"Object expected");var e,r,n,i=["precision",1,qb,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Xb(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error($v+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error($v+r+": "+n);return this}var f3=jJ(d_e);lf=new f3(1);const Uo=f3;function NJ(t){var e;return t===0?e=1:e=Math.floor(new Uo(t).abs().log(10).toNumber())+1,e}function kJ(t,e,r){for(var n=new Uo(t),i=0,s=[];n.lt(e)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}var IJ=t=>{var[e,r]=t,[n,i]=[e,r];return e>r&&([n,i]=[r,e]),[n,i]},LJ=(t,e,r)=>{if(t.lte(0))return new Uo(0);var n=NJ(t.toNumber()),i=new Uo(10).pow(n),s=t.div(i),a=n!==1?.05:.1,c=new Uo(Math.ceil(s.div(a).toNumber())).add(r).mul(a),u=c.mul(i);return e?new Uo(u.toNumber()):new Uo(Math.ceil(u.toNumber()))},A_e=(t,e,r)=>{var n=new Uo(1),i=new Uo(t);if(!i.isint()&&r){var s=Math.abs(t);s<1?(n=new Uo(10).pow(NJ(t)-1),i=new Uo(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new Uo(Math.floor(t)))}else t===0?i=new Uo(Math.floor((e-1)/2)):r||(i=new Uo(Math.floor(t)));for(var a=Math.floor((e-1)/2),c=[],u=0;u<e;u++)c.push(i.add(new Uo(u-a).mul(n)).toNumber());return c},BJ=function(e,r,n,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-e)/(n-1)))return{step:new Uo(0),tickMin:new Uo(0),tickMax:new Uo(0)};var a=LJ(new Uo(r).sub(e).div(n-1),i,s),c;e<=0&&r>=0?c=new Uo(0):(c=new Uo(e).add(r).div(2),c=c.sub(new Uo(c).mod(a)));var u=Math.ceil(c.sub(e).div(a).toNumber()),l=Math.ceil(new Uo(r).sub(c).div(a).toNumber()),d=u+l+1;return d>n?BJ(e,r,n,i,s+1):(d<n&&(l=r>0?l+(n-d):l,u=r>0?u:u+(n-d)),{step:a,tickMin:c.sub(new Uo(u).mul(a)),tickMax:c.add(new Uo(l).mul(a))})},m_e=function(e){var[r,n]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),[c,u]=IJ([r,n]);if(c===-1/0||u===1/0){var l=u===1/0?[c,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),u];return r>n?l.reverse():l}if(c===u)return A_e(c,i,s);var{step:d,tickMin:f,tickMax:A}=BJ(c,u,a,s,0),p=kJ(f,A.add(new Uo(.1).mul(d)),d);return r>n?p.reverse():p},p_e=function(e,r){var[n,i]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,c]=IJ([n,i]);if(a===-1/0||c===1/0)return[n,i];if(a===c)return[a];var u=Math.max(r,2),l=LJ(new Uo(c).sub(a).div(u-1),s,0),d=[...kJ(new Uo(a),new Uo(c),l),c];return s===!1&&(d=d.map(f=>Math.round(f))),n>i?d.reverse():d},OJ=t=>t.rootProps.maxBarSize,g_e=t=>t.rootProps.barGap,PJ=t=>t.rootProps.barCategoryGap,v_e=t=>t.rootProps.barSize,S_=t=>t.rootProps.stackOffset,RJ=t=>t.rootProps.reverseStackOrder,A3=t=>t.options.chartName,m3=t=>t.rootProps.syncId,DJ=t=>t.rootProps.syncMethod,p3=t=>t.options.eventEmitter,Oc={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Vg={allowDecimals:!1,allowDuplicatedCategory:!0,allowDataOverflow:!1,angle:0,angleAxisId:0,axisLine:!0,axisLineType:"polygon",cx:0,cy:0,hide:!1,includeHidden:!1,label:!1,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"auto",zIndex:Oc.axis},JA={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},qN=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e};function T_(t,e,r){if(r!=="auto")return r;if(t!=null)return Xp(t,e)?"category":"number"}function $H(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function JC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$H(Object(r),!0).forEach(function(n){y_e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$H(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function y_e(t,e,r){return(e=x_e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function x_e(t){var e=b_e(t,"string");return typeof e=="symbol"?e:e+""}function b_e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var HH={allowDataOverflow:Vg.allowDataOverflow,allowDecimals:Vg.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Vg.angleAxisId,includeHidden:!1,name:void 0,reversed:Vg.reversed,scale:Vg.scale,tick:Vg.tick,tickCount:void 0,ticks:void 0,type:Vg.type,unit:void 0},QH={allowDataOverflow:JA.allowDataOverflow,allowDecimals:JA.allowDecimals,allowDuplicatedCategory:JA.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:JA.radiusAxisId,includeHidden:JA.includeHidden,name:void 0,reversed:JA.reversed,scale:JA.scale,tick:JA.tick,tickCount:JA.tickCount,ticks:void 0,type:JA.type,unit:void 0},w_e=(t,e)=>{if(e!=null)return t.polarAxis.angleAxis[e]},Zb=or([w_e,FD],(t,e)=>{var r;if(t!=null)return t;var n=(r=T_(e,"angleAxis",HH.type))!==null&&r!==void 0?r:"category";return JC(JC({},HH),{},{type:n})}),E_e=(t,e)=>t.polarAxis.radiusAxis[e],C_=or([E_e,FD],(t,e)=>{var r;if(t!=null)return t;var n=(r=T_(e,"radiusAxis",QH.type))!==null&&r!==void 0?r:"category";return JC(JC({},QH),{},{type:n})}),XN=t=>t.polarOptions,g3=or([Zp,Jp,Hu],MZ),MJ=or([XN,g3],(t,e)=>{if(t!=null)return eh(t.innerRadius,e,0)}),FJ=or([XN,g3],(t,e)=>{if(t!=null)return eh(t.outerRadius,e,e*.8)}),__e=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:r}=t;return[e,r]},UJ=or([XN],__e),S_e=or([Zb,UJ],qN),$J=or([g3,MJ,FJ],(t,e,r)=>{if(!(t==null||e==null||r==null))return[e,r]}),T_e=or([C_,$J],qN),j_=or([Wa,XN,MJ,FJ,Zp,Jp],(t,e,r,n,i,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||r==null||n==null)){var{cx:a,cy:c,startAngle:u,endAngle:l}=e;return{cx:eh(a,i,i/2),cy:eh(c,s,s/2),innerRadius:r,outerRadius:n,startAngle:u,endAngle:l,clockWise:!1}}}),Nl=(t,e)=>e,N_=(t,e,r)=>r;function v3(t){return t?.id}function HJ(t,e,r){var{chartData:n=[]}=e,{allowDuplicatedCategory:i,dataKey:s}=r,a=new Map;return t.forEach(c=>{var u,l=(u=c.data)!==null&&u!==void 0?u:n;if(!(l==null||l.length===0)){var d=v3(c);l.forEach((f,A)=>{var p=s==null||i?A:String(dl(f,s,null)),v=dl(f,c.dataKey,0),y;a.has(p)?y=a.get(p):y={},Object.assign(y,{[d]:v}),a.set(p,y)})}}),Array.from(a.values())}function ZN(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var JN=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function e5(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function C_e(t,e){if(t.length===e.length){for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}return!1}var md=t=>{var e=Wa(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Jb=t=>t.tooltip.settings.axisId;function j_e(t){if(t in rw)return rw[t]();var e="scale".concat(h_(t));if(e in rw)return rw[e]()}function VH(t){var e=t.ticks,r=t.bandwidth,n=t.range(),i=[Math.min(...n),Math.max(...n)];return{domain:()=>t.domain(),range:(function(s){function a(){return s.apply(this,arguments)}return a.toString=function(){return s.toString()},a})(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(s){var a=i[0],c=i[1];return a<=c?s>=a&&s<=c:s>=c&&s<=a},bandwidth:r?()=>r.call(t):void 0,ticks:e?s=>e.call(t,s):void 0,map:(s,a)=>{var c=t(s);if(c!=null){if(t.bandwidth&&a!==null&&a!==void 0&&a.position){var u=t.bandwidth();switch(a.position){case"middle":c+=u/2;break;case"end":c+=u;break}}return c}}}}function zH(t,e,r){if(typeof t=="function")return VH(t.copy().domain(e).range(r));if(t!=null){var n=j_e(t);if(n!=null)return n.domain(e).range(r),VH(n)}}var QJ=(t,e)=>{if(e!=null)switch(t){case"linear":{if(!zp(e)){for(var r,n,i=0;i<e.length;i++){var s=e[i];Ha(s)&&((r===void 0||s<r)&&(r=s),(n===void 0||s>n)&&(n=s))}return r!==void 0&&n!==void 0?[r,n]:void 0}return e}default:return e}};function KH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ej(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KH(Object(r),!0).forEach(function(n){N_e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function N_e(t,e,r){return(e=k_e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function k_e(t){var e=I_e(t,"string");return typeof e=="symbol"?e:e+""}function I_e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tO=[0,"auto"],sd={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},VJ=(t,e)=>t.cartesianAxis.xAxis[e],rg=(t,e)=>{var r=VJ(t,e);return r??sd},ad={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:tO,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:m_},zJ=(t,e)=>t.cartesianAxis.yAxis[e],ng=(t,e)=>{var r=zJ(t,e);return r??ad},L_e={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},y3=(t,e)=>{var r=t.cartesianAxis.zAxis[e];return r??L_e},Uc=(t,e,r)=>{switch(e){case"xAxis":return rg(t,r);case"yAxis":return ng(t,r);case"zAxis":return y3(t,r);case"angleAxis":return Zb(t,r);case"radiusAxis":return C_(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},B_e=(t,e,r)=>{switch(e){case"xAxis":return rg(t,r);case"yAxis":return ng(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},py=(t,e,r)=>{switch(e){case"xAxis":return rg(t,r);case"yAxis":return ng(t,r);case"angleAxis":return Zb(t,r);case"radiusAxis":return C_(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},KJ=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function x3(t,e){return r=>{switch(t){case"xAxis":return"xAxisId"in r&&r.xAxisId===e;case"yAxis":return"yAxisId"in r&&r.yAxisId===e;case"zAxis":return"zAxisId"in r&&r.zAxisId===e;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===e;default:return!1}}}var b3=t=>t.graphicalItems.cartesianItems,O_e=or([Nl,N_],x3),w3=(t,e,r)=>t.filter(r).filter(n=>e?.includeHidden===!0?!0:!n.hide),k_=or([b3,Uc,O_e],w3,{memoizeOptions:{resultEqualityCheck:e5}}),GJ=or([k_],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(ZN)),WJ=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),P_e=or([k_],WJ),E3=t=>t.map(e=>e.data).filter(Boolean).flat(1),R_e=or([k_],E3,{memoizeOptions:{resultEqualityCheck:e5}}),_3=(t,e)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=e;return t.length>0?t:r.slice(n,i+1)},S3=or([R_e,wJ],_3),T3=(t,e,r)=>e?.dataKey!=null?t.map(n=>({value:dl(n,e.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>t.map(i=>({value:dl(i,n)}))):t.map(n=>({value:n})),t5=or([S3,Uc,k_],T3);function YJ(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function OS(t){if(Mm(t)||t instanceof Date){var e=Number(t);if(Ha(e))return e}}function GH(t){if(Array.isArray(t)){var e=[OS(t[0]),OS(t[1])];return zp(e)?e:void 0}var r=OS(t);if(r!=null)return[r,r]}function Kp(t){return t.map(OS).filter(Lh)}function D_e(t,e,r){return!r||typeof e!="number"||Dm(e)?[]:r.length?Kp(r.flatMap(n=>{var i=dl(t,n.dataKey),s,a;if(Array.isArray(i)?[s,a]=i:s=a=i,!(!Ha(s)||!Ha(a)))return[e-s,e+a]})):[]}var Vu=t=>{var e=md(t),r=Jb(t);return py(t,e,r)},I_=or([Vu],t=>t?.dataKey),M_e=or([GJ,wJ,Vu],HJ),qJ=(t,e,r,n)=>{var i={},s=e.reduce((a,c)=>{if(c.stackId==null)return a;var u=a[c.stackId];return u==null&&(u=[]),u.push(c),a[c.stackId]=u,a},i);return Object.fromEntries(Object.entries(s).map(a=>{var[c,u]=a,l=n?[...u].reverse():u,d=l.map(v3);return[c,{stackedData:txe(t,d,r),graphicalItems:l}]}))},rO=or([M_e,GJ,S_,RJ],qJ),XJ=(t,e,r,n)=>{var{dataStartIndex:i,dataEndIndex:s}=e;if(n==null&&r!=="zAxis"){var a=axe(t,i,s);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},F_e=or([Uc],t=>t.allowDataOverflow),C3=t=>{var e;if(t==null||!("domain"in t))return tO;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var r=Kp(t.ticks);return[Math.min(...r),Math.max(...r)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:tO},j3=or([Uc],C3),N3=or([j3,F_e],EJ),U_e=or([rO,tg,Nl,N3],XJ,{memoizeOptions:{resultEqualityCheck:JN}}),r5=t=>t.errorBars,$_e=(t,e,r)=>t.flatMap(n=>e[n.id]).filter(Boolean).filter(n=>YJ(r,n)),tj=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var s=i.flat(),a=Math.min(...s),c=Math.max(...s);return[a,c]}},k3=(t,e,r,n,i)=>{var s,a;if(r.length>0&&t.forEach(c=>{r.forEach(u=>{var l,d,f=(l=n[u.id])===null||l===void 0?void 0:l.filter(w=>YJ(i,w)),A=dl(c,(d=e.dataKey)!==null&&d!==void 0?d:u.dataKey),p=D_e(c,A,f);if(p.length>=2){var v=Math.min(...p),y=Math.max(...p);(s==null||v<s)&&(s=v),(a==null||y>a)&&(a=y)}var x=GH(A);x!=null&&(s=s==null?x[0]:Math.min(s,x[0]),a=a==null?x[1]:Math.max(a,x[1]))})}),e?.dataKey!=null&&t.forEach(c=>{var u=GH(dl(c,e.dataKey));u!=null&&(s=s==null?u[0]:Math.min(s,u[0]),a=a==null?u[1]:Math.max(a,u[1]))}),Ha(s)&&Ha(a))return[s,a]},H_e=or([S3,Uc,P_e,r5,Nl],k3,{memoizeOptions:{resultEqualityCheck:JN}});function Q_e(t){var{value:e}=t;if(Mm(e)||e instanceof Date)return e}var V_e=(t,e,r)=>{var n=t.map(Q_e).filter(i=>i!=null);return r&&(e.dataKey==null||e.allowDuplicatedCategory&&vX(n))?HZ(0,t.length):e.allowDuplicatedCategory?n:Array.from(new Set(n))},ZJ=t=>t.referenceElements.dots,e1=(t,e,r)=>t.filter(n=>n.ifOverflow==="extendDomain").filter(n=>e==="xAxis"?n.xAxisId===r:n.yAxisId===r),z_e=or([ZJ,Nl,N_],e1),JJ=t=>t.referenceElements.areas,K_e=or([JJ,Nl,N_],e1),eee=t=>t.referenceElements.lines,G_e=or([eee,Nl,N_],e1),tee=(t,e)=>{if(t!=null){var r=Kp(t.map(n=>e==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},W_e=or(z_e,Nl,tee),ree=(t,e)=>{if(t!=null){var r=Kp(t.flatMap(n=>[e==="xAxis"?n.x1:n.y1,e==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},Y_e=or([K_e,Nl],ree);function q_e(t){var e;if(t.x!=null)return Kp([t.x]);var r=(e=t.segment)===null||e===void 0?void 0:e.map(n=>n.x);return r==null||r.length===0?[]:Kp(r)}function X_e(t){var e;if(t.y!=null)return Kp([t.y]);var r=(e=t.segment)===null||e===void 0?void 0:e.map(n=>n.y);return r==null||r.length===0?[]:Kp(r)}var nee=(t,e)=>{if(t!=null){var r=t.flatMap(n=>e==="xAxis"?q_e(n):X_e(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},Z_e=or([G_e,Nl],nee),J_e=or(W_e,Z_e,Y_e,(t,e,r)=>tj(t,r,e)),I3=(t,e,r,n,i,s,a,c)=>{if(r!=null)return r;var u=a==="vertical"&&c==="xAxis"||a==="horizontal"&&c==="yAxis",l=u?tj(n,s,i):tj(s,i);return u_e(e,l,t.allowDataOverflow)},e2e=or([Uc,j3,N3,U_e,H_e,J_e,Wa,Nl],I3,{memoizeOptions:{resultEqualityCheck:JN}}),t2e=[0,1],L3=(t,e,r,n,i,s,a)=>{if(!((t==null||r==null||r.length===0)&&a===void 0)){var{dataKey:c,type:u}=t,l=Xp(e,s);if(l&&c==null){var d;return HZ(0,(d=r?.length)!==null&&d!==void 0?d:0)}return u==="category"?V_e(n,t,l):i==="expand"?t2e:a}},B3=or([Uc,Wa,S3,t5,S_,Nl,e2e],L3);function r2e(t){return t in rw}var iee=(t,e,r)=>{if(t!=null){var{scale:n,type:i}=t;if(n==="auto")return i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!e)?"point":i==="category"?"band":"linear";if(typeof n=="string"){var s="scale".concat(h_(n));return r2e(s)?s:"point"}}},Vm=or([Uc,KJ,A3],iee);function n5(t,e,r,n){if(!(r==null||n==null))return typeof t.scale=="function"?zH(t.scale,r,n):zH(e,r,n)}var O3=(t,e,r)=>{var n=C3(e);if(!(r!=="auto"&&r!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&zp(t))return m_e(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&zp(t))return p_e(t,e.tickCount,e.allowDecimals)}},P3=or([B3,py,Vm],O3),R3=(t,e,r,n)=>{if(n!=="angleAxis"&&t?.type==="number"&&zp(e)&&Array.isArray(r)&&r.length>0){var i,s,a=e[0],c=(i=r[0])!==null&&i!==void 0?i:0,u=e[1],l=(s=r[r.length-1])!==null&&s!==void 0?s:0;return[Math.min(a,c),Math.max(u,l)]}return e},n2e=or([Uc,B3,P3,Nl],R3),i2e=or(t5,Uc,(t,e)=>{if(!(!e||e.type!=="number")){var r=1/0,n=Array.from(Kp(t.map(f=>f.value))).sort((f,A)=>f-A),i=n[0],s=n[n.length-1];if(i==null||s==null)return 1/0;var a=s-i;if(a===0)return 1/0;for(var c=0;c<n.length-1;c++){var u=n[c],l=n[c+1];if(!(u==null||l==null)){var d=l-u;r=Math.min(r,d)}}return r/a}}),see=or(i2e,Wa,PJ,Hu,(t,e,r,n,i)=>i,(t,e,r,n,i)=>{if(!Ha(t))return 0;var s=e==="vertical"?n.height:n.width;if(i==="gap")return t*s/2;if(i==="no-gap"){var a=eh(r,t*s),c=t*s/2;return c-a-(c-a)/s*a}return 0}),s2e=(t,e,r)=>{var n=rg(t,e);return n==null||typeof n.padding!="string"?0:see(t,"xAxis",e,r,n.padding)},a2e=(t,e,r)=>{var n=ng(t,e);return n==null||typeof n.padding!="string"?0:see(t,"yAxis",e,r,n.padding)},o2e=or(rg,s2e,(t,e)=>{var r,n;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((r=i.left)!==null&&r!==void 0?r:0)+e,right:((n=i.right)!==null&&n!==void 0?n:0)+e}}),l2e=or(ng,a2e,(t,e)=>{var r,n;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((r=i.top)!==null&&r!==void 0?r:0)+e,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+e}}),c2e=or([Hu,o2e,MN,DN,(t,e,r)=>r],(t,e,r,n,i)=>{var{padding:s}=n;return i?[s.left,r.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),u2e=or([Hu,Wa,l2e,MN,DN,(t,e,r)=>r],(t,e,r,n,i,s)=>{var{padding:a}=i;return s?[n.height-a.bottom,a.top]:e==="horizontal"?[t.top+t.height-r.bottom,t.top+r.top]:[t.top+r.top,t.top+t.height-r.bottom]}),L_=(t,e,r,n)=>{var i;switch(e){case"xAxis":return c2e(t,r,n);case"yAxis":return u2e(t,r,n);case"zAxis":return(i=y3(t,r))===null||i===void 0?void 0:i.range;case"angleAxis":return UJ(t);case"radiusAxis":return $J(t,r);default:return}},aee=or([Uc,L_],qN),d2e=or([Vm,n2e],QJ),i5=or([Uc,Vm,d2e,aee],n5);or([k_,r5,Nl],$_e);function oee(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var s5=(t,e)=>e,a5=(t,e,r)=>r,h2e=or(PN,s5,a5,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(oee)),f2e=or(RN,s5,a5,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(oee)),lee=(t,e)=>({width:t.width,height:e.height}),A2e=(t,e)=>{var r=typeof e.width=="number"?e.width:m_;return{width:r,height:t.height}},cee=or(Hu,rg,lee),m2e=(t,e,r)=>{switch(e){case"top":return t.top;case"bottom":return r-t.bottom;default:return 0}},p2e=(t,e,r)=>{switch(e){case"left":return t.left;case"right":return r-t.right;default:return 0}},g2e=or(Jp,Hu,h2e,s5,a5,(t,e,r,n,i)=>{var s={},a;return r.forEach(c=>{var u=lee(e,c);a==null&&(a=m2e(e,n,t));var l=n==="top"&&!i||n==="bottom"&&i;s[c.id]=a-Number(l)*u.height,a+=(l?-1:1)*u.height}),s}),v2e=or(Zp,Hu,f2e,s5,a5,(t,e,r,n,i)=>{var s={},a;return r.forEach(c=>{var u=A2e(e,c);a==null&&(a=p2e(e,n,t));var l=n==="left"&&!i||n==="right"&&i;s[c.id]=a-Number(l)*u.width,a+=(l?-1:1)*u.width}),s}),y2e=(t,e)=>{var r=rg(t,e);if(r!=null)return g2e(t,r.orientation,r.mirror)},x2e=or([Hu,rg,y2e,(t,e)=>e],(t,e,r,n)=>{if(e!=null){var i=r?.[n];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),b2e=(t,e)=>{var r=ng(t,e);if(r!=null)return v2e(t,r.orientation,r.mirror)},w2e=or([Hu,ng,b2e,(t,e)=>e],(t,e,r,n)=>{if(e!=null){var i=r?.[n];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),uee=or(Hu,ng,(t,e)=>{var r=typeof e.width=="number"?e.width:m_;return{width:r,height:t.height}}),WH=(t,e,r)=>{switch(e){case"xAxis":return cee(t,r).width;case"yAxis":return uee(t,r).height;default:return}},dee=(t,e,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:s,dataKey:a}=r,c=Xp(t,n),u=e.map(l=>l.value);if(a&&c&&s==="category"&&i&&vX(u))return u}},B_=or([Wa,t5,Uc,Nl],dee),D3=(t,e,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:s}=r,a=Xp(t,n);if(a&&(i==="number"||s!=="auto"))return e.map(c=>c.value)}},M3=or([Wa,t5,py,Nl],D3),YH=or([Wa,B_e,Vm,i5,B_,M3,L_,P3,Nl],(t,e,r,n,i,s,a,c,u)=>{if(e!=null){var l=Xp(t,u);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:u,categoricalDomain:s,duplicateDomain:i,isCategorical:l,niceTicks:c,range:a,realScaleType:r,scale:n}}}),hee=(t,e,r,n,i,s,a,c,u)=>{if(!(e==null||n==null)){var l=Xp(t,u),{type:d,ticks:f,tickCount:A}=e,p=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,v=d==="category"&&n.bandwidth?n.bandwidth()/p:0;v=u==="angleAxis"&&s!=null&&s.length>=2?dd(s[0]-s[1])*2*v:v;var y=f||i;return y?y.map((x,w)=>{var E=a?a.indexOf(x):x,T=n.map(E);return Ha(T)?{index:w,coordinate:T+v,value:x,offset:v}:null}).filter(Lh):l&&c?c.map((x,w)=>{var E=n.map(x);return Ha(E)?{coordinate:E+v,value:x,index:w,offset:v}:null}).filter(Lh):n.ticks?n.ticks(A).map((x,w)=>{var E=n.map(x);return Ha(E)?{coordinate:E+v,value:x,index:w,offset:v}:null}).filter(Lh):n.domain().map((x,w)=>{var E=n.map(x);return Ha(E)?{coordinate:E+v,value:a?a[x]:x,index:w,offset:v}:null}).filter(Lh)}},fee=or([Wa,py,Vm,i5,P3,L_,B_,M3,Nl],hee),Aee=(t,e,r,n,i,s,a)=>{if(!(e==null||r==null||n==null||n[0]===n[1])){var c=Xp(t,a),{tickCount:u}=e,l=0;return l=a==="angleAxis"&&n?.length>=2?dd(n[0]-n[1])*2*l:l,c&&s?s.map((d,f)=>{var A=r.map(d);return Ha(A)?{coordinate:A+l,value:d,index:f,offset:l}:null}).filter(Lh):r.ticks?r.ticks(u).map((d,f)=>{var A=r.map(d);return Ha(A)?{coordinate:A+l,value:d,index:f,offset:l}:null}).filter(Lh):r.domain().map((d,f)=>{var A=r.map(d);return Ha(A)?{coordinate:A+l,value:i?i[d]:d,index:f,offset:l}:null}).filter(Lh)}},Cb=or([Wa,py,i5,L_,B_,M3,Nl],Aee),jb=or(Uc,i5,(t,e)=>{if(!(t==null||e==null))return ej(ej({},t),{},{scale:e})}),E2e=or([Uc,Vm,B3,aee],n5);or((t,e,r)=>y3(t,r),E2e,(t,e)=>{if(!(t==null||e==null))return ej(ej({},t),{},{scale:e})});var _2e=or([Wa,PN,RN],(t,e,r)=>{switch(t){case"horizontal":return e.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),mee=t=>t.options.defaultTooltipEventType,pee=t=>t.options.validateTooltipEventTypes;function gee(t,e,r){if(t==null)return e;var n=t?"axis":"item";return r==null?e:r.includes(n)?n:e}function F3(t,e){var r=mee(t),n=pee(t);return gee(e,r,n)}function S2e(t){return si(e=>F3(e,t))}var vee=(t,e)=>{var r,n=Number(e);if(!(Dm(n)||e==null))return n>=0?t==null||(r=t[n])===null||r===void 0?void 0:r.value:void 0},T2e=t=>t.tooltip.settings,a0={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},C2e={itemInteraction:{click:a0,hover:a0},axisInteraction:{click:a0,hover:a0},keyboardInteraction:a0,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},yee=Dh({name:"tooltip",initialState:C2e,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:ql()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:r,next:n}=e.payload,i=NA(t).tooltipItemPayloads.indexOf(r);i>-1&&(t.tooltipItemPayloads[i]=n)},prepare:ql()},removeTooltipEntrySettings:{reducer(t,e){var r=NA(t).tooltipItemPayloads.indexOf(e.payload);r>-1&&t.tooltipItemPayloads.splice(r,1)},prepare:ql()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:j2e,replaceTooltipEntrySettings:N2e,removeTooltipEntrySettings:k2e,setTooltipSettingsState:I2e,setActiveMouseOverItemIndex:xee,mouseLeaveItem:L2e,mouseLeaveChart:bee,setActiveClickItemIndex:B2e,setMouseOverAxisIndex:wee,setMouseClickAxisIndex:O2e,setSyncInteraction:nO,setKeyboardInteraction:iO}=yee.actions,P2e=yee.reducer;function qH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function B2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qH(Object(r),!0).forEach(function(n){R2e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function R2e(t,e,r){return(e=D2e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function D2e(t){var e=M2e(t,"string");return typeof e=="symbol"?e:e+""}function M2e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function F2e(t,e,r){return e==="axis"?r==="click"?t.axisInteraction.click:t.axisInteraction.hover:r==="click"?t.itemInteraction.click:t.itemInteraction.hover}function U2e(t){return t.index!=null}var Eee=(t,e,r,n)=>{if(e==null)return a0;var i=F2e(t,e,r);if(i==null)return a0;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(U2e(i)){if(s)return B2(B2({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return B2(B2({},a0),{},{coordinate:i.coordinate})};function $2e(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var r=Number(t);return Number.isFinite(r)?r:void 0}function H2e(t,e){var r=$2e(t),n=e[0],i=e[1];if(r===void 0)return!1;var s=Math.min(n,i),a=Math.max(n,i);return r>=s&&r<=a}function Q2e(t,e,r){if(r==null||e==null)return!0;var n=dl(t,e);return n==null||!zp(r)?!0:H2e(n,r)}var U3=(t,e,r,n)=>{var i=t?.index;if(i==null)return null;var s=Number(i);if(!Ha(s))return i;var a=0,c=1/0;e.length>0&&(c=e.length-1);var u=Math.max(a,Math.min(s,c)),l=e[u];return l==null||Q2e(l,r,n)?String(u):null},_ee=(t,e,r,n,i,s,a)=>{if(s!=null){var c=a[0],u=c?.getPosition(s);if(u!=null)return u;var l=i?.[Number(s)];if(l)return r==="horizontal"?{x:l.coordinate,y:(n.top+e)/2}:{x:(n.left+t)/2,y:l.coordinate}}},See=(t,e,r,n)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;if(r==="hover"?i=t.itemInteraction.hover.graphicalItemId:i=t.itemInteraction.click.graphicalItemId,i==null&&n!=null){var s=t.tooltipItemPayloads[0];return s!=null?[s]:[]}return t.tooltipItemPayloads.filter(a=>{var c;return((c=a.settings)===null||c===void 0?void 0:c.graphicalItemId)===i})},Tee=t=>t.options.tooltipPayloadSearcher,t1=t=>t.tooltip;function XH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ZH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XH(Object(r),!0).forEach(function(n){V2e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function V2e(t,e,r){return(e=z2e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function z2e(t){var e=K2e(t,"string");return typeof e=="symbol"?e:e+""}function K2e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function G2e(t,e){return t??e}var Cee=(t,e,r,n,i,s,a)=>{if(!(e==null||s==null)){var{chartData:c,computedData:u,dataStartIndex:l,dataEndIndex:d}=r,f=[];return t.reduce((A,p)=>{var v,{dataDefinedOnItem:y,settings:x}=p,w=G2e(y,c),E=Array.isArray(w)?uZ(w,l,d):w,T=(v=x?.dataKey)!==null&&v!==void 0?v:n,C=x?.nameKey,j;if(n&&Array.isArray(E)&&!Array.isArray(E[0])&&a==="axis"?j=j0e(E,n,i):j=s(E,e,u,C),Array.isArray(j))j.forEach(U=>{var W=ZH(ZH({},x),{},{name:U.name,unit:U.unit,color:void 0,fill:void 0});A.push(q$({tooltipEntrySettings:W,dataKey:U.dataKey,payload:U.payload,value:dl(U.payload,U.dataKey),name:U.name}))});else{var P;A.push(q$({tooltipEntrySettings:x,dataKey:T,payload:j,value:dl(j,T),name:(P=dl(j,C))!==null&&P!==void 0?P:x?.name}))}return A},f)}},$3=or([Vu,KJ,A3],iee),W2e=or([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Y2e=or([md,Jb],x3),r1=or([W2e,Vu,Y2e],w3,{memoizeOptions:{resultEqualityCheck:e5}}),q2e=or([r1],t=>t.filter(ZN)),X2e=or([r1],E3,{memoizeOptions:{resultEqualityCheck:e5}}),n1=or([X2e,tg],_3),Z2e=or([q2e,tg,Vu],HJ),H3=or([n1,Vu,r1],T3),jee=or([Vu],C3),J2e=or([Vu],t=>t.allowDataOverflow),Nee=or([jee,J2e],EJ),eSe=or([r1],t=>t.filter(ZN)),tSe=or([Z2e,eSe,S_,RJ],qJ),rSe=or([tSe,tg,md,Nee],XJ),nSe=or([r1],WJ),iSe=or([n1,Vu,nSe,r5,md],k3,{memoizeOptions:{resultEqualityCheck:JN}}),sSe=or([ZJ,md,Jb],e1),aSe=or([sSe,md],tee),oSe=or([JJ,md,Jb],e1),lSe=or([oSe,md],ree),cSe=or([eee,md,Jb],e1),uSe=or([cSe,md],nee),dSe=or([aSe,uSe,lSe],tj),hSe=or([Vu,jee,Nee,rSe,iSe,dSe,Wa,md],I3),O_=or([Vu,Wa,n1,H3,S_,md,hSe],L3),fSe=or([O_,Vu,$3],O3),ASe=or([Vu,O_,fSe,md],R3),kee=t=>{var e=md(t),r=Jb(t),n=!1;return L_(t,e,r,n)},Iee=or([Vu,kee],qN),Lee=or([Vu,$3,ASe,Iee],n5),mSe=or([Wa,H3,Vu,md],dee),pSe=or([Wa,H3,Vu,md],D3),gSe=(t,e,r,n,i,s,a,c)=>{if(e){var{type:u}=e,l=Xp(t,c);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=u==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=c==="angleAxis"&&i!=null&&i?.length>=2?dd(i[0]-i[1])*2*f:f,l&&a?a.map((A,p)=>{var v=n.map(A);return Ha(v)?{coordinate:v+f,value:A,index:p,offset:f}:null}).filter(Lh):n.domain().map((A,p)=>{var v=n.map(A);return Ha(v)?{coordinate:v+f,value:s?s[A]:A,index:p,offset:f}:null}).filter(Lh)}}},ig=or([Wa,Vu,$3,Lee,kee,mSe,pSe,md],gSe),Q3=or([mee,pee,T2e],(t,e,r)=>gee(r.shared,t,e)),Bee=t=>t.tooltip.settings.trigger,V3=t=>t.tooltip.settings.defaultIndex,P_=or([t1,Q3,Bee,V3],Eee),_0=or([P_,n1,I_,O_],U3),Oee=or([ig,_0],vee),z3=or([P_],t=>{if(t)return t.dataKey}),vSe=or([P_],t=>{if(t)return t.graphicalItemId}),Pee=or([t1,Q3,Bee,V3],See),ySe=or([Zp,Jp,Wa,Hu,ig,V3,Pee],_ee),xSe=or([P_,ySe],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),bSe=or([P_],t=>{var e;return(e=t?.active)!==null&&e!==void 0?e:!1}),wSe=or([Pee,_0,tg,I_,Oee,Tee,Q3],Cee),ESe=or([wSe],t=>{if(t!=null){var e=t.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(e))}});function JH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function eQ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JH(Object(r),!0).forEach(function(n){_Se(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _Se(t,e,r){return(e=SSe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function SSe(t){var e=TSe(t,"string");return typeof e=="symbol"?e:e+""}function TSe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CSe=()=>si(Vu),jSe=()=>{var t=CSe(),e=si(ig),r=si(Lee);return bb(!t||!r?void 0:eQ(eQ({},t),{},{scale:r}),e)};function tQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Uy(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tQ(Object(r),!0).forEach(function(n){NSe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function NSe(t,e,r){return(e=kSe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kSe(t){var e=ISe(t,"string");return typeof e=="symbol"?e:e+""}function ISe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var LSe=(t,e,r,n)=>{var i=e.find(s=>s&&s.index===r);if(i){if(t==="horizontal")return{x:i.coordinate,y:n.chartY};if(t==="vertical")return{x:n.chartX,y:i.coordinate}}return{x:0,y:0}},BSe=(t,e,r,n)=>{var i=e.find(l=>l&&l.index===r);if(i){if(t==="centric"){var s=i.coordinate,{radius:a}=n;return Uy(Uy(Uy({},n),rl(n.cx,n.cy,a,s)),{},{angle:s,radius:a})}var c=i.coordinate,{angle:u}=n;return Uy(Uy(Uy({},n),rl(n.cx,n.cy,c,u)),{},{angle:u,radius:c})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function OSe(t,e){var{chartX:r,chartY:n}=t;return r>=e.left&&r<=e.left+e.width&&n>=e.top&&n<=e.top+e.height}var Ree=(t,e,r,n,i)=>{var s,a=(s=e?.length)!==null&&s!==void 0?s:0;if(a<=1||t==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var c=0;c<a;c++){var u,l,d,f,A,p=c>0?(u=r[c-1])===null||u===void 0?void 0:u.coordinate:(l=r[a-1])===null||l===void 0?void 0:l.coordinate,v=(d=r[c])===null||d===void 0?void 0:d.coordinate,y=c>=a-1?(f=r[0])===null||f===void 0?void 0:f.coordinate:(A=r[c+1])===null||A===void 0?void 0:A.coordinate,x=void 0;if(!(p==null||v==null||y==null))if(dd(v-p)!==dd(y-v)){var w=[];if(dd(y-v)===dd(i[1]-i[0])){x=y;var E=v+i[1]-i[0];w[0]=Math.min(E,(E+p)/2),w[1]=Math.max(E,(E+p)/2)}else{x=p;var T=y+i[1]-i[0];w[0]=Math.min(v,(T+v)/2),w[1]=Math.max(v,(T+v)/2)}var C=[Math.min(v,(x+v)/2),Math.max(v,(x+v)/2)];if(t>C[0]&&t<=C[1]||t>=w[0]&&t<=w[1]){var j;return(j=r[c])===null||j===void 0?void 0:j.index}}else{var P=Math.min(p,y),U=Math.max(p,y);if(t>(P+v)/2&&t<=(U+v)/2){var W;return(W=r[c])===null||W===void 0?void 0:W.index}}}else if(e)for(var q=0;q<a;q++){var re=e[q];if(re!=null){var ie=e[q+1],Ae=e[q-1];if(q===0&&ie!=null&&t<=(re.coordinate+ie.coordinate)/2||q===a-1&&Ae!=null&&t>(re.coordinate+Ae.coordinate)/2||q>0&&q<a-1&&Ae!=null&&ie!=null&&t>(re.coordinate+Ae.coordinate)/2&&t<=(re.coordinate+ie.coordinate)/2)return re.index}}return-1},PSe=()=>si(A3),K3=(t,e)=>e,Dee=(t,e,r)=>r,G3=(t,e,r,n)=>n,RSe=or(ig,t=>SN(t,e=>e.coordinate)),W3=or([t1,K3,Dee,G3],Eee),Y3=or([W3,n1,I_,O_],U3),DSe=(t,e,r)=>{if(e!=null){var n=t1(t);return e==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},Mee=or([t1,K3,Dee,G3],See),rj=or([Zp,Jp,Wa,Hu,ig,G3,Mee],_ee),MSe=or([W3,rj],(t,e)=>{var r;return(r=t.coordinate)!==null&&r!==void 0?r:e}),Fee=or([ig,Y3],vee),FSe=or([Mee,Y3,tg,I_,Fee,Tee,K3],Cee),USe=or([W3,Y3],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),$Se=(t,e,r,n,i,s,a)=>{if(!(!t||!r||!n||!i)&&OSe(t,a)){var c=oxe(t,e),u=Ree(c,s,i,r,n),l=LSe(e,i,u,t);return{activeIndex:String(u),activeCoordinate:l}}},HSe=(t,e,r,n,i,s,a)=>{if(!(!t||!n||!i||!s||!r)){var c=S1e(t,r);if(c){var u=lxe(c,e),l=Ree(u,a,s,n,i),d=BSe(e,s,l,c);return{activeIndex:String(l),activeCoordinate:d}}}},QSe=(t,e,r,n,i,s,a,c)=>{if(!(!t||!e||!n||!i||!s))return e==="horizontal"||e==="vertical"?$Se(t,e,n,i,s,a,c):HSe(t,e,r,n,i,s,a)},VSe=or(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,r)=>r,(t,e,r)=>{if(e!=null){var n=t[e];if(n!=null)return r?n.panoramaElement:n.element}}),zSe=or(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(n=>parseInt(n,10)).concat(Object.values(Oc)),r=Array.from(new Set(e));return r.sort((n,i)=>n-i)},{memoizeOptions:{resultEqualityCheck:C_e}});function rQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nQ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rQ(Object(r),!0).forEach(function(n){KSe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function KSe(t,e,r){return(e=GSe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GSe(t){var e=WSe(t,"string");return typeof e=="symbol"?e:e+""}function WSe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var YSe={},qSe={zIndexMap:Object.values(Oc).reduce((t,e)=>nQ(nQ({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),YSe)},XSe=new Set(Object.values(Oc));function ZSe(t){return XSe.has(t)}var Uee=Dh({name:"zIndex",initialState:qSe,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:r}=e.payload;t.zIndexMap[r]?t.zIndexMap[r].consumers+=1:t.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:ql()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:r}=e.payload;t.zIndexMap[r]&&(t.zIndexMap[r].consumers-=1,t.zIndexMap[r].consumers<=0&&!ZSe(r)&&delete t.zIndexMap[r])},prepare:ql()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:r,element:n,isPanorama:i}=e.payload;t.zIndexMap[r]?i?t.zIndexMap[r].panoramaElement=n:t.zIndexMap[r].element=n:t.zIndexMap[r]={consumers:0,element:i?void 0:n,panoramaElement:i?n:void 0}},prepare:ql()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:r}=e.payload;t.zIndexMap[r]&&(e.payload.isPanorama?t.zIndexMap[r].panoramaElement=void 0:t.zIndexMap[r].element=void 0)},prepare:ql()}}}),{registerZIndexPortal:JSe,unregisterZIndexPortal:eTe,registerZIndexPortalElement:tTe,unregisterZIndexPortalElement:rTe}=Uee.actions,nTe=Uee.reducer;function rh(t){var{zIndex:e,children:r}=t,n=Uxe(),i=n&&e!==void 0&&e!==0,s=th(),a=Al();k.useLayoutEffect(()=>i?(a(JSe({zIndex:e})),()=>{a(eTe({zIndex:e}))}):L0,[a,e,i]);var c=si(u=>VSe(u,e,s));return i?c?d0.createPortal(r,c):null:r}function sO(){return sO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sO.apply(null,arguments)}function iQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function O2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iQ(Object(r),!0).forEach(function(n){iTe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function iTe(t,e,r){return(e=sTe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sTe(t){var e=aTe(t,"string");return typeof e=="symbol"?e:e+""}function aTe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oTe(t){var{cursor:e,cursorComp:r,cursorProps:n}=t;return k.isValidElement(e)?k.cloneElement(e,n):k.createElement(r,n)}function lTe(t){var e,{coordinate:r,payload:n,index:i,offset:s,tooltipAxisBandSize:a,layout:c,cursor:u,tooltipEventType:l,chartName:d}=t,f=r,A=n,p=i;if(!u||!f||d!=="ScatterChart"&&l!=="axis")return null;var v,y,x;if(d==="ScatterChart")v=f,y=Fbe,x=Oc.cursorLine;else if(d==="BarChart")v=Ube(c,f,s,a),y=DZ,x=Oc.cursorRectangle;else if(c==="radial"&&xX(f)){var{cx:w,cy:E,radius:T,startAngle:C,endAngle:j}=FZ(f);v={cx:w,cy:E,startAngle:C,endAngle:j,innerRadius:T,outerRadius:T},y=$Z,x=Oc.cursorLine}else v={points:N1e(c,f,s)},y=HD,x=Oc.cursorLine;var P=typeof u=="object"&&"className"in u?u.className:void 0,U=O2(O2(O2(O2({stroke:"#ccc",pointerEvents:"none"},s),v),ey(u)),{},{payload:A,payloadIndex:p,className:Sa("recharts-tooltip-cursor",P)});return k.createElement(rh,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:x},k.createElement(oTe,{cursor:u,cursorComp:y,cursorProps:U}))}function cTe(t){var e=jSe(),r=yZ(),n=Wb(),i=PSe();return e==null||r==null||n==null||i==null?null:k.createElement(lTe,sO({},t,{offset:r,layout:n,tooltipAxisBandSize:e,chartName:i}))}var $ee=k.createContext(null),uTe=()=>k.useContext($ee),dL={exports:{}},sQ;function dTe(){return sQ||(sQ=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(u,l,d){this.fn=u,this.context=l,this.once=d||!1}function s(u,l,d,f,A){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new i(d,f||u,A),v=r?r+l:l;return u._events[v]?u._events[v].fn?u._events[v]=[u._events[v],p]:u._events[v].push(p):(u._events[v]=p,u._eventsCount++),u}function a(u,l){--u._eventsCount===0?u._events=new n:delete u._events[l]}function c(){this._events=new n,this._eventsCount=0}c.prototype.eventNames=function(){var l=[],d,f;if(this._eventsCount===0)return l;for(f in d=this._events)e.call(d,f)&&l.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(d)):l},c.prototype.listeners=function(l){var d=r?r+l:l,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var A=0,p=f.length,v=new Array(p);A<p;A++)v[A]=f[A].fn;return v},c.prototype.listenerCount=function(l){var d=r?r+l:l,f=this._events[d];return f?f.fn?1:f.length:0},c.prototype.emit=function(l,d,f,A,p,v){var y=r?r+l:l;if(!this._events[y])return!1;var x=this._events[y],w=arguments.length,E,T;if(x.fn){switch(x.once&&this.removeListener(l,x.fn,void 0,!0),w){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,f),!0;case 4:return x.fn.call(x.context,d,f,A),!0;case 5:return x.fn.call(x.context,d,f,A,p),!0;case 6:return x.fn.call(x.context,d,f,A,p,v),!0}for(T=1,E=new Array(w-1);T<w;T++)E[T-1]=arguments[T];x.fn.apply(x.context,E)}else{var C=x.length,j;for(T=0;T<C;T++)switch(x[T].once&&this.removeListener(l,x[T].fn,void 0,!0),w){case 1:x[T].fn.call(x[T].context);break;case 2:x[T].fn.call(x[T].context,d);break;case 3:x[T].fn.call(x[T].context,d,f);break;case 4:x[T].fn.call(x[T].context,d,f,A);break;default:if(!E)for(j=1,E=new Array(w-1);j<w;j++)E[j-1]=arguments[j];x[T].fn.apply(x[T].context,E)}}return!0},c.prototype.on=function(l,d,f){return s(this,l,d,f,!1)},c.prototype.once=function(l,d,f){return s(this,l,d,f,!0)},c.prototype.removeListener=function(l,d,f,A){var p=r?r+l:l;if(!this._events[p])return this;if(!d)return a(this,p),this;var v=this._events[p];if(v.fn)v.fn===d&&(!A||v.once)&&(!f||v.context===f)&&a(this,p);else{for(var y=0,x=[],w=v.length;y<w;y++)(v[y].fn!==d||A&&!v[y].once||f&&v[y].context!==f)&&x.push(v[y]);x.length?this._events[p]=x.length===1?x[0]:x:a(this,p)}return this},c.prototype.removeAllListeners=function(l){var d;return l?(d=r?r+l:l,this._events[d]&&a(this,d)):(this._events=new n,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,t.exports=c})(dL)),dL.exports}var hTe=dTe();const fTe=Yf(hTe);var bE=new fTe,aO="recharts.syncEvent.tooltip",aQ="recharts.syncEvent.brush",q3=(t,e)=>{if(e&&Array.isArray(t)){var r=Number.parseInt(e,10);if(!Dm(r))return t[r]}},ATe={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},Hee=Dh({name:"options",initialState:ATe,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),mTe=Hee.reducer,{createEventEmitter:pTe}=Hee.actions;function gTe(t){return t.tooltip.syncInteraction}var vTe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},Qee=Dh({name:"chartData",initialState:vTe,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:r,endIndex:n}=e.payload;r!=null&&(t.dataStartIndex=r),n!=null&&(t.dataEndIndex=n)}}}),{setChartData:oQ,setDataStartEndIndexes:yTe,setComputedData:KYe}=Qee.actions,xTe=Qee.reducer,bTe=["x","y"];function lQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $y(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lQ(Object(r),!0).forEach(function(n){wTe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wTe(t,e,r){return(e=ETe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ETe(t){var e=_Te(t,"string");return typeof e=="symbol"?e:e+""}function _Te(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function STe(t,e){if(t==null)return{};var r,n,i=TTe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function TTe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function CTe(){var t=si(m3),e=si(p3),r=Al(),n=si(DJ),i=si(ig),s=Wb(),a=FN(),c=si(u=>u.rootProps.className);k.useEffect(()=>{if(t==null)return L0;var u=(l,d,f)=>{if(e!==f&&t===l){if(n==="index"){var A;if(a&&d!==null&&d!==void 0&&(A=d.payload)!==null&&A!==void 0&&A.coordinate&&d.payload.sourceViewBox){var p=d.payload.coordinate,{x:v,y}=p,x=STe(p,bTe),{x:w,y:E,width:T,height:C}=d.payload.sourceViewBox,j=$y($y({},x),{},{x:a.x+(T?(v-w)/T:0)*a.width,y:a.y+(C?(y-E)/C:0)*a.height});r($y($y({},d),{},{payload:$y($y({},d.payload),{},{coordinate:j})}))}else r(d);return}if(i!=null){var P;if(typeof n=="function"){var U={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},W=n(i,U);P=i[W]}else n==="value"&&(P=i.find(se=>String(se.value)===d.payload.label));var{coordinate:q}=d.payload;if(P==null||d.payload.active===!1||q==null||a==null){r(nO({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:re,y:ie}=q,Ae=Math.min(re,a.x+a.width),be=Math.min(ie,a.y+a.height),Ee={x:s==="horizontal"?P.coordinate:Ae,y:s==="horizontal"?be:P.coordinate},ge=nO({active:d.payload.active,coordinate:Ee,dataKey:d.payload.dataKey,index:String(P.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});r(ge)}}};return bE.on(aO,u),()=>{bE.off(aO,u)}},[c,r,e,t,n,i,s,a])}function jTe(){var t=si(m3),e=si(p3),r=Al();k.useEffect(()=>{if(t==null)return L0;var n=(i,s,a)=>{e!==a&&t===i&&r(yTe(s))};return bE.on(aQ,n),()=>{bE.off(aQ,n)}},[r,e,t])}function NTe(){var t=Al();k.useEffect(()=>{t(pTe())},[t]),CTe(),jTe()}function kTe(t,e,r,n,i,s){var a=si(p=>DSe(p,t,e)),c=si(p3),u=si(m3),l=si(DJ),d=si(gTe),f=d?.active,A=FN();k.useEffect(()=>{if(!f&&u!=null&&c!=null){var p=nO({active:s,coordinate:r,dataKey:a,index:i,label:typeof n=="number"?String(n):n,sourceViewBox:A,graphicalItemId:void 0});bE.emit(aO,u,p,c)}},[f,r,a,i,n,c,u,l,s,A])}function cQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function uQ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cQ(Object(r),!0).forEach(function(n){ITe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ITe(t,e,r){return(e=LTe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LTe(t){var e=BTe(t,"string");return typeof e=="symbol"?e:e+""}function BTe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function OTe(t){return t.dataKey}function PTe(t,e){return k.isValidElement(t)?k.cloneElement(t,e):typeof t=="function"?k.createElement(t,e):k.createElement(vbe,e)}var dQ=[],RTe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function DTe(t){var e,r,n=Fc(t,RTe),{active:i,allowEscapeViewBox:s,animationDuration:a,animationEasing:c,content:u,filterNull:l,isAnimationActive:d,offset:f,payloadUniqBy:A,position:p,reverseDirection:v,useTranslate3d:y,wrapperStyle:x,cursor:w,shared:E,trigger:T,defaultIndex:C,portal:j,axisId:P}=n,U=Al(),W=typeof C=="number"?String(C):C;k.useEffect(()=>{U(I2e({shared:E,trigger:T,axisId:P,active:i,defaultIndex:W}))},[U,E,T,P,i,W]);var q=FN(),re=LZ(),ie=S2e(E),{activeIndex:Ae,isActive:be}=(e=si(At=>USe(At,ie,T,W)))!==null&&e!==void 0?e:{},Ee=si(At=>FSe(At,ie,T,W)),ge=si(At=>Fee(At,ie,T,W)),se=si(At=>MSe(At,ie,T,W)),xe=Ee,ce=uTe(),Me=(r=i??be)!==null&&r!==void 0?r:!1,[Oe,we]=OX([xe,Me]),ue=ie==="axis"?ge:void 0;kTe(ie,T,se,ue,Ae,Me);var ye=j??ce;if(ye==null||q==null||ie==null)return null;var Le=xe??dQ;Me||(Le=dQ),l&&Le.length&&(Le=NX(Le.filter(At=>At.value!=null&&(At.hide!==!0||n.includeHidden)),A,OTe));var He=Le.length>0,Fe=k.createElement(Sbe,{allowEscapeViewBox:s,animationDuration:a,animationEasing:c,isAnimationActive:d,active:Me,coordinate:se,hasPayload:He,offset:f,position:p,reverseDirection:v,useTranslate3d:y,viewBox:q,wrapperStyle:x,lastBoundingBox:Oe,innerRef:we,hasPortalFromProps:!!j},PTe(u,uQ(uQ({},n),{},{payload:Le,label:ue,active:Me,activeIndex:Ae,coordinate:se,accessibilityLayer:re})));return k.createElement(k.Fragment,null,d0.createPortal(Fe,ye),Me&&k.createElement(cTe,{cursor:w,tooltipEventType:ie,coordinate:se,payload:Le,index:Ae}))}var Nb=t=>null;Nb.displayName="Cell";function MTe(t,e,r){return(e=FTe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FTe(t){var e=UTe(t,"string");return typeof e=="symbol"?e:e+""}function UTe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class $Te{constructor(e){MTe(this,"cache",new Map),this.maxSize=e}get(e){var r=this.cache.get(e);return r!==void 0&&(this.cache.delete(e),this.cache.set(e,r)),r}set(e,r){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(e,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function hQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function HTe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hQ(Object(r),!0).forEach(function(n){QTe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function QTe(t,e,r){return(e=VTe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VTe(t){var e=zTe(t,"string");return typeof e=="symbol"?e:e+""}function zTe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var KTe={cacheSize:2e3,enableCache:!0},Vee=HTe({},KTe),fQ=new $Te(Vee.cacheSize),GTe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},AQ="recharts_measurement_span";function WTe(t,e){var r=e.fontSize||"",n=e.fontFamily||"",i=e.fontWeight||"",s=e.fontStyle||"",a=e.letterSpacing||"",c=e.textTransform||"";return"".concat(t,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(s,"|").concat(a,"|").concat(c)}var mQ=(t,e)=>{try{var r=document.getElementById(AQ);r||(r=document.createElement("span"),r.setAttribute("id",AQ),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,GTe,e),r.textContent="".concat(t);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Rw=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||QN.isSsr)return{width:0,height:0};if(!Vee.enableCache)return mQ(e,r);var n=WTe(e,r),i=fQ.get(n);if(i)return i;var s=mQ(e,r);return fQ.set(n,s),s},zee;function YTe(t,e,r){return(e=qTe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qTe(t){var e=XTe(t,"string");return typeof e=="symbol"?e:e+""}function XTe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pQ=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,gQ=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ZTe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,JTe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,eCe={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},tCe=["cm","mm","pt","pc","in","Q","px"];function rCe(t){return tCe.includes(t)}var Qx="NaN";function nCe(t,e){return t*eCe[e]}class Rd{static parse(e){var r,[,n,i]=(r=JTe.exec(e))!==null&&r!==void 0?r:[];return n==null?Rd.NaN:new Rd(parseFloat(n),i??"")}constructor(e,r){this.num=e,this.unit=r,this.num=e,this.unit=r,Dm(e)&&(this.unit=""),r!==""&&!ZTe.test(r)&&(this.num=NaN,this.unit=""),rCe(r)&&(this.num=nCe(e,r),this.unit="px")}add(e){return this.unit!==e.unit?new Rd(NaN,""):new Rd(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Rd(NaN,""):new Rd(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Rd(NaN,""):new Rd(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Rd(NaN,""):new Rd(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Dm(this.num)}}zee=Rd;YTe(Rd,"NaN",new zee(NaN,""));function Kee(t){if(t==null||t.includes(Qx))return Qx;for(var e=t;e.includes("*")||e.includes("/");){var r,[,n,i,s]=(r=pQ.exec(e))!==null&&r!==void 0?r:[],a=Rd.parse(n??""),c=Rd.parse(s??""),u=i==="*"?a.multiply(c):a.divide(c);if(u.isNaN())return Qx;e=e.replace(pQ,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var l,[,d,f,A]=(l=gQ.exec(e))!==null&&l!==void 0?l:[],p=Rd.parse(d??""),v=Rd.parse(A??""),y=f==="+"?p.add(v):p.subtract(v);if(y.isNaN())return Qx;e=e.replace(gQ,y.toString())}return e}var vQ=/\(([^()]*)\)/;function iCe(t){for(var e=t,r;(r=vQ.exec(e))!=null;){var[,n]=r;e=e.replace(vQ,Kee(n))}return e}function sCe(t){var e=t.replace(/\s+/g,"");return e=iCe(e),e=Kee(e),e}function aCe(t){try{return sCe(t)}catch{return Qx}}function hL(t){var e=aCe(t.slice(5,-1));return e===Qx?"":e}var oCe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],lCe=["dx","dy","angle","className","breakAll"];function oO(){return oO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},oO.apply(null,arguments)}function yQ(t,e){if(t==null)return{};var r,n,i=cCe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function cCe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Gee=/[ \f\n\r\t\v\u2028\u2029]+/,Wee=t=>{var{children:e,breakAll:r,style:n}=t;try{var i=[];eu(e)||(r?i=e.toString().split(""):i=e.toString().split(Gee));var s=i.map(c=>({word:c,width:Rw(c,n).width})),a=r?0:Rw("",n).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}};function uCe(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var Yee=(t,e,r,n)=>t.reduce((i,s)=>{var{word:a,width:c}=s,u=i[i.length-1];if(u&&c!=null&&(e==null||n||u.width+c+r<Number(e)))u.words.push(a),u.width+=c+r;else{var l={words:[a],width:c};i.push(l)}return i},[]),qee=t=>t.reduce((e,r)=>e.width>r.width?e:r),dCe="",xQ=(t,e,r,n,i,s,a,c)=>{var u=t.slice(0,e),l=Wee({breakAll:r,style:n,children:u+dCe});if(!l)return[!1,[]];var d=Yee(l.wordsWithComputedWidth,s,a,c),f=d.length>i||qee(d).width>Number(s);return[f,d]},hCe=(t,e,r,n,i)=>{var{maxLines:s,children:a,style:c,breakAll:u}=t,l=Ei(s),d=String(a),f=Yee(e,n,r,i);if(!l||i)return f;var A=f.length>s||qee(f).width>Number(n);if(!A)return f;for(var p=0,v=d.length-1,y=0,x;p<=v&&y<=d.length-1;){var w=Math.floor((p+v)/2),E=w-1,[T,C]=xQ(d,E,u,c,s,n,r,i),[j]=xQ(d,w,u,c,s,n,r,i);if(!T&&!j&&(p=w+1),T&&j&&(v=w-1),!T&&j){x=C;break}y++}return x||f},bQ=t=>{var e=eu(t)?[]:t.toString().split(Gee);return[{words:e,width:void 0}]},fCe=t=>{var{width:e,scaleToFit:r,children:n,style:i,breakAll:s,maxLines:a}=t;if((e||r)&&!QN.isSsr){var c,u,l=Wee({breakAll:s,children:n,style:i});if(l){var{wordsWithComputedWidth:d,spaceWidth:f}=l;c=d,u=f}else return bQ(n);return hCe({breakAll:s,children:n,maxLines:a,style:i},c,u,e,!!r)}return bQ(n)},Xee="#808080",ACe={angle:0,breakAll:!1,capHeight:"0.71em",fill:Xee,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},R_=k.forwardRef((t,e)=>{var r=Fc(t,ACe),{x:n,y:i,lineHeight:s,capHeight:a,fill:c,scaleToFit:u,textAnchor:l,verticalAnchor:d}=r,f=yQ(r,oCe),A=k.useMemo(()=>fCe({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:u,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,u,f.style,f.width]),{dx:p,dy:v,angle:y,className:x,breakAll:w}=f,E=yQ(f,lCe);if(!Mm(n)||!Mm(i)||A.length===0)return null;var T=Number(n)+(Ei(p)?p:0),C=Number(i)+(Ei(v)?v:0);if(!Ha(T)||!Ha(C))return null;var j;switch(d){case"start":j=hL("calc(".concat(a,")"));break;case"middle":j=hL("calc(".concat((A.length-1)/2," * -").concat(s," + (").concat(a," / 2))"));break;default:j=hL("calc(".concat(A.length-1," * -").concat(s,")"));break}var P=[],U=A[0];if(u&&U!=null){var W=U.width,{width:q}=f;P.push("scale(".concat(Ei(q)&&Ei(W)?q/W:1,")"))}return y&&P.push("rotate(".concat(y,", ").concat(T,", ").concat(C,")")),P.length&&(E.transform=P.join(" ")),k.createElement("text",oO({},Uu(E),{ref:e,x:T,y:C,className:Sa("recharts-text",x),textAnchor:l,fill:c.includes("url")?Xee:c}),A.map((re,ie)=>{var Ae=re.words.join(w?"":" ");return k.createElement("tspan",{x:T,dy:ie===0?j:s,key:"".concat(Ae,"-").concat(ie)},Ae)}))});R_.displayName="Text";function wQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function em(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wQ(Object(r),!0).forEach(function(n){mCe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mCe(t,e,r){return(e=pCe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pCe(t){var e=gCe(t,"string");return typeof e=="symbol"?e:e+""}function gCe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vCe=t=>{var{viewBox:e,position:r,offset:n=0,parentViewBox:i}=t,{x:s,y:a,height:c,upperWidth:u,lowerWidth:l}=RD(e),d=s,f=s+(u-l)/2,A=(d+f)/2,p=(u+l)/2,v=d+u/2,y=c>=0?1:-1,x=y*n,w=y>0?"end":"start",E=y>0?"start":"end",T=u>=0?1:-1,C=T*n,j=T>0?"end":"start",P=T>0?"start":"end",U=i;if(r==="top"){var W={x:d+u/2,y:a-x,horizontalAnchor:"middle",verticalAnchor:w};return U&&(W.height=Math.max(a-U.y,0),W.width=u),W}if(r==="bottom"){var q={x:f+l/2,y:a+c+x,horizontalAnchor:"middle",verticalAnchor:E};return U&&(q.height=Math.max(U.y+U.height-(a+c),0),q.width=l),q}if(r==="left"){var re={x:A-C,y:a+c/2,horizontalAnchor:j,verticalAnchor:"middle"};return U&&(re.width=Math.max(re.x-U.x,0),re.height=c),re}if(r==="right"){var ie={x:A+p+C,y:a+c/2,horizontalAnchor:P,verticalAnchor:"middle"};return U&&(ie.width=Math.max(U.x+U.width-ie.x,0),ie.height=c),ie}var Ae=U?{width:p,height:c}:{};return r==="insideLeft"?em({x:A+C,y:a+c/2,horizontalAnchor:P,verticalAnchor:"middle"},Ae):r==="insideRight"?em({x:A+p-C,y:a+c/2,horizontalAnchor:j,verticalAnchor:"middle"},Ae):r==="insideTop"?em({x:d+u/2,y:a+x,horizontalAnchor:"middle",verticalAnchor:E},Ae):r==="insideBottom"?em({x:f+l/2,y:a+c-x,horizontalAnchor:"middle",verticalAnchor:w},Ae):r==="insideTopLeft"?em({x:d+C,y:a+x,horizontalAnchor:P,verticalAnchor:E},Ae):r==="insideTopRight"?em({x:d+u-C,y:a+x,horizontalAnchor:j,verticalAnchor:E},Ae):r==="insideBottomLeft"?em({x:f+C,y:a+c-x,horizontalAnchor:P,verticalAnchor:w},Ae):r==="insideBottomRight"?em({x:f+l-C,y:a+c-x,horizontalAnchor:j,verticalAnchor:w},Ae):r&&typeof r=="object"&&(Ei(r.x)||ny(r.x))&&(Ei(r.y)||ny(r.y))?em({x:s+eh(r.x,p),y:a+eh(r.y,c),horizontalAnchor:"end",verticalAnchor:"end"},Ae):em({x:v,y:a+c/2,horizontalAnchor:"middle",verticalAnchor:"middle"},Ae)},yCe=["labelRef"],xCe=["content"];function EQ(t,e){if(t==null)return{};var r,n,i=bCe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function bCe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function _Q(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_Q(Object(r),!0).forEach(function(n){wCe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_Q(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wCe(t,e,r){return(e=ECe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ECe(t){var e=_Ce(t,"string");return typeof e=="symbol"?e:e+""}function _Ce(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jp(){return jp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jp.apply(null,arguments)}var Zee=k.createContext(null),SCe=t=>{var{x:e,y:r,upperWidth:n,lowerWidth:i,width:s,height:a,children:c}=t,u=k.useMemo(()=>({x:e,y:r,upperWidth:n,lowerWidth:i,width:s,height:a}),[e,r,n,i,s,a]);return k.createElement(Zee.Provider,{value:u},c)},Jee=()=>{var t=k.useContext(Zee),e=FN();return t||(e?RD(e):void 0)},TCe=k.createContext(null),CCe=()=>{var t=k.useContext(TCe),e=si(j_);return t||e},jCe=t=>{var{value:e,formatter:r}=t,n=eu(t.children)?e:t.children;return typeof r=="function"?r(n):n},X3=t=>t!=null&&typeof t=="function",NCe=(t,e)=>{var r=dd(e-t),n=Math.min(Math.abs(e-t),360);return r*n},kCe=(t,e,r,n,i)=>{var{offset:s,className:a}=t,{cx:c,cy:u,innerRadius:l,outerRadius:d,startAngle:f,endAngle:A,clockWise:p}=i,v=(l+d)/2,y=NCe(f,A),x=y>=0?1:-1,w,E;switch(e){case"insideStart":w=f+x*s,E=p;break;case"insideEnd":w=A-x*s,E=!p;break;case"end":w=A+x*s,E=p;break;default:throw new Error("Unsupported position ".concat(e))}E=y<=0?E:!E;var T=rl(c,u,v,w),C=rl(c,u,v,w+(E?1:-1)*359),j="M".concat(T.x,",").concat(T.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(E?0:1,`,
    `).concat(C.x,",").concat(C.y),P=eu(t.id)?lE("recharts-radial-line-"):t.id;return k.createElement("text",jp({},n,{dominantBaseline:"central",className:Sa("recharts-radial-bar-label",a)}),k.createElement("defs",null,k.createElement("path",{id:P,d:j})),k.createElement("textPath",{xlinkHref:"#".concat(P)},r))},ICe=(t,e,r)=>{var{cx:n,cy:i,innerRadius:s,outerRadius:a,startAngle:c,endAngle:u}=t,l=(c+u)/2;if(r==="outside"){var{x:d,y:f}=rl(n,i,a+e,l);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var A=(s+a)/2,{x:p,y:v}=rl(n,i,A,l);return{x:p,y:v,textAnchor:"middle",verticalAnchor:"middle"}},PS=t=>t!=null&&"cx"in t&&Ei(t.cx),LCe={angle:0,offset:5,zIndex:Oc.label,position:"middle",textBreakAll:!1};function BCe(t){if(!PS(t))return t;var{cx:e,cy:r,outerRadius:n}=t,i=n*2;return{x:e-n,y:r-n,width:i,upperWidth:i,lowerWidth:i,height:i}}function e0(t){var e=Fc(t,LCe),{viewBox:r,parentViewBox:n,position:i,value:s,children:a,content:c,className:u="",textBreakAll:l,labelRef:d}=e,f=CCe(),A=Jee(),p=i==="center"?A:f??A,v,y,x;r==null?v=p:PS(r)?v=r:v=RD(r);var w=BCe(v);if(!v||eu(s)&&eu(a)&&!k.isValidElement(c)&&typeof c!="function")return null;var E=nw(nw({},e),{},{viewBox:v});if(k.isValidElement(c)){var{labelRef:T}=E,C=EQ(E,yCe);return k.cloneElement(c,C)}if(typeof c=="function"){var{content:j}=E,P=EQ(E,xCe);if(y=k.createElement(c,P),k.isValidElement(y))return y}else y=jCe(e);var U=Uu(e);if(PS(v)){if(i==="insideStart"||i==="insideEnd"||i==="end")return kCe(e,i,y,U,v);x=ICe(v,e.offset,e.position)}else{if(!w)return null;var W=vCe({viewBox:w,position:i,offset:e.offset,parentViewBox:PS(n)?void 0:n});x=nw(nw({x:W.x,y:W.y,textAnchor:W.horizontalAnchor,verticalAnchor:W.verticalAnchor},W.width!==void 0?{width:W.width}:{}),W.height!==void 0?{height:W.height}:{})}return k.createElement(rh,{zIndex:e.zIndex},k.createElement(R_,jp({ref:d,className:Sa("recharts-label",u)},U,x,{textAnchor:uCe(U.textAnchor)?U.textAnchor:x.textAnchor,breakAll:l}),y))}e0.displayName="Label";var OCe=(t,e,r)=>{if(!t)return null;var n={viewBox:e,labelRef:r};return t===!0?k.createElement(e0,jp({key:"label-implicit"},n)):Mm(t)?k.createElement(e0,jp({key:"label-implicit",value:t},n)):k.isValidElement(t)?t.type===e0?k.cloneElement(t,nw({key:"label-implicit"},n)):k.createElement(e0,jp({key:"label-implicit",content:t},n)):X3(t)?k.createElement(e0,jp({key:"label-implicit",content:t},n)):t&&typeof t=="object"?k.createElement(e0,jp({},t,{key:"label-implicit"},n)):null};function PCe(t){var{label:e,labelRef:r}=t,n=Jee();return OCe(e,n,r)||null}var fL={},AL={},SQ;function RCe(){return SQ||(SQ=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r[r.length-1]}t.last=e})(AL)),AL}var mL={},TQ;function DCe(){return TQ||(TQ=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Array.isArray(r)?r:Array.from(r)}t.toArray=e})(mL)),mL}var CQ;function MCe(){return CQ||(CQ=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=RCe(),r=DCe(),n=SD();function i(s){if(n.isArrayLike(s))return e.last(r.toArray(s))}t.last=i})(fL)),fL}var pL,jQ;function FCe(){return jQ||(jQ=1,pL=MCe().last),pL}var UCe=FCe();const ete=Yf(UCe);var $Ce=["valueAccessor"],HCe=["dataKey","clockWise","id","textBreakAll","zIndex"];function nj(){return nj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nj.apply(null,arguments)}function NQ(t,e){if(t==null)return{};var r,n,i=QCe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function QCe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var VCe=t=>Array.isArray(t.value)?ete(t.value):t.value,tte=k.createContext(void 0),rte=tte.Provider,nte=k.createContext(void 0),zCe=nte.Provider;function KCe(){return k.useContext(tte)}function GCe(){return k.useContext(nte)}function RS(t){var{valueAccessor:e=VCe}=t,r=NQ(t,$Ce),{dataKey:n,clockWise:i,id:s,textBreakAll:a,zIndex:c}=r,u=NQ(r,HCe),l=KCe(),d=GCe(),f=l||d;return!f||!f.length?null:k.createElement(rh,{zIndex:c??Oc.label},k.createElement(Dc,{className:"recharts-label-list"},f.map((A,p)=>{var v,y=eu(n)?e(A,p):dl(A.payload,n),x=eu(s)?{}:{id:"".concat(s,"-").concat(p)};return k.createElement(e0,nj({key:"label-".concat(p)},Uu(A),u,x,{fill:(v=r.fill)!==null&&v!==void 0?v:A.fill,parentViewBox:A.parentViewBox,value:y,textBreakAll:a,viewBox:A.viewBox,index:p,zIndex:0}))})))}RS.displayName="LabelList";function Z3(t){var{label:e}=t;return e?e===!0?k.createElement(RS,{key:"labelList-implicit"}):k.isValidElement(e)||X3(e)?k.createElement(RS,{key:"labelList-implicit",content:e}):typeof e=="object"?k.createElement(RS,nj({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var WCe=["points","className","baseLinePoints","connectNulls"],kQ;function Vx(){return Vx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vx.apply(null,arguments)}function YCe(t,e){if(t==null)return{};var r,n,i=qCe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function qCe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function XCe(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var IQ=t=>t!=null&&t.x===+t.x&&t.y===+t.y,ZCe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];e.forEach(a=>{var c=r[r.length-1];IQ(a)?c&&c.push(a):c&&c.length>0&&r.push([])});var n=e[0],i=r[r.length-1];IQ(n)&&i&&i.push(n);var s=r[r.length-1];return s&&s.length<=0&&(r=r.slice(0,-1)),r},Dw=(t,e)=>{var r=ZCe(t);e&&(r=[r.reduce((i,s)=>[...i,...s],[])]);var n=r.map(i=>i.reduce((s,a,c)=>cc(kQ||(kQ=XCe(["","","",",",""])),s,c===0?"M":"L",a.x,a.y),"")).join("");return r.length===1?"".concat(n,"Z"):n},JCe=(t,e,r)=>{var n=Dw(t,r);return"".concat(n.slice(-1)==="Z"?n.slice(0,-1):n,"L").concat(Dw(Array.from(e).reverse(),r).slice(1))},ite=t=>{var{points:e,className:r,baseLinePoints:n,connectNulls:i}=t,s=YCe(t,WCe);if(!e||!e.length)return null;var a=Sa("recharts-polygon",r);if(n&&n.length){var c=s.stroke&&s.stroke!=="none",u=JCe(e,n,i);return k.createElement("g",{className:a},k.createElement("path",Vx({},Uu(s),{fill:u.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:u})),c?k.createElement("path",Vx({},Uu(s),{fill:"none",d:Dw(e,i)})):null,c?k.createElement("path",Vx({},Uu(s),{fill:"none",d:Dw(n,i)})):null)}var l=Dw(e,i);return k.createElement("path",Vx({},Uu(s),{fill:l.slice(-1)==="Z"?s.fill:"none",className:a,d:l}))};function lO(){return lO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lO.apply(null,arguments)}var J3=t=>{var{cx:e,cy:r,r:n,className:i}=t,s=Sa("recharts-dot",i);return Ei(e)&&Ei(r)&&Ei(n)?k.createElement("circle",lO({},gu(t),_D(t),{className:s,cx:e,cy:r,r:n})):null},eM=t=>t.graphicalItems.polarItems,eje=or([Nl,N_],x3),o5=or([eM,Uc,eje],w3),tje=or([o5],E3),l5=or([tje,__],_3),ste=or([l5,Uc,o5],T3);or([l5,Uc,o5],(t,e,r)=>r.length>0?t.flatMap(n=>r.flatMap(i=>{var s,a=dl(n,(s=e.dataKey)!==null&&s!==void 0?s:i.dataKey);return{value:a,errorDomain:[]}})).filter(Boolean):e?.dataKey!=null?t.map(n=>({value:dl(n,e.dataKey),errorDomain:[]})):t.map(n=>({value:n,errorDomain:[]})));var LQ=()=>{},rje=or([l5,Uc,o5,r5,Nl],k3),nje=or([Uc,j3,N3,LQ,rje,LQ,Wa,Nl],I3),ate=or([Uc,Wa,l5,ste,S_,Nl,nje],L3),ote=or([ate,py,Vm],O3),ije=or([Uc,ate,ote,Nl],R3),sje=or([Vm,ije],QJ),tM=(t,e,r)=>{switch(e){case"angleAxis":return Zb(t,r);case"radiusAxis":return C_(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},rM=(t,e,r)=>{switch(e){case"angleAxis":return S_e(t,r);case"radiusAxis":return T_e(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},D_=or([tM,Vm,sje,rM],n5),lte=or([Wa,ste,py,Nl],D3),M_=or([Wa,tM,Vm,D_,ote,rM,B_,lte,Nl],hee),aje=or([M_],t=>{if(t){var e=new Map;return t.forEach(r=>{var n=(r.coordinate+360)%360;e.has(n)||e.set(n,r)}),Array.from(e.values())}});or([Wa,tM,D_,rM,B_,lte,Nl],Aee);var oje=(t,e)=>M_(t,"angleAxis",e,!1),lje=or([oje],t=>{if(t)return t.map(e=>e.coordinate)}),cje=(t,e)=>M_(t,"radiusAxis",e,!1),uje=or([cje],t=>{if(t)return t.map(e=>e.coordinate)}),dje=["gridType","radialLines","angleAxisId","radiusAxisId","cx","cy","innerRadius","outerRadius","polarAngles","polarRadius","zIndex"];function hje(t,e){if(t==null)return{};var r,n,i=fje(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function fje(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function jA(){return jA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jA.apply(null,arguments)}function BQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function c5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BQ(Object(r),!0).forEach(function(n){Aje(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Aje(t,e,r){return(e=mje(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mje(t){var e=pje(t,"string");return typeof e=="symbol"?e:e+""}function pje(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gje=(t,e,r,n)=>{var i="";return n.forEach((s,a)=>{var c=rl(e,r,t,s);a?i+="L ".concat(c.x,",").concat(c.y):i+="M ".concat(c.x,",").concat(c.y)}),i+="Z",i},vje=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:i,polarAngles:s,radialLines:a}=t;if(!s||!s.length||!a)return null;var c=c5({stroke:"#ccc"},gu(t));return k.createElement("g",{className:"recharts-polar-grid-angle"},s.map(u=>{var l=rl(e,r,n,u),d=rl(e,r,i,u);return k.createElement("line",jA({key:"line-".concat(u)},c,{x1:l.x,y1:l.y,x2:d.x,y2:d.y}))}))},OQ=t=>{var{cx:e,cy:r,radius:n}=t,i=c5({stroke:"#ccc",fill:"none"},gu(t));return k.createElement("circle",jA({},i,{className:Sa("recharts-polar-grid-concentric-circle",t.className),cx:e,cy:r,r:n}))},PQ=t=>{var{radius:e}=t,r=c5({stroke:"#ccc",fill:"none"},gu(t));return k.createElement("path",jA({},r,{className:Sa("recharts-polar-grid-concentric-polygon",t.className),d:gje(e,t.cx,t.cy,t.polarAngles)}))},yje=t=>{var{polarRadius:e,gridType:r}=t;if(!e||!e.length)return null;var n=Math.max(...e),i=t.fill&&t.fill!=="none";return k.createElement("g",{className:"recharts-polar-grid-concentric"},i&&r==="circle"&&k.createElement(OQ,jA({},t,{radius:n})),i&&r!=="circle"&&k.createElement(PQ,jA({},t,{radius:n})),e.map((s,a)=>{var c=a;return r==="circle"?k.createElement(OQ,jA({key:c},t,{fill:"none",radius:s})):k.createElement(PQ,jA({key:c},t,{fill:"none",radius:s}))}))},xje={angleAxisId:0,radiusAxisId:0,gridType:"polygon",radialLines:!0,zIndex:Oc.grid},cte=t=>{var e,r,n,i,s,a,c,u,l=Fc(t,xje),{gridType:d,radialLines:f,angleAxisId:A,radiusAxisId:p,cx:v,cy:y,innerRadius:x,outerRadius:w,polarAngles:E,polarRadius:T,zIndex:C}=l,j=hje(l,dje),P=si(j_),U=si(be=>lje(be,A)),W=si(be=>uje(be,p)),q=Array.isArray(E)?E:U,re=Array.isArray(T)?T:W;if(q==null||re==null)return null;var ie=c5({cx:(e=(r=P?.cx)!==null&&r!==void 0?r:v)!==null&&e!==void 0?e:0,cy:(n=(i=P?.cy)!==null&&i!==void 0?i:y)!==null&&n!==void 0?n:0,innerRadius:(s=(a=P?.innerRadius)!==null&&a!==void 0?a:x)!==null&&s!==void 0?s:0,outerRadius:(c=(u=P?.outerRadius)!==null&&u!==void 0?u:w)!==null&&c!==void 0?c:0,polarAngles:q,polarRadius:re,zIndex:C},j),{outerRadius:Ae}=ie;return Ae<=0?null:k.createElement(rh,{zIndex:ie.zIndex},k.createElement("g",{className:"recharts-polar-grid"},k.createElement(yje,jA({gridType:d,radialLines:f},ie,{polarAngles:q,polarRadius:re})),k.createElement(vje,jA({gridType:d,radialLines:f},ie,{polarAngles:q,polarRadius:re}))))};cte.displayName="PolarGrid";var bje={radiusAxis:{},angleAxis:{}},ute=Dh({name:"polarAxis",initialState:bje,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:GYe,removeRadiusAxis:WYe,addAngleAxis:wje,removeAngleAxis:Eje}=ute.actions,_je=ute.reducer;function nM(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var Sje=["children","type"];function ly(){return ly=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ly.apply(null,arguments)}function RQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Uf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RQ(Object(r),!0).forEach(function(n){Tje(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Tje(t,e,r){return(e=Cje(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cje(t){var e=jje(t,"string");return typeof e=="symbol"?e:e+""}function jje(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nje(t,e){if(t==null)return{};var r,n,i=kje(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function kje(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var DQ=1e-5,Ije=Math.cos($C(45)),Lje="angleAxis";function Bje(t){var e=Al(),r=Fxe(),n=k.useMemo(()=>{var{children:a,type:c}=t,u=Nje(t,Sje),l=T_(r,"angleAxis",c);if(l!=null)return Uf(Uf({},u),{},{type:l})},[t,r]),i=si(a=>Zb(a,n?.id)),s=n===i;return k.useEffect(()=>n==null?L0:(e(wje(n)),()=>{e(Eje(n))}),[e,n]),s?t.children:null}var Oje=(t,e)=>{var{cx:r,cy:n,radius:i,orientation:s,tickSize:a}=e,c=a||8,u=rl(r,n,i,t.coordinate),l=rl(r,n,i+(s==="inner"?-1:1)*c,t.coordinate);return{x1:u.x,y1:u.y,x2:l.x,y2:l.y}},Pje=(t,e)=>{var r=Math.cos($C(-t.coordinate));return r>DQ?e==="outer"?"start":"end":r<-DQ?e==="outer"?"end":"start":"middle"},Rje=t=>{var e=Math.cos($C(-t.coordinate)),r=Math.sin($C(-t.coordinate));return Math.abs(e)<=Ije?r>0?"start":"end":"middle"},Dje=t=>{var{cx:e,cy:r,radius:n,axisLineType:i,axisLine:s,ticks:a}=t;if(!s)return null;var c=Uf(Uf({},gu(t)),{},{fill:"none"},gu(s));if(i==="circle")return k.createElement(J3,ly({className:"recharts-polar-angle-axis-line"},c,{cx:e,cy:r,r:n}));var u=a.map(l=>rl(e,r,n,l.coordinate));return k.createElement(ite,ly({className:"recharts-polar-angle-axis-line"},c,{points:u}))},Mje=t=>{var{tick:e,tickProps:r,value:n}=t;return e?k.isValidElement(e)?k.cloneElement(e,r):typeof e=="function"?e(r):k.createElement(R_,ly({},r,{className:"recharts-polar-angle-axis-tick-value"}),n):null},Fje=t=>{var{tick:e,tickLine:r,tickFormatter:n,stroke:i,ticks:s}=t,a=gu(t),c=ey(e),u=Uf(Uf({},a),{},{fill:"none"},gu(r)),l=s.map((d,f)=>{var A=Oje(d,t),p=Pje(d,t.orientation),v=Rje(d),y=Uf(Uf(Uf({},a),{},{textAnchor:p,verticalAnchor:v,stroke:"none",fill:i},c),{},{index:f,payload:d,x:A.x2,y:A.y2});return k.createElement(Dc,ly({className:Sa("recharts-polar-angle-axis-tick",nM(e)),key:"tick-".concat(d.coordinate)},Kb(t,d,f)),r&&k.createElement("line",ly({className:"recharts-polar-angle-axis-tick-line"},u,A)),k.createElement(Mje,{tick:e,tickProps:y,value:n?n(d.value,f):d.value}))});return k.createElement(Dc,{className:"recharts-polar-angle-axis-ticks"},l)},Uje=t=>{var{angleAxisId:e}=t,r=si(j_),n=si(c=>D_(c,"angleAxis",e)),i=th(),s=si(c=>aje(c,"angleAxis",e,i));if(r==null||!s||!s.length||n==null)return null;var a=Uf(Uf(Uf({},t),{},{scale:n},r),{},{radius:r.outerRadius,ticks:s});return k.createElement(rh,{zIndex:a.zIndex},k.createElement(Dc,{className:Sa("recharts-polar-angle-axis",Lje,a.className)},k.createElement(Dje,a),k.createElement(Fje,a)))};function dte(t){var e=Fc(t,Vg);return k.createElement(Bje,{id:e.angleAxisId,scale:e.scale,type:e.type,dataKey:e.dataKey,unit:void 0,name:e.name,allowDuplicatedCategory:!1,allowDataOverflow:!1,reversed:e.reversed,includeHidden:!1,allowDecimals:e.allowDecimals,tickCount:e.tickCount,ticks:e.ticks,tick:e.tick,domain:e.domain},k.createElement(Uje,e))}dte.displayName="PolarAngleAxis";function MQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function FQ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MQ(Object(r),!0).forEach(function(n){$je(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $je(t,e,r){return(e=Hje(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hje(t){var e=Qje(t,"string");return typeof e=="symbol"?e:e+""}function Qje(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vje=(t,e)=>e,iM=or([eM,Vje],(t,e)=>t.filter(r=>r.type==="pie").find(r=>r.id===e)),zje=[],sM=(t,e,r)=>r?.length===0?zje:r,hte=or([__,iM,sM],(t,e,r)=>{var{chartData:n}=t;if(e!=null){var i;if(e?.data!=null&&e.data.length>0?i=e.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(s=>FQ(FQ({},e.presentationProps),s.props))),i!=null)return i}}),Kje=or([hte,iM,sM],(t,e,r)=>{if(!(t==null||e==null))return t.map((n,i)=>{var s,a=dl(n,e.nameKey,e.name),c;return r!=null&&(s=r[i])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?c=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?c=n.fill:c=e.fill,{value:Gb(a,e.dataKey),color:c,payload:n,type:e.legendType}})}),Gje=or([hte,iM,sM,Hu],(t,e,r,n)=>{if(!(e==null||t==null))return YNe({offset:n,pieSettings:e,displayedData:t,cells:r})}),gL={exports:{}},Zo={};var UQ;function Wje(){if(UQ)return Zo;UQ=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),l=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),A=Symbol.for("react.view_transition"),p=Symbol.for("react.client.reference");function v(y){if(typeof y=="object"&&y!==null){var x=y.$$typeof;switch(x){case t:switch(y=y.type,y){case r:case i:case n:case u:case l:case A:return y;default:switch(y=y&&y.$$typeof,y){case a:case c:case f:case d:return y;case s:return y;default:return x}}case e:return x}}}return Zo.ContextConsumer=s,Zo.ContextProvider=a,Zo.Element=t,Zo.ForwardRef=c,Zo.Fragment=r,Zo.Lazy=f,Zo.Memo=d,Zo.Portal=e,Zo.Profiler=i,Zo.StrictMode=n,Zo.Suspense=u,Zo.SuspenseList=l,Zo.isContextConsumer=function(y){return v(y)===s},Zo.isContextProvider=function(y){return v(y)===a},Zo.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===t},Zo.isForwardRef=function(y){return v(y)===c},Zo.isFragment=function(y){return v(y)===r},Zo.isLazy=function(y){return v(y)===f},Zo.isMemo=function(y){return v(y)===d},Zo.isPortal=function(y){return v(y)===e},Zo.isProfiler=function(y){return v(y)===i},Zo.isStrictMode=function(y){return v(y)===n},Zo.isSuspense=function(y){return v(y)===u},Zo.isSuspenseList=function(y){return v(y)===l},Zo.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===r||y===i||y===n||y===u||y===l||typeof y=="object"&&y!==null&&(y.$$typeof===f||y.$$typeof===d||y.$$typeof===a||y.$$typeof===s||y.$$typeof===c||y.$$typeof===p||y.getModuleId!==void 0)},Zo.typeOf=v,Zo}var $Q;function Yje(){return $Q||($Q=1,gL.exports=Wje()),gL.exports}var qje=Yje(),HQ=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",QQ=null,vL=null,fte=t=>{if(t===QQ&&Array.isArray(vL))return vL;var e=[];return k.Children.forEach(t,r=>{eu(r)||(qje.isFragment(r)?e=e.concat(fte(r.props.children)):e.push(r))}),vL=e,QQ=t,e};function aM(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(i=>HQ(i)):n=[HQ(e)],fte(t).forEach(i=>{var s=ry(i,"type.displayName")||ry(i,"type.name");s&&n.indexOf(s)!==-1&&r.push(i)}),r}var Xje=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,yL={},VQ;function Zje(){return VQ||(VQ=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}t.isPlainObject=e})(yL)),yL}var xL,zQ;function Jje(){return zQ||(zQ=1,xL=Zje().isPlainObject),xL}var eNe=Jje();const tNe=Yf(eNe);var KQ,GQ,WQ,YQ,qQ;function XQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ZQ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XQ(Object(r),!0).forEach(function(n){rNe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rNe(t,e,r){return(e=nNe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nNe(t){var e=iNe(t,"string");return typeof e=="symbol"?e:e+""}function iNe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ij(){return ij=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ij.apply(null,arguments)}function R1(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var JQ=(t,e,r,n,i)=>{var s=r-n,a;return a=cc(KQ||(KQ=R1(["M ",",",""])),t,e),a+=cc(GQ||(GQ=R1(["L ",",",""])),t+r,e),a+=cc(WQ||(WQ=R1(["L ",",",""])),t+r-s/2,e+i),a+=cc(YQ||(YQ=R1(["L ",",",""])),t+r-s/2-n,e+i),a+=cc(qQ||(qQ=R1(["L ",","," Z"])),t,e),a},sNe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},aNe=t=>{var e=Fc(t,sNe),{x:r,y:n,upperWidth:i,lowerWidth:s,height:a,className:c}=e,{animationEasing:u,animationDuration:l,animationBegin:d,isUpdateAnimationActive:f}=e,A=k.useRef(null),[p,v]=k.useState(-1),y=k.useRef(i),x=k.useRef(s),w=k.useRef(a),E=k.useRef(r),T=k.useRef(n),C=y_(t,"trapezoid-");if(k.useEffect(()=>{if(A.current&&A.current.getTotalLength)try{var Ee=A.current.getTotalLength();Ee&&v(Ee)}catch{}},[]),r!==+r||n!==+n||i!==+i||s!==+s||a!==+a||i===0&&s===0||a===0)return null;var j=Sa("recharts-trapezoid",c);if(!f)return k.createElement("g",null,k.createElement("path",ij({},Uu(e),{className:j,d:JQ(r,n,i,s,a)})));var P=y.current,U=x.current,W=w.current,q=E.current,re=T.current,ie="0px ".concat(p===-1?1:p,"px"),Ae="".concat(p,"px 0px"),be=BZ(["strokeDasharray"],l,u);return k.createElement(v_,{animationId:C,key:C,canBegin:p>0,duration:l,easing:u,isActive:f,begin:d},Ee=>{var ge=uc(P,i,Ee),se=uc(U,s,Ee),xe=uc(W,a,Ee),ce=uc(q,r,Ee),Me=uc(re,n,Ee);A.current&&(y.current=ge,x.current=se,w.current=xe,E.current=ce,T.current=Me);var Oe=Ee>0?{transition:be,strokeDasharray:Ae}:{strokeDasharray:ie};return k.createElement("path",ij({},Uu(e),{className:j,d:JQ(ce,Me,ge,se,xe),ref:A,style:ZQ(ZQ({},Oe),e.style)}))})},oNe=["option","shapeType","activeClassName"];function lNe(t,e){if(t==null)return{};var r,n,i=cNe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function cNe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function eV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eV(Object(r),!0).forEach(function(n){uNe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uNe(t,e,r){return(e=dNe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dNe(t){var e=hNe(t,"string");return typeof e=="symbol"?e:e+""}function hNe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fNe(t,e){return sj(sj({},e),t)}function ANe(t,e){return t==="symbols"}function tV(t){var{shapeType:e,elementProps:r}=t;switch(e){case"rectangle":return k.createElement(DZ,r);case"trapezoid":return k.createElement(aNe,r);case"sector":return k.createElement($Z,r);case"symbols":if(ANe(e))return k.createElement(ED,r);break;case"curve":return k.createElement(HD,r);default:return null}}function mNe(t){return k.isValidElement(t)?t.props:t}function Ate(t){var{option:e,shapeType:r,activeClassName:n="recharts-active-shape"}=t,i=lNe(t,oNe),s;if(k.isValidElement(e))s=k.cloneElement(e,sj(sj({},i),mNe(e)));else if(typeof e=="function")s=e(i,i.index);else if(tNe(e)&&typeof e!="boolean"){var a=fNe(e,i);s=k.createElement(tV,{shapeType:r,elementProps:a})}else{var c=i;s=k.createElement(tV,{shapeType:r,elementProps:c})}return i.isActive?k.createElement(Dc,{className:n},s):s}var oM=(t,e,r)=>{var n=Al();return(i,s)=>a=>{t?.(i,s,a),n(xee({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}},lM=t=>{var e=Al();return(r,n)=>i=>{t?.(r,n,i),e(L2e())}},cM=(t,e,r)=>{var n=Al();return(i,s)=>a=>{t?.(i,s,a),n(B2e({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}};function uM(t){var{tooltipEntrySettings:e}=t,r=Al(),n=th(),i=k.useRef(null);return k.useLayoutEffect(()=>{n||(i.current===null?r(j2e(e)):i.current!==e&&r(N2e({prev:i.current,next:e})),i.current=e)},[e,r,n]),k.useLayoutEffect(()=>()=>{i.current&&(r(k2e(i.current)),i.current=null)},[r]),null}function pNe(t){var{legendPayload:e}=t,r=Al(),n=th(),i=k.useRef(null);return k.useLayoutEffect(()=>{n||(i.current===null?r(jZ(e)):i.current!==e&&r(NZ({prev:i.current,next:e})),i.current=e)},[r,n,e]),k.useLayoutEffect(()=>()=>{i.current&&(r(kZ(i.current)),i.current=null)},[r]),null}function mte(t){var{legendPayload:e}=t,r=Al(),n=si(Wa),i=k.useRef(null);return k.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(i.current===null?r(jZ(e)):i.current!==e&&r(NZ({prev:i.current,next:e})),i.current=e)},[r,n,e]),k.useLayoutEffect(()=>()=>{i.current&&(r(kZ(i.current)),i.current=null)},[r]),null}var bL,gNe=()=>{var[t]=k.useState(()=>lE("uid-"));return t},vNe=(bL=Ule.useId)!==null&&bL!==void 0?bL:gNe;function yNe(t,e){var r=vNe();return e||(t?"".concat(t,"-").concat(r):r)}var xNe=k.createContext(void 0),dM=t=>{var{id:e,type:r,children:n}=t,i=yNe("recharts-".concat(r),e);return k.createElement(xNe.Provider,{value:i},n(i))},bNe={cartesianItems:[],polarItems:[]},pte=Dh({name:"graphicalItems",initialState:bNe,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:ql()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:r,next:n}=e.payload,i=NA(t).cartesianItems.indexOf(r);i>-1&&(t.cartesianItems[i]=n)},prepare:ql()},removeCartesianGraphicalItem:{reducer(t,e){var r=NA(t).cartesianItems.indexOf(e.payload);r>-1&&t.cartesianItems.splice(r,1)},prepare:ql()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:ql()},removePolarGraphicalItem:{reducer(t,e){var r=NA(t).polarItems.indexOf(e.payload);r>-1&&t.polarItems.splice(r,1)},prepare:ql()}}}),{addCartesianGraphicalItem:wNe,replaceCartesianGraphicalItem:ENe,removeCartesianGraphicalItem:_Ne,addPolarGraphicalItem:SNe,removePolarGraphicalItem:TNe}=pte.actions,CNe=pte.reducer,jNe=t=>{var e=Al(),r=k.useRef(null);return k.useLayoutEffect(()=>{r.current===null?e(wNe(t)):r.current!==t&&e(ENe({prev:r.current,next:t})),r.current=t},[e,t]),k.useLayoutEffect(()=>()=>{r.current&&(e(_Ne(r.current)),r.current=null)},[e]),null},NNe=k.memo(jNe);function gte(t){var e=Al();return k.useLayoutEffect(()=>(e(SNe(t)),()=>{e(TNe(t))}),[e,t]),null}var kNe=["key"],INe=["onMouseEnter","onClick","onMouseLeave"],LNe=["id"],BNe=["id"];function rV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Bc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rV(Object(r),!0).forEach(function(n){ONe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ONe(t,e,r){return(e=PNe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PNe(t){var e=RNe(t,"string");return typeof e=="symbol"?e:e+""}function RNe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function S0(){return S0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},S0.apply(null,arguments)}function u5(t,e){if(t==null)return{};var r,n,i=DNe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function DNe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function MNe(t){var e=k.useMemo(()=>aM(t.children,Nb),[t.children]),r=si(n=>Kje(n,t.id,e));return r==null?null:k.createElement(mte,{legendPayload:r})}var FNe=k.memo(t=>{var{dataKey:e,nameKey:r,sectors:n,stroke:i,strokeWidth:s,fill:a,name:c,hide:u,tooltipType:l,id:d}=t,f={dataDefinedOnItem:n.map(A=>A.tooltipPayload),getPosition:A=>{var p;return(p=n[Number(A)])===null||p===void 0?void 0:p.tooltipPosition},settings:{stroke:i,strokeWidth:s,fill:a,dataKey:e,nameKey:r,name:Gb(c,e),hide:u,type:l,color:a,unit:"",graphicalItemId:d}};return k.createElement(uM,{tooltipEntrySettings:f})}),UNe=(t,e)=>t>e?"start":t<e?"end":"middle",$Ne=(t,e,r)=>eh(typeof e=="function"?e(t):e,r,r*.8),HNe=(t,e,r)=>{var{top:n,left:i,width:s,height:a}=e,c=MZ(s,a),u=i+eh(t.cx,s,s/2),l=n+eh(t.cy,a,a/2),d=eh(t.innerRadius,c,0),f=$Ne(r,t.outerRadius,c),A=t.maxRadius||Math.sqrt(s*s+a*a)/2;return{cx:u,cy:l,innerRadius:d,outerRadius:f,maxRadius:A}},QNe=(t,e)=>{var r=dd(e-t),n=Math.min(Math.abs(e-t),360);return r*n},VNe=(t,e)=>{if(k.isValidElement(t))return k.cloneElement(t,e);if(typeof t=="function")return t(e);var r=Sa("recharts-pie-label-line",typeof t!="boolean"?t.className:""),{key:n}=e,i=u5(e,kNe);return k.createElement(HD,S0({},i,{type:"linear",className:r}))},zNe=(t,e,r)=>{if(k.isValidElement(t))return k.cloneElement(t,e);var n=r;if(typeof t=="function"&&(n=t(e),k.isValidElement(n)))return n;var i=Sa("recharts-pie-label-text",nM(t));return k.createElement(R_,S0({},e,{alignmentBaseline:"middle",className:i}),n)};function KNe(t){var{sectors:e,props:r,showLabels:n}=t,{label:i,labelLine:s,dataKey:a}=r;if(!n||!i||!e)return null;var c=gu(r),u=ey(i),l=ey(s),d=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,f=e.map((A,p)=>{var v=(A.startAngle+A.endAngle)/2,y=rl(A.cx,A.cy,A.outerRadius+d,v),x=Bc(Bc(Bc(Bc({},c),A),{},{stroke:"none"},u),{},{index:p,textAnchor:UNe(y.x,A.cx)},y),w=Bc(Bc(Bc(Bc({},c),A),{},{fill:"none",stroke:A.fill},l),{},{index:p,points:[rl(A.cx,A.cy,A.outerRadius,v),y],key:"line"});return k.createElement(rh,{zIndex:Oc.label,key:"label-".concat(A.startAngle,"-").concat(A.endAngle,"-").concat(A.midAngle,"-").concat(p)},k.createElement(Dc,null,s&&VNe(s,w),zNe(i,x,dl(A,a))))});return k.createElement(Dc,{className:"recharts-pie-labels"},f)}function GNe(t){var{sectors:e,props:r,showLabels:n}=t,{label:i}=r;return typeof i=="object"&&i!=null&&"position"in i?k.createElement(Z3,{label:i}):k.createElement(KNe,{sectors:e,props:r,showLabels:n})}function WNe(t){var{sectors:e,activeShape:r,inactiveShape:n,allOtherPieProps:i,shape:s,id:a}=t,c=si(_0),u=si(z3),l=si(vSe),{onMouseEnter:d,onClick:f,onMouseLeave:A}=i,p=u5(i,INe),v=oM(d,i.dataKey,a),y=lM(A),x=cM(f,i.dataKey,a);return e==null||e.length===0?null:k.createElement(k.Fragment,null,e.map((w,E)=>{if(w?.startAngle===0&&w?.endAngle===0&&e.length!==1)return null;var T=l==null||l===a,C=String(E)===c&&(u==null||i.dataKey===u)&&T,j=c?n:null,P=r&&C?r:j,U=Bc(Bc({},w),{},{stroke:w.stroke,tabIndex:-1,[AZ]:E,[mZ]:a});return k.createElement(Dc,S0({key:"sector-".concat(w?.startAngle,"-").concat(w?.endAngle,"-").concat(w.midAngle,"-").concat(E),tabIndex:-1,className:"recharts-pie-sector"},Kb(p,w,E),{onMouseEnter:v(w,E),onMouseLeave:y(w,E),onClick:x(w,E)}),k.createElement(Ate,S0({option:s??P,index:E,shapeType:"sector",isActive:C},U)))}))}function YNe(t){var e,{pieSettings:r,displayedData:n,cells:i,offset:s}=t,{cornerRadius:a,startAngle:c,endAngle:u,dataKey:l,nameKey:d,tooltipType:f}=r,A=Math.abs(r.minAngle),p=QNe(c,u),v=Math.abs(p),y=n.length<=1?0:(e=r.paddingAngle)!==null&&e!==void 0?e:0,x=n.filter(P=>dl(P,l,0)!==0).length,w=(v>=360?x:x-1)*y,E=v-x*A-w,T=n.reduce((P,U)=>{var W=dl(U,l,0);return P+(Ei(W)?W:0)},0),C;if(T>0){var j;C=n.map((P,U)=>{var W=dl(P,l,0),q=dl(P,d,U),re=HNe(r,s,P),ie=(Ei(W)?W:0)/T,Ae,be=Bc(Bc({},P),i&&i[U]&&i[U].props);U?Ae=j.endAngle+dd(p)*y*(W!==0?1:0):Ae=c;var Ee=Ae+dd(p)*((W!==0?A:0)+ie*E),ge=(Ae+Ee)/2,se=(re.innerRadius+re.outerRadius)/2,xe=[{name:q,value:W,payload:be,dataKey:l,type:f,graphicalItemId:r.id}],ce=rl(re.cx,re.cy,se,ge);return j=Bc(Bc(Bc(Bc({},r.presentationProps),{},{percent:ie,cornerRadius:typeof a=="string"?parseFloat(a):a,name:q,tooltipPayload:xe,midAngle:ge,middleRadius:se,tooltipPosition:ce},be),re),{},{value:W,dataKey:l,startAngle:Ae,endAngle:Ee,payload:be,paddingAngle:dd(p)*y}),j})}return C}function qNe(t){var{showLabels:e,sectors:r,children:n}=t,i=k.useMemo(()=>!e||!r?[]:r.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[r,e]);return k.createElement(zCe,{value:e?i:void 0},n)}function XNe(t){var{props:e,previousSectorsRef:r,id:n}=t,{sectors:i,isAnimationActive:s,animationBegin:a,animationDuration:c,animationEasing:u,activeShape:l,inactiveShape:d,onAnimationStart:f,onAnimationEnd:A}=e,p=y_(e,"recharts-pie-"),v=r.current,[y,x]=k.useState(!1),w=k.useCallback(()=>{typeof A=="function"&&A(),x(!1)},[A]),E=k.useCallback(()=>{typeof f=="function"&&f(),x(!0)},[f]);return k.createElement(qNe,{showLabels:!y,sectors:i},k.createElement(v_,{animationId:p,begin:a,duration:c,isActive:s,easing:u,onAnimationStart:E,onAnimationEnd:w,key:p},T=>{var C,j=[],P=i&&i[0],U=(C=P?.startAngle)!==null&&C!==void 0?C:0;return i?.forEach((W,q)=>{var re=v&&v[q],ie=q>0?ry(W,"paddingAngle",0):0;if(re){var Ae=uc(re.endAngle-re.startAngle,W.endAngle-W.startAngle,T),be=Bc(Bc({},W),{},{startAngle:U+ie,endAngle:U+Ae+ie});j.push(be),U=be.endAngle}else{var{endAngle:Ee,startAngle:ge}=W,se=uc(0,Ee-ge,T),xe=Bc(Bc({},W),{},{startAngle:U+ie,endAngle:U+se+ie});j.push(xe),U=xe.endAngle}}),r.current=j,k.createElement(Dc,null,k.createElement(WNe,{sectors:j,activeShape:l,inactiveShape:d,allOtherPieProps:e,shape:e.shape,id:n}))}),k.createElement(GNe,{showLabels:!y,sectors:i,props:e}),e.children)}var ZNe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Oc.area};function JNe(t){var{id:e}=t,r=u5(t,LNe),{hide:n,className:i,rootTabIndex:s}=t,a=k.useMemo(()=>aM(t.children,Nb),[t.children]),c=si(d=>Gje(d,e,a)),u=k.useRef(null),l=Sa("recharts-pie",i);return n||c==null?(u.current=null,k.createElement(Dc,{tabIndex:s,className:l})):k.createElement(rh,{zIndex:t.zIndex},k.createElement(FNe,{dataKey:t.dataKey,nameKey:t.nameKey,sectors:c,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType,id:e}),k.createElement(Dc,{tabIndex:s,className:l},k.createElement(XNe,{props:Bc(Bc({},r),{},{sectors:c}),previousSectorsRef:u,id:e})))}function vte(t){var e=Fc(t,ZNe),{id:r}=e,n=u5(e,BNe),i=gu(n);return k.createElement(dM,{id:r,type:"pie"},s=>k.createElement(k.Fragment,null,k.createElement(gte,{type:"pie",id:s,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),k.createElement(MNe,S0({},n,{id:s})),k.createElement(JNe,S0({},n,{id:s}))))}vte.displayName="Pie";var e5e=["points"];function nV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nV(Object(r),!0).forEach(function(n){t5e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function t5e(t,e,r){return(e=r5e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function r5e(t){var e=n5e(t,"string");return typeof e=="symbol"?e:e+""}function n5e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aj(){return aj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},aj.apply(null,arguments)}function i5e(t,e){if(t==null)return{};var r,n,i=s5e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function s5e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function a5e(t){var{option:e,dotProps:r,className:n}=t;if(k.isValidElement(e))return k.cloneElement(e,r);if(typeof e=="function")return e(r);var i=Sa(n,typeof e!="boolean"?e.className:""),s=r??{},{points:a}=s,c=i5e(s,e5e);return k.createElement(J3,aj({},c,{className:i}))}function o5e(t,e){return t==null?!1:e?!0:t.length===1}function l5e(t){var{points:e,dot:r,className:n,dotClassName:i,dataKey:s,baseProps:a,needClip:c,clipPathId:u,zIndex:l=Oc.scatter}=t;if(!o5e(e,r))return null;var d=Xje(r),f=Pge(r),A=e.map((v,y)=>{var x,w,E=wL(wL(wL({r:3},a),f),{},{index:y,cx:(x=v.x)!==null&&x!==void 0?x:void 0,cy:(w=v.y)!==null&&w!==void 0?w:void 0,dataKey:s,value:v.value,payload:v.payload,points:e});return k.createElement(a5e,{key:"dot-".concat(y),option:r,dotProps:E,className:i})}),p={};return c&&u!=null&&(p.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(u,")")),k.createElement(rh,{zIndex:l},k.createElement(Dc,aj({className:n},p),A))}function iV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iV(Object(r),!0).forEach(function(n){c5e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function c5e(t,e,r){return(e=u5e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u5e(t){var e=d5e(t,"string");return typeof e=="symbol"?e:e+""}function d5e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yte=0,h5e={xAxis:{},yAxis:{},zAxis:{}},xte=Dh({name:"cartesianAxis",initialState:h5e,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:ql()},replaceXAxis:{reducer(t,e){var{prev:r,next:n}=e.payload;t.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete t.xAxis[r.id],t.xAxis[n.id]=n)},prepare:ql()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:ql()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:ql()},replaceYAxis:{reducer(t,e){var{prev:r,next:n}=e.payload;t.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete t.yAxis[r.id],t.yAxis[n.id]=n)},prepare:ql()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:ql()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:ql()},replaceZAxis:{reducer(t,e){var{prev:r,next:n}=e.payload;t.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete t.zAxis[r.id],t.zAxis[n.id]=n)},prepare:ql()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:ql()},updateYAxisWidth(t,e){var{id:r,width:n}=e.payload,i=t.yAxis[r];if(i){var s,a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&n===a[1]&&n!==i.width&&Math.abs(n-((s=a[0])!==null&&s!==void 0?s:0))<=1)return;var c=[...a,n].slice(-3);t.yAxis[r]=sV(sV({},i),{},{width:n,widthHistory:c})}}}}),{addXAxis:f5e,replaceXAxis:A5e,removeXAxis:m5e,addYAxis:p5e,replaceYAxis:g5e,removeYAxis:v5e,addZAxis:YYe,replaceZAxis:qYe,removeZAxis:XYe,updateYAxisWidth:y5e}=xte.actions,x5e=xte.reducer,b5e=or([Hu],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),w5e=or([b5e,Zp,Jp],(t,e,r)=>{if(!(!t||e==null||r==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,r-t.top-t.bottom)}}),bte=()=>si(w5e),E5e=()=>si(ESe);function aV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function EL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aV(Object(r),!0).forEach(function(n){_5e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _5e(t,e,r){return(e=S5e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function S5e(t){var e=T5e(t,"string");return typeof e=="symbol"?e:e+""}function T5e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var C5e=t=>{var{point:e,childIndex:r,mainColor:n,activeDot:i,dataKey:s,clipPath:a}=t;if(i===!1||e.x==null||e.y==null)return null;var c={index:r,dataKey:s,cx:e.x,cy:e.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},u=EL(EL(EL({},c),ey(i)),_D(i)),l;return k.isValidElement(i)?l=k.cloneElement(i,u):typeof i=="function"?l=i(u):l=k.createElement(J3,u),k.createElement(Dc,{className:"recharts-active-dot",clipPath:a},l)};function j5e(t){var{points:e,mainColor:r,activeDot:n,itemDataKey:i,clipPath:s,zIndex:a=Oc.activeDot}=t,c=si(_0),u=E5e();if(e==null||u==null)return null;var l=e.find(d=>u.includes(d.payload));return eu(l)?null:k.createElement(rh,{zIndex:a},k.createElement(C5e,{point:l,childIndex:Number(c),mainColor:r,dataKey:i,activeDot:n,clipPath:s}))}function oV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function oj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oV(Object(r),!0).forEach(function(n){N5e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function N5e(t,e,r){return(e=k5e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function k5e(t){var e=I5e(t,"string");return typeof e=="symbol"?e:e+""}function I5e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wte=(t,e)=>D_(t,"radiusAxis",e),L5e=or([wte],t=>{if(t!=null)return{scale:t}}),B5e=or([C_,wte],(t,e)=>{if(!(t==null||e==null))return oj(oj({},t),{},{scale:e})}),O5e=(t,e,r,n)=>M_(t,"radiusAxis",e,n),Ete=(t,e,r)=>Zb(t,r),_te=(t,e,r)=>D_(t,"angleAxis",r),P5e=or([Ete,_te],(t,e)=>{if(!(t==null||e==null))return oj(oj({},t),{},{scale:e})}),R5e=(t,e,r,n)=>M_(t,"angleAxis",r,n),D5e=or([Ete,_te,j_],(t,e,r)=>{if(!(r==null||e==null))return{scale:e,type:t.type,dataKey:t.dataKey,cx:r.cx,cy:r.cy}}),M5e=(t,e,r,n,i)=>i,F5e=or([Wa,B5e,O5e,P5e,R5e],(t,e,r,n,i)=>Xp(t,"radiusAxis")?bb(e,r,!1):bb(n,i,!1)),U5e=or([eM,M5e],(t,e)=>{if(t!=null){var r=t.find(n=>n.type==="radar"&&e===n.id);return r?.dataKey}}),$5e=or([L5e,D5e,__,U5e,F5e],(t,e,r,n,i)=>{var{chartData:s,dataStartIndex:a,dataEndIndex:c}=r;if(!(t==null||e==null||s==null||i==null||n==null)){var u=s.slice(a,c+1);return X5e({radiusAxis:t,angleAxis:e,displayedData:u,dataKey:n,bandSize:i})}}),H5e=["id"];function wE(){return wE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wE.apply(null,arguments)}function lV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Oh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lV(Object(r),!0).forEach(function(n){Q5e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Q5e(t,e,r){return(e=V5e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function V5e(t){var e=z5e(t,"string");return typeof e=="symbol"?e:e+""}function z5e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function K5e(t,e){if(t==null)return{};var r,n,i=G5e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function G5e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function hM(t,e){return t&&t!=="none"?t:e}var W5e=t=>{var{dataKey:e,name:r,stroke:n,fill:i,legendType:s,hide:a}=t;return[{inactive:a,dataKey:e,type:s,color:hM(n,i),value:Gb(r,e),payload:t}]},Y5e=k.memo(t=>{var{dataKey:e,stroke:r,strokeWidth:n,fill:i,name:s,hide:a,tooltipType:c,id:u}=t,l={dataDefinedOnItem:void 0,getPosition:L0,settings:{stroke:r,strokeWidth:n,fill:i,nameKey:void 0,dataKey:e,name:Gb(s,e),hide:a,type:c,color:hM(r,i),unit:"",graphicalItemId:u}};return k.createElement(uM,{tooltipEntrySettings:l})});function q5e(t){var{points:e,props:r}=t,{dot:n,dataKey:i}=r,{id:s}=r,a=K5e(r,H5e),c=gu(a);return k.createElement(l5e,{points:e,dot:n,className:"recharts-radar-dots",dotClassName:"recharts-radar-dot",dataKey:i,baseProps:c})}function X5e(t){var{radiusAxis:e,angleAxis:r,displayedData:n,dataKey:i,bandSize:s}=t,{cx:a,cy:c}=r,u=!1,l=[],d=r.type!=="number"?s??0:0;n.forEach((A,p)=>{var v,y,x=dl(A,r.dataKey,p),w=dl(A,i),E=((v=r.scale.map(x))!==null&&v!==void 0?v:0)+d,T=Array.isArray(w)?ete(w):w,C=eu(T)?0:(y=e.scale.map(T))!==null&&y!==void 0?y:0;Array.isArray(w)&&w.length>=2&&(u=!0),l.push(Oh(Oh({},rl(a,c,C,E)),{},{name:x,value:w,cx:a,cy:c,radius:C,angle:E,payload:A}))});var f=[];return u&&l.forEach(A=>{if(Array.isArray(A.value)){var p,v=A.value[0],y=eu(v)?0:(p=e.scale.map(v))!==null&&p!==void 0?p:0;f.push(Oh(Oh({},A),{},{radius:y},rl(a,c,y,A.angle)))}else f.push(A)}),{points:l,isRange:u,baseLinePoints:f}}function Z5e(t){var{showLabels:e,points:r,children:n}=t,i=r.map(s=>{var a,c={x:s.x,y:s.y,width:0,lowerWidth:0,upperWidth:0,height:0};return Oh(Oh({},c),{},{value:(a=s.value)!==null&&a!==void 0?a:"",payload:s.payload,parentViewBox:void 0,viewBox:c,fill:void 0})});return k.createElement(rte,{value:e?i:void 0},n)}function J5e(t){var{points:e,baseLinePoints:r,props:n}=t;if(e==null)return null;var{shape:i,isRange:s,connectNulls:a}=n,c=d=>{var{onMouseEnter:f}=n;f&&f(n,d)},u=d=>{var{onMouseLeave:f}=n;f&&f(n,d)},l;return k.isValidElement(i)?l=k.cloneElement(i,Oh(Oh({},n),{},{points:e})):typeof i=="function"?l=i(Oh(Oh({},n),{},{points:e})):l=k.createElement(ite,wE({},Uu(n),{onMouseEnter:c,onMouseLeave:u,points:e,baseLinePoints:s?r:void 0,connectNulls:a})),k.createElement(Dc,{className:"recharts-radar-polygon"},l,k.createElement(q5e,{props:n,points:e}))}var cV=(t,e,r)=>(n,i)=>{var s=t&&t[Math.floor(i*e)];return s?Oh(Oh({},n),{},{x:uc(s.x,n.x,r),y:uc(s.y,n.y,r)}):Oh(Oh({},n),{},{x:uc(n.cx,n.x,r),y:uc(n.cy,n.y,r)})};function eke(t){var{props:e,previousPointsRef:r,previousBaseLinePointsRef:n}=t,{points:i,baseLinePoints:s,isAnimationActive:a,animationBegin:c,animationDuration:u,animationEasing:l,onAnimationEnd:d,onAnimationStart:f}=e,A=r.current,p=n.current,v=A?A.length/i.length:1,y=p?p.length/s.length:1,x=y_(e,"recharts-radar-"),[w,E]=k.useState(!1),T=!w,C=k.useCallback(()=>{typeof d=="function"&&d(),E(!1)},[d]),j=k.useCallback(()=>{typeof f=="function"&&f(),E(!0)},[f]);return k.createElement(Z5e,{showLabels:T,points:i},k.createElement(v_,{animationId:x,begin:c,duration:u,isActive:a,easing:l,key:"radar-".concat(x),onAnimationEnd:C,onAnimationStart:j},P=>{var U=P===1?i:i.map(cV(A,v,P)),W=P===1?s:s?.map(cV(p,y,P));return P>0&&(r.current=U,n.current=W),k.createElement(J5e,{points:U,baseLinePoints:W,props:e})}),k.createElement(Z3,{label:e.label}),e.children)}function tke(t){var e=k.useRef(void 0),r=k.useRef(void 0);return k.createElement(eke,{props:t,previousPointsRef:e,previousBaseLinePointsRef:r})}var rke={activeDot:!0,angleAxisId:0,animationBegin:0,animationDuration:1500,animationEasing:"ease",dot:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",radiusAxisId:0,zIndex:Oc.area};function nke(t){var{hide:e,className:r,points:n}=t;if(e)return null;var i=Sa("recharts-radar",r);return k.createElement(rh,{zIndex:t.zIndex},k.createElement(Dc,{className:i},k.createElement(tke,t)),k.createElement(j5e,{points:n,mainColor:hM(t.stroke,t.fill),itemDataKey:t.dataKey,activeDot:t.activeDot}))}function ike(t){var e=th(),r=si(n=>$5e(n,t.radiusAxisId,t.angleAxisId,e,t.id));return r?.points==null?null:k.createElement(nke,wE({},t,{points:r?.points,baseLinePoints:r?.baseLinePoints,isRange:r?.isRange}))}function Ste(t){var e=Fc(t,rke);return k.createElement(dM,{id:e.id,type:"radar"},r=>k.createElement(k.Fragment,null,k.createElement(gte,{type:"radar",id:r,data:void 0,dataKey:e.dataKey,hide:e.hide,angleAxisId:e.angleAxisId,radiusAxisId:e.radiusAxisId}),k.createElement(mte,{legendPayload:W5e(e)}),k.createElement(Y5e,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:r}),k.createElement(ike,wE({},e,{id:r}))))}Ste.displayName="Radar";var uV=(t,e,r)=>{var n=r??t;if(!eu(n))return eh(n,e,0)},ske=(t,e,r)=>{var n={},i=t.filter(ZN),s=t.filter(l=>l.stackId==null),a=i.reduce((l,d)=>{var f=l[d.stackId];return f==null&&(f=[]),f.push(d),l[d.stackId]=f,l},n),c=Object.entries(a).map(l=>{var d,[f,A]=l,p=A.map(y=>y.dataKey),v=uV(e,r,(d=A[0])===null||d===void 0?void 0:d.barSize);return{stackId:f,dataKeys:p,barSize:v}}),u=s.map(l=>{var d=[l.dataKey].filter(A=>A!=null),f=uV(e,r,l.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...c,...u]};function dV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function P2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dV(Object(r),!0).forEach(function(n){ake(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ake(t,e,r){return(e=oke(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oke(t){var e=lke(t,"string");return typeof e=="symbol"?e:e+""}function lke(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cke(t,e,r,n,i){var s,a=n.length;if(!(a<1)){var c=eh(t,r,0,!0),u,l=[];if(Ha((s=n[0])===null||s===void 0?void 0:s.barSize)){var d=!1,f=r/a,A=n.reduce((E,T)=>E+(T.barSize||0),0);A+=(a-1)*c,A>=r&&(A-=(a-1)*c,c=0),A>=r&&f>0&&(d=!0,f*=.9,A=a*f);var p=(r-A)/2>>0,v={offset:p-c,size:0};u=n.reduce((E,T)=>{var C,j={stackId:T.stackId,dataKeys:T.dataKeys,position:{offset:v.offset+v.size+c,size:d?f:(C=T.barSize)!==null&&C!==void 0?C:0}},P=[...E,j];return v=j.position,P},l)}else{var y=eh(e,r,0,!0);r-2*y-(a-1)*c<=0&&(c=0);var x=(r-2*y-(a-1)*c)/a;x>1&&(x>>=0);var w=Ha(i)?Math.min(x,i):x;u=n.reduce((E,T,C)=>[...E,{stackId:T.stackId,dataKeys:T.dataKeys,position:{offset:y+(x+c)*C+(x-w)/2,size:w}}],l)}return u}}var uke=(t,e,r,n,i,s,a)=>{var c=eu(a)?e:a,u=cke(r,n,i!==s?i:s,t,c);return i!==s&&u!=null&&(u=u.map(l=>P2(P2({},l),{},{position:P2(P2({},l.position),{},{offset:l.position.offset-i/2})}))),u},dke=(t,e)=>{var r=v3(e);if(!(!t||r==null||e==null)){var{stackId:n}=e;if(n!=null){var i=t[n];if(i){var{stackedData:s}=i;if(s)return s.find(a=>a.key===r)}}}},hke=(t,e)=>{if(!(t==null||e==null)){var r=t.find(n=>n.stackId===e.stackId&&e.dataKey!=null&&n.dataKeys.includes(e.dataKey));if(r!=null)return r.position}};function fke(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&Ha(t.zIndex)?t.zIndex:e}var Tte=t=>{var{chartData:e}=t,r=Al(),n=th();return k.useEffect(()=>n?()=>{}:(r(oQ(e)),()=>{r(oQ(void 0))}),[e,r,n]),null},hV={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Cte=Dh({name:"brush",initialState:hV,reducers:{setBrushSettings(t,e){return e.payload==null?hV:e.payload}}}),{setBrushSettings:ZYe}=Cte.actions,Ake=Cte.reducer;function mke(t){return(t%180+180)%180}var pke=function(e){var{width:r,height:n}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=mke(i),a=s*Math.PI/180,c=Math.atan(n/r),u=a>c&&a<Math.PI-c?n/Math.sin(a):r/Math.cos(a);return Math.abs(u)},gke={dots:[],areas:[],lines:[]},jte=Dh({name:"referenceElements",initialState:gke,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var r=NA(t).dots.findIndex(n=>n===e.payload);r!==-1&&t.dots.splice(r,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var r=NA(t).areas.findIndex(n=>n===e.payload);r!==-1&&t.areas.splice(r,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var r=NA(t).lines.findIndex(n=>n===e.payload);r!==-1&&t.lines.splice(r,1)}}}),{addDot:JYe,removeDot:eqe,addArea:tqe,removeArea:rqe,addLine:nqe,removeLine:iqe}=jte.actions,vke=jte.reducer,yke=k.createContext(void 0),xke=t=>{var{children:e}=t,[r]=k.useState("".concat(lE("recharts"),"-clip")),n=bte();if(n==null)return null;var{x:i,y:s,width:a,height:c}=n;return k.createElement(yke.Provider,{value:r},k.createElement("defs",null,k.createElement("clipPath",{id:r},k.createElement("rect",{x:i,y:s,height:c,width:a}))),e)};function Nte(t,e){if(e<1)return[];if(e===1)return t;for(var r=[],n=0;n<t.length;n+=e){var i=t[n];i!==void 0&&r.push(i)}return r}function bke(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return pke(n,r)}function wke(t,e,r){var n=r==="width",{x:i,y:s,width:a,height:c}=t;return e===1?{start:n?i:s,end:n?i+a:s+c}:{start:n?i+a:s+c,end:n?i:s}}function EE(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var s=r();return t*(e-t*s/2-n)>=0&&t*(e+t*s/2-i)<=0}function Eke(t,e){return Nte(t,e+1)}function _ke(t,e,r,n,i){for(var s=(n||[]).slice(),{start:a,end:c}=e,u=0,l=1,d=a,f=function(){var v=n?.[u];if(v===void 0)return{v:Nte(n,l)};var y=u,x,w=()=>(x===void 0&&(x=r(v,y)),x),E=v.coordinate,T=u===0||EE(t,E,w,d,c);T||(u=0,d=a,l+=1),T&&(d=E+t*(w()/2+i),u+=l)},A;l<=s.length;)if(A=f(),A)return A.v;return[]}function Ske(t,e,r,n,i){var s=(n||[]).slice(),a=s.length;if(a===0)return[];for(var{start:c,end:u}=e,l=1;l<=a;l++){for(var d=(a-1)%l,f=c,A=!0,p=function(){var C=n[y];if(C==null)return 0;var j=y,P,U=()=>(P===void 0&&(P=r(C,j)),P),W=C.coordinate,q=y===d||EE(t,W,U,f,u);if(!q)return A=!1,1;q&&(f=W+t*(U()/2+i))},v,y=d;y<a&&(v=p(),!(v!==0&&v===1));y+=l);if(A){for(var x=[],w=d;w<a;w+=l){var E=n[w];E!=null&&x.push(E)}return x}}return[]}function fV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fV(Object(r),!0).forEach(function(n){Tke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Tke(t,e,r){return(e=Cke(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cke(t){var e=jke(t,"string");return typeof e=="symbol"?e:e+""}function jke(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nke(t,e,r,n,i){for(var s=(n||[]).slice(),a=s.length,{start:c}=e,{end:u}=e,l=function(A){var p=s[A];if(p==null)return 1;var v=p,y,x=()=>(y===void 0&&(y=r(p,A)),y);if(A===a-1){var w=t*(v.coordinate+t*x()/2-u);s[A]=v=Xd(Xd({},v),{},{tickCoord:w>0?v.coordinate-w*t:v.coordinate})}else s[A]=v=Xd(Xd({},v),{},{tickCoord:v.coordinate});if(v.tickCoord!=null){var E=EE(t,v.tickCoord,x,c,u);E&&(u=v.tickCoord-t*(x()/2+i),s[A]=Xd(Xd({},v),{},{isShow:!0}))}},d=a-1;d>=0;d--)l(d);return s}function kke(t,e,r,n,i,s){var a=(n||[]).slice(),c=a.length,{start:u,end:l}=e;if(s){var d=n[c-1];if(d!=null){var f=r(d,c-1),A=t*(d.coordinate+t*f/2-l);if(a[c-1]=d=Xd(Xd({},d),{},{tickCoord:A>0?d.coordinate-A*t:d.coordinate}),d.tickCoord!=null){var p=EE(t,d.tickCoord,()=>f,u,l);p&&(l=d.tickCoord-t*(f/2+i),a[c-1]=Xd(Xd({},d),{},{isShow:!0}))}}}for(var v=s?c-1:c,y=function(E){var T=a[E];if(T==null)return 1;var C=T,j,P=()=>(j===void 0&&(j=r(T,E)),j);if(E===0){var U=t*(C.coordinate-t*P()/2-u);a[E]=C=Xd(Xd({},C),{},{tickCoord:U<0?C.coordinate-U*t:C.coordinate})}else a[E]=C=Xd(Xd({},C),{},{tickCoord:C.coordinate});if(C.tickCoord!=null){var W=EE(t,C.tickCoord,P,u,l);W&&(u=C.tickCoord+t*(P()/2+i),a[E]=Xd(Xd({},C),{},{isShow:!0}))}},x=0;x<v;x++)y(x);return a}function fM(t,e,r){var{tick:n,ticks:i,viewBox:s,minTickGap:a,orientation:c,interval:u,tickFormatter:l,unit:d,angle:f}=t;if(!i||!i.length||!n)return[];if(Ei(u)||QN.isSsr){var A;return(A=Eke(i,Ei(u)?u:0))!==null&&A!==void 0?A:[]}var p=[],v=c==="top"||c==="bottom"?"width":"height",y=d&&v==="width"?Rw(d,{fontSize:e,letterSpacing:r}):{width:0,height:0},x=(j,P)=>{var U=typeof l=="function"?l(j.value,P):j.value;return v==="width"?bke(Rw(U,{fontSize:e,letterSpacing:r}),y,f):Rw(U,{fontSize:e,letterSpacing:r})[v]},w=i[0],E=i[1],T=i.length>=2&&w!=null&&E!=null?dd(E.coordinate-w.coordinate):1,C=wke(s,T,v);return u==="equidistantPreserveStart"?_ke(T,C,x,i,a):u==="equidistantPreserveEnd"?Ske(T,C,x,i,a):(u==="preserveStart"||u==="preserveStartEnd"?p=kke(T,C,x,i,a,u==="preserveStartEnd"):p=Nke(T,C,x,i,a),p.filter(j=>j.isShow))}var Ike=t=>{var{ticks:e,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:s=0}=t,a=0;if(e){Array.from(e).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>a&&(a=f.width)}});var c=r?r.getBoundingClientRect().width:0,u=i+s,l=a+u+c+(r?n:0);return Math.round(l)}return 0},Lke=["axisLine","width","height","className","hide","ticks","axisType"];function Bke(t,e){if(t==null)return{};var r,n,i=Oke(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Oke(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function cy(){return cy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cy.apply(null,arguments)}function AV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AV(Object(r),!0).forEach(function(n){Pke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Pke(t,e,r){return(e=Rke(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rke(t){var e=Dke(t,"string");return typeof e=="symbol"?e:e+""}function Dke(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pp={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Oc.axis};function Mke(t){var{x:e,y:r,width:n,height:i,orientation:s,mirror:a,axisLine:c,otherSvgProps:u}=t;if(!c)return null;var l=jc(jc(jc({},u),gu(c)),{},{fill:"none"});if(s==="top"||s==="bottom"){var d=+(s==="top"&&!a||s==="bottom"&&a);l=jc(jc({},l),{},{x1:e,y1:r+d*i,x2:e+n,y2:r+d*i})}else{var f=+(s==="left"&&!a||s==="right"&&a);l=jc(jc({},l),{},{x1:e+f*n,y1:r,x2:e+f*n,y2:r+i})}return k.createElement("line",cy({},l,{className:Sa("recharts-cartesian-axis-line",ry(c,"className"))}))}function Fke(t,e,r,n,i,s,a,c,u){var l,d,f,A,p,v,y=c?-1:1,x=t.tickSize||a,w=Ei(t.tickCoord)?t.tickCoord:t.coordinate;switch(s){case"top":l=d=t.coordinate,A=r+ +!c*i,f=A-y*x,v=f-y*u,p=w;break;case"left":f=A=t.coordinate,d=e+ +!c*n,l=d-y*x,p=l-y*u,v=w;break;case"right":f=A=t.coordinate,d=e+ +c*n,l=d+y*x,p=l+y*u,v=w;break;default:l=d=t.coordinate,A=r+ +c*i,f=A+y*x,v=f+y*u,p=w;break}return{line:{x1:l,y1:f,x2:d,y2:A},tick:{x:p,y:v}}}function Uke(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function $ke(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function Hke(t){var{option:e,tickProps:r,value:n}=t,i,s=Sa(r.className,"recharts-cartesian-axis-tick-value");if(k.isValidElement(e))i=k.cloneElement(e,jc(jc({},r),{},{className:s}));else if(typeof e=="function")i=e(jc(jc({},r),{},{className:s}));else{var a="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(a=Sa(a,nM(e))),i=k.createElement(R_,cy({},r,{className:a}),n)}return i}var Qke=k.forwardRef((t,e)=>{var{ticks:r=[],tick:n,tickLine:i,stroke:s,tickFormatter:a,unit:c,padding:u,tickTextProps:l,orientation:d,mirror:f,x:A,y:p,width:v,height:y,tickSize:x,tickMargin:w,fontSize:E,letterSpacing:T,getTicksConfig:C,events:j,axisType:P}=t,U=fM(jc(jc({},C),{},{ticks:r}),E,T),W=Uke(d,f),q=$ke(d,f),re=gu(C),ie=ey(n),Ae={};typeof i=="object"&&(Ae=i);var be=jc(jc({},re),{},{fill:"none"},Ae),Ee=U.map(xe=>jc({entry:xe},Fke(xe,A,p,v,y,d,x,f,w))),ge=Ee.map(xe=>{var{entry:ce,line:Me}=xe;return k.createElement(Dc,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(ce.value,"-").concat(ce.coordinate,"-").concat(ce.tickCoord)},i&&k.createElement("line",cy({},be,Me,{className:Sa("recharts-cartesian-axis-tick-line",ry(i,"className"))})))}),se=Ee.map((xe,ce)=>{var Me,Oe,{entry:we,tick:ue}=xe,ye=jc(jc(jc(jc({verticalAnchor:q},re),{},{textAnchor:W,stroke:"none",fill:s},ue),{},{index:ce,payload:we,visibleTicksCount:U.length,tickFormatter:a,padding:u},l),{},{angle:(Me=(Oe=l?.angle)!==null&&Oe!==void 0?Oe:re.angle)!==null&&Me!==void 0?Me:0}),Le=jc(jc({},ye),ie);return k.createElement(Dc,cy({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(we.value,"-").concat(we.coordinate,"-").concat(we.tickCoord)},Kb(j,we,ce)),n&&k.createElement(Hke,{option:n,tickProps:Le,value:"".concat(typeof a=="function"?a(we.value,ce):we.value).concat(c||"")}))});return k.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(P,"-ticks")},se.length>0&&k.createElement(rh,{zIndex:Oc.label},k.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(P,"-tick-labels"),ref:e},se)),ge.length>0&&k.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(P,"-tick-lines")},ge))}),Vke=k.forwardRef((t,e)=>{var{axisLine:r,width:n,height:i,className:s,hide:a,ticks:c,axisType:u}=t,l=Bke(t,Lke),[d,f]=k.useState(""),[A,p]=k.useState(""),v=k.useRef(null);k.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var x;return Ike({ticks:v.current,label:(x=t.labelRef)===null||x===void 0?void 0:x.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var y=k.useCallback(x=>{if(x){var w=x.getElementsByClassName("recharts-cartesian-axis-tick-value");v.current=w;var E=w[0];if(E){var T=window.getComputedStyle(E),C=T.fontSize,j=T.letterSpacing;(C!==d||j!==A)&&(f(C),p(j))}}},[d,A]);return a||n!=null&&n<=0||i!=null&&i<=0?null:k.createElement(rh,{zIndex:t.zIndex},k.createElement(Dc,{className:Sa("recharts-cartesian-axis",s)},k.createElement(Mke,{x:t.x,y:t.y,width:n,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:r,otherSvgProps:gu(t)}),k.createElement(Qke,{ref:y,axisType:u,events:l,fontSize:d,getTicksConfig:t,height:t.height,letterSpacing:A,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:c,unit:t.unit,width:t.width,x:t.x,y:t.y}),k.createElement(SCe,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},k.createElement(PCe,{label:t.label,labelRef:t.labelRef}),t.children)))}),AM=k.forwardRef((t,e)=>{var r=Fc(t,Pp);return k.createElement(Vke,cy({},r,{ref:e}))});AM.displayName="CartesianAxis";var zke=["x1","y1","x2","y2","key"],Kke=["offset"],Gke=["xAxisId","yAxisId"],Wke=["xAxisId","yAxisId"];function mV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Jd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mV(Object(r),!0).forEach(function(n){Yke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Yke(t,e,r){return(e=qke(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qke(t){var e=Xke(t,"string");return typeof e=="symbol"?e:e+""}function Xke(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nv(){return Nv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Nv.apply(null,arguments)}function lj(t,e){if(t==null)return{};var r,n,i=Zke(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Zke(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Jke=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:r,x:n,y:i,width:s,height:a,ry:c}=t;return k.createElement("rect",{x:n,y:i,ry:c,width:s,height:a,stroke:"none",fill:e,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function kte(t){var{option:e,lineItemProps:r}=t,n;if(k.isValidElement(e))n=k.cloneElement(e,r);else if(typeof e=="function")n=e(r);else{var i,{x1:s,y1:a,x2:c,y2:u,key:l}=r,d=lj(r,zke),f=(i=gu(d))!==null&&i!==void 0?i:{},{offset:A}=f,p=lj(f,Kke);n=k.createElement("line",Nv({},p,{x1:s,y1:a,x2:c,y2:u,fill:"none",key:l}))}return n}function eIe(t){var{x:e,width:r,horizontal:n=!0,horizontalPoints:i}=t;if(!n||!i||!i.length)return null;var{xAxisId:s,yAxisId:a}=t,c=lj(t,Gke),u=i.map((l,d)=>{var f=Jd(Jd({},c),{},{x1:e,y1:l,x2:e+r,y2:l,key:"line-".concat(d),index:d});return k.createElement(kte,{key:"line-".concat(d),option:n,lineItemProps:f})});return k.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function tIe(t){var{y:e,height:r,vertical:n=!0,verticalPoints:i}=t;if(!n||!i||!i.length)return null;var{xAxisId:s,yAxisId:a}=t,c=lj(t,Wke),u=i.map((l,d)=>{var f=Jd(Jd({},c),{},{x1:l,y1:e,x2:l,y2:e+r,key:"line-".concat(d),index:d});return k.createElement(kte,{option:n,lineItemProps:f,key:"line-".concat(d)})});return k.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function rIe(t){var{horizontalFill:e,fillOpacity:r,x:n,y:i,width:s,height:a,horizontalPoints:c,horizontal:u=!0}=t;if(!u||!e||!e.length||c==null)return null;var l=c.map(f=>Math.round(f+i-i)).sort((f,A)=>f-A);i!==l[0]&&l.unshift(0);var d=l.map((f,A)=>{var p=l[A+1],v=p==null,y=v?i+a-f:p-f;if(y<=0)return null;var x=A%e.length;return k.createElement("rect",{key:"react-".concat(A),y:f,x:n,height:y,width:s,stroke:"none",fill:e[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return k.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function nIe(t){var{vertical:e=!0,verticalFill:r,fillOpacity:n,x:i,y:s,width:a,height:c,verticalPoints:u}=t;if(!e||!r||!r.length)return null;var l=u.map(f=>Math.round(f+i-i)).sort((f,A)=>f-A);i!==l[0]&&l.unshift(0);var d=l.map((f,A)=>{var p=l[A+1],v=p==null,y=v?i+a-f:p-f;if(y<=0)return null;var x=A%r.length;return k.createElement("rect",{key:"react-".concat(A),x:f,y:s,width:y,height:c,stroke:"none",fill:r[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return k.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var iIe=(t,e)=>{var{xAxis:r,width:n,height:i,offset:s}=t;return dZ(fM(Jd(Jd(Jd({},Pp),r),{},{ticks:hZ(r),viewBox:{x:0,y:0,width:n,height:i}})),s.left,s.left+s.width,e)},sIe=(t,e)=>{var{yAxis:r,width:n,height:i,offset:s}=t;return dZ(fM(Jd(Jd(Jd({},Pp),r),{},{ticks:hZ(r),viewBox:{x:0,y:0,width:n,height:i}})),s.top,s.top+s.height,e)},aIe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Oc.grid};function Ite(t){var e=DD(),r=MD(),n=yZ(),i=Jd(Jd({},Fc(t,aIe)),{},{x:Ei(t.x)?t.x:n.left,y:Ei(t.y)?t.y:n.top,width:Ei(t.width)?t.width:n.width,height:Ei(t.height)?t.height:n.height}),{xAxisId:s,yAxisId:a,x:c,y:u,width:l,height:d,syncWithTicks:f,horizontalValues:A,verticalValues:p}=i,v=th(),y=si(q=>YH(q,"xAxis",s,v)),x=si(q=>YH(q,"yAxis",a,v));if(!Fm(l)||!Fm(d)||!Ei(c)||!Ei(u))return null;var w=i.verticalCoordinatesGenerator||iIe,E=i.horizontalCoordinatesGenerator||sIe,{horizontalPoints:T,verticalPoints:C}=i;if((!T||!T.length)&&typeof E=="function"){var j=A&&A.length,P=E({yAxis:x?Jd(Jd({},x),{},{ticks:j?A:x.ticks}):void 0,width:e??l,height:r??d,offset:n},j?!0:f);IC(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(T=P)}if((!C||!C.length)&&typeof w=="function"){var U=p&&p.length,W=w({xAxis:y?Jd(Jd({},y),{},{ticks:U?p:y.ticks}):void 0,width:e??l,height:r??d,offset:n},U?!0:f);IC(Array.isArray(W),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof W,"]")),Array.isArray(W)&&(C=W)}return k.createElement(rh,{zIndex:i.zIndex},k.createElement("g",{className:"recharts-cartesian-grid"},k.createElement(Jke,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),k.createElement(rIe,Nv({},i,{horizontalPoints:T})),k.createElement(nIe,Nv({},i,{verticalPoints:C})),k.createElement(eIe,Nv({},i,{offset:n,horizontalPoints:T,xAxis:y,yAxis:x})),k.createElement(tIe,Nv({},i,{offset:n,verticalPoints:C,xAxis:y,yAxis:x}))))}Ite.displayName="CartesianGrid";var oIe={},Lte=Dh({name:"errorBars",initialState:oIe,reducers:{addErrorBar:(t,e)=>{var{itemId:r,errorBar:n}=e.payload;t[r]||(t[r]=[]),t[r].push(n)},replaceErrorBar:(t,e)=>{var{itemId:r,prev:n,next:i}=e.payload;t[r]&&(t[r]=t[r].map(s=>s.dataKey===n.dataKey&&s.direction===n.direction?i:s))},removeErrorBar:(t,e)=>{var{itemId:r,errorBar:n}=e.payload;t[r]&&(t[r]=t[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:sqe,replaceErrorBar:aqe,removeErrorBar:oqe}=Lte.actions,lIe=Lte.reducer,cIe=["children"];function uIe(t,e){if(t==null)return{};var r,n,i=dIe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function dIe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var hIe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},fIe=k.createContext(hIe);function AIe(t){var{children:e}=t,r=uIe(t,cIe);return k.createElement(fIe.Provider,{value:r},e)}function Bte(t,e){var r,n,i=si(l=>rg(l,t)),s=si(l=>ng(l,e)),a=(r=i?.allowDataOverflow)!==null&&r!==void 0?r:sd.allowDataOverflow,c=(n=s?.allowDataOverflow)!==null&&n!==void 0?n:ad.allowDataOverflow,u=a||c;return{needClip:u,needClipX:a,needClipY:c}}function mIe(t){var{xAxisId:e,yAxisId:r,clipPathId:n}=t,i=bte(),{needClipX:s,needClipY:a,needClip:c}=Bte(e,r);if(!c||!i)return null;var{x:u,y:l,width:d,height:f}=i;return k.createElement("clipPath",{id:"clipPath-".concat(n)},k.createElement("rect",{x:s?u:u-d/2,y:a?l:l-f/2,width:s?d:d*2,height:a?f:f*2}))}var _L={exports:{}},SL={};var pV;function pIe(){if(pV)return SL;pV=1;var t=Fb();function e(u,l){return u===l&&(u!==0||1/u===1/l)||u!==u&&l!==l}var r=typeof Object.is=="function"?Object.is:e,n=t.useSyncExternalStore,i=t.useRef,s=t.useEffect,a=t.useMemo,c=t.useDebugValue;return SL.useSyncExternalStoreWithSelector=function(u,l,d,f,A){var p=i(null);if(p.current===null){var v={hasValue:!1,value:null};p.current=v}else v=p.current;p=a(function(){function x(j){if(!w){if(w=!0,E=j,j=f(j),A!==void 0&&v.hasValue){var P=v.value;if(A(P,j))return T=P}return T=j}if(P=T,r(E,j))return P;var U=f(j);return A!==void 0&&A(P,U)?(E=j,P):(E=j,T=U)}var w=!1,E,T,C=d===void 0?null:d;return[function(){return x(l())},C===null?void 0:function(){return x(C())}]},[l,d,f,A]);var y=n(u,p[0],p[1]);return s(function(){v.hasValue=!0,v.value=y},[y]),c(y),y},SL}var gV;function gIe(){return gV||(gV=1,_L.exports=pIe()),_L.exports}gIe();function vIe(t){t()}function yIe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){vIe(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=t;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=e={callback:r,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!n||t===null||(n=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var vV={notify(){},get:()=>[]};function xIe(t,e){let r,n=vV,i=0,s=!1;function a(y){d();const x=n.subscribe(y);let w=!1;return()=>{w||(w=!0,x(),f())}}function c(){n.notify()}function u(){v.onStateChange&&v.onStateChange()}function l(){return s}function d(){i++,r||(r=t.subscribe(u),n=yIe())}function f(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=vV)}function A(){s||(s=!0,d())}function p(){s&&(s=!1,f())}const v={addNestedSub:a,notifyNestedSubs:c,handleChangeWrapper:u,isSubscribed:l,trySubscribe:A,tryUnsubscribe:p,getListeners:()=>n};return v}var bIe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",wIe=bIe(),EIe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",_Ie=EIe(),SIe=()=>wIe||_Ie?k.useLayoutEffect:k.useEffect,TIe=SIe();function yV(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function CIe(t,e){if(yV(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(e,r[i])||!yV(t[r[i]],e[r[i]]))return!1;return!0}var jIe=Symbol.for("react-redux-context"),NIe=typeof globalThis<"u"?globalThis:{};function kIe(){if(!k.createContext)return{};const t=NIe[jIe]??=new Map;let e=t.get(k.createContext);return e||(e=k.createContext(null),t.set(k.createContext,e)),e}var IIe=kIe();function LIe(t){const{children:e,context:r,serverState:n,store:i}=t,s=k.useMemo(()=>{const u=xIe(i);return{store:i,subscription:u,getServerState:n?()=>n:void 0}},[i,n]),a=k.useMemo(()=>i.getState(),[i]);TIe(()=>{const{subscription:u}=s;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),a!==i.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[s,a]);const c=r||IIe;return k.createElement(c.Provider,{value:s},e)}var BIe=LIe,OIe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function PIe(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function mM(t,e){var r=new Set([...Object.keys(t),...Object.keys(e)]);for(var n of r)if(OIe.has(n)){if(t[n]==null&&e[n]==null)continue;if(!CIe(t[n],e[n]))return!1}else if(!PIe(t[n],e[n]))return!1;return!0}function gy(t,e){var r,n;return(r=(n=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:yte}function vy(t,e){var r,n;return(r=(n=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:yte}var RIe="Invariant failed";function DIe(t,e){throw new Error(RIe)}function cO(){return cO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cO.apply(null,arguments)}function cj(t){return k.createElement(Ate,cO({shapeType:"rectangle",activeClassName:"recharts-active-bar"},t))}var MIe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(Ei(e))return e;var s=Ei(n)||eu(n);return s?e(n,i):(s||DIe(),r)}},FIe=(t,e,r)=>r,UIe=(t,e)=>e,F_=or([b3,UIe],(t,e)=>t.filter(r=>r.type==="bar").find(r=>r.id===e)),$Ie=or([F_],t=>t?.maxBarSize),HIe=(t,e,r,n)=>n,QIe=or([Wa,b3,gy,vy,FIe],(t,e,r,n,i)=>e.filter(s=>t==="horizontal"?s.xAxisId===r:s.yAxisId===n).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),VIe=(t,e,r)=>{var n=Wa(t),i=gy(t,e),s=vy(t,e);if(!(i==null||s==null))return n==="horizontal"?rO(t,"yAxis",s,r):rO(t,"xAxis",i,r)},zIe=(t,e)=>{var r=Wa(t),n=gy(t,e),i=vy(t,e);if(!(n==null||i==null))return r==="horizontal"?WH(t,"xAxis",n):WH(t,"yAxis",i)},KIe=or([QIe,v_e,zIe],ske),GIe=(t,e,r)=>{var n,i,s=F_(t,e);if(s==null)return 0;var a=gy(t,e),c=vy(t,e);if(a==null||c==null)return 0;var u=Wa(t),l=OJ(t),{maxBarSize:d}=s,f=eu(d)?l:d,A,p;return u==="horizontal"?(A=jb(t,"xAxis",a,r),p=Cb(t,"xAxis",a,r)):(A=jb(t,"yAxis",c,r),p=Cb(t,"yAxis",c,r)),(n=(i=bb(A,p,!0))!==null&&i!==void 0?i:f)!==null&&n!==void 0?n:0},Ote=(t,e,r)=>{var n=Wa(t),i=gy(t,e),s=vy(t,e);if(!(i==null||s==null)){var a,c;return n==="horizontal"?(a=jb(t,"xAxis",i,r),c=Cb(t,"xAxis",i,r)):(a=jb(t,"yAxis",s,r),c=Cb(t,"yAxis",s,r)),bb(a,c)}},WIe=or([KIe,OJ,g_e,PJ,GIe,Ote,$Ie],uke),YIe=(t,e,r)=>{var n=gy(t,e);if(n!=null)return jb(t,"xAxis",n,r)},qIe=(t,e,r)=>{var n=vy(t,e);if(n!=null)return jb(t,"yAxis",n,r)},XIe=(t,e,r)=>{var n=gy(t,e);if(n!=null)return Cb(t,"xAxis",n,r)},ZIe=(t,e,r)=>{var n=vy(t,e);if(n!=null)return Cb(t,"yAxis",n,r)},JIe=or([WIe,F_],hke),eLe=or([VIe,F_],dke),tLe=or([Hu,OD,YIe,qIe,XIe,ZIe,JIe,Wa,c_e,Ote,eLe,F_,HIe],(t,e,r,n,i,s,a,c,u,l,d,f,A)=>{var{chartData:p,dataStartIndex:v,dataEndIndex:y}=u;if(!(f==null||a==null||e==null||c!=="horizontal"&&c!=="vertical"||r==null||n==null||i==null||s==null||l==null)){var{data:x}=f,w;if(x!=null&&x.length>0?w=x:w=p?.slice(v,y+1),w!=null)return NLe({layout:c,barSettings:f,pos:a,parentViewBox:e,bandSize:l,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:s,stackedData:d,displayedData:w,offset:t,cells:A,dataStartIndex:v})}}),rLe=["index"];function uO(){return uO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uO.apply(null,arguments)}function nLe(t,e){if(t==null)return{};var r,n,i=iLe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function iLe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Pte=k.createContext(void 0),sLe=t=>{var e=k.useContext(Pte);if(e!=null)return e.stackId;if(t!=null)return rxe(t)},aLe=(t,e)=>"recharts-bar-stack-clip-path-".concat(t,"-").concat(e),oLe=t=>{var e=k.useContext(Pte);if(e!=null){var{stackId:r}=e;return"url(#".concat(aLe(r,t),")")}},Rte=t=>{var{index:e}=t,r=nLe(t,rLe),n=oLe(e);return k.createElement(Dc,uO({className:"recharts-bar-stack-layer",clipPath:n},r))},lLe=["onMouseEnter","onMouseLeave","onClick"],cLe=["value","background","tooltipPosition"],uLe=["id"],dLe=["onMouseEnter","onClick","onMouseLeave"];function Gp(){return Gp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Gp.apply(null,arguments)}function xV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xV(Object(r),!0).forEach(function(n){hLe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hLe(t,e,r){return(e=fLe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fLe(t){var e=ALe(t,"string");return typeof e=="symbol"?e:e+""}function ALe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uj(t,e){if(t==null)return{};var r,n,i=mLe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function mLe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var pLe=t=>{var{dataKey:e,name:r,fill:n,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:n,value:Gb(r,e),payload:t}]},gLe=k.memo(t=>{var{dataKey:e,stroke:r,strokeWidth:n,fill:i,name:s,hide:a,unit:c,tooltipType:u,id:l}=t,d={dataDefinedOnItem:void 0,getPosition:L0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:e,nameKey:void 0,name:Gb(s,e),hide:a,type:u,color:i,unit:c,graphicalItemId:l}};return k.createElement(uM,{tooltipEntrySettings:d})});function vLe(t){var e=si(_0),{data:r,dataKey:n,background:i,allOtherBarProps:s}=t,{onMouseEnter:a,onMouseLeave:c,onClick:u}=s,l=uj(s,lLe),d=oM(a,n,s.id),f=lM(c),A=cM(u,n,s.id);if(!i||r==null)return null;var p=ey(i);return k.createElement(rh,{zIndex:fke(i,Oc.barBackground)},r.map((v,y)=>{var{value:x,background:w,tooltipPosition:E}=v,T=uj(v,cLe);if(!w)return null;var C=d(v,y),j=f(v,y),P=A(v,y),U=dh(dh(dh(dh(dh({option:i,isActive:String(y)===e},T),{},{fill:"#eee"},w),p),Kb(l,v,y)),{},{onMouseEnter:C,onMouseLeave:j,onClick:P,dataKey:n,index:y,className:"recharts-bar-background-rectangle"});return k.createElement(cj,Gp({key:"background-bar-".concat(y)},U))}))}function yLe(t){var{showLabels:e,children:r,rects:n}=t,i=n?.map(s=>{var a={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return dh(dh({},a),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:a,fill:s.fill})});return k.createElement(rte,{value:e?i:void 0},r)}function xLe(t){var{shape:e,activeBar:r,baseProps:n,entry:i,index:s,dataKey:a}=t,c=si(_0),u=si(z3),l=r&&String(s)===c&&(u==null||a===u),d=l?r:e;return l?k.createElement(rh,{zIndex:Oc.activeBar},k.createElement(Rte,{index:s},k.createElement(cj,Gp({},n,{name:String(n.name)},i,{isActive:l,option:d,index:s,dataKey:a})))):k.createElement(cj,Gp({},n,{name:String(n.name)},i,{isActive:l,option:d,index:s,dataKey:a}))}function bLe(t){var{shape:e,baseProps:r,entry:n,index:i,dataKey:s}=t;return k.createElement(cj,Gp({},r,{name:String(r.name)},n,{isActive:!1,option:e,index:i,dataKey:s}))}function wLe(t){var e,{data:r,props:n}=t,i=(e=gu(n))!==null&&e!==void 0?e:{},{id:s}=i,a=uj(i,uLe),{shape:c,dataKey:u,activeBar:l}=n,{onMouseEnter:d,onClick:f,onMouseLeave:A}=n,p=uj(n,dLe),v=oM(d,u,s),y=lM(A),x=cM(f,u,s);return r?k.createElement(k.Fragment,null,r.map((w,E)=>k.createElement(Rte,Gp({index:E,key:"rectangle-".concat(w?.x,"-").concat(w?.y,"-").concat(w?.value,"-").concat(E),className:"recharts-bar-rectangle"},Kb(p,w,E),{onMouseEnter:v(w,E),onMouseLeave:y(w,E),onClick:x(w,E)}),l?k.createElement(xLe,{shape:c,activeBar:l,baseProps:a,entry:w,index:E,dataKey:u}):k.createElement(bLe,{shape:c,baseProps:a,entry:w,index:E,dataKey:u})))):null}function ELe(t){var{props:e,previousRectanglesRef:r}=t,{data:n,layout:i,isAnimationActive:s,animationBegin:a,animationDuration:c,animationEasing:u,onAnimationEnd:l,onAnimationStart:d}=e,f=r.current,A=y_(e,"recharts-bar-"),[p,v]=k.useState(!1),y=!p,x=k.useCallback(()=>{typeof l=="function"&&l(),v(!1)},[l]),w=k.useCallback(()=>{typeof d=="function"&&d(),v(!0)},[d]);return k.createElement(yLe,{showLabels:y,rects:n},k.createElement(v_,{animationId:A,begin:a,duration:c,isActive:s,easing:u,onAnimationEnd:x,onAnimationStart:w,key:A},E=>{var T=E===1?n:n?.map((C,j)=>{var P=f&&f[j];if(P)return dh(dh({},C),{},{x:uc(P.x,C.x,E),y:uc(P.y,C.y,E),width:uc(P.width,C.width,E),height:uc(P.height,C.height,E)});if(i==="horizontal"){var U=uc(0,C.height,E),W=uc(C.stackedBarStart,C.y,E);return dh(dh({},C),{},{y:W,height:U})}var q=uc(0,C.width,E),re=uc(C.stackedBarStart,C.x,E);return dh(dh({},C),{},{width:q,x:re})});return E>0&&(r.current=T??null),T==null?null:k.createElement(Dc,null,k.createElement(wLe,{props:e,data:T}))}),k.createElement(Z3,{label:e.label}),e.children)}function _Le(t){var e=k.useRef(null);return k.createElement(ELe,{previousRectanglesRef:e,props:t})}var Dte=0,SLe=(t,e)=>{var r=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:r,errorVal:dl(t,e)}};class TLe extends k.PureComponent{render(){var{hide:e,data:r,dataKey:n,className:i,xAxisId:s,yAxisId:a,needClip:c,background:u,id:l}=this.props;if(e||r==null)return null;var d=Sa("recharts-bar",i),f=l;return k.createElement(Dc,{className:d,id:l},c&&k.createElement("defs",null,k.createElement(mIe,{clipPathId:f,xAxisId:s,yAxisId:a})),k.createElement(Dc,{className:"recharts-bar-rectangles",clipPath:c?"url(#clipPath-".concat(f,")"):void 0},k.createElement(vLe,{data:r,dataKey:n,background:u,allOtherBarProps:this.props}),k.createElement(_Le,this.props)))}}var CLe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:Dte,xAxisId:0,yAxisId:0,zIndex:Oc.bar};function jLe(t){var{xAxisId:e,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:a,animationBegin:c,animationDuration:u,animationEasing:l,isAnimationActive:d}=t,{needClip:f}=Bte(e,r),A=Wb(),p=th(),v=aM(t.children,Nb),y=si(E=>tLe(E,t.id,p,v));if(A!=="vertical"&&A!=="horizontal")return null;var x,w=y?.[0];return w==null||w.height==null||w.width==null?x=0:x=A==="vertical"?w.height/2:w.width/2,k.createElement(AIe,{xAxisId:e,yAxisId:r,data:y,dataPointFormatter:SLe,errorBarOffset:x},k.createElement(TLe,Gp({},t,{layout:A,needClip:f,data:y,xAxisId:e,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:a,animationBegin:c,animationDuration:u,animationEasing:l,isAnimationActive:d})))}function NLe(t){var{layout:e,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:s,xAxis:a,yAxis:c,xAxisTicks:u,yAxisTicks:l,stackedData:d,displayedData:f,offset:A,cells:p,parentViewBox:v,dataStartIndex:y}=t,x=e==="horizontal"?c:a,w=d?x.scale.domain():null,E=nxe({numericAxis:x}),T=x.scale.map(E);return f.map((C,j)=>{var P,U,W,q,re,ie;if(d){var Ae=d[j+y];if(Ae==null)return null;P=Xye(Ae,w)}else P=dl(C,r),Array.isArray(P)||(P=[E,P]);var be=MIe(n,Dte)(P[1],j);if(e==="horizontal"){var Ee,ge=c.scale.map(P[0]),se=c.scale.map(P[1]);if(ge==null||se==null)return null;U=G$({axis:a,ticks:u,bandSize:s,offset:i.offset,entry:C,index:j}),W=(Ee=se??ge)!==null&&Ee!==void 0?Ee:void 0,q=i.size;var xe=ge-se;if(re=Dm(xe)?0:xe,ie={x:U,y:A.top,width:q,height:A.height},Math.abs(be)>0&&Math.abs(re)<Math.abs(be)){var ce=dd(re||be)*(Math.abs(be)-Math.abs(re));W-=ce,re+=ce}}else{var Me=a.scale.map(P[0]),Oe=a.scale.map(P[1]);if(Me==null||Oe==null)return null;if(U=Me,W=G$({axis:c,ticks:l,bandSize:s,offset:i.offset,entry:C,index:j}),q=Oe-Me,re=i.size,ie={x:A.left,y:W,width:A.width,height:re},Math.abs(be)>0&&Math.abs(q)<Math.abs(be)){var we=dd(q||be)*(Math.abs(be)-Math.abs(q));q+=we}}if(U==null||W==null||q==null||re==null)return null;var ue=dh(dh({},C),{},{stackedBarStart:T,x:U,y:W,width:q,height:re,value:d?P:P[1],payload:C,background:ie,tooltipPosition:{x:U+q/2,y:W+re/2},parentViewBox:v},p&&p[j]&&p[j].props);return ue}).filter(Boolean)}function kLe(t){var e=Fc(t,CLe),r=sLe(e.stackId),n=th();return k.createElement(dM,{id:e.id,type:"bar"},i=>k.createElement(k.Fragment,null,k.createElement(pNe,{legendPayload:pLe(e)}),k.createElement(gLe,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:i}),k.createElement(NNe,{type:"bar",id:i,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:r,hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),k.createElement(rh,{zIndex:e.zIndex},k.createElement(jLe,Gp({},e,{id:i})))))}var zx=k.memo(kLe,mM);zx.displayName="Bar";var ILe=["domain","range"],LLe=["domain","range"];function bV(t,e){if(t==null)return{};var r,n,i=BLe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function BLe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function wV(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function Mte(t,e){if(t===e)return!0;var{domain:r,range:n}=t,i=bV(t,ILe),{domain:s,range:a}=e,c=bV(e,LLe);return!wV(r,s)||!wV(n,a)?!1:mM(i,c)}var OLe=["type"],PLe=["dangerouslySetInnerHTML","ticks","scale"],RLe=["id","scale"];function dO(){return dO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dO.apply(null,arguments)}function EV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _V(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EV(Object(r),!0).forEach(function(n){DLe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function DLe(t,e,r){return(e=MLe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function MLe(t){var e=FLe(t,"string");return typeof e=="symbol"?e:e+""}function FLe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hO(t,e){if(t==null)return{};var r,n,i=ULe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function ULe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function $Le(t){var e=Al(),r=k.useRef(null),n=xZ(),{type:i}=t,s=hO(t,OLe),a=T_(n,"xAxis",i),c=k.useMemo(()=>{if(a!=null)return _V(_V({},s),{},{type:a})},[s,a]);return k.useLayoutEffect(()=>{c!=null&&(r.current===null?e(f5e(c)):r.current!==c&&e(A5e({prev:r.current,next:c})),r.current=c)},[c,e]),k.useLayoutEffect(()=>()=>{r.current&&(e(m5e(r.current)),r.current=null)},[e]),null}var HLe=t=>{var{xAxisId:e,className:r}=t,n=si(OD),i=th(),s="xAxis",a=si(w=>fee(w,s,e,i)),c=si(w=>cee(w,e)),u=si(w=>x2e(w,e)),l=si(w=>VJ(w,e));if(c==null||u==null||l==null)return null;var{dangerouslySetInnerHTML:d,ticks:f,scale:A}=t,p=hO(t,PLe),{id:v,scale:y}=l,x=hO(l,RLe);return k.createElement(AM,dO({},p,x,{x:u.x,y:u.y,width:c.width,height:c.height,className:Sa("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:a,axisType:s}))},QLe={allowDataOverflow:sd.allowDataOverflow,allowDecimals:sd.allowDecimals,allowDuplicatedCategory:sd.allowDuplicatedCategory,angle:sd.angle,axisLine:Pp.axisLine,height:sd.height,hide:!1,includeHidden:sd.includeHidden,interval:sd.interval,label:!1,minTickGap:sd.minTickGap,mirror:sd.mirror,orientation:sd.orientation,padding:sd.padding,reversed:sd.reversed,scale:sd.scale,tick:sd.tick,tickCount:sd.tickCount,tickLine:Pp.tickLine,tickSize:Pp.tickSize,type:sd.type,xAxisId:0},VLe=t=>{var e=Fc(t,QLe);return k.createElement(k.Fragment,null,k.createElement($Le,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),k.createElement(HLe,e))},pM=k.memo(VLe,Mte);pM.displayName="XAxis";var zLe=["type"],KLe=["dangerouslySetInnerHTML","ticks","scale"],GLe=["id","scale"];function fO(){return fO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fO.apply(null,arguments)}function SV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function TV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SV(Object(r),!0).forEach(function(n){WLe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function WLe(t,e,r){return(e=YLe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function YLe(t){var e=qLe(t,"string");return typeof e=="symbol"?e:e+""}function qLe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function AO(t,e){if(t==null)return{};var r,n,i=XLe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function XLe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function ZLe(t){var e=Al(),r=k.useRef(null),n=xZ(),{type:i}=t,s=AO(t,zLe),a=T_(n,"yAxis",i),c=k.useMemo(()=>{if(a!=null)return TV(TV({},s),{},{type:a})},[a,s]);return k.useLayoutEffect(()=>{c!=null&&(r.current===null?e(p5e(c)):r.current!==c&&e(g5e({prev:r.current,next:c})),r.current=c)},[c,e]),k.useLayoutEffect(()=>()=>{r.current&&(e(v5e(r.current)),r.current=null)},[e]),null}function JLe(t){var{yAxisId:e,className:r,width:n,label:i}=t,s=k.useRef(null),a=k.useRef(null),c=si(OD),u=th(),l=Al(),d="yAxis",f=si(P=>uee(P,e)),A=si(P=>w2e(P,e)),p=si(P=>fee(P,d,e,u)),v=si(P=>zJ(P,e));if(k.useLayoutEffect(()=>{if(!(n!=="auto"||!f||X3(i)||k.isValidElement(i)||v==null)){var P=s.current;if(P){var U=P.getCalculatedWidth();Math.round(f.width)!==Math.round(U)&&l(y5e({id:e,width:U}))}}},[p,f,l,i,e,n,v]),f==null||A==null||v==null)return null;var{dangerouslySetInnerHTML:y,ticks:x,scale:w}=t,E=AO(t,KLe),{id:T,scale:C}=v,j=AO(v,GLe);return k.createElement(AM,fO({},E,j,{ref:s,labelRef:a,x:A.x,y:A.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:f.width,height:f.height,className:Sa("recharts-".concat(d," ").concat(d),r),viewBox:c,ticks:p,axisType:d}))}var eBe={allowDataOverflow:ad.allowDataOverflow,allowDecimals:ad.allowDecimals,allowDuplicatedCategory:ad.allowDuplicatedCategory,angle:ad.angle,axisLine:Pp.axisLine,hide:!1,includeHidden:ad.includeHidden,interval:ad.interval,label:!1,minTickGap:ad.minTickGap,mirror:ad.mirror,orientation:ad.orientation,padding:ad.padding,reversed:ad.reversed,scale:ad.scale,tick:ad.tick,tickCount:ad.tickCount,tickLine:Pp.tickLine,tickSize:Pp.tickSize,type:ad.type,width:ad.width,yAxisId:0},tBe=t=>{var e=Fc(t,eBe);return k.createElement(k.Fragment,null,k.createElement(ZLe,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),k.createElement(JLe,e))},gM=k.memo(tBe,Mte);gM.displayName="YAxis";var rBe=(t,e)=>e,vM=or([rBe,Wa,j_,md,Iee,ig,RSe,Hu],QSe),yM=t=>{var e=t.currentTarget.getBoundingClientRect(),r=e.width/t.currentTarget.offsetWidth,n=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/r),chartY:Math.round((t.clientY-e.top)/n)}},Fte=Kf("mouseClick"),Ute=A_();Ute.startListening({actionCreator:Fte,effect:(t,e)=>{var r=t.payload,n=vM(e.getState(),yM(r));n?.activeIndex!=null&&e.dispatch(O2e({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var mO=Kf("mouseMove"),$te=A_(),R2=null;$te.startListening({actionCreator:mO,effect:(t,e)=>{var r=t.payload;R2!==null&&cancelAnimationFrame(R2);var n=yM(r);R2=requestAnimationFrame(()=>{var i=e.getState(),s=F3(i,i.tooltip.settings.shared);if(s==="axis"){var a=vM(i,n);a?.activeIndex!=null?e.dispatch(wee({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(bee())}R2=null})}});function nBe(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var CV={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},Hte=Dh({name:"rootProps",initialState:CV,reducers:{updateOptions:(t,e)=>{var r;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(r=e.payload.barGap)!==null&&r!==void 0?r:CV.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),iBe=Hte.reducer,{updateOptions:sBe}=Hte.actions,aBe=null,oBe={updatePolarOptions:(t,e)=>e.payload},Qte=Dh({name:"polarOptions",initialState:aBe,reducers:oBe}),{updatePolarOptions:lBe}=Qte.actions,cBe=Qte.reducer,Vte=Kf("keyDown"),zte=Kf("focus"),xM=A_();xM.startListening({actionCreator:Vte,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var a=U3(i,n1(r),I_(r),O_(r)),c=a==null?-1:Number(a);if(!(!Number.isFinite(c)||c<0)){var u=ig(r);if(s==="Enter"){var l=rj(r,"axis","hover",String(i.index));e.dispatch(iO({active:!i.active,activeIndex:i.index,activeCoordinate:l}));return}var d=_2e(r),f=d==="left-to-right"?1:-1,A=s==="ArrowRight"?1:-1,p=c+A*f;if(!(u==null||p>=u.length||p<0)){var v=rj(r,"axis","hover",String(p));e.dispatch(iO({active:!0,activeIndex:p.toString(),activeCoordinate:v}))}}}}}});xM.startListening({actionCreator:zte,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var s="0",a=rj(r,"axis","hover",String(s));e.dispatch(iO({active:!0,activeIndex:s,activeCoordinate:a}))}}}});var Of=Kf("externalEvent"),Kte=A_(),TL=new Map;Kte.startListening({actionCreator:Of,effect:(t,e)=>{var{handler:r,reactEvent:n}=t.payload;if(r!=null){n.persist();var i=n.type,s=TL.get(i);s!==void 0&&cancelAnimationFrame(s);var a=requestAnimationFrame(()=>{try{var c=e.getState(),u={activeCoordinate:xSe(c),activeDataKey:z3(c),activeIndex:_0(c),activeLabel:Oee(c),activeTooltipIndex:_0(c),isTooltipActive:bSe(c)};r(u,n)}finally{TL.delete(i)}});TL.set(i,a)}}});var uBe=or([t1],t=>t.tooltipItemPayloads),dBe=or([uBe,(t,e)=>e,(t,e,r)=>r],(t,e,r)=>{if(e!=null){var n=t.find(s=>s.settings.graphicalItemId===r);if(n!=null){var{getPosition:i}=n;if(i!=null)return i(e)}}}),Gte=Kf("touchMove"),Wte=A_();Wte.startListening({actionCreator:Gte,effect:(t,e)=>{var r=t.payload;if(!(r.touches==null||r.touches.length===0)){var n=e.getState(),i=F3(n,n.tooltip.settings.shared);if(i==="axis"){var s=r.touches[0];if(s==null)return;var a=vM(n,yM({clientX:s.clientX,clientY:s.clientY,currentTarget:r.currentTarget}));a?.activeIndex!=null&&e.dispatch(wee({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var c,u=r.touches[0];if(document.elementFromPoint==null||u==null)return;var l=document.elementFromPoint(u.clientX,u.clientY);if(!l||!l.getAttribute)return;var d=l.getAttribute(AZ),f=(c=l.getAttribute(mZ))!==null&&c!==void 0?c:void 0,A=r1(n).find(y=>y.id===f);if(d==null||A==null||f==null)return;var{dataKey:p}=A,v=dBe(n,d,f);e.dispatch(xee({activeDataKey:p,activeIndex:d,activeCoordinate:v,activeGraphicalItemId:f}))}}}});var hBe=RX({brush:Ake,cartesianAxis:x5e,chartData:xTe,errorBars:lIe,graphicalItems:CNe,layout:Kye,legend:ebe,options:mTe,polarAxis:_je,polarOptions:cBe,referenceElements:vke,rootProps:iBe,tooltip:P2e,zIndex:nTe}),fBe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return gye({reducer:hBe,preloadedState:e,middleware:n=>{var i;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([Ute.middleware,$te.middleware,xM.middleware,Kte.middleware,Wte.middleware])},enhancers:n=>{var i=n;return typeof n=="function"&&(i=n()),i.concat(XX({type:"raf"}))},devTools:{serialize:{replacer:nBe},name:"recharts-".concat(r)}})};function Yte(t){var{preloadedState:e,children:r,reduxStoreName:n}=t,i=th(),s=k.useRef(null);if(i)return r;s.current==null&&(s.current=fBe(e,n));var a=CD;return k.createElement(BIe,{context:a,store:s.current},r)}function ABe(t){var{layout:e,margin:r}=t,n=Al(),i=th();return k.useEffect(()=>{i||(n(Qye(e)),n(Hye(r)))},[n,i,e,r]),null}var qte=k.memo(ABe,mM);function Xte(t){var e=Al();return k.useEffect(()=>{e(sBe(t))},[e,t]),null}function jV(t){var{zIndex:e,isPanorama:r}=t,n=k.useRef(null),i=Al();return k.useLayoutEffect(()=>(n.current&&i(tTe({zIndex:e,element:n.current,isPanorama:r})),()=>{i(rTe({zIndex:e,isPanorama:r}))}),[i,e,r]),k.createElement("g",{tabIndex:-1,ref:n})}function NV(t){var{children:e,isPanorama:r}=t,n=si(zSe);if(!n||n.length===0)return e;var i=n.filter(a=>a<0),s=n.filter(a=>a>0);return k.createElement(k.Fragment,null,i.map(a=>k.createElement(jV,{key:a,zIndex:a,isPanorama:r})),e,s.map(a=>k.createElement(jV,{key:a,zIndex:a,isPanorama:r})))}var mBe=["children"];function pBe(t,e){if(t==null)return{};var r,n,i=gBe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function gBe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function dj(){return dj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dj.apply(null,arguments)}var vBe={width:"100%",height:"100%",display:"block"},yBe=k.forwardRef((t,e)=>{var r=DD(),n=MD(),i=LZ();if(!Fm(r)||!Fm(n))return null;var{children:s,otherAttributes:a,title:c,desc:u}=t,l,d;return a!=null&&(typeof a.tabIndex=="number"?l=a.tabIndex:l=i?0:void 0,typeof a.role=="string"?d=a.role:d=i?"application":void 0),k.createElement(pD,dj({},a,{title:c,desc:u,role:d,tabIndex:l,width:r,height:n,style:vBe,ref:e}),s)}),xBe=t=>{var{children:e}=t,r=si(MN);if(!r)return null;var{width:n,height:i,y:s,x:a}=r;return k.createElement(pD,{width:n,height:i,x:a,y:s},e)},kV=k.forwardRef((t,e)=>{var{children:r}=t,n=pBe(t,mBe),i=th();return i?k.createElement(xBe,null,k.createElement(NV,{isPanorama:!0},r)):k.createElement(yBe,dj({ref:e},n),k.createElement(NV,{isPanorama:!1},r))});function bBe(){var t=Al(),[e,r]=k.useState(null),n=si(cxe);return k.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;Ha(s)&&s!==n&&t(zye(s))}},[e,t,n]),r}function IV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wBe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IV(Object(r),!0).forEach(function(n){EBe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function EBe(t,e,r){return(e=_Be(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _Be(t){var e=SBe(t,"string");return typeof e=="symbol"?e:e+""}function SBe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function v0(){return v0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},v0.apply(null,arguments)}var TBe=()=>(NTe(),null);function hj(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var CBe=k.forwardRef((t,e)=>{var r,n,i=k.useRef(null),[s,a]=k.useState({containerWidth:hj((r=t.style)===null||r===void 0?void 0:r.width),containerHeight:hj((n=t.style)===null||n===void 0?void 0:n.height)}),c=k.useCallback((l,d)=>{a(f=>{var A=Math.round(l),p=Math.round(d);return f.containerWidth===A&&f.containerHeight===p?f:{containerWidth:A,containerHeight:p}})},[]),u=k.useCallback(l=>{if(typeof e=="function"&&e(l),l!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=l.getBoundingClientRect();c(d,f);var A=v=>{var y=v[0];if(y!=null){var{width:x,height:w}=y.contentRect;c(x,w)}},p=new ResizeObserver(A);p.observe(l),i.current=p}},[e,c]);return k.useEffect(()=>()=>{var l=i.current;l?.disconnect()},[c]),k.createElement(k.Fragment,null,k.createElement(p_,{width:s.containerWidth,height:s.containerHeight}),k.createElement("div",v0({ref:u},t)))}),jBe=k.forwardRef((t,e)=>{var{width:r,height:n}=t,[i,s]=k.useState({containerWidth:hj(r),containerHeight:hj(n)}),a=k.useCallback((u,l)=>{s(d=>{var f=Math.round(u),A=Math.round(l);return d.containerWidth===f&&d.containerHeight===A?d:{containerWidth:f,containerHeight:A}})},[]),c=k.useCallback(u=>{if(typeof e=="function"&&e(u),u!=null){var{width:l,height:d}=u.getBoundingClientRect();a(l,d)}},[e,a]);return k.createElement(k.Fragment,null,k.createElement(p_,{width:i.containerWidth,height:i.containerHeight}),k.createElement("div",v0({ref:c},t)))}),NBe=k.forwardRef((t,e)=>{var{width:r,height:n}=t;return k.createElement(k.Fragment,null,k.createElement(p_,{width:r,height:n}),k.createElement("div",v0({ref:e},t)))}),kBe=k.forwardRef((t,e)=>{var{width:r,height:n}=t;return typeof r=="string"||typeof n=="string"?k.createElement(jBe,v0({},t,{ref:e})):typeof r=="number"&&typeof n=="number"?k.createElement(NBe,v0({},t,{width:r,height:n,ref:e})):k.createElement(k.Fragment,null,k.createElement(p_,{width:r,height:n}),k.createElement("div",v0({ref:e},t)))});function IBe(t){return t?CBe:kBe}var LBe=k.forwardRef((t,e)=>{var{children:r,className:n,height:i,onClick:s,onContextMenu:a,onDoubleClick:c,onMouseDown:u,onMouseEnter:l,onMouseLeave:d,onMouseMove:f,onMouseUp:A,onTouchEnd:p,onTouchMove:v,onTouchStart:y,style:x,width:w,responsive:E,dispatchTouchEvents:T=!0}=t,C=k.useRef(null),j=Al(),[P,U]=k.useState(null),[W,q]=k.useState(null),re=bBe(),ie=PD(),Ae=ie?.width>0?ie.width:w,be=ie?.height>0?ie.height:i,Ee=k.useCallback(Pe=>{re(Pe),typeof e=="function"&&e(Pe),U(Pe),q(Pe),Pe!=null&&(C.current=Pe)},[re,e,U,q]),ge=k.useCallback(Pe=>{j(Fte(Pe)),j(Of({handler:s,reactEvent:Pe}))},[j,s]),se=k.useCallback(Pe=>{j(mO(Pe)),j(Of({handler:l,reactEvent:Pe}))},[j,l]),xe=k.useCallback(Pe=>{j(bee()),j(Of({handler:d,reactEvent:Pe}))},[j,d]),ce=k.useCallback(Pe=>{j(mO(Pe)),j(Of({handler:f,reactEvent:Pe}))},[j,f]),Me=k.useCallback(()=>{j(zte())},[j]),Oe=k.useCallback(Pe=>{j(Vte(Pe.key))},[j]),we=k.useCallback(Pe=>{j(Of({handler:a,reactEvent:Pe}))},[j,a]),ue=k.useCallback(Pe=>{j(Of({handler:c,reactEvent:Pe}))},[j,c]),ye=k.useCallback(Pe=>{j(Of({handler:u,reactEvent:Pe}))},[j,u]),Le=k.useCallback(Pe=>{j(Of({handler:A,reactEvent:Pe}))},[j,A]),He=k.useCallback(Pe=>{j(Of({handler:y,reactEvent:Pe}))},[j,y]),Fe=k.useCallback(Pe=>{T&&j(Gte(Pe)),j(Of({handler:v,reactEvent:Pe}))},[j,T,v]),At=k.useCallback(Pe=>{j(Of({handler:p,reactEvent:Pe}))},[j,p]),pt=IBe(E);return k.createElement($ee.Provider,{value:P},k.createElement(eX.Provider,{value:W},k.createElement(pt,{width:Ae??x?.width,height:be??x?.height,className:Sa("recharts-wrapper",n),style:wBe({position:"relative",cursor:"default",width:Ae,height:be},x),onClick:ge,onContextMenu:we,onDoubleClick:ue,onFocus:Me,onKeyDown:Oe,onMouseDown:ye,onMouseEnter:se,onMouseLeave:xe,onMouseMove:ce,onMouseUp:Le,onTouchEnd:At,onTouchMove:Fe,onTouchStart:He,ref:Ee},k.createElement(TBe,null),r)))}),BBe=["width","height","responsive","children","className","style","compact","title","desc"];function OBe(t,e){if(t==null)return{};var r,n,i=PBe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function PBe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Zte=k.forwardRef((t,e)=>{var{width:r,height:n,responsive:i,children:s,className:a,style:c,compact:u,title:l,desc:d}=t,f=OBe(t,BBe),A=gu(f);return u?k.createElement(k.Fragment,null,k.createElement(p_,{width:r,height:n}),k.createElement(kV,{otherAttributes:A,title:l,desc:d},s)):k.createElement(LBe,{className:a,style:c,width:r,height:n,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},k.createElement(kV,{otherAttributes:A,title:l,desc:d,ref:e},k.createElement(xke,null,s)))});function pO(){return pO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pO.apply(null,arguments)}var RBe={top:5,right:5,bottom:5,left:5},DBe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:RBe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},MBe=k.forwardRef(function(e,r){var n,i=Fc(e.categoricalChartProps,DBe),{chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:c,tooltipPayloadSearcher:u,categoricalChartProps:l}=e,d={chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:c,tooltipPayloadSearcher:u,eventEmitter:void 0};return k.createElement(Yte,{preloadedState:{options:d},reduxStoreName:(n=l.id)!==null&&n!==void 0?n:s},k.createElement(Tte,{chartData:l.data}),k.createElement(qte,{layout:i.layout,margin:i.margin}),k.createElement(Xte,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),k.createElement(Zte,pO({},i,{ref:r})))}),FBe=["axis","item"],Jte=k.forwardRef((t,e)=>k.createElement(MBe,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:FBe,tooltipPayloadSearcher:q3,categoricalChartProps:t,ref:e}));function UBe(t){var e=Al();return k.useEffect(()=>{e(lBe(t))},[e,t]),null}var $Be=["layout"];function gO(){return gO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gO.apply(null,arguments)}function HBe(t,e){if(t==null)return{};var r,n,i=QBe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function QBe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var VBe={top:5,right:5,bottom:5,left:5},bM={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:VBe,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},ere=k.forwardRef(function(e,r){var n,i=Fc(e.categoricalChartProps,bM),{layout:s}=i,a=HBe(i,$Be),{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:l,tooltipPayloadSearcher:d}=e,f={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:l,tooltipPayloadSearcher:d,eventEmitter:void 0};return k.createElement(Yte,{preloadedState:{options:f},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:c},k.createElement(Tte,{chartData:i.data}),k.createElement(qte,{layout:s,margin:i.margin}),k.createElement(Xte,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),k.createElement(UBe,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),k.createElement(Zte,gO({},a,{ref:r})))});function LV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function BV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LV(Object(r),!0).forEach(function(n){zBe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zBe(t,e,r){return(e=KBe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KBe(t){var e=GBe(t,"string");return typeof e=="symbol"?e:e+""}function GBe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var WBe=["item"],YBe=BV(BV({},bM),{},{layout:"centric",startAngle:0,endAngle:360}),qBe=k.forwardRef((t,e)=>{var r=Fc(t,YBe);return k.createElement(ere,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:WBe,tooltipPayloadSearcher:q3,categoricalChartProps:r,ref:e})});function OV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function PV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OV(Object(r),!0).forEach(function(n){XBe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function XBe(t,e,r){return(e=ZBe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZBe(t){var e=JBe(t,"string");return typeof e=="symbol"?e:e+""}function JBe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var e4e=["axis"],t4e=PV(PV({},bM),{},{layout:"centric",startAngle:90,endAngle:-270}),r4e=k.forwardRef((t,e)=>{var r=Fc(t,t4e);return k.createElement(ere,{chartName:"RadarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:e4e,tooltipPayloadSearcher:q3,categoricalChartProps:r,ref:e})});const n4e=[{name:"Custom Fight Banner Graphics",price:"$650",avgPrice:650,icon:p0,description:"Custom graphics for all athletes created day-of from registration photos",features:["Professional athlete intro graphics","Fight card overlays","Social media ready formats","Same-day delivery"]},{name:"Professional Event Photography",price:"$1,000",avgPrice:1e3,icon:nC,description:"Dedicated photographer capturing every moment of your event",features:["Full event coverage","Match action shots","Winners & awards ceremony","Crowd atmosphere shots","Complete digital gallery"]},{name:"Individual Fight/Match Recordings",price:"$750",avgPrice:750,icon:Im,description:"Every fight delivered as a standalone clip  perfect for athletes, coaches, and social media",features:["Individual recording of every fight/match","Clean cuts with walkout to decision","Athlete-ready format for social sharing","YouTube-ready individual uploads","7-day delivery"]},{name:"Premium Camera Setup",price:"$2,000",avgPrice:2e3,icon:nC,description:"Upgrade to broadcast-grade multi-camera production",features:["3-4 cinema-grade cameras","PTZ cameras for dynamic angles","Professional live switching","Instant replay capability","Broadcast graphics integration"]},{name:"Social Media Content Package",price:"$1,500",avgPrice:1500,icon:fy,description:"Comprehensive content strategy for maximum reach",features:["5-10 social clips","Event highlight reel (3-5 min)","Short-form vertical edits for Reels/TikTok","Same-day highlight delivery"]},{name:"Ongoing Content Strategy",price:"$3,000",avgPrice:3e3,priceDetail:"per month",icon:cY,description:"Monthly content calendar and audience growth strategy",features:["Monthly content calendar","Audience growth strategy","Between-event content","Analytics & optimization","Dedicated account manager"]}],i4e=t=>t==="Major"?["Professional broadcast production (3-4 cameras with PTZ)","Complete PPV/streaming setup and management","Full show recording","Custom fight banner graphics for all athletes","Professional event photography","3 social media highlight clips","Revenue share: You earn from every PPV sale"]:t==="Established"?["Professional live stream production (2-3 cameras)","Complete PPV/streaming setup and management","Full show recording","Custom fight banner graphics for all athletes","1 social media highlight clip","Revenue share: You earn from every PPV sale"]:["Professional live stream production (1-2 cameras)","Complete PPV/streaming setup and management","Full show recording","1 social media highlight clip","Revenue share: You earn from every PPV sale"],s4e={Grassroots:[],Regional:[],Established:["Custom Fight Banner Graphics"],Major:["Custom Fight Banner Graphics","Professional Event Photography","Premium Camera Setup"]},RV=t=>t==="Major"?[{name:"Essentials Package",price:"$1,500",features:["Individual Fight/Match Recordings ($750 value)","Social Media Content Package  5-10 clips ($1,500 value)"],addOns:["Individual Fight/Match Recordings","Social Media Content Package"],bestFor:"Major promotions wanting athlete-ready content",popular:!1},{name:"Professional Package",price:"$3,000",features:["Everything in Essentials","Ongoing Content Strategy  1 month ($3,000 value)"],addOns:["Individual Fight/Match Recordings","Social Media Content Package","Ongoing Content Strategy"],bestFor:"Promotions building a year-round content engine",popular:!0},{name:"Broadcast Package",price:"$4,500",features:["Everything in Professional","Priority scheduling","Dedicated account manager","Between-event content creation"],addOns:["Individual Fight/Match Recordings","Social Media Content Package","Ongoing Content Strategy"],bestFor:"Elite promotions wanting a full media partnership",popular:!1}]:t==="Established"?[{name:"Essentials Package",price:"$2,000",features:["Individual Fight/Match Recordings ($750 value)","Social Media Content Package  5-10 clips ($1,500 value)"],addOns:["Individual Fight/Match Recordings","Social Media Content Package"],bestFor:"Established promotions adding content to their toolkit",popular:!1},{name:"Professional Package",price:"$3,500",features:["Everything in Essentials","Professional Event Photography ($1,000 value)","Premium Camera Setup ($2,000 value)"],addOns:["Individual Fight/Match Recordings","Social Media Content Package","Professional Event Photography","Premium Camera Setup"],bestFor:"Promotions ready for broadcast-quality production",popular:!0},{name:"Broadcast Package",price:"$5,500",features:["Everything in Professional","Ongoing Content Strategy  1 month ($3,000 value)","Priority scheduling"],addOns:["Individual Fight/Match Recordings","Social Media Content Package","Professional Event Photography","Premium Camera Setup","Ongoing Content Strategy"],bestFor:"Promotions dominating their market with full media support",popular:!1}]:[{name:"Essentials Package",price:"$2,500",features:["Custom Fight Banner Graphics ($650 value)","Individual Fight/Match Recordings ($750 value)"],addOns:["Custom Fight Banner Graphics","Individual Fight/Match Recordings"],bestFor:"Grassroots promotions building their brand",popular:!1},{name:"Professional Package",price:"$4,000",features:["Everything in Essentials","Professional Event Photography ($1,000 value)","Social Media Content Package ($1,500 value)"],addOns:["Custom Fight Banner Graphics","Individual Fight/Match Recordings","Professional Event Photography","Social Media Content Package"],bestFor:"Growing promotions ready to scale",popular:!0},{name:"Broadcast Package",price:"$6,500",features:["Everything in Professional","Premium Camera Setup ($2,000 value)","Ongoing Content Strategy  1 month ($3,000 value)"],addOns:["Custom Fight Banner Graphics","Individual Fight/Match Recordings","Professional Event Photography","Social Media Content Package","Premium Camera Setup","Ongoing Content Strategy"],bestFor:"Established promotions dominating their market",popular:!1}],a4e=t=>t==="Major"?"All packages build on your premium base offer  which already includes broadcast production, photography, banner graphics, and PPV revenue share at zero cost":t==="Established"?"All packages build on your enhanced base offer  which already includes professional production, banner graphics, and PPV revenue share at zero cost":"All packages include our zero-cost live production + PPV revenue share as the base service",DV=t=>t==="Major"?"Your Major tier includes broadcast production, photography, banner graphics, and PPV revenue share at no extra cost. These packages add even more on top of your premium base offer.":t==="Established"?"Your Established tier includes banner graphics at no extra cost. These packages add even more on top of your enhanced base offer.":null,o4e=({formData:t,analysis:e,nextStep:r,prevStep:n,selectedAddOns:i=[],setSelectedAddOns:s})=>{const[a,c]=k.useState(null),[u,l]=k.useState(!1),[d,f]=k.useState(null),[A,p]=k.useState(t.showsPerYear),v=e?.potentialStreamingRevenue?.expectedPurchases||Math.round((e?.potentialStreamingRevenue?.viewerEstimate||200)*.6),[y,x]=k.useState(v),[w,E]=k.useState(25);if(!e)return o.jsx("section",{className:"min-h-screen py-20 px-4 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-gray-400",children:"No analysis available. Please complete the profile form."}),o.jsx("button",{onClick:n,className:"mt-6 px-6 py-3 bg-primary-600 hover:bg-primary-700 text-white font-bold rounded-lg transition-all",children:"Go Back"})]})});const T=[{metric:"Event Frequency",value:Math.min(t.showsPerYear/12*100,100)},{metric:"Audience Size",value:Math.min(t.avgAttendance/1e3*100,100)},{metric:"Social Reach",value:Math.min(t.socialFollowing/1e5*100,100)},{metric:"Venue Scale",value:Math.min(t.venueCapacity/2e3*100,100)},{metric:"Growth",value:t.growthTrajectory==="rapidly-growing"?100:t.growthTrajectory==="growing"?85:t.growthTrajectory==="stable"?60:30}],C={Grassroots:"from-green-600 to-emerald-600",Regional:"from-blue-600 to-cyan-600",Established:"from-purple-600 to-pink-600",Major:"from-amber-600 to-red-600"},j={Grassroots:"",Regional:"",Established:"",Major:""},P=Math.round(y*w),U=Math.round(P*.3),W=U*A,q=ie=>{if(i.includes(ie)){if(s(i.filter(Ae=>Ae!==ie)),d){const Ae=RV(e.tier).find(be=>be.name===d);Ae&&Ae.addOns.includes(ie)&&f(null)}}else s([...i,ie])},re=ie=>{if(d===ie.name)f(null),s(i.filter(Ae=>!ie.addOns.includes(Ae)));else{f(ie.name);const Ae=[...new Set([...i,...ie.addOns])];s(Ae)}};return o.jsx("section",{className:"min-h-screen py-12 sm:py-20 px-4",children:o.jsxs("div",{className:"max-w-6xl mx-auto",children:[o.jsxs(Kr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-8 sm:mb-12",children:[o.jsxs("div",{className:"inline-flex items-center gap-3 mb-4",children:[o.jsx(fy,{className:"w-10 h-10 sm:w-12 sm:h-12 text-primary-500"}),o.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-black",children:o.jsx("span",{className:"text-gradient",children:"Your Analysis"})})]}),o.jsxs("p",{className:"text-base sm:text-lg md:text-xl text-gray-300 max-w-2xl mx-auto",children:["Tailored recommendations for ",t.orgName]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 sm:gap-8 mb-6",children:[o.jsxs(Kr.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2},className:`bg-gradient-to-br ${C[e.tier]} rounded-xl p-6 sm:p-8 border-2 border-white/20 card-glow`,children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx("div",{className:"text-5xl sm:text-6xl",children:j[e.tier]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl sm:text-2xl font-black text-white/90 mb-1",children:"Organization Tier"}),o.jsx("p",{className:"text-white/70 text-sm sm:text-base",children:"Your classification"})]})]}),o.jsx("div",{className:"text-5xl sm:text-6xl md:text-7xl font-black text-white mb-4",children:e.tier}),o.jsxs("p",{className:"text-white/90 text-sm sm:text-base leading-relaxed",children:[e.tier==="Grassroots"&&`With ${t.showsPerYear} event${t.showsPerYear>1?"s":""}/year and ${t.avgAttendance.toLocaleString()} average attendance, you're building your foundation. Professional media coverage will help grow your audience and attract first sponsors.`,e.tier==="Regional"&&`With ${t.showsPerYear} event${t.showsPerYear>1?"s":""}/year and ${t.avgAttendance.toLocaleString()} average attendance, you're running a solid operation. Multi-camera production, live streaming, and sponsor packages will take you to the next level.`,e.tier==="Established"&&`With ${t.showsPerYear} event${t.showsPerYear>1?"s":""}/year and ${t.avgAttendance.toLocaleString()} average attendance, you're an established promotion. Broadcast-quality production with PPV capability and premium sponsor integration is your next move.`,e.tier==="Major"&&`With ${t.showsPerYear} event${t.showsPerYear>1?"s":""}/year and ${t.avgAttendance.toLocaleString()} average attendance, you're a major player. Full media partnerships, dedicated production teams, and broadcast-level media rights management are where the real value is.`]})]}),o.jsxs(Kr.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.3},className:"bg-dark-800 border border-gray-700 rounded-xl p-6 sm:p-8",children:[o.jsx("h3",{className:"text-xl sm:text-2xl font-bold mb-6 text-white",children:"Your Profile Metrics"}),o.jsx(LC,{width:"100%",height:280,children:o.jsxs(r4e,{data:T,children:[o.jsx(cte,{stroke:"#374151"}),o.jsx(dte,{dataKey:"metric",tick:{fill:"#9CA3AF",fontSize:11},className:"text-xs sm:text-sm"}),o.jsx(Ste,{name:"Score",dataKey:"value",stroke:"#F83B3B",fill:"#F83B3B",fillOpacity:.6})]})})]})]}),o.jsxs(Kr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.35},className:"bg-gradient-to-br from-blue-900/20 to-cyan-900/20 border border-blue-700/40 rounded-xl p-6 sm:p-8 mb-8",children:[o.jsxs("button",{onClick:()=>l(!u),className:"w-full flex items-start gap-4 text-left",children:[o.jsx(Sde,{className:"w-8 h-8 sm:w-10 sm:h-10 text-blue-400 flex-shrink-0"}),o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl sm:text-2xl font-black text-white mb-2",children:"Market Intelligence"}),o.jsx("p",{className:"text-sm sm:text-base text-gray-300",children:"What others at your tier are doing"})]}),u?o.jsx(iC,{className:"w-6 h-6 text-blue-400"}):o.jsx(gb,{className:"w-6 h-6 text-blue-400"})]})})]}),u&&o.jsxs("div",{className:"space-y-3 mt-4",children:[e.tier==="Grassroots"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-start gap-3 p-3 bg-dark-900/40 rounded-lg",children:[o.jsx("div",{className:"text-blue-400 text-xl",children:""}),o.jsxs("p",{className:"text-gray-200 text-sm sm:text-base",children:[o.jsx("strong",{className:"text-blue-300",children:"78% of grassroots promotions"})," still rely on phone footage  professional media is your competitive edge"]})]}),o.jsxs("div",{className:"flex items-start gap-3 p-3 bg-dark-900/40 rounded-lg",children:[o.jsx("div",{className:"text-blue-400 text-xl",children:""}),o.jsxs("p",{className:"text-gray-200 text-sm sm:text-base",children:["Promotions that invest in media coverage see ",o.jsx("strong",{className:"text-blue-300",children:"2-3x faster audience growth"})]})]})]}),e.tier==="Regional"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-start gap-3 p-3 bg-dark-900/40 rounded-lg",children:[o.jsx("div",{className:"text-blue-400 text-xl",children:""}),o.jsxs("p",{className:"text-gray-200 text-sm sm:text-base",children:[o.jsx("strong",{className:"text-blue-300",children:"62% of regional promotions"})," now offer live streaming  audiences expect it"]})]}),o.jsxs("div",{className:"flex items-start gap-3 p-3 bg-dark-900/40 rounded-lg",children:[o.jsx("div",{className:"text-blue-400 text-xl",children:""}),o.jsxs("p",{className:"text-gray-200 text-sm sm:text-base",children:["Regional promotions with professional media attract ",o.jsx("strong",{className:"text-blue-300",children:"40% more sponsor interest"})]})]})]}),e.tier==="Established"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-start gap-3 p-3 bg-dark-900/40 rounded-lg",children:[o.jsx("div",{className:"text-blue-400 text-xl",children:""}),o.jsxs("p",{className:"text-gray-200 text-sm sm:text-base",children:[o.jsx("strong",{className:"text-blue-300",children:"85% of established promotions"})," have moved to PPV  the question isn't if, but when"]})]}),o.jsxs("div",{className:"flex items-start gap-3 p-3 bg-dark-900/40 rounded-lg",children:[o.jsx("div",{className:"text-blue-400 text-xl",children:""}),o.jsxs("p",{className:"text-gray-200 text-sm sm:text-base",children:[o.jsx("strong",{className:"text-blue-300",children:"Top-tier media production is the #1 factor"})," sponsors cite when choosing event partnerships"]})]})]}),e.tier==="Major"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-start gap-3 p-3 bg-dark-900/40 rounded-lg",children:[o.jsx("div",{className:"text-blue-400 text-xl",children:""}),o.jsxs("p",{className:"text-gray-200 text-sm sm:text-base",children:["Major promotions with dedicated media teams generate ",o.jsx("strong",{className:"text-blue-300",children:"30-50% of revenue from content"})]})]}),o.jsxs("div",{className:"flex items-start gap-3 p-3 bg-dark-900/40 rounded-lg",children:[o.jsx("div",{className:"text-blue-400 text-xl",children:""}),o.jsxs("p",{className:"text-gray-200 text-sm sm:text-base",children:[o.jsx("strong",{className:"text-blue-300",children:"Broadcast-quality production is no longer a luxury"}),"  it's the baseline expectation"]})]})]})]})]}),o.jsxs(Kr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"mb-8",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[o.jsx(KB,{className:"w-10 h-10 sm:w-12 sm:h-12 text-amber-400 fill-amber-400"}),o.jsxs("h3",{className:"text-3xl sm:text-4xl font-black text-white",children:["Our Offer to ",t.orgName]})]}),o.jsxs("div",{className:"relative bg-gradient-to-br from-amber-600 via-orange-600 to-red-600 rounded-2xl p-8 sm:p-12 border-4 border-amber-400/50 card-glow overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 opacity-10",children:o.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.4'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),o.jsxs("div",{className:"relative z-10",children:[o.jsxs("div",{className:"inline-flex items-center gap-2 bg-white/20 backdrop-blur-sm px-4 py-2 rounded-full mb-6",children:[o.jsx(MR,{className:"w-5 h-5 text-white"}),o.jsx("span",{className:"text-white font-bold text-sm",children:"ZERO-COST PRODUCTION"})]}),o.jsx("h4",{className:"text-4xl sm:text-5xl md:text-6xl font-black text-white mb-4 leading-tight",children:"Zero-Cost Live Stream Production"}),o.jsx("p",{className:"text-xl sm:text-2xl md:text-3xl text-white/90 mb-8 font-bold",children:"We produce your event. You pay nothing. You earn revenue."}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[o.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6 border border-white/20",children:[o.jsxs("h5",{className:"text-xl font-black text-white mb-4 flex items-center gap-2",children:[o.jsx(tl,{className:"w-6 h-6"}),"What's Included FREE"]}),o.jsx("ul",{className:"space-y-3",children:i4e(e.tier).map((ie,Ae)=>o.jsxs("li",{className:"flex items-start gap-3",children:[o.jsx(tl,{className:"w-5 h-5 text-white flex-shrink-0 mt-0.5"}),o.jsx("span",{className:"text-white text-sm sm:text-base",children:ie})]},Ae))})]}),o.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6 border border-white/20",children:[o.jsx("h5",{className:"text-xl font-black text-white mb-4",children:"How It Works"}),o.jsx("div",{className:"space-y-4",children:[{num:"1",text:e.tier==="Major"?"We produce your event with a full broadcast setup (3-4 cameras, PTZ, photographer)":e.tier==="Established"?"We produce your event with professional multi-camera coverage (2-3 cameras, full setup)":"We produce your live stream (1-2 pro cameras, full setup)"},{num:"2",text:"Fans purchase PPV access ($20-$30 per viewer)"},{num:"3",text:"You earn from all PPV revenue  free money you weren't making before"}].map(ie=>o.jsxs("div",{className:"flex gap-4",children:[o.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-white rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-xl font-black text-orange-600",children:ie.num})}),o.jsx("p",{className:"text-white text-sm sm:text-base flex-1 mt-1",children:ie.text})]},ie.num))})]})]}),o.jsxs("div",{className:"bg-green-900/40 backdrop-blur-sm border-2 border-green-400 rounded-xl p-6 text-center",children:[o.jsxs("p",{className:"text-2xl sm:text-3xl font-black text-white mb-2",children:["Your Production Cost: ",o.jsx("span",{className:"text-green-300",children:"$0"})]}),o.jsx("p",{className:"text-white/90 text-base sm:text-lg",children:"Zero upfront cost. Zero risk. Just professional streaming + revenue sharing."})]})]})]})]}),o.jsxs(Kr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.5},className:"bg-dark-800 border border-gray-700 rounded-xl p-6 sm:p-8 mb-8",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx(ZW,{className:"w-8 h-8 sm:w-10 sm:h-10 text-green-400"}),o.jsx("h3",{className:"text-2xl sm:text-3xl font-black text-white",children:"Your Revenue Projection"})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 sm:gap-8",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsx("h4",{className:"text-lg sm:text-xl font-bold text-white",children:"Your Numbers"}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-semibold mb-3 text-gray-300",children:["Events Per Year: ",o.jsx("span",{className:"text-primary-500 text-lg font-bold",children:A})]}),o.jsx("input",{type:"range",min:"1",max:"24",value:A,onChange:ie=>p(parseInt(ie.target.value)),className:"w-full h-3 accent-primary-600"}),o.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[o.jsx("span",{children:"1"}),o.jsx("span",{children:"24"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-semibold mb-3 text-gray-300",children:["Expected PPV Purchases: ",o.jsx("span",{className:"text-primary-500 text-lg font-bold",children:y.toLocaleString()})]}),o.jsx("input",{type:"range",min:"50",max:"2000",step:"25",value:y,onChange:ie=>x(parseInt(ie.target.value)),className:"w-full h-3 accent-primary-600"}),o.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[o.jsx("span",{children:"50"}),o.jsx("span",{children:"2,000"})]}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Reference: Small shows 100-250 | Medium 300-600 | Large 800-2000+"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-semibold mb-3 text-gray-300",children:["PPV Price: ",o.jsxs("span",{className:"text-primary-500 text-lg font-bold",children:["$",w]})]}),o.jsx("input",{type:"range",min:"10",max:"50",step:"1",value:w,onChange:ie=>E(parseInt(ie.target.value)),className:"w-full h-3 accent-primary-600"}),o.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[o.jsx("span",{children:"$10"}),o.jsx("span",{children:"$50"})]})]}),o.jsxs("div",{className:"p-4 bg-green-900/20 border border-green-600/50 rounded-lg",children:[o.jsx("p",{className:"text-green-300 text-sm font-semibold mb-2",children:" The Zero-Cost Advantage"}),o.jsxs("p",{className:"text-green-200 text-xs leading-relaxed",children:["Without professional streaming: ",o.jsx("strong",{children:"$0 PPV revenue."}),o.jsx("br",{}),"With us: ",o.jsxs("strong",{children:["$",W.toLocaleString(),"/year"]}),"  at zero cost to you."]})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("h4",{className:"text-lg sm:text-xl font-bold text-white flex items-center gap-3",children:[o.jsx(k0,{className:"w-6 h-6 text-green-400"}),"Revenue Breakdown"]}),o.jsxs("div",{className:"p-5 bg-gradient-to-br from-green-900/40 to-emerald-900/40 border-2 border-green-500 rounded-lg",children:[o.jsx("p",{className:"text-sm text-gray-300 font-semibold mb-1",children:"Your Production Cost"}),o.jsx("p",{className:"text-4xl sm:text-5xl font-black text-green-400",children:"$0"}),o.jsx("p",{className:"text-xs text-green-300 mt-2",children:" Zero upfront investment required"})]}),o.jsxs("div",{className:"p-5 bg-dark-900 rounded-lg",children:[o.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Your Revenue Per Event"}),o.jsxs("p",{className:"text-3xl sm:text-4xl font-black text-green-400",children:["$",U.toLocaleString()]}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Revenue from PPV sales  you weren't earning this before"})]}),o.jsxs("div",{className:"p-5 bg-gradient-to-br from-green-900/40 to-emerald-900/40 border-2 border-green-500 rounded-lg",children:[o.jsx("p",{className:"text-sm text-gray-300 font-semibold mb-1",children:"Your Annual Revenue"}),o.jsxs("p",{className:"text-3xl sm:text-4xl font-black text-green-400",children:["$",W.toLocaleString()]}),o.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["$",U.toLocaleString(),"  ",A," events"]})]}),o.jsx("div",{className:"p-4 bg-blue-900/20 border border-blue-700/50 rounded-lg",children:o.jsxs("p",{className:"text-sm text-blue-200 leading-relaxed",children:[" ",o.jsx("strong",{children:"100% Pure Profit:"})," Every dollar you earn is revenue you weren't generating before. Zero risk, zero cost, all upside. Plus the sponsor deals, ticket sales, and brand growth that come from professional streaming."]})})]})]})]}),o.jsxs(Kr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.58},className:"mb-8",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[o.jsx(h0,{className:"w-8 h-8 sm:w-10 sm:h-10 text-primary-400 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-2xl sm:text-3xl font-black text-white",children:"Want Even More?"}),o.jsx("p",{className:"text-gray-400 text-sm sm:text-base",children:"Your free live stream is just the beginning. Upgrade your event with premium services."})]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6",children:n4e.filter(ie=>!s4e[e.tier]?.includes(ie.name)).map((ie,Ae)=>{const be=a===ie.name,Ee=i.includes(ie.name),ge=ie.icon;return o.jsx(Kr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1*Ae},className:`bg-dark-800 border-2 rounded-xl overflow-hidden transition-all cursor-pointer ${Ee?"border-primary-600 bg-primary-900/20":"border-gray-700 hover:border-primary-600/50"}`,onClick:()=>q(ie.name),children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[o.jsx("div",{className:`flex-shrink-0 w-12 h-12 rounded-lg flex items-center justify-center ${Ee?"bg-primary-600":"bg-primary-600/20"}`,children:o.jsx(ge,{className:`w-6 h-6 ${Ee?"text-white":"text-primary-400"}`})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[o.jsx("h4",{className:"text-lg font-bold text-white",children:ie.name}),Ee&&o.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-green-500 rounded-full flex items-center justify-center",children:o.jsx(tl,{className:"w-4 h-4 text-white"})})]}),o.jsx("p",{className:"text-primary-400 font-bold",children:ie.price}),ie.priceDetail&&o.jsx("p",{className:"text-gray-500 text-xs",children:ie.priceDetail})]})]}),o.jsx("p",{className:"text-gray-400 text-sm mb-4",children:ie.description}),o.jsx("div",{className:"space-y-2",children:ie.features.slice(0,be?ie.features.length:3).map((se,xe)=>o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(tl,{className:"w-4 h-4 text-green-400 flex-shrink-0 mt-0.5"}),o.jsx("span",{className:"text-gray-300 text-xs",children:se})]},xe))}),ie.features.length>3&&o.jsx("button",{onClick:se=>{se.stopPropagation(),c(be?null:ie.name)},className:"flex items-center gap-1 text-primary-500 hover:text-primary-400 font-semibold text-xs mt-3 transition-colors",children:be?o.jsxs(o.Fragment,{children:[o.jsx(iC,{className:"w-4 h-4"}),"Show Less"]}):o.jsxs(o.Fragment,{children:[o.jsx(gb,{className:"w-4 h-4"}),"Show All (",ie.features.length,")"]})}),o.jsx("button",{onClick:se=>{se.stopPropagation(),q(ie.name)},className:`w-full mt-4 py-2 px-4 rounded-lg font-bold transition-colors ${Ee?"bg-green-600 hover:bg-green-700 text-white":"bg-primary-600 hover:bg-primary-700 text-white"}`,children:Ee?" Selected":"Select"})]})},ie.name)})}),DV(e.tier)&&o.jsx("div",{className:"mb-6 p-4 bg-gradient-to-r from-green-900/20 to-emerald-900/20 border border-green-600/40 rounded-lg",children:o.jsxs("p",{className:"text-green-300 text-sm sm:text-base font-medium",children:[" ",DV(e.tier)]})}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:RV(e.tier).map((ie,Ae)=>{const be=d===ie.name;return o.jsxs("div",{onClick:()=>re(ie),className:`bg-dark-800 border-2 rounded-xl p-6 sm:p-8 flex flex-col cursor-pointer transition-all relative ${be?"border-green-500 bg-green-900/20 ring-2 ring-green-500/30":ie.popular?"border-primary-600 card-glow hover:border-primary-500":"border-gray-700 hover:border-primary-600/50"}`,children:[be&&o.jsx("div",{className:"absolute -top-3 right-4",children:o.jsxs("div",{className:"inline-flex items-center gap-1 bg-green-500 px-3 py-1 rounded-full",children:[o.jsx(tl,{className:"w-4 h-4 text-white"}),o.jsx("span",{className:"text-white font-bold text-xs",children:"SELECTED"})]})}),ie.popular&&!be&&o.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2",children:o.jsxs("div",{className:"inline-flex items-center gap-1 bg-primary-600 px-4 py-1 rounded-full",children:[o.jsx(KB,{className:"w-4 h-4 text-white fill-white"}),o.jsx("span",{className:"text-white font-bold text-xs",children:"MOST POPULAR"})]})}),o.jsxs("div",{className:`mb-6 ${ie.popular||be?"mt-2":""}`,children:[o.jsx("h4",{className:"text-xl sm:text-2xl font-black text-white mb-2",children:ie.name}),o.jsxs("div",{className:"flex items-baseline gap-1 mb-3",children:[o.jsx("span",{className:"text-3xl sm:text-4xl font-black text-primary-500",children:ie.price}),o.jsx("span",{className:"text-gray-400 text-sm",children:"/event"})]})]}),o.jsx("ul",{className:"space-y-3 mb-6 flex-1",children:ie.features.map((Ee,ge)=>o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx(tl,{className:"w-5 h-5 text-green-400 flex-shrink-0 mt-0.5"}),o.jsx("span",{className:"text-gray-300 text-sm",children:Ee})]},ge))}),o.jsxs("div",{className:"mt-auto",children:[o.jsxs("p",{className:"text-xs text-gray-500 italic mb-4",children:["Best for: ",ie.bestFor]}),o.jsx("button",{onClick:Ee=>{Ee.stopPropagation(),re(ie)},className:`w-full py-3 px-4 rounded-lg font-bold transition-colors ${be?"bg-green-600 hover:bg-green-700 text-white":"bg-primary-600 hover:bg-primary-700 text-white"}`,children:be?" Package Selected":"Select Package"})]})]},ie.name)})}),o.jsx("div",{className:"mt-6 text-center",children:o.jsx("p",{className:"text-gray-500 text-xs sm:text-sm",children:a4e(e.tier)})})]}),o.jsxs(Kr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.62},className:"bg-gradient-to-br from-orange-900/30 to-red-900/30 border border-orange-700/50 rounded-xl p-6 sm:p-8 mb-8",children:[o.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[o.jsx(GB,{className:"w-8 h-8 sm:w-10 sm:h-10 text-orange-400 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl sm:text-2xl font-black text-white mb-2",children:"What's It Costing You to NOT Have Professional Streaming?"}),o.jsx("p",{className:"text-sm sm:text-base text-gray-300",children:"Every event without professional media is a missed opportunity"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"p-4 bg-dark-900/40 rounded-lg border border-orange-700/30",children:[o.jsx("div",{className:"text-3xl mb-2",children:""}),o.jsx("h4",{className:"font-bold text-white mb-2 text-sm sm:text-base",children:"Sponsor Deals Passing You By"}),o.jsx("p",{className:"text-xs sm:text-sm text-gray-300",children:"Brands partner with promotions that have professional content they can share"})]}),o.jsxs("div",{className:"p-4 bg-dark-900/40 rounded-lg border border-orange-700/30",children:[o.jsx("div",{className:"text-3xl mb-2",children:""}),o.jsx("h4",{className:"font-bold text-white mb-2 text-sm sm:text-base",children:"Audience Growth Stalling"}),o.jsx("p",{className:"text-xs sm:text-sm text-gray-300",children:"Fighters and fans choose events with the best media presence"})]}),o.jsxs("div",{className:"p-4 bg-dark-900/40 rounded-lg border border-orange-700/30",children:[o.jsx("div",{className:"text-3xl mb-2",children:""}),o.jsx("h4",{className:"font-bold text-white mb-2 text-sm sm:text-base",children:"PPV Revenue You're Missing"}),o.jsxs("p",{className:"text-xs sm:text-sm text-gray-300",children:["$",W.toLocaleString(),"/year in free revenue you could be earning  at zero cost"]})]})]})]}),o.jsx(Kr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.66},className:"mb-6 p-6 sm:p-8 bg-gradient-to-r from-green-900/30 to-emerald-900/30 border-2 border-green-600/50 rounded-xl",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx(pN,{className:"w-10 h-10 sm:w-12 sm:h-12 text-green-400 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl sm:text-2xl font-black text-white mb-3",children:"Our Guarantee"}),o.jsxs("p",{className:"text-base sm:text-lg text-gray-200 leading-relaxed",children:["If you're not completely satisfied with your first event's media package,",o.jsx("strong",{className:"text-green-300",children:" we'll re-edit the entire deliverable at no additional cost."})]}),o.jsx("p",{className:"text-sm text-green-400 mt-3 font-semibold",children:"Your success is our reputation. We stand behind our work."})]})]})}),o.jsxs(Kr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.7},className:"mb-8 p-5 bg-gradient-to-r from-amber-900/30 to-orange-900/30 border border-amber-600/50 rounded-xl",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("div",{className:"w-3 h-3 bg-amber-500 rounded-full animate-pulse"}),o.jsx("p",{className:"text-amber-400 font-bold text-sm sm:text-base",children:"Production Slots Filling Fast"})]}),o.jsxs("p",{className:"text-gray-300 text-sm sm:text-base",children:["We produce 3 weekends per month and book 8-12 weeks ahead. ",o.jsx("strong",{className:"text-amber-300",children:"Q2 2026 currently has 4 available production slots remaining."})]})]}),o.jsxs("div",{className:"flex gap-3 sm:gap-4",children:[o.jsxs("button",{onClick:n,className:"flex-1 flex items-center justify-center gap-2 px-6 py-4 bg-dark-700 hover:bg-dark-600 text-white font-bold rounded-lg transition-all text-base sm:text-lg",children:[o.jsx(N0,{className:"w-5 h-5"}),o.jsx("span",{className:"hidden sm:inline",children:"Back"})]}),o.jsxs("button",{onClick:r,className:"flex-[2] flex items-center justify-center gap-2 px-6 py-4 bg-primary-600 hover:bg-primary-700 text-white font-bold rounded-lg transition-all hover:scale-[1.02] text-base sm:text-lg",children:["Get Your Proposal",o.jsx(uf,{className:"w-5 h-5"})]})]})]})})},l4e=({contactData:t,updateContactData:e,formData:r,onSubmit:n,prevStep:i})=>{const[s,a]=k.useState(!1),[c,u]=k.useState(null),l=t.name.trim().length>0&&t.email.trim().length>0,d=async()=>{u(null),a(!0);try{await n()}catch(f){console.error("Error saving contact:",f),u("Something went wrong. Please try again.")}finally{a(!1)}};return o.jsx("section",{className:"min-h-screen py-12 sm:py-20 px-4",children:o.jsxs("div",{className:"max-w-2xl mx-auto",children:[o.jsxs(Kr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-8 sm:mb-12",children:[o.jsxs("div",{className:"inline-flex items-center gap-3 mb-4",children:[o.jsx(Xv,{className:"w-10 h-10 sm:w-12 sm:h-12 text-primary-500"}),o.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-black",children:o.jsx("span",{className:"text-gradient",children:"Get Your Custom Proposal"})})]}),o.jsxs("p",{className:"text-base sm:text-lg md:text-xl text-gray-300 max-w-xl mx-auto",children:["We've built a personalized media strategy for ",o.jsx("span",{className:"text-primary-400 font-bold",children:r.orgName}),". Enter your details to receive your full proposal."]})]}),o.jsxs(Kr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"bg-dark-800 border border-gray-700 rounded-xl p-6 sm:p-8",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm sm:text-base font-semibold mb-3 text-gray-300",children:o.jsxs("span",{className:"inline-flex items-center gap-2",children:[o.jsx(Xv,{className:"w-4 h-4 text-primary-500"}),"Your Name ",o.jsx("span",{className:"text-primary-500",children:"*"})]})}),o.jsx("input",{type:"text",value:t.name,onChange:f=>e("name",f.target.value),className:"w-full px-4 py-3 sm:py-4 bg-dark-900 border-2 border-gray-700 rounded-lg text-white text-base sm:text-lg focus:border-primary-600 focus:outline-none transition-colors",placeholder:"John Smith"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm sm:text-base font-semibold mb-3 text-gray-300",children:o.jsxs("span",{className:"inline-flex items-center gap-2",children:[o.jsx(hf,{className:"w-4 h-4 text-primary-500"}),"Email Address ",o.jsx("span",{className:"text-primary-500",children:"*"})]})}),o.jsx("input",{type:"email",value:t.email,onChange:f=>e("email",f.target.value),className:"w-full px-4 py-3 sm:py-4 bg-dark-900 border-2 border-gray-700 rounded-lg text-white text-base sm:text-lg focus:border-primary-600 focus:outline-none transition-colors",placeholder:"john@organization.com"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm sm:text-base font-semibold mb-3 text-gray-300",children:o.jsxs("span",{className:"inline-flex items-center gap-2",children:[o.jsx(oC,{className:"w-4 h-4 text-gray-500"}),"Phone Number ",o.jsx("span",{className:"text-gray-500 text-sm font-normal",children:"(optional)"})]})}),o.jsx("input",{type:"tel",value:t.phone,onChange:f=>e("phone",f.target.value),className:"w-full px-4 py-3 sm:py-4 bg-dark-900 border-2 border-gray-700 rounded-lg text-white text-base sm:text-lg focus:border-primary-600 focus:outline-none transition-colors",placeholder:"04XX XXX XXX (optional)"})]})]}),c&&o.jsx("div",{className:"mt-4 p-3 bg-red-900/30 border border-red-700 rounded-lg text-red-200 text-sm",children:c}),o.jsxs("div",{className:"mt-6 flex items-start gap-3 p-4 bg-dark-900/50 rounded-lg",children:[o.jsx(pN,{className:"w-5 h-5 text-gray-500 flex-shrink-0 mt-0.5"}),o.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"Your information is kept confidential and only used to prepare your custom proposal. We'll never share your details with third parties."})]}),o.jsxs("div",{className:"mt-8 flex gap-3",children:[o.jsxs("button",{onClick:i,className:"flex-1 flex items-center justify-center gap-2 px-6 py-4 bg-dark-700 hover:bg-dark-600 text-white font-bold rounded-lg transition-all text-base sm:text-lg",children:[o.jsx(N0,{className:"w-5 h-5"}),"Back"]}),o.jsxs("button",{onClick:d,disabled:!l||s,className:"flex-[2] flex items-center justify-center gap-2 px-6 py-4 bg-primary-600 hover:bg-primary-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white font-bold rounded-lg transition-all hover:scale-[1.02] text-base sm:text-lg",children:[s?"Saving...":"Continue",!s&&o.jsx(uf,{className:"w-5 h-5"})]})]})]})]})})};var CL={exports:{}},DS={exports:{}};var c4e=DS.exports,MV;function u4e(){return MV||(MV=1,(function(t,e){(function(r,n){t.exports=n()})(c4e,(function(){var r=function(M,I){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Q,$){Q.__proto__=$}||function(Q,$){for(var pe in $)Object.prototype.hasOwnProperty.call($,pe)&&(Q[pe]=$[pe])},r(M,I)};function n(M,I){if(typeof I!="function"&&I!==null)throw new TypeError("Class extends value "+String(I)+" is not a constructor or null");r(M,I);function Q(){this.constructor=M}M.prototype=I===null?Object.create(I):(Q.prototype=I.prototype,new Q)}var i=function(){return i=Object.assign||function(I){for(var Q,$=1,pe=arguments.length;$<pe;$++){Q=arguments[$];for(var Ne in Q)Object.prototype.hasOwnProperty.call(Q,Ne)&&(I[Ne]=Q[Ne])}return I},i.apply(this,arguments)};function s(M,I,Q,$){function pe(Ne){return Ne instanceof Q?Ne:new Q(function($e){$e(Ne)})}return new(Q||(Q=Promise))(function(Ne,$e){function ut(Xt){try{Mt($.next(Xt))}catch(lr){$e(lr)}}function dt(Xt){try{Mt($.throw(Xt))}catch(lr){$e(lr)}}function Mt(Xt){Xt.done?Ne(Xt.value):pe(Xt.value).then(ut,dt)}Mt(($=$.apply(M,[])).next())})}function a(M,I){var Q={label:0,sent:function(){if(Ne[0]&1)throw Ne[1];return Ne[1]},trys:[],ops:[]},$,pe,Ne,$e;return $e={next:ut(0),throw:ut(1),return:ut(2)},typeof Symbol=="function"&&($e[Symbol.iterator]=function(){return this}),$e;function ut(Mt){return function(Xt){return dt([Mt,Xt])}}function dt(Mt){if($)throw new TypeError("Generator is already executing.");for(;Q;)try{if($=1,pe&&(Ne=Mt[0]&2?pe.return:Mt[0]?pe.throw||((Ne=pe.return)&&Ne.call(pe),0):pe.next)&&!(Ne=Ne.call(pe,Mt[1])).done)return Ne;switch(pe=0,Ne&&(Mt=[Mt[0]&2,Ne.value]),Mt[0]){case 0:case 1:Ne=Mt;break;case 4:return Q.label++,{value:Mt[1],done:!1};case 5:Q.label++,pe=Mt[1],Mt=[0];continue;case 7:Mt=Q.ops.pop(),Q.trys.pop();continue;default:if(Ne=Q.trys,!(Ne=Ne.length>0&&Ne[Ne.length-1])&&(Mt[0]===6||Mt[0]===2)){Q=0;continue}if(Mt[0]===3&&(!Ne||Mt[1]>Ne[0]&&Mt[1]<Ne[3])){Q.label=Mt[1];break}if(Mt[0]===6&&Q.label<Ne[1]){Q.label=Ne[1],Ne=Mt;break}if(Ne&&Q.label<Ne[2]){Q.label=Ne[2],Q.ops.push(Mt);break}Ne[2]&&Q.ops.pop(),Q.trys.pop();continue}Mt=I.call(M,Q)}catch(Xt){Mt=[6,Xt],pe=0}finally{$=Ne=0}if(Mt[0]&5)throw Mt[1];return{value:Mt[0]?Mt[1]:void 0,done:!0}}}function c(M,I,Q){if(arguments.length===2)for(var $=0,pe=I.length,Ne;$<pe;$++)(Ne||!($ in I))&&(Ne||(Ne=Array.prototype.slice.call(I,0,$)),Ne[$]=I[$]);return M.concat(Ne||I)}for(var u=(function(){function M(I,Q,$,pe){this.left=I,this.top=Q,this.width=$,this.height=pe}return M.prototype.add=function(I,Q,$,pe){return new M(this.left+I,this.top+Q,this.width+$,this.height+pe)},M.fromClientRect=function(I,Q){return new M(Q.left+I.windowBounds.left,Q.top+I.windowBounds.top,Q.width,Q.height)},M.fromDOMRectList=function(I,Q){var $=Array.from(Q).find(function(pe){return pe.width!==0});return $?new M($.left+I.windowBounds.left,$.top+I.windowBounds.top,$.width,$.height):M.EMPTY},M.EMPTY=new M(0,0,0,0),M})(),l=function(M,I){return u.fromClientRect(M,I.getBoundingClientRect())},d=function(M){var I=M.body,Q=M.documentElement;if(!I||!Q)throw new Error("Unable to get document size");var $=Math.max(Math.max(I.scrollWidth,Q.scrollWidth),Math.max(I.offsetWidth,Q.offsetWidth),Math.max(I.clientWidth,Q.clientWidth)),pe=Math.max(Math.max(I.scrollHeight,Q.scrollHeight),Math.max(I.offsetHeight,Q.offsetHeight),Math.max(I.clientHeight,Q.clientHeight));return new u(0,0,$,pe)},f=function(M){for(var I=[],Q=0,$=M.length;Q<$;){var pe=M.charCodeAt(Q++);if(pe>=55296&&pe<=56319&&Q<$){var Ne=M.charCodeAt(Q++);(Ne&64512)===56320?I.push(((pe&1023)<<10)+(Ne&1023)+65536):(I.push(pe),Q--)}else I.push(pe)}return I},A=function(){for(var M=[],I=0;I<arguments.length;I++)M[I]=arguments[I];if(String.fromCodePoint)return String.fromCodePoint.apply(String,M);var Q=M.length;if(!Q)return"";for(var $=[],pe=-1,Ne="";++pe<Q;){var $e=M[pe];$e<=65535?$.push($e):($e-=65536,$.push(($e>>10)+55296,$e%1024+56320)),(pe+1===Q||$.length>16384)&&(Ne+=String.fromCharCode.apply(String,$),$.length=0)}return Ne},p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",v=typeof Uint8Array>"u"?[]:new Uint8Array(256),y=0;y<p.length;y++)v[p.charCodeAt(y)]=y;for(var x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",w=typeof Uint8Array>"u"?[]:new Uint8Array(256),E=0;E<x.length;E++)w[x.charCodeAt(E)]=E;for(var T=function(M){var I=M.length*.75,Q=M.length,$,pe=0,Ne,$e,ut,dt;M[M.length-1]==="="&&(I--,M[M.length-2]==="="&&I--);var Mt=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(I):new Array(I),Xt=Array.isArray(Mt)?Mt:new Uint8Array(Mt);for($=0;$<Q;$+=4)Ne=w[M.charCodeAt($)],$e=w[M.charCodeAt($+1)],ut=w[M.charCodeAt($+2)],dt=w[M.charCodeAt($+3)],Xt[pe++]=Ne<<2|$e>>4,Xt[pe++]=($e&15)<<4|ut>>2,Xt[pe++]=(ut&3)<<6|dt&63;return Mt},C=function(M){for(var I=M.length,Q=[],$=0;$<I;$+=2)Q.push(M[$+1]<<8|M[$]);return Q},j=function(M){for(var I=M.length,Q=[],$=0;$<I;$+=4)Q.push(M[$+3]<<24|M[$+2]<<16|M[$+1]<<8|M[$]);return Q},P=5,U=11,W=2,q=U-P,re=65536>>P,ie=1<<P,Ae=ie-1,be=1024>>P,Ee=re+be,ge=Ee,se=32,xe=ge+se,ce=65536>>U,Me=1<<q,Oe=Me-1,we=function(M,I,Q){return M.slice?M.slice(I,Q):new Uint16Array(Array.prototype.slice.call(M,I,Q))},ue=function(M,I,Q){return M.slice?M.slice(I,Q):new Uint32Array(Array.prototype.slice.call(M,I,Q))},ye=function(M,I){var Q=T(M),$=Array.isArray(Q)?j(Q):new Uint32Array(Q),pe=Array.isArray(Q)?C(Q):new Uint16Array(Q),Ne=24,$e=we(pe,Ne/2,$[4]/2),ut=$[5]===2?we(pe,(Ne+$[4])/2):ue($,Math.ceil((Ne+$[4])/4));return new Le($[0],$[1],$[2],$[3],$e,ut)},Le=(function(){function M(I,Q,$,pe,Ne,$e){this.initialValue=I,this.errorValue=Q,this.highStart=$,this.highValueIndex=pe,this.index=Ne,this.data=$e}return M.prototype.get=function(I){var Q;if(I>=0){if(I<55296||I>56319&&I<=65535)return Q=this.index[I>>P],Q=(Q<<W)+(I&Ae),this.data[Q];if(I<=65535)return Q=this.index[re+(I-55296>>P)],Q=(Q<<W)+(I&Ae),this.data[Q];if(I<this.highStart)return Q=xe-ce+(I>>U),Q=this.index[Q],Q+=I>>P&Oe,Q=this.index[Q],Q=(Q<<W)+(I&Ae),this.data[Q];if(I<=1114111)return this.data[this.highValueIndex]}return this.errorValue},M})(),He="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Fe=typeof Uint8Array>"u"?[]:new Uint8Array(256),At=0;At<He.length;At++)Fe[He.charCodeAt(At)]=At;var pt="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",Pe=50,st=1,et=2,We=3,gt=4,Ge=5,Ct=7,Et=8,Ut=9,ir=10,on=11,kr=12,rn=13,wn=14,Mn=15,dn=16,pn=17,mn=18,Kn=19,Zn=20,Li=21,ot=22,Wt=23,jr=24,rr=25,Ht=26,fr=27,Hr=28,Gr=29,Ln=30,ln=31,Jn=32,en=33,Dr=34,An=35,cn=36,Pn=37,li=38,Ts=39,Rs=40,Cs=41,ei=42,nn=43,ss=[9001,65288],ea="!",En="",Tn="",Ds=ye(pt),$s=[Ln,cn],Ms=[st,et,We,Ge],rs=[ir,Et],Ys=[fr,Ht],Os=Ms.concat(rs),Qa=[li,Ts,Rs,Dr,An],ds=[Mn,rn],yu=function(M,I){I===void 0&&(I="strict");var Q=[],$=[],pe=[];return M.forEach(function(Ne,$e){var ut=Ds.get(Ne);if(ut>Pe?(pe.push(!0),ut-=Pe):pe.push(!1),["normal","auto","loose"].indexOf(I)!==-1&&[8208,8211,12316,12448].indexOf(Ne)!==-1)return $.push($e),Q.push(dn);if(ut===gt||ut===on){if($e===0)return $.push($e),Q.push(Ln);var dt=Q[$e-1];return Os.indexOf(dt)===-1?($.push($[$e-1]),Q.push(dt)):($.push($e),Q.push(Ln))}if($.push($e),ut===ln)return Q.push(I==="strict"?Li:Pn);if(ut===ei||ut===Gr)return Q.push(Ln);if(ut===nn)return Ne>=131072&&Ne<=196605||Ne>=196608&&Ne<=262141?Q.push(Pn):Q.push(Ln);Q.push(ut)}),[$,Q,pe]},to=function(M,I,Q,$){var pe=$[Q];if(Array.isArray(M)?M.indexOf(pe)!==-1:M===pe)for(var Ne=Q;Ne<=$.length;){Ne++;var $e=$[Ne];if($e===I)return!0;if($e!==ir)break}if(pe===ir)for(var Ne=Q;Ne>0;){Ne--;var ut=$[Ne];if(Array.isArray(M)?M.indexOf(ut)!==-1:M===ut)for(var dt=Q;dt<=$.length;){dt++;var $e=$[dt];if($e===I)return!0;if($e!==ir)break}if(ut!==ir)break}return!1},Ml=function(M,I){for(var Q=M;Q>=0;){var $=I[Q];if($===ir)Q--;else return $}return 0},tu=function(M,I,Q,$,pe){if(Q[$]===0)return En;var Ne=$-1;if(Array.isArray(pe)&&pe[Ne]===!0)return En;var $e=Ne-1,ut=Ne+1,dt=I[Ne],Mt=$e>=0?I[$e]:0,Xt=I[ut];if(dt===et&&Xt===We)return En;if(Ms.indexOf(dt)!==-1)return ea;if(Ms.indexOf(Xt)!==-1||rs.indexOf(Xt)!==-1)return En;if(Ml(Ne,I)===Et)return Tn;if(Ds.get(M[Ne])===on||(dt===Jn||dt===en)&&Ds.get(M[ut])===on||dt===Ct||Xt===Ct||dt===Ut||[ir,rn,Mn].indexOf(dt)===-1&&Xt===Ut||[pn,mn,Kn,jr,Hr].indexOf(Xt)!==-1||Ml(Ne,I)===ot||to(Wt,ot,Ne,I)||to([pn,mn],Li,Ne,I)||to(kr,kr,Ne,I))return En;if(dt===ir)return Tn;if(dt===Wt||Xt===Wt)return En;if(Xt===dn||dt===dn)return Tn;if([rn,Mn,Li].indexOf(Xt)!==-1||dt===wn||Mt===cn&&ds.indexOf(dt)!==-1||dt===Hr&&Xt===cn||Xt===Zn||$s.indexOf(Xt)!==-1&&dt===rr||$s.indexOf(dt)!==-1&&Xt===rr||dt===fr&&[Pn,Jn,en].indexOf(Xt)!==-1||[Pn,Jn,en].indexOf(dt)!==-1&&Xt===Ht||$s.indexOf(dt)!==-1&&Ys.indexOf(Xt)!==-1||Ys.indexOf(dt)!==-1&&$s.indexOf(Xt)!==-1||[fr,Ht].indexOf(dt)!==-1&&(Xt===rr||[ot,Mn].indexOf(Xt)!==-1&&I[ut+1]===rr)||[ot,Mn].indexOf(dt)!==-1&&Xt===rr||dt===rr&&[rr,Hr,jr].indexOf(Xt)!==-1)return En;if([rr,Hr,jr,pn,mn].indexOf(Xt)!==-1)for(var lr=Ne;lr>=0;){var Rr=I[lr];if(Rr===rr)return En;if([Hr,jr].indexOf(Rr)!==-1)lr--;else break}if([fr,Ht].indexOf(Xt)!==-1)for(var lr=[pn,mn].indexOf(dt)!==-1?$e:Ne;lr>=0;){var Rr=I[lr];if(Rr===rr)return En;if([Hr,jr].indexOf(Rr)!==-1)lr--;else break}if(li===dt&&[li,Ts,Dr,An].indexOf(Xt)!==-1||[Ts,Dr].indexOf(dt)!==-1&&[Ts,Rs].indexOf(Xt)!==-1||[Rs,An].indexOf(dt)!==-1&&Xt===Rs||Qa.indexOf(dt)!==-1&&[Zn,Ht].indexOf(Xt)!==-1||Qa.indexOf(Xt)!==-1&&dt===fr||$s.indexOf(dt)!==-1&&$s.indexOf(Xt)!==-1||dt===jr&&$s.indexOf(Xt)!==-1||$s.concat(rr).indexOf(dt)!==-1&&Xt===ot&&ss.indexOf(M[ut])===-1||$s.concat(rr).indexOf(Xt)!==-1&&dt===mn)return En;if(dt===Cs&&Xt===Cs){for(var Vn=Q[Ne],gn=1;Vn>0&&(Vn--,I[Vn]===Cs);)gn++;if(gn%2!==0)return En}return dt===Jn&&Xt===en?En:Tn},ml=function(M,I){I||(I={lineBreak:"normal",wordBreak:"normal"});var Q=yu(M,I.lineBreak),$=Q[0],pe=Q[1],Ne=Q[2];(I.wordBreak==="break-all"||I.wordBreak==="break-word")&&(pe=pe.map(function(ut){return[rr,Ln,ei].indexOf(ut)!==-1?Pn:ut}));var $e=I.wordBreak==="keep-all"?Ne.map(function(ut,dt){return ut&&M[dt]>=19968&&M[dt]<=40959}):void 0;return[$,pe,$e]},ta=(function(){function M(I,Q,$,pe){this.codePoints=I,this.required=Q===ea,this.start=$,this.end=pe}return M.prototype.slice=function(){return A.apply(void 0,this.codePoints.slice(this.start,this.end))},M})(),Ya=function(M,I){var Q=f(M),$=ml(Q,I),pe=$[0],Ne=$[1],$e=$[2],ut=Q.length,dt=0,Mt=0;return{next:function(){if(Mt>=ut)return{done:!0,value:null};for(var Xt=En;Mt<ut&&(Xt=tu(Q,Ne,pe,++Mt,$e))===En;);if(Xt!==En||Mt===ut){var lr=new ta(Q,Xt,dt,Mt);return dt=Mt,{value:lr,done:!1}}return{done:!0,value:null}}}},Gs=1,ba=2,Fs=4,kl=8,po=10,ro=47,pl=92,Fl=9,fc=32,Hs=34,ci=61,js=35,Ta=36,Va=37,Ca=39,gi=40,Xn=41,hs=95,wa=45,Ho=33,Hi=60,Qo=62,Ea=64,qs=91,fs=93,So=61,za=123,Qs=63,qa=125,go=124,no=126,Vo=128,$t=65533,V=42,ne=43,oe=44,F=58,z=59,te=46,he=0,Te=8,Ue=11,ct=14,B=31,N=127,D=-1,K=48,X=97,ee=101,ve=102,de=117,fe=122,ke=65,Qe=69,Xe=70,lt=85,Ce=90,_t=function(M){return M>=K&&M<=57},at=function(M){return M>=55296&&M<=57343},Tt=function(M){return _t(M)||M>=ke&&M<=Xe||M>=X&&M<=ve},rt=function(M){return M>=X&&M<=fe},Bt=function(M){return M>=ke&&M<=Ce},Yt=function(M){return rt(M)||Bt(M)},kt=function(M){return M>=Vo},tt=function(M){return M===po||M===Fl||M===fc},Vt=function(M){return Yt(M)||kt(M)||M===hs},Er=function(M){return Vt(M)||_t(M)||M===wa},nr=function(M){return M>=he&&M<=Te||M===Ue||M>=ct&&M<=B||M===N},Rt=function(M,I){return M!==pl?!1:I!==po},yr=function(M,I,Q){return M===wa?Vt(I)||Rt(I,Q):Vt(M)?!0:!!(M===pl&&Rt(M,I))},it=function(M,I,Q){return M===ne||M===wa?_t(I)?!0:I===te&&_t(Q):_t(M===te?I:M)},ft=function(M){var I=0,Q=1;(M[I]===ne||M[I]===wa)&&(M[I]===wa&&(Q=-1),I++);for(var $=[];_t(M[I]);)$.push(M[I++]);var pe=$.length?parseInt(A.apply(void 0,$),10):0;M[I]===te&&I++;for(var Ne=[];_t(M[I]);)Ne.push(M[I++]);var $e=Ne.length,ut=$e?parseInt(A.apply(void 0,Ne),10):0;(M[I]===Qe||M[I]===ee)&&I++;var dt=1;(M[I]===ne||M[I]===wa)&&(M[I]===wa&&(dt=-1),I++);for(var Mt=[];_t(M[I]);)Mt.push(M[I++]);var Xt=Mt.length?parseInt(A.apply(void 0,Mt),10):0;return Q*(pe+ut*Math.pow(10,-$e))*Math.pow(10,dt*Xt)},Ot={type:2},Pt={type:3},Ar={type:4},Tr={type:13},Lr={type:8},ar={type:21},Ir={type:9},hn={type:10},Zr={type:11},Ye={type:12},St={type:14},Nt={type:23},Kt={type:1},qt={type:25},cr={type:24},Cr={type:26},Sr={type:27},Vr={type:28},un={type:29},bn={type:31},Rn={type:32},yi=(function(){function M(){this._value=[]}return M.prototype.write=function(I){this._value=this._value.concat(f(I))},M.prototype.read=function(){for(var I=[],Q=this.consumeToken();Q!==Rn;)I.push(Q),Q=this.consumeToken();return I},M.prototype.consumeToken=function(){var I=this.consumeCodePoint();switch(I){case Hs:return this.consumeStringToken(Hs);case js:var Q=this.peekCodePoint(0),$=this.peekCodePoint(1),pe=this.peekCodePoint(2);if(Er(Q)||Rt($,pe)){var Ne=yr(Q,$,pe)?ba:Gs,$e=this.consumeName();return{type:5,value:$e,flags:Ne}}break;case Ta:if(this.peekCodePoint(0)===ci)return this.consumeCodePoint(),Tr;break;case Ca:return this.consumeStringToken(Ca);case gi:return Ot;case Xn:return Pt;case V:if(this.peekCodePoint(0)===ci)return this.consumeCodePoint(),St;break;case ne:if(it(I,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(I),this.consumeNumericToken();break;case oe:return Ar;case wa:var ut=I,dt=this.peekCodePoint(0),Mt=this.peekCodePoint(1);if(it(ut,dt,Mt))return this.reconsumeCodePoint(I),this.consumeNumericToken();if(yr(ut,dt,Mt))return this.reconsumeCodePoint(I),this.consumeIdentLikeToken();if(dt===wa&&Mt===Qo)return this.consumeCodePoint(),this.consumeCodePoint(),cr;break;case te:if(it(I,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(I),this.consumeNumericToken();break;case ro:if(this.peekCodePoint(0)===V)for(this.consumeCodePoint();;){var Xt=this.consumeCodePoint();if(Xt===V&&(Xt=this.consumeCodePoint(),Xt===ro))return this.consumeToken();if(Xt===D)return this.consumeToken()}break;case F:return Cr;case z:return Sr;case Hi:if(this.peekCodePoint(0)===Ho&&this.peekCodePoint(1)===wa&&this.peekCodePoint(2)===wa)return this.consumeCodePoint(),this.consumeCodePoint(),qt;break;case Ea:var lr=this.peekCodePoint(0),Rr=this.peekCodePoint(1),Vn=this.peekCodePoint(2);if(yr(lr,Rr,Vn)){var $e=this.consumeName();return{type:7,value:$e}}break;case qs:return Vr;case pl:if(Rt(I,this.peekCodePoint(0)))return this.reconsumeCodePoint(I),this.consumeIdentLikeToken();break;case fs:return un;case So:if(this.peekCodePoint(0)===ci)return this.consumeCodePoint(),Lr;break;case za:return Zr;case qa:return Ye;case de:case lt:var gn=this.peekCodePoint(0),On=this.peekCodePoint(1);return gn===ne&&(Tt(On)||On===Qs)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(I),this.consumeIdentLikeToken();case go:if(this.peekCodePoint(0)===ci)return this.consumeCodePoint(),Ir;if(this.peekCodePoint(0)===go)return this.consumeCodePoint(),ar;break;case no:if(this.peekCodePoint(0)===ci)return this.consumeCodePoint(),hn;break;case D:return Rn}return tt(I)?(this.consumeWhiteSpace(),bn):_t(I)?(this.reconsumeCodePoint(I),this.consumeNumericToken()):Vt(I)?(this.reconsumeCodePoint(I),this.consumeIdentLikeToken()):{type:6,value:A(I)}},M.prototype.consumeCodePoint=function(){var I=this._value.shift();return typeof I>"u"?-1:I},M.prototype.reconsumeCodePoint=function(I){this._value.unshift(I)},M.prototype.peekCodePoint=function(I){return I>=this._value.length?-1:this._value[I]},M.prototype.consumeUnicodeRangeToken=function(){for(var I=[],Q=this.consumeCodePoint();Tt(Q)&&I.length<6;)I.push(Q),Q=this.consumeCodePoint();for(var $=!1;Q===Qs&&I.length<6;)I.push(Q),Q=this.consumeCodePoint(),$=!0;if($){var pe=parseInt(A.apply(void 0,I.map(function(dt){return dt===Qs?K:dt})),16),Ne=parseInt(A.apply(void 0,I.map(function(dt){return dt===Qs?Xe:dt})),16);return{type:30,start:pe,end:Ne}}var $e=parseInt(A.apply(void 0,I),16);if(this.peekCodePoint(0)===wa&&Tt(this.peekCodePoint(1))){this.consumeCodePoint(),Q=this.consumeCodePoint();for(var ut=[];Tt(Q)&&ut.length<6;)ut.push(Q),Q=this.consumeCodePoint();var Ne=parseInt(A.apply(void 0,ut),16);return{type:30,start:$e,end:Ne}}else return{type:30,start:$e,end:$e}},M.prototype.consumeIdentLikeToken=function(){var I=this.consumeName();return I.toLowerCase()==="url"&&this.peekCodePoint(0)===gi?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===gi?(this.consumeCodePoint(),{type:19,value:I}):{type:20,value:I}},M.prototype.consumeUrlToken=function(){var I=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===D)return{type:22,value:""};var Q=this.peekCodePoint(0);if(Q===Ca||Q===Hs){var $=this.consumeStringToken(this.consumeCodePoint());return $.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===D||this.peekCodePoint(0)===Xn)?(this.consumeCodePoint(),{type:22,value:$.value}):(this.consumeBadUrlRemnants(),Nt)}for(;;){var pe=this.consumeCodePoint();if(pe===D||pe===Xn)return{type:22,value:A.apply(void 0,I)};if(tt(pe))return this.consumeWhiteSpace(),this.peekCodePoint(0)===D||this.peekCodePoint(0)===Xn?(this.consumeCodePoint(),{type:22,value:A.apply(void 0,I)}):(this.consumeBadUrlRemnants(),Nt);if(pe===Hs||pe===Ca||pe===gi||nr(pe))return this.consumeBadUrlRemnants(),Nt;if(pe===pl)if(Rt(pe,this.peekCodePoint(0)))I.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Nt;else I.push(pe)}},M.prototype.consumeWhiteSpace=function(){for(;tt(this.peekCodePoint(0));)this.consumeCodePoint()},M.prototype.consumeBadUrlRemnants=function(){for(;;){var I=this.consumeCodePoint();if(I===Xn||I===D)return;Rt(I,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},M.prototype.consumeStringSlice=function(I){for(var Q=5e4,$="";I>0;){var pe=Math.min(Q,I);$+=A.apply(void 0,this._value.splice(0,pe)),I-=pe}return this._value.shift(),$},M.prototype.consumeStringToken=function(I){var Q="",$=0;do{var pe=this._value[$];if(pe===D||pe===void 0||pe===I)return Q+=this.consumeStringSlice($),{type:0,value:Q};if(pe===po)return this._value.splice(0,$),Kt;if(pe===pl){var Ne=this._value[$+1];Ne!==D&&Ne!==void 0&&(Ne===po?(Q+=this.consumeStringSlice($),$=-1,this._value.shift()):Rt(pe,Ne)&&(Q+=this.consumeStringSlice($),Q+=A(this.consumeEscapedCodePoint()),$=-1))}$++}while(!0)},M.prototype.consumeNumber=function(){var I=[],Q=Fs,$=this.peekCodePoint(0);for(($===ne||$===wa)&&I.push(this.consumeCodePoint());_t(this.peekCodePoint(0));)I.push(this.consumeCodePoint());$=this.peekCodePoint(0);var pe=this.peekCodePoint(1);if($===te&&_t(pe))for(I.push(this.consumeCodePoint(),this.consumeCodePoint()),Q=kl;_t(this.peekCodePoint(0));)I.push(this.consumeCodePoint());$=this.peekCodePoint(0),pe=this.peekCodePoint(1);var Ne=this.peekCodePoint(2);if(($===Qe||$===ee)&&((pe===ne||pe===wa)&&_t(Ne)||_t(pe)))for(I.push(this.consumeCodePoint(),this.consumeCodePoint()),Q=kl;_t(this.peekCodePoint(0));)I.push(this.consumeCodePoint());return[ft(I),Q]},M.prototype.consumeNumericToken=function(){var I=this.consumeNumber(),Q=I[0],$=I[1],pe=this.peekCodePoint(0),Ne=this.peekCodePoint(1),$e=this.peekCodePoint(2);if(yr(pe,Ne,$e)){var ut=this.consumeName();return{type:15,number:Q,flags:$,unit:ut}}return pe===Va?(this.consumeCodePoint(),{type:16,number:Q,flags:$}):{type:17,number:Q,flags:$}},M.prototype.consumeEscapedCodePoint=function(){var I=this.consumeCodePoint();if(Tt(I)){for(var Q=A(I);Tt(this.peekCodePoint(0))&&Q.length<6;)Q+=A(this.consumeCodePoint());tt(this.peekCodePoint(0))&&this.consumeCodePoint();var $=parseInt(Q,16);return $===0||at($)||$>1114111?$t:$}return I===D?$t:I},M.prototype.consumeName=function(){for(var I="";;){var Q=this.consumeCodePoint();if(Er(Q))I+=A(Q);else if(Rt(Q,this.peekCodePoint(0)))I+=A(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(Q),I}},M})(),mt=(function(){function M(I){this._tokens=I}return M.create=function(I){var Q=new yi;return Q.write(I),new M(Q.read())},M.parseValue=function(I){return M.create(I).parseComponentValue()},M.parseValues=function(I){return M.create(I).parseComponentValues()},M.prototype.parseComponentValue=function(){for(var I=this.consumeToken();I.type===31;)I=this.consumeToken();if(I.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(I);var Q=this.consumeComponentValue();do I=this.consumeToken();while(I.type===31);if(I.type===32)return Q;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},M.prototype.parseComponentValues=function(){for(var I=[];;){var Q=this.consumeComponentValue();if(Q.type===32)return I;I.push(Q),I.push()}},M.prototype.consumeComponentValue=function(){var I=this.consumeToken();switch(I.type){case 11:case 28:case 2:return this.consumeSimpleBlock(I.type);case 19:return this.consumeFunction(I)}return I},M.prototype.consumeSimpleBlock=function(I){for(var Q={type:I,values:[]},$=this.consumeToken();;){if($.type===32||ga($,I))return Q;this.reconsumeToken($),Q.values.push(this.consumeComponentValue()),$=this.consumeToken()}},M.prototype.consumeFunction=function(I){for(var Q={name:I.value,values:[],type:18};;){var $=this.consumeToken();if($.type===32||$.type===3)return Q;this.reconsumeToken($),Q.values.push(this.consumeComponentValue())}},M.prototype.consumeToken=function(){var I=this._tokens.shift();return typeof I>"u"?Rn:I},M.prototype.reconsumeToken=function(I){this._tokens.unshift(I)},M})(),_n=function(M){return M.type===15},Ri=function(M){return M.type===17},Sn=function(M){return M.type===20},tn=function(M){return M.type===0},ji=function(M,I){return Sn(M)&&M.value===I},Fn=function(M){return M.type!==31},Hn=function(M){return M.type!==31&&M.type!==4},$n=function(M){var I=[],Q=[];return M.forEach(function($){if($.type===4){if(Q.length===0)throw new Error("Error parsing function args, zero tokens for arg");I.push(Q),Q=[];return}$.type!==31&&Q.push($)}),Q.length&&I.push(Q),I},ga=function(M,I){return I===11&&M.type===12||I===28&&M.type===29?!0:I===2&&M.type===3},Di=function(M){return M.type===17||M.type===15},Gn=function(M){return M.type===16||Di(M)},ns=function(M){return M.length>1?[M[0],M[1]]:[M[0]]},_i={type:17,number:0,flags:Fs},Un={type:16,number:50,flags:Fs},ki={type:16,number:100,flags:Fs},Wn=function(M,I,Q){var $=M[0],pe=M[1];return[Gi($,I),Gi(typeof pe<"u"?pe:$,Q)]},Gi=function(M,I){if(M.type===16)return M.number/100*I;if(_n(M))switch(M.unit){case"rem":case"em":return 16*M.number;default:return M.number}return M.number},is="deg",Zi="grad",gs="rad",ja="turn",xi={name:"angle",parse:function(M,I){if(I.type===15)switch(I.unit){case is:return Math.PI*I.number/180;case Zi:return Math.PI/200*I.number;case gs:return I.number;case ja:return Math.PI*2*I.number}throw new Error("Unsupported angle type")}},Ws=function(M){return M.type===15&&(M.unit===is||M.unit===Zi||M.unit===gs||M.unit===ja)},Qi=function(M){var I=M.filter(Sn).map(function(Q){return Q.value}).join(" ");switch(I){case"to bottom right":case"to right bottom":case"left top":case"top left":return[_i,_i];case"to top":case"bottom":return ai(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[_i,ki];case"to right":case"left":return ai(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[ki,ki];case"to bottom":case"top":return ai(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[ki,_i];case"to left":case"right":return ai(270)}return 0},ai=function(M){return Math.PI*M/180},ua={name:"color",parse:function(M,I){if(I.type===18){var Q=bi[I.name];if(typeof Q>"u")throw new Error('Attempting to parse an unsupported color function "'+I.name+'"');return Q(M,I.values)}if(I.type===5){if(I.value.length===3){var $=I.value.substring(0,1),pe=I.value.substring(1,2),Ne=I.value.substring(2,3);return ls(parseInt($+$,16),parseInt(pe+pe,16),parseInt(Ne+Ne,16),1)}if(I.value.length===4){var $=I.value.substring(0,1),pe=I.value.substring(1,2),Ne=I.value.substring(2,3),$e=I.value.substring(3,4);return ls(parseInt($+$,16),parseInt(pe+pe,16),parseInt(Ne+Ne,16),parseInt($e+$e,16)/255)}if(I.value.length===6){var $=I.value.substring(0,2),pe=I.value.substring(2,4),Ne=I.value.substring(4,6);return ls(parseInt($,16),parseInt(pe,16),parseInt(Ne,16),1)}if(I.value.length===8){var $=I.value.substring(0,2),pe=I.value.substring(2,4),Ne=I.value.substring(4,6),$e=I.value.substring(6,8);return ls(parseInt($,16),parseInt(pe,16),parseInt(Ne,16),parseInt($e,16)/255)}}if(I.type===20){var ut=Xa[I.value.toUpperCase()];if(typeof ut<"u")return ut}return Xa.TRANSPARENT}},Ii=function(M){return(255&M)===0},yn=function(M){var I=255&M,Q=255&M>>8,$=255&M>>16,pe=255&M>>24;return I<255?"rgba("+pe+","+$+","+Q+","+I/255+")":"rgb("+pe+","+$+","+Q+")"},ls=function(M,I,Q,$){return(M<<24|I<<16|Q<<8|Math.round($*255)<<0)>>>0},xu=function(M,I){if(M.type===17)return M.number;if(M.type===16){var Q=I===3?1:255;return I===3?M.number/100*Q:Math.round(M.number/100*Q)}return 0},io=function(M,I){var Q=I.filter(Hn);if(Q.length===3){var $=Q.map(xu),pe=$[0],Ne=$[1],$e=$[2];return ls(pe,Ne,$e,1)}if(Q.length===4){var ut=Q.map(xu),pe=ut[0],Ne=ut[1],$e=ut[2],dt=ut[3];return ls(pe,Ne,$e,dt)}return 0};function zo(M,I,Q){return Q<0&&(Q+=1),Q>=1&&(Q-=1),Q<1/6?(I-M)*Q*6+M:Q<1/2?I:Q<2/3?(I-M)*6*(2/3-Q)+M:M}var Jl=function(M,I){var Q=I.filter(Hn),$=Q[0],pe=Q[1],Ne=Q[2],$e=Q[3],ut=($.type===17?ai($.number):xi.parse(M,$))/(Math.PI*2),dt=Gn(pe)?pe.number/100:0,Mt=Gn(Ne)?Ne.number/100:0,Xt=typeof $e<"u"&&Gn($e)?Gi($e,1):1;if(dt===0)return ls(Mt*255,Mt*255,Mt*255,1);var lr=Mt<=.5?Mt*(dt+1):Mt+dt-Mt*dt,Rr=Mt*2-lr,Vn=zo(Rr,lr,ut+1/3),gn=zo(Rr,lr,ut),On=zo(Rr,lr,ut-1/3);return ls(Vn*255,gn*255,On*255,Xt)},bi={hsl:Jl,hsla:Jl,rgb:io,rgba:io},Ra=function(M,I){return ua.parse(M,mt.create(I).parseComponentValue())},Xa={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},Ul={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(M,I){return I.map(function(Q){if(Sn(Q))switch(Q.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},$l={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},da=function(M,I){var Q=ua.parse(M,I[0]),$=I[1];return $&&Gn($)?{color:Q,stop:$}:{color:Q,stop:null}},vo=function(M,I){var Q=M[0],$=M[M.length-1];Q.stop===null&&(Q.stop=_i),$.stop===null&&($.stop=ki);for(var pe=[],Ne=0,$e=0;$e<M.length;$e++){var ut=M[$e].stop;if(ut!==null){var dt=Gi(ut,I);dt>Ne?pe.push(dt):pe.push(Ne),Ne=dt}else pe.push(null)}for(var Mt=null,$e=0;$e<pe.length;$e++){var Xt=pe[$e];if(Xt===null)Mt===null&&(Mt=$e);else if(Mt!==null){for(var lr=$e-Mt,Rr=pe[Mt-1],Vn=(Xt-Rr)/(lr+1),gn=1;gn<=lr;gn++)pe[Mt+gn-1]=Vn*gn;Mt=null}}return M.map(function(On,Bi){var di=On.color;return{color:di,stop:Math.max(Math.min(1,pe[Bi]/I),0)}})},Za=function(M,I,Q){var $=I/2,pe=Q/2,Ne=Gi(M[0],I)-$,$e=pe-Gi(M[1],Q);return(Math.atan2($e,Ne)+Math.PI*2)%(Math.PI*2)},$c=function(M,I,Q){var $=typeof M=="number"?M:Za(M,I,Q),pe=Math.abs(I*Math.sin($))+Math.abs(Q*Math.cos($)),Ne=I/2,$e=Q/2,ut=pe/2,dt=Math.sin($-Math.PI/2)*ut,Mt=Math.cos($-Math.PI/2)*ut;return[pe,Ne-Mt,Ne+Mt,$e-dt,$e+dt]},To=function(M,I){return Math.sqrt(M*M+I*I)},Ac=function(M,I,Q,$,pe){var Ne=[[0,0],[0,I],[M,0],[M,I]];return Ne.reduce(function($e,ut){var dt=ut[0],Mt=ut[1],Xt=To(Q-dt,$-Mt);return(pe?Xt<$e.optimumDistance:Xt>$e.optimumDistance)?{optimumCorner:ut,optimumDistance:Xt}:$e},{optimumDistance:pe?1/0:-1/0,optimumCorner:null}).optimumCorner},Ka=function(M,I,Q,$,pe){var Ne=0,$e=0;switch(M.size){case 0:M.shape===0?Ne=$e=Math.min(Math.abs(I),Math.abs(I-$),Math.abs(Q),Math.abs(Q-pe)):M.shape===1&&(Ne=Math.min(Math.abs(I),Math.abs(I-$)),$e=Math.min(Math.abs(Q),Math.abs(Q-pe)));break;case 2:if(M.shape===0)Ne=$e=Math.min(To(I,Q),To(I,Q-pe),To(I-$,Q),To(I-$,Q-pe));else if(M.shape===1){var ut=Math.min(Math.abs(Q),Math.abs(Q-pe))/Math.min(Math.abs(I),Math.abs(I-$)),dt=Ac($,pe,I,Q,!0),Mt=dt[0],Xt=dt[1];Ne=To(Mt-I,(Xt-Q)/ut),$e=ut*Ne}break;case 1:M.shape===0?Ne=$e=Math.max(Math.abs(I),Math.abs(I-$),Math.abs(Q),Math.abs(Q-pe)):M.shape===1&&(Ne=Math.max(Math.abs(I),Math.abs(I-$)),$e=Math.max(Math.abs(Q),Math.abs(Q-pe)));break;case 3:if(M.shape===0)Ne=$e=Math.max(To(I,Q),To(I,Q-pe),To(I-$,Q),To(I-$,Q-pe));else if(M.shape===1){var ut=Math.max(Math.abs(Q),Math.abs(Q-pe))/Math.max(Math.abs(I),Math.abs(I-$)),lr=Ac($,pe,I,Q,!1),Mt=lr[0],Xt=lr[1];Ne=To(Mt-I,(Xt-Q)/ut),$e=ut*Ne}break}return Array.isArray(M.size)&&(Ne=Gi(M.size[0],$),$e=M.size.length===2?Gi(M.size[1],pe):Ne),[Ne,$e]},Hl=function(M,I){var Q=ai(180),$=[];return $n(I).forEach(function(pe,Ne){if(Ne===0){var $e=pe[0];if($e.type===20&&$e.value==="to"){Q=Qi(pe);return}else if(Ws($e)){Q=xi.parse(M,$e);return}}var ut=da(M,pe);$.push(ut)}),{angle:Q,stops:$,type:1}},Ql=function(M,I){var Q=ai(180),$=[];return $n(I).forEach(function(pe,Ne){if(Ne===0){var $e=pe[0];if($e.type===20&&["top","left","right","bottom"].indexOf($e.value)!==-1){Q=Qi(pe);return}else if(Ws($e)){Q=(xi.parse(M,$e)+ai(270))%ai(360);return}}var ut=da(M,pe);$.push(ut)}),{angle:Q,stops:$,type:1}},Il=function(M,I){var Q=ai(180),$=[],pe=1,Ne=0,$e=3,ut=[];return $n(I).forEach(function(dt,Mt){var Xt=dt[0];if(Mt===0){if(Sn(Xt)&&Xt.value==="linear"){pe=1;return}else if(Sn(Xt)&&Xt.value==="radial"){pe=2;return}}if(Xt.type===18){if(Xt.name==="from"){var lr=ua.parse(M,Xt.values[0]);$.push({stop:_i,color:lr})}else if(Xt.name==="to"){var lr=ua.parse(M,Xt.values[0]);$.push({stop:ki,color:lr})}else if(Xt.name==="color-stop"){var Rr=Xt.values.filter(Hn);if(Rr.length===2){var lr=ua.parse(M,Rr[1]),Vn=Rr[0];Ri(Vn)&&$.push({stop:{type:16,number:Vn.number*100,flags:Vn.flags},color:lr})}}}}),pe===1?{angle:(Q+ai(180))%ai(360),stops:$,type:pe}:{size:$e,shape:Ne,stops:$,position:ut,type:pe}},gd="closest-side",ec="farthest-side",Vl="closest-corner",mc="farthest-corner",vd="circle",zl="ellipse",Kl="cover",bu="contain",Gl=function(M,I){var Q=0,$=3,pe=[],Ne=[];return $n(I).forEach(function($e,ut){var dt=!0;if(ut===0){var Mt=!1;dt=$e.reduce(function(lr,Rr){if(Mt)if(Sn(Rr))switch(Rr.value){case"center":return Ne.push(Un),lr;case"top":case"left":return Ne.push(_i),lr;case"right":case"bottom":return Ne.push(ki),lr}else(Gn(Rr)||Di(Rr))&&Ne.push(Rr);else if(Sn(Rr))switch(Rr.value){case vd:return Q=0,!1;case zl:return Q=1,!1;case"at":return Mt=!0,!1;case gd:return $=0,!1;case Kl:case ec:return $=1,!1;case bu:case Vl:return $=2,!1;case mc:return $=3,!1}else if(Di(Rr)||Gn(Rr))return Array.isArray($)||($=[]),$.push(Rr),!1;return lr},dt)}if(dt){var Xt=da(M,$e);pe.push(Xt)}}),{size:$,shape:Q,stops:pe,position:Ne,type:2}},Io=function(M,I){var Q=0,$=3,pe=[],Ne=[];return $n(I).forEach(function($e,ut){var dt=!0;if(ut===0?dt=$e.reduce(function(Xt,lr){if(Sn(lr))switch(lr.value){case"center":return Ne.push(Un),!1;case"top":case"left":return Ne.push(_i),!1;case"right":case"bottom":return Ne.push(ki),!1}else if(Gn(lr)||Di(lr))return Ne.push(lr),!1;return Xt},dt):ut===1&&(dt=$e.reduce(function(Xt,lr){if(Sn(lr))switch(lr.value){case vd:return Q=0,!1;case zl:return Q=1,!1;case bu:case gd:return $=0,!1;case ec:return $=1,!1;case Vl:return $=2,!1;case Kl:case mc:return $=3,!1}else if(Di(lr)||Gn(lr))return Array.isArray($)||($=[]),$.push(lr),!1;return Xt},dt)),dt){var Mt=da(M,$e);pe.push(Mt)}}),{size:$,shape:Q,stops:pe,position:Ne,type:2}},gl=function(M){return M.type===1},ru=function(M){return M.type===2},pc={name:"image",parse:function(M,I){if(I.type===22){var Q={url:I.value,type:0};return M.cache.addImage(I.value),Q}if(I.type===18){var $=tc[I.name];if(typeof $>"u")throw new Error('Attempting to parse an unsupported image function "'+I.name+'"');return $(M,I.values)}throw new Error("Unsupported image type "+I.type)}};function Ud(M){return!(M.type===20&&M.value==="none")&&(M.type!==18||!!tc[M.name])}var tc={"linear-gradient":Hl,"-moz-linear-gradient":Ql,"-ms-linear-gradient":Ql,"-o-linear-gradient":Ql,"-webkit-linear-gradient":Ql,"radial-gradient":Gl,"-moz-radial-gradient":Io,"-ms-radial-gradient":Io,"-o-radial-gradient":Io,"-webkit-radial-gradient":Io,"-webkit-gradient":Il},zu={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(M,I){if(I.length===0)return[];var Q=I[0];return Q.type===20&&Q.value==="none"?[]:I.filter(function($){return Hn($)&&Ud($)}).map(function($){return pc.parse(M,$)})}},yd={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(M,I){return I.map(function(Q){if(Sn(Q))switch(Q.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},vl={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(M,I){return $n(I).map(function(Q){return Q.filter(Gn)}).map(ns)}},nh={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(M,I){return $n(I).map(function(Q){return Q.filter(Sn).map(function($){return $.value}).join(" ")}).map(Ll)}},Ll=function(M){switch(M){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}},Fi;(function(M){M.AUTO="auto",M.CONTAIN="contain",M.COVER="cover"})(Fi||(Fi={}));var gc={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(M,I){return $n(I).map(function(Q){return Q.filter(Hc)})}},Hc=function(M){return Sn(M)||Gn(M)},Qc=function(M){return{name:"border-"+M+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Ku=Qc("top"),vc=Qc("right"),Lo=Qc("bottom"),nu=Qc("left"),g=function(M){return{name:"border-radius-"+M,initialValue:"0 0",prefix:!1,type:1,parse:function(I,Q){return ns(Q.filter(Gn))}}},_=g("top-left"),H=g("top-right"),ae=g("bottom-right"),_e=g("bottom-left"),Ve=function(M){return{name:"border-"+M+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(I,Q){switch(Q){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},jt=Ve("top"),Zt=Ve("right"),xr=Ve("bottom"),$r=Ve("left"),vn=function(M){return{name:"border-"+M+"-width",initialValue:"0",type:0,prefix:!1,parse:function(I,Q){return _n(Q)?Q.number:0}}},ui=vn("top"),As=vn("right"),Da=vn("bottom"),Co=vn("left"),il={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Xs={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(M,I){return I==="rtl"?1:0}},oa={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(M,I){return I.filter(Sn).reduce(function(Q,$){return Q|Cn($.value)},0)}},Cn=function(M){switch(M){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Gu={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(M,I){switch(I){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},yc={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(M,I){return I.type===20&&I.value==="normal"?0:I.type===17||I.type===15?I.number:0}},xd;(function(M){M.NORMAL="normal",M.STRICT="strict"})(xd||(xd={}));var Wl={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(M,I){return I==="strict"?xd.STRICT:xd.NORMAL}},wu={name:"line-height",initialValue:"normal",prefix:!1,type:4},so=function(M,I){return Sn(M)&&M.value==="normal"?1.2*I:M.type===17?I*M.number:Gn(M)?Gi(M,I):I},Eu={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(M,I){return I.type===20&&I.value==="none"?null:pc.parse(M,I)}},Ko={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(M,I){return I==="inside"?0:1}},bd={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(M,I){switch(I){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},xc=function(M){return{name:"margin-"+M,initialValue:"0",prefix:!1,type:4}},$d=xc("top"),Yl=xc("right"),_u=xc("bottom"),bc=xc("left"),Vc={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(M,I){return I.filter(Sn).map(function(Q){switch(Q.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}})}},yh={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(M,I){return I==="break-word"?"break-word":"normal"}},iu=function(M){return{name:"padding-"+M,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},wd=iu("top"),ih=iu("right"),zc=iu("bottom"),yo=iu("left"),xh={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(M,I){switch(I){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},eA={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(M,I){switch(I){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},RA={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(M,I){return I.length===1&&ji(I[0],"none")?[]:$n(I).map(function(Q){for(var $={color:Xa.TRANSPARENT,offsetX:_i,offsetY:_i,blur:_i},pe=0,Ne=0;Ne<Q.length;Ne++){var $e=Q[Ne];Di($e)?(pe===0?$.offsetX=$e:pe===1?$.offsetY=$e:$.blur=$e,pe++):$.color=ua.parse(M,$e)}return $})}},sh={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(M,I){switch(I){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},ah={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(M,I){if(I.type===20&&I.value==="none")return null;if(I.type===18){var Q=bh[I.name];if(typeof Q>"u")throw new Error('Attempting to parse an unsupported transform function "'+I.name+'"');return Q(I.values)}return null}},Bo=function(M){var I=M.filter(function(Q){return Q.type===17}).map(function(Q){return Q.number});return I.length===6?I:null},oh=function(M){var I=M.filter(function(dt){return dt.type===17}).map(function(dt){return dt.number}),Q=I[0],$=I[1];I[2],I[3];var pe=I[4],Ne=I[5];I[6],I[7],I[8],I[9],I[10],I[11];var $e=I[12],ut=I[13];return I[14],I[15],I.length===16?[Q,$,pe,Ne,$e,ut]:null},bh={matrix:Bo,matrix3d:oh},le={type:16,number:50,flags:Fs},Re=[le,le],xt={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(M,I){var Q=I.filter(Gn);return Q.length!==2?Re:[Q[0],Q[1]]}},It={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(M,I){switch(I){case"hidden":return 1;case"collapse":return 2;default:return 0}}},Jt;(function(M){M.NORMAL="normal",M.BREAK_ALL="break-all",M.KEEP_ALL="keep-all"})(Jt||(Jt={}));for(var Mr={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(M,I){switch(I){case"break-all":return Jt.BREAK_ALL;case"keep-all":return Jt.KEEP_ALL;default:return Jt.NORMAL}}},Yr={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(M,I){if(I.type===20)return{auto:!0,order:0};if(Ri(I))return{auto:!1,order:I.number};throw new Error("Invalid z-index number parsed")}},ti={name:"time",parse:function(M,I){if(I.type===15)switch(I.unit.toLowerCase()){case"s":return 1e3*I.number;case"ms":return I.number}throw new Error("Unsupported time type")}},ri={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(M,I){return Ri(I)?I.number:1}},Yi={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},as={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(M,I){return I.filter(Sn).map(function(Q){switch(Q.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(Q){return Q!==0})}},ra={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(M,I){var Q=[],$=[];return I.forEach(function(pe){switch(pe.type){case 20:case 0:Q.push(pe.value);break;case 17:Q.push(pe.number.toString());break;case 4:$.push(Q.join(" ")),Q.length=0;break}}),Q.length&&$.push(Q.join(" ")),$.map(function(pe){return pe.indexOf(" ")===-1?pe:"'"+pe+"'"})}},Ma={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Oo={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(M,I){return Ri(I)?I.number:Sn(I)&&I.value==="bold"?700:400}},Na={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(M,I){return I.filter(Sn).map(function(Q){return Q.value})}},Go={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(M,I){switch(I){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},O=function(M,I){return(M&I)!==0},Be={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(M,I){if(I.length===0)return[];var Q=I[0];return Q.type===20&&Q.value==="none"?[]:I}},J={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(M,I){if(I.length===0)return null;var Q=I[0];if(Q.type===20&&Q.value==="none")return null;for(var $=[],pe=I.filter(Fn),Ne=0;Ne<pe.length;Ne++){var $e=pe[Ne],ut=pe[Ne+1];if($e.type===20){var dt=ut&&Ri(ut)?ut.number:1;$.push({counter:$e.value,increment:dt})}}return $}},qe={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(M,I){if(I.length===0)return[];for(var Q=[],$=I.filter(Fn),pe=0;pe<$.length;pe++){var Ne=$[pe],$e=$[pe+1];if(Sn(Ne)&&Ne.value!=="none"){var ut=$e&&Ri($e)?$e.number:0;Q.push({counter:Ne.value,reset:ut})}}return Q}},wt={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(M,I){return I.filter(_n).map(function(Q){return ti.parse(M,Q)})}},bt={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(M,I){if(I.length===0)return null;var Q=I[0];if(Q.type===20&&Q.value==="none")return null;var $=[],pe=I.filter(tn);if(pe.length%2!==0)return null;for(var Ne=0;Ne<pe.length;Ne+=2){var $e=pe[Ne].value,ut=pe[Ne+1].value;$.push({open:$e,close:ut})}return $}},mr=function(M,I,Q){if(!M)return"";var $=M[Math.min(I,M.length-1)];return $?Q?$.open:$.close:""},zt={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(M,I){return I.length===1&&ji(I[0],"none")?[]:$n(I).map(function(Q){for(var $={color:255,offsetX:_i,offsetY:_i,blur:_i,spread:_i,inset:!1},pe=0,Ne=0;Ne<Q.length;Ne++){var $e=Q[Ne];ji($e,"inset")?$.inset=!0:Di($e)?(pe===0?$.offsetX=$e:pe===1?$.offsetY=$e:pe===2?$.blur=$e:$.spread=$e,pe++):$.color=ua.parse(M,$e)}return $})}},Dn={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(M,I){var Q=[0,1,2],$=[];return I.filter(Sn).forEach(function(pe){switch(pe.value){case"stroke":$.push(1);break;case"fill":$.push(0);break;case"markers":$.push(2);break}}),Q.forEach(function(pe){$.indexOf(pe)===-1&&$.push(pe)}),$}},Dt={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},pr={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(M,I){return _n(I)?I.number:0}},qi=(function(){function M(I,Q){var $,pe;this.animationDuration=Br(I,wt,Q.animationDuration),this.backgroundClip=Br(I,Ul,Q.backgroundClip),this.backgroundColor=Br(I,$l,Q.backgroundColor),this.backgroundImage=Br(I,zu,Q.backgroundImage),this.backgroundOrigin=Br(I,yd,Q.backgroundOrigin),this.backgroundPosition=Br(I,vl,Q.backgroundPosition),this.backgroundRepeat=Br(I,nh,Q.backgroundRepeat),this.backgroundSize=Br(I,gc,Q.backgroundSize),this.borderTopColor=Br(I,Ku,Q.borderTopColor),this.borderRightColor=Br(I,vc,Q.borderRightColor),this.borderBottomColor=Br(I,Lo,Q.borderBottomColor),this.borderLeftColor=Br(I,nu,Q.borderLeftColor),this.borderTopLeftRadius=Br(I,_,Q.borderTopLeftRadius),this.borderTopRightRadius=Br(I,H,Q.borderTopRightRadius),this.borderBottomRightRadius=Br(I,ae,Q.borderBottomRightRadius),this.borderBottomLeftRadius=Br(I,_e,Q.borderBottomLeftRadius),this.borderTopStyle=Br(I,jt,Q.borderTopStyle),this.borderRightStyle=Br(I,Zt,Q.borderRightStyle),this.borderBottomStyle=Br(I,xr,Q.borderBottomStyle),this.borderLeftStyle=Br(I,$r,Q.borderLeftStyle),this.borderTopWidth=Br(I,ui,Q.borderTopWidth),this.borderRightWidth=Br(I,As,Q.borderRightWidth),this.borderBottomWidth=Br(I,Da,Q.borderBottomWidth),this.borderLeftWidth=Br(I,Co,Q.borderLeftWidth),this.boxShadow=Br(I,zt,Q.boxShadow),this.color=Br(I,il,Q.color),this.direction=Br(I,Xs,Q.direction),this.display=Br(I,oa,Q.display),this.float=Br(I,Gu,Q.cssFloat),this.fontFamily=Br(I,ra,Q.fontFamily),this.fontSize=Br(I,Ma,Q.fontSize),this.fontStyle=Br(I,Go,Q.fontStyle),this.fontVariant=Br(I,Na,Q.fontVariant),this.fontWeight=Br(I,Oo,Q.fontWeight),this.letterSpacing=Br(I,yc,Q.letterSpacing),this.lineBreak=Br(I,Wl,Q.lineBreak),this.lineHeight=Br(I,wu,Q.lineHeight),this.listStyleImage=Br(I,Eu,Q.listStyleImage),this.listStylePosition=Br(I,Ko,Q.listStylePosition),this.listStyleType=Br(I,bd,Q.listStyleType),this.marginTop=Br(I,$d,Q.marginTop),this.marginRight=Br(I,Yl,Q.marginRight),this.marginBottom=Br(I,_u,Q.marginBottom),this.marginLeft=Br(I,bc,Q.marginLeft),this.opacity=Br(I,ri,Q.opacity);var Ne=Br(I,Vc,Q.overflow);this.overflowX=Ne[0],this.overflowY=Ne[Ne.length>1?1:0],this.overflowWrap=Br(I,yh,Q.overflowWrap),this.paddingTop=Br(I,wd,Q.paddingTop),this.paddingRight=Br(I,ih,Q.paddingRight),this.paddingBottom=Br(I,zc,Q.paddingBottom),this.paddingLeft=Br(I,yo,Q.paddingLeft),this.paintOrder=Br(I,Dn,Q.paintOrder),this.position=Br(I,eA,Q.position),this.textAlign=Br(I,xh,Q.textAlign),this.textDecorationColor=Br(I,Yi,($=Q.textDecorationColor)!==null&&$!==void 0?$:Q.color),this.textDecorationLine=Br(I,as,(pe=Q.textDecorationLine)!==null&&pe!==void 0?pe:Q.textDecoration),this.textShadow=Br(I,RA,Q.textShadow),this.textTransform=Br(I,sh,Q.textTransform),this.transform=Br(I,ah,Q.transform),this.transformOrigin=Br(I,xt,Q.transformOrigin),this.visibility=Br(I,It,Q.visibility),this.webkitTextStrokeColor=Br(I,Dt,Q.webkitTextStrokeColor),this.webkitTextStrokeWidth=Br(I,pr,Q.webkitTextStrokeWidth),this.wordBreak=Br(I,Mr,Q.wordBreak),this.zIndex=Br(I,Yr,Q.zIndex)}return M.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},M.prototype.isTransparent=function(){return Ii(this.backgroundColor)},M.prototype.isTransformed=function(){return this.transform!==null},M.prototype.isPositioned=function(){return this.position!==0},M.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},M.prototype.isFloating=function(){return this.float!==0},M.prototype.isInlineLevel=function(){return O(this.display,4)||O(this.display,33554432)||O(this.display,268435456)||O(this.display,536870912)||O(this.display,67108864)||O(this.display,134217728)},M})(),jn=(function(){function M(I,Q){this.content=Br(I,Be,Q.content),this.quotes=Br(I,bt,Q.quotes)}return M})(),Xr=(function(){function M(I,Q){this.counterIncrement=Br(I,J,Q.counterIncrement),this.counterReset=Br(I,qe,Q.counterReset)}return M})(),Br=function(M,I,Q){var $=new yi,pe=Q!==null&&typeof Q<"u"?Q.toString():I.initialValue;$.write(pe);var Ne=new mt($.read());switch(I.type){case 2:var $e=Ne.parseComponentValue();return I.parse(M,Sn($e)?$e.value:I.initialValue);case 0:return I.parse(M,Ne.parseComponentValue());case 1:return I.parse(M,Ne.parseComponentValues());case 4:return Ne.parseComponentValue();case 3:switch(I.format){case"angle":return xi.parse(M,Ne.parseComponentValue());case"color":return ua.parse(M,Ne.parseComponentValue());case"image":return pc.parse(M,Ne.parseComponentValue());case"length":var ut=Ne.parseComponentValue();return Di(ut)?ut:_i;case"length-percentage":var dt=Ne.parseComponentValue();return Gn(dt)?dt:_i;case"time":return ti.parse(M,Ne.parseComponentValue())}break}},Fa="data-html2canvas-debug",Wi=function(M){var I=M.getAttribute(Fa);switch(I){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Ni=function(M,I){var Q=Wi(M);return Q===1||I===Q},Vi=(function(){function M(I,Q){if(this.context=I,this.textNodes=[],this.elements=[],this.flags=0,Ni(Q,3))debugger;this.styles=new qi(I,window.getComputedStyle(Q,null)),wf(Q)&&(this.styles.animationDuration.some(function($){return $>0})&&(Q.style.animationDuration="0s"),this.styles.transform!==null&&(Q.style.transform="none")),this.bounds=l(this.context,Q),Ni(Q,4)&&(this.flags|=16)}return M})(),vs="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",xn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ys=typeof Uint8Array>"u"?[]:new Uint8Array(256),Ua=0;Ua<xn.length;Ua++)ys[xn.charCodeAt(Ua)]=Ua;for(var Si=function(M){var I=M.length*.75,Q=M.length,$,pe=0,Ne,$e,ut,dt;M[M.length-1]==="="&&(I--,M[M.length-2]==="="&&I--);var Mt=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(I):new Array(I),Xt=Array.isArray(Mt)?Mt:new Uint8Array(Mt);for($=0;$<Q;$+=4)Ne=ys[M.charCodeAt($)],$e=ys[M.charCodeAt($+1)],ut=ys[M.charCodeAt($+2)],dt=ys[M.charCodeAt($+3)],Xt[pe++]=Ne<<2|$e>>4,Xt[pe++]=($e&15)<<4|ut>>2,Xt[pe++]=(ut&3)<<6|dt&63;return Mt},na=function(M){for(var I=M.length,Q=[],$=0;$<I;$+=2)Q.push(M[$+1]<<8|M[$]);return Q},Ns=function(M){for(var I=M.length,Q=[],$=0;$<I;$+=4)Q.push(M[$+3]<<24|M[$+2]<<16|M[$+1]<<8|M[$]);return Q},ni=5,$i=11,rc=2,Wu=$i-ni,su=65536>>ni,yl=1<<ni,nc=yl-1,ao=1024>>ni,DA=su+ao,lh=DA,Kc=32,Gc=lh+Kc,Po=65536>>$i,xf=1<<Wu,Ed=xf-1,Ji=function(M,I,Q){return M.slice?M.slice(I,Q):new Uint16Array(Array.prototype.slice.call(M,I,Q))},ha=function(M,I,Q){return M.slice?M.slice(I,Q):new Uint32Array(Array.prototype.slice.call(M,I,Q))},xo=function(M,I){var Q=Si(M),$=Array.isArray(Q)?Ns(Q):new Uint32Array(Q),pe=Array.isArray(Q)?na(Q):new Uint16Array(Q),Ne=24,$e=Ji(pe,Ne/2,$[4]/2),ut=$[5]===2?Ji(pe,(Ne+$[4])/2):ha($,Math.ceil((Ne+$[4])/4));return new wh($[0],$[1],$[2],$[3],$e,ut)},wh=(function(){function M(I,Q,$,pe,Ne,$e){this.initialValue=I,this.errorValue=Q,this.highStart=$,this.highValueIndex=pe,this.index=Ne,this.data=$e}return M.prototype.get=function(I){var Q;if(I>=0){if(I<55296||I>56319&&I<=65535)return Q=this.index[I>>ni],Q=(Q<<rc)+(I&nc),this.data[Q];if(I<=65535)return Q=this.index[su+(I-55296>>ni)],Q=(Q<<rc)+(I&nc),this.data[Q];if(I<this.highStart)return Q=Gc-Po+(I>>$i),Q=this.index[Q],Q+=I>>ni&Ed,Q=this.index[Q],Q=(Q<<rc)+(I&nc),this.data[Q];if(I<=1114111)return this.data[this.highValueIndex]}return this.errorValue},M})(),Yu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_d=typeof Uint8Array>"u"?[]:new Uint8Array(256),wc=0;wc<Yu.length;wc++)_d[Yu.charCodeAt(wc)]=wc;var qu=1,ia=2,Ja=3,ks=4,xl=5,ch=7,tA=8,Fh=9,MA=10,Km=11,Gm=12,Wm=13,Wc=14,Wo=15,Ym=function(M){for(var I=[],Q=0,$=M.length;Q<$;){var pe=M.charCodeAt(Q++);if(pe>=55296&&pe<=56319&&Q<$){var Ne=M.charCodeAt(Q++);(Ne&64512)===56320?I.push(((pe&1023)<<10)+(Ne&1023)+65536):(I.push(pe),Q--)}else I.push(pe)}return I},Uh=function(){for(var M=[],I=0;I<arguments.length;I++)M[I]=arguments[I];if(String.fromCodePoint)return String.fromCodePoint.apply(String,M);var Q=M.length;if(!Q)return"";for(var $=[],pe=-1,Ne="";++pe<Q;){var $e=M[pe];$e<=65535?$.push($e):($e-=65536,$.push(($e>>10)+55296,$e%1024+56320)),(pe+1===Q||$.length>16384)&&(Ne+=String.fromCharCode.apply(String,$),$.length=0)}return Ne},qm=xo(vs),Su="",Hd="",Xm=function(M){return qm.get(M)},lg=function(M,I,Q){var $=Q-2,pe=I[$],Ne=I[Q-1],$e=I[Q];if(Ne===ia&&$e===Ja)return Su;if(Ne===ia||Ne===Ja||Ne===ks||$e===ia||$e===Ja||$e===ks)return Hd;if(Ne===tA&&[tA,Fh,Km,Gm].indexOf($e)!==-1||(Ne===Km||Ne===Fh)&&($e===Fh||$e===MA)||(Ne===Gm||Ne===MA)&&$e===MA||$e===Wm||$e===xl||$e===ch||Ne===qu)return Su;if(Ne===Wm&&$e===Wc){for(;pe===xl;)pe=I[--$];if(pe===Wc)return Su}if(Ne===Wo&&$e===Wo){for(var ut=0;pe===Wo;)ut++,pe=I[--$];if(ut%2===0)return Su}return Hd},cg=function(M){var I=Ym(M),Q=I.length,$=0,pe=0,Ne=I.map(Xm);return{next:function(){if($>=Q)return{done:!0,value:null};for(var $e=Su;$<Q&&($e=lg(I,Ne,++$))===Su;);if($e!==Su||$===Q){var ut=Uh.apply(null,I.slice(pe,$));return pe=$,{value:ut,done:!1}}return{done:!0,value:null}}}},D0=function(M){for(var I=cg(M),Q=[],$;!($=I.next()).done;)$.value&&Q.push($.value.slice());return Q},M0=function(M){var I=123;if(M.createRange){var Q=M.createRange();if(Q.getBoundingClientRect){var $=M.createElement("boundtest");$.style.height=I+"px",$.style.display="block",M.body.appendChild($),Q.selectNode($);var pe=Q.getBoundingClientRect(),Ne=Math.round(pe.height);if(M.body.removeChild($),Ne===I)return!0}}return!1},ug=function(M){var I=M.createElement("boundtest");I.style.width="50px",I.style.display="block",I.style.fontSize="12px",I.style.letterSpacing="0px",I.style.wordSpacing="0px",M.body.appendChild(I);var Q=M.createRange();I.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var $=I.firstChild,pe=f($.data).map(function(dt){return A(dt)}),Ne=0,$e={},ut=pe.every(function(dt,Mt){Q.setStart($,Ne),Q.setEnd($,Ne+dt.length);var Xt=Q.getBoundingClientRect();Ne+=dt.length;var lr=Xt.x>$e.x||Xt.y>$e.y;return $e=Xt,Mt===0?!0:lr});return M.body.removeChild(I),ut},Zm=function(){return typeof new Image().crossOrigin<"u"},Xu=function(){return typeof new XMLHttpRequest().responseType=="string"},Sd=function(M){var I=new Image,Q=M.createElement("canvas"),$=Q.getContext("2d");if(!$)return!1;I.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{$.drawImage(I,0,0),Q.toDataURL()}catch{return!1}return!0},rA=function(M){return M[0]===0&&M[1]===255&&M[2]===0&&M[3]===255},Jm=function(M){var I=M.createElement("canvas"),Q=100;I.width=Q,I.height=Q;var $=I.getContext("2d");if(!$)return Promise.reject(!1);$.fillStyle="rgb(0, 255, 0)",$.fillRect(0,0,Q,Q);var pe=new Image,Ne=I.toDataURL();pe.src=Ne;var $e=dg(Q,Q,0,0,pe);return $.fillStyle="red",$.fillRect(0,0,Q,Q),FA($e).then(function(ut){$.drawImage(ut,0,0);var dt=$.getImageData(0,0,Q,Q).data;$.fillStyle="red",$.fillRect(0,0,Q,Q);var Mt=M.createElement("div");return Mt.style.backgroundImage="url("+Ne+")",Mt.style.height=Q+"px",rA(dt)?FA(dg(Q,Q,0,0,Mt)):Promise.reject(!1)}).then(function(ut){return $.drawImage(ut,0,0),rA($.getImageData(0,0,Q,Q).data)}).catch(function(){return!1})},dg=function(M,I,Q,$,pe){var Ne="http://www.w3.org/2000/svg",$e=document.createElementNS(Ne,"svg"),ut=document.createElementNS(Ne,"foreignObject");return $e.setAttributeNS(null,"width",M.toString()),$e.setAttributeNS(null,"height",I.toString()),ut.setAttributeNS(null,"width","100%"),ut.setAttributeNS(null,"height","100%"),ut.setAttributeNS(null,"x",Q.toString()),ut.setAttributeNS(null,"y",$.toString()),ut.setAttributeNS(null,"externalResourcesRequired","true"),$e.appendChild(ut),ut.appendChild(pe),$e},FA=function(M){return new Promise(function(I,Q){var $=new Image;$.onload=function(){return I($)},$.onerror=Q,$.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(M))})},Bl={get SUPPORT_RANGE_BOUNDS(){var M=M0(document);return Object.defineProperty(Bl,"SUPPORT_RANGE_BOUNDS",{value:M}),M},get SUPPORT_WORD_BREAKING(){var M=Bl.SUPPORT_RANGE_BOUNDS&&ug(document);return Object.defineProperty(Bl,"SUPPORT_WORD_BREAKING",{value:M}),M},get SUPPORT_SVG_DRAWING(){var M=Sd(document);return Object.defineProperty(Bl,"SUPPORT_SVG_DRAWING",{value:M}),M},get SUPPORT_FOREIGNOBJECT_DRAWING(){var M=typeof Array.from=="function"&&typeof window.fetch=="function"?Jm(document):Promise.resolve(!1);return Object.defineProperty(Bl,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:M}),M},get SUPPORT_CORS_IMAGES(){var M=Zm();return Object.defineProperty(Bl,"SUPPORT_CORS_IMAGES",{value:M}),M},get SUPPORT_RESPONSE_TYPE(){var M=Xu();return Object.defineProperty(Bl,"SUPPORT_RESPONSE_TYPE",{value:M}),M},get SUPPORT_CORS_XHR(){var M="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Bl,"SUPPORT_CORS_XHR",{value:M}),M},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var M=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Bl,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:M}),M}},bf=(function(){function M(I,Q){this.text=I,this.bounds=Q}return M})(),hg=function(M,I,Q,$){var pe=by(I,Q),Ne=[],$e=0;return pe.forEach(function(ut){if(Q.textDecorationLine.length||ut.trim().length>0)if(Bl.SUPPORT_RANGE_BOUNDS){var dt=ep($,$e,ut.length).getClientRects();if(dt.length>1){var Mt=nA(ut),Xt=0;Mt.forEach(function(Rr){Ne.push(new bf(Rr,u.fromDOMRectList(M,ep($,Xt+$e,Rr.length).getClientRects()))),Xt+=Rr.length})}else Ne.push(new bf(ut,u.fromDOMRectList(M,dt)))}else{var lr=$.splitText(ut.length);Ne.push(new bf(ut,fg(M,$))),$=lr}else Bl.SUPPORT_RANGE_BOUNDS||($=$.splitText(ut.length));$e+=ut.length}),Ne},fg=function(M,I){var Q=I.ownerDocument;if(Q){var $=Q.createElement("html2canvaswrapper");$.appendChild(I.cloneNode(!0));var pe=I.parentNode;if(pe){pe.replaceChild($,I);var Ne=l(M,$);return $.firstChild&&pe.replaceChild($.firstChild,$),Ne}}return u.EMPTY},ep=function(M,I,Q){var $=M.ownerDocument;if(!$)throw new Error("Node has no owner document");var pe=$.createRange();return pe.setStart(M,I),pe.setEnd(M,I+Q),pe},nA=function(M){if(Bl.SUPPORT_NATIVE_TEXT_SEGMENTATION){var I=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(I.segment(M)).map(function(Q){return Q.segment})}return D0(M)},Ag=function(M,I){if(Bl.SUPPORT_NATIVE_TEXT_SEGMENTATION){var Q=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(Q.segment(M)).map(function($){return $.segment})}return F0(M,I)},by=function(M,I){return I.letterSpacing!==0?nA(M):Ag(M,I)},h1=[32,160,4961,65792,65793,4153,4241],F0=function(M,I){for(var Q=Ya(M,{lineBreak:I.lineBreak,wordBreak:I.overflowWrap==="break-word"?"break-word":I.wordBreak}),$=[],pe,Ne=function(){if(pe.value){var $e=pe.value.slice(),ut=f($e),dt="";ut.forEach(function(Mt){h1.indexOf(Mt)===-1?dt+=A(Mt):(dt.length&&$.push(dt),$.push(A(Mt)),dt="")}),dt.length&&$.push(dt)}};!(pe=Q.next()).done;)Ne();return $},UA=(function(){function M(I,Q,$){this.text=wy(Q.data,$.textTransform),this.textBounds=hg(I,this.text,$,Q)}return M})(),wy=function(M,I){switch(I){case 1:return M.toLowerCase();case 3:return M.replace(mg,pg);case 2:return M.toUpperCase();default:return M}},mg=/(^|\s|:|-|\(|\))([a-z])/g,pg=function(M,I,Q){return M.length>0?I+Q.toUpperCase():M},U0=(function(M){n(I,M);function I(Q,$){var pe=M.call(this,Q,$)||this;return pe.src=$.currentSrc||$.src,pe.intrinsicWidth=$.naturalWidth,pe.intrinsicHeight=$.naturalHeight,pe.context.cache.addImage(pe.src),pe}return I})(Vi),$A=(function(M){n(I,M);function I(Q,$){var pe=M.call(this,Q,$)||this;return pe.canvas=$,pe.intrinsicWidth=$.width,pe.intrinsicHeight=$.height,pe}return I})(Vi),gg=(function(M){n(I,M);function I(Q,$){var pe=M.call(this,Q,$)||this,Ne=new XMLSerializer,$e=l(Q,$);return $.setAttribute("width",$e.width+"px"),$.setAttribute("height",$e.height+"px"),pe.svg="data:image/svg+xml,"+encodeURIComponent(Ne.serializeToString($)),pe.intrinsicWidth=$.width.baseVal.value,pe.intrinsicHeight=$.height.baseVal.value,pe.context.cache.addImage(pe.svg),pe}return I})(Vi),iA=(function(M){n(I,M);function I(Q,$){var pe=M.call(this,Q,$)||this;return pe.value=$.value,pe}return I})(Vi),vg=(function(M){n(I,M);function I(Q,$){var pe=M.call(this,Q,$)||this;return pe.start=$.start,pe.reversed=typeof $.reversed=="boolean"&&$.reversed===!0,pe}return I})(Vi),Ey=[{type:15,flags:0,unit:"px",number:3}],$0=[{type:16,flags:0,number:50}],_y=function(M){return M.width>M.height?new u(M.left+(M.width-M.height)/2,M.top,M.height,M.height):M.width<M.height?new u(M.left,M.top+(M.height-M.width)/2,M.width,M.width):M},H0=function(M){var I=M.type===Eh?new Array(M.value.length+1).join(""):M.value;return I.length===0?M.placeholder||"":I},tp="checkbox",rp="radio",Eh="password",Td=707406591,Qd=(function(M){n(I,M);function I(Q,$){var pe=M.call(this,Q,$)||this;switch(pe.type=$.type.toLowerCase(),pe.checked=$.checked,pe.value=H0($),(pe.type===tp||pe.type===rp)&&(pe.styles.backgroundColor=3739148031,pe.styles.borderTopColor=pe.styles.borderRightColor=pe.styles.borderBottomColor=pe.styles.borderLeftColor=2779096575,pe.styles.borderTopWidth=pe.styles.borderRightWidth=pe.styles.borderBottomWidth=pe.styles.borderLeftWidth=1,pe.styles.borderTopStyle=pe.styles.borderRightStyle=pe.styles.borderBottomStyle=pe.styles.borderLeftStyle=1,pe.styles.backgroundClip=[0],pe.styles.backgroundOrigin=[0],pe.bounds=_y(pe.bounds)),pe.type){case tp:pe.styles.borderTopRightRadius=pe.styles.borderTopLeftRadius=pe.styles.borderBottomRightRadius=pe.styles.borderBottomLeftRadius=Ey;break;case rp:pe.styles.borderTopRightRadius=pe.styles.borderTopLeftRadius=pe.styles.borderBottomRightRadius=pe.styles.borderBottomLeftRadius=$0;break}return pe}return I})(Vi),Sy=(function(M){n(I,M);function I(Q,$){var pe=M.call(this,Q,$)||this,Ne=$.options[$.selectedIndex||0];return pe.value=Ne&&Ne.text||"",pe}return I})(Vi),np=(function(M){n(I,M);function I(Q,$){var pe=M.call(this,Q,$)||this;return pe.value=$.value,pe}return I})(Vi),_h=(function(M){n(I,M);function I(Q,$){var pe=M.call(this,Q,$)||this;pe.src=$.src,pe.width=parseInt($.width,10)||0,pe.height=parseInt($.height,10)||0,pe.backgroundColor=pe.styles.backgroundColor;try{if($.contentWindow&&$.contentWindow.document&&$.contentWindow.document.documentElement){pe.tree=yg(Q,$.contentWindow.document.documentElement);var Ne=$.contentWindow.document.documentElement?Ra(Q,getComputedStyle($.contentWindow.document.documentElement).backgroundColor):Xa.TRANSPARENT,$e=$.contentWindow.document.body?Ra(Q,getComputedStyle($.contentWindow.document.body).backgroundColor):Xa.TRANSPARENT;pe.backgroundColor=Ii(Ne)?Ii($e)?pe.styles.backgroundColor:$e:Ne}}catch{}return pe}return I})(Vi),Cd=["OL","UL","MENU"],HA=function(M,I,Q,$){for(var pe=I.firstChild,Ne=void 0;pe;pe=Ne)if(Ne=pe.nextSibling,xg(pe)&&pe.data.trim().length>0)Q.textNodes.push(new UA(M,pe,Q.styles));else if(Sh(pe))if(VA(pe)&&pe.assignedNodes)pe.assignedNodes().forEach(function(ut){return HA(M,ut,Q,$)});else{var $e=Q0(M,pe);$e.styles.isVisible()&&(Ty(pe,$e,$)?$e.flags|=4:Cy($e.styles)&&($e.flags|=2),Cd.indexOf(pe.tagName)!==-1&&($e.flags|=8),Q.elements.push($e),pe.slot,pe.shadowRoot?HA(M,pe.shadowRoot,$e,$):!ap(pe)&&!wg(pe)&&!op(pe)&&HA(M,pe,$e,$))}},Q0=function(M,I){return Tg(I)?new U0(M,I):_g(I)?new $A(M,I):wg(I)?new gg(M,I):QA(I)?new iA(M,I):bg(I)?new vg(M,I):ip(I)?new Qd(M,I):op(I)?new Sy(M,I):ap(I)?new np(M,I):z0(I)?new _h(M,I):new Vi(M,I)},yg=function(M,I){var Q=Q0(M,I);return Q.flags|=4,HA(M,I,Q,Q),Q},Ty=function(M,I,Q){return I.styles.isPositionedWithZIndex()||I.styles.opacity<1||I.styles.isTransformed()||Eg(M)&&Q.styles.isTransparent()},Cy=function(M){return M.isPositioned()||M.isFloating()},xg=function(M){return M.nodeType===Node.TEXT_NODE},Sh=function(M){return M.nodeType===Node.ELEMENT_NODE},wf=function(M){return Sh(M)&&typeof M.style<"u"&&!Th(M)},Th=function(M){return typeof M.className=="object"},QA=function(M){return M.tagName==="LI"},bg=function(M){return M.tagName==="OL"},ip=function(M){return M.tagName==="INPUT"},V0=function(M){return M.tagName==="HTML"},wg=function(M){return M.tagName==="svg"},Eg=function(M){return M.tagName==="BODY"},_g=function(M){return M.tagName==="CANVAS"},Sg=function(M){return M.tagName==="VIDEO"},Tg=function(M){return M.tagName==="IMG"},z0=function(M){return M.tagName==="IFRAME"},$h=function(M){return M.tagName==="STYLE"},sp=function(M){return M.tagName==="SCRIPT"},ap=function(M){return M.tagName==="TEXTAREA"},op=function(M){return M.tagName==="SELECT"},VA=function(M){return M.tagName==="SLOT"},R=function(M){return M.tagName.indexOf("-")>0},Y=(function(){function M(){this.counters={}}return M.prototype.getCounterValue=function(I){var Q=this.counters[I];return Q&&Q.length?Q[Q.length-1]:1},M.prototype.getCounterValues=function(I){var Q=this.counters[I];return Q||[]},M.prototype.pop=function(I){var Q=this;I.forEach(function($){return Q.counters[$].pop()})},M.prototype.parse=function(I){var Q=this,$=I.counterIncrement,pe=I.counterReset,Ne=!0;$!==null&&$.forEach(function(ut){var dt=Q.counters[ut.counter];dt&&ut.increment!==0&&(Ne=!1,dt.length||dt.push(1),dt[Math.max(0,dt.length-1)]+=ut.increment)});var $e=[];return Ne&&pe.forEach(function(ut){var dt=Q.counters[ut.counter];$e.push(ut.counter),dt||(dt=Q.counters[ut.counter]=[]),dt.push(ut.reset)}),$e},M})(),me={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Se={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},De={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Ke={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},ze=function(M,I,Q,$,pe,Ne){return M<I||M>Q?sn(M,pe,Ne.length>0):$.integers.reduce(function($e,ut,dt){for(;M>=ut;)M-=ut,$e+=$.values[dt];return $e},"")+Ne},Ze=function(M,I,Q,$){var pe="";do Q||M--,pe=$(M)+pe,M/=I;while(M*I>=I);return pe},nt=function(M,I,Q,$,pe){var Ne=Q-I+1;return(M<0?"-":"")+(Ze(Math.abs(M),Ne,$,function($e){return A(Math.floor($e%Ne)+I)})+pe)},yt=function(M,I,Q){Q===void 0&&(Q=". ");var $=I.length;return Ze(Math.abs(M),$,!1,function(pe){return I[Math.floor(pe%$)]})+Q},Ft=1,dr=2,vt=4,Gt=8,er=function(M,I,Q,$,pe,Ne){if(M<-9999||M>9999)return sn(M,4,pe.length>0);var $e=Math.abs(M),ut=pe;if($e===0)return I[0]+ut;for(var dt=0;$e>0&&dt<=4;dt++){var Mt=$e%10;Mt===0&&O(Ne,Ft)&&ut!==""?ut=I[Mt]+ut:Mt>1||Mt===1&&dt===0||Mt===1&&dt===1&&O(Ne,dr)||Mt===1&&dt===1&&O(Ne,vt)&&M>100||Mt===1&&dt>1&&O(Ne,Gt)?ut=I[Mt]+(dt>0?Q[dt-1]:"")+ut:Mt===1&&dt>0&&(ut=Q[dt-1]+ut),$e=Math.floor($e/10)}return(M<0?$:"")+ut},Or="",vr="",Pr="",Fr="",sn=function(M,I,Q){var $=Q?". ":"",pe=Q?"":"",Ne=Q?", ":"",$e=Q?" ":"";switch(I){case 0:return""+$e;case 1:return""+$e;case 2:return""+$e;case 5:var ut=nt(M,48,57,!0,$);return ut.length<4?"0"+ut:ut;case 4:return yt(M,"",pe);case 6:return ze(M,1,3999,me,3,$).toLowerCase();case 7:return ze(M,1,3999,me,3,$);case 8:return nt(M,945,969,!1,$);case 9:return nt(M,97,122,!1,$);case 10:return nt(M,65,90,!1,$);case 11:return nt(M,1632,1641,!0,$);case 12:case 49:return ze(M,1,9999,Se,3,$);case 35:return ze(M,1,9999,Se,3,$).toLowerCase();case 13:return nt(M,2534,2543,!0,$);case 14:case 30:return nt(M,6112,6121,!0,$);case 15:return yt(M,"",pe);case 16:return yt(M,"",pe);case 17:case 48:return er(M,"",Or,"",pe,dr|vt|Gt);case 47:return er(M,"",vr,"",pe,Ft|dr|vt|Gt);case 42:return er(M,"",Or,"",pe,dr|vt|Gt);case 41:return er(M,"",vr,"",pe,Ft|dr|vt|Gt);case 26:return er(M,"","",Pr,pe,0);case 25:return er(M,"","",Pr,pe,Ft|dr|vt);case 31:return er(M,"","",Fr,Ne,Ft|dr|vt);case 33:return er(M,"","",Fr,Ne,0);case 32:return er(M,"","",Fr,Ne,Ft|dr|vt);case 18:return nt(M,2406,2415,!0,$);case 20:return ze(M,1,19999,Ke,3,$);case 21:return nt(M,2790,2799,!0,$);case 22:return nt(M,2662,2671,!0,$);case 22:return ze(M,1,10999,De,3,$);case 23:return yt(M,"");case 24:return yt(M,"");case 27:return nt(M,3302,3311,!0,$);case 28:return yt(M,"",pe);case 29:return yt(M,"",pe);case 34:return nt(M,3792,3801,!0,$);case 37:return nt(M,6160,6169,!0,$);case 38:return nt(M,4160,4169,!0,$);case 39:return nt(M,2918,2927,!0,$);case 40:return nt(M,1776,1785,!0,$);case 43:return nt(M,3046,3055,!0,$);case 44:return nt(M,3174,3183,!0,$);case 45:return nt(M,3664,3673,!0,$);case 46:return nt(M,3872,3881,!0,$);default:return nt(M,48,57,!0,$)}},qr="data-html2canvas-ignore",Ti=(function(){function M(I,Q,$){if(this.context=I,this.options=$,this.scrolledElements=[],this.referenceElement=Q,this.counters=new Y,this.quoteDepth=0,!Q.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(Q.ownerDocument.documentElement,!1)}return M.prototype.toIFrame=function(I,Q){var $=this,pe=Is(I,Q);if(!pe.contentWindow)return Promise.reject("Unable to find iframe window");var Ne=I.defaultView.pageXOffset,$e=I.defaultView.pageYOffset,ut=pe.contentWindow,dt=ut.document,Mt=Ol(pe).then(function(){return s($,void 0,void 0,function(){var Xt,lr;return a(this,function(Rr){switch(Rr.label){case 0:return this.scrolledElements.forEach(Es),ut&&(ut.scrollTo(Q.left,Q.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(ut.scrollY!==Q.top||ut.scrollX!==Q.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(ut.scrollX-Q.left,ut.scrollY-Q.top,0,0))),Xt=this.options.onclone,lr=this.clonedReferenceElement,typeof lr>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:dt.fonts&&dt.fonts.ready?[4,dt.fonts.ready]:[3,2];case 1:Rr.sent(),Rr.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,la(dt)]:[3,4];case 3:Rr.sent(),Rr.label=4;case 4:return typeof Xt=="function"?[2,Promise.resolve().then(function(){return Xt(dt,lr)}).then(function(){return pe})]:[2,pe]}})})});return dt.open(),dt.write(Bn(document.doctype)+"<html></html>"),sl(this.referenceElement.ownerDocument,Ne,$e),dt.replaceChild(dt.adoptNode(this.documentElement),dt.documentElement),dt.close(),Mt},M.prototype.createElementClone=function(I){if(Ni(I,2))debugger;if(_g(I))return this.createCanvasClone(I);if(Sg(I))return this.createVideoClone(I);if($h(I))return this.createStyleClone(I);var Q=I.cloneNode(!1);return Tg(Q)&&(Tg(I)&&I.currentSrc&&I.currentSrc!==I.src&&(Q.src=I.currentSrc,Q.srcset=""),Q.loading==="lazy"&&(Q.loading="eager")),R(Q)?this.createCustomElementClone(Q):Q},M.prototype.createCustomElementClone=function(I){var Q=document.createElement("html2canvascustomelement");return hi(I.style,Q),Q},M.prototype.createStyleClone=function(I){try{var Q=I.sheet;if(Q&&Q.cssRules){var $=[].slice.call(Q.cssRules,0).reduce(function(Ne,$e){return $e&&typeof $e.cssText=="string"?Ne+$e.cssText:Ne},""),pe=I.cloneNode(!1);return pe.textContent=$,pe}}catch(Ne){if(this.context.logger.error("Unable to access cssRules property",Ne),Ne.name!=="SecurityError")throw Ne}return I.cloneNode(!1)},M.prototype.createCanvasClone=function(I){var Q;if(this.options.inlineImages&&I.ownerDocument){var $=I.ownerDocument.createElement("img");try{return $.src=I.toDataURL(),$}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",I)}}var pe=I.cloneNode(!1);try{pe.width=I.width,pe.height=I.height;var Ne=I.getContext("2d"),$e=pe.getContext("2d");if($e)if(!this.options.allowTaint&&Ne)$e.putImageData(Ne.getImageData(0,0,I.width,I.height),0,0);else{var ut=(Q=I.getContext("webgl2"))!==null&&Q!==void 0?Q:I.getContext("webgl");if(ut){var dt=ut.getContextAttributes();dt?.preserveDrawingBuffer===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",I)}$e.drawImage(I,0,0)}return pe}catch{this.context.logger.info("Unable to clone canvas as it is tainted",I)}return pe},M.prototype.createVideoClone=function(I){var Q=I.ownerDocument.createElement("canvas");Q.width=I.offsetWidth,Q.height=I.offsetHeight;var $=Q.getContext("2d");try{return $&&($.drawImage(I,0,0,Q.width,Q.height),this.options.allowTaint||$.getImageData(0,0,Q.width,Q.height)),Q}catch{this.context.logger.info("Unable to clone video as it is tainted",I)}var pe=I.ownerDocument.createElement("canvas");return pe.width=I.offsetWidth,pe.height=I.offsetHeight,pe},M.prototype.appendChildNode=function(I,Q,$){(!Sh(Q)||!sp(Q)&&!Q.hasAttribute(qr)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(Q)))&&(!this.options.copyStyles||!Sh(Q)||!$h(Q))&&I.appendChild(this.cloneNode(Q,$))},M.prototype.cloneChildNodes=function(I,Q,$){for(var pe=this,Ne=I.shadowRoot?I.shadowRoot.firstChild:I.firstChild;Ne;Ne=Ne.nextSibling)if(Sh(Ne)&&VA(Ne)&&typeof Ne.assignedNodes=="function"){var $e=Ne.assignedNodes();$e.length&&$e.forEach(function(ut){return pe.appendChildNode(Q,ut,$)})}else this.appendChildNode(Q,Ne,$)},M.prototype.cloneNode=function(I,Q){if(xg(I))return document.createTextNode(I.data);if(!I.ownerDocument)return I.cloneNode(!1);var $=I.ownerDocument.defaultView;if($&&Sh(I)&&(wf(I)||Th(I))){var pe=this.createElementClone(I);pe.style.transitionProperty="none";var Ne=$.getComputedStyle(I),$e=$.getComputedStyle(I,":before"),ut=$.getComputedStyle(I,":after");this.referenceElement===I&&wf(pe)&&(this.clonedReferenceElement=pe),Eg(pe)&&_c(pe);var dt=this.counters.parse(new Xr(this.context,Ne)),Mt=this.resolvePseudoContent(I,pe,$e,Qn.BEFORE);R(I)&&(Q=!0),Sg(I)||this.cloneChildNodes(I,pe,Q),Mt&&pe.insertBefore(Mt,pe.firstChild);var Xt=this.resolvePseudoContent(I,pe,ut,Qn.AFTER);return Xt&&pe.appendChild(Xt),this.counters.pop(dt),(Ne&&(this.options.copyStyles||Th(I))&&!z0(I)||Q)&&hi(Ne,pe),(I.scrollTop!==0||I.scrollLeft!==0)&&this.scrolledElements.push([pe,I.scrollLeft,I.scrollTop]),(ap(I)||op(I))&&(ap(pe)||op(pe))&&(pe.value=I.value),pe}return I.cloneNode(!1)},M.prototype.resolvePseudoContent=function(I,Q,$,pe){var Ne=this;if($){var $e=$.content,ut=Q.ownerDocument;if(!(!ut||!$e||$e==="none"||$e==="-moz-alt-content"||$.display==="none")){this.counters.parse(new Xr(this.context,$));var dt=new jn(this.context,$),Mt=ut.createElement("html2canvaspseudoelement");hi($,Mt),dt.content.forEach(function(lr){if(lr.type===0)Mt.appendChild(ut.createTextNode(lr.value));else if(lr.type===22){var Rr=ut.createElement("img");Rr.src=lr.value,Rr.style.opacity="1",Mt.appendChild(Rr)}else if(lr.type===18){if(lr.name==="attr"){var Vn=lr.values.filter(Sn);Vn.length&&Mt.appendChild(ut.createTextNode(I.getAttribute(Vn[0].value)||""))}else if(lr.name==="counter"){var gn=lr.values.filter(Hn),On=gn[0],Bi=gn[1];if(On&&Sn(On)){var di=Ne.counters.getCounterValue(On.value),oi=Bi&&Sn(Bi)?bd.parse(Ne.context,Bi.value):3;Mt.appendChild(ut.createTextNode(sn(di,oi,!1)))}}else if(lr.name==="counters"){var Js=lr.values.filter(Hn),On=Js[0],Vs=Js[1],Bi=Js[2];if(On&&Sn(On)){var cs=Ne.counters.getCounterValues(On.value),Yn=Bi&&Sn(Bi)?bd.parse(Ne.context,Bi.value):3,ca=Vs&&Vs.type===0?Vs.value:"",ya=cs.map(function(Ro){return sn(Ro,Yn,!1)}).join(ca);Mt.appendChild(ut.createTextNode(ya))}}}else if(lr.type===20)switch(lr.value){case"open-quote":Mt.appendChild(ut.createTextNode(mr(dt.quotes,Ne.quoteDepth++,!0)));break;case"close-quote":Mt.appendChild(ut.createTextNode(mr(dt.quotes,--Ne.quoteDepth,!1)));break;default:Mt.appendChild(ut.createTextNode(lr.value))}}),Mt.className=ic+" "+Ec;var Xt=pe===Qn.BEFORE?" "+ic:" "+Ec;return Th(Q)?Q.className.baseValue+=Xt:Q.className+=Xt,Mt}}},M.destroy=function(I){return I.parentNode?(I.parentNode.removeChild(I),!0):!1},M})(),Qn;(function(M){M[M.BEFORE=0]="BEFORE",M[M.AFTER=1]="AFTER"})(Qn||(Qn={}));var Is=function(M,I){var Q=M.createElement("iframe");return Q.className="html2canvas-container",Q.style.visibility="hidden",Q.style.position="fixed",Q.style.left="-10000px",Q.style.top="0px",Q.style.border="0",Q.width=I.width.toString(),Q.height=I.height.toString(),Q.scrolling="no",Q.setAttribute(qr,"true"),M.body.appendChild(Q),Q},pi=function(M){return new Promise(function(I){if(M.complete){I();return}if(!M.src){I();return}M.onload=I,M.onerror=I})},la=function(M){return Promise.all([].slice.call(M.images,0).map(pi))},Ol=function(M){return new Promise(function(I,Q){var $=M.contentWindow;if(!$)return Q("No window assigned for iframe");var pe=$.document;$.onload=M.onload=function(){$.onload=M.onload=null;var Ne=setInterval(function(){pe.body.childNodes.length>0&&pe.readyState==="complete"&&(clearInterval(Ne),I(M))},50)}})},ws=["all","d","content"],hi=function(M,I){for(var Q=M.length-1;Q>=0;Q--){var $=M.item(Q);ws.indexOf($)===-1&&I.style.setProperty($,M.getPropertyValue($))}return I},Bn=function(M){var I="";return M&&(I+="<!DOCTYPE ",M.name&&(I+=M.name),M.internalSubset&&(I+=M.internalSubset),M.publicId&&(I+='"'+M.publicId+'"'),M.systemId&&(I+='"'+M.systemId+'"'),I+=">"),I},sl=function(M,I,Q){M&&M.defaultView&&(I!==M.defaultView.pageXOffset||Q!==M.defaultView.pageYOffset)&&M.defaultView.scrollTo(I,Q)},Es=function(M){var I=M[0],Q=M[1],$=M[2];I.scrollLeft=Q,I.scrollTop=$},Ps=":before",bo=":after",ic="___html2canvas___pseudoelement_before",Ec="___html2canvas___pseudoelement_after",$a=`{
    content: "" !important;
    display: none !important;
}`,_c=function(M){au(M,"."+ic+Ps+$a+`
         .`+Ec+bo+$a)},au=function(M,I){var Q=M.ownerDocument;if(Q){var $=Q.createElement("style");$.textContent=I,M.appendChild($)}},al=(function(){function M(){}return M.getOrigin=function(I){var Q=M._link;return Q?(Q.href=I,Q.href=Q.href,Q.protocol+Q.hostname+Q.port):"about:blank"},M.isSameOrigin=function(I){return M.getOrigin(I)===M._origin},M.setContext=function(I){M._link=I.document.createElement("a"),M._origin=M.getOrigin(I.location.href)},M._origin="about:blank",M})(),sa=(function(){function M(I,Q){this.context=I,this._options=Q,this._cache={}}return M.prototype.addImage=function(I){var Q=Promise.resolve();return this.has(I)||(qc(I)||Sc(I))&&(this._cache[I]=this.loadImage(I)).catch(function(){}),Q},M.prototype.match=function(I){return this._cache[I]},M.prototype.loadImage=function(I){return s(this,void 0,void 0,function(){var Q,$,pe,Ne,$e=this;return a(this,function(ut){switch(ut.label){case 0:return Q=al.isSameOrigin(I),$=!Yc(I)&&this._options.useCORS===!0&&Bl.SUPPORT_CORS_IMAGES&&!Q,pe=!Yc(I)&&!Q&&!qc(I)&&typeof this._options.proxy=="string"&&Bl.SUPPORT_CORS_XHR&&!$,!Q&&this._options.allowTaint===!1&&!Yc(I)&&!qc(I)&&!pe&&!$?[2]:(Ne=I,pe?[4,this.proxy(Ne)]:[3,2]);case 1:Ne=ut.sent(),ut.label=2;case 2:return this.context.logger.debug("Added image "+I.substring(0,256)),[4,new Promise(function(dt,Mt){var Xt=new Image;Xt.onload=function(){return dt(Xt)},Xt.onerror=Mt,(oo(Ne)||$)&&(Xt.crossOrigin="anonymous"),Xt.src=Ne,Xt.complete===!0&&setTimeout(function(){return dt(Xt)},500),$e._options.imageTimeout>0&&setTimeout(function(){return Mt("Timed out ("+$e._options.imageTimeout+"ms) loading image")},$e._options.imageTimeout)})];case 3:return[2,ut.sent()]}})})},M.prototype.has=function(I){return typeof this._cache[I]<"u"},M.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},M.prototype.proxy=function(I){var Q=this,$=this._options.proxy;if(!$)throw new Error("No proxy defined");var pe=I.substring(0,256);return new Promise(function(Ne,$e){var ut=Bl.SUPPORT_RESPONSE_TYPE?"blob":"text",dt=new XMLHttpRequest;dt.onload=function(){if(dt.status===200)if(ut==="text")Ne(dt.response);else{var lr=new FileReader;lr.addEventListener("load",function(){return Ne(lr.result)},!1),lr.addEventListener("error",function(Rr){return $e(Rr)},!1),lr.readAsDataURL(dt.response)}else $e("Failed to proxy resource "+pe+" with status code "+dt.status)},dt.onerror=$e;var Mt=$.indexOf("?")>-1?"&":"?";if(dt.open("GET",""+$+Mt+"url="+encodeURIComponent(I)+"&responseType="+ut),ut!=="text"&&dt instanceof XMLHttpRequest&&(dt.responseType=ut),Q._options.imageTimeout){var Xt=Q._options.imageTimeout;dt.timeout=Xt,dt.ontimeout=function(){return $e("Timed out ("+Xt+"ms) proxying "+pe)}}dt.send()})},M})(),zi=/^data:image\/svg\+xml/i,bl=/^data:image\/.*;base64,/i,eo=/^data:image\/.*/i,Sc=function(M){return Bl.SUPPORT_SVG_DRAWING||!lo(M)},Yc=function(M){return eo.test(M)},oo=function(M){return bl.test(M)},qc=function(M){return M.substr(0,4)==="blob"},lo=function(M){return M.substr(-3).toLowerCase()==="svg"||zi.test(M)},fn=(function(){function M(I,Q){this.type=0,this.x=I,this.y=Q}return M.prototype.add=function(I,Q){return new M(this.x+I,this.y+Q)},M})(),wo=function(M,I,Q){return new fn(M.x+(I.x-M.x)*Q,M.y+(I.y-M.y)*Q)},sc=(function(){function M(I,Q,$,pe){this.type=1,this.start=I,this.startControl=Q,this.endControl=$,this.end=pe}return M.prototype.subdivide=function(I,Q){var $=wo(this.start,this.startControl,I),pe=wo(this.startControl,this.endControl,I),Ne=wo(this.endControl,this.end,I),$e=wo($,pe,I),ut=wo(pe,Ne,I),dt=wo($e,ut,I);return Q?new M(this.start,$,$e,dt):new M(dt,ut,Ne,this.end)},M.prototype.add=function(I,Q){return new M(this.start.add(I,Q),this.startControl.add(I,Q),this.endControl.add(I,Q),this.end.add(I,Q))},M.prototype.reverse=function(){return new M(this.end,this.endControl,this.startControl,this.start)},M})(),jo=function(M){return M.type===1},Zu=(function(){function M(I){var Q=I.styles,$=I.bounds,pe=Wn(Q.borderTopLeftRadius,$.width,$.height),Ne=pe[0],$e=pe[1],ut=Wn(Q.borderTopRightRadius,$.width,$.height),dt=ut[0],Mt=ut[1],Xt=Wn(Q.borderBottomRightRadius,$.width,$.height),lr=Xt[0],Rr=Xt[1],Vn=Wn(Q.borderBottomLeftRadius,$.width,$.height),gn=Vn[0],On=Vn[1],Bi=[];Bi.push((Ne+dt)/$.width),Bi.push((gn+lr)/$.width),Bi.push(($e+On)/$.height),Bi.push((Mt+Rr)/$.height);var di=Math.max.apply(Math,Bi);di>1&&(Ne/=di,$e/=di,dt/=di,Mt/=di,lr/=di,Rr/=di,gn/=di,On/=di);var oi=$.width-dt,Js=$.height-Rr,Vs=$.width-lr,cs=$.height-On,Yn=Q.borderTopWidth,ca=Q.borderRightWidth,ya=Q.borderBottomWidth,Mi=Q.borderLeftWidth,ac=Gi(Q.paddingTop,I.bounds.width),Ro=Gi(Q.paddingRight,I.bounds.width),Gd=Gi(Q.paddingBottom,I.bounds.width),Eo=Gi(Q.paddingLeft,I.bounds.width);this.topLeftBorderDoubleOuterBox=Ne>0||$e>0?Zs($.left+Mi/3,$.top+Yn/3,Ne-Mi/3,$e-Yn/3,xs.TOP_LEFT):new fn($.left+Mi/3,$.top+Yn/3),this.topRightBorderDoubleOuterBox=Ne>0||$e>0?Zs($.left+oi,$.top+Yn/3,dt-ca/3,Mt-Yn/3,xs.TOP_RIGHT):new fn($.left+$.width-ca/3,$.top+Yn/3),this.bottomRightBorderDoubleOuterBox=lr>0||Rr>0?Zs($.left+Vs,$.top+Js,lr-ca/3,Rr-ya/3,xs.BOTTOM_RIGHT):new fn($.left+$.width-ca/3,$.top+$.height-ya/3),this.bottomLeftBorderDoubleOuterBox=gn>0||On>0?Zs($.left+Mi/3,$.top+cs,gn-Mi/3,On-ya/3,xs.BOTTOM_LEFT):new fn($.left+Mi/3,$.top+$.height-ya/3),this.topLeftBorderDoubleInnerBox=Ne>0||$e>0?Zs($.left+Mi*2/3,$.top+Yn*2/3,Ne-Mi*2/3,$e-Yn*2/3,xs.TOP_LEFT):new fn($.left+Mi*2/3,$.top+Yn*2/3),this.topRightBorderDoubleInnerBox=Ne>0||$e>0?Zs($.left+oi,$.top+Yn*2/3,dt-ca*2/3,Mt-Yn*2/3,xs.TOP_RIGHT):new fn($.left+$.width-ca*2/3,$.top+Yn*2/3),this.bottomRightBorderDoubleInnerBox=lr>0||Rr>0?Zs($.left+Vs,$.top+Js,lr-ca*2/3,Rr-ya*2/3,xs.BOTTOM_RIGHT):new fn($.left+$.width-ca*2/3,$.top+$.height-ya*2/3),this.bottomLeftBorderDoubleInnerBox=gn>0||On>0?Zs($.left+Mi*2/3,$.top+cs,gn-Mi*2/3,On-ya*2/3,xs.BOTTOM_LEFT):new fn($.left+Mi*2/3,$.top+$.height-ya*2/3),this.topLeftBorderStroke=Ne>0||$e>0?Zs($.left+Mi/2,$.top+Yn/2,Ne-Mi/2,$e-Yn/2,xs.TOP_LEFT):new fn($.left+Mi/2,$.top+Yn/2),this.topRightBorderStroke=Ne>0||$e>0?Zs($.left+oi,$.top+Yn/2,dt-ca/2,Mt-Yn/2,xs.TOP_RIGHT):new fn($.left+$.width-ca/2,$.top+Yn/2),this.bottomRightBorderStroke=lr>0||Rr>0?Zs($.left+Vs,$.top+Js,lr-ca/2,Rr-ya/2,xs.BOTTOM_RIGHT):new fn($.left+$.width-ca/2,$.top+$.height-ya/2),this.bottomLeftBorderStroke=gn>0||On>0?Zs($.left+Mi/2,$.top+cs,gn-Mi/2,On-ya/2,xs.BOTTOM_LEFT):new fn($.left+Mi/2,$.top+$.height-ya/2),this.topLeftBorderBox=Ne>0||$e>0?Zs($.left,$.top,Ne,$e,xs.TOP_LEFT):new fn($.left,$.top),this.topRightBorderBox=dt>0||Mt>0?Zs($.left+oi,$.top,dt,Mt,xs.TOP_RIGHT):new fn($.left+$.width,$.top),this.bottomRightBorderBox=lr>0||Rr>0?Zs($.left+Vs,$.top+Js,lr,Rr,xs.BOTTOM_RIGHT):new fn($.left+$.width,$.top+$.height),this.bottomLeftBorderBox=gn>0||On>0?Zs($.left,$.top+cs,gn,On,xs.BOTTOM_LEFT):new fn($.left,$.top+$.height),this.topLeftPaddingBox=Ne>0||$e>0?Zs($.left+Mi,$.top+Yn,Math.max(0,Ne-Mi),Math.max(0,$e-Yn),xs.TOP_LEFT):new fn($.left+Mi,$.top+Yn),this.topRightPaddingBox=dt>0||Mt>0?Zs($.left+Math.min(oi,$.width-ca),$.top+Yn,oi>$.width+ca?0:Math.max(0,dt-ca),Math.max(0,Mt-Yn),xs.TOP_RIGHT):new fn($.left+$.width-ca,$.top+Yn),this.bottomRightPaddingBox=lr>0||Rr>0?Zs($.left+Math.min(Vs,$.width-Mi),$.top+Math.min(Js,$.height-ya),Math.max(0,lr-ca),Math.max(0,Rr-ya),xs.BOTTOM_RIGHT):new fn($.left+$.width-ca,$.top+$.height-ya),this.bottomLeftPaddingBox=gn>0||On>0?Zs($.left+Mi,$.top+Math.min(cs,$.height-ya),Math.max(0,gn-Mi),Math.max(0,On-ya),xs.BOTTOM_LEFT):new fn($.left+Mi,$.top+$.height-ya),this.topLeftContentBox=Ne>0||$e>0?Zs($.left+Mi+Eo,$.top+Yn+ac,Math.max(0,Ne-(Mi+Eo)),Math.max(0,$e-(Yn+ac)),xs.TOP_LEFT):new fn($.left+Mi+Eo,$.top+Yn+ac),this.topRightContentBox=dt>0||Mt>0?Zs($.left+Math.min(oi,$.width+Mi+Eo),$.top+Yn+ac,oi>$.width+Mi+Eo?0:dt-Mi+Eo,Mt-(Yn+ac),xs.TOP_RIGHT):new fn($.left+$.width-(ca+Ro),$.top+Yn+ac),this.bottomRightContentBox=lr>0||Rr>0?Zs($.left+Math.min(Vs,$.width-(Mi+Eo)),$.top+Math.min(Js,$.height+Yn+ac),Math.max(0,lr-(ca+Ro)),Rr-(ya+Gd),xs.BOTTOM_RIGHT):new fn($.left+$.width-(ca+Ro),$.top+$.height-(ya+Gd)),this.bottomLeftContentBox=gn>0||On>0?Zs($.left+Mi+Eo,$.top+cs,Math.max(0,gn-(Mi+Eo)),On-(ya+Gd),xs.BOTTOM_LEFT):new fn($.left+Mi+Eo,$.top+$.height-(ya+Gd))}return M})(),xs;(function(M){M[M.TOP_LEFT=0]="TOP_LEFT",M[M.TOP_RIGHT=1]="TOP_RIGHT",M[M.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",M[M.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(xs||(xs={}));var Zs=function(M,I,Q,$,pe){var Ne=4*((Math.sqrt(2)-1)/3),$e=Q*Ne,ut=$*Ne,dt=M+Q,Mt=I+$;switch(pe){case xs.TOP_LEFT:return new sc(new fn(M,Mt),new fn(M,Mt-ut),new fn(dt-$e,I),new fn(dt,I));case xs.TOP_RIGHT:return new sc(new fn(M,I),new fn(M+$e,I),new fn(dt,Mt-ut),new fn(dt,Mt));case xs.BOTTOM_RIGHT:return new sc(new fn(dt,I),new fn(dt,I+ut),new fn(M+$e,Mt),new fn(M,Mt));case xs.BOTTOM_LEFT:default:return new sc(new fn(dt,Mt),new fn(dt-$e,Mt),new fn(M,I+ut),new fn(M,I))}},ka=function(M){return[M.topLeftBorderBox,M.topRightBorderBox,M.bottomRightBorderBox,M.bottomLeftBorderBox]},Ju=function(M){return[M.topLeftContentBox,M.topRightContentBox,M.bottomRightContentBox,M.bottomLeftContentBox]},wl=function(M){return[M.topLeftPaddingBox,M.topRightPaddingBox,M.bottomRightPaddingBox,M.bottomLeftPaddingBox]},No=(function(){function M(I,Q,$){this.offsetX=I,this.offsetY=Q,this.matrix=$,this.type=0,this.target=6}return M})(),ed=(function(){function M(I,Q){this.path=I,this.target=Q,this.type=1}return M})(),Tc=(function(){function M(I){this.opacity=I,this.type=2,this.target=6}return M})(),Pl=function(M){return M.type===0},Cg=function(M){return M.type===1},lp=function(M){return M.type===2},sA=function(M,I){return M.length===I.length?M.some(function(Q,$){return Q===I[$]}):!1},Yo=function(M,I,Q,$,pe){return M.map(function(Ne,$e){switch($e){case 0:return Ne.add(I,Q);case 1:return Ne.add(I+$,Q);case 2:return Ne.add(I+$,Q+pe);case 3:return Ne.add(I,Q+pe)}return Ne})},Tu=(function(){function M(I){this.element=I,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return M})(),Vd=(function(){function M(I,Q){if(this.container=I,this.parent=Q,this.effects=[],this.curves=new Zu(this.container),this.container.styles.opacity<1&&this.effects.push(new Tc(this.container.styles.opacity)),this.container.styles.transform!==null){var $=this.container.bounds.left+this.container.styles.transformOrigin[0].number,pe=this.container.bounds.top+this.container.styles.transformOrigin[1].number,Ne=this.container.styles.transform;this.effects.push(new No($,pe,Ne))}if(this.container.styles.overflowX!==0){var $e=ka(this.curves),ut=wl(this.curves);sA($e,ut)?this.effects.push(new ed($e,6)):(this.effects.push(new ed($e,2)),this.effects.push(new ed(ut,4)))}}return M.prototype.getEffects=function(I){for(var Q=[2,3].indexOf(this.container.styles.position)===-1,$=this.parent,pe=this.effects.slice(0);$;){var Ne=$.effects.filter(function(dt){return!Cg(dt)});if(Q||$.container.styles.position!==0||!$.parent){if(pe.unshift.apply(pe,Ne),Q=[2,3].indexOf($.container.styles.position)===-1,$.container.styles.overflowX!==0){var $e=ka($.curves),ut=wl($.curves);sA($e,ut)||pe.unshift(new ed(ut,6))}}else pe.unshift.apply(pe,Ne);$=$.parent}return pe.filter(function(dt){return O(dt.target,I)})},M})(),uh=function(M,I,Q,$){M.container.elements.forEach(function(pe){var Ne=O(pe.flags,4),$e=O(pe.flags,2),ut=new Vd(pe,M);O(pe.styles.display,2048)&&$.push(ut);var dt=O(pe.flags,8)?[]:$;if(Ne||$e){var Mt=Ne||pe.styles.isPositioned()?Q:I,Xt=new Tu(ut);if(pe.styles.isPositioned()||pe.styles.opacity<1||pe.styles.isTransformed()){var lr=pe.styles.zIndex.order;if(lr<0){var Rr=0;Mt.negativeZIndex.some(function(gn,On){return lr>gn.element.container.styles.zIndex.order?(Rr=On,!1):Rr>0}),Mt.negativeZIndex.splice(Rr,0,Xt)}else if(lr>0){var Vn=0;Mt.positiveZIndex.some(function(gn,On){return lr>=gn.element.container.styles.zIndex.order?(Vn=On+1,!1):Vn>0}),Mt.positiveZIndex.splice(Vn,0,Xt)}else Mt.zeroOrAutoZIndexOrTransformedOrOpacity.push(Xt)}else pe.styles.isFloating()?Mt.nonPositionedFloats.push(Xt):Mt.nonPositionedInlineLevel.push(Xt);uh(ut,Xt,Ne?Xt:Q,dt)}else pe.styles.isInlineLevel()?I.inlineLevel.push(ut):I.nonInlineLevel.push(ut),uh(ut,I,Q,dt);O(pe.flags,8)&&K0(pe,dt)})},K0=function(M,I){for(var Q=M instanceof vg?M.start:1,$=M instanceof vg?M.reversed:!1,pe=0;pe<I.length;pe++){var Ne=I[pe];Ne.container instanceof iA&&typeof Ne.container.value=="number"&&Ne.container.value!==0&&(Q=Ne.container.value),Ne.listValue=sn(Q,Ne.container.styles.listStyleType,!0),Q+=$?-1:1}},jy=function(M){var I=new Vd(M,null),Q=new Tu(I),$=[];return uh(I,Q,Q,$),K0(I.container,$),Q},Ny=function(M,I){switch(I){case 0:return co(M.topLeftBorderBox,M.topLeftPaddingBox,M.topRightBorderBox,M.topRightPaddingBox);case 1:return co(M.topRightBorderBox,M.topRightPaddingBox,M.bottomRightBorderBox,M.bottomRightPaddingBox);case 2:return co(M.bottomRightBorderBox,M.bottomRightPaddingBox,M.bottomLeftBorderBox,M.bottomLeftPaddingBox);default:return co(M.bottomLeftBorderBox,M.bottomLeftPaddingBox,M.topLeftBorderBox,M.topLeftPaddingBox)}},cp=function(M,I){switch(I){case 0:return co(M.topLeftBorderBox,M.topLeftBorderDoubleOuterBox,M.topRightBorderBox,M.topRightBorderDoubleOuterBox);case 1:return co(M.topRightBorderBox,M.topRightBorderDoubleOuterBox,M.bottomRightBorderBox,M.bottomRightBorderDoubleOuterBox);case 2:return co(M.bottomRightBorderBox,M.bottomRightBorderDoubleOuterBox,M.bottomLeftBorderBox,M.bottomLeftBorderDoubleOuterBox);default:return co(M.bottomLeftBorderBox,M.bottomLeftBorderDoubleOuterBox,M.topLeftBorderBox,M.topLeftBorderDoubleOuterBox)}},Xc=function(M,I){switch(I){case 0:return co(M.topLeftBorderDoubleInnerBox,M.topLeftPaddingBox,M.topRightBorderDoubleInnerBox,M.topRightPaddingBox);case 1:return co(M.topRightBorderDoubleInnerBox,M.topRightPaddingBox,M.bottomRightBorderDoubleInnerBox,M.bottomRightPaddingBox);case 2:return co(M.bottomRightBorderDoubleInnerBox,M.bottomRightPaddingBox,M.bottomLeftBorderDoubleInnerBox,M.bottomLeftPaddingBox);default:return co(M.bottomLeftBorderDoubleInnerBox,M.bottomLeftPaddingBox,M.topLeftBorderDoubleInnerBox,M.topLeftPaddingBox)}},zd=function(M,I){switch(I){case 0:return zA(M.topLeftBorderStroke,M.topRightBorderStroke);case 1:return zA(M.topRightBorderStroke,M.bottomRightBorderStroke);case 2:return zA(M.bottomRightBorderStroke,M.bottomLeftBorderStroke);default:return zA(M.bottomLeftBorderStroke,M.topLeftBorderStroke)}},zA=function(M,I){var Q=[];return jo(M)?Q.push(M.subdivide(.5,!1)):Q.push(M),jo(I)?Q.push(I.subdivide(.5,!0)):Q.push(I),Q},co=function(M,I,Q,$){var pe=[];return jo(M)?pe.push(M.subdivide(.5,!1)):pe.push(M),jo(Q)?pe.push(Q.subdivide(.5,!0)):pe.push(Q),jo($)?pe.push($.subdivide(.5,!0).reverse()):pe.push($),jo(I)?pe.push(I.subdivide(.5,!1).reverse()):pe.push(I),pe},up=function(M){var I=M.bounds,Q=M.styles;return I.add(Q.borderLeftWidth,Q.borderTopWidth,-(Q.borderRightWidth+Q.borderLeftWidth),-(Q.borderTopWidth+Q.borderBottomWidth))},ou=function(M){var I=M.styles,Q=M.bounds,$=Gi(I.paddingLeft,Q.width),pe=Gi(I.paddingRight,Q.width),Ne=Gi(I.paddingTop,Q.width),$e=Gi(I.paddingBottom,Q.width);return Q.add($+I.borderLeftWidth,Ne+I.borderTopWidth,-(I.borderRightWidth+I.borderLeftWidth+$+pe),-(I.borderTopWidth+I.borderBottomWidth+Ne+$e))},Ef=function(M,I){return M===0?I.bounds:M===2?ou(I):up(I)},Hh=function(M,I){return M===0?I.bounds:M===2?ou(I):up(I)},_f=function(M,I,Q){var $=Ef(Kd(M.styles.backgroundOrigin,I),M),pe=Hh(Kd(M.styles.backgroundClip,I),M),Ne=Vh(Kd(M.styles.backgroundSize,I),Q,$),$e=Ne[0],ut=Ne[1],dt=Wn(Kd(M.styles.backgroundPosition,I),$.width-$e,$.height-ut),Mt=KA(Kd(M.styles.backgroundRepeat,I),dt,Ne,$,pe),Xt=Math.round($.left+dt[0]),lr=Math.round($.top+dt[1]);return[Mt,Xt,lr,$e,ut]},Qh=function(M){return Sn(M)&&M.value===Fi.AUTO},lu=function(M){return typeof M=="number"},Vh=function(M,I,Q){var $=I[0],pe=I[1],Ne=I[2],$e=M[0],ut=M[1];if(!$e)return[0,0];if(Gn($e)&&ut&&Gn(ut))return[Gi($e,Q.width),Gi(ut,Q.height)];var dt=lu(Ne);if(Sn($e)&&($e.value===Fi.CONTAIN||$e.value===Fi.COVER)){if(lu(Ne)){var Mt=Q.width/Q.height;return Mt<Ne!=($e.value===Fi.COVER)?[Q.width,Q.width/Ne]:[Q.height*Ne,Q.height]}return[Q.width,Q.height]}var Xt=lu($),lr=lu(pe),Rr=Xt||lr;if(Qh($e)&&(!ut||Qh(ut))){if(Xt&&lr)return[$,pe];if(!dt&&!Rr)return[Q.width,Q.height];if(Rr&&dt){var Vn=Xt?$:pe*Ne,gn=lr?pe:$/Ne;return[Vn,gn]}var On=Xt?$:Q.width,Bi=lr?pe:Q.height;return[On,Bi]}if(dt){var di=0,oi=0;return Gn($e)?di=Gi($e,Q.width):Gn(ut)&&(oi=Gi(ut,Q.height)),Qh($e)?di=oi*Ne:(!ut||Qh(ut))&&(oi=di/Ne),[di,oi]}var Js=null,Vs=null;if(Gn($e)?Js=Gi($e,Q.width):ut&&Gn(ut)&&(Vs=Gi(ut,Q.height)),Js!==null&&(!ut||Qh(ut))&&(Vs=Xt&&lr?Js/$*pe:Q.height),Vs!==null&&Qh($e)&&(Js=Xt&&lr?Vs/pe*$:Q.width),Js!==null&&Vs!==null)return[Js,Vs];throw new Error("Unable to calculate background-size for element")},Kd=function(M,I){var Q=M[I];return typeof Q>"u"?M[0]:Q},KA=function(M,I,Q,$,pe){var Ne=I[0],$e=I[1],ut=Q[0],dt=Q[1];switch(M){case 2:return[new fn(Math.round($.left),Math.round($.top+$e)),new fn(Math.round($.left+$.width),Math.round($.top+$e)),new fn(Math.round($.left+$.width),Math.round(dt+$.top+$e)),new fn(Math.round($.left),Math.round(dt+$.top+$e))];case 3:return[new fn(Math.round($.left+Ne),Math.round($.top)),new fn(Math.round($.left+Ne+ut),Math.round($.top)),new fn(Math.round($.left+Ne+ut),Math.round($.height+$.top)),new fn(Math.round($.left+Ne),Math.round($.height+$.top))];case 1:return[new fn(Math.round($.left+Ne),Math.round($.top+$e)),new fn(Math.round($.left+Ne+ut),Math.round($.top+$e)),new fn(Math.round($.left+Ne+ut),Math.round($.top+$e+dt)),new fn(Math.round($.left+Ne),Math.round($.top+$e+dt))];default:return[new fn(Math.round(pe.left),Math.round(pe.top)),new fn(Math.round(pe.left+pe.width),Math.round(pe.top)),new fn(Math.round(pe.left+pe.width),Math.round(pe.height+pe.top)),new fn(Math.round(pe.left),Math.round(pe.height+pe.top))]}},dp="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",Sf="Hidden Text",aA=(function(){function M(I){this._data={},this._document=I}return M.prototype.parseMetrics=function(I,Q){var $=this._document.createElement("div"),pe=this._document.createElement("img"),Ne=this._document.createElement("span"),$e=this._document.body;$.style.visibility="hidden",$.style.fontFamily=I,$.style.fontSize=Q,$.style.margin="0",$.style.padding="0",$.style.whiteSpace="nowrap",$e.appendChild($),pe.src=dp,pe.width=1,pe.height=1,pe.style.margin="0",pe.style.padding="0",pe.style.verticalAlign="baseline",Ne.style.fontFamily=I,Ne.style.fontSize=Q,Ne.style.margin="0",Ne.style.padding="0",Ne.appendChild(this._document.createTextNode(Sf)),$.appendChild(Ne),$.appendChild(pe);var ut=pe.offsetTop-Ne.offsetTop+2;$.removeChild(Ne),$.appendChild(this._document.createTextNode(Sf)),$.style.lineHeight="normal",pe.style.verticalAlign="super";var dt=pe.offsetTop-$.offsetTop+2;return $e.removeChild($),{baseline:ut,middle:dt}},M.prototype.getMetrics=function(I,Q){var $=I+" "+Q;return typeof this._data[$]>"u"&&(this._data[$]=this.parseMetrics(I,Q)),this._data[$]},M})(),G0=(function(){function M(I,Q){this.context=I,this.options=Q}return M})(),GA=1e4,ky=(function(M){n(I,M);function I(Q,$){var pe=M.call(this,Q,$)||this;return pe._activeEffects=[],pe.canvas=$.canvas?$.canvas:document.createElement("canvas"),pe.ctx=pe.canvas.getContext("2d"),$.canvas||(pe.canvas.width=Math.floor($.width*$.scale),pe.canvas.height=Math.floor($.height*$.scale),pe.canvas.style.width=$.width+"px",pe.canvas.style.height=$.height+"px"),pe.fontMetrics=new aA(document),pe.ctx.scale(pe.options.scale,pe.options.scale),pe.ctx.translate(-$.x,-$.y),pe.ctx.textBaseline="bottom",pe._activeEffects=[],pe.context.logger.debug("Canvas renderer initialized ("+$.width+"x"+$.height+") with scale "+$.scale),pe}return I.prototype.applyEffects=function(Q){for(var $=this;this._activeEffects.length;)this.popEffect();Q.forEach(function(pe){return $.applyEffect(pe)})},I.prototype.applyEffect=function(Q){this.ctx.save(),lp(Q)&&(this.ctx.globalAlpha=Q.opacity),Pl(Q)&&(this.ctx.translate(Q.offsetX,Q.offsetY),this.ctx.transform(Q.matrix[0],Q.matrix[1],Q.matrix[2],Q.matrix[3],Q.matrix[4],Q.matrix[5]),this.ctx.translate(-Q.offsetX,-Q.offsetY)),Cg(Q)&&(this.path(Q.path),this.ctx.clip()),this._activeEffects.push(Q)},I.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},I.prototype.renderStack=function(Q){return s(this,void 0,void 0,function(){var $;return a(this,function(pe){switch(pe.label){case 0:return $=Q.element.container.styles,$.isVisible()?[4,this.renderStackContent(Q)]:[3,2];case 1:pe.sent(),pe.label=2;case 2:return[2]}})})},I.prototype.renderNode=function(Q){return s(this,void 0,void 0,function(){return a(this,function($){switch($.label){case 0:if(O(Q.container.flags,16))debugger;return Q.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(Q)]:[3,3];case 1:return $.sent(),[4,this.renderNodeContent(Q)];case 2:$.sent(),$.label=3;case 3:return[2]}})})},I.prototype.renderTextWithLetterSpacing=function(Q,$,pe){var Ne=this;if($===0)this.ctx.fillText(Q.text,Q.bounds.left,Q.bounds.top+pe);else{var $e=nA(Q.text);$e.reduce(function(ut,dt){return Ne.ctx.fillText(dt,ut,Q.bounds.top+pe),ut+Ne.ctx.measureText(dt).width},Q.bounds.left)}},I.prototype.createFontStyle=function(Q){var $=Q.fontVariant.filter(function($e){return $e==="normal"||$e==="small-caps"}).join(""),pe=va(Q.fontFamily).join(", "),Ne=_n(Q.fontSize)?""+Q.fontSize.number+Q.fontSize.unit:Q.fontSize.number+"px";return[[Q.fontStyle,$,Q.fontWeight,Ne,pe].join(" "),pe,Ne]},I.prototype.renderTextNode=function(Q,$){return s(this,void 0,void 0,function(){var pe,Ne,$e,ut,dt,Mt,Xt,lr,Rr=this;return a(this,function(Vn){return pe=this.createFontStyle($),Ne=pe[0],$e=pe[1],ut=pe[2],this.ctx.font=Ne,this.ctx.direction=$.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",dt=this.fontMetrics.getMetrics($e,ut),Mt=dt.baseline,Xt=dt.middle,lr=$.paintOrder,Q.textBounds.forEach(function(gn){lr.forEach(function(On){switch(On){case 0:Rr.ctx.fillStyle=yn($.color),Rr.renderTextWithLetterSpacing(gn,$.letterSpacing,Mt);var Bi=$.textShadow;Bi.length&&gn.text.trim().length&&(Bi.slice(0).reverse().forEach(function(di){Rr.ctx.shadowColor=yn(di.color),Rr.ctx.shadowOffsetX=di.offsetX.number*Rr.options.scale,Rr.ctx.shadowOffsetY=di.offsetY.number*Rr.options.scale,Rr.ctx.shadowBlur=di.blur.number,Rr.renderTextWithLetterSpacing(gn,$.letterSpacing,Mt)}),Rr.ctx.shadowColor="",Rr.ctx.shadowOffsetX=0,Rr.ctx.shadowOffsetY=0,Rr.ctx.shadowBlur=0),$.textDecorationLine.length&&(Rr.ctx.fillStyle=yn($.textDecorationColor||$.color),$.textDecorationLine.forEach(function(di){switch(di){case 1:Rr.ctx.fillRect(gn.bounds.left,Math.round(gn.bounds.top+Mt),gn.bounds.width,1);break;case 2:Rr.ctx.fillRect(gn.bounds.left,Math.round(gn.bounds.top),gn.bounds.width,1);break;case 3:Rr.ctx.fillRect(gn.bounds.left,Math.ceil(gn.bounds.top+Xt),gn.bounds.width,1);break}}));break;case 1:$.webkitTextStrokeWidth&&gn.text.trim().length&&(Rr.ctx.strokeStyle=yn($.webkitTextStrokeColor),Rr.ctx.lineWidth=$.webkitTextStrokeWidth,Rr.ctx.lineJoin=window.chrome?"miter":"round",Rr.ctx.strokeText(gn.text,gn.bounds.left,gn.bounds.top+Mt)),Rr.ctx.strokeStyle="",Rr.ctx.lineWidth=0,Rr.ctx.lineJoin="miter";break}})}),[2]})})},I.prototype.renderReplacedElement=function(Q,$,pe){if(pe&&Q.intrinsicWidth>0&&Q.intrinsicHeight>0){var Ne=ou(Q),$e=wl($);this.path($e),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(pe,0,0,Q.intrinsicWidth,Q.intrinsicHeight,Ne.left,Ne.top,Ne.width,Ne.height),this.ctx.restore()}},I.prototype.renderNodeContent=function(Q){return s(this,void 0,void 0,function(){var $,pe,Ne,$e,ut,dt,oi,oi,Mt,Xt,lr,Rr,Vs,Vn,gn,cs,On,Bi,di,oi,Js,Vs,cs;return a(this,function(Yn){switch(Yn.label){case 0:this.applyEffects(Q.getEffects(4)),$=Q.container,pe=Q.curves,Ne=$.styles,$e=0,ut=$.textNodes,Yn.label=1;case 1:return $e<ut.length?(dt=ut[$e],[4,this.renderTextNode(dt,Ne)]):[3,4];case 2:Yn.sent(),Yn.label=3;case 3:return $e++,[3,1];case 4:if(!($ instanceof U0))return[3,8];Yn.label=5;case 5:return Yn.trys.push([5,7,,8]),[4,this.context.cache.match($.src)];case 6:return oi=Yn.sent(),this.renderReplacedElement($,pe,oi),[3,8];case 7:return Yn.sent(),this.context.logger.error("Error loading image "+$.src),[3,8];case 8:if($ instanceof $A&&this.renderReplacedElement($,pe,$.canvas),!($ instanceof gg))return[3,12];Yn.label=9;case 9:return Yn.trys.push([9,11,,12]),[4,this.context.cache.match($.svg)];case 10:return oi=Yn.sent(),this.renderReplacedElement($,pe,oi),[3,12];case 11:return Yn.sent(),this.context.logger.error("Error loading svg "+$.svg.substring(0,255)),[3,12];case 12:return $ instanceof _h&&$.tree?(Mt=new I(this.context,{scale:this.options.scale,backgroundColor:$.backgroundColor,x:0,y:0,width:$.width,height:$.height}),[4,Mt.render($.tree)]):[3,14];case 13:Xt=Yn.sent(),$.width&&$.height&&this.ctx.drawImage(Xt,0,0,$.width,$.height,$.bounds.left,$.bounds.top,$.bounds.width,$.bounds.height),Yn.label=14;case 14:if($ instanceof Qd&&(lr=Math.min($.bounds.width,$.bounds.height),$.type===tp?$.checked&&(this.ctx.save(),this.path([new fn($.bounds.left+lr*.39363,$.bounds.top+lr*.79),new fn($.bounds.left+lr*.16,$.bounds.top+lr*.5549),new fn($.bounds.left+lr*.27347,$.bounds.top+lr*.44071),new fn($.bounds.left+lr*.39694,$.bounds.top+lr*.5649),new fn($.bounds.left+lr*.72983,$.bounds.top+lr*.23),new fn($.bounds.left+lr*.84,$.bounds.top+lr*.34085),new fn($.bounds.left+lr*.39363,$.bounds.top+lr*.79)]),this.ctx.fillStyle=yn(Td),this.ctx.fill(),this.ctx.restore()):$.type===rp&&$.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc($.bounds.left+lr/2,$.bounds.top+lr/2,lr/4,0,Math.PI*2,!0),this.ctx.fillStyle=yn(Td),this.ctx.fill(),this.ctx.restore())),hp($)&&$.value.length){switch(Rr=this.createFontStyle(Ne),Vs=Rr[0],Vn=Rr[1],gn=this.fontMetrics.getMetrics(Vs,Vn).baseline,this.ctx.font=Vs,this.ctx.fillStyle=yn(Ne.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=fp($.styles.textAlign),cs=ou($),On=0,$.styles.textAlign){case 1:On+=cs.width/2;break;case 2:On+=cs.width;break}Bi=cs.add(On,0,0,-cs.height/2+1),this.ctx.save(),this.path([new fn(cs.left,cs.top),new fn(cs.left+cs.width,cs.top),new fn(cs.left+cs.width,cs.top+cs.height),new fn(cs.left,cs.top+cs.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new bf($.value,Bi),Ne.letterSpacing,gn),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!O($.styles.display,2048))return[3,20];if($.styles.listStyleImage===null)return[3,19];if(di=$.styles.listStyleImage,di.type!==0)return[3,18];oi=void 0,Js=di.url,Yn.label=15;case 15:return Yn.trys.push([15,17,,18]),[4,this.context.cache.match(Js)];case 16:return oi=Yn.sent(),this.ctx.drawImage(oi,$.bounds.left-(oi.width+10),$.bounds.top),[3,18];case 17:return Yn.sent(),this.context.logger.error("Error loading list-style-image "+Js),[3,18];case 18:return[3,20];case 19:Q.listValue&&$.styles.listStyleType!==-1&&(Vs=this.createFontStyle(Ne)[0],this.ctx.font=Vs,this.ctx.fillStyle=yn(Ne.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",cs=new u($.bounds.left,$.bounds.top+Gi($.styles.paddingTop,$.bounds.width),$.bounds.width,so(Ne.lineHeight,Ne.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new bf(Q.listValue,cs),Ne.letterSpacing,so(Ne.lineHeight,Ne.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),Yn.label=20;case 20:return[2]}})})},I.prototype.renderStackContent=function(Q){return s(this,void 0,void 0,function(){var $,pe,di,Ne,$e,di,ut,dt,di,Mt,Xt,di,lr,Rr,di,Vn,gn,di,On,Bi,di;return a(this,function(oi){switch(oi.label){case 0:if(O(Q.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(Q.element)];case 1:oi.sent(),$=0,pe=Q.negativeZIndex,oi.label=2;case 2:return $<pe.length?(di=pe[$],[4,this.renderStack(di)]):[3,5];case 3:oi.sent(),oi.label=4;case 4:return $++,[3,2];case 5:return[4,this.renderNodeContent(Q.element)];case 6:oi.sent(),Ne=0,$e=Q.nonInlineLevel,oi.label=7;case 7:return Ne<$e.length?(di=$e[Ne],[4,this.renderNode(di)]):[3,10];case 8:oi.sent(),oi.label=9;case 9:return Ne++,[3,7];case 10:ut=0,dt=Q.nonPositionedFloats,oi.label=11;case 11:return ut<dt.length?(di=dt[ut],[4,this.renderStack(di)]):[3,14];case 12:oi.sent(),oi.label=13;case 13:return ut++,[3,11];case 14:Mt=0,Xt=Q.nonPositionedInlineLevel,oi.label=15;case 15:return Mt<Xt.length?(di=Xt[Mt],[4,this.renderStack(di)]):[3,18];case 16:oi.sent(),oi.label=17;case 17:return Mt++,[3,15];case 18:lr=0,Rr=Q.inlineLevel,oi.label=19;case 19:return lr<Rr.length?(di=Rr[lr],[4,this.renderNode(di)]):[3,22];case 20:oi.sent(),oi.label=21;case 21:return lr++,[3,19];case 22:Vn=0,gn=Q.zeroOrAutoZIndexOrTransformedOrOpacity,oi.label=23;case 23:return Vn<gn.length?(di=gn[Vn],[4,this.renderStack(di)]):[3,26];case 24:oi.sent(),oi.label=25;case 25:return Vn++,[3,23];case 26:On=0,Bi=Q.positiveZIndex,oi.label=27;case 27:return On<Bi.length?(di=Bi[On],[4,this.renderStack(di)]):[3,30];case 28:oi.sent(),oi.label=29;case 29:return On++,[3,27];case 30:return[2]}})})},I.prototype.mask=function(Q){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(Q.slice(0).reverse()),this.ctx.closePath()},I.prototype.path=function(Q){this.ctx.beginPath(),this.formatPath(Q),this.ctx.closePath()},I.prototype.formatPath=function(Q){var $=this;Q.forEach(function(pe,Ne){var $e=jo(pe)?pe.start:pe;Ne===0?$.ctx.moveTo($e.x,$e.y):$.ctx.lineTo($e.x,$e.y),jo(pe)&&$.ctx.bezierCurveTo(pe.startControl.x,pe.startControl.y,pe.endControl.x,pe.endControl.y,pe.end.x,pe.end.y)})},I.prototype.renderRepeat=function(Q,$,pe,Ne){this.path(Q),this.ctx.fillStyle=$,this.ctx.translate(pe,Ne),this.ctx.fill(),this.ctx.translate(-pe,-Ne)},I.prototype.resizeImage=function(Q,$,pe){var Ne;if(Q.width===$&&Q.height===pe)return Q;var $e=(Ne=this.canvas.ownerDocument)!==null&&Ne!==void 0?Ne:document,ut=$e.createElement("canvas");ut.width=Math.max(1,$),ut.height=Math.max(1,pe);var dt=ut.getContext("2d");return dt.drawImage(Q,0,0,Q.width,Q.height,0,0,$,pe),ut},I.prototype.renderBackgroundImage=function(Q){return s(this,void 0,void 0,function(){var $,pe,Ne,$e,ut,dt;return a(this,function(Mt){switch(Mt.label){case 0:$=Q.styles.backgroundImage.length-1,pe=function(Xt){var lr,Rr,Vn,ac,Nu,td,Eo,ju,ya,gn,ac,Nu,td,Eo,ju,On,Bi,di,oi,Js,Vs,cs,Yn,ca,ya,Mi,ac,Ro,Gd,Eo,ju,jd,Nu,td,Ch,Kh,oA,YA,qA,jh,lA,cA;return a(this,function(jg){switch(jg.label){case 0:if(Xt.type!==0)return[3,5];lr=void 0,Rr=Xt.url,jg.label=1;case 1:return jg.trys.push([1,3,,4]),[4,Ne.context.cache.match(Rr)];case 2:return lr=jg.sent(),[3,4];case 3:return jg.sent(),Ne.context.logger.error("Error loading background-image "+Rr),[3,4];case 4:return lr&&(Vn=_f(Q,$,[lr.width,lr.height,lr.width/lr.height]),ac=Vn[0],Nu=Vn[1],td=Vn[2],Eo=Vn[3],ju=Vn[4],ya=Ne.ctx.createPattern(Ne.resizeImage(lr,Eo,ju),"repeat"),Ne.renderRepeat(ac,ya,Nu,td)),[3,6];case 5:gl(Xt)?(gn=_f(Q,$,[null,null,null]),ac=gn[0],Nu=gn[1],td=gn[2],Eo=gn[3],ju=gn[4],On=$c(Xt.angle,Eo,ju),Bi=On[0],di=On[1],oi=On[2],Js=On[3],Vs=On[4],cs=document.createElement("canvas"),cs.width=Eo,cs.height=ju,Yn=cs.getContext("2d"),ca=Yn.createLinearGradient(di,Js,oi,Vs),vo(Xt.stops,Bi).forEach(function(Y0){return ca.addColorStop(Y0.stop,yn(Y0.color))}),Yn.fillStyle=ca,Yn.fillRect(0,0,Eo,ju),Eo>0&&ju>0&&(ya=Ne.ctx.createPattern(cs,"repeat"),Ne.renderRepeat(ac,ya,Nu,td))):ru(Xt)&&(Mi=_f(Q,$,[null,null,null]),ac=Mi[0],Ro=Mi[1],Gd=Mi[2],Eo=Mi[3],ju=Mi[4],jd=Xt.position.length===0?[Un]:Xt.position,Nu=Gi(jd[0],Eo),td=Gi(jd[jd.length-1],ju),Ch=Ka(Xt,Nu,td,Eo,ju),Kh=Ch[0],oA=Ch[1],Kh>0&&oA>0&&(YA=Ne.ctx.createRadialGradient(Ro+Nu,Gd+td,0,Ro+Nu,Gd+td,Kh),vo(Xt.stops,Kh*2).forEach(function(Y0){return YA.addColorStop(Y0.stop,yn(Y0.color))}),Ne.path(ac),Ne.ctx.fillStyle=YA,Kh!==oA?(qA=Q.bounds.left+.5*Q.bounds.width,jh=Q.bounds.top+.5*Q.bounds.height,lA=oA/Kh,cA=1/lA,Ne.ctx.save(),Ne.ctx.translate(qA,jh),Ne.ctx.transform(1,0,0,lA,0,0),Ne.ctx.translate(-qA,-jh),Ne.ctx.fillRect(Ro,cA*(Gd-jh)+jh,Eo,ju*cA),Ne.ctx.restore()):Ne.ctx.fill())),jg.label=6;case 6:return $--,[2]}})},Ne=this,$e=0,ut=Q.styles.backgroundImage.slice(0).reverse(),Mt.label=1;case 1:return $e<ut.length?(dt=ut[$e],[5,pe(dt)]):[3,4];case 2:Mt.sent(),Mt.label=3;case 3:return $e++,[3,1];case 4:return[2]}})})},I.prototype.renderSolidBorder=function(Q,$,pe){return s(this,void 0,void 0,function(){return a(this,function(Ne){return this.path(Ny(pe,$)),this.ctx.fillStyle=yn(Q),this.ctx.fill(),[2]})})},I.prototype.renderDoubleBorder=function(Q,$,pe,Ne){return s(this,void 0,void 0,function(){var $e,ut;return a(this,function(dt){switch(dt.label){case 0:return $<3?[4,this.renderSolidBorder(Q,pe,Ne)]:[3,2];case 1:return dt.sent(),[2];case 2:return $e=cp(Ne,pe),this.path($e),this.ctx.fillStyle=yn(Q),this.ctx.fill(),ut=Xc(Ne,pe),this.path(ut),this.ctx.fill(),[2]}})})},I.prototype.renderNodeBackgroundAndBorders=function(Q){return s(this,void 0,void 0,function(){var $,pe,Ne,$e,ut,dt,Mt,Xt,lr=this;return a(this,function(Rr){switch(Rr.label){case 0:return this.applyEffects(Q.getEffects(2)),$=Q.container.styles,pe=!Ii($.backgroundColor)||$.backgroundImage.length,Ne=[{style:$.borderTopStyle,color:$.borderTopColor,width:$.borderTopWidth},{style:$.borderRightStyle,color:$.borderRightColor,width:$.borderRightWidth},{style:$.borderBottomStyle,color:$.borderBottomColor,width:$.borderBottomWidth},{style:$.borderLeftStyle,color:$.borderLeftColor,width:$.borderLeftWidth}],$e=Iy(Kd($.backgroundClip,0),Q.curves),pe||$.boxShadow.length?(this.ctx.save(),this.path($e),this.ctx.clip(),Ii($.backgroundColor)||(this.ctx.fillStyle=yn($.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(Q.container)]):[3,2];case 1:Rr.sent(),this.ctx.restore(),$.boxShadow.slice(0).reverse().forEach(function(Vn){lr.ctx.save();var gn=ka(Q.curves),On=Vn.inset?0:GA,Bi=Yo(gn,-On+(Vn.inset?1:-1)*Vn.spread.number,(Vn.inset?1:-1)*Vn.spread.number,Vn.spread.number*(Vn.inset?-2:2),Vn.spread.number*(Vn.inset?-2:2));Vn.inset?(lr.path(gn),lr.ctx.clip(),lr.mask(Bi)):(lr.mask(gn),lr.ctx.clip(),lr.path(Bi)),lr.ctx.shadowOffsetX=Vn.offsetX.number+On,lr.ctx.shadowOffsetY=Vn.offsetY.number,lr.ctx.shadowColor=yn(Vn.color),lr.ctx.shadowBlur=Vn.blur.number,lr.ctx.fillStyle=Vn.inset?yn(Vn.color):"rgba(0,0,0,1)",lr.ctx.fill(),lr.ctx.restore()}),Rr.label=2;case 2:ut=0,dt=0,Mt=Ne,Rr.label=3;case 3:return dt<Mt.length?(Xt=Mt[dt],Xt.style!==0&&!Ii(Xt.color)&&Xt.width>0?Xt.style!==2?[3,5]:[4,this.renderDashedDottedBorder(Xt.color,Xt.width,ut,Q.curves,2)]:[3,11]):[3,13];case 4:return Rr.sent(),[3,11];case 5:return Xt.style!==3?[3,7]:[4,this.renderDashedDottedBorder(Xt.color,Xt.width,ut,Q.curves,3)];case 6:return Rr.sent(),[3,11];case 7:return Xt.style!==4?[3,9]:[4,this.renderDoubleBorder(Xt.color,Xt.width,ut,Q.curves)];case 8:return Rr.sent(),[3,11];case 9:return[4,this.renderSolidBorder(Xt.color,ut,Q.curves)];case 10:Rr.sent(),Rr.label=11;case 11:ut++,Rr.label=12;case 12:return dt++,[3,3];case 13:return[2]}})})},I.prototype.renderDashedDottedBorder=function(Q,$,pe,Ne,$e){return s(this,void 0,void 0,function(){var ut,dt,Mt,Xt,lr,Rr,Vn,gn,On,Bi,di,oi,Js,Vs,cs,Yn,cs,Yn;return a(this,function(ca){return this.ctx.save(),ut=zd(Ne,pe),dt=Ny(Ne,pe),$e===2&&(this.path(dt),this.ctx.clip()),jo(dt[0])?(Mt=dt[0].start.x,Xt=dt[0].start.y):(Mt=dt[0].x,Xt=dt[0].y),jo(dt[1])?(lr=dt[1].end.x,Rr=dt[1].end.y):(lr=dt[1].x,Rr=dt[1].y),pe===0||pe===2?Vn=Math.abs(Mt-lr):Vn=Math.abs(Xt-Rr),this.ctx.beginPath(),$e===3?this.formatPath(ut):this.formatPath(dt.slice(0,2)),gn=$<3?$*3:$*2,On=$<3?$*2:$,$e===3&&(gn=$,On=$),Bi=!0,Vn<=gn*2?Bi=!1:Vn<=gn*2+On?(di=Vn/(2*gn+On),gn*=di,On*=di):(oi=Math.floor((Vn+On)/(gn+On)),Js=(Vn-oi*gn)/(oi-1),Vs=(Vn-(oi+1)*gn)/oi,On=Vs<=0||Math.abs(On-Js)<Math.abs(On-Vs)?Js:Vs),Bi&&($e===3?this.ctx.setLineDash([0,gn+On]):this.ctx.setLineDash([gn,On])),$e===3?(this.ctx.lineCap="round",this.ctx.lineWidth=$):this.ctx.lineWidth=$*2+1.1,this.ctx.strokeStyle=yn(Q),this.ctx.stroke(),this.ctx.setLineDash([]),$e===2&&(jo(dt[0])&&(cs=dt[3],Yn=dt[0],this.ctx.beginPath(),this.formatPath([new fn(cs.end.x,cs.end.y),new fn(Yn.start.x,Yn.start.y)]),this.ctx.stroke()),jo(dt[1])&&(cs=dt[1],Yn=dt[2],this.ctx.beginPath(),this.formatPath([new fn(cs.end.x,cs.end.y),new fn(Yn.start.x,Yn.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},I.prototype.render=function(Q){return s(this,void 0,void 0,function(){var $;return a(this,function(pe){switch(pe.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=yn(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),$=jy(Q),[4,this.renderStack($)];case 1:return pe.sent(),this.applyEffects([]),[2,this.canvas]}})})},I})(G0),hp=function(M){return M instanceof np||M instanceof Sy?!0:M instanceof Qd&&M.type!==rp&&M.type!==tp},Iy=function(M,I){switch(M){case 0:return ka(I);case 2:return Ju(I);default:return wl(I)}},fp=function(M){switch(M){case 1:return"center";case 2:return"right";default:return"left"}},W0=["-apple-system","system-ui"],va=function(M){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?M.filter(function(I){return W0.indexOf(I)===-1}):M},fa=(function(M){n(I,M);function I(Q,$){var pe=M.call(this,Q,$)||this;return pe.canvas=$.canvas?$.canvas:document.createElement("canvas"),pe.ctx=pe.canvas.getContext("2d"),pe.options=$,pe.canvas.width=Math.floor($.width*$.scale),pe.canvas.height=Math.floor($.height*$.scale),pe.canvas.style.width=$.width+"px",pe.canvas.style.height=$.height+"px",pe.ctx.scale(pe.options.scale,pe.options.scale),pe.ctx.translate(-$.x,-$.y),pe.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+$.width+"x"+$.height+" at "+$.x+","+$.y+") with scale "+$.scale),pe}return I.prototype.render=function(Q){return s(this,void 0,void 0,function(){var $,pe;return a(this,function(Ne){switch(Ne.label){case 0:return $=dg(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,Q),[4,_s($)];case 1:return pe=Ne.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=yn(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(pe,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},I})(G0),_s=function(M){return new Promise(function(I,Q){var $=new Image;$.onload=function(){I($)},$.onerror=Q,$.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(M))})},Ls=(function(){function M(I){var Q=I.id,$=I.enabled;this.id=Q,this.enabled=$,this.start=Date.now()}return M.prototype.debug=function(){for(var I=[],Q=0;Q<arguments.length;Q++)I[Q]=arguments[Q];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,c([this.id,this.getTime()+"ms"],I)):this.info.apply(this,I))},M.prototype.getTime=function(){return Date.now()-this.start},M.prototype.info=function(){for(var I=[],Q=0;Q<arguments.length;Q++)I[Q]=arguments[Q];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,c([this.id,this.getTime()+"ms"],I))},M.prototype.warn=function(){for(var I=[],Q=0;Q<arguments.length;Q++)I[Q]=arguments[Q];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,c([this.id,this.getTime()+"ms"],I)):this.info.apply(this,I))},M.prototype.error=function(){for(var I=[],Q=0;Q<arguments.length;Q++)I[Q]=arguments[Q];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,c([this.id,this.getTime()+"ms"],I)):this.info.apply(this,I))},M.instances={},M})(),Ia=(function(){function M(I,Q){var $;this.windowBounds=Q,this.instanceName="#"+M.instanceCount++,this.logger=new Ls({id:this.instanceName,enabled:I.logging}),this.cache=($=I.cache)!==null&&$!==void 0?$:new sa(this,I)}return M.instanceCount=1,M})(),Cu=function(M,I){return I===void 0&&(I={}),zh(M,I)};typeof window<"u"&&al.setContext(window);var zh=function(M,I){return s(void 0,void 0,void 0,function(){var Q,$,pe,Ne,$e,ut,dt,Mt,Xt,lr,Rr,Vn,gn,On,Bi,di,oi,Js,Vs,cs,ca,Yn,ca,ya,Mi,ac,Ro,Gd,Eo,ju,jd,Nu,td,Ch,Kh,oA,YA,qA,jh,lA;return a(this,function(cA){switch(cA.label){case 0:if(!M||typeof M!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(Q=M.ownerDocument,!Q)throw new Error("Element is not attached to a Document");if($=Q.defaultView,!$)throw new Error("Document is not attached to a Window");return pe={allowTaint:(ya=I.allowTaint)!==null&&ya!==void 0?ya:!1,imageTimeout:(Mi=I.imageTimeout)!==null&&Mi!==void 0?Mi:15e3,proxy:I.proxy,useCORS:(ac=I.useCORS)!==null&&ac!==void 0?ac:!1},Ne=i({logging:(Ro=I.logging)!==null&&Ro!==void 0?Ro:!0,cache:I.cache},pe),$e={windowWidth:(Gd=I.windowWidth)!==null&&Gd!==void 0?Gd:$.innerWidth,windowHeight:(Eo=I.windowHeight)!==null&&Eo!==void 0?Eo:$.innerHeight,scrollX:(ju=I.scrollX)!==null&&ju!==void 0?ju:$.pageXOffset,scrollY:(jd=I.scrollY)!==null&&jd!==void 0?jd:$.pageYOffset},ut=new u($e.scrollX,$e.scrollY,$e.windowWidth,$e.windowHeight),dt=new Ia(Ne,ut),Mt=(Nu=I.foreignObjectRendering)!==null&&Nu!==void 0?Nu:!1,Xt={allowTaint:(td=I.allowTaint)!==null&&td!==void 0?td:!1,onclone:I.onclone,ignoreElements:I.ignoreElements,inlineImages:Mt,copyStyles:Mt},dt.logger.debug("Starting document clone with size "+ut.width+"x"+ut.height+" scrolled to "+-ut.left+","+-ut.top),lr=new Ti(dt,M,Xt),Rr=lr.clonedReferenceElement,Rr?[4,lr.toIFrame(Q,ut)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return Vn=cA.sent(),gn=Eg(Rr)||V0(Rr)?d(Rr.ownerDocument):l(dt,Rr),On=gn.width,Bi=gn.height,di=gn.left,oi=gn.top,Js=WA(dt,Rr,I.backgroundColor),Vs={canvas:I.canvas,backgroundColor:Js,scale:(Kh=(Ch=I.scale)!==null&&Ch!==void 0?Ch:$.devicePixelRatio)!==null&&Kh!==void 0?Kh:1,x:((oA=I.x)!==null&&oA!==void 0?oA:0)+di,y:((YA=I.y)!==null&&YA!==void 0?YA:0)+oi,width:(qA=I.width)!==null&&qA!==void 0?qA:Math.ceil(On),height:(jh=I.height)!==null&&jh!==void 0?jh:Math.ceil(Bi)},Mt?(dt.logger.debug("Document cloned, using foreign object rendering"),ca=new fa(dt,Vs),[4,ca.render(Rr)]):[3,3];case 2:return cs=cA.sent(),[3,5];case 3:return dt.logger.debug("Document cloned, element located at "+di+","+oi+" with size "+On+"x"+Bi+" using computed rendering"),dt.logger.debug("Starting DOM parsing"),Yn=yg(dt,Rr),Js===Yn.styles.backgroundColor&&(Yn.styles.backgroundColor=Xa.TRANSPARENT),dt.logger.debug("Starting renderer for element at "+Vs.x+","+Vs.y+" with size "+Vs.width+"x"+Vs.height),ca=new ky(dt,Vs),[4,ca.render(Yn)];case 4:cs=cA.sent(),cA.label=5;case 5:return(!((lA=I.removeContainer)!==null&&lA!==void 0)||lA)&&(Ti.destroy(Vn)||dt.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),dt.logger.debug("Finished rendering"),[2,cs]}})})},WA=function(M,I,Q){var $=I.ownerDocument,pe=$.documentElement?Ra(M,getComputedStyle($.documentElement).backgroundColor):Xa.TRANSPARENT,Ne=$.body?Ra(M,getComputedStyle($.body).backgroundColor):Xa.TRANSPARENT,$e=typeof Q=="string"?Ra(M,Q):Q===null?Xa.TRANSPARENT:4294967295;return I===$.documentElement?Ii(pe)?Ii(Ne)?$e:Ne:pe:$e};return Cu}))})(DS)),DS.exports}var FV;function d4e(){return FV||(FV=1,(function(t,e){(function(n,i){t.exports=i(u4e())})(self,function(r){return(function(){var n={"./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js":(function(c,u,l){l.r(u),l.d(u,{default:function(){return d}});function d(f,A){(A==null||A>f.length)&&(A=f.length);for(var p=0,v=Array(A);p<A;p++)v[p]=f[p];return v}}),"./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js":(function(c,u,l){l.r(u),l.d(u,{default:function(){return d}});function d(f){if(Array.isArray(f))return f}}),"./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js":(function(c,u,l){l.r(u),l.d(u,{default:function(){return f}});function d(A,p,v,y,x,w,E){try{var T=A[w](E),C=T.value}catch(j){return void v(j)}T.done?p(C):Promise.resolve(C).then(y,x)}function f(A){return function(){var p=this,v=arguments;return new Promise(function(y,x){var w=A.apply(p,v);function E(C){d(w,y,x,E,T,"next",C)}function T(C){d(w,y,x,E,T,"throw",C)}E(void 0)})}}}),"./node_modules/@babel/runtime/helpers/esm/defineProperty.js":(function(c,u,l){l.r(u),l.d(u,{default:function(){return f}});var d=l("./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js");function f(A,p,v){return(p=(0,d.default)(p))in A?Object.defineProperty(A,p,{value:v,enumerable:!0,configurable:!0,writable:!0}):A[p]=v,A}}),"./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js":(function(c,u,l){l.r(u),l.d(u,{default:function(){return d}});function d(f,A){var p=f==null?null:typeof Symbol<"u"&&f[Symbol.iterator]||f["@@iterator"];if(p!=null){var v,y,x,w,E=[],T=!0,C=!1;try{if(x=(p=p.call(f)).next,A===0){if(Object(p)!==p)return;T=!1}else for(;!(T=(v=x.call(p)).done)&&(E.push(v.value),E.length!==A);T=!0);}catch(j){C=!0,y=j}finally{try{if(!T&&p.return!=null&&(w=p.return(),Object(w)!==w))return}finally{if(C)throw y}}return E}}}),"./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js":(function(c,u,l){l.r(u),l.d(u,{default:function(){return d}});function d(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}}),"./node_modules/@babel/runtime/helpers/esm/slicedToArray.js":(function(c,u,l){l.r(u),l.d(u,{default:function(){return v}});var d=l("./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js"),f=l("./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js"),A=l("./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js"),p=l("./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js");function v(y,x){return(0,d.default)(y)||(0,f.default)(y,x)||(0,A.default)(y,x)||(0,p.default)()}}),"./node_modules/@babel/runtime/helpers/esm/toPrimitive.js":(function(c,u,l){l.r(u),l.d(u,{default:function(){return f}});var d=l("./node_modules/@babel/runtime/helpers/esm/typeof.js");function f(A,p){if((0,d.default)(A)!="object"||!A)return A;var v=A[Symbol.toPrimitive];if(v!==void 0){var y=v.call(A,p||"default");if((0,d.default)(y)!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(A)}}),"./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js":(function(c,u,l){l.r(u),l.d(u,{default:function(){return A}});var d=l("./node_modules/@babel/runtime/helpers/esm/typeof.js"),f=l("./node_modules/@babel/runtime/helpers/esm/toPrimitive.js");function A(p){var v=(0,f.default)(p,"string");return(0,d.default)(v)=="symbol"?v:v+""}}),"./node_modules/@babel/runtime/helpers/esm/typeof.js":(function(c,u,l){l.r(u),l.d(u,{default:function(){return d}});function d(f){"@babel/helpers - typeof";return d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},d(f)}}),"./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js":(function(c,u,l){l.r(u),l.d(u,{default:function(){return f}});var d=l("./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js");function f(A,p){if(A){if(typeof A=="string")return(0,d.default)(A,p);var v={}.toString.call(A).slice(8,-1);return v==="Object"&&A.constructor&&(v=A.constructor.name),v==="Map"||v==="Set"?Array.from(A):v==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v)?(0,d.default)(A,p):void 0}}}),"./node_modules/canvg/lib/index.es.js":(function(c,u,l){l.r(u),l.d(u,{AElement:function(){return ml},AnimateColorElement:function(){return Qa},AnimateElement:function(){return Os},AnimateTransformElement:function(){return ds},BoundingBox:function(){return Ln},CB1:function(){return Le},CB2:function(){return He},CB3:function(){return Fe},CB4:function(){return At},Canvg:function(){return Vo},CircleElement:function(){return Rs},ClipPathElement:function(){return Ca},DefsElement:function(){return Tn},DescElement:function(){return Qo},Document:function(){return qa},Element:function(){return Wt},EllipseElement:function(){return Cs},FeColorMatrixElement:function(){return js},FeCompositeElement:function(){return wa},FeDropShadowElement:function(){return Xn},FeGaussianBlurElement:function(){return Ho},FeMorphologyElement:function(){return hs},FilterElement:function(){return gi},Font:function(){return Gr},FontElement:function(){return yu},FontFaceElement:function(){return to},GElement:function(){return Ds},GlyphElement:function(){return Dr},GradientElement:function(){return $s},ImageElement:function(){return Fs},LineElement:function(){return ei},LinearGradientElement:function(){return Ms},MarkerElement:function(){return En},MaskElement:function(){return Ta},Matrix:function(){return dn},MissingGlyphElement:function(){return Ml},Mouse:function(){return Ge},PSEUDO_ZERO:function(){return Oe},Parser:function(){return kr},PathElement:function(){return en},PathParser:function(){return ln},PatternElement:function(){return ea},Point:function(){return gt},PolygonElement:function(){return ss},PolylineElement:function(){return nn},Property:function(){return et},QB1:function(){return pt},QB2:function(){return Pe},QB3:function(){return st},RadialGradientElement:function(){return rs},RectElement:function(){return Ts},RenderedElement:function(){return Jn},Rotate:function(){return wn},SVGElement:function(){return li},SVGFontLoader:function(){return po},Scale:function(){return Mn},Screen:function(){return Ut},Skew:function(){return pn},SkewX:function(){return mn},SkewY:function(){return Kn},StopElement:function(){return Ys},StyleElement:function(){return ro},SymbolElement:function(){return kl},TRefElement:function(){return tu},TSpanElement:function(){return cn},TextElement:function(){return An},TextPathElement:function(){return Gs},TitleElement:function(){return Hi},Transform:function(){return ot},Translate:function(){return rn},UnknownElement:function(){return jr},UseElement:function(){return pl},ViewPort:function(){return We},compressSpaces:function(){return T},default:function(){return Vo},getSelectorSpecificity:function(){return Me},normalizeAttributeName:function(){return W},normalizeColor:function(){return re},parseExternalUrl:function(){return q},presets:function(){return E},toNumbers:function(){return P},trimLeft:function(){return C},trimRight:function(){return j},vectorMagnitude:function(){return we},vectorsAngle:function(){return ye},vectorsRatio:function(){return ue}}),l("./node_modules/core-js/modules/es.promise.js");var d=l("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");l("./node_modules/core-js/modules/es.string.match.js"),l("./node_modules/core-js/modules/es.string.replace.js"),l("./node_modules/core-js/modules/es.string.starts-with.js"),l("./node_modules/core-js/modules/es.array.iterator.js"),l("./node_modules/core-js/modules/web.dom-collections.iterator.js");var f=l("./node_modules/@babel/runtime/helpers/esm/defineProperty.js");l("./node_modules/core-js/modules/es.array.reduce.js"),l("./node_modules/core-js/modules/es.string.ends-with.js"),l("./node_modules/core-js/modules/es.string.split.js");var A=l("./node_modules/raf/index.js");l("./node_modules/core-js/modules/es.string.trim.js");var p=l("./node_modules/rgbcolor/index.js");l("./node_modules/core-js/modules/es.array.index-of.js"),l("./node_modules/core-js/modules/es.string.includes.js"),l("./node_modules/core-js/modules/es.array.reverse.js");var v=l("./node_modules/svg-pathdata/lib/SVGPathData.module.js");l("./node_modules/core-js/modules/es.regexp.to-string.js");var y=l("./node_modules/stackblur-canvas/dist/stackblur-es.js");function x(){var{DOMParser:$t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},V={window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:$t,createCanvas(ne,oe){return new OffscreenCanvas(ne,oe)},createImage(ne){return(0,d.default)(function*(){var oe=yield fetch(ne),F=yield oe.blob(),z=yield createImageBitmap(F);return z})()}};return(typeof DOMParser<"u"||typeof $t>"u")&&Reflect.deleteProperty(V,"DOMParser"),V}function w($t){var{DOMParser:V,canvas:ne,fetch:oe}=$t;return{window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:V,fetch:oe,createCanvas:ne.createCanvas,createImage:ne.loadImage}}var E=Object.freeze({__proto__:null,offscreen:x,node:w});function T($t){return $t.replace(/(?!\u3000)\s+/gm," ")}function C($t){return $t.replace(/^[\n \t]+/,"")}function j($t){return $t.replace(/[\n \t]+$/,"")}function P($t){var V=($t||"").match(/-?(\d+(?:\.\d*(?:[eE][+-]?\d+)?)?|\.\d+)(?=\D|$)/gm)||[];return V.map(parseFloat)}var U=/^[A-Z-]+$/;function W($t){return U.test($t)?$t.toLowerCase():$t}function q($t){var V=/url\(('([^']+)'|"([^"]+)"|([^'")]+))\)/.exec($t)||[];return V[2]||V[3]||V[4]}function re($t){if(!$t.startsWith("rgb"))return $t;var V=3,ne=$t.replace(/\d+(\.\d+)?/g,(oe,F)=>V--&&F?String(Math.round(parseFloat(oe))):oe);return ne}var ie=/(\[[^\]]+\])/g,Ae=/(#[^\s+>~.[:]+)/g,be=/(\.[^\s+>~.[:]+)/g,Ee=/(::[^\s+>~.[:]+|:first-line|:first-letter|:before|:after)/gi,ge=/(:[\w-]+\([^)]*\))/gi,se=/(:[^\s+>~.[:]+)/g,xe=/([^\s+>~.[:]+)/g;function ce($t,V){var ne=V.exec($t);return ne?[$t.replace(V," "),ne.length]:[$t,0]}function Me($t){var V=[0,0,0],ne=$t.replace(/:not\(([^)]*)\)/g,"     $1 ").replace(/{[\s\S]*/gm," "),oe=0;return[ne,oe]=ce(ne,ie),V[1]+=oe,[ne,oe]=ce(ne,Ae),V[0]+=oe,[ne,oe]=ce(ne,be),V[1]+=oe,[ne,oe]=ce(ne,Ee),V[2]+=oe,[ne,oe]=ce(ne,ge),V[1]+=oe,[ne,oe]=ce(ne,se),V[1]+=oe,ne=ne.replace(/[*\s+>~]/g," ").replace(/[#.]/g," "),[ne,oe]=ce(ne,xe),V[2]+=oe,V.join("")}var Oe=1e-8;function we($t){return Math.sqrt(Math.pow($t[0],2)+Math.pow($t[1],2))}function ue($t,V){return($t[0]*V[0]+$t[1]*V[1])/(we($t)*we(V))}function ye($t,V){return($t[0]*V[1]<$t[1]*V[0]?-1:1)*Math.acos(ue($t,V))}function Le($t){return $t*$t*$t}function He($t){return 3*$t*$t*(1-$t)}function Fe($t){return 3*$t*(1-$t)*(1-$t)}function At($t){return(1-$t)*(1-$t)*(1-$t)}function pt($t){return $t*$t}function Pe($t){return 2*$t*(1-$t)}function st($t){return(1-$t)*(1-$t)}class et{constructor(V,ne,oe){this.document=V,this.name=ne,this.value=oe,this.isNormalizedColor=!1}static empty(V){return new et(V,"EMPTY","")}split(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:" ",{document:ne,name:oe}=this;return T(this.getString()).trim().split(V).map(F=>new et(ne,oe,F))}hasValue(V){var{value:ne}=this;return ne!==null&&ne!==""&&(V||ne!==0)&&typeof ne<"u"}isString(V){var{value:ne}=this,oe=typeof ne=="string";return!oe||!V?oe:V.test(ne)}isUrlDefinition(){return this.isString(/^url\(/)}isPixels(){if(!this.hasValue())return!1;var V=this.getString();switch(!0){case V.endsWith("px"):case/^[0-9]+$/.test(V):return!0;default:return!1}}setValue(V){return this.value=V,this}getValue(V){return typeof V>"u"||this.hasValue()?this.value:V}getNumber(V){if(!this.hasValue())return typeof V>"u"?0:parseFloat(V);var{value:ne}=this,oe=parseFloat(ne);return this.isString(/%$/)&&(oe/=100),oe}getString(V){return typeof V>"u"||this.hasValue()?typeof this.value>"u"?"":String(this.value):String(V)}getColor(V){var ne=this.getString(V);return this.isNormalizedColor||(this.isNormalizedColor=!0,ne=re(ne),this.value=ne),ne}getDpi(){return 96}getRem(){return this.document.rootEmSize}getEm(){return this.document.emSize}getUnits(){return this.getString().replace(/[0-9.-]/g,"")}getPixels(V){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!this.hasValue())return 0;var[oe,F]=typeof V=="boolean"?[void 0,V]:[V],{viewPort:z}=this.document.screen;switch(!0){case this.isString(/vmin$/):return this.getNumber()/100*Math.min(z.computeSize("x"),z.computeSize("y"));case this.isString(/vmax$/):return this.getNumber()/100*Math.max(z.computeSize("x"),z.computeSize("y"));case this.isString(/vw$/):return this.getNumber()/100*z.computeSize("x");case this.isString(/vh$/):return this.getNumber()/100*z.computeSize("y");case this.isString(/rem$/):return this.getNumber()*this.getRem();case this.isString(/em$/):return this.getNumber()*this.getEm();case this.isString(/ex$/):return this.getNumber()*this.getEm()/2;case this.isString(/px$/):return this.getNumber();case this.isString(/pt$/):return this.getNumber()*this.getDpi()*.013888888888888888;case this.isString(/pc$/):return this.getNumber()*15;case this.isString(/cm$/):return this.getNumber()*this.getDpi()/2.54;case this.isString(/mm$/):return this.getNumber()*this.getDpi()/25.4;case this.isString(/in$/):return this.getNumber()*this.getDpi();case(this.isString(/%$/)&&F):return this.getNumber()*this.getEm();case this.isString(/%$/):return this.getNumber()*z.computeSize(oe);default:{var te=this.getNumber();return ne&&te<1?te*z.computeSize(oe):te}}}getMilliseconds(){return this.hasValue()?this.isString(/ms$/)?this.getNumber():this.getNumber()*1e3:0}getRadians(){if(!this.hasValue())return 0;switch(!0){case this.isString(/deg$/):return this.getNumber()*(Math.PI/180);case this.isString(/grad$/):return this.getNumber()*(Math.PI/200);case this.isString(/rad$/):return this.getNumber();default:return this.getNumber()*(Math.PI/180)}}getDefinition(){var V=this.getString(),ne=/#([^)'"]+)/.exec(V);return ne&&(ne=ne[1]),ne||(ne=V),this.document.definitions[ne]}getFillStyleDefinition(V,ne){var oe=this.getDefinition();if(!oe)return null;if(typeof oe.createGradient=="function")return oe.createGradient(this.document.ctx,V,ne);if(typeof oe.createPattern=="function"){if(oe.getHrefAttribute().hasValue()){var F=oe.getAttribute("patternTransform");oe=oe.getHrefAttribute().getDefinition(),F.hasValue()&&oe.getAttribute("patternTransform",!0).setValue(F.value)}return oe.createPattern(this.document.ctx,V,ne)}return null}getTextBaseline(){return this.hasValue()?et.textBaselineMapping[this.getString()]:null}addOpacity(V){for(var ne=this.getColor(),oe=ne.length,F=0,z=0;z<oe&&(ne[z]===","&&F++,F!==3);z++);if(V.hasValue()&&this.isString()&&F!==3){var te=new p(ne);te.ok&&(te.alpha=V.getNumber(),ne=te.toRGBA())}return new et(this.document,this.name,ne)}}et.textBaselineMapping={baseline:"alphabetic","before-edge":"top","text-before-edge":"top",middle:"middle",central:"middle","after-edge":"bottom","text-after-edge":"bottom",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"alphabetic"};class We{constructor(){this.viewPorts=[]}clear(){this.viewPorts=[]}setCurrent(V,ne){this.viewPorts.push({width:V,height:ne})}removeCurrent(){this.viewPorts.pop()}getCurrent(){var{viewPorts:V}=this;return V[V.length-1]}get width(){return this.getCurrent().width}get height(){return this.getCurrent().height}computeSize(V){return typeof V=="number"?V:V==="x"?this.width:V==="y"?this.height:Math.sqrt(Math.pow(this.width,2)+Math.pow(this.height,2))/Math.sqrt(2)}}class gt{constructor(V,ne){this.x=V,this.y=ne}static parse(V){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,[oe=ne,F=ne]=P(V);return new gt(oe,F)}static parseScale(V){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,[oe=ne,F=oe]=P(V);return new gt(oe,F)}static parsePath(V){for(var ne=P(V),oe=ne.length,F=[],z=0;z<oe;z+=2)F.push(new gt(ne[z],ne[z+1]));return F}angleTo(V){return Math.atan2(V.y-this.y,V.x-this.x)}applyTransform(V){var{x:ne,y:oe}=this,F=ne*V[0]+oe*V[2]+V[4],z=ne*V[1]+oe*V[3]+V[5];this.x=F,this.y=z}}class Ge{constructor(V){this.screen=V,this.working=!1,this.events=[],this.eventElements=[],this.onClick=this.onClick.bind(this),this.onMouseMove=this.onMouseMove.bind(this)}isWorking(){return this.working}start(){if(!this.working){var{screen:V,onClick:ne,onMouseMove:oe}=this,F=V.ctx.canvas;F.onclick=ne,F.onmousemove=oe,this.working=!0}}stop(){if(this.working){var V=this.screen.ctx.canvas;this.working=!1,V.onclick=null,V.onmousemove=null}}hasEvents(){return this.working&&this.events.length>0}runEvents(){if(this.working){var{screen:V,events:ne,eventElements:oe}=this,{style:F}=V.ctx.canvas;F&&(F.cursor=""),ne.forEach((z,te)=>{for(var{run:he}=z,Te=oe[te];Te;)he(Te),Te=Te.parent}),this.events=[],this.eventElements=[]}}checkPath(V,ne){if(!(!this.working||!ne)){var{events:oe,eventElements:F}=this;oe.forEach((z,te)=>{var{x:he,y:Te}=z;!F[te]&&ne.isPointInPath&&ne.isPointInPath(he,Te)&&(F[te]=V)})}}checkBoundingBox(V,ne){if(!(!this.working||!ne)){var{events:oe,eventElements:F}=this;oe.forEach((z,te)=>{var{x:he,y:Te}=z;!F[te]&&ne.isPointInBox(he,Te)&&(F[te]=V)})}}mapXY(V,ne){for(var{window:oe,ctx:F}=this.screen,z=new gt(V,ne),te=F.canvas;te;)z.x-=te.offsetLeft,z.y-=te.offsetTop,te=te.offsetParent;return oe.scrollX&&(z.x+=oe.scrollX),oe.scrollY&&(z.y+=oe.scrollY),z}onClick(V){var{x:ne,y:oe}=this.mapXY(V.clientX,V.clientY);this.events.push({type:"onclick",x:ne,y:oe,run(F){F.onClick&&F.onClick()}})}onMouseMove(V){var{x:ne,y:oe}=this.mapXY(V.clientX,V.clientY);this.events.push({type:"onmousemove",x:ne,y:oe,run(F){F.onMouseMove&&F.onMouseMove()}})}}var Ct=typeof window<"u"?window:null,Et=typeof fetch<"u"?fetch.bind(void 0):null;class Ut{constructor(V){var{fetch:ne=Et,window:oe=Ct}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.ctx=V,this.FRAMERATE=30,this.MAX_VIRTUAL_PIXELS=3e4,this.CLIENT_WIDTH=800,this.CLIENT_HEIGHT=600,this.viewPort=new We,this.mouse=new Ge(this),this.animations=[],this.waits=[],this.frameDuration=0,this.isReadyLock=!1,this.isFirstRender=!0,this.intervalId=null,this.window=oe,this.fetch=ne}wait(V){this.waits.push(V)}ready(){return this.readyPromise?this.readyPromise:Promise.resolve()}isReady(){if(this.isReadyLock)return!0;var V=this.waits.every(ne=>ne());return V&&(this.waits=[],this.resolveReady&&this.resolveReady()),this.isReadyLock=V,V}setDefaults(V){V.strokeStyle="rgba(0,0,0,0)",V.lineCap="butt",V.lineJoin="miter",V.miterLimit=4}setViewBox(V){var{document:ne,ctx:oe,aspectRatio:F,width:z,desiredWidth:te,height:he,desiredHeight:Te,minX:Ue=0,minY:ct=0,refX:B,refY:N,clip:D=!1,clipX:K=0,clipY:X=0}=V,ee=T(F).replace(/^defer\s/,""),[ve,de]=ee.split(" "),fe=ve||"xMidYMid",ke=de||"meet",Qe=z/te,Xe=he/Te,lt=Math.min(Qe,Xe),Ce=Math.max(Qe,Xe),_t=te,at=Te;ke==="meet"&&(_t*=lt,at*=lt),ke==="slice"&&(_t*=Ce,at*=Ce);var Tt=new et(ne,"refX",B),rt=new et(ne,"refY",N),Bt=Tt.hasValue()&&rt.hasValue();if(Bt&&oe.translate(-lt*Tt.getPixels("x"),-lt*rt.getPixels("y")),D){var Yt=lt*K,kt=lt*X;oe.beginPath(),oe.moveTo(Yt,kt),oe.lineTo(z,kt),oe.lineTo(z,he),oe.lineTo(Yt,he),oe.closePath(),oe.clip()}if(!Bt){var tt=ke==="meet"&&lt===Xe,Vt=ke==="slice"&&Ce===Xe,Er=ke==="meet"&&lt===Qe,nr=ke==="slice"&&Ce===Qe;fe.startsWith("xMid")&&(tt||Vt)&&oe.translate(z/2-_t/2,0),fe.endsWith("YMid")&&(Er||nr)&&oe.translate(0,he/2-at/2),fe.startsWith("xMax")&&(tt||Vt)&&oe.translate(z-_t,0),fe.endsWith("YMax")&&(Er||nr)&&oe.translate(0,he-at)}switch(!0){case fe==="none":oe.scale(Qe,Xe);break;case ke==="meet":oe.scale(lt,lt);break;case ke==="slice":oe.scale(Ce,Ce);break}oe.translate(-Ue,-ct)}start(V){var{enableRedraw:ne=!1,ignoreMouse:oe=!1,ignoreAnimation:F=!1,ignoreDimensions:z=!1,ignoreClear:te=!1,forceRedraw:he,scaleWidth:Te,scaleHeight:Ue,offsetX:ct,offsetY:B}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{FRAMERATE:N,mouse:D}=this,K=1e3/N;if(this.frameDuration=K,this.readyPromise=new Promise(fe=>{this.resolveReady=fe}),this.isReady()&&this.render(V,z,te,Te,Ue,ct,B),!!ne){var X=Date.now(),ee=X,ve=0,de=()=>{X=Date.now(),ve=X-ee,ve>=K&&(ee=X-ve%K,this.shouldUpdate(F,he)&&(this.render(V,z,te,Te,Ue,ct,B),D.runEvents())),this.intervalId=A(de)};oe||D.start(),this.intervalId=A(de)}}stop(){this.intervalId&&(A.cancel(this.intervalId),this.intervalId=null),this.mouse.stop()}shouldUpdate(V,ne){if(!V){var{frameDuration:oe}=this,F=this.animations.reduce((z,te)=>te.update(oe)||z,!1);if(F)return!0}return!!(typeof ne=="function"&&ne()||!this.isReadyLock&&this.isReady()||this.mouse.hasEvents())}render(V,ne,oe,F,z,te,he){var{CLIENT_WIDTH:Te,CLIENT_HEIGHT:Ue,viewPort:ct,ctx:B,isFirstRender:N}=this,D=B.canvas;ct.clear(),D.width&&D.height?ct.setCurrent(D.width,D.height):ct.setCurrent(Te,Ue);var K=V.getStyle("width"),X=V.getStyle("height");!ne&&(N||typeof F!="number"&&typeof z!="number")&&(K.hasValue()&&(D.width=K.getPixels("x"),D.style&&(D.style.width="".concat(D.width,"px"))),X.hasValue()&&(D.height=X.getPixels("y"),D.style&&(D.style.height="".concat(D.height,"px"))));var ee=D.clientWidth||D.width,ve=D.clientHeight||D.height;if(ne&&K.hasValue()&&X.hasValue()&&(ee=K.getPixels("x"),ve=X.getPixels("y")),ct.setCurrent(ee,ve),typeof te=="number"&&V.getAttribute("x",!0).setValue(te),typeof he=="number"&&V.getAttribute("y",!0).setValue(he),typeof F=="number"||typeof z=="number"){var de=P(V.getAttribute("viewBox").getString()),fe=0,ke=0;if(typeof F=="number"){var Qe=V.getStyle("width");Qe.hasValue()?fe=Qe.getPixels("x")/F:isNaN(de[2])||(fe=de[2]/F)}if(typeof z=="number"){var Xe=V.getStyle("height");Xe.hasValue()?ke=Xe.getPixels("y")/z:isNaN(de[3])||(ke=de[3]/z)}fe||(fe=ke),ke||(ke=fe),V.getAttribute("width",!0).setValue(F),V.getAttribute("height",!0).setValue(z);var lt=V.getStyle("transform",!0,!0);lt.setValue("".concat(lt.getString()," scale(").concat(1/fe,", ").concat(1/ke,")"))}oe||B.clearRect(0,0,ee,ve),V.render(B),N&&(this.isFirstRender=!1)}}Ut.defaultWindow=Ct,Ut.defaultFetch=Et;var{defaultFetch:ir}=Ut,on=typeof DOMParser<"u"?DOMParser:null;class kr{constructor(){var{fetch:V=ir,DOMParser:ne=on}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.fetch=V,this.DOMParser=ne}parse(V){var ne=this;return(0,d.default)(function*(){return V.startsWith("<")?ne.parseFromString(V):ne.load(V)})()}parseFromString(V){var ne=new this.DOMParser;try{return this.checkDocument(ne.parseFromString(V,"image/svg+xml"))}catch{return this.checkDocument(ne.parseFromString(V,"text/xml"))}}checkDocument(V){var ne=V.getElementsByTagName("parsererror")[0];if(ne)throw new Error(ne.textContent);return V}load(V){var ne=this;return(0,d.default)(function*(){var oe=yield ne.fetch(V),F=yield oe.text();return ne.parseFromString(F)})()}}class rn{constructor(V,ne){this.type="translate",this.point=null,this.point=gt.parse(ne)}apply(V){var{x:ne,y:oe}=this.point;V.translate(ne||0,oe||0)}unapply(V){var{x:ne,y:oe}=this.point;V.translate(-1*ne||0,-1*oe||0)}applyToPoint(V){var{x:ne,y:oe}=this.point;V.applyTransform([1,0,0,1,ne||0,oe||0])}}class wn{constructor(V,ne,oe){this.type="rotate",this.angle=null,this.originX=null,this.originY=null,this.cx=0,this.cy=0;var F=P(ne);this.angle=new et(V,"angle",F[0]),this.originX=oe[0],this.originY=oe[1],this.cx=F[1]||0,this.cy=F[2]||0}apply(V){var{cx:ne,cy:oe,originX:F,originY:z,angle:te}=this,he=ne+F.getPixels("x"),Te=oe+z.getPixels("y");V.translate(he,Te),V.rotate(te.getRadians()),V.translate(-he,-Te)}unapply(V){var{cx:ne,cy:oe,originX:F,originY:z,angle:te}=this,he=ne+F.getPixels("x"),Te=oe+z.getPixels("y");V.translate(he,Te),V.rotate(-1*te.getRadians()),V.translate(-he,-Te)}applyToPoint(V){var{cx:ne,cy:oe,angle:F}=this,z=F.getRadians();V.applyTransform([1,0,0,1,ne||0,oe||0]),V.applyTransform([Math.cos(z),Math.sin(z),-Math.sin(z),Math.cos(z),0,0]),V.applyTransform([1,0,0,1,-ne||0,-oe||0])}}class Mn{constructor(V,ne,oe){this.type="scale",this.scale=null,this.originX=null,this.originY=null;var F=gt.parseScale(ne);(F.x===0||F.y===0)&&(F.x=Oe,F.y=Oe),this.scale=F,this.originX=oe[0],this.originY=oe[1]}apply(V){var{scale:{x:ne,y:oe},originX:F,originY:z}=this,te=F.getPixels("x"),he=z.getPixels("y");V.translate(te,he),V.scale(ne,oe||ne),V.translate(-te,-he)}unapply(V){var{scale:{x:ne,y:oe},originX:F,originY:z}=this,te=F.getPixels("x"),he=z.getPixels("y");V.translate(te,he),V.scale(1/ne,1/oe||ne),V.translate(-te,-he)}applyToPoint(V){var{x:ne,y:oe}=this.scale;V.applyTransform([ne||0,0,0,oe||0,0,0])}}class dn{constructor(V,ne,oe){this.type="matrix",this.matrix=[],this.originX=null,this.originY=null,this.matrix=P(ne),this.originX=oe[0],this.originY=oe[1]}apply(V){var{originX:ne,originY:oe,matrix:F}=this,z=ne.getPixels("x"),te=oe.getPixels("y");V.translate(z,te),V.transform(F[0],F[1],F[2],F[3],F[4],F[5]),V.translate(-z,-te)}unapply(V){var{originX:ne,originY:oe,matrix:F}=this,z=F[0],te=F[2],he=F[4],Te=F[1],Ue=F[3],ct=F[5],B=0,N=0,D=1,K=1/(z*(Ue*D-ct*N)-te*(Te*D-ct*B)+he*(Te*N-Ue*B)),X=ne.getPixels("x"),ee=oe.getPixels("y");V.translate(X,ee),V.transform(K*(Ue*D-ct*N),K*(ct*B-Te*D),K*(he*N-te*D),K*(z*D-he*B),K*(te*ct-he*Ue),K*(he*Te-z*ct)),V.translate(-X,-ee)}applyToPoint(V){V.applyTransform(this.matrix)}}class pn extends dn{constructor(V,ne,oe){super(V,ne,oe),this.type="skew",this.angle=null,this.angle=new et(V,"angle",ne)}}class mn extends pn{constructor(V,ne,oe){super(V,ne,oe),this.type="skewX",this.matrix=[1,0,Math.tan(this.angle.getRadians()),1,0,0]}}class Kn extends pn{constructor(V,ne,oe){super(V,ne,oe),this.type="skewY",this.matrix=[1,Math.tan(this.angle.getRadians()),0,1,0,0]}}function Zn($t){return T($t).trim().replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/)}function Li($t){var[V,ne]=$t.split("(");return[V.trim(),ne.trim().replace(")","")]}class ot{constructor(V,ne,oe){this.document=V,this.transforms=[];var F=Zn(ne);F.forEach(z=>{if(z!=="none"){var[te,he]=Li(z),Te=ot.transformTypes[te];typeof Te<"u"&&this.transforms.push(new Te(this.document,he,oe))}})}static fromElement(V,ne){var oe=ne.getStyle("transform",!1,!0),[F,z=F]=ne.getStyle("transform-origin",!1,!0).split(),te=[F,z];return oe.hasValue()?new ot(V,oe.getString(),te):null}apply(V){for(var{transforms:ne}=this,oe=ne.length,F=0;F<oe;F++)ne[F].apply(V)}unapply(V){for(var{transforms:ne}=this,oe=ne.length,F=oe-1;F>=0;F--)ne[F].unapply(V)}applyToPoint(V){for(var{transforms:ne}=this,oe=ne.length,F=0;F<oe;F++)ne[F].applyToPoint(V)}}ot.transformTypes={translate:rn,rotate:wn,scale:Mn,matrix:dn,skewX:mn,skewY:Kn};class Wt{constructor(V,ne){var oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(this.document=V,this.node=ne,this.captureTextNodes=oe,this.attributes=Object.create(null),this.styles=Object.create(null),this.stylesSpecificity=Object.create(null),this.animationFrozen=!1,this.animationFrozenValue="",this.parent=null,this.children=[],!(!ne||ne.nodeType!==1)){if(Array.from(ne.attributes).forEach(he=>{var Te=W(he.nodeName);this.attributes[Te]=new et(V,Te,he.value)}),this.addStylesFromStyleDefinition(),this.getAttribute("style").hasValue()){var F=this.getAttribute("style").getString().split(";").map(he=>he.trim());F.forEach(he=>{if(he){var[Te,Ue]=he.split(":").map(ct=>ct.trim());this.styles[Te]=new et(V,Te,Ue)}})}var{definitions:z}=V,te=this.getAttribute("id");te.hasValue()&&(z[te.getString()]||(z[te.getString()]=this)),Array.from(ne.childNodes).forEach(he=>{if(he.nodeType===1)this.addChild(he);else if(oe&&(he.nodeType===3||he.nodeType===4)){var Te=V.createTextNode(he);Te.getText().length>0&&this.addChild(Te)}})}}getAttribute(V){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,oe=this.attributes[V];if(!oe&&ne){var F=new et(this.document,V,"");return this.attributes[V]=F,F}return oe||et.empty(this.document)}getHrefAttribute(){for(var V in this.attributes)if(V==="href"||V.endsWith(":href"))return this.attributes[V];return et.empty(this.document)}getStyle(V){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,F=this.styles[V];if(F)return F;var z=this.getAttribute(V);if(z!=null&&z.hasValue())return this.styles[V]=z,z;if(!oe){var{parent:te}=this;if(te){var he=te.getStyle(V);if(he!=null&&he.hasValue())return he}}if(ne){var Te=new et(this.document,V,"");return this.styles[V]=Te,Te}return F||et.empty(this.document)}render(V){if(!(this.getStyle("display").getString()==="none"||this.getStyle("visibility").getString()==="hidden")){if(V.save(),this.getStyle("mask").hasValue()){var ne=this.getStyle("mask").getDefinition();ne&&(this.applyEffects(V),ne.apply(V,this))}else if(this.getStyle("filter").getValue("none")!=="none"){var oe=this.getStyle("filter").getDefinition();oe&&(this.applyEffects(V),oe.apply(V,this))}else this.setContext(V),this.renderChildren(V),this.clearContext(V);V.restore()}}setContext(V){}applyEffects(V){var ne=ot.fromElement(this.document,this);ne&&ne.apply(V);var oe=this.getStyle("clip-path",!1,!0);if(oe.hasValue()){var F=oe.getDefinition();F&&F.apply(V)}}clearContext(V){}renderChildren(V){this.children.forEach(ne=>{ne.render(V)})}addChild(V){var ne=V instanceof Wt?V:this.document.createElement(V);ne.parent=this,Wt.ignoreChildTypes.includes(ne.type)||this.children.push(ne)}matchesSelector(V){var ne,{node:oe}=this;if(typeof oe.matches=="function")return oe.matches(V);var F=(ne=oe.getAttribute)===null||ne===void 0?void 0:ne.call(oe,"class");return!F||F===""?!1:F.split(" ").some(z=>".".concat(z)===V)}addStylesFromStyleDefinition(){var{styles:V,stylesSpecificity:ne}=this.document;for(var oe in V)if(!oe.startsWith("@")&&this.matchesSelector(oe)){var F=V[oe],z=ne[oe];if(F)for(var te in F){var he=this.stylesSpecificity[te];typeof he>"u"&&(he="000"),z>=he&&(this.styles[te]=F[te],this.stylesSpecificity[te]=z)}}}removeStyles(V,ne){var oe=ne.reduce((F,z)=>{var te=V.getStyle(z);if(!te.hasValue())return F;var he=te.getString();return te.setValue(""),[...F,[z,he]]},[]);return oe}restoreStyles(V,ne){ne.forEach(oe=>{var[F,z]=oe;V.getStyle(F,!0).setValue(z)})}isFirstChild(){var V;return((V=this.parent)===null||V===void 0?void 0:V.children.indexOf(this))===0}}Wt.ignoreChildTypes=["title"];class jr extends Wt{constructor(V,ne,oe){super(V,ne,oe)}}function rr($t){var V=$t.trim();return/^('|")/.test(V)?V:'"'.concat(V,'"')}function Ht($t){return typeof process>"u"?$t:$t.trim().split(",").map(rr).join(",")}function fr($t){if(!$t)return"";var V=$t.trim().toLowerCase();switch(V){case"normal":case"italic":case"oblique":case"inherit":case"initial":case"unset":return V;default:return/^oblique\s+(-|)\d+deg$/.test(V)?V:""}}function Hr($t){if(!$t)return"";var V=$t.trim().toLowerCase();switch(V){case"normal":case"bold":case"lighter":case"bolder":case"inherit":case"initial":case"unset":return V;default:return/^[\d.]+$/.test(V)?V:""}}class Gr{constructor(V,ne,oe,F,z,te){var he=te?typeof te=="string"?Gr.parse(te):te:{};this.fontFamily=z||he.fontFamily,this.fontSize=F||he.fontSize,this.fontStyle=V||he.fontStyle,this.fontWeight=oe||he.fontWeight,this.fontVariant=ne||he.fontVariant}static parse(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",ne=arguments.length>1?arguments[1]:void 0,oe="",F="",z="",te="",he="",Te=T(V).trim().split(" "),Ue={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1};return Te.forEach(ct=>{switch(!0){case(!Ue.fontStyle&&Gr.styles.includes(ct)):ct!=="inherit"&&(oe=ct),Ue.fontStyle=!0;break;case(!Ue.fontVariant&&Gr.variants.includes(ct)):ct!=="inherit"&&(F=ct),Ue.fontStyle=!0,Ue.fontVariant=!0;break;case(!Ue.fontWeight&&Gr.weights.includes(ct)):ct!=="inherit"&&(z=ct),Ue.fontStyle=!0,Ue.fontVariant=!0,Ue.fontWeight=!0;break;case!Ue.fontSize:ct!=="inherit"&&([te]=ct.split("/")),Ue.fontStyle=!0,Ue.fontVariant=!0,Ue.fontWeight=!0,Ue.fontSize=!0;break;default:ct!=="inherit"&&(he+=ct)}}),new Gr(oe,F,z,te,he,ne)}toString(){return[fr(this.fontStyle),this.fontVariant,Hr(this.fontWeight),this.fontSize,Ht(this.fontFamily)].join(" ").trim()}}Gr.styles="normal|italic|oblique|inherit",Gr.variants="normal|small-caps|inherit",Gr.weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit";class Ln{constructor(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Number.NaN,ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.NaN,oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Number.NaN,F=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Number.NaN;this.x1=V,this.y1=ne,this.x2=oe,this.y2=F,this.addPoint(V,ne),this.addPoint(oe,F)}get x(){return this.x1}get y(){return this.y1}get width(){return this.x2-this.x1}get height(){return this.y2-this.y1}addPoint(V,ne){typeof V<"u"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=V,this.x2=V),V<this.x1&&(this.x1=V),V>this.x2&&(this.x2=V)),typeof ne<"u"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=ne,this.y2=ne),ne<this.y1&&(this.y1=ne),ne>this.y2&&(this.y2=ne))}addX(V){this.addPoint(V,null)}addY(V){this.addPoint(null,V)}addBoundingBox(V){if(V){var{x1:ne,y1:oe,x2:F,y2:z}=V;this.addPoint(ne,oe),this.addPoint(F,z)}}sumCubic(V,ne,oe,F,z){return Math.pow(1-V,3)*ne+3*Math.pow(1-V,2)*V*oe+3*(1-V)*Math.pow(V,2)*F+Math.pow(V,3)*z}bezierCurveAdd(V,ne,oe,F,z){var te=6*ne-12*oe+6*F,he=-3*ne+9*oe-9*F+3*z,Te=3*oe-3*ne;if(he===0){if(te===0)return;var Ue=-Te/te;0<Ue&&Ue<1&&(V?this.addX(this.sumCubic(Ue,ne,oe,F,z)):this.addY(this.sumCubic(Ue,ne,oe,F,z)));return}var ct=Math.pow(te,2)-4*Te*he;if(!(ct<0)){var B=(-te+Math.sqrt(ct))/(2*he);0<B&&B<1&&(V?this.addX(this.sumCubic(B,ne,oe,F,z)):this.addY(this.sumCubic(B,ne,oe,F,z)));var N=(-te-Math.sqrt(ct))/(2*he);0<N&&N<1&&(V?this.addX(this.sumCubic(N,ne,oe,F,z)):this.addY(this.sumCubic(N,ne,oe,F,z)))}}addBezierCurve(V,ne,oe,F,z,te,he,Te){this.addPoint(V,ne),this.addPoint(he,Te),this.bezierCurveAdd(!0,V,oe,z,he),this.bezierCurveAdd(!1,ne,F,te,Te)}addQuadraticCurve(V,ne,oe,F,z,te){var he=V+.6666666666666666*(oe-V),Te=ne+2/3*(F-ne),Ue=he+1/3*(z-V),ct=Te+1/3*(te-ne);this.addBezierCurve(V,ne,he,Ue,Te,ct,z,te)}isPointInBox(V,ne){var{x1:oe,y1:F,x2:z,y2:te}=this;return oe<=V&&V<=z&&F<=ne&&ne<=te}}class ln extends v.SVGPathData{constructor(V){super(V.replace(/([+\-.])\s+/gm,"$1").replace(/[^MmZzLlHhVvCcSsQqTtAae\d\s.,+-].*/g,"")),this.control=null,this.start=null,this.current=null,this.command=null,this.commands=this.commands,this.i=-1,this.previousCommand=null,this.points=[],this.angles=[]}reset(){this.i=-1,this.command=null,this.previousCommand=null,this.start=new gt(0,0),this.control=new gt(0,0),this.current=new gt(0,0),this.points=[],this.angles=[]}isEnd(){var{i:V,commands:ne}=this;return V>=ne.length-1}next(){var V=this.commands[++this.i];return this.previousCommand=this.command,this.command=V,V}getPoint(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"x",ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"y",oe=new gt(this.command[V],this.command[ne]);return this.makeAbsolute(oe)}getAsControlPoint(V,ne){var oe=this.getPoint(V,ne);return this.control=oe,oe}getAsCurrentPoint(V,ne){var oe=this.getPoint(V,ne);return this.current=oe,oe}getReflectedControlPoint(){var V=this.previousCommand.type;if(V!==v.SVGPathData.CURVE_TO&&V!==v.SVGPathData.SMOOTH_CURVE_TO&&V!==v.SVGPathData.QUAD_TO&&V!==v.SVGPathData.SMOOTH_QUAD_TO)return this.current;var{current:{x:ne,y:oe},control:{x:F,y:z}}=this,te=new gt(2*ne-F,2*oe-z);return te}makeAbsolute(V){if(this.command.relative){var{x:ne,y:oe}=this.current;V.x+=ne,V.y+=oe}return V}addMarker(V,ne,oe){var{points:F,angles:z}=this;oe&&z.length>0&&!z[z.length-1]&&(z[z.length-1]=F[F.length-1].angleTo(oe)),this.addMarkerAngle(V,ne?ne.angleTo(V):null)}addMarkerAngle(V,ne){this.points.push(V),this.angles.push(ne)}getMarkerPoints(){return this.points}getMarkerAngles(){for(var{angles:V}=this,ne=V.length,oe=0;oe<ne;oe++)if(!V[oe]){for(var F=oe+1;F<ne;F++)if(V[F]){V[oe]=V[F];break}}return V}}class Jn extends Wt{constructor(){super(...arguments),this.modifiedEmSizeStack=!1}calculateOpacity(){for(var V=1,ne=this;ne;){var oe=ne.getStyle("opacity",!1,!0);oe.hasValue(!0)&&(V*=oe.getNumber()),ne=ne.parent}return V}setContext(V){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!ne){var oe=this.getStyle("fill"),F=this.getStyle("fill-opacity"),z=this.getStyle("stroke"),te=this.getStyle("stroke-opacity");if(oe.isUrlDefinition()){var he=oe.getFillStyleDefinition(this,F);he&&(V.fillStyle=he)}else if(oe.hasValue()){oe.getString()==="currentColor"&&oe.setValue(this.getStyle("color").getColor());var Te=oe.getColor();Te!=="inherit"&&(V.fillStyle=Te==="none"?"rgba(0,0,0,0)":Te)}if(F.hasValue()){var Ue=new et(this.document,"fill",V.fillStyle).addOpacity(F).getColor();V.fillStyle=Ue}if(z.isUrlDefinition()){var ct=z.getFillStyleDefinition(this,te);ct&&(V.strokeStyle=ct)}else if(z.hasValue()){z.getString()==="currentColor"&&z.setValue(this.getStyle("color").getColor());var B=z.getString();B!=="inherit"&&(V.strokeStyle=B==="none"?"rgba(0,0,0,0)":B)}if(te.hasValue()){var N=new et(this.document,"stroke",V.strokeStyle).addOpacity(te).getString();V.strokeStyle=N}var D=this.getStyle("stroke-width");if(D.hasValue()){var K=D.getPixels();V.lineWidth=K||Oe}var X=this.getStyle("stroke-linecap"),ee=this.getStyle("stroke-linejoin"),ve=this.getStyle("stroke-miterlimit"),de=this.getStyle("stroke-dasharray"),fe=this.getStyle("stroke-dashoffset");if(X.hasValue()&&(V.lineCap=X.getString()),ee.hasValue()&&(V.lineJoin=ee.getString()),ve.hasValue()&&(V.miterLimit=ve.getNumber()),de.hasValue()&&de.getString()!=="none"){var ke=P(de.getString());typeof V.setLineDash<"u"?V.setLineDash(ke):typeof V.webkitLineDash<"u"?V.webkitLineDash=ke:typeof V.mozDash<"u"&&!(ke.length===1&&ke[0]===0)&&(V.mozDash=ke);var Qe=fe.getPixels();typeof V.lineDashOffset<"u"?V.lineDashOffset=Qe:typeof V.webkitLineDashOffset<"u"?V.webkitLineDashOffset=Qe:typeof V.mozDashOffset<"u"&&(V.mozDashOffset=Qe)}}if(this.modifiedEmSizeStack=!1,typeof V.font<"u"){var Xe=this.getStyle("font"),lt=this.getStyle("font-style"),Ce=this.getStyle("font-variant"),_t=this.getStyle("font-weight"),at=this.getStyle("font-size"),Tt=this.getStyle("font-family"),rt=new Gr(lt.getString(),Ce.getString(),_t.getString(),at.hasValue()?"".concat(at.getPixels(!0),"px"):"",Tt.getString(),Gr.parse(Xe.getString(),V.font));lt.setValue(rt.fontStyle),Ce.setValue(rt.fontVariant),_t.setValue(rt.fontWeight),at.setValue(rt.fontSize),Tt.setValue(rt.fontFamily),V.font=rt.toString(),at.isPixels()&&(this.document.emSize=at.getPixels(),this.modifiedEmSizeStack=!0)}ne||(this.applyEffects(V),V.globalAlpha=this.calculateOpacity())}clearContext(V){super.clearContext(V),this.modifiedEmSizeStack&&this.document.popEmSize()}}class en extends Jn{constructor(V,ne,oe){super(V,ne,oe),this.type="path",this.pathParser=null,this.pathParser=new ln(this.getAttribute("d").getString())}path(V){var{pathParser:ne}=this,oe=new Ln;for(ne.reset(),V&&V.beginPath();!ne.isEnd();)switch(ne.next().type){case ln.MOVE_TO:this.pathM(V,oe);break;case ln.LINE_TO:this.pathL(V,oe);break;case ln.HORIZ_LINE_TO:this.pathH(V,oe);break;case ln.VERT_LINE_TO:this.pathV(V,oe);break;case ln.CURVE_TO:this.pathC(V,oe);break;case ln.SMOOTH_CURVE_TO:this.pathS(V,oe);break;case ln.QUAD_TO:this.pathQ(V,oe);break;case ln.SMOOTH_QUAD_TO:this.pathT(V,oe);break;case ln.ARC:this.pathA(V,oe);break;case ln.CLOSE_PATH:this.pathZ(V,oe);break}return oe}getBoundingBox(V){return this.path()}getMarkers(){var{pathParser:V}=this,ne=V.getMarkerPoints(),oe=V.getMarkerAngles(),F=ne.map((z,te)=>[z,oe[te]]);return F}renderChildren(V){this.path(V),this.document.screen.mouse.checkPath(this,V);var ne=this.getStyle("fill-rule");V.fillStyle!==""&&(ne.getString("inherit")!=="inherit"?V.fill(ne.getString()):V.fill()),V.strokeStyle!==""&&(this.getAttribute("vector-effect").getString()==="non-scaling-stroke"?(V.save(),V.setTransform(1,0,0,1,0,0),V.stroke(),V.restore()):V.stroke());var oe=this.getMarkers();if(oe){var F=oe.length-1,z=this.getStyle("marker-start"),te=this.getStyle("marker-mid"),he=this.getStyle("marker-end");if(z.isUrlDefinition()){var Te=z.getDefinition(),[Ue,ct]=oe[0];Te.render(V,Ue,ct)}if(te.isUrlDefinition())for(var B=te.getDefinition(),N=1;N<F;N++){var[D,K]=oe[N];B.render(V,D,K)}if(he.isUrlDefinition()){var X=he.getDefinition(),[ee,ve]=oe[F];X.render(V,ee,ve)}}}static pathM(V){var ne=V.getAsCurrentPoint();return V.start=V.current,{point:ne}}pathM(V,ne){var{pathParser:oe}=this,{point:F}=en.pathM(oe),{x:z,y:te}=F;oe.addMarker(F),ne.addPoint(z,te),V&&V.moveTo(z,te)}static pathL(V){var{current:ne}=V,oe=V.getAsCurrentPoint();return{current:ne,point:oe}}pathL(V,ne){var{pathParser:oe}=this,{current:F,point:z}=en.pathL(oe),{x:te,y:he}=z;oe.addMarker(z,F),ne.addPoint(te,he),V&&V.lineTo(te,he)}static pathH(V){var{current:ne,command:oe}=V,F=new gt((oe.relative?ne.x:0)+oe.x,ne.y);return V.current=F,{current:ne,point:F}}pathH(V,ne){var{pathParser:oe}=this,{current:F,point:z}=en.pathH(oe),{x:te,y:he}=z;oe.addMarker(z,F),ne.addPoint(te,he),V&&V.lineTo(te,he)}static pathV(V){var{current:ne,command:oe}=V,F=new gt(ne.x,(oe.relative?ne.y:0)+oe.y);return V.current=F,{current:ne,point:F}}pathV(V,ne){var{pathParser:oe}=this,{current:F,point:z}=en.pathV(oe),{x:te,y:he}=z;oe.addMarker(z,F),ne.addPoint(te,he),V&&V.lineTo(te,he)}static pathC(V){var{current:ne}=V,oe=V.getPoint("x1","y1"),F=V.getAsControlPoint("x2","y2"),z=V.getAsCurrentPoint();return{current:ne,point:oe,controlPoint:F,currentPoint:z}}pathC(V,ne){var{pathParser:oe}=this,{current:F,point:z,controlPoint:te,currentPoint:he}=en.pathC(oe);oe.addMarker(he,te,z),ne.addBezierCurve(F.x,F.y,z.x,z.y,te.x,te.y,he.x,he.y),V&&V.bezierCurveTo(z.x,z.y,te.x,te.y,he.x,he.y)}static pathS(V){var{current:ne}=V,oe=V.getReflectedControlPoint(),F=V.getAsControlPoint("x2","y2"),z=V.getAsCurrentPoint();return{current:ne,point:oe,controlPoint:F,currentPoint:z}}pathS(V,ne){var{pathParser:oe}=this,{current:F,point:z,controlPoint:te,currentPoint:he}=en.pathS(oe);oe.addMarker(he,te,z),ne.addBezierCurve(F.x,F.y,z.x,z.y,te.x,te.y,he.x,he.y),V&&V.bezierCurveTo(z.x,z.y,te.x,te.y,he.x,he.y)}static pathQ(V){var{current:ne}=V,oe=V.getAsControlPoint("x1","y1"),F=V.getAsCurrentPoint();return{current:ne,controlPoint:oe,currentPoint:F}}pathQ(V,ne){var{pathParser:oe}=this,{current:F,controlPoint:z,currentPoint:te}=en.pathQ(oe);oe.addMarker(te,z,z),ne.addQuadraticCurve(F.x,F.y,z.x,z.y,te.x,te.y),V&&V.quadraticCurveTo(z.x,z.y,te.x,te.y)}static pathT(V){var{current:ne}=V,oe=V.getReflectedControlPoint();V.control=oe;var F=V.getAsCurrentPoint();return{current:ne,controlPoint:oe,currentPoint:F}}pathT(V,ne){var{pathParser:oe}=this,{current:F,controlPoint:z,currentPoint:te}=en.pathT(oe);oe.addMarker(te,z,z),ne.addQuadraticCurve(F.x,F.y,z.x,z.y,te.x,te.y),V&&V.quadraticCurveTo(z.x,z.y,te.x,te.y)}static pathA(V){var{current:ne,command:oe}=V,{rX:F,rY:z,xRot:te,lArcFlag:he,sweepFlag:Te}=oe,Ue=te*(Math.PI/180),ct=V.getAsCurrentPoint(),B=new gt(Math.cos(Ue)*(ne.x-ct.x)/2+Math.sin(Ue)*(ne.y-ct.y)/2,-Math.sin(Ue)*(ne.x-ct.x)/2+Math.cos(Ue)*(ne.y-ct.y)/2),N=Math.pow(B.x,2)/Math.pow(F,2)+Math.pow(B.y,2)/Math.pow(z,2);N>1&&(F*=Math.sqrt(N),z*=Math.sqrt(N));var D=(he===Te?-1:1)*Math.sqrt((Math.pow(F,2)*Math.pow(z,2)-Math.pow(F,2)*Math.pow(B.y,2)-Math.pow(z,2)*Math.pow(B.x,2))/(Math.pow(F,2)*Math.pow(B.y,2)+Math.pow(z,2)*Math.pow(B.x,2)));isNaN(D)&&(D=0);var K=new gt(D*F*B.y/z,D*-z*B.x/F),X=new gt((ne.x+ct.x)/2+Math.cos(Ue)*K.x-Math.sin(Ue)*K.y,(ne.y+ct.y)/2+Math.sin(Ue)*K.x+Math.cos(Ue)*K.y),ee=ye([1,0],[(B.x-K.x)/F,(B.y-K.y)/z]),ve=[(B.x-K.x)/F,(B.y-K.y)/z],de=[(-B.x-K.x)/F,(-B.y-K.y)/z],fe=ye(ve,de);return ue(ve,de)<=-1&&(fe=Math.PI),ue(ve,de)>=1&&(fe=0),{currentPoint:ct,rX:F,rY:z,sweepFlag:Te,xAxisRotation:Ue,centp:X,a1:ee,ad:fe}}pathA(V,ne){var{pathParser:oe}=this,{currentPoint:F,rX:z,rY:te,sweepFlag:he,xAxisRotation:Te,centp:Ue,a1:ct,ad:B}=en.pathA(oe),N=1-he?1:-1,D=ct+N*(B/2),K=new gt(Ue.x+z*Math.cos(D),Ue.y+te*Math.sin(D));if(oe.addMarkerAngle(K,D-N*Math.PI/2),oe.addMarkerAngle(F,D-N*Math.PI),ne.addPoint(F.x,F.y),V&&!isNaN(ct)&&!isNaN(B)){var X=z>te?z:te,ee=z>te?1:z/te,ve=z>te?te/z:1;V.translate(Ue.x,Ue.y),V.rotate(Te),V.scale(ee,ve),V.arc(0,0,X,ct,ct+B,!!(1-he)),V.scale(1/ee,1/ve),V.rotate(-Te),V.translate(-Ue.x,-Ue.y)}}static pathZ(V){V.current=V.start}pathZ(V,ne){en.pathZ(this.pathParser),V&&ne.x1!==ne.x2&&ne.y1!==ne.y2&&V.closePath()}}class Dr extends en{constructor(V,ne,oe){super(V,ne,oe),this.type="glyph",this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber(),this.unicode=this.getAttribute("unicode").getString(),this.arabicForm=this.getAttribute("arabic-form").getString()}}class An extends Jn{constructor(V,ne,oe){super(V,ne,new.target===An?!0:oe),this.type="text",this.x=0,this.y=0,this.measureCache=-1}setContext(V){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;super.setContext(V,ne);var oe=this.getStyle("dominant-baseline").getTextBaseline()||this.getStyle("alignment-baseline").getTextBaseline();oe&&(V.textBaseline=oe)}initializeCoordinates(){this.x=0,this.y=0,this.leafTexts=[],this.textChunkStart=0,this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY}getBoundingBox(V){if(this.type!=="text")return this.getTElementBoundingBox(V);this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(V);var ne=null;return this.children.forEach((oe,F)=>{var z=this.getChildBoundingBox(V,this,this,F);ne?ne.addBoundingBox(z):ne=z}),ne}getFontSize(){var{document:V,parent:ne}=this,oe=Gr.parse(V.ctx.font).fontSize,F=ne.getStyle("font-size").getNumber(oe);return F}getTElementBoundingBox(V){var ne=this.getFontSize();return new Ln(this.x,this.y-ne,this.x+this.measureText(V),this.y)}getGlyph(V,ne,oe){var F=ne[oe],z=null;if(V.isArabic){var te=ne.length,he=ne[oe-1],Te=ne[oe+1],Ue="isolated";if((oe===0||he===" ")&&oe<te-1&&Te!==" "&&(Ue="terminal"),oe>0&&he!==" "&&oe<te-1&&Te!==" "&&(Ue="medial"),oe>0&&he!==" "&&(oe===te-1||Te===" ")&&(Ue="initial"),typeof V.glyphs[F]<"u"){var ct=V.glyphs[F];z=ct instanceof Dr?ct:ct[Ue]}}else z=V.glyphs[F];return z||(z=V.missingGlyph),z}getText(){return""}getTextFromNode(V){var ne=V||this.node,oe=Array.from(ne.parentNode.childNodes),F=oe.indexOf(ne),z=oe.length-1,te=T(ne.textContent||"");return F===0&&(te=C(te)),F===z&&(te=j(te)),te}renderChildren(V){if(this.type!=="text"){this.renderTElementChildren(V);return}this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(V),this.children.forEach((oe,F)=>{this.renderChild(V,this,this,F)});var{mouse:ne}=this.document.screen;ne.isWorking()&&ne.checkBoundingBox(this,this.getBoundingBox(V))}renderTElementChildren(V){var{document:ne,parent:oe}=this,F=this.getText(),z=oe.getStyle("font-family").getDefinition();if(z){for(var{unitsPerEm:te}=z.fontFace,he=Gr.parse(ne.ctx.font),Te=oe.getStyle("font-size").getNumber(he.fontSize),Ue=oe.getStyle("font-style").getString(he.fontStyle),ct=Te/te,B=z.isRTL?F.split("").reverse().join(""):F,N=P(oe.getAttribute("dx").getString()),D=B.length,K=0;K<D;K++){var X=this.getGlyph(z,B,K);V.translate(this.x,this.y),V.scale(ct,-ct);var ee=V.lineWidth;V.lineWidth=V.lineWidth*te/Te,Ue==="italic"&&V.transform(1,0,.4,1,0,0),X.render(V),Ue==="italic"&&V.transform(1,0,-.4,1,0,0),V.lineWidth=ee,V.scale(1/ct,-1/ct),V.translate(-this.x,-this.y),this.x+=Te*(X.horizAdvX||z.horizAdvX)/te,typeof N[K]<"u"&&!isNaN(N[K])&&(this.x+=N[K])}return}var{x:ve,y:de}=this;V.fillStyle&&V.fillText(F,ve,de),V.strokeStyle&&V.strokeText(F,ve,de)}applyAnchoring(){if(!(this.textChunkStart>=this.leafTexts.length)){var V=this.leafTexts[this.textChunkStart],ne=V.getStyle("text-anchor").getString("start"),oe=!1,F=0;ne==="start"&&!oe||ne==="end"&&oe?F=V.x-this.minX:ne==="end"&&!oe||ne==="start"&&oe?F=V.x-this.maxX:F=V.x-(this.minX+this.maxX)/2;for(var z=this.textChunkStart;z<this.leafTexts.length;z++)this.leafTexts[z].x+=F;this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.textChunkStart=this.leafTexts.length}}adjustChildCoordinatesRecursive(V){this.children.forEach((ne,oe)=>{this.adjustChildCoordinatesRecursiveCore(V,this,this,oe)}),this.applyAnchoring()}adjustChildCoordinatesRecursiveCore(V,ne,oe,F){var z=oe.children[F];z.children.length>0?z.children.forEach((te,he)=>{ne.adjustChildCoordinatesRecursiveCore(V,ne,z,he)}):this.adjustChildCoordinates(V,ne,oe,F)}adjustChildCoordinates(V,ne,oe,F){var z=oe.children[F];if(typeof z.measureText!="function")return z;V.save(),z.setContext(V,!0);var te=z.getAttribute("x"),he=z.getAttribute("y"),Te=z.getAttribute("dx"),Ue=z.getAttribute("dy"),ct=z.getStyle("font-family").getDefinition(),B=!!ct&&ct.isRTL;F===0&&(te.hasValue()||te.setValue(z.getInheritedAttribute("x")),he.hasValue()||he.setValue(z.getInheritedAttribute("y")),Te.hasValue()||Te.setValue(z.getInheritedAttribute("dx")),Ue.hasValue()||Ue.setValue(z.getInheritedAttribute("dy")));var N=z.measureText(V);return B&&(ne.x-=N),te.hasValue()?(ne.applyAnchoring(),z.x=te.getPixels("x"),Te.hasValue()&&(z.x+=Te.getPixels("x"))):(Te.hasValue()&&(ne.x+=Te.getPixels("x")),z.x=ne.x),ne.x=z.x,B||(ne.x+=N),he.hasValue()?(z.y=he.getPixels("y"),Ue.hasValue()&&(z.y+=Ue.getPixels("y"))):(Ue.hasValue()&&(ne.y+=Ue.getPixels("y")),z.y=ne.y),ne.y=z.y,ne.leafTexts.push(z),ne.minX=Math.min(ne.minX,z.x,z.x+N),ne.maxX=Math.max(ne.maxX,z.x,z.x+N),z.clearContext(V),V.restore(),z}getChildBoundingBox(V,ne,oe,F){var z=oe.children[F];if(typeof z.getBoundingBox!="function")return null;var te=z.getBoundingBox(V);return te?(z.children.forEach((he,Te)=>{var Ue=ne.getChildBoundingBox(V,ne,z,Te);te.addBoundingBox(Ue)}),te):null}renderChild(V,ne,oe,F){var z=oe.children[F];z.render(V),z.children.forEach((te,he)=>{ne.renderChild(V,ne,z,he)})}measureText(V){var{measureCache:ne}=this;if(~ne)return ne;var oe=this.getText(),F=this.measureTargetText(V,oe);return this.measureCache=F,F}measureTargetText(V,ne){if(!ne.length)return 0;var{parent:oe}=this,F=oe.getStyle("font-family").getDefinition();if(F){for(var z=this.getFontSize(),te=F.isRTL?ne.split("").reverse().join(""):ne,he=P(oe.getAttribute("dx").getString()),Te=te.length,Ue=0,ct=0;ct<Te;ct++){var B=this.getGlyph(F,te,ct);Ue+=(B.horizAdvX||F.horizAdvX)*z/F.fontFace.unitsPerEm,typeof he[ct]<"u"&&!isNaN(he[ct])&&(Ue+=he[ct])}return Ue}if(!V.measureText)return ne.length*10;V.save(),this.setContext(V,!0);var{width:N}=V.measureText(ne);return this.clearContext(V),V.restore(),N}getInheritedAttribute(V){for(var ne=this;ne instanceof An&&ne.isFirstChild();){var oe=ne.parent.getAttribute(V);if(oe.hasValue(!0))return oe.getValue("0");ne=ne.parent}return null}}class cn extends An{constructor(V,ne,oe){super(V,ne,new.target===cn?!0:oe),this.type="tspan",this.text=this.children.length>0?"":this.getTextFromNode()}getText(){return this.text}}class Pn extends cn{constructor(){super(...arguments),this.type="textNode"}}class li extends Jn{constructor(){super(...arguments),this.type="svg",this.root=!1}setContext(V){var ne,{document:oe}=this,{screen:F,window:z}=oe,te=V.canvas;if(F.setDefaults(V),te.style&&typeof V.font<"u"&&z&&typeof z.getComputedStyle<"u"){V.font=z.getComputedStyle(te).getPropertyValue("font");var he=new et(oe,"fontSize",Gr.parse(V.font).fontSize);he.hasValue()&&(oe.rootEmSize=he.getPixels("y"),oe.emSize=oe.rootEmSize)}this.getAttribute("x").hasValue()||this.getAttribute("x",!0).setValue(0),this.getAttribute("y").hasValue()||this.getAttribute("y",!0).setValue(0);var{width:Te,height:Ue}=F.viewPort;this.getStyle("width").hasValue()||this.getStyle("width",!0).setValue("100%"),this.getStyle("height").hasValue()||this.getStyle("height",!0).setValue("100%"),this.getStyle("color").hasValue()||this.getStyle("color",!0).setValue("black");var ct=this.getAttribute("refX"),B=this.getAttribute("refY"),N=this.getAttribute("viewBox"),D=N.hasValue()?P(N.getString()):null,K=!this.root&&this.getStyle("overflow").getValue("hidden")!=="visible",X=0,ee=0,ve=0,de=0;D&&(X=D[0],ee=D[1]),this.root||(Te=this.getStyle("width").getPixels("x"),Ue=this.getStyle("height").getPixels("y"),this.type==="marker"&&(ve=X,de=ee,X=0,ee=0)),F.viewPort.setCurrent(Te,Ue),this.node&&(!this.parent||((ne=this.node.parentNode)===null||ne===void 0?void 0:ne.nodeName)==="foreignObject")&&this.getStyle("transform",!1,!0).hasValue()&&!this.getStyle("transform-origin",!1,!0).hasValue()&&this.getStyle("transform-origin",!0,!0).setValue("50% 50%"),super.setContext(V),V.translate(this.getAttribute("x").getPixels("x"),this.getAttribute("y").getPixels("y")),D&&(Te=D[2],Ue=D[3]),oe.setViewBox({ctx:V,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:F.viewPort.width,desiredWidth:Te,height:F.viewPort.height,desiredHeight:Ue,minX:X,minY:ee,refX:ct.getValue(),refY:B.getValue(),clip:K,clipX:ve,clipY:de}),D&&(F.viewPort.removeCurrent(),F.viewPort.setCurrent(Te,Ue))}clearContext(V){super.clearContext(V),this.document.screen.viewPort.removeCurrent()}resize(V){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:V,oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,F=this.getAttribute("width",!0),z=this.getAttribute("height",!0),te=this.getAttribute("viewBox"),he=this.getAttribute("style"),Te=F.getNumber(0),Ue=z.getNumber(0);if(oe)if(typeof oe=="string")this.getAttribute("preserveAspectRatio",!0).setValue(oe);else{var ct=this.getAttribute("preserveAspectRatio");ct.hasValue()&&ct.setValue(ct.getString().replace(/^\s*(\S.*\S)\s*$/,"$1"))}if(F.setValue(V),z.setValue(ne),te.hasValue()||te.setValue("0 0 ".concat(Te||V," ").concat(Ue||ne)),he.hasValue()){var B=this.getStyle("width"),N=this.getStyle("height");B.hasValue()&&B.setValue("".concat(V,"px")),N.hasValue()&&N.setValue("".concat(ne,"px"))}}}class Ts extends en{constructor(){super(...arguments),this.type="rect"}path(V){var ne=this.getAttribute("x").getPixels("x"),oe=this.getAttribute("y").getPixels("y"),F=this.getStyle("width",!1,!0).getPixels("x"),z=this.getStyle("height",!1,!0).getPixels("y"),te=this.getAttribute("rx"),he=this.getAttribute("ry"),Te=te.getPixels("x"),Ue=he.getPixels("y");if(te.hasValue()&&!he.hasValue()&&(Ue=Te),he.hasValue()&&!te.hasValue()&&(Te=Ue),Te=Math.min(Te,F/2),Ue=Math.min(Ue,z/2),V){var ct=4*((Math.sqrt(2)-1)/3);V.beginPath(),z>0&&F>0&&(V.moveTo(ne+Te,oe),V.lineTo(ne+F-Te,oe),V.bezierCurveTo(ne+F-Te+ct*Te,oe,ne+F,oe+Ue-ct*Ue,ne+F,oe+Ue),V.lineTo(ne+F,oe+z-Ue),V.bezierCurveTo(ne+F,oe+z-Ue+ct*Ue,ne+F-Te+ct*Te,oe+z,ne+F-Te,oe+z),V.lineTo(ne+Te,oe+z),V.bezierCurveTo(ne+Te-ct*Te,oe+z,ne,oe+z-Ue+ct*Ue,ne,oe+z-Ue),V.lineTo(ne,oe+Ue),V.bezierCurveTo(ne,oe+Ue-ct*Ue,ne+Te-ct*Te,oe,ne+Te,oe),V.closePath())}return new Ln(ne,oe,ne+F,oe+z)}getMarkers(){return null}}class Rs extends en{constructor(){super(...arguments),this.type="circle"}path(V){var ne=this.getAttribute("cx").getPixels("x"),oe=this.getAttribute("cy").getPixels("y"),F=this.getAttribute("r").getPixels();return V&&F>0&&(V.beginPath(),V.arc(ne,oe,F,0,Math.PI*2,!1),V.closePath()),new Ln(ne-F,oe-F,ne+F,oe+F)}getMarkers(){return null}}class Cs extends en{constructor(){super(...arguments),this.type="ellipse"}path(V){var ne=4*((Math.sqrt(2)-1)/3),oe=this.getAttribute("rx").getPixels("x"),F=this.getAttribute("ry").getPixels("y"),z=this.getAttribute("cx").getPixels("x"),te=this.getAttribute("cy").getPixels("y");return V&&oe>0&&F>0&&(V.beginPath(),V.moveTo(z+oe,te),V.bezierCurveTo(z+oe,te+ne*F,z+ne*oe,te+F,z,te+F),V.bezierCurveTo(z-ne*oe,te+F,z-oe,te+ne*F,z-oe,te),V.bezierCurveTo(z-oe,te-ne*F,z-ne*oe,te-F,z,te-F),V.bezierCurveTo(z+ne*oe,te-F,z+oe,te-ne*F,z+oe,te),V.closePath()),new Ln(z-oe,te-F,z+oe,te+F)}getMarkers(){return null}}class ei extends en{constructor(){super(...arguments),this.type="line"}getPoints(){return[new gt(this.getAttribute("x1").getPixels("x"),this.getAttribute("y1").getPixels("y")),new gt(this.getAttribute("x2").getPixels("x"),this.getAttribute("y2").getPixels("y"))]}path(V){var[{x:ne,y:oe},{x:F,y:z}]=this.getPoints();return V&&(V.beginPath(),V.moveTo(ne,oe),V.lineTo(F,z)),new Ln(ne,oe,F,z)}getMarkers(){var[V,ne]=this.getPoints(),oe=V.angleTo(ne);return[[V,oe],[ne,oe]]}}class nn extends en{constructor(V,ne,oe){super(V,ne,oe),this.type="polyline",this.points=[],this.points=gt.parsePath(this.getAttribute("points").getString())}path(V){var{points:ne}=this,[{x:oe,y:F}]=ne,z=new Ln(oe,F);return V&&(V.beginPath(),V.moveTo(oe,F)),ne.forEach(te=>{var{x:he,y:Te}=te;z.addPoint(he,Te),V&&V.lineTo(he,Te)}),z}getMarkers(){var{points:V}=this,ne=V.length-1,oe=[];return V.forEach((F,z)=>{z!==ne&&oe.push([F,F.angleTo(V[z+1])])}),oe.length>0&&oe.push([V[V.length-1],oe[oe.length-1][1]]),oe}}class ss extends nn{constructor(){super(...arguments),this.type="polygon"}path(V){var ne=super.path(V),[{x:oe,y:F}]=this.points;return V&&(V.lineTo(oe,F),V.closePath()),ne}}class ea extends Wt{constructor(){super(...arguments),this.type="pattern"}createPattern(V,ne,oe){var F=this.getStyle("width").getPixels("x",!0),z=this.getStyle("height").getPixels("y",!0),te=new li(this.document,null);te.attributes.viewBox=new et(this.document,"viewBox",this.getAttribute("viewBox").getValue()),te.attributes.width=new et(this.document,"width","".concat(F,"px")),te.attributes.height=new et(this.document,"height","".concat(z,"px")),te.attributes.transform=new et(this.document,"transform",this.getAttribute("patternTransform").getValue()),te.children=this.children;var he=this.document.createCanvas(F,z),Te=he.getContext("2d"),Ue=this.getAttribute("x"),ct=this.getAttribute("y");Ue.hasValue()&&ct.hasValue()&&Te.translate(Ue.getPixels("x",!0),ct.getPixels("y",!0)),oe.hasValue()?this.styles["fill-opacity"]=oe:Reflect.deleteProperty(this.styles,"fill-opacity");for(var B=-1;B<=1;B++)for(var N=-1;N<=1;N++)Te.save(),te.attributes.x=new et(this.document,"x",B*he.width),te.attributes.y=new et(this.document,"y",N*he.height),te.render(Te),Te.restore();var D=V.createPattern(he,"repeat");return D}}class En extends Wt{constructor(){super(...arguments),this.type="marker"}render(V,ne,oe){if(ne){var{x:F,y:z}=ne,te=this.getAttribute("orient").getString("auto"),he=this.getAttribute("markerUnits").getString("strokeWidth");V.translate(F,z),te==="auto"&&V.rotate(oe),he==="strokeWidth"&&V.scale(V.lineWidth,V.lineWidth),V.save();var Te=new li(this.document,null);Te.type=this.type,Te.attributes.viewBox=new et(this.document,"viewBox",this.getAttribute("viewBox").getValue()),Te.attributes.refX=new et(this.document,"refX",this.getAttribute("refX").getValue()),Te.attributes.refY=new et(this.document,"refY",this.getAttribute("refY").getValue()),Te.attributes.width=new et(this.document,"width",this.getAttribute("markerWidth").getValue()),Te.attributes.height=new et(this.document,"height",this.getAttribute("markerHeight").getValue()),Te.attributes.overflow=new et(this.document,"overflow",this.getAttribute("overflow").getValue()),Te.attributes.fill=new et(this.document,"fill",this.getAttribute("fill").getColor("black")),Te.attributes.stroke=new et(this.document,"stroke",this.getAttribute("stroke").getValue("none")),Te.children=this.children,Te.render(V),V.restore(),he==="strokeWidth"&&V.scale(1/V.lineWidth,1/V.lineWidth),te==="auto"&&V.rotate(-oe),V.translate(-F,-z)}}}class Tn extends Wt{constructor(){super(...arguments),this.type="defs"}render(){}}class Ds extends Jn{constructor(){super(...arguments),this.type="g"}getBoundingBox(V){var ne=new Ln;return this.children.forEach(oe=>{ne.addBoundingBox(oe.getBoundingBox(V))}),ne}}class $s extends Wt{constructor(V,ne,oe){super(V,ne,oe),this.attributesToInherit=["gradientUnits"],this.stops=[];var{stops:F,children:z}=this;z.forEach(te=>{te.type==="stop"&&F.push(te)})}getGradientUnits(){return this.getAttribute("gradientUnits").getString("objectBoundingBox")}createGradient(V,ne,oe){var F=this;this.getHrefAttribute().hasValue()&&(F=this.getHrefAttribute().getDefinition(),this.inheritStopContainer(F));var{stops:z}=F,te=this.getGradient(V,ne);if(!te)return this.addParentOpacity(oe,z[z.length-1].color);if(z.forEach(ee=>{te.addColorStop(ee.offset,this.addParentOpacity(oe,ee.color))}),this.getAttribute("gradientTransform").hasValue()){var{document:he}=this,{MAX_VIRTUAL_PIXELS:Te,viewPort:Ue}=he.screen,[ct]=Ue.viewPorts,B=new Ts(he,null);B.attributes.x=new et(he,"x",-Te/3),B.attributes.y=new et(he,"y",-Te/3),B.attributes.width=new et(he,"width",Te),B.attributes.height=new et(he,"height",Te);var N=new Ds(he,null);N.attributes.transform=new et(he,"transform",this.getAttribute("gradientTransform").getValue()),N.children=[B];var D=new li(he,null);D.attributes.x=new et(he,"x",0),D.attributes.y=new et(he,"y",0),D.attributes.width=new et(he,"width",ct.width),D.attributes.height=new et(he,"height",ct.height),D.children=[N];var K=he.createCanvas(ct.width,ct.height),X=K.getContext("2d");return X.fillStyle=te,D.render(X),X.createPattern(K,"no-repeat")}return te}inheritStopContainer(V){this.attributesToInherit.forEach(ne=>{!this.getAttribute(ne).hasValue()&&V.getAttribute(ne).hasValue()&&this.getAttribute(ne,!0).setValue(V.getAttribute(ne).getValue())})}addParentOpacity(V,ne){if(V.hasValue()){var oe=new et(this.document,"color",ne);return oe.addOpacity(V).getColor()}return ne}}class Ms extends $s{constructor(V,ne,oe){super(V,ne,oe),this.type="linearGradient",this.attributesToInherit.push("x1","y1","x2","y2")}getGradient(V,ne){var oe=this.getGradientUnits()==="objectBoundingBox",F=oe?ne.getBoundingBox(V):null;if(oe&&!F)return null;!this.getAttribute("x1").hasValue()&&!this.getAttribute("y1").hasValue()&&!this.getAttribute("x2").hasValue()&&!this.getAttribute("y2").hasValue()&&(this.getAttribute("x1",!0).setValue(0),this.getAttribute("y1",!0).setValue(0),this.getAttribute("x2",!0).setValue(1),this.getAttribute("y2",!0).setValue(0));var z=oe?F.x+F.width*this.getAttribute("x1").getNumber():this.getAttribute("x1").getPixels("x"),te=oe?F.y+F.height*this.getAttribute("y1").getNumber():this.getAttribute("y1").getPixels("y"),he=oe?F.x+F.width*this.getAttribute("x2").getNumber():this.getAttribute("x2").getPixels("x"),Te=oe?F.y+F.height*this.getAttribute("y2").getNumber():this.getAttribute("y2").getPixels("y");return z===he&&te===Te?null:V.createLinearGradient(z,te,he,Te)}}class rs extends $s{constructor(V,ne,oe){super(V,ne,oe),this.type="radialGradient",this.attributesToInherit.push("cx","cy","r","fx","fy","fr")}getGradient(V,ne){var oe=this.getGradientUnits()==="objectBoundingBox",F=ne.getBoundingBox(V);if(oe&&!F)return null;this.getAttribute("cx").hasValue()||this.getAttribute("cx",!0).setValue("50%"),this.getAttribute("cy").hasValue()||this.getAttribute("cy",!0).setValue("50%"),this.getAttribute("r").hasValue()||this.getAttribute("r",!0).setValue("50%");var z=oe?F.x+F.width*this.getAttribute("cx").getNumber():this.getAttribute("cx").getPixels("x"),te=oe?F.y+F.height*this.getAttribute("cy").getNumber():this.getAttribute("cy").getPixels("y"),he=z,Te=te;this.getAttribute("fx").hasValue()&&(he=oe?F.x+F.width*this.getAttribute("fx").getNumber():this.getAttribute("fx").getPixels("x")),this.getAttribute("fy").hasValue()&&(Te=oe?F.y+F.height*this.getAttribute("fy").getNumber():this.getAttribute("fy").getPixels("y"));var Ue=oe?(F.width+F.height)/2*this.getAttribute("r").getNumber():this.getAttribute("r").getPixels(),ct=this.getAttribute("fr").getPixels();return V.createRadialGradient(he,Te,ct,z,te,Ue)}}class Ys extends Wt{constructor(V,ne,oe){super(V,ne,oe),this.type="stop";var F=Math.max(0,Math.min(1,this.getAttribute("offset").getNumber())),z=this.getStyle("stop-opacity"),te=this.getStyle("stop-color",!0);te.getString()===""&&te.setValue("#000"),z.hasValue()&&(te=te.addOpacity(z)),this.offset=F,this.color=te.getColor()}}class Os extends Wt{constructor(V,ne,oe){super(V,ne,oe),this.type="animate",this.duration=0,this.initialValue=null,this.initialUnits="",this.removed=!1,this.frozen=!1,V.screen.animations.push(this),this.begin=this.getAttribute("begin").getMilliseconds(),this.maxDuration=this.begin+this.getAttribute("dur").getMilliseconds(),this.from=this.getAttribute("from"),this.to=this.getAttribute("to"),this.values=new et(V,"values",null);var F=this.getAttribute("values");F.hasValue()&&this.values.setValue(F.getString().split(";"))}getProperty(){var V=this.getAttribute("attributeType").getString(),ne=this.getAttribute("attributeName").getString();return V==="CSS"?this.parent.getStyle(ne,!0):this.parent.getAttribute(ne,!0)}calcValue(){var{initialUnits:V}=this,{progress:ne,from:oe,to:F}=this.getProgress(),z=oe.getNumber()+(F.getNumber()-oe.getNumber())*ne;return V==="%"&&(z*=100),"".concat(z).concat(V)}update(V){var{parent:ne}=this,oe=this.getProperty();if(this.initialValue||(this.initialValue=oe.getString(),this.initialUnits=oe.getUnits()),this.duration>this.maxDuration){var F=this.getAttribute("fill").getString("remove");if(this.getAttribute("repeatCount").getString()==="indefinite"||this.getAttribute("repeatDur").getString()==="indefinite")this.duration=0;else if(F==="freeze"&&!this.frozen)this.frozen=!0,ne.animationFrozen=!0,ne.animationFrozenValue=oe.getString();else if(F==="remove"&&!this.removed)return this.removed=!0,oe.setValue(ne.animationFrozen?ne.animationFrozenValue:this.initialValue),!0;return!1}this.duration+=V;var z=!1;if(this.begin<this.duration){var te=this.calcValue(),he=this.getAttribute("type");if(he.hasValue()){var Te=he.getString();te="".concat(Te,"(").concat(te,")")}oe.setValue(te),z=!0}return z}getProgress(){var{document:V,values:ne}=this,oe={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(ne.hasValue()){var F=oe.progress*(ne.getValue().length-1),z=Math.floor(F),te=Math.ceil(F);oe.from=new et(V,"from",parseFloat(ne.getValue()[z])),oe.to=new et(V,"to",parseFloat(ne.getValue()[te])),oe.progress=(F-z)/(te-z)}else oe.from=this.from,oe.to=this.to;return oe}}class Qa extends Os{constructor(){super(...arguments),this.type="animateColor"}calcValue(){var{progress:V,from:ne,to:oe}=this.getProgress(),F=new p(ne.getColor()),z=new p(oe.getColor());if(F.ok&&z.ok){var te=F.r+(z.r-F.r)*V,he=F.g+(z.g-F.g)*V,Te=F.b+(z.b-F.b)*V;return"rgb(".concat(Math.floor(te),", ").concat(Math.floor(he),", ").concat(Math.floor(Te),")")}return this.getAttribute("from").getColor()}}class ds extends Os{constructor(){super(...arguments),this.type="animateTransform"}calcValue(){var{progress:V,from:ne,to:oe}=this.getProgress(),F=P(ne.getString()),z=P(oe.getString()),te=F.map((he,Te)=>{var Ue=z[Te];return he+(Ue-he)*V}).join(" ");return te}}class yu extends Wt{constructor(V,ne,oe){super(V,ne,oe),this.type="font",this.glyphs=Object.create(null),this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber();var{definitions:F}=V,{children:z}=this;for(var te of z)switch(te.type){case"font-face":{this.fontFace=te;var he=te.getStyle("font-family");he.hasValue()&&(F[he.getString()]=this);break}case"missing-glyph":this.missingGlyph=te;break;case"glyph":{var Te=te;Te.arabicForm?(this.isRTL=!0,this.isArabic=!0,typeof this.glyphs[Te.unicode]>"u"&&(this.glyphs[Te.unicode]=Object.create(null)),this.glyphs[Te.unicode][Te.arabicForm]=Te):this.glyphs[Te.unicode]=Te;break}}}render(){}}class to extends Wt{constructor(V,ne,oe){super(V,ne,oe),this.type="font-face",this.ascent=this.getAttribute("ascent").getNumber(),this.descent=this.getAttribute("descent").getNumber(),this.unitsPerEm=this.getAttribute("units-per-em").getNumber()}}class Ml extends en{constructor(){super(...arguments),this.type="missing-glyph",this.horizAdvX=0}}class tu extends An{constructor(){super(...arguments),this.type="tref"}getText(){var V=this.getHrefAttribute().getDefinition();if(V){var ne=V.children[0];if(ne)return ne.getText()}return""}}class ml extends An{constructor(V,ne,oe){super(V,ne,oe),this.type="a";var{childNodes:F}=ne,z=F[0],te=F.length>0&&Array.from(F).every(he=>he.nodeType===3);this.hasText=te,this.text=te?this.getTextFromNode(z):""}getText(){return this.text}renderChildren(V){if(this.hasText){super.renderChildren(V);var{document:ne,x:oe,y:F}=this,{mouse:z}=ne.screen,te=new et(ne,"fontSize",Gr.parse(ne.ctx.font).fontSize);z.isWorking()&&z.checkBoundingBox(this,new Ln(oe,F-te.getPixels("y"),oe+this.measureText(V),F))}else if(this.children.length>0){var he=new Ds(this.document,null);he.children=this.children,he.parent=this,he.render(V)}}onClick(){var{window:V}=this.document;V&&V.open(this.getHrefAttribute().getString())}onMouseMove(){var V=this.document.ctx;V.canvas.style.cursor="pointer"}}function ta($t,V){var ne=Object.keys($t);if(Object.getOwnPropertySymbols){var oe=Object.getOwnPropertySymbols($t);V&&(oe=oe.filter(function(F){return Object.getOwnPropertyDescriptor($t,F).enumerable})),ne.push.apply(ne,oe)}return ne}function Ya($t){for(var V=1;V<arguments.length;V++){var ne=arguments[V]!=null?arguments[V]:{};V%2?ta(Object(ne),!0).forEach(function(oe){(0,f.default)($t,oe,ne[oe])}):Object.getOwnPropertyDescriptors?Object.defineProperties($t,Object.getOwnPropertyDescriptors(ne)):ta(Object(ne)).forEach(function(oe){Object.defineProperty($t,oe,Object.getOwnPropertyDescriptor(ne,oe))})}return $t}class Gs extends An{constructor(V,ne,oe){super(V,ne,oe),this.type="textPath",this.textWidth=0,this.textHeight=0,this.pathLength=-1,this.glyphInfo=null,this.letterSpacingCache=[],this.measuresCache=new Map([["",0]]);var F=this.getHrefAttribute().getDefinition();this.text=this.getTextFromNode(),this.dataArray=this.parsePathData(F)}getText(){return this.text}path(V){var{dataArray:ne}=this;V&&V.beginPath(),ne.forEach(oe=>{var{type:F,points:z}=oe;switch(F){case ln.LINE_TO:V&&V.lineTo(z[0],z[1]);break;case ln.MOVE_TO:V&&V.moveTo(z[0],z[1]);break;case ln.CURVE_TO:V&&V.bezierCurveTo(z[0],z[1],z[2],z[3],z[4],z[5]);break;case ln.QUAD_TO:V&&V.quadraticCurveTo(z[0],z[1],z[2],z[3]);break;case ln.ARC:{var[te,he,Te,Ue,ct,B,N,D]=z,K=Te>Ue?Te:Ue,X=Te>Ue?1:Te/Ue,ee=Te>Ue?Ue/Te:1;V&&(V.translate(te,he),V.rotate(N),V.scale(X,ee),V.arc(0,0,K,ct,ct+B,!!(1-D)),V.scale(1/X,1/ee),V.rotate(-N),V.translate(-te,-he));break}case ln.CLOSE_PATH:V&&V.closePath();break}})}renderChildren(V){this.setTextData(V),V.save();var ne=this.parent.getStyle("text-decoration").getString(),oe=this.getFontSize(),{glyphInfo:F}=this,z=V.fillStyle;ne==="underline"&&V.beginPath(),F.forEach((te,he)=>{var{p0:Te,p1:Ue,rotation:ct,text:B}=te;V.save(),V.translate(Te.x,Te.y),V.rotate(ct),V.fillStyle&&V.fillText(B,0,0),V.strokeStyle&&V.strokeText(B,0,0),V.restore(),ne==="underline"&&(he===0&&V.moveTo(Te.x,Te.y+oe/8),V.lineTo(Ue.x,Ue.y+oe/5))}),ne==="underline"&&(V.lineWidth=oe/20,V.strokeStyle=z,V.stroke(),V.closePath()),V.restore()}getLetterSpacingAt(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.letterSpacingCache[V]||0}findSegmentToFitChar(V,ne,oe,F,z,te,he,Te,Ue){var ct=te,B=this.measureText(V,Te);Te===" "&&ne==="justify"&&oe<F&&(B+=(F-oe)/z),Ue>-1&&(ct+=this.getLetterSpacingAt(Ue));var N=this.textHeight/20,D=this.getEquidistantPointOnPath(ct,N,0),K=this.getEquidistantPointOnPath(ct+B,N,0),X={p0:D,p1:K},ee=D&&K?Math.atan2(K.y-D.y,K.x-D.x):0;if(he){var ve=Math.cos(Math.PI/2+ee)*he,de=Math.cos(-ee)*he;X.p0=Ya(Ya({},D),{},{x:D.x+ve,y:D.y+de}),X.p1=Ya(Ya({},K),{},{x:K.x+ve,y:K.y+de})}return ct+=B,{offset:ct,segment:X,rotation:ee}}measureText(V,ne){var{measuresCache:oe}=this,F=ne||this.getText();if(oe.has(F))return oe.get(F);var z=this.measureTargetText(V,F);return oe.set(F,z),z}setTextData(V){if(!this.glyphInfo){var ne=this.getText(),oe=ne.split(""),F=ne.split(" ").length-1,z=this.parent.getAttribute("dx").split().map(ke=>ke.getPixels("x")),te=this.parent.getAttribute("dy").getPixels("y"),he=this.parent.getStyle("text-anchor").getString("start"),Te=this.getStyle("letter-spacing"),Ue=this.parent.getStyle("letter-spacing"),ct=0;!Te.hasValue()||Te.getValue()==="inherit"?ct=Ue.getPixels():Te.hasValue()&&Te.getValue()!=="initial"&&Te.getValue()!=="unset"&&(ct=Te.getPixels());var B=[],N=ne.length;this.letterSpacingCache=B;for(var D=0;D<N;D++)B.push(typeof z[D]<"u"?z[D]:ct);var K=B.reduce((ke,Qe,Xe)=>Xe===0?0:ke+Qe||0,0),X=this.measureText(V),ee=Math.max(X+K,0);this.textWidth=X,this.textHeight=this.getFontSize(),this.glyphInfo=[];var ve=this.getPathLength(),de=this.getStyle("startOffset").getNumber(0)*ve,fe=0;(he==="middle"||he==="center")&&(fe=-ee/2),(he==="end"||he==="right")&&(fe=-ee),fe+=de,oe.forEach((ke,Qe)=>{var{offset:Xe,segment:lt,rotation:Ce}=this.findSegmentToFitChar(V,he,ee,ve,F,fe,te,ke,Qe);fe=Xe,!(!lt.p0||!lt.p1)&&this.glyphInfo.push({text:oe[Qe],p0:lt.p0,p1:lt.p1,rotation:Ce})})}}parsePathData(V){if(this.pathLength=-1,!V)return[];var ne=[],{pathParser:oe}=V;for(oe.reset();!oe.isEnd();){var{current:F}=oe,z=F?F.x:0,te=F?F.y:0,he=oe.next(),Te=he.type,Ue=[];switch(he.type){case ln.MOVE_TO:this.pathM(oe,Ue);break;case ln.LINE_TO:Te=this.pathL(oe,Ue);break;case ln.HORIZ_LINE_TO:Te=this.pathH(oe,Ue);break;case ln.VERT_LINE_TO:Te=this.pathV(oe,Ue);break;case ln.CURVE_TO:this.pathC(oe,Ue);break;case ln.SMOOTH_CURVE_TO:Te=this.pathS(oe,Ue);break;case ln.QUAD_TO:this.pathQ(oe,Ue);break;case ln.SMOOTH_QUAD_TO:Te=this.pathT(oe,Ue);break;case ln.ARC:Ue=this.pathA(oe);break;case ln.CLOSE_PATH:en.pathZ(oe);break}he.type!==ln.CLOSE_PATH?ne.push({type:Te,points:Ue,start:{x:z,y:te},pathLength:this.calcLength(z,te,Te,Ue)}):ne.push({type:ln.CLOSE_PATH,points:[],pathLength:0})}return ne}pathM(V,ne){var{x:oe,y:F}=en.pathM(V).point;ne.push(oe,F)}pathL(V,ne){var{x:oe,y:F}=en.pathL(V).point;return ne.push(oe,F),ln.LINE_TO}pathH(V,ne){var{x:oe,y:F}=en.pathH(V).point;return ne.push(oe,F),ln.LINE_TO}pathV(V,ne){var{x:oe,y:F}=en.pathV(V).point;return ne.push(oe,F),ln.LINE_TO}pathC(V,ne){var{point:oe,controlPoint:F,currentPoint:z}=en.pathC(V);ne.push(oe.x,oe.y,F.x,F.y,z.x,z.y)}pathS(V,ne){var{point:oe,controlPoint:F,currentPoint:z}=en.pathS(V);return ne.push(oe.x,oe.y,F.x,F.y,z.x,z.y),ln.CURVE_TO}pathQ(V,ne){var{controlPoint:oe,currentPoint:F}=en.pathQ(V);ne.push(oe.x,oe.y,F.x,F.y)}pathT(V,ne){var{controlPoint:oe,currentPoint:F}=en.pathT(V);return ne.push(oe.x,oe.y,F.x,F.y),ln.QUAD_TO}pathA(V){var{rX:ne,rY:oe,sweepFlag:F,xAxisRotation:z,centp:te,a1:he,ad:Te}=en.pathA(V);return F===0&&Te>0&&(Te-=2*Math.PI),F===1&&Te<0&&(Te+=2*Math.PI),[te.x,te.y,ne,oe,he,Te,z,F]}calcLength(V,ne,oe,F){var z=0,te=null,he=null,Te=0;switch(oe){case ln.LINE_TO:return this.getLineLength(V,ne,F[0],F[1]);case ln.CURVE_TO:for(z=0,te=this.getPointOnCubicBezier(0,V,ne,F[0],F[1],F[2],F[3],F[4],F[5]),Te=.01;Te<=1;Te+=.01)he=this.getPointOnCubicBezier(Te,V,ne,F[0],F[1],F[2],F[3],F[4],F[5]),z+=this.getLineLength(te.x,te.y,he.x,he.y),te=he;return z;case ln.QUAD_TO:for(z=0,te=this.getPointOnQuadraticBezier(0,V,ne,F[0],F[1],F[2],F[3]),Te=.01;Te<=1;Te+=.01)he=this.getPointOnQuadraticBezier(Te,V,ne,F[0],F[1],F[2],F[3]),z+=this.getLineLength(te.x,te.y,he.x,he.y),te=he;return z;case ln.ARC:{z=0;var Ue=F[4],ct=F[5],B=F[4]+ct,N=Math.PI/180;if(Math.abs(Ue-B)<N&&(N=Math.abs(Ue-B)),te=this.getPointOnEllipticalArc(F[0],F[1],F[2],F[3],Ue,0),ct<0)for(Te=Ue-N;Te>B;Te-=N)he=this.getPointOnEllipticalArc(F[0],F[1],F[2],F[3],Te,0),z+=this.getLineLength(te.x,te.y,he.x,he.y),te=he;else for(Te=Ue+N;Te<B;Te+=N)he=this.getPointOnEllipticalArc(F[0],F[1],F[2],F[3],Te,0),z+=this.getLineLength(te.x,te.y,he.x,he.y),te=he;return he=this.getPointOnEllipticalArc(F[0],F[1],F[2],F[3],B,0),z+=this.getLineLength(te.x,te.y,he.x,he.y),z}}return 0}getPointOnLine(V,ne,oe,F,z){var te=arguments.length>5&&arguments[5]!==void 0?arguments[5]:ne,he=arguments.length>6&&arguments[6]!==void 0?arguments[6]:oe,Te=(z-oe)/(F-ne+Oe),Ue=Math.sqrt(V*V/(1+Te*Te));F<ne&&(Ue*=-1);var ct=Te*Ue,B=null;if(F===ne)B={x:te,y:he+ct};else if((he-oe)/(te-ne+Oe)===Te)B={x:te+Ue,y:he+ct};else{var N=0,D=0,K=this.getLineLength(ne,oe,F,z);if(K<Oe)return null;var X=(te-ne)*(F-ne)+(he-oe)*(z-oe);X/=K*K,N=ne+X*(F-ne),D=oe+X*(z-oe);var ee=this.getLineLength(te,he,N,D),ve=Math.sqrt(V*V-ee*ee);Ue=Math.sqrt(ve*ve/(1+Te*Te)),F<ne&&(Ue*=-1),ct=Te*Ue,B={x:N+Ue,y:D+ct}}return B}getPointOnPath(V){var ne=this.getPathLength(),oe=0,F=null;if(V<-5e-5||V-5e-5>ne)return null;var{dataArray:z}=this;for(var te of z){if(te&&(te.pathLength<5e-5||oe+te.pathLength+5e-5<V)){oe+=te.pathLength;continue}var he=V-oe,Te=0;switch(te.type){case ln.LINE_TO:F=this.getPointOnLine(he,te.start.x,te.start.y,te.points[0],te.points[1],te.start.x,te.start.y);break;case ln.ARC:{var Ue=te.points[4],ct=te.points[5],B=te.points[4]+ct;if(Te=Ue+he/te.pathLength*ct,ct<0&&Te<B||ct>=0&&Te>B)break;F=this.getPointOnEllipticalArc(te.points[0],te.points[1],te.points[2],te.points[3],Te,te.points[6]);break}case ln.CURVE_TO:Te=he/te.pathLength,Te>1&&(Te=1),F=this.getPointOnCubicBezier(Te,te.start.x,te.start.y,te.points[0],te.points[1],te.points[2],te.points[3],te.points[4],te.points[5]);break;case ln.QUAD_TO:Te=he/te.pathLength,Te>1&&(Te=1),F=this.getPointOnQuadraticBezier(Te,te.start.x,te.start.y,te.points[0],te.points[1],te.points[2],te.points[3]);break}if(F)return F;break}return null}getLineLength(V,ne,oe,F){return Math.sqrt((oe-V)*(oe-V)+(F-ne)*(F-ne))}getPathLength(){return this.pathLength===-1&&(this.pathLength=this.dataArray.reduce((V,ne)=>ne.pathLength>0?V+ne.pathLength:V,0)),this.pathLength}getPointOnCubicBezier(V,ne,oe,F,z,te,he,Te,Ue){var ct=Te*Le(V)+te*He(V)+F*Fe(V)+ne*At(V),B=Ue*Le(V)+he*He(V)+z*Fe(V)+oe*At(V);return{x:ct,y:B}}getPointOnQuadraticBezier(V,ne,oe,F,z,te,he){var Te=te*pt(V)+F*Pe(V)+ne*st(V),Ue=he*pt(V)+z*Pe(V)+oe*st(V);return{x:Te,y:Ue}}getPointOnEllipticalArc(V,ne,oe,F,z,te){var he=Math.cos(te),Te=Math.sin(te),Ue={x:oe*Math.cos(z),y:F*Math.sin(z)};return{x:V+(Ue.x*he-Ue.y*Te),y:ne+(Ue.x*Te+Ue.y*he)}}buildEquidistantCache(V,ne){var oe=this.getPathLength(),F=ne||.25,z=V||oe/100;if(!this.equidistantCache||this.equidistantCache.step!==z||this.equidistantCache.precision!==F){this.equidistantCache={step:z,precision:F,points:[]};for(var te=0,he=0;he<=oe;he+=F){var Te=this.getPointOnPath(he),Ue=this.getPointOnPath(he+F);!Te||!Ue||(te+=this.getLineLength(Te.x,Te.y,Ue.x,Ue.y),te>=z&&(this.equidistantCache.points.push({x:Te.x,y:Te.y,distance:he}),te-=z))}}}getEquidistantPointOnPath(V,ne,oe){if(this.buildEquidistantCache(ne,oe),V<0||V-this.getPathLength()>5e-5)return null;var F=Math.round(V/this.getPathLength()*(this.equidistantCache.points.length-1));return this.equidistantCache.points[F]||null}}var ba=/^\s*data:(([^/,;]+\/[^/,;]+)(?:;([^,;=]+=[^,;=]+))?)?(?:;(base64))?,(.*)$/i;class Fs extends Jn{constructor(V,ne,oe){super(V,ne,oe),this.type="image",this.loaded=!1;var F=this.getHrefAttribute().getString();if(F){var z=F.endsWith(".svg")||/^\s*data:image\/svg\+xml/i.test(F);V.images.push(this),z?this.loadSvg(F):this.loadImage(F),this.isSvg=z}}loadImage(V){var ne=this;return(0,d.default)(function*(){try{var oe=yield ne.document.createImage(V);ne.image=oe}catch(F){console.error('Error while loading image "'.concat(V,'":'),F)}ne.loaded=!0})()}loadSvg(V){var ne=this;return(0,d.default)(function*(){var oe=ba.exec(V);if(oe){var F=oe[5];oe[4]==="base64"?ne.image=atob(F):ne.image=decodeURIComponent(F)}else try{var z=yield ne.document.fetch(V),te=yield z.text();ne.image=te}catch(he){console.error('Error while loading image "'.concat(V,'":'),he)}ne.loaded=!0})()}renderChildren(V){var{document:ne,image:oe,loaded:F}=this,z=this.getAttribute("x").getPixels("x"),te=this.getAttribute("y").getPixels("y"),he=this.getStyle("width").getPixels("x"),Te=this.getStyle("height").getPixels("y");if(!(!F||!oe||!he||!Te)){if(V.save(),V.translate(z,te),this.isSvg){var Ue=ne.canvg.forkString(V,this.image,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:0,offsetY:0,scaleWidth:he,scaleHeight:Te});Ue.document.documentElement.parent=this,Ue.render()}else{var ct=this.image;ne.setViewBox({ctx:V,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:he,desiredWidth:ct.width,height:Te,desiredHeight:ct.height}),this.loaded&&(typeof ct.complete>"u"||ct.complete)&&V.drawImage(ct,0,0)}V.restore()}}getBoundingBox(){var V=this.getAttribute("x").getPixels("x"),ne=this.getAttribute("y").getPixels("y"),oe=this.getStyle("width").getPixels("x"),F=this.getStyle("height").getPixels("y");return new Ln(V,ne,V+oe,ne+F)}}class kl extends Jn{constructor(){super(...arguments),this.type="symbol"}render(V){}}class po{constructor(V){this.document=V,this.loaded=!1,V.fonts.push(this)}load(V,ne){var oe=this;return(0,d.default)(function*(){try{var{document:F}=oe,z=yield F.canvg.parser.load(ne),te=z.getElementsByTagName("font");Array.from(te).forEach(he=>{var Te=F.createElement(he);F.definitions[V]=Te})}catch(he){console.error('Error while loading font "'.concat(ne,'":'),he)}oe.loaded=!0})()}}class ro extends Wt{constructor(V,ne,oe){super(V,ne,oe),this.type="style";var F=T(Array.from(ne.childNodes).map(te=>te.textContent).join("").replace(/(\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"").replace(/@import.*;/g,"")),z=F.split("}");z.forEach(te=>{var he=te.trim();if(he){var Te=he.split("{"),Ue=Te[0].split(","),ct=Te[1].split(";");Ue.forEach(B=>{var N=B.trim();if(N){var D=V.styles[N]||{};if(ct.forEach(ee=>{var ve=ee.indexOf(":"),de=ee.substr(0,ve).trim(),fe=ee.substr(ve+1,ee.length-ve).trim();de&&fe&&(D[de]=new et(V,de,fe))}),V.styles[N]=D,V.stylesSpecificity[N]=Me(N),N==="@font-face"){var K=D["font-family"].getString().replace(/"|'/g,""),X=D.src.getString().split(",");X.forEach(ee=>{if(ee.indexOf('format("svg")')>0){var ve=q(ee);ve&&new po(V).load(K,ve)}})}}})}})}}ro.parseExternalUrl=q;class pl extends Jn{constructor(){super(...arguments),this.type="use"}setContext(V){super.setContext(V);var ne=this.getAttribute("x"),oe=this.getAttribute("y");ne.hasValue()&&V.translate(ne.getPixels("x"),0),oe.hasValue()&&V.translate(0,oe.getPixels("y"))}path(V){var{element:ne}=this;ne&&ne.path(V)}renderChildren(V){var{document:ne,element:oe}=this;if(oe){var F=oe;if(oe.type==="symbol"&&(F=new li(ne,null),F.attributes.viewBox=new et(ne,"viewBox",oe.getAttribute("viewBox").getString()),F.attributes.preserveAspectRatio=new et(ne,"preserveAspectRatio",oe.getAttribute("preserveAspectRatio").getString()),F.attributes.overflow=new et(ne,"overflow",oe.getAttribute("overflow").getString()),F.children=oe.children,oe.styles.opacity=new et(ne,"opacity",this.calculateOpacity())),F.type==="svg"){var z=this.getStyle("width",!1,!0),te=this.getStyle("height",!1,!0);z.hasValue()&&(F.attributes.width=new et(ne,"width",z.getString())),te.hasValue()&&(F.attributes.height=new et(ne,"height",te.getString()))}var he=F.parent;F.parent=this,F.render(V),F.parent=he}}getBoundingBox(V){var{element:ne}=this;return ne?ne.getBoundingBox(V):null}elementTransform(){var{document:V,element:ne}=this;return ot.fromElement(V,ne)}get element(){return this.cachedElement||(this.cachedElement=this.getHrefAttribute().getDefinition()),this.cachedElement}}function Fl($t,V,ne,oe,F,z){return $t[ne*oe*4+V*4+z]}function fc($t,V,ne,oe,F,z,te){$t[ne*oe*4+V*4+z]=te}function Hs($t,V,ne){var oe=$t[V];return oe*ne}function ci($t,V,ne,oe){return V+Math.cos($t)*ne+Math.sin($t)*oe}class js extends Wt{constructor(V,ne,oe){super(V,ne,oe),this.type="feColorMatrix";var F=P(this.getAttribute("values").getString());switch(this.getAttribute("type").getString("matrix")){case"saturate":{var z=F[0];F=[.213+.787*z,.715-.715*z,.072-.072*z,0,0,.213-.213*z,.715+.285*z,.072-.072*z,0,0,.213-.213*z,.715-.715*z,.072+.928*z,0,0,0,0,0,1,0,0,0,0,0,1];break}case"hueRotate":{var te=F[0]*Math.PI/180;F=[ci(te,.213,.787,-.213),ci(te,.715,-.715,-.715),ci(te,.072,-.072,.928),0,0,ci(te,.213,-.213,.143),ci(te,.715,.285,.14),ci(te,.072,-.072,-.283),0,0,ci(te,.213,-.213,-.787),ci(te,.715,-.715,.715),ci(te,.072,.928,.072),0,0,0,0,0,1,0,0,0,0,0,1];break}case"luminanceToAlpha":F=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2125,.7154,.0721,0,0,0,0,0,0,1];break}this.matrix=F,this.includeOpacity=this.getAttribute("includeOpacity").hasValue()}apply(V,ne,oe,F,z){for(var{includeOpacity:te,matrix:he}=this,Te=V.getImageData(0,0,F,z),Ue=0;Ue<z;Ue++)for(var ct=0;ct<F;ct++){var B=Fl(Te.data,ct,Ue,F,z,0),N=Fl(Te.data,ct,Ue,F,z,1),D=Fl(Te.data,ct,Ue,F,z,2),K=Fl(Te.data,ct,Ue,F,z,3),X=Hs(he,0,B)+Hs(he,1,N)+Hs(he,2,D)+Hs(he,3,K)+Hs(he,4,1),ee=Hs(he,5,B)+Hs(he,6,N)+Hs(he,7,D)+Hs(he,8,K)+Hs(he,9,1),ve=Hs(he,10,B)+Hs(he,11,N)+Hs(he,12,D)+Hs(he,13,K)+Hs(he,14,1),de=Hs(he,15,B)+Hs(he,16,N)+Hs(he,17,D)+Hs(he,18,K)+Hs(he,19,1);te&&(X=0,ee=0,ve=0,de*=K/255),fc(Te.data,ct,Ue,F,z,0,X),fc(Te.data,ct,Ue,F,z,1,ee),fc(Te.data,ct,Ue,F,z,2,ve),fc(Te.data,ct,Ue,F,z,3,de)}V.clearRect(0,0,F,z),V.putImageData(Te,0,0)}}class Ta extends Wt{constructor(){super(...arguments),this.type="mask"}apply(V,ne){var{document:oe}=this,F=this.getAttribute("x").getPixels("x"),z=this.getAttribute("y").getPixels("y"),te=this.getStyle("width").getPixels("x"),he=this.getStyle("height").getPixels("y");if(!te&&!he){var Te=new Ln;this.children.forEach(K=>{Te.addBoundingBox(K.getBoundingBox(V))}),F=Math.floor(Te.x1),z=Math.floor(Te.y1),te=Math.floor(Te.width),he=Math.floor(Te.height)}var Ue=this.removeStyles(ne,Ta.ignoreStyles),ct=oe.createCanvas(F+te,z+he),B=ct.getContext("2d");oe.screen.setDefaults(B),this.renderChildren(B),new js(oe,{nodeType:1,childNodes:[],attributes:[{nodeName:"type",value:"luminanceToAlpha"},{nodeName:"includeOpacity",value:"true"}]}).apply(B,0,0,F+te,z+he);var N=oe.createCanvas(F+te,z+he),D=N.getContext("2d");oe.screen.setDefaults(D),ne.render(D),D.globalCompositeOperation="destination-in",D.fillStyle=B.createPattern(ct,"no-repeat"),D.fillRect(0,0,F+te,z+he),V.fillStyle=D.createPattern(N,"no-repeat"),V.fillRect(0,0,F+te,z+he),this.restoreStyles(ne,Ue)}render(V){}}Ta.ignoreStyles=["mask","transform","clip-path"];var Va=()=>{};class Ca extends Wt{constructor(){super(...arguments),this.type="clipPath"}apply(V){var{document:ne}=this,oe=Reflect.getPrototypeOf(V),{beginPath:F,closePath:z}=V;oe&&(oe.beginPath=Va,oe.closePath=Va),Reflect.apply(F,V,[]),this.children.forEach(te=>{if(!(typeof te.path>"u")){var he=typeof te.elementTransform<"u"?te.elementTransform():null;he||(he=ot.fromElement(ne,te)),he&&he.apply(V),te.path(V),oe&&(oe.closePath=z),he&&he.unapply(V)}}),Reflect.apply(z,V,[]),V.clip(),oe&&(oe.beginPath=F,oe.closePath=z)}render(V){}}class gi extends Wt{constructor(){super(...arguments),this.type="filter"}apply(V,ne){var{document:oe,children:F}=this,z=ne.getBoundingBox(V);if(z){var te=0,he=0;F.forEach(ve=>{var de=ve.extraFilterDistance||0;te=Math.max(te,de),he=Math.max(he,de)});var Te=Math.floor(z.width),Ue=Math.floor(z.height),ct=Te+2*te,B=Ue+2*he;if(!(ct<1||B<1)){var N=Math.floor(z.x),D=Math.floor(z.y),K=this.removeStyles(ne,gi.ignoreStyles),X=oe.createCanvas(ct,B),ee=X.getContext("2d");oe.screen.setDefaults(ee),ee.translate(-N+te,-D+he),ne.render(ee),F.forEach(ve=>{typeof ve.apply=="function"&&ve.apply(ee,0,0,ct,B)}),V.drawImage(X,0,0,ct,B,N-te,D-he,ct,B),this.restoreStyles(ne,K)}}}render(V){}}gi.ignoreStyles=["filter","transform","clip-path"];class Xn extends Wt{constructor(V,ne,oe){super(V,ne,oe),this.type="feDropShadow",this.addStylesFromStyleDefinition()}apply(V,ne,oe,F,z){}}class hs extends Wt{constructor(){super(...arguments),this.type="feMorphology"}apply(V,ne,oe,F,z){}}class wa extends Wt{constructor(){super(...arguments),this.type="feComposite"}apply(V,ne,oe,F,z){}}class Ho extends Wt{constructor(V,ne,oe){super(V,ne,oe),this.type="feGaussianBlur",this.blurRadius=Math.floor(this.getAttribute("stdDeviation").getNumber()),this.extraFilterDistance=this.blurRadius}apply(V,ne,oe,F,z){var{document:te,blurRadius:he}=this,Te=te.window?te.window.document.body:null,Ue=V.canvas;Ue.id=te.getUniqueId(),Te&&(Ue.style.display="none",Te.appendChild(Ue)),(0,y.canvasRGBA)(Ue,ne,oe,F,z,he),Te&&Te.removeChild(Ue)}}class Hi extends Wt{constructor(){super(...arguments),this.type="title"}}class Qo extends Wt{constructor(){super(...arguments),this.type="desc"}}var Ea={svg:li,rect:Ts,circle:Rs,ellipse:Cs,line:ei,polyline:nn,polygon:ss,path:en,pattern:ea,marker:En,defs:Tn,linearGradient:Ms,radialGradient:rs,stop:Ys,animate:Os,animateColor:Qa,animateTransform:ds,font:yu,"font-face":to,"missing-glyph":Ml,glyph:Dr,text:An,tspan:cn,tref:tu,a:ml,textPath:Gs,image:Fs,g:Ds,symbol:kl,style:ro,use:pl,mask:Ta,clipPath:Ca,filter:gi,feDropShadow:Xn,feMorphology:hs,feComposite:wa,feColorMatrix:js,feGaussianBlur:Ho,title:Hi,desc:Qo};function qs($t,V){var ne=Object.keys($t);if(Object.getOwnPropertySymbols){var oe=Object.getOwnPropertySymbols($t);V&&(oe=oe.filter(function(F){return Object.getOwnPropertyDescriptor($t,F).enumerable})),ne.push.apply(ne,oe)}return ne}function fs($t){for(var V=1;V<arguments.length;V++){var ne=arguments[V]!=null?arguments[V]:{};V%2?qs(Object(ne),!0).forEach(function(oe){(0,f.default)($t,oe,ne[oe])}):Object.getOwnPropertyDescriptors?Object.defineProperties($t,Object.getOwnPropertyDescriptors(ne)):qs(Object(ne)).forEach(function(oe){Object.defineProperty($t,oe,Object.getOwnPropertyDescriptor(ne,oe))})}return $t}function So($t,V){var ne=document.createElement("canvas");return ne.width=$t,ne.height=V,ne}function za($t){return Qs.apply(this,arguments)}function Qs(){return Qs=(0,d.default)(function*($t){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,ne=document.createElement("img");return V&&(ne.crossOrigin="Anonymous"),new Promise((oe,F)=>{ne.onload=()=>{oe(ne)},ne.onerror=(z,te,he,Te,Ue)=>{F(Ue)},ne.src=$t})}),Qs.apply(this,arguments)}class qa{constructor(V){var{rootEmSize:ne=12,emSize:oe=12,createCanvas:F=qa.createCanvas,createImage:z=qa.createImage,anonymousCrossOrigin:te}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.canvg=V,this.definitions=Object.create(null),this.styles=Object.create(null),this.stylesSpecificity=Object.create(null),this.images=[],this.fonts=[],this.emSizeStack=[],this.uniqueId=0,this.screen=V.screen,this.rootEmSize=ne,this.emSize=oe,this.createCanvas=F,this.createImage=this.bindCreateImage(z,te),this.screen.wait(this.isImagesLoaded.bind(this)),this.screen.wait(this.isFontsLoaded.bind(this))}bindCreateImage(V,ne){return typeof ne=="boolean"?(oe,F)=>V(oe,typeof F=="boolean"?F:ne):V}get window(){return this.screen.window}get fetch(){return this.screen.fetch}get ctx(){return this.screen.ctx}get emSize(){var{emSizeStack:V}=this;return V[V.length-1]}set emSize(V){var{emSizeStack:ne}=this;ne.push(V)}popEmSize(){var{emSizeStack:V}=this;V.pop()}getUniqueId(){return"canvg".concat(++this.uniqueId)}isImagesLoaded(){return this.images.every(V=>V.loaded)}isFontsLoaded(){return this.fonts.every(V=>V.loaded)}createDocumentElement(V){var ne=this.createElement(V.documentElement);return ne.root=!0,ne.addStylesFromStyleDefinition(),this.documentElement=ne,ne}createElement(V){var ne=V.nodeName.replace(/^[^:]+:/,""),oe=qa.elementTypes[ne];return typeof oe<"u"?new oe(this,V):new jr(this,V)}createTextNode(V){return new Pn(this,V)}setViewBox(V){this.screen.setViewBox(fs({document:this},V))}}qa.createCanvas=So,qa.createImage=za,qa.elementTypes=Ea;function go($t,V){var ne=Object.keys($t);if(Object.getOwnPropertySymbols){var oe=Object.getOwnPropertySymbols($t);V&&(oe=oe.filter(function(F){return Object.getOwnPropertyDescriptor($t,F).enumerable})),ne.push.apply(ne,oe)}return ne}function no($t){for(var V=1;V<arguments.length;V++){var ne=arguments[V]!=null?arguments[V]:{};V%2?go(Object(ne),!0).forEach(function(oe){(0,f.default)($t,oe,ne[oe])}):Object.getOwnPropertyDescriptors?Object.defineProperties($t,Object.getOwnPropertyDescriptors(ne)):go(Object(ne)).forEach(function(oe){Object.defineProperty($t,oe,Object.getOwnPropertyDescriptor(ne,oe))})}return $t}class Vo{constructor(V,ne){var oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.parser=new kr(oe),this.screen=new Ut(V,oe),this.options=oe;var F=new qa(this,oe),z=F.createDocumentElement(ne);this.document=F,this.documentElement=z}static from(V,ne){var oe=arguments;return(0,d.default)(function*(){var F=oe.length>2&&oe[2]!==void 0?oe[2]:{},z=new kr(F),te=yield z.parse(ne);return new Vo(V,te,F)})()}static fromString(V,ne){var oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},F=new kr(oe),z=F.parseFromString(ne);return new Vo(V,z,oe)}fork(V,ne){var oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Vo.from(V,ne,no(no({},this.options),oe))}forkString(V,ne){var oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Vo.fromString(V,ne,no(no({},this.options),oe))}ready(){return this.screen.ready()}isReady(){return this.screen.isReady()}render(){var V=arguments,ne=this;return(0,d.default)(function*(){var oe=V.length>0&&V[0]!==void 0?V[0]:{};ne.start(no({enableRedraw:!0,ignoreAnimation:!0,ignoreMouse:!0},oe)),yield ne.ready(),ne.stop()})()}start(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{documentElement:ne,screen:oe,options:F}=this;oe.start(ne,no(no({enableRedraw:!0},F),V))}stop(){this.screen.stop()}resize(V){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:V,oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.documentElement.resize(V,ne,oe)}}}),"./node_modules/core-js/internals/a-callable.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/is-callable.js"),f=l("./node_modules/core-js/internals/try-to-string.js"),A=TypeError;c.exports=function(p){if(d(p))return p;throw new A(f(p)+" is not a function")}}),"./node_modules/core-js/internals/a-constructor.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/is-constructor.js"),f=l("./node_modules/core-js/internals/try-to-string.js"),A=TypeError;c.exports=function(p){if(d(p))return p;throw new A(f(p)+" is not a constructor")}}),"./node_modules/core-js/internals/a-possible-prototype.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/is-possible-prototype.js"),f=String,A=TypeError;c.exports=function(p){if(d(p))return p;throw new A("Can't set "+f(p)+" as a prototype")}}),"./node_modules/core-js/internals/a-set.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/set-helpers.js").has;c.exports=function(f){return d(f),f}}),"./node_modules/core-js/internals/add-to-unscopables.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/well-known-symbol.js"),f=l("./node_modules/core-js/internals/object-create.js"),A=l("./node_modules/core-js/internals/object-define-property.js").f,p=d("unscopables"),v=Array.prototype;v[p]===void 0&&A(v,p,{configurable:!0,value:f(null)}),c.exports=function(y){v[p][y]=!0}}),"./node_modules/core-js/internals/advance-string-index.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/string-multibyte.js").charAt;c.exports=function(f,A,p){return A+(p?d(f,A).length:1)}}),"./node_modules/core-js/internals/an-instance.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/object-is-prototype-of.js"),f=TypeError;c.exports=function(A,p){if(d(p,A))return A;throw new f("Incorrect invocation")}}),"./node_modules/core-js/internals/an-object.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/is-object.js"),f=String,A=TypeError;c.exports=function(p){if(d(p))return p;throw new A(f(p)+" is not an object")}}),"./node_modules/core-js/internals/array-buffer-non-extensible.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/fails.js");c.exports=d(function(){if(typeof ArrayBuffer=="function"){var f=new ArrayBuffer(8);Object.isExtensible(f)&&Object.defineProperty(f,"a",{value:8})}})}),"./node_modules/core-js/internals/array-for-each.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/array-iteration.js").forEach,f=l("./node_modules/core-js/internals/array-method-is-strict.js"),A=f("forEach");c.exports=A?[].forEach:function(v){return d(this,v,arguments.length>1?arguments[1]:void 0)}}),"./node_modules/core-js/internals/array-from.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-bind-context.js"),f=l("./node_modules/core-js/internals/function-call.js"),A=l("./node_modules/core-js/internals/to-object.js"),p=l("./node_modules/core-js/internals/call-with-safe-iteration-closing.js"),v=l("./node_modules/core-js/internals/is-array-iterator-method.js"),y=l("./node_modules/core-js/internals/is-constructor.js"),x=l("./node_modules/core-js/internals/length-of-array-like.js"),w=l("./node_modules/core-js/internals/create-property.js"),E=l("./node_modules/core-js/internals/get-iterator.js"),T=l("./node_modules/core-js/internals/get-iterator-method.js"),C=Array;c.exports=function(P){var U=A(P),W=y(this),q=arguments.length,re=q>1?arguments[1]:void 0,ie=re!==void 0;ie&&(re=d(re,q>2?arguments[2]:void 0));var Ae=T(U),be=0,Ee,ge,se,xe,ce,Me;if(Ae&&!(this===C&&v(Ae)))for(ge=W?new this:[],xe=E(U,Ae),ce=xe.next;!(se=f(ce,xe)).done;be++)Me=ie?p(xe,re,[se.value,be],!0):se.value,w(ge,be,Me);else for(Ee=x(U),ge=W?new this(Ee):C(Ee);Ee>be;be++)Me=ie?re(U[be],be):U[be],w(ge,be,Me);return ge.length=be,ge}}),"./node_modules/core-js/internals/array-includes.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/to-indexed-object.js"),f=l("./node_modules/core-js/internals/to-absolute-index.js"),A=l("./node_modules/core-js/internals/length-of-array-like.js"),p=function(v){return function(y,x,w){var E=d(y),T=A(E);if(T===0)return!v&&-1;var C=f(w,T),j;if(v&&x!==x){for(;T>C;)if(j=E[C++],j!==j)return!0}else for(;T>C;C++)if((v||C in E)&&E[C]===x)return v||C||0;return!v&&-1}};c.exports={includes:p(!0),indexOf:p(!1)}}),"./node_modules/core-js/internals/array-iteration.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-bind-context.js"),f=l("./node_modules/core-js/internals/function-uncurry-this.js"),A=l("./node_modules/core-js/internals/indexed-object.js"),p=l("./node_modules/core-js/internals/to-object.js"),v=l("./node_modules/core-js/internals/length-of-array-like.js"),y=l("./node_modules/core-js/internals/array-species-create.js"),x=f([].push),w=function(E){var T=E===1,C=E===2,j=E===3,P=E===4,U=E===6,W=E===7,q=E===5||U;return function(re,ie,Ae,be){for(var Ee=p(re),ge=A(Ee),se=v(ge),xe=d(ie,Ae),ce=0,Me=be||y,Oe=T?Me(re,se):C||W?Me(re,0):void 0,we,ue;se>ce;ce++)if((q||ce in ge)&&(we=ge[ce],ue=xe(we,ce,Ee),E))if(T)Oe[ce]=ue;else if(ue)switch(E){case 3:return!0;case 5:return we;case 6:return ce;case 2:x(Oe,we)}else switch(E){case 4:return!1;case 7:x(Oe,we)}return U?-1:j||P?P:Oe}};c.exports={forEach:w(0),map:w(1),filter:w(2),some:w(3),every:w(4),find:w(5),findIndex:w(6),filterReject:w(7)}}),"./node_modules/core-js/internals/array-method-has-species-support.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/fails.js"),f=l("./node_modules/core-js/internals/well-known-symbol.js"),A=l("./node_modules/core-js/internals/environment-v8-version.js"),p=f("species");c.exports=function(v){return A>=51||!d(function(){var y=[],x=y.constructor={};return x[p]=function(){return{foo:1}},y[v](Boolean).foo!==1})}}),"./node_modules/core-js/internals/array-method-is-strict.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/fails.js");c.exports=function(f,A){var p=[][f];return!!p&&d(function(){p.call(null,A||function(){return 1},1)})}}),"./node_modules/core-js/internals/array-reduce.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/a-callable.js"),f=l("./node_modules/core-js/internals/to-object.js"),A=l("./node_modules/core-js/internals/indexed-object.js"),p=l("./node_modules/core-js/internals/length-of-array-like.js"),v=TypeError,y="Reduce of empty array with no initial value",x=function(w){return function(E,T,C,j){var P=f(E),U=A(P),W=p(P);if(d(T),W===0&&C<2)throw new v(y);var q=w?W-1:0,re=w?-1:1;if(C<2)for(;;){if(q in U){j=U[q],q+=re;break}if(q+=re,w?q<0:W<=q)throw new v(y)}for(;w?q>=0:W>q;q+=re)q in U&&(j=T(j,U[q],q,P));return j}};c.exports={left:x(!1),right:x(!0)}}),"./node_modules/core-js/internals/array-slice.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-uncurry-this.js");c.exports=d([].slice)}),"./node_modules/core-js/internals/array-species-constructor.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/is-array.js"),f=l("./node_modules/core-js/internals/is-constructor.js"),A=l("./node_modules/core-js/internals/is-object.js"),p=l("./node_modules/core-js/internals/well-known-symbol.js"),v=p("species"),y=Array;c.exports=function(x){var w;return d(x)&&(w=x.constructor,f(w)&&(w===y||d(w.prototype))?w=void 0:A(w)&&(w=w[v],w===null&&(w=void 0))),w===void 0?y:w}}),"./node_modules/core-js/internals/array-species-create.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/array-species-constructor.js");c.exports=function(f,A){return new(d(f))(A===0?0:A)}}),"./node_modules/core-js/internals/call-with-safe-iteration-closing.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/an-object.js"),f=l("./node_modules/core-js/internals/iterator-close.js");c.exports=function(A,p,v,y){try{return y?p(d(v)[0],v[1]):p(v)}catch(x){f(A,"throw",x)}}}),"./node_modules/core-js/internals/check-correctness-of-iteration.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/well-known-symbol.js"),f=d("iterator"),A=!1;try{var p=0,v={next:function(){return{done:!!p++}},return:function(){A=!0}};v[f]=function(){return this},Array.from(v,function(){throw 2})}catch{}c.exports=function(y,x){try{if(!x&&!A)return!1}catch{return!1}var w=!1;try{var E={};E[f]=function(){return{next:function(){return{done:w=!0}}}},y(E)}catch{}return w}}),"./node_modules/core-js/internals/classof-raw.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-uncurry-this.js"),f=d({}.toString),A=d("".slice);c.exports=function(p){return A(f(p),8,-1)}}),"./node_modules/core-js/internals/classof.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/to-string-tag-support.js"),f=l("./node_modules/core-js/internals/is-callable.js"),A=l("./node_modules/core-js/internals/classof-raw.js"),p=l("./node_modules/core-js/internals/well-known-symbol.js"),v=p("toStringTag"),y=Object,x=A((function(){return arguments})())==="Arguments",w=function(E,T){try{return E[T]}catch{}};c.exports=d?A:function(E){var T,C,j;return E===void 0?"Undefined":E===null?"Null":typeof(C=w(T=y(E),v))=="string"?C:x?A(T):(j=A(T))==="Object"&&f(T.callee)?"Arguments":j}}),"./node_modules/core-js/internals/collection-strong.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/object-create.js"),f=l("./node_modules/core-js/internals/define-built-in-accessor.js"),A=l("./node_modules/core-js/internals/define-built-ins.js"),p=l("./node_modules/core-js/internals/function-bind-context.js"),v=l("./node_modules/core-js/internals/an-instance.js"),y=l("./node_modules/core-js/internals/is-null-or-undefined.js"),x=l("./node_modules/core-js/internals/iterate.js"),w=l("./node_modules/core-js/internals/iterator-define.js"),E=l("./node_modules/core-js/internals/create-iter-result-object.js"),T=l("./node_modules/core-js/internals/set-species.js"),C=l("./node_modules/core-js/internals/descriptors.js"),j=l("./node_modules/core-js/internals/internal-metadata.js").fastKey,P=l("./node_modules/core-js/internals/internal-state.js"),U=P.set,W=P.getterFor;c.exports={getConstructor:function(q,re,ie,Ae){var be=q(function(ce,Me){v(ce,Ee),U(ce,{type:re,index:d(null),first:null,last:null,size:0}),C||(ce.size=0),y(Me)||x(Me,ce[Ae],{that:ce,AS_ENTRIES:ie})}),Ee=be.prototype,ge=W(re),se=function(ce,Me,Oe){var we=ge(ce),ue=xe(ce,Me),ye,Le;return ue?ue.value=Oe:(we.last=ue={index:Le=j(Me,!0),key:Me,value:Oe,previous:ye=we.last,next:null,removed:!1},we.first||(we.first=ue),ye&&(ye.next=ue),C?we.size++:ce.size++,Le!=="F"&&(we.index[Le]=ue)),ce},xe=function(ce,Me){var Oe=ge(ce),we=j(Me),ue;if(we!=="F")return Oe.index[we];for(ue=Oe.first;ue;ue=ue.next)if(ue.key===Me)return ue};return A(Ee,{clear:function(){for(var Me=this,Oe=ge(Me),we=Oe.first;we;)we.removed=!0,we.previous&&(we.previous=we.previous.next=null),we=we.next;Oe.first=Oe.last=null,Oe.index=d(null),C?Oe.size=0:Me.size=0},delete:function(ce){var Me=this,Oe=ge(Me),we=xe(Me,ce);if(we){var ue=we.next,ye=we.previous;delete Oe.index[we.index],we.removed=!0,ye&&(ye.next=ue),ue&&(ue.previous=ye),Oe.first===we&&(Oe.first=ue),Oe.last===we&&(Oe.last=ye),C?Oe.size--:Me.size--}return!!we},forEach:function(Me){for(var Oe=ge(this),we=p(Me,arguments.length>1?arguments[1]:void 0),ue;ue=ue?ue.next:Oe.first;)for(we(ue.value,ue.key,this);ue&&ue.removed;)ue=ue.previous},has:function(Me){return!!xe(this,Me)}}),A(Ee,ie?{get:function(Me){var Oe=xe(this,Me);return Oe&&Oe.value},set:function(Me,Oe){return se(this,Me===0?0:Me,Oe)}}:{add:function(Me){return se(this,Me=Me===0?0:Me,Me)}}),C&&f(Ee,"size",{configurable:!0,get:function(){return ge(this).size}}),be},setStrong:function(q,re,ie){var Ae=re+" Iterator",be=W(re),Ee=W(Ae);w(q,re,function(ge,se){U(this,{type:Ae,target:ge,state:be(ge),kind:se,last:null})},function(){for(var ge=Ee(this),se=ge.kind,xe=ge.last;xe&&xe.removed;)xe=xe.previous;return!ge.target||!(ge.last=xe=xe?xe.next:ge.state.first)?(ge.target=null,E(void 0,!0)):E(se==="keys"?xe.key:se==="values"?xe.value:[xe.key,xe.value],!1)},ie?"entries":"values",!ie,!0),T(re)}}}),"./node_modules/core-js/internals/collection.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/global-this.js"),A=l("./node_modules/core-js/internals/function-uncurry-this.js"),p=l("./node_modules/core-js/internals/is-forced.js"),v=l("./node_modules/core-js/internals/define-built-in.js"),y=l("./node_modules/core-js/internals/internal-metadata.js"),x=l("./node_modules/core-js/internals/iterate.js"),w=l("./node_modules/core-js/internals/an-instance.js"),E=l("./node_modules/core-js/internals/is-callable.js"),T=l("./node_modules/core-js/internals/is-null-or-undefined.js"),C=l("./node_modules/core-js/internals/is-object.js"),j=l("./node_modules/core-js/internals/fails.js"),P=l("./node_modules/core-js/internals/check-correctness-of-iteration.js"),U=l("./node_modules/core-js/internals/set-to-string-tag.js"),W=l("./node_modules/core-js/internals/inherit-if-required.js");c.exports=function(q,re,ie){var Ae=q.indexOf("Map")!==-1,be=q.indexOf("Weak")!==-1,Ee=Ae?"set":"add",ge=f[q],se=ge&&ge.prototype,xe=ge,ce={},Me=function(Fe){var At=A(se[Fe]);v(se,Fe,Fe==="add"?function(Pe){return At(this,Pe===0?0:Pe),this}:Fe==="delete"?function(pt){return be&&!C(pt)?!1:At(this,pt===0?0:pt)}:Fe==="get"?function(Pe){return be&&!C(Pe)?void 0:At(this,Pe===0?0:Pe)}:Fe==="has"?function(Pe){return be&&!C(Pe)?!1:At(this,Pe===0?0:Pe)}:function(Pe,st){return At(this,Pe===0?0:Pe,st),this})},Oe=p(q,!E(ge)||!(be||se.forEach&&!j(function(){new ge().entries().next()})));if(Oe)xe=ie.getConstructor(re,q,Ae,Ee),y.enable();else if(p(q,!0)){var we=new xe,ue=we[Ee](be?{}:-0,1)!==we,ye=j(function(){we.has(1)}),Le=P(function(Fe){new ge(Fe)}),He=!be&&j(function(){for(var Fe=new ge,At=5;At--;)Fe[Ee](At,At);return!Fe.has(-0)});Le||(xe=re(function(Fe,At){w(Fe,se);var pt=W(new ge,Fe,xe);return T(At)||x(At,pt[Ee],{that:pt,AS_ENTRIES:Ae}),pt}),xe.prototype=se,se.constructor=xe),(ye||He)&&(Me("delete"),Me("has"),Ae&&Me("get")),(He||ue)&&Me(Ee),be&&se.clear&&delete se.clear}return ce[q]=xe,d({global:!0,constructor:!0,forced:xe!==ge},ce),U(xe,q),be||ie.setStrong(xe,q,Ae),xe}}),"./node_modules/core-js/internals/copy-constructor-properties.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/has-own-property.js"),f=l("./node_modules/core-js/internals/own-keys.js"),A=l("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),p=l("./node_modules/core-js/internals/object-define-property.js");c.exports=function(v,y,x){for(var w=f(y),E=p.f,T=A.f,C=0;C<w.length;C++){var j=w[C];!d(v,j)&&!(x&&d(x,j))&&E(v,j,T(y,j))}}}),"./node_modules/core-js/internals/correct-is-regexp-logic.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/well-known-symbol.js"),f=d("match");c.exports=function(A){var p=/./;try{"/./"[A](p)}catch{try{return p[f]=!1,"/./"[A](p)}catch{}}return!1}}),"./node_modules/core-js/internals/correct-prototype-getter.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/fails.js");c.exports=!d(function(){function f(){}return f.prototype.constructor=null,Object.getPrototypeOf(new f)!==f.prototype})}),"./node_modules/core-js/internals/create-html.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-uncurry-this.js"),f=l("./node_modules/core-js/internals/require-object-coercible.js"),A=l("./node_modules/core-js/internals/to-string.js"),p=/"/g,v=d("".replace);c.exports=function(y,x,w,E){var T=A(f(y)),C="<"+x;return w!==""&&(C+=" "+w+'="'+v(A(E),p,"&quot;")+'"'),C+">"+T+"</"+x+">"}}),"./node_modules/core-js/internals/create-iter-result-object.js":(function(c){c.exports=function(u,l){return{value:u,done:l}}}),"./node_modules/core-js/internals/create-non-enumerable-property.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/descriptors.js"),f=l("./node_modules/core-js/internals/object-define-property.js"),A=l("./node_modules/core-js/internals/create-property-descriptor.js");c.exports=d?function(p,v,y){return f.f(p,v,A(1,y))}:function(p,v,y){return p[v]=y,p}}),"./node_modules/core-js/internals/create-property-descriptor.js":(function(c){c.exports=function(u,l){return{enumerable:!(u&1),configurable:!(u&2),writable:!(u&4),value:l}}}),"./node_modules/core-js/internals/create-property.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/descriptors.js"),f=l("./node_modules/core-js/internals/object-define-property.js"),A=l("./node_modules/core-js/internals/create-property-descriptor.js");c.exports=function(p,v,y){d?f.f(p,v,A(0,y)):p[v]=y}}),"./node_modules/core-js/internals/define-built-in-accessor.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/make-built-in.js"),f=l("./node_modules/core-js/internals/object-define-property.js");c.exports=function(A,p,v){return v.get&&d(v.get,p,{getter:!0}),v.set&&d(v.set,p,{setter:!0}),f.f(A,p,v)}}),"./node_modules/core-js/internals/define-built-in.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/is-callable.js"),f=l("./node_modules/core-js/internals/object-define-property.js"),A=l("./node_modules/core-js/internals/make-built-in.js"),p=l("./node_modules/core-js/internals/define-global-property.js");c.exports=function(v,y,x,w){w||(w={});var E=w.enumerable,T=w.name!==void 0?w.name:y;if(d(x)&&A(x,T,w),w.global)E?v[y]=x:p(y,x);else{try{w.unsafe?v[y]&&(E=!0):delete v[y]}catch{}E?v[y]=x:f.f(v,y,{value:x,enumerable:!1,configurable:!w.nonConfigurable,writable:!w.nonWritable})}return v}}),"./node_modules/core-js/internals/define-built-ins.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/define-built-in.js");c.exports=function(f,A,p){for(var v in A)d(f,v,A[v],p);return f}}),"./node_modules/core-js/internals/define-global-property.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/global-this.js"),f=Object.defineProperty;c.exports=function(A,p){try{f(d,A,{value:p,configurable:!0,writable:!0})}catch{d[A]=p}return p}}),"./node_modules/core-js/internals/descriptors.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/fails.js");c.exports=!d(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})}),"./node_modules/core-js/internals/document-create-element.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/global-this.js"),f=l("./node_modules/core-js/internals/is-object.js"),A=d.document,p=f(A)&&f(A.createElement);c.exports=function(v){return p?A.createElement(v):{}}}),"./node_modules/core-js/internals/does-not-exceed-safe-integer.js":(function(c){var u=TypeError,l=9007199254740991;c.exports=function(d){if(d>l)throw u("Maximum allowed index exceeded");return d}}),"./node_modules/core-js/internals/dom-iterables.js":(function(c){c.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}),"./node_modules/core-js/internals/dom-token-list-prototype.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/document-create-element.js"),f=d("span").classList,A=f&&f.constructor&&f.constructor.prototype;c.exports=A===Object.prototype?void 0:A}),"./node_modules/core-js/internals/enum-bug-keys.js":(function(c){c.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]}),"./node_modules/core-js/internals/environment-is-ios-pebble.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/environment-user-agent.js");c.exports=/ipad|iphone|ipod/i.test(d)&&typeof Pebble<"u"}),"./node_modules/core-js/internals/environment-is-ios.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/environment-user-agent.js");c.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(d)}),"./node_modules/core-js/internals/environment-is-node.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/environment.js");c.exports=d==="NODE"}),"./node_modules/core-js/internals/environment-is-webos-webkit.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/environment-user-agent.js");c.exports=/web0s(?!.*chrome)/i.test(d)}),"./node_modules/core-js/internals/environment-user-agent.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/global-this.js"),f=d.navigator,A=f&&f.userAgent;c.exports=A?String(A):""}),"./node_modules/core-js/internals/environment-v8-version.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/global-this.js"),f=l("./node_modules/core-js/internals/environment-user-agent.js"),A=d.process,p=d.Deno,v=A&&A.versions||p&&p.version,y=v&&v.v8,x,w;y&&(x=y.split("."),w=x[0]>0&&x[0]<4?1:+(x[0]+x[1])),!w&&f&&(x=f.match(/Edge\/(\d+)/),(!x||x[1]>=74)&&(x=f.match(/Chrome\/(\d+)/),x&&(w=+x[1]))),c.exports=w}),"./node_modules/core-js/internals/environment.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/global-this.js"),f=l("./node_modules/core-js/internals/environment-user-agent.js"),A=l("./node_modules/core-js/internals/classof-raw.js"),p=function(v){return f.slice(0,v.length)===v};c.exports=(function(){return p("Bun/")?"BUN":p("Cloudflare-Workers")?"CLOUDFLARE":p("Deno/")?"DENO":p("Node.js/")?"NODE":d.Bun&&typeof Bun.version=="string"?"BUN":d.Deno&&typeof Deno.version=="object"?"DENO":A(d.process)==="process"?"NODE":d.window&&d.document?"BROWSER":"REST"})()}),"./node_modules/core-js/internals/export.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/global-this.js"),f=l("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,A=l("./node_modules/core-js/internals/create-non-enumerable-property.js"),p=l("./node_modules/core-js/internals/define-built-in.js"),v=l("./node_modules/core-js/internals/define-global-property.js"),y=l("./node_modules/core-js/internals/copy-constructor-properties.js"),x=l("./node_modules/core-js/internals/is-forced.js");c.exports=function(w,E){var T=w.target,C=w.global,j=w.stat,P,U,W,q,re,ie;if(C?U=d:j?U=d[T]||v(T,{}):U=d[T]&&d[T].prototype,U)for(W in E){if(re=E[W],w.dontCallGetSet?(ie=f(U,W),q=ie&&ie.value):q=U[W],P=x(C?W:T+(j?".":"#")+W,w.forced),!P&&q!==void 0){if(typeof re==typeof q)continue;y(re,q)}(w.sham||q&&q.sham)&&A(re,"sham",!0),p(U,W,re,w)}}}),"./node_modules/core-js/internals/fails.js":(function(c){c.exports=function(u){try{return!!u()}catch{return!0}}}),"./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js":(function(c,u,l){l("./node_modules/core-js/modules/es.regexp.exec.js");var d=l("./node_modules/core-js/internals/function-call.js"),f=l("./node_modules/core-js/internals/define-built-in.js"),A=l("./node_modules/core-js/internals/regexp-exec.js"),p=l("./node_modules/core-js/internals/fails.js"),v=l("./node_modules/core-js/internals/well-known-symbol.js"),y=l("./node_modules/core-js/internals/create-non-enumerable-property.js"),x=v("species"),w=RegExp.prototype;c.exports=function(E,T,C,j){var P=v(E),U=!p(function(){var ie={};return ie[P]=function(){return 7},""[E](ie)!==7}),W=U&&!p(function(){var ie=!1,Ae=/a/;if(E==="split"){var be={};be[x]=function(){return Ae},Ae={constructor:be,flags:""},Ae[P]=/./[P]}return Ae.exec=function(){return ie=!0,null},Ae[P](""),!ie});if(!U||!W||C){var q=/./[P],re=T(P,""[E],function(ie,Ae,be,Ee,ge){var se=Ae.exec;return se===A||se===w.exec?U&&!ge?{done:!0,value:d(q,Ae,be,Ee)}:{done:!0,value:d(ie,be,Ae,Ee)}:{done:!1}});f(String.prototype,E,re[0]),f(w,P,re[1])}j&&y(w[P],"sham",!0)}}),"./node_modules/core-js/internals/freezing.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/fails.js");c.exports=!d(function(){return Object.isExtensible(Object.preventExtensions({}))})}),"./node_modules/core-js/internals/function-apply.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-bind-native.js"),f=Function.prototype,A=f.apply,p=f.call;c.exports=typeof Reflect=="object"&&Reflect.apply||(d?p.bind(A):function(){return p.apply(A,arguments)})}),"./node_modules/core-js/internals/function-bind-context.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-uncurry-this-clause.js"),f=l("./node_modules/core-js/internals/a-callable.js"),A=l("./node_modules/core-js/internals/function-bind-native.js"),p=d(d.bind);c.exports=function(v,y){return f(v),y===void 0?v:A?p(v,y):function(){return v.apply(y,arguments)}}}),"./node_modules/core-js/internals/function-bind-native.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/fails.js");c.exports=!d(function(){var f=(function(){}).bind();return typeof f!="function"||f.hasOwnProperty("prototype")})}),"./node_modules/core-js/internals/function-call.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-bind-native.js"),f=Function.prototype.call;c.exports=d?f.bind(f):function(){return f.apply(f,arguments)}}),"./node_modules/core-js/internals/function-name.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/descriptors.js"),f=l("./node_modules/core-js/internals/has-own-property.js"),A=Function.prototype,p=d&&Object.getOwnPropertyDescriptor,v=f(A,"name"),y=v&&(function(){}).name==="something",x=v&&(!d||d&&p(A,"name").configurable);c.exports={EXISTS:v,PROPER:y,CONFIGURABLE:x}}),"./node_modules/core-js/internals/function-uncurry-this-accessor.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-uncurry-this.js"),f=l("./node_modules/core-js/internals/a-callable.js");c.exports=function(A,p,v){try{return d(f(Object.getOwnPropertyDescriptor(A,p)[v]))}catch{}}}),"./node_modules/core-js/internals/function-uncurry-this-clause.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/classof-raw.js"),f=l("./node_modules/core-js/internals/function-uncurry-this.js");c.exports=function(A){if(d(A)==="Function")return f(A)}}),"./node_modules/core-js/internals/function-uncurry-this.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-bind-native.js"),f=Function.prototype,A=f.call,p=d&&f.bind.bind(A,A);c.exports=d?p:function(v){return function(){return A.apply(v,arguments)}}}),"./node_modules/core-js/internals/get-built-in.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/global-this.js"),f=l("./node_modules/core-js/internals/is-callable.js"),A=function(p){return f(p)?p:void 0};c.exports=function(p,v){return arguments.length<2?A(d[p]):d[p]&&d[p][v]}}),"./node_modules/core-js/internals/get-iterator-direct.js":(function(c){c.exports=function(u){return{iterator:u,next:u.next,done:!1}}}),"./node_modules/core-js/internals/get-iterator-method.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/classof.js"),f=l("./node_modules/core-js/internals/get-method.js"),A=l("./node_modules/core-js/internals/is-null-or-undefined.js"),p=l("./node_modules/core-js/internals/iterators.js"),v=l("./node_modules/core-js/internals/well-known-symbol.js"),y=v("iterator");c.exports=function(x){if(!A(x))return f(x,y)||f(x,"@@iterator")||p[d(x)]}}),"./node_modules/core-js/internals/get-iterator.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-call.js"),f=l("./node_modules/core-js/internals/a-callable.js"),A=l("./node_modules/core-js/internals/an-object.js"),p=l("./node_modules/core-js/internals/try-to-string.js"),v=l("./node_modules/core-js/internals/get-iterator-method.js"),y=TypeError;c.exports=function(x,w){var E=arguments.length<2?v(x):w;if(f(E))return A(d(E,x));throw new y(p(x)+" is not iterable")}}),"./node_modules/core-js/internals/get-method.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/a-callable.js"),f=l("./node_modules/core-js/internals/is-null-or-undefined.js");c.exports=function(A,p){var v=A[p];return f(v)?void 0:d(v)}}),"./node_modules/core-js/internals/get-set-record.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/a-callable.js"),f=l("./node_modules/core-js/internals/an-object.js"),A=l("./node_modules/core-js/internals/function-call.js"),p=l("./node_modules/core-js/internals/to-integer-or-infinity.js"),v=l("./node_modules/core-js/internals/get-iterator-direct.js"),y="Invalid size",x=RangeError,w=TypeError,E=Math.max,T=function(C,j){this.set=C,this.size=E(j,0),this.has=d(C.has),this.keys=d(C.keys)};T.prototype={getIterator:function(){return v(f(A(this.keys,this.set)))},includes:function(C){return A(this.has,this.set,C)}},c.exports=function(C){f(C);var j=+C.size;if(j!==j)throw new w(y);var P=p(j);if(P<0)throw new x(y);return new T(C,P)}}),"./node_modules/core-js/internals/get-substitution.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-uncurry-this.js"),f=l("./node_modules/core-js/internals/to-object.js"),A=Math.floor,p=d("".charAt),v=d("".replace),y=d("".slice),x=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,w=/\$([$&'`]|\d{1,2})/g;c.exports=function(E,T,C,j,P,U){var W=C+E.length,q=j.length,re=w;return P!==void 0&&(P=f(P),re=x),v(U,re,function(ie,Ae){var be;switch(p(Ae,0)){case"$":return"$";case"&":return E;case"`":return y(T,0,C);case"'":return y(T,W);case"<":be=P[y(Ae,1,-1)];break;default:var Ee=+Ae;if(Ee===0)return ie;if(Ee>q){var ge=A(Ee/10);return ge===0?ie:ge<=q?j[ge-1]===void 0?p(Ae,1):j[ge-1]+p(Ae,1):ie}be=j[Ee-1]}return be===void 0?"":be})}}),"./node_modules/core-js/internals/global-this.js":(function(c){var u=function(l){return l&&l.Math===Math&&l};c.exports=u(typeof globalThis=="object"&&globalThis)||u(typeof window=="object"&&window)||u(typeof self=="object"&&self)||u(typeof E1=="object"&&E1)||u(typeof this=="object"&&this)||(function(){return this})()||Function("return this")()}),"./node_modules/core-js/internals/has-own-property.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-uncurry-this.js"),f=l("./node_modules/core-js/internals/to-object.js"),A=d({}.hasOwnProperty);c.exports=Object.hasOwn||function(v,y){return A(f(v),y)}}),"./node_modules/core-js/internals/hidden-keys.js":(function(c){c.exports={}}),"./node_modules/core-js/internals/host-report-errors.js":(function(c){c.exports=function(u,l){try{arguments.length===1?console.error(u):console.error(u,l)}catch{}}}),"./node_modules/core-js/internals/html.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/get-built-in.js");c.exports=d("document","documentElement")}),"./node_modules/core-js/internals/ie8-dom-define.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/descriptors.js"),f=l("./node_modules/core-js/internals/fails.js"),A=l("./node_modules/core-js/internals/document-create-element.js");c.exports=!d&&!f(function(){return Object.defineProperty(A("div"),"a",{get:function(){return 7}}).a!==7})}),"./node_modules/core-js/internals/indexed-object.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-uncurry-this.js"),f=l("./node_modules/core-js/internals/fails.js"),A=l("./node_modules/core-js/internals/classof-raw.js"),p=Object,v=d("".split);c.exports=f(function(){return!p("z").propertyIsEnumerable(0)})?function(y){return A(y)==="String"?v(y,""):p(y)}:p}),"./node_modules/core-js/internals/inherit-if-required.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/is-callable.js"),f=l("./node_modules/core-js/internals/is-object.js"),A=l("./node_modules/core-js/internals/object-set-prototype-of.js");c.exports=function(p,v,y){var x,w;return A&&d(x=v.constructor)&&x!==y&&f(w=x.prototype)&&w!==y.prototype&&A(p,w),p}}),"./node_modules/core-js/internals/inspect-source.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-uncurry-this.js"),f=l("./node_modules/core-js/internals/is-callable.js"),A=l("./node_modules/core-js/internals/shared-store.js"),p=d(Function.toString);f(A.inspectSource)||(A.inspectSource=function(v){return p(v)}),c.exports=A.inspectSource}),"./node_modules/core-js/internals/internal-metadata.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/function-uncurry-this.js"),A=l("./node_modules/core-js/internals/hidden-keys.js"),p=l("./node_modules/core-js/internals/is-object.js"),v=l("./node_modules/core-js/internals/has-own-property.js"),y=l("./node_modules/core-js/internals/object-define-property.js").f,x=l("./node_modules/core-js/internals/object-get-own-property-names.js"),w=l("./node_modules/core-js/internals/object-get-own-property-names-external.js"),E=l("./node_modules/core-js/internals/object-is-extensible.js"),T=l("./node_modules/core-js/internals/uid.js"),C=l("./node_modules/core-js/internals/freezing.js"),j=!1,P=T("meta"),U=0,W=function(Ee){y(Ee,P,{value:{objectID:"O"+U++,weakData:{}}})},q=function(Ee,ge){if(!p(Ee))return typeof Ee=="symbol"?Ee:(typeof Ee=="string"?"S":"P")+Ee;if(!v(Ee,P)){if(!E(Ee))return"F";if(!ge)return"E";W(Ee)}return Ee[P].objectID},re=function(Ee,ge){if(!v(Ee,P)){if(!E(Ee))return!0;if(!ge)return!1;W(Ee)}return Ee[P].weakData},ie=function(Ee){return C&&j&&E(Ee)&&!v(Ee,P)&&W(Ee),Ee},Ae=function(){be.enable=function(){},j=!0;var Ee=x.f,ge=f([].splice),se={};se[P]=1,Ee(se).length&&(x.f=function(xe){for(var ce=Ee(xe),Me=0,Oe=ce.length;Me<Oe;Me++)if(ce[Me]===P){ge(ce,Me,1);break}return ce},d({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:w.f}))},be=c.exports={enable:Ae,fastKey:q,getWeakData:re,onFreeze:ie};A[P]=!0}),"./node_modules/core-js/internals/internal-state.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/weak-map-basic-detection.js"),f=l("./node_modules/core-js/internals/global-this.js"),A=l("./node_modules/core-js/internals/is-object.js"),p=l("./node_modules/core-js/internals/create-non-enumerable-property.js"),v=l("./node_modules/core-js/internals/has-own-property.js"),y=l("./node_modules/core-js/internals/shared-store.js"),x=l("./node_modules/core-js/internals/shared-key.js"),w=l("./node_modules/core-js/internals/hidden-keys.js"),E="Object already initialized",T=f.TypeError,C=f.WeakMap,j,P,U,W=function(Ae){return U(Ae)?P(Ae):j(Ae,{})},q=function(Ae){return function(be){var Ee;if(!A(be)||(Ee=P(be)).type!==Ae)throw new T("Incompatible receiver, "+Ae+" required");return Ee}};if(d||y.state){var re=y.state||(y.state=new C);re.get=re.get,re.has=re.has,re.set=re.set,j=function(Ae,be){if(re.has(Ae))throw new T(E);return be.facade=Ae,re.set(Ae,be),be},P=function(Ae){return re.get(Ae)||{}},U=function(Ae){return re.has(Ae)}}else{var ie=x("state");w[ie]=!0,j=function(Ae,be){if(v(Ae,ie))throw new T(E);return be.facade=Ae,p(Ae,ie,be),be},P=function(Ae){return v(Ae,ie)?Ae[ie]:{}},U=function(Ae){return v(Ae,ie)}}c.exports={set:j,get:P,has:U,enforce:W,getterFor:q}}),"./node_modules/core-js/internals/is-array-iterator-method.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/well-known-symbol.js"),f=l("./node_modules/core-js/internals/iterators.js"),A=d("iterator"),p=Array.prototype;c.exports=function(v){return v!==void 0&&(f.Array===v||p[A]===v)}}),"./node_modules/core-js/internals/is-array.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/classof-raw.js");c.exports=Array.isArray||function(A){return d(A)==="Array"}}),"./node_modules/core-js/internals/is-callable.js":(function(c){var u=typeof document=="object"&&document.all;c.exports=typeof u>"u"&&u!==void 0?function(l){return typeof l=="function"||l===u}:function(l){return typeof l=="function"}}),"./node_modules/core-js/internals/is-constructor.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-uncurry-this.js"),f=l("./node_modules/core-js/internals/fails.js"),A=l("./node_modules/core-js/internals/is-callable.js"),p=l("./node_modules/core-js/internals/classof.js"),v=l("./node_modules/core-js/internals/get-built-in.js"),y=l("./node_modules/core-js/internals/inspect-source.js"),x=function(){},w=v("Reflect","construct"),E=/^\s*(?:class|function)\b/,T=d(E.exec),C=!E.test(x),j=function(W){if(!A(W))return!1;try{return w(x,[],W),!0}catch{return!1}},P=function(W){if(!A(W))return!1;switch(p(W)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return C||!!T(E,y(W))}catch{return!0}};P.sham=!0,c.exports=!w||f(function(){var U;return j(j.call)||!j(Object)||!j(function(){U=!0})||U})?P:j}),"./node_modules/core-js/internals/is-forced.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/fails.js"),f=l("./node_modules/core-js/internals/is-callable.js"),A=/#|\.prototype\./,p=function(E,T){var C=y[v(E)];return C===w?!0:C===x?!1:f(T)?d(T):!!T},v=p.normalize=function(E){return String(E).replace(A,".").toLowerCase()},y=p.data={},x=p.NATIVE="N",w=p.POLYFILL="P";c.exports=p}),"./node_modules/core-js/internals/is-iterable.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/classof.js"),f=l("./node_modules/core-js/internals/has-own-property.js"),A=l("./node_modules/core-js/internals/is-null-or-undefined.js"),p=l("./node_modules/core-js/internals/well-known-symbol.js"),v=l("./node_modules/core-js/internals/iterators.js"),y=p("iterator"),x=Object;c.exports=function(w){if(A(w))return!1;var E=x(w);return E[y]!==void 0||"@@iterator"in E||f(v,d(E))}}),"./node_modules/core-js/internals/is-null-or-undefined.js":(function(c){c.exports=function(u){return u==null}}),"./node_modules/core-js/internals/is-object.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/is-callable.js");c.exports=function(f){return typeof f=="object"?f!==null:d(f)}}),"./node_modules/core-js/internals/is-possible-prototype.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/is-object.js");c.exports=function(f){return d(f)||f===null}}),"./node_modules/core-js/internals/is-pure.js":(function(c){c.exports=!1}),"./node_modules/core-js/internals/is-raw-json.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/is-object.js"),f=l("./node_modules/core-js/internals/internal-state.js").get;c.exports=function(p){if(!d(p))return!1;var v=f(p);return!!v&&v.type==="RawJSON"}}),"./node_modules/core-js/internals/is-regexp.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/is-object.js"),f=l("./node_modules/core-js/internals/classof-raw.js"),A=l("./node_modules/core-js/internals/well-known-symbol.js"),p=A("match");c.exports=function(v){var y;return d(v)&&((y=v[p])!==void 0?!!y:f(v)==="RegExp")}}),"./node_modules/core-js/internals/is-symbol.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/get-built-in.js"),f=l("./node_modules/core-js/internals/is-callable.js"),A=l("./node_modules/core-js/internals/object-is-prototype-of.js"),p=l("./node_modules/core-js/internals/use-symbol-as-uid.js"),v=Object;c.exports=p?function(y){return typeof y=="symbol"}:function(y){var x=d("Symbol");return f(x)&&A(x.prototype,v(y))}}),"./node_modules/core-js/internals/iterate-simple.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-call.js");c.exports=function(f,A,p){for(var v=p?f:f.iterator,y=f.next,x,w;!(x=d(y,v)).done;)if(w=A(x.value),w!==void 0)return w}}),"./node_modules/core-js/internals/iterate.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-bind-context.js"),f=l("./node_modules/core-js/internals/function-call.js"),A=l("./node_modules/core-js/internals/an-object.js"),p=l("./node_modules/core-js/internals/try-to-string.js"),v=l("./node_modules/core-js/internals/is-array-iterator-method.js"),y=l("./node_modules/core-js/internals/length-of-array-like.js"),x=l("./node_modules/core-js/internals/object-is-prototype-of.js"),w=l("./node_modules/core-js/internals/get-iterator.js"),E=l("./node_modules/core-js/internals/get-iterator-method.js"),T=l("./node_modules/core-js/internals/iterator-close.js"),C=TypeError,j=function(U,W){this.stopped=U,this.result=W},P=j.prototype;c.exports=function(U,W,q){var re=q&&q.that,ie=!!(q&&q.AS_ENTRIES),Ae=!!(q&&q.IS_RECORD),be=!!(q&&q.IS_ITERATOR),Ee=!!(q&&q.INTERRUPTED),ge=d(W,re),se,xe,ce,Me,Oe,we,ue,ye=function(He){return se&&T(se,"normal"),new j(!0,He)},Le=function(He){return ie?(A(He),Ee?ge(He[0],He[1],ye):ge(He[0],He[1])):Ee?ge(He,ye):ge(He)};if(Ae)se=U.iterator;else if(be)se=U;else{if(xe=E(U),!xe)throw new C(p(U)+" is not iterable");if(v(xe)){for(ce=0,Me=y(U);Me>ce;ce++)if(Oe=Le(U[ce]),Oe&&x(P,Oe))return Oe;return new j(!1)}se=w(U,xe)}for(we=Ae?U.next:se.next;!(ue=f(we,se)).done;){try{Oe=Le(ue.value)}catch(He){T(se,"throw",He)}if(typeof Oe=="object"&&Oe&&x(P,Oe))return Oe}return new j(!1)}}),"./node_modules/core-js/internals/iterator-close-all.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/iterator-close.js");c.exports=function(f,A,p){for(var v=f.length-1;v>=0;v--)if(f[v]!==void 0)try{p=d(f[v].iterator,A,p)}catch(y){A="throw",p=y}if(A==="throw")throw p;return p}}),"./node_modules/core-js/internals/iterator-close.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-call.js"),f=l("./node_modules/core-js/internals/an-object.js"),A=l("./node_modules/core-js/internals/get-method.js");c.exports=function(p,v,y){var x,w;f(p);try{if(x=A(p,"return"),!x){if(v==="throw")throw y;return y}x=d(x,p)}catch(E){w=!0,x=E}if(v==="throw")throw y;if(w)throw x;return f(x),y}}),"./node_modules/core-js/internals/iterator-create-constructor.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,f=l("./node_modules/core-js/internals/object-create.js"),A=l("./node_modules/core-js/internals/create-property-descriptor.js"),p=l("./node_modules/core-js/internals/set-to-string-tag.js"),v=l("./node_modules/core-js/internals/iterators.js"),y=function(){return this};c.exports=function(x,w,E,T){var C=w+" Iterator";return x.prototype=f(d,{next:A(+!T,E)}),p(x,C,!1,!0),v[C]=y,x}}),"./node_modules/core-js/internals/iterator-create-proxy.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-call.js"),f=l("./node_modules/core-js/internals/object-create.js"),A=l("./node_modules/core-js/internals/create-non-enumerable-property.js"),p=l("./node_modules/core-js/internals/define-built-ins.js"),v=l("./node_modules/core-js/internals/well-known-symbol.js"),y=l("./node_modules/core-js/internals/internal-state.js"),x=l("./node_modules/core-js/internals/get-method.js"),w=l("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,E=l("./node_modules/core-js/internals/create-iter-result-object.js"),T=l("./node_modules/core-js/internals/iterator-close.js"),C=l("./node_modules/core-js/internals/iterator-close-all.js"),j=v("toStringTag"),P="IteratorHelper",U="WrapForValidIterator",W="normal",q="throw",re=y.set,ie=function(Ee){var ge=y.getterFor(Ee?U:P);return p(f(w),{next:function(){var xe=ge(this);if(Ee)return xe.nextHandler();if(xe.done)return E(void 0,!0);try{var ce=xe.nextHandler();return xe.returnHandlerResult?ce:E(ce,xe.done)}catch(Me){throw xe.done=!0,Me}},return:function(){var se=ge(this),xe=se.iterator;if(se.done=!0,Ee){var ce=x(xe,"return");return ce?d(ce,xe):E(void 0,!0)}if(se.inner)try{T(se.inner.iterator,W)}catch(Me){return T(xe,q,Me)}if(se.openIters)try{C(se.openIters,W)}catch(Me){return T(xe,q,Me)}return xe&&T(xe,W),E(void 0,!0)}})},Ae=ie(!0),be=ie(!1);A(be,j,"Iterator Helper"),c.exports=function(Ee,ge,se){var xe=function(Me,Oe){Oe?(Oe.iterator=Me.iterator,Oe.next=Me.next):Oe=Me,Oe.type=ge?U:P,Oe.returnHandlerResult=!!se,Oe.nextHandler=Ee,Oe.counter=0,Oe.done=!1,re(this,Oe)};return xe.prototype=ge?Ae:be,xe}}),"./node_modules/core-js/internals/iterator-define.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/function-call.js"),A=l("./node_modules/core-js/internals/is-pure.js"),p=l("./node_modules/core-js/internals/function-name.js"),v=l("./node_modules/core-js/internals/is-callable.js"),y=l("./node_modules/core-js/internals/iterator-create-constructor.js"),x=l("./node_modules/core-js/internals/object-get-prototype-of.js"),w=l("./node_modules/core-js/internals/object-set-prototype-of.js"),E=l("./node_modules/core-js/internals/set-to-string-tag.js"),T=l("./node_modules/core-js/internals/create-non-enumerable-property.js"),C=l("./node_modules/core-js/internals/define-built-in.js"),j=l("./node_modules/core-js/internals/well-known-symbol.js"),P=l("./node_modules/core-js/internals/iterators.js"),U=l("./node_modules/core-js/internals/iterators-core.js"),W=p.PROPER,q=p.CONFIGURABLE,re=U.IteratorPrototype,ie=U.BUGGY_SAFARI_ITERATORS,Ae=j("iterator"),be="keys",Ee="values",ge="entries",se=function(){return this};c.exports=function(xe,ce,Me,Oe,we,ue,ye){y(Me,ce,Oe);var Le=function(Ge){if(Ge===we&&Pe)return Pe;if(!ie&&Ge&&Ge in At)return At[Ge];switch(Ge){case be:return function(){return new Me(this,Ge)};case Ee:return function(){return new Me(this,Ge)};case ge:return function(){return new Me(this,Ge)}}return function(){return new Me(this)}},He=ce+" Iterator",Fe=!1,At=xe.prototype,pt=At[Ae]||At["@@iterator"]||we&&At[we],Pe=!ie&&pt||Le(we),st=ce==="Array"&&At.entries||pt,et,We,gt;if(st&&(et=x(st.call(new xe)),et!==Object.prototype&&et.next&&(!A&&x(et)!==re&&(w?w(et,re):v(et[Ae])||C(et,Ae,se)),E(et,He,!0,!0),A&&(P[He]=se))),W&&we===Ee&&pt&&pt.name!==Ee&&(!A&&q?T(At,"name",Ee):(Fe=!0,Pe=function(){return f(pt,this)})),we)if(We={values:Le(Ee),keys:ue?Pe:Le(be),entries:Le(ge)},ye)for(gt in We)(ie||Fe||!(gt in At))&&C(At,gt,We[gt]);else d({target:ce,proto:!0,forced:ie||Fe},We);return(!A||ye)&&At[Ae]!==Pe&&C(At,Ae,Pe,{name:we}),P[ce]=Pe,We}}),"./node_modules/core-js/internals/iterator-helper-throws-on-invalid-iterator.js":(function(c){c.exports=function(u,l){var d=typeof Iterator=="function"&&Iterator.prototype[u];if(d)try{d.call({next:null},l).next()}catch{return!0}}}),"./node_modules/core-js/internals/iterator-helper-without-closing-on-early-error.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/global-this.js");c.exports=function(f,A){var p=d.Iterator,v=p&&p.prototype,y=v&&v[f],x=!1;if(y)try{y.call({next:function(){return{done:!0}},return:function(){x=!0}},-1)}catch(w){w instanceof A||(x=!1)}if(!x)return y}}),"./node_modules/core-js/internals/iterators-core.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/fails.js"),f=l("./node_modules/core-js/internals/is-callable.js"),A=l("./node_modules/core-js/internals/is-object.js"),p=l("./node_modules/core-js/internals/object-create.js"),v=l("./node_modules/core-js/internals/object-get-prototype-of.js"),y=l("./node_modules/core-js/internals/define-built-in.js"),x=l("./node_modules/core-js/internals/well-known-symbol.js"),w=l("./node_modules/core-js/internals/is-pure.js"),E=x("iterator"),T=!1,C,j,P;[].keys&&(P=[].keys(),"next"in P?(j=v(v(P)),j!==Object.prototype&&(C=j)):T=!0);var U=!A(C)||d(function(){var W={};return C[E].call(W)!==W});U?C={}:w&&(C=p(C)),f(C[E])||y(C,E,function(){return this}),c.exports={IteratorPrototype:C,BUGGY_SAFARI_ITERATORS:T}}),"./node_modules/core-js/internals/iterators.js":(function(c){c.exports={}}),"./node_modules/core-js/internals/length-of-array-like.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/to-length.js");c.exports=function(f){return d(f.length)}}),"./node_modules/core-js/internals/make-built-in.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-uncurry-this.js"),f=l("./node_modules/core-js/internals/fails.js"),A=l("./node_modules/core-js/internals/is-callable.js"),p=l("./node_modules/core-js/internals/has-own-property.js"),v=l("./node_modules/core-js/internals/descriptors.js"),y=l("./node_modules/core-js/internals/function-name.js").CONFIGURABLE,x=l("./node_modules/core-js/internals/inspect-source.js"),w=l("./node_modules/core-js/internals/internal-state.js"),E=w.enforce,T=w.get,C=String,j=Object.defineProperty,P=d("".slice),U=d("".replace),W=d([].join),q=v&&!f(function(){return j(function(){},"length",{value:8}).length!==8}),re=String(String).split("String"),ie=c.exports=function(Ae,be,Ee){P(C(be),0,7)==="Symbol("&&(be="["+U(C(be),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),Ee&&Ee.getter&&(be="get "+be),Ee&&Ee.setter&&(be="set "+be),(!p(Ae,"name")||y&&Ae.name!==be)&&(v?j(Ae,"name",{value:be,configurable:!0}):Ae.name=be),q&&Ee&&p(Ee,"arity")&&Ae.length!==Ee.arity&&j(Ae,"length",{value:Ee.arity});try{Ee&&p(Ee,"constructor")&&Ee.constructor?v&&j(Ae,"prototype",{writable:!1}):Ae.prototype&&(Ae.prototype=void 0)}catch{}var ge=E(Ae);return p(ge,"source")||(ge.source=W(re,typeof be=="string"?be:"")),Ae};Function.prototype.toString=ie(function(){return A(this)&&T(this).source||x(this)},"toString")}),"./node_modules/core-js/internals/math-trunc.js":(function(c){var u=Math.ceil,l=Math.floor;c.exports=Math.trunc||function(f){var A=+f;return(A>0?l:u)(A)}}),"./node_modules/core-js/internals/microtask.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/global-this.js"),f=l("./node_modules/core-js/internals/safe-get-built-in.js"),A=l("./node_modules/core-js/internals/function-bind-context.js"),p=l("./node_modules/core-js/internals/task.js").set,v=l("./node_modules/core-js/internals/queue.js"),y=l("./node_modules/core-js/internals/environment-is-ios.js"),x=l("./node_modules/core-js/internals/environment-is-ios-pebble.js"),w=l("./node_modules/core-js/internals/environment-is-webos-webkit.js"),E=l("./node_modules/core-js/internals/environment-is-node.js"),T=d.MutationObserver||d.WebKitMutationObserver,C=d.document,j=d.process,P=d.Promise,U=f("queueMicrotask"),W,q,re,ie,Ae;if(!U){var be=new v,Ee=function(){var ge,se;for(E&&(ge=j.domain)&&ge.exit();se=be.get();)try{se()}catch(xe){throw be.head&&W(),xe}ge&&ge.enter()};!y&&!E&&!w&&T&&C?(q=!0,re=C.createTextNode(""),new T(Ee).observe(re,{characterData:!0}),W=function(){re.data=q=!q}):!x&&P&&P.resolve?(ie=P.resolve(void 0),ie.constructor=P,Ae=A(ie.then,ie),W=function(){Ae(Ee)}):E?W=function(){j.nextTick(Ee)}:(p=A(p,d),W=function(){p(Ee)}),U=function(ge){be.head||W(),be.add(ge)}}c.exports=U}),"./node_modules/core-js/internals/native-raw-json.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/fails.js");c.exports=!d(function(){var f="9007199254740993",A=JSON.rawJSON(f);return!JSON.isRawJSON(A)||JSON.stringify(A)!==f})}),"./node_modules/core-js/internals/new-promise-capability.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/a-callable.js"),f=TypeError,A=function(p){var v,y;this.promise=new p(function(x,w){if(v!==void 0||y!==void 0)throw new f("Bad Promise constructor");v=x,y=w}),this.resolve=d(v),this.reject=d(y)};c.exports.f=function(p){return new A(p)}}),"./node_modules/core-js/internals/not-a-regexp.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/is-regexp.js"),f=TypeError;c.exports=function(A){if(d(A))throw new f("The method doesn't accept regular expressions");return A}}),"./node_modules/core-js/internals/object-assign.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/descriptors.js"),f=l("./node_modules/core-js/internals/function-uncurry-this.js"),A=l("./node_modules/core-js/internals/function-call.js"),p=l("./node_modules/core-js/internals/fails.js"),v=l("./node_modules/core-js/internals/object-keys.js"),y=l("./node_modules/core-js/internals/object-get-own-property-symbols.js"),x=l("./node_modules/core-js/internals/object-property-is-enumerable.js"),w=l("./node_modules/core-js/internals/to-object.js"),E=l("./node_modules/core-js/internals/indexed-object.js"),T=Object.assign,C=Object.defineProperty,j=f([].concat);c.exports=!T||p(function(){if(d&&T({b:1},T(C({},"a",{enumerable:!0,get:function(){C(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var P={},U={},W=Symbol("assign detection"),q="abcdefghijklmnopqrst";return P[W]=7,q.split("").forEach(function(re){U[re]=re}),T({},P)[W]!==7||v(T({},U)).join("")!==q})?function(U,W){for(var q=w(U),re=arguments.length,ie=1,Ae=y.f,be=x.f;re>ie;)for(var Ee=E(arguments[ie++]),ge=Ae?j(v(Ee),Ae(Ee)):v(Ee),se=ge.length,xe=0,ce;se>xe;)ce=ge[xe++],(!d||A(be,Ee,ce))&&(q[ce]=Ee[ce]);return q}:T}),"./node_modules/core-js/internals/object-create.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/an-object.js"),f=l("./node_modules/core-js/internals/object-define-properties.js"),A=l("./node_modules/core-js/internals/enum-bug-keys.js"),p=l("./node_modules/core-js/internals/hidden-keys.js"),v=l("./node_modules/core-js/internals/html.js"),y=l("./node_modules/core-js/internals/document-create-element.js"),x=l("./node_modules/core-js/internals/shared-key.js"),w=">",E="<",T="prototype",C="script",j=x("IE_PROTO"),P=function(){},U=function(Ae){return E+C+w+Ae+E+"/"+C+w},W=function(Ae){Ae.write(U("")),Ae.close();var be=Ae.parentWindow.Object;return Ae=null,be},q=function(){var Ae=y("iframe"),be="java"+C+":",Ee;return Ae.style.display="none",v.appendChild(Ae),Ae.src=String(be),Ee=Ae.contentWindow.document,Ee.open(),Ee.write(U("document.F=Object")),Ee.close(),Ee.F},re,ie=function(){try{re=new ActiveXObject("htmlfile")}catch{}ie=typeof document<"u"?document.domain&&re?W(re):q():W(re);for(var Ae=A.length;Ae--;)delete ie[T][A[Ae]];return ie()};p[j]=!0,c.exports=Object.create||function(be,Ee){var ge;return be!==null?(P[T]=d(be),ge=new P,P[T]=null,ge[j]=be):ge=ie(),Ee===void 0?ge:f.f(ge,Ee)}}),"./node_modules/core-js/internals/object-define-properties.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/descriptors.js"),f=l("./node_modules/core-js/internals/v8-prototype-define-bug.js"),A=l("./node_modules/core-js/internals/object-define-property.js"),p=l("./node_modules/core-js/internals/an-object.js"),v=l("./node_modules/core-js/internals/to-indexed-object.js"),y=l("./node_modules/core-js/internals/object-keys.js");u.f=d&&!f?Object.defineProperties:function(w,E){p(w);for(var T=v(E),C=y(E),j=C.length,P=0,U;j>P;)A.f(w,U=C[P++],T[U]);return w}}),"./node_modules/core-js/internals/object-define-property.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/descriptors.js"),f=l("./node_modules/core-js/internals/ie8-dom-define.js"),A=l("./node_modules/core-js/internals/v8-prototype-define-bug.js"),p=l("./node_modules/core-js/internals/an-object.js"),v=l("./node_modules/core-js/internals/to-property-key.js"),y=TypeError,x=Object.defineProperty,w=Object.getOwnPropertyDescriptor,E="enumerable",T="configurable",C="writable";u.f=d?A?function(P,U,W){if(p(P),U=v(U),p(W),typeof P=="function"&&U==="prototype"&&"value"in W&&C in W&&!W[C]){var q=w(P,U);q&&q[C]&&(P[U]=W.value,W={configurable:T in W?W[T]:q[T],enumerable:E in W?W[E]:q[E],writable:!1})}return x(P,U,W)}:x:function(P,U,W){if(p(P),U=v(U),p(W),f)try{return x(P,U,W)}catch{}if("get"in W||"set"in W)throw new y("Accessors not supported");return"value"in W&&(P[U]=W.value),P}}),"./node_modules/core-js/internals/object-get-own-property-descriptor.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/descriptors.js"),f=l("./node_modules/core-js/internals/function-call.js"),A=l("./node_modules/core-js/internals/object-property-is-enumerable.js"),p=l("./node_modules/core-js/internals/create-property-descriptor.js"),v=l("./node_modules/core-js/internals/to-indexed-object.js"),y=l("./node_modules/core-js/internals/to-property-key.js"),x=l("./node_modules/core-js/internals/has-own-property.js"),w=l("./node_modules/core-js/internals/ie8-dom-define.js"),E=Object.getOwnPropertyDescriptor;u.f=d?E:function(C,j){if(C=v(C),j=y(j),w)try{return E(C,j)}catch{}if(x(C,j))return p(!f(A.f,C,j),C[j])}}),"./node_modules/core-js/internals/object-get-own-property-names-external.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/classof-raw.js"),f=l("./node_modules/core-js/internals/to-indexed-object.js"),A=l("./node_modules/core-js/internals/object-get-own-property-names.js").f,p=l("./node_modules/core-js/internals/array-slice.js"),v=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],y=function(x){try{return A(x)}catch{return p(v)}};c.exports.f=function(w){return v&&d(w)==="Window"?y(w):A(f(w))}}),"./node_modules/core-js/internals/object-get-own-property-names.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/object-keys-internal.js"),f=l("./node_modules/core-js/internals/enum-bug-keys.js"),A=f.concat("length","prototype");u.f=Object.getOwnPropertyNames||function(v){return d(v,A)}}),"./node_modules/core-js/internals/object-get-own-property-symbols.js":(function(c,u){u.f=Object.getOwnPropertySymbols}),"./node_modules/core-js/internals/object-get-prototype-of.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/has-own-property.js"),f=l("./node_modules/core-js/internals/is-callable.js"),A=l("./node_modules/core-js/internals/to-object.js"),p=l("./node_modules/core-js/internals/shared-key.js"),v=l("./node_modules/core-js/internals/correct-prototype-getter.js"),y=p("IE_PROTO"),x=Object,w=x.prototype;c.exports=v?x.getPrototypeOf:function(E){var T=A(E);if(d(T,y))return T[y];var C=T.constructor;return f(C)&&T instanceof C?C.prototype:T instanceof x?w:null}}),"./node_modules/core-js/internals/object-is-extensible.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/fails.js"),f=l("./node_modules/core-js/internals/is-object.js"),A=l("./node_modules/core-js/internals/classof-raw.js"),p=l("./node_modules/core-js/internals/array-buffer-non-extensible.js"),v=Object.isExtensible,y=d(function(){});c.exports=y||p?function(w){return!f(w)||p&&A(w)==="ArrayBuffer"?!1:v?v(w):!0}:v}),"./node_modules/core-js/internals/object-is-prototype-of.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-uncurry-this.js");c.exports=d({}.isPrototypeOf)}),"./node_modules/core-js/internals/object-keys-internal.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-uncurry-this.js"),f=l("./node_modules/core-js/internals/has-own-property.js"),A=l("./node_modules/core-js/internals/to-indexed-object.js"),p=l("./node_modules/core-js/internals/array-includes.js").indexOf,v=l("./node_modules/core-js/internals/hidden-keys.js"),y=d([].push);c.exports=function(x,w){var E=A(x),T=0,C=[],j;for(j in E)!f(v,j)&&f(E,j)&&y(C,j);for(;w.length>T;)f(E,j=w[T++])&&(~p(C,j)||y(C,j));return C}}),"./node_modules/core-js/internals/object-keys.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/object-keys-internal.js"),f=l("./node_modules/core-js/internals/enum-bug-keys.js");c.exports=Object.keys||function(p){return d(p,f)}}),"./node_modules/core-js/internals/object-property-is-enumerable.js":(function(c,u){var l={}.propertyIsEnumerable,d=Object.getOwnPropertyDescriptor,f=d&&!l.call({1:2},1);u.f=f?function(p){var v=d(this,p);return!!v&&v.enumerable}:l}),"./node_modules/core-js/internals/object-set-prototype-of.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-uncurry-this-accessor.js"),f=l("./node_modules/core-js/internals/is-object.js"),A=l("./node_modules/core-js/internals/require-object-coercible.js"),p=l("./node_modules/core-js/internals/a-possible-prototype.js");c.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var v=!1,y={},x;try{x=d(Object.prototype,"__proto__","set"),x(y,[]),v=y instanceof Array}catch{}return function(E,T){return A(E),p(T),f(E)&&(v?x(E,T):E.__proto__=T),E}})():void 0)}),"./node_modules/core-js/internals/object-to-string.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/to-string-tag-support.js"),f=l("./node_modules/core-js/internals/classof.js");c.exports=d?{}.toString:function(){return"[object "+f(this)+"]"}}),"./node_modules/core-js/internals/ordinary-to-primitive.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-call.js"),f=l("./node_modules/core-js/internals/is-callable.js"),A=l("./node_modules/core-js/internals/is-object.js"),p=TypeError;c.exports=function(v,y){var x,w;if(y==="string"&&f(x=v.toString)&&!A(w=d(x,v))||f(x=v.valueOf)&&!A(w=d(x,v))||y!=="string"&&f(x=v.toString)&&!A(w=d(x,v)))return w;throw new p("Can't convert object to primitive value")}}),"./node_modules/core-js/internals/own-keys.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/get-built-in.js"),f=l("./node_modules/core-js/internals/function-uncurry-this.js"),A=l("./node_modules/core-js/internals/object-get-own-property-names.js"),p=l("./node_modules/core-js/internals/object-get-own-property-symbols.js"),v=l("./node_modules/core-js/internals/an-object.js"),y=f([].concat);c.exports=d("Reflect","ownKeys")||function(w){var E=A.f(v(w)),T=p.f;return T?y(E,T(w)):E}}),"./node_modules/core-js/internals/parse-json-string.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-uncurry-this.js"),f=l("./node_modules/core-js/internals/has-own-property.js"),A=SyntaxError,p=parseInt,v=String.fromCharCode,y=d("".charAt),x=d("".slice),w=d(/./.exec),E={'\\"':'"',"\\\\":"\\","\\/":"/","\\b":"\b","\\f":"\f","\\n":`
`,"\\r":"\r","\\t":"	"},T=/^[\da-f]{4}$/i,C=/^[\u0000-\u001F]$/;c.exports=function(j,P){for(var U=!0,W="";P<j.length;){var q=y(j,P);if(q==="\\"){var re=x(j,P,P+2);if(f(E,re))W+=E[re],P+=2;else if(re==="\\u"){P+=2;var ie=x(j,P,P+4);if(!w(T,ie))throw new A("Bad Unicode escape at: "+P);W+=v(p(ie,16)),P+=4}else throw new A('Unknown escape sequence: "'+re+'"')}else if(q==='"'){U=!1,P++;break}else{if(w(C,q))throw new A("Bad control character in string literal at: "+P);W+=q,P++}}if(U)throw new A("Unterminated string at: "+P);return{value:W,end:P}}}),"./node_modules/core-js/internals/path.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/global-this.js");c.exports=d}),"./node_modules/core-js/internals/perform.js":(function(c){c.exports=function(u){try{return{error:!1,value:u()}}catch(l){return{error:!0,value:l}}}}),"./node_modules/core-js/internals/promise-constructor-detection.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/global-this.js"),f=l("./node_modules/core-js/internals/promise-native-constructor.js"),A=l("./node_modules/core-js/internals/is-callable.js"),p=l("./node_modules/core-js/internals/is-forced.js"),v=l("./node_modules/core-js/internals/inspect-source.js"),y=l("./node_modules/core-js/internals/well-known-symbol.js"),x=l("./node_modules/core-js/internals/environment.js"),w=l("./node_modules/core-js/internals/is-pure.js"),E=l("./node_modules/core-js/internals/environment-v8-version.js"),T=f&&f.prototype,C=y("species"),j=!1,P=A(d.PromiseRejectionEvent),U=p("Promise",function(){var W=v(f),q=W!==String(f);if(!q&&E===66||w&&!(T.catch&&T.finally))return!0;if(!E||E<51||!/native code/.test(W)){var re=new f(function(be){be(1)}),ie=function(be){be(function(){},function(){})},Ae=re.constructor={};if(Ae[C]=ie,j=re.then(function(){})instanceof ie,!j)return!0}return!q&&(x==="BROWSER"||x==="DENO")&&!P});c.exports={CONSTRUCTOR:U,REJECTION_EVENT:P,SUBCLASSING:j}}),"./node_modules/core-js/internals/promise-native-constructor.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/global-this.js");c.exports=d.Promise}),"./node_modules/core-js/internals/promise-resolve.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/an-object.js"),f=l("./node_modules/core-js/internals/is-object.js"),A=l("./node_modules/core-js/internals/new-promise-capability.js");c.exports=function(p,v){if(d(p),f(v)&&v.constructor===p)return v;var y=A.f(p),x=y.resolve;return x(v),y.promise}}),"./node_modules/core-js/internals/promise-statics-incorrect-iteration.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/promise-native-constructor.js"),f=l("./node_modules/core-js/internals/check-correctness-of-iteration.js"),A=l("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR;c.exports=A||!f(function(p){d.all(p).then(void 0,function(){})})}),"./node_modules/core-js/internals/queue.js":(function(c){var u=function(){this.head=null,this.tail=null};u.prototype={add:function(l){var d={item:l,next:null},f=this.tail;f?f.next=d:this.head=d,this.tail=d},get:function(){var l=this.head;if(l){var d=this.head=l.next;return d===null&&(this.tail=null),l.item}}},c.exports=u}),"./node_modules/core-js/internals/regexp-exec-abstract.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-call.js"),f=l("./node_modules/core-js/internals/an-object.js"),A=l("./node_modules/core-js/internals/is-callable.js"),p=l("./node_modules/core-js/internals/classof-raw.js"),v=l("./node_modules/core-js/internals/regexp-exec.js"),y=TypeError;c.exports=function(x,w){var E=x.exec;if(A(E)){var T=d(E,x,w);return T!==null&&f(T),T}if(p(x)==="RegExp")return d(v,x,w);throw new y("RegExp#exec called on incompatible receiver")}}),"./node_modules/core-js/internals/regexp-exec.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-call.js"),f=l("./node_modules/core-js/internals/function-uncurry-this.js"),A=l("./node_modules/core-js/internals/to-string.js"),p=l("./node_modules/core-js/internals/regexp-flags.js"),v=l("./node_modules/core-js/internals/regexp-sticky-helpers.js"),y=l("./node_modules/core-js/internals/shared.js"),x=l("./node_modules/core-js/internals/object-create.js"),w=l("./node_modules/core-js/internals/internal-state.js").get,E=l("./node_modules/core-js/internals/regexp-unsupported-dot-all.js"),T=l("./node_modules/core-js/internals/regexp-unsupported-ncg.js"),C=y("native-string-replace",String.prototype.replace),j=RegExp.prototype.exec,P=j,U=f("".charAt),W=f("".indexOf),q=f("".replace),re=f("".slice),ie=(function(){var ge=/a/,se=/b*/g;return d(j,ge,"a"),d(j,se,"a"),ge.lastIndex!==0||se.lastIndex!==0})(),Ae=v.BROKEN_CARET,be=/()??/.exec("")[1]!==void 0,Ee=ie||be||Ae||E||T;Ee&&(P=function(se){var xe=this,ce=w(xe),Me=A(se),Oe=ce.raw,we,ue,ye,Le,He,Fe,At;if(Oe)return Oe.lastIndex=xe.lastIndex,we=d(P,Oe,Me),xe.lastIndex=Oe.lastIndex,we;var pt=ce.groups,Pe=Ae&&xe.sticky,st=d(p,xe),et=xe.source,We=0,gt=Me;if(Pe&&(st=q(st,"y",""),W(st,"g")===-1&&(st+="g"),gt=re(Me,xe.lastIndex),xe.lastIndex>0&&(!xe.multiline||xe.multiline&&U(Me,xe.lastIndex-1)!==`
`)&&(et="(?: "+et+")",gt=" "+gt,We++),ue=new RegExp("^(?:"+et+")",st)),be&&(ue=new RegExp("^"+et+"$(?!\\s)",st)),ie&&(ye=xe.lastIndex),Le=d(j,Pe?ue:xe,gt),Pe?Le?(Le.input=re(Le.input,We),Le[0]=re(Le[0],We),Le.index=xe.lastIndex,xe.lastIndex+=Le[0].length):xe.lastIndex=0:ie&&Le&&(xe.lastIndex=xe.global?Le.index+Le[0].length:ye),be&&Le&&Le.length>1&&d(C,Le[0],ue,function(){for(He=1;He<arguments.length-2;He++)arguments[He]===void 0&&(Le[He]=void 0)}),Le&&pt)for(Le.groups=Fe=x(null),He=0;He<pt.length;He++)At=pt[He],Fe[At[0]]=Le[At[1]];return Le}),c.exports=P}),"./node_modules/core-js/internals/regexp-flags-detection.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/global-this.js"),f=l("./node_modules/core-js/internals/fails.js"),A=d.RegExp,p=!f(function(){var v=!0;try{A(".","d")}catch{v=!1}var y={},x="",w=v?"dgimsy":"gimsy",E=function(P,U){Object.defineProperty(y,P,{get:function(){return x+=U,!0}})},T={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};v&&(T.hasIndices="d");for(var C in T)E(C,T[C]);var j=Object.getOwnPropertyDescriptor(A.prototype,"flags").get.call(y);return j!==w||x!==w});c.exports={correct:p}}),"./node_modules/core-js/internals/regexp-flags.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/an-object.js");c.exports=function(){var f=d(this),A="";return f.hasIndices&&(A+="d"),f.global&&(A+="g"),f.ignoreCase&&(A+="i"),f.multiline&&(A+="m"),f.dotAll&&(A+="s"),f.unicode&&(A+="u"),f.unicodeSets&&(A+="v"),f.sticky&&(A+="y"),A}}),"./node_modules/core-js/internals/regexp-get-flags.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-call.js"),f=l("./node_modules/core-js/internals/has-own-property.js"),A=l("./node_modules/core-js/internals/object-is-prototype-of.js"),p=l("./node_modules/core-js/internals/regexp-flags-detection.js"),v=l("./node_modules/core-js/internals/regexp-flags.js"),y=RegExp.prototype;c.exports=p.correct?function(x){return x.flags}:function(x){return!p.correct&&A(y,x)&&!f(x,"flags")?d(v,x):x.flags}}),"./node_modules/core-js/internals/regexp-sticky-helpers.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/fails.js"),f=l("./node_modules/core-js/internals/global-this.js"),A=f.RegExp,p=d(function(){var x=A("a","y");return x.lastIndex=2,x.exec("abcd")!==null}),v=p||d(function(){return!A("a","y").sticky}),y=p||d(function(){var x=A("^r","gy");return x.lastIndex=2,x.exec("str")!==null});c.exports={BROKEN_CARET:y,MISSED_STICKY:v,UNSUPPORTED_Y:p}}),"./node_modules/core-js/internals/regexp-unsupported-dot-all.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/fails.js"),f=l("./node_modules/core-js/internals/global-this.js"),A=f.RegExp;c.exports=d(function(){var p=A(".","s");return!(p.dotAll&&p.test(`
`)&&p.flags==="s")})}),"./node_modules/core-js/internals/regexp-unsupported-ncg.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/fails.js"),f=l("./node_modules/core-js/internals/global-this.js"),A=f.RegExp;c.exports=d(function(){var p=A("(?<a>b)","g");return p.exec("b").groups.a!=="b"||"b".replace(p,"$<a>c")!=="bc"})}),"./node_modules/core-js/internals/require-object-coercible.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/is-null-or-undefined.js"),f=TypeError;c.exports=function(A){if(d(A))throw new f("Can't call method on "+A);return A}}),"./node_modules/core-js/internals/safe-get-built-in.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/global-this.js"),f=l("./node_modules/core-js/internals/descriptors.js"),A=Object.getOwnPropertyDescriptor;c.exports=function(p){if(!f)return d[p];var v=A(d,p);return v&&v.value}}),"./node_modules/core-js/internals/schedulers-fix.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/global-this.js"),f=l("./node_modules/core-js/internals/function-apply.js"),A=l("./node_modules/core-js/internals/is-callable.js"),p=l("./node_modules/core-js/internals/environment.js"),v=l("./node_modules/core-js/internals/environment-user-agent.js"),y=l("./node_modules/core-js/internals/array-slice.js"),x=l("./node_modules/core-js/internals/validate-arguments-length.js"),w=d.Function,E=/MSIE .\./.test(v)||p==="BUN"&&(function(){var T=d.Bun.version.split(".");return T.length<3||T[0]==="0"&&(T[1]<3||T[1]==="3"&&T[2]==="0")})();c.exports=function(T,C){var j=C?2:1;return E?function(P,U){var W=x(arguments.length,1)>j,q=A(P)?P:w(P),re=W?y(arguments,j):[],ie=W?function(){f(q,this,re)}:q;return C?T(ie,U):T(ie)}:T}}),"./node_modules/core-js/internals/set-clone.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/set-helpers.js"),f=l("./node_modules/core-js/internals/set-iterate.js"),A=d.Set,p=d.add;c.exports=function(v){var y=new A;return f(v,function(x){p(y,x)}),y}}),"./node_modules/core-js/internals/set-difference.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/a-set.js"),f=l("./node_modules/core-js/internals/set-helpers.js"),A=l("./node_modules/core-js/internals/set-clone.js"),p=l("./node_modules/core-js/internals/set-size.js"),v=l("./node_modules/core-js/internals/get-set-record.js"),y=l("./node_modules/core-js/internals/set-iterate.js"),x=l("./node_modules/core-js/internals/iterate-simple.js"),w=f.has,E=f.remove;c.exports=function(C){var j=d(this),P=v(C),U=A(j);return p(j)<=P.size?y(j,function(W){P.includes(W)&&E(U,W)}):x(P.getIterator(),function(W){w(U,W)&&E(U,W)}),U}}),"./node_modules/core-js/internals/set-helpers.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-uncurry-this.js"),f=Set.prototype;c.exports={Set,add:d(f.add),has:d(f.has),remove:d(f.delete),proto:f}}),"./node_modules/core-js/internals/set-intersection.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/a-set.js"),f=l("./node_modules/core-js/internals/set-helpers.js"),A=l("./node_modules/core-js/internals/set-size.js"),p=l("./node_modules/core-js/internals/get-set-record.js"),v=l("./node_modules/core-js/internals/set-iterate.js"),y=l("./node_modules/core-js/internals/iterate-simple.js"),x=f.Set,w=f.add,E=f.has;c.exports=function(C){var j=d(this),P=p(C),U=new x;return A(j)>P.size?y(P.getIterator(),function(W){E(j,W)&&w(U,W)}):v(j,function(W){P.includes(W)&&w(U,W)}),U}}),"./node_modules/core-js/internals/set-is-disjoint-from.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/a-set.js"),f=l("./node_modules/core-js/internals/set-helpers.js").has,A=l("./node_modules/core-js/internals/set-size.js"),p=l("./node_modules/core-js/internals/get-set-record.js"),v=l("./node_modules/core-js/internals/set-iterate.js"),y=l("./node_modules/core-js/internals/iterate-simple.js"),x=l("./node_modules/core-js/internals/iterator-close.js");c.exports=function(E){var T=d(this),C=p(E);if(A(T)<=C.size)return v(T,function(P){if(C.includes(P))return!1},!0)!==!1;var j=C.getIterator();return y(j,function(P){if(f(T,P))return x(j,"normal",!1)})!==!1}}),"./node_modules/core-js/internals/set-is-subset-of.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/a-set.js"),f=l("./node_modules/core-js/internals/set-size.js"),A=l("./node_modules/core-js/internals/set-iterate.js"),p=l("./node_modules/core-js/internals/get-set-record.js");c.exports=function(y){var x=d(this),w=p(y);return f(x)>w.size?!1:A(x,function(E){if(!w.includes(E))return!1},!0)!==!1}}),"./node_modules/core-js/internals/set-is-superset-of.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/a-set.js"),f=l("./node_modules/core-js/internals/set-helpers.js").has,A=l("./node_modules/core-js/internals/set-size.js"),p=l("./node_modules/core-js/internals/get-set-record.js"),v=l("./node_modules/core-js/internals/iterate-simple.js"),y=l("./node_modules/core-js/internals/iterator-close.js");c.exports=function(w){var E=d(this),T=p(w);if(A(E)<T.size)return!1;var C=T.getIterator();return v(C,function(j){if(!f(E,j))return y(C,"normal",!1)})!==!1}}),"./node_modules/core-js/internals/set-iterate.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-uncurry-this.js"),f=l("./node_modules/core-js/internals/iterate-simple.js"),A=l("./node_modules/core-js/internals/set-helpers.js"),p=A.Set,v=A.proto,y=d(v.forEach),x=d(v.keys),w=x(new p).next;c.exports=function(E,T,C){return C?f({iterator:x(E),next:w},T):y(E,T)}}),"./node_modules/core-js/internals/set-size.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-uncurry-this-accessor.js"),f=l("./node_modules/core-js/internals/set-helpers.js");c.exports=d(f.proto,"size","get")||function(A){return A.size}}),"./node_modules/core-js/internals/set-species.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/get-built-in.js"),f=l("./node_modules/core-js/internals/define-built-in-accessor.js"),A=l("./node_modules/core-js/internals/well-known-symbol.js"),p=l("./node_modules/core-js/internals/descriptors.js"),v=A("species");c.exports=function(y){var x=d(y);p&&x&&!x[v]&&f(x,v,{configurable:!0,get:function(){return this}})}}),"./node_modules/core-js/internals/set-symmetric-difference.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/a-set.js"),f=l("./node_modules/core-js/internals/set-helpers.js"),A=l("./node_modules/core-js/internals/set-clone.js"),p=l("./node_modules/core-js/internals/get-set-record.js"),v=l("./node_modules/core-js/internals/iterate-simple.js"),y=f.add,x=f.has,w=f.remove;c.exports=function(T){var C=d(this),j=p(T).getIterator(),P=A(C);return v(j,function(U){x(C,U)?w(P,U):y(P,U)}),P}}),"./node_modules/core-js/internals/set-to-string-tag.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/object-define-property.js").f,f=l("./node_modules/core-js/internals/has-own-property.js"),A=l("./node_modules/core-js/internals/well-known-symbol.js"),p=A("toStringTag");c.exports=function(v,y,x){v&&!x&&(v=v.prototype),v&&!f(v,p)&&d(v,p,{configurable:!0,value:y})}}),"./node_modules/core-js/internals/set-union.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/a-set.js"),f=l("./node_modules/core-js/internals/set-helpers.js").add,A=l("./node_modules/core-js/internals/set-clone.js"),p=l("./node_modules/core-js/internals/get-set-record.js"),v=l("./node_modules/core-js/internals/iterate-simple.js");c.exports=function(x){var w=d(this),E=p(x).getIterator(),T=A(w);return v(E,function(C){f(T,C)}),T}}),"./node_modules/core-js/internals/shared-key.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/shared.js"),f=l("./node_modules/core-js/internals/uid.js"),A=d("keys");c.exports=function(p){return A[p]||(A[p]=f(p))}}),"./node_modules/core-js/internals/shared-store.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/is-pure.js"),f=l("./node_modules/core-js/internals/global-this.js"),A=l("./node_modules/core-js/internals/define-global-property.js"),p="__core-js_shared__",v=c.exports=f[p]||A(p,{});(v.versions||(v.versions=[])).push({version:"3.47.0",mode:d?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru), 2025 CoreJS Company (core-js.io)",license:"https://github.com/zloirock/core-js/blob/v3.47.0/LICENSE",source:"https://github.com/zloirock/core-js"})}),"./node_modules/core-js/internals/shared.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/shared-store.js");c.exports=function(f,A){return d[f]||(d[f]=A||{})}}),"./node_modules/core-js/internals/species-constructor.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/an-object.js"),f=l("./node_modules/core-js/internals/a-constructor.js"),A=l("./node_modules/core-js/internals/is-null-or-undefined.js"),p=l("./node_modules/core-js/internals/well-known-symbol.js"),v=p("species");c.exports=function(y,x){var w=d(y).constructor,E;return w===void 0||A(E=d(w)[v])?x:f(E)}}),"./node_modules/core-js/internals/string-html-forced.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/fails.js");c.exports=function(f){return d(function(){var A=""[f]('"');return A!==A.toLowerCase()||A.split('"').length>3})}}),"./node_modules/core-js/internals/string-multibyte.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-uncurry-this.js"),f=l("./node_modules/core-js/internals/to-integer-or-infinity.js"),A=l("./node_modules/core-js/internals/to-string.js"),p=l("./node_modules/core-js/internals/require-object-coercible.js"),v=d("".charAt),y=d("".charCodeAt),x=d("".slice),w=function(E){return function(T,C){var j=A(p(T)),P=f(C),U=j.length,W,q;return P<0||P>=U?E?"":void 0:(W=y(j,P),W<55296||W>56319||P+1===U||(q=y(j,P+1))<56320||q>57343?E?v(j,P):W:E?x(j,P,P+2):(W-55296<<10)+(q-56320)+65536)}};c.exports={codeAt:w(!1),charAt:w(!0)}}),"./node_modules/core-js/internals/string-trim-forced.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-name.js").PROPER,f=l("./node_modules/core-js/internals/fails.js"),A=l("./node_modules/core-js/internals/whitespaces.js"),p="";c.exports=function(v){return f(function(){return!!A[v]()||p[v]()!==p||d&&A[v].name!==v})}}),"./node_modules/core-js/internals/string-trim.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-uncurry-this.js"),f=l("./node_modules/core-js/internals/require-object-coercible.js"),A=l("./node_modules/core-js/internals/to-string.js"),p=l("./node_modules/core-js/internals/whitespaces.js"),v=d("".replace),y=RegExp("^["+p+"]+"),x=RegExp("(^|[^"+p+"])["+p+"]+$"),w=function(E){return function(T){var C=A(f(T));return E&1&&(C=v(C,y,"")),E&2&&(C=v(C,x,"$1")),C}};c.exports={start:w(1),end:w(2),trim:w(3)}}),"./node_modules/core-js/internals/symbol-constructor-detection.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/environment-v8-version.js"),f=l("./node_modules/core-js/internals/fails.js"),A=l("./node_modules/core-js/internals/global-this.js"),p=A.String;c.exports=!!Object.getOwnPropertySymbols&&!f(function(){var v=Symbol("symbol detection");return!p(v)||!(Object(v)instanceof Symbol)||!Symbol.sham&&d&&d<41})}),"./node_modules/core-js/internals/symbol-define-to-primitive.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-call.js"),f=l("./node_modules/core-js/internals/get-built-in.js"),A=l("./node_modules/core-js/internals/well-known-symbol.js"),p=l("./node_modules/core-js/internals/define-built-in.js");c.exports=function(){var v=f("Symbol"),y=v&&v.prototype,x=y&&y.valueOf,w=A("toPrimitive");y&&!y[w]&&p(y,w,function(E){return d(x,this)},{arity:1})}}),"./node_modules/core-js/internals/symbol-registry-detection.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/symbol-constructor-detection.js");c.exports=d&&!!Symbol.for&&!!Symbol.keyFor}),"./node_modules/core-js/internals/task.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/global-this.js"),f=l("./node_modules/core-js/internals/function-apply.js"),A=l("./node_modules/core-js/internals/function-bind-context.js"),p=l("./node_modules/core-js/internals/is-callable.js"),v=l("./node_modules/core-js/internals/has-own-property.js"),y=l("./node_modules/core-js/internals/fails.js"),x=l("./node_modules/core-js/internals/html.js"),w=l("./node_modules/core-js/internals/array-slice.js"),E=l("./node_modules/core-js/internals/document-create-element.js"),T=l("./node_modules/core-js/internals/validate-arguments-length.js"),C=l("./node_modules/core-js/internals/environment-is-ios.js"),j=l("./node_modules/core-js/internals/environment-is-node.js"),P=d.setImmediate,U=d.clearImmediate,W=d.process,q=d.Dispatch,re=d.Function,ie=d.MessageChannel,Ae=d.String,be=0,Ee={},ge="onreadystatechange",se,xe,ce,Me;y(function(){se=d.location});var Oe=function(Le){if(v(Ee,Le)){var He=Ee[Le];delete Ee[Le],He()}},we=function(Le){return function(){Oe(Le)}},ue=function(Le){Oe(Le.data)},ye=function(Le){d.postMessage(Ae(Le),se.protocol+"//"+se.host)};(!P||!U)&&(P=function(He){T(arguments.length,1);var Fe=p(He)?He:re(He),At=w(arguments,1);return Ee[++be]=function(){f(Fe,void 0,At)},xe(be),be},U=function(He){delete Ee[He]},j?xe=function(Le){W.nextTick(we(Le))}:q&&q.now?xe=function(Le){q.now(we(Le))}:ie&&!C?(ce=new ie,Me=ce.port2,ce.port1.onmessage=ue,xe=A(Me.postMessage,Me)):d.addEventListener&&p(d.postMessage)&&!d.importScripts&&se&&se.protocol!=="file:"&&!y(ye)?(xe=ye,d.addEventListener("message",ue,!1)):ge in E("script")?xe=function(Le){x.appendChild(E("script"))[ge]=function(){x.removeChild(this),Oe(Le)}}:xe=function(Le){setTimeout(we(Le),0)}),c.exports={set:P,clear:U}}),"./node_modules/core-js/internals/this-number-value.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-uncurry-this.js");c.exports=d(1.1.valueOf)}),"./node_modules/core-js/internals/to-absolute-index.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/to-integer-or-infinity.js"),f=Math.max,A=Math.min;c.exports=function(p,v){var y=d(p);return y<0?f(y+v,0):A(y,v)}}),"./node_modules/core-js/internals/to-indexed-object.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/indexed-object.js"),f=l("./node_modules/core-js/internals/require-object-coercible.js");c.exports=function(A){return d(f(A))}}),"./node_modules/core-js/internals/to-integer-or-infinity.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/math-trunc.js");c.exports=function(f){var A=+f;return A!==A||A===0?0:d(A)}}),"./node_modules/core-js/internals/to-length.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/to-integer-or-infinity.js"),f=Math.min;c.exports=function(A){var p=d(A);return p>0?f(p,9007199254740991):0}}),"./node_modules/core-js/internals/to-object.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/require-object-coercible.js"),f=Object;c.exports=function(A){return f(d(A))}}),"./node_modules/core-js/internals/to-primitive.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-call.js"),f=l("./node_modules/core-js/internals/is-object.js"),A=l("./node_modules/core-js/internals/is-symbol.js"),p=l("./node_modules/core-js/internals/get-method.js"),v=l("./node_modules/core-js/internals/ordinary-to-primitive.js"),y=l("./node_modules/core-js/internals/well-known-symbol.js"),x=TypeError,w=y("toPrimitive");c.exports=function(E,T){if(!f(E)||A(E))return E;var C=p(E,w),j;if(C){if(T===void 0&&(T="default"),j=d(C,E,T),!f(j)||A(j))return j;throw new x("Can't convert object to primitive value")}return T===void 0&&(T="number"),v(E,T)}}),"./node_modules/core-js/internals/to-property-key.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/to-primitive.js"),f=l("./node_modules/core-js/internals/is-symbol.js");c.exports=function(A){var p=d(A,"string");return f(p)?p:p+""}}),"./node_modules/core-js/internals/to-set-like.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/get-built-in.js"),f=l("./node_modules/core-js/internals/is-callable.js"),A=l("./node_modules/core-js/internals/is-iterable.js"),p=l("./node_modules/core-js/internals/is-object.js"),v=d("Set"),y=function(x){return p(x)&&typeof x.size=="number"&&f(x.has)&&f(x.keys)};c.exports=function(x){return y(x)?x:A(x)?new v(x):x}}),"./node_modules/core-js/internals/to-string-tag-support.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/well-known-symbol.js"),f=d("toStringTag"),A={};A[f]="z",c.exports=String(A)==="[object z]"}),"./node_modules/core-js/internals/to-string.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/classof.js"),f=String;c.exports=function(A){if(d(A)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return f(A)}}),"./node_modules/core-js/internals/try-to-string.js":(function(c){var u=String;c.exports=function(l){try{return u(l)}catch{return"Object"}}}),"./node_modules/core-js/internals/uid.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-uncurry-this.js"),f=0,A=Math.random(),p=d(1.1.toString);c.exports=function(v){return"Symbol("+(v===void 0?"":v)+")_"+p(++f+A,36)}}),"./node_modules/core-js/internals/use-symbol-as-uid.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/symbol-constructor-detection.js");c.exports=d&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}),"./node_modules/core-js/internals/v8-prototype-define-bug.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/descriptors.js"),f=l("./node_modules/core-js/internals/fails.js");c.exports=d&&f(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})}),"./node_modules/core-js/internals/validate-arguments-length.js":(function(c){var u=TypeError;c.exports=function(l,d){if(l<d)throw new u("Not enough arguments");return l}}),"./node_modules/core-js/internals/weak-map-basic-detection.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/global-this.js"),f=l("./node_modules/core-js/internals/is-callable.js"),A=d.WeakMap;c.exports=f(A)&&/native code/.test(String(A))}),"./node_modules/core-js/internals/well-known-symbol-define.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/path.js"),f=l("./node_modules/core-js/internals/has-own-property.js"),A=l("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),p=l("./node_modules/core-js/internals/object-define-property.js").f;c.exports=function(v){var y=d.Symbol||(d.Symbol={});f(y,v)||p(y,v,{value:A.f(v)})}}),"./node_modules/core-js/internals/well-known-symbol-wrapped.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/well-known-symbol.js");u.f=d}),"./node_modules/core-js/internals/well-known-symbol.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/global-this.js"),f=l("./node_modules/core-js/internals/shared.js"),A=l("./node_modules/core-js/internals/has-own-property.js"),p=l("./node_modules/core-js/internals/uid.js"),v=l("./node_modules/core-js/internals/symbol-constructor-detection.js"),y=l("./node_modules/core-js/internals/use-symbol-as-uid.js"),x=d.Symbol,w=f("wks"),E=y?x.for||x:x&&x.withoutSetter||p;c.exports=function(T){return A(w,T)||(w[T]=v&&A(x,T)?x[T]:E("Symbol."+T)),w[T]}}),"./node_modules/core-js/internals/whitespaces.js":(function(c){c.exports=`	
\v\f\r \u2028\u2029\uFEFF`}),"./node_modules/core-js/modules/es.array.concat.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/fails.js"),A=l("./node_modules/core-js/internals/is-array.js"),p=l("./node_modules/core-js/internals/is-object.js"),v=l("./node_modules/core-js/internals/to-object.js"),y=l("./node_modules/core-js/internals/length-of-array-like.js"),x=l("./node_modules/core-js/internals/does-not-exceed-safe-integer.js"),w=l("./node_modules/core-js/internals/create-property.js"),E=l("./node_modules/core-js/internals/array-species-create.js"),T=l("./node_modules/core-js/internals/array-method-has-species-support.js"),C=l("./node_modules/core-js/internals/well-known-symbol.js"),j=l("./node_modules/core-js/internals/environment-v8-version.js"),P=C("isConcatSpreadable"),U=j>=51||!f(function(){var re=[];return re[P]=!1,re.concat()[0]!==re}),W=function(re){if(!p(re))return!1;var ie=re[P];return ie!==void 0?!!ie:A(re)},q=!U||!T("concat");d({target:"Array",proto:!0,arity:1,forced:q},{concat:function(ie){var Ae=v(this),be=E(Ae,0),Ee=0,ge,se,xe,ce,Me;for(ge=-1,xe=arguments.length;ge<xe;ge++)if(Me=ge===-1?Ae:arguments[ge],W(Me))for(ce=y(Me),x(Ee+ce),se=0;se<ce;se++,Ee++)se in Me&&w(be,Ee,Me[se]);else x(Ee+1),w(be,Ee++,Me);return be.length=Ee,be}})}),"./node_modules/core-js/modules/es.array.from.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/array-from.js"),A=l("./node_modules/core-js/internals/check-correctness-of-iteration.js"),p=!A(function(v){Array.from(v)});d({target:"Array",stat:!0,forced:p},{from:f})}),"./node_modules/core-js/modules/es.array.index-of.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/function-uncurry-this-clause.js"),A=l("./node_modules/core-js/internals/array-includes.js").indexOf,p=l("./node_modules/core-js/internals/array-method-is-strict.js"),v=f([].indexOf),y=!!v&&1/v([1],1,-0)<0,x=y||!p("indexOf");d({target:"Array",proto:!0,forced:x},{indexOf:function(E){var T=arguments.length>1?arguments[1]:void 0;return y?v(this,E,T)||0:A(this,E,T)}})}),"./node_modules/core-js/modules/es.array.iterator.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/to-indexed-object.js"),f=l("./node_modules/core-js/internals/add-to-unscopables.js"),A=l("./node_modules/core-js/internals/iterators.js"),p=l("./node_modules/core-js/internals/internal-state.js"),v=l("./node_modules/core-js/internals/object-define-property.js").f,y=l("./node_modules/core-js/internals/iterator-define.js"),x=l("./node_modules/core-js/internals/create-iter-result-object.js"),w=l("./node_modules/core-js/internals/is-pure.js"),E=l("./node_modules/core-js/internals/descriptors.js"),T="Array Iterator",C=p.set,j=p.getterFor(T);c.exports=y(Array,"Array",function(U,W){C(this,{type:T,target:d(U),index:0,kind:W})},function(){var U=j(this),W=U.target,q=U.index++;if(!W||q>=W.length)return U.target=null,x(void 0,!0);switch(U.kind){case"keys":return x(q,!1);case"values":return x(W[q],!1)}return x([q,W[q]],!1)},"values");var P=A.Arguments=A.Array;if(f("keys"),f("values"),f("entries"),!w&&E&&P.name!=="values")try{v(P,"name",{value:"values"})}catch{}}),"./node_modules/core-js/modules/es.array.join.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/function-uncurry-this.js"),A=l("./node_modules/core-js/internals/indexed-object.js"),p=l("./node_modules/core-js/internals/to-indexed-object.js"),v=l("./node_modules/core-js/internals/array-method-is-strict.js"),y=f([].join),x=A!==Object,w=x||!v("join",",");d({target:"Array",proto:!0,forced:w},{join:function(T){return y(p(this),T===void 0?",":T)}})}),"./node_modules/core-js/modules/es.array.map.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/array-iteration.js").map,A=l("./node_modules/core-js/internals/array-method-has-species-support.js"),p=A("map");d({target:"Array",proto:!0,forced:!p},{map:function(y){return f(this,y,arguments.length>1?arguments[1]:void 0)}})}),"./node_modules/core-js/modules/es.array.reduce.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/array-reduce.js").left,A=l("./node_modules/core-js/internals/array-method-is-strict.js"),p=l("./node_modules/core-js/internals/environment-v8-version.js"),v=l("./node_modules/core-js/internals/environment-is-node.js"),y=!v&&p>79&&p<83,x=y||!A("reduce");d({target:"Array",proto:!0,forced:x},{reduce:function(E){var T=arguments.length;return f(this,E,T,T>1?arguments[1]:void 0)}})}),"./node_modules/core-js/modules/es.array.reverse.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/function-uncurry-this.js"),A=l("./node_modules/core-js/internals/is-array.js"),p=f([].reverse),v=[1,2];d({target:"Array",proto:!0,forced:String(v)===String(v.reverse())},{reverse:function(){return A(this)&&(this.length=this.length),p(this)}})}),"./node_modules/core-js/modules/es.array.slice.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/is-array.js"),A=l("./node_modules/core-js/internals/is-constructor.js"),p=l("./node_modules/core-js/internals/is-object.js"),v=l("./node_modules/core-js/internals/to-absolute-index.js"),y=l("./node_modules/core-js/internals/length-of-array-like.js"),x=l("./node_modules/core-js/internals/to-indexed-object.js"),w=l("./node_modules/core-js/internals/create-property.js"),E=l("./node_modules/core-js/internals/well-known-symbol.js"),T=l("./node_modules/core-js/internals/array-method-has-species-support.js"),C=l("./node_modules/core-js/internals/array-slice.js"),j=T("slice"),P=E("species"),U=Array,W=Math.max;d({target:"Array",proto:!0,forced:!j},{slice:function(re,ie){var Ae=x(this),be=y(Ae),Ee=v(re,be),ge=v(ie===void 0?be:ie,be),se,xe,ce;if(f(Ae)&&(se=Ae.constructor,A(se)&&(se===U||f(se.prototype))?se=void 0:p(se)&&(se=se[P],se===null&&(se=void 0)),se===U||se===void 0))return C(Ae,Ee,ge);for(xe=new(se===void 0?U:se)(W(ge-Ee,0)),ce=0;Ee<ge;Ee++,ce++)Ee in Ae&&w(xe,ce,Ae[Ee]);return xe.length=ce,xe}})}),"./node_modules/core-js/modules/es.function.name.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/descriptors.js"),f=l("./node_modules/core-js/internals/function-name.js").EXISTS,A=l("./node_modules/core-js/internals/function-uncurry-this.js"),p=l("./node_modules/core-js/internals/define-built-in-accessor.js"),v=Function.prototype,y=A(v.toString),x=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,w=A(x.exec),E="name";d&&!f&&p(v,E,{configurable:!0,get:function(){try{return w(x,y(this))[1]}catch{return""}}})}),"./node_modules/core-js/modules/es.iterator.constructor.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/global-this.js"),A=l("./node_modules/core-js/internals/an-instance.js"),p=l("./node_modules/core-js/internals/an-object.js"),v=l("./node_modules/core-js/internals/is-callable.js"),y=l("./node_modules/core-js/internals/object-get-prototype-of.js"),x=l("./node_modules/core-js/internals/define-built-in-accessor.js"),w=l("./node_modules/core-js/internals/create-property.js"),E=l("./node_modules/core-js/internals/fails.js"),T=l("./node_modules/core-js/internals/has-own-property.js"),C=l("./node_modules/core-js/internals/well-known-symbol.js"),j=l("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,P=l("./node_modules/core-js/internals/descriptors.js"),U=l("./node_modules/core-js/internals/is-pure.js"),W="constructor",q="Iterator",re=C("toStringTag"),ie=TypeError,Ae=f[q],be=U||!v(Ae)||Ae.prototype!==j||!E(function(){Ae({})}),Ee=function(){if(A(this,j),y(this)===j)throw new ie("Abstract class Iterator not directly constructable")},ge=function(se,xe){P?x(j,se,{configurable:!0,get:function(){return xe},set:function(ce){if(p(this),this===j)throw new ie("You can't redefine this property");T(this,se)?this[se]=ce:w(this,se,ce)}}):j[se]=xe};T(j,re)||ge(re,q),(be||!T(j,W)||j[W]===Object)&&ge(W,Ee),Ee.prototype=j,d({global:!0,constructor:!0,forced:be},{Iterator:Ee})}),"./node_modules/core-js/modules/es.iterator.for-each.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/function-call.js"),A=l("./node_modules/core-js/internals/iterate.js"),p=l("./node_modules/core-js/internals/a-callable.js"),v=l("./node_modules/core-js/internals/an-object.js"),y=l("./node_modules/core-js/internals/get-iterator-direct.js"),x=l("./node_modules/core-js/internals/iterator-close.js"),w=l("./node_modules/core-js/internals/iterator-helper-without-closing-on-early-error.js"),E=w("forEach",TypeError);d({target:"Iterator",proto:!0,real:!0,forced:E},{forEach:function(C){v(this);try{p(C)}catch(U){x(this,"throw",U)}if(E)return f(E,this,C);var j=y(this),P=0;A(j,function(U){C(U,P++)},{IS_RECORD:!0})}})}),"./node_modules/core-js/modules/es.iterator.map.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/function-call.js"),A=l("./node_modules/core-js/internals/a-callable.js"),p=l("./node_modules/core-js/internals/an-object.js"),v=l("./node_modules/core-js/internals/get-iterator-direct.js"),y=l("./node_modules/core-js/internals/iterator-create-proxy.js"),x=l("./node_modules/core-js/internals/call-with-safe-iteration-closing.js"),w=l("./node_modules/core-js/internals/iterator-close.js"),E=l("./node_modules/core-js/internals/iterator-helper-throws-on-invalid-iterator.js"),T=l("./node_modules/core-js/internals/iterator-helper-without-closing-on-early-error.js"),C=l("./node_modules/core-js/internals/is-pure.js"),j=!C&&!E("map",function(){}),P=!C&&!j&&T("map",TypeError),U=C||j||P,W=y(function(){var q=this.iterator,re=p(f(this.next,q)),ie=this.done=!!re.done;if(!ie)return x(q,this.mapper,[re.value,this.counter++],!0)});d({target:"Iterator",proto:!0,real:!0,forced:U},{map:function(re){p(this);try{A(re)}catch(ie){w(this,"throw",ie)}return P?f(P,this,re):new W(v(this),{mapper:re})}})}),"./node_modules/core-js/modules/es.json.stringify.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/get-built-in.js"),A=l("./node_modules/core-js/internals/function-apply.js"),p=l("./node_modules/core-js/internals/function-call.js"),v=l("./node_modules/core-js/internals/function-uncurry-this.js"),y=l("./node_modules/core-js/internals/fails.js"),x=l("./node_modules/core-js/internals/is-array.js"),w=l("./node_modules/core-js/internals/is-callable.js"),E=l("./node_modules/core-js/internals/is-raw-json.js"),T=l("./node_modules/core-js/internals/is-symbol.js"),C=l("./node_modules/core-js/internals/classof-raw.js"),j=l("./node_modules/core-js/internals/to-string.js"),P=l("./node_modules/core-js/internals/array-slice.js"),U=l("./node_modules/core-js/internals/parse-json-string.js"),W=l("./node_modules/core-js/internals/uid.js"),q=l("./node_modules/core-js/internals/symbol-constructor-detection.js"),re=l("./node_modules/core-js/internals/native-raw-json.js"),ie=String,Ae=f("JSON","stringify"),be=v(/./.exec),Ee=v("".charAt),ge=v("".charCodeAt),se=v("".replace),xe=v("".slice),ce=v([].push),Me=v(1.1.toString),Oe=/[\uD800-\uDFFF]/g,we=/^[\uD800-\uDBFF]$/,ue=/^[\uDC00-\uDFFF]$/,ye=W(),Le=ye.length,He=!q||y(function(){var st=f("Symbol")("stringify detection");return Ae([st])!=="[null]"||Ae({a:st})!=="{}"||Ae(Object(st))!=="{}"}),Fe=y(function(){return Ae("\uDF06\uD834")!=='"\\udf06\\ud834"'||Ae("\uDEAD")!=='"\\udead"'}),At=He?function(st,et){var We=P(arguments),gt=Pe(et);if(!(!w(gt)&&(st===void 0||T(st))))return We[1]=function(Ge,Ct){if(w(gt)&&(Ct=p(gt,this,ie(Ge),Ct)),!T(Ct))return Ct},A(Ae,null,We)}:Ae,pt=function(st,et,We){var gt=Ee(We,et-1),Ge=Ee(We,et+1);return be(we,st)&&!be(ue,Ge)||be(ue,st)&&!be(we,gt)?"\\u"+Me(ge(st,0),16):st},Pe=function(st){if(w(st))return st;if(x(st)){for(var et=st.length,We=[],gt=0;gt<et;gt++){var Ge=st[gt];typeof Ge=="string"?ce(We,Ge):(typeof Ge=="number"||C(Ge)==="Number"||C(Ge)==="String")&&ce(We,j(Ge))}var Ct=We.length,Et=!0;return function(Ut,ir){if(Et)return Et=!1,ir;if(x(this))return ir;for(var on=0;on<Ct;on++)if(We[on]===Ut)return ir}}};Ae&&d({target:"JSON",stat:!0,arity:3,forced:He||Fe||!re},{stringify:function(et,We,gt){var Ge=Pe(We),Ct=[],Et=At(et,function(Mn,dn){var pn=w(Ge)?p(Ge,this,ie(Mn),dn):dn;return!re&&E(pn)?ye+(ce(Ct,pn.rawJSON)-1):pn},gt);if(typeof Et!="string"||(Fe&&(Et=se(Et,Oe,pt)),re))return Et;for(var Ut="",ir=Et.length,on=0;on<ir;on++){var kr=Ee(Et,on);if(kr==='"'){var rn=U(Et,++on).end-1,wn=xe(Et,on,rn);Ut+=xe(wn,0,Le)===ye?Ct[xe(wn,Le)]:'"'+wn+'"',on=rn}else Ut+=kr}return Ut}})}),"./node_modules/core-js/modules/es.number.constructor.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/is-pure.js"),A=l("./node_modules/core-js/internals/descriptors.js"),p=l("./node_modules/core-js/internals/global-this.js"),v=l("./node_modules/core-js/internals/path.js"),y=l("./node_modules/core-js/internals/function-uncurry-this.js"),x=l("./node_modules/core-js/internals/is-forced.js"),w=l("./node_modules/core-js/internals/has-own-property.js"),E=l("./node_modules/core-js/internals/inherit-if-required.js"),T=l("./node_modules/core-js/internals/object-is-prototype-of.js"),C=l("./node_modules/core-js/internals/is-symbol.js"),j=l("./node_modules/core-js/internals/to-primitive.js"),P=l("./node_modules/core-js/internals/fails.js"),U=l("./node_modules/core-js/internals/object-get-own-property-names.js").f,W=l("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,q=l("./node_modules/core-js/internals/object-define-property.js").f,re=l("./node_modules/core-js/internals/this-number-value.js"),ie=l("./node_modules/core-js/internals/string-trim.js").trim,Ae="Number",be=p[Ae],Ee=v[Ae],ge=be.prototype,se=p.TypeError,xe=y("".slice),ce=y("".charCodeAt),Me=function(He){var Fe=j(He,"number");return typeof Fe=="bigint"?Fe:Oe(Fe)},Oe=function(He){var Fe=j(He,"number"),At,pt,Pe,st,et,We,gt,Ge;if(C(Fe))throw new se("Cannot convert a Symbol value to a number");if(typeof Fe=="string"&&Fe.length>2){if(Fe=ie(Fe),At=ce(Fe,0),At===43||At===45){if(pt=ce(Fe,2),pt===88||pt===120)return NaN}else if(At===48){switch(ce(Fe,1)){case 66:case 98:Pe=2,st=49;break;case 79:case 111:Pe=8,st=55;break;default:return+Fe}for(et=xe(Fe,2),We=et.length,gt=0;gt<We;gt++)if(Ge=ce(et,gt),Ge<48||Ge>st)return NaN;return parseInt(et,Pe)}}return+Fe},we=x(Ae,!be(" 0o1")||!be("0b1")||be("+0x1")),ue=function(He){return T(ge,He)&&P(function(){re(He)})},ye=function(Fe){var At=arguments.length<1?0:be(Me(Fe));return ue(this)?E(Object(At),this,ye):At};ye.prototype=ge,we&&!f&&(ge.constructor=ye),d({global:!0,constructor:!0,wrap:!0,forced:we},{Number:ye});var Le=function(He,Fe){for(var At=A?U(Fe):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),pt=0,Pe;At.length>pt;pt++)w(Fe,Pe=At[pt])&&!w(He,Pe)&&q(He,Pe,W(Fe,Pe))};f&&Ee&&Le(v[Ae],Ee),(we||f)&&Le(v[Ae],be)}),"./node_modules/core-js/modules/es.object.assign.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/object-assign.js");d({target:"Object",stat:!0,arity:2,forced:Object.assign!==f},{assign:f})}),"./node_modules/core-js/modules/es.object.get-own-property-symbols.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/symbol-constructor-detection.js"),A=l("./node_modules/core-js/internals/fails.js"),p=l("./node_modules/core-js/internals/object-get-own-property-symbols.js"),v=l("./node_modules/core-js/internals/to-object.js"),y=!f||A(function(){p.f(1)});d({target:"Object",stat:!0,forced:y},{getOwnPropertySymbols:function(w){var E=p.f;return E?E(v(w)):[]}})}),"./node_modules/core-js/modules/es.object.keys.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/to-object.js"),A=l("./node_modules/core-js/internals/object-keys.js"),p=l("./node_modules/core-js/internals/fails.js"),v=p(function(){A(1)});d({target:"Object",stat:!0,forced:v},{keys:function(x){return A(f(x))}})}),"./node_modules/core-js/modules/es.object.to-string.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/to-string-tag-support.js"),f=l("./node_modules/core-js/internals/define-built-in.js"),A=l("./node_modules/core-js/internals/object-to-string.js");d||f(Object.prototype,"toString",A,{unsafe:!0})}),"./node_modules/core-js/modules/es.promise.all.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/function-call.js"),A=l("./node_modules/core-js/internals/a-callable.js"),p=l("./node_modules/core-js/internals/new-promise-capability.js"),v=l("./node_modules/core-js/internals/perform.js"),y=l("./node_modules/core-js/internals/iterate.js"),x=l("./node_modules/core-js/internals/promise-statics-incorrect-iteration.js");d({target:"Promise",stat:!0,forced:x},{all:function(E){var T=this,C=p.f(T),j=C.resolve,P=C.reject,U=v(function(){var W=A(T.resolve),q=[],re=0,ie=1;y(E,function(Ae){var be=re++,Ee=!1;ie++,f(W,T,Ae).then(function(ge){Ee||(Ee=!0,q[be]=ge,--ie||j(q))},P)}),--ie||j(q)});return U.error&&P(U.value),C.promise}})}),"./node_modules/core-js/modules/es.promise.catch.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/is-pure.js"),A=l("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR,p=l("./node_modules/core-js/internals/promise-native-constructor.js"),v=l("./node_modules/core-js/internals/get-built-in.js"),y=l("./node_modules/core-js/internals/is-callable.js"),x=l("./node_modules/core-js/internals/define-built-in.js"),w=p&&p.prototype;if(d({target:"Promise",proto:!0,forced:A,real:!0},{catch:function(T){return this.then(void 0,T)}}),!f&&y(p)){var E=v("Promise").prototype.catch;w.catch!==E&&x(w,"catch",E,{unsafe:!0})}}),"./node_modules/core-js/modules/es.promise.constructor.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/is-pure.js"),A=l("./node_modules/core-js/internals/environment-is-node.js"),p=l("./node_modules/core-js/internals/global-this.js"),v=l("./node_modules/core-js/internals/path.js"),y=l("./node_modules/core-js/internals/function-call.js"),x=l("./node_modules/core-js/internals/define-built-in.js"),w=l("./node_modules/core-js/internals/object-set-prototype-of.js"),E=l("./node_modules/core-js/internals/set-to-string-tag.js"),T=l("./node_modules/core-js/internals/set-species.js"),C=l("./node_modules/core-js/internals/a-callable.js"),j=l("./node_modules/core-js/internals/is-callable.js"),P=l("./node_modules/core-js/internals/is-object.js"),U=l("./node_modules/core-js/internals/an-instance.js"),W=l("./node_modules/core-js/internals/species-constructor.js"),q=l("./node_modules/core-js/internals/task.js").set,re=l("./node_modules/core-js/internals/microtask.js"),ie=l("./node_modules/core-js/internals/host-report-errors.js"),Ae=l("./node_modules/core-js/internals/perform.js"),be=l("./node_modules/core-js/internals/queue.js"),Ee=l("./node_modules/core-js/internals/internal-state.js"),ge=l("./node_modules/core-js/internals/promise-native-constructor.js"),se=l("./node_modules/core-js/internals/promise-constructor-detection.js"),xe=l("./node_modules/core-js/internals/new-promise-capability.js"),ce="Promise",Me=se.CONSTRUCTOR,Oe=se.REJECTION_EVENT,we=se.SUBCLASSING,ue=Ee.getterFor(ce),ye=Ee.set,Le=ge&&ge.prototype,He=ge,Fe=Le,At=p.TypeError,pt=p.document,Pe=p.process,st=xe.f,et=st,We=!!(pt&&pt.createEvent&&p.dispatchEvent),gt="unhandledrejection",Ge="rejectionhandled",Ct=0,Et=1,Ut=2,ir=1,on=2,kr,rn,wn,Mn,dn=function(Ht){var fr;return P(Ht)&&j(fr=Ht.then)?fr:!1},pn=function(Ht,fr){var Hr=fr.value,Gr=fr.state===Et,Ln=Gr?Ht.ok:Ht.fail,ln=Ht.resolve,Jn=Ht.reject,en=Ht.domain,Dr,An,cn;try{Ln?(Gr||(fr.rejection===on&&ot(fr),fr.rejection=ir),Ln===!0?Dr=Hr:(en&&en.enter(),Dr=Ln(Hr),en&&(en.exit(),cn=!0)),Dr===Ht.promise?Jn(new At("Promise-chain cycle")):(An=dn(Dr))?y(An,Dr,ln,Jn):ln(Dr)):Jn(Hr)}catch(Pn){en&&!cn&&en.exit(),Jn(Pn)}},mn=function(Ht,fr){Ht.notified||(Ht.notified=!0,re(function(){for(var Hr=Ht.reactions,Gr;Gr=Hr.get();)pn(Gr,Ht);Ht.notified=!1,fr&&!Ht.rejection&&Zn(Ht)}))},Kn=function(Ht,fr,Hr){var Gr,Ln;We?(Gr=pt.createEvent("Event"),Gr.promise=fr,Gr.reason=Hr,Gr.initEvent(Ht,!1,!0),p.dispatchEvent(Gr)):Gr={promise:fr,reason:Hr},!Oe&&(Ln=p["on"+Ht])?Ln(Gr):Ht===gt&&ie("Unhandled promise rejection",Hr)},Zn=function(Ht){y(q,p,function(){var fr=Ht.facade,Hr=Ht.value,Gr=Li(Ht),Ln;if(Gr&&(Ln=Ae(function(){A?Pe.emit("unhandledRejection",Hr,fr):Kn(gt,fr,Hr)}),Ht.rejection=A||Li(Ht)?on:ir,Ln.error))throw Ln.value})},Li=function(Ht){return Ht.rejection!==ir&&!Ht.parent},ot=function(Ht){y(q,p,function(){var fr=Ht.facade;A?Pe.emit("rejectionHandled",fr):Kn(Ge,fr,Ht.value)})},Wt=function(Ht,fr,Hr){return function(Gr){Ht(fr,Gr,Hr)}},jr=function(Ht,fr,Hr){Ht.done||(Ht.done=!0,Hr&&(Ht=Hr),Ht.value=fr,Ht.state=Ut,mn(Ht,!0))},rr=function(Ht,fr,Hr){if(!Ht.done){Ht.done=!0,Hr&&(Ht=Hr);try{if(Ht.facade===fr)throw new At("Promise can't be resolved itself");var Gr=dn(fr);Gr?re(function(){var Ln={done:!1};try{y(Gr,fr,Wt(rr,Ln,Ht),Wt(jr,Ln,Ht))}catch(ln){jr(Ln,ln,Ht)}}):(Ht.value=fr,Ht.state=Et,mn(Ht,!1))}catch(Ln){jr({done:!1},Ln,Ht)}}};if(Me&&(He=function(fr){U(this,Fe),C(fr),y(kr,this);var Hr=ue(this);try{fr(Wt(rr,Hr),Wt(jr,Hr))}catch(Gr){jr(Hr,Gr)}},Fe=He.prototype,kr=function(fr){ye(this,{type:ce,done:!1,notified:!1,parent:!1,reactions:new be,rejection:!1,state:Ct,value:null})},kr.prototype=x(Fe,"then",function(fr,Hr){var Gr=ue(this),Ln=st(W(this,He));return Gr.parent=!0,Ln.ok=j(fr)?fr:!0,Ln.fail=j(Hr)&&Hr,Ln.domain=A?Pe.domain:void 0,Gr.state===Ct?Gr.reactions.add(Ln):re(function(){pn(Ln,Gr)}),Ln.promise}),rn=function(){var Ht=new kr,fr=ue(Ht);this.promise=Ht,this.resolve=Wt(rr,fr),this.reject=Wt(jr,fr)},xe.f=st=function(Ht){return Ht===He||Ht===wn?new rn(Ht):et(Ht)},!f&&j(ge)&&Le!==Object.prototype)){Mn=Le.then,we||x(Le,"then",function(fr,Hr){var Gr=this;return new He(function(Ln,ln){y(Mn,Gr,Ln,ln)}).then(fr,Hr)},{unsafe:!0});try{delete Le.constructor}catch{}w&&w(Le,Fe)}d({global:!0,constructor:!0,wrap:!0,forced:Me},{Promise:He}),wn=v.Promise,E(He,ce,!1,!0),T(ce)}),"./node_modules/core-js/modules/es.promise.js":(function(c,u,l){l("./node_modules/core-js/modules/es.promise.constructor.js"),l("./node_modules/core-js/modules/es.promise.all.js"),l("./node_modules/core-js/modules/es.promise.catch.js"),l("./node_modules/core-js/modules/es.promise.race.js"),l("./node_modules/core-js/modules/es.promise.reject.js"),l("./node_modules/core-js/modules/es.promise.resolve.js")}),"./node_modules/core-js/modules/es.promise.race.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/function-call.js"),A=l("./node_modules/core-js/internals/a-callable.js"),p=l("./node_modules/core-js/internals/new-promise-capability.js"),v=l("./node_modules/core-js/internals/perform.js"),y=l("./node_modules/core-js/internals/iterate.js"),x=l("./node_modules/core-js/internals/promise-statics-incorrect-iteration.js");d({target:"Promise",stat:!0,forced:x},{race:function(E){var T=this,C=p.f(T),j=C.reject,P=v(function(){var U=A(T.resolve);y(E,function(W){f(U,T,W).then(C.resolve,j)})});return P.error&&j(P.value),C.promise}})}),"./node_modules/core-js/modules/es.promise.reject.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/new-promise-capability.js"),A=l("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR;d({target:"Promise",stat:!0,forced:A},{reject:function(v){var y=f.f(this),x=y.reject;return x(v),y.promise}})}),"./node_modules/core-js/modules/es.promise.resolve.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/get-built-in.js"),A=l("./node_modules/core-js/internals/is-pure.js"),p=l("./node_modules/core-js/internals/promise-native-constructor.js"),v=l("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR,y=l("./node_modules/core-js/internals/promise-resolve.js"),x=f("Promise"),w=A&&!v;d({target:"Promise",stat:!0,forced:A||v},{resolve:function(T){return y(w&&this===x?p:this,T)}})}),"./node_modules/core-js/modules/es.regexp.exec.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/regexp-exec.js");d({target:"RegExp",proto:!0,forced:/./.exec!==f},{exec:f})}),"./node_modules/core-js/modules/es.regexp.test.js":(function(c,u,l){l("./node_modules/core-js/modules/es.regexp.exec.js");var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/function-call.js"),A=l("./node_modules/core-js/internals/is-callable.js"),p=l("./node_modules/core-js/internals/an-object.js"),v=l("./node_modules/core-js/internals/to-string.js"),y=(function(){var w=!1,E=/[ac]/;return E.exec=function(){return w=!0,/./.exec.apply(this,arguments)},E.test("abc")===!0&&w})(),x=/./.test;d({target:"RegExp",proto:!0,forced:!y},{test:function(w){var E=p(this),T=v(w),C=E.exec;if(!A(C))return f(x,E,T);var j=f(C,E,T);return j===null?!1:(p(j),!0)}})}),"./node_modules/core-js/modules/es.regexp.to-string.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-name.js").PROPER,f=l("./node_modules/core-js/internals/define-built-in.js"),A=l("./node_modules/core-js/internals/an-object.js"),p=l("./node_modules/core-js/internals/to-string.js"),v=l("./node_modules/core-js/internals/fails.js"),y=l("./node_modules/core-js/internals/regexp-get-flags.js"),x="toString",w=RegExp.prototype,E=w[x],T=v(function(){return E.call({source:"a",flags:"b"})!=="/a/b"}),C=d&&E.name!==x;(T||C)&&f(w,x,function(){var P=A(this),U=p(P.source),W=p(y(P));return"/"+U+"/"+W},{unsafe:!0})}),"./node_modules/core-js/modules/es.set.constructor.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/collection.js"),f=l("./node_modules/core-js/internals/collection-strong.js");d("Set",function(A){return function(){return A(this,arguments.length?arguments[0]:void 0)}},f)}),"./node_modules/core-js/modules/es.set.js":(function(c,u,l){l("./node_modules/core-js/modules/es.set.constructor.js")}),"./node_modules/core-js/modules/es.string.ends-with.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/function-uncurry-this-clause.js"),A=l("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,p=l("./node_modules/core-js/internals/to-length.js"),v=l("./node_modules/core-js/internals/to-string.js"),y=l("./node_modules/core-js/internals/not-a-regexp.js"),x=l("./node_modules/core-js/internals/require-object-coercible.js"),w=l("./node_modules/core-js/internals/correct-is-regexp-logic.js"),E=l("./node_modules/core-js/internals/is-pure.js"),T=f("".slice),C=Math.min,j=w("endsWith"),P=!E&&!j&&!!(function(){var U=A(String.prototype,"endsWith");return U&&!U.writable})();d({target:"String",proto:!0,forced:!P&&!j},{endsWith:function(W){var q=v(x(this));y(W);var re=arguments.length>1?arguments[1]:void 0,ie=q.length,Ae=re===void 0?ie:C(p(re),ie),be=v(W);return T(q,Ae-be.length,Ae)===be}})}),"./node_modules/core-js/modules/es.string.includes.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/function-uncurry-this.js"),A=l("./node_modules/core-js/internals/not-a-regexp.js"),p=l("./node_modules/core-js/internals/require-object-coercible.js"),v=l("./node_modules/core-js/internals/to-string.js"),y=l("./node_modules/core-js/internals/correct-is-regexp-logic.js"),x=f("".indexOf);d({target:"String",proto:!0,forced:!y("includes")},{includes:function(E){return!!~x(v(p(this)),v(A(E)),arguments.length>1?arguments[1]:void 0)}})}),"./node_modules/core-js/modules/es.string.iterator.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/string-multibyte.js").charAt,f=l("./node_modules/core-js/internals/to-string.js"),A=l("./node_modules/core-js/internals/internal-state.js"),p=l("./node_modules/core-js/internals/iterator-define.js"),v=l("./node_modules/core-js/internals/create-iter-result-object.js"),y="String Iterator",x=A.set,w=A.getterFor(y);p(String,"String",function(E){x(this,{type:y,string:f(E),index:0})},function(){var T=w(this),C=T.string,j=T.index,P;return j>=C.length?v(void 0,!0):(P=d(C,j),T.index+=P.length,v(P,!1))})}),"./node_modules/core-js/modules/es.string.link.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/create-html.js"),A=l("./node_modules/core-js/internals/string-html-forced.js");d({target:"String",proto:!0,forced:A("link")},{link:function(v){return f(this,"a","href",v)}})}),"./node_modules/core-js/modules/es.string.match.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-call.js"),f=l("./node_modules/core-js/internals/function-uncurry-this.js"),A=l("./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js"),p=l("./node_modules/core-js/internals/an-object.js"),v=l("./node_modules/core-js/internals/is-object.js"),y=l("./node_modules/core-js/internals/to-length.js"),x=l("./node_modules/core-js/internals/to-string.js"),w=l("./node_modules/core-js/internals/require-object-coercible.js"),E=l("./node_modules/core-js/internals/get-method.js"),T=l("./node_modules/core-js/internals/advance-string-index.js"),C=l("./node_modules/core-js/internals/regexp-get-flags.js"),j=l("./node_modules/core-js/internals/regexp-exec-abstract.js"),P=f("".indexOf);A("match",function(U,W,q){return[function(ie){var Ae=w(this),be=v(ie)?E(ie,U):void 0;return be?d(be,ie,Ae):new RegExp(ie)[U](x(Ae))},function(re){var ie=p(this),Ae=x(re),be=q(W,ie,Ae);if(be.done)return be.value;var Ee=x(C(ie));if(P(Ee,"g")===-1)return j(ie,Ae);var ge=P(Ee,"u")!==-1;ie.lastIndex=0;for(var se=[],xe=0,ce;(ce=j(ie,Ae))!==null;){var Me=x(ce[0]);se[xe]=Me,Me===""&&(ie.lastIndex=T(Ae,y(ie.lastIndex),ge)),xe++}return xe===0?null:se}]})}),"./node_modules/core-js/modules/es.string.replace.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-apply.js"),f=l("./node_modules/core-js/internals/function-call.js"),A=l("./node_modules/core-js/internals/function-uncurry-this.js"),p=l("./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js"),v=l("./node_modules/core-js/internals/fails.js"),y=l("./node_modules/core-js/internals/an-object.js"),x=l("./node_modules/core-js/internals/is-callable.js"),w=l("./node_modules/core-js/internals/is-object.js"),E=l("./node_modules/core-js/internals/to-integer-or-infinity.js"),T=l("./node_modules/core-js/internals/to-length.js"),C=l("./node_modules/core-js/internals/to-string.js"),j=l("./node_modules/core-js/internals/require-object-coercible.js"),P=l("./node_modules/core-js/internals/advance-string-index.js"),U=l("./node_modules/core-js/internals/get-method.js"),W=l("./node_modules/core-js/internals/get-substitution.js"),q=l("./node_modules/core-js/internals/regexp-get-flags.js"),re=l("./node_modules/core-js/internals/regexp-exec-abstract.js"),ie=l("./node_modules/core-js/internals/well-known-symbol.js"),Ae=ie("replace"),be=Math.max,Ee=Math.min,ge=A([].concat),se=A([].push),xe=A("".indexOf),ce=A("".slice),Me=function(ye){return ye===void 0?ye:String(ye)},Oe=(function(){return"a".replace(/./,"$0")==="$0"})(),we=(function(){return/./[Ae]?/./[Ae]("a","$0")==="":!1})(),ue=!v(function(){var ye=/./;return ye.exec=function(){var Le=[];return Le.groups={a:"7"},Le},"".replace(ye,"$<a>")!=="7"});p("replace",function(ye,Le,He){var Fe=we?"$":"$0";return[function(pt,Pe){var st=j(this),et=w(pt)?U(pt,Ae):void 0;return et?f(et,pt,st,Pe):f(Le,C(st),pt,Pe)},function(At,pt){var Pe=y(this),st=C(At);if(typeof pt=="string"&&xe(pt,Fe)===-1&&xe(pt,"$<")===-1){var et=He(Le,Pe,st,pt);if(et.done)return et.value}var We=x(pt);We||(pt=C(pt));var gt=C(q(Pe)),Ge=xe(gt,"g")!==-1,Ct;Ge&&(Ct=xe(gt,"u")!==-1,Pe.lastIndex=0);for(var Et=[],Ut;Ut=re(Pe,st),!(Ut===null||(se(Et,Ut),!Ge));){var ir=C(Ut[0]);ir===""&&(Pe.lastIndex=P(st,T(Pe.lastIndex),Ct))}for(var on="",kr=0,rn=0;rn<Et.length;rn++){Ut=Et[rn];for(var wn=C(Ut[0]),Mn=be(Ee(E(Ut.index),st.length),0),dn=[],pn,mn=1;mn<Ut.length;mn++)se(dn,Me(Ut[mn]));var Kn=Ut.groups;if(We){var Zn=ge([wn],dn,Mn,st);Kn!==void 0&&se(Zn,Kn),pn=C(d(pt,void 0,Zn))}else pn=W(wn,st,Mn,dn,Kn,pt);Mn>=kr&&(on+=ce(st,kr,Mn)+pn,kr=Mn+wn.length)}return on+ce(st,kr)}]},!ue||!Oe||we)}),"./node_modules/core-js/modules/es.string.split.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-call.js"),f=l("./node_modules/core-js/internals/function-uncurry-this.js"),A=l("./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js"),p=l("./node_modules/core-js/internals/an-object.js"),v=l("./node_modules/core-js/internals/is-object.js"),y=l("./node_modules/core-js/internals/require-object-coercible.js"),x=l("./node_modules/core-js/internals/species-constructor.js"),w=l("./node_modules/core-js/internals/advance-string-index.js"),E=l("./node_modules/core-js/internals/to-length.js"),T=l("./node_modules/core-js/internals/to-string.js"),C=l("./node_modules/core-js/internals/get-method.js"),j=l("./node_modules/core-js/internals/regexp-exec-abstract.js"),P=l("./node_modules/core-js/internals/regexp-sticky-helpers.js"),U=l("./node_modules/core-js/internals/fails.js"),W=P.UNSUPPORTED_Y,q=4294967295,re=Math.min,ie=f([].push),Ae=f("".slice),be=!U(function(){var ge=/(?:)/,se=ge.exec;ge.exec=function(){return se.apply(this,arguments)};var xe="ab".split(ge);return xe.length!==2||xe[0]!=="a"||xe[1]!=="b"}),Ee="abbc".split(/(b)*/)[1]==="c"||"test".split(/(?:)/,-1).length!==4||"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||".".split(/()()/).length>1||"".split(/.?/).length;A("split",function(ge,se,xe){var ce="0".split(void 0,0).length?function(Me,Oe){return Me===void 0&&Oe===0?[]:d(se,this,Me,Oe)}:se;return[function(Oe,we){var ue=y(this),ye=v(Oe)?C(Oe,ge):void 0;return ye?d(ye,Oe,ue,we):d(ce,T(ue),Oe,we)},function(Me,Oe){var we=p(this),ue=T(Me);if(!Ee){var ye=xe(ce,we,ue,Oe,ce!==se);if(ye.done)return ye.value}var Le=x(we,RegExp),He=we.unicode,Fe=(we.ignoreCase?"i":"")+(we.multiline?"m":"")+(we.unicode?"u":"")+(W?"g":"y"),At=new Le(W?"^(?:"+we.source+")":we,Fe),pt=Oe===void 0?q:Oe>>>0;if(pt===0)return[];if(ue.length===0)return j(At,ue)===null?[ue]:[];for(var Pe=0,st=0,et=[];st<ue.length;){At.lastIndex=W?0:st;var We=j(At,W?Ae(ue,st):ue),gt;if(We===null||(gt=re(E(At.lastIndex+(W?st:0)),ue.length))===Pe)st=w(ue,st,He);else{if(ie(et,Ae(ue,Pe,st)),et.length===pt)return et;for(var Ge=1;Ge<=We.length-1;Ge++)if(ie(et,We[Ge]),et.length===pt)return et;st=Pe=gt}}return ie(et,Ae(ue,Pe)),et}]},Ee||!be,W)}),"./node_modules/core-js/modules/es.string.starts-with.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/function-uncurry-this-clause.js"),A=l("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,p=l("./node_modules/core-js/internals/to-length.js"),v=l("./node_modules/core-js/internals/to-string.js"),y=l("./node_modules/core-js/internals/not-a-regexp.js"),x=l("./node_modules/core-js/internals/require-object-coercible.js"),w=l("./node_modules/core-js/internals/correct-is-regexp-logic.js"),E=l("./node_modules/core-js/internals/is-pure.js"),T=f("".slice),C=Math.min,j=w("startsWith"),P=!E&&!j&&!!(function(){var U=A(String.prototype,"startsWith");return U&&!U.writable})();d({target:"String",proto:!0,forced:!P&&!j},{startsWith:function(W){var q=v(x(this));y(W);var re=p(C(arguments.length>1?arguments[1]:void 0,q.length)),ie=v(W);return T(q,re,re+ie.length)===ie}})}),"./node_modules/core-js/modules/es.string.trim.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/string-trim.js").trim,A=l("./node_modules/core-js/internals/string-trim-forced.js");d({target:"String",proto:!0,forced:A("trim")},{trim:function(){return f(this)}})}),"./node_modules/core-js/modules/es.symbol.constructor.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/global-this.js"),A=l("./node_modules/core-js/internals/function-call.js"),p=l("./node_modules/core-js/internals/function-uncurry-this.js"),v=l("./node_modules/core-js/internals/is-pure.js"),y=l("./node_modules/core-js/internals/descriptors.js"),x=l("./node_modules/core-js/internals/symbol-constructor-detection.js"),w=l("./node_modules/core-js/internals/fails.js"),E=l("./node_modules/core-js/internals/has-own-property.js"),T=l("./node_modules/core-js/internals/object-is-prototype-of.js"),C=l("./node_modules/core-js/internals/an-object.js"),j=l("./node_modules/core-js/internals/to-indexed-object.js"),P=l("./node_modules/core-js/internals/to-property-key.js"),U=l("./node_modules/core-js/internals/to-string.js"),W=l("./node_modules/core-js/internals/create-property-descriptor.js"),q=l("./node_modules/core-js/internals/object-create.js"),re=l("./node_modules/core-js/internals/object-keys.js"),ie=l("./node_modules/core-js/internals/object-get-own-property-names.js"),Ae=l("./node_modules/core-js/internals/object-get-own-property-names-external.js"),be=l("./node_modules/core-js/internals/object-get-own-property-symbols.js"),Ee=l("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),ge=l("./node_modules/core-js/internals/object-define-property.js"),se=l("./node_modules/core-js/internals/object-define-properties.js"),xe=l("./node_modules/core-js/internals/object-property-is-enumerable.js"),ce=l("./node_modules/core-js/internals/define-built-in.js"),Me=l("./node_modules/core-js/internals/define-built-in-accessor.js"),Oe=l("./node_modules/core-js/internals/shared.js"),we=l("./node_modules/core-js/internals/shared-key.js"),ue=l("./node_modules/core-js/internals/hidden-keys.js"),ye=l("./node_modules/core-js/internals/uid.js"),Le=l("./node_modules/core-js/internals/well-known-symbol.js"),He=l("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),Fe=l("./node_modules/core-js/internals/well-known-symbol-define.js"),At=l("./node_modules/core-js/internals/symbol-define-to-primitive.js"),pt=l("./node_modules/core-js/internals/set-to-string-tag.js"),Pe=l("./node_modules/core-js/internals/internal-state.js"),st=l("./node_modules/core-js/internals/array-iteration.js").forEach,et=we("hidden"),We="Symbol",gt="prototype",Ge=Pe.set,Ct=Pe.getterFor(We),Et=Object[gt],Ut=f.Symbol,ir=Ut&&Ut[gt],on=f.RangeError,kr=f.TypeError,rn=f.QObject,wn=Ee.f,Mn=ge.f,dn=Ae.f,pn=xe.f,mn=p([].push),Kn=Oe("symbols"),Zn=Oe("op-symbols"),Li=Oe("wks"),ot=!rn||!rn[gt]||!rn[gt].findChild,Wt=function(en,Dr,An){var cn=wn(Et,Dr);cn&&delete Et[Dr],Mn(en,Dr,An),cn&&en!==Et&&Mn(Et,Dr,cn)},jr=y&&w(function(){return q(Mn({},"a",{get:function(){return Mn(this,"a",{value:7}).a}})).a!==7})?Wt:Mn,rr=function(en,Dr){var An=Kn[en]=q(ir);return Ge(An,{type:We,tag:en,description:Dr}),y||(An.description=Dr),An},Ht=function(Dr,An,cn){Dr===Et&&Ht(Zn,An,cn),C(Dr);var Pn=P(An);return C(cn),E(Kn,Pn)?(cn.enumerable?(E(Dr,et)&&Dr[et][Pn]&&(Dr[et][Pn]=!1),cn=q(cn,{enumerable:W(0,!1)})):(E(Dr,et)||Mn(Dr,et,W(1,q(null))),Dr[et][Pn]=!0),jr(Dr,Pn,cn)):Mn(Dr,Pn,cn)},fr=function(Dr,An){C(Dr);var cn=j(An),Pn=re(cn).concat(Jn(cn));return st(Pn,function(li){(!y||A(Gr,cn,li))&&Ht(Dr,li,cn[li])}),Dr},Hr=function(Dr,An){return An===void 0?q(Dr):fr(q(Dr),An)},Gr=function(Dr){var An=P(Dr),cn=A(pn,this,An);return this===Et&&E(Kn,An)&&!E(Zn,An)?!1:cn||!E(this,An)||!E(Kn,An)||E(this,et)&&this[et][An]?cn:!0},Ln=function(Dr,An){var cn=j(Dr),Pn=P(An);if(!(cn===Et&&E(Kn,Pn)&&!E(Zn,Pn))){var li=wn(cn,Pn);return li&&E(Kn,Pn)&&!(E(cn,et)&&cn[et][Pn])&&(li.enumerable=!0),li}},ln=function(Dr){var An=dn(j(Dr)),cn=[];return st(An,function(Pn){!E(Kn,Pn)&&!E(ue,Pn)&&mn(cn,Pn)}),cn},Jn=function(en){var Dr=en===Et,An=dn(Dr?Zn:j(en)),cn=[];return st(An,function(Pn){E(Kn,Pn)&&(!Dr||E(Et,Pn))&&mn(cn,Kn[Pn])}),cn};x||(Ut=function(){if(T(ir,this))throw new kr("Symbol is not a constructor");var Dr=!arguments.length||arguments[0]===void 0?void 0:U(arguments[0]),An=ye(Dr),cn=function(Pn){var li=this===void 0?f:this;li===Et&&A(cn,Zn,Pn),E(li,et)&&E(li[et],An)&&(li[et][An]=!1);var Ts=W(1,Pn);try{jr(li,An,Ts)}catch(Rs){if(!(Rs instanceof on))throw Rs;Wt(li,An,Ts)}};return y&&ot&&jr(Et,An,{configurable:!0,set:cn}),rr(An,Dr)},ir=Ut[gt],ce(ir,"toString",function(){return Ct(this).tag}),ce(Ut,"withoutSetter",function(en){return rr(ye(en),en)}),xe.f=Gr,ge.f=Ht,se.f=fr,Ee.f=Ln,ie.f=Ae.f=ln,be.f=Jn,He.f=function(en){return rr(Le(en),en)},y&&(Me(ir,"description",{configurable:!0,get:function(){return Ct(this).description}}),v||ce(Et,"propertyIsEnumerable",Gr,{unsafe:!0}))),d({global:!0,constructor:!0,wrap:!0,forced:!x,sham:!x},{Symbol:Ut}),st(re(Li),function(en){Fe(en)}),d({target:We,stat:!0,forced:!x},{useSetter:function(){ot=!0},useSimple:function(){ot=!1}}),d({target:"Object",stat:!0,forced:!x,sham:!y},{create:Hr,defineProperty:Ht,defineProperties:fr,getOwnPropertyDescriptor:Ln}),d({target:"Object",stat:!0,forced:!x},{getOwnPropertyNames:ln}),At(),pt(Ut,We),ue[et]=!0}),"./node_modules/core-js/modules/es.symbol.description.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/descriptors.js"),A=l("./node_modules/core-js/internals/global-this.js"),p=l("./node_modules/core-js/internals/function-uncurry-this.js"),v=l("./node_modules/core-js/internals/has-own-property.js"),y=l("./node_modules/core-js/internals/is-callable.js"),x=l("./node_modules/core-js/internals/object-is-prototype-of.js"),w=l("./node_modules/core-js/internals/to-string.js"),E=l("./node_modules/core-js/internals/define-built-in-accessor.js"),T=l("./node_modules/core-js/internals/copy-constructor-properties.js"),C=A.Symbol,j=C&&C.prototype;if(f&&y(C)&&(!("description"in j)||C().description!==void 0)){var P={},U=function(){var ge=arguments.length<1||arguments[0]===void 0?void 0:w(arguments[0]),se=x(j,this)?new C(ge):ge===void 0?C():C(ge);return ge===""&&(P[se]=!0),se};T(U,C),U.prototype=j,j.constructor=U;var W=String(C("description detection"))==="Symbol(description detection)",q=p(j.valueOf),re=p(j.toString),ie=/^Symbol\((.*)\)[^)]+$/,Ae=p("".replace),be=p("".slice);E(j,"description",{configurable:!0,get:function(){var ge=q(this);if(v(P,ge))return"";var se=re(ge),xe=W?be(se,7,-1):Ae(se,ie,"$1");return xe===""?void 0:xe}}),d({global:!0,constructor:!0,forced:!0},{Symbol:U})}}),"./node_modules/core-js/modules/es.symbol.for.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/get-built-in.js"),A=l("./node_modules/core-js/internals/has-own-property.js"),p=l("./node_modules/core-js/internals/to-string.js"),v=l("./node_modules/core-js/internals/shared.js"),y=l("./node_modules/core-js/internals/symbol-registry-detection.js"),x=v("string-to-symbol-registry"),w=v("symbol-to-string-registry");d({target:"Symbol",stat:!0,forced:!y},{for:function(E){var T=p(E);if(A(x,T))return x[T];var C=f("Symbol")(T);return x[T]=C,w[C]=T,C}})}),"./node_modules/core-js/modules/es.symbol.iterator.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/well-known-symbol-define.js");d("iterator")}),"./node_modules/core-js/modules/es.symbol.js":(function(c,u,l){l("./node_modules/core-js/modules/es.symbol.constructor.js"),l("./node_modules/core-js/modules/es.symbol.for.js"),l("./node_modules/core-js/modules/es.symbol.key-for.js"),l("./node_modules/core-js/modules/es.json.stringify.js"),l("./node_modules/core-js/modules/es.object.get-own-property-symbols.js")}),"./node_modules/core-js/modules/es.symbol.key-for.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/has-own-property.js"),A=l("./node_modules/core-js/internals/is-symbol.js"),p=l("./node_modules/core-js/internals/try-to-string.js"),v=l("./node_modules/core-js/internals/shared.js"),y=l("./node_modules/core-js/internals/symbol-registry-detection.js"),x=v("symbol-to-string-registry");d({target:"Symbol",stat:!0,forced:!y},{keyFor:function(E){if(!A(E))throw new TypeError(p(E)+" is not a symbol");if(f(x,E))return x[E]}})}),"./node_modules/core-js/modules/esnext.iterator.constructor.js":(function(c,u,l){l("./node_modules/core-js/modules/es.iterator.constructor.js")}),"./node_modules/core-js/modules/esnext.iterator.for-each.js":(function(c,u,l){l("./node_modules/core-js/modules/es.iterator.for-each.js")}),"./node_modules/core-js/modules/esnext.iterator.map.js":(function(c,u,l){l("./node_modules/core-js/modules/es.iterator.map.js")}),"./node_modules/core-js/modules/esnext.set.add-all.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/a-set.js"),A=l("./node_modules/core-js/internals/set-helpers.js").add;d({target:"Set",proto:!0,real:!0,forced:!0},{addAll:function(){for(var v=f(this),y=0,x=arguments.length;y<x;y++)A(v,arguments[y]);return v}})}),"./node_modules/core-js/modules/esnext.set.delete-all.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/a-set.js"),A=l("./node_modules/core-js/internals/set-helpers.js").remove;d({target:"Set",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var v=f(this),y=!0,x,w=0,E=arguments.length;w<E;w++)x=A(v,arguments[w]),y=y&&x;return!!y}})}),"./node_modules/core-js/modules/esnext.set.difference.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/function-call.js"),A=l("./node_modules/core-js/internals/to-set-like.js"),p=l("./node_modules/core-js/internals/set-difference.js");d({target:"Set",proto:!0,real:!0,forced:!0},{difference:function(y){return f(p,this,A(y))}})}),"./node_modules/core-js/modules/esnext.set.every.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/function-bind-context.js"),A=l("./node_modules/core-js/internals/a-set.js"),p=l("./node_modules/core-js/internals/set-iterate.js");d({target:"Set",proto:!0,real:!0,forced:!0},{every:function(y){var x=A(this),w=f(y,arguments.length>1?arguments[1]:void 0);return p(x,function(E){if(!w(E,E,x))return!1},!0)!==!1}})}),"./node_modules/core-js/modules/esnext.set.filter.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/function-bind-context.js"),A=l("./node_modules/core-js/internals/a-set.js"),p=l("./node_modules/core-js/internals/set-helpers.js"),v=l("./node_modules/core-js/internals/set-iterate.js"),y=p.Set,x=p.add;d({target:"Set",proto:!0,real:!0,forced:!0},{filter:function(E){var T=A(this),C=f(E,arguments.length>1?arguments[1]:void 0),j=new y;return v(T,function(P){C(P,P,T)&&x(j,P)}),j}})}),"./node_modules/core-js/modules/esnext.set.find.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/function-bind-context.js"),A=l("./node_modules/core-js/internals/a-set.js"),p=l("./node_modules/core-js/internals/set-iterate.js");d({target:"Set",proto:!0,real:!0,forced:!0},{find:function(y){var x=A(this),w=f(y,arguments.length>1?arguments[1]:void 0),E=p(x,function(T){if(w(T,T,x))return{value:T}},!0);return E&&E.value}})}),"./node_modules/core-js/modules/esnext.set.intersection.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/function-call.js"),A=l("./node_modules/core-js/internals/to-set-like.js"),p=l("./node_modules/core-js/internals/set-intersection.js");d({target:"Set",proto:!0,real:!0,forced:!0},{intersection:function(y){return f(p,this,A(y))}})}),"./node_modules/core-js/modules/esnext.set.is-disjoint-from.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/function-call.js"),A=l("./node_modules/core-js/internals/to-set-like.js"),p=l("./node_modules/core-js/internals/set-is-disjoint-from.js");d({target:"Set",proto:!0,real:!0,forced:!0},{isDisjointFrom:function(y){return f(p,this,A(y))}})}),"./node_modules/core-js/modules/esnext.set.is-subset-of.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/function-call.js"),A=l("./node_modules/core-js/internals/to-set-like.js"),p=l("./node_modules/core-js/internals/set-is-subset-of.js");d({target:"Set",proto:!0,real:!0,forced:!0},{isSubsetOf:function(y){return f(p,this,A(y))}})}),"./node_modules/core-js/modules/esnext.set.is-superset-of.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/function-call.js"),A=l("./node_modules/core-js/internals/to-set-like.js"),p=l("./node_modules/core-js/internals/set-is-superset-of.js");d({target:"Set",proto:!0,real:!0,forced:!0},{isSupersetOf:function(y){return f(p,this,A(y))}})}),"./node_modules/core-js/modules/esnext.set.join.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/function-uncurry-this.js"),A=l("./node_modules/core-js/internals/a-set.js"),p=l("./node_modules/core-js/internals/set-iterate.js"),v=l("./node_modules/core-js/internals/to-string.js"),y=f([].join),x=f([].push);d({target:"Set",proto:!0,real:!0,forced:!0},{join:function(E){var T=A(this),C=E===void 0?",":v(E),j=[];return p(T,function(P){x(j,P)}),y(j,C)}})}),"./node_modules/core-js/modules/esnext.set.map.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/function-bind-context.js"),A=l("./node_modules/core-js/internals/a-set.js"),p=l("./node_modules/core-js/internals/set-helpers.js"),v=l("./node_modules/core-js/internals/set-iterate.js"),y=p.Set,x=p.add;d({target:"Set",proto:!0,real:!0,forced:!0},{map:function(E){var T=A(this),C=f(E,arguments.length>1?arguments[1]:void 0),j=new y;return v(T,function(P){x(j,C(P,P,T))}),j}})}),"./node_modules/core-js/modules/esnext.set.reduce.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/a-callable.js"),A=l("./node_modules/core-js/internals/a-set.js"),p=l("./node_modules/core-js/internals/set-iterate.js"),v=TypeError;d({target:"Set",proto:!0,real:!0,forced:!0},{reduce:function(x){var w=A(this),E=arguments.length<2,T=E?void 0:arguments[1];if(f(x),p(w,function(C){E?(E=!1,T=C):T=x(T,C,C,w)}),E)throw new v("Reduce of empty set with no initial value");return T}})}),"./node_modules/core-js/modules/esnext.set.some.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/function-bind-context.js"),A=l("./node_modules/core-js/internals/a-set.js"),p=l("./node_modules/core-js/internals/set-iterate.js");d({target:"Set",proto:!0,real:!0,forced:!0},{some:function(y){var x=A(this),w=f(y,arguments.length>1?arguments[1]:void 0);return p(x,function(E){if(w(E,E,x))return!0},!0)===!0}})}),"./node_modules/core-js/modules/esnext.set.symmetric-difference.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/function-call.js"),A=l("./node_modules/core-js/internals/to-set-like.js"),p=l("./node_modules/core-js/internals/set-symmetric-difference.js");d({target:"Set",proto:!0,real:!0,forced:!0},{symmetricDifference:function(y){return f(p,this,A(y))}})}),"./node_modules/core-js/modules/esnext.set.union.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/function-call.js"),A=l("./node_modules/core-js/internals/to-set-like.js"),p=l("./node_modules/core-js/internals/set-union.js");d({target:"Set",proto:!0,real:!0,forced:!0},{union:function(y){return f(p,this,A(y))}})}),"./node_modules/core-js/modules/web.dom-collections.for-each.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/global-this.js"),f=l("./node_modules/core-js/internals/dom-iterables.js"),A=l("./node_modules/core-js/internals/dom-token-list-prototype.js"),p=l("./node_modules/core-js/internals/array-for-each.js"),v=l("./node_modules/core-js/internals/create-non-enumerable-property.js"),y=function(w){if(w&&w.forEach!==p)try{v(w,"forEach",p)}catch{w.forEach=p}};for(var x in f)f[x]&&y(d[x]&&d[x].prototype);y(A)}),"./node_modules/core-js/modules/web.dom-collections.iterator.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/global-this.js"),f=l("./node_modules/core-js/internals/dom-iterables.js"),A=l("./node_modules/core-js/internals/dom-token-list-prototype.js"),p=l("./node_modules/core-js/modules/es.array.iterator.js"),v=l("./node_modules/core-js/internals/create-non-enumerable-property.js"),y=l("./node_modules/core-js/internals/set-to-string-tag.js"),x=l("./node_modules/core-js/internals/well-known-symbol.js"),w=x("iterator"),E=p.values,T=function(j,P){if(j){if(j[w]!==E)try{v(j,w,E)}catch{j[w]=E}if(y(j,P,!0),f[P]){for(var U in p)if(j[U]!==p[U])try{v(j,U,p[U])}catch{j[U]=p[U]}}}};for(var C in f)T(d[C]&&d[C].prototype,C);T(A,"DOMTokenList")}),"./node_modules/core-js/modules/web.set-interval.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/global-this.js"),A=l("./node_modules/core-js/internals/schedulers-fix.js"),p=A(f.setInterval,!0);d({global:!0,bind:!0,forced:f.setInterval!==p},{setInterval:p})}),"./node_modules/core-js/modules/web.set-timeout.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/global-this.js"),A=l("./node_modules/core-js/internals/schedulers-fix.js"),p=A(f.setTimeout,!0);d({global:!0,bind:!0,forced:f.setTimeout!==p},{setTimeout:p})}),"./node_modules/core-js/modules/web.timers.js":(function(c,u,l){l("./node_modules/core-js/modules/web.set-interval.js"),l("./node_modules/core-js/modules/web.set-timeout.js")}),"./node_modules/dompurify/dist/purify.es.mjs":(function(c,u,l){l.r(u),l.d(u,{default:function(){return Wt}});const{entries:d,setPrototypeOf:f,isFrozen:A,getPrototypeOf:p,getOwnPropertyDescriptor:v}=Object;let{freeze:y,seal:x,create:w}=Object,{apply:E,construct:T}=typeof Reflect<"u"&&Reflect;y||(y=function(rr){return rr}),x||(x=function(rr){return rr}),E||(E=function(rr,Ht){for(var fr=arguments.length,Hr=new Array(fr>2?fr-2:0),Gr=2;Gr<fr;Gr++)Hr[Gr-2]=arguments[Gr];return rr.apply(Ht,Hr)}),T||(T=function(rr){for(var Ht=arguments.length,fr=new Array(Ht>1?Ht-1:0),Hr=1;Hr<Ht;Hr++)fr[Hr-1]=arguments[Hr];return new rr(...fr)});const C=ce(Array.prototype.forEach),j=ce(Array.prototype.lastIndexOf),P=ce(Array.prototype.pop),U=ce(Array.prototype.push),W=ce(Array.prototype.splice),q=ce(String.prototype.toLowerCase),re=ce(String.prototype.toString),ie=ce(String.prototype.match),Ae=ce(String.prototype.replace),be=ce(String.prototype.indexOf),Ee=ce(String.prototype.trim),ge=ce(Object.prototype.hasOwnProperty),se=ce(RegExp.prototype.test),xe=Me(TypeError);function ce(jr){return function(rr){rr instanceof RegExp&&(rr.lastIndex=0);for(var Ht=arguments.length,fr=new Array(Ht>1?Ht-1:0),Hr=1;Hr<Ht;Hr++)fr[Hr-1]=arguments[Hr];return E(jr,rr,fr)}}function Me(jr){return function(){for(var rr=arguments.length,Ht=new Array(rr),fr=0;fr<rr;fr++)Ht[fr]=arguments[fr];return T(jr,Ht)}}function Oe(jr,rr){let Ht=arguments.length>2&&arguments[2]!==void 0?arguments[2]:q;f&&f(jr,null);let fr=rr.length;for(;fr--;){let Hr=rr[fr];if(typeof Hr=="string"){const Gr=Ht(Hr);Gr!==Hr&&(A(rr)||(rr[fr]=Gr),Hr=Gr)}jr[Hr]=!0}return jr}function we(jr){for(let rr=0;rr<jr.length;rr++)ge(jr,rr)||(jr[rr]=null);return jr}function ue(jr){const rr=w(null);for(const[Ht,fr]of d(jr))ge(jr,Ht)&&(Array.isArray(fr)?rr[Ht]=we(fr):fr&&typeof fr=="object"&&fr.constructor===Object?rr[Ht]=ue(fr):rr[Ht]=fr);return rr}function ye(jr,rr){for(;jr!==null;){const fr=v(jr,rr);if(fr){if(fr.get)return ce(fr.get);if(typeof fr.value=="function")return ce(fr.value)}jr=p(jr)}function Ht(){return null}return Ht}const Le=y(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),He=y(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Fe=y(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),At=y(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),pt=y(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Pe=y(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),st=y(["#text"]),et=y(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),We=y(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),gt=y(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ge=y(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Ct=x(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Et=x(/<%[\w\W]*|[\w\W]*%>/gm),Ut=x(/\$\{[\w\W]*/gm),ir=x(/^data-[\-\w.\u00B7-\uFFFF]+$/),on=x(/^aria-[\-\w]+$/),kr=x(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),rn=x(/^(?:\w+script|data):/i),wn=x(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Mn=x(/^html$/i),dn=x(/^[a-z][.\w]*(-[.\w]+)+$/i);var pn=Object.freeze({__proto__:null,ARIA_ATTR:on,ATTR_WHITESPACE:wn,CUSTOM_ELEMENT:dn,DATA_ATTR:ir,DOCTYPE_NAME:Mn,ERB_EXPR:Et,IS_ALLOWED_URI:kr,IS_SCRIPT_OR_DATA:rn,MUSTACHE_EXPR:Ct,TMPLIT_EXPR:Ut});const mn={element:1,text:3,progressingInstruction:7,comment:8,document:9},Kn=function(){return typeof window>"u"?null:window},Zn=function(rr,Ht){if(typeof rr!="object"||typeof rr.createPolicy!="function")return null;let fr=null;const Hr="data-tt-policy-suffix";Ht&&Ht.hasAttribute(Hr)&&(fr=Ht.getAttribute(Hr));const Gr="dompurify"+(fr?"#"+fr:"");try{return rr.createPolicy(Gr,{createHTML(Ln){return Ln},createScriptURL(Ln){return Ln}})}catch{return console.warn("TrustedTypes policy "+Gr+" could not be created."),null}},Li=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function ot(){let jr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Kn();const rr=kt=>ot(kt);if(rr.version="3.3.1",rr.removed=[],!jr||!jr.document||jr.document.nodeType!==mn.document||!jr.Element)return rr.isSupported=!1,rr;let{document:Ht}=jr;const fr=Ht,Hr=fr.currentScript,{DocumentFragment:Gr,HTMLTemplateElement:Ln,Node:ln,Element:Jn,NodeFilter:en,NamedNodeMap:Dr=jr.NamedNodeMap||jr.MozNamedAttrMap,HTMLFormElement:An,DOMParser:cn,trustedTypes:Pn}=jr,li=Jn.prototype,Ts=ye(li,"cloneNode"),Rs=ye(li,"remove"),Cs=ye(li,"nextSibling"),ei=ye(li,"childNodes"),nn=ye(li,"parentNode");if(typeof Ln=="function"){const kt=Ht.createElement("template");kt.content&&kt.content.ownerDocument&&(Ht=kt.content.ownerDocument)}let ss,ea="";const{implementation:En,createNodeIterator:Tn,createDocumentFragment:Ds,getElementsByTagName:$s}=Ht,{importNode:Ms}=fr;let rs=Li();rr.isSupported=typeof d=="function"&&typeof nn=="function"&&En&&En.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Ys,ERB_EXPR:Os,TMPLIT_EXPR:Qa,DATA_ATTR:ds,ARIA_ATTR:yu,IS_SCRIPT_OR_DATA:to,ATTR_WHITESPACE:Ml,CUSTOM_ELEMENT:tu}=pn;let{IS_ALLOWED_URI:ml}=pn,ta=null;const Ya=Oe({},[...Le,...He,...Fe,...pt,...st]);let Gs=null;const ba=Oe({},[...et,...We,...gt,...Ge]);let Fs=Object.seal(w(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),kl=null,po=null;const ro=Object.seal(w(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let pl=!0,Fl=!0,fc=!1,Hs=!0,ci=!1,js=!0,Ta=!1,Va=!1,Ca=!1,gi=!1,Xn=!1,hs=!1,wa=!0,Ho=!1;const Hi="user-content-";let Qo=!0,Ea=!1,qs={},fs=null;const So=Oe({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let za=null;const Qs=Oe({},["audio","video","img","source","image","track"]);let qa=null;const go=Oe({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),no="http://www.w3.org/1998/Math/MathML",Vo="http://www.w3.org/2000/svg",$t="http://www.w3.org/1999/xhtml";let V=$t,ne=!1,oe=null;const F=Oe({},[no,Vo,$t],re);let z=Oe({},["mi","mo","mn","ms","mtext"]),te=Oe({},["annotation-xml"]);const he=Oe({},["title","style","font","a","script"]);let Te=null;const Ue=["application/xhtml+xml","text/html"],ct="text/html";let B=null,N=null;const D=Ht.createElement("form"),K=function(tt){return tt instanceof RegExp||tt instanceof Function},X=function(){let tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(N&&N===tt)){if((!tt||typeof tt!="object")&&(tt={}),tt=ue(tt),Te=Ue.indexOf(tt.PARSER_MEDIA_TYPE)===-1?ct:tt.PARSER_MEDIA_TYPE,B=Te==="application/xhtml+xml"?re:q,ta=ge(tt,"ALLOWED_TAGS")?Oe({},tt.ALLOWED_TAGS,B):Ya,Gs=ge(tt,"ALLOWED_ATTR")?Oe({},tt.ALLOWED_ATTR,B):ba,oe=ge(tt,"ALLOWED_NAMESPACES")?Oe({},tt.ALLOWED_NAMESPACES,re):F,qa=ge(tt,"ADD_URI_SAFE_ATTR")?Oe(ue(go),tt.ADD_URI_SAFE_ATTR,B):go,za=ge(tt,"ADD_DATA_URI_TAGS")?Oe(ue(Qs),tt.ADD_DATA_URI_TAGS,B):Qs,fs=ge(tt,"FORBID_CONTENTS")?Oe({},tt.FORBID_CONTENTS,B):So,kl=ge(tt,"FORBID_TAGS")?Oe({},tt.FORBID_TAGS,B):ue({}),po=ge(tt,"FORBID_ATTR")?Oe({},tt.FORBID_ATTR,B):ue({}),qs=ge(tt,"USE_PROFILES")?tt.USE_PROFILES:!1,pl=tt.ALLOW_ARIA_ATTR!==!1,Fl=tt.ALLOW_DATA_ATTR!==!1,fc=tt.ALLOW_UNKNOWN_PROTOCOLS||!1,Hs=tt.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ci=tt.SAFE_FOR_TEMPLATES||!1,js=tt.SAFE_FOR_XML!==!1,Ta=tt.WHOLE_DOCUMENT||!1,gi=tt.RETURN_DOM||!1,Xn=tt.RETURN_DOM_FRAGMENT||!1,hs=tt.RETURN_TRUSTED_TYPE||!1,Ca=tt.FORCE_BODY||!1,wa=tt.SANITIZE_DOM!==!1,Ho=tt.SANITIZE_NAMED_PROPS||!1,Qo=tt.KEEP_CONTENT!==!1,Ea=tt.IN_PLACE||!1,ml=tt.ALLOWED_URI_REGEXP||kr,V=tt.NAMESPACE||$t,z=tt.MATHML_TEXT_INTEGRATION_POINTS||z,te=tt.HTML_INTEGRATION_POINTS||te,Fs=tt.CUSTOM_ELEMENT_HANDLING||{},tt.CUSTOM_ELEMENT_HANDLING&&K(tt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Fs.tagNameCheck=tt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),tt.CUSTOM_ELEMENT_HANDLING&&K(tt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Fs.attributeNameCheck=tt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),tt.CUSTOM_ELEMENT_HANDLING&&typeof tt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Fs.allowCustomizedBuiltInElements=tt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ci&&(Fl=!1),Xn&&(gi=!0),qs&&(ta=Oe({},st),Gs=[],qs.html===!0&&(Oe(ta,Le),Oe(Gs,et)),qs.svg===!0&&(Oe(ta,He),Oe(Gs,We),Oe(Gs,Ge)),qs.svgFilters===!0&&(Oe(ta,Fe),Oe(Gs,We),Oe(Gs,Ge)),qs.mathMl===!0&&(Oe(ta,pt),Oe(Gs,gt),Oe(Gs,Ge))),tt.ADD_TAGS&&(typeof tt.ADD_TAGS=="function"?ro.tagCheck=tt.ADD_TAGS:(ta===Ya&&(ta=ue(ta)),Oe(ta,tt.ADD_TAGS,B))),tt.ADD_ATTR&&(typeof tt.ADD_ATTR=="function"?ro.attributeCheck=tt.ADD_ATTR:(Gs===ba&&(Gs=ue(Gs)),Oe(Gs,tt.ADD_ATTR,B))),tt.ADD_URI_SAFE_ATTR&&Oe(qa,tt.ADD_URI_SAFE_ATTR,B),tt.FORBID_CONTENTS&&(fs===So&&(fs=ue(fs)),Oe(fs,tt.FORBID_CONTENTS,B)),tt.ADD_FORBID_CONTENTS&&(fs===So&&(fs=ue(fs)),Oe(fs,tt.ADD_FORBID_CONTENTS,B)),Qo&&(ta["#text"]=!0),Ta&&Oe(ta,["html","head","body"]),ta.table&&(Oe(ta,["tbody"]),delete kl.tbody),tt.TRUSTED_TYPES_POLICY){if(typeof tt.TRUSTED_TYPES_POLICY.createHTML!="function")throw xe('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof tt.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw xe('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');ss=tt.TRUSTED_TYPES_POLICY,ea=ss.createHTML("")}else ss===void 0&&(ss=Zn(Pn,Hr)),ss!==null&&typeof ea=="string"&&(ea=ss.createHTML(""));y&&y(tt),N=tt}},ee=Oe({},[...He,...Fe,...At]),ve=Oe({},[...pt,...Pe]),de=function(tt){let Vt=nn(tt);(!Vt||!Vt.tagName)&&(Vt={namespaceURI:V,tagName:"template"});const Er=q(tt.tagName),nr=q(Vt.tagName);return oe[tt.namespaceURI]?tt.namespaceURI===Vo?Vt.namespaceURI===$t?Er==="svg":Vt.namespaceURI===no?Er==="svg"&&(nr==="annotation-xml"||z[nr]):!!ee[Er]:tt.namespaceURI===no?Vt.namespaceURI===$t?Er==="math":Vt.namespaceURI===Vo?Er==="math"&&te[nr]:!!ve[Er]:tt.namespaceURI===$t?Vt.namespaceURI===Vo&&!te[nr]||Vt.namespaceURI===no&&!z[nr]?!1:!ve[Er]&&(he[Er]||!ee[Er]):!!(Te==="application/xhtml+xml"&&oe[tt.namespaceURI]):!1},fe=function(tt){U(rr.removed,{element:tt});try{nn(tt).removeChild(tt)}catch{Rs(tt)}},ke=function(tt,Vt){try{U(rr.removed,{attribute:Vt.getAttributeNode(tt),from:Vt})}catch{U(rr.removed,{attribute:null,from:Vt})}if(Vt.removeAttribute(tt),tt==="is")if(gi||Xn)try{fe(Vt)}catch{}else try{Vt.setAttribute(tt,"")}catch{}},Qe=function(tt){let Vt=null,Er=null;if(Ca)tt="<remove></remove>"+tt;else{const yr=ie(tt,/^[\r\n\t ]+/);Er=yr&&yr[0]}Te==="application/xhtml+xml"&&V===$t&&(tt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+tt+"</body></html>");const nr=ss?ss.createHTML(tt):tt;if(V===$t)try{Vt=new cn().parseFromString(nr,Te)}catch{}if(!Vt||!Vt.documentElement){Vt=En.createDocument(V,"template",null);try{Vt.documentElement.innerHTML=ne?ea:nr}catch{}}const Rt=Vt.body||Vt.documentElement;return tt&&Er&&Rt.insertBefore(Ht.createTextNode(Er),Rt.childNodes[0]||null),V===$t?$s.call(Vt,Ta?"html":"body")[0]:Ta?Vt.documentElement:Rt},Xe=function(tt){return Tn.call(tt.ownerDocument||tt,tt,en.SHOW_ELEMENT|en.SHOW_COMMENT|en.SHOW_TEXT|en.SHOW_PROCESSING_INSTRUCTION|en.SHOW_CDATA_SECTION,null)},lt=function(tt){return tt instanceof An&&(typeof tt.nodeName!="string"||typeof tt.textContent!="string"||typeof tt.removeChild!="function"||!(tt.attributes instanceof Dr)||typeof tt.removeAttribute!="function"||typeof tt.setAttribute!="function"||typeof tt.namespaceURI!="string"||typeof tt.insertBefore!="function"||typeof tt.hasChildNodes!="function")},Ce=function(tt){return typeof ln=="function"&&tt instanceof ln};function _t(kt,tt,Vt){C(kt,Er=>{Er.call(rr,tt,Vt,N)})}const at=function(tt){let Vt=null;if(_t(rs.beforeSanitizeElements,tt,null),lt(tt))return fe(tt),!0;const Er=B(tt.nodeName);if(_t(rs.uponSanitizeElement,tt,{tagName:Er,allowedTags:ta}),js&&tt.hasChildNodes()&&!Ce(tt.firstElementChild)&&se(/<[/\w!]/g,tt.innerHTML)&&se(/<[/\w!]/g,tt.textContent)||tt.nodeType===mn.progressingInstruction||js&&tt.nodeType===mn.comment&&se(/<[/\w]/g,tt.data))return fe(tt),!0;if(!(ro.tagCheck instanceof Function&&ro.tagCheck(Er))&&(!ta[Er]||kl[Er])){if(!kl[Er]&&rt(Er)&&(Fs.tagNameCheck instanceof RegExp&&se(Fs.tagNameCheck,Er)||Fs.tagNameCheck instanceof Function&&Fs.tagNameCheck(Er)))return!1;if(Qo&&!fs[Er]){const nr=nn(tt)||tt.parentNode,Rt=ei(tt)||tt.childNodes;if(Rt&&nr){const yr=Rt.length;for(let it=yr-1;it>=0;--it){const ft=Ts(Rt[it],!0);ft.__removalCount=(tt.__removalCount||0)+1,nr.insertBefore(ft,Cs(tt))}}}return fe(tt),!0}return tt instanceof Jn&&!de(tt)||(Er==="noscript"||Er==="noembed"||Er==="noframes")&&se(/<\/no(script|embed|frames)/i,tt.innerHTML)?(fe(tt),!0):(ci&&tt.nodeType===mn.text&&(Vt=tt.textContent,C([Ys,Os,Qa],nr=>{Vt=Ae(Vt,nr," ")}),tt.textContent!==Vt&&(U(rr.removed,{element:tt.cloneNode()}),tt.textContent=Vt)),_t(rs.afterSanitizeElements,tt,null),!1)},Tt=function(tt,Vt,Er){if(wa&&(Vt==="id"||Vt==="name")&&(Er in Ht||Er in D))return!1;if(!(Fl&&!po[Vt]&&se(ds,Vt))){if(!(pl&&se(yu,Vt))){if(!(ro.attributeCheck instanceof Function&&ro.attributeCheck(Vt,tt))){if(!Gs[Vt]||po[Vt]){if(!(rt(tt)&&(Fs.tagNameCheck instanceof RegExp&&se(Fs.tagNameCheck,tt)||Fs.tagNameCheck instanceof Function&&Fs.tagNameCheck(tt))&&(Fs.attributeNameCheck instanceof RegExp&&se(Fs.attributeNameCheck,Vt)||Fs.attributeNameCheck instanceof Function&&Fs.attributeNameCheck(Vt,tt))||Vt==="is"&&Fs.allowCustomizedBuiltInElements&&(Fs.tagNameCheck instanceof RegExp&&se(Fs.tagNameCheck,Er)||Fs.tagNameCheck instanceof Function&&Fs.tagNameCheck(Er))))return!1}else if(!qa[Vt]){if(!se(ml,Ae(Er,Ml,""))){if(!((Vt==="src"||Vt==="xlink:href"||Vt==="href")&&tt!=="script"&&be(Er,"data:")===0&&za[tt])){if(!(fc&&!se(to,Ae(Er,Ml,"")))){if(Er)return!1}}}}}}}return!0},rt=function(tt){return tt!=="annotation-xml"&&ie(tt,tu)},Bt=function(tt){_t(rs.beforeSanitizeAttributes,tt,null);const{attributes:Vt}=tt;if(!Vt||lt(tt))return;const Er={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Gs,forceKeepAttr:void 0};let nr=Vt.length;for(;nr--;){const Rt=Vt[nr],{name:yr,namespaceURI:it,value:ft}=Rt,Ot=B(yr),Pt=ft;let Ar=yr==="value"?Pt:Ee(Pt);if(Er.attrName=Ot,Er.attrValue=Ar,Er.keepAttr=!0,Er.forceKeepAttr=void 0,_t(rs.uponSanitizeAttribute,tt,Er),Ar=Er.attrValue,Ho&&(Ot==="id"||Ot==="name")&&(ke(yr,tt),Ar=Hi+Ar),js&&se(/((--!?|])>)|<\/(style|title|textarea)/i,Ar)){ke(yr,tt);continue}if(Ot==="attributename"&&ie(Ar,"href")){ke(yr,tt);continue}if(Er.forceKeepAttr)continue;if(!Er.keepAttr){ke(yr,tt);continue}if(!Hs&&se(/\/>/i,Ar)){ke(yr,tt);continue}ci&&C([Ys,Os,Qa],Lr=>{Ar=Ae(Ar,Lr," ")});const Tr=B(tt.nodeName);if(!Tt(Tr,Ot,Ar)){ke(yr,tt);continue}if(ss&&typeof Pn=="object"&&typeof Pn.getAttributeType=="function"&&!it)switch(Pn.getAttributeType(Tr,Ot)){case"TrustedHTML":{Ar=ss.createHTML(Ar);break}case"TrustedScriptURL":{Ar=ss.createScriptURL(Ar);break}}if(Ar!==Pt)try{it?tt.setAttributeNS(it,yr,Ar):tt.setAttribute(yr,Ar),lt(tt)?fe(tt):P(rr.removed)}catch{ke(yr,tt)}}_t(rs.afterSanitizeAttributes,tt,null)},Yt=function kt(tt){let Vt=null;const Er=Xe(tt);for(_t(rs.beforeSanitizeShadowDOM,tt,null);Vt=Er.nextNode();)_t(rs.uponSanitizeShadowNode,Vt,null),at(Vt),Bt(Vt),Vt.content instanceof Gr&&kt(Vt.content);_t(rs.afterSanitizeShadowDOM,tt,null)};return rr.sanitize=function(kt){let tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Vt=null,Er=null,nr=null,Rt=null;if(ne=!kt,ne&&(kt="<!-->"),typeof kt!="string"&&!Ce(kt))if(typeof kt.toString=="function"){if(kt=kt.toString(),typeof kt!="string")throw xe("dirty is not a string, aborting")}else throw xe("toString is not a function");if(!rr.isSupported)return kt;if(Va||X(tt),rr.removed=[],typeof kt=="string"&&(Ea=!1),Ea){if(kt.nodeName){const ft=B(kt.nodeName);if(!ta[ft]||kl[ft])throw xe("root node is forbidden and cannot be sanitized in-place")}}else if(kt instanceof ln)Vt=Qe("<!---->"),Er=Vt.ownerDocument.importNode(kt,!0),Er.nodeType===mn.element&&Er.nodeName==="BODY"||Er.nodeName==="HTML"?Vt=Er:Vt.appendChild(Er);else{if(!gi&&!ci&&!Ta&&kt.indexOf("<")===-1)return ss&&hs?ss.createHTML(kt):kt;if(Vt=Qe(kt),!Vt)return gi?null:hs?ea:""}Vt&&Ca&&fe(Vt.firstChild);const yr=Xe(Ea?kt:Vt);for(;nr=yr.nextNode();)at(nr),Bt(nr),nr.content instanceof Gr&&Yt(nr.content);if(Ea)return kt;if(gi){if(Xn)for(Rt=Ds.call(Vt.ownerDocument);Vt.firstChild;)Rt.appendChild(Vt.firstChild);else Rt=Vt;return(Gs.shadowroot||Gs.shadowrootmode)&&(Rt=Ms.call(fr,Rt,!0)),Rt}let it=Ta?Vt.outerHTML:Vt.innerHTML;return Ta&&ta["!doctype"]&&Vt.ownerDocument&&Vt.ownerDocument.doctype&&Vt.ownerDocument.doctype.name&&se(Mn,Vt.ownerDocument.doctype.name)&&(it="<!DOCTYPE "+Vt.ownerDocument.doctype.name+`>
`+it),ci&&C([Ys,Os,Qa],ft=>{it=Ae(it,ft," ")}),ss&&hs?ss.createHTML(it):it},rr.setConfig=function(){let kt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};X(kt),Va=!0},rr.clearConfig=function(){N=null,Va=!1},rr.isValidAttribute=function(kt,tt,Vt){N||X({});const Er=B(kt),nr=B(tt);return Tt(Er,nr,Vt)},rr.addHook=function(kt,tt){typeof tt=="function"&&U(rs[kt],tt)},rr.removeHook=function(kt,tt){if(tt!==void 0){const Vt=j(rs[kt],tt);return Vt===-1?void 0:W(rs[kt],Vt,1)[0]}return P(rs[kt])},rr.removeHooks=function(kt){rs[kt]=[]},rr.removeAllHooks=function(){rs=Li()},rr}var Wt=ot()}),"./node_modules/fast-png/lib-esm/PngDecoder.js":(function(c,u,l){l.r(u),l.d(u,{default:function(){return E}});var d=l("./node_modules/iobuffer/lib-esm/IOBuffer.js"),f=l("./node_modules/pako/dist/pako.esm.mjs"),A=l("./node_modules/fast-png/lib-esm/helpers/crc.js"),p=l("./node_modules/fast-png/lib-esm/helpers/decodeInterlaceAdam7.js"),v=l("./node_modules/fast-png/lib-esm/helpers/decodeInterlaceNull.js"),y=l("./node_modules/fast-png/lib-esm/helpers/signature.js"),x=l("./node_modules/fast-png/lib-esm/helpers/text.js"),w=l("./node_modules/fast-png/lib-esm/internalTypes.js");class E extends d.IOBuffer{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(j,P={}){super(j);const{checkCrc:U=!1}=P;this._checkCrc=U,this._inflator=new f.Inflate,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=w.CompressionMethod.UNKNOWN,this._filterMethod=w.FilterMethod.UNKNOWN,this._interlaceMethod=w.InterlaceMethod.UNKNOWN,this._colorType=w.ColorType.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for((0,y.checkSignature)(this);!this._end;){const j=this.readUint32(),P=this.readChars(4);this.decodeChunk(j,P)}return this.decodeImage(),this._png}decodeApng(){for((0,y.checkSignature)(this);!this._end;){const j=this.readUint32(),P=this.readChars(4);this.decodeApngChunk(j,P)}return this.decodeApngImage(),this._apng}decodeChunk(j,P){const U=this.offset;switch(P){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(j);break;case"IDAT":this.decodeIDAT(j);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(j);break;case"iCCP":this.decodeiCCP(j);break;case x.textChunkName:(0,x.decodetEXt)(this._png.text,this,j);break;case"pHYs":this.decodepHYs();break;default:this.skip(j);break}if(this.offset-U!==j)throw new Error(`Length mismatch while decoding chunk ${P}`);this._checkCrc?(0,A.checkCrc)(this,j+4,P):this.skip(4)}decodeApngChunk(j,P){const U=this.offset;switch(P!=="fdAT"&&P!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),P){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(j);break;default:this.decodeChunk(j,P),this.offset=U+j;break}if(this.offset-U!==j)throw new Error(`Length mismatch while decoding chunk ${P}`);this._checkCrc?(0,A.checkCrc)(this,j+4,P):this.skip(4)}decodeIHDR(){const j=this._png;j.width=this.readUint32(),j.height=this.readUint32(),j.depth=T(this.readUint8());const P=this.readUint8();this._colorType=P;let U;switch(P){case w.ColorType.GREYSCALE:U=1;break;case w.ColorType.TRUECOLOUR:U=3;break;case w.ColorType.INDEXED_COLOUR:U=1;break;case w.ColorType.GREYSCALE_ALPHA:U=2;break;case w.ColorType.TRUECOLOUR_ALPHA:U=4;break;case w.ColorType.UNKNOWN:default:throw new Error(`Unknown color type: ${P}`)}if(this._png.channels=U,this._compressionMethod=this.readUint8(),this._compressionMethod!==w.CompressionMethod.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const j={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(j)}decodePLTE(j){if(j%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${j}`);const P=j/3;this._hasPalette=!0;const U=[];this._palette=U;for(let W=0;W<P;W++)U.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(j){this._writingDataChunks=!0;const P=j,U=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,U,P)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(j)}decodeFDAT(j){this._writingDataChunks=!0;let P=j,U=this.offset+this.byteOffset;if(U+=4,P-=4,this._inflator.push(new Uint8Array(this.buffer,U,P)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(j)}decodetRNS(j){switch(this._colorType){case w.ColorType.GREYSCALE:case w.ColorType.TRUECOLOUR:{if(j%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${j}`);if(j/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${j/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(j/2);for(let P=0;P<j/2;P++)this._transparency[P]=this.readUint16();break}case w.ColorType.INDEXED_COLOUR:{if(j>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${j} vs ${this._palette.length})`);let P=0;for(;P<j;P++){const U=this.readByte();this._palette[P].push(U)}for(;P<this._palette.length;P++)this._palette[P].push(255);break}case w.ColorType.UNKNOWN:case w.ColorType.GREYSCALE_ALPHA:case w.ColorType.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(j){const P=(0,x.readKeyword)(this),U=this.readUint8();if(U!==w.CompressionMethod.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${U}`);const W=this.readBytes(j-P.length-2);this._png.iccEmbeddedProfile={name:P,profile:(0,f.inflate)(W)}}decodepHYs(){const j=this.readUint32(),P=this.readUint32(),U=this.readByte();this._png.resolution={x:j,y:P,unit:U}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let j=0;j<this._numberOfFrames;j++){const P={sequenceNumber:this._frames[j].sequenceNumber,delayNumber:this._frames[j].delayNumber,delayDenominator:this._frames[j].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},U=this._frames.at(j);if(U){if(U.data=(0,v.decodeInterlaceNull)({data:U.data,width:U.width,height:U.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),j===0||U.xOffset===0&&U.yOffset===0&&U.width===this._png.width&&U.height===this._png.height)P.data=U.data;else{const W=this._apng.frames.at(j-1);this.disposeFrame(U,W,P),this.addFrameDataToCanvas(P,U)}this._apng.frames.push(P)}}return this._apng}disposeFrame(j,P,U){switch(j.disposeOp){case w.DisposeOpType.NONE:break;case w.DisposeOpType.BACKGROUND:for(let W=0;W<this._png.height;W++)for(let q=0;q<this._png.width;q++){const re=(W*j.width+q)*this._png.channels;for(let ie=0;ie<this._png.channels;ie++)U.data[re+ie]=0}break;case w.DisposeOpType.PREVIOUS:U.data.set(P.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(j,P){const U=1<<this._png.depth,W=(q,re)=>{const ie=((q+P.yOffset)*this._png.width+P.xOffset+re)*this._png.channels,Ae=(q*P.width+re)*this._png.channels;return{index:ie,frameIndex:Ae}};switch(P.blendOp){case w.BlendOpType.SOURCE:for(let q=0;q<P.height;q++)for(let re=0;re<P.width;re++){const{index:ie,frameIndex:Ae}=W(q,re);for(let be=0;be<this._png.channels;be++)j.data[ie+be]=P.data[Ae+be]}break;case w.BlendOpType.OVER:for(let q=0;q<P.height;q++)for(let re=0;re<P.width;re++){const{index:ie,frameIndex:Ae}=W(q,re);for(let be=0;be<this._png.channels;be++){const Ee=P.data[Ae+this._png.channels-1]/U,ge=be%(this._png.channels-1)===0?1:P.data[Ae+be],se=Math.floor(Ee*ge+(1-Ee)*j.data[ie+be]);j.data[ie+be]+=se}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const j=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==w.FilterMethod.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===w.InterlaceMethod.NO_INTERLACE)this._png.data=(0,v.decodeInterlaceNull)({data:j,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===w.InterlaceMethod.ADAM7)this._png.data=(0,p.decodeInterlaceAdam7)({data:j,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const j=this._inflator.result,P=this._frames.at(-1);P?P.data=j:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:w.DisposeOpType.NONE,blendOp:w.BlendOpType.SOURCE,data:j}),this._inflator=new f.Inflate,this._writingDataChunks=!1}}function T(C){if(C!==1&&C!==2&&C!==4&&C!==8&&C!==16)throw new Error(`invalid bit depth: ${C}`);return C}}),"./node_modules/fast-png/lib-esm/PngEncoder.js":(function(c,u,l){l.r(u),l.d(u,{default:function(){return w}});var d=l("./node_modules/iobuffer/lib-esm/IOBuffer.js"),f=l("./node_modules/pako/dist/pako.esm.mjs"),A=l("./node_modules/fast-png/lib-esm/helpers/crc.js"),p=l("./node_modules/fast-png/lib-esm/helpers/signature.js"),v=l("./node_modules/fast-png/lib-esm/helpers/text.js"),y=l("./node_modules/fast-png/lib-esm/internalTypes.js");const x={level:3};class w extends d.IOBuffer{_png;_zlibOptions;_colorType;_interlaceMethod;constructor(W,q={}){super(),this._colorType=y.ColorType.UNKNOWN,this._zlibOptions={...x,...q.zlib},this._png=this._checkData(W),this._interlaceMethod=(q.interlace==="Adam7"?y.InterlaceMethod.ADAM7:y.InterlaceMethod.NO_INTERLACE)??y.InterlaceMethod.NO_INTERLACE,this.setBigEndian()}encode(){if((0,p.writeSignature)(this),this.encodeIHDR(),this._png.palette&&(this.encodePLTE(),this._png.palette[0].length===4&&this.encodeTRNS()),this.encodeData(),this._png.text)for(const[W,q]of Object.entries(this._png.text))(0,v.encodetEXt)(this,W,q);return this.encodeIEND(),this.toArray()}encodeIHDR(){this.writeUint32(13),this.writeChars("IHDR"),this.writeUint32(this._png.width),this.writeUint32(this._png.height),this.writeByte(this._png.depth),this.writeByte(this._colorType),this.writeByte(y.CompressionMethod.DEFLATE),this.writeByte(y.FilterMethod.ADAPTIVE),this.writeByte(this._interlaceMethod),(0,A.writeCrc)(this,17)}encodeIEND(){this.writeUint32(0),this.writeChars("IEND"),(0,A.writeCrc)(this,4)}encodePLTE(){const W=this._png.palette?.length*3;this.writeUint32(W),this.writeChars("PLTE");for(const q of this._png.palette)this.writeByte(q[0]),this.writeByte(q[1]),this.writeByte(q[2]);(0,A.writeCrc)(this,4+W)}encodeTRNS(){const W=this._png.palette.filter(q=>q.at(-1)!==255);this.writeUint32(W.length),this.writeChars("tRNS");for(const q of W)this.writeByte(q.at(-1));(0,A.writeCrc)(this,4+W.length)}encodeIDAT(W){this.writeUint32(W.length),this.writeChars("IDAT"),this.writeBytes(W),(0,A.writeCrc)(this,W.length+4)}encodeData(){const{width:W,height:q,channels:re,depth:ie,data:Ae}=this._png,be=ie<=8?Math.ceil(W*ie/8)*re:Math.ceil(W*ie/8*re/2),Ee=new d.IOBuffer().setBigEndian();let ge=0;if(this._interlaceMethod===y.InterlaceMethod.NO_INTERLACE)for(let ce=0;ce<q;ce++)Ee.writeByte(0),ie===16?ge=P(Ae,Ee,be,ge):ge=C(Ae,Ee,be,ge);else this._interlaceMethod===y.InterlaceMethod.ADAM7&&(ge=j(this._png,Ae,Ee,ge));const se=Ee.toArray(),xe=(0,f.deflate)(se,this._zlibOptions);this.encodeIDAT(xe)}_checkData(W){const{colorType:q,channels:re,depth:ie}=T(W,W.palette),Ae={width:E(W.width,"width"),height:E(W.height,"height"),channels:re,data:W.data,depth:ie,text:W.text,palette:W.palette};this._colorType=q;const be=ie<8?Math.ceil(Ae.width*ie/8)*Ae.height*re:Ae.width*Ae.height*re;if(Ae.data.length!==be)throw new RangeError(`wrong data size. Found ${Ae.data.length}, expected ${be}`);return Ae}}function E(U,W){if(Number.isInteger(U)&&U>0)return U;throw new TypeError(`${W} must be a positive integer`)}function T(U,W){const{channels:q=4,depth:re=8}=U;if(q!==4&&q!==3&&q!==2&&q!==1)throw new RangeError(`unsupported number of channels: ${q}`);const ie={channels:q,depth:re,colorType:y.ColorType.UNKNOWN};switch(q){case 4:ie.colorType=y.ColorType.TRUECOLOUR_ALPHA;break;case 3:ie.colorType=y.ColorType.TRUECOLOUR;break;case 1:W?ie.colorType=y.ColorType.INDEXED_COLOUR:ie.colorType=y.ColorType.GREYSCALE;break;case 2:ie.colorType=y.ColorType.GREYSCALE_ALPHA;break;default:throw new Error("unsupported number of channels")}return ie}function C(U,W,q,re){for(let ie=0;ie<q;ie++)W.writeByte(U[re++]);return re}function j(U,W,q,re){const ie=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],{width:Ae,height:be,channels:Ee,depth:ge}=U;let se=0;ge===16?se=Ee*ge/8/2:se=Ee*ge/8;for(let xe=0;xe<7;xe++){const ce=ie[xe],Me=Math.floor((Ae-ce.x+ce.xStep-1)/ce.xStep),Oe=Math.floor((be-ce.y+ce.yStep-1)/ce.yStep);if(Me<=0||Oe<=0)continue;const we=Me*se;for(let ue=0;ue<Oe;ue++){const ye=ce.y+ue*ce.yStep,Le=ge<=8?new Uint8Array(we):new Uint16Array(we);let He=0;for(let Fe=0;Fe<Me;Fe++){const At=ce.x+Fe*ce.xStep;if(At<Ae&&ye<be){const pt=(ye*Ae+At)*se;for(let Pe=0;Pe<se;Pe++)Le[He++]=W[pt+Pe]}}if(q.writeByte(0),ge===8)q.writeBytes(Le);else if(ge===16)for(const Fe of Le)q.writeByte(Fe>>8&255),q.writeByte(Fe&255)}}return re}function P(U,W,q,re){for(let ie=0;ie<q;ie++)W.writeUint16(U[re++]);return re}}),"./node_modules/fast-png/lib-esm/convertIndexedToRgb.js":(function(c,u,l){l.r(u),l.d(u,{convertIndexedToRgb:function(){return d}});function d(A){const p=A.palette,v=A.depth;if(!p)throw new Error("Color palette is undefined.");f(A);const y=A.width*A.height,x=y*p[0].length,w=new Uint8Array(x);let E=0,T=0;const C=new Uint8Array(y);let j=255;switch(v){case 1:j=128;break;case 2:j=192;break;case 4:j=240;break;case 8:j=255;break;default:throw new Error("Incorrect depth value")}for(const P of A.data){let U=j,W=8;for(;U&&(W-=v,C[E++]=(P&U)>>W,U=U>>v,E%A.width!==0););}if(A.palette)for(const P of C){const U=A.palette.at(P);if(!U)throw new Error("Incorrect index of palette color");w.set(U,T),T+=U.length}return w}function f(A){const p=A.depth<8?Math.ceil(A.width*A.depth/8)*A.height*A.channels:A.width*A.height*A.channels;if(A.data.length!==p)throw new RangeError(`wrong data size. Found ${A.data.length}, expected ${p}`)}}),"./node_modules/fast-png/lib-esm/helpers/applyUnfilter.js":(function(c,u,l){l.r(u),l.d(u,{applyUnfilter:function(){return f}});var d=l("./node_modules/fast-png/lib-esm/helpers/unfilter.js");function f(A,p,v,y,x,w){switch(A){case 0:(0,d.unfilterNone)(p,v,x);break;case 1:(0,d.unfilterSub)(p,v,x,w);break;case 2:(0,d.unfilterUp)(p,v,y,x);break;case 3:(0,d.unfilterAverage)(p,v,y,x,w);break;case 4:(0,d.unfilterPaeth)(p,v,y,x,w);break;default:throw new Error(`Unsupported filter: ${A}`)}}}),"./node_modules/fast-png/lib-esm/helpers/crc.js":(function(c,u,l){l.r(u),l.d(u,{checkCrc:function(){return v},writeCrc:function(){return y}});const d=[];for(let x=0;x<256;x++){let w=x;for(let E=0;E<8;E++)w&1?w=3988292384^w>>>1:w=w>>>1;d[x]=w}const f=4294967295;function A(x,w,E){let T=x;for(let C=0;C<E;C++)T=d[(T^w[C])&255]^T>>>8;return T}function p(x,w){return(A(f,x,w)^f)>>>0}function v(x,w,E){const T=x.readUint32(),C=p(new Uint8Array(x.buffer,x.byteOffset+x.offset-w-4,w),w);if(C!==T)throw new Error(`CRC mismatch for chunk ${E}. Expected ${T}, found ${C}`)}function y(x,w){x.writeUint32(p(new Uint8Array(x.buffer,x.byteOffset+x.offset-w,w),w))}}),"./node_modules/fast-png/lib-esm/helpers/decodeInterlaceAdam7.js":(function(c,u,l){l.r(u),l.d(u,{decodeInterlaceAdam7:function(){return v}});var d=l("./node_modules/fast-png/lib-esm/helpers/applyUnfilter.js");const f=new Uint16Array([255]),p=new Uint8Array(f.buffer)[0]===255;function v(x){const{data:w,width:E,height:T,channels:C,depth:j}=x,P=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],U=Math.ceil(j/8)*C,W=new Uint8Array(T*E*U);let q=0;for(let re=0;re<7;re++){const ie=P[re],Ae=Math.ceil((E-ie.x)/ie.xStep),be=Math.ceil((T-ie.y)/ie.yStep);if(Ae<=0||be<=0)continue;const Ee=Ae*U,ge=new Uint8Array(Ee);for(let se=0;se<be;se++){const xe=w[q++],ce=w.subarray(q,q+Ee);q+=Ee;const Me=new Uint8Array(Ee);(0,d.applyUnfilter)(xe,ce,Me,ge,Ee,U),ge.set(Me);for(let Oe=0;Oe<Ae;Oe++){const we=ie.x+Oe*ie.xStep,ue=ie.y+se*ie.yStep;if(!(we>=E||ue>=T))for(let ye=0;ye<U;ye++)W[(ue*E+we)*U+ye]=Me[Oe*U+ye]}}}if(j===16){const re=new Uint16Array(W.buffer);if(p)for(let ie=0;ie<re.length;ie++)re[ie]=y(re[ie]);return re}else return W}function y(x){return(x&255)<<8|x>>8&255}}),"./node_modules/fast-png/lib-esm/helpers/decodeInterlaceNull.js":(function(c,u,l){l.r(u),l.d(u,{decodeInterlaceNull:function(){return y}});var d=l("./node_modules/fast-png/lib-esm/helpers/unfilter.js");const f=new Uint16Array([255]),p=new Uint8Array(f.buffer)[0]===255,v=new Uint8Array(0);function y(w){const{data:E,width:T,height:C,channels:j,depth:P}=w,U=Math.ceil(P/8)*j,W=Math.ceil(P/8*j*T),q=new Uint8Array(C*W);let re=v,ie=0,Ae,be;for(let Ee=0;Ee<C;Ee++){switch(Ae=E.subarray(ie+1,ie+1+W),be=q.subarray(Ee*W,(Ee+1)*W),E[ie]){case 0:(0,d.unfilterNone)(Ae,be,W);break;case 1:(0,d.unfilterSub)(Ae,be,W,U);break;case 2:(0,d.unfilterUp)(Ae,be,re,W);break;case 3:(0,d.unfilterAverage)(Ae,be,re,W,U);break;case 4:(0,d.unfilterPaeth)(Ae,be,re,W,U);break;default:throw new Error(`Unsupported filter: ${E[ie]}`)}re=be,ie+=W+1}if(P===16){const Ee=new Uint16Array(q.buffer);if(p)for(let ge=0;ge<Ee.length;ge++)Ee[ge]=x(Ee[ge]);return Ee}else return q}function x(w){return(w&255)<<8|w>>8&255}}),"./node_modules/fast-png/lib-esm/helpers/signature.js":(function(c,u,l){l.r(u),l.d(u,{checkSignature:function(){return A},hasPngSignature:function(){return p},writeSignature:function(){return f}});const d=Uint8Array.of(137,80,78,71,13,10,26,10);function f(v){v.writeBytes(d)}function A(v){if(!p(v.readBytes(d.length)))throw new Error("wrong PNG signature")}function p(v){if(v.length<d.length)return!1;for(let y=0;y<d.length;y++)if(v[y]!==d[y])return!1;return!0}}),"./node_modules/fast-png/lib-esm/helpers/text.js":(function(c,u,l){l.r(u),l.d(u,{decodetEXt:function(){return w},encodetEXt:function(){return E},readKeyword:function(){return T},readLatin1:function(){return C},textChunkName:function(){return f}});var d=l("./node_modules/fast-png/lib-esm/helpers/crc.js");const f="tEXt",A=0,p=new TextDecoder("latin1");function v(j){if(x(j),j.length===0||j.length>79)throw new Error("keyword length must be between 1 and 79")}const y=/^[\u0000-\u00FF]*$/;function x(j){if(!y.test(j))throw new Error("invalid latin1 text")}function w(j,P,U){const W=T(P);j[W]=C(P,U-W.length-1)}function E(j,P,U){v(P),x(U);const W=P.length+1+U.length;j.writeUint32(W),j.writeChars(f),j.writeChars(P),j.writeByte(A),j.writeChars(U),(0,d.writeCrc)(j,W+4)}function T(j){for(j.mark();j.readByte()!==A;);const P=j.offset;j.reset();const U=p.decode(j.readBytes(P-j.offset-1));return j.skip(1),v(U),U}function C(j,P){return p.decode(j.readBytes(P))}}),"./node_modules/fast-png/lib-esm/helpers/unfilter.js":(function(c,u,l){l.r(u),l.d(u,{unfilterAverage:function(){return p},unfilterNone:function(){return d},unfilterPaeth:function(){return v},unfilterSub:function(){return f},unfilterUp:function(){return A}});function d(x,w,E){for(let T=0;T<E;T++)w[T]=x[T]}function f(x,w,E,T){let C=0;for(;C<T;C++)w[C]=x[C];for(;C<E;C++)w[C]=x[C]+w[C-T]&255}function A(x,w,E,T){let C=0;if(E.length===0)for(;C<T;C++)w[C]=x[C];else for(;C<T;C++)w[C]=x[C]+E[C]&255}function p(x,w,E,T,C){let j=0;if(E.length===0){for(;j<C;j++)w[j]=x[j];for(;j<T;j++)w[j]=x[j]+(w[j-C]>>1)&255}else{for(;j<C;j++)w[j]=x[j]+(E[j]>>1)&255;for(;j<T;j++)w[j]=x[j]+(w[j-C]+E[j]>>1)&255}}function v(x,w,E,T,C){let j=0;if(E.length===0){for(;j<C;j++)w[j]=x[j];for(;j<T;j++)w[j]=x[j]+w[j-C]&255}else{for(;j<C;j++)w[j]=x[j]+E[j]&255;for(;j<T;j++)w[j]=x[j]+y(w[j-C],E[j],E[j-C])&255}}function y(x,w,E){const T=x+w-E,C=Math.abs(T-x),j=Math.abs(T-w),P=Math.abs(T-E);return C<=j&&C<=P?x:j<=P?w:E}}),"./node_modules/fast-png/lib-esm/index.js":(function(c,u,l){l.r(u),l.d(u,{ResolutionUnitSpecifier:function(){return p.ResolutionUnitSpecifier},convertIndexedToRgb:function(){return v.convertIndexedToRgb},decode:function(){return y},decodeApng:function(){return w},encode:function(){return x},hasPngSignature:function(){return A.hasPngSignature}});var d=l("./node_modules/fast-png/lib-esm/PngDecoder.js"),f=l("./node_modules/fast-png/lib-esm/PngEncoder.js"),A=l("./node_modules/fast-png/lib-esm/helpers/signature.js"),p=l("./node_modules/fast-png/lib-esm/types.js"),v=l("./node_modules/fast-png/lib-esm/convertIndexedToRgb.js");function y(E,T){return new d.default(E,T).decode()}function x(E,T){return new f.default(E,T).encode()}function w(E,T){return new d.default(E,T).decodeApng()}}),"./node_modules/fast-png/lib-esm/internalTypes.js":(function(c,u,l){l.r(u),l.d(u,{BlendOpType:function(){return y},ColorType:function(){return d},CompressionMethod:function(){return f},DisposeOpType:function(){return v},FilterMethod:function(){return A},InterlaceMethod:function(){return p}});const d={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},f={UNKNOWN:-1,DEFLATE:0},A={UNKNOWN:-1,ADAPTIVE:0},p={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},v={NONE:0,BACKGROUND:1,PREVIOUS:2},y={SOURCE:0,OVER:1}}),"./node_modules/fast-png/lib-esm/types.js":(function(c,u,l){l.r(u),l.d(u,{ResolutionUnitSpecifier:function(){return d}});var d;(function(f){f[f.UNKNOWN=0]="UNKNOWN",f[f.METRE=1]="METRE"})(d||(d={}))}),"./node_modules/fflate/esm/browser.js":(function(c,u,l){l.r(u),l.d(u,{AsyncCompress:function(){return rs},AsyncDecompress:function(){return po},AsyncDeflate:function(){return nn},AsyncGunzip:function(){return ds},AsyncGzip:function(){return rs},AsyncInflate:function(){return Tn},AsyncUnzipInflate:function(){return Vo},AsyncUnzlib:function(){return Gs},AsyncZipDeflate:function(){return So},AsyncZlib:function(){return tu},Compress:function(){return Ms},DecodeUTF8:function(){return Ta},Decompress:function(){return kl},Deflate:function(){return ei},EncodeUTF8:function(){return Va},FlateErrorCode:function(){return Le},Gunzip:function(){return Qa},Gzip:function(){return Ms},Inflate:function(){return En},Unzip:function(){return $t},UnzipInflate:function(){return no},UnzipPassThrough:function(){return go},Unzlib:function(){return Ya},Zip:function(){return za},ZipDeflate:function(){return fs},ZipPassThrough:function(){return qs},Zlib:function(){return Ml},compress:function(){return Ys},compressSync:function(){return Os},decompress:function(){return ro},decompressSync:function(){return pl},deflate:function(){return ss},deflateSync:function(){return ea},gunzip:function(){return yu},gunzipSync:function(){return to},gzip:function(){return Ys},gzipSync:function(){return Os},inflate:function(){return Ds},inflateSync:function(){return $s},strFromU8:function(){return gi},strToU8:function(){return Ca},unzip:function(){return ne},unzipSync:function(){return oe},unzlib:function(){return ba},unzlibSync:function(){return Fs},zip:function(){return Qs},zipSync:function(){return qa},zlib:function(){return ml},zlibSync:function(){return ta}});var d={},f=(function(F,z,te,he,Te){var Ue=new Worker(d[z]||(d[z]=URL.createObjectURL(new Blob([F+';addEventListener("error",function(e){e=e.error;postMessage({$e$:[e.message,e.code,e.stack]})})'],{type:"text/javascript"}))));return Ue.onmessage=function(ct){var B=ct.data,N=B.$e$;if(N){var D=new Error(N[0]);D.code=N[1],D.stack=N[2],Te(D,null)}else Te(null,B)},Ue.postMessage(te,he),Ue}),A=Uint8Array,p=Uint16Array,v=Int32Array,y=new A([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),x=new A([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),w=new A([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),E=function(F,z){for(var te=new p(31),he=0;he<31;++he)te[he]=z+=1<<F[he-1];for(var Te=new v(te[30]),he=1;he<30;++he)for(var Ue=te[he];Ue<te[he+1];++Ue)Te[Ue]=Ue-te[he]<<5|he;return{b:te,r:Te}},T=E(y,2),C=T.b,j=T.r;C[28]=258,j[258]=28;for(var P=E(x,0),U=P.b,W=P.r,q=new p(32768),re=0;re<32768;++re){var ie=(re&43690)>>1|(re&21845)<<1;ie=(ie&52428)>>2|(ie&13107)<<2,ie=(ie&61680)>>4|(ie&3855)<<4,q[re]=((ie&65280)>>8|(ie&255)<<8)>>1}for(var Ae=(function(F,z,te){for(var he=F.length,Te=0,Ue=new p(z);Te<he;++Te)F[Te]&&++Ue[F[Te]-1];var ct=new p(z);for(Te=1;Te<z;++Te)ct[Te]=ct[Te-1]+Ue[Te-1]<<1;var B;if(te){B=new p(1<<z);var N=15-z;for(Te=0;Te<he;++Te)if(F[Te])for(var D=Te<<4|F[Te],K=z-F[Te],X=ct[F[Te]-1]++<<K,ee=X|(1<<K)-1;X<=ee;++X)B[q[X]>>N]=D}else for(B=new p(he),Te=0;Te<he;++Te)F[Te]&&(B[Te]=q[ct[F[Te]-1]++]>>15-F[Te]);return B}),be=new A(288),re=0;re<144;++re)be[re]=8;for(var re=144;re<256;++re)be[re]=9;for(var re=256;re<280;++re)be[re]=7;for(var re=280;re<288;++re)be[re]=8;for(var Ee=new A(32),re=0;re<32;++re)Ee[re]=5;var ge=Ae(be,9,0),se=Ae(be,9,1),xe=Ae(Ee,5,0),ce=Ae(Ee,5,1),Me=function(F){for(var z=F[0],te=1;te<F.length;++te)F[te]>z&&(z=F[te]);return z},Oe=function(F,z,te){var he=z/8|0;return(F[he]|F[he+1]<<8)>>(z&7)&te},we=function(F,z){var te=z/8|0;return(F[te]|F[te+1]<<8|F[te+2]<<16)>>(z&7)},ue=function(F){return(F+7)/8|0},ye=function(F,z,te){return(z==null||z<0)&&(z=0),(te==null||te>F.length)&&(te=F.length),new A(F.subarray(z,te))},Le={UnexpectedEOF:0,InvalidBlockType:1,InvalidLengthLiteral:2,InvalidDistance:3,StreamFinished:4,NoStreamHandler:5,InvalidHeader:6,NoCallback:7,InvalidUTF8:8,ExtraFieldTooLong:9,InvalidDate:10,FilenameTooLong:11,StreamFinishing:12,InvalidZipData:13,UnknownCompressionMethod:14},He=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Fe=function(F,z,te){var he=new Error(z||He[F]);if(he.code=F,Error.captureStackTrace&&Error.captureStackTrace(he,Fe),!te)throw he;return he},At=function(F,z,te,he){var Te=F.length,Ue=he?he.length:0;if(!Te||z.f&&!z.l)return te||new A(0);var ct=!te,B=ct||z.i!=2,N=z.i;ct&&(te=new A(Te*3));var D=function(Nt){var Kt=te.length;if(Nt>Kt){var qt=new A(Math.max(Kt*2,Nt));qt.set(te),te=qt}},K=z.f||0,X=z.p||0,ee=z.b||0,ve=z.l,de=z.d,fe=z.m,ke=z.n,Qe=Te*8;do{if(!ve){K=Oe(F,X,1);var Xe=Oe(F,X+1,3);if(X+=3,Xe)if(Xe==1)ve=se,de=ce,fe=9,ke=5;else if(Xe==2){var at=Oe(F,X,31)+257,Tt=Oe(F,X+10,15)+4,rt=at+Oe(F,X+5,31)+1;X+=14;for(var Bt=new A(rt),Yt=new A(19),kt=0;kt<Tt;++kt)Yt[w[kt]]=Oe(F,X+kt*3,7);X+=Tt*3;for(var tt=Me(Yt),Vt=(1<<tt)-1,Er=Ae(Yt,tt,1),kt=0;kt<rt;){var nr=Er[Oe(F,X,Vt)];X+=nr&15;var lt=nr>>4;if(lt<16)Bt[kt++]=lt;else{var Rt=0,yr=0;for(lt==16?(yr=3+Oe(F,X,3),X+=2,Rt=Bt[kt-1]):lt==17?(yr=3+Oe(F,X,7),X+=3):lt==18&&(yr=11+Oe(F,X,127),X+=7);yr--;)Bt[kt++]=Rt}}var it=Bt.subarray(0,at),ft=Bt.subarray(at);fe=Me(it),ke=Me(ft),ve=Ae(it,fe,1),de=Ae(ft,ke,1)}else Fe(1);else{var lt=ue(X)+4,Ce=F[lt-4]|F[lt-3]<<8,_t=lt+Ce;if(_t>Te){N&&Fe(0);break}B&&D(ee+Ce),te.set(F.subarray(lt,_t),ee),z.b=ee+=Ce,z.p=X=_t*8,z.f=K;continue}if(X>Qe){N&&Fe(0);break}}B&&D(ee+131072);for(var Ot=(1<<fe)-1,Pt=(1<<ke)-1,Ar=X;;Ar=X){var Rt=ve[we(F,X)&Ot],Tr=Rt>>4;if(X+=Rt&15,X>Qe){N&&Fe(0);break}if(Rt||Fe(2),Tr<256)te[ee++]=Tr;else if(Tr==256){Ar=X,ve=null;break}else{var Lr=Tr-254;if(Tr>264){var kt=Tr-257,ar=y[kt];Lr=Oe(F,X,(1<<ar)-1)+C[kt],X+=ar}var Ir=de[we(F,X)&Pt],hn=Ir>>4;Ir||Fe(3),X+=Ir&15;var ft=U[hn];if(hn>3){var ar=x[hn];ft+=we(F,X)&(1<<ar)-1,X+=ar}if(X>Qe){N&&Fe(0);break}B&&D(ee+131072);var Zr=ee+Lr;if(ee<ft){var Ye=Ue-ft,St=Math.min(ft,Zr);for(Ye+ee<0&&Fe(3);ee<St;++ee)te[ee]=he[Ye+ee]}for(;ee<Zr;++ee)te[ee]=te[ee-ft]}}z.l=ve,z.p=Ar,z.b=ee,z.f=K,ve&&(K=1,z.m=fe,z.d=de,z.n=ke)}while(!K);return ee!=te.length&&ct?ye(te,0,ee):te.subarray(0,ee)},pt=function(F,z,te){te<<=z&7;var he=z/8|0;F[he]|=te,F[he+1]|=te>>8},Pe=function(F,z,te){te<<=z&7;var he=z/8|0;F[he]|=te,F[he+1]|=te>>8,F[he+2]|=te>>16},st=function(F,z){for(var te=[],he=0;he<F.length;++he)F[he]&&te.push({s:he,f:F[he]});var Te=te.length,Ue=te.slice();if(!Te)return{t:Ut,l:0};if(Te==1){var ct=new A(te[0].s+1);return ct[te[0].s]=1,{t:ct,l:1}}te.sort(function(_t,at){return _t.f-at.f}),te.push({s:-1,f:25001});var B=te[0],N=te[1],D=0,K=1,X=2;for(te[0]={s:-1,f:B.f+N.f,l:B,r:N};K!=Te-1;)B=te[te[D].f<te[X].f?D++:X++],N=te[D!=K&&te[D].f<te[X].f?D++:X++],te[K++]={s:-1,f:B.f+N.f,l:B,r:N};for(var ee=Ue[0].s,he=1;he<Te;++he)Ue[he].s>ee&&(ee=Ue[he].s);var ve=new p(ee+1),de=et(te[K-1],ve,0);if(de>z){var he=0,fe=0,ke=de-z,Qe=1<<ke;for(Ue.sort(function(at,Tt){return ve[Tt.s]-ve[at.s]||at.f-Tt.f});he<Te;++he){var Xe=Ue[he].s;if(ve[Xe]>z)fe+=Qe-(1<<de-ve[Xe]),ve[Xe]=z;else break}for(fe>>=ke;fe>0;){var lt=Ue[he].s;ve[lt]<z?fe-=1<<z-ve[lt]++-1:++he}for(;he>=0&&fe;--he){var Ce=Ue[he].s;ve[Ce]==z&&(--ve[Ce],++fe)}de=z}return{t:new A(ve),l:de}},et=function(F,z,te){return F.s==-1?Math.max(et(F.l,z,te+1),et(F.r,z,te+1)):z[F.s]=te},We=function(F){for(var z=F.length;z&&!F[--z];);for(var te=new p(++z),he=0,Te=F[0],Ue=1,ct=function(N){te[he++]=N},B=1;B<=z;++B)if(F[B]==Te&&B!=z)++Ue;else{if(!Te&&Ue>2){for(;Ue>138;Ue-=138)ct(32754);Ue>2&&(ct(Ue>10?Ue-11<<5|28690:Ue-3<<5|12305),Ue=0)}else if(Ue>3){for(ct(Te),--Ue;Ue>6;Ue-=6)ct(8304);Ue>2&&(ct(Ue-3<<5|8208),Ue=0)}for(;Ue--;)ct(Te);Ue=1,Te=F[B]}return{c:te.subarray(0,he),n:z}},gt=function(F,z){for(var te=0,he=0;he<z.length;++he)te+=F[he]*z[he];return te},Ge=function(F,z,te){var he=te.length,Te=ue(z+2);F[Te]=he&255,F[Te+1]=he>>8,F[Te+2]=F[Te]^255,F[Te+3]=F[Te+1]^255;for(var Ue=0;Ue<he;++Ue)F[Te+Ue+4]=te[Ue];return(Te+4+he)*8},Ct=function(F,z,te,he,Te,Ue,ct,B,N,D,K){pt(z,K++,te),++Te[256];for(var X=st(Te,15),ee=X.t,ve=X.l,de=st(Ue,15),fe=de.t,ke=de.l,Qe=We(ee),Xe=Qe.c,lt=Qe.n,Ce=We(fe),_t=Ce.c,at=Ce.n,Tt=new p(19),rt=0;rt<Xe.length;++rt)++Tt[Xe[rt]&31];for(var rt=0;rt<_t.length;++rt)++Tt[_t[rt]&31];for(var Bt=st(Tt,7),Yt=Bt.t,kt=Bt.l,tt=19;tt>4&&!Yt[w[tt-1]];--tt);var Vt=D+5<<3,Er=gt(Te,be)+gt(Ue,Ee)+ct,nr=gt(Te,ee)+gt(Ue,fe)+ct+14+3*tt+gt(Tt,Yt)+2*Tt[16]+3*Tt[17]+7*Tt[18];if(N>=0&&Vt<=Er&&Vt<=nr)return Ge(z,K,F.subarray(N,N+D));var Rt,yr,it,ft;if(pt(z,K,1+(nr<Er)),K+=2,nr<Er){Rt=Ae(ee,ve,0),yr=ee,it=Ae(fe,ke,0),ft=fe;var Ot=Ae(Yt,kt,0);pt(z,K,lt-257),pt(z,K+5,at-1),pt(z,K+10,tt-4),K+=14;for(var rt=0;rt<tt;++rt)pt(z,K+3*rt,Yt[w[rt]]);K+=3*tt;for(var Pt=[Xe,_t],Ar=0;Ar<2;++Ar)for(var Tr=Pt[Ar],rt=0;rt<Tr.length;++rt){var Lr=Tr[rt]&31;pt(z,K,Ot[Lr]),K+=Yt[Lr],Lr>15&&(pt(z,K,Tr[rt]>>5&127),K+=Tr[rt]>>12)}}else Rt=ge,yr=be,it=xe,ft=Ee;for(var rt=0;rt<B;++rt){var ar=he[rt];if(ar>255){var Lr=ar>>18&31;Pe(z,K,Rt[Lr+257]),K+=yr[Lr+257],Lr>7&&(pt(z,K,ar>>23&31),K+=y[Lr]);var Ir=ar&31;Pe(z,K,it[Ir]),K+=ft[Ir],Ir>3&&(Pe(z,K,ar>>5&8191),K+=x[Ir])}else Pe(z,K,Rt[ar]),K+=yr[ar]}return Pe(z,K,Rt[256]),K+yr[256]},Et=new v([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Ut=new A(0),ir=function(F,z,te,he,Te,Ue){var ct=Ue.z||F.length,B=new A(he+ct+5*(1+Math.ceil(ct/7e3))+Te),N=B.subarray(he,B.length-Te),D=Ue.l,K=(Ue.r||0)&7;if(z){K&&(N[0]=Ue.r>>3);for(var X=Et[z-1],ee=X>>13,ve=X&8191,de=(1<<te)-1,fe=Ue.p||new p(32768),ke=Ue.h||new p(de+1),Qe=Math.ceil(te/3),Xe=2*Qe,lt=function(cr){return(F[cr]^F[cr+1]<<Qe^F[cr+2]<<Xe)&de},Ce=new v(25e3),_t=new p(288),at=new p(32),Tt=0,rt=0,Bt=Ue.i||0,Yt=0,kt=Ue.w||0,tt=0;Bt+2<ct;++Bt){var Vt=lt(Bt),Er=Bt&32767,nr=ke[Vt];if(fe[Er]=nr,ke[Vt]=Er,kt<=Bt){var Rt=ct-Bt;if((Tt>7e3||Yt>24576)&&(Rt>423||!D)){K=Ct(F,N,0,Ce,_t,at,rt,Yt,tt,Bt-tt,K),Yt=Tt=rt=0,tt=Bt;for(var yr=0;yr<286;++yr)_t[yr]=0;for(var yr=0;yr<30;++yr)at[yr]=0}var it=2,ft=0,Ot=ve,Pt=Er-nr&32767;if(Rt>2&&Vt==lt(Bt-Pt))for(var Ar=Math.min(ee,Rt)-1,Tr=Math.min(32767,Bt),Lr=Math.min(258,Rt);Pt<=Tr&&--Ot&&Er!=nr;){if(F[Bt+it]==F[Bt+it-Pt]){for(var ar=0;ar<Lr&&F[Bt+ar]==F[Bt+ar-Pt];++ar);if(ar>it){if(it=ar,ft=Pt,ar>Ar)break;for(var Ir=Math.min(Pt,ar-2),hn=0,yr=0;yr<Ir;++yr){var Zr=Bt-Pt+yr&32767,Ye=fe[Zr],St=Zr-Ye&32767;St>hn&&(hn=St,nr=Zr)}}}Er=nr,nr=fe[Er],Pt+=Er-nr&32767}if(ft){Ce[Yt++]=268435456|j[it]<<18|W[ft];var Nt=j[it]&31,Kt=W[ft]&31;rt+=y[Nt]+x[Kt],++_t[257+Nt],++at[Kt],kt=Bt+it,++Tt}else Ce[Yt++]=F[Bt],++_t[F[Bt]]}}for(Bt=Math.max(Bt,kt);Bt<ct;++Bt)Ce[Yt++]=F[Bt],++_t[F[Bt]];K=Ct(F,N,D,Ce,_t,at,rt,Yt,tt,Bt-tt,K),D||(Ue.r=K&7|N[K/8|0]<<3,K-=7,Ue.h=ke,Ue.p=fe,Ue.i=Bt,Ue.w=kt)}else{for(var Bt=Ue.w||0;Bt<ct+D;Bt+=65535){var qt=Bt+65535;qt>=ct&&(N[K/8|0]=D,qt=ct),K=Ge(N,K+1,F.subarray(Bt,qt))}Ue.i=ct}return ye(B,0,he+ue(K)+Te)},on=(function(){for(var F=new Int32Array(256),z=0;z<256;++z){for(var te=z,he=9;--he;)te=(te&1&&-306674912)^te>>>1;F[z]=te}return F})(),kr=function(){var F=-1;return{p:function(z){for(var te=F,he=0;he<z.length;++he)te=on[te&255^z[he]]^te>>>8;F=te},d:function(){return~F}}},rn=function(){var F=1,z=0;return{p:function(te){for(var he=F,Te=z,Ue=te.length|0,ct=0;ct!=Ue;){for(var B=Math.min(ct+2655,Ue);ct<B;++ct)Te+=he+=te[ct];he=(he&65535)+15*(he>>16),Te=(Te&65535)+15*(Te>>16)}F=he,z=Te},d:function(){return F%=65521,z%=65521,(F&255)<<24|(F&65280)<<8|(z&255)<<8|z>>8}}},wn=function(F,z,te,he,Te){if(!Te&&(Te={l:1},z.dictionary)){var Ue=z.dictionary.subarray(-32768),ct=new A(Ue.length+F.length);ct.set(Ue),ct.set(F,Ue.length),F=ct,Te.w=Ue.length}return ir(F,z.level==null?6:z.level,z.mem==null?Te.l?Math.ceil(Math.max(8,Math.min(13,Math.log(F.length)))*1.5):20:12+z.mem,te,he,Te)},Mn=function(F,z){var te={};for(var he in F)te[he]=F[he];for(var he in z)te[he]=z[he];return te},dn=function(F,z,te){for(var he=F(),Te=F.toString(),Ue=Te.slice(Te.indexOf("[")+1,Te.lastIndexOf("]")).replace(/\s+/g,"").split(","),ct=0;ct<he.length;++ct){var B=he[ct],N=Ue[ct];if(typeof B=="function"){z+=";"+N+"=";var D=B.toString();if(B.prototype)if(D.indexOf("[native code]")!=-1){var K=D.indexOf(" ",8)+1;z+=D.slice(K,D.indexOf("(",K))}else{z+=D;for(var X in B.prototype)z+=";"+N+".prototype."+X+"="+B.prototype[X].toString()}else z+=D}else te[N]=B}return z},pn=[],mn=function(F){var z=[];for(var te in F)F[te].buffer&&z.push((F[te]=new F[te].constructor(F[te])).buffer);return z},Kn=function(F,z,te,he){if(!pn[te]){for(var Te="",Ue={},ct=F.length-1,B=0;B<ct;++B)Te=dn(F[B],Te,Ue);pn[te]={c:dn(F[ct],Te,Ue),e:Ue}}var N=Mn({},pn[te].e);return f(pn[te].c+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+z.toString()+"}",te,N,mn(N),he)},Zn=function(){return[A,p,v,y,x,w,C,U,se,ce,q,He,Ae,Me,Oe,we,ue,ye,Fe,At,$s,Ht,fr]},Li=function(){return[A,p,v,y,x,w,j,W,ge,be,xe,Ee,q,Et,Ut,Ae,pt,Pe,st,et,We,gt,Ge,Ct,ue,ye,ir,wn,ea,Ht]},ot=function(){return[An,li,Dr,kr,on]},Wt=function(){return[cn,Pn]},jr=function(){return[Ts,Dr,rn]},rr=function(){return[Rs]},Ht=function(F){return postMessage(F,[F.buffer])},fr=function(F){return F&&{out:F.size&&new A(F.size),dictionary:F.dictionary}},Hr=function(F,z,te,he,Te,Ue){var ct=Kn(te,he,Te,function(B,N){ct.terminate(),Ue(B,N)});return ct.postMessage([F,z],z.consume?[F.buffer]:[]),function(){ct.terminate()}},Gr=function(F){return F.ondata=function(z,te){return postMessage([z,te],[z.buffer])},function(z){z.data.length?(F.push(z.data[0],z.data[1]),postMessage([z.data[0].length])):F.flush()}},Ln=function(F,z,te,he,Te,Ue,ct){var B,N=Kn(F,he,Te,function(D,K){D?(N.terminate(),z.ondata.call(z,D)):Array.isArray(K)?K.length==1?(z.queuedSize-=K[0],z.ondrain&&z.ondrain(K[0])):(K[1]&&N.terminate(),z.ondata.call(z,D,K[0],K[1])):ct(K)});N.postMessage(te),z.queuedSize=0,z.push=function(D,K){z.ondata||Fe(5),B&&z.ondata(Fe(4,0,1),null,!!K),z.queuedSize+=D.length,N.postMessage([D,B=K],[D.buffer])},z.terminate=function(){N.terminate()},Ue&&(z.flush=function(){N.postMessage([])})},ln=function(F,z){return F[z]|F[z+1]<<8},Jn=function(F,z){return(F[z]|F[z+1]<<8|F[z+2]<<16|F[z+3]<<24)>>>0},en=function(F,z){return Jn(F,z)+Jn(F,z+4)*4294967296},Dr=function(F,z,te){for(;te;++z)F[z]=te,te>>>=8},An=function(F,z){var te=z.filename;if(F[0]=31,F[1]=139,F[2]=8,F[8]=z.level<2?4:z.level==9?2:0,F[9]=3,z.mtime!=0&&Dr(F,4,Math.floor(new Date(z.mtime||Date.now())/1e3)),te){F[3]=8;for(var he=0;he<=te.length;++he)F[he+10]=te.charCodeAt(he)}},cn=function(F){(F[0]!=31||F[1]!=139||F[2]!=8)&&Fe(6,"invalid gzip data");var z=F[3],te=10;z&4&&(te+=(F[10]|F[11]<<8)+2);for(var he=(z>>3&1)+(z>>4&1);he>0;he-=!F[te++]);return te+(z&2)},Pn=function(F){var z=F.length;return(F[z-4]|F[z-3]<<8|F[z-2]<<16|F[z-1]<<24)>>>0},li=function(F){return 10+(F.filename?F.filename.length+1:0)},Ts=function(F,z){var te=z.level,he=te==0?0:te<6?1:te==9?3:2;if(F[0]=120,F[1]=he<<6|(z.dictionary&&32),F[1]|=31-(F[0]<<8|F[1])%31,z.dictionary){var Te=rn();Te.p(z.dictionary),Dr(F,2,Te.d())}},Rs=function(F,z){return((F[0]&15)!=8||F[0]>>4>7||(F[0]<<8|F[1])%31)&&Fe(6,"invalid zlib data"),(F[1]>>5&1)==+!z&&Fe(6,"invalid zlib data: "+(F[1]&32?"need":"unexpected")+" dictionary"),(F[1]>>3&4)+2};function Cs(F,z){return typeof F=="function"&&(z=F,F={}),this.ondata=z,F}var ei=(function(){function F(z,te){if(typeof z=="function"&&(te=z,z={}),this.ondata=te,this.o=z||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new A(98304),this.o.dictionary){var he=this.o.dictionary.subarray(-32768);this.b.set(he,32768-he.length),this.s.i=32768-he.length}}return F.prototype.p=function(z,te){this.ondata(wn(z,this.o,0,0,this.s),te)},F.prototype.push=function(z,te){this.ondata||Fe(5),this.s.l&&Fe(4);var he=z.length+this.s.z;if(he>this.b.length){if(he>2*this.b.length-32768){var Te=new A(he&-32768);Te.set(this.b.subarray(0,this.s.z)),this.b=Te}var Ue=this.b.length-this.s.z;this.b.set(z.subarray(0,Ue),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(z.subarray(Ue),32768),this.s.z=z.length-Ue+32768,this.s.i=32766,this.s.w=32768}else this.b.set(z,this.s.z),this.s.z+=z.length;this.s.l=te&1,(this.s.z>this.s.w+8191||te)&&(this.p(this.b,te||!1),this.s.w=this.s.i,this.s.i-=2)},F.prototype.flush=function(){this.ondata||Fe(5),this.s.l&&Fe(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},F})(),nn=(function(){function F(z,te){Ln([Li,function(){return[Gr,ei]}],this,Cs.call(this,z,te),function(he){var Te=new ei(he.data);onmessage=Gr(Te)},6,1)}return F})();function ss(F,z,te){return te||(te=z,z={}),typeof te!="function"&&Fe(7),Hr(F,z,[Li],function(he){return Ht(ea(he.data[0],he.data[1]))},0,te)}function ea(F,z){return wn(F,z||{},0,0)}var En=(function(){function F(z,te){typeof z=="function"&&(te=z,z={}),this.ondata=te;var he=z&&z.dictionary&&z.dictionary.subarray(-32768);this.s={i:0,b:he?he.length:0},this.o=new A(32768),this.p=new A(0),he&&this.o.set(he)}return F.prototype.e=function(z){if(this.ondata||Fe(5),this.d&&Fe(4),!this.p.length)this.p=z;else if(z.length){var te=new A(this.p.length+z.length);te.set(this.p),te.set(z,this.p.length),this.p=te}},F.prototype.c=function(z){this.s.i=+(this.d=z||!1);var te=this.s.b,he=At(this.p,this.s,this.o);this.ondata(ye(he,te,this.s.b),this.d),this.o=ye(he,this.s.b-32768),this.s.b=this.o.length,this.p=ye(this.p,this.s.p/8|0),this.s.p&=7},F.prototype.push=function(z,te){this.e(z),this.c(te)},F})(),Tn=(function(){function F(z,te){Ln([Zn,function(){return[Gr,En]}],this,Cs.call(this,z,te),function(he){var Te=new En(he.data);onmessage=Gr(Te)},7,0)}return F})();function Ds(F,z,te){return te||(te=z,z={}),typeof te!="function"&&Fe(7),Hr(F,z,[Zn],function(he){return Ht($s(he.data[0],fr(he.data[1])))},1,te)}function $s(F,z){return At(F,{i:2},z&&z.out,z&&z.dictionary)}var Ms=(function(){function F(z,te){this.c=kr(),this.l=0,this.v=1,ei.call(this,z,te)}return F.prototype.push=function(z,te){this.c.p(z),this.l+=z.length,ei.prototype.push.call(this,z,te)},F.prototype.p=function(z,te){var he=wn(z,this.o,this.v&&li(this.o),te&&8,this.s);this.v&&(An(he,this.o),this.v=0),te&&(Dr(he,he.length-8,this.c.d()),Dr(he,he.length-4,this.l)),this.ondata(he,te)},F.prototype.flush=function(){ei.prototype.flush.call(this)},F})(),rs=(function(){function F(z,te){Ln([Li,ot,function(){return[Gr,ei,Ms]}],this,Cs.call(this,z,te),function(he){var Te=new Ms(he.data);onmessage=Gr(Te)},8,1)}return F})();function Ys(F,z,te){return te||(te=z,z={}),typeof te!="function"&&Fe(7),Hr(F,z,[Li,ot,function(){return[Os]}],function(he){return Ht(Os(he.data[0],he.data[1]))},2,te)}function Os(F,z){z||(z={});var te=kr(),he=F.length;te.p(F);var Te=wn(F,z,li(z),8),Ue=Te.length;return An(Te,z),Dr(Te,Ue-8,te.d()),Dr(Te,Ue-4,he),Te}var Qa=(function(){function F(z,te){this.v=1,this.r=0,En.call(this,z,te)}return F.prototype.push=function(z,te){if(En.prototype.e.call(this,z),this.r+=z.length,this.v){var he=this.p.subarray(this.v-1),Te=he.length>3?cn(he):4;if(Te>he.length){if(!te)return}else this.v>1&&this.onmember&&this.onmember(this.r-he.length);this.p=he.subarray(Te),this.v=0}En.prototype.c.call(this,te),this.s.f&&!this.s.l&&!te&&(this.v=ue(this.s.p)+9,this.s={i:0},this.o=new A(0),this.push(new A(0),te))},F})(),ds=(function(){function F(z,te){var he=this;Ln([Zn,Wt,function(){return[Gr,En,Qa]}],this,Cs.call(this,z,te),function(Te){var Ue=new Qa(Te.data);Ue.onmember=function(ct){return postMessage(ct)},onmessage=Gr(Ue)},9,0,function(Te){return he.onmember&&he.onmember(Te)})}return F})();function yu(F,z,te){return te||(te=z,z={}),typeof te!="function"&&Fe(7),Hr(F,z,[Zn,Wt,function(){return[to]}],function(he){return Ht(to(he.data[0],he.data[1]))},3,te)}function to(F,z){var te=cn(F);return te+8>F.length&&Fe(6,"invalid gzip data"),At(F.subarray(te,-8),{i:2},z&&z.out||new A(Pn(F)),z&&z.dictionary)}var Ml=(function(){function F(z,te){this.c=rn(),this.v=1,ei.call(this,z,te)}return F.prototype.push=function(z,te){this.c.p(z),ei.prototype.push.call(this,z,te)},F.prototype.p=function(z,te){var he=wn(z,this.o,this.v&&(this.o.dictionary?6:2),te&&4,this.s);this.v&&(Ts(he,this.o),this.v=0),te&&Dr(he,he.length-4,this.c.d()),this.ondata(he,te)},F.prototype.flush=function(){ei.prototype.flush.call(this)},F})(),tu=(function(){function F(z,te){Ln([Li,jr,function(){return[Gr,ei,Ml]}],this,Cs.call(this,z,te),function(he){var Te=new Ml(he.data);onmessage=Gr(Te)},10,1)}return F})();function ml(F,z,te){return te||(te=z,z={}),typeof te!="function"&&Fe(7),Hr(F,z,[Li,jr,function(){return[ta]}],function(he){return Ht(ta(he.data[0],he.data[1]))},4,te)}function ta(F,z){z||(z={});var te=rn();te.p(F);var he=wn(F,z,z.dictionary?6:2,4);return Ts(he,z),Dr(he,he.length-4,te.d()),he}var Ya=(function(){function F(z,te){En.call(this,z,te),this.v=z&&z.dictionary?2:1}return F.prototype.push=function(z,te){if(En.prototype.e.call(this,z),this.v){if(this.p.length<6&&!te)return;this.p=this.p.subarray(Rs(this.p,this.v-1)),this.v=0}te&&(this.p.length<4&&Fe(6,"invalid zlib data"),this.p=this.p.subarray(0,-4)),En.prototype.c.call(this,te)},F})(),Gs=(function(){function F(z,te){Ln([Zn,rr,function(){return[Gr,En,Ya]}],this,Cs.call(this,z,te),function(he){var Te=new Ya(he.data);onmessage=Gr(Te)},11,0)}return F})();function ba(F,z,te){return te||(te=z,z={}),typeof te!="function"&&Fe(7),Hr(F,z,[Zn,rr,function(){return[Fs]}],function(he){return Ht(Fs(he.data[0],fr(he.data[1])))},5,te)}function Fs(F,z){return At(F.subarray(Rs(F,z&&z.dictionary),-4),{i:2},z&&z.out,z&&z.dictionary)}var kl=(function(){function F(z,te){this.o=Cs.call(this,z,te)||{},this.G=Qa,this.I=En,this.Z=Ya}return F.prototype.i=function(){var z=this;this.s.ondata=function(te,he){z.ondata(te,he)}},F.prototype.push=function(z,te){if(this.ondata||Fe(5),this.s)this.s.push(z,te);else{if(this.p&&this.p.length){var he=new A(this.p.length+z.length);he.set(this.p),he.set(z,this.p.length)}else this.p=z;this.p.length>2&&(this.s=this.p[0]==31&&this.p[1]==139&&this.p[2]==8?new this.G(this.o):(this.p[0]&15)!=8||this.p[0]>>4>7||(this.p[0]<<8|this.p[1])%31?new this.I(this.o):new this.Z(this.o),this.i(),this.s.push(this.p,te),this.p=null)}},F})(),po=(function(){function F(z,te){kl.call(this,z,te),this.queuedSize=0,this.G=ds,this.I=Tn,this.Z=Gs}return F.prototype.i=function(){var z=this;this.s.ondata=function(te,he,Te){z.ondata(te,he,Te)},this.s.ondrain=function(te){z.queuedSize-=te,z.ondrain&&z.ondrain(te)}},F.prototype.push=function(z,te){this.queuedSize+=z.length,kl.prototype.push.call(this,z,te)},F})();function ro(F,z,te){return te||(te=z,z={}),typeof te!="function"&&Fe(7),F[0]==31&&F[1]==139&&F[2]==8?yu(F,z,te):(F[0]&15)!=8||F[0]>>4>7||(F[0]<<8|F[1])%31?Ds(F,z,te):ba(F,z,te)}function pl(F,z){return F[0]==31&&F[1]==139&&F[2]==8?to(F,z):(F[0]&15)!=8||F[0]>>4>7||(F[0]<<8|F[1])%31?$s(F,z):Fs(F,z)}var Fl=function(F,z,te,he){for(var Te in F){var Ue=F[Te],ct=z+Te,B=he;Array.isArray(Ue)&&(B=Mn(he,Ue[1]),Ue=Ue[0]),Ue instanceof A?te[ct]=[Ue,B]:(te[ct+="/"]=[new A(0),B],Fl(Ue,ct,te,he))}},fc=typeof TextEncoder<"u"&&new TextEncoder,Hs=typeof TextDecoder<"u"&&new TextDecoder,ci=0;try{Hs.decode(Ut,{stream:!0}),ci=1}catch{}var js=function(F){for(var z="",te=0;;){var he=F[te++],Te=(he>127)+(he>223)+(he>239);if(te+Te>F.length)return{s:z,r:ye(F,te-1)};Te?Te==3?(he=((he&15)<<18|(F[te++]&63)<<12|(F[te++]&63)<<6|F[te++]&63)-65536,z+=String.fromCharCode(55296|he>>10,56320|he&1023)):Te&1?z+=String.fromCharCode((he&31)<<6|F[te++]&63):z+=String.fromCharCode((he&15)<<12|(F[te++]&63)<<6|F[te++]&63):z+=String.fromCharCode(he)}},Ta=(function(){function F(z){this.ondata=z,ci?this.t=new TextDecoder:this.p=Ut}return F.prototype.push=function(z,te){if(this.ondata||Fe(5),te=!!te,this.t){this.ondata(this.t.decode(z,{stream:!0}),te),te&&(this.t.decode().length&&Fe(8),this.t=null);return}this.p||Fe(4);var he=new A(this.p.length+z.length);he.set(this.p),he.set(z,this.p.length);var Te=js(he),Ue=Te.s,ct=Te.r;te?(ct.length&&Fe(8),this.p=null):this.p=ct,this.ondata(Ue,te)},F})(),Va=(function(){function F(z){this.ondata=z}return F.prototype.push=function(z,te){this.ondata||Fe(5),this.d&&Fe(4),this.ondata(Ca(z),this.d=te||!1)},F})();function Ca(F,z){if(z){for(var te=new A(F.length),he=0;he<F.length;++he)te[he]=F.charCodeAt(he);return te}if(fc)return fc.encode(F);for(var Te=F.length,Ue=new A(F.length+(F.length>>1)),ct=0,B=function(K){Ue[ct++]=K},he=0;he<Te;++he){if(ct+5>Ue.length){var N=new A(ct+8+(Te-he<<1));N.set(Ue),Ue=N}var D=F.charCodeAt(he);D<128||z?B(D):D<2048?(B(192|D>>6),B(128|D&63)):D>55295&&D<57344?(D=65536+(D&1047552)|F.charCodeAt(++he)&1023,B(240|D>>18),B(128|D>>12&63),B(128|D>>6&63),B(128|D&63)):(B(224|D>>12),B(128|D>>6&63),B(128|D&63))}return ye(Ue,0,ct)}function gi(F,z){if(z){for(var te="",he=0;he<F.length;he+=16384)te+=String.fromCharCode.apply(null,F.subarray(he,he+16384));return te}else{if(Hs)return Hs.decode(F);var Te=js(F),Ue=Te.s,te=Te.r;return te.length&&Fe(8),Ue}}var Xn=function(F){return F==1?3:F<6?2:F==9?1:0},hs=function(F,z){return z+30+ln(F,z+26)+ln(F,z+28)},wa=function(F,z,te){var he=ln(F,z+28),Te=gi(F.subarray(z+46,z+46+he),!(ln(F,z+8)&2048)),Ue=z+46+he,ct=Jn(F,z+20),B=te&&ct==4294967295?Ho(F,Ue):[ct,Jn(F,z+24),Jn(F,z+42)],N=B[0],D=B[1],K=B[2];return[ln(F,z+10),N,D,Te,Ue+ln(F,z+30)+ln(F,z+32),K]},Ho=function(F,z){for(;ln(F,z)!=1;z+=4+ln(F,z+2));return[en(F,z+12),en(F,z+4),en(F,z+20)]},Hi=function(F){var z=0;if(F)for(var te in F){var he=F[te].length;he>65535&&Fe(9),z+=he+4}return z},Qo=function(F,z,te,he,Te,Ue,ct,B){var N=he.length,D=te.extra,K=B&&B.length,X=Hi(D);Dr(F,z,ct!=null?33639248:67324752),z+=4,ct!=null&&(F[z++]=20,F[z++]=te.os),F[z]=20,z+=2,F[z++]=te.flag<<1|(Ue<0&&8),F[z++]=Te&&8,F[z++]=te.compression&255,F[z++]=te.compression>>8;var ee=new Date(te.mtime==null?Date.now():te.mtime),ve=ee.getFullYear()-1980;if((ve<0||ve>119)&&Fe(10),Dr(F,z,ve<<25|ee.getMonth()+1<<21|ee.getDate()<<16|ee.getHours()<<11|ee.getMinutes()<<5|ee.getSeconds()>>1),z+=4,Ue!=-1&&(Dr(F,z,te.crc),Dr(F,z+4,Ue<0?-Ue-2:Ue),Dr(F,z+8,te.size)),Dr(F,z+12,N),Dr(F,z+14,X),z+=16,ct!=null&&(Dr(F,z,K),Dr(F,z+6,te.attrs),Dr(F,z+10,ct),z+=14),F.set(he,z),z+=N,X)for(var de in D){var fe=D[de],ke=fe.length;Dr(F,z,+de),Dr(F,z+2,ke),F.set(fe,z+4),z+=4+ke}return K&&(F.set(B,z),z+=K),z},Ea=function(F,z,te,he,Te){Dr(F,z,101010256),Dr(F,z+8,te),Dr(F,z+10,te),Dr(F,z+12,he),Dr(F,z+16,Te)},qs=(function(){function F(z){this.filename=z,this.c=kr(),this.size=0,this.compression=0}return F.prototype.process=function(z,te){this.ondata(null,z,te)},F.prototype.push=function(z,te){this.ondata||Fe(5),this.c.p(z),this.size+=z.length,te&&(this.crc=this.c.d()),this.process(z,te||!1)},F})(),fs=(function(){function F(z,te){var he=this;te||(te={}),qs.call(this,z),this.d=new ei(te,function(Te,Ue){he.ondata(null,Te,Ue)}),this.compression=8,this.flag=Xn(te.level)}return F.prototype.process=function(z,te){try{this.d.push(z,te)}catch(he){this.ondata(he,null,te)}},F.prototype.push=function(z,te){qs.prototype.push.call(this,z,te)},F})(),So=(function(){function F(z,te){var he=this;te||(te={}),qs.call(this,z),this.d=new nn(te,function(Te,Ue,ct){he.ondata(Te,Ue,ct)}),this.compression=8,this.flag=Xn(te.level),this.terminate=this.d.terminate}return F.prototype.process=function(z,te){this.d.push(z,te)},F.prototype.push=function(z,te){qs.prototype.push.call(this,z,te)},F})(),za=(function(){function F(z){this.ondata=z,this.u=[],this.d=1}return F.prototype.add=function(z){var te=this;if(this.ondata||Fe(5),this.d&2)this.ondata(Fe(4+(this.d&1)*8,0,1),null,!1);else{var he=Ca(z.filename),Te=he.length,Ue=z.comment,ct=Ue&&Ca(Ue),B=Te!=z.filename.length||ct&&Ue.length!=ct.length,N=Te+Hi(z.extra)+30;Te>65535&&this.ondata(Fe(11,0,1),null,!1);var D=new A(N);Qo(D,0,z,he,B,-1);var K=[D],X=function(){for(var ke=0,Qe=K;ke<Qe.length;ke++){var Xe=Qe[ke];te.ondata(null,Xe,!1)}K=[]},ee=this.d;this.d=0;var ve=this.u.length,de=Mn(z,{f:he,u:B,o:ct,t:function(){z.terminate&&z.terminate()},r:function(){if(X(),ee){var ke=te.u[ve+1];ke?ke.r():te.d=1}ee=1}}),fe=0;z.ondata=function(ke,Qe,Xe){if(ke)te.ondata(ke,Qe,Xe),te.terminate();else if(fe+=Qe.length,K.push(Qe),Xe){var lt=new A(16);Dr(lt,0,134695760),Dr(lt,4,z.crc),Dr(lt,8,fe),Dr(lt,12,z.size),K.push(lt),de.c=fe,de.b=N+fe+16,de.crc=z.crc,de.size=z.size,ee&&de.r(),ee=1}else ee&&X()},this.u.push(de)}},F.prototype.end=function(){var z=this;if(this.d&2){this.ondata(Fe(4+(this.d&1)*8,0,1),null,!0);return}this.d?this.e():this.u.push({r:function(){z.d&1&&(z.u.splice(-1,1),z.e())},t:function(){}}),this.d=3},F.prototype.e=function(){for(var z=0,te=0,he=0,Te=0,Ue=this.u;Te<Ue.length;Te++){var ct=Ue[Te];he+=46+ct.f.length+Hi(ct.extra)+(ct.o?ct.o.length:0)}for(var B=new A(he+22),N=0,D=this.u;N<D.length;N++){var ct=D[N];Qo(B,z,ct,ct.f,ct.u,-ct.c-2,te,ct.o),z+=46+ct.f.length+Hi(ct.extra)+(ct.o?ct.o.length:0),te+=ct.b}Ea(B,z,this.u.length,he,te),this.ondata(null,B,!0),this.d=2},F.prototype.terminate=function(){for(var z=0,te=this.u;z<te.length;z++){var he=te[z];he.t()}this.d=2},F})();function Qs(F,z,te){te||(te=z,z={}),typeof te!="function"&&Fe(7);var he={};Fl(F,"",he,z);var Te=Object.keys(he),Ue=Te.length,ct=0,B=0,N=Ue,D=new Array(Ue),K=[],X=function(){for(var ke=0;ke<K.length;++ke)K[ke]()},ee=function(ke,Qe){V(function(){te(ke,Qe)})};V(function(){ee=te});var ve=function(){var ke=new A(B+22),Qe=ct,Xe=B-ct;B=0;for(var lt=0;lt<N;++lt){var Ce=D[lt];try{var _t=Ce.c.length;Qo(ke,B,Ce,Ce.f,Ce.u,_t);var at=30+Ce.f.length+Hi(Ce.extra),Tt=B+at;ke.set(Ce.c,Tt),Qo(ke,ct,Ce,Ce.f,Ce.u,_t,B,Ce.m),ct+=16+at+(Ce.m?Ce.m.length:0),B=Tt+_t}catch(rt){return ee(rt,null)}}Ea(ke,ct,D.length,Xe,Qe),ee(null,ke)};Ue||ve();for(var de=function(ke){var Qe=Te[ke],Xe=he[Qe],lt=Xe[0],Ce=Xe[1],_t=kr(),at=lt.length;_t.p(lt);var Tt=Ca(Qe),rt=Tt.length,Bt=Ce.comment,Yt=Bt&&Ca(Bt),kt=Yt&&Yt.length,tt=Hi(Ce.extra),Vt=Ce.level==0?0:8,Er=function(nr,Rt){if(nr)X(),ee(nr,null);else{var yr=Rt.length;D[ke]=Mn(Ce,{size:at,crc:_t.d(),c:Rt,f:Tt,m:Yt,u:rt!=Qe.length||Yt&&Bt.length!=kt,compression:Vt}),ct+=30+rt+tt+yr,B+=76+2*(rt+tt)+(kt||0)+yr,--Ue||ve()}};if(rt>65535&&Er(Fe(11,0,1),null),!Vt)Er(null,lt);else if(at<16e4)try{Er(null,ea(lt,Ce))}catch(nr){Er(nr,null)}else K.push(ss(lt,Ce,Er))},fe=0;fe<N;++fe)de(fe);return X}function qa(F,z){z||(z={});var te={},he=[];Fl(F,"",te,z);var Te=0,Ue=0;for(var ct in te){var B=te[ct],N=B[0],D=B[1],K=D.level==0?0:8,X=Ca(ct),ee=X.length,ve=D.comment,de=ve&&Ca(ve),fe=de&&de.length,ke=Hi(D.extra);ee>65535&&Fe(11);var Qe=K?ea(N,D):N,Xe=Qe.length,lt=kr();lt.p(N),he.push(Mn(D,{size:N.length,crc:lt.d(),c:Qe,f:X,m:de,u:ee!=ct.length||de&&ve.length!=fe,o:Te,compression:K})),Te+=30+ee+ke+Xe,Ue+=76+2*(ee+ke)+(fe||0)+Xe}for(var Ce=new A(Ue+22),_t=Te,at=Ue-Te,Tt=0;Tt<he.length;++Tt){var X=he[Tt];Qo(Ce,X.o,X,X.f,X.u,X.c.length);var rt=30+X.f.length+Hi(X.extra);Ce.set(X.c,X.o+rt),Qo(Ce,Te,X,X.f,X.u,X.c.length,X.o,X.m),Te+=16+rt+(X.m?X.m.length:0)}return Ea(Ce,Te,he.length,at,_t),Ce}var go=(function(){function F(){}return F.prototype.push=function(z,te){this.ondata(null,z,te)},F.compression=0,F})(),no=(function(){function F(){var z=this;this.i=new En(function(te,he){z.ondata(null,te,he)})}return F.prototype.push=function(z,te){try{this.i.push(z,te)}catch(he){this.ondata(he,null,te)}},F.compression=8,F})(),Vo=(function(){function F(z,te){var he=this;te<32e4?this.i=new En(function(Te,Ue){he.ondata(null,Te,Ue)}):(this.i=new Tn(function(Te,Ue,ct){he.ondata(Te,Ue,ct)}),this.terminate=this.i.terminate)}return F.prototype.push=function(z,te){this.i.terminate&&(z=ye(z,0)),this.i.push(z,te)},F.compression=8,F})(),$t=(function(){function F(z){this.onfile=z,this.k=[],this.o={0:go},this.p=Ut}return F.prototype.push=function(z,te){var he=this;if(this.onfile||Fe(5),this.p||Fe(4),this.c>0){var Te=Math.min(this.c,z.length),Ue=z.subarray(0,Te);if(this.c-=Te,this.d?this.d.push(Ue,!this.c):this.k[0].push(Ue),z=z.subarray(Te),z.length)return this.push(z,te)}else{var ct=0,B=0,N=void 0,D=void 0;this.p.length?z.length?(D=new A(this.p.length+z.length),D.set(this.p),D.set(z,this.p.length)):D=this.p:D=z;for(var K=D.length,X=this.c,ee=X&&this.d,ve=function(){var Qe,Xe=Jn(D,B);if(Xe==67324752){ct=1,N=B,de.d=null,de.c=0;var lt=ln(D,B+6),Ce=ln(D,B+8),_t=lt&2048,at=lt&8,Tt=ln(D,B+26),rt=ln(D,B+28);if(K>B+30+Tt+rt){var Bt=[];de.k.unshift(Bt),ct=2;var Yt=Jn(D,B+18),kt=Jn(D,B+22),tt=gi(D.subarray(B+30,B+=30+Tt),!_t);Yt==4294967295?(Qe=at?[-2]:Ho(D,B),Yt=Qe[0],kt=Qe[1]):at&&(Yt=-1),B+=rt,de.c=Yt;var Vt,Er={name:tt,compression:Ce,start:function(){if(Er.ondata||Fe(5),!Yt)Er.ondata(null,Ut,!0);else{var nr=he.o[Ce];nr||Er.ondata(Fe(14,"unknown compression type "+Ce,1),null,!1),Vt=Yt<0?new nr(tt):new nr(tt,Yt,kt),Vt.ondata=function(ft,Ot,Pt){Er.ondata(ft,Ot,Pt)};for(var Rt=0,yr=Bt;Rt<yr.length;Rt++){var it=yr[Rt];Vt.push(it,!1)}he.k[0]==Bt&&he.c?he.d=Vt:Vt.push(Ut,!0)}},terminate:function(){Vt&&Vt.terminate&&Vt.terminate()}};Yt>=0&&(Er.size=Yt,Er.originalSize=kt),de.onfile(Er)}return"break"}else if(X){if(Xe==134695760)return N=B+=12+(X==-2&&8),ct=3,de.c=0,"break";if(Xe==33639248)return N=B-=4,ct=3,de.c=0,"break"}},de=this;B<K-4;++B){var fe=ve();if(fe==="break")break}if(this.p=Ut,X<0){var ke=ct?D.subarray(0,N-12-(X==-2&&8)-(Jn(D,N-16)==134695760&&4)):D.subarray(0,B);ee?ee.push(ke,!!ct):this.k[+(ct==2)].push(ke)}if(ct&2)return this.push(D.subarray(B),te);this.p=D.subarray(B)}te&&(this.c&&Fe(13),this.p=null)},F.prototype.register=function(z){this.o[z.compression]=z},F})(),V=typeof queueMicrotask=="function"?queueMicrotask:typeof setTimeout=="function"?setTimeout:function(F){F()};function ne(F,z,te){te||(te=z,z={}),typeof te!="function"&&Fe(7);var he=[],Te=function(){for(var ke=0;ke<he.length;++ke)he[ke]()},Ue={},ct=function(ke,Qe){V(function(){te(ke,Qe)})};V(function(){ct=te});for(var B=F.length-22;Jn(F,B)!=101010256;--B)if(!B||F.length-B>65558)return ct(Fe(13,0,1),null),Te;var N=ln(F,B+8);if(N){var D=N,K=Jn(F,B+16),X=K==4294967295||D==65535;if(X){var ee=Jn(F,B-12);X=Jn(F,ee)==101075792,X&&(D=N=Jn(F,ee+32),K=Jn(F,ee+48))}for(var ve=z&&z.filter,de=function(ke){var Qe=wa(F,K,X),Xe=Qe[0],lt=Qe[1],Ce=Qe[2],_t=Qe[3],at=Qe[4],Tt=Qe[5],rt=hs(F,Tt);K=at;var Bt=function(kt,tt){kt?(Te(),ct(kt,null)):(tt&&(Ue[_t]=tt),--N||ct(null,Ue))};if(!ve||ve({name:_t,size:lt,originalSize:Ce,compression:Xe}))if(!Xe)Bt(null,ye(F,rt,rt+lt));else if(Xe==8){var Yt=F.subarray(rt,rt+lt);if(Ce<524288||lt>.8*Ce)try{Bt(null,$s(Yt,{out:new A(Ce)}))}catch(kt){Bt(kt,null)}else he.push(Ds(Yt,{size:Ce},Bt))}else Bt(Fe(14,"unknown compression type "+Xe,1),null);else Bt(null,null)},fe=0;fe<D;++fe)de(fe)}else ct(null,{});return Te}function oe(F,z){for(var te={},he=F.length-22;Jn(F,he)!=101010256;--he)(!he||F.length-he>65558)&&Fe(13);var Te=ln(F,he+8);if(!Te)return{};var Ue=Jn(F,he+16),ct=Ue==4294967295||Te==65535;if(ct){var B=Jn(F,he-12);ct=Jn(F,B)==101075792,ct&&(Te=Jn(F,B+32),Ue=Jn(F,B+48))}for(var N=z&&z.filter,D=0;D<Te;++D){var K=wa(F,Ue,ct),X=K[0],ee=K[1],ve=K[2],de=K[3],fe=K[4],ke=K[5],Qe=hs(F,ke);Ue=fe,(!N||N({name:de,size:ee,originalSize:ve,compression:X}))&&(X?X==8?te[de]=$s(F.subarray(Qe,Qe+ee),{out:new A(ve)}):Fe(14,"unknown compression type "+X):te[de]=ye(F,Qe,Qe+ee))}return te}}),"./node_modules/iobuffer/lib-esm/IOBuffer.js":(function(c,u,l){l.r(u),l.d(u,{IOBuffer:function(){return v}});var d=l("./node_modules/iobuffer/lib-esm/text.js");const f=1024*8,A=(()=>{const y=new Uint8Array(4),x=new Uint32Array(y.buffer);return!((x[0]=1)&y[0])})(),p={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class v{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(x=f,w={}){let E=!1;typeof x=="number"?x=new ArrayBuffer(x):(E=!0,this.lastWrittenByte=x.byteLength);const T=w.offset?w.offset>>>0:0,C=x.byteLength-T;let j=T;(ArrayBuffer.isView(x)||x instanceof v)&&(x.byteLength!==x.buffer.byteLength&&(j=x.byteOffset+T),x=x.buffer),E?this.lastWrittenByte=C:this.lastWrittenByte=0,this.buffer=x,this.length=C,this.byteLength=C,this.byteOffset=j,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,j,C),this._mark=0,this._marks=[]}available(x=1){return this.offset+x<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(x=1){return this.offset+=x,this}back(x=1){return this.offset-=x,this}seek(x){return this.offset=x,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const x=this._marks.pop();if(x===void 0)throw new Error("Mark stack empty");return this.seek(x),this}rewind(){return this.offset=0,this}ensureAvailable(x=1){if(!this.available(x)){const E=(this.offset+x)*2,T=new Uint8Array(E);T.set(new Uint8Array(this.buffer)),this.buffer=T.buffer,this.length=E,this.byteLength=E,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(x=1){return this.readArray(x,"uint8")}readArray(x,w){const E=p[w].BYTES_PER_ELEMENT*x,T=this.byteOffset+this.offset,C=this.buffer.slice(T,T+E);if(this.littleEndian===A&&w!=="uint8"&&w!=="int8"){const P=new Uint8Array(this.buffer.slice(T,T+E));P.reverse();const U=new p[w](P.buffer);return this.offset+=E,U.reverse(),U}const j=new p[w](C);return this.offset+=E,j}readInt16(){const x=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,x}readUint16(){const x=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,x}readInt32(){const x=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,x}readUint32(){const x=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,x}readFloat32(){const x=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,x}readFloat64(){const x=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,x}readBigInt64(){const x=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,x}readBigUint64(){const x=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,x}readChar(){return String.fromCharCode(this.readInt8())}readChars(x=1){let w="";for(let E=0;E<x;E++)w+=this.readChar();return w}readUtf8(x=1){return(0,d.decode)(this.readBytes(x))}decodeText(x=1,w="utf8"){return(0,d.decode)(this.readBytes(x),w)}writeBoolean(x){return this.writeUint8(x?255:0),this}writeInt8(x){return this.ensureAvailable(1),this._data.setInt8(this.offset++,x),this._updateLastWrittenByte(),this}writeUint8(x){return this.ensureAvailable(1),this._data.setUint8(this.offset++,x),this._updateLastWrittenByte(),this}writeByte(x){return this.writeUint8(x)}writeBytes(x){this.ensureAvailable(x.length);for(let w=0;w<x.length;w++)this._data.setUint8(this.offset++,x[w]);return this._updateLastWrittenByte(),this}writeInt16(x){return this.ensureAvailable(2),this._data.setInt16(this.offset,x,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(x){return this.ensureAvailable(2),this._data.setUint16(this.offset,x,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(x){return this.ensureAvailable(4),this._data.setInt32(this.offset,x,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(x){return this.ensureAvailable(4),this._data.setUint32(this.offset,x,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(x){return this.ensureAvailable(4),this._data.setFloat32(this.offset,x,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(x){return this.ensureAvailable(8),this._data.setFloat64(this.offset,x,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(x){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,x,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(x){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,x,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(x){return this.writeUint8(x.charCodeAt(0))}writeChars(x){for(let w=0;w<x.length;w++)this.writeUint8(x.charCodeAt(w));return this}writeUtf8(x){return this.writeBytes((0,d.encode)(x))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}}),"./node_modules/iobuffer/lib-esm/text.js":(function(c,u,l){l.r(u),l.d(u,{decode:function(){return d},encode:function(){return A}});function d(p,v="utf8"){return new TextDecoder(v).decode(p)}const f=new TextEncoder;function A(p){return f.encode(p)}}),"./node_modules/jspdf/dist/jspdf.es.min.js":(function(c,u,l){l.r(u),l.d(u,{AcroForm:function(){return ea},AcroFormAppearance:function(){return nn},AcroFormButton:function(){return cn},AcroFormCheckBox:function(){return Rs},AcroFormChoiceField:function(){return Jn},AcroFormComboBox:function(){return Dr},AcroFormEditBox:function(){return An},AcroFormListBox:function(){return en},AcroFormPasswordField:function(){return ei},AcroFormPushButton:function(){return Pn},AcroFormRadioButton:function(){return li},AcroFormTextField:function(){return Cs},GState:function(){return At},ShadingPattern:function(){return Pe},TilingPattern:function(){return st},default:function(){return et},jsPDF:function(){return et}});var d=l("./node_modules/@babel/runtime/helpers/esm/typeof.js"),f=l("./node_modules/fflate/esm/browser.js"),A=l("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),p=l("./node_modules/fast-png/lib-esm/index.js");var v=(function(){return typeof window<"u"?window:typeof E1<"u"?E1:typeof self<"u"?self:this})();function y(){v.console&&typeof v.console.log=="function"&&v.console.log.apply(v.console,arguments)}var x={log:y,warn:function(B){v.console&&(typeof v.console.warn=="function"?v.console.warn.apply(v.console,arguments):y.call(null,arguments))},error:function(B){v.console&&(typeof v.console.error=="function"?v.console.error.apply(v.console,arguments):y(B))}};function w(B,N,D){var K=new XMLHttpRequest;K.open("GET",B),K.responseType="blob",K.onload=function(){C(K.response,N,D)},K.onerror=function(){x.error("could not download file")},K.send()}function E(B){var N=new XMLHttpRequest;N.open("HEAD",B,!1);try{N.send()}catch{}return N.status>=200&&N.status<=299}function T(B){try{B.dispatchEvent(new MouseEvent("click"))}catch{var N=document.createEvent("MouseEvents");N.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),B.dispatchEvent(N)}}var C=v.saveAs||((typeof window>"u"?"undefined":(0,d.default)(window))!=="object"||window!==v?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(B,N,D){var K=v.URL||v.webkitURL,X=document.createElement("a");N=N||B.name||"download",X.download=N,X.rel="noopener",typeof B=="string"?(X.href=B,X.origin!==location.origin?E(X.href)?w(B,N,D):T(X,X.target="_blank"):T(X)):(X.href=K.createObjectURL(B),setTimeout(function(){K.revokeObjectURL(X.href)},4e4),setTimeout(function(){T(X)},0))}:"msSaveOrOpenBlob"in navigator?function(B,N,D){if(N=N||B.name||"download",typeof B=="string")if(E(B))w(B,N,D);else{var K=document.createElement("a");K.href=B,K.target="_blank",setTimeout(function(){T(K)})}else navigator.msSaveOrOpenBlob((function(X,ee){return ee===void 0?ee={autoBom:!1}:(0,d.default)(ee)!=="object"&&(x.warn("Deprecated: Expected third argument to be a object"),ee={autoBom:!ee}),ee.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(X.type)?new Blob(["\uFEFF",X],{type:X.type}):X})(B,D),N)}:function(B,N,D,K){if((K=K||open("","_blank"))&&(K.document.title=K.document.body.innerText="downloading..."),typeof B=="string")return w(B,N,D);var X=B.type==="application/octet-stream",ee=/constructor/i.test(v.HTMLElement)||v.safari,ve=/CriOS\/[\d]+/.test(navigator.userAgent);if((ve||X&&ee)&&(typeof FileReader>"u"?"undefined":(0,d.default)(FileReader))==="object"){var de=new FileReader;de.onloadend=function(){var Qe=de.result;Qe=ve?Qe:Qe.replace(/^data:[^;]*;/,"data:attachment/file;"),K?K.location.href=Qe:location=Qe,K=null},de.readAsDataURL(B)}else{var fe=v.URL||v.webkitURL,ke=fe.createObjectURL(B);K?K.location=ke:location.href=ke,K=null,setTimeout(function(){fe.revokeObjectURL(ke)},4e4)}});function j(B){var N;B=B||"",this.ok=!1,B.charAt(0)=="#"&&(B=B.substr(1,6)),B={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[B=(B=B.replace(/ /g,"")).toLowerCase()]||B;for(var D=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(de){return[parseInt(de[1]),parseInt(de[2]),parseInt(de[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(de){return[parseInt(de[1],16),parseInt(de[2],16),parseInt(de[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(de){return[parseInt(de[1]+de[1],16),parseInt(de[2]+de[2],16),parseInt(de[3]+de[3],16)]}}],K=0;K<D.length;K++){var X=D[K].re,ee=D[K].process,ve=X.exec(B);ve&&(N=ee(ve),this.r=N[0],this.g=N[1],this.b=N[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var de=this.r.toString(16),fe=this.g.toString(16),ke=this.b.toString(16);return de.length==1&&(de="0"+de),fe.length==1&&(fe="0"+fe),ke.length==1&&(ke="0"+ke),"#"+de+fe+ke}}var P=v.atob.bind(v),U=v.btoa.bind(v);function W(B,N){var D=B[0],K=B[1],X=B[2],ee=B[3];D=re(D,K,X,ee,N[0],7,-680876936),ee=re(ee,D,K,X,N[1],12,-389564586),X=re(X,ee,D,K,N[2],17,606105819),K=re(K,X,ee,D,N[3],22,-1044525330),D=re(D,K,X,ee,N[4],7,-176418897),ee=re(ee,D,K,X,N[5],12,1200080426),X=re(X,ee,D,K,N[6],17,-1473231341),K=re(K,X,ee,D,N[7],22,-45705983),D=re(D,K,X,ee,N[8],7,1770035416),ee=re(ee,D,K,X,N[9],12,-1958414417),X=re(X,ee,D,K,N[10],17,-42063),K=re(K,X,ee,D,N[11],22,-1990404162),D=re(D,K,X,ee,N[12],7,1804603682),ee=re(ee,D,K,X,N[13],12,-40341101),X=re(X,ee,D,K,N[14],17,-1502002290),D=ie(D,K=re(K,X,ee,D,N[15],22,1236535329),X,ee,N[1],5,-165796510),ee=ie(ee,D,K,X,N[6],9,-1069501632),X=ie(X,ee,D,K,N[11],14,643717713),K=ie(K,X,ee,D,N[0],20,-373897302),D=ie(D,K,X,ee,N[5],5,-701558691),ee=ie(ee,D,K,X,N[10],9,38016083),X=ie(X,ee,D,K,N[15],14,-660478335),K=ie(K,X,ee,D,N[4],20,-405537848),D=ie(D,K,X,ee,N[9],5,568446438),ee=ie(ee,D,K,X,N[14],9,-1019803690),X=ie(X,ee,D,K,N[3],14,-187363961),K=ie(K,X,ee,D,N[8],20,1163531501),D=ie(D,K,X,ee,N[13],5,-1444681467),ee=ie(ee,D,K,X,N[2],9,-51403784),X=ie(X,ee,D,K,N[7],14,1735328473),D=Ae(D,K=ie(K,X,ee,D,N[12],20,-1926607734),X,ee,N[5],4,-378558),ee=Ae(ee,D,K,X,N[8],11,-2022574463),X=Ae(X,ee,D,K,N[11],16,1839030562),K=Ae(K,X,ee,D,N[14],23,-35309556),D=Ae(D,K,X,ee,N[1],4,-1530992060),ee=Ae(ee,D,K,X,N[4],11,1272893353),X=Ae(X,ee,D,K,N[7],16,-155497632),K=Ae(K,X,ee,D,N[10],23,-1094730640),D=Ae(D,K,X,ee,N[13],4,681279174),ee=Ae(ee,D,K,X,N[0],11,-358537222),X=Ae(X,ee,D,K,N[3],16,-722521979),K=Ae(K,X,ee,D,N[6],23,76029189),D=Ae(D,K,X,ee,N[9],4,-640364487),ee=Ae(ee,D,K,X,N[12],11,-421815835),X=Ae(X,ee,D,K,N[15],16,530742520),D=be(D,K=Ae(K,X,ee,D,N[2],23,-995338651),X,ee,N[0],6,-198630844),ee=be(ee,D,K,X,N[7],10,1126891415),X=be(X,ee,D,K,N[14],15,-1416354905),K=be(K,X,ee,D,N[5],21,-57434055),D=be(D,K,X,ee,N[12],6,1700485571),ee=be(ee,D,K,X,N[3],10,-1894986606),X=be(X,ee,D,K,N[10],15,-1051523),K=be(K,X,ee,D,N[1],21,-2054922799),D=be(D,K,X,ee,N[8],6,1873313359),ee=be(ee,D,K,X,N[15],10,-30611744),X=be(X,ee,D,K,N[6],15,-1560198380),K=be(K,X,ee,D,N[13],21,1309151649),D=be(D,K,X,ee,N[4],6,-145523070),ee=be(ee,D,K,X,N[11],10,-1120210379),X=be(X,ee,D,K,N[2],15,718787259),K=be(K,X,ee,D,N[9],21,-343485551),B[0]=we(D,B[0]),B[1]=we(K,B[1]),B[2]=we(X,B[2]),B[3]=we(ee,B[3])}function q(B,N,D,K,X,ee){return N=we(we(N,B),we(K,ee)),we(N<<X|N>>>32-X,D)}function re(B,N,D,K,X,ee,ve){return q(N&D|~N&K,B,N,X,ee,ve)}function ie(B,N,D,K,X,ee,ve){return q(N&K|D&~K,B,N,X,ee,ve)}function Ae(B,N,D,K,X,ee,ve){return q(N^D^K,B,N,X,ee,ve)}function be(B,N,D,K,X,ee,ve){return q(D^(N|~K),B,N,X,ee,ve)}function Ee(B){var N,D=B.length,K=[1732584193,-271733879,-1732584194,271733878];for(N=64;N<=B.length;N+=64)W(K,ge(B.substring(N-64,N)));B=B.substring(N-64);var X=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(N=0;N<B.length;N++)X[N>>2]|=B.charCodeAt(N)<<(N%4<<3);if(X[N>>2]|=128<<(N%4<<3),N>55)for(W(K,X),N=0;N<16;N++)X[N]=0;return X[14]=8*D,W(K,X),K}function ge(B){var N,D=[];for(N=0;N<64;N+=4)D[N>>2]=B.charCodeAt(N)+(B.charCodeAt(N+1)<<8)+(B.charCodeAt(N+2)<<16)+(B.charCodeAt(N+3)<<24);return D}var se="0123456789abcdef".split("");function xe(B){for(var N="",D=0;D<4;D++)N+=se[B>>8*D+4&15]+se[B>>8*D&15];return N}function ce(B){return String.fromCharCode(255&B,(65280&B)>>8,(16711680&B)>>16,(4278190080&B)>>24)}function Me(B){return Ee(B).map(ce).join("")}var Oe=(function(B){for(var N=0;N<B.length;N++)B[N]=xe(B[N]);return B.join("")})(Ee("hello"))!="5d41402abc4b2a76b9719d911017c592";function we(B,N){if(Oe){var D=(65535&B)+(65535&N);return(B>>16)+(N>>16)+(D>>16)<<16|65535&D}return B+N&4294967295}function ue(B,N){var D,K,X,ee;if(B!==D){for(var ve=(X=B,ee=1+(256/B.length|0),new Array(ee+1).join(X)),de=[],fe=0;fe<256;fe++)de[fe]=fe;var ke=0;for(fe=0;fe<256;fe++){var Qe=de[fe];ke=(ke+Qe+ve.charCodeAt(fe))%256,de[fe]=de[ke],de[ke]=Qe}D=B,K=de}else de=K;var Xe=N.length,lt=0,Ce=0,_t="";for(fe=0;fe<Xe;fe++)Ce=(Ce+(Qe=de[lt=(lt+1)%256]))%256,de[lt]=de[Ce],de[Ce]=Qe,ve=de[(de[lt]+de[Ce])%256],_t+=String.fromCharCode(N.charCodeAt(fe)^ve);return _t}var ye={print:4,modify:8,copy:16,"annot-forms":32};function Le(B,N,D,K){this.v=1,this.r=2;var X=192;B.forEach(function(de){if(ye.perm!==void 0)throw new Error("Invalid permission: "+de);X+=ye[de]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var ee=(N+this.padding).substr(0,32),ve=(D+this.padding).substr(0,32);this.O=this.processOwnerPassword(ee,ve),this.P=-(1+(255^X)),this.encryptionKey=Me(ee+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(K)).substr(0,5),this.U=ue(this.encryptionKey,this.padding)}function He(B){if(/[^\u0000-\u00ff]/.test(B))throw new Error("Invalid PDF Name Object: "+B+", Only accept ASCII characters.");for(var N="",D=B.length,K=0;K<D;K++){var X=B.charCodeAt(K);N+=X<33||X===35||X===37||X===40||X===41||X===47||X===60||X===62||X===91||X===93||X===123||X===125||X>126?"#"+("0"+X.toString(16)).slice(-2):B[K]}return N}function Fe(B){if((0,d.default)(B)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var N={};this.subscribe=function(D,K,X){if(X=X||!1,typeof D!="string"||typeof K!="function"||typeof X!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");N.hasOwnProperty(D)||(N[D]={});var ee=Math.random().toString(35);return N[D][ee]=[K,!!X],ee},this.unsubscribe=function(D){for(var K in N)if(N[K][D])return delete N[K][D],Object.keys(N[K]).length===0&&delete N[K],!0;return!1},this.publish=function(D){if(N.hasOwnProperty(D)){var K=Array.prototype.slice.call(arguments,1),X=[];for(var ee in N[D]){var ve=N[D][ee];try{ve[0].apply(B,K)}catch(de){v.console&&x.error("jsPDF PubSub Error",de.message,de)}ve[1]&&X.push(ee)}X.length&&X.forEach(this.unsubscribe)}},this.getTopics=function(){return N}}function At(B){if(!(this instanceof At))return new At(B);var N="opacity,stroke-opacity".split(",");for(var D in B)B.hasOwnProperty(D)&&N.indexOf(D)>=0&&(this[D]=B[D]);this.id="",this.objectNumber=-1}function pt(B,N){this.gState=B,this.matrix=N,this.id="",this.objectNumber=-1}function Pe(B,N,D,K,X){if(!(this instanceof Pe))return new Pe(B,N,D,K,X);this.type=B==="axial"?2:3,this.coords=N,this.colors=D,pt.call(this,K,X)}function st(B,N,D,K,X){if(!(this instanceof st))return new st(B,N,D,K,X);this.boundingBox=B,this.xStep=N,this.yStep=D,this.stream="",this.cloneIndex=0,pt.call(this,K,X)}function et(B){var N,D=typeof arguments[0]=="string"?arguments[0]:"p",K=arguments[1],X=arguments[2],ee=arguments[3],ve=[],de=1,fe=16,ke="S",Qe=null;(0,d.default)(B=B||{})==="object"&&(D=B.orientation,K=B.unit||K,X=B.format||X,ee=B.compress||B.compressPdf||ee,(Qe=B.encryption||null)!==null&&(Qe.userPassword=Qe.userPassword||"",Qe.ownerPassword=Qe.ownerPassword||"",Qe.userPermissions=Qe.userPermissions||[]),de=typeof B.userUnit=="number"?Math.abs(B.userUnit):1,B.precision!==void 0&&(N=B.precision),B.floatPrecision!==void 0&&(fe=B.floatPrecision),ke=B.defaultPathOperation||"S"),ve=B.filters||(ee===!0?["FlateEncode"]:ve),K=K||"mm",D=(""+(D||"P")).toLowerCase();var Xe=B.putOnlyUsedFonts||!1,lt={},Ce={internal:{},__private__:{}};Ce.__private__.PubSub=Fe;var _t="1.3",at=Ce.__private__.getPdfVersion=function(){return _t};Ce.__private__.setPdfVersion=function(le){_t=le};var Tt={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};Ce.__private__.getPageFormats=function(){return Tt};var rt=Ce.__private__.getPageFormat=function(le){return Tt[le]};X=X||"a4";var Bt="compat",Yt="advanced",kt=Bt;function tt(){this.saveGraphicsState(),mt(new bi(ki,0,0,-ki,0,oh()*ki).toString()+" cm"),this.setFontSize(this.getFontSize()/ki),ke="n",kt=Yt}function Vt(){this.restoreGraphicsState(),ke="S",kt=Bt}var Er=Ce.__private__.combineFontStyleAndFontWeight=function(le,Re){if(le=="bold"&&Re=="normal"||le=="bold"&&Re==400||le=="normal"&&Re=="italic"||le=="bold"&&Re=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Re&&(le=Re==400||Re==="normal"?le==="italic"?"italic":"normal":Re!=700&&Re!=="bold"||le!=="normal"?(Re==700?"bold":Re)+""+le:"bold"),le};Ce.advancedAPI=function(le){var Re=kt===Bt;return Re&&tt.call(this),typeof le!="function"||(le(this),Re&&Vt.call(this)),this},Ce.compatAPI=function(le){var Re=kt===Yt;return Re&&Vt.call(this),typeof le!="function"||(le(this),Re&&tt.call(this)),this},Ce.isAdvancedAPI=function(){return kt===Yt};var nr,Rt=function(le){if(kt!==Yt)throw new Error(le+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},yr=Ce.roundToPrecision=Ce.__private__.roundToPrecision=function(le,Re){var xt=N||Re;if(isNaN(le)||isNaN(xt))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return le.toFixed(xt).replace(/0+$/,"")};nr=Ce.hpf=Ce.__private__.hpf=typeof fe=="number"?function(le){if(isNaN(le))throw new Error("Invalid argument passed to jsPDF.hpf");return yr(le,fe)}:fe==="smart"?function(le){if(isNaN(le))throw new Error("Invalid argument passed to jsPDF.hpf");return yr(le,le>-1&&le<1?16:5)}:function(le){if(isNaN(le))throw new Error("Invalid argument passed to jsPDF.hpf");return yr(le,16)};var it=Ce.f2=Ce.__private__.f2=function(le){if(isNaN(le))throw new Error("Invalid argument passed to jsPDF.f2");return yr(le,2)},ft=Ce.__private__.f3=function(le){if(isNaN(le))throw new Error("Invalid argument passed to jsPDF.f3");return yr(le,3)},Ot=Ce.scale=Ce.__private__.scale=function(le){if(isNaN(le))throw new Error("Invalid argument passed to jsPDF.scale");return kt===Bt?le*ki:kt===Yt?le:void 0},Pt=function(le){return Ot((function(Re){return kt===Bt?oh()-Re:kt===Yt?Re:void 0})(le))};Ce.__private__.setPrecision=Ce.setPrecision=function(le){typeof parseInt(le,10)=="number"&&(N=parseInt(le,10))};var Ar,Tr="00000000000000000000000000000000",Lr=Ce.__private__.getFileId=function(){return Tr},ar=Ce.__private__.setFileId=function(le){return Tr=le!==void 0&&/^[a-fA-F0-9]{32}$/.test(le)?le.toUpperCase():Tr.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),Qe!==null&&(Lo=new Le(Qe.userPermissions,Qe.userPassword,Qe.ownerPassword,Tr)),Tr};Ce.setFileId=function(le){return ar(le),this},Ce.getFileId=function(){return Lr()};var Ir=Ce.__private__.convertDateToPDFDate=function(le){var Re=le.getTimezoneOffset(),xt=Re<0?"+":"-",It=Math.floor(Math.abs(Re/60)),Jt=Math.abs(Re%60),Mr=[xt,Nt(It),"'",Nt(Jt),"'"].join("");return["D:",le.getFullYear(),Nt(le.getMonth()+1),Nt(le.getDate()),Nt(le.getHours()),Nt(le.getMinutes()),Nt(le.getSeconds()),Mr].join("")},hn=Ce.__private__.convertPDFDateToDate=function(le){var Re=parseInt(le.substr(2,4),10),xt=parseInt(le.substr(6,2),10)-1,It=parseInt(le.substr(8,2),10),Jt=parseInt(le.substr(10,2),10),Mr=parseInt(le.substr(12,2),10),Yr=parseInt(le.substr(14,2),10);return new Date(Re,xt,It,Jt,Mr,Yr,0)},Zr=Ce.__private__.setCreationDate=function(le){var Re;if(le===void 0&&(le=new Date),le instanceof Date)Re=Ir(le);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(le))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Re=le}return Ar=Re},Ye=Ce.__private__.getCreationDate=function(le){var Re=Ar;return le==="jsDate"&&(Re=hn(Ar)),Re};Ce.setCreationDate=function(le){return Zr(le),this},Ce.getCreationDate=function(le){return Ye(le)};var St,Nt=Ce.__private__.padd2=function(le){return("0"+parseInt(le)).slice(-2)},Kt=Ce.__private__.padd2Hex=function(le){return("00"+(le=le.toString())).substr(le.length)},qt=0,cr=[],Cr=[],Sr=0,Vr=[],un=[],bn=!1,Rn=Cr;Ce.__private__.setCustomOutputDestination=function(le){bn=!0,Rn=le};var yi=function(le){bn||(Rn=le)};Ce.__private__.resetCustomOutputDestination=function(){bn=!1,Rn=Cr};var mt=Ce.__private__.out=function(le){return le=le.toString(),Sr+=le.length+1,Rn.push(le),Rn},_n=Ce.__private__.write=function(le){return mt(arguments.length===1?le.toString():Array.prototype.join.call(arguments," "))},Ri=Ce.__private__.getArrayBuffer=function(le){for(var Re=le.length,xt=new ArrayBuffer(Re),It=new Uint8Array(xt);Re--;)It[Re]=le.charCodeAt(Re);return xt},Sn=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];Ce.__private__.getStandardFonts=function(){return Sn};var tn=B.fontSize||16;Ce.__private__.setFontSize=Ce.setFontSize=function(le){return tn=kt===Yt?le/ki:le,this};var ji,Fn=Ce.__private__.getFontSize=Ce.getFontSize=function(){return kt===Bt?tn:tn*ki},Hn=B.R2L||!1;Ce.__private__.setR2L=Ce.setR2L=function(le){return Hn=le,this},Ce.__private__.getR2L=Ce.getR2L=function(){return Hn};var $n,ga=Ce.__private__.setZoomMode=function(le){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(le))ji=le;else if(isNaN(le)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(le)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+le+'" is not recognized.');ji=le}else ji=parseInt(le,10)};Ce.__private__.getZoomMode=function(){return ji};var Di,Gn=Ce.__private__.setPageMode=function(le){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(le)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+le+'" is not recognized.');$n=le};Ce.__private__.getPageMode=function(){return $n};var ns=Ce.__private__.setLayoutMode=function(le){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(le)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+le+'" is not recognized.');Di=le};Ce.__private__.getLayoutMode=function(){return Di},Ce.__private__.setDisplayMode=Ce.setDisplayMode=function(le,Re,xt){return ga(le),ns(Re),Gn(xt),this};var _i={title:"",subject:"",author:"",keywords:"",creator:""};Ce.__private__.getDocumentProperty=function(le){if(Object.keys(_i).indexOf(le)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return _i[le]},Ce.__private__.getDocumentProperties=function(){return _i},Ce.__private__.setDocumentProperties=Ce.setProperties=Ce.setDocumentProperties=function(le){for(var Re in _i)_i.hasOwnProperty(Re)&&le[Re]&&(_i[Re]=le[Re]);return this},Ce.__private__.setDocumentProperty=function(le,Re){if(Object.keys(_i).indexOf(le)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return _i[le]=Re};var Un,ki,Wn,Gi,is,Zi={},gs={},ja=[],xi={},Ws={},Qi={},ai={},ua=null,Ii=0,yn=[],ls=new Fe(Ce),xu=B.hotfixes||[],io={},zo={},Jl=[],bi=function le(Re,xt,It,Jt,Mr,Yr){if(!(this instanceof le))return new le(Re,xt,It,Jt,Mr,Yr);isNaN(Re)&&(Re=1),isNaN(xt)&&(xt=0),isNaN(It)&&(It=0),isNaN(Jt)&&(Jt=1),isNaN(Mr)&&(Mr=0),isNaN(Yr)&&(Yr=0),this._matrix=[Re,xt,It,Jt,Mr,Yr]};Object.defineProperty(bi.prototype,"sx",{get:function(){return this._matrix[0]},set:function(le){this._matrix[0]=le}}),Object.defineProperty(bi.prototype,"shy",{get:function(){return this._matrix[1]},set:function(le){this._matrix[1]=le}}),Object.defineProperty(bi.prototype,"shx",{get:function(){return this._matrix[2]},set:function(le){this._matrix[2]=le}}),Object.defineProperty(bi.prototype,"sy",{get:function(){return this._matrix[3]},set:function(le){this._matrix[3]=le}}),Object.defineProperty(bi.prototype,"tx",{get:function(){return this._matrix[4]},set:function(le){this._matrix[4]=le}}),Object.defineProperty(bi.prototype,"ty",{get:function(){return this._matrix[5]},set:function(le){this._matrix[5]=le}}),Object.defineProperty(bi.prototype,"a",{get:function(){return this._matrix[0]},set:function(le){this._matrix[0]=le}}),Object.defineProperty(bi.prototype,"b",{get:function(){return this._matrix[1]},set:function(le){this._matrix[1]=le}}),Object.defineProperty(bi.prototype,"c",{get:function(){return this._matrix[2]},set:function(le){this._matrix[2]=le}}),Object.defineProperty(bi.prototype,"d",{get:function(){return this._matrix[3]},set:function(le){this._matrix[3]=le}}),Object.defineProperty(bi.prototype,"e",{get:function(){return this._matrix[4]},set:function(le){this._matrix[4]=le}}),Object.defineProperty(bi.prototype,"f",{get:function(){return this._matrix[5]},set:function(le){this._matrix[5]=le}}),Object.defineProperty(bi.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(bi.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(bi.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(bi.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),bi.prototype.join=function(le){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(nr).join(le)},bi.prototype.multiply=function(le){var Re=le.sx*this.sx+le.shy*this.shx,xt=le.sx*this.shy+le.shy*this.sy,It=le.shx*this.sx+le.sy*this.shx,Jt=le.shx*this.shy+le.sy*this.sy,Mr=le.tx*this.sx+le.ty*this.shx+this.tx,Yr=le.tx*this.shy+le.ty*this.sy+this.ty;return new bi(Re,xt,It,Jt,Mr,Yr)},bi.prototype.decompose=function(){var le=this.sx,Re=this.shy,xt=this.shx,It=this.sy,Jt=this.tx,Mr=this.ty,Yr=Math.sqrt(le*le+Re*Re),ti=(le/=Yr)*xt+(Re/=Yr)*It;xt-=le*ti,It-=Re*ti;var ri=Math.sqrt(xt*xt+It*It);return ti/=ri,le*(It/=ri)<Re*(xt/=ri)&&(le=-le,Re=-Re,ti=-ti,Yr=-Yr),{scale:new bi(Yr,0,0,ri,0,0),translate:new bi(1,0,0,1,Jt,Mr),rotate:new bi(le,Re,-Re,le,0,0),skew:new bi(1,0,ti,1,0,0)}},bi.prototype.toString=function(le){return this.join(" ")},bi.prototype.inversed=function(){var le=this.sx,Re=this.shy,xt=this.shx,It=this.sy,Jt=this.tx,Mr=this.ty,Yr=1/(le*It-Re*xt),ti=It*Yr,ri=-Re*Yr,Yi=-xt*Yr,as=le*Yr;return new bi(ti,ri,Yi,as,-ti*Jt-Yi*Mr,-ri*Jt-as*Mr)},bi.prototype.applyToPoint=function(le){var Re=le.x*this.sx+le.y*this.shx+this.tx,xt=le.x*this.shy+le.y*this.sy+this.ty;return new iu(Re,xt)},bi.prototype.applyToRectangle=function(le){var Re=this.applyToPoint(le),xt=this.applyToPoint(new iu(le.x+le.w,le.y+le.h));return new wd(Re.x,Re.y,xt.x-Re.x,xt.y-Re.y)},bi.prototype.clone=function(){var le=this.sx,Re=this.shy,xt=this.shx,It=this.sy,Jt=this.tx,Mr=this.ty;return new bi(le,Re,xt,It,Jt,Mr)},Ce.Matrix=bi;var Ra=Ce.matrixMult=function(le,Re){return Re.multiply(le)},Xa=new bi(1,0,0,1,0,0);Ce.unitMatrix=Ce.identityMatrix=Xa;var Ul=function(le,Re){if(!Ws[le]){var xt=(Re instanceof Pe?"Sh":"P")+(Object.keys(xi).length+1).toString(10);Re.id=xt,Ws[le]=xt,xi[xt]=Re,ls.publish("addPattern",Re)}};Ce.ShadingPattern=Pe,Ce.TilingPattern=st,Ce.addShadingPattern=function(le,Re){return Rt("addShadingPattern()"),Ul(le,Re),this},Ce.beginTilingPattern=function(le){Rt("beginTilingPattern()"),zc(le.boundingBox[0],le.boundingBox[1],le.boundingBox[2]-le.boundingBox[0],le.boundingBox[3]-le.boundingBox[1],le.matrix)},Ce.endTilingPattern=function(le,Re){Rt("endTilingPattern()"),Re.stream=un[St].join(`
`),Ul(le,Re),ls.publish("endTilingPattern",Re),Jl.pop().restore()};var $l,da=Ce.__private__.newObject=function(){var le=vo();return Za(le,!0),le},vo=Ce.__private__.newObjectDeferred=function(){return qt++,cr[qt]=function(){return Sr},qt},Za=function(le,Re){return Re=typeof Re=="boolean"&&Re,cr[le]=Sr,Re&&mt(le+" 0 obj"),le},$c=Ce.__private__.newAdditionalObject=function(){var le={objId:vo(),content:""};return Vr.push(le),le},To=vo(),Ac=vo(),Ka=Ce.__private__.decodeColorString=function(le){var Re=le.split(" ");if(Re.length!==2||Re[1]!=="g"&&Re[1]!=="G")Re.length!==5||Re[4]!=="k"&&Re[4]!=="K"||(Re=[(1-Re[0])*(1-Re[3]),(1-Re[1])*(1-Re[3]),(1-Re[2])*(1-Re[3]),"r"]);else{var xt=parseFloat(Re[0]);Re=[xt,xt,xt,"r"]}for(var It="#",Jt=0;Jt<3;Jt++)It+=("0"+Math.floor(255*parseFloat(Re[Jt])).toString(16)).slice(-2);return It},Hl=Ce.__private__.encodeColorString=function(le){var Re;typeof le=="string"&&(le={ch1:le});var xt=le.ch1,It=le.ch2,Jt=le.ch3,Mr=le.ch4,Yr=le.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof xt=="string"&&xt.charAt(0)!=="#"){var ti=new j(xt);if(ti.ok)xt=ti.toHex();else if(!/^\d*\.?\d*$/.test(xt))throw new Error('Invalid color "'+xt+'" passed to jsPDF.encodeColorString.')}if(typeof xt=="string"&&/^#[0-9A-Fa-f]{3}$/.test(xt)&&(xt="#"+xt[1]+xt[1]+xt[2]+xt[2]+xt[3]+xt[3]),typeof xt=="string"&&/^#[0-9A-Fa-f]{6}$/.test(xt)){var ri=parseInt(xt.substr(1),16);xt=ri>>16&255,It=ri>>8&255,Jt=255&ri}if(It===void 0||Mr===void 0&&xt===It&&It===Jt)Re=typeof xt=="string"?xt+" "+Yr[0]:le.precision===2?it(xt/255)+" "+Yr[0]:ft(xt/255)+" "+Yr[0];else if(Mr===void 0||(0,d.default)(Mr)==="object"){if(Mr&&!isNaN(Mr.a)&&Mr.a===0)return["1.","1.","1.",Yr[1]].join(" ");Re=typeof xt=="string"?[xt,It,Jt,Yr[1]].join(" "):le.precision===2?[it(xt/255),it(It/255),it(Jt/255),Yr[1]].join(" "):[ft(xt/255),ft(It/255),ft(Jt/255),Yr[1]].join(" ")}else Re=typeof xt=="string"?[xt,It,Jt,Mr,Yr[2]].join(" "):le.precision===2?[it(xt),it(It),it(Jt),it(Mr),Yr[2]].join(" "):[ft(xt),ft(It),ft(Jt),ft(Mr),Yr[2]].join(" ");return Re},Ql=Ce.__private__.getFilters=function(){return ve},Il=Ce.__private__.putStream=function(le){var Re=(le=le||{}).data||"",xt=le.filters||Ql(),It=le.alreadyAppliedFilters||[],Jt=le.addLength1||!1,Mr=Re.length,Yr=le.objectId,ti=function(Go){return Go};if(Qe!==null&&Yr===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");Qe!==null&&(ti=Lo.encryptor(Yr,0));var ri={};xt===!0&&(xt=["FlateEncode"]);var Yi=le.additionalKeyValues||[],as=(ri=et.API.processDataByFilters!==void 0?et.API.processDataByFilters(Re,xt):{data:Re,reverseChain:[]}).reverseChain+(Array.isArray(It)?It.join(" "):It.toString());if(ri.data.length!==0&&(Yi.push({key:"Length",value:ri.data.length}),Jt===!0&&Yi.push({key:"Length1",value:Mr})),as.length!=0)if(as.split("/").length-1==1)Yi.push({key:"Filter",value:as});else{Yi.push({key:"Filter",value:"["+as+"]"});for(var ra=0;ra<Yi.length;ra+=1)if(Yi[ra].key==="DecodeParms"){for(var Ma=[],Oo=0;Oo<ri.reverseChain.split("/").length-1;Oo+=1)Ma.push("null");Ma.push(Yi[ra].value),Yi[ra].value="["+Ma.join(" ")+"]"}}mt("<<");for(var Na=0;Na<Yi.length;Na++)mt("/"+Yi[Na].key+" "+Yi[Na].value);mt(">>"),ri.data.length!==0&&(mt("stream"),mt(ti(ri.data)),mt("endstream"))},gd=Ce.__private__.putPage=function(le){var Re=le.number,xt=le.data,It=le.objId,Jt=le.contentsObjId;Za(It,!0),mt("<</Type /Page"),mt("/Parent "+le.rootDictionaryObjId+" 0 R"),mt("/Resources "+le.resourceDictionaryObjId+" 0 R"),mt("/MediaBox ["+parseFloat(nr(le.mediaBox.bottomLeftX))+" "+parseFloat(nr(le.mediaBox.bottomLeftY))+" "+nr(le.mediaBox.topRightX)+" "+nr(le.mediaBox.topRightY)+"]"),le.cropBox!==null&&mt("/CropBox ["+nr(le.cropBox.bottomLeftX)+" "+nr(le.cropBox.bottomLeftY)+" "+nr(le.cropBox.topRightX)+" "+nr(le.cropBox.topRightY)+"]"),le.bleedBox!==null&&mt("/BleedBox ["+nr(le.bleedBox.bottomLeftX)+" "+nr(le.bleedBox.bottomLeftY)+" "+nr(le.bleedBox.topRightX)+" "+nr(le.bleedBox.topRightY)+"]"),le.trimBox!==null&&mt("/TrimBox ["+nr(le.trimBox.bottomLeftX)+" "+nr(le.trimBox.bottomLeftY)+" "+nr(le.trimBox.topRightX)+" "+nr(le.trimBox.topRightY)+"]"),le.artBox!==null&&mt("/ArtBox ["+nr(le.artBox.bottomLeftX)+" "+nr(le.artBox.bottomLeftY)+" "+nr(le.artBox.topRightX)+" "+nr(le.artBox.topRightY)+"]"),typeof le.userUnit=="number"&&le.userUnit!==1&&mt("/UserUnit "+le.userUnit),ls.publish("putPage",{objId:It,pageContext:yn[Re],pageNumber:Re,page:xt}),mt("/Contents "+Jt+" 0 R"),mt(">>"),mt("endobj");var Mr=xt.join(`
`);return kt===Yt&&(Mr+=`
Q`),Za(Jt,!0),Il({data:Mr,filters:Ql(),objectId:Jt}),mt("endobj"),It},ec=Ce.__private__.putPages=function(){var le,Re,xt=[];for(le=1;le<=Ii;le++)yn[le].objId=vo(),yn[le].contentsObjId=vo();for(le=1;le<=Ii;le++)xt.push(gd({number:le,data:un[le],objId:yn[le].objId,contentsObjId:yn[le].contentsObjId,mediaBox:yn[le].mediaBox,cropBox:yn[le].cropBox,bleedBox:yn[le].bleedBox,trimBox:yn[le].trimBox,artBox:yn[le].artBox,userUnit:yn[le].userUnit,rootDictionaryObjId:To,resourceDictionaryObjId:Ac}));Za(To,!0),mt("<</Type /Pages");var It="/Kids [";for(Re=0;Re<Ii;Re++)It+=xt[Re]+" 0 R ";mt(It+"]"),mt("/Count "+Ii),mt(">>"),mt("endobj"),ls.publish("postPutPages")},Vl=function(le){ls.publish("putFont",{font:le,out:mt,newObject:da,putStream:Il}),le.isAlreadyPutted!==!0&&(le.objectNumber=da(),mt("<<"),mt("/Type /Font"),mt("/BaseFont /"+He(le.postScriptName)),mt("/Subtype /Type1"),typeof le.encoding=="string"&&mt("/Encoding /"+le.encoding),mt("/FirstChar 32"),mt("/LastChar 255"),mt(">>"),mt("endobj"))},mc=function(le){le.objectNumber=da();var Re=[];Re.push({key:"Type",value:"/XObject"}),Re.push({key:"Subtype",value:"/Form"}),Re.push({key:"BBox",value:"["+[nr(le.x),nr(le.y),nr(le.x+le.width),nr(le.y+le.height)].join(" ")+"]"}),Re.push({key:"Matrix",value:"["+le.matrix.toString()+"]"});var xt=le.pages[1].join(`
`);Il({data:xt,additionalKeyValues:Re,objectId:le.objectNumber}),mt("endobj")},vd=function(le,Re){Re||(Re=21);var xt=da(),It=(function(Yr,ti){var ri,Yi=[],as=1/(ti-1);for(ri=0;ri<1;ri+=as)Yi.push(ri);if(Yi.push(1),Yr[0].offset!=0){var ra={offset:0,color:Yr[0].color};Yr.unshift(ra)}if(Yr[Yr.length-1].offset!=1){var Ma={offset:1,color:Yr[Yr.length-1].color};Yr.push(Ma)}for(var Oo="",Na=0,Go=0;Go<Yi.length;Go++){for(ri=Yi[Go];ri>Yr[Na+1].offset;)Na++;var O=Yr[Na].offset,Be=(ri-O)/(Yr[Na+1].offset-O),J=Yr[Na].color,qe=Yr[Na+1].color;Oo+=Kt(Math.round((1-Be)*J[0]+Be*qe[0]).toString(16))+Kt(Math.round((1-Be)*J[1]+Be*qe[1]).toString(16))+Kt(Math.round((1-Be)*J[2]+Be*qe[2]).toString(16))}return Oo.trim()})(le.colors,Re),Jt=[];Jt.push({key:"FunctionType",value:"0"}),Jt.push({key:"Domain",value:"[0.0 1.0]"}),Jt.push({key:"Size",value:"["+Re+"]"}),Jt.push({key:"BitsPerSample",value:"8"}),Jt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Jt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Il({data:It,additionalKeyValues:Jt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:xt}),mt("endobj"),le.objectNumber=da(),mt("<< /ShadingType "+le.type),mt("/ColorSpace /DeviceRGB");var Mr="/Coords ["+nr(parseFloat(le.coords[0]))+" "+nr(parseFloat(le.coords[1]))+" ";le.type===2?Mr+=nr(parseFloat(le.coords[2]))+" "+nr(parseFloat(le.coords[3])):Mr+=nr(parseFloat(le.coords[2]))+" "+nr(parseFloat(le.coords[3]))+" "+nr(parseFloat(le.coords[4]))+" "+nr(parseFloat(le.coords[5])),mt(Mr+="]"),le.matrix&&mt("/Matrix ["+le.matrix.toString()+"]"),mt("/Function "+xt+" 0 R"),mt("/Extend [true true]"),mt(">>"),mt("endobj")},zl=function(le,Re){var xt=vo(),It=da();Re.push({resourcesOid:xt,objectOid:It}),le.objectNumber=It;var Jt=[];Jt.push({key:"Type",value:"/Pattern"}),Jt.push({key:"PatternType",value:"1"}),Jt.push({key:"PaintType",value:"1"}),Jt.push({key:"TilingType",value:"1"}),Jt.push({key:"BBox",value:"["+le.boundingBox.map(nr).join(" ")+"]"}),Jt.push({key:"XStep",value:nr(le.xStep)}),Jt.push({key:"YStep",value:nr(le.yStep)}),Jt.push({key:"Resources",value:xt+" 0 R"}),le.matrix&&Jt.push({key:"Matrix",value:"["+le.matrix.toString()+"]"}),Il({data:le.stream,additionalKeyValues:Jt,objectId:le.objectNumber}),mt("endobj")},Kl=function(le){for(var Re in le.objectNumber=da(),mt("<<"),le)switch(Re){case"opacity":mt("/ca "+it(le[Re]));break;case"stroke-opacity":mt("/CA "+it(le[Re]))}mt(">>"),mt("endobj")},bu=function(le){Za(le.resourcesOid,!0),mt("<<"),mt("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var Re in mt("/Font <<"),Zi)Zi.hasOwnProperty(Re)&&(Xe===!1||Xe===!0&&lt.hasOwnProperty(Re))&&mt("/"+Re+" "+Zi[Re].objectNumber+" 0 R");mt(">>")})(),(function(){if(Object.keys(xi).length>0){for(var Re in mt("/Shading <<"),xi)xi.hasOwnProperty(Re)&&xi[Re]instanceof Pe&&xi[Re].objectNumber>=0&&mt("/"+Re+" "+xi[Re].objectNumber+" 0 R");ls.publish("putShadingPatternDict"),mt(">>")}})(),(function(Re){if(Object.keys(xi).length>0){for(var xt in mt("/Pattern <<"),xi)xi.hasOwnProperty(xt)&&xi[xt]instanceof Ce.TilingPattern&&xi[xt].objectNumber>=0&&xi[xt].objectNumber<Re&&mt("/"+xt+" "+xi[xt].objectNumber+" 0 R");ls.publish("putTilingPatternDict"),mt(">>")}})(le.objectOid),(function(){if(Object.keys(Qi).length>0){var Re;for(Re in mt("/ExtGState <<"),Qi)Qi.hasOwnProperty(Re)&&Qi[Re].objectNumber>=0&&mt("/"+Re+" "+Qi[Re].objectNumber+" 0 R");ls.publish("putGStateDict"),mt(">>")}})(),(function(){for(var Re in mt("/XObject <<"),io)io.hasOwnProperty(Re)&&io[Re].objectNumber>=0&&mt("/"+Re+" "+io[Re].objectNumber+" 0 R");ls.publish("putXobjectDict"),mt(">>")})(),mt(">>"),mt("endobj")},Gl=function(le){gs[le.fontName]=gs[le.fontName]||{},gs[le.fontName][le.fontStyle]=le.id},Io=function(le,Re,xt,It,Jt){var Mr={id:"F"+(Object.keys(Zi).length+1).toString(10),postScriptName:le,fontName:Re,fontStyle:xt,encoding:It,isStandardFont:Jt||!1,metadata:{}};return ls.publish("addFont",{font:Mr,instance:this}),Zi[Mr.id]=Mr,Gl(Mr),Mr.id},gl=Ce.__private__.pdfEscape=Ce.pdfEscape=function(le,Re){return(function(xt,It){var Jt,Mr,Yr,ti,ri,Yi,as,ra,Ma;if(Yr=(It=It||{}).sourceEncoding||"Unicode",ri=It.outputEncoding,(It.autoencode||ri)&&Zi[Un].metadata&&Zi[Un].metadata[Yr]&&Zi[Un].metadata[Yr].encoding&&(ti=Zi[Un].metadata[Yr].encoding,!ri&&Zi[Un].encoding&&(ri=Zi[Un].encoding),!ri&&ti.codePages&&(ri=ti.codePages[0]),typeof ri=="string"&&(ri=ti[ri]),ri)){for(as=!1,Yi=[],Jt=0,Mr=xt.length;Jt<Mr;Jt++)(ra=ri[xt.charCodeAt(Jt)])?Yi.push(String.fromCharCode(ra)):Yi.push(xt[Jt]),Yi[Jt].charCodeAt(0)>>8&&(as=!0);xt=Yi.join("")}for(Jt=xt.length;as===void 0&&Jt!==0;)xt.charCodeAt(Jt-1)>>8&&(as=!0),Jt--;if(!as)return xt;for(Yi=It.noBOM?[]:[254,255],Jt=0,Mr=xt.length;Jt<Mr;Jt++){if((Ma=(ra=xt.charCodeAt(Jt))>>8)>>8)throw new Error("Character at position "+Jt+" of string '"+xt+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Yi.push(Ma),Yi.push(ra-(Ma<<8))}return String.fromCharCode.apply(void 0,Yi)})(le,Re).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ru=Ce.__private__.beginPage=function(le){un[++Ii]=[],yn[Ii]={objId:0,contentsObjId:0,userUnit:Number(de),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(le[0]),topRightY:Number(le[1])}},tc(Ii),yi(un[St])},pc=function(le,Re){var xt,It,Jt;switch(D=Re||D,typeof le=="string"&&(xt=rt(le.toLowerCase()),Array.isArray(xt)&&(It=xt[0],Jt=xt[1])),Array.isArray(le)&&(It=le[0]*ki,Jt=le[1]*ki),isNaN(It)&&(It=X[0],Jt=X[1]),(It>14400||Jt>14400)&&(x.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),It=Math.min(14400,It),Jt=Math.min(14400,Jt)),X=[It,Jt],D.substr(0,1)){case"l":Jt>It&&(X=[Jt,It]);break;case"p":It>Jt&&(X=[Jt,It])}ru(X),Cn(Xs),mt(Ko),bc!==0&&mt(bc+" J"),Vc!==0&&mt(Vc+" j"),ls.publish("addPage",{pageNumber:Ii})},Ud=function(le){le>0&&le<=Ii&&(un.splice(le,1),yn.splice(le,1),Ii--,St>Ii&&(St=Ii),this.setPage(St))},tc=function(le){le>0&&le<=Ii&&(St=le)},zu=Ce.__private__.getNumberOfPages=Ce.getNumberOfPages=function(){return un.length-1},yd=function(le,Re,xt){var It,Jt=void 0;return xt=xt||{},le=le!==void 0?le:Zi[Un].fontName,Re=Re!==void 0?Re:Zi[Un].fontStyle,It=le.toLowerCase(),gs[It]!==void 0&&gs[It][Re]!==void 0?Jt=gs[It][Re]:gs[le]!==void 0&&gs[le][Re]!==void 0?Jt=gs[le][Re]:xt.disableWarning===!1&&x.warn("Unable to look up font label for font '"+le+"', '"+Re+"'. Refer to getFontList() for available fonts."),Jt||xt.noFallback||(Jt=gs.times[Re])==null&&(Jt=gs.times.normal),Jt},vl=Ce.__private__.putInfo=function(){var le=da(),Re=function(It){return It};for(var xt in Qe!==null&&(Re=Lo.encryptor(le,0)),mt("<<"),mt("/Producer ("+gl(Re("jsPDF "+et.version))+")"),_i)_i.hasOwnProperty(xt)&&_i[xt]&&mt("/"+xt.substr(0,1).toUpperCase()+xt.substr(1)+" ("+gl(Re(_i[xt]))+")");mt("/CreationDate ("+gl(Re(Ar))+")"),mt(">>"),mt("endobj")},nh=Ce.__private__.putCatalog=function(le){var Re=(le=le||{}).rootDictionaryObjId||To;switch(da(),mt("<<"),mt("/Type /Catalog"),mt("/Pages "+Re+" 0 R"),ji||(ji="fullwidth"),ji){case"fullwidth":mt("/OpenAction [3 0 R /FitH null]");break;case"fullheight":mt("/OpenAction [3 0 R /FitV null]");break;case"fullpage":mt("/OpenAction [3 0 R /Fit]");break;case"original":mt("/OpenAction [3 0 R /XYZ null null 1]");break;default:var xt=""+ji;xt.substr(xt.length-1)==="%"&&(ji=parseInt(ji)/100),typeof ji=="number"&&mt("/OpenAction [3 0 R /XYZ null null "+it(ji)+"]")}switch(Di||(Di="continuous"),Di){case"continuous":mt("/PageLayout /OneColumn");break;case"single":mt("/PageLayout /SinglePage");break;case"two":case"twoleft":mt("/PageLayout /TwoColumnLeft");break;case"tworight":mt("/PageLayout /TwoColumnRight")}$n&&mt("/PageMode /"+$n),ls.publish("putCatalog"),mt(">>"),mt("endobj")},Ll=Ce.__private__.putTrailer=function(){mt("trailer"),mt("<<"),mt("/Size "+(qt+1)),mt("/Root "+qt+" 0 R"),mt("/Info "+(qt-1)+" 0 R"),Qe!==null&&mt("/Encrypt "+Lo.oid+" 0 R"),mt("/ID [ <"+Tr+"> <"+Tr+"> ]"),mt(">>")},Fi=Ce.__private__.putHeader=function(){mt("%PDF-"+_t),mt("%")},gc=Ce.__private__.putXRef=function(){var le="0000000000";mt("xref"),mt("0 "+(qt+1)),mt("0000000000 65535 f ");for(var Re=1;Re<=qt;Re++)typeof cr[Re]=="function"?mt((le+cr[Re]()).slice(-10)+" 00000 n "):cr[Re]!==void 0?mt((le+cr[Re]).slice(-10)+" 00000 n "):mt("0000000000 00000 n ")},Hc=Ce.__private__.buildDocument=function(){var le;qt=0,Sr=0,Cr=[],cr=[],Vr=[],To=vo(),Ac=vo(),yi(Cr),ls.publish("buildDocument"),Fi(),ec(),(function(){ls.publish("putAdditionalObjects");for(var xt=0;xt<Vr.length;xt++){var It=Vr[xt];Za(It.objId,!0),mt(It.content),mt("endobj")}ls.publish("postPutAdditionalObjects")})(),le=[],(function(){for(var xt in Zi)Zi.hasOwnProperty(xt)&&(Xe===!1||Xe===!0&&lt.hasOwnProperty(xt))&&Vl(Zi[xt])})(),(function(){var xt;for(xt in Qi)Qi.hasOwnProperty(xt)&&Kl(Qi[xt])})(),(function(){for(var xt in io)io.hasOwnProperty(xt)&&mc(io[xt])})(),(function(xt){var It;for(It in xi)xi.hasOwnProperty(It)&&(xi[It]instanceof Pe?vd(xi[It]):xi[It]instanceof st&&zl(xi[It],xt))})(le),ls.publish("putResources"),le.forEach(bu),bu({resourcesOid:Ac,objectOid:Number.MAX_SAFE_INTEGER}),ls.publish("postPutResources"),Qe!==null&&(Lo.oid=da(),mt("<<"),mt("/Filter /Standard"),mt("/V "+Lo.v),mt("/R "+Lo.r),mt("/U <"+Lo.toHexString(Lo.U)+">"),mt("/O <"+Lo.toHexString(Lo.O)+">"),mt("/P "+Lo.P),mt(">>"),mt("endobj")),vl(),nh();var Re=Sr;return gc(),Ll(),mt("startxref"),mt(""+Re),mt("%%EOF"),yi(un[St]),Cr.join(`
`)},Qc=Ce.__private__.getBlob=function(le){return new Blob([Ri(le)],{type:"application/pdf"})},Ku=Ce.output=Ce.__private__.output=($l=function(le,Re){switch(typeof(Re=Re||{})=="string"?Re={filename:Re}:Re.filename=Re.filename||"generated.pdf",le){case void 0:return Hc();case"save":Ce.save(Re.filename);break;case"arraybuffer":return Ri(Hc());case"blob":return Qc(Hc());case"bloburi":case"bloburl":if(v.URL!==void 0&&typeof v.URL.createObjectURL=="function")return v.URL&&v.URL.createObjectURL(Qc(Hc()))||void 0;x.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var xt="",It=Hc();try{xt=U(It)}catch{xt=U(unescape(encodeURIComponent(It)))}return"data:application/pdf;filename="+Re.filename+";base64,"+xt;case"pdfobjectnewwindow":if(Object.prototype.toString.call(v)==="[object Window]"){var Jt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Mr=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Re.pdfObjectUrl&&(Jt=Re.pdfObjectUrl,Mr="");var Yr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Jt+'"'+Mr+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Re)+");<\/script></body></html>",ti=v.open();return ti!==null&&ti.document.write(Yr),ti}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(v)==="[object Window]"){var ri='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Re.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Re.filename+'" width="500px" height="400px" /></body></html>',Yi=v.open();if(Yi!==null){Yi.document.write(ri);var as=this;Yi.document.documentElement.querySelector("#pdfViewer").onload=function(){Yi.document.title=Re.filename,Yi.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(as.output("bloburl"))}}return Yi}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(v)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ra='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Re)+'"></iframe></body></html>',Ma=v.open();if(Ma!==null&&(Ma.document.write(ra),Ma.document.title=Re.filename),Ma||typeof safari>"u")return Ma;break;case"datauri":case"dataurl":return v.document.location.href=this.output("datauristring",Re);default:return null}},$l.foo=function(){try{return $l.apply(this,arguments)}catch(xt){var le=xt.stack||"";~le.indexOf(" at ")&&(le=le.split(" at ")[1]);var Re="Error in function "+le.split(`
`)[0].split("<")[0]+": "+xt.message;if(!v.console)throw new Error(Re);v.console.error(Re,xt),v.alert&&alert(Re)}},$l.foo.bar=$l,$l.foo),vc=function(le){return Array.isArray(xu)===!0&&xu.indexOf(le)>-1};switch(K){case"pt":ki=1;break;case"mm":ki=2.834645669291339;break;case"cm":ki=28.346456692913385;break;case"in":ki=72;break;case"px":ki=vc("px_scaling")==1?.75:1.3333333333333333;break;case"pc":case"em":ki=12;break;case"ex":ki=6;break;default:if(typeof K!="number")throw new Error("Invalid unit: "+K);ki=K}var Lo=null;Zr(),ar();var nu=Ce.__private__.getPageInfo=Ce.getPageInfo=function(le){if(isNaN(le)||le%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:yn[le].objId,pageNumber:le,pageContext:yn[le]}},g=Ce.__private__.getPageInfoByObjId=function(le){if(isNaN(le)||le%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Re in yn)if(yn[Re].objId===le)break;return nu(Re)},_=Ce.__private__.getCurrentPageInfo=Ce.getCurrentPageInfo=function(){return{objId:yn[St].objId,pageNumber:St,pageContext:yn[St]}};Ce.addPage=function(){return pc.apply(this,arguments),this},Ce.setPage=function(){return tc.apply(this,arguments),yi.call(this,un[St]),this},Ce.insertPage=function(le){return this.addPage(),this.movePage(St,le),this},Ce.movePage=function(le,Re){var xt,It;if(le>Re){xt=un[le],It=yn[le];for(var Jt=le;Jt>Re;Jt--)un[Jt]=un[Jt-1],yn[Jt]=yn[Jt-1];un[Re]=xt,yn[Re]=It,this.setPage(Re)}else if(le<Re){xt=un[le],It=yn[le];for(var Mr=le;Mr<Re;Mr++)un[Mr]=un[Mr+1],yn[Mr]=yn[Mr+1];un[Re]=xt,yn[Re]=It,this.setPage(Re)}return this},Ce.deletePage=function(){return Ud.apply(this,arguments),this},Ce.__private__.text=Ce.text=function(le,Re,xt,It,Jt){var Mr,Yr,ti,ri,Yi,as,ra,Ma,Oo,Na=(It=It||{}).scope||this;if(typeof le=="number"&&typeof Re=="number"&&(typeof xt=="string"||Array.isArray(xt))){var Go=xt;xt=Re,Re=le,le=Go}if(arguments[3]instanceof bi==0?(ti=arguments[4],ri=arguments[5],(0,d.default)(ra=arguments[3])==="object"&&ra!==null||(typeof ti=="string"&&(ri=ti,ti=null),typeof ra=="string"&&(ri=ra,ra=null),typeof ra=="number"&&(ti=ra,ra=null),It={flags:ra,angle:ti,align:ri})):(Rt("The transform parameter of text() with a Matrix value"),Oo=Jt),isNaN(Re)||isNaN(xt)||le==null)throw new Error("Invalid arguments passed to jsPDF.text");if(le.length===0)return Na;var O,Be="",J=typeof It.lineHeightFactor=="number"?It.lineHeightFactor:il,qe=Na.internal.scaleFactor;function wt(ia){return ia=ia.split("	").join(Array(It.TabLen||9).join(" ")),gl(ia,ra)}function bt(ia){for(var Ja,ks=ia.concat(),xl=[],ch=ks.length;ch--;)typeof(Ja=ks.shift())=="string"?xl.push(Ja):Array.isArray(ia)&&(Ja.length===1||Ja[1]===void 0&&Ja[2]===void 0)?xl.push(Ja[0]):xl.push([Ja[0],Ja[1],Ja[2]]);return xl}function mr(ia,Ja){var ks;if(typeof ia=="string")ks=Ja(ia)[0];else if(Array.isArray(ia)){for(var xl,ch,tA=ia.concat(),Fh=[],MA=tA.length;MA--;)typeof(xl=tA.shift())=="string"?Fh.push(Ja(xl)[0]):Array.isArray(xl)&&typeof xl[0]=="string"&&(ch=Ja(xl[0],xl[1],xl[2]),Fh.push([ch[0],ch[1],ch[2]]));ks=Fh}return ks}var zt=!1,Dn=!0;if(typeof le=="string")zt=!0;else if(Array.isArray(le)){var Dt=le.concat();Yr=[];for(var pr,qi=Dt.length;qi--;)(typeof(pr=Dt.shift())!="string"||Array.isArray(pr)&&typeof pr[0]!="string")&&(Dn=!1);zt=Dn}if(zt===!1)throw new Error('Type of text must be string or Array. "'+le+'" is not recognized.');typeof le=="string"&&(le=le.match(/[\r?\n]/)?le.split(/\r\n|\r|\n/g):[le]);var jn=tn/Na.internal.scaleFactor,Xr=jn*(J-1);switch(It.baseline){case"bottom":xt-=Xr;break;case"top":xt+=jn-Xr;break;case"hanging":xt+=jn-2*Xr;break;case"middle":xt+=jn/2-Xr}if((as=It.maxWidth||0)>0&&(typeof le=="string"?le=Na.splitTextToSize(le,as):Object.prototype.toString.call(le)==="[object Array]"&&(le=le.reduce(function(ia,Ja){return ia.concat(Na.splitTextToSize(Ja,as))},[]))),Mr={text:le,x:Re,y:xt,options:It,mutex:{pdfEscape:gl,activeFontKey:Un,fonts:Zi,activeFontSize:tn}},ls.publish("preProcessText",Mr),le=Mr.text,ti=(It=Mr.options).angle,Oo instanceof bi==0&&ti&&typeof ti=="number"){ti*=Math.PI/180,It.rotationDirection===0&&(ti=-ti),kt===Yt&&(ti=-ti);var Br=Math.cos(ti),Fa=Math.sin(ti);Oo=new bi(Br,Fa,-Fa,Br,0,0)}else ti&&ti instanceof bi&&(Oo=ti);kt!==Yt||Oo||(Oo=Xa),(Yi=It.charSpace||Yl)!==void 0&&(Be+=nr(Ot(Yi))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ma=It.horizontalScale)!==void 0&&(Be+=nr(100*Ma)+` Tz
`),It.lang;var Wi=-1,Ni=It.renderingMode!==void 0?It.renderingMode:It.stroke,Vi=Na.internal.getCurrentPageInfo().pageContext;switch(Ni){case 0:case!1:case"fill":Wi=0;break;case 1:case!0:case"stroke":Wi=1;break;case 2:case"fillThenStroke":Wi=2;break;case 3:case"invisible":Wi=3;break;case 4:case"fillAndAddForClipping":Wi=4;break;case 5:case"strokeAndAddPathForClipping":Wi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Wi=6;break;case 7:case"addToPathForClipping":Wi=7}var vs=Vi.usedRenderingMode!==void 0?Vi.usedRenderingMode:-1;Wi!==-1?Be+=Wi+` Tr
`:vs!==-1&&(Be+=`0 Tr
`),Wi!==-1&&(Vi.usedRenderingMode=Wi),ri=It.align||"left";var xn,ys=tn*J,Ua=Na.internal.pageSize.getWidth(),Si=Zi[Un];Yi=It.charSpace||Yl,as=It.maxWidth||0,ra=Object.assign({autoencode:!0,noBOM:!0},It.flags);var na=[],Ns=function(ia){return Na.getStringUnitWidth(ia,{font:Si,charSpace:Yi,fontSize:tn,doKerning:!1})*tn/qe};if(Object.prototype.toString.call(le)==="[object Array]"){var ni;Yr=bt(le),ri!=="left"&&(xn=Yr.map(Ns));var $i,rc=0;if(ri==="right"){Re-=xn[0],le=[],qi=Yr.length;for(var Wu=0;Wu<qi;Wu++)Wu===0?($i=Wl(Re),ni=wu(xt)):($i=Ot(rc-xn[Wu]),ni=-ys),le.push([Yr[Wu],$i,ni]),rc=xn[Wu]}else if(ri==="center"){Re-=xn[0]/2,le=[],qi=Yr.length;for(var su=0;su<qi;su++)su===0?($i=Wl(Re),ni=wu(xt)):($i=Ot((rc-xn[su])/2),ni=-ys),le.push([Yr[su],$i,ni]),rc=xn[su]}else if(ri==="left"){le=[],qi=Yr.length;for(var yl=0;yl<qi;yl++)le.push(Yr[yl])}else if(ri==="justify"&&Si.encoding==="Identity-H"){le=[],qi=Yr.length,as=as!==0?as:Ua;for(var nc=0,ao=0;ao<qi;ao++)if(ni=ao===0?wu(xt):-ys,$i=ao===0?Wl(Re):nc,ao<qi-1){var DA=Ot((as-xn[ao])/(Yr[ao].split(" ").length-1)),lh=Yr[ao].split(" ");le.push([lh[0]+" ",$i,ni]),nc=0;for(var Kc=1;Kc<lh.length;Kc++){var Gc=(Ns(lh[Kc-1]+" "+lh[Kc])-Ns(lh[Kc]))*qe+DA;Kc==lh.length-1?le.push([lh[Kc],Gc,0]):le.push([lh[Kc]+" ",Gc,0]),nc-=Gc}}else le.push([Yr[ao],$i,ni]);le.push(["",nc,0])}else{if(ri!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(le=[],qi=Yr.length,as=as!==0?as:Ua,ao=0;ao<qi;ao++){ni=ao===0?wu(xt):-ys,$i=ao===0?Wl(Re):0;var Po=Yr[ao].split(" ").length-1,xf=Po>0?(as-xn[ao])/Po:0;ao<qi-1?na.push(nr(Ot(xf))):na.push(0),le.push([Yr[ao],$i,ni])}}}(typeof It.R2L=="boolean"?It.R2L:Hn)===!0&&(le=mr(le,function(ia,Ja,ks){return[ia.split("").reverse().join(""),Ja,ks]})),Mr={text:le,x:Re,y:xt,options:It,mutex:{pdfEscape:gl,activeFontKey:Un,fonts:Zi,activeFontSize:tn}},ls.publish("postProcessText",Mr),le=Mr.text,O=Mr.mutex.isHex||!1;var Ed=Zi[Un].encoding;Ed!=="WinAnsiEncoding"&&Ed!=="StandardEncoding"||(le=mr(le,function(ia,Ja,ks){return[wt(ia),Ja,ks]})),Yr=bt(le),le=[];for(var Ji,ha,xo,wh=Array.isArray(Yr[0])?1:0,Yu="",_d=function(ia,Ja,ks){var xl="";return ks instanceof bi?(ks=typeof It.angle=="number"?Ra(ks,new bi(1,0,0,1,ia,Ja)):Ra(new bi(1,0,0,1,ia,Ja),ks),kt===Yt&&(ks=Ra(new bi(1,0,0,-1,0,0),ks)),xl=ks.join(" ")+` Tm
`):xl=nr(ia)+" "+nr(Ja)+` Td
`,xl},wc=0;wc<Yr.length;wc++){switch(Yu="",wh){case 1:xo=(O?"<":"(")+Yr[wc][0]+(O?">":")"),Ji=parseFloat(Yr[wc][1]),ha=parseFloat(Yr[wc][2]);break;case 0:xo=(O?"<":"(")+Yr[wc]+(O?">":")"),Ji=Wl(Re),ha=wu(xt)}na!==void 0&&na[wc]!==void 0&&(Yu=na[wc]+` Tw
`),wc===0?le.push(Yu+_d(Ji,ha,Oo)+xo):wh===0?le.push(Yu+xo):wh===1&&le.push(Yu+_d(Ji,ha,Oo)+xo)}le=wh===0?le.join(` Tj
T* `):le.join(` Tj
`),le+=` Tj
`;var qu=`BT
/`;return qu+=Un+" "+tn+` Tf
`,qu+=nr(tn*J)+` TL
`,qu+=xc+`
`,qu+=Be,qu+=le,mt(qu+="ET"),lt[Un]=!0,Na};var H=Ce.__private__.clip=Ce.clip=function(le){return mt(le==="evenodd"?"W*":"W"),this};Ce.clipEvenOdd=function(){return H("evenodd")},Ce.__private__.discardPath=Ce.discardPath=function(){return mt("n"),this};var ae=Ce.__private__.isValidStyle=function(le){var Re=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(le)!==-1&&(Re=!0),Re};Ce.__private__.setDefaultPathOperation=Ce.setDefaultPathOperation=function(le){return ae(le)&&(ke=le),this};var _e=Ce.__private__.getStyle=Ce.getStyle=function(le){var Re=ke;switch(le){case"D":case"S":Re="S";break;case"F":Re="f";break;case"FD":case"DF":Re="B";break;case"f":case"f*":case"B":case"B*":Re=le}return Re},Ve=Ce.close=function(){return mt("h"),this};Ce.stroke=function(){return mt("S"),this},Ce.fill=function(le){return jt("f",le),this},Ce.fillEvenOdd=function(le){return jt("f*",le),this},Ce.fillStroke=function(le){return jt("B",le),this},Ce.fillStrokeEvenOdd=function(le){return jt("B*",le),this};var jt=function(le,Re){(0,d.default)(Re)==="object"?$r(Re,le):mt(le)},Zt=function(le){le===null||kt===Yt&&le===void 0||(le=_e(le),mt(le))};function xr(le,Re,xt,It,Jt){var Mr=new st(Re||this.boundingBox,xt||this.xStep,It||this.yStep,this.gState,Jt||this.matrix);Mr.stream=this.stream;var Yr=le+"$$"+this.cloneIndex+++"$$";return Ul(Yr,Mr),Mr}var $r=function(le,Re){var xt=Ws[le.key],It=xi[xt];if(It instanceof Pe)mt("q"),mt(vn(Re)),It.gState&&Ce.setGState(It.gState),mt(le.matrix.toString()+" cm"),mt("/"+xt+" sh"),mt("Q");else if(It instanceof st){var Jt=new bi(1,0,0,-1,0,oh());le.matrix&&(Jt=Jt.multiply(le.matrix||Xa),xt=xr.call(It,le.key,le.boundingBox,le.xStep,le.yStep,Jt).id),mt("q"),mt("/Pattern cs"),mt("/"+xt+" scn"),It.gState&&Ce.setGState(It.gState),mt(Re),mt("Q")}},vn=function(le){switch(le){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},ui=Ce.moveTo=function(le,Re){return mt(nr(Ot(le))+" "+nr(Pt(Re))+" m"),this},As=Ce.lineTo=function(le,Re){return mt(nr(Ot(le))+" "+nr(Pt(Re))+" l"),this},Da=Ce.curveTo=function(le,Re,xt,It,Jt,Mr){return mt([nr(Ot(le)),nr(Pt(Re)),nr(Ot(xt)),nr(Pt(It)),nr(Ot(Jt)),nr(Pt(Mr)),"c"].join(" ")),this};Ce.__private__.line=Ce.line=function(le,Re,xt,It,Jt){if(isNaN(le)||isNaN(Re)||isNaN(xt)||isNaN(It)||!ae(Jt))throw new Error("Invalid arguments passed to jsPDF.line");return kt===Bt?this.lines([[xt-le,It-Re]],le,Re,[1,1],Jt||"S"):this.lines([[xt-le,It-Re]],le,Re,[1,1]).stroke()},Ce.__private__.lines=Ce.lines=function(le,Re,xt,It,Jt,Mr){var Yr,ti,ri,Yi,as,ra,Ma,Oo,Na,Go,O,Be;if(typeof le=="number"&&(Be=xt,xt=Re,Re=le,le=Be),It=It||[1,1],Mr=Mr||!1,isNaN(Re)||isNaN(xt)||!Array.isArray(le)||!Array.isArray(It)||!ae(Jt)||typeof Mr!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ui(Re,xt),Yr=It[0],ti=It[1],Yi=le.length,Go=Re,O=xt,ri=0;ri<Yi;ri++)(as=le[ri]).length===2?(Go=as[0]*Yr+Go,O=as[1]*ti+O,As(Go,O)):(ra=as[0]*Yr+Go,Ma=as[1]*ti+O,Oo=as[2]*Yr+Go,Na=as[3]*ti+O,Go=as[4]*Yr+Go,O=as[5]*ti+O,Da(ra,Ma,Oo,Na,Go,O));return Mr&&Ve(),Zt(Jt),this},Ce.path=function(le){for(var Re=0;Re<le.length;Re++){var xt=le[Re],It=xt.c;switch(xt.op){case"m":ui(It[0],It[1]);break;case"l":As(It[0],It[1]);break;case"c":Da.apply(this,It);break;case"h":Ve()}}return this},Ce.__private__.rect=Ce.rect=function(le,Re,xt,It,Jt){if(isNaN(le)||isNaN(Re)||isNaN(xt)||isNaN(It)||!ae(Jt))throw new Error("Invalid arguments passed to jsPDF.rect");return kt===Bt&&(It=-It),mt([nr(Ot(le)),nr(Pt(Re)),nr(Ot(xt)),nr(Ot(It)),"re"].join(" ")),Zt(Jt),this},Ce.__private__.triangle=Ce.triangle=function(le,Re,xt,It,Jt,Mr,Yr){if(isNaN(le)||isNaN(Re)||isNaN(xt)||isNaN(It)||isNaN(Jt)||isNaN(Mr)||!ae(Yr))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[xt-le,It-Re],[Jt-xt,Mr-It],[le-Jt,Re-Mr]],le,Re,[1,1],Yr,!0),this},Ce.__private__.roundedRect=Ce.roundedRect=function(le,Re,xt,It,Jt,Mr,Yr){if(isNaN(le)||isNaN(Re)||isNaN(xt)||isNaN(It)||isNaN(Jt)||isNaN(Mr)||!ae(Yr))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ti=4/3*(Math.SQRT2-1);return Jt=Math.min(Jt,.5*xt),Mr=Math.min(Mr,.5*It),this.lines([[xt-2*Jt,0],[Jt*ti,0,Jt,Mr-Mr*ti,Jt,Mr],[0,It-2*Mr],[0,Mr*ti,-Jt*ti,Mr,-Jt,Mr],[2*Jt-xt,0],[-Jt*ti,0,-Jt,-Mr*ti,-Jt,-Mr],[0,2*Mr-It],[0,-Mr*ti,Jt*ti,-Mr,Jt,-Mr]],le+Jt,Re,[1,1],Yr,!0),this},Ce.__private__.ellipse=Ce.ellipse=function(le,Re,xt,It,Jt){if(isNaN(le)||isNaN(Re)||isNaN(xt)||isNaN(It)||!ae(Jt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Mr=4/3*(Math.SQRT2-1)*xt,Yr=4/3*(Math.SQRT2-1)*It;return ui(le+xt,Re),Da(le+xt,Re-Yr,le+Mr,Re-It,le,Re-It),Da(le-Mr,Re-It,le-xt,Re-Yr,le-xt,Re),Da(le-xt,Re+Yr,le-Mr,Re+It,le,Re+It),Da(le+Mr,Re+It,le+xt,Re+Yr,le+xt,Re),Zt(Jt),this},Ce.__private__.circle=Ce.circle=function(le,Re,xt,It){if(isNaN(le)||isNaN(Re)||isNaN(xt)||!ae(It))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(le,Re,xt,xt,It)},Ce.setFont=function(le,Re,xt){return xt&&(Re=Er(Re,xt)),Un=yd(le,Re,{disableWarning:!1}),this};var Co=Ce.__private__.getFont=Ce.getFont=function(){return Zi[yd.apply(Ce,arguments)]};Ce.__private__.getFontList=Ce.getFontList=function(){var le,Re,xt={};for(le in gs)if(gs.hasOwnProperty(le))for(Re in xt[le]=[],gs[le])gs[le].hasOwnProperty(Re)&&xt[le].push(Re);return xt},Ce.addFont=function(le,Re,xt,It,Jt){var Mr=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Mr.indexOf(arguments[3])!==-1?Jt=arguments[3]:arguments[3]&&Mr.indexOf(arguments[3])==-1&&(xt=Er(xt,It)),Io.call(this,le,Re,xt,Jt=Jt||"Identity-H")};var il,Xs=B.lineWidth||.200025,oa=Ce.__private__.getLineWidth=Ce.getLineWidth=function(){return Xs},Cn=Ce.__private__.setLineWidth=Ce.setLineWidth=function(le){return Xs=le,mt(nr(Ot(le))+" w"),this};Ce.__private__.setLineDash=et.API.setLineDash=et.API.setLineDashPattern=function(le,Re){if(le=le||[],Re=Re||0,isNaN(Re)||!Array.isArray(le))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return le=le.map(function(xt){return nr(Ot(xt))}).join(" "),Re=nr(Ot(Re)),mt("["+le+"] "+Re+" d"),this};var Gu=Ce.__private__.getLineHeight=Ce.getLineHeight=function(){return tn*il};Ce.__private__.getLineHeight=Ce.getLineHeight=function(){return tn*il};var yc=Ce.__private__.setLineHeightFactor=Ce.setLineHeightFactor=function(le){return typeof(le=le||1.15)=="number"&&(il=le),this},xd=Ce.__private__.getLineHeightFactor=Ce.getLineHeightFactor=function(){return il};yc(B.lineHeight);var Wl=Ce.__private__.getHorizontalCoordinate=function(le){return Ot(le)},wu=Ce.__private__.getVerticalCoordinate=function(le){return kt===Yt?le:yn[St].mediaBox.topRightY-yn[St].mediaBox.bottomLeftY-Ot(le)},so=Ce.__private__.getHorizontalCoordinateString=Ce.getHorizontalCoordinateString=function(le){return nr(Wl(le))},Eu=Ce.__private__.getVerticalCoordinateString=Ce.getVerticalCoordinateString=function(le){return nr(wu(le))},Ko=B.strokeColor||"0 G";Ce.__private__.getStrokeColor=Ce.getDrawColor=function(){return Ka(Ko)},Ce.__private__.setStrokeColor=Ce.setDrawColor=function(le,Re,xt,It){return Ko=Hl({ch1:le,ch2:Re,ch3:xt,ch4:It,pdfColorType:"draw",precision:2}),mt(Ko),this};var bd=B.fillColor||"0 g";Ce.__private__.getFillColor=Ce.getFillColor=function(){return Ka(bd)},Ce.__private__.setFillColor=Ce.setFillColor=function(le,Re,xt,It){return bd=Hl({ch1:le,ch2:Re,ch3:xt,ch4:It,pdfColorType:"fill",precision:2}),mt(bd),this};var xc=B.textColor||"0 g",$d=Ce.__private__.getTextColor=Ce.getTextColor=function(){return Ka(xc)};Ce.__private__.setTextColor=Ce.setTextColor=function(le,Re,xt,It){return xc=Hl({ch1:le,ch2:Re,ch3:xt,ch4:It,pdfColorType:"text",precision:3}),this};var Yl=B.charSpace,_u=Ce.__private__.getCharSpace=Ce.getCharSpace=function(){return parseFloat(Yl||0)};Ce.__private__.setCharSpace=Ce.setCharSpace=function(le){if(isNaN(le))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Yl=le,this};var bc=0;Ce.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},Ce.__private__.setLineCap=Ce.setLineCap=function(le){var Re=Ce.CapJoinStyles[le];if(Re===void 0)throw new Error("Line cap style of '"+le+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return bc=Re,mt(Re+" J"),this};var Vc=0;Ce.__private__.setLineJoin=Ce.setLineJoin=function(le){var Re=Ce.CapJoinStyles[le];if(Re===void 0)throw new Error("Line join style of '"+le+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Vc=Re,mt(Re+" j"),this},Ce.__private__.setLineMiterLimit=Ce.__private__.setMiterLimit=Ce.setLineMiterLimit=Ce.setMiterLimit=function(le){if(le=le||0,isNaN(le))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return mt(nr(Ot(le))+" M"),this},Ce.GState=At,Ce.setGState=function(le){(le=typeof le=="string"?Qi[ai[le]]:yh(null,le)).equals(ua)||(mt("/"+le.id+" gs"),ua=le)};var yh=function(le,Re){if(!le||!ai[le]){var xt=!1;for(var It in Qi)if(Qi.hasOwnProperty(It)&&Qi[It].equals(Re)){xt=!0;break}if(xt)Re=Qi[It];else{var Jt="GS"+(Object.keys(Qi).length+1).toString(10);Qi[Jt]=Re,Re.id=Jt}return le&&(ai[le]=Re.id),ls.publish("addGState",Re),Re}};Ce.addGState=function(le,Re){return yh(le,Re),this},Ce.saveGraphicsState=function(){return mt("q"),ja.push({key:Un,size:tn,color:xc}),this},Ce.restoreGraphicsState=function(){mt("Q");var le=ja.pop();return Un=le.key,tn=le.size,xc=le.color,ua=null,this},Ce.setCurrentTransformationMatrix=function(le){return mt(le.toString()+" cm"),this},Ce.comment=function(le){return mt("#"+le),this};var iu=function(le,Re){var xt=le||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return xt},set:function(Mr){isNaN(Mr)||(xt=parseFloat(Mr))}});var It=Re||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return It},set:function(Mr){isNaN(Mr)||(It=parseFloat(Mr))}});var Jt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Jt},set:function(Mr){Jt=Mr.toString()}}),this},wd=function(le,Re,xt,It){iu.call(this,le,Re),this.type="rect";var Jt=xt||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Jt},set:function(Yr){isNaN(Yr)||(Jt=parseFloat(Yr))}});var Mr=It||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Mr},set:function(Yr){isNaN(Yr)||(Mr=parseFloat(Yr))}}),this},ih=function(){this.page=Ii,this.currentPage=St,this.pages=un.slice(0),this.pagesContext=yn.slice(0),this.x=Wn,this.y=Gi,this.matrix=is,this.width=xh(St),this.height=RA(St),this.outputDestination=Rn,this.id="",this.objectNumber=-1};ih.prototype.restore=function(){Ii=this.page,St=this.currentPage,yn=this.pagesContext,un=this.pages,Wn=this.x,Gi=this.y,is=this.matrix,eA(St,this.width),sh(St,this.height),Rn=this.outputDestination};var zc=function(le,Re,xt,It,Jt){Jl.push(new ih),Ii=St=0,un=[],Wn=le,Gi=Re,is=Jt,ru([xt,It])};for(var yo in Ce.beginFormObject=function(le,Re,xt,It,Jt){return zc(le,Re,xt,It,Jt),this},Ce.endFormObject=function(le){return(function(Re){if(zo[Re])Jl.pop().restore();else{var xt=new ih,It="Xo"+(Object.keys(io).length+1).toString(10);xt.id=It,zo[Re]=It,io[It]=xt,ls.publish("addFormObject",xt),Jl.pop().restore()}})(le),this},Ce.doFormObject=function(le,Re){var xt=io[zo[le]];return mt("q"),mt(Re.toString()+" cm"),mt("/"+xt.id+" Do"),mt("Q"),this},Ce.getFormObject=function(le){var Re=io[zo[le]];return{x:Re.x,y:Re.y,width:Re.width,height:Re.height,matrix:Re.matrix}},Ce.save=function(le,Re){return le=le||"generated.pdf",(Re=Re||{}).returnPromise=Re.returnPromise||!1,Re.returnPromise===!1?(C(Qc(Hc()),le),typeof C.unload=="function"&&v.setTimeout&&setTimeout(C.unload,911),this):new Promise(function(xt,It){try{var Jt=C(Qc(Hc()),le);typeof C.unload=="function"&&v.setTimeout&&setTimeout(C.unload,911),xt(Jt)}catch(Mr){It(Mr.message)}})},et.API)et.API.hasOwnProperty(yo)&&(yo==="events"&&et.API.events.length?(function(le,Re){var xt,It,Jt;for(Jt=Re.length-1;Jt!==-1;Jt--)xt=Re[Jt][0],It=Re[Jt][1],le.subscribe.apply(le,[xt].concat(typeof It=="function"?[It]:It))})(ls,et.API.events):Ce[yo]=et.API[yo]);function xh(le){return yn[le].mediaBox.topRightX-yn[le].mediaBox.bottomLeftX}function eA(le,Re){yn[le].mediaBox.topRightX=Re+yn[le].mediaBox.bottomLeftX}function RA(le){return yn[le].mediaBox.topRightY-yn[le].mediaBox.bottomLeftY}function sh(le,Re){yn[le].mediaBox.topRightY=Re+yn[le].mediaBox.bottomLeftY}var ah=Ce.getPageWidth=function(le){return xh(le=le||St)/ki},Bo=Ce.setPageWidth=function(le,Re){eA(le,Re*ki)},oh=Ce.getPageHeight=function(le){return RA(le=le||St)/ki},bh=Ce.setPageHeight=function(le,Re){sh(le,Re*ki)};return Ce.internal={pdfEscape:gl,getStyle:_e,getFont:Co,getFontSize:Fn,getCharSpace:_u,getTextColor:$d,getLineHeight:Gu,getLineHeightFactor:xd,getLineWidth:oa,write:_n,getHorizontalCoordinate:Wl,getVerticalCoordinate:wu,getCoordinateString:so,getVerticalCoordinateString:Eu,collections:{},newObject:da,newAdditionalObject:$c,newObjectDeferred:vo,newObjectDeferredBegin:Za,getFilters:Ql,putStream:Il,events:ls,scaleFactor:ki,pageSize:{getWidth:function(){return ah(St)},setWidth:function(le){Bo(St,le)},getHeight:function(){return oh(St)},setHeight:function(le){bh(St,le)}},encryptionOptions:Qe,encryption:Lo,getEncryptor:function(le){return Qe!==null?Lo.encryptor(le,0):function(Re){return Re}},output:Ku,getNumberOfPages:zu,get pages(){return un},out:mt,f2:it,f3:ft,getPageInfo:nu,getPageInfoByObjId:g,getCurrentPageInfo:_,getPDFVersion:at,Point:iu,Rectangle:wd,Matrix:bi,hasHotfix:vc},Object.defineProperty(Ce.internal.pageSize,"width",{get:function(){return ah(St)},set:function(le){Bo(St,le)},enumerable:!0,configurable:!0}),Object.defineProperty(Ce.internal.pageSize,"height",{get:function(){return oh(St)},set:function(le){bh(St,le)},enumerable:!0,configurable:!0}),(function(le){for(var Re=0,xt=Sn.length;Re<xt;Re++){var It=Io.call(this,le[Re][0],le[Re][1],le[Re][2],Sn[Re][3],!0);Xe===!1&&(lt[It]=!0);var Jt=le[Re][0].split("-");Gl({id:It,fontName:Jt[0],fontStyle:Jt[1]||""})}ls.publish("addFonts",{fonts:Zi,dictionary:gs})}).call(Ce,Sn),Un="F1",pc(X,D),ls.publish("initialized"),Ce}Le.prototype.lsbFirstWord=function(B){return String.fromCharCode(255&B,B>>8&255,B>>16&255,B>>24&255)},Le.prototype.toHexString=function(B){return B.split("").map(function(N){return("0"+(255&N.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Le.prototype.hexToBytes=function(B){for(var N=[],D=0;D<B.length;D+=2)N.push(String.fromCharCode(parseInt(B.substr(D,2),16)));return N.join("")},Le.prototype.processOwnerPassword=function(B,N){return ue(Me(N).substr(0,5),B)},Le.prototype.encryptor=function(B,N){var D=Me(this.encryptionKey+String.fromCharCode(255&B,B>>8&255,B>>16&255,255&N,N>>8&255)).substr(0,10);return function(K){return ue(D,K)}},At.prototype.equals=function(B){var N,D="id,objectNumber,equals";if(!B||(0,d.default)(B)!==(0,d.default)(this))return!1;var K=0;for(N in this)if(!(D.indexOf(N)>=0)){if(this.hasOwnProperty(N)&&!B.hasOwnProperty(N)||this[N]!==B[N])return!1;K++}for(N in B)B.hasOwnProperty(N)&&D.indexOf(N)<0&&K--;return K===0},et.API={events:[]},et.version="4.0.0";var We=et.API,gt=1,Ge=function(B){return B.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ct=function(B){return B.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Et=function(B){return B.toFixed(2)},Ut=function(B){return B.toFixed(5)};We.__acroform__={};var ir=function(B,N){B.prototype=Object.create(N.prototype),B.prototype.constructor=B},on=function(B){return B*gt},kr=function(B){var N=new Gr,D=nn.internal.getHeight(B)||0,K=nn.internal.getWidth(B)||0;return N.BBox=[0,0,Number(Et(K)),Number(Et(D))],N},rn=We.__acroform__.setBit=function(B,N){if(B=B||0,N=N||0,isNaN(B)||isNaN(N))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return B|1<<N},wn=We.__acroform__.clearBit=function(B,N){if(B=B||0,N=N||0,isNaN(B)||isNaN(N))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return B&~(1<<N)},Mn=We.__acroform__.getBit=function(B,N){if(isNaN(B)||isNaN(N))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return B&1<<N?1:0},dn=We.__acroform__.getBitForPdf=function(B,N){if(isNaN(B)||isNaN(N))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Mn(B,N-1)},pn=We.__acroform__.setBitForPdf=function(B,N){if(isNaN(B)||isNaN(N))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return rn(B,N-1)},mn=We.__acroform__.clearBitForPdf=function(B,N){if(isNaN(B)||isNaN(N))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return wn(B,N-1)},Kn=We.__acroform__.calculateCoordinates=function(B,N){var D=N.internal.getHorizontalCoordinate,K=N.internal.getVerticalCoordinate,X=B[0],ee=B[1],ve=B[2],de=B[3],fe={};return fe.lowerLeft_X=D(X)||0,fe.lowerLeft_Y=K(ee+de)||0,fe.upperRight_X=D(X+ve)||0,fe.upperRight_Y=K(ee)||0,[Number(Et(fe.lowerLeft_X)),Number(Et(fe.lowerLeft_Y)),Number(Et(fe.upperRight_X)),Number(Et(fe.upperRight_Y))]},Zn=function(B){if(B.appearanceStreamContent)return B.appearanceStreamContent;if(B.V||B.DV){var N=[],D=B._V||B.DV,K=Li(B,D),X=B.scope.internal.getFont(B.fontName,B.fontStyle).id;N.push("/Tx BMC"),N.push("q"),N.push("BT"),N.push(B.scope.__private__.encodeColorString(B.color)),N.push("/"+X+" "+Et(K.fontSize)+" Tf"),N.push("1 0 0 1 0 0 Tm"),N.push(K.text),N.push("ET"),N.push("Q"),N.push("EMC");var ee=kr(B);return ee.scope=B.scope,ee.stream=N.join(`
`),ee}},Li=function(B,N){var D=B.fontSize===0?B.maxFontSize:B.fontSize,K={text:"",fontSize:""},X=(N=(N=N.substr(0,1)=="("?N.substr(1):N).substr(N.length-1)==")"?N.substr(0,N.length-1):N).split(" ");X=B.multiline?X.map(function(it){return it.split(`
`)}):X.map(function(it){return[it]});var ee=D,ve=nn.internal.getHeight(B)||0;ve=ve<0?-ve:ve;var de=nn.internal.getWidth(B)||0;de=de<0?-de:de;var fe=function(it,ft,Ot){if(it+1<X.length){var Pt=ft+" "+X[it+1][0];return ot(Pt,B,Ot).width<=de-4}return!1};ee++;e:for(;ee>0;){N="",ee--;var ke,Qe,Xe=ot("3",B,ee).height,lt=B.multiline?ve-ee:(ve-Xe)/2,Ce=lt+=2,_t=0,at=0,Tt=0;if(ee<=0){N=`(...) Tj
`,N+="% Width of Text: "+ot(N,B,ee=12).width+", FieldWidth:"+de+`
`;break}for(var rt="",Bt=0,Yt=0;Yt<X.length;Yt++)if(X.hasOwnProperty(Yt)){var kt=!1;if(X[Yt].length!==1&&Tt!==X[Yt].length-1){if((Xe+2)*(Bt+2)+2>ve)continue e;rt+=X[Yt][Tt],kt=!0,at=Yt,Yt--}else{rt=(rt+=X[Yt][Tt]+" ").substr(rt.length-1)==" "?rt.substr(0,rt.length-1):rt;var tt=parseInt(Yt),Vt=fe(tt,rt,ee),Er=Yt>=X.length-1;if(Vt&&!Er){rt+=" ",Tt=0;continue}if(Vt||Er){if(Er)at=tt;else if(B.multiline&&(Xe+2)*(Bt+2)+2>ve)continue e}else{if(!B.multiline||(Xe+2)*(Bt+2)+2>ve)continue e;at=tt}}for(var nr="",Rt=_t;Rt<=at;Rt++){var yr=X[Rt];if(B.multiline){if(Rt===at){nr+=yr[Tt]+" ",Tt=(Tt+1)%yr.length;continue}if(Rt===_t){nr+=yr[yr.length-1]+" ";continue}}nr+=yr[0]+" "}switch(nr=nr.substr(nr.length-1)==" "?nr.substr(0,nr.length-1):nr,Qe=ot(nr,B,ee).width,B.textAlign){case"right":ke=de-Qe-2;break;case"center":ke=(de-Qe)/2;break;default:ke=2}N+=Et(ke)+" "+Et(Ce)+` Td
`,N+="("+Ge(nr)+`) Tj
`,N+=-Et(ke)+` 0 Td
`,Ce=-(ee+2),Qe=0,_t=kt?at:at+1,Bt++,rt=""}break}return K.text=N,K.fontSize=ee,K},ot=function(B,N,D){var K=N.scope.internal.getFont(N.fontName,N.fontStyle),X=N.scope.getStringUnitWidth(B,{font:K,fontSize:parseFloat(D),charSpace:0})*parseFloat(D);return{height:N.scope.getStringUnitWidth("3",{font:K,fontSize:parseFloat(D),charSpace:0})*parseFloat(D)*1.5,width:X}},Wt={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},jr=function(B,N){var D={type:"reference",object:B};N.internal.getPageInfo(B.page).pageContext.annotations.find(function(K){return K.type===D.type&&K.object===D.object})===void 0&&N.internal.getPageInfo(B.page).pageContext.annotations.push(D)},rr=function(B,N){if(N.scope=B,B.internal!==void 0&&(B.internal.acroformPlugin===void 0||B.internal.acroformPlugin.isInitialized===!1)){if(ln.FieldNum=0,B.internal.acroformPlugin=JSON.parse(JSON.stringify(Wt)),B.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");gt=B.internal.scaleFactor,B.internal.acroformPlugin.acroFormDictionaryRoot=new Ln,B.internal.acroformPlugin.acroFormDictionaryRoot.scope=B,B.internal.acroformPlugin.acroFormDictionaryRoot._eventID=B.internal.events.subscribe("postPutResources",function(){(function(D){D.internal.events.unsubscribe(D.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete D.internal.acroformPlugin.acroFormDictionaryRoot._eventID,D.internal.acroformPlugin.printedOut=!0})(B)}),B.internal.events.subscribe("buildDocument",function(){(function(D){D.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var K=D.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var X in K)if(K.hasOwnProperty(X)){var ee=K[X];ee.objId=void 0,ee.hasAnnotation&&jr(ee,D)}})(B)}),B.internal.events.subscribe("putCatalog",function(){(function(D){if(D.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");D.internal.write("/AcroForm "+D.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(B)}),B.internal.events.subscribe("postPutPages",function(D){(function(K,X){var ee=!K;for(var ve in K||(X.internal.newObjectDeferredBegin(X.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),X.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),K=K||X.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(K.hasOwnProperty(ve)){var de=K[ve],fe=[],ke=de.Rect;if(de.Rect&&(de.Rect=Kn(de.Rect,X)),X.internal.newObjectDeferredBegin(de.objId,!0),de.DA=nn.createDefaultAppearanceStream(de),(0,d.default)(de)==="object"&&typeof de.getKeyValueListForStream=="function"&&(fe=de.getKeyValueListForStream()),de.Rect=ke,de.hasAppearanceStream&&!de.appearanceStreamContent){var Qe=Zn(de);fe.push({key:"AP",value:"<</N "+Qe+">>"}),X.internal.acroformPlugin.xForms.push(Qe)}if(de.appearanceStreamContent){var Xe="";for(var lt in de.appearanceStreamContent)if(de.appearanceStreamContent.hasOwnProperty(lt)){var Ce=de.appearanceStreamContent[lt];if(Xe+="/"+lt+" ",Xe+="<<",Object.keys(Ce).length>=1||Array.isArray(Ce)){for(var ve in Ce)if(Ce.hasOwnProperty(ve)){var _t=Ce[ve];typeof _t=="function"&&(_t=_t.call(X,de)),Xe+="/"+ve+" "+_t+" ",X.internal.acroformPlugin.xForms.indexOf(_t)>=0||X.internal.acroformPlugin.xForms.push(_t)}}else typeof(_t=Ce)=="function"&&(_t=_t.call(X,de)),Xe+="/"+ve+" "+_t,X.internal.acroformPlugin.xForms.indexOf(_t)>=0||X.internal.acroformPlugin.xForms.push(_t);Xe+=">>"}fe.push({key:"AP",value:`<<
`+Xe+">>"})}X.internal.putStream({additionalKeyValues:fe,objectId:de.objId}),X.internal.out("endobj")}ee&&(function(at,Tt){for(var rt in at)if(at.hasOwnProperty(rt)){var Bt=rt,Yt=at[rt];Tt.internal.newObjectDeferredBegin(Yt.objId,!0),(0,d.default)(Yt)==="object"&&typeof Yt.putStream=="function"&&Yt.putStream(),delete at[Bt]}})(X.internal.acroformPlugin.xForms,X)})(D,B)}),B.internal.acroformPlugin.isInitialized=!0}},Ht=We.__acroform__.arrayToPdfArray=function(B,N,D){var K=function(ve){return ve};if(Array.isArray(B)){for(var X="[",ee=0;ee<B.length;ee++)switch(ee!==0&&(X+=" "),(0,d.default)(B[ee])){case"boolean":case"number":case"object":X+=B[ee].toString();break;case"string":B[ee].substr(0,1)!=="/"?(N!==void 0&&D&&(K=D.internal.getEncryptor(N)),X+="("+Ge(K(B[ee].toString()))+")"):X+=B[ee].toString()}return X+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},fr=function(B,N,D){var K=function(X){return X};return N!==void 0&&D&&(K=D.internal.getEncryptor(N)),(B=B||"").toString(),"("+Ge(K(B))+")"},Hr=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(B){this._objId=B}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Hr.prototype.toString=function(){return this.objId+" 0 R"},Hr.prototype.putStream=function(){var B=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:B,objectId:this.objId}),this.scope.internal.out("endobj")},Hr.prototype.getKeyValueListForStream=function(){var B=[],N=Object.getOwnPropertyNames(this).filter(function(ee){return ee!="content"&&ee!="appearanceStreamContent"&&ee!="scope"&&ee!="objId"&&ee.substring(0,1)!="_"});for(var D in N)if(Object.getOwnPropertyDescriptor(this,N[D]).configurable===!1){var K=N[D],X=this[K];X&&(Array.isArray(X)?B.push({key:K,value:Ht(X,this.objId,this.scope)}):X instanceof Hr?(X.scope=this.scope,B.push({key:K,value:X.objId+" 0 R"})):typeof X!="function"&&B.push({key:K,value:X}))}return B};var Gr=function(){Hr.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var B,N=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return N},set:function(D){N=D}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(D){B=D.trim()},get:function(){return B||null}})};ir(Gr,Hr);var Ln=function(){Hr.call(this);var B,N=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return N.length>0?N:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return N}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(B){var D=function(K){return K};return this.scope&&(D=this.scope.internal.getEncryptor(this.objId)),"("+Ge(D(B))+")"}},set:function(D){B=D}})};ir(Ln,Hr);var ln=function B(){Hr.call(this);var N=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return N},set:function(rt){if(isNaN(rt))throw new Error('Invalid value "'+rt+'" for attribute F supplied.');N=rt}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!dn(N,3)},set:function(rt){rt?this.F=pn(N,3):this.F=mn(N,3)}});var D=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return D},set:function(rt){if(isNaN(rt))throw new Error('Invalid value "'+rt+'" for attribute Ff supplied.');D=rt}});var K=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(K.length!==0)return K},set:function(rt){K=rt!==void 0?rt:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!K||isNaN(K[0])?0:K[0]},set:function(rt){K[0]=rt}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!K||isNaN(K[1])?0:K[1]},set:function(rt){K[1]=rt}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!K||isNaN(K[2])?0:K[2]},set:function(rt){K[2]=rt}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!K||isNaN(K[3])?0:K[3]},set:function(rt){K[3]=rt}});var X="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return X},set:function(rt){switch(rt){case"/Btn":case"/Tx":case"/Ch":case"/Sig":X=rt;break;default:throw new Error('Invalid value "'+rt+'" for attribute FT supplied.')}}});var ee=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!ee||ee.length<1){if(this instanceof Ts)return;ee="FieldObject"+B.FieldNum++}var rt=function(Bt){return Bt};return this.scope&&(rt=this.scope.internal.getEncryptor(this.objId)),"("+Ge(rt(ee))+")"},set:function(rt){ee=rt.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return ee},set:function(rt){ee=rt}});var ve="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return ve},set:function(rt){ve=rt}});var de="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return de},set:function(rt){de=rt}});var fe=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return fe},set:function(rt){fe=rt}});var ke=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return ke===void 0?50/gt:ke},set:function(rt){ke=rt}});var Qe="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return Qe},set:function(rt){Qe=rt}});var Xe="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!Xe||this instanceof Ts||this instanceof Cs))return fr(Xe,this.objId,this.scope)},set:function(rt){rt=rt.toString(),Xe=rt}});var lt=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(lt)return this instanceof cn==0?fr(lt,this.objId,this.scope):lt},set:function(rt){rt=rt.toString(),lt=this instanceof cn==0?rt.substr(0,1)==="("?Ct(rt.substr(1,rt.length-2)):Ct(rt):rt}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof cn==1?Ct(lt.substr(1,lt.length-1)):lt},set:function(rt){rt=rt.toString(),lt=this instanceof cn==1?"/"+rt:rt}});var Ce=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(Ce)return Ce},set:function(rt){this.V=rt}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(Ce)return this instanceof cn==0?fr(Ce,this.objId,this.scope):Ce},set:function(rt){rt=rt.toString(),Ce=this instanceof cn==0?rt.substr(0,1)==="("?Ct(rt.substr(1,rt.length-2)):Ct(rt):rt}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof cn==1?Ct(Ce.substr(1,Ce.length-1)):Ce},set:function(rt){rt=rt.toString(),Ce=this instanceof cn==1?"/"+rt:rt}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var _t,at=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return at},set:function(rt){rt=!!rt,at=rt}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(_t)return _t},set:function(rt){_t=rt}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,1)},set:function(rt){rt?this.Ff=pn(this.Ff,1):this.Ff=mn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,2)},set:function(rt){rt?this.Ff=pn(this.Ff,2):this.Ff=mn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,3)},set:function(rt){rt?this.Ff=pn(this.Ff,3):this.Ff=mn(this.Ff,3)}});var Tt=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(Tt!==null)return Tt},set:function(rt){if([0,1,2].indexOf(rt)===-1)throw new Error('Invalid value "'+rt+'" for attribute Q supplied.');Tt=rt}}),Object.defineProperty(this,"textAlign",{get:function(){var rt;switch(Tt){case 0:default:rt="left";break;case 1:rt="center";break;case 2:rt="right"}return rt},configurable:!0,enumerable:!0,set:function(rt){switch(rt){case"right":case 2:Tt=2;break;case"center":case 1:Tt=1;break;default:Tt=0}}})};ir(ln,Hr);var Jn=function(){ln.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var B=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return B},set:function(D){B=D}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return B},set:function(D){B=D}});var N=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Ht(N,this.objId,this.scope)},set:function(D){var K,X;X=[],typeof(K=D)=="string"&&(X=(function(ee,ve,de){de||(de=1);for(var fe,ke=[];fe=ve.exec(ee);)ke.push(fe[de]);return ke})(K,/\((.*?)\)/g)),N=X}}),this.getOptions=function(){return N},this.setOptions=function(D){N=D,this.sort&&N.sort()},this.addOption=function(D){D=(D=D||"").toString(),N.push(D),this.sort&&N.sort()},this.removeOption=function(D,K){for(K=K||!1,D=(D=D||"").toString();N.indexOf(D)!==-1&&(N.splice(N.indexOf(D),1),K!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,18)},set:function(D){D?this.Ff=pn(this.Ff,18):this.Ff=mn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,19)},set:function(D){this.combo===!0&&(D?this.Ff=pn(this.Ff,19):this.Ff=mn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,20)},set:function(D){D?(this.Ff=pn(this.Ff,20),N.sort()):this.Ff=mn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,22)},set:function(D){D?this.Ff=pn(this.Ff,22):this.Ff=mn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,23)},set:function(D){D?this.Ff=pn(this.Ff,23):this.Ff=mn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,27)},set:function(D){D?this.Ff=pn(this.Ff,27):this.Ff=mn(this.Ff,27)}}),this.hasAppearanceStream=!1};ir(Jn,ln);var en=function(){Jn.call(this),this.fontName="helvetica",this.combo=!1};ir(en,Jn);var Dr=function(){en.call(this),this.combo=!0};ir(Dr,en);var An=function(){Dr.call(this),this.edit=!0};ir(An,Dr);var cn=function(){ln.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,15)},set:function(D){D?this.Ff=pn(this.Ff,15):this.Ff=mn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,16)},set:function(D){D?this.Ff=pn(this.Ff,16):this.Ff=mn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,17)},set:function(D){D?this.Ff=pn(this.Ff,17):this.Ff=mn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,26)},set:function(D){D?this.Ff=pn(this.Ff,26):this.Ff=mn(this.Ff,26)}});var B,N={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var D=function(ee){return ee};if(this.scope&&(D=this.scope.internal.getEncryptor(this.objId)),Object.keys(N).length!==0){var K,X=[];for(K in X.push("<<"),N)X.push("/"+K+" ("+Ge(D(N[K]))+")");return X.push(">>"),X.join(`
`)}},set:function(D){(0,d.default)(D)==="object"&&(N=D)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return N.CA||""},set:function(D){typeof D=="string"&&(N.CA=D)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return B},set:function(D){B=D}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return B.substr(1,B.length-1)},set:function(D){B="/"+D}})};ir(cn,ln);var Pn=function(){cn.call(this),this.pushButton=!0};ir(Pn,cn);var li=function(){cn.call(this),this.radio=!0,this.pushButton=!1;var B=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return B},set:function(N){B=N!==void 0?N:[]}})};ir(li,cn);var Ts=function(){var B,N;ln.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return B},set:function(X){B=X}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return N},set:function(X){N=X}});var D,K={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var X=function(de){return de};this.scope&&(X=this.scope.internal.getEncryptor(this.objId));var ee,ve=[];for(ee in ve.push("<<"),K)ve.push("/"+ee+" ("+Ge(X(K[ee]))+")");return ve.push(">>"),ve.join(`
`)},set:function(X){(0,d.default)(X)==="object"&&(K=X)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return K.CA||""},set:function(X){typeof X=="string"&&(K.CA=X)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return D},set:function(X){D=X}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return D.substr(1,D.length-1)},set:function(X){D="/"+X}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=nn.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ir(Ts,ln),li.prototype.setAppearance=function(B){if(!("createAppearanceStream"in B)||!("getCA"in B))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var N in this.Kids)if(this.Kids.hasOwnProperty(N)){var D=this.Kids[N];D.appearanceStreamContent=B.createAppearanceStream(D.optionName),D.caption=B.getCA()}},li.prototype.createOption=function(B){var N=new Ts;return N.Parent=this,N.optionName=B,this.Kids.push(N),ss.call(this.scope,N),N};var Rs=function(){cn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=nn.CheckBox.createAppearanceStream()};ir(Rs,cn);var Cs=function(){ln.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,13)},set:function(N){N?this.Ff=pn(this.Ff,13):this.Ff=mn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,21)},set:function(N){N?this.Ff=pn(this.Ff,21):this.Ff=mn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,23)},set:function(N){N?this.Ff=pn(this.Ff,23):this.Ff=mn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,24)},set:function(N){N?this.Ff=pn(this.Ff,24):this.Ff=mn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,25)},set:function(N){N?this.Ff=pn(this.Ff,25):this.Ff=mn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,26)},set:function(N){N?this.Ff=pn(this.Ff,26):this.Ff=mn(this.Ff,26)}});var B=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return B},set:function(N){B=N}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return B},set:function(N){Number.isInteger(N)&&(B=N)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ir(Cs,ln);var ei=function(){Cs.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,14)},set:function(B){B?this.Ff=pn(this.Ff,14):this.Ff=mn(this.Ff,14)}}),this.password=!0};ir(ei,Cs);var nn={CheckBox:{createAppearanceStream:function(){return{N:{On:nn.CheckBox.YesNormal},D:{On:nn.CheckBox.YesPushDown,Off:nn.CheckBox.OffPushDown}}},YesPushDown:function(B){var N=kr(B);N.scope=B.scope;var D=[],K=B.scope.internal.getFont(B.fontName,B.fontStyle).id,X=B.scope.__private__.encodeColorString(B.color),ee=Li(B,B.caption);return D.push("0.749023 g"),D.push("0 0 "+Et(nn.internal.getWidth(B))+" "+Et(nn.internal.getHeight(B))+" re"),D.push("f"),D.push("BMC"),D.push("q"),D.push("0 0 1 rg"),D.push("/"+K+" "+Et(ee.fontSize)+" Tf "+X),D.push("BT"),D.push(ee.text),D.push("ET"),D.push("Q"),D.push("EMC"),N.stream=D.join(`
`),N},YesNormal:function(B){var N=kr(B);N.scope=B.scope;var D=B.scope.internal.getFont(B.fontName,B.fontStyle).id,K=B.scope.__private__.encodeColorString(B.color),X=[],ee=nn.internal.getHeight(B),ve=nn.internal.getWidth(B),de=Li(B,B.caption);return X.push("1 g"),X.push("0 0 "+Et(ve)+" "+Et(ee)+" re"),X.push("f"),X.push("q"),X.push("0 0 1 rg"),X.push("0 0 "+Et(ve-1)+" "+Et(ee-1)+" re"),X.push("W"),X.push("n"),X.push("0 g"),X.push("BT"),X.push("/"+D+" "+Et(de.fontSize)+" Tf "+K),X.push(de.text),X.push("ET"),X.push("Q"),N.stream=X.join(`
`),N},OffPushDown:function(B){var N=kr(B);N.scope=B.scope;var D=[];return D.push("0.749023 g"),D.push("0 0 "+Et(nn.internal.getWidth(B))+" "+Et(nn.internal.getHeight(B))+" re"),D.push("f"),N.stream=D.join(`
`),N}},RadioButton:{Circle:{createAppearanceStream:function(B){var N={D:{Off:nn.RadioButton.Circle.OffPushDown},N:{}};return N.N[B]=nn.RadioButton.Circle.YesNormal,N.D[B]=nn.RadioButton.Circle.YesPushDown,N},getCA:function(){return"l"},YesNormal:function(B){var N=kr(B);N.scope=B.scope;var D=[],K=nn.internal.getWidth(B)<=nn.internal.getHeight(B)?nn.internal.getWidth(B)/4:nn.internal.getHeight(B)/4;K=Number((.9*K).toFixed(5));var X=nn.internal.Bezier_C,ee=Number((K*X).toFixed(5));return D.push("q"),D.push("1 0 0 1 "+Ut(nn.internal.getWidth(B)/2)+" "+Ut(nn.internal.getHeight(B)/2)+" cm"),D.push(K+" 0 m"),D.push(K+" "+ee+" "+ee+" "+K+" 0 "+K+" c"),D.push("-"+ee+" "+K+" -"+K+" "+ee+" -"+K+" 0 c"),D.push("-"+K+" -"+ee+" -"+ee+" -"+K+" 0 -"+K+" c"),D.push(ee+" -"+K+" "+K+" -"+ee+" "+K+" 0 c"),D.push("f"),D.push("Q"),N.stream=D.join(`
`),N},YesPushDown:function(B){var N=kr(B);N.scope=B.scope;var D=[],K=nn.internal.getWidth(B)<=nn.internal.getHeight(B)?nn.internal.getWidth(B)/4:nn.internal.getHeight(B)/4;K=Number((.9*K).toFixed(5));var X=Number((2*K).toFixed(5)),ee=Number((X*nn.internal.Bezier_C).toFixed(5)),ve=Number((K*nn.internal.Bezier_C).toFixed(5));return D.push("0.749023 g"),D.push("q"),D.push("1 0 0 1 "+Ut(nn.internal.getWidth(B)/2)+" "+Ut(nn.internal.getHeight(B)/2)+" cm"),D.push(X+" 0 m"),D.push(X+" "+ee+" "+ee+" "+X+" 0 "+X+" c"),D.push("-"+ee+" "+X+" -"+X+" "+ee+" -"+X+" 0 c"),D.push("-"+X+" -"+ee+" -"+ee+" -"+X+" 0 -"+X+" c"),D.push(ee+" -"+X+" "+X+" -"+ee+" "+X+" 0 c"),D.push("f"),D.push("Q"),D.push("0 g"),D.push("q"),D.push("1 0 0 1 "+Ut(nn.internal.getWidth(B)/2)+" "+Ut(nn.internal.getHeight(B)/2)+" cm"),D.push(K+" 0 m"),D.push(K+" "+ve+" "+ve+" "+K+" 0 "+K+" c"),D.push("-"+ve+" "+K+" -"+K+" "+ve+" -"+K+" 0 c"),D.push("-"+K+" -"+ve+" -"+ve+" -"+K+" 0 -"+K+" c"),D.push(ve+" -"+K+" "+K+" -"+ve+" "+K+" 0 c"),D.push("f"),D.push("Q"),N.stream=D.join(`
`),N},OffPushDown:function(B){var N=kr(B);N.scope=B.scope;var D=[],K=nn.internal.getWidth(B)<=nn.internal.getHeight(B)?nn.internal.getWidth(B)/4:nn.internal.getHeight(B)/4;K=Number((.9*K).toFixed(5));var X=Number((2*K).toFixed(5)),ee=Number((X*nn.internal.Bezier_C).toFixed(5));return D.push("0.749023 g"),D.push("q"),D.push("1 0 0 1 "+Ut(nn.internal.getWidth(B)/2)+" "+Ut(nn.internal.getHeight(B)/2)+" cm"),D.push(X+" 0 m"),D.push(X+" "+ee+" "+ee+" "+X+" 0 "+X+" c"),D.push("-"+ee+" "+X+" -"+X+" "+ee+" -"+X+" 0 c"),D.push("-"+X+" -"+ee+" -"+ee+" -"+X+" 0 -"+X+" c"),D.push(ee+" -"+X+" "+X+" -"+ee+" "+X+" 0 c"),D.push("f"),D.push("Q"),N.stream=D.join(`
`),N}},Cross:{createAppearanceStream:function(B){var N={D:{Off:nn.RadioButton.Cross.OffPushDown},N:{}};return N.N[B]=nn.RadioButton.Cross.YesNormal,N.D[B]=nn.RadioButton.Cross.YesPushDown,N},getCA:function(){return"8"},YesNormal:function(B){var N=kr(B);N.scope=B.scope;var D=[],K=nn.internal.calculateCross(B);return D.push("q"),D.push("1 1 "+Et(nn.internal.getWidth(B)-2)+" "+Et(nn.internal.getHeight(B)-2)+" re"),D.push("W"),D.push("n"),D.push(Et(K.x1.x)+" "+Et(K.x1.y)+" m"),D.push(Et(K.x2.x)+" "+Et(K.x2.y)+" l"),D.push(Et(K.x4.x)+" "+Et(K.x4.y)+" m"),D.push(Et(K.x3.x)+" "+Et(K.x3.y)+" l"),D.push("s"),D.push("Q"),N.stream=D.join(`
`),N},YesPushDown:function(B){var N=kr(B);N.scope=B.scope;var D=nn.internal.calculateCross(B),K=[];return K.push("0.749023 g"),K.push("0 0 "+Et(nn.internal.getWidth(B))+" "+Et(nn.internal.getHeight(B))+" re"),K.push("f"),K.push("q"),K.push("1 1 "+Et(nn.internal.getWidth(B)-2)+" "+Et(nn.internal.getHeight(B)-2)+" re"),K.push("W"),K.push("n"),K.push(Et(D.x1.x)+" "+Et(D.x1.y)+" m"),K.push(Et(D.x2.x)+" "+Et(D.x2.y)+" l"),K.push(Et(D.x4.x)+" "+Et(D.x4.y)+" m"),K.push(Et(D.x3.x)+" "+Et(D.x3.y)+" l"),K.push("s"),K.push("Q"),N.stream=K.join(`
`),N},OffPushDown:function(B){var N=kr(B);N.scope=B.scope;var D=[];return D.push("0.749023 g"),D.push("0 0 "+Et(nn.internal.getWidth(B))+" "+Et(nn.internal.getHeight(B))+" re"),D.push("f"),N.stream=D.join(`
`),N}}},createDefaultAppearanceStream:function(B){var N=B.scope.internal.getFont(B.fontName,B.fontStyle).id,D=B.scope.__private__.encodeColorString(B.color);return"/"+N+" "+B.fontSize+" Tf "+D}};nn.internal={Bezier_C:.551915024494,calculateCross:function(B){var N=nn.internal.getWidth(B),D=nn.internal.getHeight(B),K=Math.min(N,D);return{x1:{x:(N-K)/2,y:(D-K)/2+K},x2:{x:(N-K)/2+K,y:(D-K)/2},x3:{x:(N-K)/2,y:(D-K)/2},x4:{x:(N-K)/2+K,y:(D-K)/2+K}}}},nn.internal.getWidth=function(B){var N=0;return(0,d.default)(B)==="object"&&(N=on(B.Rect[2])),N},nn.internal.getHeight=function(B){var N=0;return(0,d.default)(B)==="object"&&(N=on(B.Rect[3])),N};var ss=We.addField=function(B){if(rr(this,B),!(B instanceof ln))throw new Error("Invalid argument passed to jsPDF.addField.");var N;return(N=B).scope.internal.acroformPlugin.printedOut&&(N.scope.internal.acroformPlugin.printedOut=!1,N.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),N.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(N),B.page=B.scope.internal.getCurrentPageInfo().pageNumber,this};We.AcroFormChoiceField=Jn,We.AcroFormListBox=en,We.AcroFormComboBox=Dr,We.AcroFormEditBox=An,We.AcroFormButton=cn,We.AcroFormPushButton=Pn,We.AcroFormRadioButton=li,We.AcroFormCheckBox=Rs,We.AcroFormTextField=Cs,We.AcroFormPasswordField=ei,We.AcroFormAppearance=nn,We.AcroForm={ChoiceField:Jn,ListBox:en,ComboBox:Dr,EditBox:An,Button:cn,PushButton:Pn,RadioButton:li,CheckBox:Rs,TextField:Cs,PasswordField:ei,Appearance:nn},et.AcroForm={ChoiceField:Jn,ListBox:en,ComboBox:Dr,EditBox:An,Button:cn,PushButton:Pn,RadioButton:li,CheckBox:Rs,TextField:Cs,PasswordField:ei,Appearance:nn};var ea=et.AcroForm;function En(B){return B.reduce(function(N,D,K){return N[D]=K,N},{})}(function(B){var N="addImage_";B.__addimage__={};var D="UNKNOWN",K={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},X=B.__addimage__.getImageFileTypeByImageData=function(it,ft){var Ot,Pt,Ar,Tr,Lr,ar=D;if((ft=ft||D)==="RGBA"||it.data!==void 0&&it.data instanceof Uint8ClampedArray&&"height"in it&&"width"in it)return"RGBA";if(Vt(it))for(Lr in K)for(Ar=K[Lr],Ot=0;Ot<Ar.length;Ot+=1){for(Tr=!0,Pt=0;Pt<Ar[Ot].length;Pt+=1)if(Ar[Ot][Pt]!==void 0&&Ar[Ot][Pt]!==it[Pt]){Tr=!1;break}if(Tr===!0){ar=Lr;break}}else for(Lr in K)for(Ar=K[Lr],Ot=0;Ot<Ar.length;Ot+=1){for(Tr=!0,Pt=0;Pt<Ar[Ot].length;Pt+=1)if(Ar[Ot][Pt]!==void 0&&Ar[Ot][Pt]!==it.charCodeAt(Pt)){Tr=!1;break}if(Tr===!0){ar=Lr;break}}return ar===D&&ft!==D&&(ar=ft),ar},ee=function it(ft){for(var Ot=this.internal.write,Pt=this.internal.putStream,Ar=(0,this.internal.getFilters)();Ar.indexOf("FlateEncode")!==-1;)Ar.splice(Ar.indexOf("FlateEncode"),1);ft.objectId=this.internal.newObject();var Tr=[];if(Tr.push({key:"Type",value:"/XObject"}),Tr.push({key:"Subtype",value:"/Image"}),Tr.push({key:"Width",value:ft.width}),Tr.push({key:"Height",value:ft.height}),ft.colorSpace===rt.INDEXED?Tr.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(ft.palette.length/3-1)+" "+("sMask"in ft&&ft.sMask!==void 0?ft.objectId+2:ft.objectId+1)+" 0 R]"}):(Tr.push({key:"ColorSpace",value:"/"+ft.colorSpace}),ft.colorSpace===rt.DEVICE_CMYK&&Tr.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Tr.push({key:"BitsPerComponent",value:ft.bitsPerComponent}),"decodeParameters"in ft&&ft.decodeParameters!==void 0&&Tr.push({key:"DecodeParms",value:"<<"+ft.decodeParameters+">>"}),"transparency"in ft&&Array.isArray(ft.transparency)&&ft.transparency.length>0){for(var Lr="",ar=0,Ir=ft.transparency.length;ar<Ir;ar++)Lr+=ft.transparency[ar]+" "+ft.transparency[ar]+" ";Tr.push({key:"Mask",value:"["+Lr+"]"})}ft.sMask!==void 0&&Tr.push({key:"SMask",value:ft.objectId+1+" 0 R"});var hn=ft.filter!==void 0?["/"+ft.filter]:void 0;if(Pt({data:ft.data,additionalKeyValues:Tr,alreadyAppliedFilters:hn,objectId:ft.objectId}),Ot("endobj"),"sMask"in ft&&ft.sMask!==void 0){var Zr,Ye=(Zr=ft.sMaskBitsPerComponent)!==null&&Zr!==void 0?Zr:ft.bitsPerComponent,St={width:ft.width,height:ft.height,colorSpace:"DeviceGray",bitsPerComponent:Ye,data:ft.sMask};"filter"in ft&&(St.decodeParameters="/Predictor ".concat(ft.predictor," /Colors 1 /BitsPerComponent ").concat(Ye," /Columns ").concat(ft.width),St.filter=ft.filter),it.call(this,St)}if(ft.colorSpace===rt.INDEXED){var Nt=this.internal.newObject();Pt({data:nr(new Uint8Array(ft.palette)),objectId:Nt}),Ot("endobj")}},ve=function(){var it=this.internal.collections[N+"images"];for(var ft in it)ee.call(this,it[ft])},de=function(){var it,ft=this.internal.collections[N+"images"],Ot=this.internal.write;for(var Pt in ft)Ot("/I"+(it=ft[Pt]).index,it.objectId,"0","R")},fe=function(){this.internal.collections[N+"images"]||(this.internal.collections[N+"images"]={},this.internal.events.subscribe("putResources",ve),this.internal.events.subscribe("putXobjectDict",de))},ke=function(){var it=this.internal.collections[N+"images"];return fe.call(this),it},Qe=function(){return Object.keys(this.internal.collections[N+"images"]).length},Xe=function(it){return typeof B["process"+it.toUpperCase()]=="function"},lt=function(it){return(0,d.default)(it)==="object"&&it.nodeType===1},Ce=function(it,ft){if(it.nodeName==="IMG"&&it.hasAttribute("src")){var Ot=""+it.getAttribute("src");if(Ot.indexOf("data:image/")===0)return P(unescape(Ot).split("base64,").pop());var Pt=B.loadFile(Ot,!0);if(Pt!==void 0)return Pt}if(it.nodeName==="CANVAS"){if(it.width===0||it.height===0)throw new Error("Given canvas must have data. Canvas width: "+it.width+", height: "+it.height);var Ar;switch(ft){case"PNG":Ar="image/png";break;case"WEBP":Ar="image/webp";break;default:Ar="image/jpeg"}return P(it.toDataURL(Ar,1).split("base64,").pop())}},_t=function(it){var ft=this.internal.collections[N+"images"];if(ft){for(var Ot in ft)if(it===ft[Ot].alias)return ft[Ot]}},at=function(it,ft,Ot){return it||ft||(it=-96,ft=-96),it<0&&(it=-1*Ot.width*72/it/this.internal.scaleFactor),ft<0&&(ft=-1*Ot.height*72/ft/this.internal.scaleFactor),it===0&&(it=ft*Ot.width/Ot.height),ft===0&&(ft=it*Ot.height/Ot.width),[it,ft]},Tt=function(it,ft,Ot,Pt,Ar,Tr){var Lr=at.call(this,Ot,Pt,Ar),ar=this.internal.getCoordinateString,Ir=this.internal.getVerticalCoordinateString,hn=ke.call(this);if(Ot=Lr[0],Pt=Lr[1],hn[Ar.index]=Ar,Tr){Tr*=Math.PI/180;var Zr=Math.cos(Tr),Ye=Math.sin(Tr),St=function(Kt){return Kt.toFixed(4)},Nt=[St(Zr),St(Ye),St(-1*Ye),St(Zr),0,0,"cm"]}this.internal.write("q"),Tr?(this.internal.write([1,"0","0",1,ar(it),Ir(ft+Pt),"cm"].join(" ")),this.internal.write(Nt.join(" ")),this.internal.write([ar(Ot),"0","0",ar(Pt),"0","0","cm"].join(" "))):this.internal.write([ar(Ot),"0","0",ar(Pt),ar(it),Ir(ft+Pt),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Ar.index+" Do"),this.internal.write("Q")},rt=B.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};B.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var Bt=B.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},Yt=B.__addimage__.sHashCode=function(it){var ft,Ot,Pt=0;if(typeof it=="string")for(Ot=it.length,ft=0;ft<Ot;ft++)Pt=(Pt<<5)-Pt+it.charCodeAt(ft),Pt|=0;else if(Vt(it))for(Ot=it.byteLength/2,ft=0;ft<Ot;ft++)Pt=(Pt<<5)-Pt+it[ft],Pt|=0;return Pt},kt=B.__addimage__.validateStringAsBase64=function(it){(it=it||"").toString().trim();var ft=!0;return it.length===0&&(ft=!1),it.length%4!=0&&(ft=!1),/^[A-Za-z0-9+/]+$/.test(it.substr(0,it.length-2))===!1&&(ft=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(it.substr(-2))===!1&&(ft=!1),ft},tt=B.__addimage__.extractImageFromDataUrl=function(it){if(it==null||!(it=it.trim()).startsWith("data:"))return null;var ft=it.indexOf(",");return ft<0?null:it.substring(0,ft).trim().endsWith("base64")?it.substring(ft+1):null};B.__addimage__.isArrayBuffer=function(it){return it instanceof ArrayBuffer};var Vt=B.__addimage__.isArrayBufferView=function(it){return it instanceof Int8Array||it instanceof Uint8Array||it instanceof Uint8ClampedArray||it instanceof Int16Array||it instanceof Uint16Array||it instanceof Int32Array||it instanceof Uint32Array||it instanceof Float32Array||it instanceof Float64Array},Er=B.__addimage__.binaryStringToUint8Array=function(it){for(var ft=it.length,Ot=new Uint8Array(ft),Pt=0;Pt<ft;Pt++)Ot[Pt]=it.charCodeAt(Pt);return Ot},nr=B.__addimage__.arrayBufferToBinaryString=function(it){for(var ft="",Ot=Vt(it)?it:new Uint8Array(it),Pt=0;Pt<Ot.length;Pt+=8192)ft+=String.fromCharCode.apply(null,Ot.subarray(Pt,Pt+8192));return ft};B.addImage=function(){var it,ft,Ot,Pt,Ar,Tr,Lr,ar,Ir;if(typeof arguments[1]=="number"?(ft=D,Ot=arguments[1],Pt=arguments[2],Ar=arguments[3],Tr=arguments[4],Lr=arguments[5],ar=arguments[6],Ir=arguments[7]):(ft=arguments[1],Ot=arguments[2],Pt=arguments[3],Ar=arguments[4],Tr=arguments[5],Lr=arguments[6],ar=arguments[7],Ir=arguments[8]),(0,d.default)(it=arguments[0])==="object"&&!lt(it)&&"imageData"in it){var hn=it;it=hn.imageData,ft=hn.format||ft||D,Ot=hn.x||Ot||0,Pt=hn.y||Pt||0,Ar=hn.w||hn.width||Ar,Tr=hn.h||hn.height||Tr,Lr=hn.alias||Lr,ar=hn.compression||ar,Ir=hn.rotation||hn.angle||Ir}var Zr=this.internal.getFilters();if(ar===void 0&&Zr.indexOf("FlateEncode")!==-1&&(ar="SLOW"),isNaN(Ot)||isNaN(Pt))throw new Error("Invalid coordinates passed to jsPDF.addImage");fe.call(this);var Ye=Rt.call(this,it,ft,Lr,ar);return Tt.call(this,Ot,Pt,Ar,Tr,Ye,Ir),this};var Rt=function(it,ft,Ot,Pt){var Ar,Tr,Lr;if(typeof it=="string"&&X(it)===D){it=unescape(it);var ar=yr(it,!1);(ar!==""||(ar=B.loadFile(it,!0))!==void 0)&&(it=ar)}if(lt(it)&&(it=Ce(it,ft)),ft=X(it,ft),!Xe(ft))throw new Error("addImage does not support files of type '"+ft+"', please ensure that a plugin for '"+ft+"' support is added.");if(((Lr=Ot)==null||Lr.length===0)&&(Ot=(function(Ir){return typeof Ir=="string"||Vt(Ir)?Yt(Ir):Vt(Ir.data)?Yt(Ir.data):null})(it)),(Ar=_t.call(this,Ot))||(it instanceof Uint8Array||ft==="RGBA"||(Tr=it,it=Er(it)),Ar=this["process"+ft.toUpperCase()](it,Qe.call(this),Ot,(function(Ir){return Ir&&typeof Ir=="string"&&(Ir=Ir.toUpperCase()),Ir in B.image_compression?Ir:Bt.NONE})(Pt),Tr)),!Ar)throw new Error("An unknown error occurred whilst processing the image.");return Ar},yr=B.__addimage__.convertBase64ToBinaryString=function(it,ft){ft=typeof ft!="boolean"||ft;var Ot,Pt="";if(typeof it=="string"){var Ar;Ot=(Ar=tt(it))!==null&&Ar!==void 0?Ar:it;try{Pt=P(Ot)}catch(Tr){if(ft)throw kt(Ot)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Tr.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Pt};B.getImageProperties=function(it){var ft,Ot,Pt="";if(lt(it)&&(it=Ce(it)),typeof it=="string"&&X(it)===D&&((Pt=yr(it,!1))===""&&(Pt=B.loadFile(it)||""),it=Pt),Ot=X(it),!Xe(Ot))throw new Error("addImage does not support files of type '"+Ot+"', please ensure that a plugin for '"+Ot+"' support is added.");if(it instanceof Uint8Array||(it=Er(it)),!(ft=this["process"+Ot.toUpperCase()](it)))throw new Error("An unknown error occurred whilst processing the image");return ft.fileType=Ot,ft}})(et.API),(function(B){var N=function(D){if(D!==void 0&&D!="")return!0};et.API.events.push(["addPage",function(D){this.internal.getPageInfo(D.pageNumber).pageContext.annotations=[]}]),B.events.push(["putPage",function(D){for(var K,X,ee,ve=this.internal.getCoordinateString,de=this.internal.getVerticalCoordinateString,fe=this.internal.getPageInfoByObjId(D.objId),ke=D.pageContext.annotations,Qe=!1,Xe=0;Xe<ke.length&&!Qe;Xe++)switch((K=ke[Xe]).type){case"link":(N(K.options.url)||N(K.options.pageNumber))&&(Qe=!0);break;case"reference":case"text":case"freetext":Qe=!0}if(Qe!=0){this.internal.write("/Annots [");for(var lt=0;lt<ke.length;lt++){K=ke[lt];var Ce=this.internal.pdfEscape,_t=this.internal.getEncryptor(D.objId);switch(K.type){case"reference":this.internal.write(" "+K.object.objId+" 0 R ");break;case"text":var at=this.internal.newAdditionalObject(),Tt=this.internal.newAdditionalObject(),rt=this.internal.getEncryptor(at.objId),Bt=K.title||"Note";ee="<</Type /Annot /Subtype /Text "+(X="/Rect ["+ve(K.bounds.x)+" "+de(K.bounds.y+K.bounds.h)+" "+ve(K.bounds.x+K.bounds.w)+" "+de(K.bounds.y)+"] ")+"/Contents ("+Ce(rt(K.contents))+")",ee+=" /Popup "+Tt.objId+" 0 R",ee+=" /P "+fe.objId+" 0 R",ee+=" /T ("+Ce(rt(Bt))+") >>",at.content=ee;var Yt=at.objId+" 0 R";ee="<</Type /Annot /Subtype /Popup "+(X="/Rect ["+ve(K.bounds.x+30)+" "+de(K.bounds.y+K.bounds.h)+" "+ve(K.bounds.x+K.bounds.w+30)+" "+de(K.bounds.y)+"] ")+" /Parent "+Yt,K.open&&(ee+=" /Open true"),ee+=" >>",Tt.content=ee,this.internal.write(at.objId,"0 R",Tt.objId,"0 R");break;case"freetext":X="/Rect ["+ve(K.bounds.x)+" "+de(K.bounds.y)+" "+ve(K.bounds.x+K.bounds.w)+" "+de(K.bounds.y+K.bounds.h)+"] ";var kt=K.color||"#000000";ee="<</Type /Annot /Subtype /FreeText "+X+"/Contents ("+Ce(_t(K.contents))+")",ee+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+kt+")",ee+=" /Border [0 0 0]",ee+=" >>",this.internal.write(ee);break;case"link":if(K.options.name){var tt=this.annotations._nameMap[K.options.name];K.options.pageNumber=tt.page,K.options.top=tt.y}else K.options.top||(K.options.top=0);if(X="/Rect ["+K.finalBounds.x+" "+K.finalBounds.y+" "+K.finalBounds.w+" "+K.finalBounds.h+"] ",ee="",K.options.url)ee="<</Type /Annot /Subtype /Link "+X+"/Border [0 0 0] /A <</S /URI /URI ("+Ce(_t(K.options.url))+") >>";else if(K.options.pageNumber)switch(ee="<</Type /Annot /Subtype /Link "+X+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(K.options.pageNumber).objId+" 0 R",K.options.magFactor=K.options.magFactor||"XYZ",K.options.magFactor){case"Fit":ee+=" /Fit]";break;case"FitH":ee+=" /FitH "+K.options.top+"]";break;case"FitV":K.options.left=K.options.left||0,ee+=" /FitV "+K.options.left+"]";break;default:var Vt=de(K.options.top);K.options.left=K.options.left||0,K.options.zoom===void 0&&(K.options.zoom=0),ee+=" /XYZ "+K.options.left+" "+Vt+" "+K.options.zoom+"]"}ee!=""&&(ee+=" >>",this.internal.write(ee))}}this.internal.write("]")}}]),B.createAnnotation=function(D){var K=this.internal.getCurrentPageInfo();switch(D.type){case"link":this.link(D.bounds.x,D.bounds.y,D.bounds.w,D.bounds.h,D);break;case"text":case"freetext":K.pageContext.annotations.push(D)}},B.link=function(D,K,X,ee,ve){var de=this.internal.getCurrentPageInfo(),fe=this.internal.getCoordinateString,ke=this.internal.getVerticalCoordinateString;de.pageContext.annotations.push({finalBounds:{x:fe(D),y:ke(K),w:fe(D+X),h:ke(K+ee)},options:ve,type:"link"})},B.textWithLink=function(D,K,X,ee){var ve,de,fe=this.getTextWidth(D),ke=this.internal.getLineHeight()/this.internal.scaleFactor;if(ee.maxWidth!==void 0){de=ee.maxWidth;var Qe=this.splitTextToSize(D,de).length;ve=Math.ceil(ke*Qe)}else de=fe,ve=ke;return this.text(D,K,X,ee),X+=.2*ke,ee.align==="center"&&(K-=fe/2),ee.align==="right"&&(K-=fe),this.link(K,X-ke,de,ve,ee),fe},B.getTextWidth=function(D){var K=this.internal.getFontSize();return this.getStringUnitWidth(D)*K/this.internal.scaleFactor}})(et.API),(function(B){var N={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},D={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},K={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},X=[1570,1571,1573,1575];B.__arabicParser__={};var ee=B.__arabicParser__.isInArabicSubstitutionA=function(at){return N[at.charCodeAt(0)]!==void 0},ve=B.__arabicParser__.isArabicLetter=function(at){return typeof at=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(at)},de=B.__arabicParser__.isArabicEndLetter=function(at){return ve(at)&&ee(at)&&N[at.charCodeAt(0)].length<=2},fe=B.__arabicParser__.isArabicAlfLetter=function(at){return ve(at)&&X.indexOf(at.charCodeAt(0))>=0};B.__arabicParser__.arabicLetterHasIsolatedForm=function(at){return ve(at)&&ee(at)&&N[at.charCodeAt(0)].length>=1};var ke=B.__arabicParser__.arabicLetterHasFinalForm=function(at){return ve(at)&&ee(at)&&N[at.charCodeAt(0)].length>=2};B.__arabicParser__.arabicLetterHasInitialForm=function(at){return ve(at)&&ee(at)&&N[at.charCodeAt(0)].length>=3};var Qe=B.__arabicParser__.arabicLetterHasMedialForm=function(at){return ve(at)&&ee(at)&&N[at.charCodeAt(0)].length==4},Xe=B.__arabicParser__.resolveLigatures=function(at){var Tt=0,rt=D,Bt="",Yt=0;for(Tt=0;Tt<at.length;Tt+=1)rt[at.charCodeAt(Tt)]!==void 0?(Yt++,typeof(rt=rt[at.charCodeAt(Tt)])=="number"&&(Bt+=String.fromCharCode(rt),rt=D,Yt=0),Tt===at.length-1&&(rt=D,Bt+=at.charAt(Tt-(Yt-1)),Tt-=Yt-1,Yt=0)):(rt=D,Bt+=at.charAt(Tt-Yt),Tt-=Yt,Yt=0);return Bt};B.__arabicParser__.isArabicDiacritic=function(at){return at!==void 0&&K[at.charCodeAt(0)]!==void 0};var lt=B.__arabicParser__.getCorrectForm=function(at,Tt,rt){return ve(at)?ee(at)===!1?-1:!ke(at)||!ve(Tt)&&!ve(rt)||!ve(rt)&&de(Tt)||de(at)&&!ve(Tt)||de(at)&&fe(Tt)||de(at)&&de(Tt)?0:Qe(at)&&ve(Tt)&&!de(Tt)&&ve(rt)&&ke(rt)?3:de(at)||!ve(rt)?1:2:-1},Ce=function(at){var Tt=0,rt=0,Bt=0,Yt="",kt="",tt="",Vt=(at=at||"").split("\\s+"),Er=[];for(Tt=0;Tt<Vt.length;Tt+=1){for(Er.push(""),rt=0;rt<Vt[Tt].length;rt+=1)Yt=Vt[Tt][rt],kt=Vt[Tt][rt-1],tt=Vt[Tt][rt+1],ve(Yt)?(Bt=lt(Yt,kt,tt),Er[Tt]+=Bt!==-1?String.fromCharCode(N[Yt.charCodeAt(0)][Bt]):Yt):Er[Tt]+=Yt;Er[Tt]=Xe(Er[Tt])}return Er.join(" ")},_t=B.__arabicParser__.processArabic=B.processArabic=function(){var at,Tt=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,rt=[];if(Array.isArray(Tt)){var Bt=0;for(rt=[],Bt=0;Bt<Tt.length;Bt+=1)Array.isArray(Tt[Bt])?rt.push([Ce(Tt[Bt][0]),Tt[Bt][1],Tt[Bt][2]]):rt.push([Ce(Tt[Bt])]);at=rt}else at=Ce(Tt);return typeof arguments[0]=="string"?at:(arguments[0].text=at,arguments[0])};B.events.push(["preProcessText",_t])})(et.API),et.API.autoPrint=function(B){var N;return(B=B||{}).variant=B.variant||"non-conform",B.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){N=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+N+" 0 R")})),this},(function(B){var N=function(){var D=void 0;Object.defineProperty(this,"pdf",{get:function(){return D},set:function(de){D=de}});var K=150;Object.defineProperty(this,"width",{get:function(){return K},set:function(de){K=isNaN(de)||Number.isInteger(de)===!1||de<0?150:de,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=K+1)}});var X=300;Object.defineProperty(this,"height",{get:function(){return X},set:function(de){X=isNaN(de)||Number.isInteger(de)===!1||de<0?300:de,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=X+1)}});var ee=[];Object.defineProperty(this,"childNodes",{get:function(){return ee},set:function(de){ee=de}});var ve={};Object.defineProperty(this,"style",{get:function(){return ve},set:function(de){ve=de}}),Object.defineProperty(this,"parentNode",{})};N.prototype.getContext=function(D,K){var X;if((D=D||"2d")!=="2d")return null;for(X in K)this.pdf.context2d.hasOwnProperty(X)&&(this.pdf.context2d[X]=K[X]);return this.pdf.context2d._canvas=this,this.pdf.context2d},N.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},B.events.push(["initialized",function(){this.canvas=new N,this.canvas.pdf=this}])})(et.API),(function(B){var N={left:0,top:0,bottom:0,right:0},D=!1,K=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},N),this.internal.__cell__.margins.width=this.getPageWidth(),X.call(this))},X=function(){this.internal.__cell__.lastCell=new ee,this.internal.__cell__.pages=1},ee=function(){var fe=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return fe},set:function(at){fe=at}});var ke=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ke},set:function(at){ke=at}});var Qe=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return Qe},set:function(at){Qe=at}});var Xe=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return Xe},set:function(at){Xe=at}});var lt=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return lt},set:function(at){lt=at}});var Ce=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return Ce},set:function(at){Ce=at}});var _t=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return _t},set:function(at){_t=at}}),this};ee.prototype.clone=function(){return new ee(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},ee.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},B.setHeaderFunction=function(fe){return K.call(this),this.internal.__cell__.headerFunction=typeof fe=="function"?fe:void 0,this},B.getTextDimensions=function(fe,ke){K.call(this);var Qe=(ke=ke||{}).fontSize||this.getFontSize(),Xe=ke.font||this.getFont(),lt=ke.scaleFactor||this.internal.scaleFactor,Ce=0,_t=0,at=0,Tt=this;if(!Array.isArray(fe)&&typeof fe!="string"){if(typeof fe!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");fe=String(fe)}var rt=ke.maxWidth;rt>0?typeof fe=="string"?fe=this.splitTextToSize(fe,rt):Object.prototype.toString.call(fe)==="[object Array]"&&(fe=fe.reduce(function(Yt,kt){return Yt.concat(Tt.splitTextToSize(kt,rt))},[])):fe=Array.isArray(fe)?fe:[fe];for(var Bt=0;Bt<fe.length;Bt++)Ce<(at=this.getStringUnitWidth(fe[Bt],{font:Xe})*Qe)&&(Ce=at);return Ce!==0&&(_t=fe.length),{w:Ce/=lt,h:Math.max((_t*Qe*this.getLineHeightFactor()-Qe*(this.getLineHeightFactor()-1))/lt,0)}},B.cellAddPage=function(){K.call(this),this.addPage();var fe=this.internal.__cell__.margins||N;return this.internal.__cell__.lastCell=new ee(fe.left,fe.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var ve=B.cell=function(){var fe;fe=arguments[0]instanceof ee?arguments[0]:new ee(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),K.call(this);var ke=this.internal.__cell__.lastCell,Qe=this.internal.__cell__.padding,Xe=this.internal.__cell__.margins||N,lt=this.internal.__cell__.tableHeaderRow,Ce=this.internal.__cell__.printHeaders;return ke.lineNumber!==void 0&&(ke.lineNumber===fe.lineNumber?(fe.x=(ke.x||0)+(ke.width||0),fe.y=ke.y||0):ke.y+ke.height+fe.height+Xe.bottom>this.getPageHeight()?(this.cellAddPage(),fe.y=Xe.top,Ce&&lt&&(this.printHeaderRow(fe.lineNumber,!0),fe.y+=lt[0].height)):fe.y=ke.y+ke.height||fe.y),fe.text[0]!==void 0&&(this.rect(fe.x,fe.y,fe.width,fe.height,D===!0?"FD":void 0),fe.align==="right"?this.text(fe.text,fe.x+fe.width-Qe,fe.y+Qe,{align:"right",baseline:"top"}):fe.align==="center"?this.text(fe.text,fe.x+fe.width/2,fe.y+Qe,{align:"center",baseline:"top",maxWidth:fe.width-Qe-Qe}):this.text(fe.text,fe.x+Qe,fe.y+Qe,{align:"left",baseline:"top",maxWidth:fe.width-Qe-Qe})),this.internal.__cell__.lastCell=fe,this};B.table=function(fe,ke,Qe,Xe,lt){if(K.call(this),!Qe)throw new Error("No data for PDF table.");var Ce,_t,at,Tt,rt=[],Bt=[],Yt=[],kt={},tt={},Vt=[],Er=[],nr=(lt=lt||{}).autoSize||!1,Rt=lt.printHeaders!==!1,yr=lt.css&&lt.css["font-size"]!==void 0?16*lt.css["font-size"]:lt.fontSize||12,it=lt.margins||Object.assign({width:this.getPageWidth()},N),ft=typeof lt.padding=="number"?lt.padding:3,Ot=lt.headerBackgroundColor||"#c8c8c8",Pt=lt.headerTextColor||"#000";if(X.call(this),this.internal.__cell__.printHeaders=Rt,this.internal.__cell__.margins=it,this.internal.__cell__.table_font_size=yr,this.internal.__cell__.padding=ft,this.internal.__cell__.headerBackgroundColor=Ot,this.internal.__cell__.headerTextColor=Pt,this.setFontSize(yr),Xe==null)Bt=rt=Object.keys(Qe[0]),Yt=rt.map(function(){return"left"});else if(Array.isArray(Xe)&&(0,d.default)(Xe[0])==="object")for(rt=Xe.map(function(hn){return hn.name}),Bt=Xe.map(function(hn){return hn.prompt||hn.name||""}),Yt=Xe.map(function(hn){return hn.align||"left"}),Ce=0;Ce<Xe.length;Ce+=1)tt[Xe[Ce].name]=.7499990551181103*Xe[Ce].width;else Array.isArray(Xe)&&typeof Xe[0]=="string"&&(Bt=rt=Xe,Yt=rt.map(function(){return"left"}));if(nr||Array.isArray(Xe)&&typeof Xe[0]=="string")for(Ce=0;Ce<rt.length;Ce+=1){for(kt[Tt=rt[Ce]]=Qe.map(function(hn){return hn[Tt]}),this.setFont(void 0,"bold"),Vt.push(this.getTextDimensions(Bt[Ce],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),_t=kt[Tt],this.setFont(void 0,"normal"),at=0;at<_t.length;at+=1)Vt.push(this.getTextDimensions(_t[at],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);tt[Tt]=Math.max.apply(null,Vt)+ft+ft,Vt=[]}if(Rt){var Ar={};for(Ce=0;Ce<rt.length;Ce+=1)Ar[rt[Ce]]={},Ar[rt[Ce]].text=Bt[Ce],Ar[rt[Ce]].align=Yt[Ce];var Tr=de.call(this,Ar,tt);Er=rt.map(function(hn){return new ee(fe,ke,tt[hn],Tr,Ar[hn].text,void 0,Ar[hn].align)}),this.setTableHeaderRow(Er),this.printHeaderRow(1,!1)}var Lr=Xe.reduce(function(hn,Zr){return hn[Zr.name]=Zr.align,hn},{});for(Ce=0;Ce<Qe.length;Ce+=1){"rowStart"in lt&&lt.rowStart instanceof Function&&lt.rowStart({row:Ce,data:Qe[Ce]},this);var ar=de.call(this,Qe[Ce],tt);for(at=0;at<rt.length;at+=1){var Ir=Qe[Ce][rt[at]];"cellStart"in lt&&lt.cellStart instanceof Function&&lt.cellStart({row:Ce,col:at,data:Ir},this),ve.call(this,new ee(fe,ke,tt[rt[at]],ar,Ir,Ce+2,Lr[rt[at]]))}}return this.internal.__cell__.table_x=fe,this.internal.__cell__.table_y=ke,this};var de=function(fe,ke){var Qe=this.internal.__cell__.padding,Xe=this.internal.__cell__.table_font_size,lt=this.internal.scaleFactor;return Object.keys(fe).map(function(Ce){var _t=fe[Ce];return this.splitTextToSize(_t.hasOwnProperty("text")?_t.text:_t,ke[Ce]-Qe-Qe)},this).map(function(Ce){return this.getLineHeightFactor()*Ce.length*Xe/lt+Qe+Qe},this).reduce(function(Ce,_t){return Math.max(Ce,_t)},0)};B.setTableHeaderRow=function(fe){K.call(this),this.internal.__cell__.tableHeaderRow=fe},B.printHeaderRow=function(fe,ke){if(K.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var Qe;if(D=!0,typeof this.internal.__cell__.headerFunction=="function"){var Xe=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new ee(Xe[0],Xe[1],Xe[2],Xe[3],void 0,-1)}this.setFont(void 0,"bold");for(var lt=[],Ce=0;Ce<this.internal.__cell__.tableHeaderRow.length;Ce+=1){Qe=this.internal.__cell__.tableHeaderRow[Ce].clone(),ke&&(Qe.y=this.internal.__cell__.margins.top||0,lt.push(Qe)),Qe.lineNumber=fe;var _t=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),ve.call(this,Qe),this.setTextColor(_t)}lt.length>0&&this.setTableHeaderRow(lt),this.setFont(void 0,"normal"),D=!1}})(et.API);var Tn={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Ds=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],$s=En(Ds),Ms=[100,200,300,400,500,600,700,800,900],rs=En(Ms);function Ys(B){var N=B.family.replace(/"|'/g,"").toLowerCase(),D=(function(ee){return Tn[ee=ee||"normal"]?ee:"normal"})(B.style),K=(function(ee){return ee?typeof ee=="number"?ee>=100&&ee<=900&&ee%100==0?ee:400:/^\d00$/.test(ee)?parseInt(ee):ee==="bold"?700:400:400})(B.weight),X=(function(ee){return typeof $s[ee=ee||"normal"]=="number"?ee:"normal"})(B.stretch);return{family:N,style:D,weight:K,stretch:X,src:B.src||[],ref:B.ref||{name:N,style:[X,D,K].join(" ")}}}function Os(B,N,D,K){var X;for(X=D;X>=0&&X<N.length;X+=K)if(B[N[X]])return B[N[X]];for(X=D;X>=0&&X<N.length;X-=K)if(B[N[X]])return B[N[X]]}var Qa={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},ds={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function yu(B){return[B.stretch,B.style,B.weight,B.family].join(" ")}function to(B){return B.trimLeft()}function Ml(B,N){for(var D=0;D<B.length;){if(B.charAt(D)===N)return[B.substring(0,D),B.substring(D+1)];D+=1}return null}function tu(B){var N=B.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return N===null?null:[N[0],B.substring(N[0].length)]}var ml,ta,Ya,Gs,ba,Fs,kl,po,ro=["times"];function pl(B,N,D,K,X){var ee=4,ve=Hs;switch(X){case et.API.image_compression.FAST:ee=1,ve=fc;break;case et.API.image_compression.MEDIUM:ee=6,ve=ci;break;case et.API.image_compression.SLOW:ee=9,ve=js}B=(function(fe,ke,Qe,Xe){for(var lt,Ce=fe.length/ke,_t=new Uint8Array(fe.length+Ce),at=[Fl,fc,Hs,ci,js],Tt=0;Tt<Ce;Tt+=1){var rt=Tt*ke,Bt=fe.subarray(rt,rt+ke);if(Xe)_t.set(Xe(Bt,Qe,lt),rt+Tt);else{for(var Yt=at.length,kt=[],tt=0;tt<Yt;tt+=1)kt[tt]=at[tt](Bt,Qe,lt);var Vt=Va(kt.concat());_t.set(kt[Vt],rt+Tt)}lt=Bt}return _t})(B,N,Math.ceil(D*K/8),ve);var de=(0,f.zlibSync)(B,{level:ee});return et.API.__addimage__.arrayBufferToBinaryString(de)}function Fl(B){var N=Array.apply([],B);return N.unshift(0),N}function fc(B,N){var D=B.length,K=[];K[0]=1;for(var X=0;X<D;X+=1){var ee=B[X-N]||0;K[X+1]=B[X]-ee+256&255}return K}function Hs(B,N,D){var K=B.length,X=[];X[0]=2;for(var ee=0;ee<K;ee+=1){var ve=D&&D[ee]||0;X[ee+1]=B[ee]-ve+256&255}return X}function ci(B,N,D){var K=B.length,X=[];X[0]=3;for(var ee=0;ee<K;ee+=1){var ve=B[ee-N]||0,de=D&&D[ee]||0;X[ee+1]=B[ee]+256-(ve+de>>>1)&255}return X}function js(B,N,D){var K=B.length,X=[];X[0]=4;for(var ee=0;ee<K;ee+=1){var ve=Ta(B[ee-N]||0,D&&D[ee]||0,D&&D[ee-N]||0);X[ee+1]=B[ee]-ve+256&255}return X}function Ta(B,N,D){if(B===N&&N===D)return B;var K=Math.abs(N-D),X=Math.abs(B-D),ee=Math.abs(B+N-D-D);return K<=X&&K<=ee?B:X<=ee?N:D}function Va(B){var N=B.map(function(D){return D.reduce(function(K,X){return K+Math.abs(X)},0)});return N.indexOf(Math.min.apply(null,N))}function Ca(B,N,D){var K=N*D,X=Math.floor(K/8),ee=16-(K-8*X+D),ve=(1<<D)-1;return Xn(B,X)>>ee&ve}function gi(B,N,D,K){var X=D*K,ee=Math.floor(X/8),ve=16-(X-8*ee+K),de=(1<<K)-1,fe=(N&de)<<ve;(function(ke,Qe,Xe){if(Qe+1<ke.byteLength)ke.setUint16(Qe,Xe,!1);else{var lt=Xe>>8&255;ke.setUint8(Qe,lt)}})(B,ee,Xn(B,ee)&~(de<<ve)&65535|fe)}function Xn(B,N){return N+1<B.byteLength?B.getUint16(N,!1):B.getUint8(N)<<8}function hs(B){var N=0;if(B[N++]!==71||B[N++]!==73||B[N++]!==70||B[N++]!==56||(B[N++]+1&253)!=56||B[N++]!==97)throw new Error("Invalid GIF 87a/89a header.");var D=B[N++]|B[N++]<<8,K=B[N++]|B[N++]<<8,X=B[N++],ee=X>>7,ve=1<<1+(7&X);B[N++],B[N++];var de=null,fe=null;ee&&(de=N,fe=ve,N+=3*ve);var ke=!0,Qe=[],Xe=0,lt=null,Ce=0,_t=null;for(this.width=D,this.height=K;ke&&N<B.length;)switch(B[N++]){case 33:switch(B[N++]){case 255:if(B[N]!==11||B[N+1]==78&&B[N+2]==69&&B[N+3]==84&&B[N+4]==83&&B[N+5]==67&&B[N+6]==65&&B[N+7]==80&&B[N+8]==69&&B[N+9]==50&&B[N+10]==46&&B[N+11]==48&&B[N+12]==3&&B[N+13]==1&&B[N+16]==0)N+=14,_t=B[N++]|B[N++]<<8,N++;else for(N+=12;;){if(!((it=B[N++])>=0))throw Error("Invalid block size");if(it===0)break;N+=it}break;case 249:if(B[N++]!==4||B[N+4]!==0)throw new Error("Invalid graphics extension block.");var at=B[N++];Xe=B[N++]|B[N++]<<8,lt=B[N++],1&at||(lt=null),Ce=at>>2&7,N++;break;case 254:for(;;){if(!((it=B[N++])>=0))throw Error("Invalid block size");if(it===0)break;N+=it}break;default:throw new Error("Unknown graphic control label: 0x"+B[N-1].toString(16))}break;case 44:var Tt=B[N++]|B[N++]<<8,rt=B[N++]|B[N++]<<8,Bt=B[N++]|B[N++]<<8,Yt=B[N++]|B[N++]<<8,kt=B[N++],tt=kt>>6&1,Vt=1<<1+(7&kt),Er=de,nr=fe,Rt=!1;kt>>7&&(Rt=!0,Er=N,nr=Vt,N+=3*Vt);var yr=N;for(N++;;){var it;if(!((it=B[N++])>=0))throw Error("Invalid block size");if(it===0)break;N+=it}Qe.push({x:Tt,y:rt,width:Bt,height:Yt,has_local_palette:Rt,palette_offset:Er,palette_size:nr,data_offset:yr,data_length:N-yr,transparent_index:lt,interlaced:!!tt,delay:Xe,disposal:Ce});break;case 59:ke=!1;break;default:throw new Error("Unknown gif block: 0x"+B[N-1].toString(16))}this.numFrames=function(){return Qe.length},this.loopCount=function(){return _t},this.frameInfo=function(ft){if(ft<0||ft>=Qe.length)throw new Error("Frame index out of range.");return Qe[ft]},this.decodeAndBlitFrameBGRA=function(ft,Ot){var Pt=this.frameInfo(ft),Ar=Pt.width*Pt.height,Tr=new Uint8Array(Ar);wa(B,Pt.data_offset,Tr,Ar);var Lr=Pt.palette_offset,ar=Pt.transparent_index;ar===null&&(ar=256);var Ir=Pt.width,hn=D-Ir,Zr=Ir,Ye=4*(Pt.y*D+Pt.x),St=4*((Pt.y+Pt.height)*D+Pt.x),Nt=Ye,Kt=4*hn;Pt.interlaced===!0&&(Kt+=4*D*7);for(var qt=8,cr=0,Cr=Tr.length;cr<Cr;++cr){var Sr=Tr[cr];if(Zr===0&&(Zr=Ir,(Nt+=Kt)>=St&&(Kt=4*hn+4*D*(qt-1),Nt=Ye+(Ir+hn)*(qt<<1),qt>>=1)),Sr===ar)Nt+=4;else{var Vr=B[Lr+3*Sr],un=B[Lr+3*Sr+1],bn=B[Lr+3*Sr+2];Ot[Nt++]=bn,Ot[Nt++]=un,Ot[Nt++]=Vr,Ot[Nt++]=255}--Zr}},this.decodeAndBlitFrameRGBA=function(ft,Ot){var Pt=this.frameInfo(ft),Ar=Pt.width*Pt.height,Tr=new Uint8Array(Ar);wa(B,Pt.data_offset,Tr,Ar);var Lr=Pt.palette_offset,ar=Pt.transparent_index;ar===null&&(ar=256);var Ir=Pt.width,hn=D-Ir,Zr=Ir,Ye=4*(Pt.y*D+Pt.x),St=4*((Pt.y+Pt.height)*D+Pt.x),Nt=Ye,Kt=4*hn;Pt.interlaced===!0&&(Kt+=4*D*7);for(var qt=8,cr=0,Cr=Tr.length;cr<Cr;++cr){var Sr=Tr[cr];if(Zr===0&&(Zr=Ir,(Nt+=Kt)>=St&&(Kt=4*hn+4*D*(qt-1),Nt=Ye+(Ir+hn)*(qt<<1),qt>>=1)),Sr===ar)Nt+=4;else{var Vr=B[Lr+3*Sr],un=B[Lr+3*Sr+1],bn=B[Lr+3*Sr+2];Ot[Nt++]=Vr,Ot[Nt++]=un,Ot[Nt++]=bn,Ot[Nt++]=255}--Zr}}}function wa(B,N,D,K){for(var X=B[N++],ee=1<<X,ve=ee+1,de=ve+1,fe=X+1,ke=(1<<fe)-1,Qe=0,Xe=0,lt=0,Ce=B[N++],_t=new Int32Array(4096),at=null;;){for(;Qe<16&&Ce!==0;)Xe|=B[N++]<<Qe,Qe+=8,Ce===1?Ce=B[N++]:--Ce;if(Qe<fe)break;var Tt=Xe&ke;if(Xe>>=fe,Qe-=fe,Tt!==ee){if(Tt===ve)break;for(var rt=Tt<de?Tt:at,Bt=0,Yt=rt;Yt>ee;)Yt=_t[Yt]>>8,++Bt;var kt=Yt;if(lt+Bt+(rt!==Tt?1:0)>K)return void x.log("Warning, gif stream longer than expected.");D[lt++]=kt;var tt=lt+=Bt;for(rt!==Tt&&(D[lt++]=kt),Yt=rt;Bt--;)Yt=_t[Yt],D[--tt]=255&Yt,Yt>>=8;at!==null&&de<4096&&(_t[de++]=at<<8|kt,de>=ke+1&&fe<12&&(++fe,ke=ke<<1|1)),at=Tt}else de=ve+1,ke=(1<<(fe=X+1))-1,at=null}return lt!==K&&x.log("Warning, gif stream shorter than expected."),D}function Ho(B){var N,D,K,X,ee,ve=Math.floor,de=new Array(64),fe=new Array(64),ke=new Array(64),Qe=new Array(64),Xe=new Array(65535),lt=new Array(65535),Ce=new Array(64),_t=new Array(64),at=[],Tt=0,rt=7,Bt=new Array(64),Yt=new Array(64),kt=new Array(64),tt=new Array(256),Vt=new Array(2048),Er=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],nr=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Rt=[0,1,2,3,4,5,6,7,8,9,10,11],yr=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],it=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],ft=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Ot=[0,1,2,3,4,5,6,7,8,9,10,11],Pt=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Ar=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Tr(Ye,St){for(var Nt=0,Kt=0,qt=new Array,cr=1;cr<=16;cr++){for(var Cr=1;Cr<=Ye[cr];Cr++)qt[St[Kt]]=[],qt[St[Kt]][0]=Nt,qt[St[Kt]][1]=cr,Kt++,Nt++;Nt*=2}return qt}function Lr(Ye){for(var St=Ye[0],Nt=Ye[1]-1;Nt>=0;)St&1<<Nt&&(Tt|=1<<rt),Nt--,--rt<0&&(Tt==255?(ar(255),ar(0)):ar(Tt),rt=7,Tt=0)}function ar(Ye){at.push(Ye)}function Ir(Ye){ar(Ye>>8&255),ar(255&Ye)}function hn(Ye,St,Nt,Kt,qt){for(var cr,Cr=qt[0],Sr=qt[240],Vr=(function(tn,ji){var Fn,Hn,$n,ga,Di,Gn,ns,_i,Un,ki,Wn=0;for(Un=0;Un<8;++Un){Fn=tn[Wn],Hn=tn[Wn+1],$n=tn[Wn+2],ga=tn[Wn+3],Di=tn[Wn+4],Gn=tn[Wn+5],ns=tn[Wn+6];var Gi=Fn+(_i=tn[Wn+7]),is=Fn-_i,Zi=Hn+ns,gs=Hn-ns,ja=$n+Gn,xi=$n-Gn,Ws=ga+Di,Qi=ga-Di,ai=Gi+Ws,ua=Gi-Ws,Ii=Zi+ja,yn=Zi-ja;tn[Wn]=ai+Ii,tn[Wn+4]=ai-Ii;var ls=.707106781*(yn+ua);tn[Wn+2]=ua+ls,tn[Wn+6]=ua-ls;var xu=.382683433*((ai=Qi+xi)-(yn=gs+is)),io=.5411961*ai+xu,zo=1.306562965*yn+xu,Jl=.707106781*(Ii=xi+gs),bi=is+Jl,Ra=is-Jl;tn[Wn+5]=Ra+io,tn[Wn+3]=Ra-io,tn[Wn+1]=bi+zo,tn[Wn+7]=bi-zo,Wn+=8}for(Wn=0,Un=0;Un<8;++Un){Fn=tn[Wn],Hn=tn[Wn+8],$n=tn[Wn+16],ga=tn[Wn+24],Di=tn[Wn+32],Gn=tn[Wn+40],ns=tn[Wn+48];var Xa=Fn+(_i=tn[Wn+56]),Ul=Fn-_i,$l=Hn+ns,da=Hn-ns,vo=$n+Gn,Za=$n-Gn,$c=ga+Di,To=ga-Di,Ac=Xa+$c,Ka=Xa-$c,Hl=$l+vo,Ql=$l-vo;tn[Wn]=Ac+Hl,tn[Wn+32]=Ac-Hl;var Il=.707106781*(Ql+Ka);tn[Wn+16]=Ka+Il,tn[Wn+48]=Ka-Il;var gd=.382683433*((Ac=To+Za)-(Ql=da+Ul)),ec=.5411961*Ac+gd,Vl=1.306562965*Ql+gd,mc=.707106781*(Hl=Za+da),vd=Ul+mc,zl=Ul-mc;tn[Wn+40]=zl+ec,tn[Wn+24]=zl-ec,tn[Wn+8]=vd+Vl,tn[Wn+56]=vd-Vl,Wn++}for(Un=0;Un<64;++Un)ki=tn[Un]*ji[Un],Ce[Un]=ki>0?ki+.5|0:ki-.5|0;return Ce})(Ye,St),un=0;un<64;++un)_t[Er[un]]=Vr[un];var bn=_t[0]-Nt;Nt=_t[0],bn==0?Lr(Kt[0]):(Lr(Kt[lt[cr=32767+bn]]),Lr(Xe[cr]));for(var Rn=63;Rn>0&&_t[Rn]==0;)Rn--;if(Rn==0)return Lr(Cr),Nt;for(var yi,mt=1;mt<=Rn;){for(var _n=mt;_t[mt]==0&&mt<=Rn;)++mt;var Ri=mt-_n;if(Ri>=16){yi=Ri>>4;for(var Sn=1;Sn<=yi;++Sn)Lr(Sr);Ri&=15}cr=32767+_t[mt],Lr(qt[(Ri<<4)+lt[cr]]),Lr(Xe[cr]),mt++}return Rn!=63&&Lr(Cr),Nt}function Zr(Ye){Ye=Math.min(Math.max(Ye,1),100),ee!=Ye&&((function(St){for(var Nt=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Kt=0;Kt<64;Kt++){var qt=ve((Nt[Kt]*St+50)/100);qt=Math.min(Math.max(qt,1),255),de[Er[Kt]]=qt}for(var cr=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Cr=0;Cr<64;Cr++){var Sr=ve((cr[Cr]*St+50)/100);Sr=Math.min(Math.max(Sr,1),255),fe[Er[Cr]]=Sr}for(var Vr=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],un=0,bn=0;bn<8;bn++)for(var Rn=0;Rn<8;Rn++)ke[un]=1/(de[Er[un]]*Vr[bn]*Vr[Rn]*8),Qe[un]=1/(fe[Er[un]]*Vr[bn]*Vr[Rn]*8),un++})(Ye<50?Math.floor(5e3/Ye):Math.floor(200-2*Ye)),ee=Ye)}this.encode=function(Ye,St){St&&Zr(St),at=new Array,Tt=0,rt=7,Ir(65496),Ir(65504),Ir(16),ar(74),ar(70),ar(73),ar(70),ar(0),ar(1),ar(1),ar(0),Ir(1),Ir(1),ar(0),ar(0),(function(){Ir(65499),Ir(132),ar(0);for(var Hn=0;Hn<64;Hn++)ar(de[Hn]);ar(1);for(var $n=0;$n<64;$n++)ar(fe[$n])})(),(function(Hn,$n){Ir(65472),Ir(17),ar(8),Ir($n),Ir(Hn),ar(3),ar(1),ar(17),ar(0),ar(2),ar(17),ar(1),ar(3),ar(17),ar(1)})(Ye.width,Ye.height),(function(){Ir(65476),Ir(418),ar(0);for(var Hn=0;Hn<16;Hn++)ar(nr[Hn+1]);for(var $n=0;$n<=11;$n++)ar(Rt[$n]);ar(16);for(var ga=0;ga<16;ga++)ar(yr[ga+1]);for(var Di=0;Di<=161;Di++)ar(it[Di]);ar(1);for(var Gn=0;Gn<16;Gn++)ar(ft[Gn+1]);for(var ns=0;ns<=11;ns++)ar(Ot[ns]);ar(17);for(var _i=0;_i<16;_i++)ar(Pt[_i+1]);for(var Un=0;Un<=161;Un++)ar(Ar[Un])})(),Ir(65498),Ir(12),ar(3),ar(1),ar(0),ar(2),ar(17),ar(3),ar(17),ar(0),ar(63),ar(0);var Nt=0,Kt=0,qt=0;Tt=0,rt=7,this.encode.displayName="_encode_";for(var cr,Cr,Sr,Vr,un,bn,Rn,yi,mt,_n=Ye.data,Ri=Ye.width,Sn=Ye.height,tn=4*Ri,ji=0;ji<Sn;){for(cr=0;cr<tn;){for(un=tn*ji+cr,Rn=-1,yi=0,mt=0;mt<64;mt++)bn=un+(yi=mt>>3)*tn+(Rn=4*(7&mt)),ji+yi>=Sn&&(bn-=tn*(ji+1+yi-Sn)),cr+Rn>=tn&&(bn-=cr+Rn-tn+4),Cr=_n[bn++],Sr=_n[bn++],Vr=_n[bn++],Bt[mt]=(Vt[Cr]+Vt[Sr+256|0]+Vt[Vr+512|0]>>16)-128,Yt[mt]=(Vt[Cr+768|0]+Vt[Sr+1024|0]+Vt[Vr+1280|0]>>16)-128,kt[mt]=(Vt[Cr+1280|0]+Vt[Sr+1536|0]+Vt[Vr+1792|0]>>16)-128;Nt=hn(Bt,ke,Nt,N,K),Kt=hn(Yt,Qe,Kt,D,X),qt=hn(kt,Qe,qt,D,X),cr+=32}ji+=8}if(rt>=0){var Fn=[];Fn[1]=rt+1,Fn[0]=(1<<rt+1)-1,Lr(Fn)}return Ir(65497),new Uint8Array(at)},B=B||50,(function(){for(var Ye=String.fromCharCode,St=0;St<256;St++)tt[St]=Ye(St)})(),N=Tr(nr,Rt),D=Tr(ft,Ot),K=Tr(yr,it),X=Tr(Pt,Ar),(function(){for(var Ye=1,St=2,Nt=1;Nt<=15;Nt++){for(var Kt=Ye;Kt<St;Kt++)lt[32767+Kt]=Nt,Xe[32767+Kt]=[],Xe[32767+Kt][1]=Nt,Xe[32767+Kt][0]=Kt;for(var qt=-(St-1);qt<=-Ye;qt++)lt[32767+qt]=Nt,Xe[32767+qt]=[],Xe[32767+qt][1]=Nt,Xe[32767+qt][0]=St-1+qt;Ye<<=1,St<<=1}})(),(function(){for(var Ye=0;Ye<256;Ye++)Vt[Ye]=19595*Ye,Vt[Ye+256|0]=38470*Ye,Vt[Ye+512|0]=7471*Ye+32768,Vt[Ye+768|0]=-11059*Ye,Vt[Ye+1024|0]=-21709*Ye,Vt[Ye+1280|0]=32768*Ye+8421375,Vt[Ye+1536|0]=-27439*Ye,Vt[Ye+1792|0]=-5329*Ye})(),Zr(B)}function Hi(B,N){if(this.pos=0,this.buffer=B,this.datav=new DataView(B.buffer),this.is_with_alpha=!!N,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Qo(B){function N(Rt){if(!Rt)throw Error("assert :P")}function D(Rt,yr,it){for(var ft=0;4>ft;ft++)if(Rt[yr+ft]!=it.charCodeAt(ft))return!0;return!1}function K(Rt,yr,it,ft,Ot){for(var Pt=0;Pt<Ot;Pt++)Rt[yr+Pt]=it[ft+Pt]}function X(Rt,yr,it,ft){for(var Ot=0;Ot<ft;Ot++)Rt[yr+Ot]=it}function ee(Rt){return new Int32Array(Rt)}function ve(Rt,yr){for(var it=[],ft=0;ft<Rt;ft++)it.push(new yr);return it}function de(Rt,yr){var it=[];return(function ft(Ot,Pt,Ar){for(var Tr=Ar[Pt],Lr=0;Lr<Tr&&(Ot.push(Ar.length>Pt+1?[]:new yr),!(Ar.length<Pt+1));Lr++)ft(Ot[Lr],Pt+1,Ar)})(it,0,Rt),it}var fe=function(){var Rt=this;function yr(R,Y){for(var me=1<<Y-1>>>0;R&me;)me>>>=1;return me?(R&me-1)+me:R}function it(R,Y,me,Se,De){N(!(Se%me));do R[Y+(Se-=me)]=De;while(0<Se)}function ft(R,Y,me,Se,De){if(N(2328>=De),512>=De)var Ke=ee(512);else if((Ke=ee(De))==null)return 0;return(function(ze,Ze,nt,yt,Ft,dr){var vt,Gt,er=Ze,Or=1<<nt,vr=ee(16),Pr=ee(16);for(N(Ft!=0),N(yt!=null),N(ze!=null),N(0<nt),Gt=0;Gt<Ft;++Gt){if(15<yt[Gt])return 0;++vr[yt[Gt]]}if(vr[0]==Ft)return 0;for(Pr[1]=0,vt=1;15>vt;++vt){if(vr[vt]>1<<vt)return 0;Pr[vt+1]=Pr[vt]+vr[vt]}for(Gt=0;Gt<Ft;++Gt)vt=yt[Gt],0<yt[Gt]&&(dr[Pr[vt]++]=Gt);if(Pr[15]==1)return(yt=new Ot).g=0,yt.value=dr[0],it(ze,er,1,Or,yt),Or;var Fr,sn=-1,qr=Or-1,Ti=0,Qn=1,Is=1,pi=1<<nt;for(Gt=0,vt=1,Ft=2;vt<=nt;++vt,Ft<<=1){if(Qn+=Is<<=1,0>(Is-=vr[vt]))return 0;for(;0<vr[vt];--vr[vt])(yt=new Ot).g=vt,yt.value=dr[Gt++],it(ze,er+Ti,Ft,pi,yt),Ti=yr(Ti,vt)}for(vt=nt+1,Ft=2;15>=vt;++vt,Ft<<=1){if(Qn+=Is<<=1,0>(Is-=vr[vt]))return 0;for(;0<vr[vt];--vr[vt]){if(yt=new Ot,(Ti&qr)!=sn){for(er+=pi,Fr=1<<(sn=vt)-nt;15>sn&&!(0>=(Fr-=vr[sn]));)++sn,Fr<<=1;Or+=pi=1<<(Fr=sn-nt),ze[Ze+(sn=Ti&qr)].g=Fr+nt,ze[Ze+sn].value=er-Ze-sn}yt.g=vt-nt,yt.value=dr[Gt++],it(ze,er+(Ti>>nt),Ft,pi,yt),Ti=yr(Ti,vt)}}return Qn!=2*Pr[15]-1?0:Or})(R,Y,me,Se,De,Ke)}function Ot(){this.value=this.g=0}function Pt(){this.value=this.g=0}function Ar(){this.G=ve(5,Ot),this.H=ee(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=ve(Ns,Pt)}function Tr(R,Y,me,Se){N(R!=null),N(Y!=null),N(2147483648>Se),R.Ca=254,R.I=0,R.b=-8,R.Ka=0,R.oa=Y,R.pa=me,R.Jd=Y,R.Yc=me+Se,R.Zc=4<=Se?me+Se-4+1:me,Cr(R)}function Lr(R,Y){for(var me=0;0<Y--;)me|=Vr(R,128)<<Y;return me}function ar(R,Y){var me=Lr(R,Y);return Sr(R)?-me:me}function Ir(R,Y,me,Se){var De,Ke=0;for(N(R!=null),N(Y!=null),N(4294967288>Se),R.Sb=Se,R.Ra=0,R.u=0,R.h=0,4<Se&&(Se=4),De=0;De<Se;++De)Ke+=Y[me+De]<<8*De;R.Ra=Ke,R.bb=Se,R.oa=Y,R.pa=me}function hn(R){for(;8<=R.u&&R.bb<R.Sb;)R.Ra>>>=8,R.Ra+=R.oa[R.pa+R.bb]<<rc-8>>>0,++R.bb,R.u-=8;Kt(R)&&(R.h=1,R.u=0)}function Zr(R,Y){if(N(0<=Y),!R.h&&Y<=$i){var me=Nt(R)&ni[Y];return R.u+=Y,hn(R),me}return R.h=1,R.u=0}function Ye(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function St(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Nt(R){return R.Ra>>>(R.u&rc-1)>>>0}function Kt(R){return N(R.bb<=R.Sb),R.h||R.bb==R.Sb&&R.u>rc}function qt(R,Y){R.u=Y,R.h=Kt(R)}function cr(R){R.u>=Wu&&(N(R.u>=Wu),hn(R))}function Cr(R){N(R!=null&&R.oa!=null),R.pa<R.Zc?(R.I=(R.oa[R.pa++]|R.I<<8)>>>0,R.b+=8):(N(R!=null&&R.oa!=null),R.pa<R.Yc?(R.b+=8,R.I=R.oa[R.pa++]|R.I<<8):R.Ka?R.b=0:(R.I<<=8,R.b+=8,R.Ka=1))}function Sr(R){return Lr(R,1)}function Vr(R,Y){var me=R.Ca;0>R.b&&Cr(R);var Se=R.b,De=me*Y>>>8,Ke=(R.I>>>Se>De)+0;for(Ke?(me-=De,R.I-=De+1<<Se>>>0):me=De+1,Se=me,De=0;256<=Se;)De+=8,Se>>=8;return Se=7^De+su[Se],R.b-=Se,R.Ca=(me<<Se)-1,Ke}function un(R,Y,me){R[Y+0]=me>>24&255,R[Y+1]=me>>16&255,R[Y+2]=me>>8&255,R[Y+3]=255&me}function bn(R,Y){return R[Y+0]|R[Y+1]<<8}function Rn(R,Y){return bn(R,Y)|R[Y+2]<<16}function yi(R,Y){return bn(R,Y)|bn(R,Y+2)<<16}function mt(R,Y){var me=1<<Y;return N(R!=null),N(0<Y),R.X=ee(me),R.X==null?0:(R.Mb=32-Y,R.Xa=Y,1)}function _n(R,Y){N(R!=null),N(Y!=null),N(R.Xa==Y.Xa),K(Y.X,0,R.X,0,1<<Y.Xa)}function Ri(){this.X=[],this.Xa=this.Mb=0}function Sn(R,Y,me,Se){N(me!=null),N(Se!=null);var De=me[0],Ke=Se[0];return De==0&&(De=(R*Ke+Y/2)/Y),Ke==0&&(Ke=(Y*De+R/2)/R),0>=De||0>=Ke?0:(me[0]=De,Se[0]=Ke,1)}function tn(R,Y){return R+(1<<Y)-1>>>Y}function ji(R,Y){return((4278255360&R)+(4278255360&Y)>>>0&4278255360)+((16711935&R)+(16711935&Y)>>>0&16711935)>>>0}function Fn(R,Y){Rt[Y]=function(me,Se,De,Ke,ze,Ze,nt){var yt;for(yt=0;yt<ze;++yt){var Ft=Rt[R](Ze[nt+yt-1],De,Ke+yt);Ze[nt+yt]=ji(me[Se+yt],Ft)}}}function Hn(){this.ud=this.hd=this.jd=0}function $n(R,Y){return((4278124286&(R^Y))>>>1)+(R&Y)>>>0}function ga(R){return 0<=R&&256>R?R:0>R?0:255<R?255:void 0}function Di(R,Y){return ga(R+(R-Y+.5>>1))}function Gn(R,Y,me){return Math.abs(Y-me)-Math.abs(R-me)}function ns(R,Y,me,Se,De,Ke,ze){for(Se=Ke[ze-1],me=0;me<De;++me)Ke[ze+me]=Se=ji(R[Y+me],Se)}function _i(R,Y,me,Se,De){var Ke;for(Ke=0;Ke<me;++Ke){var ze=R[Y+Ke],Ze=ze>>8&255,nt=16711935&(nt=(nt=16711935&ze)+((Ze<<16)+Ze));Se[De+Ke]=(4278255360&ze)+nt>>>0}}function Un(R,Y){Y.jd=255&R,Y.hd=R>>8&255,Y.ud=R>>16&255}function ki(R,Y,me,Se,De,Ke){var ze;for(ze=0;ze<Se;++ze){var Ze=Y[me+ze],nt=Ze>>>8,yt=Ze,Ft=255&(Ft=(Ft=Ze>>>16)+((R.jd<<24>>24)*(nt<<24>>24)>>>5));yt=255&(yt=(yt+=(R.hd<<24>>24)*(nt<<24>>24)>>>5)+((R.ud<<24>>24)*(Ft<<24>>24)>>>5)),De[Ke+ze]=(4278255360&Ze)+(Ft<<16)+yt}}function Wn(R,Y,me,Se,De){Rt[Y]=function(Ke,ze,Ze,nt,yt,Ft,dr,vt,Gt){for(nt=dr;nt<vt;++nt)for(dr=0;dr<Gt;++dr)yt[Ft++]=De(Ze[Se(Ke[ze++])])},Rt[R]=function(Ke,ze,Ze,nt,yt,Ft,dr){var vt=8>>Ke.b,Gt=Ke.Ea,er=Ke.K[0],Or=Ke.w;if(8>vt)for(Ke=(1<<Ke.b)-1,Or=(1<<vt)-1;ze<Ze;++ze){var vr,Pr=0;for(vr=0;vr<Gt;++vr)vr&Ke||(Pr=Se(nt[yt++])),Ft[dr++]=De(er[Pr&Or]),Pr>>=vt}else Rt["VP8LMapColor"+me](nt,yt,er,Or,Ft,dr,ze,Ze,Gt)}}function Gi(R,Y,me,Se,De){for(me=Y+me;Y<me;){var Ke=R[Y++];Se[De++]=Ke>>16&255,Se[De++]=Ke>>8&255,Se[De++]=255&Ke}}function is(R,Y,me,Se,De){for(me=Y+me;Y<me;){var Ke=R[Y++];Se[De++]=Ke>>16&255,Se[De++]=Ke>>8&255,Se[De++]=255&Ke,Se[De++]=Ke>>24&255}}function Zi(R,Y,me,Se,De){for(me=Y+me;Y<me;){var Ke=(ze=R[Y++])>>16&240|ze>>12&15,ze=240&ze|ze>>28&15;Se[De++]=Ke,Se[De++]=ze}}function gs(R,Y,me,Se,De){for(me=Y+me;Y<me;){var Ke=(ze=R[Y++])>>16&248|ze>>13&7,ze=ze>>5&224|ze>>3&31;Se[De++]=Ke,Se[De++]=ze}}function ja(R,Y,me,Se,De){for(me=Y+me;Y<me;){var Ke=R[Y++];Se[De++]=255&Ke,Se[De++]=Ke>>8&255,Se[De++]=Ke>>16&255}}function xi(R,Y,me,Se,De,Ke){if(Ke==0)for(me=Y+me;Y<me;)un(Se,((Ke=R[Y++])[0]>>24|Ke[1]>>8&65280|Ke[2]<<8&16711680|Ke[3]<<24)>>>0),De+=32;else K(Se,De,R,Y,me)}function Ws(R,Y){Rt[Y][0]=Rt[R+"0"],Rt[Y][1]=Rt[R+"1"],Rt[Y][2]=Rt[R+"2"],Rt[Y][3]=Rt[R+"3"],Rt[Y][4]=Rt[R+"4"],Rt[Y][5]=Rt[R+"5"],Rt[Y][6]=Rt[R+"6"],Rt[Y][7]=Rt[R+"7"],Rt[Y][8]=Rt[R+"8"],Rt[Y][9]=Rt[R+"9"],Rt[Y][10]=Rt[R+"10"],Rt[Y][11]=Rt[R+"11"],Rt[Y][12]=Rt[R+"12"],Rt[Y][13]=Rt[R+"13"],Rt[Y][14]=Rt[R+"0"],Rt[Y][15]=Rt[R+"0"]}function Qi(R){return R==fg||R==ep||R==nA||R==Ag}function ai(){this.eb=[],this.size=this.A=this.fb=0}function ua(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ii(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ai,this.f.kb=new ua,this.sd=null}function yn(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ls(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function xu(R){return alert("todo:WebPSamplerProcessPlane"),R.T}function io(R,Y){var me=R.T,Se=Y.ba.f.RGBA,De=Se.eb,Ke=Se.fb+R.ka*Se.A,ze=Cd[Y.ba.S],Ze=R.y,nt=R.O,yt=R.f,Ft=R.N,dr=R.ea,vt=R.W,Gt=Y.cc,er=Y.dc,Or=Y.Mc,vr=Y.Nc,Pr=R.ka,Fr=R.ka+R.T,sn=R.U,qr=sn+1>>1;for(Pr==0?ze(Ze,nt,null,null,yt,Ft,dr,vt,yt,Ft,dr,vt,De,Ke,null,null,sn):(ze(Y.ec,Y.fc,Ze,nt,Gt,er,Or,vr,yt,Ft,dr,vt,De,Ke-Se.A,De,Ke,sn),++me);Pr+2<Fr;Pr+=2)Gt=yt,er=Ft,Or=dr,vr=vt,Ft+=R.Rc,vt+=R.Rc,Ke+=2*Se.A,ze(Ze,(nt+=2*R.fa)-R.fa,Ze,nt,Gt,er,Or,vr,yt,Ft,dr,vt,De,Ke-Se.A,De,Ke,sn);return nt+=R.fa,R.j+Fr<R.o?(K(Y.ec,Y.fc,Ze,nt,sn),K(Y.cc,Y.dc,yt,Ft,qr),K(Y.Mc,Y.Nc,dr,vt,qr),me--):1&Fr||ze(Ze,nt,null,null,yt,Ft,dr,vt,yt,Ft,dr,vt,De,Ke+Se.A,null,null,sn),me}function zo(R,Y,me){var Se=R.F,De=[R.J];if(Se!=null){var Ke=R.U,ze=Y.ba.S,Ze=ze==Bl||ze==nA;Y=Y.ba.f.RGBA;var nt=[0],yt=R.ka;nt[0]=R.T,R.Kb&&(yt==0?--nt[0]:(--yt,De[0]-=R.width),R.j+R.ka+R.T==R.o&&(nt[0]=R.o-R.j-yt));var Ft=Y.eb;yt=Y.fb+yt*Y.A,R=Su(Se,De[0],R.width,Ke,nt,Ft,yt+(Ze?0:3),Y.A),N(me==nt),R&&Qi(ze)&&Uh(Ft,yt,Ze,Ke,nt,Y.A)}return 0}function Jl(R){var Y=R.ma,me=Y.ba.S,Se=11>me,De=me==Jm||me==FA||me==Bl||me==bf||me==12||Qi(me);if(Y.memory=null,Y.Ib=null,Y.Jb=null,Y.Nd=null,!Ua(Y.Oa,R,De?11:12))return 0;if(De&&Qi(me)&&bt(),R.da)alert("todo:use_scaling");else{if(Se){if(Y.Ib=xu,R.Kb){if(me=R.U+1>>1,Y.memory=ee(R.U+2*me),Y.memory==null)return 0;Y.ec=Y.memory,Y.fc=0,Y.cc=Y.ec,Y.dc=Y.fc+R.U,Y.Mc=Y.cc,Y.Nc=Y.dc+me,Y.Ib=io,bt()}}else alert("todo:EmitYUV");De&&(Y.Jb=zo,Se&&qe())}if(Se&&!V0){for(R=0;256>R;++R)wg[R]=89858*(R-128)+Th>>wf,Sg[R]=-22014*(R-128)+Th,_g[R]=-45773*(R-128),Eg[R]=113618*(R-128)+Th>>wf;for(R=QA;R<bg;++R)Y=76283*(R-16)+Th>>wf,Tg[R-QA]=vl(Y,255),z0[R-QA]=vl(Y+8>>4,15);V0=1}return 1}function bi(R){var Y=R.ma,me=R.U,Se=R.T;return N(!(1&R.ka)),0>=me||0>=Se?0:(me=Y.Ib(R,Y),Y.Jb!=null&&Y.Jb(R,Y,me),Y.Dc+=me,1)}function Ra(R){R.ma.memory=null}function Xa(R,Y,me,Se){return Zr(R,8)!=47?0:(Y[0]=Zr(R,14)+1,me[0]=Zr(R,14)+1,Se[0]=Zr(R,1),Zr(R,3)!=0?0:!R.h)}function Ul(R,Y){if(4>R)return R+1;var me=R-2>>1;return(2+(1&R)<<me)+Zr(Y,me)+1}function $l(R,Y){return 120<Y?Y-120:1<=(me=((me=mg[Y-1])>>4)*R+(8-(15&me)))?me:1;var me}function da(R,Y,me){var Se=Nt(me),De=R[Y+=255&Se].g-8;return 0<De&&(qt(me,me.u+8),Se=Nt(me),Y+=R[Y].value,Y+=Se&(1<<De)-1),qt(me,me.u+R[Y].g),R[Y].value}function vo(R,Y,me){return me.g+=R.g,me.value+=R.value<<Y>>>0,N(8>=me.g),R.g}function Za(R,Y,me){var Se=R.xc;return N((Y=Se==0?0:R.vc[R.md*(me>>Se)+(Y>>Se)])<R.Wb),R.Ya[Y]}function $c(R,Y,me,Se){var De=R.ab,Ke=R.c*Y,ze=R.C;Y=ze+Y;var Ze=me,nt=Se;for(Se=R.Ta,me=R.Ua;0<De--;){var yt=R.gc[De],Ft=ze,dr=Y,vt=Ze,Gt=nt,er=(nt=Se,Ze=me,yt.Ea);switch(N(Ft<dr),N(dr<=yt.nc),yt.hc){case 2:ao(vt,Gt,(dr-Ft)*er,nt,Ze);break;case 0:var Or=Ft,vr=dr,Pr=nt,Fr=Ze,sn=(pi=yt).Ea;Or==0&&(yl(vt,Gt,null,null,1,Pr,Fr),ns(vt,Gt+1,0,0,sn-1,Pr,Fr+1),Gt+=sn,Fr+=sn,++Or);for(var qr=1<<pi.b,Ti=qr-1,Qn=tn(sn,pi.b),Is=pi.K,pi=pi.w+(Or>>pi.b)*Qn;Or<vr;){var la=Is,Ol=pi,ws=1;for(nc(vt,Gt,Pr,Fr-sn,1,Pr,Fr);ws<sn;){var hi=(ws&~Ti)+qr;hi>sn&&(hi=sn),(0,Po[la[Ol++]>>8&15])(vt,Gt+ +ws,Pr,Fr+ws-sn,hi-ws,Pr,Fr+ws),ws=hi}Gt+=sn,Fr+=sn,++Or&Ti||(pi+=Qn)}dr!=yt.nc&&K(nt,Ze-er,nt,Ze+(dr-Ft-1)*er,er);break;case 1:for(er=vt,vr=Gt,sn=(vt=yt.Ea)-(Fr=vt&~(Pr=(Gt=1<<yt.b)-1)),Or=tn(vt,yt.b),qr=yt.K,yt=yt.w+(Ft>>yt.b)*Or;Ft<dr;){for(Ti=qr,Qn=yt,Is=new Hn,pi=vr+Fr,la=vr+vt;vr<pi;)Un(Ti[Qn++],Is),xf(Is,er,vr,Gt,nt,Ze),vr+=Gt,Ze+=Gt;vr<la&&(Un(Ti[Qn++],Is),xf(Is,er,vr,sn,nt,Ze),vr+=sn,Ze+=sn),++Ft&Pr||(yt+=Or)}break;case 3:if(vt==nt&&Gt==Ze&&0<yt.b){for(vr=nt,vt=er=Ze+(dr-Ft)*er-(Fr=(dr-Ft)*tn(yt.Ea,yt.b)),Gt=nt,Pr=Ze,Or=[],Fr=(sn=Fr)-1;0<=Fr;--Fr)Or[Fr]=Gt[Pr+Fr];for(Fr=sn-1;0<=Fr;--Fr)vr[vt+Fr]=Or[Fr];DA(yt,Ft,dr,nt,er,nt,Ze)}else DA(yt,Ft,dr,vt,Gt,nt,Ze)}Ze=Se,nt=me}nt!=me&&K(Se,me,Ze,nt,Ke)}function To(R,Y){var me=R.V,Se=R.Ba+R.c*R.C,De=Y-R.C;if(N(Y<=R.l.o),N(16>=De),0<De){var Ke=R.l,ze=R.Ta,Ze=R.Ua,nt=Ke.width;if($c(R,De,me,Se),De=Ze=[Ze],N((me=R.C)<(Se=Y)),N(Ke.v<Ke.va),Se>Ke.o&&(Se=Ke.o),me<Ke.j){var yt=Ke.j-me;me=Ke.j,De[0]+=yt*nt}if(me>=Se?me=0:(De[0]+=4*Ke.v,Ke.ka=me-Ke.j,Ke.U=Ke.va-Ke.v,Ke.T=Se-me,me=1),me){if(Ze=Ze[0],11>(me=R.ca).S){var Ft=me.f.RGBA,dr=(Se=me.S,De=Ke.U,Ke=Ke.T,yt=Ft.eb,Ft.A),vt=Ke;for(Ft=Ft.fb+R.Ma*Ft.A;0<vt--;){var Gt=ze,er=Ze,Or=De,vr=yt,Pr=Ft;switch(Se){case rA:Ed(Gt,er,Or,vr,Pr);break;case Jm:Ji(Gt,er,Or,vr,Pr);break;case fg:Ji(Gt,er,Or,vr,Pr),Uh(vr,Pr,0,Or,1,0);break;case dg:wh(Gt,er,Or,vr,Pr);break;case FA:xi(Gt,er,Or,vr,Pr,1);break;case ep:xi(Gt,er,Or,vr,Pr,1),Uh(vr,Pr,0,Or,1,0);break;case Bl:xi(Gt,er,Or,vr,Pr,0);break;case nA:xi(Gt,er,Or,vr,Pr,0),Uh(vr,Pr,1,Or,1,0);break;case bf:ha(Gt,er,Or,vr,Pr);break;case Ag:ha(Gt,er,Or,vr,Pr),qm(vr,Pr,Or,1,0);break;case hg:xo(Gt,er,Or,vr,Pr);break;default:N(0)}Ze+=nt,Ft+=dr}R.Ma+=Ke}else alert("todo:EmitRescaledRowsYUVA");N(R.Ma<=me.height)}}R.C=Y,N(R.C<=R.i)}function Ac(R){var Y;if(0<R.ua)return 0;for(Y=0;Y<R.Wb;++Y){var me=R.Ya[Y].G,Se=R.Ya[Y].H;if(0<me[1][Se[1]+0].g||0<me[2][Se[2]+0].g||0<me[3][Se[3]+0].g)return 0}return 1}function Ka(R,Y,me,Se,De,Ke){if(R.Z!=0){var ze=R.qd,Ze=R.rd;for(N(_h[R.Z]!=null);Y<me;++Y)_h[R.Z](ze,Ze,Se,De,Se,De,Ke),ze=Se,Ze=De,De+=Ke;R.qd=ze,R.rd=Ze}}function Hl(R,Y){var me=R.l.ma,Se=me.Z==0||me.Z==1?R.l.j:R.C;if(Se=R.C<Se?Se:R.C,N(Y<=R.l.o),Y>Se){var De=R.l.width,Ke=me.ca,ze=me.tb+De*Se,Ze=R.V,nt=R.Ba+R.c*Se,yt=R.gc;N(R.ab==1),N(yt[0].hc==3),Kc(yt[0],Se,Y,Ze,nt,Ke,ze),Ka(me,Se,Y,Ke,ze,De)}R.C=R.Ma=Y}function Ql(R,Y,me,Se,De,Ke,ze){var Ze=R.$/Se,nt=R.$%Se,yt=R.m,Ft=R.s,dr=me+R.$,vt=dr;De=me+Se*De;var Gt=me+Se*Ke,er=280+Ft.ua,Or=R.Pb?Ze:16777216,vr=0<Ft.ua?Ft.Wa:null,Pr=Ft.wc,Fr=dr<Gt?Za(Ft,nt,Ze):null;N(R.C<Ke),N(Gt<=De);var sn=!1;e:for(;;){for(;sn||dr<Gt;){var qr=0;if(Ze>=Or){var Ti=dr-me;N((Or=R).Pb),Or.wd=Or.m,Or.xd=Ti,0<Or.s.ua&&_n(Or.s.Wa,Or.s.vb),Or=Ze+U0}if(nt&Pr||(Fr=Za(Ft,nt,Ze)),N(Fr!=null),Fr.Qb&&(Y[dr]=Fr.qb,sn=!0),!sn)if(cr(yt),Fr.jc){qr=yt,Ti=Y;var Qn=dr,Is=Fr.pd[Nt(qr)&Ns-1];N(Fr.jc),256>Is.g?(qt(qr,qr.u+Is.g),Ti[Qn]=Is.value,qr=0):(qt(qr,qr.u+Is.g-256),N(256<=Is.value),qr=Is.value),qr==0&&(sn=!0)}else qr=da(Fr.G[0],Fr.H[0],yt);if(yt.h)break;if(sn||256>qr){if(!sn)if(Fr.nd)Y[dr]=(Fr.qb|qr<<8)>>>0;else{if(cr(yt),sn=da(Fr.G[1],Fr.H[1],yt),cr(yt),Ti=da(Fr.G[2],Fr.H[2],yt),Qn=da(Fr.G[3],Fr.H[3],yt),yt.h)break;Y[dr]=(Qn<<24|sn<<16|qr<<8|Ti)>>>0}if(sn=!1,++dr,++nt>=Se&&(nt=0,++Ze,ze!=null&&Ze<=Ke&&!(Ze%16)&&ze(R,Ze),vr!=null))for(;vt<dr;)qr=Y[vt++],vr.X[(506832829*qr&4294967295)>>>vr.Mb]=qr}else if(280>qr){if(qr=Ul(qr-256,yt),Ti=da(Fr.G[4],Fr.H[4],yt),cr(yt),Ti=$l(Se,Ti=Ul(Ti,yt)),yt.h)break;if(dr-me<Ti||De-dr<qr)break e;for(Qn=0;Qn<qr;++Qn)Y[dr+Qn]=Y[dr+Qn-Ti];for(dr+=qr,nt+=qr;nt>=Se;)nt-=Se,++Ze,ze!=null&&Ze<=Ke&&!(Ze%16)&&ze(R,Ze);if(N(dr<=De),nt&Pr&&(Fr=Za(Ft,nt,Ze)),vr!=null)for(;vt<dr;)qr=Y[vt++],vr.X[(506832829*qr&4294967295)>>>vr.Mb]=qr}else{if(!(qr<er))break e;for(sn=qr-280,N(vr!=null);vt<dr;)qr=Y[vt++],vr.X[(506832829*qr&4294967295)>>>vr.Mb]=qr;qr=dr,N(!(sn>>>(Ti=vr).Xa)),Y[qr]=Ti.X[sn],sn=!0}sn||N(yt.h==Kt(yt))}if(R.Pb&&yt.h&&dr<De)N(R.m.h),R.a=5,R.m=R.wd,R.$=R.xd,0<R.s.ua&&_n(R.s.vb,R.s.Wa);else{if(yt.h)break e;ze?.(R,Ze>Ke?Ke:Ze),R.a=0,R.$=dr-me}return 1}return R.a=3,0}function Il(R){N(R!=null),R.vc=null,R.yc=null,R.Ya=null;var Y=R.Wa;Y!=null&&(Y.X=null),R.vb=null,N(R!=null)}function gd(){var R=new Yi;return R==null?null:(R.a=0,R.xb=np,Ws("Predictor","VP8LPredictors"),Ws("Predictor","VP8LPredictors_C"),Ws("PredictorAdd","VP8LPredictorsAdd"),Ws("PredictorAdd","VP8LPredictorsAdd_C"),ao=_i,xf=ki,Ed=Gi,Ji=is,ha=Zi,xo=gs,wh=ja,Rt.VP8LMapColor32b=lh,Rt.VP8LMapColor8b=Gc,R)}function ec(R,Y,me,Se,De){var Ke=1,ze=[R],Ze=[Y],nt=Se.m,yt=Se.s,Ft=null,dr=0;e:for(;;){if(me)for(;Ke&&Zr(nt,1);){var vt=ze,Gt=Ze,er=Se,Or=1,vr=er.m,Pr=er.gc[er.ab],Fr=Zr(vr,2);if(er.Oc&1<<Fr)Ke=0;else{switch(er.Oc|=1<<Fr,Pr.hc=Fr,Pr.Ea=vt[0],Pr.nc=Gt[0],Pr.K=[null],++er.ab,N(4>=er.ab),Fr){case 0:case 1:Pr.b=Zr(vr,3)+2,Or=ec(tn(Pr.Ea,Pr.b),tn(Pr.nc,Pr.b),0,er,Pr.K),Pr.K=Pr.K[0];break;case 3:var sn,qr=Zr(vr,8)+1,Ti=16<qr?0:4<qr?1:2<qr?2:3;if(vt[0]=tn(Pr.Ea,Ti),Pr.b=Ti,sn=Or=ec(qr,1,0,er,Pr.K)){var Qn,Is=qr,pi=Pr,la=1<<(8>>pi.b),Ol=ee(la);if(Ol==null)sn=0;else{var ws=pi.K[0],hi=pi.w;for(Ol[0]=pi.K[0][0],Qn=1;Qn<1*Is;++Qn)Ol[Qn]=ji(ws[hi+Qn],Ol[Qn-1]);for(;Qn<4*la;++Qn)Ol[Qn]=0;pi.K[0]=null,pi.K[0]=Ol,sn=1}}Or=sn;break;case 2:break;default:N(0)}Ke=Or}}if(ze=ze[0],Ze=Ze[0],Ke&&Zr(nt,1)&&!(Ke=1<=(dr=Zr(nt,4))&&11>=dr)){Se.a=3;break e}var Bn;if(Bn=Ke)t:{var sl,Es,Ps,bo=Se,ic=ze,Ec=Ze,$a=dr,_c=me,au=bo.m,al=bo.s,sa=[null],zi=1,bl=0,eo=pg[$a];r:for(;;){if(_c&&Zr(au,1)){var Sc=Zr(au,3)+2,Yc=tn(ic,Sc),oo=tn(Ec,Sc),qc=Yc*oo;if(!ec(Yc,oo,0,bo,sa))break r;for(sa=sa[0],al.xc=Sc,sl=0;sl<qc;++sl){var lo=sa[sl]>>8&65535;sa[sl]=lo,lo>=zi&&(zi=lo+1)}}if(au.h)break r;for(Es=0;5>Es;++Es){var fn=F0[Es];!Es&&0<$a&&(fn+=1<<$a),bl<fn&&(bl=fn)}var wo=ve(zi*eo,Ot),sc=zi,jo=ve(sc,Ar);if(jo==null)var Zu=null;else N(65536>=sc),Zu=jo;var xs=ee(bl);if(Zu==null||xs==null||wo==null){bo.a=1;break r}var Zs=wo;for(sl=Ps=0;sl<zi;++sl){var ka=Zu[sl],Ju=ka.G,wl=ka.H,No=0,ed=1,Tc=0;for(Es=0;5>Es;++Es){fn=F0[Es],Ju[Es]=Zs,wl[Es]=Ps,!Es&&0<$a&&(fn+=1<<$a);i:{var Pl,Cg=fn,lp=bo,sA=xs,Yo=Zs,Tu=Ps,Vd=0,uh=lp.m,K0=Zr(uh,1);if(X(sA,0,0,Cg),K0){var jy=Zr(uh,1)+1,Ny=Zr(uh,1),cp=Zr(uh,Ny==0?1:8);sA[cp]=1,jy==2&&(sA[cp=Zr(uh,8)]=1);var Xc=1}else{var zd=ee(19),zA=Zr(uh,4)+4;if(19<zA){lp.a=3;var co=0;break i}for(Pl=0;Pl<zA;++Pl)zd[wy[Pl]]=Zr(uh,3);var up=void 0,ou=void 0,Ef=lp,Hh=zd,_f=Cg,Qh=sA,lu=0,Vh=Ef.m,Kd=8,KA=ve(128,Ot);n:for(;ft(KA,0,7,Hh,19);){if(Zr(Vh,1)){var dp=2+2*Zr(Vh,3);if((up=2+Zr(Vh,dp))>_f)break n}else up=_f;for(ou=0;ou<_f&&up--;){cr(Vh);var Sf=KA[0+(127&Nt(Vh))];qt(Vh,Vh.u+Sf.g);var aA=Sf.value;if(16>aA)Qh[ou++]=aA,aA!=0&&(Kd=aA);else{var G0=aA==16,GA=aA-16,ky=h1[GA],hp=Zr(Vh,by[GA])+ky;if(ou+hp>_f)break n;for(var Iy=G0?Kd:0;0<hp--;)Qh[ou++]=Iy}}lu=1;break n}lu||(Ef.a=3),Xc=lu}(Xc=Xc&&!uh.h)&&(Vd=ft(Yo,Tu,8,sA,Cg)),Xc&&Vd!=0?co=Vd:(lp.a=3,co=0)}if(co==0)break r;if(ed&&UA[Es]==1&&(ed=Zs[Ps].g==0),No+=Zs[Ps].g,Ps+=co,3>=Es){var fp,W0=xs[0];for(fp=1;fp<fn;++fp)xs[fp]>W0&&(W0=xs[fp]);Tc+=W0}}if(ka.nd=ed,ka.Qb=0,ed&&(ka.qb=(Ju[3][wl[3]+0].value<<24|Ju[1][wl[1]+0].value<<16|Ju[2][wl[2]+0].value)>>>0,No==0&&256>Ju[0][wl[0]+0].value&&(ka.Qb=1,ka.qb+=Ju[0][wl[0]+0].value<<8)),ka.jc=!ka.Qb&&6>Tc,ka.jc){var va,fa=ka;for(va=0;va<Ns;++va){var _s=va,Ls=fa.pd[_s],Ia=fa.G[0][fa.H[0]+_s];256<=Ia.value?(Ls.g=Ia.g+256,Ls.value=Ia.value):(Ls.g=0,Ls.value=0,_s>>=vo(Ia,8,Ls),_s>>=vo(fa.G[1][fa.H[1]+_s],16,Ls),_s>>=vo(fa.G[2][fa.H[2]+_s],0,Ls),vo(fa.G[3][fa.H[3]+_s],24,Ls))}}}al.vc=sa,al.Wb=zi,al.Ya=Zu,al.yc=wo,Bn=1;break t}Bn=0}if(!(Ke=Bn)){Se.a=3;break e}if(0<dr){if(yt.ua=1<<dr,!mt(yt.Wa,dr)){Se.a=1,Ke=0;break e}}else yt.ua=0;var Cu=Se,zh=ze,WA=Ze,M=Cu.s,I=M.xc;if(Cu.c=zh,Cu.i=WA,M.md=tn(zh,I),M.wc=I==0?-1:(1<<I)-1,me){Se.xb=Sy;break e}if((Ft=ee(ze*Ze))==null){Se.a=1,Ke=0;break e}Ke=(Ke=Ql(Se,Ft,0,ze,Ze,Ze,null))&&!nt.h;break e}return Ke?(De!=null?De[0]=Ft:(N(Ft==null),N(me)),Se.$=0,me||Il(yt)):Il(yt),Ke}function Vl(R,Y){var me=R.c*R.i,Se=me+Y+16*Y;return N(R.c<=Y),R.V=ee(Se),R.V==null?(R.Ta=null,R.Ua=0,R.a=1,0):(R.Ta=R.V,R.Ua=R.Ba+me+Y,1)}function mc(R,Y){var me=R.C,Se=Y-me,De=R.V,Ke=R.Ba+R.c*me;for(N(Y<=R.l.o);0<Se;){var ze=16<Se?16:Se,Ze=R.l.ma,nt=R.l.width,yt=nt*ze,Ft=Ze.ca,dr=Ze.tb+nt*me,vt=R.Ta,Gt=R.Ua;$c(R,ze,De,Ke),Hd(vt,Gt,Ft,dr,yt),Ka(Ze,me,me+ze,Ft,dr,nt),Se-=ze,De+=ze*R.c,me+=ze}N(me==Y),R.C=R.Ma=Y}function vd(){this.ub=this.yd=this.td=this.Rb=0}function zl(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Kl(){this.Fb=this.Bb=this.Cb=0,this.Zb=ee(4),this.Lb=ee(4)}function bu(){this.Yb=(function(){var R=[];return(function Y(me,Se,De){for(var Ke=De[Se],ze=0;ze<Ke&&(me.push(De.length>Se+1?[]:0),!(De.length<Se+1));ze++)Y(me[ze],Se+1,De)})(R,0,[3,11]),R})()}function Gl(){this.jb=ee(3),this.Wc=de([4,8],bu),this.Xc=de([4,17],bu)}function Io(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new ee(4),this.od=new ee(4)}function gl(){this.ld=this.La=this.dd=this.tc=0}function ru(){this.Na=this.la=0}function pc(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ud(){this.ad=ee(384),this.Za=0,this.Ob=ee(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function tc(){this.uc=this.M=this.Nb=0,this.wa=Array(new gl),this.Y=0,this.ya=Array(new Ud),this.aa=0,this.l=new nh}function zu(){this.y=ee(16),this.f=ee(8),this.ea=ee(8)}function yd(){this.cb=this.a=0,this.sc="",this.m=new Ye,this.Od=new vd,this.Kc=new zl,this.ed=new Io,this.Qa=new Kl,this.Ic=this.$c=this.Aa=0,this.D=new tc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=ve(8,Ye),this.ia=0,this.pb=ve(4,pc),this.Pa=new Gl,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new zu),this.Hd=0,this.rb=Array(new ru),this.sb=0,this.wa=Array(new gl),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ud),this.L=this.aa=0,this.gd=de([4,2],gl),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function vl(R,Y){return 0>R?0:R>Y?Y:R}function nh(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ll(){var R=new yd;return R!=null&&(R.a=0,R.sc="OK",R.cb=0,R.Xb=0,iA||(iA=Qc)),R}function Fi(R,Y,me){return R.a==0&&(R.a=Y,R.sc=me,R.cb=0),0}function gc(R,Y,me){return 3<=me&&R[Y+0]==157&&R[Y+1]==1&&R[Y+2]==42}function Hc(R,Y){if(R==null)return 0;if(R.a=0,R.sc="OK",Y==null)return Fi(R,2,"null VP8Io passed to VP8GetHeaders()");var me=Y.data,Se=Y.w,De=Y.ha;if(4>De)return Fi(R,7,"Truncated header.");var Ke=me[Se+0]|me[Se+1]<<8|me[Se+2]<<16,ze=R.Od;if(ze.Rb=!(1&Ke),ze.td=Ke>>1&7,ze.yd=Ke>>4&1,ze.ub=Ke>>5,3<ze.td)return Fi(R,3,"Incorrect keyframe parameters.");if(!ze.yd)return Fi(R,4,"Frame not displayable.");Se+=3,De-=3;var Ze=R.Kc;if(ze.Rb){if(7>De)return Fi(R,7,"cannot parse picture header");if(!gc(me,Se,De))return Fi(R,3,"Bad code word");Ze.c=16383&(me[Se+4]<<8|me[Se+3]),Ze.Td=me[Se+4]>>6,Ze.i=16383&(me[Se+6]<<8|me[Se+5]),Ze.Ud=me[Se+6]>>6,Se+=7,De-=7,R.za=Ze.c+15>>4,R.Ub=Ze.i+15>>4,Y.width=Ze.c,Y.height=Ze.i,Y.Da=0,Y.j=0,Y.v=0,Y.va=Y.width,Y.o=Y.height,Y.da=0,Y.ib=Y.width,Y.hb=Y.height,Y.U=Y.width,Y.T=Y.height,X((Ke=R.Pa).jb,0,255,Ke.jb.length),N((Ke=R.Qa)!=null),Ke.Cb=0,Ke.Bb=0,Ke.Fb=1,X(Ke.Zb,0,0,Ke.Zb.length),X(Ke.Lb,0,0,Ke.Lb)}if(ze.ub>De)return Fi(R,7,"bad partition length");Tr(Ke=R.m,me,Se,ze.ub),Se+=ze.ub,De-=ze.ub,ze.Rb&&(Ze.Ld=Sr(Ke),Ze.Kd=Sr(Ke)),Ze=R.Qa;var nt,yt=R.Pa;if(N(Ke!=null),N(Ze!=null),Ze.Cb=Sr(Ke),Ze.Cb){if(Ze.Bb=Sr(Ke),Sr(Ke)){for(Ze.Fb=Sr(Ke),nt=0;4>nt;++nt)Ze.Zb[nt]=Sr(Ke)?ar(Ke,7):0;for(nt=0;4>nt;++nt)Ze.Lb[nt]=Sr(Ke)?ar(Ke,6):0}if(Ze.Bb)for(nt=0;3>nt;++nt)yt.jb[nt]=Sr(Ke)?Lr(Ke,8):255}else Ze.Bb=0;if(Ke.Ka)return Fi(R,3,"cannot parse segment header");if((Ze=R.ed).zd=Sr(Ke),Ze.Tb=Lr(Ke,6),Ze.wb=Lr(Ke,3),Ze.Pc=Sr(Ke),Ze.Pc&&Sr(Ke)){for(yt=0;4>yt;++yt)Sr(Ke)&&(Ze.vd[yt]=ar(Ke,6));for(yt=0;4>yt;++yt)Sr(Ke)&&(Ze.od[yt]=ar(Ke,6))}if(R.L=Ze.Tb==0?0:Ze.zd?1:2,Ke.Ka)return Fi(R,3,"cannot parse filter header");var Ft=De;if(De=nt=Se,Se=nt+Ft,Ze=Ft,R.Xb=(1<<Lr(R.m,2))-1,Ft<3*(yt=R.Xb))me=7;else{for(nt+=3*yt,Ze-=3*yt,Ft=0;Ft<yt;++Ft){var dr=me[De+0]|me[De+1]<<8|me[De+2]<<16;dr>Ze&&(dr=Ze),Tr(R.Jc[+Ft],me,nt,dr),nt+=dr,Ze-=dr,De+=3}Tr(R.Jc[+yt],me,nt,Ze),me=nt<Se?0:5}if(me!=0)return Fi(R,me,"cannot parse partitions");for(me=Lr(nt=R.m,7),De=Sr(nt)?ar(nt,4):0,Se=Sr(nt)?ar(nt,4):0,Ze=Sr(nt)?ar(nt,4):0,yt=Sr(nt)?ar(nt,4):0,nt=Sr(nt)?ar(nt,4):0,Ft=R.Qa,dr=0;4>dr;++dr){if(Ft.Cb){var vt=Ft.Zb[dr];Ft.Fb||(vt+=me)}else{if(0<dr){R.pb[dr]=R.pb[0];continue}vt=me}var Gt=R.pb[dr];Gt.Sc[0]=$A[vl(vt+De,127)],Gt.Sc[1]=gg[vl(vt+0,127)],Gt.Eb[0]=2*$A[vl(vt+Se,127)],Gt.Eb[1]=101581*gg[vl(vt+Ze,127)]>>16,8>Gt.Eb[1]&&(Gt.Eb[1]=8),Gt.Qc[0]=$A[vl(vt+yt,117)],Gt.Qc[1]=gg[vl(vt+nt,127)],Gt.lc=vt+nt}if(!ze.Rb)return Fi(R,4,"Not a key frame.");for(Sr(Ke),ze=R.Pa,me=0;4>me;++me){for(De=0;8>De;++De)for(Se=0;3>Se;++Se)for(Ze=0;11>Ze;++Ze)yt=Vr(Ke,tp[me][De][Se][Ze])?Lr(Ke,8):_y[me][De][Se][Ze],ze.Wc[me][De].Yb[Se][Ze]=yt;for(De=0;17>De;++De)ze.Xc[me][De]=ze.Wc[me][rp[De]]}return R.kc=Sr(Ke),R.kc&&(R.Bd=Lr(Ke,8)),R.cb=1}function Qc(R,Y,me,Se,De,Ke,ze){var Ze=Y[De].Yb[me];for(me=0;16>De;++De){if(!Vr(R,Ze[me+0]))return De;for(;!Vr(R,Ze[me+1]);)if(Ze=Y[++De].Yb[0],me=0,De==16)return 16;var nt=Y[De+1].Yb;if(Vr(R,Ze[me+2])){var yt=R,Ft=0;if(Vr(yt,(vt=Ze)[(dr=me)+3]))if(Vr(yt,vt[dr+6])){for(Ze=0,dr=2*(Ft=Vr(yt,vt[dr+8]))+(vt=Vr(yt,vt[dr+9+Ft])),Ft=0,vt=vg[dr];vt[Ze];++Ze)Ft+=Ft+Vr(yt,vt[Ze]);Ft+=3+(8<<dr)}else Vr(yt,vt[dr+7])?(Ft=7+2*Vr(yt,165),Ft+=Vr(yt,145)):Ft=5+Vr(yt,159);else Ft=Vr(yt,vt[dr+4])?3+Vr(yt,vt[dr+5]):2;Ze=nt[2]}else Ft=1,Ze=nt[1];nt=ze+Ey[De],0>(yt=R).b&&Cr(yt);var dr,vt=yt.b,Gt=(dr=yt.Ca>>1)-(yt.I>>vt)>>31;--yt.b,yt.Ca+=Gt,yt.Ca|=1,yt.I-=(dr+1&Gt)<<vt,Ke[nt]=((Ft^Gt)-Gt)*Se[(0<De)+0]}return 16}function Ku(R){var Y=R.rb[R.sb-1];Y.la=0,Y.Na=0,X(R.zc,0,0,R.zc.length),R.ja=0}function vc(R,Y,me,Se,De){De=R[Y+me+32*Se]+(De>>3),R[Y+me+32*Se]=-256&De?0>De?0:255:De}function Lo(R,Y,me,Se,De,Ke){vc(R,Y,0,me,Se+De),vc(R,Y,1,me,Se+Ke),vc(R,Y,2,me,Se-Ke),vc(R,Y,3,me,Se-De)}function nu(R){return(20091*R>>16)+R}function g(R,Y,me,Se){var De,Ke=0,ze=ee(16);for(De=0;4>De;++De){var Ze=R[Y+0]+R[Y+8],nt=R[Y+0]-R[Y+8],yt=(35468*R[Y+4]>>16)-nu(R[Y+12]),Ft=nu(R[Y+4])+(35468*R[Y+12]>>16);ze[Ke+0]=Ze+Ft,ze[Ke+1]=nt+yt,ze[Ke+2]=nt-yt,ze[Ke+3]=Ze-Ft,Ke+=4,Y++}for(De=Ke=0;4>De;++De)Ze=(R=ze[Ke+0]+4)+ze[Ke+8],nt=R-ze[Ke+8],yt=(35468*ze[Ke+4]>>16)-nu(ze[Ke+12]),vc(me,Se,0,0,Ze+(Ft=nu(ze[Ke+4])+(35468*ze[Ke+12]>>16))),vc(me,Se,1,0,nt+yt),vc(me,Se,2,0,nt-yt),vc(me,Se,3,0,Ze-Ft),Ke++,Se+=32}function _(R,Y,me,Se){var De=R[Y+0]+4,Ke=35468*R[Y+4]>>16,ze=nu(R[Y+4]),Ze=35468*R[Y+1]>>16;Lo(me,Se,0,De+ze,R=nu(R[Y+1]),Ze),Lo(me,Se,1,De+Ke,R,Ze),Lo(me,Se,2,De-Ke,R,Ze),Lo(me,Se,3,De-ze,R,Ze)}function H(R,Y,me,Se,De){g(R,Y,me,Se),De&&g(R,Y+16,me,Se+4)}function ae(R,Y,me,Se){_d(R,Y+0,me,Se,1),_d(R,Y+32,me,Se+128,1)}function _e(R,Y,me,Se){var De;for(R=R[Y+0]+4,De=0;4>De;++De)for(Y=0;4>Y;++Y)vc(me,Se,Y,De,R)}function Ve(R,Y,me,Se){R[Y+0]&&ia(R,Y+0,me,Se),R[Y+16]&&ia(R,Y+16,me,Se+4),R[Y+32]&&ia(R,Y+32,me,Se+128),R[Y+48]&&ia(R,Y+48,me,Se+128+4)}function jt(R,Y,me,Se){var De,Ke=ee(16);for(De=0;4>De;++De){var ze=R[Y+0+De]+R[Y+12+De],Ze=R[Y+4+De]+R[Y+8+De],nt=R[Y+4+De]-R[Y+8+De],yt=R[Y+0+De]-R[Y+12+De];Ke[0+De]=ze+Ze,Ke[8+De]=ze-Ze,Ke[4+De]=yt+nt,Ke[12+De]=yt-nt}for(De=0;4>De;++De)ze=(R=Ke[0+4*De]+3)+Ke[3+4*De],Ze=Ke[1+4*De]+Ke[2+4*De],nt=Ke[1+4*De]-Ke[2+4*De],yt=R-Ke[3+4*De],me[Se+0]=ze+Ze>>3,me[Se+16]=yt+nt>>3,me[Se+32]=ze-Ze>>3,me[Se+48]=yt-nt>>3,Se+=64}function Zt(R,Y,me){var Se,De=Y-32,Ke=Xu,ze=255-R[De-1];for(Se=0;Se<me;++Se){var Ze,nt=Ke,yt=ze+R[Y-1];for(Ze=0;Ze<me;++Ze)R[Y+Ze]=nt[yt+R[De+Ze]];Y+=32}}function xr(R,Y){Zt(R,Y,4)}function $r(R,Y){Zt(R,Y,8)}function vn(R,Y){Zt(R,Y,16)}function ui(R,Y){var me;for(me=0;16>me;++me)K(R,Y+32*me,R,Y-32,16)}function As(R,Y){var me;for(me=16;0<me;--me)X(R,Y,R[Y-1],16),Y+=32}function Da(R,Y,me){var Se;for(Se=0;16>Se;++Se)X(Y,me+32*Se,R,16)}function Co(R,Y){var me,Se=16;for(me=0;16>me;++me)Se+=R[Y-1+32*me]+R[Y+me-32];Da(Se>>5,R,Y)}function il(R,Y){var me,Se=8;for(me=0;16>me;++me)Se+=R[Y-1+32*me];Da(Se>>4,R,Y)}function Xs(R,Y){var me,Se=8;for(me=0;16>me;++me)Se+=R[Y+me-32];Da(Se>>4,R,Y)}function oa(R,Y){Da(128,R,Y)}function Cn(R,Y,me){return R+2*Y+me+2>>2}function Gu(R,Y){var me,Se=Y-32;for(Se=new Uint8Array([Cn(R[Se-1],R[Se+0],R[Se+1]),Cn(R[Se+0],R[Se+1],R[Se+2]),Cn(R[Se+1],R[Se+2],R[Se+3]),Cn(R[Se+2],R[Se+3],R[Se+4])]),me=0;4>me;++me)K(R,Y+32*me,Se,0,Se.length)}function yc(R,Y){var me=R[Y-1],Se=R[Y-1+32],De=R[Y-1+64],Ke=R[Y-1+96];un(R,Y+0,16843009*Cn(R[Y-1-32],me,Se)),un(R,Y+32,16843009*Cn(me,Se,De)),un(R,Y+64,16843009*Cn(Se,De,Ke)),un(R,Y+96,16843009*Cn(De,Ke,Ke))}function xd(R,Y){var me,Se=4;for(me=0;4>me;++me)Se+=R[Y+me-32]+R[Y-1+32*me];for(Se>>=3,me=0;4>me;++me)X(R,Y+32*me,Se,4)}function Wl(R,Y){var me=R[Y-1+0],Se=R[Y-1+32],De=R[Y-1+64],Ke=R[Y-1-32],ze=R[Y+0-32],Ze=R[Y+1-32],nt=R[Y+2-32],yt=R[Y+3-32];R[Y+0+96]=Cn(Se,De,R[Y-1+96]),R[Y+1+96]=R[Y+0+64]=Cn(me,Se,De),R[Y+2+96]=R[Y+1+64]=R[Y+0+32]=Cn(Ke,me,Se),R[Y+3+96]=R[Y+2+64]=R[Y+1+32]=R[Y+0+0]=Cn(ze,Ke,me),R[Y+3+64]=R[Y+2+32]=R[Y+1+0]=Cn(Ze,ze,Ke),R[Y+3+32]=R[Y+2+0]=Cn(nt,Ze,ze),R[Y+3+0]=Cn(yt,nt,Ze)}function wu(R,Y){var me=R[Y+1-32],Se=R[Y+2-32],De=R[Y+3-32],Ke=R[Y+4-32],ze=R[Y+5-32],Ze=R[Y+6-32],nt=R[Y+7-32];R[Y+0+0]=Cn(R[Y+0-32],me,Se),R[Y+1+0]=R[Y+0+32]=Cn(me,Se,De),R[Y+2+0]=R[Y+1+32]=R[Y+0+64]=Cn(Se,De,Ke),R[Y+3+0]=R[Y+2+32]=R[Y+1+64]=R[Y+0+96]=Cn(De,Ke,ze),R[Y+3+32]=R[Y+2+64]=R[Y+1+96]=Cn(Ke,ze,Ze),R[Y+3+64]=R[Y+2+96]=Cn(ze,Ze,nt),R[Y+3+96]=Cn(Ze,nt,nt)}function so(R,Y){var me=R[Y-1+0],Se=R[Y-1+32],De=R[Y-1+64],Ke=R[Y-1-32],ze=R[Y+0-32],Ze=R[Y+1-32],nt=R[Y+2-32],yt=R[Y+3-32];R[Y+0+0]=R[Y+1+64]=Ke+ze+1>>1,R[Y+1+0]=R[Y+2+64]=ze+Ze+1>>1,R[Y+2+0]=R[Y+3+64]=Ze+nt+1>>1,R[Y+3+0]=nt+yt+1>>1,R[Y+0+96]=Cn(De,Se,me),R[Y+0+64]=Cn(Se,me,Ke),R[Y+0+32]=R[Y+1+96]=Cn(me,Ke,ze),R[Y+1+32]=R[Y+2+96]=Cn(Ke,ze,Ze),R[Y+2+32]=R[Y+3+96]=Cn(ze,Ze,nt),R[Y+3+32]=Cn(Ze,nt,yt)}function Eu(R,Y){var me=R[Y+0-32],Se=R[Y+1-32],De=R[Y+2-32],Ke=R[Y+3-32],ze=R[Y+4-32],Ze=R[Y+5-32],nt=R[Y+6-32],yt=R[Y+7-32];R[Y+0+0]=me+Se+1>>1,R[Y+1+0]=R[Y+0+64]=Se+De+1>>1,R[Y+2+0]=R[Y+1+64]=De+Ke+1>>1,R[Y+3+0]=R[Y+2+64]=Ke+ze+1>>1,R[Y+0+32]=Cn(me,Se,De),R[Y+1+32]=R[Y+0+96]=Cn(Se,De,Ke),R[Y+2+32]=R[Y+1+96]=Cn(De,Ke,ze),R[Y+3+32]=R[Y+2+96]=Cn(Ke,ze,Ze),R[Y+3+64]=Cn(ze,Ze,nt),R[Y+3+96]=Cn(Ze,nt,yt)}function Ko(R,Y){var me=R[Y-1+0],Se=R[Y-1+32],De=R[Y-1+64],Ke=R[Y-1+96];R[Y+0+0]=me+Se+1>>1,R[Y+2+0]=R[Y+0+32]=Se+De+1>>1,R[Y+2+32]=R[Y+0+64]=De+Ke+1>>1,R[Y+1+0]=Cn(me,Se,De),R[Y+3+0]=R[Y+1+32]=Cn(Se,De,Ke),R[Y+3+32]=R[Y+1+64]=Cn(De,Ke,Ke),R[Y+3+64]=R[Y+2+64]=R[Y+0+96]=R[Y+1+96]=R[Y+2+96]=R[Y+3+96]=Ke}function bd(R,Y){var me=R[Y-1+0],Se=R[Y-1+32],De=R[Y-1+64],Ke=R[Y-1+96],ze=R[Y-1-32],Ze=R[Y+0-32],nt=R[Y+1-32],yt=R[Y+2-32];R[Y+0+0]=R[Y+2+32]=me+ze+1>>1,R[Y+0+32]=R[Y+2+64]=Se+me+1>>1,R[Y+0+64]=R[Y+2+96]=De+Se+1>>1,R[Y+0+96]=Ke+De+1>>1,R[Y+3+0]=Cn(Ze,nt,yt),R[Y+2+0]=Cn(ze,Ze,nt),R[Y+1+0]=R[Y+3+32]=Cn(me,ze,Ze),R[Y+1+32]=R[Y+3+64]=Cn(Se,me,ze),R[Y+1+64]=R[Y+3+96]=Cn(De,Se,me),R[Y+1+96]=Cn(Ke,De,Se)}function xc(R,Y){var me;for(me=0;8>me;++me)K(R,Y+32*me,R,Y-32,8)}function $d(R,Y){var me;for(me=0;8>me;++me)X(R,Y,R[Y-1],8),Y+=32}function Yl(R,Y,me){var Se;for(Se=0;8>Se;++Se)X(Y,me+32*Se,R,8)}function _u(R,Y){var me,Se=8;for(me=0;8>me;++me)Se+=R[Y+me-32]+R[Y-1+32*me];Yl(Se>>4,R,Y)}function bc(R,Y){var me,Se=4;for(me=0;8>me;++me)Se+=R[Y+me-32];Yl(Se>>3,R,Y)}function Vc(R,Y){var me,Se=4;for(me=0;8>me;++me)Se+=R[Y-1+32*me];Yl(Se>>3,R,Y)}function yh(R,Y){Yl(128,R,Y)}function iu(R,Y,me){var Se=R[Y-me],De=R[Y+0],Ke=3*(De-Se)+ug[1020+R[Y-2*me]-R[Y+me]],ze=Zm[112+(Ke+4>>3)];R[Y-me]=Xu[255+Se+Zm[112+(Ke+3>>3)]],R[Y+0]=Xu[255+De-ze]}function wd(R,Y,me,Se){var De=R[Y+0],Ke=R[Y+me];return Sd[255+R[Y-2*me]-R[Y-me]]>Se||Sd[255+Ke-De]>Se}function ih(R,Y,me,Se){return 4*Sd[255+R[Y-me]-R[Y+0]]+Sd[255+R[Y-2*me]-R[Y+me]]<=Se}function zc(R,Y,me,Se,De){var Ke=R[Y-3*me],ze=R[Y-2*me],Ze=R[Y-me],nt=R[Y+0],yt=R[Y+me],Ft=R[Y+2*me],dr=R[Y+3*me];return 4*Sd[255+Ze-nt]+Sd[255+ze-yt]>Se?0:Sd[255+R[Y-4*me]-Ke]<=De&&Sd[255+Ke-ze]<=De&&Sd[255+ze-Ze]<=De&&Sd[255+dr-Ft]<=De&&Sd[255+Ft-yt]<=De&&Sd[255+yt-nt]<=De}function yo(R,Y,me,Se){var De=2*Se+1;for(Se=0;16>Se;++Se)ih(R,Y+Se,me,De)&&iu(R,Y+Se,me)}function xh(R,Y,me,Se){var De=2*Se+1;for(Se=0;16>Se;++Se)ih(R,Y+Se*me,1,De)&&iu(R,Y+Se*me,1)}function eA(R,Y,me,Se){var De;for(De=3;0<De;--De)yo(R,Y+=4*me,me,Se)}function RA(R,Y,me,Se){var De;for(De=3;0<De;--De)xh(R,Y+=4,me,Se)}function sh(R,Y,me,Se,De,Ke,ze,Ze){for(Ke=2*Ke+1;0<De--;){if(zc(R,Y,me,Ke,ze))if(wd(R,Y,me,Ze))iu(R,Y,me);else{var nt=R,yt=Y,Ft=me,dr=nt[yt-2*Ft],vt=nt[yt-Ft],Gt=nt[yt+0],er=nt[yt+Ft],Or=nt[yt+2*Ft],vr=27*(Fr=ug[1020+3*(Gt-vt)+ug[1020+dr-er]])+63>>7,Pr=18*Fr+63>>7,Fr=9*Fr+63>>7;nt[yt-3*Ft]=Xu[255+nt[yt-3*Ft]+Fr],nt[yt-2*Ft]=Xu[255+dr+Pr],nt[yt-Ft]=Xu[255+vt+vr],nt[yt+0]=Xu[255+Gt-vr],nt[yt+Ft]=Xu[255+er-Pr],nt[yt+2*Ft]=Xu[255+Or-Fr]}Y+=Se}}function ah(R,Y,me,Se,De,Ke,ze,Ze){for(Ke=2*Ke+1;0<De--;){if(zc(R,Y,me,Ke,ze))if(wd(R,Y,me,Ze))iu(R,Y,me);else{var nt=R,yt=Y,Ft=me,dr=nt[yt-Ft],vt=nt[yt+0],Gt=nt[yt+Ft],er=Zm[112+(4+(Or=3*(vt-dr))>>3)],Or=Zm[112+(Or+3>>3)],vr=er+1>>1;nt[yt-2*Ft]=Xu[255+nt[yt-2*Ft]+vr],nt[yt-Ft]=Xu[255+dr+Or],nt[yt+0]=Xu[255+vt-er],nt[yt+Ft]=Xu[255+Gt-vr]}Y+=Se}}function Bo(R,Y,me,Se,De,Ke){sh(R,Y,me,1,16,Se,De,Ke)}function oh(R,Y,me,Se,De,Ke){sh(R,Y,1,me,16,Se,De,Ke)}function bh(R,Y,me,Se,De,Ke){var ze;for(ze=3;0<ze;--ze)ah(R,Y+=4*me,me,1,16,Se,De,Ke)}function le(R,Y,me,Se,De,Ke){var ze;for(ze=3;0<ze;--ze)ah(R,Y+=4,1,me,16,Se,De,Ke)}function Re(R,Y,me,Se,De,Ke,ze,Ze){sh(R,Y,De,1,8,Ke,ze,Ze),sh(me,Se,De,1,8,Ke,ze,Ze)}function xt(R,Y,me,Se,De,Ke,ze,Ze){sh(R,Y,1,De,8,Ke,ze,Ze),sh(me,Se,1,De,8,Ke,ze,Ze)}function It(R,Y,me,Se,De,Ke,ze,Ze){ah(R,Y+4*De,De,1,8,Ke,ze,Ze),ah(me,Se+4*De,De,1,8,Ke,ze,Ze)}function Jt(R,Y,me,Se,De,Ke,ze,Ze){ah(R,Y+4,1,De,8,Ke,ze,Ze),ah(me,Se+4,1,De,8,Ke,ze,Ze)}function Mr(){this.ba=new Ii,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ls,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Yr(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ti(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ri(){this.ua=0,this.Wa=new Ri,this.vb=new Ri,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Ar,this.yc=new Ot}function Yi(){this.xb=this.a=0,this.l=new nh,this.ca=new Ii,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new St,this.Pb=0,this.wd=new St,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ri,this.ab=0,this.gc=ve(4,ti),this.Oc=0}function as(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new nh,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ra(R,Y,me,Se,De,Ke,ze){for(R=R==null?0:R[Y+0],Y=0;Y<ze;++Y)De[Ke+Y]=R+me[Se+Y]&255,R=De[Ke+Y]}function Ma(R,Y,me,Se,De,Ke,ze){var Ze;if(R==null)ra(null,null,me,Se,De,Ke,ze);else for(Ze=0;Ze<ze;++Ze)De[Ke+Ze]=R[Y+Ze]+me[Se+Ze]&255}function Oo(R,Y,me,Se,De,Ke,ze){if(R==null)ra(null,null,me,Se,De,Ke,ze);else{var Ze,nt=R[Y+0],yt=nt,Ft=nt;for(Ze=0;Ze<ze;++Ze)yt=Ft+(nt=R[Y+Ze])-yt,Ft=me[Se+Ze]+(-256&yt?0>yt?0:255:yt)&255,yt=nt,De[Ke+Ze]=Ft}}function Na(R,Y,me,Se){var De=Y.width,Ke=Y.o;if(N(R!=null&&Y!=null),0>me||0>=Se||me+Se>Ke)return null;if(!R.Cc){if(R.ga==null){var ze;if(R.ga=new as,(ze=R.ga==null)||(ze=Y.width*Y.o,N(R.Gb.length==0),R.Gb=ee(ze),R.Uc=0,R.Gb==null?ze=0:(R.mb=R.Gb,R.nb=R.Uc,R.rc=null,ze=1),ze=!ze),!ze){ze=R.ga;var Ze=R.Fa,nt=R.P,yt=R.qc,Ft=R.mb,dr=R.nb,vt=nt+1,Gt=yt-1,er=ze.l;if(N(Ze!=null&&Ft!=null&&Y!=null),_h[0]=null,_h[1]=ra,_h[2]=Ma,_h[3]=Oo,ze.ca=Ft,ze.tb=dr,ze.c=Y.width,ze.i=Y.height,N(0<ze.c&&0<ze.i),1>=yt)Y=0;else if(ze.$a=3&Ze[nt+0],ze.Z=Ze[nt+0]>>2&3,ze.Lc=Ze[nt+0]>>4&3,nt=Ze[nt+0]>>6&3,0>ze.$a||1<ze.$a||4<=ze.Z||1<ze.Lc||nt)Y=0;else if(er.put=bi,er.ac=Jl,er.bc=Ra,er.ma=ze,er.width=Y.width,er.height=Y.height,er.Da=Y.Da,er.v=Y.v,er.va=Y.va,er.j=Y.j,er.o=Y.o,ze.$a)e:{N(ze.$a==1),Y=gd();t:for(;;){if(Y==null){Y=0;break e}if(N(ze!=null),ze.mc=Y,Y.c=ze.c,Y.i=ze.i,Y.l=ze.l,Y.l.ma=ze,Y.l.width=ze.c,Y.l.height=ze.i,Y.a=0,Ir(Y.m,Ze,vt,Gt),!ec(ze.c,ze.i,1,Y,null)||(Y.ab==1&&Y.gc[0].hc==3&&Ac(Y.s)?(ze.ic=1,Ze=Y.c*Y.i,Y.Ta=null,Y.Ua=0,Y.V=ee(Ze),Y.Ba=0,Y.V==null?(Y.a=1,Y=0):Y=1):(ze.ic=0,Y=Vl(Y,ze.c)),!Y))break t;Y=1;break e}ze.mc=null,Y=0}else Y=Gt>=ze.c*ze.i;ze=!Y}if(ze)return null;R.ga.Lc!=1?R.Ga=0:Se=Ke-me}N(R.ga!=null),N(me+Se<=Ke);e:{if(Y=(Ze=R.ga).c,Ke=Ze.l.o,Ze.$a==0){if(vt=R.rc,Gt=R.Vc,er=R.Fa,nt=R.P+1+me*Y,yt=R.mb,Ft=R.nb+me*Y,N(nt<=R.P+R.qc),Ze.Z!=0)for(N(_h[Ze.Z]!=null),ze=0;ze<Se;++ze)_h[Ze.Z](vt,Gt,er,nt,yt,Ft,Y),vt=yt,Gt=Ft,Ft+=Y,nt+=Y;else for(ze=0;ze<Se;++ze)K(yt,Ft,er,nt,Y),vt=yt,Gt=Ft,Ft+=Y,nt+=Y;R.rc=vt,R.Vc=Gt}else{if(N(Ze.mc!=null),Y=me+Se,N((ze=Ze.mc)!=null),N(Y<=ze.i),ze.C>=Y)Y=1;else if(Ze.ic||qe(),Ze.ic){Ze=ze.V,vt=ze.Ba,Gt=ze.c;var Or=ze.i,vr=(er=1,nt=ze.$/Gt,yt=ze.$%Gt,Ft=ze.m,dr=ze.s,ze.$),Pr=Gt*Or,Fr=Gt*Y,sn=dr.wc,qr=vr<Fr?Za(dr,yt,nt):null;N(vr<=Pr),N(Y<=Or),N(Ac(dr));t:for(;;){for(;!Ft.h&&vr<Fr;){if(yt&sn||(qr=Za(dr,yt,nt)),N(qr!=null),cr(Ft),256>(Or=da(qr.G[0],qr.H[0],Ft)))Ze[vt+vr]=Or,++vr,++yt>=Gt&&(yt=0,++nt<=Y&&!(nt%16)&&Hl(ze,nt));else{if(!(280>Or)){er=0;break t}Or=Ul(Or-256,Ft);var Ti,Qn=da(qr.G[4],qr.H[4],Ft);if(cr(Ft),!(vr>=(Qn=$l(Gt,Qn=Ul(Qn,Ft)))&&Pr-vr>=Or)){er=0;break t}for(Ti=0;Ti<Or;++Ti)Ze[vt+vr+Ti]=Ze[vt+vr+Ti-Qn];for(vr+=Or,yt+=Or;yt>=Gt;)yt-=Gt,++nt<=Y&&!(nt%16)&&Hl(ze,nt);vr<Fr&&yt&sn&&(qr=Za(dr,yt,nt))}N(Ft.h==Kt(Ft))}Hl(ze,nt>Y?Y:nt);break t}!er||Ft.h&&vr<Pr?(er=0,ze.a=Ft.h?5:3):ze.$=vr,Y=er}else Y=Ql(ze,ze.V,ze.Ba,ze.c,ze.i,Y,mc);if(!Y){Se=0;break e}}me+Se>=Ke&&(R.Cc=1),Se=1}if(!Se)return null;if(R.Cc&&((Se=R.ga)!=null&&(Se.mc=null),R.ga=null,0<R.Ga))return alert("todo:WebPDequantizeLevels"),null}return R.nb+me*De}function Go(R,Y,me,Se,De,Ke){for(;0<De--;){var ze,Ze=R,nt=Y+(me?1:0),yt=R,Ft=Y+(me?0:3);for(ze=0;ze<Se;++ze){var dr=yt[Ft+4*ze];dr!=255&&(dr*=32897,Ze[nt+4*ze+0]=Ze[nt+4*ze+0]*dr>>23,Ze[nt+4*ze+1]=Ze[nt+4*ze+1]*dr>>23,Ze[nt+4*ze+2]=Ze[nt+4*ze+2]*dr>>23)}Y+=Ke}}function O(R,Y,me,Se,De){for(;0<Se--;){var Ke;for(Ke=0;Ke<me;++Ke){var ze=R[Y+2*Ke+0],Ze=15&(yt=R[Y+2*Ke+1]),nt=4369*Ze,yt=(240&yt|yt>>4)*nt>>16;R[Y+2*Ke+0]=(240&ze|ze>>4)*nt>>16&240|(15&ze|ze<<4)*nt>>16>>4&15,R[Y+2*Ke+1]=240&yt|Ze}Y+=De}}function Be(R,Y,me,Se,De,Ke,ze,Ze){var nt,yt,Ft=255;for(yt=0;yt<De;++yt){for(nt=0;nt<Se;++nt){var dr=R[Y+nt];Ke[ze+4*nt]=dr,Ft&=dr}Y+=me,ze+=Ze}return Ft!=255}function J(R,Y,me,Se,De){var Ke;for(Ke=0;Ke<De;++Ke)me[Se+Ke]=R[Y+Ke]>>8}function qe(){Uh=Go,qm=O,Su=Be,Hd=J}function wt(R,Y,me){Rt[R]=function(Se,De,Ke,ze,Ze,nt,yt,Ft,dr,vt,Gt,er,Or,vr,Pr,Fr,sn){var qr,Ti=sn-1>>1,Qn=Ze[nt+0]|yt[Ft+0]<<16,Is=dr[vt+0]|Gt[er+0]<<16;N(Se!=null);var pi=3*Qn+Is+131074>>2;for(Y(Se[De+0],255&pi,pi>>16,Or,vr),Ke!=null&&(pi=3*Is+Qn+131074>>2,Y(Ke[ze+0],255&pi,pi>>16,Pr,Fr)),qr=1;qr<=Ti;++qr){var la=Ze[nt+qr]|yt[Ft+qr]<<16,Ol=dr[vt+qr]|Gt[er+qr]<<16,ws=Qn+la+Is+Ol+524296,hi=ws+2*(la+Is)>>3;pi=hi+Qn>>1,Qn=(ws=ws+2*(Qn+Ol)>>3)+la>>1,Y(Se[De+2*qr-1],255&pi,pi>>16,Or,vr+(2*qr-1)*me),Y(Se[De+2*qr-0],255&Qn,Qn>>16,Or,vr+(2*qr-0)*me),Ke!=null&&(pi=ws+Is>>1,Qn=hi+Ol>>1,Y(Ke[ze+2*qr-1],255&pi,pi>>16,Pr,Fr+(2*qr-1)*me),Y(Ke[ze+2*qr+0],255&Qn,Qn>>16,Pr,Fr+(2*qr+0)*me)),Qn=la,Is=Ol}1&sn||(pi=3*Qn+Is+131074>>2,Y(Se[De+sn-1],255&pi,pi>>16,Or,vr+(sn-1)*me),Ke!=null&&(pi=3*Is+Qn+131074>>2,Y(Ke[ze+sn-1],255&pi,pi>>16,Pr,Fr+(sn-1)*me)))}}function bt(){Cd[rA]=HA,Cd[Jm]=yg,Cd[dg]=Q0,Cd[FA]=Ty,Cd[Bl]=Cy,Cd[bf]=xg,Cd[hg]=Sh,Cd[fg]=yg,Cd[ep]=Ty,Cd[nA]=Cy,Cd[Ag]=xg}function mr(R){return R&-16384?0>R?0:255:R>>ip}function zt(R,Y){return mr((19077*R>>8)+(26149*Y>>8)-14234)}function Dn(R,Y,me){return mr((19077*R>>8)-(6419*Y>>8)-(13320*me>>8)+8708)}function Dt(R,Y){return mr((19077*R>>8)+(33050*Y>>8)-17685)}function pr(R,Y,me,Se,De){Se[De+0]=zt(R,me),Se[De+1]=Dn(R,Y,me),Se[De+2]=Dt(R,Y)}function qi(R,Y,me,Se,De){Se[De+0]=Dt(R,Y),Se[De+1]=Dn(R,Y,me),Se[De+2]=zt(R,me)}function jn(R,Y,me,Se,De){var Ke=Dn(R,Y,me);Y=Ke<<3&224|Dt(R,Y)>>3,Se[De+0]=248&zt(R,me)|Ke>>5,Se[De+1]=Y}function Xr(R,Y,me,Se,De){var Ke=240&Dt(R,Y)|15;Se[De+0]=240&zt(R,me)|Dn(R,Y,me)>>4,Se[De+1]=Ke}function Br(R,Y,me,Se,De){Se[De+0]=255,pr(R,Y,me,Se,De+1)}function Fa(R,Y,me,Se,De){qi(R,Y,me,Se,De),Se[De+3]=255}function Wi(R,Y,me,Se,De){pr(R,Y,me,Se,De),Se[De+3]=255}function Ni(R,Y,me){Rt[R]=function(Se,De,Ke,ze,Ze,nt,yt,Ft,dr){for(var vt=Ft+(-2&dr)*me;Ft!=vt;)Y(Se[De+0],Ke[ze+0],Ze[nt+0],yt,Ft),Y(Se[De+1],Ke[ze+0],Ze[nt+0],yt,Ft+me),De+=2,++ze,++nt,Ft+=2*me;1&dr&&Y(Se[De+0],Ke[ze+0],Ze[nt+0],yt,Ft)}}function Vi(R,Y,me){return me==0?R==0?Y==0?6:5:Y==0?4:0:me}function vs(R,Y,me,Se,De){switch(R>>>30){case 3:_d(Y,me,Se,De,0);break;case 2:wc(Y,me,Se,De);break;case 1:ia(Y,me,Se,De)}}function xn(R,Y){var me,Se,De=Y.M,Ke=Y.Nb,ze=R.oc,Ze=R.pc+40,nt=R.oc,yt=R.pc+584,Ft=R.oc,dr=R.pc+600;for(me=0;16>me;++me)ze[Ze+32*me-1]=129;for(me=0;8>me;++me)nt[yt+32*me-1]=129,Ft[dr+32*me-1]=129;for(0<De?ze[Ze-1-32]=nt[yt-1-32]=Ft[dr-1-32]=129:(X(ze,Ze-32-1,127,21),X(nt,yt-32-1,127,9),X(Ft,dr-32-1,127,9)),Se=0;Se<R.za;++Se){var vt=Y.ya[Y.aa+Se];if(0<Se){for(me=-1;16>me;++me)K(ze,Ze+32*me-4,ze,Ze+32*me+12,4);for(me=-1;8>me;++me)K(nt,yt+32*me-4,nt,yt+32*me+4,4),K(Ft,dr+32*me-4,Ft,dr+32*me+4,4)}var Gt=R.Gd,er=R.Hd+Se,Or=vt.ad,vr=vt.Hc;if(0<De&&(K(ze,Ze-32,Gt[er].y,0,16),K(nt,yt-32,Gt[er].f,0,8),K(Ft,dr-32,Gt[er].ea,0,8)),vt.Za){var Pr=ze,Fr=Ze-32+16;for(0<De&&(Se>=R.za-1?X(Pr,Fr,Gt[er].y[15],4):K(Pr,Fr,Gt[er+1].y,0,4)),me=0;4>me;me++)Pr[Fr+128+me]=Pr[Fr+256+me]=Pr[Fr+384+me]=Pr[Fr+0+me];for(me=0;16>me;++me,vr<<=2)Pr=ze,Fr=Ze+$h[me],Td[vt.Ob[me]](Pr,Fr),vs(vr,Or,16*+me,Pr,Fr)}else if(Pr=Vi(Se,De,vt.Ob[0]),Eh[Pr](ze,Ze),vr!=0)for(me=0;16>me;++me,vr<<=2)vs(vr,Or,16*+me,ze,Ze+$h[me]);for(me=vt.Gc,Pr=Vi(Se,De,vt.Dd),Qd[Pr](nt,yt),Qd[Pr](Ft,dr),vr=Or,Pr=nt,Fr=yt,255&(vt=0|me)&&(170&vt?qu(vr,256,Pr,Fr):Ja(vr,256,Pr,Fr)),vt=Ft,vr=dr,255&(me>>=8)&&(170&me?qu(Or,320,vt,vr):Ja(Or,320,vt,vr)),De<R.Ub-1&&(K(Gt[er].y,0,ze,Ze+480,16),K(Gt[er].f,0,nt,yt+224,8),K(Gt[er].ea,0,Ft,dr+224,8)),me=8*Ke*R.B,Gt=R.sa,er=R.ta+16*Se+16*Ke*R.R,Or=R.qa,vt=R.ra+8*Se+me,vr=R.Ha,Pr=R.Ia+8*Se+me,me=0;16>me;++me)K(Gt,er+me*R.R,ze,Ze+32*me,16);for(me=0;8>me;++me)K(Or,vt+me*R.B,nt,yt+32*me,8),K(vr,Pr+me*R.B,Ft,dr+32*me,8)}}function ys(R,Y,me,Se,De,Ke,ze,Ze,nt){var yt=[0],Ft=[0],dr=0,vt=nt!=null?nt.kd:0,Gt=nt??new Yr;if(R==null||12>me)return 7;Gt.data=R,Gt.w=Y,Gt.ha=me,Y=[Y],me=[me],Gt.gb=[Gt.gb];e:{var er=Y,Or=me,vr=Gt.gb;if(N(R!=null),N(Or!=null),N(vr!=null),vr[0]=0,12<=Or[0]&&!D(R,er[0],"RIFF")){if(D(R,er[0]+8,"WEBP")){vr=3;break e}var Pr=yi(R,er[0]+4);if(12>Pr||4294967286<Pr){vr=3;break e}if(vt&&Pr>Or[0]-8){vr=7;break e}vr[0]=Pr,er[0]+=12,Or[0]-=12}vr=0}if(vr!=0)return vr;for(Pr=0<Gt.gb[0],me=me[0];;){e:{var Fr=R;Or=Y,vr=me;var sn=yt,qr=Ft,Ti=er=[0];if((pi=dr=[dr])[0]=0,8>vr[0])vr=7;else{if(!D(Fr,Or[0],"VP8X")){if(yi(Fr,Or[0]+4)!=10){vr=3;break e}if(18>vr[0]){vr=7;break e}var Qn=yi(Fr,Or[0]+8),Is=1+Rn(Fr,Or[0]+12);if(2147483648<=Is*(Fr=1+Rn(Fr,Or[0]+15))){vr=3;break e}Ti!=null&&(Ti[0]=Qn),sn!=null&&(sn[0]=Is),qr!=null&&(qr[0]=Fr),Or[0]+=18,vr[0]-=18,pi[0]=1}vr=0}}if(dr=dr[0],er=er[0],vr!=0)return vr;if(Or=!!(2&er),!Pr&&dr)return 3;if(Ke!=null&&(Ke[0]=!!(16&er)),ze!=null&&(ze[0]=Or),Ze!=null&&(Ze[0]=0),ze=yt[0],er=Ft[0],dr&&Or&&nt==null){vr=0;break}if(4>me){vr=7;break}if(Pr&&dr||!Pr&&!dr&&!D(R,Y[0],"ALPH")){me=[me],Gt.na=[Gt.na],Gt.P=[Gt.P],Gt.Sa=[Gt.Sa];e:{Qn=R,vr=Y,Pr=me;var pi=Gt.gb;sn=Gt.na,qr=Gt.P,Ti=Gt.Sa,Is=22,N(Qn!=null),N(Pr!=null),Fr=vr[0];var la=Pr[0];for(N(sn!=null),N(Ti!=null),sn[0]=null,qr[0]=null,Ti[0]=0;;){if(vr[0]=Fr,Pr[0]=la,8>la){vr=7;break e}var Ol=yi(Qn,Fr+4);if(4294967286<Ol){vr=3;break e}var ws=8+Ol+1&-2;if(Is+=ws,0<pi&&Is>pi){vr=3;break e}if(!D(Qn,Fr,"VP8 ")||!D(Qn,Fr,"VP8L")){vr=0;break e}if(la[0]<ws){vr=7;break e}D(Qn,Fr,"ALPH")||(sn[0]=Qn,qr[0]=Fr+8,Ti[0]=Ol),Fr+=ws,la-=ws}}if(me=me[0],Gt.na=Gt.na[0],Gt.P=Gt.P[0],Gt.Sa=Gt.Sa[0],vr!=0)break}me=[me],Gt.Ja=[Gt.Ja],Gt.xa=[Gt.xa];e:if(pi=R,vr=Y,Pr=me,sn=Gt.gb[0],qr=Gt.Ja,Ti=Gt.xa,Qn=vr[0],Fr=!D(pi,Qn,"VP8 "),Is=!D(pi,Qn,"VP8L"),N(pi!=null),N(Pr!=null),N(qr!=null),N(Ti!=null),8>Pr[0])vr=7;else{if(Fr||Is){if(pi=yi(pi,Qn+4),12<=sn&&pi>sn-12){vr=3;break e}if(vt&&pi>Pr[0]-8){vr=7;break e}qr[0]=pi,vr[0]+=8,Pr[0]-=8,Ti[0]=Is}else Ti[0]=5<=Pr[0]&&pi[Qn+0]==47&&!(pi[Qn+4]>>5),qr[0]=Pr[0];vr=0}if(me=me[0],Gt.Ja=Gt.Ja[0],Gt.xa=Gt.xa[0],Y=Y[0],vr!=0)break;if(4294967286<Gt.Ja)return 3;if(Ze==null||Or||(Ze[0]=Gt.xa?2:1),ze=[ze],er=[er],Gt.xa){if(5>me){vr=7;break}Ze=ze,vt=er,Or=Ke,R==null||5>me?R=0:5<=me&&R[Y+0]==47&&!(R[Y+4]>>5)?(Pr=[0],pi=[0],sn=[0],Ir(qr=new St,R,Y,me),Xa(qr,Pr,pi,sn)?(Ze!=null&&(Ze[0]=Pr[0]),vt!=null&&(vt[0]=pi[0]),Or!=null&&(Or[0]=sn[0]),R=1):R=0):R=0}else{if(10>me){vr=7;break}Ze=er,R==null||10>me||!gc(R,Y+3,me-3)?R=0:(vt=R[Y+0]|R[Y+1]<<8|R[Y+2]<<16,Or=16383&(R[Y+7]<<8|R[Y+6]),R=16383&(R[Y+9]<<8|R[Y+8]),1&vt||3<(vt>>1&7)||!(vt>>4&1)||vt>>5>=Gt.Ja||!Or||!R?R=0:(ze&&(ze[0]=Or),Ze&&(Ze[0]=R),R=1))}if(!R||(ze=ze[0],er=er[0],dr&&(yt[0]!=ze||Ft[0]!=er)))return 3;nt!=null&&(nt[0]=Gt,nt.offset=Y-nt.w,N(4294967286>Y-nt.w),N(nt.offset==nt.ha-me));break}return vr==0||vr==7&&dr&&nt==null?(Ke!=null&&(Ke[0]|=Gt.na!=null&&0<Gt.na.length),Se!=null&&(Se[0]=ze),De!=null&&(De[0]=er),0):vr}function Ua(R,Y,me){var Se=Y.width,De=Y.height,Ke=0,ze=0,Ze=Se,nt=De;if(Y.Da=R!=null&&0<R.Da,Y.Da&&(Ze=R.cd,nt=R.bd,Ke=R.v,ze=R.j,11>me||(Ke&=-2,ze&=-2),0>Ke||0>ze||0>=Ze||0>=nt||Ke+Ze>Se||ze+nt>De))return 0;if(Y.v=Ke,Y.j=ze,Y.va=Ke+Ze,Y.o=ze+nt,Y.U=Ze,Y.T=nt,Y.da=R!=null&&0<R.da,Y.da){if(!Sn(Ze,nt,me=[R.ib],Ke=[R.hb]))return 0;Y.ib=me[0],Y.hb=Ke[0]}return Y.ob=R!=null&&R.ob,Y.Kb=R==null||!R.Sd,Y.da&&(Y.ob=Y.ib<3*Se/4&&Y.hb<3*De/4,Y.Kb=0),1}function Si(R){if(R==null)return 2;if(11>R.S){var Y=R.f.RGBA;Y.fb+=(R.height-1)*Y.A,Y.A=-Y.A}else Y=R.f.kb,R=R.height,Y.O+=(R-1)*Y.fa,Y.fa=-Y.fa,Y.N+=(R-1>>1)*Y.Ab,Y.Ab=-Y.Ab,Y.W+=(R-1>>1)*Y.Db,Y.Db=-Y.Db,Y.F!=null&&(Y.J+=(R-1)*Y.lb,Y.lb=-Y.lb);return 0}function na(R,Y,me,Se){if(Se==null||0>=R||0>=Y)return 2;if(me!=null){if(me.Da){var De=me.cd,Ke=me.bd,ze=-2&me.v,Ze=-2&me.j;if(0>ze||0>Ze||0>=De||0>=Ke||ze+De>R||Ze+Ke>Y)return 2;R=De,Y=Ke}if(me.da){if(!Sn(R,Y,De=[me.ib],Ke=[me.hb]))return 2;R=De[0],Y=Ke[0]}}Se.width=R,Se.height=Y;e:{var nt=Se.width,yt=Se.height;if(R=Se.S,0>=nt||0>=yt||!(R>=rA&&13>R))R=2;else{if(0>=Se.Rd&&Se.sd==null){ze=Ke=De=Y=0;var Ft=(Ze=nt*VA[R])*yt;if(11>R||(Ke=(yt+1)/2*(Y=(nt+1)/2),R==12&&(ze=(De=nt)*yt)),(yt=ee(Ft+2*Ke+ze))==null){R=1;break e}Se.sd=yt,11>R?((nt=Se.f.RGBA).eb=yt,nt.fb=0,nt.A=Ze,nt.size=Ft):((nt=Se.f.kb).y=yt,nt.O=0,nt.fa=Ze,nt.Fd=Ft,nt.f=yt,nt.N=0+Ft,nt.Ab=Y,nt.Cd=Ke,nt.ea=yt,nt.W=0+Ft+Ke,nt.Db=Y,nt.Ed=Ke,R==12&&(nt.F=yt,nt.J=0+Ft+2*Ke),nt.Tc=ze,nt.lb=De)}if(Y=1,De=Se.S,Ke=Se.width,ze=Se.height,De>=rA&&13>De)if(11>De)R=Se.f.RGBA,Y&=(Ze=Math.abs(R.A))*(ze-1)+Ke<=R.size,Y&=Ze>=Ke*VA[De],Y&=R.eb!=null;else{R=Se.f.kb,Ze=(Ke+1)/2,Ft=(ze+1)/2,nt=Math.abs(R.fa),yt=Math.abs(R.Ab);var dr=Math.abs(R.Db),vt=Math.abs(R.lb),Gt=vt*(ze-1)+Ke;Y&=nt*(ze-1)+Ke<=R.Fd,Y&=yt*(Ft-1)+Ze<=R.Cd,Y=(Y&=dr*(Ft-1)+Ze<=R.Ed)&nt>=Ke&yt>=Ze&dr>=Ze,Y&=R.y!=null,Y&=R.f!=null,Y&=R.ea!=null,De==12&&(Y&=vt>=Ke,Y&=Gt<=R.Tc,Y&=R.F!=null)}else Y=0;R=Y?0:2}}return R!=0||me!=null&&me.fd&&(R=Si(Se)),R}var Ns=64,ni=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],$i=24,rc=32,Wu=8,su=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Fn("Predictor0","PredictorAdd0"),Rt.Predictor0=function(){return 4278190080},Rt.Predictor1=function(R){return R},Rt.Predictor2=function(R,Y,me){return Y[me+0]},Rt.Predictor3=function(R,Y,me){return Y[me+1]},Rt.Predictor4=function(R,Y,me){return Y[me-1]},Rt.Predictor5=function(R,Y,me){return $n($n(R,Y[me+1]),Y[me+0])},Rt.Predictor6=function(R,Y,me){return $n(R,Y[me-1])},Rt.Predictor7=function(R,Y,me){return $n(R,Y[me+0])},Rt.Predictor8=function(R,Y,me){return $n(Y[me-1],Y[me+0])},Rt.Predictor9=function(R,Y,me){return $n(Y[me+0],Y[me+1])},Rt.Predictor10=function(R,Y,me){return $n($n(R,Y[me-1]),$n(Y[me+0],Y[me+1]))},Rt.Predictor11=function(R,Y,me){var Se=Y[me+0];return 0>=Gn(Se>>24&255,R>>24&255,(Y=Y[me-1])>>24&255)+Gn(Se>>16&255,R>>16&255,Y>>16&255)+Gn(Se>>8&255,R>>8&255,Y>>8&255)+Gn(255&Se,255&R,255&Y)?Se:R},Rt.Predictor12=function(R,Y,me){var Se=Y[me+0];return(ga((R>>24&255)+(Se>>24&255)-((Y=Y[me-1])>>24&255))<<24|ga((R>>16&255)+(Se>>16&255)-(Y>>16&255))<<16|ga((R>>8&255)+(Se>>8&255)-(Y>>8&255))<<8|ga((255&R)+(255&Se)-(255&Y)))>>>0},Rt.Predictor13=function(R,Y,me){var Se=Y[me-1];return(Di((R=$n(R,Y[me+0]))>>24&255,Se>>24&255)<<24|Di(R>>16&255,Se>>16&255)<<16|Di(R>>8&255,Se>>8&255)<<8|Di(255&R,255&Se))>>>0};var yl=Rt.PredictorAdd0;Rt.PredictorAdd1=ns,Fn("Predictor2","PredictorAdd2"),Fn("Predictor3","PredictorAdd3"),Fn("Predictor4","PredictorAdd4"),Fn("Predictor5","PredictorAdd5"),Fn("Predictor6","PredictorAdd6"),Fn("Predictor7","PredictorAdd7"),Fn("Predictor8","PredictorAdd8"),Fn("Predictor9","PredictorAdd9"),Fn("Predictor10","PredictorAdd10"),Fn("Predictor11","PredictorAdd11"),Fn("Predictor12","PredictorAdd12"),Fn("Predictor13","PredictorAdd13");var nc=Rt.PredictorAdd2;Wn("ColorIndexInverseTransform","MapARGB","32b",function(R){return R>>8&255},function(R){return R}),Wn("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(R){return R},function(R){return R>>8&255});var ao,DA=Rt.ColorIndexInverseTransform,lh=Rt.MapARGB,Kc=Rt.VP8LColorIndexInverseTransformAlpha,Gc=Rt.MapAlpha,Po=Rt.VP8LPredictorsAdd=[];Po.length=16,(Rt.VP8LPredictors=[]).length=16,(Rt.VP8LPredictorsAdd_C=[]).length=16,(Rt.VP8LPredictors_C=[]).length=16;var xf,Ed,Ji,ha,xo,wh,Yu,_d,wc,qu,ia,Ja,ks,xl,ch,tA,Fh,MA,Km,Gm,Wm,Wc,Wo,Ym,Uh,qm,Su,Hd,Xm=ee(511),lg=ee(2041),cg=ee(225),D0=ee(767),M0=0,ug=lg,Zm=cg,Xu=D0,Sd=Xm,rA=0,Jm=1,dg=2,FA=3,Bl=4,bf=5,hg=6,fg=7,ep=8,nA=9,Ag=10,by=[2,3,7],h1=[3,3,11],F0=[280,256,256,256,40],UA=[0,1,1,1,0],wy=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],mg=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],pg=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],U0=8,$A=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],gg=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],iA=null,vg=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Ey=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],$0=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],_y=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],H0=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],tp=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],rp=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Eh=[],Td=[],Qd=[],Sy=1,np=2,_h=[],Cd=[];wt("UpsampleRgbLinePair",pr,3),wt("UpsampleBgrLinePair",qi,3),wt("UpsampleRgbaLinePair",Wi,4),wt("UpsampleBgraLinePair",Fa,4),wt("UpsampleArgbLinePair",Br,4),wt("UpsampleRgba4444LinePair",Xr,2),wt("UpsampleRgb565LinePair",jn,2);var HA=Rt.UpsampleRgbLinePair,Q0=Rt.UpsampleBgrLinePair,yg=Rt.UpsampleRgbaLinePair,Ty=Rt.UpsampleBgraLinePair,Cy=Rt.UpsampleArgbLinePair,xg=Rt.UpsampleRgba4444LinePair,Sh=Rt.UpsampleRgb565LinePair,wf=16,Th=1<<wf-1,QA=-227,bg=482,ip=6,V0=0,wg=ee(256),Eg=ee(256),_g=ee(256),Sg=ee(256),Tg=ee(bg-QA),z0=ee(bg-QA);Ni("YuvToRgbRow",pr,3),Ni("YuvToBgrRow",qi,3),Ni("YuvToRgbaRow",Wi,4),Ni("YuvToBgraRow",Fa,4),Ni("YuvToArgbRow",Br,4),Ni("YuvToRgba4444Row",Xr,2),Ni("YuvToRgb565Row",jn,2);var $h=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],sp=[0,2,8],ap=[8,7,6,4,4,2,2,2,1,1,1,1],op=1;this.WebPDecodeRGBA=function(R,Y,me,Se,De){var Ke=Jm,ze=new Mr,Ze=new Ii;ze.ba=Ze,Ze.S=Ke,Ze.width=[Ze.width],Ze.height=[Ze.height];var nt=Ze.width,yt=Ze.height,Ft=new yn;if(Ft==null||R==null)var dr=2;else N(Ft!=null),dr=ys(R,Y,me,Ft.width,Ft.height,Ft.Pd,Ft.Qd,Ft.format,null);if(dr!=0?nt=0:(nt!=null&&(nt[0]=Ft.width[0]),yt!=null&&(yt[0]=Ft.height[0]),nt=1),nt){Ze.width=Ze.width[0],Ze.height=Ze.height[0],Se!=null&&(Se[0]=Ze.width),De!=null&&(De[0]=Ze.height);e:{if(Se=new nh,(De=new Yr).data=R,De.w=Y,De.ha=me,De.kd=1,Y=[0],N(De!=null),((R=ys(De.data,De.w,De.ha,null,null,null,Y,null,De))==0||R==7)&&Y[0]&&(R=4),(Y=R)==0){if(N(ze!=null),Se.data=De.data,Se.w=De.w+De.offset,Se.ha=De.ha-De.offset,Se.put=bi,Se.ac=Jl,Se.bc=Ra,Se.ma=ze,De.xa){if((R=gd())==null){ze=1;break e}if((function(vt,Gt){var er=[0],Or=[0],vr=[0];t:for(;;){if(vt==null)return 0;if(Gt==null)return vt.a=2,0;if(vt.l=Gt,vt.a=0,Ir(vt.m,Gt.data,Gt.w,Gt.ha),!Xa(vt.m,er,Or,vr)){vt.a=3;break t}if(vt.xb=np,Gt.width=er[0],Gt.height=Or[0],!ec(er[0],Or[0],1,vt,null))break t;return 1}return N(vt.a!=0),0})(R,Se)){if(Se=(Y=na(Se.width,Se.height,ze.Oa,ze.ba))==0){t:{Se=R;r:for(;;){if(Se==null){Se=0;break t}if(N(Se.s.yc!=null),N(Se.s.Ya!=null),N(0<Se.s.Wb),N((me=Se.l)!=null),N((De=me.ma)!=null),Se.xb!=0){if(Se.ca=De.ba,Se.tb=De.tb,N(Se.ca!=null),!Ua(De.Oa,me,FA)){Se.a=2;break r}if(!Vl(Se,me.width)||me.da)break r;if((me.da||Qi(Se.ca.S))&&qe(),11>Se.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),Se.ca.f.kb.F!=null&&qe()),Se.Pb&&0<Se.s.ua&&Se.s.vb.X==null&&!mt(Se.s.vb,Se.s.Wa.Xa)){Se.a=1;break r}Se.xb=0}if(!Ql(Se,Se.V,Se.Ba,Se.c,Se.i,me.o,To))break r;De.Dc=Se.Ma,Se=1;break t}N(Se.a!=0),Se=0}Se=!Se}Se&&(Y=R.a)}else Y=R.a}else{if((R=new Ll)==null){ze=1;break e}if(R.Fa=De.na,R.P=De.P,R.qc=De.Sa,Hc(R,Se)){if((Y=na(Se.width,Se.height,ze.Oa,ze.ba))==0){if(R.Aa=0,me=ze.Oa,N((De=R)!=null),me!=null){if(0<(nt=0>(nt=me.Md)?0:100<nt?255:255*nt/100)){for(yt=Ft=0;4>yt;++yt)12>(dr=De.pb[yt]).lc&&(dr.ia=nt*ap[0>dr.lc?0:dr.lc]>>3),Ft|=dr.ia;Ft&&(alert("todo:VP8InitRandom"),De.ia=1)}De.Ga=me.Id,100<De.Ga?De.Ga=100:0>De.Ga&&(De.Ga=0)}(function(vt,Gt){if(vt==null)return 0;if(Gt==null)return Fi(vt,2,"NULL VP8Io parameter in VP8Decode().");if(!vt.cb&&!Hc(vt,Gt))return 0;if(N(vt.cb),Gt.ac==null||Gt.ac(Gt)){Gt.ob&&(vt.L=0);var er=sp[vt.L];if(vt.L==2?(vt.yb=0,vt.zb=0):(vt.yb=Gt.v-er>>4,vt.zb=Gt.j-er>>4,0>vt.yb&&(vt.yb=0),0>vt.zb&&(vt.zb=0)),vt.Va=Gt.o+15+er>>4,vt.Hb=Gt.va+15+er>>4,vt.Hb>vt.za&&(vt.Hb=vt.za),vt.Va>vt.Ub&&(vt.Va=vt.Ub),0<vt.L){var Or=vt.ed;for(er=0;4>er;++er){var vr;if(vt.Qa.Cb){var Pr=vt.Qa.Lb[er];vt.Qa.Fb||(Pr+=Or.Tb)}else Pr=Or.Tb;for(vr=0;1>=vr;++vr){var Fr=vt.gd[er][vr],sn=Pr;if(Or.Pc&&(sn+=Or.vd[0],vr&&(sn+=Or.od[0])),0<(sn=0>sn?0:63<sn?63:sn)){var qr=sn;0<Or.wb&&(qr=4<Or.wb?qr>>2:qr>>1)>9-Or.wb&&(qr=9-Or.wb),1>qr&&(qr=1),Fr.dd=qr,Fr.tc=2*sn+qr,Fr.ld=40<=sn?2:15<=sn?1:0}else Fr.tc=0;Fr.La=vr}}}er=0}else Fi(vt,6,"Frame setup failed"),er=vt.a;if(er=er==0){if(er){vt.$c=0,0<vt.Aa||(vt.Ic=op);t:{er=vt.Ic,Or=4*(qr=vt.za);var Ti=32*qr,Qn=qr+1,Is=0<vt.L?qr*(0<vt.Aa?2:1):0,pi=(vt.Aa==2?2:1)*qr;if((Fr=Or+832+(vr=3*(16*er+sp[vt.L])/2*Ti)+(Pr=vt.Fa!=null&&0<vt.Fa.length?vt.Kc.c*vt.Kc.i:0))!=Fr)er=0;else{if(Fr>vt.Vb){if(vt.Vb=0,vt.Ec=ee(Fr),vt.Fc=0,vt.Ec==null){er=Fi(vt,1,"no memory during frame initialization.");break t}vt.Vb=Fr}Fr=vt.Ec,sn=vt.Fc,vt.Ac=Fr,vt.Bc=sn,sn+=Or,vt.Gd=ve(Ti,zu),vt.Hd=0,vt.rb=ve(Qn+1,ru),vt.sb=1,vt.wa=Is?ve(Is,gl):null,vt.Y=0,vt.D.Nb=0,vt.D.wa=vt.wa,vt.D.Y=vt.Y,0<vt.Aa&&(vt.D.Y+=qr),N(!0),vt.oc=Fr,vt.pc=sn,sn+=832,vt.ya=ve(pi,Ud),vt.aa=0,vt.D.ya=vt.ya,vt.D.aa=vt.aa,vt.Aa==2&&(vt.D.aa+=qr),vt.R=16*qr,vt.B=8*qr,qr=(Ti=sp[vt.L])*vt.R,Ti=Ti/2*vt.B,vt.sa=Fr,vt.ta=sn+qr,vt.qa=vt.sa,vt.ra=vt.ta+16*er*vt.R+Ti,vt.Ha=vt.qa,vt.Ia=vt.ra+8*er*vt.B+Ti,vt.$c=0,sn+=vr,vt.mb=Pr?Fr:null,vt.nb=Pr?sn:null,N(sn+Pr<=vt.Fc+vt.Vb),Ku(vt),X(vt.Ac,vt.Bc,0,Or),er=1}}if(er){if(Gt.ka=0,Gt.y=vt.sa,Gt.O=vt.ta,Gt.f=vt.qa,Gt.N=vt.ra,Gt.ea=vt.Ha,Gt.Vd=vt.Ia,Gt.fa=vt.R,Gt.Rc=vt.B,Gt.F=null,Gt.J=0,!M0){for(er=-255;255>=er;++er)Xm[255+er]=0>er?-er:er;for(er=-1020;1020>=er;++er)lg[1020+er]=-128>er?-128:127<er?127:er;for(er=-112;112>=er;++er)cg[112+er]=-16>er?-16:15<er?15:er;for(er=-255;510>=er;++er)D0[255+er]=0>er?0:255<er?255:er;M0=1}Yu=jt,_d=H,qu=ae,ia=_e,Ja=Ve,wc=_,ks=Bo,xl=oh,ch=Re,tA=xt,Fh=bh,MA=le,Km=It,Gm=Jt,Wm=yo,Wc=xh,Wo=eA,Ym=RA,Td[0]=xd,Td[1]=xr,Td[2]=Gu,Td[3]=yc,Td[4]=Wl,Td[5]=so,Td[6]=wu,Td[7]=Eu,Td[8]=bd,Td[9]=Ko,Eh[0]=Co,Eh[1]=vn,Eh[2]=ui,Eh[3]=As,Eh[4]=il,Eh[5]=Xs,Eh[6]=oa,Qd[0]=_u,Qd[1]=$r,Qd[2]=xc,Qd[3]=$d,Qd[4]=Vc,Qd[5]=bc,Qd[6]=yh,er=1}else er=0}er&&(er=(function(la,Ol){for(la.M=0;la.M<la.Va;++la.M){var ws,hi=la.Jc[la.M&la.Xb],Bn=la.m,sl=la;for(ws=0;ws<sl.za;++ws){var Es=Bn,Ps=sl,bo=Ps.Ac,ic=Ps.Bc+4*ws,Ec=Ps.zc,$a=Ps.ya[Ps.aa+ws];if(Ps.Qa.Bb?$a.$b=Vr(Es,Ps.Pa.jb[0])?2+Vr(Es,Ps.Pa.jb[2]):Vr(Es,Ps.Pa.jb[1]):$a.$b=0,Ps.kc&&($a.Ad=Vr(Es,Ps.Bd)),$a.Za=!Vr(Es,145)+0,$a.Za){var _c=$a.Ob,au=0;for(Ps=0;4>Ps;++Ps){var al,sa=Ec[0+Ps];for(al=0;4>al;++al){sa=H0[bo[ic+al]][sa];for(var zi=$0[Vr(Es,sa[0])];0<zi;)zi=$0[2*zi+Vr(Es,sa[zi])];sa=-zi,bo[ic+al]=sa}K(_c,au,bo,ic,4),au+=4,Ec[0+Ps]=sa}}else sa=Vr(Es,156)?Vr(Es,128)?1:3:Vr(Es,163)?2:0,$a.Ob[0]=sa,X(bo,ic,sa,4),X(Ec,0,sa,4);$a.Dd=Vr(Es,142)?Vr(Es,114)?Vr(Es,183)?1:3:2:0}if(sl.m.Ka)return Fi(la,7,"Premature end-of-partition0 encountered.");for(;la.ja<la.za;++la.ja){if(sl=hi,Es=(Bn=la).rb[Bn.sb-1],bo=Bn.rb[Bn.sb+Bn.ja],ws=Bn.ya[Bn.aa+Bn.ja],ic=Bn.kc?ws.Ad:0)Es.la=bo.la=0,ws.Za||(Es.Na=bo.Na=0),ws.Hc=0,ws.Gc=0,ws.ia=0;else{var bl,eo;if(Es=bo,bo=sl,ic=Bn.Pa.Xc,Ec=Bn.ya[Bn.aa+Bn.ja],$a=Bn.pb[Ec.$b],Ps=Ec.ad,_c=0,au=Bn.rb[Bn.sb-1],sa=al=0,X(Ps,_c,0,384),Ec.Za)var Sc=0,Yc=ic[3];else{zi=ee(16);var oo=Es.Na+au.Na;if(oo=iA(bo,ic[1],oo,$a.Eb,0,zi,0),Es.Na=au.Na=(0<oo)+0,1<oo)Yu(zi,0,Ps,_c);else{var qc=zi[0]+3>>3;for(zi=0;256>zi;zi+=16)Ps[_c+zi]=qc}Sc=1,Yc=ic[0]}var lo=15&Es.la,fn=15&au.la;for(zi=0;4>zi;++zi){var wo=1&fn;for(qc=eo=0;4>qc;++qc)lo=lo>>1|(wo=(oo=iA(bo,Yc,oo=wo+(1&lo),$a.Sc,Sc,Ps,_c))>Sc)<<7,eo=eo<<2|(3<oo?3:1<oo?2:Ps[_c+0]!=0),_c+=16;lo>>=4,fn=fn>>1|wo<<7,al=(al<<8|eo)>>>0}for(Yc=lo,Sc=fn>>4,bl=0;4>bl;bl+=2){for(eo=0,lo=Es.la>>4+bl,fn=au.la>>4+bl,zi=0;2>zi;++zi){for(wo=1&fn,qc=0;2>qc;++qc)oo=wo+(1&lo),lo=lo>>1|(wo=0<(oo=iA(bo,ic[2],oo,$a.Qc,0,Ps,_c)))<<3,eo=eo<<2|(3<oo?3:1<oo?2:Ps[_c+0]!=0),_c+=16;lo>>=2,fn=fn>>1|wo<<5}sa|=eo<<4*bl,Yc|=lo<<4<<bl,Sc|=(240&fn)<<bl}Es.la=Yc,au.la=Sc,Ec.Hc=al,Ec.Gc=sa,Ec.ia=43690&sa?0:$a.ia,ic=!(al|sa)}if(0<Bn.L&&(Bn.wa[Bn.Y+Bn.ja]=Bn.gd[ws.$b][ws.Za],Bn.wa[Bn.Y+Bn.ja].La|=!ic),sl.Ka)return Fi(la,7,"Premature end-of-file encountered.")}if(Ku(la),Bn=Ol,sl=1,ws=(hi=la).D,Es=0<hi.L&&hi.M>=hi.zb&&hi.M<=hi.Va,hi.Aa==0)t:{if(ws.M=hi.M,ws.uc=Es,xn(hi,ws),sl=1,ws=(eo=hi.D).Nb,Es=(sa=sp[hi.L])*hi.R,bo=sa/2*hi.B,zi=16*ws*hi.R,qc=8*ws*hi.B,ic=hi.sa,Ec=hi.ta-Es+zi,$a=hi.qa,Ps=hi.ra-bo+qc,_c=hi.Ha,au=hi.Ia-bo+qc,fn=(lo=eo.M)==0,al=lo>=hi.Va-1,hi.Aa==2&&xn(hi,eo),eo.uc)for(wo=(oo=hi).D.M,N(oo.D.uc),eo=oo.yb;eo<oo.Hb;++eo){Sc=eo,Yc=wo;var sc=(jo=(Tc=oo).D).Nb;bl=Tc.R;var jo=jo.wa[jo.Y+Sc],Zu=Tc.sa,xs=Tc.ta+16*sc*bl+16*Sc,Zs=jo.dd,ka=jo.tc;if(ka!=0)if(N(3<=ka),Tc.L==1)0<Sc&&Wc(Zu,xs,bl,ka+4),jo.La&&Ym(Zu,xs,bl,ka),0<Yc&&Wm(Zu,xs,bl,ka+4),jo.La&&Wo(Zu,xs,bl,ka);else{var Ju=Tc.B,wl=Tc.qa,No=Tc.ra+8*sc*Ju+8*Sc,ed=Tc.Ha,Tc=Tc.Ia+8*sc*Ju+8*Sc;sc=jo.ld,0<Sc&&(xl(Zu,xs,bl,ka+4,Zs,sc),tA(wl,No,ed,Tc,Ju,ka+4,Zs,sc)),jo.La&&(MA(Zu,xs,bl,ka,Zs,sc),Gm(wl,No,ed,Tc,Ju,ka,Zs,sc)),0<Yc&&(ks(Zu,xs,bl,ka+4,Zs,sc),ch(wl,No,ed,Tc,Ju,ka+4,Zs,sc)),jo.La&&(Fh(Zu,xs,bl,ka,Zs,sc),Km(wl,No,ed,Tc,Ju,ka,Zs,sc))}}if(hi.ia&&alert("todo:DitherRow"),Bn.put!=null){if(eo=16*lo,lo=16*(lo+1),fn?(Bn.y=hi.sa,Bn.O=hi.ta+zi,Bn.f=hi.qa,Bn.N=hi.ra+qc,Bn.ea=hi.Ha,Bn.W=hi.Ia+qc):(eo-=sa,Bn.y=ic,Bn.O=Ec,Bn.f=$a,Bn.N=Ps,Bn.ea=_c,Bn.W=au),al||(lo-=sa),lo>Bn.o&&(lo=Bn.o),Bn.F=null,Bn.J=null,hi.Fa!=null&&0<hi.Fa.length&&eo<lo&&(Bn.J=Na(hi,Bn,eo,lo-eo),Bn.F=hi.mb,Bn.F==null&&Bn.F.length==0)){sl=Fi(hi,3,"Could not decode alpha data.");break t}eo<Bn.j&&(sa=Bn.j-eo,eo=Bn.j,N(!(1&sa)),Bn.O+=hi.R*sa,Bn.N+=hi.B*(sa>>1),Bn.W+=hi.B*(sa>>1),Bn.F!=null&&(Bn.J+=Bn.width*sa)),eo<lo&&(Bn.O+=Bn.v,Bn.N+=Bn.v>>1,Bn.W+=Bn.v>>1,Bn.F!=null&&(Bn.J+=Bn.v),Bn.ka=eo-Bn.j,Bn.U=Bn.va-Bn.v,Bn.T=lo-eo,sl=Bn.put(Bn))}ws+1!=hi.Ic||al||(K(hi.sa,hi.ta-Es,ic,Ec+16*hi.R,Es),K(hi.qa,hi.ra-bo,$a,Ps+8*hi.B,bo),K(hi.Ha,hi.Ia-bo,_c,au+8*hi.B,bo))}if(!sl)return Fi(la,6,"Output aborted.")}return 1})(vt,Gt)),Gt.bc!=null&&Gt.bc(Gt),er&=1}return er?(vt.cb=0,er):0})(R,Se)||(Y=R.a)}}else Y=R.a}Y==0&&ze.Oa!=null&&ze.Oa.fd&&(Y=Si(ze.ba))}ze=Y}Ke=ze!=0?null:11>Ke?Ze.f.RGBA.eb:Ze.f.kb.y}else Ke=null;return Ke};var VA=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function ke(Rt,yr){for(var it="",ft=0;ft<4;ft++)it+=String.fromCharCode(Rt[yr++]);return it}function Qe(Rt,yr){return Rt[yr+0]|Rt[yr+1]<<8}function Xe(Rt,yr){return(Rt[yr+0]|Rt[yr+1]<<8|Rt[yr+2]<<16)>>>0}function lt(Rt,yr){return(Rt[yr+0]|Rt[yr+1]<<8|Rt[yr+2]<<16|Rt[yr+3]<<24)>>>0}new fe;var Ce=[0],_t=[0],at=[],Tt=new fe,rt=B,Bt=(function(Rt,yr){var it={},ft=0,Ot=!1,Pt=0,Ar=0;if(it.frames=[],!(function(Ye,St){for(var Nt=0;Nt<4;Nt++)if(Ye[St+Nt]!="RIFF".charCodeAt(Nt))return!0;return!1})(Rt,yr)){for(lt(Rt,yr+=4),yr+=8;yr<Rt.length;){var Tr=ke(Rt,yr),Lr=lt(Rt,yr+=4);yr+=4;var ar=Lr+(1&Lr);switch(Tr){case"VP8 ":case"VP8L":it.frames[ft]===void 0&&(it.frames[ft]={}),(Zr=it.frames[ft]).src_off=Ot?Ar:yr-8,Zr.src_size=Pt+Lr+8,ft++,Ot&&(Ot=!1,Pt=0,Ar=0);break;case"VP8X":(Zr=it.header={}).feature_flags=Rt[yr];var Ir=yr+4;Zr.canvas_width=1+Xe(Rt,Ir),Ir+=3,Zr.canvas_height=1+Xe(Rt,Ir),Ir+=3;break;case"ALPH":Ot=!0,Pt=ar+8,Ar=yr-8;break;case"ANIM":(Zr=it.header).bgcolor=lt(Rt,yr),Ir=yr+4,Zr.loop_count=Qe(Rt,Ir),Ir+=2;break;case"ANMF":var hn,Zr;(Zr=it.frames[ft]={}).offset_x=2*Xe(Rt,yr),yr+=3,Zr.offset_y=2*Xe(Rt,yr),yr+=3,Zr.width=1+Xe(Rt,yr),yr+=3,Zr.height=1+Xe(Rt,yr),yr+=3,Zr.duration=Xe(Rt,yr),yr+=3,hn=Rt[yr++],Zr.dispose=1&hn,Zr.blend=hn>>1&1}Tr!="ANMF"&&(yr+=ar)}return it}})(rt,0);Bt.response=rt,Bt.rgbaoutput=!0,Bt.dataurl=!1;var Yt=Bt.header?Bt.header:null,kt=Bt.frames?Bt.frames:null;if(Yt){Yt.loop_counter=Yt.loop_count,Ce=[Yt.canvas_height],_t=[Yt.canvas_width];for(var tt=0;tt<kt.length&&kt[tt].blend!=0;tt++);}var Vt=kt[0],Er=Tt.WebPDecodeRGBA(rt,Vt.src_off,Vt.src_size,_t,Ce);Vt.rgba=Er,Vt.imgwidth=_t[0],Vt.imgheight=Ce[0];for(var nr=0;nr<_t[0]*Ce[0]*4;nr++)at[nr]=Er[nr];return this.width=_t,this.height=Ce,this.data=at,this}(function(B){var N,D,K,X,ee,ve,de,fe,ke,Qe=function(Ye){return Ye=Ye||{},this.isStrokeTransparent=Ye.isStrokeTransparent||!1,this.strokeOpacity=Ye.strokeOpacity||1,this.strokeStyle=Ye.strokeStyle||"#000000",this.fillStyle=Ye.fillStyle||"#000000",this.isFillTransparent=Ye.isFillTransparent||!1,this.fillOpacity=Ye.fillOpacity||1,this.font=Ye.font||"10px sans-serif",this.textBaseline=Ye.textBaseline||"alphabetic",this.textAlign=Ye.textAlign||"left",this.lineWidth=Ye.lineWidth||1,this.lineJoin=Ye.lineJoin||"miter",this.lineCap=Ye.lineCap||"butt",this.path=Ye.path||[],this.transform=Ye.transform!==void 0?Ye.transform.clone():new fe,this.globalCompositeOperation=Ye.globalCompositeOperation||"normal",this.globalAlpha=Ye.globalAlpha||1,this.clip_path=Ye.clip_path||[],this.currentPoint=Ye.currentPoint||new ve,this.miterLimit=Ye.miterLimit||10,this.lastPoint=Ye.lastPoint||new ve,this.lineDashOffset=Ye.lineDashOffset||0,this.lineDash=Ye.lineDash||[],this.margin=Ye.margin||[0,0,0,0],this.prevPageLastElemOffset=Ye.prevPageLastElemOffset||0,this.ignoreClearRect=typeof Ye.ignoreClearRect!="boolean"||Ye.ignoreClearRect,this};B.events.push(["initialized",function(){this.context2d=new Xe(this),N=this.internal.f2,D=this.internal.getCoordinateString,K=this.internal.getVerticalCoordinateString,X=this.internal.getHorizontalCoordinate,ee=this.internal.getVerticalCoordinate,ve=this.internal.Point,de=this.internal.Rectangle,fe=this.internal.Matrix,ke=new Qe}]);var Xe=function(Ye){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var St=Ye;Object.defineProperty(this,"pdf",{get:function(){return St}});var Nt=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Nt},set:function(mt){Nt=!!mt}});var Kt=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Kt},set:function(mt){Kt=!!mt}});var qt=0;Object.defineProperty(this,"posX",{get:function(){return qt},set:function(mt){isNaN(mt)||(qt=mt)}});var cr=0;Object.defineProperty(this,"posY",{get:function(){return cr},set:function(mt){isNaN(mt)||(cr=mt)}}),Object.defineProperty(this,"margin",{get:function(){return ke.margin},set:function(mt){var _n;typeof mt=="number"?_n=[mt,mt,mt,mt]:((_n=new Array(4))[0]=mt[0],_n[1]=mt.length>=2?mt[1]:_n[0],_n[2]=mt.length>=3?mt[2]:_n[0],_n[3]=mt.length>=4?mt[3]:_n[1]),ke.margin=_n}});var Cr=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Cr},set:function(mt){Cr=mt}});var Sr=0;Object.defineProperty(this,"lastBreak",{get:function(){return Sr},set:function(mt){Sr=mt}});var Vr=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Vr},set:function(mt){Vr=mt}}),Object.defineProperty(this,"ctx",{get:function(){return ke},set:function(mt){mt instanceof Qe&&(ke=mt)}}),Object.defineProperty(this,"path",{get:function(){return ke.path},set:function(mt){ke.path=mt}});var un=[];Object.defineProperty(this,"ctxStack",{get:function(){return un},set:function(mt){un=mt}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(mt){var _n;_n=lt(mt),this.ctx.fillStyle=_n.style,this.ctx.isFillTransparent=_n.a===0,this.ctx.fillOpacity=_n.a,this.pdf.setFillColor(_n.r,_n.g,_n.b,{a:_n.a}),this.pdf.setTextColor(_n.r,_n.g,_n.b,{a:_n.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(mt){var _n=lt(mt);this.ctx.strokeStyle=_n.style,this.ctx.isStrokeTransparent=_n.a===0,this.ctx.strokeOpacity=_n.a,_n.a===0?this.pdf.setDrawColor(255,255,255):(_n.a,this.pdf.setDrawColor(_n.r,_n.g,_n.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(mt){["butt","round","square"].indexOf(mt)!==-1&&(this.ctx.lineCap=mt,this.pdf.setLineCap(mt))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(mt){isNaN(mt)||(this.ctx.lineWidth=mt,this.pdf.setLineWidth(mt))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(mt){["bevel","round","miter"].indexOf(mt)!==-1&&(this.ctx.lineJoin=mt,this.pdf.setLineJoin(mt))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(mt){isNaN(mt)||(this.ctx.miterLimit=mt,this.pdf.setMiterLimit(mt))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(mt){this.ctx.textBaseline=mt}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(mt){["right","end","center","left","start"].indexOf(mt)!==-1&&(this.ctx.textAlign=mt)}});var bn=null,Rn=null,yi=null;Object.defineProperty(this,"fontFaces",{get:function(){return yi},set:function(mt){bn=null,Rn=null,yi=mt}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(mt){var _n;if(this.ctx.font=mt,(_n=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(mt))!==null){var Ri=_n[1];_n[2];var Sn=_n[3],tn=_n[4];_n[5];var ji=_n[6],Fn=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(tn)[2];tn=Math.floor(Fn==="px"?parseFloat(tn)*this.pdf.internal.scaleFactor:Fn==="em"?parseFloat(tn)*this.pdf.getFontSize():parseFloat(tn)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(tn);var Hn=(function(Wn){var Gi,is,Zi=[],gs=Wn.trim();if(gs==="")return ro;if(gs in ds)return[ds[gs]];for(;gs!=="";){switch(is=null,Gi=(gs=to(gs)).charAt(0)){case'"':case"'":is=Ml(gs.substring(1),Gi);break;default:is=tu(gs)}if(is===null||(Zi.push(is[0]),(gs=to(is[1]))!==""&&gs.charAt(0)!==","))return ro;gs=gs.replace(/^,/,"")}return Zi})(ji);if(this.fontFaces){var $n=(function(Wn,Gi){var is=Wn.getFontList(),Zi=JSON.stringify(is);if(bn===null||Rn!==Zi){var gs=(function(ja){var xi=[];return Object.keys(ja).forEach(function(Ws){ja[Ws].forEach(function(Qi){var ai=null;switch(Qi){case"bold":ai={family:Ws,weight:"bold"};break;case"italic":ai={family:Ws,style:"italic"};break;case"bolditalic":ai={family:Ws,weight:"bold",style:"italic"};break;case"":case"normal":ai={family:Ws}}ai!==null&&(ai.ref={name:Ws,style:Qi},xi.push(ai))})}),xi})(is);bn=(function(ja){for(var xi={},Ws=0;Ws<ja.length;++Ws){var Qi=Ys(ja[Ws]),ai=Qi.family,ua=Qi.stretch,Ii=Qi.style,yn=Qi.weight;xi[ai]=xi[ai]||{},xi[ai][ua]=xi[ai][ua]||{},xi[ai][ua][Ii]=xi[ai][ua][Ii]||{},xi[ai][ua][Ii][yn]=Qi}return xi})(gs.concat(Gi)),Rn=Zi}return bn})(this.pdf,this.fontFaces),ga=Hn.map(function(Wn){return{family:Wn,stretch:"normal",weight:Sn,style:Ri}}),Di=(function(Wn,Gi,is){for(var Zi=(is=is||{}).defaultFontFamily||"times",gs=Object.assign({},Qa,is.genericFontFamilies||{}),ja=null,xi=null,Ws=0;Ws<Gi.length;++Ws)if(gs[(ja=Ys(Gi[Ws])).family]&&(ja.family=gs[ja.family]),Wn.hasOwnProperty(ja.family)){xi=Wn[ja.family];break}if(!(xi=xi||Wn[Zi]))throw new Error("Could not find a font-family for the rule '"+yu(ja)+"' and default family '"+Zi+"'.");if(xi=(function(Qi,ai){if(ai[Qi])return ai[Qi];var ua=$s[Qi],Ii=ua<=$s.normal?-1:1,yn=Os(ai,Ds,ua,Ii);if(!yn)throw new Error("Could not find a matching font-stretch value for "+Qi);return yn})(ja.stretch,xi),xi=(function(Qi,ai){if(ai[Qi])return ai[Qi];for(var ua=Tn[Qi],Ii=0;Ii<ua.length;++Ii)if(ai[ua[Ii]])return ai[ua[Ii]];throw new Error("Could not find a matching font-style for "+Qi)})(ja.style,xi),!(xi=(function(Qi,ai){if(ai[Qi])return ai[Qi];if(Qi===400&&ai[500])return ai[500];if(Qi===500&&ai[400])return ai[400];var ua=rs[Qi],Ii=Os(ai,Ms,ua,Qi<400?-1:1);if(!Ii)throw new Error("Could not find a matching font-weight for value "+Qi);return Ii})(ja.weight,xi)))throw new Error("Failed to resolve a font for the rule '"+yu(ja)+"'.");return xi})($n,ga);this.pdf.setFont(Di.ref.name,Di.ref.style)}else{var Gn="";(Sn==="bold"||parseInt(Sn,10)>=700||Ri==="bold")&&(Gn="bold"),Ri==="italic"&&(Gn+="italic"),Gn.length===0&&(Gn="normal");for(var ns="",_i={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Un=0;Un<Hn.length;Un++){if(this.pdf.internal.getFont(Hn[Un],Gn,{noFallback:!0,disableWarning:!0})!==void 0){ns=Hn[Un];break}if(Gn==="bolditalic"&&this.pdf.internal.getFont(Hn[Un],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ns=Hn[Un],Gn="bold";else if(this.pdf.internal.getFont(Hn[Un],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ns=Hn[Un],Gn="normal";break}}if(ns===""){for(var ki=0;ki<Hn.length;ki++)if(_i[Hn[ki]]){ns=_i[Hn[ki]];break}}ns=ns===""?"Times":ns,this.pdf.setFont(ns,Gn)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(mt){this.ctx.globalCompositeOperation=mt}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(mt){this.ctx.globalAlpha=mt}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(mt){this.ctx.lineDashOffset=mt,Zr.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(mt){this.ctx.lineDash=mt,Zr.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(mt){this.ctx.ignoreClearRect=!!mt}})};Xe.prototype.setLineDash=function(Ye){this.lineDash=Ye},Xe.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},Xe.prototype.fill=function(){kt.call(this,"fill",!1)},Xe.prototype.stroke=function(){kt.call(this,"stroke",!1)},Xe.prototype.beginPath=function(){this.path=[{type:"begin"}]},Xe.prototype.moveTo=function(Ye,St){if(isNaN(Ye)||isNaN(St))throw x.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Nt=this.ctx.transform.applyToPoint(new ve(Ye,St));this.path.push({type:"mt",x:Nt.x,y:Nt.y}),this.ctx.lastPoint=new ve(Ye,St)},Xe.prototype.closePath=function(){var Ye=new ve(0,0),St=0;for(St=this.path.length-1;St!==-1;St--)if(this.path[St].type==="begin"&&(0,d.default)(this.path[St+1])==="object"&&typeof this.path[St+1].x=="number"){Ye=new ve(this.path[St+1].x,this.path[St+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new ve(Ye.x,Ye.y)},Xe.prototype.lineTo=function(Ye,St){if(isNaN(Ye)||isNaN(St))throw x.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Nt=this.ctx.transform.applyToPoint(new ve(Ye,St));this.path.push({type:"lt",x:Nt.x,y:Nt.y}),this.ctx.lastPoint=new ve(Nt.x,Nt.y)},Xe.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),kt.call(this,null,!0)},Xe.prototype.quadraticCurveTo=function(Ye,St,Nt,Kt){if(isNaN(Nt)||isNaN(Kt)||isNaN(Ye)||isNaN(St))throw x.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var qt=this.ctx.transform.applyToPoint(new ve(Nt,Kt)),cr=this.ctx.transform.applyToPoint(new ve(Ye,St));this.path.push({type:"qct",x1:cr.x,y1:cr.y,x:qt.x,y:qt.y}),this.ctx.lastPoint=new ve(qt.x,qt.y)},Xe.prototype.bezierCurveTo=function(Ye,St,Nt,Kt,qt,cr){if(isNaN(qt)||isNaN(cr)||isNaN(Ye)||isNaN(St)||isNaN(Nt)||isNaN(Kt))throw x.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Cr=this.ctx.transform.applyToPoint(new ve(qt,cr)),Sr=this.ctx.transform.applyToPoint(new ve(Ye,St)),Vr=this.ctx.transform.applyToPoint(new ve(Nt,Kt));this.path.push({type:"bct",x1:Sr.x,y1:Sr.y,x2:Vr.x,y2:Vr.y,x:Cr.x,y:Cr.y}),this.ctx.lastPoint=new ve(Cr.x,Cr.y)},Xe.prototype.arc=function(Ye,St,Nt,Kt,qt,cr){if(isNaN(Ye)||isNaN(St)||isNaN(Nt)||isNaN(Kt)||isNaN(qt))throw x.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(cr=!!cr,!this.ctx.transform.isIdentity){var Cr=this.ctx.transform.applyToPoint(new ve(Ye,St));Ye=Cr.x,St=Cr.y;var Sr=this.ctx.transform.applyToPoint(new ve(0,Nt)),Vr=this.ctx.transform.applyToPoint(new ve(0,0));Nt=Math.sqrt(Math.pow(Sr.x-Vr.x,2)+Math.pow(Sr.y-Vr.y,2))}Math.abs(qt-Kt)>=2*Math.PI&&(Kt=0,qt=2*Math.PI),this.path.push({type:"arc",x:Ye,y:St,radius:Nt,startAngle:Kt,endAngle:qt,counterclockwise:cr})},Xe.prototype.arcTo=function(Ye,St,Nt,Kt,qt){throw new Error("arcTo not implemented.")},Xe.prototype.rect=function(Ye,St,Nt,Kt){if(isNaN(Ye)||isNaN(St)||isNaN(Nt)||isNaN(Kt))throw x.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(Ye,St),this.lineTo(Ye+Nt,St),this.lineTo(Ye+Nt,St+Kt),this.lineTo(Ye,St+Kt),this.lineTo(Ye,St),this.lineTo(Ye+Nt,St),this.lineTo(Ye,St)},Xe.prototype.fillRect=function(Ye,St,Nt,Kt){if(isNaN(Ye)||isNaN(St)||isNaN(Nt)||isNaN(Kt))throw x.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!Ce.call(this)){var qt={};this.lineCap!=="butt"&&(qt.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(qt.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(Ye,St,Nt,Kt),this.fill(),qt.hasOwnProperty("lineCap")&&(this.lineCap=qt.lineCap),qt.hasOwnProperty("lineJoin")&&(this.lineJoin=qt.lineJoin)}},Xe.prototype.strokeRect=function(Ye,St,Nt,Kt){if(isNaN(Ye)||isNaN(St)||isNaN(Nt)||isNaN(Kt))throw x.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");_t.call(this)||(this.beginPath(),this.rect(Ye,St,Nt,Kt),this.stroke())},Xe.prototype.clearRect=function(Ye,St,Nt,Kt){if(isNaN(Ye)||isNaN(St)||isNaN(Nt)||isNaN(Kt))throw x.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(Ye,St,Nt,Kt))},Xe.prototype.save=function(Ye){Ye=typeof Ye!="boolean"||Ye;for(var St=this.pdf.internal.getCurrentPageInfo().pageNumber,Nt=0;Nt<this.pdf.internal.getNumberOfPages();Nt++)this.pdf.setPage(Nt+1),this.pdf.internal.out("q");if(this.pdf.setPage(St),Ye){this.ctx.fontSize=this.pdf.internal.getFontSize();var Kt=new Qe(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Kt}},Xe.prototype.restore=function(Ye){Ye=typeof Ye!="boolean"||Ye;for(var St=this.pdf.internal.getCurrentPageInfo().pageNumber,Nt=0;Nt<this.pdf.internal.getNumberOfPages();Nt++)this.pdf.setPage(Nt+1),this.pdf.internal.out("Q");this.pdf.setPage(St),Ye&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},Xe.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var lt=function(Ye){var St,Nt,Kt,qt;if(Ye.isCanvasGradient===!0&&(Ye=Ye.getColor()),!Ye)return{r:0,g:0,b:0,a:0,style:Ye};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(Ye))St=0,Nt=0,Kt=0,qt=0;else{var cr=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(Ye);if(cr!==null)St=parseInt(cr[1]),Nt=parseInt(cr[2]),Kt=parseInt(cr[3]),qt=1;else if((cr=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(Ye))!==null)St=parseInt(cr[1]),Nt=parseInt(cr[2]),Kt=parseInt(cr[3]),qt=parseFloat(cr[4]);else{if(qt=1,typeof Ye=="string"&&Ye.charAt(0)!=="#"){var Cr=new j(Ye);Ye=Cr.ok?Cr.toHex():"#000000"}Ye.length===4?(St=Ye.substring(1,2),St+=St,Nt=Ye.substring(2,3),Nt+=Nt,Kt=Ye.substring(3,4),Kt+=Kt):(St=Ye.substring(1,3),Nt=Ye.substring(3,5),Kt=Ye.substring(5,7)),St=parseInt(St,16),Nt=parseInt(Nt,16),Kt=parseInt(Kt,16)}}return{r:St,g:Nt,b:Kt,a:qt,style:Ye}},Ce=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},_t=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};Xe.prototype.fillText=function(Ye,St,Nt,Kt){if(isNaN(St)||isNaN(Nt)||typeof Ye!="string")throw x.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Kt=isNaN(Kt)?void 0:Kt,!Ce.call(this)){var qt=ar(this.ctx.transform.rotation),cr=this.ctx.transform.scaleX;ft.call(this,{text:Ye,x:St,y:Nt,scale:cr,angle:qt,align:this.textAlign,maxWidth:Kt})}},Xe.prototype.strokeText=function(Ye,St,Nt,Kt){if(isNaN(St)||isNaN(Nt)||typeof Ye!="string")throw x.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!_t.call(this)){Kt=isNaN(Kt)?void 0:Kt;var qt=ar(this.ctx.transform.rotation),cr=this.ctx.transform.scaleX;ft.call(this,{text:Ye,x:St,y:Nt,scale:cr,renderingMode:"stroke",angle:qt,align:this.textAlign,maxWidth:Kt})}},Xe.prototype.measureText=function(Ye){if(typeof Ye!="string")throw x.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var St=this.pdf,Nt=this.pdf.internal.scaleFactor,Kt=St.internal.getFontSize(),qt=St.getStringUnitWidth(Ye)*Kt/St.internal.scaleFactor;return new function(cr){var Cr=(cr=cr||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Cr}}),this}({width:qt*=Math.round(96*Nt/72*1e4)/1e4})},Xe.prototype.scale=function(Ye,St){if(isNaN(Ye)||isNaN(St))throw x.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Nt=new fe(Ye,0,0,St,0,0);this.ctx.transform=this.ctx.transform.multiply(Nt)},Xe.prototype.rotate=function(Ye){if(isNaN(Ye))throw x.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var St=new fe(Math.cos(Ye),Math.sin(Ye),-Math.sin(Ye),Math.cos(Ye),0,0);this.ctx.transform=this.ctx.transform.multiply(St)},Xe.prototype.translate=function(Ye,St){if(isNaN(Ye)||isNaN(St))throw x.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Nt=new fe(1,0,0,1,Ye,St);this.ctx.transform=this.ctx.transform.multiply(Nt)},Xe.prototype.transform=function(Ye,St,Nt,Kt,qt,cr){if(isNaN(Ye)||isNaN(St)||isNaN(Nt)||isNaN(Kt)||isNaN(qt)||isNaN(cr))throw x.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Cr=new fe(Ye,St,Nt,Kt,qt,cr);this.ctx.transform=this.ctx.transform.multiply(Cr)},Xe.prototype.setTransform=function(Ye,St,Nt,Kt,qt,cr){Ye=isNaN(Ye)?1:Ye,St=isNaN(St)?0:St,Nt=isNaN(Nt)?0:Nt,Kt=isNaN(Kt)?1:Kt,qt=isNaN(qt)?0:qt,cr=isNaN(cr)?0:cr,this.ctx.transform=new fe(Ye,St,Nt,Kt,qt,cr)};var at=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};Xe.prototype.drawImage=function(Ye,St,Nt,Kt,qt,cr,Cr,Sr,Vr){var un=this.pdf.getImageProperties(Ye),bn=1,Rn=1,yi=1,mt=1;Kt!==void 0&&Sr!==void 0&&(yi=Sr/Kt,mt=Vr/qt,bn=un.width/Kt*Sr/Kt,Rn=un.height/qt*Vr/qt),cr===void 0&&(cr=St,Cr=Nt,St=0,Nt=0),Kt!==void 0&&Sr===void 0&&(Sr=Kt,Vr=qt),Kt===void 0&&Sr===void 0&&(Sr=un.width,Vr=un.height);var _n=this.ctx.transform.decompose(),Ri=ar(_n.rotate.shx),Sn=new fe,tn=(Sn=(Sn=(Sn=Sn.multiply(_n.translate)).multiply(_n.skew)).multiply(_n.scale)).applyToRectangle(new de(cr-St*yi,Cr-Nt*mt,Kt*bn,qt*Rn));if(this.autoPaging){for(var ji,Fn=Tt.call(this,tn),Hn=[],$n=0;$n<Fn.length;$n+=1)Hn.indexOf(Fn[$n])===-1&&Hn.push(Fn[$n]);Yt(Hn);for(var ga=Hn[0],Di=Hn[Hn.length-1],Gn=ga;Gn<Di+1;Gn++){this.pdf.setPage(Gn);var ns=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],_i=Gn===1?this.posY+this.margin[0]:this.margin[0],Un=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ki=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Wn=Gn===1?0:Un+(Gn-2)*ki;if(this.ctx.clip_path.length!==0){var Gi=this.path;ji=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Bt(ji,this.posX+this.margin[3],-Wn+_i+this.ctx.prevPageLastElemOffset),tt.call(this,"fill",!0),this.path=Gi}var is=JSON.parse(JSON.stringify(tn));is=Bt([is],this.posX+this.margin[3],-Wn+_i+this.ctx.prevPageLastElemOffset)[0];var Zi=(Gn>ga||Gn<Di)&&at.call(this);Zi&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ns,ki,null).clip().discardPath()),this.pdf.addImage(Ye,"JPEG",is.x,is.y,is.w,is.h,null,null,Ri),Zi&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(Ye,"JPEG",tn.x,tn.y,tn.w,tn.h,null,null,Ri)};var Tt=function(Ye,St,Nt){var Kt=[];St=St||this.pdf.internal.pageSize.width,Nt=Nt||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var qt=this.posY+this.ctx.prevPageLastElemOffset;switch(Ye.type){default:case"mt":case"lt":Kt.push(Math.floor((Ye.y+qt)/Nt)+1);break;case"arc":Kt.push(Math.floor((Ye.y+qt-Ye.radius)/Nt)+1),Kt.push(Math.floor((Ye.y+qt+Ye.radius)/Nt)+1);break;case"qct":var cr=Ir(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Ye.x1,Ye.y1,Ye.x,Ye.y);Kt.push(Math.floor((cr.y+qt)/Nt)+1),Kt.push(Math.floor((cr.y+cr.h+qt)/Nt)+1);break;case"bct":var Cr=hn(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Ye.x1,Ye.y1,Ye.x2,Ye.y2,Ye.x,Ye.y);Kt.push(Math.floor((Cr.y+qt)/Nt)+1),Kt.push(Math.floor((Cr.y+Cr.h+qt)/Nt)+1);break;case"rect":Kt.push(Math.floor((Ye.y+qt)/Nt)+1),Kt.push(Math.floor((Ye.y+Ye.h+qt)/Nt)+1)}for(var Sr=0;Sr<Kt.length;Sr+=1)for(;this.pdf.internal.getNumberOfPages()<Kt[Sr];)rt.call(this);return Kt},rt=function(){var Ye=this.fillStyle,St=this.strokeStyle,Nt=this.font,Kt=this.lineCap,qt=this.lineWidth,cr=this.lineJoin;this.pdf.addPage(),this.fillStyle=Ye,this.strokeStyle=St,this.font=Nt,this.lineCap=Kt,this.lineWidth=qt,this.lineJoin=cr},Bt=function(Ye,St,Nt){for(var Kt=0;Kt<Ye.length;Kt++)switch(Ye[Kt].type){case"bct":Ye[Kt].x2+=St,Ye[Kt].y2+=Nt;case"qct":Ye[Kt].x1+=St,Ye[Kt].y1+=Nt;default:Ye[Kt].x+=St,Ye[Kt].y+=Nt}return Ye},Yt=function(Ye){return Ye.sort(function(St,Nt){return St-Nt})},kt=function(Ye,St){var Nt=this.fillStyle,Kt=this.strokeStyle,qt=this.lineCap,cr=this.lineWidth,Cr=Math.abs(cr*this.ctx.transform.scaleX),Sr=this.lineJoin;if(this.autoPaging){for(var Vr,un,bn=JSON.parse(JSON.stringify(this.path)),Rn=JSON.parse(JSON.stringify(this.path)),yi=[],mt=0;mt<Rn.length;mt++)if(Rn[mt].x!==void 0)for(var _n=Tt.call(this,Rn[mt]),Ri=0;Ri<_n.length;Ri+=1)yi.indexOf(_n[Ri])===-1&&yi.push(_n[Ri]);for(var Sn=0;Sn<yi.length;Sn++)for(;this.pdf.internal.getNumberOfPages()<yi[Sn];)rt.call(this);Yt(yi);for(var tn=yi[0],ji=yi[yi.length-1],Fn=tn;Fn<ji+1;Fn++){this.pdf.setPage(Fn),this.fillStyle=Nt,this.strokeStyle=Kt,this.lineCap=qt,this.lineWidth=Cr,this.lineJoin=Sr;var Hn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],$n=Fn===1?this.posY+this.margin[0]:this.margin[0],ga=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Di=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Gn=Fn===1?0:ga+(Fn-2)*Di;if(this.ctx.clip_path.length!==0){var ns=this.path;Vr=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Bt(Vr,this.posX+this.margin[3],-Gn+$n+this.ctx.prevPageLastElemOffset),tt.call(this,Ye,!0),this.path=ns}if(un=JSON.parse(JSON.stringify(bn)),this.path=Bt(un,this.posX+this.margin[3],-Gn+$n+this.ctx.prevPageLastElemOffset),St===!1||Fn===0){var _i=(Fn>tn||Fn<ji)&&at.call(this);_i&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Hn,Di,null).clip().discardPath()),tt.call(this,Ye,St),_i&&this.pdf.restoreGraphicsState()}this.lineWidth=cr}this.path=bn}else this.lineWidth=Cr,tt.call(this,Ye,St),this.lineWidth=cr},tt=function(Ye,St){if((Ye!=="stroke"||St||!_t.call(this))&&(Ye==="stroke"||St||!Ce.call(this))){for(var Nt,Kt,qt=[],cr=this.path,Cr=0;Cr<cr.length;Cr++){var Sr=cr[Cr];switch(Sr.type){case"begin":qt.push({begin:!0});break;case"close":qt.push({close:!0});break;case"mt":qt.push({start:Sr,deltas:[],abs:[]});break;case"lt":var Vr=qt.length;if(cr[Cr-1]&&!isNaN(cr[Cr-1].x)&&(Nt=[Sr.x-cr[Cr-1].x,Sr.y-cr[Cr-1].y],Vr>0)){for(;Vr>=0;Vr--)if(qt[Vr-1].close!==!0&&qt[Vr-1].begin!==!0){qt[Vr-1].deltas.push(Nt),qt[Vr-1].abs.push(Sr);break}}break;case"bct":Nt=[Sr.x1-cr[Cr-1].x,Sr.y1-cr[Cr-1].y,Sr.x2-cr[Cr-1].x,Sr.y2-cr[Cr-1].y,Sr.x-cr[Cr-1].x,Sr.y-cr[Cr-1].y],qt[qt.length-1].deltas.push(Nt);break;case"qct":var un=cr[Cr-1].x+2/3*(Sr.x1-cr[Cr-1].x),bn=cr[Cr-1].y+2/3*(Sr.y1-cr[Cr-1].y),Rn=Sr.x+2/3*(Sr.x1-Sr.x),yi=Sr.y+2/3*(Sr.y1-Sr.y),mt=Sr.x,_n=Sr.y;Nt=[un-cr[Cr-1].x,bn-cr[Cr-1].y,Rn-cr[Cr-1].x,yi-cr[Cr-1].y,mt-cr[Cr-1].x,_n-cr[Cr-1].y],qt[qt.length-1].deltas.push(Nt);break;case"arc":qt.push({deltas:[],abs:[],arc:!0}),Array.isArray(qt[qt.length-1].abs)&&qt[qt.length-1].abs.push(Sr)}}Kt=St?null:Ye==="stroke"?"stroke":"fill";for(var Ri=!1,Sn=0;Sn<qt.length;Sn++)if(qt[Sn].arc)for(var tn=qt[Sn].abs,ji=0;ji<tn.length;ji++){var Fn=tn[ji];Fn.type==="arc"?nr.call(this,Fn.x,Fn.y,Fn.radius,Fn.startAngle,Fn.endAngle,Fn.counterclockwise,void 0,St,!Ri):Ot.call(this,Fn.x,Fn.y),Ri=!0}else if(qt[Sn].close===!0)this.pdf.internal.out("h"),Ri=!1;else if(qt[Sn].begin!==!0){var Hn=qt[Sn].start.x,$n=qt[Sn].start.y;Pt.call(this,qt[Sn].deltas,Hn,$n),Ri=!0}Kt&&Rt.call(this,Kt),St&&yr.call(this)}},Vt=function(Ye){var St=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Nt=St*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return Ye-Nt;case"top":return Ye+St-Nt;case"hanging":return Ye+St-2*Nt;case"middle":return Ye+St/2-Nt;default:return Ye}},Er=function(Ye){return Ye+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};Xe.prototype.createLinearGradient=function(){var Ye=function(){};return Ye.colorStops=[],Ye.addColorStop=function(St,Nt){this.colorStops.push([St,Nt])},Ye.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},Ye.isCanvasGradient=!0,Ye},Xe.prototype.createPattern=function(){return this.createLinearGradient()},Xe.prototype.createRadialGradient=function(){return this.createLinearGradient()};var nr=function(Ye,St,Nt,Kt,qt,cr,Cr,Sr,Vr){for(var un=Tr.call(this,Nt,Kt,qt,cr),bn=0;bn<un.length;bn++){var Rn=un[bn];bn===0&&(Vr?it.call(this,Rn.x1+Ye,Rn.y1+St):Ot.call(this,Rn.x1+Ye,Rn.y1+St)),Ar.call(this,Ye,St,Rn.x2,Rn.y2,Rn.x3,Rn.y3,Rn.x4,Rn.y4)}Sr?yr.call(this):Rt.call(this,Cr)},Rt=function(Ye){switch(Ye){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},yr=function(){this.pdf.clip(),this.pdf.discardPath()},it=function(Ye,St){this.pdf.internal.out(D(Ye)+" "+K(St)+" m")},ft=function(Ye){var St;switch(Ye.align){case"right":case"end":St="right";break;case"center":St="center";break;default:St="left"}var Nt,Kt,qt,cr=this.pdf.getTextDimensions(Ye.text),Cr=Vt.call(this,Ye.y),Sr=Er.call(this,Cr)-cr.h,Vr=this.ctx.transform.applyToPoint(new ve(Ye.x,Cr));if(this.autoPaging){var un=this.ctx.transform.decompose(),bn=new fe;bn=(bn=(bn=bn.multiply(un.translate)).multiply(un.skew)).multiply(un.scale);for(var Rn=this.ctx.transform.applyToRectangle(new de(Ye.x,Cr,cr.w,cr.h)),yi=bn.applyToRectangle(new de(Ye.x,Sr,cr.w,cr.h)),mt=Tt.call(this,yi),_n=[],Ri=0;Ri<mt.length;Ri+=1)_n.indexOf(mt[Ri])===-1&&_n.push(mt[Ri]);Yt(_n);for(var Sn=_n[0],tn=_n[_n.length-1],ji=Sn;ji<tn+1;ji++){this.pdf.setPage(ji);var Fn=ji===1?this.posY+this.margin[0]:this.margin[0],Hn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],$n=this.pdf.internal.pageSize.height-this.margin[2],ga=$n-this.margin[0],Di=this.pdf.internal.pageSize.width-this.margin[1],Gn=Di-this.margin[3],ns=ji===1?0:Hn+(ji-2)*ga;if(this.ctx.clip_path.length!==0){var _i=this.path;Nt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Bt(Nt,this.posX+this.margin[3],-1*ns+Fn),tt.call(this,"fill",!0),this.path=_i}var Un=Bt([JSON.parse(JSON.stringify(yi))],this.posX+this.margin[3],-ns+Fn+this.ctx.prevPageLastElemOffset)[0];Ye.scale>=.01&&(Kt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Kt*Ye.scale),qt=this.lineWidth,this.lineWidth=qt*Ye.scale);var ki=this.autoPaging!=="text";if(ki||Un.y+Un.h<=$n){if(ki||Un.y>=Fn&&Un.x<=Di){var Wn=ki?Ye.text:this.pdf.splitTextToSize(Ye.text,Ye.maxWidth||Di-Un.x)[0],Gi=Bt([JSON.parse(JSON.stringify(Rn))],this.posX+this.margin[3],-ns+Fn+this.ctx.prevPageLastElemOffset)[0],is=ki&&(ji>Sn||ji<tn)&&at.call(this);is&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Gn,ga,null).clip().discardPath()),this.pdf.text(Wn,Gi.x,Gi.y,{angle:Ye.angle,align:St,renderingMode:Ye.renderingMode}),is&&this.pdf.restoreGraphicsState()}}else Un.y<$n&&(this.ctx.prevPageLastElemOffset+=$n-Un.y);Ye.scale>=.01&&(this.pdf.setFontSize(Kt),this.lineWidth=qt)}}else Ye.scale>=.01&&(Kt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Kt*Ye.scale),qt=this.lineWidth,this.lineWidth=qt*Ye.scale),this.pdf.text(Ye.text,Vr.x+this.posX,Vr.y+this.posY,{angle:Ye.angle,align:St,renderingMode:Ye.renderingMode,maxWidth:Ye.maxWidth}),Ye.scale>=.01&&(this.pdf.setFontSize(Kt),this.lineWidth=qt)},Ot=function(Ye,St,Nt,Kt){Nt=Nt||0,Kt=Kt||0,this.pdf.internal.out(D(Ye+Nt)+" "+K(St+Kt)+" l")},Pt=function(Ye,St,Nt){return this.pdf.lines(Ye,St,Nt,null,null)},Ar=function(Ye,St,Nt,Kt,qt,cr,Cr,Sr){this.pdf.internal.out([N(X(Nt+Ye)),N(ee(Kt+St)),N(X(qt+Ye)),N(ee(cr+St)),N(X(Cr+Ye)),N(ee(Sr+St)),"c"].join(" "))},Tr=function(Ye,St,Nt,Kt){for(var qt=2*Math.PI,cr=Math.PI/2;St>Nt;)St-=qt;var Cr=Math.abs(Nt-St);Cr<qt&&Kt&&(Cr=qt-Cr);for(var Sr=[],Vr=Kt?-1:1,un=St;Cr>1e-5;){var bn=un+Vr*Math.min(Cr,cr);Sr.push(Lr.call(this,Ye,un,bn)),Cr-=Math.abs(bn-un),un=bn}return Sr},Lr=function(Ye,St,Nt){var Kt=(Nt-St)/2,qt=Ye*Math.cos(Kt),cr=Ye*Math.sin(Kt),Cr=qt,Sr=-cr,Vr=Cr*Cr+Sr*Sr,un=Vr+Cr*qt+Sr*cr,bn=4/3*(Math.sqrt(2*Vr*un)-un)/(Cr*cr-Sr*qt),Rn=Cr-bn*Sr,yi=Sr+bn*Cr,mt=Rn,_n=-yi,Ri=Kt+St,Sn=Math.cos(Ri),tn=Math.sin(Ri);return{x1:Ye*Math.cos(St),y1:Ye*Math.sin(St),x2:Rn*Sn-yi*tn,y2:Rn*tn+yi*Sn,x3:mt*Sn-_n*tn,y3:mt*tn+_n*Sn,x4:Ye*Math.cos(Nt),y4:Ye*Math.sin(Nt)}},ar=function(Ye){return 180*Ye/Math.PI},Ir=function(Ye,St,Nt,Kt,qt,cr){var Cr=Ye+.5*(Nt-Ye),Sr=St+.5*(Kt-St),Vr=qt+.5*(Nt-qt),un=cr+.5*(Kt-cr),bn=Math.min(Ye,qt,Cr,Vr),Rn=Math.max(Ye,qt,Cr,Vr),yi=Math.min(St,cr,Sr,un),mt=Math.max(St,cr,Sr,un);return new de(bn,yi,Rn-bn,mt-yi)},hn=function(Ye,St,Nt,Kt,qt,cr,Cr,Sr){var Vr,un,bn,Rn,yi,mt,_n,Ri,Sn,tn,ji,Fn,Hn,$n,ga=Nt-Ye,Di=Kt-St,Gn=qt-Nt,ns=cr-Kt,_i=Cr-qt,Un=Sr-cr;for(un=0;un<41;un++)Sn=(_n=(bn=Ye+(Vr=un/40)*ga)+Vr*((yi=Nt+Vr*Gn)-bn))+Vr*(yi+Vr*(qt+Vr*_i-yi)-_n),tn=(Ri=(Rn=St+Vr*Di)+Vr*((mt=Kt+Vr*ns)-Rn))+Vr*(mt+Vr*(cr+Vr*Un-mt)-Ri),un==0?(ji=Sn,Fn=tn,Hn=Sn,$n=tn):(ji=Math.min(ji,Sn),Fn=Math.min(Fn,tn),Hn=Math.max(Hn,Sn),$n=Math.max($n,tn));return new de(Math.round(ji),Math.round(Fn),Math.round(Hn-ji),Math.round($n-Fn))},Zr=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var Ye,St,Nt=(Ye=this.ctx.lineDash,St=this.ctx.lineDashOffset,JSON.stringify({lineDash:Ye,lineDashOffset:St}));this.prevLineDash!==Nt&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Nt)}}})(et.API),(function(B){var N=function(ve){var de,fe,ke,Qe,Xe,lt,Ce,_t,at,Tt;for(fe=[],ke=0,Qe=(ve+=de="\0\0\0\0".slice(ve.length%4||4)).length;Qe>ke;ke+=4)(Xe=(ve.charCodeAt(ke)<<24)+(ve.charCodeAt(ke+1)<<16)+(ve.charCodeAt(ke+2)<<8)+ve.charCodeAt(ke+3))!==0?(lt=(Xe=((Xe=((Xe=((Xe=(Xe-(Tt=Xe%85))/85)-(at=Xe%85))/85)-(_t=Xe%85))/85)-(Ce=Xe%85))/85)%85,fe.push(lt+33,Ce+33,_t+33,at+33,Tt+33)):fe.push(122);return(function(rt,Bt){for(var Yt=Bt;Yt>0;Yt--)rt.pop()})(fe,de.length),String.fromCharCode.apply(String,fe)+"~>"},D=function(ve){var de,fe,ke,Qe,Xe,lt=String,Ce="length",_t=255,at="charCodeAt",Tt="slice",rt="replace";for(ve[Tt](-2),ve=ve[Tt](0,-2)[rt](/\s/g,"")[rt]("z","!!!!!"),ke=[],Qe=0,Xe=(ve+=de="uuuuu"[Tt](ve[Ce]%5||5))[Ce];Xe>Qe;Qe+=5)fe=52200625*(ve[at](Qe)-33)+614125*(ve[at](Qe+1)-33)+7225*(ve[at](Qe+2)-33)+85*(ve[at](Qe+3)-33)+(ve[at](Qe+4)-33),ke.push(_t&fe>>24,_t&fe>>16,_t&fe>>8,_t&fe);return(function(Bt,Yt){for(var kt=Yt;kt>0;kt--)Bt.pop()})(ke,de[Ce]),lt.fromCharCode.apply(lt,ke)},K=function(ve){return ve.split("").map(function(de){return("0"+de.charCodeAt().toString(16)).slice(-2)}).join("")+">"},X=function(ve){var de=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((ve=ve.replace(/\s/g,"")).indexOf(">")!==-1&&(ve=ve.substr(0,ve.indexOf(">"))),ve.length%2&&(ve+="0"),de.test(ve)===!1)return"";for(var fe="",ke=0;ke<ve.length;ke+=2)fe+=String.fromCharCode("0x"+(ve[ke]+ve[ke+1]));return fe},ee=function(ve){for(var de=new Uint8Array(ve.length),fe=ve.length;fe--;)de[fe]=ve.charCodeAt(fe);return(de=(0,f.zlibSync)(de)).reduce(function(ke,Qe){return ke+String.fromCharCode(Qe)},"")};B.processDataByFilters=function(ve,de){var fe=0,ke=ve||"",Qe=[];for(typeof(de=de||[])=="string"&&(de=[de]),fe=0;fe<de.length;fe+=1)switch(de[fe]){case"ASCII85Decode":case"/ASCII85Decode":ke=D(ke),Qe.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":ke=N(ke),Qe.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":ke=X(ke),Qe.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":ke=K(ke),Qe.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":ke=ee(ke),Qe.push("/FlateDecode");break;default:throw new Error('The filter: "'+de[fe]+'" is not implemented')}return{data:ke,reverseChain:Qe.reverse().join(" ")}}})(et.API),(function(B){B.loadFile=function(N,D,K){return(function(X,ee,ve){ee=ee!==!1,ve=typeof ve=="function"?ve:function(){};var de=void 0;try{de=(function(fe,ke,Qe){var Xe=new XMLHttpRequest,lt=0,Ce=function(_t){var at=_t.length,Tt=[],rt=String.fromCharCode;for(lt=0;lt<at;lt+=1)Tt.push(rt(255&_t.charCodeAt(lt)));return Tt.join("")};if(Xe.open("GET",fe,!ke),Xe.overrideMimeType("text/plain; charset=x-user-defined"),ke===!1&&(Xe.onload=function(){Xe.status===200?Qe(Ce(this.responseText)):Qe(void 0)}),Xe.send(null),ke&&Xe.status===200)return Ce(Xe.responseText)})(X,ee,ve)}catch{}return de})(N,D,K)},B.allowFsRead=void 0,B.loadImageFile=B.loadFile})(et.API),(function(B){function N(){return(v.html2canvas?Promise.resolve(v.html2canvas):Promise.resolve().then(l.t.bind(l,"html2canvas",23))).catch(function(de){return Promise.reject(new Error("Could not load html2canvas: "+de))}).then(function(de){return de.default?de.default:de})}function D(){return(v.DOMPurify?Promise.resolve(v.DOMPurify):Promise.resolve().then(l.bind(l,"./node_modules/dompurify/dist/purify.es.mjs"))).catch(function(de){return Promise.reject(new Error("Could not load dompurify: "+de))}).then(function(de){return de.default?de.default:de})}var K=function(de){var fe=(0,d.default)(de);return fe==="undefined"?"undefined":fe==="string"||de instanceof String?"string":fe==="number"||de instanceof Number?"number":fe==="function"||de instanceof Function?"function":de&&de.constructor===Array?"array":de&&de.nodeType===1?"element":fe==="object"?"object":"unknown"},X=function(de,fe){var ke=document.createElement(de);for(var Qe in fe.className&&(ke.className=fe.className),fe.innerHTML&&fe.dompurify&&(ke.innerHTML=fe.dompurify.sanitize(fe.innerHTML)),fe.style)ke.style[Qe]=fe.style[Qe];return ke},ee=function de(fe,ke){for(var Qe=fe.nodeType===3?document.createTextNode(fe.nodeValue):fe.cloneNode(!1),Xe=fe.firstChild;Xe;Xe=Xe.nextSibling)ke!==!0&&Xe.nodeType===1&&Xe.nodeName==="SCRIPT"||Qe.appendChild(de(Xe,ke));return fe.nodeType===1&&(fe.nodeName==="CANVAS"?(Qe.width=fe.width,Qe.height=fe.height,Qe.getContext("2d").drawImage(fe,0,0)):fe.nodeName!=="TEXTAREA"&&fe.nodeName!=="SELECT"||(Qe.value=fe.value),Qe.addEventListener("load",function(){Qe.scrollTop=fe.scrollTop,Qe.scrollLeft=fe.scrollLeft},!0)),Qe},ve=function de(fe){var ke=Object.assign(de.convert(Promise.resolve()),JSON.parse(JSON.stringify(de.template))),Qe=de.convert(Promise.resolve(),ke);return(Qe=Qe.setProgress(1,de,1,[de])).set(fe)};(ve.prototype=Object.create(Promise.prototype)).constructor=ve,ve.convert=function(de,fe){return de.__proto__=fe||ve.prototype,de},ve.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},ve.prototype.from=function(de,fe){return this.then(function(){switch(fe=fe||(function(ke){switch(K(ke)){case"string":return"string";case"element":return ke.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(de),fe){case"string":return this.then(D).then(function(ke){return this.set({src:X("div",{innerHTML:de,dompurify:ke})})});case"element":return this.set({src:de});case"canvas":return this.set({canvas:de});case"img":return this.set({img:de});default:return this.error("Unknown source type.")}})},ve.prototype.to=function(de){switch(de){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},ve.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var de={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},fe=ee(this.prop.src,this.opt.html2canvas.javascriptEnabled);fe.tagName==="BODY"&&(de.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=X("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=X("div",{className:"html2pdf__container",style:de}),this.prop.container.appendChild(fe),this.prop.container.firstChild.appendChild(X("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},ve.prototype.toCanvas=function(){var de=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(de).then(N).then(function(fe){var ke=Object.assign({},this.opt.html2canvas);return delete ke.onrendered,fe(this.prop.container,ke)}).then(function(fe){(this.opt.html2canvas.onrendered||function(){})(fe),this.prop.canvas=fe,document.body.removeChild(this.prop.overlay)})},ve.prototype.toContext2d=function(){var de=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(de).then(N).then(function(fe){var ke=this.opt.jsPDF,Qe=this.opt.fontFaces,Xe=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,lt=Object.assign({async:!0,allowTaint:!0,scale:Xe,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete lt.onrendered,ke.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,ke.context2d.posX=this.opt.x,ke.context2d.posY=this.opt.y,ke.context2d.margin=this.opt.margin,ke.context2d.fontFaces=Qe,Qe)for(var Ce=0;Ce<Qe.length;++Ce){var _t=Qe[Ce],at=_t.src.find(function(Tt){return Tt.format==="truetype"});at&&ke.addFont(at.url,_t.ref.name,_t.ref.style)}return lt.windowHeight=lt.windowHeight||0,lt.windowHeight=lt.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):lt.windowHeight,ke.context2d.save(!0),fe(this.prop.container,lt)}).then(function(fe){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(fe),this.prop.canvas=fe,document.body.removeChild(this.prop.overlay)})},ve.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var de=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=de})},ve.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},ve.prototype.output=function(de,fe,ke){return(ke=ke||"pdf").toLowerCase()==="img"||ke.toLowerCase()==="image"?this.outputImg(de,fe):this.outputPdf(de,fe)},ve.prototype.outputPdf=function(de,fe){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(de,fe)})},ve.prototype.outputImg=function(de){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(de){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+de+'" is not supported.'}})},ve.prototype.save=function(de){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(de?{filename:de}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},ve.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},ve.prototype.set=function(de){if(K(de)!=="object")return this;var fe=Object.keys(de||{}).map(function(ke){if(ke in ve.template.prop)return function(){this.prop[ke]=de[ke]};switch(ke){case"margin":return this.setMargin.bind(this,de.margin);case"jsPDF":return function(){return this.opt.jsPDF=de.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,de.pageSize);default:return function(){this.opt[ke]=de[ke]}}},this);return this.then(function(){return this.thenList(fe)})},ve.prototype.get=function(de,fe){return this.then(function(){var ke=de in ve.template.prop?this.prop[de]:this.opt[de];return fe?fe(ke):ke})},ve.prototype.setMargin=function(de){return this.then(function(){switch(K(de)){case"number":de=[de,de,de,de];case"array":if(de.length===2&&(de=[de[0],de[1],de[0],de[1]]),de.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=de}).then(this.setPageSize)},ve.prototype.setPageSize=function(de){function fe(ke,Qe){return Math.floor(ke*Qe/72*96)}return this.then(function(){(de=de||et.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(de.inner={width:de.width-this.opt.margin[1]-this.opt.margin[3],height:de.height-this.opt.margin[0]-this.opt.margin[2]},de.inner.px={width:fe(de.inner.width,de.k),height:fe(de.inner.height,de.k)},de.inner.ratio=de.inner.height/de.inner.width),this.prop.pageSize=de})},ve.prototype.setProgress=function(de,fe,ke,Qe){return de!=null&&(this.progress.val=de),fe!=null&&(this.progress.state=fe),ke!=null&&(this.progress.n=ke),Qe!=null&&(this.progress.stack=Qe),this.progress.ratio=this.progress.val/this.progress.state,this},ve.prototype.updateProgress=function(de,fe,ke,Qe){return this.setProgress(de?this.progress.val+de:null,fe||null,ke?this.progress.n+ke:null,Qe?this.progress.stack.concat(Qe):null)},ve.prototype.then=function(de,fe){var ke=this;return this.thenCore(de,fe,function(Qe,Xe){return ke.updateProgress(null,null,1,[Qe]),Promise.prototype.then.call(this,function(lt){return ke.updateProgress(null,Qe),lt}).then(Qe,Xe).then(function(lt){return ke.updateProgress(1),lt})})},ve.prototype.thenCore=function(de,fe,ke){ke=ke||Promise.prototype.then;var Qe=this;de&&(de=de.bind(Qe)),fe&&(fe=fe.bind(Qe));var Xe=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?Qe:ve.convert(Object.assign({},Qe),Promise.prototype),lt=ke.call(Xe,de,fe);return ve.convert(lt,Qe.__proto__)},ve.prototype.thenExternal=function(de,fe){return Promise.prototype.then.call(this,de,fe)},ve.prototype.thenList=function(de){var fe=this;return de.forEach(function(ke){fe=fe.thenCore(ke)}),fe},ve.prototype.catch=function(de){de&&(de=de.bind(this));var fe=Promise.prototype.catch.call(this,de);return ve.convert(fe,this)},ve.prototype.catchExternal=function(de){return Promise.prototype.catch.call(this,de)},ve.prototype.error=function(de){return this.then(function(){throw new Error(de)})},ve.prototype.using=ve.prototype.set,ve.prototype.saveAs=ve.prototype.save,ve.prototype.export=ve.prototype.output,ve.prototype.run=ve.prototype.then,et.getPageSize=function(de,fe,ke){if((0,d.default)(de)==="object"){var Qe=de;de=Qe.orientation,fe=Qe.unit||fe,ke=Qe.format||ke}fe=fe||"mm",ke=ke||"a4",de=(""+(de||"P")).toLowerCase();var Xe,lt=(""+ke).toLowerCase(),Ce={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(fe){case"pt":Xe=1;break;case"mm":Xe=2.834645669291339;break;case"cm":Xe=28.346456692913385;break;case"in":Xe=72;break;case"px":Xe=.75;break;case"pc":case"em":Xe=12;break;case"ex":Xe=6;break;default:throw"Invalid unit: "+fe}var _t,at=0,Tt=0;if(Ce.hasOwnProperty(lt))at=Ce[lt][1]/Xe,Tt=Ce[lt][0]/Xe;else try{at=ke[1],Tt=ke[0]}catch{throw new Error("Invalid format: "+ke)}if(de==="p"||de==="portrait")de="p",Tt>at&&(_t=Tt,Tt=at,at=_t);else{if(de!=="l"&&de!=="landscape")throw"Invalid orientation: "+de;de="l",at>Tt&&(_t=Tt,Tt=at,at=_t)}return{width:Tt,height:at,unit:fe,k:Xe,orientation:de}},B.html=function(de,fe){(fe=fe||{}).callback=fe.callback||function(){},fe.html2canvas=fe.html2canvas||{},fe.html2canvas.canvas=fe.html2canvas.canvas||this.canvas,fe.jsPDF=fe.jsPDF||this,fe.fontFaces=fe.fontFaces?fe.fontFaces.map(Ys):null;var ke=new ve(fe);return fe.worker?ke:ke.from(de).doCallback()}})(et.API),et.API.addJS=function(B){return Ya=B,this.internal.events.subscribe("postPutResources",function(){ml=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(ml+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),ta=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Ya+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){ml!==void 0&&ta!==void 0&&this.internal.out("/Names <</JavaScript "+ml+" 0 R>>")}),this},(function(B){var N;B.events.push(["postPutResources",function(){var D=this,K=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var X=D.outline.render().split(/\r\n/),ee=0;ee<X.length;ee++){var ve=X[ee],de=K.exec(ve);if(de!=null){var fe=de[1];D.internal.newObjectDeferredBegin(fe,!1)}D.internal.write(ve)}if(this.outline.createNamedDestinations){var ke=this.internal.pages.length,Qe=[];for(ee=0;ee<ke;ee++){var Xe=D.internal.newObject();Qe.push(Xe);var lt=D.internal.getPageInfo(ee+1);D.internal.write("<< /D["+lt.objId+" 0 R /XYZ null null null]>> endobj")}var Ce=D.internal.newObject();for(D.internal.write("<< /Names [ "),ee=0;ee<Qe.length;ee++)D.internal.write("(page_"+(ee+1)+")"+Qe[ee]+" 0 R");D.internal.write(" ] >>","endobj"),N=D.internal.newObject(),D.internal.write("<< /Dests "+Ce+" 0 R"),D.internal.write(">>","endobj")}}]),B.events.push(["putCatalog",function(){var D=this;D.outline.root.children.length>0&&(D.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&D.internal.write("/Names "+N+" 0 R"))}]),B.events.push(["initialized",function(){var D=this;D.outline={createNamedDestinations:!1,root:{children:[]}},D.outline.add=function(K,X,ee){var ve={title:X,options:ee,children:[]};return K==null&&(K=this.root),K.children.push(ve),ve},D.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=D,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},D.outline.genIds_r=function(K){K.id=D.internal.newObjectDeferred();for(var X=0;X<K.children.length;X++)this.genIds_r(K.children[X])},D.outline.renderRoot=function(K){this.objStart(K),this.line("/Type /Outlines"),K.children.length>0&&(this.line("/First "+this.makeRef(K.children[0])),this.line("/Last "+this.makeRef(K.children[K.children.length-1]))),this.line("/Count "+this.count_r({count:0},K)),this.objEnd()},D.outline.renderItems=function(K){for(var X=this.ctx.pdf.internal.getVerticalCoordinateString,ee=0;ee<K.children.length;ee++){var ve=K.children[ee];this.objStart(ve),this.line("/Title "+this.makeString(ve.title)),this.line("/Parent "+this.makeRef(K)),ee>0&&this.line("/Prev "+this.makeRef(K.children[ee-1])),ee<K.children.length-1&&this.line("/Next "+this.makeRef(K.children[ee+1])),ve.children.length>0&&(this.line("/First "+this.makeRef(ve.children[0])),this.line("/Last "+this.makeRef(ve.children[ve.children.length-1])));var de=this.count=this.count_r({count:0},ve);if(de>0&&this.line("/Count "+de),ve.options&&ve.options.pageNumber){var fe=D.internal.getPageInfo(ve.options.pageNumber);this.line("/Dest ["+fe.objId+" 0 R /XYZ 0 "+X(0)+" 0]")}this.objEnd()}for(var ke=0;ke<K.children.length;ke++)this.renderItems(K.children[ke])},D.outline.line=function(K){this.ctx.val+=K+`\r
`},D.outline.makeRef=function(K){return K.id+" 0 R"},D.outline.makeString=function(K){return"("+D.internal.pdfEscape(K)+")"},D.outline.objStart=function(K){this.ctx.val+=`\r
`+K.id+` 0 obj\r
<<\r
`},D.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},D.outline.count_r=function(K,X){for(var ee=0;ee<X.children.length;ee++)K.count++,this.count_r(K,X.children[ee]);return K.count}}])})(et.API),(function(B){var N=[192,193,194,195,196,197,198,199];B.processJPEG=function(D,K,X,ee,ve,de){var fe,ke=this.decode.DCT_DECODE,Qe=null;if(typeof D=="string"||this.__addimage__.isArrayBuffer(D)||this.__addimage__.isArrayBufferView(D)){switch(D=ve||D,D=this.__addimage__.isArrayBuffer(D)?new Uint8Array(D):D,fe=(function(Xe){for(var lt,Ce=256*Xe.charCodeAt(4)+Xe.charCodeAt(5),_t=Xe.length,at={width:0,height:0,numcomponents:1},Tt=4;Tt<_t;Tt+=2){if(Tt+=Ce,N.indexOf(Xe.charCodeAt(Tt+1))!==-1){lt=256*Xe.charCodeAt(Tt+5)+Xe.charCodeAt(Tt+6),at={width:256*Xe.charCodeAt(Tt+7)+Xe.charCodeAt(Tt+8),height:lt,numcomponents:Xe.charCodeAt(Tt+9)};break}Ce=256*Xe.charCodeAt(Tt+2)+Xe.charCodeAt(Tt+3)}return at})(D=this.__addimage__.isArrayBufferView(D)?this.__addimage__.arrayBufferToBinaryString(D):D),fe.numcomponents){case 1:de=this.color_spaces.DEVICE_GRAY;break;case 4:de=this.color_spaces.DEVICE_CMYK;break;case 3:de=this.color_spaces.DEVICE_RGB}Qe={data:D,width:fe.width,height:fe.height,colorSpace:de,bitsPerComponent:8,filter:ke,index:K,alias:X}}return Qe}})(et.API),et.API.processPNG=function(B,N,D,K){if(this.__addimage__.isArrayBuffer(B)&&(B=new Uint8Array(B)),this.__addimage__.isArrayBufferView(B)){var X,ee=(0,p.decode)(B,{checkCrc:!0}),ve=ee.width,de=ee.height,fe=ee.channels,ke=ee.palette,Qe=ee.depth;X=ke&&fe===1?(function(nr){for(var Rt=nr.width,yr=nr.height,it=nr.data,ft=nr.palette,Ot=nr.depth,Pt=!1,Ar=[],Tr=[],Lr=void 0,ar=!1,Ir=0,hn=0;hn<ft.length;hn++){var Zr=(0,A.default)(ft[hn],4),Ye=Zr[0],St=Zr[1],Nt=Zr[2],Kt=Zr[3];Ar.push(Ye,St,Nt),Kt!=null&&(Kt===0?(Ir++,Tr.length<1&&Tr.push(hn)):Kt<255&&(ar=!0))}if(ar||Ir>1){Pt=!0,Tr=void 0;var qt=Rt*yr;Lr=new Uint8Array(qt);for(var cr=new DataView(it.buffer),Cr=0;Cr<qt;Cr++){var Sr=Ca(cr,Cr,Ot),Vr=(0,A.default)(ft[Sr],4)[3];Lr[Cr]=Vr}}else Ir===0&&(Tr=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:Pt?8:void 0,colorBytes:it,alphaBytes:Lr,needSMask:Pt,palette:Ar,mask:Tr}})(ee):fe===2||fe===4?(function(nr){for(var Rt=nr.data,yr=nr.width,it=nr.height,ft=nr.channels,Ot=nr.depth,Pt=ft===2?"DeviceGray":"DeviceRGB",Ar=ft-1,Tr=yr*it,Lr=Ar,ar=Tr*Lr,Ir=1*Tr,hn=Math.ceil(ar*Ot/8),Zr=Math.ceil(Ir*Ot/8),Ye=new Uint8Array(hn),St=new Uint8Array(Zr),Nt=new DataView(Rt.buffer),Kt=new DataView(Ye.buffer),qt=new DataView(St.buffer),cr=!1,Cr=0;Cr<Tr;Cr++){for(var Sr=Cr*ft,Vr=0;Vr<Lr;Vr++)gi(Kt,Ca(Nt,Sr+Vr,Ot),Cr*Lr+Vr,Ot);var un=Ca(Nt,Sr+Lr,Ot);un<(1<<Ot)-1&&(cr=!0),gi(qt,un,1*Cr,Ot)}return{colorSpace:Pt,colorsPerPixel:Ar,sMaskBitsPerComponent:cr?Ot:void 0,colorBytes:Ye,alphaBytes:St,needSMask:cr}})(ee):(function(nr){var Rt=nr.data,yr=nr.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:yr,colorsPerPixel:yr==="DeviceGray"?1:3,colorBytes:Rt instanceof Uint16Array?(function(it){for(var ft=it.length,Ot=new Uint8Array(2*ft),Pt=new DataView(Ot.buffer,Ot.byteOffset,Ot.byteLength),Ar=0;Ar<ft;Ar++)Pt.setUint16(2*Ar,it[Ar],!1);return Ot})(Rt):Rt,needSMask:!1}})(ee);var Xe,lt,Ce,_t=X,at=_t.colorSpace,Tt=_t.colorsPerPixel,rt=_t.sMaskBitsPerComponent,Bt=_t.colorBytes,Yt=_t.alphaBytes,kt=_t.needSMask,tt=_t.palette,Vt=_t.mask,Er=null;return K!==et.API.image_compression.NONE&&typeof f.zlibSync=="function"?(Er=(function(nr){var Rt;switch(nr){case et.API.image_compression.FAST:Rt=11;break;case et.API.image_compression.MEDIUM:Rt=13;break;case et.API.image_compression.SLOW:Rt=14;break;default:Rt=12}return Rt})(K),Xe=this.decode.FLATE_DECODE,lt="/Predictor ".concat(Er," /Colors ").concat(Tt," /BitsPerComponent ").concat(Qe," /Columns ").concat(ve),B=pl(Bt,Math.ceil(ve*Tt*Qe/8),Tt,Qe,K),kt&&(Ce=pl(Yt,Math.ceil(ve*rt/8),1,rt,K))):(Xe=void 0,lt=void 0,B=Bt,kt&&(Ce=Yt)),(this.__addimage__.isArrayBuffer(B)||this.__addimage__.isArrayBufferView(B))&&(B=this.__addimage__.arrayBufferToBinaryString(B)),(Ce&&this.__addimage__.isArrayBuffer(Ce)||this.__addimage__.isArrayBufferView(Ce))&&(Ce=this.__addimage__.arrayBufferToBinaryString(Ce)),{alias:D,data:B,index:N,filter:Xe,decodeParameters:lt,transparency:Vt,palette:tt,sMask:Ce,predictor:Er,width:ve,height:de,bitsPerComponent:Qe,sMaskBitsPerComponent:rt,colorSpace:at}}},(function(B){B.processGIF89A=function(N,D,K,X){var ee=new hs(N),ve=ee.width,de=ee.height,fe=[];ee.decodeAndBlitFrameRGBA(0,fe);var ke={data:fe,width:ve,height:de},Qe=new Ho(100).encode(ke,100);return B.processJPEG.call(this,Qe,D,K,X)},B.processGIF87A=B.processGIF89A})(et.API),Hi.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var B=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(B);for(var N=0;N<B;N++){var D=this.datav.getUint8(this.pos++,!0),K=this.datav.getUint8(this.pos++,!0),X=this.datav.getUint8(this.pos++,!0),ee=this.datav.getUint8(this.pos++,!0);this.palette[N]={red:X,green:K,blue:D,quad:ee}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Hi.prototype.parseBGR=function(){this.pos=this.offset;try{var B="bit"+this.bitPP,N=this.width*this.height*4;this.data=new Uint8Array(N),this[B]()}catch(D){x.log("bit decode error:"+D)}},Hi.prototype.bit1=function(){var B,N=Math.ceil(this.width/8),D=N%4;for(B=this.height-1;B>=0;B--){for(var K=this.bottom_up?B:this.height-1-B,X=0;X<N;X++)for(var ee=this.datav.getUint8(this.pos++,!0),ve=K*this.width*4+8*X*4,de=0;de<8&&8*X+de<this.width;de++){var fe=this.palette[ee>>7-de&1];this.data[ve+4*de]=fe.blue,this.data[ve+4*de+1]=fe.green,this.data[ve+4*de+2]=fe.red,this.data[ve+4*de+3]=255}D!==0&&(this.pos+=4-D)}},Hi.prototype.bit4=function(){for(var B=Math.ceil(this.width/2),N=B%4,D=this.height-1;D>=0;D--){for(var K=this.bottom_up?D:this.height-1-D,X=0;X<B;X++){var ee=this.datav.getUint8(this.pos++,!0),ve=K*this.width*4+2*X*4,de=ee>>4,fe=15&ee,ke=this.palette[de];if(this.data[ve]=ke.blue,this.data[ve+1]=ke.green,this.data[ve+2]=ke.red,this.data[ve+3]=255,2*X+1>=this.width)break;ke=this.palette[fe],this.data[ve+4]=ke.blue,this.data[ve+4+1]=ke.green,this.data[ve+4+2]=ke.red,this.data[ve+4+3]=255}N!==0&&(this.pos+=4-N)}},Hi.prototype.bit8=function(){for(var B=this.width%4,N=this.height-1;N>=0;N--){for(var D=this.bottom_up?N:this.height-1-N,K=0;K<this.width;K++){var X=this.datav.getUint8(this.pos++,!0),ee=D*this.width*4+4*K;if(X<this.palette.length){var ve=this.palette[X];this.data[ee]=ve.red,this.data[ee+1]=ve.green,this.data[ee+2]=ve.blue,this.data[ee+3]=255}else this.data[ee]=255,this.data[ee+1]=255,this.data[ee+2]=255,this.data[ee+3]=255}B!==0&&(this.pos+=4-B)}},Hi.prototype.bit15=function(){for(var B=this.width%3,N=parseInt("11111",2),D=this.height-1;D>=0;D--){for(var K=this.bottom_up?D:this.height-1-D,X=0;X<this.width;X++){var ee=this.datav.getUint16(this.pos,!0);this.pos+=2;var ve=(ee&N)/N*255|0,de=(ee>>5&N)/N*255|0,fe=(ee>>10&N)/N*255|0,ke=ee>>15?255:0,Qe=K*this.width*4+4*X;this.data[Qe]=fe,this.data[Qe+1]=de,this.data[Qe+2]=ve,this.data[Qe+3]=ke}this.pos+=B}},Hi.prototype.bit16=function(){for(var B=this.width%3,N=parseInt("11111",2),D=parseInt("111111",2),K=this.height-1;K>=0;K--){for(var X=this.bottom_up?K:this.height-1-K,ee=0;ee<this.width;ee++){var ve=this.datav.getUint16(this.pos,!0);this.pos+=2;var de=(ve&N)/N*255|0,fe=(ve>>5&D)/D*255|0,ke=(ve>>11)/N*255|0,Qe=X*this.width*4+4*ee;this.data[Qe]=ke,this.data[Qe+1]=fe,this.data[Qe+2]=de,this.data[Qe+3]=255}this.pos+=B}},Hi.prototype.bit24=function(){for(var B=this.height-1;B>=0;B--){for(var N=this.bottom_up?B:this.height-1-B,D=0;D<this.width;D++){var K=this.datav.getUint8(this.pos++,!0),X=this.datav.getUint8(this.pos++,!0),ee=this.datav.getUint8(this.pos++,!0),ve=N*this.width*4+4*D;this.data[ve]=ee,this.data[ve+1]=X,this.data[ve+2]=K,this.data[ve+3]=255}this.pos+=this.width%4}},Hi.prototype.bit32=function(){for(var B=this.height-1;B>=0;B--)for(var N=this.bottom_up?B:this.height-1-B,D=0;D<this.width;D++){var K=this.datav.getUint8(this.pos++,!0),X=this.datav.getUint8(this.pos++,!0),ee=this.datav.getUint8(this.pos++,!0),ve=this.datav.getUint8(this.pos++,!0),de=N*this.width*4+4*D;this.data[de]=ee,this.data[de+1]=X,this.data[de+2]=K,this.data[de+3]=ve}},Hi.prototype.getData=function(){return this.data},(function(B){B.processBMP=function(N,D,K,X){var ee=new Hi(N,!1),ve=ee.width,de=ee.height,fe={data:ee.getData(),width:ve,height:de},ke=new Ho(100).encode(fe,100);return B.processJPEG.call(this,ke,D,K,X)}})(et.API),Qo.prototype.getData=function(){return this.data},(function(B){B.processWEBP=function(N,D,K,X){var ee=new Qo(N),ve=ee.width,de=ee.height,fe={data:ee.getData(),width:ve,height:de},ke=new Ho(100).encode(fe,100);return B.processJPEG.call(this,ke,D,K,X)}})(et.API),et.API.processRGBA=function(B,N,D){for(var K=B.data,X=K.length,ee=new Uint8Array(X/4*3),ve=new Uint8Array(X/4),de=0,fe=0,ke=0;ke<X;ke+=4){var Qe=K[ke],Xe=K[ke+1],lt=K[ke+2],Ce=K[ke+3];ee[de++]=Qe,ee[de++]=Xe,ee[de++]=lt,ve[fe++]=Ce}var _t=this.__addimage__.arrayBufferToBinaryString(ee);return{alpha:this.__addimage__.arrayBufferToBinaryString(ve),data:_t,index:N,alias:D,colorSpace:"DeviceRGB",bitsPerComponent:8,width:B.width,height:B.height}},et.API.setLanguage=function(B){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[B]!==void 0&&(this.internal.languageSettings.languageCode=B,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Gs=et.API,ba=Gs.getCharWidthsArray=function(B,N){var D,K,X=(N=N||{}).font||this.internal.getFont(),ee=N.fontSize||this.internal.getFontSize(),ve=N.charSpace||this.internal.getCharSpace(),de=N.widths?N.widths:X.metadata.Unicode.widths,fe=de.fof?de.fof:1,ke=N.kerning?N.kerning:X.metadata.Unicode.kerning,Qe=ke.fof?ke.fof:1,Xe=N.doKerning!==!1,lt=0,Ce=B.length,_t=0,at=de[0]||fe,Tt=[];for(D=0;D<Ce;D++)K=B.charCodeAt(D),typeof X.metadata.widthOfString=="function"?Tt.push((X.metadata.widthOfGlyph(X.metadata.characterToGlyph(K))+ve*(1e3/ee)||0)/1e3):(lt=Xe&&(0,d.default)(ke[K])==="object"&&!isNaN(parseInt(ke[K][_t],10))?ke[K][_t]/Qe:0,Tt.push((de[K]||at)/fe+lt)),_t=K;return Tt},Fs=Gs.getStringUnitWidth=function(B,N){var D=(N=N||{}).fontSize||this.internal.getFontSize(),K=N.font||this.internal.getFont(),X=N.charSpace||this.internal.getCharSpace();return Gs.processArabic&&(B=Gs.processArabic(B)),typeof K.metadata.widthOfString=="function"?K.metadata.widthOfString(B,D,X)/D:ba.apply(this,arguments).reduce(function(ee,ve){return ee+ve},0)},kl=function(B,N,D,K){for(var X=[],ee=0,ve=B.length,de=0;ee!==ve&&de+N[ee]<D;)de+=N[ee],ee++;X.push(B.slice(0,ee));var fe=ee;for(de=0;ee!==ve;)de+N[ee]>K&&(X.push(B.slice(fe,ee)),de=0,fe=ee),de+=N[ee],ee++;return fe!==ee&&X.push(B.slice(fe,ee)),X},po=function(B,N,D){D||(D={});var K,X,ee,ve,de,fe,ke,Qe=[],Xe=[Qe],lt=D.textIndent||0,Ce=0,_t=0,at=B.split(" "),Tt=ba.apply(this,[" ",D])[0];if(fe=D.lineIndent===-1?at[0].length+2:D.lineIndent||0){var rt=Array(fe).join(" "),Bt=[];at.map(function(kt){(kt=kt.split(/\s*\n/)).length>1?Bt=Bt.concat(kt.map(function(tt,Vt){return(Vt&&tt.length?`
`:"")+tt})):Bt.push(kt[0])}),at=Bt,fe=Fs.apply(this,[rt,D])}for(ee=0,ve=at.length;ee<ve;ee++){var Yt=0;if(K=at[ee],fe&&K[0]==`
`&&(K=K.substr(1),Yt=1),lt+Ce+(_t=(X=ba.apply(this,[K,D])).reduce(function(kt,tt){return kt+tt},0))>N||Yt){if(_t>N){for(de=kl.apply(this,[K,X,N-(lt+Ce),N]),Qe.push(de.shift()),Qe=[de.pop()];de.length;)Xe.push([de.shift()]);_t=X.slice(K.length-(Qe[0]?Qe[0].length:0)).reduce(function(kt,tt){return kt+tt},0)}else Qe=[K];Xe.push(Qe),lt=_t+fe,Ce=Tt}else Qe.push(K),lt+=Ce+_t,Ce=Tt}return ke=fe?function(kt,tt){return(tt?rt:"")+kt.join(" ")}:function(kt){return kt.join(" ")},Xe.map(ke)},Gs.splitTextToSize=function(B,N,D){var K,X=(D=D||{}).fontSize||this.internal.getFontSize(),ee=(function(Qe){if(Qe.widths&&Qe.kerning)return{widths:Qe.widths,kerning:Qe.kerning};var Xe=this.internal.getFont(Qe.fontName,Qe.fontStyle),lt="Unicode";return Xe.metadata[lt]?{widths:Xe.metadata[lt].widths||{0:1},kerning:Xe.metadata[lt].kerning||{}}:{font:Xe.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,D);K=Array.isArray(B)?B:String(B).split(/\r?\n/);var ve=1*this.internal.scaleFactor*N/X;ee.textIndent=D.textIndent?1*D.textIndent*this.internal.scaleFactor/X:0,ee.lineIndent=D.lineIndent;var de,fe,ke=[];for(de=0,fe=K.length;de<fe;de++)ke=ke.concat(po.apply(this,[K[de],ve,ee]));return ke},(function(B){B.__fontmetrics__=B.__fontmetrics__||{};for(var N="0123456789abcdef",D="klmnopqrstuvwxyz",K={},X={},ee=0;ee<16;ee++)K[D[ee]]=N[ee],X[N[ee]]=D[ee];var ve=function(lt){return"0x"+parseInt(lt,10).toString(16)},de=B.__fontmetrics__.compress=function(lt){var Ce,_t,at,Tt,rt=["{"];for(var Bt in lt){if(Ce=lt[Bt],isNaN(parseInt(Bt,10))?_t="'"+Bt+"'":(Bt=parseInt(Bt,10),_t=(_t=ve(Bt).slice(2)).slice(0,-1)+X[_t.slice(-1)]),typeof Ce=="number")Ce<0?(at=ve(Ce).slice(3),Tt="-"):(at=ve(Ce).slice(2),Tt=""),at=Tt+at.slice(0,-1)+X[at.slice(-1)];else{if((0,d.default)(Ce)!=="object")throw new Error("Don't know what to do with value type "+(0,d.default)(Ce)+".");at=de(Ce)}rt.push(_t+at)}return rt.push("}"),rt.join("")},fe=B.__fontmetrics__.uncompress=function(lt){if(typeof lt!="string")throw new Error("Invalid argument passed to uncompress.");for(var Ce,_t,at,Tt,rt={},Bt=1,Yt=rt,kt=[],tt="",Vt="",Er=lt.length-1,nr=1;nr<Er;nr+=1)(Tt=lt[nr])=="'"?Ce?(at=Ce.join(""),Ce=void 0):Ce=[]:Ce?Ce.push(Tt):Tt=="{"?(kt.push([Yt,at]),Yt={},at=void 0):Tt=="}"?((_t=kt.pop())[0][_t[1]]=Yt,at=void 0,Yt=_t[0]):Tt=="-"?Bt=-1:at===void 0?K.hasOwnProperty(Tt)?(tt+=K[Tt],at=parseInt(tt,16)*Bt,Bt=1,tt=""):tt+=Tt:K.hasOwnProperty(Tt)?(Vt+=K[Tt],Yt[at]=parseInt(Vt,16)*Bt,Bt=1,at=void 0,Vt=""):Vt+=Tt;return rt},ke={codePages:["WinAnsiEncoding"],WinAnsiEncoding:fe("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},Qe={Unicode:{Courier:ke,"Courier-Bold":ke,"Courier-BoldOblique":ke,"Courier-Oblique":ke,Helvetica:ke,"Helvetica-Bold":ke,"Helvetica-BoldOblique":ke,"Helvetica-Oblique":ke,"Times-Roman":ke,"Times-Bold":ke,"Times-BoldItalic":ke,"Times-Italic":ke}},Xe={Unicode:{"Courier-Oblique":fe("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":fe("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":fe("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:fe("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":fe("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":fe("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:fe("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:fe("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":fe("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:fe("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":fe("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":fe("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":fe("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":fe("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};B.events.push(["addFont",function(lt){var Ce=lt.font,_t=Xe.Unicode[Ce.postScriptName];_t&&(Ce.metadata.Unicode={},Ce.metadata.Unicode.widths=_t.widths,Ce.metadata.Unicode.kerning=_t.kerning);var at=Qe.Unicode[Ce.postScriptName];at&&(Ce.metadata.Unicode.encoding=at,Ce.encoding=at.codePages[0])}])})(et.API),(function(B){var N=function(D){for(var K=D.length,X=new Uint8Array(K),ee=0;ee<K;ee++)X[ee]=D.charCodeAt(ee);return X};B.API.events.push(["addFont",function(D){var K=void 0,X=D.font,ee=D.instance;if(!X.isStandardFont){if(ee===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+X.postScriptName+"').");if(typeof(K=ee.existsFileInVFS(X.postScriptName)===!1?ee.loadFile(X.postScriptName):ee.getFileFromVFS(X.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+X.postScriptName+"').");(function(ve,de){de=/^\x00\x01\x00\x00/.test(de)?N(de):N(P(de)),ve.metadata=B.API.TTFFont.open(de),ve.metadata.Unicode=ve.metadata.Unicode||{encoding:{},kerning:{},widths:[]},ve.metadata.glyIdsUsed=[0]})(X,K)}}])})(et),et.API.addSvgAsImage=function(B,N,D,K,X,ee,ve,de){if(isNaN(N)||isNaN(D))throw x.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(K)||isNaN(X))throw x.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var fe=document.createElement("canvas");fe.width=K,fe.height=X;var ke=fe.getContext("2d");ke.fillStyle="#fff",ke.fillRect(0,0,fe.width,fe.height);var Qe={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},Xe=this;return(v.canvg?Promise.resolve(v.canvg):Promise.resolve().then(l.bind(l,"./node_modules/canvg/lib/index.es.js"))).catch(function(lt){return Promise.reject(new Error("Could not load canvg: "+lt))}).then(function(lt){return lt.default?lt.default:lt}).then(function(lt){return lt.fromString(ke,B,Qe)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(lt){return lt.render(Qe)}).then(function(){Xe.addImage(fe.toDataURL("image/jpeg",1),N,D,K,X,ve,de)})},et.API.putTotalPages=function(B){var N,D=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(N=new RegExp(B,"g"),D=this.internal.getNumberOfPages()):(N=new RegExp(this.pdfEscape16(B,this.internal.getFont()),"g"),D=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var K=1;K<=this.internal.getNumberOfPages();K++)for(var X=0;X<this.internal.pages[K].length;X++)this.internal.pages[K][X]=this.internal.pages[K][X].replace(N,D);return this},et.API.viewerPreferences=function(B,N){var D;B=B||{},N=N||!1;var K,X,ee,ve={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},de=Object.keys(ve),fe=[],ke=0,Qe=0,Xe=0;function lt(_t,at){var Tt,rt=!1;for(Tt=0;Tt<_t.length;Tt+=1)_t[Tt]===at&&(rt=!0);return rt}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(ve)),this.internal.viewerpreferences.isSubscribed=!1),D=this.internal.viewerpreferences.configuration,B==="reset"||N===!0){var Ce=de.length;for(Xe=0;Xe<Ce;Xe+=1)D[de[Xe]].value=D[de[Xe]].defaultValue,D[de[Xe]].explicitSet=!1}if((0,d.default)(B)==="object"){for(X in B)if(ee=B[X],lt(de,X)&&ee!==void 0){if(D[X].type==="boolean"&&typeof ee=="boolean")D[X].value=ee;else if(D[X].type==="name"&&lt(D[X].valueSet,ee))D[X].value=ee;else if(D[X].type==="integer"&&Number.isInteger(ee))D[X].value=ee;else if(D[X].type==="array"){for(ke=0;ke<ee.length;ke+=1)if(K=!0,ee[ke].length===1&&typeof ee[ke][0]=="number")fe.push(String(ee[ke]-1));else if(ee[ke].length>1){for(Qe=0;Qe<ee[ke].length;Qe+=1)typeof ee[ke][Qe]!="number"&&(K=!1);K===!0&&fe.push([ee[ke][0]-1,ee[ke][1]-1].join(" "))}D[X].value="["+fe.join(" ")+"]"}else D[X].value=D[X].defaultValue;D[X].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var _t,at=[];for(_t in D)D[_t].explicitSet===!0&&(D[_t].type==="name"?at.push("/"+_t+" /"+D[_t].value):at.push("/"+_t+" "+D[_t].value));at.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+at.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=D,this},(function(B){var N=function(){var K='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',X=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),ee=unescape(encodeURIComponent(K)),ve=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),de=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),fe=unescape(encodeURIComponent("</x:xmpmeta>")),ke=ee.length+ve.length+de.length+X.length+fe.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+ke+" >>"),this.internal.write("stream"),this.internal.write(X+ee+ve+de+fe),this.internal.write("endstream"),this.internal.write("endobj")},D=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};B.addMetadata=function(K,X){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:K,namespaceuri:X||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",D),this.internal.events.subscribe("postPutResources",N)),this}})(et.API),(function(B){var N=B.API,D=N.pdfEscape16=function(ee,ve){for(var de,fe=ve.metadata.Unicode.widths,ke=["","0","00","000","0000"],Qe=[""],Xe=0,lt=ee.length;Xe<lt;++Xe){if(de=ve.metadata.characterToGlyph(ee.charCodeAt(Xe)),ve.metadata.glyIdsUsed.push(de),ve.metadata.toUnicode[de]=ee.charCodeAt(Xe),fe.indexOf(de)==-1&&(fe.push(de),fe.push([parseInt(ve.metadata.widthOfGlyph(de),10)])),de=="0")return Qe.join("");de=de.toString(16),Qe.push(ke[4-de.length],de)}return Qe.join("")},K=function(ee){var ve,de,fe,ke,Qe,Xe,lt;for(Qe=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,fe=[],Xe=0,lt=(de=Object.keys(ee).sort(function(Ce,_t){return Ce-_t})).length;Xe<lt;Xe++)ve=de[Xe],fe.length>=100&&(Qe+=`
`+fe.length+` beginbfchar
`+fe.join(`
`)+`
endbfchar`,fe=[]),ee[ve]!==void 0&&ee[ve]!==null&&typeof ee[ve].toString=="function"&&(ke=("0000"+ee[ve].toString(16)).slice(-4),ve=("0000"+(+ve).toString(16)).slice(-4),fe.push("<"+ve+"><"+ke+">"));return fe.length&&(Qe+=`
`+fe.length+` beginbfchar
`+fe.join(`
`)+`
endbfchar
`),Qe+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};N.events.push(["putFont",function(ee){(function(ve){var de=ve.font,fe=ve.out,ke=ve.newObject,Qe=ve.putStream;if(de.metadata instanceof B.API.TTFFont&&de.encoding==="Identity-H"){for(var Xe=de.metadata.Unicode.widths,lt=de.metadata.subset.encode(de.metadata.glyIdsUsed,1),Ce="",_t=0;_t<lt.length;_t++)Ce+=String.fromCharCode(lt[_t]);var at=ke();Qe({data:Ce,addLength1:!0,objectId:at}),fe("endobj");var Tt=ke();Qe({data:K(de.metadata.toUnicode),addLength1:!0,objectId:Tt}),fe("endobj");var rt=ke();fe("<<"),fe("/Type /FontDescriptor"),fe("/FontName /"+He(de.fontName)),fe("/FontFile2 "+at+" 0 R"),fe("/FontBBox "+B.API.PDFObject.convert(de.metadata.bbox)),fe("/Flags "+de.metadata.flags),fe("/StemV "+de.metadata.stemV),fe("/ItalicAngle "+de.metadata.italicAngle),fe("/Ascent "+de.metadata.ascender),fe("/Descent "+de.metadata.decender),fe("/CapHeight "+de.metadata.capHeight),fe(">>"),fe("endobj");var Bt=ke();fe("<<"),fe("/Type /Font"),fe("/BaseFont /"+He(de.fontName)),fe("/FontDescriptor "+rt+" 0 R"),fe("/W "+B.API.PDFObject.convert(Xe)),fe("/CIDToGIDMap /Identity"),fe("/DW 1000"),fe("/Subtype /CIDFontType2"),fe("/CIDSystemInfo"),fe("<<"),fe("/Supplement 0"),fe("/Registry (Adobe)"),fe("/Ordering ("+de.encoding+")"),fe(">>"),fe(">>"),fe("endobj"),de.objectNumber=ke(),fe("<<"),fe("/Type /Font"),fe("/Subtype /Type0"),fe("/ToUnicode "+Tt+" 0 R"),fe("/BaseFont /"+He(de.fontName)),fe("/Encoding /"+de.encoding),fe("/DescendantFonts ["+Bt+" 0 R]"),fe(">>"),fe("endobj"),de.isAlreadyPutted=!0}})(ee)}]),N.events.push(["putFont",function(ee){(function(ve){var de=ve.font,fe=ve.out,ke=ve.newObject,Qe=ve.putStream;if(de.metadata instanceof B.API.TTFFont&&de.encoding==="WinAnsiEncoding"){for(var Xe=de.metadata.rawData,lt="",Ce=0;Ce<Xe.length;Ce++)lt+=String.fromCharCode(Xe[Ce]);var _t=ke();Qe({data:lt,addLength1:!0,objectId:_t}),fe("endobj");var at=ke();Qe({data:K(de.metadata.toUnicode),addLength1:!0,objectId:at}),fe("endobj");var Tt=ke();fe("<<"),fe("/Descent "+de.metadata.decender),fe("/CapHeight "+de.metadata.capHeight),fe("/StemV "+de.metadata.stemV),fe("/Type /FontDescriptor"),fe("/FontFile2 "+_t+" 0 R"),fe("/Flags 96"),fe("/FontBBox "+B.API.PDFObject.convert(de.metadata.bbox)),fe("/FontName /"+He(de.fontName)),fe("/ItalicAngle "+de.metadata.italicAngle),fe("/Ascent "+de.metadata.ascender),fe(">>"),fe("endobj"),de.objectNumber=ke();for(var rt=0;rt<de.metadata.hmtx.widths.length;rt++)de.metadata.hmtx.widths[rt]=parseInt(de.metadata.hmtx.widths[rt]*(1e3/de.metadata.head.unitsPerEm));fe("<</Subtype/TrueType/Type/Font/ToUnicode "+at+" 0 R/BaseFont/"+He(de.fontName)+"/FontDescriptor "+Tt+" 0 R/Encoding/"+de.encoding+" /FirstChar 29 /LastChar 255 /Widths "+B.API.PDFObject.convert(de.metadata.hmtx.widths)+">>"),fe("endobj"),de.isAlreadyPutted=!0}})(ee)}]);var X=function(ee){var ve,de=ee.text||"",fe=ee.x,ke=ee.y,Qe=ee.options||{},Xe=ee.mutex||{},lt=Xe.pdfEscape,Ce=Xe.activeFontKey,_t=Xe.fonts,at=Ce,Tt="",rt=0,Bt="",Yt=_t[at].encoding;if(_t[at].encoding!=="Identity-H")return{text:de,x:fe,y:ke,options:Qe,mutex:Xe};for(Bt=de,at=Ce,Array.isArray(de)&&(Bt=de[0]),rt=0;rt<Bt.length;rt+=1)_t[at].metadata.hasOwnProperty("cmap")&&(ve=_t[at].metadata.cmap.unicode.codeMap[Bt[rt].charCodeAt(0)]),ve||Bt[rt].charCodeAt(0)<256&&_t[at].metadata.hasOwnProperty("Unicode")?Tt+=Bt[rt]:Tt+="";var kt="";return parseInt(at.slice(1))<14||Yt==="WinAnsiEncoding"?kt=lt(Tt,at).split("").map(function(tt){return tt.charCodeAt(0).toString(16)}).join(""):Yt==="Identity-H"&&(kt=D(Tt,_t[at])),Xe.isHex=!0,{text:kt,x:fe,y:ke,options:Qe,mutex:Xe}};N.events.push(["postProcessText",function(ee){var ve=ee.text||"",de=[],fe={text:ve,x:ee.x,y:ee.y,options:ee.options,mutex:ee.mutex};if(Array.isArray(ve)){var ke=0;for(ke=0;ke<ve.length;ke+=1)Array.isArray(ve[ke])&&ve[ke].length===3?de.push([X(Object.assign({},fe,{text:ve[ke][0]})).text,ve[ke][1],ve[ke][2]]):de.push(X(Object.assign({},fe,{text:ve[ke]})).text);ee.text=de}else ee.text=X(Object.assign({},fe,{text:ve})).text}])})(et),(function(B){var N=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};B.existsFileInVFS=function(D){return N.call(this),this.internal.vFS[D]!==void 0},B.addFileToVFS=function(D,K){return N.call(this),this.internal.vFS[D]=K,this},B.getFileFromVFS=function(D){return N.call(this),this.internal.vFS[D]!==void 0?this.internal.vFS[D]:null}})(et.API),(function(B){B.__bidiEngine__=B.prototype.__bidiEngine__=function(K){var X,ee,ve,de,fe,ke,Qe,Xe=N,lt=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],Ce=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],_t={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},at={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},Tt=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],rt=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),Bt=!1,Yt=0;this.__bidiEngine__={};var kt=function(it){var ft=it.charCodeAt(),Ot=ft>>8,Pt=at[Ot];return Pt!==void 0?Xe[256*Pt+(255&ft)]:Ot===252||Ot===253?"AL":rt.test(Ot)?"L":Ot===8?"R":"N"},tt=function(it){for(var ft,Ot=0;Ot<it.length;Ot++){if((ft=kt(it.charAt(Ot)))==="L")return!1;if(ft==="R")return!0}return!1},Vt=function(it,ft,Ot,Pt){var Ar,Tr,Lr,ar,Ir=ft[Pt];switch(Ir){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":Bt=!1;break;case"N":case"AN":break;case"EN":Bt&&(Ir="AN");break;case"AL":Bt=!0,Ir="R";break;case"WS":case"BN":Ir="N";break;case"CS":Pt<1||Pt+1>=ft.length||(Ar=Ot[Pt-1])!=="EN"&&Ar!=="AN"||(Tr=ft[Pt+1])!=="EN"&&Tr!=="AN"?Ir="N":Bt&&(Tr="AN"),Ir=Tr===Ar?Tr:"N";break;case"ES":Ir=(Ar=Pt>0?Ot[Pt-1]:"B")==="EN"&&Pt+1<ft.length&&ft[Pt+1]==="EN"?"EN":"N";break;case"ET":if(Pt>0&&Ot[Pt-1]==="EN"){Ir="EN";break}if(Bt){Ir="N";break}for(Lr=Pt+1,ar=ft.length;Lr<ar&&ft[Lr]==="ET";)Lr++;Ir=Lr<ar&&ft[Lr]==="EN"?"EN":"N";break;case"NSM":if(ve&&!de){for(ar=ft.length,Lr=Pt+1;Lr<ar&&ft[Lr]==="NSM";)Lr++;if(Lr<ar){var hn=it[Pt],Zr=hn>=1425&&hn<=2303||hn===64286;if(Ar=ft[Lr],Zr&&(Ar==="R"||Ar==="AL")){Ir="R";break}}}Ir=Pt<1||(Ar=ft[Pt-1])==="B"?"N":Ot[Pt-1];break;case"B":Bt=!1,X=!0,Ir=Yt;break;case"S":ee=!0,Ir="N"}return Ir},Er=function(it,ft,Ot){var Pt=it.split("");return Ot&&nr(Pt,Ot,{hiLevel:Yt}),Pt.reverse(),ft&&ft.reverse(),Pt.join("")},nr=function(it,ft,Ot){var Pt,Ar,Tr,Lr,ar,Ir=-1,hn=it.length,Zr=0,Ye=[],St=Yt?Ce:lt,Nt=[];for(Bt=!1,X=!1,ee=!1,Ar=0;Ar<hn;Ar++)Nt[Ar]=kt(it[Ar]);for(Tr=0;Tr<hn;Tr++){if(ar=Zr,Ye[Tr]=Vt(it,Nt,Ye,Tr),Pt=240&(Zr=St[ar][_t[Ye[Tr]]]),Zr&=15,ft[Tr]=Lr=St[Zr][5],Pt>0)if(Pt===16){for(Ar=Ir;Ar<Tr;Ar++)ft[Ar]=1;Ir=-1}else Ir=-1;if(St[Zr][6])Ir===-1&&(Ir=Tr);else if(Ir>-1){for(Ar=Ir;Ar<Tr;Ar++)ft[Ar]=Lr;Ir=-1}Nt[Tr]==="B"&&(ft[Tr]=0),Ot.hiLevel|=Lr}ee&&(function(Kt,qt,cr){for(var Cr=0;Cr<cr;Cr++)if(Kt[Cr]==="S"){qt[Cr]=Yt;for(var Sr=Cr-1;Sr>=0&&Kt[Sr]==="WS";Sr--)qt[Sr]=Yt}})(Nt,ft,hn)},Rt=function(it,ft,Ot,Pt,Ar){if(!(Ar.hiLevel<it)){if(it===1&&Yt===1&&!X)return ft.reverse(),void(Ot&&Ot.reverse());for(var Tr,Lr,ar,Ir,hn=ft.length,Zr=0;Zr<hn;){if(Pt[Zr]>=it){for(ar=Zr+1;ar<hn&&Pt[ar]>=it;)ar++;for(Ir=Zr,Lr=ar-1;Ir<Lr;Ir++,Lr--)Tr=ft[Ir],ft[Ir]=ft[Lr],ft[Lr]=Tr,Ot&&(Tr=Ot[Ir],Ot[Ir]=Ot[Lr],Ot[Lr]=Tr);Zr=ar}Zr++}}},yr=function(it,ft,Ot){var Pt=it.split(""),Ar={hiLevel:Yt};return Ot||(Ot=[]),nr(Pt,Ot,Ar),(function(Tr,Lr,ar){if(ar.hiLevel!==0&&Qe)for(var Ir,hn=0;hn<Tr.length;hn++)Lr[hn]===1&&(Ir=Tt.indexOf(Tr[hn]))>=0&&(Tr[hn]=Tt[Ir+1])})(Pt,Ot,Ar),Rt(2,Pt,ft,Ot,Ar),Rt(1,Pt,ft,Ot,Ar),Pt.join("")};return this.__bidiEngine__.doBidiReorder=function(it,ft,Ot){if((function(Ar,Tr){if(Tr)for(var Lr=0;Lr<Ar.length;Lr++)Tr[Lr]=Lr;de===void 0&&(de=tt(Ar)),ke===void 0&&(ke=tt(Ar))})(it,ft),ve||!fe||ke)if(ve&&fe&&de^ke)Yt=de?1:0,it=Er(it,ft,Ot);else if(!ve&&fe&&ke)Yt=de?1:0,it=yr(it,ft,Ot),it=Er(it,ft);else if(!ve||de||fe||ke){if(ve&&!fe&&de^ke)it=Er(it,ft),de?(Yt=0,it=yr(it,ft,Ot)):(Yt=1,it=yr(it,ft,Ot),it=Er(it,ft));else if(ve&&de&&!fe&&ke)Yt=1,it=yr(it,ft,Ot),it=Er(it,ft);else if(!ve&&!fe&&de^ke){var Pt=Qe;de?(Yt=1,it=yr(it,ft,Ot),Yt=0,Qe=!1,it=yr(it,ft,Ot),Qe=Pt):(Yt=0,it=yr(it,ft,Ot),it=Er(it,ft),Yt=1,Qe=!1,it=yr(it,ft,Ot),Qe=Pt,it=Er(it,ft))}}else Yt=0,it=yr(it,ft,Ot);else Yt=de?1:0,it=yr(it,ft,Ot);return it},this.__bidiEngine__.setOptions=function(it){it&&(ve=it.isInputVisual,fe=it.isOutputVisual,de=it.isInputRtl,ke=it.isOutputRtl,Qe=it.isSymmetricSwapping)},this.__bidiEngine__.setOptions(K),this.__bidiEngine__};var N=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],D=new B.__bidiEngine__({isInputVisual:!0});B.API.events.push(["postProcessText",function(K){var X=K.text;K.x,K.y;var ee=K.options||{};K.mutex,ee.lang;var ve=[];if(ee.isInputVisual=typeof ee.isInputVisual!="boolean"||ee.isInputVisual,D.setOptions(ee),Object.prototype.toString.call(X)==="[object Array]"){var de=0;for(ve=[],de=0;de<X.length;de+=1)Object.prototype.toString.call(X[de])==="[object Array]"?ve.push([D.doBidiReorder(X[de][0]),X[de][1],X[de][2]]):ve.push([D.doBidiReorder(X[de])]);K.text=ve}else K.text=D.doBidiReorder(X);D.setOptions({isInputVisual:!0})}])})(et),et.API.TTFFont=(function(){function B(N){var D;if(this.rawData=N,D=this.contents=new qs(N),this.contents.pos=4,D.readString(4)==="ttcf")throw new Error("TTCF not supported.");D.pos=0,this.parse(),this.subset=new ct(this),this.registerTTF()}return B.open=function(N){return new B(N)},B.prototype.parse=function(){return this.directory=new fs(this.contents),this.head=new Qs(this),this.name=new ne(this),this.cmap=new go(this),this.toUnicode={},this.hhea=new no(this),this.maxp=new oe(this),this.hmtx=new F(this),this.post=new $t(this),this.os2=new Vo(this),this.loca=new Ue(this),this.glyf=new te(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},B.prototype.registerTTF=function(){var N,D,K,X,ee;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var ve,de,fe,ke;for(ke=[],ve=0,de=(fe=this.bbox).length;ve<de;ve++)N=fe[ve],ke.push(Math.round(N*this.scaleFactor));return ke}).call(this),this.stemV=0,this.post.exists?(K=255&(X=this.post.italic_angle),32768&(D=X>>16)&&(D=-(1+(65535^D))),this.italicAngle=+(D+"."+K)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(ee=this.familyClass)===1||ee===2||ee===3||ee===4||ee===5||ee===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},B.prototype.characterToGlyph=function(N){var D;return((D=this.cmap.unicode)!=null?D.codeMap[N]:void 0)||0},B.prototype.widthOfGlyph=function(N){var D;return D=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(N).advance*D},B.prototype.widthOfString=function(N,D,K){var X,ee,ve,de;for(ve=0,ee=0,de=(N=""+N).length;0<=de?ee<de:ee>de;ee=0<=de?++ee:--ee)X=N.charCodeAt(ee),ve+=this.widthOfGlyph(this.characterToGlyph(X))+K*(1e3/D)||0;return ve*(D/1e3)},B.prototype.lineHeight=function(N,D){var K;return D==null&&(D=!1),K=D?this.lineGap:0,(this.ascender+K-this.decender)/1e3*N},B})();var Ea,qs=(function(){function B(N){this.data=N??[],this.pos=0,this.length=this.data.length}return B.prototype.readByte=function(){return this.data[this.pos++]},B.prototype.writeByte=function(N){return this.data[this.pos++]=N},B.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},B.prototype.writeUInt32=function(N){return this.writeByte(N>>>24&255),this.writeByte(N>>16&255),this.writeByte(N>>8&255),this.writeByte(255&N)},B.prototype.readInt32=function(){var N;return(N=this.readUInt32())>=2147483648?N-4294967296:N},B.prototype.writeInt32=function(N){return N<0&&(N+=4294967296),this.writeUInt32(N)},B.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},B.prototype.writeUInt16=function(N){return this.writeByte(N>>8&255),this.writeByte(255&N)},B.prototype.readInt16=function(){var N;return(N=this.readUInt16())>=32768?N-65536:N},B.prototype.writeInt16=function(N){return N<0&&(N+=65536),this.writeUInt16(N)},B.prototype.readString=function(N){var D,K;for(K=[],D=0;0<=N?D<N:D>N;D=0<=N?++D:--D)K[D]=String.fromCharCode(this.readByte());return K.join("")},B.prototype.writeString=function(N){var D,K,X;for(X=[],D=0,K=N.length;0<=K?D<K:D>K;D=0<=K?++D:--D)X.push(this.writeByte(N.charCodeAt(D)));return X},B.prototype.readShort=function(){return this.readInt16()},B.prototype.writeShort=function(N){return this.writeInt16(N)},B.prototype.readLongLong=function(){var N,D,K,X,ee,ve,de,fe;return N=this.readByte(),D=this.readByte(),K=this.readByte(),X=this.readByte(),ee=this.readByte(),ve=this.readByte(),de=this.readByte(),fe=this.readByte(),128&N?-1*(72057594037927940*(255^N)+281474976710656*(255^D)+1099511627776*(255^K)+4294967296*(255^X)+16777216*(255^ee)+65536*(255^ve)+256*(255^de)+(255^fe)+1):72057594037927940*N+281474976710656*D+1099511627776*K+4294967296*X+16777216*ee+65536*ve+256*de+fe},B.prototype.writeLongLong=function(N){var D,K;return D=Math.floor(N/4294967296),K=4294967295&N,this.writeByte(D>>24&255),this.writeByte(D>>16&255),this.writeByte(D>>8&255),this.writeByte(255&D),this.writeByte(K>>24&255),this.writeByte(K>>16&255),this.writeByte(K>>8&255),this.writeByte(255&K)},B.prototype.readInt=function(){return this.readInt32()},B.prototype.writeInt=function(N){return this.writeInt32(N)},B.prototype.read=function(N){var D,K;for(D=[],K=0;0<=N?K<N:K>N;K=0<=N?++K:--K)D.push(this.readByte());return D},B.prototype.write=function(N){var D,K,X,ee;for(ee=[],K=0,X=N.length;K<X;K++)D=N[K],ee.push(this.writeByte(D));return ee},B})(),fs=(function(){var B;function N(D){var K,X,ee;for(this.scalarType=D.readInt(),this.tableCount=D.readShort(),this.searchRange=D.readShort(),this.entrySelector=D.readShort(),this.rangeShift=D.readShort(),this.tables={},X=0,ee=this.tableCount;0<=ee?X<ee:X>ee;X=0<=ee?++X:--X)K={tag:D.readString(4),checksum:D.readInt(),offset:D.readInt(),length:D.readInt()},this.tables[K.tag]=K}return N.prototype.encode=function(D){var K,X,ee,ve,de,fe,ke,Qe,Xe,lt,Ce,_t,at;for(at in Ce=Object.keys(D).length,fe=Math.log(2),Xe=16*Math.floor(Math.log(Ce)/fe),ve=Math.floor(Xe/fe),Qe=16*Ce-Xe,(X=new qs).writeInt(this.scalarType),X.writeShort(Ce),X.writeShort(Xe),X.writeShort(ve),X.writeShort(Qe),ee=16*Ce,ke=X.pos+ee,de=null,_t=[],D)for(lt=D[at],X.writeString(at),X.writeInt(B(lt)),X.writeInt(ke),X.writeInt(lt.length),_t=_t.concat(lt),at==="head"&&(de=ke),ke+=lt.length;ke%4;)_t.push(0),ke++;return X.write(_t),K=2981146554-B(X.data),X.pos=de+8,X.writeUInt32(K),X.data},B=function(D){var K,X,ee,ve;for(D=z.call(D);D.length%4;)D.push(0);for(ee=new qs(D),X=0,K=0,ve=D.length;K<ve;K=K+=4)X+=ee.readUInt32();return 4294967295&X},N})(),So={}.hasOwnProperty,za=function(B,N){for(var D in N)So.call(N,D)&&(B[D]=N[D]);function K(){this.constructor=B}return K.prototype=N.prototype,B.prototype=new K,B.__super__=N.prototype,B};Ea=(function(){function B(N){var D;this.file=N,D=this.file.directory.tables[this.tag],this.exists=!!D,D&&(this.offset=D.offset,this.length=D.length,this.parse(this.file.contents))}return B.prototype.parse=function(){},B.prototype.encode=function(){},B.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},B})();var Qs=(function(){function B(){return B.__super__.constructor.apply(this,arguments)}return za(B,Ea),B.prototype.tag="head",B.prototype.parse=function(N){return N.pos=this.offset,this.version=N.readInt(),this.revision=N.readInt(),this.checkSumAdjustment=N.readInt(),this.magicNumber=N.readInt(),this.flags=N.readShort(),this.unitsPerEm=N.readShort(),this.created=N.readLongLong(),this.modified=N.readLongLong(),this.xMin=N.readShort(),this.yMin=N.readShort(),this.xMax=N.readShort(),this.yMax=N.readShort(),this.macStyle=N.readShort(),this.lowestRecPPEM=N.readShort(),this.fontDirectionHint=N.readShort(),this.indexToLocFormat=N.readShort(),this.glyphDataFormat=N.readShort()},B.prototype.encode=function(N){var D;return(D=new qs).writeInt(this.version),D.writeInt(this.revision),D.writeInt(this.checkSumAdjustment),D.writeInt(this.magicNumber),D.writeShort(this.flags),D.writeShort(this.unitsPerEm),D.writeLongLong(this.created),D.writeLongLong(this.modified),D.writeShort(this.xMin),D.writeShort(this.yMin),D.writeShort(this.xMax),D.writeShort(this.yMax),D.writeShort(this.macStyle),D.writeShort(this.lowestRecPPEM),D.writeShort(this.fontDirectionHint),D.writeShort(N),D.writeShort(this.glyphDataFormat),D.data},B})(),qa=(function(){function B(N,D){var K,X,ee,ve,de,fe,ke,Qe,Xe,lt,Ce,_t,at,Tt,rt,Bt,Yt;switch(this.platformID=N.readUInt16(),this.encodingID=N.readShort(),this.offset=D+N.readInt(),Xe=N.pos,N.pos=this.offset,this.format=N.readUInt16(),this.length=N.readUInt16(),this.language=N.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(fe=0;fe<256;++fe)this.codeMap[fe]=N.readByte();break;case 4:for(Ce=N.readUInt16(),lt=Ce/2,N.pos+=6,ee=(function(){var kt,tt;for(tt=[],fe=kt=0;0<=lt?kt<lt:kt>lt;fe=0<=lt?++kt:--kt)tt.push(N.readUInt16());return tt})(),N.pos+=2,at=(function(){var kt,tt;for(tt=[],fe=kt=0;0<=lt?kt<lt:kt>lt;fe=0<=lt?++kt:--kt)tt.push(N.readUInt16());return tt})(),ke=(function(){var kt,tt;for(tt=[],fe=kt=0;0<=lt?kt<lt:kt>lt;fe=0<=lt?++kt:--kt)tt.push(N.readUInt16());return tt})(),Qe=(function(){var kt,tt;for(tt=[],fe=kt=0;0<=lt?kt<lt:kt>lt;fe=0<=lt?++kt:--kt)tt.push(N.readUInt16());return tt})(),X=(this.length-N.pos+this.offset)/2,de=(function(){var kt,tt;for(tt=[],fe=kt=0;0<=X?kt<X:kt>X;fe=0<=X?++kt:--kt)tt.push(N.readUInt16());return tt})(),fe=rt=0,Yt=ee.length;rt<Yt;fe=++rt)for(Tt=ee[fe],K=Bt=_t=at[fe];_t<=Tt?Bt<=Tt:Bt>=Tt;K=_t<=Tt?++Bt:--Bt)Qe[fe]===0?ve=K+ke[fe]:(ve=de[Qe[fe]/2+(K-_t)-(lt-fe)]||0)!==0&&(ve+=ke[fe]),this.codeMap[K]=65535&ve}N.pos=Xe}return B.encode=function(N,D){var K,X,ee,ve,de,fe,ke,Qe,Xe,lt,Ce,_t,at,Tt,rt,Bt,Yt,kt,tt,Vt,Er,nr,Rt,yr,it,ft,Ot,Pt,Ar,Tr,Lr,ar,Ir,hn,Zr,Ye,St,Nt,Kt,qt,cr,Cr,Sr,Vr,un,bn;switch(Pt=new qs,ve=Object.keys(N).sort(function(Rn,yi){return Rn-yi}),D){case"macroman":for(at=0,Tt=(function(){var Rn=[];for(_t=0;_t<256;++_t)Rn.push(0);return Rn})(),Bt={0:0},ee={},Ar=0,Ir=ve.length;Ar<Ir;Ar++)Bt[Sr=N[X=ve[Ar]]]==null&&(Bt[Sr]=++at),ee[X]={old:N[X],new:Bt[N[X]]},Tt[X]=Bt[N[X]];return Pt.writeUInt16(1),Pt.writeUInt16(0),Pt.writeUInt32(12),Pt.writeUInt16(0),Pt.writeUInt16(262),Pt.writeUInt16(0),Pt.write(Tt),{charMap:ee,subtable:Pt.data,maxGlyphID:at+1};case"unicode":for(ft=[],Xe=[],Yt=0,Bt={},K={},rt=ke=null,Tr=0,hn=ve.length;Tr<hn;Tr++)Bt[tt=N[X=ve[Tr]]]==null&&(Bt[tt]=++Yt),K[X]={old:tt,new:Bt[tt]},de=Bt[tt]-X,rt!=null&&de===ke||(rt&&Xe.push(rt),ft.push(X),ke=de),rt=X;for(rt&&Xe.push(rt),Xe.push(65535),ft.push(65535),yr=2*(Rt=ft.length),nr=2*Math.pow(Math.log(Rt)/Math.LN2,2),lt=Math.log(nr/2)/Math.LN2,Er=2*Rt-nr,fe=[],Vt=[],Ce=[],_t=Lr=0,Zr=ft.length;Lr<Zr;_t=++Lr){if(it=ft[_t],Qe=Xe[_t],it===65535){fe.push(0),Vt.push(0);break}if(it-(Ot=K[it].new)>=32768)for(fe.push(0),Vt.push(2*(Ce.length+Rt-_t)),X=ar=it;it<=Qe?ar<=Qe:ar>=Qe;X=it<=Qe?++ar:--ar)Ce.push(K[X].new);else fe.push(Ot-it),Vt.push(0)}for(Pt.writeUInt16(3),Pt.writeUInt16(1),Pt.writeUInt32(12),Pt.writeUInt16(4),Pt.writeUInt16(16+8*Rt+2*Ce.length),Pt.writeUInt16(0),Pt.writeUInt16(yr),Pt.writeUInt16(nr),Pt.writeUInt16(lt),Pt.writeUInt16(Er),cr=0,Ye=Xe.length;cr<Ye;cr++)X=Xe[cr],Pt.writeUInt16(X);for(Pt.writeUInt16(0),Cr=0,St=ft.length;Cr<St;Cr++)X=ft[Cr],Pt.writeUInt16(X);for(Vr=0,Nt=fe.length;Vr<Nt;Vr++)de=fe[Vr],Pt.writeUInt16(de);for(un=0,Kt=Vt.length;un<Kt;un++)kt=Vt[un],Pt.writeUInt16(kt);for(bn=0,qt=Ce.length;bn<qt;bn++)at=Ce[bn],Pt.writeUInt16(at);return{charMap:K,subtable:Pt.data,maxGlyphID:Yt+1}}},B})(),go=(function(){function B(){return B.__super__.constructor.apply(this,arguments)}return za(B,Ea),B.prototype.tag="cmap",B.prototype.parse=function(N){var D,K,X;for(N.pos=this.offset,this.version=N.readUInt16(),X=N.readUInt16(),this.tables=[],this.unicode=null,K=0;0<=X?K<X:K>X;K=0<=X?++K:--K)D=new qa(N,this.offset),this.tables.push(D),D.isUnicode&&this.unicode==null&&(this.unicode=D);return!0},B.encode=function(N,D){var K,X;return D==null&&(D="macroman"),K=qa.encode(N,D),(X=new qs).writeUInt16(0),X.writeUInt16(1),K.table=X.data.concat(K.subtable),K},B})(),no=(function(){function B(){return B.__super__.constructor.apply(this,arguments)}return za(B,Ea),B.prototype.tag="hhea",B.prototype.parse=function(N){return N.pos=this.offset,this.version=N.readInt(),this.ascender=N.readShort(),this.decender=N.readShort(),this.lineGap=N.readShort(),this.advanceWidthMax=N.readShort(),this.minLeftSideBearing=N.readShort(),this.minRightSideBearing=N.readShort(),this.xMaxExtent=N.readShort(),this.caretSlopeRise=N.readShort(),this.caretSlopeRun=N.readShort(),this.caretOffset=N.readShort(),N.pos+=8,this.metricDataFormat=N.readShort(),this.numberOfMetrics=N.readUInt16()},B})(),Vo=(function(){function B(){return B.__super__.constructor.apply(this,arguments)}return za(B,Ea),B.prototype.tag="OS/2",B.prototype.parse=function(N){if(N.pos=this.offset,this.version=N.readUInt16(),this.averageCharWidth=N.readShort(),this.weightClass=N.readUInt16(),this.widthClass=N.readUInt16(),this.type=N.readShort(),this.ySubscriptXSize=N.readShort(),this.ySubscriptYSize=N.readShort(),this.ySubscriptXOffset=N.readShort(),this.ySubscriptYOffset=N.readShort(),this.ySuperscriptXSize=N.readShort(),this.ySuperscriptYSize=N.readShort(),this.ySuperscriptXOffset=N.readShort(),this.ySuperscriptYOffset=N.readShort(),this.yStrikeoutSize=N.readShort(),this.yStrikeoutPosition=N.readShort(),this.familyClass=N.readShort(),this.panose=(function(){var D,K;for(K=[],D=0;D<10;++D)K.push(N.readByte());return K})(),this.charRange=(function(){var D,K;for(K=[],D=0;D<4;++D)K.push(N.readInt());return K})(),this.vendorID=N.readString(4),this.selection=N.readShort(),this.firstCharIndex=N.readShort(),this.lastCharIndex=N.readShort(),this.version>0&&(this.ascent=N.readShort(),this.descent=N.readShort(),this.lineGap=N.readShort(),this.winAscent=N.readShort(),this.winDescent=N.readShort(),this.codePageRange=(function(){var D,K;for(K=[],D=0;D<2;D=++D)K.push(N.readInt());return K})(),this.version>1))return this.xHeight=N.readShort(),this.capHeight=N.readShort(),this.defaultChar=N.readShort(),this.breakChar=N.readShort(),this.maxContext=N.readShort()},B})(),$t=(function(){function B(){return B.__super__.constructor.apply(this,arguments)}return za(B,Ea),B.prototype.tag="post",B.prototype.parse=function(N){var D,K,X;switch(N.pos=this.offset,this.format=N.readInt(),this.italicAngle=N.readInt(),this.underlinePosition=N.readShort(),this.underlineThickness=N.readShort(),this.isFixedPitch=N.readInt(),this.minMemType42=N.readInt(),this.maxMemType42=N.readInt(),this.minMemType1=N.readInt(),this.maxMemType1=N.readInt(),this.format){case 65536:case 196608:break;case 131072:var ee;for(K=N.readUInt16(),this.glyphNameIndex=[],ee=0;0<=K?ee<K:ee>K;ee=0<=K?++ee:--ee)this.glyphNameIndex.push(N.readUInt16());for(this.names=[],X=[];N.pos<this.offset+this.length;)D=N.readByte(),X.push(this.names.push(N.readString(D)));return X;case 151552:return K=N.readUInt16(),this.offsets=N.read(K);case 262144:return this.map=(function(){var ve,de,fe;for(fe=[],ee=ve=0,de=this.file.maxp.numGlyphs;0<=de?ve<de:ve>de;ee=0<=de?++ve:--ve)fe.push(N.readUInt32());return fe}).call(this)}},B})(),V=function(B,N){this.raw=B,this.length=B.length,this.platformID=N.platformID,this.encodingID=N.encodingID,this.languageID=N.languageID},ne=(function(){function B(){return B.__super__.constructor.apply(this,arguments)}return za(B,Ea),B.prototype.tag="name",B.prototype.parse=function(N){var D,K,X,ee,ve,de,fe,ke,Qe,Xe,lt;for(N.pos=this.offset,N.readShort(),D=N.readShort(),de=N.readShort(),K=[],ee=0;0<=D?ee<D:ee>D;ee=0<=D?++ee:--ee)K.push({platformID:N.readShort(),encodingID:N.readShort(),languageID:N.readShort(),nameID:N.readShort(),length:N.readShort(),offset:this.offset+de+N.readShort()});for(fe={},ee=Qe=0,Xe=K.length;Qe<Xe;ee=++Qe)X=K[ee],N.pos=X.offset,ke=N.readString(X.length),ve=new V(ke,X),fe[lt=X.nameID]==null&&(fe[lt]=[]),fe[X.nameID].push(ve);this.strings=fe,this.copyright=fe[0],this.fontFamily=fe[1],this.fontSubfamily=fe[2],this.uniqueSubfamily=fe[3],this.fontName=fe[4],this.version=fe[5];try{this.postscriptName=fe[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=fe[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=fe[7],this.manufacturer=fe[8],this.designer=fe[9],this.description=fe[10],this.vendorUrl=fe[11],this.designerUrl=fe[12],this.license=fe[13],this.licenseUrl=fe[14],this.preferredFamily=fe[15],this.preferredSubfamily=fe[17],this.compatibleFull=fe[18],this.sampleText=fe[19]},B})(),oe=(function(){function B(){return B.__super__.constructor.apply(this,arguments)}return za(B,Ea),B.prototype.tag="maxp",B.prototype.parse=function(N){return N.pos=this.offset,this.version=N.readInt(),this.numGlyphs=N.readUInt16(),this.maxPoints=N.readUInt16(),this.maxContours=N.readUInt16(),this.maxCompositePoints=N.readUInt16(),this.maxComponentContours=N.readUInt16(),this.maxZones=N.readUInt16(),this.maxTwilightPoints=N.readUInt16(),this.maxStorage=N.readUInt16(),this.maxFunctionDefs=N.readUInt16(),this.maxInstructionDefs=N.readUInt16(),this.maxStackElements=N.readUInt16(),this.maxSizeOfInstructions=N.readUInt16(),this.maxComponentElements=N.readUInt16(),this.maxComponentDepth=N.readUInt16()},B})(),F=(function(){function B(){return B.__super__.constructor.apply(this,arguments)}return za(B,Ea),B.prototype.tag="hmtx",B.prototype.parse=function(N){var D,K,X,ee,ve,de,fe;for(N.pos=this.offset,this.metrics=[],D=0,de=this.file.hhea.numberOfMetrics;0<=de?D<de:D>de;D=0<=de?++D:--D)this.metrics.push({advance:N.readUInt16(),lsb:N.readInt16()});for(X=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var ke,Qe;for(Qe=[],D=ke=0;0<=X?ke<X:ke>X;D=0<=X?++ke:--ke)Qe.push(N.readInt16());return Qe})(),this.widths=(function(){var ke,Qe,Xe,lt;for(lt=[],ke=0,Qe=(Xe=this.metrics).length;ke<Qe;ke++)ee=Xe[ke],lt.push(ee.advance);return lt}).call(this),K=this.widths[this.widths.length-1],fe=[],D=ve=0;0<=X?ve<X:ve>X;D=0<=X?++ve:--ve)fe.push(this.widths.push(K));return fe},B.prototype.forGlyph=function(N){return N in this.metrics?this.metrics[N]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[N-this.metrics.length]}},B})(),z=[].slice,te=(function(){function B(){return B.__super__.constructor.apply(this,arguments)}return za(B,Ea),B.prototype.tag="glyf",B.prototype.parse=function(){return this.cache={}},B.prototype.glyphFor=function(N){var D,K,X,ee,ve,de,fe,ke,Qe,Xe;return N in this.cache?this.cache[N]:(ee=this.file.loca,D=this.file.contents,K=ee.indexOf(N),(X=ee.lengthOf(N))===0?this.cache[N]=null:(D.pos=this.offset+K,ve=(de=new qs(D.read(X))).readShort(),ke=de.readShort(),Xe=de.readShort(),fe=de.readShort(),Qe=de.readShort(),this.cache[N]=ve===-1?new Te(de,ke,Xe,fe,Qe):new he(de,ve,ke,Xe,fe,Qe),this.cache[N]))},B.prototype.encode=function(N,D,K){var X,ee,ve,de,fe;for(ve=[],ee=[],de=0,fe=D.length;de<fe;de++)X=N[D[de]],ee.push(ve.length),X&&(ve=ve.concat(X.encode(K)));return ee.push(ve.length),{table:ve,offsets:ee}},B})(),he=(function(){function B(N,D,K,X,ee,ve){this.raw=N,this.numberOfContours=D,this.xMin=K,this.yMin=X,this.xMax=ee,this.yMax=ve,this.compound=!1}return B.prototype.encode=function(){return this.raw.data},B})(),Te=(function(){function B(N,D,K,X,ee){var ve,de;for(this.raw=N,this.xMin=D,this.yMin=K,this.xMax=X,this.yMax=ee,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],ve=this.raw;de=ve.readShort(),this.glyphOffsets.push(ve.pos),this.glyphIDs.push(ve.readUInt16()),32&de;)ve.pos+=1&de?4:2,128&de?ve.pos+=8:64&de?ve.pos+=4:8&de&&(ve.pos+=2)}return B.prototype.encode=function(){var N,D,K;for(D=new qs(z.call(this.raw.data)),N=0,K=this.glyphIDs.length;N<K;++N)D.pos=this.glyphOffsets[N];return D.data},B})(),Ue=(function(){function B(){return B.__super__.constructor.apply(this,arguments)}return za(B,Ea),B.prototype.tag="loca",B.prototype.parse=function(N){var D,K;return N.pos=this.offset,D=this.file.head.indexToLocFormat,this.offsets=D===0?(function(){var X,ee;for(ee=[],K=0,X=this.length;K<X;K+=2)ee.push(2*N.readUInt16());return ee}).call(this):(function(){var X,ee;for(ee=[],K=0,X=this.length;K<X;K+=4)ee.push(N.readUInt32());return ee}).call(this)},B.prototype.indexOf=function(N){return this.offsets[N]},B.prototype.lengthOf=function(N){return this.offsets[N+1]-this.offsets[N]},B.prototype.encode=function(N,D){for(var K=new Uint32Array(this.offsets.length),X=0,ee=0,ve=0;ve<K.length;++ve)if(K[ve]=X,ee<D.length&&D[ee]==ve){++ee,K[ve]=X;var de=this.offsets[ve],fe=this.offsets[ve+1]-de;fe>0&&(X+=fe)}for(var ke=new Array(4*K.length),Qe=0;Qe<K.length;++Qe)ke[4*Qe+3]=255&K[Qe],ke[4*Qe+2]=(65280&K[Qe])>>8,ke[4*Qe+1]=(16711680&K[Qe])>>16,ke[4*Qe]=(4278190080&K[Qe])>>24;return ke},B})(),ct=(function(){function B(N){this.font=N,this.subset={},this.unicodes={},this.next=33}return B.prototype.generateCmap=function(){var N,D,K,X,ee;for(D in X=this.font.cmap.tables[0].codeMap,N={},ee=this.subset)K=ee[D],N[D]=X[K];return N},B.prototype.glyphsFor=function(N){var D,K,X,ee,ve,de,fe;for(X={},ve=0,de=N.length;ve<de;ve++)X[ee=N[ve]]=this.font.glyf.glyphFor(ee);for(ee in D=[],X)(K=X[ee])!=null&&K.compound&&D.push.apply(D,K.glyphIDs);if(D.length>0)for(ee in fe=this.glyphsFor(D))K=fe[ee],X[ee]=K;return X},B.prototype.encode=function(N,D){var K,X,ee,ve,de,fe,ke,Qe,Xe,lt,Ce,_t,at,Tt,rt;for(X in K=go.encode(this.generateCmap(),"unicode"),ve=this.glyphsFor(N),Ce={0:0},rt=K.charMap)Ce[(fe=rt[X]).old]=fe.new;for(_t in lt=K.maxGlyphID,ve)_t in Ce||(Ce[_t]=lt++);return Qe=(function(Bt){var Yt,kt;for(Yt in kt={},Bt)kt[Bt[Yt]]=Yt;return kt})(Ce),Xe=Object.keys(Qe).sort(function(Bt,Yt){return Bt-Yt}),at=(function(){var Bt,Yt,kt;for(kt=[],Bt=0,Yt=Xe.length;Bt<Yt;Bt++)de=Xe[Bt],kt.push(Qe[de]);return kt})(),ee=this.font.glyf.encode(ve,at,Ce),ke=this.font.loca.encode(ee.offsets,at),Tt={cmap:this.font.cmap.raw(),glyf:ee.table,loca:ke,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(D)},this.font.os2.exists&&(Tt["OS/2"]=this.font.os2.raw()),this.font.directory.encode(Tt)},B})();et.API.PDFObject=(function(){var B;function N(){}return B=function(D,K){return(Array(K+1).join("0")+D).slice(-K)},N.convert=function(D){var K,X,ee,ve;if(Array.isArray(D))return"["+(function(){var de,fe,ke;for(ke=[],de=0,fe=D.length;de<fe;de++)K=D[de],ke.push(N.convert(K));return ke})().join(" ")+"]";if(typeof D=="string")return"/"+D;if(D?.isString)return"("+D+")";if(D instanceof Date)return"(D:"+B(D.getUTCFullYear(),4)+B(D.getUTCMonth(),2)+B(D.getUTCDate(),2)+B(D.getUTCHours(),2)+B(D.getUTCMinutes(),2)+B(D.getUTCSeconds(),2)+"Z)";if({}.toString.call(D)==="[object Object]"){for(X in ee=["<<"],D)ve=D[X],ee.push("/"+X+" "+N.convert(ve));return ee.push(">>"),ee.join(`
`)}return""+D},N})()}),"./node_modules/pako/dist/pako.esm.mjs":(function(c,u,l){l.r(u),l.d(u,{Deflate:function(){return Yr},Inflate:function(){return as},constants:function(){return Na},default:function(){return Go},deflate:function(){return ti},deflateRaw:function(){return ri},gzip:function(){return Yi},inflate:function(){return ra},inflateRaw:function(){return Ma},ungzip:function(){return Oo}});const d=4,f=0,A=1,p=2;function v(O){let Be=O.length;for(;--Be>=0;)O[Be]=0}const y=0,x=1,w=2,E=3,T=258,C=29,j=256,P=j+1+C,U=30,W=19,q=2*P+1,re=15,ie=16,Ae=7,be=256,Ee=16,ge=17,se=18,xe=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),ce=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Me=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Oe=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),we=512,ue=new Array((P+2)*2);v(ue);const ye=new Array(U*2);v(ye);const Le=new Array(we);v(Le);const He=new Array(T-E+1);v(He);const Fe=new Array(C);v(Fe);const At=new Array(U);v(At);function pt(O,Be,J,qe,wt){this.static_tree=O,this.extra_bits=Be,this.extra_base=J,this.elems=qe,this.max_length=wt,this.has_stree=O&&O.length}let Pe,st,et;function We(O,Be){this.dyn_tree=O,this.max_code=0,this.stat_desc=Be}const gt=O=>O<256?Le[O]:Le[256+(O>>>7)],Ge=(O,Be)=>{O.pending_buf[O.pending++]=Be&255,O.pending_buf[O.pending++]=Be>>>8&255},Ct=(O,Be,J)=>{O.bi_valid>ie-J?(O.bi_buf|=Be<<O.bi_valid&65535,Ge(O,O.bi_buf),O.bi_buf=Be>>ie-O.bi_valid,O.bi_valid+=J-ie):(O.bi_buf|=Be<<O.bi_valid&65535,O.bi_valid+=J)},Et=(O,Be,J)=>{Ct(O,J[Be*2],J[Be*2+1])},Ut=(O,Be)=>{let J=0;do J|=O&1,O>>>=1,J<<=1;while(--Be>0);return J>>>1},ir=O=>{O.bi_valid===16?(Ge(O,O.bi_buf),O.bi_buf=0,O.bi_valid=0):O.bi_valid>=8&&(O.pending_buf[O.pending++]=O.bi_buf&255,O.bi_buf>>=8,O.bi_valid-=8)},on=(O,Be)=>{const J=Be.dyn_tree,qe=Be.max_code,wt=Be.stat_desc.static_tree,bt=Be.stat_desc.has_stree,mr=Be.stat_desc.extra_bits,zt=Be.stat_desc.extra_base,Dn=Be.stat_desc.max_length;let Dt,pr,qi,jn,Xr,Br,Fa=0;for(jn=0;jn<=re;jn++)O.bl_count[jn]=0;for(J[O.heap[O.heap_max]*2+1]=0,Dt=O.heap_max+1;Dt<q;Dt++)pr=O.heap[Dt],jn=J[J[pr*2+1]*2+1]+1,jn>Dn&&(jn=Dn,Fa++),J[pr*2+1]=jn,!(pr>qe)&&(O.bl_count[jn]++,Xr=0,pr>=zt&&(Xr=mr[pr-zt]),Br=J[pr*2],O.opt_len+=Br*(jn+Xr),bt&&(O.static_len+=Br*(wt[pr*2+1]+Xr)));if(Fa!==0){do{for(jn=Dn-1;O.bl_count[jn]===0;)jn--;O.bl_count[jn]--,O.bl_count[jn+1]+=2,O.bl_count[Dn]--,Fa-=2}while(Fa>0);for(jn=Dn;jn!==0;jn--)for(pr=O.bl_count[jn];pr!==0;)qi=O.heap[--Dt],!(qi>qe)&&(J[qi*2+1]!==jn&&(O.opt_len+=(jn-J[qi*2+1])*J[qi*2],J[qi*2+1]=jn),pr--)}},kr=(O,Be,J)=>{const qe=new Array(re+1);let wt=0,bt,mr;for(bt=1;bt<=re;bt++)wt=wt+J[bt-1]<<1,qe[bt]=wt;for(mr=0;mr<=Be;mr++){let zt=O[mr*2+1];zt!==0&&(O[mr*2]=Ut(qe[zt]++,zt))}},rn=()=>{let O,Be,J,qe,wt;const bt=new Array(re+1);for(J=0,qe=0;qe<C-1;qe++)for(Fe[qe]=J,O=0;O<1<<xe[qe];O++)He[J++]=qe;for(He[J-1]=qe,wt=0,qe=0;qe<16;qe++)for(At[qe]=wt,O=0;O<1<<ce[qe];O++)Le[wt++]=qe;for(wt>>=7;qe<U;qe++)for(At[qe]=wt<<7,O=0;O<1<<ce[qe]-7;O++)Le[256+wt++]=qe;for(Be=0;Be<=re;Be++)bt[Be]=0;for(O=0;O<=143;)ue[O*2+1]=8,O++,bt[8]++;for(;O<=255;)ue[O*2+1]=9,O++,bt[9]++;for(;O<=279;)ue[O*2+1]=7,O++,bt[7]++;for(;O<=287;)ue[O*2+1]=8,O++,bt[8]++;for(kr(ue,P+1,bt),O=0;O<U;O++)ye[O*2+1]=5,ye[O*2]=Ut(O,5);Pe=new pt(ue,xe,j+1,P,re),st=new pt(ye,ce,0,U,re),et=new pt(new Array(0),Me,0,W,Ae)},wn=O=>{let Be;for(Be=0;Be<P;Be++)O.dyn_ltree[Be*2]=0;for(Be=0;Be<U;Be++)O.dyn_dtree[Be*2]=0;for(Be=0;Be<W;Be++)O.bl_tree[Be*2]=0;O.dyn_ltree[be*2]=1,O.opt_len=O.static_len=0,O.sym_next=O.matches=0},Mn=O=>{O.bi_valid>8?Ge(O,O.bi_buf):O.bi_valid>0&&(O.pending_buf[O.pending++]=O.bi_buf),O.bi_buf=0,O.bi_valid=0},dn=(O,Be,J,qe)=>{const wt=Be*2,bt=J*2;return O[wt]<O[bt]||O[wt]===O[bt]&&qe[Be]<=qe[J]},pn=(O,Be,J)=>{const qe=O.heap[J];let wt=J<<1;for(;wt<=O.heap_len&&(wt<O.heap_len&&dn(Be,O.heap[wt+1],O.heap[wt],O.depth)&&wt++,!dn(Be,qe,O.heap[wt],O.depth));)O.heap[J]=O.heap[wt],J=wt,wt<<=1;O.heap[J]=qe},mn=(O,Be,J)=>{let qe,wt,bt=0,mr,zt;if(O.sym_next!==0)do qe=O.pending_buf[O.sym_buf+bt++]&255,qe+=(O.pending_buf[O.sym_buf+bt++]&255)<<8,wt=O.pending_buf[O.sym_buf+bt++],qe===0?Et(O,wt,Be):(mr=He[wt],Et(O,mr+j+1,Be),zt=xe[mr],zt!==0&&(wt-=Fe[mr],Ct(O,wt,zt)),qe--,mr=gt(qe),Et(O,mr,J),zt=ce[mr],zt!==0&&(qe-=At[mr],Ct(O,qe,zt)));while(bt<O.sym_next);Et(O,be,Be)},Kn=(O,Be)=>{const J=Be.dyn_tree,qe=Be.stat_desc.static_tree,wt=Be.stat_desc.has_stree,bt=Be.stat_desc.elems;let mr,zt,Dn=-1,Dt;for(O.heap_len=0,O.heap_max=q,mr=0;mr<bt;mr++)J[mr*2]!==0?(O.heap[++O.heap_len]=Dn=mr,O.depth[mr]=0):J[mr*2+1]=0;for(;O.heap_len<2;)Dt=O.heap[++O.heap_len]=Dn<2?++Dn:0,J[Dt*2]=1,O.depth[Dt]=0,O.opt_len--,wt&&(O.static_len-=qe[Dt*2+1]);for(Be.max_code=Dn,mr=O.heap_len>>1;mr>=1;mr--)pn(O,J,mr);Dt=bt;do mr=O.heap[1],O.heap[1]=O.heap[O.heap_len--],pn(O,J,1),zt=O.heap[1],O.heap[--O.heap_max]=mr,O.heap[--O.heap_max]=zt,J[Dt*2]=J[mr*2]+J[zt*2],O.depth[Dt]=(O.depth[mr]>=O.depth[zt]?O.depth[mr]:O.depth[zt])+1,J[mr*2+1]=J[zt*2+1]=Dt,O.heap[1]=Dt++,pn(O,J,1);while(O.heap_len>=2);O.heap[--O.heap_max]=O.heap[1],on(O,Be),kr(J,Dn,O.bl_count)},Zn=(O,Be,J)=>{let qe,wt=-1,bt,mr=Be[1],zt=0,Dn=7,Dt=4;for(mr===0&&(Dn=138,Dt=3),Be[(J+1)*2+1]=65535,qe=0;qe<=J;qe++)bt=mr,mr=Be[(qe+1)*2+1],!(++zt<Dn&&bt===mr)&&(zt<Dt?O.bl_tree[bt*2]+=zt:bt!==0?(bt!==wt&&O.bl_tree[bt*2]++,O.bl_tree[Ee*2]++):zt<=10?O.bl_tree[ge*2]++:O.bl_tree[se*2]++,zt=0,wt=bt,mr===0?(Dn=138,Dt=3):bt===mr?(Dn=6,Dt=3):(Dn=7,Dt=4))},Li=(O,Be,J)=>{let qe,wt=-1,bt,mr=Be[1],zt=0,Dn=7,Dt=4;for(mr===0&&(Dn=138,Dt=3),qe=0;qe<=J;qe++)if(bt=mr,mr=Be[(qe+1)*2+1],!(++zt<Dn&&bt===mr)){if(zt<Dt)do Et(O,bt,O.bl_tree);while(--zt!==0);else bt!==0?(bt!==wt&&(Et(O,bt,O.bl_tree),zt--),Et(O,Ee,O.bl_tree),Ct(O,zt-3,2)):zt<=10?(Et(O,ge,O.bl_tree),Ct(O,zt-3,3)):(Et(O,se,O.bl_tree),Ct(O,zt-11,7));zt=0,wt=bt,mr===0?(Dn=138,Dt=3):bt===mr?(Dn=6,Dt=3):(Dn=7,Dt=4)}},ot=O=>{let Be;for(Zn(O,O.dyn_ltree,O.l_desc.max_code),Zn(O,O.dyn_dtree,O.d_desc.max_code),Kn(O,O.bl_desc),Be=W-1;Be>=3&&O.bl_tree[Oe[Be]*2+1]===0;Be--);return O.opt_len+=3*(Be+1)+5+5+4,Be},Wt=(O,Be,J,qe)=>{let wt;for(Ct(O,Be-257,5),Ct(O,J-1,5),Ct(O,qe-4,4),wt=0;wt<qe;wt++)Ct(O,O.bl_tree[Oe[wt]*2+1],3);Li(O,O.dyn_ltree,Be-1),Li(O,O.dyn_dtree,J-1)},jr=O=>{let Be=4093624447,J;for(J=0;J<=31;J++,Be>>>=1)if(Be&1&&O.dyn_ltree[J*2]!==0)return f;if(O.dyn_ltree[18]!==0||O.dyn_ltree[20]!==0||O.dyn_ltree[26]!==0)return A;for(J=32;J<j;J++)if(O.dyn_ltree[J*2]!==0)return A;return f};let rr=!1;const Ht=O=>{rr||(rn(),rr=!0),O.l_desc=new We(O.dyn_ltree,Pe),O.d_desc=new We(O.dyn_dtree,st),O.bl_desc=new We(O.bl_tree,et),O.bi_buf=0,O.bi_valid=0,wn(O)},fr=(O,Be,J,qe)=>{Ct(O,(y<<1)+(qe?1:0),3),Mn(O),Ge(O,J),Ge(O,~J),J&&O.pending_buf.set(O.window.subarray(Be,Be+J),O.pending),O.pending+=J},Hr=O=>{Ct(O,x<<1,3),Et(O,be,ue),ir(O)},Gr=(O,Be,J,qe)=>{let wt,bt,mr=0;O.level>0?(O.strm.data_type===p&&(O.strm.data_type=jr(O)),Kn(O,O.l_desc),Kn(O,O.d_desc),mr=ot(O),wt=O.opt_len+3+7>>>3,bt=O.static_len+3+7>>>3,bt<=wt&&(wt=bt)):wt=bt=J+5,J+4<=wt&&Be!==-1?fr(O,Be,J,qe):O.strategy===d||bt===wt?(Ct(O,(x<<1)+(qe?1:0),3),mn(O,ue,ye)):(Ct(O,(w<<1)+(qe?1:0),3),Wt(O,O.l_desc.max_code+1,O.d_desc.max_code+1,mr+1),mn(O,O.dyn_ltree,O.dyn_dtree)),wn(O),qe&&Mn(O)},Ln=(O,Be,J)=>(O.pending_buf[O.sym_buf+O.sym_next++]=Be,O.pending_buf[O.sym_buf+O.sym_next++]=Be>>8,O.pending_buf[O.sym_buf+O.sym_next++]=J,Be===0?O.dyn_ltree[J*2]++:(O.matches++,Be--,O.dyn_ltree[(He[J]+j+1)*2]++,O.dyn_dtree[gt(Be)*2]++),O.sym_next===O.sym_end);var ln=Ht,Jn=fr,en=Gr,Dr=Ln,An=Hr,cn={_tr_init:ln,_tr_stored_block:Jn,_tr_flush_block:en,_tr_tally:Dr,_tr_align:An},li=(O,Be,J,qe)=>{let wt=O&65535|0,bt=O>>>16&65535|0,mr=0;for(;J!==0;){mr=J>2e3?2e3:J,J-=mr;do wt=wt+Be[qe++]|0,bt=bt+wt|0;while(--mr);wt%=65521,bt%=65521}return wt|bt<<16|0};const Ts=()=>{let O,Be=[];for(var J=0;J<256;J++){O=J;for(var qe=0;qe<8;qe++)O=O&1?3988292384^O>>>1:O>>>1;Be[J]=O}return Be},Rs=new Uint32Array(Ts());var ei=(O,Be,J,qe)=>{const wt=Rs,bt=qe+J;O^=-1;for(let mr=qe;mr<bt;mr++)O=O>>>8^wt[(O^Be[mr])&255];return O^-1},nn={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},ss={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:ea,_tr_stored_block:En,_tr_flush_block:Tn,_tr_tally:Ds,_tr_align:$s}=cn,{Z_NO_FLUSH:Ms,Z_PARTIAL_FLUSH:rs,Z_FULL_FLUSH:Ys,Z_FINISH:Os,Z_BLOCK:Qa,Z_OK:ds,Z_STREAM_END:yu,Z_STREAM_ERROR:to,Z_DATA_ERROR:Ml,Z_BUF_ERROR:tu,Z_DEFAULT_COMPRESSION:ml,Z_FILTERED:ta,Z_HUFFMAN_ONLY:Ya,Z_RLE:Gs,Z_FIXED:ba,Z_DEFAULT_STRATEGY:Fs,Z_UNKNOWN:kl,Z_DEFLATED:po}=ss,ro=9,pl=15,Fl=8,ci=256+1+29,js=30,Ta=19,Va=2*ci+1,Ca=15,gi=3,Xn=258,hs=Xn+gi+1,wa=32,Ho=42,Hi=57,Qo=69,Ea=73,qs=91,fs=103,So=113,za=666,Qs=1,qa=2,go=3,no=4,Vo=3,$t=(O,Be)=>(O.msg=nn[Be],Be),V=O=>O*2-(O>4?9:0),ne=O=>{let Be=O.length;for(;--Be>=0;)O[Be]=0},oe=O=>{let Be,J,qe,wt=O.w_size;Be=O.hash_size,qe=Be;do J=O.head[--qe],O.head[qe]=J>=wt?J-wt:0;while(--Be);Be=wt,qe=Be;do J=O.prev[--qe],O.prev[qe]=J>=wt?J-wt:0;while(--Be)};let z=(O,Be,J)=>(Be<<O.hash_shift^J)&O.hash_mask;const te=O=>{const Be=O.state;let J=Be.pending;J>O.avail_out&&(J=O.avail_out),J!==0&&(O.output.set(Be.pending_buf.subarray(Be.pending_out,Be.pending_out+J),O.next_out),O.next_out+=J,Be.pending_out+=J,O.total_out+=J,O.avail_out-=J,Be.pending-=J,Be.pending===0&&(Be.pending_out=0))},he=(O,Be)=>{Tn(O,O.block_start>=0?O.block_start:-1,O.strstart-O.block_start,Be),O.block_start=O.strstart,te(O.strm)},Te=(O,Be)=>{O.pending_buf[O.pending++]=Be},Ue=(O,Be)=>{O.pending_buf[O.pending++]=Be>>>8&255,O.pending_buf[O.pending++]=Be&255},ct=(O,Be,J,qe)=>{let wt=O.avail_in;return wt>qe&&(wt=qe),wt===0?0:(O.avail_in-=wt,Be.set(O.input.subarray(O.next_in,O.next_in+wt),J),O.state.wrap===1?O.adler=li(O.adler,Be,wt,J):O.state.wrap===2&&(O.adler=ei(O.adler,Be,wt,J)),O.next_in+=wt,O.total_in+=wt,wt)},B=(O,Be)=>{let J=O.max_chain_length,qe=O.strstart,wt,bt,mr=O.prev_length,zt=O.nice_match;const Dn=O.strstart>O.w_size-hs?O.strstart-(O.w_size-hs):0,Dt=O.window,pr=O.w_mask,qi=O.prev,jn=O.strstart+Xn;let Xr=Dt[qe+mr-1],Br=Dt[qe+mr];O.prev_length>=O.good_match&&(J>>=2),zt>O.lookahead&&(zt=O.lookahead);do if(wt=Be,!(Dt[wt+mr]!==Br||Dt[wt+mr-1]!==Xr||Dt[wt]!==Dt[qe]||Dt[++wt]!==Dt[qe+1])){qe+=2,wt++;do;while(Dt[++qe]===Dt[++wt]&&Dt[++qe]===Dt[++wt]&&Dt[++qe]===Dt[++wt]&&Dt[++qe]===Dt[++wt]&&Dt[++qe]===Dt[++wt]&&Dt[++qe]===Dt[++wt]&&Dt[++qe]===Dt[++wt]&&Dt[++qe]===Dt[++wt]&&qe<jn);if(bt=Xn-(jn-qe),qe=jn-Xn,bt>mr){if(O.match_start=Be,mr=bt,bt>=zt)break;Xr=Dt[qe+mr-1],Br=Dt[qe+mr]}}while((Be=qi[Be&pr])>Dn&&--J!==0);return mr<=O.lookahead?mr:O.lookahead},N=O=>{const Be=O.w_size;let J,qe,wt;do{if(qe=O.window_size-O.lookahead-O.strstart,O.strstart>=Be+(Be-hs)&&(O.window.set(O.window.subarray(Be,Be+Be-qe),0),O.match_start-=Be,O.strstart-=Be,O.block_start-=Be,O.insert>O.strstart&&(O.insert=O.strstart),oe(O),qe+=Be),O.strm.avail_in===0)break;if(J=ct(O.strm,O.window,O.strstart+O.lookahead,qe),O.lookahead+=J,O.lookahead+O.insert>=gi)for(wt=O.strstart-O.insert,O.ins_h=O.window[wt],O.ins_h=z(O,O.ins_h,O.window[wt+1]);O.insert&&(O.ins_h=z(O,O.ins_h,O.window[wt+gi-1]),O.prev[wt&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=wt,wt++,O.insert--,!(O.lookahead+O.insert<gi)););}while(O.lookahead<hs&&O.strm.avail_in!==0)},D=(O,Be)=>{let J=O.pending_buf_size-5>O.w_size?O.w_size:O.pending_buf_size-5,qe,wt,bt,mr=0,zt=O.strm.avail_in;do{if(qe=65535,bt=O.bi_valid+42>>3,O.strm.avail_out<bt||(bt=O.strm.avail_out-bt,wt=O.strstart-O.block_start,qe>wt+O.strm.avail_in&&(qe=wt+O.strm.avail_in),qe>bt&&(qe=bt),qe<J&&(qe===0&&Be!==Os||Be===Ms||qe!==wt+O.strm.avail_in)))break;mr=Be===Os&&qe===wt+O.strm.avail_in?1:0,En(O,0,0,mr),O.pending_buf[O.pending-4]=qe,O.pending_buf[O.pending-3]=qe>>8,O.pending_buf[O.pending-2]=~qe,O.pending_buf[O.pending-1]=~qe>>8,te(O.strm),wt&&(wt>qe&&(wt=qe),O.strm.output.set(O.window.subarray(O.block_start,O.block_start+wt),O.strm.next_out),O.strm.next_out+=wt,O.strm.avail_out-=wt,O.strm.total_out+=wt,O.block_start+=wt,qe-=wt),qe&&(ct(O.strm,O.strm.output,O.strm.next_out,qe),O.strm.next_out+=qe,O.strm.avail_out-=qe,O.strm.total_out+=qe)}while(mr===0);return zt-=O.strm.avail_in,zt&&(zt>=O.w_size?(O.matches=2,O.window.set(O.strm.input.subarray(O.strm.next_in-O.w_size,O.strm.next_in),0),O.strstart=O.w_size,O.insert=O.strstart):(O.window_size-O.strstart<=zt&&(O.strstart-=O.w_size,O.window.set(O.window.subarray(O.w_size,O.w_size+O.strstart),0),O.matches<2&&O.matches++,O.insert>O.strstart&&(O.insert=O.strstart)),O.window.set(O.strm.input.subarray(O.strm.next_in-zt,O.strm.next_in),O.strstart),O.strstart+=zt,O.insert+=zt>O.w_size-O.insert?O.w_size-O.insert:zt),O.block_start=O.strstart),O.high_water<O.strstart&&(O.high_water=O.strstart),mr?no:Be!==Ms&&Be!==Os&&O.strm.avail_in===0&&O.strstart===O.block_start?qa:(bt=O.window_size-O.strstart,O.strm.avail_in>bt&&O.block_start>=O.w_size&&(O.block_start-=O.w_size,O.strstart-=O.w_size,O.window.set(O.window.subarray(O.w_size,O.w_size+O.strstart),0),O.matches<2&&O.matches++,bt+=O.w_size,O.insert>O.strstart&&(O.insert=O.strstart)),bt>O.strm.avail_in&&(bt=O.strm.avail_in),bt&&(ct(O.strm,O.window,O.strstart,bt),O.strstart+=bt,O.insert+=bt>O.w_size-O.insert?O.w_size-O.insert:bt),O.high_water<O.strstart&&(O.high_water=O.strstart),bt=O.bi_valid+42>>3,bt=O.pending_buf_size-bt>65535?65535:O.pending_buf_size-bt,J=bt>O.w_size?O.w_size:bt,wt=O.strstart-O.block_start,(wt>=J||(wt||Be===Os)&&Be!==Ms&&O.strm.avail_in===0&&wt<=bt)&&(qe=wt>bt?bt:wt,mr=Be===Os&&O.strm.avail_in===0&&qe===wt?1:0,En(O,O.block_start,qe,mr),O.block_start+=qe,te(O.strm)),mr?go:Qs)},K=(O,Be)=>{let J,qe;for(;;){if(O.lookahead<hs){if(N(O),O.lookahead<hs&&Be===Ms)return Qs;if(O.lookahead===0)break}if(J=0,O.lookahead>=gi&&(O.ins_h=z(O,O.ins_h,O.window[O.strstart+gi-1]),J=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart),J!==0&&O.strstart-J<=O.w_size-hs&&(O.match_length=B(O,J)),O.match_length>=gi)if(qe=Ds(O,O.strstart-O.match_start,O.match_length-gi),O.lookahead-=O.match_length,O.match_length<=O.max_lazy_match&&O.lookahead>=gi){O.match_length--;do O.strstart++,O.ins_h=z(O,O.ins_h,O.window[O.strstart+gi-1]),J=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart;while(--O.match_length!==0);O.strstart++}else O.strstart+=O.match_length,O.match_length=0,O.ins_h=O.window[O.strstart],O.ins_h=z(O,O.ins_h,O.window[O.strstart+1]);else qe=Ds(O,0,O.window[O.strstart]),O.lookahead--,O.strstart++;if(qe&&(he(O,!1),O.strm.avail_out===0))return Qs}return O.insert=O.strstart<gi-1?O.strstart:gi-1,Be===Os?(he(O,!0),O.strm.avail_out===0?go:no):O.sym_next&&(he(O,!1),O.strm.avail_out===0)?Qs:qa},X=(O,Be)=>{let J,qe,wt;for(;;){if(O.lookahead<hs){if(N(O),O.lookahead<hs&&Be===Ms)return Qs;if(O.lookahead===0)break}if(J=0,O.lookahead>=gi&&(O.ins_h=z(O,O.ins_h,O.window[O.strstart+gi-1]),J=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart),O.prev_length=O.match_length,O.prev_match=O.match_start,O.match_length=gi-1,J!==0&&O.prev_length<O.max_lazy_match&&O.strstart-J<=O.w_size-hs&&(O.match_length=B(O,J),O.match_length<=5&&(O.strategy===ta||O.match_length===gi&&O.strstart-O.match_start>4096)&&(O.match_length=gi-1)),O.prev_length>=gi&&O.match_length<=O.prev_length){wt=O.strstart+O.lookahead-gi,qe=Ds(O,O.strstart-1-O.prev_match,O.prev_length-gi),O.lookahead-=O.prev_length-1,O.prev_length-=2;do++O.strstart<=wt&&(O.ins_h=z(O,O.ins_h,O.window[O.strstart+gi-1]),J=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart);while(--O.prev_length!==0);if(O.match_available=0,O.match_length=gi-1,O.strstart++,qe&&(he(O,!1),O.strm.avail_out===0))return Qs}else if(O.match_available){if(qe=Ds(O,0,O.window[O.strstart-1]),qe&&he(O,!1),O.strstart++,O.lookahead--,O.strm.avail_out===0)return Qs}else O.match_available=1,O.strstart++,O.lookahead--}return O.match_available&&(qe=Ds(O,0,O.window[O.strstart-1]),O.match_available=0),O.insert=O.strstart<gi-1?O.strstart:gi-1,Be===Os?(he(O,!0),O.strm.avail_out===0?go:no):O.sym_next&&(he(O,!1),O.strm.avail_out===0)?Qs:qa},ee=(O,Be)=>{let J,qe,wt,bt;const mr=O.window;for(;;){if(O.lookahead<=Xn){if(N(O),O.lookahead<=Xn&&Be===Ms)return Qs;if(O.lookahead===0)break}if(O.match_length=0,O.lookahead>=gi&&O.strstart>0&&(wt=O.strstart-1,qe=mr[wt],qe===mr[++wt]&&qe===mr[++wt]&&qe===mr[++wt])){bt=O.strstart+Xn;do;while(qe===mr[++wt]&&qe===mr[++wt]&&qe===mr[++wt]&&qe===mr[++wt]&&qe===mr[++wt]&&qe===mr[++wt]&&qe===mr[++wt]&&qe===mr[++wt]&&wt<bt);O.match_length=Xn-(bt-wt),O.match_length>O.lookahead&&(O.match_length=O.lookahead)}if(O.match_length>=gi?(J=Ds(O,1,O.match_length-gi),O.lookahead-=O.match_length,O.strstart+=O.match_length,O.match_length=0):(J=Ds(O,0,O.window[O.strstart]),O.lookahead--,O.strstart++),J&&(he(O,!1),O.strm.avail_out===0))return Qs}return O.insert=0,Be===Os?(he(O,!0),O.strm.avail_out===0?go:no):O.sym_next&&(he(O,!1),O.strm.avail_out===0)?Qs:qa},ve=(O,Be)=>{let J;for(;;){if(O.lookahead===0&&(N(O),O.lookahead===0)){if(Be===Ms)return Qs;break}if(O.match_length=0,J=Ds(O,0,O.window[O.strstart]),O.lookahead--,O.strstart++,J&&(he(O,!1),O.strm.avail_out===0))return Qs}return O.insert=0,Be===Os?(he(O,!0),O.strm.avail_out===0?go:no):O.sym_next&&(he(O,!1),O.strm.avail_out===0)?Qs:qa};function de(O,Be,J,qe,wt){this.good_length=O,this.max_lazy=Be,this.nice_length=J,this.max_chain=qe,this.func=wt}const fe=[new de(0,0,0,0,D),new de(4,4,8,4,K),new de(4,5,16,8,K),new de(4,6,32,32,K),new de(4,4,16,16,X),new de(8,16,32,32,X),new de(8,16,128,128,X),new de(8,32,128,256,X),new de(32,128,258,1024,X),new de(32,258,258,4096,X)],ke=O=>{O.window_size=2*O.w_size,ne(O.head),O.max_lazy_match=fe[O.level].max_lazy,O.good_match=fe[O.level].good_length,O.nice_match=fe[O.level].nice_length,O.max_chain_length=fe[O.level].max_chain,O.strstart=0,O.block_start=0,O.lookahead=0,O.insert=0,O.match_length=O.prev_length=gi-1,O.match_available=0,O.ins_h=0};function Qe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=po,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Va*2),this.dyn_dtree=new Uint16Array((2*js+1)*2),this.bl_tree=new Uint16Array((2*Ta+1)*2),ne(this.dyn_ltree),ne(this.dyn_dtree),ne(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Ca+1),this.heap=new Uint16Array(2*ci+1),ne(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*ci+1),ne(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Xe=O=>{if(!O)return 1;const Be=O.state;return!Be||Be.strm!==O||Be.status!==Ho&&Be.status!==Hi&&Be.status!==Qo&&Be.status!==Ea&&Be.status!==qs&&Be.status!==fs&&Be.status!==So&&Be.status!==za?1:0},lt=O=>{if(Xe(O))return $t(O,to);O.total_in=O.total_out=0,O.data_type=kl;const Be=O.state;return Be.pending=0,Be.pending_out=0,Be.wrap<0&&(Be.wrap=-Be.wrap),Be.status=Be.wrap===2?Hi:Be.wrap?Ho:So,O.adler=Be.wrap===2?0:1,Be.last_flush=-2,ea(Be),ds},Ce=O=>{const Be=lt(O);return Be===ds&&ke(O.state),Be},_t=(O,Be)=>Xe(O)||O.state.wrap!==2?to:(O.state.gzhead=Be,ds),at=(O,Be,J,qe,wt,bt)=>{if(!O)return to;let mr=1;if(Be===ml&&(Be=6),qe<0?(mr=0,qe=-qe):qe>15&&(mr=2,qe-=16),wt<1||wt>ro||J!==po||qe<8||qe>15||Be<0||Be>9||bt<0||bt>ba||qe===8&&mr!==1)return $t(O,to);qe===8&&(qe=9);const zt=new Qe;return O.state=zt,zt.strm=O,zt.status=Ho,zt.wrap=mr,zt.gzhead=null,zt.w_bits=qe,zt.w_size=1<<zt.w_bits,zt.w_mask=zt.w_size-1,zt.hash_bits=wt+7,zt.hash_size=1<<zt.hash_bits,zt.hash_mask=zt.hash_size-1,zt.hash_shift=~~((zt.hash_bits+gi-1)/gi),zt.window=new Uint8Array(zt.w_size*2),zt.head=new Uint16Array(zt.hash_size),zt.prev=new Uint16Array(zt.w_size),zt.lit_bufsize=1<<wt+6,zt.pending_buf_size=zt.lit_bufsize*4,zt.pending_buf=new Uint8Array(zt.pending_buf_size),zt.sym_buf=zt.lit_bufsize,zt.sym_end=(zt.lit_bufsize-1)*3,zt.level=Be,zt.strategy=bt,zt.method=J,Ce(O)},Tt=(O,Be)=>at(O,Be,po,pl,Fl,Fs),rt=(O,Be)=>{if(Xe(O)||Be>Qa||Be<0)return O?$t(O,to):to;const J=O.state;if(!O.output||O.avail_in!==0&&!O.input||J.status===za&&Be!==Os)return $t(O,O.avail_out===0?tu:to);const qe=J.last_flush;if(J.last_flush=Be,J.pending!==0){if(te(O),O.avail_out===0)return J.last_flush=-1,ds}else if(O.avail_in===0&&V(Be)<=V(qe)&&Be!==Os)return $t(O,tu);if(J.status===za&&O.avail_in!==0)return $t(O,tu);if(J.status===Ho&&J.wrap===0&&(J.status=So),J.status===Ho){let wt=po+(J.w_bits-8<<4)<<8,bt=-1;if(J.strategy>=Ya||J.level<2?bt=0:J.level<6?bt=1:J.level===6?bt=2:bt=3,wt|=bt<<6,J.strstart!==0&&(wt|=wa),wt+=31-wt%31,Ue(J,wt),J.strstart!==0&&(Ue(J,O.adler>>>16),Ue(J,O.adler&65535)),O.adler=1,J.status=So,te(O),J.pending!==0)return J.last_flush=-1,ds}if(J.status===Hi){if(O.adler=0,Te(J,31),Te(J,139),Te(J,8),J.gzhead)Te(J,(J.gzhead.text?1:0)+(J.gzhead.hcrc?2:0)+(J.gzhead.extra?4:0)+(J.gzhead.name?8:0)+(J.gzhead.comment?16:0)),Te(J,J.gzhead.time&255),Te(J,J.gzhead.time>>8&255),Te(J,J.gzhead.time>>16&255),Te(J,J.gzhead.time>>24&255),Te(J,J.level===9?2:J.strategy>=Ya||J.level<2?4:0),Te(J,J.gzhead.os&255),J.gzhead.extra&&J.gzhead.extra.length&&(Te(J,J.gzhead.extra.length&255),Te(J,J.gzhead.extra.length>>8&255)),J.gzhead.hcrc&&(O.adler=ei(O.adler,J.pending_buf,J.pending,0)),J.gzindex=0,J.status=Qo;else if(Te(J,0),Te(J,0),Te(J,0),Te(J,0),Te(J,0),Te(J,J.level===9?2:J.strategy>=Ya||J.level<2?4:0),Te(J,Vo),J.status=So,te(O),J.pending!==0)return J.last_flush=-1,ds}if(J.status===Qo){if(J.gzhead.extra){let wt=J.pending,bt=(J.gzhead.extra.length&65535)-J.gzindex;for(;J.pending+bt>J.pending_buf_size;){let zt=J.pending_buf_size-J.pending;if(J.pending_buf.set(J.gzhead.extra.subarray(J.gzindex,J.gzindex+zt),J.pending),J.pending=J.pending_buf_size,J.gzhead.hcrc&&J.pending>wt&&(O.adler=ei(O.adler,J.pending_buf,J.pending-wt,wt)),J.gzindex+=zt,te(O),J.pending!==0)return J.last_flush=-1,ds;wt=0,bt-=zt}let mr=new Uint8Array(J.gzhead.extra);J.pending_buf.set(mr.subarray(J.gzindex,J.gzindex+bt),J.pending),J.pending+=bt,J.gzhead.hcrc&&J.pending>wt&&(O.adler=ei(O.adler,J.pending_buf,J.pending-wt,wt)),J.gzindex=0}J.status=Ea}if(J.status===Ea){if(J.gzhead.name){let wt=J.pending,bt;do{if(J.pending===J.pending_buf_size){if(J.gzhead.hcrc&&J.pending>wt&&(O.adler=ei(O.adler,J.pending_buf,J.pending-wt,wt)),te(O),J.pending!==0)return J.last_flush=-1,ds;wt=0}J.gzindex<J.gzhead.name.length?bt=J.gzhead.name.charCodeAt(J.gzindex++)&255:bt=0,Te(J,bt)}while(bt!==0);J.gzhead.hcrc&&J.pending>wt&&(O.adler=ei(O.adler,J.pending_buf,J.pending-wt,wt)),J.gzindex=0}J.status=qs}if(J.status===qs){if(J.gzhead.comment){let wt=J.pending,bt;do{if(J.pending===J.pending_buf_size){if(J.gzhead.hcrc&&J.pending>wt&&(O.adler=ei(O.adler,J.pending_buf,J.pending-wt,wt)),te(O),J.pending!==0)return J.last_flush=-1,ds;wt=0}J.gzindex<J.gzhead.comment.length?bt=J.gzhead.comment.charCodeAt(J.gzindex++)&255:bt=0,Te(J,bt)}while(bt!==0);J.gzhead.hcrc&&J.pending>wt&&(O.adler=ei(O.adler,J.pending_buf,J.pending-wt,wt))}J.status=fs}if(J.status===fs){if(J.gzhead.hcrc){if(J.pending+2>J.pending_buf_size&&(te(O),J.pending!==0))return J.last_flush=-1,ds;Te(J,O.adler&255),Te(J,O.adler>>8&255),O.adler=0}if(J.status=So,te(O),J.pending!==0)return J.last_flush=-1,ds}if(O.avail_in!==0||J.lookahead!==0||Be!==Ms&&J.status!==za){let wt=J.level===0?D(J,Be):J.strategy===Ya?ve(J,Be):J.strategy===Gs?ee(J,Be):fe[J.level].func(J,Be);if((wt===go||wt===no)&&(J.status=za),wt===Qs||wt===go)return O.avail_out===0&&(J.last_flush=-1),ds;if(wt===qa&&(Be===rs?$s(J):Be!==Qa&&(En(J,0,0,!1),Be===Ys&&(ne(J.head),J.lookahead===0&&(J.strstart=0,J.block_start=0,J.insert=0))),te(O),O.avail_out===0))return J.last_flush=-1,ds}return Be!==Os?ds:J.wrap<=0?yu:(J.wrap===2?(Te(J,O.adler&255),Te(J,O.adler>>8&255),Te(J,O.adler>>16&255),Te(J,O.adler>>24&255),Te(J,O.total_in&255),Te(J,O.total_in>>8&255),Te(J,O.total_in>>16&255),Te(J,O.total_in>>24&255)):(Ue(J,O.adler>>>16),Ue(J,O.adler&65535)),te(O),J.wrap>0&&(J.wrap=-J.wrap),J.pending!==0?ds:yu)},Bt=O=>{if(Xe(O))return to;const Be=O.state.status;return O.state=null,Be===So?$t(O,Ml):ds},Yt=(O,Be)=>{let J=Be.length;if(Xe(O))return to;const qe=O.state,wt=qe.wrap;if(wt===2||wt===1&&qe.status!==Ho||qe.lookahead)return to;if(wt===1&&(O.adler=li(O.adler,Be,J,0)),qe.wrap=0,J>=qe.w_size){wt===0&&(ne(qe.head),qe.strstart=0,qe.block_start=0,qe.insert=0);let Dn=new Uint8Array(qe.w_size);Dn.set(Be.subarray(J-qe.w_size,J),0),Be=Dn,J=qe.w_size}const bt=O.avail_in,mr=O.next_in,zt=O.input;for(O.avail_in=J,O.next_in=0,O.input=Be,N(qe);qe.lookahead>=gi;){let Dn=qe.strstart,Dt=qe.lookahead-(gi-1);do qe.ins_h=z(qe,qe.ins_h,qe.window[Dn+gi-1]),qe.prev[Dn&qe.w_mask]=qe.head[qe.ins_h],qe.head[qe.ins_h]=Dn,Dn++;while(--Dt);qe.strstart=Dn,qe.lookahead=gi-1,N(qe)}return qe.strstart+=qe.lookahead,qe.block_start=qe.strstart,qe.insert=qe.lookahead,qe.lookahead=0,qe.match_length=qe.prev_length=gi-1,qe.match_available=0,O.next_in=mr,O.input=zt,O.avail_in=bt,qe.wrap=wt,ds};var kt=Tt,tt=at,Vt=Ce,Er=lt,nr=_t,Rt=rt,yr=Bt,it=Yt,ft="pako deflate (from Nodeca project)",Ot={deflateInit:kt,deflateInit2:tt,deflateReset:Vt,deflateResetKeep:Er,deflateSetHeader:nr,deflate:Rt,deflateEnd:yr,deflateSetDictionary:it,deflateInfo:ft};const Pt=(O,Be)=>Object.prototype.hasOwnProperty.call(O,Be);var Ar=function(O){const Be=Array.prototype.slice.call(arguments,1);for(;Be.length;){const J=Be.shift();if(J){if(typeof J!="object")throw new TypeError(J+"must be non-object");for(const qe in J)Pt(J,qe)&&(O[qe]=J[qe])}}return O},Tr=O=>{let Be=0;for(let qe=0,wt=O.length;qe<wt;qe++)Be+=O[qe].length;const J=new Uint8Array(Be);for(let qe=0,wt=0,bt=O.length;qe<bt;qe++){let mr=O[qe];J.set(mr,wt),wt+=mr.length}return J},Lr={assign:Ar,flattenChunks:Tr};let ar=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{ar=!1}const Ir=new Uint8Array(256);for(let O=0;O<256;O++)Ir[O]=O>=252?6:O>=248?5:O>=240?4:O>=224?3:O>=192?2:1;Ir[254]=Ir[254]=1;var hn=O=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(O);let Be,J,qe,wt,bt,mr=O.length,zt=0;for(wt=0;wt<mr;wt++)J=O.charCodeAt(wt),(J&64512)===55296&&wt+1<mr&&(qe=O.charCodeAt(wt+1),(qe&64512)===56320&&(J=65536+(J-55296<<10)+(qe-56320),wt++)),zt+=J<128?1:J<2048?2:J<65536?3:4;for(Be=new Uint8Array(zt),bt=0,wt=0;bt<zt;wt++)J=O.charCodeAt(wt),(J&64512)===55296&&wt+1<mr&&(qe=O.charCodeAt(wt+1),(qe&64512)===56320&&(J=65536+(J-55296<<10)+(qe-56320),wt++)),J<128?Be[bt++]=J:J<2048?(Be[bt++]=192|J>>>6,Be[bt++]=128|J&63):J<65536?(Be[bt++]=224|J>>>12,Be[bt++]=128|J>>>6&63,Be[bt++]=128|J&63):(Be[bt++]=240|J>>>18,Be[bt++]=128|J>>>12&63,Be[bt++]=128|J>>>6&63,Be[bt++]=128|J&63);return Be};const Zr=(O,Be)=>{if(Be<65534&&O.subarray&&ar)return String.fromCharCode.apply(null,O.length===Be?O:O.subarray(0,Be));let J="";for(let qe=0;qe<Be;qe++)J+=String.fromCharCode(O[qe]);return J};var Ye=(O,Be)=>{const J=Be||O.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(O.subarray(0,Be));let qe,wt;const bt=new Array(J*2);for(wt=0,qe=0;qe<J;){let mr=O[qe++];if(mr<128){bt[wt++]=mr;continue}let zt=Ir[mr];if(zt>4){bt[wt++]=65533,qe+=zt-1;continue}for(mr&=zt===2?31:zt===3?15:7;zt>1&&qe<J;)mr=mr<<6|O[qe++]&63,zt--;if(zt>1){bt[wt++]=65533;continue}mr<65536?bt[wt++]=mr:(mr-=65536,bt[wt++]=55296|mr>>10&1023,bt[wt++]=56320|mr&1023)}return Zr(bt,wt)},St=(O,Be)=>{Be=Be||O.length,Be>O.length&&(Be=O.length);let J=Be-1;for(;J>=0&&(O[J]&192)===128;)J--;return J<0||J===0?Be:J+Ir[O[J]]>Be?J:Be},Nt={string2buf:hn,buf2string:Ye,utf8border:St};function Kt(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var qt=Kt;const cr=Object.prototype.toString,{Z_NO_FLUSH:Cr,Z_SYNC_FLUSH:Sr,Z_FULL_FLUSH:Vr,Z_FINISH:un,Z_OK:bn,Z_STREAM_END:Rn,Z_DEFAULT_COMPRESSION:yi,Z_DEFAULT_STRATEGY:mt,Z_DEFLATED:_n}=ss;function Ri(O){this.options=Lr.assign({level:yi,method:_n,chunkSize:16384,windowBits:15,memLevel:8,strategy:mt},O||{});let Be=this.options;Be.raw&&Be.windowBits>0?Be.windowBits=-Be.windowBits:Be.gzip&&Be.windowBits>0&&Be.windowBits<16&&(Be.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new qt,this.strm.avail_out=0;let J=Ot.deflateInit2(this.strm,Be.level,Be.method,Be.windowBits,Be.memLevel,Be.strategy);if(J!==bn)throw new Error(nn[J]);if(Be.header&&Ot.deflateSetHeader(this.strm,Be.header),Be.dictionary){let qe;if(typeof Be.dictionary=="string"?qe=Nt.string2buf(Be.dictionary):cr.call(Be.dictionary)==="[object ArrayBuffer]"?qe=new Uint8Array(Be.dictionary):qe=Be.dictionary,J=Ot.deflateSetDictionary(this.strm,qe),J!==bn)throw new Error(nn[J]);this._dict_set=!0}}Ri.prototype.push=function(O,Be){const J=this.strm,qe=this.options.chunkSize;let wt,bt;if(this.ended)return!1;for(Be===~~Be?bt=Be:bt=Be===!0?un:Cr,typeof O=="string"?J.input=Nt.string2buf(O):cr.call(O)==="[object ArrayBuffer]"?J.input=new Uint8Array(O):J.input=O,J.next_in=0,J.avail_in=J.input.length;;){if(J.avail_out===0&&(J.output=new Uint8Array(qe),J.next_out=0,J.avail_out=qe),(bt===Sr||bt===Vr)&&J.avail_out<=6){this.onData(J.output.subarray(0,J.next_out)),J.avail_out=0;continue}if(wt=Ot.deflate(J,bt),wt===Rn)return J.next_out>0&&this.onData(J.output.subarray(0,J.next_out)),wt=Ot.deflateEnd(this.strm),this.onEnd(wt),this.ended=!0,wt===bn;if(J.avail_out===0){this.onData(J.output);continue}if(bt>0&&J.next_out>0){this.onData(J.output.subarray(0,J.next_out)),J.avail_out=0;continue}if(J.avail_in===0)break}return!0},Ri.prototype.onData=function(O){this.chunks.push(O)},Ri.prototype.onEnd=function(O){O===bn&&(this.result=Lr.flattenChunks(this.chunks)),this.chunks=[],this.err=O,this.msg=this.strm.msg};function Sn(O,Be){const J=new Ri(Be);if(J.push(O,!0),J.err)throw J.msg||nn[J.err];return J.result}function tn(O,Be){return Be=Be||{},Be.raw=!0,Sn(O,Be)}function ji(O,Be){return Be=Be||{},Be.gzip=!0,Sn(O,Be)}var Fn=Ri,Hn=Sn,$n=tn,ga=ji,Di={Deflate:Fn,deflate:Hn,deflateRaw:$n,gzip:ga};const Gn=16209,ns=16191;var _i=function(Be,J){let qe,wt,bt,mr,zt,Dn,Dt,pr,qi,jn,Xr,Br,Fa,Wi,Ni,Vi,vs,xn,ys,Ua,Si,na,Ns,ni;const $i=Be.state;qe=Be.next_in,Ns=Be.input,wt=qe+(Be.avail_in-5),bt=Be.next_out,ni=Be.output,mr=bt-(J-Be.avail_out),zt=bt+(Be.avail_out-257),Dn=$i.dmax,Dt=$i.wsize,pr=$i.whave,qi=$i.wnext,jn=$i.window,Xr=$i.hold,Br=$i.bits,Fa=$i.lencode,Wi=$i.distcode,Ni=(1<<$i.lenbits)-1,Vi=(1<<$i.distbits)-1;e:do{Br<15&&(Xr+=Ns[qe++]<<Br,Br+=8,Xr+=Ns[qe++]<<Br,Br+=8),vs=Fa[Xr&Ni];t:for(;;){if(xn=vs>>>24,Xr>>>=xn,Br-=xn,xn=vs>>>16&255,xn===0)ni[bt++]=vs&65535;else if(xn&16){ys=vs&65535,xn&=15,xn&&(Br<xn&&(Xr+=Ns[qe++]<<Br,Br+=8),ys+=Xr&(1<<xn)-1,Xr>>>=xn,Br-=xn),Br<15&&(Xr+=Ns[qe++]<<Br,Br+=8,Xr+=Ns[qe++]<<Br,Br+=8),vs=Wi[Xr&Vi];r:for(;;){if(xn=vs>>>24,Xr>>>=xn,Br-=xn,xn=vs>>>16&255,xn&16){if(Ua=vs&65535,xn&=15,Br<xn&&(Xr+=Ns[qe++]<<Br,Br+=8,Br<xn&&(Xr+=Ns[qe++]<<Br,Br+=8)),Ua+=Xr&(1<<xn)-1,Ua>Dn){Be.msg="invalid distance too far back",$i.mode=Gn;break e}if(Xr>>>=xn,Br-=xn,xn=bt-mr,Ua>xn){if(xn=Ua-xn,xn>pr&&$i.sane){Be.msg="invalid distance too far back",$i.mode=Gn;break e}if(Si=0,na=jn,qi===0){if(Si+=Dt-xn,xn<ys){ys-=xn;do ni[bt++]=jn[Si++];while(--xn);Si=bt-Ua,na=ni}}else if(qi<xn){if(Si+=Dt+qi-xn,xn-=qi,xn<ys){ys-=xn;do ni[bt++]=jn[Si++];while(--xn);if(Si=0,qi<ys){xn=qi,ys-=xn;do ni[bt++]=jn[Si++];while(--xn);Si=bt-Ua,na=ni}}}else if(Si+=qi-xn,xn<ys){ys-=xn;do ni[bt++]=jn[Si++];while(--xn);Si=bt-Ua,na=ni}for(;ys>2;)ni[bt++]=na[Si++],ni[bt++]=na[Si++],ni[bt++]=na[Si++],ys-=3;ys&&(ni[bt++]=na[Si++],ys>1&&(ni[bt++]=na[Si++]))}else{Si=bt-Ua;do ni[bt++]=ni[Si++],ni[bt++]=ni[Si++],ni[bt++]=ni[Si++],ys-=3;while(ys>2);ys&&(ni[bt++]=ni[Si++],ys>1&&(ni[bt++]=ni[Si++]))}}else if((xn&64)===0){vs=Wi[(vs&65535)+(Xr&(1<<xn)-1)];continue r}else{Be.msg="invalid distance code",$i.mode=Gn;break e}break}}else if((xn&64)===0){vs=Fa[(vs&65535)+(Xr&(1<<xn)-1)];continue t}else if(xn&32){$i.mode=ns;break e}else{Be.msg="invalid literal/length code",$i.mode=Gn;break e}break}}while(qe<wt&&bt<zt);ys=Br>>3,qe-=ys,Br-=ys<<3,Xr&=(1<<Br)-1,Be.next_in=qe,Be.next_out=bt,Be.avail_in=qe<wt?5+(wt-qe):5-(qe-wt),Be.avail_out=bt<zt?257+(zt-bt):257-(bt-zt),$i.hold=Xr,$i.bits=Br};const Un=15,ki=852,Wn=592,Gi=0,is=1,Zi=2,gs=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),ja=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),xi=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Ws=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var ai=(O,Be,J,qe,wt,bt,mr,zt)=>{const Dn=zt.bits;let Dt=0,pr=0,qi=0,jn=0,Xr=0,Br=0,Fa=0,Wi=0,Ni=0,Vi=0,vs,xn,ys,Ua,Si,na=null,Ns;const ni=new Uint16Array(Un+1),$i=new Uint16Array(Un+1);let rc=null,Wu,su,yl;for(Dt=0;Dt<=Un;Dt++)ni[Dt]=0;for(pr=0;pr<qe;pr++)ni[Be[J+pr]]++;for(Xr=Dn,jn=Un;jn>=1&&ni[jn]===0;jn--);if(Xr>jn&&(Xr=jn),jn===0)return wt[bt++]=1<<24|64<<16|0,wt[bt++]=1<<24|64<<16|0,zt.bits=1,0;for(qi=1;qi<jn&&ni[qi]===0;qi++);for(Xr<qi&&(Xr=qi),Wi=1,Dt=1;Dt<=Un;Dt++)if(Wi<<=1,Wi-=ni[Dt],Wi<0)return-1;if(Wi>0&&(O===Gi||jn!==1))return-1;for($i[1]=0,Dt=1;Dt<Un;Dt++)$i[Dt+1]=$i[Dt]+ni[Dt];for(pr=0;pr<qe;pr++)Be[J+pr]!==0&&(mr[$i[Be[J+pr]]++]=pr);if(O===Gi?(na=rc=mr,Ns=20):O===is?(na=gs,rc=ja,Ns=257):(na=xi,rc=Ws,Ns=0),Vi=0,pr=0,Dt=qi,Si=bt,Br=Xr,Fa=0,ys=-1,Ni=1<<Xr,Ua=Ni-1,O===is&&Ni>ki||O===Zi&&Ni>Wn)return 1;for(;;){Wu=Dt-Fa,mr[pr]+1<Ns?(su=0,yl=mr[pr]):mr[pr]>=Ns?(su=rc[mr[pr]-Ns],yl=na[mr[pr]-Ns]):(su=96,yl=0),vs=1<<Dt-Fa,xn=1<<Br,qi=xn;do xn-=vs,wt[Si+(Vi>>Fa)+xn]=Wu<<24|su<<16|yl|0;while(xn!==0);for(vs=1<<Dt-1;Vi&vs;)vs>>=1;if(vs!==0?(Vi&=vs-1,Vi+=vs):Vi=0,pr++,--ni[Dt]===0){if(Dt===jn)break;Dt=Be[J+mr[pr]]}if(Dt>Xr&&(Vi&Ua)!==ys){for(Fa===0&&(Fa=Xr),Si+=qi,Br=Dt-Fa,Wi=1<<Br;Br+Fa<jn&&(Wi-=ni[Br+Fa],!(Wi<=0));)Br++,Wi<<=1;if(Ni+=1<<Br,O===is&&Ni>ki||O===Zi&&Ni>Wn)return 1;ys=Vi&Ua,wt[ys]=Xr<<24|Br<<16|Si-bt|0}}return Vi!==0&&(wt[Si+Vi]=Dt-Fa<<24|64<<16|0),zt.bits=Xr,0};const ua=0,Ii=1,yn=2,{Z_FINISH:ls,Z_BLOCK:xu,Z_TREES:io,Z_OK:zo,Z_STREAM_END:Jl,Z_NEED_DICT:bi,Z_STREAM_ERROR:Ra,Z_DATA_ERROR:Xa,Z_MEM_ERROR:Ul,Z_BUF_ERROR:$l,Z_DEFLATED:da}=ss,vo=16180,Za=16181,$c=16182,To=16183,Ac=16184,Ka=16185,Hl=16186,Ql=16187,Il=16188,gd=16189,ec=16190,Vl=16191,mc=16192,vd=16193,zl=16194,Kl=16195,bu=16196,Gl=16197,Io=16198,gl=16199,ru=16200,pc=16201,Ud=16202,tc=16203,zu=16204,yd=16205,vl=16206,nh=16207,Ll=16208,Fi=16209,gc=16210,Hc=16211,Qc=852,Ku=592,Lo=15,nu=O=>(O>>>24&255)+(O>>>8&65280)+((O&65280)<<8)+((O&255)<<24);function g(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const _=O=>{if(!O)return 1;const Be=O.state;return!Be||Be.strm!==O||Be.mode<vo||Be.mode>Hc?1:0},H=O=>{if(_(O))return Ra;const Be=O.state;return O.total_in=O.total_out=Be.total=0,O.msg="",Be.wrap&&(O.adler=Be.wrap&1),Be.mode=vo,Be.last=0,Be.havedict=0,Be.flags=-1,Be.dmax=32768,Be.head=null,Be.hold=0,Be.bits=0,Be.lencode=Be.lendyn=new Int32Array(Qc),Be.distcode=Be.distdyn=new Int32Array(Ku),Be.sane=1,Be.back=-1,zo},ae=O=>{if(_(O))return Ra;const Be=O.state;return Be.wsize=0,Be.whave=0,Be.wnext=0,H(O)},_e=(O,Be)=>{let J;if(_(O))return Ra;const qe=O.state;return Be<0?(J=0,Be=-Be):(J=(Be>>4)+5,Be<48&&(Be&=15)),Be&&(Be<8||Be>15)?Ra:(qe.window!==null&&qe.wbits!==Be&&(qe.window=null),qe.wrap=J,qe.wbits=Be,ae(O))},Ve=(O,Be)=>{if(!O)return Ra;const J=new g;O.state=J,J.strm=O,J.window=null,J.mode=vo;const qe=_e(O,Be);return qe!==zo&&(O.state=null),qe},jt=O=>Ve(O,Lo);let Zt=!0,xr,$r;const vn=O=>{if(Zt){xr=new Int32Array(512),$r=new Int32Array(32);let Be=0;for(;Be<144;)O.lens[Be++]=8;for(;Be<256;)O.lens[Be++]=9;for(;Be<280;)O.lens[Be++]=7;for(;Be<288;)O.lens[Be++]=8;for(ai(Ii,O.lens,0,288,xr,0,O.work,{bits:9}),Be=0;Be<32;)O.lens[Be++]=5;ai(yn,O.lens,0,32,$r,0,O.work,{bits:5}),Zt=!1}O.lencode=xr,O.lenbits=9,O.distcode=$r,O.distbits=5},ui=(O,Be,J,qe)=>{let wt;const bt=O.state;return bt.window===null&&(bt.wsize=1<<bt.wbits,bt.wnext=0,bt.whave=0,bt.window=new Uint8Array(bt.wsize)),qe>=bt.wsize?(bt.window.set(Be.subarray(J-bt.wsize,J),0),bt.wnext=0,bt.whave=bt.wsize):(wt=bt.wsize-bt.wnext,wt>qe&&(wt=qe),bt.window.set(Be.subarray(J-qe,J-qe+wt),bt.wnext),qe-=wt,qe?(bt.window.set(Be.subarray(J-qe,J),0),bt.wnext=qe,bt.whave=bt.wsize):(bt.wnext+=wt,bt.wnext===bt.wsize&&(bt.wnext=0),bt.whave<bt.wsize&&(bt.whave+=wt))),0},As=(O,Be)=>{let J,qe,wt,bt,mr,zt,Dn,Dt,pr,qi,jn,Xr,Br,Fa,Wi=0,Ni,Vi,vs,xn,ys,Ua,Si,na;const Ns=new Uint8Array(4);let ni,$i;const rc=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(_(O)||!O.output||!O.input&&O.avail_in!==0)return Ra;J=O.state,J.mode===Vl&&(J.mode=mc),mr=O.next_out,wt=O.output,Dn=O.avail_out,bt=O.next_in,qe=O.input,zt=O.avail_in,Dt=J.hold,pr=J.bits,qi=zt,jn=Dn,na=zo;e:for(;;)switch(J.mode){case vo:if(J.wrap===0){J.mode=mc;break}for(;pr<16;){if(zt===0)break e;zt--,Dt+=qe[bt++]<<pr,pr+=8}if(J.wrap&2&&Dt===35615){J.wbits===0&&(J.wbits=15),J.check=0,Ns[0]=Dt&255,Ns[1]=Dt>>>8&255,J.check=ei(J.check,Ns,2,0),Dt=0,pr=0,J.mode=Za;break}if(J.head&&(J.head.done=!1),!(J.wrap&1)||(((Dt&255)<<8)+(Dt>>8))%31){O.msg="incorrect header check",J.mode=Fi;break}if((Dt&15)!==da){O.msg="unknown compression method",J.mode=Fi;break}if(Dt>>>=4,pr-=4,Si=(Dt&15)+8,J.wbits===0&&(J.wbits=Si),Si>15||Si>J.wbits){O.msg="invalid window size",J.mode=Fi;break}J.dmax=1<<J.wbits,J.flags=0,O.adler=J.check=1,J.mode=Dt&512?gd:Vl,Dt=0,pr=0;break;case Za:for(;pr<16;){if(zt===0)break e;zt--,Dt+=qe[bt++]<<pr,pr+=8}if(J.flags=Dt,(J.flags&255)!==da){O.msg="unknown compression method",J.mode=Fi;break}if(J.flags&57344){O.msg="unknown header flags set",J.mode=Fi;break}J.head&&(J.head.text=Dt>>8&1),J.flags&512&&J.wrap&4&&(Ns[0]=Dt&255,Ns[1]=Dt>>>8&255,J.check=ei(J.check,Ns,2,0)),Dt=0,pr=0,J.mode=$c;case $c:for(;pr<32;){if(zt===0)break e;zt--,Dt+=qe[bt++]<<pr,pr+=8}J.head&&(J.head.time=Dt),J.flags&512&&J.wrap&4&&(Ns[0]=Dt&255,Ns[1]=Dt>>>8&255,Ns[2]=Dt>>>16&255,Ns[3]=Dt>>>24&255,J.check=ei(J.check,Ns,4,0)),Dt=0,pr=0,J.mode=To;case To:for(;pr<16;){if(zt===0)break e;zt--,Dt+=qe[bt++]<<pr,pr+=8}J.head&&(J.head.xflags=Dt&255,J.head.os=Dt>>8),J.flags&512&&J.wrap&4&&(Ns[0]=Dt&255,Ns[1]=Dt>>>8&255,J.check=ei(J.check,Ns,2,0)),Dt=0,pr=0,J.mode=Ac;case Ac:if(J.flags&1024){for(;pr<16;){if(zt===0)break e;zt--,Dt+=qe[bt++]<<pr,pr+=8}J.length=Dt,J.head&&(J.head.extra_len=Dt),J.flags&512&&J.wrap&4&&(Ns[0]=Dt&255,Ns[1]=Dt>>>8&255,J.check=ei(J.check,Ns,2,0)),Dt=0,pr=0}else J.head&&(J.head.extra=null);J.mode=Ka;case Ka:if(J.flags&1024&&(Xr=J.length,Xr>zt&&(Xr=zt),Xr&&(J.head&&(Si=J.head.extra_len-J.length,J.head.extra||(J.head.extra=new Uint8Array(J.head.extra_len)),J.head.extra.set(qe.subarray(bt,bt+Xr),Si)),J.flags&512&&J.wrap&4&&(J.check=ei(J.check,qe,Xr,bt)),zt-=Xr,bt+=Xr,J.length-=Xr),J.length))break e;J.length=0,J.mode=Hl;case Hl:if(J.flags&2048){if(zt===0)break e;Xr=0;do Si=qe[bt+Xr++],J.head&&Si&&J.length<65536&&(J.head.name+=String.fromCharCode(Si));while(Si&&Xr<zt);if(J.flags&512&&J.wrap&4&&(J.check=ei(J.check,qe,Xr,bt)),zt-=Xr,bt+=Xr,Si)break e}else J.head&&(J.head.name=null);J.length=0,J.mode=Ql;case Ql:if(J.flags&4096){if(zt===0)break e;Xr=0;do Si=qe[bt+Xr++],J.head&&Si&&J.length<65536&&(J.head.comment+=String.fromCharCode(Si));while(Si&&Xr<zt);if(J.flags&512&&J.wrap&4&&(J.check=ei(J.check,qe,Xr,bt)),zt-=Xr,bt+=Xr,Si)break e}else J.head&&(J.head.comment=null);J.mode=Il;case Il:if(J.flags&512){for(;pr<16;){if(zt===0)break e;zt--,Dt+=qe[bt++]<<pr,pr+=8}if(J.wrap&4&&Dt!==(J.check&65535)){O.msg="header crc mismatch",J.mode=Fi;break}Dt=0,pr=0}J.head&&(J.head.hcrc=J.flags>>9&1,J.head.done=!0),O.adler=J.check=0,J.mode=Vl;break;case gd:for(;pr<32;){if(zt===0)break e;zt--,Dt+=qe[bt++]<<pr,pr+=8}O.adler=J.check=nu(Dt),Dt=0,pr=0,J.mode=ec;case ec:if(J.havedict===0)return O.next_out=mr,O.avail_out=Dn,O.next_in=bt,O.avail_in=zt,J.hold=Dt,J.bits=pr,bi;O.adler=J.check=1,J.mode=Vl;case Vl:if(Be===xu||Be===io)break e;case mc:if(J.last){Dt>>>=pr&7,pr-=pr&7,J.mode=vl;break}for(;pr<3;){if(zt===0)break e;zt--,Dt+=qe[bt++]<<pr,pr+=8}switch(J.last=Dt&1,Dt>>>=1,pr-=1,Dt&3){case 0:J.mode=vd;break;case 1:if(vn(J),J.mode=gl,Be===io){Dt>>>=2,pr-=2;break e}break;case 2:J.mode=bu;break;case 3:O.msg="invalid block type",J.mode=Fi}Dt>>>=2,pr-=2;break;case vd:for(Dt>>>=pr&7,pr-=pr&7;pr<32;){if(zt===0)break e;zt--,Dt+=qe[bt++]<<pr,pr+=8}if((Dt&65535)!==(Dt>>>16^65535)){O.msg="invalid stored block lengths",J.mode=Fi;break}if(J.length=Dt&65535,Dt=0,pr=0,J.mode=zl,Be===io)break e;case zl:J.mode=Kl;case Kl:if(Xr=J.length,Xr){if(Xr>zt&&(Xr=zt),Xr>Dn&&(Xr=Dn),Xr===0)break e;wt.set(qe.subarray(bt,bt+Xr),mr),zt-=Xr,bt+=Xr,Dn-=Xr,mr+=Xr,J.length-=Xr;break}J.mode=Vl;break;case bu:for(;pr<14;){if(zt===0)break e;zt--,Dt+=qe[bt++]<<pr,pr+=8}if(J.nlen=(Dt&31)+257,Dt>>>=5,pr-=5,J.ndist=(Dt&31)+1,Dt>>>=5,pr-=5,J.ncode=(Dt&15)+4,Dt>>>=4,pr-=4,J.nlen>286||J.ndist>30){O.msg="too many length or distance symbols",J.mode=Fi;break}J.have=0,J.mode=Gl;case Gl:for(;J.have<J.ncode;){for(;pr<3;){if(zt===0)break e;zt--,Dt+=qe[bt++]<<pr,pr+=8}J.lens[rc[J.have++]]=Dt&7,Dt>>>=3,pr-=3}for(;J.have<19;)J.lens[rc[J.have++]]=0;if(J.lencode=J.lendyn,J.lenbits=7,ni={bits:J.lenbits},na=ai(ua,J.lens,0,19,J.lencode,0,J.work,ni),J.lenbits=ni.bits,na){O.msg="invalid code lengths set",J.mode=Fi;break}J.have=0,J.mode=Io;case Io:for(;J.have<J.nlen+J.ndist;){for(;Wi=J.lencode[Dt&(1<<J.lenbits)-1],Ni=Wi>>>24,Vi=Wi>>>16&255,vs=Wi&65535,!(Ni<=pr);){if(zt===0)break e;zt--,Dt+=qe[bt++]<<pr,pr+=8}if(vs<16)Dt>>>=Ni,pr-=Ni,J.lens[J.have++]=vs;else{if(vs===16){for($i=Ni+2;pr<$i;){if(zt===0)break e;zt--,Dt+=qe[bt++]<<pr,pr+=8}if(Dt>>>=Ni,pr-=Ni,J.have===0){O.msg="invalid bit length repeat",J.mode=Fi;break}Si=J.lens[J.have-1],Xr=3+(Dt&3),Dt>>>=2,pr-=2}else if(vs===17){for($i=Ni+3;pr<$i;){if(zt===0)break e;zt--,Dt+=qe[bt++]<<pr,pr+=8}Dt>>>=Ni,pr-=Ni,Si=0,Xr=3+(Dt&7),Dt>>>=3,pr-=3}else{for($i=Ni+7;pr<$i;){if(zt===0)break e;zt--,Dt+=qe[bt++]<<pr,pr+=8}Dt>>>=Ni,pr-=Ni,Si=0,Xr=11+(Dt&127),Dt>>>=7,pr-=7}if(J.have+Xr>J.nlen+J.ndist){O.msg="invalid bit length repeat",J.mode=Fi;break}for(;Xr--;)J.lens[J.have++]=Si}}if(J.mode===Fi)break;if(J.lens[256]===0){O.msg="invalid code -- missing end-of-block",J.mode=Fi;break}if(J.lenbits=9,ni={bits:J.lenbits},na=ai(Ii,J.lens,0,J.nlen,J.lencode,0,J.work,ni),J.lenbits=ni.bits,na){O.msg="invalid literal/lengths set",J.mode=Fi;break}if(J.distbits=6,J.distcode=J.distdyn,ni={bits:J.distbits},na=ai(yn,J.lens,J.nlen,J.ndist,J.distcode,0,J.work,ni),J.distbits=ni.bits,na){O.msg="invalid distances set",J.mode=Fi;break}if(J.mode=gl,Be===io)break e;case gl:J.mode=ru;case ru:if(zt>=6&&Dn>=258){O.next_out=mr,O.avail_out=Dn,O.next_in=bt,O.avail_in=zt,J.hold=Dt,J.bits=pr,_i(O,jn),mr=O.next_out,wt=O.output,Dn=O.avail_out,bt=O.next_in,qe=O.input,zt=O.avail_in,Dt=J.hold,pr=J.bits,J.mode===Vl&&(J.back=-1);break}for(J.back=0;Wi=J.lencode[Dt&(1<<J.lenbits)-1],Ni=Wi>>>24,Vi=Wi>>>16&255,vs=Wi&65535,!(Ni<=pr);){if(zt===0)break e;zt--,Dt+=qe[bt++]<<pr,pr+=8}if(Vi&&(Vi&240)===0){for(xn=Ni,ys=Vi,Ua=vs;Wi=J.lencode[Ua+((Dt&(1<<xn+ys)-1)>>xn)],Ni=Wi>>>24,Vi=Wi>>>16&255,vs=Wi&65535,!(xn+Ni<=pr);){if(zt===0)break e;zt--,Dt+=qe[bt++]<<pr,pr+=8}Dt>>>=xn,pr-=xn,J.back+=xn}if(Dt>>>=Ni,pr-=Ni,J.back+=Ni,J.length=vs,Vi===0){J.mode=yd;break}if(Vi&32){J.back=-1,J.mode=Vl;break}if(Vi&64){O.msg="invalid literal/length code",J.mode=Fi;break}J.extra=Vi&15,J.mode=pc;case pc:if(J.extra){for($i=J.extra;pr<$i;){if(zt===0)break e;zt--,Dt+=qe[bt++]<<pr,pr+=8}J.length+=Dt&(1<<J.extra)-1,Dt>>>=J.extra,pr-=J.extra,J.back+=J.extra}J.was=J.length,J.mode=Ud;case Ud:for(;Wi=J.distcode[Dt&(1<<J.distbits)-1],Ni=Wi>>>24,Vi=Wi>>>16&255,vs=Wi&65535,!(Ni<=pr);){if(zt===0)break e;zt--,Dt+=qe[bt++]<<pr,pr+=8}if((Vi&240)===0){for(xn=Ni,ys=Vi,Ua=vs;Wi=J.distcode[Ua+((Dt&(1<<xn+ys)-1)>>xn)],Ni=Wi>>>24,Vi=Wi>>>16&255,vs=Wi&65535,!(xn+Ni<=pr);){if(zt===0)break e;zt--,Dt+=qe[bt++]<<pr,pr+=8}Dt>>>=xn,pr-=xn,J.back+=xn}if(Dt>>>=Ni,pr-=Ni,J.back+=Ni,Vi&64){O.msg="invalid distance code",J.mode=Fi;break}J.offset=vs,J.extra=Vi&15,J.mode=tc;case tc:if(J.extra){for($i=J.extra;pr<$i;){if(zt===0)break e;zt--,Dt+=qe[bt++]<<pr,pr+=8}J.offset+=Dt&(1<<J.extra)-1,Dt>>>=J.extra,pr-=J.extra,J.back+=J.extra}if(J.offset>J.dmax){O.msg="invalid distance too far back",J.mode=Fi;break}J.mode=zu;case zu:if(Dn===0)break e;if(Xr=jn-Dn,J.offset>Xr){if(Xr=J.offset-Xr,Xr>J.whave&&J.sane){O.msg="invalid distance too far back",J.mode=Fi;break}Xr>J.wnext?(Xr-=J.wnext,Br=J.wsize-Xr):Br=J.wnext-Xr,Xr>J.length&&(Xr=J.length),Fa=J.window}else Fa=wt,Br=mr-J.offset,Xr=J.length;Xr>Dn&&(Xr=Dn),Dn-=Xr,J.length-=Xr;do wt[mr++]=Fa[Br++];while(--Xr);J.length===0&&(J.mode=ru);break;case yd:if(Dn===0)break e;wt[mr++]=J.length,Dn--,J.mode=ru;break;case vl:if(J.wrap){for(;pr<32;){if(zt===0)break e;zt--,Dt|=qe[bt++]<<pr,pr+=8}if(jn-=Dn,O.total_out+=jn,J.total+=jn,J.wrap&4&&jn&&(O.adler=J.check=J.flags?ei(J.check,wt,jn,mr-jn):li(J.check,wt,jn,mr-jn)),jn=Dn,J.wrap&4&&(J.flags?Dt:nu(Dt))!==J.check){O.msg="incorrect data check",J.mode=Fi;break}Dt=0,pr=0}J.mode=nh;case nh:if(J.wrap&&J.flags){for(;pr<32;){if(zt===0)break e;zt--,Dt+=qe[bt++]<<pr,pr+=8}if(J.wrap&4&&Dt!==(J.total&4294967295)){O.msg="incorrect length check",J.mode=Fi;break}Dt=0,pr=0}J.mode=Ll;case Ll:na=Jl;break e;case Fi:na=Xa;break e;case gc:return Ul;case Hc:default:return Ra}return O.next_out=mr,O.avail_out=Dn,O.next_in=bt,O.avail_in=zt,J.hold=Dt,J.bits=pr,(J.wsize||jn!==O.avail_out&&J.mode<Fi&&(J.mode<vl||Be!==ls))&&ui(O,O.output,O.next_out,jn-O.avail_out),qi-=O.avail_in,jn-=O.avail_out,O.total_in+=qi,O.total_out+=jn,J.total+=jn,J.wrap&4&&jn&&(O.adler=J.check=J.flags?ei(J.check,wt,jn,O.next_out-jn):li(J.check,wt,jn,O.next_out-jn)),O.data_type=J.bits+(J.last?64:0)+(J.mode===Vl?128:0)+(J.mode===gl||J.mode===zl?256:0),(qi===0&&jn===0||Be===ls)&&na===zo&&(na=$l),na},Da=O=>{if(_(O))return Ra;let Be=O.state;return Be.window&&(Be.window=null),O.state=null,zo},Co=(O,Be)=>{if(_(O))return Ra;const J=O.state;return(J.wrap&2)===0?Ra:(J.head=Be,Be.done=!1,zo)},il=(O,Be)=>{const J=Be.length;let qe,wt,bt;return _(O)||(qe=O.state,qe.wrap!==0&&qe.mode!==ec)?Ra:qe.mode===ec&&(wt=1,wt=li(wt,Be,J,0),wt!==qe.check)?Xa:(bt=ui(O,Be,J,J),bt?(qe.mode=gc,Ul):(qe.havedict=1,zo))};var Xs=ae,oa=_e,Cn=H,Gu=jt,yc=Ve,xd=As,Wl=Da,wu=Co,so=il,Eu="pako inflate (from Nodeca project)",Ko={inflateReset:Xs,inflateReset2:oa,inflateResetKeep:Cn,inflateInit:Gu,inflateInit2:yc,inflate:xd,inflateEnd:Wl,inflateGetHeader:wu,inflateSetDictionary:so,inflateInfo:Eu};function bd(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var xc=bd;const $d=Object.prototype.toString,{Z_NO_FLUSH:Yl,Z_FINISH:_u,Z_OK:bc,Z_STREAM_END:Vc,Z_NEED_DICT:yh,Z_STREAM_ERROR:iu,Z_DATA_ERROR:wd,Z_MEM_ERROR:ih}=ss;function zc(O){this.options=Lr.assign({chunkSize:65536,windowBits:15,to:""},O||{});const Be=this.options;Be.raw&&Be.windowBits>=0&&Be.windowBits<16&&(Be.windowBits=-Be.windowBits,Be.windowBits===0&&(Be.windowBits=-15)),Be.windowBits>=0&&Be.windowBits<16&&!(O&&O.windowBits)&&(Be.windowBits+=32),Be.windowBits>15&&Be.windowBits<48&&(Be.windowBits&15)===0&&(Be.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new qt,this.strm.avail_out=0;let J=Ko.inflateInit2(this.strm,Be.windowBits);if(J!==bc)throw new Error(nn[J]);if(this.header=new xc,Ko.inflateGetHeader(this.strm,this.header),Be.dictionary&&(typeof Be.dictionary=="string"?Be.dictionary=Nt.string2buf(Be.dictionary):$d.call(Be.dictionary)==="[object ArrayBuffer]"&&(Be.dictionary=new Uint8Array(Be.dictionary)),Be.raw&&(J=Ko.inflateSetDictionary(this.strm,Be.dictionary),J!==bc)))throw new Error(nn[J])}zc.prototype.push=function(O,Be){const J=this.strm,qe=this.options.chunkSize,wt=this.options.dictionary;let bt,mr,zt;if(this.ended)return!1;for(Be===~~Be?mr=Be:mr=Be===!0?_u:Yl,$d.call(O)==="[object ArrayBuffer]"?J.input=new Uint8Array(O):J.input=O,J.next_in=0,J.avail_in=J.input.length;;){for(J.avail_out===0&&(J.output=new Uint8Array(qe),J.next_out=0,J.avail_out=qe),bt=Ko.inflate(J,mr),bt===yh&&wt&&(bt=Ko.inflateSetDictionary(J,wt),bt===bc?bt=Ko.inflate(J,mr):bt===wd&&(bt=yh));J.avail_in>0&&bt===Vc&&J.state.wrap>0&&O[J.next_in]!==0;)Ko.inflateReset(J),bt=Ko.inflate(J,mr);switch(bt){case iu:case wd:case yh:case ih:return this.onEnd(bt),this.ended=!0,!1}if(zt=J.avail_out,J.next_out&&(J.avail_out===0||bt===Vc))if(this.options.to==="string"){let Dn=Nt.utf8border(J.output,J.next_out),Dt=J.next_out-Dn,pr=Nt.buf2string(J.output,Dn);J.next_out=Dt,J.avail_out=qe-Dt,Dt&&J.output.set(J.output.subarray(Dn,Dn+Dt),0),this.onData(pr)}else this.onData(J.output.length===J.next_out?J.output:J.output.subarray(0,J.next_out));if(!(bt===bc&&zt===0)){if(bt===Vc)return bt=Ko.inflateEnd(this.strm),this.onEnd(bt),this.ended=!0,!0;if(J.avail_in===0)break}}return!0},zc.prototype.onData=function(O){this.chunks.push(O)},zc.prototype.onEnd=function(O){O===bc&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Lr.flattenChunks(this.chunks)),this.chunks=[],this.err=O,this.msg=this.strm.msg};function yo(O,Be){const J=new zc(Be);if(J.push(O),J.err)throw J.msg||nn[J.err];return J.result}function xh(O,Be){return Be=Be||{},Be.raw=!0,yo(O,Be)}var eA=zc,RA=yo,sh=xh,ah=yo,Bo={Inflate:eA,inflate:RA,inflateRaw:sh,ungzip:ah};const{Deflate:oh,deflate:bh,deflateRaw:le,gzip:Re}=Di,{Inflate:xt,inflate:It,inflateRaw:Jt,ungzip:Mr}=Bo;var Yr=oh,ti=bh,ri=le,Yi=Re,as=xt,ra=It,Ma=Jt,Oo=Mr,Na=ss,Go={Deflate:Yr,deflate:ti,deflateRaw:ri,gzip:Yi,Inflate:as,inflate:ra,inflateRaw:Ma,ungzip:Oo,constants:Na}}),"./node_modules/performance-now/lib/performance-now.js":(function(c){(function(){var u,l,d,f,A,p;typeof performance<"u"&&performance!==null&&performance.now?c.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(c.exports=function(){return(u()-A)/1e6},l=process.hrtime,u=function(){var v;return v=l(),v[0]*1e9+v[1]},f=u(),p=process.uptime()*1e9,A=f-p):Date.now?(c.exports=function(){return Date.now()-d},d=Date.now()):(c.exports=function(){return new Date().getTime()-d},d=new Date().getTime())}).call(this)}),"./node_modules/raf/index.js":(function(c,u,l){for(var d=l("./node_modules/performance-now/lib/performance-now.js"),f=typeof window>"u"?E1:window,A=["moz","webkit"],p="AnimationFrame",v=f["request"+p],y=f["cancel"+p]||f["cancelRequest"+p],x=0;!v&&x<A.length;x++)v=f[A[x]+"Request"+p],y=f[A[x]+"Cancel"+p]||f[A[x]+"CancelRequest"+p];if(!v||!y){var w=0,E=0,T=[],C=1e3/60;v=function(j){if(T.length===0){var P=d(),U=Math.max(0,C-(P-w));w=U+P,setTimeout(function(){var W=T.slice(0);T.length=0;for(var q=0;q<W.length;q++)if(!W[q].cancelled)try{W[q].callback(w)}catch(re){setTimeout(function(){throw re},0)}},Math.round(U))}return T.push({handle:++E,callback:j,cancelled:!1}),E},y=function(j){for(var P=0;P<T.length;P++)T[P].handle===j&&(T[P].cancelled=!0)}}c.exports=function(j){return v.call(f,j)},c.exports.cancel=function(){y.apply(f,arguments)},c.exports.polyfill=function(j){j||(j=f),j.requestAnimationFrame=v,j.cancelAnimationFrame=y}}),"./node_modules/rgbcolor/index.js":(function(c){c.exports=function(u){this.ok=!1,this.alpha=1,u.charAt(0)=="#"&&(u=u.substr(1,6)),u=u.replace(/ /g,""),u=u.toLowerCase();var l={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};u=l[u]||u;for(var d=[{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*((?:\d?\.)?\d)\)$/,example:["rgba(123, 234, 45, 0.8)","rgba(255,234,245,1.0)"],process:function(x){return[parseInt(x[1]),parseInt(x[2]),parseInt(x[3]),parseFloat(x[4])]}},{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(x){return[parseInt(x[1]),parseInt(x[2]),parseInt(x[3])]}},{re:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,example:["#00ff00","336699"],process:function(x){return[parseInt(x[1],16),parseInt(x[2],16),parseInt(x[3],16)]}},{re:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,example:["#fb0","f0f"],process:function(x){return[parseInt(x[1]+x[1],16),parseInt(x[2]+x[2],16),parseInt(x[3]+x[3],16)]}}],f=0;f<d.length;f++){var A=d[f].re,p=d[f].process,v=A.exec(u);if(v){var y=p(v);this.r=y[0],this.g=y[1],this.b=y[2],y.length>3&&(this.alpha=y[3]),this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.alpha=this.alpha<0?0:this.alpha>1||isNaN(this.alpha)?1:this.alpha,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.alpha+")"},this.toHex=function(){var x=this.r.toString(16),w=this.g.toString(16),E=this.b.toString(16);return x.length==1&&(x="0"+x),w.length==1&&(w="0"+w),E.length==1&&(E="0"+E),"#"+x+w+E},this.getHelpXML=function(){for(var x=new Array,w=0;w<d.length;w++)for(var E=d[w].example,T=0;T<E.length;T++)x[x.length]=E[T];for(var C in l)x[x.length]=C;var j=document.createElement("ul");j.setAttribute("id","rgbcolor-examples");for(var w=0;w<x.length;w++)try{var P=document.createElement("li"),U=new RGBColor(x[w]),W=document.createElement("div");W.style.cssText="margin: 3px; border: 1px solid black; background:"+U.toHex()+"; color:"+U.toHex(),W.appendChild(document.createTextNode("test"));var q=document.createTextNode(" "+x[w]+" -> "+U.toRGB()+" -> "+U.toHex());P.appendChild(W),P.appendChild(q),j.appendChild(P)}catch{}return j}}}),"./node_modules/stackblur-canvas/dist/stackblur-es.js":(function(c,u,l){l.r(u),l.d(u,{BlurStack:function(){return C},canvasRGB:function(){return E},canvasRGBA:function(){return x},image:function(){return v},imageDataRGB:function(){return T},imageDataRGBA:function(){return w}});function d(j){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?d=function(P){return typeof P}:d=function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},d(j)}function f(j,P){if(!(j instanceof P))throw new TypeError("Cannot call a class as a function")}var A=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],p=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function v(j,P,U,W,q,re){if(typeof j=="string"&&(j=document.getElementById(j)),!(!j||Object.prototype.toString.call(j).slice(8,-1)==="HTMLImageElement"&&!("naturalWidth"in j))){var ie=q?"offset":"natural",Ae=j[ie+"Width"],be=j[ie+"Height"];if(Object.prototype.toString.call(j).slice(8,-1)==="ImageBitmap"&&(Ae=j.width,be=j.height),typeof P=="string"&&(P=document.getElementById(P)),!(!P||!("getContext"in P))){re||(P.style.width=Ae+"px",P.style.height=be+"px"),P.width=Ae,P.height=be;var Ee=P.getContext("2d");Ee.clearRect(0,0,Ae,be),Ee.drawImage(j,0,0,j.naturalWidth,j.naturalHeight,0,0,Ae,be),!(isNaN(U)||U<1)&&(W?x(P,0,0,Ae,be,U):E(P,0,0,Ae,be,U))}}}function y(j,P,U,W,q){if(typeof j=="string"&&(j=document.getElementById(j)),!j||d(j)!=="object"||!("getContext"in j))throw new TypeError("Expecting canvas with `getContext` method in processCanvasRGB(A) calls!");var re=j.getContext("2d");try{return re.getImageData(P,U,W,q)}catch(ie){throw new Error("unable to access image data: "+ie)}}function x(j,P,U,W,q,re){if(!(isNaN(re)||re<1)){re|=0;var ie=y(j,P,U,W,q);ie=w(ie,P,U,W,q,re),j.getContext("2d").putImageData(ie,P,U)}}function w(j,P,U,W,q,re){for(var ie=j.data,Ae=2*re+1,be=W-1,Ee=q-1,ge=re+1,se=ge*(ge+1)/2,xe=new C,ce=xe,Me,Oe=1;Oe<Ae;Oe++)ce=ce.next=new C,Oe===ge&&(Me=ce);ce.next=xe;for(var we=null,ue=null,ye=0,Le=0,He=A[re],Fe=p[re],At=0;At<q;At++){ce=xe;for(var pt=ie[Le],Pe=ie[Le+1],st=ie[Le+2],et=ie[Le+3],We=0;We<ge;We++)ce.r=pt,ce.g=Pe,ce.b=st,ce.a=et,ce=ce.next;for(var gt=0,Ge=0,Ct=0,Et=0,Ut=ge*pt,ir=ge*Pe,on=ge*st,kr=ge*et,rn=se*pt,wn=se*Pe,Mn=se*st,dn=se*et,pn=1;pn<ge;pn++){var mn=Le+((be<pn?be:pn)<<2),Kn=ie[mn],Zn=ie[mn+1],Li=ie[mn+2],ot=ie[mn+3],Wt=ge-pn;rn+=(ce.r=Kn)*Wt,wn+=(ce.g=Zn)*Wt,Mn+=(ce.b=Li)*Wt,dn+=(ce.a=ot)*Wt,gt+=Kn,Ge+=Zn,Ct+=Li,Et+=ot,ce=ce.next}we=xe,ue=Me;for(var jr=0;jr<W;jr++){var rr=dn*He>>>Fe;if(ie[Le+3]=rr,rr!==0){var Ht=255/rr;ie[Le]=(rn*He>>>Fe)*Ht,ie[Le+1]=(wn*He>>>Fe)*Ht,ie[Le+2]=(Mn*He>>>Fe)*Ht}else ie[Le]=ie[Le+1]=ie[Le+2]=0;rn-=Ut,wn-=ir,Mn-=on,dn-=kr,Ut-=we.r,ir-=we.g,on-=we.b,kr-=we.a;var fr=jr+re+1;fr=ye+(fr<be?fr:be)<<2,gt+=we.r=ie[fr],Ge+=we.g=ie[fr+1],Ct+=we.b=ie[fr+2],Et+=we.a=ie[fr+3],rn+=gt,wn+=Ge,Mn+=Ct,dn+=Et,we=we.next;var Hr=ue,Gr=Hr.r,Ln=Hr.g,ln=Hr.b,Jn=Hr.a;Ut+=Gr,ir+=Ln,on+=ln,kr+=Jn,gt-=Gr,Ge-=Ln,Ct-=ln,Et-=Jn,ue=ue.next,Le+=4}ye+=W}for(var en=0;en<W;en++){Le=en<<2;var Dr=ie[Le],An=ie[Le+1],cn=ie[Le+2],Pn=ie[Le+3],li=ge*Dr,Ts=ge*An,Rs=ge*cn,Cs=ge*Pn,ei=se*Dr,nn=se*An,ss=se*cn,ea=se*Pn;ce=xe;for(var En=0;En<ge;En++)ce.r=Dr,ce.g=An,ce.b=cn,ce.a=Pn,ce=ce.next;for(var Tn=W,Ds=0,$s=0,Ms=0,rs=0,Ys=1;Ys<=re;Ys++){Le=Tn+en<<2;var Os=ge-Ys;ei+=(ce.r=Dr=ie[Le])*Os,nn+=(ce.g=An=ie[Le+1])*Os,ss+=(ce.b=cn=ie[Le+2])*Os,ea+=(ce.a=Pn=ie[Le+3])*Os,rs+=Dr,Ds+=An,$s+=cn,Ms+=Pn,ce=ce.next,Ys<Ee&&(Tn+=W)}Le=en,we=xe,ue=Me;for(var Qa=0;Qa<q;Qa++){var ds=Le<<2;ie[ds+3]=Pn=ea*He>>>Fe,Pn>0?(Pn=255/Pn,ie[ds]=(ei*He>>>Fe)*Pn,ie[ds+1]=(nn*He>>>Fe)*Pn,ie[ds+2]=(ss*He>>>Fe)*Pn):ie[ds]=ie[ds+1]=ie[ds+2]=0,ei-=li,nn-=Ts,ss-=Rs,ea-=Cs,li-=we.r,Ts-=we.g,Rs-=we.b,Cs-=we.a,ds=en+((ds=Qa+ge)<Ee?ds:Ee)*W<<2,ei+=rs+=we.r=ie[ds],nn+=Ds+=we.g=ie[ds+1],ss+=$s+=we.b=ie[ds+2],ea+=Ms+=we.a=ie[ds+3],we=we.next,li+=Dr=ue.r,Ts+=An=ue.g,Rs+=cn=ue.b,Cs+=Pn=ue.a,rs-=Dr,Ds-=An,$s-=cn,Ms-=Pn,ue=ue.next,Le+=W}}return j}function E(j,P,U,W,q,re){if(!(isNaN(re)||re<1)){re|=0;var ie=y(j,P,U,W,q);ie=T(ie,P,U,W,q,re),j.getContext("2d").putImageData(ie,P,U)}}function T(j,P,U,W,q,re){for(var ie=j.data,Ae=2*re+1,be=W-1,Ee=q-1,ge=re+1,se=ge*(ge+1)/2,xe=new C,ce=xe,Me,Oe=1;Oe<Ae;Oe++)ce=ce.next=new C,Oe===ge&&(Me=ce);ce.next=xe;for(var we=null,ue=null,ye=A[re],Le=p[re],He,Fe,At=0,pt=0,Pe=0;Pe<q;Pe++){var st=ie[pt],et=ie[pt+1],We=ie[pt+2],gt=ge*st,Ge=ge*et,Ct=ge*We,Et=se*st,Ut=se*et,ir=se*We;ce=xe;for(var on=0;on<ge;on++)ce.r=st,ce.g=et,ce.b=We,ce=ce.next;for(var kr=0,rn=0,wn=0,Mn=1;Mn<ge;Mn++)He=pt+((be<Mn?be:Mn)<<2),Et+=(ce.r=st=ie[He])*(Fe=ge-Mn),Ut+=(ce.g=et=ie[He+1])*Fe,ir+=(ce.b=We=ie[He+2])*Fe,kr+=st,rn+=et,wn+=We,ce=ce.next;we=xe,ue=Me;for(var dn=0;dn<W;dn++)ie[pt]=Et*ye>>>Le,ie[pt+1]=Ut*ye>>>Le,ie[pt+2]=ir*ye>>>Le,Et-=gt,Ut-=Ge,ir-=Ct,gt-=we.r,Ge-=we.g,Ct-=we.b,He=At+((He=dn+re+1)<be?He:be)<<2,kr+=we.r=ie[He],rn+=we.g=ie[He+1],wn+=we.b=ie[He+2],Et+=kr,Ut+=rn,ir+=wn,we=we.next,gt+=st=ue.r,Ge+=et=ue.g,Ct+=We=ue.b,kr-=st,rn-=et,wn-=We,ue=ue.next,pt+=4;At+=W}for(var pn=0;pn<W;pn++){pt=pn<<2;var mn=ie[pt],Kn=ie[pt+1],Zn=ie[pt+2],Li=ge*mn,ot=ge*Kn,Wt=ge*Zn,jr=se*mn,rr=se*Kn,Ht=se*Zn;ce=xe;for(var fr=0;fr<ge;fr++)ce.r=mn,ce.g=Kn,ce.b=Zn,ce=ce.next;for(var Hr=0,Gr=0,Ln=0,ln=1,Jn=W;ln<=re;ln++)pt=Jn+pn<<2,jr+=(ce.r=mn=ie[pt])*(Fe=ge-ln),rr+=(ce.g=Kn=ie[pt+1])*Fe,Ht+=(ce.b=Zn=ie[pt+2])*Fe,Hr+=mn,Gr+=Kn,Ln+=Zn,ce=ce.next,ln<Ee&&(Jn+=W);pt=pn,we=xe,ue=Me;for(var en=0;en<q;en++)He=pt<<2,ie[He]=jr*ye>>>Le,ie[He+1]=rr*ye>>>Le,ie[He+2]=Ht*ye>>>Le,jr-=Li,rr-=ot,Ht-=Wt,Li-=we.r,ot-=we.g,Wt-=we.b,He=pn+((He=en+ge)<Ee?He:Ee)*W<<2,jr+=Hr+=we.r=ie[He],rr+=Gr+=we.g=ie[He+1],Ht+=Ln+=we.b=ie[He+2],we=we.next,Li+=mn=ue.r,ot+=Kn=ue.g,Wt+=Zn=ue.b,Hr-=mn,Gr-=Kn,Ln-=Zn,ue=ue.next,pt+=W}return j}var C=function j(){f(this,j),this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}}),"./node_modules/svg-pathdata/lib/SVGPathData.module.js":(function(c,u,l){l.r(u),l.d(u,{COMMAND_ARG_COUNTS:function(){return Ee},SVGPathData:function(){return be},SVGPathDataParser:function(){return Ae},SVGPathDataTransformer:function(){return E},encodeSVGPath:function(){return A}});var d=function(ge,se){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(xe,ce){xe.__proto__=ce}||function(xe,ce){for(var Me in ce)Object.prototype.hasOwnProperty.call(ce,Me)&&(xe[Me]=ce[Me])})(ge,se)};function f(ge,se){if(typeof se!="function"&&se!==null)throw new TypeError("Class extends value "+String(se)+" is not a constructor or null");function xe(){this.constructor=ge}d(ge,se),ge.prototype=se===null?Object.create(se):(xe.prototype=se.prototype,new xe)}function A(ge){var se="";Array.isArray(ge)||(ge=[ge]);for(var xe=0;xe<ge.length;xe++){var ce=ge[xe];if(ce.type===be.CLOSE_PATH)se+="z";else if(ce.type===be.HORIZ_LINE_TO)se+=(ce.relative?"h":"H")+ce.x;else if(ce.type===be.VERT_LINE_TO)se+=(ce.relative?"v":"V")+ce.y;else if(ce.type===be.MOVE_TO)se+=(ce.relative?"m":"M")+ce.x+" "+ce.y;else if(ce.type===be.LINE_TO)se+=(ce.relative?"l":"L")+ce.x+" "+ce.y;else if(ce.type===be.CURVE_TO)se+=(ce.relative?"c":"C")+ce.x1+" "+ce.y1+" "+ce.x2+" "+ce.y2+" "+ce.x+" "+ce.y;else if(ce.type===be.SMOOTH_CURVE_TO)se+=(ce.relative?"s":"S")+ce.x2+" "+ce.y2+" "+ce.x+" "+ce.y;else if(ce.type===be.QUAD_TO)se+=(ce.relative?"q":"Q")+ce.x1+" "+ce.y1+" "+ce.x+" "+ce.y;else if(ce.type===be.SMOOTH_QUAD_TO)se+=(ce.relative?"t":"T")+ce.x+" "+ce.y;else{if(ce.type!==be.ARC)throw new Error('Unexpected command type "'+ce.type+'" at index '+xe+".");se+=(ce.relative?"a":"A")+ce.rX+" "+ce.rY+" "+ce.xRot+" "+ +ce.lArcFlag+" "+ +ce.sweepFlag+" "+ce.x+" "+ce.y}}return se}function p(ge,se){var xe=ge[0],ce=ge[1];return[xe*Math.cos(se)-ce*Math.sin(se),xe*Math.sin(se)+ce*Math.cos(se)]}function v(){for(var ge=[],se=0;se<arguments.length;se++)ge[se]=arguments[se];for(var xe=0;xe<ge.length;xe++)if(typeof ge[xe]!="number")throw new Error("assertNumbers arguments["+xe+"] is not a number. "+typeof ge[xe]+" == typeof "+ge[xe]);return!0}var y=Math.PI;function x(ge,se,xe){ge.lArcFlag=ge.lArcFlag===0?0:1,ge.sweepFlag=ge.sweepFlag===0?0:1;var ce=ge.rX,Me=ge.rY,Oe=ge.x,we=ge.y;ce=Math.abs(ge.rX),Me=Math.abs(ge.rY);var ue=p([(se-Oe)/2,(xe-we)/2],-ge.xRot/180*y),ye=ue[0],Le=ue[1],He=Math.pow(ye,2)/Math.pow(ce,2)+Math.pow(Le,2)/Math.pow(Me,2);1<He&&(ce*=Math.sqrt(He),Me*=Math.sqrt(He)),ge.rX=ce,ge.rY=Me;var Fe=Math.pow(ce,2)*Math.pow(Le,2)+Math.pow(Me,2)*Math.pow(ye,2),At=(ge.lArcFlag!==ge.sweepFlag?1:-1)*Math.sqrt(Math.max(0,(Math.pow(ce,2)*Math.pow(Me,2)-Fe)/Fe)),pt=ce*Le/Me*At,Pe=-Me*ye/ce*At,st=p([pt,Pe],ge.xRot/180*y);ge.cX=st[0]+(se+Oe)/2,ge.cY=st[1]+(xe+we)/2,ge.phi1=Math.atan2((Le-Pe)/Me,(ye-pt)/ce),ge.phi2=Math.atan2((-Le-Pe)/Me,(-ye-pt)/ce),ge.sweepFlag===0&&ge.phi2>ge.phi1&&(ge.phi2-=2*y),ge.sweepFlag===1&&ge.phi2<ge.phi1&&(ge.phi2+=2*y),ge.phi1*=180/y,ge.phi2*=180/y}function w(ge,se,xe){v(ge,se,xe);var ce=ge*ge+se*se-xe*xe;if(0>ce)return[];if(ce===0)return[[ge*xe/(ge*ge+se*se),se*xe/(ge*ge+se*se)]];var Me=Math.sqrt(ce);return[[(ge*xe+se*Me)/(ge*ge+se*se),(se*xe-ge*Me)/(ge*ge+se*se)],[(ge*xe-se*Me)/(ge*ge+se*se),(se*xe+ge*Me)/(ge*ge+se*se)]]}var E,T=Math.PI/180;function C(ge,se,xe){return(1-xe)*ge+xe*se}function j(ge,se,xe,ce){return ge+Math.cos(ce/180*y)*se+Math.sin(ce/180*y)*xe}function P(ge,se,xe,ce){var Me=1e-6,Oe=se-ge,we=xe-se,ue=3*Oe+3*(ce-xe)-6*we,ye=6*(we-Oe),Le=3*Oe;return Math.abs(ue)<Me?[-Le/ye]:(function(He,Fe,At){var pt=He*He/4-Fe;if(pt<-At)return[];if(pt<=At)return[-He/2];var Pe=Math.sqrt(pt);return[-He/2-Pe,-He/2+Pe]})(ye/ue,Le/ue,Me)}function U(ge,se,xe,ce,Me){var Oe=1-Me;return ge*(Oe*Oe*Oe)+se*(3*Oe*Oe*Me)+xe*(3*Oe*Me*Me)+ce*(Me*Me*Me)}(function(ge){function se(){return Me((function(ue,ye,Le){return ue.relative&&(ue.x1!==void 0&&(ue.x1+=ye),ue.y1!==void 0&&(ue.y1+=Le),ue.x2!==void 0&&(ue.x2+=ye),ue.y2!==void 0&&(ue.y2+=Le),ue.x!==void 0&&(ue.x+=ye),ue.y!==void 0&&(ue.y+=Le),ue.relative=!1),ue}))}function xe(){var ue=NaN,ye=NaN,Le=NaN,He=NaN;return Me((function(Fe,At,pt){return Fe.type&be.SMOOTH_CURVE_TO&&(Fe.type=be.CURVE_TO,ue=isNaN(ue)?At:ue,ye=isNaN(ye)?pt:ye,Fe.x1=Fe.relative?At-ue:2*At-ue,Fe.y1=Fe.relative?pt-ye:2*pt-ye),Fe.type&be.CURVE_TO?(ue=Fe.relative?At+Fe.x2:Fe.x2,ye=Fe.relative?pt+Fe.y2:Fe.y2):(ue=NaN,ye=NaN),Fe.type&be.SMOOTH_QUAD_TO&&(Fe.type=be.QUAD_TO,Le=isNaN(Le)?At:Le,He=isNaN(He)?pt:He,Fe.x1=Fe.relative?At-Le:2*At-Le,Fe.y1=Fe.relative?pt-He:2*pt-He),Fe.type&be.QUAD_TO?(Le=Fe.relative?At+Fe.x1:Fe.x1,He=Fe.relative?pt+Fe.y1:Fe.y1):(Le=NaN,He=NaN),Fe}))}function ce(){var ue=NaN,ye=NaN;return Me((function(Le,He,Fe){if(Le.type&be.SMOOTH_QUAD_TO&&(Le.type=be.QUAD_TO,ue=isNaN(ue)?He:ue,ye=isNaN(ye)?Fe:ye,Le.x1=Le.relative?He-ue:2*He-ue,Le.y1=Le.relative?Fe-ye:2*Fe-ye),Le.type&be.QUAD_TO){ue=Le.relative?He+Le.x1:Le.x1,ye=Le.relative?Fe+Le.y1:Le.y1;var At=Le.x1,pt=Le.y1;Le.type=be.CURVE_TO,Le.x1=((Le.relative?0:He)+2*At)/3,Le.y1=((Le.relative?0:Fe)+2*pt)/3,Le.x2=(Le.x+2*At)/3,Le.y2=(Le.y+2*pt)/3}else ue=NaN,ye=NaN;return Le}))}function Me(ue){var ye=0,Le=0,He=NaN,Fe=NaN;return function(At){if(isNaN(He)&&!(At.type&be.MOVE_TO))throw new Error("path must start with moveto");var pt=ue(At,ye,Le,He,Fe);return At.type&be.CLOSE_PATH&&(ye=He,Le=Fe),At.x!==void 0&&(ye=At.relative?ye+At.x:At.x),At.y!==void 0&&(Le=At.relative?Le+At.y:At.y),At.type&be.MOVE_TO&&(He=ye,Fe=Le),pt}}function Oe(ue,ye,Le,He,Fe,At){return v(ue,ye,Le,He,Fe,At),Me((function(pt,Pe,st,et){var We=pt.x1,gt=pt.x2,Ge=pt.relative&&!isNaN(et),Ct=pt.x!==void 0?pt.x:Ge?0:Pe,Et=pt.y!==void 0?pt.y:Ge?0:st;function Ut(rr){return rr*rr}pt.type&be.HORIZ_LINE_TO&&ye!==0&&(pt.type=be.LINE_TO,pt.y=pt.relative?0:st),pt.type&be.VERT_LINE_TO&&Le!==0&&(pt.type=be.LINE_TO,pt.x=pt.relative?0:Pe),pt.x!==void 0&&(pt.x=pt.x*ue+Et*Le+(Ge?0:Fe)),pt.y!==void 0&&(pt.y=Ct*ye+pt.y*He+(Ge?0:At)),pt.x1!==void 0&&(pt.x1=pt.x1*ue+pt.y1*Le+(Ge?0:Fe)),pt.y1!==void 0&&(pt.y1=We*ye+pt.y1*He+(Ge?0:At)),pt.x2!==void 0&&(pt.x2=pt.x2*ue+pt.y2*Le+(Ge?0:Fe)),pt.y2!==void 0&&(pt.y2=gt*ye+pt.y2*He+(Ge?0:At));var ir=ue*He-ye*Le;if(pt.xRot!==void 0&&(ue!==1||ye!==0||Le!==0||He!==1))if(ir===0)delete pt.rX,delete pt.rY,delete pt.xRot,delete pt.lArcFlag,delete pt.sweepFlag,pt.type=be.LINE_TO;else{var on=pt.xRot*Math.PI/180,kr=Math.sin(on),rn=Math.cos(on),wn=1/Ut(pt.rX),Mn=1/Ut(pt.rY),dn=Ut(rn)*wn+Ut(kr)*Mn,pn=2*kr*rn*(wn-Mn),mn=Ut(kr)*wn+Ut(rn)*Mn,Kn=dn*He*He-pn*ye*He+mn*ye*ye,Zn=pn*(ue*He+ye*Le)-2*(dn*Le*He+mn*ue*ye),Li=dn*Le*Le-pn*ue*Le+mn*ue*ue,ot=(Math.atan2(Zn,Kn-Li)+Math.PI)%Math.PI/2,Wt=Math.sin(ot),jr=Math.cos(ot);pt.rX=Math.abs(ir)/Math.sqrt(Kn*Ut(jr)+Zn*Wt*jr+Li*Ut(Wt)),pt.rY=Math.abs(ir)/Math.sqrt(Kn*Ut(Wt)-Zn*Wt*jr+Li*Ut(jr)),pt.xRot=180*ot/Math.PI}return pt.sweepFlag!==void 0&&0>ir&&(pt.sweepFlag=+!pt.sweepFlag),pt}))}function we(){return function(ue){var ye={};for(var Le in ue)ye[Le]=ue[Le];return ye}}ge.ROUND=function(ue){function ye(Le){return Math.round(Le*ue)/ue}return ue===void 0&&(ue=1e13),v(ue),function(Le){return Le.x1!==void 0&&(Le.x1=ye(Le.x1)),Le.y1!==void 0&&(Le.y1=ye(Le.y1)),Le.x2!==void 0&&(Le.x2=ye(Le.x2)),Le.y2!==void 0&&(Le.y2=ye(Le.y2)),Le.x!==void 0&&(Le.x=ye(Le.x)),Le.y!==void 0&&(Le.y=ye(Le.y)),Le.rX!==void 0&&(Le.rX=ye(Le.rX)),Le.rY!==void 0&&(Le.rY=ye(Le.rY)),Le}},ge.TO_ABS=se,ge.TO_REL=function(){return Me((function(ue,ye,Le){return ue.relative||(ue.x1!==void 0&&(ue.x1-=ye),ue.y1!==void 0&&(ue.y1-=Le),ue.x2!==void 0&&(ue.x2-=ye),ue.y2!==void 0&&(ue.y2-=Le),ue.x!==void 0&&(ue.x-=ye),ue.y!==void 0&&(ue.y-=Le),ue.relative=!0),ue}))},ge.NORMALIZE_HVZ=function(ue,ye,Le){return ue===void 0&&(ue=!0),ye===void 0&&(ye=!0),Le===void 0&&(Le=!0),Me((function(He,Fe,At,pt,Pe){if(isNaN(pt)&&!(He.type&be.MOVE_TO))throw new Error("path must start with moveto");return ye&&He.type&be.HORIZ_LINE_TO&&(He.type=be.LINE_TO,He.y=He.relative?0:At),Le&&He.type&be.VERT_LINE_TO&&(He.type=be.LINE_TO,He.x=He.relative?0:Fe),ue&&He.type&be.CLOSE_PATH&&(He.type=be.LINE_TO,He.x=He.relative?pt-Fe:pt,He.y=He.relative?Pe-At:Pe),He.type&be.ARC&&(He.rX===0||He.rY===0)&&(He.type=be.LINE_TO,delete He.rX,delete He.rY,delete He.xRot,delete He.lArcFlag,delete He.sweepFlag),He}))},ge.NORMALIZE_ST=xe,ge.QT_TO_C=ce,ge.INFO=Me,ge.SANITIZE=function(ue){ue===void 0&&(ue=0),v(ue);var ye=NaN,Le=NaN,He=NaN,Fe=NaN;return Me((function(At,pt,Pe,st,et){var We=Math.abs,gt=!1,Ge=0,Ct=0;if(At.type&be.SMOOTH_CURVE_TO&&(Ge=isNaN(ye)?0:pt-ye,Ct=isNaN(Le)?0:Pe-Le),At.type&(be.CURVE_TO|be.SMOOTH_CURVE_TO)?(ye=At.relative?pt+At.x2:At.x2,Le=At.relative?Pe+At.y2:At.y2):(ye=NaN,Le=NaN),At.type&be.SMOOTH_QUAD_TO?(He=isNaN(He)?pt:2*pt-He,Fe=isNaN(Fe)?Pe:2*Pe-Fe):At.type&be.QUAD_TO?(He=At.relative?pt+At.x1:At.x1,Fe=At.relative?Pe+At.y1:At.y2):(He=NaN,Fe=NaN),At.type&be.LINE_COMMANDS||At.type&be.ARC&&(At.rX===0||At.rY===0||!At.lArcFlag)||At.type&be.CURVE_TO||At.type&be.SMOOTH_CURVE_TO||At.type&be.QUAD_TO||At.type&be.SMOOTH_QUAD_TO){var Et=At.x===void 0?0:At.relative?At.x:At.x-pt,Ut=At.y===void 0?0:At.relative?At.y:At.y-Pe;Ge=isNaN(He)?At.x1===void 0?Ge:At.relative?At.x:At.x1-pt:He-pt,Ct=isNaN(Fe)?At.y1===void 0?Ct:At.relative?At.y:At.y1-Pe:Fe-Pe;var ir=At.x2===void 0?0:At.relative?At.x:At.x2-pt,on=At.y2===void 0?0:At.relative?At.y:At.y2-Pe;We(Et)<=ue&&We(Ut)<=ue&&We(Ge)<=ue&&We(Ct)<=ue&&We(ir)<=ue&&We(on)<=ue&&(gt=!0)}return At.type&be.CLOSE_PATH&&We(pt-st)<=ue&&We(Pe-et)<=ue&&(gt=!0),gt?[]:At}))},ge.MATRIX=Oe,ge.ROTATE=function(ue,ye,Le){ye===void 0&&(ye=0),Le===void 0&&(Le=0),v(ue,ye,Le);var He=Math.sin(ue),Fe=Math.cos(ue);return Oe(Fe,He,-He,Fe,ye-ye*Fe+Le*He,Le-ye*He-Le*Fe)},ge.TRANSLATE=function(ue,ye){return ye===void 0&&(ye=0),v(ue,ye),Oe(1,0,0,1,ue,ye)},ge.SCALE=function(ue,ye){return ye===void 0&&(ye=ue),v(ue,ye),Oe(ue,0,0,ye,0,0)},ge.SKEW_X=function(ue){return v(ue),Oe(1,0,Math.atan(ue),1,0,0)},ge.SKEW_Y=function(ue){return v(ue),Oe(1,Math.atan(ue),0,1,0,0)},ge.X_AXIS_SYMMETRY=function(ue){return ue===void 0&&(ue=0),v(ue),Oe(-1,0,0,1,ue,0)},ge.Y_AXIS_SYMMETRY=function(ue){return ue===void 0&&(ue=0),v(ue),Oe(1,0,0,-1,0,ue)},ge.A_TO_C=function(){return Me((function(ue,ye,Le){return be.ARC===ue.type?(function(He,Fe,At){var pt,Pe,st,et;He.cX||x(He,Fe,At);for(var We=Math.min(He.phi1,He.phi2),gt=Math.max(He.phi1,He.phi2)-We,Ge=Math.ceil(gt/90),Ct=new Array(Ge),Et=Fe,Ut=At,ir=0;ir<Ge;ir++){var on=C(He.phi1,He.phi2,ir/Ge),kr=C(He.phi1,He.phi2,(ir+1)/Ge),rn=kr-on,wn=4/3*Math.tan(rn*T/4),Mn=[Math.cos(on*T)-wn*Math.sin(on*T),Math.sin(on*T)+wn*Math.cos(on*T)],dn=Mn[0],pn=Mn[1],mn=[Math.cos(kr*T),Math.sin(kr*T)],Kn=mn[0],Zn=mn[1],Li=[Kn+wn*Math.sin(kr*T),Zn-wn*Math.cos(kr*T)],ot=Li[0],Wt=Li[1];Ct[ir]={relative:He.relative,type:be.CURVE_TO};var jr=function(rr,Ht){var fr=p([rr*He.rX,Ht*He.rY],He.xRot),Hr=fr[0],Gr=fr[1];return[He.cX+Hr,He.cY+Gr]};pt=jr(dn,pn),Ct[ir].x1=pt[0],Ct[ir].y1=pt[1],Pe=jr(ot,Wt),Ct[ir].x2=Pe[0],Ct[ir].y2=Pe[1],st=jr(Kn,Zn),Ct[ir].x=st[0],Ct[ir].y=st[1],He.relative&&(Ct[ir].x1-=Et,Ct[ir].y1-=Ut,Ct[ir].x2-=Et,Ct[ir].y2-=Ut,Ct[ir].x-=Et,Ct[ir].y-=Ut),Et=(et=[Ct[ir].x,Ct[ir].y])[0],Ut=et[1]}return Ct})(ue,ue.relative?0:ye,ue.relative?0:Le):ue}))},ge.ANNOTATE_ARCS=function(){return Me((function(ue,ye,Le){return ue.relative&&(ye=0,Le=0),be.ARC===ue.type&&x(ue,ye,Le),ue}))},ge.CLONE=we,ge.CALCULATE_BOUNDS=function(){var ue=function(At){var pt={};for(var Pe in At)pt[Pe]=At[Pe];return pt},ye=se(),Le=ce(),He=xe(),Fe=Me((function(At,pt,Pe){var st=He(Le(ye(ue(At))));function et(Wt){Wt>Fe.maxX&&(Fe.maxX=Wt),Wt<Fe.minX&&(Fe.minX=Wt)}function We(Wt){Wt>Fe.maxY&&(Fe.maxY=Wt),Wt<Fe.minY&&(Fe.minY=Wt)}if(st.type&be.DRAWING_COMMANDS&&(et(pt),We(Pe)),st.type&be.HORIZ_LINE_TO&&et(st.x),st.type&be.VERT_LINE_TO&&We(st.y),st.type&be.LINE_TO&&(et(st.x),We(st.y)),st.type&be.CURVE_TO){et(st.x),We(st.y);for(var gt=0,Ge=P(pt,st.x1,st.x2,st.x);gt<Ge.length;gt++)0<(ot=Ge[gt])&&1>ot&&et(U(pt,st.x1,st.x2,st.x,ot));for(var Ct=0,Et=P(Pe,st.y1,st.y2,st.y);Ct<Et.length;Ct++)0<(ot=Et[Ct])&&1>ot&&We(U(Pe,st.y1,st.y2,st.y,ot))}if(st.type&be.ARC){et(st.x),We(st.y),x(st,pt,Pe);for(var Ut=st.xRot/180*Math.PI,ir=Math.cos(Ut)*st.rX,on=Math.sin(Ut)*st.rX,kr=-Math.sin(Ut)*st.rY,rn=Math.cos(Ut)*st.rY,wn=st.phi1<st.phi2?[st.phi1,st.phi2]:-180>st.phi2?[st.phi2+360,st.phi1+360]:[st.phi2,st.phi1],Mn=wn[0],dn=wn[1],pn=function(Wt){var jr=Wt[0],rr=Wt[1],Ht=180*Math.atan2(rr,jr)/Math.PI;return Ht<Mn?Ht+360:Ht},mn=0,Kn=w(kr,-ir,0).map(pn);mn<Kn.length;mn++)(ot=Kn[mn])>Mn&&ot<dn&&et(j(st.cX,ir,kr,ot));for(var Zn=0,Li=w(rn,-on,0).map(pn);Zn<Li.length;Zn++){var ot;(ot=Li[Zn])>Mn&&ot<dn&&We(j(st.cY,on,rn,ot))}}return At}));return Fe.minX=1/0,Fe.maxX=-1/0,Fe.minY=1/0,Fe.maxY=-1/0,Fe}})(E||(E={}));var W,q=(function(){function ge(){}return ge.prototype.round=function(se){return this.transform(E.ROUND(se))},ge.prototype.toAbs=function(){return this.transform(E.TO_ABS())},ge.prototype.toRel=function(){return this.transform(E.TO_REL())},ge.prototype.normalizeHVZ=function(se,xe,ce){return this.transform(E.NORMALIZE_HVZ(se,xe,ce))},ge.prototype.normalizeST=function(){return this.transform(E.NORMALIZE_ST())},ge.prototype.qtToC=function(){return this.transform(E.QT_TO_C())},ge.prototype.aToC=function(){return this.transform(E.A_TO_C())},ge.prototype.sanitize=function(se){return this.transform(E.SANITIZE(se))},ge.prototype.translate=function(se,xe){return this.transform(E.TRANSLATE(se,xe))},ge.prototype.scale=function(se,xe){return this.transform(E.SCALE(se,xe))},ge.prototype.rotate=function(se,xe,ce){return this.transform(E.ROTATE(se,xe,ce))},ge.prototype.matrix=function(se,xe,ce,Me,Oe,we){return this.transform(E.MATRIX(se,xe,ce,Me,Oe,we))},ge.prototype.skewX=function(se){return this.transform(E.SKEW_X(se))},ge.prototype.skewY=function(se){return this.transform(E.SKEW_Y(se))},ge.prototype.xSymmetry=function(se){return this.transform(E.X_AXIS_SYMMETRY(se))},ge.prototype.ySymmetry=function(se){return this.transform(E.Y_AXIS_SYMMETRY(se))},ge.prototype.annotateArcs=function(){return this.transform(E.ANNOTATE_ARCS())},ge})(),re=function(ge){return ge===" "||ge==="	"||ge==="\r"||ge===`
`},ie=function(ge){return 48<=ge.charCodeAt(0)&&ge.charCodeAt(0)<=57},Ae=(function(ge){function se(){var xe=ge.call(this)||this;return xe.curNumber="",xe.curCommandType=-1,xe.curCommandRelative=!1,xe.canParseCommandOrComma=!0,xe.curNumberHasExp=!1,xe.curNumberHasExpDigits=!1,xe.curNumberHasDecimal=!1,xe.curArgs=[],xe}return f(se,ge),se.prototype.finish=function(xe){if(xe===void 0&&(xe=[]),this.parse(" ",xe),this.curArgs.length!==0||!this.canParseCommandOrComma)throw new SyntaxError("Unterminated command at the path end.");return xe},se.prototype.parse=function(xe,ce){var Me=this;ce===void 0&&(ce=[]);for(var Oe=function(Fe){ce.push(Fe),Me.curArgs.length=0,Me.canParseCommandOrComma=!0},we=0;we<xe.length;we++){var ue=xe[we],ye=!(this.curCommandType!==be.ARC||this.curArgs.length!==3&&this.curArgs.length!==4||this.curNumber.length!==1||this.curNumber!=="0"&&this.curNumber!=="1"),Le=ie(ue)&&(this.curNumber==="0"&&ue==="0"||ye);if(!ie(ue)||Le)if(ue!=="e"&&ue!=="E")if(ue!=="-"&&ue!=="+"||!this.curNumberHasExp||this.curNumberHasExpDigits)if(ue!=="."||this.curNumberHasExp||this.curNumberHasDecimal||ye){if(this.curNumber&&this.curCommandType!==-1){var He=Number(this.curNumber);if(isNaN(He))throw new SyntaxError("Invalid number ending at "+we);if(this.curCommandType===be.ARC){if(this.curArgs.length===0||this.curArgs.length===1){if(0>He)throw new SyntaxError('Expected positive number, got "'+He+'" at index "'+we+'"')}else if((this.curArgs.length===3||this.curArgs.length===4)&&this.curNumber!=="0"&&this.curNumber!=="1")throw new SyntaxError('Expected a flag, got "'+this.curNumber+'" at index "'+we+'"')}this.curArgs.push(He),this.curArgs.length===Ee[this.curCommandType]&&(be.HORIZ_LINE_TO===this.curCommandType?Oe({type:be.HORIZ_LINE_TO,relative:this.curCommandRelative,x:He}):be.VERT_LINE_TO===this.curCommandType?Oe({type:be.VERT_LINE_TO,relative:this.curCommandRelative,y:He}):this.curCommandType===be.MOVE_TO||this.curCommandType===be.LINE_TO||this.curCommandType===be.SMOOTH_QUAD_TO?(Oe({type:this.curCommandType,relative:this.curCommandRelative,x:this.curArgs[0],y:this.curArgs[1]}),be.MOVE_TO===this.curCommandType&&(this.curCommandType=be.LINE_TO)):this.curCommandType===be.CURVE_TO?Oe({type:be.CURVE_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x2:this.curArgs[2],y2:this.curArgs[3],x:this.curArgs[4],y:this.curArgs[5]}):this.curCommandType===be.SMOOTH_CURVE_TO?Oe({type:be.SMOOTH_CURVE_TO,relative:this.curCommandRelative,x2:this.curArgs[0],y2:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===be.QUAD_TO?Oe({type:be.QUAD_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===be.ARC&&Oe({type:be.ARC,relative:this.curCommandRelative,rX:this.curArgs[0],rY:this.curArgs[1],xRot:this.curArgs[2],lArcFlag:this.curArgs[3],sweepFlag:this.curArgs[4],x:this.curArgs[5],y:this.curArgs[6]})),this.curNumber="",this.curNumberHasExpDigits=!1,this.curNumberHasExp=!1,this.curNumberHasDecimal=!1,this.canParseCommandOrComma=!0}if(!re(ue))if(ue===","&&this.canParseCommandOrComma)this.canParseCommandOrComma=!1;else if(ue!=="+"&&ue!=="-"&&ue!==".")if(Le)this.curNumber=ue,this.curNumberHasDecimal=!1;else{if(this.curArgs.length!==0)throw new SyntaxError("Unterminated command at index "+we+".");if(!this.canParseCommandOrComma)throw new SyntaxError('Unexpected character "'+ue+'" at index '+we+". Command cannot follow comma");if(this.canParseCommandOrComma=!1,ue!=="z"&&ue!=="Z")if(ue==="h"||ue==="H")this.curCommandType=be.HORIZ_LINE_TO,this.curCommandRelative=ue==="h";else if(ue==="v"||ue==="V")this.curCommandType=be.VERT_LINE_TO,this.curCommandRelative=ue==="v";else if(ue==="m"||ue==="M")this.curCommandType=be.MOVE_TO,this.curCommandRelative=ue==="m";else if(ue==="l"||ue==="L")this.curCommandType=be.LINE_TO,this.curCommandRelative=ue==="l";else if(ue==="c"||ue==="C")this.curCommandType=be.CURVE_TO,this.curCommandRelative=ue==="c";else if(ue==="s"||ue==="S")this.curCommandType=be.SMOOTH_CURVE_TO,this.curCommandRelative=ue==="s";else if(ue==="q"||ue==="Q")this.curCommandType=be.QUAD_TO,this.curCommandRelative=ue==="q";else if(ue==="t"||ue==="T")this.curCommandType=be.SMOOTH_QUAD_TO,this.curCommandRelative=ue==="t";else{if(ue!=="a"&&ue!=="A")throw new SyntaxError('Unexpected character "'+ue+'" at index '+we+".");this.curCommandType=be.ARC,this.curCommandRelative=ue==="a"}else ce.push({type:be.CLOSE_PATH}),this.canParseCommandOrComma=!0,this.curCommandType=-1}else this.curNumber=ue,this.curNumberHasDecimal=ue==="."}else this.curNumber+=ue,this.curNumberHasDecimal=!0;else this.curNumber+=ue;else this.curNumber+=ue,this.curNumberHasExp=!0;else this.curNumber+=ue,this.curNumberHasExpDigits=this.curNumberHasExp}return ce},se.prototype.transform=function(xe){return Object.create(this,{parse:{value:function(ce,Me){Me===void 0&&(Me=[]);for(var Oe=0,we=Object.getPrototypeOf(this).parse.call(this,ce);Oe<we.length;Oe++){var ue=we[Oe],ye=xe(ue);Array.isArray(ye)?Me.push.apply(Me,ye):Me.push(ye)}return Me}}})},se})(q),be=(function(ge){function se(xe){var ce=ge.call(this)||this;return ce.commands=typeof xe=="string"?se.parse(xe):xe,ce}return f(se,ge),se.prototype.encode=function(){return se.encode(this.commands)},se.prototype.getBounds=function(){var xe=E.CALCULATE_BOUNDS();return this.transform(xe),xe},se.prototype.transform=function(xe){for(var ce=[],Me=0,Oe=this.commands;Me<Oe.length;Me++){var we=xe(Oe[Me]);Array.isArray(we)?ce.push.apply(ce,we):ce.push(we)}return this.commands=ce,this},se.encode=function(xe){return A(xe)},se.parse=function(xe){var ce=new Ae,Me=[];return ce.parse(xe,Me),ce.finish(Me),Me},se.CLOSE_PATH=1,se.MOVE_TO=2,se.HORIZ_LINE_TO=4,se.VERT_LINE_TO=8,se.LINE_TO=16,se.CURVE_TO=32,se.SMOOTH_CURVE_TO=64,se.QUAD_TO=128,se.SMOOTH_QUAD_TO=256,se.ARC=512,se.LINE_COMMANDS=se.LINE_TO|se.HORIZ_LINE_TO|se.VERT_LINE_TO,se.DRAWING_COMMANDS=se.HORIZ_LINE_TO|se.VERT_LINE_TO|se.LINE_TO|se.CURVE_TO|se.SMOOTH_CURVE_TO|se.QUAD_TO|se.SMOOTH_QUAD_TO|se.ARC,se})(q),Ee=((W={})[be.MOVE_TO]=2,W[be.LINE_TO]=2,W[be.HORIZ_LINE_TO]=1,W[be.VERT_LINE_TO]=1,W[be.CLOSE_PATH]=0,W[be.QUAD_TO]=4,W[be.SMOOTH_QUAD_TO]=2,W[be.CURVE_TO]=6,W[be.SMOOTH_CURVE_TO]=4,W[be.ARC]=7,W)}),"./src/plugin/hyperlinks.js":(function(c,u,l){l.r(u),l("./node_modules/core-js/modules/es.object.to-string.js"),l("./node_modules/core-js/modules/es.string.link.js"),l("./node_modules/core-js/modules/esnext.iterator.constructor.js"),l("./node_modules/core-js/modules/esnext.iterator.for-each.js"),l("./node_modules/core-js/modules/web.dom-collections.for-each.js");var d=l("./src/worker.js"),f=l("./src/utils.js"),A=[],p={toContainer:d.default.prototype.toContainer,toPdf:d.default.prototype.toPdf};d.default.prototype.toContainer=function(){return p.toContainer.call(this).then(function(){if(this.opt.enableLinks){var x=this.prop.container,w=x.querySelectorAll("a"),E=(0,f.unitConvert)(x.getBoundingClientRect(),this.prop.pageSize.k);A=[],Array.prototype.forEach.call(w,function(T){for(var C=T.getClientRects(),j=0;j<C.length;j++){var P=(0,f.unitConvert)(C[j],this.prop.pageSize.k);P.left-=E.left,P.top-=E.top;var U=Math.floor(P.top/this.prop.pageSize.inner.height)+1,W=this.opt.margin[0]+P.top%this.prop.pageSize.inner.height,q=this.opt.margin[1]+P.left;A.push({page:U,top:W,left:q,clientRect:P,link:T})}},this)}})},d.default.prototype.toPdf=function(){return p.toPdf.call(this).then(function(){if(this.opt.enableLinks){A.forEach(function(w){this.prop.pdf.setPage(w.page),this.prop.pdf.link(w.left,w.top,w.clientRect.width,w.clientRect.height,{url:w.link.href})},this);var x=this.prop.pdf.internal.getNumberOfPages();this.prop.pdf.setPage(x)}})}}),"./src/plugin/jspdf-plugin.js":(function(c,u,l){l.r(u),l("./node_modules/core-js/modules/es.symbol.js"),l("./node_modules/core-js/modules/es.symbol.description.js"),l("./node_modules/core-js/modules/es.symbol.iterator.js"),l("./node_modules/core-js/modules/es.array.iterator.js"),l("./node_modules/core-js/modules/es.object.to-string.js"),l("./node_modules/core-js/modules/es.string.iterator.js"),l("./node_modules/core-js/modules/web.dom-collections.iterator.js");var d=l("./node_modules/jspdf/dist/jspdf.es.min.js");function f(A){"@babel/helpers - typeof";return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},f(A)}d.jsPDF.getPageSize=function(A,p,v){if(f(A)==="object"){var y=A;A=y.orientation,p=y.unit||p,v=y.format||v}p=p||"mm",v=v||"a4",A=(""+(A||"P")).toLowerCase();var x=(""+v).toLowerCase(),w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(p){case"pt":var E=1;break;case"mm":var E=72/25.4;break;case"cm":var E=72/2.54;break;case"in":var E=72;break;case"px":var E=72/96;break;case"pc":var E=12;break;case"em":var E=12;break;case"ex":var E=6;break;default:throw"Invalid unit: "+p}if(w.hasOwnProperty(x))var T=w[x][1]/E,C=w[x][0]/E;else try{var T=v[1],C=v[0]}catch{throw new Error("Invalid format: "+v)}if(A==="p"||A==="portrait"){if(A="p",C>T){var j=C;C=T,T=j}}else if(A==="l"||A==="landscape"){if(A="l",T>C){var j=C;C=T,T=j}}else throw"Invalid orientation: "+A;var P={width:C,height:T,unit:p,k:E};return P},u.default=d.jsPDF}),"./src/plugin/pagebreaks.js":(function(c,u,l){l.r(u),l("./node_modules/core-js/modules/es.array.concat.js"),l("./node_modules/core-js/modules/es.array.join.js"),l("./node_modules/core-js/modules/es.array.slice.js"),l("./node_modules/core-js/modules/es.object.keys.js"),l("./node_modules/core-js/modules/es.object.to-string.js"),l("./node_modules/core-js/modules/esnext.iterator.constructor.js"),l("./node_modules/core-js/modules/esnext.iterator.for-each.js"),l("./node_modules/core-js/modules/web.dom-collections.for-each.js");var d=l("./src/worker.js"),f=l("./src/utils.js"),A={toContainer:d.default.prototype.toContainer};d.default.template.opt.pagebreak={mode:["css","legacy"],before:[],after:[],avoid:[]},d.default.prototype.toContainer=function(){return A.toContainer.call(this).then(function(){var y=this.prop.container,x=this.prop.pageSize.inner.px.height,w=[].concat(this.opt.pagebreak.mode),E={avoidAll:w.indexOf("avoid-all")!==-1,css:w.indexOf("css")!==-1,legacy:w.indexOf("legacy")!==-1},T={},C=this;["before","after","avoid"].forEach(function(U){var W=E.avoidAll&&U==="avoid";T[U]=W?[]:[].concat(C.opt.pagebreak[U]||[]),T[U].length>0&&(T[U]=Array.prototype.slice.call(y.querySelectorAll(T[U].join(", "))))});var j=y.querySelectorAll(".html2pdf__page-break");j=Array.prototype.slice.call(j);var P=y.querySelectorAll("*");Array.prototype.forEach.call(P,function(W){var q={before:!1,after:E.legacy&&j.indexOf(W)!==-1,avoid:E.avoidAll};if(E.css){var re=window.getComputedStyle(W),ie=["always","page","left","right"],Ae=["avoid","avoid-page"];q={before:q.before||ie.indexOf(re.breakBefore||re.pageBreakBefore)!==-1,after:q.after||ie.indexOf(re.breakAfter||re.pageBreakAfter)!==-1,avoid:q.avoid||Ae.indexOf(re.breakInside||re.pageBreakInside)!==-1}}Object.keys(q).forEach(function(ce){q[ce]=q[ce]||T[ce].indexOf(W)!==-1});var be=W.getBoundingClientRect();if(q.avoid&&!q.before){var Ee=Math.floor(be.top/x),ge=Math.floor(be.bottom/x),se=Math.abs(be.bottom-be.top)/x;ge!==Ee&&se<=1&&(q.before=!0)}if(q.before){var xe=(0,f.createElement)("div",{style:{display:"block",height:x-be.top%x+"px"}});W.parentNode.insertBefore(xe,W)}if(q.after){var xe=(0,f.createElement)("div",{style:{display:"block",height:x-be.bottom%x+"px"}});W.parentNode.insertBefore(xe,W.nextSibling)}})})}}),"./src/snapdom/clone.js":(function(c,u,l){l.r(u),l.d(u,{deepCloneBasic:function(){return v}}),l("./node_modules/core-js/modules/es.symbol.js"),l("./node_modules/core-js/modules/es.symbol.description.js"),l("./node_modules/core-js/modules/es.symbol.iterator.js"),l("./node_modules/core-js/modules/es.array.concat.js"),l("./node_modules/core-js/modules/es.array.from.js"),l("./node_modules/core-js/modules/es.array.iterator.js"),l("./node_modules/core-js/modules/es.array.slice.js"),l("./node_modules/core-js/modules/es.function.name.js"),l("./node_modules/core-js/modules/es.object.to-string.js"),l("./node_modules/core-js/modules/es.regexp.exec.js"),l("./node_modules/core-js/modules/es.regexp.test.js"),l("./node_modules/core-js/modules/es.regexp.to-string.js"),l("./node_modules/core-js/modules/es.set.js"),l("./node_modules/core-js/modules/es.string.iterator.js"),l("./node_modules/core-js/modules/esnext.set.add-all.js"),l("./node_modules/core-js/modules/esnext.set.delete-all.js"),l("./node_modules/core-js/modules/esnext.set.difference.js"),l("./node_modules/core-js/modules/esnext.set.every.js"),l("./node_modules/core-js/modules/esnext.set.filter.js"),l("./node_modules/core-js/modules/esnext.set.find.js"),l("./node_modules/core-js/modules/esnext.set.intersection.js"),l("./node_modules/core-js/modules/esnext.set.is-disjoint-from.js"),l("./node_modules/core-js/modules/esnext.set.is-subset-of.js"),l("./node_modules/core-js/modules/esnext.set.is-superset-of.js"),l("./node_modules/core-js/modules/esnext.set.join.js"),l("./node_modules/core-js/modules/esnext.set.map.js"),l("./node_modules/core-js/modules/esnext.set.reduce.js"),l("./node_modules/core-js/modules/esnext.set.some.js"),l("./node_modules/core-js/modules/esnext.set.symmetric-difference.js"),l("./node_modules/core-js/modules/esnext.set.union.js"),l("./node_modules/core-js/modules/web.dom-collections.iterator.js");function d(y,x){var w=typeof Symbol<"u"&&y[Symbol.iterator]||y["@@iterator"];if(!w){if(Array.isArray(y)||(w=f(y))||x){w&&(y=w);var E=0,T=function(){};return{s:T,n:function(){return E>=y.length?{done:!0}:{done:!1,value:y[E++]}},e:function(W){throw W},f:T}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var C,j=!0,P=!1;return{s:function(){w=w.call(y)},n:function(){var W=w.next();return j=W.done,W},e:function(W){P=!0,C=W},f:function(){try{j||w.return==null||w.return()}finally{if(P)throw C}}}}function f(y,x){if(y){if(typeof y=="string")return A(y,x);var w={}.toString.call(y).slice(8,-1);return w==="Object"&&y.constructor&&(w=y.constructor.name),w==="Map"||w==="Set"?Array.from(y):w==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(w)?A(y,x):void 0}}function A(y,x){(x==null||x>y.length)&&(x=y.length);for(var w=0,E=Array(x);w<x;w++)E[w]=y[w];return E}function p(y,x){try{var w=y.currentSrc||y.src||"";if(!w)return;x.setAttribute("src",w),x.removeAttribute("srcset"),x.removeAttribute("sizes"),x.loading="eager",x.decoding="sync"}catch{}}function v(y){if(!y)throw new Error("Invalid node");var x=new Set,w=null;if(y.nodeType===Node.TEXT_NODE||y.nodeType!==Node.ELEMENT_NODE)return y.cloneNode(!0);if(y.tagName==="IFRAME"){var E=document.createElement("div");return E.style.cssText="width:".concat(y.offsetWidth,"px;height:").concat(y.offsetHeight,"px;background-image:repeating-linear-gradient(45deg,#ddd,#ddd 5px,#f9f9f9 5px,#f9f9f9 10px);display:flex;align-items:center;justify-content:center;font-size:12px;color:#555;border:1px solid #aaa;"),E}if(y.tagName==="CANVAS"){var T=y.toDataURL(),C=document.createElement("img");return C.src=T,C.width=y.width,C.height=y.height,C}var j;try{j=y.cloneNode(!1),y.tagName==="IMG"&&p(y,j)}catch(We){throw console.error("[Snapdom] Failed to clone node:",y,We),We}if(y instanceof HTMLTextAreaElement){j.textContent=y.value,j.value=y.value;var P=y.getBoundingClientRect();return j.style.boxSizing="border-box",j.style.width="".concat(P.width,"px"),j.style.height="".concat(P.height,"px"),j}if(y instanceof HTMLInputElement&&(y.hasAttribute("value")&&(j.value=y.value,j.setAttribute("value",y.value)),y.checked!==void 0&&(j.checked=y.checked,y.checked&&j.setAttribute("checked",""),y.indeterminate&&(j.indeterminate=y.indeterminate))),y instanceof HTMLSelectElement&&(w=y.value),y.shadowRoot){var U=Array.from(y.shadowRoot.querySelectorAll("slot")).length>0;if(!U){var W=document.createDocumentFragment(),q=d(y.shadowRoot.childNodes),re;try{for(q.s();!(re=q.n()).done;){var ie=re.value;if(!(ie.nodeType===Node.ELEMENT_NODE&&ie.tagName==="STYLE")){var Ae=v(ie);Ae&&W.appendChild(Ae)}}}catch(We){q.e(We)}finally{q.f()}j.appendChild(W)}}if(y.tagName==="SLOT"){var be,Ee=((be=y.assignedNodes)===null||be===void 0?void 0:be.call(y,{flatten:!0}))||[],ge=Ee.length>0?Ee:Array.from(y.childNodes),se=document.createDocumentFragment(),xe=d(ge),ce;try{for(xe.s();!(ce=xe.n()).done;){var Me=ce.value,Oe=v(Me);Oe&&se.appendChild(Oe)}}catch(We){xe.e(We)}finally{xe.f()}return se}var we=d(y.childNodes),ue;try{for(we.s();!(ue=we.n()).done;){var ye=ue.value;if(!x.has(ye)){var Le=v(ye);Le&&j.appendChild(Le)}}}catch(We){we.e(We)}finally{we.f()}if(w!==null&&j instanceof HTMLSelectElement){j.value=w;var He=d(j.options),Fe;try{for(He.s();!(Fe=He.n()).done;){var At=Fe.value;At.value===w?At.setAttribute("selected",""):At.removeAttribute("selected")}}catch(We){He.e(We)}finally{He.f()}}var pt=y.scrollLeft,Pe=y.scrollTop,st=pt||Pe;if(st&&j instanceof HTMLElement){j.style.overflow="hidden",j.style.scrollbarWidth="none",j.style.msOverflowStyle="none";var et=document.createElement("div");for(et.style.transform="translate(".concat(-pt,"px, ").concat(-Pe,"px)"),et.style.willChange="transform",et.style.display="inline-block",et.style.width="100%";j.firstChild;)et.appendChild(j.firstChild);j.appendChild(et)}return j}}),"./src/utils.js":(function(c,u,l){l.r(u),l.d(u,{createElement:function(){return p},objType:function(){return A},toPx:function(){return y},unitConvert:function(){return v}}),l("./node_modules/core-js/modules/es.symbol.js"),l("./node_modules/core-js/modules/es.symbol.description.js"),l("./node_modules/core-js/modules/es.symbol.iterator.js"),l("./node_modules/core-js/modules/es.array.iterator.js"),l("./node_modules/core-js/modules/es.number.constructor.js"),l("./node_modules/core-js/modules/es.object.to-string.js"),l("./node_modules/core-js/modules/es.string.iterator.js"),l("./node_modules/core-js/modules/web.dom-collections.iterator.js");var d=l("./node_modules/dompurify/dist/purify.es.mjs");function f(x){"@babel/helpers - typeof";return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},f(x)}var A=function(w){var E=f(w);return E==="undefined"?"undefined":E==="string"||w instanceof String?"string":E==="number"||w instanceof Number?"number":E==="function"||w instanceof Function?"function":w&&w.constructor===Array?"array":w&&w.nodeType===1?"element":E==="object"?"object":"unknown"},p=function(w,E){var T=document.createElement(w);E.className&&(T.className=E.className),E.innerHTML&&(T.innerHTML=d.default.sanitize(E.innerHTML));for(var C in E.style)T.style[C]=E.style[C];return T},v=function(w,E){if(A(w)==="number")return w*72/96/E;var T={};for(var C in w)T[C]=w[C]*72/96/E;return T},y=function(w,E){return Math.floor(w*E/72*96)}}),"./src/worker.js":(function(c,u,l){l.r(u),l("./node_modules/core-js/modules/es.array.concat.js"),l("./node_modules/core-js/modules/es.array.map.js"),l("./node_modules/core-js/modules/es.function.name.js"),l("./node_modules/core-js/modules/es.json.stringify.js"),l("./node_modules/core-js/modules/es.object.assign.js"),l("./node_modules/core-js/modules/es.object.keys.js"),l("./node_modules/core-js/modules/es.object.to-string.js"),l("./node_modules/core-js/modules/es.promise.js"),l("./node_modules/core-js/modules/es.regexp.to-string.js"),l("./node_modules/core-js/modules/esnext.iterator.constructor.js"),l("./node_modules/core-js/modules/esnext.iterator.for-each.js"),l("./node_modules/core-js/modules/esnext.iterator.map.js"),l("./node_modules/core-js/modules/web.dom-collections.for-each.js"),l("./node_modules/core-js/modules/web.timers.js");var d=l("./node_modules/jspdf/dist/jspdf.es.min.js"),f=l("html2canvas"),A=l.n(f),p=l("./src/snapdom/clone.js"),v=l("./src/utils.js"),y=function x(w){var E=Object.assign(x.convert(Promise.resolve()),JSON.parse(JSON.stringify(x.template))),T=x.convert(Promise.resolve(),E);return T=T.setProgress(1,x,1,[x]),T=T.set(w),T};y.prototype=Object.create(Promise.prototype),y.prototype.constructor=y,y.convert=function(w,E){return w.__proto__=E||y.prototype,w},y.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],image:{type:"jpeg",quality:.95},enableLinks:!0,html2canvas:{},jsPDF:{}}},y.prototype.from=function(w,E){function T(C){switch((0,v.objType)(C)){case"string":return"string";case"element":return C.nodeName.toLowerCase&&C.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}return this.then(function(){switch(E=E||T(w),E){case"string":return this.set({src:(0,v.createElement)("div",{innerHTML:w})});case"element":return this.set({src:w});case"canvas":return this.set({canvas:w});case"img":return this.set({img:w});default:return this.error("Unknown source type.")}})},y.prototype.to=function(w){switch(w){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},y.prototype.toContainer=function(){var w=[function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(w).then(function(){var T={position:"fixed",overflow:"hidden",zIndex:1e3,left:0,right:0,bottom:0,top:0,backgroundColor:"rgba(0,0,0,0.8)"},C={position:"absolute",width:this.prop.pageSize.inner.width+this.prop.pageSize.unit,left:0,right:0,top:0,height:"auto",margin:"auto",backgroundColor:"white"};T.opacity=0;var j=(0,p.deepCloneBasic)(this.prop.src);return this.prop.overlay=(0,v.createElement)("div",{className:"html2pdf__overlay",style:T}),this.prop.container=(0,v.createElement)("div",{className:"html2pdf__container",style:C}),this.prop.container.appendChild(j),this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),new Promise(function(P){return setTimeout(P,10)})})},y.prototype.toCanvas=function(){var w=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(w).then(function(){var T=Object.assign({},this.opt.html2canvas);return delete T.onrendered,A()(this.prop.container,T)}).then(function(T){var C=this.opt.html2canvas.onrendered||function(){};C(T),this.prop.canvas=T,document.body.removeChild(this.prop.overlay)})},y.prototype.toImg=function(){var w=[function(){return this.prop.canvas||this.toCanvas()}];return this.thenList(w).then(function(){var T=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=T})},y.prototype.toPdf=function(){var w=[function(){return this.prop.canvas||this.toCanvas()},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(w).then(function(){var T=this.prop.canvas,C=this.opt,j=T.height,P=Math.floor(T.width*this.prop.pageSize.inner.ratio),U=Math.ceil(j/P),W=this.prop.pageSize.inner.height,q=document.createElement("canvas"),re=q.getContext("2d");q.width=T.width,q.height=P,this.prop.pdf=this.prop.pdf||new d.jsPDF(C.jsPDF);for(var ie=0;ie<U;ie++){ie===U-1&&j%P!==0&&(q.height=j%P,W=q.height*this.prop.pageSize.inner.width/q.width);var Ae=q.width,be=q.height;re.fillStyle="white",re.fillRect(0,0,Ae,be),re.drawImage(T,0,ie*P,Ae,be,0,0,Ae,be),ie&&this.prop.pdf.addPage();var Ee=q.toDataURL("image/"+C.image.type,C.image.quality);this.prop.pdf.addImage(Ee,C.image.type,C.margin[1],C.margin[0],this.prop.pageSize.inner.width,W)}})},y.prototype.output=function(w,E,T){return T=T||"pdf",T.toLowerCase()==="img"||T.toLowerCase()==="image"?this.outputImg(w,E):this.outputPdf(w,E)},y.prototype.outputPdf=function(w,E){var T=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(T).then(function(){return this.prop.pdf.output(w,E)})},y.prototype.outputImg=function(w,E){var T=[function(){return this.prop.img||this.toImg()}];return this.thenList(T).then(function(){switch(w){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+w+'" is not supported.'}})},y.prototype.save=function(w){var E=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(E).set(w?{filename:w}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},y.prototype.set=function(w){if((0,v.objType)(w)!=="object")return this;var E=Object.keys(w||{}).map(function(T){switch(T){case"margin":return this.setMargin.bind(this,w.margin);case"jsPDF":return function(){return this.opt.jsPDF=w.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,w.pageSize);default:return T in y.template.prop?function(){this.prop[T]=w[T]}:function(){this.opt[T]=w[T]}}},this);return this.then(function(){return this.thenList(E)})},y.prototype.get=function(w,E){return this.then(function(){var C=w in y.template.prop?this.prop[w]:this.opt[w];return E?E(C):C})},y.prototype.setMargin=function(w){return this.then(function(){switch((0,v.objType)(w)){case"number":w=[w,w,w,w];case"array":if(w.length===2&&(w=[w[0],w[1],w[0],w[1]]),w.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=w}).then(this.setPageSize)},y.prototype.setPageSize=function(w){return this.then(function(){w=w||d.jsPDF.getPageSize(this.opt.jsPDF),w.hasOwnProperty("inner")||(w.inner={width:w.width-this.opt.margin[1]-this.opt.margin[3],height:w.height-this.opt.margin[0]-this.opt.margin[2]},w.inner.px={width:(0,v.toPx)(w.inner.width,w.k),height:(0,v.toPx)(w.inner.height,w.k)},w.inner.ratio=w.inner.height/w.inner.width),this.prop.pageSize=w})},y.prototype.setProgress=function(w,E,T,C){return w!=null&&(this.progress.val=w),E!=null&&(this.progress.state=E),T!=null&&(this.progress.n=T),C!=null&&(this.progress.stack=C),this.progress.ratio=this.progress.val/this.progress.state,this},y.prototype.updateProgress=function(w,E,T,C){return this.setProgress(w?this.progress.val+w:null,E||null,T?this.progress.n+T:null,C?this.progress.stack.concat(C):null)},y.prototype.then=function(w,E){var T=this;return this.thenCore(w,E,function(j,P){return T.updateProgress(null,null,1,[j]),Promise.prototype.then.call(this,function(W){return T.updateProgress(null,j),W}).then(j,P).then(function(W){return T.updateProgress(1),W})})},y.prototype.thenCore=function(w,E,T){T=T||Promise.prototype.then;var C=this;w&&(w=w.bind(C)),E&&(E=E.bind(C));var j=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise",P=j?C:y.convert(Object.assign({},C),Promise.prototype),U=T.call(P,w,E);return y.convert(U,C.__proto__)},y.prototype.thenExternal=function(w,E){return Promise.prototype.then.call(this,w,E)},y.prototype.thenList=function(w){var E=this;return w.forEach(function(C){E=E.thenCore(C)}),E},y.prototype.catch=function(x){x&&(x=x.bind(this));var w=Promise.prototype.catch.call(this,x);return y.convert(w,this)},y.prototype.catchExternal=function(w){return Promise.prototype.catch.call(this,w)},y.prototype.error=function(w){return this.then(function(){throw new Error(w)})},y.prototype.using=y.prototype.set,y.prototype.saveAs=y.prototype.save,y.prototype.export=y.prototype.output,y.prototype.run=y.prototype.then,u.default=y}),html2canvas:(function(c){c.exports=r})},i={};function s(c){var u=i[c];if(u!==void 0)return u.exports;if(n[c]===void 0){var l=new Error("Cannot find module '"+c+"'");throw l.code="MODULE_NOT_FOUND",l}var d=i[c]={exports:{}};return n[c].call(d.exports,d,d.exports,s),d.exports}(function(){s.n=function(c){var u=c&&c.__esModule?function(){return c.default}:function(){return c};return s.d(u,{a:u}),u}})(),(function(){var c=Object.getPrototypeOf?function(l){return Object.getPrototypeOf(l)}:function(l){return l.__proto__},u;s.t=function(l,d){if(d&1&&(l=this(l)),d&8||typeof l=="object"&&l&&(d&4&&l.__esModule||d&16&&typeof l.then=="function"))return l;var f=Object.create(null);s.r(f);var A={};u=u||[null,c({}),c([]),c(c)];for(var p=d&2&&l;(typeof p=="object"||typeof p=="function")&&!~u.indexOf(p);p=c(p))Object.getOwnPropertyNames(p).forEach(function(v){A[v]=function(){return l[v]}});return A.default=function(){return l},s.d(f,A),f}})(),(function(){s.d=function(c,u){for(var l in u)s.o(u,l)&&!s.o(c,l)&&Object.defineProperty(c,l,{enumerable:!0,get:u[l]})}})(),(function(){s.o=function(c,u){return Object.prototype.hasOwnProperty.call(c,u)}})(),(function(){s.r=function(c){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})}})();var a={};return(function(){s.r(a);var c=s("./src/worker.js");s("./src/plugin/jspdf-plugin.js"),s("./src/plugin/pagebreaks.js"),s("./src/plugin/hyperlinks.js");var u=function l(d,f){var A=new l.Worker(f);return d?A.from(d).save():A};u.Worker=c.default,a.default=u})(),a=a.default,a})()})})(CL)),CL.exports}var h4e=d4e();const f4e=Yf(h4e),A4e=({formData:t,analysis:e,selectedAddOns:r=[],prevStep:n,goToStep:i})=>{const s=()=>{const c=document.createElement("div");c.innerHTML=`
      <div style="font-family: 'Arial', sans-serif; color: #fff; background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%); padding: 40px;">
        <!-- Header -->
        <div style="text-align: center; margin-bottom: 40px; border-bottom: 3px solid #F83B3B; padding-bottom: 20px;">
          <h1 style="color: #F83B3B; font-size: 36px; margin: 0 0 10px 0; font-weight: 900;">
            FIT FOCUS MEDIA
          </h1>
          <p style="color: #9CA3AF; font-size: 16px; margin: 0;">Combat Sports Media Production Proposal</p>
          <p style="color: #6B7280; font-size: 12px; margin: 10px 0 0 0;">${new Date().toLocaleDateString()}</p>
        </div>

        <!-- Organization Details -->
        <div style="background: #2d2d2d; border: 2px solid #374151; border-radius: 12px; padding: 30px; margin-bottom: 30px;">
          <h2 style="color: #F83B3B; font-size: 24px; margin: 0 0 20px 0; font-weight: bold;">Organization Profile</h2>
          <table style="width: 100%; border-collapse: collapse;">
            <tr>
              <td style="padding: 8px 0; color: #9CA3AF; font-size: 14px;">Organization:</td>
              <td style="padding: 8px 0; color: #fff; font-size: 14px; font-weight: bold;">${t.orgName}</td>
            </tr>
            <tr>
              <td style="padding: 8px 0; color: #9CA3AF; font-size: 14px;">Events Per Year:</td>
              <td style="padding: 8px 0; color: #fff; font-size: 14px; font-weight: bold;">${t.showsPerYear}</td>
            </tr>
            <tr>
              <td style="padding: 8px 0; color: #9CA3AF; font-size: 14px;">Average Attendance:</td>
              <td style="padding: 8px 0; color: #fff; font-size: 14px; font-weight: bold;">${t.avgAttendance.toLocaleString()}</td>
            </tr>
            <tr>
              <td style="padding: 8px 0; color: #9CA3AF; font-size: 14px;">Social Following:</td>
              <td style="padding: 8px 0; color: #fff; font-size: 14px; font-weight: bold;">${t.socialFollowing.toLocaleString()}</td>
            </tr>
            <tr>
              <td style="padding: 8px 0; color: #9CA3AF; font-size: 14px;">Organization Tier:</td>
              <td style="padding: 8px 0; color: #F83B3B; font-size: 16px; font-weight: bold;">${e?.tier}</td>
            </tr>
          </table>
        </div>

        <!-- The Grand Slam Offer -->
        <div style="background: linear-gradient(135deg, #D97706 0%, #DC2626 100%); border: 3px solid #FBBF24; border-radius: 12px; padding: 30px; margin-bottom: 30px;">
          <div style="background: rgba(255,255,255,0.2); display: inline-block; padding: 8px 16px; border-radius: 20px; margin-bottom: 15px;">
            <span style="color: #fff; font-size: 12px; font-weight: bold;"> ZERO-COST PRODUCTION</span>
          </div>
          <h2 style="color: #fff; font-size: 28px; margin: 0 0 10px 0; font-weight: bold;">Our Offer to ${t.orgName}</h2>
          <p style="color: #FEF3C7; font-size: 18px; font-weight: bold; margin: 0 0 20px 0;">
            Professional live stream production at absolutely zero cost to you
          </p>
          
          <div style="background: rgba(255,255,255,0.1); border-radius: 8px; padding: 20px; margin-bottom: 20px;">
            <h3 style="color: #fff; font-size: 16px; margin: 0 0 15px 0; font-weight: bold;"> What's Included FREE:</h3>
            <ul style="margin: 0; padding-left: 20px; color: #FEF3C7;">
              <li style="margin-bottom: 8px;">Professional live stream production (1-2 cameras)</li>
              <li style="margin-bottom: 8px;">Complete PPV/streaming setup and management</li>
              <li style="margin-bottom: 8px;">Full show recording</li>
              <li style="margin-bottom: 8px;">1 social media highlight clip</li>
              <li style="margin-bottom: 0;">Revenue share: You earn from every PPV sale</li>
            </ul>
          </div>
          
          <div style="background: rgba(16, 185, 129, 0.3); border: 2px solid #10B981; border-radius: 8px; padding: 15px; text-align: center;">
            <p style="color: #fff; font-size: 20px; font-weight: bold; margin: 0;">
              Your Production Cost: <span style="color: #6EE7B7;">$0</span>
            </p>
            <p style="color: #D1FAE5; font-size: 12px; margin: 5px 0 0 0;">
              Zero upfront cost. Zero risk. Just professional streaming + revenue sharing.
            </p>
          </div>
        </div>
        
        <!-- Premium Add-Ons -->
        <div style="background: #2d2d2d; border: 2px solid #374151; border-radius: 12px; padding: 30px; margin-bottom: 30px;">
          <h2 style="color: #F83B3B; font-size: 24px; margin: 0 0 15px 0; font-weight: bold;">Premium Add-Ons</h2>
          ${r.length>0?`
            <p style="color: #10B981; font-size: 14px; margin: 0 0 15px 0; font-weight: bold;"> Selected Add-Ons:</p>
            <ul style="margin: 0 0 20px 0; padding-left: 20px; color: #D1D5DB; line-height: 1.8;">
              ${r.map(l=>`<li style="color: #10B981;"> ${l}</li>`).join("")}
            </ul>
          `:""}
          <p style="color: #9CA3AF; font-size: 14px; margin: 0 0 15px 0;">
            ${r.length>0?"Other available options:":"Available premium upgrades:"}
          </p>
          ${e?.tier==="Grassroots"?`
            <ul style="margin: 0; padding-left: 20px; color: #D1D5DB; line-height: 1.8;">
              ${r.includes("Custom Fight Banner Graphics")?"":"<li> Custom Fight Banner Graphics ($500-$800/event)</li>"}
              ${r.includes("Professional Event Photography")?"":"<li> Professional Event Photography ($800-$1,200/event)</li>"}
              ${r.includes("Full Recording Package")?"":"<li> Full Recording Package ($500-$800/event)</li>"}
            </ul>
          `:e?.tier==="Regional"?`
            <ul style="margin: 0; padding-left: 20px; color: #D1D5DB; line-height: 1.8;">
              ${r.includes("Premium Camera Setup")?"":"<li> Premium Camera Setup ($1,500-$3,000/event)</li>"}
              ${r.includes("Social Media Content Package")?"":"<li> Social Media Content Package ($1,000-$2,000/event)</li>"}
              ${r.includes("Professional Event Photography")?"":"<li> Professional Event Photography ($800-$1,200/event)</li>"}
              ${r.includes("Custom Fight Banner Graphics")?"":"<li> Custom Fight Banner Graphics ($500-$800/event)</li>"}
            </ul>
          `:`
            <ul style="margin: 0; padding-left: 20px; color: #D1D5DB; line-height: 1.8;">
              ${r.includes("Premium Camera Setup")?"":"<li> Premium Camera Setup ($1,500-$3,000/event)</li>"}
              ${r.includes("Social Media Content Package")?"":"<li> Social Media Content Package ($1,000-$2,000/event)</li>"}
              ${r.includes("Ongoing Content Strategy")?"":"<li> Ongoing Content Strategy ($2,000-$4,000/month)</li>"}
              ${r.includes("Full Premium Package")?"":"<li> Full Premium Package Bundle ($4,000-$6,000/event)</li>"}
            </ul>
          `}
          <p style="color: #6B7280; font-size: 12px; margin: 15px 0 0 0; font-style: italic;">
            * Your revenue share applies regardless of add-ons selected
          </p>
        </div>

        <!-- Revenue Projection -->
        <div style="background: #2d2d2d; border: 2px solid #10B981; border-radius: 12px; padding: 30px; margin-bottom: 30px;">
          <h2 style="color: #10B981; font-size: 24px; margin: 0 0 20px 0; font-weight: bold;">Your Revenue Projection</h2>
          
          <div style="background: #065F46; border: 2px solid #10B981; border-radius: 8px; padding: 20px; margin-bottom: 20px; text-align: center;">
            <p style="color: #D1FAE5; font-size: 14px; margin: 0 0 10px 0;">Your Production Cost</p>
            <p style="color: #6EE7B7; font-size: 36px; font-weight: bold; margin: 0;">$0</p>
            <p style="color: #A7F3D0; font-size: 12px; margin: 10px 0 0 0;">Zero upfront investment required</p>
          </div>
          
          <table style="width: 100%; border-collapse: collapse;">
            <tr>
              <td style="padding: 12px 0; color: #9CA3AF; font-size: 14px; border-bottom: 1px solid #374151;">Estimated PPV Purchases Per Event:</td>
              <td style="padding: 12px 0; color: #60A5FA; font-size: 16px; font-weight: bold; text-align: right; border-bottom: 1px solid #374151;">${Math.round(e?.potentialStreamingRevenue?.viewerEstimate*.6).toLocaleString()}</td>
            </tr>
            <tr>
              <td style="padding: 12px 0; color: #9CA3AF; font-size: 14px; border-bottom: 1px solid #374151;">Your Revenue Per Event:</td>
              <td style="padding: 12px 0; color: #10B981; font-size: 16px; font-weight: bold; text-align: right; border-bottom: 1px solid #374151;">$${Math.round(e?.potentialStreamingRevenue?.perEvent*.3).toLocaleString()}</td>
            </tr>
            <tr>
              <td style="padding: 12px 0; color: #10B981; font-size: 14px; font-weight: bold;">Your Annual Revenue:</td>
              <td style="padding: 12px 0; color: #10B981; font-size: 20px; font-weight: bold; text-align: right;">$${Math.round(e?.potentialStreamingRevenue?.annual*.3).toLocaleString()}</td>
            </tr>
          </table>
          <p style="color: #6B7280; font-size: 11px; margin: 15px 0 0 0; font-style: italic;">
            * Conservative estimates based on industry benchmarks. 100% pure profit  revenue you weren't generating before at zero cost.
          </p>
        </div>

        <!-- Contact Information -->
        <div style="background: #2d2d2d; border: 2px solid #F83B3B; border-radius: 12px; padding: 30px; margin-bottom: 20px;">
          <h2 style="color: #F83B3B; font-size: 24px; margin: 0 0 20px 0; font-weight: bold;">Next Steps</h2>
          <p style="color: #D1D5DB; font-size: 14px; margin: 0 0 20px 0;">
            Ready to elevate your combat sports events? Contact us to discuss this proposal:
          </p>
          <table style="width: 100%;">
            <tr>
              <td style="padding: 8px 0; color: #9CA3AF; font-size: 14px;">Email:</td>
              <td style="padding: 8px 0; color: #60A5FA; font-size: 14px;">info@fitfocusmedia.com.au</td>
            </tr>
            <tr>
              <td style="padding: 8px 0; color: #9CA3AF; font-size: 14px;">Website:</td>
              <td style="padding: 8px 0; color: #60A5FA; font-size: 14px;">fitfocusmedia.com.au</td>
            </tr>
          </table>
        </div>

        <!-- Footer -->
        <div style="text-align: center; margin-top: 40px; padding-top: 20px; border-top: 1px solid #374151;">
          <p style="color: #6B7280; font-size: 12px; margin: 0;">
             2026 Fit Focus Media | Professional Combat Sports Production
          </p>
        </div>
      </div>
    `;const u={margin:0,filename:`${t.orgName.replace(/\s/g,"-")}-proposal.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2,backgroundColor:"#1a1a1a"},jsPDF:{unit:"in",format:"letter",orientation:"portrait"}};f4e().set(u).from(c).save()},a=()=>{confirm("Start a new proposal? Your current data will be cleared.")&&i(1)};return o.jsx("section",{className:"min-h-screen py-12 sm:py-20 px-4",children:o.jsxs("div",{className:"max-w-5xl mx-auto",children:[o.jsxs(Kr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-8 sm:mb-12",children:[o.jsx(Kr.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"inline-flex items-center justify-center w-16 h-16 sm:w-20 sm:h-20 bg-green-600 rounded-full mb-6",children:o.jsx(kw,{className:"w-10 h-10 sm:w-12 sm:h-12 text-white"})}),o.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-black mb-4",children:o.jsx("span",{className:"text-gradient",children:"Your Proposal is Ready!"})}),o.jsxs("p",{className:"text-base sm:text-lg md:text-xl text-gray-300 max-w-2xl mx-auto",children:["Here's what we've prepared for ",o.jsx("span",{className:"text-primary-400 font-bold",children:t.orgName})]})]}),o.jsx(Kr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"bg-gradient-to-r from-primary-900/40 to-orange-900/40 border-2 border-primary-600 rounded-xl p-6 sm:p-8 mb-8",children:o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-sm text-gray-300 mb-2",children:"Your Tier"}),o.jsx("p",{className:"text-2xl sm:text-3xl font-black text-white",children:e?.tier})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-sm text-gray-300 mb-2",children:"Your Production Cost"}),o.jsx("p",{className:"text-xl sm:text-2xl font-black text-green-400",children:"$0"}),o.jsx("p",{className:"text-xs text-green-300 mt-1",children:"Zero upfront investment"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-sm text-gray-300 mb-2",children:"Your Annual Revenue"}),o.jsxs("p",{className:"text-2xl sm:text-3xl font-black text-green-400",children:["$",Math.round(e?.potentialStreamingRevenue?.annual*.3).toLocaleString()]}),o.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Revenue you weren't making before"})]})]})}),r.length>0&&o.jsxs(Kr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.35},className:"bg-dark-800 border border-green-600 rounded-xl p-6 sm:p-8 mb-8",children:[o.jsxs("h3",{className:"text-xl sm:text-2xl font-black text-white mb-4 flex items-center gap-2",children:[o.jsx(kw,{className:"w-6 h-6 text-green-400"}),"Selected Premium Add-Ons"]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:r.map((c,u)=>o.jsxs("div",{className:"flex items-start gap-3 p-3 bg-dark-900 rounded-lg border border-green-600/30",children:[o.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-green-500 rounded-full flex items-center justify-center mt-0.5",children:o.jsx(kw,{className:"w-4 h-4 text-white"})}),o.jsx("span",{className:"text-green-400 font-semibold text-sm sm:text-base",children:c})]},u))})]}),o.jsxs(Kr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"bg-dark-800 border border-gray-700 rounded-xl p-6 sm:p-8 mb-8",children:[o.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[o.jsx(Xde,{className:"w-10 h-10 sm:w-12 sm:h-12 text-primary-500 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-2xl sm:text-3xl font-black text-white mb-2",children:"Next Steps"}),o.jsx("p",{className:"text-gray-300 text-sm sm:text-base",children:"Let's turn this proposal into reality"})]})]}),o.jsx("div",{className:"space-y-4",children:[{step:"1",title:"Schedule a Consultation",desc:"Free 30-minute call to discuss your specific needs and answer questions"},{step:"2",title:"Refine Your Package",desc:"We'll customize the service package to perfectly match your requirements"},{step:"3",title:"Event Planning",desc:"Work with our team to plan production logistics and content strategy"},{step:"4",title:"Production Day",desc:"Sit back while we deliver broadcast-quality coverage of your event"}].map((c,u)=>o.jsxs(Kr.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.5+u*.1},className:"flex gap-4 p-4 bg-dark-900 rounded-lg border border-gray-700 hover:border-primary-600/50 transition-colors",children:[o.jsx("div",{className:"flex-shrink-0 w-10 h-10 sm:w-12 sm:h-12 bg-primary-600 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-lg sm:text-xl font-black text-white",children:c.step})}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-base sm:text-lg font-bold text-white mb-1",children:c.title}),o.jsx("p",{className:"text-sm text-gray-400",children:c.desc})]})]},u))})]}),o.jsx(Kr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},className:"bg-dark-800 border border-gray-700 rounded-xl p-6 sm:p-8 mb-8",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"flex justify-center mb-4",children:[1,2,3,4,5].map(c=>o.jsx("svg",{className:"w-6 h-6 text-amber-500",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},c))}),o.jsx("p",{className:"text-base sm:text-lg text-gray-300 italic mb-4",children:`"Brandon's team delivered exactly what we needed. Professional coverage, quick turnaround on highlights, and our sponsors loved the exposure. Worth every dollar."`}),o.jsx("p",{className:"text-sm text-gray-500",children:" Combat Sports Promoter, QLD"})]})}),o.jsx(Kr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.7},className:"bg-gradient-to-r from-green-900/30 to-emerald-900/30 border-2 border-green-600 rounded-xl p-6 sm:p-8 mb-8",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-4xl mb-4",children:""}),o.jsx("h3",{className:"text-2xl sm:text-3xl font-black text-white mb-4",children:"Our Satisfaction Guarantee"}),o.jsx("p",{className:"text-base sm:text-lg text-gray-200 max-w-2xl mx-auto leading-relaxed",children:"We're confident you'll love our work. If you're not completely satisfied with your first event's media package, we'll re-edit the entire deliverable at no additional cost."}),o.jsx("p",{className:"text-sm text-green-400 mt-4 font-semibold",children:"Plus: Free consultation with absolutely no commitment required."})]})}),o.jsxs(Kr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.8},className:"bg-dark-800 border border-gray-700 rounded-xl p-6 sm:p-8 mb-8",children:[o.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6 text-center",children:"Get In Touch"}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6",children:[o.jsxs("a",{href:"mailto:info@fitfocusmedia.com.au?subject=Combat Sports Media Proposal - ${formData.orgName}",className:"flex items-center gap-3 p-4 sm:p-5 bg-primary-600 hover:bg-primary-700 text-white rounded-lg transition-all hover:scale-[1.02] group",children:[o.jsx(hf,{className:"w-6 h-6 sm:w-8 sm:h-8 group-hover:rotate-12 transition-transform"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-bold text-sm sm:text-base",children:"Email Us"}),o.jsx("p",{className:"text-xs sm:text-sm text-white/80",children:"info@fitfocusmedia.com.au"})]})]}),o.jsxs("a",{href:"mailto:info@fitfocusmedia.com.au?subject=Consultation Request - ${formData.orgName}&body=Hi Brandon,%0D%0A%0D%0AI'd like to schedule a consultation to discuss media production for ${formData.orgName}.%0D%0A%0D%0APlease send me your available times.%0D%0A%0D%0AThanks!",className:"flex items-center gap-3 p-4 sm:p-5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-all hover:scale-[1.02] group",children:[o.jsx(fd,{className:"w-6 h-6 sm:w-8 sm:h-8 group-hover:rotate-12 transition-transform"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-bold text-sm sm:text-base",children:"Request a Call"}),o.jsx("p",{className:"text-xs sm:text-sm text-white/80",children:"We'll send scheduling options"})]})]})]}),o.jsx("div",{className:"text-center",children:o.jsx("p",{className:"text-sm text-gray-400",children:"Response time: Usually within 24 hours"})})]}),o.jsxs(Kr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1},className:"space-y-3",children:[o.jsxs("button",{onClick:s,className:"w-full flex items-center justify-center gap-3 px-6 py-4 bg-green-600 hover:bg-green-700 text-white font-bold rounded-lg transition-all hover:scale-[1.02] text-base sm:text-lg",children:[o.jsx(Cp,{className:"w-5 h-5 sm:w-6 sm:h-6"}),"Download Proposal PDF"]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("button",{onClick:n,className:"flex-1 flex items-center justify-center gap-2 px-6 py-4 bg-dark-700 hover:bg-dark-600 text-white font-bold rounded-lg transition-all text-base sm:text-lg",children:[o.jsx(N0,{className:"w-5 h-5"}),o.jsx("span",{className:"hidden sm:inline",children:"Back"})]}),o.jsx("button",{onClick:a,className:"flex-1 flex items-center justify-center gap-2 px-6 py-4 bg-dark-700 hover:bg-dark-600 text-white font-semibold rounded-lg transition-all text-sm sm:text-base",children:"New Proposal"}),o.jsx("button",{onClick:()=>i(2),className:"flex-1 flex items-center justify-center gap-2 px-6 py-4 bg-primary-600 hover:bg-primary-700 text-white font-semibold rounded-lg transition-all text-sm sm:text-base",children:"Edit Details"})]})]}),o.jsx(Kr.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.2},className:"mt-12 text-center",children:o.jsx("p",{className:"text-sm text-gray-500",children:" 2026 Fit Focus Media | Professional Combat Sports Production"})})]})})};function d5(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function m4e(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function c(d){try{l(n.next(d))}catch(f){a(f)}}function u(d){try{l(n.throw(d))}catch(f){a(f)}}function l(d){d.done?s(d.value):i(d.value).then(c,u)}l((n=n.apply(t,e||[])).next())})}const p4e=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class wM extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class g4e extends wM{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class UV extends wM{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class $V extends wM{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var vO;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(vO||(vO={}));class v4e{constructor(e,{headers:r={},customFetch:n,region:i=vO.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=p4e(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return m4e(this,arguments,void 0,function*(r,n={}){var i;let s,a;try{const{headers:c,method:u,body:l,signal:d,timeout:f}=n;let A={},{region:p}=n;p||(p=this.region);const v=new URL(`${this.url}/${r}`);p&&p!=="any"&&(A["x-region"]=p,v.searchParams.set("forceFunctionRegion",p));let y;l&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(A["Content-Type"]="application/octet-stream",y=l):typeof l=="string"?(A["Content-Type"]="text/plain",y=l):typeof FormData<"u"&&l instanceof FormData?y=l:(A["Content-Type"]="application/json",y=JSON.stringify(l)):l&&typeof l!="string"&&!(typeof Blob<"u"&&l instanceof Blob)&&!(l instanceof ArrayBuffer)&&!(typeof FormData<"u"&&l instanceof FormData)?y=JSON.stringify(l):y=l;let x=d;f&&(a=new AbortController,s=setTimeout(()=>a.abort(),f),d?(x=a.signal,d.addEventListener("abort",()=>a.abort())):x=a.signal);const w=yield this.fetch(v.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},A),this.headers),c),body:y,signal:x}).catch(j=>{throw new g4e(j)}),E=w.headers.get("x-relay-error");if(E&&E==="true")throw new UV(w);if(!w.ok)throw new $V(w);let T=((i=w.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),C;return T==="application/json"?C=yield w.json():T==="application/octet-stream"||T==="application/pdf"?C=yield w.blob():T==="text/event-stream"?C=w:T==="multipart/form-data"?C=yield w.formData():C=yield w.text(),{data:C,error:null,response:w}}catch(c){return{data:null,error:c,response:c instanceof $V||c instanceof UV?c.context:void 0}}finally{s&&clearTimeout(s)}})}}var y4e=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},x4e=class{constructor(t){var e,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{let a=null,c=null,u=null,l=s.status,d=s.statusText;if(s.ok){var f,A;if(r.method!=="HEAD"){var p;const w=await s.text();w===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((p=r.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?c=w:c=JSON.parse(w))}const y=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),x=(A=s.headers.get("content-range"))===null||A===void 0?void 0:A.split("/");y&&x&&x.length>1&&(u=parseInt(x[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(c)&&(c.length>1?(a={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,u=null,l=406,d="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{var v;const y=await s.text();try{a=JSON.parse(y),Array.isArray(a)&&s.status===404&&(c=[],a=null,l=200,d="OK")}catch{s.status===404&&y===""?(l=204,d="No Content"):a={message:y}}if(a&&r.isMaybeSingle&&(!(a==null||(v=a.details)===null||v===void 0)&&v.includes("0 rows"))&&(a=null,l=200,d="OK"),a&&r.shouldThrowOnError)throw new y4e(a)}return{error:a,data:c,count:u,status:l,statusText:d}});return this.shouldThrowOnError||(i=i.catch(s=>{var a;let c="";const u=s?.cause;if(u){var l,d,f,A;const v=(l=u?.message)!==null&&l!==void 0?l:"",y=(d=u?.code)!==null&&d!==void 0?d:"";c=`${(f=s?.name)!==null&&f!==void 0?f:"FetchError"}: ${s?.message}`,c+=`

Caused by: ${(A=u?.name)!==null&&A!==void 0?A:"Error"}: ${v}`,y&&(c+=` (${y})`),u?.stack&&(c+=`
${u.stack}`)}else{var p;c=(p=s?.stack)!==null&&p!==void 0?p:""}return{error:{message:`${(a=s?.name)!==null&&a!==void 0?a:"FetchError"}: ${s?.message}`,details:c,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}},b4e=class extends x4e{select(t){let e=!1;const r=(t??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){const s=i?`${i}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"offset":`${n}.offset`,s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(s,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:s="text"}={}){var a;const c=[t?"analyze":null,e?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${u}"; options=${c};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const HV=new RegExp("[,()]");var cx=class extends b4e{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&HV.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&HV.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const s=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${s}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},w4e=class{constructor(t,{headers:e={},schema:r,fetch:n}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:r=!1,count:n}=e??{},i=r?"HEAD":"GET";let s=!1;const a=(t??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join(""),{url:c,headers:u}=this.cloneRequestState();return c.searchParams.set("select",a),n&&u.append("Prefer",`count=${n}`),new cx({method:i,url:c,headers:u,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:r=!0}={}){var n;const i="POST",{url:s,headers:a}=this.cloneRequestState();if(e&&a.append("Prefer",`count=${e}`),r||a.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((u,l)=>u.concat(Object.keys(l)),[]);if(c.length>0){const u=[...new Set(c)].map(l=>`"${l}"`);s.searchParams.set("columns",u.join(","))}}return new cx({method:i,url:s,headers:a,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){var s;const a="POST",{url:c,headers:u}=this.cloneRequestState();if(u.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&c.searchParams.set("on_conflict",e),n&&u.append("Prefer",`count=${n}`),i||u.append("Prefer","missing=default"),Array.isArray(t)){const l=t.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(l.length>0){const d=[...new Set(l)].map(f=>`"${f}"`);c.searchParams.set("columns",d.join(","))}}return new cx({method:a,url:c,headers:u,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(t,{count:e}={}){var r;const n="PATCH",{url:i,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new cx({method:n,url:i,headers:s,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var e;const r="DELETE",{url:n,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new cx({method:r,url:n,headers:i,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},E4e=class tre{constructor(e,{headers:r={},schema:n,fetch:i}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=i}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new w4e(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new tre(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:i=!1,count:s}={}){var a;let c;const u=new URL(`${this.url}/rpc/${e}`);let l;const d=p=>p!==null&&typeof p=="object"&&(!Array.isArray(p)||p.some(d)),f=n&&Object.values(r).some(d);f?(c="POST",l=r):n||i?(c=n?"HEAD":"GET",Object.entries(r).filter(([p,v])=>v!==void 0).map(([p,v])=>[p,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([p,v])=>{u.searchParams.append(p,v)})):(c="POST",l=r);const A=new Headers(this.headers);return f?A.set("Prefer",s?`count=${s},return=minimal`:"return=minimal"):s&&A.set("Prefer",`count=${s}`),new cx({method:c,url:u,headers:A,schema:this.schemaName,body:l,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};class _4e{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const i=n.node,s=parseInt(i.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const S4e="2.93.3",T4e=`realtime-js/${S4e}`,C4e="1.0.0",rre="2.0.0",QV=rre,yO=1e4,j4e=1e3,N4e=100;var t0;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(t0||(t0={}));var Iu;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Iu||(Iu={}));var bA;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(bA||(bA={}));var xO;(function(t){t.websocket="websocket"})(xO||(xO={}));var xv;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(xv||(xv={}));class k4e{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const i=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var r,n;const i=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},a=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(e,r,n){var i,s;const a=e.topic,c=(i=e.ref)!==null&&i!==void 0?i:"",u=(s=e.join_ref)!==null&&s!==void 0?s:"",l=e.payload.event,d=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(u.length>255)throw new Error(`joinRef length ${u.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`ref length ${c.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`userEvent length ${l.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const A=this.USER_BROADCAST_PUSH_META_LENGTH+u.length+c.length+a.length+l.length+f.length,p=new ArrayBuffer(this.HEADER_LENGTH+A);let v=new DataView(p),y=0;v.setUint8(y++,this.KINDS.userBroadcastPush),v.setUint8(y++,u.length),v.setUint8(y++,c.length),v.setUint8(y++,a.length),v.setUint8(y++,l.length),v.setUint8(y++,f.length),v.setUint8(y++,r),Array.from(u,w=>v.setUint8(y++,w.charCodeAt(0))),Array.from(c,w=>v.setUint8(y++,w.charCodeAt(0))),Array.from(a,w=>v.setUint8(y++,w.charCodeAt(0))),Array.from(l,w=>v.setUint8(y++,w.charCodeAt(0))),Array.from(f,w=>v.setUint8(y++,w.charCodeAt(0)));var x=new Uint8Array(p.byteLength+n.byteLength);return x.set(new Uint8Array(p),0),x.set(new Uint8Array(n),p.byteLength),x.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[i,s,a,c,u]=n;return r({join_ref:i,ref:s,topic:a,event:c,payload:u})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),i=new TextDecoder;if(n===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,r,i)}_decodeUserBroadcast(e,r,n){const i=r.getUint8(1),s=r.getUint8(2),a=r.getUint8(3),c=r.getUint8(4);let u=this.HEADER_LENGTH+4;const l=n.decode(e.slice(u,u+i));u=u+i;const d=n.decode(e.slice(u,u+s));u=u+s;const f=n.decode(e.slice(u,u+a));u=u+a;const A=e.slice(u,e.byteLength),p=c===this.JSON_ENCODING?JSON.parse(n.decode(A)):A,v={type:this.BROADCAST_EVENT,event:d,payload:p};return a>0&&(v.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:l,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class nre{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var El;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(El||(El={}));const VV=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((s,a)=>(s[a]=I4e(a,t,e,i),s),{}):{}},I4e=(t,e,r,n)=>{const i=e.find(c=>c.name===t),s=i?.type,a=r[t];return s&&!n.includes(s)?ire(s,a):bO(a)},ire=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return P4e(e,r)}switch(t){case El.bool:return L4e(e);case El.float4:case El.float8:case El.int2:case El.int4:case El.int8:case El.numeric:case El.oid:return B4e(e);case El.json:case El.jsonb:return O4e(e);case El.timestamp:return R4e(e);case El.abstime:case El.date:case El.daterange:case El.int4range:case El.int8range:case El.money:case El.reltime:case El.text:case El.time:case El.timestamptz:case El.timetz:case El.tsrange:case El.tstzrange:return bO(e);default:return bO(e)}},bO=t=>t,L4e=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},B4e=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},O4e=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},P4e=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let s;const a=t.slice(1,r);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(c=>ire(e,c))}return t},R4e=t=>typeof t=="string"?t.replace(" ","T"):t,sre=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class jL{constructor(e,r,n={},i=yO){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var zV;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(zV||(zV={}));class Mw{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:a,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Mw.syncState(this.state,i,s,a),this.pendingDiffs.forEach(u=>{this.state=Mw.syncDiff(this.state,u,s,a)}),this.pendingDiffs=[],c()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Mw.syncDiff(this.state,i,s,a),c())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const s=this.cloneDeep(e),a=this.transformState(r),c={},u={};return this.map(s,(l,d)=>{a[l]||(u[l]=d)}),this.map(a,(l,d)=>{const f=s[l];if(f){const A=d.map(x=>x.presence_ref),p=f.map(x=>x.presence_ref),v=d.filter(x=>p.indexOf(x.presence_ref)<0),y=f.filter(x=>A.indexOf(x.presence_ref)<0);v.length>0&&(c[l]=v),y.length>0&&(u[l]=y)}else c[l]=d}),this.syncDiff(s,{joins:c,leaves:u},n,i)}static syncDiff(e,r,n,i){const{joins:s,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(c,u)=>{var l;const d=(l=e[c])!==null&&l!==void 0?l:[];if(e[c]=this.cloneDeep(u),d.length>0){const f=e[c].map(p=>p.presence_ref),A=d.filter(p=>f.indexOf(p.presence_ref)<0);e[c].unshift(...A)}n(c,d,u)}),this.map(a,(c,u)=>{let l=e[c];if(!l)return;const d=u.map(f=>f.presence_ref);l=l.filter(f=>d.indexOf(f.presence_ref)<0),e[c]=l,i(c,l,u),l.length===0&&delete e[c]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var KV;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(KV||(KV={}));var Fw;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Fw||(Fw={}));var bp;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(bp||(bp={}));class Kx{constructor(e,r={config:{}},n){var i,s;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Iu.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new jL(this,bA.join,this.params,this.timeout),this.rejoinTimer=new nre(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Iu.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Iu.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Iu.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Iu.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Iu.errored,this.rejoinTimer.scheduleTimeout())}),this._on(bA.reply,{},(a,c)=>{this._trigger(this._replyEventName(c),a)}),this.presence=new Mw(this),this.broadcastEndpointURL=sre(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Iu.closed){const{config:{broadcast:a,presence:c,private:u}}=this.params,l=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[Fw.PRESENCE]&&this.bindings[Fw.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,f={},A={broadcast:a,presence:Object.assign(Object.assign({},c),{enabled:d}),postgres_changes:l,private:u};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>e?.(bp.CHANNEL_ERROR,p)),this._onClose(()=>e?.(bp.CLOSED)),this.updateJoinPayload(Object.assign({config:A},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){e?.(bp.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,x=(v=y?.length)!==null&&v!==void 0?v:0,w=[];for(let E=0;E<x;E++){const T=y[E],{filter:{event:C,schema:j,table:P,filter:U}}=T,W=p&&p[E];if(W&&W.event===C&&Kx.isFilterValueEqual(W.schema,j)&&Kx.isFilterValueEqual(W.table,P)&&Kx.isFilterValueEqual(W.filter,U))w.push(Object.assign(Object.assign({},T),{id:W.id}));else{this.unsubscribe(),this.state=Iu.errored,e?.(bp.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e(bp.SUBSCRIBED);return}}).receive("error",p=>{this.state=Iu.errored,e?.(bp.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e?.(bp.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===Iu.joined&&e===Fw.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var i;if(r==null)return Promise.reject("Payload is required for httpSend()");const s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(c.status===202)return{success:!0};let u=c.statusText;try{const l=await c.json();u=l.error||l.message||u}catch{}return Promise.reject(new Error(u))}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:a}=e,c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const l=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=l.body)===null||i===void 0?void 0:i.cancel()),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,c,u;const l=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((u=(c=(a=this.params)===null||a===void 0?void 0:a.config)===null||c===void 0?void 0:c.broadcast)===null||u===void 0)&&u.ack)&&s("ok"),l.receive("ok",()=>s("ok")),l.receive("error",()=>s("error")),l.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Iu.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(bA.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new jL(this,bA.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Iu.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),a}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new jL(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>N4e){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,s;const a=e.toLocaleLowerCase(),{close:c,error:u,leave:l,join:d}=bA;if(n&&[c,u,l,d].indexOf(a)>=0&&n!==this._joinRef())return;let A=this._onMessage(a,r,n);if(r&&!A)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var v,y,x;return((v=p.filter)===null||v===void 0?void 0:v.event)==="*"||((x=(y=p.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===a}).map(p=>p.callback(A,n)):(s=this.bindings[a])===null||s===void 0||s.filter(p=>{var v,y,x,w,E,T;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in p){const C=p.id,j=(v=p.filter)===null||v===void 0?void 0:v.event;return C&&((y=r.ids)===null||y===void 0?void 0:y.includes(C))&&(j==="*"||j?.toLocaleLowerCase()===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const C=(E=(w=p?.filter)===null||w===void 0?void 0:w.event)===null||E===void 0?void 0:E.toLocaleLowerCase();return C==="*"||C===((T=r?.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===a}).map(p=>{if(typeof A=="object"&&"ids"in A){const v=A.data,{schema:y,table:x,commit_timestamp:w,type:E,errors:T}=v;A=Object.assign(Object.assign({},{schema:y,table:x,commit_timestamp:w,eventType:E,new:{},old:{},errors:T}),this._getPayloadRecords(v))}p.callback(A,n)})}_isClosed(){return this.state===Iu.closed}_isJoined(){return this.state===Iu.joined}_isJoining(){return this.state===Iu.joining}_isLeaving(){return this.state===Iu.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&Kx.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(bA.close,{},e)}_onError(e){this._on(bA.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Iu.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=VV(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=VV(e.columns,e.old_record)),r}}const NL=()=>{},D2={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},D4e=[1e3,2e3,5e3,1e4],M4e=1e4,F4e=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class U4e{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=yO,this.transport=null,this.heartbeatIntervalMs=D2.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=NL,this.ref=0,this.reconnectTimer=null,this.vsn=QV,this.logger=NL,this.conn=null,this.sendBuffer=[],this.serializer=new k4e,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${xO.websocket}`,this.httpEndpoint=sre(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=_4e.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case t0.connecting:return xv.Connecting;case t0.open:return xv.Open;case t0.closing:return xv.Closing;default:return xv.Closed}}isConnected(){return this.connectionState()===xv.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new Kx(`realtime:${e}`,r,this);return this.channels.push(s),s}}push(e){const{topic:r,event:n,payload:i,ref:s}=e,a=()=>{this.encode(e,c=>{var u;(u=this.conn)===null||u===void 0||u.send(c)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(j4e,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},D2.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const l=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",l)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:i,payload:s,ref:a}=r,c=a?`(${a})`:"",u=s.status||"";this.log("receive",`${u} ${n} ${i} ${c}`.trim(),s),this.channels.filter(l=>l._isMember(n)).forEach(l=>l._trigger(i,s,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===t0.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===t0.open||this.conn.readyState===t0.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(bA.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([F4e],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,n=!1;if(e)r=e,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const s={access_token:r,version:T4e};r&&i.updateJoinPayload(s),i.joinedOnce&&i._isJoined()&&i._push(bA.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new nre(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},D2.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,s,a,c,u,l,d,f,A,p;switch(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e?.timeout)!==null&&n!==void 0?n:yO,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:D2.HEARTBEAT_INTERVAL,this.worker=(s=e?.worker)!==null&&s!==void 0?s:!1,this.accessToken=(a=e?.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(c=e?.heartbeatCallback)!==null&&c!==void 0?c:NL,this.vsn=(u=e?.vsn)!==null&&u!==void 0?u:QV,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e?.reconnectAfterMs)!==null&&l!==void 0?l:(v=>D4e[v-1]||M4e),this.vsn){case C4e:this.encode=(d=e?.encode)!==null&&d!==void 0?d:((v,y)=>y(JSON.stringify(v))),this.decode=(f=e?.decode)!==null&&f!==void 0?f:((v,y)=>y(JSON.parse(v)));break;case rre:this.encode=(A=e?.encode)!==null&&A!==void 0?A:this.serializer.encode.bind(this.serializer),this.decode=(p=e?.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var _E=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function $4e(t,e,r){const n=new URL(e,t);if(r)for(const[i,s]of Object.entries(r))s!==void 0&&n.searchParams.set(i,s);return n.toString()}async function H4e(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function Q4e(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:s,headers:a}){const c=$4e(t.baseUrl,n,i),u=await H4e(t.auth),l=await e(c,{method:r,headers:{...s?{"Content-Type":"application/json"}:{},...u,...a},body:s?JSON.stringify(s):void 0}),d=await l.text(),f=(l.headers.get("content-type")||"").includes("application/json"),A=f&&d?JSON.parse(d):d;if(!l.ok){const p=f?A:void 0,v=p?.error;throw new _E(v?.message??`Request failed with status ${l.status}`,{status:l.status,icebergType:v?.type,icebergCode:v?.code,details:p})}return{status:l.status,headers:l.headers,data:A}}}}function M2(t){return t.join("")}var V4e=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:M2(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${M2(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${M2(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${M2(t.namespace)}`}),!0}catch(e){if(e instanceof _E&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof _E&&r.status===409)return;throw r}}};function Hy(t){return t.join("")}var z4e=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Hy(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Hy(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Hy(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Hy(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Hy(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Hy(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof _E&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof _E&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},K4e=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=Q4e({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new V4e(this.client,e),this.tableOps=new z4e(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},h5=class extends Error{constructor(t,e="storage",r,n){super(t),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function f5(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var F2=class extends h5{constructor(t,e,r,n="storage"){super(t,n,e,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},are=class extends h5{constructor(t,e,r="storage"){super(t,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const G4e=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),W4e=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},wO=t=>{if(Array.isArray(t))return t.map(r=>wO(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=wO(n)}),e},Y4e=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function SE(t){"@babel/helpers - typeof";return SE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},SE(t)}function q4e(t,e){if(SE(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(SE(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function X4e(t){var e=q4e(t,"string");return SE(e)=="symbol"?e:e+""}function Z4e(t,e,r){return(e=X4e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GV(Object(r),!0).forEach(function(n){Z4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const WV=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},J4e=async(t,e,r,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!r?.noResolveJson){const i=t,s=i.status||500;if(typeof i.json=="function")i.json().then(a=>{const c=a?.statusCode||a?.code||s+"";e(new F2(WV(a),s,c,n))}).catch(()=>{if(n==="vectors"){const a=s+"";e(new F2(i.statusText||`HTTP ${s} error`,s,a,n))}else{const a=s+"";e(new F2(i.statusText||`HTTP ${s} error`,s,a,n))}});else{const a=s+"";e(new F2(i.statusText||`HTTP ${s} error`,s,a,n))}}else e(new are(WV(t),t,n))},eOe=(t,e,r,n)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"||t==="HEAD"||!n?bs(bs({},i),r):(W4e(n)?(i.headers=bs({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(n)):i.body=n,e?.duplex&&(i.duplex=e.duplex),bs(bs({},i),r))};async function D1(t,e,r,n,i,s,a){return new Promise((c,u)=>{t(r,eOe(e,n,i,s)).then(l=>{if(!l.ok)throw l;if(n?.noResolveJson)return l;if(a==="vectors"){const d=l.headers.get("content-type");if(l.headers.get("content-length")==="0"||l.status===204)return{};if(!d||!d.includes("application/json"))return{}}return l.json()}).then(l=>c(l)).catch(l=>J4e(l,u,n,a))})}function ore(t="storage"){return{get:async(e,r,n,i)=>D1(e,"GET",r,n,i,void 0,t),post:async(e,r,n,i,s)=>D1(e,"POST",r,i,s,n,t),put:async(e,r,n,i,s)=>D1(e,"PUT",r,i,s,n,t),head:async(e,r,n,i)=>D1(e,"HEAD",r,bs(bs({},n),{},{noResolveJson:!0}),i,void 0,t),remove:async(e,r,n,i,s)=>D1(e,"DELETE",r,i,s,n,t)}}const tOe=ore("storage"),{get:TE,post:yA,put:EO,head:rOe,remove:EM}=tOe,cf=ore("vectors");var i1=class{constructor(t,e={},r,n="storage"){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.fetch=G4e(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(t){var e=this;try{return{data:await t(),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(f5(r))return{data:null,error:r};throw r}}},nOe=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(f5(e))return{data:null,error:e};throw e}}};let lre;lre=Symbol.toStringTag;var iOe=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[lre]="BlobDownloadBuilder",this.promise=null}asStream(){return new nOe(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(f5(e))return{data:null,error:e};throw e}}};const sOe={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},YV={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var aOe=class extends i1{constructor(t,e={},r,n){super(t,e,n,"storage"),this.bucketId=r}async uploadOrUpdate(t,e,r,n){var i=this;return i.handleOperation(async()=>{let s;const a=bs(bs({},YV),n);let c=bs(bs({},i.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const u=a.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),u&&s.append("metadata",i.encodeMetadata(u)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.has("cacheControl")||s.append("cacheControl",a.cacheControl),u&&!s.has("metadata")&&s.append("metadata",i.encodeMetadata(u))):(s=r,c["cache-control"]=`max-age=${a.cacheControl}`,c["content-type"]=a.contentType,u&&(c["x-metadata"]=i.toBase64(i.encodeMetadata(u))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!a.duplex&&(a.duplex="half")),n?.headers&&(c=bs(bs({},c),n.headers));const l=i._removeEmptyFolders(e),d=i._getFinalPath(l),f=await(t=="PUT"?EO:yA)(i.fetch,`${i.url}/object/${d}`,s,bs({headers:c},a?.duplex?{duplex:a.duplex}:{}));return{path:l,id:f.Id,fullPath:f.Key}})}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,n){var i=this;const s=i._removeEmptyFolders(t),a=i._getFinalPath(s),c=new URL(i.url+`/object/upload/sign/${a}`);return c.searchParams.set("token",e),i.handleOperation(async()=>{let u;const l=bs({upsert:YV.upsert},n),d=bs(bs({},i.headers),{"x-upsert":String(l.upsert)});return typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",l.cacheControl),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.append("cacheControl",l.cacheControl)):(u=r,d["cache-control"]=`max-age=${l.cacheControl}`,d["content-type"]=l.contentType),{path:s,fullPath:(await EO(i.fetch,c.toString(),u,{headers:d})).Key}})}async createSignedUploadUrl(t,e){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(t);const i=bs({},r.headers);e?.upsert&&(i["x-upsert"]="true");const s=await yA(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:i}),a=new URL(r.url+s.url),c=a.searchParams.get("token");if(!c)throw new h5("No token returned by API");return{signedUrl:a.toString(),path:t,token:c}})}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var n=this;return n.handleOperation(async()=>await yA(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:n.headers}))}async copy(t,e,r){var n=this;return n.handleOperation(async()=>({path:(await yA(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(t,e,r){var n=this;return n.handleOperation(async()=>{let i=n._getFinalPath(t),s=await yA(n.fetch,`${n.url}/object/sign/${i}`,bs({expiresIn:e},r?.transform?{transform:r.transform}:{}),{headers:n.headers});const a=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${s.signedURL}${a}`)}})}async createSignedUrls(t,e,r){var n=this;return n.handleOperation(async()=>{const i=await yA(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:e,paths:t},{headers:n.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return i.map(a=>bs(bs({},a),{},{signedUrl:a.signedURL?encodeURI(`${n.url}${a.signedURL}${s}`):null}))})}download(t,e){const r=typeof e?.transform<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString(e?.transform||{}),i=n?`?${n}`:"",s=this._getFinalPath(t),a=()=>TE(this.fetch,`${this.url}/${r}/${s}${i}`,{headers:this.headers,noResolveJson:!0});return new iOe(a,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);return e.handleOperation(async()=>wO(await TE(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})))}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await rOe(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(f5(n)&&n instanceof are){const i=n.originalError;if([400,404].includes(i?.status))return{data:!1,error:n}}throw n}}getPublicUrl(t,e){const r=this._getFinalPath(t),n=[],i=e?.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&n.push(i);const s=typeof e?.transform<"u"?"render/image":"object",a=this.transformOptsToQueryString(e?.transform||{});a!==""&&n.push(a);let c=n.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${c}`)}}}async remove(t){var e=this;return e.handleOperation(async()=>await EM(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}))}async list(t,e,r){var n=this;return n.handleOperation(async()=>{const i=bs(bs(bs({},sOe),e),{},{prefix:t||""});return await yA(n.fetch,`${n.url}/object/list/${n.bucketId}`,i,{headers:n.headers},r)})}async listV2(t,e){var r=this;return r.handleOperation(async()=>{const n=bs({},t);return await yA(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},e)})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const oOe="2.93.3",U_={"X-Client-Info":`storage-js/${oOe}`};var lOe=class extends i1{constructor(t,e={},r,n){const i=new URL(t);n?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."));const s=i.href.replace(/\/$/,""),a=bs(bs({},U_),e);super(s,a,r,"storage")}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const r=e.listBucketOptionsToQueryString(t);return await TE(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers})})}async getBucket(t){var e=this;return e.handleOperation(async()=>await TE(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}))}async createBucket(t,e={public:!1}){var r=this;return r.handleOperation(async()=>await yA(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}))}async updateBucket(t,e){var r=this;return r.handleOperation(async()=>await EO(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(t){var e=this;return e.handleOperation(async()=>await yA(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await EM(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},cOe=class extends i1{constructor(t,e={},r){const n=t.replace(/\/$/,""),i=bs(bs({},U_),e);super(n,i,r,"storage")}async createBucket(t){var e=this;return e.handleOperation(async()=>await yA(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}))}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const r=new URLSearchParams;t?.limit!==void 0&&r.set("limit",t.limit.toString()),t?.offset!==void 0&&r.set("offset",t.offset.toString()),t?.sortColumn&&r.set("sortColumn",t.sortColumn),t?.sortOrder&&r.set("sortOrder",t.sortOrder),t?.search&&r.set("search",t.search);const n=r.toString(),i=n?`${e.url}/bucket?${n}`:`${e.url}/bucket`;return await TE(e.fetch,i,{headers:e.headers})})}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await EM(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}from(t){var e=this;if(!Y4e(t))throw new h5("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new K4e({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(i,s){const a=i[s];return typeof a!="function"?a:async(...c)=>{try{return{data:await a.apply(i,c),error:null}}catch(u){if(n)throw u;return{data:null,error:u}}}}})}},uOe=class extends i1{constructor(t,e={},r){const n=t.replace(/\/$/,""),i=bs(bs({},U_),{},{"Content-Type":"application/json"},e);super(n,i,r,"vectors")}async createIndex(t){var e=this;return e.handleOperation(async()=>await cf.post(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{})}async getIndex(t,e){var r=this;return r.handleOperation(async()=>await cf.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}))}async listIndexes(t){var e=this;return e.handleOperation(async()=>await cf.post(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}))}async deleteIndex(t,e){var r=this;return r.handleOperation(async()=>await cf.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{})}},dOe=class extends i1{constructor(t,e={},r){const n=t.replace(/\/$/,""),i=bs(bs({},U_),{},{"Content-Type":"application/json"},e);super(n,i,r,"vectors")}async putVectors(t){var e=this;if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await cf.post(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{})}async getVectors(t){var e=this;return e.handleOperation(async()=>await cf.post(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}))}async listVectors(t){var e=this;if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return e.handleOperation(async()=>await cf.post(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}))}async queryVectors(t){var e=this;return e.handleOperation(async()=>await cf.post(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}))}async deleteVectors(t){var e=this;if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await cf.post(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{})}},hOe=class extends i1{constructor(t,e={},r){const n=t.replace(/\/$/,""),i=bs(bs({},U_),{},{"Content-Type":"application/json"},e);super(n,i,r,"vectors")}async createBucket(t){var e=this;return e.handleOperation(async()=>await cf.post(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}async getBucket(t){var e=this;return e.handleOperation(async()=>await cf.post(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}))}async listBuckets(t={}){var e=this;return e.handleOperation(async()=>await cf.post(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await cf.post(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}},fOe=class extends hOe{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new AOe(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},AOe=class extends uOe{constructor(t,e,r,n){super(t,e,n),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,bs(bs({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,bs(bs({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new mOe(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},mOe=class extends dOe{constructor(t,e,r,n,i){super(t,e,i),this.vectorBucketName=r,this.indexName=n}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,bs(bs({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,bs(bs({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,bs(bs({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,bs(bs({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,bs(bs({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},pOe=class extends lOe{constructor(t,e={},r,n){super(t,e,r,n)}from(t){return new aOe(this.url,this.headers,t,this.fetch)}get vectors(){return new fOe(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new cOe(this.url+"/iceberg",this.headers,this.fetch)}};const cre="2.93.3",ux=30*1e3,_O=3,kL=_O*ux,gOe="http://localhost:9999",vOe="supabase.auth.token",yOe={"X-Client-Info":`gotrue-js/${cre}`},SO="X-Supabase-Api-Version",ure={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},xOe=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,bOe=600*1e3;class CE extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Ui(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class wOe extends CE{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function EOe(t){return Ui(t)&&t.name==="AuthApiError"}class bv extends CE{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class sg extends CE{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class qh extends sg{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function IL(t){return Ui(t)&&t.name==="AuthSessionMissingError"}class Qy extends sg{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class U2 extends sg{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class $2 extends sg{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function _Oe(t){return Ui(t)&&t.name==="AuthImplicitGrantRedirectError"}class qV extends sg{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class SOe extends sg{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class TO extends sg{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function LL(t){return Ui(t)&&t.name==="AuthRetryableFetchError"}class XV extends sg{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class CO extends sg{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const fj="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ZV=` 	
\r=`.split(""),TOe=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<ZV.length;e+=1)t[ZV[e].charCodeAt(0)]=-2;for(let e=0;e<fj.length;e+=1)t[fj[e].charCodeAt(0)]=e;return t})();function JV(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(fj[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(fj[n]),e.queuedBits-=6}}function dre(t,e,r){const n=TOe[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function ez(t){const e=[],r=a=>{e.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{NOe(a,n,r)};for(let a=0;a<t.length;a+=1)dre(t.charCodeAt(a),i,s);return e.join("")}function COe(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function jOe(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}COe(n,e)}}function NOe(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function rb(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)dre(t.charCodeAt(i),r,n);return new Uint8Array(e)}function kOe(t){const e=[];return jOe(t,r=>e.push(r)),new Uint8Array(e)}function kv(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>JV(i,r,n)),JV(null,r,n),e.join("")}function IOe(t){return Math.round(Date.now()/1e3)+t}function LOe(){return Symbol("auth-callback")}const Bd=()=>typeof window<"u"&&typeof document<"u",X0={tested:!1,writable:!1},hre=()=>{if(!Bd())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(X0.tested)return X0.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),X0.tested=!0,X0.writable=!0}catch{X0.tested=!0,X0.writable=!1}return X0.writable};function BOe(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const fre=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),OOe=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",dx=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Z0=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},kd=async(t,e)=>{await t.removeItem(e)};class A5{constructor(){this.promise=new A5.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}A5.promiseConstructor=Promise;function H2(t){const e=t.split(".");if(e.length!==3)throw new CO("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!xOe.test(e[n]))throw new CO("JWT not in base64url format");return{header:JSON.parse(ez(e[0])),payload:JSON.parse(ez(e[1])),signature:rb(e[2]),raw:{header:e[0],payload:e[1]}}}async function POe(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function ROe(t,e){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await t(s);if(!e(s,null,a)){n(a);return}}catch(a){if(!e(s,a)){i(a);return}}})()})}function DOe(t){return("0"+t.toString(16)).substr(-2)}function MOe(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,DOe).join("")}async function FOe(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function UOe(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await FOe(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Vy(t,e,r=!1){const n=MOe();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await dx(t,`${e}-code-verifier`,i);const s=await UOe(n);return[s,n===s?"plain":"s256"]}const $Oe=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function HOe(t){const e=t.headers.get(SO);if(!e||!e.match($Oe))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function QOe(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function VOe(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const zOe=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function zy(t){if(!zOe.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function BL(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function KOe(t,e){return new Proxy(t,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,i)}})}function tz(t){return JSON.parse(JSON.stringify(t))}const cv=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),GOe=[502,503,504];async function rz(t){var e;if(!OOe(t))throw new TO(cv(t),0);if(GOe.includes(t.status))throw new TO(cv(t),t.status);let r;try{r=await t.json()}catch(s){throw new bv(cv(s),s)}let n;const i=HOe(t);if(i&&i.getTime()>=ure["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new XV(cv(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new qh}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new XV(cv(r),t.status,r.weak_password.reasons);throw new wOe(cv(r),t.status||500,n)}const WOe=(t,e,r,n)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function ps(t,e,r,n){var i;const s=Object.assign({},n?.headers);s[SO]||(s[SO]=ure["2024-01-01"].name),n?.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const a=(i=n?.query)!==null&&i!==void 0?i:{};n?.redirectTo&&(a.redirect_to=n.redirectTo);const c=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",u=await YOe(t,e,r+c,{headers:s,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(u):{data:Object.assign({},u),error:null}}async function YOe(t,e,r,n,i,s){const a=WOe(e,n,i,s);let c;try{c=await t(r,Object.assign({},a))}catch(u){throw console.error(u),new TO(cv(u),0)}if(c.ok||await rz(c),n?.noResolveJson)return c;try{return await c.json()}catch(u){await rz(u)}}function hA(t){var e;let r=null;ZOe(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=IOe(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function nz(t){const e=hA(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function o0(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function qOe(t){return{data:t,error:null}}function XOe(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=t,a=d5(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},u=Object.assign({},a);return{data:{properties:c,user:u},error:null}}function iz(t){return t}function ZOe(t){return t.access_token&&t.refresh_token&&t.expires_in}const OL=["global","local","others"];class JOe{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=fre(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=OL[0]){if(OL.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${OL.join(", ")}`);try{return await ps(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ui(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await ps(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:o0})}catch(n){if(Ui(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=d5(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n?.newEmail,delete i.newEmail),await ps(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:XOe,redirectTo:r?.redirectTo})}catch(r){if(Ui(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await ps(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:o0})}catch(r){if(Ui(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,s,a,c,u;try{const l={nextPage:null,lastPage:0,total:0},d=await ps(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:iz});if(d.error)throw d.error;const f=await d.json(),A=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(u=(c=d.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&u!==void 0?u:[];return p.length>0&&(p.forEach(v=>{const y=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);l[`${x}Page`]=y}),l.total=parseInt(A)),{data:Object.assign(Object.assign({},f),l),error:null}}catch(l){if(Ui(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){zy(e);try{return await ps(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:o0})}catch(r){if(Ui(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){zy(e);try{return await ps(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:o0})}catch(n){if(Ui(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){zy(e);try{return await ps(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:o0})}catch(n){if(Ui(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){zy(e.userId);try{const{data:r,error:n}=await ps(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Ui(r))return{data:null,error:r};throw r}}async _deleteFactor(e){zy(e.userId),zy(e.id);try{return{data:await ps(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Ui(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,i,s,a,c,u;try{const l={nextPage:null,lastPage:0,total:0},d=await ps(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:iz});if(d.error)throw d.error;const f=await d.json(),A=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(u=(c=d.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&u!==void 0?u:[];return p.length>0&&(p.forEach(v=>{const y=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);l[`${x}Page`]=y}),l.total=parseInt(A)),{data:Object.assign(Object.assign({},f),l),error:null}}catch(l){if(Ui(l))return{data:{clients:[]},error:l};throw l}}async _createOAuthClient(e){try{return await ps(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ui(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await ps(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ui(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await ps(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ui(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await ps(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ui(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await ps(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ui(r))return{data:null,error:r};throw r}}}function sz(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Ky={debug:!!(globalThis&&hre()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Are extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class ePe extends Are{}async function tPe(t,e,r){Ky.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Ky.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Ky.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{Ky.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Ky.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new ePe(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Ky.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function rPe(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function mre(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function nPe(t){return parseInt(t,16)}function iPe(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function sPe(t){var e;const{chainId:r,domain:n,expirationTime:i,issuedAt:s=new Date,nonce:a,notBefore:c,requestId:u,resources:l,scheme:d,uri:f,version:A}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(A!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${A}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const p=mre(t.address),v=d?`${d}://${n}`:n,y=t.statement?`${t.statement}
`:"",x=`${v} wants you to sign in with your Ethereum account:
${p}

${y}`;let w=`URI: ${f}
Version: ${A}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${s.toISOString()}`;if(i&&(w+=`
Expiration Time: ${i.toISOString()}`),c&&(w+=`
Not Before: ${c.toISOString()}`),u&&(w+=`
Request ID: ${u}`),l){let E=`
Resources:`;for(const T of l){if(!T||typeof T!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${T}`);E+=`
- ${T}`}w+=E}return`${x}
${w}`}class du extends Error{constructor({message:e,code:r,cause:n,name:i}){var s;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=i??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class Aj extends du{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function aPe({error:t,options:e}){var r,n,i;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new du({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new du({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new du({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new du({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new du({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new du({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return s.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new du({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new du({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(pre(a)){if(s.rp.id!==a)return new du({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new du({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new du({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new du({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new du({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function oPe({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new du({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new du({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(pre(n)){if(r.rpId!==n)return new du({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new du({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new du({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new du({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class lPe{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const cPe=new lPe;function uPe(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,i=d5(t,["challenge","user","excludeCredentials"]),s=rb(e).buffer,a=Object.assign(Object.assign({},r),{id:rb(r.id).buffer}),c=Object.assign(Object.assign({},i),{challenge:s,user:a});if(n&&n.length>0){c.excludeCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const l=n[u];c.excludeCredentials[u]=Object.assign(Object.assign({},l),{id:rb(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return c}function dPe(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=d5(t,["challenge","allowCredentials"]),i=rb(e).buffer,s=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const c=r[a];s.allowCredentials[a]=Object.assign(Object.assign({},c),{id:rb(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return s}function hPe(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:kv(new Uint8Array(t.response.attestationObject)),clientDataJSON:kv(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function fPe(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:kv(new Uint8Array(i.authenticatorData)),clientDataJSON:kv(new Uint8Array(i.clientDataJSON)),signature:kv(new Uint8Array(i.signature)),userHandle:i.userHandle?kv(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function pre(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function az(){var t,e;return!!(Bd()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function APe(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Aj("Browser returned unexpected credential type",e)}:{data:null,error:new Aj("Empty credential response",e)}}catch(e){return{data:null,error:aPe({error:e,options:t})}}}async function mPe(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Aj("Browser returned unexpected credential type",e)}:{data:null,error:new Aj("Empty credential response",e)}}catch(e){return{data:null,error:oPe({error:e,options:t})}}}const pPe={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},gPe={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function mj(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of t)if(i)for(const s in i){const a=i[s];if(a!==void 0)if(Array.isArray(a))n[s]=a;else if(r(a))n[s]=a;else if(e(a)){const c=n[s];e(c)?n[s]=mj(c,a):n[s]=mj(a)}else n[s]=a}return n}function vPe(t,e){return mj(pPe,t,e||{})}function yPe(t,e){return mj(gPe,t,e||{})}class xPe{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:i},s){var a;try{const{data:c,error:u}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!c)return{data:null,error:u};const l=i??cPe.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:d}=c.webauthn.credential_options.publicKey;if(!d.name){const f=n;if(f)d.name=`${d.id}:${f}`;else{const p=(await this.client.getUser()).data.user,v=((a=p?.user_metadata)===null||a===void 0?void 0:a.name)||p?.email||p?.id||"User";d.name=`${d.id}:${v}`}}d.displayName||(d.displayName=d.name)}switch(c.webauthn.type){case"create":{const d=vPe(c.webauthn.credential_options.publicKey,s?.create),{data:f,error:A}=await APe({publicKey:d,signal:l});return f?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:f}},error:null}:{data:null,error:A}}case"request":{const d=yPe(c.webauthn.credential_options.publicKey,s?.request),{data:f,error:A}=await mPe(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:d,signal:l}));return f?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:f}},error:null}:{data:null,error:A}}}}catch(c){return Ui(c)?{data:null,error:c}:{data:null,error:new bv("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new CE("rpId is required for WebAuthn authentication")};try{if(!az())return{data:null,error:new bv("Browser does not support WebAuthn",null)};const{data:a,error:c}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:s});if(!a)return{data:null,error:c};const{webauthn:u}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:u.type,rpId:r,rpOrigins:n,credential_response:u.credential_response}})}catch(a){return Ui(a)?{data:null,error:a}:{data:null,error:new bv("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new CE("rpId is required for WebAuthn registration")};try{if(!az())return{data:null,error:new bv("Browser does not support WebAuthn",null)};const{data:a,error:c}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(A=>A.factor_type==="webauthn"&&A.friendly_name===e&&A.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d?.id}):void 0),{data:null,error:c};const{data:u,error:l}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:s});return u?this._verify({factorId:a.id,challengeId:u.challengeId,webauthn:{rpId:r,rpOrigins:n,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:l}}catch(a){return Ui(a)?{data:null,error:a}:{data:null,error:new bv("Unexpected error in register",a)}}}}rPe();const bPe={url:gOe,storageKey:vOe,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:yOe,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function oz(t,e,r){return await r()}const Gy={};class jE{get jwks(){var e,r;return(r=(e=Gy[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Gy[this.storageKey]=Object.assign(Object.assign({},Gy[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Gy[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Gy[this.storageKey]=Object.assign(Object.assign({},Gy[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},bPe),e);if(this.storageKey=s.storageKey,this.instanceID=(r=jE.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,jE.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&Bd()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new JOe({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=fre(s.fetch),this.lock=s.lock||oz,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,this.lockAcquireTimeout=s.lockAcquireTimeout,s.lock?this.lock=s.lock:this.persistSession&&Bd()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=tPe:this.lock=oz,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new xPe(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:hre()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=sz(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=sz(this.memoryStorage)),Bd()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a);try{await this._notifyAllSubscribers(a.data.event,a.data.session,!1)}catch(c){this._debug("#broadcastChannel","error",c)}})}this.initialize().catch(a=>{this._debug("#initialize()","error",a)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${cre}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(Bd()&&(r=BOe(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Bd()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),_Oe(s)){const u=(e=s.details)===null||e===void 0?void 0:e.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:s}}return{error:s}}const{session:a,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",c),await this._saveSession(a),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ui(r)?this._returnResult({error:r}):this._returnResult({error:new bv("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const s=await ps(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:hA}),{data:a,error:c}=s;if(c||!a)return this._returnResult({data:{user:null,session:null},error:c});const u=a.session,l=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:l,session:u},error:null})}catch(s){if(Ui(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(e){var r,n,i;try{let s;if("email"in e){const{email:d,password:f,options:A}=e;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await Vy(this.storage,this.storageKey)),s=await ps(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:A?.emailRedirectTo,body:{email:d,password:f,data:(r=A?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:A?.captchaToken},code_challenge:p,code_challenge_method:v},xform:hA})}else if("phone"in e){const{phone:d,password:f,options:A}=e;s=await ps(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=A?.data)!==null&&n!==void 0?n:{},channel:(i=A?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:A?.captchaToken}},xform:hA})}else throw new U2("You must provide either an email or phone number and a password");const{data:a,error:c}=s;if(c||!a)return await kd(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:c});const u=a.session,l=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:l,session:u},error:null})}catch(s){if(await kd(this.storage,`${this.storageKey}-code-verifier`),Ui(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(e){try{let r;if("email"in e){const{email:s,password:a,options:c}=e;r=await ps(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:nz})}else if("phone"in e){const{phone:s,password:a,options:c}=e;r=await ps(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:nz})}else throw new U2("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const s=new Qy;return this._returnResult({data:{user:null,session:null},error:s})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Ui(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,i,s,a,c,u,l,d,f,A;let p,v;if("message"in e)p=e.message,v=e.signature;else{const{chain:y,wallet:x,statement:w,options:E}=e;let T;if(Bd())if(typeof x=="object")T=x;else{const q=window;if("ethereum"in q&&typeof q.ethereum=="object"&&"request"in q.ethereum&&typeof q.ethereum.request=="function")T=q.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=x}const C=new URL((r=E?.url)!==null&&r!==void 0?r:window.location.href),j=await T.request({method:"eth_requestAccounts"}).then(q=>q).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const P=mre(j[0]);let U=(n=E?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!U){const q=await T.request({method:"eth_chainId"});U=nPe(q)}const W={domain:C.host,address:P,statement:w,uri:C.href,version:"1",chainId:U,nonce:(i=E?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(s=E?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(c=E?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(u=E?.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(l=E?.signInWithEthereum)===null||l===void 0?void 0:l.requestId,resources:(d=E?.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=sPe(W),v=await T.request({method:"personal_sign",params:[iPe(p),P]})}try{const{data:y,error:x}=await ps(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:v},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(A=e.options)===null||A===void 0?void 0:A.captchaToken}}:null),xform:hA});if(x)throw x;if(!y||!y.session||!y.user){const w=new Qy;return this._returnResult({data:{user:null,session:null},error:w})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:x})}catch(y){if(Ui(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(e){var r,n,i,s,a,c,u,l,d,f,A,p;let v,y;if("message"in e)v=e.message,y=e.signature;else{const{chain:x,wallet:w,statement:E,options:T}=e;let C;if(Bd())if(typeof w=="object")C=w;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))C=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!T?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=w}const j=new URL((r=T?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in C&&C.signIn){const P=await C.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},T?.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),E?{statement:E}:null));let U;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")U=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)U=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in U&&"signature"in U&&(typeof U.signedMessage=="string"||U.signedMessage instanceof Uint8Array)&&U.signature instanceof Uint8Array)v=typeof U.signedMessage=="string"?U.signedMessage:new TextDecoder().decode(U.signedMessage),y=U.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in C)||typeof C.signMessage!="function"||!("publicKey"in C)||typeof C!="object"||!C.publicKey||!("toBase58"in C.publicKey)||typeof C.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${j.host} wants you to sign in with your Solana account:`,C.publicKey.toBase58(),...E?["",E,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(i=(n=T?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=T?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${T.signInWithSolana.notBefore}`]:[],...!((a=T?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${T.signInWithSolana.expirationTime}`]:[],...!((c=T?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${T.signInWithSolana.chainId}`]:[],...!((u=T?.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${T.signInWithSolana.nonce}`]:[],...!((l=T?.signInWithSolana)===null||l===void 0)&&l.requestId?[`Request ID: ${T.signInWithSolana.requestId}`]:[],...!((f=(d=T?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...T.signInWithSolana.resources.map(U=>`- ${U}`)]:[]].join(`
`);const P=await C.signMessage(new TextEncoder().encode(v),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=P}}try{const{data:x,error:w}=await ps(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:kv(y)},!((A=e.options)===null||A===void 0)&&A.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:hA});if(w)throw w;if(!x||!x.session||!x.user){const E=new Qy;return this._returnResult({data:{user:null,session:null},error:E})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:w})}catch(x){if(Ui(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(e){const r=await Z0(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new SOe;const{data:s,error:a}=await ps(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:hA});if(await kd(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!s||!s.session||!s.user){const c=new Qy;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(await kd(this.storage,`${this.storageKey}-code-verifier`),Ui(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:s,nonce:a}=e,c=await ps(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:hA}),{data:u,error:l}=c;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!u||!u.session||!u.user){const d=new Qy;return this._returnResult({data:{user:null,session:null},error:d})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:u,error:l})}catch(r){if(Ui(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,i,s,a;try{if("email"in e){const{email:c,options:u}=e;let l=null,d=null;this.flowType==="pkce"&&([l,d]=await Vy(this.storage,this.storageKey));const{error:f}=await ps(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=u?.data)!==null&&r!==void 0?r:{},create_user:(n=u?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:l,code_challenge_method:d},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in e){const{phone:c,options:u}=e,{data:l,error:d}=await ps(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=u?.data)!==null&&i!==void 0?i:{},create_user:(s=u?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:(a=u?.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:l?.message_id},error:d})}throw new U2("You must provide either an email or phone number.")}catch(c){if(await kd(this.storage,`${this.storageKey}-code-verifier`),Ui(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(e){var r,n;try{let i,s;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:c}=await ps(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:hA});if(c)throw c;if(!a)throw new Error("An error occurred on token verification.");const u=a.session,l=a.user;return u?.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),this._returnResult({data:{user:l,session:u},error:null})}catch(i){if(Ui(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var r,n,i,s,a;try{let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Vy(this.storage,this.storageKey));const l=await ps(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:u}),headers:this.headers,xform:qOe});return!((s=l.data)===null||s===void 0)&&s.url&&Bd()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(l.data.url),this._returnResult(l)}catch(c){if(await kd(this.storage,`${this.storageKey}-code-verifier`),Ui(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new qh;const{error:i}=await ps(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(Ui(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:s}=e,{error:a}=await ps(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:n,type:i,options:s}=e,{data:a,error:c}=await ps(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a?.message_id},error:c})}throw new U2("You must provide either an email or phone number and a type")}catch(r){if(Ui(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Z0(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<kL:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const a=await Z0(this.userStorage,this.storageKey+"-user");a?.user?e.user=a.user:e.user=BL()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=KOe(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await ps(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:o0}):await this._useSession(async r=>{var n,i,s;const{data:a,error:c}=r;if(c)throw c;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new qh}:await ps(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:o0})})}catch(r){if(Ui(r))return IL(r)&&(await this._removeSession(),await kd(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new qh;const a=i.session;let c=null,u=null;this.flowType==="pkce"&&e.email!=null&&([c,u]=await Vy(this.storage,this.storageKey));const{data:l,error:d}=await ps(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:u}),jwt:a.access_token,xform:o0});if(d)throw d;return a.user=l.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(await kd(this.storage,`${this.storageKey}-code-verifier`),Ui(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new qh;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:a}=H2(e.access_token);if(a.exp&&(n=a.exp,i=n<=r),i){const{data:c,error:u}=await this._callRefreshToken(e.refresh_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c)return{data:{user:null,session:null},error:null};s=c}else{const{data:c,error:u}=await this._getUser(e.access_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});s={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(Ui(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:a,error:c}=r;if(c)throw c;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!e?.refresh_token)throw new qh;const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Ui(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Bd())throw new $2("No browser detected.");if(e.error||e.error_description||e.error_code)throw new $2(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new qV("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new $2("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new qV("No code detected.");const{data:E,error:T}=await this._exchangeCodeForSession(e.code);if(T)throw T;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:E.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:c,expires_at:u,token_type:l}=e;if(!s||!c||!a||!l)throw new $2("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(c);let A=d+f;u&&(A=parseInt(u));const p=A-d;p*1e3<=ux&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const v=A-f;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,A,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,A,d);const{data:y,error:x}=await this._getUser(s);if(x)throw x;const w={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:f,expires_at:A,refresh_token:a,token_type:l,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:w,redirectType:e.type},error:null})}catch(n){if(Ui(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Z0(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s&&!IL(s))return this._returnResult({error:s});const a=(n=i.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:c}=await this.admin.signOut(a,e);if(c&&!(EOe(c)&&(c.status===404||c.status===401||c.status===403)||IL(c)))return this._returnResult({error:c})}return e!=="others"&&(await this._removeSession(),await kd(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=LOe(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Vy(this.storage,this.storageKey,!0));try{return await ps(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(await kd(this.storage,`${this.storageKey}-code-verifier`),Ui(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(Ui(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var a,c,u,l,d;const{data:f,error:A}=s;if(A)throw A;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(u=e.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await ps(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(l=f.session)===null||l===void 0?void 0:l.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Bd()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),this._returnResult({data:{provider:e.provider,url:n?.url},error:null})}catch(n){if(Ui(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:s}}=r;if(i)throw i;const{options:a,provider:c,token:u,access_token:l,nonce:d}=e,f=await ps(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:c,id_token:u,access_token:l,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:hA}),{data:A,error:p}=f;return p?this._returnResult({data:{user:null,session:null},error:p}):!A||!A.session||!A.user?this._returnResult({data:{user:null,session:null},error:new Qy}):(A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("USER_UPDATED",A.session)),this._returnResult({data:A,error:p}))}catch(i){if(await kd(this.storage,`${this.storageKey}-code-verifier`),Ui(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)throw a;return await ps(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Ui(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await ROe(async i=>(i>0&&await POe(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await ps(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:hA})),(i,s)=>{const a=200*Math.pow(2,i);return s&&LL(s)&&Date.now()+a-n<ux})}catch(n){if(this._debug(r,"error",n),Ui(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Bd()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Z0(this.storage,this.storageKey);if(i&&this.userStorage){let a=await Z0(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await dx(this.userStorage,this.storageKey+"-user",a)),i.user=(e=a?.user)!==null&&e!==void 0?e:BL()}else if(i&&!i.user&&!i.user){const a=await Z0(this.storage,this.storageKey+"-user");a&&a?.user?(i.user=a.user,await kd(this.storage,this.storageKey+"-user"),await dx(this.storage,this.storageKey,i)):i.user=BL()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<kL;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${kL}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),LL(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:c}=await this._getUser(i.access_token);!c&&a?.user?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new qh;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new A5;const{data:s,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new qh;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const c={data:s.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(s){if(this._debug(i,"error",s),Ui(s)){const a={data:null,error:s};return LL(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,r)}catch(u){s.push(u)}});if(await Promise.all(a),s.length>0){for(let c=0;c<s.length;c+=1)console.error(s[c]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await kd(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await dx(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=tz(i);await dx(this.storage,this.storageKey,s)}else{const i=tz(r);await dx(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await kd(this.storage,this.storageKey),await kd(this.storage,this.storageKey+"-code-verifier"),await kd(this.storage,this.storageKey+"-user"),this.userStorage&&await kd(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Bd()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ux);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/ux);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${ux}ms, refresh threshold is ${_O} ticks`),i<=_O&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Are)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Bd()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,a]=await Vy(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(c.toString())}if(n?.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n?.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?this._returnResult({data:null,error:s}):await ps(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ui(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:u,error:l}=await ps(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(e.factorType==="totp"&&u.type==="totp"&&(!((i=u?.totp)===null||i===void 0)&&i.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),this._returnResult({data:u,error:null}))})}catch(r){if(Ui(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?hPe(e.webauthn.credential_response):fPe(e.webauthn.credential_response)})}:{code:e.code}),{data:c,error:u}=await ps(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:u}))})}catch(r){if(Ui(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const a=await ps(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:c}=a;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:uPe(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:dPe(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Ui(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=r?.factors)!==null&&e!==void 0?e:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(e){var r,n,i,s;if(e)try{const{payload:p}=H2(e);let v=null;p.aal&&(v=p.aal);let y=v;const{data:{user:x},error:w}=await this.getUser(e);if(w)return this._returnResult({data:null,error:w});((n=(r=x?.factors)===null||r===void 0?void 0:r.filter(C=>C.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(y="aal2");const T=p.amr||[];return{data:{currentLevel:v,nextLevel:y,currentAuthenticationMethods:T},error:null}}catch(p){if(Ui(p))return this._returnResult({data:null,error:p});throw p}const{data:{session:a},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=H2(a.access_token);let l=null;u.aal&&(l=u.aal);let d=l;((s=(i=a.user.factors)===null||i===void 0?void 0:i.filter(p=>p.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(d="aal2");const A=u.amr||[];return{data:{currentLevel:l,nextLevel:d,currentAuthenticationMethods:A},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await ps(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new qh})})}catch(r){if(Ui(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new qh});const a=await ps(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return a.data&&a.data.redirect_url&&Bd()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a})}catch(n){if(Ui(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new qh});const a=await ps(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return a.data&&a.data.redirect_url&&Bd()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a})}catch(n){if(Ui(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await ps(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new qh})})}catch(e){if(Ui(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(await ps(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new qh})})}catch(r){if(Ui(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(c=>c.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(c=>c.kid===e),n&&this.jwks_cached_at+bOe>i)return n;const{data:s,error:a}=await ps(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(c=>c.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:p,error:v}=await this.getSession();if(v||!p.session)return this._returnResult({data:null,error:v});n=p.session.access_token}const{header:i,payload:s,signature:a,raw:{header:c,payload:u}}=H2(n);r?.allowExpired||QOe(s.exp);const l=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!l){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:s,header:i,signature:a},error:null}}const d=VOe(i.alg),f=await crypto.subtle.importKey("jwk",l,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,a,kOe(`${c}.${u}`)))throw new CO("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(n){if(Ui(n))return this._returnResult({data:null,error:n});throw n}}}jE.nextInstanceID={};const wPe=jE,EPe="2.93.3";let iw="";typeof Deno<"u"?iw="deno":typeof document<"u"?iw="web":typeof navigator<"u"&&navigator.product==="ReactNative"?iw="react-native":iw="node";const _Pe={"X-Client-Info":`supabase-js-${iw}/${EPe}`},SPe={headers:_Pe},TPe={schema:"public"},CPe={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},jPe={};function NE(t){"@babel/helpers - typeof";return NE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},NE(t)}function NPe(t,e){if(NE(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(NE(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kPe(t){var e=NPe(t,"string");return NE(e)=="symbol"?e:e+""}function IPe(t,e,r){return(e=kPe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Nc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lz(Object(r),!0).forEach(function(n){IPe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const LPe=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),BPe=()=>Headers,OPe=(t,e,r)=>{const n=LPe(r),i=BPe();return async(s,a)=>{var c;const u=(c=await e())!==null&&c!==void 0?c:t;let l=new i(a?.headers);return l.has("apikey")||l.set("apikey",t),l.has("Authorization")||l.set("Authorization",`Bearer ${u}`),n(s,Nc(Nc({},a),{},{headers:l}))}};function PPe(t){return t.endsWith("/")?t:t+"/"}function RPe(t,e){var r,n;const{db:i,auth:s,realtime:a,global:c}=t,{db:u,auth:l,realtime:d,global:f}=e,A={db:Nc(Nc({},u),i),auth:Nc(Nc({},l),s),realtime:Nc(Nc({},d),a),storage:{},global:Nc(Nc(Nc({},f),c),{},{headers:Nc(Nc({},(r=f?.headers)!==null&&r!==void 0?r:{}),(n=c?.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?A.accessToken=t.accessToken:delete A.accessToken,A}function DPe(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(PPe(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var MPe=class extends wPe{constructor(t){super(t)}},FPe=class{constructor(t,e,r){var n,i;this.supabaseUrl=t,this.supabaseKey=e;const s=DPe(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const a=`sb-${s.hostname.split(".")[0]}-auth-token`,c={db:TPe,realtime:jPe,auth:Nc(Nc({},CPe),{},{storageKey:a}),global:SPe},u=RPe(r??{},c);if(this.storageKey=(n=u.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken)this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var l;this.auth=this._initSupabaseAuthClient((l=u.auth)!==null&&l!==void 0?l:{},this.headers,u.global.fetch)}this.fetch=OPe(e,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Nc({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new E4e(new URL("rest/v1",s).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new pOe(this.storageUrl.href,this.headers,this.fetch,r?.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new v4e(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:n}=await t.auth.getSession();return(e=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:i,storageKey:s,flowType:a,lock:c,debug:u,throwOnError:l},d,f){const A={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new MPe({url:this.authUrl.href,headers:Nc(Nc({},A),d),storageKey:s,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:i,flowType:a,lock:c,debug:u,throwOnError:l,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new U4e(this.realtimeUrl.href,Nc(Nc({},t),{},{params:Nc(Nc({},{apikey:this.supabaseKey}),t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e?.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const UPe=(t,e,r)=>new FPe(t,e,r);function $Pe(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const r=e.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}$Pe()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const HPe="https://gonalgubgldgpkcekaxe.supabase.co",QPe="sb_publishable_SB4LfH4EkuEyu5qeC_dffQ_G9cF8Fo_",Jr=UPe(HPe,QPe);async function VPe({name:t,email:e,phone:r,orgName:n}){const{data:i,error:s}=await Jr.from("leads").insert([{name:t,email:e,phone:r,org_name:n,completed_form:!1,source:"combat-sports-proposal"}]).select();if(s)throw s;return i?.[0]}async function zPe(t,e){const{error:r}=await Jr.from("leads").update({completed_form:!0,form_data:e}).eq("id",t);if(r)throw r}async function KPe(t){if(!t)return null;let{data:e,error:r}=await Jr.from("crm_leads").select("*").ilike("org_name",t).limit(1).single();if(e)return e;const n=t.replace(/\s*(Pty|Ltd|Inc|LLC|Pty Ltd|PTY LTD|Corporation|Corp)\.?\s*/gi,"").trim(),i=await Jr.from("crm_leads").select("*").ilike("org_name",`%${n}%`).limit(1).single();if(i.data)return i.data;const s=n.split(/\s+/).filter(a=>a.length>3);if(s.length>0){const a=s[0],c=await Jr.from("crm_leads").select("*").ilike("org_name",`%${a}%BJJ%`).limit(1).single();if(c.data)return c.data}return null}async function m5(){const{data:t,error:e}=await Jr.from("contracts").select("*").order("created_at",{ascending:!1});if(e)throw e;return t}async function gre(t){const{data:e,error:r}=await Jr.from("contracts").select("*").eq("id",t).single();if(r)throw r;return e}async function GPe(t){const{data:e,error:r}=await Jr.from("contracts").select("*").eq("share_token",t).single();if(r)throw r;return e}async function cz(t){const e=Array.from({length:32},()=>Math.floor(Math.random()*16).toString(16)).join(""),{data:r,error:n}=await Jr.from("contracts").insert({...t,share_token:e}).select().single();if(n)throw n;return r}async function uz(t,e){const{data:r,error:n}=await Jr.from("contracts").update({...e,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(n)throw n;return r}async function WPe(t){const{error:e}=await Jr.from("contracts").delete().eq("id",t);if(e)throw e}async function YPe(t){const{data:e,error:r}=await Jr.from("contracts").update({viewed_at:new Date().toISOString(),status:"viewed",updated_at:new Date().toISOString()}).eq("id",t).select().single();if(r)throw r;return e}async function qPe(t){const{data:e,error:r}=await Jr.from("orders").insert([t]).select().single();if(r)throw r;return e}async function XPe(t,e,r=!1){const n=r?{client_signature:e,client_signed_at:new Date().toISOString(),status:"signed",updated_at:new Date().toISOString()}:{ffm_signature:e,ffm_signed_at:new Date().toISOString(),status:"sent",updated_at:new Date().toISOString()},{data:i,error:s}=await Jr.from("contracts").update(n).eq("id",t).select().single();if(s)throw s;return i}const ZPe=()=>Array.from({length:24},()=>Math.floor(Math.random()*16).toString(16)).join("");async function vre(){const{data:t,error:e}=await Jr.from("onboarding_sessions").select("*").order("created_at",{ascending:!1});if(e)throw e;return t}async function JPe(t){const{data:e,error:r}=await Jr.from("onboarding_sessions").select("*").eq("share_token",t);if(r)throw r;if(!e||e.length===0)throw new Error("Onboarding session not found. Please check your link or contact Fit Focus Media.");const n=e[0];return n&&n.status==="pending"&&(await Jr.from("onboarding_sessions").update({status:"in_progress"}).eq("share_token",t),n.status="in_progress"),n}async function yre(t){const{data:e,error:r}=await Jr.from("onboarding_sessions").insert({...t,share_token:ZPe(),status:"pending"}).select().single();if(r)throw r;if(e&&e.org_name&&e.event_name)try{await aRe(e.id,e.org_name,e.event_name)}catch(n){console.error("Failed to create Drive folders:",n)}return e}async function eRe(t,e){delete e.id,delete e.created_at,delete e.share_token,delete e.contract_id;const{data:r,error:n}=await Jr.from("onboarding_sessions").update({...e,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(n)throw n;return r}async function tRe(t,e){delete e.id,delete e.created_at,delete e.share_token,delete e.contract_id;const{data:r,error:n}=await Jr.from("onboarding_sessions").update({...e,updated_at:new Date().toISOString()}).eq("share_token",t).select();if(n)throw n;if(!r||r.length===0)throw new Error("Failed to save changes - session not found");return r[0]}async function rRe(t){const e=typeof t=="string"?t:t?.share_token;if(!e)throw new Error("No share token provided for submission");const{data:r,error:n}=await Jr.from("onboarding_sessions").update({status:"submitted",submitted_at:new Date().toISOString()}).eq("share_token",e).select();if(n)throw n;if(!r||r.length===0)throw new Error("Session not found or update blocked by permissions");return r[0]}async function nRe(t,e,r){const{data:n,error:i}=await Jr.from("onboarding_sessions").update({status:"reviewed",reviewed_at:new Date().toISOString(),reviewed_by:e,admin_notes:r}).eq("id",t).select();if(i)throw i;return n}async function iRe(t){const{error:e}=await Jr.from("onboarding_files").delete().eq("session_id",t);e&&console.error("Error deleting files:",e);const{error:r}=await Jr.from("onboarding_sessions").delete().eq("id",t);if(r)throw r;return!0}const PL="onboarding";async function sRe(t,e,r,n){const{data:i}=await Jr.from("onboarding_sessions").select("org_name, event_name").eq("id",t).single(),s=w=>w?.replace(/[^a-zA-Z0-9 -]/g,"").trim().substring(0,50)||"",a=s(i?.org_name)||t.substring(0,8),c=i?.event_name?s(i.event_name):null,u=Date.now(),l=n.name.replace(/[^a-zA-Z0-9.-]/g,"_"),d=c?`${a}/${c}/${e}/${u}_${l}`:`${a}/${e}/${u}_${l}`,{data:f,error:A}=await Jr.storage.from(PL).upload(d,n,{cacheControl:"3600",upsert:!1});if(A)throw new Error(A.message||"Upload failed");const{data:p}=Jr.storage.from(PL).getPublicUrl(d),v=p?.publicUrl||null,{data:y,error:x}=await Jr.from("onboarding_files").insert({session_id:t,category:e,file_type:r,file_name:n.name,file_size:n.size,mime_type:n.type,storage_path:d,public_url:v,synced_to_drive:!1}).select().single();if(x)throw await Jr.storage.from(PL).remove([d]),new Error(x.message||"Failed to create file record");return{file:y,url:v,message:"File uploaded. Will sync to Google Drive automatically."}}async function aRe(t,e,r){return console.log("Drive folders will be created automatically during sync"),{success:!0,message:"Folders created during sync"}}async function oRe(t){const{data:e,error:r}=await Jr.from("onboarding_files").select("*").eq("session_id",t).order("created_at",{ascending:!1});if(r)throw r;return e}async function lRe(){const{data:t,error:e}=await Jr.from("livestream_events").select("*").in("status",["published","live","ended"]).order("start_time",{ascending:!0});if(e)throw e;return t}async function xre(t){const{data:e,error:r}=await Jr.from("livestream_events").select("*").eq("id",t).single();if(r)throw r;return e}async function cRe(){const{data:t,error:e}=await Jr.from("livestream_events").select("*").order("created_at",{ascending:!1});if(e)throw e;return t}async function uRe(t){const{data:e,error:r}=await Jr.from("livestream_events").insert([t]).select().single();if(r)throw r;return e}async function dz(t,e){const{data:r,error:n}=await Jr.from("livestream_events").update({...e,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(n)throw n;return r}async function dRe(t){const{error:e}=await Jr.from("livestream_events").delete().eq("id",t);if(e)throw e}async function bre(){const{data:t,error:e}=await Jr.from("livestream_settings").select("*").eq("id",1).single();if(e&&e.code!=="PGRST116")throw e;return t||{demo_mode:!1}}async function hRe(t){const{data:e,error:r}=await Jr.from("livestream_settings").upsert({id:1,...t,updated_at:new Date().toISOString()}).select().single();if(r)throw r;return e}async function fRe(t){const{data:e,error:r}=await Jr.from("livestream_orders").insert([t]).select().single();if(r)throw r;return e}async function ARe(t,e){const{data:r,error:n}=await Jr.from("livestream_orders").select("*").eq("event_id",t).eq("email",e.toLowerCase()).eq("status","completed").single();if(n&&n.code!=="PGRST116")throw n;return r}async function mRe(t){let e=Jr.from("livestream_orders").select("*, event:livestream_events(*)").order("created_at",{ascending:!1});const{data:r,error:n}=await e;if(n)throw n;return r}async function pRe(t){const{data:e,error:r}=await Jr.from("livestream_sessions").insert([t]).select().single();if(r)throw r;return e}async function gRe(t){const{data:e,error:r}=await Jr.from("livestream_sessions").update({last_seen:new Date().toISOString()}).eq("token",t).eq("active",!0).select().single();if(r)throw r;return e}const vRe=()=>{const[t,e]=k.useState(1),[r,n]=k.useState({name:"",email:"",phone:""}),[i,s]=k.useState({orgName:"",showsPerYear:4,avgAttendance:200,venueCapacity:300,socialFollowing:5e3,currentMedia:"basic",geoReach:"local",sponsorshipLevel:"few",growthTrajectory:"stable"}),[a,c]=k.useState(null),[u,l]=k.useState([]),d=k.useRef(null),f=5;k.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[t]),k.useEffect(()=>{t===f&&d.current&&zPe(d.current,{...i,...r,analysis:a,selectedAddOns:u}).catch(T=>console.error("Error marking lead completed:",T))},[t]);const A=()=>{t<f&&e(t+1)},p=()=>{t>1&&e(t-1)},v=T=>{T>=1&&T<=f&&e(T)},y=(T,C)=>{s(j=>({...j,[T]:C}))},x=(T,C)=>{n(j=>({...j,[T]:C}))},w=T=>{s(T)},E=async()=>{const T=await VPe({name:r.name,email:r.email,phone:r.phone,orgName:i.orgName||""});T?.id&&(d.current=T.id),A()};return o.jsxs("div",{className:"pt-16 sm:pt-20",children:[t>1&&o.jsx(Nge,{currentStep:t,totalSteps:f,goToStep:v}),o.jsxs("div",{className:"transition-opacity duration-300",children:[t===1&&o.jsx(kge,{nextStep:A}),t===2&&o.jsx(Ige,{formData:i,updateFormData:y,setFormDataBulk:w,setAnalysis:c,nextStep:A,prevStep:p}),t===3&&o.jsx(o4e,{formData:i,analysis:a,selectedAddOns:u,setSelectedAddOns:l,nextStep:A,prevStep:p}),t===4&&o.jsx(l4e,{contactData:r,updateContactData:x,formData:i,onSubmit:E,prevStep:p}),t===5&&o.jsx(A4e,{formData:i,analysis:a,selectedAddOns:u,prevStep:p,goToStep:v})]})]})},yRe=()=>{const[t,e]=k.useState({name:"",email:"",organization:"",message:""}),r=n=>{n.preventDefault();const i=encodeURIComponent(`Website Inquiry - ${t.organization||t.name}`),s=encodeURIComponent(`Name: ${t.name}
Email: ${t.email}
Organization: ${t.organization}

${t.message}`);window.location.href=`mailto:info@fitfocusmedia.com.au?subject=${i}&body=${s}`};return o.jsxs("div",{className:"pt-20 sm:pt-24",children:[o.jsx("section",{className:"py-12 sm:py-20 px-4 sm:px-6",children:o.jsx("div",{className:"max-w-7xl mx-auto text-center",children:o.jsxs(Kr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[o.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-black mb-6",children:o.jsx("span",{className:"text-gradient",children:"Get In Touch"})}),o.jsx("p",{className:"text-lg sm:text-xl text-gray-400 max-w-3xl mx-auto",children:"Ready to elevate your combat sports event? Let's talk about how professional media coverage can transform your promotion."})]})})}),o.jsx("section",{className:"py-8 sm:py-12 px-4 sm:px-6",children:o.jsx("div",{className:"max-w-7xl mx-auto",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 sm:gap-12",children:[o.jsx(Kr.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6},children:o.jsxs("div",{className:"bg-dark-800 border border-gray-700 rounded-xl p-6 sm:p-8",children:[o.jsx("h2",{className:"text-2xl sm:text-3xl font-black text-white mb-2",children:"Send a Message"}),o.jsx("p",{className:"text-gray-400 text-sm mb-6",children:"We typically respond within 24 hours."}),o.jsxs("form",{onSubmit:r,className:"space-y-5",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-300 mb-2",children:"Your Name *"}),o.jsx("input",{type:"text",required:!0,value:t.name,onChange:n=>e({...t,name:n.target.value}),className:"w-full px-4 py-3 bg-dark-900 border-2 border-gray-700 rounded-lg text-white focus:border-primary-600 focus:outline-none transition-colors",placeholder:"John Smith"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-300 mb-2",children:"Email Address *"}),o.jsx("input",{type:"email",required:!0,value:t.email,onChange:n=>e({...t,email:n.target.value}),className:"w-full px-4 py-3 bg-dark-900 border-2 border-gray-700 rounded-lg text-white focus:border-primary-600 focus:outline-none transition-colors",placeholder:"john@promotion.com"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-300 mb-2",children:"Organization"}),o.jsx("input",{type:"text",value:t.organization,onChange:n=>e({...t,organization:n.target.value}),className:"w-full px-4 py-3 bg-dark-900 border-2 border-gray-700 rounded-lg text-white focus:border-primary-600 focus:outline-none transition-colors",placeholder:"Your promotion / gym name"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-300 mb-2",children:"Message *"}),o.jsx("textarea",{required:!0,rows:5,value:t.message,onChange:n=>e({...t,message:n.target.value}),className:"w-full px-4 py-3 bg-dark-900 border-2 border-gray-700 rounded-lg text-white focus:border-primary-600 focus:outline-none transition-colors resize-none",placeholder:"Tell us about your event or what you're looking for..."})]}),o.jsxs("button",{type:"submit",className:"w-full flex items-center justify-center gap-2 px-6 py-4 bg-primary-600 hover:bg-primary-700 text-white font-bold rounded-lg transition-all hover:scale-[1.02] text-lg",children:[o.jsx(lY,{className:"w-5 h-5"}),"Send Message"]})]})]})}),o.jsxs(Kr.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6},className:"space-y-6",children:[o.jsxs("div",{className:"bg-dark-800 border border-gray-700 rounded-xl p-6 sm:p-8",children:[o.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:"Direct Contact"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("a",{href:"mailto:info@fitfocusmedia.com.au",className:"flex items-center gap-4 p-4 bg-dark-900 rounded-lg hover:bg-primary-600/10 border border-gray-700 hover:border-primary-600/50 transition-all group",children:[o.jsx("div",{className:"w-12 h-12 bg-primary-600/20 rounded-lg flex items-center justify-center",children:o.jsx(hf,{className:"w-6 h-6 text-primary-500"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-white font-semibold",children:"Email"}),o.jsx("p",{className:"text-gray-400 text-sm group-hover:text-primary-400 transition-colors",children:"info@fitfocusmedia.com.au"})]})]}),o.jsxs("div",{className:"flex items-center gap-4 p-4 bg-dark-900 rounded-lg border border-gray-700",children:[o.jsx("div",{className:"w-12 h-12 bg-primary-600/20 rounded-lg flex items-center justify-center",children:o.jsx(Vf,{className:"w-6 h-6 text-primary-500"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-white font-semibold",children:"Location"}),o.jsx("p",{className:"text-gray-400 text-sm",children:"Queensland, Australia"}),o.jsx("p",{className:"text-gray-500 text-xs",children:"Servicing events Australia-wide + International"})]})]})]})]}),o.jsxs("div",{className:"bg-dark-800 border border-gray-700 rounded-xl p-6 sm:p-8",children:[o.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:"Quick Actions"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("a",{href:"mailto:info@fitfocusmedia.com.au?subject=Consultation Request&body=Hi Brandon,%0D%0A%0D%0AI'd like to schedule a consultation to discuss media production for my event.%0D%0A%0D%0APlease send me your available times.%0D%0A%0D%0AThanks!",className:"flex items-center gap-3 p-4 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-all hover:scale-[1.02] group",children:[o.jsx(fd,{className:"w-6 h-6 group-hover:rotate-12 transition-transform"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-bold",children:"Request a Consultation"}),o.jsx("p",{className:"text-sm text-blue-100",children:"Free 30-min call to discuss your needs"})]})]}),o.jsxs(Ks,{to:"/proposal",className:"flex items-center gap-3 p-4 bg-primary-600 hover:bg-primary-700 text-white rounded-lg transition-all hover:scale-[1.02] group",children:[o.jsx(uf,{className:"w-6 h-6 group-hover:translate-x-1 transition-transform"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-bold",children:"Get Your Free Analysis"}),o.jsx("p",{className:"text-sm text-primary-100",children:"2-minute form, instant results"})]})]})]})]}),o.jsxs("div",{className:"bg-dark-800 border border-gray-700 rounded-xl p-6 sm:p-8",children:[o.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Follow Us"}),o.jsx("div",{className:"flex gap-3",children:[{icon:AN,label:"Instagram",href:"#"},{icon:dY,label:"YouTube",href:"#"},{icon:i_,label:"Facebook",href:"#"}].map(n=>o.jsxs("a",{href:n.href,className:"flex items-center gap-2 px-4 py-3 bg-dark-900 border border-gray-700 rounded-lg hover:border-primary-600/50 hover:bg-primary-600/10 transition-all",children:[o.jsx(n.icon,{className:"w-5 h-5 text-gray-400"}),o.jsx("span",{className:"text-gray-300 text-sm font-semibold",children:n.label})]},n.label))})]}),o.jsxs("div",{className:"p-5 bg-green-900/20 border border-green-600/40 rounded-xl",children:[o.jsx("p",{className:"text-green-300 font-semibold text-sm mb-1",children:" Fast Response"}),o.jsx("p",{className:"text-gray-400 text-sm",children:"We typically respond within 24 hours. For urgent event inquiries, mention your event date in the subject line."})]})]})]})})})]})};function xRe(){return k.useEffect(()=>{const t=document.createElement("script");return t.src="https://static.zcal.co/embed/v1/embed.js",t.async=!0,document.body.appendChild(t),()=>{const e=document.querySelector('script[src="https://static.zcal.co/embed/v1/embed.js"]');e&&e.remove()}},[]),o.jsx("div",{className:"min-h-screen bg-dark-950 pt-24 pb-16",children:o.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:[o.jsx("span",{className:"text-white",children:"Book a "}),o.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-primary-400 to-accent-400",children:"Meeting"})]}),o.jsx("p",{className:"text-xl text-gray-400 max-w-2xl mx-auto",children:"Schedule a call with Brandon to discuss your event media needs. Choose a time that works for you."})]}),o.jsx("div",{className:"bg-dark-900/50 backdrop-blur-sm rounded-2xl border border-dark-800 p-4 md:p-8",children:o.jsx("div",{className:"zcal-inline-widget w-full",style:{minHeight:"700px"},children:o.jsx("a",{href:"https://zcal.co/i/tG0dicG9",children:"Project Enquiry - Schedule a meeting"})})}),o.jsx("div",{className:"mt-8 text-center",children:o.jsxs("p",{className:"text-gray-500 text-sm",children:["Can't find a suitable time?"," ",o.jsx("a",{href:"mailto:info@fitfocusmedia.com.au",className:"text-primary-400 hover:text-primary-300 transition-colors",children:"Email us directly"})]})})]})})}const Gh=({value:t,prefix:e="",suffix:r="",decimals:n=0})=>{const i=yge(0,{damping:50,stiffness:100}),s=qq(i,a=>e+a.toFixed(n).replace(/\B(?=(\d{3})+(?!\d))/g,",")+r);return k.useEffect(()=>{i.set(t)},[i,t]),o.jsx(Kr.span,{children:s})},bRe=()=>{const[t,e]=k.useState(4),[r,n]=k.useState(30),[i,s]=k.useState(50),[a,c]=k.useState(300),[u,l]=k.useState(!1),[d,f]=k.useState(2e3),A=24.99,p=r*.15*350*t,v=r*.25*175*t,y=r*.05*899,x=p+v+y,w=a*1.5,E=w*A,T=E*t,C=T*.7,j=d*.2*t,P=x+C+j,U=d*t,W=U+P,q=[{name:"Without FFM",Sponsorship:d*t,"Athlete Packages":0,"PPV Revenue":0,"Sponsorship Uplift":0},{name:"With FFM",Sponsorship:d*t,"Athlete Packages":x,"PPV Revenue":C,"Sponsorship Uplift":j}],re={Sponsorship:"#6b7280","Athlete Packages":"#22c55e","PPV Revenue":"#10b981","Sponsorship Uplift":"#14b8a6"};return o.jsx("div",{className:"py-12 px-4 sm:px-6",children:o.jsxs("div",{className:"max-w-5xl mx-auto",children:[o.jsxs(Kr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-16",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary-600/20 rounded-2xl mb-6",children:o.jsx(ZW,{className:"w-8 h-8 text-primary-500"})}),o.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-black mb-4",children:o.jsx("span",{className:"text-gradient",children:"Revenue Calculator"})}),o.jsx("p",{className:"text-lg sm:text-xl text-gray-400 max-w-2xl mx-auto",children:"See how much your events could generate with professional media coverage"})]}),o.jsxs(Kr.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-dark-800 border border-gray-700 rounded-2xl p-6 sm:p-8 mb-8",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx("div",{className:"w-10 h-10 bg-primary-600/20 rounded-xl flex items-center justify-center",children:o.jsx("span",{className:"text-xl font-black text-primary-500",children:"1"})}),o.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Your Event Details"})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"flex justify-between text-sm font-semibold text-gray-300 mb-3",children:[o.jsx("span",{children:"Number of events per year"}),o.jsxs("span",{className:"text-primary-400",children:[t," events"]})]}),o.jsx("input",{type:"range",min:"1",max:"24",value:t,onChange:ie=>e(Number(ie.target.value)),className:"w-full h-2 bg-dark-700 rounded-lg appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-5 [&::-webkit-slider-thumb]:h-5 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-primary-500 [&::-webkit-slider-thumb]:cursor-pointer [&::-moz-range-thumb]:w-5 [&::-moz-range-thumb]:h-5 [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:bg-primary-500 [&::-moz-range-thumb]:border-0 [&::-moz-range-thumb]:cursor-pointer"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"flex justify-between text-sm font-semibold text-gray-300 mb-3",children:[o.jsx("span",{children:"Average athletes per event"}),o.jsxs("span",{className:"text-primary-400",children:[r," athletes"]})]}),o.jsx("input",{type:"range",min:"10",max:"100",value:r,onChange:ie=>n(Number(ie.target.value)),className:"w-full h-2 bg-dark-700 rounded-lg appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-5 [&::-webkit-slider-thumb]:h-5 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-primary-500 [&::-webkit-slider-thumb]:cursor-pointer [&::-moz-range-thumb]:w-5 [&::-moz-range-thumb]:h-5 [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:bg-primary-500 [&::-moz-range-thumb]:border-0 [&::-moz-range-thumb]:cursor-pointer"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-300 mb-3",children:"Average ticket price"}),o.jsxs("div",{className:"relative",children:[o.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:"$"}),o.jsx("input",{type:"number",min:"0",value:i,onChange:ie=>s(Number(ie.target.value)),className:"w-full bg-dark-700 border border-gray-600 rounded-lg px-10 py-3 text-white focus:outline-none focus:border-primary-500 transition-colors"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"flex justify-between text-sm font-semibold text-gray-300 mb-3",children:[o.jsx("span",{children:"Average attendees per event"}),o.jsxs("span",{className:"text-primary-400",children:[a," people"]})]}),o.jsx("input",{type:"range",min:"50",max:"2000",step:"50",value:a,onChange:ie=>c(Number(ie.target.value)),className:"w-full h-2 bg-dark-700 rounded-lg appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-5 [&::-webkit-slider-thumb]:h-5 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-primary-500 [&::-webkit-slider-thumb]:cursor-pointer [&::-moz-range-thumb]:w-5 [&::-moz-range-thumb]:h-5 [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:bg-primary-500 [&::-moz-range-thumb]:border-0 [&::-moz-range-thumb]:cursor-pointer"})]}),o.jsx("div",{children:o.jsxs("label",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm font-semibold text-gray-300",children:"Do you currently livestream?"}),o.jsx("button",{onClick:()=>l(!u),className:`relative inline-flex h-7 w-12 items-center rounded-full transition-colors ${u?"bg-primary-600":"bg-dark-600"}`,children:o.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white transition-transform ${u?"translate-x-6":"translate-x-1"}`})})]})}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-300 mb-3",children:"Current sponsorship revenue per event"}),o.jsxs("div",{className:"relative",children:[o.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:"$"}),o.jsx("input",{type:"number",min:"0",value:d,onChange:ie=>f(Number(ie.target.value)),className:"w-full bg-dark-700 border border-gray-600 rounded-lg px-10 py-3 text-white focus:outline-none focus:border-primary-500 transition-colors"})]})]})]})]}),o.jsxs(Kr.section,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1},className:"bg-dark-800 border border-gray-700 rounded-2xl p-6 sm:p-8 mb-8",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx("div",{className:"w-10 h-10 bg-primary-600/20 rounded-xl flex items-center justify-center",children:o.jsx("span",{className:"text-xl font-black text-primary-500",children:"2"})}),o.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Revenue Projections"})]}),o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(Hb,{className:"w-5 h-5 text-primary-500"}),o.jsx("h3",{className:"text-xl font-bold text-white",children:"A) Athlete Media Packages"})]}),o.jsxs("div",{className:"space-y-3 pl-7",children:[o.jsxs("div",{className:"flex justify-between items-center text-sm",children:[o.jsx("span",{className:"text-gray-400",children:"VIP Package ($350)  15% uptake"}),o.jsxs("span",{className:"text-green-400 font-semibold",children:["$",o.jsx(Gh,{value:p,decimals:0})]})]}),o.jsxs("div",{className:"flex justify-between items-center text-sm",children:[o.jsx("span",{className:"text-gray-400",children:"Match Package ($175)  25% uptake"}),o.jsxs("span",{className:"text-green-400 font-semibold",children:["$",o.jsx(Gh,{value:v,decimals:0})]})]}),o.jsxs("div",{className:"flex justify-between items-center text-sm",children:[o.jsx("span",{className:"text-gray-400",children:"Season Pass ($899/yr)  5% uptake"}),o.jsxs("span",{className:"text-green-400 font-semibold",children:["$",o.jsx(Gh,{value:y,decimals:0})]})]}),o.jsx("div",{className:"border-t border-gray-700 pt-3 mt-3",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"font-bold text-white",children:"Total Athlete Revenue"}),o.jsxs("span",{className:"text-2xl font-black text-green-400",children:["$",o.jsx(Gh,{value:x,decimals:0})]})]})})]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(Im,{className:"w-5 h-5 text-primary-500"}),o.jsx("h3",{className:"text-xl font-bold text-white",children:"B) PPV/Live Streaming"})]}),!u&&o.jsx("div",{className:"bg-amber-900/20 border border-amber-700/50 rounded-lg p-4 mb-4 ml-7",children:o.jsx("p",{className:"text-amber-300 text-sm font-semibold",children:" You're leaving money on the table  streaming could add significant revenue"})}),o.jsxs("div",{className:"space-y-3 pl-7",children:[o.jsxs("div",{className:"flex justify-between items-center text-sm",children:[o.jsx("span",{className:"text-gray-400",children:"PPV viewers per event (attendees  1.5)"}),o.jsxs("span",{className:"text-gray-300 font-semibold",children:[o.jsx(Gh,{value:w,decimals:0})," viewers"]})]}),o.jsxs("div",{className:"flex justify-between items-center text-sm",children:[o.jsx("span",{className:"text-gray-400",children:"PPV price"}),o.jsxs("span",{className:"text-gray-300 font-semibold",children:["$",A]})]}),o.jsxs("div",{className:"flex justify-between items-center text-sm",children:[o.jsx("span",{className:"text-gray-400",children:"Revenue per event"}),o.jsxs("span",{className:"text-green-400 font-semibold",children:["$",o.jsx(Gh,{value:E,decimals:0})]})]}),o.jsxs("div",{className:"flex justify-between items-center text-sm",children:[o.jsx("span",{className:"text-gray-400",children:"Annual PPV revenue"}),o.jsxs("span",{className:"text-green-400 font-semibold",children:["$",o.jsx(Gh,{value:T,decimals:0})]})]}),o.jsx("div",{className:"bg-dark-700/50 border border-gray-600 rounded-lg p-3 my-3",children:o.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"FFM handles all production. Revenue shared 70/30 (70% to you)"})}),o.jsx("div",{className:"border-t border-gray-700 pt-3 mt-3",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"font-bold text-white",children:"Your PPV Revenue (70% share)"}),o.jsxs("span",{className:"text-2xl font-black text-green-400",children:["$",o.jsx(Gh,{value:C,decimals:0})]})]})})]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(s_,{className:"w-5 h-5 text-primary-500"}),o.jsx("h3",{className:"text-xl font-bold text-white",children:"C) Sponsorship Uplift"})]}),o.jsxs("div",{className:"space-y-3 pl-7",children:[o.jsx("p",{className:"text-sm text-gray-400 mb-3",children:"Professional media coverage attracts bigger sponsors. Estimated 20% increase in sponsorship value."}),o.jsxs("div",{className:"flex justify-between items-center text-sm",children:[o.jsx("span",{className:"text-gray-400",children:"Current annual sponsorship"}),o.jsxs("span",{className:"text-gray-300 font-semibold",children:["$",o.jsx(Gh,{value:d*t,decimals:0})]})]}),o.jsx("div",{className:"border-t border-gray-700 pt-3 mt-3",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"font-bold text-white",children:"Additional Sponsorship (20% uplift)"}),o.jsxs("span",{className:"text-2xl font-black text-green-400",children:["$",o.jsx(Gh,{value:j,decimals:0})]})]})})]})]})]})]}),o.jsxs(Kr.section,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.2},className:"bg-gradient-to-br from-green-900/30 to-emerald-900/30 border-2 border-green-600/50 rounded-2xl p-6 sm:p-8 mb-8",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx("div",{className:"w-10 h-10 bg-green-600/30 rounded-xl flex items-center justify-center",children:o.jsx("span",{className:"text-xl font-black text-green-400",children:"3"})}),o.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"The Bottom Line"})]}),o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("p",{className:"text-gray-300 mb-3 text-lg",children:"Total Additional Annual Revenue"}),o.jsxs("div",{className:"text-5xl sm:text-6xl md:text-7xl font-black text-green-400 mb-2",children:["$",o.jsx(Gh,{value:P,decimals:0})]}),o.jsx("p",{className:"text-sm text-gray-400",children:"= Athlete Packages + Your PPV Share + Sponsorship Uplift"})]}),o.jsxs("div",{className:"bg-dark-900/50 rounded-xl p-4 sm:p-6 mb-6",children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-4 text-center",children:"Revenue Comparison"}),o.jsx(LC,{width:"100%",height:300,children:o.jsxs(Jte,{data:q,margin:{top:20,right:20,left:20,bottom:20},children:[o.jsx(Ite,{strokeDasharray:"3 3",stroke:"#374151"}),o.jsx(pM,{dataKey:"name",stroke:"#9ca3af"}),o.jsx(gM,{stroke:"#9ca3af",tickFormatter:ie=>`$${(ie/1e3).toFixed(0)}k`}),o.jsx(DTe,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px",color:"#f3f4f6"},formatter:ie=>`$${ie.toLocaleString()}`}),o.jsx(IZ,{}),o.jsx(zx,{dataKey:"Sponsorship",stackId:"a",fill:re.Sponsorship,radius:[0,0,0,0]}),o.jsx(zx,{dataKey:"Athlete Packages",stackId:"a",fill:re["Athlete Packages"],radius:[0,0,0,0]}),o.jsx(zx,{dataKey:"PPV Revenue",stackId:"a",fill:re["PPV Revenue"],radius:[0,0,0,0]}),o.jsx(zx,{dataKey:"Sponsorship Uplift",stackId:"a",fill:re["Sponsorship Uplift"],radius:[8,8,0,0]})]})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"bg-dark-800/50 rounded-lg p-4 text-center",children:[o.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Without FFM"}),o.jsxs("p",{className:"text-2xl font-bold text-gray-300",children:["$",o.jsx(Gh,{value:U,decimals:0})]})]}),o.jsxs("div",{className:"bg-green-900/30 border border-green-600/50 rounded-lg p-4 text-center",children:[o.jsx("p",{className:"text-sm text-green-300 mb-1",children:"With FFM"}),o.jsxs("p",{className:"text-2xl font-bold text-green-400",children:["$",o.jsx(Gh,{value:W,decimals:0})]})]})]})]}),o.jsxs(Kr.section,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.3},className:"bg-dark-800 border border-gray-700 rounded-2xl p-6 sm:p-8 mb-8 text-center",children:[o.jsx(k0,{className:"w-12 h-12 text-primary-500 mx-auto mb-4"}),o.jsx("h3",{className:"text-3xl sm:text-4xl font-black text-white mb-3",children:"FFM Cost to You: $0"}),o.jsx("p",{className:"text-gray-400 mb-4 max-w-2xl mx-auto",children:"We earn from production fees and a share of the revenue we help generate"}),o.jsxs("div",{className:"inline-flex items-center gap-2 px-6 py-3 bg-green-900/30 border border-green-600/50 rounded-lg",children:[o.jsx(fy,{className:"w-5 h-5 text-green-400"}),o.jsx("span",{className:"text-green-300 font-semibold",children:"No risk. No upfront cost. Just results."})]})]}),o.jsxs(Kr.section,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.4},className:"text-center",children:[o.jsx("h3",{className:"text-2xl sm:text-3xl font-bold text-white mb-6",children:"Ready to unlock this revenue?"}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[o.jsxs(Ks,{to:"/proposal",className:"group inline-flex items-center justify-center gap-3 px-8 py-4 bg-primary-600 hover:bg-primary-700 text-white font-black rounded-lg text-lg transition-all hover:scale-105 card-glow",children:["Get Your Free Event Analysis",o.jsx(uf,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]}),o.jsx(Ks,{to:"/contact",className:"inline-flex items-center justify-center gap-3 px-8 py-4 bg-white/10 hover:bg-white/20 backdrop-blur-sm text-white font-bold rounded-lg text-lg transition-all border border-white/20 hover:border-white/40",children:"Contact Us"})]}),o.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"Takes 2 minutes  No commitment required"})]})]})})},RL=[{id:"nba-sydney-nationals-day1-2026",name:"NBA Sydney Nationals Day 1",date:"2026-02-07"},{id:"nba-sydney-nationals-day2-2026",name:"NBA Sydney Nationals Day 2",date:"2026-02-08"}],wRe=["Bikini","Wellness","Figure","Physique","Bodybuilding","Classic Physique","Sports Model","Fitness Model","Transformation","First Timers","Masters","Other"],ERe=[{id:"iwalk",name:"I-Walk Video",price:250,description:"Your complete walk-on stage moment"},{id:"highlight",name:"Highlight Reel",price:500,description:"Fully edited cinematic highlight"},{id:"combo",name:"Combo Pack",price:700,description:"I-Walk + Highlight Reel",savings:50}],_Re=(t,e)=>t<=1?{total:e,savings:0}:t===2?{total:e*2-50,savings:50}:{total:e*t-100,savings:100},SRe=()=>{const[t]=fN(),[e,r]=k.useState(1),[n,i]=k.useState(!1),[s,a]=k.useState(!1);k.useEffect(()=>{t.get("success")==="true"&&(i(!0),window.history.replaceState({},"",window.location.pathname)),t.get("canceled")==="true"&&(a(!0),window.history.replaceState({},"",window.location.pathname))},[t]);const[c,u]=k.useState({selectedPackage:null,selectedEvents:[],firstName:"",lastName:"",email:"",phone:"",divisions:[],instagram:"",coachName:"",coachInstagram:"",referenceImage:null,referenceImagePreview:null}),[l,d]=k.useState(!1),f=k.useRef(null),A=k.useRef(null),[p,v]=k.useState(!1),[y,x]=k.useState(!1),[w,E]=k.useState(null),[T,C]=k.useState(null);k.useEffect(()=>{T&&f.current&&(f.current.srcObject=T,f.current.play().then(()=>x(!1)).catch(()=>x(!1)))},[T,p]),k.useEffect(()=>()=>{T&&T.getTracks().forEach(ge=>ge.stop())},[T]);const j=c.selectedPackage?_Re(c.selectedEvents.length,c.selectedPackage.price):{total:0,savings:0},P=(ge,se)=>{u(xe=>({...xe,[ge]:se}))},U=ge=>{u(se=>({...se,selectedEvents:se.selectedEvents.includes(ge)?se.selectedEvents.filter(xe=>xe!==ge):[...se.selectedEvents,ge]}))},W=ge=>{u(se=>({...se,divisions:se.divisions.includes(ge)?se.divisions.filter(xe=>xe!==ge):[...se.divisions,ge]}))},q=async()=>{try{E(null),x(!0),v(!0);const ge=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user",width:{ideal:640},height:{ideal:480}}});C(ge)}catch(ge){console.error("Camera error:",ge),v(!1),x(!1),E("Unable to access camera. Please upload a photo instead.")}},re=()=>{if(f.current&&A.current){const ge=f.current,se=A.current;se.width=ge.videoWidth,se.height=ge.videoHeight,se.getContext("2d").drawImage(ge,0,0);const xe=se.toDataURL("image/jpeg",.8);P("referenceImage",xe),P("referenceImagePreview",xe),T&&(T.getTracks().forEach(ce=>ce.stop()),C(null)),v(!1)}},ie=ge=>{const se=ge.target.files[0];if(se){const xe=new FileReader;xe.onloadend=()=>{P("referenceImage",xe.result),P("referenceImagePreview",xe.result)},xe.readAsDataURL(se)}},Ae=async()=>{d(!0);try{const ge=c.selectedEvents.map(we=>RL.find(ue=>ue.id===we)?.name).join(", "),se=await qPe({first_name:c.firstName,last_name:c.lastName,email:c.email,phone:c.phone,divisions:c.divisions,instagram:c.instagram,coach_name:c.coachName,coach_instagram:c.coachInstagram,show_name:ge,reference_image_url:c.referenceImage,package_type:c.selectedPackage.id,amount_paid:j.total,order_status:"pending"}),ce=await fetch("https://scarlet-sales-api-vercel.vercel.app/api/create-checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({packageId:c.selectedPackage.id,showCount:c.selectedEvents.length,showNames:ge,customerEmail:c.email,customerName:`${c.firstName} ${c.lastName}`,metadata:{orderId:se.id,instagram:c.instagram,divisions:c.divisions.join(", "),coachName:c.coachName,coachInstagram:c.coachInstagram}})}),{url:Me,error:Oe}=await ce.json();if(Oe)throw new Error(Oe);window.location.href=Me}catch(ge){console.error("Order error:",ge),alert("Error creating order. Please try again."),d(!1)}},be=()=>{switch(e){case 1:return c.selectedPackage&&c.selectedEvents.length>0;case 2:return c.firstName&&c.lastName&&c.email&&c.phone&&c.divisions.length>0&&c.instagram&&c.coachName&&c.coachInstagram;case 3:return c.referenceImage;default:return!0}};if(n)return o.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center p-4 pt-24",children:o.jsxs("div",{className:"bg-dark-900 rounded-2xl p-8 max-w-md w-full text-center border border-gray-800",children:[o.jsx("div",{className:"w-20 h-20 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx("svg",{className:"w-10 h-10 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),o.jsx("h2",{className:"text-3xl font-bold text-white mb-3",children:"Payment Successful!"}),o.jsx("p",{className:"text-gray-400 mb-6",children:"Thanks for your order! We'll find your footage and start editing. You'll receive a confirmation email shortly."}),o.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"Delivery: 5-7 business days"}),o.jsx(Ks,{to:"/",className:"inline-block px-8 py-3 bg-primary-600 text-white rounded-lg font-medium hover:bg-primary-700",children:"Back to Home"})]})});if(s)return o.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center p-4 pt-24",children:o.jsxs("div",{className:"bg-dark-900 rounded-2xl p-8 max-w-md w-full text-center border border-gray-800",children:[o.jsx("div",{className:"w-20 h-20 bg-yellow-500/20 rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx("span",{className:"text-4xl",children:""})}),o.jsx("h2",{className:"text-2xl font-bold text-white mb-3",children:"Payment Canceled"}),o.jsx("p",{className:"text-gray-400 mb-6",children:"No worries  your order wasn't charged. You can try again whenever you're ready."}),o.jsx("button",{onClick:()=>a(!1),className:"px-8 py-3 bg-primary-600 text-white rounded-lg font-medium hover:bg-primary-700",children:"Try Again"})]})});const Ee=["Package & Shows","Your Info","Photo","Checkout"];return o.jsxs("div",{className:"min-h-screen bg-dark-950 pt-24 pb-12",children:[o.jsxs("div",{className:"max-w-4xl mx-auto px-4 mb-8 text-center",children:[o.jsx("div",{className:"inline-block mb-4 px-4 py-2 bg-primary-600/10 border border-primary-500/30 rounded-full text-primary-400 text-sm font-medium",children:"NBA Sydney Nationals 2026  Pre-Order Your Footage"}),o.jsxs("h1",{className:"text-4xl md:text-5xl font-black text-white mb-4",children:["Athlete ",o.jsx("span",{className:"text-gradient",children:"Content Order"})]}),o.jsx("p",{className:"text-gray-400 text-lg max-w-2xl mx-auto",children:"Professional multi-angle coverage, cinematic editing, ready for social media."})]}),o.jsxs("div",{className:"max-w-lg mx-auto px-4 mb-6",children:[o.jsx("div",{className:"flex items-center justify-between",children:Ee.map((ge,se)=>o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold ${e>se+1?"bg-green-500 text-white":e===se+1?"bg-primary-600 text-white":"bg-dark-800 text-gray-500"}`,children:e>se+1?"":se+1}),se<Ee.length-1&&o.jsx("div",{className:`w-8 sm:w-16 h-0.5 mx-1 ${e>se+1?"bg-green-500":"bg-dark-800"}`})]},se))}),o.jsx("div",{className:"flex justify-between mt-2 text-xs text-gray-500",children:Ee.map((ge,se)=>o.jsx("span",{className:"text-center w-16",children:ge},se))})]}),o.jsx("div",{className:"max-w-lg mx-auto px-4",children:o.jsxs("div",{className:"bg-dark-900 rounded-2xl p-6 border border-gray-800",children:[e===1&&o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Select Package & Shows"}),o.jsx("p",{className:"text-gray-400 text-sm mb-3",children:"Package Type"}),o.jsx("div",{className:"space-y-3 mb-6",children:ERe.map(ge=>{const se=c.selectedPackage?.id===ge.id;return o.jsx("button",{onClick:()=>P("selectedPackage",ge),className:`w-full p-4 rounded-xl border-2 text-left transition-all ${se?"border-primary-500 bg-primary-600/10":"border-gray-800 hover:border-gray-700"}`,children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-white",children:ge.name}),o.jsx("p",{className:"text-sm text-gray-500",children:ge.description}),ge.savings&&o.jsxs("span",{className:"text-xs text-green-400",children:["Save $",ge.savings]})]}),o.jsxs("p",{className:"text-xl font-bold text-white",children:["$",ge.price]})]})},ge.id)})}),o.jsx("p",{className:"text-gray-400 text-sm mb-3",children:"Which shows did you compete in?"}),o.jsx("div",{className:"space-y-3 mb-6",children:RL.map(ge=>{const se=c.selectedEvents.includes(ge.id);return o.jsx("button",{onClick:()=>U(ge.id),className:`w-full p-4 rounded-xl border-2 text-left transition-all ${se?"border-primary-500 bg-primary-600/10":"border-gray-800 hover:border-gray-700"}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-white",children:ge.name}),o.jsx("p",{className:"text-sm text-gray-500",children:ge.date})]}),o.jsx("div",{className:`w-6 h-6 rounded border-2 flex items-center justify-center ${se?"border-primary-500 bg-primary-600":"border-gray-600"}`,children:se&&o.jsx("span",{className:"text-white text-xs",children:""})})]})},ge.id)})}),c.selectedPackage&&c.selectedEvents.length>0&&o.jsx("div",{className:"bg-dark-800/50 rounded-xl p-4",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsxs("p",{className:"text-white font-medium",children:[c.selectedPackage.name,"  ",c.selectedEvents.length," show",c.selectedEvents.length>1?"s":""]}),j.savings>0&&o.jsxs("p",{className:"text-green-400 text-sm",children:["Multi-show discount: Save $",j.savings,"!"]})]}),o.jsxs("p",{className:"text-2xl font-bold text-white",children:["$",j.total]})]})})]}),e===2&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Your Details"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"First Name *"}),o.jsx("input",{type:"text",value:c.firstName,onChange:ge=>P("firstName",ge.target.value),className:"w-full px-4 py-3 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Last Name *"}),o.jsx("input",{type:"text",value:c.lastName,onChange:ge=>P("lastName",ge.target.value),className:"w-full px-4 py-3 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary-500"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Email *"}),o.jsx("input",{type:"email",value:c.email,onChange:ge=>P("email",ge.target.value),className:"w-full px-4 py-3 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Phone *"}),o.jsx("input",{type:"tel",value:c.phone,onChange:ge=>P("phone",ge.target.value),placeholder:"0412 345 678",className:"w-full px-4 py-3 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Instagram Handle *"}),o.jsxs("div",{className:"relative",children:[o.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",children:"@"}),o.jsx("input",{type:"text",value:c.instagram,onChange:ge=>P("instagram",ge.target.value.replace("@","")),placeholder:"yourhandle",className:"w-full pl-8 pr-4 py-3 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary-500"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Coach's Name *"}),o.jsx("input",{type:"text",value:c.coachName,onChange:ge=>P("coachName",ge.target.value),placeholder:"Coach name",className:"w-full px-4 py-3 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Coach's Instagram *"}),o.jsxs("div",{className:"relative",children:[o.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",children:"@"}),o.jsx("input",{type:"text",value:c.coachInstagram,onChange:ge=>P("coachInstagram",ge.target.value.replace("@","")),placeholder:"coachhandle",className:"w-full pl-8 pr-4 py-3 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary-500"})]})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm text-gray-400 mb-2",children:["Divisions * ",o.jsx("span",{className:"text-gray-600",children:"(select all that apply)"})]}),o.jsx("div",{className:"grid grid-cols-2 gap-2",children:wRe.map(ge=>{const se=c.divisions.includes(ge);return o.jsxs("button",{type:"button",onClick:()=>W(ge),className:`px-3 py-2 rounded-lg text-sm text-left transition-all ${se?"bg-primary-600/20 border-2 border-primary-500 text-white":"bg-dark-800 border-2 border-gray-700 text-gray-400 hover:border-gray-600"}`,children:[se&&o.jsx("span",{className:"mr-1",children:""}),ge]},ge)})})]})]}),e===3&&o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Reference Photo"}),o.jsx("p",{className:"text-gray-500 mb-6",children:"We use AI to find you in the footage"}),c.referenceImagePreview?o.jsxs("div",{className:"text-center",children:[o.jsx("img",{src:c.referenceImagePreview,alt:"Reference",className:"w-40 h-40 object-cover rounded-xl mx-auto border-2 border-primary-500 mb-4"}),o.jsx("button",{onClick:()=>{P("referenceImage",null),P("referenceImagePreview",null)},className:"text-primary-400 text-sm",children:"Choose different photo"})]}):o.jsx("div",{className:"space-y-4",children:p?o.jsxs("div",{className:"text-center",children:[y&&o.jsx("div",{className:"w-full max-w-xs mx-auto h-60 rounded-xl border border-gray-700 bg-dark-800 flex items-center justify-center mb-4",children:o.jsx("span",{className:"text-gray-400",children:"Loading camera..."})}),o.jsx("video",{ref:f,autoPlay:!0,playsInline:!0,muted:!0,style:{width:"100%",maxWidth:"320px",height:"auto",minHeight:"240px",display:y?"none":"block"},className:"mx-auto rounded-xl border border-gray-700 bg-dark-800"}),o.jsx("canvas",{ref:A,className:"hidden"}),o.jsxs("div",{className:"flex gap-3 justify-center mt-4",children:[o.jsx("button",{onClick:()=>{T&&(T.getTracks().forEach(ge=>ge.stop()),C(null)),v(!1),x(!1)},className:"px-6 py-3 bg-gray-700 text-white rounded-lg font-medium",children:"Cancel"}),o.jsx("button",{onClick:re,className:"px-8 py-3 bg-primary-600 text-white rounded-lg font-medium",children:" Capture"})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:q,className:"w-full py-8 bg-dark-800 border-2 border-dashed border-gray-700 rounded-xl text-gray-400 hover:border-primary-500 hover:text-white transition-colors flex flex-col items-center gap-2",children:[o.jsx("span",{className:"text-4xl",children:""}),o.jsx("span",{children:"Take a Selfie"})]}),w&&o.jsx("p",{className:"text-red-400 text-sm text-center",children:w}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"flex-1 h-px bg-dark-800"}),o.jsx("span",{className:"text-gray-600 text-sm",children:"or"}),o.jsx("div",{className:"flex-1 h-px bg-dark-800"})]}),o.jsxs("label",{className:"block w-full py-8 bg-dark-800 border-2 border-dashed border-gray-700 rounded-xl text-gray-400 hover:border-primary-500 hover:text-white transition-colors text-center cursor-pointer",children:[o.jsx("span",{className:"text-4xl block mb-2",children:""}),o.jsx("span",{children:"Upload Photo"}),o.jsx("input",{type:"file",accept:"image/*",onChange:ie,className:"hidden"})]})]})})]}),e===4&&o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Confirm Order"}),o.jsxs("div",{className:"space-y-4 mb-6",children:[o.jsxs("div",{className:"bg-dark-800/50 rounded-xl p-4",children:[o.jsx("p",{className:"text-gray-500 text-sm mb-2",children:"Package"}),o.jsx("p",{className:"text-white font-semibold",children:c.selectedPackage?.name}),o.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Shows:"}),c.selectedEvents.map(ge=>o.jsxs("p",{className:"text-white text-sm",children:[" ",RL.find(se=>se.id===ge)?.name]},ge))]}),o.jsxs("div",{className:"bg-dark-800/50 rounded-xl p-4 space-y-2",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-500",children:"Name"}),o.jsxs("span",{className:"text-white",children:[c.firstName," ",c.lastName]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-500",children:"Email"}),o.jsx("span",{className:"text-white text-sm",children:c.email})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-500",children:"Phone"}),o.jsx("span",{className:"text-white",children:c.phone})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-500",children:"Instagram"}),o.jsxs("span",{className:"text-white",children:["@",c.instagram]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-500",children:"Divisions"}),o.jsx("span",{className:"text-white text-right text-sm",children:c.divisions.join(", ")})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-500",children:"Coach"}),o.jsxs("span",{className:"text-white",children:[c.coachName," (@",c.coachInstagram,")"]})]})]}),c.referenceImagePreview&&o.jsxs("div",{className:"flex items-center gap-4 bg-dark-800/50 rounded-xl p-4",children:[o.jsx("img",{src:c.referenceImagePreview,alt:"Reference",className:"w-12 h-12 object-cover rounded-lg"}),o.jsx("span",{className:"text-gray-400 text-sm",children:"Reference photo "})]})]}),o.jsx("div",{className:"bg-primary-600/10 border border-primary-500/30 rounded-xl p-4 mb-4",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsxs("p",{className:"text-white font-semibold",children:[c.selectedPackage?.name,"  ",c.selectedEvents.length]}),j.savings>0&&o.jsxs("p",{className:"text-green-400 text-sm",children:["Saving $",j.savings]})]}),o.jsxs("p",{className:"text-3xl font-bold text-white",children:["$",j.total]})]})})]}),o.jsxs("div",{className:"flex gap-3 mt-6",children:[e>1&&o.jsx("button",{onClick:()=>r(e-1),className:"flex-1 py-3 bg-dark-800 text-white rounded-lg font-medium hover:bg-dark-700",children:"Back"}),e<4?o.jsx("button",{onClick:()=>r(e+1),disabled:!be(),className:`flex-1 py-3 rounded-lg font-medium ${be()?"bg-primary-600 text-white hover:bg-primary-700":"bg-dark-800 text-gray-600 cursor-not-allowed"}`,children:"Continue"}):o.jsx("button",{onClick:Ae,disabled:l,className:"flex-1 py-4 bg-green-500 text-white rounded-lg font-bold hover:bg-green-600 disabled:opacity-50 text-lg",children:l?"Processing...":`Pay $${j.total} AUD`})]})]})})]})};function TRe(){const[t,e]=k.useState([]),[r,n]=k.useState(!0);k.useEffect(()=>{i()},[]);async function i(){const{data:a,error:c}=await Jr.from("organizations").select("*").eq("active",!0).order("name");!c&&a&&e(a),n(!1)}const s=[{name:"Sarah M.",event:"NBA QLD State Titles",quote:"The highlight reel captured my stage moment perfectly. Worth every cent!",image:null},{name:"Jake T.",event:"WNG Championship",quote:"Professional quality footage that I use for all my social media. Highly recommend!",image:null},{name:"Michelle R.",event:"NBA Sydney Nationals",quote:"Finally have professional content of my competition. The team was amazing!",image:null}];return o.jsxs("div",{className:"min-h-screen bg-black text-white",children:[o.jsx("section",{className:"relative py-20 px-4",children:o.jsxs("div",{className:"max-w-6xl mx-auto text-center",children:[o.jsx("span",{className:"inline-block px-4 py-2 bg-red-600/20 text-red-500 rounded-full text-sm font-medium mb-6",children:"Professional Athlete Content"}),o.jsxs("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:["Capture Your ",o.jsx("span",{className:"text-red-500",children:"Moment"})]}),o.jsx("p",{className:"text-xl text-gray-400 max-w-3xl mx-auto mb-8",children:"Multi-angle coverage, cinematic editing, delivered ready for social media. We've captured thousands of athletes across bodybuilding, grappling, and combat sports."}),o.jsx("button",{onClick:()=>document.getElementById("select-org")?.scrollIntoView({behavior:"smooth"}),className:"inline-block px-8 py-4 bg-red-600 hover:bg-red-700 rounded-lg font-semibold text-lg transition-colors cursor-pointer",children:"Order Your Content "})]})}),o.jsx("section",{className:"py-16 px-4 bg-gray-900/50",children:o.jsxs("div",{className:"max-w-6xl mx-auto",children:[o.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"What You Get"}),o.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"bg-gray-800/50 p-6 rounded-xl border border-gray-700",children:[o.jsx("div",{className:"w-12 h-12 bg-red-600/20 rounded-lg flex items-center justify-center mb-4",children:o.jsx("svg",{className:"w-6 h-6 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),o.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Multi-Angle Coverage"}),o.jsx("p",{className:"text-gray-400",children:"Professional cameras capturing every angle of your performance"})]}),o.jsxs("div",{className:"bg-gray-800/50 p-6 rounded-xl border border-gray-700",children:[o.jsx("div",{className:"w-12 h-12 bg-red-600/20 rounded-lg flex items-center justify-center mb-4",children:o.jsx("svg",{className:"w-6 h-6 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 4V2a1 1 0 011-1h8a1 1 0 011 1v2m-9 0h10m-10 0a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V6a2 2 0 00-2-2"})})}),o.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Cinematic Editing"}),o.jsx("p",{className:"text-gray-400",children:"Color graded, music synced, ready to share highlight reels"})]}),o.jsxs("div",{className:"bg-gray-800/50 p-6 rounded-xl border border-gray-700",children:[o.jsx("div",{className:"w-12 h-12 bg-red-600/20 rounded-lg flex items-center justify-center mb-4",children:o.jsx("svg",{className:"w-6 h-6 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})})}),o.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Fast Delivery"}),o.jsx("p",{className:"text-gray-400",children:"Your content delivered digitally, typically within 2 weeks"})]})]})]})}),o.jsx("section",{className:"py-16 px-4",children:o.jsxs("div",{className:"max-w-6xl mx-auto",children:[o.jsx("h2",{className:"text-3xl font-bold text-center mb-4",children:"Athletes Love Their Content"}),o.jsx("p",{className:"text-gray-400 text-center mb-12",children:"Join thousands of athletes who've captured their moments"}),o.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:s.map((a,c)=>o.jsxs("div",{className:"bg-gray-800/30 p-6 rounded-xl border border-gray-700",children:[o.jsx("div",{className:"flex items-center gap-1 mb-4",children:[...Array(5)].map((u,l)=>o.jsx("svg",{className:"w-5 h-5 text-yellow-500",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},l))}),o.jsxs("p",{className:"text-gray-300 mb-4",children:['"',a.quote,'"']}),o.jsxs("div",{className:"text-sm",children:[o.jsx("span",{className:"font-semibold text-white",children:a.name}),o.jsxs("span",{className:"text-gray-500",children:["  ",a.event]})]})]},c))})]})}),o.jsx("section",{id:"select-org",className:"py-16 px-4 bg-gray-900/50",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsx("h2",{className:"text-3xl font-bold text-center mb-4",children:"Select Your Organization"}),o.jsx("p",{className:"text-gray-400 text-center mb-12",children:"Choose the federation or event organizer you competed with"}),r?o.jsx("div",{className:"text-center text-gray-400",children:"Loading organizations..."}):t.length===0?o.jsx("div",{className:"text-center text-gray-400",children:"No organizations available yet."}):o.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:t.map(a=>o.jsxs(Ks,{to:`/order/${a.slug}`,className:"flex items-center gap-4 p-6 bg-gray-800/50 hover:bg-gray-800 border border-gray-700 hover:border-red-500/50 rounded-xl transition-all group",children:[o.jsx("div",{className:"w-16 h-16 bg-gray-700 rounded-lg flex items-center justify-center text-2xl font-bold text-red-500",children:a.name.split(" ").map(c=>c[0]).join("").slice(0,3)}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-lg font-semibold group-hover:text-red-500 transition-colors",children:a.name}),a.description&&o.jsx("p",{className:"text-sm text-gray-400",children:a.description})]}),o.jsx("svg",{className:"w-6 h-6 text-gray-500 group-hover:text-red-500 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]},a.id))})]})}),o.jsx("section",{className:"py-16 px-4",children:o.jsxs("div",{className:"max-w-3xl mx-auto",children:[o.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"Frequently Asked Questions"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("details",{className:"bg-gray-800/30 rounded-xl border border-gray-700 p-4 group",children:[o.jsxs("summary",{className:"font-semibold cursor-pointer list-none flex justify-between items-center",children:["When will I receive my content?",o.jsx("span",{className:"text-gray-500 group-open:rotate-180 transition-transform",children:""})]}),o.jsx("p",{className:"mt-4 text-gray-400",children:"Content is typically delivered within 2 weeks of the event, depending on the package and event size."})]}),o.jsxs("details",{className:"bg-gray-800/30 rounded-xl border border-gray-700 p-4 group",children:[o.jsxs("summary",{className:"font-semibold cursor-pointer list-none flex justify-between items-center",children:["What's included in the highlight reel?",o.jsx("span",{className:"text-gray-500 group-open:rotate-180 transition-transform",children:""})]}),o.jsx("p",{className:"mt-4 text-gray-400",children:"A fully edited 60-90 second video featuring your best moments, color graded with music and transitions, optimized for social media."})]}),o.jsxs("details",{className:"bg-gray-800/30 rounded-xl border border-gray-700 p-4 group",children:[o.jsxs("summary",{className:"font-semibold cursor-pointer list-none flex justify-between items-center",children:["Can I order after the event?",o.jsx("span",{className:"text-gray-500 group-open:rotate-180 transition-transform",children:""})]}),o.jsx("p",{className:"mt-4 text-gray-400",children:"Yes! You can pre-order before the event or order afterwards. We capture all athletes at every event we cover."})]}),o.jsxs("details",{className:"bg-gray-800/30 rounded-xl border border-gray-700 p-4 group",children:[o.jsxs("summary",{className:"font-semibold cursor-pointer list-none flex justify-between items-center",children:["What if I competed in multiple shows?",o.jsx("span",{className:"text-gray-500 group-open:rotate-180 transition-transform",children:""})]}),o.jsx("p",{className:"mt-4 text-gray-400",children:"No problem! Select all the shows you competed in during checkout. Multi-show bundles may be available."})]})]})]})}),o.jsx("section",{className:"py-16 px-4 bg-gradient-to-b from-gray-900/50 to-black",children:o.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[o.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Ready to Get Your Content?"}),o.jsx("p",{className:"text-gray-400 mb-8",children:"Select your organization above to see available events and packages."}),o.jsx("button",{onClick:()=>document.getElementById("select-org")?.scrollIntoView({behavior:"smooth"}),className:"inline-block px-8 py-4 bg-red-600 hover:bg-red-700 rounded-lg font-semibold text-lg transition-colors cursor-pointer",children:"Select Organization "})]})})]})}const CRe="https://scarlet-sales-api-vercel.vercel.app";function jRe(){const{orgSlug:t}=Qm(),e=Mc();fN();const[r,n]=k.useState(null),[i,s]=k.useState([]),[a,c]=k.useState([]),[u,l]=k.useState(!0),[d,f]=k.useState(null),[A,p]=k.useState(()=>{const Pe=new URLSearchParams(window.location.search),st=window.location.hash;return Pe.get("success")==="true"||st.includes("success=true")}),[v,y]=k.useState(()=>{const Pe=new URLSearchParams(window.location.search),st=window.location.hash;return Pe.get("canceled")==="true"||st.includes("canceled=true")});k.useEffect(()=>{if(A||v){const Pe=window.location.origin+window.location.pathname+"#/order/"+t;window.history.replaceState({},"",Pe)}},[A,v,t]);const[x,w]=k.useState(1),[E,T]=k.useState(null),[C,j]=k.useState([]),[P,U]=k.useState({firstName:"",lastName:"",email:"",phone:"",divisions:[],instagram:"",coachName:"",coachInstagram:""}),[W,q]=k.useState(!1);k.useEffect(()=>{re()},[t]);async function re(){l(!0),f(null);const{data:Pe,error:st}=await Jr.from("organizations").select("*").eq("slug",t).eq("active",!0).single();if(st||!Pe){f("Organization not found"),l(!1);return}n(Pe);const{data:et}=await Jr.from("events").select("*").eq("organization_id",Pe.id).eq("active",!0).order("date",{ascending:!1});s(et||[]);const{data:We}=await Jr.from("packages").select("*").eq("organization_id",Pe.id).eq("active",!0).order("sort_order");c(We||[]),l(!1)}function ie(Pe){j(st=>st.includes(Pe)?st.filter(et=>et!==Pe):[...st,Pe])}function Ae(Pe){U(st=>({...st,[Pe.target.name]:Pe.target.value}))}function be(){return E&&C.length>0}function Ee(){return P.firstName&&P.lastName&&P.email&&P.phone&&P.divisions.length>0&&P.instagram&&P.coachName&&P.coachInstagram}const[ge,se]=k.useState([]),[xe,ce]=k.useState([]),[Me,Oe]=k.useState([]),[we,ue]=k.useState(!1);k.useEffect(()=>{C.length>0?ye():(se([]),ce([]))},[C]);async function ye(){ue(!0);const{data:Pe}=await Jr.from("division_categories").select("*").in("event_id",C).eq("active",!0).order("sort_order");if(Pe&&Pe.length>0){se(Pe);const st=Pe.map(We=>We.id),{data:et}=await Jr.from("division_subdivisions").select("*").in("category_id",st).eq("active",!0).order("sort_order");ce(et||[])}else se([]),ce([]);ue(!1)}function Le(Pe){Oe(st=>st.includes(Pe)?st.filter(et=>et!==Pe):[...st,Pe])}function He(Pe){return xe.filter(st=>st.category_id===Pe)}function Fe(Pe,st){const et=`${Pe} - ${st}`;U(We=>({...We,divisions:We.divisions.includes(et)?We.divisions.filter(gt=>gt!==et):[...We.divisions,et]}))}function At(Pe){return P.divisions.filter(st=>st.startsWith(Pe+" - "))}async function pt(){if(Ee()){q(!0);try{const Pe=a.find(Ge=>Ge.id===E),st=i.filter(Ge=>C.includes(Ge.id)).map(Ge=>Ge.name).join(", "),et=Pe.price*C.length,gt=await(await fetch(`${CRe}/api/create-checkout`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({packageType:Pe.name,packagePrice:et,showNames:st,customerName:`${P.firstName} ${P.lastName}`,customerEmail:P.email,metadata:{organizationId:r.id,organizationSlug:t,eventIds:C.join(","),packageId:E,firstName:P.firstName,lastName:P.lastName,phone:P.phone,divisions:P.divisions.join(", "),instagram:P.instagram,coachName:P.coachName,coachInstagram:P.coachInstagram}})})).json();if(gt.url){const{error:Ge}=await Jr.from("content_orders").insert({organization_id:r.id,event_id:C[0],package_id:E,first_name:P.firstName,last_name:P.lastName,email:P.email,phone:P.phone,division:P.divisions.join(", "),instagram:P.instagram,coach_name:P.coachName,coach_instagram:P.coachInstagram,amount:et,stripe_session_id:gt.sessionId,status:"pending"});Ge&&console.error("Failed to save order:",Ge),window.location.href=gt.url}else throw new Error("No checkout URL received")}catch(Pe){console.error("Checkout error:",Pe),alert("Error creating checkout. Please try again.")}finally{q(!1)}}}return A?o.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-gray-900 rounded-2xl p-8 max-w-md w-full text-center border border-gray-800",children:[o.jsx("div",{className:"w-20 h-20 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx("svg",{className:"w-10 h-10 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),o.jsx("h2",{className:"text-3xl font-bold mb-3",children:"You're Locked In! "}),o.jsx("p",{className:"text-gray-400 mb-6",children:"Thanks for your order! We'll capture your performance at the event and deliver your professionally edited content afterwards."}),o.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"Check your email for confirmation details."}),o.jsx(Ks,{to:"/content",className:"inline-block px-8 py-3 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700",children:"Back to Events"})]})}):v?o.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-gray-900 rounded-2xl p-8 max-w-md w-full text-center border border-gray-800",children:[o.jsx("div",{className:"w-20 h-20 bg-yellow-500/20 rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx("span",{className:"text-4xl",children:""})}),o.jsx("h2",{className:"text-2xl font-bold mb-3",children:"Payment Canceled"}),o.jsx("p",{className:"text-gray-400 mb-6",children:"No worries  your order wasn't charged. You can try again whenever you're ready."}),o.jsx("button",{onClick:()=>y(!1),className:"px-8 py-3 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700",children:"Try Again"})]})}):u?o.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center",children:o.jsx("div",{className:"text-gray-400",children:"Loading..."})}):d?o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col items-center justify-center gap-4",children:[o.jsx("div",{className:"text-red-500",children:d}),o.jsx(Ks,{to:"/content",className:"text-gray-400 hover:text-white",children:" Back to all organizations"})]}):o.jsx("div",{className:"min-h-screen bg-black text-white py-12 px-4",children:o.jsxs("div",{className:"max-w-3xl mx-auto",children:[o.jsxs("button",{onClick:()=>e("/content"),className:"inline-flex items-center gap-2 text-gray-400 hover:text-white mb-8 mt-4",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})," All Organizations"]}),o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("span",{className:"inline-block px-4 py-2 bg-red-600/20 text-red-500 rounded-full text-sm font-medium mb-4",children:r.name}),o.jsxs("h1",{className:"text-3xl md:text-4xl font-bold mb-2",children:["Order Your ",o.jsx("span",{className:"text-red-500",children:"Content"})]}),o.jsx("p",{className:"text-gray-400",children:"Select your package and events below"})]}),o.jsx("div",{className:"flex items-center justify-center gap-4 mb-12",children:[{num:1,label:"Package & Events"},{num:2,label:"Your Info"},{num:3,label:"Checkout"}].map((Pe,st)=>o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-semibold ${x>=Pe.num?"bg-red-600 text-white":"bg-gray-700 text-gray-400"}`,children:Pe.num}),o.jsx("span",{className:`text-sm hidden sm:inline ${x>=Pe.num?"text-white":"text-gray-500"}`,children:Pe.label}),st<2&&o.jsx("div",{className:"w-8 h-px bg-gray-700 mx-2"})]},Pe.num))}),x===1&&o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"bg-gray-900/50 rounded-xl p-6 border border-gray-800",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Select Package"}),o.jsx("div",{className:"space-y-3",children:a.map(Pe=>o.jsx("button",{onClick:()=>T(Pe.id),className:`w-full p-4 rounded-lg border text-left transition-all ${E===Pe.id?"border-red-500 bg-red-500/10":"border-gray-700 hover:border-gray-600 bg-gray-800/50"}`,children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-semibold",children:Pe.name}),o.jsx("div",{className:"text-sm text-gray-400",children:Pe.description}),Pe.name.toLowerCase().includes("combo")&&o.jsx("span",{className:"text-xs text-green-500 mt-1 inline-block font-semibold",children:"Save $50"})]}),o.jsxs("div",{className:"text-xl font-bold",children:["$",Pe.price]})]})},Pe.id))})]}),o.jsxs("div",{className:"bg-gray-900/50 rounded-xl p-6 border border-gray-800",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Which events did you compete in?"}),i.length===0?o.jsx("p",{className:"text-gray-400",children:"No events available for this organization yet."}):o.jsx("div",{className:"space-y-3",children:i.map(Pe=>o.jsxs("button",{onClick:()=>ie(Pe.id),className:`w-full p-4 rounded-lg border text-left transition-all flex justify-between items-center ${C.includes(Pe.id)?"border-red-500 bg-red-500/10":"border-gray-700 hover:border-gray-600 bg-gray-800/50"}`,children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-semibold",children:Pe.name}),o.jsxs("div",{className:"text-sm text-gray-400",children:[Pe.date&&new Date(Pe.date).toLocaleDateString("en-AU",{year:"numeric",month:"short",day:"numeric"}),Pe.location&&`  ${Pe.location}`]})]}),o.jsx("div",{className:`w-6 h-6 rounded border-2 flex items-center justify-center ${C.includes(Pe.id)?"border-red-500 bg-red-500":"border-gray-600"}`,children:C.includes(Pe.id)&&o.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})]},Pe.id))})]}),o.jsx("button",{onClick:()=>w(2),disabled:!be(),className:`w-full py-4 rounded-lg font-semibold text-lg transition-all ${be()?"bg-red-600 hover:bg-red-700 text-white":"bg-gray-700 text-gray-500 cursor-not-allowed"}`,children:"Continue "})]}),x===2&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-gray-900/50 rounded-xl p-6 border border-gray-800",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Your Information"}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"First Name *"}),o.jsx("input",{type:"text",name:"firstName",value:P.firstName,onChange:Ae,className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg focus:border-red-500 focus:outline-none",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Last Name *"}),o.jsx("input",{type:"text",name:"lastName",value:P.lastName,onChange:Ae,className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg focus:border-red-500 focus:outline-none",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Email *"}),o.jsx("input",{type:"email",name:"email",value:P.email,onChange:Ae,className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg focus:border-red-500 focus:outline-none",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Phone *"}),o.jsx("input",{type:"tel",name:"phone",value:P.phone,onChange:Ae,className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg focus:border-red-500 focus:outline-none",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Instagram Handle *"}),o.jsx("input",{type:"text",name:"instagram",value:P.instagram,onChange:Ae,placeholder:"@yourhandle",className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg focus:border-red-500 focus:outline-none",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Coach's Name *"}),o.jsx("input",{type:"text",name:"coachName",value:P.coachName,onChange:Ae,className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg focus:border-red-500 focus:outline-none",required:!0})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Coach's Instagram Handle *"}),o.jsx("input",{type:"text",name:"coachInstagram",value:P.coachInstagram,onChange:Ae,placeholder:"@coachhandle",className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg focus:border-red-500 focus:outline-none",required:!0})]})]})]}),o.jsxs("div",{className:"bg-gray-900/50 rounded-xl p-6 border border-gray-800",children:[o.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Division/Category *"}),o.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Click a category to expand, then select your divisions"}),we?o.jsx("div",{className:"text-center text-gray-400 py-8",children:"Loading divisions..."}):ge.length===0?o.jsxs("div",{className:"text-center text-gray-400 py-8 border border-gray-700 rounded-lg",children:["No divisions configured for the selected event(s) yet.",o.jsx("br",{}),o.jsx("span",{className:"text-sm",children:"Contact the organizer to set up divisions."})]}):o.jsx("div",{className:"space-y-2",children:ge.map(Pe=>{const st=Me.includes(Pe.id),et=At(Pe.name).length,We=He(Pe.id);return o.jsxs("div",{className:"border border-gray-700 rounded-lg overflow-hidden",children:[o.jsxs("button",{type:"button",onClick:()=>Le(Pe.id),className:`w-full p-4 flex justify-between items-center transition-colors ${et>0?"bg-red-500/10 border-l-4 border-l-red-500":"bg-gray-800/50 hover:bg-gray-800"}`,children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"font-medium",children:Pe.name}),et>0&&o.jsxs("span",{className:"text-xs bg-red-500 text-white px-2 py-0.5 rounded-full",children:[et," selected"]})]}),o.jsx("svg",{className:`w-5 h-5 text-gray-400 transition-transform ${st?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),st&&o.jsx("div",{className:"p-4 pt-2 bg-gray-900/50 border-t border-gray-700",children:We.length===0?o.jsx("p",{className:"text-sm text-gray-500 italic",children:"No subdivisions available"}):o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:We.map(gt=>{const Ge=`${Pe.name} - ${gt.name}`,Ct=P.divisions.includes(Ge);return o.jsx("button",{type:"button",onClick:()=>Fe(Pe.name,gt.name),className:`p-3 text-sm rounded-lg border text-left transition-all ${Ct?"border-red-500 bg-red-500/20 text-white":"border-gray-600 hover:border-gray-500 bg-gray-800/50 text-gray-300"}`,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:`w-4 h-4 rounded border-2 flex items-center justify-center ${Ct?"border-red-500 bg-red-500":"border-gray-500"}`,children:Ct&&o.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),o.jsx("span",{children:gt.name})]})},gt.id)})})})]},Pe.id)})}),P.divisions.length>0&&o.jsxs("div",{className:"mt-4 p-3 bg-gray-800/50 rounded-lg border border-gray-700",children:[o.jsxs("div",{className:"text-sm text-gray-400 mb-2",children:["Selected divisions (",P.divisions.length,"):"]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:P.divisions.map(Pe=>o.jsxs("span",{className:"inline-flex items-center gap-1 text-xs bg-red-500/20 text-red-400 px-2 py-1 rounded-full border border-red-500/30",children:[Pe,o.jsx("button",{type:"button",onClick:()=>{const[st,et]=Pe.split(" - ");Fe(st,et)},className:"hover:text-white",children:""})]},Pe))})]})]}),o.jsxs("div",{className:"bg-gray-900/50 rounded-xl p-6 border border-gray-800",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Order Summary"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-400",children:"Package:"}),o.jsx("span",{children:a.find(Pe=>Pe.id===E)?.name})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-400",children:"Events:"}),o.jsx("span",{className:"text-right",children:i.filter(Pe=>C.includes(Pe.id)).map(Pe=>Pe.name).join(", ")})]}),o.jsx("hr",{className:"border-gray-700 my-3"}),o.jsxs("div",{className:"flex justify-between text-lg font-semibold",children:[o.jsx("span",{children:"Total:"}),o.jsxs("span",{className:"text-red-500",children:["$",(a.find(Pe=>Pe.id===E)?.price||0)*C.length," AUD",C.length>1&&o.jsxs("span",{className:"text-sm text-gray-400 font-normal ml-2",children:["($",a.find(Pe=>Pe.id===E)?.price,"  ",C.length," events)"]})]})]})]})]}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx("button",{onClick:()=>w(1),className:"flex-1 py-4 rounded-lg font-semibold border border-gray-600 hover:border-gray-500 transition-colors",children:" Back"}),o.jsx("button",{onClick:pt,disabled:!Ee()||W,className:`flex-1 py-4 rounded-lg font-semibold transition-all ${Ee()&&!W?"bg-red-600 hover:bg-red-700 text-white":"bg-gray-700 text-gray-500 cursor-not-allowed"}`,children:W?"Processing...":"Proceed to Payment "})]})]})]})})}const wre=k.createContext({}),_M=()=>{const t=k.useContext(wre);if(!t)throw new Error("useAuth must be used within AuthProvider");return t},NRe=({children:t})=>{const[e,r]=k.useState(null),[n,i]=k.useState(null),[s,a]=k.useState(!0);k.useEffect(()=>{Jr.auth.getSession().then(({data:{session:f}})=>{i(f),r(f?.user??null),a(!1)});const{data:{subscription:d}}=Jr.auth.onAuthStateChange((f,A)=>{i(A),r(A?.user??null)});return()=>d.unsubscribe()},[]);const l={user:e,session:n,loading:s,signIn:async(d,f)=>{const{data:A,error:p}=await Jr.auth.signInWithPassword({email:d,password:f});if(p)throw p;return A},signOut:async()=>{const{error:d}=await Jr.auth.signOut();if(d)throw d}};return o.jsx(wre.Provider,{value:l,children:t})};function Id({children:t}){const{user:e,loading:r}=_M();return r?o.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center",children:o.jsx("div",{className:"text-white text-xl",children:"Loading..."})}):e?t:o.jsx(Qce,{to:"/portal",replace:!0})}function Yd({children:t}){const{user:e,signOut:r}=_M(),n=Mc(),i=vf(),s=async()=>{try{await r(),n("/portal")}catch(u){console.error("Error signing out:",u)}},a=u=>i.pathname.startsWith(u),c=[{name:"Contracts",path:"/portal/contracts"},{name:"Pipeline",path:"/portal/pipeline"},{name:"Outreach",path:"/portal/outreach"},{name:"Onboarding",path:"/portal/onboarding"},{name:"Content",path:"/portal/content-admin"},{name:"Orders",path:"/portal/orders"},{name:"Livestream",path:"/portal/livestream"},{name:"Crews",path:"/portal/crews"},{name:"Pricing",path:"/portal/pricing"}];return o.jsxs("div",{className:"min-h-screen bg-[#0d0d1a] flex flex-col overflow-x-hidden w-full max-w-full",children:[o.jsx("header",{className:"print:hidden bg-gradient-to-r from-[#1a1a2e] to-[#16162a] border-b border-gray-800/50 w-full max-w-full overflow-hidden",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsxs("div",{className:"flex items-center gap-3 cursor-pointer",onClick:()=>n("/portal/contracts"),children:[o.jsxs("span",{className:"text-lg font-black tracking-wider",children:[o.jsx("span",{className:"text-red-500",children:"FIT FOCUS"})," ",o.jsx("span",{className:"text-white",children:"MEDIA"})]}),o.jsx("span",{className:"text-gray-700",children:"|"}),o.jsx("span",{className:"text-gray-400 font-medium",children:"Portal"})]}),e&&o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("span",{className:"text-gray-500 text-sm hidden sm:block",children:e.email}),o.jsx("button",{onClick:s,className:"px-4 py-2 bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded-lg transition-all text-sm font-medium border border-gray-700/50",children:"Sign Out"})]})]}),e&&o.jsx("div",{className:"flex gap-1 sm:gap-4 -mb-px overflow-x-auto scrollbar-hide pb-px",children:c.map(u=>o.jsxs("button",{onClick:()=>n(u.path),className:`relative px-3 sm:px-4 py-3 font-bold text-xs sm:text-sm transition-colors whitespace-nowrap flex-shrink-0 ${a(u.path)?"text-red-500":"text-gray-400 hover:text-gray-300"}`,children:[u.name,a(u.path)&&o.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-red-500"})]},u.path))})]})}),o.jsx("main",{className:"flex-1",children:t})]})}function kRe(){const[t,e]=k.useState(""),[r,n]=k.useState(""),[i,s]=k.useState(""),[a,c]=k.useState(!1),{signIn:u}=_M(),l=Mc(),d=async f=>{f.preventDefault(),s(""),c(!0);try{await u(t,r),l("/portal/contracts")}catch(A){s(A.message||"Failed to sign in")}finally{c(!1)}};return o.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center px-4",children:o.jsxs("div",{className:"max-w-md w-full",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Portal Login"}),o.jsx("p",{className:"text-gray-400",children:"Fit Focus Media Contract Management"})]}),o.jsx("div",{className:"bg-dark-900 rounded-lg p-8 shadow-xl",children:o.jsxs("form",{onSubmit:d,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-2",children:"Email"}),o.jsx("input",{id:"email",type:"email",value:t,onChange:f=>e(f.target.value),required:!0,className:"w-full px-4 py-3 bg-dark-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your email"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),o.jsx("input",{id:"password",type:"password",value:r,onChange:f=>n(f.target.value),required:!0,className:"w-full px-4 py-3 bg-dark-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:""})]}),i&&o.jsx("div",{className:"bg-red-900/30 border border-red-500 text-red-200 px-4 py-3 rounded-lg",children:i}),o.jsx("button",{type:"submit",disabled:a,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-blue-800 text-white font-medium py-3 px-6 rounded-lg transition-colors",children:a?"Signing in...":"Sign In"})]})})]})})}function SM(t){const e=t.contract_data||{},r=(u,l="[NOT SET]")=>u||`<span class="text-gray-500">${l}</span>`,n=(u,l,d="[NOT SET]")=>!u&&!l?`<span class="text-gray-500">${d}</span>`:u?!l||l===u?u:`${u}${l}`:l,i=u=>u?"":"";let s="";e.multi_events&&e.multi_events.length>0&&e.multi_events.forEach((u,l)=>{(u.name||u.date||u.venue)&&(s+=`
          <tr>
            <td class="border border-gray-700 px-4 py-2">${l+1}</td>
            <td class="border border-gray-700 px-4 py-2">${r(u.name)}</td>
            <td class="border border-gray-700 px-4 py-2">${r(u.date)}</td>
            <td class="border border-gray-700 px-4 py-2">${r(u.venue)}</td>
          </tr>
        `)});const a=u=>u?`$${parseFloat(u).toLocaleString()}`:"$0";let c="";return e.athlete_revenue_ffm_100?c="<p><strong> FFM retains 100%</strong> of Athlete Media Package sales. This is reflected in the zero upfront cost and Client deliverables provided at no charge.</p>":c=`
      <table class="w-full border-collapse border border-gray-700 my-4">
        <tr><th class="border border-gray-700 px-4 py-2 bg-gray-800">Party</th><th class="border border-gray-700 px-4 py-2 bg-gray-800">Share</th></tr>
        <tr><td class="border border-gray-700 px-4 py-2"><strong>FFM</strong></td><td class="border border-gray-700 px-4 py-2">${r(e.athlete_ffm_split,"80")}%</td></tr>
        <tr><td class="border border-gray-700 px-4 py-2"><strong>Client</strong></td><td class="border border-gray-700 px-4 py-2">${r(e.athlete_client_split,"20")}%</td></tr>
      </table>
      <p>The Client's share will be paid monthly, with a statement of sales provided.</p>
    `,`
    <div class="contract-content prose prose-invert max-w-none">
      <h1 class="text-3xl font-bold mb-6">EVENT MEDIA COVERAGE & PARTNERSHIP AGREEMENT</h1>
      
      <p><strong>AGREEMENT</strong> made on <strong>${r(e.agreement_date,new Date().toLocaleDateString())}</strong></p>
      
      <p><strong>BETWEEN:</strong></p>
      
      <p>
        <strong>Fit Focus Media</strong> ABN ${r(e.ffm_abn,"[ABN]")}<br>
        Represented by: Brandon Hibbs<br>
        Email: info@fitfocusmedia.com.au<br>
        Website: www.fitfocusmedia.com.au<br>
        (hereinafter referred to as <strong>"FFM"</strong> or <strong>"the Media Provider"</strong>)
      </p>
      
      <p><strong>AND:</strong></p>
      
      <p>
        <strong>${r(e.org_name,"[ORGANIZATION NAME]")}</strong><br>
        Represented by: ${r(e.promoter_name,"[PROMOTER NAME]")}<br>
        Position: ${r(e.promoter_position,"[POSITION]")}<br>
        Email: ${r(e.promoter_email,"[EMAIL]")}<br>
        Phone: ${r(e.promoter_phone,"[PHONE]")}<br>
        (hereinafter referred to as <strong>"the Client"</strong> or <strong>"the Event Organiser"</strong>)
      </p>
      
      <hr class="my-6 border-gray-700">
      
      <h2 class="text-2xl font-bold mt-6 mb-4">1. EVENT DETAILS</h2>
      <table class="w-full border-collapse border border-gray-700 my-4">
        <tr><th class="border border-gray-700 px-4 py-2 bg-gray-800">Field</th><th class="border border-gray-700 px-4 py-2 bg-gray-800">Details</th></tr>
        <tr><td class="border border-gray-700 px-4 py-2"><strong>Event Name</strong></td><td class="border border-gray-700 px-4 py-2">${r(e.event_name)}</td></tr>
        <tr><td class="border border-gray-700 px-4 py-2"><strong>Event Date(s)</strong></td><td class="border border-gray-700 px-4 py-2">${r(e.event_date)}</td></tr>
        <tr><td class="border border-gray-700 px-4 py-2"><strong>Event Location</strong></td><td class="border border-gray-700 px-4 py-2">${r(e.event_location)}</td></tr>
        <tr><td class="border border-gray-700 px-4 py-2"><strong>Event Type</strong></td><td class="border border-gray-700 px-4 py-2">${r(e.event_type,"BJJ / Grappling Competition")}</td></tr>
        <tr><td class="border border-gray-700 px-4 py-2"><strong>Estimated Matches</strong></td><td class="border border-gray-700 px-4 py-2">${r(e.estimated_matches)}</td></tr>
        <tr><td class="border border-gray-700 px-4 py-2"><strong>Expected Athlete Participants</strong></td><td class="border border-gray-700 px-4 py-2">${r(e.expected_athletes)}</td></tr>
        <tr><td class="border border-gray-700 px-4 py-2"><strong>Expected Audience</strong></td><td class="border border-gray-700 px-4 py-2">${r(e.expected_audience)}</td></tr>
      </table>
      
      <h2 class="text-2xl font-bold mt-6 mb-4">2. PARTNERSHIP MODEL  ZERO UPFRONT COST</h2>
      
      <h3 class="text-xl font-bold mt-4 mb-2">2.1 No Upfront Fee</h3>
      <p>FFM will provide full professional media coverage for the Event at <strong>no upfront cost</strong> to the Client.</p>
      
      <h3 class="text-xl font-bold mt-4 mb-2">2.2 What FFM Provides at Zero Cost</h3>
      <ul class="list-disc pl-6 my-4">
        <li>Multi-camera professional video coverage (${n(e.camera_angles,e.camera_angles_max,"2")} camera angles)</li>
        ${e.photography_type==="professional"?"<li>Professional event photography</li>":""}
        ${e.photography_type==="base"?"<li>Base event photography</li>":""}
        <li>Livestream and/or PPV broadcast production (if applicable)</li>
        <li>Post-event highlight reel for the Client's promotional use</li>
        <li>Access to the FFM Athlete Media Portal for athlete content delivery</li>
        <li>On-site crew (${n(e.crew_size,e.crew_size_max,"2")} persons)</li>
      </ul>
      
      <h3 class="text-xl font-bold mt-4 mb-2">2.3 Multi-Event Commitment</h3>
      <p>This Agreement covers <strong>${r(e.multi_event_count,"1")}</strong> events over a period of <strong>${r(e.multi_event_duration,"[DURATION]")}</strong>${s?", as scheduled below:":"."}</p>
      
      ${s?`
        <table class="w-full border-collapse border border-gray-700 my-4">
          <tr><th class="border border-gray-700 px-4 py-2 bg-gray-800">#</th><th class="border border-gray-700 px-4 py-2 bg-gray-800">Event Name</th><th class="border border-gray-700 px-4 py-2 bg-gray-800">Date</th><th class="border border-gray-700 px-4 py-2 bg-gray-800">Venue</th></tr>
          ${s}
        </table>
      `:""}
      
      <h2 class="text-2xl font-bold mt-6 mb-4">3. SCOPE OF MEDIA COVERAGE</h2>
      
      <h3 class="text-xl font-bold mt-4 mb-2">3.1 Post-Production Deliverables for the Client</h3>
      <ul class="list-disc pl-6 my-4">
        <li>One (1) Event Highlight Reel (60120 seconds) within ${n(e.highlight_delivery_days,e.highlight_delivery_days_max,"7")} business days</li>
        <li>${n(e.social_clips_count,e.social_clips_count_max,"5")} social media clips within ${n(e.social_clips_delivery_days,e.social_clips_delivery_days_max,"5")} business days</li>
        ${e.photography_type&&e.photography_type!=="none"?`<li>Curated photo gallery of ${n(e.photo_count,e.photo_count_max,"50")} edited images</li>`:""}
      </ul>
      
      <h3 class="text-xl font-bold mt-4 mb-2">3.2 Livestream / PPV Production</h3>
      <p>
        <strong>Livestream included:</strong> ${i(e.livestream_included)} ${e.livestream_included?"Yes":"No"}<br>
        <strong>PPV included:</strong> ${i(e.ppv_included)} ${e.ppv_included?"Yes":"No"}
      </p>
      ${e.ppv_included?`
        <p>
          <strong>Platform:</strong> ${r(e.ppv_platform)}<br>
          <strong>PPV Price Point:</strong> ${e.ppv_price_type==="range"&&e.ppv_price_max?`${a(e.ppv_price)} - ${a(e.ppv_price_max)}`:a(e.ppv_price)} per viewer
        </p>
      `:""}
      
      <h2 class="text-2xl font-bold mt-6 mb-4">4. LIVESTREAM & PPV REVENUE SHARE</h2>
      ${e.ppv_included?`
        <table class="w-full border-collapse border border-gray-700 my-4">
          <tr><th class="border border-gray-700 px-4 py-2 bg-gray-800">Party</th><th class="border border-gray-700 px-4 py-2 bg-gray-800">Share</th></tr>
          <tr><td class="border border-gray-700 px-4 py-2"><strong>FFM</strong></td><td class="border border-gray-700 px-4 py-2">${r(e.ppv_ffm_split,"70")}%</td></tr>
          <tr><td class="border border-gray-700 px-4 py-2"><strong>Client</strong></td><td class="border border-gray-700 px-4 py-2">${r(e.ppv_client_split,"30")}%</td></tr>
        </table>
        <p>The Client's share will be paid within ${r(e.ppv_payment_days,"21")} days of each Event via bank transfer.</p>
      `:"<p>PPV not included in this agreement.</p>"}
      
      <h2 class="text-2xl font-bold mt-6 mb-4">5. ATHLETE MEDIA PACKAGES</h2>
      
      <h3 class="text-xl font-bold mt-4 mb-2">5.1 Overview</h3>
      <p>FFM operates a direct-to-athlete media sales model through the <strong>FFM Athlete Media Portal</strong>.</p>
      
      <h3 class="text-xl font-bold mt-4 mb-2">5.2 Available Packages</h3>
      ${e.athlete_packages&&e.athlete_packages.length>0?`
        <table class="w-full border-collapse border border-gray-700 my-4">
          <tr>
            <th class="border border-gray-700 px-4 py-2 bg-gray-800 text-left">Package</th>
            <th class="border border-gray-700 px-4 py-2 bg-gray-800 text-left">Price</th>
            <th class="border border-gray-700 px-4 py-2 bg-gray-800 text-left">Description</th>
          </tr>
          ${e.athlete_packages.map(u=>`
            <tr>
              <td class="border border-gray-700 px-4 py-2"><strong>${u.name||"[Package Name]"}</strong></td>
              <td class="border border-gray-700 px-4 py-2">${a(u.price)}</td>
              <td class="border border-gray-700 px-4 py-2">${u.description||"-"}</td>
            </tr>
          `).join("")}
        </table>
      `:`
        <p><strong> VIP COVERAGE</strong>  ${a(e.vip_price||350)}</p>
        <p><strong> MATCH PACKAGE</strong>  ${a(e.match_price||175)}</p>
        <p><strong> SEASON PASS</strong>  ${a(e.season_price||899)}/year</p>
      `}
      
      <h3 class="text-xl font-bold mt-4 mb-2">5.3 Athlete Media Package Revenue Split</h3>
      ${c}
      
      ${e.add_ons&&e.add_ons.length>0?`
      <h2 class="text-2xl font-bold mt-6 mb-4">6. CLIENT ADD-ONS</h2>
      <p>The following additional services have been included in this Agreement at the Client's request:</p>
      <table class="w-full border-collapse border border-gray-700 my-4">
        <tr>
          <th class="border border-gray-700 px-4 py-2 bg-gray-800 text-left">Add-On</th>
          <th class="border border-gray-700 px-4 py-2 bg-gray-800 text-left">Price</th>
          <th class="border border-gray-700 px-4 py-2 bg-gray-800 text-left">Description</th>
        </tr>
        ${e.add_ons.map(u=>`
          <tr>
            <td class="border border-gray-700 px-4 py-2"><strong>${u.name||"[Add-On Name]"}</strong></td>
            <td class="border border-gray-700 px-4 py-2">${a(u.price)}</td>
            <td class="border border-gray-700 px-4 py-2">${u.description||"-"}</td>
          </tr>
        `).join("")}
        <tr class="bg-gray-800">
          <td class="border border-gray-700 px-4 py-2"><strong>TOTAL ADD-ONS</strong></td>
          <td class="border border-gray-700 px-4 py-2"><strong>${a(e.add_ons.reduce((u,l)=>u+(parseFloat(l.price)||0),0))}</strong></td>
          <td class="border border-gray-700 px-4 py-2"></td>
        </tr>
      </table>
      <p>Payment for add-ons is due prior to the Event date unless otherwise agreed in writing.</p>
      
      <h2 class="text-2xl font-bold mt-6 mb-4">7. EXCLUSIVE MEDIA COVERAGE RIGHTS</h2>
      `:`
      <h2 class="text-2xl font-bold mt-6 mb-4">6. EXCLUSIVE MEDIA COVERAGE RIGHTS</h2>
      `}
      <p>The Client grants FFM <strong>exclusive rights</strong> to provide professional video and photography media coverage services at the Event.</p>
      
      <h2 class="text-2xl font-bold mt-6 mb-4">7. ACCESS & LOGISTICS</h2>
      <ul class="list-disc pl-6 my-4">
        <li>FFM requires venue access at least ${r(e.setup_hours,"2")} hours prior to first match</li>
        <li>Crew size: ${n(e.crew_size,e.crew_size_max,"2")} persons with complimentary entry</li>
        ${e.internet_speed?`<li>Internet upload speed: minimum ${e.internet_speed} Mbps</li>`:""}
        <li>Event schedule to be provided ${r(e.schedule_hours_before,"48")} hours before Event</li>
        <li>Athlete list to be provided ${r(e.athlete_list_days_before,"7")} days before Event</li>
      </ul>
      
      <h3 class="text-xl font-bold mt-4 mb-2">7.1 Athlete Contact Information</h3>
      <p>The Client <strong>must provide</strong> FFM with contact information for all registered athletes, including but not limited to:</p>
      <ul class="list-disc pl-6 my-4">
        <li>Full name</li>
        <li>Email address</li>
        <li>Phone number (where available)</li>
        <li>Social media handles (Instagram, etc.)</li>
      </ul>
      <p>This information will be used by FFM for:</p>
      <ul class="list-disc pl-6 my-4">
        <li>Delivering content and media packages to athletes via the FFM Athlete Media Portal</li>
        <li>Marketing and promotional communications regarding event content and athlete media services</li>
        <li>Tagging athletes in social media content</li>
      </ul>
      <p>The Client warrants that appropriate consent has been obtained from athletes for their contact information to be shared with FFM for these purposes, as outlined in Section 12.</p>
      
      <h2 class="text-2xl font-bold mt-6 mb-4">8. CANCELLATION & RESCHEDULING</h2>
      <p>Cancellation less than 15 days before Event: Client will pay ${a(e.cancellation_fee||500)} cancellation fee plus non-recoverable expenses.</p>
      
      <h2 class="text-2xl font-bold mt-6 mb-4">9. TERM & TERMINATION</h2>
      <p>Initial term: ${r(e.initial_term_months,"12")} months. Auto-renews for ${r(e.renewal_period_months,"12")}-month periods unless ${r(e.nonrenewal_notice_days,"60")} days' written notice provided.</p>
      <p>Termination: ${r(e.termination_notice_days,"30")} days' written notice. Remedy period: ${r(e.remedy_period_days,"14")} days.</p>
      
      <h2 class="text-2xl font-bold mt-6 mb-4">10. LIABILITY & INSURANCE</h2>
      <p>FFM holds public liability insurance of ${a(e.pli_amount||2e7)}.</p>
      
      <h2 class="text-2xl font-bold mt-6 mb-4">11. INTELLECTUAL PROPERTY & OWNERSHIP</h2>
      
      <h3 class="text-xl font-bold mt-4 mb-2">11.1 Ownership of Content</h3>
      <p>The Client agrees that, subject to the rights and licenses granted herein, FFM is and will remain the <strong>sole and exclusive owner</strong> of all right, title, and interest, throughout the world, to all video footage, photographs, and other media content ("Content") produced under this Agreement, and any copies thereof. Except as expressly provided in this Agreement, FFM reserves all rights and licenses not expressly granted.</p>
      
      <h3 class="text-xl font-bold mt-4 mb-2">11.2 License to Client</h3>
      <p>FFM hereby grants to the Client a <strong>non-exclusive, perpetual license</strong> to use the deliverables specified in Section 3.1 (Event Highlight Reel, social media clips, and curated photo gallery) for promotional purposes related to the Event and Client's organization. This license is non-transferable and does not include the right to sublicense.</p>
      
      <h3 class="text-xl font-bold mt-4 mb-2">11.3 Restrictions on Use</h3>
      <p>The Client will NOT use the Content for any of the following purposes without prior written permission from FFM:</p>
      <ul class="list-disc pl-6 my-4">
        <li><strong>No Unlawful Use:</strong> The Client will not use the Content in any unlawful manner, including but not limited to pornography or defamation.</li>
        <li><strong>No Standalone File Distribution:</strong> The Client will not distribute raw footage or allow Content to be downloaded, extracted, or redistributed by third parties.</li>
        <li><strong>No Trademark Use:</strong> The Client will not use the Content in any trademark, design, logo, or service mark without FFM's written consent.</li>
        <li><strong>No Products for Resale:</strong> The Client will not use the Content in any goods or products where the Content is the primary value.</li>
        <li><strong>No Alterations:</strong> The Client will not alter, modify, or create derivative works from the Content without prior written permission from FFM.</li>
        <li><strong>No Sublicensing:</strong> The Client will not sublicense, sell, or transfer rights to the Content to any third party.</li>
      </ul>
      
      <h3 class="text-xl font-bold mt-4 mb-2">11.4 Credit Requirements</h3>
      <p>The Client must include appropriate credit to <strong>"Fit Focus Media"</strong> or <strong>"@fitfocusmedia"</strong> when publishing or sharing any Content produced under this Agreement on social media, websites, or promotional materials.</p>
      
      <h2 class="text-2xl font-bold mt-6 mb-4">12. MEDIA RELEASE & CONSENT</h2>
      
      <h3 class="text-xl font-bold mt-4 mb-2">12.1 Athlete Media Release</h3>
      <p>The Client acknowledges that FFM will capture video footage and photographs of athletes, coaches, officials, and spectators at the Event. The Client warrants that:</p>
      <ul class="list-disc pl-6 my-4">
        <li>Appropriate media release and consent has been obtained from all athletes participating in the Event, either through registration terms & conditions or separate media release forms.</li>
        <li>Athletes have been informed that professional media coverage will be present and content may be used for promotional, commercial, and broadcast purposes.</li>
        <li>Minors participating in the Event have appropriate parental/guardian consent for media capture and publication.</li>
      </ul>
      
      <h3 class="text-xl font-bold mt-4 mb-2">12.2 Grant of Rights</h3>
      <p>FFM is granted the <strong>perpetual and irrevocable right</strong> to use, publish, and distribute video and photographs captured at the Event for editorial, trade, advertising, promotional, and commercial purposes in any manner and medium, including but not limited to:</p>
      <ul class="list-disc pl-6 my-4">
        <li>Social media platforms and websites</li>
        <li>Marketing and promotional materials</li>
        <li>Broadcast and streaming services</li>
        <li>Athlete Media Packages sold through the FFM Portal</li>
        <li>Portfolio and showcase purposes</li>
      </ul>
      
      <h3 class="text-xl font-bold mt-4 mb-2">12.3 Implied Consent & Opt-Out Procedure</h3>
      <p>The parties agree that:</p>
      <ul class="list-disc pl-6 my-4">
        <li><strong>Implied Consent:</strong> All athletes, by registering for and competing in the Event, are deemed to have consented to the capture, use, and publication of their image, likeness, and performance by FFM for the purposes outlined in this Agreement.</li>
        <li><strong>Opt-Out Requirement:</strong> Any athlete who does not consent to media capture and publication must notify FFM <strong>in writing</strong> (via email to info@fitfocusmedia.com.au) no less than <strong>48 hours prior</strong> to the Event. FFM will make reasonable efforts to exclude such athletes from published content, however FFM cannot guarantee exclusion from all footage, particularly wide-angle or crowd shots.</li>
        <li><strong>Client Responsibility:</strong> The Client is solely responsible for communicating media coverage terms to athletes through registration materials, event signage, and/or announcements. The Client shall include appropriate notice in registration terms and conditions that professional media coverage will be present and content may be used commercially.</li>
        <li><strong>Liability:</strong> The Client assumes all liability for any claims arising from athletes who allege they did not consent to media capture. FFM shall not be held liable for any such claims, and the Client shall indemnify FFM accordingly as outlined in Section 13.</li>
      </ul>
      
      <h2 class="text-2xl font-bold mt-6 mb-4">13. INDEMNIFICATION</h2>
      <p>The Client will <strong>indemnify, defend, and hold harmless</strong> FFM, its officers, employees, agents, and contractors from all liability, claims, demands, causes of action, judgments, damages, and expenses (including reasonable attorneys' fees and costs) arising out of or as a result of:</p>
      <ul class="list-disc pl-6 my-4">
        <li>The Client's use of the Content in violation of this Agreement</li>
        <li>Any breach of the Client's representations or warranties under this Agreement</li>
        <li>Any claim by a third party (including athletes, spectators, or venue operators) relating to the Event</li>
        <li>The Client's failure to obtain proper media releases or consents</li>
      </ul>
      <p>This indemnification does not apply to claims arising solely from FFM's willful misconduct, gross negligence, or bad faith.</p>
      
      <h2 class="text-2xl font-bold mt-6 mb-4">14. LIMITATION OF LIABILITY</h2>
      <p><strong>EXCEPT FOR ANY REMEDIES THAT CANNOT BE EXCLUDED OR LIMITED BY LAW, NEITHER PARTY, NOR ANY AFFILIATE, WILL BE LIABLE UNDER THIS AGREEMENT TO THE OTHER PARTY FOR ANY INDIRECT, INCIDENTAL, CONSEQUENTIAL, SPECIAL, RELIANCE, OR PUNITIVE DAMAGES OR LOST OR IMPUTED PROFITS, LOST DATA, OR COST OF PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES.</strong></p>
      <p>FFM's total liability under this Agreement shall not exceed the total fees paid or payable by the Client under this Agreement in the twelve (12) months preceding the claim.</p>
      
      <h2 class="text-2xl font-bold mt-6 mb-4">15. FORCE MAJEURE</h2>
      <p>Neither party shall be liable for any failure or delay in performing their obligations under this Agreement if such failure or delay results from circumstances beyond the reasonable control of that party, including but not limited to: acts of God, natural disasters, pandemic, government actions, war, terrorism, civil unrest, or failure of third-party services.</p>
      
      <h2 class="text-2xl font-bold mt-6 mb-4">16. CONFIDENTIALITY</h2>
      <p>Each party agrees to keep confidential and not disclose to any third party any confidential information received from the other party, including but not limited to business strategies, financial information, athlete data, and the specific commercial terms of this Agreement, except as required by law or with prior written consent.</p>
      
      <h2 class="text-2xl font-bold mt-6 mb-4">17. ASSIGNMENT</h2>
      <p>This Agreement may not be assigned by the Client without FFM's prior written consent. FFM may assign this Agreement, in whole or in part, to any affiliate or successor without the Client's consent.</p>
      
      <h2 class="text-2xl font-bold mt-6 mb-4">18. DISPUTE RESOLUTION</h2>
      <p>Any dispute arising from this Agreement shall first be resolved through good-faith negotiation between the parties. If the dispute cannot be resolved through negotiation within thirty (30) days, the dispute shall be submitted to mediation. If mediation fails, the dispute will be resolved through binding arbitration conducted in Brisbane, Queensland in accordance with the rules of the Resolution Institute.</p>
      
      <h2 class="text-2xl font-bold mt-6 mb-4">19. GOVERNING LAW</h2>
      <p>This Agreement shall be governed by and construed in accordance with the laws of <strong>Queensland, Australia</strong>, without reference to rules governing choice of laws. The parties submit to the exclusive jurisdiction of the courts of Queensland.</p>
      
      <h2 class="text-2xl font-bold mt-6 mb-4">20. SEVERABILITY</h2>
      <p>If any provision of this Agreement is held invalid, illegal, or unenforceable by a court of competent jurisdiction, the remainder of the Agreement will remain valid and enforceable, and the parties will negotiate in good faith a substitute provision which most nearly reflects the original intent.</p>
      
      <h2 class="text-2xl font-bold mt-6 mb-4">21. ENTIRE AGREEMENT</h2>
      <p>This Agreement represents and constitutes the <strong>entire agreement</strong> between the parties with respect to the subject matter hereof, and supersedes and merges all prior negotiations, agreements, and understandings, oral or written. This Agreement may not be altered, modified, or amended except in writing signed by both parties.</p>
      
      <h2 class="text-2xl font-bold mt-6 mb-4">22. NOTICES</h2>
      <p>All notices, demands, or other communications under this Agreement shall be in writing and delivered via email with read receipt, registered mail, or hand delivery to the addresses specified in this Agreement. Notices delivered by email shall be deemed received on the business day sent (or the next business day if sent after 5pm AEST). Mailed notices shall be deemed received three (3) business days after posting.</p>
      
      <hr class="my-6 border-gray-700">
      
      <h2 class="text-2xl font-bold mt-6 mb-4">SIGNATURES</h2>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-6">
        <div class="border border-gray-700 rounded-lg p-6">
          <h3 class="text-lg font-bold mb-4">Fit Focus Media</h3>
          ${t.ffm_signature?`
            <img src="${t.ffm_signature}" alt="FFM Signature" class="max-w-full h-auto border border-gray-600 p-2 rounded bg-white mb-4" style="max-width: 300px;">
            <p><strong>Name:</strong> Brandon Hibbs</p>
            <p><strong>Signed:</strong> ${new Date(t.ffm_signed_at).toLocaleString("en-AU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0,timeZoneName:"short"})}</p>
          `:'<p class="text-gray-500">[PENDING FFM SIGNATURE]</p>'}
        </div>
        
        <div class="border border-gray-700 rounded-lg p-6">
          <h3 class="text-lg font-bold mb-4">${r(e.org_name,"[ORGANIZATION]")}</h3>
          ${t.client_signature?`
            <img src="${t.client_signature}" alt="Client Signature" class="max-w-full h-auto border border-gray-600 p-2 rounded bg-white mb-4" style="max-width: 300px;">
            <p><strong>Name:</strong> ${r(e.promoter_name)}</p>
            <p><strong>Position:</strong> ${r(e.promoter_position)}</p>
            <p><strong>Signed:</strong> ${new Date(t.client_signed_at).toLocaleString("en-AU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0,timeZoneName:"short"})}</p>
          `:'<p class="text-gray-500">[PENDING CLIENT SIGNATURE]</p>'}
        </div>
      </div>
    </div>
  `}function jO(t){const e=document.createElement("canvas");e.width=t.width,e.height=t.height;const r=e.getContext("2d"),s=t.getContext("2d").getImageData(0,0,t.width,t.height).data,a=r.createImageData(t.width,t.height),c=a.data;for(let u=0;u<s.length;u+=4)s[u+3]>10?(c[u]=0,c[u+1]=0,c[u+2]=0,c[u+3]=255):(c[u]=255,c[u+1]=255,c[u+2]=255,c[u+3]=255);return r.putImageData(a,0,0),e.toDataURL("image/png")}function Ere(t){return t.getContext("2d").getImageData(0,0,t.width,t.height).data.some(n=>n!==0)}function NO(t){const e=window.location.hostname;let r;return e==="localhost"||e.includes("192.168.")||e.includes("100.")?r="https://clawdbots-mini.tailcfdc1.ts.net:5198":r=window.location.origin,`${r}/#/contract/${t}`}function IRe(t,e,r){const n=NO(t);return{subject:`Event Media Coverage Agreement  Fit Focus Media  ${r}`,body:`Hi ${e},

Please find your Event Media Coverage & Partnership Agreement with Fit Focus Media ready for review and signature.

Review & Sign Here:
${n}

Once you've reviewed the terms, you can sign directly on the page. If you have any questions, reply to this email.

Cheers,
Brandon Hibbs
Fit Focus Media
info@fitfocusmedia.com.au
www.fitfocusmedia.com.au`}}function TM(t){return{draft:"",sent:"",viewed:"",signed:"",expired:""}[t]||""}function _re(t){return`${{draft:"bg-gray-600",sent:"bg-blue-600",viewed:"bg-yellow-600",signed:"bg-green-600",expired:"bg-red-600"}[t]||"bg-gray-600"} text-white px-3 py-1 rounded-full text-sm font-medium inline-flex items-center gap-2`}const LRe={draft:"bg-gray-700 text-gray-200",sent:"bg-blue-600/20 text-blue-400 border border-blue-500/30",viewed:"bg-yellow-600/20 text-yellow-400 border border-yellow-500/30",signed:"bg-green-600/20 text-green-400 border border-green-500/30",expired:"bg-red-600/20 text-red-400 border border-red-500/30"};function BRe(){const[t,e]=k.useState([]),[r,n]=k.useState([]),[i,s]=k.useState(!0),[a,c]=k.useState(""),[u,l]=k.useState(""),[d,f]=k.useState("created_desc"),[A,p]=k.useState({total:0,signedThisMonth:0,pending:0,drafts:0,value:0}),v=Mc();k.useEffect(()=>{y()},[]),k.useEffect(()=>{w()},[t,a,u,d]);const y=async()=>{try{const E=await m5();e(E),x(E)}catch(E){console.error("Error loading contracts:",E)}finally{s(!1)}},x=E=>{const T=new Date,C=E.filter(W=>{if(W.status!=="signed")return!1;const q=new Date(W.created_at);return q.getMonth()===T.getMonth()&&q.getFullYear()===T.getFullYear()}),j=E.filter(W=>W.status==="sent"||W.status==="viewed"),P=E.filter(W=>W.status==="draft"),U=E.reduce((W,q)=>{const re=q.contract_data?.vip_price||0,ie=q.contract_data?.expected_athletes||0;return W+re*ie*.3},0);p({total:E.length,signedThisMonth:C.length,pending:j.length,drafts:P.length,value:Math.round(U)})},w=()=>{let E=[...t];if(a){const T=a.toLowerCase();E=E.filter(C=>(C.org_name||"").toLowerCase().includes(T)||(C.promoter_name||"").toLowerCase().includes(T)||(C.promoter_email||"").toLowerCase().includes(T))}u&&(E=E.filter(T=>T.status===u)),E.sort((T,C)=>{switch(d){case"created_asc":return new Date(T.created_at)-new Date(C.created_at);case"created_desc":return new Date(C.created_at)-new Date(T.created_at);case"org_name":return(T.org_name||"").localeCompare(C.org_name||"");case"status":return(T.status||"").localeCompare(C.status||"");default:return 0}}),n(E)};return i?o.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:o.jsx("div",{className:"text-gray-400 text-lg",children:"Loading contracts..."})}):o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsxs("h1",{className:"text-3xl font-black text-white tracking-tight",children:[o.jsx("span",{className:"text-red-500",children:"CONTRACT"})," MANAGEMENT"]}),o.jsxs("button",{onClick:()=>v("/portal/contracts/new"),className:"bg-red-600 hover:bg-red-700 text-white px-6 py-3 rounded-lg font-bold transition-all hover:scale-105 flex items-center gap-2",children:[o.jsx("span",{className:"text-lg",children:"+"})," Create New Contract"]})]}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-8",children:[{label:"TOTAL CONTRACTS",value:A.total,color:"text-white",filter:""},{label:"DRAFTS",value:A.drafts,color:"text-yellow-500",filter:"draft"},{label:"SIGNED THIS MONTH",value:A.signedThisMonth,color:"text-green-500",filter:"signed"},{label:"PENDING SIGNATURES",value:A.pending,color:"text-blue-400",filter:""},{label:"TOTAL VALUE",value:`$${A.value.toLocaleString()}`,color:"text-red-400",filter:""}].map(({label:E,value:T,color:C,filter:j})=>o.jsxs("div",{onClick:()=>j!==void 0&&l(j),className:`bg-[#1a1a2e] rounded-xl p-5 border border-gray-800/50 ${j!==""?"cursor-pointer hover:border-gray-600 transition-colors":""}`,children:[o.jsx("div",{className:"text-[11px] font-bold text-gray-500 tracking-widest uppercase mb-3",children:E}),o.jsx("div",{className:`text-3xl font-black ${C}`,children:T})]},E))}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-3 mb-6",children:[o.jsx("input",{type:"text",value:a,onChange:E=>c(E.target.value),placeholder:"Search by organization name...",className:"flex-1 px-4 py-3 bg-[#1a1a2e] border border-gray-800/50 rounded-xl text-white placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-red-500/40 focus:border-red-500/40"}),o.jsxs("select",{value:u,onChange:E=>l(E.target.value),className:"px-4 py-3 bg-[#1a1a2e] border border-gray-800/50 rounded-xl text-gray-300 focus:outline-none focus:ring-2 focus:ring-red-500/40 min-w-[160px]",children:[o.jsx("option",{value:"",children:"All Statuses"}),o.jsx("option",{value:"draft",children:"Draft"}),o.jsx("option",{value:"sent",children:"Sent"}),o.jsx("option",{value:"viewed",children:"Viewed"}),o.jsx("option",{value:"signed",children:"Signed"}),o.jsx("option",{value:"expired",children:"Expired"})]}),o.jsxs("select",{value:d,onChange:E=>f(E.target.value),className:"px-4 py-3 bg-[#1a1a2e] border border-gray-800/50 rounded-xl text-gray-300 focus:outline-none focus:ring-2 focus:ring-red-500/40 min-w-[160px]",children:[o.jsx("option",{value:"created_desc",children:"Newest First"}),o.jsx("option",{value:"created_asc",children:"Oldest First"}),o.jsx("option",{value:"org_name",children:"Organization A-Z"}),o.jsx("option",{value:"status",children:"Status"})]})]}),r.length===0?o.jsxs("div",{className:"bg-[#1a1a2e] rounded-xl p-12 text-center border border-gray-800/50",children:[o.jsx("div",{className:"text-6xl mb-4",children:""}),o.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:t.length===0?"No Contracts Yet":"No Contracts Found"}),o.jsx("p",{className:"text-gray-500 mb-6",children:t.length===0?"Create your first contract to get started":"Try adjusting your search or filters"}),t.length===0&&o.jsx("button",{onClick:()=>v("/portal/contracts/new"),className:"bg-red-600 hover:bg-red-700 text-white px-6 py-3 rounded-lg font-bold transition-all",children:"Create New Contract"})]}):o.jsx("div",{className:"flex flex-col gap-3",children:r.map(E=>{const T=E.contract_data?.event_date?new Date(E.contract_data.event_date).toLocaleDateString("en-AU"):"Not set",C=new Date(E.created_at).toLocaleDateString("en-AU");return o.jsx("div",{onClick:()=>E.status==="draft"?v(`/portal/contracts/${E.id}/edit`):v(`/portal/contracts/${E.id}`),className:`bg-[#1a1a2e] rounded-xl p-5 border-l-4 ${E.status==="draft"?"border-l-yellow-500":"border-l-red-600"} border border-gray-800/50 hover:border-gray-700 cursor-pointer transition-all hover:bg-[#1f1f35] group`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-lg font-bold text-white group-hover:text-red-400 transition-colors",children:E.org_name||"Untitled Contract"}),o.jsxs("div",{className:"flex flex-wrap gap-x-6 gap-y-1 mt-2 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-[10px] font-bold text-gray-600 uppercase tracking-wider",children:"Promoter"}),o.jsx("div",{className:"text-gray-300",children:E.promoter_name||"N/A"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-[10px] font-bold text-gray-600 uppercase tracking-wider",children:"Event Date"}),o.jsx("div",{className:"text-gray-300",children:T})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-[10px] font-bold text-gray-600 uppercase tracking-wider",children:"Created"}),o.jsx("div",{className:"text-gray-300",children:C})]})]})]}),o.jsxs("span",{className:`px-3 py-1.5 rounded-full text-xs font-bold uppercase tracking-wider ${LRe[E.status]||"bg-gray-700 text-gray-300"}`,children:[TM(E.status)," ",E.status]})]})},E.id)})})]})}function Sre({onSignatureChange:t,className:e=""}){const r=k.useRef(null),n=k.useRef(!1),i=k.useRef({x:0,y:0});k.useEffect(()=>{const a=r.current;if(!a)return;const c=()=>{const u=a.getBoundingClientRect();a.width=u.width,a.height=u.height,a.getContext("2d").clearRect(0,0,a.width,a.height)};return setTimeout(c,100),window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)},[]),k.useEffect(()=>{const a=r.current;if(!a)return;const c=a.getContext("2d"),u=A=>{const p=a.getBoundingClientRect(),v=(A.clientX||A.touches?.[0]?.clientX||0)-p.left,y=(A.clientY||A.touches?.[0]?.clientY||0)-p.top;return{x:v,y}},l=A=>{A.preventDefault(),n.current=!0;const p=u(A);i.current=p},d=A=>{if(!n.current)return;A.preventDefault();const p=u(A);c.strokeStyle="#ffffff",c.lineWidth=2,c.lineCap="round",c.lineJoin="round",c.beginPath(),c.moveTo(i.current.x,i.current.y),c.lineTo(p.x,p.y),c.stroke(),i.current=p,t&&t(a)},f=()=>{n.current=!1};return a.addEventListener("mousedown",l),a.addEventListener("mousemove",d),a.addEventListener("mouseup",f),a.addEventListener("mouseout",f),a.addEventListener("touchstart",l),a.addEventListener("touchmove",d),a.addEventListener("touchend",f),()=>{a.removeEventListener("mousedown",l),a.removeEventListener("mousemove",d),a.removeEventListener("mouseup",f),a.removeEventListener("mouseout",f),a.removeEventListener("touchstart",l),a.removeEventListener("touchmove",d),a.removeEventListener("touchend",f)}},[t]);const s=()=>{const a=r.current;if(!a)return;a.getContext("2d").clearRect(0,0,a.width,a.height),t&&t(a)};return o.jsxs("div",{className:"signature-canvas-container",children:[o.jsx("canvas",{ref:r,className:`border-2 border-gray-600 rounded-lg bg-gray-900 cursor-crosshair touch-none ${e}`,style:{width:"100%",height:"200px"}}),o.jsx("button",{type:"button",onClick:s,className:"mt-2 px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:"Clear Signature"})]})}const Wy=6;function hz({editMode:t=!1}){const{id:e}=Qm(),[r,n]=k.useState(1),[i,s]=k.useState({agreement_date:new Date().toISOString().split("T")[0],ffm_abn:"",org_name:"",promoter_name:"",promoter_position:"",promoter_email:"",promoter_phone:"",org_instagram:"",org_facebook:"",org_website:"",event_name:"",event_date:"",event_location:"",event_type:"BJJ / Grappling Competition",estimated_matches:"",expected_athletes:"",expected_audience:"",camera_angles:"2",camera_angles_max:"",crew_size:"2",crew_size_max:"",multi_event_count:"1",multi_event_duration:"",highlight_delivery_days:"7",highlight_delivery_days_max:"",social_clips_count:"5",social_clips_count_max:"",social_clips_delivery_days:"5",social_clips_delivery_days_max:"",photo_count:"50",photo_count_max:"",photography_included:!0,photography_type:"professional",livestream_included:!1,ppv_included:!1,ppv_platform:"",ppv_price:"",ppv_price_type:"fixed",ppv_price_max:"",ppv_ffm_split:"70",ppv_client_split:"30",ppv_payment_days:"21",vip_price:"350",match_price:"175",season_price:"899",athlete_revenue_ffm_100:!0,athlete_ffm_split:"80",athlete_client_split:"20",setup_hours:"2",internet_speed:"",schedule_hours_before:"48",athlete_list_days_before:"7",cancellation_fee:"500",initial_term_months:"12",renewal_period_months:"12",nonrenewal_notice_days:"60",termination_notice_days:"30",remedy_period_days:"14",pli_amount:"20000000"}),[a,c]=k.useState([]),[u,l]=k.useState([{name:"VIP Coverage",price:"350",description:"Full event coverage with priority editing, professional highlight reel, all match recordings, and premium photo package."},{name:"Match Package",price:"175",description:"Individual match recording with edited highlights and action photos from your matches."},{name:"Season Pass",price:"899",description:"Full season coverage across all events, priority processing, and exclusive content access."}]),[d,f]=k.useState([]),[A,p]=k.useState(!1),[v,y]=k.useState(!1),[x,w]=k.useState(null),[E,T]=k.useState(t),[C,j]=k.useState(!0);k.useRef(null);const[P,U]=k.useState(null),[W,q]=k.useState(!1),[re,ie]=k.useState(null),Ae=Mc();k.useEffect(()=>{t&&e&&be()},[t,e]);const be=async()=>{try{T(!0);const We=await gre(e);w(We);const gt=We.contract_data||{};s(Ge=>({...Ge,...gt})),gt.multi_events&&c(gt.multi_events),gt.athlete_packages&&l(gt.athlete_packages),gt.add_ons&&f(gt.add_ons)}catch(We){console.error("Error loading contract:",We),alert("Failed to load contract for editing"),Ae("/portal/contracts")}finally{T(!1)}};k.useEffect(()=>{if(!t){const We=localStorage.getItem("contractBuilderData");if(We)try{const gt=JSON.parse(We);s(gt.formData||i),c(gt.multiEvents||[]),gt.athletePackages&&l(gt.athletePackages),gt.addOns&&f(gt.addOns),n(gt.currentStep||1)}catch(gt){console.error("Error loading saved data:",gt)}}},[t]),k.useEffect(()=>{localStorage.setItem("contractBuilderData",JSON.stringify({formData:i,multiEvents:a,athletePackages:u,addOns:d,currentStep:r}))},[i,a,u,d,r]);const Ee=We=>{const{name:gt,value:Ge,type:Ct,checked:Et}=We.target;s(Ut=>({...Ut,[gt]:Ct==="checkbox"?Et:Ge}))},ge=()=>{c([...a,{name:"",date:"",venue:""}])},se=We=>{c(a.filter((gt,Ge)=>Ge!==We))},xe=(We,gt,Ge)=>{const Ct=[...a];Ct[We][gt]=Ge,c(Ct)},ce=(We,gt)=>{const Ge=We+gt;if(Ge<0||Ge>=a.length)return;const Ct=[...a],[Et]=Ct.splice(We,1);Ct.splice(Ge,0,Et),c(Ct)},Me=()=>{l([...u,{name:"",price:"",description:""}])},Oe=We=>{l(u.filter((gt,Ge)=>Ge!==We))},we=(We,gt,Ge)=>{const Ct=[...u];Ct[We][gt]=Ge,l(Ct)},ue=()=>{f([...d,{name:"",price:"",description:"",included:!0}])},ye=We=>{f(d.filter((gt,Ge)=>Ge!==We))},Le=(We,gt,Ge)=>{const Ct=[...d];Ct[We][gt]=Ge,f(Ct)},He=We=>{const Ge={1:["org_name","promoter_name","promoter_position","promoter_email","promoter_phone"],2:["event_name","event_date","event_location","estimated_matches","expected_athletes","expected_audience"],3:[],4:[],5:[],6:[]}[We]||[];for(const Ct of Ge)if(!i[Ct]||i[Ct].trim()==="")return alert("Please fill in all required fields in this step."),!1;return!0},Fe=()=>{He(r)&&r<Wy&&(n(r+1),window.scrollTo({top:0,behavior:"smooth"}))},At=()=>{r>1&&(n(r-1),window.scrollTo({top:0,behavior:"smooth"}))},pt=We=>{n(We),window.scrollTo({top:0,behavior:"smooth"})},Pe=async We=>{We.preventDefault();const gt=P&&Ere(P);if(!t){if(!gt){alert("Please sign the contract before submitting.");return}if(!W){alert("Please confirm your signature.");return}}p(!0);try{const Ge={...i,multi_events:a,athlete_packages:u,add_ons:d};if(t&&x){const Ct={org_name:i.org_name,promoter_name:i.promoter_name,promoter_email:i.promoter_email,promoter_phone:i.promoter_phone,contract_data:Ge,updated_at:new Date().toISOString()};gt&&W&&(Ct.ffm_signature=jO(P),Ct.ffm_signed_at=new Date().toISOString()),await uz(e,Ct),alert("Contract updated successfully!"),Ae(`/portal/contracts/${e}`)}else{const Ct=jO(P),Et=await cz({status:"sent",org_name:i.org_name,promoter_name:i.promoter_name,promoter_email:i.promoter_email,promoter_phone:i.promoter_phone,contract_data:Ge,ffm_signature:Ct,ffm_signed_at:new Date().toISOString()});localStorage.removeItem("contractBuilderData"),alert("Contract created successfully! You can now share it with the client."),Ae(`/portal/contracts/${Et.id}`)}}catch(Ge){console.error("Error saving contract:",Ge),alert("Failed to save contract: "+Ge.message)}finally{p(!1)}},st=async()=>{y(!0);try{const We={...i,multi_events:a,athlete_packages:u,add_ons:d};if(t&&x)await uz(e,{status:x.status==="draft"?"draft":x.status,org_name:i.org_name||"Untitled Draft",promoter_name:i.promoter_name,promoter_email:i.promoter_email,promoter_phone:i.promoter_phone,contract_data:We}),ie(new Date),alert("Draft saved!");else{const gt=await cz({status:"draft",org_name:i.org_name||"Untitled Draft",promoter_name:i.promoter_name,promoter_email:i.promoter_email,promoter_phone:i.promoter_phone,contract_data:We});localStorage.removeItem("contractBuilderData"),Ae(`/portal/contracts/${gt.id}/edit`,{replace:!0}),w(gt),ie(new Date),alert("Draft saved! You can continue editing or come back later.")}}catch(We){console.error("Error saving draft:",We),alert("Failed to save draft: "+We.message)}finally{y(!1)}},et={contract_data:{...i,multi_events:a,athlete_packages:u,add_ons:d},ffm_signature:null,client_signature:null};return E?o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsx("div",{className:"text-white text-xl",children:"Loading contract..."})}):o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsxs("div",{children:[o.jsxs("button",{onClick:()=>Ae(t?`/portal/contracts/${e}`:"/portal/contracts"),className:"text-gray-400 hover:text-white mb-2 inline-flex items-center gap-2",children:[" ",t?"Back to Contract":"Back to Dashboard"]}),o.jsx("h1",{className:"text-3xl font-bold text-white",children:t?`Edit Contract: ${i.org_name||"Untitled"}`:"Create New Contract"})]}),o.jsxs("button",{onClick:()=>j(!C),className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:[C?"Hide":"Show"," Preview"]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"bg-dark-900 rounded-lg p-6 mb-6 border border-gray-800",children:[o.jsx("div",{className:"flex items-center justify-between mb-4",children:Array.from({length:Wy},(We,gt)=>gt+1).map(We=>o.jsx("button",{onClick:()=>pt(We),className:`flex-1 text-center py-2 px-3 rounded-lg font-medium transition-colors ${We===r?"bg-blue-600 text-white":We<r?"bg-green-600 text-white":"bg-gray-800 text-gray-400"} ${We<Wy?"mr-2":""}`,children:We},We))}),o.jsxs("div",{className:"text-center text-gray-400 text-sm",children:["Step ",r," of ",Wy]})]}),o.jsxs("form",{onSubmit:Pe,noValidate:!0,className:"bg-dark-900 rounded-lg p-6 border border-gray-800",children:[r===1&&o.jsxs("div",{className:"space-y-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Step 1: Party Details"}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Agreement Date ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"date",name:"agreement_date",value:i.agreement_date,onChange:Ee,required:!0,className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"FFM ABN"}),o.jsx("input",{type:"text",name:"ffm_abn",value:i.ffm_abn,onChange:Ee,placeholder:"Enter ABN if available",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Organization Name ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"org_name",value:i.org_name,onChange:Ee,required:!0,placeholder:"e.g., Queensland Grappling Association",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Promoter Name ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"promoter_name",value:i.promoter_name,onChange:Ee,required:!0,placeholder:"Full name of the promoter",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Promoter Position ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"promoter_position",value:i.promoter_position,onChange:Ee,required:!0,placeholder:"e.g., Event Director, CEO",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Promoter Email ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"email",name:"promoter_email",value:i.promoter_email,onChange:Ee,required:!0,placeholder:"email@example.com",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Promoter Phone ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"tel",name:"promoter_phone",value:i.promoter_phone,onChange:Ee,required:!0,placeholder:"+61 4XX XXX XXX",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{className:"pt-4 border-t border-gray-700",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-300 mb-4",children:"Social & Web (Optional)"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Instagram"}),o.jsx("input",{type:"text",name:"org_instagram",value:i.org_instagram,onChange:Ee,placeholder:"@yourorg",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Facebook"}),o.jsx("input",{type:"text",name:"org_facebook",value:i.org_facebook,onChange:Ee,placeholder:"facebook.com/yourorg",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Website"}),o.jsx("input",{type:"text",name:"org_website",value:i.org_website,onChange:Ee,placeholder:"https://yourorg.com",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]})]}),r===2&&o.jsxs("div",{className:"space-y-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Step 2: Event Details"}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Event Name ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"event_name",value:i.event_name,onChange:Ee,required:!0,placeholder:"e.g., Queensland Open 2024",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Event Date ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"date",name:"event_date",value:i.event_date,onChange:Ee,required:!0,className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Event Location ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",name:"event_location",value:i.event_location,onChange:Ee,required:!0,placeholder:"Venue name and address",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Event Type"}),o.jsx("input",{type:"text",name:"event_type",value:i.event_type,onChange:Ee,placeholder:"e.g., BJJ / Grappling Competition",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Estimated Matches ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"number",name:"estimated_matches",value:i.estimated_matches,onChange:Ee,required:!0,placeholder:"e.g., 200",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Expected Athlete Participants ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"number",name:"expected_athletes",value:i.expected_athletes,onChange:Ee,required:!0,placeholder:"e.g., 400",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Expected Audience ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"number",name:"expected_audience",value:i.expected_audience,onChange:Ee,required:!0,placeholder:"e.g., 300",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Multi-Event Count"}),o.jsx("input",{type:"number",name:"multi_event_count",value:i.multi_event_count,onChange:Ee,placeholder:"e.g., 1",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Multi-Event Duration"}),o.jsx("input",{type:"text",name:"multi_event_duration",value:i.multi_event_duration,onChange:Ee,placeholder:"e.g., 12 months",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Event Schedule (Optional)"}),o.jsx("button",{type:"button",onClick:ge,className:"px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white rounded text-sm transition-colors",children:"+ Add Event"})]}),a.map((We,gt)=>o.jsx("div",{className:"bg-dark-800 p-4 rounded-lg mb-2",children:o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsxs("span",{className:"text-gray-400 text-sm font-medium w-6",children:["#",gt+1]}),o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("button",{type:"button",onClick:()=>ce(gt,-1),disabled:gt===0,className:`px-2 py-0.5 rounded text-xs ${gt===0?"text-gray-600 cursor-not-allowed":"text-gray-400 hover:text-white hover:bg-dark-600"}`,title:"Move up",children:""}),o.jsx("button",{type:"button",onClick:()=>ce(gt,1),disabled:gt===a.length-1,className:`px-2 py-0.5 rounded text-xs ${gt===a.length-1?"text-gray-600 cursor-not-allowed":"text-gray-400 hover:text-white hover:bg-dark-600"}`,title:"Move down",children:""})]}),o.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-3 gap-2",children:[o.jsx("input",{type:"text",value:We.name,onChange:Ge=>xe(gt,"name",Ge.target.value),placeholder:"Event Name",className:"px-3 py-2 bg-dark-700 border border-gray-600 rounded text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),o.jsx("input",{type:"date",value:We.date,onChange:Ge=>xe(gt,"date",Ge.target.value),className:"px-3 py-2 bg-dark-700 border border-gray-600 rounded text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),o.jsx("input",{type:"text",value:We.venue,onChange:Ge=>xe(gt,"venue",Ge.target.value),placeholder:"Venue",className:"px-3 py-2 bg-dark-700 border border-gray-600 rounded text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsx("button",{type:"button",onClick:()=>se(gt),className:"text-red-500 hover:text-red-400 text-sm px-2",title:"Remove event",children:""})]})},gt))]})]}),r===3&&o.jsxs("div",{className:"space-y-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Step 3: Coverage & Deliverables"}),o.jsx("p",{className:"text-sm text-gray-400 mb-4",children:' All fields support ranges. Leave "Max" empty for a single value, or enter a max to specify a range (e.g., "2-3").'}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Camera Angles"}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("input",{type:"number",name:"camera_angles",value:i.camera_angles,onChange:Ee,placeholder:"Min",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),o.jsx("span",{className:"text-xs text-gray-500 mt-1 block",children:"Min"})]}),o.jsxs("div",{children:[o.jsx("input",{type:"number",name:"camera_angles_max",value:i.camera_angles_max,onChange:Ee,placeholder:"Max (optional)",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),o.jsx("span",{className:"text-xs text-gray-500 mt-1 block",children:"Max (optional)"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"On-Site Crew Size"}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("input",{type:"number",name:"crew_size",value:i.crew_size,onChange:Ee,placeholder:"Min",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),o.jsx("span",{className:"text-xs text-gray-500 mt-1 block",children:"Min"})]}),o.jsxs("div",{children:[o.jsx("input",{type:"number",name:"crew_size_max",value:i.crew_size_max,onChange:Ee,placeholder:"Max (optional)",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),o.jsx("span",{className:"text-xs text-gray-500 mt-1 block",children:"Max (optional)"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Highlight Reel Delivery (Days)"}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("input",{type:"number",name:"highlight_delivery_days",value:i.highlight_delivery_days,onChange:Ee,placeholder:"Min",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),o.jsx("span",{className:"text-xs text-gray-500 mt-1 block",children:"Min"})]}),o.jsxs("div",{children:[o.jsx("input",{type:"number",name:"highlight_delivery_days_max",value:i.highlight_delivery_days_max,onChange:Ee,placeholder:"Max (optional)",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),o.jsx("span",{className:"text-xs text-gray-500 mt-1 block",children:"Max (optional)"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Social Media Clips Count"}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("input",{type:"number",name:"social_clips_count",value:i.social_clips_count,onChange:Ee,placeholder:"Min",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),o.jsx("span",{className:"text-xs text-gray-500 mt-1 block",children:"Min"})]}),o.jsxs("div",{children:[o.jsx("input",{type:"number",name:"social_clips_count_max",value:i.social_clips_count_max,onChange:Ee,placeholder:"Max (optional)",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),o.jsx("span",{className:"text-xs text-gray-500 mt-1 block",children:"Max (optional)"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Social Clips Delivery (Days)"}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("input",{type:"number",name:"social_clips_delivery_days",value:i.social_clips_delivery_days,onChange:Ee,placeholder:"Min",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),o.jsx("span",{className:"text-xs text-gray-500 mt-1 block",children:"Min"})]}),o.jsxs("div",{children:[o.jsx("input",{type:"number",name:"social_clips_delivery_days_max",value:i.social_clips_delivery_days_max,onChange:Ee,placeholder:"Max (optional)",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),o.jsx("span",{className:"text-xs text-gray-500 mt-1 block",children:"Max (optional)"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Photography"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[o.jsx("input",{type:"radio",name:"photography_type",value:"none",checked:i.photography_type==="none",onChange:Ee,className:"w-4 h-4 text-blue-600 bg-dark-800 border-gray-700 focus:ring-2 focus:ring-blue-500"}),o.jsx("span",{className:"text-gray-300",children:"No photography included"})]}),o.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[o.jsx("input",{type:"radio",name:"photography_type",value:"base",checked:i.photography_type==="base",onChange:Ee,className:"w-4 h-4 text-blue-600 bg-dark-800 border-gray-700 focus:ring-2 focus:ring-blue-500"}),o.jsx("span",{className:"text-gray-300",children:"Base event photography"})]}),o.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[o.jsx("input",{type:"radio",name:"photography_type",value:"professional",checked:i.photography_type==="professional",onChange:Ee,className:"w-4 h-4 text-blue-600 bg-dark-800 border-gray-700 focus:ring-2 focus:ring-blue-500"}),o.jsx("span",{className:"text-gray-300",children:"Professional event photography"})]})]})]}),i.photography_type!=="none"&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Photo Count"}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("input",{type:"number",name:"photo_count",value:i.photo_count,onChange:Ee,placeholder:"Min",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),o.jsx("span",{className:"text-xs text-gray-500 mt-1 block",children:"Min"})]}),o.jsxs("div",{children:[o.jsx("input",{type:"number",name:"photo_count_max",value:i.photo_count_max,onChange:Ee,placeholder:"Max (optional)",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),o.jsx("span",{className:"text-xs text-gray-500 mt-1 block",children:"Max (optional)"})]})]})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",id:"livestream_included",name:"livestream_included",checked:i.livestream_included,onChange:Ee,className:"w-4 h-4 text-blue-600 bg-dark-800 border-gray-700 rounded focus:ring-2 focus:ring-blue-500"}),o.jsx("label",{htmlFor:"livestream_included",className:"ml-2 text-sm font-medium text-gray-300",children:"Livestream Included"})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",id:"ppv_included",name:"ppv_included",checked:i.ppv_included,onChange:Ee,className:"w-4 h-4 text-blue-600 bg-dark-800 border-gray-700 rounded focus:ring-2 focus:ring-blue-500"}),o.jsx("label",{htmlFor:"ppv_included",className:"ml-2 text-sm font-medium text-gray-300",children:"PPV Included"})]}),i.ppv_included&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"PPV Platform"}),o.jsx("input",{type:"text",name:"ppv_platform",value:i.ppv_platform,onChange:Ee,placeholder:"e.g., Vimeo, YouTube Live",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"PPV Pricing Type"}),o.jsxs("div",{className:"flex gap-4 mb-3",children:[o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"radio",name:"ppv_price_type",value:"fixed",checked:i.ppv_price_type==="fixed",onChange:Ee,className:"text-orange-500 focus:ring-orange-500"}),o.jsx("span",{className:"text-gray-300",children:"Fixed Price"})]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"radio",name:"ppv_price_type",value:"range",checked:i.ppv_price_type==="range",onChange:Ee,className:"text-orange-500 focus:ring-orange-500"}),o.jsx("span",{className:"text-gray-300",children:"Price Range"})]})]}),i.ppv_price_type==="fixed"?o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"PPV Price per Viewer"}),o.jsx("input",{type:"number",name:"ppv_price",value:i.ppv_price,onChange:Ee,placeholder:"e.g., 25.00",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}):o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Minimum Price"}),o.jsx("input",{type:"number",name:"ppv_price",value:i.ppv_price,onChange:Ee,placeholder:"e.g., 25.00",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Maximum Price"}),o.jsx("input",{type:"number",name:"ppv_price_max",value:i.ppv_price_max,onChange:Ee,placeholder:"e.g., 35.00",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]})]})]}),r===4&&o.jsxs("div",{className:"space-y-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Step 4: Financial Terms"}),i.ppv_included&&o.jsxs(o.Fragment,{children:[o.jsx("h3",{className:"text-lg font-bold text-white mt-6",children:"PPV Revenue Split"}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"FFM PPV Share (%)"}),o.jsx("input",{type:"number",name:"ppv_ffm_split",value:i.ppv_ffm_split,onChange:Ee,placeholder:"e.g., 70",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Client PPV Share (%)"}),o.jsx("input",{type:"number",name:"ppv_client_split",value:i.ppv_client_split,onChange:Ee,placeholder:"e.g., 30",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"PPV Payment Within (Days)"}),o.jsx("input",{type:"number",name:"ppv_payment_days",value:i.ppv_payment_days,onChange:Ee,placeholder:"e.g., 21",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-lg font-bold text-white",children:"Athlete Media Packages"}),o.jsx("button",{type:"button",onClick:Me,className:"px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white rounded text-sm transition-colors",children:"+ Add Package"})]}),u.length===0&&o.jsx("p",{className:"text-gray-400 text-sm mb-4",children:'No packages added. Click "+ Add Package" to create athlete media packages.'}),u.map((We,gt)=>o.jsxs("div",{className:"bg-dark-800 p-4 rounded-lg mb-4 border border-gray-700",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("span",{className:"text-sm font-medium text-gray-400",children:["Package ",gt+1]}),o.jsx("button",{type:"button",onClick:()=>Oe(gt),className:"text-red-500 hover:text-red-400 text-sm",children:"Remove"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Package Name"}),o.jsx("input",{type:"text",value:We.name,onChange:Ge=>we(gt,"name",Ge.target.value),placeholder:"e.g., VIP Coverage",className:"w-full px-3 py-2 bg-dark-700 border border-gray-600 rounded text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Price ($)"}),o.jsx("input",{type:"number",value:We.price,onChange:Ge=>we(gt,"price",Ge.target.value),placeholder:"e.g., 350",className:"w-full px-3 py-2 bg-dark-700 border border-gray-600 rounded text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Description (what's included)"}),o.jsx("textarea",{value:We.description,onChange:Ge=>we(gt,"description",Ge.target.value),placeholder:"Describe what this package includes...",rows:2,className:"w-full px-3 py-2 bg-dark-700 border border-gray-600 rounded text-white focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none"})]})]},gt))]}),o.jsxs("div",{className:"mt-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-lg font-bold text-white",children:"Client Add-Ons"}),o.jsx("button",{type:"button",onClick:ue,className:"px-3 py-1 bg-green-600 hover:bg-green-700 text-white rounded text-sm transition-colors",children:"+ Add Add-On"})]}),o.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Optional services or packages the client has opted into for this event."}),d.length===0&&o.jsx("p",{className:"text-gray-500 text-sm italic mb-4",children:'No add-ons added. Click "+ Add Add-On" to include optional services.'}),d.map((We,gt)=>o.jsxs("div",{className:"bg-dark-800 p-4 rounded-lg mb-4 border border-green-900",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("span",{className:"text-sm font-medium text-green-400",children:["Add-On ",gt+1]}),o.jsx("button",{type:"button",onClick:()=>ye(gt),className:"text-red-500 hover:text-red-400 text-sm",children:"Remove"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Add-On Name"}),o.jsx("input",{type:"text",value:We.name,onChange:Ge=>Le(gt,"name",Ge.target.value),placeholder:"e.g., Additional Camera Operator",className:"w-full px-3 py-2 bg-dark-700 border border-gray-600 rounded text-white focus:outline-none focus:ring-2 focus:ring-green-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Price ($)"}),o.jsx("input",{type:"number",value:We.price,onChange:Ge=>Le(gt,"price",Ge.target.value),placeholder:"e.g., 500",className:"w-full px-3 py-2 bg-dark-700 border border-gray-600 rounded text-white focus:outline-none focus:ring-2 focus:ring-green-500"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Description"}),o.jsx("textarea",{value:We.description,onChange:Ge=>Le(gt,"description",Ge.target.value),placeholder:"Describe what this add-on includes...",rows:2,className:"w-full px-3 py-2 bg-dark-700 border border-gray-600 rounded text-white focus:outline-none focus:ring-2 focus:ring-green-500 resize-none"})]})]},gt))]}),o.jsx("h3",{className:"text-lg font-bold text-white mt-6",children:"Athlete Revenue Split"}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",id:"athlete_revenue_ffm_100",name:"athlete_revenue_ffm_100",checked:i.athlete_revenue_ffm_100,onChange:Ee,className:"w-4 h-4 text-blue-600 bg-dark-800 border-gray-700 rounded focus:ring-2 focus:ring-blue-500"}),o.jsx("label",{htmlFor:"athlete_revenue_ffm_100",className:"ml-2 text-sm font-medium text-gray-300",children:"FFM Retains 100% of Athlete Media Package Sales"})]}),!i.athlete_revenue_ffm_100&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"FFM Athlete Revenue Share (%)"}),o.jsx("input",{type:"number",name:"athlete_ffm_split",value:i.athlete_ffm_split,onChange:Ee,placeholder:"e.g., 80",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Client Athlete Revenue Share (%)"}),o.jsx("input",{type:"number",name:"athlete_client_split",value:i.athlete_client_split,onChange:Ee,placeholder:"e.g., 20",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),r===5&&o.jsxs("div",{className:"space-y-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Step 5: Terms & Conditions"}),o.jsx("h3",{className:"text-lg font-bold text-white",children:"Access & Logistics"}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Setup Hours Before Event"}),o.jsx("input",{type:"number",name:"setup_hours",value:i.setup_hours,onChange:Ee,placeholder:"e.g., 2",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Internet Upload Speed (Mbps)"}),o.jsx("input",{type:"text",name:"internet_speed",value:i.internet_speed,onChange:Ee,placeholder:"e.g., 50",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Event Schedule Provided (Hours Before)"}),o.jsx("input",{type:"number",name:"schedule_hours_before",value:i.schedule_hours_before,onChange:Ee,placeholder:"e.g., 48",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Athlete List Provided (Days Before)"}),o.jsx("input",{type:"number",name:"athlete_list_days_before",value:i.athlete_list_days_before,onChange:Ee,placeholder:"e.g., 7",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsx("h3",{className:"text-lg font-bold text-white mt-6",children:"Cancellation & Term"}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Cancellation Fee"}),o.jsx("input",{type:"number",name:"cancellation_fee",value:i.cancellation_fee,onChange:Ee,placeholder:"e.g., 500",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Initial Term (Months)"}),o.jsx("input",{type:"number",name:"initial_term_months",value:i.initial_term_months,onChange:Ee,placeholder:"e.g., 12",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Auto-Renewal Period (Months)"}),o.jsx("input",{type:"number",name:"renewal_period_months",value:i.renewal_period_months,onChange:Ee,placeholder:"e.g., 12",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Non-Renewal Notice (Days)"}),o.jsx("input",{type:"number",name:"nonrenewal_notice_days",value:i.nonrenewal_notice_days,onChange:Ee,placeholder:"e.g., 60",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Termination Notice (Days)"}),o.jsx("input",{type:"number",name:"termination_notice_days",value:i.termination_notice_days,onChange:Ee,placeholder:"e.g., 30",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Remedy Period (Days)"}),o.jsx("input",{type:"number",name:"remedy_period_days",value:i.remedy_period_days,onChange:Ee,placeholder:"e.g., 14",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Public Liability Insurance Amount"}),o.jsx("input",{type:"number",name:"pli_amount",value:i.pli_amount,onChange:Ee,placeholder:"e.g., 20000000",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),r===6&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("h2",{className:"text-2xl font-bold text-white mb-4",children:["Step 6: ",t?"Review & Save":"Sign Contract"]}),t&&x?.ffm_signature&&o.jsxs("div",{className:"bg-green-900/20 border border-green-600 rounded-lg p-4 mb-4",children:[o.jsx("p",{className:"text-green-200 text-sm mb-3",children:" This contract already has an FFM signature. You can update the contract details without re-signing, or provide a new signature below if needed."}),o.jsx("div",{className:"bg-white p-2 rounded inline-block",children:o.jsx("img",{src:x.ffm_signature,alt:"Existing FFM Signature",className:"max-h-24"})}),o.jsxs("p",{className:"text-green-300 text-xs mt-2",children:["Signed: ",new Date(x.ffm_signed_at).toLocaleString()]})]}),o.jsx("div",{className:"bg-yellow-900/20 border border-yellow-600 rounded-lg p-4",children:o.jsx("p",{className:"text-yellow-200 text-sm",children:t?" Review your changes. If you want to update the signature, draw a new one below and check the confirmation box.":" By signing this contract, you confirm that all information provided is accurate and you are authorized to create this agreement on behalf of Fit Focus Media."})}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:t?"New FFM Signature (optional)":"FFM Signature"}),o.jsx(Sre,{onSignatureChange:We=>U(We)})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",id:"confirmSignature",checked:W,onChange:We=>q(We.target.checked),className:"w-4 h-4 text-blue-600 bg-dark-800 border-gray-700 rounded focus:ring-2 focus:ring-blue-500"}),o.jsx("label",{htmlFor:"confirmSignature",className:"ml-2 text-sm font-medium text-gray-300",children:t?"I want to update the signature with the new one above":"I confirm this is my signature and I am authorized to sign this contract"})]})]}),o.jsxs("div",{className:"flex items-center justify-between mt-8 pt-6 border-t border-gray-700",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[r>1&&o.jsx("button",{type:"button",onClick:At,className:"px-6 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:" Previous"}),o.jsx("button",{type:"button",onClick:st,disabled:v,className:"px-4 py-2 bg-yellow-600 hover:bg-yellow-700 disabled:bg-yellow-800 text-white rounded-lg transition-colors flex items-center gap-2",children:v?o.jsx(o.Fragment,{children:" Saving..."}):o.jsx(o.Fragment,{children:" Save Draft"})}),re&&o.jsxs("span",{className:"text-xs text-gray-500",children:["Saved ",re.toLocaleTimeString()]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[r<Wy&&o.jsx("button",{type:"button",onClick:Fe,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"Next "}),r===Wy&&o.jsx("button",{type:"submit",disabled:A,className:"px-6 py-2 bg-green-600 hover:bg-green-700 disabled:bg-green-800 text-white rounded-lg transition-colors",children:A?t?"Updating Contract...":"Creating Contract...":t?"Update Contract":"Sign & Send Contract"})]})]})]})]}),C&&o.jsx("div",{className:"lg:sticky lg:top-8 lg:h-[calc(100vh-4rem)]",children:o.jsxs("div",{className:"bg-dark-900 rounded-lg p-6 border border-gray-800 overflow-y-auto h-full",children:[o.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Live Preview"}),o.jsx("div",{className:"text-sm",dangerouslySetInnerHTML:{__html:SM(et)}})]})})]})]})}function ORe(){const{id:t}=Qm(),[e,r]=k.useState(null),[n,i]=k.useState(!0),s=Mc();k.useEffect(()=>{a()},[t]);const a=async()=>{try{const p=await gre(t);r(p)}catch(p){console.error("Error loading contract:",p),alert("Contract not found"),s("/portal/contracts")}finally{i(!1)}},[c,u]=k.useState(!1),l=async()=>{const p=NO(e.share_token);try{if(navigator.clipboard&&navigator.clipboard.writeText)await navigator.clipboard.writeText(p);else{const v=document.createElement("textarea");v.value=p,v.style.position="fixed",v.style.left="-9999px",document.body.appendChild(v),v.focus(),v.select(),document.execCommand("copy"),document.body.removeChild(v)}u(!0),setTimeout(()=>u(!1),3e3)}catch{alert(`Copy this link:

`+p)}},d=()=>{const{subject:p,body:v}=IRe(e.share_token,e.contract_data?.promoter_name||"there",e.org_name||"Organization"),x=`mailto:${e.contract_data?.promoter_email||""}?subject=${encodeURIComponent(p)}&body=${encodeURIComponent(v)}`;window.open(x,"_blank"),navigator.clipboard.writeText(NO(e.share_token)).catch(()=>{})},f=()=>{window.print()},A=async()=>{if(confirm("Are you sure you want to delete this contract? This cannot be undone."))try{await WPe(e.id),alert("Contract deleted successfully."),s("/portal/contracts")}catch(p){console.error("Error deleting contract:",p),alert("Failed to delete contract: "+p.message)}};return n?o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsx("div",{className:"text-white text-xl",children:"Loading contract..."})}):e?o.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsxs("div",{className:"mb-6 print:hidden",children:[o.jsx("button",{onClick:()=>s("/portal/contracts"),className:"text-gray-400 hover:text-white mb-2 inline-flex items-center gap-2",children:" Back to Dashboard"}),o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:e.org_name||"Untitled Contract"}),o.jsx("p",{className:"text-gray-400",children:e.promoter_name||"No promoter name"})]}),o.jsxs("span",{className:_re(e.status),children:[TM(e.status)," ",e.status]})]})]}),o.jsxs("div",{className:"flex flex-wrap gap-3 mb-6 print:hidden",children:[o.jsx("button",{onClick:l,className:`px-4 py-2 ${c?"bg-green-600":"bg-gray-700 hover:bg-gray-600"} text-white rounded-lg transition-colors`,children:c?" Copied!":" Copy Link"}),e.status!=="signed"&&o.jsx("button",{onClick:d,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:" Send to Client"}),o.jsx("button",{onClick:f,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:" Download PDF"}),e.status!=="signed"&&o.jsx("button",{onClick:()=>s(`/portal/contracts/${e.id}/edit`),className:"px-4 py-2 bg-yellow-600 hover:bg-yellow-700 text-white rounded-lg transition-colors",children:" Edit Contract"}),o.jsx("button",{onClick:A,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors ml-auto",children:" Delete"})]}),o.jsx("div",{className:"bg-dark-900 rounded-lg p-8 border border-gray-800",dangerouslySetInnerHTML:{__html:SM(e)}})]}):null}function PRe(){const{shareToken:t}=Qm(),[e,r]=k.useState(null),[n,i]=k.useState(!0),[s,a]=k.useState(!1),[c,u]=k.useState(null);k.useEffect(()=>{l()},[t]);const l=async()=>{try{const A=await GPe(t);r(A),A.status==="sent"&&!A.viewed_at&&(await YPe(A.id),r({...A,status:"viewed",viewed_at:new Date().toISOString()}))}catch(A){console.error("Error loading contract:",A),alert("Contract not found")}finally{i(!1)}},d=async()=>{if(!c||!Ere(c)){alert("Please sign before submitting.");return}if(confirm("By signing, you agree to all terms and conditions in this agreement. This action cannot be undone.")){a(!0);try{const A=jO(c),p=await XPe(e.id,A,!0);r(p),alert("Contract signed successfully! Both parties will receive confirmation.")}catch(A){console.error("Error submitting signature:",A),alert("Failed to submit signature: "+A.message)}finally{a(!1)}}};if(n)return o.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center",children:o.jsx("div",{className:"text-white text-xl",children:"Loading contract..."})});if(!e)return o.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-6xl mb-4",children:""}),o.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Contract Not Found"}),o.jsx("p",{className:"text-gray-400",children:"This contract link may be invalid or expired."})]})});const f=e.status!=="signed"&&!e.client_signature&&e.ffm_signature;return o.jsxs("div",{className:"min-h-screen bg-dark-950",children:[o.jsx("header",{className:"bg-dark-900 border-b border-gray-800 print:hidden",children:o.jsx("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-white mb-1",children:"Fit Focus Media"}),o.jsx("p",{className:"text-gray-400",children:"Event Media Coverage Agreement"})]}),o.jsxs("span",{className:_re(e.status),children:[TM(e.status)," ",e.status]})]})})}),o.jsxs("main",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsx("div",{className:"bg-dark-900 rounded-lg p-8 border border-gray-800 mb-8",dangerouslySetInnerHTML:{__html:SM(e)}}),f&&o.jsxs("div",{className:"bg-dark-900 rounded-lg p-8 border border-gray-800 print:hidden",children:[o.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Sign Agreement"}),o.jsx("div",{className:"bg-yellow-900/20 border border-yellow-600 rounded-lg p-4 mb-6",children:o.jsx("p",{className:"text-yellow-200 text-sm",children:" By signing this agreement, you acknowledge that you have read, understood, and agree to all terms and conditions outlined above. This signature is legally binding."})}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Your Signature"}),o.jsx(Sre,{onSignatureChange:A=>u(A)})]}),o.jsx("button",{onClick:d,disabled:s,className:"w-full bg-green-600 hover:bg-green-700 disabled:bg-green-800 text-white font-medium py-3 px-6 rounded-lg transition-colors",children:s?"Submitting...":" Accept & Sign Contract"})]}),e.status==="signed"&&o.jsxs("div",{className:"bg-green-900/20 border border-green-600 rounded-lg p-6 text-center print:hidden",children:[o.jsx("div",{className:"text-5xl mb-3",children:""}),o.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Contract Fully Executed"}),o.jsx("p",{className:"text-gray-300",children:"This contract has been signed by both parties. Both parties will receive confirmation."})]})]})]})}async function $_(){const{data:t,error:e}=await Jr.from("crm_leads").select("*").order("priority_score",{ascending:!1});return e?(console.error("Error fetching leads:",e),[]):t||[]}async function RRe(t){const{data:e,error:r}=await Jr.from("crm_leads").select("*").eq("id",t).single();return r?(console.error("Error fetching lead:",r),null):e}async function Tre(t,e){const{data:r,error:n}=await Jr.from("crm_leads").update({...e,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(n)throw console.error("Error updating lead:",n),n;return r}async function M1(t){const{data:e,error:r}=await Jr.from("crm_activities").select("*").eq("lead_id",t).order("created_at",{ascending:!1});return r?(console.error("Error fetching activities:",r),[]):e||[]}async function fz(t,e){const{data:r,error:n}=await Jr.from("crm_activities").insert([{lead_id:t,type:e.type,notes:e.notes,created_at:new Date().toISOString()}]).select().single();if(n)throw console.error("Error adding activity:",n),n;return await Jr.from("crm_leads").update({last_contact:new Date().toISOString()}).eq("id",t),r}async function DRe(t,e){const{data:r,error:n}=await Jr.from("crm_activities").update({type:e.type,notes:e.notes}).eq("id",t).select().single();if(n)throw console.error("Error updating activity:",n),n;return r}async function MRe(t){const{error:e}=await Jr.from("crm_activities").delete().eq("id",t);if(e)throw console.error("Error deleting activity:",e),e;return!0}const Cre=[{id:"cold-outreach",name:"Cold Outreach",subject:"{{org_name}}  free event coverage?",body:`{{decision_maker || "Hey"}},

I'll keep this short.

We film {{sport}} events  multi-camera, professional grade, full match coverage for every athlete. Livestream if you want it.

Here's the thing: you pay nothing.

We make money when athletes buy their footage through our portal after the event. You get free professional coverage. Athletes get content they actually want. Everyone wins.

We just covered NBA Sydney Nationals  400 athletes across 2 days. The org paid $0.

If that sounds interesting, I'll explain how it works in 10 minutes. If not, no worries.

Brandon
0411 934 935`},{id:"follow-up-1",name:"Follow-up #1",subject:"Re: {{org_name}} coverage",body:`{{decision_maker || "Hey"}},

Following up on my last email.

I know you're busy running events, so here's the short version:

 Professional multi-camera coverage for {{org_name}}
 Athletes buy their own footage (you don't lift a finger)
 You pay nothing. Ever.

We've done this for grappling comps, bodybuilding shows, and fight nights. Happy to send examples if useful.

10 minutes to see if it fits?

Brandon
0411 934 935`},{id:"meeting-request",name:"Meeting Request",subject:"{{org_name}}  quick call?",body:`{{decision_maker || "Hey"}},

Thanks for getting back.

Here's what I'll cover (10 min max):
1. How the zero-cost model works (and why there's no catch)
2. What your athletes would actually receive
3. What we'd need from you (almost nothing)

Send me a time that works or just call me direct.

Brandon
0411 934 935`},{id:"post-meeting",name:"Post-Meeting Follow-up",subject:"{{org_name}}  next steps",body:`{{decision_maker || "Hey"}},

Good chat. Here's the recap:

WHAT YOU GET (at zero cost):
 Multi-camera coverage, every mat, every match
 Livestream/PPV if you want it
 Event highlight reel for your socials
 Full photo gallery

WHAT ATHLETES GET:
 Professional footage of their matches
 Access through our portal
 Delivered within days of the event

WHAT IT COSTS YOU:
 $0 upfront
 $0 ongoing
 We make money on athlete purchases only

NEXT STEP:
I'm sending the agreement now. Read it, flag anything, we lock in the dates.

Questions? Call me.

Brandon
0411 934 935`},{id:"breakup",name:"Breakup Email",subject:"{{org_name}}  closing the loop",body:`{{decision_maker || "Hey"}},

I've sent a few emails about covering {{org_name}} events. Haven't heard back, so I'll assume the timing's not right.

All good. If you ever want professional coverage at no cost, the offer stands.

Good luck with the season.

Brandon`}];function FRe(){return Cre}function URe(t,e){const r=Cre.find(u=>u.id===t);if(!r)return null;const n={org_name:e.org_name||"",decision_maker:e.contact?.decision_maker||"",sport:e.sport||"",upcoming_event:e.events?.upcoming?.[0]||"",event_date:e.events?.upcoming?.[0]?.split(":")?.[1]?.trim()||""};let i=r.subject,s=r.body;const a=/\{\{(\w+)\s*\|\|\s*"([^"]*)"\}\}/g;i=i.replace(a,(u,l,d)=>n[l]||d),s=s.replace(a,(u,l,d)=>n[l]||d);const c=/\{\{(\w+)\}\}/g;return i=i.replace(c,(u,l)=>n[l]||""),s=s.replace(c,(u,l)=>n[l]||""),{subject:i,body:s}}async function jre(){const t=await $_(),{data:e}=await Jr.from("crm_activities").select("*").order("created_at",{ascending:!1}),r=e||[],n={new:0,contacted:0,meeting:0,proposal:0,negotiating:0,signed:0,lost:0};t.forEach(v=>{const y=v.stage||"new";n.hasOwnProperty(y)&&n[y]++});const i=t.length,s=t.filter(v=>!["signed","lost","do_not_contact"].includes(v.stage)).length,a=n.signed,c=i>0?Math.round(a/i*100):0;let u=0;t.forEach(v=>{if(["proposal","negotiating","signed"].includes(v.stage)){const y=v.revenue_potential?.match(/\$(\d+)K/);y&&(u+=parseInt(y[1])*1e3)}});const l=new Date,d=new Date(l);d.setDate(l.getDate()-l.getDay()),d.setHours(0,0,0,0);const f=r.filter(v=>v.type==="Meeting"&&new Date(v.created_at)>=d).length,A=r.slice(0,10).map(v=>{const y=t.find(x=>x.id===v.lead_id);return{...v,lead_name:y?.org_name||"Unknown"}}),p={1:0,2:0,3:0};return t.forEach(v=>{p.hasOwnProperty(v.tier)&&p[v.tier]++}),{totalLeads:i,activeLeads:s,signedLeads:a,conversionRate:c,pipelineValue:u,meetingsThisWeek:f,stageCounts:n,tierCounts:p,recentActivities:A}}const kO=[{touch:1,name:"Initial Outreach",daysAfterPrevious:0,type:"initial"},{touch:2,name:"Value-Add Follow-up",daysAfterPrevious:3,type:"value"},{touch:3,name:"Social Proof",daysAfterPrevious:5,type:"proof"},{touch:4,name:"Meeting Request",daysAfterPrevious:5,type:"meeting"},{touch:5,name:"Permission to Close",daysAfterPrevious:7,type:"breakup"}];function $Re(t,e=1){if(!t)return null;const r=new Date(t),n=kO[e];if(!n)return null;let i=0;for(let a=1;a<=e;a++)i+=kO[a].daysAfterPrevious;const s=new Date(r);return s.setDate(s.getDate()+i),{touch:n.touch,name:n.name,type:n.type,dueDate:s,daysUntilDue:Math.ceil((s-new Date)/(1e3*60*60*24))}}function HRe(t){let e=1;(t.stage==="contacted"||t.stage==="meeting"||t.stage==="proposal")&&(e=1);const r=$Re(t.last_contact,e);if(!r)return{status:"complete",...t};const{daysUntilDue:n}=r;let i="upcoming";return n<0?i="overdue":n===0?i="today":n<=2&&(i="soon"),{...t,nextTouch:r,status:i,daysUntilDue:n}}function QRe(){const[t,e]=k.useState([]),[r,n]=k.useState(!0),[i,s]=k.useState("all");k.useEffect(()=>{a()},[]);const a=async()=>{n(!0);try{const p=(await $_()).filter(v=>["new","contacted","meeting"].includes(v.stage)&&v.last_contact);e(p.map(HRe))}catch(A){console.error("Error loading leads:",A)}finally{n(!1)}},u=i==="all"?t:t.filter(A=>A.status===i),l=t.filter(A=>A.status==="overdue").length,d=t.filter(A=>A.status==="today").length,f=t.filter(A=>A.status==="soon").length;return r?o.jsx("div",{className:"text-gray-400",children:"Loading follow-ups..."}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white",children:"Follow-Up Scheduler"}),o.jsx("p",{className:"text-gray-400 text-xs sm:text-sm mt-1",children:"5-Touch outreach strategy tracker"})]}),o.jsxs("div",{className:"flex gap-4 sm:gap-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-xl sm:text-2xl font-bold text-red-500",children:l}),o.jsx("div",{className:"text-xs text-gray-400",children:"Overdue"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-xl sm:text-2xl font-bold text-yellow-500",children:d}),o.jsx("div",{className:"text-xs text-gray-400",children:"Today"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-xl sm:text-2xl font-bold text-blue-500",children:f}),o.jsx("div",{className:"text-xs text-gray-400",children:"Soon"})]})]})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:["all","overdue","today","soon","upcoming"].map(A=>o.jsx("button",{onClick:()=>s(A),className:`px-3 sm:px-4 py-2 rounded-lg text-xs sm:text-sm font-medium transition-all ${i===A?"bg-red-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:A.charAt(0).toUpperCase()+A.slice(1)},A))}),u.length===0?o.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 sm:p-8 text-center text-gray-400",children:[o.jsx(kw,{className:"w-10 h-10 sm:w-12 sm:h-12 mx-auto mb-2 sm:mb-3 text-green-500"}),o.jsxs("p",{className:"text-sm sm:text-base",children:["No follow-ups ",i!=="all"?i:"needed","!"]})]}):o.jsx("div",{className:"space-y-3",children:u.map(A=>o.jsx("div",{className:`bg-gray-800 rounded-lg p-3 sm:p-4 border-l-4 ${A.status==="overdue"?"border-red-500":A.status==="today"?"border-yellow-500":A.status==="soon"?"border-blue-500":"border-gray-600"}`,children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-2 flex-wrap",children:[o.jsx("h3",{className:"text-base sm:text-lg font-bold text-white truncate",children:A.org_name}),o.jsxs("span",{className:`px-2 py-0.5 sm:py-1 rounded text-xs font-medium flex-shrink-0 ${A.tier===1?"bg-red-900 text-red-200":A.tier===2?"bg-yellow-900 text-yellow-200":"bg-blue-900 text-blue-200"}`,children:["Tier ",A.tier]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-4 text-xs sm:text-sm text-gray-400",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(hf,{className:"w-3 h-3 sm:w-4 sm:h-4 flex-shrink-0"}),o.jsxs("span",{className:"truncate",children:["Touch ",A.nextTouch.touch,": ",A.nextTouch.name]})]}),o.jsxs("div",{className:"flex items-center gap-4 sm:gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(fd,{className:"w-3 h-3 sm:w-4 sm:h-4 flex-shrink-0"}),o.jsxs("span",{children:["Due: ",A.nextTouch.dueDate.toLocaleDateString()]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(w0,{className:"w-3 h-3 sm:w-4 sm:h-4 flex-shrink-0"}),o.jsx("span",{className:A.status==="overdue"?"text-red-400 font-medium":A.status==="today"?"text-yellow-400 font-medium":"text-gray-400",children:A.daysUntilDue===0?"Today":A.daysUntilDue<0?`${Math.abs(A.daysUntilDue)} days overdue`:`In ${A.daysUntilDue} days`})]})]})]})]}),o.jsxs("div",{className:"flex items-center gap-2 self-end sm:self-auto",children:[A.status==="overdue"&&o.jsx(qv,{className:"w-5 h-5 text-red-500 hidden sm:block"}),o.jsx("button",{className:"bg-red-600 hover:bg-red-700 text-white px-3 sm:px-4 py-2 rounded-lg text-xs sm:text-sm font-medium transition-all whitespace-nowrap",children:"Send Follow-Up"})]})]})},A.id))}),o.jsxs("details",{className:"bg-gray-800 rounded-lg",children:[o.jsxs("summary",{className:"p-3 sm:p-4 text-xs sm:text-sm font-bold text-white cursor-pointer list-none flex items-center justify-between",children:["5-Touch Strategy Timeline",o.jsx("span",{className:"text-gray-500 text-xs",children:"tap to expand"})]}),o.jsxs("div",{className:"px-3 sm:px-4 pb-3 sm:pb-4 space-y-2 text-xs sm:text-sm",children:[kO.map((A,p)=>o.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 text-gray-400",children:[o.jsxs("span",{className:"font-mono text-[10px] sm:text-xs bg-gray-700 px-1.5 sm:px-2 py-0.5 sm:py-1 rounded",children:["T",A.touch]}),o.jsx("span",{className:"flex-1 text-xs sm:text-sm",children:A.name}),o.jsx("span",{className:"text-[10px] sm:text-xs",children:p===0?"Initial":`+${A.daysAfterPrevious} days`})]},A.touch)),o.jsx("div",{className:"mt-3 pt-3 border-t border-gray-700 text-[10px] sm:text-xs text-gray-500",children:" Research shows 80% of sales happen between Touch 5-12. Don't give up early!"})]})]})]})}const DL=["#ef4444","#f59e0b","#3b82f6"],Yy={new:"#6b7280",contacted:"#3b82f6",meeting:"#8b5cf6",proposal:"#eab308",negotiating:"#f97316",signed:"#10b981"};function VRe(){const t=Mc(),[e,r]=k.useState(null),[n,i]=k.useState([]),[s,a]=k.useState(!0),[c,u]=k.useState(""),[l,d]=k.useState(""),[f,A]=k.useState("");k.useEffect(()=>{p()},[]);const p=async()=>{a(!0);try{const[w,E]=await Promise.all([jre(),$_()]);r(w),i(E)}catch(w){console.error("Error loading CRM data:",w)}finally{a(!1)}},v=()=>{let w=n;return c&&(w=w.filter(E=>E.tier===parseInt(c))),l&&(w=w.filter(E=>E.sport?.toLowerCase().includes(l.toLowerCase()))),f&&(w=w.filter(E=>E.stage===f)),w};if(s)return o.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:o.jsx("div",{className:"text-gray-400 text-lg",children:"Loading CRM data..."})});const y=[{name:"New",value:e.stageCounts.new,color:Yy.new},{name:"Contacted",value:e.stageCounts.contacted,color:Yy.contacted},{name:"Meeting",value:e.stageCounts.meeting,color:Yy.meeting},{name:"Proposal",value:e.stageCounts.proposal,color:Yy.proposal},{name:"Negotiating",value:e.stageCounts.negotiating,color:Yy.negotiating},{name:"Signed",value:e.stageCounts.signed,color:Yy.signed}],x=[{name:"Tier 1",value:e.tierCounts[1]||0,color:DL[0]},{name:"Tier 2",value:e.tierCounts[2]||0,color:DL[1]},{name:"Tier 3",value:e.tierCounts[3]||0,color:DL[2]}].filter(w=>w.value>0);return o.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 lg:px-8 py-4 sm:py-8",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4 mb-6 sm:mb-8",children:[o.jsxs("h1",{className:"text-2xl sm:text-3xl font-black text-white tracking-tight",children:[o.jsx("span",{className:"text-red-500",children:"CRM"})," DASHBOARD"]}),o.jsxs("div",{className:"flex gap-2 sm:gap-3 w-full sm:w-auto",children:[o.jsxs("button",{onClick:p,className:"bg-gray-700 hover:bg-gray-600 text-white px-3 sm:px-4 py-2 rounded-lg font-medium transition-all flex items-center justify-center gap-2 text-xs sm:text-sm flex-1 sm:flex-none",children:[o.jsx(mN,{size:16,className:"sm:w-[18px] sm:h-[18px]"}),"Refresh"]}),o.jsx("button",{onClick:()=>t("/portal/pipeline/board"),className:"bg-red-600 hover:bg-red-700 text-white px-4 sm:px-6 py-2 rounded-lg font-bold transition-all hover:scale-105 text-xs sm:text-sm flex-1 sm:flex-none whitespace-nowrap",children:"View Pipeline Board"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4 mb-6 sm:mb-8",children:[o.jsxs("div",{className:"bg-[#1a1a2e] rounded-xl p-3 sm:p-5 border border-gray-800/50",children:[o.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-2 sm:mb-3",children:[o.jsx(Hb,{size:16,className:"text-gray-500 sm:w-5 sm:h-5"}),o.jsx("div",{className:"text-[9px] sm:text-[11px] font-bold text-gray-500 tracking-wider sm:tracking-widest uppercase",children:"Total Leads"})]}),o.jsx("div",{className:"text-2xl sm:text-3xl font-black text-white",children:e.totalLeads})]}),o.jsxs("div",{className:"bg-[#1a1a2e] rounded-xl p-3 sm:p-5 border border-gray-800/50",children:[o.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-2 sm:mb-3",children:[o.jsx(s_,{size:16,className:"text-pink-500 sm:w-5 sm:h-5"}),o.jsx("div",{className:"text-[9px] sm:text-[11px] font-bold text-gray-500 tracking-wider sm:tracking-widest uppercase",children:"Conversion"})]}),o.jsxs("div",{className:"text-2xl sm:text-3xl font-black text-pink-500",children:[e.conversionRate,"%"]})]}),o.jsxs("div",{className:"bg-[#1a1a2e] rounded-xl p-3 sm:p-5 border border-gray-800/50",children:[o.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-2 sm:mb-3",children:[o.jsx(w0,{size:16,className:"text-purple-500 sm:w-5 sm:h-5"}),o.jsx("div",{className:"text-[9px] sm:text-[11px] font-bold text-gray-500 tracking-wider sm:tracking-widest uppercase",children:"Meetings"})]}),o.jsx("div",{className:"text-2xl sm:text-3xl font-black text-purple-500",children:e.meetingsThisWeek})]}),o.jsxs("div",{className:"bg-[#1a1a2e] rounded-xl p-3 sm:p-5 border border-gray-800/50",children:[o.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-2 sm:mb-3",children:[o.jsx(k0,{size:16,className:"text-red-400 sm:w-5 sm:h-5"}),o.jsx("div",{className:"text-[9px] sm:text-[11px] font-bold text-gray-500 tracking-wider sm:tracking-widest uppercase",children:"Pipeline"})]}),o.jsxs("div",{className:"text-2xl sm:text-3xl font-black text-red-400",children:["$",(e.pipelineValue/1e3).toFixed(0),"K"]})]})]}),o.jsx("div",{className:"mb-6 sm:mb-8",children:o.jsx(QRe,{})}),o.jsxs("div",{className:"hidden sm:grid md:grid-cols-3 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[o.jsxs("div",{className:"md:col-span-2 bg-[#1a1a2e] rounded-xl p-4 sm:p-6 border border-gray-800/50",children:[o.jsx("h3",{className:"text-base sm:text-lg font-bold text-white mb-3 sm:mb-4",children:"Pipeline Funnel"}),o.jsx(LC,{width:"100%",height:200,children:o.jsxs(Jte,{data:y,layout:"vertical",children:[o.jsx(pM,{type:"number",stroke:"#6b7280"}),o.jsx(gM,{dataKey:"name",type:"category",stroke:"#6b7280",width:80,tick:{fontSize:12}}),o.jsx(zx,{dataKey:"value",radius:[0,8,8,0],children:y.map((w,E)=>o.jsx(Nb,{fill:w.color},`cell-${E}`))})]})})]}),o.jsxs("div",{className:"bg-[#1a1a2e] rounded-xl p-4 sm:p-6 border border-gray-800/50",children:[o.jsx("h3",{className:"text-base sm:text-lg font-bold text-white mb-3 sm:mb-4",children:"Leads by Tier"}),o.jsx(LC,{width:"100%",height:200,children:o.jsx(qBe,{children:o.jsx(vte,{data:x,cx:"50%",cy:"50%",innerRadius:50,outerRadius:75,dataKey:"value",label:w=>`${w.name}: ${w.value}`,children:x.map((w,E)=>o.jsx(Nb,{fill:w.color},`cell-${E}`))})})})]})]}),o.jsxs("div",{className:"bg-[#1a1a2e] rounded-xl p-4 sm:p-6 border border-gray-800/50 mb-4 sm:mb-6",children:[o.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-3 sm:mb-4",children:[o.jsx(eY,{size:16,className:"text-gray-500 sm:w-5 sm:h-5"}),o.jsx("h3",{className:"text-base sm:text-lg font-bold text-white",children:"Quick Filters"})]}),o.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2 sm:gap-4",children:[o.jsxs("select",{value:c,onChange:w=>u(w.target.value),className:"px-3 sm:px-4 py-2 sm:py-3 bg-[#12122a] border border-gray-800/50 rounded-lg sm:rounded-xl text-gray-300 text-sm focus:outline-none focus:ring-2 focus:ring-red-500/40",children:[o.jsx("option",{value:"",children:"All Tiers"}),o.jsx("option",{value:"1",children:"Tier 1"}),o.jsx("option",{value:"2",children:"Tier 2"}),o.jsx("option",{value:"3",children:"Tier 3"})]}),o.jsxs("select",{value:f,onChange:w=>A(w.target.value),className:"px-3 sm:px-4 py-2 sm:py-3 bg-[#12122a] border border-gray-800/50 rounded-lg sm:rounded-xl text-gray-300 text-sm focus:outline-none focus:ring-2 focus:ring-red-500/40",children:[o.jsx("option",{value:"",children:"All Statuses"}),o.jsx("option",{value:"new",children:"New"}),o.jsx("option",{value:"contacted",children:"Contacted"}),o.jsx("option",{value:"meeting",children:"Meeting Booked"}),o.jsx("option",{value:"proposal",children:"Proposal Sent"}),o.jsx("option",{value:"negotiating",children:"Negotiating"}),o.jsx("option",{value:"signed",children:"Signed"}),o.jsx("option",{value:"lost",children:"Lost"})]}),o.jsx("input",{type:"text",value:l,onChange:w=>d(w.target.value),placeholder:"Filter by sport...",className:"col-span-2 sm:col-span-1 px-3 sm:px-4 py-2 sm:py-3 bg-[#12122a] border border-gray-800/50 rounded-lg sm:rounded-xl text-white placeholder-gray-600 text-sm focus:outline-none focus:ring-2 focus:ring-red-500/40"})]}),(c||l||f)&&o.jsx("div",{className:"mt-3 sm:mt-4",children:o.jsxs("div",{className:"text-xs sm:text-sm text-gray-400",children:["Showing ",v().length," of ",e.totalLeads," leads"]})})]}),o.jsxs("div",{className:"bg-[#1a1a2e] rounded-xl p-4 sm:p-6 border border-gray-800/50 mb-4 sm:mb-6",children:[o.jsx("h3",{className:"text-base sm:text-lg font-bold text-white mb-3 sm:mb-4",children:"Recent Activity"}),e.recentActivities.length===0?o.jsx("div",{className:"text-gray-500 text-center py-6 sm:py-8 text-sm",children:"No recent activity"}):o.jsx("div",{className:"space-y-2 sm:space-y-3",children:e.recentActivities.map(w=>o.jsxs("div",{className:"flex items-start gap-3 sm:gap-4 p-3 sm:p-4 bg-[#12122a] rounded-lg border border-gray-800/50 hover:border-gray-700 transition-all",children:[o.jsx("div",{className:"flex-shrink-0 w-8 h-8 sm:w-10 sm:h-10 bg-red-600/20 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-red-400 text-base sm:text-xl",children:w.type==="Phone Call"?"":w.type==="Email"?"":w.type==="Meeting"?"":""})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[o.jsx("span",{className:"font-bold text-white text-sm sm:text-base",children:w.lead_name}),o.jsx("span",{className:"text-gray-600",children:""}),o.jsx("span",{className:"text-[10px] sm:text-xs font-bold text-gray-500 uppercase",children:w.type})]}),o.jsx("p",{className:"text-xs sm:text-sm text-gray-400 mb-1 line-clamp-2",children:w.notes}),o.jsx("div",{className:"text-[10px] sm:text-xs text-gray-600",children:new Date(w.created_at).toLocaleDateString("en-AU",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})})]})]},w.id))})]}),o.jsxs("div",{className:"bg-[#1a1a2e] rounded-xl p-4 sm:p-6 border border-gray-800/50",children:[o.jsx("h3",{className:"text-base sm:text-lg font-bold text-white mb-3 sm:mb-4",children:"Follow-up Reminders"}),o.jsxs("div",{className:"text-gray-500 text-center py-6 sm:py-8 text-sm",children:["No pending follow-ups",o.jsx("div",{className:"text-xs sm:text-sm mt-2",children:"Add activities with due dates to see reminders here"})]})]})]})}const zRe=[{id:"new",name:"New",color:"bg-gray-600",textColor:"text-gray-300"},{id:"contacted",name:"Contacted",color:"bg-blue-600",textColor:"text-blue-400"},{id:"meeting",name:"Meeting Booked",color:"bg-purple-600",textColor:"text-purple-400"},{id:"proposal",name:"Proposal Sent",color:"bg-yellow-600",textColor:"text-yellow-400"},{id:"negotiating",name:"Negotiating",color:"bg-orange-600",textColor:"text-orange-400"},{id:"signed",name:"Signed",color:"bg-green-600",textColor:"text-green-400"},{id:"lost",name:"Lost",color:"bg-red-600",textColor:"text-red-400"}];function KRe({lead:t,onDragStart:e}){const r=Mc(),n=i=>i>=80?"bg-red-600 text-red-100":i>=60?"bg-orange-600 text-orange-100":"bg-gray-600 text-gray-100";return o.jsxs("div",{draggable:!0,onDragStart:e,onClick:()=>r(`/portal/pipeline/leads/${t.id}`),className:"bg-[#12122a] rounded-lg p-4 border border-gray-800/50 hover:border-gray-700 cursor-move hover:bg-[#16162e] transition-all group",children:[o.jsx("h4",{className:"font-bold text-white group-hover:text-red-400 transition-colors mb-2 line-clamp-2",children:t.org_name}),o.jsxs("div",{className:"space-y-1.5 mb-3",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[o.jsx(uY,{size:14}),o.jsx("span",{className:"truncate",children:t.sport})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[o.jsx(Vf,{size:14}),o.jsx("span",{className:"truncate",children:t.location})]})]}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("span",{className:`px-2 py-1 rounded text-xs font-bold ${n(t.priority_score)}`,children:["Priority: ",t.priority_score]}),o.jsxs("span",{className:"text-xs font-bold text-gray-600 uppercase",children:["Tier ",t.tier]})]}),o.jsxs("div",{className:"pt-3 border-t border-gray-800/50 space-y-1",children:[o.jsxs("div",{className:"text-xs text-gray-600",children:[o.jsx("span",{className:"font-bold",children:"Last Contact:"})," ",t.last_contact?new Date(t.last_contact).toLocaleDateString("en-AU"):"Never"]}),t.revenue_potential&&o.jsx("div",{className:"text-xs text-green-400 font-medium",children:t.revenue_potential})]})]})}function GRe({column:t,leads:e,onDrop:r,onDragOver:n}){return o.jsxs("div",{onDrop:r,onDragOver:n,className:"flex flex-col min-h-[500px]",children:[o.jsx("div",{className:`${t.color} rounded-t-xl px-4 py-3 mb-3`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"font-bold text-white text-sm uppercase tracking-wider",children:t.name}),o.jsx("span",{className:"bg-white/20 px-2 py-0.5 rounded-full text-xs font-bold text-white",children:e.length})]})}),o.jsx("div",{className:"flex-1 space-y-3 px-2",children:e.length===0?o.jsx("div",{className:"text-center text-gray-600 text-sm py-8",children:"No leads"}):e.map(i=>o.jsx(KRe,{lead:i,onDragStart:s=>{s.dataTransfer.effectAllowed="move",s.dataTransfer.setData("leadId",i.id)}},i.id))})]})}function WRe(){const t=Mc(),[e,r]=k.useState([]),[n,i]=k.useState({totalLeads:0,activeLeads:0,meetingsThisWeek:0,pipelineValue:0}),[s,a]=k.useState(!0);k.useEffect(()=>{c()},[]);const c=async()=>{a(!0);try{const[f,A]=await Promise.all([$_(),jre()]);r(f),i({totalLeads:A.totalLeads,activeLeads:A.activeLeads,meetingsThisWeek:A.meetingsThisWeek,pipelineValue:A.pipelineValue})}catch(f){console.error("Error loading pipeline data:",f)}finally{a(!1)}},u=async(f,A)=>{f.preventDefault();const p=f.dataTransfer.getData("leadId");if(p)try{await Tre(p,{stage:A}),await c()}catch(v){console.error("Error updating lead:",v)}},l=f=>{f.preventDefault()},d=f=>e.filter(A=>A.stage===f);return s?o.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:o.jsx("div",{className:"text-gray-400 text-lg",children:"Loading pipeline..."})}):o.jsxs("div",{className:"min-h-screen bg-[#0d0d1a] pb-8",children:[o.jsx("div",{className:"bg-[#1a1a2e] border-b border-gray-800/50 mb-6",children:o.jsxs("div",{className:"max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{onClick:()=>t("/portal/pipeline"),className:"text-gray-400 hover:text-white transition-colors",children:o.jsx(N0,{size:24})}),o.jsxs("h1",{className:"text-3xl font-black text-white tracking-tight",children:[o.jsx("span",{className:"text-red-500",children:"PIPELINE"})," BOARD"]})]}),o.jsxs("button",{onClick:c,className:"bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-2 text-sm",children:[o.jsx(mN,{size:18}),"Refresh"]})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"bg-[#12122a] rounded-xl p-4 border border-gray-800/50",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(Hb,{size:18,className:"text-gray-500"}),o.jsx("div",{className:"text-[10px] font-bold text-gray-500 tracking-widest uppercase",children:"Total Leads"})]}),o.jsx("div",{className:"text-2xl font-black text-white",children:n.totalLeads})]}),o.jsxs("div",{className:"bg-[#12122a] rounded-xl p-4 border border-gray-800/50",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(s_,{size:18,className:"text-pink-500"}),o.jsx("div",{className:"text-[10px] font-bold text-gray-500 tracking-widest uppercase",children:"Active Pipeline"})]}),o.jsx("div",{className:"text-2xl font-black text-pink-500",children:n.activeLeads})]}),o.jsxs("div",{className:"bg-[#12122a] rounded-xl p-4 border border-gray-800/50",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(fd,{size:18,className:"text-purple-500"}),o.jsx("div",{className:"text-[10px] font-bold text-gray-500 tracking-widest uppercase",children:"Meetings This Week"})]}),o.jsx("div",{className:"text-2xl font-black text-purple-500",children:n.meetingsThisWeek})]}),o.jsxs("div",{className:"bg-[#12122a] rounded-xl p-4 border border-gray-800/50",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(k0,{size:18,className:"text-red-400"}),o.jsx("div",{className:"text-[10px] font-bold text-gray-500 tracking-widest uppercase",children:"Pipeline Value"})]}),o.jsxs("div",{className:"text-2xl font-black text-red-400",children:["$",(n.pipelineValue/1e3).toFixed(0),"K"]})]})]})]})}),o.jsx("div",{className:"max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8",children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-7 gap-4",children:zRe.map(f=>o.jsx(GRe,{column:f,leads:d(f.id),onDrop:A=>u(A,f.id),onDragOver:l},f.id))})})]})}const ML=[{value:"new",label:"New",color:"bg-gray-600"},{value:"contacted",label:"Contacted",color:"bg-blue-600"},{value:"meeting",label:"Meeting Booked",color:"bg-purple-600"},{value:"proposal",label:"Proposal Sent",color:"bg-yellow-600"},{value:"negotiating",label:"Negotiating",color:"bg-orange-600"},{value:"signed",label:"Signed",color:"bg-green-600"},{value:"lost",label:"Lost",color:"bg-red-600"}],FL=[{value:"Phone Call",icon:""},{value:"Email",icon:""},{value:"Meeting",icon:""},{value:"Note",icon:""},{value:"Follow-up",icon:""}];function YRe(){const{id:t}=Qm(),e=Mc(),[r,n]=k.useState(null),[i,s]=k.useState([]),[a,c]=k.useState(!1),[u,l]=k.useState(null),[d,f]=k.useState(!0),[A,p]=k.useState(!1),[v,y]=k.useState(!1),[x,w]=k.useState("Phone Call"),[E,T]=k.useState(""),[C,j]=k.useState(null),[P,U]=k.useState(""),[W,q]=k.useState("");k.useEffect(()=>{t&&re()},[t]);const re=async()=>{f(!0);try{const[ce,Me]=await Promise.all([RRe(t),M1(t)]);ce&&(n(ce),l(ce),s(Me))}catch(ce){console.error("Error loading lead:",ce)}finally{f(!1)}};if(d)return o.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:o.jsx("div",{className:"text-gray-400 text-lg",children:"Loading lead..."})});if(!r)return o.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:o.jsx("div",{className:"text-gray-400 text-lg",children:"Lead not found"})});const ie=async()=>{p(!0);try{await Tre(t,u),n(u),c(!1)}catch(ce){console.error("Error saving lead:",ce),alert("Error saving lead")}finally{p(!1)}},Ae=async()=>{if(!E.trim()){alert("Please enter activity notes");return}try{await fz(t,{type:x,notes:E});const ce=await M1(t);s(ce),T(""),y(!1)}catch(ce){console.error("Error adding activity:",ce),alert("Error adding activity")}},be=ce=>{j(ce.id),U(ce.type),q(ce.notes)},Ee=async()=>{try{await DRe(C,{type:P,notes:W});const ce=await M1(t);s(ce),j(null)}catch(ce){console.error("Error updating activity:",ce),alert("Error updating activity")}},ge=async ce=>{if(confirm("Are you sure you want to delete this activity?"))try{await MRe(ce);const Me=await M1(t);s(Me)}catch(Me){console.error("Error deleting activity:",Me),alert("Error deleting activity")}},se=async ce=>{try{await fz(t,{type:ce,notes:`Quick ${ce.toLowerCase()} logged`});const Me=await M1(t);s(Me)}catch(Me){console.error("Error logging activity:",Me)}},xe=ML.find(ce=>ce.value===r.stage)?.color||"bg-gray-600";return o.jsxs("div",{className:"min-h-screen bg-[#0d0d1a]",children:[o.jsx("div",{className:"bg-gradient-to-r from-[#1a1a2e] to-[#16162a] border-b border-gray-800/50",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{onClick:()=>e("/portal/pipeline/board"),className:"text-gray-400 hover:text-white transition-colors",children:o.jsx(N0,{size:24})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-black text-white tracking-tight",children:r.org_name}),o.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[o.jsx("span",{className:"text-sm text-gray-400",children:r.sport}),o.jsx("span",{className:"text-gray-700",children:""}),o.jsx("span",{className:"text-sm text-gray-400",children:r.location}),o.jsx("span",{className:"text-gray-700",children:""}),o.jsx("span",{className:"text-sm text-gray-400",children:r.type})]})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:`${xe} px-4 py-2 rounded-lg text-white text-sm font-bold uppercase`,children:ML.find(ce=>ce.value===r.stage)?.label||r.stage}),a?o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:ie,disabled:A,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-2 disabled:opacity-50",children:[o.jsx(oY,{size:16})," ",A?"Saving...":"Save"]}),o.jsxs("button",{onClick:()=>{c(!1),l(r)},className:"bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-2",children:[o.jsx(Zv,{size:16})," Cancel"]})]}):o.jsxs("button",{onClick:()=>c(!0),className:"bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-2",children:[o.jsx(i8,{size:16})," Edit"]})]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"bg-red-600/20 border border-red-500/30 px-3 py-1 rounded-full",children:o.jsxs("span",{className:"text-red-400 font-bold text-sm",children:["Priority: ",r.priority_score]})}),o.jsx("div",{className:"bg-blue-600/20 border border-blue-500/30 px-3 py-1 rounded-full",children:o.jsxs("span",{className:"text-blue-400 font-bold text-sm",children:["Tier ",r.tier]})}),o.jsx("div",{className:`${r.verification_status==="verified"?"bg-green-600/20 border-green-500/30 text-green-400":"bg-yellow-600/20 border-yellow-500/30 text-yellow-400"} border px-3 py-1 rounded-full`,children:o.jsxs("span",{className:"font-bold text-sm flex items-center gap-1",children:[o.jsx(pN,{size:14})," ",r.verification_status]})})]})]})}),o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:o.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsxs("div",{className:"bg-[#1a1a2e] rounded-xl p-6 border border-gray-800/50",children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Contact Information"}),a?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-[10px] font-bold text-gray-600 uppercase mb-1 block",children:"Email"}),o.jsx("input",{type:"email",value:u.contact?.email||"",onChange:ce=>l({...u,contact:{...u.contact,email:ce.target.value}}),className:"w-full bg-[#12122a] border border-gray-700 rounded-lg px-3 py-2 text-white text-sm focus:border-red-500 focus:outline-none",placeholder:"email@example.com"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-[10px] font-bold text-gray-600 uppercase mb-1 block",children:"Phone"}),o.jsx("input",{type:"tel",value:u.contact?.phone||"",onChange:ce=>l({...u,contact:{...u.contact,phone:ce.target.value}}),className:"w-full bg-[#12122a] border border-gray-700 rounded-lg px-3 py-2 text-white text-sm focus:border-red-500 focus:outline-none",placeholder:"0400 000 000"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-[10px] font-bold text-gray-600 uppercase mb-1 block",children:"Website"}),o.jsx("input",{type:"url",value:u.contact?.website||"",onChange:ce=>l({...u,contact:{...u.contact,website:ce.target.value}}),className:"w-full bg-[#12122a] border border-gray-700 rounded-lg px-3 py-2 text-white text-sm focus:border-red-500 focus:outline-none",placeholder:"https://example.com"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-[10px] font-bold text-gray-600 uppercase mb-1 block",children:"Instagram"}),o.jsx("input",{type:"text",value:u.contact?.instagram||"",onChange:ce=>l({...u,contact:{...u.contact,instagram:ce.target.value}}),className:"w-full bg-[#12122a] border border-gray-700 rounded-lg px-3 py-2 text-white text-sm focus:border-red-500 focus:outline-none",placeholder:"@username"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-[10px] font-bold text-gray-600 uppercase mb-1 block",children:"Facebook"}),o.jsx("input",{type:"text",value:u.contact?.facebook||"",onChange:ce=>l({...u,contact:{...u.contact,facebook:ce.target.value}}),className:"w-full bg-[#12122a] border border-gray-700 rounded-lg px-3 py-2 text-white text-sm focus:border-red-500 focus:outline-none",placeholder:"PageName"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-[10px] font-bold text-gray-600 uppercase mb-1 block",children:"Contact Form URL"}),o.jsx("input",{type:"url",value:u.contact?.contact_form||"",onChange:ce=>l({...u,contact:{...u.contact,contact_form:ce.target.value}}),className:"w-full bg-[#12122a] border border-gray-700 rounded-lg px-3 py-2 text-white text-sm focus:border-red-500 focus:outline-none",placeholder:"https://example.com/contact"})]})]}),o.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-[10px] font-bold text-gray-600 uppercase mb-1 block",children:"Decision Maker"}),o.jsx("input",{type:"text",value:u.contact?.decision_maker||"",onChange:ce=>l({...u,contact:{...u.contact,decision_maker:ce.target.value}}),className:"w-full bg-[#12122a] border border-gray-700 rounded-lg px-3 py-2 text-white text-sm focus:border-red-500 focus:outline-none",placeholder:"Name"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-[10px] font-bold text-gray-600 uppercase mb-1 block",children:"Avatar URL"}),o.jsx("input",{type:"url",value:u.contact?.avatar||"",onChange:ce=>l({...u,contact:{...u.contact,avatar:ce.target.value}}),className:"w-full bg-[#12122a] border border-gray-700 rounded-lg px-3 py-2 text-white text-sm focus:border-red-500 focus:outline-none",placeholder:"https://example.com/photo.jpg"})]})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[(r.contact?.email||a)&&o.jsxs("a",{href:`mailto:${r.contact?.email}`,className:"flex items-center gap-3 p-3 bg-[#12122a] rounded-lg border border-gray-800/50 hover:border-red-500/30 transition-all group",children:[o.jsx(hf,{size:20,className:"text-gray-500 group-hover:text-red-400"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"text-[10px] font-bold text-gray-600 uppercase mb-0.5",children:"Email"}),o.jsx("div",{className:"text-sm text-gray-300 group-hover:text-red-400 truncate",children:r.contact?.email||""})]})]}),(r.contact?.phone||a)&&o.jsxs("a",{href:`tel:${r.contact?.phone}`,className:"flex items-center gap-3 p-3 bg-[#12122a] rounded-lg border border-gray-800/50 hover:border-red-500/30 transition-all group",children:[o.jsx(oC,{size:20,className:"text-gray-500 group-hover:text-red-400"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"text-[10px] font-bold text-gray-600 uppercase mb-0.5",children:"Phone"}),o.jsx("div",{className:"text-sm text-gray-300 group-hover:text-red-400",children:r.contact?.phone||""})]})]}),(r.contact?.website||a)&&o.jsxs("a",{href:r.contact?.website,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-3 bg-[#12122a] rounded-lg border border-gray-800/50 hover:border-red-500/30 transition-all group",children:[o.jsx(tY,{size:20,className:"text-gray-500 group-hover:text-red-400"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"text-[10px] font-bold text-gray-600 uppercase mb-0.5",children:"Website"}),o.jsx("div",{className:"text-sm text-gray-300 group-hover:text-red-400 truncate",children:r.contact?.website||""})]})]}),(r.contact?.instagram||a)&&o.jsxs("a",{href:`https://instagram.com/${r.contact?.instagram?.replace("@","")}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-3 bg-[#12122a] rounded-lg border border-gray-800/50 hover:border-red-500/30 transition-all group",children:[o.jsx(AN,{size:20,className:"text-gray-500 group-hover:text-red-400"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"text-[10px] font-bold text-gray-600 uppercase mb-0.5",children:"Instagram"}),o.jsx("div",{className:"text-sm text-gray-300 group-hover:text-red-400",children:r.contact?.instagram||""})]})]}),r.contact?.facebook&&o.jsxs("a",{href:`https://facebook.com/${r.contact?.facebook}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-3 bg-[#12122a] rounded-lg border border-gray-800/50 hover:border-red-500/30 transition-all group",children:[o.jsx(i_,{size:20,className:"text-gray-500 group-hover:text-red-400"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"text-[10px] font-bold text-gray-600 uppercase mb-0.5",children:"Facebook"}),o.jsx("div",{className:"text-sm text-gray-300 group-hover:text-red-400",children:r.contact?.facebook||""})]})]}),r.contact?.linkedin&&o.jsxs("a",{href:`https://linkedin.com/in/${r.contact?.linkedin}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-3 bg-[#12122a] rounded-lg border border-gray-800/50 hover:border-red-500/30 transition-all group",children:[o.jsx(jde,{size:20,className:"text-gray-500 group-hover:text-red-400"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"text-[10px] font-bold text-gray-600 uppercase mb-0.5",children:"LinkedIn"}),o.jsx("div",{className:"text-sm text-gray-300 group-hover:text-red-400 truncate",children:r.contact?.linkedin||""})]})]}),r.contact?.decision_maker_instagram&&o.jsxs("a",{href:`https://instagram.com/${r.contact?.decision_maker_instagram?.replace("@","")}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-3 bg-[#12122a] rounded-lg border border-gray-800/50 hover:border-red-500/30 transition-all group",children:[o.jsx(Xv,{size:20,className:"text-gray-500 group-hover:text-red-400"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"text-[10px] font-bold text-gray-600 uppercase mb-0.5",children:"Decision Maker IG"}),o.jsx("div",{className:"text-sm text-gray-300 group-hover:text-red-400",children:r.contact?.decision_maker_instagram||""})]})]})]}),(r.contact?.decision_maker||a)&&o.jsxs("div",{className:"mt-4 p-3 bg-[#12122a] rounded-lg border border-gray-800/50",children:[o.jsx("div",{className:"text-[10px] font-bold text-gray-600 uppercase mb-1",children:"Decision Maker"}),o.jsxs("div",{className:"flex items-center gap-3",children:[r.contact?.avatar&&o.jsx("img",{src:r.contact.avatar,alt:r.contact.decision_maker,className:"w-12 h-12 rounded-full object-cover border-2 border-gray-700"}),o.jsx("div",{className:"text-white font-bold",children:r.contact?.decision_maker||""})]})]})]})]}),o.jsxs("div",{className:"bg-[#1a1a2e] rounded-xl p-6 border border-gray-800/50",children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Event Information"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(fd,{size:20,className:"text-gray-500 mt-0.5"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-[10px] font-bold text-gray-600 uppercase mb-1",children:"Frequency"}),o.jsx("div",{className:"text-gray-300",children:r.events?.frequency||"Not specified"})]})]}),r.events?.upcoming?.length>0&&o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(uY,{size:20,className:"text-gray-500 mt-0.5"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-[10px] font-bold text-gray-600 uppercase mb-1",children:"Upcoming Events"}),o.jsx("div",{className:"text-gray-300 space-y-1",children:r.events.upcoming.map((ce,Me)=>o.jsx("div",{children:ce},Me))})]})]}),o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(Vf,{size:20,className:"text-gray-500 mt-0.5"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-[10px] font-bold text-gray-600 uppercase mb-1",children:"Typical Venue"}),o.jsx("div",{className:"text-gray-300",children:r.events?.typical_venue||"Not specified"})]})]})]})]}),o.jsxs("div",{className:"bg-[#1a1a2e] rounded-xl p-6 border border-gray-800/50",children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Media & Revenue Assessment"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-[10px] font-bold text-gray-600 uppercase mb-2",children:"Media Quality"}),o.jsx("div",{className:"text-gray-300 text-sm",children:r.media_quality||"Not assessed"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(k0,{size:20,className:"text-green-500"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-[10px] font-bold text-gray-600 uppercase mb-1",children:"Revenue Potential"}),o.jsx("div",{className:"text-green-400 font-bold",children:r.revenue_potential||"TBD"})]})]})]})]}),o.jsxs("div",{className:"bg-[#1a1a2e] rounded-xl p-6 border border-gray-800/50",children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Internal Notes"}),a?o.jsx("textarea",{value:u.notes||"",onChange:ce=>l({...u,notes:ce.target.value}),rows:4,className:"w-full px-4 py-3 bg-[#12122a] border border-gray-800/50 rounded-xl text-white placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-red-500/40"}):o.jsx("div",{className:"text-gray-300 text-sm whitespace-pre-wrap",children:r.notes||"No notes"})]}),o.jsxs("div",{className:"bg-[#1a1a2e] rounded-xl p-6 border border-gray-800/50",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-lg font-bold text-white",children:"Activity Timeline"}),o.jsxs("button",{onClick:()=>y(!v),className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-2 text-sm",children:[o.jsx(yb,{size:16})," Add Activity"]})]}),v&&o.jsx("div",{className:"mb-6 p-4 bg-[#12122a] rounded-lg border border-gray-800/50",children:o.jsxs("div",{className:"grid gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"Activity Type"}),o.jsx("select",{value:x,onChange:ce=>w(ce.target.value),className:"w-full px-4 py-3 bg-[#1a1a2e] border border-gray-800/50 rounded-xl text-gray-300 focus:outline-none focus:ring-2 focus:ring-red-500/40",children:FL.map(ce=>o.jsxs("option",{value:ce.value,children:[ce.icon," ",ce.value]},ce.value))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"Notes"}),o.jsx("textarea",{value:E,onChange:ce=>T(ce.target.value),rows:3,placeholder:"What happened?",className:"w-full px-4 py-3 bg-[#1a1a2e] border border-gray-800/50 rounded-xl text-white placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-red-500/40"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:Ae,className:"flex-1 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg font-medium transition-all",children:"Add Activity"}),o.jsx("button",{onClick:()=>y(!1),className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-gray-300 rounded-lg font-medium transition-all",children:"Cancel"})]})]})}),i.length===0?o.jsx("div",{className:"text-center text-gray-500 py-8",children:"No activities yet. Add your first activity above."}):o.jsx("div",{className:"space-y-3",children:i.map(ce=>{const Me=FL.find(we=>we.value===ce.type),Oe=C===ce.id;return o.jsxs("div",{className:"flex items-start gap-4 p-4 bg-[#12122a] rounded-lg border border-gray-800/50",children:[o.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-red-600/20 rounded-full flex items-center justify-center text-xl",children:Me?.icon||""}),o.jsx("div",{className:"flex-1 min-w-0",children:Oe?o.jsxs("div",{className:"space-y-3",children:[o.jsx("select",{value:P,onChange:we=>U(we.target.value),className:"w-full px-3 py-2 bg-[#1a1a2e] border border-gray-700 rounded-lg text-gray-300 text-sm focus:outline-none focus:ring-2 focus:ring-red-500/40",children:FL.map(we=>o.jsxs("option",{value:we.value,children:[we.icon," ",we.value]},we.value))}),o.jsx("textarea",{value:W,onChange:we=>q(we.target.value),rows:3,className:"w-full px-3 py-2 bg-[#1a1a2e] border border-gray-700 rounded-lg text-white text-sm focus:outline-none focus:ring-2 focus:ring-red-500/40"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:Ee,className:"px-3 py-1 bg-green-600 hover:bg-green-700 text-white rounded text-sm",children:"Save"}),o.jsx("button",{onClick:()=>j(null),className:"px-3 py-1 bg-gray-600 hover:bg-gray-700 text-white rounded text-sm",children:"Cancel"})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase",children:ce.type}),o.jsx("span",{className:"text-gray-700",children:""}),o.jsx("span",{className:"text-xs text-gray-600",children:new Date(ce.created_at).toLocaleDateString("en-AU",{day:"numeric",month:"short",year:"numeric"})})]}),o.jsxs("div",{className:"flex gap-1",children:[o.jsx("button",{onClick:()=>be(ce),className:"p-1 text-gray-500 hover:text-blue-400 transition-colors",title:"Edit",children:o.jsx(i8,{size:14})}),o.jsx("button",{onClick:()=>ge(ce.id),className:"p-1 text-gray-500 hover:text-red-400 transition-colors",title:"Delete",children:o.jsx(Zv,{size:14})})]})]}),o.jsx("p",{className:"text-sm text-gray-300",children:ce.notes})]})})]},ce.id)})})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-[#1a1a2e] rounded-xl p-6 border border-gray-800/50",children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Quick Actions"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("button",{onClick:()=>se("Phone Call"),className:"w-full bg-blue-600 hover:bg-blue-700 text-white px-4 py-3 rounded-lg font-medium transition-all flex items-center justify-center gap-2",children:[o.jsx(oC,{size:18})," Log Call"]}),o.jsxs("button",{onClick:()=>e("/portal/outreach"),className:"w-full bg-purple-600 hover:bg-purple-700 text-white px-4 py-3 rounded-lg font-medium transition-all flex items-center justify-center gap-2",children:[o.jsx(hf,{size:18})," Send Email"]}),o.jsxs("button",{onClick:()=>se("Meeting"),className:"w-full bg-green-600 hover:bg-green-700 text-white px-4 py-3 rounded-lg font-medium transition-all flex items-center justify-center gap-2",children:[o.jsx(fd,{size:18})," Schedule Meeting"]}),o.jsxs("button",{onClick:()=>y(!0),className:"w-full bg-gray-700 hover:bg-gray-600 text-white px-4 py-3 rounded-lg font-medium transition-all flex items-center justify-center gap-2",children:[o.jsx(yb,{size:18})," Add Note"]})]})]}),a&&o.jsxs("div",{className:"bg-[#1a1a2e] rounded-xl p-6 border border-gray-800/50",children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Change Stage"}),o.jsx("select",{value:u.stage,onChange:ce=>l({...u,stage:ce.target.value}),className:"w-full px-4 py-3 bg-[#12122a] border border-gray-800/50 rounded-xl text-gray-300 focus:outline-none focus:ring-2 focus:ring-red-500/40",children:ML.map(ce=>o.jsx("option",{value:ce.value,children:ce.label},ce.value))})]}),o.jsxs("div",{className:"bg-[#1a1a2e] rounded-xl p-6 border border-gray-800/50",children:[o.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[o.jsx(hhe,{size:18})," Tags"]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:r.tags?.map((ce,Me)=>o.jsx("span",{className:"px-3 py-1 bg-gray-700 text-gray-300 rounded-full text-xs font-medium",children:ce},Me))})]})]})]})})]})}function qRe(){const[t]=k.useState(FRe()),[e,r]=k.useState(t[0]),[n,i]=k.useState(null),[s,a]=k.useState([]),[c,u]=k.useState(null),[l,d]=k.useState(!1),[f,A]=k.useState(!0),p=k.useRef(null);k.useEffect(()=>{(async()=>{A(!0);const w=await $_();a(w),A(!1)})()},[]),k.useEffect(()=>{if(e&&n){const x=URe(e.id,n);u(x)}else u(null)},[e,n]);const v=async()=>{const x=c?`Subject: ${c.subject}

${c.body}`:"";if(navigator.clipboard&&window.isSecureContext)try{await navigator.clipboard.writeText(x),d(!0),setTimeout(()=>d(!1),2e3);return}catch{console.log("Clipboard API failed, falling back to textarea method")}if(p.current){p.current.value=x,p.current.style.display="block",p.current.select(),p.current.setSelectionRange(0,99999);try{document.execCommand("copy"),d(!0),setTimeout(()=>d(!1),2e3)}catch{alert("Copy failed. Please select and copy manually.")}p.current.style.display="none"}},y=()=>{if(!c||!n?.contact?.email){alert("No email address available for this lead");return}const x=encodeURIComponent(c.subject),w=encodeURIComponent(c.body),E=`mailto:${n.contact.email}?subject=${x}&body=${w}`;window.location.href=E};return o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsx("textarea",{ref:p,style:{position:"absolute",left:"-9999px",display:"none"},readOnly:!0}),o.jsxs("div",{className:"mb-8",children:[o.jsxs("h1",{className:"text-3xl font-black text-white tracking-tight mb-2",children:[o.jsx("span",{className:"text-red-500",children:"OUTREACH"})," TEMPLATES"]}),o.jsx("p",{className:"text-gray-400",children:"Pre-built email templates for sales outreach"})]}),o.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[o.jsxs("div",{className:"bg-[#1a1a2e] rounded-xl p-6 border border-gray-800/50",children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Templates"}),o.jsx("div",{className:"space-y-2",children:t.map(x=>o.jsx("button",{onClick:()=>r(x),className:`w-full text-left px-4 py-3 rounded-lg font-medium transition-all ${e?.id===x.id?"bg-red-600 text-white":"bg-[#12122a] text-gray-300 hover:bg-[#16162e]"}`,children:x.name},x.id))})]}),o.jsxs("div",{className:"bg-[#1a1a2e] rounded-xl p-6 border border-gray-800/50",children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Select Lead"}),o.jsxs("select",{value:n?.id||"",onChange:x=>{const w=s.find(E=>E.id===x.target.value);i(w)},className:"w-full px-4 py-3 bg-[#12122a] border border-gray-800/50 rounded-xl text-gray-300 focus:outline-none focus:ring-2 focus:ring-red-500/40",children:[o.jsx("option",{value:"",children:"-- Select a lead --"}),s.filter(x=>x.stage!=="lost"&&x.verification_status!=="do_not_contact").map(x=>o.jsx("option",{value:x.id,children:x.org_name},x.id))]}),n&&o.jsxs("div",{className:"mt-4 p-3 bg-[#12122a] rounded-lg border border-gray-800/50",children:[o.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Selected Lead"}),o.jsx("div",{className:"text-white font-bold mb-1",children:n.org_name}),o.jsx("div",{className:"text-sm text-gray-400",children:n.sport}),o.jsx("div",{className:"text-sm text-gray-400",children:n.location}),n.contact.email&&o.jsxs("div",{className:"text-sm text-green-400 mt-2 flex items-center gap-1",children:[o.jsx(hf,{size:14})," ",n.contact.email]})]})]})]}),o.jsxs("div",{className:"lg:col-span-2",children:[o.jsxs("div",{className:"bg-[#1a1a2e] rounded-xl p-6 border border-gray-800/50",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h3",{className:"text-lg font-bold text-white",children:"Preview"}),c&&o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:v,className:`${l?"bg-green-600":"bg-gray-700 hover:bg-gray-600"} text-white px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-2`,children:l?o.jsxs(o.Fragment,{children:[o.jsx(tl,{size:16})," Copied!"]}):o.jsxs(o.Fragment,{children:[o.jsx(JW,{size:16})," Copy to Clipboard"]})}),o.jsxs("button",{onClick:y,className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-2",children:[o.jsx(hf,{size:16})," Open in Email"]})]})]}),c?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"Subject Line"}),o.jsx("div",{className:"px-4 py-3 bg-[#12122a] border border-gray-800/50 rounded-xl text-white font-medium",children:c.subject})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"Email Body"}),o.jsx("div",{className:"px-4 py-4 bg-[#12122a] border border-gray-800/50 rounded-xl text-gray-300 whitespace-pre-wrap font-mono text-sm leading-relaxed min-h-[400px]",children:c.body})]}),o.jsxs("div",{className:"p-4 bg-blue-600/10 border border-blue-500/20 rounded-lg",children:[o.jsx("div",{className:"text-xs font-bold text-blue-400 uppercase mb-2",children:"Available Variables"}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-blue-300",children:[o.jsx("div",{children:o.jsx("code",{className:"bg-blue-900/30 px-2 py-1 rounded",children:"{{org_name}}"})}),o.jsx("div",{children:o.jsx("code",{className:"bg-blue-900/30 px-2 py-1 rounded",children:"{{decision_maker}}"})}),o.jsx("div",{children:o.jsx("code",{className:"bg-blue-900/30 px-2 py-1 rounded",children:"{{sport}}"})}),o.jsx("div",{children:o.jsx("code",{className:"bg-blue-900/30 px-2 py-1 rounded",children:"{{upcoming_event}}"})})]})]})]}):o.jsxs("div",{className:"text-center text-gray-500 py-12",children:[o.jsx(hf,{size:48,className:"mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"Select a template and lead to preview"})]})]}),o.jsxs("div",{className:"mt-4 p-4 bg-green-600/10 border border-green-500/20 rounded-lg",children:[o.jsx("div",{className:"text-xs font-bold text-green-400 uppercase mb-1",children:" Templates Ready"}),o.jsx("div",{className:"text-sm text-green-300",children:"All email templates are pre-configured with FFM branding. Select a lead and template to preview, then copy or open in your email client."})]})]})]}),o.jsxs("div",{className:"mt-8 bg-[#1a1a2e] rounded-xl p-6 border border-gray-800/50",children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Outreach Strategy Guide"}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-6 text-sm",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-red-400 mb-2",children:"Cold Outreach (First Contact)"}),o.jsxs("ul",{className:"space-y-1 text-gray-400",children:[o.jsx("li",{children:" Keep it short and personal"}),o.jsx("li",{children:" Lead with value, not features"}),o.jsx("li",{children:" Mention specific details about their organization"}),o.jsx("li",{children:" End with a clear, low-pressure CTA"})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-red-400 mb-2",children:"Follow-up #1 (3-5 days later)"}),o.jsxs("ul",{className:"space-y-1 text-gray-400",children:[o.jsx("li",{children:" Acknowledge they're busy"}),o.jsx("li",{children:" Share a relevant work example"}),o.jsx("li",{children:" Reiterate availability"}),o.jsx("li",{children:" Keep it brief"})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-red-400 mb-2",children:"Meeting Request (After engagement)"}),o.jsxs("ul",{className:"space-y-1 text-gray-400",children:[o.jsx("li",{children:" Be specific about what you'll cover"}),o.jsx("li",{children:" Show you've researched them"}),o.jsx("li",{children:" Offer flexible scheduling"}),o.jsx("li",{children:" Include calendar link if available"})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-red-400 mb-2",children:"Post-Meeting (Same day)"}),o.jsxs("ul",{className:"space-y-1 text-gray-400",children:[o.jsx("li",{children:" Send within 2 hours of meeting"}),o.jsx("li",{children:" Recap what was discussed"}),o.jsx("li",{children:" Outline next steps clearly"}),o.jsx("li",{children:" Attach proposal or contract"})]})]})]})]})]})}const UL=[{id:"branding",category:"Branding & Assets",icon:"",items:[{id:"logo",label:"High-resolution logo",type:"file",priority:"essential"},{id:"brand_kit",label:"Brand kit (colors, fonts, guidelines)",type:"file",priority:"important"},{id:"event_graphics",label:"Event-specific graphics/banners",type:"file",priority:"important"},{id:"sponsor_logos",label:"Sponsor logos for on-screen display",type:"file",priority:"nice"}]},{id:"athletes",category:"Athlete Information",icon:"",items:[{id:"registration_list",label:"Registration list (Name, Email, Phone, Instagram)",type:"file",priority:"essential"},{id:"notable_athletes",label:"Notable athletes to feature",type:"textarea",priority:"important"}]},{id:"venue",category:"Venue & Technical",icon:"",items:[{id:"floor_plan",label:"Venue floor plan (mat layout)",type:"file",priority:"essential"},{id:"internet_specs",label:"Internet specs (upload speed, hardwired access)",type:"textarea",priority:"essential"},{id:"power_locations",label:"Power outlet locations",type:"textarea",priority:"important"},{id:"load_in_time",label:"Load-in/crew access time",type:"text",priority:"important"},{id:"venue_contact",label:"Venue contact for event day",type:"contact",priority:"important"}]},{id:"event",category:"Event Operations",icon:"",items:[{id:"mat_count",label:"Number of mats running",type:"number",priority:"essential"},{id:"schedule",label:"Event schedule/run sheet",type:"file",priority:"essential"},{id:"bracket_system",label:"Bracket/scoring system used",type:"text",priority:"important"},{id:"match_comms_method",label:"How match order will be communicated",type:"textarea",priority:"important"}]},{id:"social",category:"Social & Promotion",icon:"",items:[{id:"org_instagram",label:"Organization Instagram",type:"text",priority:"important"},{id:"org_facebook",label:"Organization Facebook",type:"text",priority:"nice"},{id:"org_website",label:"Organization Website",type:"text",priority:"nice"},{id:"existing_content",label:"Existing footage/photos for promos",type:"file",priority:"nice"},{id:"existing_content_links",label:"Links to existing footage (Google Drive, Dropbox, etc.)",type:"textarea",priority:"nice"}]}];function XRe({session:t,onClose:e,onSave:r}){const[n,i]=k.useState("checklist"),[s,a]=k.useState(!1),[c,u]=k.useState({}),[l,d]=k.useState({}),[f,A]=k.useState({}),[p,v]=k.useState({});k.useEffect(()=>{if(!t)return;const U={};UL.forEach(W=>{U[W.id]={},W.items.forEach(q=>{const re=t.checklist_config?.[W.id]?.[q.id]||{};U[W.id][q.id]={enabled:re.enabled!==!1,priority:re.priority||q.priority,alreadyHave:re.alreadyHave||!1}})}),u(U),d(t.collected_data||{}),A(t.admin_item_notes||{}),v(t.manual_completions||{})},[t]);const y=(U,W)=>{u(q=>({...q,[U]:{...q[U],[W]:{...q[U][W],enabled:!q[U][W].enabled}}}))},x=(U,W)=>{u(q=>({...q,[U]:{...q[U],[W]:{...q[U][W],alreadyHave:!q[U][W].alreadyHave}}}))},w=(U,W,q)=>{u(re=>({...re,[U]:{...re[U],[W]:{...re[U][W],priority:q}}}))},E=(U,W,q)=>{A(re=>({...re,[`${U}.${W}`]:q}))},T=(U,W)=>{const q=`${U}.${W}`;v(re=>({...re,[q]:!re[q]}))},C=(U,W,q)=>{d(re=>({...re,[U]:{...re[U]||{},[W]:q}}))},j=async()=>{a(!0);try{const U={checklist_config:c,collected_data:l,admin_item_notes:f,manual_completions:p};await eRe(t.id,U),r&&r(U),e()}catch(U){console.error("Error saving:",U),alert("Failed to save changes: "+U.message)}finally{a(!1)}},P=(U,W)=>{const q=l[U]||{},re=q[W]||q[`${W}_url`],ie=p[`${U}.${W}`],Ae=c[U]?.[W]?.alreadyHave;return ie?{status:"manual",label:"Manually Complete",color:"blue"}:re?{status:"complete",label:"Client Provided",color:"green"}:Ae?{status:"already",label:"Already Have",color:"purple"}:{status:"pending",label:"Pending",color:"gray"}};return t?o.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4 overflow-y-auto",onClick:e,children:o.jsxs("div",{className:"bg-gray-800 rounded-2xl w-full max-w-5xl my-8 border border-gray-700 shadow-2xl",onClick:U=>U.stopPropagation(),children:[o.jsxs("div",{className:"p-6 border-b border-gray-700 flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-2 text-white",children:"Edit Session"}),o.jsx("p",{className:"text-gray-400",children:t.org_name})]}),o.jsx("button",{onClick:e,className:"text-gray-500 hover:text-white text-xl",children:""})]}),o.jsx("div",{className:"border-b border-gray-700",children:o.jsx("div",{className:"flex gap-1 px-6",children:[{id:"checklist",label:"Checklist Config",icon:""},{id:"data",label:"Collected Data",icon:""}].map(U=>o.jsxs("button",{onClick:()=>i(U.id),className:`flex items-center gap-2 px-4 py-3 font-medium transition-colors border-b-2 ${n===U.id?"border-orange-500 text-white":"border-transparent text-gray-500 hover:text-white"}`,children:[o.jsx("span",{children:U.icon})," ",U.label]},U.id))})}),o.jsxs("div",{className:"p-6 max-h-[600px] overflow-y-auto",children:[n==="checklist"&&o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4",children:o.jsxs("p",{className:"text-blue-200 text-sm",children:[o.jsx("strong",{children:" What this does:"}),' Configure what items the client sees, set priorities, mark items as "already have", and add internal notes for your team.']})}),UL.map(U=>o.jsxs("div",{className:"bg-gray-900/50 rounded-lg border border-gray-700",children:[o.jsx("div",{className:"px-4 py-3 border-b border-gray-700 bg-gray-800/50",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"text-2xl",children:U.icon}),o.jsx("h3",{className:"font-bold text-white",children:U.category})]})}),o.jsx("div",{className:"p-4 space-y-4",children:U.items.map(W=>{const q=c[U.id]?.[W.id]||{},re=P(U.id,W.id),ie=f[`${U.id}.${W.id}`]||"";return o.jsx("div",{className:`p-4 rounded-lg border transition-all ${q.enabled?"bg-gray-800/50 border-gray-700":"bg-gray-900/30 border-gray-800 opacity-60"}`,children:o.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[o.jsx("button",{onClick:()=>y(U.id,W.id),className:`flex-shrink-0 w-6 h-6 rounded border-2 flex items-center justify-center transition-colors ${q.enabled?"bg-orange-500 border-orange-500":"bg-transparent border-gray-600"}`,children:q.enabled&&o.jsx("span",{className:"text-white text-sm",children:""})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:`font-medium ${q.enabled?"text-white":"text-gray-500"}`,children:W.label}),o.jsx("span",{className:`text-xs px-2 py-1 rounded-full bg-${re.color}-500/20 text-${re.color}-400 border border-${re.color}-500/30`,children:re.label})]}),q.enabled&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.jsxs("select",{value:q.priority,onChange:Ae=>w(U.id,W.id,Ae.target.value),className:"text-xs bg-gray-900 border border-gray-700 rounded px-2 py-1 text-white focus:outline-none focus:border-orange-500",children:[o.jsx("option",{value:"essential",children:"Essential"}),o.jsx("option",{value:"important",children:"Important"}),o.jsx("option",{value:"nice",children:"Nice to have"})]}),o.jsx("button",{onClick:()=>x(U.id,W.id),className:`text-xs px-3 py-1 rounded border transition-colors ${q.alreadyHave?"bg-purple-500/20 text-purple-400 border-purple-500/30":"bg-gray-900 text-gray-400 border-gray-700"}`,children:q.alreadyHave?" Already Have":'Mark "Already Have"'}),o.jsx("button",{onClick:()=>T(U.id,W.id),className:`text-xs px-3 py-1 rounded border transition-colors ${p[`${U.id}.${W.id}`]?"bg-blue-500/20 text-blue-400 border-blue-500/30":"bg-gray-900 text-gray-400 border-gray-700"}`,children:p[`${U.id}.${W.id}`]?" Manually Complete":"Mark Complete"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Internal Note (not visible to client)"}),o.jsx("textarea",{value:ie,onChange:Ae=>E(U.id,W.id,Ae.target.value),placeholder:"e.g., Client sent logo via email - see Drive folder",rows:2,className:"w-full text-sm bg-gray-900 border border-gray-700 rounded px-3 py-2 text-white placeholder-gray-600 focus:outline-none focus:border-orange-500 resize-none"})]})]})]})]})},W.id)})})]},U.id))]}),n==="data"&&o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-4",children:o.jsxs("p",{className:"text-yellow-200 text-sm",children:[o.jsx("strong",{children:" Caution:"})," You're editing data the client submitted. Only modify if you need to correct errors or add information on their behalf."]})}),UL.map(U=>{const W=l[U.id]||{};return o.jsxs("div",{className:"bg-gray-900/50 rounded-lg border border-gray-700",children:[o.jsx("div",{className:"px-4 py-3 border-b border-gray-700 bg-gray-800/50",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"text-2xl",children:U.icon}),o.jsx("h3",{className:"font-bold text-white",children:U.category})]})}),o.jsx("div",{className:"p-4 space-y-4",children:U.items.filter(q=>c[U.id]?.[q.id]?.enabled!==!1).map(q=>{const re=W[q.id]||"",ie=W[`${q.id}_url`]||"";return o.jsxs("div",{className:"p-3 rounded-lg bg-gray-800/50 border border-gray-700",children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:q.label}),q.type==="file"&&o.jsxs("div",{children:[o.jsx("input",{type:"text",value:ie,onChange:Ae=>C(U.id,`${q.id}_url`,Ae.target.value),placeholder:"File URL (if uploaded)",className:"w-full text-sm bg-gray-900 border border-gray-700 rounded px-3 py-2 text-white placeholder-gray-600 focus:outline-none focus:border-orange-500"}),ie&&o.jsx("a",{href:ie,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-orange-500 hover:underline mt-1 inline-block",children:"View uploaded file "})]}),q.type==="text"&&o.jsx("input",{type:"text",value:re,onChange:Ae=>C(U.id,q.id,Ae.target.value),placeholder:q.placeholder||"",className:"w-full text-sm bg-gray-900 border border-gray-700 rounded px-3 py-2 text-white placeholder-gray-600 focus:outline-none focus:border-orange-500"}),q.type==="number"&&o.jsx("input",{type:"number",value:re,onChange:Ae=>C(U.id,q.id,Ae.target.value),placeholder:q.placeholder||"",className:"w-full text-sm bg-gray-900 border border-gray-700 rounded px-3 py-2 text-white placeholder-gray-600 focus:outline-none focus:border-orange-500"}),q.type==="textarea"&&o.jsx("textarea",{value:re,onChange:Ae=>C(U.id,q.id,Ae.target.value),placeholder:q.placeholder||"",rows:3,className:"w-full text-sm bg-gray-900 border border-gray-700 rounded px-3 py-2 text-white placeholder-gray-600 focus:outline-none focus:border-orange-500 resize-none"}),q.type==="contact"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("input",{type:"text",value:W[`${q.id}_name`]||"",onChange:Ae=>C(U.id,`${q.id}_name`,Ae.target.value),placeholder:"Contact name",className:"w-full text-sm bg-gray-900 border border-gray-700 rounded px-3 py-2 text-white placeholder-gray-600 focus:outline-none focus:border-orange-500"}),o.jsx("input",{type:"tel",value:W[`${q.id}_phone`]||"",onChange:Ae=>C(U.id,`${q.id}_phone`,Ae.target.value),placeholder:"Phone number",className:"w-full text-sm bg-gray-900 border border-gray-700 rounded px-3 py-2 text-white placeholder-gray-600 focus:outline-none focus:border-orange-500"}),o.jsx("input",{type:"email",value:W[`${q.id}_email`]||"",onChange:Ae=>C(U.id,`${q.id}_email`,Ae.target.value),placeholder:"Email address",className:"w-full text-sm bg-gray-900 border border-gray-700 rounded px-3 py-2 text-white placeholder-gray-600 focus:outline-none focus:border-orange-500"})]})]},q.id)})})]},U.id)})]})]}),o.jsxs("div",{className:"p-6 border-t border-gray-700 flex justify-end gap-3",children:[o.jsx("button",{onClick:e,className:"px-6 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:"Cancel"}),o.jsx("button",{onClick:j,disabled:s,className:"px-6 py-2 bg-orange-500 hover:bg-orange-600 disabled:bg-gray-600 text-white rounded-lg transition-colors flex items-center gap-2",children:s?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full"}),"Saving..."]}):o.jsx(o.Fragment,{children:" Save Changes"})})]})]})}):null}const Az=[{id:"branding",category:"Branding & Assets",icon:"",items:[{id:"logo",label:"High-resolution logo",type:"file"},{id:"brand_kit",label:"Brand kit (colors, fonts, guidelines)",type:"file"},{id:"event_graphics",label:"Event-specific graphics/banners",type:"file"},{id:"sponsor_logos",label:"Sponsor logos for on-screen display",type:"file"}]},{id:"athletes",category:"Athlete Information",icon:"",items:[{id:"registration_list",label:"Registration list",type:"file"},{id:"notable_athletes",label:"Notable athletes to feature",type:"textarea"}]},{id:"venue",category:"Venue & Technical",icon:"",items:[{id:"floor_plan",label:"Venue floor plan",type:"file"},{id:"internet_specs",label:"Internet specs",type:"textarea"},{id:"power_locations",label:"Power outlet locations",type:"textarea"},{id:"load_in_time",label:"Load-in/crew access time",type:"text"},{id:"venue_contact",label:"Venue contact for event day",type:"contact"}]},{id:"event",category:"Event Operations",icon:"",items:[{id:"mat_count",label:"Number of mats running",type:"number"},{id:"schedule",label:"Event schedule/run sheet",type:"file"},{id:"bracket_system",label:"Bracket/scoring system used",type:"text"},{id:"match_comms_method",label:"How match order will be communicated",type:"textarea"}]},{id:"social",category:"Social & Promotion",icon:"",items:[{id:"org_instagram",label:"Organization Instagram",type:"text"},{id:"org_facebook",label:"Organization Facebook",type:"text"},{id:"org_website",label:"Organization Website",type:"text"},{id:"existing_content",label:"Existing footage/photos for promos",type:"file"},{id:"existing_content_links",label:"Links to existing footage",type:"textarea"}]}],ZRe=t=>{if(!t)return{icon:r8,type:"file",isImage:!1};const e=t.toLowerCase();return e.match(/\.(jpg|jpeg|png|gif|webp|svg|bmp)(\?|$)/i)?{icon:p0,type:"image",isImage:!0}:e.match(/\.(mp4|mov|avi|webm|mkv)(\?|$)/i)?{icon:RR,type:"video",isImage:!1}:e.match(/\.(mp3|wav|aac|ogg|m4a)(\?|$)/i)?{icon:Mde,type:"audio",isImage:!1}:e.match(/\.(pdf|doc|docx|xls|xlsx|ppt|pptx|txt|csv)(\?|$)/i)?{icon:PR,type:"document",isImage:!1}:e.match(/\.(zip|rar|7z|tar|gz)(\?|$)/i)?{icon:Lue,type:"archive",isImage:!1}:{icon:r8,type:"file",isImage:!1}},JRe=t=>{if(!t)return"File";try{const n=new URL(t).pathname.split("/").pop(),i=decodeURIComponent(n);return i.length>40?i.substring(0,37)+"...":i}catch{return"File"}};function eDe({url:t,label:e}){const{icon:r,type:n,isImage:i}=ZRe(t),s=JRe(t);return o.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"group block",children:o.jsxs("div",{className:"border border-gray-700 rounded-xl overflow-hidden hover:border-orange-500/50 transition-all",children:[o.jsxs("div",{className:"bg-gray-900 aspect-video flex items-center justify-center relative overflow-hidden",children:[i?o.jsx("img",{src:t,alt:e,className:"w-full h-full object-cover group-hover:scale-105 transition-transform",onError:a=>{a.target.style.display="none",a.target.nextSibling.style.display="flex"}}):null,o.jsxs("div",{className:`flex flex-col items-center justify-center text-gray-500 ${i?"hidden":""}`,style:i?{display:"none"}:{},children:[o.jsx(r,{size:48,className:"mb-2"}),o.jsx("span",{className:"text-xs uppercase tracking-wide",children:n})]}),o.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-3",children:o.jsx("div",{className:"bg-orange-500 text-white p-2 rounded-full",children:o.jsx(sC,{size:20})})})]}),o.jsxs("div",{className:"p-3 bg-gray-800",children:[o.jsx("p",{className:"text-sm text-white truncate",children:s}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e})]})]})})}function tDe({value:t,isUrl:e}){return t?Array.isArray(t)?t.length===0?o.jsx("span",{className:"text-gray-500 italic",children:"No links provided"}):o.jsx("div",{className:"space-y-1",children:t.map((r,n)=>o.jsxs("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 break-all flex items-center gap-1 block",children:[" ",r.includes("drive.google")?"Google Drive":r.includes("dropbox")?"Dropbox":"External"," link",o.jsx(sC,{size:14})]},n))}):e||t.startsWith("http://")||t.startsWith("https://")?o.jsxs("a",{href:t.startsWith("http")?t:`https://${t}`,target:"_blank",rel:"noopener noreferrer",className:"text-orange-500 hover:text-orange-400 break-all flex items-center gap-1",children:[t,o.jsx(sC,{size:14})]}):t.includes(`
`)?o.jsx("p",{className:"text-white whitespace-pre-wrap",children:t}):o.jsx("span",{className:"text-white",children:t}):o.jsx("span",{className:"text-gray-500 italic",children:"Not provided"})}function rDe({data:t,itemId:e}){const r=t[`${e}_name`],n=t[`${e}_phone`],i=t[`${e}_email`];return!r&&!n&&!i?o.jsx("span",{className:"text-gray-500 italic",children:"Not provided"}):o.jsxs("div",{className:"space-y-1",children:[r&&o.jsx("p",{className:"text-white font-medium",children:r}),n&&o.jsxs("a",{href:`tel:${n}`,className:"text-orange-500 hover:text-orange-400 block",children:[" ",n]}),i&&o.jsxs("a",{href:`mailto:${i}`,className:"text-orange-500 hover:text-orange-400 block",children:[" ",i]})]})}function nDe({data:t,files:e=[],checklistConfig:r}){const[n,i]=k.useState(new Set(Az.map(f=>f.id))),s=r||Az,a=(f,A)=>{const p=s.find(y=>y.id===f);return p&&p.items.find(y=>y.id===A)?.label||null},c={};for(const f of e){if(!f.category)continue;c[f.category]||(c[f.category]=[]);const A=a(f.category,f.file_type);c[f.category].push({id:f.file_type||f.id,label:A||f.file_type||"Uploaded file",url:f.drive_file_url||f.public_url,fileName:f.file_name,mimeType:f.mime_type})}const u=f=>{i(A=>{const p=new Set(A);return p.has(f)?p.delete(f):p.add(f),p})},l=f=>{if(c[f]?.length>0)return!0;const A=t?.[f];return A?Object.values(A).some(p=>p&&p!==""):!1},d=f=>{const A=t?.[f.id]||{},p=c[f.id]||[];let v=0,y=f.items.length;const x=new Set(p.map(w=>w.id));return f.items.forEach(w=>{if(w.type==="file")(x.has(w.id)||A[`${w.id}_url`])&&v++;else if(w.type==="contact")(A[`${w.id}_name`]||A[`${w.id}_phone`]||A[`${w.id}_email`])&&v++;else{const E=A[w.id];E&&E!==""&&v++}}),{completed:v,total:y}};return!t||Object.keys(t).length===0?o.jsx("div",{className:"text-center py-8 text-gray-500",children:o.jsx("p",{children:"No information collected yet"})}):o.jsx("div",{className:"space-y-4",children:s.map(f=>{const A=t[f.id]||{},p=n.has(f.id),v=l(f.id),y=d(f),x=c[f.id]||[],w=new Set(x.map(j=>j.id)),E=f.items.filter(j=>j.type==="file").filter(j=>!w.has(j.id)).map(j=>({...j,url:A[`${j.id}_url`]||A[j.id]})).filter(j=>j.url&&j.url.startsWith("http")),T=[...x,...E],C=f.items.filter(j=>j.type!=="file");return o.jsxs("div",{className:`border rounded-xl overflow-hidden transition-colors ${v?"border-gray-700 bg-gray-800/50":"border-gray-800 bg-gray-900/30"}`,children:[o.jsxs("button",{onClick:()=>u(f.id),className:"w-full flex items-center justify-between p-4 hover:bg-gray-700/30 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"text-2xl",children:f.icon}),o.jsxs("div",{className:"text-left",children:[o.jsx("h3",{className:"font-semibold text-white",children:f.category}),o.jsxs("p",{className:"text-xs text-gray-500",children:[y.completed,"/",y.total," items provided"]})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[y.completed===y.total?o.jsx("span",{className:"text-green-400 text-sm",children:" Complete"}):y.completed>0?o.jsxs("span",{className:"text-yellow-400 text-sm",children:[y.completed,"/",y.total]}):o.jsx("span",{className:"text-gray-500 text-sm",children:"Empty"}),p?o.jsx(iC,{size:20,className:"text-gray-400"}):o.jsx(gb,{size:20,className:"text-gray-400"})]})]}),p&&o.jsxs("div",{className:"border-t border-gray-700 p-4",children:[T.length>0&&o.jsxs("div",{className:"mb-6",children:[o.jsxs("h4",{className:"text-xs text-gray-500 uppercase mb-3",children:["Files (",T.length,")"]}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:T.map((j,P)=>o.jsx(eDe,{url:j.url,label:j.label||j.fileName||"Uploaded file"},j.id||P))})]}),C.length>0&&o.jsxs("div",{className:T.length>0?"mt-4 pt-4 border-t border-gray-700":"",children:[o.jsx("h4",{className:"text-xs text-gray-500 uppercase mb-3",children:"Details"}),o.jsx("div",{className:"space-y-4",children:C.map(j=>{const P=A[j.id],U=j.type==="contact"?A[`${j.id}_name`]||A[`${j.id}_phone`]||A[`${j.id}_email`]:P&&P!=="";return o.jsxs("div",{className:`${U?"":"opacity-50"}`,children:[o.jsx("label",{className:"text-sm text-gray-400 block mb-1",children:j.label}),j.type==="contact"?o.jsx(rDe,{data:A,itemId:j.id}):o.jsx(tDe,{value:P,isUrl:j.id.includes("website")||j.id.includes("facebook")||j.id.includes("instagram")})]},j.id)})})]}),Object.entries(A).filter(([j,P])=>j.endsWith("_links")&&Array.isArray(P)&&P.length>0).length>0&&o.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-700",children:[o.jsx("h4",{className:"text-xs text-gray-500 uppercase mb-3",children:"External Links"}),o.jsx("div",{className:"space-y-4",children:Object.entries(A).filter(([j,P])=>j.endsWith("_links")&&Array.isArray(P)&&P.length>0).map(([j,P])=>{const U=j.replace(/_links$/,""),q=f.items.find(re=>re.id===U)?.label||U.replace(/_/g," ").replace(/\b\w/g,re=>re.toUpperCase());return o.jsxs("div",{children:[o.jsxs("label",{className:"text-sm text-gray-400 block mb-1",children:[q," (external links)"]}),o.jsx("div",{className:"space-y-1",children:P.map((re,ie)=>o.jsxs("a",{href:re,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 break-all flex items-center gap-2 p-2 bg-blue-500/10 rounded-lg text-sm",children:[o.jsx("span",{children:""}),o.jsxs("span",{className:"flex-1 truncate",children:[re.includes("drive.google")?"Google Drive":re.includes("dropbox")?"Dropbox":"External"," link"]}),o.jsx(sC,{size:14})]},ie))})]},j)})})]}),T.length===0&&C.every(j=>{const P=A[j.id];return j.type==="contact"?!(A[`${j.id}_name`]||A[`${j.id}_phone`]||A[`${j.id}_email`]):!P||P===""})&&o.jsx("p",{className:"text-gray-500 text-center py-4 italic",children:"No information provided for this category"})]})]},f.id)})})}function iDe(){const t=Mc(),[e,r]=k.useState([]),[n,i]=k.useState([]),[s,a]=k.useState(!0),[c,u]=k.useState(null),[l,d]=k.useState(null),[f,A]=k.useState([]),[p,v]=k.useState("all"),[y,x]=k.useState(""),[w,E]=k.useState(!1),[T,C]=k.useState(!1),[j,P]=k.useState(!1),[U,W]=k.useState(!1),[q,re]=k.useState({org_name:"",contact_name:"",contact_email:"",contact_phone:"",event_name:"",event_date:"",event_location:""});k.useEffect(()=>{ie()},[]);const ie=async()=>{try{const[ue,ye]=await Promise.all([vre(),m5()]);r(ue||[]),i(ye||[])}catch(ue){u(ue.message)}finally{a(!1)}},Ae=async ue=>{ue.preventDefault(),W(!0);try{const ye=await yre(q);r(Le=>[ye,...Le]),E(!1),re({org_name:"",contact_name:"",contact_email:"",contact_phone:"",event_name:"",event_date:"",event_location:""})}catch(ye){alert("Error: "+ye.message)}finally{W(!1)}},be=async ue=>{try{await nRe(ue,"Brandon Hibbs"),await ie(),d(null)}catch(ye){alert("Error: "+ye.message)}},Ee=async ue=>{if(confirm("Are you sure you want to delete this onboarding session? This cannot be undone."))try{await iRe(ue),r(ye=>ye.filter(Le=>Le.id!==ue)),d(null)}catch(ye){alert("Error deleting session: "+ye.message)}},ge=ue=>{r(ye=>ye.map(Le=>Le.id===l.id?{...Le,...ue}:Le)),d(ye=>({...ye,...ue})),P(!1)},se=async ue=>{d(ue);try{const ye=await oRe(ue.id);A(ye||[])}catch(ye){console.error("Error fetching files:",ye),A([])}},xe=ue=>{const ye={pending:"bg-yellow-500/20 text-yellow-400",in_progress:"bg-blue-500/20 text-blue-400",submitted:"bg-green-500/20 text-green-400",reviewed:"bg-purple-500/20 text-purple-400"},Le={pending:"Pending",in_progress:"In Progress",submitted:"Submitted",reviewed:"Reviewed"};return o.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${ye[ue]||ye.pending}`,children:Le[ue]||"Unknown"})},ce=ue=>{const ye=ue.checklist_progress||{},Le=18,He=Object.values(ye).filter(Fe=>Fe).length;return Math.round(He/Le*100)},Me=e.filter(ue=>!(p!=="all"&&ue.status!==p||y&&!ue.org_name?.toLowerCase().includes(y.toLowerCase()))),Oe=ue=>`${window.location.origin}/#/onboarding/${ue}`,we=n.filter(ue=>ue.status==="signed");return s?o.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:o.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-orange-500 border-t-transparent rounded-full"})}):o.jsxs("div",{className:"min-h-screen bg-gray-900 text-white",children:[o.jsx("div",{className:"bg-gray-800 border-b border-gray-700",children:o.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{onClick:()=>t("/portal/contracts"),className:"text-gray-400 hover:text-white",children:" Back"}),o.jsx("h1",{className:"text-xl font-bold",children:"Partner Onboarding"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>C(!0),className:"bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-lg text-sm flex items-center gap-2",children:" From Contract"}),o.jsx("button",{onClick:()=>E(!0),className:"bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg text-sm flex items-center gap-2",children:" New Session"})]})]})}),o.jsx("div",{className:"max-w-6xl mx-auto px-4 py-6",children:o.jsx("div",{className:"grid grid-cols-4 gap-4",children:[{label:"Total",value:e.length,color:"orange"},{label:"Pending",value:e.filter(ue=>ue.status==="pending").length,color:"yellow"},{label:"Submitted",value:e.filter(ue=>ue.status==="submitted").length,color:"green"},{label:"Reviewed",value:e.filter(ue=>ue.status==="reviewed").length,color:"purple"}].map((ue,ye)=>o.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[o.jsx("div",{className:`text-3xl font-bold text-${ue.color}-500`,children:ue.value}),o.jsx("div",{className:"text-sm text-gray-500",children:ue.label})]},ye))})}),o.jsx("div",{className:"max-w-6xl mx-auto px-4 mb-6",children:o.jsxs("div",{className:"flex gap-3",children:[o.jsx("input",{type:"text",placeholder:"Search organizations...",value:y,onChange:ue=>x(ue.target.value),className:"flex-1 max-w-xs px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:border-orange-500 focus:outline-none"}),o.jsxs("select",{value:p,onChange:ue=>v(ue.target.value),className:"px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:border-orange-500 focus:outline-none",children:[o.jsx("option",{value:"all",children:"All Status"}),o.jsx("option",{value:"pending",children:"Pending"}),o.jsx("option",{value:"in_progress",children:"In Progress"}),o.jsx("option",{value:"submitted",children:"Submitted"}),o.jsx("option",{value:"reviewed",children:"Reviewed"})]})]})}),o.jsx("div",{className:"max-w-6xl mx-auto px-4 pb-12",children:Me.length===0?o.jsxs("div",{className:"bg-gray-800 rounded-xl p-12 text-center border border-gray-700",children:[o.jsx("div",{className:"text-4xl mb-4",children:""}),o.jsx("p",{className:"text-gray-400",children:"No onboarding sessions found"}),o.jsx("button",{onClick:()=>E(!0),className:"mt-4 bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded-lg text-sm",children:"Create First Session"})]}):o.jsx("div",{className:"space-y-3",children:Me.map(ue=>o.jsx("div",{onClick:()=>se(ue),className:"bg-gray-800 rounded-xl p-5 border border-gray-700 hover:border-gray-600 cursor-pointer transition-colors",children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("h3",{className:"font-semibold text-lg",children:ue.org_name}),xe(ue.status)]}),o.jsxs("div",{className:"flex gap-4 text-sm text-gray-500",children:[ue.event_name&&o.jsxs("span",{children:[" ",ue.event_name]}),ue.contact_name&&o.jsxs("span",{children:[" ",ue.contact_name]}),ue.event_date&&o.jsxs("span",{children:[" ",new Date(ue.event_date).toLocaleDateString()]})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"text-2xl font-bold text-orange-500",children:[ce(ue),"%"]}),o.jsx("div",{className:"text-xs text-gray-500",children:"Complete"})]})]})},ue.id))})}),l&&o.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>d(null),children:o.jsxs("div",{className:"bg-gray-800 rounded-2xl max-w-3xl w-full max-h-[90vh] overflow-auto border border-gray-700",onClick:ue=>ue.stopPropagation(),children:[o.jsxs("div",{className:"p-6 border-b border-gray-700 flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold mb-2",children:l.org_name}),xe(l.status)]}),o.jsx("button",{onClick:()=>d(null),className:"text-gray-500 hover:text-white text-xl",children:""})]}),o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"text-xs text-gray-500 uppercase mb-2",children:"Event Details"}),o.jsxs("div",{className:"space-y-1 text-sm",children:[l.event_name&&o.jsxs("p",{children:[o.jsx("strong",{children:"Event:"})," ",l.event_name]}),l.event_date&&o.jsxs("p",{children:[o.jsx("strong",{children:"Date:"})," ",new Date(l.event_date).toLocaleDateString()]}),l.event_location&&o.jsxs("p",{children:[o.jsx("strong",{children:"Location:"})," ",l.event_location]})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-xs text-gray-500 uppercase mb-2",children:"Contact"}),o.jsxs("div",{className:"space-y-1 text-sm",children:[l.contact_name&&o.jsxs("p",{children:[o.jsx("strong",{children:"Name:"})," ",l.contact_name]}),l.contact_email&&o.jsxs("p",{children:[o.jsx("strong",{children:"Email:"})," ",o.jsx("a",{href:`mailto:${l.contact_email}`,className:"text-orange-500",children:l.contact_email})]}),l.contact_phone&&o.jsxs("p",{children:[o.jsx("strong",{children:"Phone:"})," ",o.jsx("a",{href:`tel:${l.contact_phone}`,className:"text-orange-500",children:l.contact_phone})]})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-xs text-gray-500 uppercase mb-2",children:"Progress"}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"flex-1 h-2 bg-gray-700 rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full bg-orange-500",style:{width:`${ce(l)}%`}})}),o.jsxs("span",{className:"font-bold text-orange-500",children:[ce(l),"%"]})]})]}),l.collected_data&&Object.keys(l.collected_data).length>0||f.length>0?o.jsxs("div",{children:[o.jsx("h4",{className:"text-xs text-gray-500 uppercase mb-3",children:"Collected Information"}),o.jsx(nDe,{data:l.collected_data,files:f})]}):null,o.jsxs("div",{children:[o.jsx("h4",{className:"text-xs text-gray-500 uppercase mb-2",children:"Google Drive Status"}),l.drive_folder_id?o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-green-400",children:""}),o.jsx("span",{className:"text-sm",children:"Synced to Google Drive"})]}),(l.shared_with||[]).length>0&&o.jsxs("div",{className:"mt-2",children:[o.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Team access:"}),l.shared_with.map((ue,ye)=>o.jsxs("span",{className:"text-xs text-gray-400",children:[ue.email,ye<l.shared_with.length-1?", ":""]},ye))]})]}):o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-yellow-400",children:""}),o.jsx("span",{className:"text-sm text-gray-400",children:"Pending sync (runs every 10 min)"})]})]}),o.jsxs("div",{className:"flex flex-wrap gap-2 pt-4 border-t border-gray-700",children:[o.jsx("button",{onClick:()=>P(!0),className:"bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg text-sm",children:" Edit Session"}),o.jsx("a",{href:Oe(l.share_token),target:"_blank",rel:"noopener noreferrer",className:"bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-lg text-sm",children:" View Portal"}),o.jsx("button",{onClick:()=>{navigator.clipboard.writeText(Oe(l.share_token)),alert("Link copied!")},className:"bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-lg text-sm",children:" Copy Link"}),l.drive_folder_id&&o.jsx("a",{href:l.drive_folder_url||`https://drive.google.com/drive/folders/${l.drive_folder_id}`,target:"_blank",rel:"noopener noreferrer",className:"bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-lg text-sm",children:" View Drive Folder"}),l.status==="submitted"&&o.jsx("button",{onClick:()=>be(l.id),className:"bg-green-600 hover:bg-green-500 text-white px-4 py-2 rounded-lg text-sm",children:" Mark Reviewed"}),o.jsx("button",{onClick:()=>Ee(l.id),className:"bg-red-600 hover:bg-red-500 text-white px-4 py-2 rounded-lg text-sm",children:" Delete"})]})]})]})}),w&&o.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>E(!1),children:o.jsxs("div",{className:"bg-gray-800 rounded-2xl max-w-md w-full border border-gray-700",onClick:ue=>ue.stopPropagation(),children:[o.jsx("div",{className:"p-6 border-b border-gray-700",children:o.jsx("h2",{className:"text-lg font-bold",children:"Create Onboarding Session"})}),o.jsxs("form",{onSubmit:Ae,className:"p-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Organization Name *"}),o.jsx("input",{required:!0,value:q.org_name,onChange:ue=>re({...q,org_name:ue.target.value}),className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:border-orange-500 focus:outline-none"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Contact Name"}),o.jsx("input",{value:q.contact_name,onChange:ue=>re({...q,contact_name:ue.target.value}),className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:border-orange-500 focus:outline-none"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Contact Email"}),o.jsx("input",{type:"email",value:q.contact_email,onChange:ue=>re({...q,contact_email:ue.target.value}),className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:border-orange-500 focus:outline-none"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Event Name"}),o.jsx("input",{value:q.event_name,onChange:ue=>re({...q,event_name:ue.target.value}),className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:border-orange-500 focus:outline-none"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Event Date"}),o.jsx("input",{type:"date",value:q.event_date,onChange:ue=>re({...q,event_date:ue.target.value}),className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:border-orange-500 focus:outline-none"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Location"}),o.jsx("input",{value:q.event_location,onChange:ue=>re({...q,event_location:ue.target.value}),className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:border-orange-500 focus:outline-none"})]})]})]}),o.jsxs("div",{className:"flex gap-3 mt-6",children:[o.jsx("button",{type:"button",onClick:()=>E(!1),className:"flex-1 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:U,className:"flex-1 py-2 bg-orange-500 hover:bg-orange-600 rounded-lg disabled:opacity-50",children:U?"Creating...":"Create"})]})]})]})}),T&&o.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>C(!1),children:o.jsxs("div",{className:"bg-gray-800 rounded-2xl max-w-md w-full border border-gray-700",onClick:ue=>ue.stopPropagation(),children:[o.jsx("div",{className:"p-6 border-b border-gray-700",children:o.jsx("h2",{className:"text-lg font-bold",children:"Create From Signed Contract"})}),o.jsxs("div",{className:"p-6",children:[we.length===0?o.jsx("p",{className:"text-gray-400 text-center py-8",children:"No signed contracts available"}):o.jsx("div",{className:"space-y-2 max-h-80 overflow-auto",children:we.map(ue=>{const ye=e.some(Le=>Le.contract_id===ue.id);return o.jsxs("button",{onClick:()=>!ye&&t(`/portal/onboarding/new?contractId=${ue.id}`),disabled:ye,className:`w-full p-4 rounded-xl text-left transition-colors ${ye?"bg-gray-700/50 cursor-not-allowed opacity-50":"bg-gray-700 hover:bg-gray-600"}`,children:[o.jsx("div",{className:"font-medium",children:ue.org_name}),o.jsx("div",{className:"text-sm text-gray-400",children:ue.promoter_name}),ye&&o.jsx("div",{className:"text-xs text-orange-500 mt-1",children:"Session already exists"})]},ue.id)})}),o.jsx("button",{onClick:()=>C(!1),className:"w-full mt-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg",children:"Close"})]})]})}),j&&l&&o.jsx(XRe,{session:l,onClose:()=>P(!1),onSave:ge})]})}const F1=[{id:"branding",category:"Branding & Assets",icon:"",items:[{id:"logo",label:"High-resolution logo",type:"file",priority:"essential"},{id:"brand_kit",label:"Brand kit (colors, fonts, guidelines)",type:"file",priority:"important"},{id:"event_graphics",label:"Event-specific graphics/banners",type:"file",priority:"important"},{id:"sponsor_logos",label:"Sponsor logos for on-screen display",type:"file",priority:"nice"}]},{id:"athletes",category:"Athlete Information",icon:"",items:[{id:"registration_list",label:"Registration list (Name, Email, Phone, Instagram)",type:"file",priority:"essential"},{id:"notable_athletes",label:"Notable athletes to feature",type:"textarea",priority:"important"}]},{id:"venue",category:"Venue & Technical",icon:"",items:[{id:"floor_plan",label:"Venue floor plan (mat layout)",type:"file",priority:"essential"},{id:"internet_specs",label:"Internet specs (upload speed, hardwired access)",type:"textarea",priority:"essential"},{id:"power_locations",label:"Power outlet locations",type:"textarea",priority:"important"},{id:"load_in_time",label:"Load-in/crew access time",type:"text",priority:"important"},{id:"venue_contact",label:"Venue contact for event day",type:"contact",priority:"important"}]},{id:"event",category:"Event Operations",icon:"",items:[{id:"mat_count",label:"Number of mats running",type:"number",priority:"essential"},{id:"schedule",label:"Event schedule/run sheet",type:"file",priority:"essential"},{id:"bracket_system",label:"Bracket/scoring system used",type:"text",priority:"important"},{id:"match_comms_method",label:"How match order will be communicated",type:"textarea",priority:"important"}]},{id:"social",category:"Social & Promotion",icon:"",items:[{id:"org_instagram",label:"Organization Instagram",type:"text",priority:"important"},{id:"org_facebook",label:"Organization Facebook",type:"text",priority:"nice"},{id:"org_website",label:"Organization Website",type:"text",priority:"nice"},{id:"existing_content",label:"Existing footage/photos for promos",type:"file",priority:"nice"},{id:"existing_content_links",label:"Links to existing footage (Google Drive, Dropbox, etc.)",type:"textarea",priority:"nice"}]}];function sDe(){const t=Mc(),[e]=fN(),[r,n]=k.useState(1),[i,s]=k.useState([]),[a,c]=k.useState(null),[u,l]=k.useState(!0),[d,f]=k.useState(!1),[A]=k.useState(()=>e.get("contractId")),[p,v]=k.useState({orgName:"",contactName:"",email:"",phone:"",eventName:"",eventDate:"",eventLocation:"",contractId:"",orgInstagram:"",orgFacebook:"",orgWebsite:""}),[y,x]=k.useState(()=>{const Ge={};return F1.forEach(Ct=>{Ge[Ct.id]={},Ct.items.forEach(Et=>{Ge[Ct.id][Et.id]={enabled:!0,priority:Et.priority,alreadyHave:!1,prefilledValue:""}})}),Ge}),[w,E]=k.useState({}),[T,C]=k.useState({}),[j,P]=k.useState(null),[U,W]=k.useState(""),[q,re]=k.useState("text"),[ie,Ae]=k.useState(null);k.useEffect(()=>{be()},[]),k.useEffect(()=>{A&&i.length>0&&!a&&i.find(Ct=>Ct.id===A)&&Ee(A)},[i,A]);const be=async()=>{try{const Ct=(await m5()).filter(Et=>Et.status==="signed");s(Ct)}catch(Ge){console.error("Error loading contracts:",Ge)}finally{l(!1)}},Ee=async Ge=>{if(!Ge){c(null),ce();return}const Ct=i.find(on=>on.id===Ge);if(!Ct)return;c(Ct);const Et=Ct.contract_data||{};let Ut=null;try{Ut=await KPe(Ct.org_name)}catch(on){console.log("No CRM lead found:",on)}const ir=Ut?.contact||{};v({orgName:Ct.org_name||"",contactName:Ct.promoter_name||Ct.contact_name||"",email:Ct.promoter_email||Ct.contact_email||"",phone:Ct.promoter_phone||Ct.contact_phone||"",eventName:Et.event_name||"",eventDate:Et.event_date||"",eventLocation:Et.event_location||Et.venue||"",contractId:Ct.id,orgInstagram:se(ir.instagram||Et.org_instagram||""),orgFacebook:xe(ir.facebook||Et.org_facebook||""),orgWebsite:ir.website||Et.org_website||""}),Me("social","org_instagram",se(ir.instagram||Et.org_instagram||"")),Me("social","org_facebook",xe(ir.facebook||Et.org_facebook||"")),Me("social","org_website",ir.website||Et.org_website||"")},ge=async Ge=>{const Ct=Ge.target.value;Ee(Ct)},se=Ge=>Ge?Ge.startsWith("@")?Ge:`@${Ge}`:"",xe=Ge=>Ge?Ge.startsWith("http")?Ge:`https://facebook.com/${Ge.replace(/^@/,"").replace(/^\//,"")}`:"",ce=()=>{v({orgName:"",contactName:"",email:"",phone:"",eventName:"",eventDate:"",eventLocation:"",contractId:"",orgInstagram:"",orgFacebook:"",orgWebsite:""})},Me=(Ge,Ct,Et)=>{x(Ut=>({...Ut,[Ge]:{...Ut[Ge],[Ct]:{...Ut[Ge][Ct],prefilledValue:Et}}}))},Oe=Ge=>{const{name:Ct,value:Et}=Ge.target;v(Ut=>({...Ut,[Ct]:Et})),w[Ct]&&E(Ut=>({...Ut,[Ct]:""}))},we=(Ge,Ct)=>{x(Et=>({...Et,[Ge]:{...Et[Ge],[Ct]:{...Et[Ge][Ct],enabled:!Et[Ge][Ct].enabled}}}))},ue=(Ge,Ct)=>{x(Et=>({...Et,[Ge]:{...Et[Ge],[Ct]:{...Et[Ge][Ct],alreadyHave:!Et[Ge][Ct].alreadyHave}}}))},ye=(Ge,Ct,Et)=>{x(Ut=>({...Ut,[Ge]:{...Ut[Ge],[Ct]:{...Ut[Ge][Ct],priority:Et}}}))},Le=Ge=>{if(!U.trim())return;const Ct=`custom_${Date.now()}`,Et={id:Ct,label:U.trim(),type:q,priority:"important",isCustom:!0};C(Ut=>({...Ut,[Ge]:[...Ut[Ge]||[],Et]})),x(Ut=>({...Ut,[Ge]:{...Ut[Ge],[Ct]:{enabled:!0,priority:"important",alreadyHave:!1,prefilledValue:"",isCustom:!0,label:U.trim(),type:q}}})),W(""),re("text"),P(null)},He=(Ge,Ct)=>{C(Et=>({...Et,[Ge]:(Et[Ge]||[]).filter(Ut=>Ut.id!==Ct)})),x(Et=>{const Ut={...Et};return Ut[Ge][Ct]?.isCustom?delete Ut[Ge][Ct]:Ut[Ge][Ct]={...Ut[Ge][Ct],enabled:!1},Ut})},Fe=(Ge,Ct,Et)=>{Et.trim()&&(C(Ut=>({...Ut,[Ge]:(Ut[Ge]||[]).map(ir=>ir.id===Ct?{...ir,label:Et.trim()}:ir)})),x(Ut=>({...Ut,[Ge]:{...Ut[Ge],[Ct]:{...Ut[Ge][Ct],label:Et.trim()}}})),Ae(null))},At=Ge=>{const Ct=Ge.items,Et=T[Ge.id]||[];return[...Ct,...Et]},pt=()=>{const Ge={};return p.orgName.trim()||(Ge.orgName="Organization name is required"),p.contactName.trim()||(Ge.contactName="Contact name is required"),p.email.trim()?/\S+@\S+\.\S+/.test(p.email)||(Ge.email="Email is invalid"):Ge.email="Email is required",p.eventDate||(Ge.eventDate="Event date is required"),E(Ge),Object.keys(Ge).length===0},Pe=()=>{r===1?pt()&&n(2):r===2&&n(3)},st=()=>{r>1?n(r-1):t("/portal/onboarding")},et=async()=>{f(!0);try{const Ge={};F1.forEach(ir=>{ir.items.forEach(on=>{const kr=y[ir.id][on.id];kr.enabled&&kr.prefilledValue&&(Ge[ir.id]||(Ge[ir.id]={}),Ge[ir.id][on.id]=kr.prefilledValue)})});const Ct={};Object.keys(y).forEach(ir=>{Ct[ir]={},Object.keys(y[ir]).forEach(on=>{const kr=y[ir][on];Ct[ir][on]={enabled:kr.enabled,priority:kr.priority,alreadyHave:kr.alreadyHave,...kr.isCustom?{isCustom:!0,label:kr.label,type:kr.type}:{}}})});const Et={org_name:p.orgName,contact_name:p.contactName,contact_email:p.email,contact_phone:p.phone,event_name:p.eventName,event_date:p.eventDate,event_location:p.eventLocation,contract_id:p.contractId||null,collected_data:Ge,checklist_config:Ct},Ut=await yre(Et);t(`/portal/onboarding/${Ut.id}`)}catch(Ge){console.error("Error creating onboarding:",Ge),alert("Failed to create onboarding session: "+Ge.message)}finally{f(!1)}},gt=(()=>{let Ge=0,Ct=0;return F1.forEach(Et=>{At(Et).forEach(ir=>{Ct++,y[Et.id]?.[ir.id]?.enabled&&Ge++})}),{enabled:Ge,total:Ct}})();return u?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#0d0d1a] to-[#1a1a2e] flex items-center justify-center",children:o.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-red-500 border-t-transparent rounded-full"})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#0d0d1a] to-[#1a1a2e] py-8 px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("button",{onClick:st,className:"flex items-center gap-2 text-gray-400 hover:text-white transition-colors mb-6",children:[o.jsx(N0,{size:20}),"Back"]}),o.jsx("div",{className:"mb-8",children:o.jsx("div",{className:"flex items-center justify-center gap-4",children:[{num:1,label:"Contract & Details"},{num:2,label:"Customize Checklist"},{num:3,label:"Preview & Confirm"}].map((Ge,Ct)=>o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:`flex items-center gap-3 ${r>=Ge.num?"opacity-100":"opacity-40"}`,children:[o.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold border-2 ${r>=Ge.num?"bg-red-500 border-red-500 text-white":"bg-transparent border-gray-600 text-gray-600"}`,children:r>Ge.num?o.jsx(tl,{size:20}):Ge.num}),o.jsx("div",{className:"hidden sm:block",children:o.jsx("div",{className:"text-sm font-medium text-white",children:Ge.label})})]}),Ct<2&&o.jsx(vb,{size:20,className:r>Ge.num?"text-red-500":"text-gray-600"})]},Ge.num))})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-2",children:[o.jsxs(Kr.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"bg-gradient-to-br from-[#1a1a2e] to-[#16162a] border border-gray-800/50 rounded-xl p-6",children:[r===1&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx("div",{className:"w-12 h-12 bg-red-500/20 rounded-xl flex items-center justify-center",children:o.jsx(PR,{className:"text-red-500",size:24})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-black text-white",children:"Contract & Details"}),o.jsx("p",{className:"text-gray-400",children:"Select contract or enter details manually"})]})]}),o.jsxs("div",{className:"space-y-5",children:[i.length>0&&o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-bold text-white mb-2",children:[o.jsx(fy,{className:"inline mr-2",size:16}),"Link to Existing Contract (Auto-fill)"]}),o.jsxs("select",{value:a?.id||"",onChange:ge,className:"w-full bg-gray-900/50 border border-gray-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-red-500 transition-colors",children:[o.jsx("option",{value:"",children:"Create from scratch"}),o.jsx("optgroup",{label:"Signed Contracts",children:i.map(Ge=>o.jsxs("option",{value:Ge.id,children:[Ge.org_name," - ",Ge.promoter_name||Ge.contact_name]},Ge.id))})]}),a&&o.jsxs("p",{className:"text-sm text-green-400 mt-2 flex items-center gap-2",children:[o.jsx(tl,{size:16})," Contract data loaded! Review and edit below."]})]}),o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"orgName",className:"block text-sm font-bold text-white mb-2",children:["Organization Name ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",id:"orgName",name:"orgName",value:p.orgName,onChange:Oe,placeholder:"e.g., Eternal MMA",className:`w-full bg-gray-900/50 border rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none transition-colors ${w.orgName?"border-red-500":"border-gray-700 focus:border-red-500"}`}),w.orgName&&o.jsx("p",{className:"text-red-400 text-sm mt-1",children:w.orgName})]}),o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"contactName",className:"block text-sm font-bold text-white mb-2",children:["Contact Name ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",id:"contactName",name:"contactName",value:p.contactName,onChange:Oe,placeholder:"Primary contact person",className:`w-full bg-gray-900/50 border rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none transition-colors ${w.contactName?"border-red-500":"border-gray-700 focus:border-red-500"}`}),w.contactName&&o.jsx("p",{className:"text-red-400 text-sm mt-1",children:w.contactName})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"email",className:"block text-sm font-bold text-white mb-2",children:["Email ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"email",id:"email",name:"email",value:p.email,onChange:Oe,placeholder:"contact@org.com",className:`w-full bg-gray-900/50 border rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none transition-colors ${w.email?"border-red-500":"border-gray-700 focus:border-red-500"}`}),w.email&&o.jsx("p",{className:"text-red-400 text-sm mt-1",children:w.email})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"phone",className:"block text-sm font-bold text-white mb-2",children:"Phone"}),o.jsx("input",{type:"tel",id:"phone",name:"phone",value:p.phone,onChange:Oe,placeholder:"0400 000 000",className:"w-full bg-gray-900/50 border border-gray-700 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-red-500 transition-colors"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"eventName",className:"block text-sm font-bold text-white mb-2",children:"Event Name"}),o.jsx("input",{type:"text",id:"eventName",name:"eventName",value:p.eventName,onChange:Oe,placeholder:"e.g., Summer Showdown 2026",className:"w-full bg-gray-900/50 border border-gray-700 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-red-500 transition-colors"})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"eventDate",className:"block text-sm font-bold text-white mb-2",children:["Event Date ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"date",id:"eventDate",name:"eventDate",value:p.eventDate,onChange:Oe,className:`w-full bg-gray-900/50 border rounded-lg px-4 py-3 text-white focus:outline-none transition-colors ${w.eventDate?"border-red-500":"border-gray-700 focus:border-red-500"}`}),w.eventDate&&o.jsx("p",{className:"text-red-400 text-sm mt-1",children:w.eventDate})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"eventLocation",className:"block text-sm font-bold text-white mb-2",children:"Event Location"}),o.jsx("input",{type:"text",id:"eventLocation",name:"eventLocation",value:p.eventLocation,onChange:Oe,placeholder:"e.g., Brisbane Convention Centre",className:"w-full bg-gray-900/50 border border-gray-700 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-red-500 transition-colors"})]})]})]})]}),r===2&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx("div",{className:"w-12 h-12 bg-red-500/20 rounded-xl flex items-center justify-center",children:o.jsx(nhe,{className:"text-red-500",size:24})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-black text-white",children:"Customize Checklist"}),o.jsx("p",{className:"text-gray-400",children:"Toggle items, set priorities, mark what they already have"})]})]}),o.jsx("div",{className:"mb-6 bg-blue-500/10 border border-blue-500/30 rounded-lg p-4",children:o.jsxs("p",{className:"text-blue-200 text-sm flex items-start gap-2",children:[o.jsx(qv,{size:18,className:"flex-shrink-0 mt-0.5"}),o.jsxs("span",{children:[o.jsx("strong",{children:"Disabled items won't show to the client."}),` Use "Already Have" to pre-check items they've provided. Change priorities to indicate urgency.`]})]})}),o.jsx("div",{className:"space-y-4 max-h-[600px] overflow-y-auto pr-2",children:F1.map(Ge=>{const Ct=At(Ge),Et=Ct.filter(Ut=>y[Ge.id]?.[Ut.id]?.enabled).length;return o.jsxs("div",{className:"bg-gray-900/50 rounded-lg border border-gray-700",children:[o.jsx("div",{className:"px-4 py-3 border-b border-gray-700 bg-gray-800/50",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"text-2xl",children:Ge.icon}),o.jsx("h3",{className:"font-bold text-white",children:Ge.category}),o.jsxs("span",{className:"text-sm text-gray-400 ml-auto",children:[Et,"/",Ct.length," enabled"]})]})}),o.jsxs("div",{className:"p-4 space-y-3",children:[Ct.map(Ut=>{const ir=y[Ge.id]?.[Ut.id]||{enabled:!0,priority:Ut.priority},on=Ut.isCustom||ir.isCustom,kr=ir.label||Ut.label,rn=ie?.categoryId===Ge.id&&ie?.itemId===Ut.id;return o.jsx("div",{className:`p-3 rounded-lg border transition-all ${ir.enabled?"bg-gray-800/50 border-gray-700":"bg-gray-900/30 border-gray-800 opacity-50"}`,children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("button",{onClick:()=>we(Ge.id,Ut.id),className:`flex-shrink-0 w-6 h-6 rounded border-2 flex items-center justify-center transition-colors ${ir.enabled?"bg-red-500 border-red-500":"bg-transparent border-gray-600"}`,children:ir.enabled&&o.jsx(tl,{size:16,className:"text-white"})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[rn?o.jsx("div",{className:"flex items-center gap-2 flex-1",children:o.jsx("input",{type:"text",defaultValue:kr,autoFocus:!0,onKeyDown:wn=>{wn.key==="Enter"?Fe(Ge.id,Ut.id,wn.target.value):wn.key==="Escape"&&Ae(null)},onBlur:wn=>Fe(Ge.id,Ut.id,wn.target.value),className:"flex-1 bg-gray-900 border border-red-500 rounded px-2 py-1 text-white text-sm focus:outline-none"})}):o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:`font-medium ${ir.enabled?"text-white":"text-gray-500"}`,children:kr}),on&&o.jsx("span",{className:"text-xs bg-purple-500/20 text-purple-400 px-2 py-0.5 rounded border border-purple-500/30",children:"Custom"}),on&&ir.enabled&&o.jsx("button",{onClick:()=>Ae({categoryId:Ge.id,itemId:Ut.id,label:kr}),className:"text-gray-500 hover:text-white transition-colors",children:o.jsx(Qde,{size:14})})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[ir.prefilledValue&&o.jsx("span",{className:"text-xs bg-green-500/20 text-green-400 px-2 py-1 rounded-full border border-green-500/30",children:"Pre-filled "}),o.jsx("button",{onClick:()=>He(Ge.id,Ut.id),className:"text-gray-500 hover:text-red-400 transition-colors",title:on?"Remove field":"Disable field",children:o.jsx(DR,{size:16})})]})]}),ir.enabled&&o.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[o.jsxs("select",{value:ir.priority||"important",onChange:wn=>ye(Ge.id,Ut.id,wn.target.value),className:"text-xs bg-gray-900 border border-gray-700 rounded px-2 py-1 text-white focus:outline-none focus:border-red-500",children:[o.jsx("option",{value:"essential",children:"Essential"}),o.jsx("option",{value:"important",children:"Important"}),o.jsx("option",{value:"nice",children:"Nice to have"})]}),o.jsx("button",{onClick:()=>ue(Ge.id,Ut.id),className:`text-xs px-3 py-1 rounded border transition-colors ${ir.alreadyHave?"bg-green-500/20 text-green-400 border-green-500/30":"bg-gray-900 text-gray-400 border-gray-700"}`,children:ir.alreadyHave?" Already Have":'Mark as "Already Have"'}),o.jsxs("span",{className:"text-xs text-gray-500",children:["(",Ut.type||ir.type||"text",")"]})]})]})]})},Ut.id)}),j===Ge.id?o.jsxs("div",{className:"p-3 rounded-lg border border-dashed border-green-500/50 bg-green-500/5",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("input",{type:"text",value:U,onChange:Ut=>W(Ut.target.value),placeholder:"Field label...",autoFocus:!0,onKeyDown:Ut=>{Ut.key==="Enter"&&Le(Ge.id),Ut.key==="Escape"&&P(null)},className:"flex-1 bg-gray-900 border border-gray-700 rounded px-3 py-2 text-white text-sm placeholder-gray-500 focus:outline-none focus:border-green-500"}),o.jsxs("select",{value:q,onChange:Ut=>re(Ut.target.value),className:"bg-gray-900 border border-gray-700 rounded px-2 py-2 text-white text-sm focus:outline-none focus:border-green-500",children:[o.jsx("option",{value:"text",children:"Text"}),o.jsx("option",{value:"textarea",children:"Long Text"}),o.jsx("option",{value:"file",children:"File Upload"}),o.jsx("option",{value:"number",children:"Number"})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>Le(Ge.id),disabled:!U.trim(),className:"flex-1 bg-green-600 hover:bg-green-500 disabled:bg-gray-700 text-white text-sm font-medium py-2 rounded transition-colors",children:"Add Field"}),o.jsx("button",{onClick:()=>{P(null),W(""),re("text")},className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white text-sm rounded transition-colors",children:"Cancel"})]})]}):o.jsxs("button",{onClick:()=>P(Ge.id),className:"w-full p-3 rounded-lg border border-dashed border-gray-700 hover:border-green-500/50 hover:bg-green-500/5 text-gray-500 hover:text-green-400 transition-all flex items-center justify-center gap-2",children:[o.jsx(tde,{size:18}),"Add Custom Field"]})]})]},Ge.id)})})]}),r===3&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx("div",{className:"w-12 h-12 bg-red-500/20 rounded-xl flex items-center justify-center",children:o.jsx(aC,{className:"text-red-500",size:24})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-black text-white",children:"Review & Confirm"}),o.jsx("p",{className:"text-gray-400",children:"Everything looks good? Create the onboarding session!"})]})]}),o.jsxs("div",{className:"space-y-4 mb-6",children:[o.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-4 border border-gray-700",children:[o.jsx("h3",{className:"font-bold text-white mb-3",children:"Organization Details"}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Organization:"}),o.jsx("div",{className:"text-white font-medium",children:p.orgName})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Contact:"}),o.jsx("div",{className:"text-white font-medium",children:p.contactName})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Email:"}),o.jsx("div",{className:"text-white font-medium",children:p.email})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Phone:"}),o.jsx("div",{className:"text-white font-medium",children:p.phone||"Not provided"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Event:"}),o.jsx("div",{className:"text-white font-medium",children:p.eventName||"Not specified"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Date:"}),o.jsx("div",{className:"text-white font-medium",children:p.eventDate})]})]})]}),o.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-4 border border-gray-700",children:[o.jsx("h3",{className:"font-bold text-white mb-3",children:"Checklist Configuration"}),o.jsxs("div",{className:"grid grid-cols-3 gap-3 text-center",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-2xl font-bold text-green-500",children:gt.enabled}),o.jsx("div",{className:"text-xs text-gray-500",children:"Enabled Items"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-2xl font-bold text-gray-500",children:gt.total-gt.enabled}),o.jsx("div",{className:"text-xs text-gray-500",children:"Disabled Items"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-2xl font-bold text-blue-500",children:Object.keys(y).reduce((Ge,Ct)=>Ge+Object.keys(y[Ct]).filter(Et=>y[Ct][Et].prefilledValue).length,0)}),o.jsx("div",{className:"text-xs text-gray-500",children:"Pre-filled"})]})]})]})]}),gt.enabled<gt.total/2&&o.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-4 mb-6",children:o.jsxs("p",{className:"text-yellow-200 text-sm flex items-start gap-2",children:[o.jsx(qv,{size:18,className:"flex-shrink-0 mt-0.5"}),o.jsx("span",{children:"You've disabled more than half the checklist items. Make sure this is intentional  clients need these details for quality coverage."})]})})]})]},r),o.jsxs("div",{className:"flex gap-3 mt-6",children:[o.jsx("button",{onClick:st,className:"px-6 py-3 bg-gray-800 hover:bg-gray-700 text-white rounded-lg transition-all font-medium border border-gray-700",children:r===1?"Cancel":"Back"}),r<3?o.jsxs("button",{onClick:Pe,className:"flex-1 px-6 py-3 bg-gradient-to-r from-red-600 to-red-500 hover:from-red-500 hover:to-red-400 text-white font-bold rounded-lg transition-all shadow-lg shadow-red-500/20 flex items-center justify-center gap-2",children:["Next Step",o.jsx(vb,{size:20})]}):o.jsx("button",{onClick:et,disabled:d,className:"flex-1 px-6 py-3 bg-gradient-to-r from-green-600 to-green-500 hover:from-green-500 hover:to-green-400 disabled:from-gray-600 disabled:to-gray-500 text-white font-bold rounded-lg transition-all shadow-lg shadow-green-500/20 flex items-center justify-center gap-2",children:d?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin w-5 h-5 border-2 border-white border-t-transparent rounded-full"}),"Creating..."]}):o.jsxs(o.Fragment,{children:[o.jsx(yb,{size:20}),"Create Onboarding Session"]})})]})]}),o.jsx("div",{className:"lg:col-span-1",children:o.jsx("div",{className:"sticky top-6",children:o.jsxs("div",{className:"bg-gradient-to-br from-[#1a1a2e] to-[#16162a] border border-gray-800/50 rounded-xl p-5",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(aC,{size:20,className:"text-red-500"}),o.jsx("h3",{className:"font-bold text-white",children:"Client Preview"})]}),o.jsxs("p",{className:"text-xs text-gray-500 mb-4",children:["This is what ",p.orgName||"the client"," will see"]}),o.jsxs("div",{className:"bg-gray-900 rounded-lg border border-gray-800 overflow-hidden",children:[o.jsx("div",{className:"bg-gray-800 px-3 py-2 border-b border-gray-700",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-6 h-6 bg-red-500 rounded-lg"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-xs font-semibold text-white",children:"Fit Focus Media"}),o.jsx("div",{className:"text-[10px] text-gray-500",children:p.orgName||"Organization"})]})]})}),o.jsxs("div",{className:"p-4 space-y-3 max-h-[500px] overflow-y-auto",children:[o.jsxs("div",{className:"text-sm",children:[o.jsx("div",{className:"text-gray-500 text-xs mb-2",children:"Event Details"}),o.jsx("div",{className:"text-white font-medium",children:p.eventName||"Event Name"}),o.jsx("div",{className:"text-gray-400 text-xs",children:p.eventDate||"Date not set"})]}),o.jsxs("div",{className:"border-t border-gray-800 pt-3",children:[o.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:["Checklist (",gt.enabled," items)"]}),F1.map(Ge=>{const Et=At(Ge).filter(Ut=>y[Ge.id]?.[Ut.id]?.enabled);return Et.length===0?null:o.jsxs("div",{className:"mb-3",children:[o.jsxs("div",{className:"text-xs font-medium text-white flex items-center gap-2 mb-1",children:[o.jsx("span",{children:Ge.icon}),Ge.category]}),o.jsx("div",{className:"space-y-1",children:Et.map(Ut=>{const ir=y[Ge.id]?.[Ut.id]||{},on=ir.label||Ut.label;return o.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[o.jsx("div",{className:`w-3 h-3 rounded border ${ir.alreadyHave?"bg-green-500 border-green-500":"border-gray-600"}`,children:ir.alreadyHave&&o.jsx(tl,{size:10,className:"text-white"})}),o.jsxs("span",{className:`flex-1 ${ir.alreadyHave?"text-gray-500 line-through":"text-gray-400"}`,children:[on,(Ut.isCustom||ir.isCustom)&&o.jsx("span",{className:"text-purple-400 ml-1",children:"*"})]}),ir.prefilledValue&&o.jsx("span",{className:"text-green-400",children:""})]},Ut.id)})})]},Ge.id)})]})]})]}),o.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-2 text-xs",children:[o.jsxs("div",{className:"bg-gray-900/50 rounded p-2 text-center border border-gray-800",children:[o.jsx("div",{className:"text-lg font-bold text-red-500",children:gt.enabled}),o.jsx("div",{className:"text-gray-500",children:"Items to collect"})]}),o.jsxs("div",{className:"bg-gray-900/50 rounded p-2 text-center border border-gray-800",children:[o.jsx("div",{className:"text-lg font-bold text-green-500",children:Object.keys(y).reduce((Ge,Ct)=>Ge+Object.keys(y[Ct]).filter(Et=>y[Ct][Et].prefilledValue||y[Ct][Et].alreadyHave).length,0)}),o.jsx("div",{className:"text-gray-500",children:"Pre-filled/Have"})]})]})]})})})]})]})})}const CM="ffm_onboarding_workflows";function aDe(t,e){if(t.completed)return"complete";if(t.inProgress)return"in-progress";const r=new Date;r.setHours(0,0,0,0);const n=new Date(e);return n.setHours(0,0,0,0),n<r?"overdue":"pending"}function jM(){const t=localStorage.getItem(CM);return t?JSON.parse(t):[]}function Nre(t){return jM().find(r=>r.id===t)}function $L(t,e,r){const n=jM(),i=n.find(a=>a.id===t);return i?(i.steps[e]={...i.steps[e],...r},r.completed&&!i.steps[e].completedDate&&(i.steps[e].completedDate=new Date().toISOString().split("T")[0]),i.steps.every(a=>a.completed)&&i.status==="active"&&(i.status="completed"),localStorage.setItem(CM,JSON.stringify(n)),i):null}function oDe(t){const r=jM().filter(n=>n.id!==t);return localStorage.setItem(CM,JSON.stringify(r)),!0}function lDe(t){const e=Nre(t);return e?`
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Onboarding Checklist - ${e.orgName}</title>
  <style>
    body { font-family: Arial, sans-serif; max-width: 800px; margin: 40px auto; padding: 20px; }
    h1 { color: #e51d1d; }
    .header { border-bottom: 2px solid #e51d1d; padding-bottom: 20px; margin-bottom: 30px; }
    .info { display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; margin-bottom: 30px; }
    .phase { margin-bottom: 40px; }
    .phase-title { background: #f5f5f5; padding: 10px; font-weight: bold; margin-bottom: 15px; }
    .step { margin-bottom: 25px; padding-left: 30px; position: relative; }
    .step-number { position: absolute; left: 0; font-weight: bold; }
    .checkbox { display: inline-block; width: 18px; height: 18px; border: 2px solid #333; margin-right: 10px; }
    .subtasks { margin-top: 10px; padding-left: 20px; font-size: 0.9em; color: #666; }
    .subtasks li { margin-bottom: 5px; }
  </style>
</head>
<body>
  <div class="header">
    <h1>Client Onboarding Checklist</h1>
    <div class="info">
      <div><strong>Organization:</strong> ${e.orgName}</div>
      <div><strong>Contact:</strong> ${e.contactName}</div>
      <div><strong>Email:</strong> ${e.email}</div>
      <div><strong>Phone:</strong> ${e.phone}</div>
      <div><strong>Sport:</strong> ${e.sport}</div>
      <div><strong>First Event:</strong> ${e.firstEventDate}</div>
      <div><strong>Signing Date:</strong> ${e.signingDate}</div>
      <div><strong>Generated:</strong> ${new Date().toLocaleDateString()}</div>
    </div>
  </div>
  
  ${[1,2,3].map(n=>`
    <div class="phase">
      <div class="phase-title">
        ${n===1?"Phase 1: Welcome & Setup":n===2?"Phase 2: Pre-Event Prep":"Phase 3: Go-Live"}
      </div>
      ${e.steps.filter(i=>i.phase===n).map(i=>`
        <div class="step">
          <span class="step-number">${i.id}.</span>
          <div>
            <div><span class="checkbox"></span><strong>${i.title}</strong> (Due: ${i.dueDate})</div>
            <div style="color: #666; margin-top: 5px;">${i.description}</div>
            ${i.subTasks&&i.subTasks.length>0?`
              <ul class="subtasks">
                ${i.subTasks.map(s=>`<li>${s}</li>`).join("")}
              </ul>
            `:""}
          </div>
        </div>
      `).join("")}
    </div>
  `).join("")}
</body>
</html>
  `:null}function cDe(){const{id:t}=Qm(),e=Mc(),[r,n]=k.useState(null),[i,s]=k.useState(null),[a,c]=k.useState(!1);k.useEffect(()=>{u()},[t]);const u=()=>{const U=Nre(t);U?n(U):e("/portal/onboarding")},l=U=>{const W=r.steps[U],q=$L(t,U,{completed:!W.completed,completedDate:W.completed?null:new Date().toISOString().split("T")[0]});n(q)},d=U=>{const W=r.steps[U],q=$L(t,U,{inProgress:!W.inProgress});n(q)},f=(U,W)=>{const q=$L(t,U,{notes:W});n(q)},A=()=>{oDe(t),e("/portal/onboarding")},p=()=>{const U=lDe(t),W=new Blob([U],{type:"text/html"}),q=URL.createObjectURL(W),re=document.createElement("a");re.href=q,re.download=`onboarding-${r.orgName.replace(/\s+/g,"-")}.html`,re.click(),URL.revokeObjectURL(q)},v=()=>{const U=r.steps.findIndex(W=>!W.completed);U!==-1&&(s(U),document.getElementById(`step-${U}`)?.scrollIntoView({behavior:"smooth",block:"center"}))};if(!r)return null;const y=r.steps.filter(U=>U.completed).length,x=r.steps.length,w=Math.round(y/x*100),E=U=>r.steps.filter(W=>W.phase===U),T=U=>{const W=E(U),q=W.filter(re=>re.completed).length;return{completed:q,total:W.length,percentage:Math.round(q/W.length*100)}},C={1:"Welcome & Setup",2:"Pre-Event Prep",3:"Go-Live"},j=U=>{switch(U){case"complete":return"text-green-400 bg-green-600/20 border-green-500/30";case"overdue":return"text-red-400 bg-red-600/20 border-red-500/30";case"in-progress":return"text-yellow-400 bg-yellow-600/20 border-yellow-500/30";default:return"text-gray-400 bg-gray-800/30 border-gray-700/30"}},P=U=>{switch(U){case"complete":return o.jsx(Nk,{size:18,className:"text-green-400"});case"overdue":return o.jsx(qv,{size:18,className:"text-red-400"});case"in-progress":return o.jsx(w0,{size:18,className:"text-yellow-400"});default:return o.jsx(t8,{size:18,className:"text-gray-400"})}};return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#0d0d1a] to-[#1a1a2e]",children:[o.jsx("div",{className:"bg-gradient-to-r from-[#1a1a2e] to-[#16162a] border-b border-gray-800/50",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[o.jsxs("button",{onClick:()=>e("/portal/onboarding"),className:"flex items-center gap-2 text-gray-400 hover:text-white transition-colors mb-4",children:[o.jsx(N0,{size:20}),"Back to Dashboard"]}),o.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-black text-white mb-2",children:r.orgName}),o.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-400",children:[o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx(Xv,{size:16}),r.contactName]}),o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx(hf,{size:16}),r.email]}),r.phone&&o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx(oC,{size:16}),r.phone]}),o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx(fd,{size:16}),"Event: ",new Date(r.firstEventDate).toLocaleDateString("en-AU")]})]})]}),o.jsxs("div",{className:"flex flex-wrap gap-3",children:[o.jsxs(Kr.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:v,disabled:y===x,className:"px-4 py-2 bg-blue-600 hover:bg-blue-500 disabled:bg-gray-700 disabled:text-gray-500 text-white font-medium rounded-lg transition-all flex items-center gap-2",children:[o.jsx(w0,{size:18}),"Next Step"]}),o.jsxs(Kr.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:p,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white font-medium rounded-lg transition-all flex items-center gap-2",children:[o.jsx(Cp,{size:18}),"Export"]}),o.jsxs(Kr.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>c(!0),className:"px-4 py-2 bg-red-600/20 hover:bg-red-600/30 text-red-400 font-medium rounded-lg transition-all flex items-center gap-2 border border-red-500/30",children:[o.jsx(DR,{size:18}),"Delete"]})]})]}),o.jsxs("div",{className:"mt-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("span",{className:"text-sm font-medium text-gray-400",children:["Overall Progress: ",y,"/",x," steps"]}),o.jsxs("span",{className:"text-lg font-bold text-white",children:[w,"%"]})]}),o.jsx("div",{className:"w-full bg-gray-800 rounded-full h-3 overflow-hidden",children:o.jsx(Kr.div,{initial:{width:0},animate:{width:`${w}%`},transition:{duration:.5},className:`h-full rounded-full ${w===100?"bg-gradient-to-r from-green-600 to-green-500":"bg-gradient-to-r from-red-600 to-red-500"}`})})]})]})}),o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsx("div",{className:"lg:col-span-1",children:o.jsxs("div",{className:"bg-gradient-to-br from-[#1a1a2e] to-[#16162a] border border-gray-800/50 rounded-xl p-6 sticky top-4",children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Client Information"}),o.jsxs("div",{className:"space-y-3 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500 block mb-1",children:"Organization"}),o.jsx("span",{className:"text-white font-medium",children:r.orgName})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500 block mb-1",children:"Contact"}),o.jsx("span",{className:"text-white font-medium",children:r.contactName})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500 block mb-1",children:"Email"}),o.jsx("span",{className:"text-white font-medium break-all",children:r.email})]}),r.phone&&o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500 block mb-1",children:"Phone"}),o.jsx("span",{className:"text-white font-medium",children:r.phone})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500 block mb-1",children:"Sport"}),o.jsx("span",{className:"text-white font-medium",children:r.sport})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500 block mb-1",children:"First Event Date"}),o.jsx("span",{className:"text-white font-medium",children:new Date(r.firstEventDate).toLocaleDateString("en-AU",{weekday:"short",year:"numeric",month:"short",day:"numeric"})})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500 block mb-1",children:"Signing Date"}),o.jsx("span",{className:"text-white font-medium",children:new Date(r.signingDate).toLocaleDateString("en-AU")})]}),r.contractId&&o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500 block mb-1",children:"Contract ID"}),o.jsx("span",{className:"text-white font-medium font-mono text-xs",children:r.contractId})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500 block mb-1",children:"Status"}),o.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-bold ${r.status==="completed"?"bg-green-600/20 text-green-400 border border-green-500/30":"bg-blue-600/20 text-blue-400 border border-blue-500/30"}`,children:r.status==="completed"?"Completed":"Active"})]})]})]})}),o.jsx("div",{className:"lg:col-span-2 space-y-6",children:[1,2,3].map(U=>{const W=T(U),q=E(U);return o.jsxs("div",{className:"bg-gradient-to-br from-[#1a1a2e] to-[#16162a] border border-gray-800/50 rounded-xl p-6",children:[o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("h2",{className:"text-xl font-bold text-white",children:["Phase ",U,": ",C[U]]}),o.jsxs("span",{className:"text-sm font-bold text-gray-400",children:[W.completed,"/",W.total]})]}),o.jsx("div",{className:"w-full bg-gray-800 rounded-full h-2 overflow-hidden",children:o.jsx("div",{className:`h-full rounded-full transition-all duration-500 ${W.percentage===100?"bg-green-600":"bg-red-600"}`,style:{width:`${W.percentage}%`}})})]}),o.jsx("div",{className:"space-y-4",children:q.map((re,ie)=>{const Ae=r.steps.findIndex(ce=>ce.id===re.id),be=aDe(re,re.dueDate),Ee=i===Ae,ge=new Date(re.dueDate),xe=Math.ceil((ge-new Date)/(1e3*60*60*24));return o.jsxs("div",{id:`step-${Ae}`,className:`border rounded-lg transition-all ${re.completed?"border-green-500/30 bg-green-600/5":be==="overdue"?"border-red-500/30 bg-red-600/5":"border-gray-700/50"}`,children:[o.jsx("div",{className:"p-4",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("button",{onClick:()=>l(Ae),className:"flex-shrink-0 mt-1",children:re.completed?o.jsx(Nk,{size:24,className:"text-green-400"}):o.jsx(t8,{size:24,className:"text-gray-600 hover:text-gray-400 transition-colors"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-2 mb-2",children:[o.jsxs("h3",{className:`text-lg font-bold ${re.completed?"text-green-400 line-through":"text-white"}`,children:[re.id,". ",re.title]}),o.jsxs("div",{className:"flex items-center gap-2",children:[!re.completed&&o.jsx("button",{onClick:()=>d(Ae),className:`px-3 py-1 rounded-full text-xs font-bold transition-all ${re.inProgress?"bg-yellow-600/20 text-yellow-400 border border-yellow-500/30":"bg-gray-800 text-gray-500 border border-gray-700 hover:bg-gray-700"}`,children:re.inProgress?"In Progress":"Mark In Progress"}),o.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-bold border flex items-center gap-1 ${j(be)}`,children:[P(be),re.completed?"Complete":be==="overdue"?`${Math.abs(xe)}d overdue`:be==="in-progress"?"In Progress":xe===0?"Due today":xe===1?"Due tomorrow":`${xe}d remaining`]})]})]}),o.jsx("p",{className:"text-gray-400 text-sm mb-2",children:re.description}),o.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(fd,{size:14}),"Due: ",new Date(re.dueDate).toLocaleDateString("en-AU")]}),re.completedDate&&o.jsxs("span",{className:"flex items-center gap-1 text-green-400",children:[o.jsx(Nk,{size:14}),"Completed: ",new Date(re.completedDate).toLocaleDateString("en-AU")]})]}),o.jsx("button",{onClick:()=>s(Ee?null:Ae),className:"mt-3 text-sm text-red-500 hover:text-red-400 font-medium flex items-center gap-1 transition-colors",children:Ee?o.jsxs(o.Fragment,{children:[o.jsx(iC,{size:16}),"Hide Details"]}):o.jsxs(o.Fragment,{children:[o.jsx(gb,{size:16}),"Show Details & Notes"]})})]})]})}),o.jsx(Mv,{children:Ee&&o.jsx(Kr.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:o.jsxs("div",{className:"px-4 pb-4 pt-0 border-t border-gray-700/50 mt-4",children:[re.subTasks&&re.subTasks.length>0&&o.jsxs("div",{className:"mt-4",children:[o.jsx("h4",{className:"text-sm font-bold text-white mb-2",children:"Checklist:"}),o.jsx("ul",{className:"space-y-1.5",children:re.subTasks.map((ce,Me)=>o.jsxs("li",{className:"text-sm text-gray-400 flex items-start gap-2",children:[o.jsx("span",{className:"text-red-500 mt-0.5",children:""}),o.jsx("span",{children:ce})]},Me))})]}),re.emailTemplate&&o.jsxs("div",{className:"mt-4",children:[o.jsxs("h4",{className:"text-sm font-bold text-white mb-2 flex items-center gap-2",children:[o.jsx(lY,{size:14}),"Email Template:"]}),o.jsx("div",{className:"bg-gray-900/50 rounded-lg p-4 border border-gray-800",children:o.jsx("pre",{className:"text-xs text-gray-300 whitespace-pre-wrap font-mono",children:re.emailTemplate.replace("[CLIENT_NAME]",r.contactName).replace("[ORG_NAME]",r.orgName)})})]}),o.jsxs("div",{className:"mt-4",children:[o.jsxs("label",{className:"text-sm font-bold text-white mb-2 block flex items-center gap-2",children:[o.jsx(PR,{size:14}),"Notes:"]}),o.jsx("textarea",{value:re.notes,onChange:ce=>f(Ae,ce.target.value),placeholder:"Add notes, links, or details for this step...",className:"w-full bg-gray-900/50 border border-gray-700 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-red-500 transition-colors text-sm min-h-[100px] resize-y"})]})]})})})]},re.id)})})]},U)})})]})}),o.jsx(Mv,{children:a&&o.jsx(Kr.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 flex items-center justify-center p-4 z-50",onClick:()=>c(!1),children:o.jsxs(Kr.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:U=>U.stopPropagation(),className:"bg-gradient-to-br from-[#1a1a2e] to-[#16162a] border border-red-500/30 rounded-xl p-6 max-w-md w-full",children:[o.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Delete Onboarding?"}),o.jsxs("p",{className:"text-gray-400 mb-6",children:["Are you sure you want to delete the onboarding workflow for ",o.jsx("strong",{className:"text-white",children:r.orgName}),"? This action cannot be undone."]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:A,className:"flex-1 px-4 py-3 bg-red-600 hover:bg-red-500 text-white font-bold rounded-lg transition-all",children:"Yes, Delete"}),o.jsx("button",{onClick:()=>c(!1),className:"flex-1 px-4 py-3 bg-gray-700 hover:bg-gray-600 text-white font-bold rounded-lg transition-all",children:"Cancel"})]})]})})})]})}const uDe=".pdf,.doc,.docx,.xls,.xlsx,.csv,.zip",Rg=`image/*,video/*,${uDe},.svg,.ai,.eps`,mz=[{id:"branding",category:"Branding & Assets",icon:"",items:[{id:"logo",label:"High-resolution logo",type:"file",accept:Rg,priority:"essential"},{id:"brand_kit",label:"Brand kit (colors, fonts, guidelines)",type:"file",accept:Rg,priority:"important"},{id:"event_graphics",label:"Event-specific graphics/banners",type:"file",accept:Rg,priority:"important"},{id:"sponsor_logos",label:"Sponsor logos for on-screen display",type:"file",accept:Rg,priority:"nice"}]},{id:"athletes",category:"Athlete Information",icon:"",items:[{id:"registration_list",label:"Registration list (Name, Email, Phone, Instagram)",type:"file",accept:Rg,priority:"essential"},{id:"notable_athletes",label:"Notable athletes to feature",type:"textarea",placeholder:"Champions, rising stars, fan favorites...",priority:"important"}]},{id:"venue",category:"Venue & Technical",icon:"",items:[{id:"floor_plan",label:"Venue floor plan (mat layout)",type:"file",accept:Rg,priority:"essential"},{id:"internet_specs",label:"Internet specs (upload speed, hardwired access)",type:"textarea",placeholder:"e.g., 100Mbps up/down, ethernet available at...",priority:"essential"},{id:"power_locations",label:"Power outlet locations",type:"textarea",placeholder:"Describe where power is available...",priority:"important"},{id:"load_in_time",label:"Load-in/crew access time",type:"text",placeholder:"e.g., 6:00 AM",priority:"important"},{id:"venue_contact",label:"Venue contact for event day",type:"contact",priority:"important"}]},{id:"event",category:"Event Operations",icon:"",items:[{id:"mat_count",label:"Number of mats running",type:"number",placeholder:"e.g., 4",priority:"essential"},{id:"schedule",label:"Event schedule/run sheet",type:"file",accept:Rg,priority:"essential"},{id:"bracket_system",label:"Bracket/scoring system used",type:"text",placeholder:"e.g., Smoothcomp, FloArena...",priority:"important"},{id:"match_comms_method",label:"How match order will be communicated",type:"textarea",placeholder:"e.g., WhatsApp group, printed sheets...",priority:"important"}]},{id:"social",category:"Social & Promotion",icon:"",items:[{id:"org_instagram",label:"Organization Instagram",type:"text",placeholder:"@yourorg",priority:"important"},{id:"org_facebook",label:"Organization Facebook",type:"text",placeholder:"facebook.com/yourorg",priority:"nice"},{id:"org_website",label:"Organization Website",type:"text",placeholder:"https://...",priority:"nice"},{id:"existing_content",label:"Existing footage/photos for promos",type:"file",accept:Rg,priority:"nice"},{id:"existing_content_links",label:"Links to existing footage (Google Drive, Dropbox, etc.)",type:"textarea",placeholder:"Paste links to your existing footage, one per line...",priority:"nice"}]}],dDe=[{id:1,title:"Information Gathering",description:"Complete the checklist so we can prepare everything perfectly",duration:"Week 1-2"},{id:2,title:"Pre-Production",description:"We create custom graphics, overlays, and streaming layouts",duration:"Week 2-3"},{id:3,title:"Technical Setup",description:"Site visit (if needed), equipment prep, streaming tests",duration:"Week 3-4"},{id:4,title:"Athlete Outreach",description:"We contact athletes about media packages and content options",duration:"Week 3-4"},{id:5,title:"Event Day",description:"Our crew arrives, sets up, and delivers world-class coverage",duration:"Show Time!"}];function hDe(){const{token:t}=Qm(),[e,r]=k.useState(null),[n,i]=k.useState(!0),[s,a]=k.useState(null),[c,u]=k.useState(new Set(["branding"])),[l,d]=k.useState(!0),[f,A]=k.useState("checklist"),[p,v]=k.useState(!1),[y,x]=k.useState(!1),[w,E]=k.useState(null),[T,C]=k.useState(0),[j,P]=k.useState({}),[U,W]=k.useState({}),[q,re]=k.useState(!1),[ie,Ae]=k.useState(null),[be,Ee]=k.useState("");k.useEffect(()=>{if(!t){i(!1),a("No onboarding session found. Please use the link provided by Fit Focus Media.");return}ge()},[t]);const ge=async()=>{try{const Pe=await JPe(t);r(Pe),P(Pe.collected_data||{}),(Pe.status==="submitted"||Pe.status==="reviewed")&&(re(!0),d(!1))}catch(Pe){a(Pe.message)}finally{i(!1)}},se=()=>e?.checklist_config?mz.map(Pe=>{const st=e.checklist_config[Pe.id]||{};let et=Pe.items.filter(We=>st[We.id]?.enabled!==!1).map(We=>{const gt=st[We.id];return{...We,priority:gt?.priority||We.priority,alreadyHave:gt?.alreadyHave||!1}});return Object.entries(st).forEach(([We,gt])=>{gt.isCustom&&gt.enabled!==!1&&(Pe.items.some(Ct=>Ct.id===We)||et.push({id:We,label:gt.label,type:gt.type,priority:gt.priority,isCustom:!0,alreadyHave:gt.alreadyHave||!1,accept:gt.type==="file"?"image/*,video/*,.pdf,.doc,.docx,.xls,.xlsx,.csv,.zip,.svg,.ai,.eps":void 0,placeholder:gt.placeholder||""}))}),{...Pe,items:et}}).filter(Pe=>Pe.items.length>0):mz,xe=se(),ce=k.useCallback(async Pe=>{if(!(!e||!t)){v(!0);try{await tRe(t,{collected_data:Pe,checklist_progress:Me(Pe)})}catch(st){console.error("Save error:",st)}finally{v(!1)}}},[e,t]),Me=Pe=>{const st={};return se().forEach(We=>{We.items.forEach(gt=>{const Ge=Pe[We.id]||{},Ct=Ge[gt.id]||Ge[`${gt.id}_url`];st[`${We.id}.${gt.id}`]=!!Ct&&Ct!==""})}),st},Oe=(Pe,st,et)=>{const We={...j,[Pe]:{...j[Pe]||{},[st]:et}};P(We),clearTimeout(window.saveTimeout),window.saveTimeout=setTimeout(()=>ce(We),1e3)},we=20*1024*1024,ue=async(Pe,st,et)=>{if(!(!et||et.length===0||!e)){for(const We of et)if(We.size>we){const gt=(We.size/1048576).toFixed(1);Ae({fileName:We.name,sizeMB:gt,categoryId:Pe,itemId:st}),Ee("");return}E(`${Pe}.${st}`),C(0);try{for(const We of et){const gt=setInterval(()=>{C(Et=>Et>=90?Et:Et+Math.random()*15)},200),Ge=await sRe(e.id,Pe,st,We);clearInterval(gt),C(100),W(Et=>({...Et,[`${Pe}.${st}`]:[...Et[`${Pe}.${st}`]||[],{name:We.name,url:Ge.url,id:Ge.file.id}]}));const Ct={...j,[Pe]:{...j[Pe]||{},[`${st}_url`]:Ge.url}};P(Ct),ce(Ct)}}catch(We){console.error("Upload error:",We),Ae({fileName:"Upload",sizeMB:null,error:We.message})}finally{setTimeout(()=>{E(null),C(0)},500)}}},ye=async()=>{if(!(!e||!t||y)){x(!0);try{await rRe(t),re(!0),A("checklist")}catch(Pe){console.error("Submit error:",Pe),alert("Submission failed: "+Pe.message)}finally{x(!1)}}},Le=()=>{if(!be.trim()||!ie)return;const{categoryId:Pe,itemId:st}=ie,et=`${st}_links`,We=j[Pe]?.[et]||[],gt=be.trim(),Ge=We.includes(gt)?We:[...We,gt],Ct={...j,[Pe]:{...j[Pe]||{},[et]:Ge}};P(Ct),ce(Ct),Ae(null),Ee("")},Fe=(()=>{let Pe=0,st=0;return xe.forEach(et=>{et.items.forEach(We=>{st++;const gt=j[et.id]||{},Ge=gt[We.id]||gt[`${We.id}_url`];Ge&&Ge!==""&&Pe++})}),{completed:Pe,total:st,percent:Math.round(Pe/st*100)}})(),At=Pe=>{u(st=>{const et=new Set(st);return et.has(Pe)?et.delete(Pe):et.add(Pe),et})},pt=Pe=>{const st={essential:"bg-red-500/20 text-red-400",important:"bg-yellow-500/20 text-yellow-400",nice:"bg-green-500/20 text-green-400"},et={essential:"Essential",important:"Important",nice:"Nice to have"};return o.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${st[Pe]}`,children:et[Pe]})};return n?o.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-orange-500 border-t-transparent rounded-full mx-auto mb-4"}),o.jsx("p",{className:"text-gray-400",children:"Loading your onboarding portal..."})]})}):s&&!e?o.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-gray-800 rounded-2xl p-8 max-w-md text-center border border-gray-700",children:[o.jsx("div",{className:"text-red-500 text-4xl mb-4",children:""}),o.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Session Not Found"}),o.jsx("p",{className:"text-gray-400",children:s})]})}):o.jsxs("div",{className:"min-h-screen bg-gray-900",children:[ie&&o.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:o.jsx("div",{className:"bg-gray-800 rounded-2xl p-6 max-w-md w-full border border-gray-700 shadow-xl",children:ie.error?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-16 h-16 bg-red-500/20 rounded-2xl flex items-center justify-center mx-auto mb-4",children:o.jsx("span",{className:"text-3xl",children:""})}),o.jsx("h3",{className:"text-xl font-bold text-white text-center mb-2",children:"Upload Failed"}),o.jsx("p",{className:"text-gray-400 text-center mb-6",children:ie.error}),o.jsx("button",{onClick:()=>Ae(null),className:"w-full bg-gray-700 hover:bg-gray-600 text-white font-semibold py-3 rounded-xl transition-colors",children:"Close"})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-16 h-16 bg-orange-500/20 rounded-2xl flex items-center justify-center mx-auto mb-4",children:o.jsx("span",{className:"text-3xl",children:""})}),o.jsx("h3",{className:"text-xl font-bold text-white text-center mb-2",children:"File Too Large"}),o.jsxs("p",{className:"text-gray-400 text-center mb-4",children:[o.jsxs("span",{className:"text-white font-medium",children:['"',ie.fileName,'"']})," is ",ie.sizeMB,"MB  our upload limit is 20MB."]}),o.jsxs("div",{className:"bg-gray-900 rounded-xl p-4 mb-4",children:[o.jsx("p",{className:"text-orange-500 font-medium mb-3",children:" Paste a share link instead:"}),o.jsx("input",{type:"url",value:be,onChange:Pe=>Ee(Pe.target.value),placeholder:"https://drive.google.com/... or Dropbox link",className:"w-full p-3 bg-gray-800 border border-gray-600 rounded-xl text-white placeholder-gray-500 focus:border-orange-500 focus:outline-none mb-3"}),o.jsx("p",{className:"text-gray-500 text-xs",children:"Upload to Google Drive or Dropbox, then paste the share link above"})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:()=>{Ae(null),Ee("")},className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white font-semibold py-3 rounded-xl transition-colors",children:"Cancel"}),o.jsx("button",{onClick:Le,disabled:!be.trim(),className:"flex-1 bg-orange-500 hover:bg-orange-600 disabled:bg-gray-700 disabled:cursor-not-allowed text-white font-semibold py-3 rounded-xl transition-colors",children:"Save Link "})]})]})})}),l&&e&&o.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-gray-800 rounded-2xl p-8 max-w-md text-center border border-orange-500/30 shadow-xl shadow-orange-500/10",children:[o.jsx("div",{className:"w-20 h-20 bg-orange-500/20 rounded-2xl flex items-center justify-center mx-auto mb-6",children:o.jsx("span",{className:"text-4xl",children:""})}),o.jsxs("h1",{className:"text-2xl font-bold text-white mb-2",children:["Welcome, ",e.org_name,"! "]}),o.jsx("p",{className:"text-orange-500 font-medium mb-4",children:e.event_name}),o.jsx("p",{className:"text-gray-400 mb-6",children:"We're thrilled to partner with you! This portal will guide you through everything we need to deliver world-class coverage."}),o.jsx("button",{onClick:()=>d(!1),className:"bg-orange-500 hover:bg-orange-600 text-white font-semibold px-8 py-3 rounded-full transition-colors flex items-center gap-2 mx-auto",children:"Let's Get Started "})]})}),o.jsx("header",{className:"sticky top-0 z-40 bg-gray-900/95 backdrop-blur-lg border-b border-gray-800",children:o.jsxs("div",{className:"max-w-3xl mx-auto px-4 h-16 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("img",{src:"/ffm-logo.jpg",alt:"Fit Focus Media",className:"w-10 h-10 rounded-xl object-cover"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-semibold text-white",children:"Fit Focus Media"}),o.jsx("div",{className:"text-xs text-gray-500",children:e?.org_name||"Partner Onboarding"})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[p&&o.jsx("span",{className:"text-orange-500 text-sm animate-pulse",children:"Saving..."}),o.jsxs("div",{className:"bg-orange-500/20 text-orange-500 px-3 py-1 rounded-full text-sm font-semibold",children:[Fe.percent,"% Complete"]})]})]})}),o.jsx("div",{className:"bg-gray-800/50",children:o.jsx("div",{className:"max-w-3xl mx-auto px-4",children:o.jsx("div",{className:"h-1 bg-gray-700 rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full bg-gradient-to-r from-orange-500 to-orange-400 transition-all duration-500",style:{width:`${Fe.percent}%`}})})})}),o.jsx("div",{className:"border-b border-gray-800",children:o.jsx("div",{className:"max-w-3xl mx-auto px-4",children:o.jsx("div",{className:"flex gap-1",children:[{id:"checklist",label:"What We Need",icon:""},{id:"timeline",label:"What's Next",icon:""},{id:"contact",label:"Get In Touch",icon:""}].map(Pe=>o.jsxs("button",{onClick:()=>A(Pe.id),className:`flex items-center gap-2 px-4 py-3 font-medium transition-colors border-b-2 ${f===Pe.id?"border-orange-500 text-white":"border-transparent text-gray-500 hover:text-white"}`,children:[o.jsx("span",{children:Pe.icon})," ",Pe.label]},Pe.id))})})}),o.jsxs("main",{className:"max-w-3xl mx-auto px-4 py-8",children:[f==="checklist"&&o.jsxs("div",{children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Information Checklist"}),o.jsx("p",{className:"text-gray-400",children:"Upload files and provide details for the best coverage"})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-8",children:[o.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 text-center border border-gray-700",children:[o.jsx("div",{className:"text-2xl font-bold text-orange-500",children:Fe.completed}),o.jsx("div",{className:"text-xs text-gray-500",children:"Completed"})]}),o.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 text-center border border-gray-700",children:[o.jsx("div",{className:"text-2xl font-bold text-yellow-500",children:Fe.total-Fe.completed}),o.jsx("div",{className:"text-xs text-gray-500",children:"Remaining"})]}),o.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 text-center border border-gray-700",children:[o.jsx("div",{className:"text-2xl font-bold text-green-500",children:Fe.total}),o.jsx("div",{className:"text-xs text-gray-500",children:"Total"})]})]}),o.jsx("div",{className:"space-y-3",children:xe.map(Pe=>{const st=j[Pe.id]||{},et=Pe.items.filter(gt=>{const Ge=st[gt.id]||st[`${gt.id}_url`];return Ge&&Ge!==""}).length,We=c.has(Pe.id);return o.jsxs("div",{className:"bg-gray-800 rounded-xl border border-gray-700 overflow-hidden",children:[o.jsxs("button",{onClick:()=>At(Pe.id),className:"w-full flex items-center justify-between p-4 hover:bg-gray-700/50 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-orange-500/20 rounded-xl flex items-center justify-center text-xl",children:Pe.icon}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"font-semibold text-white",children:Pe.category}),o.jsxs("div",{className:"text-sm text-gray-500",children:[et,"/",Pe.items.length," completed"]})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-20 h-1.5 bg-gray-700 rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full bg-orange-500 transition-all duration-300",style:{width:`${et/Pe.items.length*100}%`}})}),o.jsx("span",{className:`text-gray-400 transition-transform ${We?"rotate-180":""}`,children:""})]})]}),We&&o.jsx("div",{className:"border-t border-gray-700 p-4 space-y-4",children:Pe.items.map(gt=>{const Ge=st[gt.id]||st[`${gt.id}_url`]||"",Ct=Ge!=="",Et=w===`${Pe.id}.${gt.id}`,Ut=U[`${Pe.id}.${gt.id}`]||[],on=e?.checklist_config?.[Pe.id]?.[gt.id]?.alreadyHave||!1;return o.jsxs("div",{className:`p-4 rounded-xl border ${Ct?"bg-orange-500/5 border-orange-500/30":"bg-gray-900/50 border-gray-700"}`,children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center text-xs ${Ct||on?"bg-orange-500 border-orange-500 text-white":"border-gray-600"}`,children:(Ct||on)&&""}),o.jsx("span",{className:"font-medium text-white",children:gt.label}),on&&!Ct&&o.jsx("span",{className:"text-xs bg-blue-500/20 text-blue-400 px-2 py-0.5 rounded-full border border-blue-500/30",children:"Already Provided"})]}),pt(gt.priority)]}),gt.type==="file"&&o.jsxs("div",{children:[Et?o.jsxs("div",{className:"p-4 border-2 border-orange-500/50 rounded-xl bg-orange-500/5",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[o.jsx("div",{className:"animate-spin text-orange-500",children:""}),o.jsxs("span",{className:"text-white font-medium",children:["Uploading... ",Math.round(T),"%"]})]}),o.jsx("div",{className:"h-2 bg-gray-700 rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full bg-gradient-to-r from-orange-500 to-orange-400 transition-all duration-300 ease-out",style:{width:`${T}%`}})})]}):o.jsxs("label",{className:"flex items-center justify-center gap-2 p-4 border-2 border-dashed border-gray-600 rounded-xl cursor-pointer hover:border-orange-500/50 transition-colors",children:[o.jsx("span",{className:"text-orange-500",children:""}),o.jsx("span",{className:"text-gray-400",children:"Click to upload"}),o.jsx("input",{type:"file",accept:gt.accept,onChange:kr=>ue(Pe.id,gt.id,kr.target.files),className:"hidden"})]}),(Ut.length>0||Ge)&&o.jsxs("div",{className:"mt-2 space-y-1",children:[Ut.map((kr,rn)=>o.jsxs("div",{className:"flex items-center gap-2 p-2 bg-orange-500/10 rounded-lg text-sm",children:[o.jsx("span",{className:"text-orange-500",children:""}),o.jsx("span",{className:"flex-1 text-white truncate",children:kr.name}),o.jsx("a",{href:kr.url,target:"_blank",rel:"noopener noreferrer",className:"text-orange-500 hover:underline",children:"View"})]},rn)),Ge&&Ut.length===0&&o.jsxs("div",{className:"flex items-center gap-2 p-2 bg-orange-500/10 rounded-lg text-sm",children:[o.jsx("span",{className:"text-orange-500",children:""}),o.jsx("span",{className:"text-white",children:"File uploaded"}),o.jsx("a",{href:Ge,target:"_blank",rel:"noopener noreferrer",className:"text-orange-500 hover:underline ml-auto",children:"View"})]})]}),st[`${gt.id}_links`]?.length>0&&o.jsx("div",{className:"mt-2 space-y-1",children:st[`${gt.id}_links`].map((kr,rn)=>o.jsxs("div",{className:"flex items-center gap-2 p-2 bg-blue-500/10 rounded-lg text-sm",children:[o.jsx("span",{className:"text-blue-400",children:""}),o.jsxs("span",{className:"flex-1 text-white truncate",children:[kr.includes("drive.google")?"Google Drive":kr.includes("dropbox")?"Dropbox":"External"," link"]}),o.jsx("a",{href:kr,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline",children:"Open"})]},`link-${rn}`))})]}),gt.type==="text"&&o.jsx("input",{type:"text",value:Ge,onChange:kr=>Oe(Pe.id,gt.id,kr.target.value),placeholder:gt.placeholder,className:"w-full p-3 bg-gray-900 border border-gray-700 rounded-xl text-white placeholder-gray-500 focus:border-orange-500 focus:outline-none"}),gt.type==="number"&&o.jsx("input",{type:"number",value:Ge,onChange:kr=>Oe(Pe.id,gt.id,kr.target.value),placeholder:gt.placeholder,className:"w-full p-3 bg-gray-900 border border-gray-700 rounded-xl text-white placeholder-gray-500 focus:border-orange-500 focus:outline-none"}),gt.type==="textarea"&&o.jsx("textarea",{value:Ge,onChange:kr=>Oe(Pe.id,gt.id,kr.target.value),placeholder:gt.placeholder,rows:3,className:"w-full p-3 bg-gray-900 border border-gray-700 rounded-xl text-white placeholder-gray-500 focus:border-orange-500 focus:outline-none resize-none"}),gt.type==="contact"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("input",{type:"text",value:st[`${gt.id}_name`]||"",onChange:kr=>Oe(Pe.id,`${gt.id}_name`,kr.target.value),placeholder:"Contact name",className:"w-full p-3 bg-gray-900 border border-gray-700 rounded-xl text-white placeholder-gray-500 focus:border-orange-500 focus:outline-none"}),o.jsx("input",{type:"tel",value:st[`${gt.id}_phone`]||"",onChange:kr=>Oe(Pe.id,`${gt.id}_phone`,kr.target.value),placeholder:"Phone number",className:"w-full p-3 bg-gray-900 border border-gray-700 rounded-xl text-white placeholder-gray-500 focus:border-orange-500 focus:outline-none"}),o.jsx("input",{type:"email",value:st[`${gt.id}_email`]||"",onChange:kr=>Oe(Pe.id,`${gt.id}_email`,kr.target.value),placeholder:"Email address",className:"w-full p-3 bg-gray-900 border border-gray-700 rounded-xl text-white placeholder-gray-500 focus:border-orange-500 focus:outline-none"})]})]},gt.id)})})]},Pe.id)})}),o.jsxs("div",{className:"mt-8 text-center",children:[q&&o.jsx("div",{className:"mb-4 p-4 bg-green-500/20 border border-green-500/30 rounded-xl inline-block",children:o.jsx("p",{className:"text-green-400 font-medium",children:" Already submitted  you can still make changes below"})}),o.jsx("button",{onClick:ye,disabled:Fe.completed===0||y,className:"bg-orange-500 hover:bg-orange-600 disabled:bg-gray-700 disabled:cursor-not-allowed text-white font-semibold px-8 py-4 rounded-full transition-all inline-flex items-center gap-2",children:y?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"animate-spin",children:""})," Submitting..."]}):o.jsxs(o.Fragment,{children:[o.jsx("span",{children:""})," ",q?"Update Submission":"Submit Onboarding Information"]})}),o.jsxs("p",{className:"text-gray-500 text-sm mt-3 flex items-center justify-center gap-2",children:[p&&o.jsx("span",{className:"text-orange-500 animate-pulse",children:" Saving..."}),!p&&(q?"Changes are auto-saved  click to notify us of updates":"You can submit anytime  we'll reach out if we need anything else")]})]})]}),f==="timeline"&&o.jsxs("div",{children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"What Happens Next"}),o.jsx("p",{className:"text-gray-400",children:"Here's our process from signup to showtime"})]}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute left-8 top-0 bottom-0 w-0.5 bg-gradient-to-b from-orange-500 to-orange-500/20"}),o.jsx("div",{className:"space-y-6",children:dDe.map(Pe=>o.jsxs("div",{className:"flex gap-6",children:[o.jsx("div",{className:"w-16 h-16 bg-gray-800 rounded-2xl border-2 border-orange-500 flex items-center justify-center text-orange-500 text-2xl font-bold relative z-10",children:Pe.id}),o.jsxs("div",{className:"flex-1 bg-gray-800 rounded-xl p-5 border border-gray-700",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("h3",{className:"font-semibold text-white",children:Pe.title}),o.jsx("span",{className:"text-xs bg-orange-500/20 text-orange-500 px-2 py-1 rounded-full",children:Pe.duration})]}),o.jsx("p",{className:"text-gray-400 text-sm",children:Pe.description})]})]},Pe.id))})]})]}),f==="contact"&&o.jsxs("div",{children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Get In Touch"}),o.jsx("p",{className:"text-gray-400",children:"Have questions? We're here to help"})]}),o.jsxs("div",{className:"bg-gray-800 rounded-xl p-6 border border-gray-700",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[o.jsx("div",{className:"w-16 h-16 bg-orange-500/20 rounded-2xl flex items-center justify-center text-3xl",children:""}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-white text-lg",children:"Brandon Hibbs"}),o.jsx("p",{className:"text-gray-400",children:"Founder, Fit Focus Media"})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("a",{href:"mailto:brandon@fitfocusmedia.com.au",className:"flex items-center gap-3 p-4 bg-gray-900 rounded-xl hover:bg-gray-700 transition-colors",children:[o.jsx("span",{className:"text-orange-500",children:""}),o.jsx("span",{className:"text-white",children:"brandon@fitfocusmedia.com.au"})]}),o.jsxs("a",{href:"tel:0411934935",className:"flex items-center gap-3 p-4 bg-gray-900 rounded-xl hover:bg-gray-700 transition-colors",children:[o.jsx("span",{className:"text-orange-500",children:""}),o.jsx("span",{className:"text-white",children:"0411 934 935"})]}),o.jsxs("a",{href:"https://instagram.com/fitfocusmedia",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-4 bg-gray-900 rounded-xl hover:bg-gray-700 transition-colors",children:[o.jsx("span",{className:"text-orange-500",children:""}),o.jsx("span",{className:"text-white",children:"@fitfocusmedia"})]})]})]})]})]}),o.jsxs("footer",{className:"border-t border-gray-800 py-6 text-center",children:[o.jsx("p",{className:"text-gray-600 text-sm",children:" 2026 Fit Focus Media. All rights reserved."}),o.jsx("p",{className:"text-gray-700 text-xs mt-1",children:"Delivering world-class event coverage across Australia "})]})]})}const fDe=[{id:"event-wng3-2024",name:"WNG 3  Who's Next Grappling",date:"2024-03-15",venue:"Brisbane Convention Centre",org_name:"Who's Next",created_at:"2024-03-01T10:00:00Z"},{id:"event-afn8-2024",name:"Aggression Fight Night 8",date:"2024-02-10",venue:"The Fortitude Music Hall",org_name:"Aggression",created_at:"2024-02-01T10:00:00Z"}],ADe=[{id:"athlete-jsmith-001",name:"Jake Smith",email:"jake.smith@example.com",sport:"Brazilian Jiu-Jitsu",gym:"Gracie Brisbane",created_at:"2024-01-15T08:00:00Z"},{id:"athlete-mchen-002",name:"Michelle Chen",email:"michelle.chen@example.com",sport:"MMA",gym:"Integrated MMA",created_at:"2024-01-20T09:00:00Z"},{id:"athlete-rjones-003",name:"Ryan Jones",email:"ryan.jones@example.com",sport:"Muay Thai",gym:"Roundhouse Brisbane",created_at:"2024-02-01T10:00:00Z"}],mDe=[{id:"content-001",athlete_id:"athlete-jsmith-001",event_id:"event-wng3-2024",type:"photo",title:"Match Action - Guard Pass",drive_url:"https://via.placeholder.com/1200x800/0d0d1a/e51d1d?text=Guard+Pass",thumbnail_url:"https://via.placeholder.com/400x300/0d0d1a/e51d1d?text=Guard+Pass",package_type:"vip",created_at:"2024-03-16T10:00:00Z"},{id:"content-002",athlete_id:"athlete-jsmith-001",event_id:"event-wng3-2024",type:"photo",title:"Submission Attempt",drive_url:"https://via.placeholder.com/1200x800/0d0d1a/e51d1d?text=Submission",thumbnail_url:"https://via.placeholder.com/400x300/0d0d1a/e51d1d?text=Submission",package_type:"vip",created_at:"2024-03-16T10:05:00Z"},{id:"content-003",athlete_id:"athlete-jsmith-001",event_id:"event-wng3-2024",type:"photo",title:"Victory Moment",drive_url:"https://via.placeholder.com/1200x800/0d0d1a/FFD700?text=Victory",thumbnail_url:"https://via.placeholder.com/400x300/0d0d1a/FFD700?text=Victory",package_type:"vip",created_at:"2024-03-16T10:10:00Z"},{id:"content-004",athlete_id:"athlete-jsmith-001",event_id:"event-wng3-2024",type:"photo",title:"Podium Celebration",drive_url:"https://via.placeholder.com/1200x800/0d0d1a/FFD700?text=Podium",thumbnail_url:"https://via.placeholder.com/400x300/0d0d1a/FFD700?text=Podium",package_type:"vip",created_at:"2024-03-16T10:15:00Z"},{id:"content-005",athlete_id:"athlete-jsmith-001",event_id:"event-wng3-2024",type:"video",title:"Walkout",drive_url:"https://via.placeholder.com/1920x1080/0d0d1a/e51d1d?text=Walkout+Video",thumbnail_url:"https://via.placeholder.com/640x360/0d0d1a/e51d1d?text=Walkout+Video",package_type:"vip",duration:"0:45",created_at:"2024-03-16T11:00:00Z"},{id:"content-006",athlete_id:"athlete-jsmith-001",event_id:"event-wng3-2024",type:"video",title:"Match Highlight",drive_url:"https://via.placeholder.com/1920x1080/0d0d1a/e51d1d?text=Match+Highlight",thumbnail_url:"https://via.placeholder.com/640x360/0d0d1a/e51d1d?text=Match+Highlight",package_type:"vip",duration:"2:30",created_at:"2024-03-16T11:05:00Z"},{id:"content-007",athlete_id:"athlete-jsmith-001",event_id:"event-wng3-2024",type:"video",title:"Victory Moment",drive_url:"https://via.placeholder.com/1920x1080/0d0d1a/FFD700?text=Victory+Video",thumbnail_url:"https://via.placeholder.com/640x360/0d0d1a/FFD700?text=Victory+Video",package_type:"vip",duration:"0:30",created_at:"2024-03-16T11:10:00Z"},{id:"content-008",athlete_id:"athlete-mchen-002",event_id:"event-afn8-2024",type:"photo",title:"Opening Exchange",drive_url:"https://via.placeholder.com/1200x800/0d0d1a/e51d1d?text=Opening+Exchange",thumbnail_url:"https://via.placeholder.com/400x300/0d0d1a/e51d1d?text=Opening+Exchange",package_type:"match",created_at:"2024-02-11T10:00:00Z"},{id:"content-009",athlete_id:"athlete-mchen-002",event_id:"event-afn8-2024",type:"photo",title:"Head Kick",drive_url:"https://via.placeholder.com/1200x800/0d0d1a/e51d1d?text=Head+Kick",thumbnail_url:"https://via.placeholder.com/400x300/0d0d1a/e51d1d?text=Head+Kick",package_type:"match",created_at:"2024-02-11T10:05:00Z"},{id:"content-010",athlete_id:"athlete-mchen-002",event_id:"event-afn8-2024",type:"photo",title:"Ground Control",drive_url:"https://via.placeholder.com/1200x800/0d0d1a/e51d1d?text=Ground+Control",thumbnail_url:"https://via.placeholder.com/400x300/0d0d1a/e51d1d?text=Ground+Control",package_type:"match",created_at:"2024-02-11T10:10:00Z"},{id:"content-011",athlete_id:"athlete-mchen-002",event_id:"event-afn8-2024",type:"video",title:"Match Highlight",drive_url:"https://via.placeholder.com/1920x1080/0d0d1a/e51d1d?text=Match+Highlight",thumbnail_url:"https://via.placeholder.com/640x360/0d0d1a/e51d1d?text=Match+Highlight",package_type:"match",duration:"1:45",created_at:"2024-02-11T11:00:00Z"},{id:"content-012",athlete_id:"athlete-rjones-003",event_id:"event-wng3-2024",type:"photo",title:"Clinch Work",drive_url:"https://via.placeholder.com/1200x800/0d0d1a/e51d1d?text=Clinch+Work",thumbnail_url:"https://via.placeholder.com/400x300/0d0d1a/e51d1d?text=Clinch+Work",package_type:"match",created_at:"2024-03-16T12:00:00Z"},{id:"content-013",athlete_id:"athlete-rjones-003",event_id:"event-wng3-2024",type:"photo",title:"Knee Strike",drive_url:"https://via.placeholder.com/1200x800/0d0d1a/e51d1d?text=Knee+Strike",thumbnail_url:"https://via.placeholder.com/400x300/0d0d1a/e51d1d?text=Knee+Strike",package_type:"match",created_at:"2024-03-16T12:05:00Z"},{id:"content-014",athlete_id:"athlete-rjones-003",event_id:"event-wng3-2024",type:"video",title:"Match Highlight",drive_url:"https://via.placeholder.com/1920x1080/0d0d1a/e51d1d?text=Match+Highlight",thumbnail_url:"https://via.placeholder.com/640x360/0d0d1a/e51d1d?text=Match+Highlight",package_type:"match",duration:"1:30",created_at:"2024-03-16T12:30:00Z"}],pDe=[{athlete_id:"athlete-jsmith-001",event_id:"event-wng3-2024",package_type:"vip",granted_at:"2024-03-16T09:00:00Z"},{athlete_id:"athlete-mchen-002",event_id:"event-afn8-2024",package_type:"match",granted_at:"2024-02-11T09:00:00Z"},{athlete_id:"athlete-rjones-003",event_id:"event-wng3-2024",package_type:"match",granted_at:"2024-03-16T09:00:00Z"}],gDe=()=>{const t=localStorage.getItem("ffm_athlete_profiles"),e=localStorage.getItem("ffm_athlete_events"),r=localStorage.getItem("ffm_athlete_content"),n=localStorage.getItem("ffm_athlete_access");t||localStorage.setItem("ffm_athlete_profiles",JSON.stringify(ADe)),e||localStorage.setItem("ffm_athlete_events",JSON.stringify(fDe)),r||localStorage.setItem("ffm_athlete_content",JSON.stringify(mDe)),n||localStorage.setItem("ffm_athlete_access",JSON.stringify(pDe)),console.log(" Athlete portal seed data loaded")};function vDe(){const t=Mc(),[e,r]=k.useState(""),[n,i]=k.useState(""),[s,a]=k.useState(""),[c,u]=k.useState(!1);k.useEffect(()=>{gDe()},[]);const l=async d=>{d.preventDefault(),a(""),u(!0),setTimeout(()=>{const A=JSON.parse(localStorage.getItem("ffm_athlete_profiles")||"[]").find(p=>p.email===e);A?(sessionStorage.setItem("athlete_user",JSON.stringify(A)),t("/athlete/dashboard")):(a("Invalid email or password. Try: jake.smith@example.com"),u(!1))},800)};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#0d0d1a] via-[#1a1a2e] to-[#0d0d1a] flex items-center justify-center px-4",children:o.jsxs(Kr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsxs(Kr.h1,{initial:{scale:.9},animate:{scale:1},transition:{duration:.5,delay:.1},className:"text-4xl md:text-5xl font-black text-white mb-2",children:["FIT FOCUS ",o.jsx("span",{className:"text-[#e51d1d]",children:"MEDIA"})]}),o.jsx("p",{className:"text-gray-400 text-lg",children:"Athlete Portal"})]}),o.jsxs(Kr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"bg-[#1a1a2e]/80 backdrop-blur-xl border border-white/10 rounded-2xl p-8 shadow-2xl",children:[o.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Sign In"}),s&&o.jsxs(Kr.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mb-6 p-4 bg-red-500/10 border border-red-500/30 rounded-lg flex items-start gap-3",children:[o.jsx(qv,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),o.jsx("p",{className:"text-sm text-red-400",children:s})]}),o.jsxs("form",{onSubmit:l,className:"space-y-5",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-2",children:"Email Address"}),o.jsxs("div",{className:"relative",children:[o.jsx(Xv,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),o.jsx("input",{id:"email",type:"email",value:e,onChange:d=>r(d.target.value),className:"w-full bg-[#0d0d1a]/50 border border-white/10 rounded-lg pl-11 pr-4 py-3 text-white placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-[#e51d1d]/50 focus:border-[#e51d1d]/50 transition-all",placeholder:"your.email@example.com",required:!0})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(iY,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),o.jsx("input",{id:"password",type:"password",value:n,onChange:d=>i(d.target.value),className:"w-full bg-[#0d0d1a]/50 border border-white/10 rounded-lg pl-11 pr-4 py-3 text-white placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-[#e51d1d]/50 focus:border-[#e51d1d]/50 transition-all",placeholder:"",required:!0})]})]}),o.jsx("div",{className:"flex justify-end",children:o.jsx(Ks,{to:"/athlete/forgot-password",className:"text-sm text-[#e51d1d] hover:text-red-400 transition-colors",children:"Forgot password?"})}),o.jsx("button",{type:"submit",disabled:c,className:"w-full bg-gradient-to-r from-[#e51d1d] to-red-600 text-white font-semibold py-3 rounded-lg hover:from-red-600 hover:to-[#e51d1d] transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:c?o.jsxs(o.Fragment,{children:[o.jsx(nY,{className:"w-5 h-5 animate-spin"}),"Signing in..."]}):"Sign In"})]}),o.jsx("div",{className:"mt-6 pt-6 border-t border-white/10 text-center",children:o.jsxs("p",{className:"text-gray-400",children:["New athlete?"," ",o.jsx(Ks,{to:"/athlete/register",className:"text-[#e51d1d] hover:text-red-400 font-semibold transition-colors",children:"Register here"})]})}),o.jsx("div",{className:"mt-4 text-center",children:o.jsx(Ks,{to:"/athlete/packages",className:"text-sm text-gray-500 hover:text-gray-300 transition-colors",children:"Browse Packages"})})]}),o.jsx(Kr.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.4},className:"mt-6 p-4 bg-blue-500/10 border border-blue-500/30 rounded-lg text-center",children:o.jsxs("p",{className:"text-sm text-blue-300",children:[o.jsx("strong",{children:"Demo:"})," jake.smith@example.com | michelle.chen@example.com | ryan.jones@example.com"]})})]})})}const $u={PROFILES:"ffm_athlete_profiles",EVENTS:"ffm_athlete_events",CONTENT:"ffm_athlete_content",ACCESS:"ffm_athlete_access"},gh=t=>{try{const e=localStorage.getItem(t);return e?JSON.parse(e):[]}catch(e){return console.error(`Error reading ${t}:`,e),[]}},pj=(t,e)=>{try{localStorage.setItem(t,JSON.stringify(e))}catch(r){console.error(`Error writing ${t}:`,r)}},NM=()=>`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,yDe=t=>{const e=gh($u.PROFILES),r={id:NM(),name:t.name,email:t.email,sport:t.sport||"",gym:t.gym||"",created_at:new Date().toISOString()};return e.push(r),pj($u.PROFILES,e),r},xDe=()=>gh($u.PROFILES),bDe=()=>gh($u.EVENTS).sort((t,e)=>new Date(e.date)-new Date(t.date)),wDe=t=>gh($u.EVENTS).find(r=>r.id===t),EDe=t=>{const e=gh($u.EVENTS),r={id:NM(),name:t.name,date:t.date,venue:t.venue||"",org_name:t.org_name||"",created_at:new Date().toISOString()};return e.push(r),pj($u.EVENTS,e),r},kM=t=>{const e=gh($u.ACCESS),r=gh($u.EVENTS),n=e.filter(s=>s.athlete_id===t),i=[...new Set(n.map(s=>s.event_id))];return r.filter(s=>i.includes(s.id)).map(s=>{const a=n.find(c=>c.event_id===s.id);return{...s,package_type:a?.package_type||"match",granted_at:a?.granted_at}}).sort((s,a)=>new Date(a.date)-new Date(s.date))},_De=(t,e)=>{const r=gh($u.CONTENT);return gh($u.ACCESS).some(s=>s.athlete_id===t&&s.event_id===e)?r.filter(s=>s.athlete_id===t&&s.event_id===e).sort((s,a)=>new Date(a.created_at)-new Date(s.created_at)):[]},pz=t=>gh($u.CONTENT).filter(r=>r.athlete_id===t).sort((r,n)=>new Date(n.created_at)-new Date(r.created_at)),SDe=t=>{const e=gh($u.CONTENT),r=kM(t),n=e.filter(c=>c.athlete_id===t),i=n.filter(c=>c.type==="photo"),s=n.filter(c=>c.type==="video"),a=r.length>0?r[0].package_type:null;return{totalEvents:r.length,totalPhotos:i.length,totalVideos:s.length,activePackage:a}},TDe=(t,e,r,n)=>{const i=gh($u.CONTENT),s=gh($u.ACCESS),a=r.map(u=>({id:NM(),athlete_id:t,event_id:e,type:u.type,title:u.title||"",drive_url:u.drive_url,thumbnail_url:u.thumbnail_url||u.drive_url,package_type:n,duration:u.duration||null,created_at:new Date().toISOString()}));return i.push(...a),pj($u.CONTENT,i),s.find(u=>u.athlete_id===t&&u.event_id===e)||(s.push({athlete_id:t,event_id:e,package_type:n,granted_at:new Date().toISOString()}),pj($u.ACCESS,s)),a},CDe=t=>gh($u.CONTENT).filter(r=>r.event_id===t),jDe=t=>{const r=gh($u.CONTENT).filter(i=>i.athlete_id===t),n=kM(t);return{totalEvents:n.length,totalPhotos:r.filter(i=>i.type==="photo").length,totalVideos:r.filter(i=>i.type==="video").length,packages:n.map(i=>i.package_type)}},IO=t=>({vip:"VIP Package",match:"Match Package",season:"Season Pass"})[t]||t,kre=t=>({vip:"from-yellow-500/20 to-amber-600/20 border-yellow-500/30",match:"from-blue-500/20 to-cyan-600/20 border-blue-500/30",season:"from-purple-500/20 to-pink-600/20 border-purple-500/30"})[t]||"from-gray-500/20 to-gray-600/20 border-gray-500/30",Ire=t=>new Date(t).toLocaleDateString("en-AU",{year:"numeric",month:"long",day:"numeric"}),Q2=t=>{const e=[/\/file\/d\/([a-zA-Z0-9_-]+)/,/id=([a-zA-Z0-9_-]+)/,/\/d\/([a-zA-Z0-9_-]+)/];for(const r of e){const n=t.match(r);if(n)return`https://drive.google.com/uc?export=download&id=${n[1]}`}return t},NDe=["Brazilian Jiu-Jitsu","MMA","Muay Thai","Boxing","Wrestling","Judo","Kickboxing","Other"];function kDe(){const t=Mc(),[e,r]=k.useState({name:"",email:"",password:"",confirmPassword:"",sport:"",gym:""}),[n,i]=k.useState(""),[s,a]=k.useState(!1),c=l=>{r({...e,[l.target.name]:l.target.value})},u=async l=>{if(l.preventDefault(),i(""),e.password!==e.confirmPassword){i("Passwords do not match");return}if(e.password.length<6){i("Password must be at least 6 characters");return}a(!0),setTimeout(()=>{try{if(JSON.parse(localStorage.getItem("ffm_athlete_profiles")||"[]").find(p=>p.email===e.email)){i("An account with this email already exists"),a(!1);return}const A=yDe({name:e.name,email:e.email,sport:e.sport,gym:e.gym});sessionStorage.setItem("athlete_user",JSON.stringify(A)),t("/athlete/dashboard")}catch{i("Registration failed. Please try again."),a(!1)}},800)};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#0d0d1a] via-[#1a1a2e] to-[#0d0d1a] flex items-center justify-center px-4 py-12",children:o.jsxs(Kr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsxs(Kr.h1,{initial:{scale:.9},animate:{scale:1},transition:{duration:.5,delay:.1},className:"text-4xl md:text-5xl font-black text-white mb-2",children:["FIT FOCUS ",o.jsx("span",{className:"text-[#e51d1d]",children:"MEDIA"})]}),o.jsx("p",{className:"text-gray-400 text-lg",children:"Athlete Portal"})]}),o.jsxs(Kr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"bg-[#1a1a2e]/80 backdrop-blur-xl border border-white/10 rounded-2xl p-8 shadow-2xl",children:[o.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Create Account"}),o.jsx("p",{className:"text-gray-400 text-sm mb-6",children:"Join the FFM athlete community"}),n&&o.jsxs(Kr.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mb-6 p-4 bg-red-500/10 border border-red-500/30 rounded-lg flex items-start gap-3",children:[o.jsx(qv,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),o.jsx("p",{className:"text-sm text-red-400",children:n})]}),o.jsxs("form",{onSubmit:u,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-300 mb-2",children:"Full Name"}),o.jsxs("div",{className:"relative",children:[o.jsx(Xv,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),o.jsx("input",{id:"name",name:"name",type:"text",value:e.name,onChange:c,className:"w-full bg-[#0d0d1a]/50 border border-white/10 rounded-lg pl-11 pr-4 py-3 text-white placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-[#e51d1d]/50 focus:border-[#e51d1d]/50 transition-all",placeholder:"John Smith",required:!0})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-2",children:"Email Address"}),o.jsxs("div",{className:"relative",children:[o.jsx(hf,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),o.jsx("input",{id:"email",name:"email",type:"email",value:e.email,onChange:c,className:"w-full bg-[#0d0d1a]/50 border border-white/10 rounded-lg pl-11 pr-4 py-3 text-white placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-[#e51d1d]/50 focus:border-[#e51d1d]/50 transition-all",placeholder:"your.email@example.com",required:!0})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"sport",className:"block text-sm font-medium text-gray-300 mb-2",children:"Sport / Discipline"}),o.jsxs("div",{className:"relative",children:[o.jsx(hde,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),o.jsxs("select",{id:"sport",name:"sport",value:e.sport,onChange:c,className:"w-full bg-[#0d0d1a]/50 border border-white/10 rounded-lg pl-11 pr-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-[#e51d1d]/50 focus:border-[#e51d1d]/50 transition-all appearance-none",required:!0,children:[o.jsx("option",{value:"",children:"Select your sport"}),NDe.map(l=>o.jsx("option",{value:l,children:l},l))]})]})]}),o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"gym",className:"block text-sm font-medium text-gray-300 mb-2",children:["Gym / Team ",o.jsx("span",{className:"text-gray-500 text-xs",children:"(optional)"})]}),o.jsxs("div",{className:"relative",children:[o.jsx(Hue,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),o.jsx("input",{id:"gym",name:"gym",type:"text",value:e.gym,onChange:c,className:"w-full bg-[#0d0d1a]/50 border border-white/10 rounded-lg pl-11 pr-4 py-3 text-white placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-[#e51d1d]/50 focus:border-[#e51d1d]/50 transition-all",placeholder:"Your gym or team"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(iY,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),o.jsx("input",{id:"password",name:"password",type:"password",value:e.password,onChange:c,className:"w-full bg-[#0d0d1a]/50 border border-white/10 rounded-lg pl-11 pr-4 py-3 text-white placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-[#e51d1d]/50 focus:border-[#e51d1d]/50 transition-all",placeholder:"",required:!0})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-300 mb-2",children:"Confirm Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(kw,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),o.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",value:e.confirmPassword,onChange:c,className:"w-full bg-[#0d0d1a]/50 border border-white/10 rounded-lg pl-11 pr-4 py-3 text-white placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-[#e51d1d]/50 focus:border-[#e51d1d]/50 transition-all",placeholder:"",required:!0})]})]}),o.jsx("button",{type:"submit",disabled:s,className:"w-full bg-gradient-to-r from-[#e51d1d] to-red-600 text-white font-semibold py-3 rounded-lg hover:from-red-600 hover:to-[#e51d1d] transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 mt-6",children:s?o.jsxs(o.Fragment,{children:[o.jsx(nY,{className:"w-5 h-5 animate-spin"}),"Creating account..."]}):"Create Account"})]}),o.jsx("div",{className:"mt-6 pt-6 border-t border-white/10 text-center",children:o.jsxs("p",{className:"text-gray-400",children:["Already have an account?"," ",o.jsx(Ks,{to:"/athlete",className:"text-[#e51d1d] hover:text-red-400 font-semibold transition-colors",children:"Sign in"})]})})]})]})})}const IDe=[{id:"match",name:"Match Package",price:175,icon:h0,color:"from-blue-500/20 to-cyan-600/20",borderColor:"border-blue-500/30",textColor:"text-blue-400",features:["All fight photos (high resolution)","Match highlight video clip","Instant download access","Share on social media","Available within 48 hours"]},{id:"vip",name:"VIP Package",price:350,icon:lde,color:"from-yellow-500/20 to-amber-600/20",borderColor:"border-yellow-500/30",textColor:"text-yellow-400",badge:"Most Popular",features:["All fight photos (high resolution)","Match highlight video","Walkout video","Victory moment video","Behind-the-scenes content","Priority delivery (24 hours)","Unlimited downloads"]},{id:"season",name:"Season Pass",price:899,priceNote:"/year",icon:KB,color:"from-purple-500/20 to-pink-600/20",borderColor:"border-purple-500/30",textColor:"text-purple-400",badge:"Best Value",features:["All content from every event","Unlimited events for full year","VIP package benefits for each event","Early access to content","Exclusive athlete portal access","Personalized highlight reels","Save over $1,000 per year"]}],LDe=[{question:"When will I get my content?",answer:"Match Package content is delivered within 48 hours of the event. VIP Package customers receive priority delivery within 24 hours. Season Pass holders get early access as soon as content is ready."},{question:"What format are the files?",answer:"Photos are delivered in high-resolution JPEG format (4K-6K resolution). Videos are provided in MP4 format at 1080p or 4K, optimized for both social media sharing and archival quality."},{question:"Can I share my content on social media?",answer:"Absolutely! All content is yours to share. We encourage you to share your highlight moments on Instagram, Facebook, TikTok, and other platforms. Your success is our success!"},{question:"How do I access my content?",answer:"After purchasing, you'll receive an email with login credentials to your personal athlete portal. All your content is organized by event and available for instant download anytime, anywhere."},{question:"Can I purchase content after the event?",answer:"Yes! Content is available for purchase for 90 days after the event. However, we recommend purchasing in advance to ensure priority processing and the best pricing."},{question:"What if I compete in multiple events?",answer:"If you compete in 3+ events per year, the Season Pass is your best value. It covers all events for an entire year and saves you over $1,000 compared to individual packages."}];function BDe(){const[t,e]=k.useState(null);return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#0d0d1a] via-[#1a1a2e] to-[#0d0d1a]",children:[o.jsx("div",{className:"bg-[#1a1a2e]/50 backdrop-blur-xl border-b border-white/10",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(Ks,{to:"/athlete",className:"text-2xl font-black text-white",children:["FIT FOCUS ",o.jsx("span",{className:"text-[#e51d1d]",children:"MEDIA"})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(Ks,{to:"/athlete",className:"text-sm text-gray-400 hover:text-white transition-colors",children:"Sign In"}),o.jsx(Ks,{to:"/athlete/register",className:"bg-gradient-to-r from-[#e51d1d] to-red-600 text-white font-semibold px-6 py-2 rounded-lg hover:from-red-600 hover:to-[#e51d1d] transition-all text-sm",children:"Get Started"})]})]})})}),o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 md:py-20",children:[o.jsxs(Kr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-16",children:[o.jsxs("div",{className:"inline-flex items-center gap-2 bg-[#e51d1d]/20 border border-[#e51d1d]/30 px-4 py-2 rounded-full mb-6",children:[o.jsx(MR,{className:"w-4 h-4 text-[#e51d1d]"}),o.jsx("span",{className:"text-sm font-semibold text-[#e51d1d]",children:"Professional Fight Media"})]}),o.jsxs("h1",{className:"text-4xl md:text-6xl font-black text-white mb-6",children:["Capture Your ",o.jsx("span",{className:"text-[#e51d1d]",children:"Victory"})]}),o.jsx("p",{className:"text-xl text-gray-400 max-w-3xl mx-auto",children:"Professional fight photography and videography packages for combat sports athletes. Relive your moments, share your glory."})]}),o.jsx("div",{className:"grid md:grid-cols-3 gap-8 mb-20",children:IDe.map((r,n)=>{const i=r.icon;return o.jsxs(Kr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:n*.1},className:`bg-gradient-to-br ${r.color} backdrop-blur-xl border ${r.borderColor} rounded-2xl p-8 hover:scale-105 transition-transform relative`,children:[r.badge&&o.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2",children:o.jsx("div",{className:"bg-gradient-to-r from-[#e51d1d] to-red-600 text-white text-xs font-bold px-4 py-1 rounded-full",children:r.badge})}),o.jsx("div",{className:`w-12 h-12 rounded-lg bg-gradient-to-br ${r.color} border ${r.borderColor} flex items-center justify-center mb-4`,children:o.jsx(i,{className:`w-6 h-6 ${r.textColor}`})}),o.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:r.name}),o.jsxs("div",{className:"mb-6",children:[o.jsxs("span",{className:"text-4xl font-black text-white",children:["$",r.price]}),r.priceNote&&o.jsx("span",{className:"text-gray-400 text-lg",children:r.priceNote})]}),o.jsx("ul",{className:"space-y-3 mb-8",children:r.features.map((s,a)=>o.jsxs("li",{className:"flex items-start gap-3",children:[o.jsx(tl,{className:`w-5 h-5 ${r.textColor} flex-shrink-0 mt-0.5`}),o.jsx("span",{className:"text-gray-300 text-sm",children:s})]},a))}),o.jsx("a",{href:`mailto:info@fitfocusmedia.com.au?subject=Purchase ${r.name}&body=Hi Brandon, I'd like to purchase the ${r.name} ($${r.price}).`,className:`block w-full bg-gradient-to-r ${r.color} border ${r.borderColor} ${r.textColor} font-semibold py-3 rounded-lg hover:scale-105 transition-transform text-center`,children:"Purchase Now"})]},r.id)})}),o.jsxs(Kr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-[#1a1a2e]/50 backdrop-blur-xl border border-white/10 rounded-2xl overflow-hidden mb-20",children:[o.jsxs("div",{className:"p-8 border-b border-white/10",children:[o.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Package Comparison"}),o.jsx("p",{className:"text-gray-400",children:"Choose the package that fits your needs"})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-[#0d0d1a]/50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left p-4 text-gray-400 font-semibold",children:"Feature"}),o.jsx("th",{className:"text-center p-4 text-gray-400 font-semibold",children:"Match"}),o.jsx("th",{className:"text-center p-4 text-gray-400 font-semibold",children:"VIP"}),o.jsx("th",{className:"text-center p-4 text-gray-400 font-semibold",children:"Season"})]})}),o.jsxs("tbody",{className:"divide-y divide-white/10",children:[o.jsxs("tr",{children:[o.jsx("td",{className:"p-4 text-gray-300",children:"Fight Photos (High-Res)"}),o.jsx("td",{className:"text-center p-4",children:o.jsx(tl,{className:"w-5 h-5 text-green-400 mx-auto"})}),o.jsx("td",{className:"text-center p-4",children:o.jsx(tl,{className:"w-5 h-5 text-green-400 mx-auto"})}),o.jsx("td",{className:"text-center p-4",children:o.jsx(tl,{className:"w-5 h-5 text-green-400 mx-auto"})})]}),o.jsxs("tr",{children:[o.jsx("td",{className:"p-4 text-gray-300",children:"Match Highlight Video"}),o.jsx("td",{className:"text-center p-4",children:o.jsx(tl,{className:"w-5 h-5 text-green-400 mx-auto"})}),o.jsx("td",{className:"text-center p-4",children:o.jsx(tl,{className:"w-5 h-5 text-green-400 mx-auto"})}),o.jsx("td",{className:"text-center p-4",children:o.jsx(tl,{className:"w-5 h-5 text-green-400 mx-auto"})})]}),o.jsxs("tr",{children:[o.jsx("td",{className:"p-4 text-gray-300",children:"Walkout Video"}),o.jsx("td",{className:"text-center p-4 text-gray-600",children:""}),o.jsx("td",{className:"text-center p-4",children:o.jsx(tl,{className:"w-5 h-5 text-green-400 mx-auto"})}),o.jsx("td",{className:"text-center p-4",children:o.jsx(tl,{className:"w-5 h-5 text-green-400 mx-auto"})})]}),o.jsxs("tr",{children:[o.jsx("td",{className:"p-4 text-gray-300",children:"Victory Moment Video"}),o.jsx("td",{className:"text-center p-4 text-gray-600",children:""}),o.jsx("td",{className:"text-center p-4",children:o.jsx(tl,{className:"w-5 h-5 text-green-400 mx-auto"})}),o.jsx("td",{className:"text-center p-4",children:o.jsx(tl,{className:"w-5 h-5 text-green-400 mx-auto"})})]}),o.jsxs("tr",{children:[o.jsx("td",{className:"p-4 text-gray-300",children:"Delivery Time"}),o.jsx("td",{className:"text-center p-4 text-gray-300",children:"48hrs"}),o.jsx("td",{className:"text-center p-4 text-yellow-400",children:"24hrs"}),o.jsx("td",{className:"text-center p-4 text-purple-400",children:"Priority"})]}),o.jsxs("tr",{children:[o.jsx("td",{className:"p-4 text-gray-300",children:"Number of Events"}),o.jsx("td",{className:"text-center p-4 text-gray-300",children:"1"}),o.jsx("td",{className:"text-center p-4 text-gray-300",children:"1"}),o.jsx("td",{className:"text-center p-4 text-purple-400",children:"Unlimited"})]})]})]})})]}),o.jsxs(Kr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Frequently Asked Questions"}),o.jsx("p",{className:"text-gray-400",children:"Everything you need to know about our packages"})]}),o.jsx("div",{className:"max-w-3xl mx-auto space-y-4",children:LDe.map((r,n)=>o.jsxs(Kr.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.6+n*.05},className:"bg-[#1a1a2e]/50 backdrop-blur-xl border border-white/10 rounded-xl overflow-hidden",children:[o.jsxs("button",{onClick:()=>e(t===n?null:n),className:"w-full p-6 flex items-center justify-between text-left hover:bg-white/5 transition-colors",children:[o.jsx("span",{className:"text-lg font-semibold text-white pr-4",children:r.question}),o.jsx(gb,{className:`w-5 h-5 text-gray-400 flex-shrink-0 transition-transform ${t===n?"rotate-180":""}`})]}),t===n&&o.jsx(Kr.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"px-6 pb-6",children:o.jsx("p",{className:"text-gray-400 leading-relaxed",children:r.answer})})]},n))})]}),o.jsxs(Kr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"mt-20 bg-gradient-to-r from-[#e51d1d]/20 via-red-600/20 to-purple-600/20 border border-[#e51d1d]/30 rounded-2xl p-12 text-center",children:[o.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Ready to Capture Your Glory?"}),o.jsx("p",{className:"text-xl text-gray-300 mb-8 max-w-2xl mx-auto",children:"Create an account or contact us to purchase a package for your next event."}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[o.jsx(Ks,{to:"/athlete/register",className:"bg-gradient-to-r from-[#e51d1d] to-red-600 text-white font-bold px-8 py-4 rounded-lg hover:from-red-600 hover:to-[#e51d1d] transition-all text-lg",children:"Create Account"}),o.jsxs("a",{href:"mailto:info@fitfocusmedia.com.au?subject=Package Inquiry",className:"flex items-center gap-2 bg-white/10 border border-white/20 text-white font-semibold px-8 py-4 rounded-lg hover:bg-white/20 transition-all text-lg",children:[o.jsx(hf,{className:"w-5 h-5"}),"Contact Us"]})]})]})]})]})}function Lre({children:t}){const e=Mc(),r=vf(),[n,i]=k.useState(null),[s,a]=k.useState(!1);k.useEffect(()=>{const l=sessionStorage.getItem("athlete_user");if(!l){e("/athlete");return}i(JSON.parse(l))},[e]);const c=()=>{sessionStorage.removeItem("athlete_user"),e("/athlete")},u=[{path:"/athlete/dashboard",label:"Dashboard",icon:Ede},{path:"/athlete/content",label:"My Content",icon:p0},{path:"/athlete/packages",label:"Packages",icon:h0},{path:"/athlete/account",label:"Account",icon:Xv}];return n?o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#0d0d1a] via-[#1a1a2e] to-[#0d0d1a]",children:[o.jsxs("header",{className:"bg-[#1a1a2e]/50 backdrop-blur-xl border-b border-white/10 sticky top-0 z-50",children:[o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsxs(Ks,{to:"/athlete/dashboard",className:"flex items-center gap-3",children:[o.jsxs("div",{className:"text-2xl font-black text-white",children:["FIT FOCUS ",o.jsx("span",{className:"text-[#e51d1d]",children:"MEDIA"})]}),o.jsx("div",{className:"hidden sm:block h-6 w-px bg-white/20"}),o.jsx("div",{className:"hidden sm:block text-sm text-gray-400",children:"Athlete Portal"})]}),o.jsx("nav",{className:"hidden md:flex items-center gap-1",children:u.map(l=>{const d=l.icon,f=r.pathname===l.path;return o.jsxs(Ks,{to:l.path,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all ${f?"bg-[#e51d1d] text-white":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:[o.jsx(d,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm font-medium",children:l.label})]},l.path)})}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"hidden lg:flex items-center gap-3",children:[o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-sm font-semibold text-white",children:n.name}),o.jsx("div",{className:"text-xs text-gray-400",children:n.sport})]}),o.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-[#e51d1d] to-red-600 flex items-center justify-center text-white font-bold",children:n.name.charAt(0)})]}),o.jsxs("button",{onClick:c,className:"hidden md:flex items-center gap-2 px-4 py-2 text-sm text-gray-400 hover:text-white hover:bg-white/5 rounded-lg transition-all",children:[o.jsx(n8,{className:"w-4 h-4"}),o.jsx("span",{children:"Sign Out"})]}),o.jsx("button",{onClick:()=>a(!s),className:"md:hidden p-2 text-gray-400 hover:text-white transition-colors",children:s?o.jsx(Zv,{className:"w-6 h-6"}):o.jsx(sY,{className:"w-6 h-6"})})]})]})}),s&&o.jsx(Kr.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden border-t border-white/10 bg-[#0d0d1a]/95 backdrop-blur-xl",children:o.jsxs("div",{className:"px-4 py-4 space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-white/10",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-[#e51d1d] to-red-600 flex items-center justify-center text-white font-bold text-lg",children:n.name.charAt(0)}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-semibold text-white",children:n.name}),o.jsx("div",{className:"text-xs text-gray-400",children:n.sport})]})]}),u.map(l=>{const d=l.icon,f=r.pathname===l.path;return o.jsxs(Ks,{to:l.path,onClick:()=>a(!1),className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${f?"bg-[#e51d1d] text-white":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:[o.jsx(d,{className:"w-5 h-5"}),o.jsx("span",{className:"font-medium",children:l.label})]},l.path)}),o.jsxs("button",{onClick:c,className:"flex items-center gap-3 px-4 py-3 text-gray-400 hover:text-white hover:bg-white/5 rounded-lg transition-all w-full",children:[o.jsx(n8,{className:"w-5 h-5"}),o.jsx("span",{className:"font-medium",children:"Sign Out"})]})]})})]}),o.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:t}),o.jsx("footer",{className:"border-t border-white/10 bg-[#0d0d1a]/50 mt-20",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[o.jsxs("p",{className:"text-sm text-gray-400",children:[" ",new Date().getFullYear()," Fit Focus Media. All rights reserved."]}),o.jsxs("div",{className:"flex items-center gap-6",children:[o.jsx(Ks,{to:"/athlete/packages",className:"text-sm text-gray-400 hover:text-white transition-colors",children:"Packages"}),o.jsx("a",{href:"mailto:info@fitfocusmedia.com.au",className:"text-sm text-gray-400 hover:text-white transition-colors",children:"Support"})]})]})})})]}):null}function ODe(){const t=Mc(),[e,r]=k.useState(null),[n,i]=k.useState([]),[s,a]=k.useState([]),[c,u]=k.useState({totalEvents:0,totalPhotos:0,totalVideos:0,activePackage:null});return k.useEffect(()=>{const l=sessionStorage.getItem("athlete_user");if(!l){t("/athlete");return}const d=JSON.parse(l);r(d);const f=kM(d.id),A=pz(d.id),p=SDe(d.id);i(f),a(A.slice(0,6)),u(p)},[t]),e?o.jsxs(Lre,{children:[o.jsxs(Kr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-[#e51d1d]/20 via-red-600/20 to-purple-600/20 border border-[#e51d1d]/30 rounded-2xl p-8 mb-8",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx(fy,{className:"w-6 h-6 text-[#e51d1d]"}),o.jsxs("h1",{className:"text-3xl font-bold text-white",children:["Welcome back, ",e.name.split(" ")[0],"!"]})]}),o.jsx("p",{className:"text-gray-300",children:"Access your fight photos, highlight videos, and exclusive content."})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[o.jsx(Kr.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1},className:"bg-[#1a1a2e]/50 backdrop-blur-xl border border-white/10 rounded-xl p-6",children:o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-500/20 flex items-center justify-center",children:o.jsx(fd,{className:"w-5 h-5 text-blue-400"})}),o.jsxs("div",{children:[o.jsx("div",{className:"text-2xl font-bold text-white",children:c.totalEvents}),o.jsx("div",{className:"text-sm text-gray-400",children:"Events"})]})]})}),o.jsx(Kr.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2},className:"bg-[#1a1a2e]/50 backdrop-blur-xl border border-white/10 rounded-xl p-6",children:o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-500/20 flex items-center justify-center",children:o.jsx(p0,{className:"w-5 h-5 text-green-400"})}),o.jsxs("div",{children:[o.jsx("div",{className:"text-2xl font-bold text-white",children:c.totalPhotos}),o.jsx("div",{className:"text-sm text-gray-400",children:"Photos"})]})]})}),o.jsx(Kr.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.3},className:"bg-[#1a1a2e]/50 backdrop-blur-xl border border-white/10 rounded-xl p-6",children:o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("div",{className:"w-10 h-10 rounded-lg bg-purple-500/20 flex items-center justify-center",children:o.jsx(Im,{className:"w-5 h-5 text-purple-400"})}),o.jsxs("div",{children:[o.jsx("div",{className:"text-2xl font-bold text-white",children:c.totalVideos}),o.jsx("div",{className:"text-sm text-gray-400",children:"Videos"})]})]})}),o.jsx(Kr.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.4},className:"bg-[#1a1a2e]/50 backdrop-blur-xl border border-white/10 rounded-xl p-6",children:o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("div",{className:"w-10 h-10 rounded-lg bg-yellow-500/20 flex items-center justify-center",children:o.jsx(h0,{className:"w-5 h-5 text-yellow-400"})}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-semibold text-white",children:c.activePackage?IO(c.activePackage):"None"}),o.jsx("div",{className:"text-xs text-gray-400",children:"Active Package"})]})]})})]}),o.jsxs(Kr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"mb-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-white",children:"My Events"}),o.jsxs(Ks,{to:"/athlete/packages",className:"text-sm text-[#e51d1d] hover:text-red-400 transition-colors font-medium flex items-center gap-1",children:["Browse Packages",o.jsx(vb,{className:"w-4 h-4"})]})]}),n.length===0?o.jsxs("div",{className:"bg-[#1a1a2e]/50 backdrop-blur-xl border border-white/10 rounded-xl p-12 text-center",children:[o.jsx(h0,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),o.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No content yet"}),o.jsx("p",{className:"text-gray-400 mb-6",children:"Your media will appear here after your next event!"}),o.jsxs(Ks,{to:"/athlete/packages",className:"inline-flex items-center gap-2 bg-gradient-to-r from-[#e51d1d] to-red-600 text-white font-semibold px-6 py-3 rounded-lg hover:from-red-600 hover:to-[#e51d1d] transition-all",children:[o.jsx(h0,{className:"w-5 h-5"}),"Browse Packages"]})]}):o.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:n.map((l,d)=>{const A=pz(e.id).filter(y=>y.event_id===l.id),p=A.filter(y=>y.type==="photo").length,v=A.filter(y=>y.type==="video").length;return o.jsx(Kr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6+d*.1},children:o.jsx(Ks,{to:`/athlete/events/${l.id}`,className:"block group",children:o.jsxs("div",{className:"bg-[#1a1a2e]/50 backdrop-blur-xl border border-white/10 rounded-xl p-6 hover:border-[#e51d1d]/50 transition-all",children:[o.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full bg-gradient-to-r ${kre(l.package_type)} border mb-4`,children:[o.jsx(h0,{className:"w-3 h-3"}),o.jsx("span",{className:"text-xs font-semibold",children:IO(l.package_type)})]}),o.jsx("h3",{className:"text-xl font-bold text-white mb-2 group-hover:text-[#e51d1d] transition-colors",children:l.name}),o.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400 mb-4",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(fd,{className:"w-4 h-4"}),o.jsx("span",{children:Ire(l.date)})]}),l.venue&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Vf,{className:"w-4 h-4"}),o.jsx("span",{children:l.venue})]})]}),o.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2 text-green-400",children:[o.jsx(p0,{className:"w-4 h-4"}),o.jsxs("span",{className:"font-medium",children:[p," Photos"]})]}),o.jsxs("div",{className:"flex items-center gap-2 text-purple-400",children:[o.jsx(Im,{className:"w-4 h-4"}),o.jsxs("span",{className:"font-medium",children:[v," Videos"]})]})]}),o.jsxs("div",{className:"mt-4 pt-4 border-t border-white/10 flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-gray-400",children:"View content"}),o.jsx(vb,{className:"w-5 h-5 text-[#e51d1d] group-hover:translate-x-1 transition-transform"})]})]})})},l.id)})})]}),s.length>0&&o.jsxs(Kr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},children:[o.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Recent Content"}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:s.map((l,d)=>o.jsxs(Kr.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.8+d*.05},className:"group relative aspect-square rounded-lg overflow-hidden bg-[#1a1a2e]/50 border border-white/10 hover:border-[#e51d1d]/50 transition-all",children:[o.jsx("img",{src:l.thumbnail_url,alt:l.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex items-end p-3",children:o.jsxs("div",{className:"flex items-center gap-1 text-white",children:[l.type==="video"?o.jsx(Im,{className:"w-4 h-4"}):o.jsx(p0,{className:"w-4 h-4"}),o.jsx("span",{className:"text-xs font-medium truncate",children:l.title})]})})]},l.id))})]})]}):null}function PDe(){const{eventId:t}=Qm(),e=Mc(),[r,n]=k.useState(null),[i,s]=k.useState(null),[a,c]=k.useState([]),[u,l]=k.useState("photos"),[d,f]=k.useState(!1),[A,p]=k.useState(0);k.useEffect(()=>{const P=sessionStorage.getItem("athlete_user");if(!P){e("/athlete");return}const U=JSON.parse(P);n(U);const W=wDe(t);if(!W){e("/athlete/dashboard");return}const q=_De(U.id,t);s(W),c(q);const re=q.filter(Ae=>Ae.type==="photo"),ie=q.filter(Ae=>Ae.type==="video");re.length===0&&ie.length>0&&l("videos")},[t,e]);const v=a.filter(P=>P.type==="photo"),y=a.filter(P=>P.type==="video"),x=P=>{(P==="photos"?v:y).forEach((W,q)=>{setTimeout(()=>{const re=document.createElement("a");re.href=Q2(W.drive_url),re.download=W.title||`${P}-${q+1}`,re.click()},q*500)})},w=(P,U)=>{const W=encodeURIComponent(P.drive_url),q=encodeURIComponent(`Check out my ${P.title} from ${i.name}!`),re={facebook:`https://www.facebook.com/sharer/sharer.php?u=${W}`,instagram:P.drive_url,twitter:`https://twitter.com/intent/tweet?url=${W}&text=${q}`};U==="instagram"?(navigator.clipboard.writeText(P.drive_url),alert("Link copied! Paste it in your Instagram post.")):window.open(re[U],"_blank","width=600,height=400")},E=P=>{p(P),f(!0)},T=()=>{f(!1)},C=()=>{p(P=>(P+1)%v.length)},j=()=>{p(P=>(P-1+v.length)%v.length)};return!r||!i?null:o.jsxs(Lre,{children:[o.jsxs(Ks,{to:"/athlete/dashboard",className:"inline-flex items-center gap-2 text-gray-400 hover:text-white transition-colors mb-6",children:[o.jsx(zB,{className:"w-4 h-4"}),o.jsx("span",{children:"Back to Dashboard"})]}),o.jsxs(Kr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-[#1a1a2e]/80 to-[#1a1a2e]/50 backdrop-blur-xl border border-white/10 rounded-2xl p-8 mb-8",children:[o.jsxs("div",{className:`inline-flex items-center gap-2 px-4 py-2 rounded-full bg-gradient-to-r ${kre(a[0]?.package_type)} border mb-4`,children:[o.jsx(h0,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm font-semibold",children:IO(a[0]?.package_type)})]}),o.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:i.name}),o.jsxs("div",{className:"flex flex-wrap items-center gap-6 text-gray-300",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(fd,{className:"w-5 h-5 text-[#e51d1d]"}),o.jsx("span",{children:Ire(i.date)})]}),i.venue&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Vf,{className:"w-5 h-5 text-[#e51d1d]"}),o.jsx("span",{children:i.venue})]}),i.org_name&&o.jsxs("div",{className:"text-gray-400",children:["Organized by ",o.jsx("span",{className:"text-white font-semibold",children:i.org_name})]})]})]}),o.jsxs("div",{className:"flex items-center gap-4 mb-6 border-b border-white/10",children:[o.jsxs("button",{onClick:()=>l("photos"),className:`flex items-center gap-2 px-4 py-3 font-semibold transition-all ${u==="photos"?"text-[#e51d1d] border-b-2 border-[#e51d1d]":"text-gray-400 hover:text-white"}`,children:[o.jsx(p0,{className:"w-5 h-5"}),o.jsxs("span",{children:["Photos (",v.length,")"]})]}),o.jsxs("button",{onClick:()=>l("videos"),className:`flex items-center gap-2 px-4 py-3 font-semibold transition-all ${u==="videos"?"text-[#e51d1d] border-b-2 border-[#e51d1d]":"text-gray-400 hover:text-white"}`,children:[o.jsx(Im,{className:"w-5 h-5"}),o.jsxs("span",{children:["Videos (",y.length,")"]})]})]}),u==="photos"&&o.jsx(Kr.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:v.length===0?o.jsxs("div",{className:"bg-[#1a1a2e]/50 backdrop-blur-xl border border-white/10 rounded-xl p-12 text-center",children:[o.jsx(p0,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),o.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No photos available"}),o.jsx("p",{className:"text-gray-400",children:"Photos for this event will be added soon."})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"flex justify-end mb-4",children:o.jsxs("button",{onClick:()=>x("photos"),className:"flex items-center gap-2 bg-gradient-to-r from-[#e51d1d] to-red-600 text-white font-semibold px-6 py-3 rounded-lg hover:from-red-600 hover:to-[#e51d1d] transition-all",children:[o.jsx(Cp,{className:"w-5 h-5"}),"Download All Photos"]})}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:v.map((P,U)=>o.jsxs(Kr.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:U*.05},className:"group relative aspect-square rounded-lg overflow-hidden bg-[#1a1a2e]/50 border border-white/10 hover:border-[#e51d1d]/50 transition-all cursor-pointer",onClick:()=>E(U),children:[o.jsx("img",{src:P.thumbnail_url,alt:P.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex items-end p-4",children:o.jsx("p",{className:"text-white text-sm font-medium truncate",children:P.title})}),o.jsx("div",{className:"absolute top-2 right-2 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:o.jsx("a",{href:Q2(P.drive_url),download:!0,onClick:W=>W.stopPropagation(),className:"bg-black/50 backdrop-blur-sm p-2 rounded-lg hover:bg-[#e51d1d] transition-colors",children:o.jsx(Cp,{className:"w-4 h-4 text-white"})})})]},P.id))})]})}),u==="videos"&&o.jsx(Kr.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:y.length===0?o.jsxs("div",{className:"bg-[#1a1a2e]/50 backdrop-blur-xl border border-white/10 rounded-xl p-12 text-center",children:[o.jsx(Im,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),o.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No videos available"}),o.jsx("p",{className:"text-gray-400",children:"Videos for this event will be added soon."})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"flex justify-end mb-4",children:o.jsxs("button",{onClick:()=>x("videos"),className:"flex items-center gap-2 bg-gradient-to-r from-[#e51d1d] to-red-600 text-white font-semibold px-6 py-3 rounded-lg hover:from-red-600 hover:to-[#e51d1d] transition-all",children:[o.jsx(Cp,{className:"w-5 h-5"}),"Download All Videos"]})}),o.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:y.map((P,U)=>o.jsxs(Kr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:U*.1},className:"bg-[#1a1a2e]/50 backdrop-blur-xl border border-white/10 rounded-xl overflow-hidden hover:border-[#e51d1d]/50 transition-all",children:[o.jsxs("div",{className:"relative aspect-video bg-black group",children:[o.jsx("img",{src:P.thumbnail_url,alt:P.title,className:"w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/30 group-hover:bg-black/50 transition-colors",children:o.jsx("div",{className:"w-16 h-16 rounded-full bg-[#e51d1d]/80 backdrop-blur-sm flex items-center justify-center group-hover:scale-110 transition-transform",children:o.jsx(RR,{className:"w-8 h-8 text-white ml-1"})})}),P.duration&&o.jsx("div",{className:"absolute bottom-3 right-3 bg-black/80 backdrop-blur-sm px-2 py-1 rounded text-xs text-white font-medium",children:P.duration})]}),o.jsxs("div",{className:"p-5",children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:P.title}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsxs("a",{href:Q2(P.drive_url),download:!0,className:"flex items-center gap-2 bg-gradient-to-r from-[#e51d1d] to-red-600 text-white font-semibold px-4 py-2 rounded-lg hover:from-red-600 hover:to-[#e51d1d] transition-all text-sm",children:[o.jsx(Cp,{className:"w-4 h-4"}),"Download"]}),o.jsxs("button",{onClick:()=>w(P,"facebook"),className:"flex items-center gap-2 bg-blue-600/20 border border-blue-500/30 text-blue-400 font-medium px-4 py-2 rounded-lg hover:bg-blue-600/30 transition-all text-sm",children:[o.jsx(i_,{className:"w-4 h-4"}),"Share"]}),o.jsxs("button",{onClick:()=>w(P,"instagram"),className:"flex items-center gap-2 bg-pink-600/20 border border-pink-500/30 text-pink-400 font-medium px-4 py-2 rounded-lg hover:bg-pink-600/30 transition-all text-sm",children:[o.jsx(AN,{className:"w-4 h-4"}),"Copy Link"]})]})]})]},P.id))})]})}),o.jsx(Mv,{children:d&&v[A]&&o.jsxs(Kr.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/95 backdrop-blur-xl flex items-center justify-center p-4",onClick:T,children:[o.jsx("button",{onClick:T,className:"absolute top-4 right-4 p-2 rounded-lg bg-white/10 hover:bg-white/20 transition-colors z-10",children:o.jsx(Zv,{className:"w-6 h-6 text-white"})}),v.length>1&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:P=>{P.stopPropagation(),j()},className:"absolute left-4 p-3 rounded-lg bg-white/10 hover:bg-white/20 transition-colors z-10",children:o.jsx(zB,{className:"w-6 h-6 text-white"})}),o.jsx("button",{onClick:P=>{P.stopPropagation(),C()},className:"absolute right-4 p-3 rounded-lg bg-white/10 hover:bg-white/20 transition-colors z-10",children:o.jsx(vb,{className:"w-6 h-6 text-white"})})]}),o.jsx(Kr.img,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},src:v[A].drive_url,alt:v[A].title,className:"max-w-full max-h-full object-contain",onClick:P=>P.stopPropagation()},A),o.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-6",children:o.jsxs("div",{className:"max-w-4xl mx-auto flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-white font-semibold",children:v[A].title}),o.jsxs("p",{className:"text-gray-400 text-sm",children:[A+1," of ",v.length]})]}),o.jsxs("a",{href:Q2(v[A].drive_url),download:!0,onClick:P=>P.stopPropagation(),className:"flex items-center gap-2 bg-[#e51d1d] text-white font-semibold px-6 py-3 rounded-lg hover:bg-red-600 transition-all",children:[o.jsx(Cp,{className:"w-5 h-5"}),"Download"]})]})})]})})]})}function RDe(){const[t,e]=k.useState("upload"),[r,n]=k.useState([]),[i,s]=k.useState([]),[a,c]=k.useState(""),[u,l]=k.useState(""),[d,f]=k.useState("match"),[A,p]=k.useState([{type:"photo",title:"",drive_url:"",thumbnail_url:""}]),[v,y]=k.useState(!1),[x,w]=k.useState({name:"",date:"",venue:"",org_name:""});k.useEffect(()=>{E()},[]);const E=()=>{n(xDe()),s(bDe())},T=()=>{p([...A,{type:"photo",title:"",drive_url:"",thumbnail_url:""}])},C=q=>{p(A.filter((re,ie)=>ie!==q))},j=(q,re,ie)=>{const Ae=[...A];Ae[q][re]=ie,p(Ae)},P=()=>{if(!a||!u){alert("Please select both an athlete and an event");return}const q=A.filter(re=>re.drive_url.trim()!=="");if(q.length===0){alert("Please add at least one content item with a Drive URL");return}TDe(a,u,q,d),alert("Content assigned successfully!"),p([{type:"photo",title:"",drive_url:"",thumbnail_url:""}]),c(""),l(""),E()},U=()=>{if(!x.name||!x.date){alert("Please provide event name and date");return}EDe(x),w({name:"",date:"",venue:"",org_name:""}),y(!1),E()},W=q=>{const ie=q.split(`
`).filter(Ae=>Ae.trim()!=="").map(Ae=>({type:"photo",title:"",drive_url:Ae.trim(),thumbnail_url:Ae.trim()}));p([...A,...ie])};return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Content Manager"}),o.jsx("p",{className:"text-gray-400",children:"Manage athlete content and access"})]}),o.jsxs("div",{className:"flex items-center gap-4 border-b border-white/10",children:[o.jsxs("button",{onClick:()=>e("upload"),className:`flex items-center gap-2 px-4 py-3 font-semibold transition-all ${t==="upload"?"text-[#e51d1d] border-b-2 border-[#e51d1d]":"text-gray-400 hover:text-white"}`,children:[o.jsx(She,{className:"w-5 h-5"}),o.jsx("span",{children:"Upload Content"})]}),o.jsxs("button",{onClick:()=>e("athletes"),className:`flex items-center gap-2 px-4 py-3 font-semibold transition-all ${t==="athletes"?"text-[#e51d1d] border-b-2 border-[#e51d1d]":"text-gray-400 hover:text-white"}`,children:[o.jsx(Hb,{className:"w-5 h-5"}),o.jsx("span",{children:"Manage Athletes"})]}),o.jsxs("button",{onClick:()=>e("events"),className:`flex items-center gap-2 px-4 py-3 font-semibold transition-all ${t==="events"?"text-[#e51d1d] border-b-2 border-[#e51d1d]":"text-gray-400 hover:text-white"}`,children:[o.jsx(fd,{className:"w-5 h-5"}),o.jsx("span",{children:"Manage Events"})]})]}),t==="upload"&&o.jsxs(Kr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-[#1a1a2e]/50 backdrop-blur-xl border border-white/10 rounded-xl p-6",children:[o.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:"Assign Content to Athlete"}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Select Athlete"}),o.jsxs("select",{value:a,onChange:q=>c(q.target.value),className:"w-full bg-[#0d0d1a]/50 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-[#e51d1d]/50",children:[o.jsx("option",{value:"",children:"Choose an athlete..."}),r.map(q=>o.jsxs("option",{value:q.id,children:[q.name," - ",q.email]},q.id))]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Select Event"}),o.jsxs("button",{onClick:()=>y(!v),className:"text-sm text-[#e51d1d] hover:text-red-400 transition-colors flex items-center gap-1",children:[o.jsx(yb,{className:"w-4 h-4"}),"New Event"]})]}),v&&o.jsxs("div",{className:"bg-[#0d0d1a]/50 border border-white/10 rounded-lg p-4 mb-4 space-y-3",children:[o.jsx("input",{type:"text",placeholder:"Event name",value:x.name,onChange:q=>w({...x,name:q.target.value}),className:"w-full bg-[#1a1a2e]/50 border border-white/10 rounded px-3 py-2 text-white text-sm"}),o.jsx("input",{type:"date",value:x.date,onChange:q=>w({...x,date:q.target.value}),className:"w-full bg-[#1a1a2e]/50 border border-white/10 rounded px-3 py-2 text-white text-sm"}),o.jsx("input",{type:"text",placeholder:"Venue (optional)",value:x.venue,onChange:q=>w({...x,venue:q.target.value}),className:"w-full bg-[#1a1a2e]/50 border border-white/10 rounded px-3 py-2 text-white text-sm"}),o.jsx("input",{type:"text",placeholder:"Organization name (optional)",value:x.org_name,onChange:q=>w({...x,org_name:q.target.value}),className:"w-full bg-[#1a1a2e]/50 border border-white/10 rounded px-3 py-2 text-white text-sm"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:U,className:"flex-1 bg-[#e51d1d] text-white px-4 py-2 rounded text-sm font-medium hover:bg-red-600 transition-colors",children:"Create Event"}),o.jsx("button",{onClick:()=>y(!1),className:"px-4 py-2 text-gray-400 hover:text-white transition-colors text-sm",children:"Cancel"})]})]}),o.jsxs("select",{value:u,onChange:q=>l(q.target.value),className:"w-full bg-[#0d0d1a]/50 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-[#e51d1d]/50",children:[o.jsx("option",{value:"",children:"Choose an event..."}),i.map(q=>o.jsxs("option",{value:q.id,children:[q.name," - ",new Date(q.date).toLocaleDateString()]},q.id))]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Package Type"}),o.jsx("div",{className:"grid grid-cols-3 gap-4",children:["match","vip","season"].map(q=>o.jsx("button",{onClick:()=>f(q),className:`px-4 py-3 rounded-lg border-2 transition-all ${d===q?"border-[#e51d1d] bg-[#e51d1d]/20 text-white":"border-white/10 text-gray-400 hover:border-white/30"}`,children:q.charAt(0).toUpperCase()+q.slice(1)},q))})]}),o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Content Items"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:()=>{const q=prompt("Paste Google Drive URLs (one per line):");q&&W(q)},className:"text-sm text-[#e51d1d] hover:text-red-400 transition-colors flex items-center gap-1",children:[o.jsx(rY,{className:"w-4 h-4"}),"Batch Add URLs"]}),o.jsxs("button",{onClick:T,className:"text-sm text-[#e51d1d] hover:text-red-400 transition-colors flex items-center gap-1",children:[o.jsx(yb,{className:"w-4 h-4"}),"Add Row"]})]})]}),o.jsx("div",{className:"space-y-3",children:A.map((q,re)=>o.jsxs("div",{className:"grid grid-cols-12 gap-2 items-start",children:[o.jsxs("select",{value:q.type,onChange:ie=>j(re,"type",ie.target.value),className:"col-span-2 bg-[#0d0d1a]/50 border border-white/10 rounded px-3 py-2 text-white text-sm",children:[o.jsx("option",{value:"photo",children:"Photo"}),o.jsx("option",{value:"video",children:"Video"})]}),o.jsx("input",{type:"text",placeholder:"Title",value:q.title,onChange:ie=>j(re,"title",ie.target.value),className:"col-span-3 bg-[#0d0d1a]/50 border border-white/10 rounded px-3 py-2 text-white text-sm placeholder:text-gray-500"}),o.jsx("input",{type:"text",placeholder:"Google Drive URL",value:q.drive_url,onChange:ie=>j(re,"drive_url",ie.target.value),className:"col-span-6 bg-[#0d0d1a]/50 border border-white/10 rounded px-3 py-2 text-white text-sm placeholder:text-gray-500"}),o.jsx("button",{onClick:()=>C(re),className:"col-span-1 p-2 text-red-400 hover:text-red-300 transition-colors",children:o.jsx(Zv,{className:"w-4 h-4"})})]},re))})]}),o.jsxs("button",{onClick:P,className:"w-full bg-gradient-to-r from-[#e51d1d] to-red-600 text-white font-semibold py-3 rounded-lg hover:from-red-600 hover:to-[#e51d1d] transition-all flex items-center justify-center gap-2",children:[o.jsx(oY,{className:"w-5 h-5"}),"Grant Access & Save"]})]}),t==="athletes"&&o.jsx(Kr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-4",children:o.jsx("div",{className:"bg-[#1a1a2e]/50 backdrop-blur-xl border border-white/10 rounded-xl overflow-hidden",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-[#0d0d1a]/50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left p-4 text-gray-400 font-semibold",children:"Athlete"}),o.jsx("th",{className:"text-left p-4 text-gray-400 font-semibold",children:"Sport"}),o.jsx("th",{className:"text-center p-4 text-gray-400 font-semibold",children:"Events"}),o.jsx("th",{className:"text-center p-4 text-gray-400 font-semibold",children:"Photos"}),o.jsx("th",{className:"text-center p-4 text-gray-400 font-semibold",children:"Videos"}),o.jsx("th",{className:"text-left p-4 text-gray-400 font-semibold",children:"Contact"})]})}),o.jsx("tbody",{className:"divide-y divide-white/10",children:r.map(q=>{const re=jDe(q.id);return o.jsxs("tr",{className:"hover:bg-white/5 transition-colors",children:[o.jsx("td",{className:"p-4",children:o.jsxs("div",{children:[o.jsx("div",{className:"font-semibold text-white",children:q.name}),q.gym&&o.jsx("div",{className:"text-sm text-gray-400",children:q.gym})]})}),o.jsx("td",{className:"p-4 text-gray-300",children:q.sport}),o.jsx("td",{className:"text-center p-4 text-gray-300",children:re.totalEvents}),o.jsx("td",{className:"text-center p-4 text-green-400",children:re.totalPhotos}),o.jsx("td",{className:"text-center p-4 text-purple-400",children:re.totalVideos}),o.jsx("td",{className:"p-4 text-gray-400 text-sm",children:q.email})]},q.id)})})]})})}),t==="events"&&o.jsx(Kr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-4",children:i.map(q=>{const re=CDe(q.id),ie=[...new Set(re.map(Ae=>Ae.athlete_id))];return o.jsxs("div",{className:"bg-[#1a1a2e]/50 backdrop-blur-xl border border-white/10 rounded-xl p-6",children:[o.jsx("div",{className:"flex items-start justify-between mb-4",children:o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:q.name}),o.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400",children:[o.jsx("span",{children:new Date(q.date).toLocaleDateString()}),q.venue&&o.jsxs("span",{children:[" ",q.venue]}),q.org_name&&o.jsxs("span",{children:[" ",q.org_name]})]})]})}),o.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-4",children:[o.jsxs("div",{className:"bg-[#0d0d1a]/50 border border-white/10 rounded-lg p-4",children:[o.jsx("div",{className:"text-2xl font-bold text-white",children:ie.length}),o.jsx("div",{className:"text-sm text-gray-400",children:"Athletes"})]}),o.jsxs("div",{className:"bg-[#0d0d1a]/50 border border-white/10 rounded-lg p-4",children:[o.jsx("div",{className:"text-2xl font-bold text-green-400",children:re.filter(Ae=>Ae.type==="photo").length}),o.jsx("div",{className:"text-sm text-gray-400",children:"Photos"})]}),o.jsxs("div",{className:"bg-[#0d0d1a]/50 border border-white/10 rounded-lg p-4",children:[o.jsx("div",{className:"text-2xl font-bold text-purple-400",children:re.filter(Ae=>Ae.type==="video").length}),o.jsx("div",{className:"text-sm text-gray-400",children:"Videos"})]})]})]},q.id)})})]})}function DDe(){const[t,e]=k.useState([]),[r,n]=k.useState(null),[i,s]=k.useState([]),[a,c]=k.useState([]),[u,l]=k.useState([]),[d,f]=k.useState([]),[A,p]=k.useState([]),[v,y]=k.useState(!0),[x,w]=k.useState("events"),[E,T]=k.useState(!1),[C,j]=k.useState(null),[P,U]=k.useState(null),[W,q]=k.useState({}),[re,ie]=k.useState(null),[Ae,be]=k.useState([]);k.useEffect(()=>{Ee()},[]),k.useEffect(()=>{r&&ge(r.id)},[r]);async function Ee(){y(!0);const{data:ye}=await Jr.from("organizations").select("*").order("name");e(ye||[]),y(!1)}async function ge(ye){const[Le,He,Fe]=await Promise.all([Jr.from("events").select("*").eq("organization_id",ye).order("date",{ascending:!0}),Jr.from("packages").select("*").eq("organization_id",ye).order("sort_order"),Jr.from("content_orders").select("*, events(name), packages(name)").eq("organization_id",ye).order("created_at",{ascending:!1}).limit(50)]);s(Le.data||[]),c(He.data||[]),p(Fe.data||[]);const At=(Le.data||[]).map(pt=>pt.id);if(At.length>0){const[pt,Pe]=await Promise.all([Jr.from("division_categories").select("*").in("event_id",At).order("sort_order"),Jr.from("division_subdivisions").select("*").order("sort_order")]);l(pt.data||[]);const st=(pt.data||[]).map(et=>et.id);f((Pe.data||[]).filter(et=>st.includes(et.category_id)))}else l([]),f([])}function se(ye){return u.filter(Le=>Le.event_id===ye)}function xe(ye){return d.filter(Le=>Le.category_id===ye)}function ce(ye,Le=null,He=null){j(ye),U(Le),ye==="org"?q(Le||{name:"",slug:"",description:"",logo_url:"",active:!0}):ye==="event"?q(Le||{organization_id:r?.id,name:"",date:"",location:"",status:"upcoming",active:!0}):ye==="package"?q(Le||{organization_id:r?.id,name:"",description:"",price:"",sort_order:0,active:!0}):ye==="division-cat"?q(Le||{event_id:He||re,name:"",sort_order:0,active:!0}):ye==="division-sub"&&q(Le||{category_id:He,name:"",sort_order:0,active:!0}),T(!0)}async function Me(){try{if(C==="org")P?.id?await Jr.from("organizations").update(W).eq("id",P.id):await Jr.from("organizations").insert(W),Ee();else if(C==="event"){const ye={...W,organization_id:r.id};P?.id?await Jr.from("events").update(ye).eq("id",P.id):await Jr.from("events").insert(ye),ge(r.id)}else if(C==="package"){const ye={...W,organization_id:r.id,price:parseFloat(W.price)};P?.id?await Jr.from("packages").update(ye).eq("id",P.id):await Jr.from("packages").insert(ye),ge(r.id)}else C==="division-cat"?(P?.id?await Jr.from("division_categories").update(W).eq("id",P.id):await Jr.from("division_categories").insert(W),ge(r.id)):C==="division-sub"&&(P?.id?await Jr.from("division_subdivisions").update(W).eq("id",P.id):await Jr.from("division_subdivisions").insert(W),ge(r.id));T(!1)}catch(ye){console.error("Save error:",ye),alert("Error saving. Check console.")}}async function Oe(ye,Le){if(!confirm("Are you sure you want to delete this item?"))return;const{error:He}=await Jr.from(ye).delete().eq("id",Le);if(He){console.error("Delete error:",He),alert(`Failed to delete: ${He.message}`);return}ye==="organizations"?(Ee(),r?.id===Le&&n(null)):ge(r.id)}async function we(ye,Le,He){await Jr.from(ye).update({active:!He}).eq("id",Le),ye==="organizations"?Ee():ge(r.id)}if(v)return o.jsx("div",{className:"p-8 text-gray-400",children:"Loading..."});if(!r)return o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold",children:"Content Management"}),o.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Select an organization to manage its events, packages, and divisions"})]}),o.jsx("button",{onClick:()=>ce("org"),className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg text-sm font-medium",children:"+ Add Organization"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(ye=>o.jsxs("div",{onClick:()=>n(ye),className:"bg-gray-900/50 rounded-xl border border-gray-800 p-6 cursor-pointer hover:border-red-500/50 hover:bg-gray-900/80 transition-all group",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[ye.logo_url?o.jsx("img",{src:ye.logo_url,alt:ye.name,className:"w-12 h-12 rounded-lg object-cover"}):o.jsx("div",{className:"w-12 h-12 rounded-lg bg-gradient-to-br from-red-600 to-red-800 flex items-center justify-center text-xl font-bold",children:ye.name.charAt(0)}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-lg group-hover:text-red-400 transition-colors",children:ye.name}),o.jsxs("p",{className:"text-xs text-gray-500",children:["/",ye.slug]})]})]}),!ye.active&&o.jsx("span",{className:"text-xs bg-gray-700 px-2 py-1 rounded",children:"Inactive"})]}),ye.description&&o.jsx("p",{className:"text-sm text-gray-400 line-clamp-2",children:ye.description}),o.jsxs("div",{className:"mt-4 flex gap-2",children:[o.jsx("button",{onClick:Le=>{Le.stopPropagation(),ce("org",ye)},className:"text-xs text-blue-400 hover:text-blue-300",children:"Edit"}),o.jsx("button",{onClick:Le=>{Le.stopPropagation(),we("organizations",ye.id,ye.active)},className:"text-xs text-gray-400 hover:text-white",children:ye.active?"Deactivate":"Activate"})]})]},ye.id))}),E&&ue()]});return o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[o.jsx("button",{onClick:()=>n(null),className:"text-gray-400 hover:text-white transition-colors",children:" Back"}),o.jsxs("div",{className:"flex items-center gap-3",children:[r.logo_url?o.jsx("img",{src:r.logo_url,alt:r.name,className:"w-10 h-10 rounded-lg object-cover"}):o.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-red-600 to-red-800 flex items-center justify-center text-lg font-bold",children:r.name.charAt(0)}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold",children:r.name}),o.jsxs("p",{className:"text-xs text-gray-500",children:["/",r.slug]})]})]})]}),o.jsx("div",{className:"flex gap-2 mb-6 border-b border-gray-700 pb-2",children:["events","packages","divisions","orders"].map(ye=>o.jsxs("button",{onClick:()=>w(ye),className:`px-4 py-2 rounded-t-lg capitalize transition-colors ${x===ye?"bg-red-600 text-white":"text-gray-400 hover:text-white"}`,children:[ye," ",ye==="events"&&`(${i.length})`,ye==="packages"&&`(${a.length})`,ye==="orders"&&`(${A.length})`]},ye))}),x==="events"&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"Upcoming Events"}),o.jsx("button",{onClick:()=>ce("event"),className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg text-sm",children:"+ Add Event"})]}),i.length===0?o.jsx("div",{className:"bg-gray-900/50 rounded-xl border border-gray-800 p-8 text-center text-gray-400",children:"No events yet. Add one to get started."}):o.jsx("div",{className:"bg-gray-900/50 rounded-xl border border-gray-800 overflow-hidden",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-gray-800",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left p-3",children:"Event Name"}),o.jsx("th",{className:"text-left p-3",children:"Date"}),o.jsx("th",{className:"text-left p-3",children:"Location"}),o.jsx("th",{className:"text-center p-3",children:"Status"}),o.jsx("th",{className:"text-center p-3",children:"Active"}),o.jsx("th",{className:"text-right p-3",children:"Actions"})]})}),o.jsx("tbody",{children:i.map(ye=>o.jsxs("tr",{className:"border-t border-gray-800",children:[o.jsx("td",{className:"p-3 font-medium",children:ye.name}),o.jsx("td",{className:"p-3 text-gray-400",children:ye.date&&new Date(ye.date).toLocaleDateString("en-AU",{weekday:"short",day:"numeric",month:"short",year:"numeric"})}),o.jsx("td",{className:"p-3 text-gray-400",children:ye.location}),o.jsx("td",{className:"p-3 text-center",children:o.jsx("span",{className:`px-2 py-1 rounded text-xs ${ye.status==="upcoming"?"bg-blue-600":ye.status==="active"?"bg-green-600":"bg-gray-600"}`,children:ye.status})}),o.jsx("td",{className:"p-3 text-center",children:o.jsx("button",{onClick:()=>we("events",ye.id,ye.active),className:`px-2 py-1 rounded text-xs ${ye.active?"bg-green-600":"bg-gray-600"}`,children:ye.active?"Yes":"No"})}),o.jsxs("td",{className:"p-3 text-right space-x-2",children:[o.jsx("button",{onClick:()=>ce("event",ye),className:"text-blue-400 hover:text-blue-300",children:"Edit"}),o.jsx("button",{onClick:()=>Oe("events",ye.id),className:"text-red-400 hover:text-red-300",children:"Delete"})]})]},ye.id))})]})})]}),x==="packages"&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"Content Packages"}),o.jsx("button",{onClick:()=>ce("package"),className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg text-sm",children:"+ Add Package"})]}),a.length===0?o.jsx("div",{className:"bg-gray-900/50 rounded-xl border border-gray-800 p-8 text-center text-gray-400",children:"No packages yet. Add one to get started."}):o.jsx("div",{className:"bg-gray-900/50 rounded-xl border border-gray-800 overflow-hidden",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-gray-800",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left p-3",children:"Package Name"}),o.jsx("th",{className:"text-left p-3",children:"Description"}),o.jsx("th",{className:"text-right p-3",children:"Price"}),o.jsx("th",{className:"text-center p-3",children:"Active"}),o.jsx("th",{className:"text-right p-3",children:"Actions"})]})}),o.jsx("tbody",{children:a.map(ye=>o.jsxs("tr",{className:"border-t border-gray-800",children:[o.jsx("td",{className:"p-3 font-medium",children:ye.name}),o.jsx("td",{className:"p-3 text-gray-400 truncate max-w-xs",children:ye.description}),o.jsxs("td",{className:"p-3 text-right font-semibold text-green-400",children:["$",ye.price]}),o.jsx("td",{className:"p-3 text-center",children:o.jsx("button",{onClick:()=>we("packages",ye.id,ye.active),className:`px-2 py-1 rounded text-xs ${ye.active?"bg-green-600":"bg-gray-600"}`,children:ye.active?"Yes":"No"})}),o.jsxs("td",{className:"p-3 text-right space-x-2",children:[o.jsx("button",{onClick:()=>ce("package",ye),className:"text-blue-400 hover:text-blue-300",children:"Edit"}),o.jsx("button",{onClick:()=>Oe("packages",ye.id),className:"text-red-400 hover:text-red-300",children:"Delete"})]})]},ye.id))})]})})]}),x==="divisions"&&o.jsx("div",{children:o.jsxs("div",{className:"mb-6",children:[o.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Divisions by Event"}),o.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Select an event to manage its division categories and subdivisions"}),i.length===0?o.jsx("div",{className:"bg-gray-900/50 rounded-xl border border-gray-800 p-8 text-center text-gray-400",children:"Add events first, then you can manage their divisions."}):o.jsxs(o.Fragment,{children:[o.jsxs("select",{value:re||"",onChange:ye=>ie(ye.target.value),className:"w-full max-w-md px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg",children:[o.jsx("option",{value:"",children:"Select an event..."}),i.map(ye=>o.jsxs("option",{value:ye.id,children:[ye.name," (",ye.date&&new Date(ye.date).toLocaleDateString("en-AU"),")"]},ye.id))]}),re&&o.jsxs("div",{className:"mt-6 space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("h3",{className:"text-lg font-semibold",children:["Division Categories (",se(re).length,")"]}),o.jsx("button",{onClick:()=>ce("division-cat",null,re),className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg text-sm",children:"+ Add Category"})]}),se(re).length===0?o.jsx("div",{className:"bg-gray-900/50 rounded-xl border border-gray-800 p-8 text-center text-gray-400",children:"No division categories for this event yet."}):o.jsx("div",{className:"space-y-3",children:se(re).map(ye=>o.jsxs("div",{className:"bg-gray-900/50 rounded-xl border border-gray-800 overflow-hidden",children:[o.jsxs("div",{className:"p-4 flex justify-between items-center bg-gray-800/50",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{onClick:()=>be(Le=>Le.includes(ye.id)?Le.filter(He=>He!==ye.id):[...Le,ye.id]),className:"text-gray-400 hover:text-white",children:o.jsx("svg",{className:`w-5 h-5 transition-transform ${Ae.includes(ye.id)?"rotate-90":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),o.jsx("span",{className:"font-semibold",children:ye.name}),o.jsxs("span",{className:"text-xs text-gray-400",children:["(",xe(ye.id).length," subdivisions)"]}),!ye.active&&o.jsx("span",{className:"text-xs bg-gray-600 px-2 py-0.5 rounded",children:"Inactive"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>ce("division-cat",ye),className:"text-blue-400 hover:text-blue-300 text-sm",children:"Edit"}),o.jsx("button",{onClick:()=>Oe("division_categories",ye.id),className:"text-red-400 hover:text-red-300 text-sm",children:"Delete"})]})]}),Ae.includes(ye.id)&&o.jsxs("div",{className:"p-4 border-t border-gray-700",children:[o.jsxs("div",{className:"flex justify-between items-center mb-3",children:[o.jsx("span",{className:"text-sm text-gray-400",children:"Subdivisions:"}),o.jsx("button",{onClick:()=>ce("division-sub",null,ye.id),className:"text-sm text-green-400 hover:text-green-300",children:"+ Add Subdivision"})]}),xe(ye.id).length===0?o.jsx("p",{className:"text-sm text-gray-500 italic",children:"No subdivisions yet"}):o.jsx("div",{className:"flex flex-wrap gap-2",children:xe(ye.id).map(Le=>o.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-lg border text-sm ${Le.active?"bg-gray-800 border-gray-600":"bg-gray-900 border-gray-700 opacity-50"}`,children:[o.jsx("span",{children:Le.name}),o.jsx("button",{onClick:()=>ce("division-sub",Le,ye.id),className:"text-blue-400 hover:text-blue-300",children:""}),o.jsx("button",{onClick:()=>Oe("division_subdivisions",Le.id),className:"text-red-400 hover:text-red-300",children:""})]},Le.id))})]})]},ye.id))}),r.slug==="nba"&&o.jsxs("div",{className:"mt-6 p-4 bg-blue-900/20 border border-blue-800 rounded-xl",children:[o.jsx("h4",{className:"font-semibold text-blue-400 mb-2",children:"Quick Add: Standard NBA Divisions"}),o.jsx("p",{className:"text-sm text-gray-400 mb-3",children:"Add all standard NBA bodybuilding divisions for this event"}),o.jsx("button",{onClick:async ye=>{const Le=ye.target,He=Le.innerText;if(!re){alert("Please select an event first");return}if(window.confirm("Add all standard NBA divisions to this event?")){Le.disabled=!0,Le.innerText="Adding divisions...";try{const Fe={"Men's Physique":["Novice","Open","Masters 40+","Masters 50+","Junior"],"Classic Physique":["Novice","Open","Masters 40+","Masters 50+"],Bodybuilding:["Novice","Open","Masters 40+","Masters 50+","Junior"],Figure:["Novice","Open","Masters 35+","Masters 45+","Junior"],Bikini:["Novice","Open","Masters 35+","Masters 45+","Junior"],Wellness:["Novice","Open","Masters 35+","Masters 45+"],"Fitness Model":["Open","Masters"],"Sports Model":["Open","Masters"],Transformation:["Open"]};let At=0,pt=0;for(const[Pe,st]of Object.entries(Fe)){const{data:et,error:We}=await Jr.from("division_categories").insert({event_id:re,name:Pe,sort_order:At++,active:!0}).select().single();if(We){console.error("Error adding category:",Pe,We);continue}if(et){pt++;let gt=0;for(const Ge of st){const{error:Ct}=await Jr.from("division_subdivisions").insert({category_id:et.id,name:Ge,sort_order:gt++,active:!0});Ct&&console.error("Error adding subdivision:",Ge,Ct)}}}alert(`Added ${pt} division categories with subdivisions!`),await ge(r.id)}catch(Fe){console.error("Error adding divisions:",Fe),alert("Error adding divisions: "+Fe.message)}finally{Le.disabled=!1,Le.innerText=He}}},className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg text-sm disabled:opacity-50",children:"Add Standard NBA Divisions"})]})]})]})]})}),x==="orders"&&o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Recent Orders"}),o.jsx("div",{className:"bg-gray-900/50 rounded-xl border border-gray-800 overflow-hidden",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-gray-800",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left p-3",children:"Date"}),o.jsx("th",{className:"text-left p-3",children:"Athlete"}),o.jsx("th",{className:"text-left p-3",children:"Email"}),o.jsx("th",{className:"text-left p-3",children:"Event"}),o.jsx("th",{className:"text-left p-3",children:"Package"}),o.jsx("th",{className:"text-right p-3",children:"Amount"}),o.jsx("th",{className:"text-center p-3",children:"Status"})]})}),o.jsx("tbody",{children:A.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:"7",className:"p-8 text-center text-gray-400",children:"No orders yet"})}):A.map(ye=>o.jsxs("tr",{className:"border-t border-gray-800",children:[o.jsx("td",{className:"p-3 text-gray-400",children:new Date(ye.created_at).toLocaleDateString("en-AU")}),o.jsxs("td",{className:"p-3 font-medium",children:[ye.first_name," ",ye.last_name]}),o.jsx("td",{className:"p-3 text-gray-400",children:ye.email}),o.jsx("td",{className:"p-3 text-gray-400",children:ye.events?.name}),o.jsx("td",{className:"p-3 text-gray-400",children:ye.packages?.name}),o.jsxs("td",{className:"p-3 text-right font-semibold",children:["$",ye.amount]}),o.jsx("td",{className:"p-3 text-center",children:o.jsx("span",{className:`px-2 py-1 rounded text-xs ${ye.status==="paid"?"bg-green-600":ye.status==="delivered"?"bg-blue-600":ye.status==="pending"?"bg-yellow-600":"bg-gray-600"}`,children:ye.status})})]},ye.id))})]})})]}),E&&ue()]});function ue(){return o.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-gray-900 rounded-xl border border-gray-700 p-6 w-full max-w-md",children:[o.jsxs("h3",{className:"text-lg font-semibold mb-4",children:[P?"Edit":"Add"," ",C==="org"?"Organization":C==="event"?"Event":C==="package"?"Package":C==="division-cat"?"Division Category":C==="division-sub"?"Subdivision":""]}),o.jsxs("div",{className:"space-y-4",children:[C==="org"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Name"}),o.jsx("input",{type:"text",value:W.name||"",onChange:ye=>q({...W,name:ye.target.value}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Slug (URL-friendly)"}),o.jsx("input",{type:"text",value:W.slug||"",onChange:ye=>q({...W,slug:ye.target.value.toLowerCase().replace(/\s+/g,"-")}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Logo URL"}),o.jsx("input",{type:"text",value:W.logo_url||"",onChange:ye=>q({...W,logo_url:ye.target.value}),placeholder:"https://...",className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Description"}),o.jsx("textarea",{value:W.description||"",onChange:ye=>q({...W,description:ye.target.value}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg",rows:3})]})]}),C==="event"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Event Name"}),o.jsx("input",{type:"text",value:W.name||"",onChange:ye=>q({...W,name:ye.target.value}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Date"}),o.jsx("input",{type:"date",value:W.date||"",onChange:ye=>q({...W,date:ye.target.value}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Location"}),o.jsx("input",{type:"text",value:W.location||"",onChange:ye=>q({...W,location:ye.target.value}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Status"}),o.jsxs("select",{value:W.status||"upcoming",onChange:ye=>q({...W,status:ye.target.value}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg",children:[o.jsx("option",{value:"upcoming",children:"Upcoming"}),o.jsx("option",{value:"active",children:"Active"}),o.jsx("option",{value:"completed",children:"Completed"})]})]})]}),C==="package"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Package Name"}),o.jsx("input",{type:"text",value:W.name||"",onChange:ye=>q({...W,name:ye.target.value}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Description"}),o.jsx("input",{type:"text",value:W.description||"",onChange:ye=>q({...W,description:ye.target.value}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Price (AUD)"}),o.jsx("input",{type:"number",value:W.price||"",onChange:ye=>q({...W,price:ye.target.value}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Sort Order"}),o.jsx("input",{type:"number",value:W.sort_order||0,onChange:ye=>q({...W,sort_order:parseInt(ye.target.value)}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg"})]})]})]}),C==="division-cat"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Category Name"}),o.jsx("input",{type:"text",value:W.name||"",onChange:ye=>q({...W,name:ye.target.value}),placeholder:"e.g., Men's Physique, Bikini, Figure",className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Sort Order"}),o.jsx("input",{type:"number",value:W.sort_order||0,onChange:ye=>q({...W,sort_order:parseInt(ye.target.value)}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg"})]})]}),C==="division-sub"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Subdivision Name"}),o.jsx("input",{type:"text",value:W.name||"",onChange:ye=>q({...W,name:ye.target.value}),placeholder:"e.g., Novice, Open, Masters 40+",className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Sort Order"}),o.jsx("input",{type:"number",value:W.sort_order||0,onChange:ye=>q({...W,sort_order:parseInt(ye.target.value)}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg"})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",id:"active",checked:W.active??!0,onChange:ye=>q({...W,active:ye.target.checked}),className:"rounded"}),o.jsx("label",{htmlFor:"active",className:"text-sm text-gray-400",children:"Active"})]})]}),o.jsxs("div",{className:"flex gap-3 mt-6",children:[o.jsx("button",{onClick:()=>T(!1),className:"flex-1 py-2 border border-gray-600 rounded-lg hover:bg-gray-800",children:"Cancel"}),o.jsx("button",{onClick:Me,className:"flex-1 py-2 bg-red-600 hover:bg-red-700 rounded-lg",children:"Save"})]})]})})}}function MDe(){const[t,e]=k.useState([]),[r,n]=k.useState([]),[i,s]=k.useState([]),[a,c]=k.useState([]),[u,l]=k.useState(!0),[d,f]=k.useState("all"),[A,p]=k.useState("all"),[v,y]=k.useState(""),[x,w]=k.useState(""),[E,T]=k.useState(""),[C,j]=k.useState(null);k.useEffect(()=>{P()},[]);async function P(){l(!0);const{data:Ee}=await Jr.from("organizations").select("*").order("name");n(Ee||[]);const{data:ge}=await Jr.from("events").select("*").order("date",{ascending:!1});s(ge||[]);const{data:se}=await Jr.from("packages").select("*").order("name");c(se||[]);const{data:xe}=await Jr.from("content_orders").select("*").order("created_at",{ascending:!1});e(xe||[]),l(!1)}async function U(Ee){const{error:ge}=await Jr.from("content_orders").update({status:"delivered",delivered_at:new Date().toISOString()}).eq("id",Ee);ge?alert("Failed to update order status"):P()}function W(Ee){return r.find(ge=>ge.id===Ee)?.name||"Unknown"}function q(Ee){return i.find(ge=>ge.id===Ee)?.name||"Unknown"}function re(Ee){return a.find(ge=>ge.id===Ee)?.name||"Unknown"}const ie=t.filter(Ee=>{if(d!=="all"&&Ee.organization_id!==d||A!=="all"&&Ee.status!==A||v&&new Date(Ee.created_at)<new Date(v)||x&&new Date(Ee.created_at)>new Date(x+"T23:59:59"))return!1;if(E){const ge=E.toLowerCase(),se=`${Ee.first_name} ${Ee.last_name}`.toLowerCase(),xe=Ee.email?.toLowerCase()||"",ce=Ee.phone?.toLowerCase()||"";if(!se.includes(ge)&&!xe.includes(ge)&&!ce.includes(ge))return!1}return!0}),Ae=ie.filter(Ee=>Ee.status==="paid"||Ee.status==="delivered").reduce((Ee,ge)=>Ee+(parseFloat(ge.amount)||0),0);function be(){const Ee=["Date","Customer","Email","Phone","Organization","Event","Package","Amount","Status"],ge=ie.map(Oe=>[new Date(Oe.created_at).toLocaleDateString(),`${Oe.first_name} ${Oe.last_name}`,Oe.email,Oe.phone||"",W(Oe.organization_id),q(Oe.event_id),re(Oe.package_id),Oe.amount,Oe.status]),se=[Ee,...ge].map(Oe=>Oe.join(",")).join(`
`),xe=new Blob([se],{type:"text/csv"}),ce=URL.createObjectURL(xe),Me=document.createElement("a");Me.href=ce,Me.download=`orders-${new Date().toISOString().split("T")[0]}.csv`,Me.click()}return u?o.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center",children:o.jsx("div",{className:"text-gray-400",children:"Loading orders..."})}):o.jsxs("div",{className:"min-h-screen bg-black text-white p-6",children:[o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"flex justify-between items-center mb-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Order Management"}),o.jsxs("p",{className:"text-gray-400 mt-1",children:[ie.length," orders  $",Ae.toFixed(2)," AUD revenue"]})]}),o.jsxs("button",{onClick:be,className:"px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg hover:bg-gray-700 flex items-center gap-2",children:[o.jsx("span",{children:""}),"Export CSV"]})]}),o.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 mb-6 border border-gray-800",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Filters"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Organization"}),o.jsxs("select",{value:d,onChange:Ee=>f(Ee.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg",children:[o.jsx("option",{value:"all",children:"All Organizations"}),r.map(Ee=>o.jsx("option",{value:Ee.id,children:Ee.name},Ee.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Status"}),o.jsxs("select",{value:A,onChange:Ee=>p(Ee.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg",children:[o.jsx("option",{value:"all",children:"All Statuses"}),o.jsx("option",{value:"pending",children:"Pending"}),o.jsx("option",{value:"paid",children:"Paid"}),o.jsx("option",{value:"processing",children:"Processing"}),o.jsx("option",{value:"delivered",children:"Delivered"}),o.jsx("option",{value:"refunded",children:"Refunded"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"From Date"}),o.jsx("input",{type:"date",value:v,onChange:Ee=>y(Ee.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"To Date"}),o.jsx("input",{type:"date",value:x,onChange:Ee=>w(Ee.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg"})]})]}),o.jsxs("div",{className:"mt-4",children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Search (Name, Email, Phone)"}),o.jsx("input",{type:"text",value:E,onChange:Ee=>T(Ee.target.value),placeholder:"Search orders...",className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg"})]})]}),o.jsx("div",{className:"bg-gray-900 rounded-lg overflow-hidden border border-gray-800",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-800",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left p-4 text-sm font-semibold",children:"Date"}),o.jsx("th",{className:"text-left p-4 text-sm font-semibold",children:"Customer"}),o.jsx("th",{className:"text-left p-4 text-sm font-semibold",children:"Organization"}),o.jsx("th",{className:"text-left p-4 text-sm font-semibold",children:"Event"}),o.jsx("th",{className:"text-left p-4 text-sm font-semibold",children:"Package"}),o.jsx("th",{className:"text-right p-4 text-sm font-semibold",children:"Amount"}),o.jsx("th",{className:"text-center p-4 text-sm font-semibold",children:"Status"}),o.jsx("th",{className:"text-center p-4 text-sm font-semibold",children:"Actions"})]})}),o.jsx("tbody",{children:ie.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:"8",className:"text-center p-8 text-gray-500",children:"No orders found"})}):ie.map(Ee=>o.jsxs("tr",{className:"border-t border-gray-800 hover:bg-gray-800/50",children:[o.jsxs("td",{className:"p-4 text-sm",children:[new Date(Ee.created_at).toLocaleDateString(),o.jsx("div",{className:"text-xs text-gray-500",children:new Date(Ee.created_at).toLocaleTimeString()})]}),o.jsxs("td",{className:"p-4",children:[o.jsxs("div",{className:"font-medium",children:[Ee.first_name," ",Ee.last_name]}),o.jsx("div",{className:"text-sm text-gray-400",children:Ee.email}),Ee.phone&&o.jsx("div",{className:"text-xs text-gray-500",children:Ee.phone})]}),o.jsx("td",{className:"p-4 text-sm",children:W(Ee.organization_id)}),o.jsx("td",{className:"p-4 text-sm",children:q(Ee.event_id)}),o.jsx("td",{className:"p-4 text-sm",children:re(Ee.package_id)}),o.jsxs("td",{className:"p-4 text-right font-semibold",children:["$",Ee.amount]}),o.jsx("td",{className:"p-4 text-center",children:o.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-medium ${Ee.status==="delivered"?"bg-green-500/20 text-green-400":Ee.status==="paid"?"bg-blue-500/20 text-blue-400":Ee.status==="processing"?"bg-yellow-500/20 text-yellow-400":Ee.status==="refunded"?"bg-red-500/20 text-red-400":"bg-gray-500/20 text-gray-400"}`,children:Ee.status})}),o.jsxs("td",{className:"p-4 text-center",children:[o.jsx("button",{onClick:()=>j(Ee),className:"text-blue-400 hover:text-blue-300 text-sm mr-3",children:"View"}),Ee.status==="paid"&&o.jsx("button",{onClick:()=>U(Ee.id),className:"text-green-400 hover:text-green-300 text-sm",children:"Mark Delivered"})]})]},Ee.id))})]})})]}),C&&o.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",onClick:()=>j(null),children:o.jsxs("div",{className:"bg-gray-900 rounded-lg max-w-2xl w-full p-6 border border-gray-800",onClick:Ee=>Ee.stopPropagation(),children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold",children:"Order Details"}),o.jsx("button",{onClick:()=>j(null),className:"text-gray-400 hover:text-white",children:""})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4",children:[o.jsx("h3",{className:"font-semibold mb-3 text-red-500",children:"Customer Information"}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-400",children:"Name:"}),o.jsxs("div",{className:"font-medium",children:[C.first_name," ",C.last_name]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-400",children:"Email:"}),o.jsx("div",{className:"font-medium",children:C.email})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-400",children:"Phone:"}),o.jsx("div",{className:"font-medium",children:C.phone||"N/A"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-400",children:"Instagram:"}),o.jsxs("div",{className:"font-medium",children:["@",C.instagram||"N/A"]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-400",children:"Division:"}),o.jsx("div",{className:"font-medium",children:C.division||"N/A"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-400",children:"Coach:"}),o.jsxs("div",{className:"font-medium",children:[C.coach_name||"N/A"," (@",C.coach_instagram||"N/A",")"]})]})]})]}),o.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4",children:[o.jsx("h3",{className:"font-semibold mb-3 text-red-500",children:"Order Information"}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-400",children:"Organization:"}),o.jsx("div",{className:"font-medium",children:W(C.organization_id)})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-400",children:"Event:"}),o.jsx("div",{className:"font-medium",children:q(C.event_id)})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-400",children:"Package:"}),o.jsx("div",{className:"font-medium",children:re(C.package_id)})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-400",children:"Amount:"}),o.jsxs("div",{className:"font-medium text-lg",children:["$",C.amount," ",C.currency]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-400",children:"Status:"}),o.jsx("div",{className:"font-medium",children:C.status})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-400",children:"Order Date:"}),o.jsx("div",{className:"font-medium",children:new Date(C.created_at).toLocaleString()})]}),C.paid_at&&o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-400",children:"Paid At:"}),o.jsx("div",{className:"font-medium",children:new Date(C.paid_at).toLocaleString()})]}),C.delivered_at&&o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-400",children:"Delivered At:"}),o.jsx("div",{className:"font-medium",children:new Date(C.delivered_at).toLocaleString()})]})]})]}),o.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4",children:[o.jsx("h3",{className:"font-semibold mb-3 text-red-500",children:"Payment Information"}),o.jsxs("div",{className:"text-sm space-y-2",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-400",children:"Stripe Session ID:"}),o.jsx("div",{className:"font-mono text-xs break-all",children:C.stripe_session_id})]}),C.stripe_payment_id&&o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-400",children:"Payment Intent ID:"}),o.jsx("div",{className:"font-mono text-xs break-all",children:C.stripe_payment_id})]})]})]}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[C.status==="paid"&&o.jsx("button",{onClick:()=>{U(C.id),j(null)},className:"flex-1 px-4 py-2 bg-green-600 hover:bg-green-700 rounded-lg font-medium",children:"Mark as Delivered"}),o.jsx("button",{onClick:()=>j(null),className:"flex-1 px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg font-medium",children:"Close"})]})]})]})})]})}const FDe={1:1,2:1.8,3:2.4,4:2.9},UDe={1:"Base rate",2:"+80% for 2nd person",3:"+60% for 3rd person",4:"+50% for 4th person"},gz=[{id:"teleprompter",name:"Teleprompter",price:150},{id:"drone",name:"Drone Footage",price:300,perDay:!0},{id:"music",name:"Licensed Music",price:75},{id:"script",name:"Script Writing",price:250},{id:"skin",name:"Skin Smoothing",price:100},{id:"rush",name:"Rush Delivery",price:0,multiplier:1.5},{id:"revisions",name:"Extra Revisions",price:150,note:"3 rounds"}],vz=[{id:"horizontal",name:"Horizontal (16:9)",icon:""},{id:"vertical",name:"Vertical (9:16)",icon:""},{id:"square",name:"Square (1:1)",icon:""}];function $De(){const[t,e]=k.useState(1e3),[r,n]=k.useState(2),[i,s]=k.useState(1),[a,c]=k.useState(4),[u,l]=k.useState(0),[d,f]=k.useState([{id:1,name:"Main Video",length:2,format:"horizontal"}]),[A,p]=k.useState(500),[v,y]=k.useState(300),[x,w]=k.useState(200),[E,T]=k.useState("none"),[C,j]=k.useState(0),[P,U]=k.useState({}),[W,q]=k.useState({}),re=()=>{const se=Math.max(...d.map(xe=>xe.id),0)+1;f([...d,{id:se,name:`Video ${se}`,length:1,format:"horizontal"}])},ie=se=>{d.length>1&&f(d.filter(xe=>xe.id!==se))},Ae=(se,xe,ce)=>{f(d.map(Me=>Me.id===se?{...Me,[xe]:ce}:Me))},be=k.useCallback(()=>{const se=t*.4,xe=t*.6/7,ce=Math.max(0,a-1),Me=se+ce*xe,Oe=FDe[r],ue=Me*Oe*i,ye=u*2,Le=Math.ceil(ye/50)*50,He=u>0?Le:0;let Fe=0;const At=d.map((Et,Ut)=>{const ir=Ut===0?A:v,on=Math.max(0,Et.length-1)*x,kr=ir+on;return Fe+=kr,{...Et,cost:kr}});let pt=0,Pe=[],st=1;Object.entries(P).forEach(([Et,Ut])=>{if(!Ut)return;const ir=gz.find(on=>on.id===Et);if(ir){if(ir.multiplier)st=ir.multiplier,Pe.push("Rush (+50%)");else if(ir.price>0){const on=ir.perDay?ir.price*i:ir.price;pt+=on,Pe.push(ir.name)}}});let et=(ue+He+Fe+pt)*st,We=0;E==="percent"&&C>0?We=et*(C/100):E==="fixed"&&C>0&&(We=C);const gt=et-We,Ge=gt/1.1,Ct=gt-Ge;q({baseRate:Math.round(se),hourlyRate:Math.round(xe),shootTotal:Math.round(ue),roundTripKm:ye,travelTotal:He,deliverablesTotal:Math.round(Fe),deliverableBreakdown:At,addonsTotal:Math.round(pt),addonsItems:Pe,discountAmount:Math.round(We),grandTotal:Math.round(gt),exGst:Math.round(Ge),gstAmount:Math.round(Ct)})},[t,r,i,a,u,d,A,v,x,E,C,P]);k.useEffect(()=>{be()},[be]);const Ee=se=>{U(xe=>({...xe,[se]:!xe[se]}))},ge=()=>{const se=d.map((ce,Me)=>{const Oe=vz.find(we=>we.id===ce.format);return` ${ce.name}: ${ce.length} min ${Oe?.name||""}  $${W.deliverableBreakdown?.[Me]?.cost?.toLocaleString()||0}`}).join(`
`),xe=`
FFM PROJECT QUOTE
==================

PRODUCTION
 Crew: ${r} person${r>1?"s":""}
 Duration: ${i} day${i>1?"s":""}  ${a} hours
 Production: $${W.shootTotal?.toLocaleString()}

TRAVEL
 ${W.roundTripKm>0?`${W.roundTripKm}km round trip`:"Local (no charge)"}
 Travel: $${W.travelTotal?.toLocaleString()}

DELIVERABLES (${d.length} video${d.length>1?"s":""})
${se}
 Total Editing: $${W.deliverablesTotal?.toLocaleString()}

${W.addonsItems?.length>0?`ADD-ONS
 ${W.addonsItems.join(`
 `)}
 Add-ons: $${W.addonsTotal?.toLocaleString()}
`:""}
==================
TOTAL: $${W.grandTotal?.toLocaleString()} (Inc. GST)
Ex. GST: $${W.exGst?.toLocaleString()}

Valid for 30 days.
    `.trim();navigator.clipboard.writeText(xe).then(()=>{alert("Quote copied to clipboard!")})};return o.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-red-500",children:"Project Pricing Calculator"}),o.jsx("p",{className:"text-gray-400 mt-1",children:"Structure-based pricing for video production"})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-gray-700/50",children:[o.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[o.jsx("span",{className:"text-2xl",children:""})," Base Day Rate"]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Day Rate (AUD)"}),o.jsxs("div",{className:"relative",children:[o.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:"$"}),o.jsx("input",{type:"number",value:t,onChange:se=>e(parseFloat(se.target.value)||0),min:"100",step:"50",className:"w-full bg-gray-700 border border-gray-600 rounded-lg pl-8 pr-4 py-3 text-lg font-semibold focus:border-red-500 focus:outline-none transition"})]}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"All prices auto-scale from this"})]}),o.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-4",children:[o.jsx("div",{className:"text-sm text-gray-400",children:"Calculated Rates:"}),o.jsxs("div",{className:"mt-2 space-y-1 text-sm",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Base Rate (40%):"}),o.jsxs("span",{className:"font-semibold text-green-400",children:["$",W.baseRate]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Hourly Rate:"}),o.jsxs("span",{className:"font-semibold text-green-400",children:["$",W.hourlyRate,"/hr"]})]})]})]})]})]}),o.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-gray-700/50",children:[o.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[o.jsx("span",{className:"text-2xl",children:""})," Crew & Shooting Time"]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Crew Size"}),o.jsxs("select",{value:r,onChange:se=>n(parseInt(se.target.value)),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-3 focus:border-red-500 focus:outline-none",children:[o.jsx("option",{value:"1",children:"1 Person"}),o.jsx("option",{value:"2",children:"2 People"}),o.jsx("option",{value:"3",children:"3 People"}),o.jsx("option",{value:"4",children:"4 People"})]}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:UDe[r]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Shoot Days"}),o.jsx("input",{type:"number",value:i,onChange:se=>s(parseInt(se.target.value)||1),min:"1",max:"30",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-3 focus:border-red-500 focus:outline-none"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Hours Per Day"}),o.jsx("input",{type:"number",value:a,onChange:se=>c(parseFloat(se.target.value)||1),min:"1",max:"12",step:"0.5",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-3 focus:border-red-500 focus:outline-none"})]})]})]}),o.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-gray-700/50",children:[o.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[o.jsx("span",{className:"text-2xl",children:""})," Travel"]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Distance (KM, one way)"}),o.jsx("input",{type:"number",value:u,onChange:se=>l(parseFloat(se.target.value)||0),min:"0",step:"10",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-3 focus:border-red-500 focus:outline-none"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"$50 per 50km (round trip calculated)"})]}),o.jsx("div",{className:"bg-gray-700/50 rounded-lg p-4 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-sm text-gray-400",children:"Round Trip"}),o.jsxs("div",{className:"text-2xl font-bold text-red-400",children:[W.roundTripKm||0," km"]})]})})]})]}),o.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-gray-700/50",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[o.jsx("span",{className:"text-2xl",children:""})," Deliverables"]}),o.jsx("button",{onClick:re,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg text-sm font-medium transition",children:"+ Add Video"})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6 p-4 bg-gray-700/30 rounded-lg",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"First Video Base"}),o.jsxs("div",{className:"relative",children:[o.jsx("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-gray-400 text-sm",children:"$"}),o.jsx("input",{type:"number",value:A,onChange:se=>p(parseFloat(se.target.value)||0),className:"w-full bg-gray-700 border border-gray-600 rounded-lg pl-6 pr-2 py-2 text-sm focus:border-red-500 focus:outline-none"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Additional Videos"}),o.jsxs("div",{className:"relative",children:[o.jsx("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-gray-400 text-sm",children:"$"}),o.jsx("input",{type:"number",value:v,onChange:se=>y(parseFloat(se.target.value)||0),className:"w-full bg-gray-700 border border-gray-600 rounded-lg pl-6 pr-2 py-2 text-sm focus:border-red-500 focus:outline-none"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Per Extra Minute"}),o.jsxs("div",{className:"relative",children:[o.jsx("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-gray-400 text-sm",children:"$"}),o.jsx("input",{type:"number",value:x,onChange:se=>w(parseFloat(se.target.value)||0),className:"w-full bg-gray-700 border border-gray-600 rounded-lg pl-6 pr-2 py-2 text-sm focus:border-red-500 focus:outline-none"})]})]})]}),o.jsx("div",{className:"space-y-3",children:d.map((se,xe)=>o.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${xe===0?"bg-red-600 text-white":"bg-gray-600 text-gray-300"}`,children:xe===0?"Primary":`+${xe}`}),o.jsx("input",{type:"text",value:se.name,onChange:ce=>Ae(se.id,"name",ce.target.value),className:"bg-transparent border-b border-gray-600 focus:border-red-500 outline-none text-white font-medium",placeholder:"Video name"})]}),d.length>1&&o.jsx("button",{onClick:()=>ie(se.id),className:"text-red-400 hover:text-red-300 text-sm",children:"Remove"})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Length (min)"}),o.jsx("input",{type:"number",value:se.length,onChange:ce=>Ae(se.id,"length",parseInt(ce.target.value)||1),min:"1",max:"60",className:"w-full bg-gray-600 border border-gray-500 rounded px-3 py-2 text-sm focus:border-red-500 focus:outline-none"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Format"}),o.jsx("select",{value:se.format,onChange:ce=>Ae(se.id,"format",ce.target.value),className:"w-full bg-gray-600 border border-gray-500 rounded px-3 py-2 text-sm focus:border-red-500 focus:outline-none",children:vz.map(ce=>o.jsxs("option",{value:ce.id,children:[ce.icon," ",ce.name]},ce.id))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Cost"}),o.jsxs("div",{className:"bg-gray-600/50 rounded px-3 py-2 text-sm font-semibold text-green-400",children:["$",W.deliverableBreakdown?.[xe]?.cost?.toLocaleString()||0]})]})]})]},se.id))}),o.jsxs("div",{className:"mt-4 p-3 bg-gray-700/50 rounded-lg text-sm text-gray-400",children:[o.jsx("strong",{children:"Each video includes:"})," Color correction, color grading, audio mixing, lower thirds, file conversion"]})]}),o.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-gray-700/50",children:[o.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[o.jsx("span",{className:"text-2xl",children:""})," Add-Ons"]}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:gz.map(se=>o.jsxs("label",{className:`flex items-center gap-3 rounded-lg p-3 cursor-pointer transition ${P[se.id]?"bg-red-600/20 border border-red-500/50":"bg-gray-700/50 hover:bg-gray-700"}`,children:[o.jsx("input",{type:"checkbox",checked:P[se.id]||!1,onChange:()=>Ee(se.id),className:"w-5 h-5 rounded accent-red-500"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:se.name}),o.jsxs("div",{className:"text-sm text-gray-400",children:[se.multiplier?"+50%":`$${se.price}${se.perDay?"/day":""}`,se.note&&` (${se.note})`]})]})]},se.id))})]}),o.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-gray-700/50",children:[o.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[o.jsx("span",{className:"text-2xl",children:""})," Package Discount"]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Discount Type"}),o.jsxs("select",{value:E,onChange:se=>{T(se.target.value),se.target.value==="none"&&j(0)},className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-3 focus:border-red-500 focus:outline-none",children:[o.jsx("option",{value:"none",children:"No Discount"}),o.jsx("option",{value:"percent",children:"Percentage"}),o.jsx("option",{value:"fixed",children:"Fixed Amount"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Discount Value"}),o.jsx("input",{type:"number",value:C,onChange:se=>j(parseFloat(se.target.value)||0),min:"0",disabled:E==="none",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-3 focus:border-red-500 focus:outline-none disabled:opacity-50"})]})]})]})]}),o.jsx("div",{className:"lg:col-span-1",children:o.jsxs("div",{className:"bg-gradient-to-br from-red-600 to-red-800 rounded-xl p-6 sticky top-8",children:[o.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Quote Summary"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-black/20 rounded-lg p-4",children:[o.jsx("div",{className:"text-sm text-red-200",children:"Production (Shoot)"}),o.jsxs("div",{className:"text-2xl font-bold",children:["$",W.shootTotal?.toLocaleString()]}),o.jsxs("div",{className:"text-xs text-red-300 mt-1",children:[r," crew  ",a,"h  ",i," day",i>1?"s":""]})]}),o.jsxs("div",{className:"bg-black/20 rounded-lg p-4",children:[o.jsx("div",{className:"text-sm text-red-200",children:"Travel"}),o.jsxs("div",{className:"text-2xl font-bold",children:["$",W.travelTotal?.toLocaleString()]}),o.jsx("div",{className:"text-xs text-red-300 mt-1",children:u>0?`${W.roundTripKm}km round trip`:"Local (no charge)"})]}),o.jsxs("div",{className:"bg-black/20 rounded-lg p-4",children:[o.jsxs("div",{className:"text-sm text-red-200",children:["Deliverables (",d.length," video",d.length>1?"s":"",")"]}),o.jsxs("div",{className:"text-2xl font-bold",children:["$",W.deliverablesTotal?.toLocaleString()]}),o.jsx("div",{className:"text-xs text-red-300 mt-1 space-y-0.5",children:W.deliverableBreakdown?.map((se,xe)=>o.jsxs("div",{children:[se.name,": ",se.length,"min  $",se.cost?.toLocaleString()]},xe))})]}),o.jsxs("div",{className:"bg-black/20 rounded-lg p-4",children:[o.jsx("div",{className:"text-sm text-red-200",children:"Add-Ons"}),o.jsxs("div",{className:"text-2xl font-bold",children:["$",W.addonsTotal?.toLocaleString()]}),o.jsx("div",{className:"text-xs text-red-300 mt-1",children:W.addonsItems?.length>0?W.addonsItems.join(", "):"None selected"})]}),W.discountAmount>0&&o.jsxs("div",{className:"bg-black/20 rounded-lg p-4",children:[o.jsx("div",{className:"text-sm text-red-200",children:"Discount"}),o.jsxs("div",{className:"text-2xl font-bold text-green-400",children:["-$",W.discountAmount?.toLocaleString()]})]})]}),o.jsx("div",{className:"mt-6 pt-6 border-t border-red-400/30",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-red-200",children:"TOTAL QUOTE"}),o.jsx("div",{className:"text-xs text-red-300",children:"Inc. GST"})]}),o.jsxs("div",{className:"text-4xl font-bold",children:["$",W.grandTotal?.toLocaleString()]})]})}),o.jsxs("div",{className:"mt-6 pt-4 border-t border-red-400/30",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-red-200",children:"Ex. GST:"}),o.jsxs("span",{className:"font-semibold",children:["$",W.exGst?.toLocaleString()]})]}),o.jsxs("div",{className:"flex justify-between text-sm mt-1",children:[o.jsx("span",{className:"text-red-200",children:"GST (10%):"}),o.jsxs("span",{className:"font-semibold",children:["$",W.gstAmount?.toLocaleString()]})]})]}),o.jsx("div",{className:"mt-6",children:o.jsx("button",{onClick:ge,className:"w-full bg-white text-red-600 font-semibold py-3 rounded-lg hover:bg-red-100 transition",children:" Copy Quote Text"})})]})})]}),o.jsx("div",{className:"mt-12 text-center text-gray-500 text-sm",children:o.jsx("p",{children:"Pricing based on structure-based methodology. All prices in AUD."})})]})}function HDe({event:t,crew:e,equipment:r,onClose:n}){if(!t)return null;const i=f=>(f||[]).map(A=>e.find(p=>p.id===A)).filter(Boolean),s=f=>(f||[]).map(A=>r.find(p=>p.id===A)).filter(Boolean);function a(f){return new Date(f).toLocaleDateString("en-AU",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}const c=i(t.crew_ids),u=s(t.equipment_ids),l=u.reduce((f,A)=>{const p=A.category||"Other";return f[p]||(f[p]=[]),f[p].push(A),f},{}),d={confirmed:"#10b981",tentative:"#f59e0b",completed:"#6b7280",cancelled:"#ef4444"};return o.jsxs("div",{className:"fixed inset-0 bg-black/80 flex items-start justify-center z-50 p-4 overflow-y-auto",children:[o.jsxs("div",{className:"print:hidden fixed top-4 right-4 flex items-center gap-3 z-10",children:[o.jsxs("button",{onClick:()=>window.print(),className:"px-4 py-2 bg-orange-600 hover:bg-orange-700 rounded-lg text-white font-medium flex items-center gap-2",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})}),"Print Brief"]}),o.jsx("button",{onClick:n,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg text-white",children:"Close"})]}),o.jsxs("div",{id:"event-brief",className:"bg-white text-gray-900 w-full max-w-3xl my-4 rounded-xl overflow-hidden print:m-0 print:rounded-none print:shadow-none",style:{fontFamily:"system-ui, -apple-system, sans-serif"},children:[o.jsx("div",{style:{background:"linear-gradient(135deg, #1a1a2e 0%, #16213e 100%)",color:"white",padding:"32px"},children:o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",flexWrap:"wrap",gap:"16px"},children:[o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"12px",textTransform:"uppercase",letterSpacing:"2px",color:"#e5383b",fontWeight:"700",marginBottom:"8px"},children:"FIT FOCUS MEDIA  PRODUCTION BRIEF"}),o.jsx("h1",{style:{fontSize:"28px",fontWeight:"800",margin:"0 0 8px"},children:t.name}),o.jsx("p",{style:{fontSize:"16px",color:"#e5383b",margin:"0"},children:t.client})]}),o.jsx("div",{style:{textAlign:"right"},children:o.jsx("span",{style:{background:d[t.status]||"#6b7280",color:"white",padding:"4px 12px",borderRadius:"20px",fontSize:"12px",fontWeight:"700",textTransform:"uppercase",letterSpacing:"1px"},children:t.status})})]})}),o.jsxs("div",{style:{padding:"32px"},children:[o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"24px",marginBottom:"32px"},children:[o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"10px",textTransform:"uppercase",letterSpacing:"1px",color:"#9ca3af",marginBottom:"6px"},children:"DATE"}),o.jsx("div",{style:{fontSize:"15px",fontWeight:"600",color:"#111827"},children:a(t.date)})]}),o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"10px",textTransform:"uppercase",letterSpacing:"1px",color:"#9ca3af",marginBottom:"6px"},children:"LOCATION"}),o.jsx("div",{style:{fontSize:"15px",fontWeight:"600",color:"#111827"},children:t.location||"TBC"})]}),o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"10px",textTransform:"uppercase",letterSpacing:"1px",color:"#9ca3af",marginBottom:"6px"},children:"CLIENT"}),o.jsx("div",{style:{fontSize:"15px",fontWeight:"600",color:"#111827"},children:t.client})]})]}),o.jsx("div",{style:{borderTop:"1px solid #e5e7eb",marginBottom:"28px"}}),o.jsxs("div",{style:{marginBottom:"28px"},children:[o.jsxs("h2",{style:{fontSize:"14px",fontWeight:"700",textTransform:"uppercase",letterSpacing:"1px",color:"#374151",marginBottom:"12px",display:"flex",alignItems:"center",gap:"8px"},children:[" Crew (",c.length,")"]}),c.length>0?o.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[o.jsx("thead",{children:o.jsxs("tr",{style:{background:"#f9fafb"},children:[o.jsx("th",{style:{padding:"8px 12px",textAlign:"left",fontSize:"11px",color:"#6b7280",textTransform:"uppercase",borderBottom:"1px solid #e5e7eb"},children:"Name"}),o.jsx("th",{style:{padding:"8px 12px",textAlign:"left",fontSize:"11px",color:"#6b7280",textTransform:"uppercase",borderBottom:"1px solid #e5e7eb"},children:"Role"}),o.jsx("th",{style:{padding:"8px 12px",textAlign:"left",fontSize:"11px",color:"#6b7280",textTransform:"uppercase",borderBottom:"1px solid #e5e7eb"},children:"Phone"}),o.jsx("th",{style:{padding:"8px 12px",textAlign:"left",fontSize:"11px",color:"#6b7280",textTransform:"uppercase",borderBottom:"1px solid #e5e7eb"},children:"Email"})]})}),o.jsx("tbody",{children:c.map((f,A)=>o.jsxs("tr",{style:{background:A%2===0?"white":"#f9fafb"},children:[o.jsx("td",{style:{padding:"10px 12px",fontWeight:"600",fontSize:"14px",borderBottom:"1px solid #f3f4f6"},children:f.name}),o.jsx("td",{style:{padding:"10px 12px",fontSize:"13px",color:"#6b7280",borderBottom:"1px solid #f3f4f6"},children:f.role||""}),o.jsx("td",{style:{padding:"10px 12px",fontSize:"13px",borderBottom:"1px solid #f3f4f6"},children:f.phone||""}),o.jsx("td",{style:{padding:"10px 12px",fontSize:"13px",borderBottom:"1px solid #f3f4f6"},children:f.email||""})]},f.id))})]}):o.jsx("p",{style:{color:"#9ca3af",fontSize:"14px",fontStyle:"italic"},children:"No crew assigned yet. Assign crew from the Crew & Logistics portal."})]}),u.length>0&&o.jsxs("div",{style:{marginBottom:"28px"},children:[o.jsxs("h2",{style:{fontSize:"14px",fontWeight:"700",textTransform:"uppercase",letterSpacing:"1px",color:"#374151",marginBottom:"12px"},children:[" Equipment (",u.length," items)"]}),o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"16px"},children:Object.entries(l).map(([f,A])=>o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"11px",fontWeight:"700",textTransform:"uppercase",letterSpacing:"1px",color:"#9ca3af",marginBottom:"6px"},children:f}),A.map(p=>o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"4px 0",borderBottom:"1px solid #f3f4f6",fontSize:"13px"},children:[o.jsx("span",{style:{color:"#111827"},children:p.name}),o.jsxs("span",{style:{color:"#6b7280"},children:["",p.quantity]})]},p.id))]},f))})]}),(t.flight_links?.length||0)+(t.accommodation_links?.length||0)+(t.rental_links?.length||0)>0&&o.jsxs("div",{style:{marginBottom:"28px"},children:[o.jsx("h2",{style:{fontSize:"14px",fontWeight:"700",textTransform:"uppercase",letterSpacing:"1px",color:"#374151",marginBottom:"12px"},children:" Travel & Logistics"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"16px"},children:[t.flight_links?.length>0&&o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"11px",fontWeight:"700",color:"#9ca3af",textTransform:"uppercase",marginBottom:"6px"},children:"Flights"}),t.flight_links.map((f,A)=>o.jsxs("a",{href:f,style:{display:"block",color:"#2563eb",fontSize:"13px",marginBottom:"4px",wordBreak:"break-all"},children:[" Flight ",A+1]},A))]}),t.accommodation_links?.length>0&&o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"11px",fontWeight:"700",color:"#9ca3af",textTransform:"uppercase",marginBottom:"6px"},children:"Accommodation"}),t.accommodation_links.map((f,A)=>o.jsxs("a",{href:f,style:{display:"block",color:"#2563eb",fontSize:"13px",marginBottom:"4px",wordBreak:"break-all"},children:[" Booking ",A+1]},A))]}),t.rental_links?.length>0&&o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"11px",fontWeight:"700",color:"#9ca3af",textTransform:"uppercase",marginBottom:"6px"},children:"Rental Cars"}),t.rental_links.map((f,A)=>o.jsxs("a",{href:f,style:{display:"block",color:"#2563eb",fontSize:"13px",marginBottom:"4px",wordBreak:"break-all"},children:[" Rental ",A+1]},A))]})]})]}),t.notes&&o.jsxs("div",{style:{marginBottom:"28px"},children:[o.jsx("h2",{style:{fontSize:"14px",fontWeight:"700",textTransform:"uppercase",letterSpacing:"1px",color:"#374151",marginBottom:"12px"},children:" Notes"}),o.jsx("div",{style:{background:"#f9fafb",borderLeft:"3px solid #e5383b",padding:"12px 16px",borderRadius:"4px",fontSize:"14px",lineHeight:"1.6",color:"#374151"},children:t.notes})]}),o.jsxs("div",{style:{marginBottom:"20px"},children:[o.jsx("h2",{style:{fontSize:"14px",fontWeight:"700",textTransform:"uppercase",letterSpacing:"1px",color:"#374151",marginBottom:"12px"},children:" Shot List / Run Sheet"}),o.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[o.jsx("thead",{children:o.jsxs("tr",{style:{background:"#f9fafb"},children:[o.jsx("th",{style:{width:"60px",padding:"8px 12px",textAlign:"left",fontSize:"11px",color:"#6b7280",textTransform:"uppercase",borderBottom:"1px solid #e5e7eb"},children:"#"}),o.jsx("th",{style:{width:"80px",padding:"8px 12px",textAlign:"left",fontSize:"11px",color:"#6b7280",textTransform:"uppercase",borderBottom:"1px solid #e5e7eb"},children:"Time"}),o.jsx("th",{style:{padding:"8px 12px",textAlign:"left",fontSize:"11px",color:"#6b7280",textTransform:"uppercase",borderBottom:"1px solid #e5e7eb"},children:"Shot / Activity"}),o.jsx("th",{style:{width:"80px",padding:"8px 12px",textAlign:"left",fontSize:"11px",color:"#6b7280",textTransform:"uppercase",borderBottom:"1px solid #e5e7eb"},children:"Done"})]})}),o.jsx("tbody",{children:[1,2,3,4,5,6,7,8].map(f=>o.jsxs("tr",{style:{borderBottom:"1px solid #f3f4f6"},children:[o.jsx("td",{style:{padding:"12px",color:"#9ca3af",fontSize:"13px"},children:f}),o.jsx("td",{style:{padding:"12px"}}),o.jsx("td",{style:{padding:"12px"}}),o.jsx("td",{style:{padding:"12px",textAlign:"center"},children:""})]},f))})]})]}),o.jsxs("div",{style:{borderTop:"1px solid #e5e7eb",paddingTop:"16px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsxs("div",{style:{fontSize:"11px",color:"#9ca3af"},children:["Generated by FIT FOCUS MEDIA Portal  ",new Date().toLocaleDateString("en-AU",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})]}),o.jsx("div",{style:{fontSize:"11px",color:"#9ca3af"},children:"fitfocusmedia.com.au"})]})]})]})]})}const p5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function s1(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function IM(t){return"nodeType"in t}function vh(t){var e,r;return t?s1(t)?t:IM(t)&&(e=(r=t.ownerDocument)==null?void 0:r.defaultView)!=null?e:window:window}function LM(t){const{Document:e}=vh(t);return t instanceof e}function H_(t){return s1(t)?!1:t instanceof vh(t).HTMLElement}function Bre(t){return t instanceof vh(t).SVGElement}function a1(t){return t?s1(t)?t.document:IM(t)?LM(t)?t:H_(t)||Bre(t)?t.ownerDocument:document:document:document}const Wp=p5?k.useLayoutEffect:k.useEffect;function g5(t){const e=k.useRef(t);return Wp(()=>{e.current=t}),k.useCallback(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return e.current==null?void 0:e.current(...n)},[])}function QDe(){const t=k.useRef(null),e=k.useCallback((n,i)=>{t.current=setInterval(n,i)},[]),r=k.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,r]}function kE(t,e){e===void 0&&(e=[t]);const r=k.useRef(t);return Wp(()=>{r.current!==t&&(r.current=t)},e),r}function Q_(t,e){const r=k.useRef();return k.useMemo(()=>{const n=t(r.current);return r.current=n,n},[...e])}function gj(t){const e=g5(t),r=k.useRef(null),n=k.useCallback(i=>{i!==r.current&&e?.(i,r.current),r.current=i},[]);return[r,n]}function vj(t){const e=k.useRef();return k.useEffect(()=>{e.current=t},[t]),e.current}let HL={};function v5(t,e){return k.useMemo(()=>{if(e)return e;const r=HL[t]==null?0:HL[t]+1;return HL[t]=r,t+"-"+r},[t,e])}function Ore(t){return function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return n.reduce((s,a)=>{const c=Object.entries(a);for(const[u,l]of c){const d=s[u];d!=null&&(s[u]=d+t*l)}return s},{...e})}}const nb=Ore(1),yj=Ore(-1);function VDe(t){return"clientX"in t&&"clientY"in t}function BM(t){if(!t)return!1;const{KeyboardEvent:e}=vh(t.target);return e&&t instanceof e}function zDe(t){if(!t)return!1;const{TouchEvent:e}=vh(t.target);return e&&t instanceof e}function xj(t){if(zDe(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:r}=t.touches[0];return{x:e,y:r}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:r}=t.changedTouches[0];return{x:e,y:r}}}return VDe(t)?{x:t.clientX,y:t.clientY}:null}const IE=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:r}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:r}=t;return"scaleX("+e+") scaleY("+r+")"}},Transform:{toString(t){if(t)return[IE.Translate.toString(t),IE.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:r,easing:n}=t;return e+" "+r+"ms "+n}}}),yz="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function KDe(t){return t.matches(yz)?t:t.querySelector(yz)}const GDe={display:"none"};function WDe(t){let{id:e,value:r}=t;return _o.createElement("div",{id:e,style:GDe},r)}function YDe(t){let{id:e,announcement:r,ariaLiveType:n="assertive"}=t;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return _o.createElement("div",{id:e,style:i,role:"status","aria-live":n,"aria-atomic":!0},r)}function qDe(){const[t,e]=k.useState("");return{announce:k.useCallback(n=>{n!=null&&e(n)},[]),announcement:t}}const Pre=k.createContext(null);function XDe(t){const e=k.useContext(Pre);k.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function ZDe(){const[t]=k.useState(()=>new Set),e=k.useCallback(n=>(t.add(n),()=>t.delete(n)),[t]);return[k.useCallback(n=>{let{type:i,event:s}=n;t.forEach(a=>{var c;return(c=a[i])==null?void 0:c.call(a,s)})},[t]),e]}const JDe={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},e3e={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:r}=t;return r?"Draggable item "+e.id+" was moved over droppable area "+r.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:r}=t;return r?"Draggable item "+e.id+" was dropped over droppable area "+r.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function t3e(t){let{announcements:e=e3e,container:r,hiddenTextDescribedById:n,screenReaderInstructions:i=JDe}=t;const{announce:s,announcement:a}=qDe(),c=v5("DndLiveRegion"),[u,l]=k.useState(!1);if(k.useEffect(()=>{l(!0)},[]),XDe(k.useMemo(()=>({onDragStart(f){let{active:A}=f;s(e.onDragStart({active:A}))},onDragMove(f){let{active:A,over:p}=f;e.onDragMove&&s(e.onDragMove({active:A,over:p}))},onDragOver(f){let{active:A,over:p}=f;s(e.onDragOver({active:A,over:p}))},onDragEnd(f){let{active:A,over:p}=f;s(e.onDragEnd({active:A,over:p}))},onDragCancel(f){let{active:A,over:p}=f;s(e.onDragCancel({active:A,over:p}))}}),[s,e])),!u)return null;const d=_o.createElement(_o.Fragment,null,_o.createElement(WDe,{id:n,value:i.draggable}),_o.createElement(YDe,{id:c,announcement:a}));return r?d0.createPortal(d,r):d}var Ru;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(Ru||(Ru={}));function bj(){}function QL(t,e){return k.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function r3e(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return k.useMemo(()=>[...e].filter(n=>n!=null),[...e])}const LA=Object.freeze({x:0,y:0});function n3e(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function i3e(t,e){const r=xj(t);if(!r)return"0 0";const n={x:(r.x-e.left)/e.width*100,y:(r.y-e.top)/e.height*100};return n.x+"% "+n.y+"%"}function s3e(t,e){let{data:{value:r}}=t,{data:{value:n}}=e;return r-n}function a3e(t,e){let{data:{value:r}}=t,{data:{value:n}}=e;return n-r}function o3e(t,e){if(!t||t.length===0)return null;const[r]=t;return r[e]}function xz(t,e,r){return e===void 0&&(e=t.left),r===void 0&&(r=t.top),{x:e+t.width*.5,y:r+t.height*.5}}const l3e=t=>{let{collisionRect:e,droppableRects:r,droppableContainers:n}=t;const i=xz(e,e.left,e.top),s=[];for(const a of n){const{id:c}=a,u=r.get(c);if(u){const l=n3e(xz(u),i);s.push({id:c,data:{droppableContainer:a,value:l}})}}return s.sort(s3e)};function c3e(t,e){const r=Math.max(e.top,t.top),n=Math.max(e.left,t.left),i=Math.min(e.left+e.width,t.left+t.width),s=Math.min(e.top+e.height,t.top+t.height),a=i-n,c=s-r;if(n<i&&r<s){const u=e.width*e.height,l=t.width*t.height,d=a*c,f=d/(u+l-d);return Number(f.toFixed(4))}return 0}const u3e=t=>{let{collisionRect:e,droppableRects:r,droppableContainers:n}=t;const i=[];for(const s of n){const{id:a}=s,c=r.get(a);if(c){const u=c3e(c,e);u>0&&i.push({id:a,data:{droppableContainer:s,value:u}})}}return i.sort(a3e)};function d3e(t,e,r){return{...t,scaleX:e&&r?e.width/r.width:1,scaleY:e&&r?e.height/r.height:1}}function Rre(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:LA}function h3e(t){return function(r){for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];return i.reduce((a,c)=>({...a,top:a.top+t*c.y,bottom:a.bottom+t*c.y,left:a.left+t*c.x,right:a.right+t*c.x}),{...r})}}const f3e=h3e(1);function Dre(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function A3e(t,e,r){const n=Dre(e);if(!n)return t;const{scaleX:i,scaleY:s,x:a,y:c}=n,u=t.left-a-(1-i)*parseFloat(r),l=t.top-c-(1-s)*parseFloat(r.slice(r.indexOf(" ")+1)),d=i?t.width/i:t.width,f=s?t.height/s:t.height;return{width:d,height:f,top:l,right:u+d,bottom:l+f,left:u}}const m3e={ignoreTransform:!1};function V_(t,e){e===void 0&&(e=m3e);let r=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:l,transformOrigin:d}=vh(t).getComputedStyle(t);l&&(r=A3e(r,l,d))}const{top:n,left:i,width:s,height:a,bottom:c,right:u}=r;return{top:n,left:i,width:s,height:a,bottom:c,right:u}}function bz(t){return V_(t,{ignoreTransform:!0})}function p3e(t){const e=t.innerWidth,r=t.innerHeight;return{top:0,left:0,right:e,bottom:r,width:e,height:r}}function g3e(t,e){return e===void 0&&(e=vh(t).getComputedStyle(t)),e.position==="fixed"}function v3e(t,e){e===void 0&&(e=vh(t).getComputedStyle(t));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const s=e[i];return typeof s=="string"?r.test(s):!1})}function OM(t,e){const r=[];function n(i){if(e!=null&&r.length>=e||!i)return r;if(LM(i)&&i.scrollingElement!=null&&!r.includes(i.scrollingElement))return r.push(i.scrollingElement),r;if(!H_(i)||Bre(i)||r.includes(i))return r;const s=vh(t).getComputedStyle(i);return i!==t&&v3e(i,s)&&r.push(i),g3e(i,s)?r:n(i.parentNode)}return t?n(t):r}function Mre(t){const[e]=OM(t,1);return e??null}function VL(t){return!p5||!t?null:s1(t)?t:IM(t)?LM(t)||t===a1(t).scrollingElement?window:H_(t)?t:null:null}function Fre(t){return s1(t)?t.scrollX:t.scrollLeft}function Ure(t){return s1(t)?t.scrollY:t.scrollTop}function LO(t){return{x:Fre(t),y:Ure(t)}}var cd;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(cd||(cd={}));function $re(t){return!p5||!t?!1:t===document.scrollingElement}function Hre(t){const e={x:0,y:0},r=$re(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},n={x:t.scrollWidth-r.width,y:t.scrollHeight-r.height},i=t.scrollTop<=e.y,s=t.scrollLeft<=e.x,a=t.scrollTop>=n.y,c=t.scrollLeft>=n.x;return{isTop:i,isLeft:s,isBottom:a,isRight:c,maxScroll:n,minScroll:e}}const y3e={x:.2,y:.2};function x3e(t,e,r,n,i){let{top:s,left:a,right:c,bottom:u}=r;n===void 0&&(n=10),i===void 0&&(i=y3e);const{isTop:l,isBottom:d,isLeft:f,isRight:A}=Hre(t),p={x:0,y:0},v={x:0,y:0},y={height:e.height*i.y,width:e.width*i.x};return!l&&s<=e.top+y.height?(p.y=cd.Backward,v.y=n*Math.abs((e.top+y.height-s)/y.height)):!d&&u>=e.bottom-y.height&&(p.y=cd.Forward,v.y=n*Math.abs((e.bottom-y.height-u)/y.height)),!A&&c>=e.right-y.width?(p.x=cd.Forward,v.x=n*Math.abs((e.right-y.width-c)/y.width)):!f&&a<=e.left+y.width&&(p.x=cd.Backward,v.x=n*Math.abs((e.left+y.width-a)/y.width)),{direction:p,speed:v}}function b3e(t){if(t===document.scrollingElement){const{innerWidth:s,innerHeight:a}=window;return{top:0,left:0,right:s,bottom:a,width:s,height:a}}const{top:e,left:r,right:n,bottom:i}=t.getBoundingClientRect();return{top:e,left:r,right:n,bottom:i,width:t.clientWidth,height:t.clientHeight}}function Qre(t){return t.reduce((e,r)=>nb(e,LO(r)),LA)}function w3e(t){return t.reduce((e,r)=>e+Fre(r),0)}function E3e(t){return t.reduce((e,r)=>e+Ure(r),0)}function Vre(t,e){if(e===void 0&&(e=V_),!t)return;const{top:r,left:n,bottom:i,right:s}=e(t);Mre(t)&&(i<=0||s<=0||r>=window.innerHeight||n>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const _3e=[["x",["left","right"],w3e],["y",["top","bottom"],E3e]];class PM{constructor(e,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=OM(r),i=Qre(n);this.rect={...e},this.width=e.width,this.height=e.height;for(const[s,a,c]of _3e)for(const u of a)Object.defineProperty(this,u,{get:()=>{const l=c(n),d=i[s]-l;return this.rect[u]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Uw{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...r)})},this.target=e}add(e,r,n){var i;(i=this.target)==null||i.addEventListener(e,r,n),this.listeners.push([e,r,n])}}function S3e(t){const{EventTarget:e}=vh(t);return t instanceof e?t:a1(t)}function zL(t,e){const r=Math.abs(t.x),n=Math.abs(t.y);return typeof e=="number"?Math.sqrt(r**2+n**2)>e:"x"in e&&"y"in e?r>e.x&&n>e.y:"x"in e?r>e.x:"y"in e?n>e.y:!1}var Ff;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(Ff||(Ff={}));function wz(t){t.preventDefault()}function T3e(t){t.stopPropagation()}var ol;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(ol||(ol={}));const zre={start:[ol.Space,ol.Enter],cancel:[ol.Esc],end:[ol.Space,ol.Enter,ol.Tab]},C3e=(t,e)=>{let{currentCoordinates:r}=e;switch(t.code){case ol.Right:return{...r,x:r.x+25};case ol.Left:return{...r,x:r.x-25};case ol.Down:return{...r,y:r.y+25};case ol.Up:return{...r,y:r.y-25}}};class RM{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:r}}=e;this.props=e,this.listeners=new Uw(a1(r)),this.windowListeners=new Uw(vh(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Ff.Resize,this.handleCancel),this.windowListeners.add(Ff.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Ff.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:r}=this.props,n=e.node.current;n&&Vre(n),r(LA)}handleKeyDown(e){if(BM(e)){const{active:r,context:n,options:i}=this.props,{keyboardCodes:s=zre,coordinateGetter:a=C3e,scrollBehavior:c="smooth"}=i,{code:u}=e;if(s.end.includes(u)){this.handleEnd(e);return}if(s.cancel.includes(u)){this.handleCancel(e);return}const{collisionRect:l}=n.current,d=l?{x:l.left,y:l.top}:LA;this.referenceCoordinates||(this.referenceCoordinates=d);const f=a(e,{active:r,context:n.current,currentCoordinates:d});if(f){const A=yj(f,d),p={x:0,y:0},{scrollableAncestors:v}=n.current;for(const y of v){const x=e.code,{isTop:w,isRight:E,isLeft:T,isBottom:C,maxScroll:j,minScroll:P}=Hre(y),U=b3e(y),W={x:Math.min(x===ol.Right?U.right-U.width/2:U.right,Math.max(x===ol.Right?U.left:U.left+U.width/2,f.x)),y:Math.min(x===ol.Down?U.bottom-U.height/2:U.bottom,Math.max(x===ol.Down?U.top:U.top+U.height/2,f.y))},q=x===ol.Right&&!E||x===ol.Left&&!T,re=x===ol.Down&&!C||x===ol.Up&&!w;if(q&&W.x!==f.x){const ie=y.scrollLeft+A.x,Ae=x===ol.Right&&ie<=j.x||x===ol.Left&&ie>=P.x;if(Ae&&!A.y){y.scrollTo({left:ie,behavior:c});return}Ae?p.x=y.scrollLeft-ie:p.x=x===ol.Right?y.scrollLeft-j.x:y.scrollLeft-P.x,p.x&&y.scrollBy({left:-p.x,behavior:c});break}else if(re&&W.y!==f.y){const ie=y.scrollTop+A.y,Ae=x===ol.Down&&ie<=j.y||x===ol.Up&&ie>=P.y;if(Ae&&!A.x){y.scrollTo({top:ie,behavior:c});return}Ae?p.y=y.scrollTop-ie:p.y=x===ol.Down?y.scrollTop-j.y:y.scrollTop-P.y,p.y&&y.scrollBy({top:-p.y,behavior:c});break}}this.handleMove(e,nb(yj(f,this.referenceCoordinates),p))}}}handleMove(e,r){const{onMove:n}=this.props;e.preventDefault(),n(r)}handleEnd(e){const{onEnd:r}=this.props;e.preventDefault(),this.detach(),r()}handleCancel(e){const{onCancel:r}=this.props;e.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}RM.activators=[{eventName:"onKeyDown",handler:(t,e,r)=>{let{keyboardCodes:n=zre,onActivation:i}=e,{active:s}=r;const{code:a}=t.nativeEvent;if(n.start.includes(a)){const c=s.activatorNode.current;return c&&t.target!==c?!1:(t.preventDefault(),i?.({event:t.nativeEvent}),!0)}return!1}}];function Ez(t){return!!(t&&"distance"in t)}function _z(t){return!!(t&&"delay"in t)}class DM{constructor(e,r,n){var i;n===void 0&&(n=S3e(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=r;const{event:s}=e,{target:a}=s;this.props=e,this.events=r,this.document=a1(a),this.documentListeners=new Uw(this.document),this.listeners=new Uw(n),this.windowListeners=new Uw(vh(a)),this.initialCoordinates=(i=xj(s))!=null?i:LA,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:r,bypassActivationConstraint:n}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Ff.Resize,this.handleCancel),this.windowListeners.add(Ff.DragStart,wz),this.windowListeners.add(Ff.VisibilityChange,this.handleCancel),this.windowListeners.add(Ff.ContextMenu,wz),this.documentListeners.add(Ff.Keydown,this.handleKeydown),r){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(_z(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(Ez(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,r){const{active:n,onPending:i}=this.props;i(n,e,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:e}=this,{onStart:r}=this.props;e&&(this.activated=!0,this.documentListeners.add(Ff.Click,T3e,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Ff.SelectionChange,this.removeTextSelection),r(e))}handleMove(e){var r;const{activated:n,initialCoordinates:i,props:s}=this,{onMove:a,options:{activationConstraint:c}}=s;if(!i)return;const u=(r=xj(e))!=null?r:LA,l=yj(i,u);if(!n&&c){if(Ez(c)){if(c.tolerance!=null&&zL(l,c.tolerance))return this.handleCancel();if(zL(l,c.distance))return this.handleStart()}if(_z(c)&&zL(l,c.tolerance))return this.handleCancel();this.handlePending(c,l);return}e.cancelable&&e.preventDefault(),a(u)}handleEnd(){const{onAbort:e,onEnd:r}=this.props;this.detach(),this.activated||e(this.props.active),r()}handleCancel(){const{onAbort:e,onCancel:r}=this.props;this.detach(),this.activated||e(this.props.active),r()}handleKeydown(e){e.code===ol.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const j3e={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class MM extends DM{constructor(e){const{event:r}=e,n=a1(r.target);super(e,j3e,n)}}MM.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:r}=t,{onActivation:n}=e;return!r.isPrimary||r.button!==0?!1:(n?.({event:r}),!0)}}];const N3e={move:{name:"mousemove"},end:{name:"mouseup"}};var BO;(function(t){t[t.RightClick=2]="RightClick"})(BO||(BO={}));class k3e extends DM{constructor(e){super(e,N3e,a1(e.event.target))}}k3e.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:r}=t,{onActivation:n}=e;return r.button===BO.RightClick?!1:(n?.({event:r}),!0)}}];const KL={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Kre extends DM{constructor(e){super(e,KL)}static setup(){return window.addEventListener(KL.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(KL.move.name,e)};function e(){}}}Kre.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:r}=t,{onActivation:n}=e;const{touches:i}=r;return i.length>1?!1:(n?.({event:r}),!0)}}];var $w;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})($w||($w={}));var wj;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(wj||(wj={}));function I3e(t){let{acceleration:e,activator:r=$w.Pointer,canScroll:n,draggingRect:i,enabled:s,interval:a=5,order:c=wj.TreeOrder,pointerCoordinates:u,scrollableAncestors:l,scrollableAncestorRects:d,delta:f,threshold:A}=t;const p=B3e({delta:f,disabled:!s}),[v,y]=QDe(),x=k.useRef({x:0,y:0}),w=k.useRef({x:0,y:0}),E=k.useMemo(()=>{switch(r){case $w.Pointer:return u?{top:u.y,bottom:u.y,left:u.x,right:u.x}:null;case $w.DraggableRect:return i}},[r,i,u]),T=k.useRef(null),C=k.useCallback(()=>{const P=T.current;if(!P)return;const U=x.current.x*w.current.x,W=x.current.y*w.current.y;P.scrollBy(U,W)},[]),j=k.useMemo(()=>c===wj.TreeOrder?[...l].reverse():l,[c,l]);k.useEffect(()=>{if(!s||!l.length||!E){y();return}for(const P of j){if(n?.(P)===!1)continue;const U=l.indexOf(P),W=d[U];if(!W)continue;const{direction:q,speed:re}=x3e(P,W,E,e,A);for(const ie of["x","y"])p[ie][q[ie]]||(re[ie]=0,q[ie]=0);if(re.x>0||re.y>0){y(),T.current=P,v(C,a),x.current=re,w.current=q;return}}x.current={x:0,y:0},w.current={x:0,y:0},y()},[e,C,n,y,s,a,JSON.stringify(E),JSON.stringify(p),v,l,j,d,JSON.stringify(A)])}const L3e={x:{[cd.Backward]:!1,[cd.Forward]:!1},y:{[cd.Backward]:!1,[cd.Forward]:!1}};function B3e(t){let{delta:e,disabled:r}=t;const n=vj(e);return Q_(i=>{if(r||!n||!i)return L3e;const s={x:Math.sign(e.x-n.x),y:Math.sign(e.y-n.y)};return{x:{[cd.Backward]:i.x[cd.Backward]||s.x===-1,[cd.Forward]:i.x[cd.Forward]||s.x===1},y:{[cd.Backward]:i.y[cd.Backward]||s.y===-1,[cd.Forward]:i.y[cd.Forward]||s.y===1}}},[r,e,n])}function O3e(t,e){const r=e!=null?t.get(e):void 0,n=r?r.node.current:null;return Q_(i=>{var s;return e==null?null:(s=n??i)!=null?s:null},[n,e])}function P3e(t,e){return k.useMemo(()=>t.reduce((r,n)=>{const{sensor:i}=n,s=i.activators.map(a=>({eventName:a.eventName,handler:e(a.handler,n)}));return[...r,...s]},[]),[t,e])}var LE;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(LE||(LE={}));var OO;(function(t){t.Optimized="optimized"})(OO||(OO={}));const Sz=new Map;function R3e(t,e){let{dragging:r,dependencies:n,config:i}=e;const[s,a]=k.useState(null),{frequency:c,measure:u,strategy:l}=i,d=k.useRef(t),f=x(),A=kE(f),p=k.useCallback(function(w){w===void 0&&(w=[]),!A.current&&a(E=>E===null?w:E.concat(w.filter(T=>!E.includes(T))))},[A]),v=k.useRef(null),y=Q_(w=>{if(f&&!r)return Sz;if(!w||w===Sz||d.current!==t||s!=null){const E=new Map;for(let T of t){if(!T)continue;if(s&&s.length>0&&!s.includes(T.id)&&T.rect.current){E.set(T.id,T.rect.current);continue}const C=T.node.current,j=C?new PM(u(C),C):null;T.rect.current=j,j&&E.set(T.id,j)}return E}return w},[t,s,r,f,u]);return k.useEffect(()=>{d.current=t},[t]),k.useEffect(()=>{f||p()},[r,f]),k.useEffect(()=>{s&&s.length>0&&a(null)},[JSON.stringify(s)]),k.useEffect(()=>{f||typeof c!="number"||v.current!==null||(v.current=setTimeout(()=>{p(),v.current=null},c))},[c,f,p,...n]),{droppableRects:y,measureDroppableContainers:p,measuringScheduled:s!=null};function x(){switch(l){case LE.Always:return!1;case LE.BeforeDragging:return r;default:return!r}}}function FM(t,e){return Q_(r=>t?r||(typeof e=="function"?e(t):t):null,[e,t])}function D3e(t,e){return FM(t,e)}function M3e(t){let{callback:e,disabled:r}=t;const n=g5(e),i=k.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(n)},[n,r]);return k.useEffect(()=>()=>i?.disconnect(),[i]),i}function y5(t){let{callback:e,disabled:r}=t;const n=g5(e),i=k.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(n)},[r]);return k.useEffect(()=>()=>i?.disconnect(),[i]),i}function F3e(t){return new PM(V_(t),t)}function Tz(t,e,r){e===void 0&&(e=F3e);const[n,i]=k.useState(null);function s(){i(u=>{if(!t)return null;if(t.isConnected===!1){var l;return(l=u??r)!=null?l:null}const d=e(t);return JSON.stringify(u)===JSON.stringify(d)?u:d})}const a=M3e({callback(u){if(t)for(const l of u){const{type:d,target:f}=l;if(d==="childList"&&f instanceof HTMLElement&&f.contains(t)){s();break}}}}),c=y5({callback:s});return Wp(()=>{s(),t?(c?.observe(t),a?.observe(document.body,{childList:!0,subtree:!0})):(c?.disconnect(),a?.disconnect())},[t]),n}function U3e(t){const e=FM(t);return Rre(t,e)}const Cz=[];function $3e(t){const e=k.useRef(t),r=Q_(n=>t?n&&n!==Cz&&t&&e.current&&t.parentNode===e.current.parentNode?n:OM(t):Cz,[t]);return k.useEffect(()=>{e.current=t},[t]),r}function H3e(t){const[e,r]=k.useState(null),n=k.useRef(t),i=k.useCallback(s=>{const a=VL(s.target);a&&r(c=>c?(c.set(a,LO(a)),new Map(c)):null)},[]);return k.useEffect(()=>{const s=n.current;if(t!==s){a(s);const c=t.map(u=>{const l=VL(u);return l?(l.addEventListener("scroll",i,{passive:!0}),[l,LO(l)]):null}).filter(u=>u!=null);r(c.length?new Map(c):null),n.current=t}return()=>{a(t),a(s)};function a(c){c.forEach(u=>{const l=VL(u);l?.removeEventListener("scroll",i)})}},[i,t]),k.useMemo(()=>t.length?e?Array.from(e.values()).reduce((s,a)=>nb(s,a),LA):Qre(t):LA,[t,e])}function jz(t,e){e===void 0&&(e=[]);const r=k.useRef(null);return k.useEffect(()=>{r.current=null},e),k.useEffect(()=>{const n=t!==LA;n&&!r.current&&(r.current=t),!n&&r.current&&(r.current=null)},[t]),r.current?yj(t,r.current):LA}function Q3e(t){k.useEffect(()=>{if(!p5)return;const e=t.map(r=>{let{sensor:n}=r;return n.setup==null?void 0:n.setup()});return()=>{for(const r of e)r?.()}},t.map(e=>{let{sensor:r}=e;return r}))}function V3e(t,e){return k.useMemo(()=>t.reduce((r,n)=>{let{eventName:i,handler:s}=n;return r[i]=a=>{s(a,e)},r},{}),[t,e])}function Gre(t){return k.useMemo(()=>t?p3e(t):null,[t])}const Nz=[];function z3e(t,e){e===void 0&&(e=V_);const[r]=t,n=Gre(r?vh(r):null),[i,s]=k.useState(Nz);function a(){s(()=>t.length?t.map(u=>$re(u)?n:new PM(e(u),u)):Nz)}const c=y5({callback:a});return Wp(()=>{c?.disconnect(),a(),t.forEach(u=>c?.observe(u))},[t]),i}function Wre(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return H_(e)?e:t}function K3e(t){let{measure:e}=t;const[r,n]=k.useState(null),i=k.useCallback(l=>{for(const{target:d}of l)if(H_(d)){n(f=>{const A=e(d);return f?{...f,width:A.width,height:A.height}:A});break}},[e]),s=y5({callback:i}),a=k.useCallback(l=>{const d=Wre(l);s?.disconnect(),d&&s?.observe(d),n(d?e(d):null)},[e,s]),[c,u]=gj(a);return k.useMemo(()=>({nodeRef:c,rect:r,setRef:u}),[r,c,u])}const G3e=[{sensor:MM,options:{}},{sensor:RM,options:{}}],W3e={current:{}},MS={draggable:{measure:bz},droppable:{measure:bz,strategy:LE.WhileDragging,frequency:OO.Optimized},dragOverlay:{measure:V_}};class Hw extends Map{get(e){var r;return e!=null&&(r=super.get(e))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:r}=e;return!r})}getNodeFor(e){var r,n;return(r=(n=this.get(e))==null?void 0:n.node.current)!=null?r:void 0}}const Y3e={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Hw,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:bj},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:MS,measureDroppableContainers:bj,windowRect:null,measuringScheduled:!1},Yre={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:bj,draggableNodes:new Map,over:null,measureDroppableContainers:bj},z_=k.createContext(Yre),qre=k.createContext(Y3e);function q3e(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Hw}}}function X3e(t,e){switch(e.type){case Ru.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Ru.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case Ru.DragEnd:case Ru.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Ru.RegisterDroppable:{const{element:r}=e,{id:n}=r,i=new Hw(t.droppable.containers);return i.set(n,r),{...t,droppable:{...t.droppable,containers:i}}}case Ru.SetDroppableDisabled:{const{id:r,key:n,disabled:i}=e,s=t.droppable.containers.get(r);if(!s||n!==s.key)return t;const a=new Hw(t.droppable.containers);return a.set(r,{...s,disabled:i}),{...t,droppable:{...t.droppable,containers:a}}}case Ru.UnregisterDroppable:{const{id:r,key:n}=e,i=t.droppable.containers.get(r);if(!i||n!==i.key)return t;const s=new Hw(t.droppable.containers);return s.delete(r),{...t,droppable:{...t.droppable,containers:s}}}default:return t}}function Z3e(t){let{disabled:e}=t;const{active:r,activatorEvent:n,draggableNodes:i}=k.useContext(z_),s=vj(n),a=vj(r?.id);return k.useEffect(()=>{if(!e&&!n&&s&&a!=null){if(!BM(s)||document.activeElement===s.target)return;const c=i.get(a);if(!c)return;const{activatorNode:u,node:l}=c;if(!u.current&&!l.current)return;requestAnimationFrame(()=>{for(const d of[u.current,l.current]){if(!d)continue;const f=KDe(d);if(f){f.focus();break}}})}},[n,e,i,a,s]),null}function Xre(t,e){let{transform:r,...n}=e;return t!=null&&t.length?t.reduce((i,s)=>s({transform:i,...n}),r):r}function J3e(t){return k.useMemo(()=>({draggable:{...MS.draggable,...t?.draggable},droppable:{...MS.droppable,...t?.droppable},dragOverlay:{...MS.dragOverlay,...t?.dragOverlay}}),[t?.draggable,t?.droppable,t?.dragOverlay])}function eMe(t){let{activeNode:e,measure:r,initialRect:n,config:i=!0}=t;const s=k.useRef(!1),{x:a,y:c}=typeof i=="boolean"?{x:i,y:i}:i;Wp(()=>{if(!a&&!c||!e){s.current=!1;return}if(s.current||!n)return;const l=e?.node.current;if(!l||l.isConnected===!1)return;const d=r(l),f=Rre(d,n);if(a||(f.x=0),c||(f.y=0),s.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const A=Mre(l);A&&A.scrollBy({top:f.y,left:f.x})}},[e,a,c,n,r])}const x5=k.createContext({...LA,scaleX:1,scaleY:1});var r0;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(r0||(r0={}));const tMe=k.memo(function(e){var r,n,i,s;let{id:a,accessibility:c,autoScroll:u=!0,children:l,sensors:d=G3e,collisionDetection:f=u3e,measuring:A,modifiers:p,...v}=e;const y=k.useReducer(X3e,void 0,q3e),[x,w]=y,[E,T]=ZDe(),[C,j]=k.useState(r0.Uninitialized),P=C===r0.Initialized,{draggable:{active:U,nodes:W,translate:q},droppable:{containers:re}}=x,ie=U!=null?W.get(U):null,Ae=k.useRef({initial:null,translated:null}),be=k.useMemo(()=>{var Dr;return U!=null?{id:U,data:(Dr=ie?.data)!=null?Dr:W3e,rect:Ae}:null},[U,ie]),Ee=k.useRef(null),[ge,se]=k.useState(null),[xe,ce]=k.useState(null),Me=kE(v,Object.values(v)),Oe=v5("DndDescribedBy",a),we=k.useMemo(()=>re.getEnabled(),[re]),ue=J3e(A),{droppableRects:ye,measureDroppableContainers:Le,measuringScheduled:He}=R3e(we,{dragging:P,dependencies:[q.x,q.y],config:ue.droppable}),Fe=O3e(W,U),At=k.useMemo(()=>xe?xj(xe):null,[xe]),pt=en(),Pe=D3e(Fe,ue.draggable.measure);eMe({activeNode:U!=null?W.get(U):null,config:pt.layoutShiftCompensation,initialRect:Pe,measure:ue.draggable.measure});const st=Tz(Fe,ue.draggable.measure,Pe),et=Tz(Fe?Fe.parentElement:null),We=k.useRef({activatorEvent:null,active:null,activeNode:Fe,collisionRect:null,collisions:null,droppableRects:ye,draggableNodes:W,draggingNode:null,draggingNodeRect:null,droppableContainers:re,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),gt=re.getNodeFor((r=We.current.over)==null?void 0:r.id),Ge=K3e({measure:ue.dragOverlay.measure}),Ct=(n=Ge.nodeRef.current)!=null?n:Fe,Et=P?(i=Ge.rect)!=null?i:st:null,Ut=!!(Ge.nodeRef.current&&Ge.rect),ir=U3e(Ut?null:st),on=Gre(Ct?vh(Ct):null),kr=$3e(P?gt??Fe:null),rn=z3e(kr),wn=Xre(p,{transform:{x:q.x-ir.x,y:q.y-ir.y,scaleX:1,scaleY:1},activatorEvent:xe,active:be,activeNodeRect:st,containerNodeRect:et,draggingNodeRect:Et,over:We.current.over,overlayNodeRect:Ge.rect,scrollableAncestors:kr,scrollableAncestorRects:rn,windowRect:on}),Mn=At?nb(At,q):null,dn=H3e(kr),pn=jz(dn),mn=jz(dn,[st]),Kn=nb(wn,pn),Zn=Et?f3e(Et,wn):null,Li=be&&Zn?f({active:be,collisionRect:Zn,droppableRects:ye,droppableContainers:we,pointerCoordinates:Mn}):null,ot=o3e(Li,"id"),[Wt,jr]=k.useState(null),rr=Ut?wn:nb(wn,mn),Ht=d3e(rr,(s=Wt?.rect)!=null?s:null,st),fr=k.useRef(null),Hr=k.useCallback((Dr,An)=>{let{sensor:cn,options:Pn}=An;if(Ee.current==null)return;const li=W.get(Ee.current);if(!li)return;const Ts=Dr.nativeEvent,Rs=new cn({active:Ee.current,activeNode:li,event:Ts,options:Pn,context:We,onAbort(ei){if(!W.get(ei))return;const{onDragAbort:ss}=Me.current,ea={id:ei};ss?.(ea),E({type:"onDragAbort",event:ea})},onPending(ei,nn,ss,ea){if(!W.get(ei))return;const{onDragPending:Tn}=Me.current,Ds={id:ei,constraint:nn,initialCoordinates:ss,offset:ea};Tn?.(Ds),E({type:"onDragPending",event:Ds})},onStart(ei){const nn=Ee.current;if(nn==null)return;const ss=W.get(nn);if(!ss)return;const{onDragStart:ea}=Me.current,En={activatorEvent:Ts,active:{id:nn,data:ss.data,rect:Ae}};d0.unstable_batchedUpdates(()=>{ea?.(En),j(r0.Initializing),w({type:Ru.DragStart,initialCoordinates:ei,active:nn}),E({type:"onDragStart",event:En}),se(fr.current),ce(Ts)})},onMove(ei){w({type:Ru.DragMove,coordinates:ei})},onEnd:Cs(Ru.DragEnd),onCancel:Cs(Ru.DragCancel)});fr.current=Rs;function Cs(ei){return async function(){const{active:ss,collisions:ea,over:En,scrollAdjustedTranslate:Tn}=We.current;let Ds=null;if(ss&&Tn){const{cancelDrop:$s}=Me.current;Ds={activatorEvent:Ts,active:ss,collisions:ea,delta:Tn,over:En},ei===Ru.DragEnd&&typeof $s=="function"&&await Promise.resolve($s(Ds))&&(ei=Ru.DragCancel)}Ee.current=null,d0.unstable_batchedUpdates(()=>{w({type:ei}),j(r0.Uninitialized),jr(null),se(null),ce(null),fr.current=null;const $s=ei===Ru.DragEnd?"onDragEnd":"onDragCancel";if(Ds){const Ms=Me.current[$s];Ms?.(Ds),E({type:$s,event:Ds})}})}}},[W]),Gr=k.useCallback((Dr,An)=>(cn,Pn)=>{const li=cn.nativeEvent,Ts=W.get(Pn);if(Ee.current!==null||!Ts||li.dndKit||li.defaultPrevented)return;const Rs={active:Ts};Dr(cn,An.options,Rs)===!0&&(li.dndKit={capturedBy:An.sensor},Ee.current=Pn,Hr(cn,An))},[W,Hr]),Ln=P3e(d,Gr);Q3e(d),Wp(()=>{st&&C===r0.Initializing&&j(r0.Initialized)},[st,C]),k.useEffect(()=>{const{onDragMove:Dr}=Me.current,{active:An,activatorEvent:cn,collisions:Pn,over:li}=We.current;if(!An||!cn)return;const Ts={active:An,activatorEvent:cn,collisions:Pn,delta:{x:Kn.x,y:Kn.y},over:li};d0.unstable_batchedUpdates(()=>{Dr?.(Ts),E({type:"onDragMove",event:Ts})})},[Kn.x,Kn.y]),k.useEffect(()=>{const{active:Dr,activatorEvent:An,collisions:cn,droppableContainers:Pn,scrollAdjustedTranslate:li}=We.current;if(!Dr||Ee.current==null||!An||!li)return;const{onDragOver:Ts}=Me.current,Rs=Pn.get(ot),Cs=Rs&&Rs.rect.current?{id:Rs.id,rect:Rs.rect.current,data:Rs.data,disabled:Rs.disabled}:null,ei={active:Dr,activatorEvent:An,collisions:cn,delta:{x:li.x,y:li.y},over:Cs};d0.unstable_batchedUpdates(()=>{jr(Cs),Ts?.(ei),E({type:"onDragOver",event:ei})})},[ot]),Wp(()=>{We.current={activatorEvent:xe,active:be,activeNode:Fe,collisionRect:Zn,collisions:Li,droppableRects:ye,draggableNodes:W,draggingNode:Ct,draggingNodeRect:Et,droppableContainers:re,over:Wt,scrollableAncestors:kr,scrollAdjustedTranslate:Kn},Ae.current={initial:Et,translated:Zn}},[be,Fe,Li,Zn,W,Ct,Et,ye,re,Wt,kr,Kn]),I3e({...pt,delta:q,draggingRect:Zn,pointerCoordinates:Mn,scrollableAncestors:kr,scrollableAncestorRects:rn});const ln=k.useMemo(()=>({active:be,activeNode:Fe,activeNodeRect:st,activatorEvent:xe,collisions:Li,containerNodeRect:et,dragOverlay:Ge,draggableNodes:W,droppableContainers:re,droppableRects:ye,over:Wt,measureDroppableContainers:Le,scrollableAncestors:kr,scrollableAncestorRects:rn,measuringConfiguration:ue,measuringScheduled:He,windowRect:on}),[be,Fe,st,xe,Li,et,Ge,W,re,ye,Wt,Le,kr,rn,ue,He,on]),Jn=k.useMemo(()=>({activatorEvent:xe,activators:Ln,active:be,activeNodeRect:st,ariaDescribedById:{draggable:Oe},dispatch:w,draggableNodes:W,over:Wt,measureDroppableContainers:Le}),[xe,Ln,be,st,w,Oe,W,Wt,Le]);return _o.createElement(Pre.Provider,{value:T},_o.createElement(z_.Provider,{value:Jn},_o.createElement(qre.Provider,{value:ln},_o.createElement(x5.Provider,{value:Ht},l)),_o.createElement(Z3e,{disabled:c?.restoreFocus===!1})),_o.createElement(t3e,{...c,hiddenTextDescribedById:Oe}));function en(){const Dr=ge?.autoScrollEnabled===!1,An=typeof u=="object"?u.enabled===!1:u===!1,cn=P&&!Dr&&!An;return typeof u=="object"?{...u,enabled:cn}:{enabled:cn}}}),rMe=k.createContext(null),kz="button",nMe="Draggable";function iMe(t){let{id:e,data:r,disabled:n=!1,attributes:i}=t;const s=v5(nMe),{activators:a,activatorEvent:c,active:u,activeNodeRect:l,ariaDescribedById:d,draggableNodes:f,over:A}=k.useContext(z_),{role:p=kz,roleDescription:v="draggable",tabIndex:y=0}=i??{},x=u?.id===e,w=k.useContext(x?x5:rMe),[E,T]=gj(),[C,j]=gj(),P=V3e(a,e),U=kE(r);Wp(()=>(f.set(e,{id:e,key:s,node:E,activatorNode:C,data:U}),()=>{const q=f.get(e);q&&q.key===s&&f.delete(e)}),[f,e]);const W=k.useMemo(()=>({role:p,tabIndex:y,"aria-disabled":n,"aria-pressed":x&&p===kz?!0:void 0,"aria-roledescription":v,"aria-describedby":d.draggable}),[n,p,y,x,v,d.draggable]);return{active:u,activatorEvent:c,activeNodeRect:l,attributes:W,isDragging:x,listeners:n?void 0:P,node:E,over:A,setNodeRef:T,setActivatorNodeRef:j,transform:w}}function sMe(){return k.useContext(qre)}const aMe="Droppable",oMe={timeout:25};function lMe(t){let{data:e,disabled:r=!1,id:n,resizeObserverConfig:i}=t;const s=v5(aMe),{active:a,dispatch:c,over:u,measureDroppableContainers:l}=k.useContext(z_),d=k.useRef({disabled:r}),f=k.useRef(!1),A=k.useRef(null),p=k.useRef(null),{disabled:v,updateMeasurementsFor:y,timeout:x}={...oMe,...i},w=kE(y??n),E=k.useCallback(()=>{if(!f.current){f.current=!0;return}p.current!=null&&clearTimeout(p.current),p.current=setTimeout(()=>{l(Array.isArray(w.current)?w.current:[w.current]),p.current=null},x)},[x]),T=y5({callback:E,disabled:v||!a}),C=k.useCallback((W,q)=>{T&&(q&&(T.unobserve(q),f.current=!1),W&&T.observe(W))},[T]),[j,P]=gj(C),U=kE(e);return k.useEffect(()=>{!T||!j.current||(T.disconnect(),f.current=!1,T.observe(j.current))},[j,T]),k.useEffect(()=>(c({type:Ru.RegisterDroppable,element:{id:n,key:s,disabled:r,node:j,rect:A,data:U}}),()=>c({type:Ru.UnregisterDroppable,key:s,id:n})),[n]),k.useEffect(()=>{r!==d.current.disabled&&(c({type:Ru.SetDroppableDisabled,id:n,key:s,disabled:r}),d.current.disabled=r)},[n,s,r,c]),{active:a,rect:A,isOver:u?.id===n,node:j,over:u,setNodeRef:P}}function cMe(t){let{animation:e,children:r}=t;const[n,i]=k.useState(null),[s,a]=k.useState(null),c=vj(r);return!r&&!n&&c&&i(c),Wp(()=>{if(!s)return;const u=n?.key,l=n?.props.id;if(u==null||l==null){i(null);return}Promise.resolve(e(l,s)).then(()=>{i(null)})},[e,n,s]),_o.createElement(_o.Fragment,null,r,n?k.cloneElement(n,{ref:a}):null)}const uMe={x:0,y:0,scaleX:1,scaleY:1};function dMe(t){let{children:e}=t;return _o.createElement(z_.Provider,{value:Yre},_o.createElement(x5.Provider,{value:uMe},e))}const hMe={position:"fixed",touchAction:"none"},fMe=t=>BM(t)?"transform 250ms ease":void 0,AMe=k.forwardRef((t,e)=>{let{as:r,activatorEvent:n,adjustScale:i,children:s,className:a,rect:c,style:u,transform:l,transition:d=fMe}=t;if(!c)return null;const f=i?l:{...l,scaleX:1,scaleY:1},A={...hMe,width:c.width,height:c.height,top:c.top,left:c.left,transform:IE.Transform.toString(f),transformOrigin:i&&n?i3e(n,c):void 0,transition:typeof d=="function"?d(n):d,...u};return _o.createElement(r,{className:a,style:A,ref:e},s)}),mMe=t=>e=>{let{active:r,dragOverlay:n}=e;const i={},{styles:s,className:a}=t;if(s!=null&&s.active)for(const[c,u]of Object.entries(s.active))u!==void 0&&(i[c]=r.node.style.getPropertyValue(c),r.node.style.setProperty(c,u));if(s!=null&&s.dragOverlay)for(const[c,u]of Object.entries(s.dragOverlay))u!==void 0&&n.node.style.setProperty(c,u);return a!=null&&a.active&&r.node.classList.add(a.active),a!=null&&a.dragOverlay&&n.node.classList.add(a.dragOverlay),function(){for(const[u,l]of Object.entries(i))r.node.style.setProperty(u,l);a!=null&&a.active&&r.node.classList.remove(a.active)}},pMe=t=>{let{transform:{initial:e,final:r}}=t;return[{transform:IE.Transform.toString(e)},{transform:IE.Transform.toString(r)}]},gMe={duration:250,easing:"ease",keyframes:pMe,sideEffects:mMe({styles:{active:{opacity:"0"}}})};function vMe(t){let{config:e,draggableNodes:r,droppableContainers:n,measuringConfiguration:i}=t;return g5((s,a)=>{if(e===null)return;const c=r.get(s);if(!c)return;const u=c.node.current;if(!u)return;const l=Wre(a);if(!l)return;const{transform:d}=vh(a).getComputedStyle(a),f=Dre(d);if(!f)return;const A=typeof e=="function"?e:yMe(e);return Vre(u,i.draggable.measure),A({active:{id:s,data:c.data,node:u,rect:i.draggable.measure(u)},draggableNodes:r,dragOverlay:{node:a,rect:i.dragOverlay.measure(l)},droppableContainers:n,measuringConfiguration:i,transform:f})})}function yMe(t){const{duration:e,easing:r,sideEffects:n,keyframes:i}={...gMe,...t};return s=>{let{active:a,dragOverlay:c,transform:u,...l}=s;if(!e)return;const d={x:c.rect.left-a.rect.left,y:c.rect.top-a.rect.top},f={scaleX:u.scaleX!==1?a.rect.width*u.scaleX/c.rect.width:1,scaleY:u.scaleY!==1?a.rect.height*u.scaleY/c.rect.height:1},A={x:u.x-d.x,y:u.y-d.y,...f},p=i({...l,active:a,dragOverlay:c,transform:{initial:u,final:A}}),[v]=p,y=p[p.length-1];if(JSON.stringify(v)===JSON.stringify(y))return;const x=n?.({active:a,dragOverlay:c,...l}),w=c.node.animate(p,{duration:e,easing:r,fill:"forwards"});return new Promise(E=>{w.onfinish=()=>{x?.(),E()}})}}let Iz=0;function xMe(t){return k.useMemo(()=>{if(t!=null)return Iz++,Iz},[t])}const bMe=_o.memo(t=>{let{adjustScale:e=!1,children:r,dropAnimation:n,style:i,transition:s,modifiers:a,wrapperElement:c="div",className:u,zIndex:l=999}=t;const{activatorEvent:d,active:f,activeNodeRect:A,containerNodeRect:p,draggableNodes:v,droppableContainers:y,dragOverlay:x,over:w,measuringConfiguration:E,scrollableAncestors:T,scrollableAncestorRects:C,windowRect:j}=sMe(),P=k.useContext(x5),U=xMe(f?.id),W=Xre(a,{activatorEvent:d,active:f,activeNodeRect:A,containerNodeRect:p,draggingNodeRect:x.rect,over:w,overlayNodeRect:x.rect,scrollableAncestors:T,scrollableAncestorRects:C,transform:P,windowRect:j}),q=FM(A),re=vMe({config:n,draggableNodes:v,droppableContainers:y,measuringConfiguration:E}),ie=q?x.setRef:void 0;return _o.createElement(dMe,null,_o.createElement(cMe,{animation:re},f&&U?_o.createElement(AMe,{key:U,id:f.id,ref:ie,as:c,activatorEvent:d,adjustScale:e,className:u,transition:s,rect:q,style:{zIndex:l,...i},transform:W},r):null))});function Lz({id:t,children:e,data:r}){const{attributes:n,listeners:i,setNodeRef:s,transform:a,isDragging:c}=iMe({id:t,data:r}),u=a?{transform:`translate3d(${a.x}px, ${a.y}px, 0)`}:void 0;return o.jsx("div",{ref:s,style:u,...i,...n,className:`cursor-grab active:cursor-grabbing ${c?"opacity-50":""}`,children:e})}function wMe({event:t,children:e,isOver:r}){const{setNodeRef:n}=lMe({id:`event-${t.id}`,data:{event:t}});return o.jsx("div",{ref:n,className:`bg-gray-800/50 rounded-xl border-2 transition-all ${r?"border-orange-500 bg-orange-500/10":"border-gray-700/50"}`,children:e})}function EMe({events:t,crewMembers:e,equipment:r,onAssignCrew:n,onUnassignCrew:i,onAssignEquipment:s,onUnassignEquipment:a}){const[c,u]=k.useState(null),[l,d]=k.useState(null),[f,A]=k.useState(null),p=r3e(QL(MM,{activationConstraint:{distance:8}}),QL(Kre,{activationConstraint:{delay:250,tolerance:5}}),QL(RM)),v=new Date;v.setHours(0,0,0,0);const y=t.filter(j=>new Date(j.date)>=v&&j.status!=="cancelled"&&j.status!=="completed").sort((j,P)=>new Date(j.date)-new Date(P.date));function x(j){u(j.active.id),d(j.active.data.current)}function w(j){A(j.over?.id||null)}function E(j){const{active:P,over:U}=j;if(U&&U.id.toString().startsWith("event-")){const W=U.id.toString().replace("event-",""),q=t.find(re=>re.id===W);if(q&&P.data.current){const{type:re,item:ie}=P.data.current;re==="crew"?n(q,ie):re==="equipment"&&s(q,ie)}}u(null),d(null),A(null)}function T(){u(null),d(null),A(null)}function C(j){return new Date(j+"T00:00:00").toLocaleDateString("en-AU",{weekday:"short",day:"numeric",month:"short"})}return new Set(y.flatMap(j=>j.crew_ids||[])),new Set(y.flatMap(j=>j.equipment_ids||[])),o.jsxs(tMe,{sensors:p,collisionDetection:l3e,onDragStart:x,onDragOver:w,onDragEnd:E,onDragCancel:T,children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[o.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[" Upcoming Events",o.jsx("span",{className:"text-sm font-normal text-gray-400",children:"Drop crew & equipment here"})]}),o.jsxs("div",{className:"space-y-3 max-h-[600px] overflow-y-auto pr-2",children:[y.map(j=>{const P=f===`event-${j.id}`,U=e.filter(q=>(j.crew_ids||[]).includes(q.id)),W=r.filter(q=>(j.equipment_ids||[]).includes(q.id));return o.jsx(wMe,{event:j,isOver:P,children:o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-white",children:j.name}),o.jsx("p",{className:"text-orange-500 text-sm",children:j.client})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-sm text-gray-400",children:C(j.date)}),o.jsx("div",{className:`text-xs px-2 py-0.5 rounded-full inline-block mt-1 ${j.status==="confirmed"?"bg-green-500/20 text-green-400":j.status==="tentative"?"bg-yellow-500/20 text-yellow-400":"bg-gray-500/20 text-gray-400"}`,children:j.status})]})]}),o.jsxs("div",{className:"mb-2",children:[o.jsxs("div",{className:"text-xs text-gray-500 mb-1",children:[" Crew (",U.length,")"]}),o.jsx("div",{className:"flex flex-wrap gap-1",children:U.length===0?o.jsx("span",{className:"text-xs text-gray-600 italic",children:"No crew assigned"}):U.map(q=>o.jsxs("span",{className:"text-xs bg-green-500/20 text-green-400 px-2 py-1 rounded flex items-center gap-1 group",children:[q.name,o.jsx("button",{onClick:()=>i(j,q),className:"opacity-0 group-hover:opacity-100 hover:text-red-400 transition",children:""})]},q.id))})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"text-xs text-gray-500 mb-1",children:[" Equipment (",W.length,")"]}),o.jsx("div",{className:"flex flex-wrap gap-1",children:W.length===0?o.jsx("span",{className:"text-xs text-gray-600 italic",children:"No equipment assigned"}):W.map(q=>o.jsxs("span",{className:"text-xs bg-blue-500/20 text-blue-400 px-2 py-1 rounded flex items-center gap-1 group",children:[q.name,o.jsx("button",{onClick:()=>a(j,q),className:"opacity-0 group-hover:opacity-100 hover:text-red-400 transition",children:""})]},q.id))})]})]})},j.id)}),y.length===0&&o.jsx("div",{className:"text-center text-gray-500 py-12",children:"No upcoming events to assign"})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-gray-800/30 rounded-xl border border-gray-700/50 p-4",children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-3 flex items-center gap-2",children:" Crew Pool"}),o.jsxs("div",{className:"space-y-2 max-h-[250px] overflow-y-auto",children:[e.map(j=>o.jsx(Lz,{id:`crew-${j.id}`,data:{type:"crew",item:j},children:o.jsxs("div",{className:"p-2 bg-gray-700/50 rounded-lg border border-gray-600/50 hover:border-green-500/50 transition",children:[o.jsx("div",{className:"font-medium text-white text-sm",children:j.name}),o.jsx("div",{className:"text-xs text-gray-400",children:j.role||"No role"})]})},j.id)),e.length===0&&o.jsx("p",{className:"text-gray-500 text-sm text-center py-4",children:"No crew members"})]})]}),o.jsxs("div",{className:"bg-gray-800/30 rounded-xl border border-gray-700/50 p-4",children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-3 flex items-center gap-2",children:" Equipment Pool"}),o.jsxs("div",{className:"space-y-2 max-h-[250px] overflow-y-auto",children:[r.map(j=>o.jsx(Lz,{id:`equip-${j.id}`,data:{type:"equipment",item:j},children:o.jsxs("div",{className:"p-2 bg-gray-700/50 rounded-lg border border-gray-600/50 hover:border-blue-500/50 transition",children:[o.jsx("div",{className:"font-medium text-white text-sm",children:j.name}),o.jsxs("div",{className:"text-xs text-gray-400",children:[j.category,"  ",j.quantity]})]})},j.id)),r.length===0&&o.jsx("p",{className:"text-gray-500 text-sm text-center py-4",children:"No equipment"})]})]})]})]}),o.jsx(bMe,{children:c&&l&&o.jsx("div",{className:`p-2 rounded-lg border shadow-xl ${l.type==="crew"?"bg-green-600 border-green-500":"bg-blue-600 border-blue-500"}`,children:o.jsx("div",{className:"font-medium text-white text-sm",children:l.item.name})})})]})}function _Me(){const[t,e]=k.useState([]),[r,n]=k.useState([]),[i,s]=k.useState([]),[a,c]=k.useState(!0),[u,l]=k.useState("grid"),[d,f]=k.useState(null),[A,p]=k.useState("events"),[v,y]=k.useState(!1),[x,w]=k.useState(!1),[E,T]=k.useState(!1),[C,j]=k.useState(null),[P,U]=k.useState(null),[W,q]=k.useState(null),[re,ie]=k.useState(null),[Ae,be]=k.useState({name:"",client:"",date:"",location:"",status:"tentative",notes:"",crew_ids:[],equipment_ids:[],flight_links:"",accommodation_links:"",rental_links:""}),[Ee,ge]=k.useState({name:"",role:"",phone:"",email:""}),[se,xe]=k.useState({name:"",category:"Camera",quantity:1,notes:""}),[ce,Me]=k.useState("upcoming"),[Oe,we]=k.useState(new Date);k.useEffect(()=>{ue()},[]);async function ue(){c(!0);const[ot,Wt,jr]=await Promise.all([Jr.from("production_events").select("*").order("date",{ascending:!0}),Jr.from("crew_members").select("*").order("name"),Jr.from("equipment_inventory").select("*").order("category, name")]);e(ot.data||[]),n(Wt.data||[]),s(jr.data||[]),c(!1)}const ye=new Date;ye.setHours(0,0,0,0);const Le=t.filter(ot=>new Date(ot.date)>=ye&&ot.status!=="cancelled").length,He=t.filter(ot=>{const Wt=new Date(ot.date);return Wt.getMonth()===ye.getMonth()&&Wt.getFullYear()===ye.getFullYear()&&ot.status!=="cancelled"}).length,Fe=t.filter(ot=>new Date(ot.date)>=ye&&(!ot.crew_ids||ot.crew_ids.length===0)).length,At=t.filter(ot=>{const Wt=new Date(ot.date);return ce==="upcoming"?Wt>=ye&&ot.status!=="completed"&&ot.status!=="cancelled":ce==="completed"?ot.status==="completed":ce==="thisMonth"?Wt.getMonth()===ye.getMonth()&&Wt.getFullYear()===ye.getFullYear():!0});async function pt(ot){ot.preventDefault();const Wt={name:Ae.name,client:Ae.client,date:Ae.date,location:Ae.location,status:Ae.status,notes:Ae.notes,crew_ids:Ae.crew_ids,equipment_ids:Ae.equipment_ids,flight_links:Ae.flight_links.split(",").map(jr=>jr.trim()).filter(Boolean),accommodation_links:Ae.accommodation_links.split(",").map(jr=>jr.trim()).filter(Boolean),rental_links:Ae.rental_links.split(",").map(jr=>jr.trim()).filter(Boolean)};P?await Jr.from("production_events").update(Wt).eq("id",P.id):await Jr.from("production_events").insert([Wt]),y(!1),U(null),et(),ue()}async function Pe(ot){confirm("Delete this event? This cannot be undone.")&&(await Jr.from("production_events").delete().eq("id",ot),j(null),ue())}function st(ot){U(ot),be({name:ot.name,client:ot.client,date:ot.date,location:ot.location||"",status:ot.status,notes:ot.notes||"",crew_ids:ot.crew_ids||[],equipment_ids:ot.equipment_ids||[],flight_links:(ot.flight_links||[]).join(", "),accommodation_links:(ot.accommodation_links||[]).join(", "),rental_links:(ot.rental_links||[]).join(", ")}),y(!0)}function et(){be({name:"",client:"",date:"",location:"",status:"tentative",notes:"",crew_ids:[],equipment_ids:[],flight_links:"",accommodation_links:"",rental_links:""})}async function We(ot){ot.preventDefault(),W?await Jr.from("crew_members").update(Ee).eq("id",W.id):await Jr.from("crew_members").insert([Ee]),w(!1),q(null),ge({name:"",role:"",phone:"",email:""}),ue()}function gt(ot){q(ot),ge({name:ot.name,role:ot.role||"",phone:ot.phone||"",email:ot.email||""}),w(!0)}async function Ge(ot){confirm("Delete this crew member?")&&(await Jr.from("crew_members").delete().eq("id",ot),ue())}async function Ct(ot){ot.preventDefault(),re?await Jr.from("equipment_inventory").update(se).eq("id",re.id):await Jr.from("equipment_inventory").insert([se]),T(!1),ie(null),xe({name:"",category:"Camera",quantity:1,notes:""}),ue()}function Et(ot){ie(ot),xe({name:ot.name,category:ot.category||"Camera",quantity:ot.quantity||1,notes:ot.notes||""}),T(!0)}async function Ut(ot){confirm("Delete this equipment?")&&(await Jr.from("equipment_inventory").delete().eq("id",ot),ue())}async function ir(ot,Wt,jr){const rr=t.find(fr=>fr.id===ot);if(!rr)return;const Ht=jr?[...rr.crew_ids||[],Wt]:(rr.crew_ids||[]).filter(fr=>fr!==Wt);await Jr.from("production_events").update({crew_ids:Ht}).eq("id",ot),ue(),C?.id===ot&&j({...C,crew_ids:Ht})}async function on(ot,Wt,jr){const rr=t.find(fr=>fr.id===ot);if(!rr)return;const Ht=jr?[...rr.equipment_ids||[],Wt]:(rr.equipment_ids||[]).filter(fr=>fr!==Wt);await Jr.from("production_events").update({equipment_ids:Ht}).eq("id",ot),ue(),C?.id===ot&&j({...C,equipment_ids:Ht})}function kr(ot){return new Date(ot).toLocaleDateString("en-AU",{weekday:"short",day:"numeric",month:"short"})}function rn(ot){return new Date(ot).toLocaleDateString("en-AU",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}function wn(ot){return(ot||[]).map(Wt=>r.find(jr=>jr.id===Wt)).filter(Boolean)}function Mn(ot){return(ot||[]).map(Wt=>i.find(jr=>jr.id===Wt)).filter(Boolean)}function dn(ot){const[Wt,jr,rr]=ot.split("-").map(Number),Ht=new Date(Wt,jr-1,rr),fr=new Date;fr.setHours(0,0,0,0);const Hr=Math.round((Ht-fr)/(1e3*60*60*24));return Hr===0?"Today":Hr===1?"Tomorrow":Hr<0?`${Math.abs(Hr)}d ago`:`${Hr}d`}const pn={confirmed:"bg-green-500",tentative:"bg-yellow-500",completed:"bg-gray-500",cancelled:"bg-red-500"},mn={confirmed:"border-green-500/30",tentative:"border-yellow-500/30",completed:"border-gray-500/30",cancelled:"border-red-500/30"},Kn=["Camera","Lens","Audio","Lighting","Support","Monitor","Power","Media","Transport","Other"];function Zn(){const ot=Oe.getFullYear(),Wt=Oe.getMonth(),jr=new Date(ot,Wt,1),rr=new Date(ot,Wt+1,0),Ht=jr.getDay(),fr=[];for(let Gr=Ht-1;Gr>=0;Gr--){const Ln=new Date(ot,Wt,-Gr);fr.push({date:Ln,isCurrentMonth:!1})}for(let Gr=1;Gr<=rr.getDate();Gr++)fr.push({date:new Date(ot,Wt,Gr),isCurrentMonth:!0});const Hr=42-fr.length;for(let Gr=1;Gr<=Hr;Gr++)fr.push({date:new Date(ot,Wt+1,Gr),isCurrentMonth:!1});return fr}function Li(ot){const Wt=ot.getFullYear(),jr=String(ot.getMonth()+1).padStart(2,"0"),rr=String(ot.getDate()).padStart(2,"0"),Ht=`${Wt}-${jr}-${rr}`;return t.filter(fr=>fr.date===Ht)}return a?o.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:o.jsx("div",{className:"animate-pulse text-gray-400",children:"Loading..."})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-white",children:"Crew & Logistics"}),o.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Manage teams, equipment, and travel for events"})]}),A==="events"&&o.jsxs("button",{onClick:()=>{et(),U(null),y(!0)},className:"bg-orange-600 hover:bg-orange-700 px-4 py-2.5 rounded-lg font-medium flex items-center justify-center sm:justify-start",children:[o.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"New Event"]}),A==="crew"&&o.jsxs("button",{onClick:()=>{q(null),ge({name:"",role:"",phone:"",email:""}),w(!0)},className:"bg-green-600 hover:bg-green-700 px-4 py-2.5 rounded-lg font-medium flex items-center justify-center sm:justify-start",children:[o.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Crew"]}),A==="equipment"&&o.jsxs("button",{onClick:()=>{ie(null),xe({name:"",category:"Camera",quantity:1,notes:""}),T(!0)},className:"bg-blue-600 hover:bg-blue-700 px-4 py-2.5 rounded-lg font-medium flex items-center justify-center sm:justify-start",children:[o.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Equipment"]})]}),o.jsxs("div",{className:"flex space-x-1 bg-gray-800/50 rounded-xl p-1 border border-gray-700/50",children:[o.jsxs("button",{onClick:()=>p("events"),className:`flex-1 px-4 py-3 rounded-lg font-medium transition flex items-center justify-center gap-2 ${A==="events"?"bg-orange-600 text-white":"text-gray-400 hover:text-white hover:bg-gray-700/50"}`,children:[o.jsx("span",{children:""}),o.jsx("span",{children:"Events"}),o.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${A==="events"?"bg-orange-700":"bg-gray-700"}`,children:Le})]}),o.jsxs("button",{onClick:()=>p("crew"),className:`flex-1 px-4 py-3 rounded-lg font-medium transition flex items-center justify-center gap-2 ${A==="crew"?"bg-green-600 text-white":"text-gray-400 hover:text-white hover:bg-gray-700/50"}`,children:[o.jsx("span",{children:""}),o.jsx("span",{children:"Crew"}),o.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${A==="crew"?"bg-green-700":"bg-gray-700"}`,children:r.length})]}),o.jsxs("button",{onClick:()=>p("equipment"),className:`flex-1 px-4 py-3 rounded-lg font-medium transition flex items-center justify-center gap-2 ${A==="equipment"?"bg-blue-600 text-white":"text-gray-400 hover:text-white hover:bg-gray-700/50"}`,children:[o.jsx("span",{children:""}),o.jsx("span",{children:"Equipment"}),o.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${A==="equipment"?"bg-blue-700":"bg-gray-700"}`,children:i.length})]}),o.jsxs("button",{onClick:()=>p("assign"),className:`flex-1 px-4 py-3 rounded-lg font-medium transition flex items-center justify-center gap-2 ${A==="assign"?"bg-purple-600 text-white":"text-gray-400 hover:text-white hover:bg-gray-700/50"}`,children:[o.jsx("span",{children:""}),o.jsx("span",{className:"hidden sm:inline",children:"Assign"})]})]}),A==="events"&&o.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[o.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-4 border border-gray-700/50",children:[o.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-orange-500",children:Le}),o.jsx("div",{className:"text-gray-400 text-xs sm:text-sm",children:"Upcoming Events"})]}),o.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-4 border border-gray-700/50",children:[o.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-green-500",children:r.length}),o.jsx("div",{className:"text-gray-400 text-xs sm:text-sm",children:"Crew Members"})]}),o.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-4 border border-gray-700/50",children:[o.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-blue-500",children:i.length}),o.jsx("div",{className:"text-gray-400 text-xs sm:text-sm",children:"Equipment Items"})]}),o.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-4 border border-gray-700/50",children:[o.jsx("div",{className:`text-2xl sm:text-3xl font-bold ${Fe>0?"text-red-500":"text-purple-500"}`,children:Fe>0?Fe:He}),o.jsx("div",{className:"text-gray-400 text-xs sm:text-sm",children:Fe>0?" Need Crew":"This Month"})]})]}),A==="events"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[o.jsxs("div",{className:"flex items-center overflow-x-auto pb-2 sm:pb-0 -mx-1 px-1",children:[o.jsx("span",{className:"text-gray-400 text-sm mr-3 whitespace-nowrap",children:"Filter:"}),o.jsx("div",{className:"flex space-x-2",children:[{key:"upcoming",label:"Upcoming"},{key:"all",label:"All"},{key:"thisMonth",label:"This Month"},{key:"completed",label:"Completed"}].map(ot=>o.jsx("button",{onClick:()=>Me(ot.key),className:`px-3 py-1.5 rounded-lg text-sm whitespace-nowrap transition ${ce===ot.key?"bg-orange-600 text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:ot.label},ot.key))})]}),o.jsxs("div",{className:"flex items-center space-x-1 bg-gray-800 rounded-lg p-1",children:[o.jsx("button",{onClick:()=>l("grid"),className:`p-2 rounded ${u==="grid"?"bg-gray-700 text-white":"text-gray-400 hover:text-white"}`,title:"Grid View",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),o.jsx("button",{onClick:()=>l("list"),className:`p-2 rounded ${u==="list"?"bg-gray-700 text-white":"text-gray-400 hover:text-white"}`,title:"List View",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})})}),o.jsx("button",{onClick:()=>l("calendar"),className:`p-2 rounded ${u==="calendar"?"bg-gray-700 text-white":"text-gray-400 hover:text-white"}`,title:"Calendar View",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})]})]}),u==="grid"&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[At.map(ot=>o.jsxs("div",{onClick:()=>j(ot),className:`bg-gray-800/50 rounded-xl border ${mn[ot.status]} p-4 sm:p-5 hover:border-orange-500/50 transition cursor-pointer`,children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsx("span",{className:`${pn[ot.status]} px-2 py-0.5 rounded text-xs font-medium capitalize`,children:ot.status}),o.jsxs("div",{className:"text-right",children:[o.jsx("span",{className:"text-gray-400 text-sm",children:kr(ot.date)}),o.jsx("div",{className:`text-xs ${new Date(ot.date)<ye?"text-gray-500":"text-orange-400"}`,children:dn(ot.date)})]})]}),o.jsx("h3",{className:"font-bold text-white mb-1 line-clamp-1",children:ot.name}),o.jsx("p",{className:"text-orange-500 text-sm mb-3",children:ot.client}),ot.location&&o.jsxs("p",{className:"text-gray-400 text-sm mb-3 flex items-center",children:[o.jsx("svg",{className:"w-4 h-4 mr-1 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"})}),o.jsx("span",{className:"truncate",children:ot.location})]}),o.jsxs("div",{className:"flex items-center flex-wrap gap-2 text-xs",children:[o.jsxs("span",{className:`px-2 py-1 rounded ${(ot.crew_ids?.length||0)>0?"bg-green-500/20 text-green-400":"bg-gray-700 text-gray-500"}`,children:[" ",ot.crew_ids?.length||0," crew"]}),o.jsxs("span",{className:`px-2 py-1 rounded ${(ot.equipment_ids?.length||0)>0?"bg-blue-500/20 text-blue-400":"bg-gray-700 text-gray-500"}`,children:[" ",ot.equipment_ids?.length||0," items"]}),(ot.flight_links?.length||0)+(ot.accommodation_links?.length||0)+(ot.rental_links?.length||0)>0&&o.jsx("span",{className:"px-2 py-1 rounded bg-purple-500/20 text-purple-400",children:" Travel"})]})]},ot.id)),At.length===0&&o.jsx("div",{className:"col-span-full text-center py-12 text-gray-500",children:o.jsx("p",{children:"No events found."})})]}),u==="list"&&o.jsxs("div",{className:"bg-gray-800/30 rounded-xl border border-gray-700/50 overflow-hidden",children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full min-w-[600px]",children:[o.jsx("thead",{className:"bg-gray-800/50",children:o.jsxs("tr",{className:"text-left text-gray-400 text-xs uppercase",children:[o.jsx("th",{className:"px-4 py-3",children:"Date"}),o.jsx("th",{className:"px-4 py-3",children:"Event"}),o.jsx("th",{className:"px-4 py-3 hidden sm:table-cell",children:"Client"}),o.jsx("th",{className:"px-4 py-3",children:"Status"}),o.jsx("th",{className:"px-4 py-3 text-center",children:"Crew"}),o.jsx("th",{className:"px-4 py-3 text-center",children:"Gear"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-700/50",children:At.map(ot=>o.jsxs("tr",{onClick:()=>j(ot),className:"hover:bg-gray-800/50 cursor-pointer transition",children:[o.jsxs("td",{className:"px-4 py-3",children:[o.jsx("div",{className:"text-white text-sm",children:kr(ot.date)}),o.jsx("div",{className:`text-xs ${new Date(ot.date)<ye?"text-gray-500":"text-orange-400"}`,children:dn(ot.date)})]}),o.jsxs("td",{className:"px-4 py-3",children:[o.jsx("div",{className:"font-medium text-white",children:ot.name}),o.jsx("div",{className:"text-sm text-gray-400 sm:hidden",children:ot.client})]}),o.jsx("td",{className:"px-4 py-3 text-orange-500 text-sm hidden sm:table-cell",children:ot.client}),o.jsx("td",{className:"px-4 py-3",children:o.jsx("span",{className:`${pn[ot.status]} px-2 py-0.5 rounded text-xs font-medium capitalize`,children:ot.status})}),o.jsx("td",{className:"px-4 py-3 text-center",children:o.jsx("span",{className:`text-sm ${(ot.crew_ids?.length||0)>0?"text-green-400":"text-gray-500"}`,children:ot.crew_ids?.length||0})}),o.jsx("td",{className:"px-4 py-3 text-center",children:o.jsx("span",{className:`text-sm ${(ot.equipment_ids?.length||0)>0?"text-blue-400":"text-gray-500"}`,children:ot.equipment_ids?.length||0})})]},ot.id))})]})}),At.length===0&&o.jsx("div",{className:"text-center py-12 text-gray-500",children:"No events found."})]}),u==="calendar"&&o.jsxs("div",{className:"bg-gray-800/30 rounded-xl border border-gray-700/50 p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("button",{onClick:()=>we(new Date(Oe.getFullYear(),Oe.getMonth()-1)),className:"p-2 hover:bg-gray-700 rounded-lg text-gray-400 hover:text-white",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),o.jsx("h3",{className:"text-lg font-bold text-white",children:Oe.toLocaleDateString("en-AU",{month:"long",year:"numeric"})}),o.jsx("button",{onClick:()=>we(new Date(Oe.getFullYear(),Oe.getMonth()+1)),className:"p-2 hover:bg-gray-700 rounded-lg text-gray-400 hover:text-white",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),o.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(ot=>o.jsx("div",{className:"text-center text-xs text-gray-500 py-2 font-medium",children:ot},ot)),Zn().map((ot,Wt)=>{const jr=Li(ot.date),rr=ot.date.toDateString()===new Date().toDateString();return o.jsxs("div",{className:`min-h-[80px] sm:min-h-[100px] p-1 border border-gray-700/30 rounded ${ot.isCurrentMonth?"bg-gray-800/30":"bg-gray-900/30"} ${rr?"ring-2 ring-orange-500":""}`,children:[o.jsx("div",{className:`text-xs mb-1 ${ot.isCurrentMonth?"text-gray-400":"text-gray-600"} ${rr?"text-orange-500 font-bold":""}`,children:ot.date.getDate()}),o.jsxs("div",{className:"space-y-1",children:[jr.slice(0,2).map(Ht=>o.jsx("div",{onClick:fr=>{fr.stopPropagation(),j(Ht)},className:`text-xs px-1 py-0.5 rounded truncate cursor-pointer ${pn[Ht.status]} text-white`,children:Ht.name},Ht.id)),jr.length>2&&o.jsxs("div",{className:"text-xs text-gray-500 px-1",children:["+",jr.length-2," more"]})]})]},Wt)})]})]})]}),A==="crew"&&o.jsxs("div",{className:"bg-gray-800/30 rounded-xl border border-gray-700/50 p-4 sm:p-6",children:[o.jsx("div",{className:"flex items-center justify-between mb-4",children:o.jsx("h3",{className:"text-lg font-bold text-white",children:" Crew Members"})}),o.jsxs("div",{className:"space-y-2",children:[r.map(ot=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-700/30 rounded-lg hover:bg-gray-700/50 cursor-pointer transition",onClick:()=>gt(ot),children:[o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("div",{className:"font-medium text-white",children:ot.name}),o.jsx("div",{className:"text-sm text-gray-400 truncate",children:ot.role||"No role assigned"})]}),o.jsxs("div",{className:"flex items-center space-x-2 ml-2",children:[ot.phone&&o.jsx("a",{href:`tel:${ot.phone}`,onClick:Wt=>Wt.stopPropagation(),className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded",children:""}),ot.email&&o.jsx("a",{href:`mailto:${ot.email}`,onClick:Wt=>Wt.stopPropagation(),className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded",children:""}),o.jsx("button",{onClick:Wt=>{Wt.stopPropagation(),Ge(ot.id)},className:"p-2 text-red-500/50 hover:text-red-500 hover:bg-red-500/10 rounded",children:""})]})]},ot.id)),r.length===0&&o.jsx("p",{className:"text-gray-500 text-center py-8",children:'No crew members yet. Click "Add Crew" to add one.'})]})]}),A==="equipment"&&o.jsxs("div",{className:"bg-gray-800/30 rounded-xl border border-gray-700/50 p-4 sm:p-6",children:[o.jsx("div",{className:"flex items-center justify-between mb-4",children:o.jsx("h3",{className:"text-lg font-bold text-white",children:" Equipment Inventory"})}),o.jsxs("div",{className:"space-y-3 max-h-[400px] overflow-y-auto",children:[Kn.filter(ot=>i.some(Wt=>Wt.category===ot)).map(ot=>o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wide mb-2 sticky top-0 bg-gray-800/90 py-1",children:ot}),i.filter(Wt=>Wt.category===ot).map(Wt=>o.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-700/30 rounded mb-1 hover:bg-gray-700/50 cursor-pointer transition",onClick:()=>Et(Wt),children:[o.jsx("span",{className:"text-white text-sm",children:Wt.name}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("span",{className:"text-sm text-gray-400",children:["",Wt.quantity]}),o.jsx("button",{onClick:jr=>{jr.stopPropagation(),Ut(Wt.id)},className:"text-red-500/50 hover:text-red-500 text-xs",children:""})]})]},Wt.id))]},ot)),i.length===0&&o.jsx("p",{className:"text-gray-500 text-center py-8",children:'No equipment yet. Click "Add Equipment" to add some.'})]})]}),A==="assign"&&o.jsx(EMe,{events:t,crewMembers:r,equipment:i,onAssignCrew:async(ot,Wt)=>{const jr=[...ot.crew_ids||[],Wt.id];await Jr.from("production_events").update({crew_ids:jr}).eq("id",ot.id),e(t.map(rr=>rr.id===ot.id?{...rr,crew_ids:jr}:rr))},onUnassignCrew:async(ot,Wt)=>{const jr=(ot.crew_ids||[]).filter(rr=>rr!==Wt.id);await Jr.from("production_events").update({crew_ids:jr}).eq("id",ot.id),e(t.map(rr=>rr.id===ot.id?{...rr,crew_ids:jr}:rr))},onAssignEquipment:async(ot,Wt)=>{const jr=[...ot.equipment_ids||[],Wt.id];await Jr.from("production_events").update({equipment_ids:jr}).eq("id",ot.id),e(t.map(rr=>rr.id===ot.id?{...rr,equipment_ids:jr}:rr))},onUnassignEquipment:async(ot,Wt)=>{const jr=(ot.equipment_ids||[]).filter(rr=>rr!==Wt.id);await Jr.from("production_events").update({equipment_ids:jr}).eq("id",ot.id),e(t.map(rr=>rr.id===ot.id?{...rr,equipment_ids:jr}:rr))}}),v&&o.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-start sm:items-center justify-center z-50 p-4 overflow-y-auto",children:o.jsxs("div",{className:"bg-gray-800 rounded-xl w-full max-w-2xl my-4",children:[o.jsxs("div",{className:"p-4 sm:p-6 border-b border-gray-700 flex items-center justify-between sticky top-0 bg-gray-800 rounded-t-xl",children:[o.jsx("h3",{className:"text-xl font-bold text-white",children:P?"Edit Event":"New Event"}),o.jsx("button",{onClick:()=>y(!1),className:"text-gray-400 hover:text-white text-2xl leading-none",children:""})]}),o.jsxs("form",{onSubmit:pt,className:"p-4 sm:p-6 space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Event Name *"}),o.jsx("input",{type:"text",required:!0,value:Ae.name,onChange:ot=>be({...Ae,name:ot.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white focus:border-orange-500 focus:outline-none"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Client *"}),o.jsx("input",{type:"text",required:!0,value:Ae.client,onChange:ot=>be({...Ae,client:ot.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white focus:border-orange-500 focus:outline-none"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Date *"}),o.jsx("input",{type:"date",required:!0,value:Ae.date,onChange:ot=>be({...Ae,date:ot.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white focus:border-orange-500 focus:outline-none"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Status"}),o.jsxs("select",{value:Ae.status,onChange:ot=>be({...Ae,status:ot.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white focus:border-orange-500 focus:outline-none",children:[o.jsx("option",{value:"tentative",children:"Tentative"}),o.jsx("option",{value:"confirmed",children:"Confirmed"}),o.jsx("option",{value:"completed",children:"Completed"}),o.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Location"}),o.jsx("input",{type:"text",value:Ae.location,onChange:ot=>be({...Ae,location:ot.target.value}),placeholder:"Venue, City",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white focus:border-orange-500 focus:outline-none"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Notes"}),o.jsx("textarea",{rows:"2",value:Ae.notes,onChange:ot=>be({...Ae,notes:ot.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white focus:border-orange-500 focus:outline-none resize-none"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Assign Crew"}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 max-h-32 overflow-y-auto bg-gray-900/50 rounded-lg p-2",children:[r.map(ot=>o.jsxs("label",{className:"flex items-center space-x-2 p-2 bg-gray-700/30 rounded cursor-pointer hover:bg-gray-700/50",children:[o.jsx("input",{type:"checkbox",checked:Ae.crew_ids.includes(ot.id),onChange:Wt=>{const jr=Wt.target.checked?[...Ae.crew_ids,ot.id]:Ae.crew_ids.filter(rr=>rr!==ot.id);be({...Ae,crew_ids:jr})},className:"rounded border-gray-600 text-orange-500 focus:ring-orange-500"}),o.jsx("span",{className:"text-white text-sm",children:ot.name})]},ot.id)),r.length===0&&o.jsx("p",{className:"text-gray-500 text-sm col-span-2 text-center py-2",children:"No crew members to assign"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Assign Equipment"}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 max-h-40 overflow-y-auto bg-gray-900/50 rounded-lg p-2",children:[i.map(ot=>o.jsxs("label",{className:"flex items-center space-x-2 p-2 bg-gray-700/30 rounded cursor-pointer hover:bg-gray-700/50",children:[o.jsx("input",{type:"checkbox",checked:Ae.equipment_ids.includes(ot.id),onChange:Wt=>{const jr=Wt.target.checked?[...Ae.equipment_ids,ot.id]:Ae.equipment_ids.filter(rr=>rr!==ot.id);be({...Ae,equipment_ids:jr})},className:"rounded border-gray-600 text-blue-500 focus:ring-blue-500"}),o.jsx("span",{className:"text-sm text-white truncate",children:ot.name})]},ot.id)),i.length===0&&o.jsx("p",{className:"text-gray-500 text-sm col-span-2 text-center py-2",children:"No equipment to assign"})]})]}),o.jsxs("div",{className:"border-t border-gray-700 pt-4",children:[o.jsx("h4",{className:"font-medium text-white mb-3",children:" Travel & Logistics"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Flight Links"}),o.jsx("input",{type:"text",value:Ae.flight_links,onChange:ot=>be({...Ae,flight_links:ot.target.value}),placeholder:"Comma-separated URLs",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 text-white text-sm focus:border-orange-500 focus:outline-none"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Accommodation Links"}),o.jsx("input",{type:"text",value:Ae.accommodation_links,onChange:ot=>be({...Ae,accommodation_links:ot.target.value}),placeholder:"Comma-separated URLs",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 text-white text-sm focus:border-orange-500 focus:outline-none"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Rental Car Links"}),o.jsx("input",{type:"text",value:Ae.rental_links,onChange:ot=>be({...Ae,rental_links:ot.target.value}),placeholder:"Comma-separated URLs",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 text-white text-sm focus:border-orange-500 focus:outline-none"})]})]})]}),o.jsxs("div",{className:"flex flex-col-reverse sm:flex-row justify-end gap-3 pt-4",children:[o.jsx("button",{type:"button",onClick:()=>y(!1),className:"px-4 py-2.5 bg-gray-700 hover:bg-gray-600 rounded-lg text-white",children:"Cancel"}),o.jsx("button",{type:"submit",className:"px-6 py-2.5 bg-orange-600 hover:bg-orange-700 rounded-lg font-medium text-white",children:P?"Save Changes":"Create Event"})]})]})]})}),C&&o.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-start sm:items-center justify-center z-50 p-4 overflow-y-auto",children:o.jsxs("div",{className:"bg-gray-800 rounded-xl w-full max-w-3xl my-4",children:[o.jsxs("div",{className:"p-4 sm:p-6 border-b border-gray-700 flex items-center justify-between sticky top-0 bg-gray-800 rounded-t-xl",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-white",children:C.name}),o.jsx("p",{className:"text-orange-500 text-sm",children:C.client})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:()=>{f(C),j(null)},className:"px-3 py-1.5 bg-gray-700 hover:bg-gray-600 rounded text-sm font-medium flex items-center gap-1",children:" Brief"}),o.jsx("button",{onClick:()=>{st(C),j(null)},className:"px-3 py-1.5 bg-orange-600 hover:bg-orange-700 rounded text-sm font-medium",children:"Edit"}),o.jsx("button",{onClick:()=>j(null),className:"text-gray-400 hover:text-white text-2xl leading-none",children:""})]})]}),o.jsxs("div",{className:"p-4 sm:p-6 space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500 text-xs uppercase",children:"Date"}),o.jsx("p",{className:"font-medium text-white",children:rn(C.date)}),o.jsx("p",{className:`text-sm ${new Date(C.date)<ye?"text-gray-500":"text-orange-400"}`,children:dn(C.date)})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500 text-xs uppercase",children:"Location"}),o.jsx("p",{className:"font-medium text-white",children:C.location||"TBD"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500 text-xs uppercase",children:"Status"}),o.jsx("p",{children:o.jsx("span",{className:`${pn[C.status]} px-2 py-0.5 rounded text-xs font-medium capitalize`,children:C.status})})]})]}),C.notes&&o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500 text-xs uppercase",children:"Notes"}),o.jsx("p",{className:"mt-1 text-gray-300 text-sm",children:C.notes})]}),o.jsxs("div",{children:[o.jsx("div",{className:"flex items-center justify-between mb-3",children:o.jsxs("h4",{className:"font-medium text-white",children:[" Crew (",wn(C.crew_ids).length,")"]})}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:r.map(ot=>{const Wt=(C.crew_ids||[]).includes(ot.id);return o.jsxs("div",{onClick:()=>ir(C.id,ot.id,!Wt),className:`p-3 rounded-lg cursor-pointer transition flex items-center justify-between ${Wt?"bg-green-500/20 border border-green-500/50":"bg-gray-700/30 border border-gray-700 hover:border-gray-600"}`,children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-white",children:ot.name}),o.jsx("span",{className:"text-gray-400 text-sm ml-2",children:ot.role})]}),Wt?o.jsx("span",{className:"text-green-400 text-sm",children:" Assigned"}):o.jsx("span",{className:"text-gray-500 text-sm",children:"+ Add"})]},ot.id)})})]}),o.jsxs("div",{children:[o.jsx("div",{className:"flex items-center justify-between mb-3",children:o.jsxs("h4",{className:"font-medium text-white",children:[" Equipment (",Mn(C.equipment_ids).length,")"]})}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 max-h-48 overflow-y-auto",children:i.map(ot=>{const Wt=(C.equipment_ids||[]).includes(ot.id);return o.jsxs("div",{onClick:()=>on(C.id,ot.id,!Wt),className:`p-2 rounded-lg cursor-pointer transition flex items-center justify-between ${Wt?"bg-blue-500/20 border border-blue-500/50":"bg-gray-700/30 border border-gray-700 hover:border-gray-600"}`,children:[o.jsx("span",{className:"text-white text-sm truncate",children:ot.name}),Wt?o.jsx("span",{className:"text-blue-400 text-xs ml-2",children:""}):o.jsx("span",{className:"text-gray-500 text-xs ml-2",children:"+"})]},ot.id)})})]}),o.jsxs("div",{className:"border-t border-gray-700 pt-4",children:[o.jsx("h4",{className:"font-medium text-white mb-4",children:" Travel & Logistics"}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500 text-xs uppercase",children:"Flights"}),C.flight_links?.length?C.flight_links.map((ot,Wt)=>o.jsxs("a",{href:ot,target:"_blank",rel:"noopener noreferrer",className:"block text-blue-400 hover:underline text-sm truncate mt-1",children:[" Flight ",Wt+1]},Wt)):o.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"None added"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500 text-xs uppercase",children:"Accommodation"}),C.accommodation_links?.length?C.accommodation_links.map((ot,Wt)=>o.jsxs("a",{href:ot,target:"_blank",rel:"noopener noreferrer",className:"block text-blue-400 hover:underline text-sm truncate mt-1",children:[" Booking ",Wt+1]},Wt)):o.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"None added"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500 text-xs uppercase",children:"Rental Cars"}),C.rental_links?.length?C.rental_links.map((ot,Wt)=>o.jsxs("a",{href:ot,target:"_blank",rel:"noopener noreferrer",className:"block text-blue-400 hover:underline text-sm truncate mt-1",children:[" Rental ",Wt+1]},Wt)):o.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"None added"})]})]})]}),o.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-700",children:o.jsx("button",{onClick:()=>Pe(C.id),className:"px-4 py-2 text-red-500 hover:bg-red-500/10 rounded-lg text-sm",children:" Delete Event"})})]})]})}),x&&o.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-gray-800 rounded-xl w-full max-w-md",children:[o.jsxs("div",{className:"p-4 sm:p-6 border-b border-gray-700 flex items-center justify-between",children:[o.jsx("h3",{className:"text-xl font-bold text-white",children:W?"Edit Crew Member":"Add Crew Member"}),o.jsx("button",{onClick:()=>w(!1),className:"text-gray-400 hover:text-white text-2xl leading-none",children:""})]}),o.jsxs("form",{onSubmit:We,className:"p-4 sm:p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Name *"}),o.jsx("input",{type:"text",required:!0,value:Ee.name,onChange:ot=>ge({...Ee,name:ot.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white focus:border-orange-500 focus:outline-none"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Role"}),o.jsx("input",{type:"text",value:Ee.role,onChange:ot=>ge({...Ee,role:ot.target.value}),placeholder:"e.g. Camera Operator, Director, Audio",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white focus:border-orange-500 focus:outline-none"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Phone"}),o.jsx("input",{type:"tel",value:Ee.phone,onChange:ot=>ge({...Ee,phone:ot.target.value}),placeholder:"0400 000 000",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white focus:border-orange-500 focus:outline-none"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Email"}),o.jsx("input",{type:"email",value:Ee.email,onChange:ot=>ge({...Ee,email:ot.target.value}),placeholder:"name@email.com",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white focus:border-orange-500 focus:outline-none"})]}),o.jsxs("div",{className:"flex flex-col-reverse sm:flex-row justify-end gap-3 pt-4",children:[o.jsx("button",{type:"button",onClick:()=>w(!1),className:"px-4 py-2.5 bg-gray-700 hover:bg-gray-600 rounded-lg text-white",children:"Cancel"}),o.jsx("button",{type:"submit",className:"px-6 py-2.5 bg-orange-600 hover:bg-orange-700 rounded-lg font-medium text-white",children:W?"Save Changes":"Add Crew"})]})]})]})}),d&&o.jsx(HDe,{event:d,crew:r,equipment:i,onClose:()=>f(null)}),E&&o.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-gray-800 rounded-xl w-full max-w-md",children:[o.jsxs("div",{className:"p-4 sm:p-6 border-b border-gray-700 flex items-center justify-between",children:[o.jsx("h3",{className:"text-xl font-bold text-white",children:re?"Edit Equipment":"Add Equipment"}),o.jsx("button",{onClick:()=>T(!1),className:"text-gray-400 hover:text-white text-2xl leading-none",children:""})]}),o.jsxs("form",{onSubmit:Ct,className:"p-4 sm:p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Equipment Name *"}),o.jsx("input",{type:"text",required:!0,value:se.name,onChange:ot=>xe({...se,name:ot.target.value}),placeholder:"e.g. Sony FX6",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white focus:border-blue-500 focus:outline-none"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Category"}),o.jsx("select",{value:se.category,onChange:ot=>xe({...se,category:ot.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white focus:border-blue-500 focus:outline-none",children:Kn.map(ot=>o.jsx("option",{value:ot,children:ot},ot))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Quantity"}),o.jsx("input",{type:"number",min:"1",value:se.quantity,onChange:ot=>xe({...se,quantity:parseInt(ot.target.value)||1}),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white focus:border-blue-500 focus:outline-none"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Notes"}),o.jsx("input",{type:"text",value:se.notes||"",onChange:ot=>xe({...se,notes:ot.target.value}),placeholder:"Serial number, condition, etc.",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white focus:border-blue-500 focus:outline-none"})]}),o.jsxs("div",{className:"flex flex-col-reverse sm:flex-row justify-end gap-3 pt-4",children:[o.jsx("button",{type:"button",onClick:()=>T(!1),className:"px-4 py-2.5 bg-gray-700 hover:bg-gray-600 rounded-lg text-white",children:"Cancel"}),o.jsx("button",{type:"submit",className:"px-6 py-2.5 bg-blue-600 hover:bg-blue-700 rounded-lg font-medium text-white",children:re?"Save Changes":"Add Equipment"})]})]})]})})]})}function SMe(t,e){const r=k.useRef(e);k.useEffect(function(){e!==r.current&&t.attributionControl!=null&&(r.current!=null&&t.attributionControl.removeAttribution(r.current),e!=null&&t.attributionControl.addAttribution(e)),r.current=e},[t,e])}function TMe(t,e,r){e.center!==r.center&&t.setLatLng(e.center),e.radius!=null&&e.radius!==r.radius&&t.setRadius(e.radius)}const CMe=1;function jMe(t){return Object.freeze({__version:CMe,map:t})}function Zre(t,e){return Object.freeze({...t,...e})}const UM=k.createContext(null);function $M(){const t=k.use(UM);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function Jre(t){function e(r,n){const{instance:i,context:s}=t(r).current;k.useImperativeHandle(n,()=>i);const{children:a}=r;return a==null?null:_o.createElement(UM,{value:s},a)}return k.forwardRef(e)}function NMe(t){function e(r,n){const{instance:i}=t(r).current;return k.useImperativeHandle(n,()=>i),null}return k.forwardRef(e)}function ene(t,e){const r=k.useRef(void 0);k.useEffect(function(){return e!=null&&t.instance.on(e),r.current=e,function(){r.current!=null&&t.instance.off(r.current),r.current=null}},[t,e])}function HM(t,e){const r=t.pane??e.pane;return r?{...t,pane:r}:t}var sw={exports:{}};var kMe=sw.exports,Bz;function IMe(){return Bz||(Bz=1,(function(t,e){(function(r,n){n(e)})(kMe,(function(r){var n="1.9.4";function i(g){var _,H,ae,_e;for(H=1,ae=arguments.length;H<ae;H++){_e=arguments[H];for(_ in _e)g[_]=_e[_]}return g}var s=Object.create||(function(){function g(){}return function(_){return g.prototype=_,new g}})();function a(g,_){var H=Array.prototype.slice;if(g.bind)return g.bind.apply(g,H.call(arguments,1));var ae=H.call(arguments,2);return function(){return g.apply(_,ae.length?ae.concat(H.call(arguments)):arguments)}}var c=0;function u(g){return"_leaflet_id"in g||(g._leaflet_id=++c),g._leaflet_id}function l(g,_,H){var ae,_e,Ve,jt;return jt=function(){ae=!1,_e&&(Ve.apply(H,_e),_e=!1)},Ve=function(){ae?_e=arguments:(g.apply(H,arguments),setTimeout(jt,_),ae=!0)},Ve}function d(g,_,H){var ae=_[1],_e=_[0],Ve=ae-_e;return g===ae&&H?g:((g-_e)%Ve+Ve)%Ve+_e}function f(){return!1}function A(g,_){if(_===!1)return g;var H=Math.pow(10,_===void 0?6:_);return Math.round(g*H)/H}function p(g){return g.trim?g.trim():g.replace(/^\s+|\s+$/g,"")}function v(g){return p(g).split(/\s+/)}function y(g,_){Object.prototype.hasOwnProperty.call(g,"options")||(g.options=g.options?s(g.options):{});for(var H in _)g.options[H]=_[H];return g.options}function x(g,_,H){var ae=[];for(var _e in g)ae.push(encodeURIComponent(H?_e.toUpperCase():_e)+"="+encodeURIComponent(g[_e]));return(!_||_.indexOf("?")===-1?"?":"&")+ae.join("&")}var w=/\{ *([\w_ -]+) *\}/g;function E(g,_){return g.replace(w,function(H,ae){var _e=_[ae];if(_e===void 0)throw new Error("No value provided for variable "+H);return typeof _e=="function"&&(_e=_e(_)),_e})}var T=Array.isArray||function(g){return Object.prototype.toString.call(g)==="[object Array]"};function C(g,_){for(var H=0;H<g.length;H++)if(g[H]===_)return H;return-1}var j="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function P(g){return window["webkit"+g]||window["moz"+g]||window["ms"+g]}var U=0;function W(g){var _=+new Date,H=Math.max(0,16-(_-U));return U=_+H,window.setTimeout(g,H)}var q=window.requestAnimationFrame||P("RequestAnimationFrame")||W,re=window.cancelAnimationFrame||P("CancelAnimationFrame")||P("CancelRequestAnimationFrame")||function(g){window.clearTimeout(g)};function ie(g,_,H){if(H&&q===W)g.call(_);else return q.call(window,a(g,_))}function Ae(g){g&&re.call(window,g)}var be={__proto__:null,extend:i,create:s,bind:a,get lastId(){return c},stamp:u,throttle:l,wrapNum:d,falseFn:f,formatNum:A,trim:p,splitWords:v,setOptions:y,getParamString:x,template:E,isArray:T,indexOf:C,emptyImageUrl:j,requestFn:q,cancelFn:re,requestAnimFrame:ie,cancelAnimFrame:Ae};function Ee(){}Ee.extend=function(g){var _=function(){y(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},H=_.__super__=this.prototype,ae=s(H);ae.constructor=_,_.prototype=ae;for(var _e in this)Object.prototype.hasOwnProperty.call(this,_e)&&_e!=="prototype"&&_e!=="__super__"&&(_[_e]=this[_e]);return g.statics&&i(_,g.statics),g.includes&&(ge(g.includes),i.apply(null,[ae].concat(g.includes))),i(ae,g),delete ae.statics,delete ae.includes,ae.options&&(ae.options=H.options?s(H.options):{},i(ae.options,g.options)),ae._initHooks=[],ae.callInitHooks=function(){if(!this._initHooksCalled){H.callInitHooks&&H.callInitHooks.call(this),this._initHooksCalled=!0;for(var Ve=0,jt=ae._initHooks.length;Ve<jt;Ve++)ae._initHooks[Ve].call(this)}},_},Ee.include=function(g){var _=this.prototype.options;return i(this.prototype,g),g.options&&(this.prototype.options=_,this.mergeOptions(g.options)),this},Ee.mergeOptions=function(g){return i(this.prototype.options,g),this},Ee.addInitHook=function(g){var _=Array.prototype.slice.call(arguments,1),H=typeof g=="function"?g:function(){this[g].apply(this,_)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(H),this};function ge(g){if(!(typeof L>"u"||!L||!L.Mixin)){g=T(g)?g:[g];for(var _=0;_<g.length;_++)g[_]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var se={on:function(g,_,H){if(typeof g=="object")for(var ae in g)this._on(ae,g[ae],_);else{g=v(g);for(var _e=0,Ve=g.length;_e<Ve;_e++)this._on(g[_e],_,H)}return this},off:function(g,_,H){if(!arguments.length)delete this._events;else if(typeof g=="object")for(var ae in g)this._off(ae,g[ae],_);else{g=v(g);for(var _e=arguments.length===1,Ve=0,jt=g.length;Ve<jt;Ve++)_e?this._off(g[Ve]):this._off(g[Ve],_,H)}return this},_on:function(g,_,H,ae){if(typeof _!="function"){console.warn("wrong listener type: "+typeof _);return}if(this._listens(g,_,H)===!1){H===this&&(H=void 0);var _e={fn:_,ctx:H};ae&&(_e.once=!0),this._events=this._events||{},this._events[g]=this._events[g]||[],this._events[g].push(_e)}},_off:function(g,_,H){var ae,_e,Ve;if(this._events&&(ae=this._events[g],!!ae)){if(arguments.length===1){if(this._firingCount)for(_e=0,Ve=ae.length;_e<Ve;_e++)ae[_e].fn=f;delete this._events[g];return}if(typeof _!="function"){console.warn("wrong listener type: "+typeof _);return}var jt=this._listens(g,_,H);if(jt!==!1){var Zt=ae[jt];this._firingCount&&(Zt.fn=f,this._events[g]=ae=ae.slice()),ae.splice(jt,1)}}},fire:function(g,_,H){if(!this.listens(g,H))return this;var ae=i({},_,{type:g,target:this,sourceTarget:_&&_.sourceTarget||this});if(this._events){var _e=this._events[g];if(_e){this._firingCount=this._firingCount+1||1;for(var Ve=0,jt=_e.length;Ve<jt;Ve++){var Zt=_e[Ve],xr=Zt.fn;Zt.once&&this.off(g,xr,Zt.ctx),xr.call(Zt.ctx||this,ae)}this._firingCount--}}return H&&this._propagateEvent(ae),this},listens:function(g,_,H,ae){typeof g!="string"&&console.warn('"string" type argument expected');var _e=_;typeof _!="function"&&(ae=!!_,_e=void 0,H=void 0);var Ve=this._events&&this._events[g];if(Ve&&Ve.length&&this._listens(g,_e,H)!==!1)return!0;if(ae){for(var jt in this._eventParents)if(this._eventParents[jt].listens(g,_,H,ae))return!0}return!1},_listens:function(g,_,H){if(!this._events)return!1;var ae=this._events[g]||[];if(!_)return!!ae.length;H===this&&(H=void 0);for(var _e=0,Ve=ae.length;_e<Ve;_e++)if(ae[_e].fn===_&&ae[_e].ctx===H)return _e;return!1},once:function(g,_,H){if(typeof g=="object")for(var ae in g)this._on(ae,g[ae],_,!0);else{g=v(g);for(var _e=0,Ve=g.length;_e<Ve;_e++)this._on(g[_e],_,H,!0)}return this},addEventParent:function(g){return this._eventParents=this._eventParents||{},this._eventParents[u(g)]=g,this},removeEventParent:function(g){return this._eventParents&&delete this._eventParents[u(g)],this},_propagateEvent:function(g){for(var _ in this._eventParents)this._eventParents[_].fire(g.type,i({layer:g.target,propagatedFrom:g.target},g),!0)}};se.addEventListener=se.on,se.removeEventListener=se.clearAllEventListeners=se.off,se.addOneTimeEventListener=se.once,se.fireEvent=se.fire,se.hasEventListeners=se.listens;var xe=Ee.extend(se);function ce(g,_,H){this.x=H?Math.round(g):g,this.y=H?Math.round(_):_}var Me=Math.trunc||function(g){return g>0?Math.floor(g):Math.ceil(g)};ce.prototype={clone:function(){return new ce(this.x,this.y)},add:function(g){return this.clone()._add(Oe(g))},_add:function(g){return this.x+=g.x,this.y+=g.y,this},subtract:function(g){return this.clone()._subtract(Oe(g))},_subtract:function(g){return this.x-=g.x,this.y-=g.y,this},divideBy:function(g){return this.clone()._divideBy(g)},_divideBy:function(g){return this.x/=g,this.y/=g,this},multiplyBy:function(g){return this.clone()._multiplyBy(g)},_multiplyBy:function(g){return this.x*=g,this.y*=g,this},scaleBy:function(g){return new ce(this.x*g.x,this.y*g.y)},unscaleBy:function(g){return new ce(this.x/g.x,this.y/g.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Me(this.x),this.y=Me(this.y),this},distanceTo:function(g){g=Oe(g);var _=g.x-this.x,H=g.y-this.y;return Math.sqrt(_*_+H*H)},equals:function(g){return g=Oe(g),g.x===this.x&&g.y===this.y},contains:function(g){return g=Oe(g),Math.abs(g.x)<=Math.abs(this.x)&&Math.abs(g.y)<=Math.abs(this.y)},toString:function(){return"Point("+A(this.x)+", "+A(this.y)+")"}};function Oe(g,_,H){return g instanceof ce?g:T(g)?new ce(g[0],g[1]):g==null?g:typeof g=="object"&&"x"in g&&"y"in g?new ce(g.x,g.y):new ce(g,_,H)}function we(g,_){if(g)for(var H=_?[g,_]:g,ae=0,_e=H.length;ae<_e;ae++)this.extend(H[ae])}we.prototype={extend:function(g){var _,H;if(!g)return this;if(g instanceof ce||typeof g[0]=="number"||"x"in g)_=H=Oe(g);else if(g=ue(g),_=g.min,H=g.max,!_||!H)return this;return!this.min&&!this.max?(this.min=_.clone(),this.max=H.clone()):(this.min.x=Math.min(_.x,this.min.x),this.max.x=Math.max(H.x,this.max.x),this.min.y=Math.min(_.y,this.min.y),this.max.y=Math.max(H.y,this.max.y)),this},getCenter:function(g){return Oe((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,g)},getBottomLeft:function(){return Oe(this.min.x,this.max.y)},getTopRight:function(){return Oe(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(g){var _,H;return typeof g[0]=="number"||g instanceof ce?g=Oe(g):g=ue(g),g instanceof we?(_=g.min,H=g.max):_=H=g,_.x>=this.min.x&&H.x<=this.max.x&&_.y>=this.min.y&&H.y<=this.max.y},intersects:function(g){g=ue(g);var _=this.min,H=this.max,ae=g.min,_e=g.max,Ve=_e.x>=_.x&&ae.x<=H.x,jt=_e.y>=_.y&&ae.y<=H.y;return Ve&&jt},overlaps:function(g){g=ue(g);var _=this.min,H=this.max,ae=g.min,_e=g.max,Ve=_e.x>_.x&&ae.x<H.x,jt=_e.y>_.y&&ae.y<H.y;return Ve&&jt},isValid:function(){return!!(this.min&&this.max)},pad:function(g){var _=this.min,H=this.max,ae=Math.abs(_.x-H.x)*g,_e=Math.abs(_.y-H.y)*g;return ue(Oe(_.x-ae,_.y-_e),Oe(H.x+ae,H.y+_e))},equals:function(g){return g?(g=ue(g),this.min.equals(g.getTopLeft())&&this.max.equals(g.getBottomRight())):!1}};function ue(g,_){return!g||g instanceof we?g:new we(g,_)}function ye(g,_){if(g)for(var H=_?[g,_]:g,ae=0,_e=H.length;ae<_e;ae++)this.extend(H[ae])}ye.prototype={extend:function(g){var _=this._southWest,H=this._northEast,ae,_e;if(g instanceof He)ae=g,_e=g;else if(g instanceof ye){if(ae=g._southWest,_e=g._northEast,!ae||!_e)return this}else return g?this.extend(Fe(g)||Le(g)):this;return!_&&!H?(this._southWest=new He(ae.lat,ae.lng),this._northEast=new He(_e.lat,_e.lng)):(_.lat=Math.min(ae.lat,_.lat),_.lng=Math.min(ae.lng,_.lng),H.lat=Math.max(_e.lat,H.lat),H.lng=Math.max(_e.lng,H.lng)),this},pad:function(g){var _=this._southWest,H=this._northEast,ae=Math.abs(_.lat-H.lat)*g,_e=Math.abs(_.lng-H.lng)*g;return new ye(new He(_.lat-ae,_.lng-_e),new He(H.lat+ae,H.lng+_e))},getCenter:function(){return new He((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new He(this.getNorth(),this.getWest())},getSouthEast:function(){return new He(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(g){typeof g[0]=="number"||g instanceof He||"lat"in g?g=Fe(g):g=Le(g);var _=this._southWest,H=this._northEast,ae,_e;return g instanceof ye?(ae=g.getSouthWest(),_e=g.getNorthEast()):ae=_e=g,ae.lat>=_.lat&&_e.lat<=H.lat&&ae.lng>=_.lng&&_e.lng<=H.lng},intersects:function(g){g=Le(g);var _=this._southWest,H=this._northEast,ae=g.getSouthWest(),_e=g.getNorthEast(),Ve=_e.lat>=_.lat&&ae.lat<=H.lat,jt=_e.lng>=_.lng&&ae.lng<=H.lng;return Ve&&jt},overlaps:function(g){g=Le(g);var _=this._southWest,H=this._northEast,ae=g.getSouthWest(),_e=g.getNorthEast(),Ve=_e.lat>_.lat&&ae.lat<H.lat,jt=_e.lng>_.lng&&ae.lng<H.lng;return Ve&&jt},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(g,_){return g?(g=Le(g),this._southWest.equals(g.getSouthWest(),_)&&this._northEast.equals(g.getNorthEast(),_)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Le(g,_){return g instanceof ye?g:new ye(g,_)}function He(g,_,H){if(isNaN(g)||isNaN(_))throw new Error("Invalid LatLng object: ("+g+", "+_+")");this.lat=+g,this.lng=+_,H!==void 0&&(this.alt=+H)}He.prototype={equals:function(g,_){if(!g)return!1;g=Fe(g);var H=Math.max(Math.abs(this.lat-g.lat),Math.abs(this.lng-g.lng));return H<=(_===void 0?1e-9:_)},toString:function(g){return"LatLng("+A(this.lat,g)+", "+A(this.lng,g)+")"},distanceTo:function(g){return pt.distance(this,Fe(g))},wrap:function(){return pt.wrapLatLng(this)},toBounds:function(g){var _=180*g/40075017,H=_/Math.cos(Math.PI/180*this.lat);return Le([this.lat-_,this.lng-H],[this.lat+_,this.lng+H])},clone:function(){return new He(this.lat,this.lng,this.alt)}};function Fe(g,_,H){return g instanceof He?g:T(g)&&typeof g[0]!="object"?g.length===3?new He(g[0],g[1],g[2]):g.length===2?new He(g[0],g[1]):null:g==null?g:typeof g=="object"&&"lat"in g?new He(g.lat,"lng"in g?g.lng:g.lon,g.alt):_===void 0?null:new He(g,_,H)}var At={latLngToPoint:function(g,_){var H=this.projection.project(g),ae=this.scale(_);return this.transformation._transform(H,ae)},pointToLatLng:function(g,_){var H=this.scale(_),ae=this.transformation.untransform(g,H);return this.projection.unproject(ae)},project:function(g){return this.projection.project(g)},unproject:function(g){return this.projection.unproject(g)},scale:function(g){return 256*Math.pow(2,g)},zoom:function(g){return Math.log(g/256)/Math.LN2},getProjectedBounds:function(g){if(this.infinite)return null;var _=this.projection.bounds,H=this.scale(g),ae=this.transformation.transform(_.min,H),_e=this.transformation.transform(_.max,H);return new we(ae,_e)},infinite:!1,wrapLatLng:function(g){var _=this.wrapLng?d(g.lng,this.wrapLng,!0):g.lng,H=this.wrapLat?d(g.lat,this.wrapLat,!0):g.lat,ae=g.alt;return new He(H,_,ae)},wrapLatLngBounds:function(g){var _=g.getCenter(),H=this.wrapLatLng(_),ae=_.lat-H.lat,_e=_.lng-H.lng;if(ae===0&&_e===0)return g;var Ve=g.getSouthWest(),jt=g.getNorthEast(),Zt=new He(Ve.lat-ae,Ve.lng-_e),xr=new He(jt.lat-ae,jt.lng-_e);return new ye(Zt,xr)}},pt=i({},At,{wrapLng:[-180,180],R:6371e3,distance:function(g,_){var H=Math.PI/180,ae=g.lat*H,_e=_.lat*H,Ve=Math.sin((_.lat-g.lat)*H/2),jt=Math.sin((_.lng-g.lng)*H/2),Zt=Ve*Ve+Math.cos(ae)*Math.cos(_e)*jt*jt,xr=2*Math.atan2(Math.sqrt(Zt),Math.sqrt(1-Zt));return this.R*xr}}),Pe=6378137,st={R:Pe,MAX_LATITUDE:85.0511287798,project:function(g){var _=Math.PI/180,H=this.MAX_LATITUDE,ae=Math.max(Math.min(H,g.lat),-H),_e=Math.sin(ae*_);return new ce(this.R*g.lng*_,this.R*Math.log((1+_e)/(1-_e))/2)},unproject:function(g){var _=180/Math.PI;return new He((2*Math.atan(Math.exp(g.y/this.R))-Math.PI/2)*_,g.x*_/this.R)},bounds:(function(){var g=Pe*Math.PI;return new we([-g,-g],[g,g])})()};function et(g,_,H,ae){if(T(g)){this._a=g[0],this._b=g[1],this._c=g[2],this._d=g[3];return}this._a=g,this._b=_,this._c=H,this._d=ae}et.prototype={transform:function(g,_){return this._transform(g.clone(),_)},_transform:function(g,_){return _=_||1,g.x=_*(this._a*g.x+this._b),g.y=_*(this._c*g.y+this._d),g},untransform:function(g,_){return _=_||1,new ce((g.x/_-this._b)/this._a,(g.y/_-this._d)/this._c)}};function We(g,_,H,ae){return new et(g,_,H,ae)}var gt=i({},pt,{code:"EPSG:3857",projection:st,transformation:(function(){var g=.5/(Math.PI*st.R);return We(g,.5,-g,.5)})()}),Ge=i({},gt,{code:"EPSG:900913"});function Ct(g){return document.createElementNS("http://www.w3.org/2000/svg",g)}function Et(g,_){var H="",ae,_e,Ve,jt,Zt,xr;for(ae=0,Ve=g.length;ae<Ve;ae++){for(Zt=g[ae],_e=0,jt=Zt.length;_e<jt;_e++)xr=Zt[_e],H+=(_e?"L":"M")+xr.x+" "+xr.y;H+=_?Tn.svg?"z":"x":""}return H||"M0 0"}var Ut=document.documentElement.style,ir="ActiveXObject"in window,on=ir&&!document.addEventListener,kr="msLaunchUri"in navigator&&!("documentMode"in document),rn=En("webkit"),wn=En("android"),Mn=En("android 2")||En("android 3"),dn=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),pn=wn&&En("Google")&&dn<537&&!("AudioNode"in window),mn=!!window.opera,Kn=!kr&&En("chrome"),Zn=En("gecko")&&!rn&&!mn&&!ir,Li=!Kn&&En("safari"),ot=En("phantom"),Wt="OTransition"in Ut,jr=navigator.platform.indexOf("Win")===0,rr=ir&&"transition"in Ut,Ht="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Mn,fr="MozPerspective"in Ut,Hr=!window.L_DISABLE_3D&&(rr||Ht||fr)&&!Wt&&!ot,Gr=typeof orientation<"u"||En("mobile"),Ln=Gr&&rn,ln=Gr&&Ht,Jn=!window.PointerEvent&&window.MSPointerEvent,en=!!(window.PointerEvent||Jn),Dr="ontouchstart"in window||!!window.TouchEvent,An=!window.L_NO_TOUCH&&(Dr||en),cn=Gr&&mn,Pn=Gr&&Zn,li=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ts=(function(){var g=!1;try{var _=Object.defineProperty({},"passive",{get:function(){g=!0}});window.addEventListener("testPassiveEventSupport",f,_),window.removeEventListener("testPassiveEventSupport",f,_)}catch{}return g})(),Rs=(function(){return!!document.createElement("canvas").getContext})(),Cs=!!(document.createElementNS&&Ct("svg").createSVGRect),ei=!!Cs&&(function(){var g=document.createElement("div");return g.innerHTML="<svg/>",(g.firstChild&&g.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),nn=!Cs&&(function(){try{var g=document.createElement("div");g.innerHTML='<v:shape adj="1"/>';var _=g.firstChild;return _.style.behavior="url(#default#VML)",_&&typeof _.adj=="object"}catch{return!1}})(),ss=navigator.platform.indexOf("Mac")===0,ea=navigator.platform.indexOf("Linux")===0;function En(g){return navigator.userAgent.toLowerCase().indexOf(g)>=0}var Tn={ie:ir,ielt9:on,edge:kr,webkit:rn,android:wn,android23:Mn,androidStock:pn,opera:mn,chrome:Kn,gecko:Zn,safari:Li,phantom:ot,opera12:Wt,win:jr,ie3d:rr,webkit3d:Ht,gecko3d:fr,any3d:Hr,mobile:Gr,mobileWebkit:Ln,mobileWebkit3d:ln,msPointer:Jn,pointer:en,touch:An,touchNative:Dr,mobileOpera:cn,mobileGecko:Pn,retina:li,passiveEvents:Ts,canvas:Rs,svg:Cs,vml:nn,inlineSvg:ei,mac:ss,linux:ea},Ds=Tn.msPointer?"MSPointerDown":"pointerdown",$s=Tn.msPointer?"MSPointerMove":"pointermove",Ms=Tn.msPointer?"MSPointerUp":"pointerup",rs=Tn.msPointer?"MSPointerCancel":"pointercancel",Ys={touchstart:Ds,touchmove:$s,touchend:Ms,touchcancel:rs},Os={touchstart:Gs,touchmove:Ya,touchend:Ya,touchcancel:Ya},Qa={},ds=!1;function yu(g,_,H){return _==="touchstart"&&ta(),Os[_]?(H=Os[_].bind(this,H),g.addEventListener(Ys[_],H,!1),H):(console.warn("wrong event specified:",_),f)}function to(g,_,H){if(!Ys[_]){console.warn("wrong event specified:",_);return}g.removeEventListener(Ys[_],H,!1)}function Ml(g){Qa[g.pointerId]=g}function tu(g){Qa[g.pointerId]&&(Qa[g.pointerId]=g)}function ml(g){delete Qa[g.pointerId]}function ta(){ds||(document.addEventListener(Ds,Ml,!0),document.addEventListener($s,tu,!0),document.addEventListener(Ms,ml,!0),document.addEventListener(rs,ml,!0),ds=!0)}function Ya(g,_){if(_.pointerType!==(_.MSPOINTER_TYPE_MOUSE||"mouse")){_.touches=[];for(var H in Qa)_.touches.push(Qa[H]);_.changedTouches=[_],g(_)}}function Gs(g,_){_.MSPOINTER_TYPE_TOUCH&&_.pointerType===_.MSPOINTER_TYPE_TOUCH&&ve(_),Ya(g,_)}function ba(g){var _={},H,ae;for(ae in g)H=g[ae],_[ae]=H&&H.bind?H.bind(g):H;return g=_,_.type="dblclick",_.detail=2,_.isTrusted=!1,_._simulated=!0,_}var Fs=200;function kl(g,_){g.addEventListener("dblclick",_);var H=0,ae;function _e(Ve){if(Ve.detail!==1){ae=Ve.detail;return}if(!(Ve.pointerType==="mouse"||Ve.sourceCapabilities&&!Ve.sourceCapabilities.firesTouchEvents)){var jt=fe(Ve);if(!(jt.some(function(xr){return xr instanceof HTMLLabelElement&&xr.attributes.for})&&!jt.some(function(xr){return xr instanceof HTMLInputElement||xr instanceof HTMLSelectElement}))){var Zt=Date.now();Zt-H<=Fs?(ae++,ae===2&&_(ba(Ve))):ae=1,H=Zt}}}return g.addEventListener("click",_e),{dblclick:_,simDblclick:_e}}function po(g,_){g.removeEventListener("dblclick",_.dblclick),g.removeEventListener("click",_.simDblclick)}var ro=Ea(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),pl=Ea(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Fl=pl==="webkitTransition"||pl==="OTransition"?pl+"End":"transitionend";function fc(g){return typeof g=="string"?document.getElementById(g):g}function Hs(g,_){var H=g.style[_]||g.currentStyle&&g.currentStyle[_];if((!H||H==="auto")&&document.defaultView){var ae=document.defaultView.getComputedStyle(g,null);H=ae?ae[_]:null}return H==="auto"?null:H}function ci(g,_,H){var ae=document.createElement(g);return ae.className=_||"",H&&H.appendChild(ae),ae}function js(g){var _=g.parentNode;_&&_.removeChild(g)}function Ta(g){for(;g.firstChild;)g.removeChild(g.firstChild)}function Va(g){var _=g.parentNode;_&&_.lastChild!==g&&_.appendChild(g)}function Ca(g){var _=g.parentNode;_&&_.firstChild!==g&&_.insertBefore(g,_.firstChild)}function gi(g,_){if(g.classList!==void 0)return g.classList.contains(_);var H=Ho(g);return H.length>0&&new RegExp("(^|\\s)"+_+"(\\s|$)").test(H)}function Xn(g,_){if(g.classList!==void 0)for(var H=v(_),ae=0,_e=H.length;ae<_e;ae++)g.classList.add(H[ae]);else if(!gi(g,_)){var Ve=Ho(g);wa(g,(Ve?Ve+" ":"")+_)}}function hs(g,_){g.classList!==void 0?g.classList.remove(_):wa(g,p((" "+Ho(g)+" ").replace(" "+_+" "," ")))}function wa(g,_){g.className.baseVal===void 0?g.className=_:g.className.baseVal=_}function Ho(g){return g.correspondingElement&&(g=g.correspondingElement),g.className.baseVal===void 0?g.className:g.className.baseVal}function Hi(g,_){"opacity"in g.style?g.style.opacity=_:"filter"in g.style&&Qo(g,_)}function Qo(g,_){var H=!1,ae="DXImageTransform.Microsoft.Alpha";try{H=g.filters.item(ae)}catch{if(_===1)return}_=Math.round(_*100),H?(H.Enabled=_!==100,H.Opacity=_):g.style.filter+=" progid:"+ae+"(opacity="+_+")"}function Ea(g){for(var _=document.documentElement.style,H=0;H<g.length;H++)if(g[H]in _)return g[H];return!1}function qs(g,_,H){var ae=_||new ce(0,0);g.style[ro]=(Tn.ie3d?"translate("+ae.x+"px,"+ae.y+"px)":"translate3d("+ae.x+"px,"+ae.y+"px,0)")+(H?" scale("+H+")":"")}function fs(g,_){g._leaflet_pos=_,Tn.any3d?qs(g,_):(g.style.left=_.x+"px",g.style.top=_.y+"px")}function So(g){return g._leaflet_pos||new ce(0,0)}var za,Qs,qa;if("onselectstart"in document)za=function(){he(window,"selectstart",ve)},Qs=function(){Ue(window,"selectstart",ve)};else{var go=Ea(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);za=function(){if(go){var g=document.documentElement.style;qa=g[go],g[go]="none"}},Qs=function(){go&&(document.documentElement.style[go]=qa,qa=void 0)}}function no(){he(window,"dragstart",ve)}function Vo(){Ue(window,"dragstart",ve)}var $t,V;function ne(g){for(;g.tabIndex===-1;)g=g.parentNode;g.style&&(oe(),$t=g,V=g.style.outlineStyle,g.style.outlineStyle="none",he(window,"keydown",oe))}function oe(){$t&&($t.style.outlineStyle=V,$t=void 0,V=void 0,Ue(window,"keydown",oe))}function F(g){do g=g.parentNode;while((!g.offsetWidth||!g.offsetHeight)&&g!==document.body);return g}function z(g){var _=g.getBoundingClientRect();return{x:_.width/g.offsetWidth||1,y:_.height/g.offsetHeight||1,boundingClientRect:_}}var te={__proto__:null,TRANSFORM:ro,TRANSITION:pl,TRANSITION_END:Fl,get:fc,getStyle:Hs,create:ci,remove:js,empty:Ta,toFront:Va,toBack:Ca,hasClass:gi,addClass:Xn,removeClass:hs,setClass:wa,getClass:Ho,setOpacity:Hi,testProp:Ea,setTransform:qs,setPosition:fs,getPosition:So,get disableTextSelection(){return za},get enableTextSelection(){return Qs},disableImageDrag:no,enableImageDrag:Vo,preventOutline:ne,restoreOutline:oe,getSizedParentNode:F,getScale:z};function he(g,_,H,ae){if(_&&typeof _=="object")for(var _e in _)N(g,_e,_[_e],H);else{_=v(_);for(var Ve=0,jt=_.length;Ve<jt;Ve++)N(g,_[Ve],H,ae)}return this}var Te="_leaflet_events";function Ue(g,_,H,ae){if(arguments.length===1)ct(g),delete g[Te];else if(_&&typeof _=="object")for(var _e in _)D(g,_e,_[_e],H);else if(_=v(_),arguments.length===2)ct(g,function(Zt){return C(_,Zt)!==-1});else for(var Ve=0,jt=_.length;Ve<jt;Ve++)D(g,_[Ve],H,ae);return this}function ct(g,_){for(var H in g[Te]){var ae=H.split(/\d/)[0];(!_||_(ae))&&D(g,ae,null,null,H)}}var B={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function N(g,_,H,ae){var _e=_+u(H)+(ae?"_"+u(ae):"");if(g[Te]&&g[Te][_e])return this;var Ve=function(Zt){return H.call(ae||g,Zt||window.event)},jt=Ve;!Tn.touchNative&&Tn.pointer&&_.indexOf("touch")===0?Ve=yu(g,_,Ve):Tn.touch&&_==="dblclick"?Ve=kl(g,Ve):"addEventListener"in g?_==="touchstart"||_==="touchmove"||_==="wheel"||_==="mousewheel"?g.addEventListener(B[_]||_,Ve,Tn.passiveEvents?{passive:!1}:!1):_==="mouseenter"||_==="mouseleave"?(Ve=function(Zt){Zt=Zt||window.event,lt(g,Zt)&&jt(Zt)},g.addEventListener(B[_],Ve,!1)):g.addEventListener(_,jt,!1):g.attachEvent("on"+_,Ve),g[Te]=g[Te]||{},g[Te][_e]=Ve}function D(g,_,H,ae,_e){_e=_e||_+u(H)+(ae?"_"+u(ae):"");var Ve=g[Te]&&g[Te][_e];if(!Ve)return this;!Tn.touchNative&&Tn.pointer&&_.indexOf("touch")===0?to(g,_,Ve):Tn.touch&&_==="dblclick"?po(g,Ve):"removeEventListener"in g?g.removeEventListener(B[_]||_,Ve,!1):g.detachEvent("on"+_,Ve),g[Te][_e]=null}function K(g){return g.stopPropagation?g.stopPropagation():g.originalEvent?g.originalEvent._stopped=!0:g.cancelBubble=!0,this}function X(g){return N(g,"wheel",K),this}function ee(g){return he(g,"mousedown touchstart dblclick contextmenu",K),g._leaflet_disable_click=!0,this}function ve(g){return g.preventDefault?g.preventDefault():g.returnValue=!1,this}function de(g){return ve(g),K(g),this}function fe(g){if(g.composedPath)return g.composedPath();for(var _=[],H=g.target;H;)_.push(H),H=H.parentNode;return _}function ke(g,_){if(!_)return new ce(g.clientX,g.clientY);var H=z(_),ae=H.boundingClientRect;return new ce((g.clientX-ae.left)/H.x-_.clientLeft,(g.clientY-ae.top)/H.y-_.clientTop)}var Qe=Tn.linux&&Tn.chrome?window.devicePixelRatio:Tn.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Xe(g){return Tn.edge?g.wheelDeltaY/2:g.deltaY&&g.deltaMode===0?-g.deltaY/Qe:g.deltaY&&g.deltaMode===1?-g.deltaY*20:g.deltaY&&g.deltaMode===2?-g.deltaY*60:g.deltaX||g.deltaZ?0:g.wheelDelta?(g.wheelDeltaY||g.wheelDelta)/2:g.detail&&Math.abs(g.detail)<32765?-g.detail*20:g.detail?g.detail/-32765*60:0}function lt(g,_){var H=_.relatedTarget;if(!H)return!0;try{for(;H&&H!==g;)H=H.parentNode}catch{return!1}return H!==g}var Ce={__proto__:null,on:he,off:Ue,stopPropagation:K,disableScrollPropagation:X,disableClickPropagation:ee,preventDefault:ve,stop:de,getPropagationPath:fe,getMousePosition:ke,getWheelDelta:Xe,isExternalTarget:lt,addListener:he,removeListener:Ue},_t=xe.extend({run:function(g,_,H,ae){this.stop(),this._el=g,this._inProgress=!0,this._duration=H||.25,this._easeOutPower=1/Math.max(ae||.5,.2),this._startPos=So(g),this._offset=_.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ie(this._animate,this),this._step()},_step:function(g){var _=+new Date-this._startTime,H=this._duration*1e3;_<H?this._runFrame(this._easeOut(_/H),g):(this._runFrame(1),this._complete())},_runFrame:function(g,_){var H=this._startPos.add(this._offset.multiplyBy(g));_&&H._round(),fs(this._el,H),this.fire("step")},_complete:function(){Ae(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(g){return 1-Math.pow(1-g,this._easeOutPower)}}),at=xe.extend({options:{crs:gt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(g,_){_=y(this,_),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(g),this._initLayout(),this._onResize=a(this._onResize,this),this._initEvents(),_.maxBounds&&this.setMaxBounds(_.maxBounds),_.zoom!==void 0&&(this._zoom=this._limitZoom(_.zoom)),_.center&&_.zoom!==void 0&&this.setView(Fe(_.center),_.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=pl&&Tn.any3d&&!Tn.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),he(this._proxy,Fl,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(g,_,H){if(_=_===void 0?this._zoom:this._limitZoom(_),g=this._limitCenter(Fe(g),_,this.options.maxBounds),H=H||{},this._stop(),this._loaded&&!H.reset&&H!==!0){H.animate!==void 0&&(H.zoom=i({animate:H.animate},H.zoom),H.pan=i({animate:H.animate,duration:H.duration},H.pan));var ae=this._zoom!==_?this._tryAnimatedZoom&&this._tryAnimatedZoom(g,_,H.zoom):this._tryAnimatedPan(g,H.pan);if(ae)return clearTimeout(this._sizeTimer),this}return this._resetView(g,_,H.pan&&H.pan.noMoveStart),this},setZoom:function(g,_){return this._loaded?this.setView(this.getCenter(),g,{zoom:_}):(this._zoom=g,this)},zoomIn:function(g,_){return g=g||(Tn.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+g,_)},zoomOut:function(g,_){return g=g||(Tn.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-g,_)},setZoomAround:function(g,_,H){var ae=this.getZoomScale(_),_e=this.getSize().divideBy(2),Ve=g instanceof ce?g:this.latLngToContainerPoint(g),jt=Ve.subtract(_e).multiplyBy(1-1/ae),Zt=this.containerPointToLatLng(_e.add(jt));return this.setView(Zt,_,{zoom:H})},_getBoundsCenterZoom:function(g,_){_=_||{},g=g.getBounds?g.getBounds():Le(g);var H=Oe(_.paddingTopLeft||_.padding||[0,0]),ae=Oe(_.paddingBottomRight||_.padding||[0,0]),_e=this.getBoundsZoom(g,!1,H.add(ae));if(_e=typeof _.maxZoom=="number"?Math.min(_.maxZoom,_e):_e,_e===1/0)return{center:g.getCenter(),zoom:_e};var Ve=ae.subtract(H).divideBy(2),jt=this.project(g.getSouthWest(),_e),Zt=this.project(g.getNorthEast(),_e),xr=this.unproject(jt.add(Zt).divideBy(2).add(Ve),_e);return{center:xr,zoom:_e}},fitBounds:function(g,_){if(g=Le(g),!g.isValid())throw new Error("Bounds are not valid.");var H=this._getBoundsCenterZoom(g,_);return this.setView(H.center,H.zoom,_)},fitWorld:function(g){return this.fitBounds([[-90,-180],[90,180]],g)},panTo:function(g,_){return this.setView(g,this._zoom,{pan:_})},panBy:function(g,_){if(g=Oe(g).round(),_=_||{},!g.x&&!g.y)return this.fire("moveend");if(_.animate!==!0&&!this.getSize().contains(g))return this._resetView(this.unproject(this.project(this.getCenter()).add(g)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new _t,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),_.noMoveStart||this.fire("movestart"),_.animate!==!1){Xn(this._mapPane,"leaflet-pan-anim");var H=this._getMapPanePos().subtract(g).round();this._panAnim.run(this._mapPane,H,_.duration||.25,_.easeLinearity)}else this._rawPanBy(g),this.fire("move").fire("moveend");return this},flyTo:function(g,_,H){if(H=H||{},H.animate===!1||!Tn.any3d)return this.setView(g,_,H);this._stop();var ae=this.project(this.getCenter()),_e=this.project(g),Ve=this.getSize(),jt=this._zoom;g=Fe(g),_=_===void 0?jt:_;var Zt=Math.max(Ve.x,Ve.y),xr=Zt*this.getZoomScale(jt,_),$r=_e.distanceTo(ae)||1,vn=1.42,ui=vn*vn;function As(so){var Eu=so?-1:1,Ko=so?xr:Zt,bd=xr*xr-Zt*Zt+Eu*ui*ui*$r*$r,xc=2*Ko*ui*$r,$d=bd/xc,Yl=Math.sqrt($d*$d+1)-$d,_u=Yl<1e-9?-18:Math.log(Yl);return _u}function Da(so){return(Math.exp(so)-Math.exp(-so))/2}function Co(so){return(Math.exp(so)+Math.exp(-so))/2}function il(so){return Da(so)/Co(so)}var Xs=As(0);function oa(so){return Zt*(Co(Xs)/Co(Xs+vn*so))}function Cn(so){return Zt*(Co(Xs)*il(Xs+vn*so)-Da(Xs))/ui}function Gu(so){return 1-Math.pow(1-so,1.5)}var yc=Date.now(),xd=(As(1)-Xs)/vn,Wl=H.duration?1e3*H.duration:1e3*xd*.8;function wu(){var so=(Date.now()-yc)/Wl,Eu=Gu(so)*xd;so<=1?(this._flyToFrame=ie(wu,this),this._move(this.unproject(ae.add(_e.subtract(ae).multiplyBy(Cn(Eu)/$r)),jt),this.getScaleZoom(Zt/oa(Eu),jt),{flyTo:!0})):this._move(g,_)._moveEnd(!0)}return this._moveStart(!0,H.noMoveStart),wu.call(this),this},flyToBounds:function(g,_){var H=this._getBoundsCenterZoom(g,_);return this.flyTo(H.center,H.zoom,_)},setMaxBounds:function(g){return g=Le(g),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),g.isValid()?(this.options.maxBounds=g,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(g){var _=this.options.minZoom;return this.options.minZoom=g,this._loaded&&_!==g&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(g):this},setMaxZoom:function(g){var _=this.options.maxZoom;return this.options.maxZoom=g,this._loaded&&_!==g&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(g):this},panInsideBounds:function(g,_){this._enforcingBounds=!0;var H=this.getCenter(),ae=this._limitCenter(H,this._zoom,Le(g));return H.equals(ae)||this.panTo(ae,_),this._enforcingBounds=!1,this},panInside:function(g,_){_=_||{};var H=Oe(_.paddingTopLeft||_.padding||[0,0]),ae=Oe(_.paddingBottomRight||_.padding||[0,0]),_e=this.project(this.getCenter()),Ve=this.project(g),jt=this.getPixelBounds(),Zt=ue([jt.min.add(H),jt.max.subtract(ae)]),xr=Zt.getSize();if(!Zt.contains(Ve)){this._enforcingBounds=!0;var $r=Ve.subtract(Zt.getCenter()),vn=Zt.extend(Ve).getSize().subtract(xr);_e.x+=$r.x<0?-vn.x:vn.x,_e.y+=$r.y<0?-vn.y:vn.y,this.panTo(this.unproject(_e),_),this._enforcingBounds=!1}return this},invalidateSize:function(g){if(!this._loaded)return this;g=i({animate:!1,pan:!0},g===!0?{animate:!0}:g);var _=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var H=this.getSize(),ae=_.divideBy(2).round(),_e=H.divideBy(2).round(),Ve=ae.subtract(_e);return!Ve.x&&!Ve.y?this:(g.animate&&g.pan?this.panBy(Ve):(g.pan&&this._rawPanBy(Ve),this.fire("move"),g.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(a(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:_,newSize:H}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(g){if(g=this._locateOptions=i({timeout:1e4,watch:!1},g),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var _=a(this._handleGeolocationResponse,this),H=a(this._handleGeolocationError,this);return g.watch?this._locationWatchId=navigator.geolocation.watchPosition(_,H,g):navigator.geolocation.getCurrentPosition(_,H,g),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(g){if(this._container._leaflet_id){var _=g.code,H=g.message||(_===1?"permission denied":_===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:_,message:"Geolocation error: "+H+"."})}},_handleGeolocationResponse:function(g){if(this._container._leaflet_id){var _=g.coords.latitude,H=g.coords.longitude,ae=new He(_,H),_e=ae.toBounds(g.coords.accuracy*2),Ve=this._locateOptions;if(Ve.setView){var jt=this.getBoundsZoom(_e);this.setView(ae,Ve.maxZoom?Math.min(jt,Ve.maxZoom):jt)}var Zt={latlng:ae,bounds:_e,timestamp:g.timestamp};for(var xr in g.coords)typeof g.coords[xr]=="number"&&(Zt[xr]=g.coords[xr]);this.fire("locationfound",Zt)}},addHandler:function(g,_){if(!_)return this;var H=this[g]=new _(this);return this._handlers.push(H),this.options[g]&&H.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),js(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Ae(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var g;for(g in this._layers)this._layers[g].remove();for(g in this._panes)js(this._panes[g]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(g,_){var H="leaflet-pane"+(g?" leaflet-"+g.replace("Pane","")+"-pane":""),ae=ci("div",H,_||this._mapPane);return g&&(this._panes[g]=ae),ae},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var g=this.getPixelBounds(),_=this.unproject(g.getBottomLeft()),H=this.unproject(g.getTopRight());return new ye(_,H)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(g,_,H){g=Le(g),H=Oe(H||[0,0]);var ae=this.getZoom()||0,_e=this.getMinZoom(),Ve=this.getMaxZoom(),jt=g.getNorthWest(),Zt=g.getSouthEast(),xr=this.getSize().subtract(H),$r=ue(this.project(Zt,ae),this.project(jt,ae)).getSize(),vn=Tn.any3d?this.options.zoomSnap:1,ui=xr.x/$r.x,As=xr.y/$r.y,Da=_?Math.max(ui,As):Math.min(ui,As);return ae=this.getScaleZoom(Da,ae),vn&&(ae=Math.round(ae/(vn/100))*(vn/100),ae=_?Math.ceil(ae/vn)*vn:Math.floor(ae/vn)*vn),Math.max(_e,Math.min(Ve,ae))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ce(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(g,_){var H=this._getTopLeftPoint(g,_);return new we(H,H.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(g){return this.options.crs.getProjectedBounds(g===void 0?this.getZoom():g)},getPane:function(g){return typeof g=="string"?this._panes[g]:g},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(g,_){var H=this.options.crs;return _=_===void 0?this._zoom:_,H.scale(g)/H.scale(_)},getScaleZoom:function(g,_){var H=this.options.crs;_=_===void 0?this._zoom:_;var ae=H.zoom(g*H.scale(_));return isNaN(ae)?1/0:ae},project:function(g,_){return _=_===void 0?this._zoom:_,this.options.crs.latLngToPoint(Fe(g),_)},unproject:function(g,_){return _=_===void 0?this._zoom:_,this.options.crs.pointToLatLng(Oe(g),_)},layerPointToLatLng:function(g){var _=Oe(g).add(this.getPixelOrigin());return this.unproject(_)},latLngToLayerPoint:function(g){var _=this.project(Fe(g))._round();return _._subtract(this.getPixelOrigin())},wrapLatLng:function(g){return this.options.crs.wrapLatLng(Fe(g))},wrapLatLngBounds:function(g){return this.options.crs.wrapLatLngBounds(Le(g))},distance:function(g,_){return this.options.crs.distance(Fe(g),Fe(_))},containerPointToLayerPoint:function(g){return Oe(g).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(g){return Oe(g).add(this._getMapPanePos())},containerPointToLatLng:function(g){var _=this.containerPointToLayerPoint(Oe(g));return this.layerPointToLatLng(_)},latLngToContainerPoint:function(g){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Fe(g)))},mouseEventToContainerPoint:function(g){return ke(g,this._container)},mouseEventToLayerPoint:function(g){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(g))},mouseEventToLatLng:function(g){return this.layerPointToLatLng(this.mouseEventToLayerPoint(g))},_initContainer:function(g){var _=this._container=fc(g);if(_){if(_._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");he(_,"scroll",this._onScroll,this),this._containerId=u(_)},_initLayout:function(){var g=this._container;this._fadeAnimated=this.options.fadeAnimation&&Tn.any3d,Xn(g,"leaflet-container"+(Tn.touch?" leaflet-touch":"")+(Tn.retina?" leaflet-retina":"")+(Tn.ielt9?" leaflet-oldie":"")+(Tn.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var _=Hs(g,"position");_!=="absolute"&&_!=="relative"&&_!=="fixed"&&_!=="sticky"&&(g.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var g=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),fs(this._mapPane,new ce(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Xn(g.markerPane,"leaflet-zoom-hide"),Xn(g.shadowPane,"leaflet-zoom-hide"))},_resetView:function(g,_,H){fs(this._mapPane,new ce(0,0));var ae=!this._loaded;this._loaded=!0,_=this._limitZoom(_),this.fire("viewprereset");var _e=this._zoom!==_;this._moveStart(_e,H)._move(g,_)._moveEnd(_e),this.fire("viewreset"),ae&&this.fire("load")},_moveStart:function(g,_){return g&&this.fire("zoomstart"),_||this.fire("movestart"),this},_move:function(g,_,H,ae){_===void 0&&(_=this._zoom);var _e=this._zoom!==_;return this._zoom=_,this._lastCenter=g,this._pixelOrigin=this._getNewPixelOrigin(g),ae?H&&H.pinch&&this.fire("zoom",H):((_e||H&&H.pinch)&&this.fire("zoom",H),this.fire("move",H)),this},_moveEnd:function(g){return g&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Ae(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(g){fs(this._mapPane,this._getMapPanePos().subtract(g))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(g){this._targets={},this._targets[u(this._container)]=this;var _=g?Ue:he;_(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&_(window,"resize",this._onResize,this),Tn.any3d&&this.options.transform3DLimit&&(g?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Ae(this._resizeRequest),this._resizeRequest=ie(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var g=this._getMapPanePos();Math.max(Math.abs(g.x),Math.abs(g.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(g,_){for(var H=[],ae,_e=_==="mouseout"||_==="mouseover",Ve=g.target||g.srcElement,jt=!1;Ve;){if(ae=this._targets[u(Ve)],ae&&(_==="click"||_==="preclick")&&this._draggableMoved(ae)){jt=!0;break}if(ae&&ae.listens(_,!0)&&(_e&&!lt(Ve,g)||(H.push(ae),_e))||Ve===this._container)break;Ve=Ve.parentNode}return!H.length&&!jt&&!_e&&this.listens(_,!0)&&(H=[this]),H},_isClickDisabled:function(g){for(;g&&g!==this._container;){if(g._leaflet_disable_click)return!0;g=g.parentNode}},_handleDOMEvent:function(g){var _=g.target||g.srcElement;if(!(!this._loaded||_._leaflet_disable_events||g.type==="click"&&this._isClickDisabled(_))){var H=g.type;H==="mousedown"&&ne(_),this._fireDOMEvent(g,H)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(g,_,H){if(g.type==="click"){var ae=i({},g);ae.type="preclick",this._fireDOMEvent(ae,ae.type,H)}var _e=this._findEventTargets(g,_);if(H){for(var Ve=[],jt=0;jt<H.length;jt++)H[jt].listens(_,!0)&&Ve.push(H[jt]);_e=Ve.concat(_e)}if(_e.length){_==="contextmenu"&&ve(g);var Zt=_e[0],xr={originalEvent:g};if(g.type!=="keypress"&&g.type!=="keydown"&&g.type!=="keyup"){var $r=Zt.getLatLng&&(!Zt._radius||Zt._radius<=10);xr.containerPoint=$r?this.latLngToContainerPoint(Zt.getLatLng()):this.mouseEventToContainerPoint(g),xr.layerPoint=this.containerPointToLayerPoint(xr.containerPoint),xr.latlng=$r?Zt.getLatLng():this.layerPointToLatLng(xr.layerPoint)}for(jt=0;jt<_e.length;jt++)if(_e[jt].fire(_,xr,!0),xr.originalEvent._stopped||_e[jt].options.bubblingMouseEvents===!1&&C(this._mouseEvents,_)!==-1)return}},_draggableMoved:function(g){return g=g.dragging&&g.dragging.enabled()?g:this,g.dragging&&g.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var g=0,_=this._handlers.length;g<_;g++)this._handlers[g].disable()},whenReady:function(g,_){return this._loaded?g.call(_||this,{target:this}):this.on("load",g,_),this},_getMapPanePos:function(){return So(this._mapPane)||new ce(0,0)},_moved:function(){var g=this._getMapPanePos();return g&&!g.equals([0,0])},_getTopLeftPoint:function(g,_){var H=g&&_!==void 0?this._getNewPixelOrigin(g,_):this.getPixelOrigin();return H.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(g,_){var H=this.getSize()._divideBy(2);return this.project(g,_)._subtract(H)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(g,_,H){var ae=this._getNewPixelOrigin(H,_);return this.project(g,_)._subtract(ae)},_latLngBoundsToNewLayerBounds:function(g,_,H){var ae=this._getNewPixelOrigin(H,_);return ue([this.project(g.getSouthWest(),_)._subtract(ae),this.project(g.getNorthWest(),_)._subtract(ae),this.project(g.getSouthEast(),_)._subtract(ae),this.project(g.getNorthEast(),_)._subtract(ae)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(g){return this.latLngToLayerPoint(g).subtract(this._getCenterLayerPoint())},_limitCenter:function(g,_,H){if(!H)return g;var ae=this.project(g,_),_e=this.getSize().divideBy(2),Ve=new we(ae.subtract(_e),ae.add(_e)),jt=this._getBoundsOffset(Ve,H,_);return Math.abs(jt.x)<=1&&Math.abs(jt.y)<=1?g:this.unproject(ae.add(jt),_)},_limitOffset:function(g,_){if(!_)return g;var H=this.getPixelBounds(),ae=new we(H.min.add(g),H.max.add(g));return g.add(this._getBoundsOffset(ae,_))},_getBoundsOffset:function(g,_,H){var ae=ue(this.project(_.getNorthEast(),H),this.project(_.getSouthWest(),H)),_e=ae.min.subtract(g.min),Ve=ae.max.subtract(g.max),jt=this._rebound(_e.x,-Ve.x),Zt=this._rebound(_e.y,-Ve.y);return new ce(jt,Zt)},_rebound:function(g,_){return g+_>0?Math.round(g-_)/2:Math.max(0,Math.ceil(g))-Math.max(0,Math.floor(_))},_limitZoom:function(g){var _=this.getMinZoom(),H=this.getMaxZoom(),ae=Tn.any3d?this.options.zoomSnap:1;return ae&&(g=Math.round(g/ae)*ae),Math.max(_,Math.min(H,g))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){hs(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(g,_){var H=this._getCenterOffset(g)._trunc();return(_&&_.animate)!==!0&&!this.getSize().contains(H)?!1:(this.panBy(H,_),!0)},_createAnimProxy:function(){var g=this._proxy=ci("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(g),this.on("zoomanim",function(_){var H=ro,ae=this._proxy.style[H];qs(this._proxy,this.project(_.center,_.zoom),this.getZoomScale(_.zoom,1)),ae===this._proxy.style[H]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){js(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var g=this.getCenter(),_=this.getZoom();qs(this._proxy,this.project(g,_),this.getZoomScale(_,1))},_catchTransitionEnd:function(g){this._animatingZoom&&g.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(g,_,H){if(this._animatingZoom)return!0;if(H=H||{},!this._zoomAnimated||H.animate===!1||this._nothingToAnimate()||Math.abs(_-this._zoom)>this.options.zoomAnimationThreshold)return!1;var ae=this.getZoomScale(_),_e=this._getCenterOffset(g)._divideBy(1-1/ae);return H.animate!==!0&&!this.getSize().contains(_e)?!1:(ie(function(){this._moveStart(!0,H.noMoveStart||!1)._animateZoom(g,_,!0)},this),!0)},_animateZoom:function(g,_,H,ae){this._mapPane&&(H&&(this._animatingZoom=!0,this._animateToCenter=g,this._animateToZoom=_,Xn(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:g,zoom:_,noUpdate:ae}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(a(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&hs(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Tt(g,_){return new at(g,_)}var rt=Ee.extend({options:{position:"topright"},initialize:function(g){y(this,g)},getPosition:function(){return this.options.position},setPosition:function(g){var _=this._map;return _&&_.removeControl(this),this.options.position=g,_&&_.addControl(this),this},getContainer:function(){return this._container},addTo:function(g){this.remove(),this._map=g;var _=this._container=this.onAdd(g),H=this.getPosition(),ae=g._controlCorners[H];return Xn(_,"leaflet-control"),H.indexOf("bottom")!==-1?ae.insertBefore(_,ae.firstChild):ae.appendChild(_),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(js(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(g){this._map&&g&&g.screenX>0&&g.screenY>0&&this._map.getContainer().focus()}}),Bt=function(g){return new rt(g)};at.include({addControl:function(g){return g.addTo(this),this},removeControl:function(g){return g.remove(),this},_initControlPos:function(){var g=this._controlCorners={},_="leaflet-",H=this._controlContainer=ci("div",_+"control-container",this._container);function ae(_e,Ve){var jt=_+_e+" "+_+Ve;g[_e+Ve]=ci("div",jt,H)}ae("top","left"),ae("top","right"),ae("bottom","left"),ae("bottom","right")},_clearControlPos:function(){for(var g in this._controlCorners)js(this._controlCorners[g]);js(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Yt=rt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(g,_,H,ae){return H<ae?-1:ae<H?1:0}},initialize:function(g,_,H){y(this,H),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var ae in g)this._addLayer(g[ae],ae);for(ae in _)this._addLayer(_[ae],ae,!0)},onAdd:function(g){this._initLayout(),this._update(),this._map=g,g.on("zoomend",this._checkDisabledLayers,this);for(var _=0;_<this._layers.length;_++)this._layers[_].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(g){return rt.prototype.addTo.call(this,g),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var g=0;g<this._layers.length;g++)this._layers[g].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(g,_){return this._addLayer(g,_),this._map?this._update():this},addOverlay:function(g,_){return this._addLayer(g,_,!0),this._map?this._update():this},removeLayer:function(g){g.off("add remove",this._onLayerChange,this);var _=this._getLayer(u(g));return _&&this._layers.splice(this._layers.indexOf(_),1),this._map?this._update():this},expand:function(){Xn(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var g=this._map.getSize().y-(this._container.offsetTop+50);return g<this._section.clientHeight?(Xn(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=g+"px"):hs(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return hs(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var g="leaflet-control-layers",_=this._container=ci("div",g),H=this.options.collapsed;_.setAttribute("aria-haspopup",!0),ee(_),X(_);var ae=this._section=ci("section",g+"-list");H&&(this._map.on("click",this.collapse,this),he(_,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var _e=this._layersLink=ci("a",g+"-toggle",_);_e.href="#",_e.title="Layers",_e.setAttribute("role","button"),he(_e,{keydown:function(Ve){Ve.keyCode===13&&this._expandSafely()},click:function(Ve){ve(Ve),this._expandSafely()}},this),H||this.expand(),this._baseLayersList=ci("div",g+"-base",ae),this._separator=ci("div",g+"-separator",ae),this._overlaysList=ci("div",g+"-overlays",ae),_.appendChild(ae)},_getLayer:function(g){for(var _=0;_<this._layers.length;_++)if(this._layers[_]&&u(this._layers[_].layer)===g)return this._layers[_]},_addLayer:function(g,_,H){this._map&&g.on("add remove",this._onLayerChange,this),this._layers.push({layer:g,name:_,overlay:H}),this.options.sortLayers&&this._layers.sort(a(function(ae,_e){return this.options.sortFunction(ae.layer,_e.layer,ae.name,_e.name)},this)),this.options.autoZIndex&&g.setZIndex&&(this._lastZIndex++,g.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ta(this._baseLayersList),Ta(this._overlaysList),this._layerControlInputs=[];var g,_,H,ae,_e=0;for(H=0;H<this._layers.length;H++)ae=this._layers[H],this._addItem(ae),_=_||ae.overlay,g=g||!ae.overlay,_e+=ae.overlay?0:1;return this.options.hideSingleBase&&(g=g&&_e>1,this._baseLayersList.style.display=g?"":"none"),this._separator.style.display=_&&g?"":"none",this},_onLayerChange:function(g){this._handlingClick||this._update();var _=this._getLayer(u(g.target)),H=_.overlay?g.type==="add"?"overlayadd":"overlayremove":g.type==="add"?"baselayerchange":null;H&&this._map.fire(H,_)},_createRadioElement:function(g,_){var H='<input type="radio" class="leaflet-control-layers-selector" name="'+g+'"'+(_?' checked="checked"':"")+"/>",ae=document.createElement("div");return ae.innerHTML=H,ae.firstChild},_addItem:function(g){var _=document.createElement("label"),H=this._map.hasLayer(g.layer),ae;g.overlay?(ae=document.createElement("input"),ae.type="checkbox",ae.className="leaflet-control-layers-selector",ae.defaultChecked=H):ae=this._createRadioElement("leaflet-base-layers_"+u(this),H),this._layerControlInputs.push(ae),ae.layerId=u(g.layer),he(ae,"click",this._onInputClick,this);var _e=document.createElement("span");_e.innerHTML=" "+g.name;var Ve=document.createElement("span");_.appendChild(Ve),Ve.appendChild(ae),Ve.appendChild(_e);var jt=g.overlay?this._overlaysList:this._baseLayersList;return jt.appendChild(_),this._checkDisabledLayers(),_},_onInputClick:function(){if(!this._preventClick){var g=this._layerControlInputs,_,H,ae=[],_e=[];this._handlingClick=!0;for(var Ve=g.length-1;Ve>=0;Ve--)_=g[Ve],H=this._getLayer(_.layerId).layer,_.checked?ae.push(H):_.checked||_e.push(H);for(Ve=0;Ve<_e.length;Ve++)this._map.hasLayer(_e[Ve])&&this._map.removeLayer(_e[Ve]);for(Ve=0;Ve<ae.length;Ve++)this._map.hasLayer(ae[Ve])||this._map.addLayer(ae[Ve]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var g=this._layerControlInputs,_,H,ae=this._map.getZoom(),_e=g.length-1;_e>=0;_e--)_=g[_e],H=this._getLayer(_.layerId).layer,_.disabled=H.options.minZoom!==void 0&&ae<H.options.minZoom||H.options.maxZoom!==void 0&&ae>H.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var g=this._section;this._preventClick=!0,he(g,"click",ve),this.expand();var _=this;setTimeout(function(){Ue(g,"click",ve),_._preventClick=!1})}}),kt=function(g,_,H){return new Yt(g,_,H)},tt=rt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(g){var _="leaflet-control-zoom",H=ci("div",_+" leaflet-bar"),ae=this.options;return this._zoomInButton=this._createButton(ae.zoomInText,ae.zoomInTitle,_+"-in",H,this._zoomIn),this._zoomOutButton=this._createButton(ae.zoomOutText,ae.zoomOutTitle,_+"-out",H,this._zoomOut),this._updateDisabled(),g.on("zoomend zoomlevelschange",this._updateDisabled,this),H},onRemove:function(g){g.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(g){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(g.shiftKey?3:1))},_zoomOut:function(g){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(g.shiftKey?3:1))},_createButton:function(g,_,H,ae,_e){var Ve=ci("a",H,ae);return Ve.innerHTML=g,Ve.href="#",Ve.title=_,Ve.setAttribute("role","button"),Ve.setAttribute("aria-label",_),ee(Ve),he(Ve,"click",de),he(Ve,"click",_e,this),he(Ve,"click",this._refocusOnMap,this),Ve},_updateDisabled:function(){var g=this._map,_="leaflet-disabled";hs(this._zoomInButton,_),hs(this._zoomOutButton,_),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||g._zoom===g.getMinZoom())&&(Xn(this._zoomOutButton,_),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||g._zoom===g.getMaxZoom())&&(Xn(this._zoomInButton,_),this._zoomInButton.setAttribute("aria-disabled","true"))}});at.mergeOptions({zoomControl:!0}),at.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new tt,this.addControl(this.zoomControl))});var Vt=function(g){return new tt(g)},Er=rt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(g){var _="leaflet-control-scale",H=ci("div",_),ae=this.options;return this._addScales(ae,_+"-line",H),g.on(ae.updateWhenIdle?"moveend":"move",this._update,this),g.whenReady(this._update,this),H},onRemove:function(g){g.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(g,_,H){g.metric&&(this._mScale=ci("div",_,H)),g.imperial&&(this._iScale=ci("div",_,H))},_update:function(){var g=this._map,_=g.getSize().y/2,H=g.distance(g.containerPointToLatLng([0,_]),g.containerPointToLatLng([this.options.maxWidth,_]));this._updateScales(H)},_updateScales:function(g){this.options.metric&&g&&this._updateMetric(g),this.options.imperial&&g&&this._updateImperial(g)},_updateMetric:function(g){var _=this._getRoundNum(g),H=_<1e3?_+" m":_/1e3+" km";this._updateScale(this._mScale,H,_/g)},_updateImperial:function(g){var _=g*3.2808399,H,ae,_e;_>5280?(H=_/5280,ae=this._getRoundNum(H),this._updateScale(this._iScale,ae+" mi",ae/H)):(_e=this._getRoundNum(_),this._updateScale(this._iScale,_e+" ft",_e/_))},_updateScale:function(g,_,H){g.style.width=Math.round(this.options.maxWidth*H)+"px",g.innerHTML=_},_getRoundNum:function(g){var _=Math.pow(10,(Math.floor(g)+"").length-1),H=g/_;return H=H>=10?10:H>=5?5:H>=3?3:H>=2?2:1,_*H}}),nr=function(g){return new Er(g)},Rt='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',yr=rt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Tn.inlineSvg?Rt+" ":"")+"Leaflet</a>"},initialize:function(g){y(this,g),this._attributions={}},onAdd:function(g){g.attributionControl=this,this._container=ci("div","leaflet-control-attribution"),ee(this._container);for(var _ in g._layers)g._layers[_].getAttribution&&this.addAttribution(g._layers[_].getAttribution());return this._update(),g.on("layeradd",this._addAttribution,this),this._container},onRemove:function(g){g.off("layeradd",this._addAttribution,this)},_addAttribution:function(g){g.layer.getAttribution&&(this.addAttribution(g.layer.getAttribution()),g.layer.once("remove",function(){this.removeAttribution(g.layer.getAttribution())},this))},setPrefix:function(g){return this.options.prefix=g,this._update(),this},addAttribution:function(g){return g?(this._attributions[g]||(this._attributions[g]=0),this._attributions[g]++,this._update(),this):this},removeAttribution:function(g){return g?(this._attributions[g]&&(this._attributions[g]--,this._update()),this):this},_update:function(){if(this._map){var g=[];for(var _ in this._attributions)this._attributions[_]&&g.push(_);var H=[];this.options.prefix&&H.push(this.options.prefix),g.length&&H.push(g.join(", ")),this._container.innerHTML=H.join(' <span aria-hidden="true">|</span> ')}}});at.mergeOptions({attributionControl:!0}),at.addInitHook(function(){this.options.attributionControl&&new yr().addTo(this)});var it=function(g){return new yr(g)};rt.Layers=Yt,rt.Zoom=tt,rt.Scale=Er,rt.Attribution=yr,Bt.layers=kt,Bt.zoom=Vt,Bt.scale=nr,Bt.attribution=it;var ft=Ee.extend({initialize:function(g){this._map=g},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ft.addTo=function(g,_){return g.addHandler(_,this),this};var Ot={Events:se},Pt=Tn.touch?"touchstart mousedown":"mousedown",Ar=xe.extend({options:{clickTolerance:3},initialize:function(g,_,H,ae){y(this,ae),this._element=g,this._dragStartTarget=_||g,this._preventOutline=H},enable:function(){this._enabled||(he(this._dragStartTarget,Pt,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ar._dragging===this&&this.finishDrag(!0),Ue(this._dragStartTarget,Pt,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(g){if(this._enabled&&(this._moved=!1,!gi(this._element,"leaflet-zoom-anim"))){if(g.touches&&g.touches.length!==1){Ar._dragging===this&&this.finishDrag();return}if(!(Ar._dragging||g.shiftKey||g.which!==1&&g.button!==1&&!g.touches)&&(Ar._dragging=this,this._preventOutline&&ne(this._element),no(),za(),!this._moving)){this.fire("down");var _=g.touches?g.touches[0]:g,H=F(this._element);this._startPoint=new ce(_.clientX,_.clientY),this._startPos=So(this._element),this._parentScale=z(H);var ae=g.type==="mousedown";he(document,ae?"mousemove":"touchmove",this._onMove,this),he(document,ae?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(g){if(this._enabled){if(g.touches&&g.touches.length>1){this._moved=!0;return}var _=g.touches&&g.touches.length===1?g.touches[0]:g,H=new ce(_.clientX,_.clientY)._subtract(this._startPoint);!H.x&&!H.y||Math.abs(H.x)+Math.abs(H.y)<this.options.clickTolerance||(H.x/=this._parentScale.x,H.y/=this._parentScale.y,ve(g),this._moved||(this.fire("dragstart"),this._moved=!0,Xn(document.body,"leaflet-dragging"),this._lastTarget=g.target||g.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Xn(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(H),this._moving=!0,this._lastEvent=g,this._updatePosition())}},_updatePosition:function(){var g={originalEvent:this._lastEvent};this.fire("predrag",g),fs(this._element,this._newPos),this.fire("drag",g)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(g){hs(document.body,"leaflet-dragging"),this._lastTarget&&(hs(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ue(document,"mousemove touchmove",this._onMove,this),Ue(document,"mouseup touchend touchcancel",this._onUp,this),Vo(),Qs();var _=this._moved&&this._moving;this._moving=!1,Ar._dragging=!1,_&&this.fire("dragend",{noInertia:g,distance:this._newPos.distanceTo(this._startPos)})}});function Tr(g,_,H){var ae,_e=[1,4,2,8],Ve,jt,Zt,xr,$r,vn,ui,As;for(Ve=0,vn=g.length;Ve<vn;Ve++)g[Ve]._code=Sr(g[Ve],_);for(Zt=0;Zt<4;Zt++){for(ui=_e[Zt],ae=[],Ve=0,vn=g.length,jt=vn-1;Ve<vn;jt=Ve++)xr=g[Ve],$r=g[jt],xr._code&ui?$r._code&ui||(As=Cr($r,xr,ui,_,H),As._code=Sr(As,_),ae.push(As)):($r._code&ui&&(As=Cr($r,xr,ui,_,H),As._code=Sr(As,_),ae.push(As)),ae.push(xr));g=ae}return g}function Lr(g,_){var H,ae,_e,Ve,jt,Zt,xr,$r,vn;if(!g||g.length===0)throw new Error("latlngs not passed");bn(g)||(console.warn("latlngs are not flat! Only the first ring will be used"),g=g[0]);var ui=Fe([0,0]),As=Le(g),Da=As.getNorthWest().distanceTo(As.getSouthWest())*As.getNorthEast().distanceTo(As.getNorthWest());Da<1700&&(ui=ar(g));var Co=g.length,il=[];for(H=0;H<Co;H++){var Xs=Fe(g[H]);il.push(_.project(Fe([Xs.lat-ui.lat,Xs.lng-ui.lng])))}for(Zt=xr=$r=0,H=0,ae=Co-1;H<Co;ae=H++)_e=il[H],Ve=il[ae],jt=_e.y*Ve.x-Ve.y*_e.x,xr+=(_e.x+Ve.x)*jt,$r+=(_e.y+Ve.y)*jt,Zt+=jt*3;Zt===0?vn=il[0]:vn=[xr/Zt,$r/Zt];var oa=_.unproject(Oe(vn));return Fe([oa.lat+ui.lat,oa.lng+ui.lng])}function ar(g){for(var _=0,H=0,ae=0,_e=0;_e<g.length;_e++){var Ve=Fe(g[_e]);_+=Ve.lat,H+=Ve.lng,ae++}return Fe([_/ae,H/ae])}var Ir={__proto__:null,clipPolygon:Tr,polygonCenter:Lr,centroid:ar};function hn(g,_){if(!_||!g.length)return g.slice();var H=_*_;return g=Kt(g,H),g=St(g,H),g}function Zr(g,_,H){return Math.sqrt(un(g,_,H,!0))}function Ye(g,_,H){return un(g,_,H)}function St(g,_){var H=g.length,ae=typeof Uint8Array<"u"?Uint8Array:Array,_e=new ae(H);_e[0]=_e[H-1]=1,Nt(g,_e,_,0,H-1);var Ve,jt=[];for(Ve=0;Ve<H;Ve++)_e[Ve]&&jt.push(g[Ve]);return jt}function Nt(g,_,H,ae,_e){var Ve=0,jt,Zt,xr;for(Zt=ae+1;Zt<=_e-1;Zt++)xr=un(g[Zt],g[ae],g[_e],!0),xr>Ve&&(jt=Zt,Ve=xr);Ve>H&&(_[jt]=1,Nt(g,_,H,ae,jt),Nt(g,_,H,jt,_e))}function Kt(g,_){for(var H=[g[0]],ae=1,_e=0,Ve=g.length;ae<Ve;ae++)Vr(g[ae],g[_e])>_&&(H.push(g[ae]),_e=ae);return _e<Ve-1&&H.push(g[Ve-1]),H}var qt;function cr(g,_,H,ae,_e){var Ve=ae?qt:Sr(g,H),jt=Sr(_,H),Zt,xr,$r;for(qt=jt;;){if(!(Ve|jt))return[g,_];if(Ve&jt)return!1;Zt=Ve||jt,xr=Cr(g,_,Zt,H,_e),$r=Sr(xr,H),Zt===Ve?(g=xr,Ve=$r):(_=xr,jt=$r)}}function Cr(g,_,H,ae,_e){var Ve=_.x-g.x,jt=_.y-g.y,Zt=ae.min,xr=ae.max,$r,vn;return H&8?($r=g.x+Ve*(xr.y-g.y)/jt,vn=xr.y):H&4?($r=g.x+Ve*(Zt.y-g.y)/jt,vn=Zt.y):H&2?($r=xr.x,vn=g.y+jt*(xr.x-g.x)/Ve):H&1&&($r=Zt.x,vn=g.y+jt*(Zt.x-g.x)/Ve),new ce($r,vn,_e)}function Sr(g,_){var H=0;return g.x<_.min.x?H|=1:g.x>_.max.x&&(H|=2),g.y<_.min.y?H|=4:g.y>_.max.y&&(H|=8),H}function Vr(g,_){var H=_.x-g.x,ae=_.y-g.y;return H*H+ae*ae}function un(g,_,H,ae){var _e=_.x,Ve=_.y,jt=H.x-_e,Zt=H.y-Ve,xr=jt*jt+Zt*Zt,$r;return xr>0&&($r=((g.x-_e)*jt+(g.y-Ve)*Zt)/xr,$r>1?(_e=H.x,Ve=H.y):$r>0&&(_e+=jt*$r,Ve+=Zt*$r)),jt=g.x-_e,Zt=g.y-Ve,ae?jt*jt+Zt*Zt:new ce(_e,Ve)}function bn(g){return!T(g[0])||typeof g[0][0]!="object"&&typeof g[0][0]<"u"}function Rn(g){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),bn(g)}function yi(g,_){var H,ae,_e,Ve,jt,Zt,xr,$r;if(!g||g.length===0)throw new Error("latlngs not passed");bn(g)||(console.warn("latlngs are not flat! Only the first ring will be used"),g=g[0]);var vn=Fe([0,0]),ui=Le(g),As=ui.getNorthWest().distanceTo(ui.getSouthWest())*ui.getNorthEast().distanceTo(ui.getNorthWest());As<1700&&(vn=ar(g));var Da=g.length,Co=[];for(H=0;H<Da;H++){var il=Fe(g[H]);Co.push(_.project(Fe([il.lat-vn.lat,il.lng-vn.lng])))}for(H=0,ae=0;H<Da-1;H++)ae+=Co[H].distanceTo(Co[H+1])/2;if(ae===0)$r=Co[0];else for(H=0,Ve=0;H<Da-1;H++)if(jt=Co[H],Zt=Co[H+1],_e=jt.distanceTo(Zt),Ve+=_e,Ve>ae){xr=(Ve-ae)/_e,$r=[Zt.x-xr*(Zt.x-jt.x),Zt.y-xr*(Zt.y-jt.y)];break}var Xs=_.unproject(Oe($r));return Fe([Xs.lat+vn.lat,Xs.lng+vn.lng])}var mt={__proto__:null,simplify:hn,pointToSegmentDistance:Zr,closestPointOnSegment:Ye,clipSegment:cr,_getEdgeIntersection:Cr,_getBitCode:Sr,_sqClosestPointOnSegment:un,isFlat:bn,_flat:Rn,polylineCenter:yi},_n={project:function(g){return new ce(g.lng,g.lat)},unproject:function(g){return new He(g.y,g.x)},bounds:new we([-180,-90],[180,90])},Ri={R:6378137,R_MINOR:6356752314245179e-9,bounds:new we([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(g){var _=Math.PI/180,H=this.R,ae=g.lat*_,_e=this.R_MINOR/H,Ve=Math.sqrt(1-_e*_e),jt=Ve*Math.sin(ae),Zt=Math.tan(Math.PI/4-ae/2)/Math.pow((1-jt)/(1+jt),Ve/2);return ae=-H*Math.log(Math.max(Zt,1e-10)),new ce(g.lng*_*H,ae)},unproject:function(g){for(var _=180/Math.PI,H=this.R,ae=this.R_MINOR/H,_e=Math.sqrt(1-ae*ae),Ve=Math.exp(-g.y/H),jt=Math.PI/2-2*Math.atan(Ve),Zt=0,xr=.1,$r;Zt<15&&Math.abs(xr)>1e-7;Zt++)$r=_e*Math.sin(jt),$r=Math.pow((1-$r)/(1+$r),_e/2),xr=Math.PI/2-2*Math.atan(Ve*$r)-jt,jt+=xr;return new He(jt*_,g.x*_/H)}},Sn={__proto__:null,LonLat:_n,Mercator:Ri,SphericalMercator:st},tn=i({},pt,{code:"EPSG:3395",projection:Ri,transformation:(function(){var g=.5/(Math.PI*Ri.R);return We(g,.5,-g,.5)})()}),ji=i({},pt,{code:"EPSG:4326",projection:_n,transformation:We(1/180,1,-1/180,.5)}),Fn=i({},At,{projection:_n,transformation:We(1,0,-1,0),scale:function(g){return Math.pow(2,g)},zoom:function(g){return Math.log(g)/Math.LN2},distance:function(g,_){var H=_.lng-g.lng,ae=_.lat-g.lat;return Math.sqrt(H*H+ae*ae)},infinite:!0});At.Earth=pt,At.EPSG3395=tn,At.EPSG3857=gt,At.EPSG900913=Ge,At.EPSG4326=ji,At.Simple=Fn;var Hn=xe.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(g){return g.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(g){return g&&g.removeLayer(this),this},getPane:function(g){return this._map.getPane(g?this.options[g]||g:this.options.pane)},addInteractiveTarget:function(g){return this._map._targets[u(g)]=this,this},removeInteractiveTarget:function(g){return delete this._map._targets[u(g)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(g){var _=g.target;if(_.hasLayer(this)){if(this._map=_,this._zoomAnimated=_._zoomAnimated,this.getEvents){var H=this.getEvents();_.on(H,this),this.once("remove",function(){_.off(H,this)},this)}this.onAdd(_),this.fire("add"),_.fire("layeradd",{layer:this})}}});at.include({addLayer:function(g){if(!g._layerAdd)throw new Error("The provided object is not a Layer.");var _=u(g);return this._layers[_]?this:(this._layers[_]=g,g._mapToAdd=this,g.beforeAdd&&g.beforeAdd(this),this.whenReady(g._layerAdd,g),this)},removeLayer:function(g){var _=u(g);return this._layers[_]?(this._loaded&&g.onRemove(this),delete this._layers[_],this._loaded&&(this.fire("layerremove",{layer:g}),g.fire("remove")),g._map=g._mapToAdd=null,this):this},hasLayer:function(g){return u(g)in this._layers},eachLayer:function(g,_){for(var H in this._layers)g.call(_,this._layers[H]);return this},_addLayers:function(g){g=g?T(g)?g:[g]:[];for(var _=0,H=g.length;_<H;_++)this.addLayer(g[_])},_addZoomLimit:function(g){(!isNaN(g.options.maxZoom)||!isNaN(g.options.minZoom))&&(this._zoomBoundLayers[u(g)]=g,this._updateZoomLevels())},_removeZoomLimit:function(g){var _=u(g);this._zoomBoundLayers[_]&&(delete this._zoomBoundLayers[_],this._updateZoomLevels())},_updateZoomLevels:function(){var g=1/0,_=-1/0,H=this._getZoomSpan();for(var ae in this._zoomBoundLayers){var _e=this._zoomBoundLayers[ae].options;g=_e.minZoom===void 0?g:Math.min(g,_e.minZoom),_=_e.maxZoom===void 0?_:Math.max(_,_e.maxZoom)}this._layersMaxZoom=_===-1/0?void 0:_,this._layersMinZoom=g===1/0?void 0:g,H!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var $n=Hn.extend({initialize:function(g,_){y(this,_),this._layers={};var H,ae;if(g)for(H=0,ae=g.length;H<ae;H++)this.addLayer(g[H])},addLayer:function(g){var _=this.getLayerId(g);return this._layers[_]=g,this._map&&this._map.addLayer(g),this},removeLayer:function(g){var _=g in this._layers?g:this.getLayerId(g);return this._map&&this._layers[_]&&this._map.removeLayer(this._layers[_]),delete this._layers[_],this},hasLayer:function(g){var _=typeof g=="number"?g:this.getLayerId(g);return _ in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(g){var _=Array.prototype.slice.call(arguments,1),H,ae;for(H in this._layers)ae=this._layers[H],ae[g]&&ae[g].apply(ae,_);return this},onAdd:function(g){this.eachLayer(g.addLayer,g)},onRemove:function(g){this.eachLayer(g.removeLayer,g)},eachLayer:function(g,_){for(var H in this._layers)g.call(_,this._layers[H]);return this},getLayer:function(g){return this._layers[g]},getLayers:function(){var g=[];return this.eachLayer(g.push,g),g},setZIndex:function(g){return this.invoke("setZIndex",g)},getLayerId:function(g){return u(g)}}),ga=function(g,_){return new $n(g,_)},Di=$n.extend({addLayer:function(g){return this.hasLayer(g)?this:(g.addEventParent(this),$n.prototype.addLayer.call(this,g),this.fire("layeradd",{layer:g}))},removeLayer:function(g){return this.hasLayer(g)?(g in this._layers&&(g=this._layers[g]),g.removeEventParent(this),$n.prototype.removeLayer.call(this,g),this.fire("layerremove",{layer:g})):this},setStyle:function(g){return this.invoke("setStyle",g)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var g=new ye;for(var _ in this._layers){var H=this._layers[_];g.extend(H.getBounds?H.getBounds():H.getLatLng())}return g}}),Gn=function(g,_){return new Di(g,_)},ns=Ee.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(g){y(this,g)},createIcon:function(g){return this._createIcon("icon",g)},createShadow:function(g){return this._createIcon("shadow",g)},_createIcon:function(g,_){var H=this._getIconUrl(g);if(!H){if(g==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var ae=this._createImg(H,_&&_.tagName==="IMG"?_:null);return this._setIconStyles(ae,g),(this.options.crossOrigin||this.options.crossOrigin==="")&&(ae.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),ae},_setIconStyles:function(g,_){var H=this.options,ae=H[_+"Size"];typeof ae=="number"&&(ae=[ae,ae]);var _e=Oe(ae),Ve=Oe(_==="shadow"&&H.shadowAnchor||H.iconAnchor||_e&&_e.divideBy(2,!0));g.className="leaflet-marker-"+_+" "+(H.className||""),Ve&&(g.style.marginLeft=-Ve.x+"px",g.style.marginTop=-Ve.y+"px"),_e&&(g.style.width=_e.x+"px",g.style.height=_e.y+"px")},_createImg:function(g,_){return _=_||document.createElement("img"),_.src=g,_},_getIconUrl:function(g){return Tn.retina&&this.options[g+"RetinaUrl"]||this.options[g+"Url"]}});function _i(g){return new ns(g)}var Un=ns.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(g){return typeof Un.imagePath!="string"&&(Un.imagePath=this._detectIconPath()),(this.options.imagePath||Un.imagePath)+ns.prototype._getIconUrl.call(this,g)},_stripUrl:function(g){var _=function(H,ae,_e){var Ve=ae.exec(H);return Ve&&Ve[_e]};return g=_(g,/^url\((['"])?(.+)\1\)$/,2),g&&_(g,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var g=ci("div","leaflet-default-icon-path",document.body),_=Hs(g,"background-image")||Hs(g,"backgroundImage");if(document.body.removeChild(g),_=this._stripUrl(_),_)return _;var H=document.querySelector('link[href$="leaflet.css"]');return H?H.href.substring(0,H.href.length-11-1):""}}),ki=ft.extend({initialize:function(g){this._marker=g},addHooks:function(){var g=this._marker._icon;this._draggable||(this._draggable=new Ar(g,g,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Xn(g,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&hs(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(g){var _=this._marker,H=_._map,ae=this._marker.options.autoPanSpeed,_e=this._marker.options.autoPanPadding,Ve=So(_._icon),jt=H.getPixelBounds(),Zt=H.getPixelOrigin(),xr=ue(jt.min._subtract(Zt).add(_e),jt.max._subtract(Zt).subtract(_e));if(!xr.contains(Ve)){var $r=Oe((Math.max(xr.max.x,Ve.x)-xr.max.x)/(jt.max.x-xr.max.x)-(Math.min(xr.min.x,Ve.x)-xr.min.x)/(jt.min.x-xr.min.x),(Math.max(xr.max.y,Ve.y)-xr.max.y)/(jt.max.y-xr.max.y)-(Math.min(xr.min.y,Ve.y)-xr.min.y)/(jt.min.y-xr.min.y)).multiplyBy(ae);H.panBy($r,{animate:!1}),this._draggable._newPos._add($r),this._draggable._startPos._add($r),fs(_._icon,this._draggable._newPos),this._onDrag(g),this._panRequest=ie(this._adjustPan.bind(this,g))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(g){this._marker.options.autoPan&&(Ae(this._panRequest),this._panRequest=ie(this._adjustPan.bind(this,g)))},_onDrag:function(g){var _=this._marker,H=_._shadow,ae=So(_._icon),_e=_._map.layerPointToLatLng(ae);H&&fs(H,ae),_._latlng=_e,g.latlng=_e,g.oldLatLng=this._oldLatLng,_.fire("move",g).fire("drag",g)},_onDragEnd:function(g){Ae(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",g)}}),Wn=Hn.extend({options:{icon:new Un,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(g,_){y(this,_),this._latlng=Fe(g)},onAdd:function(g){this._zoomAnimated=this._zoomAnimated&&g.options.markerZoomAnimation,this._zoomAnimated&&g.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(g){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&g.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(g){var _=this._latlng;return this._latlng=Fe(g),this.update(),this.fire("move",{oldLatLng:_,latlng:this._latlng})},setZIndexOffset:function(g){return this.options.zIndexOffset=g,this.update()},getIcon:function(){return this.options.icon},setIcon:function(g){return this.options.icon=g,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var g=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(g)}return this},_initIcon:function(){var g=this.options,_="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),H=g.icon.createIcon(this._icon),ae=!1;H!==this._icon&&(this._icon&&this._removeIcon(),ae=!0,g.title&&(H.title=g.title),H.tagName==="IMG"&&(H.alt=g.alt||"")),Xn(H,_),g.keyboard&&(H.tabIndex="0",H.setAttribute("role","button")),this._icon=H,g.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&he(H,"focus",this._panOnFocus,this);var _e=g.icon.createShadow(this._shadow),Ve=!1;_e!==this._shadow&&(this._removeShadow(),Ve=!0),_e&&(Xn(_e,_),_e.alt=""),this._shadow=_e,g.opacity<1&&this._updateOpacity(),ae&&this.getPane().appendChild(this._icon),this._initInteraction(),_e&&Ve&&this.getPane(g.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ue(this._icon,"focus",this._panOnFocus,this),js(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&js(this._shadow),this._shadow=null},_setPos:function(g){this._icon&&fs(this._icon,g),this._shadow&&fs(this._shadow,g),this._zIndex=g.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(g){this._icon&&(this._icon.style.zIndex=this._zIndex+g)},_animateZoom:function(g){var _=this._map._latLngToNewLayerPoint(this._latlng,g.zoom,g.center).round();this._setPos(_)},_initInteraction:function(){if(this.options.interactive&&(Xn(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ki)){var g=this.options.draggable;this.dragging&&(g=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ki(this),g&&this.dragging.enable()}},setOpacity:function(g){return this.options.opacity=g,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var g=this.options.opacity;this._icon&&Hi(this._icon,g),this._shadow&&Hi(this._shadow,g)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var g=this._map;if(g){var _=this.options.icon.options,H=_.iconSize?Oe(_.iconSize):Oe(0,0),ae=_.iconAnchor?Oe(_.iconAnchor):Oe(0,0);g.panInside(this._latlng,{paddingTopLeft:ae,paddingBottomRight:H.subtract(ae)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Gi(g,_){return new Wn(g,_)}var is=Hn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(g){this._renderer=g.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(g){return y(this,g),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&g&&Object.prototype.hasOwnProperty.call(g,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Zi=is.extend({options:{fill:!0,radius:10},initialize:function(g,_){y(this,_),this._latlng=Fe(g),this._radius=this.options.radius},setLatLng:function(g){var _=this._latlng;return this._latlng=Fe(g),this.redraw(),this.fire("move",{oldLatLng:_,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(g){return this.options.radius=this._radius=g,this.redraw()},getRadius:function(){return this._radius},setStyle:function(g){var _=g&&g.radius||this._radius;return is.prototype.setStyle.call(this,g),this.setRadius(_),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var g=this._radius,_=this._radiusY||g,H=this._clickTolerance(),ae=[g+H,_+H];this._pxBounds=new we(this._point.subtract(ae),this._point.add(ae))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(g){return g.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function gs(g,_){return new Zi(g,_)}var ja=Zi.extend({initialize:function(g,_,H){if(typeof _=="number"&&(_=i({},H,{radius:_})),y(this,_),this._latlng=Fe(g),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(g){return this._mRadius=g,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var g=[this._radius,this._radiusY||this._radius];return new ye(this._map.layerPointToLatLng(this._point.subtract(g)),this._map.layerPointToLatLng(this._point.add(g)))},setStyle:is.prototype.setStyle,_project:function(){var g=this._latlng.lng,_=this._latlng.lat,H=this._map,ae=H.options.crs;if(ae.distance===pt.distance){var _e=Math.PI/180,Ve=this._mRadius/pt.R/_e,jt=H.project([_+Ve,g]),Zt=H.project([_-Ve,g]),xr=jt.add(Zt).divideBy(2),$r=H.unproject(xr).lat,vn=Math.acos((Math.cos(Ve*_e)-Math.sin(_*_e)*Math.sin($r*_e))/(Math.cos(_*_e)*Math.cos($r*_e)))/_e;(isNaN(vn)||vn===0)&&(vn=Ve/Math.cos(Math.PI/180*_)),this._point=xr.subtract(H.getPixelOrigin()),this._radius=isNaN(vn)?0:xr.x-H.project([$r,g-vn]).x,this._radiusY=xr.y-jt.y}else{var ui=ae.unproject(ae.project(this._latlng).subtract([this._mRadius,0]));this._point=H.latLngToLayerPoint(this._latlng),this._radius=this._point.x-H.latLngToLayerPoint(ui).x}this._updateBounds()}});function xi(g,_,H){return new ja(g,_,H)}var Ws=is.extend({options:{smoothFactor:1,noClip:!1},initialize:function(g,_){y(this,_),this._setLatLngs(g)},getLatLngs:function(){return this._latlngs},setLatLngs:function(g){return this._setLatLngs(g),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(g){for(var _=1/0,H=null,ae=un,_e,Ve,jt=0,Zt=this._parts.length;jt<Zt;jt++)for(var xr=this._parts[jt],$r=1,vn=xr.length;$r<vn;$r++){_e=xr[$r-1],Ve=xr[$r];var ui=ae(g,_e,Ve,!0);ui<_&&(_=ui,H=ae(g,_e,Ve))}return H&&(H.distance=Math.sqrt(_)),H},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return yi(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(g,_){return _=_||this._defaultShape(),g=Fe(g),_.push(g),this._bounds.extend(g),this.redraw()},_setLatLngs:function(g){this._bounds=new ye,this._latlngs=this._convertLatLngs(g)},_defaultShape:function(){return bn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(g){for(var _=[],H=bn(g),ae=0,_e=g.length;ae<_e;ae++)H?(_[ae]=Fe(g[ae]),this._bounds.extend(_[ae])):_[ae]=this._convertLatLngs(g[ae]);return _},_project:function(){var g=new we;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,g),this._bounds.isValid()&&g.isValid()&&(this._rawPxBounds=g,this._updateBounds())},_updateBounds:function(){var g=this._clickTolerance(),_=new ce(g,g);this._rawPxBounds&&(this._pxBounds=new we([this._rawPxBounds.min.subtract(_),this._rawPxBounds.max.add(_)]))},_projectLatlngs:function(g,_,H){var ae=g[0]instanceof He,_e=g.length,Ve,jt;if(ae){for(jt=[],Ve=0;Ve<_e;Ve++)jt[Ve]=this._map.latLngToLayerPoint(g[Ve]),H.extend(jt[Ve]);_.push(jt)}else for(Ve=0;Ve<_e;Ve++)this._projectLatlngs(g[Ve],_,H)},_clipPoints:function(){var g=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(g))){if(this.options.noClip){this._parts=this._rings;return}var _=this._parts,H,ae,_e,Ve,jt,Zt,xr;for(H=0,_e=0,Ve=this._rings.length;H<Ve;H++)for(xr=this._rings[H],ae=0,jt=xr.length;ae<jt-1;ae++)Zt=cr(xr[ae],xr[ae+1],g,ae,!0),Zt&&(_[_e]=_[_e]||[],_[_e].push(Zt[0]),(Zt[1]!==xr[ae+1]||ae===jt-2)&&(_[_e].push(Zt[1]),_e++))}},_simplifyPoints:function(){for(var g=this._parts,_=this.options.smoothFactor,H=0,ae=g.length;H<ae;H++)g[H]=hn(g[H],_)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(g,_){var H,ae,_e,Ve,jt,Zt,xr=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(g))return!1;for(H=0,Ve=this._parts.length;H<Ve;H++)for(Zt=this._parts[H],ae=0,jt=Zt.length,_e=jt-1;ae<jt;_e=ae++)if(!(!_&&ae===0)&&Zr(g,Zt[_e],Zt[ae])<=xr)return!0;return!1}});function Qi(g,_){return new Ws(g,_)}Ws._flat=Rn;var ai=Ws.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Lr(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(g){var _=Ws.prototype._convertLatLngs.call(this,g),H=_.length;return H>=2&&_[0]instanceof He&&_[0].equals(_[H-1])&&_.pop(),_},_setLatLngs:function(g){Ws.prototype._setLatLngs.call(this,g),bn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return bn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var g=this._renderer._bounds,_=this.options.weight,H=new ce(_,_);if(g=new we(g.min.subtract(H),g.max.add(H)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(g))){if(this.options.noClip){this._parts=this._rings;return}for(var ae=0,_e=this._rings.length,Ve;ae<_e;ae++)Ve=Tr(this._rings[ae],g,!0),Ve.length&&this._parts.push(Ve)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(g){var _=!1,H,ae,_e,Ve,jt,Zt,xr,$r;if(!this._pxBounds||!this._pxBounds.contains(g))return!1;for(Ve=0,xr=this._parts.length;Ve<xr;Ve++)for(H=this._parts[Ve],jt=0,$r=H.length,Zt=$r-1;jt<$r;Zt=jt++)ae=H[jt],_e=H[Zt],ae.y>g.y!=_e.y>g.y&&g.x<(_e.x-ae.x)*(g.y-ae.y)/(_e.y-ae.y)+ae.x&&(_=!_);return _||Ws.prototype._containsPoint.call(this,g,!0)}});function ua(g,_){return new ai(g,_)}var Ii=Di.extend({initialize:function(g,_){y(this,_),this._layers={},g&&this.addData(g)},addData:function(g){var _=T(g)?g:g.features,H,ae,_e;if(_){for(H=0,ae=_.length;H<ae;H++)_e=_[H],(_e.geometries||_e.geometry||_e.features||_e.coordinates)&&this.addData(_e);return this}var Ve=this.options;if(Ve.filter&&!Ve.filter(g))return this;var jt=yn(g,Ve);return jt?(jt.feature=Ra(g),jt.defaultOptions=jt.options,this.resetStyle(jt),Ve.onEachFeature&&Ve.onEachFeature(g,jt),this.addLayer(jt)):this},resetStyle:function(g){return g===void 0?this.eachLayer(this.resetStyle,this):(g.options=i({},g.defaultOptions),this._setLayerStyle(g,this.options.style),this)},setStyle:function(g){return this.eachLayer(function(_){this._setLayerStyle(_,g)},this)},_setLayerStyle:function(g,_){g.setStyle&&(typeof _=="function"&&(_=_(g.feature)),g.setStyle(_))}});function yn(g,_){var H=g.type==="Feature"?g.geometry:g,ae=H?H.coordinates:null,_e=[],Ve=_&&_.pointToLayer,jt=_&&_.coordsToLatLng||xu,Zt,xr,$r,vn;if(!ae&&!H)return null;switch(H.type){case"Point":return Zt=jt(ae),ls(Ve,g,Zt,_);case"MultiPoint":for($r=0,vn=ae.length;$r<vn;$r++)Zt=jt(ae[$r]),_e.push(ls(Ve,g,Zt,_));return new Di(_e);case"LineString":case"MultiLineString":return xr=io(ae,H.type==="LineString"?0:1,jt),new Ws(xr,_);case"Polygon":case"MultiPolygon":return xr=io(ae,H.type==="Polygon"?1:2,jt),new ai(xr,_);case"GeometryCollection":for($r=0,vn=H.geometries.length;$r<vn;$r++){var ui=yn({geometry:H.geometries[$r],type:"Feature",properties:g.properties},_);ui&&_e.push(ui)}return new Di(_e);case"FeatureCollection":for($r=0,vn=H.features.length;$r<vn;$r++){var As=yn(H.features[$r],_);As&&_e.push(As)}return new Di(_e);default:throw new Error("Invalid GeoJSON object.")}}function ls(g,_,H,ae){return g?g(_,H):new Wn(H,ae&&ae.markersInheritOptions&&ae)}function xu(g){return new He(g[1],g[0],g[2])}function io(g,_,H){for(var ae=[],_e=0,Ve=g.length,jt;_e<Ve;_e++)jt=_?io(g[_e],_-1,H):(H||xu)(g[_e]),ae.push(jt);return ae}function zo(g,_){return g=Fe(g),g.alt!==void 0?[A(g.lng,_),A(g.lat,_),A(g.alt,_)]:[A(g.lng,_),A(g.lat,_)]}function Jl(g,_,H,ae){for(var _e=[],Ve=0,jt=g.length;Ve<jt;Ve++)_e.push(_?Jl(g[Ve],bn(g[Ve])?0:_-1,H,ae):zo(g[Ve],ae));return!_&&H&&_e.length>0&&_e.push(_e[0].slice()),_e}function bi(g,_){return g.feature?i({},g.feature,{geometry:_}):Ra(_)}function Ra(g){return g.type==="Feature"||g.type==="FeatureCollection"?g:{type:"Feature",properties:{},geometry:g}}var Xa={toGeoJSON:function(g){return bi(this,{type:"Point",coordinates:zo(this.getLatLng(),g)})}};Wn.include(Xa),ja.include(Xa),Zi.include(Xa),Ws.include({toGeoJSON:function(g){var _=!bn(this._latlngs),H=Jl(this._latlngs,_?1:0,!1,g);return bi(this,{type:(_?"Multi":"")+"LineString",coordinates:H})}}),ai.include({toGeoJSON:function(g){var _=!bn(this._latlngs),H=_&&!bn(this._latlngs[0]),ae=Jl(this._latlngs,H?2:_?1:0,!0,g);return _||(ae=[ae]),bi(this,{type:(H?"Multi":"")+"Polygon",coordinates:ae})}}),$n.include({toMultiPoint:function(g){var _=[];return this.eachLayer(function(H){_.push(H.toGeoJSON(g).geometry.coordinates)}),bi(this,{type:"MultiPoint",coordinates:_})},toGeoJSON:function(g){var _=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(_==="MultiPoint")return this.toMultiPoint(g);var H=_==="GeometryCollection",ae=[];return this.eachLayer(function(_e){if(_e.toGeoJSON){var Ve=_e.toGeoJSON(g);if(H)ae.push(Ve.geometry);else{var jt=Ra(Ve);jt.type==="FeatureCollection"?ae.push.apply(ae,jt.features):ae.push(jt)}}}),H?bi(this,{geometries:ae,type:"GeometryCollection"}):{type:"FeatureCollection",features:ae}}});function Ul(g,_){return new Ii(g,_)}var $l=Ul,da=Hn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(g,_,H){this._url=g,this._bounds=Le(_),y(this,H)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Xn(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){js(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(g){return this.options.opacity=g,this._image&&this._updateOpacity(),this},setStyle:function(g){return g.opacity&&this.setOpacity(g.opacity),this},bringToFront:function(){return this._map&&Va(this._image),this},bringToBack:function(){return this._map&&Ca(this._image),this},setUrl:function(g){return this._url=g,this._image&&(this._image.src=g),this},setBounds:function(g){return this._bounds=Le(g),this._map&&this._reset(),this},getEvents:function(){var g={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(g.zoomanim=this._animateZoom),g},setZIndex:function(g){return this.options.zIndex=g,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var g=this._url.tagName==="IMG",_=this._image=g?this._url:ci("img");if(Xn(_,"leaflet-image-layer"),this._zoomAnimated&&Xn(_,"leaflet-zoom-animated"),this.options.className&&Xn(_,this.options.className),_.onselectstart=f,_.onmousemove=f,_.onload=a(this.fire,this,"load"),_.onerror=a(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),g){this._url=_.src;return}_.src=this._url,_.alt=this.options.alt},_animateZoom:function(g){var _=this._map.getZoomScale(g.zoom),H=this._map._latLngBoundsToNewLayerBounds(this._bounds,g.zoom,g.center).min;qs(this._image,H,_)},_reset:function(){var g=this._image,_=new we(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),H=_.getSize();fs(g,_.min),g.style.width=H.x+"px",g.style.height=H.y+"px"},_updateOpacity:function(){Hi(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var g=this.options.errorOverlayUrl;g&&this._url!==g&&(this._url=g,this._image.src=g)},getCenter:function(){return this._bounds.getCenter()}}),vo=function(g,_,H){return new da(g,_,H)},Za=da.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var g=this._url.tagName==="VIDEO",_=this._image=g?this._url:ci("video");if(Xn(_,"leaflet-image-layer"),this._zoomAnimated&&Xn(_,"leaflet-zoom-animated"),this.options.className&&Xn(_,this.options.className),_.onselectstart=f,_.onmousemove=f,_.onloadeddata=a(this.fire,this,"load"),g){for(var H=_.getElementsByTagName("source"),ae=[],_e=0;_e<H.length;_e++)ae.push(H[_e].src);this._url=H.length>0?ae:[_.src];return}T(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(_.style,"objectFit")&&(_.style.objectFit="fill"),_.autoplay=!!this.options.autoplay,_.loop=!!this.options.loop,_.muted=!!this.options.muted,_.playsInline=!!this.options.playsInline;for(var Ve=0;Ve<this._url.length;Ve++){var jt=ci("source");jt.src=this._url[Ve],_.appendChild(jt)}}});function $c(g,_,H){return new Za(g,_,H)}var To=da.extend({_initImage:function(){var g=this._image=this._url;Xn(g,"leaflet-image-layer"),this._zoomAnimated&&Xn(g,"leaflet-zoom-animated"),this.options.className&&Xn(g,this.options.className),g.onselectstart=f,g.onmousemove=f}});function Ac(g,_,H){return new To(g,_,H)}var Ka=Hn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(g,_){g&&(g instanceof He||T(g))?(this._latlng=Fe(g),y(this,_)):(y(this,g),this._source=_),this.options.content&&(this._content=this.options.content)},openOn:function(g){return g=arguments.length?g:this._source._map,g.hasLayer(this)||g.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(g){return this._map?this.close():(arguments.length?this._source=g:g=this._source,this._prepareOpen(),this.openOn(g._map)),this},onAdd:function(g){this._zoomAnimated=g._zoomAnimated,this._container||this._initLayout(),g._fadeAnimated&&Hi(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),g._fadeAnimated&&Hi(this._container,1),this.bringToFront(),this.options.interactive&&(Xn(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(g){g._fadeAnimated?(Hi(this._container,0),this._removeTimeout=setTimeout(a(js,void 0,this._container),200)):js(this._container),this.options.interactive&&(hs(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(g){return this._latlng=Fe(g),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(g){return this._content=g,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var g={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(g.zoomanim=this._animateZoom),g},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Va(this._container),this},bringToBack:function(){return this._map&&Ca(this._container),this},_prepareOpen:function(g){var _=this._source;if(!_._map)return!1;if(_ instanceof Di){_=null;var H=this._source._layers;for(var ae in H)if(H[ae]._map){_=H[ae];break}if(!_)return!1;this._source=_}if(!g)if(_.getCenter)g=_.getCenter();else if(_.getLatLng)g=_.getLatLng();else if(_.getBounds)g=_.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(g),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var g=this._contentNode,_=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof _=="string")g.innerHTML=_;else{for(;g.hasChildNodes();)g.removeChild(g.firstChild);g.appendChild(_)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var g=this._map.latLngToLayerPoint(this._latlng),_=Oe(this.options.offset),H=this._getAnchor();this._zoomAnimated?fs(this._container,g.add(H)):_=_.add(g).add(H);var ae=this._containerBottom=-_.y,_e=this._containerLeft=-Math.round(this._containerWidth/2)+_.x;this._container.style.bottom=ae+"px",this._container.style.left=_e+"px"}},_getAnchor:function(){return[0,0]}});at.include({_initOverlay:function(g,_,H,ae){var _e=_;return _e instanceof g||(_e=new g(ae).setContent(_)),H&&_e.setLatLng(H),_e}}),Hn.include({_initOverlay:function(g,_,H,ae){var _e=H;return _e instanceof g?(y(_e,ae),_e._source=this):(_e=_&&!ae?_:new g(ae,this),_e.setContent(H)),_e}});var Hl=Ka.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(g){return g=arguments.length?g:this._source._map,!g.hasLayer(this)&&g._popup&&g._popup.options.autoClose&&g.removeLayer(g._popup),g._popup=this,Ka.prototype.openOn.call(this,g)},onAdd:function(g){Ka.prototype.onAdd.call(this,g),g.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof is||this._source.on("preclick",K))},onRemove:function(g){Ka.prototype.onRemove.call(this,g),g.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof is||this._source.off("preclick",K))},getEvents:function(){var g=Ka.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(g.preclick=this.close),this.options.keepInView&&(g.moveend=this._adjustPan),g},_initLayout:function(){var g="leaflet-popup",_=this._container=ci("div",g+" "+(this.options.className||"")+" leaflet-zoom-animated"),H=this._wrapper=ci("div",g+"-content-wrapper",_);if(this._contentNode=ci("div",g+"-content",H),ee(_),X(this._contentNode),he(_,"contextmenu",K),this._tipContainer=ci("div",g+"-tip-container",_),this._tip=ci("div",g+"-tip",this._tipContainer),this.options.closeButton){var ae=this._closeButton=ci("a",g+"-close-button",_);ae.setAttribute("role","button"),ae.setAttribute("aria-label","Close popup"),ae.href="#close",ae.innerHTML='<span aria-hidden="true">&#215;</span>',he(ae,"click",function(_e){ve(_e),this.close()},this)}},_updateLayout:function(){var g=this._contentNode,_=g.style;_.width="",_.whiteSpace="nowrap";var H=g.offsetWidth;H=Math.min(H,this.options.maxWidth),H=Math.max(H,this.options.minWidth),_.width=H+1+"px",_.whiteSpace="",_.height="";var ae=g.offsetHeight,_e=this.options.maxHeight,Ve="leaflet-popup-scrolled";_e&&ae>_e?(_.height=_e+"px",Xn(g,Ve)):hs(g,Ve),this._containerWidth=this._container.offsetWidth},_animateZoom:function(g){var _=this._map._latLngToNewLayerPoint(this._latlng,g.zoom,g.center),H=this._getAnchor();fs(this._container,_.add(H))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var g=this._map,_=parseInt(Hs(this._container,"marginBottom"),10)||0,H=this._container.offsetHeight+_,ae=this._containerWidth,_e=new ce(this._containerLeft,-H-this._containerBottom);_e._add(So(this._container));var Ve=g.layerPointToContainerPoint(_e),jt=Oe(this.options.autoPanPadding),Zt=Oe(this.options.autoPanPaddingTopLeft||jt),xr=Oe(this.options.autoPanPaddingBottomRight||jt),$r=g.getSize(),vn=0,ui=0;Ve.x+ae+xr.x>$r.x&&(vn=Ve.x+ae-$r.x+xr.x),Ve.x-vn-Zt.x<0&&(vn=Ve.x-Zt.x),Ve.y+H+xr.y>$r.y&&(ui=Ve.y+H-$r.y+xr.y),Ve.y-ui-Zt.y<0&&(ui=Ve.y-Zt.y),(vn||ui)&&(this.options.keepInView&&(this._autopanning=!0),g.fire("autopanstart").panBy([vn,ui]))}},_getAnchor:function(){return Oe(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Ql=function(g,_){return new Hl(g,_)};at.mergeOptions({closePopupOnClick:!0}),at.include({openPopup:function(g,_,H){return this._initOverlay(Hl,g,_,H).openOn(this),this},closePopup:function(g){return g=arguments.length?g:this._popup,g&&g.close(),this}}),Hn.include({bindPopup:function(g,_){return this._popup=this._initOverlay(Hl,this._popup,g,_),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(g){return this._popup&&(this instanceof Di||(this._popup._source=this),this._popup._prepareOpen(g||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(g){return this._popup&&this._popup.setContent(g),this},getPopup:function(){return this._popup},_openPopup:function(g){if(!(!this._popup||!this._map)){de(g);var _=g.layer||g.target;if(this._popup._source===_&&!(_ instanceof is)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(g.latlng);return}this._popup._source=_,this.openPopup(g.latlng)}},_movePopup:function(g){this._popup.setLatLng(g.latlng)},_onKeyPress:function(g){g.originalEvent.keyCode===13&&this._openPopup(g)}});var Il=Ka.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(g){Ka.prototype.onAdd.call(this,g),this.setOpacity(this.options.opacity),g.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(g){Ka.prototype.onRemove.call(this,g),g.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var g=Ka.prototype.getEvents.call(this);return this.options.permanent||(g.preclick=this.close),g},_initLayout:function(){var g="leaflet-tooltip",_=g+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ci("div",_),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+u(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(g){var _,H,ae=this._map,_e=this._container,Ve=ae.latLngToContainerPoint(ae.getCenter()),jt=ae.layerPointToContainerPoint(g),Zt=this.options.direction,xr=_e.offsetWidth,$r=_e.offsetHeight,vn=Oe(this.options.offset),ui=this._getAnchor();Zt==="top"?(_=xr/2,H=$r):Zt==="bottom"?(_=xr/2,H=0):Zt==="center"?(_=xr/2,H=$r/2):Zt==="right"?(_=0,H=$r/2):Zt==="left"?(_=xr,H=$r/2):jt.x<Ve.x?(Zt="right",_=0,H=$r/2):(Zt="left",_=xr+(vn.x+ui.x)*2,H=$r/2),g=g.subtract(Oe(_,H,!0)).add(vn).add(ui),hs(_e,"leaflet-tooltip-right"),hs(_e,"leaflet-tooltip-left"),hs(_e,"leaflet-tooltip-top"),hs(_e,"leaflet-tooltip-bottom"),Xn(_e,"leaflet-tooltip-"+Zt),fs(_e,g)},_updatePosition:function(){var g=this._map.latLngToLayerPoint(this._latlng);this._setPosition(g)},setOpacity:function(g){this.options.opacity=g,this._container&&Hi(this._container,g)},_animateZoom:function(g){var _=this._map._latLngToNewLayerPoint(this._latlng,g.zoom,g.center);this._setPosition(_)},_getAnchor:function(){return Oe(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),gd=function(g,_){return new Il(g,_)};at.include({openTooltip:function(g,_,H){return this._initOverlay(Il,g,_,H).openOn(this),this},closeTooltip:function(g){return g.close(),this}}),Hn.include({bindTooltip:function(g,_){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Il,this._tooltip,g,_),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(g){if(!(!g&&this._tooltipHandlersAdded)){var _=g?"off":"on",H={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?H.add=this._openTooltip:(H.mouseover=this._openTooltip,H.mouseout=this.closeTooltip,H.click=this._openTooltip,this._map?this._addFocusListeners():H.add=this._addFocusListeners),this._tooltip.options.sticky&&(H.mousemove=this._moveTooltip),this[_](H),this._tooltipHandlersAdded=!g}},openTooltip:function(g){return this._tooltip&&(this instanceof Di||(this._tooltip._source=this),this._tooltip._prepareOpen(g)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(g){return this._tooltip&&this._tooltip.setContent(g),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(g){var _=typeof g.getElement=="function"&&g.getElement();_&&(he(_,"focus",function(){this._tooltip._source=g,this.openTooltip()},this),he(_,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(g){var _=typeof g.getElement=="function"&&g.getElement();_&&_.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(g){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var _=this;this._map.once("moveend",function(){_._openOnceFlag=!1,_._openTooltip(g)});return}this._tooltip._source=g.layer||g.target,this.openTooltip(this._tooltip.options.sticky?g.latlng:void 0)}},_moveTooltip:function(g){var _=g.latlng,H,ae;this._tooltip.options.sticky&&g.originalEvent&&(H=this._map.mouseEventToContainerPoint(g.originalEvent),ae=this._map.containerPointToLayerPoint(H),_=this._map.layerPointToLatLng(ae)),this._tooltip.setLatLng(_)}});var ec=ns.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(g){var _=g&&g.tagName==="DIV"?g:document.createElement("div"),H=this.options;if(H.html instanceof Element?(Ta(_),_.appendChild(H.html)):_.innerHTML=H.html!==!1?H.html:"",H.bgPos){var ae=Oe(H.bgPos);_.style.backgroundPosition=-ae.x+"px "+-ae.y+"px"}return this._setIconStyles(_,"icon"),_},createShadow:function(){return null}});function Vl(g){return new ec(g)}ns.Default=Un;var mc=Hn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Tn.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(g){y(this,g)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(g){g._addZoomLimit(this)},onRemove:function(g){this._removeAllTiles(),js(this._container),g._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Va(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ca(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(g){return this.options.opacity=g,this._updateOpacity(),this},setZIndex:function(g){return this.options.zIndex=g,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var g=this._clampZoom(this._map.getZoom());g!==this._tileZoom&&(this._tileZoom=g,this._updateLevels()),this._update()}return this},getEvents:function(){var g={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=l(this._onMoveEnd,this.options.updateInterval,this)),g.move=this._onMove),this._zoomAnimated&&(g.zoomanim=this._animateZoom),g},createTile:function(){return document.createElement("div")},getTileSize:function(){var g=this.options.tileSize;return g instanceof ce?g:new ce(g,g)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(g){for(var _=this.getPane().children,H=-g(-1/0,1/0),ae=0,_e=_.length,Ve;ae<_e;ae++)Ve=_[ae].style.zIndex,_[ae]!==this._container&&Ve&&(H=g(H,+Ve));isFinite(H)&&(this.options.zIndex=H+g(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Tn.ielt9){Hi(this._container,this.options.opacity);var g=+new Date,_=!1,H=!1;for(var ae in this._tiles){var _e=this._tiles[ae];if(!(!_e.current||!_e.loaded)){var Ve=Math.min(1,(g-_e.loaded)/200);Hi(_e.el,Ve),Ve<1?_=!0:(_e.active?H=!0:this._onOpaqueTile(_e),_e.active=!0)}}H&&!this._noPrune&&this._pruneTiles(),_&&(Ae(this._fadeFrame),this._fadeFrame=ie(this._updateOpacity,this))}},_onOpaqueTile:f,_initContainer:function(){this._container||(this._container=ci("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var g=this._tileZoom,_=this.options.maxZoom;if(g!==void 0){for(var H in this._levels)H=Number(H),this._levels[H].el.children.length||H===g?(this._levels[H].el.style.zIndex=_-Math.abs(g-H),this._onUpdateLevel(H)):(js(this._levels[H].el),this._removeTilesAtZoom(H),this._onRemoveLevel(H),delete this._levels[H]);var ae=this._levels[g],_e=this._map;return ae||(ae=this._levels[g]={},ae.el=ci("div","leaflet-tile-container leaflet-zoom-animated",this._container),ae.el.style.zIndex=_,ae.origin=_e.project(_e.unproject(_e.getPixelOrigin()),g).round(),ae.zoom=g,this._setZoomTransform(ae,_e.getCenter(),_e.getZoom()),f(ae.el.offsetWidth),this._onCreateLevel(ae)),this._level=ae,ae}},_onUpdateLevel:f,_onRemoveLevel:f,_onCreateLevel:f,_pruneTiles:function(){if(this._map){var g,_,H=this._map.getZoom();if(H>this.options.maxZoom||H<this.options.minZoom){this._removeAllTiles();return}for(g in this._tiles)_=this._tiles[g],_.retain=_.current;for(g in this._tiles)if(_=this._tiles[g],_.current&&!_.active){var ae=_.coords;this._retainParent(ae.x,ae.y,ae.z,ae.z-5)||this._retainChildren(ae.x,ae.y,ae.z,ae.z+2)}for(g in this._tiles)this._tiles[g].retain||this._removeTile(g)}},_removeTilesAtZoom:function(g){for(var _ in this._tiles)this._tiles[_].coords.z===g&&this._removeTile(_)},_removeAllTiles:function(){for(var g in this._tiles)this._removeTile(g)},_invalidateAll:function(){for(var g in this._levels)js(this._levels[g].el),this._onRemoveLevel(Number(g)),delete this._levels[g];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(g,_,H,ae){var _e=Math.floor(g/2),Ve=Math.floor(_/2),jt=H-1,Zt=new ce(+_e,+Ve);Zt.z=+jt;var xr=this._tileCoordsToKey(Zt),$r=this._tiles[xr];return $r&&$r.active?($r.retain=!0,!0):($r&&$r.loaded&&($r.retain=!0),jt>ae?this._retainParent(_e,Ve,jt,ae):!1)},_retainChildren:function(g,_,H,ae){for(var _e=2*g;_e<2*g+2;_e++)for(var Ve=2*_;Ve<2*_+2;Ve++){var jt=new ce(_e,Ve);jt.z=H+1;var Zt=this._tileCoordsToKey(jt),xr=this._tiles[Zt];if(xr&&xr.active){xr.retain=!0;continue}else xr&&xr.loaded&&(xr.retain=!0);H+1<ae&&this._retainChildren(_e,Ve,H+1,ae)}},_resetView:function(g){var _=g&&(g.pinch||g.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),_,_)},_animateZoom:function(g){this._setView(g.center,g.zoom,!0,g.noUpdate)},_clampZoom:function(g){var _=this.options;return _.minNativeZoom!==void 0&&g<_.minNativeZoom?_.minNativeZoom:_.maxNativeZoom!==void 0&&_.maxNativeZoom<g?_.maxNativeZoom:g},_setView:function(g,_,H,ae){var _e=Math.round(_);this.options.maxZoom!==void 0&&_e>this.options.maxZoom||this.options.minZoom!==void 0&&_e<this.options.minZoom?_e=void 0:_e=this._clampZoom(_e);var Ve=this.options.updateWhenZooming&&_e!==this._tileZoom;(!ae||Ve)&&(this._tileZoom=_e,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),_e!==void 0&&this._update(g),H||this._pruneTiles(),this._noPrune=!!H),this._setZoomTransforms(g,_)},_setZoomTransforms:function(g,_){for(var H in this._levels)this._setZoomTransform(this._levels[H],g,_)},_setZoomTransform:function(g,_,H){var ae=this._map.getZoomScale(H,g.zoom),_e=g.origin.multiplyBy(ae).subtract(this._map._getNewPixelOrigin(_,H)).round();Tn.any3d?qs(g.el,_e,ae):fs(g.el,_e)},_resetGrid:function(){var g=this._map,_=g.options.crs,H=this._tileSize=this.getTileSize(),ae=this._tileZoom,_e=this._map.getPixelWorldBounds(this._tileZoom);_e&&(this._globalTileRange=this._pxBoundsToTileRange(_e)),this._wrapX=_.wrapLng&&!this.options.noWrap&&[Math.floor(g.project([0,_.wrapLng[0]],ae).x/H.x),Math.ceil(g.project([0,_.wrapLng[1]],ae).x/H.y)],this._wrapY=_.wrapLat&&!this.options.noWrap&&[Math.floor(g.project([_.wrapLat[0],0],ae).y/H.x),Math.ceil(g.project([_.wrapLat[1],0],ae).y/H.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(g){var _=this._map,H=_._animatingZoom?Math.max(_._animateToZoom,_.getZoom()):_.getZoom(),ae=_.getZoomScale(H,this._tileZoom),_e=_.project(g,this._tileZoom).floor(),Ve=_.getSize().divideBy(ae*2);return new we(_e.subtract(Ve),_e.add(Ve))},_update:function(g){var _=this._map;if(_){var H=this._clampZoom(_.getZoom());if(g===void 0&&(g=_.getCenter()),this._tileZoom!==void 0){var ae=this._getTiledPixelBounds(g),_e=this._pxBoundsToTileRange(ae),Ve=_e.getCenter(),jt=[],Zt=this.options.keepBuffer,xr=new we(_e.getBottomLeft().subtract([Zt,-Zt]),_e.getTopRight().add([Zt,-Zt]));if(!(isFinite(_e.min.x)&&isFinite(_e.min.y)&&isFinite(_e.max.x)&&isFinite(_e.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var $r in this._tiles){var vn=this._tiles[$r].coords;(vn.z!==this._tileZoom||!xr.contains(new ce(vn.x,vn.y)))&&(this._tiles[$r].current=!1)}if(Math.abs(H-this._tileZoom)>1){this._setView(g,H);return}for(var ui=_e.min.y;ui<=_e.max.y;ui++)for(var As=_e.min.x;As<=_e.max.x;As++){var Da=new ce(As,ui);if(Da.z=this._tileZoom,!!this._isValidTile(Da)){var Co=this._tiles[this._tileCoordsToKey(Da)];Co?Co.current=!0:jt.push(Da)}}if(jt.sort(function(Xs,oa){return Xs.distanceTo(Ve)-oa.distanceTo(Ve)}),jt.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var il=document.createDocumentFragment();for(As=0;As<jt.length;As++)this._addTile(jt[As],il);this._level.el.appendChild(il)}}}},_isValidTile:function(g){var _=this._map.options.crs;if(!_.infinite){var H=this._globalTileRange;if(!_.wrapLng&&(g.x<H.min.x||g.x>H.max.x)||!_.wrapLat&&(g.y<H.min.y||g.y>H.max.y))return!1}if(!this.options.bounds)return!0;var ae=this._tileCoordsToBounds(g);return Le(this.options.bounds).overlaps(ae)},_keyToBounds:function(g){return this._tileCoordsToBounds(this._keyToTileCoords(g))},_tileCoordsToNwSe:function(g){var _=this._map,H=this.getTileSize(),ae=g.scaleBy(H),_e=ae.add(H),Ve=_.unproject(ae,g.z),jt=_.unproject(_e,g.z);return[Ve,jt]},_tileCoordsToBounds:function(g){var _=this._tileCoordsToNwSe(g),H=new ye(_[0],_[1]);return this.options.noWrap||(H=this._map.wrapLatLngBounds(H)),H},_tileCoordsToKey:function(g){return g.x+":"+g.y+":"+g.z},_keyToTileCoords:function(g){var _=g.split(":"),H=new ce(+_[0],+_[1]);return H.z=+_[2],H},_removeTile:function(g){var _=this._tiles[g];_&&(js(_.el),delete this._tiles[g],this.fire("tileunload",{tile:_.el,coords:this._keyToTileCoords(g)}))},_initTile:function(g){Xn(g,"leaflet-tile");var _=this.getTileSize();g.style.width=_.x+"px",g.style.height=_.y+"px",g.onselectstart=f,g.onmousemove=f,Tn.ielt9&&this.options.opacity<1&&Hi(g,this.options.opacity)},_addTile:function(g,_){var H=this._getTilePos(g),ae=this._tileCoordsToKey(g),_e=this.createTile(this._wrapCoords(g),a(this._tileReady,this,g));this._initTile(_e),this.createTile.length<2&&ie(a(this._tileReady,this,g,null,_e)),fs(_e,H),this._tiles[ae]={el:_e,coords:g,current:!0},_.appendChild(_e),this.fire("tileloadstart",{tile:_e,coords:g})},_tileReady:function(g,_,H){_&&this.fire("tileerror",{error:_,tile:H,coords:g});var ae=this._tileCoordsToKey(g);H=this._tiles[ae],H&&(H.loaded=+new Date,this._map._fadeAnimated?(Hi(H.el,0),Ae(this._fadeFrame),this._fadeFrame=ie(this._updateOpacity,this)):(H.active=!0,this._pruneTiles()),_||(Xn(H.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:H.el,coords:g})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Tn.ielt9||!this._map._fadeAnimated?ie(this._pruneTiles,this):setTimeout(a(this._pruneTiles,this),250)))},_getTilePos:function(g){return g.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(g){var _=new ce(this._wrapX?d(g.x,this._wrapX):g.x,this._wrapY?d(g.y,this._wrapY):g.y);return _.z=g.z,_},_pxBoundsToTileRange:function(g){var _=this.getTileSize();return new we(g.min.unscaleBy(_).floor(),g.max.unscaleBy(_).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var g in this._tiles)if(!this._tiles[g].loaded)return!1;return!0}});function vd(g){return new mc(g)}var zl=mc.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(g,_){this._url=g,_=y(this,_),_.detectRetina&&Tn.retina&&_.maxZoom>0?(_.tileSize=Math.floor(_.tileSize/2),_.zoomReverse?(_.zoomOffset--,_.minZoom=Math.min(_.maxZoom,_.minZoom+1)):(_.zoomOffset++,_.maxZoom=Math.max(_.minZoom,_.maxZoom-1)),_.minZoom=Math.max(0,_.minZoom)):_.zoomReverse?_.minZoom=Math.min(_.maxZoom,_.minZoom):_.maxZoom=Math.max(_.minZoom,_.maxZoom),typeof _.subdomains=="string"&&(_.subdomains=_.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(g,_){return this._url===g&&_===void 0&&(_=!0),this._url=g,_||this.redraw(),this},createTile:function(g,_){var H=document.createElement("img");return he(H,"load",a(this._tileOnLoad,this,_,H)),he(H,"error",a(this._tileOnError,this,_,H)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(H.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(H.referrerPolicy=this.options.referrerPolicy),H.alt="",H.src=this.getTileUrl(g),H},getTileUrl:function(g){var _={r:Tn.retina?"@2x":"",s:this._getSubdomain(g),x:g.x,y:g.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var H=this._globalTileRange.max.y-g.y;this.options.tms&&(_.y=H),_["-y"]=H}return E(this._url,i(_,this.options))},_tileOnLoad:function(g,_){Tn.ielt9?setTimeout(a(g,this,null,_),0):g(null,_)},_tileOnError:function(g,_,H){var ae=this.options.errorTileUrl;ae&&_.getAttribute("src")!==ae&&(_.src=ae),g(H,_)},_onTileRemove:function(g){g.tile.onload=null},_getZoomForUrl:function(){var g=this._tileZoom,_=this.options.maxZoom,H=this.options.zoomReverse,ae=this.options.zoomOffset;return H&&(g=_-g),g+ae},_getSubdomain:function(g){var _=Math.abs(g.x+g.y)%this.options.subdomains.length;return this.options.subdomains[_]},_abortLoading:function(){var g,_;for(g in this._tiles)if(this._tiles[g].coords.z!==this._tileZoom&&(_=this._tiles[g].el,_.onload=f,_.onerror=f,!_.complete)){_.src=j;var H=this._tiles[g].coords;js(_),delete this._tiles[g],this.fire("tileabort",{tile:_,coords:H})}},_removeTile:function(g){var _=this._tiles[g];if(_)return _.el.setAttribute("src",j),mc.prototype._removeTile.call(this,g)},_tileReady:function(g,_,H){if(!(!this._map||H&&H.getAttribute("src")===j))return mc.prototype._tileReady.call(this,g,_,H)}});function Kl(g,_){return new zl(g,_)}var bu=zl.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(g,_){this._url=g;var H=i({},this.defaultWmsParams);for(var ae in _)ae in this.options||(H[ae]=_[ae]);_=y(this,_);var _e=_.detectRetina&&Tn.retina?2:1,Ve=this.getTileSize();H.width=Ve.x*_e,H.height=Ve.y*_e,this.wmsParams=H},onAdd:function(g){this._crs=this.options.crs||g.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var _=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[_]=this._crs.code,zl.prototype.onAdd.call(this,g)},getTileUrl:function(g){var _=this._tileCoordsToNwSe(g),H=this._crs,ae=ue(H.project(_[0]),H.project(_[1])),_e=ae.min,Ve=ae.max,jt=(this._wmsVersion>=1.3&&this._crs===ji?[_e.y,_e.x,Ve.y,Ve.x]:[_e.x,_e.y,Ve.x,Ve.y]).join(","),Zt=zl.prototype.getTileUrl.call(this,g);return Zt+x(this.wmsParams,Zt,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+jt},setParams:function(g,_){return i(this.wmsParams,g),_||this.redraw(),this}});function Gl(g,_){return new bu(g,_)}zl.WMS=bu,Kl.wms=Gl;var Io=Hn.extend({options:{padding:.1},initialize:function(g){y(this,g),u(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Xn(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var g={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(g.zoomanim=this._onAnimZoom),g},_onAnimZoom:function(g){this._updateTransform(g.center,g.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(g,_){var H=this._map.getZoomScale(_,this._zoom),ae=this._map.getSize().multiplyBy(.5+this.options.padding),_e=this._map.project(this._center,_),Ve=ae.multiplyBy(-H).add(_e).subtract(this._map._getNewPixelOrigin(g,_));Tn.any3d?qs(this._container,Ve,H):fs(this._container,Ve)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var g in this._layers)this._layers[g]._reset()},_onZoomEnd:function(){for(var g in this._layers)this._layers[g]._project()},_updatePaths:function(){for(var g in this._layers)this._layers[g]._update()},_update:function(){var g=this.options.padding,_=this._map.getSize(),H=this._map.containerPointToLayerPoint(_.multiplyBy(-g)).round();this._bounds=new we(H,H.add(_.multiplyBy(1+g*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),gl=Io.extend({options:{tolerance:0},getEvents:function(){var g=Io.prototype.getEvents.call(this);return g.viewprereset=this._onViewPreReset,g},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Io.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var g=this._container=document.createElement("canvas");he(g,"mousemove",this._onMouseMove,this),he(g,"click dblclick mousedown mouseup contextmenu",this._onClick,this),he(g,"mouseout",this._handleMouseOut,this),g._leaflet_disable_events=!0,this._ctx=g.getContext("2d")},_destroyContainer:function(){Ae(this._redrawRequest),delete this._ctx,js(this._container),Ue(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var g;this._redrawBounds=null;for(var _ in this._layers)g=this._layers[_],g._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Io.prototype._update.call(this);var g=this._bounds,_=this._container,H=g.getSize(),ae=Tn.retina?2:1;fs(_,g.min),_.width=ae*H.x,_.height=ae*H.y,_.style.width=H.x+"px",_.style.height=H.y+"px",Tn.retina&&this._ctx.scale(2,2),this._ctx.translate(-g.min.x,-g.min.y),this.fire("update")}},_reset:function(){Io.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(g){this._updateDashArray(g),this._layers[u(g)]=g;var _=g._order={layer:g,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=_),this._drawLast=_,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(g){this._requestRedraw(g)},_removePath:function(g){var _=g._order,H=_.next,ae=_.prev;H?H.prev=ae:this._drawLast=ae,ae?ae.next=H:this._drawFirst=H,delete g._order,delete this._layers[u(g)],this._requestRedraw(g)},_updatePath:function(g){this._extendRedrawBounds(g),g._project(),g._update(),this._requestRedraw(g)},_updateStyle:function(g){this._updateDashArray(g),this._requestRedraw(g)},_updateDashArray:function(g){if(typeof g.options.dashArray=="string"){var _=g.options.dashArray.split(/[, ]+/),H=[],ae,_e;for(_e=0;_e<_.length;_e++){if(ae=Number(_[_e]),isNaN(ae))return;H.push(ae)}g.options._dashArray=H}else g.options._dashArray=g.options.dashArray},_requestRedraw:function(g){this._map&&(this._extendRedrawBounds(g),this._redrawRequest=this._redrawRequest||ie(this._redraw,this))},_extendRedrawBounds:function(g){if(g._pxBounds){var _=(g.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new we,this._redrawBounds.extend(g._pxBounds.min.subtract([_,_])),this._redrawBounds.extend(g._pxBounds.max.add([_,_]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var g=this._redrawBounds;if(g){var _=g.getSize();this._ctx.clearRect(g.min.x,g.min.y,_.x,_.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var g,_=this._redrawBounds;if(this._ctx.save(),_){var H=_.getSize();this._ctx.beginPath(),this._ctx.rect(_.min.x,_.min.y,H.x,H.y),this._ctx.clip()}this._drawing=!0;for(var ae=this._drawFirst;ae;ae=ae.next)g=ae.layer,(!_||g._pxBounds&&g._pxBounds.intersects(_))&&g._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(g,_){if(this._drawing){var H,ae,_e,Ve,jt=g._parts,Zt=jt.length,xr=this._ctx;if(Zt){for(xr.beginPath(),H=0;H<Zt;H++){for(ae=0,_e=jt[H].length;ae<_e;ae++)Ve=jt[H][ae],xr[ae?"lineTo":"moveTo"](Ve.x,Ve.y);_&&xr.closePath()}this._fillStroke(xr,g)}}},_updateCircle:function(g){if(!(!this._drawing||g._empty())){var _=g._point,H=this._ctx,ae=Math.max(Math.round(g._radius),1),_e=(Math.max(Math.round(g._radiusY),1)||ae)/ae;_e!==1&&(H.save(),H.scale(1,_e)),H.beginPath(),H.arc(_.x,_.y/_e,ae,0,Math.PI*2,!1),_e!==1&&H.restore(),this._fillStroke(H,g)}},_fillStroke:function(g,_){var H=_.options;H.fill&&(g.globalAlpha=H.fillOpacity,g.fillStyle=H.fillColor||H.color,g.fill(H.fillRule||"evenodd")),H.stroke&&H.weight!==0&&(g.setLineDash&&g.setLineDash(_.options&&_.options._dashArray||[]),g.globalAlpha=H.opacity,g.lineWidth=H.weight,g.strokeStyle=H.color,g.lineCap=H.lineCap,g.lineJoin=H.lineJoin,g.stroke())},_onClick:function(g){for(var _=this._map.mouseEventToLayerPoint(g),H,ae,_e=this._drawFirst;_e;_e=_e.next)H=_e.layer,H.options.interactive&&H._containsPoint(_)&&(!(g.type==="click"||g.type==="preclick")||!this._map._draggableMoved(H))&&(ae=H);this._fireEvent(ae?[ae]:!1,g)},_onMouseMove:function(g){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var _=this._map.mouseEventToLayerPoint(g);this._handleMouseHover(g,_)}},_handleMouseOut:function(g){var _=this._hoveredLayer;_&&(hs(this._container,"leaflet-interactive"),this._fireEvent([_],g,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(g,_){if(!this._mouseHoverThrottled){for(var H,ae,_e=this._drawFirst;_e;_e=_e.next)H=_e.layer,H.options.interactive&&H._containsPoint(_)&&(ae=H);ae!==this._hoveredLayer&&(this._handleMouseOut(g),ae&&(Xn(this._container,"leaflet-interactive"),this._fireEvent([ae],g,"mouseover"),this._hoveredLayer=ae)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,g),this._mouseHoverThrottled=!0,setTimeout(a(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(g,_,H){this._map._fireDOMEvent(_,H||_.type,g)},_bringToFront:function(g){var _=g._order;if(_){var H=_.next,ae=_.prev;if(H)H.prev=ae;else return;ae?ae.next=H:H&&(this._drawFirst=H),_.prev=this._drawLast,this._drawLast.next=_,_.next=null,this._drawLast=_,this._requestRedraw(g)}},_bringToBack:function(g){var _=g._order;if(_){var H=_.next,ae=_.prev;if(ae)ae.next=H;else return;H?H.prev=ae:ae&&(this._drawLast=ae),_.prev=null,_.next=this._drawFirst,this._drawFirst.prev=_,this._drawFirst=_,this._requestRedraw(g)}}});function ru(g){return Tn.canvas?new gl(g):null}var pc=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(g){return document.createElement("<lvml:"+g+' class="lvml">')}}catch{}return function(g){return document.createElement("<"+g+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Ud={_initContainer:function(){this._container=ci("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Io.prototype._update.call(this),this.fire("update"))},_initPath:function(g){var _=g._container=pc("shape");Xn(_,"leaflet-vml-shape "+(this.options.className||"")),_.coordsize="1 1",g._path=pc("path"),_.appendChild(g._path),this._updateStyle(g),this._layers[u(g)]=g},_addPath:function(g){var _=g._container;this._container.appendChild(_),g.options.interactive&&g.addInteractiveTarget(_)},_removePath:function(g){var _=g._container;js(_),g.removeInteractiveTarget(_),delete this._layers[u(g)]},_updateStyle:function(g){var _=g._stroke,H=g._fill,ae=g.options,_e=g._container;_e.stroked=!!ae.stroke,_e.filled=!!ae.fill,ae.stroke?(_||(_=g._stroke=pc("stroke")),_e.appendChild(_),_.weight=ae.weight+"px",_.color=ae.color,_.opacity=ae.opacity,ae.dashArray?_.dashStyle=T(ae.dashArray)?ae.dashArray.join(" "):ae.dashArray.replace(/( *, *)/g," "):_.dashStyle="",_.endcap=ae.lineCap.replace("butt","flat"),_.joinstyle=ae.lineJoin):_&&(_e.removeChild(_),g._stroke=null),ae.fill?(H||(H=g._fill=pc("fill")),_e.appendChild(H),H.color=ae.fillColor||ae.color,H.opacity=ae.fillOpacity):H&&(_e.removeChild(H),g._fill=null)},_updateCircle:function(g){var _=g._point.round(),H=Math.round(g._radius),ae=Math.round(g._radiusY||H);this._setPath(g,g._empty()?"M0 0":"AL "+_.x+","+_.y+" "+H+","+ae+" 0,"+65535*360)},_setPath:function(g,_){g._path.v=_},_bringToFront:function(g){Va(g._container)},_bringToBack:function(g){Ca(g._container)}},tc=Tn.vml?pc:Ct,zu=Io.extend({_initContainer:function(){this._container=tc("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=tc("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){js(this._container),Ue(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Io.prototype._update.call(this);var g=this._bounds,_=g.getSize(),H=this._container;(!this._svgSize||!this._svgSize.equals(_))&&(this._svgSize=_,H.setAttribute("width",_.x),H.setAttribute("height",_.y)),fs(H,g.min),H.setAttribute("viewBox",[g.min.x,g.min.y,_.x,_.y].join(" ")),this.fire("update")}},_initPath:function(g){var _=g._path=tc("path");g.options.className&&Xn(_,g.options.className),g.options.interactive&&Xn(_,"leaflet-interactive"),this._updateStyle(g),this._layers[u(g)]=g},_addPath:function(g){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(g._path),g.addInteractiveTarget(g._path)},_removePath:function(g){js(g._path),g.removeInteractiveTarget(g._path),delete this._layers[u(g)]},_updatePath:function(g){g._project(),g._update()},_updateStyle:function(g){var _=g._path,H=g.options;_&&(H.stroke?(_.setAttribute("stroke",H.color),_.setAttribute("stroke-opacity",H.opacity),_.setAttribute("stroke-width",H.weight),_.setAttribute("stroke-linecap",H.lineCap),_.setAttribute("stroke-linejoin",H.lineJoin),H.dashArray?_.setAttribute("stroke-dasharray",H.dashArray):_.removeAttribute("stroke-dasharray"),H.dashOffset?_.setAttribute("stroke-dashoffset",H.dashOffset):_.removeAttribute("stroke-dashoffset")):_.setAttribute("stroke","none"),H.fill?(_.setAttribute("fill",H.fillColor||H.color),_.setAttribute("fill-opacity",H.fillOpacity),_.setAttribute("fill-rule",H.fillRule||"evenodd")):_.setAttribute("fill","none"))},_updatePoly:function(g,_){this._setPath(g,Et(g._parts,_))},_updateCircle:function(g){var _=g._point,H=Math.max(Math.round(g._radius),1),ae=Math.max(Math.round(g._radiusY),1)||H,_e="a"+H+","+ae+" 0 1,0 ",Ve=g._empty()?"M0 0":"M"+(_.x-H)+","+_.y+_e+H*2+",0 "+_e+-H*2+",0 ";this._setPath(g,Ve)},_setPath:function(g,_){g._path.setAttribute("d",_)},_bringToFront:function(g){Va(g._path)},_bringToBack:function(g){Ca(g._path)}});Tn.vml&&zu.include(Ud);function yd(g){return Tn.svg||Tn.vml?new zu(g):null}at.include({getRenderer:function(g){var _=g.options.renderer||this._getPaneRenderer(g.options.pane)||this.options.renderer||this._renderer;return _||(_=this._renderer=this._createRenderer()),this.hasLayer(_)||this.addLayer(_),_},_getPaneRenderer:function(g){if(g==="overlayPane"||g===void 0)return!1;var _=this._paneRenderers[g];return _===void 0&&(_=this._createRenderer({pane:g}),this._paneRenderers[g]=_),_},_createRenderer:function(g){return this.options.preferCanvas&&ru(g)||yd(g)}});var vl=ai.extend({initialize:function(g,_){ai.prototype.initialize.call(this,this._boundsToLatLngs(g),_)},setBounds:function(g){return this.setLatLngs(this._boundsToLatLngs(g))},_boundsToLatLngs:function(g){return g=Le(g),[g.getSouthWest(),g.getNorthWest(),g.getNorthEast(),g.getSouthEast()]}});function nh(g,_){return new vl(g,_)}zu.create=tc,zu.pointsToPath=Et,Ii.geometryToLayer=yn,Ii.coordsToLatLng=xu,Ii.coordsToLatLngs=io,Ii.latLngToCoords=zo,Ii.latLngsToCoords=Jl,Ii.getFeature=bi,Ii.asFeature=Ra,at.mergeOptions({boxZoom:!0});var Ll=ft.extend({initialize:function(g){this._map=g,this._container=g._container,this._pane=g._panes.overlayPane,this._resetStateTimeout=0,g.on("unload",this._destroy,this)},addHooks:function(){he(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ue(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){js(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(g){if(!g.shiftKey||g.which!==1&&g.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),za(),no(),this._startPoint=this._map.mouseEventToContainerPoint(g),he(document,{contextmenu:de,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(g){this._moved||(this._moved=!0,this._box=ci("div","leaflet-zoom-box",this._container),Xn(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(g);var _=new we(this._point,this._startPoint),H=_.getSize();fs(this._box,_.min),this._box.style.width=H.x+"px",this._box.style.height=H.y+"px"},_finish:function(){this._moved&&(js(this._box),hs(this._container,"leaflet-crosshair")),Qs(),Vo(),Ue(document,{contextmenu:de,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(g){if(!(g.which!==1&&g.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(a(this._resetState,this),0);var _=new ye(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(_).fire("boxzoomend",{boxZoomBounds:_})}},_onKeyDown:function(g){g.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});at.addInitHook("addHandler","boxZoom",Ll),at.mergeOptions({doubleClickZoom:!0});var Fi=ft.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(g){var _=this._map,H=_.getZoom(),ae=_.options.zoomDelta,_e=g.originalEvent.shiftKey?H-ae:H+ae;_.options.doubleClickZoom==="center"?_.setZoom(_e):_.setZoomAround(g.containerPoint,_e)}});at.addInitHook("addHandler","doubleClickZoom",Fi),at.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var gc=ft.extend({addHooks:function(){if(!this._draggable){var g=this._map;this._draggable=new Ar(g._mapPane,g._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),g.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),g.on("zoomend",this._onZoomEnd,this),g.whenReady(this._onZoomEnd,this))}Xn(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){hs(this._map._container,"leaflet-grab"),hs(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var g=this._map;if(g._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var _=Le(this._map.options.maxBounds);this._offsetLimit=ue(this._map.latLngToContainerPoint(_.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(_.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;g.fire("movestart").fire("dragstart"),g.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(g){if(this._map.options.inertia){var _=this._lastTime=+new Date,H=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(H),this._times.push(_),this._prunePositions(_)}this._map.fire("move",g).fire("drag",g)},_prunePositions:function(g){for(;this._positions.length>1&&g-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var g=this._map.getSize().divideBy(2),_=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=_.subtract(g).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(g,_){return g-(g-_)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var g=this._draggable._newPos.subtract(this._draggable._startPos),_=this._offsetLimit;g.x<_.min.x&&(g.x=this._viscousLimit(g.x,_.min.x)),g.y<_.min.y&&(g.y=this._viscousLimit(g.y,_.min.y)),g.x>_.max.x&&(g.x=this._viscousLimit(g.x,_.max.x)),g.y>_.max.y&&(g.y=this._viscousLimit(g.y,_.max.y)),this._draggable._newPos=this._draggable._startPos.add(g)}},_onPreDragWrap:function(){var g=this._worldWidth,_=Math.round(g/2),H=this._initialWorldOffset,ae=this._draggable._newPos.x,_e=(ae-_+H)%g+_-H,Ve=(ae+_+H)%g-_-H,jt=Math.abs(_e+H)<Math.abs(Ve+H)?_e:Ve;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=jt},_onDragEnd:function(g){var _=this._map,H=_.options,ae=!H.inertia||g.noInertia||this._times.length<2;if(_.fire("dragend",g),ae)_.fire("moveend");else{this._prunePositions(+new Date);var _e=this._lastPos.subtract(this._positions[0]),Ve=(this._lastTime-this._times[0])/1e3,jt=H.easeLinearity,Zt=_e.multiplyBy(jt/Ve),xr=Zt.distanceTo([0,0]),$r=Math.min(H.inertiaMaxSpeed,xr),vn=Zt.multiplyBy($r/xr),ui=$r/(H.inertiaDeceleration*jt),As=vn.multiplyBy(-ui/2).round();!As.x&&!As.y?_.fire("moveend"):(As=_._limitOffset(As,_.options.maxBounds),ie(function(){_.panBy(As,{duration:ui,easeLinearity:jt,noMoveStart:!0,animate:!0})}))}}});at.addInitHook("addHandler","dragging",gc),at.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Hc=ft.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(g){this._map=g,this._setPanDelta(g.options.keyboardPanDelta),this._setZoomDelta(g.options.zoomDelta)},addHooks:function(){var g=this._map._container;g.tabIndex<=0&&(g.tabIndex="0"),he(g,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ue(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var g=document.body,_=document.documentElement,H=g.scrollTop||_.scrollTop,ae=g.scrollLeft||_.scrollLeft;this._map._container.focus(),window.scrollTo(ae,H)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(g){var _=this._panKeys={},H=this.keyCodes,ae,_e;for(ae=0,_e=H.left.length;ae<_e;ae++)_[H.left[ae]]=[-1*g,0];for(ae=0,_e=H.right.length;ae<_e;ae++)_[H.right[ae]]=[g,0];for(ae=0,_e=H.down.length;ae<_e;ae++)_[H.down[ae]]=[0,g];for(ae=0,_e=H.up.length;ae<_e;ae++)_[H.up[ae]]=[0,-1*g]},_setZoomDelta:function(g){var _=this._zoomKeys={},H=this.keyCodes,ae,_e;for(ae=0,_e=H.zoomIn.length;ae<_e;ae++)_[H.zoomIn[ae]]=g;for(ae=0,_e=H.zoomOut.length;ae<_e;ae++)_[H.zoomOut[ae]]=-g},_addHooks:function(){he(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ue(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(g){if(!(g.altKey||g.ctrlKey||g.metaKey)){var _=g.keyCode,H=this._map,ae;if(_ in this._panKeys){if(!H._panAnim||!H._panAnim._inProgress)if(ae=this._panKeys[_],g.shiftKey&&(ae=Oe(ae).multiplyBy(3)),H.options.maxBounds&&(ae=H._limitOffset(Oe(ae),H.options.maxBounds)),H.options.worldCopyJump){var _e=H.wrapLatLng(H.unproject(H.project(H.getCenter()).add(ae)));H.panTo(_e)}else H.panBy(ae)}else if(_ in this._zoomKeys)H.setZoom(H.getZoom()+(g.shiftKey?3:1)*this._zoomKeys[_]);else if(_===27&&H._popup&&H._popup.options.closeOnEscapeKey)H.closePopup();else return;de(g)}}});at.addInitHook("addHandler","keyboard",Hc),at.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Qc=ft.extend({addHooks:function(){he(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ue(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(g){var _=Xe(g),H=this._map.options.wheelDebounceTime;this._delta+=_,this._lastMousePos=this._map.mouseEventToContainerPoint(g),this._startTime||(this._startTime=+new Date);var ae=Math.max(H-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(a(this._performZoom,this),ae),de(g)},_performZoom:function(){var g=this._map,_=g.getZoom(),H=this._map.options.zoomSnap||0;g._stop();var ae=this._delta/(this._map.options.wheelPxPerZoomLevel*4),_e=4*Math.log(2/(1+Math.exp(-Math.abs(ae))))/Math.LN2,Ve=H?Math.ceil(_e/H)*H:_e,jt=g._limitZoom(_+(this._delta>0?Ve:-Ve))-_;this._delta=0,this._startTime=null,jt&&(g.options.scrollWheelZoom==="center"?g.setZoom(_+jt):g.setZoomAround(this._lastMousePos,_+jt))}});at.addInitHook("addHandler","scrollWheelZoom",Qc);var Ku=600;at.mergeOptions({tapHold:Tn.touchNative&&Tn.safari&&Tn.mobile,tapTolerance:15});var vc=ft.extend({addHooks:function(){he(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ue(this._map._container,"touchstart",this._onDown,this)},_onDown:function(g){if(clearTimeout(this._holdTimeout),g.touches.length===1){var _=g.touches[0];this._startPos=this._newPos=new ce(_.clientX,_.clientY),this._holdTimeout=setTimeout(a(function(){this._cancel(),this._isTapValid()&&(he(document,"touchend",ve),he(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",_))},this),Ku),he(document,"touchend touchcancel contextmenu",this._cancel,this),he(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function g(){Ue(document,"touchend",ve),Ue(document,"touchend touchcancel",g)},_cancel:function(){clearTimeout(this._holdTimeout),Ue(document,"touchend touchcancel contextmenu",this._cancel,this),Ue(document,"touchmove",this._onMove,this)},_onMove:function(g){var _=g.touches[0];this._newPos=new ce(_.clientX,_.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(g,_){var H=new MouseEvent(g,{bubbles:!0,cancelable:!0,view:window,screenX:_.screenX,screenY:_.screenY,clientX:_.clientX,clientY:_.clientY});H._simulated=!0,_.target.dispatchEvent(H)}});at.addInitHook("addHandler","tapHold",vc),at.mergeOptions({touchZoom:Tn.touch,bounceAtZoomLimits:!0});var Lo=ft.extend({addHooks:function(){Xn(this._map._container,"leaflet-touch-zoom"),he(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){hs(this._map._container,"leaflet-touch-zoom"),Ue(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(g){var _=this._map;if(!(!g.touches||g.touches.length!==2||_._animatingZoom||this._zooming)){var H=_.mouseEventToContainerPoint(g.touches[0]),ae=_.mouseEventToContainerPoint(g.touches[1]);this._centerPoint=_.getSize()._divideBy(2),this._startLatLng=_.containerPointToLatLng(this._centerPoint),_.options.touchZoom!=="center"&&(this._pinchStartLatLng=_.containerPointToLatLng(H.add(ae)._divideBy(2))),this._startDist=H.distanceTo(ae),this._startZoom=_.getZoom(),this._moved=!1,this._zooming=!0,_._stop(),he(document,"touchmove",this._onTouchMove,this),he(document,"touchend touchcancel",this._onTouchEnd,this),ve(g)}},_onTouchMove:function(g){if(!(!g.touches||g.touches.length!==2||!this._zooming)){var _=this._map,H=_.mouseEventToContainerPoint(g.touches[0]),ae=_.mouseEventToContainerPoint(g.touches[1]),_e=H.distanceTo(ae)/this._startDist;if(this._zoom=_.getScaleZoom(_e,this._startZoom),!_.options.bounceAtZoomLimits&&(this._zoom<_.getMinZoom()&&_e<1||this._zoom>_.getMaxZoom()&&_e>1)&&(this._zoom=_._limitZoom(this._zoom)),_.options.touchZoom==="center"){if(this._center=this._startLatLng,_e===1)return}else{var Ve=H._add(ae)._divideBy(2)._subtract(this._centerPoint);if(_e===1&&Ve.x===0&&Ve.y===0)return;this._center=_.unproject(_.project(this._pinchStartLatLng,this._zoom).subtract(Ve),this._zoom)}this._moved||(_._moveStart(!0,!1),this._moved=!0),Ae(this._animRequest);var jt=a(_._move,_,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ie(jt,this,!0),ve(g)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Ae(this._animRequest),Ue(document,"touchmove",this._onTouchMove,this),Ue(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});at.addInitHook("addHandler","touchZoom",Lo),at.BoxZoom=Ll,at.DoubleClickZoom=Fi,at.Drag=gc,at.Keyboard=Hc,at.ScrollWheelZoom=Qc,at.TapHold=vc,at.TouchZoom=Lo,r.Bounds=we,r.Browser=Tn,r.CRS=At,r.Canvas=gl,r.Circle=ja,r.CircleMarker=Zi,r.Class=Ee,r.Control=rt,r.DivIcon=ec,r.DivOverlay=Ka,r.DomEvent=Ce,r.DomUtil=te,r.Draggable=Ar,r.Evented=xe,r.FeatureGroup=Di,r.GeoJSON=Ii,r.GridLayer=mc,r.Handler=ft,r.Icon=ns,r.ImageOverlay=da,r.LatLng=He,r.LatLngBounds=ye,r.Layer=Hn,r.LayerGroup=$n,r.LineUtil=mt,r.Map=at,r.Marker=Wn,r.Mixin=Ot,r.Path=is,r.Point=ce,r.PolyUtil=Ir,r.Polygon=ai,r.Polyline=Ws,r.Popup=Hl,r.PosAnimation=_t,r.Projection=Sn,r.Rectangle=vl,r.Renderer=Io,r.SVG=zu,r.SVGOverlay=To,r.TileLayer=zl,r.Tooltip=Il,r.Transformation=et,r.Util=be,r.VideoOverlay=Za,r.bind=a,r.bounds=ue,r.canvas=ru,r.circle=xi,r.circleMarker=gs,r.control=Bt,r.divIcon=Vl,r.extend=i,r.featureGroup=Gn,r.geoJSON=Ul,r.geoJson=$l,r.gridLayer=vd,r.icon=_i,r.imageOverlay=vo,r.latLng=Fe,r.latLngBounds=Le,r.layerGroup=ga,r.map=Tt,r.marker=Gi,r.point=Oe,r.polygon=ua,r.polyline=Qi,r.popup=Ql,r.rectangle=nh,r.setOptions=y,r.stamp=u,r.svg=yd,r.svgOverlay=Ac,r.tileLayer=Kl,r.tooltip=gd,r.transformation=We,r.version=n,r.videoOverlay=$c;var nu=window.L;r.noConflict=function(){return window.L=nu,this},window.L=r}))})(sw,sw.exports)),sw.exports}var K_=IMe();const tne=Yf(K_);function QM(t,e,r){return Object.freeze({instance:t,context:e,container:r})}function VM(t,e){return e==null?function(n,i){const s=k.useRef(void 0);return s.current||(s.current=t(n,i)),s}:function(n,i){const s=k.useRef(void 0);s.current||(s.current=t(n,i));const a=k.useRef(n),{instance:c}=s.current;return k.useEffect(function(){a.current!==n&&(e(c,n,a.current),a.current=n)},[c,n,e]),s}}function rne(t,e){k.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){e.layerContainer?.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function nne(t){return function(r){const n=$M(),i=t(HM(r,n),n);return SMe(n.map,r.attribution),ene(i.current,r.eventHandlers),rne(i.current,n),i}}function LMe(t,e){const r=k.useRef(void 0);k.useEffect(function(){if(e.pathOptions!==r.current){const i=e.pathOptions??{};t.instance.setStyle(i),r.current=i}},[t,e])}function BMe(t){return function(r){const n=$M(),i=t(HM(r,n),n);return ene(i.current,r.eventHandlers),rne(i.current,n),LMe(i.current,r),i}}function OMe(t,e){const r=VM(t,e),n=nne(r);return Jre(n)}function PMe(t,e){const r=VM(t,e),n=BMe(r);return Jre(n)}function RMe(t,e){const r=VM(t,e),n=nne(r);return NMe(n)}function DMe(t,e,r){const{opacity:n,zIndex:i}=e;n!=null&&n!==r.opacity&&t.setOpacity(n),i!=null&&i!==r.zIndex&&t.setZIndex(i)}function ine(){return $M().map}function MMe(t){const e=ine();return k.useEffect(function(){return e.on(t),function(){e.off(t)}},[e,t]),e}const FMe=PMe(function({center:e,children:r,...n},i){const s=new K_.Circle(e,n);return QM(s,Zre(i,{overlayContainer:s}))},TMe);function UMe({bounds:t,boundsOptions:e,center:r,children:n,className:i,id:s,placeholder:a,style:c,whenReady:u,zoom:l,...d},f){const[A]=k.useState({className:i,id:s,style:c}),[p,v]=k.useState(null),y=k.useRef(void 0);k.useImperativeHandle(f,()=>p?.map??null,[p]);const x=k.useCallback(E=>{if(E!==null&&!y.current){const T=new K_.Map(E,d);y.current=T,r!=null&&l!=null?T.setView(r,l):t!=null&&T.fitBounds(t,e),u!=null&&T.whenReady(u),v(jMe(T))}},[]);k.useEffect(()=>()=>{p?.map.remove()},[p]);const w=p?_o.createElement(UM,{value:p},n):a??null;return _o.createElement("div",{...A,ref:x},w)}const $Me=k.forwardRef(UMe),HMe=OMe(function({position:e,...r},n){const i=new K_.Marker(e,r);return QM(i,Zre(n,{overlayContainer:i}))},function(e,r,n){r.position!==n.position&&e.setLatLng(r.position),r.icon!=null&&r.icon!==n.icon&&e.setIcon(r.icon),r.zIndexOffset!=null&&r.zIndexOffset!==n.zIndexOffset&&e.setZIndexOffset(r.zIndexOffset),r.opacity!=null&&r.opacity!==n.opacity&&e.setOpacity(r.opacity),e.dragging!=null&&r.draggable!==n.draggable&&(r.draggable===!0?e.dragging.enable():e.dragging.disable())}),QMe=RMe(function({url:e,...r},n){const i=new K_.TileLayer(e,HM(r,n));return QM(i,n)},function(e,r,n){DMe(e,r,n);const{url:i}=r;i!=null&&i!==n.url&&e.setUrl(i)});delete tne.Icon.Default.prototype._getIconUrl;tne.Icon.Default.mergeOptions({iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png"});function VMe({center:t,zoom:e}){const r=ine();return k.useEffect(()=>{t&&r.setView(t,e)},[t,e,r]),null}function zMe({onMapClick:t}){return MMe({click:e=>{t&&t(e.latlng)}}),null}function KMe({latitude:t,longitude:e,radius:r=50,address:n="",onLocationChange:i,onRadiusChange:s,className:a=""}){const[c,u]=k.useState(n),[l,d]=k.useState(!1),[f,A]=k.useState(null),[p,v]=k.useState([t||-27.4698,e||153.0251]),[y,x]=k.useState(t&&e?[t,e]:null),[w,E]=k.useState(r),T=async()=>{if(c.trim()){d(!0),A(null);try{const U=await(await fetch(`https://nominatim.openstreetmap.org/search?q=${encodeURIComponent(c)}&format=json&limit=1&countrycodes=au`)).json();if(U.length===0){A("Location not found. Try a more specific address.");return}const W=U[0],q=parseFloat(W.lat),re=parseFloat(W.lon);v([q,re]),x([q,re]),i&&i({latitude:q,longitude:re,address:W.display_name})}catch(P){A("Search failed. Please try again."),console.error("Geocoding error:",P)}finally{d(!1)}}},C=P=>{x([P.lat,P.lng]),i&&i({latitude:P.lat,longitude:P.lng,address:""})},j=P=>{const U=parseInt(P.target.value)||50;E(U),s&&s(U)};return k.useEffect(()=>{t&&e&&(v([t,e]),x([t,e]))},[t,e]),k.useEffect(()=>{E(r||50)},[r]),o.jsxs("div",{className:`space-y-4 ${a}`,children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Search Venue Address"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(ehe,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"}),o.jsx("input",{type:"text",value:c,onChange:P=>u(P.target.value),onKeyDown:P=>P.key==="Enter"&&T(),placeholder:"Enter venue address (e.g., '8 Annerley Rd, Woolloongabba QLD')",className:"w-full pl-10 pr-4 py-2 bg-dark-800 border border-dark-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-red-500"})]}),o.jsx("button",{type:"button",onClick:T,disabled:l||!c.trim(),className:"px-4 py-2 bg-red-500 hover:bg-red-600 disabled:bg-dark-700 disabled:cursor-not-allowed text-white font-medium rounded-lg transition-colors",children:l?"Searching...":"Search"})]}),f&&o.jsx("p",{className:"mt-2 text-sm text-red-500",children:f}),o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Or click on the map to manually place the venue marker"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Geo-Blocking Radius: ",w,"km"]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("input",{type:"range",min:"1",max:"200",step:"1",value:w,onChange:j,className:"flex-1 h-2 bg-dark-700 rounded-lg appearance-none cursor-pointer slider"}),o.jsx("input",{type:"number",min:"1",max:"200",value:w,onChange:j,className:"w-20 px-3 py-2 bg-dark-800 border border-dark-700 rounded-lg text-white text-center focus:outline-none focus:border-red-500"})]}),o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Viewers within this radius will be blocked from purchasing online access"})]}),o.jsxs("div",{className:"relative rounded-lg overflow-hidden border border-dark-700",style:{height:"400px"},children:[o.jsxs($Me,{center:p,zoom:y?11:10,style:{height:"100%",width:"100%"},className:"z-0",children:[o.jsx(QMe,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),o.jsx(VMe,{center:p,zoom:y?11:10}),o.jsx(zMe,{onMapClick:C}),y&&o.jsxs(o.Fragment,{children:[o.jsx(HMe,{position:y}),o.jsx(FMe,{center:y,radius:(w||50)*1e3,pathOptions:{color:"#e63946",fillColor:"#e63946",fillOpacity:.2,weight:2}})]})]}),!y&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-dark-900/50 pointer-events-none z-10",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Vf,{className:"w-12 h-12 text-gray-600 mx-auto mb-2"}),o.jsx("p",{className:"text-gray-400",children:"Search for a venue or click on the map"})]})})]}),y&&o.jsxs("div",{className:"p-4 bg-dark-800 rounded-lg border border-dark-700",children:[o.jsx("h4",{className:"text-sm font-medium text-white mb-2",children:"Current Settings"}),o.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Latitude:"}),o.jsx("span",{className:"ml-2 text-white font-mono",children:y[0].toFixed(6)})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Longitude:"}),o.jsx("span",{className:"ml-2 text-white font-mono",children:y[1].toFixed(6)})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Radius:"}),o.jsxs("span",{className:"ml-2 text-white font-mono",children:[w,"km"]})]})]})]})]})}function GMe({event:t,onStatusUpdate:e,compact:r=!1}){const[n,i]=k.useState(!1),[s,a]=k.useState(null),c=async()=>{if(t?.mux_live_stream_id){i(!0);try{const{data:A,error:p}=await Jr.functions.invoke("mux-stream",{body:{action:"status",event_id:t.id}});!p&&A&&(a(new Date),e&&e(A))}catch(A){console.error("Status check failed:",A)}finally{i(!1)}}};if(!t?.mux_live_stream_id&&!t?.mux_stream_key)return o.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2 py-1 rounded text-xs font-medium bg-gray-500/20 text-gray-400 ${r?"":"mr-2"}`,children:[o.jsx(s8,{className:"w-3 h-3"}),!r&&"No Stream"]});const u=t?.stream_status||t?.is_live?"active":"idle";u==="active"||t?.is_live;const l={active:{bg:"bg-red-500",text:"text-white",icon:aY,label:"LIVE",pulse:!0},idle:{bg:"bg-yellow-500/20",text:"text-yellow-500",icon:Ihe,label:"Ready",pulse:!1},disabled:{bg:"bg-gray-500/20",text:"text-gray-400",icon:s8,label:"Offline",pulse:!1}},d=l[u]||l.idle,f=d.icon;return o.jsxs("div",{className:`inline-flex items-center gap-2 ${r?"":"mr-2"}`,children:[o.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2 py-1 rounded text-xs font-medium ${d.bg} ${d.text}`,children:[o.jsx(f,{className:`w-3 h-3 ${d.pulse?"animate-pulse":""}`}),d.label]}),!r&&o.jsx("button",{onClick:c,disabled:n,className:"p-1 text-gray-500 hover:text-white transition-colors disabled:opacity-50",title:"Check stream status",children:o.jsx(mN,{className:`w-3.5 h-3.5 ${n?"animate-spin":""}`})})]})}function WMe(){const[t,e]=k.useState([]),[r,n]=k.useState([]),[i,s]=k.useState({demo_mode:!1}),[a,c]=k.useState(!0),[u,l]=k.useState(!1),[d,f]=k.useState(null),[A,p]=k.useState("events");k.useEffect(()=>{v()},[]);const v=async()=>{try{const[C,j,P]=await Promise.all([cRe(),mRe(),bre()]);e(C||[]),n(j||[]),s(P||{demo_mode:!1})}catch(C){console.error("Failed to load data:",C)}finally{c(!1)}},y=async()=>{try{const C=!i.demo_mode,j=await hRe({demo_mode:C});j&&s(j)}catch(C){console.error("Failed to toggle demo mode:",C),alert("Failed to toggle demo mode: "+C.message)}},x=async C=>{if(confirm("Delete this event? This cannot be undone."))try{await dRe(C),e(t.filter(j=>j.id!==C))}catch{alert("Failed to delete event")}},w=r.filter(C=>C.status==="completed").reduce((C,j)=>C+Number(j.amount),0),E=r.filter(C=>C.status==="completed").length,T=t.filter(C=>C.status==="live"||C.is_live).length;return a?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-red-500"})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-white",children:"Livestream Events"}),o.jsx("p",{className:"text-gray-400",children:"Manage PPV events and view orders"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("button",{onClick:y,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${i.demo_mode?"bg-yellow-500/20 text-yellow-500 border border-yellow-500/30":"bg-dark-800 text-gray-400 border border-dark-700"}`,children:[i.demo_mode?o.jsx(ghe,{className:"w-5 h-5"}):o.jsx(mhe,{className:"w-5 h-5"}),"Demo Mode ",i.demo_mode?"ON":"OFF"]}),o.jsxs("button",{onClick:()=>{f(null),l(!0)},className:"flex items-center gap-2 px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg font-medium transition-colors",children:[o.jsx(yb,{className:"w-5 h-5"}),"New Event"]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[o.jsx("div",{className:"bg-dark-900 rounded-xl p-5 border border-dark-800",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-3 bg-green-500/10 rounded-lg",children:o.jsx(k0,{className:"w-6 h-6 text-green-500"})}),o.jsxs("div",{children:[o.jsxs("p",{className:"text-2xl font-bold text-white",children:["$",w.toFixed(2)]}),o.jsx("p",{className:"text-sm text-gray-400",children:"Total Revenue"})]})]})}),o.jsx("div",{className:"bg-dark-900 rounded-xl p-5 border border-dark-800",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-3 bg-blue-500/10 rounded-lg",children:o.jsx(Hb,{className:"w-6 h-6 text-blue-500"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold text-white",children:E}),o.jsx("p",{className:"text-sm text-gray-400",children:"Total Orders"})]})]})}),o.jsx("div",{className:"bg-dark-900 rounded-xl p-5 border border-dark-800",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-3 bg-red-500/10 rounded-lg",children:o.jsx(fd,{className:"w-6 h-6 text-red-500"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold text-white",children:t.length}),o.jsxs("p",{className:"text-sm text-gray-400",children:["Total Events (",T," live)"]})]})]})})]}),o.jsx("div",{className:"border-b border-dark-800",children:o.jsxs("div",{className:"flex gap-6",children:[o.jsxs("button",{onClick:()=>p("events"),className:`pb-3 px-1 font-medium transition-colors ${A==="events"?"text-red-500 border-b-2 border-red-500":"text-gray-400 hover:text-white"}`,children:["Events (",t.length,")"]}),o.jsxs("button",{onClick:()=>p("orders"),className:`pb-3 px-1 font-medium transition-colors ${A==="orders"?"text-red-500 border-b-2 border-red-500":"text-gray-400 hover:text-white"}`,children:["Orders (",r.length,")"]})]})}),A==="events"&&o.jsx("div",{className:"space-y-4",children:t.length===0?o.jsx("div",{className:"text-center py-12 text-gray-400",children:"No events yet. Create your first event!"}):t.map(C=>o.jsx("div",{className:"bg-dark-900 rounded-xl p-5 border border-dark-800",children:o.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2 flex-wrap",children:[o.jsx("h3",{className:"text-lg font-bold text-white",children:C.title}),o.jsx(GMe,{event:C,compact:!0}),o.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded ${C.status==="live"?"bg-red-500 text-white":C.status==="published"?"bg-green-500/20 text-green-500":C.status==="ended"?"bg-gray-500/20 text-gray-400":"bg-yellow-500/20 text-yellow-500"}`,children:C.status||"draft"})]}),o.jsx("p",{className:"text-gray-400 mb-2",children:C.organization}),o.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-500",children:[o.jsx("span",{children:new Date(C.start_time).toLocaleDateString("en-AU")}),o.jsx("span",{children:C.venue}),o.jsxs("span",{className:"font-medium text-green-500",children:["$",C.price," AUD"]})]})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("button",{onClick:async()=>{const j=!C.is_live;await dz(C.id,{is_live:j,status:j?"live":"published"}),v()},className:`p-2 rounded-lg transition-colors ${C.is_live?"text-red-500 bg-red-500/20 hover:bg-red-500/30":"text-gray-400 hover:text-red-500 hover:bg-dark-800"}`,title:C.is_live?"Stop Live":"Go Live",children:o.jsx(aY,{className:"w-5 h-5"})}),o.jsx("button",{onClick:()=>{navigator.clipboard.writeText(`https://fitfocusmedia.com.au/#/live/${C.id}`),alert("Event link copied!")},className:"p-2 text-gray-400 hover:text-white hover:bg-dark-800 rounded-lg transition-colors",title:"Copy Link",children:o.jsx(JW,{className:"w-5 h-5"})}),o.jsx("a",{href:`#/live/${C.id}`,target:"_blank",className:"p-2 text-gray-400 hover:text-white hover:bg-dark-800 rounded-lg transition-colors",title:"View Event Page",children:o.jsx(aC,{className:"w-5 h-5"})}),o.jsx("button",{onClick:()=>{f(C),l(!0)},className:"p-2 text-gray-400 hover:text-white hover:bg-dark-800 rounded-lg transition-colors",title:"Edit",children:o.jsx(che,{className:"w-5 h-5"})}),o.jsx("button",{onClick:()=>x(C.id),className:"p-2 text-gray-400 hover:text-red-500 hover:bg-dark-800 rounded-lg transition-colors",title:"Delete",children:o.jsx(DR,{className:"w-5 h-5"})})]})]})},C.id))}),A==="orders"&&o.jsxs("div",{className:"bg-dark-900 rounded-xl border border-dark-800 overflow-hidden",children:[r.length>0&&o.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-dark-800",children:[o.jsxs("p",{className:"text-sm text-gray-400",children:[r.filter(C=>C.status==="completed").length," completed orders",o.jsxs("span",{className:"text-green-500 ml-2",children:["$",r.filter(C=>C.status==="completed").reduce((C,j)=>C+parseFloat(j.amount||0),0).toFixed(2)," total"]})]}),o.jsxs("button",{onClick:()=>{const C=["Order ID","Email","Event","Amount","Status","Date","Payment Method"],j=r.map(re=>[re.id,re.email,re.event?.title||"",re.amount,re.status,new Date(re.created_at).toLocaleString("en-AU"),re.payment_method||"stripe"]),P=[C,...j].map(re=>re.map(ie=>`"${ie}"`).join(",")).join(`
`),U=new Blob([P],{type:"text/csv"}),W=URL.createObjectURL(U),q=document.createElement("a");q.href=W,q.download=`livestream-orders-${new Date().toISOString().slice(0,10)}.csv`,q.click(),URL.revokeObjectURL(W)},className:"flex items-center gap-2 px-3 py-1.5 bg-dark-800 hover:bg-dark-700 text-gray-300 hover:text-white rounded-lg text-sm transition-colors",children:[o.jsx(Cp,{className:"w-4 h-4"}),"Export CSV"]})]}),r.length===0?o.jsx("div",{className:"text-center py-12 text-gray-400",children:"No orders yet."}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-dark-800",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-400",children:"Order"}),o.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-400",children:"Email"}),o.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-400",children:"Event"}),o.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-400",children:"Amount"}),o.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-400",children:"Status"}),o.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-400",children:"Date"})]})}),o.jsx("tbody",{className:"divide-y divide-dark-800",children:r.map(C=>o.jsxs("tr",{className:"hover:bg-dark-800/50",children:[o.jsx("td",{className:"px-4 py-3",children:o.jsx("code",{className:"text-xs text-gray-400",children:C.id.slice(0,8)})}),o.jsx("td",{className:"px-4 py-3 text-white",children:C.email}),o.jsx("td",{className:"px-4 py-3 text-gray-400",children:C.event?.title||"Unknown"}),o.jsxs("td",{className:"px-4 py-3 text-green-500 font-medium",children:["$",C.amount]}),o.jsx("td",{className:"px-4 py-3",children:o.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded ${C.status==="completed"?"bg-green-500/20 text-green-500":C.status==="pending"?"bg-yellow-500/20 text-yellow-500":"bg-red-500/20 text-red-500"}`,children:C.payment_method==="demo"?" Demo":C.status})}),o.jsx("td",{className:"px-4 py-3 text-gray-400 text-sm",children:new Date(C.created_at).toLocaleString("en-AU")})]},C.id))})]})})]}),u&&o.jsx(YMe,{event:d,onClose:()=>{l(!1),f(null)},onSave:async C=>{try{let j=d?.id;if(d)await dz(d.id,C);else{j=(await uRe(C)).id;try{const{data:U,error:W}=await Jr.functions.invoke("mux-stream",{body:{action:"create",event_id:j}});if(W)console.error("MUX stream creation failed:",W);else if(U?.stream_key){const q=`Server: ${U.rtmp_url}
Stream Key: ${U.stream_key}`;navigator.clipboard.writeText(U.stream_key).then(()=>{alert(`MUX Stream Created! 

Stream Key copied to clipboard!

For OBS:
 Server: ${U.rtmp_url}
 Stream Key: (already copied)

Just paste (Cmd+V) in OBS Stream Key field.`)}).catch(()=>{prompt("MUX Stream Created! Copy this Stream Key:",U.stream_key)})}}catch(U){console.error("MUX stream creation failed:",U)}}await v(),l(!1),f(null)}catch{alert("Failed to save event")}}})]})}function YMe({event:t,onClose:e,onSave:r}){const[n,i]=k.useState({title:t?.title||"",organization:t?.organization||"",venue:t?.venue||"",start_time:t?.start_time?.slice(0,16)||"",end_time:t?.end_time?.slice(0,16)||"",price:t?.price||29.99,description:t?.description||"",thumbnail_url:t?.thumbnail_url||"",ticket_url:t?.ticket_url||"",status:t?.status||"draft",mux_playback_id:t?.mux_playback_id||"",mux_stream_key:t?.mux_stream_key||"",geo_blocking_enabled:t?.geo_blocking_enabled||!1,geo_lat:t?.geo_lat||null,geo_lng:t?.geo_lng||null,geo_radius_km:t?.geo_radius_km||50,geo_venue_address:t?.geo_venue_address||""}),[s,a]=k.useState(!1),[c,u]=k.useState([]),[l,d]=k.useState(!0);k.useEffect(()=>{t?d(!1):(async()=>{try{const[v,y]=await Promise.all([vre(),m5()]),x=[];v&&v.forEach(w=>{w.event_name&&x.push({id:`onboarding-${w.id}`,source:"Onboarding",title:w.event_name,organization:w.org_name,venue:w.event_location||"",date:w.event_date,contact:w.contact_name})}),y&&y.forEach(w=>{const E=w.contract_data||{};E.event_name&&x.push({id:`contract-${w.id}`,source:"Contract",title:E.event_name,organization:w.org_name,venue:E.event_location||"",date:E.event_date,contact:w.promoter_name})}),u(x)}catch(v){console.error("Failed to load existing events:",v)}finally{d(!1)}})()},[t]);const f=p=>{if(!p)return;const v=c.find(w=>w.id===p);if(!v)return;let y="",x="";if(v.date){const w=new Date(v.date);isNaN(w.getTime())||(w.setHours(18,0,0),y=w.toISOString().slice(0,16),w.setHours(22,0,0),x=w.toISOString().slice(0,16))}i(w=>({...w,title:v.title||w.title,organization:v.organization||w.organization,venue:v.venue||w.venue,start_time:y||w.start_time,end_time:x||w.end_time}))},A=async p=>{p.preventDefault(),a(!0),await r(n),a(!1)};return o.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-dark-900 rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsx("div",{className:"p-6 border-b border-dark-800",children:o.jsx("h2",{className:"text-xl font-bold text-white",children:t?"Edit Event":"Create Event"})}),o.jsxs("form",{onSubmit:A,className:"p-6 space-y-4",children:[!t&&c.length>0&&o.jsxs("div",{className:"p-4 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:[o.jsxs("label",{className:"block text-sm font-medium text-blue-400 mb-2 flex items-center gap-2",children:[o.jsx(Cp,{className:"w-4 h-4"}),"Import from existing event"]}),o.jsxs("select",{onChange:p=>f(p.target.value),className:"w-full px-3 py-2 bg-dark-800 border border-dark-700 rounded-lg text-white",defaultValue:"",children:[o.jsx("option",{value:"",children:" Select to auto-fill "}),c.map(p=>o.jsxs("option",{value:p.id,children:["[",p.source,"] ",p.title,"  ",p.organization]},p.id))]})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Title *"}),o.jsx("input",{type:"text",value:n.title,onChange:p=>i({...n,title:p.target.value}),className:"w-full px-3 py-2 bg-dark-800 border border-dark-700 rounded-lg text-white",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Organization *"}),o.jsx("input",{type:"text",value:n.organization,onChange:p=>i({...n,organization:p.target.value}),className:"w-full px-3 py-2 bg-dark-800 border border-dark-700 rounded-lg text-white",required:!0})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Venue *"}),o.jsx("input",{type:"text",value:n.venue,onChange:p=>i({...n,venue:p.target.value}),className:"w-full px-3 py-2 bg-dark-800 border border-dark-700 rounded-lg text-white",required:!0})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Start Time *"}),o.jsx("input",{type:"datetime-local",value:n.start_time,onChange:p=>i({...n,start_time:p.target.value}),className:"w-full px-3 py-2 bg-dark-800 border border-dark-700 rounded-lg text-white",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"End Time *"}),o.jsx("input",{type:"datetime-local",value:n.end_time,onChange:p=>i({...n,end_time:p.target.value}),className:"w-full px-3 py-2 bg-dark-800 border border-dark-700 rounded-lg text-white",required:!0})]})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Price (AUD) *"}),o.jsx("input",{type:"number",step:"0.01",value:n.price,onChange:p=>i({...n,price:parseFloat(p.target.value)}),className:"w-full px-3 py-2 bg-dark-800 border border-dark-700 rounded-lg text-white",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Status"}),o.jsxs("select",{value:n.status,onChange:p=>i({...n,status:p.target.value}),className:"w-full px-3 py-2 bg-dark-800 border border-dark-700 rounded-lg text-white",children:[o.jsx("option",{value:"draft",children:"Draft"}),o.jsx("option",{value:"published",children:"Published"}),o.jsx("option",{value:"live",children:"Live"}),o.jsx("option",{value:"ended",children:"Ended"})]})]})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"MUX Playback ID"}),o.jsx("input",{type:"text",value:n.mux_playback_id,onChange:p=>i({...n,mux_playback_id:p.target.value}),className:"w-full px-3 py-2 bg-dark-800 border border-dark-700 rounded-lg text-white",placeholder:"Auto-generated on create"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"MUX Stream Key (for OBS)"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"text",value:n.mux_stream_key,readOnly:!0,className:"flex-1 px-3 py-2 bg-dark-900 border border-dark-700 rounded-lg text-gray-400 font-mono text-sm",placeholder:n.mux_stream_key?"":"Click Generate to create"}),n.mux_stream_key?o.jsx("button",{type:"button",onClick:()=>{navigator.clipboard.writeText(n.mux_stream_key),alert("Stream Key copied!")},className:"px-3 py-2 bg-dark-700 hover:bg-dark-600 text-white rounded-lg transition-colors",children:"Copy"}):t?.id&&o.jsx("button",{type:"button",onClick:async()=>{try{const{data:p,error:v}=await Jr.functions.invoke("mux-stream",{body:{action:"create",event_id:t.id}});if(v){alert("Failed to create stream: "+v.message);return}p?.stream_key&&(i(y=>({...y,mux_stream_key:p.stream_key,mux_playback_id:p.playback_id})),navigator.clipboard.writeText(p.stream_key),alert("MUX Stream created! Stream Key copied to clipboard."))}catch(p){alert("Failed to create stream: "+p.message)}},className:"px-3 py-2 bg-green-600 hover:bg-green-500 text-white rounded-lg transition-colors whitespace-nowrap",children:"Generate"})]}),o.jsx("p",{className:"text-sm text-amber-400 mt-1 font-medium",children:" RTMP Server: rtmps://global-live.mux.com:443/app"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Description"}),o.jsx("textarea",{value:n.description,onChange:p=>i({...n,description:p.target.value}),className:"w-full px-3 py-2 bg-dark-800 border border-dark-700 rounded-lg text-white",rows:3})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Thumbnail URL"}),o.jsx("input",{type:"url",value:n.thumbnail_url,onChange:p=>i({...n,thumbnail_url:p.target.value}),className:"w-full px-3 py-2 bg-dark-800 border border-dark-700 rounded-lg text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Ticket URL"}),o.jsx("input",{type:"url",value:n.ticket_url,onChange:p=>i({...n,ticket_url:p.target.value}),className:"w-full px-3 py-2 bg-dark-800 border border-dark-700 rounded-lg text-white"})]})]}),o.jsxs("div",{className:"pt-6 border-t border-dark-800",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-white",children:"Geo-Blocking"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Block online streaming near the venue"})]}),o.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:n.geo_blocking_enabled,onChange:p=>i({...n,geo_blocking_enabled:p.target.checked}),className:"sr-only peer"}),o.jsx("div",{className:"w-11 h-6 bg-dark-700 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-red-500 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-red-500"}),o.jsx("span",{className:"ml-3 text-sm font-medium text-gray-400",children:n.geo_blocking_enabled?"Enabled":"Disabled"})]})]}),n.geo_blocking_enabled&&o.jsx(KMe,{latitude:n.geo_lat,longitude:n.geo_lng,radius:n.geo_radius_km,address:n.geo_venue_address||n.venue,onLocationChange:({latitude:p,longitude:v,address:y})=>{i({...n,geo_lat:p,geo_lng:v,geo_venue_address:y||n.venue})},onRadiusChange:p=>{i({...n,geo_radius_km:p})}})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-dark-800",children:[o.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-400 hover:text-white transition-colors",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:s,className:"px-6 py-2 bg-red-500 hover:bg-red-600 disabled:bg-dark-700 text-white font-medium rounded-lg transition-colors",children:s?"Saving...":t?"Update Event":"Create Event"})]})]})]})})}function qMe(){const[t,e]=k.useState([]),[r,n]=k.useState(!0),[i,s]=k.useState(null);k.useEffect(()=>{a()},[]);const a=async()=>{try{const f=await lRe();e(f||[])}catch(f){s("Failed to load events"),console.error(f)}finally{n(!1)}},c=new Date,u=t.filter(f=>new Date(f.start_time)>c&&f.status!=="ended"),l=t.filter(f=>f.status==="live"||f.is_live),d=t.filter(f=>f.status==="ended"||new Date(f.end_time)<c);return r?o.jsx("div",{className:"min-h-[60vh] flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-500"})}):i?o.jsx("div",{className:"min-h-[60vh] flex items-center justify-center",children:o.jsx("p",{className:"text-red-500",children:i})}):o.jsx("div",{className:"py-16 px-4",children:o.jsxs("div",{className:"max-w-6xl mx-auto",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"Live Events"}),o.jsx("p",{className:"text-xl text-gray-400 max-w-2xl mx-auto",children:"Watch live combat sports events from anywhere. Professional production, HD quality streaming."})]}),l.length>0&&o.jsxs("section",{className:"mb-12",children:[o.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[o.jsx("span",{className:"w-3 h-3 bg-red-500 rounded-full animate-pulse"}),"Live Now"]}),o.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:l.map(f=>o.jsx(GL,{event:f,isLive:!0},f.id))})]}),u.length>0&&o.jsxs("section",{className:"mb-12",children:[o.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Upcoming Events"}),o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(f=>o.jsx(GL,{event:f},f.id))})]}),d.length>0&&o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Replays Available"}),o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(f=>o.jsx(GL,{event:f,isPast:!0},f.id))})]}),t.length===0&&o.jsx("div",{className:"text-center py-16",children:o.jsx("p",{className:"text-gray-400 text-lg",children:"No events scheduled yet. Check back soon!"})})]})})}function GL({event:t,isLive:e,isPast:r}){const n=new Date(t.start_time);return o.jsxs(Ks,{to:`/live/${t.id}`,className:"group bg-dark-900 rounded-xl overflow-hidden border border-dark-800 hover:border-red-500/50 transition-all",children:[o.jsxs("div",{className:"relative aspect-video bg-dark-800",children:[t.thumbnail_url?o.jsx("img",{src:t.thumbnail_url,alt:t.title,className:"w-full h-full object-cover"}):o.jsx("div",{className:"w-full h-full flex items-center justify-center",children:o.jsx(RR,{className:"w-16 h-16 text-dark-600"})}),e&&o.jsxs("div",{className:"absolute top-3 left-3 px-3 py-1 bg-red-500 text-white text-sm font-bold rounded-full flex items-center gap-1",children:[o.jsx("span",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),"LIVE"]}),r&&o.jsx("div",{className:"absolute top-3 left-3 px-3 py-1 bg-dark-700 text-white text-sm font-medium rounded-full",children:"Replay"}),o.jsxs("div",{className:"absolute bottom-3 right-3 px-3 py-1 bg-black/80 text-white font-bold rounded-lg",children:["$",t.price," AUD"]})]}),o.jsxs("div",{className:"p-5",children:[o.jsx("h3",{className:"text-xl font-bold text-white mb-2 group-hover:text-red-500 transition-colors",children:t.title}),o.jsx("p",{className:"text-gray-400 mb-4",children:t.organization}),o.jsxs("div",{className:"space-y-2 text-sm text-gray-500",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(fd,{className:"w-4 h-4"}),n.toLocaleDateString("en-AU",{weekday:"short",day:"numeric",month:"short",year:"numeric"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(w0,{className:"w-4 h-4"}),n.toLocaleTimeString("en-AU",{hour:"2-digit",minute:"2-digit"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Vf,{className:"w-4 h-4"}),t.venue]})]})]})]})}function sne({targetDate:t,onComplete:e,className:r=""}){const[n,i]=k.useState(s());function s(){const c=new Date(t)-new Date;return c<=0?null:{days:Math.floor(c/(1e3*60*60*24)),hours:Math.floor(c/(1e3*60*60)%24),minutes:Math.floor(c/1e3/60%60),seconds:Math.floor(c/1e3%60)}}if(k.useEffect(()=>{const c=setInterval(()=>{const u=s();i(u),!u&&e&&e()},1e3);return()=>clearInterval(c)},[t]),!n)return null;const a=({value:c,label:u})=>o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("div",{className:"bg-dark-800 border border-dark-700 rounded-lg px-3 py-2 md:px-4 md:py-3 min-w-[60px] md:min-w-[80px]",children:o.jsx("span",{className:"text-2xl md:text-4xl font-bold text-white tabular-nums",children:String(c).padStart(2,"0")})}),o.jsx("span",{className:"text-xs md:text-sm text-gray-500 mt-1 uppercase tracking-wider",children:u})]});return o.jsxs("div",{className:`${r}`,children:[o.jsx("p",{className:"text-center text-gray-400 mb-3 text-sm uppercase tracking-wider",children:"Event Starts In"}),o.jsxs("div",{className:"flex items-center justify-center gap-2 md:gap-4",children:[n.days>0&&o.jsxs(o.Fragment,{children:[o.jsx(a,{value:n.days,label:"Days"}),o.jsx("span",{className:"text-2xl text-gray-600 font-bold",children:":"})]}),o.jsx(a,{value:n.hours,label:"Hours"}),o.jsx("span",{className:"text-2xl text-gray-600 font-bold",children:":"}),o.jsx(a,{value:n.minutes,label:"Mins"}),o.jsx("span",{className:"text-2xl text-gray-600 font-bold",children:":"}),o.jsx(a,{value:n.seconds,label:"Secs"})]})]})}function XMe({url:t,title:e,description:r,className:n=""}){const[i,s]=k.useState(!1),[a,c]=k.useState(!1),u=t||window.location.href,l=e||document.title,d=r||"",f={twitter:`https://twitter.com/intent/tweet?text=${encodeURIComponent(l)}&url=${encodeURIComponent(u)}`,facebook:`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(u)}`,whatsapp:`https://wa.me/?text=${encodeURIComponent(l+" "+u)}`},A=async()=>{try{await navigator.clipboard.writeText(u),s(!0),setTimeout(()=>s(!1),2e3)}catch(v){console.error("Failed to copy:",v)}},p=async()=>{if(navigator.share)try{await navigator.share({title:l,text:d,url:u})}catch{c(!0)}else c(!a)};return o.jsxs("div",{className:`relative ${n}`,children:[o.jsxs("button",{onClick:p,className:"flex items-center gap-2 px-4 py-2 bg-dark-800 hover:bg-dark-700 border border-dark-700 rounded-lg text-gray-300 hover:text-white transition-colors",children:[o.jsx(she,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm font-medium",children:"Share Event"})]}),a&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>c(!1)}),o.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-dark-800 border border-dark-700 rounded-lg shadow-xl z-50 overflow-hidden",children:[o.jsxs("a",{href:f.twitter,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 px-4 py-3 hover:bg-dark-700 text-gray-300 hover:text-white transition-colors",onClick:()=>c(!1),children:[o.jsx(Ehe,{className:"w-4 h-4 text-[#1DA1F2]"}),o.jsx("span",{className:"text-sm",children:"Twitter"})]}),o.jsxs("a",{href:f.facebook,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 px-4 py-3 hover:bg-dark-700 text-gray-300 hover:text-white transition-colors",onClick:()=>c(!1),children:[o.jsx(i_,{className:"w-4 h-4 text-[#4267B2]"}),o.jsx("span",{className:"text-sm",children:"Facebook"})]}),o.jsxs("a",{href:f.whatsapp,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 px-4 py-3 hover:bg-dark-700 text-gray-300 hover:text-white transition-colors",onClick:()=>c(!1),children:[o.jsx(Rde,{className:"w-4 h-4 text-[#25D366]"}),o.jsx("span",{className:"text-sm",children:"WhatsApp"})]}),o.jsxs("button",{onClick:()=>{A(),c(!1)},className:"flex items-center gap-3 px-4 py-3 hover:bg-dark-700 text-gray-300 hover:text-white transition-colors w-full border-t border-dark-700",children:[o.jsx(rY,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm",children:i?"Copied!":"Copy Link"})]})]})]})]})}function ZMe({title:t,description:e,image:r,url:n,type:i="website"}){return k.useEffect(()=>{t&&(document.title=`${t} | Fit Focus Media`);const s=(a,c)=>{if(!c)return;let u=document.querySelector(`meta[property="${a}"]`)||document.querySelector(`meta[name="${a}"]`);u||(u=document.createElement("meta"),a.startsWith("og:")||a.startsWith("twitter:")?u.setAttribute("property",a):u.setAttribute("name",a),document.head.appendChild(u)),u.setAttribute("content",c)};return s("og:title",t),s("og:description",e),s("og:image",r),s("og:url",n||window.location.href),s("og:type",i),s("twitter:card","summary_large_image"),s("twitter:title",t),s("twitter:description",e),s("twitter:image",r),s("description",e),()=>{document.title="Fit Focus Media"}},[t,e,r,n,i]),null}function JMe({event:t,className:e=""}){const[r,n]=k.useState(!1);if(!t)return null;const i=new Date(t.start_time),s=t.end_time?new Date(t.end_time):new Date(i.getTime()+10800*1e3),a=v=>v.toISOString().replace(/-|:|\.\d+/g,""),c=v=>v.toISOString().replace(/-|:|\.\d+/g,"").slice(0,15)+"Z",u=encodeURIComponent(t.title),l=encodeURIComponent(`${t.organization}

Watch live at: https://fitfocusmedia.com.au/#/live/${t.id}`),d=encodeURIComponent(t.venue||"Online"),f=`https://calendar.google.com/calendar/render?action=TEMPLATE&text=${u}&dates=${a(i)}/${a(s)}&details=${l}&location=${d}`,A=`https://outlook.live.com/calendar/0/deeplink/compose?subject=${u}&startdt=${i.toISOString()}&enddt=${s.toISOString()}&body=${l}&location=${d}`,p=()=>{const v=`BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//Fit Focus Media//Livestream//EN
BEGIN:VEVENT
UID:${t.id}@fitfocusmedia.com.au
DTSTAMP:${c(new Date)}
DTSTART:${c(i)}
DTEND:${c(s)}
SUMMARY:${t.title}
DESCRIPTION:${t.organization}\\n\\nWatch live at: https://fitfocusmedia.com.au/#/live/${t.id}
LOCATION:${t.venue||"Online"}
END:VEVENT
END:VCALENDAR`,y=new Blob([v],{type:"text/calendar;charset=utf-8"}),x=URL.createObjectURL(y),w=document.createElement("a");w.href=x,w.download=`${t.title.replace(/[^a-z0-9]/gi,"_")}.ics`,document.body.appendChild(w),w.click(),document.body.removeChild(w),URL.revokeObjectURL(x),n(!1)};return o.jsxs("div",{className:`relative ${e}`,children:[o.jsxs("button",{onClick:()=>n(!r),className:"flex items-center gap-2 px-4 py-2 bg-dark-800 hover:bg-dark-700 border border-dark-700 rounded-lg text-gray-300 hover:text-white transition-colors",children:[o.jsx(fd,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm font-medium",children:"Add to Calendar"}),o.jsx(gb,{className:`w-4 h-4 transition-transform ${r?"rotate-180":""}`})]}),r&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>n(!1)}),o.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-dark-800 border border-dark-700 rounded-lg shadow-xl z-50 overflow-hidden",children:[o.jsxs("a",{href:f,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 px-4 py-3 hover:bg-dark-700 text-gray-300 hover:text-white transition-colors",onClick:()=>n(!1),children:[o.jsx("span",{className:"text-lg",children:""}),o.jsx("span",{className:"text-sm",children:"Google Calendar"})]}),o.jsxs("button",{onClick:p,className:"flex items-center gap-3 px-4 py-3 hover:bg-dark-700 text-gray-300 hover:text-white transition-colors w-full",children:[o.jsx("span",{className:"text-lg",children:""}),o.jsx("span",{className:"text-sm",children:"Apple Calendar"})]}),o.jsxs("a",{href:A,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 px-4 py-3 hover:bg-dark-700 text-gray-300 hover:text-white transition-colors",onClick:()=>n(!1),children:[o.jsx("span",{className:"text-lg",children:""}),o.jsx("span",{className:"text-sm",children:"Outlook"})]})]})]})]})}function eFe(){const{eventId:t}=Qm(),e=Mc(),[r,n]=k.useState(null),[i,s]=k.useState({demo_mode:!1}),[a,c]=k.useState(""),[u,l]=k.useState(!0),[d,f]=k.useState(!1),[A,p]=k.useState(null),[v,y]=k.useState(null),[x,w]=k.useState(null),[E,T]=k.useState(!1),[C,j]=k.useState(!1),[P,U]=k.useState(!1),[W,q]=k.useState(!1),[re,ie]=k.useState(null);k.useEffect(()=>{ge()},[t]),k.useEffect(()=>{r&&r.geo_blocking_enabled?Ae():r&&!r.geo_blocking_enabled&&q(!0)},[r]);const Ae=async()=>{try{const Oe=await navigator.permissions.query({name:"geolocation"});Oe.state==="granted"?be():Oe.state==="denied"?(U(!0),q(!0)):j(!0)}catch{j(!0)}},be=()=>{T(!0),j(!1),navigator.geolocation.getCurrentPosition(async Oe=>{const we=Oe.coords.latitude,ue=Oe.coords.longitude;try{const Le=await(await fetch("https://gonalgubgldgpkcekaxe.supabase.co/functions/v1/geo-check",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({venue_lat:r.geo_lat,venue_lng:r.geo_lng,radius_km:r.geo_radius_km||50,user_lat:we,user_lng:ue})})).json();y(Le.blocked),w(Le),ie({lat:we,lng:ue,distance_km:Le.distance_km})}catch(ye){console.error("Geo check failed:",ye),y(!1),ie({lat:we,lng:ue})}finally{T(!1),q(!0)}},Oe=>{console.error("Geolocation error:",Oe),Oe.code===Oe.PERMISSION_DENIED&&U(!0),T(!1),q(!0)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})},Ee=()=>{be()},ge=async()=>{try{const[Oe,we]=await Promise.all([xre(t),bre()]);n(Oe),s(we||{demo_mode:!1})}catch(Oe){p("Event not found"),console.error(Oe)}finally{l(!1)}},se=async Oe=>{if(Oe.preventDefault(),!a){p("Please enter your email");return}f(!0),p(null);try{if(i.demo_mode)await fRe({event_id:t,email:a.toLowerCase(),amount:r.price,status:"completed",payment_method:"demo",completed_at:new Date().toISOString(),buyer_lat:re?.lat,buyer_lng:re?.lng,distance_from_venue_km:re?.distance_km}),e(`/watch/${t}?email=${encodeURIComponent(a)}`);else{const ue=await(await fetch("https://gonalgubgldgpkcekaxe.supabase.co/functions/v1/livestream-checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({event_id:t,email:a,buyer_lat:re?.lat,buyer_lng:re?.lng,distance_from_venue_km:re?.distance_km})})).json();if(ue.demo&&ue.redirect)window.location.href=ue.redirect;else if(ue.url)window.location.href=ue.url;else throw new Error(ue.error||"Checkout failed")}}catch(we){p(we.message||"Purchase failed. Please try again.")}finally{f(!1)}};if(u)return o.jsx("div",{className:"min-h-[60vh] flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-500"})});if(A&&!r)return o.jsx("div",{className:"min-h-[60vh] flex items-center justify-center",children:o.jsx("p",{className:"text-red-500",children:A})});if(C&&r?.geo_blocking_enabled)return o.jsx("div",{className:"min-h-[60vh] flex items-center justify-center p-4",children:o.jsxs("div",{className:"max-w-md w-full bg-dark-900 rounded-xl border border-dark-800 p-8 text-center",children:[o.jsx(Ude,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),o.jsx("h2",{className:"text-2xl font-bold text-white mb-3",children:"Location Verification Required"}),o.jsx("p",{className:"text-gray-400 mb-4",children:"To protect this event's ticket sales, we need to verify you're not at the venue location."}),o.jsxs("p",{className:"text-gray-500 text-sm mb-6",children:["Online streaming is restricted within ",r.geo_radius_km||50,"km of ",r.venue,". Your location data is only used for this check and is not stored."]}),o.jsxs("button",{onClick:Ee,className:"w-full py-4 bg-red-500 hover:bg-red-600 text-white font-bold rounded-lg transition-colors flex items-center justify-center gap-2 mb-3",children:[o.jsx(Vf,{className:"w-5 h-5"}),"Enable Location Access"]}),o.jsx("p",{className:"text-gray-600 text-xs",children:'Click "Allow" when your browser asks for permission'})]})});if(P&&r?.geo_blocking_enabled)return o.jsx("div",{className:"min-h-[60vh] flex items-center justify-center p-4",children:o.jsxs("div",{className:"max-w-md w-full bg-dark-900 rounded-xl border border-dark-800 p-8 text-center",children:[o.jsx(GB,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),o.jsx("h2",{className:"text-2xl font-bold text-white mb-3",children:"Location Access Blocked"}),o.jsx("p",{className:"text-gray-400 mb-4",children:"Location access is required to verify you're not at the venue. Without it, we can't process your purchase."}),o.jsxs("div",{className:"bg-dark-800 rounded-lg p-4 mb-6 text-left",children:[o.jsx("p",{className:"text-white font-semibold mb-2",children:"To enable location:"}),o.jsxs("ol",{className:"text-gray-400 text-sm space-y-2",children:[o.jsx("li",{children:"1. Click the  icon in your address bar"}),o.jsx("li",{children:'2. Find "Location" and change it to "Allow"'}),o.jsx("li",{children:"3. Click the button below to try again"})]})]}),o.jsx("button",{onClick:()=>{U(!1),j(!0)},className:"w-full py-4 bg-red-500 hover:bg-red-600 text-white font-bold rounded-lg transition-colors",children:"Try Again"}),o.jsxs("p",{className:"text-gray-600 text-xs mt-4",children:["We only check if you're within ",r.geo_radius_km||50,"km of the venue. Your exact location is not stored."]})]})});if(E)return o.jsx("div",{className:"min-h-[60vh] flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-500 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-400",children:"Verifying your location..."}),o.jsx("p",{className:"text-gray-600 text-sm mt-2",children:"This only takes a moment"})]})});if(v)return o.jsx("div",{className:"min-h-[60vh] flex items-center justify-center p-4",children:o.jsxs("div",{className:"max-w-md w-full bg-dark-900 rounded-xl p-8 text-center",children:[o.jsx(GB,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),o.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"You're Close to the Venue!"}),o.jsxs("p",{className:"text-gray-400 mb-4",children:["Online streaming is not available within ",r.geo_radius_km||50,"km of the venue."]}),x?.user_location&&o.jsxs("p",{className:"text-gray-500 text-sm mb-4",children:["Your location: ",x.user_location.city,", ",x.user_location.country,o.jsx("br",{}),"Distance from venue: ",x.distance_km,"km"]}),o.jsx("p",{className:"text-gray-400 mb-6",children:"Great news  you can watch this event live in person!"}),o.jsx("p",{className:"text-white font-semibold mb-6",children:r.venue}),r.ticket_url?o.jsx("a",{href:r.ticket_url,target:"_blank",rel:"noopener noreferrer",className:"inline-block px-6 py-3 bg-red-500 hover:bg-red-600 text-white font-bold rounded-lg transition-colors",children:"Get Tickets"}):o.jsx("p",{className:"text-gray-500",children:"Contact the venue for ticket information."})]})});const xe=new Date(r.start_time),ce=r.is_live||r.status==="live",Me=r.status==="ended"||new Date(r.end_time)<new Date;return o.jsxs(o.Fragment,{children:[o.jsx(ZMe,{title:`${r.title} - ${r.organization}`,description:`Watch ${r.title} live! ${xe.toLocaleDateString("en-AU")} at ${r.venue}. Stream access $${r.price} AUD.`,image:r.thumbnail_url,type:"video.other"}),o.jsx("div",{className:"py-16 px-4",children:o.jsx("div",{className:"max-w-5xl mx-auto",children:o.jsxs("div",{className:"grid lg:grid-cols-5 gap-8",children:[o.jsxs("div",{className:"lg:col-span-3",children:[o.jsxs("div",{className:"relative aspect-video bg-dark-800 rounded-xl overflow-hidden mb-6",children:[r.thumbnail_url?o.jsx("img",{src:r.thumbnail_url,alt:r.title,className:"w-full h-full object-cover"}):o.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-dark-800 to-dark-900",children:o.jsx("span",{className:"text-6xl",children:""})}),ce&&o.jsxs("div",{className:"absolute top-4 left-4 px-4 py-2 bg-red-500 text-white font-bold rounded-full flex items-center gap-2",children:[o.jsx("span",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),"LIVE NOW"]})]}),o.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4 mb-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-2",children:r.title}),o.jsx("p",{className:"text-xl text-gray-400",children:r.organization})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsx(JMe,{event:r}),o.jsx(XMe,{title:`Watch ${r.title} Live!`,description:`${r.organization} - ${xe.toLocaleDateString("en-AU")}`})]})]}),!ce&&!Me&&o.jsx("div",{className:"mb-8 p-6 bg-dark-800/50 rounded-xl border border-dark-700",children:o.jsx(sne,{targetDate:r.start_time,onComplete:()=>window.location.reload()})}),o.jsxs("div",{className:"grid sm:grid-cols-2 gap-4 mb-8",children:[o.jsxs("div",{className:"flex items-center gap-3 text-gray-300",children:[o.jsx(fd,{className:"w-5 h-5 text-red-500"}),xe.toLocaleDateString("en-AU",{weekday:"long",day:"numeric",month:"long",year:"numeric"})]}),o.jsxs("div",{className:"flex items-center gap-3 text-gray-300",children:[o.jsx(w0,{className:"w-5 h-5 text-red-500"}),xe.toLocaleTimeString("en-AU",{hour:"2-digit",minute:"2-digit"})," AEST"]}),o.jsxs("div",{className:"flex items-center gap-3 text-gray-300 sm:col-span-2",children:[o.jsx(Vf,{className:"w-5 h-5 text-red-500"}),r.venue]})]}),r.description&&o.jsxs("div",{className:"prose prose-invert max-w-none",children:[o.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"About This Event"}),o.jsx("p",{className:"text-gray-400",children:r.description})]})]}),o.jsx("div",{className:"lg:col-span-2",children:o.jsxs("div",{className:"sticky top-24 bg-dark-900 rounded-xl border border-dark-800 p-6",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("p",{className:"text-gray-400 mb-1",children:"Stream Access"}),o.jsxs("p",{className:"text-4xl font-bold text-white",children:["$",r.price," ",o.jsx("span",{className:"text-lg text-gray-400",children:"AUD"})]})]}),o.jsxs("form",{onSubmit:se,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Email Address"}),o.jsx("input",{type:"email",value:a,onChange:Oe=>c(Oe.target.value),placeholder:"your@email.com",className:"w-full px-4 py-3 bg-dark-800 border border-dark-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-red-500",required:!0}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Your access link will be sent here"})]}),A&&o.jsx("p",{className:"text-red-500 text-sm",children:A}),o.jsx("button",{type:"submit",disabled:d||!a,className:"w-full py-4 bg-red-500 hover:bg-red-600 disabled:bg-dark-700 disabled:cursor-not-allowed text-white font-bold rounded-lg transition-colors flex items-center justify-center gap-2",children:d?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-white"}),"Processing..."]}):o.jsxs(o.Fragment,{children:[o.jsx(ade,{className:"w-5 h-5"}),Me?"Buy Replay Access":ce?"Watch Now":"Buy Access"]})})]}),o.jsxs("div",{className:"mt-6 space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-400",children:[o.jsx(tl,{className:"w-4 h-4 text-green-500"}),"Instant access after payment"]}),o.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-400",children:[o.jsx(tl,{className:"w-4 h-4 text-green-500"}),"Watch live + replay for 7 days"]}),o.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-400",children:[o.jsx(tl,{className:"w-4 h-4 text-green-500"}),"HD quality streaming"]}),o.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-400",children:[o.jsx(pN,{className:"w-4 h-4 text-green-500"}),"Secure payment via Stripe"]})]}),i.demo_mode&&o.jsx("div",{className:"mt-4 p-3 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:o.jsx("p",{className:"text-yellow-500 text-xs text-center",children:" Demo Mode  No payment required"})})]})})]})})})]})}var tFe=Object.create,ane=Object.defineProperty,rFe=Object.getOwnPropertyDescriptor,nFe=Object.getOwnPropertyNames,iFe=Object.getPrototypeOf,sFe=Object.prototype.hasOwnProperty,one=function(t,e){return function(){return t&&(e=t(t=0)),e}},Mh=function(t,e){return function(){return e||t((e={exports:{}}).exports,e),e.exports}},aFe=function(t,e,r,n){if(e&&typeof e=="object"||typeof e=="function")for(var i=nFe(e),s=0,a=i.length,c;s<a;s++)c=i[s],!sFe.call(t,c)&&c!==r&&ane(t,c,{get:(function(u){return e[u]}).bind(null,c),enumerable:!(n=rFe(e,c))||n.enumerable});return t},Xf=function(t,e,r){return r=t!=null?tFe(iFe(t)):{},aFe(!t||!t.__esModule?ane(r,"default",{value:t,enumerable:!0}):r,t)},zm=Mh(function(t,e){var r;typeof window<"u"?r=window:typeof global<"u"?r=global:typeof self<"u"?r=self:r={},e.exports=r});function yy(t,e){return e!=null&&typeof Symbol<"u"&&e[Symbol.hasInstance]?!!e[Symbol.hasInstance](t):yy(t,e)}var xy=one(function(){xy()});function lne(t){"@swc/helpers - typeof";return t&&typeof Symbol<"u"&&t.constructor===Symbol?"symbol":typeof t}var cne=one(function(){}),une=Mh(function(t,e){var r=Array.prototype.slice;e.exports=n;function n(i,s){for(("length"in i)||(i=[i]),i=r.call(i);i.length;){var a=i.shift(),c=s(a);if(c)return c;a.childNodes&&a.childNodes.length&&(i=r.call(a.childNodes).concat(i))}}}),oFe=Mh(function(t,e){xy(),e.exports=r;function r(n,i){if(!yy(this,r))return new r(n,i);this.data=n,this.nodeValue=n,this.length=n.length,this.ownerDocument=i||null}r.prototype.nodeType=8,r.prototype.nodeName="#comment",r.prototype.toString=function(){return"[object Comment]"}}),lFe=Mh(function(t,e){xy(),e.exports=r;function r(n,i){if(!yy(this,r))return new r(n);this.data=n||"",this.length=this.data.length,this.ownerDocument=i||null}r.prototype.type="DOMTextNode",r.prototype.nodeType=3,r.prototype.nodeName="#text",r.prototype.toString=function(){return this.data},r.prototype.replaceData=function(n,i,s){var a=this.data,c=a.substring(0,n),u=a.substring(n+i,a.length);this.data=c+s+u,this.length=this.data.length}}),dne=Mh(function(t,e){e.exports=r;function r(n){var i=this,s=n.type;n.target||(n.target=i),i.listeners||(i.listeners={});var a=i.listeners[s];if(a)return a.forEach(function(c){n.currentTarget=i,typeof c=="function"?c(n):c.handleEvent(n)});i.parentNode&&i.parentNode.dispatchEvent(n)}}),hne=Mh(function(t,e){e.exports=r;function r(n,i){var s=this;s.listeners||(s.listeners={}),s.listeners[n]||(s.listeners[n]=[]),s.listeners[n].indexOf(i)===-1&&s.listeners[n].push(i)}}),fne=Mh(function(t,e){e.exports=r;function r(n,i){var s=this;if(s.listeners&&s.listeners[n]){var a=s.listeners[n],c=a.indexOf(i);c!==-1&&a.splice(c,1)}}}),cFe=Mh(function(t,e){cne(),e.exports=n;var r=["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"];function n(A){switch(A.nodeType){case 3:return d(A.data);case 8:return"<!--"+A.data+"-->";default:return i(A)}}function i(A){var p=[],v=A.tagName;return A.namespaceURI==="http://www.w3.org/1999/xhtml"&&(v=v.toLowerCase()),p.push("<"+v+l(A)+c(A)),r.indexOf(v)>-1?p.push(" />"):(p.push(">"),A.childNodes.length?p.push.apply(p,A.childNodes.map(n)):A.textContent||A.innerText?p.push(d(A.textContent||A.innerText)):A.innerHTML&&p.push(A.innerHTML),p.push("</"+v+">")),p.join("")}function s(A,p){var v=lne(A[p]);return p==="style"&&Object.keys(A.style).length>0?!0:A.hasOwnProperty(p)&&(v==="string"||v==="boolean"||v==="number")&&p!=="nodeName"&&p!=="className"&&p!=="tagName"&&p!=="textContent"&&p!=="innerText"&&p!=="namespaceURI"&&p!=="innerHTML"}function a(A){if(typeof A=="string")return A;var p="";return Object.keys(A).forEach(function(v){var y=A[v];v=v.replace(/[A-Z]/g,function(x){return"-"+x.toLowerCase()}),p+=v+":"+y+";"}),p}function c(A){var p=A.dataset,v=[];for(var y in p)v.push({name:"data-"+y,value:p[y]});return v.length?u(v):""}function u(A){var p=[];return A.forEach(function(v){var y=v.name,x=v.value;y==="style"&&(x=a(x)),p.push(y+'="'+f(x)+'"')}),p.length?" "+p.join(" "):""}function l(A){var p=[];for(var v in A)s(A,v)&&p.push({name:v,value:A[v]});for(var y in A._attributes)for(var x in A._attributes[y]){var w=A._attributes[y][x],E=(w.prefix?w.prefix+":":"")+x;p.push({name:E,value:w.value})}return A.className&&p.push({name:"class",value:A.className}),p.length?u(p):""}function d(A){var p="";return typeof A=="string"?p=A:A&&(p=A.toString()),p.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function f(A){return d(A).replace(/"/g,"&quot;")}}),Ane=Mh(function(t,e){xy();var r=une(),n=dne(),i=hne(),s=fne(),a=cFe(),c="http://www.w3.org/1999/xhtml";e.exports=u;function u(l,d,f){if(!yy(this,u))return new u(l);var A=f===void 0?c:f||null;this.tagName=A===c?String(l).toUpperCase():l,this.nodeName=this.tagName,this.className="",this.dataset={},this.childNodes=[],this.parentNode=null,this.style={},this.ownerDocument=d||null,this.namespaceURI=A,this._attributes={},this.tagName==="INPUT"&&(this.type="text")}u.prototype.type="DOMElement",u.prototype.nodeType=1,u.prototype.appendChild=function(l){return l.parentNode&&l.parentNode.removeChild(l),this.childNodes.push(l),l.parentNode=this,l},u.prototype.replaceChild=function(l,d){l.parentNode&&l.parentNode.removeChild(l);var f=this.childNodes.indexOf(d);return d.parentNode=null,this.childNodes[f]=l,l.parentNode=this,d},u.prototype.removeChild=function(l){var d=this.childNodes.indexOf(l);return this.childNodes.splice(d,1),l.parentNode=null,l},u.prototype.insertBefore=function(l,d){l.parentNode&&l.parentNode.removeChild(l);var f=d==null?-1:this.childNodes.indexOf(d);return f>-1?this.childNodes.splice(f,0,l):this.childNodes.push(l),l.parentNode=this,l},u.prototype.setAttributeNS=function(l,d,f){var A=null,p=d,v=d.indexOf(":");if(v>-1&&(A=d.substr(0,v),p=d.substr(v+1)),this.tagName==="INPUT"&&d==="type")this.type=f;else{var y=this._attributes[l]||(this._attributes[l]={});y[p]={value:f,prefix:A}}},u.prototype.getAttributeNS=function(l,d){var f=this._attributes[l],A=f&&f[d]&&f[d].value;return this.tagName==="INPUT"&&d==="type"?this.type:typeof A!="string"?null:A},u.prototype.removeAttributeNS=function(l,d){var f=this._attributes[l];f&&delete f[d]},u.prototype.hasAttributeNS=function(l,d){var f=this._attributes[l];return!!f&&d in f},u.prototype.setAttribute=function(l,d){return this.setAttributeNS(null,l,d)},u.prototype.getAttribute=function(l){return this.getAttributeNS(null,l)},u.prototype.removeAttribute=function(l){return this.removeAttributeNS(null,l)},u.prototype.hasAttribute=function(l){return this.hasAttributeNS(null,l)},u.prototype.removeEventListener=s,u.prototype.addEventListener=i,u.prototype.dispatchEvent=n,u.prototype.focus=function(){},u.prototype.toString=function(){return a(this)},u.prototype.getElementsByClassName=function(l){var d=l.split(" "),f=[];return r(this,function(A){if(A.nodeType===1){var p=A.className||"",v=p.split(" ");d.every(function(y){return v.indexOf(y)!==-1})&&f.push(A)}}),f},u.prototype.getElementsByTagName=function(l){l=l.toLowerCase();var d=[];return r(this.childNodes,function(f){f.nodeType===1&&(l==="*"||f.tagName.toLowerCase()===l)&&d.push(f)}),d},u.prototype.contains=function(l){return r(this,function(d){return l===d})||!1}}),uFe=Mh(function(t,e){xy();var r=Ane();e.exports=n;function n(i){if(!yy(this,n))return new n;this.childNodes=[],this.parentNode=null,this.ownerDocument=i||null}n.prototype.type="DocumentFragment",n.prototype.nodeType=11,n.prototype.nodeName="#document-fragment",n.prototype.appendChild=r.prototype.appendChild,n.prototype.replaceChild=r.prototype.replaceChild,n.prototype.removeChild=r.prototype.removeChild,n.prototype.toString=function(){return this.childNodes.map(function(i){return String(i)}).join("")}}),dFe=Mh(function(t,e){e.exports=r;function r(n){}r.prototype.initEvent=function(n,i,s){this.type=n,this.bubbles=i,this.cancelable=s},r.prototype.preventDefault=function(){}}),hFe=Mh(function(t,e){xy();var r=une(),n=oFe(),i=lFe(),s=Ane(),a=uFe(),c=dFe(),u=dne(),l=hne(),d=fne();e.exports=f;function f(){if(!yy(this,f))return new f;this.head=this.createElement("head"),this.body=this.createElement("body"),this.documentElement=this.createElement("html"),this.documentElement.appendChild(this.head),this.documentElement.appendChild(this.body),this.childNodes=[this.documentElement],this.nodeType=9}var A=f.prototype;A.createTextNode=function(p){return new i(p,this)},A.createElementNS=function(p,v){var y=p===null?null:String(p);return new s(v,this,y)},A.createElement=function(p){return new s(p,this)},A.createDocumentFragment=function(){return new a(this)},A.createEvent=function(p){return new c(p)},A.createComment=function(p){return new n(p,this)},A.getElementById=function(p){p=String(p);var v=r(this.childNodes,function(y){if(String(y.id)===p)return y});return v||null},A.getElementsByClassName=s.prototype.getElementsByClassName,A.getElementsByTagName=s.prototype.getElementsByTagName,A.contains=s.prototype.contains,A.removeEventListener=d,A.addEventListener=l,A.dispatchEvent=u}),fFe=Mh(function(t,e){var r=hFe();e.exports=new r}),mne=Mh(function(t,e){var r=typeof global<"u"?global:typeof window<"u"?window:{},n=fFe(),i;typeof document<"u"?i=document:(i=r["__GLOBAL_DOCUMENT_CACHE@4"],i||(i=r["__GLOBAL_DOCUMENT_CACHE@4"]=n)),e.exports=i});function AFe(t){if(Array.isArray(t))return t}function mFe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,s=!1,a,c;try{for(r=r.call(t);!(i=(a=r.next()).done)&&(n.push(a.value),!(e&&n.length===e));i=!0);}catch(u){s=!0,c=u}finally{try{!i&&r.return!=null&&r.return()}finally{if(s)throw c}}return n}}function pFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function pne(t,e){if(t){if(typeof t=="string")return PO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(r);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PO(t,e)}}function Yp(t,e){return AFe(t)||mFe(t,e)||pne(t,e)||pFe()}var Qw=Xf(zm()),Oz=Xf(zm()),gFe=Xf(zm()),vFe={now:function(){var t=gFe.default.performance,e=t&&t.timing,r=e&&e.navigationStart,n=typeof r=="number"&&typeof t.now=="function"?r+t.now():Date.now();return Math.round(n)}},hd=vFe,BE=function(){var t,e,r;if(typeof((t=Oz.default.crypto)===null||t===void 0?void 0:t.getRandomValues)=="function"){r=new Uint8Array(32),Oz.default.crypto.getRandomValues(r);for(var n=0;n<32;n++)r[n]=r[n]%16}else{r=[];for(var i=0;i<32;i++)r[i]=Math.random()*16|0}var s=0;e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(u){var l=u==="x"?r[s]:r[s]&3|8;return s++,l.toString(16)});var a=hd.now(),c=a?.toString(16).substring(3);return c?e.substring(0,28)+c:e},gne=function(){return("000000"+(Math.random()*Math.pow(36,6)<<0).toString(36)).slice(-6)},fA=function(t){if(t&&typeof t.nodeName<"u")return t.muxId||(t.muxId=gne()),t.muxId;var e;try{e=document.querySelector(t)}catch{}return e&&!e.muxId&&(e.muxId=t),e?.muxId||t},Ej=function(t){var e;t&&typeof t.nodeName<"u"?(e=t,t=fA(e)):e=document.querySelector(t);var r=e&&e.nodeName?e.nodeName.toLowerCase():"";return[e,t,r]};function yFe(t){if(Array.isArray(t))return PO(t)}function xFe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function bFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AA(t){return yFe(t)||xFe(t)||pne(t)||bFe()}var wv={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4},wFe=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:3,r,n,i,s,a,c=[console,t],u=(r=console.trace).bind.apply(r,AA(c)),l=(n=console.info).bind.apply(n,AA(c)),d=(i=console.debug).bind.apply(i,AA(c)),f=(s=console.warn).bind.apply(s,AA(c)),A=(a=console.error).bind.apply(a,AA(c)),p=e;return{trace:function(){for(var v=arguments.length,y=new Array(v),x=0;x<v;x++)y[x]=arguments[x];if(!(p>wv.TRACE))return u.apply(void 0,AA(y))},debug:function(){for(var v=arguments.length,y=new Array(v),x=0;x<v;x++)y[x]=arguments[x];if(!(p>wv.DEBUG))return d.apply(void 0,AA(y))},info:function(){for(var v=arguments.length,y=new Array(v),x=0;x<v;x++)y[x]=arguments[x];if(!(p>wv.INFO))return l.apply(void 0,AA(y))},warn:function(){for(var v=arguments.length,y=new Array(v),x=0;x<v;x++)y[x]=arguments[x];if(!(p>wv.WARN))return f.apply(void 0,AA(y))},error:function(){for(var v=arguments.length,y=new Array(v),x=0;x<v;x++)y[x]=arguments[x];if(!(p>wv.ERROR))return A.apply(void 0,AA(y))},get level(){return p},set level(v){v!==this.level&&(p=v??e)}}},ll=wFe("[mux]"),WL=Xf(zm());function RO(){var t=WL.default.doNotTrack||WL.default.navigator&&WL.default.navigator.doNotTrack;return t==="1"}function ms(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}xy();function vu(t,e){if(!yy(t,e))throw new TypeError("Cannot call a class as a function")}function EFe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function PA(t,e,r){return e&&EFe(t.prototype,e),t}function kn(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kb(t){return kb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},kb(t)}function _Fe(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=kb(t),t!==null););return t}function FS(t,e,r){return typeof Reflect<"u"&&Reflect.get?FS=Reflect.get:FS=function(n,i,s){var a=_Fe(n,i);if(a){var c=Object.getOwnPropertyDescriptor(a,i);return c.get?c.get.call(s||n):c.value}},FS(t,e,r||t)}function DO(t,e){return DO=Object.setPrototypeOf||function(r,n){return r.__proto__=n,r},DO(t,e)}function SFe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&DO(t,e)}function TFe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function CFe(t,e){if(t==null)return{};var r=TFe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function jFe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}cne();function NFe(t,e){return e&&(lne(e)==="object"||typeof e=="function")?e:ms(t)}function kFe(t){var e=jFe();return function(){var r=kb(t),n;if(e){var i=kb(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return NFe(this,n)}}var EA=function(t){return OE(t)[0]},OE=function(t){if(typeof t!="string"||t==="")return["localhost"];var e=/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,r=t.match(e)||[],n=r[4],i;return n&&(i=(n.match(/[^\.]+\.[^\.]+$/)||[])[0]),[n,i]},YL=Xf(zm()),IFe={exists:function(){var t=YL.default.performance,e=t&&t.timing;return e!==void 0},domContentLoadedEventEnd:function(){var t=YL.default.performance,e=t&&t.timing;return e&&e.domContentLoadedEventEnd},navigationStart:function(){var t=YL.default.performance,e=t&&t.timing;return e&&e.navigationStart}},_j=IFe;function Fu(t,e,r){r=r===void 0?1:r,t[e]=t[e]||0,t[e]+=r}function Sj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){kn(t,i,r[i])})}return t}function LFe(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r.push.apply(r,n)}return r}function zM(t,e){return e=e??{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):LFe(Object(e)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}),t}var BFe=["x-cdn","content-type"],vne=["x-request-id","cf-ray","x-amz-cf-id","x-akamai-request-id"],OFe=BFe.concat(vne);function KM(t){t=t||"";var e={},r=t.trim().split(/[\r\n]+/);return r.forEach(function(n){if(n){var i=n.split(": "),s=i.shift();s&&(OFe.indexOf(s.toLowerCase())>=0||s.toLowerCase().indexOf("x-litix-")===0)&&(e[s]=i.join(": "))}}),e}function Tj(t){if(t){var e=vne.find(function(r){return t[r]!==void 0});return e?t[e]:void 0}}var PFe=function(t){var e={};for(var r in t){var n=t[r],i=n["DATA-ID"].search("io.litix.data.");if(i!==-1){var s=n["DATA-ID"].replace("io.litix.data.","");e[s]=n.VALUE}}return e},yne=PFe,V2=function(t){if(!t)return{};var e=_j.navigationStart(),r=t.loading,n=r?r.start:t.trequest,i=r?r.first:t.tfirst,s=r?r.end:t.tload;return{bytesLoaded:t.total,requestStart:Math.round(e+n),responseStart:Math.round(e+i),responseEnd:Math.round(e+s)}},U1=function(t){if(!(!t||typeof t.getAllResponseHeaders!="function"))return KM(t.getAllResponseHeaders())},RFe=function(t,e,r){var n=arguments.length>4?arguments[4]:void 0,i=t.log,s=t.utils.secondsToMs,a=function(x){var w=parseInt(n.version),E;return w===1&&x.programDateTime!==null&&(E=x.programDateTime),w===0&&x.pdt!==null&&(E=x.pdt),E};if(!_j.exists()){i.warn("performance timing not supported. Not tracking HLS.js.");return}var c=function(x,w){return t.emit(e,x,w)},u=function(x,w){var E=w.levels,T=w.audioTracks,C=w.url,j=w.stats,P=w.networkDetails,U=w.sessionData,W={},q={};E.forEach(function(ge,se){W[se]={width:ge.width,height:ge.height,bitrate:ge.bitrate,attrs:ge.attrs}}),T.forEach(function(ge,se){q[se]={name:ge.name,language:ge.lang,bitrate:ge.bitrate}});var re=V2(j),ie=re.bytesLoaded,Ae=re.requestStart,be=re.responseStart,Ee=re.responseEnd;c("requestcompleted",zM(Sj({},yne(U)),{request_event_type:x,request_bytes_loaded:ie,request_start:Ae,request_response_start:be,request_response_end:Ee,request_type:"manifest",request_hostname:EA(C),request_response_headers:U1(P),request_rendition_lists:{media:W,audio:q,video:{}}}))};r.on(n.Events.MANIFEST_LOADED,u);var l=function(x,w){var E=w.details,T=w.level,C=w.networkDetails,j=w.stats,P=V2(j),U=P.bytesLoaded,W=P.requestStart,q=P.responseStart,re=P.responseEnd,ie=E.fragments[E.fragments.length-1],Ae=a(ie)+s(ie.duration);c("requestcompleted",{request_event_type:x,request_bytes_loaded:U,request_start:W,request_response_start:q,request_response_end:re,request_current_level:T,request_type:"manifest",request_hostname:EA(E.url),request_response_headers:U1(C),video_holdback:E.holdBack&&s(E.holdBack),video_part_holdback:E.partHoldBack&&s(E.partHoldBack),video_part_target_duration:E.partTarget&&s(E.partTarget),video_target_duration:E.targetduration&&s(E.targetduration),video_source_is_live:E.live,player_manifest_newest_program_time:isNaN(Ae)?void 0:Ae})};r.on(n.Events.LEVEL_LOADED,l);var d=function(x,w){var E=w.details,T=w.networkDetails,C=w.stats,j=V2(C),P=j.bytesLoaded,U=j.requestStart,W=j.responseStart,q=j.responseEnd;c("requestcompleted",{request_event_type:x,request_bytes_loaded:P,request_start:U,request_response_start:W,request_response_end:q,request_type:"manifest",request_hostname:EA(E.url),request_response_headers:U1(T)})};r.on(n.Events.AUDIO_TRACK_LOADED,d);var f=function(x,w){var E=w.stats,T=w.networkDetails,C=w.frag;E=E||C.stats;var j=V2(E),P=j.bytesLoaded,U=j.requestStart,W=j.responseStart,q=j.responseEnd,re=T?U1(T):void 0,ie={request_event_type:x,request_bytes_loaded:P,request_start:U,request_response_start:W,request_response_end:q,request_hostname:T?EA(T.responseURL):void 0,request_id:re?Tj(re):void 0,request_response_headers:re,request_media_duration:C.duration,request_url:T?.responseURL};C.type==="main"?(ie.request_type="media",ie.request_current_level=C.level,ie.request_video_width=(r.levels[C.level]||{}).width,ie.request_video_height=(r.levels[C.level]||{}).height,ie.request_labeled_bitrate=(r.levels[C.level]||{}).bitrate):ie.request_type=C.type,c("requestcompleted",ie)};r.on(n.Events.FRAG_LOADED,f);var A=function(x,w){var E=w.frag,T=E.start,C=a(E),j={currentFragmentPDT:C,currentFragmentStart:s(T)};c("fragmentchange",j)};r.on(n.Events.FRAG_CHANGED,A);var p=function(x,w){var E=w.type,T=w.details,C=w.response,j=w.fatal,P=w.frag,U=w.networkDetails,W=P?.url||w.url||"",q=U?U1(U):void 0;if((T===n.ErrorDetails.MANIFEST_LOAD_ERROR||T===n.ErrorDetails.MANIFEST_LOAD_TIMEOUT||T===n.ErrorDetails.FRAG_LOAD_ERROR||T===n.ErrorDetails.FRAG_LOAD_TIMEOUT||T===n.ErrorDetails.LEVEL_LOAD_ERROR||T===n.ErrorDetails.LEVEL_LOAD_TIMEOUT||T===n.ErrorDetails.AUDIO_TRACK_LOAD_ERROR||T===n.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT||T===n.ErrorDetails.SUBTITLE_LOAD_ERROR||T===n.ErrorDetails.SUBTITLE_LOAD_TIMEOUT||T===n.ErrorDetails.KEY_LOAD_ERROR||T===n.ErrorDetails.KEY_LOAD_TIMEOUT)&&c("requestfailed",{request_error:T,request_url:W,request_hostname:EA(W),request_id:q?Tj(q):void 0,request_type:T===n.ErrorDetails.FRAG_LOAD_ERROR||T===n.ErrorDetails.FRAG_LOAD_TIMEOUT?"media":T===n.ErrorDetails.AUDIO_TRACK_LOAD_ERROR||T===n.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT?"audio":T===n.ErrorDetails.SUBTITLE_LOAD_ERROR||T===n.ErrorDetails.SUBTITLE_LOAD_TIMEOUT?"subtitle":T===n.ErrorDetails.KEY_LOAD_ERROR||T===n.ErrorDetails.KEY_LOAD_TIMEOUT?"encryption":"manifest",request_error_code:C?.code,request_error_text:C?.text}),j){var re,ie="".concat(W?"url: ".concat(W,`
`):"")+"".concat(C&&(C.code||C.text)?"response: ".concat(C.code,", ").concat(C.text,`
`):"")+"".concat(w.reason?"failure reason: ".concat(w.reason,`
`):"")+"".concat(w.level?"level: ".concat(w.level,`
`):"")+"".concat(w.parent?"parent stream controller: ".concat(w.parent,`
`):"")+"".concat(w.buffer?"buffer length: ".concat(w.buffer,`
`):"")+"".concat(w.error?"error: ".concat(w.error,`
`):"")+"".concat(w.event?"event: ".concat(w.event,`
`):"")+"".concat(w.err?"error message: ".concat((re=w.err)===null||re===void 0?void 0:re.message,`
`):"");c("error",{player_error_code:E,player_error_message:T,player_error_context:ie})}};r.on(n.Events.ERROR,p);var v=function(x,w){var E=w.frag,T=E&&E._url||"";c("requestcanceled",{request_event_type:x,request_url:T,request_type:"media",request_hostname:EA(T)})};r.on(n.Events.FRAG_LOAD_EMERGENCY_ABORTED,v);var y=function(x,w){var E=w.level,T=r.levels[E];if(T&&T.attrs&&T.attrs.BANDWIDTH){var C=T.attrs.BANDWIDTH,j,P=parseFloat(T.attrs["FRAME-RATE"]);isNaN(P)||(j=P),C?c("renditionchange",{video_source_fps:j,video_source_bitrate:C,video_source_width:T.width,video_source_height:T.height,video_source_rendition_name:T.name,video_source_codec:T?.videoCodec}):i.warn("missing BANDWIDTH from HLS manifest parsed by HLS.js")}};r.on(n.Events.LEVEL_SWITCHED,y),r._stopMuxMonitor=function(){r.off(n.Events.MANIFEST_LOADED,u),r.off(n.Events.LEVEL_LOADED,l),r.off(n.Events.AUDIO_TRACK_LOADED,d),r.off(n.Events.FRAG_LOADED,f),r.off(n.Events.FRAG_CHANGED,A),r.off(n.Events.ERROR,p),r.off(n.Events.FRAG_LOAD_EMERGENCY_ABORTED,v),r.off(n.Events.LEVEL_SWITCHED,y),r.off(n.Events.DESTROYING,r._stopMuxMonitor),delete r._stopMuxMonitor},r.on(n.Events.DESTROYING,r._stopMuxMonitor)},DFe=function(t){t&&typeof t._stopMuxMonitor=="function"&&t._stopMuxMonitor()},Pz=function(t,e){if(!t||!t.requestEndDate)return{};var r=EA(t.url),n=t.url,i=t.bytesLoaded,s=new Date(t.requestStartDate).getTime(),a=new Date(t.firstByteDate).getTime(),c=new Date(t.requestEndDate).getTime(),u=isNaN(t.duration)?0:t.duration,l=typeof e.getMetricsFor=="function"?e.getMetricsFor(t.mediaType).HttpList:e.getDashMetrics().getHttpRequests(t.mediaType),d;l.length>0&&(d=KM(l[l.length-1]._responseHeaders||""));var f=d?Tj(d):void 0;return{requestStart:s,requestResponseStart:a,requestResponseEnd:c,requestBytesLoaded:i,requestResponseHeaders:d,requestMediaDuration:u,requestHostname:r,requestUrl:n,requestId:f}},MFe=function(t,e){var r=e.getQualityFor(t),n=e.getCurrentTrackFor(t).bitrateList;return n?{currentLevel:r,renditionWidth:n[r].width||null,renditionHeight:n[r].height||null,renditionBitrate:n[r].bandwidth}:{}},FFe=function(t){var e;return(e=t.match(/.*codecs\*?="(.*)"/))===null||e===void 0?void 0:e[1]},UFe=function(t){try{var e,r,n=(r=t.getVersion)===null||r===void 0||(e=r.call(t))===null||e===void 0?void 0:e.split(".").map(function(i){return parseInt(i)})[0];return n}catch{return!1}},$Fe=function(t,e,r){var n=t.log;if(!r||!r.on){n.warn("Invalid dash.js player reference. Monitoring blocked.");return}var i=UFe(r),s=function(E,T){return t.emit(e,E,T)},a=function(E){var T=E.type,C=E.data,j=(C||{}).url;s("requestcompleted",{request_event_type:T,request_start:0,request_response_start:0,request_response_end:0,request_bytes_loaded:-1,request_type:"manifest",request_hostname:EA(j),request_url:j})};r.on("manifestLoaded",a);var c={},u=function(E){if(typeof E.getRequests!="function")return null;var T=E.getRequests({state:"executed"});return T.length===0?null:T[T.length-1]},l=function(E){var T=E.type,C=E.fragmentModel,j=E.chunk,P=u(C);d({type:T,request:P,chunk:j})},d=function(E){var T=E.type,C=E.chunk,j=E.request,P=(C||{}).mediaInfo,U=P||{},W=U.type,q=U.bitrateList;q=q||[];var re={};q.forEach(function(Oe,we){re[we]={},re[we].width=Oe.width,re[we].height=Oe.height,re[we].bitrate=Oe.bandwidth,re[we].attrs={}}),W==="video"?c.video=re:W==="audio"?c.audio=re:c.media=re;var ie=Pz(j,r),Ae=ie.requestStart,be=ie.requestResponseStart,Ee=ie.requestResponseEnd,ge=ie.requestResponseHeaders,se=ie.requestMediaDuration,xe=ie.requestHostname,ce=ie.requestUrl,Me=ie.requestId;s("requestcompleted",{request_event_type:T,request_start:Ae,request_response_start:be,request_response_end:Ee,request_bytes_loaded:-1,request_type:W+"_init",request_response_headers:ge,request_hostname:xe,request_id:Me,request_url:ce,request_media_duration:se,request_rendition_lists:c})};i>=4?r.on("initFragmentLoaded",d):r.on("initFragmentLoaded",l);var f=function(E){var T=E.type,C=E.fragmentModel,j=E.chunk,P=u(C);A({type:T,request:P,chunk:j})},A=function(E){var T=E.type,C=E.chunk,j=E.request,P=C||{},U=P.mediaInfo,W=P.start,q=U||{},re=q.type,ie=Pz(j,r),Ae=ie.requestStart,be=ie.requestResponseStart,Ee=ie.requestResponseEnd,ge=ie.requestBytesLoaded,se=ie.requestResponseHeaders,xe=ie.requestMediaDuration,ce=ie.requestHostname,Me=ie.requestUrl,Oe=ie.requestId,we=MFe(re,r),ue=we.currentLevel,ye=we.renditionWidth,Le=we.renditionHeight,He=we.renditionBitrate;s("requestcompleted",{request_event_type:T,request_start:Ae,request_response_start:be,request_response_end:Ee,request_bytes_loaded:ge,request_type:re,request_response_headers:se,request_hostname:ce,request_id:Oe,request_url:Me,request_media_start_time:W,request_media_duration:xe,request_current_level:ue,request_labeled_bitrate:He,request_video_width:ye,request_video_height:Le})};i>=4?r.on("mediaFragmentLoaded",A):r.on("mediaFragmentLoaded",f);var p={video:void 0,audio:void 0,totalBitrate:void 0},v=function(){if(p.video&&typeof p.video.bitrate=="number"){if(!(p.video.width&&p.video.height)){n.warn("have bitrate info for video but missing width/height");return}var E=p.video.bitrate;if(p.audio&&typeof p.audio.bitrate=="number"&&(E+=p.audio.bitrate),E!==p.totalBitrate)return p.totalBitrate=E,{video_source_bitrate:E,video_source_height:p.video.height,video_source_width:p.video.width,video_source_codec:FFe(p.video.codec)}}},y=function(E,T,C){if(typeof E.newQuality!="number"){n.warn("missing evt.newQuality in qualityChangeRendered event",E);return}var j=E.mediaType;if(j==="audio"||j==="video"){var P=r.getBitrateInfoListFor(j).find(function(W){var q=W.qualityIndex;return q===E.newQuality});if(!(P&&typeof P.bitrate=="number")){n.warn("missing bitrate info for ".concat(j));return}p[j]=zM(Sj({},P),{codec:r.getCurrentTrackFor(j).codec});var U=v();U&&s("renditionchange",U)}};r.on("qualityChangeRendered",y);var x=function(E){var T=E.request,C=E.mediaType;T=T||{},s("requestcanceled",{request_event_type:T.type+"_"+T.action,request_url:T.url,request_type:C,request_hostname:EA(T.url)})};r.on("fragmentLoadingAbandoned",x);var w=function(E){var T=E.error,C,j,P=(T==null||(C=T.data)===null||C===void 0?void 0:C.request)||{},U=(T==null||(j=T.data)===null||j===void 0?void 0:j.response)||{};T?.code===27&&s("requestfailed",{request_error:P.type+"_"+P.action,request_url:P.url,request_hostname:EA(P.url),request_type:P.mediaType,request_error_code:U.status,request_error_text:U.statusText});var W="".concat(P!=null&&P.url?"url: ".concat(P.url,`
`):"")+"".concat(U!=null&&U.status||U!=null&&U.statusText?"response: ".concat(U?.status,", ").concat(U?.statusText,`
`):"");s("error",{player_error_code:T?.code,player_error_message:T?.message,player_error_context:W})};r.on("error",w),r._stopMuxMonitor=function(){r.off("manifestLoaded",a),r.off("initFragmentLoaded",d),r.off("mediaFragmentLoaded",A),r.off("qualityChangeRendered",y),r.off("error",w),r.off("fragmentLoadingAbandoned",x),delete r._stopMuxMonitor}},HFe=function(t){t&&typeof t._stopMuxMonitor=="function"&&t._stopMuxMonitor()},Rz=0,QFe=(function(){function t(){vu(this,t),kn(this,"_listeners",void 0)}return PA(t,[{key:"on",value:function(e,r,n){return r._eventEmitterGuid=r._eventEmitterGuid||++Rz,this._listeners=this._listeners||{},this._listeners[e]=this._listeners[e]||[],n&&(r=r.bind(n)),this._listeners[e].push(r),r}},{key:"off",value:function(e,r){var n=this._listeners&&this._listeners[e];n&&n.forEach(function(i,s){i._eventEmitterGuid===r._eventEmitterGuid&&n.splice(s,1)})}},{key:"one",value:function(e,r,n){var i=this;r._eventEmitterGuid=r._eventEmitterGuid||++Rz;var s=function(){i.off(e,s),r.apply(n||this,arguments)};s._eventEmitterGuid=r._eventEmitterGuid,this.on(e,s)}},{key:"emit",value:function(e,r){var n=this;if(this._listeners){r=r||{};var i=this._listeners["before"+e]||[],s=this._listeners["before*"]||[],a=this._listeners[e]||[],c=this._listeners["after"+e]||[],u=function(l,d){l=l.slice(),l.forEach(function(f){f.call(n,{type:e},d)})};u(i,r),u(s,r),u(a,r),u(c,r)}}}]),t})(),VFe=QFe,qL=Xf(zm()),zFe=(function(){function t(e){var r=this;vu(this,t),kn(this,"_playbackHeartbeatInterval",void 0),kn(this,"_playheadShouldBeProgressing",void 0),kn(this,"pm",void 0),this.pm=e,this._playbackHeartbeatInterval=null,this._playheadShouldBeProgressing=!1,e.on("playing",function(){r._playheadShouldBeProgressing=!0}),e.on("play",this._startPlaybackHeartbeatInterval.bind(this)),e.on("playing",this._startPlaybackHeartbeatInterval.bind(this)),e.on("adbreakstart",this._startPlaybackHeartbeatInterval.bind(this)),e.on("adplay",this._startPlaybackHeartbeatInterval.bind(this)),e.on("adplaying",this._startPlaybackHeartbeatInterval.bind(this)),e.on("devicewake",this._startPlaybackHeartbeatInterval.bind(this)),e.on("viewstart",this._startPlaybackHeartbeatInterval.bind(this)),e.on("rebufferstart",this._startPlaybackHeartbeatInterval.bind(this)),e.on("pause",this._stopPlaybackHeartbeatInterval.bind(this)),e.on("ended",this._stopPlaybackHeartbeatInterval.bind(this)),e.on("viewend",this._stopPlaybackHeartbeatInterval.bind(this)),e.on("error",this._stopPlaybackHeartbeatInterval.bind(this)),e.on("aderror",this._stopPlaybackHeartbeatInterval.bind(this)),e.on("adpause",this._stopPlaybackHeartbeatInterval.bind(this)),e.on("adended",this._stopPlaybackHeartbeatInterval.bind(this)),e.on("adbreakend",this._stopPlaybackHeartbeatInterval.bind(this)),e.on("seeked",function(){e.data.player_is_paused?r._stopPlaybackHeartbeatInterval():r._startPlaybackHeartbeatInterval()}),e.on("timeupdate",function(){r._playbackHeartbeatInterval!==null&&e.emit("playbackheartbeat")}),e.on("devicesleep",function(n,i){r._playbackHeartbeatInterval!==null&&(qL.default.clearInterval(r._playbackHeartbeatInterval),e.emit("playbackheartbeatend",{viewer_time:i.viewer_time}),r._playbackHeartbeatInterval=null)})}return PA(t,[{key:"_startPlaybackHeartbeatInterval",value:function(){var e=this;this._playbackHeartbeatInterval===null&&(this.pm.emit("playbackheartbeat"),this._playbackHeartbeatInterval=qL.default.setInterval(function(){e.pm.emit("playbackheartbeat")},this.pm.playbackHeartbeatTime))}},{key:"_stopPlaybackHeartbeatInterval",value:function(){this._playheadShouldBeProgressing=!1,this._playbackHeartbeatInterval!==null&&(qL.default.clearInterval(this._playbackHeartbeatInterval),this.pm.emit("playbackheartbeatend"),this._playbackHeartbeatInterval=null)}}]),t})(),KFe=zFe,GFe=function t(e){var r=this;vu(this,t),kn(this,"viewErrored",void 0),e.on("viewinit",function(){r.viewErrored=!1}),e.on("error",function(n,i){try{var s=e.errorTranslator({player_error_code:i.player_error_code,player_error_message:i.player_error_message,player_error_context:i.player_error_context,player_error_severity:i.player_error_severity,player_error_business_exception:i.player_error_business_exception});s&&(e.data.player_error_code=s.player_error_code||i.player_error_code,e.data.player_error_message=s.player_error_message||i.player_error_message,e.data.player_error_context=s.player_error_context||i.player_error_context,e.data.player_error_severity=s.player_error_severity||i.player_error_severity,e.data.player_error_business_exception=s.player_error_business_exception||i.player_error_business_exception,r.viewErrored=!0)}catch(a){e.mux.log.warn("Exception in error translator callback.",a),r.viewErrored=!0}}),e.on("aftererror",function(){var n,i,s,a,c;(n=e.data)===null||n===void 0||delete n.player_error_code,(i=e.data)===null||i===void 0||delete i.player_error_message,(s=e.data)===null||s===void 0||delete s.player_error_context,(a=e.data)===null||a===void 0||delete a.player_error_severity,(c=e.data)===null||c===void 0||delete c.player_error_business_exception})},WFe=GFe,YFe=(function(){function t(e){vu(this,t),kn(this,"_watchTimeTrackerLastCheckedTime",void 0),kn(this,"pm",void 0),this.pm=e,this._watchTimeTrackerLastCheckedTime=null,e.on("playbackheartbeat",this._updateWatchTime.bind(this)),e.on("playbackheartbeatend",this._clearWatchTimeState.bind(this))}return PA(t,[{key:"_updateWatchTime",value:function(e,r){var n=r.viewer_time;this._watchTimeTrackerLastCheckedTime===null&&(this._watchTimeTrackerLastCheckedTime=n),Fu(this.pm.data,"view_watch_time",n-this._watchTimeTrackerLastCheckedTime),this._watchTimeTrackerLastCheckedTime=n}},{key:"_clearWatchTimeState",value:function(e,r){this._updateWatchTime(e,r),this._watchTimeTrackerLastCheckedTime=null}}]),t})(),qFe=YFe,XFe=(function(){function t(e){var r=this;vu(this,t),kn(this,"_playbackTimeTrackerLastPlayheadPosition",void 0),kn(this,"_lastTime",void 0),kn(this,"_isAdPlaying",void 0),kn(this,"_callbackUpdatePlaybackTime",void 0),kn(this,"pm",void 0),this.pm=e,this._playbackTimeTrackerLastPlayheadPosition=-1,this._lastTime=hd.now(),this._isAdPlaying=!1,this._callbackUpdatePlaybackTime=null,e.on("viewinit",function(){r.pm.data.view_playing_time_ms_cumulative=0});var n=this._startPlaybackTimeTracking.bind(this);e.on("playing",n),e.on("adplaying",n),e.on("seeked",n),e.on("rebufferend",n);var i=this._stopPlaybackTimeTracking.bind(this);e.on("playbackheartbeatend",i),e.on("seeking",i),e.on("rebufferstart",i),e.on("adplaying",function(){r._isAdPlaying=!0}),e.on("adended",function(){r._isAdPlaying=!1}),e.on("adpause",function(){r._isAdPlaying=!1}),e.on("adbreakstart",function(){r._isAdPlaying=!1}),e.on("adbreakend",function(){r._isAdPlaying=!1}),e.on("adplay",function(){r._isAdPlaying=!1}),e.on("viewinit",function(){r._playbackTimeTrackerLastPlayheadPosition=-1,r._lastTime=hd.now(),r._isAdPlaying=!1,r._callbackUpdatePlaybackTime=null})}return PA(t,[{key:"_startPlaybackTimeTracking",value:function(){this._callbackUpdatePlaybackTime===null&&(this._callbackUpdatePlaybackTime=this._updatePlaybackTime.bind(this),this._playbackTimeTrackerLastPlayheadPosition=this.pm.data.player_playhead_time,this._lastTime=hd.now(),this.pm.on("playbackheartbeat",this._callbackUpdatePlaybackTime))}},{key:"_stopPlaybackTimeTracking",value:function(){this._callbackUpdatePlaybackTime&&(this._updatePlaybackTime(),this.pm.off("playbackheartbeat",this._callbackUpdatePlaybackTime),this._callbackUpdatePlaybackTime=null,this._playbackTimeTrackerLastPlayheadPosition=-1)}},{key:"_updatePlaybackTime",value:function(){var e=this.pm.data.player_playhead_time||0,r=hd.now(),n=r-this._lastTime,i=-1;this._playbackTimeTrackerLastPlayheadPosition>=0&&e>this._playbackTimeTrackerLastPlayheadPosition?i=e-this._playbackTimeTrackerLastPlayheadPosition:this._isAdPlaying&&(i=n),i>0&&i<=1e3&&Fu(this.pm.data,"view_content_playback_time",i),this._callbackUpdatePlaybackTime!==null&&n>0&&n<=1e3&&(this._isAdPlaying&&Fu(this.pm.data,"ad_playing_time_ms_cumulative",n),Fu(this.pm.data,"view_playing_time_ms_cumulative",n)),this._playbackTimeTrackerLastPlayheadPosition=e,this._lastTime=r}}]),t})(),ZFe=XFe,JFe=(function(){function t(e){vu(this,t),kn(this,"pm",void 0),this.pm=e;var r=this._updatePlayheadTime.bind(this);e.on("playbackheartbeat",r),e.on("playbackheartbeatend",r),e.on("timeupdate",r),e.on("destroy",function(){e.off("timeupdate",r)})}return PA(t,[{key:"_updateMaxPlayheadPosition",value:function(){this.pm.data.view_max_playhead_position=typeof this.pm.data.view_max_playhead_position>"u"?this.pm.data.player_playhead_time:Math.max(this.pm.data.view_max_playhead_position,this.pm.data.player_playhead_time)}},{key:"_updatePlayheadTime",value:function(e,r){var n=this,i=function(){n.pm.currentFragmentPDT&&n.pm.currentFragmentStart&&(n.pm.data.player_program_time=n.pm.currentFragmentPDT+n.pm.data.player_playhead_time-n.pm.currentFragmentStart)};if(r&&r.player_playhead_time)this.pm.data.player_playhead_time=r.player_playhead_time,i(),this._updateMaxPlayheadPosition();else if(this.pm.getPlayheadTime){var s=this.pm.getPlayheadTime();typeof s<"u"&&(this.pm.data.player_playhead_time=s,i(),this._updateMaxPlayheadPosition())}}}]),t})(),eUe=JFe,Dz=300*1e3,tUe=function t(e){if(vu(this,t),!e.disableRebufferTracking){var r,n=function(s,a){i(a),r=void 0},i=function(s){if(r){var a=s.viewer_time-r;Fu(e.data,"view_rebuffer_duration",a),r=s.viewer_time,e.data.view_rebuffer_duration>Dz&&(e.emit("viewend"),e.send("viewend"),e.mux.log.warn("Ending view after rebuffering for longer than ".concat(Dz,"ms, future events will be ignored unless a programchange or videochange occurs.")))}e.data.view_watch_time>=0&&e.data.view_rebuffer_count>0&&(e.data.view_rebuffer_frequency=e.data.view_rebuffer_count/e.data.view_watch_time,e.data.view_rebuffer_percentage=e.data.view_rebuffer_duration/e.data.view_watch_time)};e.on("playbackheartbeat",function(s,a){return i(a)}),e.on("rebufferstart",function(s,a){r||(Fu(e.data,"view_rebuffer_count",1),r=a.viewer_time,e.one("rebufferend",n))}),e.on("viewinit",function(){r=void 0,e.off("rebufferend",n)})}},rUe=tUe,nUe=(function(){function t(e){var r=this;vu(this,t),kn(this,"_lastCheckedTime",void 0),kn(this,"_lastPlayheadTime",void 0),kn(this,"_lastPlayheadTimeUpdatedTime",void 0),kn(this,"_rebuffering",void 0),kn(this,"pm",void 0),this.pm=e,!(e.disableRebufferTracking||e.disablePlayheadRebufferTracking)&&(this._lastCheckedTime=null,this._lastPlayheadTime=null,this._lastPlayheadTimeUpdatedTime=null,e.on("playbackheartbeat",this._checkIfRebuffering.bind(this)),e.on("playbackheartbeatend",this._cleanupRebufferTracker.bind(this)),e.on("seeking",function(){r._cleanupRebufferTracker(null,{viewer_time:hd.now()})}))}return PA(t,[{key:"_checkIfRebuffering",value:function(e,r){if(this.pm.seekingTracker.isSeeking||this.pm.adTracker.isAdBreak||!this.pm.playbackHeartbeat._playheadShouldBeProgressing){this._cleanupRebufferTracker(e,r);return}if(this._lastCheckedTime===null){this._prepareRebufferTrackerState(r.viewer_time);return}if(this._lastPlayheadTime!==this.pm.data.player_playhead_time){this._cleanupRebufferTracker(e,r,!0);return}var n=r.viewer_time-this._lastPlayheadTimeUpdatedTime;typeof this.pm.sustainedRebufferThreshold=="number"&&n>=this.pm.sustainedRebufferThreshold&&(this._rebuffering||(this._rebuffering=!0,this.pm.emit("rebufferstart",{viewer_time:this._lastPlayheadTimeUpdatedTime}))),this._lastCheckedTime=r.viewer_time}},{key:"_clearRebufferTrackerState",value:function(){this._lastCheckedTime=null,this._lastPlayheadTime=null,this._lastPlayheadTimeUpdatedTime=null}},{key:"_prepareRebufferTrackerState",value:function(e){this._lastCheckedTime=e,this._lastPlayheadTime=this.pm.data.player_playhead_time,this._lastPlayheadTimeUpdatedTime=e}},{key:"_cleanupRebufferTracker",value:function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(this._rebuffering)this._rebuffering=!1,this.pm.emit("rebufferend",{viewer_time:r.viewer_time});else{if(this._lastCheckedTime===null)return;var i=this.pm.data.player_playhead_time-this._lastPlayheadTime,s=r.viewer_time-this._lastPlayheadTimeUpdatedTime;typeof this.pm.minimumRebufferDuration=="number"&&i>0&&s-i>this.pm.minimumRebufferDuration&&(this._lastCheckedTime=null,this.pm.emit("rebufferstart",{viewer_time:this._lastPlayheadTimeUpdatedTime}),this.pm.emit("rebufferend",{viewer_time:this._lastPlayheadTimeUpdatedTime+s-i}))}n?this._prepareRebufferTrackerState(r.viewer_time):this._clearRebufferTrackerState()}}]),t})(),iUe=nUe,sUe=(function(){function t(e){var r=this;vu(this,t),kn(this,"pm",void 0),this.pm=e,e.on("viewinit",function(){var n=e.data,i=n.view_id;if(!n.view_program_changed){var s=function(a,c){var u=c.viewer_time;(a.type==="playing"&&typeof e.data.view_time_to_first_frame>"u"||a.type==="adplaying"&&(typeof e.data.view_time_to_first_frame>"u"||r._inPrerollPosition()))&&r.calculateTimeToFirstFrame(u||hd.now(),i)};e.one("playing",s),e.one("adplaying",s),e.one("viewend",function(){e.off("playing",s),e.off("adplaying",s)})}})}return PA(t,[{key:"_inPrerollPosition",value:function(){return typeof this.pm.data.view_content_playback_time>"u"||this.pm.data.view_content_playback_time<=1e3}},{key:"calculateTimeToFirstFrame",value:function(e,r){r===this.pm.data.view_id&&(this.pm.watchTimeTracker._updateWatchTime(null,{viewer_time:e}),this.pm.data.view_time_to_first_frame=this.pm.data.view_watch_time,(this.pm.data.player_autoplay_on||this.pm.data.video_is_autoplay)&&this.pm.pageLoadInitTime&&(this.pm.data.view_aggregate_startup_time=this.pm.data.view_start+this.pm.data.view_watch_time-this.pm.pageLoadInitTime))}}]),t})(),aUe=sUe,oUe=function t(e){var r=this;vu(this,t),kn(this,"_lastPlayerHeight",void 0),kn(this,"_lastPlayerWidth",void 0),kn(this,"_lastPlayheadPosition",void 0),kn(this,"_lastSourceHeight",void 0),kn(this,"_lastSourceWidth",void 0),e.on("viewinit",function(){r._lastPlayheadPosition=-1});var n=["pause","rebufferstart","seeking","error","adbreakstart","hb","renditionchange","orientationchange","viewend","playbackmodechange"],i=["playing","hb","renditionchange","orientationchange","playbackmodechange"];n.forEach(function(s){e.on(s,function(){if(r._lastPlayheadPosition>=0&&e.data.player_playhead_time>=0&&r._lastPlayerWidth>=0&&r._lastSourceWidth>0&&r._lastPlayerHeight>=0&&r._lastSourceHeight>0){var a=e.data.player_playhead_time-r._lastPlayheadPosition;if(a<0){r._lastPlayheadPosition=-1;return}var c=Math.min(r._lastPlayerWidth/r._lastSourceWidth,r._lastPlayerHeight/r._lastSourceHeight),u=Math.max(0,c-1),l=Math.max(0,1-c);e.data.view_max_upscale_percentage=Math.max(e.data.view_max_upscale_percentage||0,u),e.data.view_max_downscale_percentage=Math.max(e.data.view_max_downscale_percentage||0,l),Fu(e.data,"view_total_content_playback_time",a),Fu(e.data,"view_total_upscaling",u*a),Fu(e.data,"view_total_downscaling",l*a)}r._lastPlayheadPosition=-1})}),i.forEach(function(s){e.on(s,function(){r._lastPlayheadPosition=e.data.player_playhead_time,r._lastPlayerWidth=e.data.player_width,r._lastPlayerHeight=e.data.player_height,r._lastSourceWidth=e.data.video_source_width,r._lastSourceHeight=e.data.video_source_height})})},lUe=oUe,cUe=2e3,uUe=function t(e){var r=this;vu(this,t),kn(this,"isSeeking",void 0),this.isSeeking=!1;var n=-1,i=function(){var s=hd.now(),a=(e.data.viewer_time||s)-(n||s);Fu(e.data,"view_seek_duration",a),e.data.view_max_seek_time=Math.max(e.data.view_max_seek_time||0,a),r.isSeeking=!1,n=-1};e.on("seeking",function(s,a){if(Object.assign(e.data,a),r.isSeeking&&a.viewer_time-n<=cUe){n=a.viewer_time;return}r.isSeeking&&i(),r.isSeeking=!0,n=a.viewer_time,Fu(e.data,"view_seek_count",1),e.send("seeking")}),e.on("seeked",function(){i()}),e.on("viewend",function(){r.isSeeking&&(i(),e.send("seeked")),r.isSeeking=!1,n=-1})},dUe=uUe,Mz=function(t,e){t.push(e),t.sort(function(r,n){return r.viewer_time-n.viewer_time})},hUe=["adbreakstart","adrequest","adresponse","adplay","adplaying","adpause","adended","adbreakend","aderror","adclicked","adskipped"],fUe=(function(){function t(e){var r=this;vu(this,t),kn(this,"_adHasPlayed",void 0),kn(this,"_adRequests",void 0),kn(this,"_adResponses",void 0),kn(this,"_currentAdRequestNumber",void 0),kn(this,"_currentAdResponseNumber",void 0),kn(this,"_prerollPlayTime",void 0),kn(this,"_wouldBeNewAdPlay",void 0),kn(this,"isAdBreak",void 0),kn(this,"pm",void 0),this.pm=e,e.on("viewinit",function(){r.isAdBreak=!1,r._currentAdRequestNumber=0,r._currentAdResponseNumber=0,r._adRequests=[],r._adResponses=[],r._adHasPlayed=!1,r._wouldBeNewAdPlay=!0,r._prerollPlayTime=void 0}),hUe.forEach(function(i){return e.on(i,r._updateAdData.bind(r))});var n=function(){r.isAdBreak=!1};e.on("adbreakstart",function(){r.isAdBreak=!0}),e.on("play",n),e.on("playing",n),e.on("viewend",n),e.on("adrequest",function(i,s){s=Object.assign({ad_request_id:"generatedAdRequestId"+r._currentAdRequestNumber++},s),Mz(r._adRequests,s),Fu(e.data,"view_ad_request_count"),r.inPrerollPosition()&&(e.data.view_preroll_requested=!0,r._adHasPlayed||Fu(e.data,"view_preroll_request_count"))}),e.on("adresponse",function(i,s){s=Object.assign({ad_request_id:"generatedAdRequestId"+r._currentAdResponseNumber++},s),Mz(r._adResponses,s);var a=r.findAdRequest(s.ad_request_id);a&&Fu(e.data,"view_ad_request_time",Math.max(0,s.viewer_time-a.viewer_time))}),e.on("adplay",function(i,s){r._adHasPlayed=!0,r._wouldBeNewAdPlay&&(r._wouldBeNewAdPlay=!1,Fu(e.data,"view_ad_played_count")),r.inPrerollPosition()&&!e.data.view_preroll_played&&(e.data.view_preroll_played=!0,r._adRequests.length>0&&(e.data.view_preroll_request_time=Math.max(0,s.viewer_time-r._adRequests[0].viewer_time)),e.data.view_start&&(e.data.view_startup_preroll_request_time=Math.max(0,s.viewer_time-e.data.view_start)),r._prerollPlayTime=s.viewer_time)}),e.on("adplaying",function(i,s){r.inPrerollPosition()&&typeof e.data.view_preroll_load_time>"u"&&typeof r._prerollPlayTime<"u"&&(e.data.view_preroll_load_time=s.viewer_time-r._prerollPlayTime,e.data.view_startup_preroll_load_time=s.viewer_time-r._prerollPlayTime)}),e.on("adclicked",function(i,s){r._wouldBeNewAdPlay||Fu(e.data,"view_ad_clicked_count")}),e.on("adskipped",function(i,s){r._wouldBeNewAdPlay||Fu(e.data,"view_ad_skipped_count")}),e.on("adended",function(){r._wouldBeNewAdPlay=!0}),e.on("aderror",function(){r._wouldBeNewAdPlay=!0})}return PA(t,[{key:"inPrerollPosition",value:function(){return typeof this.pm.data.view_content_playback_time>"u"||this.pm.data.view_content_playback_time<=1e3}},{key:"findAdRequest",value:function(e){for(var r=0;r<this._adRequests.length;r++)if(this._adRequests[r].ad_request_id===e)return this._adRequests[r]}},{key:"_updateAdData",value:function(e,r){if(this.inPrerollPosition()){if(!this.pm.data.view_preroll_ad_tag_hostname&&r.ad_tag_url){var n=Yp(OE(r.ad_tag_url),2),i=n[0],s=n[1];this.pm.data.view_preroll_ad_tag_domain=s,this.pm.data.view_preroll_ad_tag_hostname=i}if(!this.pm.data.view_preroll_ad_asset_hostname&&r.ad_asset_url){var a=Yp(OE(r.ad_asset_url),2),c=a[0],u=a[1];this.pm.data.view_preroll_ad_asset_domain=u,this.pm.data.view_preroll_ad_asset_hostname=c}this.pm.data.ad_type="preroll"}this.pm.data.ad_asset_url=r?.ad_asset_url,this.pm.data.ad_tag_url=r?.ad_tag_url,this.pm.data.ad_creative_id=r?.ad_creative_id,this.pm.data.ad_id=r?.ad_id,this.pm.data.ad_universal_id=r?.ad_universal_id,r!=null&&r.ad_type&&(this.pm.data.ad_type=r?.ad_type)}}]),t})(),AUe=fUe,mUe=function t(e){var r=this;vu(this,t),kn(this,"lastWallClockTime",void 0);var n=function(){r.lastWallClockTime=hd.now(),e.on("before*",i)},i=function(s){var a=hd.now(),c=r.lastWallClockTime;r.lastWallClockTime=a,a-c>3e4&&(e.emit("devicesleep",{viewer_time:c}),Object.assign(e.data,{viewer_time:c}),e.send("devicesleep"),e.emit("devicewake",{viewer_time:a}),Object.assign(e.data,{viewer_time:a}),e.send("devicewake"))};e.one("playbackheartbeat",n),e.on("playbackheartbeatend",function(){e.off("before*",i),e.one("playbackheartbeat",n)})},pUe=mUe,XL=Xf(zm()),xne=(function(t){return t()})(function(){var t=function(){for(var r=0,n={};r<arguments.length;r++){var i=arguments[r];for(var s in i)n[s]=i[s]}return n};function e(r){function n(i,s,a){var c;if(typeof document<"u"){if(arguments.length>1){if(a=t({path:"/"},n.defaults,a),typeof a.expires=="number"){var u=new Date;u.setMilliseconds(u.getMilliseconds()+a.expires*864e5),a.expires=u}try{c=JSON.stringify(s),/^[\{\[]/.test(c)&&(s=c)}catch{}return r.write?s=r.write(s,i):s=encodeURIComponent(String(s)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),i=encodeURIComponent(String(i)),i=i.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),i=i.replace(/[\(\)]/g,escape),document.cookie=[i,"=",s,a.expires?"; expires="+a.expires.toUTCString():"",a.path?"; path="+a.path:"",a.domain?"; domain="+a.domain:"",a.secure?"; secure":""].join("")}i||(c={});for(var l=document.cookie?document.cookie.split("; "):[],d=/(%[0-9A-Z]{2})+/g,f=0;f<l.length;f++){var A=l[f].split("="),p=A.slice(1).join("=");p.charAt(0)==='"'&&(p=p.slice(1,-1));try{var v=A[0].replace(d,decodeURIComponent);if(p=r.read?r.read(p,v):r(p,v)||p.replace(d,decodeURIComponent),this.json)try{p=JSON.parse(p)}catch{}if(i===v){c=p;break}i||(c[v]=p)}catch{}}return c}}return n.set=n,n.get=function(i){return n.call(n,i)},n.getJSON=function(){return n.apply({json:!0},[].slice.call(arguments))},n.defaults={},n.remove=function(i,s){n(i,"",t(s,{expires:-1}))},n.withConverter=e,n}return e(function(){})}),bne="muxData",gUe=function(t){return Object.entries(t).map(function(e){var r=Yp(e,2),n=r[0],i=r[1];return"".concat(n,"=").concat(i)}).join("&")},vUe=function(t){return t.split("&").reduce(function(e,r){var n=Yp(r.split("="),2),i=n[0],s=n[1],a=+s,c=s&&a==s?a:s;return e[i]=c,e},{})},wne=function(){var t;try{t=vUe(xne.get(bne)||"")}catch{t={}}return t},Ene=function(t){try{xne.set(bne,gUe(t),{expires:365})}catch{}},yUe=function(){var t=wne();return t.mux_viewer_id=t.mux_viewer_id||BE(),t.msn=t.msn||Math.random(),Ene(t),{mux_viewer_id:t.mux_viewer_id,mux_sample_number:t.msn}},xUe=function(){var t=wne(),e=hd.now();return t.session_start&&(t.sst=t.session_start,delete t.session_start),t.session_id&&(t.sid=t.session_id,delete t.session_id),t.session_expires&&(t.sex=t.session_expires,delete t.session_expires),(!t.sex||t.sex<e)&&(t.sid=BE(),t.sst=e),t.sex=e+1500*1e3,Ene(t),{session_id:t.sid,session_start:t.sst,session_expires:t.sex}};function bUe(t,e){var r=e.beaconCollectionDomain,n=e.beaconDomain;if(r)return"https://"+r;t=t||"inferred";var i=n||"litix.io";return t.match(/^[a-z0-9]+$/)?"https://"+t+"."+i:"https://img.litix.io/a.gif"}var wUe=Xf(zm()),_ne=function(){var t;switch(Sne()){case"cellular":t="cellular";break;case"ethernet":t="wired";break;case"wifi":t="wifi";break;case void 0:break;default:t="other"}return t},Sne=function(){var t=wUe.default.navigator,e=t&&(t.connection||t.mozConnection||t.webkitConnection);return e&&e.type};_ne.getConnectionFromAPI=Sne;var EUe=_ne,_Ue={a:"env",b:"beacon",c:"custom",d:"ad",e:"event",f:"experiment",i:"internal",m:"mux",n:"response",p:"player",q:"request",r:"retry",s:"session",t:"timestamp",u:"viewer",v:"video",w:"page",x:"view",y:"sub"},SUe=Tne(_Ue),TUe={ad:"ad",af:"affiliate",ag:"aggregate",ap:"api",al:"application",ao:"audio",ar:"architecture",as:"asset",au:"autoplay",av:"average",bi:"bitrate",bn:"brand",br:"break",bw:"browser",by:"bytes",bz:"business",ca:"cached",cb:"cancel",cc:"codec",cd:"code",cg:"category",ch:"changed",ci:"client",ck:"clicked",cl:"canceled",cm:"cmcd",cn:"config",co:"count",ce:"counter",cp:"complete",cq:"creator",cr:"creative",cs:"captions",ct:"content",cu:"current",cv:"cumulative",cx:"connection",cz:"context",da:"data",dg:"downscaling",dm:"domain",dn:"cdn",do:"downscale",dr:"drm",dp:"dropped",du:"duration",dv:"device",dy:"dynamic",eb:"enabled",ec:"encoding",ed:"edge",en:"end",eg:"engine",em:"embed",er:"error",ep:"experiments",es:"errorcode",et:"errortext",ee:"event",ev:"events",ex:"expires",ez:"exception",fa:"failed",fi:"first",fm:"family",ft:"format",fp:"fps",fq:"frequency",fr:"frame",fs:"fullscreen",ha:"has",hb:"holdback",he:"headers",ho:"host",hn:"hostname",ht:"height",id:"id",ii:"init",in:"instance",ip:"ip",is:"is",ke:"key",la:"language",lb:"labeled",le:"level",li:"live",ld:"loaded",lo:"load",ls:"lists",lt:"latency",ma:"max",md:"media",me:"message",mf:"manifest",mi:"mime",ml:"midroll",mm:"min",mn:"manufacturer",mo:"model",mp:"mode",ms:"ms",mx:"mux",ne:"newest",nm:"name",no:"number",on:"on",or:"origin",os:"os",pa:"paused",pb:"playback",pd:"producer",pe:"percentage",pf:"played",pg:"program",ph:"playhead",pi:"plugin",pl:"preroll",pn:"playing",po:"poster",pp:"pip",pr:"preload",ps:"position",pt:"part",pv:"previous",py:"property",px:"pop",pz:"plan",ra:"rate",rd:"requested",re:"rebuffer",rf:"rendition",rg:"range",rm:"remote",ro:"ratio",rp:"response",rq:"request",rs:"requests",sa:"sample",sd:"skipped",se:"session",sh:"shift",sk:"seek",sm:"stream",so:"source",sq:"sequence",sr:"series",ss:"status",st:"start",su:"startup",sv:"server",sw:"software",sy:"severity",ta:"tag",tc:"tech",te:"text",tg:"target",th:"throughput",ti:"time",tl:"total",to:"to",tt:"title",ty:"type",ug:"upscaling",un:"universal",up:"upscale",ur:"url",us:"user",va:"variant",vd:"viewed",vi:"video",ve:"version",vw:"view",vr:"viewer",wd:"width",wa:"watch",wt:"waiting"},Fz=Tne(TUe);function Tne(t){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[t[r]]=r);return e}function MO(t){var e={},r={};return Object.keys(t).forEach(function(n){var i=!1;if(t.hasOwnProperty(n)&&t[n]!==void 0){var s=n.split("_"),a=s[0],c=SUe[a];c||(ll.info("Data key word `"+s[0]+"` not expected in "+n),c=a+"_"),s.splice(1).forEach(function(u){u==="url"&&(i=!0),Fz[u]?c+=Fz[u]:Number.isInteger(Number(u))?c+=u:(ll.info("Data key word `"+u+"` not expected in "+n),c+="_"+u+"_")}),i?r[c]=t[n]:e[c]=t[n]}}),Object.assign(e,r)}var Iv=Xf(zm()),CUe=Xf(mne()),jUe={maxBeaconSize:300,maxQueueLength:3600,baseTimeBetweenBeacons:1e4,maxPayloadKBSize:500},NUe=56*1024,kUe=["hb","requestcompleted","requestfailed","requestcanceled"],IUe="https://img.litix.io",ag=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this._beaconUrl=t||IUe,this._eventQueue=[],this._postInFlight=!1,this._resendAfterPost=!1,this._failureCount=0,this._sendTimeout=!1,this._options=Object.assign({},jUe,e)};ag.prototype.queueEvent=function(t,e){var r=Object.assign({},e);return this._eventQueue.length<=this._options.maxQueueLength||t==="eventrateexceeded"?(this._eventQueue.push(r),this._sendTimeout||this._startBeaconSending(),this._eventQueue.length<=this._options.maxQueueLength):!1};ag.prototype.flushEvents=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(t&&this._eventQueue.length===1){this._eventQueue.pop();return}this._eventQueue.length&&this._sendBeaconQueue(),this._startBeaconSending()};ag.prototype.destroy=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.destroyed=!0,t?this._clearBeaconQueue():this.flushEvents(),Iv.default.clearTimeout(this._sendTimeout)};ag.prototype._clearBeaconQueue=function(){var t=this._eventQueue.length>this._options.maxBeaconSize?this._eventQueue.length-this._options.maxBeaconSize:0,e=this._eventQueue.slice(t);t>0&&Object.assign(e[e.length-1],MO({mux_view_message:"event queue truncated"}));var r=this._createPayload(e);Cne(this._beaconUrl,r,!0,function(){})};ag.prototype._sendBeaconQueue=function(){var t=this;if(this._postInFlight){this._resendAfterPost=!0;return}var e=this._eventQueue.slice(0,this._options.maxBeaconSize);this._eventQueue=this._eventQueue.slice(this._options.maxBeaconSize),this._postInFlight=!0;var r=this._createPayload(e),n=hd.now();Cne(this._beaconUrl,r,!1,function(i,s){s?(t._eventQueue=e.concat(t._eventQueue),t._failureCount+=1,ll.info("Error sending beacon: "+s)):t._failureCount=0,t._roundTripTime=hd.now()-n,t._postInFlight=!1,t._resendAfterPost&&(t._resendAfterPost=!1,t._eventQueue.length>0&&t._sendBeaconQueue())})};ag.prototype._getNextBeaconTime=function(){if(!this._failureCount)return this._options.baseTimeBetweenBeacons;var t=Math.pow(2,this._failureCount-1);return t=t*Math.random(),(1+t)*this._options.baseTimeBetweenBeacons};ag.prototype._startBeaconSending=function(){var t=this;Iv.default.clearTimeout(this._sendTimeout),!this.destroyed&&(this._sendTimeout=Iv.default.setTimeout(function(){t._eventQueue.length&&t._sendBeaconQueue(),t._startBeaconSending()},this._getNextBeaconTime()))};ag.prototype._createPayload=function(t){var e=this,r={transmission_timestamp:Math.round(hd.now())};this._roundTripTime&&(r.rtt_ms=Math.round(this._roundTripTime));var n,i,s,a=function(){n=JSON.stringify({metadata:r,events:i||t}),s=n.length/1024},c=function(){return s<=e._options.maxPayloadKBSize};return a(),c()||(ll.info("Payload size is too big ("+s+" kb). Removing unnecessary events."),i=t.filter(function(u){return kUe.indexOf(u.e)===-1}),a()),c()||(ll.info("Payload size still too big ("+s+" kb). Cropping fields.."),i.forEach(function(u){for(var l in u){var d=u[l],f=50*1024;typeof d=="string"&&d.length>f&&(u[l]=d.substring(0,f))}}),a()),n};var LUe=typeof CUe.default.exitPictureInPicture=="function"?function(t){return t.length<=NUe}:function(t){return!1},Cne=function(t,e,r,n){if(r&&navigator&&navigator.sendBeacon&&navigator.sendBeacon(t,e)){n();return}if(Iv.default.fetch){Iv.default.fetch(t,{method:"POST",body:e,headers:{"Content-Type":"text/plain"},keepalive:LUe(e)}).then(function(s){return n(null,s.ok?null:"Error")}).catch(function(s){return n(null,s)});return}if(Iv.default.XMLHttpRequest){var i=new Iv.default.XMLHttpRequest;i.onreadystatechange=function(){if(i.readyState===4)return n(null,i.status!==200?"error":void 0)},i.open("POST",t),i.setRequestHeader("Content-Type","text/plain"),i.send(e);return}n()},BUe=ag,OUe=["env_key","view_id","view_sequence_number","player_sequence_number","beacon_domain","player_playhead_time","viewer_time","mux_api_version","event","video_id","player_instance_id","player_error_code","player_error_message","player_error_context","player_error_severity","player_error_business_exception","view_playing_time_ms_cumulative","ad_playing_time_ms_cumulative"],PUe=["adplay","adplaying","adpause","adfirstquartile","admidpoint","adthirdquartile","adended","adresponse","adrequest"],RUe=["ad_id","ad_creative_id","ad_universal_id"],DUe=["viewstart","error","ended","viewend"],MUe=600*1e3,FUe=(function(){function t(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};vu(this,t);var i,s,a,c,u,l,d,f,A,p,v,y;kn(this,"mux",void 0),kn(this,"envKey",void 0),kn(this,"options",void 0),kn(this,"eventQueue",void 0),kn(this,"sampleRate",void 0),kn(this,"disableCookies",void 0),kn(this,"respectDoNotTrack",void 0),kn(this,"previousBeaconData",void 0),kn(this,"lastEventTime",void 0),kn(this,"rateLimited",void 0),kn(this,"pageLevelData",void 0),kn(this,"viewerData",void 0),this.mux=e,this.envKey=r,this.options=n,this.previousBeaconData=null,this.lastEventTime=0,this.rateLimited=!1,this.eventQueue=new BUe(bUe(this.envKey,this.options));var x;this.sampleRate=(x=this.options.sampleRate)!==null&&x!==void 0?x:1;var w;this.disableCookies=(w=this.options.disableCookies)!==null&&w!==void 0?w:!1;var E;this.respectDoNotTrack=(E=this.options.respectDoNotTrack)!==null&&E!==void 0?E:!1,this.previousBeaconData=null,this.lastEventTime=0,this.rateLimited=!1,this.pageLevelData={mux_api_version:this.mux.API_VERSION,mux_embed:this.mux.NAME,mux_embed_version:this.mux.VERSION,viewer_application_name:(i=this.options.platform)===null||i===void 0?void 0:i.name,viewer_application_version:(s=this.options.platform)===null||s===void 0?void 0:s.version,viewer_application_engine:(a=this.options.platform)===null||a===void 0?void 0:a.layout,viewer_device_name:(c=this.options.platform)===null||c===void 0?void 0:c.product,viewer_device_category:"",viewer_device_manufacturer:(u=this.options.platform)===null||u===void 0?void 0:u.manufacturer,viewer_os_family:(d=this.options.platform)===null||d===void 0||(l=d.os)===null||l===void 0?void 0:l.family,viewer_os_architecture:(A=this.options.platform)===null||A===void 0||(f=A.os)===null||f===void 0?void 0:f.architecture,viewer_os_version:(v=this.options.platform)===null||v===void 0||(p=v.os)===null||p===void 0?void 0:p.version,viewer_connection_type:EUe(),page_url:XL.default===null||XL.default===void 0||(y=XL.default.location)===null||y===void 0?void 0:y.href},this.viewerData=this.disableCookies?{}:yUe()}return PA(t,[{key:"send",value:function(e,r){if(!(!e||!(r!=null&&r.view_id))){if(this.respectDoNotTrack&&RO())return ll.info("Not sending `"+e+"` because Do Not Track is enabled");if(!r||typeof r!="object")return ll.error("A data object was expected in send() but was not provided");var n=this.disableCookies?{}:xUe(),i=zM(Sj({},this.pageLevelData,r,n,this.viewerData),{event:e,env_key:this.envKey});i.user_id&&(i.viewer_user_id=i.user_id,delete i.user_id);var s,a=((s=i.mux_sample_number)!==null&&s!==void 0?s:0)>=this.sampleRate,c=this._deduplicateBeaconData(e,i),u=MO(c);if(this.lastEventTime=this.mux.utils.now(),a)return ll.info("Not sending event due to sample rate restriction",e,i,u);if(this.envKey||ll.info("Missing environment key (envKey) - beacons will be dropped if the video source is not a valid mux video URL",e,i,u),!this.rateLimited)if(ll.info("Sending event",e,i,u),this.rateLimited=!this.eventQueue.queueEvent(e,u),this.mux.WINDOW_UNLOADING&&e==="viewend")this.eventQueue.destroy(!0);else{if(this.mux.WINDOW_HIDDEN&&e==="hb")this.eventQueue.flushEvents(!0);else if(DUe.indexOf(e)>=0){if(e==="error"&&r.player_error_severity==="warning")return;this.eventQueue.flushEvents()}if(this.rateLimited)return i.event="eventrateexceeded",u=MO(i),this.eventQueue.queueEvent(i.event,u),ll.error("Beaconing disabled due to rate limit.")}}}},{key:"destroy",value:function(){this.eventQueue.destroy(!1)}},{key:"_deduplicateBeaconData",value:function(e,r){var n=this,i={},s=r.view_id;if(s==="-1"||e==="viewstart"||e==="viewend"||!this.previousBeaconData||this.mux.utils.now()-this.lastEventTime>=MUe)i=Sj({},r),s&&(this.previousBeaconData=i),s&&e==="viewend"&&(this.previousBeaconData=null);else{var a=e.indexOf("request")===0;Object.entries(r).forEach(function(c){var u=Yp(c,2),l=u[0],d=u[1];n.previousBeaconData&&(d!==n.previousBeaconData[l]||OUe.indexOf(l)>-1||n.objectHasChanged(a,l,d,n.previousBeaconData[l])||n.eventRequiresKey(e,l))&&(i[l]=d,n.previousBeaconData[l]=d)})}return i}},{key:"objectHasChanged",value:function(e,r,n,i){return!e||r.indexOf("request_")!==0?!1:r==="request_response_headers"||typeof n!="object"||typeof i!="object"?!0:Object.keys(n||{}).length!==Object.keys(i||{}).length}},{key:"eventRequiresKey",value:function(e,r){return!!(e==="renditionchange"&&r.indexOf("video_source_")===0||RUe.includes(r)&&PUe.includes(e))}}]),t})(),UUe=function t(e){vu(this,t);var r=0,n=0,i=0,s=0,a=0,c=0,u=0,l=function(A,p){var v=p.request_start,y=p.request_response_start,x=p.request_response_end,w=p.request_bytes_loaded;s++;var E,T;if(y?(E=y-(v??0),T=(x??0)-y):T=(x??0)-(v??0),T>0&&w&&w>0){var C=w/T*8e3;a++,n+=w,i+=T,e.data.view_min_request_throughput=Math.min(e.data.view_min_request_throughput||1/0,C),e.data.view_average_request_throughput=n/i*8e3,e.data.view_request_count=s,E>0&&(r+=E,e.data.view_max_request_latency=Math.max(e.data.view_max_request_latency||0,E),e.data.view_average_request_latency=r/a)}},d=function(A,p){s++,c++,e.data.view_request_count=s,e.data.view_request_failed_count=c},f=function(A,p){s++,u++,e.data.view_request_count=s,e.data.view_request_canceled_count=u};e.on("requestcompleted",l),e.on("requestfailed",d),e.on("requestcanceled",f)},$Ue=UUe,HUe=3600*1e3,QUe=function t(e){var r=this;vu(this,t),kn(this,"_lastEventTime",void 0),e.on("before*",function(n,i){var s=i.viewer_time,a=hd.now(),c=r._lastEventTime;if(r._lastEventTime=a,c&&a-c>HUe){var u=Object.keys(e.data).reduce(function(d,f){return f.indexOf("video_")===0?Object.assign(d,kn({},f,e.data[f])):d},{});e.mux.log.info("Received event after at least an hour inactivity, creating a new view");var l=e.playbackHeartbeat._playheadShouldBeProgressing;e._resetView(Object.assign({viewer_time:s},u)),e.playbackHeartbeat._playheadShouldBeProgressing=l,e.playbackHeartbeat._playheadShouldBeProgressing&&n.type!=="play"&&n.type!=="adbreakstart"&&(e.emit("play",{viewer_time:s}),n.type!=="playing"&&e.emit("playing",{viewer_time:s}))}})},VUe=QUe,zUe=function t(e){vu(this,t);var r=function(c){var u=KUe(c),l=GUe(c);if(u!=null&&!Uz(u,s)&&a<=l){s=u,a=l;var d={video_cdn:u};e.emit("cdnchange",d)}},n=null,i=null,s=null,a=0;e.on("viewinit",function(){n=null,i=null,s=null,a=0}),e.on("beforecdnchange",function(c,u){var l=u?.video_cdn;l&&(typeof u.video_previous_cdn>"u"||u.video_previous_cdn===null)&&(Uz(l,i)?u.video_previous_cdn=n??void 0:(u.video_previous_cdn=i??void 0,n=i,i=l))}),e.on("requestcompleted",function(c,u){r(u)})};function Uz(t,e){return t?.toLowerCase()===e?.toLowerCase()}function KUe(t){var e;return t!=null&&t.request_type&&(t.request_type==="media"||t.request_type==="video")&&!((e=t.request_response_headers)===null||e===void 0)&&e["x-cdn"]?t.request_response_headers["x-cdn"]:t!=null&&t.video_cdn?t.video_cdn:null}function GUe(t){return t!=null&&t.request_start?t.request_start:t!=null&&t.viewer_time?t.viewer_time:Date.now()}var WUe=zUe,YUe=function(t){try{return JSON.parse(t),!0}catch{return!1}},qUe=function t(e){var r=this;vu(this,t),kn(this,"_emittingAutomaticEvent",!1),kn(this,"_hasInitialized",!1),kn(this,"_currentMode","standard"),e.on("viewstart",function(){r._hasInitialized||(r._hasInitialized=!0,r._currentMode=e.data.player_playback_mode||"standard",r._emittingAutomaticEvent=!0,e.emit("playbackmodechange",{player_playback_mode:r._currentMode,player_playback_mode_data:"{}"}),r._emittingAutomaticEvent=!1)}),e.on("viewend",function(){r._hasInitialized=!1}),e.on("playbackmodechange",function(n,i){r._emittingAutomaticEvent||(i.player_playback_mode_data?YUe(i.player_playback_mode_data)||(e.mux.log.warn("Invalid JSON string for player_playback_mode_data"),i.player_playback_mode_data="{}"):i.player_playback_mode_data="{}",e.data.player_playback_mode_data=i.player_playback_mode_data,e.data.player_playback_mode=i.player_playback_mode,r._currentMode=i.player_playback_mode)})},XUe=qUe,ZUe=(function(){function t(e){vu(this,t),kn(this,"pm",void 0),kn(this,"_currentRangeStart",void 0),kn(this,"_lastPlayheadTime",void 0),this.pm=e,this._currentRangeStart=null,this._lastPlayheadTime=null,e.on("playbackheartbeat",this._updatePlaybackRange.bind(this)),e.on("playbackheartbeatend",this._endPlaybackRange.bind(this))}return PA(t,[{key:"_updateLastRangeEnd",value:function(){var e=this.pm.data.video_playback_ranges;if(e&&e.length>0){var r=this.pm.data.player_playhead_time||0;e[e.length-1][1]=r}}},{key:"_updatePlaybackRange",value:function(){var e,r=this.pm.data.player_playhead_time||0;if(!(!this.pm.disableAdPlaybackRangeFiltering&&!((e=this.pm.adTracker)===null||e===void 0)&&e.isAdBreak&&this._lastPlayheadTime!==null&&r<this._lastPlayheadTime)){if(this._lastPlayheadTime!==null&&this._currentRangeStart!==null){var n=Math.abs(r-this._lastPlayheadTime);if(n>1e3){var i=this.pm.data.video_playback_ranges;i&&i.length>0&&(i[i.length-1][1]=this._lastPlayheadTime),this._currentRangeStart=null}}if(this._currentRangeStart===null){var s=this.pm.data.video_playback_ranges||[];s.length>0&&s[s.length-1][1]===r?this._currentRangeStart=s[s.length-1][0]:(this._currentRangeStart=r,s.push([r,r])),this.pm.data.video_playback_ranges=s}else this._updateLastRangeEnd();this._lastPlayheadTime=r}}},{key:"_endPlaybackRange",value:function(){this._currentRangeStart!==null&&(this._updateLastRangeEnd(),this._currentRangeStart=null,this._lastPlayheadTime=null)}}]),t})(),JUe=ZUe,e6e=["viewstart","ended","loadstart","pause","play","playing","ratechange","waiting","adplay","adpause","adended","aderror","adplaying","adrequest","adresponse","adbreakstart","adbreakend","adfirstquartile","admidpoint","adthirdquartile","rebufferstart","rebufferend","seeked","error","hb","requestcompleted","requestfailed","requestcanceled","renditionchange","cdnchange","playbackmodechange"],t6e=new Set(["requestcompleted","requestfailed","requestcanceled"]),r6e=(function(t){SFe(r,t);var e=kFe(r);function r(n,i,s){vu(this,r);var a;a=e.call(this),kn(ms(a),"pageLoadEndTime",void 0),kn(ms(a),"pageLoadInitTime",void 0),kn(ms(a),"_destroyed",void 0),kn(ms(a),"_heartBeatTimeout",void 0),kn(ms(a),"adTracker",void 0),kn(ms(a),"dashjs",void 0),kn(ms(a),"data",void 0),kn(ms(a),"disablePlayheadRebufferTracking",void 0),kn(ms(a),"disableRebufferTracking",void 0),kn(ms(a),"disableAdPlaybackRangeFiltering",void 0),kn(ms(a),"errorTracker",void 0),kn(ms(a),"errorTranslator",void 0),kn(ms(a),"emitTranslator",void 0),kn(ms(a),"getAdData",void 0),kn(ms(a),"getPlayheadTime",void 0),kn(ms(a),"getStateData",void 0),kn(ms(a),"stateDataTranslator",void 0),kn(ms(a),"hlsjs",void 0),kn(ms(a),"id",void 0),kn(ms(a),"longResumeTracker",void 0),kn(ms(a),"minimumRebufferDuration",void 0),kn(ms(a),"mux",void 0),kn(ms(a),"playbackEventDispatcher",void 0),kn(ms(a),"playbackHeartbeat",void 0),kn(ms(a),"playbackHeartbeatTime",void 0),kn(ms(a),"playheadTime",void 0),kn(ms(a),"seekingTracker",void 0),kn(ms(a),"sustainedRebufferThreshold",void 0),kn(ms(a),"watchTimeTracker",void 0),kn(ms(a),"currentFragmentPDT",void 0),kn(ms(a),"currentFragmentStart",void 0),a.pageLoadInitTime=_j.navigationStart(),a.pageLoadEndTime=_j.domContentLoadedEventEnd();var c={debug:!1,minimumRebufferDuration:250,sustainedRebufferThreshold:1e3,playbackHeartbeatTime:25,beaconDomain:"litix.io",sampleRate:1,disableCookies:!1,respectDoNotTrack:!1,disableRebufferTracking:!1,disablePlayheadRebufferTracking:!1,disableAdPlaybackRangeFiltering:!1,errorTranslator:function(A){return A},emitTranslator:function(){for(var A=arguments.length,p=new Array(A),v=0;v<A;v++)p[v]=arguments[v];return p},stateDataTranslator:function(A){return A}};a.mux=n,a.id=i,s!=null&&s.beaconDomain&&a.mux.log.warn("The `beaconDomain` setting has been deprecated in favor of `beaconCollectionDomain`. Please change your integration to use `beaconCollectionDomain` instead of `beaconDomain`."),s=Object.assign(c,s),s.data=s.data||{},s.data.property_key&&(s.data.env_key=s.data.property_key,delete s.data.property_key),ll.level=s.debug?wv.DEBUG:wv.WARN,a.getPlayheadTime=s.getPlayheadTime,a.getStateData=s.getStateData||function(){return{}},a.getAdData=s.getAdData||function(){},a.minimumRebufferDuration=s.minimumRebufferDuration,a.sustainedRebufferThreshold=s.sustainedRebufferThreshold,a.playbackHeartbeatTime=s.playbackHeartbeatTime,a.disableRebufferTracking=s.disableRebufferTracking,a.disableRebufferTracking&&a.mux.log.warn("Disabling rebuffer tracking. This should only be used in specific circumstances as a last resort when your player is known to unreliably track rebuffering."),a.disablePlayheadRebufferTracking=s.disablePlayheadRebufferTracking,a.disableAdPlaybackRangeFiltering=s.disableAdPlaybackRangeFiltering,a.errorTranslator=s.errorTranslator,a.emitTranslator=s.emitTranslator,a.stateDataTranslator=s.stateDataTranslator,a.playbackEventDispatcher=new FUe(n,s.data.env_key,s),a.data={player_instance_id:BE(),mux_sample_rate:s.sampleRate,beacon_domain:s.beaconCollectionDomain||s.beaconDomain},a.data.view_sequence_number=1,a.data.player_sequence_number=1;var u=(function(){typeof this.data.view_start>"u"&&(this.data.view_start=this.mux.utils.now(),this.emit("viewstart"),this.emit("renditionchange"))}).bind(ms(a));if(a.on("viewinit",function(A,p){this._resetVideoData(),this._resetViewData(),this._resetErrorData(),this._updateStateData(),Object.assign(this.data,p),this._initializeViewData(),this.one("play",u),this.one("adbreakstart",u)}),a.on("videochange",function(A,p){this._resetView(p)}),a.on("programchange",function(A,p){this.data.player_is_paused&&this.mux.log.warn("The `programchange` event is intended to be used when the content changes mid playback without the video source changing, however the video is not currently playing. If the video source is changing please use the videochange event otherwise you will lose startup time information."),this._resetView(Object.assign(p,{view_program_changed:!0})),u(),this.emit("play"),this.emit("playing")}),a.on("fragmentchange",function(A,p){this.currentFragmentPDT=p.currentFragmentPDT,this.currentFragmentStart=p.currentFragmentStart}),a.on("destroy",a.destroy),typeof window<"u"&&typeof window.addEventListener=="function"&&typeof window.removeEventListener=="function"){var l=function(){var A=typeof a.data.view_start<"u";a.mux.WINDOW_HIDDEN=document.visibilityState==="hidden",A&&a.mux.WINDOW_HIDDEN&&(a.data.player_is_paused||a.emit("hb"))};window.addEventListener("visibilitychange",l,!1);var d=function(A){A.persisted||a.destroy()};window.addEventListener("pagehide",d,!1),a.on("destroy",function(){window.removeEventListener("visibilitychange",l),window.removeEventListener("pagehide",d)})}a.on("playerready",function(A,p){Object.assign(this.data,p)}),e6e.forEach(function(A){a.on(A,function(p,v){A.indexOf("ad")!==0&&this._updateStateData(),Object.assign(this.data,v),this._sanitizeData()}),a.on("after"+A,function(){(A!=="error"||this.errorTracker.viewErrored)&&this.send(A)})}),a.on("viewend",function(A,p){Object.assign(a.data,p)});var f=function(A){var p=this.mux.utils.now();this.data.player_init_time&&(this.data.player_startup_time=p-this.data.player_init_time),this.pageLoadInitTime=this.data.page_load_init_time||this.pageLoadInitTime,this.pageLoadEndTime=this.data.page_load_end_time||this.pageLoadEndTime,!this.mux.PLAYER_TRACKED&&this.pageLoadInitTime&&(this.mux.PLAYER_TRACKED=!0,(this.data.player_init_time||this.pageLoadEndTime)&&(this.data.page_load_time=Math.min(this.data.player_init_time||1/0,this.pageLoadEndTime||1/0)-this.pageLoadInitTime)),this.send("playerready"),delete this.data.player_startup_time,delete this.data.page_load_time};return a.one("playerready",f),a.longResumeTracker=new VUe(ms(a)),a.errorTracker=new WFe(ms(a)),new pUe(ms(a)),a.seekingTracker=new dUe(ms(a)),a.playheadTime=new eUe(ms(a)),a.playbackHeartbeat=new KFe(ms(a)),new lUe(ms(a)),a.watchTimeTracker=new qFe(ms(a)),new ZFe(ms(a)),new JUe(ms(a)),a.adTracker=new AUe(ms(a)),new iUe(ms(a)),new rUe(ms(a)),new aUe(ms(a)),new $Ue(ms(a)),new WUe(ms(a)),new XUe(ms(a)),s.hlsjs&&a.addHLSJS(s),s.dashjs&&a.addDashJS(s),a.emit("viewinit",s.data),a}return PA(r,[{key:"emit",value:function(n,i){var s,a=Object.assign({viewer_time:this.mux.utils.now()},i),c=[n,a];if(this.emitTranslator)try{c=this.emitTranslator(n,a)}catch(u){this.mux.log.warn("Exception in emit translator callback.",u)}c!=null&&c.length&&(s=FS(kb(r.prototype),"emit",this)).call.apply(s,[this].concat(AA(c)))}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,typeof this.data.view_start<"u"&&(this.emit("viewend"),this.send("viewend")),this.playbackEventDispatcher.destroy(),this.removeHLSJS(),this.removeDashJS(),window.clearTimeout(this._heartBeatTimeout))}},{key:"send",value:function(n){if(this.data.view_id){var i=Object.assign({},this.data),s=["player_program_time","player_manifest_newest_program_time","player_live_edge_program_time","player_program_time","video_holdback","video_part_holdback","video_target_duration","video_part_target_duration"];if(i.video_source_is_live===void 0&&(i.player_source_duration===1/0||i.video_source_duration===1/0?i.video_source_is_live=!0:(i.player_source_duration>0||i.video_source_duration>0)&&(i.video_source_is_live=!1)),i.video_source_is_live||s.forEach(function(l){i[l]=void 0}),i.video_source_url=i.video_source_url||i.player_source_url,i.video_source_url){var a=Yp(OE(i.video_source_url),2),c=a[0],u=a[1];i.video_source_domain=u,i.video_source_hostname=c}delete i.ad_request_id,i.video_playback_ranges&&(i.video_playback_range=JSON.stringify(i.video_playback_ranges.filter(function(l){return l[0]!==l[1]}).map(function(l){return"".concat(l[0],":").concat(l[1])})),delete i.video_playback_ranges),this.playbackEventDispatcher.send(n,i),this.data.view_sequence_number++,this.data.player_sequence_number++,t6e.has(n)||this._restartHeartBeat(),n==="viewend"&&delete this.data.view_id}}},{key:"_resetView",value:function(n){this.emit("viewend"),this.send("viewend"),this.emit("viewinit",n)}},{key:"_updateStateData",value:function(){var n,i=this.getStateData();if(typeof this.stateDataTranslator=="function")try{i=this.stateDataTranslator(i)}catch(a){this.mux.log.warn("Exception in stateDataTranslator translator callback.",a)}if(!((n=this.data)===null||n===void 0)&&n.video_cdn&&i!=null&&i.video_cdn){i.video_cdn;var s=CFe(i,["video_cdn"]);i=s}Object.assign(this.data,i),this.playheadTime._updatePlayheadTime(),this._sanitizeData()}},{key:"_sanitizeData",value:function(){var n=this,i=["player_width","player_height","video_source_width","video_source_height","player_playhead_time","video_source_bitrate"];i.forEach(function(a){var c=parseInt(n.data[a],10);n.data[a]=isNaN(c)?void 0:c});var s=["player_source_url","video_source_url"];s.forEach(function(a){if(n.data[a]){var c=n.data[a].toLowerCase();(c.indexOf("data:")===0||c.indexOf("blob:")===0)&&(n.data[a]="MSE style URL")}})}},{key:"_resetVideoData",value:function(){var n=this;Object.keys(this.data).forEach(function(i){i.indexOf("video_")===0&&delete n.data[i]})}},{key:"_resetViewData",value:function(){var n=this;Object.keys(this.data).forEach(function(i){i.indexOf("view_")===0&&delete n.data[i]}),this.data.view_sequence_number=1}},{key:"_resetErrorData",value:function(){delete this.data.player_error_code,delete this.data.player_error_message,delete this.data.player_error_context,delete this.data.player_error_severity,delete this.data.player_error_business_exception}},{key:"_initializeViewData",value:function(){var n=this,i=this.data.view_id=BE(),s=function(){i===n.data.view_id&&Fu(n.data,"player_view_count",1)};this.data.player_is_paused?this.one("play",s):s()}},{key:"_restartHeartBeat",value:function(){var n=this;window.clearTimeout(this._heartBeatTimeout),this._heartBeatTimeout=window.setTimeout(function(){n.data.player_is_paused||n.emit("hb")},1e4)}},{key:"addHLSJS",value:function(n){if(!n.hlsjs){this.mux.log.warn("You must pass a valid hlsjs instance in order to track it.");return}if(this.hlsjs){this.mux.log.warn("An instance of HLS.js is already being monitored for this player.");return}this.hlsjs=n.hlsjs,RFe(this.mux,this.id,n.hlsjs,{},n.Hls||window.Hls)}},{key:"removeHLSJS",value:function(){this.hlsjs&&(DFe(this.hlsjs),this.hlsjs=void 0)}},{key:"addDashJS",value:function(n){if(!n.dashjs){this.mux.log.warn("You must pass a valid dashjs instance in order to track it.");return}if(this.dashjs){this.mux.log.warn("An instance of Dash.js is already being monitored for this player.");return}this.dashjs=n.dashjs,$Fe(this.mux,this.id,n.dashjs)}},{key:"removeDashJS",value:function(){this.dashjs&&(HFe(this.dashjs),this.dashjs=void 0)}}]),r})(VFe),n6e=r6e,$1=Xf(mne());function ZL(){return $1.default&&!!($1.default.fullscreenElement||$1.default.webkitFullscreenElement||$1.default.mozFullScreenElement||$1.default.msFullscreenElement)}var i6e=["loadstart","pause","play","playing","seeking","seeked","timeupdate","ratechange","stalled","waiting","error","ended"],s6e={1:"MEDIA_ERR_ABORTED",2:"MEDIA_ERR_NETWORK",3:"MEDIA_ERR_DECODE",4:"MEDIA_ERR_SRC_NOT_SUPPORTED"};function a6e(t,e,r){var n=Yp(Ej(e),3),i=n[0],s=n[1],a=n[2],c=t.log,u=t.utils.getComputedStyle,l=t.utils.secondsToMs,d={automaticErrorTracking:!0};if(i){if(a!=="video"&&a!=="audio")return c.error("The element of `"+s+"` was not a media element.")}else return c.error("No element was found with the `"+s+"` query selector.");i.mux&&(i.mux.destroy(),delete i.mux,c.warn("Already monitoring this video element, replacing existing event listeners"));var f={getPlayheadTime:function(){return l(i.currentTime)},getStateData:function(){var p,v,y,x=((p=(v=this).getPlayheadTime)===null||p===void 0?void 0:p.call(v))||l(i.currentTime),w=this.hlsjs&&this.hlsjs.url,E=this.dashjs&&typeof this.dashjs.getSource=="function"&&this.dashjs.getSource(),T={player_is_paused:i.paused,player_width:parseInt(u(i,"width")),player_height:parseInt(u(i,"height")),player_autoplay_on:i.autoplay,player_preload_on:i.preload,player_language_code:i.lang,player_is_fullscreen:ZL(),video_poster_url:i.poster,video_source_url:w||E||i.currentSrc,video_source_duration:l(i.duration),video_source_height:i.videoHeight,video_source_width:i.videoWidth,view_dropped_frame_count:i==null||(y=i.getVideoPlaybackQuality)===null||y===void 0?void 0:y.call(i).droppedVideoFrames};if(i.getStartDate&&x>0){var C=i.getStartDate();if(C&&typeof C.getTime=="function"&&C.getTime()){var j=C.getTime();if(T.player_program_time=j+x,i.seekable.length>0){var P=j+i.seekable.end(i.seekable.length-1);T.player_live_edge_program_time=P}}}return T}};r=Object.assign(d,r,f),r.data=Object.assign({player_software:"HTML5 Video Element",player_mux_plugin_name:"VideoElementMonitor",player_mux_plugin_version:t.VERSION},r.data),i.mux=i.mux||{},i.mux.deleted=!1,i.mux.emit=function(p,v){t.emit(s,p,v)},i.mux.updateData=function(p){i.mux.emit("hb",p)};var A=function(){c.error("The monitor for this video element has already been destroyed.")};i.mux.destroy=function(){Object.keys(i.mux.listeners).forEach(function(p){i.removeEventListener(p,i.mux.listeners[p],!1)}),delete i.mux.listeners,i.mux.fullscreenChangeListener&&(document.removeEventListener("fullscreenchange",i.mux.fullscreenChangeListener,!1),delete i.mux.fullscreenChangeListener),i.mux.destroy=A,i.mux.swapElement=A,i.mux.emit=A,i.mux.addHLSJS=A,i.mux.addDashJS=A,i.mux.removeHLSJS=A,i.mux.removeDashJS=A,i.mux.updateData=A,i.mux.setEmitTranslator=A,i.mux.setStateDataTranslator=A,i.mux.setGetPlayheadTime=A,i.mux.deleted=!0,t.emit(s,"destroy")},i.mux.swapElement=function(p){var v=Yp(Ej(p),3),y=v[0],x=v[1],w=v[2];if(y){if(w!=="video"&&w!=="audio")return t.log.error("The element of `"+x+"` was not a media element.")}else return t.log.error("No element was found with the `"+x+"` query selector.");y.muxId=i.muxId,delete i.muxId,y.mux=y.mux||{},y.mux.listeners=Object.assign({},i.mux.listeners),delete i.mux.listeners,Object.keys(y.mux.listeners).forEach(function(E){i.removeEventListener(E,y.mux.listeners[E],!1),y.addEventListener(E,y.mux.listeners[E],!1)}),y.mux.fullscreenChangeListener=i.mux.fullscreenChangeListener,delete i.mux.fullscreenChangeListener,y.mux.swapElement=i.mux.swapElement,y.mux.destroy=i.mux.destroy,delete i.mux,i=y},i.mux.addHLSJS=function(p){t.addHLSJS(s,p)},i.mux.addDashJS=function(p){t.addDashJS(s,p)},i.mux.removeHLSJS=function(){t.removeHLSJS(s)},i.mux.removeDashJS=function(){t.removeDashJS(s)},i.mux.setEmitTranslator=function(p){t.setEmitTranslator(s,p)},i.mux.setStateDataTranslator=function(p){t.setStateDataTranslator(s,p)},i.mux.setGetPlayheadTime=function(p){p||(p=r.getPlayheadTime),t.setGetPlayheadTime(s,p)},t.init(s,r),t.emit(s,"playerready"),i.paused||(t.emit(s,"play"),i.readyState>2&&t.emit(s,"playing")),i.mux.listeners={},i6e.forEach(function(p){p==="error"&&!r.automaticErrorTracking||(i.mux.listeners[p]=function(){var v={};if(p==="error"){if(!i.error||i.error.code===1)return;v.player_error_code=i.error.code,v.player_error_message=s6e[i.error.code]||i.error.message}t.emit(s,p,v)},i.addEventListener(p,i.mux.listeners[p],!1))}),i.mux.listeners.enterpictureinpicture=function(){t.emit(s,"playbackmodechange",{player_playback_mode:"pip",player_playback_mode_data:"{}"})},i.mux.listeners.leavepictureinpicture=function(){var p=ZL()?"fullscreen":"standard";t.emit(s,"playbackmodechange",{player_playback_mode:p,player_playback_mode_data:"{}"})},i.addEventListener("enterpictureinpicture",i.mux.listeners.enterpictureinpicture,!1),i.addEventListener("leavepictureinpicture",i.mux.listeners.leavepictureinpicture,!1),i.mux.fullscreenChangeListener=function(){var p=ZL(),v=document.fullscreenElement;if(p&&(v===i||v!=null&&v.contains(i)))t.emit(s,"playbackmodechange",{player_playback_mode:"fullscreen",player_playback_mode_data:"{}"});else if(!p){var y=document.pictureInPictureElement===i,x=y?"pip":"standard";t.emit(s,"playbackmodechange",{player_playback_mode:x,player_playback_mode_data:"{}"})}},document.addEventListener("fullscreenchange",i.mux.fullscreenChangeListener,!1)}function o6e(t,e,r,n){var i=n;if(t&&typeof t[e]=="function")try{i=t[e].apply(t,r)}catch(s){ll.info("safeCall error",s)}return i}var Vw=Xf(zm()),hx;Vw.default&&Vw.default.WeakMap&&(hx=new WeakMap);function l6e(t,e){if(!t||!e||!Vw.default||typeof Vw.default.getComputedStyle!="function")return"";var r;return hx&&hx.has(t)&&(r=hx.get(t)),r||(r=Vw.default.getComputedStyle(t,null),hx&&hx.set(t,r)),r.getPropertyValue(e)}function c6e(t){return Math.floor(t*1e3)}var J0={TARGET_DURATION:"#EXT-X-TARGETDURATION",PART_INF:"#EXT-X-PART-INF",SERVER_CONTROL:"#EXT-X-SERVER-CONTROL",INF:"#EXTINF",PROGRAM_DATE_TIME:"#EXT-X-PROGRAM-DATE-TIME",VERSION:"#EXT-X-VERSION",SESSION_DATA:"#EXT-X-SESSION-DATA"},b5=function(t){return this.buffer="",this.manifest={segments:[],serverControl:{},sessionData:{}},this.currentUri={},this.process(t),this.manifest};b5.prototype.process=function(t){var e;for(this.buffer+=t,e=this.buffer.indexOf(`
`);e>-1;e=this.buffer.indexOf(`
`))this.processLine(this.buffer.substring(0,e)),this.buffer=this.buffer.substring(e+1)};b5.prototype.processLine=function(t){var e=t.indexOf(":"),r=f6e(t,e),n=r[0],i=r.length===2?GM(r[1]):void 0;if(n[0]!=="#")this.currentUri.uri=n,this.manifest.segments.push(this.currentUri),this.manifest.targetDuration&&!("duration"in this.currentUri)&&(this.currentUri.duration=this.manifest.targetDuration),this.currentUri={};else switch(n){case J0.TARGET_DURATION:{if(!isFinite(i)||i<0)return;this.manifest.targetDuration=i,this.setHoldBack();break}case J0.PART_INF:{JL(this.manifest,r),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),this.setHoldBack();break}case J0.SERVER_CONTROL:{JL(this.manifest,r),this.setHoldBack();break}case J0.INF:{i===0?this.currentUri.duration=.01:i>0&&(this.currentUri.duration=i);break}case J0.PROGRAM_DATE_TIME:{var s=i,a=new Date(s);this.manifest.dateTimeString||(this.manifest.dateTimeString=s,this.manifest.dateTimeObject=a),this.currentUri.dateTimeString=s,this.currentUri.dateTimeObject=a;break}case J0.VERSION:{JL(this.manifest,r);break}case J0.SESSION_DATA:{var c=A6e(r[1]),u=yne(c);Object.assign(this.manifest.sessionData,u)}}};b5.prototype.setHoldBack=function(){var t=this.manifest,e=t.serverControl,r=t.targetDuration,n=t.partTargetDuration;if(e){var i="holdBack",s="partHoldBack",a=r&&r*3,c=n&&n*2;r&&!e.hasOwnProperty(i)&&(e[i]=a),a&&e[i]<a&&(e[i]=a),n&&!e.hasOwnProperty(s)&&(e[s]=n*3),n&&e[s]<c&&(e[s]=c)}};var JL=function(t,e){var r=jne(e[0].replace("#EXT-X-","")),n;h6e(e[1])?(n={},n=Object.assign(d6e(e[1]),n)):n=GM(e[1]),t[r]=n},jne=function(t){return t.toLowerCase().replace(/-(\w)/g,function(e){return e[1].toUpperCase()})},GM=function(t){if(t.toLowerCase()==="yes"||t.toLowerCase()==="no")return t.toLowerCase()==="yes";var e=t.indexOf(":")!==-1?t:parseFloat(t);return isNaN(e)?t:e},u6e=function(t){var e={},r=t.split("=");if(r.length>1){var n=jne(r[0]);e[n]=GM(r[1])}return e},d6e=function(t){for(var e=t.split(","),r={},n=0;e.length>n;n++){var i=e[n],s=u6e(i);r=Object.assign(s,r)}return r},h6e=function(t){return t.indexOf("=")>-1},f6e=function(t,e){return e===-1?[t]:[t.substring(0,e),t.substring(e+1)]},A6e=function(t){var e={};if(t){var r=t.search(","),n=t.slice(0,r),i=t.slice(r+1),s=[n,i];return s.forEach(function(a,c){for(var u=a.replace(/['"]+/g,"").split("="),l=0;l<u.length;l++)u[l]==="DATA-ID"&&(e["DATA-ID"]=u[1-l]),u[l]==="VALUE"&&(e.VALUE=u[1-l])}),{data:e}}},m6e=b5,p6e={safeCall:o6e,safeIncrement:Fu,getComputedStyle:l6e,secondsToMs:c6e,assign:Object.assign,headersStringToObject:KM,cdnHeadersToRequestId:Tj,extractHostnameAndDomain:OE,extractHostname:EA,manifestParser:m6e,generateShortID:gne,generateUUID:BE,now:hd.now,findMediaElement:Ej},g6e=p6e,v6e={PLAYER_READY:"playerready",VIEW_INIT:"viewinit",VIDEO_CHANGE:"videochange",PLAY:"play",PAUSE:"pause",PLAYING:"playing",TIME_UPDATE:"timeupdate",SEEKING:"seeking",SEEKED:"seeked",REBUFFER_START:"rebufferstart",REBUFFER_END:"rebufferend",ERROR:"error",ENDED:"ended",RENDITION_CHANGE:"renditionchange",ORIENTATION_CHANGE:"orientationchange",PLAYBACK_MODE_CHANGE:"playbackmodechange",AD_REQUEST:"adrequest",AD_RESPONSE:"adresponse",AD_BREAK_START:"adbreakstart",AD_PLAY:"adplay",AD_PLAYING:"adplaying",AD_PAUSE:"adpause",AD_FIRST_QUARTILE:"adfirstquartile",AD_MID_POINT:"admidpoint",AD_THIRD_QUARTILE:"adthirdquartile",AD_ENDED:"adended",AD_BREAK_END:"adbreakend",AD_ERROR:"aderror",REQUEST_COMPLETED:"requestcompleted",REQUEST_FAILED:"requestfailed",REQUEST_CANCELLED:"requestcanceled",HEARTBEAT:"hb",DESTROY:"destroy"},y6e=v6e,x6e="mux-embed",b6e="5.16.1",w6e="2.1",cu={},y0=function(t){var e=arguments;typeof t=="string"?y0.hasOwnProperty(t)?Qw.default.setTimeout(function(){e=Array.prototype.splice.call(e,1),y0[t].apply(null,e)},0):ll.warn("`"+t+"` is an unknown task"):typeof t=="function"?Qw.default.setTimeout(function(){t(y0)},0):ll.warn("`"+t+"` is invalid.")},E6e={loaded:hd.now(),NAME:x6e,VERSION:b6e,API_VERSION:w6e,PLAYER_TRACKED:!1,monitor:function(t,e){return a6e(y0,t,e)},destroyMonitor:function(t){var e=Yp(Ej(t),1),r=e[0];r&&r.mux&&typeof r.mux.destroy=="function"?r.mux.destroy():ll.error("A video element monitor for `"+t+"` has not been initialized via `mux.monitor`.")},addHLSJS:function(t,e){var r=fA(t);cu[r]?cu[r].addHLSJS(e):ll.error("A monitor for `"+r+"` has not been initialized.")},addDashJS:function(t,e){var r=fA(t);cu[r]?cu[r].addDashJS(e):ll.error("A monitor for `"+r+"` has not been initialized.")},removeHLSJS:function(t){var e=fA(t);cu[e]?cu[e].removeHLSJS():ll.error("A monitor for `"+e+"` has not been initialized.")},removeDashJS:function(t){var e=fA(t);cu[e]?cu[e].removeDashJS():ll.error("A monitor for `"+e+"` has not been initialized.")},init:function(t,e){RO()&&e&&e.respectDoNotTrack&&ll.info("The browser's Do Not Track flag is enabled - Mux beaconing is disabled.");var r=fA(t);cu[r]=new n6e(y0,r,e)},emit:function(t,e,r){var n=fA(t);cu[n]?(cu[n].emit(e,r),e==="destroy"&&delete cu[n]):ll.error("A monitor for `"+n+"` has not been initialized.")},updateData:function(t,e){var r=fA(t);cu[r]?cu[r].emit("hb",e):ll.error("A monitor for `"+r+"` has not been initialized.")},setEmitTranslator:function(t,e){var r=fA(t);cu[r]?cu[r].emitTranslator=e:ll.error("A monitor for `"+r+"` has not been initialized.")},setStateDataTranslator:function(t,e){var r=fA(t);cu[r]?cu[r].stateDataTranslator=e:ll.error("A monitor for `"+r+"` has not been initialized.")},setGetPlayheadTime:function(t,e){var r=fA(t);cu[r]?cu[r].getPlayheadTime=e:ll.error("A monitor for `"+r+"` has not been initialized.")},checkDoNotTrack:RO,log:ll,utils:g6e,events:y6e,WINDOW_HIDDEN:!1,WINDOW_UNLOADING:!1};Object.assign(y0,E6e);typeof Qw.default<"u"&&typeof Qw.default.addEventListener=="function"&&Qw.default.addEventListener("pagehide",function(t){t.persisted||(y0.WINDOW_UNLOADING=!0)},!1);var WM=y0;const qn=Number.isFinite||function(t){return typeof t=="number"&&isFinite(t)},_6e=Number.isSafeInteger||function(t){return typeof t=="number"&&Math.abs(t)<=S6e},S6e=Number.MAX_SAFE_INTEGER||9007199254740991;let Pi=(function(t){return t.NETWORK_ERROR="networkError",t.MEDIA_ERROR="mediaError",t.KEY_SYSTEM_ERROR="keySystemError",t.MUX_ERROR="muxError",t.OTHER_ERROR="otherError",t})({}),gr=(function(t){return t.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",t.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",t.KEY_SYSTEM_NO_SESSION="keySystemNoSession",t.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",t.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",t.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",t.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",t.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",t.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",t.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",t.KEY_SYSTEM_DESTROY_MEDIA_KEYS_ERROR="keySystemDestroyMediaKeysError",t.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR="keySystemDestroyCloseSessionError",t.KEY_SYSTEM_DESTROY_REMOVE_SESSION_ERROR="keySystemDestroyRemoveSessionError",t.MANIFEST_LOAD_ERROR="manifestLoadError",t.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",t.MANIFEST_PARSING_ERROR="manifestParsingError",t.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",t.LEVEL_EMPTY_ERROR="levelEmptyError",t.LEVEL_LOAD_ERROR="levelLoadError",t.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",t.LEVEL_PARSING_ERROR="levelParsingError",t.LEVEL_SWITCH_ERROR="levelSwitchError",t.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",t.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",t.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",t.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",t.FRAG_LOAD_ERROR="fragLoadError",t.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",t.FRAG_DECRYPT_ERROR="fragDecryptError",t.FRAG_PARSING_ERROR="fragParsingError",t.FRAG_GAP="fragGap",t.REMUX_ALLOC_ERROR="remuxAllocError",t.KEY_LOAD_ERROR="keyLoadError",t.KEY_LOAD_TIMEOUT="keyLoadTimeOut",t.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",t.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",t.BUFFER_APPEND_ERROR="bufferAppendError",t.BUFFER_APPENDING_ERROR="bufferAppendingError",t.BUFFER_STALLED_ERROR="bufferStalledError",t.BUFFER_FULL_ERROR="bufferFullError",t.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",t.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",t.ASSET_LIST_LOAD_ERROR="assetListLoadError",t.ASSET_LIST_LOAD_TIMEOUT="assetListLoadTimeout",t.ASSET_LIST_PARSING_ERROR="assetListParsingError",t.INTERSTITIAL_ASSET_ITEM_ERROR="interstitialAssetItemError",t.INTERNAL_EXCEPTION="internalException",t.INTERNAL_ABORTED="aborted",t.ATTACH_MEDIA_ERROR="attachMediaError",t.UNKNOWN="unknown",t})({}),Ie=(function(t){return t.MEDIA_ATTACHING="hlsMediaAttaching",t.MEDIA_ATTACHED="hlsMediaAttached",t.MEDIA_DETACHING="hlsMediaDetaching",t.MEDIA_DETACHED="hlsMediaDetached",t.MEDIA_ENDED="hlsMediaEnded",t.STALL_RESOLVED="hlsStallResolved",t.BUFFER_RESET="hlsBufferReset",t.BUFFER_CODECS="hlsBufferCodecs",t.BUFFER_CREATED="hlsBufferCreated",t.BUFFER_APPENDING="hlsBufferAppending",t.BUFFER_APPENDED="hlsBufferAppended",t.BUFFER_EOS="hlsBufferEos",t.BUFFERED_TO_END="hlsBufferedToEnd",t.BUFFER_FLUSHING="hlsBufferFlushing",t.BUFFER_FLUSHED="hlsBufferFlushed",t.MANIFEST_LOADING="hlsManifestLoading",t.MANIFEST_LOADED="hlsManifestLoaded",t.MANIFEST_PARSED="hlsManifestParsed",t.LEVEL_SWITCHING="hlsLevelSwitching",t.LEVEL_SWITCHED="hlsLevelSwitched",t.LEVEL_LOADING="hlsLevelLoading",t.LEVEL_LOADED="hlsLevelLoaded",t.LEVEL_UPDATED="hlsLevelUpdated",t.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",t.LEVELS_UPDATED="hlsLevelsUpdated",t.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",t.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",t.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",t.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",t.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",t.AUDIO_TRACK_UPDATED="hlsAudioTrackUpdated",t.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",t.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",t.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",t.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",t.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",t.SUBTITLE_TRACK_UPDATED="hlsSubtitleTrackUpdated",t.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",t.CUES_PARSED="hlsCuesParsed",t.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",t.INIT_PTS_FOUND="hlsInitPtsFound",t.FRAG_LOADING="hlsFragLoading",t.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",t.FRAG_LOADED="hlsFragLoaded",t.FRAG_DECRYPTED="hlsFragDecrypted",t.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",t.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",t.FRAG_PARSING_METADATA="hlsFragParsingMetadata",t.FRAG_PARSED="hlsFragParsed",t.FRAG_BUFFERED="hlsFragBuffered",t.FRAG_CHANGED="hlsFragChanged",t.FPS_DROP="hlsFpsDrop",t.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",t.MAX_AUTO_LEVEL_UPDATED="hlsMaxAutoLevelUpdated",t.ERROR="hlsError",t.DESTROYING="hlsDestroying",t.KEY_LOADING="hlsKeyLoading",t.KEY_LOADED="hlsKeyLoaded",t.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",t.BACK_BUFFER_REACHED="hlsBackBufferReached",t.STEERING_MANIFEST_LOADED="hlsSteeringManifestLoaded",t.ASSET_LIST_LOADING="hlsAssetListLoading",t.ASSET_LIST_LOADED="hlsAssetListLoaded",t.INTERSTITIALS_UPDATED="hlsInterstitialsUpdated",t.INTERSTITIALS_BUFFERED_TO_BOUNDARY="hlsInterstitialsBufferedToBoundary",t.INTERSTITIAL_ASSET_PLAYER_CREATED="hlsInterstitialAssetPlayerCreated",t.INTERSTITIAL_STARTED="hlsInterstitialStarted",t.INTERSTITIAL_ASSET_STARTED="hlsInterstitialAssetStarted",t.INTERSTITIAL_ASSET_ENDED="hlsInterstitialAssetEnded",t.INTERSTITIAL_ASSET_ERROR="hlsInterstitialAssetError",t.INTERSTITIAL_ENDED="hlsInterstitialEnded",t.INTERSTITIALS_PRIMARY_RESUMED="hlsInterstitialsPrimaryResumed",t.PLAYOUT_LIMIT_REACHED="hlsPlayoutLimitReached",t.EVENT_CUE_ENTER="hlsEventCueEnter",t})({});var xa={MANIFEST:"manifest",LEVEL:"level",AUDIO_TRACK:"audioTrack",SUBTITLE_TRACK:"subtitleTrack"},fi={MAIN:"main",AUDIO:"audio",SUBTITLE:"subtitle"};class qy{constructor(e,r=0,n=0){this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=e,this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=r,this.totalWeight_=n}sample(e,r){const n=Math.pow(this.alpha_,e);this.estimate_=r*(1-n)+n*this.estimate_,this.totalWeight_+=e}getTotalWeight(){return this.totalWeight_}getEstimate(){if(this.alpha_){const e=1-Math.pow(this.alpha_,this.totalWeight_);if(e)return this.estimate_/e}return this.estimate_}}class T6e{constructor(e,r,n,i=100){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=n,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new qy(e),this.fast_=new qy(r),this.defaultTTFB_=i,this.ttfb_=new qy(e)}update(e,r){const{slow_:n,fast_:i,ttfb_:s}=this;n.halfLife!==e&&(this.slow_=new qy(e,n.getEstimate(),n.getTotalWeight())),i.halfLife!==r&&(this.fast_=new qy(r,i.getEstimate(),i.getTotalWeight())),s.halfLife!==e&&(this.ttfb_=new qy(e,s.getEstimate(),s.getTotalWeight()))}sample(e,r){e=Math.max(e,this.minDelayMs_);const n=8*r,i=e/1e3,s=n/i;this.fast_.sample(i,s),this.slow_.sample(i,s)}sampleTTFB(e){const r=e/1e3,n=Math.sqrt(2)*Math.exp(-Math.pow(r,2)/2);this.ttfb_.sample(n,Math.max(e,5))}canEstimate(){return this.fast_.getTotalWeight()>=this.minWeight_}getEstimate(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}getEstimateTTFB(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_}get defaultEstimate(){return this.defaultEstimate_}destroy(){}}function C6e(t,e,r){return(e=N6e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nl(){return nl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nl.apply(null,arguments)}function $z(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Fo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$z(Object(r),!0).forEach(function(n){C6e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$z(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function j6e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function N6e(t){var e=j6e(t,"string");return typeof e=="symbol"?e:e+""}class Zf{constructor(e,r){this.trace=void 0,this.debug=void 0,this.log=void 0,this.warn=void 0,this.info=void 0,this.error=void 0;const n=`[${e}]:`;this.trace=n0,this.debug=r.debug.bind(null,n),this.log=r.log.bind(null,n),this.warn=r.warn.bind(null,n),this.info=r.info.bind(null,n),this.error=r.error.bind(null,n)}}const n0=function(){},k6e={trace:n0,debug:n0,log:n0,warn:n0,info:n0,error:n0};function FO(){return nl({},k6e)}function I6e(t,e){const r=self.console[t];return r?r.bind(self.console,`${e?"["+e+"] ":""}[${t}] >`):n0}function Hz(t,e,r){return e[t]?e[t].bind(e):I6e(t,r)}const UO=FO();function L6e(t,e,r){const n=FO();if(typeof console=="object"&&t===!0||typeof t=="object"){const i=["debug","log","info","warn","error"];i.forEach(s=>{n[s]=Hz(s,t,r)});try{n.log(`Debug logs enabled for "${e}" in hls.js version 1.6.15`)}catch{return FO()}i.forEach(s=>{UO[s]=Hz(s,t)})}else nl(UO,n);return n}const $o=UO;function T0(t=!0){return typeof self>"u"?void 0:(t||!self.MediaSource)&&self.ManagedMediaSource||self.MediaSource||self.WebKitMediaSource}function B6e(t){return typeof self<"u"&&t===self.ManagedMediaSource}function Nne(t,e){const r=Object.keys(t),n=Object.keys(e),i=r.length,s=n.length;return!i||!s||i===s&&!r.some(a=>n.indexOf(a)===-1)}function Af(t,e=!1){if(typeof TextDecoder<"u"){const l=new TextDecoder("utf-8").decode(t);if(e){const d=l.indexOf("\0");return d!==-1?l.substring(0,d):l}return l.replace(/\0/g,"")}const r=t.length;let n,i,s,a="",c=0;for(;c<r;){if(n=t[c++],n===0&&e)return a;if(n===0||n===3)continue;switch(n>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:a+=String.fromCharCode(n);break;case 12:case 13:i=t[c++],a+=String.fromCharCode((n&31)<<6|i&63);break;case 14:i=t[c++],s=t[c++],a+=String.fromCharCode((n&15)<<12|(i&63)<<6|(s&63)<<0);break}}return a}function Md(t){let e="";for(let r=0;r<t.length;r++){let n=t[r].toString(16);n.length<2&&(n="0"+n),e+=n}return e}function kne(t){return Uint8Array.from(t.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer}function O6e(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var eB={exports:{}},Qz;function P6e(){return Qz||(Qz=1,(function(t,e){(function(r){var n=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,i=/^(?=([^\/?#]*))\1([^]*)$/,s=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,c={buildAbsoluteURL:function(u,l,d){if(d=d||{},u=u.trim(),l=l.trim(),!l){if(!d.alwaysNormalize)return u;var f=c.parseURL(u);if(!f)throw new Error("Error trying to parse base URL.");return f.path=c.normalizePath(f.path),c.buildURLFromParts(f)}var A=c.parseURL(l);if(!A)throw new Error("Error trying to parse relative URL.");if(A.scheme)return d.alwaysNormalize?(A.path=c.normalizePath(A.path),c.buildURLFromParts(A)):l;var p=c.parseURL(u);if(!p)throw new Error("Error trying to parse base URL.");if(!p.netLoc&&p.path&&p.path[0]!=="/"){var v=i.exec(p.path);p.netLoc=v[1],p.path=v[2]}p.netLoc&&!p.path&&(p.path="/");var y={scheme:p.scheme,netLoc:A.netLoc,path:null,params:A.params,query:A.query,fragment:A.fragment};if(!A.netLoc&&(y.netLoc=p.netLoc,A.path[0]!=="/"))if(!A.path)y.path=p.path,A.params||(y.params=p.params,A.query||(y.query=p.query));else{var x=p.path,w=x.substring(0,x.lastIndexOf("/")+1)+A.path;y.path=c.normalizePath(w)}return y.path===null&&(y.path=d.alwaysNormalize?c.normalizePath(A.path):A.path),c.buildURLFromParts(y)},parseURL:function(u){var l=n.exec(u);return l?{scheme:l[1]||"",netLoc:l[2]||"",path:l[3]||"",params:l[4]||"",query:l[5]||"",fragment:l[6]||""}:null},normalizePath:function(u){for(u=u.split("").reverse().join("").replace(s,"");u.length!==(u=u.replace(a,"")).length;);return u.split("").reverse().join("")},buildURLFromParts:function(u){return u.scheme+u.netLoc+u.path+u.params+u.query+u.fragment}};t.exports=c})()})(eB)),eB.exports}var YM=P6e();class qM{constructor(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}}var cl={AUDIO:"audio",VIDEO:"video",AUDIOVIDEO:"audiovideo"};class Ine{constructor(e){this._byteRange=null,this._url=null,this._stats=null,this._streams=null,this.base=void 0,this.relurl=void 0,typeof e=="string"&&(e={url:e}),this.base=e,D6e(this,"stats")}setByteRange(e,r){const n=e.split("@",2);let i;n.length===1?i=r?.byteRangeEndOffset||0:i=parseInt(n[1]),this._byteRange=[i,parseInt(n[0])+i]}get baseurl(){return this.base.url}get byteRange(){return this._byteRange===null?[]:this._byteRange}get byteRangeStartOffset(){return this.byteRange[0]}get byteRangeEndOffset(){return this.byteRange[1]}get elementaryStreams(){return this._streams===null&&(this._streams={[cl.AUDIO]:null,[cl.VIDEO]:null,[cl.AUDIOVIDEO]:null}),this._streams}set elementaryStreams(e){this._streams=e}get hasStats(){return this._stats!==null}get hasStreams(){return this._streams!==null}get stats(){return this._stats===null&&(this._stats=new qM),this._stats}set stats(e){this._stats=e}get url(){return!this._url&&this.baseurl&&this.relurl&&(this._url=YM.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""}set url(e){this._url=e}clearElementaryStreamInfo(){const{elementaryStreams:e}=this;e[cl.AUDIO]=null,e[cl.VIDEO]=null,e[cl.AUDIOVIDEO]=null}}function Jc(t){return t.sn!=="initSegment"}class tB extends Ine{constructor(e,r){super(r),this._decryptdata=null,this._programDateTime=null,this._ref=null,this._bitrate=void 0,this.rawProgramDateTime=null,this.tagList=[],this.duration=0,this.sn=0,this.levelkeys=void 0,this.type=void 0,this.loader=null,this.keyLoader=null,this.level=-1,this.cc=0,this.startPTS=void 0,this.endPTS=void 0,this.startDTS=void 0,this.endDTS=void 0,this.start=0,this.playlistOffset=0,this.deltaPTS=void 0,this.maxStartPTS=void 0,this.minEndPTS=void 0,this.data=void 0,this.bitrateTest=!1,this.title=null,this.initSegment=null,this.endList=void 0,this.gap=void 0,this.urlId=0,this.type=e}get byteLength(){if(this.hasStats){const e=this.stats.total;if(e)return e}if(this.byteRange.length){const e=this.byteRange[0],r=this.byteRange[1];if(qn(e)&&qn(r))return r-e}return null}get bitrate(){return this.byteLength?this.byteLength*8/this.duration:this._bitrate?this._bitrate:null}set bitrate(e){this._bitrate=e}get decryptdata(){var e;const{levelkeys:r}=this;if(!r||r.NONE)return null;if(r.identity)this._decryptdata||(this._decryptdata=r.identity.getDecryptData(this.sn));else if(!((e=this._decryptdata)!=null&&e.keyId)){const n=Object.keys(r);if(n.length===1){const i=this._decryptdata=r[n[0]]||null;i&&(this._decryptdata=i.getDecryptData(this.sn,r))}}return this._decryptdata}get end(){return this.start+this.duration}get endProgramDateTime(){if(this.programDateTime===null)return null;const e=qn(this.duration)?this.duration:0;return this.programDateTime+e*1e3}get encrypted(){var e;if((e=this._decryptdata)!=null&&e.encrypted)return!0;if(this.levelkeys){var r;const n=Object.keys(this.levelkeys),i=n.length;if(i>1||i===1&&(r=this.levelkeys[n[0]])!=null&&r.encrypted)return!0}return!1}get programDateTime(){return this._programDateTime===null&&this.rawProgramDateTime&&(this.programDateTime=Date.parse(this.rawProgramDateTime)),this._programDateTime}set programDateTime(e){if(!qn(e)){this._programDateTime=this.rawProgramDateTime=null;return}this._programDateTime=e}get ref(){return Jc(this)?(this._ref||(this._ref={base:this.base,start:this.start,duration:this.duration,sn:this.sn,programDateTime:this.programDateTime}),this._ref):null}addStart(e){this.setStart(this.start+e)}setStart(e){this.start=e,this._ref&&(this._ref.start=e)}setDuration(e){this.duration=e,this._ref&&(this._ref.duration=e)}setKeyFormat(e){const r=this.levelkeys;if(r){var n;const i=r[e];i&&!((n=this._decryptdata)!=null&&n.keyId)&&(this._decryptdata=i.getDecryptData(this.sn,r))}}abortRequests(){var e,r;(e=this.loader)==null||e.abort(),(r=this.keyLoader)==null||r.abort()}setElementaryStreamInfo(e,r,n,i,s,a=!1){const{elementaryStreams:c}=this,u=c[e];if(!u){c[e]={startPTS:r,endPTS:n,startDTS:i,endDTS:s,partial:a};return}u.startPTS=Math.min(u.startPTS,r),u.endPTS=Math.max(u.endPTS,n),u.startDTS=Math.min(u.startDTS,i),u.endDTS=Math.max(u.endDTS,s)}}let R6e=class extends Ine{constructor(e,r,n,i,s){super(n),this.fragOffset=0,this.duration=0,this.gap=!1,this.independent=!1,this.relurl=void 0,this.fragment=void 0,this.index=void 0,this.duration=e.decimalFloatingPoint("DURATION"),this.gap=e.bool("GAP"),this.independent=e.bool("INDEPENDENT"),this.relurl=e.enumeratedString("URI"),this.fragment=r,this.index=i;const a=e.enumeratedString("BYTERANGE");a&&this.setByteRange(a,s),s&&(this.fragOffset=s.fragOffset+s.duration)}get start(){return this.fragment.start+this.fragOffset}get end(){return this.start+this.duration}get loaded(){const{elementaryStreams:e}=this;return!!(e.audio||e.video||e.audiovideo)}};function Lne(t,e){const r=Object.getPrototypeOf(t);if(r){const n=Object.getOwnPropertyDescriptor(r,e);return n||Lne(r,e)}}function D6e(t,e){const r=Lne(t,e);r&&(r.enumerable=!0,Object.defineProperty(t,e,r))}const Vz=Math.pow(2,32)-1,M6e=[].push,Bne={video:1,audio:2,id3:3,text:4};function Ou(t){return String.fromCharCode.apply(null,t)}function One(t,e){const r=t[e]<<8|t[e+1];return r<0?65536+r:r}function Bs(t,e){const r=Pne(t,e);return r<0?4294967296+r:r}function zz(t,e){let r=Bs(t,e);return r*=Math.pow(2,32),r+=Bs(t,e+4),r}function Pne(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}function F6e(t){const e=t.byteLength;for(let r=0;r<e;){const n=Bs(t,r);if(n>8&&t[r+4]===109&&t[r+5]===111&&t[r+6]===111&&t[r+7]===102)return!0;r=n>1?r+n:e}return!1}function pa(t,e){const r=[];if(!e.length)return r;const n=t.byteLength;for(let i=0;i<n;){const s=Bs(t,i),a=Ou(t.subarray(i+4,i+8)),c=s>1?i+s:n;if(a===e[0])if(e.length===1)r.push(t.subarray(i+8,c));else{const u=pa(t.subarray(i+8,c),e.slice(1));u.length&&M6e.apply(r,u)}i=c}return r}function U6e(t){const e=[],r=t[0];let n=8;const i=Bs(t,n);n+=4;let s=0,a=0;r===0?(s=Bs(t,n),a=Bs(t,n+4),n+=8):(s=zz(t,n),a=zz(t,n+8),n+=16),n+=2;let c=t.length+a;const u=One(t,n);n+=2;for(let l=0;l<u;l++){let d=n;const f=Bs(t,d);d+=4;const A=f&2147483647;if((f&2147483648)>>>31===1)return $o.warn("SIDX has hierarchical references (not supported)"),null;const v=Bs(t,d);d+=4,e.push({referenceSize:A,subsegmentDuration:v,info:{duration:v/i,start:c,end:c+A-1}}),c+=A,d+=4,n=d}return{earliestPresentationTime:s,timescale:i,version:r,referencesCount:u,references:e}}function Rne(t){const e=[],r=pa(t,["moov","trak"]);for(let i=0;i<r.length;i++){const s=r[i],a=pa(s,["tkhd"])[0];if(a){let c=a[0];const u=Bs(a,c===0?12:20),l=pa(s,["mdia","mdhd"])[0];if(l){c=l[0];const d=Bs(l,c===0?12:20),f=pa(s,["mdia","hdlr"])[0];if(f){const A=Ou(f.subarray(8,12)),p={soun:cl.AUDIO,vide:cl.VIDEO}[A],v=pa(s,["mdia","minf","stbl","stsd"])[0],y=$6e(v);p?(e[u]={timescale:d,type:p,stsd:y},e[p]=Fo({timescale:d,id:u},y)):e[u]={timescale:d,type:A,stsd:y}}}}}return pa(t,["moov","mvex","trex"]).forEach(i=>{const s=Bs(i,4),a=e[s];a&&(a.default={duration:Bs(i,12),flags:Bs(i,20)})}),e}function $6e(t){const e=t.subarray(8),r=e.subarray(86),n=Ou(e.subarray(4,8));let i=n,s;const a=n==="enca"||n==="encv";if(a){const l=pa(e,[n])[0].subarray(n==="enca"?28:78);pa(l,["sinf"]).forEach(f=>{const A=pa(f,["schm"])[0];if(A){const p=Ou(A.subarray(4,8));if(p==="cbcs"||p==="cenc"){const v=pa(f,["frma"])[0];v&&(i=Ou(v))}}})}const c=i;switch(i){case"avc1":case"avc2":case"avc3":case"avc4":{const u=pa(r,["avcC"])[0];u&&u.length>3&&(i+="."+K2(u[1])+K2(u[2])+K2(u[3]),s=z2(c==="avc1"?"dva1":"dvav",r));break}case"mp4a":{const u=pa(e,[n])[0],l=pa(u.subarray(28),["esds"])[0];if(l&&l.length>7){let d=4;if(l[d++]!==3)break;d=rB(l,d),d+=2;const f=l[d++];if(f&128&&(d+=2),f&64&&(d+=l[d++]),l[d++]!==4)break;d=rB(l,d);const A=l[d++];if(A===64)i+="."+K2(A);else break;if(d+=12,l[d++]!==5)break;d=rB(l,d);const p=l[d++];let v=(p&248)>>3;v===31&&(v+=1+((p&7)<<3)+((l[d]&224)>>5)),i+="."+v}break}case"hvc1":case"hev1":{const u=pa(r,["hvcC"])[0];if(u&&u.length>12){const l=u[1],d=["","A","B","C"][l>>6],f=l&31,A=Bs(u,2),p=(l&32)>>5?"H":"L",v=u[12],y=u.subarray(6,12);i+="."+d+f,i+="."+H6e(A).toString(16).toUpperCase(),i+="."+p+v;let x="";for(let w=y.length;w--;){const E=y[w];(E||x)&&(x="."+E.toString(16).toUpperCase()+x)}i+=x}s=z2(c=="hev1"?"dvhe":"dvh1",r);break}case"dvh1":case"dvhe":case"dvav":case"dva1":case"dav1":{i=z2(i,r)||i;break}case"vp09":{const u=pa(r,["vpcC"])[0];if(u&&u.length>6){const l=u[4],d=u[5],f=u[6]>>4&15;i+="."+vm(l)+"."+vm(d)+"."+vm(f)}break}case"av01":{const u=pa(r,["av1C"])[0];if(u&&u.length>2){const l=u[1]>>>5,d=u[1]&31,f=u[2]>>>7?"H":"M",A=(u[2]&64)>>6,p=(u[2]&32)>>5,v=l===2&&A?p?12:10:A?10:8,y=(u[2]&16)>>4,x=(u[2]&8)>>3,w=(u[2]&4)>>2,E=u[2]&3;i+="."+l+"."+vm(d)+f+"."+vm(v)+"."+y+"."+x+w+E+"."+vm(1)+"."+vm(1)+"."+vm(1)+"."+0,s=z2("dav1",r)}break}}return{codec:i,encrypted:a,supplemental:s}}function z2(t,e){const r=pa(e,["dvvC"]),n=r.length?r[0]:pa(e,["dvcC"])[0];if(n){const i=n[2]>>1&127,s=n[2]<<5&32|n[3]>>3&31;return t+"."+vm(i)+"."+vm(s)}}function H6e(t){let e=0;for(let r=0;r<32;r++)e|=(t>>r&1)<<31-r;return e>>>0}function rB(t,e){const r=e+5;for(;t[e++]&128&&e<r;);return e}function K2(t){return("0"+t.toString(16).toUpperCase()).slice(-2)}function vm(t){return(t<10?"0":"")+t}function Q6e(t,e){if(!t||!e)return;const r=e.keyId;r&&e.isCommonEncryption&&Dne(t,(n,i)=>{const s=n.subarray(8,24);s.some(a=>a!==0)||($o.log(`[eme] Patching keyId in 'enc${i?"a":"v"}>sinf>>tenc' box: ${Md(s)} -> ${Md(r)}`),n.set(r,8))})}function V6e(t){const e=[];return Dne(t,r=>e.push(r.subarray(8,24))),e}function Dne(t,e){pa(t,["moov","trak"]).forEach(n=>{const i=pa(n,["mdia","minf","stbl","stsd"])[0];if(!i)return;const s=i.subarray(8);let a=pa(s,["enca"]);const c=a.length>0;c||(a=pa(s,["encv"])),a.forEach(u=>{const l=c?u.subarray(28):u.subarray(78);pa(l,["sinf"]).forEach(f=>{const A=Mne(f);A&&e(A,c)})})})}function Mne(t){const e=pa(t,["schm"])[0];if(e){const r=Ou(e.subarray(4,8));if(r==="cbcs"||r==="cenc"){const n=pa(t,["schi","tenc"])[0];if(n)return n}}}function z6e(t,e,r){const n={},i=pa(t,["moof","traf"]);for(let s=0;s<i.length;s++){const a=i[s],c=pa(a,["tfhd"])[0],u=Bs(c,4),l=e[u];if(!l)continue;n[u]||(n[u]={start:NaN,duration:0,sampleCount:0,timescale:l.timescale,type:l.type});const d=n[u],f=pa(a,["tfdt"])[0];if(f){const T=f[0];let C=Bs(f,4);T===1&&(C===Vz?r.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"):(C*=Vz+1,C+=Bs(f,8))),qn(C)&&(!qn(d.start)||C<d.start)&&(d.start=C)}const A=l.default,p=Bs(c,0)|A?.flags;let v=A?.duration||0;p&8&&(p&2?v=Bs(c,12):v=Bs(c,8));const y=pa(a,["trun"]);let x=d.start||0,w=0,E=v;for(let T=0;T<y.length;T++){const C=y[T],j=Bs(C,4),P=d.sampleCount;d.sampleCount+=j;const U=C[3]&1,W=C[3]&4,q=C[2]&1,re=C[2]&2,ie=C[2]&4,Ae=C[2]&8;let be=8,Ee=j;for(U&&(be+=4),W&&j&&(!(C[be+1]&1)&&d.keyFrameIndex===void 0&&(d.keyFrameIndex=P),be+=4,q?(E=Bs(C,be),be+=4):E=v,re&&(be+=4),Ae&&(be+=4),x+=E,w+=E,Ee--);Ee--;)q?(E=Bs(C,be),be+=4):E=v,re&&(be+=4),ie&&(C[be+1]&1||d.keyFrameIndex===void 0&&(d.keyFrameIndex=d.sampleCount-(Ee+1),d.keyFrameStart=x),be+=4),Ae&&(be+=4),x+=E,w+=E;!w&&v&&(w+=v*j)}d.duration+=w}if(!Object.keys(n).some(s=>n[s].duration)){let s=1/0,a=0;const c=pa(t,["sidx"]);for(let u=0;u<c.length;u++){const l=U6e(c[u]);if(l!=null&&l.references){s=Math.min(s,l.earliestPresentationTime/l.timescale);const d=l.references.reduce((f,A)=>f+A.info.duration||0,0);a=Math.max(a,d+l.earliestPresentationTime/l.timescale)}}a&&qn(a)&&Object.keys(n).forEach(u=>{n[u].duration||(n[u].duration=a*n[u].timescale-n[u].start)})}return n}function K6e(t){const e={valid:null,remainder:null},r=pa(t,["moof"]);if(r.length<2)return e.remainder=t,e;const n=r[r.length-1];return e.valid=t.slice(0,n.byteOffset-8),e.remainder=t.slice(n.byteOffset-8),e}function Wf(t,e){const r=new Uint8Array(t.length+e.length);return r.set(t),r.set(e,t.length),r}function Kz(t,e){const r=[],n=e.samples,i=e.timescale,s=e.id;let a=!1;return pa(n,["moof"]).map(u=>{const l=u.byteOffset-8;pa(u,["traf"]).map(f=>{const A=pa(f,["tfdt"]).map(p=>{const v=p[0];let y=Bs(p,4);return v===1&&(y*=Math.pow(2,32),y+=Bs(p,8)),y/i})[0];return A!==void 0&&(t=A),pa(f,["tfhd"]).map(p=>{const v=Bs(p,4),y=Bs(p,0)&16777215,x=(y&1)!==0,w=(y&2)!==0,E=(y&8)!==0;let T=0;const C=(y&16)!==0;let j=0;const P=(y&32)!==0;let U=8;v===s&&(x&&(U+=8),w&&(U+=4),E&&(T=Bs(p,U),U+=4),C&&(j=Bs(p,U),U+=4),P&&(U+=4),e.type==="video"&&(a=w5(e.codec)),pa(f,["trun"]).map(W=>{const q=W[0],re=Bs(W,0)&16777215,ie=(re&1)!==0;let Ae=0;const be=(re&4)!==0,Ee=(re&256)!==0;let ge=0;const se=(re&512)!==0;let xe=0;const ce=(re&1024)!==0,Me=(re&2048)!==0;let Oe=0;const we=Bs(W,4);let ue=8;ie&&(Ae=Bs(W,ue),ue+=4),be&&(ue+=4);let ye=Ae+l;for(let Le=0;Le<we;Le++){if(Ee?(ge=Bs(W,ue),ue+=4):ge=T,se?(xe=Bs(W,ue),ue+=4):xe=j,ce&&(ue+=4),Me&&(q===0?Oe=Bs(W,ue):Oe=Pne(W,ue),ue+=4),e.type===cl.VIDEO){let He=0;for(;He<xe;){const Fe=Bs(n,ye);if(ye+=4,G6e(a,n[ye])){const At=n.subarray(ye,ye+Fe);XM(At,a?2:1,t+Oe/i,r)}ye+=Fe,He+=Fe+4}}t+=ge/i}}))})})}),r}function w5(t){if(!t)return!1;const e=t.substring(0,4);return e==="hvc1"||e==="hev1"||e==="dvh1"||e==="dvhe"}function G6e(t,e){if(t){const r=e>>1&63;return r===39||r===40}else return(e&31)===6}function XM(t,e,r,n){const i=Fne(t);let s=0;s+=e;let a=0,c=0,u=0;for(;s<i.length;){a=0;do{if(s>=i.length)break;u=i[s++],a+=u}while(u===255);c=0;do{if(s>=i.length)break;u=i[s++],c+=u}while(u===255);const l=i.length-s;let d=s;if(c<l)s+=c;else if(c>l){$o.error(`Malformed SEI payload. ${c} is too small, only ${l} bytes left to parse.`);break}if(a===4){if(i[d++]===181){const A=One(i,d);if(d+=2,A===49){const p=Bs(i,d);if(d+=4,p===1195456820){const v=i[d++];if(v===3){const y=i[d++],x=31&y,w=64&y,E=w?2+x*3:0,T=new Uint8Array(E);if(w){T[0]=y;for(let C=1;C<E;C++)T[C]=i[d++]}n.push({type:v,payloadType:a,pts:r,bytes:T})}}}}}else if(a===5&&c>16){const f=[];for(let v=0;v<16;v++){const y=i[d++].toString(16);f.push(y.length==1?"0"+y:y),(v===3||v===5||v===7||v===9)&&f.push("-")}const A=c-16,p=new Uint8Array(A);for(let v=0;v<A;v++)p[v]=i[d++];n.push({payloadType:a,pts:r,uuid:f.join(""),userData:Af(p),userDataBytes:p})}}}function Fne(t){const e=t.byteLength,r=[];let n=1;for(;n<e-2;)t[n]===0&&t[n+1]===0&&t[n+2]===3?(r.push(n+2),n+=2):n++;if(r.length===0)return t;const i=e-r.length,s=new Uint8Array(i);let a=0;for(n=0;n<i;a++,n++)a===r[0]&&(a++,r.shift()),s[n]=t[a];return s}function W6e(t){const e=t[0];let r="",n="",i=0,s=0,a=0,c=0,u=0,l=0;if(e===0){for(;Ou(t.subarray(l,l+1))!=="\0";)r+=Ou(t.subarray(l,l+1)),l+=1;for(r+=Ou(t.subarray(l,l+1)),l+=1;Ou(t.subarray(l,l+1))!=="\0";)n+=Ou(t.subarray(l,l+1)),l+=1;n+=Ou(t.subarray(l,l+1)),l+=1,i=Bs(t,12),s=Bs(t,16),c=Bs(t,20),u=Bs(t,24),l=28}else if(e===1){l+=4,i=Bs(t,l),l+=4;const f=Bs(t,l);l+=4;const A=Bs(t,l);for(l+=4,a=2**32*f+A,_6e(a)||(a=Number.MAX_SAFE_INTEGER,$o.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),c=Bs(t,l),l+=4,u=Bs(t,l),l+=4;Ou(t.subarray(l,l+1))!=="\0";)r+=Ou(t.subarray(l,l+1)),l+=1;for(r+=Ou(t.subarray(l,l+1)),l+=1;Ou(t.subarray(l,l+1))!=="\0";)n+=Ou(t.subarray(l,l+1)),l+=1;n+=Ou(t.subarray(l,l+1)),l+=1}const d=t.subarray(l,t.byteLength);return{schemeIdUri:r,value:n,timeScale:i,presentationTime:a,presentationTimeDelta:s,eventDuration:c,id:u,payload:d}}function Y6e(t,...e){const r=e.length;let n=8,i=r;for(;i--;)n+=e[i].byteLength;const s=new Uint8Array(n);for(s[0]=n>>24&255,s[1]=n>>16&255,s[2]=n>>8&255,s[3]=n&255,s.set(t,4),i=0,n=8;i<r;i++)s.set(e[i],n),n+=e[i].byteLength;return s}function q6e(t,e,r){if(t.byteLength!==16)throw new RangeError("Invalid system id");let n,i;n=0,i=new Uint8Array;let s;n>0?(s=new Uint8Array(4),e.length>0&&new DataView(s.buffer).setUint32(0,e.length,!1)):s=new Uint8Array;const a=new Uint8Array(4);return r.byteLength>0&&new DataView(a.buffer).setUint32(0,r.byteLength,!1),Y6e([112,115,115,104],new Uint8Array([n,0,0,0]),t,s,i,a,r)}function X6e(t){const e=[];if(t instanceof ArrayBuffer){const r=t.byteLength;let n=0;for(;n+32<r;){const i=new DataView(t,n),s=Z6e(i);e.push(s),n+=s.size}}return e}function Z6e(t){const e=t.getUint32(0),r=t.byteOffset,n=t.byteLength;if(n<e)return{offset:r,size:n};if(t.getUint32(4)!==1886614376)return{offset:r,size:e};const s=t.getUint32(8)>>>24;if(s!==0&&s!==1)return{offset:r,size:e};const a=t.buffer,c=Md(new Uint8Array(a,r+12,16));let u=null,l=null,d=0;if(s===0)d=28;else{const A=t.getUint32(28);if(!A||n<32+A*16)return{offset:r,size:e};u=[];for(let p=0;p<A;p++)u.push(new Uint8Array(a,r+32+p*16,16));d=32+A*16}if(!d)return{offset:r,size:e};const f=t.getUint32(d);return e-32<f?{offset:r,size:e}:(l=new Uint8Array(a,r+d+4,f),{version:s,systemId:c,kids:u,data:l,offset:r,size:e})}const Une=()=>/\(Windows.+Firefox\//i.test(navigator.userAgent),Ib={audio:{a3ds:1,"ac-3":.95,"ac-4":1,alac:.9,alaw:1,dra1:1,"dts+":1,"dts-":1,dtsc:1,dtse:1,dtsh:1,"ec-3":.9,enca:1,fLaC:.9,flac:.9,FLAC:.9,g719:1,g726:1,m4ae:1,mha1:1,mha2:1,mhm1:1,mhm2:1,mlpa:1,mp4a:1,"raw ":1,Opus:1,opus:1,samr:1,sawb:1,sawp:1,sevc:1,sqcp:1,ssmv:1,twos:1,ulaw:1},video:{avc1:1,avc2:1,avc3:1,avc4:1,avcp:1,av01:.8,dav1:.8,drac:1,dva1:1,dvav:1,dvh1:.7,dvhe:.7,encv:1,hev1:.75,hvc1:.75,mjp2:1,mp4v:1,mvc1:1,mvc2:1,mvc3:1,mvc4:1,resv:1,rv60:1,s263:1,svc1:1,svc2:1,"vc-1":1,vp08:1,vp09:.9},text:{stpp:1,wvtt:1}};function ZM(t,e){const r=Ib[e];return!!r&&!!r[t.slice(0,4)]}function PE(t,e,r=!0){return!t.split(",").some(n=>!JM(n,e,r))}function JM(t,e,r=!0){var n;const i=T0(r);return(n=i?.isTypeSupported(RE(t,e)))!=null?n:!1}function RE(t,e){return`${e}/mp4;codecs=${t}`}function Gz(t){if(t){const e=t.substring(0,4);return Ib.video[e]}return 2}function Cj(t){const e=Une();return t.split(",").reduce((r,n)=>{const s=e&&w5(n)?9:Ib.video[n];return s?(s*2+r)/(r?3:2):(Ib.audio[n]+r)/(r?2:1)},0)}const nB={};function J6e(t,e=!0){if(nB[t])return nB[t];const r={flac:["flac","fLaC","FLAC"],opus:["opus","Opus"],"mp4a.40.34":["mp3"]}[t];for(let i=0;i<r.length;i++){var n;if(JM(r[i],"audio",e))return nB[t]=r[i],r[i];if(r[i]==="mp3"&&(n=T0(e))!=null&&n.isTypeSupported("audio/mpeg"))return""}return t}const e8e=/flac|opus|mp4a\.40\.34/i;function jj(t,e=!0){return t.replace(e8e,r=>J6e(r.toLowerCase(),e))}function t8e(t,e){const r=[];if(t){const n=t.split(",");for(let i=0;i<n.length;i++)ZM(n[i],"video")||r.push(n[i])}return e&&r.push(e),r.join(",")}function US(t,e){if(t&&(t.length>4||["ac-3","ec-3","alac","fLaC","Opus"].indexOf(t)!==-1)&&(Wz(t,"audio")||Wz(t,"video")))return t;if(e){const r=e.split(",");if(r.length>1){if(t){for(let n=r.length;n--;)if(r[n].substring(0,4)===t.substring(0,4))return r[n]}return r[0]}}return e||t}function Wz(t,e){return ZM(t,e)&&JM(t,e)}function r8e(t){const e=t.split(",");for(let r=0;r<e.length;r++){const n=e[r].split(".");n.length>2&&n[0]==="avc1"&&(e[r]=`avc1.${parseInt(n[1]).toString(16)}${("000"+parseInt(n[2]).toString(16)).slice(-4)}`)}return e.join(",")}function n8e(t){if(t.startsWith("av01.")){const e=t.split("."),r=["0","111","01","01","01","0"];for(let n=e.length;n>4&&n<10;n++)e[n]=r[n-4];return e.join(".")}return t}function Yz(t){const e=T0(t)||{isTypeSupported:()=>!1};return{mpeg:e.isTypeSupported("audio/mpeg"),mp3:e.isTypeSupported('audio/mp4; codecs="mp3"'),ac3:e.isTypeSupported('audio/mp4; codecs="ac-3"')}}function $O(t){return t.replace(/^.+codecs=["']?([^"']+).*$/,"$1")}const i8e={supported:!0,powerEfficient:!0,smooth:!0},s8e={supported:!1,smooth:!1,powerEfficient:!1},$ne={supported:!0,configurations:[],decodingInfoResults:[i8e]};function Hne(t,e){return{supported:!1,configurations:e,decodingInfoResults:[s8e],error:t}}function a8e(t,e,r,n,i,s){const a=t.videoCodec,c=t.audioCodec?t.audioGroups:null,u=s?.audioCodec,l=s?.channels,d=l?parseInt(l):u?1/0:2;let f=null;if(c!=null&&c.length)try{c.length===1&&c[0]?f=e.groups[c[0]].channels:f=c.reduce((A,p)=>{if(p){const v=e.groups[p];if(!v)throw new Error(`Audio track group ${p} not found`);Object.keys(v.channels).forEach(y=>{A[y]=(A[y]||0)+v.channels[y]})}return A},{2:0})}catch{return!0}return a!==void 0&&(a.split(",").some(A=>w5(A))||t.width>1920&&t.height>1088||t.height>1920&&t.width>1088||t.frameRate>Math.max(n,30)||t.videoRange!=="SDR"&&t.videoRange!==r||t.bitrate>Math.max(i,8e6))||!!f&&qn(d)&&Object.keys(f).some(A=>parseInt(A)>d)}function Qne(t,e,r,n={}){const i=t.videoCodec;if(!i&&!t.audioCodec||!r)return Promise.resolve($ne);const s=[],a=o8e(t),c=a.length,u=l8e(t,e,c>0),l=u.length;for(let d=c||1*l||1;d--;){const f={type:"media-source"};if(c&&(f.video=a[d%c]),l){f.audio=u[d%l];const A=f.audio.bitrate;f.video&&A&&(f.video.bitrate-=A)}s.push(f)}if(i){const d=navigator.userAgent;if(i.split(",").some(f=>w5(f))&&Une())return Promise.resolve(Hne(new Error(`Overriding Windows Firefox HEVC MediaCapabilities result based on user-agent string: (${d})`),s))}return Promise.all(s.map(d=>{const f=u8e(d);return n[f]||(n[f]=r.decodingInfo(d))})).then(d=>({supported:!d.some(f=>!f.supported),configurations:s,decodingInfoResults:d})).catch(d=>({supported:!1,configurations:s,decodingInfoResults:[],error:d}))}function o8e(t){var e;const r=(e=t.videoCodec)==null?void 0:e.split(","),n=Vne(t),i=t.width||640,s=t.height||480,a=t.frameRate||30,c=t.videoRange.toLowerCase();return r?r.map(u=>{const l={contentType:RE(n8e(u),"video"),width:i,height:s,bitrate:n,framerate:a};return c!=="sdr"&&(l.transferFunction=c),l}):[]}function l8e(t,e,r){var n;const i=(n=t.audioCodec)==null?void 0:n.split(","),s=Vne(t);return i&&t.audioGroups?t.audioGroups.reduce((a,c)=>{var u;const l=c?(u=e.groups[c])==null?void 0:u.tracks:null;return l?l.reduce((d,f)=>{if(f.groupId===c){const A=parseFloat(f.channels||"");i.forEach(p=>{const v={contentType:RE(p,"audio"),bitrate:r?c8e(p,s):s};A&&(v.channels=""+A),d.push(v)})}return d},a):a},[]):[]}function c8e(t,e){if(e<=1)return 1;let r=128e3;return t==="ec-3"?r=768e3:t==="ac-3"&&(r=64e4),Math.min(e/2,r)}function Vne(t){return Math.ceil(Math.max(t.bitrate*.9,t.averageBitrate)/1e3)*1e3||1}function u8e(t){let e="";const{audio:r,video:n}=t;if(n){const i=$O(n.contentType);e+=`${i}_r${n.height}x${n.width}f${Math.ceil(n.framerate)}${n.transferFunction||"sd"}_${Math.ceil(n.bitrate/1e5)}`}if(r){const i=$O(r.contentType);e+=`${n?"_":""}${i}_c${r.channels}`}return e}const HO=["NONE","TYPE-0","TYPE-1",null];function d8e(t){return HO.indexOf(t)>-1}const Nj=["SDR","PQ","HLG"];function h8e(t){return!!t&&Nj.indexOf(t)>-1}var $S={No:"",Yes:"YES",v2:"v2"};function qz(t){const{canSkipUntil:e,canSkipDateRanges:r,age:n}=t,i=n<e/2;return e&&i?r?$S.v2:$S.Yes:$S.No}class Xz{constructor(e,r,n){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=e,this.part=r,this.skip=n}addDirectives(e){const r=new self.URL(e);return this.msn!==void 0&&r.searchParams.set("_HLS_msn",this.msn.toString()),this.part!==void 0&&r.searchParams.set("_HLS_part",this.part.toString()),this.skip&&r.searchParams.set("_HLS_skip",this.skip),r.href}}class DE{constructor(e){if(this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.url=void 0,this.frameRate=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.supplemental=void 0,this.videoCodec=void 0,this.width=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.supportedPromise=void 0,this.supportedResult=void 0,this._avgBitrate=0,this._audioGroups=void 0,this._subtitleGroups=void 0,this._urlId=0,this.url=[e.url],this._attrs=[e.attrs],this.bitrate=e.bitrate,e.details&&(this.details=e.details),this.id=e.id||0,this.name=e.name,this.width=e.width||0,this.height=e.height||0,this.frameRate=e.attrs.optionalFloat("FRAME-RATE",0),this._avgBitrate=e.attrs.decimalInteger("AVERAGE-BANDWIDTH"),this.audioCodec=e.audioCodec,this.videoCodec=e.videoCodec,this.codecSet=[e.videoCodec,e.audioCodec].filter(n=>!!n).map(n=>n.substring(0,4)).join(","),"supplemental"in e){var r;this.supplemental=e.supplemental;const n=(r=e.supplemental)==null?void 0:r.videoCodec;n&&n!==e.videoCodec&&(this.codecSet+=`,${n.substring(0,4)}`)}this.addGroupId("audio",e.attrs.AUDIO),this.addGroupId("text",e.attrs.SUBTITLES)}get maxBitrate(){return Math.max(this.realBitrate,this.bitrate)}get averageBitrate(){return this._avgBitrate||this.realBitrate||this.bitrate}get attrs(){return this._attrs[0]}get codecs(){return this.attrs.CODECS||""}get pathwayId(){return this.attrs["PATHWAY-ID"]||"."}get videoRange(){return this.attrs["VIDEO-RANGE"]||"SDR"}get score(){return this.attrs.optionalFloat("SCORE",0)}get uri(){return this.url[0]||""}hasAudioGroup(e){return Zz(this._audioGroups,e)}hasSubtitleGroup(e){return Zz(this._subtitleGroups,e)}get audioGroups(){return this._audioGroups}get subtitleGroups(){return this._subtitleGroups}addGroupId(e,r){if(r){if(e==="audio"){let n=this._audioGroups;n||(n=this._audioGroups=[]),n.indexOf(r)===-1&&n.push(r)}else if(e==="text"){let n=this._subtitleGroups;n||(n=this._subtitleGroups=[]),n.indexOf(r)===-1&&n.push(r)}}}get urlId(){return 0}set urlId(e){}get audioGroupIds(){return this.audioGroups?[this.audioGroupId]:void 0}get textGroupIds(){return this.subtitleGroups?[this.textGroupId]:void 0}get audioGroupId(){var e;return(e=this.audioGroups)==null?void 0:e[0]}get textGroupId(){var e;return(e=this.subtitleGroups)==null?void 0:e[0]}addFallback(){}}function Zz(t,e){return!e||!t?!1:t.indexOf(e)!==-1}function f8e(){if(typeof matchMedia=="function"){const t=matchMedia("(dynamic-range: high)"),e=matchMedia("bad query");if(t.media!==e.media)return t.matches===!0}return!1}function A8e(t,e){let r=!1,n=[];if(t&&(r=t!=="SDR",n=[t]),e){n=e.allowedVideoRanges||Nj.slice(0);const i=n.join("")!=="SDR"&&!e.videoCodec;r=e.preferHDR!==void 0?e.preferHDR:i&&f8e(),r||(n=["SDR"])}return{preferHDR:r,allowedVideoRanges:n}}const m8e=t=>{const e=new WeakSet;return(r,n)=>{if(t&&(n=t(r,n)),typeof n=="object"&&n!==null){if(e.has(n))return;e.add(n)}return n}},fl=(t,e)=>JSON.stringify(t,m8e(e));function p8e(t,e,r,n,i){const s=Object.keys(t),a=n?.channels,c=n?.audioCodec,u=i?.videoCodec,l=a&&parseInt(a)===2;let d=!1,f=!1,A=1/0,p=1/0,v=1/0,y=1/0,x=0,w=[];const{preferHDR:E,allowedVideoRanges:T}=A8e(e,i);for(let W=s.length;W--;){const q=t[s[W]];d||(d=q.channels[2]>0),A=Math.min(A,q.minHeight),p=Math.min(p,q.minFramerate),v=Math.min(v,q.minBitrate),T.filter(ie=>q.videoRanges[ie]>0).length>0&&(f=!0)}A=qn(A)?A:0,p=qn(p)?p:0;const C=Math.max(1080,A),j=Math.max(30,p);v=qn(v)?v:r,r=Math.max(v,r),f||(e=void 0);const P=s.length>1;return{codecSet:s.reduce((W,q)=>{const re=t[q];if(q===W)return W;if(w=f?T.filter(ie=>re.videoRanges[ie]>0):[],P){if(re.minBitrate>r)return tm(q,`min bitrate of ${re.minBitrate} > current estimate of ${r}`),W;if(!re.hasDefaultAudio)return tm(q,"no renditions with default or auto-select sound found"),W;if(c&&q.indexOf(c.substring(0,4))%5!==0)return tm(q,`audio codec preference "${c}" not found`),W;if(a&&!l){if(!re.channels[a])return tm(q,`no renditions with ${a} channel sound found (channels options: ${Object.keys(re.channels)})`),W}else if((!c||l)&&d&&re.channels[2]===0)return tm(q,"no renditions with stereo sound found"),W;if(re.minHeight>C)return tm(q,`min resolution of ${re.minHeight} > maximum of ${C}`),W;if(re.minFramerate>j)return tm(q,`min framerate of ${re.minFramerate} > maximum of ${j}`),W;if(!w.some(ie=>re.videoRanges[ie]>0))return tm(q,`no variants with VIDEO-RANGE of ${fl(w)} found`),W;if(u&&q.indexOf(u.substring(0,4))%5!==0)return tm(q,`video codec preference "${u}" not found`),W;if(re.maxScore<x)return tm(q,`max score of ${re.maxScore} < selected max of ${x}`),W}return W&&(Cj(q)>=Cj(W)||re.fragmentError>t[W].fragmentError)?W:(y=re.minIndex,x=re.maxScore,q)},void 0),videoRanges:w,preferHDR:E,minFramerate:p,minBitrate:v,minIndex:y}}function tm(t,e){$o.log(`[abr] start candidates with "${t}" ignored because ${e}`)}function zne(t){return t.reduce((e,r)=>{let n=e.groups[r.groupId];n||(n=e.groups[r.groupId]={tracks:[],channels:{2:0},hasDefault:!1,hasAutoSelect:!1}),n.tracks.push(r);const i=r.channels||"2";return n.channels[i]=(n.channels[i]||0)+1,n.hasDefault=n.hasDefault||r.default,n.hasAutoSelect=n.hasAutoSelect||r.autoselect,n.hasDefault&&(e.hasDefaultAudio=!0),n.hasAutoSelect&&(e.hasAutoSelectAudio=!0),e},{hasDefaultAudio:!1,hasAutoSelectAudio:!1,groups:{}})}function g8e(t,e,r,n){return t.slice(r,n+1).reduce((i,s,a)=>{if(!s.codecSet)return i;const c=s.audioGroups;let u=i[s.codecSet];u||(i[s.codecSet]=u={minBitrate:1/0,minHeight:1/0,minFramerate:1/0,minIndex:a,maxScore:0,videoRanges:{SDR:0},channels:{2:0},hasDefaultAudio:!c,fragmentError:0}),u.minBitrate=Math.min(u.minBitrate,s.bitrate);const l=Math.min(s.height,s.width);return u.minHeight=Math.min(u.minHeight,l),u.minFramerate=Math.min(u.minFramerate,s.frameRate),u.minIndex=Math.min(u.minIndex,a),u.maxScore=Math.max(u.maxScore,s.score),u.fragmentError+=s.fragmentError,u.videoRanges[s.videoRange]=(u.videoRanges[s.videoRange]||0)+1,c&&c.forEach(d=>{if(!d)return;const f=e.groups[d];f&&(u.hasDefaultAudio=u.hasDefaultAudio||e.hasDefaultAudio?f.hasDefault:f.hasAutoSelect||!e.hasDefaultAudio&&!e.hasAutoSelectAudio,Object.keys(f.channels).forEach(A=>{u.channels[A]=(u.channels[A]||0)+f.channels[A]}))}),i},{})}function Jz(t){if(!t)return t;const{lang:e,assocLang:r,characteristics:n,channels:i,audioCodec:s}=t;return{lang:e,assocLang:r,characteristics:n,channels:i,audioCodec:s}}function Tm(t,e,r){if("attrs"in t){const n=e.indexOf(t);if(n!==-1)return n}for(let n=0;n<e.length;n++){const i=e[n];if(Hv(t,i,r))return n}return-1}function Hv(t,e,r){const{groupId:n,name:i,lang:s,assocLang:a,default:c}=t,u=t.forced;return(n===void 0||e.groupId===n)&&(i===void 0||e.name===i)&&(s===void 0||v8e(s,e.lang))&&(s===void 0||e.assocLang===a)&&(c===void 0||e.default===c)&&(u===void 0||e.forced===u)&&(!("characteristics"in t)||y8e(t.characteristics||"",e.characteristics))&&(r===void 0||r(t,e))}function v8e(t,e="--"){return t.length===e.length?t===e:t.startsWith(e)||e.startsWith(t)}function y8e(t,e=""){const r=t.split(","),n=e.split(",");return r.length===n.length&&!r.some(i=>n.indexOf(i)===-1)}function uv(t,e){const{audioCodec:r,channels:n}=t;return(r===void 0||(e.audioCodec||"").substring(0,4)===r.substring(0,4))&&(n===void 0||n===(e.channels||"2"))}function x8e(t,e,r,n,i){const s=e[n],c=e.reduce((A,p,v)=>{const y=p.uri;return(A[y]||(A[y]=[])).push(v),A},{})[s.uri];c.length>1&&(n=Math.max.apply(Math,c));const u=s.videoRange,l=s.frameRate,d=s.codecSet.substring(0,4),f=eK(e,n,A=>{if(A.videoRange!==u||A.frameRate!==l||A.codecSet.substring(0,4)!==d)return!1;const p=A.audioGroups,v=r.filter(y=>!p||p.indexOf(y.groupId)!==-1);return Tm(t,v,i)>-1});return f>-1?f:eK(e,n,A=>{const p=A.audioGroups,v=r.filter(y=>!p||p.indexOf(y.groupId)!==-1);return Tm(t,v,i)>-1})}function eK(t,e,r){for(let n=e;n>-1;n--)if(r(t[n]))return n;for(let n=e+1;n<t.length;n++)if(r(t[n]))return n;return-1}function kj(t,e){var r;return!!t&&t!==((r=e.loadLevelObj)==null?void 0:r.uri)}class b8e extends Zf{constructor(e){super("abr",e.logger),this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=-1,this.firstSelection=-1,this._nextAutoLevel=-1,this.nextAutoLevelKey="",this.audioTracksByGroup=null,this.codecTiers=null,this.timer=-1,this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.rebufferNotice=-1,this.supportedCache={},this.bwEstimator=void 0,this._abandonRulesCheck=r=>{var n;const{fragCurrent:i,partCurrent:s,hls:a}=this,{autoLevelEnabled:c,media:u}=a;if(!i||!u)return;const l=performance.now(),d=s?s.stats:i.stats,f=s?s.duration:i.duration,A=l-d.loading.start,p=a.minAutoLevel,v=i.level,y=this._nextAutoLevel;if(d.aborted||d.loaded&&d.loaded===d.total||v<=p){this.clearTimer(),this._nextAutoLevel=-1;return}if(!c)return;const x=y>-1&&y!==v,w=!!r||x;if(!w&&(u.paused||!u.playbackRate||!u.readyState))return;const E=a.mainForwardBufferInfo;if(!w&&E===null)return;const T=this.bwEstimator.getEstimateTTFB(),C=Math.abs(u.playbackRate);if(A<=Math.max(T,1e3*(f/(C*2))))return;const j=E?E.len/C:0,P=d.loading.first?d.loading.first-d.loading.start:-1,U=d.loaded&&P>-1,W=this.getBwEstimate(),q=a.levels,re=q[v],ie=Math.max(d.loaded,Math.round(f*(i.bitrate||re.averageBitrate)/8));let Ae=U?A-P:A;Ae<1&&U&&(Ae=Math.min(A,d.loaded*8/W));const be=U?d.loaded*1e3/Ae:0,Ee=T/1e3,ge=be?(ie-d.loaded)/be:ie*8/W+Ee;if(ge<=j)return;const se=be?be*8:W,xe=((n=r?.details||this.hls.latestLevelDetails)==null?void 0:n.live)===!0,ce=this.hls.config.abrBandWidthUpFactor;let Me=Number.POSITIVE_INFINITY,Oe;for(Oe=v-1;Oe>p;Oe--){const Le=q[Oe].maxBitrate,He=!q[Oe].details||xe;if(Me=this.getTimeToLoadFrag(Ee,se,f*Le,He),Me<Math.min(j,f+Ee))break}if(Me>=ge||Me>f*10)return;U?this.bwEstimator.sample(A-Math.min(T,P),d.loaded):this.bwEstimator.sampleTTFB(A);const we=q[Oe].maxBitrate;this.getBwEstimate()*ce>we&&this.resetEstimator(we);const ue=this.findBestLevel(we,p,Oe,0,j,1,1);ue>-1&&(Oe=ue),this.warn(`Fragment ${i.sn}${s?" part "+s.index:""} of level ${v} is loading too slowly;
      Fragment duration: ${i.duration.toFixed(3)}
      Time to underbuffer: ${j.toFixed(3)} s
      Estimated load time for current fragment: ${ge.toFixed(3)} s
      Estimated load time for down switch fragment: ${Me.toFixed(3)} s
      TTFB estimate: ${P|0} ms
      Current BW estimate: ${qn(W)?W|0:"Unknown"} bps
      New BW estimate: ${this.getBwEstimate()|0} bps
      Switching to level ${Oe} @ ${we|0} bps`),a.nextLoadLevel=a.nextAutoLevel=Oe,this.clearTimer();const ye=()=>{if(this.clearTimer(),this.fragCurrent===i&&this.hls.loadLevel===Oe&&Oe>0){const Le=this.getStarvationDelay();if(this.warn(`Aborting inflight request ${Oe>0?"and switching down":""}
      Fragment duration: ${i.duration.toFixed(3)} s
      Time to underbuffer: ${Le.toFixed(3)} s`),i.abortRequests(),this.fragCurrent=this.partCurrent=null,Oe>p){let He=this.findBestLevel(this.hls.levels[p].bitrate,p,Oe,0,Le,1,1);He===-1&&(He=p),this.hls.nextLoadLevel=this.hls.nextAutoLevel=He,this.resetEstimator(this.hls.levels[He].bitrate)}}};x||ge>Me*2?ye():this.timer=self.setInterval(ye,Me*1e3),a.trigger(Ie.FRAG_LOAD_EMERGENCY_ABORTED,{frag:i,part:s,stats:d})},this.hls=e,this.bwEstimator=this.initEstimator(),this.registerListeners()}resetEstimator(e){e&&(this.log(`setting initial bwe to ${e}`),this.hls.config.abrEwmaDefaultEstimate=e),this.firstSelection=-1,this.bwEstimator=this.initEstimator()}initEstimator(){const e=this.hls.config;return new T6e(e.abrEwmaSlowVoD,e.abrEwmaFastVoD,e.abrEwmaDefaultEstimate)}registerListeners(){const{hls:e}=this;e.on(Ie.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Ie.FRAG_LOADING,this.onFragLoading,this),e.on(Ie.FRAG_LOADED,this.onFragLoaded,this),e.on(Ie.FRAG_BUFFERED,this.onFragBuffered,this),e.on(Ie.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(Ie.LEVEL_LOADED,this.onLevelLoaded,this),e.on(Ie.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(Ie.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),e.on(Ie.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e&&(e.off(Ie.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Ie.FRAG_LOADING,this.onFragLoading,this),e.off(Ie.FRAG_LOADED,this.onFragLoaded,this),e.off(Ie.FRAG_BUFFERED,this.onFragBuffered,this),e.off(Ie.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(Ie.LEVEL_LOADED,this.onLevelLoaded,this),e.off(Ie.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(Ie.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),e.off(Ie.ERROR,this.onError,this))}destroy(){this.unregisterListeners(),this.clearTimer(),this.hls=this._abandonRulesCheck=this.supportedCache=null,this.fragCurrent=this.partCurrent=null}onManifestLoading(e,r){this.lastLoadedFragLevel=-1,this.firstSelection=-1,this.lastLevelLoadSec=0,this.supportedCache={},this.fragCurrent=this.partCurrent=null,this.onLevelsUpdated(),this.clearTimer()}onLevelsUpdated(){this.lastLoadedFragLevel>-1&&this.fragCurrent&&(this.lastLoadedFragLevel=this.fragCurrent.level),this._nextAutoLevel=-1,this.onMaxAutoLevelUpdated(),this.codecTiers=null,this.audioTracksByGroup=null}onMaxAutoLevelUpdated(){this.firstSelection=-1,this.nextAutoLevelKey=""}onFragLoading(e,r){const n=r.frag;if(!this.ignoreFragment(n)){if(!n.bitrateTest){var i;this.fragCurrent=n,this.partCurrent=(i=r.part)!=null?i:null}this.clearTimer(),this.timer=self.setInterval(this._abandonRulesCheck,100)}}onLevelSwitching(e,r){this.clearTimer()}onError(e,r){if(!r.fatal)switch(r.details){case gr.BUFFER_ADD_CODEC_ERROR:case gr.BUFFER_APPEND_ERROR:this.lastLoadedFragLevel=-1,this.firstSelection=-1;break;case gr.FRAG_LOAD_TIMEOUT:{const n=r.frag,{fragCurrent:i,partCurrent:s}=this;if(n&&i&&n.sn===i.sn&&n.level===i.level){const a=performance.now(),c=s?s.stats:n.stats,u=a-c.loading.start,l=c.loading.first?c.loading.first-c.loading.start:-1;if(c.loaded&&l>-1){const f=this.bwEstimator.getEstimateTTFB();this.bwEstimator.sample(u-Math.min(f,l),c.loaded)}else this.bwEstimator.sampleTTFB(u)}break}}}getTimeToLoadFrag(e,r,n,i){const s=e+n/r,a=i?e+this.lastLevelLoadSec:0;return s+a}onLevelLoaded(e,r){const n=this.hls.config,{loading:i}=r.stats,s=i.end-i.first;qn(s)&&(this.lastLevelLoadSec=s/1e3),r.details.live?this.bwEstimator.update(n.abrEwmaSlowLive,n.abrEwmaFastLive):this.bwEstimator.update(n.abrEwmaSlowVoD,n.abrEwmaFastVoD),this.timer>-1&&this._abandonRulesCheck(r.levelInfo)}onFragLoaded(e,{frag:r,part:n}){const i=n?n.stats:r.stats;if(r.type===fi.MAIN&&this.bwEstimator.sampleTTFB(i.loading.first-i.loading.start),!this.ignoreFragment(r)){if(this.clearTimer(),r.level===this._nextAutoLevel&&(this._nextAutoLevel=-1),this.firstSelection=-1,this.hls.config.abrMaxWithRealBitrate){const s=n?n.duration:r.duration,a=this.hls.levels[r.level],c=(a.loaded?a.loaded.bytes:0)+i.loaded,u=(a.loaded?a.loaded.duration:0)+s;a.loaded={bytes:c,duration:u},a.realBitrate=Math.round(8*c/u)}if(r.bitrateTest){const s={stats:i,frag:r,part:n,id:r.type};this.onFragBuffered(Ie.FRAG_BUFFERED,s),r.bitrateTest=!1}else this.lastLoadedFragLevel=r.level}}onFragBuffered(e,r){const{frag:n,part:i}=r,s=i!=null&&i.stats.loaded?i.stats:n.stats;if(s.aborted||this.ignoreFragment(n))return;const a=s.parsing.end-s.loading.start-Math.min(s.loading.first-s.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(a,s.loaded),s.bwEstimate=this.getBwEstimate(),n.bitrateTest?this.bitrateTestDelay=a/1e3:this.bitrateTestDelay=0}ignoreFragment(e){return e.type!==fi.MAIN||e.sn==="initSegment"}clearTimer(){this.timer>-1&&(self.clearInterval(this.timer),this.timer=-1)}get firstAutoLevel(){const{maxAutoLevel:e,minAutoLevel:r}=this.hls,n=this.getBwEstimate(),i=this.hls.config.maxStarvationDelay,s=this.findBestLevel(n,r,e,0,i,1,1);if(s>-1)return s;const a=this.hls.firstLevel,c=Math.min(Math.max(a,r),e);return this.warn(`Could not find best starting auto level. Defaulting to first in playlist ${a} clamped to ${c}`),c}get forcedAutoLevel(){return this.nextAutoLevelKey?-1:this._nextAutoLevel}get nextAutoLevel(){const e=this.forcedAutoLevel,n=this.bwEstimator.canEstimate(),i=this.lastLoadedFragLevel>-1;if(e!==-1&&(!n||!i||this.nextAutoLevelKey===this.getAutoLevelKey()))return e;const s=n&&i?this.getNextABRAutoLevel():this.firstAutoLevel;if(e!==-1){const a=this.hls.levels;if(a.length>Math.max(e,s)&&a[e].loadError<=a[s].loadError)return e}return this._nextAutoLevel=s,this.nextAutoLevelKey=this.getAutoLevelKey(),s}getAutoLevelKey(){return`${this.getBwEstimate()}_${this.getStarvationDelay().toFixed(2)}`}getNextABRAutoLevel(){const{fragCurrent:e,partCurrent:r,hls:n}=this;if(n.levels.length<=1)return n.loadLevel;const{maxAutoLevel:i,config:s,minAutoLevel:a}=n,c=r?r.duration:e?e.duration:0,u=this.getBwEstimate(),l=this.getStarvationDelay();let d=s.abrBandWidthFactor,f=s.abrBandWidthUpFactor;if(l){const x=this.findBestLevel(u,a,i,l,0,d,f);if(x>=0)return this.rebufferNotice=-1,x}let A=c?Math.min(c,s.maxStarvationDelay):s.maxStarvationDelay;if(!l){const x=this.bitrateTestDelay;x&&(A=(c?Math.min(c,s.maxLoadingDelay):s.maxLoadingDelay)-x,this.info(`bitrate test took ${Math.round(1e3*x)}ms, set first fragment max fetchDuration to ${Math.round(1e3*A)} ms`),d=f=1)}const p=this.findBestLevel(u,a,i,l,A,d,f);if(this.rebufferNotice!==p&&(this.rebufferNotice=p,this.info(`${l?"rebuffering expected":"buffer is empty"}, optimal quality level ${p}`)),p>-1)return p;const v=n.levels[a],y=n.loadLevelObj;return y&&v?.bitrate<y.bitrate?a:n.loadLevel}getStarvationDelay(){const e=this.hls,r=e.media;if(!r)return 1/0;const n=r&&r.playbackRate!==0?Math.abs(r.playbackRate):1,i=e.mainForwardBufferInfo;return(i?i.len:0)/n}getBwEstimate(){return this.bwEstimator.canEstimate()?this.bwEstimator.getEstimate():this.hls.config.abrEwmaDefaultEstimate}findBestLevel(e,r,n,i,s,a,c){var u;const l=i+s,d=this.lastLoadedFragLevel,f=d===-1?this.hls.firstLevel:d,{fragCurrent:A,partCurrent:p}=this,{levels:v,allAudioTracks:y,loadLevel:x,config:w}=this.hls;if(v.length===1)return 0;const E=v[f],T=!!((u=this.hls.latestLevelDetails)!=null&&u.live),C=x===-1||d===-1;let j,P="SDR",U=E?.frameRate||0;const{audioPreference:W,videoPreference:q}=w,re=this.audioTracksByGroup||(this.audioTracksByGroup=zne(y));let ie=-1;if(C){if(this.firstSelection!==-1)return this.firstSelection;const se=this.codecTiers||(this.codecTiers=g8e(v,re,r,n)),xe=p8e(se,P,e,W,q),{codecSet:ce,videoRanges:Me,minFramerate:Oe,minBitrate:we,minIndex:ue,preferHDR:ye}=xe;ie=ue,j=ce,P=ye?Me[Me.length-1]:Me[0],U=Oe,e=Math.max(e,we),this.log(`picked start tier ${fl(xe)}`)}else j=E?.codecSet,P=E?.videoRange;const Ae=p?p.duration:A?A.duration:0,be=this.bwEstimator.getEstimateTTFB()/1e3,Ee=[];for(let se=n;se>=r;se--){var ge;const xe=v[se],ce=se>f;if(!xe)continue;if(w.useMediaCapabilities&&!xe.supportedResult&&!xe.supportedPromise){const He=navigator.mediaCapabilities;typeof He?.decodingInfo=="function"&&a8e(xe,re,P,U,e,W)?(xe.supportedPromise=Qne(xe,re,He,this.supportedCache),xe.supportedPromise.then(Fe=>{if(!this.hls)return;xe.supportedResult=Fe;const At=this.hls.levels,pt=At.indexOf(xe);Fe.error?this.warn(`MediaCapabilities decodingInfo error: "${Fe.error}" for level ${pt} ${fl(Fe)}`):Fe.supported?Fe.decodingInfoResults.some(Pe=>Pe.smooth===!1||Pe.powerEfficient===!1)&&this.log(`MediaCapabilities decodingInfo for level ${pt} not smooth or powerEfficient: ${fl(Fe)}`):(this.warn(`Unsupported MediaCapabilities decodingInfo result for level ${pt} ${fl(Fe)}`),pt>-1&&At.length>1&&(this.log(`Removing unsupported level ${pt}`),this.hls.removeLevel(pt),this.hls.loadLevel===-1&&(this.hls.nextLoadLevel=0)))}).catch(Fe=>{this.warn(`Error handling MediaCapabilities decodingInfo: ${Fe}`)})):xe.supportedResult=$ne}if((j&&xe.codecSet!==j||P&&xe.videoRange!==P||ce&&U>xe.frameRate||!ce&&U>0&&U<xe.frameRate||(ge=xe.supportedResult)!=null&&(ge=ge.decodingInfoResults)!=null&&ge.some(He=>He.smooth===!1))&&(!C||se!==ie)){Ee.push(se);continue}const Me=xe.details,Oe=(p?Me?.partTarget:Me?.averagetargetduration)||Ae;let we;ce?we=c*e:we=a*e;const ue=Ae&&i>=Ae*2&&s===0?xe.averageBitrate:xe.maxBitrate,ye=this.getTimeToLoadFrag(be,we,ue*Oe,Me===void 0);if(we>=ue&&(se===d||xe.loadError===0&&xe.fragmentError===0)&&(ye<=be||!qn(ye)||T&&!this.bitrateTestDelay||ye<l)){const He=this.forcedAutoLevel;return se!==x&&(He===-1||He!==x)&&(Ee.length&&this.trace(`Skipped level(s) ${Ee.join(",")} of ${n} max with CODECS and VIDEO-RANGE:"${v[Ee[0]].codecs}" ${v[Ee[0]].videoRange}; not compatible with "${j}" ${P}`),this.info(`switch candidate:${f}->${se} adjustedbw(${Math.round(we)})-bitrate=${Math.round(we-ue)} ttfb:${be.toFixed(1)} avgDuration:${Oe.toFixed(1)} maxFetchDuration:${l.toFixed(1)} fetchDuration:${ye.toFixed(1)} firstSelection:${C} codecSet:${xe.codecSet} videoRange:${xe.videoRange} hls.loadLevel:${x}`)),C&&(this.firstSelection=se),se}}return-1}set nextAutoLevel(e){const r=this.deriveNextAutoLevel(e);this._nextAutoLevel!==r&&(this.nextAutoLevelKey="",this._nextAutoLevel=r)}deriveNextAutoLevel(e){const{maxAutoLevel:r,minAutoLevel:n}=this.hls;return Math.min(Math.max(e,n),r)}}const Kne={search:function(t,e){let r=0,n=t.length-1,i=null,s=null;for(;r<=n;){i=(r+n)/2|0,s=t[i];const a=e(s);if(a>0)r=i+1;else if(a<0)n=i-1;else return s}return null}};function w8e(t,e,r){if(e===null||!Array.isArray(t)||!t.length||!qn(e))return null;const n=t[0].programDateTime;if(e<(n||0))return null;const i=t[t.length-1].endProgramDateTime;if(e>=(i||0))return null;for(let s=0;s<t.length;++s){const a=t[s];if(_8e(e,r,a))return a}return null}function uy(t,e,r=0,n=0,i=.005){let s=null;if(t){s=e[1+t.sn-e[0].sn]||null;const c=t.endDTS-r;c>0&&c<15e-7&&(r+=15e-7),s&&t.level!==s.level&&s.end<=t.end&&(s=e[2+t.sn-e[0].sn]||null)}else r===0&&e[0].start===0&&(s=e[0]);if(s&&((!t||t.level===s.level)&&tK(r,n,s)===0||E8e(s,t,Math.min(i,n))))return s;const a=Kne.search(e,tK.bind(null,r,n));return a&&(a!==t||!s)?a:s}function E8e(t,e,r){if(e&&e.start===0&&e.level<t.level&&(e.endPTS||0)>0){const n=e.tagList.reduce((i,s)=>(s[0]==="INF"&&(i+=parseFloat(s[1])),i),r);return t.start<=n}return!1}function tK(t=0,e=0,r){if(r.start<=t&&r.start+r.duration>t)return 0;const n=Math.min(e,r.duration+(r.deltaPTS?r.deltaPTS:0));return r.start+r.duration-n<=t?1:r.start-n>t&&r.start?-1:0}function _8e(t,e,r){const n=Math.min(e,r.duration+(r.deltaPTS?r.deltaPTS:0))*1e3;return(r.endProgramDateTime||0)-n>t}function Gne(t,e,r){if(t&&t.startCC<=e&&t.endCC>=e){let n=t.fragments;const{fragmentHint:i}=t;i&&(n=n.concat(i));let s;return Kne.search(n,a=>a.cc<e?1:a.cc>e?-1:(s=a,a.end<=r?1:a.start>r?-1:0)),s||null}return null}function Ij(t){switch(t.details){case gr.FRAG_LOAD_TIMEOUT:case gr.KEY_LOAD_TIMEOUT:case gr.LEVEL_LOAD_TIMEOUT:case gr.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function Wne(t){return t.details.startsWith("key")}function Yne(t){return Wne(t)&&!!t.frag&&!t.frag.decryptdata}function rK(t,e){const r=Ij(e);return t.default[`${r?"timeout":"error"}Retry`]}function eF(t,e){const r=t.backoff==="linear"?1:Math.pow(2,e);return Math.min(r*t.retryDelayMs,t.maxRetryDelayMs)}function nK(t){return Fo(Fo({},t),{errorRetry:null,timeoutRetry:null})}function Lj(t,e,r,n){if(!t)return!1;const i=n?.code,s=e<t.maxNumRetry&&(S8e(i)||!!r);return t.shouldRetry?t.shouldRetry(t,e,r,n,s):s}function S8e(t){return QO(t)||!!t&&(t<400||t>499)}function QO(t){return t===0&&navigator.onLine===!1}var Dd={DoNothing:0,SendAlternateToPenaltyBox:2,RemoveAlternatePermanently:3,RetryRequest:5},ef={None:0,MoveAllAlternatesMatchingHost:1,MoveAllAlternatesMatchingHDCP:2,MoveAllAlternatesMatchingKey:4};class T8e extends Zf{constructor(e){super("error-controller",e.logger),this.hls=void 0,this.playlistError=0,this.hls=e,this.registerListeners()}registerListeners(){const e=this.hls;e.on(Ie.ERROR,this.onError,this),e.on(Ie.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Ie.LEVEL_UPDATED,this.onLevelUpdated,this)}unregisterListeners(){const e=this.hls;e&&(e.off(Ie.ERROR,this.onError,this),e.off(Ie.ERROR,this.onErrorOut,this),e.off(Ie.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Ie.LEVEL_UPDATED,this.onLevelUpdated,this))}destroy(){this.unregisterListeners(),this.hls=null}startLoad(e){}stopLoad(){this.playlistError=0}getVariantLevelIndex(e){return e?.type===fi.MAIN?e.level:this.getVariantIndex()}getVariantIndex(){var e;const r=this.hls,n=r.currentLevel;return(e=r.loadLevelObj)!=null&&e.details||n===-1?r.loadLevel:n}variantHasKey(e,r){if(e){var n;if((n=e.details)!=null&&n.hasKey(r))return!0;const i=e.audioGroups;if(i)return this.hls.allAudioTracks.filter(a=>i.indexOf(a.groupId)>=0).some(a=>{var c;return(c=a.details)==null?void 0:c.hasKey(r)})}return!1}onManifestLoading(){this.playlistError=0}onLevelUpdated(){this.playlistError=0}onError(e,r){var n;if(r.fatal)return;const i=this.hls,s=r.context;switch(r.details){case gr.FRAG_LOAD_ERROR:case gr.FRAG_LOAD_TIMEOUT:case gr.KEY_LOAD_ERROR:case gr.KEY_LOAD_TIMEOUT:r.errorAction=this.getFragRetryOrSwitchAction(r);return;case gr.FRAG_PARSING_ERROR:if((n=r.frag)!=null&&n.gap){r.errorAction=ib();return}case gr.FRAG_GAP:case gr.FRAG_DECRYPT_ERROR:{r.errorAction=this.getFragRetryOrSwitchAction(r),r.errorAction.action=Dd.SendAlternateToPenaltyBox;return}case gr.LEVEL_EMPTY_ERROR:case gr.LEVEL_PARSING_ERROR:{var a;const u=r.parent===fi.MAIN?r.level:i.loadLevel;r.details===gr.LEVEL_EMPTY_ERROR&&((a=r.context)!=null&&(a=a.levelDetails)!=null&&a.live)?r.errorAction=this.getPlaylistRetryOrSwitchAction(r,u):(r.levelRetry=!1,r.errorAction=this.getLevelSwitchAction(r,u))}return;case gr.LEVEL_LOAD_ERROR:case gr.LEVEL_LOAD_TIMEOUT:typeof s?.level=="number"&&(r.errorAction=this.getPlaylistRetryOrSwitchAction(r,s.level));return;case gr.AUDIO_TRACK_LOAD_ERROR:case gr.AUDIO_TRACK_LOAD_TIMEOUT:case gr.SUBTITLE_LOAD_ERROR:case gr.SUBTITLE_TRACK_LOAD_TIMEOUT:if(s){const u=i.loadLevelObj;if(u&&(s.type===xa.AUDIO_TRACK&&u.hasAudioGroup(s.groupId)||s.type===xa.SUBTITLE_TRACK&&u.hasSubtitleGroup(s.groupId))){r.errorAction=this.getPlaylistRetryOrSwitchAction(r,i.loadLevel),r.errorAction.action=Dd.SendAlternateToPenaltyBox,r.errorAction.flags=ef.MoveAllAlternatesMatchingHost;return}}return;case gr.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:r.errorAction={action:Dd.SendAlternateToPenaltyBox,flags:ef.MoveAllAlternatesMatchingHDCP};return;case gr.KEY_SYSTEM_SESSION_UPDATE_FAILED:case gr.KEY_SYSTEM_STATUS_INTERNAL_ERROR:case gr.KEY_SYSTEM_NO_SESSION:r.errorAction={action:Dd.SendAlternateToPenaltyBox,flags:ef.MoveAllAlternatesMatchingKey};return;case gr.BUFFER_ADD_CODEC_ERROR:case gr.REMUX_ALLOC_ERROR:case gr.BUFFER_APPEND_ERROR:if(!r.errorAction){var c;r.errorAction=this.getLevelSwitchAction(r,(c=r.level)!=null?c:i.loadLevel)}return;case gr.INTERNAL_EXCEPTION:case gr.BUFFER_APPENDING_ERROR:case gr.BUFFER_FULL_ERROR:case gr.LEVEL_SWITCH_ERROR:case gr.BUFFER_STALLED_ERROR:case gr.BUFFER_SEEK_OVER_HOLE:case gr.BUFFER_NUDGE_ON_STALL:r.errorAction=ib();return}r.type===Pi.KEY_SYSTEM_ERROR&&(r.levelRetry=!1,r.errorAction=ib())}getPlaylistRetryOrSwitchAction(e,r){const n=this.hls,i=rK(n.config.playlistLoadPolicy,e),s=this.playlistError++;if(Lj(i,s,Ij(e),e.response))return{action:Dd.RetryRequest,flags:ef.None,retryConfig:i,retryCount:s};const c=this.getLevelSwitchAction(e,r);return i&&(c.retryConfig=i,c.retryCount=s),c}getFragRetryOrSwitchAction(e){const r=this.hls,n=this.getVariantLevelIndex(e.frag),i=r.levels[n],{fragLoadPolicy:s,keyLoadPolicy:a}=r.config,c=rK(Wne(e)?a:s,e),u=r.levels.reduce((d,f)=>d+f.fragmentError,0);if(i&&(e.details!==gr.FRAG_GAP&&i.fragmentError++,!Yne(e)&&Lj(c,u,Ij(e),e.response)))return{action:Dd.RetryRequest,flags:ef.None,retryConfig:c,retryCount:u};const l=this.getLevelSwitchAction(e,n);return c&&(l.retryConfig=c,l.retryCount=u),l}getLevelSwitchAction(e,r){const n=this.hls;r==null&&(r=n.loadLevel);const i=this.hls.levels[r];if(i){var s,a;const l=e.details;i.loadError++,l===gr.BUFFER_APPEND_ERROR&&i.fragmentError++;let d=-1;const{levels:f,loadLevel:A,minAutoLevel:p,maxAutoLevel:v}=n;!n.autoLevelEnabled&&!n.config.preserveManualLevelOnError&&(n.loadLevel=-1);const y=(s=e.frag)==null?void 0:s.type,w=(y===fi.AUDIO&&l===gr.FRAG_PARSING_ERROR||e.sourceBufferName==="audio"&&(l===gr.BUFFER_ADD_CODEC_ERROR||l===gr.BUFFER_APPEND_ERROR))&&f.some(({audioCodec:P})=>i.audioCodec!==P),T=e.sourceBufferName==="video"&&(l===gr.BUFFER_ADD_CODEC_ERROR||l===gr.BUFFER_APPEND_ERROR)&&f.some(({codecSet:P,audioCodec:U})=>i.codecSet!==P&&i.audioCodec===U),{type:C,groupId:j}=(a=e.context)!=null?a:{};for(let P=f.length;P--;){const U=(P+A)%f.length;if(U!==A&&U>=p&&U<=v&&f[U].loadError===0){var c,u;const W=f[U];if(l===gr.FRAG_GAP&&y===fi.MAIN&&e.frag){const q=f[U].details;if(q){const re=uy(e.frag,q.fragments,e.frag.start);if(re!=null&&re.gap)continue}}else{if(C===xa.AUDIO_TRACK&&W.hasAudioGroup(j)||C===xa.SUBTITLE_TRACK&&W.hasSubtitleGroup(j))continue;if(y===fi.AUDIO&&(c=i.audioGroups)!=null&&c.some(q=>W.hasAudioGroup(q))||y===fi.SUBTITLE&&(u=i.subtitleGroups)!=null&&u.some(q=>W.hasSubtitleGroup(q))||w&&i.audioCodec===W.audioCodec||T&&i.codecSet===W.codecSet||!w&&i.codecSet!==W.codecSet)continue}d=U;break}}if(d>-1&&n.loadLevel!==d)return e.levelRetry=!0,this.playlistError=0,{action:Dd.SendAlternateToPenaltyBox,flags:ef.None,nextAutoLevel:d}}return{action:Dd.SendAlternateToPenaltyBox,flags:ef.MoveAllAlternatesMatchingHost}}onErrorOut(e,r){var n;switch((n=r.errorAction)==null?void 0:n.action){case Dd.DoNothing:break;case Dd.SendAlternateToPenaltyBox:this.sendAlternateToPenaltyBox(r),!r.errorAction.resolved&&r.details!==gr.FRAG_GAP?r.fatal=!0:/MediaSource readyState: ended/.test(r.error.message)&&(this.warn(`MediaSource ended after "${r.sourceBufferName}" sourceBuffer append error. Attempting to recover from media error.`),this.hls.recoverMediaError());break}if(r.fatal){this.hls.stopLoad();return}}sendAlternateToPenaltyBox(e){const r=this.hls,n=e.errorAction;if(!n)return;const{flags:i}=n,s=n.nextAutoLevel;switch(i){case ef.None:this.switchLevel(e,s);break;case ef.MoveAllAlternatesMatchingHDCP:{const u=this.getVariantLevelIndex(e.frag),l=r.levels[u],d=l?.attrs["HDCP-LEVEL"];if(n.hdcpLevel=d,d==="NONE")this.warn("HDCP policy resticted output with HDCP-LEVEL=NONE");else if(d){r.maxHdcpLevel=HO[HO.indexOf(d)-1],n.resolved=!0,this.warn(`Restricting playback to HDCP-LEVEL of "${r.maxHdcpLevel}" or lower`);break}}case ef.MoveAllAlternatesMatchingKey:{const u=e.decryptdata;if(u){const l=this.hls.levels,d=l.length;for(let A=d;A--;)if(this.variantHasKey(l[A],u)){var a,c;this.log(`Banned key found in level ${A} (${l[A].bitrate}bps) or audio group "${(a=l[A].audioGroups)==null?void 0:a.join(",")}" (${(c=e.frag)==null?void 0:c.type} fragment) ${Md(u.keyId||[])}`),l[A].fragmentError++,l[A].loadError++,this.log(`Removing level ${A} with key error (${e.error})`),this.hls.removeLevel(A)}const f=e.frag;if(this.hls.levels.length<d)n.resolved=!0;else if(f&&f.type!==fi.MAIN){const A=f.decryptdata;A&&!u.matches(A)&&(n.resolved=!0)}}break}}n.resolved||this.switchLevel(e,s)}switchLevel(e,r){if(r!==void 0&&e.errorAction&&(this.warn(`switching to level ${r} after ${e.details}`),this.hls.nextAutoLevel=r,e.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel,e.details===gr.BUFFER_ADD_CODEC_ERROR&&e.mimeType&&e.sourceBufferName!=="audiovideo")){const n=$O(e.mimeType),i=this.hls.levels;for(let s=i.length;s--;)i[s][`${e.sourceBufferName}Codec`]===n&&(this.log(`Removing level ${s} for ${e.details} ("${n}" not supported)`),this.hls.removeLevel(s))}}}function ib(t){const e={action:Dd.DoNothing,flags:ef.None};return t&&(e.resolved=!0),e}var Du={NOT_LOADED:"NOT_LOADED",APPENDING:"APPENDING",PARTIAL:"PARTIAL",OK:"OK"};class C8e{constructor(e){this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=e,this._registerListeners()}_registerListeners(){const{hls:e}=this;e&&(e.on(Ie.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Ie.BUFFER_APPENDED,this.onBufferAppended,this),e.on(Ie.FRAG_BUFFERED,this.onFragBuffered,this),e.on(Ie.FRAG_LOADED,this.onFragLoaded,this))}_unregisterListeners(){const{hls:e}=this;e&&(e.off(Ie.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Ie.BUFFER_APPENDED,this.onBufferAppended,this),e.off(Ie.FRAG_BUFFERED,this.onFragBuffered,this),e.off(Ie.FRAG_LOADED,this.onFragLoaded,this))}destroy(){this._unregisterListeners(),this.hls=this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null}getAppendedFrag(e,r){const n=this.activePartLists[r];if(n)for(let i=n.length;i--;){const s=n[i];if(!s)break;if(s.start<=e&&e<=s.end&&s.loaded)return s}return this.getBufferedFrag(e,r)}getBufferedFrag(e,r){return this.getFragAtPos(e,r,!0)}getFragAtPos(e,r,n){const{fragments:i}=this,s=Object.keys(i);for(let a=s.length;a--;){const c=i[s[a]];if(c?.body.type===r&&(!n||c.buffered)){const u=c.body;if(u.start<=e&&e<=u.end)return u}}return null}detectEvictedFragments(e,r,n,i,s){this.timeRanges&&(this.timeRanges[e]=r);const a=i?.fragment.sn||-1;Object.keys(this.fragments).forEach(c=>{const u=this.fragments[c];if(!u||a>=u.body.sn)return;if(!u.buffered&&(!u.loaded||s)){u.body.type===n&&this.removeFragment(u.body);return}const l=u.range[e];if(l){if(l.time.length===0){this.removeFragment(u.body);return}l.time.some(d=>{const f=!this.isTimeBuffered(d.startPTS,d.endPTS,r);return f&&this.removeFragment(u.body),f})}})}detectPartialFragments(e){const r=this.timeRanges;if(!r||e.frag.sn==="initSegment")return;const n=e.frag,i=Xy(n),s=this.fragments[i];if(!s||s.buffered&&n.gap)return;const a=!n.relurl;Object.keys(r).forEach(c=>{const u=n.elementaryStreams[c];if(!u)return;const l=r[c],d=a||u.partial===!0;s.range[c]=this.getBufferedTimes(n,e.part,d,l)}),s.loaded=null,Object.keys(s.range).length?(this.bufferedEnd(s,n),G2(s)||this.removeParts(n.sn-1,n.type)):this.removeFragment(s.body)}bufferedEnd(e,r){e.buffered=!0,(e.body.endList=r.endList||e.body.endList)&&(this.endListFragments[e.body.type]=e)}removeParts(e,r){const n=this.activePartLists[r];n&&(this.activePartLists[r]=iK(n,i=>i.fragment.sn>=e))}fragBuffered(e,r){const n=Xy(e);let i=this.fragments[n];!i&&r&&(i=this.fragments[n]={body:e,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},e.gap&&(this.hasGaps=!0)),i&&(i.loaded=null,this.bufferedEnd(i,e))}getBufferedTimes(e,r,n,i){const s={time:[],partial:n},a=e.start,c=e.end,u=e.minEndPTS||c,l=e.maxStartPTS||a;for(let d=0;d<i.length;d++){const f=i.start(d)-this.bufferPadding,A=i.end(d)+this.bufferPadding;if(l>=f&&u<=A){s.time.push({startPTS:Math.max(a,i.start(d)),endPTS:Math.min(c,i.end(d))});break}else if(a<A&&c>f){const p=Math.max(a,i.start(d)),v=Math.min(c,i.end(d));v>p&&(s.partial=!0,s.time.push({startPTS:p,endPTS:v}))}else if(c<=f)break}return s}getPartialFragment(e){let r=null,n,i,s,a=0;const{bufferPadding:c,fragments:u}=this;return Object.keys(u).forEach(l=>{const d=u[l];d&&G2(d)&&(i=d.body.start-c,s=d.body.end+c,e>=i&&e<=s&&(n=Math.min(e-i,s-e),a<=n&&(r=d.body,a=n)))}),r}isEndListAppended(e){const r=this.endListFragments[e];return r!==void 0&&(r.buffered||G2(r))}getState(e){const r=Xy(e),n=this.fragments[r];return n?n.buffered?G2(n)?Du.PARTIAL:Du.OK:Du.APPENDING:Du.NOT_LOADED}isTimeBuffered(e,r,n){let i,s;for(let a=0;a<n.length;a++){if(i=n.start(a)-this.bufferPadding,s=n.end(a)+this.bufferPadding,e>=i&&r<=s)return!0;if(r<=i)return!1}return!1}onManifestLoading(){this.removeAllFragments()}onFragLoaded(e,r){if(r.frag.sn==="initSegment"||r.frag.bitrateTest)return;const n=r.frag,i=r.part?null:r,s=Xy(n);this.fragments[s]={body:n,appendedPTS:null,loaded:i,buffered:!1,range:Object.create(null)}}onBufferAppended(e,r){const{frag:n,part:i,timeRanges:s,type:a}=r;if(n.sn==="initSegment")return;const c=n.type;if(i){let l=this.activePartLists[c];l||(this.activePartLists[c]=l=[]),l.push(i)}this.timeRanges=s;const u=s[a];this.detectEvictedFragments(a,u,c,i)}onFragBuffered(e,r){this.detectPartialFragments(r)}hasFragment(e){const r=Xy(e);return!!this.fragments[r]}hasFragments(e){const{fragments:r}=this,n=Object.keys(r);if(!e)return n.length>0;for(let i=n.length;i--;){const s=r[n[i]];if(s?.body.type===e)return!0}return!1}hasParts(e){var r;return!!((r=this.activePartLists[e])!=null&&r.length)}removeFragmentsInRange(e,r,n,i,s){i&&!this.hasGaps||Object.keys(this.fragments).forEach(a=>{const c=this.fragments[a];if(!c)return;const u=c.body;u.type!==n||i&&!u.gap||u.start<r&&u.end>e&&(c.buffered||s)&&this.removeFragment(u)})}removeFragment(e){const r=Xy(e);e.clearElementaryStreamInfo();const n=this.activePartLists[e.type];if(n){const i=e.sn;this.activePartLists[e.type]=iK(n,s=>s.fragment.sn!==i)}delete this.fragments[r],e.endList&&delete this.endListFragments[e.type]}removeAllFragments(){var e;this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1;const r=(e=this.hls)==null||(e=e.latestLevelDetails)==null?void 0:e.partList;r&&r.forEach(n=>n.clearElementaryStreamInfo())}}function G2(t){var e,r,n;return t.buffered&&!!(t.body.gap||(e=t.range.video)!=null&&e.partial||(r=t.range.audio)!=null&&r.partial||(n=t.range.audiovideo)!=null&&n.partial)}function Xy(t){return`${t.type}_${t.level}_${t.sn}`}function iK(t,e){return t.filter(r=>{const n=e(r);return n||r.clearElementaryStreamInfo(),n})}var C0={cbc:0,ctr:1};class j8e{constructor(e,r,n){this.subtle=void 0,this.aesIV=void 0,this.aesMode=void 0,this.subtle=e,this.aesIV=r,this.aesMode=n}decrypt(e,r){switch(this.aesMode){case C0.cbc:return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},r,e);case C0.ctr:return this.subtle.decrypt({name:"AES-CTR",counter:this.aesIV,length:64},r,e);default:throw new Error(`[AESCrypto] invalid aes mode ${this.aesMode}`)}}}function N8e(t){const e=t.byteLength,r=e&&new DataView(t.buffer).getUint8(e-1);return r?t.slice(0,e-r):t}class k8e{constructor(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}uint8ArrayToUint32Array_(e){const r=new DataView(e),n=new Uint32Array(4);for(let i=0;i<4;i++)n[i]=r.getUint32(i*4);return n}initTable(){const e=this.sBox,r=this.invSBox,n=this.subMix,i=n[0],s=n[1],a=n[2],c=n[3],u=this.invSubMix,l=u[0],d=u[1],f=u[2],A=u[3],p=new Uint32Array(256);let v=0,y=0,x=0;for(x=0;x<256;x++)x<128?p[x]=x<<1:p[x]=x<<1^283;for(x=0;x<256;x++){let w=y^y<<1^y<<2^y<<3^y<<4;w=w>>>8^w&255^99,e[v]=w,r[w]=v;const E=p[v],T=p[E],C=p[T];let j=p[w]*257^w*16843008;i[v]=j<<24|j>>>8,s[v]=j<<16|j>>>16,a[v]=j<<8|j>>>24,c[v]=j,j=C*16843009^T*65537^E*257^v*16843008,l[w]=j<<24|j>>>8,d[w]=j<<16|j>>>16,f[w]=j<<8|j>>>24,A[w]=j,v?(v=E^p[p[p[C^E]]],y^=p[p[y]]):v=y=1}}expandKey(e){const r=this.uint8ArrayToUint32Array_(e);let n=!0,i=0;for(;i<r.length&&n;)n=r[i]===this.key[i],i++;if(n)return;this.key=r;const s=this.keySize=r.length;if(s!==4&&s!==6&&s!==8)throw new Error("Invalid aes key size="+s);const a=this.ksRows=(s+6+1)*4;let c,u;const l=this.keySchedule=new Uint32Array(a),d=this.invKeySchedule=new Uint32Array(a),f=this.sBox,A=this.rcon,p=this.invSubMix,v=p[0],y=p[1],x=p[2],w=p[3];let E,T;for(c=0;c<a;c++){if(c<s){E=l[c]=r[c];continue}T=E,c%s===0?(T=T<<8|T>>>24,T=f[T>>>24]<<24|f[T>>>16&255]<<16|f[T>>>8&255]<<8|f[T&255],T^=A[c/s|0]<<24):s>6&&c%s===4&&(T=f[T>>>24]<<24|f[T>>>16&255]<<16|f[T>>>8&255]<<8|f[T&255]),l[c]=E=(l[c-s]^T)>>>0}for(u=0;u<a;u++)c=a-u,u&3?T=l[c]:T=l[c-4],u<4||c<=4?d[u]=T:d[u]=v[f[T>>>24]]^y[f[T>>>16&255]]^x[f[T>>>8&255]]^w[f[T&255]],d[u]=d[u]>>>0}networkToHostOrderSwap(e){return e<<24|(e&65280)<<8|(e&16711680)>>8|e>>>24}decrypt(e,r,n){const i=this.keySize+6,s=this.invKeySchedule,a=this.invSBox,c=this.invSubMix,u=c[0],l=c[1],d=c[2],f=c[3],A=this.uint8ArrayToUint32Array_(n);let p=A[0],v=A[1],y=A[2],x=A[3];const w=new Int32Array(e),E=new Int32Array(w.length);let T,C,j,P,U,W,q,re,ie,Ae,be,Ee,ge,se;const xe=this.networkToHostOrderSwap;for(;r<w.length;){for(ie=xe(w[r]),Ae=xe(w[r+1]),be=xe(w[r+2]),Ee=xe(w[r+3]),U=ie^s[0],W=Ee^s[1],q=be^s[2],re=Ae^s[3],ge=4,se=1;se<i;se++)T=u[U>>>24]^l[W>>16&255]^d[q>>8&255]^f[re&255]^s[ge],C=u[W>>>24]^l[q>>16&255]^d[re>>8&255]^f[U&255]^s[ge+1],j=u[q>>>24]^l[re>>16&255]^d[U>>8&255]^f[W&255]^s[ge+2],P=u[re>>>24]^l[U>>16&255]^d[W>>8&255]^f[q&255]^s[ge+3],U=T,W=C,q=j,re=P,ge=ge+4;T=a[U>>>24]<<24^a[W>>16&255]<<16^a[q>>8&255]<<8^a[re&255]^s[ge],C=a[W>>>24]<<24^a[q>>16&255]<<16^a[re>>8&255]<<8^a[U&255]^s[ge+1],j=a[q>>>24]<<24^a[re>>16&255]<<16^a[U>>8&255]<<8^a[W&255]^s[ge+2],P=a[re>>>24]<<24^a[U>>16&255]<<16^a[W>>8&255]<<8^a[q&255]^s[ge+3],E[r]=xe(T^p),E[r+1]=xe(P^v),E[r+2]=xe(j^y),E[r+3]=xe(C^x),p=ie,v=Ae,y=be,x=Ee,r=r+4}return E.buffer}}class I8e{constructor(e,r,n){this.subtle=void 0,this.key=void 0,this.aesMode=void 0,this.subtle=e,this.key=r,this.aesMode=n}expandKey(){const e=L8e(this.aesMode);return this.subtle.importKey("raw",this.key,{name:e},!1,["encrypt","decrypt"])}}function L8e(t){switch(t){case C0.cbc:return"AES-CBC";case C0.ctr:return"AES-CTR";default:throw new Error(`[FastAESKey] invalid aes mode ${t}`)}}const B8e=16;class tF{constructor(e,{removePKCS7Padding:r=!0}={}){if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.enableSoftwareAES=void 0,this.enableSoftwareAES=e.enableSoftwareAES,this.removePKCS7Padding=r,r)try{const n=self.crypto;n&&(this.subtle=n.subtle||n.webkitSubtle)}catch{}this.useSoftware=!this.subtle}destroy(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null}isSync(){return this.useSoftware}flush(){const{currentResult:e,remainderData:r}=this;if(!e||r)return this.reset(),null;const n=new Uint8Array(e);return this.reset(),this.removePKCS7Padding?N8e(n):n}reset(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)}decrypt(e,r,n,i){return this.useSoftware?new Promise((s,a)=>{const c=ArrayBuffer.isView(e)?e:new Uint8Array(e);this.softwareDecrypt(c,r,n,i);const u=this.flush();u?s(u.buffer):a(new Error("[softwareDecrypt] Failed to decrypt data"))}):this.webCryptoDecrypt(new Uint8Array(e),r,n,i)}softwareDecrypt(e,r,n,i){const{currentIV:s,currentResult:a,remainderData:c}=this;if(i!==C0.cbc||r.byteLength!==16)return $o.warn("SoftwareDecrypt: can only handle AES-128-CBC"),null;this.logOnce("JS AES decrypt"),c&&(e=Wf(c,e),this.remainderData=null);const u=this.getValidChunk(e);if(!u.length)return null;s&&(n=s);let l=this.softwareDecrypter;l||(l=this.softwareDecrypter=new k8e),l.expandKey(r);const d=a;return this.currentResult=l.decrypt(u.buffer,0,n),this.currentIV=u.slice(-16).buffer,d||null}webCryptoDecrypt(e,r,n,i){if(this.key!==r||!this.fastAesKey){if(!this.subtle)return Promise.resolve(this.onWebCryptoError(e,r,n,i));this.key=r,this.fastAesKey=new I8e(this.subtle,r,i)}return this.fastAesKey.expandKey().then(s=>this.subtle?(this.logOnce("WebCrypto AES decrypt"),new j8e(this.subtle,new Uint8Array(n),i).decrypt(e.buffer,s)):Promise.reject(new Error("web crypto not initialized"))).catch(s=>($o.warn(`[decrypter]: WebCrypto Error, disable WebCrypto API, ${s.name}: ${s.message}`),this.onWebCryptoError(e,r,n,i)))}onWebCryptoError(e,r,n,i){const s=this.enableSoftwareAES;if(s){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(e,r,n,i);const a=this.flush();if(a)return a.buffer}throw new Error("WebCrypto"+(s?" and softwareDecrypt":"")+": failed to decrypt data")}getValidChunk(e){let r=e;const n=e.length-e.length%B8e;return n!==e.length&&(r=e.slice(0,n),this.remainderData=e.slice(n)),r}logOnce(e){this.logEnabled&&($o.log(`[decrypter]: ${e}`),this.logEnabled=!1)}}const sK=Math.pow(2,17);class O8e{constructor(e){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=e}destroy(){this.loader&&(this.loader.destroy(),this.loader=null)}abort(){this.loader&&this.loader.abort()}load(e,r){const n=e.url;if(!n)return Promise.reject(new wp({type:Pi.NETWORK_ERROR,details:gr.FRAG_LOAD_ERROR,fatal:!1,frag:e,error:new Error(`Fragment does not have a ${n?"part list":"url"}`),networkDetails:null}));this.abort();const i=this.config,s=i.fLoader,a=i.loader;return new Promise((c,u)=>{if(this.loader&&this.loader.destroy(),e.gap)if(e.tagList.some(v=>v[0]==="GAP")){u(oK(e));return}else e.gap=!1;const l=this.loader=s?new s(i):new a(i),d=aK(e);e.loader=l;const f=nK(i.fragLoadPolicy.default),A={loadPolicy:f,timeout:f.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:e.sn==="initSegment"?1/0:sK};e.stats=l.stats;const p={onSuccess:(v,y,x,w)=>{this.resetLoader(e,l);let E=v.data;x.resetIV&&e.decryptdata&&(e.decryptdata.iv=new Uint8Array(E.slice(0,16)),E=E.slice(16)),c({frag:e,part:null,payload:E,networkDetails:w})},onError:(v,y,x,w)=>{this.resetLoader(e,l),u(new wp({type:Pi.NETWORK_ERROR,details:gr.FRAG_LOAD_ERROR,fatal:!1,frag:e,response:Fo({url:n,data:void 0},v),error:new Error(`HTTP Error ${v.code} ${v.text}`),networkDetails:x,stats:w}))},onAbort:(v,y,x)=>{this.resetLoader(e,l),u(new wp({type:Pi.NETWORK_ERROR,details:gr.INTERNAL_ABORTED,fatal:!1,frag:e,error:new Error("Aborted"),networkDetails:x,stats:v}))},onTimeout:(v,y,x)=>{this.resetLoader(e,l),u(new wp({type:Pi.NETWORK_ERROR,details:gr.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,error:new Error(`Timeout after ${A.timeout}ms`),networkDetails:x,stats:v}))}};r&&(p.onProgress=(v,y,x,w)=>r({frag:e,part:null,payload:x,networkDetails:w})),l.load(d,A,p)})}loadPart(e,r,n){this.abort();const i=this.config,s=i.fLoader,a=i.loader;return new Promise((c,u)=>{if(this.loader&&this.loader.destroy(),e.gap||r.gap){u(oK(e,r));return}const l=this.loader=s?new s(i):new a(i),d=aK(e,r);e.loader=l;const f=nK(i.fragLoadPolicy.default),A={loadPolicy:f,timeout:f.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:sK};r.stats=l.stats,l.load(d,A,{onSuccess:(p,v,y,x)=>{this.resetLoader(e,l),this.updateStatsFromPart(e,r);const w={frag:e,part:r,payload:p.data,networkDetails:x};n(w),c(w)},onError:(p,v,y,x)=>{this.resetLoader(e,l),u(new wp({type:Pi.NETWORK_ERROR,details:gr.FRAG_LOAD_ERROR,fatal:!1,frag:e,part:r,response:Fo({url:d.url,data:void 0},p),error:new Error(`HTTP Error ${p.code} ${p.text}`),networkDetails:y,stats:x}))},onAbort:(p,v,y)=>{e.stats.aborted=r.stats.aborted,this.resetLoader(e,l),u(new wp({type:Pi.NETWORK_ERROR,details:gr.INTERNAL_ABORTED,fatal:!1,frag:e,part:r,error:new Error("Aborted"),networkDetails:y,stats:p}))},onTimeout:(p,v,y)=>{this.resetLoader(e,l),u(new wp({type:Pi.NETWORK_ERROR,details:gr.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,part:r,error:new Error(`Timeout after ${A.timeout}ms`),networkDetails:y,stats:p}))}})})}updateStatsFromPart(e,r){const n=e.stats,i=r.stats,s=i.total;if(n.loaded+=i.loaded,s){const u=Math.round(e.duration/r.duration),l=Math.min(Math.round(n.loaded/s),u),f=(u-l)*Math.round(n.loaded/l);n.total=n.loaded+f}else n.total=Math.max(n.loaded,n.total);const a=n.loading,c=i.loading;a.start?a.first+=c.first-c.start:(a.start=c.start,a.first=c.first),a.end=c.end}resetLoader(e,r){e.loader=null,this.loader===r&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),r.destroy()}}function aK(t,e=null){const r=e||t,n={frag:t,part:e,responseType:"arraybuffer",url:r.url,headers:{},rangeStart:0,rangeEnd:0},i=r.byteRangeStartOffset,s=r.byteRangeEndOffset;if(qn(i)&&qn(s)){var a;let c=i,u=s;if(t.sn==="initSegment"&&P8e((a=t.decryptdata)==null?void 0:a.method)){const l=s-i;l%16&&(u=s+(16-l%16)),i!==0&&(n.resetIV=!0,c=i-16)}n.rangeStart=c,n.rangeEnd=u}return n}function oK(t,e){const r=new Error(`GAP ${t.gap?"tag":"attribute"} found`),n={type:Pi.MEDIA_ERROR,details:gr.FRAG_GAP,fatal:!1,frag:t,error:r,networkDetails:null};return e&&(n.part=e),(e||t).stats.aborted=!0,new wp(n)}function P8e(t){return t==="AES-128"||t==="AES-256"}class wp extends Error{constructor(e){super(e.error.message),this.data=void 0,this.data=e}}class qne extends Zf{constructor(e,r){super(e,r),this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}destroy(){this.onHandlerDestroying(),this.onHandlerDestroyed()}onHandlerDestroying(){this.clearNextTick(),this.clearInterval()}onHandlerDestroyed(){}hasInterval(){return!!this._tickInterval}hasNextTick(){return!!this._tickTimer}setInterval(e){return this._tickInterval?!1:(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,e),!0)}clearInterval(){return this._tickInterval?(self.clearInterval(this._tickInterval),this._tickInterval=null,!0):!1}clearNextTick(){return this._tickTimer?(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0):!1}tick(){this._tickCallCount++,this._tickCallCount===1&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)}tickImmediate(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)}doTick(){}}class rF{constructor(e,r,n,i=0,s=-1,a=!1){this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing=W2(),this.buffering={audio:W2(),video:W2(),audiovideo:W2()},this.level=e,this.sn=r,this.id=n,this.size=i,this.part=s,this.partial=a}}function W2(){return{start:0,executeStart:0,executeEnd:0,end:0}}const lK={length:0,start:()=>0,end:()=>0};class Us{static isBuffered(e,r){if(e){const n=Us.getBuffered(e);for(let i=n.length;i--;)if(r>=n.start(i)&&r<=n.end(i))return!0}return!1}static bufferedRanges(e){if(e){const r=Us.getBuffered(e);return Us.timeRangesToArray(r)}return[]}static timeRangesToArray(e){const r=[];for(let n=0;n<e.length;n++)r.push({start:e.start(n),end:e.end(n)});return r}static bufferInfo(e,r,n){if(e){const i=Us.bufferedRanges(e);if(i.length)return Us.bufferedInfo(i,r,n)}return{len:0,start:r,end:r,bufferedIndex:-1}}static bufferedInfo(e,r,n){r=Math.max(0,r),e.length>1&&e.sort((d,f)=>d.start-f.start||f.end-d.end);let i=-1,s=[];if(n)for(let d=0;d<e.length;d++){r>=e[d].start&&r<=e[d].end&&(i=d);const f=s.length;if(f){const A=s[f-1].end;e[d].start-A<n?e[d].end>A&&(s[f-1].end=e[d].end):s.push(e[d])}else s.push(e[d])}else s=e;let a=0,c,u=r,l=r;for(let d=0;d<s.length;d++){const f=s[d].start,A=s[d].end;if(i===-1&&r>=f&&r<=A&&(i=d),r+n>=f&&r<A)u=f,l=A,a=l-r;else if(r+n<f){c=f;break}}return{len:a,start:u||0,end:l||0,nextStart:c,buffered:e,bufferedIndex:i}}static getBuffered(e){try{return e.buffered||lK}catch(r){return $o.log("failed to get media.buffered",r),lK}}}const Xne=/\{\$([a-zA-Z0-9-_]+)\}/g;function cK(t){return Xne.test(t)}function VO(t,e){if(t.variableList!==null||t.hasVariableRefs){const r=t.variableList;return e.replace(Xne,n=>{const i=n.substring(2,n.length-1),s=r?.[i];return s===void 0?(t.playlistParsingError||(t.playlistParsingError=new Error(`Missing preceding EXT-X-DEFINE tag for Variable Reference: "${i}"`)),n):s})}return e}function uK(t,e,r){let n=t.variableList;n||(t.variableList=n={});let i,s;if("QUERYPARAM"in e){i=e.QUERYPARAM;try{const a=new self.URL(r).searchParams;if(a.has(i))s=a.get(i);else throw new Error(`"${i}" does not match any query parameter in URI: "${r}"`)}catch(a){t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE QUERYPARAM: ${a.message}`))}}else i=e.NAME,s=e.VALUE;i in n?t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE duplicate Variable Name declarations: "${i}"`)):n[i]=s||""}function R8e(t,e,r){const n=e.IMPORT;if(r&&n in r){let i=t.variableList;i||(t.variableList=i={}),i[n]=r[n]}else t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "${n}"`))}const D8e=/^(\d+)x(\d+)$/,dK=/(.+?)=(".*?"|.*?)(?:,|$)/g;class lc{constructor(e,r){typeof e=="string"&&(e=lc.parseAttrList(e,r)),nl(this,e)}get clientAttrs(){return Object.keys(this).filter(e=>e.substring(0,2)==="X-")}decimalInteger(e){const r=parseInt(this[e],10);return r>Number.MAX_SAFE_INTEGER?1/0:r}hexadecimalInteger(e){if(this[e]){let r=(this[e]||"0x").slice(2);r=(r.length&1?"0":"")+r;const n=new Uint8Array(r.length/2);for(let i=0;i<r.length/2;i++)n[i]=parseInt(r.slice(i*2,i*2+2),16);return n}return null}hexadecimalIntegerAsNumber(e){const r=parseInt(this[e],16);return r>Number.MAX_SAFE_INTEGER?1/0:r}decimalFloatingPoint(e){return parseFloat(this[e])}optionalFloat(e,r){const n=this[e];return n?parseFloat(n):r}enumeratedString(e){return this[e]}enumeratedStringList(e,r){const n=this[e];return(n?n.split(/[ ,]+/):[]).reduce((i,s)=>(i[s.toLowerCase()]=!0,i),r)}bool(e){return this[e]==="YES"}decimalResolution(e){const r=D8e.exec(this[e]);if(r!==null)return{width:parseInt(r[1],10),height:parseInt(r[2],10)}}static parseAttrList(e,r){let n;const i={};for(dK.lastIndex=0;(n=dK.exec(e))!==null;){const a=n[1].trim();let c=n[2];const u=c.indexOf('"')===0&&c.lastIndexOf('"')===c.length-1;let l=!1;if(u)c=c.slice(1,-1);else switch(a){case"IV":case"SCTE35-CMD":case"SCTE35-IN":case"SCTE35-OUT":l=!0}if(r&&(u||l))c=VO(r,c);else if(!l&&!u)switch(a){case"CLOSED-CAPTIONS":if(c==="NONE")break;case"ALLOWED-CPC":case"CLASS":case"ASSOC-LANGUAGE":case"AUDIO":case"BYTERANGE":case"CHANNELS":case"CHARACTERISTICS":case"CODECS":case"DATA-ID":case"END-DATE":case"GROUP-ID":case"ID":case"IMPORT":case"INSTREAM-ID":case"KEYFORMAT":case"KEYFORMATVERSIONS":case"LANGUAGE":case"NAME":case"PATHWAY-ID":case"QUERYPARAM":case"RECENTLY-REMOVED-DATERANGES":case"SERVER-URI":case"STABLE-RENDITION-ID":case"STABLE-VARIANT-ID":case"START-DATE":case"SUBTITLES":case"SUPPLEMENTAL-CODECS":case"URI":case"VALUE":case"VIDEO":case"X-ASSET-LIST":case"X-ASSET-URI":$o.warn(`${e}: attribute ${a} is missing quotes`)}i[a]=c}return i}}const M8e="com.apple.hls.interstitial";function F8e(t){return t!=="ID"&&t!=="CLASS"&&t!=="CUE"&&t!=="START-DATE"&&t!=="DURATION"&&t!=="END-DATE"&&t!=="END-ON-NEXT"}function U8e(t){return t==="SCTE35-OUT"||t==="SCTE35-IN"||t==="SCTE35-CMD"}class Zne{constructor(e,r,n=0){var i;if(this.attr=void 0,this.tagAnchor=void 0,this.tagOrder=void 0,this._startDate=void 0,this._endDate=void 0,this._dateAtEnd=void 0,this._cue=void 0,this._badValueForSameId=void 0,this.tagAnchor=r?.tagAnchor||null,this.tagOrder=(i=r?.tagOrder)!=null?i:n,r){const s=r.attr;for(const a in s)if(Object.prototype.hasOwnProperty.call(e,a)&&e[a]!==s[a]){$o.warn(`DATERANGE tag attribute: "${a}" does not match for tags with ID: "${e.ID}"`),this._badValueForSameId=a;break}e=nl(new lc({}),s,e)}if(this.attr=e,r?(this._startDate=r._startDate,this._cue=r._cue,this._endDate=r._endDate,this._dateAtEnd=r._dateAtEnd):this._startDate=new Date(e["START-DATE"]),"END-DATE"in this.attr){const s=r?.endDate||new Date(this.attr["END-DATE"]);qn(s.getTime())&&(this._endDate=s)}}get id(){return this.attr.ID}get class(){return this.attr.CLASS}get cue(){const e=this._cue;return e===void 0?this._cue=this.attr.enumeratedStringList(this.attr.CUE?"CUE":"X-CUE",{pre:!1,post:!1,once:!1}):e}get startTime(){const{tagAnchor:e}=this;return e===null||e.programDateTime===null?($o.warn(`Expected tagAnchor Fragment with PDT set for DateRange "${this.id}": ${e}`),NaN):e.start+(this.startDate.getTime()-e.programDateTime)/1e3}get startDate(){return this._startDate}get endDate(){const e=this._endDate||this._dateAtEnd;if(e)return e;const r=this.duration;return r!==null?this._dateAtEnd=new Date(this._startDate.getTime()+r*1e3):null}get duration(){if("DURATION"in this.attr){const e=this.attr.decimalFloatingPoint("DURATION");if(qn(e))return e}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}get plannedDuration(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}get endOnNext(){return this.attr.bool("END-ON-NEXT")}get isInterstitial(){return this.class===M8e}get isValid(){return!!this.id&&!this._badValueForSameId&&qn(this.startDate.getTime())&&(this.duration===null||this.duration>=0)&&(!this.endOnNext||!!this.class)&&(!this.attr.CUE||!this.cue.pre&&!this.cue.post||this.cue.pre!==this.cue.post)&&(!this.isInterstitial||"X-ASSET-URI"in this.attr||"X-ASSET-LIST"in this.attr)}}const $8e=10;class H8e{constructor(e){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.dateRangeTagCount=0,this.live=!0,this.requestScheduled=-1,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.appliedTimelineOffset=void 0,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=e}reloaded(e){if(!e){this.advanced=!0,this.updated=!0;return}const r=this.lastPartSn-e.lastPartSn,n=this.lastPartIndex-e.lastPartIndex;this.updated=this.endSN!==e.endSN||!!n||!!r||!this.live,this.advanced=this.endSN>e.endSN||r>0||r===0&&n>0,this.updated||this.advanced?this.misses=Math.floor(e.misses*.6):this.misses=e.misses+1}hasKey(e){return this.encryptedFragments.some(r=>{let n=r.decryptdata;return n||(r.setKeyFormat(e.keyFormat),n=r.decryptdata),!!n&&e.matches(n)})}get hasProgramDateTime(){return this.fragments.length?qn(this.fragments[this.fragments.length-1].programDateTime):!1}get levelTargetDuration(){return this.averagetargetduration||this.targetduration||$8e}get drift(){const e=this.driftEndTime-this.driftStartTime;return e>0?(this.driftEnd-this.driftStart)*1e3/e:1}get edge(){return this.partEnd||this.fragmentEnd}get partEnd(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].end:this.fragmentEnd}get fragmentEnd(){return this.fragments.length?this.fragments[this.fragments.length-1].end:0}get fragmentStart(){return this.fragments.length?this.fragments[0].start:0}get age(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}get lastPartIndex(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].index:-1}get maxPartIndex(){const e=this.partList;if(e){const r=this.lastPartIndex;if(r!==-1){for(let n=e.length;n--;)if(e[n].index>r)return e[n].index;return r}}return 0}get lastPartSn(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}get expired(){if(this.live&&this.age&&this.misses<3){const e=this.partEnd-this.fragmentStart;return this.age>Math.max(e,this.totalduration)+this.levelTargetDuration}return!1}}function Bj(t,e){return t.length===e.length?!t.some((r,n)=>r!==e[n]):!1}function hK(t,e){return!t&&!e?!0:!t||!e?!1:Bj(t,e)}function sb(t){return t==="AES-128"||t==="AES-256"||t==="AES-256-CTR"}function nF(t){switch(t){case"AES-128":case"AES-256":return C0.cbc;case"AES-256-CTR":return C0.ctr;default:throw new Error(`invalid full segment method ${t}`)}}function iF(t){return Uint8Array.from(atob(t),e=>e.charCodeAt(0))}function zO(t){return Uint8Array.from(unescape(encodeURIComponent(t)),e=>e.charCodeAt(0))}function Q8e(t){const e=zO(t).subarray(0,16),r=new Uint8Array(16);return r.set(e,16-e.length),r}function Jne(t){const e=function(n,i,s){const a=n[i];n[i]=n[s],n[s]=a};e(t,0,3),e(t,1,2),e(t,4,5),e(t,6,7)}function eie(t){const e=t.split(":");let r=null;if(e[0]==="data"&&e.length===2){const n=e[1].split(";"),i=n[n.length-1].split(",");if(i.length===2){const s=i[0]==="base64",a=i[1];s?(n.splice(-1,1),r=iF(a)):r=Q8e(a)}}return r}const Oj=typeof self<"u"?self:void 0;var dc={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},Fd={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.streamingkeydelivery",PLAYREADY:"com.microsoft.playready",WIDEVINE:"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"};function HS(t){switch(t){case Fd.FAIRPLAY:return dc.FAIRPLAY;case Fd.PLAYREADY:return dc.PLAYREADY;case Fd.WIDEVINE:return dc.WIDEVINE;case Fd.CLEARKEY:return dc.CLEARKEY}}function iB(t){switch(t){case dc.FAIRPLAY:return Fd.FAIRPLAY;case dc.PLAYREADY:return Fd.PLAYREADY;case dc.WIDEVINE:return Fd.WIDEVINE;case dc.CLEARKEY:return Fd.CLEARKEY}}function aw(t){const{drmSystems:e,widevineLicenseUrl:r}=t,n=e?[dc.FAIRPLAY,dc.WIDEVINE,dc.PLAYREADY,dc.CLEARKEY].filter(i=>!!e[i]):[];return!n[dc.WIDEVINE]&&r&&n.push(dc.WIDEVINE),n}const tie=(function(t){return Oj!=null&&(t=Oj.navigator)!=null&&t.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null})();function V8e(t,e,r,n){let i;switch(t){case dc.FAIRPLAY:i=["cenc","sinf"];break;case dc.WIDEVINE:case dc.PLAYREADY:i=["cenc"];break;case dc.CLEARKEY:i=["cenc","keyids"];break;default:throw new Error(`Unknown key-system: ${t}`)}return z8e(i,e,r,n)}function z8e(t,e,r,n){return[{initDataTypes:t,persistentState:n.persistentState||"optional",distinctiveIdentifier:n.distinctiveIdentifier||"optional",sessionTypes:n.sessionTypes||[n.sessionType||"temporary"],audioCapabilities:e.map(s=>({contentType:`audio/mp4; codecs=${s}`,robustness:n.audioRobustness||"",encryptionScheme:n.audioEncryptionScheme||null})),videoCapabilities:r.map(s=>({contentType:`video/mp4; codecs=${s}`,robustness:n.videoRobustness||"",encryptionScheme:n.videoEncryptionScheme||null}))}]}function K8e(t){var e;return!!t&&(t.sessionType==="persistent-license"||!!((e=t.sessionTypes)!=null&&e.some(r=>r==="persistent-license")))}function rie(t){const e=new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2),r=String.fromCharCode.apply(null,Array.from(e)),n=r.substring(r.indexOf("<"),r.length),a=new DOMParser().parseFromString(n,"text/xml").getElementsByTagName("KID")[0];if(a){const c=a.childNodes[0]?a.childNodes[0].nodeValue:a.getAttribute("VALUE");if(c){const u=iF(c).subarray(0,16);return Jne(u),u}}return null}let Zy={};class x0{static clearKeyUriToKeyIdMap(){Zy={}}static setKeyIdForUri(e,r){Zy[e]=r}static addKeyIdForUri(e){const r=Object.keys(Zy).length%Number.MAX_SAFE_INTEGER,n=new Uint8Array(16);return new DataView(n.buffer,12,4).setUint32(0,r),Zy[e]=n,n}constructor(e,r,n,i=[1],s=null,a){this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=e,this.uri=r,this.keyFormat=n,this.keyFormatVersions=i,this.iv=s,this.encrypted=e?e!=="NONE":!1,this.isCommonEncryption=this.encrypted&&!sb(e),a!=null&&a.startsWith("0x")&&(this.keyId=new Uint8Array(kne(a)))}matches(e){return e.uri===this.uri&&e.method===this.method&&e.encrypted===this.encrypted&&e.keyFormat===this.keyFormat&&Bj(e.keyFormatVersions,this.keyFormatVersions)&&hK(e.iv,this.iv)&&hK(e.keyId,this.keyId)}isSupported(){if(this.method){if(sb(this.method)||this.method==="NONE")return!0;if(this.keyFormat==="identity")return this.method==="SAMPLE-AES";switch(this.keyFormat){case Fd.FAIRPLAY:case Fd.WIDEVINE:case Fd.PLAYREADY:case Fd.CLEARKEY:return["SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)!==-1}}return!1}getDecryptData(e,r){if(!this.encrypted||!this.uri)return null;if(sb(this.method)){let s=this.iv;return s||(typeof e!="number"&&($o.warn(`missing IV for initialization segment with method="${this.method}" - compliance issue`),e=0),s=W8e(e)),new x0(this.method,this.uri,"identity",this.keyFormatVersions,s)}if(this.keyId){const s=Zy[this.uri];if(s&&!Bj(this.keyId,s)&&x0.setKeyIdForUri(this.uri,this.keyId),this.pssh)return this}const n=eie(this.uri);if(n)switch(this.keyFormat){case Fd.WIDEVINE:if(this.pssh=n,!this.keyId){const s=X6e(n.buffer);if(s.length){var i;const a=s[0];this.keyId=(i=a.kids)!=null&&i.length?a.kids[0]:null}}this.keyId||(this.keyId=fK(r));break;case Fd.PLAYREADY:{const s=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=q6e(s,null,n),this.keyId=rie(n);break}default:{let s=n.subarray(0,16);if(s.length!==16){const a=new Uint8Array(16);a.set(s,16-s.length),s=a}this.keyId=s;break}}if(!this.keyId||this.keyId.byteLength!==16){let s;s=G8e(r),s||(s=fK(r),s||(s=Zy[this.uri])),s&&(this.keyId=s,x0.setKeyIdForUri(this.uri,s))}return this}}function G8e(t){const e=t?.[Fd.WIDEVINE];return e?e.keyId:null}function fK(t){const e=t?.[Fd.PLAYREADY];if(e){const r=eie(e.uri);if(r)return rie(r)}return null}function W8e(t){const e=new Uint8Array(16);for(let r=12;r<16;r++)e[r]=t>>8*(15-r)&255;return e}const AK=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,mK=/#EXT-X-MEDIA:(.*)/g,Y8e=/^#EXT(?:INF|-X-TARGETDURATION):/m,sB=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[^\r\n]*)/.source,/#.*/.source].join("|"),"g"),q8e=new RegExp([/#EXT-X-(PROGRAM-DATE-TIME|BYTERANGE|DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP|INDEPENDENT-SEGMENTS)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|"));class Cm{static findGroup(e,r){for(let n=0;n<e.length;n++){const i=e[n];if(i.id===r)return i}}static resolve(e,r){return YM.buildAbsoluteURL(r,e,{alwaysNormalize:!0})}static isMediaPlaylist(e){return Y8e.test(e)}static parseMasterPlaylist(e,r){const n=cK(e),i={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:n},s=[];if(AK.lastIndex=0,!e.startsWith("#EXTM3U"))return i.playlistParsingError=new Error("no EXTM3U delimiter"),i;let a;for(;(a=AK.exec(e))!=null;)if(a[1]){var c;const l=new lc(a[1],i),d=VO(i,a[2]),f={attrs:l,bitrate:l.decimalInteger("BANDWIDTH")||l.decimalInteger("AVERAGE-BANDWIDTH"),name:l.NAME,url:Cm.resolve(d,r)},A=l.decimalResolution("RESOLUTION");A&&(f.width=A.width,f.height=A.height),vK(l.CODECS,f);const p=l["SUPPLEMENTAL-CODECS"];p&&(f.supplemental={},vK(p,f.supplemental)),(c=f.unknownCodecs)!=null&&c.length||s.push(f),i.levels.push(f)}else if(a[3]){const l=a[3],d=a[4];switch(l){case"SESSION-DATA":{const f=new lc(d,i),A=f["DATA-ID"];A&&(i.sessionData===null&&(i.sessionData={}),i.sessionData[A]=f);break}case"SESSION-KEY":{const f=pK(d,r,i);f.encrypted&&f.isSupported()?(i.sessionKeys===null&&(i.sessionKeys=[]),i.sessionKeys.push(f)):$o.warn(`[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "${d}"`);break}case"DEFINE":{{const f=new lc(d,i);uK(i,f,r)}break}case"CONTENT-STEERING":{const f=new lc(d,i);i.contentSteering={uri:Cm.resolve(f["SERVER-URI"],r),pathwayId:f["PATHWAY-ID"]||"."};break}case"START":{i.startTimeOffset=gK(d);break}}}const u=s.length>0&&s.length<i.levels.length;return i.levels=u?s:i.levels,i.levels.length===0&&(i.playlistParsingError=new Error("no levels found in manifest")),i}static parseMasterPlaylistMedia(e,r,n){let i;const s={},a=n.levels,c={AUDIO:a.map(l=>({id:l.attrs.AUDIO,audioCodec:l.audioCodec})),SUBTITLES:a.map(l=>({id:l.attrs.SUBTITLES,textCodec:l.textCodec})),"CLOSED-CAPTIONS":[]};let u=0;for(mK.lastIndex=0;(i=mK.exec(e))!==null;){const l=new lc(i[1],n),d=l.TYPE;if(d){const f=c[d],A=s[d]||[];s[d]=A;const p=l.LANGUAGE,v=l["ASSOC-LANGUAGE"],y=l.CHANNELS,x=l.CHARACTERISTICS,w=l["INSTREAM-ID"],E={attrs:l,bitrate:0,id:u++,groupId:l["GROUP-ID"]||"",name:l.NAME||p||"",type:d,default:l.bool("DEFAULT"),autoselect:l.bool("AUTOSELECT"),forced:l.bool("FORCED"),lang:p,url:l.URI?Cm.resolve(l.URI,r):""};if(v&&(E.assocLang=v),y&&(E.channels=y),x&&(E.characteristics=x),w&&(E.instreamId=w),f!=null&&f.length){const T=Cm.findGroup(f,E.groupId)||f[0];yK(E,T,"audioCodec"),yK(E,T,"textCodec")}A.push(E)}}return s}static parseLevelPlaylist(e,r,n,i,s,a){var c;const u={url:r},l=new H8e(r),d=l.fragments,f=[];let A=null,p=0,v=0,y=0,x=0,w=0,E=null,T=new tB(i,u),C,j,P,U=-1,W=!1,q=null,re;if(sB.lastIndex=0,l.m3u8=e,l.hasVariableRefs=cK(e),((c=sB.exec(e))==null?void 0:c[0])!=="#EXTM3U")return l.playlistParsingError=new Error("Missing format identifier #EXTM3U"),l;for(;(C=sB.exec(e))!==null;){W&&(W=!1,T=new tB(i,u),T.playlistOffset=y,T.setStart(y),T.sn=p,T.cc=x,w&&(T.bitrate=w),T.level=n,A&&(T.initSegment=A,A.rawProgramDateTime&&(T.rawProgramDateTime=A.rawProgramDateTime,A.rawProgramDateTime=null),q&&(T.setByteRange(q),q=null)));const Ee=C[1];if(Ee){T.duration=parseFloat(Ee);const ge=(" "+C[2]).slice(1);T.title=ge||null,T.tagList.push(ge?["INF",Ee,ge]:["INF",Ee])}else if(C[3]){if(qn(T.duration)){T.playlistOffset=y,T.setStart(y),P&&bK(T,P,l),T.sn=p,T.level=n,T.cc=x,d.push(T);const ge=(" "+C[3]).slice(1);T.relurl=VO(l,ge),KO(T,E,f),E=T,y+=T.duration,p++,v=0,W=!0}}else{if(C=C[0].match(q8e),!C){$o.warn("No matches on slow regex match for level playlist!");continue}for(j=1;j<C.length&&C[j]===void 0;j++);const ge=(" "+C[j]).slice(1),se=(" "+C[j+1]).slice(1),xe=C[j+2]?(" "+C[j+2]).slice(1):null;switch(ge){case"BYTERANGE":E?T.setByteRange(se,E):T.setByteRange(se);break;case"PROGRAM-DATE-TIME":T.rawProgramDateTime=se,T.tagList.push(["PROGRAM-DATE-TIME",se]),U===-1&&(U=d.length);break;case"PLAYLIST-TYPE":l.type&&mp(l,ge,C),l.type=se.toUpperCase();break;case"MEDIA-SEQUENCE":l.startSN!==0?mp(l,ge,C):d.length>0&&wK(l,ge,C),p=l.startSN=parseInt(se);break;case"SKIP":{l.skippedSegments&&mp(l,ge,C);const ce=new lc(se,l),Me=ce.decimalInteger("SKIPPED-SEGMENTS");if(qn(Me)){l.skippedSegments+=Me;for(let we=Me;we--;)d.push(null);p+=Me}const Oe=ce.enumeratedString("RECENTLY-REMOVED-DATERANGES");Oe&&(l.recentlyRemovedDateranges=(l.recentlyRemovedDateranges||[]).concat(Oe.split("	")));break}case"TARGETDURATION":l.targetduration!==0&&mp(l,ge,C),l.targetduration=Math.max(parseInt(se),1);break;case"VERSION":l.version!==null&&mp(l,ge,C),l.version=parseInt(se);break;case"INDEPENDENT-SEGMENTS":break;case"ENDLIST":l.live||mp(l,ge,C),l.live=!1;break;case"#":(se||xe)&&T.tagList.push(xe?[se,xe]:[se]);break;case"DISCONTINUITY":x++,T.tagList.push(["DIS"]);break;case"GAP":T.gap=!0,T.tagList.push([ge]);break;case"BITRATE":T.tagList.push([ge,se]),w=parseInt(se)*1e3,qn(w)?T.bitrate=w:w=0;break;case"DATERANGE":{const ce=new lc(se,l),Me=new Zne(ce,l.dateRanges[ce.ID],l.dateRangeTagCount);l.dateRangeTagCount++,Me.isValid||l.skippedSegments?l.dateRanges[Me.id]=Me:$o.warn(`Ignoring invalid DATERANGE tag: "${se}"`),T.tagList.push(["EXT-X-DATERANGE",se]);break}case"DEFINE":{{const ce=new lc(se,l);"IMPORT"in ce?R8e(l,ce,a):uK(l,ce,r)}break}case"DISCONTINUITY-SEQUENCE":l.startCC!==0?mp(l,ge,C):d.length>0&&wK(l,ge,C),l.startCC=x=parseInt(se);break;case"KEY":{const ce=pK(se,r,l);if(ce.isSupported()){if(ce.method==="NONE"){P=void 0;break}P||(P={});const Me=P[ce.keyFormat];Me!=null&&Me.matches(ce)||(Me&&(P=nl({},P)),P[ce.keyFormat]=ce)}else $o.warn(`[Keys] Ignoring unsupported EXT-X-KEY tag: "${se}"`);break}case"START":l.startTimeOffset=gK(se);break;case"MAP":{const ce=new lc(se,l);if(T.duration){const Me=new tB(i,u);xK(Me,ce,n,P),A=Me,T.initSegment=A,A.rawProgramDateTime&&!T.rawProgramDateTime&&(T.rawProgramDateTime=A.rawProgramDateTime)}else{const Me=T.byteRangeEndOffset;if(Me){const Oe=T.byteRangeStartOffset;q=`${Me-Oe}@${Oe}`}else q=null;xK(T,ce,n,P),A=T,W=!0}A.cc=x;break}case"SERVER-CONTROL":{re&&mp(l,ge,C),re=new lc(se),l.canBlockReload=re.bool("CAN-BLOCK-RELOAD"),l.canSkipUntil=re.optionalFloat("CAN-SKIP-UNTIL",0),l.canSkipDateRanges=l.canSkipUntil>0&&re.bool("CAN-SKIP-DATERANGES"),l.partHoldBack=re.optionalFloat("PART-HOLD-BACK",0),l.holdBack=re.optionalFloat("HOLD-BACK",0);break}case"PART-INF":{l.partTarget&&mp(l,ge,C);const ce=new lc(se);l.partTarget=ce.decimalFloatingPoint("PART-TARGET");break}case"PART":{let ce=l.partList;ce||(ce=l.partList=[]);const Me=v>0?ce[ce.length-1]:void 0,Oe=v++,we=new lc(se,l),ue=new R6e(we,T,u,Oe,Me);ce.push(ue),T.duration+=ue.duration;break}case"PRELOAD-HINT":{const ce=new lc(se,l);l.preloadHint=ce;break}case"RENDITION-REPORT":{const ce=new lc(se,l);l.renditionReports=l.renditionReports||[],l.renditionReports.push(ce);break}default:$o.warn(`line parsed but not handled: ${C}`);break}}}E&&!E.relurl?(d.pop(),y-=E.duration,l.partList&&(l.fragmentHint=E)):l.partList&&(KO(T,E,f),T.cc=x,l.fragmentHint=T,P&&bK(T,P,l)),l.targetduration||(l.playlistParsingError=new Error("Missing Target Duration"));const ie=d.length,Ae=d[0],be=d[ie-1];if(y+=l.skippedSegments*l.targetduration,y>0&&ie&&be){l.averagetargetduration=y/ie;const Ee=be.sn;l.endSN=Ee!=="initSegment"?Ee:0,l.live||(be.endList=!0),U>0&&(Z8e(d,U),Ae&&f.unshift(Ae))}return l.fragmentHint&&(y+=l.fragmentHint.duration),l.totalduration=y,f.length&&l.dateRangeTagCount&&Ae&&nie(f,l),l.endCC=x,l}}function nie(t,e){let r=t.length;if(!r)if(e.hasProgramDateTime){const c=e.fragments[e.fragments.length-1];t.push(c),r++}else return;const n=t[r-1],i=e.live?1/0:e.totalduration,s=Object.keys(e.dateRanges);for(let c=s.length;c--;){const u=e.dateRanges[s[c]],l=u.startDate.getTime();u.tagAnchor=n.ref;for(let d=r;d--;){var a;if(((a=t[d])==null?void 0:a.sn)<e.startSN)break;const f=X8e(e,l,t,d,i);if(f!==-1){u.tagAnchor=e.fragments[f].ref;break}}}}function X8e(t,e,r,n,i){const s=r[n];if(s){const c=s.programDateTime;if(e>=c||n===0){var a;const u=(((a=r[n+1])==null?void 0:a.start)||i)-s.start;if(e<=c+u*1e3){const l=r[n].sn-t.startSN;if(l<0)return-1;const d=t.fragments;if(d.length>r.length){const A=(r[n+1]||d[d.length-1]).sn-t.startSN;for(let p=A;p>l;p--){const v=d[p].programDateTime;if(e>=v&&e<v+d[p].duration*1e3)return p}}return l}}}return-1}function pK(t,e,r){var n,i;const s=new lc(t,r),a=(n=s.METHOD)!=null?n:"",c=s.URI,u=s.hexadecimalInteger("IV"),l=s.KEYFORMATVERSIONS,d=(i=s.KEYFORMAT)!=null?i:"identity";c&&s.IV&&!u&&$o.error(`Invalid IV: ${s.IV}`);const f=c?Cm.resolve(c,e):"",A=(l||"1").split("/").map(Number).filter(Number.isFinite);return new x0(a,f,d,A,u,s.KEYID)}function gK(t){const r=new lc(t).decimalFloatingPoint("TIME-OFFSET");return qn(r)?r:null}function vK(t,e){let r=(t||"").split(/[ ,]+/).filter(n=>n);["video","audio","text"].forEach(n=>{const i=r.filter(s=>ZM(s,n));i.length&&(e[`${n}Codec`]=i.map(s=>s.split("/")[0]).join(","),r=r.filter(s=>i.indexOf(s)===-1))}),e.unknownCodecs=r}function yK(t,e,r){const n=e[r];n&&(t[r]=n)}function Z8e(t,e){let r=t[e];for(let n=e;n--;){const i=t[n];if(!i)return;i.programDateTime=r.programDateTime-i.duration*1e3,r=i}}function KO(t,e,r){t.rawProgramDateTime?r.push(t):e!=null&&e.programDateTime&&(t.programDateTime=e.endProgramDateTime)}function xK(t,e,r,n){t.relurl=e.URI,e.BYTERANGE&&t.setByteRange(e.BYTERANGE),t.level=r,t.sn="initSegment",n&&(t.levelkeys=n),t.initSegment=null}function bK(t,e,r){t.levelkeys=e;const{encryptedFragments:n}=r;(!n.length||n[n.length-1].levelkeys!==e)&&Object.keys(e).some(i=>e[i].isCommonEncryption)&&n.push(t)}function mp(t,e,r){t.playlistParsingError=new Error(`#EXT-X-${e} must not appear more than once (${r[0]})`)}function wK(t,e,r){t.playlistParsingError=new Error(`#EXT-X-${e} must appear before the first Media Segment (${r[0]})`)}function aB(t,e){const r=e.startPTS;if(qn(r)){let n=0,i;e.sn>t.sn?(n=r-t.start,i=t):(n=t.start-r,i=e),i.duration!==n&&i.setDuration(n)}else e.sn>t.sn?t.cc===e.cc&&t.minEndPTS?e.setStart(t.start+(t.minEndPTS-t.start)):e.setStart(t.start+t.duration):e.setStart(Math.max(t.start-e.duration,0))}function iie(t,e,r,n,i,s,a){n-r<=0&&(a.warn("Fragment should have a positive duration",e),n=r+e.duration,s=i+e.duration);let u=r,l=n;const d=e.startPTS,f=e.endPTS;if(qn(d)){const w=Math.abs(d-r);t&&w>t.totalduration?a.warn(`media timestamps and playlist times differ by ${w}s for level ${e.level} ${t.url}`):qn(e.deltaPTS)?e.deltaPTS=Math.max(w,e.deltaPTS):e.deltaPTS=w,u=Math.max(r,d),r=Math.min(r,d),i=e.startDTS!==void 0?Math.min(i,e.startDTS):i,l=Math.min(n,f),n=Math.max(n,f),s=e.endDTS!==void 0?Math.max(s,e.endDTS):s}const A=r-e.start;e.start!==0&&e.setStart(r),e.setDuration(n-e.start),e.startPTS=r,e.maxStartPTS=u,e.startDTS=i,e.endPTS=n,e.minEndPTS=l,e.endDTS=s;const p=e.sn;if(!t||p<t.startSN||p>t.endSN)return 0;let v;const y=p-t.startSN,x=t.fragments;for(x[y]=e,v=y;v>0;v--)aB(x[v],x[v-1]);for(v=y;v<x.length-1;v++)aB(x[v],x[v+1]);return t.fragmentHint&&aB(x[x.length-1],t.fragmentHint),t.PTSKnown=t.alignedSliding=!0,A}function J8e(t,e,r){if(t===e)return;let n=null;const i=t.fragments;for(let d=i.length-1;d>=0;d--){const f=i[d].initSegment;if(f){n=f;break}}t.fragmentHint&&delete t.fragmentHint.endPTS;let s;r7e(t,e,(d,f,A,p)=>{if((!e.startCC||e.skippedSegments)&&f.cc!==d.cc){const v=d.cc-f.cc;for(let y=A;y<p.length;y++)p[y].cc+=v;e.endCC=p[p.length-1].cc}qn(d.startPTS)&&qn(d.endPTS)&&(f.setStart(f.startPTS=d.startPTS),f.startDTS=d.startDTS,f.maxStartPTS=d.maxStartPTS,f.endPTS=d.endPTS,f.endDTS=d.endDTS,f.minEndPTS=d.minEndPTS,f.setDuration(d.endPTS-d.startPTS),f.duration&&(s=f),e.PTSKnown=e.alignedSliding=!0),d.hasStreams&&(f.elementaryStreams=d.elementaryStreams),f.loader=d.loader,d.hasStats&&(f.stats=d.stats),d.initSegment&&(f.initSegment=d.initSegment,n=d.initSegment)});const a=e.fragments,c=e.fragmentHint?a.concat(e.fragmentHint):a;if(n&&c.forEach(d=>{var f;d&&(!d.initSegment||d.initSegment.relurl===((f=n)==null?void 0:f.relurl))&&(d.initSegment=n)}),e.skippedSegments){if(e.deltaUpdateFailed=a.some(d=>!d),e.deltaUpdateFailed){r.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(let d=e.skippedSegments;d--;)a.shift();e.startSN=a[0].sn}else{e.canSkipDateRanges&&(e.dateRanges=e7e(t.dateRanges,e,r));const d=t.fragments.filter(f=>f.rawProgramDateTime);if(t.hasProgramDateTime&&!e.hasProgramDateTime)for(let f=1;f<c.length;f++)c[f].programDateTime===null&&KO(c[f],c[f-1],d);nie(d,e)}e.endCC=a[a.length-1].cc}if(!e.startCC){var u;const d=oie(t,e.startSN-1);e.startCC=(u=d?.cc)!=null?u:a[0].cc}t7e(t.partList,e.partList,(d,f)=>{f.elementaryStreams=d.elementaryStreams,f.stats=d.stats}),s?iie(e,s,s.startPTS,s.endPTS,s.startDTS,s.endDTS,r):sie(t,e),a.length&&(e.totalduration=e.edge-a[0].start),e.driftStartTime=t.driftStartTime,e.driftStart=t.driftStart;const l=e.advancedDateTime;if(e.advanced&&l){const d=e.edge;e.driftStart||(e.driftStartTime=l,e.driftStart=d),e.driftEndTime=l,e.driftEnd=d}else e.driftEndTime=t.driftEndTime,e.driftEnd=t.driftEnd,e.advancedDateTime=t.advancedDateTime;e.requestScheduled===-1&&(e.requestScheduled=t.requestScheduled)}function e7e(t,e,r){const{dateRanges:n,recentlyRemovedDateranges:i}=e,s=nl({},t);i&&i.forEach(u=>{delete s[u]});const c=Object.keys(s).length;return c?(Object.keys(n).forEach(u=>{const l=s[u],d=new Zne(n[u].attr,l);d.isValid?(s[u]=d,l||(d.tagOrder+=c)):r.warn(`Ignoring invalid Playlist Delta Update DATERANGE tag: "${fl(n[u].attr)}"`)}),s):n}function t7e(t,e,r){if(t&&e){let n=0;for(let i=0,s=t.length;i<=s;i++){const a=t[i],c=e[i+n];a&&c&&a.index===c.index&&a.fragment.sn===c.fragment.sn?r(a,c):n--}}}function r7e(t,e,r){const n=e.skippedSegments,i=Math.max(t.startSN,e.startSN)-e.startSN,s=(t.fragmentHint?1:0)+(n?e.endSN:Math.min(t.endSN,e.endSN))-e.startSN,a=e.startSN-t.startSN,c=e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments,u=t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments;for(let l=i;l<=s;l++){const d=u[a+l];let f=c[l];if(n&&!f&&d&&(f=e.fragments[l]=d),d&&f){r(d,f,l,c);const A=d.relurl,p=f.relurl;if(A&&n7e(A,p)){e.playlistParsingError=EK(`media sequence mismatch ${f.sn}:`,t,e,d,f);return}else if(d.cc!==f.cc){e.playlistParsingError=EK(`discontinuity sequence mismatch (${d.cc}!=${f.cc})`,t,e,d,f);return}}}}function EK(t,e,r,n,i){return new Error(`${t} ${i.url}
Playlist starting @${e.startSN}
${e.m3u8}

Playlist starting @${r.startSN}
${r.m3u8}`)}function sie(t,e,r=!0){const n=e.startSN+e.skippedSegments-t.startSN,i=t.fragments,s=n>=0;let a=0;if(s&&n<i.length)a=i[n].start;else if(s&&e.startSN===t.endSN+1)a=t.fragmentEnd;else if(s&&r)a=t.fragmentStart+n*e.levelTargetDuration;else if(!e.skippedSegments&&e.fragmentStart===0)a=t.fragmentStart;else return;GO(e,a)}function GO(t,e){if(e){const r=t.fragments;for(let n=t.skippedSegments;n<r.length;n++)r[n].addStart(e);t.fragmentHint&&t.fragmentHint.addStart(e)}}function aie(t,e=1/0){let r=1e3*t.targetduration;if(t.updated){const n=t.fragments;if(n.length&&r*4>e){const s=n[n.length-1].duration*1e3;s<r&&(r=s)}}else r/=2;return Math.round(r)}function oie(t,e,r){if(!t)return null;let n=t.fragments[e-t.startSN];return n||(n=t.fragmentHint,n&&n.sn===e)?n:e<t.startSN&&r&&r.sn===e?r:null}function _K(t,e,r){return t?lie(t.partList,e,r):null}function lie(t,e,r){if(t)for(let n=t.length;n--;){const i=t[n];if(i.index===r&&i.fragment.sn===e)return i}return null}function cie(t){t.forEach((e,r)=>{var n;(n=e.details)==null||n.fragments.forEach(i=>{i.level=r,i.initSegment&&(i.initSegment.level=r)})})}function n7e(t,e){return t!==e&&e?SK(t)!==SK(e):!1}function SK(t){return t.replace(/\?[^?]*$/,"")}function zw(t,e){for(let n=0,i=t.length;n<i;n++){var r;if(((r=t[n])==null?void 0:r.cc)===e)return t[n]}return null}function i7e(t,e){return!!(t&&e.startCC<t.endCC&&e.endCC>t.startCC)}function TK(t,e){const r=t.start+e;t.startPTS=r,t.setStart(r),t.endPTS=r+t.duration}function uie(t,e){const r=e.fragments;for(let n=0,i=r.length;n<i;n++)TK(r[n],t);e.fragmentHint&&TK(e.fragmentHint,t),e.alignedSliding=!0}function s7e(t,e){t&&(die(e,t),e.alignedSliding||Pj(e,t),!e.alignedSliding&&!e.skippedSegments&&sie(t,e,!1))}function die(t,e){if(!i7e(e,t))return;const r=Math.min(e.endCC,t.endCC),n=zw(e.fragments,r),i=zw(t.fragments,r);if(!n||!i)return;$o.log(`Aligning playlist at start of dicontinuity sequence ${r}`);const s=n.start-i.start;uie(s,t)}function Pj(t,e){if(!t.hasProgramDateTime||!e.hasProgramDateTime)return;const r=t.fragments,n=e.fragments;if(!r.length||!n.length)return;let i,s;const a=Math.min(e.endCC,t.endCC);e.startCC<a&&t.startCC<a&&(i=zw(n,a),s=zw(r,a)),(!i||!s)&&(i=n[Math.floor(n.length/2)],s=zw(r,i.cc)||r[Math.floor(r.length/2)]);const c=i.programDateTime,u=s.programDateTime;if(!c||!u)return;const l=(u-c)/1e3-(s.start-i.start);uie(l,t)}function mh(t,e,r){Ph(t,e,r),t.addEventListener(e,r)}function Ph(t,e,r){t.removeEventListener(e,r)}const a7e={toString:function(t){let e="";const r=t.length;for(let n=0;n<r;n++)e+=`[${t.start(n).toFixed(3)}-${t.end(n).toFixed(3)}]`;return e}},Qr={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"};class sF extends qne{constructor(e,r,n,i,s){super(i,e.logger),this.hls=void 0,this.fragPrevious=null,this.fragCurrent=null,this.fragmentTracker=void 0,this.transmuxer=null,this._state=Qr.STOPPED,this.playlistType=void 0,this.media=null,this.mediaBuffer=null,this.config=void 0,this.bitrateTest=!1,this.lastCurrentTime=0,this.nextLoadPosition=0,this.startPosition=0,this.startTimeOffset=null,this.retryDate=0,this.levels=null,this.fragmentLoader=void 0,this.keyLoader=void 0,this.levelLastLoaded=null,this.startFragRequested=!1,this.decrypter=void 0,this.initPTS=[],this.buffering=!0,this.loadingParts=!1,this.loopSn=void 0,this.onMediaSeeking=()=>{const{config:a,fragCurrent:c,media:u,mediaBuffer:l,state:d}=this,f=u?u.currentTime:0,A=Us.bufferInfo(l||u,f,a.maxBufferHole),p=!A.len;if(this.log(`Media seeking to ${qn(f)?f.toFixed(3):f}, state: ${d}, ${p?"out of":"in"} buffer`),this.state===Qr.ENDED)this.resetLoadingState();else if(c){const v=a.maxFragLookUpTolerance,y=c.start-v,x=c.start+c.duration+v;if(p||x<A.start||y>A.end){const w=f>x;(f<y||w)&&(w&&c.loader&&(this.log(`Cancelling fragment load for seek (sn: ${c.sn})`),c.abortRequests(),this.resetLoadingState()),this.fragPrevious=null)}}if(u){this.fragmentTracker.removeFragmentsInRange(f,1/0,this.playlistType,!0);const v=this.lastCurrentTime;if(f>v&&(this.lastCurrentTime=f),!this.loadingParts){const y=Math.max(A.end,f),x=this.shouldLoadParts(this.getLevelDetails(),y);x&&(this.log(`LL-Part loading ON after seeking to ${f.toFixed(2)} with buffer @${y.toFixed(2)}`),this.loadingParts=x)}}this.hls.hasEnoughToStart||(this.log(`Setting ${p?"startPosition":"nextLoadPosition"} to ${f} for seek without enough to start`),this.nextLoadPosition=f,p&&(this.startPosition=f)),p&&this.state===Qr.IDLE&&this.tickImmediate()},this.onMediaEnded=()=>{this.log("setting startPosition to 0 because media ended"),this.startPosition=this.lastCurrentTime=0},this.playlistType=s,this.hls=e,this.fragmentLoader=new O8e(e.config),this.keyLoader=n,this.fragmentTracker=r,this.config=e.config,this.decrypter=new tF(e.config)}registerListeners(){const{hls:e}=this;e.on(Ie.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(Ie.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(Ie.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Ie.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(Ie.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(Ie.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(Ie.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(Ie.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Ie.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(Ie.ERROR,this.onError,this)}doTick(){this.onTickEnd()}onTickEnd(){}startLoad(e){}stopLoad(){if(this.state===Qr.STOPPED)return;this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);const e=this.fragCurrent;e!=null&&e.loader&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=Qr.STOPPED}get startPositionValue(){const{nextLoadPosition:e,startPosition:r}=this;return r===-1&&e?e:r}get bufferingEnabled(){return this.buffering}pauseBuffering(){this.buffering=!1}resumeBuffering(){this.buffering=!0}get inFlightFrag(){return{frag:this.fragCurrent,state:this.state}}_streamEnded(e,r){if(r.live||!this.media)return!1;const n=e.end||0,i=this.config.timelineOffset||0;if(n<=i)return!1;const s=e.buffered;this.config.maxBufferHole&&s&&s.length>1&&(e=Us.bufferedInfo(s,e.start,0));const a=e.nextStart;if(a&&a>i&&a<r.edge||this.media.currentTime<e.start)return!1;const u=r.partList;if(u!=null&&u.length){const d=u[u.length-1];return Us.isBuffered(this.media,d.start+d.duration/2)}const l=r.fragments[r.fragments.length-1].type;return this.fragmentTracker.isEndListAppended(l)}getLevelDetails(){if(this.levels&&this.levelLastLoaded!==null)return this.levelLastLoaded.details}get timelineOffset(){const e=this.config.timelineOffset;if(e){var r;return((r=this.getLevelDetails())==null?void 0:r.appliedTimelineOffset)||e}return 0}onMediaAttached(e,r){const n=this.media=this.mediaBuffer=r.media;mh(n,"seeking",this.onMediaSeeking),mh(n,"ended",this.onMediaEnded);const i=this.config;this.levels&&i.autoStartLoad&&this.state===Qr.STOPPED&&this.startLoad(i.startPosition)}onMediaDetaching(e,r){const n=!!r.transferMedia,i=this.media;if(i!==null){if(i.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),Ph(i,"seeking",this.onMediaSeeking),Ph(i,"ended",this.onMediaEnded),this.keyLoader&&!n&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loopSn=void 0,n){this.resetLoadingState(),this.resetTransmuxer();return}this.loadingParts=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()}}onManifestLoading(){this.initPTS=[],this.levels=this.levelLastLoaded=this.fragCurrent=null,this.lastCurrentTime=this.startPosition=0,this.startFragRequested=!1}onError(e,r){}onManifestLoaded(e,r){this.startTimeOffset=r.startTimeOffset}onHandlerDestroying(){this.stopLoad(),this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null),super.onHandlerDestroying(),this.hls=this.onMediaSeeking=this.onMediaEnded=null}onHandlerDestroyed(){this.state=Qr.STOPPED,this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,super.onHandlerDestroyed()}loadFragment(e,r,n){this.startFragRequested=!0,this._loadFragForPlayback(e,r,n)}_loadFragForPlayback(e,r,n){const i=s=>{const a=s.frag;if(this.fragContextChanged(a)){this.warn(`${a.type} sn: ${a.sn}${s.part?" part: "+s.part.index:""} of ${this.fragInfo(a,!1,s.part)}) was dropped during download.`),this.fragmentTracker.removeFragment(a);return}a.stats.chunkCount++,this._handleFragmentLoadProgress(s)};this._doFragLoad(e,r,n,i).then(s=>{if(!s)return;const a=this.state,c=s.frag;if(this.fragContextChanged(c)){(a===Qr.FRAG_LOADING||!this.fragCurrent&&a===Qr.PARSING)&&(this.fragmentTracker.removeFragment(c),this.state=Qr.IDLE);return}"payload"in s&&(this.log(`Loaded ${c.type} sn: ${c.sn} of ${this.playlistLabel()} ${c.level}`),this.hls.trigger(Ie.FRAG_LOADED,s)),this._handleFragmentLoadComplete(s)}).catch(s=>{this.state===Qr.STOPPED||this.state===Qr.ERROR||(this.warn(`Frag error: ${s?.message||s}`),this.resetFragmentLoading(e))})}clearTrackerIfNeeded(e){var r;const{fragmentTracker:n}=this;if(n.getState(e)===Du.APPENDING){const s=e.type,a=this.getFwdBufferInfo(this.mediaBuffer,s),c=Math.max(e.duration,a?a.len:this.config.maxBufferLength),u=this.backtrackFragment;((u?e.sn-u.sn:0)===1||this.reduceMaxBufferLength(c,e.duration))&&n.removeFragment(e)}else((r=this.mediaBuffer)==null?void 0:r.buffered.length)===0?n.removeAllFragments():n.hasParts(e.type)&&(n.detectPartialFragments({frag:e,part:null,stats:e.stats,id:e.type}),n.getState(e)===Du.PARTIAL&&n.removeFragment(e))}checkLiveUpdate(e){if(e.updated&&!e.live){const r=e.fragments[e.fragments.length-1];this.fragmentTracker.detectPartialFragments({frag:r,part:null,stats:r.stats,id:r.type})}e.fragments[0]||(e.deltaUpdateFailed=!0)}waitForLive(e){const r=e.details;return r?.live&&r.type!=="EVENT"&&(this.levelLastLoaded!==e||r.expired)}flushMainBuffer(e,r,n=null){if(!(e-r))return;const i={startOffset:e,endOffset:r,type:n};this.hls.trigger(Ie.BUFFER_FLUSHING,i)}_loadInitSegment(e,r){this._doFragLoad(e,r).then(n=>{const i=n?.frag;if(!i||this.fragContextChanged(i)||!this.levels)throw new Error("init load aborted");return n}).then(n=>{const{hls:i}=this,{frag:s,payload:a}=n,c=s.decryptdata;if(a&&a.byteLength>0&&c!=null&&c.key&&c.iv&&sb(c.method)){const u=self.performance.now();return this.decrypter.decrypt(new Uint8Array(a),c.key.buffer,c.iv.buffer,nF(c.method)).catch(l=>{throw i.trigger(Ie.ERROR,{type:Pi.MEDIA_ERROR,details:gr.FRAG_DECRYPT_ERROR,fatal:!1,error:l,reason:l.message,frag:s}),l}).then(l=>{const d=self.performance.now();return i.trigger(Ie.FRAG_DECRYPTED,{frag:s,payload:l,stats:{tstart:u,tdecrypt:d}}),n.payload=l,this.completeInitSegmentLoad(n)})}return this.completeInitSegmentLoad(n)}).catch(n=>{this.state===Qr.STOPPED||this.state===Qr.ERROR||(this.warn(n),this.resetFragmentLoading(e))})}completeInitSegmentLoad(e){const{levels:r}=this;if(!r)throw new Error("init load aborted, missing levels");const n=e.frag.stats;this.state!==Qr.STOPPED&&(this.state=Qr.IDLE),e.frag.data=new Uint8Array(e.payload),n.parsing.start=n.buffering.start=self.performance.now(),n.parsing.end=n.buffering.end=self.performance.now(),this.tick()}unhandledEncryptionError(e,r){var n,i;const s=e.tracks;if(s&&!r.encrypted&&((n=s.audio)!=null&&n.encrypted||(i=s.video)!=null&&i.encrypted)&&(!this.config.emeEnabled||!this.keyLoader.emeController)){const a=this.media,c=new Error(`Encrypted track with no key in ${this.fragInfo(r)} (media ${a?"attached mediaKeys: "+a.mediaKeys:"detached"})`);return this.warn(c.message),!a||a.mediaKeys?!1:(this.hls.trigger(Ie.ERROR,{type:Pi.KEY_SYSTEM_ERROR,details:gr.KEY_SYSTEM_NO_KEYS,fatal:!1,error:c,frag:r}),this.resetTransmuxer(),!0)}return!1}fragContextChanged(e){const{fragCurrent:r}=this;return!e||!r||e.sn!==r.sn||e.level!==r.level}fragBufferedComplete(e,r){const n=this.mediaBuffer?this.mediaBuffer:this.media;if(this.log(`Buffered ${e.type} sn: ${e.sn}${r?" part: "+r.index:""} of ${this.fragInfo(e,!1,r)} > buffer:${n?a7e.toString(Us.getBuffered(n)):"(detached)"})`),Jc(e)){var i;if(e.type!==fi.SUBTITLE){const a=e.elementaryStreams;if(!Object.keys(a).some(c=>!!a[c])){this.state=Qr.IDLE;return}}const s=(i=this.levels)==null?void 0:i[e.level];s!=null&&s.fragmentError&&(this.log(`Resetting level fragment error count of ${s.fragmentError} on frag buffered`),s.fragmentError=0)}this.state=Qr.IDLE}_handleFragmentLoadComplete(e){const{transmuxer:r}=this;if(!r)return;const{frag:n,part:i,partsLoaded:s}=e,a=!s||s.length===0||s.some(u=>!u),c=new rF(n.level,n.sn,n.stats.chunkCount+1,0,i?i.index:-1,!a);r.flush(c)}_handleFragmentLoadProgress(e){}_doFragLoad(e,r,n=null,i){var s;this.fragCurrent=e;const a=r.details;if(!this.levels||!a)throw new Error(`frag load aborted, missing level${a?"":" detail"}s`);let c=null;if(e.encrypted&&!((s=e.decryptdata)!=null&&s.key)){if(this.log(`Loading key for ${e.sn} of [${a.startSN}-${a.endSN}], ${this.playlistLabel()} ${e.level}`),this.state=Qr.KEY_LOADING,this.fragCurrent=e,c=this.keyLoader.load(e).then(A=>{if(!this.fragContextChanged(A.frag))return this.hls.trigger(Ie.KEY_LOADED,A),this.state===Qr.KEY_LOADING&&(this.state=Qr.IDLE),A}),this.hls.trigger(Ie.KEY_LOADING,{frag:e}),this.fragCurrent===null)return this.log("context changed in KEY_LOADING"),Promise.resolve(null)}else e.encrypted||(c=this.keyLoader.loadClear(e,a.encryptedFragments,this.startFragRequested),c&&this.log("[eme] blocking frag load until media-keys acquired"));const u=this.fragPrevious;if(Jc(e)&&(!u||e.sn!==u.sn)){const A=this.shouldLoadParts(r.details,e.end);A!==this.loadingParts&&(this.log(`LL-Part loading ${A?"ON":"OFF"} loading sn ${u?.sn}->${e.sn}`),this.loadingParts=A)}if(n=Math.max(e.start,n||0),this.loadingParts&&Jc(e)){const A=a.partList;if(A&&i){n>a.fragmentEnd&&a.fragmentHint&&(e=a.fragmentHint);const p=this.getNextPart(A,e,n);if(p>-1){const v=A[p];e=this.fragCurrent=v.fragment,this.log(`Loading ${e.type} sn: ${e.sn} part: ${v.index} (${p}/${A.length-1}) of ${this.fragInfo(e,!1,v)}) cc: ${e.cc} [${a.startSN}-${a.endSN}], target: ${parseFloat(n.toFixed(3))}`),this.nextLoadPosition=v.start+v.duration,this.state=Qr.FRAG_LOADING;let y;return c?y=c.then(x=>!x||this.fragContextChanged(x.frag)?null:this.doFragPartsLoad(e,v,r,i)).catch(x=>this.handleFragLoadError(x)):y=this.doFragPartsLoad(e,v,r,i).catch(x=>this.handleFragLoadError(x)),this.hls.trigger(Ie.FRAG_LOADING,{frag:e,part:v,targetBufferTime:n}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):y}else if(!e.url||this.loadedEndOfParts(A,n))return Promise.resolve(null)}}if(Jc(e)&&this.loadingParts){var l;this.log(`LL-Part loading OFF after next part miss @${n.toFixed(2)} Check buffer at sn: ${e.sn} loaded parts: ${(l=a.partList)==null?void 0:l.filter(A=>A.loaded).map(A=>`[${A.start}-${A.end}]`)}`),this.loadingParts=!1}else if(!e.url)return Promise.resolve(null);this.log(`Loading ${e.type} sn: ${e.sn} of ${this.fragInfo(e,!1)}) cc: ${e.cc} ${"["+a.startSN+"-"+a.endSN+"]"}, target: ${parseFloat(n.toFixed(3))}`),qn(e.sn)&&!this.bitrateTest&&(this.nextLoadPosition=e.start+e.duration),this.state=Qr.FRAG_LOADING;const d=this.config.progressive&&e.type!==fi.SUBTITLE;let f;return d&&c?f=c.then(A=>!A||this.fragContextChanged(A.frag)?null:this.fragmentLoader.load(e,i)).catch(A=>this.handleFragLoadError(A)):f=Promise.all([this.fragmentLoader.load(e,d?i:void 0),c]).then(([A])=>(!d&&i&&i(A),A)).catch(A=>this.handleFragLoadError(A)),this.hls.trigger(Ie.FRAG_LOADING,{frag:e,targetBufferTime:n}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):f}doFragPartsLoad(e,r,n,i){return new Promise((s,a)=>{var c;const u=[],l=(c=n.details)==null?void 0:c.partList,d=f=>{this.fragmentLoader.loadPart(e,f,i).then(A=>{u[f.index]=A;const p=A.part;this.hls.trigger(Ie.FRAG_LOADED,A);const v=_K(n.details,e.sn,f.index+1)||lie(l,e.sn,f.index+1);if(v)d(v);else return s({frag:e,part:p,partsLoaded:u})}).catch(a)};d(r)})}handleFragLoadError(e){if("data"in e){const r=e.data;r.frag&&r.details===gr.INTERNAL_ABORTED?this.handleFragLoadAborted(r.frag,r.part):r.frag&&r.type===Pi.KEY_SYSTEM_ERROR?(r.frag.abortRequests(),this.resetStartWhenNotLoaded(),this.resetFragmentLoading(r.frag)):this.hls.trigger(Ie.ERROR,r)}else this.hls.trigger(Ie.ERROR,{type:Pi.OTHER_ERROR,details:gr.INTERNAL_EXCEPTION,err:e,error:e,fatal:!0});return null}_handleTransmuxerFlush(e){const r=this.getCurrentContext(e);if(!r||this.state!==Qr.PARSING){!this.fragCurrent&&this.state!==Qr.STOPPED&&this.state!==Qr.ERROR&&(this.state=Qr.IDLE);return}const{frag:n,part:i,level:s}=r,a=self.performance.now();n.stats.parsing.end=a,i&&(i.stats.parsing.end=a);const c=this.getLevelDetails(),l=c&&n.sn>c.endSN||this.shouldLoadParts(c,n.end);l!==this.loadingParts&&(this.log(`LL-Part loading ${l?"ON":"OFF"} after parsing segment ending @${n.end.toFixed(2)}`),this.loadingParts=l),this.updateLevelTiming(n,i,s,e.partial)}shouldLoadParts(e,r){if(this.config.lowLatencyMode){if(!e)return this.loadingParts;if(e.partList){var n;const s=e.partList[0];if(s.fragment.type===fi.SUBTITLE)return!1;const a=s.end+(((n=e.fragmentHint)==null?void 0:n.duration)||0);if(r>=a){var i;if((this.hls.hasEnoughToStart?((i=this.media)==null?void 0:i.currentTime)||this.lastCurrentTime:this.getLoadPosition())>s.start-s.fragment.duration)return!0}}}return!1}getCurrentContext(e){const{levels:r,fragCurrent:n}=this,{level:i,sn:s,part:a}=e;if(!(r!=null&&r[i]))return this.warn(`Levels object was unset while buffering fragment ${s} of ${this.playlistLabel()} ${i}. The current chunk will not be buffered.`),null;const c=r[i],u=c.details,l=a>-1?_K(u,s,a):null,d=l?l.fragment:oie(u,s,n);return d?(n&&n!==d&&(d.stats=n.stats),{frag:d,part:l,level:c}):null}bufferFragmentData(e,r,n,i,s){if(this.state!==Qr.PARSING)return;const{data1:a,data2:c}=e;let u=a;if(c&&(u=Wf(a,c)),!u.length)return;const l=this.initPTS[r.cc],d=l?-l.baseTime/l.timescale:void 0,f={type:e.type,frag:r,part:n,chunkMeta:i,offset:d,parent:r.type,data:u};if(this.hls.trigger(Ie.BUFFER_APPENDING,f),e.dropped&&e.independent&&!n){if(s)return;this.flushBufferGap(r)}}flushBufferGap(e){const r=this.media;if(!r)return;if(!Us.isBuffered(r,r.currentTime)){this.flushMainBuffer(0,e.start);return}const n=r.currentTime,i=Us.bufferInfo(r,n,0),s=e.duration,a=Math.min(this.config.maxFragLookUpTolerance*2,s*.25),c=Math.max(Math.min(e.start-a,i.end-a),n+a);e.start-c>a&&this.flushMainBuffer(c,e.start)}getFwdBufferInfo(e,r){var n;const i=this.getLoadPosition();if(!qn(i))return null;const a=this.lastCurrentTime>i||(n=this.media)!=null&&n.paused?0:this.config.maxBufferHole;return this.getFwdBufferInfoAtPos(e,i,r,a)}getFwdBufferInfoAtPos(e,r,n,i){const s=Us.bufferInfo(e,r,i);if(s.len===0&&s.nextStart!==void 0){const a=this.fragmentTracker.getBufferedFrag(r,n);if(a&&(s.nextStart<=a.end||a.gap)){const c=Math.max(Math.min(s.nextStart,a.end)-r,i);return Us.bufferInfo(e,r,c)}}return s}getMaxBufferLength(e){const{config:r}=this;let n;return e?n=Math.max(8*r.maxBufferSize/e,r.maxBufferLength):n=r.maxBufferLength,Math.min(n,r.maxMaxBufferLength)}reduceMaxBufferLength(e,r){const n=this.config,i=Math.max(Math.min(e-r,n.maxBufferLength),r),s=Math.max(e-r*3,n.maxMaxBufferLength/2,i);return s>=i?(n.maxMaxBufferLength=s,this.warn(`Reduce max buffer length to ${s}s`),!0):!1}getAppendedFrag(e,r=fi.MAIN){const n=this.fragmentTracker?this.fragmentTracker.getAppendedFrag(e,r):null;return n&&"fragment"in n?n.fragment:n}getNextFragment(e,r){const n=r.fragments,i=n.length;if(!i)return null;const{config:s}=this,a=n[0].start,c=s.lowLatencyMode&&!!r.partList;let u=null;if(r.live){const f=s.initialLiveManifestSize;if(i<f)return this.warn(`Not enough fragments to start playback (have: ${i}, need: ${f})`),null;if(!r.PTSKnown&&!this.startFragRequested&&this.startPosition===-1||e<a){var l;c&&!this.loadingParts&&(this.log("LL-Part loading ON for initial live fragment"),this.loadingParts=!0),u=this.getInitialLiveFragment(r);const A=this.hls.startPosition,p=this.hls.liveSyncPosition,v=u?(A!==-1&&A>=a?A:p)||u.start:e;this.log(`Setting startPosition to ${v} to match start frag at live edge. mainStart: ${A} liveSyncPosition: ${p} frag.start: ${(l=u)==null?void 0:l.start}`),this.startPosition=this.nextLoadPosition=v}}else e<=a&&(u=n[0]);if(!u){const f=this.loadingParts?r.partEnd:r.fragmentEnd;u=this.getFragmentAtPosition(e,f,r)}let d=this.filterReplacedPrimary(u,r);if(!d&&u){const f=u.sn-r.startSN;d=this.filterReplacedPrimary(n[f+1]||null,r)}return this.mapToInitFragWhenRequired(d)}isLoopLoading(e,r){const n=this.fragmentTracker.getState(e);return(n===Du.OK||n===Du.PARTIAL&&!!e.gap)&&this.nextLoadPosition>r}getNextFragmentLoopLoading(e,r,n,i,s){let a=null;if(e.gap&&(a=this.getNextFragment(this.nextLoadPosition,r),a&&!a.gap&&n.nextStart)){const c=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,n.nextStart,i,0);if(c!==null&&n.len+c.len>=s){const u=a.sn;return this.loopSn!==u&&(this.log(`buffer full after gaps in "${i}" playlist starting at sn: ${u}`),this.loopSn=u),null}}return this.loopSn=void 0,a}get primaryPrefetch(){if(CK(this.config)){var e;if((e=this.hls.interstitialsManager)==null||(e=e.playingItem)==null?void 0:e.event)return!0}return!1}filterReplacedPrimary(e,r){if(!e)return e;if(CK(this.config)&&e.type!==fi.SUBTITLE){const n=this.hls.interstitialsManager,i=n?.bufferingItem;if(i){const a=i.event;if(a){if(a.appendInPlace||Math.abs(e.start-i.start)>1||i.start===0)return null}else if(e.end<=i.start&&r?.live===!1||e.start>i.end&&i.nextEvent&&(i.nextEvent.appendInPlace||e.start-i.end>1))return null}const s=n?.playerQueue;if(s)for(let a=s.length;a--;){const c=s[a].interstitial;if(c.appendInPlace&&e.start>=c.startTime&&e.end<=c.resumeTime)return null}}return e}mapToInitFragWhenRequired(e){return e!=null&&e.initSegment&&!e.initSegment.data&&!this.bitrateTest?e.initSegment:e}getNextPart(e,r,n){let i=-1,s=!1,a=!0;for(let c=0,u=e.length;c<u;c++){const l=e[c];if(a=a&&!l.independent,i>-1&&n<l.start)break;const d=l.loaded;d?i=-1:(s||(l.independent||a)&&l.fragment===r)&&(l.fragment!==r&&this.warn(`Need buffer at ${n} but next unloaded part starts at ${l.start}`),i=c),s=d}return i}loadedEndOfParts(e,r){let n;for(let i=e.length;i--;){if(n=e[i],!n.loaded)return!1;if(r>n.start)return!0}return!1}getInitialLiveFragment(e){const r=e.fragments,n=this.fragPrevious;let i=null;if(n){if(e.hasProgramDateTime&&(this.log(`Live playlist, switching playlist, load frag with same PDT: ${n.programDateTime}`),i=w8e(r,n.endProgramDateTime,this.config.maxFragLookUpTolerance)),!i){const s=n.sn+1;if(s>=e.startSN&&s<=e.endSN){const a=r[s-e.startSN];n.cc===a.cc&&(i=a,this.log(`Live playlist, switching playlist, load frag with next SN: ${i.sn}`))}i||(i=Gne(e,n.cc,n.end),i&&this.log(`Live playlist, switching playlist, load frag with same CC: ${i.sn}`))}}else{const s=this.hls.liveSyncPosition;s!==null&&(i=this.getFragmentAtPosition(s,this.bitrateTest?e.fragmentEnd:e.edge,e))}return i}getFragmentAtPosition(e,r,n){const{config:i}=this;let{fragPrevious:s}=this,{fragments:a,endSN:c}=n;const{fragmentHint:u}=n,{maxFragLookUpTolerance:l}=i,d=n.partList,f=!!(this.loadingParts&&d!=null&&d.length&&u);f&&!this.bitrateTest&&d[d.length-1].fragment.sn===u.sn&&(a=a.concat(u),c=u.sn);let A;if(e<r){var p;const y=e<this.lastCurrentTime||e>r-l||(p=this.media)!=null&&p.paused||!this.startFragRequested?0:l;A=uy(s,a,e,y)}else A=a[a.length-1];if(A){const v=A.sn-n.startSN,y=this.fragmentTracker.getState(A);if((y===Du.OK||y===Du.PARTIAL&&A.gap)&&(s=A),s&&A.sn===s.sn&&(!f||d[0].fragment.sn>A.sn||!n.live)&&A.level===s.level){const w=a[v+1];A.sn<c&&this.fragmentTracker.getState(w)!==Du.OK?A=w:A=null}}return A}alignPlaylists(e,r,n){const i=e.fragments.length;if(!i)return this.warn("No fragments in live playlist"),0;const s=e.fragmentStart,a=!r,c=e.alignedSliding&&qn(s);if(a||!c&&!s){s7e(n,e);const u=e.fragmentStart;return this.log(`Live playlist sliding: ${u.toFixed(2)} start-sn: ${r?r.startSN:"na"}->${e.startSN} fragments: ${i}`),u}return s}waitForCdnTuneIn(e){return e.live&&e.canBlockReload&&e.partTarget&&e.tuneInGoal>Math.max(e.partHoldBack,e.partTarget*3)}setStartPosition(e,r){let n=this.startPosition;n<r&&(n=-1);const i=this.timelineOffset;if(n===-1){const s=this.startTimeOffset!==null,a=s?this.startTimeOffset:e.startTimeOffset;a!==null&&qn(a)?(n=r+a,a<0&&(n+=e.edge),n=Math.min(Math.max(r,n),r+e.totalduration),this.log(`Setting startPosition to ${n} for start time offset ${a} found in ${s?"multivariant":"media"} playlist`),this.startPosition=n):e.live?(n=this.hls.liveSyncPosition||r,this.log(`Setting startPosition to -1 to start at live edge ${n}`),this.startPosition=-1):(this.log("setting startPosition to 0 by default"),this.startPosition=n=0),this.lastCurrentTime=n+i}this.nextLoadPosition=n+i}getLoadPosition(){var e;const{media:r}=this;let n=0;return(e=this.hls)!=null&&e.hasEnoughToStart&&r?n=r.currentTime:this.nextLoadPosition>=0&&(n=this.nextLoadPosition),n}handleFragLoadAborted(e,r){this.transmuxer&&e.type===this.playlistType&&Jc(e)&&e.stats.aborted&&(this.log(`Fragment ${e.sn}${r?" part "+r.index:""} of ${this.playlistLabel()} ${e.level} was aborted`),this.resetFragmentLoading(e))}resetFragmentLoading(e){(!this.fragCurrent||!this.fragContextChanged(e)&&this.state!==Qr.FRAG_LOADING_WAITING_RETRY)&&(this.state=Qr.IDLE)}onFragmentOrKeyLoadError(e,r){var n;if(r.chunkMeta&&!r.frag){const w=this.getCurrentContext(r.chunkMeta);w&&(r.frag=w.frag)}const i=r.frag;if(!i||i.type!==e||!this.levels)return;if(this.fragContextChanged(i)){var s;this.warn(`Frag load error must match current frag to retry ${i.url} > ${(s=this.fragCurrent)==null?void 0:s.url}`);return}const a=r.details===gr.FRAG_GAP;a&&this.fragmentTracker.fragBuffered(i,!0);const c=r.errorAction;if(!c){this.state=Qr.ERROR;return}const{action:u,flags:l,retryCount:d=0,retryConfig:f}=c,A=!!f,p=A&&u===Dd.RetryRequest,v=A&&!c.resolved&&l===ef.MoveAllAlternatesMatchingHost,y=(n=this.hls.latestLevelDetails)==null?void 0:n.live;if(!p&&v&&Jc(i)&&!i.endList&&y&&!Yne(r))this.resetFragmentErrors(e),this.treatAsGap(i),c.resolved=!0;else if((p||v)&&d<f.maxNumRetry){var x;const w=QO((x=r.response)==null?void 0:x.code),E=eF(f,d);if(this.resetStartWhenNotLoaded(),this.retryDate=self.performance.now()+E,this.state=Qr.FRAG_LOADING_WAITING_RETRY,c.resolved=!0,w){this.log("Waiting for connection (offline)"),this.retryDate=1/0,r.reason="offline";return}this.warn(`Fragment ${i.sn} of ${e} ${i.level} errored with ${r.details}, retrying loading ${d+1}/${f.maxNumRetry} in ${E}ms`)}else if(f)if(this.resetFragmentErrors(e),d<f.maxNumRetry)!a&&u!==Dd.RemoveAlternatePermanently&&(c.resolved=!0);else{this.warn(`${r.details} reached or exceeded max retry (${d})`);return}else u===Dd.SendAlternateToPenaltyBox?this.state=Qr.WAITING_LEVEL:this.state=Qr.ERROR;this.tickImmediate()}checkRetryDate(){const e=self.performance.now(),r=this.retryDate,n=r===1/0;(!r||e>=r||n&&!QO(0))&&(n&&this.log("Connection restored (online)"),this.resetStartWhenNotLoaded(),this.state=Qr.IDLE)}reduceLengthAndFlushBuffer(e){if(this.state===Qr.PARSING||this.state===Qr.PARSED){const r=e.frag,n=e.parent,i=this.getFwdBufferInfo(this.mediaBuffer,n),s=i&&i.len>.5;s&&this.reduceMaxBufferLength(i.len,r?.duration||10);const a=!s;return a&&this.warn(`Buffer full error while media.currentTime (${this.getLoadPosition()}) is not buffered, flush ${n} buffer`),r&&(this.fragmentTracker.removeFragment(r),this.nextLoadPosition=r.start),this.resetLoadingState(),a}return!1}resetFragmentErrors(e){e===fi.AUDIO&&(this.fragCurrent=null),this.hls.hasEnoughToStart||(this.startFragRequested=!1),this.state!==Qr.STOPPED&&(this.state=Qr.IDLE)}afterBufferFlushed(e,r,n){if(!e)return;const i=Us.getBuffered(e);this.fragmentTracker.detectEvictedFragments(r,i,n),this.state===Qr.ENDED&&this.resetLoadingState()}resetLoadingState(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state!==Qr.STOPPED&&(this.state=Qr.IDLE)}resetStartWhenNotLoaded(){if(!this.hls.hasEnoughToStart){this.startFragRequested=!1;const e=this.levelLastLoaded,r=e?e.details:null;r!=null&&r.live?(this.log("resetting startPosition for live start"),this.startPosition=-1,this.setStartPosition(r,r.fragmentStart),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}}resetWhenMissingContext(e){this.log(`Loading context changed while buffering sn ${e.sn} of ${this.playlistLabel()} ${e.level===-1?"<removed>":e.level}. This chunk will not be buffered.`),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded(),this.resetLoadingState()}removeUnbufferedFrags(e=0){this.fragmentTracker.removeFragmentsInRange(e,1/0,this.playlistType,!1,!0)}updateLevelTiming(e,r,n,i){const s=n.details;if(!s){this.warn("level.details undefined");return}if(!Object.keys(e.elementaryStreams).reduce((u,l)=>{const d=e.elementaryStreams[l];if(d){const f=d.endPTS-d.startPTS;if(f<=0)return this.warn(`Could not parse fragment ${e.sn} ${l} duration reliably (${f})`),u||!1;const A=i?0:iie(s,e,d.startPTS,d.endPTS,d.startDTS,d.endDTS,this);return this.hls.trigger(Ie.LEVEL_PTS_UPDATED,{details:s,level:n,drift:A,type:l,frag:e,start:d.startPTS,end:d.endPTS}),!0}return u},!1)){var c;const u=((c=this.transmuxer)==null?void 0:c.error)===null;if((n.fragmentError===0||u&&(n.fragmentError<2||e.endList))&&this.treatAsGap(e,n),u){const l=new Error(`Found no media in fragment ${e.sn} of ${this.playlistLabel()} ${e.level} resetting transmuxer to fallback to playlist timing`);if(this.warn(l.message),this.hls.trigger(Ie.ERROR,{type:Pi.MEDIA_ERROR,details:gr.FRAG_PARSING_ERROR,fatal:!1,error:l,frag:e,reason:`Found no media in msn ${e.sn} of ${this.playlistLabel()} "${n.url}"`}),!this.hls)return;this.resetTransmuxer()}}this.state=Qr.PARSED,this.log(`Parsed ${e.type} sn: ${e.sn}${r?" part: "+r.index:""} of ${this.fragInfo(e,!1,r)})`),this.hls.trigger(Ie.FRAG_PARSED,{frag:e,part:r})}playlistLabel(){return this.playlistType===fi.MAIN?"level":"track"}fragInfo(e,r=!0,n){var i,s;return`${this.playlistLabel()} ${e.level} (${n?"part":"frag"}:[${((i=r&&!n?e.startPTS:(n||e).start)!=null?i:NaN).toFixed(3)}-${((s=r&&!n?e.endPTS:(n||e).end)!=null?s:NaN).toFixed(3)}]${n&&e.type==="main"?"INDEPENDENT="+(n.independent?"YES":"NO"):""}`}treatAsGap(e,r){r&&r.fragmentError++,e.gap=!0,this.fragmentTracker.removeFragment(e),this.fragmentTracker.fragBuffered(e,!0)}resetTransmuxer(){var e;(e=this.transmuxer)==null||e.reset()}recoverWorkerError(e){e.event==="demuxerWorker"&&(this.fragmentTracker.removeAllFragments(),this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null),this.resetStartWhenNotLoaded(),this.resetLoadingState())}set state(e){const r=this._state;r!==e&&(this._state=e,this.log(`${r}->${e}`))}get state(){return this._state}}function CK(t){return!!t.interstitialsController&&t.enableInterstitialPlayback!==!1}class hie{constructor(){this.chunks=[],this.dataLength=0}push(e){this.chunks.push(e),this.dataLength+=e.length}flush(){const{chunks:e,dataLength:r}=this;let n;if(e.length)e.length===1?n=e[0]:n=o7e(e,r);else return new Uint8Array(0);return this.reset(),n}reset(){this.chunks.length=0,this.dataLength=0}}function o7e(t,e){const r=new Uint8Array(e);let n=0;for(let i=0;i<t.length;i++){const s=t[i];r.set(s,n),n+=s.length}return r}var oB={exports:{}},jK;function l7e(){return jK||(jK=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(u,l,d){this.fn=u,this.context=l,this.once=d||!1}function s(u,l,d,f,A){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new i(d,f||u,A),v=r?r+l:l;return u._events[v]?u._events[v].fn?u._events[v]=[u._events[v],p]:u._events[v].push(p):(u._events[v]=p,u._eventsCount++),u}function a(u,l){--u._eventsCount===0?u._events=new n:delete u._events[l]}function c(){this._events=new n,this._eventsCount=0}c.prototype.eventNames=function(){var l=[],d,f;if(this._eventsCount===0)return l;for(f in d=this._events)e.call(d,f)&&l.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(d)):l},c.prototype.listeners=function(l){var d=r?r+l:l,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var A=0,p=f.length,v=new Array(p);A<p;A++)v[A]=f[A].fn;return v},c.prototype.listenerCount=function(l){var d=r?r+l:l,f=this._events[d];return f?f.fn?1:f.length:0},c.prototype.emit=function(l,d,f,A,p,v){var y=r?r+l:l;if(!this._events[y])return!1;var x=this._events[y],w=arguments.length,E,T;if(x.fn){switch(x.once&&this.removeListener(l,x.fn,void 0,!0),w){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,f),!0;case 4:return x.fn.call(x.context,d,f,A),!0;case 5:return x.fn.call(x.context,d,f,A,p),!0;case 6:return x.fn.call(x.context,d,f,A,p,v),!0}for(T=1,E=new Array(w-1);T<w;T++)E[T-1]=arguments[T];x.fn.apply(x.context,E)}else{var C=x.length,j;for(T=0;T<C;T++)switch(x[T].once&&this.removeListener(l,x[T].fn,void 0,!0),w){case 1:x[T].fn.call(x[T].context);break;case 2:x[T].fn.call(x[T].context,d);break;case 3:x[T].fn.call(x[T].context,d,f);break;case 4:x[T].fn.call(x[T].context,d,f,A);break;default:if(!E)for(j=1,E=new Array(w-1);j<w;j++)E[j-1]=arguments[j];x[T].fn.apply(x[T].context,E)}}return!0},c.prototype.on=function(l,d,f){return s(this,l,d,f,!1)},c.prototype.once=function(l,d,f){return s(this,l,d,f,!0)},c.prototype.removeListener=function(l,d,f,A){var p=r?r+l:l;if(!this._events[p])return this;if(!d)return a(this,p),this;var v=this._events[p];if(v.fn)v.fn===d&&(!A||v.once)&&(!f||v.context===f)&&a(this,p);else{for(var y=0,x=[],w=v.length;y<w;y++)(v[y].fn!==d||A&&!v[y].once||f&&v[y].context!==f)&&x.push(v[y]);x.length?this._events[p]=x.length===1?x[0]:x:a(this,p)}return this},c.prototype.removeAllListeners=function(l){var d;return l?(d=r?r+l:l,this._events[d]&&a(this,d)):(this._events=new n,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,t.exports=c})(oB)),oB.exports}var c7e=l7e(),aF=O6e(c7e);const ME="1.6.15",Lb={};function u7e(){return typeof __HLS_WORKER_BUNDLE__=="function"}function d7e(){const t=Lb[ME];if(t)return t.clientCount++,t;const e=new self.Blob([`var exports={};var module={exports:exports};function define(f){f()};define.amd=true;(${__HLS_WORKER_BUNDLE__.toString()})(true);`],{type:"text/javascript"}),r=self.URL.createObjectURL(e),i={worker:new self.Worker(r),objectURL:r,clientCount:1};return Lb[ME]=i,i}function h7e(t){const e=Lb[t];if(e)return e.clientCount++,e;const r=new self.URL(t,self.location.href).href,i={worker:new self.Worker(r),scriptURL:r,clientCount:1};return Lb[t]=i,i}function f7e(t){const e=Lb[t||ME];if(e&&e.clientCount--===1){const{worker:n,objectURL:i}=e;delete Lb[t||ME],i&&self.URL.revokeObjectURL(i),n.terminate()}}function fie(t,e){return e+10<=t.length&&t[e]===51&&t[e+1]===68&&t[e+2]===73&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128}function oF(t,e){return e+10<=t.length&&t[e]===73&&t[e+1]===68&&t[e+2]===51&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128}function E5(t,e){let r=0;return r=(t[e]&127)<<21,r|=(t[e+1]&127)<<14,r|=(t[e+2]&127)<<7,r|=t[e+3]&127,r}function FE(t,e){const r=e;let n=0;for(;oF(t,e);){n+=10;const i=E5(t,e+6);n+=i,fie(t,e+10)&&(n+=10),e+=n}if(n>0)return t.subarray(r,r+n)}function A7e(t,e,r,n){const i=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],s=e[r+2],a=s>>2&15;if(a>12){const p=new Error(`invalid ADTS sampling index:${a}`);t.emit(Ie.ERROR,Ie.ERROR,{type:Pi.MEDIA_ERROR,details:gr.FRAG_PARSING_ERROR,fatal:!0,error:p,reason:p.message});return}const c=(s>>6&3)+1,u=e[r+3]>>6&3|(s&1)<<2,l="mp4a.40."+c,d=i[a];let f=a;(c===5||c===29)&&(f-=3);const A=[c<<3|(f&14)>>1,(f&1)<<7|u<<3];return $o.log(`manifest codec:${n}, parsed codec:${l}, channels:${u}, rate:${d} (ADTS object type:${c} sampling index:${a})`),{config:A,samplerate:d,channelCount:u,codec:l,parsedCodec:l,manifestCodec:n}}function Aie(t,e){return t[e]===255&&(t[e+1]&246)===240}function mie(t,e){return t[e+1]&1?7:9}function lF(t,e){return(t[e+3]&3)<<11|t[e+4]<<3|(t[e+5]&224)>>>5}function m7e(t,e){return e+5<t.length}function Rj(t,e){return e+1<t.length&&Aie(t,e)}function p7e(t,e){return m7e(t,e)&&Aie(t,e)&&lF(t,e)<=t.length-e}function g7e(t,e){if(Rj(t,e)){const r=mie(t,e);if(e+r>=t.length)return!1;const n=lF(t,e);if(n<=r)return!1;const i=e+n;return i===t.length||Rj(t,i)}return!1}function pie(t,e,r,n,i){if(!t.samplerate){const s=A7e(e,r,n,i);if(!s)return;nl(t,s)}}function gie(t){return 1024*9e4/t}function v7e(t,e){const r=mie(t,e);if(e+r<=t.length){const n=lF(t,e)-r;if(n>0)return{headerLength:r,frameLength:n}}}function vie(t,e,r,n,i){const s=gie(t.samplerate),a=n+i*s,c=v7e(e,r);let u;if(c){const{frameLength:f,headerLength:A}=c,p=A+f,v=Math.max(0,r+p-e.length);v?(u=new Uint8Array(p-A),u.set(e.subarray(r+A,e.length),0)):u=e.subarray(r+A,r+p);const y={unit:u,pts:a};return v||t.samples.push(y),{sample:y,length:p,missing:v}}const l=e.length-r;return u=new Uint8Array(l),u.set(e.subarray(r,e.length),0),{sample:{unit:u,pts:a},length:l,missing:-1}}function y7e(t,e){return oF(t,e)&&E5(t,e+6)+10<=t.length-e}function x7e(t){return t instanceof ArrayBuffer?t:t.byteOffset==0&&t.byteLength==t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer}function lB(t,e=0,r=1/0){return b7e(t,e,r,Uint8Array)}function b7e(t,e,r,n){const i=w7e(t);let s=1;"BYTES_PER_ELEMENT"in n&&(s=n.BYTES_PER_ELEMENT);const a=E7e(t)?t.byteOffset:0,c=(a+t.byteLength)/s,u=(a+e)/s,l=Math.floor(Math.max(0,Math.min(u,c))),d=Math.floor(Math.min(l+Math.max(r,0),c));return new n(i,l,d-l)}function w7e(t){return t instanceof ArrayBuffer?t:t.buffer}function E7e(t){return t&&t.buffer instanceof ArrayBuffer&&t.byteLength!==void 0&&t.byteOffset!==void 0}function _7e(t){const e={key:t.type,description:"",data:"",mimeType:null,pictureType:null},r=3;if(t.size<2)return;if(t.data[0]!==r){console.log("Ignore frame with unrecognized character encoding");return}const n=t.data.subarray(1).indexOf(0);if(n===-1)return;const i=Af(lB(t.data,1,n)),s=t.data[2+n],a=t.data.subarray(3+n).indexOf(0);if(a===-1)return;const c=Af(lB(t.data,3+n,a));let u;return i==="-->"?u=Af(lB(t.data,4+n+a)):u=x7e(t.data.subarray(4+n+a)),e.mimeType=i,e.pictureType=s,e.description=c,e.data=u,e}function S7e(t){if(t.size<2)return;const e=Af(t.data,!0),r=new Uint8Array(t.data.subarray(e.length+1));return{key:t.type,info:e,data:r.buffer}}function T7e(t){if(t.size<2)return;if(t.type==="TXXX"){let r=1;const n=Af(t.data.subarray(r),!0);r+=n.length+1;const i=Af(t.data.subarray(r));return{key:t.type,info:n,data:i}}const e=Af(t.data.subarray(1));return{key:t.type,info:"",data:e}}function C7e(t){if(t.type==="WXXX"){if(t.size<2)return;let r=1;const n=Af(t.data.subarray(r),!0);r+=n.length+1;const i=Af(t.data.subarray(r));return{key:t.type,info:n,data:i}}const e=Af(t.data);return{key:t.type,info:"",data:e}}function j7e(t){return t.type==="PRIV"?S7e(t):t.type[0]==="W"?C7e(t):t.type==="APIC"?_7e(t):T7e(t)}function N7e(t){const e=String.fromCharCode(t[0],t[1],t[2],t[3]),r=E5(t,4),n=10;return{type:e,size:r,data:t.subarray(n,n+r)}}const Y2=10,k7e=10;function yie(t){let e=0;const r=[];for(;oF(t,e);){const n=E5(t,e+6);t[e+5]>>6&1&&(e+=Y2),e+=Y2;const i=e+n;for(;e+k7e<i;){const s=N7e(t.subarray(e)),a=j7e(s);a&&r.push(a),e+=s.size+Y2}fie(t,e)&&(e+=Y2)}return r}function xie(t){return t&&t.key==="PRIV"&&t.info==="com.apple.streaming.transportStreamTimestamp"}function I7e(t){if(t.data.byteLength===8){const e=new Uint8Array(t.data),r=e[3]&1;let n=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7];return n/=45,r&&(n+=4772185884e-2),Math.round(n)}}function cF(t){const e=yie(t);for(let r=0;r<e.length;r++){const n=e[r];if(xie(n))return I7e(n)}}let af=(function(t){return t.audioId3="org.id3",t.dateRange="com.apple.quicktime.HLS",t.emsg="https://aomedia.org/emsg/ID3",t.misbklv="urn:misb:KLV:bin:1910.1",t})({});function xm(t="",e=9e4){return{type:t,id:-1,pid:-1,inputTimeScale:e,sequenceNumber:-1,samples:[],dropped:0}}class uF{constructor(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}resetInitSegment(e,r,n,i){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}}resetTimeStamp(e){this.initPTS=e,this.resetContiguity()}resetContiguity(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0}canParse(e,r){return!1}appendFrame(e,r,n){}demux(e,r){this.cachedData&&(e=Wf(this.cachedData,e),this.cachedData=null);let n=FE(e,0),i=n?n.length:0,s;const a=this._audioTrack,c=this._id3Track,u=n?cF(n):void 0,l=e.length;for((this.basePTS===null||this.frameIndex===0&&qn(u))&&(this.basePTS=L7e(u,r,this.initPTS),this.lastPTS=this.basePTS),this.lastPTS===null&&(this.lastPTS=this.basePTS),n&&n.length>0&&c.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:n,type:af.audioId3,duration:Number.POSITIVE_INFINITY});i<l;){if(this.canParse(e,i)){const d=this.appendFrame(a,e,i);d?(this.frameIndex++,this.lastPTS=d.sample.pts,i+=d.length,s=i):i=l}else y7e(e,i)?(n=FE(e,i),c.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:n,type:af.audioId3,duration:Number.POSITIVE_INFINITY}),i+=n.length,s=i):i++;if(i===l&&s!==l){const d=e.slice(s);this.cachedData?this.cachedData=Wf(this.cachedData,d):this.cachedData=d}}return{audioTrack:a,videoTrack:xm(),id3Track:c,textTrack:xm()}}demuxSampleAes(e,r,n){return Promise.reject(new Error(`[${this}] This demuxer does not support Sample-AES decryption`))}flush(e){const r=this.cachedData;return r&&(this.cachedData=null,this.demux(r,0)),{audioTrack:this._audioTrack,videoTrack:xm(),id3Track:this._id3Track,textTrack:xm()}}destroy(){this.cachedData=null,this._audioTrack=this._id3Track=void 0}}const L7e=(t,e,r)=>{if(qn(t))return t*90;const n=r?r.baseTime*9e4/r.timescale:0;return e*9e4+n};let q2=null;const B7e=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],O7e=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],P7e=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],R7e=[0,1,1,4];function bie(t,e,r,n,i){if(r+24>e.length)return;const s=wie(e,r);if(s&&r+s.frameLength<=e.length){const a=s.samplesPerFrame*9e4/s.sampleRate,c=n+i*a,u={unit:e.subarray(r,r+s.frameLength),pts:c,dts:c};return t.config=[],t.channelCount=s.channelCount,t.samplerate=s.sampleRate,t.samples.push(u),{sample:u,length:s.frameLength,missing:0}}}function wie(t,e){const r=t[e+1]>>3&3,n=t[e+1]>>1&3,i=t[e+2]>>4&15,s=t[e+2]>>2&3;if(r!==1&&i!==0&&i!==15&&s!==3){const a=t[e+2]>>1&1,c=t[e+3]>>6,u=r===3?3-n:n===3?3:4,l=B7e[u*14+i-1]*1e3,f=O7e[(r===3?0:r===2?1:2)*3+s],A=c===3?1:2,p=P7e[r][n],v=R7e[n],y=p*8*v,x=Math.floor(p*l/f+a)*v;if(q2===null){const T=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);q2=T?parseInt(T[1]):0}return q2&&q2<=87&&n===2&&l>=224e3&&c===0&&(t[e+3]=t[e+3]|128),{sampleRate:f,channelCount:A,frameLength:x,samplesPerFrame:y}}}function dF(t,e){return t[e]===255&&(t[e+1]&224)===224&&(t[e+1]&6)!==0}function Eie(t,e){return e+1<t.length&&dF(t,e)}function D7e(t,e){return dF(t,e)&&4<=t.length-e}function _ie(t,e){if(e+1<t.length&&dF(t,e)){const n=wie(t,e);let i=4;n!=null&&n.frameLength&&(i=n.frameLength);const s=e+i;return s===t.length||Eie(t,s)}return!1}class M7e extends uF{constructor(e,r){super(),this.observer=void 0,this.config=void 0,this.observer=e,this.config=r}resetInitSegment(e,r,n,i){super.resetInitSegment(e,r,n,i),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:r,duration:i,inputTimeScale:9e4,dropped:0}}static probe(e,r){if(!e)return!1;const n=FE(e,0);let i=n?.length||0;if(_ie(e,i))return!1;for(let s=e.length;i<s;i++)if(g7e(e,i))return r.log("ADTS sync word found !"),!0;return!1}canParse(e,r){return p7e(e,r)}appendFrame(e,r,n){pie(e,this.observer,r,n,e.manifestCodec);const i=vie(e,r,n,this.basePTS,this.frameIndex);if(i&&i.missing===0)return i}}const Sie=(t,e)=>{let r=0,n=5;e+=n;const i=new Uint32Array(1),s=new Uint32Array(1),a=new Uint8Array(1);for(;n>0;){a[0]=t[e];const c=Math.min(n,8),u=8-c;s[0]=4278190080>>>24+u<<u,i[0]=(a[0]&s[0])>>u,r=r?r<<c|i[0]:i[0],e+=1,n-=c}return r};class F7e extends uF{constructor(e){super(),this.observer=void 0,this.observer=e}resetInitSegment(e,r,n,i){super.resetInitSegment(e,r,n,i),this._audioTrack={container:"audio/ac-3",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"ac3",samples:[],manifestCodec:r,duration:i,inputTimeScale:9e4,dropped:0}}canParse(e,r){return r+64<e.length}appendFrame(e,r,n){const i=Tie(e,r,n,this.basePTS,this.frameIndex);if(i!==-1)return{sample:e.samples[e.samples.length-1],length:i,missing:0}}static probe(e){if(!e)return!1;const r=FE(e,0);if(!r)return!1;const n=r.length;return e[n]===11&&e[n+1]===119&&cF(r)!==void 0&&Sie(e,n)<16}}function Tie(t,e,r,n,i){if(r+8>e.length||e[r]!==11||e[r+1]!==119)return-1;const s=e[r+4]>>6;if(s>=3)return-1;const c=[48e3,44100,32e3][s],u=e[r+4]&63,d=[64,69,96,64,70,96,80,87,120,80,88,120,96,104,144,96,105,144,112,121,168,112,122,168,128,139,192,128,140,192,160,174,240,160,175,240,192,208,288,192,209,288,224,243,336,224,244,336,256,278,384,256,279,384,320,348,480,320,349,480,384,417,576,384,418,576,448,487,672,448,488,672,512,557,768,512,558,768,640,696,960,640,697,960,768,835,1152,768,836,1152,896,975,1344,896,976,1344,1024,1114,1536,1024,1115,1536,1152,1253,1728,1152,1254,1728,1280,1393,1920,1280,1394,1920][u*3+s]*2;if(r+d>e.length)return-1;const f=e[r+6]>>5;let A=0;f===2?A+=2:(f&1&&f!==1&&(A+=2),f&4&&(A+=2));const p=(e[r+6]<<8|e[r+7])>>12-A&1,y=[2,1,2,3,3,4,4,5][f]+p,x=e[r+5]>>3,w=e[r+5]&7,E=new Uint8Array([s<<6|x<<1|w>>2,(w&3)<<6|f<<3|p<<2|u>>4,u<<4&224]),T=1536/c*9e4,C=n+i*T,j=e.subarray(r,r+d);return t.config=E,t.channelCount=y,t.samplerate=c,t.samples.push({unit:j,pts:C}),d}class U7e extends uF{resetInitSegment(e,r,n,i){super.resetInitSegment(e,r,n,i),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:r,duration:i,inputTimeScale:9e4,dropped:0}}static probe(e){if(!e)return!1;const r=FE(e,0);let n=r?.length||0;if(r&&e[n]===11&&e[n+1]===119&&cF(r)!==void 0&&Sie(e,n)<=16)return!1;for(let i=e.length;n<i;n++)if(_ie(e,n))return $o.log("MPEG Audio sync word found !"),!0;return!1}canParse(e,r){return D7e(e,r)}appendFrame(e,r,n){if(this.basePTS!==null)return bie(e,r,n,this.basePTS,this.frameIndex)}}const $7e=/\/emsg[-/]ID3/i;class H7e{constructor(e,r){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=r}resetTimeStamp(){}resetInitSegment(e,r,n,i){const s=this.videoTrack=xm("video",1),a=this.audioTrack=xm("audio",1),c=this.txtTrack=xm("text",1);if(this.id3Track=xm("id3",1),this.timeOffset=0,!(e!=null&&e.byteLength))return;const u=Rne(e);if(u.video){const{id:l,timescale:d,codec:f,supplemental:A}=u.video;s.id=l,s.timescale=c.timescale=d,s.codec=f,s.supplemental=A}if(u.audio){const{id:l,timescale:d,codec:f}=u.audio;a.id=l,a.timescale=d,a.codec=f}c.id=Bne.text,s.sampleDuration=0,s.duration=a.duration=i}resetContiguity(){this.remainderData=null}static probe(e){return F6e(e)}demux(e,r){this.timeOffset=r;let n=e;const i=this.videoTrack,s=this.txtTrack;if(this.config.progressive){this.remainderData&&(n=Wf(this.remainderData,e));const c=K6e(n);this.remainderData=c.remainder,i.samples=c.valid||new Uint8Array}else i.samples=n;const a=this.extractID3Track(i,r);return s.samples=Kz(r,i),{videoTrack:i,audioTrack:this.audioTrack,id3Track:a,textTrack:this.txtTrack}}flush(){const e=this.timeOffset,r=this.videoTrack,n=this.txtTrack;r.samples=this.remainderData||new Uint8Array,this.remainderData=null;const i=this.extractID3Track(r,this.timeOffset);return n.samples=Kz(e,r),{videoTrack:r,audioTrack:xm(),id3Track:i,textTrack:xm()}}extractID3Track(e,r){const n=this.id3Track;if(e.samples.length){const i=pa(e.samples,["emsg"]);i&&i.forEach(s=>{const a=W6e(s);if($7e.test(a.schemeIdUri)){const c=NK(a,r);let u=a.eventDuration===4294967295?Number.POSITIVE_INFINITY:a.eventDuration/a.timeScale;u<=.001&&(u=Number.POSITIVE_INFINITY);const l=a.payload;n.samples.push({data:l,len:l.byteLength,dts:c,pts:c,type:af.emsg,duration:u})}else if(this.config.enableEmsgKLVMetadata&&a.schemeIdUri.startsWith("urn:misb:KLV:bin:1910.1")){const c=NK(a,r);n.samples.push({data:a.payload,len:a.payload.byteLength,dts:c,pts:c,type:af.misbklv,duration:Number.POSITIVE_INFINITY})}})}return n}demuxSampleAes(e,r,n){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))}destroy(){this.config=null,this.remainderData=null,this.videoTrack=this.audioTrack=this.id3Track=this.txtTrack=void 0}}function NK(t,e){return qn(t.presentationTime)?t.presentationTime/t.timeScale:e+t.presentationTimeDelta/t.timeScale}class Q7e{constructor(e,r,n){this.keyData=void 0,this.decrypter=void 0,this.keyData=n,this.decrypter=new tF(r,{removePKCS7Padding:!1})}decryptBuffer(e){return this.decrypter.decrypt(e,this.keyData.key.buffer,this.keyData.iv.buffer,C0.cbc)}decryptAacSample(e,r,n){const i=e[r].unit;if(i.length<=16)return;const s=i.subarray(16,i.length-i.length%16),a=s.buffer.slice(s.byteOffset,s.byteOffset+s.length);this.decryptBuffer(a).then(c=>{const u=new Uint8Array(c);i.set(u,16),this.decrypter.isSync()||this.decryptAacSamples(e,r+1,n)}).catch(n)}decryptAacSamples(e,r,n){for(;;r++){if(r>=e.length){n();return}if(!(e[r].unit.length<32)&&(this.decryptAacSample(e,r,n),!this.decrypter.isSync()))return}}getAvcEncryptedData(e){const r=Math.floor((e.length-48)/160)*16+16,n=new Int8Array(r);let i=0;for(let s=32;s<e.length-16;s+=160,i+=16)n.set(e.subarray(s,s+16),i);return n}getAvcDecryptedUnit(e,r){const n=new Uint8Array(r);let i=0;for(let s=32;s<e.length-16;s+=160,i+=16)e.set(n.subarray(i,i+16),s);return e}decryptAvcSample(e,r,n,i,s){const a=Fne(s.data),c=this.getAvcEncryptedData(a);this.decryptBuffer(c.buffer).then(u=>{s.data=this.getAvcDecryptedUnit(a,u),this.decrypter.isSync()||this.decryptAvcSamples(e,r,n+1,i)}).catch(i)}decryptAvcSamples(e,r,n,i){if(e instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;r++,n=0){if(r>=e.length){i();return}const s=e[r].units;for(;!(n>=s.length);n++){const a=s[n];if(!(a.data.length<=48||a.type!==1&&a.type!==5)&&(this.decryptAvcSample(e,r,n,i,a),!this.decrypter.isSync()))return}}}}class Cie{constructor(){this.VideoSample=null}createVideoSample(e,r,n){return{key:e,frame:!1,pts:r,dts:n,units:[],length:0}}getLastNalUnit(e){var r;let n=this.VideoSample,i;if((!n||n.units.length===0)&&(n=e[e.length-1]),(r=n)!=null&&r.units){const s=n.units;i=s[s.length-1]}return i}pushAccessUnit(e,r){if(e.units.length&&e.frame){if(e.pts===void 0){const n=r.samples,i=n.length;if(i){const s=n[i-1];e.pts=s.pts,e.dts=s.dts}else{r.dropped++;return}}r.samples.push(e)}}parseNALu(e,r,n){const i=r.byteLength;let s=e.naluState||0;const a=s,c=[];let u=0,l,d,f,A=-1,p=0;for(s===-1&&(A=0,p=this.getNALuType(r,0),s=0,u=1);u<i;){if(l=r[u++],!s){s=l?0:1;continue}if(s===1){s=l?0:2;continue}if(!l)s=3;else if(l===1){if(d=u-s-1,A>=0){const v={data:r.subarray(A,d),type:p};c.push(v)}else{const v=this.getLastNalUnit(e.samples);v&&(a&&u<=4-a&&v.state&&(v.data=v.data.subarray(0,v.data.byteLength-a)),d>0&&(v.data=Wf(v.data,r.subarray(0,d)),v.state=0))}u<i?(f=this.getNALuType(r,u),A=u,p=f,s=0):s=-1}else s=0}if(A>=0&&s>=0){const v={data:r.subarray(A,i),type:p,state:s};c.push(v)}if(c.length===0){const v=this.getLastNalUnit(e.samples);v&&(v.data=Wf(v.data,r))}return e.naluState=s,c}}class Kw{constructor(e){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}loadWord(){const e=this.data,r=this.bytesAvailable,n=e.byteLength-r,i=new Uint8Array(4),s=Math.min(4,r);if(s===0)throw new Error("no bytes available");i.set(e.subarray(n,n+s)),this.word=new DataView(i.buffer).getUint32(0),this.bitsAvailable=s*8,this.bytesAvailable-=s}skipBits(e){let r;e=Math.min(e,this.bytesAvailable*8+this.bitsAvailable),this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,r=e>>3,e-=r<<3,this.bytesAvailable-=r,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)}readBits(e){let r=Math.min(this.bitsAvailable,e);const n=this.word>>>32-r;if(e>32&&$o.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=r,this.bitsAvailable>0)this.word<<=r;else if(this.bytesAvailable>0)this.loadWord();else throw new Error("no bits available");return r=e-r,r>0&&this.bitsAvailable?n<<r|this.readBits(r):n}skipLZ(){let e;for(e=0;e<this.bitsAvailable;++e)if((this.word&2147483648>>>e)!==0)return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()}skipUEG(){this.skipBits(1+this.skipLZ())}skipEG(){this.skipBits(1+this.skipLZ())}readUEG(){const e=this.skipLZ();return this.readBits(e+1)-1}readEG(){const e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)}readBoolean(){return this.readBits(1)===1}readUByte(){return this.readBits(8)}readUShort(){return this.readBits(16)}readUInt(){return this.readBits(32)}}class V7e extends Cie{parsePES(e,r,n,i){const s=this.parseNALu(e,n.data,i);let a=this.VideoSample,c,u=!1;n.data=null,a&&s.length&&!e.audFound&&(this.pushAccessUnit(a,e),a=this.VideoSample=this.createVideoSample(!1,n.pts,n.dts)),s.forEach(l=>{var d,f;switch(l.type){case 1:{let y=!1;c=!0;const x=l.data;if(u&&x.length>4){const w=this.readSliceType(x);(w===2||w===4||w===7||w===9)&&(y=!0)}if(y){var A;(A=a)!=null&&A.frame&&!a.key&&(this.pushAccessUnit(a,e),a=this.VideoSample=null)}a||(a=this.VideoSample=this.createVideoSample(!0,n.pts,n.dts)),a.frame=!0,a.key=y;break}case 5:c=!0,(d=a)!=null&&d.frame&&!a.key&&(this.pushAccessUnit(a,e),a=this.VideoSample=null),a||(a=this.VideoSample=this.createVideoSample(!0,n.pts,n.dts)),a.key=!0,a.frame=!0;break;case 6:{c=!0,XM(l.data,1,n.pts,r.samples);break}case 7:{var p,v;c=!0,u=!0;const y=l.data,x=this.readSPS(y);if(!e.sps||e.width!==x.width||e.height!==x.height||((p=e.pixelRatio)==null?void 0:p[0])!==x.pixelRatio[0]||((v=e.pixelRatio)==null?void 0:v[1])!==x.pixelRatio[1]){e.width=x.width,e.height=x.height,e.pixelRatio=x.pixelRatio,e.sps=[y];const w=y.subarray(1,4);let E="avc1.";for(let T=0;T<3;T++){let C=w[T].toString(16);C.length<2&&(C="0"+C),E+=C}e.codec=E}break}case 8:c=!0,e.pps=[l.data];break;case 9:c=!0,e.audFound=!0,(f=a)!=null&&f.frame&&(this.pushAccessUnit(a,e),a=null),a||(a=this.VideoSample=this.createVideoSample(!1,n.pts,n.dts));break;case 12:c=!0;break;default:c=!1;break}a&&c&&a.units.push(l)}),i&&a&&(this.pushAccessUnit(a,e),this.VideoSample=null)}getNALuType(e,r){return e[r]&31}readSliceType(e){const r=new Kw(e);return r.readUByte(),r.readUEG(),r.readUEG()}skipScalingList(e,r){let n=8,i=8,s;for(let a=0;a<e;a++)i!==0&&(s=r.readEG(),i=(n+s+256)%256),n=i===0?n:i}readSPS(e){const r=new Kw(e);let n=0,i=0,s=0,a=0,c,u,l;const d=r.readUByte.bind(r),f=r.readBits.bind(r),A=r.readUEG.bind(r),p=r.readBoolean.bind(r),v=r.skipBits.bind(r),y=r.skipEG.bind(r),x=r.skipUEG.bind(r),w=this.skipScalingList.bind(this);d();const E=d();if(f(5),v(3),d(),x(),E===100||E===110||E===122||E===244||E===44||E===83||E===86||E===118||E===128){const W=A();if(W===3&&v(1),x(),x(),v(1),p())for(u=W!==3?8:12,l=0;l<u;l++)p()&&(l<6?w(16,r):w(64,r))}x();const T=A();if(T===0)A();else if(T===1)for(v(1),y(),y(),c=A(),l=0;l<c;l++)y();x(),v(1);const C=A(),j=A(),P=f(1);P===0&&v(1),v(1),p()&&(n=A(),i=A(),s=A(),a=A());let U=[1,1];if(p()&&p())switch(d()){case 1:U=[1,1];break;case 2:U=[12,11];break;case 3:U=[10,11];break;case 4:U=[16,11];break;case 5:U=[40,33];break;case 6:U=[24,11];break;case 7:U=[20,11];break;case 8:U=[32,11];break;case 9:U=[80,33];break;case 10:U=[18,11];break;case 11:U=[15,11];break;case 12:U=[64,33];break;case 13:U=[160,99];break;case 14:U=[4,3];break;case 15:U=[3,2];break;case 16:U=[2,1];break;case 255:{U=[d()<<8|d(),d()<<8|d()];break}}return{width:Math.ceil((C+1)*16-n*2-i*2),height:(2-P)*(j+1)*16-(P?2:4)*(s+a),pixelRatio:U}}}class z7e extends Cie{constructor(...e){super(...e),this.initVPS=null}parsePES(e,r,n,i){const s=this.parseNALu(e,n.data,i);let a=this.VideoSample,c,u=!1;n.data=null,a&&s.length&&!e.audFound&&(this.pushAccessUnit(a,e),a=this.VideoSample=this.createVideoSample(!1,n.pts,n.dts)),s.forEach(l=>{var d,f;switch(l.type){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:a||(a=this.VideoSample=this.createVideoSample(!1,n.pts,n.dts)),a.frame=!0,c=!0;break;case 16:case 17:case 18:case 21:if(c=!0,u){var A;(A=a)!=null&&A.frame&&!a.key&&(this.pushAccessUnit(a,e),a=this.VideoSample=null)}a||(a=this.VideoSample=this.createVideoSample(!0,n.pts,n.dts)),a.key=!0,a.frame=!0;break;case 19:case 20:c=!0,(d=a)!=null&&d.frame&&!a.key&&(this.pushAccessUnit(a,e),a=this.VideoSample=null),a||(a=this.VideoSample=this.createVideoSample(!0,n.pts,n.dts)),a.key=!0,a.frame=!0;break;case 39:c=!0,XM(l.data,2,n.pts,r.samples);break;case 32:c=!0,e.vps||(typeof e.params!="object"&&(e.params={}),e.params=nl(e.params,this.readVPS(l.data)),this.initVPS=l.data),e.vps=[l.data];break;case 33:if(c=!0,u=!0,e.vps!==void 0&&e.vps[0]!==this.initVPS&&e.sps!==void 0&&!this.matchSPS(e.sps[0],l.data)&&(this.initVPS=e.vps[0],e.sps=e.pps=void 0),!e.sps){const p=this.readSPS(l.data);e.width=p.width,e.height=p.height,e.pixelRatio=p.pixelRatio,e.codec=p.codecString,e.sps=[],typeof e.params!="object"&&(e.params={});for(const v in p.params)e.params[v]=p.params[v]}this.pushParameterSet(e.sps,l.data,e.vps),a||(a=this.VideoSample=this.createVideoSample(!0,n.pts,n.dts)),a.key=!0;break;case 34:if(c=!0,typeof e.params=="object"){if(!e.pps){e.pps=[];const p=this.readPPS(l.data);for(const v in p)e.params[v]=p[v]}this.pushParameterSet(e.pps,l.data,e.vps)}break;case 35:c=!0,e.audFound=!0,(f=a)!=null&&f.frame&&(this.pushAccessUnit(a,e),a=null),a||(a=this.VideoSample=this.createVideoSample(!1,n.pts,n.dts));break;default:c=!1;break}a&&c&&a.units.push(l)}),i&&a&&(this.pushAccessUnit(a,e),this.VideoSample=null)}pushParameterSet(e,r,n){(n&&n[0]===this.initVPS||!n&&!e.length)&&e.push(r)}getNALuType(e,r){return(e[r]&126)>>>1}ebsp2rbsp(e){const r=new Uint8Array(e.byteLength);let n=0;for(let i=0;i<e.byteLength;i++)i>=2&&e[i]===3&&e[i-1]===0&&e[i-2]===0||(r[n]=e[i],n++);return new Uint8Array(r.buffer,0,n)}pushAccessUnit(e,r){super.pushAccessUnit(e,r),this.initVPS&&(this.initVPS=null)}readVPS(e){const r=new Kw(e);r.readUByte(),r.readUByte(),r.readBits(4),r.skipBits(2),r.readBits(6);const n=r.readBits(3),i=r.readBoolean();return{numTemporalLayers:n+1,temporalIdNested:i}}readSPS(e){const r=new Kw(this.ebsp2rbsp(e));r.readUByte(),r.readUByte(),r.readBits(4);const n=r.readBits(3);r.readBoolean();const i=r.readBits(2),s=r.readBoolean(),a=r.readBits(5),c=r.readUByte(),u=r.readUByte(),l=r.readUByte(),d=r.readUByte(),f=r.readUByte(),A=r.readUByte(),p=r.readUByte(),v=r.readUByte(),y=r.readUByte(),x=r.readUByte(),w=r.readUByte(),E=[],T=[];for(let Et=0;Et<n;Et++)E.push(r.readBoolean()),T.push(r.readBoolean());if(n>0)for(let Et=n;Et<8;Et++)r.readBits(2);for(let Et=0;Et<n;Et++)E[Et]&&(r.readUByte(),r.readUByte(),r.readUByte(),r.readUByte(),r.readUByte(),r.readUByte(),r.readUByte(),r.readUByte(),r.readUByte(),r.readUByte(),r.readUByte()),T[Et]&&r.readUByte();r.readUEG();const C=r.readUEG();C==3&&r.skipBits(1);const j=r.readUEG(),P=r.readUEG(),U=r.readBoolean();let W=0,q=0,re=0,ie=0;U&&(W+=r.readUEG(),q+=r.readUEG(),re+=r.readUEG(),ie+=r.readUEG());const Ae=r.readUEG(),be=r.readUEG(),Ee=r.readUEG(),ge=r.readBoolean();for(let Et=ge?0:n;Et<=n;Et++)r.skipUEG(),r.skipUEG(),r.skipUEG();if(r.skipUEG(),r.skipUEG(),r.skipUEG(),r.skipUEG(),r.skipUEG(),r.skipUEG(),r.readBoolean()&&r.readBoolean())for(let Ut=0;Ut<4;Ut++)for(let ir=0;ir<(Ut===3?2:6);ir++)if(!r.readBoolean())r.readUEG();else{const kr=Math.min(64,1<<4+(Ut<<1));Ut>1&&r.readEG();for(let rn=0;rn<kr;rn++)r.readEG()}r.readBoolean(),r.readBoolean(),r.readBoolean()&&(r.readUByte(),r.skipUEG(),r.skipUEG(),r.readBoolean());const ce=r.readUEG();let Me=0;for(let Et=0;Et<ce;Et++){let Ut=!1;if(Et!==0&&(Ut=r.readBoolean()),Ut){Et===ce&&r.readUEG(),r.readBoolean(),r.readUEG();let ir=0;for(let on=0;on<=Me;on++){const kr=r.readBoolean();let rn=!1;kr||(rn=r.readBoolean()),(kr||rn)&&ir++}Me=ir}else{const ir=r.readUEG(),on=r.readUEG();Me=ir+on;for(let kr=0;kr<ir;kr++)r.readUEG(),r.readBoolean();for(let kr=0;kr<on;kr++)r.readUEG(),r.readBoolean()}}if(r.readBoolean()){const Et=r.readUEG();for(let Ut=0;Ut<Et;Ut++){for(let ir=0;ir<Ee+4;ir++)r.readBits(1);r.readBits(1)}}let we=0,ue=1,ye=1,Le=!0,He=1,Fe=0;r.readBoolean(),r.readBoolean();let At=!1;if(r.readBoolean()){if(r.readBoolean()){const wn=r.readUByte(),Mn=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2],dn=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1];wn>0&&wn<16?(ue=Mn[wn-1],ye=dn[wn-1]):wn===255&&(ue=r.readBits(16),ye=r.readBits(16))}if(r.readBoolean()&&r.readBoolean(),r.readBoolean()&&(r.readBits(3),r.readBoolean(),r.readBoolean()&&(r.readUByte(),r.readUByte(),r.readUByte())),r.readBoolean()&&(r.readUEG(),r.readUEG()),r.readBoolean(),r.readBoolean(),r.readBoolean(),At=r.readBoolean(),At&&(r.skipUEG(),r.skipUEG(),r.skipUEG(),r.skipUEG()),r.readBoolean()&&(He=r.readBits(32),Fe=r.readBits(32),r.readBoolean()&&r.readUEG(),r.readBoolean())){const dn=r.readBoolean(),pn=r.readBoolean();let mn=!1;(dn||pn)&&(mn=r.readBoolean(),mn&&(r.readUByte(),r.readBits(5),r.readBoolean(),r.readBits(5)),r.readBits(4),r.readBits(4),mn&&r.readBits(4),r.readBits(5),r.readBits(5),r.readBits(5));for(let Kn=0;Kn<=n;Kn++){Le=r.readBoolean();const Zn=Le||r.readBoolean();let Li=!1;Zn?r.readEG():Li=r.readBoolean();const ot=Li?1:r.readUEG()+1;if(dn)for(let Wt=0;Wt<ot;Wt++)r.readUEG(),r.readUEG(),mn&&(r.readUEG(),r.readUEG()),r.skipBits(1);if(pn)for(let Wt=0;Wt<ot;Wt++)r.readUEG(),r.readUEG(),mn&&(r.readUEG(),r.readUEG()),r.skipBits(1)}}r.readBoolean()&&(r.readBoolean(),r.readBoolean(),r.readBoolean(),we=r.readUEG())}let Pe=j,st=P;if(U){let Et=1,Ut=1;C===1?Et=Ut=2:C==2&&(Et=2),Pe=j-Et*q-Et*W,st=P-Ut*ie-Ut*re}const et=i?["A","B","C"][i]:"",We=c<<24|u<<16|l<<8|d;let gt=0;for(let Et=0;Et<32;Et++)gt=(gt|(We>>Et&1)<<31-Et)>>>0;let Ge=gt.toString(16);return a===1&&Ge==="2"&&(Ge="6"),{codecString:`hvc1.${et}${a}.${Ge}.${s?"H":"L"}${w}.B0`,params:{general_tier_flag:s,general_profile_idc:a,general_profile_space:i,general_profile_compatibility_flags:[c,u,l,d],general_constraint_indicator_flags:[f,A,p,v,y,x],general_level_idc:w,bit_depth:Ae+8,bit_depth_luma_minus8:Ae,bit_depth_chroma_minus8:be,min_spatial_segmentation_idc:we,chroma_format_idc:C,frame_rate:{fixed:Le,fps:Fe/He}},width:Pe,height:st,pixelRatio:[ue,ye]}}readPPS(e){const r=new Kw(this.ebsp2rbsp(e));r.readUByte(),r.readUByte(),r.skipUEG(),r.skipUEG(),r.skipBits(2),r.skipBits(3),r.skipBits(2),r.skipUEG(),r.skipUEG(),r.skipEG(),r.skipBits(2),r.readBoolean()&&r.skipUEG(),r.skipEG(),r.skipEG(),r.skipBits(4);const i=r.readBoolean(),s=r.readBoolean();let a=1;return s&&i?a=0:s?a=3:i&&(a=2),{parallelismType:a}}matchSPS(e,r){return String.fromCharCode.apply(null,e).substr(3)===String.fromCharCode.apply(null,r).substr(3)}}const rd=188;class i0{constructor(e,r,n,i){this.logger=void 0,this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._pmtId=-1,this._videoTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.remainderData=null,this.videoParser=void 0,this.observer=e,this.config=r,this.typeSupported=n,this.logger=i,this.videoParser=null}static probe(e,r){const n=i0.syncOffset(e);return n>0&&r.warn(`MPEG2-TS detected but first sync word found @ offset ${n}`),n!==-1}static syncOffset(e){const r=e.length;let n=Math.min(rd*5,r-rd)+1,i=0;for(;i<n;){let s=!1,a=-1,c=0;for(let u=i;u<r;u+=rd)if(e[u]===71&&(r-u===rd||e[u+rd]===71)){if(c++,a===-1&&(a=u,a!==0&&(n=Math.min(a+rd*99,e.length-rd)+1)),s||(s=WO(e,u)===0),s&&c>1&&(a===0&&c>2||u+rd>n))return a}else{if(c)return-1;break}i++}return-1}static createTrack(e,r){return{container:e==="video"||e==="audio"?"video/mp2t":void 0,type:e,id:Bne[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:e==="audio"?r:void 0}}resetInitSegment(e,r,n,i){this.pmtParsed=!1,this._pmtId=-1,this._videoTrack=i0.createTrack("video"),this._videoTrack.duration=i,this._audioTrack=i0.createTrack("audio",i),this._id3Track=i0.createTrack("id3"),this._txtTrack=i0.createTrack("text"),this._audioTrack.segmentCodec="aac",this.videoParser=null,this.aacOverFlow=null,this.remainderData=null,this.audioCodec=r,this.videoCodec=n}resetTimeStamp(){}resetContiguity(){const{_audioTrack:e,_videoTrack:r,_id3Track:n}=this;e&&(e.pesData=null),r&&(r.pesData=null),n&&(n.pesData=null),this.aacOverFlow=null,this.remainderData=null}demux(e,r,n=!1,i=!1){n||(this.sampleAes=null);let s;const a=this._videoTrack,c=this._audioTrack,u=this._id3Track,l=this._txtTrack;let d=a.pid,f=a.pesData,A=c.pid,p=u.pid,v=c.pesData,y=u.pesData,x=null,w=this.pmtParsed,E=this._pmtId,T=e.length;if(this.remainderData&&(e=Wf(this.remainderData,e),T=e.length,this.remainderData=null),T<rd&&!i)return this.remainderData=e,{audioTrack:c,videoTrack:a,id3Track:u,textTrack:l};const C=Math.max(0,i0.syncOffset(e));T-=(T-C)%rd,T<e.byteLength&&!i&&(this.remainderData=new Uint8Array(e.buffer,T,e.buffer.byteLength-T));let j=0;for(let U=C;U<T;U+=rd)if(e[U]===71){const W=!!(e[U+1]&64),q=WO(e,U),re=(e[U+3]&48)>>4;let ie;if(re>1){if(ie=U+5+e[U+4],ie===U+rd)continue}else ie=U+4;switch(q){case d:W&&(f&&(s=Jy(f,this.logger))&&(this.readyVideoParser(a.segmentCodec),this.videoParser!==null&&this.videoParser.parsePES(a,l,s,!1)),f={data:[],size:0}),f&&(f.data.push(e.subarray(ie,U+rd)),f.size+=U+rd-ie);break;case A:if(W){if(v&&(s=Jy(v,this.logger)))switch(c.segmentCodec){case"aac":this.parseAACPES(c,s);break;case"mp3":this.parseMPEGPES(c,s);break;case"ac3":this.parseAC3PES(c,s);break}v={data:[],size:0}}v&&(v.data.push(e.subarray(ie,U+rd)),v.size+=U+rd-ie);break;case p:W&&(y&&(s=Jy(y,this.logger))&&this.parseID3PES(u,s),y={data:[],size:0}),y&&(y.data.push(e.subarray(ie,U+rd)),y.size+=U+rd-ie);break;case 0:W&&(ie+=e[ie]+1),E=this._pmtId=K7e(e,ie);break;case E:{W&&(ie+=e[ie]+1);const Ae=G7e(e,ie,this.typeSupported,n,this.observer,this.logger);d=Ae.videoPid,d>0&&(a.pid=d,a.segmentCodec=Ae.segmentVideoCodec),A=Ae.audioPid,A>0&&(c.pid=A,c.segmentCodec=Ae.segmentAudioCodec),p=Ae.id3Pid,p>0&&(u.pid=p),x!==null&&!w&&(this.logger.warn(`MPEG-TS PMT found at ${U} after unknown PID '${x}'. Backtracking to sync byte @${C} to parse all TS packets.`),x=null,U=C-188),w=this.pmtParsed=!0;break}case 17:case 8191:break;default:x=q;break}}else j++;j>0&&YO(this.observer,new Error(`Found ${j} TS packet/s that do not start with 0x47`),void 0,this.logger),a.pesData=f,c.pesData=v,u.pesData=y;const P={audioTrack:c,videoTrack:a,id3Track:u,textTrack:l};return i&&this.extractRemainingSamples(P),P}flush(){const{remainderData:e}=this;this.remainderData=null;let r;return e?r=this.demux(e,-1,!1,!0):r={videoTrack:this._videoTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(r),this.sampleAes?this.decrypt(r,this.sampleAes):r}extractRemainingSamples(e){const{audioTrack:r,videoTrack:n,id3Track:i,textTrack:s}=e,a=n.pesData,c=r.pesData,u=i.pesData;let l;if(a&&(l=Jy(a,this.logger))?(this.readyVideoParser(n.segmentCodec),this.videoParser!==null&&(this.videoParser.parsePES(n,s,l,!0),n.pesData=null)):n.pesData=a,c&&(l=Jy(c,this.logger))){switch(r.segmentCodec){case"aac":this.parseAACPES(r,l);break;case"mp3":this.parseMPEGPES(r,l);break;case"ac3":this.parseAC3PES(r,l);break}r.pesData=null}else c!=null&&c.size&&this.logger.log("last AAC PES packet truncated,might overlap between fragments"),r.pesData=c;u&&(l=Jy(u,this.logger))?(this.parseID3PES(i,l),i.pesData=null):i.pesData=u}demuxSampleAes(e,r,n){const i=this.demux(e,n,!0,!this.config.progressive),s=this.sampleAes=new Q7e(this.observer,this.config,r);return this.decrypt(i,s)}readyVideoParser(e){this.videoParser===null&&(e==="avc"?this.videoParser=new V7e:e==="hevc"&&(this.videoParser=new z7e))}decrypt(e,r){return new Promise(n=>{const{audioTrack:i,videoTrack:s}=e;i.samples&&i.segmentCodec==="aac"?r.decryptAacSamples(i.samples,0,()=>{s.samples?r.decryptAvcSamples(s.samples,0,0,()=>{n(e)}):n(e)}):s.samples&&r.decryptAvcSamples(s.samples,0,0,()=>{n(e)})})}destroy(){this.observer&&this.observer.removeAllListeners(),this.config=this.logger=this.observer=null,this.aacOverFlow=this.videoParser=this.remainderData=this.sampleAes=null,this._videoTrack=this._audioTrack=this._id3Track=this._txtTrack=void 0}parseAACPES(e,r){let n=0;const i=this.aacOverFlow;let s=r.data;if(i){this.aacOverFlow=null;const f=i.missing,A=i.sample.unit.byteLength;if(f===-1)s=Wf(i.sample.unit,s);else{const p=A-f;i.sample.unit.set(s.subarray(0,f),p),e.samples.push(i.sample),n=i.missing}}let a,c;for(a=n,c=s.length;a<c-1&&!Rj(s,a);a++);if(a!==n){let f;const A=a<c-1;if(A?f=`AAC PES did not start with ADTS header,offset:${a}`:f="No ADTS header found in AAC PES",YO(this.observer,new Error(f),A,this.logger),!A)return}pie(e,this.observer,s,a,this.audioCodec);let u;if(r.pts!==void 0)u=r.pts;else if(i){const f=gie(e.samplerate);u=i.sample.pts+f}else{this.logger.warn("[tsdemuxer]: AAC PES unknown PTS");return}let l=0,d;for(;a<c;)if(d=vie(e,s,a,u,l),a+=d.length,d.missing){this.aacOverFlow=d;break}else for(l++;a<c-1&&!Rj(s,a);a++);}parseMPEGPES(e,r){const n=r.data,i=n.length;let s=0,a=0;const c=r.pts;if(c===void 0){this.logger.warn("[tsdemuxer]: MPEG PES unknown PTS");return}for(;a<i;)if(Eie(n,a)){const u=bie(e,n,a,c,s);if(u)a+=u.length,s++;else break}else a++}parseAC3PES(e,r){{const n=r.data,i=r.pts;if(i===void 0){this.logger.warn("[tsdemuxer]: AC3 PES unknown PTS");return}const s=n.length;let a=0,c=0,u;for(;c<s&&(u=Tie(e,n,c,i,a++))>0;)c+=u}}parseID3PES(e,r){if(r.pts===void 0){this.logger.warn("[tsdemuxer]: ID3 PES unknown PTS");return}const n=nl({},r,{type:this._videoTrack?af.emsg:af.audioId3,duration:Number.POSITIVE_INFINITY});e.samples.push(n)}}function WO(t,e){return((t[e+1]&31)<<8)+t[e+2]}function K7e(t,e){return(t[e+10]&31)<<8|t[e+11]}function G7e(t,e,r,n,i,s){const a={audioPid:-1,videoPid:-1,id3Pid:-1,segmentVideoCodec:"avc",segmentAudioCodec:"aac"},c=(t[e+1]&15)<<8|t[e+2],u=e+3+c-4,l=(t[e+10]&15)<<8|t[e+11];for(e+=12+l;e<u;){const d=WO(t,e),f=(t[e+3]&15)<<8|t[e+4];switch(t[e]){case 207:if(!n){cB("ADTS AAC",s);break}case 15:a.audioPid===-1&&(a.audioPid=d);break;case 21:a.id3Pid===-1&&(a.id3Pid=d);break;case 219:if(!n){cB("H.264",s);break}case 27:a.videoPid===-1&&(a.videoPid=d);break;case 3:case 4:!r.mpeg&&!r.mp3?s.log("MPEG audio found, not supported in this browser"):a.audioPid===-1&&(a.audioPid=d,a.segmentAudioCodec="mp3");break;case 193:if(!n){cB("AC-3",s);break}case 129:r.ac3?a.audioPid===-1&&(a.audioPid=d,a.segmentAudioCodec="ac3"):s.log("AC-3 audio found, not supported in this browser");break;case 6:if(a.audioPid===-1&&f>0){let A=e+5,p=f;for(;p>2;){t[A]===106&&(r.ac3!==!0?s.log("AC-3 audio found, not supported in this browser for now"):(a.audioPid=d,a.segmentAudioCodec="ac3"));const y=t[A+1]+2;A+=y,p-=y}}break;case 194:case 135:return YO(i,new Error("Unsupported EC-3 in M2TS found"),void 0,s),a;case 36:a.videoPid===-1&&(a.videoPid=d,a.segmentVideoCodec="hevc",s.log("HEVC in M2TS found"));break}e+=f+5}return a}function YO(t,e,r,n){n.warn(`parsing error: ${e.message}`),t.emit(Ie.ERROR,Ie.ERROR,{type:Pi.MEDIA_ERROR,details:gr.FRAG_PARSING_ERROR,fatal:!1,levelRetry:r,error:e,reason:e.message})}function cB(t,e){e.log(`${t} with AES-128-CBC encryption found in unencrypted stream`)}function Jy(t,e){let r=0,n,i,s,a,c;const u=t.data;if(!t||t.size===0)return null;for(;u[0].length<19&&u.length>1;)u[0]=Wf(u[0],u[1]),u.splice(1,1);if(n=u[0],(n[0]<<16)+(n[1]<<8)+n[2]===1){if(i=(n[4]<<8)+n[5],i&&i>t.size-6)return null;const d=n[7];d&192&&(a=(n[9]&14)*536870912+(n[10]&255)*4194304+(n[11]&254)*16384+(n[12]&255)*128+(n[13]&254)/2,d&64?(c=(n[14]&14)*536870912+(n[15]&255)*4194304+(n[16]&254)*16384+(n[17]&255)*128+(n[18]&254)/2,a-c>60*9e4&&(e.warn(`${Math.round((a-c)/9e4)}s delta between PTS and DTS, align them`),a=c)):c=a),s=n[8];let f=s+9;if(t.size<=f)return null;t.size-=f;const A=new Uint8Array(t.size);for(let p=0,v=u.length;p<v;p++){n=u[p];let y=n.byteLength;if(f)if(f>y){f-=y;continue}else n=n.subarray(f),y-=f,f=0;A.set(n,r),r+=y}return i&&(i-=s+3),{data:A,pts:a,dts:c,len:i}}return null}class W7e{static getSilentFrame(e,r){switch(e){case"mp4a.40.2":if(r===1)return new Uint8Array([0,200,0,128,35,128]);if(r===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(r===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(r===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(r===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(r===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(r===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(r===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(r===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);break}}}const Dg=Math.pow(2,32)-1;class hr{static init(){hr.types={avc1:[],avcC:[],hvc1:[],hvcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],dac3:[],"ac-3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};let e;for(e in hr.types)hr.types.hasOwnProperty(e)&&(hr.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);const r=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),n=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);hr.HDLR_TYPES={video:r,audio:n};const i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),s=new Uint8Array([0,0,0,0,0,0,0,0]);hr.STTS=hr.STSC=hr.STCO=s,hr.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),hr.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),hr.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),hr.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);const a=new Uint8Array([105,115,111,109]),c=new Uint8Array([97,118,99,49]),u=new Uint8Array([0,0,0,1]);hr.FTYP=hr.box(hr.types.ftyp,a,u,a,c),hr.DINF=hr.box(hr.types.dinf,hr.box(hr.types.dref,i))}static box(e,...r){let n=8,i=r.length;const s=i;for(;i--;)n+=r[i].byteLength;const a=new Uint8Array(n);for(a[0]=n>>24&255,a[1]=n>>16&255,a[2]=n>>8&255,a[3]=n&255,a.set(e,4),i=0,n=8;i<s;i++)a.set(r[i],n),n+=r[i].byteLength;return a}static hdlr(e){return hr.box(hr.types.hdlr,hr.HDLR_TYPES[e])}static mdat(e){return hr.box(hr.types.mdat,e)}static mdhd(e,r){r*=e;const n=Math.floor(r/(Dg+1)),i=Math.floor(r%(Dg+1));return hr.box(hr.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,e&255,n>>24,n>>16&255,n>>8&255,n&255,i>>24,i>>16&255,i>>8&255,i&255,85,196,0,0]))}static mdia(e){return hr.box(hr.types.mdia,hr.mdhd(e.timescale||0,e.duration||0),hr.hdlr(e.type),hr.minf(e))}static mfhd(e){return hr.box(hr.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,e&255]))}static minf(e){return e.type==="audio"?hr.box(hr.types.minf,hr.box(hr.types.smhd,hr.SMHD),hr.DINF,hr.stbl(e)):hr.box(hr.types.minf,hr.box(hr.types.vmhd,hr.VMHD),hr.DINF,hr.stbl(e))}static moof(e,r,n){return hr.box(hr.types.moof,hr.mfhd(e),hr.traf(n,r))}static moov(e){let r=e.length;const n=[];for(;r--;)n[r]=hr.trak(e[r]);return hr.box.apply(null,[hr.types.moov,hr.mvhd(e[0].timescale||0,e[0].duration||0)].concat(n).concat(hr.mvex(e)))}static mvex(e){let r=e.length;const n=[];for(;r--;)n[r]=hr.trex(e[r]);return hr.box.apply(null,[hr.types.mvex,...n])}static mvhd(e,r){r*=e;const n=Math.floor(r/(Dg+1)),i=Math.floor(r%(Dg+1)),s=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,e&255,n>>24,n>>16&255,n>>8&255,n&255,i>>24,i>>16&255,i>>8&255,i&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return hr.box(hr.types.mvhd,s)}static sdtp(e){const r=e.samples||[],n=new Uint8Array(4+r.length);let i,s;for(i=0;i<r.length;i++)s=r[i].flags,n[i+4]=s.dependsOn<<4|s.isDependedOn<<2|s.hasRedundancy;return hr.box(hr.types.sdtp,n)}static stbl(e){return hr.box(hr.types.stbl,hr.stsd(e),hr.box(hr.types.stts,hr.STTS),hr.box(hr.types.stsc,hr.STSC),hr.box(hr.types.stsz,hr.STSZ),hr.box(hr.types.stco,hr.STCO))}static avc1(e){let r=[],n=[],i,s,a;for(i=0;i<e.sps.length;i++)s=e.sps[i],a=s.byteLength,r.push(a>>>8&255),r.push(a&255),r=r.concat(Array.prototype.slice.call(s));for(i=0;i<e.pps.length;i++)s=e.pps[i],a=s.byteLength,n.push(a>>>8&255),n.push(a&255),n=n.concat(Array.prototype.slice.call(s));const c=hr.box(hr.types.avcC,new Uint8Array([1,r[3],r[4],r[5],255,224|e.sps.length].concat(r).concat([e.pps.length]).concat(n))),u=e.width,l=e.height,d=e.pixelRatio[0],f=e.pixelRatio[1];return hr.box(hr.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,u>>8&255,u&255,l>>8&255,l&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),c,hr.box(hr.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),hr.box(hr.types.pasp,new Uint8Array([d>>24,d>>16&255,d>>8&255,d&255,f>>24,f>>16&255,f>>8&255,f&255])))}static esds(e){const r=e.config;return new Uint8Array([0,0,0,0,3,25,0,1,0,4,17,64,21,0,0,0,0,0,0,0,0,0,0,0,5,2,...r,6,1,2])}static audioStsd(e){const r=e.samplerate||0;return new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount||0,0,16,0,0,0,0,r>>8&255,r&255,0,0])}static mp4a(e){return hr.box(hr.types.mp4a,hr.audioStsd(e),hr.box(hr.types.esds,hr.esds(e)))}static mp3(e){return hr.box(hr.types[".mp3"],hr.audioStsd(e))}static ac3(e){return hr.box(hr.types["ac-3"],hr.audioStsd(e),hr.box(hr.types.dac3,e.config))}static stsd(e){const{segmentCodec:r}=e;if(e.type==="audio"){if(r==="aac")return hr.box(hr.types.stsd,hr.STSD,hr.mp4a(e));if(r==="ac3"&&e.config)return hr.box(hr.types.stsd,hr.STSD,hr.ac3(e));if(r==="mp3"&&e.codec==="mp3")return hr.box(hr.types.stsd,hr.STSD,hr.mp3(e))}else if(e.pps&&e.sps){if(r==="avc")return hr.box(hr.types.stsd,hr.STSD,hr.avc1(e));if(r==="hevc"&&e.vps)return hr.box(hr.types.stsd,hr.STSD,hr.hvc1(e))}else throw new Error("video track missing pps or sps");throw new Error(`unsupported ${e.type} segment codec (${r}/${e.codec})`)}static tkhd(e){const r=e.id,n=(e.duration||0)*(e.timescale||0),i=e.width||0,s=e.height||0,a=Math.floor(n/(Dg+1)),c=Math.floor(n%(Dg+1));return hr.box(hr.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,r>>24&255,r>>16&255,r>>8&255,r&255,0,0,0,0,a>>24,a>>16&255,a>>8&255,a&255,c>>24,c>>16&255,c>>8&255,c&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,i>>8&255,i&255,0,0,s>>8&255,s&255,0,0]))}static traf(e,r){const n=hr.sdtp(e),i=e.id,s=Math.floor(r/(Dg+1)),a=Math.floor(r%(Dg+1));return hr.box(hr.types.traf,hr.box(hr.types.tfhd,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,i&255])),hr.box(hr.types.tfdt,new Uint8Array([1,0,0,0,s>>24,s>>16&255,s>>8&255,s&255,a>>24,a>>16&255,a>>8&255,a&255])),hr.trun(e,n.length+16+20+8+16+8+8),n)}static trak(e){return e.duration=e.duration||4294967295,hr.box(hr.types.trak,hr.tkhd(e),hr.mdia(e))}static trex(e){const r=e.id;return hr.box(hr.types.trex,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,r&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}static trun(e,r){const n=e.samples||[],i=n.length,s=12+16*i,a=new Uint8Array(s);let c,u,l,d,f,A;for(r+=8+s,a.set([e.type==="video"?1:0,0,15,1,i>>>24&255,i>>>16&255,i>>>8&255,i&255,r>>>24&255,r>>>16&255,r>>>8&255,r&255],0),c=0;c<i;c++)u=n[c],l=u.duration,d=u.size,f=u.flags,A=u.cts,a.set([l>>>24&255,l>>>16&255,l>>>8&255,l&255,d>>>24&255,d>>>16&255,d>>>8&255,d&255,f.isLeading<<2|f.dependsOn,f.isDependedOn<<6|f.hasRedundancy<<4|f.paddingValue<<1|f.isNonSync,f.degradPrio&61440,f.degradPrio&15,A>>>24&255,A>>>16&255,A>>>8&255,A&255],12+16*c);return hr.box(hr.types.trun,a)}static initSegment(e){hr.types||hr.init();const r=hr.moov(e);return Wf(hr.FTYP,r)}static hvc1(e){const r=e.params,n=[e.vps,e.sps,e.pps],i=4,s=new Uint8Array([1,r.general_profile_space<<6|(r.general_tier_flag?32:0)|r.general_profile_idc,r.general_profile_compatibility_flags[0],r.general_profile_compatibility_flags[1],r.general_profile_compatibility_flags[2],r.general_profile_compatibility_flags[3],r.general_constraint_indicator_flags[0],r.general_constraint_indicator_flags[1],r.general_constraint_indicator_flags[2],r.general_constraint_indicator_flags[3],r.general_constraint_indicator_flags[4],r.general_constraint_indicator_flags[5],r.general_level_idc,240|r.min_spatial_segmentation_idc>>8,255&r.min_spatial_segmentation_idc,252|r.parallelismType,252|r.chroma_format_idc,248|r.bit_depth_luma_minus8,248|r.bit_depth_chroma_minus8,0,parseInt(r.frame_rate.fps),i-1|r.temporal_id_nested<<2|r.num_temporal_layers<<3|(r.frame_rate.fixed?64:0),n.length]);let a=s.length;for(let v=0;v<n.length;v+=1){a+=3;for(let y=0;y<n[v].length;y+=1)a+=2+n[v][y].length}const c=new Uint8Array(a);c.set(s,0),a=s.length;const u=n.length-1;for(let v=0;v<n.length;v+=1){c.set(new Uint8Array([32+v|(v===u?128:0),0,n[v].length]),a),a+=3;for(let y=0;y<n[v].length;y+=1)c.set(new Uint8Array([n[v][y].length>>8,n[v][y].length&255]),a),a+=2,c.set(n[v][y],a),a+=n[v][y].length}const l=hr.box(hr.types.hvcC,c),d=e.width,f=e.height,A=e.pixelRatio[0],p=e.pixelRatio[1];return hr.box(hr.types.hvc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,d>>8&255,d&255,f>>8&255,f&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),l,hr.box(hr.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),hr.box(hr.types.pasp,new Uint8Array([A>>24,A>>16&255,A>>8&255,A&255,p>>24,p>>16&255,p>>8&255,p&255])))}}hr.types=void 0;hr.HDLR_TYPES=void 0;hr.STTS=void 0;hr.STSC=void 0;hr.STCO=void 0;hr.STSZ=void 0;hr.VMHD=void 0;hr.SMHD=void 0;hr.STSD=void 0;hr.FTYP=void 0;hr.DINF=void 0;const jie=9e4;function hF(t,e,r=1,n=!1){const i=t*e*r;return n?Math.round(i):i}function Y7e(t,e,r=1,n=!1){return hF(t,e,1/r,n)}function H1(t,e=!1){return hF(t,1e3,1/jie,e)}function q7e(t,e=1){return hF(t,jie,1/e)}function kK(t){const{baseTime:e,timescale:r,trackId:n}=t;return`${e/r} (${e}/${r}) trackId: ${n}`}const X7e=10*1e3,Z7e=1024,J7e=1152,e$e=1536;let ex=null,uB=null;function IK(t,e,r,n){return{duration:e,size:r,cts:n,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:t?2:1,isNonSync:t?0:1}}}class QS extends Zf{constructor(e,r,n,i){if(super("mp4-remuxer",i),this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextVideoTs=null,this.nextAudioTs=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.videoTrackConfig=void 0,this.observer=e,this.config=r,this.typeSupported=n,this.ISGenerated=!1,ex===null){const a=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);ex=a?parseInt(a[1]):0}if(uB===null){const s=navigator.userAgent.match(/Safari\/(\d+)/i);uB=s?parseInt(s[1]):0}}destroy(){this.config=this.videoTrackConfig=this._initPTS=this._initDTS=null}resetTimeStamp(e){const r=this._initPTS;(!r||!e||e.trackId!==r.trackId||e.baseTime!==r.baseTime||e.timescale!==r.timescale)&&this.log(`Reset initPTS: ${r&&kK(r)} > ${e&&kK(e)}`),this._initPTS=this._initDTS=e}resetNextTimestamp(){this.log("reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1}resetInitSegment(){this.log("ISGenerated flag reset"),this.ISGenerated=!1,this.videoTrackConfig=void 0}getVideoStartPts(e){let r=!1;const n=e[0].pts,i=e.reduce((s,a)=>{let c=a.pts,u=c-s;return u<-4294967296&&(r=!0,c=rf(c,n),u=c-s),u>0?s:c},n);return r&&this.debug("PTS rollover detected"),i}remux(e,r,n,i,s,a,c,u){let l,d,f,A,p,v,y=s,x=s;const w=e.pid>-1,E=r.pid>-1,T=r.samples.length,C=e.samples.length>0,j=c&&T>0||T>1;if((!w||C)&&(!E||j)||this.ISGenerated||c){if(this.ISGenerated){var U,W,q,re;const Ee=this.videoTrackConfig;(Ee&&(r.width!==Ee.width||r.height!==Ee.height||((U=r.pixelRatio)==null?void 0:U[0])!==((W=Ee.pixelRatio)==null?void 0:W[0])||((q=r.pixelRatio)==null?void 0:q[1])!==((re=Ee.pixelRatio)==null?void 0:re[1]))||!Ee&&j||this.nextAudioTs===null&&C)&&this.resetInitSegment()}this.ISGenerated||(f=this.generateIS(e,r,s,a));const ie=this.isVideoContiguous;let Ae=-1,be;if(j&&(Ae=t$e(r.samples),!ie&&this.config.forceKeyFrameOnDiscontinuity))if(v=!0,Ae>0){this.warn(`Dropped ${Ae} out of ${T} video samples due to a missing keyframe`);const Ee=this.getVideoStartPts(r.samples);r.samples=r.samples.slice(Ae),r.dropped+=Ae,x+=(r.samples[0].pts-Ee)/r.inputTimeScale,be=x}else Ae===-1&&(this.warn(`No keyframe found out of ${T} video samples`),v=!1);if(this.ISGenerated){if(C&&j){const Ee=this.getVideoStartPts(r.samples),se=(rf(e.samples[0].pts,Ee)-Ee)/r.inputTimeScale;y+=Math.max(0,se),x+=Math.max(0,-se)}if(C){if(e.samplerate||(this.warn("regenerate InitSegment as audio detected"),f=this.generateIS(e,r,s,a)),d=this.remuxAudio(e,y,this.isAudioContiguous,a,E||j||u===fi.AUDIO?x:void 0),j){const Ee=d?d.endPTS-d.startPTS:0;r.inputTimeScale||(this.warn("regenerate InitSegment as video detected"),f=this.generateIS(e,r,s,a)),l=this.remuxVideo(r,x,ie,Ee)}}else j&&(l=this.remuxVideo(r,x,ie,0));l&&(l.firstKeyFrame=Ae,l.independent=Ae!==-1,l.firstKeyFramePTS=be)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(n.samples.length&&(p=Nie(n,s,this._initPTS,this._initDTS)),i.samples.length&&(A=kie(i,s,this._initPTS))),{audio:d,video:l,initSegment:f,independent:v,text:A,id3:p}}computeInitPts(e,r,n,i){const s=Math.round(n*r);let a=rf(e,s);if(a<s+r)for(this.log(`Adjusting PTS for rollover in timeline near ${(s-a)/r} ${i}`);a<s+r;)a+=8589934592;return a-s}generateIS(e,r,n,i){const s=e.samples,a=r.samples,c=this.typeSupported,u={},l=this._initPTS;let d=!l||i,f="audio/mp4",A,p,v,y=-1;if(d&&(A=p=1/0),e.config&&s.length){switch(e.timescale=e.samplerate,e.segmentCodec){case"mp3":c.mpeg?(f="audio/mpeg",e.codec=""):c.mp3&&(e.codec="mp3");break;case"ac3":e.codec="ac-3";break}u.audio={id:"audio",container:f,codec:e.codec,initSegment:e.segmentCodec==="mp3"&&c.mpeg?new Uint8Array(0):hr.initSegment([e]),metadata:{channelCount:e.channelCount}},d&&(y=e.id,v=e.inputTimeScale,!l||v!==l.timescale?A=p=this.computeInitPts(s[0].pts,v,n,"audio"):d=!1)}if(r.sps&&r.pps&&a.length){if(r.timescale=r.inputTimeScale,u.video={id:"main",container:"video/mp4",codec:r.codec,initSegment:hr.initSegment([r]),metadata:{width:r.width,height:r.height}},d)if(y=r.id,v=r.inputTimeScale,!l||v!==l.timescale){const x=this.getVideoStartPts(a),w=rf(a[0].dts,x),E=this.computeInitPts(w,v,n,"video"),T=this.computeInitPts(x,v,n,"video");p=Math.min(p,E),A=Math.min(A,T)}else d=!1;this.videoTrackConfig={width:r.width,height:r.height,pixelRatio:r.pixelRatio}}if(Object.keys(u).length)return this.ISGenerated=!0,d?(l&&this.warn(`Timestamps at playlist time: ${i?"":"~"}${n} ${A/v} != initPTS: ${l.baseTime/l.timescale} (${l.baseTime}/${l.timescale}) trackId: ${l.trackId}`),this.log(`Found initPTS at playlist time: ${n} offset: ${A/v} (${A}/${v}) trackId: ${y}`),this._initPTS={baseTime:A,timescale:v,trackId:y},this._initDTS={baseTime:p,timescale:v,trackId:y}):A=v=void 0,{tracks:u,initPTS:A,timescale:v,trackId:y}}remuxVideo(e,r,n,i){const s=e.inputTimeScale,a=e.samples,c=[],u=a.length,l=this._initPTS,d=l.baseTime*s/l.timescale;let f=this.nextVideoTs,A=8,p=this.videoSampleDuration,v,y,x=Number.POSITIVE_INFINITY,w=Number.NEGATIVE_INFINITY,E=!1;if(!n||f===null){const we=d+r*s,ue=a[0].pts-rf(a[0].dts,a[0].pts);ex&&f!==null&&Math.abs(we-ue-(f+d))<15e3?n=!0:f=we-ue-d}const T=f+d;for(let we=0;we<u;we++){const ue=a[we];ue.pts=rf(ue.pts,T),ue.dts=rf(ue.dts,T),ue.dts<a[we>0?we-1:we].dts&&(E=!0)}E&&a.sort(function(we,ue){const ye=we.dts-ue.dts,Le=we.pts-ue.pts;return ye||Le}),v=a[0].dts,y=a[a.length-1].dts;const C=y-v,j=C?Math.round(C/(u-1)):p||e.inputTimeScale/30;if(n){const we=v-T,ue=we>j,ye=we<-1;if((ue||ye)&&(ue?this.warn(`${(e.segmentCodec||"").toUpperCase()}: ${H1(we,!0)} ms (${we}dts) hole between fragments detected at ${r.toFixed(3)}`):this.warn(`${(e.segmentCodec||"").toUpperCase()}: ${H1(-we,!0)} ms (${we}dts) overlapping between fragments detected at ${r.toFixed(3)}`),!ye||T>=a[0].pts||ex)){v=T;const Le=a[0].pts-we;if(ue)a[0].dts=v,a[0].pts=Le;else{let He=!0;for(let Fe=0;Fe<a.length&&!(a[Fe].dts>Le&&He);Fe++){const At=a[Fe].pts;if(a[Fe].dts-=we,a[Fe].pts-=we,Fe<a.length-1){const pt=a[Fe+1].pts,Pe=a[Fe].pts,st=pt<=Pe,et=pt<=At;He=st==et}}}this.log(`Video: Initial PTS/DTS adjusted: ${H1(Le,!0)}/${H1(v,!0)}, delta: ${H1(we,!0)} ms`)}}v=Math.max(0,v);let P=0,U=0,W=v;for(let we=0;we<u;we++){const ue=a[we],ye=ue.units,Le=ye.length;let He=0;for(let Fe=0;Fe<Le;Fe++)He+=ye[Fe].data.length;U+=He,P+=Le,ue.length=He,ue.dts<W?(ue.dts=W,W+=j/4|0||1):W=ue.dts,x=Math.min(ue.pts,x),w=Math.max(ue.pts,w)}y=a[u-1].dts;const q=U+4*P+8;let re;try{re=new Uint8Array(q)}catch(we){this.observer.emit(Ie.ERROR,Ie.ERROR,{type:Pi.MUX_ERROR,details:gr.REMUX_ALLOC_ERROR,fatal:!1,error:we,bytes:q,reason:`fail allocating video mdat ${q}`});return}const ie=new DataView(re.buffer);ie.setUint32(0,q),re.set(hr.types.mdat,4);let Ae=!1,be=Number.POSITIVE_INFINITY,Ee=Number.POSITIVE_INFINITY,ge=Number.NEGATIVE_INFINITY,se=Number.NEGATIVE_INFINITY;for(let we=0;we<u;we++){const ue=a[we],ye=ue.units;let Le=0;for(let At=0,pt=ye.length;At<pt;At++){const Pe=ye[At],st=Pe.data,et=Pe.data.byteLength;ie.setUint32(A,et),A+=4,re.set(st,A),A+=et,Le+=4+et}let He;if(we<u-1)p=a[we+1].dts-ue.dts,He=a[we+1].pts-ue.pts;else{const At=this.config,pt=we>0?ue.dts-a[we-1].dts:j;if(He=we>0?ue.pts-a[we-1].pts:j,At.stretchShortVideoTrack&&this.nextAudioTs!==null){const Pe=Math.floor(At.maxBufferHole*s),st=(i?x+i*s:this.nextAudioTs+d)-ue.pts;st>Pe?(p=st-pt,p<0?p=pt:Ae=!0,this.log(`It is approximately ${st/90} ms to the next segment; using duration ${p/90} ms for the last video frame.`)):p=pt}else p=pt}const Fe=Math.round(ue.pts-ue.dts);be=Math.min(be,p),ge=Math.max(ge,p),Ee=Math.min(Ee,He),se=Math.max(se,He),c.push(IK(ue.key,p,Le,Fe))}if(c.length){if(ex){if(ex<70){const we=c[0].flags;we.dependsOn=2,we.isNonSync=0}}else if(uB&&se-Ee<ge-be&&j/ge<.025&&c[0].cts===0){this.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");let we=v;for(let ue=0,ye=c.length;ue<ye;ue++){const Le=we+c[ue].duration,He=we+c[ue].cts;if(ue<ye-1){const Fe=Le+c[ue+1].cts;c[ue].duration=Fe-He}else c[ue].duration=ue?c[ue-1].duration:j;c[ue].cts=0,we=Le}}}p=Ae||!p?j:p;const xe=y+p;this.nextVideoTs=f=xe-d,this.videoSampleDuration=p,this.isVideoContiguous=!0;const Oe={data1:hr.moof(e.sequenceNumber++,v,nl(e,{samples:c})),data2:re,startPTS:(x-d)/s,endPTS:(w+p-d)/s,startDTS:(v-d)/s,endDTS:f/s,type:"video",hasAudio:!1,hasVideo:!0,nb:c.length,dropped:e.dropped};return e.samples=[],e.dropped=0,Oe}getSamplesPerFrame(e){switch(e.segmentCodec){case"mp3":return J7e;case"ac3":return e$e;default:return Z7e}}remuxAudio(e,r,n,i,s){const a=e.inputTimeScale,c=e.samplerate?e.samplerate:a,u=a/c,l=this.getSamplesPerFrame(e),d=l*u,f=this._initPTS,A=e.segmentCodec==="mp3"&&this.typeSupported.mpeg,p=[],v=s!==void 0;let y=e.samples,x=A?0:8,w=this.nextAudioTs||-1;const E=f.baseTime*a/f.timescale,T=E+r*a;if(this.isAudioContiguous=n=n||y.length&&w>0&&(i&&Math.abs(T-(w+E))<9e3||Math.abs(rf(y[0].pts,T)-(w+E))<20*d),y.forEach(function(se){se.pts=rf(se.pts,T)}),!n||w<0){const se=y.length;if(y=y.filter(xe=>xe.pts>=0),se!==y.length&&this.warn(`Removed ${y.length-se} of ${se} samples (initPTS ${E} / ${a})`),!y.length)return;s===0?w=0:i&&!v?w=Math.max(0,T-E):w=y[0].pts-E}if(e.segmentCodec==="aac"){const se=this.config.maxAudioFramesDrift;for(let xe=0,ce=w+E;xe<y.length;xe++){const Me=y[xe],Oe=Me.pts,we=Oe-ce,ue=Math.abs(1e3*we/a);if(we<=-se*d&&v)xe===0&&(this.warn(`Audio frame @ ${(Oe/a).toFixed(3)}s overlaps marker by ${Math.round(1e3*we/a)} ms.`),this.nextAudioTs=w=Oe-E,ce=Oe);else if(we>=se*d&&ue<X7e&&v){let ye=Math.round(we/d);for(ce=Oe-ye*d;ce<0&&ye&&d;)ye--,ce+=d;xe===0&&(this.nextAudioTs=w=ce-E),this.warn(`Injecting ${ye} audio frames @ ${((ce-E)/a).toFixed(3)}s due to ${Math.round(1e3*we/a)} ms gap.`);for(let Le=0;Le<ye;Le++){let He=W7e.getSilentFrame(e.parsedCodec||e.manifestCodec||e.codec,e.channelCount);He||(this.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),He=Me.unit.subarray()),y.splice(xe,0,{unit:He,pts:ce}),ce+=d,xe++}}Me.pts=ce,ce+=d}}let C=null,j=null,P,U=0,W=y.length;for(;W--;)U+=y[W].unit.byteLength;for(let se=0,xe=y.length;se<xe;se++){const ce=y[se],Me=ce.unit;let Oe=ce.pts;if(j!==null){const ue=p[se-1];ue.duration=Math.round((Oe-j)/u)}else if(n&&e.segmentCodec==="aac"&&(Oe=w+E),C=Oe,U>0){U+=x;try{P=new Uint8Array(U)}catch(ue){this.observer.emit(Ie.ERROR,Ie.ERROR,{type:Pi.MUX_ERROR,details:gr.REMUX_ALLOC_ERROR,fatal:!1,error:ue,bytes:U,reason:`fail allocating audio mdat ${U}`});return}A||(new DataView(P.buffer).setUint32(0,U),P.set(hr.types.mdat,4))}else return;P.set(Me,x);const we=Me.byteLength;x+=we,p.push(IK(!0,l,we,0)),j=Oe}const q=p.length;if(!q)return;const re=p[p.length-1];w=j-E,this.nextAudioTs=w+u*re.duration;const ie=A?new Uint8Array(0):hr.moof(e.sequenceNumber++,C/u,nl({},e,{samples:p}));e.samples=[];const Ae=(C-E)/a,be=this.nextAudioTs/a,ge={data1:ie,data2:P,startPTS:Ae,endPTS:be,startDTS:Ae,endDTS:be,type:"audio",hasAudio:!0,hasVideo:!1,nb:q};return this.isAudioContiguous=!0,ge}}function rf(t,e){let r;if(e===null)return t;for(e<t?r=-8589934592:r=8589934592;Math.abs(t-e)>4294967296;)t+=r;return t}function t$e(t){for(let e=0;e<t.length;e++)if(t[e].key)return e;return-1}function Nie(t,e,r,n){const i=t.samples.length;if(!i)return;const s=t.inputTimeScale;for(let c=0;c<i;c++){const u=t.samples[c];u.pts=rf(u.pts-r.baseTime*s/r.timescale,e*s)/s,u.dts=rf(u.dts-n.baseTime*s/n.timescale,e*s)/s}const a=t.samples;return t.samples=[],{samples:a}}function kie(t,e,r){const n=t.samples.length;if(!n)return;const i=t.inputTimeScale;for(let a=0;a<n;a++){const c=t.samples[a];c.pts=rf(c.pts-r.baseTime*i/r.timescale,e*i)/i}t.samples.sort((a,c)=>a.pts-c.pts);const s=t.samples;return t.samples=[],{samples:s}}class r$e extends Zf{constructor(e,r,n,i){super("passthrough-remuxer",i),this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null,this.isVideoContiguous=!1}destroy(){}resetTimeStamp(e){this.lastEndTime=null;const r=this.initPTS;r&&e&&r.baseTime===e.baseTime&&r.timescale===e.timescale||(this.initPTS=e)}resetNextTimestamp(){this.isVideoContiguous=!1,this.lastEndTime=null}resetInitSegment(e,r,n,i){this.audioCodec=r,this.videoCodec=n,this.generateInitSegment(e,i),this.emitInitSegment=!0}generateInitSegment(e,r){let{audioCodec:n,videoCodec:i}=this;if(!(e!=null&&e.byteLength)){this.initTracks=void 0,this.initData=void 0;return}const{audio:s,video:a}=this.initData=Rne(e);if(r)Q6e(e,r);else{const u=s||a;u!=null&&u.encrypted&&this.warn(`Init segment with encrypted track with has no key ("${u.codec}")!`)}s&&(n=LK(s,cl.AUDIO,this)),a&&(i=LK(a,cl.VIDEO,this));const c={};s&&a?c.audiovideo={container:"video/mp4",codec:n+","+i,supplemental:a.supplemental,encrypted:a.encrypted,initSegment:e,id:"main"}:s?c.audio={container:"audio/mp4",codec:n,encrypted:s.encrypted,initSegment:e,id:"audio"}:a?c.video={container:"video/mp4",codec:i,supplemental:a.supplemental,encrypted:a.encrypted,initSegment:e,id:"main"}:this.warn("initSegment does not contain moov or trak boxes."),this.initTracks=c}remux(e,r,n,i,s,a){var c,u;let{initPTS:l,lastEndTime:d}=this;const f={audio:void 0,video:void 0,text:i,id3:n,initSegment:void 0};qn(d)||(d=this.lastEndTime=s||0);const A=r.samples;if(!A.length)return f;const p={initPTS:void 0,timescale:void 0,trackId:void 0};let v=this.initData;if((c=v)!=null&&c.length||(this.generateInitSegment(A),v=this.initData),!((u=v)!=null&&u.length))return this.warn("Failed to generate initSegment."),f;this.emitInitSegment&&(p.tracks=this.initTracks,this.emitInitSegment=!1);const y=z6e(A,v,this),x=v.audio?y[v.audio.id]:null,w=v.video?y[v.video.id]:null,E=X2(w,1/0),T=X2(x,1/0),C=X2(w,0,!0),j=X2(x,0,!0);let P=s,U=0;const W=x&&(!w||!l&&T<E||l&&l.trackId===v.audio.id),q=W?x:w;if(q){const ce=q.timescale,Me=q.start-s*ce,Oe=W?v.audio.id:v.video.id;P=q.start/ce,U=W?j-T:C-E,(a||!l)&&(n$e(l,P,s,U)||ce!==l.timescale)&&(l&&this.warn(`Timestamps at playlist time: ${a?"":"~"}${s} ${Me/ce} != initPTS: ${l.baseTime/l.timescale} (${l.baseTime}/${l.timescale}) trackId: ${l.trackId}`),this.log(`Found initPTS at playlist time: ${s} offset: ${P-s} (${Me}/${ce}) trackId: ${Oe}`),l=null,p.initPTS=Me,p.timescale=ce,p.trackId=Oe)}else this.warn(`No audio or video samples found for initPTS at playlist time: ${s}`);l?(p.initPTS=l.baseTime,p.timescale=l.timescale,p.trackId=l.trackId):((!p.timescale||p.trackId===void 0||p.initPTS===void 0)&&(this.warn("Could not set initPTS"),p.initPTS=P,p.timescale=1,p.trackId=-1),this.initPTS=l={baseTime:p.initPTS,timescale:p.timescale,trackId:p.trackId});const re=P-l.baseTime/l.timescale,ie=re+U;U>0?this.lastEndTime=ie:(this.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());const Ae=!!v.audio,be=!!v.video;let Ee="";Ae&&(Ee+="audio"),be&&(Ee+="video");const ge=(v.audio?v.audio.encrypted:!1)||(v.video?v.video.encrypted:!1),se={data1:A,startPTS:re,startDTS:re,endPTS:ie,endDTS:ie,type:Ee,hasAudio:Ae,hasVideo:be,nb:1,dropped:0,encrypted:ge};f.audio=Ae&&!be?se:void 0,f.video=be?se:void 0;const xe=w?.sampleCount;if(xe){const ce=w.keyFrameIndex,Me=ce!==-1;se.nb=xe,se.dropped=ce===0||this.isVideoContiguous?0:Me?ce:xe,se.independent=Me,se.firstKeyFrame=ce,Me&&w.keyFrameStart&&(se.firstKeyFramePTS=(w.keyFrameStart-l.baseTime)/l.timescale),this.isVideoContiguous||(f.independent=Me),this.isVideoContiguous||(this.isVideoContiguous=Me),se.dropped&&this.warn(`fmp4 does not start with IDR: firstIDR ${ce}/${xe} dropped: ${se.dropped} start: ${se.firstKeyFramePTS||"NA"}`)}return f.initSegment=p,f.id3=Nie(n,s,l,l),i.samples.length&&(f.text=kie(i,s,l)),f}}function X2(t,e,r=!1){return t?.start!==void 0?(t.start+(r?t.duration:0))/t.timescale:e}function n$e(t,e,r,n){if(t===null)return!0;const i=Math.max(n,1),s=e-t.baseTime/t.timescale;return Math.abs(s-r)>i}function LK(t,e,r){const n=t.codec;return n&&n.length>4?n:e===cl.AUDIO?n==="ec-3"||n==="ac-3"||n==="alac"?n:n==="fLaC"||n==="Opus"?jj(n,!1):(r.warn(`Unhandled audio codec "${n}" in mp4 MAP`),n||"mp4a"):(r.warn(`Unhandled video codec "${n}" in mp4 MAP`),n||"avc1")}let Ep;try{Ep=self.performance.now.bind(self.performance)}catch{Ep=Date.now}const VS=[{demux:H7e,remux:r$e},{demux:i0,remux:QS},{demux:M7e,remux:QS},{demux:U7e,remux:QS}];VS.splice(2,0,{demux:F7e,remux:QS});class BK{constructor(e,r,n,i,s,a){this.asyncResult=!1,this.logger=void 0,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=e,this.typeSupported=r,this.config=n,this.id=s,this.logger=a}configure(e){this.transmuxConfig=e,this.decrypter&&this.decrypter.reset()}push(e,r,n,i){const s=n.transmuxing;s.executeStart=Ep();let a=new Uint8Array(e);const{currentTransmuxState:c,transmuxConfig:u}=this;i&&(this.currentTransmuxState=i);const{contiguous:l,discontinuity:d,trackSwitch:f,accurateTimeOffset:A,timeOffset:p,initSegmentChange:v}=i||c,{audioCodec:y,videoCodec:x,defaultInitPts:w,duration:E,initSegmentData:T}=u,C=i$e(a,r);if(C&&sb(C.method)){const W=this.getDecrypter(),q=nF(C.method);if(W.isSync()){let re=W.softwareDecrypt(a,C.key.buffer,C.iv.buffer,q);if(n.part>-1){const Ae=W.flush();re=Ae&&Ae.buffer}if(!re)return s.executeEnd=Ep(),dB(n);a=new Uint8Array(re)}else return this.asyncResult=!0,this.decryptionPromise=W.webCryptoDecrypt(a,C.key.buffer,C.iv.buffer,q).then(re=>{const ie=this.push(re,null,n);return this.decryptionPromise=null,ie}),this.decryptionPromise}const j=this.needsProbing(d,f);if(j){const W=this.configureTransmuxer(a);if(W)return this.logger.warn(`[transmuxer] ${W.message}`),this.observer.emit(Ie.ERROR,Ie.ERROR,{type:Pi.MEDIA_ERROR,details:gr.FRAG_PARSING_ERROR,fatal:!1,error:W,reason:W.message}),s.executeEnd=Ep(),dB(n)}(d||f||v||j)&&this.resetInitSegment(T,y,x,E,r),(d||v||j)&&this.resetInitialTimestamp(w),l||this.resetContiguity();const P=this.transmux(a,C,p,A,n);this.asyncResult=UE(P);const U=this.currentTransmuxState;return U.contiguous=!0,U.discontinuity=!1,U.trackSwitch=!1,s.executeEnd=Ep(),P}flush(e){const r=e.transmuxing;r.executeStart=Ep();const{decrypter:n,currentTransmuxState:i,decryptionPromise:s}=this;if(s)return this.asyncResult=!0,s.then(()=>this.flush(e));const a=[],{timeOffset:c}=i;if(n){const f=n.flush();f&&a.push(this.push(f.buffer,null,e))}const{demuxer:u,remuxer:l}=this;if(!u||!l){r.executeEnd=Ep();const f=[dB(e)];return this.asyncResult?Promise.resolve(f):f}const d=u.flush(c);return UE(d)?(this.asyncResult=!0,d.then(f=>(this.flushRemux(a,f,e),a))):(this.flushRemux(a,d,e),this.asyncResult?Promise.resolve(a):a)}flushRemux(e,r,n){const{audioTrack:i,videoTrack:s,id3Track:a,textTrack:c}=r,{accurateTimeOffset:u,timeOffset:l}=this.currentTransmuxState;this.logger.log(`[transmuxer.ts]: Flushed ${this.id} sn: ${n.sn}${n.part>-1?" part: "+n.part:""} of ${this.id===fi.MAIN?"level":"track"} ${n.level}`);const d=this.remuxer.remux(i,s,a,c,l,u,!0,this.id);e.push({remuxResult:d,chunkMeta:n}),n.transmuxing.executeEnd=Ep()}resetInitialTimestamp(e){const{demuxer:r,remuxer:n}=this;!r||!n||(r.resetTimeStamp(e),n.resetTimeStamp(e))}resetContiguity(){const{demuxer:e,remuxer:r}=this;!e||!r||(e.resetContiguity(),r.resetNextTimestamp())}resetInitSegment(e,r,n,i,s){const{demuxer:a,remuxer:c}=this;!a||!c||(a.resetInitSegment(e,r,n,i),c.resetInitSegment(e,r,n,s))}destroy(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)}transmux(e,r,n,i,s){let a;return r&&r.method==="SAMPLE-AES"?a=this.transmuxSampleAes(e,r,n,i,s):a=this.transmuxUnencrypted(e,n,i,s),a}transmuxUnencrypted(e,r,n,i){const{audioTrack:s,videoTrack:a,id3Track:c,textTrack:u}=this.demuxer.demux(e,r,!1,!this.config.progressive);return{remuxResult:this.remuxer.remux(s,a,c,u,r,n,!1,this.id),chunkMeta:i}}transmuxSampleAes(e,r,n,i,s){return this.demuxer.demuxSampleAes(e,r,n).then(a=>({remuxResult:this.remuxer.remux(a.audioTrack,a.videoTrack,a.id3Track,a.textTrack,n,i,!1,this.id),chunkMeta:s}))}configureTransmuxer(e){const{config:r,observer:n,typeSupported:i}=this;let s;for(let f=0,A=VS.length;f<A;f++){var a;if((a=VS[f].demux)!=null&&a.probe(e,this.logger)){s=VS[f];break}}if(!s)return new Error("Failed to find demuxer by probing fragment data");const c=this.demuxer,u=this.remuxer,l=s.remux,d=s.demux;(!u||!(u instanceof l))&&(this.remuxer=new l(n,r,i,this.logger)),(!c||!(c instanceof d))&&(this.demuxer=new d(n,r,i,this.logger),this.probe=d.probe)}needsProbing(e,r){return!this.demuxer||!this.remuxer||e||r}getDecrypter(){let e=this.decrypter;return e||(e=this.decrypter=new tF(this.config)),e}}function i$e(t,e){let r=null;return t.byteLength>0&&e?.key!=null&&e.iv!==null&&e.method!=null&&(r=e),r}const dB=t=>({remuxResult:{},chunkMeta:t});function UE(t){return"then"in t&&t.then instanceof Function}class s$e{constructor(e,r,n,i,s){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=e,this.videoCodec=r,this.initSegmentData=n,this.duration=i,this.defaultInitPts=s||null}}class a$e{constructor(e,r,n,i,s,a){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=e,this.contiguous=r,this.accurateTimeOffset=n,this.trackSwitch=i,this.timeOffset=s,this.initSegmentChange=a}}let OK=0;class Iie{constructor(e,r,n,i){this.error=null,this.hls=void 0,this.id=void 0,this.instanceNo=OK++,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0,this.onWorkerMessage=u=>{const l=u.data,d=this.hls;if(!(!d||!(l!=null&&l.event)||l.instanceNo!==this.instanceNo))switch(l.event){case"init":{var f;const A=(f=this.workerContext)==null?void 0:f.objectURL;A&&self.URL.revokeObjectURL(A);break}case"transmuxComplete":{this.handleTransmuxComplete(l.data);break}case"flush":{this.onFlush(l.data);break}case"workerLog":{d.logger[l.data.logType]&&d.logger[l.data.logType](l.data.message);break}default:{l.data=l.data||{},l.data.frag=this.frag,l.data.part=this.part,l.data.id=this.id,d.trigger(l.event,l.data);break}}},this.onWorkerError=u=>{if(!this.hls)return;const l=new Error(`${u.message}  (${u.filename}:${u.lineno})`);this.hls.config.enableWorker=!1,this.hls.logger.warn(`Error in "${this.id}" Web Worker, fallback to inline`),this.hls.trigger(Ie.ERROR,{type:Pi.OTHER_ERROR,details:gr.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:l})};const s=e.config;this.hls=e,this.id=r,this.useWorker=!!s.enableWorker,this.onTransmuxComplete=n,this.onFlush=i;const a=(u,l)=>{l=l||{},l.frag=this.frag||void 0,u===Ie.ERROR&&(l=l,l.parent=this.id,l.part=this.part,this.error=l.error),this.hls.trigger(u,l)};this.observer=new aF,this.observer.on(Ie.FRAG_DECRYPTED,a),this.observer.on(Ie.ERROR,a);const c=Yz(s.preferManagedMediaSource);if(this.useWorker&&typeof Worker<"u"){const u=this.hls.logger;if(s.workerPath||u7e()){try{s.workerPath?(u.log(`loading Web Worker ${s.workerPath} for "${r}"`),this.workerContext=h7e(s.workerPath)):(u.log(`injecting Web Worker for "${r}"`),this.workerContext=d7e());const{worker:d}=this.workerContext;d.addEventListener("message",this.onWorkerMessage),d.addEventListener("error",this.onWorkerError),d.postMessage({instanceNo:this.instanceNo,cmd:"init",typeSupported:c,id:r,config:fl(s)})}catch(d){u.warn(`Error setting up "${r}" Web Worker, fallback to inline`,d),this.terminateWorker(),this.error=null,this.transmuxer=new BK(this.observer,c,s,"",r,e.logger)}return}}this.transmuxer=new BK(this.observer,c,s,"",r,e.logger)}reset(){if(this.frag=null,this.part=null,this.workerContext){const e=this.instanceNo;this.instanceNo=OK++;const r=this.hls.config,n=Yz(r.preferManagedMediaSource);this.workerContext.worker.postMessage({instanceNo:this.instanceNo,cmd:"reset",resetNo:e,typeSupported:n,id:this.id,config:fl(r)})}}terminateWorker(){if(this.workerContext){const{worker:e}=this.workerContext;this.workerContext=null,e.removeEventListener("message",this.onWorkerMessage),e.removeEventListener("error",this.onWorkerError),f7e(this.hls.config.workerPath)}}destroy(){if(this.workerContext)this.terminateWorker(),this.onWorkerMessage=this.onWorkerError=null;else{const r=this.transmuxer;r&&(r.destroy(),this.transmuxer=null)}const e=this.observer;e&&e.removeAllListeners(),this.frag=null,this.part=null,this.observer=null,this.hls=null}push(e,r,n,i,s,a,c,u,l,d){var f,A;l.transmuxing.start=self.performance.now();const{instanceNo:p,transmuxer:v}=this,y=a?a.start:s.start,x=s.decryptdata,w=this.frag,E=!(w&&s.cc===w.cc),T=!(w&&l.level===w.level),C=w?l.sn-w.sn:-1,j=this.part?l.part-this.part.index:-1,P=C===0&&l.id>1&&l.id===w?.stats.chunkCount,U=!T&&(C===1||C===0&&(j===1||P&&j<=0)),W=self.performance.now();(T||C||s.stats.parsing.start===0)&&(s.stats.parsing.start=W),a&&(j||!U)&&(a.stats.parsing.start=W);const q=!(w&&((f=s.initSegment)==null?void 0:f.url)===((A=w.initSegment)==null?void 0:A.url)),re=new a$e(E,U,u,T,y,q);if(!U||E||q){this.hls.logger.log(`[transmuxer-interface]: Starting new transmux session for ${s.type} sn: ${l.sn}${l.part>-1?" part: "+l.part:""} ${this.id===fi.MAIN?"level":"track"}: ${l.level} id: ${l.id}
        discontinuity: ${E}
        trackSwitch: ${T}
        contiguous: ${U}
        accurateTimeOffset: ${u}
        timeOffset: ${y}
        initSegmentChange: ${q}`);const ie=new s$e(n,i,r,c,d);this.configureTransmuxer(ie)}if(this.frag=s,this.part=a,this.workerContext)this.workerContext.worker.postMessage({instanceNo:p,cmd:"demux",data:e,decryptdata:x,chunkMeta:l,state:re},e instanceof ArrayBuffer?[e]:[]);else if(v){const ie=v.push(e,x,l,re);UE(ie)?ie.then(Ae=>{this.handleTransmuxComplete(Ae)}).catch(Ae=>{this.transmuxerError(Ae,l,"transmuxer-interface push error")}):this.handleTransmuxComplete(ie)}}flush(e){e.transmuxing.start=self.performance.now();const{instanceNo:r,transmuxer:n}=this;if(this.workerContext)this.workerContext.worker.postMessage({instanceNo:r,cmd:"flush",chunkMeta:e});else if(n){const i=n.flush(e);UE(i)?i.then(s=>{this.handleFlushResult(s,e)}).catch(s=>{this.transmuxerError(s,e,"transmuxer-interface flush error")}):this.handleFlushResult(i,e)}}transmuxerError(e,r,n){this.hls&&(this.error=e,this.hls.trigger(Ie.ERROR,{type:Pi.MEDIA_ERROR,details:gr.FRAG_PARSING_ERROR,chunkMeta:r,frag:this.frag||void 0,part:this.part||void 0,fatal:!1,error:e,err:e,reason:n}))}handleFlushResult(e,r){e.forEach(n=>{this.handleTransmuxComplete(n)}),this.onFlush(r)}configureTransmuxer(e){const{instanceNo:r,transmuxer:n}=this;this.workerContext?this.workerContext.worker.postMessage({instanceNo:r,cmd:"configure",config:e}):n&&n.configure(e)}handleTransmuxComplete(e){e.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(e)}}const PK=100;class o$e extends sF{constructor(e,r,n){super(e,r,n,"audio-stream-controller",fi.AUDIO),this.mainAnchor=null,this.mainFragLoading=null,this.audioOnly=!1,this.bufferedTrack=null,this.switchingTrack=null,this.trackId=-1,this.waitingData=null,this.mainDetails=null,this.flushing=!1,this.bufferFlushed=!1,this.cachedTrackLoadedData=null,this.registerListeners()}onHandlerDestroying(){this.unregisterListeners(),super.onHandlerDestroying(),this.resetItem()}resetItem(){this.mainDetails=this.mainAnchor=this.mainFragLoading=this.bufferedTrack=this.switchingTrack=this.waitingData=this.cachedTrackLoadedData=null}registerListeners(){super.registerListeners();const{hls:e}=this;e.on(Ie.LEVEL_LOADED,this.onLevelLoaded,this),e.on(Ie.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.on(Ie.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(Ie.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(Ie.BUFFER_RESET,this.onBufferReset,this),e.on(Ie.BUFFER_CREATED,this.onBufferCreated,this),e.on(Ie.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(Ie.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(Ie.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(Ie.FRAG_LOADING,this.onFragLoading,this),e.on(Ie.FRAG_BUFFERED,this.onFragBuffered,this)}unregisterListeners(){const{hls:e}=this;e&&(super.unregisterListeners(),e.off(Ie.LEVEL_LOADED,this.onLevelLoaded,this),e.off(Ie.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.off(Ie.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(Ie.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(Ie.BUFFER_RESET,this.onBufferReset,this),e.off(Ie.BUFFER_CREATED,this.onBufferCreated,this),e.off(Ie.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(Ie.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(Ie.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(Ie.FRAG_LOADING,this.onFragLoading,this),e.off(Ie.FRAG_BUFFERED,this.onFragBuffered,this))}onInitPtsFound(e,{frag:r,id:n,initPTS:i,timescale:s,trackId:a}){if(n===fi.MAIN){const c=r.cc,u=this.fragCurrent;if(this.initPTS[c]={baseTime:i,timescale:s,trackId:a},this.log(`InitPTS for cc: ${c} found from main: ${i/s} (${i}/${s}) trackId: ${a}`),this.mainAnchor=r,this.state===Qr.WAITING_INIT_PTS){const l=this.waitingData;(!l&&!this.loadingParts||l&&l.frag.cc!==c)&&this.syncWithAnchor(r,l?.frag)}else!this.hls.hasEnoughToStart&&u&&u.cc!==c?(u.abortRequests(),this.syncWithAnchor(r,u)):this.state===Qr.IDLE&&this.tick()}}getLoadPosition(){return!this.startFragRequested&&this.nextLoadPosition>=0?this.nextLoadPosition:super.getLoadPosition()}syncWithAnchor(e,r){var n;const i=((n=this.mainFragLoading)==null?void 0:n.frag)||null;if(r&&i?.cc===r.cc)return;const s=(i||e).cc,a=this.getLevelDetails(),c=this.getLoadPosition(),u=Gne(a,s,c);u&&(this.log(`Syncing with main frag at ${u.start} cc ${u.cc}`),this.startFragRequested=!1,this.nextLoadPosition=u.start,this.resetLoadingState(),this.state===Qr.IDLE&&this.doTickIdle())}startLoad(e,r){if(!this.levels){this.startPosition=e,this.state=Qr.STOPPED;return}const n=this.lastCurrentTime;this.stopLoad(),this.setInterval(PK),n>0&&e===-1?(this.log(`Override startPosition with lastCurrentTime @${n.toFixed(3)}`),e=n,this.state=Qr.IDLE):this.state=Qr.WAITING_TRACK,this.nextLoadPosition=this.lastCurrentTime=e+this.timelineOffset,this.startPosition=r?-1:e,this.tick()}doTick(){switch(this.state){case Qr.IDLE:this.doTickIdle();break;case Qr.WAITING_TRACK:{const{levels:e,trackId:r}=this,n=e?.[r],i=n?.details;if(i&&!this.waitForLive(n)){if(this.waitForCdnTuneIn(i))break;this.state=Qr.WAITING_INIT_PTS}break}case Qr.FRAG_LOADING_WAITING_RETRY:{this.checkRetryDate();break}case Qr.WAITING_INIT_PTS:{const e=this.waitingData;if(e){const{frag:r,part:n,cache:i,complete:s}=e,a=this.mainAnchor;if(this.initPTS[r.cc]!==void 0){this.waitingData=null,this.state=Qr.FRAG_LOADING;const c=i.flush().buffer,u={frag:r,part:n,payload:c,networkDetails:null};this._handleFragmentLoadProgress(u),s&&super._handleFragmentLoadComplete(u)}else a&&a.cc!==e.frag.cc&&this.syncWithAnchor(a,e.frag)}else this.state=Qr.IDLE}}this.onTickEnd()}resetLoadingState(){const e=this.waitingData;e&&(this.fragmentTracker.removeFragment(e.frag),this.waitingData=null),super.resetLoadingState()}onTickEnd(){const{media:e}=this;e!=null&&e.readyState&&(this.lastCurrentTime=e.currentTime)}doTickIdle(){var e;const{hls:r,levels:n,media:i,trackId:s}=this,a=r.config;if(!this.buffering||!i&&!this.primaryPrefetch&&(this.startFragRequested||!a.startFragPrefetch)||!(n!=null&&n[s]))return;const c=n[s],u=c.details;if(!u||this.waitForLive(c)||this.waitForCdnTuneIn(u)){this.state=Qr.WAITING_TRACK,this.startFragRequested=!1;return}const l=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&l&&(this.bufferFlushed=!1,this.afterBufferFlushed(l,cl.AUDIO,fi.AUDIO));const d=this.getFwdBufferInfo(l,fi.AUDIO);if(d===null)return;if(!this.switchingTrack&&this._streamEnded(d,u)){r.trigger(Ie.BUFFER_EOS,{type:"audio"}),this.state=Qr.ENDED;return}const f=d.len,A=r.maxBufferLength,p=u.fragments,v=p[0].start,y=this.getLoadPosition(),x=this.flushing?y:d.end;if(this.switchingTrack&&i){const T=y;u.PTSKnown&&T<v&&(d.end>v||d.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),i.currentTime=v+.05)}if(f>=A&&!this.switchingTrack&&x<p[p.length-1].start)return;let w=this.getNextFragment(x,u);if(w&&this.isLoopLoading(w,x)&&(w=this.getNextFragmentLoopLoading(w,u,d,fi.MAIN,A)),!w){this.bufferFlushed=!0;return}let E=((e=this.mainFragLoading)==null?void 0:e.frag)||null;if(!this.audioOnly&&this.startFragRequested&&E&&Jc(w)&&!w.endList&&(!u.live||!this.loadingParts&&x<this.hls.liveSyncPosition)&&(this.fragmentTracker.getState(E)===Du.OK&&(this.mainFragLoading=E=null),E&&Jc(E))){if(w.start>E.end){const C=this.fragmentTracker.getFragAtPos(x,fi.MAIN);C&&C.end>E.end&&(E=C,this.mainFragLoading={frag:C,targetBufferTime:null})}if(w.start>E.end)return}this.loadFragment(w,c,x)}onMediaDetaching(e,r){this.bufferFlushed=this.flushing=!1,super.onMediaDetaching(e,r)}onAudioTracksUpdated(e,{audioTracks:r}){this.resetTransmuxer(),this.levels=r.map(n=>new DE(n))}onAudioTrackSwitching(e,r){const n=!!r.url;this.trackId=r.id;const{fragCurrent:i}=this;i&&(i.abortRequests(),this.removeUnbufferedFrags(i.start)),this.resetLoadingState(),n?(this.switchingTrack=r,this.flushAudioIfNeeded(r),this.state!==Qr.STOPPED&&(this.setInterval(PK),this.state=Qr.IDLE,this.tick())):(this.resetTransmuxer(),this.switchingTrack=null,this.bufferedTrack=r,this.clearInterval())}onManifestLoading(){super.onManifestLoading(),this.bufferFlushed=this.flushing=this.audioOnly=!1,this.resetItem(),this.trackId=-1}onLevelLoaded(e,r){this.mainDetails=r.details;const n=this.cachedTrackLoadedData;n&&(this.cachedTrackLoadedData=null,this.onAudioTrackLoaded(Ie.AUDIO_TRACK_LOADED,n))}onAudioTrackLoaded(e,r){var n;const{levels:i}=this,{details:s,id:a,groupId:c,track:u}=r;if(!i){this.warn(`Audio tracks reset while loading track ${a} "${u.name}" of "${c}"`);return}const l=this.mainDetails;if(!l||s.endCC>l.endCC||l.expired){this.cachedTrackLoadedData=r,this.state!==Qr.STOPPED&&(this.state=Qr.WAITING_TRACK);return}this.cachedTrackLoadedData=null,this.log(`Audio track ${a} "${u.name}" of "${c}" loaded [${s.startSN},${s.endSN}]${s.lastPartSn?`[part-${s.lastPartSn}-${s.lastPartIndex}]`:""},duration:${s.totalduration}`);const d=i[a];let f=0;if(s.live||(n=d.details)!=null&&n.live){if(this.checkLiveUpdate(s),s.deltaUpdateFailed)return;if(d.details){var A;f=this.alignPlaylists(s,d.details,(A=this.levelLastLoaded)==null?void 0:A.details)}s.alignedSliding||(die(s,l),s.alignedSliding||Pj(s,l),f=s.fragmentStart)}d.details=s,this.levelLastLoaded=d,this.startFragRequested||this.setStartPosition(l,f),this.hls.trigger(Ie.AUDIO_TRACK_UPDATED,{details:s,id:a,groupId:r.groupId}),this.state===Qr.WAITING_TRACK&&!this.waitForCdnTuneIn(s)&&(this.state=Qr.IDLE),this.tick()}_handleFragmentLoadProgress(e){var r;const n=e.frag,{part:i,payload:s}=e,{config:a,trackId:c,levels:u}=this;if(!u){this.warn(`Audio tracks were reset while fragment load was in progress. Fragment ${n.sn} of level ${n.level} will not be buffered`);return}const l=u[c];if(!l){this.warn("Audio track is undefined on fragment load progress");return}const d=l.details;if(!d){this.warn("Audio track details undefined on fragment load progress"),this.removeUnbufferedFrags(n.start);return}const f=a.defaultAudioCodec||l.audioCodec||"mp4a.40.2";let A=this.transmuxer;A||(A=this.transmuxer=new Iie(this.hls,fi.AUDIO,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));const p=this.initPTS[n.cc],v=(r=n.initSegment)==null?void 0:r.data;if(p!==void 0){const x=i?i.index:-1,w=x!==-1,E=new rF(n.level,n.sn,n.stats.chunkCount,s.byteLength,x,w);A.push(s,v,f,"",n,i,d.totalduration,!1,E,p)}else{this.log(`Unknown video PTS for cc ${n.cc}, waiting for video PTS before demuxing audio frag ${n.sn} of [${d.startSN} ,${d.endSN}],track ${c}`);const{cache:y}=this.waitingData=this.waitingData||{frag:n,part:i,cache:new hie,complete:!1};y.push(new Uint8Array(s)),this.state!==Qr.STOPPED&&(this.state=Qr.WAITING_INIT_PTS)}}_handleFragmentLoadComplete(e){if(this.waitingData){this.waitingData.complete=!0;return}super._handleFragmentLoadComplete(e)}onBufferReset(){this.mediaBuffer=null}onBufferCreated(e,r){this.bufferFlushed=this.flushing=!1;const n=r.tracks.audio;n&&(this.mediaBuffer=n.buffer||null)}onFragLoading(e,r){!this.audioOnly&&r.frag.type===fi.MAIN&&Jc(r.frag)&&(this.mainFragLoading=r,this.state===Qr.IDLE&&this.tick())}onFragBuffered(e,r){const{frag:n,part:i}=r;if(n.type!==fi.AUDIO){!this.audioOnly&&n.type===fi.MAIN&&!n.elementaryStreams.video&&!n.elementaryStreams.audiovideo&&(this.audioOnly=!0,this.mainFragLoading=null);return}if(this.fragContextChanged(n)){this.warn(`Fragment ${n.sn}${i?" p: "+i.index:""} of level ${n.level} finished buffering, but was aborted. state: ${this.state}, audioSwitch: ${this.switchingTrack?this.switchingTrack.name:"false"}`);return}if(Jc(n)){this.fragPrevious=n;const s=this.switchingTrack;s&&(this.bufferedTrack=s,this.switchingTrack=null,this.hls.trigger(Ie.AUDIO_TRACK_SWITCHED,Fo({},s)))}this.fragBufferedComplete(n,i),this.media&&this.tick()}onError(e,r){var n;if(r.fatal){this.state=Qr.ERROR;return}switch(r.details){case gr.FRAG_GAP:case gr.FRAG_PARSING_ERROR:case gr.FRAG_DECRYPT_ERROR:case gr.FRAG_LOAD_ERROR:case gr.FRAG_LOAD_TIMEOUT:case gr.KEY_LOAD_ERROR:case gr.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(fi.AUDIO,r);break;case gr.AUDIO_TRACK_LOAD_ERROR:case gr.AUDIO_TRACK_LOAD_TIMEOUT:case gr.LEVEL_PARSING_ERROR:!r.levelRetry&&this.state===Qr.WAITING_TRACK&&((n=r.context)==null?void 0:n.type)===xa.AUDIO_TRACK&&(this.state=Qr.IDLE);break;case gr.BUFFER_ADD_CODEC_ERROR:case gr.BUFFER_APPEND_ERROR:if(r.parent!=="audio")return;this.reduceLengthAndFlushBuffer(r)||this.resetLoadingState();break;case gr.BUFFER_FULL_ERROR:if(r.parent!=="audio")return;this.reduceLengthAndFlushBuffer(r)&&(this.bufferedTrack=null,super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"));break;case gr.INTERNAL_EXCEPTION:this.recoverWorkerError(r);break}}onBufferFlushing(e,{type:r}){r!==cl.VIDEO&&(this.flushing=!0)}onBufferFlushed(e,{type:r}){if(r!==cl.VIDEO){this.flushing=!1,this.bufferFlushed=!0,this.state===Qr.ENDED&&(this.state=Qr.IDLE);const n=this.mediaBuffer||this.media;n&&(this.afterBufferFlushed(n,r,fi.AUDIO),this.tick())}}_handleTransmuxComplete(e){var r;const n="audio",{hls:i}=this,{remuxResult:s,chunkMeta:a}=e,c=this.getCurrentContext(a);if(!c){this.resetWhenMissingContext(a);return}const{frag:u,part:l,level:d}=c,{details:f}=d,{audio:A,text:p,id3:v,initSegment:y}=s;if(this.fragContextChanged(u)||!f){this.fragmentTracker.removeFragment(u);return}if(this.state=Qr.PARSING,this.switchingTrack&&A&&this.completeAudioSwitch(this.switchingTrack),y!=null&&y.tracks){const x=u.initSegment||u;if(this.unhandledEncryptionError(y,u))return;this._bufferInitSegment(d,y.tracks,x,a),i.trigger(Ie.FRAG_PARSING_INIT_SEGMENT,{frag:x,id:n,tracks:y.tracks})}if(A){const{startPTS:x,endPTS:w,startDTS:E,endDTS:T}=A;l&&(l.elementaryStreams[cl.AUDIO]={startPTS:x,endPTS:w,startDTS:E,endDTS:T}),u.setElementaryStreamInfo(cl.AUDIO,x,w,E,T),this.bufferFragmentData(A,u,l,a)}if(v!=null&&(r=v.samples)!=null&&r.length){const x=nl({id:n,frag:u,details:f},v);i.trigger(Ie.FRAG_PARSING_METADATA,x)}if(p){const x=nl({id:n,frag:u,details:f},p);i.trigger(Ie.FRAG_PARSING_USERDATA,x)}}_bufferInitSegment(e,r,n,i){if(this.state!==Qr.PARSING||(r.video&&delete r.video,r.audiovideo&&delete r.audiovideo,!r.audio))return;const s=r.audio;s.id=fi.AUDIO;const a=e.audioCodec;this.log(`Init audio buffer, container:${s.container}, codecs[level/parsed]=[${a}/${s.codec}]`),a&&a.split(",").length===1&&(s.levelCodec=a),this.hls.trigger(Ie.BUFFER_CODECS,r);const c=s.initSegment;if(c!=null&&c.byteLength){const u={type:"audio",frag:n,part:null,chunkMeta:i,parent:n.type,data:c};this.hls.trigger(Ie.BUFFER_APPENDING,u)}this.tickImmediate()}loadFragment(e,r,n){const i=this.fragmentTracker.getState(e);if(this.switchingTrack||i===Du.NOT_LOADED||i===Du.PARTIAL){var s;if(!Jc(e))this._loadInitSegment(e,r);else if((s=r.details)!=null&&s.live&&!this.initPTS[e.cc]){this.log(`Waiting for video PTS in continuity counter ${e.cc} of live stream before loading audio fragment ${e.sn} of level ${this.trackId}`),this.state=Qr.WAITING_INIT_PTS;const a=this.mainDetails;a&&a.fragmentStart!==r.details.fragmentStart&&Pj(r.details,a)}else super.loadFragment(e,r,n)}else this.clearTrackerIfNeeded(e)}flushAudioIfNeeded(e){if(this.media&&this.bufferedTrack){const{name:r,lang:n,assocLang:i,characteristics:s,audioCodec:a,channels:c}=this.bufferedTrack;Hv({name:r,lang:n,assocLang:i,characteristics:s,audioCodec:a,channels:c},e,uv)||(kj(e.url,this.hls)?(this.log("Switching audio track : flushing all audio"),super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"),this.bufferedTrack=null):this.bufferedTrack=e)}}completeAudioSwitch(e){const{hls:r}=this;this.flushAudioIfNeeded(e),this.bufferedTrack=e,this.switchingTrack=null,r.trigger(Ie.AUDIO_TRACK_SWITCHED,Fo({},e))}}class fF extends Zf{constructor(e,r){super(r,e.logger),this.hls=void 0,this.canLoad=!1,this.timer=-1,this.hls=e}destroy(){this.clearTimer(),this.hls=this.log=this.warn=null}clearTimer(){this.timer!==-1&&(self.clearTimeout(this.timer),this.timer=-1)}startLoad(){this.canLoad=!0,this.loadPlaylist()}stopLoad(){this.canLoad=!1,this.clearTimer()}switchParams(e,r,n){const i=r?.renditionReports;if(i){let s=-1;for(let a=0;a<i.length;a++){const c=i[a];let u;try{u=new self.URL(c.URI,r.url).href}catch(l){this.warn(`Could not construct new URL for Rendition Report: ${l}`),u=c.URI||""}if(u===e){s=a;break}else u===e.substring(0,u.length)&&(s=a)}if(s!==-1){const a=i[s],c=parseInt(a["LAST-MSN"])||r.lastPartSn;let u=parseInt(a["LAST-PART"])||r.lastPartIndex;if(this.hls.config.lowLatencyMode){const d=Math.min(r.age-r.partTarget,r.targetduration);u>=0&&d>r.partTarget&&(u+=1)}const l=n&&qz(n);return new Xz(c,u>=0?u:void 0,l)}}}loadPlaylist(e){this.clearTimer()}loadingPlaylist(e,r){this.clearTimer()}shouldLoadPlaylist(e){return this.canLoad&&!!e&&!!e.url&&(!e.details||e.details.live)}getUrlWithDirectives(e,r){if(r)try{return r.addDirectives(e)}catch(n){this.warn(`Could not construct new URL with HLS Delivery Directives: ${n}`)}return e}playlistLoaded(e,r,n){const{details:i,stats:s}=r,a=self.performance.now(),c=s.loading.first?Math.max(0,a-s.loading.first):0;i.advancedDateTime=Date.now()-c;const u=this.hls.config.timelineOffset;if(u!==i.appliedTimelineOffset){const d=Math.max(u||0,0);i.appliedTimelineOffset=d,i.fragments.forEach(f=>{f.setStart(f.playlistOffset+d)})}if(i.live||n!=null&&n.live){const d="levelInfo"in r?r.levelInfo:r.track;if(i.reloaded(n),n&&i.fragments.length>0){J8e(n,i,this);const E=i.playlistParsingError;if(E){this.warn(E);const T=this.hls;if(!T.config.ignorePlaylistParsingErrors){var l;const{networkDetails:C}=r;T.trigger(Ie.ERROR,{type:Pi.NETWORK_ERROR,details:gr.LEVEL_PARSING_ERROR,fatal:!1,url:i.url,error:E,reason:E.message,level:r.level||void 0,parent:(l=i.fragments[0])==null?void 0:l.type,networkDetails:C,stats:s});return}i.playlistParsingError=null}}i.requestScheduled===-1&&(i.requestScheduled=s.loading.start);const f=this.hls.mainForwardBufferInfo,A=f?f.end-f.len:0,p=(i.edge-A)*1e3,v=aie(i,p);if(i.requestScheduled+v<a?i.requestScheduled=a:i.requestScheduled+=v,this.log(`live playlist ${e} ${i.advanced?"REFRESHED "+i.lastPartSn+"-"+i.lastPartIndex:i.updated?"UPDATED":"MISSED"}`),!this.canLoad||!i.live)return;let y,x,w;if(i.canBlockReload&&i.endSN&&i.advanced){const E=this.hls.config.lowLatencyMode,T=i.lastPartSn,C=i.endSN,j=i.lastPartIndex,P=j!==-1,U=T===C;P?U?(x=C+1,w=E?0:j):(x=T,w=E?j+1:i.maxPartIndex):x=C+1;const W=i.age,q=W+i.ageHeader;let re=Math.min(q-i.partTarget,i.targetduration*1.5);if(re>0){if(q>i.targetduration*3)this.log(`Playlist last advanced ${W.toFixed(2)}s ago. Omitting segment and part directives.`),x=void 0,w=void 0;else if(n!=null&&n.tuneInGoal&&q-i.partTarget>n.tuneInGoal)this.warn(`CDN Tune-in goal increased from: ${n.tuneInGoal} to: ${re} with playlist age: ${i.age}`),re=0;else{const ie=Math.floor(re/i.targetduration);if(x+=ie,w!==void 0){const Ae=Math.round(re%i.targetduration/i.partTarget);w+=Ae}this.log(`CDN Tune-in age: ${i.ageHeader}s last advanced ${W.toFixed(2)}s goal: ${re} skip sn ${ie} to part ${w}`)}i.tuneInGoal=re}if(y=this.getDeliveryDirectives(i,r.deliveryDirectives,x,w),E||!U){i.requestScheduled=a,this.loadingPlaylist(d,y);return}}else(i.canBlockReload||i.canSkipUntil)&&(y=this.getDeliveryDirectives(i,r.deliveryDirectives,x,w));y&&x!==void 0&&i.canBlockReload&&(i.requestScheduled=s.loading.first+Math.max(v-c*2,v/2)),this.scheduleLoading(d,y,i)}else this.clearTimer()}scheduleLoading(e,r,n){const i=n||e.details;if(!i){this.loadingPlaylist(e,r);return}const s=self.performance.now(),a=i.requestScheduled;if(s>=a){this.loadingPlaylist(e,r);return}const c=a-s;this.log(`reload live playlist ${e.name||e.bitrate+"bps"} in ${Math.round(c)} ms`),this.clearTimer(),this.timer=self.setTimeout(()=>this.loadingPlaylist(e,r),c)}getDeliveryDirectives(e,r,n,i){let s=qz(e);return r!=null&&r.skip&&e.deltaUpdateFailed&&(n=r.msn,i=r.part,s=$S.No),new Xz(n,i,s)}checkRetry(e){const r=e.details,n=Ij(e),i=e.errorAction,{action:s,retryCount:a=0,retryConfig:c}=i||{},u=!!i&&!!c&&(s===Dd.RetryRequest||!i.resolved&&s===Dd.SendAlternateToPenaltyBox);if(u){var l;if(a>=c.maxNumRetry)return!1;if(n&&(l=e.context)!=null&&l.deliveryDirectives)this.warn(`Retrying playlist loading ${a+1}/${c.maxNumRetry} after "${r}" without delivery-directives`),this.loadPlaylist();else{const d=eF(c,a);this.clearTimer(),this.timer=self.setTimeout(()=>this.loadPlaylist(),d),this.warn(`Retrying playlist loading ${a+1}/${c.maxNumRetry} after "${r}" in ${d}ms`)}e.levelRetry=!0,i.resolved=!0}return u}}function Lie(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(!$E(t[r].attrs,e[r].attrs))return!1;return!0}function $E(t,e,r){const n=t["STABLE-RENDITION-ID"];return n&&!r?n===e["STABLE-RENDITION-ID"]:!(r||["LANGUAGE","NAME","CHARACTERISTICS","AUTOSELECT","DEFAULT","FORCED","ASSOC-LANGUAGE"]).some(i=>t[i]!==e[i])}function qO(t,e){return e.label.toLowerCase()===t.name.toLowerCase()&&(!e.language||e.language.toLowerCase()===(t.lang||"").toLowerCase())}class l$e extends fF{constructor(e){super(e,"audio-track-controller"),this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.registerListeners()}registerListeners(){const{hls:e}=this;e.on(Ie.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Ie.MANIFEST_PARSED,this.onManifestParsed,this),e.on(Ie.LEVEL_LOADING,this.onLevelLoading,this),e.on(Ie.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(Ie.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(Ie.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(Ie.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Ie.MANIFEST_PARSED,this.onManifestParsed,this),e.off(Ie.LEVEL_LOADING,this.onLevelLoading,this),e.off(Ie.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(Ie.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(Ie.ERROR,this.onError,this)}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,super.destroy()}onManifestLoading(){this.tracks=[],this.tracksInGroup=[],this.groupIds=null,this.currentTrack=null,this.trackId=-1,this.selectDefaultTrack=!0}onManifestParsed(e,r){this.tracks=r.audioTracks||[]}onAudioTrackLoaded(e,r){const{id:n,groupId:i,details:s}=r,a=this.tracksInGroup[n];if(!a||a.groupId!==i){this.warn(`Audio track with id:${n} and group:${i} not found in active group ${a?.groupId}`);return}const c=a.details;a.details=r.details,this.log(`Audio track ${n} "${a.name}" lang:${a.lang} group:${i} loaded [${s.startSN}-${s.endSN}]`),n===this.trackId&&this.playlistLoaded(n,r,c)}onLevelLoading(e,r){this.switchLevel(r.level)}onLevelSwitching(e,r){this.switchLevel(r.level)}switchLevel(e){const r=this.hls.levels[e];if(!r)return;const n=r.audioGroups||null,i=this.groupIds;let s=this.currentTrack;if(!n||i?.length!==n?.length||n!=null&&n.some(c=>i?.indexOf(c)===-1)){this.groupIds=n,this.trackId=-1,this.currentTrack=null;const c=this.tracks.filter(A=>!n||n.indexOf(A.groupId)!==-1);if(c.length)this.selectDefaultTrack&&!c.some(A=>A.default)&&(this.selectDefaultTrack=!1),c.forEach((A,p)=>{A.id=p});else if(!s&&!this.tracksInGroup.length)return;this.tracksInGroup=c;const u=this.hls.config.audioPreference;if(!s&&u){const A=Tm(u,c,uv);if(A>-1)s=c[A];else{const p=Tm(u,this.tracks);s=this.tracks[p]}}let l=this.findTrackId(s);l===-1&&s&&(l=this.findTrackId(null));const d={audioTracks:c};this.log(`Updating audio tracks, ${c.length} track(s) found in group(s): ${n?.join(",")}`),this.hls.trigger(Ie.AUDIO_TRACKS_UPDATED,d);const f=this.trackId;if(l!==-1&&f===-1)this.setAudioTrack(l);else if(c.length&&f===-1){var a;const A=new Error(`No audio track selected for current audio group-ID(s): ${(a=this.groupIds)==null?void 0:a.join(",")} track count: ${c.length}`);this.warn(A.message),this.hls.trigger(Ie.ERROR,{type:Pi.MEDIA_ERROR,details:gr.AUDIO_TRACK_LOAD_ERROR,fatal:!0,error:A})}}}onError(e,r){r.fatal||!r.context||r.context.type===xa.AUDIO_TRACK&&r.context.id===this.trackId&&(!this.groupIds||this.groupIds.indexOf(r.context.groupId)!==-1)&&this.checkRetry(r)}get allAudioTracks(){return this.tracks}get audioTracks(){return this.tracksInGroup}get audioTrack(){return this.trackId}set audioTrack(e){this.selectDefaultTrack=!1,this.setAudioTrack(e)}setAudioOption(e){const r=this.hls;if(r.config.audioPreference=e,e){const n=this.allAudioTracks;if(this.selectDefaultTrack=!1,n.length){const i=this.currentTrack;if(i&&Hv(e,i,uv))return i;const s=Tm(e,this.tracksInGroup,uv);if(s>-1){const a=this.tracksInGroup[s];return this.setAudioTrack(s),a}else if(i){let a=r.loadLevel;a===-1&&(a=r.firstAutoLevel);const c=x8e(e,r.levels,n,a,uv);if(c===-1)return null;r.nextLoadLevel=c}if(e.channels||e.audioCodec){const a=Tm(e,n);if(a>-1)return n[a]}}}return null}setAudioTrack(e){const r=this.tracksInGroup;if(e<0||e>=r.length){this.warn(`Invalid audio track id: ${e}`);return}this.selectDefaultTrack=!1;const n=this.currentTrack,i=r[e],s=i.details&&!i.details.live;if(e===this.trackId&&i===n&&s||(this.log(`Switching to audio-track ${e} "${i.name}" lang:${i.lang} group:${i.groupId} channels:${i.channels}`),this.trackId=e,this.currentTrack=i,this.hls.trigger(Ie.AUDIO_TRACK_SWITCHING,Fo({},i)),s))return;const a=this.switchParams(i.url,n?.details,i.details);this.loadPlaylist(a)}findTrackId(e){const r=this.tracksInGroup;for(let n=0;n<r.length;n++){const i=r[n];if(!(this.selectDefaultTrack&&!i.default)&&(!e||Hv(e,i,uv)))return n}if(e){const{name:n,lang:i,assocLang:s,characteristics:a,audioCodec:c,channels:u}=e;for(let l=0;l<r.length;l++){const d=r[l];if(Hv({name:n,lang:i,assocLang:s,characteristics:a,audioCodec:c,channels:u},d,uv))return l}for(let l=0;l<r.length;l++){const d=r[l];if($E(e.attrs,d.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return l}for(let l=0;l<r.length;l++){const d=r[l];if($E(e.attrs,d.attrs,["LANGUAGE"]))return l}}return-1}loadPlaylist(e){super.loadPlaylist();const r=this.currentTrack;this.shouldLoadPlaylist(r)&&kj(r.url,this.hls)&&this.scheduleLoading(r,e)}loadingPlaylist(e,r){super.loadingPlaylist(e,r);const n=e.id,i=e.groupId,s=this.getUrlWithDirectives(e.url,r),a=e.details,c=a?.age;this.log(`Loading audio-track ${n} "${e.name}" lang:${e.lang} group:${i}${r?.msn!==void 0?" at sn "+r.msn+" part "+r.part:""}${c&&a.live?" age "+c.toFixed(1)+(a.type&&" "+a.type||""):""} ${s}`),this.hls.trigger(Ie.AUDIO_TRACK_LOADING,{url:s,id:n,groupId:i,deliveryDirectives:r||null,track:e})}}class c$e{constructor(e){this.tracks=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.tracks=e}destroy(){this.tracks=this.queues=null}append(e,r,n){if(this.queues===null||this.tracks===null)return;const i=this.queues[r];i.push(e),i.length===1&&!n&&this.executeNext(r)}appendBlocker(e){return new Promise(r=>{const n={label:"async-blocker",execute:r,onStart:()=>{},onComplete:()=>{},onError:()=>{}};this.append(n,e)})}prependBlocker(e){return new Promise(r=>{if(this.queues){const n={label:"async-blocker-prepend",execute:r,onStart:()=>{},onComplete:()=>{},onError:()=>{}};this.queues[e].unshift(n)}})}removeBlockers(){this.queues!==null&&[this.queues.video,this.queues.audio,this.queues.audiovideo].forEach(e=>{var r;const n=(r=e[0])==null?void 0:r.label;(n==="async-blocker"||n==="async-blocker-prepend")&&(e[0].execute(),e.splice(0,1))})}unblockAudio(e){if(this.queues===null)return;this.queues.audio[0]===e&&this.shiftAndExecuteNext("audio")}executeNext(e){if(this.queues===null||this.tracks===null)return;const r=this.queues[e];if(r.length){const i=r[0];try{i.execute()}catch(s){var n;if(i.onError(s),this.queues===null||this.tracks===null)return;const a=(n=this.tracks[e])==null?void 0:n.buffer;a!=null&&a.updating||this.shiftAndExecuteNext(e)}}}shiftAndExecuteNext(e){this.queues!==null&&(this.queues[e].shift(),this.executeNext(e))}current(e){var r;return((r=this.queues)==null?void 0:r[e][0])||null}toString(){const{queues:e,tracks:r}=this;return e===null||r===null?"<destroyed>":`
${this.list("video")}
${this.list("audio")}
${this.list("audiovideo")}}`}list(e){var r,n;return(r=this.queues)!=null&&r[e]||(n=this.tracks)!=null&&n[e]?`${e}: (${this.listSbInfo(e)}) ${this.listOps(e)}`:""}listSbInfo(e){var r;const n=(r=this.tracks)==null?void 0:r[e],i=n?.buffer;return i?`SourceBuffer${i.updating?" updating":""}${n.ended?" ended":""}${n.ending?" ending":""}`:"none"}listOps(e){var r;return((r=this.queues)==null?void 0:r[e].map(n=>n.label).join(", "))||""}}const RK=/(avc[1234]|hvc1|hev1|dvh[1e]|vp09|av01)(?:\.[^.,]+)+/,Bie="HlsJsTrackRemovedError";class u$e extends Error{constructor(e){super(e),this.name=Bie}}class d$e extends Zf{constructor(e,r){super("buffer-controller",e.logger),this.hls=void 0,this.fragmentTracker=void 0,this.details=null,this._objectUrl=null,this.operationQueue=null,this.bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.blockedAudioAppend=null,this.lastVideoAppendEnd=0,this.appendSource=void 0,this.transferData=void 0,this.overrides=void 0,this.appendErrors={audio:0,video:0,audiovideo:0},this.tracks={},this.sourceBuffers=[[null,null],[null,null]],this._onEndStreaming=n=>{var i;this.hls&&((i=this.mediaSource)==null?void 0:i.readyState)==="open"&&this.hls.pauseBuffering()},this._onStartStreaming=n=>{this.hls&&this.hls.resumeBuffering()},this._onMediaSourceOpen=n=>{const{media:i,mediaSource:s}=this;n&&this.log("Media source opened"),!(!i||!s)&&(s.removeEventListener("sourceopen",this._onMediaSourceOpen),i.removeEventListener("emptied",this._onMediaEmptied),this.updateDuration(),this.hls.trigger(Ie.MEDIA_ATTACHED,{media:i,mediaSource:s}),this.mediaSource!==null&&this.checkPendingTracks())},this._onMediaSourceClose=()=>{this.log("Media source closed")},this._onMediaSourceEnded=()=>{this.log("Media source ended")},this._onMediaEmptied=()=>{const{mediaSrc:n,_objectUrl:i}=this;n!==i&&this.error(`Media element src was set while attaching MediaSource (${i} > ${n})`)},this.hls=e,this.fragmentTracker=r,this.appendSource=B6e(T0(e.config.preferManagedMediaSource)),this.initTracks(),this.registerListeners()}hasSourceTypes(){return Object.keys(this.tracks).length>0}destroy(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=this.blockedAudioAppend=null,this.transferData=this.overrides=void 0,this.operationQueue&&(this.operationQueue.destroy(),this.operationQueue=null),this.hls=this.fragmentTracker=null,this._onMediaSourceOpen=this._onMediaSourceClose=null,this._onMediaSourceEnded=null,this._onStartStreaming=this._onEndStreaming=null}registerListeners(){const{hls:e}=this;e.on(Ie.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(Ie.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(Ie.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Ie.MANIFEST_PARSED,this.onManifestParsed,this),e.on(Ie.BUFFER_RESET,this.onBufferReset,this),e.on(Ie.BUFFER_APPENDING,this.onBufferAppending,this),e.on(Ie.BUFFER_CODECS,this.onBufferCodecs,this),e.on(Ie.BUFFER_EOS,this.onBufferEos,this),e.on(Ie.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(Ie.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(Ie.FRAG_PARSED,this.onFragParsed,this),e.on(Ie.FRAG_CHANGED,this.onFragChanged,this),e.on(Ie.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(Ie.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(Ie.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(Ie.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Ie.MANIFEST_PARSED,this.onManifestParsed,this),e.off(Ie.BUFFER_RESET,this.onBufferReset,this),e.off(Ie.BUFFER_APPENDING,this.onBufferAppending,this),e.off(Ie.BUFFER_CODECS,this.onBufferCodecs,this),e.off(Ie.BUFFER_EOS,this.onBufferEos,this),e.off(Ie.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(Ie.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(Ie.FRAG_PARSED,this.onFragParsed,this),e.off(Ie.FRAG_CHANGED,this.onFragChanged,this),e.off(Ie.ERROR,this.onError,this)}transferMedia(){const{media:e,mediaSource:r}=this;if(!e)return null;const n={};if(this.operationQueue){const s=this.isUpdating();s||this.operationQueue.removeBlockers();const a=this.isQueued();(s||a)&&this.warn(`Transfering MediaSource with${a?" operations in queue":""}${s?" updating SourceBuffer(s)":""} ${this.operationQueue}`),this.operationQueue.destroy()}const i=this.transferData;return!this.sourceBufferCount&&i&&i.mediaSource===r?nl(n,i.tracks):this.sourceBuffers.forEach(s=>{const[a]=s;a&&(n[a]=nl({},this.tracks[a]),this.removeBuffer(a)),s[0]=s[1]=null}),{media:e,mediaSource:r,tracks:n}}initTracks(){const e={};this.sourceBuffers=[[null,null],[null,null]],this.tracks=e,this.resetQueue(),this.resetAppendErrors(),this.lastMpegAudioChunk=this.blockedAudioAppend=null,this.lastVideoAppendEnd=0}onManifestLoading(){this.bufferCodecEventsTotal=0,this.details=null}onManifestParsed(e,r){var n;let i=2;(r.audio&&!r.video||!r.altAudio)&&(i=1),this.bufferCodecEventsTotal=i,this.log(`${i} bufferCodec event(s) expected.`),(n=this.transferData)!=null&&n.mediaSource&&this.sourceBufferCount&&i&&this.bufferCreated()}onMediaAttaching(e,r){const n=this.media=r.media;this.transferData=this.overrides=void 0;const i=T0(this.appendSource);if(i){const s=!!r.mediaSource;(s||r.overrides)&&(this.transferData=r,this.overrides=r.overrides);const a=this.mediaSource=r.mediaSource||new i;if(this.assignMediaSource(a),s)this._objectUrl=n.src,this.attachTransferred();else{const c=this._objectUrl=self.URL.createObjectURL(a);if(this.appendSource)try{n.removeAttribute("src");const u=self.ManagedMediaSource;n.disableRemotePlayback=n.disableRemotePlayback||u&&a instanceof u,DK(n),h$e(n,c),n.load()}catch{n.src=c}else n.src=c}n.addEventListener("emptied",this._onMediaEmptied)}}assignMediaSource(e){var r,n;this.log(`${((r=this.transferData)==null?void 0:r.mediaSource)===e?"transferred":"created"} media source: ${(n=e.constructor)==null?void 0:n.name}`),e.addEventListener("sourceopen",this._onMediaSourceOpen),e.addEventListener("sourceended",this._onMediaSourceEnded),e.addEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(e.addEventListener("startstreaming",this._onStartStreaming),e.addEventListener("endstreaming",this._onEndStreaming))}attachTransferred(){const e=this.media,r=this.transferData;if(!r||!e)return;const n=this.tracks,i=r.tracks,s=i?Object.keys(i):null,a=s?s.length:0,c=()=>{Promise.resolve().then(()=>{this.media&&this.mediaSourceOpenOrEnded&&this._onMediaSourceOpen()})};if(i&&s&&a){if(!this.tracksReady){this.hls.config.startFragPrefetch=!0,this.log("attachTransferred: waiting for SourceBuffer track info");return}if(this.log(`attachTransferred: (bufferCodecEventsTotal ${this.bufferCodecEventsTotal})
required tracks: ${fl(n,(u,l)=>u==="initSegment"?void 0:l)};
transfer tracks: ${fl(i,(u,l)=>u==="initSegment"?void 0:l)}}`),!Nne(i,n)){r.mediaSource=null,r.tracks=void 0;const u=e.currentTime,l=this.details,d=Math.max(u,l?.fragments[0].start||0);if(d-u>1){this.log(`attachTransferred: waiting for playback to reach new tracks start time ${u} -> ${d}`);return}this.warn(`attachTransferred: resetting MediaSource for incompatible tracks ("${Object.keys(i)}"->"${Object.keys(n)}") start time: ${d} currentTime: ${u}`),this.onMediaDetaching(Ie.MEDIA_DETACHING,{}),this.onMediaAttaching(Ie.MEDIA_ATTACHING,r),e.currentTime=d;return}this.transferData=void 0,s.forEach(u=>{const l=u,d=i[l];if(d){const f=d.buffer;if(f){const A=this.fragmentTracker,p=d.id;if(A.hasFragments(p)||A.hasParts(p)){const x=Us.getBuffered(f);A.detectEvictedFragments(l,x,p,null,!0)}const v=hB(l),y=[l,f];this.sourceBuffers[v]=y,f.updating&&this.operationQueue&&this.operationQueue.prependBlocker(l),this.trackSourceBuffer(l,d)}}}),c(),this.bufferCreated()}else this.log("attachTransferred: MediaSource w/o SourceBuffers"),c()}get mediaSourceOpenOrEnded(){var e;const r=(e=this.mediaSource)==null?void 0:e.readyState;return r==="open"||r==="ended"}onMediaDetaching(e,r){const n=!!r.transferMedia;this.transferData=this.overrides=void 0;const{media:i,mediaSource:s,_objectUrl:a}=this;if(s){if(this.log(`media source ${n?"transferring":"detaching"}`),n)this.sourceBuffers.forEach(([c])=>{c&&this.removeBuffer(c)}),this.resetQueue();else{if(this.mediaSourceOpenOrEnded){const c=s.readyState==="open";try{const u=s.sourceBuffers;for(let l=u.length;l--;)c&&u[l].abort(),s.removeSourceBuffer(u[l]);c&&s.endOfStream()}catch(u){this.warn(`onMediaDetaching: ${u.message} while calling endOfStream`)}}this.sourceBufferCount&&this.onBufferReset()}s.removeEventListener("sourceopen",this._onMediaSourceOpen),s.removeEventListener("sourceended",this._onMediaSourceEnded),s.removeEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(s.removeEventListener("startstreaming",this._onStartStreaming),s.removeEventListener("endstreaming",this._onEndStreaming)),this.mediaSource=null,this._objectUrl=null}i&&(i.removeEventListener("emptied",this._onMediaEmptied),n||(a&&self.URL.revokeObjectURL(a),this.mediaSrc===a?(i.removeAttribute("src"),this.appendSource&&DK(i),i.load()):this.warn("media|source.src was changed by a third party - skip cleanup")),this.media=null),this.hls.trigger(Ie.MEDIA_DETACHED,r)}onBufferReset(){this.sourceBuffers.forEach(([e])=>{e&&this.resetBuffer(e)}),this.initTracks()}resetBuffer(e){var r;const n=(r=this.tracks[e])==null?void 0:r.buffer;if(this.removeBuffer(e),n)try{var i;(i=this.mediaSource)!=null&&i.sourceBuffers.length&&this.mediaSource.removeSourceBuffer(n)}catch(s){this.warn(`onBufferReset ${e}`,s)}delete this.tracks[e]}removeBuffer(e){this.removeBufferListeners(e),this.sourceBuffers[hB(e)]=[null,null];const r=this.tracks[e];r&&(r.buffer=void 0)}resetQueue(){this.operationQueue&&this.operationQueue.destroy(),this.operationQueue=new c$e(this.tracks)}onBufferCodecs(e,r){var n;const i=this.tracks,s=Object.keys(r);this.log(`BUFFER_CODECS: "${s}" (current SB count ${this.sourceBufferCount})`);const a="audiovideo"in r&&(i.audio||i.video)||i.audiovideo&&("audio"in r||"video"in r),c=!a&&this.sourceBufferCount&&this.media&&s.some(u=>!i[u]);if(a||c){this.warn(`Unsupported transition between "${Object.keys(i)}" and "${s}" SourceBuffers`);return}s.forEach(u=>{var l,d;const f=r[u],{id:A,codec:p,levelCodec:v,container:y,metadata:x,supplemental:w}=f;let E=i[u];const T=(l=this.transferData)==null||(l=l.tracks)==null?void 0:l[u],C=T!=null&&T.buffer?T:E,j=C?.pendingCodec||C?.codec,P=C?.levelCodec;E||(E=i[u]={buffer:void 0,listeners:[],codec:p,supplemental:w,container:y,levelCodec:v,metadata:x,id:A});const U=US(j,P),W=U?.replace(RK,"$1");let q=US(p,v);const re=(d=q)==null?void 0:d.replace(RK,"$1");q&&U&&W!==re&&(u.slice(0,5)==="audio"&&(q=jj(q,this.appendSource)),this.log(`switching codec ${j} to ${q}`),q!==(E.pendingCodec||E.codec)&&(E.pendingCodec=q),E.container=y,this.appendChangeType(u,y,q))}),(this.tracksReady||this.sourceBufferCount)&&(r.tracks=this.sourceBufferTracks),!this.sourceBufferCount&&(this.bufferCodecEventsTotal>1&&!this.tracks.video&&!r.video&&((n=r.audio)==null?void 0:n.id)==="main"&&(this.log("Main audio-only"),this.bufferCodecEventsTotal=1),this.mediaSourceOpenOrEnded&&this.checkPendingTracks())}get sourceBufferTracks(){return Object.keys(this.tracks).reduce((e,r)=>{const n=this.tracks[r];return e[r]={id:n.id,container:n.container,codec:n.codec,levelCodec:n.levelCodec},e},{})}appendChangeType(e,r,n){const i=`${r};codecs=${n}`,s={label:`change-type=${i}`,execute:()=>{const a=this.tracks[e];if(a){const c=a.buffer;c!=null&&c.changeType&&(this.log(`changing ${e} sourceBuffer type to ${i}`),c.changeType(i),a.codec=n,a.container=r)}this.shiftAndExecuteNext(e)},onStart:()=>{},onComplete:()=>{},onError:a=>{this.warn(`Failed to change ${e} SourceBuffer type`,a)}};this.append(s,e,this.isPending(this.tracks[e]))}blockAudio(e){var r;const n=e.start,i=n+e.duration*.05;if(((r=this.fragmentTracker.getAppendedFrag(n,fi.MAIN))==null?void 0:r.gap)===!0)return;const a={label:"block-audio",execute:()=>{var c;const u=this.tracks.video;(this.lastVideoAppendEnd>i||u!=null&&u.buffer&&Us.isBuffered(u.buffer,i)||((c=this.fragmentTracker.getAppendedFrag(i,fi.MAIN))==null?void 0:c.gap)===!0)&&(this.blockedAudioAppend=null,this.shiftAndExecuteNext("audio"))},onStart:()=>{},onComplete:()=>{},onError:c=>{this.warn("Error executing block-audio operation",c)}};this.blockedAudioAppend={op:a,frag:e},this.append(a,"audio",!0)}unblockAudio(){const{blockedAudioAppend:e,operationQueue:r}=this;e&&r&&(this.blockedAudioAppend=null,r.unblockAudio(e.op))}onBufferAppending(e,r){const{tracks:n}=this,{data:i,type:s,parent:a,frag:c,part:u,chunkMeta:l,offset:d}=r,f=l.buffering[s],{sn:A,cc:p}=c,v=self.performance.now();f.start=v;const y=c.stats.buffering,x=u?u.stats.buffering:null;y.start===0&&(y.start=v),x&&x.start===0&&(x.start=v);const w=n.audio;let E=!1;s==="audio"&&w?.container==="audio/mpeg"&&(E=!this.lastMpegAudioChunk||l.id===1||this.lastMpegAudioChunk.sn!==l.sn,this.lastMpegAudioChunk=l);const T=n.video,C=T?.buffer;if(C&&A!=="initSegment"){const U=u||c,W=this.blockedAudioAppend;if(s==="audio"&&a!=="main"&&!this.blockedAudioAppend&&!(T.ending||T.ended)){const re=U.start+U.duration*.05,ie=C.buffered,Ae=this.currentOp("video");!ie.length&&!Ae?this.blockAudio(U):!Ae&&!Us.isBuffered(C,re)&&this.lastVideoAppendEnd<re&&this.blockAudio(U)}else if(s==="video"){const q=U.end;if(W){const re=W.frag.start;(q>re||q<this.lastVideoAppendEnd||Us.isBuffered(C,re))&&this.unblockAudio()}this.lastVideoAppendEnd=q}}const j=(u||c).start,P={label:`append-${s}`,execute:()=>{var U;f.executeStart=self.performance.now();const W=(U=this.tracks[s])==null?void 0:U.buffer;W&&(E?this.updateTimestampOffset(W,j,.1,s,A,p):d!==void 0&&qn(d)&&this.updateTimestampOffset(W,d,1e-6,s,A,p)),this.appendExecutor(i,s)},onStart:()=>{},onComplete:()=>{const U=self.performance.now();f.executeEnd=f.end=U,y.first===0&&(y.first=U),x&&x.first===0&&(x.first=U);const W={};this.sourceBuffers.forEach(([q,re])=>{q&&(W[q]=Us.getBuffered(re))}),this.appendErrors[s]=0,s==="audio"||s==="video"?this.appendErrors.audiovideo=0:(this.appendErrors.audio=0,this.appendErrors.video=0),this.hls.trigger(Ie.BUFFER_APPENDED,{type:s,frag:c,part:u,chunkMeta:l,parent:c.type,timeRanges:W})},onError:U=>{var W;const q={type:Pi.MEDIA_ERROR,parent:c.type,details:gr.BUFFER_APPEND_ERROR,sourceBufferName:s,frag:c,part:u,chunkMeta:l,error:U,err:U,fatal:!1},re=(W=this.media)==null?void 0:W.error;if(U.code===DOMException.QUOTA_EXCEEDED_ERR||U.name=="QuotaExceededError"||"quota"in U)q.details=gr.BUFFER_FULL_ERROR;else if(U.code===DOMException.INVALID_STATE_ERR&&this.mediaSourceOpenOrEnded&&!re)q.errorAction=ib(!0);else if(U.name===Bie&&this.sourceBufferCount===0)q.errorAction=ib(!0);else{const ie=++this.appendErrors[s];this.warn(`Failed ${ie}/${this.hls.config.appendErrorMaxRetry} times to append segment in "${s}" sourceBuffer (${re||"no media error"})`),(ie>=this.hls.config.appendErrorMaxRetry||re)&&(q.fatal=!0)}this.hls.trigger(Ie.ERROR,q)}};this.log(`queuing "${s}" append sn: ${A}${u?" p: "+u.index:""} of ${c.type===fi.MAIN?"level":"track"} ${c.level} cc: ${p}`),this.append(P,s,this.isPending(this.tracks[s]))}getFlushOp(e,r,n){return this.log(`queuing "${e}" remove ${r}-${n}`),{label:"remove",execute:()=>{this.removeExecutor(e,r,n)},onStart:()=>{},onComplete:()=>{this.hls.trigger(Ie.BUFFER_FLUSHED,{type:e})},onError:i=>{this.warn(`Failed to remove ${r}-${n} from "${e}" SourceBuffer`,i)}}}onBufferFlushing(e,r){const{type:n,startOffset:i,endOffset:s}=r;n?this.append(this.getFlushOp(n,i,s),n):this.sourceBuffers.forEach(([a])=>{a&&this.append(this.getFlushOp(a,i,s),a)})}onFragParsed(e,r){const{frag:n,part:i}=r,s=[],a=i?i.elementaryStreams:n.elementaryStreams;a[cl.AUDIOVIDEO]?s.push("audiovideo"):(a[cl.AUDIO]&&s.push("audio"),a[cl.VIDEO]&&s.push("video"));const c=()=>{const u=self.performance.now();n.stats.buffering.end=u,i&&(i.stats.buffering.end=u);const l=i?i.stats:n.stats;this.hls.trigger(Ie.FRAG_BUFFERED,{frag:n,part:i,stats:l,id:n.type})};s.length===0&&this.warn(`Fragments must have at least one ElementaryStreamType set. type: ${n.type} level: ${n.level} sn: ${n.sn}`),this.blockBuffers(c,s).catch(u=>{this.warn(`Fragment buffered callback ${u}`),this.stepOperationQueue(this.sourceBufferTypes)})}onFragChanged(e,r){this.trimBuffers()}get bufferedToEnd(){return this.sourceBufferCount>0&&!this.sourceBuffers.some(([e])=>{if(e){const r=this.tracks[e];if(r)return!r.ended||r.ending}return!1})}onBufferEos(e,r){var n;this.sourceBuffers.forEach(([a])=>{if(a){const c=this.tracks[a];(!r.type||r.type===a)&&(c.ending=!0,c.ended||(c.ended=!0,this.log(`${a} buffer reached EOS`)))}});const i=((n=this.overrides)==null?void 0:n.endOfStream)!==!1;this.sourceBufferCount>0&&!this.sourceBuffers.some(([a])=>{var c;return a&&!((c=this.tracks[a])!=null&&c.ended)})?i?(this.log("Queueing EOS"),this.blockUntilOpen(()=>{this.tracksEnded();const{mediaSource:a}=this;if(!a||a.readyState!=="open"){a&&this.log(`Could not call mediaSource.endOfStream(). mediaSource.readyState: ${a.readyState}`);return}this.log("Calling mediaSource.endOfStream()"),a.endOfStream(),this.hls.trigger(Ie.BUFFERED_TO_END,void 0)})):(this.tracksEnded(),this.hls.trigger(Ie.BUFFERED_TO_END,void 0)):r.type==="video"&&this.unblockAudio()}tracksEnded(){this.sourceBuffers.forEach(([e])=>{if(e!==null){const r=this.tracks[e];r&&(r.ending=!1)}})}onLevelUpdated(e,{details:r}){r.fragments.length&&(this.details=r,this.updateDuration())}updateDuration(){this.blockUntilOpen(()=>{const e=this.getDurationAndRange();e&&this.updateMediaSource(e)})}onError(e,r){if(r.details===gr.BUFFER_APPEND_ERROR&&r.frag){var n;const i=(n=r.errorAction)==null?void 0:n.nextAutoLevel;qn(i)&&i!==r.frag.level&&this.resetAppendErrors()}}resetAppendErrors(){this.appendErrors={audio:0,video:0,audiovideo:0}}trimBuffers(){const{hls:e,details:r,media:n}=this;if(!n||r===null||!this.sourceBufferCount)return;const i=e.config,s=n.currentTime,a=r.levelTargetDuration,c=r.live&&i.liveBackBufferLength!==null?i.liveBackBufferLength:i.backBufferLength;if(qn(c)&&c>=0){const l=Math.max(c,a),d=Math.floor(s/a)*a-l;this.flushBackBuffer(s,a,d)}const u=i.frontBufferFlushThreshold;if(qn(u)&&u>0){const l=Math.max(i.maxBufferLength,u),d=Math.max(l,a),f=Math.floor(s/a)*a+d;this.flushFrontBuffer(s,a,f)}}flushBackBuffer(e,r,n){this.sourceBuffers.forEach(([i,s])=>{if(s){const c=Us.getBuffered(s);if(c.length>0&&n>c.start(0)){var a;this.hls.trigger(Ie.BACK_BUFFER_REACHED,{bufferEnd:n});const u=this.tracks[i];if((a=this.details)!=null&&a.live)this.hls.trigger(Ie.LIVE_BACK_BUFFER_REACHED,{bufferEnd:n});else if(u!=null&&u.ended){this.log(`Cannot flush ${i} back buffer while SourceBuffer is in ended state`);return}this.hls.trigger(Ie.BUFFER_FLUSHING,{startOffset:0,endOffset:n,type:i})}}})}flushFrontBuffer(e,r,n){this.sourceBuffers.forEach(([i,s])=>{if(s){const a=Us.getBuffered(s),c=a.length;if(c<2)return;const u=a.start(c-1),l=a.end(c-1);if(n>u||e>=u&&e<=l)return;this.hls.trigger(Ie.BUFFER_FLUSHING,{startOffset:u,endOffset:1/0,type:i})}})}getDurationAndRange(){var e;const{details:r,mediaSource:n}=this;if(!r||!this.media||n?.readyState!=="open")return null;const i=r.edge;if(r.live&&this.hls.config.liveDurationInfinity){if(r.fragments.length&&n.setLiveSeekableRange){const l=Math.max(0,r.fragmentStart),d=Math.max(l,i);return{duration:1/0,start:l,end:d}}return{duration:1/0}}const s=(e=this.overrides)==null?void 0:e.duration;if(s)return qn(s)?{duration:s}:null;const a=this.media.duration,c=qn(n.duration)?n.duration:0;return i>c&&i>a||!qn(a)?{duration:i}:null}updateMediaSource({duration:e,start:r,end:n}){const i=this.mediaSource;!this.media||!i||i.readyState!=="open"||(i.duration!==e&&(qn(e)&&this.log(`Updating MediaSource duration to ${e.toFixed(3)}`),i.duration=e),r!==void 0&&n!==void 0&&(this.log(`MediaSource duration is set to ${i.duration}. Setting seekable range to ${r}-${n}.`),i.setLiveSeekableRange(r,n)))}get tracksReady(){const e=this.pendingTrackCount;return e>0&&(e>=this.bufferCodecEventsTotal||this.isPending(this.tracks.audiovideo))}checkPendingTracks(){const{bufferCodecEventsTotal:e,pendingTrackCount:r,tracks:n}=this;if(this.log(`checkPendingTracks (pending: ${r} codec events expected: ${e}) ${fl(n)}`),this.tracksReady){var i;const s=(i=this.transferData)==null?void 0:i.tracks;s&&Object.keys(s).length?this.attachTransferred():this.createSourceBuffers()}}bufferCreated(){if(this.sourceBufferCount){const e={};this.sourceBuffers.forEach(([r,n])=>{if(r){const i=this.tracks[r];e[r]={buffer:n,container:i.container,codec:i.codec,supplemental:i.supplemental,levelCodec:i.levelCodec,id:i.id,metadata:i.metadata}}}),this.hls.trigger(Ie.BUFFER_CREATED,{tracks:e}),this.log(`SourceBuffers created. Running queue: ${this.operationQueue}`),this.sourceBuffers.forEach(([r])=>{this.executeNext(r)})}else{const e=new Error("could not create source buffer for media codec(s)");this.hls.trigger(Ie.ERROR,{type:Pi.MEDIA_ERROR,details:gr.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:e,reason:e.message})}}createSourceBuffers(){const{tracks:e,sourceBuffers:r,mediaSource:n}=this;if(!n)throw new Error("createSourceBuffers called when mediaSource was null");for(const s in e){const a=s,c=e[a];if(this.isPending(c)){const u=this.getTrackCodec(c,a),l=`${c.container};codecs=${u}`;c.codec=u,this.log(`creating sourceBuffer(${l})${this.currentOp(a)?" Queued":""} ${fl(c)}`);try{const d=n.addSourceBuffer(l),f=hB(a),A=[a,d];r[f]=A,c.buffer=d}catch(d){var i;this.error(`error while trying to add sourceBuffer: ${d.message}`),this.shiftAndExecuteNext(a),(i=this.operationQueue)==null||i.removeBlockers(),delete this.tracks[a],this.hls.trigger(Ie.ERROR,{type:Pi.MEDIA_ERROR,details:gr.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:d,sourceBufferName:a,mimeType:l,parent:c.id});return}this.trackSourceBuffer(a,c)}}this.bufferCreated()}getTrackCodec(e,r){const n=e.supplemental;let i=e.codec;n&&(r==="video"||r==="audiovideo")&&PE(n,"video")&&(i=t8e(i,n));const s=US(i,e.levelCodec);return s?r.slice(0,5)==="audio"?jj(s,this.appendSource):s:""}trackSourceBuffer(e,r){const n=r.buffer;if(!n)return;const i=this.getTrackCodec(r,e);this.tracks[e]={buffer:n,codec:i,container:r.container,levelCodec:r.levelCodec,supplemental:r.supplemental,metadata:r.metadata,id:r.id,listeners:[]},this.removeBufferListeners(e),this.addBufferListener(e,"updatestart",this.onSBUpdateStart),this.addBufferListener(e,"updateend",this.onSBUpdateEnd),this.addBufferListener(e,"error",this.onSBUpdateError),this.appendSource&&this.addBufferListener(e,"bufferedchange",(s,a)=>{const c=a.removedRanges;c!=null&&c.length&&this.hls.trigger(Ie.BUFFER_FLUSHED,{type:s})})}get mediaSrc(){var e,r;const n=((e=this.media)==null||(r=e.querySelector)==null?void 0:r.call(e,"source"))||this.media;return n?.src}onSBUpdateStart(e){const r=this.currentOp(e);r&&r.onStart()}onSBUpdateEnd(e){var r;if(((r=this.mediaSource)==null?void 0:r.readyState)==="closed"){this.resetBuffer(e);return}const n=this.currentOp(e);n&&(n.onComplete(),this.shiftAndExecuteNext(e))}onSBUpdateError(e,r){var n;const i=new Error(`${e} SourceBuffer error. MediaSource readyState: ${(n=this.mediaSource)==null?void 0:n.readyState}`);this.error(`${i}`,r),this.hls.trigger(Ie.ERROR,{type:Pi.MEDIA_ERROR,details:gr.BUFFER_APPENDING_ERROR,sourceBufferName:e,error:i,fatal:!1});const s=this.currentOp(e);s&&s.onError(i)}updateTimestampOffset(e,r,n,i,s,a){const c=r-e.timestampOffset;Math.abs(c)>=n&&(this.log(`Updating ${i} SourceBuffer timestampOffset to ${r} (sn: ${s} cc: ${a})`),e.timestampOffset=r)}removeExecutor(e,r,n){const{media:i,mediaSource:s}=this,a=this.tracks[e],c=a?.buffer;if(!i||!s||!c){this.warn(`Attempting to remove from the ${e} SourceBuffer, but it does not exist`),this.shiftAndExecuteNext(e);return}const u=qn(i.duration)?i.duration:1/0,l=qn(s.duration)?s.duration:1/0,d=Math.max(0,r),f=Math.min(n,u,l);f>d&&(!a.ending||a.ended)?(a.ended=!1,this.log(`Removing [${d},${f}] from the ${e} SourceBuffer`),c.remove(d,f)):this.shiftAndExecuteNext(e)}appendExecutor(e,r){const n=this.tracks[r],i=n?.buffer;if(!i)throw new u$e(`Attempting to append to the ${r} SourceBuffer, but it does not exist`);n.ending=!1,n.ended=!1,i.appendBuffer(e)}blockUntilOpen(e){if(this.isUpdating()||this.isQueued())this.blockBuffers(e).catch(r=>{this.warn(`SourceBuffer blocked callback ${r}`),this.stepOperationQueue(this.sourceBufferTypes)});else try{e()}catch(r){this.warn(`Callback run without blocking ${this.operationQueue} ${r}`)}}isUpdating(){return this.sourceBuffers.some(([e,r])=>e&&r.updating)}isQueued(){return this.sourceBuffers.some(([e])=>e&&!!this.currentOp(e))}isPending(e){return!!e&&!e.buffer}blockBuffers(e,r=this.sourceBufferTypes){if(!r.length)return this.log("Blocking operation requested, but no SourceBuffers exist"),Promise.resolve().then(e);const{operationQueue:n}=this,i=r.map(a=>this.appendBlocker(a));return r.length>1&&this.blockedAudioAppend&&this.unblockAudio(),Promise.all(i).then(a=>{n===this.operationQueue&&(e(),this.stepOperationQueue(this.sourceBufferTypes))})}stepOperationQueue(e){e.forEach(r=>{var n;const i=(n=this.tracks[r])==null?void 0:n.buffer;!i||i.updating||this.shiftAndExecuteNext(r)})}append(e,r,n){this.operationQueue&&this.operationQueue.append(e,r,n)}appendBlocker(e){if(this.operationQueue)return this.operationQueue.appendBlocker(e)}currentOp(e){return this.operationQueue?this.operationQueue.current(e):null}executeNext(e){e&&this.operationQueue&&this.operationQueue.executeNext(e)}shiftAndExecuteNext(e){this.operationQueue&&this.operationQueue.shiftAndExecuteNext(e)}get pendingTrackCount(){return Object.keys(this.tracks).reduce((e,r)=>e+(this.isPending(this.tracks[r])?1:0),0)}get sourceBufferCount(){return this.sourceBuffers.reduce((e,[r])=>e+(r?1:0),0)}get sourceBufferTypes(){return this.sourceBuffers.map(([e])=>e).filter(e=>!!e)}addBufferListener(e,r,n){const i=this.tracks[e];if(!i)return;const s=i.buffer;if(!s)return;const a=n.bind(this,e);i.listeners.push({event:r,listener:a}),s.addEventListener(r,a)}removeBufferListeners(e){const r=this.tracks[e];if(!r)return;const n=r.buffer;n&&(r.listeners.forEach(i=>{n.removeEventListener(i.event,i.listener)}),r.listeners.length=0)}}function DK(t){const e=t.querySelectorAll("source");[].slice.call(e).forEach(r=>{t.removeChild(r)})}function h$e(t,e){const r=self.document.createElement("source");r.type="video/mp4",r.src=e,t.appendChild(r)}function hB(t){return t==="audio"?1:0}class _5{constructor(e){this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=e,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}setStreamController(e){this.streamController=e}destroy(){this.hls&&this.unregisterListener(),this.timer&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null}registerListeners(){const{hls:e}=this;e.on(Ie.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.on(Ie.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(Ie.MANIFEST_PARSED,this.onManifestParsed,this),e.on(Ie.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(Ie.BUFFER_CODECS,this.onBufferCodecs,this),e.on(Ie.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListener(){const{hls:e}=this;e.off(Ie.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.off(Ie.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(Ie.MANIFEST_PARSED,this.onManifestParsed,this),e.off(Ie.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(Ie.BUFFER_CODECS,this.onBufferCodecs,this),e.off(Ie.MEDIA_DETACHING,this.onMediaDetaching,this)}onFpsDropLevelCapping(e,r){const n=this.hls.levels[r.droppedLevel];this.isLevelAllowed(n)&&this.restrictedLevels.push({bitrate:n.bitrate,height:n.height,width:n.width})}onMediaAttaching(e,r){this.media=r.media instanceof HTMLVideoElement?r.media:null,this.clientRect=null,this.timer&&this.hls.levels.length&&this.detectPlayerSize()}onManifestParsed(e,r){const n=this.hls;this.restrictedLevels=[],this.firstLevel=r.firstLevel,n.config.capLevelToPlayerSize&&r.video&&this.startCapping()}onLevelsUpdated(e,r){this.timer&&qn(this.autoLevelCapping)&&this.detectPlayerSize()}onBufferCodecs(e,r){this.hls.config.capLevelToPlayerSize&&r.video&&this.startCapping()}onMediaDetaching(){this.stopCapping(),this.media=null}detectPlayerSize(){if(this.media){if(this.mediaHeight<=0||this.mediaWidth<=0){this.clientRect=null;return}const e=this.hls.levels;if(e.length){const r=this.hls,n=this.getMaxLevel(e.length-1);n!==this.autoLevelCapping&&r.logger.log(`Setting autoLevelCapping to ${n}: ${e[n].height}p@${e[n].bitrate} for media ${this.mediaWidth}x${this.mediaHeight}`),r.autoLevelCapping=n,r.autoLevelEnabled&&r.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=r.autoLevelCapping}}}getMaxLevel(e){const r=this.hls.levels;if(!r.length)return-1;const n=r.filter((i,s)=>this.isLevelAllowed(i)&&s<=e);return this.clientRect=null,_5.getMaxLevelByMediaSize(n,this.mediaWidth,this.mediaHeight)}startCapping(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}stopCapping(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)}getDimensions(){if(this.clientRect)return this.clientRect;const e=this.media,r={width:0,height:0};if(e){const n=e.getBoundingClientRect();r.width=n.width,r.height=n.height,!r.width&&!r.height&&(r.width=n.right-n.left||e.width||0,r.height=n.bottom-n.top||e.height||0)}return this.clientRect=r,r}get mediaWidth(){return this.getDimensions().width*this.contentScaleFactor}get mediaHeight(){return this.getDimensions().height*this.contentScaleFactor}get contentScaleFactor(){let e=1;if(!this.hls.config.ignoreDevicePixelRatio)try{e=self.devicePixelRatio}catch{}return Math.min(e,this.hls.config.maxDevicePixelRatio)}isLevelAllowed(e){return!this.restrictedLevels.some(n=>e.bitrate===n.bitrate&&e.width===n.width&&e.height===n.height)}static getMaxLevelByMediaSize(e,r,n){if(!(e!=null&&e.length))return-1;const i=(c,u)=>u?c.width!==u.width||c.height!==u.height:!0;let s=e.length-1;const a=Math.max(r,n);for(let c=0;c<e.length;c+=1){const u=e[c];if((u.width>=a||u.height>=a)&&i(u,e[c+1])){s=c;break}}return s}}const f$e={MANIFEST:"m",AUDIO:"a",VIDEO:"v",MUXED:"av",INIT:"i",CAPTION:"c",TIMED_TEXT:"tt",KEY:"k",OTHER:"o"},Nh=f$e,A$e={HLS:"h"},m$e=A$e;class $m{constructor(e,r){Array.isArray(e)&&(e=e.map(n=>n instanceof $m?n:new $m(n))),this.value=e,this.params=r}}const p$e="Dict";function g$e(t){return Array.isArray(t)?JSON.stringify(t):t instanceof Map?"Map{}":t instanceof Set?"Set{}":typeof t=="object"?JSON.stringify(t):String(t)}function v$e(t,e,r,n){return new Error(`failed to ${t} "${g$e(e)}" as ${r}`,{cause:n})}function Hm(t,e,r){return v$e("serialize",t,e,r)}class Oie{constructor(e){this.description=e}}const MK="Bare Item",y$e="Boolean";function x$e(t){if(typeof t!="boolean")throw Hm(t,y$e);return t?"?1":"?0"}function b$e(t){return btoa(String.fromCharCode(...t))}const w$e="Byte Sequence";function E$e(t){if(ArrayBuffer.isView(t)===!1)throw Hm(t,w$e);return`:${b$e(t)}:`}const _$e="Integer";function S$e(t){return t<-999999999999999||999999999999999<t}function Pie(t){if(S$e(t))throw Hm(t,_$e);return t.toString()}function T$e(t){return`@${Pie(t.getTime()/1e3)}`}function Rie(t,e){if(t<0)return-Rie(-t,e);const r=Math.pow(10,e);if(Math.abs(t*r%1-.5)<Number.EPSILON){const i=Math.floor(t*r);return(i%2===0?i:i+1)/r}else return Math.round(t*r)/r}const C$e="Decimal";function j$e(t){const e=Rie(t,3);if(Math.floor(Math.abs(e)).toString().length>12)throw Hm(t,C$e);const r=e.toString();return r.includes(".")?r:`${r}.0`}const N$e="String",k$e=/[\x00-\x1f\x7f]+/;function I$e(t){if(k$e.test(t))throw Hm(t,N$e);return`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`}function L$e(t){return t.description||t.toString().slice(7,-1)}const B$e="Token";function FK(t){const e=L$e(t);if(/^([a-zA-Z*])([!#$%&'*+\-.^_`|~\w:/]*)$/.test(e)===!1)throw Hm(e,B$e);return e}function XO(t){switch(typeof t){case"number":if(!qn(t))throw Hm(t,MK);return Number.isInteger(t)?Pie(t):j$e(t);case"string":return I$e(t);case"symbol":return FK(t);case"boolean":return x$e(t);case"object":if(t instanceof Date)return T$e(t);if(t instanceof Uint8Array)return E$e(t);if(t instanceof Oie)return FK(t);default:throw Hm(t,MK)}}const O$e="Key";function ZO(t){if(/^[a-z*][a-z0-9\-_.*]*$/.test(t)===!1)throw Hm(t,O$e);return t}function AF(t){return t==null?"":Object.entries(t).map(([e,r])=>r===!0?`;${ZO(e)}`:`;${ZO(e)}=${XO(r)}`).join("")}function Die(t){return t instanceof $m?`${XO(t.value)}${AF(t.params)}`:XO(t)}function P$e(t){return`(${t.value.map(Die).join(" ")})${AF(t.params)}`}function R$e(t,e={whitespace:!0}){if(typeof t!="object"||t==null)throw Hm(t,p$e);const r=t instanceof Map?t.entries():Object.entries(t),n=e?.whitespace?" ":"";return Array.from(r).map(([i,s])=>{s instanceof $m||(s=new $m(s));let a=ZO(i);return s.value===!0?a+=AF(s.params):(a+="=",Array.isArray(s.value)?a+=P$e(s):a+=Die(s)),a}).join(`,${n}`)}function Mie(t,e){return R$e(t,e)}const rm="CMCD-Object",Cc="CMCD-Request",ev="CMCD-Session",Mg="CMCD-Status",D$e={br:rm,ab:rm,d:rm,ot:rm,tb:rm,tpb:rm,lb:rm,tab:rm,lab:rm,url:rm,pb:Cc,bl:Cc,tbl:Cc,dl:Cc,ltc:Cc,mtp:Cc,nor:Cc,nrr:Cc,rc:Cc,sn:Cc,sta:Cc,su:Cc,ttfb:Cc,ttfbb:Cc,ttlb:Cc,cmsdd:Cc,cmsds:Cc,smrt:Cc,df:Cc,cs:Cc,ts:Cc,cid:ev,pr:ev,sf:ev,sid:ev,st:ev,v:ev,msd:ev,bs:Mg,bsd:Mg,cdn:Mg,rtp:Mg,bg:Mg,pt:Mg,ec:Mg,e:Mg},M$e={REQUEST:Cc};function F$e(t){return Object.keys(t).reduce((e,r)=>{var n;return(n=t[r])===null||n===void 0||n.forEach(i=>e[i]=r),e},{})}function U$e(t,e){const r={};if(!t)return r;const n=Object.keys(t),i=e?F$e(e):{};return n.reduce((s,a)=>{var c;const u=D$e[a]||i[a]||M$e.REQUEST,l=(c=s[u])!==null&&c!==void 0?c:s[u]={};return l[a]=t[a],s},r)}function $$e(t){return["ot","sf","st","e","sta"].includes(t)}function H$e(t){return typeof t=="number"?qn(t):t!=null&&t!==""&&t!==!1}const Fie="event";function Q$e(t,e){const r=new URL(t),n=new URL(e);if(r.origin!==n.origin)return t;const i=r.pathname.split("/").slice(1),s=n.pathname.split("/").slice(1,-1);for(;i[0]===s[0];)i.shift(),s.shift();for(;s.length;)s.shift(),i.unshift("..");return i.join("/")+r.search+r.hash}const zS=t=>Math.round(t),JO=(t,e)=>Array.isArray(t)?t.map(r=>JO(r,e)):t instanceof $m&&typeof t.value=="string"?new $m(JO(t.value,e),t.params):(e.baseUrl&&(t=Q$e(t,e.baseUrl)),e.version===1?encodeURIComponent(t):t),Z2=t=>zS(t/100)*100,V$e=(t,e)=>{let r=t;return e.version>=2&&(t instanceof $m&&typeof t.value=="string"?r=new $m([t]):typeof t=="string"&&(r=[t])),JO(r,e)},z$e={br:zS,d:zS,bl:Z2,dl:Z2,mtp:Z2,nor:V$e,rtp:Z2,tb:zS},Uie="request",$ie="response",mF=["ab","bg","bl","br","bs","bsd","cdn","cid","cs","df","ec","lab","lb","ltc","msd","mtp","pb","pr","pt","sf","sid","sn","st","sta","tab","tb","tbl","tpb","ts","v"],K$e=["e"],G$e=/^[a-zA-Z0-9-.]+-[a-zA-Z0-9-.]+$/;function S5(t){return G$e.test(t)}function W$e(t){return mF.includes(t)||K$e.includes(t)||S5(t)}const Hie=["d","dl","nor","ot","rtp","su"];function Y$e(t){return mF.includes(t)||Hie.includes(t)||S5(t)}const q$e=["cmsdd","cmsds","rc","smrt","ttfb","ttfbb","ttlb","url"];function X$e(t){return mF.includes(t)||Hie.includes(t)||q$e.includes(t)||S5(t)}const Z$e=["bl","br","bs","cid","d","dl","mtp","nor","nrr","ot","pr","rtp","sf","sid","st","su","tb","v"];function J$e(t){return Z$e.includes(t)||S5(t)}const e9e={[$ie]:X$e,[Fie]:W$e,[Uie]:Y$e};function Qie(t,e={}){const r={};if(t==null||typeof t!="object")return r;const n=e.version||t.v||1,i=e.reportingMode||Uie,s=n===1?J$e:e9e[i];let a=Object.keys(t).filter(s);const c=e.filter;typeof c=="function"&&(a=a.filter(c));const u=i===$ie||i===Fie;u&&!a.includes("ts")&&a.push("ts"),n>1&&!a.includes("v")&&a.push("v");const l=nl({},z$e,e.formatters),d={version:n,reportingMode:i,baseUrl:e.baseUrl};return a.sort().forEach(f=>{let A=t[f];const p=l[f];if(typeof p=="function"&&(A=p(A,d)),f==="v"){if(n===1)return;A=n}f=="pr"&&A===1||(u&&f==="ts"&&!qn(A)&&(A=Date.now()),H$e(A)&&($$e(f)&&typeof A=="string"&&(A=new Oie(A)),r[f]=A))}),r}function t9e(t,e={}){const r={};if(!t)return r;const n=Qie(t,e),i=U$e(n,e?.customHeaderMap);return Object.entries(i).reduce((s,[a,c])=>{const u=Mie(c,{whitespace:!1});return u&&(s[a]=u),s},r)}function r9e(t,e,r){return nl(t,t9e(e,r))}const n9e="CMCD";function i9e(t,e={}){return t?Mie(Qie(t,e),{whitespace:!1}):""}function s9e(t,e={}){if(!t)return"";const r=i9e(t,e);return encodeURIComponent(r)}function a9e(t,e={}){if(!t)return"";const r=s9e(t,e);return`${n9e}=${r}`}const UK=/CMCD=[^&#]+/;function o9e(t,e,r){const n=a9e(e,r);if(!n)return t;if(UK.test(t))return t.replace(UK,n);const i=t.includes("?")?"&":"?";return`${t}${i}${n}`}class l9e{constructor(e){this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.includeKeys=void 0,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=()=>{this.initialized&&(this.starved=!0),this.buffering=!0},this.onPlaying=()=>{this.initialized||(this.initialized=!0),this.buffering=!1},this.applyPlaylistData=i=>{try{this.apply(i,{ot:Nh.MANIFEST,su:!this.initialized})}catch(s){this.hls.logger.warn("Could not generate manifest CMCD data.",s)}},this.applyFragmentData=i=>{try{const{frag:s,part:a}=i,c=this.hls.levels[s.level],u=this.getObjectType(s),l={d:(a||s).duration*1e3,ot:u};(u===Nh.VIDEO||u===Nh.AUDIO||u==Nh.MUXED)&&(l.br=c.bitrate/1e3,l.tb=this.getTopBandwidth(u)/1e3,l.bl=this.getBufferLength(u));const d=a?this.getNextPart(a):this.getNextFrag(s);d!=null&&d.url&&d.url!==s.url&&(l.nor=d.url),this.apply(i,l)}catch(s){this.hls.logger.warn("Could not generate segment CMCD data.",s)}},this.hls=e;const r=this.config=e.config,{cmcd:n}=r;n!=null&&(r.pLoader=this.createPlaylistLoader(),r.fLoader=this.createFragmentLoader(),this.sid=n.sessionId||e.sessionId,this.cid=n.contentId,this.useHeaders=n.useHeaders===!0,this.includeKeys=n.includeKeys,this.registerListeners())}registerListeners(){const e=this.hls;e.on(Ie.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(Ie.MEDIA_DETACHED,this.onMediaDetached,this),e.on(Ie.BUFFER_CREATED,this.onBufferCreated,this)}unregisterListeners(){const e=this.hls;e.off(Ie.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(Ie.MEDIA_DETACHED,this.onMediaDetached,this),e.off(Ie.BUFFER_CREATED,this.onBufferCreated,this)}destroy(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null,this.onWaiting=this.onPlaying=this.media=null}onMediaAttached(e,r){this.media=r.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)}onMediaDetached(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)}onBufferCreated(e,r){var n,i;this.audioBuffer=(n=r.tracks.audio)==null?void 0:n.buffer,this.videoBuffer=(i=r.tracks.video)==null?void 0:i.buffer}createData(){var e;return{v:1,sf:m$e.HLS,sid:this.sid,cid:this.cid,pr:(e=this.media)==null?void 0:e.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}}apply(e,r={}){nl(r,this.createData());const n=r.ot===Nh.INIT||r.ot===Nh.VIDEO||r.ot===Nh.MUXED;this.starved&&n&&(r.bs=!0,r.su=!0,this.starved=!1),r.su==null&&(r.su=this.buffering);const{includeKeys:i}=this;i&&(r=Object.keys(r).reduce((a,c)=>(i.includes(c)&&(a[c]=r[c]),a),{}));const s={baseUrl:e.url};this.useHeaders?(e.headers||(e.headers={}),r9e(e.headers,r,s)):e.url=o9e(e.url,r,s)}getNextFrag(e){var r;const n=(r=this.hls.levels[e.level])==null?void 0:r.details;if(n){const i=e.sn-n.startSN;return n.fragments[i+1]}}getNextPart(e){var r;const{index:n,fragment:i}=e,s=(r=this.hls.levels[i.level])==null||(r=r.details)==null?void 0:r.partList;if(s){const{sn:a}=i;for(let c=s.length-1;c>=0;c--){const u=s[c];if(u.index===n&&u.fragment.sn===a)return s[c+1]}}}getObjectType(e){const{type:r}=e;if(r==="subtitle")return Nh.TIMED_TEXT;if(e.sn==="initSegment")return Nh.INIT;if(r==="audio")return Nh.AUDIO;if(r==="main")return this.hls.audioTracks.length?Nh.VIDEO:Nh.MUXED}getTopBandwidth(e){let r=0,n;const i=this.hls;if(e===Nh.AUDIO)n=i.audioTracks;else{const s=i.maxAutoLevel,a=s>-1?s+1:i.levels.length;n=i.levels.slice(0,a)}return n.forEach(s=>{s.bitrate>r&&(r=s.bitrate)}),r>0?r:NaN}getBufferLength(e){const r=this.media,n=e===Nh.AUDIO?this.audioBuffer:this.videoBuffer;return!n||!r?NaN:Us.bufferInfo(n,r.currentTime,this.config.maxBufferHole).len*1e3}createPlaylistLoader(){const{pLoader:e}=this.config,r=this.applyPlaylistData,n=e||this.config.loader;return class{constructor(s){this.loader=void 0,this.loader=new n(s)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(s,a,c){r(s),this.loader.load(s,a,c)}}}createFragmentLoader(){const{fLoader:e}=this.config,r=this.applyFragmentData,n=e||this.config.loader;return class{constructor(s){this.loader=void 0,this.loader=new n(s)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(s,a,c){r(s),this.loader.load(s,a,c)}}}}const c9e=3e5;class u9e extends Zf{constructor(e){super("content-steering",e.logger),this.hls=void 0,this.loader=null,this.uri=null,this.pathwayId=".",this._pathwayPriority=null,this.timeToLoad=300,this.reloadTimer=-1,this.updated=0,this.started=!1,this.enabled=!0,this.levels=null,this.audioTracks=null,this.subtitleTracks=null,this.penalizedPathways={},this.hls=e,this.registerListeners()}registerListeners(){const e=this.hls;e.on(Ie.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Ie.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(Ie.MANIFEST_PARSED,this.onManifestParsed,this),e.on(Ie.ERROR,this.onError,this)}unregisterListeners(){const e=this.hls;e&&(e.off(Ie.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Ie.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(Ie.MANIFEST_PARSED,this.onManifestParsed,this),e.off(Ie.ERROR,this.onError,this))}pathways(){return(this.levels||[]).reduce((e,r)=>(e.indexOf(r.pathwayId)===-1&&e.push(r.pathwayId),e),[])}get pathwayPriority(){return this._pathwayPriority}set pathwayPriority(e){this.updatePathwayPriority(e)}startLoad(){if(this.started=!0,this.clearTimeout(),this.enabled&&this.uri){if(this.updated){const e=this.timeToLoad*1e3-(performance.now()-this.updated);if(e>0){this.scheduleRefresh(this.uri,e);return}}this.loadSteeringManifest(this.uri)}}stopLoad(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),this.clearTimeout()}clearTimeout(){this.reloadTimer!==-1&&(self.clearTimeout(this.reloadTimer),this.reloadTimer=-1)}destroy(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null}removeLevel(e){const r=this.levels;r&&(this.levels=r.filter(n=>n!==e))}onManifestLoading(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null}onManifestLoaded(e,r){const{contentSteering:n}=r;n!==null&&(this.pathwayId=n.pathwayId,this.uri=n.uri,this.started&&this.startLoad())}onManifestParsed(e,r){this.audioTracks=r.audioTracks,this.subtitleTracks=r.subtitleTracks}onError(e,r){const{errorAction:n}=r;if(n?.action===Dd.SendAlternateToPenaltyBox&&n.flags===ef.MoveAllAlternatesMatchingHost){const i=this.levels;let s=this._pathwayPriority,a=this.pathwayId;if(r.context){const{groupId:c,pathwayId:u,type:l}=r.context;c&&i?a=this.getPathwayForGroupId(c,l,a):u&&(a=u)}a in this.penalizedPathways||(this.penalizedPathways[a]=performance.now()),!s&&i&&(s=this.pathways()),s&&s.length>1&&(this.updatePathwayPriority(s),n.resolved=this.pathwayId!==a),r.details===gr.BUFFER_APPEND_ERROR&&!r.fatal?n.resolved=!0:n.resolved||this.warn(`Could not resolve ${r.details} ("${r.error.message}") with content-steering for Pathway: ${a} levels: ${i&&i.length} priorities: ${fl(s)} penalized: ${fl(this.penalizedPathways)}`)}}filterParsedLevels(e){this.levels=e;let r=this.getLevelsForPathway(this.pathwayId);if(r.length===0){const n=e[0].pathwayId;this.log(`No levels found in Pathway ${this.pathwayId}. Setting initial Pathway to "${n}"`),r=this.getLevelsForPathway(n),this.pathwayId=n}return r.length!==e.length&&this.log(`Found ${r.length}/${e.length} levels in Pathway "${this.pathwayId}"`),r}getLevelsForPathway(e){return this.levels===null?[]:this.levels.filter(r=>e===r.pathwayId)}updatePathwayPriority(e){this._pathwayPriority=e;let r;const n=this.penalizedPathways,i=performance.now();Object.keys(n).forEach(s=>{i-n[s]>c9e&&delete n[s]});for(let s=0;s<e.length;s++){const a=e[s];if(a in n)continue;if(a===this.pathwayId)return;const c=this.hls.nextLoadLevel,u=this.hls.levels[c];if(r=this.getLevelsForPathway(a),r.length>0){this.log(`Setting Pathway to "${a}"`),this.pathwayId=a,cie(r),this.hls.trigger(Ie.LEVELS_UPDATED,{levels:r});const l=this.hls.levels[c];u&&l&&this.levels&&(l.attrs["STABLE-VARIANT-ID"]!==u.attrs["STABLE-VARIANT-ID"]&&l.bitrate!==u.bitrate&&this.log(`Unstable Pathways change from bitrate ${u.bitrate} to ${l.bitrate}`),this.hls.nextLoadLevel=c);break}}}getPathwayForGroupId(e,r,n){const i=this.getLevelsForPathway(n).concat(this.levels||[]);for(let s=0;s<i.length;s++)if(r===xa.AUDIO_TRACK&&i[s].hasAudioGroup(e)||r===xa.SUBTITLE_TRACK&&i[s].hasSubtitleGroup(e))return i[s].pathwayId;return n}clonePathways(e){const r=this.levels;if(!r)return;const n={},i={};e.forEach(s=>{const{ID:a,"BASE-ID":c,"URI-REPLACEMENT":u}=s;if(r.some(d=>d.pathwayId===a))return;const l=this.getLevelsForPathway(c).map(d=>{const f=new lc(d.attrs);f["PATHWAY-ID"]=a;const A=f.AUDIO&&`${f.AUDIO}_clone_${a}`,p=f.SUBTITLES&&`${f.SUBTITLES}_clone_${a}`;A&&(n[f.AUDIO]=A,f.AUDIO=A),p&&(i[f.SUBTITLES]=p,f.SUBTITLES=p);const v=Vie(d.uri,f["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",u),y=new DE({attrs:f,audioCodec:d.audioCodec,bitrate:d.bitrate,height:d.height,name:d.name,url:v,videoCodec:d.videoCodec,width:d.width});if(d.audioGroups)for(let x=1;x<d.audioGroups.length;x++)y.addGroupId("audio",`${d.audioGroups[x]}_clone_${a}`);if(d.subtitleGroups)for(let x=1;x<d.subtitleGroups.length;x++)y.addGroupId("text",`${d.subtitleGroups[x]}_clone_${a}`);return y});r.push(...l),$K(this.audioTracks,n,u,a),$K(this.subtitleTracks,i,u,a)})}loadSteeringManifest(e){const r=this.hls.config,n=r.loader;this.loader&&this.loader.destroy(),this.loader=new n(r);let i;try{i=new self.URL(e)}catch{this.enabled=!1,this.log(`Failed to parse Steering Manifest URI: ${e}`);return}if(i.protocol!=="data:"){const d=(this.hls.bandwidthEstimate||r.abrEwmaDefaultEstimate)|0;i.searchParams.set("_HLS_pathway",this.pathwayId),i.searchParams.set("_HLS_throughput",""+d)}const s={responseType:"json",url:i.href},a=r.steeringManifestLoadPolicy.default,c=a.errorRetry||a.timeoutRetry||{},u={loadPolicy:a,timeout:a.maxLoadTimeMs,maxRetry:c.maxNumRetry||0,retryDelay:c.retryDelayMs||0,maxRetryDelay:c.maxRetryDelayMs||0},l={onSuccess:(d,f,A,p)=>{this.log(`Loaded steering manifest: "${i}"`);const v=d.data;if(v?.VERSION!==1){this.log(`Steering VERSION ${v.VERSION} not supported!`);return}this.updated=performance.now(),this.timeToLoad=v.TTL;const{"RELOAD-URI":y,"PATHWAY-CLONES":x,"PATHWAY-PRIORITY":w}=v;if(y)try{this.uri=new self.URL(y,i).href}catch{this.enabled=!1,this.log(`Failed to parse Steering Manifest RELOAD-URI: ${y}`);return}this.scheduleRefresh(this.uri||A.url),x&&this.clonePathways(x);const E={steeringManifest:v,url:i.toString()};this.hls.trigger(Ie.STEERING_MANIFEST_LOADED,E),w&&this.updatePathwayPriority(w)},onError:(d,f,A,p)=>{if(this.log(`Error loading steering manifest: ${d.code} ${d.text} (${f.url})`),this.stopLoad(),d.code===410){this.enabled=!1,this.log(`Steering manifest ${f.url} no longer available`);return}let v=this.timeToLoad*1e3;if(d.code===429){const y=this.loader;if(typeof y?.getResponseHeader=="function"){const x=y.getResponseHeader("Retry-After");x&&(v=parseFloat(x)*1e3)}this.log(`Steering manifest ${f.url} rate limited`);return}this.scheduleRefresh(this.uri||f.url,v)},onTimeout:(d,f,A)=>{this.log(`Timeout loading steering manifest (${f.url})`),this.scheduleRefresh(this.uri||f.url)}};this.log(`Requesting steering manifest: ${i}`),this.loader.load(s,u,l)}scheduleRefresh(e,r=this.timeToLoad*1e3){this.clearTimeout(),this.reloadTimer=self.setTimeout(()=>{var n;const i=(n=this.hls)==null?void 0:n.media;if(i&&!i.ended){this.loadSteeringManifest(e);return}this.scheduleRefresh(e,this.timeToLoad*1e3)},r)}}function $K(t,e,r,n){t&&Object.keys(e).forEach(i=>{const s=t.filter(a=>a.groupId===i).map(a=>{const c=nl({},a);return c.details=void 0,c.attrs=new lc(c.attrs),c.url=c.attrs.URI=Vie(a.url,a.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",r),c.groupId=c.attrs["GROUP-ID"]=e[i],c.attrs["PATHWAY-ID"]=n,c});t.push(...s)})}function Vie(t,e,r,n){const{HOST:i,PARAMS:s,[r]:a}=n;let c;e&&(c=a?.[e],c&&(t=c));const u=new self.URL(t);return i&&!c&&(u.host=i),s&&Object.keys(s).sort().forEach(l=>{l&&u.searchParams.set(l,s[l])}),u.href}class ab extends Zf{constructor(e){super("eme",e.logger),this.hls=void 0,this.config=void 0,this.media=null,this.mediaResolved=void 0,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.mediaKeys=null,this.setMediaKeysQueue=ab.CDMCleanupPromise?[ab.CDMCleanupPromise]:[],this.bannedKeyIds={},this.onMediaEncrypted=r=>{const{initDataType:n,initData:i}=r,s=`"${r.type}" event: init data type: "${n}"`;if(this.debug(s),i!==null){if(!this.keyFormatPromise){let a=Object.keys(this.keySystemAccessPromises);a.length||(a=aw(this.config));const c=a.map(iB).filter(u=>!!u);this.keyFormatPromise=this.getKeyFormatPromise(c)}this.keyFormatPromise.then(a=>{const c=HS(a);if(n!=="sinf"||c!==dc.FAIRPLAY){this.log(`Ignoring "${r.type}" event with init data type: "${n}" for selected key-system ${c}`);return}let u;try{const p=Ou(new Uint8Array(i)),v=iF(JSON.parse(p).sinf),y=Mne(v);if(!y)throw new Error("'schm' box missing or not cbcs/cenc with schi > tenc");u=new Uint8Array(y.subarray(8,24))}catch(p){this.warn(`${s} Failed to parse sinf: ${p}`);return}const l=Md(u),{keyIdToKeySessionPromise:d,mediaKeySessions:f}=this;let A=d[l];for(let p=0;p<f.length;p++){const v=f[p],y=v.decryptdata;if(!y.keyId)continue;const x=Md(y.keyId);if(Bj(u,y.keyId)||y.uri.replace(/-/g,"").indexOf(l)!==-1){if(A=d[x],!A)continue;if(y.pssh)break;delete d[x],y.pssh=new Uint8Array(i),y.keyId=u,A=d[l]=A.then(()=>this.generateRequestWithPreferredKeySession(v,n,i,"encrypted-event-key-match")),A.catch(w=>this.handleError(w));break}}A||this.handleError(new Error(`Key ID ${l} not encountered in playlist. Key-system sessions ${f.length}.`))}).catch(a=>this.handleError(a))}},this.onWaitingForKey=r=>{this.log(`"${r.type}" event`)},this.hls=e,this.config=e.config,this.registerListeners()}destroy(){this.onDestroying(),this.onMediaDetached();const e=this.config;e.requestMediaKeySystemAccessFunc=null,e.licenseXhrSetup=e.licenseResponseCallback=void 0,e.drmSystems=e.drmSystemOptions={},this.hls=this.config=this.keyIdToKeySessionPromise=null,this.onMediaEncrypted=this.onWaitingForKey=null}registerListeners(){this.hls.on(Ie.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(Ie.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(Ie.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(Ie.MANIFEST_LOADED,this.onManifestLoaded,this),this.hls.on(Ie.DESTROYING,this.onDestroying,this)}unregisterListeners(){this.hls.off(Ie.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(Ie.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(Ie.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(Ie.MANIFEST_LOADED,this.onManifestLoaded,this),this.hls.off(Ie.DESTROYING,this.onDestroying,this)}getLicenseServerUrl(e){const{drmSystems:r,widevineLicenseUrl:n}=this.config,i=r?.[e];if(i)return i.licenseUrl;if(e===dc.WIDEVINE&&n)return n}getLicenseServerUrlOrThrow(e){const r=this.getLicenseServerUrl(e);if(r===void 0)throw new Error(`no license server URL configured for key-system "${e}"`);return r}getServerCertificateUrl(e){const{drmSystems:r}=this.config,n=r?.[e];if(n)return n.serverCertificateUrl;this.log(`No Server Certificate in config.drmSystems["${e}"]`)}attemptKeySystemAccess(e){const r=this.hls.levels,n=(a,c,u)=>!!a&&u.indexOf(a)===c,i=r.map(a=>a.audioCodec).filter(n),s=r.map(a=>a.videoCodec).filter(n);return i.length+s.length===0&&s.push("avc1.42e01e"),new Promise((a,c)=>{const u=l=>{const d=l.shift();this.getMediaKeysPromise(d,i,s).then(f=>a({keySystem:d,mediaKeys:f})).catch(f=>{l.length?u(l):f instanceof Xh?c(f):c(new Xh({type:Pi.KEY_SYSTEM_ERROR,details:gr.KEY_SYSTEM_NO_ACCESS,error:f,fatal:!0},f.message))})};u(e)})}requestMediaKeySystemAccess(e,r){const{requestMediaKeySystemAccessFunc:n}=this.config;if(typeof n!="function"){let i=`Configured requestMediaKeySystemAccess is not a function ${n}`;return tie===null&&self.location.protocol==="http:"&&(i=`navigator.requestMediaKeySystemAccess is not available over insecure protocol ${location.protocol}`),Promise.reject(new Error(i))}return n(e,r)}getMediaKeysPromise(e,r,n){var i;const s=V8e(e,r,n,this.config.drmSystemOptions||{});let a=this.keySystemAccessPromises[e],c=(i=a)==null?void 0:i.keySystemAccess;if(!c){this.log(`Requesting encrypted media "${e}" key-system access with config: ${fl(s)}`),c=this.requestMediaKeySystemAccess(e,s);const u=a=this.keySystemAccessPromises[e]={keySystemAccess:c};return c.catch(l=>{this.log(`Failed to obtain access to key-system "${e}": ${l}`)}),c.then(l=>{this.log(`Access for key-system "${l.keySystem}" obtained`);const d=this.fetchServerCertificate(e);this.log(`Create media-keys for "${e}"`);const f=u.mediaKeys=l.createMediaKeys().then(A=>(this.log(`Media-keys created for "${e}"`),u.hasMediaKeys=!0,d.then(p=>p?this.setMediaKeysServerCertificate(A,e,p):A)));return f.catch(A=>{this.error(`Failed to create media-keys for "${e}"}: ${A}`)}),f})}return c.then(()=>a.mediaKeys)}createMediaKeySessionContext({decryptdata:e,keySystem:r,mediaKeys:n}){this.log(`Creating key-system session "${r}" keyId: ${Md(e.keyId||[])} keyUri: ${e.uri}`);const i=n.createSession(),s={decryptdata:e,keySystem:r,mediaKeys:n,mediaKeysSession:i,keyStatus:"status-pending"};return this.mediaKeySessions.push(s),s}renewKeySession(e){const r=e.decryptdata;if(r.pssh){const n=this.createMediaKeySessionContext(e),i=J2(r),s="cenc";this.keyIdToKeySessionPromise[i]=this.generateRequestWithPreferredKeySession(n,s,r.pssh.buffer,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(e)}updateKeySession(e,r){const n=e.mediaKeysSession;return this.log(`Updating key-session "${n.sessionId}" for keyId ${Md(e.decryptdata.keyId||[])}
      } (data length: ${r.byteLength})`),n.update(r)}getSelectedKeySystemFormats(){return Object.keys(this.keySystemAccessPromises).map(e=>({keySystem:e,hasMediaKeys:this.keySystemAccessPromises[e].hasMediaKeys})).filter(({hasMediaKeys:e})=>!!e).map(({keySystem:e})=>iB(e)).filter(e=>!!e)}getKeySystemAccess(e){return this.getKeySystemSelectionPromise(e).then(({keySystem:r,mediaKeys:n})=>this.attemptSetMediaKeys(r,n))}selectKeySystem(e){return new Promise((r,n)=>{this.getKeySystemSelectionPromise(e).then(({keySystem:i})=>{const s=iB(i);s?r(s):n(new Error(`Unable to find format for key-system "${i}"`))}).catch(n)})}selectKeySystemFormat(e){const r=Object.keys(e.levelkeys||{});return this.keyFormatPromise||(this.log(`Selecting key-system from fragment (sn: ${e.sn} ${e.type}: ${e.level}) key formats ${r.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(r)),this.keyFormatPromise}getKeyFormatPromise(e){const r=aw(this.config),n=e.map(HS).filter(i=>!!i&&r.indexOf(i)!==-1);return this.selectKeySystem(n)}getKeyStatus(e){const{mediaKeySessions:r}=this;for(let n=0;n<r.length;n++){const i=d9e(e,r[n]);if(i)return i}}loadKey(e){const r=e.keyInfo.decryptdata,n=J2(r),i=this.bannedKeyIds[n];if(i||this.getKeyStatus(r)==="internal-error"){const c=HK(i||"internal-error",r);return this.handleError(c,e.frag),Promise.reject(c)}const s=`(keyId: ${n} format: "${r.keyFormat}" method: ${r.method} uri: ${r.uri})`;this.log(`Starting session for key ${s}`);const a=this.keyIdToKeySessionPromise[n];if(!a){const c=this.getKeySystemForKeyPromise(r).then(({keySystem:u,mediaKeys:l})=>(this.throwIfDestroyed(),this.log(`Handle encrypted media sn: ${e.frag.sn} ${e.frag.type}: ${e.frag.level} using key ${s}`),this.attemptSetMediaKeys(u,l).then(()=>(this.throwIfDestroyed(),this.createMediaKeySessionContext({keySystem:u,mediaKeys:l,decryptdata:r}))))).then(u=>{const l="cenc",d=r.pssh?r.pssh.buffer:null;return this.generateRequestWithPreferredKeySession(u,l,d,"playlist-key")});return c.catch(u=>this.handleError(u,e.frag)),this.keyIdToKeySessionPromise[n]=c,c}return a.catch(c=>{if(c instanceof Xh){const u=Fo({},c.data);this.getKeyStatus(r)==="internal-error"&&(u.decryptdata=r);const l=new Xh(u,c.message);this.handleError(l,e.frag)}}),a}throwIfDestroyed(e="Invalid state"){if(!this.hls)throw new Error("invalid state")}handleError(e,r){if(this.hls)if(e instanceof Xh){r&&(e.data.frag=r);const n=e.data.decryptdata;this.error(`${e.message}${n?` (${Md(n.keyId||[])})`:""}`),this.hls.trigger(Ie.ERROR,e.data)}else this.error(e.message),this.hls.trigger(Ie.ERROR,{type:Pi.KEY_SYSTEM_ERROR,details:gr.KEY_SYSTEM_NO_KEYS,error:e,fatal:!0})}getKeySystemForKeyPromise(e){const r=J2(e),n=this.keyIdToKeySessionPromise[r];if(!n){const i=HS(e.keyFormat),s=i?[i]:aw(this.config);return this.attemptKeySystemAccess(s)}return n}getKeySystemSelectionPromise(e){if(e.length||(e=aw(this.config)),e.length===0)throw new Xh({type:Pi.KEY_SYSTEM_ERROR,details:gr.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},`Missing key-system license configuration options ${fl({drmSystems:this.config.drmSystems})}`);return this.attemptKeySystemAccess(e)}attemptSetMediaKeys(e,r){if(this.mediaResolved=void 0,this.mediaKeys===r)return Promise.resolve();const n=this.setMediaKeysQueue.slice();this.log(`Setting media-keys for "${e}"`);const i=Promise.all(n).then(()=>this.media?this.media.setMediaKeys(r):new Promise((s,a)=>{this.mediaResolved=()=>{if(this.mediaResolved=void 0,!this.media)return a(new Error("Attempted to set mediaKeys without media element attached"));this.mediaKeys=r,this.media.setMediaKeys(r).then(s).catch(a)}}));return this.mediaKeys=r,this.setMediaKeysQueue.push(i),i.then(()=>{this.log(`Media-keys set for "${e}"`),n.push(i),this.setMediaKeysQueue=this.setMediaKeysQueue.filter(s=>n.indexOf(s)===-1)})}generateRequestWithPreferredKeySession(e,r,n,i){var s;const a=(s=this.config.drmSystems)==null||(s=s[e.keySystem])==null?void 0:s.generateRequest;if(a)try{const v=a.call(this.hls,r,n,e);if(!v)throw new Error("Invalid response from configured generateRequest filter");r=v.initDataType,n=v.initData?v.initData:null,e.decryptdata.pssh=n?new Uint8Array(n):null}catch(v){if(this.warn(v.message),this.hls&&this.hls.config.debug)throw v}if(n===null)return this.log(`Skipping key-session request for "${i}" (no initData)`),Promise.resolve(e);const c=J2(e.decryptdata),u=e.decryptdata.uri;this.log(`Generating key-session request for "${i}" keyId: ${c} URI: ${u} (init data type: ${r} length: ${n.byteLength})`);const l=new aF,d=e._onmessage=v=>{const y=e.mediaKeysSession;if(!y){l.emit("error",new Error("invalid state"));return}const{messageType:x,message:w}=v;this.log(`"${x}" message event for session "${y.sessionId}" message size: ${w.byteLength}`),x==="license-request"||x==="license-renewal"?this.renewLicense(e,w).catch(E=>{l.eventNames().length?l.emit("error",E):this.handleError(E)}):x==="license-release"?e.keySystem===dc.FAIRPLAY&&this.updateKeySession(e,zO("acknowledged")).then(()=>this.removeSession(e)).catch(E=>this.handleError(E)):this.warn(`unhandled media key message type "${x}"`)},f=(v,y)=>{y.keyStatus=v;let x;v.startsWith("usable")?l.emit("resolved"):v==="internal-error"||v==="output-restricted"||v==="output-downscaled"?x=HK(v,y.decryptdata):v==="expired"?x=new Error(`key expired (keyId: ${c})`):v==="released"?x=new Error("key released"):v==="status-pending"||this.warn(`unhandled key status change "${v}" (keyId: ${c})`),x&&(l.eventNames().length?l.emit("error",x):this.handleError(x))},A=e._onkeystatuseschange=v=>{if(!e.mediaKeysSession){l.emit("error",new Error("invalid state"));return}const x=this.getKeyStatuses(e);if(!Object.keys(x).some(C=>x[C]!=="status-pending"))return;if(x[c]==="expired"){this.log(`Expired key ${fl(x)} in key-session "${e.mediaKeysSession.sessionId}"`),this.renewKeySession(e);return}let E=x[c];if(E)f(E,e);else{var T;e.keyStatusTimeouts||(e.keyStatusTimeouts={}),(T=e.keyStatusTimeouts)[c]||(T[c]=self.setTimeout(()=>{if(!e.mediaKeysSession||!this.mediaKeys)return;const j=this.getKeyStatus(e.decryptdata);if(j&&j!=="status-pending")return this.log(`No status for keyId ${c} in key-session "${e.mediaKeysSession.sessionId}". Using session key-status ${j} from other session.`),f(j,e);this.log(`key status for ${c} in key-session "${e.mediaKeysSession.sessionId}" timed out after 1000ms`),E="internal-error",f(E,e)},1e3)),this.log(`No status for keyId ${c} (${fl(x)}).`)}};mh(e.mediaKeysSession,"message",d),mh(e.mediaKeysSession,"keystatuseschange",A);const p=new Promise((v,y)=>{l.on("error",y),l.on("resolved",v)});return e.mediaKeysSession.generateRequest(r,n).then(()=>{this.log(`Request generated for key-session "${e.mediaKeysSession.sessionId}" keyId: ${c} URI: ${u}`)}).catch(v=>{throw new Xh({type:Pi.KEY_SYSTEM_ERROR,details:gr.KEY_SYSTEM_NO_SESSION,error:v,decryptdata:e.decryptdata,fatal:!1},`Error generating key-session request: ${v}`)}).then(()=>p).catch(v=>(l.removeAllListeners(),this.removeSession(e).then(()=>{throw v}))).then(()=>(l.removeAllListeners(),e))}getKeyStatuses(e){const r={};return e.mediaKeysSession.keyStatuses.forEach((n,i)=>{if(typeof i=="string"&&typeof n=="object"){const c=i;i=n,n=c}const s="buffer"in i?new Uint8Array(i.buffer,i.byteOffset,i.byteLength):new Uint8Array(i);if(e.keySystem===dc.PLAYREADY&&s.length===16){const c=Md(s);r[c]=n,Jne(s)}const a=Md(s);n==="internal-error"&&(this.bannedKeyIds[a]=n),this.log(`key status change "${n}" for keyStatuses keyId: ${a} key-session "${e.mediaKeysSession.sessionId}"`),r[a]=n}),r}fetchServerCertificate(e){const r=this.config,n=r.loader,i=new n(r),s=this.getServerCertificateUrl(e);return s?(this.log(`Fetching server certificate for "${e}"`),new Promise((a,c)=>{const u={responseType:"arraybuffer",url:s},l=r.certLoadPolicy.default,d={loadPolicy:l,timeout:l.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},f={onSuccess:(A,p,v,y)=>{a(A.data)},onError:(A,p,v,y)=>{c(new Xh({type:Pi.KEY_SYSTEM_ERROR,details:gr.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:v,response:Fo({url:u.url,data:void 0},A)},`"${e}" certificate request failed (${s}). Status: ${A.code} (${A.text})`))},onTimeout:(A,p,v)=>{c(new Xh({type:Pi.KEY_SYSTEM_ERROR,details:gr.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:v,response:{url:u.url,data:void 0}},`"${e}" certificate request timed out (${s})`))},onAbort:(A,p,v)=>{c(new Error("aborted"))}};i.load(u,d,f)})):Promise.resolve()}setMediaKeysServerCertificate(e,r,n){return new Promise((i,s)=>{e.setServerCertificate(n).then(a=>{this.log(`setServerCertificate ${a?"success":"not supported by CDM"} (${n.byteLength}) on "${r}"`),i(e)}).catch(a=>{s(new Xh({type:Pi.KEY_SYSTEM_ERROR,details:gr.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:a,fatal:!0},a.message))})})}renewLicense(e,r){return this.requestLicense(e,new Uint8Array(r)).then(n=>this.updateKeySession(e,new Uint8Array(n)).catch(i=>{throw new Xh({type:Pi.KEY_SYSTEM_ERROR,details:gr.KEY_SYSTEM_SESSION_UPDATE_FAILED,decryptdata:e.decryptdata,error:i,fatal:!1},i.message)}))}unpackPlayReadyKeyMessage(e,r){const n=String.fromCharCode.apply(null,new Uint16Array(r.buffer));if(!n.includes("PlayReadyKeyMessage"))return e.setRequestHeader("Content-Type","text/xml; charset=utf-8"),r;const i=new DOMParser().parseFromString(n,"application/xml"),s=i.querySelectorAll("HttpHeader");if(s.length>0){let d;for(let f=0,A=s.length;f<A;f++){var a,c;d=s[f];const p=(a=d.querySelector("name"))==null?void 0:a.textContent,v=(c=d.querySelector("value"))==null?void 0:c.textContent;p&&v&&e.setRequestHeader(p,v)}}const u=i.querySelector("Challenge"),l=u?.textContent;if(!l)throw new Error("Cannot find <Challenge> in key message");return zO(atob(l))}setupLicenseXHR(e,r,n,i){const s=this.config.licenseXhrSetup;return s?Promise.resolve().then(()=>{if(!n.decryptdata)throw new Error("Key removed");return s.call(this.hls,e,r,n,i)}).catch(a=>{if(!n.decryptdata)throw a;return e.open("POST",r,!0),s.call(this.hls,e,r,n,i)}).then(a=>(e.readyState||e.open("POST",r,!0),{xhr:e,licenseChallenge:a||i})):(e.open("POST",r,!0),Promise.resolve({xhr:e,licenseChallenge:i}))}requestLicense(e,r){const n=this.config.keyLoadPolicy.default;return new Promise((i,s)=>{const a=this.getLicenseServerUrlOrThrow(e.keySystem);this.log(`Sending license request to URL: ${a}`);const c=new XMLHttpRequest;c.responseType="arraybuffer",c.onreadystatechange=()=>{if(!this.hls||!e.mediaKeysSession)return s(new Error("invalid state"));if(c.readyState===4)if(c.status===200){this._requestLicenseFailureCount=0;let u=c.response;this.log(`License received ${u instanceof ArrayBuffer?u.byteLength:u}`);const l=this.config.licenseResponseCallback;if(l)try{u=l.call(this.hls,c,a,e)}catch(d){this.error(d)}i(u)}else{const u=n.errorRetry,l=u?u.maxNumRetry:0;if(this._requestLicenseFailureCount++,this._requestLicenseFailureCount>l||c.status>=400&&c.status<500)s(new Xh({type:Pi.KEY_SYSTEM_ERROR,details:gr.KEY_SYSTEM_LICENSE_REQUEST_FAILED,decryptdata:e.decryptdata,fatal:!0,networkDetails:c,response:{url:a,data:void 0,code:c.status,text:c.statusText}},`License Request XHR failed (${a}). Status: ${c.status} (${c.statusText})`));else{const d=l-this._requestLicenseFailureCount+1;this.warn(`Retrying license request, ${d} attempts left`),this.requestLicense(e,r).then(i,s)}}},e.licenseXhr&&e.licenseXhr.readyState!==XMLHttpRequest.DONE&&e.licenseXhr.abort(),e.licenseXhr=c,this.setupLicenseXHR(c,a,e,r).then(({xhr:u,licenseChallenge:l})=>{e.keySystem==dc.PLAYREADY&&(l=this.unpackPlayReadyKeyMessage(u,l)),u.send(l)}).catch(s)})}onDestroying(){this.unregisterListeners(),this._clear()}onMediaAttached(e,r){if(!this.config.emeEnabled)return;const n=r.media;this.media=n,mh(n,"encrypted",this.onMediaEncrypted),mh(n,"waitingforkey",this.onWaitingForKey);const i=this.mediaResolved;i?i():this.mediaKeys=n.mediaKeys}onMediaDetached(){const e=this.media;e&&(Ph(e,"encrypted",this.onMediaEncrypted),Ph(e,"waitingforkey",this.onWaitingForKey),this.media=null,this.mediaKeys=null)}_clear(){var e;this._requestLicenseFailureCount=0,this.keyIdToKeySessionPromise={},this.bannedKeyIds={};const r=this.mediaResolved;if(r&&r(),!this.mediaKeys&&!this.mediaKeySessions.length)return;const n=this.media,i=this.mediaKeySessions.slice();this.mediaKeySessions=[],this.mediaKeys=null,x0.clearKeyUriToKeyIdMap();const s=i.length;ab.CDMCleanupPromise=Promise.all(i.map(a=>this.removeSession(a)).concat((n==null||(e=n.setMediaKeys(null))==null?void 0:e.catch(a=>{this.log(`Could not clear media keys: ${a}`),this.hls&&this.hls.trigger(Ie.ERROR,{type:Pi.OTHER_ERROR,details:gr.KEY_SYSTEM_DESTROY_MEDIA_KEYS_ERROR,fatal:!1,error:new Error(`Could not clear media keys: ${a}`)})}))||Promise.resolve())).catch(a=>{this.log(`Could not close sessions and clear media keys: ${a}`),this.hls&&this.hls.trigger(Ie.ERROR,{type:Pi.OTHER_ERROR,details:gr.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR,fatal:!1,error:new Error(`Could not close sessions and clear media keys: ${a}`)})}).then(()=>{s&&this.log("finished closing key sessions and clearing media keys")})}onManifestLoading(){this._clear()}onManifestLoaded(e,{sessionKeys:r}){if(!(!r||!this.config.emeEnabled)&&!this.keyFormatPromise){const n=r.reduce((i,s)=>(i.indexOf(s.keyFormat)===-1&&i.push(s.keyFormat),i),[]);this.log(`Selecting key-system from session-keys ${n.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(n)}}removeSession(e){const{mediaKeysSession:r,licenseXhr:n,decryptdata:i}=e;if(r){this.log(`Remove licenses and keys and close session "${r.sessionId}" keyId: ${Md(i?.keyId||[])}`),e._onmessage&&(r.removeEventListener("message",e._onmessage),e._onmessage=void 0),e._onkeystatuseschange&&(r.removeEventListener("keystatuseschange",e._onkeystatuseschange),e._onkeystatuseschange=void 0),n&&n.readyState!==XMLHttpRequest.DONE&&n.abort(),e.mediaKeysSession=e.decryptdata=e.licenseXhr=void 0;const s=this.mediaKeySessions.indexOf(e);s>-1&&this.mediaKeySessions.splice(s,1);const{keyStatusTimeouts:a}=e;a&&Object.keys(a).forEach(l=>self.clearTimeout(a[l]));const{drmSystemOptions:c}=this.config;return(K8e(c)?new Promise((l,d)=>{self.setTimeout(()=>d(new Error("MediaKeySession.remove() timeout")),8e3),r.remove().then(l).catch(d)}):Promise.resolve()).catch(l=>{this.log(`Could not remove session: ${l}`),this.hls&&this.hls.trigger(Ie.ERROR,{type:Pi.OTHER_ERROR,details:gr.KEY_SYSTEM_DESTROY_REMOVE_SESSION_ERROR,fatal:!1,error:new Error(`Could not remove session: ${l}`)})}).then(()=>r.close()).catch(l=>{this.log(`Could not close session: ${l}`),this.hls&&this.hls.trigger(Ie.ERROR,{type:Pi.OTHER_ERROR,details:gr.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR,fatal:!1,error:new Error(`Could not close session: ${l}`)})})}return Promise.resolve()}}ab.CDMCleanupPromise=void 0;function J2(t){if(!t)throw new Error("Could not read keyId of undefined decryptdata");if(t.keyId===null)throw new Error("keyId is null");return Md(t.keyId)}function d9e(t,e){if(t.keyId&&e.mediaKeysSession.keyStatuses.has(t.keyId))return e.mediaKeysSession.keyStatuses.get(t.keyId);if(t.matches(e.decryptdata))return e.keyStatus}class Xh extends Error{constructor(e,r){super(r),this.data=void 0,e.error||(e.error=new Error(r)),this.data=e,e.err=e.error}}function HK(t,e){const r=t==="output-restricted",n=r?gr.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:gr.KEY_SYSTEM_STATUS_INTERNAL_ERROR;return new Xh({type:Pi.KEY_SYSTEM_ERROR,details:n,fatal:!1,decryptdata:e},r?"HDCP level output restricted":`key status changed to "${t}"`)}class h9e{constructor(e){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=e,this.registerListeners()}setStreamController(e){this.streamController=e}registerListeners(){this.hls.on(Ie.MEDIA_ATTACHING,this.onMediaAttaching,this),this.hls.on(Ie.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListeners(){this.hls.off(Ie.MEDIA_ATTACHING,this.onMediaAttaching,this),this.hls.off(Ie.MEDIA_DETACHING,this.onMediaDetaching,this)}destroy(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null}onMediaAttaching(e,r){const n=this.hls.config;if(n.capLevelOnFPSDrop){const i=r.media instanceof self.HTMLVideoElement?r.media:null;this.media=i,i&&typeof i.getVideoPlaybackQuality=="function"&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),n.fpsDroppedMonitoringPeriod)}}onMediaDetaching(){this.media=null}checkFPS(e,r,n){const i=performance.now();if(r){if(this.lastTime){const s=i-this.lastTime,a=n-this.lastDroppedFrames,c=r-this.lastDecodedFrames,u=1e3*a/s,l=this.hls;if(l.trigger(Ie.FPS_DROP,{currentDropped:a,currentDecoded:c,totalDroppedFrames:n}),u>0&&a>l.config.fpsDroppedMonitoringThreshold*c){let d=l.currentLevel;l.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+d),d>0&&(l.autoLevelCapping===-1||l.autoLevelCapping>=d)&&(d=d-1,l.trigger(Ie.FPS_DROP_LEVEL_CAPPING,{level:d,droppedLevel:l.currentLevel}),l.autoLevelCapping=d,this.streamController.nextLevelSwitch())}}this.lastTime=i,this.lastDroppedFrames=n,this.lastDecodedFrames=r}}checkFPSInterval(){const e=this.media;if(e)if(this.isVideoPlaybackQualityAvailable){const r=e.getVideoPlaybackQuality();this.checkFPS(e,r.totalVideoFrames,r.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)}}function zie(t,e){let r;try{r=new Event("addtrack")}catch{r=document.createEvent("Event"),r.initEvent("addtrack",!1,!1)}r.track=t,e.dispatchEvent(r)}function Kie(t,e){const r=t.mode;if(r==="disabled"&&(t.mode="hidden"),t.cues&&!t.cues.getCueById(e.id))try{if(t.addCue(e),!t.cues.getCueById(e.id))throw new Error(`addCue is failed for: ${e}`)}catch(n){$o.debug(`[texttrack-utils]: ${n}`);try{const i=new self.TextTrackCue(e.startTime,e.endTime,e.text);i.id=e.id,t.addCue(i)}catch(i){$o.debug(`[texttrack-utils]: Legacy TextTrackCue fallback failed: ${i}`)}}r==="disabled"&&(t.mode=r)}function Gx(t,e){const r=t.mode;if(r==="disabled"&&(t.mode="hidden"),t.cues)for(let n=t.cues.length;n--;)e&&t.cues[n].removeEventListener("enter",e),t.removeCue(t.cues[n]);r==="disabled"&&(t.mode=r)}function eP(t,e,r,n){const i=t.mode;if(i==="disabled"&&(t.mode="hidden"),t.cues&&t.cues.length>0){const s=A9e(t.cues,e,r);for(let a=0;a<s.length;a++)(!n||n(s[a]))&&t.removeCue(s[a])}i==="disabled"&&(t.mode=i)}function f9e(t,e){if(e<=t[0].startTime)return 0;const r=t.length-1;if(e>t[r].endTime)return-1;let n=0,i=r,s;for(;n<=i;)if(s=Math.floor((i+n)/2),e<t[s].startTime)i=s-1;else if(e>t[s].startTime&&n<r)n=s+1;else return s;return t[n].startTime-e<e-t[i].startTime?n:i}function A9e(t,e,r){const n=[],i=f9e(t,e);if(i>-1)for(let s=i,a=t.length;s<a;s++){const c=t[s];if(c.startTime>=e&&c.endTime<=r)n.push(c);else if(c.startTime>r)return n}return n}function KS(t){const e=[];for(let r=0;r<t.length;r++){const n=t[r];(n.kind==="subtitles"||n.kind==="captions")&&n.label&&e.push(t[r])}return e}class m9e extends fF{constructor(e){super(e,"subtitle-track-controller"),this.media=null,this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.queuedDefaultTrack=-1,this.useTextTrackPolling=!1,this.subtitlePollingInterval=-1,this._subtitleDisplay=!0,this.asyncPollTrackChange=()=>this.pollTrackChange(0),this.onTextTracksChanged=()=>{if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),!this.media||!this.hls.config.renderTextTracksNatively)return;let r=null;const n=KS(this.media.textTracks);for(let s=0;s<n.length;s++)if(n[s].mode==="hidden")r=n[s];else if(n[s].mode==="showing"){r=n[s];break}const i=this.findTrackForTextTrack(r);this.subtitleTrack!==i&&this.setSubtitleTrack(i)},this.registerListeners()}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,this.onTextTracksChanged=this.asyncPollTrackChange=null,super.destroy()}get subtitleDisplay(){return this._subtitleDisplay}set subtitleDisplay(e){this._subtitleDisplay=e,this.trackId>-1&&this.toggleTrackModes()}registerListeners(){const{hls:e}=this;e.on(Ie.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(Ie.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(Ie.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Ie.MANIFEST_PARSED,this.onManifestParsed,this),e.on(Ie.LEVEL_LOADING,this.onLevelLoading,this),e.on(Ie.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(Ie.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(Ie.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(Ie.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(Ie.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(Ie.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Ie.MANIFEST_PARSED,this.onManifestParsed,this),e.off(Ie.LEVEL_LOADING,this.onLevelLoading,this),e.off(Ie.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(Ie.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(Ie.ERROR,this.onError,this)}onMediaAttached(e,r){this.media=r.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))}pollTrackChange(e){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.onTextTracksChanged,e)}onMediaDetaching(e,r){const n=this.media;if(!n)return;const i=!!r.transferMedia;if(self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||n.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),this.subtitleTrack=-1,this.media=null,i)return;KS(n.textTracks).forEach(a=>{Gx(a)})}onManifestLoading(){this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0}onManifestParsed(e,r){this.tracks=r.subtitleTracks}onSubtitleTrackLoaded(e,r){const{id:n,groupId:i,details:s}=r,a=this.tracksInGroup[n];if(!a||a.groupId!==i){this.warn(`Subtitle track with id:${n} and group:${i} not found in active group ${a?.groupId}`);return}const c=a.details;a.details=r.details,this.log(`Subtitle track ${n} "${a.name}" lang:${a.lang} group:${i} loaded [${s.startSN}-${s.endSN}]`),n===this.trackId&&this.playlistLoaded(n,r,c)}onLevelLoading(e,r){this.switchLevel(r.level)}onLevelSwitching(e,r){this.switchLevel(r.level)}switchLevel(e){const r=this.hls.levels[e];if(!r)return;const n=r.subtitleGroups||null,i=this.groupIds;let s=this.currentTrack;if(!n||i?.length!==n?.length||n!=null&&n.some(a=>i?.indexOf(a)===-1)){this.groupIds=n,this.trackId=-1,this.currentTrack=null;const a=this.tracks.filter(d=>!n||n.indexOf(d.groupId)!==-1);if(a.length)this.selectDefaultTrack&&!a.some(d=>d.default)&&(this.selectDefaultTrack=!1),a.forEach((d,f)=>{d.id=f});else if(!s&&!this.tracksInGroup.length)return;this.tracksInGroup=a;const c=this.hls.config.subtitlePreference;if(!s&&c){this.selectDefaultTrack=!1;const d=Tm(c,a);if(d>-1)s=a[d];else{const f=Tm(c,this.tracks);s=this.tracks[f]}}let u=this.findTrackId(s);u===-1&&s&&(u=this.findTrackId(null));const l={subtitleTracks:a};this.log(`Updating subtitle tracks, ${a.length} track(s) found in "${n?.join(",")}" group-id`),this.hls.trigger(Ie.SUBTITLE_TRACKS_UPDATED,l),u!==-1&&this.trackId===-1&&this.setSubtitleTrack(u)}}findTrackId(e){const r=this.tracksInGroup,n=this.selectDefaultTrack;for(let i=0;i<r.length;i++){const s=r[i];if(!(n&&!s.default||!n&&!e)&&(!e||Hv(s,e)))return i}if(e){for(let i=0;i<r.length;i++){const s=r[i];if($E(e.attrs,s.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return i}for(let i=0;i<r.length;i++){const s=r[i];if($E(e.attrs,s.attrs,["LANGUAGE"]))return i}}return-1}findTrackForTextTrack(e){if(e){const r=this.tracksInGroup;for(let n=0;n<r.length;n++){const i=r[n];if(qO(i,e))return n}}return-1}onError(e,r){r.fatal||!r.context||r.context.type===xa.SUBTITLE_TRACK&&r.context.id===this.trackId&&(!this.groupIds||this.groupIds.indexOf(r.context.groupId)!==-1)&&this.checkRetry(r)}get allSubtitleTracks(){return this.tracks}get subtitleTracks(){return this.tracksInGroup}get subtitleTrack(){return this.trackId}set subtitleTrack(e){this.selectDefaultTrack=!1,this.setSubtitleTrack(e)}setSubtitleOption(e){if(this.hls.config.subtitlePreference=e,e){if(e.id===-1)return this.setSubtitleTrack(-1),null;const r=this.allSubtitleTracks;if(this.selectDefaultTrack=!1,r.length){const n=this.currentTrack;if(n&&Hv(e,n))return n;const i=Tm(e,this.tracksInGroup);if(i>-1){const s=this.tracksInGroup[i];return this.setSubtitleTrack(i),s}else{if(n)return null;{const s=Tm(e,r);if(s>-1)return r[s]}}}}return null}loadPlaylist(e){super.loadPlaylist(),this.shouldLoadPlaylist(this.currentTrack)&&this.scheduleLoading(this.currentTrack,e)}loadingPlaylist(e,r){super.loadingPlaylist(e,r);const n=e.id,i=e.groupId,s=this.getUrlWithDirectives(e.url,r),a=e.details,c=a?.age;this.log(`Loading subtitle ${n} "${e.name}" lang:${e.lang} group:${i}${r?.msn!==void 0?" at sn "+r.msn+" part "+r.part:""}${c&&a.live?" age "+c.toFixed(1)+(a.type&&" "+a.type||""):""} ${s}`),this.hls.trigger(Ie.SUBTITLE_TRACK_LOADING,{url:s,id:n,groupId:i,deliveryDirectives:r||null,track:e})}toggleTrackModes(){const{media:e}=this;if(!e)return;const r=KS(e.textTracks),n=this.currentTrack;let i;if(n&&(i=r.filter(s=>qO(n,s))[0],i||this.warn(`Unable to find subtitle TextTrack with name "${n.name}" and language "${n.lang}"`)),[].slice.call(r).forEach(s=>{s.mode!=="disabled"&&s!==i&&(s.mode="disabled")}),i){const s=this.subtitleDisplay?"showing":"hidden";i.mode!==s&&(i.mode=s)}}setSubtitleTrack(e){const r=this.tracksInGroup;if(!this.media){this.queuedDefaultTrack=e;return}if(e<-1||e>=r.length||!qn(e)){this.warn(`Invalid subtitle track id: ${e}`);return}this.selectDefaultTrack=!1;const n=this.currentTrack,i=r[e]||null;if(this.trackId=e,this.currentTrack=i,this.toggleTrackModes(),!i){this.hls.trigger(Ie.SUBTITLE_TRACK_SWITCH,{id:e});return}const s=!!i.details&&!i.details.live;if(e===this.trackId&&i===n&&s)return;this.log(`Switching to subtitle-track ${e}`+(i?` "${i.name}" lang:${i.lang} group:${i.groupId}`:""));const{id:a,groupId:c="",name:u,type:l,url:d}=i;this.hls.trigger(Ie.SUBTITLE_TRACK_SWITCH,{id:a,groupId:c,name:u,type:l,url:d});const f=this.switchParams(i.url,n?.details,i.details);this.loadPlaylist(f)}}function p9e(){try{return crypto.randomUUID()}catch{try{const e=URL.createObjectURL(new Blob),r=e.toString();return URL.revokeObjectURL(e),r.slice(r.lastIndexOf("/")+1)}catch{let r=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,i=>{const s=(r+Math.random()*16)%16|0;return r=Math.floor(r/16),(i=="x"?s:s&3|8).toString(16)})}}}function Gw(t){let e=5381,r=t.length;for(;r;)e=e*33^t.charCodeAt(--r);return(e>>>0).toString()}const ob=.025;let Dj=(function(t){return t[t.Point=0]="Point",t[t.Range=1]="Range",t})({});function g9e(t,e,r){return`${t.identifier}-${r+1}-${Gw(e)}`}class v9e{constructor(e,r){this.base=void 0,this._duration=null,this._timelineStart=null,this.appendInPlaceDisabled=void 0,this.appendInPlaceStarted=void 0,this.dateRange=void 0,this.hasPlayed=!1,this.cumulativeDuration=0,this.resumeOffset=NaN,this.playoutLimit=NaN,this.restrictions={skip:!1,jump:!1},this.snapOptions={out:!1,in:!1},this.assetList=[],this.assetListLoader=void 0,this.assetListResponse=null,this.resumeAnchor=void 0,this.error=void 0,this.resetOnResume=void 0,this.base=r,this.dateRange=e,this.setDateRange(e)}setDateRange(e){this.dateRange=e,this.resumeOffset=e.attr.optionalFloat("X-RESUME-OFFSET",this.resumeOffset),this.playoutLimit=e.attr.optionalFloat("X-PLAYOUT-LIMIT",this.playoutLimit),this.restrictions=e.attr.enumeratedStringList("X-RESTRICT",this.restrictions),this.snapOptions=e.attr.enumeratedStringList("X-SNAP",this.snapOptions)}reset(){var e;this.appendInPlaceStarted=!1,(e=this.assetListLoader)==null||e.destroy(),this.assetListLoader=void 0,this.supplementsPrimary||(this.assetListResponse=null,this.assetList=[],this._duration=null)}isAssetPastPlayoutLimit(e){var r;if(e>0&&e>=this.assetList.length)return!0;const n=this.playoutLimit;return e<=0||isNaN(n)?!1:n===0?!0:(((r=this.assetList[e])==null?void 0:r.startOffset)||0)>n}findAssetIndex(e){return this.assetList.indexOf(e)}get identifier(){return this.dateRange.id}get startDate(){return this.dateRange.startDate}get startTime(){const e=this.dateRange.startTime;if(this.snapOptions.out){const r=this.dateRange.tagAnchor;if(r)return fB(e,r)}return e}get startOffset(){return this.cue.pre?0:this.startTime}get startIsAligned(){if(this.startTime===0||this.snapOptions.out)return!0;const e=this.dateRange.tagAnchor;if(e){const r=this.dateRange.startTime,n=fB(r,e);return r-n<.1}return!1}get resumptionOffset(){const e=this.resumeOffset,r=qn(e)?e:this.duration;return this.cumulativeDuration+r}get resumeTime(){const e=this.startOffset+this.resumptionOffset;if(this.snapOptions.in){const r=this.resumeAnchor;if(r)return fB(e,r)}return e}get appendInPlace(){return this.appendInPlaceStarted?!0:this.appendInPlaceDisabled?!1:!!(!this.cue.once&&!this.cue.pre&&this.startIsAligned&&(isNaN(this.playoutLimit)&&isNaN(this.resumeOffset)||this.resumeOffset&&this.duration&&Math.abs(this.resumeOffset-this.duration)<ob))}set appendInPlace(e){if(this.appendInPlaceStarted){this.resetOnResume=!e;return}this.appendInPlaceDisabled=!e}get timelineStart(){return this._timelineStart!==null?this._timelineStart:this.startTime}set timelineStart(e){this._timelineStart=e}get duration(){const e=this.playoutLimit;let r;return this._duration!==null?r=this._duration:this.dateRange.duration?r=this.dateRange.duration:r=this.dateRange.plannedDuration||0,!isNaN(e)&&e<r&&(r=e),r}set duration(e){this._duration=e}get cue(){return this.dateRange.cue}get timelineOccupancy(){return this.dateRange.attr["X-TIMELINE-OCCUPIES"]==="RANGE"?Dj.Range:Dj.Point}get supplementsPrimary(){return this.dateRange.attr["X-TIMELINE-STYLE"]==="PRIMARY"}get contentMayVary(){return this.dateRange.attr["X-CONTENT-MAY-VARY"]!=="NO"}get assetUrl(){return this.dateRange.attr["X-ASSET-URI"]}get assetListUrl(){return this.dateRange.attr["X-ASSET-LIST"]}get baseUrl(){return this.base.url}get assetListLoaded(){return this.assetList.length>0||this.assetListResponse!==null}toString(){return y9e(this)}}function fB(t,e){return t-e.start<e.duration/2&&!(Math.abs(t-(e.start+e.duration))<ob)?e.start:e.start+e.duration}function Gie(t,e,r){const n=new self.URL(t,r);return n.protocol!=="data:"&&n.searchParams.set("_HLS_primary_id",e),n}function AB(t,e){for(;(r=t.assetList[++e])!=null&&r.error;)var r;return e}function y9e(t){return`["${t.identifier}" ${t.cue.pre?"<pre>":t.cue.post?"<post>":""}${t.timelineStart.toFixed(2)}-${t.resumeTime.toFixed(2)}]`}function fx(t){const e=t.timelineStart,r=t.duration||0;return`["${t.identifier}" ${e.toFixed(2)}-${(e+r).toFixed(2)}]`}class x9e{constructor(e,r,n,i){this.hls=void 0,this.interstitial=void 0,this.assetItem=void 0,this.tracks=null,this.hasDetails=!1,this.mediaAttached=null,this._currentTime=void 0,this._bufferedEosTime=void 0,this.checkPlayout=()=>{this.reachedPlayout(this.currentTime)&&this.hls&&this.hls.trigger(Ie.PLAYOUT_LIMIT_REACHED,{})};const s=this.hls=new e(r);this.interstitial=n,this.assetItem=i;const a=()=>{this.hasDetails=!0};s.once(Ie.LEVEL_LOADED,a),s.once(Ie.AUDIO_TRACK_LOADED,a),s.once(Ie.SUBTITLE_TRACK_LOADED,a),s.on(Ie.MEDIA_ATTACHING,(c,{media:u})=>{this.removeMediaListeners(),this.mediaAttached=u,this.interstitial.playoutLimit&&(u.addEventListener("timeupdate",this.checkPlayout),this.appendInPlace&&s.on(Ie.BUFFER_APPENDED,()=>{const d=this.bufferedEnd;this.reachedPlayout(d)&&(this._bufferedEosTime=d,s.trigger(Ie.BUFFERED_TO_END,void 0))}))})}get appendInPlace(){return this.interstitial.appendInPlace}loadSource(){const e=this.hls;if(e)if(e.url)e.levels.length&&!e.started&&e.startLoad(-1,!0);else{let r=this.assetItem.uri;try{r=Gie(r,e.config.primarySessionId||"").href}catch{}e.loadSource(r)}}bufferedInPlaceToEnd(e){var r;if(!this.appendInPlace)return!1;if((r=this.hls)!=null&&r.bufferedToEnd)return!0;if(!e)return!1;const n=Math.min(this._bufferedEosTime||1/0,this.duration),i=this.timelineOffset,s=Us.bufferInfo(e,i,0);return this.getAssetTime(s.end)>=n-.02}reachedPlayout(e){const n=this.interstitial.playoutLimit;return this.startOffset+e>=n}get destroyed(){var e;return!((e=this.hls)!=null&&e.userConfig)}get assetId(){return this.assetItem.identifier}get interstitialId(){return this.assetItem.parentIdentifier}get media(){var e;return((e=this.hls)==null?void 0:e.media)||null}get bufferedEnd(){const e=this.media||this.mediaAttached;if(!e)return this._bufferedEosTime?this._bufferedEosTime:this.currentTime;const r=Us.bufferInfo(e,e.currentTime,.001);return this.getAssetTime(r.end)}get currentTime(){const e=this.media||this.mediaAttached;return e?this.getAssetTime(e.currentTime):this._currentTime||0}get duration(){const e=this.assetItem.duration;if(!e)return 0;const r=this.interstitial.playoutLimit;if(r){const n=r-this.startOffset;if(n>0&&n<e)return n}return e}get remaining(){const e=this.duration;return e?Math.max(0,e-this.currentTime):0}get startOffset(){return this.assetItem.startOffset}get timelineOffset(){var e;return((e=this.hls)==null?void 0:e.config.timelineOffset)||0}set timelineOffset(e){const r=this.timelineOffset;if(e!==r){const n=e-r;if(Math.abs(n)>1/9e4&&this.hls){if(this.hasDetails)throw new Error("Cannot set timelineOffset after playlists are loaded");this.hls.config.timelineOffset=e}}}getAssetTime(e){const r=this.timelineOffset,n=this.duration;return Math.min(Math.max(0,e-r),n)}removeMediaListeners(){const e=this.mediaAttached;e&&(this._currentTime=e.currentTime,this.bufferSnapShot(),e.removeEventListener("timeupdate",this.checkPlayout))}bufferSnapShot(){if(this.mediaAttached){var e;(e=this.hls)!=null&&e.bufferedToEnd&&(this._bufferedEosTime=this.bufferedEnd)}}destroy(){this.removeMediaListeners(),this.hls&&this.hls.destroy(),this.hls=null,this.tracks=this.mediaAttached=this.checkPlayout=null}attachMedia(e){var r;this.loadSource(),(r=this.hls)==null||r.attachMedia(e)}detachMedia(){var e;this.removeMediaListeners(),this.mediaAttached=null,(e=this.hls)==null||e.detachMedia()}resumeBuffering(){var e;(e=this.hls)==null||e.resumeBuffering()}pauseBuffering(){var e;(e=this.hls)==null||e.pauseBuffering()}transferMedia(){var e;return this.bufferSnapShot(),((e=this.hls)==null?void 0:e.transferMedia())||null}resetDetails(){const e=this.hls;if(e&&this.hasDetails){e.stopLoad();const r=n=>delete n.details;e.levels.forEach(r),e.allAudioTracks.forEach(r),e.allSubtitleTracks.forEach(r),this.hasDetails=!1}}on(e,r,n){var i;(i=this.hls)==null||i.on(e,r)}once(e,r,n){var i;(i=this.hls)==null||i.once(e,r)}off(e,r,n){var i;(i=this.hls)==null||i.off(e,r)}toString(){var e;return`HlsAssetPlayer: ${fx(this.assetItem)} ${(e=this.hls)==null?void 0:e.sessionId} ${this.appendInPlace?"append-in-place":""}`}}const QK=.033;class b9e extends Zf{constructor(e,r){super("interstitials-sched",r),this.onScheduleUpdate=void 0,this.eventMap={},this.events=null,this.items=null,this.durations={primary:0,playout:0,integrated:0},this.onScheduleUpdate=e}destroy(){this.reset(),this.onScheduleUpdate=null}reset(){this.eventMap={},this.setDurations(0,0,0),this.events&&this.events.forEach(e=>e.reset()),this.events=this.items=null}resetErrorsInRange(e,r){return this.events?this.events.reduce((n,i)=>e<=i.startOffset&&r>i.startOffset?(delete i.error,n+1):n,0):0}get duration(){const e=this.items;return e?e[e.length-1].end:0}get length(){return this.items?this.items.length:0}getEvent(e){return e&&this.eventMap[e]||null}hasEvent(e){return e in this.eventMap}findItemIndex(e,r){if(e.event)return this.findEventIndex(e.event.identifier);let n=-1;e.nextEvent?n=this.findEventIndex(e.nextEvent.identifier)-1:e.previousEvent&&(n=this.findEventIndex(e.previousEvent.identifier)+1);const i=this.items;if(i)for(i[n]||(r===void 0&&(r=e.start),n=this.findItemIndexAtTime(r));n>=0&&(s=i[n])!=null&&s.event;){var s;n--}return n}findItemIndexAtTime(e,r){const n=this.items;if(n)for(let i=0;i<n.length;i++){let s=n[i];if(r&&r!=="primary"&&(s=s[r]),e===s.start||e>s.start&&e<s.end)return i}return-1}findJumpRestrictedIndex(e,r){const n=this.items;if(n)for(let i=e;i<=r&&n[i];i++){const s=n[i].event;if(s!=null&&s.restrictions.jump&&!s.appendInPlace)return i}return-1}findEventIndex(e){const r=this.items;if(r)for(let i=r.length;i--;){var n;if(((n=r[i].event)==null?void 0:n.identifier)===e)return i}return-1}findAssetIndex(e,r){const n=e.assetList,i=n.length;if(i>1)for(let s=0;s<i;s++){const a=n[s];if(!a.error){const c=a.timelineStart;if(r===c||r>c&&(r<c+(a.duration||0)||s===i-1))return s}}return 0}get assetIdAtEnd(){var e;const r=(e=this.items)==null||(e=e[this.length-1])==null?void 0:e.event;if(r){const n=r.assetList,i=n[n.length-1];if(i)return i.identifier}return null}parseInterstitialDateRanges(e,r){const n=e.main.details,{dateRanges:i}=n,s=this.events,a=this.parseDateRanges(i,{url:n.url},r),c=Object.keys(i),u=s?s.filter(l=>!c.includes(l.identifier)):[];a.length&&a.sort((l,d)=>{const f=l.cue.pre,A=l.cue.post,p=d.cue.pre,v=d.cue.post;if(f&&!p)return-1;if(p&&!f||A&&!v)return 1;if(v&&!A)return-1;if(!f&&!p&&!A&&!v){const y=l.startTime,x=d.startTime;if(y!==x)return y-x}return l.dateRange.tagOrder-d.dateRange.tagOrder}),this.events=a,u.forEach(l=>{this.removeEvent(l)}),this.updateSchedule(e,u)}updateSchedule(e,r=[],n=!1){const i=this.events||[];if(i.length||r.length||this.length<2){const s=this.items,a=this.parseSchedule(i,e);(n||r.length||s?.length!==a.length||a.some((u,l)=>Math.abs(u.playout.start-s[l].playout.start)>.005||Math.abs(u.playout.end-s[l].playout.end)>.005))&&(this.items=a,this.onScheduleUpdate(r,s))}}parseDateRanges(e,r,n){const i=[],s=Object.keys(e);for(let a=0;a<s.length;a++){const c=s[a],u=e[c];if(u.isInterstitial){let l=this.eventMap[c];l?l.setDateRange(u):(l=new v9e(u,r),this.eventMap[c]=l,n===!1&&(l.appendInPlace=n)),i.push(l)}}return i}parseSchedule(e,r){const n=[],i=r.main.details,s=i.live?1/0:i.edge;let a=0;if(e=e.filter(u=>!u.error&&!(u.cue.once&&u.hasPlayed)),e.length){this.resolveOffsets(e,r);let u=0,l=0;if(e.forEach((d,f)=>{const A=d.cue.pre,p=d.cue.post,v=e[f-1]||null,y=d.appendInPlace,x=p?s:d.startOffset,w=d.duration,E=d.timelineOccupancy===Dj.Range?w:0,T=d.resumptionOffset,C=v?.startTime===x,j=x+d.cumulativeDuration;let P=y?j+w:x+T;if(A||!p&&x<=0){const W=l;l+=E,d.timelineStart=j;const q=a;a+=w,n.push({event:d,start:j,end:P,playout:{start:q,end:a},integrated:{start:W,end:l}})}else if(x<=s){if(!C){const re=x-u;if(re>QK){const ie=u,Ae=l;l+=re;const be=a;a+=re;const Ee={previousEvent:e[f-1]||null,nextEvent:d,start:ie,end:ie+re,playout:{start:be,end:a},integrated:{start:Ae,end:l}};n.push(Ee)}else re>0&&v&&(v.cumulativeDuration+=re,n[n.length-1].end=x)}p&&(P=j),d.timelineStart=j;const W=l;l+=E;const q=a;a+=w,n.push({event:d,start:j,end:P,playout:{start:q,end:a},integrated:{start:W,end:l}})}else return;const U=d.resumeTime;p||U>s?u=s:u=U}),u<s){var c;const d=u,f=l,A=s-u;l+=A;const p=a;a+=A,n.push({previousEvent:((c=n[n.length-1])==null?void 0:c.event)||null,nextEvent:null,start:u,end:d+A,playout:{start:p,end:a},integrated:{start:f,end:l}})}this.setDurations(s,a,l)}else n.push({previousEvent:null,nextEvent:null,start:0,end:s,playout:{start:0,end:s},integrated:{start:0,end:s}}),this.setDurations(s,s,s);return n}setDurations(e,r,n){this.durations={primary:e,playout:r,integrated:n}}resolveOffsets(e,r){const n=r.main.details,i=n.live?1/0:n.edge;let s=0,a=-1;e.forEach((c,u)=>{const l=c.cue.pre,d=c.cue.post,f=l?0:d?i:c.startTime;this.updateAssetDurations(c),a===f?c.cumulativeDuration=s:(s=0,a=f),!d&&c.snapOptions.in&&(c.resumeAnchor=uy(null,n.fragments,c.startOffset+c.resumptionOffset,0,0)||void 0),c.appendInPlace&&!c.appendInPlaceStarted&&(this.primaryCanResumeInPlaceAt(c,r)||(c.appendInPlace=!1)),!c.appendInPlace&&u+1<e.length&&e[u+1].startTime-e[u].resumeTime<QK&&(e[u+1].appendInPlace=!1,e[u+1].appendInPlace&&this.warn(`Could not change append strategy for abutting event ${c}`));const p=qn(c.resumeOffset)?c.resumeOffset:c.duration;s+=p})}primaryCanResumeInPlaceAt(e,r){const n=e.resumeTime,i=e.startTime+e.resumptionOffset;return Math.abs(n-i)>ob?(this.log(`"${e.identifier}" resumption ${n} not aligned with estimated timeline end ${i}`),!1):!Object.keys(r).some(a=>{const c=r[a].details,u=c.edge;if(n>=u)return this.log(`"${e.identifier}" resumption ${n} past ${a} playlist end ${u}`),!1;const l=uy(null,c.fragments,n);if(!l)return this.log(`"${e.identifier}" resumption ${n} does not align with any fragments in ${a} playlist (${c.fragStart}-${c.fragmentEnd})`),!0;const d=a==="audio"?.175:0;return Math.abs(l.start-n)<ob+d||Math.abs(l.end-n)<ob+d?!1:(this.log(`"${e.identifier}" resumption ${n} not aligned with ${a} fragment bounds (${l.start}-${l.end} sn: ${l.sn} cc: ${l.cc})`),!0)})}updateAssetDurations(e){if(!e.assetListLoaded)return;const r=e.timelineStart;let n=0,i=!1,s=!1;for(let a=0;a<e.assetList.length;a++){const c=e.assetList[a],u=r+n;c.startOffset=n,c.timelineStart=u,i||(i=c.duration===null),s||(s=!!c.error);const l=c.error?0:c.duration||0;n+=l}i&&!s?e.duration=Math.max(n,e.duration):e.duration=n}removeEvent(e){e.reset(),delete this.eventMap[e.identifier]}}function dA(t){return`[${t.event?'"'+t.event.identifier+'"':"primary"}: ${t.start.toFixed(2)}-${t.end.toFixed(2)}]`}class w9e{constructor(e){this.hls=void 0,this.hls=e}destroy(){this.hls=null}loadAssetList(e,r){const n=e.assetListUrl;let i;try{i=Gie(n,this.hls.sessionId,e.baseUrl)}catch(A){const p=this.assignAssetListError(e,gr.ASSET_LIST_LOAD_ERROR,A,n);this.hls.trigger(Ie.ERROR,p);return}r&&i.protocol!=="data:"&&i.searchParams.set("_HLS_start_offset",""+r);const s=this.hls.config,a=s.loader,c=new a(s),u={responseType:"json",url:i.href},l=s.interstitialAssetListLoadPolicy.default,d={loadPolicy:l,timeout:l.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},f={onSuccess:(A,p,v,y)=>{const x=A.data,w=x?.ASSETS;if(!Array.isArray(w)){const E=this.assignAssetListError(e,gr.ASSET_LIST_PARSING_ERROR,new Error("Invalid interstitial asset list"),v.url,p,y);this.hls.trigger(Ie.ERROR,E);return}e.assetListResponse=x,this.hls.trigger(Ie.ASSET_LIST_LOADED,{event:e,assetListResponse:x,networkDetails:y})},onError:(A,p,v,y)=>{const x=this.assignAssetListError(e,gr.ASSET_LIST_LOAD_ERROR,new Error(`Error loading X-ASSET-LIST: HTTP status ${A.code} ${A.text} (${p.url})`),p.url,y,v);this.hls.trigger(Ie.ERROR,x)},onTimeout:(A,p,v)=>{const y=this.assignAssetListError(e,gr.ASSET_LIST_LOAD_TIMEOUT,new Error(`Timeout loading X-ASSET-LIST (${p.url})`),p.url,A,v);this.hls.trigger(Ie.ERROR,y)}};return c.load(u,d,f),this.hls.trigger(Ie.ASSET_LIST_LOADING,{event:e}),c}assignAssetListError(e,r,n,i,s,a){return e.error=n,{type:Pi.NETWORK_ERROR,details:r,fatal:!1,interstitial:e,url:i,error:n,networkDetails:a,stats:s}}}function VK(t){var e;t==null||(e=t.play())==null||e.catch(()=>{})}function eS(t,e){return`[${t}] Advancing timeline position to ${e}`}class E9e extends Zf{constructor(e,r){super("interstitials",e.logger),this.HlsPlayerClass=void 0,this.hls=void 0,this.assetListLoader=void 0,this.mediaSelection=null,this.altSelection=null,this.media=null,this.detachedData=null,this.requiredTracks=null,this.manager=null,this.playerQueue=[],this.bufferedPos=-1,this.timelinePos=-1,this.schedule=void 0,this.playingItem=null,this.bufferingItem=null,this.waitingItem=null,this.endedItem=null,this.playingAsset=null,this.endedAsset=null,this.bufferingAsset=null,this.shouldPlay=!1,this.onPlay=()=>{this.shouldPlay=!0},this.onPause=()=>{this.shouldPlay=!1},this.onSeeking=()=>{const n=this.currentTime;if(n===void 0||this.playbackDisabled||!this.schedule)return;const i=n-this.timelinePos;if(Math.abs(i)<1/7056e5)return;const a=i<=-.01;this.timelinePos=n,this.bufferedPos=n;const c=this.playingItem;if(!c){this.checkBuffer();return}if(a&&this.schedule.resetErrorsInRange(n,n-i)&&this.updateSchedule(!0),this.checkBuffer(),a&&n<c.start||n>=c.end){var u;const p=this.findItemIndex(c);let v=this.schedule.findItemIndexAtTime(n);if(v===-1&&(v=p+(a?-1:1),this.log(`seeked ${a?"back ":""}to position not covered by schedule ${n} (resolving from ${p} to ${v})`)),!this.isInterstitial(c)&&(u=this.media)!=null&&u.paused&&(this.shouldPlay=!1),!a&&v>p){const y=this.schedule.findJumpRestrictedIndex(p+1,v);if(y>p){this.setSchedulePosition(y);return}}this.setSchedulePosition(v);return}const l=this.playingAsset;if(!l){if(this.playingLastItem&&this.isInterstitial(c)){const p=c.event.assetList[0];p&&(this.endedItem=this.playingItem,this.playingItem=null,this.setScheduleToAssetAtTime(n,p))}return}const d=l.timelineStart,f=l.duration||0;if(a&&n<d||n>=d+f){var A;(A=c.event)!=null&&A.appendInPlace&&(this.clearAssetPlayers(c.event,c),this.flushFrontBuffer(n)),this.setScheduleToAssetAtTime(n,l)}},this.onTimeupdate=()=>{const n=this.currentTime;if(n===void 0||this.playbackDisabled)return;if(n>this.timelinePos)this.timelinePos=n,n>this.bufferedPos&&this.checkBuffer();else return;const i=this.playingItem;if(!i||this.playingLastItem)return;if(n>=i.end){this.timelinePos=i.end;const c=this.findItemIndex(i);this.setSchedulePosition(c+1)}const s=this.playingAsset;if(!s)return;const a=s.timelineStart+(s.duration||0);n>=a&&this.setScheduleToAssetAtTime(n,s)},this.onScheduleUpdate=(n,i)=>{const s=this.schedule;if(!s)return;const a=this.playingItem,c=s.events||[],u=s.items||[],l=s.durations,d=n.map(y=>y.identifier),f=!!(c.length||d.length);(f||i)&&this.log(`INTERSTITIALS_UPDATED (${c.length}): ${c}
Schedule: ${u.map(y=>dA(y))} pos: ${this.timelinePos}`),d.length&&this.log(`Removed events ${d}`);let A=null,p=null;a&&(A=this.updateItem(a,this.timelinePos),this.itemsMatch(a,A)?this.playingItem=A:this.waitingItem=this.endedItem=null),this.waitingItem=this.updateItem(this.waitingItem),this.endedItem=this.updateItem(this.endedItem);const v=this.bufferingItem;if(v&&(p=this.updateItem(v,this.bufferedPos),this.itemsMatch(v,p)?this.bufferingItem=p:v.event&&(this.bufferingItem=this.playingItem,this.clearInterstitial(v.event,null))),n.forEach(y=>{y.assetList.forEach(x=>{this.clearAssetPlayer(x.identifier,null)})}),this.playerQueue.forEach(y=>{if(y.interstitial.appendInPlace){const x=y.assetItem.timelineStart,w=y.timelineOffset-x;if(w)try{y.timelineOffset=x}catch(E){Math.abs(w)>ob&&this.warn(`${E} ("${y.assetId}" ${y.timelineOffset}->${x})`)}}}),f||i){if(this.hls.trigger(Ie.INTERSTITIALS_UPDATED,{events:c.slice(0),schedule:u.slice(0),durations:l,removedIds:d}),this.isInterstitial(a)&&d.includes(a.event.identifier)){this.warn(`Interstitial "${a.event.identifier}" removed while playing`),this.primaryFallback(a.event);return}a&&this.trimInPlace(A,a),v&&p!==A&&this.trimInPlace(p,v),this.checkBuffer()}},this.hls=e,this.HlsPlayerClass=r,this.assetListLoader=new w9e(e),this.schedule=new b9e(this.onScheduleUpdate,e.logger),this.registerListeners()}registerListeners(){const e=this.hls;e&&(e.on(Ie.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(Ie.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(Ie.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(Ie.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Ie.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(Ie.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(Ie.AUDIO_TRACK_UPDATED,this.onAudioTrackUpdated,this),e.on(Ie.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.on(Ie.SUBTITLE_TRACK_UPDATED,this.onSubtitleTrackUpdated,this),e.on(Ie.EVENT_CUE_ENTER,this.onInterstitialCueEnter,this),e.on(Ie.ASSET_LIST_LOADED,this.onAssetListLoaded,this),e.on(Ie.BUFFER_APPENDED,this.onBufferAppended,this),e.on(Ie.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(Ie.BUFFERED_TO_END,this.onBufferedToEnd,this),e.on(Ie.MEDIA_ENDED,this.onMediaEnded,this),e.on(Ie.ERROR,this.onError,this),e.on(Ie.DESTROYING,this.onDestroying,this))}unregisterListeners(){const e=this.hls;e&&(e.off(Ie.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(Ie.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(Ie.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(Ie.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Ie.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(Ie.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(Ie.AUDIO_TRACK_UPDATED,this.onAudioTrackUpdated,this),e.off(Ie.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.off(Ie.SUBTITLE_TRACK_UPDATED,this.onSubtitleTrackUpdated,this),e.off(Ie.EVENT_CUE_ENTER,this.onInterstitialCueEnter,this),e.off(Ie.ASSET_LIST_LOADED,this.onAssetListLoaded,this),e.off(Ie.BUFFER_CODECS,this.onBufferCodecs,this),e.off(Ie.BUFFER_APPENDED,this.onBufferAppended,this),e.off(Ie.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(Ie.BUFFERED_TO_END,this.onBufferedToEnd,this),e.off(Ie.MEDIA_ENDED,this.onMediaEnded,this),e.off(Ie.ERROR,this.onError,this),e.off(Ie.DESTROYING,this.onDestroying,this))}startLoad(){this.resumeBuffering()}stopLoad(){this.pauseBuffering()}resumeBuffering(){var e;(e=this.getBufferingPlayer())==null||e.resumeBuffering()}pauseBuffering(){var e;(e=this.getBufferingPlayer())==null||e.pauseBuffering()}destroy(){this.unregisterListeners(),this.stopLoad(),this.assetListLoader&&this.assetListLoader.destroy(),this.emptyPlayerQueue(),this.clearScheduleState(),this.schedule&&this.schedule.destroy(),this.media=this.detachedData=this.mediaSelection=this.requiredTracks=this.altSelection=this.schedule=this.manager=null,this.hls=this.HlsPlayerClass=this.log=null,this.assetListLoader=null,this.onPlay=this.onPause=this.onSeeking=this.onTimeupdate=null,this.onScheduleUpdate=null}onDestroying(){const e=this.primaryMedia||this.media;e&&this.removeMediaListeners(e)}removeMediaListeners(e){Ph(e,"play",this.onPlay),Ph(e,"pause",this.onPause),Ph(e,"seeking",this.onSeeking),Ph(e,"timeupdate",this.onTimeupdate)}onMediaAttaching(e,r){const n=this.media=r.media;mh(n,"seeking",this.onSeeking),mh(n,"timeupdate",this.onTimeupdate),mh(n,"play",this.onPlay),mh(n,"pause",this.onPause)}onMediaAttached(e,r){const n=this.effectivePlayingItem,i=this.detachedData;if(this.detachedData=null,n===null)this.checkStart();else if(!i){this.clearScheduleState();const s=this.findItemIndex(n);this.setSchedulePosition(s)}}clearScheduleState(){this.log("clear schedule state"),this.playingItem=this.bufferingItem=this.waitingItem=this.endedItem=this.playingAsset=this.endedAsset=this.bufferingAsset=null}onMediaDetaching(e,r){const n=!!r.transferMedia,i=this.media;if(this.media=null,!n&&(i&&this.removeMediaListeners(i),this.detachedData)){const s=this.getBufferingPlayer();s&&(this.log(`Removing schedule state for detachedData and ${s}`),this.playingAsset=this.endedAsset=this.bufferingAsset=this.bufferingItem=this.waitingItem=this.detachedData=null,s.detachMedia()),this.shouldPlay=!1}}get interstitialsManager(){if(!this.hls)return null;if(this.manager)return this.manager;const e=this,r=()=>e.bufferingItem||e.waitingItem,n=f=>f&&e.getAssetPlayer(f.identifier),i=(f,A,p,v,y)=>{if(f){let x=f[A].start;const w=f.event;if(w){if(A==="playout"||w.timelineOccupancy!==Dj.Point){const E=n(p);E?.interstitial===w&&(x+=E.assetItem.startOffset+E[y])}}else{const E=v==="bufferedPos"?a():e[v];x+=E-f.start}return x}return 0},s=(f,A)=>{var p;if(f!==0&&A!=="primary"&&(p=e.schedule)!=null&&p.length){var v;const y=e.schedule.findItemIndexAtTime(f),x=(v=e.schedule.items)==null?void 0:v[y];if(x){const w=x[A].start-x.start;return f+w}}return f},a=()=>{const f=e.bufferedPos;return f===Number.MAX_VALUE?c("primary"):Math.max(f,0)},c=f=>{var A,p;return(A=e.primaryDetails)!=null&&A.live?e.primaryDetails.edge:((p=e.schedule)==null?void 0:p.durations[f])||0},u=(f,A)=>{var p,v;const y=e.effectivePlayingItem;if(y!=null&&(p=y.event)!=null&&p.restrictions.skip||!e.schedule)return;e.log(`seek to ${f} "${A}"`);const x=e.effectivePlayingItem,w=e.schedule.findItemIndexAtTime(f,A),E=(v=e.schedule.items)==null?void 0:v[w],T=e.getBufferingPlayer(),C=T?.interstitial,j=C?.appendInPlace,P=x&&e.itemsMatch(x,E);if(x&&(j||P)){const U=n(e.playingAsset),W=U?.media||e.primaryMedia;if(W){const q=A==="primary"?W.currentTime:i(x,A,e.playingAsset,"timelinePos","currentTime"),re=f-q,ie=(j?q:W.currentTime)+re;if(ie>=0&&(!U||j||ie<=U.duration)){W.currentTime=ie;return}}}if(E){let U=f;if(A!=="primary"){const q=E[A].start,re=f-q;U=E.start+re}const W=!e.isInterstitial(E);if((!e.isInterstitial(x)||x.event.appendInPlace)&&(W||E.event.appendInPlace)){const q=e.media||(j?T?.media:null);q&&(q.currentTime=U)}else if(x){const q=e.findItemIndex(x);if(w>q){const ie=e.schedule.findJumpRestrictedIndex(q+1,w);if(ie>q){e.setSchedulePosition(ie);return}}let re=0;if(W)e.timelinePos=U,e.checkBuffer();else{const ie=E.event.assetList,Ae=f-(E[A]||E).start;for(let be=ie.length;be--;){const Ee=ie[be];if(Ee.duration&&Ae>=Ee.startOffset&&Ae<Ee.startOffset+Ee.duration){re=be;break}}}e.setSchedulePosition(w,re)}}},l=()=>{const f=e.effectivePlayingItem;if(e.isInterstitial(f))return f;const A=r();return e.isInterstitial(A)?A:null},d={get bufferedEnd(){const f=r(),A=e.bufferingItem;if(A&&A===f){var p;return i(A,"playout",e.bufferingAsset,"bufferedPos","bufferedEnd")-A.playout.start||((p=e.bufferingAsset)==null?void 0:p.startOffset)||0}return 0},get currentTime(){const f=l(),A=e.effectivePlayingItem;return A&&A===f?i(A,"playout",e.effectivePlayingAsset,"timelinePos","currentTime")-A.playout.start:0},set currentTime(f){const A=l(),p=e.effectivePlayingItem;p&&p===A&&u(f+p.playout.start,"playout")},get duration(){const f=l();return f?f.playout.end-f.playout.start:0},get assetPlayers(){var f;const A=(f=l())==null?void 0:f.event.assetList;return A?A.map(p=>e.getAssetPlayer(p.identifier)):[]},get playingIndex(){var f;const A=(f=l())==null?void 0:f.event;return A&&e.effectivePlayingAsset?A.findAssetIndex(e.effectivePlayingAsset):-1},get scheduleItem(){return l()}};return this.manager={get events(){var f;return((f=e.schedule)==null||(f=f.events)==null?void 0:f.slice(0))||[]},get schedule(){var f;return((f=e.schedule)==null||(f=f.items)==null?void 0:f.slice(0))||[]},get interstitialPlayer(){return l()?d:null},get playerQueue(){return e.playerQueue.slice(0)},get bufferingAsset(){return e.bufferingAsset},get bufferingItem(){return r()},get bufferingIndex(){const f=r();return e.findItemIndex(f)},get playingAsset(){return e.effectivePlayingAsset},get playingItem(){return e.effectivePlayingItem},get playingIndex(){const f=e.effectivePlayingItem;return e.findItemIndex(f)},primary:{get bufferedEnd(){return a()},get currentTime(){const f=e.timelinePos;return f>0?f:0},set currentTime(f){u(f,"primary")},get duration(){return c("primary")},get seekableStart(){var f;return((f=e.primaryDetails)==null?void 0:f.fragmentStart)||0}},integrated:{get bufferedEnd(){return i(r(),"integrated",e.bufferingAsset,"bufferedPos","bufferedEnd")},get currentTime(){return i(e.effectivePlayingItem,"integrated",e.effectivePlayingAsset,"timelinePos","currentTime")},set currentTime(f){u(f,"integrated")},get duration(){return c("integrated")},get seekableStart(){var f;return s(((f=e.primaryDetails)==null?void 0:f.fragmentStart)||0,"integrated")}},skip:()=>{const f=e.effectivePlayingItem,A=f?.event;if(A&&!A.restrictions.skip){const p=e.findItemIndex(f);if(A.appendInPlace){const v=f.playout.start+f.event.duration;u(v+.001,"playout")}else e.advanceAfterAssetEnded(A,p,1/0)}}}}get effectivePlayingItem(){return this.waitingItem||this.playingItem||this.endedItem}get effectivePlayingAsset(){return this.playingAsset||this.endedAsset}get playingLastItem(){var e;const r=this.playingItem,n=(e=this.schedule)==null?void 0:e.items;return!this.playbackStarted||!r||!n?!1:this.findItemIndex(r)===n.length-1}get playbackStarted(){return this.effectivePlayingItem!==null}get currentTime(){var e,r;if(this.mediaSelection===null)return;const n=this.waitingItem||this.playingItem;if(this.isInterstitial(n)&&!n.event.appendInPlace)return;let i=this.media;!i&&(e=this.bufferingItem)!=null&&(e=e.event)!=null&&e.appendInPlace&&(i=this.primaryMedia);const s=(r=i)==null?void 0:r.currentTime;if(!(s===void 0||!qn(s)))return s}get primaryMedia(){var e;return this.media||((e=this.detachedData)==null?void 0:e.media)||null}isInterstitial(e){return!!(e!=null&&e.event)}retreiveMediaSource(e,r){const n=this.getAssetPlayer(e);n&&this.transferMediaFromPlayer(n,r)}transferMediaFromPlayer(e,r){const n=e.interstitial.appendInPlace,i=e.media;if(n&&i===this.primaryMedia){if(this.bufferingAsset=null,(!r||this.isInterstitial(r)&&!r.event.appendInPlace)&&r&&i){this.detachedData={media:i};return}const s=e.transferMedia();this.log(`transfer MediaSource from ${e} ${fl(s)}`),this.detachedData=s}else r&&i&&(this.shouldPlay||(this.shouldPlay=!i.paused))}transferMediaTo(e,r){var n,i;if(e.media===r)return;let s=null;const a=this.hls,c=e!==a,u=c&&e.interstitial.appendInPlace,l=(n=this.detachedData)==null?void 0:n.mediaSource;let d;if(a.media)u&&(s=a.transferMedia(),this.detachedData=s),d="Primary";else if(l){const v=this.getBufferingPlayer();v?(s=v.transferMedia(),d=`${v}`):d="detached MediaSource"}else d="detached media";if(!s){if(l)s=this.detachedData,this.log(`using detachedData: MediaSource ${fl(s)}`);else if(!this.detachedData||a.media===r){const v=this.playerQueue;v.length>1&&v.forEach(y=>{if(c&&y.interstitial.appendInPlace!==u){const x=y.interstitial;this.clearInterstitial(y.interstitial,null),x.appendInPlace=!1,x.appendInPlace&&this.warn(`Could not change append strategy for queued assets ${x}`)}}),this.hls.detachMedia(),this.detachedData={media:r}}}const f=s&&"mediaSource"in s&&((i=s.mediaSource)==null?void 0:i.readyState)!=="closed",A=f&&s?s:r;this.log(`${f?"transfering MediaSource":"attaching media"} to ${c?e:"Primary"} from ${d} (media.currentTime: ${r.currentTime})`);const p=this.schedule;if(A===s&&p){const v=c&&e.assetId===p.assetIdAtEnd;A.overrides={duration:p.duration,endOfStream:!c||v,cueRemoval:!c}}e.attachMedia(A)}onInterstitialCueEnter(){this.onTimeupdate()}checkStart(){const e=this.schedule,r=e?.events;if(!r||this.playbackDisabled||!this.media)return;this.bufferedPos===-1&&(this.bufferedPos=0);const n=this.timelinePos,i=this.effectivePlayingItem;if(n===-1){const s=this.hls.startPosition;if(this.log(eS("checkStart",s)),this.timelinePos=s,r.length&&r[0].cue.pre){const a=e.findEventIndex(r[0].identifier);this.setSchedulePosition(a)}else if(s>=0||!this.primaryLive){const a=this.timelinePos=s>0?s:0,c=e.findItemIndexAtTime(a);this.setSchedulePosition(c)}}else if(i&&!this.playingItem){const s=e.findItemIndex(i);this.setSchedulePosition(s)}}advanceAssetBuffering(e,r){const n=e.event,i=n.findAssetIndex(r),s=AB(n,i);if(!n.isAssetPastPlayoutLimit(s))this.bufferedToEvent(e,s);else if(this.schedule){var a;const c=(a=this.schedule.items)==null?void 0:a[this.findItemIndex(e)+1];c&&this.bufferedToItem(c)}}advanceAfterAssetEnded(e,r,n){const i=AB(e,n);if(e.isAssetPastPlayoutLimit(i)){if(this.schedule){const s=this.schedule.items;if(s){const a=r+1,c=s.length;if(a>=c){this.setSchedulePosition(-1);return}const u=e.resumeTime;this.timelinePos<u&&(this.log(eS("advanceAfterAssetEnded",u)),this.timelinePos=u,e.appendInPlace&&this.advanceInPlace(u),this.checkBuffer(this.bufferedPos<u)),this.setSchedulePosition(a)}}}else{if(e.appendInPlace){const s=e.assetList[i];s&&this.advanceInPlace(s.timelineStart)}this.setSchedulePosition(r,i)}}setScheduleToAssetAtTime(e,r){const n=this.schedule;if(!n)return;const i=r.parentIdentifier,s=n.getEvent(i);if(s){const a=n.findEventIndex(i),c=n.findAssetIndex(s,e);this.advanceAfterAssetEnded(s,a,c-1)}}setSchedulePosition(e,r){var n;const i=(n=this.schedule)==null?void 0:n.items;if(!i||this.playbackDisabled)return;const s=e>=0?i[e]:null;this.log(`setSchedulePosition ${e}, ${r} (${s&&dA(s)}) pos: ${this.timelinePos}`);const a=this.waitingItem||this.playingItem,c=this.playingLastItem;if(this.isInterstitial(a)){const d=a.event,f=this.playingAsset,A=f?.identifier,p=A?this.getAssetPlayer(A):null;if(p&&A&&(!this.eventItemsMatch(a,s)||r!==void 0&&A!==d.assetList[r].identifier)){var u;const v=d.findAssetIndex(f);if(this.log(`INTERSTITIAL_ASSET_ENDED ${v+1}/${d.assetList.length} ${fx(f)}`),this.endedAsset=f,this.playingAsset=null,this.hls.trigger(Ie.INTERSTITIAL_ASSET_ENDED,{asset:f,assetListIndex:v,event:d,schedule:i.slice(0),scheduleIndex:e,player:p}),a!==this.playingItem){this.itemsMatch(a,this.playingItem)&&!this.playingAsset&&this.advanceAfterAssetEnded(d,this.findItemIndex(this.playingItem),v);return}this.retreiveMediaSource(A,s),p.media&&!((u=this.detachedData)!=null&&u.mediaSource)&&p.detachMedia()}if(!this.eventItemsMatch(a,s)&&(this.endedItem=a,this.playingItem=null,this.log(`INTERSTITIAL_ENDED ${d} ${dA(a)}`),d.hasPlayed=!0,this.hls.trigger(Ie.INTERSTITIAL_ENDED,{event:d,schedule:i.slice(0),scheduleIndex:e}),d.cue.once)){var l;this.updateSchedule();const v=(l=this.schedule)==null?void 0:l.items;if(s&&v){const y=this.findItemIndex(s);this.advanceSchedule(y,v,r,a,c)}return}}this.advanceSchedule(e,i,r,a,c)}advanceSchedule(e,r,n,i,s){const a=this.schedule;if(!a)return;const c=r[e]||null,u=this.primaryMedia,l=this.playerQueue;if(l.length&&l.forEach(d=>{const f=d.interstitial,A=a.findEventIndex(f.identifier);(A<e||A>e+1)&&this.clearInterstitial(f,c)}),this.isInterstitial(c)){this.timelinePos=Math.min(Math.max(this.timelinePos,c.start),c.end);const d=c.event;if(n===void 0){n=a.findAssetIndex(d,this.timelinePos);const v=AB(d,n-1);if(d.isAssetPastPlayoutLimit(v)||d.appendInPlace&&this.timelinePos===c.end){this.advanceAfterAssetEnded(d,e,n);return}n=v}const f=this.waitingItem;this.assetsBuffered(c,u)||this.setBufferingItem(c);let A=this.preloadAssets(d,n);if(this.eventItemsMatch(c,f||i)||(this.waitingItem=c,this.log(`INTERSTITIAL_STARTED ${dA(c)} ${d.appendInPlace?"append in place":""}`),this.hls.trigger(Ie.INTERSTITIAL_STARTED,{event:d,schedule:r.slice(0),scheduleIndex:e})),!d.assetListLoaded){this.log(`Waiting for ASSET-LIST to complete loading ${d}`);return}if(d.assetListLoader&&(d.assetListLoader.destroy(),d.assetListLoader=void 0),!u){this.log(`Waiting for attachMedia to start Interstitial ${d}`);return}this.waitingItem=this.endedItem=null,this.playingItem=c;const p=d.assetList[n];if(!p){this.advanceAfterAssetEnded(d,e,n||0);return}if(A||(A=this.getAssetPlayer(p.identifier)),A===null||A.destroyed){const v=d.assetList.length;this.warn(`asset ${n+1}/${v} player destroyed ${d}`),A=this.createAssetPlayer(d,p,n),A.loadSource()}if(!this.eventItemsMatch(c,this.bufferingItem)&&d.appendInPlace&&this.isAssetBuffered(p))return;this.startAssetPlayer(A,n,r,e,u),this.shouldPlay&&VK(A.media)}else c?(this.resumePrimary(c,e,i),this.shouldPlay&&VK(this.hls.media)):s&&this.isInterstitial(i)&&(this.endedItem=null,this.playingItem=i,i.event.appendInPlace||this.attachPrimary(a.durations.primary,null))}get playbackDisabled(){return this.hls.config.enableInterstitialPlayback===!1}get primaryDetails(){var e;return(e=this.mediaSelection)==null?void 0:e.main.details}get primaryLive(){var e;return!!((e=this.primaryDetails)!=null&&e.live)}resumePrimary(e,r,n){var i,s;if(this.playingItem=e,this.playingAsset=this.endedAsset=null,this.waitingItem=this.endedItem=null,this.bufferedToItem(e),this.log(`resuming ${dA(e)}`),!((i=this.detachedData)!=null&&i.mediaSource)){let c=this.timelinePos;(c<e.start||c>=e.end)&&(c=this.getPrimaryResumption(e,r),this.log(eS("resumePrimary",c)),this.timelinePos=c),this.attachPrimary(c,e)}if(!n)return;const a=(s=this.schedule)==null?void 0:s.items;a&&(this.log(`INTERSTITIALS_PRIMARY_RESUMED ${dA(e)}`),this.hls.trigger(Ie.INTERSTITIALS_PRIMARY_RESUMED,{schedule:a.slice(0),scheduleIndex:r}),this.checkBuffer())}getPrimaryResumption(e,r){const n=e.start;if(this.primaryLive){const i=this.primaryDetails;if(r===0)return this.hls.startPosition;if(i&&(n<i.fragmentStart||n>i.edge))return this.hls.liveSyncPosition||-1}return n}isAssetBuffered(e){const r=this.getAssetPlayer(e.identifier);return r!=null&&r.hls?r.hls.bufferedToEnd:Us.bufferInfo(this.primaryMedia,this.timelinePos,0).end+1>=e.timelineStart+(e.duration||0)}attachPrimary(e,r,n){r?this.setBufferingItem(r):this.bufferingItem=this.playingItem,this.bufferingAsset=null;const i=this.primaryMedia;if(!i)return;const s=this.hls;s.media?this.checkBuffer():(this.transferMediaTo(s,i),n&&this.startLoadingPrimaryAt(e,n)),n||(this.log(eS("attachPrimary",e)),this.timelinePos=e,this.startLoadingPrimaryAt(e,n))}startLoadingPrimaryAt(e,r){var n;const i=this.hls;!i.loadingEnabled||!i.media||Math.abs((((n=i.mainForwardBufferInfo)==null?void 0:n.start)||i.media.currentTime)-e)>.5?i.startLoad(e,r):i.bufferingEnabled||i.resumeBuffering()}onManifestLoading(){var e;this.stopLoad(),(e=this.schedule)==null||e.reset(),this.emptyPlayerQueue(),this.clearScheduleState(),this.shouldPlay=!1,this.bufferedPos=this.timelinePos=-1,this.mediaSelection=this.altSelection=this.manager=this.requiredTracks=null,this.hls.off(Ie.BUFFER_CODECS,this.onBufferCodecs,this),this.hls.on(Ie.BUFFER_CODECS,this.onBufferCodecs,this)}onLevelUpdated(e,r){if(r.level===-1||!this.schedule)return;const n=this.hls.levels[r.level];if(!n.details)return;const i=Fo(Fo({},this.mediaSelection||this.altSelection),{},{main:n});this.mediaSelection=i,this.schedule.parseInterstitialDateRanges(i,this.hls.config.interstitialAppendInPlace),!this.effectivePlayingItem&&this.schedule.items&&this.checkStart()}onAudioTrackUpdated(e,r){const n=this.hls.audioTracks[r.id],i=this.mediaSelection;if(!i){this.altSelection=Fo(Fo({},this.altSelection),{},{audio:n});return}const s=Fo(Fo({},i),{},{audio:n});this.mediaSelection=s}onSubtitleTrackUpdated(e,r){const n=this.hls.subtitleTracks[r.id],i=this.mediaSelection;if(!i){this.altSelection=Fo(Fo({},this.altSelection),{},{subtitles:n});return}const s=Fo(Fo({},i),{},{subtitles:n});this.mediaSelection=s}onAudioTrackSwitching(e,r){const n=Jz(r);this.playerQueue.forEach(({hls:i})=>i&&(i.setAudioOption(r)||i.setAudioOption(n)))}onSubtitleTrackSwitch(e,r){const n=Jz(r);this.playerQueue.forEach(({hls:i})=>i&&(i.setSubtitleOption(r)||r.id!==-1&&i.setSubtitleOption(n)))}onBufferCodecs(e,r){const n=r.tracks;n&&(this.requiredTracks=n)}onBufferAppended(e,r){this.checkBuffer()}onBufferFlushed(e,r){const n=this.playingItem;if(n&&!this.itemsMatch(n,this.bufferingItem)&&!this.isInterstitial(n)){const i=this.timelinePos;this.bufferedPos=i,this.checkBuffer()}}onBufferedToEnd(e){if(!this.schedule)return;const r=this.schedule.events;if(this.bufferedPos<Number.MAX_VALUE&&r){for(let i=0;i<r.length;i++){const s=r[i];if(s.cue.post){var n;const a=this.schedule.findEventIndex(s.identifier),c=(n=this.schedule.items)==null?void 0:n[a];this.isInterstitial(c)&&this.eventItemsMatch(c,this.bufferingItem)&&this.bufferedToItem(c,0);break}}this.bufferedPos=Number.MAX_VALUE}}onMediaEnded(e){const r=this.playingItem;if(!this.playingLastItem&&r){const n=this.findItemIndex(r);this.setSchedulePosition(n+1)}else this.shouldPlay=!1}updateItem(e,r){var n;const i=(n=this.schedule)==null?void 0:n.items;if(e&&i){const s=this.findItemIndex(e,r);return i[s]||null}return null}trimInPlace(e,r){if(this.isInterstitial(e)&&e.event.appendInPlace&&r.end-e.end>.25){e.event.assetList.forEach((s,a)=>{e.event.isAssetPastPlayoutLimit(a)&&this.clearAssetPlayer(s.identifier,null)});const n=e.end+.25,i=Us.bufferInfo(this.primaryMedia,n,0);(i.end>n||(i.nextStart||0)>n)&&(this.log(`trim buffered interstitial ${dA(e)} (was ${dA(r)})`),this.attachPrimary(n,null,!0),this.flushFrontBuffer(n))}}itemsMatch(e,r){return!!r&&(e===r||e.event&&r.event&&this.eventItemsMatch(e,r)||!e.event&&!r.event&&this.findItemIndex(e)===this.findItemIndex(r))}eventItemsMatch(e,r){var n;return!!r&&(e===r||e.event.identifier===((n=r.event)==null?void 0:n.identifier))}findItemIndex(e,r){return e&&this.schedule?this.schedule.findItemIndex(e,r):-1}updateSchedule(e=!1){var r;const n=this.mediaSelection;n&&((r=this.schedule)==null||r.updateSchedule(n,[],e))}checkBuffer(e){var r;const n=(r=this.schedule)==null?void 0:r.items;if(!n)return;const i=Us.bufferInfo(this.primaryMedia,this.timelinePos,0);e&&(this.bufferedPos=this.timelinePos),e||(e=i.len<1),this.updateBufferedPos(i.end,n,e)}updateBufferedPos(e,r,n){const i=this.schedule,s=this.bufferingItem;if(this.bufferedPos>e||!i)return;if(r.length===1&&this.itemsMatch(r[0],s)){this.bufferedPos=e;return}const a=this.playingItem,c=this.findItemIndex(a);let u=i.findItemIndexAtTime(e);if(this.bufferedPos<e){var l;const d=this.findItemIndex(s),f=Math.min(d+1,r.length-1),A=r[f];if((u===-1&&s&&e>=s.end||(l=A.event)!=null&&l.appendInPlace&&e+.01>=A.start)&&(u=f),this.isInterstitial(s)){const p=s.event;if(f-c>1&&p.appendInPlace===!1||p.assetList.length===0&&p.assetListLoader)return}if(this.bufferedPos=e,u>d&&u>c)this.bufferedToItem(A);else{const p=this.primaryDetails;this.primaryLive&&p&&e>p.edge-p.targetduration&&A.start<p.edge+this.hls.config.interstitialLiveLookAhead&&this.isInterstitial(A)&&this.preloadAssets(A.event,0)}}else n&&a&&!this.itemsMatch(a,s)&&(u===c?this.bufferedToItem(a):u===c+1&&this.bufferedToItem(r[u]))}assetsBuffered(e,r){return e.event.assetList.length===0?!1:!e.event.assetList.some(i=>{const s=this.getAssetPlayer(i.identifier);return!(s!=null&&s.bufferedInPlaceToEnd(r))})}setBufferingItem(e){const r=this.bufferingItem,n=this.schedule;if(!this.itemsMatch(e,r)&&n){const{items:i,events:s}=n;if(!i||!s)return r;const a=this.isInterstitial(e),c=this.getBufferingPlayer();this.bufferingItem=e,this.bufferedPos=Math.max(e.start,Math.min(e.end,this.timelinePos));const u=c?c.remaining:r?r.end-this.timelinePos:0;if(this.log(`INTERSTITIALS_BUFFERED_TO_BOUNDARY ${dA(e)}`+(r?` (${u.toFixed(2)} remaining)`:"")),!this.playbackDisabled)if(a){const l=n.findAssetIndex(e.event,this.bufferedPos);e.event.assetList.forEach((d,f)=>{const A=this.getAssetPlayer(d.identifier);A&&(f===l&&A.loadSource(),A.resumeBuffering())})}else this.hls.resumeBuffering(),this.playerQueue.forEach(l=>l.pauseBuffering());this.hls.trigger(Ie.INTERSTITIALS_BUFFERED_TO_BOUNDARY,{events:s.slice(0),schedule:i.slice(0),bufferingIndex:this.findItemIndex(e),playingIndex:this.findItemIndex(this.playingItem)})}else this.bufferingItem!==e&&(this.bufferingItem=e);return r}bufferedToItem(e,r=0){const n=this.setBufferingItem(e);if(!this.playbackDisabled){if(this.isInterstitial(e))this.bufferedToEvent(e,r);else if(n!==null){this.bufferingAsset=null;const i=this.detachedData;i?i.mediaSource?this.attachPrimary(e.start,e,!0):this.preloadPrimary(e):this.preloadPrimary(e)}}}preloadPrimary(e){const r=this.findItemIndex(e),n=this.getPrimaryResumption(e,r);this.startLoadingPrimaryAt(n)}bufferedToEvent(e,r){const n=e.event,i=n.assetList.length===0&&!n.assetListLoader,s=n.cue.once;if(i||!s){const a=this.preloadAssets(n,r);if(a!=null&&a.interstitial.appendInPlace){const c=this.primaryMedia;c&&this.bufferAssetPlayer(a,c)}}}preloadAssets(e,r){const n=e.assetUrl,i=e.assetList.length,s=i===0&&!e.assetListLoader,a=e.cue.once;if(s){const u=e.timelineStart;if(e.appendInPlace){var c;const A=this.playingItem;!this.isInterstitial(A)&&(A==null||(c=A.nextEvent)==null?void 0:c.identifier)===e.identifier&&this.flushFrontBuffer(u+.25)}let l,d=0;if(!this.playingItem&&this.primaryLive&&(d=this.hls.startPosition,d===-1&&(d=this.hls.liveSyncPosition||0)),d&&!(e.cue.pre||e.cue.post)){const A=d-u;A>0&&(l=Math.round(A*1e3)/1e3)}if(this.log(`Load interstitial asset ${r+1}/${n?1:i} ${e}${l?` live-start: ${d} start-offset: ${l}`:""}`),n)return this.createAsset(e,0,0,u,e.duration,n);const f=this.assetListLoader.loadAssetList(e,l);f&&(e.assetListLoader=f)}else if(!a&&i){for(let l=r;l<i;l++){const d=e.assetList[l],f=this.getAssetPlayerQueueIndex(d.identifier);(f===-1||this.playerQueue[f].destroyed)&&!d.error&&this.createAssetPlayer(e,d,l)}const u=e.assetList[r];if(u){const l=this.getAssetPlayer(u.identifier);return l&&l.loadSource(),l}}return null}flushFrontBuffer(e){const r=this.requiredTracks;if(!r)return;this.log(`Removing front buffer starting at ${e}`),Object.keys(r).forEach(i=>{this.hls.trigger(Ie.BUFFER_FLUSHING,{startOffset:e,endOffset:1/0,type:i})})}getAssetPlayerQueueIndex(e){const r=this.playerQueue;for(let n=0;n<r.length;n++)if(e===r[n].assetId)return n;return-1}getAssetPlayer(e){const r=this.getAssetPlayerQueueIndex(e);return this.playerQueue[r]||null}getBufferingPlayer(){const{playerQueue:e,primaryMedia:r}=this;if(r){for(let n=0;n<e.length;n++)if(e[n].media===r)return e[n]}return null}createAsset(e,r,n,i,s,a){const c={parentIdentifier:e.identifier,identifier:g9e(e,a,r),duration:s,startOffset:n,timelineStart:i,uri:a};return this.createAssetPlayer(e,c,r)}createAssetPlayer(e,r,n){const i=this.hls,s=i.userConfig;let a=s.videoPreference;const c=i.loadLevelObj||i.levels[i.currentLevel];(a||c)&&(a=nl({},a),c.videoCodec&&(a.videoCodec=c.videoCodec),c.videoRange&&(a.allowedVideoRanges=[c.videoRange]));const u=i.audioTracks[i.audioTrack],l=i.subtitleTracks[i.subtitleTrack];let d=0;if(this.primaryLive||e.appendInPlace){const C=this.timelinePos-r.timelineStart;if(C>1){const j=r.duration;j&&C<j&&(d=C)}}const f=r.identifier,A=Fo(Fo({},s),{},{maxMaxBufferLength:Math.min(180,i.config.maxMaxBufferLength),autoStartLoad:!0,startFragPrefetch:!0,primarySessionId:i.sessionId,assetPlayerId:f,abrEwmaDefaultEstimate:i.bandwidthEstimate,interstitialsController:void 0,startPosition:d,liveDurationInfinity:!1,testBandwidth:!1,videoPreference:a,audioPreference:u||s.audioPreference,subtitlePreference:l||s.subtitlePreference});e.appendInPlace&&(e.appendInPlaceStarted=!0,r.timelineStart&&(A.timelineOffset=r.timelineStart));const p=A.cmcd;p!=null&&p.sessionId&&p.contentId&&(A.cmcd=nl({},p,{contentId:Gw(r.uri)})),this.getAssetPlayer(f)&&this.warn(`Duplicate date range identifier ${e} and asset ${f}`);const v=new x9e(this.HlsPlayerClass,A,e,r);this.playerQueue.push(v),e.assetList[n]=r;let y=!0;const x=C=>{if(C.live){var j;const W=new Error(`Interstitials MUST be VOD assets ${e}`),q={fatal:!0,type:Pi.OTHER_ERROR,details:gr.INTERSTITIAL_ASSET_ITEM_ERROR,error:W},re=((j=this.schedule)==null?void 0:j.findEventIndex(e.identifier))||-1;this.handleAssetItemError(q,e,re,n,W.message);return}const P=C.edge-C.fragmentStart,U=r.duration;(y||U===null||P>U)&&(y=!1,this.log(`Interstitial asset "${f}" duration change ${U} > ${P}`),r.duration=P,this.updateSchedule())};v.on(Ie.LEVEL_UPDATED,(C,{details:j})=>x(j)),v.on(Ie.LEVEL_PTS_UPDATED,(C,{details:j})=>x(j)),v.on(Ie.EVENT_CUE_ENTER,()=>this.onInterstitialCueEnter());const w=(C,j)=>{const P=this.getAssetPlayer(f);if(P&&j.tracks){P.off(Ie.BUFFER_CODECS,w),P.tracks=j.tracks;const U=this.primaryMedia;this.bufferingAsset===P.assetItem&&U&&!P.media&&this.bufferAssetPlayer(P,U)}};v.on(Ie.BUFFER_CODECS,w);const E=()=>{var C;const j=this.getAssetPlayer(f);if(this.log(`buffered to end of asset ${j}`),!j||!this.schedule)return;const P=this.schedule.findEventIndex(e.identifier),U=(C=this.schedule.items)==null?void 0:C[P];this.isInterstitial(U)&&this.advanceAssetBuffering(U,r)};v.on(Ie.BUFFERED_TO_END,E);const T=C=>()=>{if(!this.getAssetPlayer(f)||!this.schedule)return;this.shouldPlay=!0;const P=this.schedule.findEventIndex(e.identifier);this.advanceAfterAssetEnded(e,P,C)};return v.once(Ie.MEDIA_ENDED,T(n)),v.once(Ie.PLAYOUT_LIMIT_REACHED,T(1/0)),v.on(Ie.ERROR,(C,j)=>{if(!this.schedule)return;const P=this.getAssetPlayer(f);if(j.details===gr.BUFFER_STALLED_ERROR){if(P!=null&&P.appendInPlace){this.handleInPlaceStall(e);return}this.onTimeupdate(),this.checkBuffer(!0);return}this.handleAssetItemError(j,e,this.schedule.findEventIndex(e.identifier),n,`Asset player error ${j.error} ${e}`)}),v.on(Ie.DESTROYING,()=>{if(!this.getAssetPlayer(f)||!this.schedule)return;const j=new Error(`Asset player destroyed unexpectedly ${f}`),P={fatal:!0,type:Pi.OTHER_ERROR,details:gr.INTERSTITIAL_ASSET_ITEM_ERROR,error:j};this.handleAssetItemError(P,e,this.schedule.findEventIndex(e.identifier),n,j.message)}),this.log(`INTERSTITIAL_ASSET_PLAYER_CREATED ${fx(r)}`),this.hls.trigger(Ie.INTERSTITIAL_ASSET_PLAYER_CREATED,{asset:r,assetListIndex:n,event:e,player:v}),v}clearInterstitial(e,r){this.clearAssetPlayers(e,r),e.reset()}clearAssetPlayers(e,r){e.assetList.forEach(n=>{this.clearAssetPlayer(n.identifier,r)})}resetAssetPlayer(e){const r=this.getAssetPlayerQueueIndex(e);if(r!==-1){this.log(`reset asset player "${e}" after error`);const n=this.playerQueue[r];this.transferMediaFromPlayer(n,null),n.resetDetails()}}clearAssetPlayer(e,r){const n=this.getAssetPlayerQueueIndex(e);if(n!==-1){const i=this.playerQueue[n];this.log(`clear ${i} toSegment: ${r&&dA(r)}`),this.transferMediaFromPlayer(i,r),this.playerQueue.splice(n,1),i.destroy()}}emptyPlayerQueue(){let e;for(;e=this.playerQueue.pop();)e.destroy();this.playerQueue=[]}startAssetPlayer(e,r,n,i,s){const{interstitial:a,assetItem:c,assetId:u}=e,l=a.assetList.length,d=this.playingAsset;this.endedAsset=null,this.playingAsset=c,(!d||d.identifier!==u)&&(d&&(this.clearAssetPlayer(d.identifier,n[i]),delete d.error),this.log(`INTERSTITIAL_ASSET_STARTED ${r+1}/${l} ${fx(c)}`),this.hls.trigger(Ie.INTERSTITIAL_ASSET_STARTED,{asset:c,assetListIndex:r,event:a,schedule:n.slice(0),scheduleIndex:i,player:e})),this.bufferAssetPlayer(e,s)}bufferAssetPlayer(e,r){var n,i;if(!this.schedule)return;const{interstitial:s,assetItem:a}=e,c=this.schedule.findEventIndex(s.identifier),u=(n=this.schedule.items)==null?void 0:n[c];if(!u)return;e.loadSource(),this.setBufferingItem(u),this.bufferingAsset=a;const l=this.getBufferingPlayer();if(l===e)return;const d=s.appendInPlace;if(d&&l?.interstitial.appendInPlace===!1)return;const f=l?.tracks||((i=this.detachedData)==null?void 0:i.tracks)||this.requiredTracks;if(d&&a!==this.playingAsset){if(!e.tracks){this.log(`Waiting for track info before buffering ${e}`);return}if(f&&!Nne(f,e.tracks)){const A=new Error(`Asset ${fx(a)} SourceBuffer tracks ('${Object.keys(e.tracks)}') are not compatible with primary content tracks ('${Object.keys(f)}')`),p={fatal:!0,type:Pi.OTHER_ERROR,details:gr.INTERSTITIAL_ASSET_ITEM_ERROR,error:A},v=s.findAssetIndex(a);this.handleAssetItemError(p,s,c,v,A.message);return}}this.transferMediaTo(e,r)}handleInPlaceStall(e){const r=this.schedule,n=this.primaryMedia;if(!r||!n)return;const i=n.currentTime,s=r.findAssetIndex(e,i),a=e.assetList[s];if(a){const c=this.getAssetPlayer(a.identifier);if(c){const u=c.currentTime||i-a.timelineStart,l=c.duration-u;if(this.warn(`Stalled at ${u} of ${u+l} in ${c} ${e} (media.currentTime: ${i})`),u&&(l/n.playbackRate<.5||c.bufferedInPlaceToEnd(n))&&c.hls){const d=r.findEventIndex(e.identifier);this.advanceAfterAssetEnded(e,d,s)}}}}advanceInPlace(e){const r=this.primaryMedia;r&&r.currentTime<e&&(r.currentTime=e)}handleAssetItemError(e,r,n,i,s){if(e.details===gr.BUFFER_STALLED_ERROR)return;const a=r.assetList[i]||null;if(this.warn(`INTERSTITIAL_ASSET_ERROR ${a&&fx(a)} ${e.error}`),!this.schedule)return;const c=a?.identifier||"",u=this.getAssetPlayerQueueIndex(c),l=this.playerQueue[u]||null,d=this.schedule.items,f=nl({},e,{fatal:!1,errorAction:ib(!0),asset:a,assetListIndex:i,event:r,schedule:d,scheduleIndex:n,player:l});if(this.hls.trigger(Ie.INTERSTITIAL_ASSET_ERROR,f),!e.fatal)return;const A=this.playingAsset,p=this.bufferingAsset,v=new Error(s);if(a&&(this.clearAssetPlayer(c,null),a.error=v),!r.assetList.some(y=>!y.error))r.error=v;else for(let y=i;y<r.assetList.length;y++)this.resetAssetPlayer(r.assetList[y].identifier);this.updateSchedule(!0),r.error?this.primaryFallback(r):A&&A.identifier===c?this.advanceAfterAssetEnded(r,n,i):p&&p.identifier===c&&this.isInterstitial(this.bufferingItem)&&this.advanceAssetBuffering(this.bufferingItem,p)}primaryFallback(e){const r=e.timelineStart,n=this.effectivePlayingItem;let i=this.timelinePos;if(n){this.log(`Fallback to primary from event "${e.identifier}" start: ${r} pos: ${i} playing: ${dA(n)} error: ${e.error}`),i===-1&&(i=this.hls.startPosition);const a=this.updateItem(n,i);this.itemsMatch(n,a)&&this.clearInterstitial(e,null),e.appendInPlace&&(this.attachPrimary(r,null),this.flushFrontBuffer(r))}else if(i===-1){this.checkStart();return}if(!this.schedule)return;const s=this.schedule.findItemIndexAtTime(i);this.setSchedulePosition(s)}onAssetListLoaded(e,r){var n,i;const s=r.event,a=s.identifier,c=r.assetListResponse.ASSETS;if(!((n=this.schedule)!=null&&n.hasEvent(a)))return;const u=s.timelineStart,l=s.duration;let d=0;c.forEach((y,x)=>{const w=parseFloat(y.DURATION);this.createAsset(s,x,d,u+d,w,y.URI),d+=w}),s.duration=d,this.log(`Loaded asset-list with duration: ${d} (was: ${l}) ${s}`);const f=this.waitingItem,A=f?.event.identifier===a;this.updateSchedule();const p=(i=this.bufferingItem)==null?void 0:i.event;if(A){var v;const y=this.schedule.findEventIndex(a),x=(v=this.schedule.items)==null?void 0:v[y];if(x){if(!this.playingItem&&this.timelinePos>x.end&&this.schedule.findItemIndexAtTime(this.timelinePos)!==y){s.error=new Error(`Interstitial ${c.length?"no longer within playback range":"asset-list is empty"} ${this.timelinePos} ${s}`),this.log(s.error.message),this.updateSchedule(!0),this.primaryFallback(s);return}this.setBufferingItem(x)}this.setSchedulePosition(y)}else if(p?.identifier===a){const y=s.assetList[0];if(y){const x=this.getAssetPlayer(y.identifier);if(p.appendInPlace){const w=this.primaryMedia;x&&w&&this.bufferAssetPlayer(x,w)}else x&&x.loadSource()}}}onError(e,r){if(this.schedule)switch(r.details){case gr.ASSET_LIST_PARSING_ERROR:case gr.ASSET_LIST_LOAD_ERROR:case gr.ASSET_LIST_LOAD_TIMEOUT:{const n=r.interstitial;n&&(this.updateSchedule(!0),this.primaryFallback(n));break}case gr.BUFFER_STALLED_ERROR:{const n=this.endedItem||this.waitingItem||this.playingItem;if(this.isInterstitial(n)&&n.event.appendInPlace){this.handleInPlaceStall(n.event);return}this.log(`Primary player stall @${this.timelinePos} bufferedPos: ${this.bufferedPos}`),this.onTimeupdate(),this.checkBuffer(!0);break}}}}const zK=500;class _9e extends sF{constructor(e,r,n){super(e,r,n,"subtitle-stream-controller",fi.SUBTITLE),this.currentTrackId=-1,this.tracksBuffered=[],this.mainDetails=null,this.registerListeners()}onHandlerDestroying(){this.unregisterListeners(),super.onHandlerDestroying(),this.mainDetails=null}registerListeners(){super.registerListeners();const{hls:e}=this;e.on(Ie.LEVEL_LOADED,this.onLevelLoaded,this),e.on(Ie.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(Ie.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.on(Ie.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(Ie.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.on(Ie.BUFFER_FLUSHING,this.onBufferFlushing,this)}unregisterListeners(){super.unregisterListeners();const{hls:e}=this;e.off(Ie.LEVEL_LOADED,this.onLevelLoaded,this),e.off(Ie.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(Ie.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.off(Ie.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(Ie.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.off(Ie.BUFFER_FLUSHING,this.onBufferFlushing,this)}startLoad(e,r){this.stopLoad(),this.state=Qr.IDLE,this.setInterval(zK),this.nextLoadPosition=this.lastCurrentTime=e+this.timelineOffset,this.startPosition=r?-1:e,this.tick()}onManifestLoading(){super.onManifestLoading(),this.mainDetails=null}onMediaDetaching(e,r){this.tracksBuffered=[],super.onMediaDetaching(e,r)}onLevelLoaded(e,r){this.mainDetails=r.details}onSubtitleFragProcessed(e,r){const{frag:n,success:i}=r;if(this.fragContextChanged(n)||(Jc(n)&&(this.fragPrevious=n),this.state=Qr.IDLE),!i)return;const s=this.tracksBuffered[this.currentTrackId];if(!s)return;let a;const c=n.start;for(let l=0;l<s.length;l++)if(c>=s[l].start&&c<=s[l].end){a=s[l];break}const u=n.start+n.duration;a?a.end=u:(a={start:c,end:u},s.push(a)),this.fragmentTracker.fragBuffered(n),this.fragBufferedComplete(n,null),this.media&&this.tick()}onBufferFlushing(e,r){const{startOffset:n,endOffset:i}=r;if(n===0&&i!==Number.POSITIVE_INFINITY){const s=i-1;if(s<=0)return;r.endOffsetSubtitles=Math.max(0,s),this.tracksBuffered.forEach(a=>{for(let c=0;c<a.length;){if(a[c].end<=s){a.shift();continue}else if(a[c].start<s)a[c].start=s;else break;c++}}),this.fragmentTracker.removeFragmentsInRange(n,s,fi.SUBTITLE)}}onError(e,r){const n=r.frag;n?.type===fi.SUBTITLE&&(r.details===gr.FRAG_GAP&&this.fragmentTracker.fragBuffered(n,!0),this.fragCurrent&&this.fragCurrent.abortRequests(),this.state!==Qr.STOPPED&&(this.state=Qr.IDLE))}onSubtitleTracksUpdated(e,{subtitleTracks:r}){if(this.levels&&Lie(this.levels,r)){this.levels=r.map(n=>new DE(n));return}this.tracksBuffered=[],this.levels=r.map(n=>{const i=new DE(n);return this.tracksBuffered[i.id]=[],i}),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,fi.SUBTITLE),this.fragPrevious=null,this.mediaBuffer=null}onSubtitleTrackSwitch(e,r){var n;if(this.currentTrackId=r.id,!((n=this.levels)!=null&&n.length)||this.currentTrackId===-1){this.clearInterval();return}const i=this.levels[this.currentTrackId];i!=null&&i.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,i&&this.state!==Qr.STOPPED&&this.setInterval(zK)}onSubtitleTrackLoaded(e,r){var n;const{currentTrackId:i,levels:s}=this,{details:a,id:c}=r;if(!s){this.warn(`Subtitle tracks were reset while loading level ${c}`);return}const u=s[c];if(c>=s.length||!u)return;this.log(`Subtitle track ${c} loaded [${a.startSN},${a.endSN}]${a.lastPartSn?`[part-${a.lastPartSn}-${a.lastPartIndex}]`:""},duration:${a.totalduration}`),this.mediaBuffer=this.mediaBufferTimeRanges;let l=0;if(a.live||(n=u.details)!=null&&n.live){if(a.deltaUpdateFailed)return;const f=this.mainDetails;if(!f){this.startFragRequested=!1;return}const A=f.fragments[0];if(!u.details)a.hasProgramDateTime&&f.hasProgramDateTime?(Pj(a,f),l=a.fragmentStart):A&&(l=A.start,GO(a,l));else{var d;l=this.alignPlaylists(a,u.details,(d=this.levelLastLoaded)==null?void 0:d.details),l===0&&A&&(l=A.start,GO(a,l))}f&&!this.startFragRequested&&this.setStartPosition(f,l)}u.details=a,this.levelLastLoaded=u,c===i&&(this.hls.trigger(Ie.SUBTITLE_TRACK_UPDATED,{details:a,id:c,groupId:r.groupId}),this.tick(),a.live&&!this.fragCurrent&&this.media&&this.state===Qr.IDLE&&(uy(null,a.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),u.details=void 0)))}_handleFragmentLoadComplete(e){const{frag:r,payload:n}=e,i=r.decryptdata,s=this.hls;if(!this.fragContextChanged(r)&&n&&n.byteLength>0&&i!=null&&i.key&&i.iv&&sb(i.method)){const a=performance.now();this.decrypter.decrypt(new Uint8Array(n),i.key.buffer,i.iv.buffer,nF(i.method)).catch(c=>{throw s.trigger(Ie.ERROR,{type:Pi.MEDIA_ERROR,details:gr.FRAG_DECRYPT_ERROR,fatal:!1,error:c,reason:c.message,frag:r}),c}).then(c=>{const u=performance.now();s.trigger(Ie.FRAG_DECRYPTED,{frag:r,payload:c,stats:{tstart:a,tdecrypt:u}})}).catch(c=>{this.warn(`${c.name}: ${c.message}`),this.state=Qr.IDLE})}}doTick(){if(!this.media){this.state=Qr.IDLE;return}if(this.state===Qr.IDLE){const{currentTrackId:e,levels:r}=this,n=r?.[e];if(!n||!r.length||!n.details||this.waitForLive(n))return;const{config:i}=this,s=this.getLoadPosition(),a=Us.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],s,i.maxBufferHole),{end:c,len:u}=a,l=n.details,d=this.hls.maxBufferLength+l.levelTargetDuration;if(u>d)return;const f=l.fragments,A=f.length,p=l.edge;let v=null;const y=this.fragPrevious;if(c<p){const E=i.maxFragLookUpTolerance,T=c>p-E?0:E;v=uy(y,f,Math.max(f[0].start,c),T),!v&&y&&y.start<f[0].start&&(v=f[0])}else v=f[A-1];if(v=this.filterReplacedPrimary(v,n.details),!v)return;const x=v.sn-l.startSN,w=f[x-1];if(w&&w.cc===v.cc&&this.fragmentTracker.getState(w)===Du.NOT_LOADED&&(v=w),this.fragmentTracker.getState(v)===Du.NOT_LOADED){const E=this.mapToInitFragWhenRequired(v);E&&this.loadFragment(E,n,c)}}}loadFragment(e,r,n){Jc(e)?super.loadFragment(e,r,n):this._loadInitSegment(e,r)}get mediaBufferTimeRanges(){return new S9e(this.tracksBuffered[this.currentTrackId]||[])}}class S9e{constructor(e){this.buffered=void 0;const r=(n,i,s)=>{if(i=i>>>0,i>s-1)throw new DOMException(`Failed to execute '${n}' on 'TimeRanges': The index provided (${i}) is greater than the maximum bound (${s})`);return e[i][n]};this.buffered={get length(){return e.length},end(n){return r("end",n,e.length)},start(n){return r("start",n,e.length)}}}}const T9e={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},Wie=t=>String.fromCharCode(T9e[t]||t),gA=15,pp=100,C9e={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},j9e={17:2,18:4,21:6,22:8,23:10,19:13,20:15},N9e={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},k9e={25:2,26:4,29:6,30:8,31:10,27:13,28:15},I9e=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];class L9e{constructor(){this.time=null,this.verboseLevel=0}log(e,r){if(this.verboseLevel>=e){const n=typeof r=="function"?r():r;$o.log(`${this.time} [${e}] ${n}`)}}}const tv=function(e){const r=[];for(let n=0;n<e.length;n++)r.push(e[n].toString(16));return r};class Yie{constructor(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}reset(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}setStyles(e){const r=["foreground","underline","italics","background","flash"];for(let n=0;n<r.length;n++){const i=r[n];e.hasOwnProperty(i)&&(this[i]=e[i])}}isDefault(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash}equals(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash}copy(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash}toString(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}class B9e{constructor(){this.uchar=" ",this.penState=new Yie}reset(){this.uchar=" ",this.penState.reset()}setChar(e,r){this.uchar=e,this.penState.copy(r)}setPenState(e){this.penState.copy(e)}equals(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)}copy(e){this.uchar=e.uchar,this.penState.copy(e.penState)}isEmpty(){return this.uchar===" "&&this.penState.isDefault()}}class O9e{constructor(e){this.chars=[],this.pos=0,this.currPenState=new Yie,this.cueStartTime=null,this.logger=void 0;for(let r=0;r<pp;r++)this.chars.push(new B9e);this.logger=e}equals(e){for(let r=0;r<pp;r++)if(!this.chars[r].equals(e.chars[r]))return!1;return!0}copy(e){for(let r=0;r<pp;r++)this.chars[r].copy(e.chars[r])}isEmpty(){let e=!0;for(let r=0;r<pp;r++)if(!this.chars[r].isEmpty()){e=!1;break}return e}setCursor(e){this.pos!==e&&(this.pos=e),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>pp&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=pp)}moveCursor(e){const r=this.pos+e;if(e>1)for(let n=this.pos+1;n<r+1;n++)this.chars[n].setPenState(this.currPenState);this.setCursor(r)}backSpace(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}insertChar(e){e>=144&&this.backSpace();const r=Wie(e);if(this.pos>=pp){this.logger.log(0,()=>"Cannot insert "+e.toString(16)+" ("+r+") at position "+this.pos+". Skipping it!");return}this.chars[this.pos].setChar(r,this.currPenState),this.moveCursor(1)}clearFromPos(e){let r;for(r=e;r<pp;r++)this.chars[r].reset()}clear(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}clearToEndOfRow(){this.clearFromPos(this.pos)}getTextString(){const e=[];let r=!0;for(let n=0;n<pp;n++){const i=this.chars[n].uchar;i!==" "&&(r=!1),e.push(i)}return r?"":e.join("")}setPenStyles(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)}}class mB{constructor(e){this.rows=[],this.currRow=gA-1,this.nrRollUpRows=null,this.lastOutputScreen=null,this.logger=void 0;for(let r=0;r<gA;r++)this.rows.push(new O9e(e));this.logger=e}reset(){for(let e=0;e<gA;e++)this.rows[e].clear();this.currRow=gA-1}equals(e){let r=!0;for(let n=0;n<gA;n++)if(!this.rows[n].equals(e.rows[n])){r=!1;break}return r}copy(e){for(let r=0;r<gA;r++)this.rows[r].copy(e.rows[r])}isEmpty(){let e=!0;for(let r=0;r<gA;r++)if(!this.rows[r].isEmpty()){e=!1;break}return e}backSpace(){this.rows[this.currRow].backSpace()}clearToEndOfRow(){this.rows[this.currRow].clearToEndOfRow()}insertChar(e){this.rows[this.currRow].insertChar(e)}setPen(e){this.rows[this.currRow].setPenStyles(e)}moveCursor(e){this.rows[this.currRow].moveCursor(e)}setCursor(e){this.logger.log(2,"setCursor: "+e),this.rows[this.currRow].setCursor(e)}setPAC(e){this.logger.log(2,()=>"pacData = "+fl(e));let r=e.row-1;if(this.nrRollUpRows&&r<this.nrRollUpRows-1&&(r=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==r){for(let c=0;c<gA;c++)this.rows[c].clear();const s=this.currRow+1-this.nrRollUpRows,a=this.lastOutputScreen;if(a){const c=a.rows[s].cueStartTime,u=this.logger.time;if(c!==null&&u!==null&&c<u)for(let l=0;l<this.nrRollUpRows;l++)this.rows[r-this.nrRollUpRows+l+1].copy(a.rows[s+l])}}this.currRow=r;const n=this.rows[this.currRow];if(e.indent!==null){const s=e.indent,a=Math.max(s-1,0);n.setCursor(e.indent),e.color=n.chars[a].penState.foreground}const i={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(i)}setBkgData(e){this.logger.log(2,()=>"bkgData = "+fl(e)),this.backSpace(),this.setPen(e),this.insertChar(32)}setRollUpRows(e){this.nrRollUpRows=e}rollUp(){if(this.nrRollUpRows===null){this.logger.log(3,"roll_up but nrRollUpRows not set yet");return}this.logger.log(1,()=>this.getDisplayText());const e=this.currRow+1-this.nrRollUpRows,r=this.rows.splice(e,1)[0];r.clear(),this.rows.splice(this.currRow,0,r),this.logger.log(2,"Rolling up")}getDisplayText(e){e=e||!1;const r=[];let n="",i=-1;for(let s=0;s<gA;s++){const a=this.rows[s].getTextString();a&&(i=s+1,e?r.push("Row "+i+": '"+a+"'"):r.push(a.trim()))}return r.length>0&&(e?n="["+r.join(" | ")+"]":n=r.join(`
`)),n}getTextAndFormat(){return this.rows}}class KK{constructor(e,r,n){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=e,this.outputFilter=r,this.mode=null,this.verbose=0,this.displayedMemory=new mB(n),this.nonDisplayedMemory=new mB(n),this.lastOutputScreen=new mB(n),this.currRollUpRow=this.displayedMemory.rows[gA-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=n}reset(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[gA-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}getHandler(){return this.outputFilter}setHandler(e){this.outputFilter=e}setPAC(e){this.writeScreen.setPAC(e)}setBkgData(e){this.writeScreen.setBkgData(e)}setMode(e){e!==this.mode&&(this.mode=e,this.logger.log(2,()=>"MODE="+e),this.mode==="MODE_POP-ON"?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),this.mode!=="MODE_ROLL-UP"&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)}insertChars(e){for(let n=0;n<e.length;n++)this.writeScreen.insertChar(e[n]);const r=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,()=>r+": "+this.writeScreen.getDisplayText(!0)),(this.mode==="MODE_PAINT-ON"||this.mode==="MODE_ROLL-UP")&&(this.logger.log(1,()=>"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())}ccRCL(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}ccBS(){this.logger.log(2,"BS - BackSpace"),this.mode!=="MODE_TEXT"&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}ccAOF(){}ccAON(){}ccDER(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}ccRU(e){this.logger.log(2,"RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)}ccFON(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})}ccRDC(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}ccTR(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")}ccRTD(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")}ccEDM(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)}ccCR(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)}ccENM(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}ccEOC(){if(this.logger.log(2,"EOC - End Of Caption"),this.mode==="MODE_POP-ON"){const e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,()=>"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)}ccTO(e){this.logger.log(2,"TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)}ccMIDROW(e){const r={flash:!1};if(r.underline=e%2===1,r.italics=e>=46,r.italics)r.foreground="white";else{const n=Math.floor(e/2)-16,i=["white","green","blue","cyan","red","yellow","magenta"];r.foreground=i[n]}this.logger.log(2,"MIDROW: "+fl(r)),this.writeScreen.setPen(r)}outputDataUpdate(e=!1){const r=this.logger.time;r!==null&&this.outputFilter&&(this.cueStartTime===null&&!this.displayedMemory.isEmpty()?this.cueStartTime=r:this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,r,this.lastOutputScreen),e&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:r),this.lastOutputScreen.copy(this.displayedMemory))}cueSplitAtTime(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))}}class GK{constructor(e,r,n){this.channels=void 0,this.currentChannel=0,this.cmdHistory=R9e(),this.logger=void 0;const i=this.logger=new L9e;this.channels=[null,new KK(e,r,i),new KK(e+1,n,i)]}getHandler(e){return this.channels[e].getHandler()}setHandler(e,r){this.channels[e].setHandler(r)}addData(e,r){this.logger.time=e;for(let n=0;n<r.length;n+=2){const i=r[n]&127,s=r[n+1]&127;let a=!1,c=null;if(i===0&&s===0)continue;this.logger.log(3,()=>"["+tv([r[n],r[n+1]])+"] -> ("+tv([i,s])+")");const u=this.cmdHistory;if(i>=16&&i<=31){if(P9e(i,s,u)){tS(null,null,u),this.logger.log(3,()=>"Repeated command ("+tv([i,s])+") is dropped");continue}tS(i,s,this.cmdHistory),a=this.parseCmd(i,s),a||(a=this.parseMidrow(i,s)),a||(a=this.parsePAC(i,s)),a||(a=this.parseBackgroundAttributes(i,s))}else tS(null,null,u);if(!a&&(c=this.parseChars(i,s),c)){const d=this.currentChannel;d&&d>0?this.channels[d].insertChars(c):this.logger.log(2,"No channel found yet. TEXT-MODE?")}!a&&!c&&this.logger.log(2,()=>"Couldn't parse cleaned data "+tv([i,s])+" orig: "+tv([r[n],r[n+1]]))}}parseCmd(e,r){const n=(e===20||e===28||e===21||e===29)&&r>=32&&r<=47,i=(e===23||e===31)&&r>=33&&r<=35;if(!(n||i))return!1;const s=e===20||e===21||e===23?1:2,a=this.channels[s];return e===20||e===21||e===28||e===29?r===32?a.ccRCL():r===33?a.ccBS():r===34?a.ccAOF():r===35?a.ccAON():r===36?a.ccDER():r===37?a.ccRU(2):r===38?a.ccRU(3):r===39?a.ccRU(4):r===40?a.ccFON():r===41?a.ccRDC():r===42?a.ccTR():r===43?a.ccRTD():r===44?a.ccEDM():r===45?a.ccCR():r===46?a.ccENM():r===47&&a.ccEOC():a.ccTO(r-32),this.currentChannel=s,!0}parseMidrow(e,r){let n=0;if((e===17||e===25)&&r>=32&&r<=47){if(e===17?n=1:n=2,n!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;const i=this.channels[n];return i?(i.ccMIDROW(r),this.logger.log(3,()=>"MIDROW ("+tv([e,r])+")"),!0):!1}return!1}parsePAC(e,r){let n;const i=(e>=17&&e<=23||e>=25&&e<=31)&&r>=64&&r<=127,s=(e===16||e===24)&&r>=64&&r<=95;if(!(i||s))return!1;const a=e<=23?1:2;r>=64&&r<=95?n=a===1?C9e[e]:N9e[e]:n=a===1?j9e[e]:k9e[e];const c=this.channels[a];return c?(c.setPAC(this.interpretPAC(n,r)),this.currentChannel=a,!0):!1}interpretPAC(e,r){let n;const i={color:null,italics:!1,indent:null,underline:!1,row:e};return r>95?n=r-96:n=r-64,i.underline=(n&1)===1,n<=13?i.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(n/2)]:n<=15?(i.italics=!0,i.color="white"):i.indent=Math.floor((n-16)/2)*4,i}parseChars(e,r){let n,i=null,s=null;if(e>=25?(n=2,s=e-8):(n=1,s=e),s>=17&&s<=19){let a;s===17?a=r+80:s===18?a=r+112:a=r+144,this.logger.log(2,()=>"Special char '"+Wie(a)+"' in channel "+n),i=[a]}else e>=32&&e<=127&&(i=r===0?[e]:[e,r]);return i&&this.logger.log(3,()=>"Char codes =  "+tv(i).join(",")),i}parseBackgroundAttributes(e,r){const n=(e===16||e===24)&&r>=32&&r<=47,i=(e===23||e===31)&&r>=45&&r<=47;if(!(n||i))return!1;let s;const a={};e===16||e===24?(s=Math.floor((r-32)/2),a.background=I9e[s],r%2===1&&(a.background=a.background+"_semi")):r===45?a.background="transparent":(a.foreground="black",r===47&&(a.underline=!0));const c=e<=23?1:2;return this.channels[c].setBkgData(a),!0}reset(){for(let e=0;e<Object.keys(this.channels).length;e++){const r=this.channels[e];r&&r.reset()}tS(null,null,this.cmdHistory)}cueSplitAtTime(e){for(let r=0;r<this.channels.length;r++){const n=this.channels[r];n&&n.cueSplitAtTime(e)}}}function tS(t,e,r){r.a=t,r.b=e}function P9e(t,e,r){return r.a===t&&r.b===e}function R9e(){return{a:null,b:null}}var pF=(function(){if(Oj!=null&&Oj.VTTCue)return self.VTTCue;const t=["","lr","rl"],e=["start","middle","end","left","right"];function r(c,u){if(typeof u!="string"||!Array.isArray(c))return!1;const l=u.toLowerCase();return~c.indexOf(l)?l:!1}function n(c){return r(t,c)}function i(c){return r(e,c)}function s(c,...u){let l=1;for(;l<arguments.length;l++){const d=arguments[l];for(const f in d)c[f]=d[f]}return c}function a(c,u,l){const d=this,f={enumerable:!0};d.hasBeenReset=!1;let A="",p=!1,v=c,y=u,x=l,w=null,E="",T=!0,C="auto",j="start",P=50,U="middle",W=50,q="middle";Object.defineProperty(d,"id",s({},f,{get:function(){return A},set:function(re){A=""+re}})),Object.defineProperty(d,"pauseOnExit",s({},f,{get:function(){return p},set:function(re){p=!!re}})),Object.defineProperty(d,"startTime",s({},f,{get:function(){return v},set:function(re){if(typeof re!="number")throw new TypeError("Start time must be set to a number.");v=re,this.hasBeenReset=!0}})),Object.defineProperty(d,"endTime",s({},f,{get:function(){return y},set:function(re){if(typeof re!="number")throw new TypeError("End time must be set to a number.");y=re,this.hasBeenReset=!0}})),Object.defineProperty(d,"text",s({},f,{get:function(){return x},set:function(re){x=""+re,this.hasBeenReset=!0}})),Object.defineProperty(d,"region",s({},f,{get:function(){return w},set:function(re){w=re,this.hasBeenReset=!0}})),Object.defineProperty(d,"vertical",s({},f,{get:function(){return E},set:function(re){const ie=n(re);if(ie===!1)throw new SyntaxError("An invalid or illegal string was specified.");E=ie,this.hasBeenReset=!0}})),Object.defineProperty(d,"snapToLines",s({},f,{get:function(){return T},set:function(re){T=!!re,this.hasBeenReset=!0}})),Object.defineProperty(d,"line",s({},f,{get:function(){return C},set:function(re){if(typeof re!="number"&&re!=="auto")throw new SyntaxError("An invalid number or illegal string was specified.");C=re,this.hasBeenReset=!0}})),Object.defineProperty(d,"lineAlign",s({},f,{get:function(){return j},set:function(re){const ie=i(re);if(!ie)throw new SyntaxError("An invalid or illegal string was specified.");j=ie,this.hasBeenReset=!0}})),Object.defineProperty(d,"position",s({},f,{get:function(){return P},set:function(re){if(re<0||re>100)throw new Error("Position must be between 0 and 100.");P=re,this.hasBeenReset=!0}})),Object.defineProperty(d,"positionAlign",s({},f,{get:function(){return U},set:function(re){const ie=i(re);if(!ie)throw new SyntaxError("An invalid or illegal string was specified.");U=ie,this.hasBeenReset=!0}})),Object.defineProperty(d,"size",s({},f,{get:function(){return W},set:function(re){if(re<0||re>100)throw new Error("Size must be between 0 and 100.");W=re,this.hasBeenReset=!0}})),Object.defineProperty(d,"align",s({},f,{get:function(){return q},set:function(re){const ie=i(re);if(!ie)throw new SyntaxError("An invalid or illegal string was specified.");q=ie,this.hasBeenReset=!0}})),d.displayState=void 0}return a.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},a})();class D9e{decode(e,r){if(!e)return"";if(typeof e!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}function qie(t){function e(n,i,s,a){return(n|0)*3600+(i|0)*60+(s|0)+parseFloat(a||0)}const r=t.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return r?parseFloat(r[2])>59?e(r[2],r[3],0,r[4]):e(r[1],r[2],r[3],r[4]):null}class M9e{constructor(){this.values=Object.create(null)}set(e,r){!this.get(e)&&r!==""&&(this.values[e]=r)}get(e,r,n){return n?this.has(e)?this.values[e]:r[n]:this.has(e)?this.values[e]:r}has(e){return e in this.values}alt(e,r,n){for(let i=0;i<n.length;++i)if(r===n[i]){this.set(e,r);break}}integer(e,r){/^-?\d+$/.test(r)&&this.set(e,parseInt(r,10))}percent(e,r){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(r)){const n=parseFloat(r);if(n>=0&&n<=100)return this.set(e,n),!0}return!1}}function Xie(t,e,r,n){const i=n?t.split(n):[t];for(const s in i){if(typeof i[s]!="string")continue;const a=i[s].split(r);if(a.length!==2)continue;const c=a[0],u=a[1];e(c,u)}}const tP=new pF(0,0,""),rS=tP.align==="middle"?"middle":"center";function F9e(t,e,r){const n=t;function i(){const c=qie(t);if(c===null)throw new Error("Malformed timestamp: "+n);return t=t.replace(/^[^\sa-zA-Z-]+/,""),c}function s(c,u){const l=new M9e;Xie(c,function(A,p){let v;switch(A){case"region":for(let y=r.length-1;y>=0;y--)if(r[y].id===p){l.set(A,r[y].region);break}break;case"vertical":l.alt(A,p,["rl","lr"]);break;case"line":v=p.split(","),l.integer(A,v[0]),l.percent(A,v[0])&&l.set("snapToLines",!1),l.alt(A,v[0],["auto"]),v.length===2&&l.alt("lineAlign",v[1],["start",rS,"end"]);break;case"position":v=p.split(","),l.percent(A,v[0]),v.length===2&&l.alt("positionAlign",v[1],["start",rS,"end","line-left","line-right","auto"]);break;case"size":l.percent(A,p);break;case"align":l.alt(A,p,["start",rS,"end","left","right"]);break}},/:/,/\s/),u.region=l.get("region",null),u.vertical=l.get("vertical","");let d=l.get("line","auto");d==="auto"&&tP.line===-1&&(d=-1),u.line=d,u.lineAlign=l.get("lineAlign","start"),u.snapToLines=l.get("snapToLines",!0),u.size=l.get("size",100),u.align=l.get("align",rS);let f=l.get("position","auto");f==="auto"&&tP.position===50&&(f=u.align==="start"||u.align==="left"?0:u.align==="end"||u.align==="right"?100:50),u.position=f}function a(){t=t.replace(/^\s+/,"")}if(a(),e.startTime=i(),a(),t.slice(0,3)!=="-->")throw new Error("Malformed time stamp (time stamps must be separated by '-->'): "+n);t=t.slice(3),a(),e.endTime=i(),a(),s(t,e)}function Zie(t){return t.replace(/<br(?: \/)?>/gi,`
`)}class U9e{constructor(){this.state="INITIAL",this.buffer="",this.decoder=new D9e,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}parse(e){const r=this;e&&(r.buffer+=r.decoder.decode(e,{stream:!0}));function n(){let s=r.buffer,a=0;for(s=Zie(s);a<s.length&&s[a]!=="\r"&&s[a]!==`
`;)++a;const c=s.slice(0,a);return s[a]==="\r"&&++a,s[a]===`
`&&++a,r.buffer=s.slice(a),c}function i(s){Xie(s,function(a,c){},/:/)}try{let s="";if(r.state==="INITIAL"){if(!/\r\n|\n/.test(r.buffer))return this;s=n();const c=s.match(/^()?WEBVTT([ \t].*)?$/);if(!(c!=null&&c[0]))throw new Error("Malformed WebVTT signature.");r.state="HEADER"}let a=!1;for(;r.buffer;){if(!/\r\n|\n/.test(r.buffer))return this;switch(a?a=!1:s=n(),r.state){case"HEADER":/:/.test(s)?i(s):s||(r.state="ID");continue;case"NOTE":s||(r.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(s)){r.state="NOTE";break}if(!s)continue;if(r.cue=new pF(0,0,""),r.state="CUE",s.indexOf("-->")===-1){r.cue.id=s;continue}case"CUE":if(!r.cue){r.state="BADCUE";continue}try{F9e(s,r.cue,r.regionList)}catch{r.cue=null,r.state="BADCUE";continue}r.state="CUETEXT";continue;case"CUETEXT":{const c=s.indexOf("-->")!==-1;if(!s||c&&(a=!0)){r.oncue&&r.cue&&r.oncue(r.cue),r.cue=null,r.state="ID";continue}if(r.cue===null)continue;r.cue.text&&(r.cue.text+=`
`),r.cue.text+=s}continue;case"BADCUE":s||(r.state="ID")}}}catch{r.state==="CUETEXT"&&r.cue&&r.oncue&&r.oncue(r.cue),r.cue=null,r.state=r.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this}flush(){const e=this;try{if((e.cue||e.state==="HEADER")&&(e.buffer+=`

`,e.parse()),e.state==="INITIAL"||e.state==="BADWEBVTT")throw new Error("Malformed WebVTT signature.")}catch(r){e.onparsingerror&&e.onparsingerror(r)}return e.onflush&&e.onflush(),this}}const $9e=/\r\n|\n\r|\n|\r/g,pB=function(e,r,n=0){return e.slice(n,n+r.length)===r},H9e=function(e){let r=parseInt(e.slice(-3));const n=parseInt(e.slice(-6,-4)),i=parseInt(e.slice(-9,-7)),s=e.length>9?parseInt(e.substring(0,e.indexOf(":"))):0;if(!qn(r)||!qn(n)||!qn(i)||!qn(s))throw Error(`Malformed X-TIMESTAMP-MAP: Local:${e}`);return r+=1e3*n,r+=60*1e3*i,r+=3600*1e3*s,r};function gF(t,e,r){return Gw(t.toString())+Gw(e.toString())+Gw(r)}const Q9e=function(e,r,n){let i=e[r],s=e[i.prevCC];if(!s||!s.new&&i.new){e.ccOffset=e.presentationOffset=i.start,i.new=!1;return}for(;(a=s)!=null&&a.new;){var a;e.ccOffset+=i.start-s.start,i.new=!1,i=s,s=e[i.prevCC]}e.presentationOffset=n};function V9e(t,e,r,n,i,s,a){const c=new U9e,u=Af(new Uint8Array(t)).trim().replace($9e,`
`).split(`
`),l=[],d=e?q7e(e.baseTime,e.timescale):0;let f="00:00.000",A=0,p=0,v,y=!0;c.oncue=function(x){const w=r[n];let E=r.ccOffset;const T=(A-d)/9e4;if(w!=null&&w.new&&(p!==void 0?E=r.ccOffset=w.start:Q9e(r,n,T)),T){if(!e){v=new Error("Missing initPTS for VTT MPEGTS");return}E=T-r.presentationOffset}const C=x.endTime-x.startTime,j=rf((x.startTime+E-p)*9e4,i*9e4)/9e4;x.startTime=Math.max(j,0),x.endTime=Math.max(j+C,0);const P=x.text.trim();x.text=decodeURIComponent(encodeURIComponent(P)),x.id||(x.id=gF(x.startTime,x.endTime,P)),x.endTime>0&&l.push(x)},c.onparsingerror=function(x){v=x},c.onflush=function(){if(v){a(v);return}s(l)},u.forEach(x=>{if(y)if(pB(x,"X-TIMESTAMP-MAP=")){y=!1,x.slice(16).split(",").forEach(w=>{pB(w,"LOCAL:")?f=w.slice(6):pB(w,"MPEGTS:")&&(A=parseInt(w.slice(7)))});try{p=H9e(f)/1e3}catch(w){v=w}return}else x===""&&(y=!1);c.parse(x+`
`)}),c.flush()}const gB="stpp.ttml.im1t",Jie=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,ese=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,z9e={left:"start",center:"center",right:"end",start:"start",end:"end"};function WK(t,e,r,n){const i=pa(new Uint8Array(t),["mdat"]);if(i.length===0){n(new Error("Could not parse IMSC1 mdat"));return}const s=i.map(c=>Af(c)),a=Y7e(e.baseTime,1,e.timescale);try{s.forEach(c=>r(K9e(c,a)))}catch(c){n(c)}}function K9e(t,e){const i=new DOMParser().parseFromString(t,"text/xml").getElementsByTagName("tt")[0];if(!i)throw new Error("Invalid ttml");const s={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},a=Object.keys(s).reduce((f,A)=>(f[A]=i.getAttribute(`ttp:${A}`)||s[A],f),{}),c=i.getAttribute("xml:space")!=="preserve",u=YK(vB(i,"styling","style")),l=YK(vB(i,"layout","region")),d=vB(i,"body","[begin]");return[].map.call(d,f=>{const A=tse(f,c);if(!A||!f.hasAttribute("begin"))return null;const p=xB(f.getAttribute("begin"),a),v=xB(f.getAttribute("dur"),a);let y=xB(f.getAttribute("end"),a);if(p===null)throw qK(f);if(y===null){if(v===null)throw qK(f);y=p+v}const x=new pF(p-e,y-e,A);x.id=gF(x.startTime,x.endTime,x.text);const w=l[f.getAttribute("region")],E=u[f.getAttribute("style")],T=G9e(w,E,u),{textAlign:C}=T;if(C){const j=z9e[C];j&&(x.lineAlign=j),x.align=C}return nl(x,T),x}).filter(f=>f!==null)}function vB(t,e,r){const n=t.getElementsByTagName(e)[0];return n?[].slice.call(n.querySelectorAll(r)):[]}function YK(t){return t.reduce((e,r)=>{const n=r.getAttribute("xml:id");return n&&(e[n]=r),e},{})}function tse(t,e){return[].slice.call(t.childNodes).reduce((r,n,i)=>{var s;return n.nodeName==="br"&&i?r+`
`:(s=n.childNodes)!=null&&s.length?tse(n,e):e?r+n.textContent.trim().replace(/\s+/g," "):r+n.textContent},"")}function G9e(t,e,r){const n="http://www.w3.org/ns/ttml#styling";let i=null;const s=["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"],a=t!=null&&t.hasAttribute("style")?t.getAttribute("style"):null;return a&&r.hasOwnProperty(a)&&(i=r[a]),s.reduce((c,u)=>{const l=yB(e,n,u)||yB(t,n,u)||yB(i,n,u);return l&&(c[u]=l),c},{})}function yB(t,e,r){return t&&t.hasAttributeNS(e,r)?t.getAttributeNS(e,r):null}function qK(t){return new Error(`Could not parse ttml timestamp ${t}`)}function xB(t,e){if(!t)return null;let r=qie(t);return r===null&&(Jie.test(t)?r=W9e(t,e):ese.test(t)&&(r=Y9e(t,e))),r}function W9e(t,e){const r=Jie.exec(t),n=(r[4]|0)+(r[5]|0)/e.subFrameRate;return(r[1]|0)*3600+(r[2]|0)*60+(r[3]|0)+n/e.frameRate}function Y9e(t,e){const r=ese.exec(t),n=Number(r[1]);switch(r[2]){case"h":return n*3600;case"m":return n*60;case"ms":return n*1e3;case"f":return n/e.frameRate;case"t":return n/e.tickRate}return n}class nS{constructor(e,r){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=e,this.trackName=r}dispatchCue(){this.startTime!==null&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)}newCue(e,r,n){(this.startTime===null||this.startTime>e)&&(this.startTime=e),this.endTime=r,this.screen=n,this.timelineController.createCaptionsTrack(this.trackName)}reset(){this.cueRanges=[],this.startTime=null}}class q9e{constructor(e){this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=ZK(),this.captionsProperties=void 0,this.hls=e,this.config=e.config,this.Cues=e.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},e.on(Ie.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(Ie.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(Ie.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Ie.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(Ie.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(Ie.FRAG_LOADING,this.onFragLoading,this),e.on(Ie.FRAG_LOADED,this.onFragLoaded,this),e.on(Ie.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.on(Ie.FRAG_DECRYPTED,this.onFragDecrypted,this),e.on(Ie.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(Ie.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.on(Ie.BUFFER_FLUSHING,this.onBufferFlushing,this)}destroy(){const{hls:e}=this;e.off(Ie.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(Ie.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(Ie.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Ie.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(Ie.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(Ie.FRAG_LOADING,this.onFragLoading,this),e.off(Ie.FRAG_LOADED,this.onFragLoaded,this),e.off(Ie.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.off(Ie.FRAG_DECRYPTED,this.onFragDecrypted,this),e.off(Ie.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(Ie.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.off(Ie.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.media=null,this.cea608Parser1=this.cea608Parser2=void 0}initCea608Parsers(){const e=new nS(this,"textTrack1"),r=new nS(this,"textTrack2"),n=new nS(this,"textTrack3"),i=new nS(this,"textTrack4");this.cea608Parser1=new GK(1,e,r),this.cea608Parser2=new GK(3,n,i)}addCues(e,r,n,i,s){let a=!1;for(let c=s.length;c--;){const u=s[c],l=X9e(u[0],u[1],r,n);if(l>=0&&(u[0]=Math.min(u[0],r),u[1]=Math.max(u[1],n),a=!0,l/(n-r)>.5))return}if(a||s.push([r,n]),this.config.renderTextTracksNatively){const c=this.captionsTracks[e];this.Cues.newCue(c,r,n,i)}else{const c=this.Cues.newCue(null,r,n,i);this.hls.trigger(Ie.CUES_PARSED,{type:"captions",cues:c,track:e})}}onInitPtsFound(e,{frag:r,id:n,initPTS:i,timescale:s,trackId:a}){const{unparsedVttFrags:c}=this;n===fi.MAIN&&(this.initPTS[r.cc]={baseTime:i,timescale:s,trackId:a}),c.length&&(this.unparsedVttFrags=[],c.forEach(u=>{this.initPTS[u.frag.cc]?this.onFragLoaded(Ie.FRAG_LOADED,u):this.hls.trigger(Ie.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:u.frag,error:new Error("Subtitle discontinuity domain does not match main")})}))}getExistingTrack(e,r){const{media:n}=this;if(n)for(let i=0;i<n.textTracks.length;i++){const s=n.textTracks[i];if(XK(s,{name:e,lang:r,characteristics:"transcribes-spoken-dialog,describes-music-and-sound"}))return s}return null}createCaptionsTrack(e){this.config.renderTextTracksNatively?this.createNativeTrack(e):this.createNonNativeTrack(e)}createNativeTrack(e){if(this.captionsTracks[e])return;const{captionsProperties:r,captionsTracks:n,media:i}=this,{label:s,languageCode:a}=r[e],c=this.getExistingTrack(s,a);if(c)n[e]=c,Gx(n[e]),zie(n[e],i);else{const u=this.createTextTrack("captions",s,a);u&&(u[e]=!0,n[e]=u)}}createNonNativeTrack(e){if(this.nonNativeCaptionsTracks[e])return;const r=this.captionsProperties[e];if(!r)return;const n=r.label,i={_id:e,label:n,kind:"captions",default:r.media?!!r.media.default:!1,closedCaptions:r.media};this.nonNativeCaptionsTracks[e]=i,this.hls.trigger(Ie.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[i]})}createTextTrack(e,r,n){const i=this.media;if(i)return i.addTextTrack(e,r,n)}onMediaAttaching(e,r){this.media=r.media,r.mediaSource||this._cleanTracks()}onMediaDetaching(e,r){const n=!!r.transferMedia;if(this.media=null,n)return;const{captionsTracks:i}=this;Object.keys(i).forEach(s=>{Gx(i[s]),delete i[s]}),this.nonNativeCaptionsTracks={}}onManifestLoading(){this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=ZK(),this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())}_cleanTracks(){const{media:e}=this;if(!e)return;const r=e.textTracks;if(r)for(let n=0;n<r.length;n++)Gx(r[n])}onSubtitleTracksUpdated(e,r){const n=r.subtitleTracks||[],i=n.some(s=>s.textCodec===gB);if(this.config.enableWebVTT||i&&this.config.enableIMSC1){if(Lie(this.tracks,n)){this.tracks=n;return}if(this.textTracks=[],this.tracks=n,this.config.renderTextTracksNatively){const a=this.media,c=a?KS(a.textTracks):null;if(this.tracks.forEach((u,l)=>{let d;if(c){let f=null;for(let A=0;A<c.length;A++)if(c[A]&&XK(c[A],u)){f=c[A],c[A]=null;break}f&&(d=f)}if(d)Gx(d);else{const f=rse(u);d=this.createTextTrack(f,u.name,u.lang),d&&(d.mode="disabled")}d&&this.textTracks.push(d)}),c!=null&&c.length){const u=c.filter(l=>l!==null).map(l=>l.label);u.length&&this.hls.logger.warn(`Media element contains unused subtitle tracks: ${u.join(", ")}. Replace media element for each source to clear TextTracks and captions menu.`)}}else if(this.tracks.length){const a=this.tracks.map(c=>({label:c.name,kind:c.type.toLowerCase(),default:c.default,subtitleTrack:c}));this.hls.trigger(Ie.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:a})}}}onManifestLoaded(e,r){this.config.enableCEA708Captions&&r.captions&&r.captions.forEach(n=>{const i=/(?:CC|SERVICE)([1-4])/.exec(n.instreamId);if(!i)return;const s=`textTrack${i[1]}`,a=this.captionsProperties[s];a&&(a.label=n.name,n.lang&&(a.languageCode=n.lang),a.media=n)})}closedCaptionsForLevel(e){const r=this.hls.levels[e.level];return r?.attrs["CLOSED-CAPTIONS"]}onFragLoading(e,r){if(this.enabled&&r.frag.type===fi.MAIN){var n,i;const{cea608Parser1:s,cea608Parser2:a,lastSn:c}=this,{cc:u,sn:l}=r.frag,d=(n=(i=r.part)==null?void 0:i.index)!=null?n:-1;s&&a&&(l!==c+1||l===c&&d!==this.lastPartIndex+1||u!==this.lastCc)&&(s.reset(),a.reset()),this.lastCc=u,this.lastSn=l,this.lastPartIndex=d}}onFragLoaded(e,r){const{frag:n,payload:i}=r;if(n.type===fi.SUBTITLE)if(i.byteLength){const s=n.decryptdata,a="stats"in r;if(s==null||!s.encrypted||a){const c=this.tracks[n.level],u=this.vttCCs;u[n.cc]||(u[n.cc]={start:n.start,prevCC:this.prevCC,new:!0},this.prevCC=n.cc),c&&c.textCodec===gB?this._parseIMSC1(n,i):this._parseVTTs(r)}}else this.hls.trigger(Ie.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n,error:new Error("Empty subtitle payload")})}_parseIMSC1(e,r){const n=this.hls;WK(r,this.initPTS[e.cc],i=>{this._appendCues(i,e.level),n.trigger(Ie.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})},i=>{n.logger.log(`Failed to parse IMSC1: ${i}`),n.trigger(Ie.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e,error:i})})}_parseVTTs(e){var r;const{frag:n,payload:i}=e,{initPTS:s,unparsedVttFrags:a}=this,c=s.length-1;if(!s[n.cc]&&c===-1){a.push(e);return}const u=this.hls,l=(r=n.initSegment)!=null&&r.data?Wf(n.initSegment.data,new Uint8Array(i)).buffer:i;V9e(l,this.initPTS[n.cc],this.vttCCs,n.cc,n.start,d=>{this._appendCues(d,n.level),u.trigger(Ie.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:n})},d=>{const f=d.message==="Missing initPTS for VTT MPEGTS";f?a.push(e):this._fallbackToIMSC1(n,i),u.logger.log(`Failed to parse VTT cue: ${d}`),!(f&&c>n.cc)&&u.trigger(Ie.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n,error:d})})}_fallbackToIMSC1(e,r){const n=this.tracks[e.level];n.textCodec||WK(r,this.initPTS[e.cc],()=>{n.textCodec=gB,this._parseIMSC1(e,r)},()=>{n.textCodec="wvtt"})}_appendCues(e,r){const n=this.hls;if(this.config.renderTextTracksNatively){const i=this.textTracks[r];if(!i||i.mode==="disabled")return;e.forEach(s=>Kie(i,s))}else{const i=this.tracks[r];if(!i)return;const s=i.default?"default":"subtitles"+r;n.trigger(Ie.CUES_PARSED,{type:"subtitles",cues:e,track:s})}}onFragDecrypted(e,r){const{frag:n}=r;n.type===fi.SUBTITLE&&this.onFragLoaded(Ie.FRAG_LOADED,r)}onSubtitleTracksCleared(){this.tracks=[],this.captionsTracks={}}onFragParsingUserdata(e,r){if(!this.enabled||!this.config.enableCEA708Captions)return;const{frag:n,samples:i}=r;if(!(n.type===fi.MAIN&&this.closedCaptionsForLevel(n)==="NONE"))for(let s=0;s<i.length;s++){const a=i[s].bytes;if(a){this.cea608Parser1||this.initCea608Parsers();const c=this.extractCea608Data(a);this.cea608Parser1.addData(i[s].pts,c[0]),this.cea608Parser2.addData(i[s].pts,c[1])}}}onBufferFlushing(e,{startOffset:r,endOffset:n,endOffsetSubtitles:i,type:s}){const{media:a}=this;if(!(!a||a.currentTime<n)){if(!s||s==="video"){const{captionsTracks:c}=this;Object.keys(c).forEach(u=>eP(c[u],r,n))}if(this.config.renderTextTracksNatively&&r===0&&i!==void 0){const{textTracks:c}=this;Object.keys(c).forEach(u=>eP(c[u],r,i))}}}extractCea608Data(e){const r=[[],[]],n=e[0]&31;let i=2;for(let s=0;s<n;s++){const a=e[i++],c=127&e[i++],u=127&e[i++];if(c===0&&u===0)continue;if((4&a)!==0){const d=3&a;(d===0||d===1)&&(r[d].push(c),r[d].push(u))}}return r}}function rse(t){return t.characteristics&&/transcribes-spoken-dialog/gi.test(t.characteristics)&&/describes-music-and-sound/gi.test(t.characteristics)?"captions":"subtitles"}function XK(t,e){return!!t&&t.kind===rse(e)&&qO(e,t)}function X9e(t,e,r,n){return Math.min(e,n)-Math.max(t,r)}function ZK(){return{ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}}}const Z9e=/\s/,J9e={newCue(t,e,r,n){const i=[];let s,a,c,u,l;const d=self.VTTCue||self.TextTrackCue;for(let A=0;A<n.rows.length;A++)if(s=n.rows[A],c=!0,u=0,l="",!s.isEmpty()){var f;for(let y=0;y<s.chars.length;y++)Z9e.test(s.chars[y].uchar)&&c?u++:(l+=s.chars[y].uchar,c=!1);s.cueStartTime=e,e===r&&(r+=1e-4),u>=16?u--:u++;const p=Zie(l.trim()),v=gF(e,r,p);t!=null&&(f=t.cues)!=null&&f.getCueById(v)||(a=new d(e,r,p),a.id=v,a.line=A+1,a.align="left",a.position=10+Math.min(80,Math.floor(u*8/32)*10),i.push(a))}return t&&i.length&&(i.sort((A,p)=>A.line==="auto"||p.line==="auto"?0:A.line>8&&p.line>8?p.line-A.line:A.line-p.line),i.forEach(A=>Kie(t,A))),i}};function eHe(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch{}return!1}const tHe=/(\d+)-(\d+)\/(\d+)/;class JK{constructor(e){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=null,this.response=null,this.controller=void 0,this.context=null,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=e.fetchSetup||sHe,this.controller=new self.AbortController,this.stats=new qM}destroy(){this.loader=this.callbacks=this.context=this.config=this.request=null,this.abortInternal(),this.response=null,this.fetchSetup=this.controller=this.stats=null}abortInternal(){this.controller&&!this.stats.loading.end&&(this.stats.aborted=!0,this.controller.abort())}abort(){var e;this.abortInternal(),(e=this.callbacks)!=null&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)}load(e,r,n){const i=this.stats;if(i.loading.start)throw new Error("Loader can only be used once.");i.loading.start=self.performance.now();const s=rHe(e,this.controller.signal),a=e.responseType==="arraybuffer",c=a?"byteLength":"length",{maxTimeToFirstByteMs:u,maxLoadTimeMs:l}=r.loadPolicy;this.context=e,this.config=r,this.callbacks=n,this.request=this.fetchSetup(e,s),self.clearTimeout(this.requestTimeout),r.timeout=u&&qn(u)?u:l,this.requestTimeout=self.setTimeout(()=>{this.callbacks&&(this.abortInternal(),this.callbacks.onTimeout(i,e,this.response))},r.timeout),(UE(this.request)?this.request.then(self.fetch):self.fetch(this.request)).then(f=>{var A;this.response=this.loader=f;const p=Math.max(self.performance.now(),i.loading.start);if(self.clearTimeout(this.requestTimeout),r.timeout=l,this.requestTimeout=self.setTimeout(()=>{this.callbacks&&(this.abortInternal(),this.callbacks.onTimeout(i,e,this.response))},l-(p-i.loading.start)),!f.ok){const{status:y,statusText:x}=f;throw new aHe(x||"fetch, bad network response",y,f)}i.loading.first=p,i.total=iHe(f.headers)||i.total;const v=(A=this.callbacks)==null?void 0:A.onProgress;return v&&qn(r.highWaterMark)?this.loadProgressively(f,i,e,r.highWaterMark,v):a?f.arrayBuffer():e.responseType==="json"?f.json():f.text()}).then(f=>{var A,p;const v=this.response;if(!v)throw new Error("loader destroyed");self.clearTimeout(this.requestTimeout),i.loading.end=Math.max(self.performance.now(),i.loading.first);const y=f[c];y&&(i.loaded=i.total=y);const x={url:v.url,data:f,code:v.status},w=(A=this.callbacks)==null?void 0:A.onProgress;w&&!qn(r.highWaterMark)&&w(i,e,f,v),(p=this.callbacks)==null||p.onSuccess(x,i,e,v)}).catch(f=>{var A;if(self.clearTimeout(this.requestTimeout),i.aborted)return;const p=f&&f.code||0,v=f?f.message:null;(A=this.callbacks)==null||A.onError({code:p,text:v},e,f?f.details:null,i)})}getCacheAge(){let e=null;if(this.response){const r=this.response.headers.get("age");e=r?parseFloat(r):null}return e}getResponseHeader(e){return this.response?this.response.headers.get(e):null}loadProgressively(e,r,n,i=0,s){const a=new hie,c=e.body.getReader(),u=()=>c.read().then(l=>{if(l.done)return a.dataLength&&s(r,n,a.flush().buffer,e),Promise.resolve(new ArrayBuffer(0));const d=l.value,f=d.length;return r.loaded+=f,f<i||a.dataLength?(a.push(d),a.dataLength>=i&&s(r,n,a.flush().buffer,e)):s(r,n,d.buffer,e),u()}).catch(()=>Promise.reject());return u()}}function rHe(t,e){const r={method:"GET",mode:"cors",credentials:"same-origin",signal:e,headers:new self.Headers(nl({},t.headers))};return t.rangeEnd&&r.headers.set("Range","bytes="+t.rangeStart+"-"+String(t.rangeEnd-1)),r}function nHe(t){const e=tHe.exec(t);if(e)return parseInt(e[2])-parseInt(e[1])+1}function iHe(t){const e=t.get("Content-Range");if(e){const n=nHe(e);if(qn(n))return n}const r=t.get("Content-Length");if(r)return parseInt(r)}function sHe(t,e){return new self.Request(t.url,e)}class aHe extends Error{constructor(e,r,n){super(e),this.code=void 0,this.details=void 0,this.code=r,this.details=n}}const oHe=/^age:\s*[\d.]+\s*$/im;class nse{constructor(e){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=null,this.loader=null,this.stats=void 0,this.xhrSetup=e&&e.xhrSetup||null,this.stats=new qM,this.retryDelay=0}destroy(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null,this.context=null,this.xhrSetup=null}abortInternal(){const e=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),e&&(e.onreadystatechange=null,e.onprogress=null,e.readyState!==4&&(this.stats.aborted=!0,e.abort()))}abort(){var e;this.abortInternal(),(e=this.callbacks)!=null&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)}load(e,r,n){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=e,this.config=r,this.callbacks=n,this.loadInternal()}loadInternal(){const{config:e,context:r}=this;if(!e||!r)return;const n=this.loader=new self.XMLHttpRequest,i=this.stats;i.loading.first=0,i.loaded=0,i.aborted=!1;const s=this.xhrSetup;s?Promise.resolve().then(()=>{if(!(this.loader!==n||this.stats.aborted))return s(n,r.url)}).catch(a=>{if(!(this.loader!==n||this.stats.aborted))return n.open("GET",r.url,!0),s(n,r.url)}).then(()=>{this.loader!==n||this.stats.aborted||this.openAndSendXhr(n,r,e)}).catch(a=>{var c;(c=this.callbacks)==null||c.onError({code:n.status,text:a.message},r,n,i)}):this.openAndSendXhr(n,r,e)}openAndSendXhr(e,r,n){e.readyState||e.open("GET",r.url,!0);const i=r.headers,{maxTimeToFirstByteMs:s,maxLoadTimeMs:a}=n.loadPolicy;if(i)for(const c in i)e.setRequestHeader(c,i[c]);r.rangeEnd&&e.setRequestHeader("Range","bytes="+r.rangeStart+"-"+(r.rangeEnd-1)),e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.responseType=r.responseType,self.clearTimeout(this.requestTimeout),n.timeout=s&&qn(s)?s:a,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),n.timeout),e.send()}readystatechange(){const{context:e,loader:r,stats:n}=this;if(!e||!r)return;const i=r.readyState,s=this.config;if(!n.aborted&&i>=2&&(n.loading.first===0&&(n.loading.first=Math.max(self.performance.now(),n.loading.start),s.timeout!==s.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),s.timeout=s.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),s.loadPolicy.maxLoadTimeMs-(n.loading.first-n.loading.start)))),i===4)){self.clearTimeout(this.requestTimeout),r.onreadystatechange=null,r.onprogress=null;const l=r.status,d=r.responseType==="text"?r.responseText:null;if(l>=200&&l<300){const v=d??r.response;if(v!=null){var a,c;n.loading.end=Math.max(self.performance.now(),n.loading.first);const y=r.responseType==="arraybuffer"?v.byteLength:v.length;n.loaded=n.total=y,n.bwEstimate=n.total*8e3/(n.loading.end-n.loading.first);const x=(a=this.callbacks)==null?void 0:a.onProgress;x&&x(n,e,v,r);const w={url:r.responseURL,data:v,code:l};(c=this.callbacks)==null||c.onSuccess(w,n,e,r);return}}const f=s.loadPolicy.errorRetry,A=n.retry,p={url:e.url,data:void 0,code:l};if(Lj(f,A,!1,p))this.retry(f);else{var u;$o.error(`${l} while loading ${e.url}`),(u=this.callbacks)==null||u.onError({code:l,text:r.statusText},e,r,n)}}}loadtimeout(){if(!this.config)return;const e=this.config.loadPolicy.timeoutRetry,r=this.stats.retry;if(Lj(e,r,!0))this.retry(e);else{var n;$o.warn(`timeout while loading ${(n=this.context)==null?void 0:n.url}`);const i=this.callbacks;i&&(this.abortInternal(),i.onTimeout(this.stats,this.context,this.loader))}}retry(e){const{context:r,stats:n}=this;this.retryDelay=eF(e,n.retry),n.retry++,$o.warn(`${status?"HTTP Status "+status:"Timeout"} while loading ${r?.url}, retrying ${n.retry}/${e.maxNumRetry} in ${this.retryDelay}ms`),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)}loadprogress(e){const r=this.stats;r.loaded=e.loaded,e.lengthComputable&&(r.total=e.total)}getCacheAge(){let e=null;if(this.loader&&oHe.test(this.loader.getAllResponseHeaders())){const r=this.loader.getResponseHeader("age");e=r?parseFloat(r):null}return e}getResponseHeader(e){return this.loader&&new RegExp(`^${e}:\\s*[\\d.]+\\s*$`,"im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(e):null}}const lHe={maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null},cHe=Fo(Fo({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,maxDevicePixelRatio:Number.POSITIVE_INFINITY,preferManagedMediaSource:!0,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,frontBufferFlushThreshold:1/0,startOnSegmentBoundary:!1,maxBufferSize:60*1e3*1e3,maxFragLookUpTolerance:.25,maxBufferHole:.1,detectStallWithCurrentTimeMs:1250,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,nudgeOnVideoHole:!0,liveSyncMode:"edge",liveSyncDurationCount:3,liveSyncOnStallIncrease:1,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,ignorePlaylistParsingErrors:!1,loader:nse,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:b8e,bufferController:d$e,capLevelController:_5,errorController:T8e,fpsController:h9e,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrEwmaDefaultEstimateMax:5e6,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:tie,requireKeySystemAccessOnStart:!1,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableEmsgKLVMetadata:!1,enableID3MetadataCues:!0,enableInterstitialPlayback:!0,interstitialAppendInPlace:!0,interstitialLiveLookAhead:10,useMediaCapabilities:!0,preserveManualLevelOnError:!1,certLoadPolicy:{default:lHe},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},interstitialAssetListLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:3e4,timeoutRetry:{maxNumRetry:0,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:0,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},uHe()),{},{subtitleStreamController:_9e,subtitleTrackController:m9e,timelineController:q9e,audioStreamController:o$e,audioTrackController:l$e,emeController:ab,cmcdController:l9e,contentSteeringController:u9e,interstitialsController:E9e});function uHe(){return{cueHandler:J9e,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}}function dHe(t,e,r){if((e.liveSyncDurationCount||e.liveMaxLatencyDurationCount)&&(e.liveSyncDuration||e.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(e.liveMaxLatencyDurationCount!==void 0&&(e.liveSyncDurationCount===void 0||e.liveMaxLatencyDurationCount<=e.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(e.liveMaxLatencyDuration!==void 0&&(e.liveSyncDuration===void 0||e.liveMaxLatencyDuration<=e.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');const n=rP(t),i=["manifest","level","frag"],s=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return i.forEach(a=>{const c=`${a==="level"?"playlist":a}LoadPolicy`,u=e[c]===void 0,l=[];s.forEach(d=>{const f=`${a}Loading${d}`,A=e[f];if(A!==void 0&&u){l.push(f);const p=n[c].default;switch(e[c]={default:p},d){case"TimeOut":p.maxLoadTimeMs=A,p.maxTimeToFirstByteMs=A;break;case"MaxRetry":p.errorRetry.maxNumRetry=A,p.timeoutRetry.maxNumRetry=A;break;case"RetryDelay":p.errorRetry.retryDelayMs=A,p.timeoutRetry.retryDelayMs=A;break;case"MaxRetryTimeout":p.errorRetry.maxRetryDelayMs=A,p.timeoutRetry.maxRetryDelayMs=A;break}}}),l.length&&r.warn(`hls.js config: "${l.join('", "')}" setting(s) are deprecated, use "${c}": ${fl(e[c])}`)}),Fo(Fo({},n),e)}function rP(t){return t&&typeof t=="object"?Array.isArray(t)?t.map(rP):Object.keys(t).reduce((e,r)=>(e[r]=rP(t[r]),e),{}):t}function hHe(t,e){const r=t.loader;r!==JK&&r!==nse?(e.log("[config]: Custom loader detected, cannot enable progressive streaming"),t.progressive=!1):eHe()&&(t.loader=JK,t.progressive=!0,t.enableSoftwareAES=!0,e.log("[config]: Progressive streaming enabled, using FetchLoader"))}const GS=2,fHe=.1,AHe=.05,mHe=100;class pHe extends qne{constructor(e,r){super("gap-controller",e.logger),this.hls=void 0,this.fragmentTracker=void 0,this.media=null,this.mediaSource=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.buffered={},this.lastCurrentTime=0,this.ended=0,this.waiting=0,this.onMediaPlaying=()=>{this.ended=0,this.waiting=0},this.onMediaWaiting=()=>{var n;(n=this.media)!=null&&n.seeking||(this.waiting=self.performance.now(),this.tick())},this.onMediaEnded=()=>{if(this.hls){var n;this.ended=((n=this.media)==null?void 0:n.currentTime)||1,this.hls.trigger(Ie.MEDIA_ENDED,{stalled:!1})}},this.hls=e,this.fragmentTracker=r,this.registerListeners()}registerListeners(){const{hls:e}=this;e&&(e.on(Ie.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(Ie.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(Ie.BUFFER_APPENDED,this.onBufferAppended,this))}unregisterListeners(){const{hls:e}=this;e&&(e.off(Ie.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(Ie.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(Ie.BUFFER_APPENDED,this.onBufferAppended,this))}destroy(){super.destroy(),this.unregisterListeners(),this.media=this.hls=this.fragmentTracker=null,this.mediaSource=void 0}onMediaAttached(e,r){this.setInterval(mHe),this.mediaSource=r.mediaSource;const n=this.media=r.media;mh(n,"playing",this.onMediaPlaying),mh(n,"waiting",this.onMediaWaiting),mh(n,"ended",this.onMediaEnded)}onMediaDetaching(e,r){this.clearInterval();const{media:n}=this;n&&(Ph(n,"playing",this.onMediaPlaying),Ph(n,"waiting",this.onMediaWaiting),Ph(n,"ended",this.onMediaEnded),this.media=null),this.mediaSource=void 0}onBufferAppended(e,r){this.buffered=r.timeRanges}get hasBuffered(){return Object.keys(this.buffered).length>0}tick(){var e;if(!((e=this.media)!=null&&e.readyState)||!this.hasBuffered)return;const r=this.media.currentTime;this.poll(r,this.lastCurrentTime),this.lastCurrentTime=r}poll(e,r){var n,i;const s=(n=this.hls)==null?void 0:n.config;if(!s)return;const a=this.media;if(!a)return;const{seeking:c}=a,u=this.seeking&&!c,l=!this.seeking&&c,d=a.paused&&!c||a.ended||a.playbackRate===0;if(this.seeking=c,e!==r){r&&(this.ended=0),this.moved=!0,c||(this.nudgeRetry=0,s.nudgeOnVideoHole&&!d&&e>r&&this.nudgeOnVideoHole(e,r)),this.waiting===0&&this.stallResolved(e);return}if(l||u){u&&this.stallResolved(e);return}if(d){this.nudgeRetry=0,this.stallResolved(e),!this.ended&&a.ended&&this.hls&&(this.ended=e||1,this.hls.trigger(Ie.MEDIA_ENDED,{stalled:!1}));return}if(!Us.getBuffered(a).length){this.nudgeRetry=0;return}const f=Us.bufferInfo(a,e,0),A=f.nextStart||0,p=this.fragmentTracker;if(c&&p&&this.hls){const P=eG(this.hls.inFlightFragments,e),U=f.len>GS,W=!A||P||A-e>GS&&!p.getPartialFragment(e);if(U||W)return;this.moved=!1}const v=(i=this.hls)==null?void 0:i.latestLevelDetails;if(!this.moved&&this.stalled!==null&&p){if(!(f.len>0)&&!A)return;const U=Math.max(A,f.start||0)-e,q=!!(v!=null&&v.live)?v.targetduration*2:GS,re=iS(e,p);if(U>0&&(U<=q||re)){a.paused||this._trySkipBufferHole(re);return}}const y=s.detectStallWithCurrentTimeMs,x=self.performance.now(),w=this.waiting;let E=this.stalled;if(E===null)if(w>0&&x-w<y)E=this.stalled=w;else{this.stalled=x;return}const T=x-E;if(!c&&(T>=y||w)&&this.hls){var C;if(((C=this.mediaSource)==null?void 0:C.readyState)==="ended"&&!(v!=null&&v.live)&&Math.abs(e-(v?.edge||0))<1){if(this.ended)return;this.ended=e||1,this.hls.trigger(Ie.MEDIA_ENDED,{stalled:!0});return}if(this._reportStall(f),!this.media||!this.hls)return}const j=Us.bufferInfo(a,e,s.maxBufferHole);this._tryFixBufferStall(j,T,e)}stallResolved(e){const r=this.stalled;if(r&&this.hls&&(this.stalled=null,this.stallReported)){const n=self.performance.now()-r;this.log(`playback not stuck anymore @${e}, after ${Math.round(n)}ms`),this.stallReported=!1,this.waiting=0,this.hls.trigger(Ie.STALL_RESOLVED,{})}}nudgeOnVideoHole(e,r){var n;const i=this.buffered.video;if(this.hls&&this.media&&this.fragmentTracker&&(n=this.buffered.audio)!=null&&n.length&&i&&i.length>1&&e>i.end(0)){const s=Us.bufferedInfo(Us.timeRangesToArray(this.buffered.audio),e,0);if(s.len>1&&r>=s.start){const a=Us.timeRangesToArray(i),c=Us.bufferedInfo(a,r,0).bufferedIndex;if(c>-1&&c<a.length-1){const u=Us.bufferedInfo(a,e,0).bufferedIndex,l=a[c].end,d=a[c+1].start;if((u===-1||u>c)&&d-l<1&&e-l<2){const f=new Error(`nudging playhead to flush pipeline after video hole. currentTime: ${e} hole: ${l} -> ${d} buffered index: ${u}`);this.warn(f.message),this.media.currentTime+=1e-6;let A=iS(e,this.fragmentTracker);A&&"fragment"in A?A=A.fragment:A||(A=void 0);const p=Us.bufferInfo(this.media,e,0);this.hls.trigger(Ie.ERROR,{type:Pi.MEDIA_ERROR,details:gr.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:f,reason:f.message,frag:A,buffer:p.len,bufferInfo:p})}}}}}_tryFixBufferStall(e,r,n){var i,s;const{fragmentTracker:a,media:c}=this,u=(i=this.hls)==null?void 0:i.config;if(!c||!a||!u)return;const l=(s=this.hls)==null?void 0:s.latestLevelDetails,d=iS(n,a);if((d||l!=null&&l.live&&n<l.fragmentStart)&&(this._trySkipBufferHole(d)||!this.media))return;const f=e.buffered,A=this.adjacentTraversal(e,n);(f&&f.length>1&&e.len>u.maxBufferHole||e.nextStart&&(e.nextStart-n<u.maxBufferHole||A))&&(r>u.highBufferWatchdogPeriod*1e3||this.waiting)&&(this.warn("Trying to nudge playhead over buffer-hole"),this._tryNudgeBuffer(e))}adjacentTraversal(e,r){const n=this.fragmentTracker,i=e.nextStart;if(n&&i){const s=n.getFragAtPos(r,fi.MAIN),a=n.getFragAtPos(i,fi.MAIN);if(s&&a)return a.sn-s.sn<2}return!1}_reportStall(e){const{hls:r,media:n,stallReported:i,stalled:s}=this;if(!i&&s!==null&&n&&r){this.stallReported=!0;const a=new Error(`Playback stalling at @${n.currentTime} due to low buffer (${fl(e)})`);this.warn(a.message),r.trigger(Ie.ERROR,{type:Pi.MEDIA_ERROR,details:gr.BUFFER_STALLED_ERROR,fatal:!1,error:a,buffer:e.len,bufferInfo:e,stalled:{start:s}})}}_trySkipBufferHole(e){var r;const{fragmentTracker:n,media:i}=this,s=(r=this.hls)==null?void 0:r.config;if(!i||!n||!s)return 0;const a=i.currentTime,c=Us.bufferInfo(i,a,0),u=a<c.start?c.start:c.nextStart;if(u&&this.hls){const d=c.len<=s.maxBufferHole,f=c.len>0&&c.len<1&&i.readyState<3,A=u-a;if(A>0&&(d||f)){if(A>s.maxBufferHole){let v=!1;if(a===0){const y=n.getAppendedFrag(0,fi.MAIN);y&&u<y.end&&(v=!0)}if(!v&&e){var l;if(!((l=this.hls.loadLevelObj)!=null&&l.details)||eG(this.hls.inFlightFragments,u))return 0;let x=!1,w=e.end;for(;w<u;){const E=iS(w,n);if(E)w+=E.duration;else{x=!0;break}}if(x)return 0}}const p=Math.max(u+AHe,a+fHe);if(this.warn(`skipping hole, adjusting currentTime from ${a} to ${p}`),this.moved=!0,i.currentTime=p,!(e!=null&&e.gap)){const v=new Error(`fragment loaded with buffer holes, seeking from ${a} to ${p}`),y={type:Pi.MEDIA_ERROR,details:gr.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:v,reason:v.message,buffer:c.len,bufferInfo:c};e&&("fragment"in e?y.part=e:y.frag=e),this.hls.trigger(Ie.ERROR,y)}return p}}return 0}_tryNudgeBuffer(e){const{hls:r,media:n,nudgeRetry:i}=this,s=r?.config;if(!n||!s)return 0;const a=n.currentTime;if(this.nudgeRetry++,i<s.nudgeMaxRetry){const c=a+(i+1)*s.nudgeOffset,u=new Error(`Nudging 'currentTime' from ${a} to ${c}`);this.warn(u.message),n.currentTime=c,r.trigger(Ie.ERROR,{type:Pi.MEDIA_ERROR,details:gr.BUFFER_NUDGE_ON_STALL,error:u,fatal:!1,buffer:e.len,bufferInfo:e})}else{const c=new Error(`Playhead still not moving while enough data buffered @${a} after ${s.nudgeMaxRetry} nudges`);this.error(c.message),r.trigger(Ie.ERROR,{type:Pi.MEDIA_ERROR,details:gr.BUFFER_STALLED_ERROR,error:c,fatal:!0,buffer:e.len,bufferInfo:e})}}}function eG(t,e){const r=tG(t.main);if(r&&r.start<=e)return r;const n=tG(t.audio);return n&&n.start<=e?n:null}function tG(t){if(!t)return null;switch(t.state){case Qr.IDLE:case Qr.STOPPED:case Qr.ENDED:case Qr.ERROR:return null}return t.frag}function iS(t,e){return e.getAppendedFrag(t,fi.MAIN)||e.getPartialFragment(t)}const gHe=.25;function nP(){if(!(typeof self>"u"))return self.VTTCue||self.TextTrackCue}function bB(t,e,r,n,i){let s=new t(e,r,"");try{s.value=n,i&&(s.type=i)}catch{s=new t(e,r,fl(i?Fo({type:i},n):n))}return s}const sS=(()=>{const t=nP();try{t&&new t(0,Number.POSITIVE_INFINITY,"")}catch{return Number.MAX_VALUE}return Number.POSITIVE_INFINITY})();class vHe{constructor(e){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.removeCues=!0,this.assetCue=void 0,this.onEventCueEnter=()=>{this.hls&&this.hls.trigger(Ie.EVENT_CUE_ENTER,{})},this.hls=e,this._registerListeners()}destroy(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=this.onEventCueEnter=null}_registerListeners(){const{hls:e}=this;e&&(e.on(Ie.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(Ie.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(Ie.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(Ie.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Ie.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.on(Ie.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(Ie.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(Ie.LEVEL_PTS_UPDATED,this.onLevelPtsUpdated,this))}_unregisterListeners(){const{hls:e}=this;e&&(e.off(Ie.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(Ie.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(Ie.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(Ie.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Ie.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.off(Ie.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(Ie.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(Ie.LEVEL_PTS_UPDATED,this.onLevelPtsUpdated,this))}onMediaAttaching(e,r){var n;this.media=r.media,((n=r.overrides)==null?void 0:n.cueRemoval)===!1&&(this.removeCues=!1)}onMediaAttached(){var e;const r=(e=this.hls)==null?void 0:e.latestLevelDetails;r&&this.updateDateRangeCues(r)}onMediaDetaching(e,r){this.media=null,!r.transferMedia&&(this.id3Track&&(this.removeCues&&Gx(this.id3Track,this.onEventCueEnter),this.id3Track=null),this.dateRangeCuesAppended={})}onManifestLoading(){this.dateRangeCuesAppended={}}createTrack(e){const r=this.getID3Track(e.textTracks);return r.mode="hidden",r}getID3Track(e){if(this.media){for(let r=0;r<e.length;r++){const n=e[r];if(n.kind==="metadata"&&n.label==="id3")return zie(n,this.media),n}return this.media.addTextTrack("metadata","id3")}}onFragParsingMetadata(e,r){if(!this.media||!this.hls)return;const{enableEmsgMetadataCues:n,enableID3MetadataCues:i}=this.hls.config;if(!n&&!i)return;const{samples:s}=r;this.id3Track||(this.id3Track=this.createTrack(this.media));const a=nP();if(a)for(let c=0;c<s.length;c++){const u=s[c].type;if(u===af.emsg&&!n||!i)continue;const l=yie(s[c].data),d=s[c].pts;let f=d+s[c].duration;f>sS&&(f=sS),f-d<=0&&(f=d+gHe);for(let p=0;p<l.length;p++){const v=l[p];if(!xie(v)){this.updateId3CueEnds(d,u);const y=bB(a,d,f,v,u);y&&this.id3Track.addCue(y)}}}}updateId3CueEnds(e,r){var n;const i=(n=this.id3Track)==null?void 0:n.cues;if(i)for(let s=i.length;s--;){const a=i[s];a.type===r&&a.startTime<e&&a.endTime===sS&&(a.endTime=e)}}onBufferFlushing(e,{startOffset:r,endOffset:n,type:i}){const{id3Track:s,hls:a}=this;if(!a)return;const{config:{enableEmsgMetadataCues:c,enableID3MetadataCues:u}}=a;if(s&&(c||u)){let l;i==="audio"?l=d=>d.type===af.audioId3&&u:i==="video"?l=d=>d.type===af.emsg&&c:l=d=>d.type===af.audioId3&&u||d.type===af.emsg&&c,eP(s,r,n,l)}}onLevelUpdated(e,{details:r}){this.updateDateRangeCues(r,!0)}onLevelPtsUpdated(e,r){Math.abs(r.drift)>.01&&this.updateDateRangeCues(r.details)}updateDateRangeCues(e,r){if(!this.hls||!this.media)return;const{assetPlayerId:n,timelineOffset:i,enableDateRangeMetadataCues:s,interstitialsController:a}=this.hls.config;if(!s)return;const c=nP();if(n&&i&&!a){const{fragmentStart:y,fragmentEnd:x}=e;let w=this.assetCue;w?(w.startTime=y,w.endTime=x):c&&(w=this.assetCue=bB(c,y,x,{assetPlayerId:this.hls.config.assetPlayerId},"hlsjs.interstitial.asset"),w&&(w.id=n,this.id3Track||(this.id3Track=this.createTrack(this.media)),this.id3Track.addCue(w),w.addEventListener("enter",this.onEventCueEnter)))}if(!e.hasProgramDateTime)return;const{id3Track:u}=this,{dateRanges:l}=e,d=Object.keys(l);let f=this.dateRangeCuesAppended;if(u&&r){var A;if((A=u.cues)!=null&&A.length){const y=Object.keys(f).filter(x=>!d.includes(x));for(let x=y.length;x--;){var p;const w=y[x],E=(p=f[w])==null?void 0:p.cues;delete f[w],E&&Object.keys(E).forEach(T=>{const C=E[T];if(C){C.removeEventListener("enter",this.onEventCueEnter);try{u.removeCue(C)}catch{}}})}}else f=this.dateRangeCuesAppended={}}const v=e.fragments[e.fragments.length-1];if(!(d.length===0||!qn(v?.programDateTime))){this.id3Track||(this.id3Track=this.createTrack(this.media));for(let y=0;y<d.length;y++){const x=d[y],w=l[x],E=w.startTime,T=f[x],C=T?.cues||{};let j=T?.durationKnown||!1,P=sS;const{duration:U,endDate:W}=w;if(W&&U!==null)P=E+U,j=!0;else if(w.endOnNext&&!j){const re=d.reduce((ie,Ae)=>{if(Ae!==w.id){const be=l[Ae];if(be.class===w.class&&be.startDate>w.startDate&&(!ie||w.startDate<ie.startDate))return be}return ie},null);re&&(P=re.startTime,j=!0)}const q=Object.keys(w.attr);for(let re=0;re<q.length;re++){const ie=q[re];if(!F8e(ie))continue;const Ae=C[ie];if(Ae)j&&!(T!=null&&T.durationKnown)?Ae.endTime=P:Math.abs(Ae.startTime-E)>.01&&(Ae.startTime=E,Ae.endTime=P);else if(c){let be=w.attr[ie];U8e(ie)&&(be=kne(be));const ge=bB(c,E,P,{key:ie,data:be},af.dateRange);ge&&(ge.id=x,this.id3Track.addCue(ge),C[ie]=ge,a&&(ie==="X-ASSET-LIST"||ie==="X-ASSET-URL")&&ge.addEventListener("enter",this.onEventCueEnter))}}f[x]={cues:C,dateRange:w,durationKnown:j}}}}}class yHe{constructor(e){this.hls=void 0,this.config=void 0,this.media=null,this.currentTime=0,this.stallCount=0,this._latency=null,this._targetLatencyUpdated=!1,this.onTimeupdate=()=>{const{media:r}=this,n=this.levelDetails;if(!r||!n)return;this.currentTime=r.currentTime;const i=this.computeLatency();if(i===null)return;this._latency=i;const{lowLatencyMode:s,maxLiveSyncPlaybackRate:a}=this.config;if(!s||a===1||!n.live)return;const c=this.targetLatency;if(c===null)return;const u=i-c,l=Math.min(this.maxLatency,c+n.targetduration);if(u<l&&u>.05&&this.forwardBufferLength>1){const f=Math.min(2,Math.max(1,a)),A=Math.round(2/(1+Math.exp(-.75*u-this.edgeStalled))*20)/20,p=Math.min(f,Math.max(1,A));this.changeMediaPlaybackRate(r,p)}else r.playbackRate!==1&&r.playbackRate!==0&&this.changeMediaPlaybackRate(r,1)},this.hls=e,this.config=e.config,this.registerListeners()}get levelDetails(){var e;return((e=this.hls)==null?void 0:e.latestLevelDetails)||null}get latency(){return this._latency||0}get maxLatency(){const{config:e}=this;if(e.liveMaxLatencyDuration!==void 0)return e.liveMaxLatencyDuration;const r=this.levelDetails;return r?e.liveMaxLatencyDurationCount*r.targetduration:0}get targetLatency(){const e=this.levelDetails;if(e===null||this.hls===null)return null;const{holdBack:r,partHoldBack:n,targetduration:i}=e,{liveSyncDuration:s,liveSyncDurationCount:a,lowLatencyMode:c}=this.config,u=this.hls.userConfig;let l=c&&n||r;(this._targetLatencyUpdated||u.liveSyncDuration||u.liveSyncDurationCount||l===0)&&(l=s!==void 0?s:a*i);const d=i;return l+Math.min(this.stallCount*this.config.liveSyncOnStallIncrease,d)}set targetLatency(e){this.stallCount=0,this.config.liveSyncDuration=e,this._targetLatencyUpdated=!0}get liveSyncPosition(){const e=this.estimateLiveEdge(),r=this.targetLatency;if(e===null||r===null)return null;const n=this.levelDetails;if(n===null)return null;const i=n.edge,s=e-r-this.edgeStalled,a=i-n.totalduration,c=i-(this.config.lowLatencyMode&&n.partTarget||n.targetduration);return Math.min(Math.max(a,s),c)}get drift(){const e=this.levelDetails;return e===null?1:e.drift}get edgeStalled(){const e=this.levelDetails;if(e===null)return 0;const r=(this.config.lowLatencyMode&&e.partTarget||e.targetduration)*3;return Math.max(e.age-r,0)}get forwardBufferLength(){const{media:e}=this,r=this.levelDetails;if(!e||!r)return 0;const n=e.buffered.length;return(n?e.buffered.end(n-1):r.edge)-this.currentTime}destroy(){this.unregisterListeners(),this.onMediaDetaching(),this.hls=null}registerListeners(){const{hls:e}=this;e&&(e.on(Ie.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(Ie.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(Ie.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Ie.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(Ie.ERROR,this.onError,this))}unregisterListeners(){const{hls:e}=this;e&&(e.off(Ie.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(Ie.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(Ie.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Ie.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(Ie.ERROR,this.onError,this))}onMediaAttached(e,r){this.media=r.media,this.media.addEventListener("timeupdate",this.onTimeupdate)}onMediaDetaching(){this.media&&(this.media.removeEventListener("timeupdate",this.onTimeupdate),this.media=null)}onManifestLoading(){this._latency=null,this.stallCount=0}onLevelUpdated(e,{details:r}){r.advanced&&this.onTimeupdate(),!r.live&&this.media&&this.media.removeEventListener("timeupdate",this.onTimeupdate)}onError(e,r){var n;r.details===gr.BUFFER_STALLED_ERROR&&(this.stallCount++,this.hls&&(n=this.levelDetails)!=null&&n.live&&this.hls.logger.warn("[latency-controller]: Stall detected, adjusting target latency"))}changeMediaPlaybackRate(e,r){var n,i;e.playbackRate!==r&&((n=this.hls)==null||n.logger.debug(`[latency-controller]: latency=${this.latency.toFixed(3)}, targetLatency=${(i=this.targetLatency)==null?void 0:i.toFixed(3)}, forwardBufferLength=${this.forwardBufferLength.toFixed(3)}: adjusting playback rate from ${e.playbackRate} to ${r}`),e.playbackRate=r)}estimateLiveEdge(){const e=this.levelDetails;return e===null?null:e.edge+e.age}computeLatency(){const e=this.estimateLiveEdge();return e===null?null:e-this.currentTime}}class xHe extends fF{constructor(e,r){super(e,"level-controller"),this._levels=[],this._firstLevel=-1,this._maxAutoLevel=-1,this._startLevel=void 0,this.currentLevel=null,this.currentLevelIndex=-1,this.manualLevelIndex=-1,this.steering=void 0,this.onParsedComplete=void 0,this.steering=r,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on(Ie.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Ie.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(Ie.LEVEL_LOADED,this.onLevelLoaded,this),e.on(Ie.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(Ie.FRAG_BUFFERED,this.onFragBuffered,this),e.on(Ie.ERROR,this.onError,this)}_unregisterListeners(){const{hls:e}=this;e.off(Ie.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Ie.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(Ie.LEVEL_LOADED,this.onLevelLoaded,this),e.off(Ie.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(Ie.FRAG_BUFFERED,this.onFragBuffered,this),e.off(Ie.ERROR,this.onError,this)}destroy(){this._unregisterListeners(),this.steering=null,this.resetLevels(),super.destroy()}stopLoad(){this._levels.forEach(r=>{r.loadError=0,r.fragmentError=0}),super.stopLoad()}resetLevels(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[],this._maxAutoLevel=-1}onManifestLoading(e,r){this.resetLevels()}onManifestLoaded(e,r){const n=this.hls.config.preferManagedMediaSource,i=[],s={},a={};let c=!1,u=!1,l=!1;r.levels.forEach(d=>{const f=d.attrs;let{audioCodec:A,videoCodec:p}=d;A&&(d.audioCodec=A=jj(A,n)||void 0),p&&(p=d.videoCodec=r8e(p));const{width:v,height:y,unknownCodecs:x}=d,w=x?.length||0;if(c||(c=!!(v&&y)),u||(u=!!p),l||(l=!!A),w||A&&!this.isAudioSupported(A)||p&&!this.isVideoSupported(p)){this.log(`Some or all CODECS not supported "${f.CODECS}"`);return}const{CODECS:E,"FRAME-RATE":T,"HDCP-LEVEL":C,"PATHWAY-ID":j,RESOLUTION:P,"VIDEO-RANGE":U}=f,q=`${`${j||"."}-`}${d.bitrate}-${P}-${T}-${E}-${U}-${C}`;if(s[q])if(s[q].uri!==d.url&&!d.attrs["PATHWAY-ID"]){const re=a[q]+=1;d.attrs["PATHWAY-ID"]=new Array(re+1).join(".");const ie=this.createLevel(d);s[q]=ie,i.push(ie)}else s[q].addGroupId("audio",f.AUDIO),s[q].addGroupId("text",f.SUBTITLES);else{const re=this.createLevel(d);s[q]=re,a[q]=1,i.push(re)}}),this.filterAndSortMediaOptions(i,r,c,u,l)}createLevel(e){const r=new DE(e),n=e.supplemental;if(n!=null&&n.videoCodec&&!this.isVideoSupported(n.videoCodec)){const i=new Error(`SUPPLEMENTAL-CODECS not supported "${n.videoCodec}"`);this.log(i.message),r.supportedResult=Hne(i,[])}return r}isAudioSupported(e){return PE(e,"audio",this.hls.config.preferManagedMediaSource)}isVideoSupported(e){return PE(e,"video",this.hls.config.preferManagedMediaSource)}filterAndSortMediaOptions(e,r,n,i,s){var a;let c=[],u=[],l=e;const d=((a=r.stats)==null?void 0:a.parsing)||{};if((n||i)&&s&&(l=l.filter(({videoCodec:E,videoRange:T,width:C,height:j})=>(!!E||!!(C&&j))&&h8e(T))),l.length===0){Promise.resolve().then(()=>{if(this.hls){let E="no level with compatible codecs found in manifest",T=E;r.levels.length&&(T=`one or more CODECS in variant not supported: ${fl(r.levels.map(j=>j.attrs.CODECS).filter((j,P,U)=>U.indexOf(j)===P))}`,this.warn(T),E+=` (${T})`);const C=new Error(E);this.hls.trigger(Ie.ERROR,{type:Pi.MEDIA_ERROR,details:gr.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:r.url,error:C,reason:T})}}),d.end=performance.now();return}r.audioTracks&&(c=r.audioTracks.filter(E=>!E.audioCodec||this.isAudioSupported(E.audioCodec)),rG(c)),r.subtitles&&(u=r.subtitles,rG(u));const f=l.slice(0);l.sort((E,T)=>{if(E.attrs["HDCP-LEVEL"]!==T.attrs["HDCP-LEVEL"])return(E.attrs["HDCP-LEVEL"]||"")>(T.attrs["HDCP-LEVEL"]||"")?1:-1;if(n&&E.height!==T.height)return E.height-T.height;if(E.frameRate!==T.frameRate)return E.frameRate-T.frameRate;if(E.videoRange!==T.videoRange)return Nj.indexOf(E.videoRange)-Nj.indexOf(T.videoRange);if(E.videoCodec!==T.videoCodec){const C=Gz(E.videoCodec),j=Gz(T.videoCodec);if(C!==j)return j-C}if(E.uri===T.uri&&E.codecSet!==T.codecSet){const C=Cj(E.codecSet),j=Cj(T.codecSet);if(C!==j)return j-C}return E.averageBitrate!==T.averageBitrate?E.averageBitrate-T.averageBitrate:0});let A=f[0];if(this.steering&&(l=this.steering.filterParsedLevels(l),l.length!==f.length)){for(let E=0;E<f.length;E++)if(f[E].pathwayId===l[0].pathwayId){A=f[E];break}}this._levels=l;for(let E=0;E<l.length;E++)if(l[E]===A){var p;this._firstLevel=E;const T=A.bitrate,C=this.hls.bandwidthEstimate;if(this.log(`manifest loaded, ${l.length} level(s) found, first bitrate: ${T}`),((p=this.hls.userConfig)==null?void 0:p.abrEwmaDefaultEstimate)===void 0){const j=Math.min(T,this.hls.config.abrEwmaDefaultEstimateMax);j>C&&C===this.hls.abrEwmaDefaultEstimate&&(this.hls.bandwidthEstimate=j)}break}const v=s&&!i,y=this.hls.config,x=!!(y.audioStreamController&&y.audioTrackController),w={levels:l,audioTracks:c,subtitleTracks:u,sessionData:r.sessionData,sessionKeys:r.sessionKeys,firstLevel:this._firstLevel,stats:r.stats,audio:s,video:i,altAudio:x&&!v&&c.some(E=>!!E.url)};d.end=performance.now(),this.hls.trigger(Ie.MANIFEST_PARSED,w)}get levels(){return this._levels.length===0?null:this._levels}get loadLevelObj(){return this.currentLevel}get level(){return this.currentLevelIndex}set level(e){const r=this._levels;if(r.length===0)return;if(e<0||e>=r.length){const d=new Error("invalid level idx"),f=e<0;if(this.hls.trigger(Ie.ERROR,{type:Pi.OTHER_ERROR,details:gr.LEVEL_SWITCH_ERROR,level:e,fatal:f,error:d,reason:d.message}),f)return;e=Math.min(e,r.length-1)}const n=this.currentLevelIndex,i=this.currentLevel,s=i?i.attrs["PATHWAY-ID"]:void 0,a=r[e],c=a.attrs["PATHWAY-ID"];if(this.currentLevelIndex=e,this.currentLevel=a,n===e&&i&&s===c)return;this.log(`Switching to level ${e} (${a.height?a.height+"p ":""}${a.videoRange?a.videoRange+" ":""}${a.codecSet?a.codecSet+" ":""}@${a.bitrate})${c?" with Pathway "+c:""} from level ${n}${s?" with Pathway "+s:""}`);const u={level:e,attrs:a.attrs,details:a.details,bitrate:a.bitrate,averageBitrate:a.averageBitrate,maxBitrate:a.maxBitrate,realBitrate:a.realBitrate,width:a.width,height:a.height,codecSet:a.codecSet,audioCodec:a.audioCodec,videoCodec:a.videoCodec,audioGroups:a.audioGroups,subtitleGroups:a.subtitleGroups,loaded:a.loaded,loadError:a.loadError,fragmentError:a.fragmentError,name:a.name,id:a.id,uri:a.uri,url:a.url,urlId:0,audioGroupIds:a.audioGroupIds,textGroupIds:a.textGroupIds};this.hls.trigger(Ie.LEVEL_SWITCHING,u);const l=a.details;if(!l||l.live){const d=this.switchParams(a.uri,i?.details,l);this.loadPlaylist(d)}}get manualLevel(){return this.manualLevelIndex}set manualLevel(e){this.manualLevelIndex=e,this._startLevel===void 0&&(this._startLevel=e),e!==-1&&(this.level=e)}get firstLevel(){return this._firstLevel}set firstLevel(e){this._firstLevel=e}get startLevel(){if(this._startLevel===void 0){const e=this.hls.config.startLevel;return e!==void 0?e:this.hls.firstAutoLevel}return this._startLevel}set startLevel(e){this._startLevel=e}get pathways(){return this.steering?this.steering.pathways():[]}get pathwayPriority(){return this.steering?this.steering.pathwayPriority:null}set pathwayPriority(e){if(this.steering){const r=this.steering.pathways(),n=e.filter(i=>r.indexOf(i)!==-1);if(e.length<1){this.warn(`pathwayPriority ${e} should contain at least one pathway from list: ${r}`);return}this.steering.pathwayPriority=n}}onError(e,r){r.fatal||!r.context||r.context.type===xa.LEVEL&&r.context.level===this.level&&this.checkRetry(r)}onFragBuffered(e,{frag:r}){if(r!==void 0&&r.type===fi.MAIN){const n=r.elementaryStreams;if(!Object.keys(n).some(s=>!!n[s]))return;const i=this._levels[r.level];i!=null&&i.loadError&&(this.log(`Resetting level error count of ${i.loadError} on frag buffered`),i.loadError=0)}}onLevelLoaded(e,r){var n;const{level:i,details:s}=r,a=r.levelInfo;if(!a){var c;this.warn(`Invalid level index ${i}`),(c=r.deliveryDirectives)!=null&&c.skip&&(s.deltaUpdateFailed=!0);return}if(a===this.currentLevel||r.withoutMultiVariant){a.fragmentError===0&&(a.loadError=0);let u=a.details;u===r.details&&u.advanced&&(u=void 0),this.playlistLoaded(i,r,u)}else(n=r.deliveryDirectives)!=null&&n.skip&&(s.deltaUpdateFailed=!0)}loadPlaylist(e){super.loadPlaylist(),this.shouldLoadPlaylist(this.currentLevel)&&this.scheduleLoading(this.currentLevel,e)}loadingPlaylist(e,r){super.loadingPlaylist(e,r);const n=this.getUrlWithDirectives(e.uri,r),i=this.currentLevelIndex,s=e.attrs["PATHWAY-ID"],a=e.details,c=a?.age;this.log(`Loading level index ${i}${r?.msn!==void 0?" at sn "+r.msn+" part "+r.part:""}${s?" Pathway "+s:""}${c&&a.live?" age "+c.toFixed(1)+(a.type&&" "+a.type||""):""} ${n}`),this.hls.trigger(Ie.LEVEL_LOADING,{url:n,level:i,levelInfo:e,pathwayId:e.attrs["PATHWAY-ID"],id:0,deliveryDirectives:r||null})}get nextLoadLevel(){return this.manualLevelIndex!==-1?this.manualLevelIndex:this.hls.nextAutoLevel}set nextLoadLevel(e){this.level=e,this.manualLevelIndex===-1&&(this.hls.nextAutoLevel=e)}removeLevel(e){var r;if(this._levels.length===1)return;const n=this._levels.filter((s,a)=>a!==e?!0:(this.steering&&this.steering.removeLevel(s),s===this.currentLevel&&(this.currentLevel=null,this.currentLevelIndex=-1,s.details&&s.details.fragments.forEach(c=>c.level=-1)),!1));cie(n),this._levels=n,this.currentLevelIndex>-1&&(r=this.currentLevel)!=null&&r.details&&(this.currentLevelIndex=this.currentLevel.details.fragments[0].level),this.manualLevelIndex>-1&&(this.manualLevelIndex=this.currentLevelIndex);const i=n.length-1;this._firstLevel=Math.min(this._firstLevel,i),this._startLevel&&(this._startLevel=Math.min(this._startLevel,i)),this.hls.trigger(Ie.LEVELS_UPDATED,{levels:n})}onLevelsUpdated(e,{levels:r}){this._levels=r}checkMaxAutoUpdated(){const{autoLevelCapping:e,maxAutoLevel:r,maxHdcpLevel:n}=this.hls;this._maxAutoLevel!==r&&(this._maxAutoLevel=r,this.hls.trigger(Ie.MAX_AUTO_LEVEL_UPDATED,{autoLevelCapping:e,levels:this.levels,maxAutoLevel:r,minAutoLevel:this.hls.minAutoLevel,maxHdcpLevel:n}))}}function rG(t){const e={};t.forEach(r=>{const n=r.groupId||"";r.id=e[n]=e[n]||0,e[n]++})}function ise(){return self.SourceBuffer||self.WebKitSourceBuffer}function sse(){if(!T0())return!1;const e=ise();return!e||e.prototype&&typeof e.prototype.appendBuffer=="function"&&typeof e.prototype.remove=="function"}function bHe(){if(!sse())return!1;const t=T0();return typeof t?.isTypeSupported=="function"&&(["avc1.42E01E,mp4a.40.2","av01.0.01M.08","vp09.00.50.08"].some(e=>t.isTypeSupported(RE(e,"video")))||["mp4a.40.2","fLaC"].some(e=>t.isTypeSupported(RE(e,"audio"))))}function wHe(){var t;const e=ise();return typeof(e==null||(t=e.prototype)==null?void 0:t.changeType)=="function"}const EHe=100;class _He extends sF{constructor(e,r,n){super(e,r,n,"stream-controller",fi.MAIN),this.audioCodecSwap=!1,this.level=-1,this._forceStartLoad=!1,this._hasEnoughToStart=!1,this.altAudio=0,this.audioOnly=!1,this.fragPlaying=null,this.fragLastKbps=0,this.couldBacktrack=!1,this.backtrackFragment=null,this.audioCodecSwitch=!1,this.videoBuffer=null,this.onMediaPlaying=()=>{this.tick()},this.onMediaSeeked=()=>{const i=this.media,s=i?i.currentTime:null;if(s===null||!qn(s)||(this.log(`Media seeked to ${s.toFixed(3)}`),!this.getBufferedFrag(s)))return;const a=this.getFwdBufferInfoAtPos(i,s,fi.MAIN,0);if(a===null||a.len===0){this.warn(`Main forward buffer length at ${s} on "seeked" event ${a?a.len:"empty"})`);return}this.tick()},this.registerListeners()}registerListeners(){super.registerListeners();const{hls:e}=this;e.on(Ie.MANIFEST_PARSED,this.onManifestParsed,this),e.on(Ie.LEVEL_LOADING,this.onLevelLoading,this),e.on(Ie.LEVEL_LOADED,this.onLevelLoaded,this),e.on(Ie.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.on(Ie.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(Ie.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on(Ie.BUFFER_CREATED,this.onBufferCreated,this),e.on(Ie.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(Ie.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(Ie.FRAG_BUFFERED,this.onFragBuffered,this)}unregisterListeners(){super.unregisterListeners();const{hls:e}=this;e.off(Ie.MANIFEST_PARSED,this.onManifestParsed,this),e.off(Ie.LEVEL_LOADED,this.onLevelLoaded,this),e.off(Ie.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.off(Ie.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(Ie.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off(Ie.BUFFER_CREATED,this.onBufferCreated,this),e.off(Ie.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(Ie.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(Ie.FRAG_BUFFERED,this.onFragBuffered,this)}onHandlerDestroying(){this.onMediaPlaying=this.onMediaSeeked=null,this.unregisterListeners(),super.onHandlerDestroying()}startLoad(e,r){if(this.levels){const{lastCurrentTime:n,hls:i}=this;if(this.stopLoad(),this.setInterval(EHe),this.level=-1,!this.startFragRequested){let s=i.startLevel;s===-1&&(i.config.testBandwidth&&this.levels.length>1?(s=0,this.bitrateTest=!0):s=i.firstAutoLevel),i.nextLoadLevel=s,this.level=i.loadLevel,this._hasEnoughToStart=!!r}n>0&&e===-1&&!r&&(this.log(`Override startPosition with lastCurrentTime @${n.toFixed(3)}`),e=n),this.state=Qr.IDLE,this.nextLoadPosition=this.lastCurrentTime=e+this.timelineOffset,this.startPosition=r?-1:e,this.tick()}else this._forceStartLoad=!0,this.state=Qr.STOPPED}stopLoad(){this._forceStartLoad=!1,super.stopLoad()}doTick(){switch(this.state){case Qr.WAITING_LEVEL:{const{levels:e,level:r}=this,n=e?.[r],i=n?.details;if(i&&(!i.live||this.levelLastLoaded===n&&!this.waitForLive(n))){if(this.waitForCdnTuneIn(i))break;this.state=Qr.IDLE;break}else if(this.hls.nextLoadLevel!==this.level){this.state=Qr.IDLE;break}break}case Qr.FRAG_LOADING_WAITING_RETRY:this.checkRetryDate();break}this.state===Qr.IDLE&&this.doTickIdle(),this.onTickEnd()}onTickEnd(){var e;super.onTickEnd(),(e=this.media)!=null&&e.readyState&&this.media.seeking===!1&&(this.lastCurrentTime=this.media.currentTime),this.checkFragmentChanged()}doTickIdle(){const{hls:e,levelLastLoaded:r,levels:n,media:i}=this;if(r===null||!i&&!this.primaryPrefetch&&(this.startFragRequested||!e.config.startFragPrefetch)||this.altAudio&&this.audioOnly)return;const s=this.buffering?e.nextLoadLevel:e.loadLevel;if(!(n!=null&&n[s]))return;const a=n[s],c=this.getMainFwdBufferInfo();if(c===null)return;const u=this.getLevelDetails();if(u&&this._streamEnded(c,u)){const y={};this.altAudio===2&&(y.type="video"),this.hls.trigger(Ie.BUFFER_EOS,y),this.state=Qr.ENDED;return}if(!this.buffering)return;e.loadLevel!==s&&e.manualLevel===-1&&this.log(`Adapting to level ${s} from level ${this.level}`),this.level=e.nextLoadLevel=s;const l=a.details;if(!l||this.state===Qr.WAITING_LEVEL||this.waitForLive(a)){this.level=s,this.state=Qr.WAITING_LEVEL,this.startFragRequested=!1;return}const d=c.len,f=this.getMaxBufferLength(a.maxBitrate);if(d>=f)return;this.backtrackFragment&&this.backtrackFragment.start>c.end&&(this.backtrackFragment=null);const A=this.backtrackFragment?this.backtrackFragment.start:c.end;let p=this.getNextFragment(A,l);if(this.couldBacktrack&&!this.fragPrevious&&p&&Jc(p)&&this.fragmentTracker.getState(p)!==Du.OK){var v;const x=((v=this.backtrackFragment)!=null?v:p).sn-l.startSN,w=l.fragments[x-1];w&&p.cc===w.cc&&(p=w,this.fragmentTracker.removeFragment(w))}else this.backtrackFragment&&c.len&&(this.backtrackFragment=null);if(p&&this.isLoopLoading(p,A)){if(!p.gap){const x=this.audioOnly&&!this.altAudio?cl.AUDIO:cl.VIDEO,w=(x===cl.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;w&&this.afterBufferFlushed(w,x,fi.MAIN)}p=this.getNextFragmentLoopLoading(p,l,c,fi.MAIN,f)}p&&(p.initSegment&&!p.initSegment.data&&!this.bitrateTest&&(p=p.initSegment),this.loadFragment(p,a,A))}loadFragment(e,r,n){const i=this.fragmentTracker.getState(e);i===Du.NOT_LOADED||i===Du.PARTIAL?Jc(e)?this.bitrateTest?(this.log(`Fragment ${e.sn} of level ${e.level} is being downloaded to test bitrate and will not be buffered`),this._loadBitrateTestFrag(e,r)):super.loadFragment(e,r,n):this._loadInitSegment(e,r):this.clearTrackerIfNeeded(e)}getBufferedFrag(e){return this.fragmentTracker.getBufferedFrag(e,fi.MAIN)}followingBufferedFrag(e){return e?this.getBufferedFrag(e.end+.5):null}immediateLevelSwitch(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}nextLevelSwitch(){const{levels:e,media:r}=this;if(r!=null&&r.readyState){let n;const i=this.getAppendedFrag(r.currentTime);i&&i.start>1&&this.flushMainBuffer(0,i.start-1);const s=this.getLevelDetails();if(s!=null&&s.live){const c=this.getMainFwdBufferInfo();if(!c||c.len<s.targetduration*2)return}if(!r.paused&&e){const c=this.hls.nextLoadLevel,u=e[c],l=this.fragLastKbps;l&&this.fragCurrent?n=this.fragCurrent.duration*u.maxBitrate/(1e3*l)+1:n=0}else n=0;const a=this.getBufferedFrag(r.currentTime+n);if(a){const c=this.followingBufferedFrag(a);if(c){this.abortCurrentFrag();const u=c.maxStartPTS?c.maxStartPTS:c.start,l=c.duration,d=Math.max(a.end,u+Math.min(Math.max(l-this.config.maxFragLookUpTolerance,l*(this.couldBacktrack?.5:.125)),l*(this.couldBacktrack?.75:.25)));this.flushMainBuffer(d,Number.POSITIVE_INFINITY)}}}}abortCurrentFrag(){const e=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,e&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.state){case Qr.KEY_LOADING:case Qr.FRAG_LOADING:case Qr.FRAG_LOADING_WAITING_RETRY:case Qr.PARSING:case Qr.PARSED:this.state=Qr.IDLE;break}this.nextLoadPosition=this.getLoadPosition()}flushMainBuffer(e,r){super.flushMainBuffer(e,r,this.altAudio===2?"video":null)}onMediaAttached(e,r){super.onMediaAttached(e,r);const n=r.media;mh(n,"playing",this.onMediaPlaying),mh(n,"seeked",this.onMediaSeeked)}onMediaDetaching(e,r){const{media:n}=this;n&&(Ph(n,"playing",this.onMediaPlaying),Ph(n,"seeked",this.onMediaSeeked)),this.videoBuffer=null,this.fragPlaying=null,super.onMediaDetaching(e,r),!r.transferMedia&&(this._hasEnoughToStart=!1)}onManifestLoading(){super.onManifestLoading(),this.log("Trigger BUFFER_RESET"),this.hls.trigger(Ie.BUFFER_RESET,void 0),this.couldBacktrack=!1,this.fragLastKbps=0,this.fragPlaying=this.backtrackFragment=null,this.altAudio=0,this.audioOnly=!1}onManifestParsed(e,r){let n=!1,i=!1;for(let s=0;s<r.levels.length;s++){const a=r.levels[s].audioCodec;a&&(n=n||a.indexOf("mp4a.40.2")!==-1,i=i||a.indexOf("mp4a.40.5")!==-1)}this.audioCodecSwitch=n&&i&&!wHe(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=r.levels,this.startFragRequested=!1}onLevelLoading(e,r){const{levels:n}=this;if(!n||this.state!==Qr.IDLE)return;const i=r.levelInfo;(!i.details||i.details.live&&(this.levelLastLoaded!==i||i.details.expired)||this.waitForCdnTuneIn(i.details))&&(this.state=Qr.WAITING_LEVEL)}onLevelLoaded(e,r){var n;const{levels:i,startFragRequested:s}=this,a=r.level,c=r.details,u=c.totalduration;if(!i){this.warn(`Levels were reset while loading level ${a}`);return}this.log(`Level ${a} loaded [${c.startSN},${c.endSN}]${c.lastPartSn?`[part-${c.lastPartSn}-${c.lastPartIndex}]`:""}, cc [${c.startCC}, ${c.endCC}] duration:${u}`);const l=r.levelInfo,d=this.fragCurrent;d&&(this.state===Qr.FRAG_LOADING||this.state===Qr.FRAG_LOADING_WAITING_RETRY)&&d.level!==r.level&&d.loader&&this.abortCurrentFrag();let f=0;if(c.live||(n=l.details)!=null&&n.live){var A;if(this.checkLiveUpdate(c),c.deltaUpdateFailed)return;f=this.alignPlaylists(c,l.details,(A=this.levelLastLoaded)==null?void 0:A.details)}if(l.details=c,this.levelLastLoaded=l,s||this.setStartPosition(c,f),this.hls.trigger(Ie.LEVEL_UPDATED,{details:c,level:a}),this.state===Qr.WAITING_LEVEL){if(this.waitForCdnTuneIn(c))return;this.state=Qr.IDLE}s&&c.live&&this.synchronizeToLiveEdge(c),this.tick()}synchronizeToLiveEdge(e){const{config:r,media:n}=this;if(!n)return;const i=this.hls.liveSyncPosition,s=this.getLoadPosition(),a=e.fragmentStart,c=e.edge,u=s>=a-r.maxFragLookUpTolerance&&s<=c;if(i!==null&&n.duration>i&&(s<i||!u)){const d=r.liveMaxLatencyDuration!==void 0?r.liveMaxLatencyDuration:r.liveMaxLatencyDurationCount*e.targetduration;if((!u&&n.readyState<4||s<c-d)&&(this._hasEnoughToStart||(this.nextLoadPosition=i),n.readyState))if(this.warn(`Playback: ${s.toFixed(3)} is located too far from the end of live sliding playlist: ${c}, reset currentTime to : ${i.toFixed(3)}`),this.config.liveSyncMode==="buffered"){var l;const f=Us.bufferInfo(n,i,0);if(!((l=f.buffered)!=null&&l.length)){n.currentTime=i;return}if(f.start<=s){n.currentTime=i;return}const{nextStart:p}=Us.bufferedInfo(f.buffered,s,0);p&&(n.currentTime=p)}else n.currentTime=i}}_handleFragmentLoadProgress(e){var r;const n=e.frag,{part:i,payload:s}=e,{levels:a}=this;if(!a){this.warn(`Levels were reset while fragment load was in progress. Fragment ${n.sn} of level ${n.level} will not be buffered`);return}const c=a[n.level];if(!c){this.warn(`Level ${n.level} not found on progress`);return}const u=c.details;if(!u){this.warn(`Dropping fragment ${n.sn} of level ${n.level} after level details were reset`),this.fragmentTracker.removeFragment(n);return}const l=c.videoCodec,d=u.PTSKnown||!u.live,f=(r=n.initSegment)==null?void 0:r.data,A=this._getAudioCodec(c),p=this.transmuxer=this.transmuxer||new Iie(this.hls,fi.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),v=i?i.index:-1,y=v!==-1,x=new rF(n.level,n.sn,n.stats.chunkCount,s.byteLength,v,y),w=this.initPTS[n.cc];p.push(s,f,A,l,n,i,u.totalduration,d,x,w)}onAudioTrackSwitching(e,r){const n=this.hls,i=this.altAudio!==0;if(kj(r.url,n))this.altAudio=1;else{if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;const a=this.fragCurrent;a&&(this.log("Switching to main audio track, cancel main fragment load"),a.abortRequests(),this.fragmentTracker.removeFragment(a)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();if(i){this.altAudio=0,this.fragmentTracker.removeAllFragments(),n.once(Ie.BUFFER_FLUSHED,()=>{this.hls&&this.hls.trigger(Ie.AUDIO_TRACK_SWITCHED,r)}),n.trigger(Ie.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null});return}n.trigger(Ie.AUDIO_TRACK_SWITCHED,r)}}onAudioTrackSwitched(e,r){const n=kj(r.url,this.hls);if(n){const i=this.videoBuffer;i&&this.mediaBuffer!==i&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=i)}this.altAudio=n?2:0,this.tick()}onBufferCreated(e,r){const n=r.tracks;let i,s,a=!1;for(const c in n){const u=n[c];if(u.id==="main"){if(s=c,i=u,c==="video"){const l=n[c];l&&(this.videoBuffer=l.buffer)}}else a=!0}a&&i?(this.log(`Alternate track found, use ${s}.buffered to schedule main fragment loading`),this.mediaBuffer=i.buffer):this.mediaBuffer=this.media}onFragBuffered(e,r){const{frag:n,part:i}=r,s=n.type===fi.MAIN;if(s){if(this.fragContextChanged(n)){this.warn(`Fragment ${n.sn}${i?" p: "+i.index:""} of level ${n.level} finished buffering, but was aborted. state: ${this.state}`),this.state===Qr.PARSED&&(this.state=Qr.IDLE);return}const c=i?i.stats:n.stats;this.fragLastKbps=Math.round(8*c.total/(c.buffering.end-c.loading.first)),Jc(n)&&(this.fragPrevious=n),this.fragBufferedComplete(n,i)}const a=this.media;a&&(!this._hasEnoughToStart&&Us.getBuffered(a).length&&(this._hasEnoughToStart=!0,this.seekToStartPos()),s&&this.tick())}get hasEnoughToStart(){return this._hasEnoughToStart}onError(e,r){var n;if(r.fatal){this.state=Qr.ERROR;return}switch(r.details){case gr.FRAG_GAP:case gr.FRAG_PARSING_ERROR:case gr.FRAG_DECRYPT_ERROR:case gr.FRAG_LOAD_ERROR:case gr.FRAG_LOAD_TIMEOUT:case gr.KEY_LOAD_ERROR:case gr.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(fi.MAIN,r);break;case gr.LEVEL_LOAD_ERROR:case gr.LEVEL_LOAD_TIMEOUT:case gr.LEVEL_PARSING_ERROR:!r.levelRetry&&this.state===Qr.WAITING_LEVEL&&((n=r.context)==null?void 0:n.type)===xa.LEVEL&&(this.state=Qr.IDLE);break;case gr.BUFFER_ADD_CODEC_ERROR:case gr.BUFFER_APPEND_ERROR:if(r.parent!=="main")return;this.reduceLengthAndFlushBuffer(r)&&this.resetLoadingState();break;case gr.BUFFER_FULL_ERROR:if(r.parent!=="main")return;this.reduceLengthAndFlushBuffer(r)&&(!this.config.interstitialsController&&this.config.assetPlayerId?this._hasEnoughToStart=!0:this.flushMainBuffer(0,Number.POSITIVE_INFINITY));break;case gr.INTERNAL_EXCEPTION:this.recoverWorkerError(r);break}}onFragLoadEmergencyAborted(){this.state=Qr.IDLE,this._hasEnoughToStart||(this.startFragRequested=!1,this.nextLoadPosition=this.lastCurrentTime),this.tickImmediate()}onBufferFlushed(e,{type:r}){if(r!==cl.AUDIO||!this.altAudio){const n=(r===cl.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;n&&(this.afterBufferFlushed(n,r,fi.MAIN),this.tick())}}onLevelsUpdated(e,r){this.level>-1&&this.fragCurrent&&(this.level=this.fragCurrent.level,this.level===-1&&this.resetWhenMissingContext(this.fragCurrent)),this.levels=r.levels}swapAudioCodec(){this.audioCodecSwap=!this.audioCodecSwap}seekToStartPos(){const{media:e}=this;if(!e)return;const r=e.currentTime;let n=this.startPosition;if(n>=0&&r<n){if(e.seeking){this.log(`could not seek to ${n}, already seeking at ${r}`);return}const i=this.timelineOffset;i&&n&&(n+=i);const s=this.getLevelDetails(),a=Us.getBuffered(e),c=a.length?a.start(0):0,u=c-n,l=Math.max(this.config.maxBufferHole,this.config.maxFragLookUpTolerance);(this.config.startOnSegmentBoundary||u>0&&(u<l||this.loadingParts&&u<2*(s?.partTarget||0)))&&(this.log(`adjusting start position by ${u} to match buffer start`),n+=u,this.startPosition=n),r<n&&(this.log(`seek to target start position ${n} from current time ${r} buffer start ${c}`),e.currentTime=n)}}_getAudioCodec(e){let r=this.config.defaultAudioCodec||e.audioCodec;return this.audioCodecSwap&&r&&(this.log("Swapping audio codec"),r.indexOf("mp4a.40.5")!==-1?r="mp4a.40.2":r="mp4a.40.5"),r}_loadBitrateTestFrag(e,r){e.bitrateTest=!0,this._doFragLoad(e,r).then(n=>{const{hls:i}=this,s=n?.frag;if(!s||this.fragContextChanged(s))return;r.fragmentError=0,this.state=Qr.IDLE,this.startFragRequested=!1,this.bitrateTest=!1;const a=s.stats;a.parsing.start=a.parsing.end=a.buffering.start=a.buffering.end=self.performance.now(),i.trigger(Ie.FRAG_LOADED,n),s.bitrateTest=!1}).catch(n=>{this.state===Qr.STOPPED||this.state===Qr.ERROR||(this.warn(n),this.resetFragmentLoading(e))})}_handleTransmuxComplete(e){const r=this.playlistType,{hls:n}=this,{remuxResult:i,chunkMeta:s}=e,a=this.getCurrentContext(s);if(!a){this.resetWhenMissingContext(s);return}const{frag:c,part:u,level:l}=a,{video:d,text:f,id3:A,initSegment:p}=i,{details:v}=l,y=this.altAudio?void 0:i.audio;if(this.fragContextChanged(c)){this.fragmentTracker.removeFragment(c);return}if(this.state=Qr.PARSING,p){const x=p.tracks;if(x){const C=c.initSegment||c;if(this.unhandledEncryptionError(p,c))return;this._bufferInitSegment(l,x,C,s),n.trigger(Ie.FRAG_PARSING_INIT_SEGMENT,{frag:C,id:r,tracks:x})}const w=p.initPTS,E=p.timescale,T=this.initPTS[c.cc];if(qn(w)&&(!T||T.baseTime!==w||T.timescale!==E)){const C=p.trackId;this.initPTS[c.cc]={baseTime:w,timescale:E,trackId:C},n.trigger(Ie.INIT_PTS_FOUND,{frag:c,id:r,initPTS:w,timescale:E,trackId:C})}}if(d&&v){y&&d.type==="audiovideo"&&this.logMuxedErr(c);const x=v.fragments[c.sn-1-v.startSN],w=c.sn===v.startSN,E=!x||c.cc>x.cc;if(i.independent!==!1){const{startPTS:T,endPTS:C,startDTS:j,endDTS:P}=d;if(u)u.elementaryStreams[d.type]={startPTS:T,endPTS:C,startDTS:j,endDTS:P};else if(d.firstKeyFrame&&d.independent&&s.id===1&&!E&&(this.couldBacktrack=!0),d.dropped&&d.independent){const U=this.getMainFwdBufferInfo(),W=(U?U.end:this.getLoadPosition())+this.config.maxBufferHole,q=d.firstKeyFramePTS?d.firstKeyFramePTS:T;if(!w&&W<q-this.config.maxBufferHole&&!E){this.backtrack(c);return}else E&&(c.gap=!0);c.setElementaryStreamInfo(d.type,c.start,C,c.start,P,!0)}else w&&T-(v.appliedTimelineOffset||0)>GS&&(c.gap=!0);c.setElementaryStreamInfo(d.type,T,C,j,P),this.backtrackFragment&&(this.backtrackFragment=c),this.bufferFragmentData(d,c,u,s,w||E)}else if(w||E)c.gap=!0;else{this.backtrack(c);return}}if(y){const{startPTS:x,endPTS:w,startDTS:E,endDTS:T}=y;u&&(u.elementaryStreams[cl.AUDIO]={startPTS:x,endPTS:w,startDTS:E,endDTS:T}),c.setElementaryStreamInfo(cl.AUDIO,x,w,E,T),this.bufferFragmentData(y,c,u,s)}if(v&&A!=null&&A.samples.length){const x={id:r,frag:c,details:v,samples:A.samples};n.trigger(Ie.FRAG_PARSING_METADATA,x)}if(v&&f){const x={id:r,frag:c,details:v,samples:f.samples};n.trigger(Ie.FRAG_PARSING_USERDATA,x)}}logMuxedErr(e){this.warn(`${Jc(e)?"Media":"Init"} segment with muxed audiovideo where only video expected: ${e.url}`)}_bufferInitSegment(e,r,n,i){if(this.state!==Qr.PARSING)return;this.audioOnly=!!r.audio&&!r.video,this.altAudio&&!this.audioOnly&&(delete r.audio,r.audiovideo&&this.logMuxedErr(n));const{audio:s,video:a,audiovideo:c}=r;if(s){const l=e.audioCodec;let d=US(s.codec,l);d==="mp4a"&&(d="mp4a.40.5");const f=navigator.userAgent.toLowerCase();if(this.audioCodecSwitch){d&&(d.indexOf("mp4a.40.5")!==-1?d="mp4a.40.2":d="mp4a.40.5");const A=s.metadata;A&&"channelCount"in A&&(A.channelCount||1)!==1&&f.indexOf("firefox")===-1&&(d="mp4a.40.5")}d&&d.indexOf("mp4a.40.5")!==-1&&f.indexOf("android")!==-1&&s.container!=="audio/mpeg"&&(d="mp4a.40.2",this.log(`Android: force audio codec to ${d}`)),l&&l!==d&&this.log(`Swapping manifest audio codec "${l}" for "${d}"`),s.levelCodec=d,s.id=fi.MAIN,this.log(`Init audio buffer, container:${s.container}, codecs[selected/level/parsed]=[${d||""}/${l||""}/${s.codec}]`),delete r.audiovideo}if(a){a.levelCodec=e.videoCodec,a.id=fi.MAIN;const l=a.codec;if(l?.length===4)switch(l){case"hvc1":case"hev1":a.codec="hvc1.1.6.L120.90";break;case"av01":a.codec="av01.0.04M.08";break;case"avc1":a.codec="avc1.42e01e";break}this.log(`Init video buffer, container:${a.container}, codecs[level/parsed]=[${e.videoCodec||""}/${l}]${a.codec!==l?" parsed-corrected="+a.codec:""}${a.supplemental?" supplemental="+a.supplemental:""}`),delete r.audiovideo}c&&(this.log(`Init audiovideo buffer, container:${c.container}, codecs[level/parsed]=[${e.codecs}/${c.codec}]`),delete r.video,delete r.audio);const u=Object.keys(r);if(u.length){if(this.hls.trigger(Ie.BUFFER_CODECS,r),!this.hls)return;u.forEach(l=>{const f=r[l].initSegment;f!=null&&f.byteLength&&this.hls.trigger(Ie.BUFFER_APPENDING,{type:l,data:f,frag:n,part:null,chunkMeta:i,parent:n.type})})}this.tickImmediate()}getMainFwdBufferInfo(){const e=this.mediaBuffer&&this.altAudio===2?this.mediaBuffer:this.media;return this.getFwdBufferInfo(e,fi.MAIN)}get maxBufferLength(){const{levels:e,level:r}=this,n=e?.[r];return n?this.getMaxBufferLength(n.maxBitrate):this.config.maxBufferLength}backtrack(e){this.couldBacktrack=!0,this.backtrackFragment=e,this.resetTransmuxer(),this.flushBufferGap(e),this.fragmentTracker.removeFragment(e),this.fragPrevious=null,this.nextLoadPosition=e.start,this.state=Qr.IDLE}checkFragmentChanged(){const e=this.media;let r=null;if(e&&e.readyState>1&&e.seeking===!1){const n=e.currentTime;if(Us.isBuffered(e,n)?r=this.getAppendedFrag(n):Us.isBuffered(e,n+.1)&&(r=this.getAppendedFrag(n+.1)),r){this.backtrackFragment=null;const i=this.fragPlaying,s=r.level;(!i||r.sn!==i.sn||i.level!==s)&&(this.fragPlaying=r,this.hls.trigger(Ie.FRAG_CHANGED,{frag:r}),(!i||i.level!==s)&&this.hls.trigger(Ie.LEVEL_SWITCHED,{level:s}))}}}get nextLevel(){const e=this.nextBufferedFrag;return e?e.level:-1}get currentFrag(){var e;if(this.fragPlaying)return this.fragPlaying;const r=((e=this.media)==null?void 0:e.currentTime)||this.lastCurrentTime;return qn(r)?this.getAppendedFrag(r):null}get currentProgramDateTime(){var e;const r=((e=this.media)==null?void 0:e.currentTime)||this.lastCurrentTime;if(qn(r)){const n=this.getLevelDetails(),i=this.currentFrag||(n?uy(null,n.fragments,r):null);if(i){const s=i.programDateTime;if(s!==null){const a=s+(r-i.start)*1e3;return new Date(a)}}}return null}get currentLevel(){const e=this.currentFrag;return e?e.level:-1}get nextBufferedFrag(){const e=this.currentFrag;return e?this.followingBufferedFrag(e):null}get forceStartLoad(){return this._forceStartLoad}}class SHe extends Zf{constructor(e,r){super("key-loader",r),this.config=void 0,this.keyIdToKeyInfo={},this.emeController=null,this.config=e}abort(e){for(const n in this.keyIdToKeyInfo){const i=this.keyIdToKeyInfo[n].loader;if(i){var r;if(e&&e!==((r=i.context)==null?void 0:r.frag.type))return;i.abort()}}}detach(){for(const e in this.keyIdToKeyInfo){const r=this.keyIdToKeyInfo[e];(r.mediaKeySessionContext||r.decryptdata.isCommonEncryption)&&delete this.keyIdToKeyInfo[e]}}destroy(){this.detach();for(const e in this.keyIdToKeyInfo){const r=this.keyIdToKeyInfo[e].loader;r&&r.destroy()}this.keyIdToKeyInfo={}}createKeyLoadError(e,r=gr.KEY_LOAD_ERROR,n,i,s){return new wp({type:Pi.NETWORK_ERROR,details:r,fatal:!1,frag:e,response:s,error:n,networkDetails:i})}loadClear(e,r,n){if(this.emeController&&this.config.emeEnabled&&!this.emeController.getSelectedKeySystemFormats().length){if(r.length)for(let i=0,s=r.length;i<s;i++){const a=r[i];if(e.cc<=a.cc&&(!Jc(e)||!Jc(a)||e.sn<a.sn)||!n&&i==s-1)return this.emeController.selectKeySystemFormat(a).then(c=>{if(!this.emeController)return;a.setKeyFormat(c);const u=HS(c);if(u)return this.emeController.getKeySystemAccess([u])})}if(this.config.requireKeySystemAccessOnStart){const i=aw(this.config);if(i.length)return this.emeController.getKeySystemAccess(i)}}return null}load(e){return!e.decryptdata&&e.encrypted&&this.emeController&&this.config.emeEnabled?this.emeController.selectKeySystemFormat(e).then(r=>this.loadInternal(e,r)):this.loadInternal(e)}loadInternal(e,r){var n,i;r&&e.setKeyFormat(r);const s=e.decryptdata;if(!s){const l=new Error(r?`Expected frag.decryptdata to be defined after setting format ${r}`:`Missing decryption data on fragment in onKeyLoading (emeEnabled with controller: ${this.emeController&&this.config.emeEnabled})`);return Promise.reject(this.createKeyLoadError(e,gr.KEY_LOAD_ERROR,l))}const a=s.uri;if(!a)return Promise.reject(this.createKeyLoadError(e,gr.KEY_LOAD_ERROR,new Error(`Invalid key URI: "${a}"`)));const c=wB(s);let u=this.keyIdToKeyInfo[c];if((n=u)!=null&&n.decryptdata.key)return s.key=u.decryptdata.key,Promise.resolve({frag:e,keyInfo:u});if(this.emeController&&(i=u)!=null&&i.keyLoadPromise)switch(this.emeController.getKeyStatus(u.decryptdata)){case"usable":case"usable-in-future":return u.keyLoadPromise.then(d=>{const{keyInfo:f}=d;return s.key=f.decryptdata.key,{frag:e,keyInfo:f}})}switch(this.log(`${this.keyIdToKeyInfo[c]?"Rel":"L"}oading${s.keyId?" keyId: "+Md(s.keyId):""} URI: ${s.uri} from ${e.type} ${e.level}`),u=this.keyIdToKeyInfo[c]={decryptdata:s,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},s.method){case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return s.keyFormat==="identity"?this.loadKeyHTTP(u,e):this.loadKeyEME(u,e);case"AES-128":case"AES-256":case"AES-256-CTR":return this.loadKeyHTTP(u,e);default:return Promise.reject(this.createKeyLoadError(e,gr.KEY_LOAD_ERROR,new Error(`Key supplied with unsupported METHOD: "${s.method}"`)))}}loadKeyEME(e,r){const n={frag:r,keyInfo:e};if(this.emeController&&this.config.emeEnabled){var i;if(!e.decryptdata.keyId&&(i=r.initSegment)!=null&&i.data){const a=V6e(r.initSegment.data);if(a.length){let c=a[0];c.some(u=>u!==0)?(this.log(`Using keyId found in init segment ${Md(c)}`),x0.setKeyIdForUri(e.decryptdata.uri,c)):(c=x0.addKeyIdForUri(e.decryptdata.uri),this.log(`Generating keyId to patch media ${Md(c)}`)),e.decryptdata.keyId=c}}if(!e.decryptdata.keyId&&!Jc(r))return Promise.resolve(n);const s=this.emeController.loadKey(n);return(e.keyLoadPromise=s.then(a=>(e.mediaKeySessionContext=a,n))).catch(a=>{throw e.keyLoadPromise=null,"data"in a&&(a.data.frag=r),a})}return Promise.resolve(n)}loadKeyHTTP(e,r){const n=this.config,i=n.loader,s=new i(n);return r.keyLoader=e.loader=s,e.keyLoadPromise=new Promise((a,c)=>{const u={keyInfo:e,frag:r,responseType:"arraybuffer",url:e.decryptdata.uri},l=n.keyLoadPolicy.default,d={loadPolicy:l,timeout:l.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},f={onSuccess:(A,p,v,y)=>{const{frag:x,keyInfo:w}=v,E=wB(w.decryptdata);if(!x.decryptdata||w!==this.keyIdToKeyInfo[E])return c(this.createKeyLoadError(x,gr.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),y));w.decryptdata.key=x.decryptdata.key=new Uint8Array(A.data),x.keyLoader=null,w.loader=null,a({frag:x,keyInfo:w})},onError:(A,p,v,y)=>{this.resetLoader(p),c(this.createKeyLoadError(r,gr.KEY_LOAD_ERROR,new Error(`HTTP Error ${A.code} loading key ${A.text}`),v,Fo({url:u.url,data:void 0},A)))},onTimeout:(A,p,v)=>{this.resetLoader(p),c(this.createKeyLoadError(r,gr.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),v))},onAbort:(A,p,v)=>{this.resetLoader(p),c(this.createKeyLoadError(r,gr.INTERNAL_ABORTED,new Error("key loading aborted"),v))}};s.load(u,d,f)})}resetLoader(e){const{frag:r,keyInfo:n,url:i}=e,s=n.loader;r.keyLoader===s&&(r.keyLoader=null,n.loader=null);const a=wB(n.decryptdata)||i;delete this.keyIdToKeyInfo[a],s&&s.destroy()}}function wB(t){if(t.keyFormat!==Fd.FAIRPLAY){const e=t.keyId;if(e)return Md(e)}return t.uri}function nG(t){const{type:e}=t;switch(e){case xa.AUDIO_TRACK:return fi.AUDIO;case xa.SUBTITLE_TRACK:return fi.SUBTITLE;default:return fi.MAIN}}function EB(t,e){let r=t.url;return(r===void 0||r.indexOf("data:")===0)&&(r=e.url),r}class THe{constructor(e){this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.onManifestLoaded=this.checkAutostartLoad,this.hls=e,this.registerListeners()}startLoad(e){}stopLoad(){this.destroyInternalLoaders()}registerListeners(){const{hls:e}=this;e.on(Ie.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Ie.LEVEL_LOADING,this.onLevelLoading,this),e.on(Ie.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.on(Ie.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this),e.on(Ie.LEVELS_UPDATED,this.onLevelsUpdated,this)}unregisterListeners(){const{hls:e}=this;e.off(Ie.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Ie.LEVEL_LOADING,this.onLevelLoading,this),e.off(Ie.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.off(Ie.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this),e.off(Ie.LEVELS_UPDATED,this.onLevelsUpdated,this)}createInternalLoader(e){const r=this.hls.config,n=r.pLoader,i=r.loader,s=n||i,a=new s(r);return this.loaders[e.type]=a,a}getInternalLoader(e){return this.loaders[e.type]}resetInternalLoader(e){this.loaders[e]&&delete this.loaders[e]}destroyInternalLoaders(){for(const e in this.loaders){const r=this.loaders[e];r&&r.destroy(),this.resetInternalLoader(e)}}destroy(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()}onManifestLoading(e,r){const{url:n}=r;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:xa.MANIFEST,url:n,deliveryDirectives:null,levelOrTrack:null})}onLevelLoading(e,r){const{id:n,level:i,pathwayId:s,url:a,deliveryDirectives:c,levelInfo:u}=r;this.load({id:n,level:i,pathwayId:s,responseType:"text",type:xa.LEVEL,url:a,deliveryDirectives:c,levelOrTrack:u})}onAudioTrackLoading(e,r){const{id:n,groupId:i,url:s,deliveryDirectives:a,track:c}=r;this.load({id:n,groupId:i,level:null,responseType:"text",type:xa.AUDIO_TRACK,url:s,deliveryDirectives:a,levelOrTrack:c})}onSubtitleTrackLoading(e,r){const{id:n,groupId:i,url:s,deliveryDirectives:a,track:c}=r;this.load({id:n,groupId:i,level:null,responseType:"text",type:xa.SUBTITLE_TRACK,url:s,deliveryDirectives:a,levelOrTrack:c})}onLevelsUpdated(e,r){const n=this.loaders[xa.LEVEL];if(n){const i=n.context;i&&!r.levels.some(s=>s===i.levelOrTrack)&&(n.abort(),delete this.loaders[xa.LEVEL])}}load(e){var r;const n=this.hls.config;let i=this.getInternalLoader(e);if(i){const l=this.hls.logger,d=i.context;if(d&&d.levelOrTrack===e.levelOrTrack&&(d.url===e.url||d.deliveryDirectives&&!e.deliveryDirectives)){d.url===e.url?l.log(`[playlist-loader]: ignore ${e.url} ongoing request`):l.log(`[playlist-loader]: ignore ${e.url} in favor of ${d.url}`);return}l.log(`[playlist-loader]: aborting previous loader for type: ${e.type}`),i.abort()}let s;if(e.type===xa.MANIFEST?s=n.manifestLoadPolicy.default:s=nl({},n.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),i=this.createInternalLoader(e),qn((r=e.deliveryDirectives)==null?void 0:r.part)){let l;if(e.type===xa.LEVEL&&e.level!==null?l=this.hls.levels[e.level].details:e.type===xa.AUDIO_TRACK&&e.id!==null?l=this.hls.audioTracks[e.id].details:e.type===xa.SUBTITLE_TRACK&&e.id!==null&&(l=this.hls.subtitleTracks[e.id].details),l){const d=l.partTarget,f=l.targetduration;if(d&&f){const A=Math.max(d*3,f*.8)*1e3;s=nl({},s,{maxTimeToFirstByteMs:Math.min(A,s.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(A,s.maxTimeToFirstByteMs)})}}}const a=s.errorRetry||s.timeoutRetry||{},c={loadPolicy:s,timeout:s.maxLoadTimeMs,maxRetry:a.maxNumRetry||0,retryDelay:a.retryDelayMs||0,maxRetryDelay:a.maxRetryDelayMs||0},u={onSuccess:(l,d,f,A)=>{const p=this.getInternalLoader(f);this.resetInternalLoader(f.type);const v=l.data;d.parsing.start=performance.now(),Cm.isMediaPlaylist(v)||f.type!==xa.MANIFEST?this.handleTrackOrLevelPlaylist(l,d,f,A||null,p):this.handleMasterPlaylist(l,d,f,A)},onError:(l,d,f,A)=>{this.handleNetworkError(d,f,!1,l,A)},onTimeout:(l,d,f)=>{this.handleNetworkError(d,f,!0,void 0,l)}};i.load(e,c,u)}checkAutostartLoad(){if(!this.hls)return;const{config:{autoStartLoad:e,startPosition:r},forceStartLoad:n}=this.hls;(e||n)&&(this.hls.logger.log(`${e?"auto":"force"} startLoad with configured startPosition ${r}`),this.hls.startLoad(r))}handleMasterPlaylist(e,r,n,i){const s=this.hls,a=e.data,c=EB(e,n),u=Cm.parseMasterPlaylist(a,c);if(u.playlistParsingError){r.parsing.end=performance.now(),this.handleManifestParsingError(e,n,u.playlistParsingError,i,r);return}const{contentSteering:l,levels:d,sessionData:f,sessionKeys:A,startTimeOffset:p,variableList:v}=u;this.variableList=v,d.forEach(E=>{const{unknownCodecs:T}=E;if(T){const{preferManagedMediaSource:C}=this.hls.config;let{audioCodec:j,videoCodec:P}=E;for(let U=T.length;U--;){const W=T[U];PE(W,"audio",C)?(E.audioCodec=j=j?`${j},${W}`:W,Ib.audio[j.substring(0,4)]=2,T.splice(U,1)):PE(W,"video",C)&&(E.videoCodec=P=P?`${P},${W}`:W,Ib.video[P.substring(0,4)]=2,T.splice(U,1))}}});const{AUDIO:y=[],SUBTITLES:x,"CLOSED-CAPTIONS":w}=Cm.parseMasterPlaylistMedia(a,c,u);y.length&&!y.some(T=>!T.url)&&d[0].audioCodec&&!d[0].attrs.AUDIO&&(this.hls.logger.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),y.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new lc({}),bitrate:0,url:""})),s.trigger(Ie.MANIFEST_LOADED,{levels:d,audioTracks:y,subtitles:x,captions:w,contentSteering:l,url:c,stats:r,networkDetails:i,sessionData:f,sessionKeys:A,startTimeOffset:p,variableList:v})}handleTrackOrLevelPlaylist(e,r,n,i,s){const a=this.hls,{id:c,level:u,type:l}=n,d=EB(e,n),f=qn(u)?u:qn(c)?c:0,A=nG(n),p=Cm.parseLevelPlaylist(e.data,d,f,A,0,this.variableList);if(l===xa.MANIFEST){const v={attrs:new lc({}),bitrate:0,details:p,name:"",url:d};p.requestScheduled=r.loading.start+aie(p,0),a.trigger(Ie.MANIFEST_LOADED,{levels:[v],audioTracks:[],url:d,stats:r,networkDetails:i,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}r.parsing.end=performance.now(),n.levelDetails=p,this.handlePlaylistLoaded(p,e,r,n,i,s)}handleManifestParsingError(e,r,n,i,s){this.hls.trigger(Ie.ERROR,{type:Pi.NETWORK_ERROR,details:gr.MANIFEST_PARSING_ERROR,fatal:r.type===xa.MANIFEST,url:e.url,err:n,error:n,reason:n.message,response:e,context:r,networkDetails:i,stats:s})}handleNetworkError(e,r,n=!1,i,s){let a=`A network ${n?"timeout":"error"+(i?" (status "+i.code+")":"")} occurred while loading ${e.type}`;e.type===xa.LEVEL?a+=`: ${e.level} id: ${e.id}`:(e.type===xa.AUDIO_TRACK||e.type===xa.SUBTITLE_TRACK)&&(a+=` id: ${e.id} group-id: "${e.groupId}"`);const c=new Error(a);this.hls.logger.warn(`[playlist-loader]: ${a}`);let u=gr.UNKNOWN,l=!1;const d=this.getInternalLoader(e);switch(e.type){case xa.MANIFEST:u=n?gr.MANIFEST_LOAD_TIMEOUT:gr.MANIFEST_LOAD_ERROR,l=!0;break;case xa.LEVEL:u=n?gr.LEVEL_LOAD_TIMEOUT:gr.LEVEL_LOAD_ERROR,l=!1;break;case xa.AUDIO_TRACK:u=n?gr.AUDIO_TRACK_LOAD_TIMEOUT:gr.AUDIO_TRACK_LOAD_ERROR,l=!1;break;case xa.SUBTITLE_TRACK:u=n?gr.SUBTITLE_TRACK_LOAD_TIMEOUT:gr.SUBTITLE_LOAD_ERROR,l=!1;break}d&&this.resetInternalLoader(e.type);const f={type:Pi.NETWORK_ERROR,details:u,fatal:l,url:e.url,loader:d,context:e,error:c,networkDetails:r,stats:s};if(i){const A=r?.url||e.url;f.response=Fo({url:A,data:void 0},i)}this.hls.trigger(Ie.ERROR,f)}handlePlaylistLoaded(e,r,n,i,s,a){const c=this.hls,{type:u,level:l,levelOrTrack:d,id:f,groupId:A,deliveryDirectives:p}=i,v=EB(r,i),y=nG(i);let x=typeof i.level=="number"&&y===fi.MAIN?l:void 0;const w=e.playlistParsingError;if(w){if(this.hls.logger.warn(`${w} ${e.url}`),!c.config.ignorePlaylistParsingErrors){c.trigger(Ie.ERROR,{type:Pi.NETWORK_ERROR,details:gr.LEVEL_PARSING_ERROR,fatal:!1,url:v,error:w,reason:w.message,response:r,context:i,level:x,parent:y,networkDetails:s,stats:n});return}e.playlistParsingError=null}if(!e.fragments.length){const E=e.playlistParsingError=new Error("No Segments found in Playlist");c.trigger(Ie.ERROR,{type:Pi.NETWORK_ERROR,details:gr.LEVEL_EMPTY_ERROR,fatal:!1,url:v,error:E,reason:E.message,response:r,context:i,level:x,parent:y,networkDetails:s,stats:n});return}switch(e.live&&a&&(a.getCacheAge&&(e.ageHeader=a.getCacheAge()||0),(!a.getCacheAge||isNaN(e.ageHeader))&&(e.ageHeader=0)),u){case xa.MANIFEST:case xa.LEVEL:if(x){if(!d)x=0;else if(d!==c.levels[x]){const E=c.levels.indexOf(d);E>-1&&(x=E)}}c.trigger(Ie.LEVEL_LOADED,{details:e,levelInfo:d||c.levels[0],level:x||0,id:f||0,stats:n,networkDetails:s,deliveryDirectives:p,withoutMultiVariant:u===xa.MANIFEST});break;case xa.AUDIO_TRACK:c.trigger(Ie.AUDIO_TRACK_LOADED,{details:e,track:d,id:f||0,groupId:A||"",stats:n,networkDetails:s,deliveryDirectives:p});break;case xa.SUBTITLE_TRACK:c.trigger(Ie.SUBTITLE_TRACK_LOADED,{details:e,track:d,id:f||0,groupId:A||"",stats:n,networkDetails:s,deliveryDirectives:p});break}}}class l0{static get version(){return ME}static isMSESupported(){return sse()}static isSupported(){return bHe()}static getMediaSource(){return T0()}static get Events(){return Ie}static get MetadataSchema(){return af}static get ErrorTypes(){return Pi}static get ErrorDetails(){return gr}static get DefaultConfig(){return l0.defaultConfig?l0.defaultConfig:cHe}static set DefaultConfig(e){l0.defaultConfig=e}constructor(e={}){this.config=void 0,this.userConfig=void 0,this.logger=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new aF,this._autoLevelCapping=-1,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioStreamController=void 0,this.subtititleStreamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.interstitialsController=void 0,this.gapController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this._url=null,this._sessionId=void 0,this.triggeringException=void 0,this.started=!1;const r=this.logger=L6e(e.debug||!1,"Hls instance",e.assetPlayerId),n=this.config=dHe(l0.DefaultConfig,e,r);this.userConfig=e,n.progressive&&hHe(n,r);const{abrController:i,bufferController:s,capLevelController:a,errorController:c,fpsController:u}=n,l=new c(this),d=this.abrController=new i(this),f=new C8e(this),A=n.interstitialsController,p=A?this.interstitialsController=new A(this,l0):null,v=this.bufferController=new s(this,f),y=this.capLevelController=new a(this),x=new u(this),w=new THe(this),E=n.contentSteeringController,T=E?new E(this):null,C=this.levelController=new xHe(this,T),j=new vHe(this),P=new SHe(this.config,this.logger),U=this.streamController=new _He(this,f,P),W=this.gapController=new pHe(this,f);y.setStreamController(U),x.setStreamController(U);const q=[w,C,U];p&&q.splice(1,0,p),T&&q.splice(1,0,T),this.networkControllers=q;const re=[d,v,W,y,x,j,f];this.audioTrackController=this.createController(n.audioTrackController,q);const ie=n.audioStreamController;ie&&q.push(this.audioStreamController=new ie(this,f,P)),this.subtitleTrackController=this.createController(n.subtitleTrackController,q);const Ae=n.subtitleStreamController;Ae&&q.push(this.subtititleStreamController=new Ae(this,f,P)),this.createController(n.timelineController,re),P.emeController=this.emeController=this.createController(n.emeController,re),this.cmcdController=this.createController(n.cmcdController,re),this.latencyController=this.createController(yHe,re),this.coreComponents=re,q.push(l);const be=l.onErrorOut;typeof be=="function"&&this.on(Ie.ERROR,be,l),this.on(Ie.MANIFEST_LOADED,w.onManifestLoaded,w)}createController(e,r){if(e){const n=new e(this);return r&&r.push(n),n}return null}on(e,r,n=this){this._emitter.on(e,r,n)}once(e,r,n=this){this._emitter.once(e,r,n)}removeAllListeners(e){this._emitter.removeAllListeners(e)}off(e,r,n=this,i){this._emitter.off(e,r,n,i)}listeners(e){return this._emitter.listeners(e)}emit(e,r,n){return this._emitter.emit(e,r,n)}trigger(e,r){if(this.config.debug)return this.emit(e,e,r);try{return this.emit(e,e,r)}catch(n){if(this.logger.error("An internal error happened while handling event "+e+'. Error message: "'+n.message+'". Here is a stacktrace:',n),!this.triggeringException){this.triggeringException=!0;const i=e===Ie.ERROR;this.trigger(Ie.ERROR,{type:Pi.OTHER_ERROR,details:gr.INTERNAL_EXCEPTION,fatal:i,event:e,error:n}),this.triggeringException=!1}}return!1}listenerCount(e){return this._emitter.listenerCount(e)}destroy(){this.logger.log("destroy"),this.trigger(Ie.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this._url=null,this.networkControllers.forEach(r=>r.destroy()),this.networkControllers.length=0,this.coreComponents.forEach(r=>r.destroy()),this.coreComponents.length=0;const e=this.config;e.xhrSetup=e.fetchSetup=void 0,this.userConfig=null}attachMedia(e){if(!e||"media"in e&&!e.media){const s=new Error(`attachMedia failed: invalid argument (${e})`);this.trigger(Ie.ERROR,{type:Pi.OTHER_ERROR,details:gr.ATTACH_MEDIA_ERROR,fatal:!0,error:s});return}this.logger.log("attachMedia"),this._media&&(this.logger.warn("media must be detached before attaching"),this.detachMedia());const r="media"in e,n=r?e.media:e,i=r?e:{media:n};this._media=n,this.trigger(Ie.MEDIA_ATTACHING,i)}detachMedia(){this.logger.log("detachMedia"),this.trigger(Ie.MEDIA_DETACHING,{}),this._media=null}transferMedia(){this._media=null;const e=this.bufferController.transferMedia();return this.trigger(Ie.MEDIA_DETACHING,{transferMedia:e}),e}loadSource(e){this.stopLoad();const r=this.media,n=this._url,i=this._url=YM.buildAbsoluteURL(self.location.href,e,{alwaysNormalize:!0});this._autoLevelCapping=-1,this._maxHdcpLevel=null,this.logger.log(`loadSource:${i}`),r&&n&&(n!==i||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(r)),this.trigger(Ie.MANIFEST_LOADING,{url:e})}get url(){return this._url}get hasEnoughToStart(){return this.streamController.hasEnoughToStart}get startPosition(){return this.streamController.startPositionValue}startLoad(e=-1,r){this.logger.log(`startLoad(${e+(r?", <skip seek to start>":"")})`),this.started=!0,this.resumeBuffering();for(let n=0;n<this.networkControllers.length&&(this.networkControllers[n].startLoad(e,r),!(!this.started||!this.networkControllers));n++);}stopLoad(){this.logger.log("stopLoad"),this.started=!1;for(let e=0;e<this.networkControllers.length&&(this.networkControllers[e].stopLoad(),!(this.started||!this.networkControllers));e++);}get loadingEnabled(){return this.started}get bufferingEnabled(){return this.streamController.bufferingEnabled}resumeBuffering(){this.bufferingEnabled||(this.logger.log("resume buffering"),this.networkControllers.forEach(e=>{e.resumeBuffering&&e.resumeBuffering()}))}pauseBuffering(){this.bufferingEnabled&&(this.logger.log("pause buffering"),this.networkControllers.forEach(e=>{e.pauseBuffering&&e.pauseBuffering()}))}get inFlightFragments(){const e={[fi.MAIN]:this.streamController.inFlightFrag};return this.audioStreamController&&(e[fi.AUDIO]=this.audioStreamController.inFlightFrag),this.subtititleStreamController&&(e[fi.SUBTITLE]=this.subtititleStreamController.inFlightFrag),e}swapAudioCodec(){this.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()}recoverMediaError(){this.logger.log("recoverMediaError");const e=this._media,r=e?.currentTime;this.detachMedia(),e&&(this.attachMedia(e),r&&this.startLoad(r))}removeLevel(e){this.levelController.removeLevel(e)}get sessionId(){let e=this._sessionId;return e||(e=this._sessionId=p9e()),e}get levels(){const e=this.levelController.levels;return e||[]}get latestLevelDetails(){return this.streamController.getLevelDetails()||null}get loadLevelObj(){return this.levelController.loadLevelObj}get currentLevel(){return this.streamController.currentLevel}set currentLevel(e){this.logger.log(`set currentLevel:${e}`),this.levelController.manualLevel=e,this.streamController.immediateLevelSwitch()}get nextLevel(){return this.streamController.nextLevel}set nextLevel(e){this.logger.log(`set nextLevel:${e}`),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}get loadLevel(){return this.levelController.level}set loadLevel(e){this.logger.log(`set loadLevel:${e}`),this.levelController.manualLevel=e}get nextLoadLevel(){return this.levelController.nextLoadLevel}set nextLoadLevel(e){this.levelController.nextLoadLevel=e}get firstLevel(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)}set firstLevel(e){this.logger.log(`set firstLevel:${e}`),this.levelController.firstLevel=e}get startLevel(){const e=this.levelController.startLevel;return e===-1&&this.abrController.forcedAutoLevel>-1?this.abrController.forcedAutoLevel:e}set startLevel(e){this.logger.log(`set startLevel:${e}`),e!==-1&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e}get capLevelToPlayerSize(){return this.config.capLevelToPlayerSize}set capLevelToPlayerSize(e){const r=!!e;r!==this.config.capLevelToPlayerSize&&(r?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=r)}get autoLevelCapping(){return this._autoLevelCapping}get bandwidthEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimate():NaN}set bandwidthEstimate(e){this.abrController.resetEstimator(e)}get abrEwmaDefaultEstimate(){const{bwEstimator:e}=this.abrController;return e?e.defaultEstimate:NaN}get ttfbEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimateTTFB():NaN}set autoLevelCapping(e){this._autoLevelCapping!==e&&(this.logger.log(`set autoLevelCapping:${e}`),this._autoLevelCapping=e,this.levelController.checkMaxAutoUpdated())}get maxHdcpLevel(){return this._maxHdcpLevel}set maxHdcpLevel(e){d8e(e)&&this._maxHdcpLevel!==e&&(this._maxHdcpLevel=e,this.levelController.checkMaxAutoUpdated())}get autoLevelEnabled(){return this.levelController.manualLevel===-1}get manualLevel(){return this.levelController.manualLevel}get minAutoLevel(){const{levels:e,config:{minAutoBitrate:r}}=this;if(!e)return 0;const n=e.length;for(let i=0;i<n;i++)if(e[i].maxBitrate>=r)return i;return 0}get maxAutoLevel(){const{levels:e,autoLevelCapping:r,maxHdcpLevel:n}=this;let i;if(r===-1&&e!=null&&e.length?i=e.length-1:i=r,n)for(let s=i;s--;){const a=e[s].attrs["HDCP-LEVEL"];if(a&&a<=n)return s}return i}get firstAutoLevel(){return this.abrController.firstAutoLevel}get nextAutoLevel(){return this.abrController.nextAutoLevel}set nextAutoLevel(e){this.abrController.nextAutoLevel=e}get playingDate(){return this.streamController.currentProgramDateTime}get mainForwardBufferInfo(){return this.streamController.getMainFwdBufferInfo()}get maxBufferLength(){return this.streamController.maxBufferLength}setAudioOption(e){var r;return((r=this.audioTrackController)==null?void 0:r.setAudioOption(e))||null}setSubtitleOption(e){var r;return((r=this.subtitleTrackController)==null?void 0:r.setSubtitleOption(e))||null}get allAudioTracks(){const e=this.audioTrackController;return e?e.allAudioTracks:[]}get audioTracks(){const e=this.audioTrackController;return e?e.audioTracks:[]}get audioTrack(){const e=this.audioTrackController;return e?e.audioTrack:-1}set audioTrack(e){const r=this.audioTrackController;r&&(r.audioTrack=e)}get allSubtitleTracks(){const e=this.subtitleTrackController;return e?e.allSubtitleTracks:[]}get subtitleTracks(){const e=this.subtitleTrackController;return e?e.subtitleTracks:[]}get subtitleTrack(){const e=this.subtitleTrackController;return e?e.subtitleTrack:-1}get media(){return this._media}set subtitleTrack(e){const r=this.subtitleTrackController;r&&(r.subtitleTrack=e)}get subtitleDisplay(){const e=this.subtitleTrackController;return e?e.subtitleDisplay:!1}set subtitleDisplay(e){const r=this.subtitleTrackController;r&&(r.subtitleDisplay=e)}get lowLatencyMode(){return this.config.lowLatencyMode}set lowLatencyMode(e){this.config.lowLatencyMode=e}get liveSyncPosition(){return this.latencyController.liveSyncPosition}get latency(){return this.latencyController.latency}get maxLatency(){return this.latencyController.maxLatency}get targetLatency(){return this.latencyController.targetLatency}set targetLatency(e){this.latencyController.targetLatency=e}get drift(){return this.latencyController.drift}get forceStartLoad(){return this.streamController.forceStartLoad}get pathways(){return this.levelController.pathways}get pathwayPriority(){return this.levelController.pathwayPriority}set pathwayPriority(e){this.levelController.pathwayPriority=e}get bufferedToEnd(){var e;return!!((e=this.bufferController)!=null&&e.bufferedToEnd)}get interstitialsManager(){var e;return((e=this.interstitialsController)==null?void 0:e.interstitialsManager)||null}getMediaDecodingInfo(e,r=this.allAudioTracks){const n=zne(r);return Qne(e,n,navigator.mediaCapabilities)}}l0.defaultConfig=void 0;var Ba=l0,Sl={VIDEO:"video",THUMBNAIL:"thumbnail",STORYBOARD:"storyboard",DRM:"drm"},ts={NOT_AN_ERROR:0,NETWORK_OFFLINE:2000002,NETWORK_UNKNOWN_ERROR:2e6,NETWORK_NO_STATUS:2000001,NETWORK_INVALID_URL:24e5,NETWORK_NOT_FOUND:2404e3,NETWORK_NOT_READY:2412e3,NETWORK_GENERIC_SERVER_FAIL:25e5,NETWORK_TOKEN_MISSING:2403201,NETWORK_TOKEN_MALFORMED:2412202,NETWORK_TOKEN_EXPIRED:2403210,NETWORK_TOKEN_AUD_MISSING:2403221,NETWORK_TOKEN_AUD_MISMATCH:2403222,NETWORK_TOKEN_SUB_MISMATCH:2403232,ENCRYPTED_ERROR:5e6,ENCRYPTED_UNSUPPORTED_KEY_SYSTEM:5000001,ENCRYPTED_GENERATE_REQUEST_FAILED:5000002,ENCRYPTED_UPDATE_LICENSE_FAILED:5000003,ENCRYPTED_UPDATE_SERVER_CERT_FAILED:5000004,ENCRYPTED_CDM_ERROR:5000005,ENCRYPTED_OUTPUT_RESTRICTED:5000006,ENCRYPTED_MISSING_TOKEN:5000002},T5=t=>t===Sl.VIDEO?"playback":t,zg=class ow extends Error{constructor(e,r=ow.MEDIA_ERR_CUSTOM,n,i){var s;super(e),this.name="MediaError",this.code=r,this.context=i,this.fatal=n??(r>=ow.MEDIA_ERR_NETWORK&&r<=ow.MEDIA_ERR_ENCRYPTED),this.message||(this.message=(s=ow.defaultMessages[this.code])!=null?s:"")}};zg.MEDIA_ERR_ABORTED=1,zg.MEDIA_ERR_NETWORK=2,zg.MEDIA_ERR_DECODE=3,zg.MEDIA_ERR_SRC_NOT_SUPPORTED=4,zg.MEDIA_ERR_ENCRYPTED=5,zg.MEDIA_ERR_CUSTOM=100,zg.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail.",3:"A media error caused playback to be aborted. The media could be corrupt or your browser does not support this format.",4:"An unsupported error occurred. The server or network failed, or your browser does not support this format.",5:"The media is encrypted and there are no keys to decrypt it."};var ii=zg,CHe=t=>t==null,vF=(t,e)=>CHe(e)?!1:t in e,iP={ANY:"any",MUTED:"muted"},ko={ON_DEMAND:"on-demand",LIVE:"live",UNKNOWN:"unknown"},jm={MSE:"mse",NATIVE:"native"},lw={HEADER:"header",QUERY:"query",NONE:"none"},Mj=Object.values(lw),Rp={M3U8:"application/vnd.apple.mpegurl",MP4:"video/mp4"},iG={HLS:Rp.M3U8};[...Object.values(Rp)];var jHe="en",sP={code:jHe},fu=(t,e,r,n,i=t)=>{i.addEventListener(e,r,n),t.addEventListener("teardown",()=>{i.removeEventListener(e,r)},{once:!0})};function NHe(t,e,r){e&&r>e&&(r=e);for(let n=0;n<t.length;n++)if(t.start(n)<=r&&t.end(n)>=r)return!0;return!1}var yF=t=>{let e=t.indexOf("?");if(e<0)return[t];let r=t.slice(0,e),n=t.slice(e);return[r,n]},C5=t=>{let{type:e}=t;if(e){let r=e.toUpperCase();return vF(r,iG)?iG[r]:e}return kHe(t)},ase=t=>t==="VOD"?ko.ON_DEMAND:ko.LIVE,ose=t=>t==="EVENT"?Number.POSITIVE_INFINITY:t==="VOD"?Number.NaN:0,kHe=t=>{let{src:e}=t;if(!e)return"";let r="";try{r=new URL(e).pathname}catch{console.error("invalid url")}let n=r.lastIndexOf(".");if(n<0)return LHe(t)?Rp.M3U8:"";let i=r.slice(n+1).toUpperCase();return vF(i,Rp)?Rp[i]:""},IHe="mux.com",LHe=({src:t,customDomain:e=IHe})=>{let r;try{r=new URL(`${t}`)}catch{return!1}let n=r.protocol==="https:",i=r.hostname===`stream.${e}`.toLowerCase(),s=r.pathname.split("/"),a=s.length===2,c=!(s!=null&&s[1].includes("."));return n&&i&&a&&c},lb=t=>{let e=(t??"").split(".")[1];if(e)try{let r=e.replace(/-/g,"+").replace(/_/g,"/"),n=decodeURIComponent(atob(r).split("").map(function(i){return"%"+("00"+i.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(n)}catch{return}},BHe=({exp:t},e=Date.now())=>!t||t*1e3<e,OHe=({sub:t},e)=>t!==e,PHe=({aud:t},e)=>!t,RHe=({aud:t},e)=>t!==e,lse="en";function Ki(t,e=!0){var r,n;let i=e&&(n=(r=sP)==null?void 0:r[t])!=null?n:t,s=e?sP.code:lse;return new DHe(i,s)}var DHe=class{constructor(t,e=(r=>(r=sP)!=null?r:lse)()){this.message=t,this.locale=e}format(t){return this.message.replace(/\{(\w+)\}/g,(e,r)=>{var n;return(n=t[r])!=null?n:""})}toString(){return this.message}},MHe=Object.values(iP),sG=t=>typeof t=="boolean"||typeof t=="string"&&MHe.includes(t),FHe=(t,e,r)=>{let{autoplay:n}=t,i=!1,s=!1,a=sG(n)?n:!!n,c=()=>{i||fu(e,"playing",()=>{i=!0},{once:!0})};if(c(),fu(e,"loadstart",()=>{i=!1,c(),_B(e,a)},{once:!0}),fu(e,"loadstart",()=>{r||(t.streamType&&t.streamType!==ko.UNKNOWN?s=t.streamType===ko.LIVE:s=!Number.isFinite(e.duration)),_B(e,a)},{once:!0}),r&&r.once(Ba.Events.LEVEL_LOADED,(u,l)=>{var d;t.streamType&&t.streamType!==ko.UNKNOWN?s=t.streamType===ko.LIVE:s=(d=l.details.live)!=null?d:!1}),!a){let u=()=>{!s||Number.isFinite(t.startTime)||(r!=null&&r.liveSyncPosition?e.currentTime=r.liveSyncPosition:Number.isFinite(e.seekable.end(0))&&(e.currentTime=e.seekable.end(0)))};r&&fu(e,"play",()=>{e.preload==="metadata"?r.once(Ba.Events.LEVEL_UPDATED,u):u()},{once:!0})}return u=>{i||(a=sG(u)?u:!!u,_B(e,a))}},_B=(t,e)=>{if(!e)return;let r=t.muted,n=()=>t.muted=r;switch(e){case iP.ANY:t.play().catch(()=>{t.muted=!0,t.play().catch(n)});break;case iP.MUTED:t.muted=!0,t.play().catch(n);break;default:t.play().catch(()=>{});break}},UHe=({preload:t,src:e},r,n)=>{let i=f=>{f!=null&&["","none","metadata","auto"].includes(f)?r.setAttribute("preload",f):r.removeAttribute("preload")};if(!n)return i(t),i;let s=!1,a=!1,c=n.config.maxBufferLength,u=n.config.maxBufferSize,l=f=>{i(f);let A=f??r.preload;a||A==="none"||(A==="metadata"?(n.config.maxBufferLength=1,n.config.maxBufferSize=1):(n.config.maxBufferLength=c,n.config.maxBufferSize=u),d())},d=()=>{!s&&e&&(s=!0,n.loadSource(e))};return fu(r,"play",()=>{a=!0,n.config.maxBufferLength=c,n.config.maxBufferSize=u,d()},{once:!0}),l(t),l};function $He(t,e){var r;if(!("videoTracks"in t))return;let n=new WeakMap;e.on(Ba.Events.MANIFEST_PARSED,function(u,l){c();let d=t.addVideoTrack("main");d.selected=!0;for(let[f,A]of l.levels.entries()){let p=d.addRendition(A.url[0],A.width,A.height,A.videoCodec,A.bitrate);n.set(A,`${f}`),p.id=`${f}`}}),e.on(Ba.Events.AUDIO_TRACKS_UPDATED,function(u,l){a();for(let d of l.audioTracks){let f=d.default?"main":"alternative",A=t.addAudioTrack(f,d.name,d.lang);A.id=`${d.id}`,d.default&&(A.enabled=!0)}}),t.audioTracks.addEventListener("change",()=>{var u;let l=+((u=[...t.audioTracks].find(f=>f.enabled))==null?void 0:u.id),d=e.audioTracks.map(f=>f.id);l!=e.audioTrack&&d.includes(l)&&(e.audioTrack=l)}),e.on(Ba.Events.LEVELS_UPDATED,function(u,l){var d;let f=t.videoTracks[(d=t.videoTracks.selectedIndex)!=null?d:0];if(!f)return;let A=l.levels.map(p=>n.get(p));for(let p of t.videoRenditions)p.id&&!A.includes(p.id)&&f.removeRendition(p)});let i=u=>{let l=u.target.selectedIndex;l!=e.nextLevel&&(e.nextLevel=l)};(r=t.videoRenditions)==null||r.addEventListener("change",i);let s=()=>{for(let u of t.videoTracks)t.removeVideoTrack(u)},a=()=>{for(let u of t.audioTracks)t.removeAudioTrack(u)},c=()=>{s(),a()};e.once(Ba.Events.DESTROYING,c)}var SB=t=>"time"in t?t.time:t.startTime;function HHe(t,e){e.on(Ba.Events.NON_NATIVE_TEXT_TRACKS_FOUND,(i,{tracks:s})=>{s.forEach(a=>{var c,u;let l=(c=a.subtitleTrack)!=null?c:a.closedCaptions,d=e.subtitleTracks.findIndex(({lang:A,name:p,type:v})=>A==l?.lang&&p===a.label&&v.toLowerCase()===a.kind),f=((u=a._id)!=null?u:a.default)?"default":`${a.kind}${d}`;xF(t,a.kind,a.label,l?.lang,f,a.default)})});let r=()=>{if(!e.subtitleTracks.length)return;let i=Array.from(t.textTracks).find(c=>c.id&&c.mode==="showing"&&["subtitles","captions"].includes(c.kind));if(!i)return;let s=e.subtitleTracks[e.subtitleTrack],a=s?s.default?"default":`${e.subtitleTracks[e.subtitleTrack].type.toLowerCase()}${e.subtitleTrack}`:void 0;if(e.subtitleTrack<0||i?.id!==a){let c=e.subtitleTracks.findIndex(({lang:u,name:l,type:d,default:f})=>i.id==="default"&&f||u==i.language&&l===i.label&&d.toLowerCase()===i.kind);e.subtitleTrack=c}i?.id===a&&i.cues&&Array.from(i.cues).forEach(c=>{i.addCue(c)})};t.textTracks.addEventListener("change",r),e.on(Ba.Events.CUES_PARSED,(i,{track:s,cues:a})=>{let c=t.textTracks.getTrackById(s);if(!c)return;let u=c.mode==="disabled";u&&(c.mode="hidden"),a.forEach(l=>{var d;(d=c.cues)!=null&&d.getCueById(l.id)||c.addCue(l)}),u&&(c.mode="disabled")}),e.once(Ba.Events.DESTROYING,()=>{t.textTracks.removeEventListener("change",r),t.querySelectorAll("track[data-removeondestroy]").forEach(i=>{i.remove()})});let n=()=>{Array.from(t.textTracks).forEach(i=>{var s,a;if(!["subtitles","caption"].includes(i.kind)&&(i.label==="thumbnails"||i.kind==="chapters")){if(!((s=i.cues)!=null&&s.length)){let c="track";i.kind&&(c+=`[kind="${i.kind}"]`),i.label&&(c+=`[label="${i.label}"]`);let u=t.querySelector(c),l=(a=u?.getAttribute("src"))!=null?a:"";u?.removeAttribute("src"),setTimeout(()=>{u?.setAttribute("src",l)},0)}i.mode!=="hidden"&&(i.mode="hidden")}})};e.once(Ba.Events.MANIFEST_LOADED,n),e.once(Ba.Events.MEDIA_ATTACHED,n)}function xF(t,e,r,n,i,s){let a=document.createElement("track");return a.kind=e,a.label=r,n&&(a.srclang=n),i&&(a.id=i),s&&(a.default=!0),a.track.mode=["subtitles","captions"].includes(e)?"disabled":"hidden",a.setAttribute("data-removeondestroy",""),t.append(a),a.track}function QHe(t,e){let r=Array.prototype.find.call(t.querySelectorAll("track"),n=>n.track===e);r?.remove()}function G_(t,e,r){var n;return(n=Array.from(t.querySelectorAll("track")).find(i=>i.track.label===e&&i.track.kind===r))==null?void 0:n.track}async function cse(t,e,r,n){let i=G_(t,r,n);return i||(i=xF(t,n,r),i.mode="hidden",await new Promise(s=>setTimeout(()=>s(void 0),0))),i.mode!=="hidden"&&(i.mode="hidden"),[...e].sort((s,a)=>SB(a)-SB(s)).forEach(s=>{var a,c;let u=s.value,l=SB(s);if("endTime"in s&&s.endTime!=null)i?.addCue(new VTTCue(l,s.endTime,n==="chapters"?u:JSON.stringify(u??null)));else{let d=Array.prototype.findIndex.call(i?.cues,v=>v.startTime>=l),f=(a=i?.cues)==null?void 0:a[d],A=f?f.startTime:Number.isFinite(t.duration)?t.duration:Number.MAX_SAFE_INTEGER,p=(c=i?.cues)==null?void 0:c[d-1];p&&(p.endTime=l),i?.addCue(new VTTCue(l,A,n==="chapters"?u:JSON.stringify(u??null)))}}),t.textTracks.dispatchEvent(new Event("change",{bubbles:!0,composed:!0})),i}var bF="cuepoints",use=Object.freeze({label:bF});async function dse(t,e,r=use){return cse(t,e,r.label,"metadata")}var aP=t=>({time:t.startTime,value:JSON.parse(t.text)});function VHe(t,e={label:bF}){let r=G_(t,e.label,"metadata");return r!=null&&r.cues?Array.from(r.cues,n=>aP(n)):[]}function hse(t,e={label:bF}){var r,n;let i=G_(t,e.label,"metadata");if(!((r=i?.activeCues)!=null&&r.length))return;if(i.activeCues.length===1)return aP(i.activeCues[0]);let{currentTime:s}=t,a=Array.prototype.find.call((n=i.activeCues)!=null?n:[],({startTime:c,endTime:u})=>c<=s&&u>s);return aP(a||i.activeCues[0])}async function zHe(t,e=use){return new Promise(r=>{fu(t,"loadstart",async()=>{let n=await dse(t,[],e);fu(t,"cuechange",()=>{let i=hse(t);if(i){let s=new CustomEvent("cuepointchange",{composed:!0,bubbles:!0,detail:i});t.dispatchEvent(s)}},{},n),r(n)})})}var wF="chapters",fse=Object.freeze({label:wF}),oP=t=>({startTime:t.startTime,endTime:t.endTime,value:t.text});async function Ase(t,e,r=fse){return cse(t,e,r.label,"chapters")}function KHe(t,e={label:wF}){var r;let n=G_(t,e.label,"chapters");return(r=n?.cues)!=null&&r.length?Array.from(n.cues,i=>oP(i)):[]}function mse(t,e={label:wF}){var r,n;let i=G_(t,e.label,"chapters");if(!((r=i?.activeCues)!=null&&r.length))return;if(i.activeCues.length===1)return oP(i.activeCues[0]);let{currentTime:s}=t,a=Array.prototype.find.call((n=i.activeCues)!=null?n:[],({startTime:c,endTime:u})=>c<=s&&u>s);return oP(a||i.activeCues[0])}async function GHe(t,e=fse){return new Promise(r=>{fu(t,"loadstart",async()=>{let n=await Ase(t,[],e);fu(t,"cuechange",()=>{let i=mse(t);if(i){let s=new CustomEvent("chapterchange",{composed:!0,bubbles:!0,detail:i});t.dispatchEvent(s)}},{},n),r(n)})})}function WHe(t,e){if(e){let r=e.playingDate;if(r!=null)return new Date(r.getTime()-t.currentTime*1e3)}return typeof t.getStartDate=="function"?t.getStartDate():new Date(NaN)}function YHe(t,e){if(e&&e.playingDate)return e.playingDate;if(typeof t.getStartDate=="function"){let r=t.getStartDate();return new Date(r.getTime()+t.currentTime*1e3)}return new Date(NaN)}var Ww={VIDEO:"v",THUMBNAIL:"t",STORYBOARD:"s",DRM:"d"},qHe=t=>{if(t===Sl.VIDEO)return Ww.VIDEO;if(t===Sl.DRM)return Ww.DRM},XHe=(t,e)=>{var r,n;let i=T5(t),s=`${i}Token`;return(r=e.tokens)!=null&&r[i]?(n=e.tokens)==null?void 0:n[i]:vF(s,e)?e[s]:void 0},Fj=(t,e,r,n,i=!1,s=!(a=>(a=globalThis.navigator)==null?void 0:a.onLine)())=>{var a,c;if(s){let w=Ki("Your device appears to be offline",i),E,T=ii.MEDIA_ERR_NETWORK,C=new ii(w,T,!1,E);return C.errorCategory=e,C.muxCode=ts.NETWORK_OFFLINE,C.data=t,C}let u="status"in t?t.status:t.code,l=Date.now(),d=ii.MEDIA_ERR_NETWORK;if(u===200)return;let f=T5(e),A=XHe(e,r),p=qHe(e),[v]=yF((a=r.playbackId)!=null?a:"");if(!u||!v)return;let y=lb(A);if(A&&!y){let w=Ki("The {tokenNamePrefix}-token provided is invalid or malformed.",i).format({tokenNamePrefix:f}),E=Ki("Compact JWT string: {token}",i).format({token:A}),T=new ii(w,d,!0,E);return T.errorCategory=e,T.muxCode=ts.NETWORK_TOKEN_MALFORMED,T.data=t,T}if(u>=500){let w=new ii("",d,n??!0);return w.errorCategory=e,w.muxCode=ts.NETWORK_UNKNOWN_ERROR,w}if(u===403)if(y){if(BHe(y,l)){let w={timeStyle:"medium",dateStyle:"medium"},E=Ki("The videos secured {tokenNamePrefix}-token has expired.",i).format({tokenNamePrefix:f}),T=Ki("Expired at: {expiredDate}. Current time: {currentDate}.",i).format({expiredDate:new Intl.DateTimeFormat("en",w).format((c=y.exp)!=null?c:0*1e3),currentDate:new Intl.DateTimeFormat("en",w).format(l)}),C=new ii(E,d,!0,T);return C.errorCategory=e,C.muxCode=ts.NETWORK_TOKEN_EXPIRED,C.data=t,C}if(OHe(y,v)){let w=Ki("The videos playback ID does not match the one encoded in the {tokenNamePrefix}-token.",i).format({tokenNamePrefix:f}),E=Ki("Specified playback ID: {playbackId} and the playback ID encoded in the {tokenNamePrefix}-token: {tokenPlaybackId}",i).format({tokenNamePrefix:f,playbackId:v,tokenPlaybackId:y.sub}),T=new ii(w,d,!0,E);return T.errorCategory=e,T.muxCode=ts.NETWORK_TOKEN_SUB_MISMATCH,T.data=t,T}if(PHe(y)){let w=Ki("The {tokenNamePrefix}-token is formatted with incorrect information.",i).format({tokenNamePrefix:f}),E=Ki("The {tokenNamePrefix}-token has no aud value. aud value should be {expectedAud}.",i).format({tokenNamePrefix:f,expectedAud:p}),T=new ii(w,d,!0,E);return T.errorCategory=e,T.muxCode=ts.NETWORK_TOKEN_AUD_MISSING,T.data=t,T}if(RHe(y,p)){let w=Ki("The {tokenNamePrefix}-token is formatted with incorrect information.",i).format({tokenNamePrefix:f}),E=Ki("The {tokenNamePrefix}-token has an incorrect aud value: {aud}. aud value should be {expectedAud}.",i).format({tokenNamePrefix:f,expectedAud:p,aud:y.aud}),T=new ii(w,d,!0,E);return T.errorCategory=e,T.muxCode=ts.NETWORK_TOKEN_AUD_MISMATCH,T.data=t,T}}else{let w=Ki("Authorization error trying to access this {category} URL. If this is a signed URL, you might need to provide a {tokenNamePrefix}-token.",i).format({tokenNamePrefix:f,category:e}),E=Ki("Specified playback ID: {playbackId}",i).format({playbackId:v}),T=new ii(w,d,n??!0,E);return T.errorCategory=e,T.muxCode=ts.NETWORK_TOKEN_MISSING,T.data=t,T}if(u===412){let w=Ki("This playback-id may belong to a live stream that is not currently active or an asset that is not ready.",i),E=Ki("Specified playback ID: {playbackId}",i).format({playbackId:v}),T=new ii(w,d,n??!0,E);return T.errorCategory=e,T.muxCode=ts.NETWORK_NOT_READY,T.streamType=r.streamType===ko.LIVE?"live":r.streamType===ko.ON_DEMAND?"on-demand":"unknown",T.data=t,T}if(u===404){let w=Ki("This URL or playback-id does not exist. You may have used an Asset ID or an ID from a different resource.",i),E=Ki("Specified playback ID: {playbackId}",i).format({playbackId:v}),T=new ii(w,d,n??!0,E);return T.errorCategory=e,T.muxCode=ts.NETWORK_NOT_FOUND,T.data=t,T}if(u===400){let w=Ki("The URL or playback-id was invalid. You may have used an invalid value as a playback-id."),E=Ki("Specified playback ID: {playbackId}",i).format({playbackId:v}),T=new ii(w,d,n??!0,E);return T.errorCategory=e,T.muxCode=ts.NETWORK_INVALID_URL,T.data=t,T}let x=new ii("",d,n??!0);return x.errorCategory=e,x.muxCode=ts.NETWORK_UNKNOWN_ERROR,x.data=t,x},aG=Ba.DefaultConfig.capLevelController,ZHe={"720p":921600,"1080p":2073600,"1440p":4194304,"2160p":8294400};function JHe(t){let e=t.toLowerCase().trim();return ZHe[e]}var lP=class cw extends aG{constructor(e){super(e)}static setMaxAutoResolution(e,r){r?cw.maxAutoResolution.set(e,r):cw.maxAutoResolution.delete(e)}getMaxAutoResolution(){var e;let r=this.hls;return(e=cw.maxAutoResolution.get(r))!=null?e:void 0}get levels(){var e;return(e=this.hls.levels)!=null?e:[]}getValidLevels(e){return this.levels.filter((r,n)=>this.isLevelAllowed(r)&&n<=e)}getMaxLevelCapped(e){let r=this.getValidLevels(e),n=this.getMaxAutoResolution();if(!n)return super.getMaxLevel(e);let i=JHe(n);if(!i)return super.getMaxLevel(e);let s=r.filter(u=>u.width*u.height<=i),a=s.findIndex(u=>u.width*u.height===i);if(a!==-1){let u=s[a];return r.findIndex(l=>l===u)}if(s.length===0)return 0;let c=s[s.length-1];return r.findIndex(u=>u===c)}getMaxLevel(e){if(this.getMaxAutoResolution()!==void 0)return this.getMaxLevelCapped(e);let r=super.getMaxLevel(e),n=this.getValidLevels(e);if(!n[r])return r;let i=Math.min(n[r].width,n[r].height),s=cw.minMaxResolution;return i>=s?r:aG.getMaxLevelByMediaSize(n,s*(16/9),s)}};lP.minMaxResolution=720,lP.maxAutoResolution=new WeakMap;var eQe=lP,cP=eQe,WS={FAIRPLAY:"fairplay",PLAYREADY:"playready",WIDEVINE:"widevine"},tQe=t=>{if(t.includes("fps"))return WS.FAIRPLAY;if(t.includes("playready"))return WS.PLAYREADY;if(t.includes("widevine"))return WS.WIDEVINE},rQe=t=>{let e=t.split(`
`).find((r,n,i)=>n&&i[n-1].startsWith("#EXT-X-STREAM-INF"));return fetch(e).then(r=>r.status!==200?Promise.reject(r):r.text())},nQe=t=>{let e=t.split(`
`).filter(n=>n.startsWith("#EXT-X-SESSION-DATA"));if(!e.length)return{};let r={};for(let n of e){let i=sQe(n),s=i["DATA-ID"];s&&(r[s]={...i})}return{sessionData:r}},iQe=/([A-Z0-9-]+)="?(.*?)"?(?:,|$)/g;function sQe(t){let e=[...t.matchAll(iQe)];return Object.fromEntries(e.map(([,r,n])=>[r,n]))}var aQe=t=>{var e,r,n;let i=t.split(`
`),s=(r=((e=i.find(l=>l.startsWith("#EXT-X-PLAYLIST-TYPE")))!=null?e:"").split(":")[1])==null?void 0:r.trim(),a=ase(s),c=ose(s),u;if(a===ko.LIVE){let l=i.find(d=>d.startsWith("#EXT-X-PART-INF"));if(l)u=+l.split(":")[1].split("=")[1]*2;else{let d=i.find(A=>A.startsWith("#EXT-X-TARGETDURATION")),f=(n=d?.split(":"))==null?void 0:n[1];u=+(f??6)*3}}return{streamType:a,targetLiveWindow:c,liveEdgeStartOffset:u}},oQe=async(t,e)=>{if(e===Rp.MP4)return{streamType:ko.ON_DEMAND,targetLiveWindow:Number.NaN,liveEdgeStartOffset:void 0,sessionData:void 0};if(e===Rp.M3U8){let r=await fetch(t);if(!r.ok)return Promise.reject(r);let n=await r.text(),i=await rQe(n);return{...nQe(n),...aQe(i)}}return console.error(`Media type ${e} is an unrecognized or unsupported type for src ${t}.`),{streamType:void 0,targetLiveWindow:void 0,liveEdgeStartOffset:void 0,sessionData:void 0}},lQe=async(t,e,r=C5({src:t}))=>{var n,i,s,a;let{streamType:c,targetLiveWindow:u,liveEdgeStartOffset:l,sessionData:d}=await oQe(t,r),f=d?.["com.apple.hls.chapters"];(f!=null&&f.URI||f!=null&&f.VALUE.toLocaleLowerCase().startsWith("http"))&&EF((n=f.URI)!=null?n:f.VALUE,e),((i=Pc.get(e))!=null?i:{}).liveEdgeStartOffset=l,((s=Pc.get(e))!=null?s:{}).targetLiveWindow=u,e.dispatchEvent(new CustomEvent("targetlivewindowchange",{composed:!0,bubbles:!0})),((a=Pc.get(e))!=null?a:{}).streamType=c,e.dispatchEvent(new CustomEvent("streamtypechange",{composed:!0,bubbles:!0}))},EF=async(t,e)=>{var r,n;try{let i=await fetch(t);if(!i.ok)throw new Error(`Failed to fetch Mux metadata: ${i.status} ${i.statusText}`);let s=await i.json(),a={};if(!((r=s?.[0])!=null&&r.metadata))return;for(let u of s[0].metadata)u.key&&u.value&&(a[u.key]=u.value);((n=Pc.get(e))!=null?n:{}).metadata=a;let c=new CustomEvent("muxmetadata");e.dispatchEvent(c)}catch(i){console.error(i)}},cQe=t=>{var e;let r=t.type,n=ase(r),i=ose(r),s,a=!!((e=t.partList)!=null&&e.length);return n===ko.LIVE&&(s=a?t.partTarget*2:t.targetduration*3),{streamType:n,targetLiveWindow:i,liveEdgeStartOffset:s,lowLatency:a}},uQe=(t,e,r)=>{var n,i,s,a,c,u,l,d;let{streamType:f,targetLiveWindow:A,liveEdgeStartOffset:p,lowLatency:v}=cQe(t);if(f===ko.LIVE){v?(r.config.backBufferLength=(n=r.userConfig.backBufferLength)!=null?n:4,r.config.maxFragLookUpTolerance=(i=r.userConfig.maxFragLookUpTolerance)!=null?i:.001,r.config.abrBandWidthUpFactor=(s=r.userConfig.abrBandWidthUpFactor)!=null?s:r.config.abrBandWidthFactor):r.config.backBufferLength=(a=r.userConfig.backBufferLength)!=null?a:8;let y=Object.freeze({get length(){return e.seekable.length},start(x){return e.seekable.start(x)},end(x){var w;return x>this.length||x<0||Number.isFinite(e.duration)?e.seekable.end(x):(w=r.liveSyncPosition)!=null?w:e.seekable.end(x)}});((c=Pc.get(e))!=null?c:{}).seekable=y}((u=Pc.get(e))!=null?u:{}).liveEdgeStartOffset=p,((l=Pc.get(e))!=null?l:{}).targetLiveWindow=A,e.dispatchEvent(new CustomEvent("targetlivewindowchange",{composed:!0,bubbles:!0})),((d=Pc.get(e))!=null?d:{}).streamType=f,e.dispatchEvent(new CustomEvent("streamtypechange",{composed:!0,bubbles:!0}))},oG,lG,pse=(lG=(oG=globalThis?.navigator)==null?void 0:oG.userAgent)!=null?lG:"",cG,uG,dG,dQe=(dG=(uG=(cG=globalThis?.navigator)==null?void 0:cG.userAgentData)==null?void 0:uG.platform)!=null?dG:"",hQe=pse.toLowerCase().includes("android")||["x11","android"].some(t=>dQe.toLowerCase().includes(t)),fQe=t=>/^((?!chrome|android).)*safari/i.test(pse)&&!!t.canPlayType("application/vnd.apple.mpegurl"),Pc=new WeakMap,Dp="mux.com",hG,fG,gse=(fG=(hG=Ba).isSupported)==null?void 0:fG.call(hG),AQe=t=>hQe||!fQe(t),_F=()=>{if(typeof window<"u")return WM.utils.now()},mQe=WM.utils.generateUUID,uP=({playbackId:t,customDomain:e=Dp,maxResolution:r,minResolution:n,renditionOrder:i,programStartTime:s,programEndTime:a,assetStartTime:c,assetEndTime:u,playbackToken:l,tokens:{playback:d=l}={},extraSourceParams:f={}}={})=>{if(!t)return;let[A,p=""]=yF(t),v=new URL(`https://stream.${e}/${A}.m3u8${p}`);return d||v.searchParams.has("token")?(v.searchParams.forEach((y,x)=>{x!="token"&&v.searchParams.delete(x)}),d&&v.searchParams.set("token",d)):(r&&v.searchParams.set("max_resolution",r),n&&(v.searchParams.set("min_resolution",n),r&&+r.slice(0,-1)<+n.slice(0,-1)&&console.error("minResolution must be <= maxResolution","minResolution",n,"maxResolution",r)),i&&v.searchParams.set("rendition_order",i),s&&v.searchParams.set("program_start_time",`${s}`),a&&v.searchParams.set("program_end_time",`${a}`),c&&v.searchParams.set("asset_start_time",`${c}`),u&&v.searchParams.set("asset_end_time",`${u}`),Object.entries(f).forEach(([y,x])=>{x!=null&&v.searchParams.set(y,x)})),v.toString()},j5=t=>{if(!t)return;let[e]=t.split("?");return e||void 0},SF=t=>{if(!t||!t.startsWith("https://stream."))return;let[e]=new URL(t).pathname.slice(1).split(/\.m3u8|\//);return e||void 0},pQe=t=>{var e,r,n;return(e=t?.metadata)!=null&&e.video_id?t.metadata.video_id:Sse(t)&&(n=(r=j5(t.playbackId))!=null?r:SF(t.src))!=null?n:t.src},vse=t=>{var e;return(e=Pc.get(t))==null?void 0:e.error},gQe=t=>{var e;return(e=Pc.get(t))==null?void 0:e.metadata},dP=t=>{var e,r;return(r=(e=Pc.get(t))==null?void 0:e.streamType)!=null?r:ko.UNKNOWN},vQe=t=>{var e,r;return(r=(e=Pc.get(t))==null?void 0:e.targetLiveWindow)!=null?r:Number.NaN},TF=t=>{var e,r;return(r=(e=Pc.get(t))==null?void 0:e.seekable)!=null?r:t.seekable},yQe=t=>{var e;let r=(e=Pc.get(t))==null?void 0:e.liveEdgeStartOffset;if(typeof r!="number")return Number.NaN;let n=TF(t);return n.length?n.end(n.length-1)-r:Number.NaN},CF=.034,xQe=(t,e,r=CF)=>Math.abs(t-e)<=r,yse=(t,e,r=CF)=>t>e||xQe(t,e,r),bQe=(t,e=CF)=>t.paused&&yse(t.currentTime,t.duration,e),xse=(t,e)=>{var r,n,i;if(!e||!t.buffered.length)return;if(t.readyState>2)return!1;let s=e.currentLevel>=0?(n=(r=e.levels)==null?void 0:r[e.currentLevel])==null?void 0:n.details:(i=e.levels.find(f=>!!f.details))==null?void 0:i.details;if(!s||s.live)return;let{fragments:a}=s;if(!(a!=null&&a.length))return;if(t.currentTime<t.duration-(s.targetduration+.5))return!1;let c=a[a.length-1];if(t.currentTime<=c.start)return!1;let u=c.start+c.duration/2,l=t.buffered.start(t.buffered.length-1),d=t.buffered.end(t.buffered.length-1);return u>l&&u<d},bse=(t,e)=>t.ended||t.loop?t.ended:e&&xse(t,e)?!0:bQe(t),wQe=(t,e,r)=>{wse(e,r,t);let{metadata:n={}}=t,{view_session_id:i=mQe()}=n,s=pQe(t);n.view_session_id=i,n.video_id=s,t.metadata=n;let a=d=>{var f;(f=e.mux)==null||f.emit("hb",{view_drm_type:d})};t.drmTypeCb=a,Pc.set(e,{retryCount:0});let c=EQe(t,e),u=UHe(t,e,c);t!=null&&t.muxDataKeepSession&&e!=null&&e.mux&&!e.mux.deleted?c&&e.mux.addHLSJS({hlsjs:c,Hls:c?Ba:void 0}):kQe(t,e,c),IQe(t,e,c),zHe(e),GHe(e);let l=FHe(t,e,c);return{engine:c,setAutoplay:l,setPreload:u}},wse=(t,e,r)=>{let n=e?.engine;t!=null&&t.mux&&!t.mux.deleted&&(r!=null&&r.muxDataKeepSession?n&&t.mux.removeHLSJS():(t.mux.destroy(),delete t.mux)),n&&(n.detachMedia(),n.destroy()),t&&(t.hasAttribute("src")&&(t.removeAttribute("src"),t.load()),t.removeEventListener("error",Cse),t.removeEventListener("error",hP),t.removeEventListener("durationchange",Tse),Pc.delete(t),t.dispatchEvent(new Event("teardown")))};function Ese(t,e){var r;let n=C5(t);if(n!==Rp.M3U8)return!0;let i=!n||((r=e.canPlayType(n))!=null?r:!0),{preferPlayback:s}=t,a=s===jm.MSE,c=s===jm.NATIVE,u=gse&&(a||AQe(e));return i&&(c||!u)}var EQe=(t,e)=>{let{debug:r,streamType:n,startTime:i=-1,metadata:s,preferCmcd:a,_hlsConfig:c={},maxAutoResolution:u}=t,l=C5(t)===Rp.M3U8,d=Ese(t,e);if(l&&!d&&gse){let f={backBufferLength:30,renderTextTracksNatively:!1,liveDurationInfinity:!0,capLevelOnFPSDrop:!0},A=_Qe(n),p=SQe(t),v=[lw.QUERY,lw.HEADER].includes(a)?{useHeaders:a===lw.HEADER,sessionId:s?.view_session_id,contentId:s?.video_id}:void 0,y=NQe(t),x=new Ba({debug:r,startPosition:i,cmcd:v,xhrSetup:(w,E)=>{var T,C;if(a&&a!==lw.QUERY)return;let j=new URL(E);if(!j.searchParams.has("CMCD"))return;let P=((C=(T=j.searchParams.get("CMCD"))==null?void 0:T.split(","))!=null?C:[]).filter(U=>U.startsWith("sid")||U.startsWith("cid")).join(",");j.searchParams.set("CMCD",P),w.open("GET",j)},...f,...y,...A,...p,...c});return y.capLevelController===cP&&u!==void 0&&cP.setMaxAutoResolution(x,u),x.on(Ba.Events.MANIFEST_PARSED,async function(w,E){var T,C;let j=(T=E.sessionData)==null?void 0:T["com.apple.hls.chapters"];(j!=null&&j.URI||j!=null&&j.VALUE.toLocaleLowerCase().startsWith("http"))&&EF((C=j?.URI)!=null?C:j?.VALUE,e)}),x}},_Qe=t=>t===ko.LIVE?{backBufferLength:8}:{},SQe=t=>{let{tokens:{drm:e}={},playbackId:r,drmTypeCb:n}=t,i=j5(r);return!e||!i?{}:{emeEnabled:!0,drmSystems:{"com.apple.fps":{licenseUrl:YS(t,"fairplay"),serverCertificateUrl:_se(t,"fairplay")},"com.widevine.alpha":{licenseUrl:YS(t,"widevine")},"com.microsoft.playready":{licenseUrl:YS(t,"playready")}},requestMediaKeySystemAccessFunc:(s,a)=>(s==="com.widevine.alpha"&&(a=[...a.map(c=>{var u;let l=(u=c.videoCapabilities)==null?void 0:u.map(d=>({...d,robustness:"HW_SECURE_ALL"}));return{...c,videoCapabilities:l}}),...a]),navigator.requestMediaKeySystemAccess(s,a).then(c=>{let u=tQe(s);return n?.(u),c}))}},TQe=async t=>{let e=await fetch(t);return e.status!==200?Promise.reject(e):await e.arrayBuffer()},CQe=async(t,e)=>{let r=await fetch(e,{method:"POST",headers:{"Content-type":"application/octet-stream"},body:t});if(r.status!==200)return Promise.reject(r);let n=await r.arrayBuffer();return new Uint8Array(n)},jQe=(t,e)=>{let r=async s=>{let a=await navigator.requestMediaKeySystemAccess("com.apple.fps",[{initDataTypes:[s],videoCapabilities:[{contentType:"application/vnd.apple.mpegurl",robustness:""}],distinctiveIdentifier:"not-allowed",persistentState:"not-allowed",sessionTypes:["temporary"]}]).then(u=>{var l;return(l=t.drmTypeCb)==null||l.call(t,WS.FAIRPLAY),u}).catch(()=>{let u=Ki("Cannot play DRM-protected content with current security configuration on this browser. Try playing in another browser."),l=new ii(u,ii.MEDIA_ERR_ENCRYPTED,!0);l.errorCategory=Sl.DRM,l.muxCode=ts.ENCRYPTED_UNSUPPORTED_KEY_SYSTEM,of(e,l)});if(!a)return;let c=await a.createMediaKeys();try{let u=await TQe(_se(t,"fairplay")).catch(l=>{if(l instanceof Response){let d=Fj(l,Sl.DRM,t);return console.error("mediaError",d?.message,d?.context),d?Promise.reject(d):Promise.reject(new Error("Unexpected error in app cert request"))}return Promise.reject(l)});await c.setServerCertificate(u).catch(()=>{let l=Ki("Your server certificate failed when attempting to set it. This may be an issue with a no longer valid certificate."),d=new ii(l,ii.MEDIA_ERR_ENCRYPTED,!0);return d.errorCategory=Sl.DRM,d.muxCode=ts.ENCRYPTED_UPDATE_SERVER_CERT_FAILED,Promise.reject(d)})}catch(u){of(e,u);return}await e.setMediaKeys(c)},n=s=>{let a;if(s==="internal-error"){let c=Ki("The DRM Content Decryption Module system had an internal failure. Try reloading the page, upading your browser, or playing in another browser.");a=new ii(c,ii.MEDIA_ERR_ENCRYPTED,!0),a.errorCategory=Sl.DRM,a.muxCode=ts.ENCRYPTED_CDM_ERROR}else if(s==="output-restricted"||s==="output-downscaled"){let c=Ki("DRM playback is being attempted in an environment that is not sufficiently secure. User may see black screen.");a=new ii(c,ii.MEDIA_ERR_ENCRYPTED,!1),a.errorCategory=Sl.DRM,a.muxCode=ts.ENCRYPTED_OUTPUT_RESTRICTED}a&&of(e,a)},i=async(s,a)=>{let c=e.mediaKeys.createSession(),u=()=>{c.keyStatuses.forEach(d=>n(d))},l=async d=>{let f=d.message;try{let A=await CQe(f,YS(t,"fairplay"));try{await c.update(A)}catch{let p=Ki("Failed to update DRM license. This may be an issue with the player or your protected content."),v=new ii(p,ii.MEDIA_ERR_ENCRYPTED,!0);v.errorCategory=Sl.DRM,v.muxCode=ts.ENCRYPTED_UPDATE_LICENSE_FAILED,of(e,v)}}catch(A){if(A instanceof Response){let p=Fj(A,Sl.DRM,t);if(console.error("mediaError",p?.message,p?.context),p){of(e,p);return}console.error("Unexpected error in license key request",A);return}console.error(A)}};c.addEventListener("keystatuseschange",u),c.addEventListener("message",l),e.addEventListener("teardown",()=>{c.removeEventListener("keystatuseschange",u),c.removeEventListener("message",l),c.close()},{once:!0}),await c.generateRequest(s,a).catch(d=>{console.error("Failed to generate license request",d);let f=Ki("Failed to generate a DRM license request. This may be an issue with the player or your protected content."),A=new ii(f,ii.MEDIA_ERR_ENCRYPTED,!0);return A.errorCategory=Sl.DRM,A.muxCode=ts.ENCRYPTED_GENERATE_REQUEST_FAILED,Promise.reject(A)})};fu(e,"encrypted",async s=>{try{let a=s.initDataType;if(a!=="skd"){console.error(`Received unexpected initialization data type "${a}"`);return}e.mediaKeys||await r(a);let c=s.initData;if(c==null){console.error(`Could not start encrypted playback due to missing initData in ${s.type} event`);return}await i(a,c)}catch(a){of(e,a);return}})},YS=({playbackId:t,tokens:{drm:e}={},customDomain:r=Dp},n)=>{let i=j5(t);return`https://license.${r.toLocaleLowerCase().endsWith(Dp)?r:Dp}/license/${n}/${i}?token=${e}`},_se=({playbackId:t,tokens:{drm:e}={},customDomain:r=Dp},n)=>{let i=j5(t);return`https://license.${r.toLocaleLowerCase().endsWith(Dp)?r:Dp}/appcert/${n}/${i}?token=${e}`},Sse=({playbackId:t,src:e,customDomain:r})=>{if(t)return!0;if(typeof e!="string")return!1;let n=window?.location.href,i=new URL(e,n).hostname.toLocaleLowerCase();return i.includes(Dp)||!!r&&i.includes(r.toLocaleLowerCase())},NQe=(t,e)=>{let r={};return r.capLevelToPlayerSize=t.capRenditionToPlayerSize,r.capLevelToPlayerSize==null?(r.capLevelController=cP,r.capLevelToPlayerSize=!0):r.capLevelController=_5,r},kQe=(t,e,r)=>{var n;let{envKey:i,disableTracking:s,muxDataSDK:a=WM,muxDataSDKOptions:c={}}=t,u=Sse(t);if(!s&&(i||u)){let{playerInitTime:l,playerSoftwareName:d,playerSoftwareVersion:f,beaconCollectionDomain:A,debug:p,disableCookies:v}=t,y={...t.metadata,video_title:((n=t?.metadata)==null?void 0:n.video_title)||void 0},x=w=>typeof w.player_error_code=="string"?!1:typeof t.errorTranslator=="function"?t.errorTranslator(w):w;a.monitor(e,{debug:p,beaconCollectionDomain:A,hlsjs:r,Hls:r?Ba:void 0,automaticErrorTracking:!1,errorTranslator:x,disableCookies:v,...c,data:{...i?{env_key:i}:{},player_software_name:d,player_software:d,player_software_version:f,player_init_time:l,...y}})}},IQe=(t,e,r)=>{var n,i;let s=Ese(t,e),{src:a,customDomain:c=Dp}=t,u=()=>{e.ended||t.disablePseudoEnded||!bse(e,r)||(xse(e,r)?e.currentTime=e.buffered.end(e.buffered.length-1):e.dispatchEvent(new Event("ended")))},l,d,f=()=>{let A=TF(e),p,v;A.length>0&&(p=A.start(0),v=A.end(0)),(d!==v||l!==p)&&e.dispatchEvent(new CustomEvent("seekablechange",{composed:!0})),l=p,d=v};if(fu(e,"durationchange",f),e&&s){let A=C5(t);if(typeof a=="string"){if(a.endsWith(".mp4")&&a.includes(c)){let y=SF(a),x=new URL(`https://stream.${c}/${y}/metadata.json`);EF(x.toString(),e)}let p=()=>{if(dP(e)!==ko.LIVE||Number.isFinite(e.duration))return;let y=setInterval(f,1e3);e.addEventListener("teardown",()=>{clearInterval(y)},{once:!0}),fu(e,"durationchange",()=>{Number.isFinite(e.duration)&&clearInterval(y)})},v=async()=>lQe(a,e,A).then(p).catch(y=>{if(y instanceof Response){let x=Fj(y,Sl.VIDEO,t);if(x){of(e,x);return}}});if(e.preload==="none"){let y=()=>{v(),e.removeEventListener("loadedmetadata",x)},x=()=>{v(),e.removeEventListener("play",y)};fu(e,"play",y,{once:!0}),fu(e,"loadedmetadata",x,{once:!0})}else v();(n=t.tokens)!=null&&n.drm?jQe(t,e):fu(e,"encrypted",()=>{let y=Ki("Attempting to play DRM-protected content without providing a DRM token."),x=new ii(y,ii.MEDIA_ERR_ENCRYPTED,!0);x.errorCategory=Sl.DRM,x.muxCode=ts.ENCRYPTED_MISSING_TOKEN,of(e,x)},{once:!0}),e.setAttribute("src",a),t.startTime&&(((i=Pc.get(e))!=null?i:{}).startTime=t.startTime,e.addEventListener("durationchange",Tse,{once:!0}))}else e.removeAttribute("src");e.addEventListener("error",Cse),e.addEventListener("error",hP),e.addEventListener("emptied",()=>{e.querySelectorAll("track[data-removeondestroy]").forEach(p=>{p.remove()})},{once:!0}),fu(e,"pause",u),fu(e,"seeked",u),fu(e,"play",()=>{e.ended||yse(e.currentTime,e.duration)&&(e.currentTime=e.seekable.length?e.seekable.start(0):0)})}else r&&a?(r.once(Ba.Events.LEVEL_LOADED,(A,p)=>{uQe(p.details,e,r),f(),dP(e)===ko.LIVE&&!Number.isFinite(e.duration)&&(r.on(Ba.Events.LEVEL_UPDATED,f),fu(e,"durationchange",()=>{Number.isFinite(e.duration)&&r.off(Ba.Events.LEVELS_UPDATED,f)}))}),r.on(Ba.Events.ERROR,(A,p)=>{var v,y;let x=LQe(p,t);if(x.muxCode===ts.NETWORK_NOT_READY){let w=(v=Pc.get(e))!=null?v:{},E=(y=w.retryCount)!=null?y:0;if(E<6){let T=E===0?5e3:6e4,C=new ii(`Retrying in ${T/1e3} seconds...`,x.code,x.fatal);Object.assign(C,x),of(e,C),setTimeout(()=>{w.retryCount=E+1,p.details==="manifestLoadError"&&p.url&&r.loadSource(p.url)},T);return}else{w.retryCount=0;let T=new ii('Try again later or <a href="#" onclick="window.location.reload(); return false;" style="color: #4a90e2;">click here to retry</a>',x.code,x.fatal);Object.assign(T,x),of(e,T);return}}of(e,x)}),r.on(Ba.Events.MANIFEST_LOADED,()=>{let A=Pc.get(e);A&&A.error&&(A.error=null,A.retryCount=0,e.dispatchEvent(new Event("emptied")),e.dispatchEvent(new Event("loadstart")))}),e.addEventListener("error",hP),fu(e,"waiting",u),$He(t,r),HHe(e,r),r.attachMedia(e)):console.error("It looks like the video you're trying to play will not work on this system! If possible, try upgrading to the newest versions of your browser or software.")};function Tse(t){var e;let r=t.target,n=(e=Pc.get(r))==null?void 0:e.startTime;if(n&&NHe(r.seekable,r.duration,n)){let i=r.preload==="auto";i&&(r.preload="none"),r.currentTime=n,i&&(r.preload="auto")}}async function Cse(t){if(!t.isTrusted)return;t.stopImmediatePropagation();let e=t.target;if(!(e!=null&&e.error))return;let{message:r,code:n}=e.error,i=new ii(r,n);if(e.src&&n===ii.MEDIA_ERR_SRC_NOT_SUPPORTED&&e.readyState===HTMLMediaElement.HAVE_NOTHING){setTimeout(()=>{var s;let a=(s=vse(e))!=null?s:e.error;a?.code===ii.MEDIA_ERR_SRC_NOT_SUPPORTED&&of(e,i)},500);return}if(e.src&&(n!==ii.MEDIA_ERR_DECODE||n!==void 0))try{let{status:s}=await fetch(e.src);i.data={response:{code:s}}}catch{}of(e,i)}function of(t,e){var r;e.fatal&&(((r=Pc.get(t))!=null?r:{}).error=e,t.dispatchEvent(new CustomEvent("error",{detail:e})))}function hP(t){var e,r;if(!(t instanceof CustomEvent)||!(t.detail instanceof ii))return;let n=t.target,i=t.detail;!i||!i.fatal||(((e=Pc.get(n))!=null?e:{}).error=i,(r=n.mux)==null||r.emit("error",{player_error_code:i.code,player_error_message:i.message,player_error_context:i.context}))}var LQe=(t,e)=>{var r,n,i;t.fatal?console.error("getErrorFromHlsErrorData()",t):e.debug&&console.warn("getErrorFromHlsErrorData() (non-fatal)",t);let s={[Ba.ErrorTypes.NETWORK_ERROR]:ii.MEDIA_ERR_NETWORK,[Ba.ErrorTypes.MEDIA_ERROR]:ii.MEDIA_ERR_DECODE,[Ba.ErrorTypes.KEY_SYSTEM_ERROR]:ii.MEDIA_ERR_ENCRYPTED},a=d=>[Ba.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,Ba.ErrorDetails.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED].includes(d.details)?ii.MEDIA_ERR_NETWORK:s[d.type],c=d=>{if(d.type===Ba.ErrorTypes.KEY_SYSTEM_ERROR)return Sl.DRM;if(d.type===Ba.ErrorTypes.NETWORK_ERROR)return Sl.VIDEO},u,l=a(t);if(l===ii.MEDIA_ERR_NETWORK&&t.response){let d=(r=c(t))!=null?r:Sl.VIDEO;u=(n=Fj(t.response,d,e,t.fatal))!=null?n:new ii("",l,t.fatal)}else if(l===ii.MEDIA_ERR_ENCRYPTED)if(t.details===Ba.ErrorDetails.KEY_SYSTEM_NO_CONFIGURED_LICENSE){let d=Ki("Attempting to play DRM-protected content without providing a DRM token.");u=new ii(d,ii.MEDIA_ERR_ENCRYPTED,t.fatal),u.errorCategory=Sl.DRM,u.muxCode=ts.ENCRYPTED_MISSING_TOKEN}else if(t.details===Ba.ErrorDetails.KEY_SYSTEM_NO_ACCESS){let d=Ki("Cannot play DRM-protected content with current security configuration on this browser. Try playing in another browser.");u=new ii(d,ii.MEDIA_ERR_ENCRYPTED,t.fatal),u.errorCategory=Sl.DRM,u.muxCode=ts.ENCRYPTED_UNSUPPORTED_KEY_SYSTEM}else if(t.details===Ba.ErrorDetails.KEY_SYSTEM_NO_SESSION){let d=Ki("Failed to generate a DRM license request. This may be an issue with the player or your protected content.");u=new ii(d,ii.MEDIA_ERR_ENCRYPTED,!0),u.errorCategory=Sl.DRM,u.muxCode=ts.ENCRYPTED_GENERATE_REQUEST_FAILED}else if(t.details===Ba.ErrorDetails.KEY_SYSTEM_SESSION_UPDATE_FAILED){let d=Ki("Failed to update DRM license. This may be an issue with the player or your protected content.");u=new ii(d,ii.MEDIA_ERR_ENCRYPTED,t.fatal),u.errorCategory=Sl.DRM,u.muxCode=ts.ENCRYPTED_UPDATE_LICENSE_FAILED}else if(t.details===Ba.ErrorDetails.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED){let d=Ki("Your server certificate failed when attempting to set it. This may be an issue with a no longer valid certificate.");u=new ii(d,ii.MEDIA_ERR_ENCRYPTED,t.fatal),u.errorCategory=Sl.DRM,u.muxCode=ts.ENCRYPTED_UPDATE_SERVER_CERT_FAILED}else if(t.details===Ba.ErrorDetails.KEY_SYSTEM_STATUS_INTERNAL_ERROR){let d=Ki("The DRM Content Decryption Module system had an internal failure. Try reloading the page, upading your browser, or playing in another browser.");u=new ii(d,ii.MEDIA_ERR_ENCRYPTED,t.fatal),u.errorCategory=Sl.DRM,u.muxCode=ts.ENCRYPTED_CDM_ERROR}else if(t.details===Ba.ErrorDetails.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED){let d=Ki("DRM playback is being attempted in an environment that is not sufficiently secure. User may see black screen.");u=new ii(d,ii.MEDIA_ERR_ENCRYPTED,!1),u.errorCategory=Sl.DRM,u.muxCode=ts.ENCRYPTED_OUTPUT_RESTRICTED}else u=new ii(t.error.message,ii.MEDIA_ERR_ENCRYPTED,t.fatal),u.errorCategory=Sl.DRM,u.muxCode=ts.ENCRYPTED_ERROR;else u=new ii("",l,t.fatal);return u.context||(u.context=`${t.url?`url: ${t.url}
`:""}${t.response&&(t.response.code||t.response.text)?`response: ${t.response.code}, ${t.response.text}
`:""}${t.reason?`failure reason: ${t.reason}
`:""}${t.level?`level: ${t.level}
`:""}${t.parent?`parent stream controller: ${t.parent}
`:""}${t.buffer?`buffer length: ${t.buffer}
`:""}${t.error?`error: ${t.error}
`:""}${t.event?`event: ${t.event}
`:""}${t.err?`error message: ${(i=t.err)==null?void 0:i.message}
`:""}`),u.data=t,u};const BQe=["abort","canplay","canplaythrough","durationchange","emptied","encrypted","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting","waitingforkey","resize","enterpictureinpicture","leavepictureinpicture","webkitbeginfullscreen","webkitendfullscreen","webkitpresentationmodechanged"],jse=["autopictureinpicture","disablepictureinpicture","disableremoteplayback","autoplay","controls","controlslist","crossorigin","loop","muted","playsinline","poster","preload","src"];function OQe(t){return`
    <style>
      :host {
        display: inline-flex;
        line-height: 0;
        flex-direction: column;
        justify-content: end;
      }

      audio {
        width: 100%;
      }
    </style>
    <slot name="media">
      <audio${kse(t)}></audio>
    </slot>
    <slot></slot>
  `}function PQe(t){return`
    <style>
      :host {
        display: inline-block;
        line-height: 0;
      }

      video {
        max-width: 100%;
        max-height: 100%;
        min-width: 100%;
        min-height: 100%;
        object-fit: var(--media-object-fit, contain);
        object-position: var(--media-object-position, 50% 50%);
      }

      video::-webkit-media-text-track-container {
        transform: var(--media-webkit-text-track-transform);
        transition: var(--media-webkit-text-track-transition);
      }
    </style>
    <slot name="media">
      <video${kse(t)}></video>
    </slot>
    <slot></slot>
  `}function Nse(t,{tag:e,is:r}){const n=globalThis.document?.createElement?.(e,{is:r}),i=n?RQe(n):[];return class fP extends t{static getTemplateHTML=e.endsWith("audio")?OQe:PQe;static shadowRootOptions={mode:"open"};static Events=BQe;static#e=!1;static get observedAttributes(){return fP.#n(),[...n?.constructor?.observedAttributes??[],...jse]}static#n(){if(this.#e)return;this.#e=!0;const a=new Set(this.observedAttributes);a.delete("muted");for(const c of i)if(!(c in this.prototype))if(typeof n[c]=="function")this.prototype[c]=function(...u){return this.#s(),this.call?this.call(c,...u):this.nativeEl?.[c]?.apply(this.nativeEl,u)};else{const u={get(){this.#s();const l=c.toLowerCase();if(a.has(l)){const d=this.getAttribute(l);return d===null?!1:d===""?!0:d}return this.get?.(c)??this.nativeEl?.[c]}};c!==c.toUpperCase()&&(u.set=function(l){this.#s();const d=c.toLowerCase();if(a.has(d)){l===!0||l===!1||l==null?this.toggleAttribute(d,!!l):this.setAttribute(d,l);return}if(this.set){this.set(c,l);return}this.nativeEl&&(this.nativeEl[c]=l)}),Object.defineProperty(this.prototype,c,u)}}#r=!1;#i=null;#t=new Map;#a;get;set;call;get nativeEl(){return this.#s(),this.#i??this.querySelector(":scope > [slot=media]")??this.querySelector(e)??this.shadowRoot?.querySelector(e)??null}set nativeEl(a){this.#i=a}get defaultMuted(){return this.hasAttribute("muted")}set defaultMuted(a){this.toggleAttribute("muted",a)}get src(){return this.getAttribute("src")}set src(a){this.setAttribute("src",`${a}`)}get preload(){return this.getAttribute("preload")??this.nativeEl?.preload}set preload(a){this.setAttribute("preload",`${a}`)}#s(){this.#r||(this.#r=!0,this.init())}init(){if(!this.shadowRoot){this.attachShadow({mode:"open"});const a=DQe(this.attributes);r&&(a.is=r),e&&(a.part=e),this.shadowRoot.innerHTML=this.constructor.getTemplateHTML(a)}this.nativeEl.muted=this.hasAttribute("muted");for(const a of i)this.#d(a);this.#a=new MutationObserver(this.#o.bind(this)),this.shadowRoot.addEventListener("slotchange",()=>this.#l()),this.#l();for(const a of this.constructor.Events)this.shadowRoot.addEventListener(a,this,!0)}handleEvent(a){a.target===this.nativeEl&&this.dispatchEvent(new CustomEvent(a.type,{detail:a.detail}))}#l(){const a=new Map(this.#t);(this.shadowRoot?.querySelector("slot:not([name])")?.assignedElements({flatten:!0}).filter(l=>["track","source"].includes(l.localName))).forEach(l=>{a.delete(l);let d=this.#t.get(l);d||(d=l.cloneNode(),this.#t.set(l,d),this.#a?.observe(l,{attributes:!0})),this.nativeEl?.append(d),this.#c(d)}),a.forEach((l,d)=>{l.remove(),this.#t.delete(d)})}#o(a){for(const c of a)if(c.type==="attributes"){const{target:u,attributeName:l}=c,d=this.#t.get(u);d&&l&&(d.setAttribute(l,u.getAttribute(l)??""),this.#c(d))}}#c(a){a&&a.localName==="track"&&a.default&&(a.kind==="chapters"||a.kind==="metadata")&&a.track.mode==="disabled"&&(a.track.mode="hidden")}#d(a){if(Object.prototype.hasOwnProperty.call(this,a)){const c=this[a];delete this[a],this[a]=c}}attributeChangedCallback(a,c,u){this.#s(),this.#u(a,c,u)}#u(a,c,u){["id","class"].includes(a)||!fP.observedAttributes.includes(a)&&this.constructor.observedAttributes.includes(a)||(u===null?this.nativeEl?.removeAttribute(a):this.nativeEl?.getAttribute(a)!==u&&this.nativeEl?.setAttribute(a,u))}connectedCallback(){this.#s()}}}function RQe(t){const e=[];for(let r=Object.getPrototypeOf(t);r&&r!==HTMLElement.prototype;r=Object.getPrototypeOf(r)){const n=Object.getOwnPropertyNames(r);e.push(...n)}return e}function kse(t){let e="";for(const r in t){if(!jse.includes(r))continue;const n=t[r];n===""?e+=` ${r}`:e+=` ${r}="${n}"`}return e}function DQe(t){const e={};for(const r of t)e[r.name]=r.value;return e}const aS=Nse(globalThis.HTMLElement??class{},{tag:"video"});Nse(globalThis.HTMLElement??class{},{tag:"audio"});var Ise=t=>{throw TypeError(t)},jF=(t,e,r)=>e.has(t)||Ise("Cannot "+r),nd=(t,e,r)=>(jF(t,e,"read from private field"),r?r.call(t):e.get(t)),kf=(t,e,r)=>e.has(t)?Ise("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),Jh=(t,e,r,n)=>(jF(t,e,"write to private field"),e.set(t,r),r),oS=(t,e,r)=>(jF(t,e,"access private method"),r),MQe=()=>{try{return"0.30.2"}catch{}return"UNKNOWN"},FQe=MQe(),UQe=()=>FQe,$Qe=`
<svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" part="logo" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2" viewBox="0 0 1600 500"><g fill="#fff"><path d="M994.287 93.486c-17.121 0-31-13.879-31-31 0-17.121 13.879-31 31-31 17.121 0 31 13.879 31 31 0 17.121-13.879 31-31 31m0-93.486c-34.509 0-62.484 27.976-62.484 62.486v187.511c0 68.943-56.09 125.033-125.032 125.033s-125.03-56.09-125.03-125.033V62.486C681.741 27.976 653.765 0 619.256 0s-62.484 27.976-62.484 62.486v187.511C556.772 387.85 668.921 500 806.771 500c137.851 0 250.001-112.15 250.001-250.003V62.486c0-34.51-27.976-62.486-62.485-62.486M1537.51 468.511c-17.121 0-31-13.879-31-31 0-17.121 13.879-31 31-31 17.121 0 31 13.879 31 31 0 17.121-13.879 31-31 31m-275.883-218.509-143.33 143.329c-24.402 24.402-24.402 63.966 0 88.368 24.402 24.402 63.967 24.402 88.369 0l143.33-143.329 143.328 143.329c24.402 24.4 63.967 24.402 88.369 0 24.403-24.402 24.403-63.966.001-88.368l-143.33-143.329.001-.004 143.329-143.329c24.402-24.402 24.402-63.965 0-88.367s-63.967-24.402-88.369 0L1349.996 161.63 1206.667 18.302c-24.402-24.401-63.967-24.402-88.369 0s-24.402 63.965 0 88.367l143.329 143.329v.004ZM437.511 468.521c-17.121 0-31-13.879-31-31 0-17.121 13.879-31 31-31 17.121 0 31 13.879 31 31 0 17.121-13.879 31-31 31M461.426 4.759C438.078-4.913 411.2.432 393.33 18.303L249.999 161.632 106.669 18.303C88.798.432 61.922-4.913 38.573 4.759 15.224 14.43-.001 37.214-.001 62.488v375.026c0 34.51 27.977 62.486 62.487 62.486 34.51 0 62.486-27.976 62.486-62.486V213.341l80.843 80.844c24.404 24.402 63.965 24.402 88.369 0l80.843-80.844v224.173c0 34.51 27.976 62.486 62.486 62.486s62.486-27.976 62.486-62.486V62.488c0-25.274-15.224-48.058-38.573-57.729" style="fill-rule:nonzero"/></g></svg>`,ur={BEACON_COLLECTION_DOMAIN:"beacon-collection-domain",CUSTOM_DOMAIN:"custom-domain",DEBUG:"debug",DISABLE_TRACKING:"disable-tracking",DISABLE_COOKIES:"disable-cookies",DISABLE_PSEUDO_ENDED:"disable-pseudo-ended",DRM_TOKEN:"drm-token",PLAYBACK_TOKEN:"playback-token",ENV_KEY:"env-key",MAX_RESOLUTION:"max-resolution",MIN_RESOLUTION:"min-resolution",MAX_AUTO_RESOLUTION:"max-auto-resolution",RENDITION_ORDER:"rendition-order",PROGRAM_START_TIME:"program-start-time",PROGRAM_END_TIME:"program-end-time",ASSET_START_TIME:"asset-start-time",ASSET_END_TIME:"asset-end-time",METADATA_URL:"metadata-url",PLAYBACK_ID:"playback-id",PLAYER_SOFTWARE_NAME:"player-software-name",PLAYER_SOFTWARE_VERSION:"player-software-version",PLAYER_INIT_TIME:"player-init-time",PREFER_CMCD:"prefer-cmcd",PREFER_PLAYBACK:"prefer-playback",START_TIME:"start-time",STREAM_TYPE:"stream-type",TARGET_LIVE_WINDOW:"target-live-window",LIVE_EDGE_OFFSET:"live-edge-offset",TYPE:"type",LOGO:"logo",CAP_RENDITION_TO_PLAYER_SIZE:"cap-rendition-to-player-size"},HQe=Object.values(ur),AG=UQe(),mG="mux-video",om,uw,qS,dw,XS,ZS,JS,eT,tT,hw,rT,Ax,fw,QQe=class extends aS{constructor(){super(),kf(this,Ax),kf(this,om),kf(this,uw),kf(this,qS),kf(this,dw,{}),kf(this,XS,{}),kf(this,ZS),kf(this,JS),kf(this,eT),kf(this,tT),kf(this,hw,""),kf(this,rT),Jh(this,qS,_F()),this.nativeEl.addEventListener("muxmetadata",e=>{var r;let n=gQe(this.nativeEl),i=(r=this.metadata)!=null?r:{};this.metadata={...n,...i},n?.["com.mux.video.branding"]==="mux-free-plan"&&(Jh(this,hw,"default"),this.updateLogo())})}static get NAME(){return mG}static get VERSION(){return AG}static get observedAttributes(){var e;return[...HQe,...(e=aS.observedAttributes)!=null?e:[]]}static getLogoHTML(e){return!e||e==="false"?"":e==="default"?$Qe:`<img part="logo" src="${e}" />`}static getTemplateHTML(e={}){var r;return`
      ${aS.getTemplateHTML(e)}
      <style>
        :host {
          position: relative;
        }
        slot[name="logo"] {
          display: flex;
          justify-content: end;
          position: absolute;
          top: 1rem;
          right: 1rem;
          opacity: 0;
          transition: opacity 0.25s ease-in-out;
          z-index: 1;
        }
        slot[name="logo"]:has([part="logo"]) {
          opacity: 1;
        }
        slot[name="logo"] [part="logo"] {
          width: 5rem;
          pointer-events: none;
          user-select: none;
        }
      </style>
      <slot name="logo">
        ${this.getLogoHTML((r=e[ur.LOGO])!=null?r:"")}
      </slot>
    `}get preferCmcd(){var e;return(e=this.getAttribute(ur.PREFER_CMCD))!=null?e:void 0}set preferCmcd(e){e!==this.preferCmcd&&(e?Mj.includes(e)?this.setAttribute(ur.PREFER_CMCD,e):console.warn(`Invalid value for preferCmcd. Must be one of ${Mj.join()}`):this.removeAttribute(ur.PREFER_CMCD))}get playerInitTime(){return this.hasAttribute(ur.PLAYER_INIT_TIME)?+this.getAttribute(ur.PLAYER_INIT_TIME):nd(this,qS)}set playerInitTime(e){e!=this.playerInitTime&&(e==null?this.removeAttribute(ur.PLAYER_INIT_TIME):this.setAttribute(ur.PLAYER_INIT_TIME,`${+e}`))}get playerSoftwareName(){var e;return(e=nd(this,eT))!=null?e:mG}set playerSoftwareName(e){Jh(this,eT,e)}get playerSoftwareVersion(){var e;return(e=nd(this,JS))!=null?e:AG}set playerSoftwareVersion(e){Jh(this,JS,e)}get _hls(){var e;return(e=nd(this,om))==null?void 0:e.engine}get mux(){var e;return(e=this.nativeEl)==null?void 0:e.mux}get error(){var e;return(e=vse(this.nativeEl))!=null?e:null}get errorTranslator(){return nd(this,tT)}set errorTranslator(e){Jh(this,tT,e)}get src(){return this.getAttribute("src")}set src(e){e!==this.src&&(e==null?this.removeAttribute("src"):this.setAttribute("src",e))}get type(){var e;return(e=this.getAttribute(ur.TYPE))!=null?e:void 0}set type(e){e!==this.type&&(e?this.setAttribute(ur.TYPE,e):this.removeAttribute(ur.TYPE))}get preload(){let e=this.getAttribute("preload");return e===""?"auto":["none","metadata","auto"].includes(e)?e:super.preload}set preload(e){e!=this.getAttribute("preload")&&(["","none","metadata","auto"].includes(e)?this.setAttribute("preload",e):this.removeAttribute("preload"))}get debug(){return this.getAttribute(ur.DEBUG)!=null}set debug(e){e!==this.debug&&(e?this.setAttribute(ur.DEBUG,""):this.removeAttribute(ur.DEBUG))}get disableTracking(){return this.hasAttribute(ur.DISABLE_TRACKING)}set disableTracking(e){e!==this.disableTracking&&this.toggleAttribute(ur.DISABLE_TRACKING,!!e)}get disableCookies(){return this.hasAttribute(ur.DISABLE_COOKIES)}set disableCookies(e){e!==this.disableCookies&&(e?this.setAttribute(ur.DISABLE_COOKIES,""):this.removeAttribute(ur.DISABLE_COOKIES))}get disablePseudoEnded(){return this.hasAttribute(ur.DISABLE_PSEUDO_ENDED)}set disablePseudoEnded(e){e!==this.disablePseudoEnded&&(e?this.setAttribute(ur.DISABLE_PSEUDO_ENDED,""):this.removeAttribute(ur.DISABLE_PSEUDO_ENDED))}get startTime(){let e=this.getAttribute(ur.START_TIME);if(e==null)return;let r=+e;return Number.isNaN(r)?void 0:r}set startTime(e){e!==this.startTime&&(e==null?this.removeAttribute(ur.START_TIME):this.setAttribute(ur.START_TIME,`${e}`))}get playbackId(){var e;return this.hasAttribute(ur.PLAYBACK_ID)?this.getAttribute(ur.PLAYBACK_ID):(e=SF(this.src))!=null?e:void 0}set playbackId(e){e!==this.playbackId&&(e?this.setAttribute(ur.PLAYBACK_ID,e):this.removeAttribute(ur.PLAYBACK_ID))}get maxResolution(){var e;return(e=this.getAttribute(ur.MAX_RESOLUTION))!=null?e:void 0}set maxResolution(e){e!==this.maxResolution&&(e?this.setAttribute(ur.MAX_RESOLUTION,e):this.removeAttribute(ur.MAX_RESOLUTION))}get minResolution(){var e;return(e=this.getAttribute(ur.MIN_RESOLUTION))!=null?e:void 0}set minResolution(e){e!==this.minResolution&&(e?this.setAttribute(ur.MIN_RESOLUTION,e):this.removeAttribute(ur.MIN_RESOLUTION))}get maxAutoResolution(){var e;return(e=this.getAttribute(ur.MAX_AUTO_RESOLUTION))!=null?e:void 0}set maxAutoResolution(e){e==null?this.removeAttribute(ur.MAX_AUTO_RESOLUTION):this.setAttribute(ur.MAX_AUTO_RESOLUTION,e)}get renditionOrder(){var e;return(e=this.getAttribute(ur.RENDITION_ORDER))!=null?e:void 0}set renditionOrder(e){e!==this.renditionOrder&&(e?this.setAttribute(ur.RENDITION_ORDER,e):this.removeAttribute(ur.RENDITION_ORDER))}get programStartTime(){let e=this.getAttribute(ur.PROGRAM_START_TIME);if(e==null)return;let r=+e;return Number.isNaN(r)?void 0:r}set programStartTime(e){e==null?this.removeAttribute(ur.PROGRAM_START_TIME):this.setAttribute(ur.PROGRAM_START_TIME,`${e}`)}get programEndTime(){let e=this.getAttribute(ur.PROGRAM_END_TIME);if(e==null)return;let r=+e;return Number.isNaN(r)?void 0:r}set programEndTime(e){e==null?this.removeAttribute(ur.PROGRAM_END_TIME):this.setAttribute(ur.PROGRAM_END_TIME,`${e}`)}get assetStartTime(){let e=this.getAttribute(ur.ASSET_START_TIME);if(e==null)return;let r=+e;return Number.isNaN(r)?void 0:r}set assetStartTime(e){e==null?this.removeAttribute(ur.ASSET_START_TIME):this.setAttribute(ur.ASSET_START_TIME,`${e}`)}get assetEndTime(){let e=this.getAttribute(ur.ASSET_END_TIME);if(e==null)return;let r=+e;return Number.isNaN(r)?void 0:r}set assetEndTime(e){e==null?this.removeAttribute(ur.ASSET_END_TIME):this.setAttribute(ur.ASSET_END_TIME,`${e}`)}get customDomain(){var e;return(e=this.getAttribute(ur.CUSTOM_DOMAIN))!=null?e:void 0}set customDomain(e){e!==this.customDomain&&(e?this.setAttribute(ur.CUSTOM_DOMAIN,e):this.removeAttribute(ur.CUSTOM_DOMAIN))}get capRenditionToPlayerSize(){var e;return((e=this._hlsConfig)==null?void 0:e.capLevelToPlayerSize)!=null?this._hlsConfig.capLevelToPlayerSize:nd(this,rT)}set capRenditionToPlayerSize(e){Jh(this,rT,e)}get drmToken(){var e;return(e=this.getAttribute(ur.DRM_TOKEN))!=null?e:void 0}set drmToken(e){e!==this.drmToken&&(e?this.setAttribute(ur.DRM_TOKEN,e):this.removeAttribute(ur.DRM_TOKEN))}get playbackToken(){var e,r,n,i;if(this.hasAttribute(ur.PLAYBACK_TOKEN))return(e=this.getAttribute(ur.PLAYBACK_TOKEN))!=null?e:void 0;if(this.hasAttribute(ur.PLAYBACK_ID)){let[,s]=yF((r=this.playbackId)!=null?r:"");return(n=new URLSearchParams(s).get("token"))!=null?n:void 0}if(this.src)return(i=new URLSearchParams(this.src).get("token"))!=null?i:void 0}set playbackToken(e){e!==this.playbackToken&&(e?this.setAttribute(ur.PLAYBACK_TOKEN,e):this.removeAttribute(ur.PLAYBACK_TOKEN))}get tokens(){let e=this.getAttribute(ur.PLAYBACK_TOKEN),r=this.getAttribute(ur.DRM_TOKEN);return{...nd(this,XS),...e!=null?{playback:e}:{},...r!=null?{drm:r}:{}}}set tokens(e){Jh(this,XS,e??{})}get ended(){return bse(this.nativeEl,this._hls)}get envKey(){var e;return(e=this.getAttribute(ur.ENV_KEY))!=null?e:void 0}set envKey(e){e!==this.envKey&&(e?this.setAttribute(ur.ENV_KEY,e):this.removeAttribute(ur.ENV_KEY))}get beaconCollectionDomain(){var e;return(e=this.getAttribute(ur.BEACON_COLLECTION_DOMAIN))!=null?e:void 0}set beaconCollectionDomain(e){e!==this.beaconCollectionDomain&&(e?this.setAttribute(ur.BEACON_COLLECTION_DOMAIN,e):this.removeAttribute(ur.BEACON_COLLECTION_DOMAIN))}get streamType(){var e;return(e=this.getAttribute(ur.STREAM_TYPE))!=null?e:dP(this.nativeEl)}set streamType(e){e!==this.streamType&&(e?this.setAttribute(ur.STREAM_TYPE,e):this.removeAttribute(ur.STREAM_TYPE))}get targetLiveWindow(){return this.hasAttribute(ur.TARGET_LIVE_WINDOW)?+this.getAttribute(ur.TARGET_LIVE_WINDOW):vQe(this.nativeEl)}set targetLiveWindow(e){e!=this.targetLiveWindow&&(e==null?this.removeAttribute(ur.TARGET_LIVE_WINDOW):this.setAttribute(ur.TARGET_LIVE_WINDOW,`${+e}`))}get liveEdgeStart(){var e,r;if(this.hasAttribute(ur.LIVE_EDGE_OFFSET)){let{liveEdgeOffset:n}=this,i=(e=this.nativeEl.seekable.end(0))!=null?e:0,s=(r=this.nativeEl.seekable.start(0))!=null?r:0;return Math.max(s,i-n)}return yQe(this.nativeEl)}get liveEdgeOffset(){if(this.hasAttribute(ur.LIVE_EDGE_OFFSET))return+this.getAttribute(ur.LIVE_EDGE_OFFSET)}set liveEdgeOffset(e){e!=this.liveEdgeOffset&&(e==null?this.removeAttribute(ur.LIVE_EDGE_OFFSET):this.setAttribute(ur.LIVE_EDGE_OFFSET,`${+e}`))}get seekable(){return TF(this.nativeEl)}async addCuePoints(e){return dse(this.nativeEl,e)}get activeCuePoint(){return hse(this.nativeEl)}get cuePoints(){return VHe(this.nativeEl)}async addChapters(e){return Ase(this.nativeEl,e)}get activeChapter(){return mse(this.nativeEl)}get chapters(){return KHe(this.nativeEl)}getStartDate(){return WHe(this.nativeEl,this._hls)}get currentPdt(){return YHe(this.nativeEl,this._hls)}get preferPlayback(){let e=this.getAttribute(ur.PREFER_PLAYBACK);if(e===jm.MSE||e===jm.NATIVE)return e}set preferPlayback(e){e!==this.preferPlayback&&(e===jm.MSE||e===jm.NATIVE?this.setAttribute(ur.PREFER_PLAYBACK,e):this.removeAttribute(ur.PREFER_PLAYBACK))}get metadata(){return{...this.getAttributeNames().filter(e=>e.startsWith("metadata-")&&![ur.METADATA_URL].includes(e)).reduce((e,r)=>{let n=this.getAttribute(r);return n!=null&&(e[r.replace(/^metadata-/,"").replace(/-/g,"_")]=n),e},{}),...nd(this,dw)}}set metadata(e){Jh(this,dw,e??{}),this.mux&&this.mux.emit("hb",nd(this,dw))}get _hlsConfig(){return nd(this,ZS)}set _hlsConfig(e){Jh(this,ZS,e)}get logo(){var e;return(e=this.getAttribute(ur.LOGO))!=null?e:nd(this,hw)}set logo(e){e?this.setAttribute(ur.LOGO,e):this.removeAttribute(ur.LOGO)}load(){Jh(this,om,wQe(this,this.nativeEl,nd(this,om)))}unload(){wse(this.nativeEl,nd(this,om),this),Jh(this,om,void 0)}attributeChangedCallback(e,r,n){var i,s;switch(aS.observedAttributes.includes(e)&&!["src","autoplay","preload"].includes(e)&&super.attributeChangedCallback(e,r,n),e){case ur.PLAYER_SOFTWARE_NAME:this.playerSoftwareName=n??void 0;break;case ur.PLAYER_SOFTWARE_VERSION:this.playerSoftwareVersion=n??void 0;break;case"src":{let a=!!r,c=!!n;!a&&c?oS(this,Ax,fw).call(this):a&&!c?this.unload():a&&c&&(this.unload(),oS(this,Ax,fw).call(this));break}case"autoplay":if(n===r)break;(i=nd(this,om))==null||i.setAutoplay(this.autoplay);break;case"preload":if(n===r)break;(s=nd(this,om))==null||s.setPreload(n);break;case ur.PLAYBACK_ID:this.src=uP(this);break;case ur.DEBUG:{let a=this.debug;this.mux&&console.info("Cannot toggle debug mode of mux data after initialization. Make sure you set all metadata to override before setting the src."),this._hls&&(this._hls.config.debug=a);break}case ur.METADATA_URL:n&&fetch(n).then(a=>a.json()).then(a=>this.metadata=a).catch(()=>console.error(`Unable to load or parse metadata JSON from metadata-url ${n}!`));break;case ur.STREAM_TYPE:(n==null||n!==r)&&this.dispatchEvent(new CustomEvent("streamtypechange",{composed:!0,bubbles:!0}));break;case ur.TARGET_LIVE_WINDOW:(n==null||n!==r)&&this.dispatchEvent(new CustomEvent("targetlivewindowchange",{composed:!0,bubbles:!0,detail:this.targetLiveWindow}));break;case ur.LOGO:(n==null||n!==r)&&this.updateLogo();break;case ur.DISABLE_TRACKING:{if(n==null||n!==r){let a=this.currentTime,c=this.paused;this.unload(),oS(this,Ax,fw).call(this).then(()=>{this.currentTime=a,c||this.play()})}break}case ur.DISABLE_COOKIES:{(n==null||n!==r)&&this.disableCookies&&document.cookie.split(";").forEach(a=>{a.trim().startsWith("muxData")&&(document.cookie=a.replace(/^ +/,"").replace(/=.*/,"=;expires="+new Date().toUTCString()+";path=/"))});break}case ur.CAP_RENDITION_TO_PLAYER_SIZE:(n==null||n!==r)&&(this.capRenditionToPlayerSize=n!=null?!0:void 0)}}updateLogo(){if(!this.shadowRoot)return;let e=this.shadowRoot.querySelector('slot[name="logo"]');if(!e)return;let r=this.constructor.getLogoHTML(nd(this,hw)||this.logo);e.innerHTML=r}connectedCallback(){var e;(e=super.connectedCallback)==null||e.call(this),this.nativeEl&&this.src&&!nd(this,om)&&oS(this,Ax,fw).call(this)}disconnectedCallback(){this.unload()}handleEvent(e){e.target===this.nativeEl&&this.dispatchEvent(new CustomEvent(e.type,{composed:!0,detail:e.detail}))}};om=new WeakMap,uw=new WeakMap,qS=new WeakMap,dw=new WeakMap,XS=new WeakMap,ZS=new WeakMap,JS=new WeakMap,eT=new WeakMap,tT=new WeakMap,hw=new WeakMap,rT=new WeakMap,Ax=new WeakSet,fw=async function(){nd(this,uw)||(await Jh(this,uw,Promise.resolve()),Jh(this,uw,null),this.load())};const Qv=new WeakMap;class TB extends Error{}class VQe extends Error{}const zQe=["application/x-mpegURL","application/vnd.apple.mpegurl","audio/mpegurl"],KQe=globalThis.WeakRef?class extends Set{add(t){super.add(new WeakRef(t))}forEach(t){super.forEach(e=>{const r=e.deref();r&&t(r)})}}:Set;function GQe(t){globalThis.chrome?.cast?.isAvailable?globalThis.cast?.framework?t():customElements.whenDefined("google-cast-button").then(t):globalThis.__onGCastApiAvailable=()=>{customElements.whenDefined("google-cast-button").then(t)}}function WQe(){return globalThis.chrome}function YQe(){const t="https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1";if(globalThis.chrome?.cast||document.querySelector(`script[src="${t}"]`))return;const e=document.createElement("script");e.src=t,document.head.append(e)}function m0(){return globalThis.cast?.framework?.CastContext.getInstance()}function NF(){return m0()?.getCurrentSession()}function kF(){return NF()?.getSessionObj().media[0]}function qQe(t){return new Promise((e,r)=>{kF().editTracksInfo(t,e,r)})}function XQe(t){return new Promise((e,r)=>{kF().getStatus(t,e,r)})}function pG(t){return m0().setOptions({...Lse(),...t})}function Lse(){return{receiverApplicationId:"CC1AD845",autoJoinPolicy:"origin_scoped",androidReceiverCompatible:!1,language:"en-US",resumeSavedSession:!0}}function ZQe(t){if(!t)return;const e=/\.([a-zA-Z0-9]+)(?:\?.*)?$/,r=t.match(e);return r?r[1]:null}function JQe(t){const e=t.split(`
`),r=[];for(let n=0;n<e.length;n++)if(e[n].trim().startsWith("#EXT-X-STREAM-INF")){const s=e[n+1]?e[n+1].trim():"";s&&!s.startsWith("#")&&r.push(s)}return r}function eVe(t){return t.split(`
`).find(n=>!n.trim().startsWith("#")&&n.trim()!=="")}async function tVe(t){try{const r=(await fetch(t,{method:"HEAD"})).headers.get("Content-Type");return zQe.some(n=>r===n)}catch(e){return console.error("Error while trying to get the Content-Type of the manifest",e),!1}}async function rVe(t){try{const e=await(await fetch(t)).text();let r=e;const n=JQe(e);if(n.length>0){const a=new URL(n[0],t).toString();r=await(await fetch(a)).text()}const i=eVe(r);return ZQe(i)}catch(e){console.error("Error while trying to parse the manifest playlist",e);return}}const nT=new KQe,Fg=new WeakSet;let Lu;GQe(()=>{if(!globalThis.chrome?.cast?.isAvailable){console.debug("chrome.cast.isAvailable",globalThis.chrome?.cast?.isAvailable);return}Lu||(Lu=cast.framework,m0().addEventListener(Lu.CastContextEventType.CAST_STATE_CHANGED,t=>{nT.forEach(e=>Qv.get(e).onCastStateChanged?.(t))}),m0().addEventListener(Lu.CastContextEventType.SESSION_STATE_CHANGED,t=>{nT.forEach(e=>Qv.get(e).onSessionStateChanged?.(t))}),nT.forEach(t=>Qv.get(t).init?.()))});let gG=0;class nVe extends EventTarget{#e;#n;#r;#i;#t="disconnected";#a=!1;#s=new Set;#l=new WeakMap;constructor(e){super(),this.#e=e,nT.add(this),Qv.set(this,{init:()=>this.#h(),onCastStateChanged:()=>this.#u(),onSessionStateChanged:()=>this.#A(),getCastPlayer:()=>this.#o}),this.#h()}get#o(){if(Fg.has(this.#e))return this.#r}get state(){return this.#t}async watchAvailability(e){if(this.#e.disableRemotePlayback)throw new TB("disableRemotePlayback attribute is present.");return this.#l.set(e,++gG),this.#s.add(e),queueMicrotask(()=>e(this.#d())),gG}async cancelWatchAvailability(e){if(this.#e.disableRemotePlayback)throw new TB("disableRemotePlayback attribute is present.");e?this.#s.delete(e):this.#s.clear()}async prompt(){if(this.#e.disableRemotePlayback)throw new TB("disableRemotePlayback attribute is present.");if(!globalThis.chrome?.cast?.isAvailable)throw new VQe("The RemotePlayback API is disabled on this platform.");const e=Fg.has(this.#e);Fg.add(this.#e),pG(this.#e.castOptions),Object.entries(this.#i).forEach(([r,n])=>{this.#r.controller.addEventListener(r,n)});try{await m0().requestSession()}catch(r){if(e||Fg.delete(this.#e),r==="cancel")return;throw new Error(r)}Qv.get(this.#e)?.loadOnPrompt?.()}#c(){Fg.has(this.#e)&&(Object.entries(this.#i).forEach(([e,r])=>{this.#r.controller.removeEventListener(e,r)}),Fg.delete(this.#e),this.#e.muted=this.#r.isMuted,this.#e.currentTime=this.#r.savedPlayerState.currentTime,this.#r.savedPlayerState.isPaused===!1&&this.#e.play())}#d(){const e=m0()?.getCastState();return e&&e!=="NO_DEVICES_AVAILABLE"}#u(){const e=m0().getCastState();if(Fg.has(this.#e)&&e==="CONNECTING"&&(this.#t="connecting",this.dispatchEvent(new Event("connecting"))),!this.#a&&e?.includes("CONNECT")){this.#a=!0;for(let r of this.#s)r(!0)}else if(this.#a&&(!e||e==="NO_DEVICES_AVAILABLE")){this.#a=!1;for(let r of this.#s)r(!1)}}async#A(){const{SESSION_RESUMED:e}=Lu.SessionState;if(m0().getSessionState()===e&&this.#e.castSrc===kF()?.media.contentId){Fg.add(this.#e),Object.entries(this.#i).forEach(([r,n])=>{this.#r.controller.addEventListener(r,n)});try{await XQe(new chrome.cast.media.GetStatusRequest)}catch(r){console.error(r)}this.#i[Lu.RemotePlayerEventType.IS_PAUSED_CHANGED](),this.#i[Lu.RemotePlayerEventType.PLAYER_STATE_CHANGED]()}}#h(){!Lu||this.#n||(this.#n=!0,pG(this.#e.castOptions),this.#e.textTracks.addEventListener("change",()=>this.#f()),this.#u(),this.#r=new Lu.RemotePlayer,new Lu.RemotePlayerController(this.#r),this.#i={[Lu.RemotePlayerEventType.IS_CONNECTED_CHANGED]:({value:e})=>{e===!0?(this.#t="connected",this.dispatchEvent(new Event("connect"))):(this.#c(),this.#t="disconnected",this.dispatchEvent(new Event("disconnect")))},[Lu.RemotePlayerEventType.DURATION_CHANGED]:()=>{this.#e.dispatchEvent(new Event("durationchange"))},[Lu.RemotePlayerEventType.VOLUME_LEVEL_CHANGED]:()=>{this.#e.dispatchEvent(new Event("volumechange"))},[Lu.RemotePlayerEventType.IS_MUTED_CHANGED]:()=>{this.#e.dispatchEvent(new Event("volumechange"))},[Lu.RemotePlayerEventType.CURRENT_TIME_CHANGED]:()=>{this.#o?.isMediaLoaded&&this.#e.dispatchEvent(new Event("timeupdate"))},[Lu.RemotePlayerEventType.VIDEO_INFO_CHANGED]:()=>{this.#e.dispatchEvent(new Event("resize"))},[Lu.RemotePlayerEventType.IS_PAUSED_CHANGED]:()=>{this.#e.dispatchEvent(new Event(this.paused?"pause":"play"))},[Lu.RemotePlayerEventType.PLAYER_STATE_CHANGED]:()=>{this.#o?.playerState!==chrome.cast.media.PlayerState.PAUSED&&this.#e.dispatchEvent(new Event({[chrome.cast.media.PlayerState.PLAYING]:"playing",[chrome.cast.media.PlayerState.BUFFERING]:"waiting",[chrome.cast.media.PlayerState.IDLE]:"emptied"}[this.#o?.playerState]))},[Lu.RemotePlayerEventType.IS_MEDIA_LOADED_CHANGED]:async()=>{this.#o?.isMediaLoaded&&(await Promise.resolve(),this.#m())}})}#m(){this.#f()}async#f(){if(!this.#o)return;const r=(this.#r.mediaInfo?.tracks??[]).filter(({type:f})=>f===chrome.cast.media.TrackType.TEXT),n=[...this.#e.textTracks].filter(({kind:f})=>f==="subtitles"||f==="captions"),i=r.map(({language:f,name:A,trackId:p})=>{const{mode:v}=n.find(y=>y.language===f&&y.label===A)??{};return v?{mode:v,trackId:p}:!1}).filter(Boolean),a=i.filter(({mode:f})=>f!=="showing").map(({trackId:f})=>f),c=i.find(({mode:f})=>f==="showing"),u=NF()?.getSessionObj().media[0]?.activeTrackIds??[];let l=u;if(u.length&&(l=l.filter(f=>!a.includes(f))),c?.trackId&&(l=[...l,c.trackId]),l=[...new Set(l)],!((f,A)=>f.length===A.length&&f.every(p=>A.includes(p)))(u,l))try{const f=new chrome.cast.media.EditTracksInfoRequest(l);await qQe(f)}catch(f){console.error(f)}}}const iVe=t=>class extends t{static observedAttributes=[...t.observedAttributes??[],"cast-src","cast-content-type","cast-stream-type","cast-receiver"];#e={paused:!1};#n=Lse();#r;#i;get remote(){return this.#i?this.#i:WQe()?(this.disableRemotePlayback||YQe(),Qv.set(this,{loadOnPrompt:()=>this.#a()}),this.#i=new nVe(this)):super.remote}get#t(){return Qv.get(this.remote)?.getCastPlayer?.()}attributeChangedCallback(r,n,i){if(super.attributeChangedCallback(r,n,i),r==="cast-receiver"&&i){this.#n.receiverApplicationId=i;return}if(this.#t)switch(r){case"cast-stream-type":case"cast-src":this.load();break}}async#a(){this.#e.paused=super.paused,super.pause(),this.muted=super.muted;try{await this.load()}catch(r){console.error(r)}}async load(){if(!this.#t)return super.load();const r=new chrome.cast.media.MediaInfo(this.castSrc,this.castContentType);r.customData=this.castCustomData;const n=[...this.querySelectorAll("track")].filter(({kind:c,src:u})=>u&&(c==="subtitles"||c==="captions")),i=[];let s=0;if(n.length&&(r.tracks=n.map(c=>{const u=++s;i.length===0&&c.track.mode==="showing"&&i.push(u);const l=new chrome.cast.media.Track(u,chrome.cast.media.TrackType.TEXT);return l.trackContentId=c.src,l.trackContentType="text/vtt",l.subtype=c.kind==="captions"?chrome.cast.media.TextTrackType.CAPTIONS:chrome.cast.media.TextTrackType.SUBTITLES,l.name=c.label,l.language=c.srclang,l})),this.castStreamType==="live"?r.streamType=chrome.cast.media.StreamType.LIVE:r.streamType=chrome.cast.media.StreamType.BUFFERED,r.metadata=new chrome.cast.media.GenericMediaMetadata,r.metadata.title=this.title,r.metadata.images=[{url:this.poster}],tVe(this.castSrc)){const c=await rVe(this.castSrc);c?.includes("m4s")||c?.includes("mp4")?(r.hlsSegmentFormat=chrome.cast.media.HlsSegmentFormat.FMP4,r.hlsVideoSegmentFormat=chrome.cast.media.HlsVideoSegmentFormat.FMP4):c?.includes("ts")&&(r.hlsSegmentFormat=chrome.cast.media.HlsSegmentFormat.TS,r.hlsVideoSegmentFormat=chrome.cast.media.HlsVideoSegmentFormat.TS)}const a=new chrome.cast.media.LoadRequest(r);a.currentTime=super.currentTime??0,a.autoplay=!this.#e.paused,a.activeTrackIds=i,await NF()?.loadMedia(a),this.dispatchEvent(new Event("volumechange"))}play(){if(this.#t){this.#t.isPaused&&this.#t.controller?.playOrPause();return}return super.play()}pause(){if(this.#t){this.#t.isPaused||this.#t.controller?.playOrPause();return}super.pause()}get castOptions(){return this.#n}get castReceiver(){return this.getAttribute("cast-receiver")??void 0}set castReceiver(r){this.castReceiver!=r&&this.setAttribute("cast-receiver",`${r}`)}get castSrc(){return this.getAttribute("cast-src")??this.querySelector("source")?.src??this.currentSrc}set castSrc(r){this.castSrc!=r&&this.setAttribute("cast-src",`${r}`)}get castContentType(){return this.getAttribute("cast-content-type")??void 0}set castContentType(r){this.setAttribute("cast-content-type",`${r}`)}get castStreamType(){return this.getAttribute("cast-stream-type")??this.streamType??void 0}set castStreamType(r){this.setAttribute("cast-stream-type",`${r}`)}get castCustomData(){return this.#r}set castCustomData(r){const n=typeof r;if(!["object","undefined"].includes(n)){console.error(`castCustomData must be nullish or an object but value was of type ${n}`);return}this.#r=r}get readyState(){if(this.#t)switch(this.#t.playerState){case chrome.cast.media.PlayerState.IDLE:return 0;case chrome.cast.media.PlayerState.BUFFERING:return 2;default:return 3}return super.readyState}get paused(){return this.#t?this.#t.isPaused:super.paused}get muted(){return this.#t?this.#t?.isMuted:super.muted}set muted(r){if(this.#t){(r&&!this.#t.isMuted||!r&&this.#t.isMuted)&&this.#t.controller?.muteOrUnmute();return}super.muted=r}get volume(){return this.#t?this.#t?.volumeLevel??1:super.volume}set volume(r){if(this.#t){this.#t.volumeLevel=+r,this.#t.controller?.setVolumeLevel();return}super.volume=r}get duration(){return this.#t&&this.#t?.isMediaLoaded?this.#t?.duration??NaN:super.duration}get currentTime(){return this.#t&&this.#t?.isMediaLoaded?this.#t?.currentTime??0:super.currentTime}set currentTime(r){if(this.#t){this.#t.currentTime=r,this.#t.controller?.seek();return}super.currentTime=r}};class N5 extends Event{track;constructor(e,r){super(e),this.track=r.track}}const AP=new WeakMap;function Ai(t){return AP.get(t)??sVe(t,{})}function sVe(t,e){let r=AP.get(t);return r||AP.set(t,r={}),Object.assign(r,e)}function mP(t,e){const r=t.videoTracks;Ai(e).media=t,Ai(e).renditionSet||(Ai(e).renditionSet=new Set);const n=Ai(r).trackSet;n.add(e);const i=n.size-1;i in gP.prototype||Object.defineProperty(gP.prototype,i,{get(){return[...Ai(this).trackSet][i]}}),queueMicrotask(()=>{r.dispatchEvent(new N5("addtrack",{track:e}))})}function pP(t){const e=Ai(t).media?.videoTracks;if(!e)return;Ai(e).trackSet.delete(t),queueMicrotask(()=>{e.dispatchEvent(new N5("removetrack",{track:t}))})}function aVe(t){const e=Ai(t).media.videoTracks??[];let r=!1;for(const n of e)n!==t&&(n.selected=!1,r=!0);if(r){if(Ai(e).changeRequested)return;Ai(e).changeRequested=!0,queueMicrotask(()=>{delete Ai(e).changeRequested,e.dispatchEvent(new Event("change"))})}}class gP extends EventTarget{#e;#n;#r;constructor(){super(),Ai(this).trackSet=new Set}get#i(){return Ai(this).trackSet}[Symbol.iterator](){return this.#i.values()}get length(){return this.#i.size}getTrackById(e){return[...this.#i].find(r=>r.id===e)??null}get selectedIndex(){return[...this.#i].findIndex(e=>e.selected)}get onaddtrack(){return this.#e}set onaddtrack(e){this.#e&&(this.removeEventListener("addtrack",this.#e),this.#e=void 0),typeof e=="function"&&(this.#e=e,this.addEventListener("addtrack",e))}get onremovetrack(){return this.#n}set onremovetrack(e){this.#n&&(this.removeEventListener("removetrack",this.#n),this.#n=void 0),typeof e=="function"&&(this.#n=e,this.addEventListener("removetrack",e))}get onchange(){return this.#r}set onchange(e){this.#r&&(this.removeEventListener("change",this.#r),this.#r=void 0),typeof e=="function"&&(this.#r=e,this.addEventListener("change",e))}}class k5 extends Event{rendition;constructor(e,r){super(e),this.rendition=r.rendition}}function oVe(t,e){const r=Ai(t).media.videoRenditions;Ai(e).media=Ai(t).media,Ai(e).track=t;const n=Ai(t).renditionSet;n.add(e);const i=n.size-1;i in vP.prototype||Object.defineProperty(vP.prototype,i,{get(){return mx(this)[i]}}),queueMicrotask(()=>{t.selected&&r.dispatchEvent(new k5("addrendition",{rendition:e}))})}function lVe(t){const e=Ai(t).media.videoRenditions,r=Ai(t).track;Ai(r).renditionSet.delete(t),queueMicrotask(()=>{Ai(t).track.selected&&e.dispatchEvent(new k5("removerendition",{rendition:t}))})}function cVe(t){const e=Ai(t).media.videoRenditions;!e||Ai(e).changeRequested||(Ai(e).changeRequested=!0,queueMicrotask(()=>{delete Ai(e).changeRequested,Ai(t).track.selected&&e.dispatchEvent(new Event("change"))}))}function mx(t){return[...Ai(t).media.videoTracks].filter(r=>r.selected).flatMap(r=>[...Ai(r).renditionSet])}class vP extends EventTarget{#e;#n;#r;[Symbol.iterator](){return mx(this).values()}get length(){return mx(this).length}getRenditionById(e){return mx(this).find(r=>`${r.id}`==`${e}`)??null}get selectedIndex(){return mx(this).findIndex(e=>e.selected)}set selectedIndex(e){for(const[r,n]of mx(this).entries())n.selected=r===e}get onaddrendition(){return this.#e}set onaddrendition(e){this.#e&&(this.removeEventListener("addrendition",this.#e),this.#e=void 0),typeof e=="function"&&(this.#e=e,this.addEventListener("addrendition",e))}get onremoverendition(){return this.#n}set onremoverendition(e){this.#n&&(this.removeEventListener("removerendition",this.#n),this.#n=void 0),typeof e=="function"&&(this.#n=e,this.addEventListener("removerendition",e))}get onchange(){return this.#r}set onchange(e){this.#r&&(this.removeEventListener("change",this.#r),this.#r=void 0),typeof e=="function"&&(this.#r=e,this.addEventListener("change",e))}}class uVe{src;id;width;height;bitrate;frameRate;codec;#e=!1;get selected(){return this.#e}set selected(e){this.#e!==e&&(this.#e=e,cVe(this))}}class Bse{id;kind;label="";language="";sourceBuffer;#e=!1;addRendition(e,r,n,i,s,a){const c=new uVe;return c.src=e,c.width=r,c.height=n,c.frameRate=a,c.bitrate=s,c.codec=i,oVe(this,c),c}removeRendition(e){lVe(e)}get selected(){return this.#e}set selected(e){this.#e!==e&&(this.#e=e,e===!0&&aVe(this))}}function dVe(t,e){const r=Ai(t).media.audioRenditions;Ai(e).media=Ai(t).media,Ai(e).track=t;const n=Ai(t).renditionSet;n.add(e);const i=n.size-1;i in yP.prototype||Object.defineProperty(yP.prototype,i,{get(){return px(this)[i]}}),queueMicrotask(()=>{t.enabled&&r.dispatchEvent(new k5("addrendition",{rendition:e}))})}function hVe(t){const e=Ai(t).media.audioRenditions,r=Ai(t).track;Ai(r).renditionSet.delete(t),queueMicrotask(()=>{Ai(t).track.enabled&&e.dispatchEvent(new k5("removerendition",{rendition:t}))})}function fVe(t){const e=Ai(t).media.audioRenditions;!e||Ai(e).changeRequested||(Ai(e).changeRequested=!0,queueMicrotask(()=>{delete Ai(e).changeRequested,Ai(t).track.enabled&&e.dispatchEvent(new Event("change"))}))}function px(t){return[...Ai(t).media.audioTracks].filter(r=>r.enabled).flatMap(r=>[...Ai(r).renditionSet])}class yP extends EventTarget{#e;#n;#r;[Symbol.iterator](){return px(this).values()}get length(){return px(this).length}getRenditionById(e){return px(this).find(r=>`${r.id}`==`${e}`)??null}get selectedIndex(){return px(this).findIndex(e=>e.selected)}set selectedIndex(e){for(const[r,n]of px(this).entries())n.selected=r===e}get onaddrendition(){return this.#e}set onaddrendition(e){this.#e&&(this.removeEventListener("addrendition",this.#e),this.#e=void 0),typeof e=="function"&&(this.#e=e,this.addEventListener("addrendition",e))}get onremoverendition(){return this.#n}set onremoverendition(e){this.#n&&(this.removeEventListener("removerendition",this.#n),this.#n=void 0),typeof e=="function"&&(this.#n=e,this.addEventListener("removerendition",e))}get onchange(){return this.#r}set onchange(e){this.#r&&(this.removeEventListener("change",this.#r),this.#r=void 0),typeof e=="function"&&(this.#r=e,this.addEventListener("change",e))}}class AVe{src;id;bitrate;codec;#e=!1;get selected(){return this.#e}set selected(e){this.#e!==e&&(this.#e=e,fVe(this))}}function xP(t,e){const r=t.audioTracks;Ai(e).media=t,Ai(e).renditionSet||(Ai(e).renditionSet=new Set);const n=Ai(r).trackSet;n.add(e);const i=n.size-1;i in wP.prototype||Object.defineProperty(wP.prototype,i,{get(){return[...Ai(this).trackSet][i]}}),queueMicrotask(()=>{r.dispatchEvent(new N5("addtrack",{track:e}))})}function bP(t){const e=Ai(t).media?.audioTracks;if(!e)return;Ai(e).trackSet.delete(t),queueMicrotask(()=>{e.dispatchEvent(new N5("removetrack",{track:t}))})}function mVe(t){const e=Ai(t).media.audioTracks;!e||Ai(e).changeRequested||(Ai(e).changeRequested=!0,queueMicrotask(()=>{delete Ai(e).changeRequested,e.dispatchEvent(new Event("change"))}))}class wP extends EventTarget{#e;#n;#r;constructor(){super(),Ai(this).trackSet=new Set}get#i(){return Ai(this).trackSet}[Symbol.iterator](){return this.#i.values()}get length(){return this.#i.size}getTrackById(e){return[...this.#i].find(r=>r.id===e)??null}get onaddtrack(){return this.#e}set onaddtrack(e){this.#e&&(this.removeEventListener("addtrack",this.#e),this.#e=void 0),typeof e=="function"&&(this.#e=e,this.addEventListener("addtrack",e))}get onremovetrack(){return this.#n}set onremovetrack(e){this.#n&&(this.removeEventListener("removetrack",this.#n),this.#n=void 0),typeof e=="function"&&(this.#n=e,this.addEventListener("removetrack",e))}get onchange(){return this.#r}set onchange(e){this.#r&&(this.removeEventListener("change",this.#r),this.#r=void 0),typeof e=="function"&&(this.#r=e,this.addEventListener("change",e))}}class Ose{id;kind;label="";language="";sourceBuffer;#e=!1;addRendition(e,r,n){const i=new AVe;return i.src=e,i.codec=r,i.bitrate=n,dVe(this,i),i}removeRendition(e){hVe(e)}get enabled(){return this.#e}set enabled(e){this.#e!==e&&(this.#e=e,mVe(this))}}const vG=Uj(globalThis.HTMLMediaElement,"video"),yG=Uj(globalThis.HTMLMediaElement,"audio");function pVe(t){if(!t?.prototype)return t;const e=Uj(t,"video");(!e||`${e}`.includes("[native code]"))&&Object.defineProperty(t.prototype,"videoTracks",{get(){return gVe(this)}});const r=Uj(t,"audio");(!r||`${r}`.includes("[native code]"))&&Object.defineProperty(t.prototype,"audioTracks",{get(){return vVe(this)}}),"addVideoTrack"in t.prototype||(t.prototype.addVideoTrack=function(s,a="",c=""){const u=new Bse;return u.kind=s,u.label=a,u.language=c,mP(this,u),u}),"removeVideoTrack"in t.prototype||(t.prototype.removeVideoTrack=pP),"addAudioTrack"in t.prototype||(t.prototype.addAudioTrack=function(s,a="",c=""){const u=new Ose;return u.kind=s,u.label=a,u.language=c,xP(this,u),u}),"removeAudioTrack"in t.prototype||(t.prototype.removeAudioTrack=bP),"videoRenditions"in t.prototype||Object.defineProperty(t.prototype,"videoRenditions",{get(){return n(this)}});const n=s=>{let a=Ai(s).videoRenditions;return a||(a=new vP,Ai(a).media=s,Ai(s).videoRenditions=a),a};"audioRenditions"in t.prototype||Object.defineProperty(t.prototype,"audioRenditions",{get(){return i(this)}});const i=s=>{let a=Ai(s).audioRenditions;return a||(a=new yP,Ai(a).media=s,Ai(s).audioRenditions=a),a};return t}function Uj(t,e){if(t?.prototype)return Object.getOwnPropertyDescriptor(t.prototype,`${e}Tracks`)?.get}function gVe(t){let e=Ai(t).videoTracks;if(!e&&(e=new gP,Ai(t).videoTracks=e,vG)){const r=vG.call(t.nativeEl??t);for(const n of r)mP(t,n);r.addEventListener("change",()=>{e.dispatchEvent(new Event("change"))}),r.addEventListener("addtrack",n=>{if([...e].some(i=>i instanceof Bse)){for(const i of r)pP(i);return}mP(t,n.track)}),r.addEventListener("removetrack",n=>{pP(n.track)})}return e}function vVe(t){let e=Ai(t).audioTracks;if(!e&&(e=new wP,Ai(t).audioTracks=e,yG)){const r=yG.call(t.nativeEl??t);for(const n of r)xP(t,n);r.addEventListener("change",()=>{e.dispatchEvent(new Event("change"))}),r.addEventListener("addtrack",n=>{if([...e].some(i=>i instanceof Ose)){for(const i of r)bP(i);return}xP(t,n.track)}),r.addEventListener("removetrack",n=>{bP(n.track)})}return e}var Pse=t=>{throw TypeError(t)},Rse=(t,e,r)=>e.has(t)||Pse("Cannot "+r),yVe=(t,e,r)=>(Rse(t,e,"read from private field"),r?r.call(t):e.get(t)),xVe=(t,e,r)=>e.has(t)?Pse("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),bVe=(t,e,r,n)=>(Rse(t,e,"write to private field"),e.set(t,r),r),Dse=class{addEventListener(){}removeEventListener(){}dispatchEvent(e){return!0}};if(typeof DocumentFragment>"u"){class t extends Dse{}globalThis.DocumentFragment=t}var wVe=class extends Dse{},EVe={get(t){},define(t,e,r){},getName(t){return null},upgrade(t){},whenDefined(t){return Promise.resolve(wVe)}},_Ve={customElements:EVe},SVe=typeof window>"u"||typeof globalThis.customElements>"u",CB=SVe?_Ve:globalThis,iT,xG=class extends iVe(pVe(QQe)){constructor(){super(...arguments),xVe(this,iT)}get autoplay(){let t=this.getAttribute("autoplay");return t===null?!1:t===""?!0:t}set autoplay(t){let e=this.autoplay;t!==e&&(t?this.setAttribute("autoplay",typeof t=="string"?t:""):this.removeAttribute("autoplay"))}get muxCastCustomData(){return{mux:{playbackId:this.playbackId,minResolution:this.minResolution,maxResolution:this.maxResolution,renditionOrder:this.renditionOrder,customDomain:this.customDomain,tokens:{drm:this.drmToken},envKey:this.envKey,metadata:this.metadata,disableCookies:this.disableCookies,disableTracking:this.disableTracking,beaconCollectionDomain:this.beaconCollectionDomain,startTime:this.startTime,preferCmcd:this.preferCmcd}}}get castCustomData(){var t;return(t=yVe(this,iT))!=null?t:this.muxCastCustomData}set castCustomData(t){bVe(this,iT,t)}};iT=new WeakMap;CB.customElements.get("mux-video")||(CB.customElements.define("mux-video",xG),CB.MuxVideoElement=xG);const zn={MEDIA_PLAY_REQUEST:"mediaplayrequest",MEDIA_PAUSE_REQUEST:"mediapauserequest",MEDIA_MUTE_REQUEST:"mediamuterequest",MEDIA_UNMUTE_REQUEST:"mediaunmuterequest",MEDIA_LOOP_REQUEST:"medialooprequest",MEDIA_VOLUME_REQUEST:"mediavolumerequest",MEDIA_SEEK_REQUEST:"mediaseekrequest",MEDIA_AIRPLAY_REQUEST:"mediaairplayrequest",MEDIA_ENTER_FULLSCREEN_REQUEST:"mediaenterfullscreenrequest",MEDIA_EXIT_FULLSCREEN_REQUEST:"mediaexitfullscreenrequest",MEDIA_PREVIEW_REQUEST:"mediapreviewrequest",MEDIA_ENTER_PIP_REQUEST:"mediaenterpiprequest",MEDIA_EXIT_PIP_REQUEST:"mediaexitpiprequest",MEDIA_ENTER_CAST_REQUEST:"mediaentercastrequest",MEDIA_EXIT_CAST_REQUEST:"mediaexitcastrequest",MEDIA_SHOW_TEXT_TRACKS_REQUEST:"mediashowtexttracksrequest",MEDIA_HIDE_TEXT_TRACKS_REQUEST:"mediahidetexttracksrequest",MEDIA_SHOW_SUBTITLES_REQUEST:"mediashowsubtitlesrequest",MEDIA_DISABLE_SUBTITLES_REQUEST:"mediadisablesubtitlesrequest",MEDIA_TOGGLE_SUBTITLES_REQUEST:"mediatogglesubtitlesrequest",MEDIA_PLAYBACK_RATE_REQUEST:"mediaplaybackraterequest",MEDIA_RENDITION_REQUEST:"mediarenditionrequest",MEDIA_AUDIO_TRACK_REQUEST:"mediaaudiotrackrequest",MEDIA_SEEK_TO_LIVE_REQUEST:"mediaseektoliverequest",REGISTER_MEDIA_STATE_RECEIVER:"registermediastatereceiver",UNREGISTER_MEDIA_STATE_RECEIVER:"unregistermediastatereceiver"},Ao={MEDIA_CHROME_ATTRIBUTES:"mediachromeattributes",MEDIA_CONTROLLER:"mediacontroller"},Mse={MEDIA_AIRPLAY_UNAVAILABLE:"mediaAirplayUnavailable",MEDIA_AUDIO_TRACK_ENABLED:"mediaAudioTrackEnabled",MEDIA_AUDIO_TRACK_LIST:"mediaAudioTrackList",MEDIA_AUDIO_TRACK_UNAVAILABLE:"mediaAudioTrackUnavailable",MEDIA_BUFFERED:"mediaBuffered",MEDIA_CAST_UNAVAILABLE:"mediaCastUnavailable",MEDIA_CHAPTERS_CUES:"mediaChaptersCues",MEDIA_CURRENT_TIME:"mediaCurrentTime",MEDIA_DURATION:"mediaDuration",MEDIA_ENDED:"mediaEnded",MEDIA_ERROR:"mediaError",MEDIA_ERROR_CODE:"mediaErrorCode",MEDIA_ERROR_MESSAGE:"mediaErrorMessage",MEDIA_FULLSCREEN_UNAVAILABLE:"mediaFullscreenUnavailable",MEDIA_HAS_PLAYED:"mediaHasPlayed",MEDIA_HEIGHT:"mediaHeight",MEDIA_IS_AIRPLAYING:"mediaIsAirplaying",MEDIA_IS_CASTING:"mediaIsCasting",MEDIA_IS_FULLSCREEN:"mediaIsFullscreen",MEDIA_IS_PIP:"mediaIsPip",MEDIA_LOADING:"mediaLoading",MEDIA_MUTED:"mediaMuted",MEDIA_LOOP:"mediaLoop",MEDIA_PAUSED:"mediaPaused",MEDIA_PIP_UNAVAILABLE:"mediaPipUnavailable",MEDIA_PLAYBACK_RATE:"mediaPlaybackRate",MEDIA_PREVIEW_CHAPTER:"mediaPreviewChapter",MEDIA_PREVIEW_COORDS:"mediaPreviewCoords",MEDIA_PREVIEW_IMAGE:"mediaPreviewImage",MEDIA_PREVIEW_TIME:"mediaPreviewTime",MEDIA_RENDITION_LIST:"mediaRenditionList",MEDIA_RENDITION_SELECTED:"mediaRenditionSelected",MEDIA_RENDITION_UNAVAILABLE:"mediaRenditionUnavailable",MEDIA_SEEKABLE:"mediaSeekable",MEDIA_STREAM_TYPE:"mediaStreamType",MEDIA_SUBTITLES_LIST:"mediaSubtitlesList",MEDIA_SUBTITLES_SHOWING:"mediaSubtitlesShowing",MEDIA_TARGET_LIVE_WINDOW:"mediaTargetLiveWindow",MEDIA_TIME_IS_LIVE:"mediaTimeIsLive",MEDIA_VOLUME:"mediaVolume",MEDIA_VOLUME_LEVEL:"mediaVolumeLevel",MEDIA_VOLUME_UNAVAILABLE:"mediaVolumeUnavailable",MEDIA_LANG:"mediaLang",MEDIA_WIDTH:"mediaWidth"},Fse=Object.entries(Mse),ht=Fse.reduce((t,[e,r])=>(t[e]=r.toLowerCase(),t),{}),TVe={USER_INACTIVE_CHANGE:"userinactivechange",BREAKPOINTS_CHANGE:"breakpointchange",BREAKPOINTS_COMPUTED:"breakpointscomputed"},qp=Fse.reduce((t,[e,r])=>(t[e]=r.toLowerCase(),t),{...TVe});Object.entries(qp).reduce((t,[e,r])=>{const n=ht[e];return n&&(t[r]=n),t},{userinactivechange:"userinactive"});const CVe=Object.entries(ht).reduce((t,[e,r])=>{const n=qp[e];return n&&(t[r]=n),t},{userinactive:"userinactivechange"}),Om={SUBTITLES:"subtitles",CAPTIONS:"captions",CHAPTERS:"chapters",METADATA:"metadata"},cb={DISABLED:"disabled",SHOWING:"showing"},jB={MOUSE:"mouse",PEN:"pen",TOUCH:"touch"},Wh={UNAVAILABLE:"unavailable",UNSUPPORTED:"unsupported"},_p={LIVE:"live",ON_DEMAND:"on-demand",UNKNOWN:"unknown"},jVe={FULLSCREEN:"fullscreen"};function NVe(t){return t?.map(IVe).join(" ")}function kVe(t){return t?.split(/\s+/).map(LVe)}function IVe(t){if(t){const{id:e,width:r,height:n}=t;return[e,r,n].filter(i=>i!=null).join(":")}}function LVe(t){if(t){const[e,r,n]=t.split(":");return{id:e,width:+r,height:+n}}}function BVe(t){return t?.map(PVe).join(" ")}function OVe(t){return t?.split(/\s+/).map(RVe)}function PVe(t){if(t){const{id:e,kind:r,language:n,label:i}=t;return[e,r,n,i].filter(s=>s!=null).join(":")}}function RVe(t){if(t){const[e,r,n,i]=t.split(":");return{id:e,kind:r,language:n,label:i}}}function DVe(t){return t.replace(/[-_]([a-z])/g,(e,r)=>r.toUpperCase())}function IF(t){return typeof t=="number"&&!Number.isNaN(t)&&Number.isFinite(t)}function Use(t){return typeof t!="string"?!1:!isNaN(t)&&!isNaN(parseFloat(t))}const $se=t=>new Promise(e=>setTimeout(e,t)),bG=[{singular:"hour",plural:"hours"},{singular:"minute",plural:"minutes"},{singular:"second",plural:"seconds"}],MVe=(t,e)=>{const r=t===1?bG[e].singular:bG[e].plural;return`${t} ${r}`},Yw=t=>{if(!IF(t))return"";const e=Math.abs(t),r=e!==t,n=new Date(0,0,0,0,0,e,0);return`${[n.getHours(),n.getMinutes(),n.getSeconds()].map((c,u)=>c&&MVe(c,u)).filter(c=>c).join(", ")}${r?" remaining":""}`};function b0(t,e){let r=!1;t<0&&(r=!0,t=0-t),t=t<0?0:t;let n=Math.floor(t%60),i=Math.floor(t/60%60),s=Math.floor(t/3600);const a=Math.floor(e/60%60),c=Math.floor(e/3600);return(isNaN(t)||t===1/0)&&(s=i=n="0"),s=s>0||c>0?s+":":"",i=((s||a>=10)&&i<10?"0"+i:i)+":",n=n<10?"0"+n:n,(r?"-":"")+s+i+n}const FVe={"Start airplay":"Start airplay","Stop airplay":"Stop airplay",Audio:"Audio",Captions:"Captions","Enable captions":"Enable captions","Disable captions":"Disable captions","Start casting":"Start casting","Stop casting":"Stop casting","Enter fullscreen mode":"Enter fullscreen mode","Exit fullscreen mode":"Exit fullscreen mode",Mute:"Mute",Unmute:"Unmute",Loop:"Loop","Enter picture in picture mode":"Enter picture in picture mode","Exit picture in picture mode":"Exit picture in picture mode",Play:"Play",Pause:"Pause","Playback rate":"Playback rate","Playback rate {playbackRate}":"Playback rate {playbackRate}",Quality:"Quality","Seek backward":"Seek backward","Seek forward":"Seek forward",Settings:"Settings",Auto:"Auto","audio player":"audio player","video player":"video player",volume:"volume",seek:"seek","closed captions":"closed captions","current playback rate":"current playback rate","playback time":"playback time","media loading":"media loading",settings:"settings","audio tracks":"audio tracks",quality:"quality",play:"play",pause:"pause",mute:"mute",unmute:"unmute","chapter: {chapterName}":"chapter: {chapterName}",live:"live",Off:"Off","start airplay":"start airplay","stop airplay":"stop airplay","start casting":"start casting","stop casting":"stop casting","enter fullscreen mode":"enter fullscreen mode","exit fullscreen mode":"exit fullscreen mode","enter picture in picture mode":"enter picture in picture mode","exit picture in picture mode":"exit picture in picture mode","seek to live":"seek to live","playing live":"playing live","seek back {seekOffset} seconds":"seek back {seekOffset} seconds","seek forward {seekOffset} seconds":"seek forward {seekOffset} seconds","Network Error":"Network Error","Decode Error":"Decode Error","Source Not Supported":"Source Not Supported","Encryption Error":"Encryption Error","A network error caused the media download to fail.":"A network error caused the media download to fail.","A media error caused playback to be aborted. The media could be corrupt or your browser does not support this format.":"A media error caused playback to be aborted. The media could be corrupt or your browser does not support this format.","An unsupported error occurred. The server or network failed, or your browser does not support this format.":"An unsupported error occurred. The server or network failed, or your browser does not support this format.","The media is encrypted and there are no keys to decrypt it.":"The media is encrypted and there are no keys to decrypt it."};var wG;const NB={en:FVe};let EP=((wG=globalThis.navigator)==null?void 0:wG.language)||"en";const UVe=t=>{EP=t},$Ve=t=>{var e,r,n;const[i]=EP.split("-");return((e=NB[EP])==null?void 0:e[t])||((r=NB[i])==null?void 0:r[t])||((n=NB.en)==null?void 0:n[t])||t},mi=(t,e={})=>$Ve(t).replace(/\{(\w+)\}/g,(r,n)=>n in e?String(e[n]):`{${n}}`);let Hse=class{addEventListener(){}removeEventListener(){}dispatchEvent(){return!0}},Qse=class extends Hse{},EG=class extends Qse{constructor(){super(...arguments),this.role=null}},HVe=class{observe(){}unobserve(){}disconnect(){}};const Vse={createElement:function(){return new HE.HTMLElement},createElementNS:function(){return new HE.HTMLElement},addEventListener(){},removeEventListener(){},dispatchEvent(t){return!1}},HE={ResizeObserver:HVe,document:Vse,Node:Qse,Element:EG,HTMLElement:class extends EG{constructor(){super(...arguments),this.innerHTML=""}get content(){return new HE.DocumentFragment}},DocumentFragment:class extends Hse{},customElements:{get:function(){},define:function(){},whenDefined:function(){}},localStorage:{getItem(t){return null},setItem(t,e){},removeItem(t){}},CustomEvent:function(){},getComputedStyle:function(){},navigator:{languages:[],get userAgent(){return""}},matchMedia(t){return{matches:!1,media:t}},DOMParser:class{parseFromString(e,r){return{body:{textContent:e}}}}},zse="global"in globalThis&&globalThis?.global===globalThis||typeof window>"u"||typeof window.customElements>"u",Kse=Object.keys(HE).every(t=>t in globalThis),tr=zse&&!Kse?HE:globalThis,pu=zse&&!Kse?Vse:globalThis.document,_G=new WeakMap,LF=t=>{let e=_G.get(t);return e||_G.set(t,e=new Set),e},Gse=new tr.ResizeObserver(t=>{for(const e of t)for(const r of LF(e.target))r(e)});function Bb(t,e){LF(t).add(e),Gse.observe(t)}function Ob(t,e){const r=LF(t);r.delete(e),r.size||Gse.unobserve(t)}function yf(t){const e={};for(const r of t)e[r.name]=r.value;return e}function Rh(t){var e;return(e=_P(t))!=null?e:o1(t,"media-controller")}function _P(t){var e;const{MEDIA_CONTROLLER:r}=Ao,n=t.getAttribute(r);if(n)return(e=I5(t))==null?void 0:e.getElementById(n)}const Wse=(t,e,r=".value")=>{const n=t.querySelector(r);n&&(n.textContent=e)},QVe=(t,e)=>{const r=`slot[name="${e}"]`,n=t.shadowRoot.querySelector(r);return n?n.children:[]},Yse=(t,e)=>QVe(t,e)[0],og=(t,e)=>!t||!e?!1:t?.contains(e)?!0:og(t,e.getRootNode().host),o1=(t,e)=>{if(!t)return null;const r=t.closest(e);return r||o1(t.getRootNode().host,e)};function BF(t=document){var e;const r=t?.activeElement;return r?(e=BF(r.shadowRoot))!=null?e:r:null}function I5(t){var e;const r=(e=t?.getRootNode)==null?void 0:e.call(t);return r instanceof ShadowRoot||r instanceof Document?r:null}function qse(t,{depth:e=3,checkOpacity:r=!0,checkVisibilityCSS:n=!0}={}){if(t.checkVisibility)return t.checkVisibility({checkOpacity:r,checkVisibilityCSS:n});let i=t;for(;i&&e>0;){const s=getComputedStyle(i);if(r&&s.opacity==="0"||n&&s.visibility==="hidden"||s.display==="none")return!1;i=i.parentElement,e--}return!0}function VVe(t,e,r,n){const i=n.x-r.x,s=n.y-r.y,a=i*i+s*s;if(a===0)return 0;const c=((t-r.x)*i+(e-r.y)*s)/a;return Math.max(0,Math.min(1,c))}function Mu(t,e){const r=zVe(t,n=>n===e);return r||OF(t,e)}function zVe(t,e){var r,n;let i;for(i of(r=t.querySelectorAll("style:not([media])"))!=null?r:[]){let s;try{s=(n=i.sheet)==null?void 0:n.cssRules}catch{continue}for(const a of s??[])if(e(a.selectorText))return a}}function OF(t,e){var r,n;const i=(r=t.querySelectorAll("style:not([media])"))!=null?r:[],s=i?.[i.length-1];return s?.sheet?(s?.sheet.insertRule(`${e}{}`,s.sheet.cssRules.length),(n=s.sheet.cssRules)==null?void 0:n[s.sheet.cssRules.length-1]):(console.warn("Media Chrome: No style sheet found on style tag of",t),{style:{setProperty:()=>{},removeProperty:()=>"",getPropertyValue:()=>""}})}function Tl(t,e,r=Number.NaN){const n=t.getAttribute(e);return n!=null?+n:r}function Rc(t,e,r){const n=+r;if(r==null||Number.isNaN(n)){t.hasAttribute(e)&&t.removeAttribute(e);return}Tl(t,e,void 0)!==n&&t.setAttribute(e,`${n}`)}function Oa(t,e){return t.hasAttribute(e)}function Pa(t,e,r){if(r==null){t.hasAttribute(e)&&t.removeAttribute(e);return}Oa(t,e)!=r&&t.toggleAttribute(e,r)}function Cl(t,e,r=null){var n;return(n=t.getAttribute(e))!=null?n:r}function jl(t,e,r){if(r==null){t.hasAttribute(e)&&t.removeAttribute(e);return}const n=`${r}`;Cl(t,e,void 0)!==n&&t.setAttribute(e,n)}var Xse=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},Ug=(t,e,r)=>(Xse(t,e,"read from private field"),r?r.call(t):e.get(t)),KVe=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},lS=(t,e,r,n)=>(Xse(t,e,"write to private field"),e.set(t,r),r),kh;function GVe(t){return`
    <style>
      :host {
        display: var(--media-control-display, var(--media-gesture-receiver-display, inline-block));
        box-sizing: border-box;
      }
    </style>
  `}class L5 extends tr.HTMLElement{constructor(){if(super(),KVe(this,kh,void 0),!this.shadowRoot){this.attachShadow(this.constructor.shadowRootOptions);const e=yf(this.attributes);this.shadowRoot.innerHTML=this.constructor.getTemplateHTML(e)}}static get observedAttributes(){return[Ao.MEDIA_CONTROLLER,ht.MEDIA_PAUSED]}attributeChangedCallback(e,r,n){var i,s,a,c,u;e===Ao.MEDIA_CONTROLLER&&(r&&((s=(i=Ug(this,kh))==null?void 0:i.unassociateElement)==null||s.call(i,this),lS(this,kh,null)),n&&this.isConnected&&(lS(this,kh,(a=this.getRootNode())==null?void 0:a.getElementById(n)),(u=(c=Ug(this,kh))==null?void 0:c.associateElement)==null||u.call(c,this)))}connectedCallback(){var e,r,n,i;this.tabIndex=-1,this.setAttribute("aria-hidden","true"),lS(this,kh,WVe(this)),this.getAttribute(Ao.MEDIA_CONTROLLER)&&((r=(e=Ug(this,kh))==null?void 0:e.associateElement)==null||r.call(e,this)),(n=Ug(this,kh))==null||n.addEventListener("pointerdown",this),(i=Ug(this,kh))==null||i.addEventListener("click",this)}disconnectedCallback(){var e,r,n,i;this.getAttribute(Ao.MEDIA_CONTROLLER)&&((r=(e=Ug(this,kh))==null?void 0:e.unassociateElement)==null||r.call(e,this)),(n=Ug(this,kh))==null||n.removeEventListener("pointerdown",this),(i=Ug(this,kh))==null||i.removeEventListener("click",this),lS(this,kh,null)}handleEvent(e){var r;const n=(r=e.composedPath())==null?void 0:r[0];if(["video","media-controller"].includes(n?.localName)){if(e.type==="pointerdown")this._pointerType=e.pointerType;else if(e.type==="click"){const{clientX:s,clientY:a}=e,{left:c,top:u,width:l,height:d}=this.getBoundingClientRect(),f=s-c,A=a-u;if(f<0||A<0||f>l||A>d||l===0&&d===0)return;const p=this._pointerType||"mouse";if(this._pointerType=void 0,p===jB.TOUCH){this.handleTap(e);return}else if(p===jB.MOUSE||p===jB.PEN){this.handleMouseClick(e);return}}}}get mediaPaused(){return Oa(this,ht.MEDIA_PAUSED)}set mediaPaused(e){Pa(this,ht.MEDIA_PAUSED,e)}handleTap(e){}handleMouseClick(e){const r=this.mediaPaused?zn.MEDIA_PLAY_REQUEST:zn.MEDIA_PAUSE_REQUEST;this.dispatchEvent(new tr.CustomEvent(r,{composed:!0,bubbles:!0}))}}kh=new WeakMap;L5.shadowRootOptions={mode:"open"};L5.getTemplateHTML=GVe;function WVe(t){var e;const r=t.getAttribute(Ao.MEDIA_CONTROLLER);return r?(e=t.getRootNode())==null?void 0:e.getElementById(r):o1(t,"media-controller")}tr.customElements.get("media-gesture-receiver")||tr.customElements.define("media-gesture-receiver",L5);var SG=L5,PF=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},nf=(t,e,r)=>(PF(t,e,"read from private field"),r?r.call(t):e.get(t)),Yh=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},dv=(t,e,r,n)=>(PF(t,e,"write to private field"),e.set(t,r),r),$f=(t,e,r)=>(PF(t,e,"access private method"),r),$j,gx,QE,Wx,sT,SP,Zse,Aw,aT,TP,Jse,CP,eae,VE,B5,O5,RF,Pb,zE;const es={AUDIO:"audio",AUTOHIDE:"autohide",BREAKPOINTS:"breakpoints",GESTURES_DISABLED:"gesturesdisabled",KEYBOARD_CONTROL:"keyboardcontrol",NO_AUTOHIDE:"noautohide",USER_INACTIVE:"userinactive",AUTOHIDE_OVER_CONTROLS:"autohideovercontrols"};function YVe(t){return`
    <style>
      
      :host([${ht.MEDIA_IS_FULLSCREEN}]) ::slotted([slot=media]) {
        outline: none;
      }

      :host {
        box-sizing: border-box;
        position: relative;
        display: inline-block;
        line-height: 0;
        background-color: var(--media-background-color, #000);
        overflow: hidden;
      }

      :host(:not([${es.AUDIO}])) [part~=layer]:not([part~=media-layer]) {
        position: absolute;
        top: 0;
        left: 0;
        bottom: 0;
        right: 0;
        display: flex;
        flex-flow: column nowrap;
        align-items: start;
        pointer-events: none;
        background: none;
      }

      slot[name=media] {
        display: var(--media-slot-display, contents);
      }

      
      :host([${es.AUDIO}]) slot[name=media] {
        display: var(--media-slot-display, none);
      }

      
      :host([${es.AUDIO}]) [part~=layer][part~=gesture-layer] {
        height: 0;
        display: block;
      }

      
      :host(:not([${es.AUDIO}])[${es.GESTURES_DISABLED}]) ::slotted([slot=gestures-chrome]),
          :host(:not([${es.AUDIO}])[${es.GESTURES_DISABLED}]) media-gesture-receiver[slot=gestures-chrome] {
        display: none;
      }

      
      ::slotted(:not([slot=media]):not([slot=poster]):not(media-loading-indicator):not([role=dialog]):not([hidden])) {
        pointer-events: auto;
      }

      :host(:not([${es.AUDIO}])) *[part~=layer][part~=centered-layer] {
        align-items: center;
        justify-content: center;
      }

      :host(:not([${es.AUDIO}])) ::slotted(media-gesture-receiver[slot=gestures-chrome]),
      :host(:not([${es.AUDIO}])) media-gesture-receiver[slot=gestures-chrome] {
        align-self: stretch;
        flex-grow: 1;
      }

      slot[name=middle-chrome] {
        display: inline;
        flex-grow: 1;
        pointer-events: none;
        background: none;
      }

      
      ::slotted([slot=media]),
      ::slotted([slot=poster]) {
        width: 100%;
        height: 100%;
      }

      
      :host(:not([${es.AUDIO}])) .spacer {
        flex-grow: 1;
      }

      
      :host(:-webkit-full-screen) {
        
        width: 100% !important;
        height: 100% !important;
      }

      
      ::slotted(:not([slot=media]):not([slot=poster]):not([${es.NO_AUTOHIDE}]):not([hidden]):not([role=dialog])) {
        opacity: 1;
        transition: var(--media-control-transition-in, opacity 0.25s);
      }

      
      :host([${es.USER_INACTIVE}]:not([${ht.MEDIA_PAUSED}]):not([${ht.MEDIA_IS_AIRPLAYING}]):not([${ht.MEDIA_IS_CASTING}]):not([${es.AUDIO}])) ::slotted(:not([slot=media]):not([slot=poster]):not([${es.NO_AUTOHIDE}]):not([role=dialog])) {
        opacity: 0;
        transition: var(--media-control-transition-out, opacity 1s);
      }

      :host([${es.USER_INACTIVE}]:not([${es.NO_AUTOHIDE}]):not([${ht.MEDIA_PAUSED}]):not([${ht.MEDIA_IS_CASTING}]):not([${es.AUDIO}])) ::slotted([slot=media]) {
        cursor: none;
      }

      :host([${es.USER_INACTIVE}][${es.AUTOHIDE_OVER_CONTROLS}]:not([${es.NO_AUTOHIDE}]):not([${ht.MEDIA_PAUSED}]):not([${ht.MEDIA_IS_CASTING}]):not([${es.AUDIO}])) * {
        --media-cursor: none;
        cursor: none;
      }


      ::slotted(media-control-bar)  {
        align-self: stretch;
      }

      
      :host(:not([${es.AUDIO}])[${ht.MEDIA_HAS_PLAYED}]) slot[name=poster] {
        display: none;
      }

      ::slotted([role=dialog]) {
        width: 100%;
        height: 100%;
        align-self: center;
      }

      ::slotted([role=menu]) {
        align-self: end;
      }
    </style>

    <slot name="media" part="layer media-layer"></slot>
    <slot name="poster" part="layer poster-layer"></slot>
    <slot name="gestures-chrome" part="layer gesture-layer">
      <media-gesture-receiver slot="gestures-chrome">
        <template shadowrootmode="${SG.shadowRootOptions.mode}">
          ${SG.getTemplateHTML({})}
        </template>
      </media-gesture-receiver>
    </slot>
    <span part="layer vertical-layer">
      <slot name="top-chrome" part="top chrome"></slot>
      <slot name="middle-chrome" part="middle chrome"></slot>
      <slot name="centered-chrome" part="layer centered-layer center centered chrome"></slot>
      
      <slot part="bottom chrome"></slot>
    </span>
    <slot name="dialog" part="layer dialog-layer"></slot>
  `}const qVe=Object.values(ht),XVe="sm:384 md:576 lg:768 xl:960";function ZVe(t){tae(t.target,t.contentRect.width)}function tae(t,e){var r;if(!t.isConnected)return;const n=(r=t.getAttribute(es.BREAKPOINTS))!=null?r:XVe,i=JVe(n),s=eze(i,e);let a=!1;if(Object.keys(i).forEach(c=>{if(s.includes(c)){t.hasAttribute(`breakpoint${c}`)||(t.setAttribute(`breakpoint${c}`,""),a=!0);return}t.hasAttribute(`breakpoint${c}`)&&(t.removeAttribute(`breakpoint${c}`),a=!0)}),a){const c=new CustomEvent(qp.BREAKPOINTS_CHANGE,{detail:s});t.dispatchEvent(c)}t.breakpointsComputed||(t.breakpointsComputed=!0,t.dispatchEvent(new CustomEvent(qp.BREAKPOINTS_COMPUTED,{bubbles:!0,composed:!0})))}function JVe(t){const e=t.split(/\s+/);return Object.fromEntries(e.map(r=>r.split(":")))}function eze(t,e){return Object.keys(t).filter(r=>e>=parseInt(t[r]))}class P5 extends tr.HTMLElement{constructor(){if(super(),Yh(this,SP),Yh(this,TP),Yh(this,CP),Yh(this,VE),Yh(this,O5),Yh(this,Pb),Yh(this,$j,0),Yh(this,gx,null),Yh(this,QE,null),Yh(this,Wx,void 0),this.breakpointsComputed=!1,Yh(this,sT,new MutationObserver($f(this,SP,Zse).bind(this))),Yh(this,Aw,!1),Yh(this,aT,r=>{nf(this,Aw)||(setTimeout(()=>{ZVe(r),dv(this,Aw,!1)},0),dv(this,Aw,!0))}),!this.shadowRoot){this.attachShadow(this.constructor.shadowRootOptions);const r=yf(this.attributes),n=this.constructor.getTemplateHTML(r);this.shadowRoot.setHTMLUnsafe?this.shadowRoot.setHTMLUnsafe(n):this.shadowRoot.innerHTML=n}const e=this.querySelector(":scope > slot[slot=media]");e&&e.addEventListener("slotchange",()=>{if(!e.assignedElements({flatten:!0}).length){nf(this,gx)&&this.mediaUnsetCallback(nf(this,gx));return}this.handleMediaUpdated(this.media)})}static get observedAttributes(){return[es.AUTOHIDE,es.GESTURES_DISABLED].concat(qVe).filter(e=>![ht.MEDIA_RENDITION_LIST,ht.MEDIA_AUDIO_TRACK_LIST,ht.MEDIA_CHAPTERS_CUES,ht.MEDIA_WIDTH,ht.MEDIA_HEIGHT,ht.MEDIA_ERROR,ht.MEDIA_ERROR_MESSAGE].includes(e))}attributeChangedCallback(e,r,n){e.toLowerCase()==es.AUTOHIDE&&(this.autohide=n)}get media(){let e=this.querySelector(":scope > [slot=media]");return e?.nodeName=="SLOT"&&(e=e.assignedElements({flatten:!0})[0]),e}async handleMediaUpdated(e){e&&(dv(this,gx,e),e.localName.includes("-")&&await tr.customElements.whenDefined(e.localName),this.mediaSetCallback(e))}connectedCallback(){var e;nf(this,sT).observe(this,{childList:!0,subtree:!0}),Bb(this,nf(this,aT));const r=this.getAttribute(es.AUDIO)!=null,n=mi(r?"audio player":"video player");this.setAttribute("role","region"),this.setAttribute("aria-label",n),this.handleMediaUpdated(this.media),this.setAttribute(es.USER_INACTIVE,""),tae(this,this.getBoundingClientRect().width),this.addEventListener("pointerdown",this),this.addEventListener("pointermove",this),this.addEventListener("pointerup",this),this.addEventListener("mouseleave",this),this.addEventListener("keyup",this),(e=tr.window)==null||e.addEventListener("mouseup",this)}disconnectedCallback(){var e;nf(this,sT).disconnect(),Ob(this,nf(this,aT)),this.media&&this.mediaUnsetCallback(this.media),(e=tr.window)==null||e.removeEventListener("mouseup",this)}mediaSetCallback(e){}mediaUnsetCallback(e){dv(this,gx,null)}handleEvent(e){switch(e.type){case"pointerdown":dv(this,$j,e.timeStamp);break;case"pointermove":$f(this,TP,Jse).call(this,e);break;case"pointerup":$f(this,CP,eae).call(this,e);break;case"mouseleave":$f(this,VE,B5).call(this);break;case"mouseup":this.removeAttribute(es.KEYBOARD_CONTROL);break;case"keyup":$f(this,Pb,zE).call(this),this.setAttribute(es.KEYBOARD_CONTROL,"");break}}set autohide(e){const r=Number(e);dv(this,Wx,isNaN(r)?0:r)}get autohide(){return(nf(this,Wx)===void 0?2:nf(this,Wx)).toString()}get breakpoints(){return Cl(this,es.BREAKPOINTS)}set breakpoints(e){jl(this,es.BREAKPOINTS,e)}get audio(){return Oa(this,es.AUDIO)}set audio(e){Pa(this,es.AUDIO,e)}get gesturesDisabled(){return Oa(this,es.GESTURES_DISABLED)}set gesturesDisabled(e){Pa(this,es.GESTURES_DISABLED,e)}get keyboardControl(){return Oa(this,es.KEYBOARD_CONTROL)}set keyboardControl(e){Pa(this,es.KEYBOARD_CONTROL,e)}get noAutohide(){return Oa(this,es.NO_AUTOHIDE)}set noAutohide(e){Pa(this,es.NO_AUTOHIDE,e)}get autohideOverControls(){return Oa(this,es.AUTOHIDE_OVER_CONTROLS)}set autohideOverControls(e){Pa(this,es.AUTOHIDE_OVER_CONTROLS,e)}get userInteractive(){return Oa(this,es.USER_INACTIVE)}set userInteractive(e){Pa(this,es.USER_INACTIVE,e)}}$j=new WeakMap;gx=new WeakMap;QE=new WeakMap;Wx=new WeakMap;sT=new WeakMap;SP=new WeakSet;Zse=function(t){const e=this.media;for(const r of t){if(r.type!=="childList")continue;const n=r.removedNodes;for(const i of n){if(i.slot!="media"||r.target!=this)continue;let s=r.previousSibling&&r.previousSibling.previousElementSibling;if(!s||!e)this.mediaUnsetCallback(i);else{let a=s.slot!=="media";for(;(s=s.previousSibling)!==null;)s.slot=="media"&&(a=!1);a&&this.mediaUnsetCallback(i)}}if(e)for(const i of r.addedNodes)i===e&&this.handleMediaUpdated(e)}};Aw=new WeakMap;aT=new WeakMap;TP=new WeakSet;Jse=function(t){if(t.pointerType!=="mouse"&&t.timeStamp-nf(this,$j)<250)return;$f(this,O5,RF).call(this),clearTimeout(nf(this,QE));const e=this.hasAttribute(es.AUTOHIDE_OVER_CONTROLS);([this,this.media].includes(t.target)||e)&&$f(this,Pb,zE).call(this)};CP=new WeakSet;eae=function(t){if(t.pointerType==="touch"){const e=!this.hasAttribute(es.USER_INACTIVE);[this,this.media].includes(t.target)&&e?$f(this,VE,B5).call(this):$f(this,Pb,zE).call(this)}else t.composedPath().some(e=>["media-play-button","media-fullscreen-button"].includes(e?.localName))&&$f(this,Pb,zE).call(this)};VE=new WeakSet;B5=function(){if(nf(this,Wx)<0||this.hasAttribute(es.USER_INACTIVE))return;this.setAttribute(es.USER_INACTIVE,"");const t=new tr.CustomEvent(qp.USER_INACTIVE_CHANGE,{composed:!0,bubbles:!0,detail:!0});this.dispatchEvent(t)};O5=new WeakSet;RF=function(){if(!this.hasAttribute(es.USER_INACTIVE))return;this.removeAttribute(es.USER_INACTIVE);const t=new tr.CustomEvent(qp.USER_INACTIVE_CHANGE,{composed:!0,bubbles:!0,detail:!1});this.dispatchEvent(t)};Pb=new WeakSet;zE=function(){$f(this,O5,RF).call(this),clearTimeout(nf(this,QE));const t=parseInt(this.autohide);t<0||dv(this,QE,setTimeout(()=>{$f(this,VE,B5).call(this)},t*1e3))};P5.shadowRootOptions={mode:"open"};P5.getTemplateHTML=YVe;tr.customElements.get("media-container")||tr.customElements.define("media-container",P5);var rae=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},od=(t,e,r)=>(rae(t,e,"read from private field"),r?r.call(t):e.get(t)),Q1=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},cS=(t,e,r,n)=>(rae(t,e,"write to private field"),e.set(t,r),r),vx,yx,Hj,Lv,yp,Kg;class DF{constructor(e,r,{defaultValue:n}={defaultValue:void 0}){Q1(this,yp),Q1(this,vx,void 0),Q1(this,yx,void 0),Q1(this,Hj,void 0),Q1(this,Lv,new Set),cS(this,vx,e),cS(this,yx,r),cS(this,Hj,new Set(n))}[Symbol.iterator](){return od(this,yp,Kg).values()}get length(){return od(this,yp,Kg).size}get value(){var e;return(e=[...od(this,yp,Kg)].join(" "))!=null?e:""}set value(e){var r;e!==this.value&&(cS(this,Lv,new Set),this.add(...(r=e?.split(" "))!=null?r:[]))}toString(){return this.value}item(e){return[...od(this,yp,Kg)][e]}values(){return od(this,yp,Kg).values()}forEach(e,r){od(this,yp,Kg).forEach(e,r)}add(...e){var r,n;e.forEach(i=>od(this,Lv).add(i)),!(this.value===""&&!((r=od(this,vx))!=null&&r.hasAttribute(`${od(this,yx)}`)))&&((n=od(this,vx))==null||n.setAttribute(`${od(this,yx)}`,`${this.value}`))}remove(...e){var r;e.forEach(n=>od(this,Lv).delete(n)),(r=od(this,vx))==null||r.setAttribute(`${od(this,yx)}`,`${this.value}`)}contains(e){return od(this,yp,Kg).has(e)}toggle(e,r){return typeof r<"u"?r?(this.add(e),!0):(this.remove(e),!1):this.contains(e)?(this.remove(e),!1):(this.add(e),!0)}replace(e,r){return this.remove(e),this.add(r),e===r}}vx=new WeakMap;yx=new WeakMap;Hj=new WeakMap;Lv=new WeakMap;yp=new WeakSet;Kg=function(){return od(this,Lv).size?od(this,Lv):od(this,Hj)};const tze=(t="")=>t.split(/\s+/),nae=(t="")=>{const[e,r,n]=t.split(":"),i=n?decodeURIComponent(n):void 0;return{kind:e==="cc"?Om.CAPTIONS:Om.SUBTITLES,language:r,label:i}},R5=(t="",e={})=>tze(t).map(r=>{const n=nae(r);return{...e,...n}}),iae=t=>t?Array.isArray(t)?t.map(e=>typeof e=="string"?nae(e):e):typeof t=="string"?R5(t):[t]:[],jP=({kind:t,label:e,language:r}={kind:"subtitles"})=>e?`${t==="captions"?"cc":"sb"}:${r}:${encodeURIComponent(e)}`:r,KE=(t=[])=>Array.prototype.map.call(t,jP).join(" "),rze=(t,e)=>r=>r[t]===e,sae=t=>{const e=Object.entries(t).map(([r,n])=>rze(r,n));return r=>e.every(n=>n(r))},qw=(t,e=[],r=[])=>{const n=iae(r).map(sae),i=s=>n.some(a=>a(s));Array.from(e).filter(i).forEach(s=>{s.mode=t})},D5=(t,e=()=>!0)=>{if(!t?.textTracks)return[];const r=typeof e=="function"?e:sae(e);return Array.from(t.textTracks).filter(r)},aae=t=>{var e;return!!((e=t.mediaSubtitlesShowing)!=null&&e.length)||t.hasAttribute(ht.MEDIA_SUBTITLES_SHOWING)},nze=t=>{var e;const{media:r,fullscreenElement:n}=t;try{const i=n&&"requestFullscreen"in n?"requestFullscreen":n&&"webkitRequestFullScreen"in n?"webkitRequestFullScreen":void 0;if(i){const s=(e=n[i])==null?void 0:e.call(n);if(s instanceof Promise)return s.catch(()=>{})}else r?.webkitEnterFullscreen?r.webkitEnterFullscreen():r?.requestFullscreen&&r.requestFullscreen()}catch(i){console.error(i)}},TG="exitFullscreen"in pu?"exitFullscreen":"webkitExitFullscreen"in pu?"webkitExitFullscreen":"webkitCancelFullScreen"in pu?"webkitCancelFullScreen":void 0,ize=t=>{var e;const{documentElement:r}=t;if(TG){const n=(e=r?.[TG])==null?void 0:e.call(r);if(n instanceof Promise)return n.catch(()=>{})}},mw="fullscreenElement"in pu?"fullscreenElement":"webkitFullscreenElement"in pu?"webkitFullscreenElement":void 0,sze=t=>{const{documentElement:e,media:r}=t,n=e?.[mw];return!n&&"webkitDisplayingFullscreen"in r&&"webkitPresentationMode"in r&&r.webkitDisplayingFullscreen&&r.webkitPresentationMode===jVe.FULLSCREEN?r:n},aze=t=>{var e;const{media:r,documentElement:n,fullscreenElement:i=r}=t;if(!r||!n)return!1;const s=sze(t);if(!s)return!1;if(s===i||s===r)return!0;if(s.localName.includes("-")){let a=s.shadowRoot;if(!(mw in a))return og(s,i);for(;a?.[mw];){if(a[mw]===i)return!0;a=(e=a[mw])==null?void 0:e.shadowRoot}}return!1},oze="fullscreenEnabled"in pu?"fullscreenEnabled":"webkitFullscreenEnabled"in pu?"webkitFullscreenEnabled":void 0,lze=t=>{const{documentElement:e,media:r}=t;return!!e?.[oze]||r&&"webkitSupportsFullscreen"in r};let uS;const MF=()=>{var t,e;return uS||(uS=(e=(t=pu)==null?void 0:t.createElement)==null?void 0:e.call(t,"video"),uS)},cze=async(t=MF())=>{if(!t)return!1;const e=t.volume;t.volume=e/2+.1;const r=new AbortController,n=await Promise.race([uze(t,r.signal),dze(t,e)]);return r.abort(),n},uze=(t,e)=>new Promise(r=>{t.addEventListener("volumechange",()=>r(!0),{signal:e})}),dze=async(t,e)=>{for(let r=0;r<10;r++){if(t.volume===e)return!1;await $se(10)}return t.volume!==e},hze=/.*Version\/.*Safari\/.*/.test(tr.navigator.userAgent),oae=(t=MF())=>tr.matchMedia("(display-mode: standalone)").matches&&hze?!1:typeof t?.requestPictureInPicture=="function",lae=(t=MF())=>lze({documentElement:pu,media:t}),fze=lae(),Aze=oae(),mze=!!tr.WebKitPlaybackTargetAvailabilityEvent,pze=!!tr.chrome,Qj=t=>D5(t.media,e=>[Om.SUBTITLES,Om.CAPTIONS].includes(e.kind)).sort((e,r)=>e.kind>=r.kind?1:-1),cae=t=>D5(t.media,e=>e.mode===cb.SHOWING&&[Om.SUBTITLES,Om.CAPTIONS].includes(e.kind)),uae=(t,e)=>{const r=Qj(t),n=cae(t),i=!!n.length;if(r.length){if(e===!1||i&&e!==!0)qw(cb.DISABLED,r,n);else if(e===!0||!i&&e!==!1){let s=r[0];const{options:a}=t;if(!a?.noSubtitlesLangPref){const d=globalThis.localStorage.getItem("media-chrome-pref-subtitles-lang"),f=d?[d,...globalThis.navigator.languages]:globalThis.navigator.languages,A=r.filter(p=>f.some(v=>p.language.toLowerCase().startsWith(v.split("-")[0]))).sort((p,v)=>{const y=f.findIndex(w=>p.language.toLowerCase().startsWith(w.split("-")[0])),x=f.findIndex(w=>v.language.toLowerCase().startsWith(w.split("-")[0]));return y-x});A[0]&&(s=A[0])}const{language:c,label:u,kind:l}=s;qw(cb.DISABLED,r,n),qw(cb.SHOWING,r,[{language:c,label:u,kind:l}])}}},FF=(t,e)=>t===e?!0:t==null||e==null||typeof t!=typeof e?!1:typeof t=="number"&&Number.isNaN(t)&&Number.isNaN(e)?!0:typeof t!="object"?!1:Array.isArray(t)?gze(t,e):Object.entries(t).every(([r,n])=>r in e&&FF(n,e[r])),gze=(t,e)=>{const r=Array.isArray(t),n=Array.isArray(e);return r!==n?!1:r||n?t.length!==e.length?!1:t.every((i,s)=>FF(i,e[s])):!0},vze=Object.values(_p);let Vj;const yze=cze().then(t=>(Vj=t,Vj)),xze=async(...t)=>{await Promise.all(t.filter(e=>e).map(async e=>{if(!("localName"in e&&e instanceof tr.HTMLElement))return;const r=e.localName;if(!r.includes("-"))return;const n=tr.customElements.get(r);n&&e instanceof n||(await tr.customElements.whenDefined(r),tr.customElements.upgrade(e))}))},bze=new tr.DOMParser,wze=t=>t&&(bze.parseFromString(t,"text/html").body.textContent||t),pw={mediaError:{get(t,e){const{media:r}=t;if(e?.type!=="playing")return r?.error},mediaEvents:["emptied","error","playing"]},mediaErrorCode:{get(t,e){var r;const{media:n}=t;if(e?.type!=="playing")return(r=n?.error)==null?void 0:r.code},mediaEvents:["emptied","error","playing"]},mediaErrorMessage:{get(t,e){var r,n;const{media:i}=t;if(e?.type!=="playing")return(n=(r=i?.error)==null?void 0:r.message)!=null?n:""},mediaEvents:["emptied","error","playing"]},mediaWidth:{get(t){var e;const{media:r}=t;return(e=r?.videoWidth)!=null?e:0},mediaEvents:["resize"]},mediaHeight:{get(t){var e;const{media:r}=t;return(e=r?.videoHeight)!=null?e:0},mediaEvents:["resize"]},mediaPaused:{get(t){var e;const{media:r}=t;return(e=r?.paused)!=null?e:!0},set(t,e){var r;const{media:n}=e;n&&(t?n.pause():(r=n.play())==null||r.catch(()=>{}))},mediaEvents:["play","playing","pause","emptied"]},mediaHasPlayed:{get(t,e){const{media:r}=t;return r?e?e.type==="playing":!r.paused:!1},mediaEvents:["playing","emptied"]},mediaEnded:{get(t){var e;const{media:r}=t;return(e=r?.ended)!=null?e:!1},mediaEvents:["seeked","ended","emptied"]},mediaPlaybackRate:{get(t){var e;const{media:r}=t;return(e=r?.playbackRate)!=null?e:1},set(t,e){const{media:r}=e;r&&Number.isFinite(+t)&&(r.playbackRate=+t)},mediaEvents:["ratechange","loadstart"]},mediaMuted:{get(t){var e;const{media:r}=t;return(e=r?.muted)!=null?e:!1},set(t,e){const{media:r,options:{noMutedPref:n}={}}=e;if(r){r.muted=t;try{const i=tr.localStorage.getItem("media-chrome-pref-muted")!==null,s=r.hasAttribute("muted");if(n){i&&tr.localStorage.removeItem("media-chrome-pref-muted");return}if(s&&!i)return;tr.localStorage.setItem("media-chrome-pref-muted",t?"true":"false")}catch(i){console.debug("Error setting muted pref",i)}}},mediaEvents:["volumechange"],stateOwnersUpdateHandlers:[(t,e)=>{const{options:{noMutedPref:r}}=e,{media:n}=e;if(!(!n||n.muted||r))try{const i=tr.localStorage.getItem("media-chrome-pref-muted")==="true";pw.mediaMuted.set(i,e),t(i)}catch(i){console.debug("Error getting muted pref",i)}}]},mediaLoop:{get(t){const{media:e}=t;return e?.loop},set(t,e){const{media:r}=e;r&&(r.loop=t)},mediaEvents:["medialooprequest"]},mediaVolume:{get(t){var e;const{media:r}=t;return(e=r?.volume)!=null?e:1},set(t,e){const{media:r,options:{noVolumePref:n}={}}=e;if(r){try{t==null?tr.localStorage.removeItem("media-chrome-pref-volume"):!r.hasAttribute("muted")&&!n&&tr.localStorage.setItem("media-chrome-pref-volume",t.toString())}catch(i){console.debug("Error setting volume pref",i)}Number.isFinite(+t)&&(r.volume=+t)}},mediaEvents:["volumechange"],stateOwnersUpdateHandlers:[(t,e)=>{const{options:{noVolumePref:r}}=e;if(!r)try{const{media:n}=e;if(!n)return;const i=tr.localStorage.getItem("media-chrome-pref-volume");if(i==null)return;pw.mediaVolume.set(+i,e),t(+i)}catch(n){console.debug("Error getting volume pref",n)}}]},mediaVolumeLevel:{get(t){const{media:e}=t;return typeof e?.volume>"u"?"high":e.muted||e.volume===0?"off":e.volume<.5?"low":e.volume<.75?"medium":"high"},mediaEvents:["volumechange"]},mediaCurrentTime:{get(t){var e;const{media:r}=t;return(e=r?.currentTime)!=null?e:0},set(t,e){const{media:r}=e;!r||!IF(t)||(r.currentTime=t)},mediaEvents:["timeupdate","loadedmetadata"]},mediaDuration:{get(t){const{media:e,options:{defaultDuration:r}={}}=t;return r&&(!e||!e.duration||Number.isNaN(e.duration)||!Number.isFinite(e.duration))?r:Number.isFinite(e?.duration)?e.duration:Number.NaN},mediaEvents:["durationchange","loadedmetadata","emptied"]},mediaLoading:{get(t){const{media:e}=t;return e?.readyState<3},mediaEvents:["waiting","playing","emptied"]},mediaSeekable:{get(t){var e;const{media:r}=t;if(!((e=r?.seekable)!=null&&e.length))return;const n=r.seekable.start(0),i=r.seekable.end(r.seekable.length-1);if(!(!n&&!i))return[Number(n.toFixed(3)),Number(i.toFixed(3))]},mediaEvents:["loadedmetadata","emptied","progress","seekablechange"]},mediaBuffered:{get(t){var e;const{media:r}=t,n=(e=r?.buffered)!=null?e:[];return Array.from(n).map((i,s)=>[Number(n.start(s).toFixed(3)),Number(n.end(s).toFixed(3))])},mediaEvents:["progress","emptied"]},mediaStreamType:{get(t){const{media:e,options:{defaultStreamType:r}={}}=t,n=[_p.LIVE,_p.ON_DEMAND].includes(r)?r:void 0;if(!e)return n;const{streamType:i}=e;if(vze.includes(i))return i===_p.UNKNOWN?n:i;const s=e.duration;return s===1/0?_p.LIVE:Number.isFinite(s)?_p.ON_DEMAND:n},mediaEvents:["emptied","durationchange","loadedmetadata","streamtypechange"]},mediaTargetLiveWindow:{get(t){const{media:e}=t;if(!e)return Number.NaN;const{targetLiveWindow:r}=e,n=pw.mediaStreamType.get(t);return(r==null||Number.isNaN(r))&&n===_p.LIVE?0:r},mediaEvents:["emptied","durationchange","loadedmetadata","streamtypechange","targetlivewindowchange"]},mediaTimeIsLive:{get(t){const{media:e,options:{liveEdgeOffset:r=10}={}}=t;if(!e)return!1;if(typeof e.liveEdgeStart=="number")return Number.isNaN(e.liveEdgeStart)?!1:e.currentTime>=e.liveEdgeStart;if(!(pw.mediaStreamType.get(t)===_p.LIVE))return!1;const i=e.seekable;if(!i)return!0;if(!i.length)return!1;const s=i.end(i.length-1)-r;return e.currentTime>=s},mediaEvents:["playing","timeupdate","progress","waiting","emptied"]},mediaSubtitlesList:{get(t){return Qj(t).map(({kind:e,label:r,language:n})=>({kind:e,label:r,language:n}))},mediaEvents:["loadstart"],textTracksEvents:["addtrack","removetrack"]},mediaSubtitlesShowing:{get(t){return cae(t).map(({kind:e,label:r,language:n})=>({kind:e,label:r,language:n}))},mediaEvents:["loadstart"],textTracksEvents:["addtrack","removetrack","change"],stateOwnersUpdateHandlers:[(t,e)=>{var r,n;const{media:i,options:s}=e;if(!i)return;const a=c=>{var u;!s.defaultSubtitles||c&&![Om.CAPTIONS,Om.SUBTITLES].includes((u=c?.track)==null?void 0:u.kind)||uae(e,!0)};return i.addEventListener("loadstart",a),(r=i.textTracks)==null||r.addEventListener("addtrack",a),(n=i.textTracks)==null||n.addEventListener("removetrack",a),()=>{var c,u;i.removeEventListener("loadstart",a),(c=i.textTracks)==null||c.removeEventListener("addtrack",a),(u=i.textTracks)==null||u.removeEventListener("removetrack",a)}}]},mediaChaptersCues:{get(t){var e;const{media:r}=t;if(!r)return[];const[n]=D5(r,{kind:Om.CHAPTERS});return Array.from((e=n?.cues)!=null?e:[]).map(({text:i,startTime:s,endTime:a})=>({text:wze(i),startTime:s,endTime:a}))},mediaEvents:["loadstart","loadedmetadata"],textTracksEvents:["addtrack","removetrack","change"],stateOwnersUpdateHandlers:[(t,e)=>{var r;const{media:n}=e;if(!n)return;const i=n.querySelector('track[kind="chapters"][default][src]'),s=(r=n.shadowRoot)==null?void 0:r.querySelector(':is(video,audio) > track[kind="chapters"][default][src]');return i?.addEventListener("load",t),s?.addEventListener("load",t),()=>{i?.removeEventListener("load",t),s?.removeEventListener("load",t)}}]},mediaIsPip:{get(t){var e,r;const{media:n,documentElement:i}=t;if(!n||!i||!i.pictureInPictureElement)return!1;if(i.pictureInPictureElement===n)return!0;if(i.pictureInPictureElement instanceof HTMLMediaElement)return(e=n.localName)!=null&&e.includes("-")?og(n,i.pictureInPictureElement):!1;if(i.pictureInPictureElement.localName.includes("-")){let s=i.pictureInPictureElement.shadowRoot;for(;s?.pictureInPictureElement;){if(s.pictureInPictureElement===n)return!0;s=(r=s.pictureInPictureElement)==null?void 0:r.shadowRoot}}return!1},set(t,e){const{media:r}=e;if(r)if(t){if(!pu.pictureInPictureEnabled){console.warn("MediaChrome: Picture-in-picture is not enabled");return}if(!r.requestPictureInPicture){console.warn("MediaChrome: The current media does not support picture-in-picture");return}const n=()=>{console.warn("MediaChrome: The media is not ready for picture-in-picture. It must have a readyState > 0.")};r.requestPictureInPicture().catch(i=>{if(i.code===11){if(!r.src){console.warn("MediaChrome: The media is not ready for picture-in-picture. It must have a src set.");return}if(r.readyState===0&&r.preload==="none"){const s=()=>{r.removeEventListener("loadedmetadata",a),r.preload="none"},a=()=>{r.requestPictureInPicture().catch(n),s()};r.addEventListener("loadedmetadata",a),r.preload="metadata",setTimeout(()=>{r.readyState===0&&n(),s()},1e3)}else throw i}else throw i})}else pu.pictureInPictureElement&&pu.exitPictureInPicture()},mediaEvents:["enterpictureinpicture","leavepictureinpicture"]},mediaRenditionList:{get(t){var e;const{media:r}=t;return[...(e=r?.videoRenditions)!=null?e:[]].map(n=>({...n}))},mediaEvents:["emptied","loadstart"],videoRenditionsEvents:["addrendition","removerendition"]},mediaRenditionSelected:{get(t){var e,r,n;const{media:i}=t;return(n=(r=i?.videoRenditions)==null?void 0:r[(e=i.videoRenditions)==null?void 0:e.selectedIndex])==null?void 0:n.id},set(t,e){const{media:r}=e;if(!r?.videoRenditions){console.warn("MediaController: Rendition selection not supported by this media.");return}const n=t,i=Array.prototype.findIndex.call(r.videoRenditions,s=>s.id==n);r.videoRenditions.selectedIndex!=i&&(r.videoRenditions.selectedIndex=i)},mediaEvents:["emptied"],videoRenditionsEvents:["addrendition","removerendition","change"]},mediaAudioTrackList:{get(t){var e;const{media:r}=t;return[...(e=r?.audioTracks)!=null?e:[]]},mediaEvents:["emptied","loadstart"],audioTracksEvents:["addtrack","removetrack"]},mediaAudioTrackEnabled:{get(t){var e,r;const{media:n}=t;return(r=[...(e=n?.audioTracks)!=null?e:[]].find(i=>i.enabled))==null?void 0:r.id},set(t,e){const{media:r}=e;if(!r?.audioTracks){console.warn("MediaChrome: Audio track selection not supported by this media.");return}const n=t;for(const i of r.audioTracks)i.enabled=n==i.id},mediaEvents:["emptied"],audioTracksEvents:["addtrack","removetrack","change"]},mediaIsFullscreen:{get(t){return aze(t)},set(t,e,r){var n;t?(nze(e),r.detail&&((n=e.media)==null||n.focus())):ize(e)},rootEvents:["fullscreenchange","webkitfullscreenchange"],mediaEvents:["webkitbeginfullscreen","webkitendfullscreen","webkitpresentationmodechanged"]},mediaIsCasting:{get(t){var e;const{media:r}=t;return!r?.remote||((e=r.remote)==null?void 0:e.state)==="disconnected"?!1:!!r.remote.state},set(t,e){var r,n;const{media:i}=e;if(i&&!(t&&((r=i.remote)==null?void 0:r.state)!=="disconnected")&&!(!t&&((n=i.remote)==null?void 0:n.state)!=="connected")){if(typeof i.remote.prompt!="function"){console.warn("MediaChrome: Casting is not supported in this environment");return}i.remote.prompt().catch(()=>{})}},remoteEvents:["connect","connecting","disconnect"]},mediaIsAirplaying:{get(){return!1},set(t,e){const{media:r}=e;if(r){if(!(r.webkitShowPlaybackTargetPicker&&tr.WebKitPlaybackTargetAvailabilityEvent)){console.error("MediaChrome: received a request to select AirPlay but AirPlay is not supported in this environment");return}r.webkitShowPlaybackTargetPicker()}},mediaEvents:["webkitcurrentplaybacktargetiswirelesschanged"]},mediaFullscreenUnavailable:{get(t){const{media:e}=t;if(!fze||!lae(e))return Wh.UNSUPPORTED}},mediaPipUnavailable:{get(t){const{media:e}=t;if(!Aze||!oae(e))return Wh.UNSUPPORTED;if(e?.disablePictureInPicture)return Wh.UNAVAILABLE}},mediaVolumeUnavailable:{get(t){const{media:e}=t;if(Vj===!1||e?.volume==null)return Wh.UNSUPPORTED},stateOwnersUpdateHandlers:[t=>{Vj==null&&yze.then(e=>t(e?void 0:Wh.UNSUPPORTED))}]},mediaCastUnavailable:{get(t,{availability:e="not-available"}={}){var r;const{media:n}=t;if(!pze||!((r=n?.remote)!=null&&r.state))return Wh.UNSUPPORTED;if(!(e==null||e==="available"))return Wh.UNAVAILABLE},stateOwnersUpdateHandlers:[(t,e)=>{var r;const{media:n}=e;return n?(n.disableRemotePlayback||n.hasAttribute("disableremoteplayback")||(r=n?.remote)==null||r.watchAvailability(s=>{t({availability:s?"available":"not-available"})}).catch(s=>{s.name==="NotSupportedError"?t({availability:null}):t({availability:"not-available"})}),()=>{var s;(s=n?.remote)==null||s.cancelWatchAvailability().catch(()=>{})}):void 0}]},mediaAirplayUnavailable:{get(t,e){if(!mze)return Wh.UNSUPPORTED;if(e?.availability==="not-available")return Wh.UNAVAILABLE},mediaEvents:["webkitplaybacktargetavailabilitychanged"],stateOwnersUpdateHandlers:[(t,e)=>{var r;const{media:n}=e;return n?(n.disableRemotePlayback||n.hasAttribute("disableremoteplayback")||(r=n?.remote)==null||r.watchAvailability(s=>{t({availability:s?"available":"not-available"})}).catch(s=>{s.name==="NotSupportedError"?t({availability:null}):t({availability:"not-available"})}),()=>{var s;(s=n?.remote)==null||s.cancelWatchAvailability().catch(()=>{})}):void 0}]},mediaRenditionUnavailable:{get(t){var e;const{media:r}=t;if(!r?.videoRenditions)return Wh.UNSUPPORTED;if(!((e=r.videoRenditions)!=null&&e.length))return Wh.UNAVAILABLE},mediaEvents:["emptied","loadstart"],videoRenditionsEvents:["addrendition","removerendition"]},mediaAudioTrackUnavailable:{get(t){var e,r;const{media:n}=t;if(!n?.audioTracks)return Wh.UNSUPPORTED;if(((r=(e=n.audioTracks)==null?void 0:e.length)!=null?r:0)<=1)return Wh.UNAVAILABLE},mediaEvents:["emptied","loadstart"],audioTracksEvents:["addtrack","removetrack"]},mediaLang:{get(t){const{options:{mediaLang:e}={}}=t;return e??"en"}}},Eze={[zn.MEDIA_PREVIEW_REQUEST](t,e,{detail:r}){var n,i,s;const{media:a}=e,c=r??void 0;let u,l;if(a&&c!=null){const[p]=D5(a,{kind:Om.METADATA,label:"thumbnails"}),v=Array.prototype.find.call((n=p?.cues)!=null?n:[],(y,x,w)=>x===0?y.endTime>c:x===w.length-1?y.startTime<=c:y.startTime<=c&&y.endTime>c);if(v){const y=/'^(?:[a-z]+:)?\/\//i.test(v.text)||(i=a?.querySelector('track[label="thumbnails"]'))==null?void 0:i.src,x=new URL(v.text,y);l=new URLSearchParams(x.hash).get("#xywh").split(",").map(E=>+E),u=x.href}}const d=t.mediaDuration.get(e);let A=(s=t.mediaChaptersCues.get(e).find((p,v,y)=>v===y.length-1&&d===p.endTime?p.startTime<=c&&p.endTime>=c:p.startTime<=c&&p.endTime>c))==null?void 0:s.text;return r!=null&&A==null&&(A=""),{mediaPreviewTime:c,mediaPreviewImage:u,mediaPreviewCoords:l,mediaPreviewChapter:A}},[zn.MEDIA_PAUSE_REQUEST](t,e){t["mediaPaused"].set(!0,e)},[zn.MEDIA_PLAY_REQUEST](t,e){var r,n,i,s;const a="mediaPaused",u=t.mediaStreamType.get(e)===_p.LIVE,l=!((r=e.options)!=null&&r.noAutoSeekToLive),d=t.mediaTargetLiveWindow.get(e)>0;if(u&&l&&!d){const f=(n=t.mediaSeekable.get(e))==null?void 0:n[1];if(f){const A=(s=(i=e.options)==null?void 0:i.seekToLiveOffset)!=null?s:0,p=f-A;t.mediaCurrentTime.set(p,e)}}t[a].set(!1,e)},[zn.MEDIA_PLAYBACK_RATE_REQUEST](t,e,{detail:r}){const n="mediaPlaybackRate",i=r;t[n].set(i,e)},[zn.MEDIA_MUTE_REQUEST](t,e){t["mediaMuted"].set(!0,e)},[zn.MEDIA_UNMUTE_REQUEST](t,e){const r="mediaMuted";t.mediaVolume.get(e)||t.mediaVolume.set(.25,e),t[r].set(!1,e)},[zn.MEDIA_LOOP_REQUEST](t,e,{detail:r}){const n="mediaLoop",i=!!r;return t[n].set(i,e),{mediaLoop:i}},[zn.MEDIA_VOLUME_REQUEST](t,e,{detail:r}){const n="mediaVolume",i=r;i&&t.mediaMuted.get(e)&&t.mediaMuted.set(!1,e),t[n].set(i,e)},[zn.MEDIA_SEEK_REQUEST](t,e,{detail:r}){const n="mediaCurrentTime",i=r;t[n].set(i,e)},[zn.MEDIA_SEEK_TO_LIVE_REQUEST](t,e){var r,n,i;const s="mediaCurrentTime",a=(r=t.mediaSeekable.get(e))==null?void 0:r[1];if(Number.isNaN(Number(a)))return;const c=(i=(n=e.options)==null?void 0:n.seekToLiveOffset)!=null?i:0,u=a-c;t[s].set(u,e)},[zn.MEDIA_SHOW_SUBTITLES_REQUEST](t,e,{detail:r}){var n;const{options:i}=e,s=Qj(e),a=iae(r),c=(n=a[0])==null?void 0:n.language;c&&!i.noSubtitlesLangPref&&tr.localStorage.setItem("media-chrome-pref-subtitles-lang",c),qw(cb.SHOWING,s,a)},[zn.MEDIA_DISABLE_SUBTITLES_REQUEST](t,e,{detail:r}){const n=Qj(e),i=r??[];qw(cb.DISABLED,n,i)},[zn.MEDIA_TOGGLE_SUBTITLES_REQUEST](t,e,{detail:r}){uae(e,r)},[zn.MEDIA_RENDITION_REQUEST](t,e,{detail:r}){const n="mediaRenditionSelected",i=r;t[n].set(i,e)},[zn.MEDIA_AUDIO_TRACK_REQUEST](t,e,{detail:r}){const n="mediaAudioTrackEnabled",i=r;t[n].set(i,e)},[zn.MEDIA_ENTER_PIP_REQUEST](t,e){const r="mediaIsPip";t.mediaIsFullscreen.get(e)&&t.mediaIsFullscreen.set(!1,e),t[r].set(!0,e)},[zn.MEDIA_EXIT_PIP_REQUEST](t,e){t["mediaIsPip"].set(!1,e)},[zn.MEDIA_ENTER_FULLSCREEN_REQUEST](t,e,r){const n="mediaIsFullscreen";t.mediaIsPip.get(e)&&t.mediaIsPip.set(!1,e),t[n].set(!0,e,r)},[zn.MEDIA_EXIT_FULLSCREEN_REQUEST](t,e){t["mediaIsFullscreen"].set(!1,e)},[zn.MEDIA_ENTER_CAST_REQUEST](t,e){const r="mediaIsCasting";t.mediaIsFullscreen.get(e)&&t.mediaIsFullscreen.set(!1,e),t[r].set(!0,e)},[zn.MEDIA_EXIT_CAST_REQUEST](t,e){t["mediaIsCasting"].set(!1,e)},[zn.MEDIA_AIRPLAY_REQUEST](t,e){t["mediaIsAirplaying"].set(!0,e)}},_ze=({media:t,fullscreenElement:e,documentElement:r,stateMediator:n=pw,requestMap:i=Eze,options:s={},monitorStateOwnersOnlyWithSubscriptions:a=!0})=>{const c=[],u={options:{...s}};let l=Object.freeze({mediaPreviewTime:void 0,mediaPreviewImage:void 0,mediaPreviewCoords:void 0,mediaPreviewChapter:void 0});const d=y=>{y!=null&&(FF(y,l)||(l=Object.freeze({...l,...y}),c.forEach(x=>x(l))))},f=()=>{const y=Object.entries(n).reduce((x,[w,{get:E}])=>(x[w]=E(u),x),{});d(y)},A={};let p;const v=async(y,x)=>{var w,E,T,C,j,P,U,W,q,re,ie,Ae,be,Ee,ge,se;const xe=!!p;if(p={...u,...p??{},...y},xe)return;await xze(...Object.values(y));const ce=c.length>0&&x===0&&a,Me=u.media!==p.media,Oe=((w=u.media)==null?void 0:w.textTracks)!==((E=p.media)==null?void 0:E.textTracks),we=((T=u.media)==null?void 0:T.videoRenditions)!==((C=p.media)==null?void 0:C.videoRenditions),ue=((j=u.media)==null?void 0:j.audioTracks)!==((P=p.media)==null?void 0:P.audioTracks),ye=((U=u.media)==null?void 0:U.remote)!==((W=p.media)==null?void 0:W.remote),Le=u.documentElement!==p.documentElement,He=!!u.media&&(Me||ce),Fe=!!((q=u.media)!=null&&q.textTracks)&&(Oe||ce),At=!!((re=u.media)!=null&&re.videoRenditions)&&(we||ce),pt=!!((ie=u.media)!=null&&ie.audioTracks)&&(ue||ce),Pe=!!((Ae=u.media)!=null&&Ae.remote)&&(ye||ce),st=!!u.documentElement&&(Le||ce),et=He||Fe||At||pt||Pe||st,We=c.length===0&&x===1&&a,gt=!!p.media&&(Me||We),Ge=!!((be=p.media)!=null&&be.textTracks)&&(Oe||We),Ct=!!((Ee=p.media)!=null&&Ee.videoRenditions)&&(we||We),Et=!!((ge=p.media)!=null&&ge.audioTracks)&&(ue||We),Ut=!!((se=p.media)!=null&&se.remote)&&(ye||We),ir=!!p.documentElement&&(Le||We),on=gt||Ge||Ct||Et||Ut||ir;if(!(et||on)){Object.entries(p).forEach(([rn,wn])=>{u[rn]=wn}),f(),p=void 0;return}Object.entries(n).forEach(([rn,{get:wn,mediaEvents:Mn=[],textTracksEvents:dn=[],videoRenditionsEvents:pn=[],audioTracksEvents:mn=[],remoteEvents:Kn=[],rootEvents:Zn=[],stateOwnersUpdateHandlers:Li=[]}])=>{A[rn]||(A[rn]={});const ot=rr=>{const Ht=wn(u,rr);d({[rn]:Ht})};let Wt;Wt=A[rn].mediaEvents,Mn.forEach(rr=>{Wt&&He&&(u.media.removeEventListener(rr,Wt),A[rn].mediaEvents=void 0),gt&&(p.media.addEventListener(rr,ot),A[rn].mediaEvents=ot)}),Wt=A[rn].textTracksEvents,dn.forEach(rr=>{var Ht,fr;Wt&&Fe&&((Ht=u.media.textTracks)==null||Ht.removeEventListener(rr,Wt),A[rn].textTracksEvents=void 0),Ge&&((fr=p.media.textTracks)==null||fr.addEventListener(rr,ot),A[rn].textTracksEvents=ot)}),Wt=A[rn].videoRenditionsEvents,pn.forEach(rr=>{var Ht,fr;Wt&&At&&((Ht=u.media.videoRenditions)==null||Ht.removeEventListener(rr,Wt),A[rn].videoRenditionsEvents=void 0),Ct&&((fr=p.media.videoRenditions)==null||fr.addEventListener(rr,ot),A[rn].videoRenditionsEvents=ot)}),Wt=A[rn].audioTracksEvents,mn.forEach(rr=>{var Ht,fr;Wt&&pt&&((Ht=u.media.audioTracks)==null||Ht.removeEventListener(rr,Wt),A[rn].audioTracksEvents=void 0),Et&&((fr=p.media.audioTracks)==null||fr.addEventListener(rr,ot),A[rn].audioTracksEvents=ot)}),Wt=A[rn].remoteEvents,Kn.forEach(rr=>{var Ht,fr;Wt&&Pe&&((Ht=u.media.remote)==null||Ht.removeEventListener(rr,Wt),A[rn].remoteEvents=void 0),Ut&&((fr=p.media.remote)==null||fr.addEventListener(rr,ot),A[rn].remoteEvents=ot)}),Wt=A[rn].rootEvents,Zn.forEach(rr=>{Wt&&st&&(u.documentElement.removeEventListener(rr,Wt),A[rn].rootEvents=void 0),ir&&(p.documentElement.addEventListener(rr,ot),A[rn].rootEvents=ot)});const jr=A[rn].stateOwnersUpdateHandlers;if(jr&&et&&(Array.isArray(jr)?jr:[jr]).forEach(Ht=>{typeof Ht=="function"&&Ht()}),on){const rr=Li.map(Ht=>Ht(ot,p)).filter(Ht=>typeof Ht=="function");A[rn].stateOwnersUpdateHandlers=rr.length===1?rr[0]:rr}else et&&(A[rn].stateOwnersUpdateHandlers=void 0)}),Object.entries(p).forEach(([rn,wn])=>{u[rn]=wn}),f(),p=void 0};return v({media:t,fullscreenElement:e,documentElement:r,options:s}),{dispatch(y){const{type:x,detail:w}=y;if(i[x]&&l.mediaErrorCode==null){d(i[x](n,u,y));return}x==="mediaelementchangerequest"?v({media:w}):x==="fullscreenelementchangerequest"?v({fullscreenElement:w}):x==="documentelementchangerequest"?v({documentElement:w}):x==="optionschangerequest"&&(Object.entries(w??{}).forEach(([E,T])=>{u.options[E]=T}),f())},getState(){return l},subscribe(y){return v({},c.length+1),c.push(y),y(l),()=>{const x=c.indexOf(y);x>=0&&(v({},c.length-1),c.splice(x,1))}}}};var UF=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},os=(t,e,r)=>(UF(t,e,"read from private field"),r?r.call(t):e.get(t)),If=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},lm=(t,e,r,n)=>(UF(t,e,"write to private field"),e.set(t,r),r),bm=(t,e,r)=>(UF(t,e,"access private method"),r),c0,gw,Ga,Bv,vw,cm,oT,yw,lT,NP,Vv,ub,cT,kP,IP,dae;const hae=["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Enter"," ","f","m","k","c","l","j",">","<","p"],CG=10,jG=.025,NG=.25,Sze=.25,Tze=2,Nn={DEFAULT_SUBTITLES:"defaultsubtitles",DEFAULT_STREAM_TYPE:"defaultstreamtype",DEFAULT_DURATION:"defaultduration",FULLSCREEN_ELEMENT:"fullscreenelement",HOTKEYS:"hotkeys",KEYBOARD_BACKWARD_SEEK_OFFSET:"keyboardbackwardseekoffset",KEYBOARD_FORWARD_SEEK_OFFSET:"keyboardforwardseekoffset",KEYBOARD_DOWN_VOLUME_STEP:"keyboarddownvolumestep",KEYBOARD_UP_VOLUME_STEP:"keyboardupvolumestep",KEYS_USED:"keysused",LANG:"lang",LOOP:"loop",LIVE_EDGE_OFFSET:"liveedgeoffset",NO_AUTO_SEEK_TO_LIVE:"noautoseektolive",NO_DEFAULT_STORE:"nodefaultstore",NO_HOTKEYS:"nohotkeys",NO_MUTED_PREF:"nomutedpref",NO_SUBTITLES_LANG_PREF:"nosubtitleslangpref",NO_VOLUME_PREF:"novolumepref",SEEK_TO_LIVE_OFFSET:"seektoliveoffset"};class fae extends P5{constructor(){super(),If(this,lT),If(this,Vv),If(this,cT),If(this,IP),this.mediaStateReceivers=[],this.associatedElementSubscriptions=new Map,If(this,c0,new DF(this,Nn.HOTKEYS)),If(this,gw,void 0),If(this,Ga,void 0),If(this,Bv,null),If(this,vw,void 0),If(this,cm,void 0),If(this,oT,r=>{var n;(n=os(this,Ga))==null||n.dispatch(r)}),If(this,yw,void 0),this.associateElement(this);let e={};lm(this,vw,r=>{Object.entries(r).forEach(([n,i])=>{if(n in e&&e[n]===i)return;this.propagateMediaState(n,i);const s=n.toLowerCase(),a=new tr.CustomEvent(CVe[s],{composed:!0,detail:i});this.dispatchEvent(a)}),e=r}),this.hasAttribute(Nn.NO_HOTKEYS)?this.disableHotkeys():this.enableHotkeys()}static get observedAttributes(){return super.observedAttributes.concat(Nn.NO_HOTKEYS,Nn.HOTKEYS,Nn.DEFAULT_STREAM_TYPE,Nn.DEFAULT_SUBTITLES,Nn.DEFAULT_DURATION,Nn.NO_MUTED_PREF,Nn.NO_VOLUME_PREF,Nn.LANG,Nn.LOOP)}get mediaStore(){return os(this,Ga)}set mediaStore(e){var r,n;if(os(this,Ga)&&((r=os(this,cm))==null||r.call(this),lm(this,cm,void 0)),lm(this,Ga,e),!os(this,Ga)&&!this.hasAttribute(Nn.NO_DEFAULT_STORE)){bm(this,lT,NP).call(this);return}lm(this,cm,(n=os(this,Ga))==null?void 0:n.subscribe(os(this,vw)))}get fullscreenElement(){var e;return(e=os(this,gw))!=null?e:this}set fullscreenElement(e){var r;this.hasAttribute(Nn.FULLSCREEN_ELEMENT)&&this.removeAttribute(Nn.FULLSCREEN_ELEMENT),lm(this,gw,e),(r=os(this,Ga))==null||r.dispatch({type:"fullscreenelementchangerequest",detail:this.fullscreenElement})}get defaultSubtitles(){return Oa(this,Nn.DEFAULT_SUBTITLES)}set defaultSubtitles(e){Pa(this,Nn.DEFAULT_SUBTITLES,e)}get defaultStreamType(){return Cl(this,Nn.DEFAULT_STREAM_TYPE)}set defaultStreamType(e){jl(this,Nn.DEFAULT_STREAM_TYPE,e)}get defaultDuration(){return Tl(this,Nn.DEFAULT_DURATION)}set defaultDuration(e){Rc(this,Nn.DEFAULT_DURATION,e)}get noHotkeys(){return Oa(this,Nn.NO_HOTKEYS)}set noHotkeys(e){Pa(this,Nn.NO_HOTKEYS,e)}get keysUsed(){return Cl(this,Nn.KEYS_USED)}set keysUsed(e){jl(this,Nn.KEYS_USED,e)}get liveEdgeOffset(){return Tl(this,Nn.LIVE_EDGE_OFFSET)}set liveEdgeOffset(e){Rc(this,Nn.LIVE_EDGE_OFFSET,e)}get noAutoSeekToLive(){return Oa(this,Nn.NO_AUTO_SEEK_TO_LIVE)}set noAutoSeekToLive(e){Pa(this,Nn.NO_AUTO_SEEK_TO_LIVE,e)}get noVolumePref(){return Oa(this,Nn.NO_VOLUME_PREF)}set noVolumePref(e){Pa(this,Nn.NO_VOLUME_PREF,e)}get noMutedPref(){return Oa(this,Nn.NO_MUTED_PREF)}set noMutedPref(e){Pa(this,Nn.NO_MUTED_PREF,e)}get noSubtitlesLangPref(){return Oa(this,Nn.NO_SUBTITLES_LANG_PREF)}set noSubtitlesLangPref(e){Pa(this,Nn.NO_SUBTITLES_LANG_PREF,e)}get noDefaultStore(){return Oa(this,Nn.NO_DEFAULT_STORE)}set noDefaultStore(e){Pa(this,Nn.NO_DEFAULT_STORE,e)}attributeChangedCallback(e,r,n){var i,s,a,c,u,l,d,f,A,p,v,y;if(super.attributeChangedCallback(e,r,n),e===Nn.NO_HOTKEYS)n!==r&&n===""?(this.hasAttribute(Nn.HOTKEYS)&&console.warn("Media Chrome: Both `hotkeys` and `nohotkeys` have been set. All hotkeys will be disabled."),this.disableHotkeys()):n!==r&&n===null&&this.enableHotkeys();else if(e===Nn.HOTKEYS)os(this,c0).value=n;else if(e===Nn.DEFAULT_SUBTITLES&&n!==r)(i=os(this,Ga))==null||i.dispatch({type:"optionschangerequest",detail:{defaultSubtitles:this.hasAttribute(Nn.DEFAULT_SUBTITLES)}});else if(e===Nn.DEFAULT_STREAM_TYPE)(a=os(this,Ga))==null||a.dispatch({type:"optionschangerequest",detail:{defaultStreamType:(s=this.getAttribute(Nn.DEFAULT_STREAM_TYPE))!=null?s:void 0}});else if(e===Nn.LIVE_EDGE_OFFSET)(c=os(this,Ga))==null||c.dispatch({type:"optionschangerequest",detail:{liveEdgeOffset:this.hasAttribute(Nn.LIVE_EDGE_OFFSET)?+this.getAttribute(Nn.LIVE_EDGE_OFFSET):void 0,seekToLiveOffset:this.hasAttribute(Nn.SEEK_TO_LIVE_OFFSET)?void 0:+this.getAttribute(Nn.LIVE_EDGE_OFFSET)}});else if(e===Nn.SEEK_TO_LIVE_OFFSET)(u=os(this,Ga))==null||u.dispatch({type:"optionschangerequest",detail:{seekToLiveOffset:this.hasAttribute(Nn.SEEK_TO_LIVE_OFFSET)?+this.getAttribute(Nn.SEEK_TO_LIVE_OFFSET):void 0}});else if(e===Nn.NO_AUTO_SEEK_TO_LIVE)(l=os(this,Ga))==null||l.dispatch({type:"optionschangerequest",detail:{noAutoSeekToLive:this.hasAttribute(Nn.NO_AUTO_SEEK_TO_LIVE)}});else if(e===Nn.FULLSCREEN_ELEMENT){const x=n?(d=this.getRootNode())==null?void 0:d.getElementById(n):void 0;lm(this,gw,x),(f=os(this,Ga))==null||f.dispatch({type:"fullscreenelementchangerequest",detail:this.fullscreenElement})}else e===Nn.LANG&&n!==r?(UVe(n),(A=os(this,Ga))==null||A.dispatch({type:"optionschangerequest",detail:{mediaLang:n}})):e===Nn.LOOP&&n!==r?(p=os(this,Ga))==null||p.dispatch({type:zn.MEDIA_LOOP_REQUEST,detail:n!=null}):e===Nn.NO_VOLUME_PREF&&n!==r?(v=os(this,Ga))==null||v.dispatch({type:"optionschangerequest",detail:{noVolumePref:this.hasAttribute(Nn.NO_VOLUME_PREF)}}):e===Nn.NO_MUTED_PREF&&n!==r&&((y=os(this,Ga))==null||y.dispatch({type:"optionschangerequest",detail:{noMutedPref:this.hasAttribute(Nn.NO_MUTED_PREF)}}))}connectedCallback(){var e,r;!os(this,Ga)&&!this.hasAttribute(Nn.NO_DEFAULT_STORE)&&bm(this,lT,NP).call(this),(e=os(this,Ga))==null||e.dispatch({type:"documentelementchangerequest",detail:pu}),super.connectedCallback(),os(this,Ga)&&!os(this,cm)&&lm(this,cm,(r=os(this,Ga))==null?void 0:r.subscribe(os(this,vw))),os(this,yw)!==void 0&&os(this,Ga)&&this.media&&setTimeout(()=>{var n,i,s;(i=(n=this.media)==null?void 0:n.textTracks)!=null&&i.length&&((s=os(this,Ga))==null||s.dispatch({type:zn.MEDIA_TOGGLE_SUBTITLES_REQUEST,detail:os(this,yw)}))},0),this.hasAttribute(Nn.NO_HOTKEYS)?this.disableHotkeys():this.enableHotkeys()}disconnectedCallback(){var e,r,n,i,s;if((e=super.disconnectedCallback)==null||e.call(this),os(this,Ga)){const a=os(this,Ga).getState();lm(this,yw,!!((r=a.mediaSubtitlesShowing)!=null&&r.length)),(n=os(this,Ga))==null||n.dispatch({type:"documentelementchangerequest",detail:void 0}),(i=os(this,Ga))==null||i.dispatch({type:zn.MEDIA_TOGGLE_SUBTITLES_REQUEST,detail:!1})}os(this,cm)&&((s=os(this,cm))==null||s.call(this),lm(this,cm,void 0))}mediaSetCallback(e){var r;super.mediaSetCallback(e),(r=os(this,Ga))==null||r.dispatch({type:"mediaelementchangerequest",detail:e}),e.hasAttribute("tabindex")||(e.tabIndex=-1)}mediaUnsetCallback(e){var r;super.mediaUnsetCallback(e),(r=os(this,Ga))==null||r.dispatch({type:"mediaelementchangerequest",detail:void 0})}propagateMediaState(e,r){LG(this.mediaStateReceivers,e,r)}associateElement(e){if(!e)return;const{associatedElementSubscriptions:r}=this;if(r.has(e))return;const n=this.registerMediaStateReceiver.bind(this),i=this.unregisterMediaStateReceiver.bind(this),s=Lze(e,n,i);Object.values(zn).forEach(a=>{e.addEventListener(a,os(this,oT))}),r.set(e,s)}unassociateElement(e){if(!e)return;const{associatedElementSubscriptions:r}=this;if(!r.has(e))return;r.get(e)(),r.delete(e),Object.values(zn).forEach(i=>{e.removeEventListener(i,os(this,oT))})}registerMediaStateReceiver(e){if(!e)return;const r=this.mediaStateReceivers;r.indexOf(e)>-1||(r.push(e),os(this,Ga)&&Object.entries(os(this,Ga).getState()).forEach(([i,s])=>{LG([e],i,s)}))}unregisterMediaStateReceiver(e){const r=this.mediaStateReceivers,n=r.indexOf(e);n<0||r.splice(n,1)}enableHotkeys(){this.addEventListener("keydown",bm(this,cT,kP))}disableHotkeys(){this.removeEventListener("keydown",bm(this,cT,kP)),this.removeEventListener("keyup",bm(this,Vv,ub))}get hotkeys(){return Cl(this,Nn.HOTKEYS)}set hotkeys(e){jl(this,Nn.HOTKEYS,e)}keyboardShortcutHandler(e){var r,n,i,s,a,c,u,l,d;const f=e.target;if(((i=(n=(r=f.getAttribute(Nn.KEYS_USED))==null?void 0:r.split(" "))!=null?n:f?.keysUsed)!=null?i:[]).map(w=>w==="Space"?" ":w).filter(Boolean).includes(e.key))return;let p,v,y;if(!(os(this,c0).contains(`no${e.key.toLowerCase()}`)||e.key===" "&&os(this,c0).contains("nospace")||e.shiftKey&&(e.key==="/"||e.key==="?")&&os(this,c0).contains("noshift+/")))switch(e.key){case" ":case"k":p=os(this,Ga).getState().mediaPaused?zn.MEDIA_PLAY_REQUEST:zn.MEDIA_PAUSE_REQUEST,this.dispatchEvent(new tr.CustomEvent(p,{composed:!0,bubbles:!0}));break;case"m":p=this.mediaStore.getState().mediaVolumeLevel==="off"?zn.MEDIA_UNMUTE_REQUEST:zn.MEDIA_MUTE_REQUEST,this.dispatchEvent(new tr.CustomEvent(p,{composed:!0,bubbles:!0}));break;case"f":p=this.mediaStore.getState().mediaIsFullscreen?zn.MEDIA_EXIT_FULLSCREEN_REQUEST:zn.MEDIA_ENTER_FULLSCREEN_REQUEST,this.dispatchEvent(new tr.CustomEvent(p,{composed:!0,bubbles:!0}));break;case"c":this.dispatchEvent(new tr.CustomEvent(zn.MEDIA_TOGGLE_SUBTITLES_REQUEST,{composed:!0,bubbles:!0}));break;case"ArrowLeft":case"j":{const w=this.hasAttribute(Nn.KEYBOARD_BACKWARD_SEEK_OFFSET)?+this.getAttribute(Nn.KEYBOARD_BACKWARD_SEEK_OFFSET):CG;v=Math.max(((s=this.mediaStore.getState().mediaCurrentTime)!=null?s:0)-w,0),y=new tr.CustomEvent(zn.MEDIA_SEEK_REQUEST,{composed:!0,bubbles:!0,detail:v}),this.dispatchEvent(y);break}case"ArrowRight":case"l":{const w=this.hasAttribute(Nn.KEYBOARD_FORWARD_SEEK_OFFSET)?+this.getAttribute(Nn.KEYBOARD_FORWARD_SEEK_OFFSET):CG;v=Math.max(((a=this.mediaStore.getState().mediaCurrentTime)!=null?a:0)+w,0),y=new tr.CustomEvent(zn.MEDIA_SEEK_REQUEST,{composed:!0,bubbles:!0,detail:v}),this.dispatchEvent(y);break}case"ArrowUp":{const w=this.hasAttribute(Nn.KEYBOARD_UP_VOLUME_STEP)?+this.getAttribute(Nn.KEYBOARD_UP_VOLUME_STEP):jG;v=Math.min(((c=this.mediaStore.getState().mediaVolume)!=null?c:1)+w,1),y=new tr.CustomEvent(zn.MEDIA_VOLUME_REQUEST,{composed:!0,bubbles:!0,detail:v}),this.dispatchEvent(y);break}case"ArrowDown":{const w=this.hasAttribute(Nn.KEYBOARD_DOWN_VOLUME_STEP)?+this.getAttribute(Nn.KEYBOARD_DOWN_VOLUME_STEP):jG;v=Math.max(((u=this.mediaStore.getState().mediaVolume)!=null?u:1)-w,0),y=new tr.CustomEvent(zn.MEDIA_VOLUME_REQUEST,{composed:!0,bubbles:!0,detail:v}),this.dispatchEvent(y);break}case"<":{const w=(l=this.mediaStore.getState().mediaPlaybackRate)!=null?l:1;v=Math.max(w-NG,Sze).toFixed(2),y=new tr.CustomEvent(zn.MEDIA_PLAYBACK_RATE_REQUEST,{composed:!0,bubbles:!0,detail:v}),this.dispatchEvent(y);break}case">":{const w=(d=this.mediaStore.getState().mediaPlaybackRate)!=null?d:1;v=Math.min(w+NG,Tze).toFixed(2),y=new tr.CustomEvent(zn.MEDIA_PLAYBACK_RATE_REQUEST,{composed:!0,bubbles:!0,detail:v}),this.dispatchEvent(y);break}case"/":case"?":{e.shiftKey&&bm(this,IP,dae).call(this);break}case"p":{p=this.mediaStore.getState().mediaIsPip?zn.MEDIA_EXIT_PIP_REQUEST:zn.MEDIA_ENTER_PIP_REQUEST,y=new tr.CustomEvent(p,{composed:!0,bubbles:!0}),this.dispatchEvent(y);break}}}}c0=new WeakMap;gw=new WeakMap;Ga=new WeakMap;Bv=new WeakMap;vw=new WeakMap;cm=new WeakMap;oT=new WeakMap;yw=new WeakMap;lT=new WeakSet;NP=function(){var t;this.mediaStore=_ze({media:this.media,fullscreenElement:this.fullscreenElement,options:{defaultSubtitles:this.hasAttribute(Nn.DEFAULT_SUBTITLES),defaultDuration:this.hasAttribute(Nn.DEFAULT_DURATION)?+this.getAttribute(Nn.DEFAULT_DURATION):void 0,defaultStreamType:(t=this.getAttribute(Nn.DEFAULT_STREAM_TYPE))!=null?t:void 0,liveEdgeOffset:this.hasAttribute(Nn.LIVE_EDGE_OFFSET)?+this.getAttribute(Nn.LIVE_EDGE_OFFSET):void 0,seekToLiveOffset:this.hasAttribute(Nn.SEEK_TO_LIVE_OFFSET)?+this.getAttribute(Nn.SEEK_TO_LIVE_OFFSET):this.hasAttribute(Nn.LIVE_EDGE_OFFSET)?+this.getAttribute(Nn.LIVE_EDGE_OFFSET):void 0,noAutoSeekToLive:this.hasAttribute(Nn.NO_AUTO_SEEK_TO_LIVE),noVolumePref:this.hasAttribute(Nn.NO_VOLUME_PREF),noMutedPref:this.hasAttribute(Nn.NO_MUTED_PREF),noSubtitlesLangPref:this.hasAttribute(Nn.NO_SUBTITLES_LANG_PREF)}})};Vv=new WeakSet;ub=function(t){const{key:e,shiftKey:r}=t;if(!(r&&(e==="/"||e==="?")||hae.includes(e))){this.removeEventListener("keyup",bm(this,Vv,ub));return}this.keyboardShortcutHandler(t)};cT=new WeakSet;kP=function(t){var e;const{metaKey:r,altKey:n,key:i,shiftKey:s}=t,a=s&&(i==="/"||i==="?");if(a&&((e=os(this,Bv))!=null&&e.open)){this.removeEventListener("keyup",bm(this,Vv,ub));return}if(r||n||!a&&!hae.includes(i)){this.removeEventListener("keyup",bm(this,Vv,ub));return}const c=t.target,u=c instanceof HTMLElement&&(c.tagName.toLowerCase()==="media-volume-range"||c.tagName.toLowerCase()==="media-time-range");[" ","ArrowLeft","ArrowRight","ArrowUp","ArrowDown"].includes(i)&&!(os(this,c0).contains(`no${i.toLowerCase()}`)||i===" "&&os(this,c0).contains("nospace"))&&!u&&t.preventDefault(),this.addEventListener("keyup",bm(this,Vv,ub),{once:!0})};IP=new WeakSet;dae=function(){os(this,Bv)||(lm(this,Bv,pu.createElement("media-keyboard-shortcuts-dialog")),this.appendChild(os(this,Bv))),os(this,Bv).open=!0};const Cze=Object.values(ht),jze=Object.values(Mse),Aae=t=>{var e,r,n,i;let{observedAttributes:s}=t.constructor;!s&&((e=t.nodeName)!=null&&e.includes("-"))&&(tr.customElements.upgrade(t),{observedAttributes:s}=t.constructor);const a=(i=(n=(r=t?.getAttribute)==null?void 0:r.call(t,Ao.MEDIA_CHROME_ATTRIBUTES))==null?void 0:n.split)==null?void 0:i.call(n,/\s+/);return Array.isArray(s||a)?(s||a).filter(c=>Cze.includes(c)):[]},Nze=t=>{var e,r;return(e=t.nodeName)!=null&&e.includes("-")&&tr.customElements.get((r=t.nodeName)==null?void 0:r.toLowerCase())&&!(t instanceof tr.customElements.get(t.nodeName.toLowerCase()))&&tr.customElements.upgrade(t),jze.some(n=>n in t)},LP=t=>Nze(t)||!!Aae(t).length,kG=t=>{var e;return(e=t?.join)==null?void 0:e.call(t,":")},IG={[ht.MEDIA_SUBTITLES_LIST]:KE,[ht.MEDIA_SUBTITLES_SHOWING]:KE,[ht.MEDIA_SEEKABLE]:kG,[ht.MEDIA_BUFFERED]:t=>t?.map(kG).join(" "),[ht.MEDIA_PREVIEW_COORDS]:t=>t?.join(" "),[ht.MEDIA_RENDITION_LIST]:NVe,[ht.MEDIA_AUDIO_TRACK_LIST]:BVe},kze=async(t,e,r)=>{var n,i;if(t.isConnected||await $se(0),typeof r=="boolean"||r==null)return Pa(t,e,r);if(typeof r=="number")return Rc(t,e,r);if(typeof r=="string")return jl(t,e,r);if(Array.isArray(r)&&!r.length)return t.removeAttribute(e);const s=(i=(n=IG[e])==null?void 0:n.call(IG,r))!=null?i:r;return t.setAttribute(e,s)},Ize=t=>{var e;return!!((e=t.closest)!=null&&e.call(t,'*[slot="media"]'))},hv=(t,e)=>{if(Ize(t))return;const r=(i,s)=>{var a,c;LP(i)&&s(i);const{children:u=[]}=i??{},l=(c=(a=i?.shadowRoot)==null?void 0:a.children)!=null?c:[];[...u,...l].forEach(f=>hv(f,s))},n=t?.nodeName.toLowerCase();if(n.includes("-")&&!LP(t)){tr.customElements.whenDefined(n).then(()=>{r(t,e)});return}r(t,e)},LG=(t,e,r)=>{t.forEach(n=>{if(e in n){n[e]=r;return}const i=Aae(n),s=e.toLowerCase();i.includes(s)&&kze(n,s,r)})},Lze=(t,e,r)=>{hv(t,e);const n=d=>{var f;const A=(f=d?.composedPath()[0])!=null?f:d.target;e(A)},i=d=>{var f;const A=(f=d?.composedPath()[0])!=null?f:d.target;r(A)};t.addEventListener(zn.REGISTER_MEDIA_STATE_RECEIVER,n),t.addEventListener(zn.UNREGISTER_MEDIA_STATE_RECEIVER,i);const s=d=>{d.forEach(f=>{const{addedNodes:A=[],removedNodes:p=[],type:v,target:y,attributeName:x}=f;v==="childList"?(Array.prototype.forEach.call(A,w=>hv(w,e)),Array.prototype.forEach.call(p,w=>hv(w,r))):v==="attributes"&&x===Ao.MEDIA_CHROME_ATTRIBUTES&&(LP(y)?e(y):r(y))})};let a=[];const c=d=>{const f=d.target;f.name!=="media"&&(a.forEach(A=>hv(A,r)),a=[...f.assignedElements({flatten:!0})],a.forEach(A=>hv(A,e)))};t.addEventListener("slotchange",c);const u=new MutationObserver(s);return u.observe(t,{childList:!0,attributes:!0,subtree:!0}),()=>{hv(t,r),t.removeEventListener("slotchange",c),u.disconnect(),t.removeEventListener(zn.REGISTER_MEDIA_STATE_RECEIVER,n),t.removeEventListener(zn.UNREGISTER_MEDIA_STATE_RECEIVER,i)}};tr.customElements.get("media-controller")||tr.customElements.define("media-controller",fae);var Bze=fae;const tx={PLACEMENT:"placement",BOUNDS:"bounds"};function Oze(t){return`
    <style>
      :host {
        --_tooltip-background-color: var(--media-tooltip-background-color, var(--media-secondary-color, rgba(20, 20, 30, .7)));
        --_tooltip-background: var(--media-tooltip-background, var(--_tooltip-background-color));
        --_tooltip-arrow-half-width: calc(var(--media-tooltip-arrow-width, 12px) / 2);
        --_tooltip-arrow-height: var(--media-tooltip-arrow-height, 5px);
        --_tooltip-arrow-background: var(--media-tooltip-arrow-color, var(--_tooltip-background-color));
        position: relative;
        pointer-events: none;
        display: var(--media-tooltip-display, inline-flex);
        justify-content: center;
        align-items: center;
        box-sizing: border-box;
        z-index: var(--media-tooltip-z-index, 1);
        background: var(--_tooltip-background);
        color: var(--media-text-color, var(--media-primary-color, rgb(238 238 238)));
        font: var(--media-font,
          var(--media-font-weight, 400)
          var(--media-font-size, 13px) /
          var(--media-text-content-height, var(--media-control-height, 18px))
          var(--media-font-family, helvetica neue, segoe ui, roboto, arial, sans-serif));
        padding: var(--media-tooltip-padding, .35em .7em);
        border: var(--media-tooltip-border, none);
        border-radius: var(--media-tooltip-border-radius, 5px);
        filter: var(--media-tooltip-filter, drop-shadow(0 0 4px rgba(0, 0, 0, .2)));
        white-space: var(--media-tooltip-white-space, nowrap);
      }

      :host([hidden]) {
        display: none;
      }

      img, svg {
        display: inline-block;
      }

      #arrow {
        position: absolute;
        width: 0px;
        height: 0px;
        border-style: solid;
        display: var(--media-tooltip-arrow-display, block);
      }

      :host(:not([placement])),
      :host([placement="top"]) {
        position: absolute;
        bottom: calc(100% + var(--media-tooltip-distance, 12px));
        left: 50%;
        transform: translate(calc(-50% - var(--media-tooltip-offset-x, 0px)), 0);
      }
      :host(:not([placement])) #arrow,
      :host([placement="top"]) #arrow {
        top: 100%;
        left: 50%;
        border-width: var(--_tooltip-arrow-height) var(--_tooltip-arrow-half-width) 0 var(--_tooltip-arrow-half-width);
        border-color: var(--_tooltip-arrow-background) transparent transparent transparent;
        transform: translate(calc(-50% + var(--media-tooltip-offset-x, 0px)), 0);
      }

      :host([placement="right"]) {
        position: absolute;
        left: calc(100% + var(--media-tooltip-distance, 12px));
        top: 50%;
        transform: translate(0, -50%);
      }
      :host([placement="right"]) #arrow {
        top: 50%;
        right: 100%;
        border-width: var(--_tooltip-arrow-half-width) var(--_tooltip-arrow-height) var(--_tooltip-arrow-half-width) 0;
        border-color: transparent var(--_tooltip-arrow-background) transparent transparent;
        transform: translate(0, -50%);
      }

      :host([placement="bottom"]) {
        position: absolute;
        top: calc(100% + var(--media-tooltip-distance, 12px));
        left: 50%;
        transform: translate(calc(-50% - var(--media-tooltip-offset-x, 0px)), 0);
      }
      :host([placement="bottom"]) #arrow {
        bottom: 100%;
        left: 50%;
        border-width: 0 var(--_tooltip-arrow-half-width) var(--_tooltip-arrow-height) var(--_tooltip-arrow-half-width);
        border-color: transparent transparent var(--_tooltip-arrow-background) transparent;
        transform: translate(calc(-50% + var(--media-tooltip-offset-x, 0px)), 0);
      }

      :host([placement="left"]) {
        position: absolute;
        right: calc(100% + var(--media-tooltip-distance, 12px));
        top: 50%;
        transform: translate(0, -50%);
      }
      :host([placement="left"]) #arrow {
        top: 50%;
        left: 100%;
        border-width: var(--_tooltip-arrow-half-width) 0 var(--_tooltip-arrow-half-width) var(--_tooltip-arrow-height);
        border-color: transparent transparent transparent var(--_tooltip-arrow-background);
        transform: translate(0, -50%);
      }
      
      :host([placement="none"]) #arrow {
        display: none;
      }
    </style>
    <slot></slot>
    <div id="arrow"></div>
  `}class M5 extends tr.HTMLElement{constructor(){if(super(),this.updateXOffset=()=>{var e;if(!qse(this,{checkOpacity:!1,checkVisibilityCSS:!1}))return;const r=this.placement;if(r==="left"||r==="right"){this.style.removeProperty("--media-tooltip-offset-x");return}const n=getComputedStyle(this),i=(e=o1(this,"#"+this.bounds))!=null?e:Rh(this);if(!i)return;const{x:s,width:a}=i.getBoundingClientRect(),{x:c,width:u}=this.getBoundingClientRect(),l=c+u,d=s+a,f=n.getPropertyValue("--media-tooltip-offset-x"),A=f?parseFloat(f.replace("px","")):0,p=n.getPropertyValue("--media-tooltip-container-margin"),v=p?parseFloat(p.replace("px","")):0,y=c-s+A-v,x=l-d+A+v;if(y<0){this.style.setProperty("--media-tooltip-offset-x",`${y}px`);return}if(x>0){this.style.setProperty("--media-tooltip-offset-x",`${x}px`);return}this.style.removeProperty("--media-tooltip-offset-x")},!this.shadowRoot){this.attachShadow(this.constructor.shadowRootOptions);const e=yf(this.attributes);this.shadowRoot.innerHTML=this.constructor.getTemplateHTML(e)}if(this.arrowEl=this.shadowRoot.querySelector("#arrow"),Object.prototype.hasOwnProperty.call(this,"placement")){const e=this.placement;delete this.placement,this.placement=e}}static get observedAttributes(){return[tx.PLACEMENT,tx.BOUNDS]}get placement(){return Cl(this,tx.PLACEMENT)}set placement(e){jl(this,tx.PLACEMENT,e)}get bounds(){return Cl(this,tx.BOUNDS)}set bounds(e){jl(this,tx.BOUNDS,e)}}M5.shadowRootOptions={mode:"open"};M5.getTemplateHTML=Oze;tr.customElements.get("media-tooltip")||tr.customElements.define("media-tooltip",M5);var BG=M5,$F=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},uu=(t,e,r)=>($F(t,e,"read from private field"),r?r.call(t):e.get(t)),rx=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},dS=(t,e,r,n)=>($F(t,e,"write to private field"),e.set(t,r),r),Pze=(t,e,r)=>($F(t,e,"access private method"),r),um,Yx,u0,xx,uT,BP,mae;const $g={TOOLTIP_PLACEMENT:"tooltipplacement",DISABLED:"disabled",NO_TOOLTIP:"notooltip"};function Rze(t,e={}){return`
    <style>
      :host {
        position: relative;
        font: var(--media-font,
          var(--media-font-weight, bold)
          var(--media-font-size, 14px) /
          var(--media-text-content-height, var(--media-control-height, 24px))
          var(--media-font-family, helvetica neue, segoe ui, roboto, arial, sans-serif));
        color: var(--media-text-color, var(--media-primary-color, rgb(238 238 238)));
        background: var(--media-control-background, var(--media-secondary-color, rgb(20 20 30 / .7)));
        padding: var(--media-button-padding, var(--media-control-padding, 10px));
        justify-content: var(--media-button-justify-content, center);
        display: inline-flex;
        align-items: center;
        vertical-align: middle;
        box-sizing: border-box;
        transition: background .15s linear;
        pointer-events: auto;
        cursor: var(--media-cursor, pointer);
        -webkit-tap-highlight-color: transparent;
      }

      
      :host(:focus-visible) {
        box-shadow: var(--media-focus-box-shadow, inset 0 0 0 2px rgb(27 127 204 / .9));
        outline: 0;
      }
      
      :host(:where(:focus)) {
        box-shadow: none;
        outline: 0;
      }

      :host(:hover) {
        background: var(--media-control-hover-background, rgba(50 50 70 / .7));
      }

      svg, img, ::slotted(svg), ::slotted(img) {
        width: var(--media-button-icon-width);
        height: var(--media-button-icon-height, var(--media-control-height, 24px));
        transform: var(--media-button-icon-transform);
        transition: var(--media-button-icon-transition);
        fill: var(--media-icon-color, var(--media-primary-color, rgb(238 238 238)));
        vertical-align: middle;
        max-width: 100%;
        max-height: 100%;
        min-width: 100%;
      }

      media-tooltip {
        
        max-width: 0;
        overflow-x: clip;
        opacity: 0;
        transition: opacity .3s, max-width 0s 9s;
      }

      :host(:hover) media-tooltip,
      :host(:focus-visible) media-tooltip {
        max-width: 100vw;
        opacity: 1;
        transition: opacity .3s;
      }

      :host([notooltip]) slot[name="tooltip"] {
        display: none;
      }
    </style>

    ${this.getSlotTemplateHTML(t,e)}

    <slot name="tooltip">
      <media-tooltip part="tooltip" aria-hidden="true">
        <template shadowrootmode="${BG.shadowRootOptions.mode}">
          ${BG.getTemplateHTML({})}
        </template>
        <slot name="tooltip-content">
          ${this.getTooltipContentHTML(t)}
        </slot>
      </media-tooltip>
    </slot>
  `}function Dze(t,e){return`
    <slot></slot>
  `}function Mze(){return""}class pd extends tr.HTMLElement{constructor(){if(super(),rx(this,BP),rx(this,um,void 0),this.preventClick=!1,this.tooltipEl=null,rx(this,Yx,e=>{this.preventClick||this.handleClick(e),setTimeout(uu(this,u0),0)}),rx(this,u0,()=>{var e,r;(r=(e=this.tooltipEl)==null?void 0:e.updateXOffset)==null||r.call(e)}),rx(this,xx,e=>{const{key:r}=e;if(!this.keysUsed.includes(r)){this.removeEventListener("keyup",uu(this,xx));return}this.preventClick||this.handleClick(e)}),rx(this,uT,e=>{const{metaKey:r,altKey:n,key:i}=e;if(r||n||!this.keysUsed.includes(i)){this.removeEventListener("keyup",uu(this,xx));return}this.addEventListener("keyup",uu(this,xx),{once:!0})}),!this.shadowRoot){this.attachShadow(this.constructor.shadowRootOptions);const e=yf(this.attributes),r=this.constructor.getTemplateHTML(e);this.shadowRoot.setHTMLUnsafe?this.shadowRoot.setHTMLUnsafe(r):this.shadowRoot.innerHTML=r}this.tooltipEl=this.shadowRoot.querySelector("media-tooltip")}static get observedAttributes(){return["disabled",$g.TOOLTIP_PLACEMENT,Ao.MEDIA_CONTROLLER,ht.MEDIA_LANG]}enable(){this.addEventListener("click",uu(this,Yx)),this.addEventListener("keydown",uu(this,uT)),this.tabIndex=0}disable(){this.removeEventListener("click",uu(this,Yx)),this.removeEventListener("keydown",uu(this,uT)),this.removeEventListener("keyup",uu(this,xx)),this.tabIndex=-1}attributeChangedCallback(e,r,n){var i,s,a,c,u;e===Ao.MEDIA_CONTROLLER?(r&&((s=(i=uu(this,um))==null?void 0:i.unassociateElement)==null||s.call(i,this),dS(this,um,null)),n&&this.isConnected&&(dS(this,um,(a=this.getRootNode())==null?void 0:a.getElementById(n)),(u=(c=uu(this,um))==null?void 0:c.associateElement)==null||u.call(c,this))):e==="disabled"&&n!==r?n==null?this.enable():this.disable():e===$g.TOOLTIP_PLACEMENT&&this.tooltipEl&&n!==r?this.tooltipEl.placement=n:e===ht.MEDIA_LANG&&(this.shadowRoot.querySelector('slot[name="tooltip-content"]').innerHTML=this.constructor.getTooltipContentHTML()),uu(this,u0).call(this)}connectedCallback(){var e,r,n;const{style:i}=Mu(this.shadowRoot,":host");i.setProperty("display",`var(--media-control-display, var(--${this.localName}-display, inline-flex))`),this.hasAttribute("disabled")?this.disable():this.enable(),this.setAttribute("role","button");const s=this.getAttribute(Ao.MEDIA_CONTROLLER);s&&(dS(this,um,(e=this.getRootNode())==null?void 0:e.getElementById(s)),(n=(r=uu(this,um))==null?void 0:r.associateElement)==null||n.call(r,this)),tr.customElements.whenDefined("media-tooltip").then(()=>Pze(this,BP,mae).call(this))}disconnectedCallback(){var e,r;this.disable(),(r=(e=uu(this,um))==null?void 0:e.unassociateElement)==null||r.call(e,this),dS(this,um,null),this.removeEventListener("mouseenter",uu(this,u0)),this.removeEventListener("focus",uu(this,u0)),this.removeEventListener("click",uu(this,Yx))}get keysUsed(){return["Enter"," "]}get tooltipPlacement(){return Cl(this,$g.TOOLTIP_PLACEMENT)}set tooltipPlacement(e){jl(this,$g.TOOLTIP_PLACEMENT,e)}get mediaController(){return Cl(this,Ao.MEDIA_CONTROLLER)}set mediaController(e){jl(this,Ao.MEDIA_CONTROLLER,e)}get disabled(){return Oa(this,$g.DISABLED)}set disabled(e){Pa(this,$g.DISABLED,e)}get noTooltip(){return Oa(this,$g.NO_TOOLTIP)}set noTooltip(e){Pa(this,$g.NO_TOOLTIP,e)}handleClick(e){}}um=new WeakMap;Yx=new WeakMap;u0=new WeakMap;xx=new WeakMap;uT=new WeakMap;BP=new WeakSet;mae=function(){this.addEventListener("mouseenter",uu(this,u0)),this.addEventListener("focus",uu(this,u0)),this.addEventListener("click",uu(this,Yx));const t=this.tooltipPlacement;t&&this.tooltipEl&&(this.tooltipEl.placement=t)};pd.shadowRootOptions={mode:"open"};pd.getTemplateHTML=Rze;pd.getSlotTemplateHTML=Dze;pd.getTooltipContentHTML=Mze;tr.customElements.get("media-chrome-button")||tr.customElements.define("media-chrome-button",pd);const OG=`<svg aria-hidden="true" viewBox="0 0 26 24">
  <path d="M22.13 3H3.87a.87.87 0 0 0-.87.87v13.26a.87.87 0 0 0 .87.87h3.4L9 16H5V5h16v11h-4l1.72 2h3.4a.87.87 0 0 0 .87-.87V3.87a.87.87 0 0 0-.86-.87Zm-8.75 11.44a.5.5 0 0 0-.76 0l-4.91 5.73a.5.5 0 0 0 .38.83h9.82a.501.501 0 0 0 .38-.83l-4.91-5.73Z"/>
</svg>
`;function Fze(t){return`
    <style>
      :host([${ht.MEDIA_IS_AIRPLAYING}]) slot[name=icon] slot:not([name=exit]) {
        display: none !important;
      }

      
      :host(:not([${ht.MEDIA_IS_AIRPLAYING}])) slot[name=icon] slot:not([name=enter]) {
        display: none !important;
      }

      :host([${ht.MEDIA_IS_AIRPLAYING}]) slot[name=tooltip-enter],
      :host(:not([${ht.MEDIA_IS_AIRPLAYING}])) slot[name=tooltip-exit] {
        display: none;
      }
    </style>

    <slot name="icon">
      <slot name="enter">${OG}</slot>
      <slot name="exit">${OG}</slot>
    </slot>
  `}function Uze(){return`
    <slot name="tooltip-enter">${mi("start airplay")}</slot>
    <slot name="tooltip-exit">${mi("stop airplay")}</slot>
  `}const PG=t=>{const e=t.mediaIsAirplaying?mi("stop airplay"):mi("start airplay");t.setAttribute("aria-label",e)};class HF extends pd{static get observedAttributes(){return[...super.observedAttributes,ht.MEDIA_IS_AIRPLAYING,ht.MEDIA_AIRPLAY_UNAVAILABLE]}connectedCallback(){super.connectedCallback(),PG(this)}attributeChangedCallback(e,r,n){super.attributeChangedCallback(e,r,n),e===ht.MEDIA_IS_AIRPLAYING&&PG(this)}get mediaIsAirplaying(){return Oa(this,ht.MEDIA_IS_AIRPLAYING)}set mediaIsAirplaying(e){Pa(this,ht.MEDIA_IS_AIRPLAYING,e)}get mediaAirplayUnavailable(){return Cl(this,ht.MEDIA_AIRPLAY_UNAVAILABLE)}set mediaAirplayUnavailable(e){jl(this,ht.MEDIA_AIRPLAY_UNAVAILABLE,e)}handleClick(){const e=new tr.CustomEvent(zn.MEDIA_AIRPLAY_REQUEST,{composed:!0,bubbles:!0});this.dispatchEvent(e)}}HF.getSlotTemplateHTML=Fze;HF.getTooltipContentHTML=Uze;tr.customElements.get("media-airplay-button")||tr.customElements.define("media-airplay-button",HF);const $ze=`<svg aria-hidden="true" viewBox="0 0 26 24">
  <path d="M22.83 5.68a2.58 2.58 0 0 0-2.3-2.5c-3.62-.24-11.44-.24-15.06 0a2.58 2.58 0 0 0-2.3 2.5c-.23 4.21-.23 8.43 0 12.64a2.58 2.58 0 0 0 2.3 2.5c3.62.24 11.44.24 15.06 0a2.58 2.58 0 0 0 2.3-2.5c.23-4.21.23-8.43 0-12.64Zm-11.39 9.45a3.07 3.07 0 0 1-1.91.57 3.06 3.06 0 0 1-2.34-1 3.75 3.75 0 0 1-.92-2.67 3.92 3.92 0 0 1 .92-2.77 3.18 3.18 0 0 1 2.43-1 2.94 2.94 0 0 1 2.13.78c.364.359.62.813.74 1.31l-1.43.35a1.49 1.49 0 0 0-1.51-1.17 1.61 1.61 0 0 0-1.29.58 2.79 2.79 0 0 0-.5 1.89 3 3 0 0 0 .49 1.93 1.61 1.61 0 0 0 1.27.58 1.48 1.48 0 0 0 1-.37 2.1 2.1 0 0 0 .59-1.14l1.4.44a3.23 3.23 0 0 1-1.07 1.69Zm7.22 0a3.07 3.07 0 0 1-1.91.57 3.06 3.06 0 0 1-2.34-1 3.75 3.75 0 0 1-.92-2.67 3.88 3.88 0 0 1 .93-2.77 3.14 3.14 0 0 1 2.42-1 3 3 0 0 1 2.16.82 2.8 2.8 0 0 1 .73 1.31l-1.43.35a1.49 1.49 0 0 0-1.51-1.21 1.61 1.61 0 0 0-1.29.58A2.79 2.79 0 0 0 15 12a3 3 0 0 0 .49 1.93 1.61 1.61 0 0 0 1.27.58 1.44 1.44 0 0 0 1-.37 2.1 2.1 0 0 0 .6-1.15l1.4.44a3.17 3.17 0 0 1-1.1 1.7Z"/>
</svg>`,Hze=`<svg aria-hidden="true" viewBox="0 0 26 24">
  <path d="M17.73 14.09a1.4 1.4 0 0 1-1 .37 1.579 1.579 0 0 1-1.27-.58A3 3 0 0 1 15 12a2.8 2.8 0 0 1 .5-1.85 1.63 1.63 0 0 1 1.29-.57 1.47 1.47 0 0 1 1.51 1.2l1.43-.34A2.89 2.89 0 0 0 19 9.07a3 3 0 0 0-2.14-.78 3.14 3.14 0 0 0-2.42 1 3.91 3.91 0 0 0-.93 2.78 3.74 3.74 0 0 0 .92 2.66 3.07 3.07 0 0 0 2.34 1 3.07 3.07 0 0 0 1.91-.57 3.17 3.17 0 0 0 1.07-1.74l-1.4-.45c-.083.43-.3.822-.62 1.12Zm-7.22 0a1.43 1.43 0 0 1-1 .37 1.58 1.58 0 0 1-1.27-.58A3 3 0 0 1 7.76 12a2.8 2.8 0 0 1 .5-1.85 1.63 1.63 0 0 1 1.29-.57 1.47 1.47 0 0 1 1.51 1.2l1.43-.34a2.81 2.81 0 0 0-.74-1.32 2.94 2.94 0 0 0-2.13-.78 3.18 3.18 0 0 0-2.43 1 4 4 0 0 0-.92 2.78 3.74 3.74 0 0 0 .92 2.66 3.07 3.07 0 0 0 2.34 1 3.07 3.07 0 0 0 1.91-.57 3.23 3.23 0 0 0 1.07-1.74l-1.4-.45a2.06 2.06 0 0 1-.6 1.07Zm12.32-8.41a2.59 2.59 0 0 0-2.3-2.51C18.72 3.05 15.86 3 13 3c-2.86 0-5.72.05-7.53.17a2.59 2.59 0 0 0-2.3 2.51c-.23 4.207-.23 8.423 0 12.63a2.57 2.57 0 0 0 2.3 2.5c1.81.13 4.67.19 7.53.19 2.86 0 5.72-.06 7.53-.19a2.57 2.57 0 0 0 2.3-2.5c.23-4.207.23-8.423 0-12.63Zm-1.49 12.53a1.11 1.11 0 0 1-.91 1.11c-1.67.11-4.45.18-7.43.18-2.98 0-5.76-.07-7.43-.18a1.11 1.11 0 0 1-.91-1.11c-.21-4.14-.21-8.29 0-12.43a1.11 1.11 0 0 1 .91-1.11C7.24 4.56 10 4.49 13 4.49s5.76.07 7.43.18a1.11 1.11 0 0 1 .91 1.11c.21 4.14.21 8.29 0 12.43Z"/>
</svg>`;function Qze(t){return`
    <style>
      :host([aria-checked="true"]) slot[name=off] {
        display: none !important;
      }

      
      :host(:not([aria-checked="true"])) slot[name=on] {
        display: none !important;
      }

      :host([aria-checked="true"]) slot[name=tooltip-enable],
      :host(:not([aria-checked="true"])) slot[name=tooltip-disable] {
        display: none;
      }
    </style>

    <slot name="icon">
      <slot name="on">${$ze}</slot>
      <slot name="off">${Hze}</slot>
    </slot>
  `}function Vze(){return`
    <slot name="tooltip-enable">${mi("Enable captions")}</slot>
    <slot name="tooltip-disable">${mi("Disable captions")}</slot>
  `}const RG=t=>{t.setAttribute("aria-checked",aae(t).toString())};class QF extends pd{static get observedAttributes(){return[...super.observedAttributes,ht.MEDIA_SUBTITLES_LIST,ht.MEDIA_SUBTITLES_SHOWING]}connectedCallback(){super.connectedCallback(),this.setAttribute("role","switch"),this.setAttribute("aria-label",mi("closed captions")),RG(this)}attributeChangedCallback(e,r,n){super.attributeChangedCallback(e,r,n),e===ht.MEDIA_SUBTITLES_SHOWING&&RG(this)}get mediaSubtitlesList(){return DG(this,ht.MEDIA_SUBTITLES_LIST)}set mediaSubtitlesList(e){MG(this,ht.MEDIA_SUBTITLES_LIST,e)}get mediaSubtitlesShowing(){return DG(this,ht.MEDIA_SUBTITLES_SHOWING)}set mediaSubtitlesShowing(e){MG(this,ht.MEDIA_SUBTITLES_SHOWING,e)}handleClick(){this.dispatchEvent(new tr.CustomEvent(zn.MEDIA_TOGGLE_SUBTITLES_REQUEST,{composed:!0,bubbles:!0}))}}QF.getSlotTemplateHTML=Qze;QF.getTooltipContentHTML=Vze;const DG=(t,e)=>{const r=t.getAttribute(e);return r?R5(r):[]},MG=(t,e,r)=>{if(!r?.length){t.removeAttribute(e);return}const n=KE(r);t.getAttribute(e)!==n&&t.setAttribute(e,n)};tr.customElements.get("media-captions-button")||tr.customElements.define("media-captions-button",QF);const zze='<svg aria-hidden="true" viewBox="0 0 24 24"><g><path class="cast_caf_icon_arch0" d="M1,18 L1,21 L4,21 C4,19.3 2.66,18 1,18 L1,18 Z"/><path class="cast_caf_icon_arch1" d="M1,14 L1,16 C3.76,16 6,18.2 6,21 L8,21 C8,17.13 4.87,14 1,14 L1,14 Z"/><path class="cast_caf_icon_arch2" d="M1,10 L1,12 C5.97,12 10,16.0 10,21 L12,21 C12,14.92 7.07,10 1,10 L1,10 Z"/><path class="cast_caf_icon_box" d="M21,3 L3,3 C1.9,3 1,3.9 1,5 L1,8 L3,8 L3,5 L21,5 L21,19 L14,19 L14,21 L21,21 C22.1,21 23,20.1 23,19 L23,5 C23,3.9 22.1,3 21,3 L21,3 Z"/></g></svg>',Kze='<svg aria-hidden="true" viewBox="0 0 24 24"><g><path class="cast_caf_icon_arch0" d="M1,18 L1,21 L4,21 C4,19.3 2.66,18 1,18 L1,18 Z"/><path class="cast_caf_icon_arch1" d="M1,14 L1,16 C3.76,16 6,18.2 6,21 L8,21 C8,17.13 4.87,14 1,14 L1,14 Z"/><path class="cast_caf_icon_arch2" d="M1,10 L1,12 C5.97,12 10,16.0 10,21 L12,21 C12,14.92 7.07,10 1,10 L1,10 Z"/><path class="cast_caf_icon_box" d="M21,3 L3,3 C1.9,3 1,3.9 1,5 L1,8 L3,8 L3,5 L21,5 L21,19 L14,19 L14,21 L21,21 C22.1,21 23,20.1 23,19 L23,5 C23,3.9 22.1,3 21,3 L21,3 Z"/><path class="cast_caf_icon_boxfill" d="M5,7 L5,8.63 C8,8.6 13.37,14 13.37,17 L19,17 L19,7 Z"/></g></svg>';function Gze(t){return`
    <style>
      :host([${ht.MEDIA_IS_CASTING}]) slot[name=icon] slot:not([name=exit]) {
        display: none !important;
      }

      
      :host(:not([${ht.MEDIA_IS_CASTING}])) slot[name=icon] slot:not([name=enter]) {
        display: none !important;
      }

      :host([${ht.MEDIA_IS_CASTING}]) slot[name=tooltip-enter],
      :host(:not([${ht.MEDIA_IS_CASTING}])) slot[name=tooltip-exit] {
        display: none;
      }
    </style>

    <slot name="icon">
      <slot name="enter">${zze}</slot>
      <slot name="exit">${Kze}</slot>
    </slot>
  `}function Wze(){return`
    <slot name="tooltip-enter">${mi("Start casting")}</slot>
    <slot name="tooltip-exit">${mi("Stop casting")}</slot>
  `}const FG=t=>{const e=t.mediaIsCasting?mi("stop casting"):mi("start casting");t.setAttribute("aria-label",e)};class VF extends pd{static get observedAttributes(){return[...super.observedAttributes,ht.MEDIA_IS_CASTING,ht.MEDIA_CAST_UNAVAILABLE]}connectedCallback(){super.connectedCallback(),FG(this)}attributeChangedCallback(e,r,n){super.attributeChangedCallback(e,r,n),e===ht.MEDIA_IS_CASTING&&FG(this)}get mediaIsCasting(){return Oa(this,ht.MEDIA_IS_CASTING)}set mediaIsCasting(e){Pa(this,ht.MEDIA_IS_CASTING,e)}get mediaCastUnavailable(){return Cl(this,ht.MEDIA_CAST_UNAVAILABLE)}set mediaCastUnavailable(e){jl(this,ht.MEDIA_CAST_UNAVAILABLE,e)}handleClick(){const e=this.mediaIsCasting?zn.MEDIA_EXIT_CAST_REQUEST:zn.MEDIA_ENTER_CAST_REQUEST;this.dispatchEvent(new tr.CustomEvent(e,{composed:!0,bubbles:!0}))}}VF.getSlotTemplateHTML=Gze;VF.getTooltipContentHTML=Wze;tr.customElements.get("media-cast-button")||tr.customElements.define("media-cast-button",VF);var zF=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},zv=(t,e,r)=>(zF(t,e,"read from private field"),e.get(t)),gp=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},KF=(t,e,r,n)=>(zF(t,e,"write to private field"),e.set(t,r),r),rv=(t,e,r)=>(zF(t,e,"access private method"),r),zj,GE,dy,dT,OP,PP,pae,RP,gae,DP,vae,MP,yae,FP,xae;function Yze(t){return`
    <style>
      :host {
        font: var(--media-font,
          var(--media-font-weight, normal)
          var(--media-font-size, 14px) /
          var(--media-text-content-height, var(--media-control-height, 24px))
          var(--media-font-family, helvetica neue, segoe ui, roboto, arial, sans-serif));
        color: var(--media-text-color, var(--media-primary-color, rgb(238 238 238)));
        display: var(--media-dialog-display, inline-flex);
        justify-content: center;
        align-items: center;
        
        transition-behavior: allow-discrete;
        visibility: hidden;
        opacity: 0;
        transform: translateY(2px) scale(.99);
        pointer-events: none;
      }

      :host([open]) {
        transition: display .2s, visibility 0s, opacity .2s ease-out, transform .15s ease-out;
        visibility: visible;
        opacity: 1;
        transform: translateY(0) scale(1);
        pointer-events: auto;
      }

      #content {
        display: flex;
        position: relative;
        box-sizing: border-box;
        width: min(320px, 100%);
        word-wrap: break-word;
        max-height: 100%;
        overflow: auto;
        text-align: center;
        line-height: 1.4;
      }
    </style>
    ${this.getSlotTemplateHTML(t)}
  `}function qze(t){return`
    <slot id="content"></slot>
  `}const V1={OPEN:"open",ANCHOR:"anchor"};class l1 extends tr.HTMLElement{constructor(){super(),gp(this,dT),gp(this,PP),gp(this,RP),gp(this,DP),gp(this,MP),gp(this,FP),gp(this,zj,!1),gp(this,GE,null),gp(this,dy,null),this.addEventListener("invoke",this),this.addEventListener("focusout",this),this.addEventListener("keydown",this)}static get observedAttributes(){return[V1.OPEN,V1.ANCHOR]}get open(){return Oa(this,V1.OPEN)}set open(e){Pa(this,V1.OPEN,e)}handleEvent(e){switch(e.type){case"invoke":rv(this,DP,vae).call(this,e);break;case"focusout":rv(this,MP,yae).call(this,e);break;case"keydown":rv(this,FP,xae).call(this,e);break}}connectedCallback(){rv(this,dT,OP).call(this),this.role||(this.role="dialog")}attributeChangedCallback(e,r,n){rv(this,dT,OP).call(this),e===V1.OPEN&&n!==r&&(this.open?rv(this,PP,pae).call(this):rv(this,RP,gae).call(this))}focus(){KF(this,GE,BF());const e=!this.dispatchEvent(new Event("focus",{composed:!0,cancelable:!0})),r=!this.dispatchEvent(new Event("focusin",{composed:!0,bubbles:!0,cancelable:!0}));if(e||r)return;const n=this.querySelector('[autofocus], [tabindex]:not([tabindex="-1"]), [role="menu"]');n?.focus()}get keysUsed(){return["Escape","Tab"]}}zj=new WeakMap;GE=new WeakMap;dy=new WeakMap;dT=new WeakSet;OP=function(){if(!zv(this,zj)&&(KF(this,zj,!0),!this.shadowRoot)){this.attachShadow(this.constructor.shadowRootOptions);const t=yf(this.attributes);this.shadowRoot.innerHTML=this.constructor.getTemplateHTML(t),queueMicrotask(()=>{const{style:e}=Mu(this.shadowRoot,":host");e.setProperty("transition","display .15s, visibility .15s, opacity .15s ease-in, transform .15s ease-in")})}};PP=new WeakSet;pae=function(){var t;(t=zv(this,dy))==null||t.setAttribute("aria-expanded","true"),this.dispatchEvent(new Event("open",{composed:!0,bubbles:!0})),this.addEventListener("transitionend",()=>this.focus(),{once:!0})};RP=new WeakSet;gae=function(){var t;(t=zv(this,dy))==null||t.setAttribute("aria-expanded","false"),this.dispatchEvent(new Event("close",{composed:!0,bubbles:!0}))};DP=new WeakSet;vae=function(t){KF(this,dy,t.relatedTarget),og(this,t.relatedTarget)||(this.open=!this.open)};MP=new WeakSet;yae=function(t){var e;og(this,t.relatedTarget)||((e=zv(this,GE))==null||e.focus(),zv(this,dy)&&zv(this,dy)!==t.relatedTarget&&this.open&&(this.open=!1))};FP=new WeakSet;xae=function(t){var e,r,n,i,s;const{key:a,ctrlKey:c,altKey:u,metaKey:l}=t;c||u||l||this.keysUsed.includes(a)&&(t.preventDefault(),t.stopPropagation(),a==="Tab"?(t.shiftKey?(r=(e=this.previousElementSibling)==null?void 0:e.focus)==null||r.call(e):(i=(n=this.nextElementSibling)==null?void 0:n.focus)==null||i.call(n),this.blur()):a==="Escape"&&((s=zv(this,GE))==null||s.focus(),this.open=!1))};l1.shadowRootOptions={mode:"open"};l1.getTemplateHTML=Yze;l1.getSlotTemplateHTML=qze;tr.customElements.get("media-chrome-dialog")||tr.customElements.define("media-chrome-dialog",l1);var GF=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},oc=(t,e,r)=>(GF(t,e,"read from private field"),r?r.call(t):e.get(t)),Ld=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},Gg=(t,e,r,n)=>(GF(t,e,"write to private field"),e.set(t,r),r),vA=(t,e,r)=>(GF(t,e,"access private method"),r),dm,F5,hT,fT,xA,Kj,AT,mT,pT,WF,bae,gT,UP,vT,$P,Gj,YF,HP,wae,QP,Eae,VP,_ae,zP,Sae;function Xze(t){return`
    <style>
      :host {
        --_focus-box-shadow: var(--media-focus-box-shadow, inset 0 0 0 2px rgb(27 127 204 / .9));
        --_media-range-padding: var(--media-range-padding, var(--media-control-padding, 10px));

        box-shadow: var(--_focus-visible-box-shadow, none);
        background: var(--media-control-background, var(--media-secondary-color, rgb(20 20 30 / .7)));
        height: calc(var(--media-control-height, 24px) + 2 * var(--_media-range-padding));
        display: inline-flex;
        align-items: center;
        
        vertical-align: middle;
        box-sizing: border-box;
        position: relative;
        width: 100px;
        transition: background .15s linear;
        cursor: var(--media-cursor, pointer);
        pointer-events: auto;
        touch-action: none; 
      }

      
      input[type=range]:focus {
        outline: 0;
      }
      input[type=range]:focus::-webkit-slider-runnable-track {
        outline: 0;
      }

      :host(:hover) {
        background: var(--media-control-hover-background, rgb(50 50 70 / .7));
      }

      #leftgap {
        padding-left: var(--media-range-padding-left, var(--_media-range-padding));
      }

      #rightgap {
        padding-right: var(--media-range-padding-right, var(--_media-range-padding));
      }

      #startpoint,
      #endpoint {
        position: absolute;
      }

      #endpoint {
        right: 0;
      }

      #container {
        
        width: var(--media-range-track-width, 100%);
        transform: translate(var(--media-range-track-translate-x, 0px), var(--media-range-track-translate-y, 0px));
        position: relative;
        height: 100%;
        display: flex;
        align-items: center;
        min-width: 40px;
      }

      #range {
        
        display: var(--media-time-range-hover-display, block);
        bottom: var(--media-time-range-hover-bottom, -7px);
        height: var(--media-time-range-hover-height, max(100% + 7px, 25px));
        width: 100%;
        position: absolute;
        cursor: var(--media-cursor, pointer);

        -webkit-appearance: none; 
        -webkit-tap-highlight-color: transparent;
        background: transparent; 
        margin: 0;
        z-index: 1;
      }

      @media (hover: hover) {
        #range {
          bottom: var(--media-time-range-hover-bottom, -5px);
          height: var(--media-time-range-hover-height, max(100% + 5px, 20px));
        }
      }

      
      
      #range::-webkit-slider-thumb {
        -webkit-appearance: none;
        background: transparent;
        width: .1px;
        height: .1px;
      }

      
      #range::-moz-range-thumb {
        background: transparent;
        border: transparent;
        width: .1px;
        height: .1px;
      }

      #appearance {
        height: var(--media-range-track-height, 4px);
        display: flex;
        flex-direction: column;
        justify-content: center;
        width: 100%;
        position: absolute;
        
        will-change: transform;
      }

      #track {
        background: var(--media-range-track-background, rgb(255 255 255 / .2));
        border-radius: var(--media-range-track-border-radius, 1px);
        border: var(--media-range-track-border, none);
        outline: var(--media-range-track-outline);
        outline-offset: var(--media-range-track-outline-offset);
        backdrop-filter: var(--media-range-track-backdrop-filter);
        -webkit-backdrop-filter: var(--media-range-track-backdrop-filter);
        box-shadow: var(--media-range-track-box-shadow, none);
        position: absolute;
        width: 100%;
        height: 100%;
        overflow: hidden;
      }

      #progress,
      #pointer {
        position: absolute;
        height: 100%;
        will-change: width;
      }

      #progress {
        background: var(--media-range-bar-color, var(--media-primary-color, rgb(238 238 238)));
        transition: var(--media-range-track-transition);
      }

      #pointer {
        background: var(--media-range-track-pointer-background);
        border-right: var(--media-range-track-pointer-border-right);
        transition: visibility .25s, opacity .25s;
        visibility: hidden;
        opacity: 0;
      }

      @media (hover: hover) {
        :host(:hover) #pointer {
          transition: visibility .5s, opacity .5s;
          visibility: visible;
          opacity: 1;
        }
      }

      #thumb,
      ::slotted([slot=thumb]) {
        width: var(--media-range-thumb-width, 10px);
        height: var(--media-range-thumb-height, 10px);
        transition: var(--media-range-thumb-transition);
        transform: var(--media-range-thumb-transform, none);
        opacity: var(--media-range-thumb-opacity, 1);
        translate: -50%;
        position: absolute;
        left: 0;
        cursor: var(--media-cursor, pointer);
      }

      #thumb {
        border-radius: var(--media-range-thumb-border-radius, 10px);
        background: var(--media-range-thumb-background, var(--media-primary-color, rgb(238 238 238)));
        box-shadow: var(--media-range-thumb-box-shadow, 1px 1px 1px transparent);
        border: var(--media-range-thumb-border, none);
      }

      :host([disabled]) #thumb {
        background-color: #777;
      }

      .segments #appearance {
        height: var(--media-range-segment-hover-height, 7px);
      }

      #track {
        clip-path: url(#segments-clipping);
      }

      #segments {
        --segments-gap: var(--media-range-segments-gap, 2px);
        position: absolute;
        width: 100%;
        height: 100%;
      }

      #segments-clipping {
        transform: translateX(calc(var(--segments-gap) / 2));
      }

      #segments-clipping:empty {
        display: none;
      }

      #segments-clipping rect {
        height: var(--media-range-track-height, 4px);
        y: calc((var(--media-range-segment-hover-height, 7px) - var(--media-range-track-height, 4px)) / 2);
        transition: var(--media-range-segment-transition, transform .1s ease-in-out);
        transform: var(--media-range-segment-transform, scaleY(1));
        transform-origin: center;
      }
    </style>
    <div id="leftgap"></div>
    <div id="container">
      <div id="startpoint"></div>
      <div id="endpoint"></div>
      <div id="appearance">
        <div id="track" part="track">
          <div id="pointer"></div>
          <div id="progress" part="progress"></div>
        </div>
        <slot name="thumb">
          <div id="thumb" part="thumb"></div>
        </slot>
        <svg id="segments"><clipPath id="segments-clipping"></clipPath></svg>
      </div>
      <input id="range" type="range" min="0" max="1" step="any" value="0">

      ${this.getContainerTemplateHTML(t)}
    </div>
    <div id="rightgap"></div>
  `}function Zze(t){return""}class c1 extends tr.HTMLElement{constructor(){if(super(),Ld(this,WF),Ld(this,gT),Ld(this,vT),Ld(this,Gj),Ld(this,HP),Ld(this,QP),Ld(this,VP),Ld(this,zP),Ld(this,dm,void 0),Ld(this,F5,void 0),Ld(this,hT,void 0),Ld(this,fT,void 0),Ld(this,xA,{}),Ld(this,Kj,[]),Ld(this,AT,()=>{if(this.range.matches(":focus-visible")){const{style:e}=Mu(this.shadowRoot,":host");e.setProperty("--_focus-visible-box-shadow","var(--_focus-box-shadow)")}}),Ld(this,mT,()=>{const{style:e}=Mu(this.shadowRoot,":host");e.removeProperty("--_focus-visible-box-shadow")}),Ld(this,pT,()=>{const e=this.shadowRoot.querySelector("#segments-clipping");e&&e.parentNode.append(e)}),!this.shadowRoot){this.attachShadow(this.constructor.shadowRootOptions);const e=yf(this.attributes),r=this.constructor.getTemplateHTML(e);this.shadowRoot.setHTMLUnsafe?this.shadowRoot.setHTMLUnsafe(r):this.shadowRoot.innerHTML=r}this.container=this.shadowRoot.querySelector("#container"),Gg(this,hT,this.shadowRoot.querySelector("#startpoint")),Gg(this,fT,this.shadowRoot.querySelector("#endpoint")),this.range=this.shadowRoot.querySelector("#range"),this.appearance=this.shadowRoot.querySelector("#appearance")}static get observedAttributes(){return["disabled","aria-disabled",Ao.MEDIA_CONTROLLER]}attributeChangedCallback(e,r,n){var i,s,a,c,u;e===Ao.MEDIA_CONTROLLER?(r&&((s=(i=oc(this,dm))==null?void 0:i.unassociateElement)==null||s.call(i,this),Gg(this,dm,null)),n&&this.isConnected&&(Gg(this,dm,(a=this.getRootNode())==null?void 0:a.getElementById(n)),(u=(c=oc(this,dm))==null?void 0:c.associateElement)==null||u.call(c,this))):(e==="disabled"||e==="aria-disabled"&&r!==n)&&(n==null?(this.range.removeAttribute(e),vA(this,gT,UP).call(this)):(this.range.setAttribute(e,n),vA(this,vT,$P).call(this)))}connectedCallback(){var e,r,n;const{style:i}=Mu(this.shadowRoot,":host");i.setProperty("display",`var(--media-control-display, var(--${this.localName}-display, inline-flex))`),oc(this,xA).pointer=Mu(this.shadowRoot,"#pointer"),oc(this,xA).progress=Mu(this.shadowRoot,"#progress"),oc(this,xA).thumb=Mu(this.shadowRoot,'#thumb, ::slotted([slot="thumb"])'),oc(this,xA).activeSegment=Mu(this.shadowRoot,"#segments-clipping rect:nth-child(0)");const s=this.getAttribute(Ao.MEDIA_CONTROLLER);s&&(Gg(this,dm,(e=this.getRootNode())==null?void 0:e.getElementById(s)),(n=(r=oc(this,dm))==null?void 0:r.associateElement)==null||n.call(r,this)),this.updateBar(),this.shadowRoot.addEventListener("focusin",oc(this,AT)),this.shadowRoot.addEventListener("focusout",oc(this,mT)),vA(this,gT,UP).call(this),Bb(this.container,oc(this,pT))}disconnectedCallback(){var e,r;vA(this,vT,$P).call(this),(r=(e=oc(this,dm))==null?void 0:e.unassociateElement)==null||r.call(e,this),Gg(this,dm,null),this.shadowRoot.removeEventListener("focusin",oc(this,AT)),this.shadowRoot.removeEventListener("focusout",oc(this,mT)),Ob(this.container,oc(this,pT))}updatePointerBar(e){var r;(r=oc(this,xA).pointer)==null||r.style.setProperty("width",`${this.getPointerRatio(e)*100}%`)}updateBar(){var e,r;const n=this.range.valueAsNumber*100;(e=oc(this,xA).progress)==null||e.style.setProperty("width",`${n}%`),(r=oc(this,xA).thumb)==null||r.style.setProperty("left",`${n}%`)}updateSegments(e){const r=this.shadowRoot.querySelector("#segments-clipping");if(r.textContent="",this.container.classList.toggle("segments",!!e?.length),!e?.length)return;const n=[...new Set([+this.range.min,...e.flatMap(s=>[s.start,s.end]),+this.range.max])];Gg(this,Kj,[...n]);const i=n.pop();for(const[s,a]of n.entries()){const[c,u]=[s===0,s===n.length-1],l=c?"calc(var(--segments-gap) / -1)":`${a*100}%`,f=`calc(${((u?i:n[s+1])-a)*100}%${c||u?"":" - var(--segments-gap)"})`,A=pu.createElementNS("http://www.w3.org/2000/svg","rect"),p=OF(this.shadowRoot,`#segments-clipping rect:nth-child(${s+1})`);p.style.setProperty("x",l),p.style.setProperty("width",f),r.append(A)}}getPointerRatio(e){return VVe(e.clientX,e.clientY,oc(this,hT).getBoundingClientRect(),oc(this,fT).getBoundingClientRect())}get dragging(){return this.hasAttribute("dragging")}handleEvent(e){switch(e.type){case"pointermove":vA(this,zP,Sae).call(this,e);break;case"input":this.updateBar();break;case"pointerenter":vA(this,HP,wae).call(this,e);break;case"pointerdown":vA(this,Gj,YF).call(this,e);break;case"pointerup":vA(this,QP,Eae).call(this);break;case"pointerleave":vA(this,VP,_ae).call(this);break}}get keysUsed(){return["ArrowUp","ArrowRight","ArrowDown","ArrowLeft"]}}dm=new WeakMap;F5=new WeakMap;hT=new WeakMap;fT=new WeakMap;xA=new WeakMap;Kj=new WeakMap;AT=new WeakMap;mT=new WeakMap;pT=new WeakMap;WF=new WeakSet;bae=function(t){const e=oc(this,xA).activeSegment;if(!e)return;const r=this.getPointerRatio(t),i=`#segments-clipping rect:nth-child(${oc(this,Kj).findIndex((s,a,c)=>{const u=c[a+1];return u!=null&&r>=s&&r<=u})+1})`;(e.selectorText!=i||!e.style.transform)&&(e.selectorText=i,e.style.setProperty("transform","var(--media-range-segment-hover-transform, scaleY(2))"))};gT=new WeakSet;UP=function(){this.hasAttribute("disabled")||(this.addEventListener("input",this),this.addEventListener("pointerdown",this),this.addEventListener("pointerenter",this))};vT=new WeakSet;$P=function(){var t,e;this.removeEventListener("input",this),this.removeEventListener("pointerdown",this),this.removeEventListener("pointerenter",this),(t=tr.window)==null||t.removeEventListener("pointerup",this),(e=tr.window)==null||e.removeEventListener("pointermove",this)};Gj=new WeakSet;YF=function(t){var e;Gg(this,F5,t.composedPath().includes(this.range)),(e=tr.window)==null||e.addEventListener("pointerup",this)};HP=new WeakSet;wae=function(t){var e;t.pointerType!=="mouse"&&vA(this,Gj,YF).call(this,t),this.addEventListener("pointerleave",this),(e=tr.window)==null||e.addEventListener("pointermove",this)};QP=new WeakSet;Eae=function(){var t;(t=tr.window)==null||t.removeEventListener("pointerup",this),this.toggleAttribute("dragging",!1),this.range.disabled=this.hasAttribute("disabled")};VP=new WeakSet;_ae=function(){var t,e;this.removeEventListener("pointerleave",this),(t=tr.window)==null||t.removeEventListener("pointermove",this),this.toggleAttribute("dragging",!1),this.range.disabled=this.hasAttribute("disabled"),(e=oc(this,xA).activeSegment)==null||e.style.removeProperty("transform")};zP=new WeakSet;Sae=function(t){t.pointerType==="pen"&&t.buttons===0||(this.toggleAttribute("dragging",t.buttons===1||t.pointerType!=="mouse"),this.updatePointerBar(t),vA(this,WF,bae).call(this,t),this.dragging&&(t.pointerType!=="mouse"||!oc(this,F5))&&(this.range.disabled=!0,this.range.valueAsNumber=this.getPointerRatio(t),this.range.dispatchEvent(new Event("input",{bubbles:!0,composed:!0}))))};c1.shadowRootOptions={mode:"open"};c1.getTemplateHTML=Xze;c1.getContainerTemplateHTML=Zze;tr.customElements.get("media-chrome-range")||tr.customElements.define("media-chrome-range",c1);var Tae=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},hS=(t,e,r)=>(Tae(t,e,"read from private field"),r?r.call(t):e.get(t)),Jze=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},fS=(t,e,r,n)=>(Tae(t,e,"write to private field"),e.set(t,r),r),hm;function eKe(t){return`
    <style>
      :host {
        
        box-sizing: border-box;
        display: var(--media-control-display, var(--media-control-bar-display, inline-flex));
        color: var(--media-text-color, var(--media-primary-color, rgb(238 238 238)));
        --media-loading-indicator-icon-height: 44px;
      }

      ::slotted(media-time-range),
      ::slotted(media-volume-range) {
        min-height: 100%;
      }

      ::slotted(media-time-range),
      ::slotted(media-clip-selector) {
        flex-grow: 1;
      }

      ::slotted([role="menu"]) {
        position: absolute;
      }
    </style>

    <slot></slot>
  `}class qF extends tr.HTMLElement{constructor(){if(super(),Jze(this,hm,void 0),!this.shadowRoot){this.attachShadow(this.constructor.shadowRootOptions);const e=yf(this.attributes);this.shadowRoot.innerHTML=this.constructor.getTemplateHTML(e)}}static get observedAttributes(){return[Ao.MEDIA_CONTROLLER]}attributeChangedCallback(e,r,n){var i,s,a,c,u;e===Ao.MEDIA_CONTROLLER&&(r&&((s=(i=hS(this,hm))==null?void 0:i.unassociateElement)==null||s.call(i,this),fS(this,hm,null)),n&&this.isConnected&&(fS(this,hm,(a=this.getRootNode())==null?void 0:a.getElementById(n)),(u=(c=hS(this,hm))==null?void 0:c.associateElement)==null||u.call(c,this)))}connectedCallback(){var e,r,n;const i=this.getAttribute(Ao.MEDIA_CONTROLLER);i&&(fS(this,hm,(e=this.getRootNode())==null?void 0:e.getElementById(i)),(n=(r=hS(this,hm))==null?void 0:r.associateElement)==null||n.call(r,this))}disconnectedCallback(){var e,r;(r=(e=hS(this,hm))==null?void 0:e.unassociateElement)==null||r.call(e,this),fS(this,hm,null)}}hm=new WeakMap;qF.shadowRootOptions={mode:"open"};qF.getTemplateHTML=eKe;tr.customElements.get("media-control-bar")||tr.customElements.define("media-control-bar",qF);var Cae=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},AS=(t,e,r)=>(Cae(t,e,"read from private field"),r?r.call(t):e.get(t)),tKe=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},mS=(t,e,r,n)=>(Cae(t,e,"write to private field"),e.set(t,r),r),fm;function rKe(t,e={}){return`
    <style>
      :host {
        font: var(--media-font,
          var(--media-font-weight, normal)
          var(--media-font-size, 14px) /
          var(--media-text-content-height, var(--media-control-height, 24px))
          var(--media-font-family, helvetica neue, segoe ui, roboto, arial, sans-serif));
        color: var(--media-text-color, var(--media-primary-color, rgb(238 238 238)));
        background: var(--media-text-background, var(--media-control-background, var(--media-secondary-color, rgb(20 20 30 / .7))));
        padding: var(--media-control-padding, 10px);
        display: inline-flex;
        justify-content: center;
        align-items: center;
        vertical-align: middle;
        box-sizing: border-box;
        text-align: center;
        pointer-events: auto;
      }

      
      :host(:focus-visible) {
        box-shadow: inset 0 0 0 2px rgb(27 127 204 / .9);
        outline: 0;
      }

      
      :host(:where(:focus)) {
        box-shadow: none;
        outline: 0;
      }
    </style>

    ${this.getSlotTemplateHTML(t,e)}
  `}function nKe(t,e){return`
    <slot></slot>
  `}class P0 extends tr.HTMLElement{constructor(){if(super(),tKe(this,fm,void 0),!this.shadowRoot){this.attachShadow(this.constructor.shadowRootOptions);const e=yf(this.attributes);this.shadowRoot.innerHTML=this.constructor.getTemplateHTML(e)}}static get observedAttributes(){return[Ao.MEDIA_CONTROLLER]}attributeChangedCallback(e,r,n){var i,s,a,c,u;e===Ao.MEDIA_CONTROLLER&&(r&&((s=(i=AS(this,fm))==null?void 0:i.unassociateElement)==null||s.call(i,this),mS(this,fm,null)),n&&this.isConnected&&(mS(this,fm,(a=this.getRootNode())==null?void 0:a.getElementById(n)),(u=(c=AS(this,fm))==null?void 0:c.associateElement)==null||u.call(c,this)))}connectedCallback(){var e,r,n;const{style:i}=Mu(this.shadowRoot,":host");i.setProperty("display",`var(--media-control-display, var(--${this.localName}-display, inline-flex))`);const s=this.getAttribute(Ao.MEDIA_CONTROLLER);s&&(mS(this,fm,(e=this.getRootNode())==null?void 0:e.getElementById(s)),(n=(r=AS(this,fm))==null?void 0:r.associateElement)==null||n.call(r,this))}disconnectedCallback(){var e,r;(r=(e=AS(this,fm))==null?void 0:e.unassociateElement)==null||r.call(e,this),mS(this,fm,null)}}fm=new WeakMap;P0.shadowRootOptions={mode:"open"};P0.getTemplateHTML=rKe;P0.getSlotTemplateHTML=nKe;tr.customElements.get("media-text-display")||tr.customElements.define("media-text-display",P0);var jae=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},UG=(t,e,r)=>(jae(t,e,"read from private field"),r?r.call(t):e.get(t)),iKe=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},sKe=(t,e,r,n)=>(jae(t,e,"write to private field"),e.set(t,r),r),xw;function aKe(t,e){return`
    <slot>${b0(e.mediaDuration)}</slot>
  `}class Nae extends P0{constructor(){var e;super(),iKe(this,xw,void 0),sKe(this,xw,this.shadowRoot.querySelector("slot")),UG(this,xw).textContent=b0((e=this.mediaDuration)!=null?e:0)}static get observedAttributes(){return[...super.observedAttributes,ht.MEDIA_DURATION]}attributeChangedCallback(e,r,n){e===ht.MEDIA_DURATION&&(UG(this,xw).textContent=b0(+n)),super.attributeChangedCallback(e,r,n)}get mediaDuration(){return Tl(this,ht.MEDIA_DURATION)}set mediaDuration(e){Rc(this,ht.MEDIA_DURATION,e)}}xw=new WeakMap;Nae.getSlotTemplateHTML=aKe;tr.customElements.get("media-duration-display")||tr.customElements.define("media-duration-display",Nae);const oKe={2:mi("Network Error"),3:mi("Decode Error"),4:mi("Source Not Supported"),5:mi("Encryption Error")},lKe={2:mi("A network error caused the media download to fail."),3:mi("A media error caused playback to be aborted. The media could be corrupt or your browser does not support this format."),4:mi("An unsupported error occurred. The server or network failed, or your browser does not support this format."),5:mi("The media is encrypted and there are no keys to decrypt it.")},kae=t=>{var e,r;return t.code===1?null:{title:(e=oKe[t.code])!=null?e:`Error ${t.code}`,message:(r=lKe[t.code])!=null?r:t.message}};var Iae=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},cKe=(t,e,r)=>(Iae(t,e,"read from private field"),r?r.call(t):e.get(t)),uKe=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},dKe=(t,e,r,n)=>(Iae(t,e,"write to private field"),e.set(t,r),r),yT;function hKe(t){return`
    <style>
      :host {
        background: rgb(20 20 30 / .8);
      }

      #content {
        display: block;
        padding: 1.2em 1.5em;
      }

      h3,
      p {
        margin-block: 0 .3em;
      }
    </style>
    <slot name="error-${t.mediaerrorcode}" id="content">
      ${Lae({code:+t.mediaerrorcode,message:t.mediaerrormessage})}
    </slot>
  `}function fKe(t){return t.code&&kae(t)!==null}function Lae(t){var e;const{title:r,message:n}=(e=kae(t))!=null?e:{};let i="";return r&&(i+=`<slot name="error-${t.code}-title"><h3>${r}</h3></slot>`),n&&(i+=`<slot name="error-${t.code}-message"><p>${n}</p></slot>`),i}const $G=[ht.MEDIA_ERROR_CODE,ht.MEDIA_ERROR_MESSAGE];class U5 extends l1{constructor(){super(...arguments),uKe(this,yT,null)}static get observedAttributes(){return[...super.observedAttributes,...$G]}formatErrorMessage(e){return this.constructor.formatErrorMessage(e)}attributeChangedCallback(e,r,n){var i;if(super.attributeChangedCallback(e,r,n),!$G.includes(e))return;const s=(i=this.mediaError)!=null?i:{code:this.mediaErrorCode,message:this.mediaErrorMessage};this.open=fKe(s),this.open&&(this.shadowRoot.querySelector("slot").name=`error-${this.mediaErrorCode}`,this.shadowRoot.querySelector("#content").innerHTML=this.formatErrorMessage(s))}get mediaError(){return cKe(this,yT)}set mediaError(e){dKe(this,yT,e)}get mediaErrorCode(){return Tl(this,"mediaerrorcode")}set mediaErrorCode(e){Rc(this,"mediaerrorcode",e)}get mediaErrorMessage(){return Cl(this,"mediaerrormessage")}set mediaErrorMessage(e){jl(this,"mediaerrormessage",e)}}yT=new WeakMap;U5.getSlotTemplateHTML=hKe;U5.formatErrorMessage=Lae;tr.customElements.get("media-error-dialog")||tr.customElements.define("media-error-dialog",U5);var Bae=U5,AKe=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},Hg=(t,e,r)=>(AKe(t,e,"read from private field"),r?r.call(t):e.get(t)),HG=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},bx,wx;function mKe(t){return`
    <style>
      :host {
        position: fixed;
        top: 0;
        left: 0;
        z-index: 9999;
        background: rgb(20 20 30 / .8);
        backdrop-filter: blur(10px);
      }

      #content {
        display: block;
        width: clamp(400px, 40vw, 700px);
        max-width: 90vw;
        text-align: left;
      }

      h2 {
        margin: 0 0 1.5rem 0;
        font-size: 1.5rem;
        font-weight: 500;
        text-align: center;
      }

      .shortcuts-table {
        width: 100%;
        border-collapse: collapse;
      }

      .shortcuts-table tr {
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      }

      .shortcuts-table tr:last-child {
        border-bottom: none;
      }

      .shortcuts-table td {
        padding: 0.75rem 0.5rem;
      }

      .shortcuts-table td:first-child {
        text-align: right;
        padding-right: 1rem;
        width: 40%;
        min-width: 120px;
      }

      .shortcuts-table td:last-child {
        padding-left: 1rem;
      }

      .key {
        display: inline-block;
        background: rgba(255, 255, 255, 0.15);
        border: 1px solid rgba(255, 255, 255, 0.2);
        border-radius: 4px;
        padding: 0.25rem 0.5rem;
        font-family: 'Courier New', monospace;
        font-size: 0.9rem;
        font-weight: 500;
        min-width: 1.5rem;
        text-align: center;
        margin: 0 0.2rem;
      }

      .description {
        color: rgba(255, 255, 255, 0.9);
        font-size: 0.95rem;
      }

      .key-combo {
        display: flex;
        align-items: center;
        justify-content: flex-end;
        gap: 0.3rem;
      }

      .key-separator {
        color: rgba(255, 255, 255, 0.5);
        font-size: 0.9rem;
      }
    </style>
    <slot id="content">
      ${pKe()}
    </slot>
  `}function pKe(){return`
    <h2>Keyboard Shortcuts</h2>
    <table class="shortcuts-table">${[{keys:["Space","k"],description:"Toggle Playback"},{keys:["m"],description:"Toggle mute"},{keys:["f"],description:"Toggle fullscreen"},{keys:["c"],description:"Toggle captions or subtitles, if available"},{keys:["p"],description:"Toggle Picture in Picture"},{keys:["","j"],description:"Seek back 10s"},{keys:["","l"],description:"Seek forward 10s"},{keys:[""],description:"Turn volume up"},{keys:[""],description:"Turn volume down"},{keys:["< (SHIFT+,)"],description:"Decrease playback rate"},{keys:["> (SHIFT+.)"],description:"Increase playback rate"}].map(({keys:r,description:n})=>`
      <tr>
        <td>
          <div class="key-combo">${r.map((s,a)=>a>0?`<span class="key-separator">or</span><span class="key">${s}</span>`:`<span class="key">${s}</span>`).join("")}</div>
        </td>
        <td class="description">${n}</td>
      </tr>
    `).join("")}</table>
  `}class Oae extends l1{constructor(){super(...arguments),HG(this,bx,e=>{var r;if(!this.open)return;const n=(r=this.shadowRoot)==null?void 0:r.querySelector("#content");if(!n)return;const i=e.composedPath(),s=i[0]===this||i.includes(this),a=i.includes(n);s&&!a&&(this.open=!1)}),HG(this,wx,e=>{if(!this.open)return;const r=e.shiftKey&&(e.key==="/"||e.key==="?");(e.key==="Escape"||r)&&!e.ctrlKey&&!e.altKey&&!e.metaKey&&(this.open=!1,e.preventDefault(),e.stopPropagation())})}connectedCallback(){super.connectedCallback(),this.open&&(this.addEventListener("click",Hg(this,bx)),document.addEventListener("keydown",Hg(this,wx)))}disconnectedCallback(){this.removeEventListener("click",Hg(this,bx)),document.removeEventListener("keydown",Hg(this,wx))}attributeChangedCallback(e,r,n){super.attributeChangedCallback(e,r,n),e==="open"&&(this.open?(this.addEventListener("click",Hg(this,bx)),document.addEventListener("keydown",Hg(this,wx))):(this.removeEventListener("click",Hg(this,bx)),document.removeEventListener("keydown",Hg(this,wx))))}}bx=new WeakMap;wx=new WeakMap;Oae.getSlotTemplateHTML=mKe;tr.customElements.get("media-keyboard-shortcuts-dialog")||tr.customElements.define("media-keyboard-shortcuts-dialog",Oae);var Pae=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},gKe=(t,e,r)=>(Pae(t,e,"read from private field"),e.get(t)),vKe=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},yKe=(t,e,r,n)=>(Pae(t,e,"write to private field"),e.set(t,r),r),xT;const xKe=`<svg aria-hidden="true" viewBox="0 0 26 24">
  <path d="M16 3v2.5h3.5V9H22V3h-6ZM4 9h2.5V5.5H10V3H4v6Zm15.5 9.5H16V21h6v-6h-2.5v3.5ZM6.5 15H4v6h6v-2.5H6.5V15Z"/>
</svg>`,bKe=`<svg aria-hidden="true" viewBox="0 0 26 24">
  <path d="M18.5 6.5V3H16v6h6V6.5h-3.5ZM16 21h2.5v-3.5H22V15h-6v6ZM4 17.5h3.5V21H10v-6H4v2.5Zm3.5-11H4V9h6V3H7.5v3.5Z"/>
</svg>`;function wKe(t){return`
    <style>
      :host([${ht.MEDIA_IS_FULLSCREEN}]) slot[name=icon] slot:not([name=exit]) {
        display: none !important;
      }

      
      :host(:not([${ht.MEDIA_IS_FULLSCREEN}])) slot[name=icon] slot:not([name=enter]) {
        display: none !important;
      }

      :host([${ht.MEDIA_IS_FULLSCREEN}]) slot[name=tooltip-enter],
      :host(:not([${ht.MEDIA_IS_FULLSCREEN}])) slot[name=tooltip-exit] {
        display: none;
      }
    </style>

    <slot name="icon">
      <slot name="enter">${xKe}</slot>
      <slot name="exit">${bKe}</slot>
    </slot>
  `}function EKe(){return`
    <slot name="tooltip-enter">${mi("Enter fullscreen mode")}</slot>
    <slot name="tooltip-exit">${mi("Exit fullscreen mode")}</slot>
  `}const QG=t=>{const e=t.mediaIsFullscreen?mi("exit fullscreen mode"):mi("enter fullscreen mode");t.setAttribute("aria-label",e)};class XF extends pd{constructor(){super(...arguments),vKe(this,xT,null)}static get observedAttributes(){return[...super.observedAttributes,ht.MEDIA_IS_FULLSCREEN,ht.MEDIA_FULLSCREEN_UNAVAILABLE]}connectedCallback(){super.connectedCallback(),QG(this)}attributeChangedCallback(e,r,n){super.attributeChangedCallback(e,r,n),e===ht.MEDIA_IS_FULLSCREEN&&QG(this)}get mediaFullscreenUnavailable(){return Cl(this,ht.MEDIA_FULLSCREEN_UNAVAILABLE)}set mediaFullscreenUnavailable(e){jl(this,ht.MEDIA_FULLSCREEN_UNAVAILABLE,e)}get mediaIsFullscreen(){return Oa(this,ht.MEDIA_IS_FULLSCREEN)}set mediaIsFullscreen(e){Pa(this,ht.MEDIA_IS_FULLSCREEN,e)}handleClick(e){yKe(this,xT,e);const r=gKe(this,xT)instanceof PointerEvent,n=this.mediaIsFullscreen?new tr.CustomEvent(zn.MEDIA_EXIT_FULLSCREEN_REQUEST,{composed:!0,bubbles:!0}):new tr.CustomEvent(zn.MEDIA_ENTER_FULLSCREEN_REQUEST,{composed:!0,bubbles:!0,detail:r});this.dispatchEvent(n)}}xT=new WeakMap;XF.getSlotTemplateHTML=wKe;XF.getTooltipContentHTML=EKe;tr.customElements.get("media-fullscreen-button")||tr.customElements.define("media-fullscreen-button",XF);const{MEDIA_TIME_IS_LIVE:bT,MEDIA_PAUSED:Xw}=ht,{MEDIA_SEEK_TO_LIVE_REQUEST:_Ke,MEDIA_PLAY_REQUEST:SKe}=zn,TKe='<svg viewBox="0 0 6 12"><circle cx="3" cy="6" r="2"></circle></svg>';function CKe(t){return`
    <style>
      :host { --media-tooltip-display: none; }
      
      slot[name=indicator] > *,
      :host ::slotted([slot=indicator]) {
        
        min-width: auto;
        fill: var(--media-live-button-icon-color, rgb(140, 140, 140));
        color: var(--media-live-button-icon-color, rgb(140, 140, 140));
      }

      :host([${bT}]:not([${Xw}])) slot[name=indicator] > *,
      :host([${bT}]:not([${Xw}])) ::slotted([slot=indicator]) {
        fill: var(--media-live-button-indicator-color, rgb(255, 0, 0));
        color: var(--media-live-button-indicator-color, rgb(255, 0, 0));
      }

      :host([${bT}]:not([${Xw}])) {
        cursor: var(--media-cursor, not-allowed);
      }

      slot[name=text]{
        text-transform: uppercase;
      }

    </style>

    <slot name="indicator">${TKe}</slot>
    
    <slot name="spacer">&nbsp;</slot><slot name="text">${mi("live")}</slot>
  `}const VG=t=>{var e;const r=t.mediaPaused||!t.mediaTimeIsLive,n=mi(r?"seek to live":"playing live");t.setAttribute("aria-label",n);const i=(e=t.shadowRoot)==null?void 0:e.querySelector('slot[name="text"]');i&&(i.textContent=mi("live")),r?t.removeAttribute("aria-disabled"):t.setAttribute("aria-disabled","true")};class Rae extends pd{static get observedAttributes(){return[...super.observedAttributes,bT,Xw]}connectedCallback(){super.connectedCallback(),VG(this)}attributeChangedCallback(e,r,n){super.attributeChangedCallback(e,r,n),VG(this)}get mediaPaused(){return Oa(this,ht.MEDIA_PAUSED)}set mediaPaused(e){Pa(this,ht.MEDIA_PAUSED,e)}get mediaTimeIsLive(){return Oa(this,ht.MEDIA_TIME_IS_LIVE)}set mediaTimeIsLive(e){Pa(this,ht.MEDIA_TIME_IS_LIVE,e)}handleClick(){!this.mediaPaused&&this.mediaTimeIsLive||(this.dispatchEvent(new tr.CustomEvent(_Ke,{composed:!0,bubbles:!0})),this.hasAttribute(Xw)&&this.dispatchEvent(new tr.CustomEvent(SKe,{composed:!0,bubbles:!0})))}}Rae.getSlotTemplateHTML=CKe;tr.customElements.get("media-live-button")||tr.customElements.define("media-live-button",Rae);var Dae=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},z1=(t,e,r)=>(Dae(t,e,"read from private field"),r?r.call(t):e.get(t)),zG=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},K1=(t,e,r,n)=>(Dae(t,e,"write to private field"),e.set(t,r),r),Am,wT;const pS={LOADING_DELAY:"loadingdelay",NO_AUTOHIDE:"noautohide"},Mae=500,jKe=`
<svg aria-hidden="true" viewBox="0 0 100 100">
  <path d="M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50">
    <animateTransform
       attributeName="transform"
       attributeType="XML"
       type="rotate"
       dur="1s"
       from="0 50 50"
       to="360 50 50"
       repeatCount="indefinite" />
  </path>
</svg>
`;function NKe(t){return`
    <style>
      :host {
        display: var(--media-control-display, var(--media-loading-indicator-display, inline-block));
        vertical-align: middle;
        box-sizing: border-box;
        --_loading-indicator-delay: var(--media-loading-indicator-transition-delay, ${Mae}ms);
      }

      #status {
        color: rgba(0,0,0,0);
        width: 0px;
        height: 0px;
      }

      :host slot[name=icon] > *,
      :host ::slotted([slot=icon]) {
        opacity: var(--media-loading-indicator-opacity, 0);
        transition: opacity 0.15s;
      }

      :host([${ht.MEDIA_LOADING}]:not([${ht.MEDIA_PAUSED}])) slot[name=icon] > *,
      :host([${ht.MEDIA_LOADING}]:not([${ht.MEDIA_PAUSED}])) ::slotted([slot=icon]) {
        opacity: var(--media-loading-indicator-opacity, 1);
        transition: opacity 0.15s var(--_loading-indicator-delay);
      }

      :host #status {
        visibility: var(--media-loading-indicator-opacity, hidden);
        transition: visibility 0.15s;
      }

      :host([${ht.MEDIA_LOADING}]:not([${ht.MEDIA_PAUSED}])) #status {
        visibility: var(--media-loading-indicator-opacity, visible);
        transition: visibility 0.15s var(--_loading-indicator-delay);
      }

      svg, img, ::slotted(svg), ::slotted(img) {
        width: var(--media-loading-indicator-icon-width);
        height: var(--media-loading-indicator-icon-height, 100px);
        fill: var(--media-icon-color, var(--media-primary-color, rgb(238 238 238)));
        vertical-align: middle;
      }
    </style>

    <slot name="icon">${jKe}</slot>
    <div id="status" role="status" aria-live="polite">${mi("media loading")}</div>
  `}class ZF extends tr.HTMLElement{constructor(){if(super(),zG(this,Am,void 0),zG(this,wT,Mae),!this.shadowRoot){this.attachShadow(this.constructor.shadowRootOptions);const e=yf(this.attributes);this.shadowRoot.innerHTML=this.constructor.getTemplateHTML(e)}}static get observedAttributes(){return[Ao.MEDIA_CONTROLLER,ht.MEDIA_PAUSED,ht.MEDIA_LOADING,pS.LOADING_DELAY]}attributeChangedCallback(e,r,n){var i,s,a,c,u;e===pS.LOADING_DELAY&&r!==n?this.loadingDelay=Number(n):e===Ao.MEDIA_CONTROLLER&&(r&&((s=(i=z1(this,Am))==null?void 0:i.unassociateElement)==null||s.call(i,this),K1(this,Am,null)),n&&this.isConnected&&(K1(this,Am,(a=this.getRootNode())==null?void 0:a.getElementById(n)),(u=(c=z1(this,Am))==null?void 0:c.associateElement)==null||u.call(c,this)))}connectedCallback(){var e,r,n;const i=this.getAttribute(Ao.MEDIA_CONTROLLER);i&&(K1(this,Am,(e=this.getRootNode())==null?void 0:e.getElementById(i)),(n=(r=z1(this,Am))==null?void 0:r.associateElement)==null||n.call(r,this))}disconnectedCallback(){var e,r;(r=(e=z1(this,Am))==null?void 0:e.unassociateElement)==null||r.call(e,this),K1(this,Am,null)}get loadingDelay(){return z1(this,wT)}set loadingDelay(e){K1(this,wT,e);const{style:r}=Mu(this.shadowRoot,":host");r.setProperty("--_loading-indicator-delay",`var(--media-loading-indicator-transition-delay, ${e}ms)`)}get mediaPaused(){return Oa(this,ht.MEDIA_PAUSED)}set mediaPaused(e){Pa(this,ht.MEDIA_PAUSED,e)}get mediaLoading(){return Oa(this,ht.MEDIA_LOADING)}set mediaLoading(e){Pa(this,ht.MEDIA_LOADING,e)}get mediaController(){return Cl(this,Ao.MEDIA_CONTROLLER)}set mediaController(e){jl(this,Ao.MEDIA_CONTROLLER,e)}get noAutohide(){return Oa(this,pS.NO_AUTOHIDE)}set noAutohide(e){Pa(this,pS.NO_AUTOHIDE,e)}}Am=new WeakMap;wT=new WeakMap;ZF.shadowRootOptions={mode:"open"};ZF.getTemplateHTML=NKe;tr.customElements.get("media-loading-indicator")||tr.customElements.define("media-loading-indicator",ZF);const kKe=`<svg aria-hidden="true" viewBox="0 0 24 24">
  <path d="M16.5 12A4.5 4.5 0 0 0 14 8v2.18l2.45 2.45a4.22 4.22 0 0 0 .05-.63Zm2.5 0a6.84 6.84 0 0 1-.54 2.64L20 16.15A8.8 8.8 0 0 0 21 12a9 9 0 0 0-7-8.77v2.06A7 7 0 0 1 19 12ZM4.27 3 3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25A6.92 6.92 0 0 1 14 18.7v2.06A9 9 0 0 0 17.69 19l2 2.05L21 19.73l-9-9L4.27 3ZM12 4 9.91 6.09 12 8.18V4Z"/>
</svg>`,KG=`<svg aria-hidden="true" viewBox="0 0 24 24">
  <path d="M3 9v6h4l5 5V4L7 9H3Zm13.5 3A4.5 4.5 0 0 0 14 8v8a4.47 4.47 0 0 0 2.5-4Z"/>
</svg>`,IKe=`<svg aria-hidden="true" viewBox="0 0 24 24">
  <path d="M3 9v6h4l5 5V4L7 9H3Zm13.5 3A4.5 4.5 0 0 0 14 8v8a4.47 4.47 0 0 0 2.5-4ZM14 3.23v2.06a7 7 0 0 1 0 13.42v2.06a9 9 0 0 0 0-17.54Z"/>
</svg>`;function LKe(t){return`
    <style>
      :host(:not([${ht.MEDIA_VOLUME_LEVEL}])) slot[name=icon] slot:not([name=high]),
      :host([${ht.MEDIA_VOLUME_LEVEL}=high]) slot[name=icon] slot:not([name=high]) {
        display: none !important;
      }

      :host([${ht.MEDIA_VOLUME_LEVEL}=off]) slot[name=icon] slot:not([name=off]) {
        display: none !important;
      }

      :host([${ht.MEDIA_VOLUME_LEVEL}=low]) slot[name=icon] slot:not([name=low]) {
        display: none !important;
      }

      :host([${ht.MEDIA_VOLUME_LEVEL}=medium]) slot[name=icon] slot:not([name=medium]) {
        display: none !important;
      }

      :host(:not([${ht.MEDIA_VOLUME_LEVEL}=off])) slot[name=tooltip-unmute],
      :host([${ht.MEDIA_VOLUME_LEVEL}=off]) slot[name=tooltip-mute] {
        display: none;
      }
    </style>

    <slot name="icon">
      <slot name="off">${kKe}</slot>
      <slot name="low">${KG}</slot>
      <slot name="medium">${KG}</slot>
      <slot name="high">${IKe}</slot>
    </slot>
  `}function BKe(){return`
    <slot name="tooltip-mute">${mi("Mute")}</slot>
    <slot name="tooltip-unmute">${mi("Unmute")}</slot>
  `}const GG=t=>{const e=t.mediaVolumeLevel==="off",r=mi(e?"unmute":"mute");t.setAttribute("aria-label",r)};class JF extends pd{static get observedAttributes(){return[...super.observedAttributes,ht.MEDIA_VOLUME_LEVEL]}connectedCallback(){super.connectedCallback(),GG(this)}attributeChangedCallback(e,r,n){super.attributeChangedCallback(e,r,n),e===ht.MEDIA_VOLUME_LEVEL&&GG(this)}get mediaVolumeLevel(){return Cl(this,ht.MEDIA_VOLUME_LEVEL)}set mediaVolumeLevel(e){jl(this,ht.MEDIA_VOLUME_LEVEL,e)}handleClick(){const e=this.mediaVolumeLevel==="off"?zn.MEDIA_UNMUTE_REQUEST:zn.MEDIA_MUTE_REQUEST;this.dispatchEvent(new tr.CustomEvent(e,{composed:!0,bubbles:!0}))}}JF.getSlotTemplateHTML=LKe;JF.getTooltipContentHTML=BKe;tr.customElements.get("media-mute-button")||tr.customElements.define("media-mute-button",JF);const WG=`<svg aria-hidden="true" viewBox="0 0 28 24">
  <path d="M24 3H4a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h20a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1Zm-1 16H5V5h18v14Zm-3-8h-7v5h7v-5Z"/>
</svg>`;function OKe(t){return`
    <style>
      :host([${ht.MEDIA_IS_PIP}]) slot[name=icon] slot:not([name=exit]) {
        display: none !important;
      }

      :host(:not([${ht.MEDIA_IS_PIP}])) slot[name=icon] slot:not([name=enter]) {
        display: none !important;
      }

      :host([${ht.MEDIA_IS_PIP}]) slot[name=tooltip-enter],
      :host(:not([${ht.MEDIA_IS_PIP}])) slot[name=tooltip-exit] {
        display: none;
      }
    </style>

    <slot name="icon">
      <slot name="enter">${WG}</slot>
      <slot name="exit">${WG}</slot>
    </slot>
  `}function PKe(){return`
    <slot name="tooltip-enter">${mi("Enter picture in picture mode")}</slot>
    <slot name="tooltip-exit">${mi("Exit picture in picture mode")}</slot>
  `}const YG=t=>{const e=t.mediaIsPip?mi("exit picture in picture mode"):mi("enter picture in picture mode");t.setAttribute("aria-label",e)};class eU extends pd{static get observedAttributes(){return[...super.observedAttributes,ht.MEDIA_IS_PIP,ht.MEDIA_PIP_UNAVAILABLE]}connectedCallback(){super.connectedCallback(),YG(this)}attributeChangedCallback(e,r,n){super.attributeChangedCallback(e,r,n),e===ht.MEDIA_IS_PIP&&YG(this)}get mediaPipUnavailable(){return Cl(this,ht.MEDIA_PIP_UNAVAILABLE)}set mediaPipUnavailable(e){jl(this,ht.MEDIA_PIP_UNAVAILABLE,e)}get mediaIsPip(){return Oa(this,ht.MEDIA_IS_PIP)}set mediaIsPip(e){Pa(this,ht.MEDIA_IS_PIP,e)}handleClick(){const e=this.mediaIsPip?zn.MEDIA_EXIT_PIP_REQUEST:zn.MEDIA_ENTER_PIP_REQUEST;this.dispatchEvent(new tr.CustomEvent(e,{composed:!0,bubbles:!0}))}}eU.getSlotTemplateHTML=OKe;eU.getTooltipContentHTML=PKe;tr.customElements.get("media-pip-button")||tr.customElements.define("media-pip-button",eU);var RKe=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},nx=(t,e,r)=>(RKe(t,e,"read from private field"),r?r.call(t):e.get(t)),DKe=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},Wg;const kB={RATES:"rates"},Fae=[1,1.2,1.5,1.7,2],qx=1;function MKe(t){return`
    <style>
      :host {
        min-width: 5ch;
        padding: var(--media-button-padding, var(--media-control-padding, 10px 5px));
      }
    </style>
    <slot name="icon">${t.mediaplaybackrate||qx}x</slot>
  `}function FKe(){return mi("Playback rate")}class tU extends pd{constructor(){var e;super(),DKe(this,Wg,new DF(this,kB.RATES,{defaultValue:Fae})),this.container=this.shadowRoot.querySelector('slot[name="icon"]'),this.container.innerHTML=`${(e=this.mediaPlaybackRate)!=null?e:qx}x`}static get observedAttributes(){return[...super.observedAttributes,ht.MEDIA_PLAYBACK_RATE,kB.RATES]}attributeChangedCallback(e,r,n){if(super.attributeChangedCallback(e,r,n),e===kB.RATES&&(nx(this,Wg).value=n),e===ht.MEDIA_PLAYBACK_RATE){const i=n?+n:Number.NaN,s=Number.isNaN(i)?qx:i;this.container.innerHTML=`${s}x`,this.setAttribute("aria-label",mi("Playback rate {playbackRate}",{playbackRate:s}))}}get rates(){return nx(this,Wg)}set rates(e){e?Array.isArray(e)?nx(this,Wg).value=e.join(" "):typeof e=="string"&&(nx(this,Wg).value=e):nx(this,Wg).value=""}get mediaPlaybackRate(){return Tl(this,ht.MEDIA_PLAYBACK_RATE,qx)}set mediaPlaybackRate(e){Rc(this,ht.MEDIA_PLAYBACK_RATE,e)}handleClick(){var e,r;const n=Array.from(nx(this,Wg).values(),a=>+a).sort((a,c)=>a-c),i=(r=(e=n.find(a=>a>this.mediaPlaybackRate))!=null?e:n[0])!=null?r:qx,s=new tr.CustomEvent(zn.MEDIA_PLAYBACK_RATE_REQUEST,{composed:!0,bubbles:!0,detail:i});this.dispatchEvent(s)}}Wg=new WeakMap;tU.getSlotTemplateHTML=MKe;tU.getTooltipContentHTML=FKe;tr.customElements.get("media-playback-rate-button")||tr.customElements.define("media-playback-rate-button",tU);const UKe=`<svg aria-hidden="true" viewBox="0 0 24 24">
  <path d="m6 21 15-9L6 3v18Z"/>
</svg>`,$Ke=`<svg aria-hidden="true" viewBox="0 0 24 24">
  <path d="M6 20h4V4H6v16Zm8-16v16h4V4h-4Z"/>
</svg>`;function HKe(t){return`
    <style>
      :host([${ht.MEDIA_PAUSED}]) slot[name=pause],
      :host(:not([${ht.MEDIA_PAUSED}])) slot[name=play] {
        display: none !important;
      }

      :host([${ht.MEDIA_PAUSED}]) slot[name=tooltip-pause],
      :host(:not([${ht.MEDIA_PAUSED}])) slot[name=tooltip-play] {
        display: none;
      }
    </style>

    <slot name="icon">
      <slot name="play">${UKe}</slot>
      <slot name="pause">${$Ke}</slot>
    </slot>
  `}function QKe(){return`
    <slot name="tooltip-play">${mi("Play")}</slot>
    <slot name="tooltip-pause">${mi("Pause")}</slot>
  `}const qG=t=>{const e=t.mediaPaused?mi("play"):mi("pause");t.setAttribute("aria-label",e)};class rU extends pd{static get observedAttributes(){return[...super.observedAttributes,ht.MEDIA_PAUSED,ht.MEDIA_ENDED]}connectedCallback(){super.connectedCallback(),qG(this)}attributeChangedCallback(e,r,n){super.attributeChangedCallback(e,r,n),(e===ht.MEDIA_PAUSED||e===ht.MEDIA_LANG)&&qG(this)}get mediaPaused(){return Oa(this,ht.MEDIA_PAUSED)}set mediaPaused(e){Pa(this,ht.MEDIA_PAUSED,e)}handleClick(){const e=this.mediaPaused?zn.MEDIA_PLAY_REQUEST:zn.MEDIA_PAUSE_REQUEST;this.dispatchEvent(new tr.CustomEvent(e,{composed:!0,bubbles:!0}))}}rU.getSlotTemplateHTML=HKe;rU.getTooltipContentHTML=QKe;tr.customElements.get("media-play-button")||tr.customElements.define("media-play-button",rU);const nm={PLACEHOLDER_SRC:"placeholdersrc",SRC:"src"};function VKe(t){return`
    <style>
      :host {
        pointer-events: none;
        display: var(--media-poster-image-display, inline-block);
        box-sizing: border-box;
      }

      img {
        max-width: 100%;
        max-height: 100%;
        min-width: 100%;
        min-height: 100%;
        background-repeat: no-repeat;
        background-position: var(--media-poster-image-background-position, var(--media-object-position, center));
        background-size: var(--media-poster-image-background-size, var(--media-object-fit, contain));
        object-fit: var(--media-object-fit, contain);
        object-position: var(--media-object-position, center);
      }
    </style>

    <img part="poster img" aria-hidden="true" id="image"/>
  `}const zKe=t=>{t.style.removeProperty("background-image")},KKe=(t,e)=>{t.style["background-image"]=`url('${e}')`};class nU extends tr.HTMLElement{static get observedAttributes(){return[nm.PLACEHOLDER_SRC,nm.SRC]}constructor(){if(super(),!this.shadowRoot){this.attachShadow(this.constructor.shadowRootOptions);const e=yf(this.attributes);this.shadowRoot.innerHTML=this.constructor.getTemplateHTML(e)}this.image=this.shadowRoot.querySelector("#image")}attributeChangedCallback(e,r,n){e===nm.SRC&&(n==null?this.image.removeAttribute(nm.SRC):this.image.setAttribute(nm.SRC,n)),e===nm.PLACEHOLDER_SRC&&(n==null?zKe(this.image):KKe(this.image,n))}get placeholderSrc(){return Cl(this,nm.PLACEHOLDER_SRC)}set placeholderSrc(e){jl(this,nm.SRC,e)}get src(){return Cl(this,nm.SRC)}set src(e){jl(this,nm.SRC,e)}}nU.shadowRootOptions={mode:"open"};nU.getTemplateHTML=VKe;tr.customElements.get("media-poster-image")||tr.customElements.define("media-poster-image",nU);var Uae=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},GKe=(t,e,r)=>(Uae(t,e,"read from private field"),r?r.call(t):e.get(t)),WKe=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},YKe=(t,e,r,n)=>(Uae(t,e,"write to private field"),e.set(t,r),r),ET;class qKe extends P0{constructor(){super(),WKe(this,ET,void 0),YKe(this,ET,this.shadowRoot.querySelector("slot"))}static get observedAttributes(){return[...super.observedAttributes,ht.MEDIA_PREVIEW_CHAPTER,ht.MEDIA_LANG]}attributeChangedCallback(e,r,n){if(super.attributeChangedCallback(e,r,n),(e===ht.MEDIA_PREVIEW_CHAPTER||e===ht.MEDIA_LANG)&&n!==r&&n!=null)if(GKe(this,ET).textContent=n,n!==""){const i=mi("chapter: {chapterName}",{chapterName:n});this.setAttribute("aria-valuetext",i)}else this.removeAttribute("aria-valuetext")}get mediaPreviewChapter(){return Cl(this,ht.MEDIA_PREVIEW_CHAPTER)}set mediaPreviewChapter(e){jl(this,ht.MEDIA_PREVIEW_CHAPTER,e)}}ET=new WeakMap;tr.customElements.get("media-preview-chapter-display")||tr.customElements.define("media-preview-chapter-display",qKe);var $ae=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},gS=(t,e,r)=>($ae(t,e,"read from private field"),r?r.call(t):e.get(t)),XKe=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},vS=(t,e,r,n)=>($ae(t,e,"write to private field"),e.set(t,r),r),mm;function ZKe(t){return`
    <style>
      :host {
        box-sizing: border-box;
        display: var(--media-control-display, var(--media-preview-thumbnail-display, inline-block));
        overflow: hidden;
      }

      img {
        display: none;
        position: relative;
      }
    </style>
    <img crossorigin loading="eager" decoding="async">
  `}class $5 extends tr.HTMLElement{constructor(){if(super(),XKe(this,mm,void 0),!this.shadowRoot){this.attachShadow(this.constructor.shadowRootOptions);const e=yf(this.attributes);this.shadowRoot.innerHTML=this.constructor.getTemplateHTML(e)}}static get observedAttributes(){return[Ao.MEDIA_CONTROLLER,ht.MEDIA_PREVIEW_IMAGE,ht.MEDIA_PREVIEW_COORDS]}connectedCallback(){var e,r,n;const i=this.getAttribute(Ao.MEDIA_CONTROLLER);i&&(vS(this,mm,(e=this.getRootNode())==null?void 0:e.getElementById(i)),(n=(r=gS(this,mm))==null?void 0:r.associateElement)==null||n.call(r,this))}disconnectedCallback(){var e,r;(r=(e=gS(this,mm))==null?void 0:e.unassociateElement)==null||r.call(e,this),vS(this,mm,null)}attributeChangedCallback(e,r,n){var i,s,a,c,u;[ht.MEDIA_PREVIEW_IMAGE,ht.MEDIA_PREVIEW_COORDS].includes(e)&&this.update(),e===Ao.MEDIA_CONTROLLER&&(r&&((s=(i=gS(this,mm))==null?void 0:i.unassociateElement)==null||s.call(i,this),vS(this,mm,null)),n&&this.isConnected&&(vS(this,mm,(a=this.getRootNode())==null?void 0:a.getElementById(n)),(u=(c=gS(this,mm))==null?void 0:c.associateElement)==null||u.call(c,this)))}get mediaPreviewImage(){return Cl(this,ht.MEDIA_PREVIEW_IMAGE)}set mediaPreviewImage(e){jl(this,ht.MEDIA_PREVIEW_IMAGE,e)}get mediaPreviewCoords(){const e=this.getAttribute(ht.MEDIA_PREVIEW_COORDS);if(e)return e.split(/\s+/).map(r=>+r)}set mediaPreviewCoords(e){if(!e){this.removeAttribute(ht.MEDIA_PREVIEW_COORDS);return}this.setAttribute(ht.MEDIA_PREVIEW_COORDS,e.join(" "))}update(){const e=this.mediaPreviewCoords,r=this.mediaPreviewImage;if(!(e&&r))return;const[n,i,s,a]=e,c=r.split("#")[0],u=getComputedStyle(this),{maxWidth:l,maxHeight:d,minWidth:f,minHeight:A}=u,p=Math.min(parseInt(l)/s,parseInt(d)/a),v=Math.max(parseInt(f)/s,parseInt(A)/a),y=p<1,x=y?p:v>1?v:1,{style:w}=Mu(this.shadowRoot,":host"),E=Mu(this.shadowRoot,"img").style,T=this.shadowRoot.querySelector("img"),C=y?"min":"max";w.setProperty(`${C}-width`,"initial","important"),w.setProperty(`${C}-height`,"initial","important"),w.width=`${s*x}px`,w.height=`${a*x}px`;const j=()=>{E.width=`${this.imgWidth*x}px`,E.height=`${this.imgHeight*x}px`,E.display="block"};T.src!==c&&(T.onload=()=>{this.imgWidth=T.naturalWidth,this.imgHeight=T.naturalHeight,j()},T.src=c,j()),j(),E.transform=`translate(-${n*x}px, -${i*x}px)`}}mm=new WeakMap;$5.shadowRootOptions={mode:"open"};$5.getTemplateHTML=ZKe;tr.customElements.get("media-preview-thumbnail")||tr.customElements.define("media-preview-thumbnail",$5);var XG=$5,Hae=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},ZG=(t,e,r)=>(Hae(t,e,"read from private field"),r?r.call(t):e.get(t)),JKe=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},eGe=(t,e,r,n)=>(Hae(t,e,"write to private field"),e.set(t,r),r),bw;class tGe extends P0{constructor(){super(),JKe(this,bw,void 0),eGe(this,bw,this.shadowRoot.querySelector("slot")),ZG(this,bw).textContent=b0(0)}static get observedAttributes(){return[...super.observedAttributes,ht.MEDIA_PREVIEW_TIME]}attributeChangedCallback(e,r,n){super.attributeChangedCallback(e,r,n),e===ht.MEDIA_PREVIEW_TIME&&n!=null&&(ZG(this,bw).textContent=b0(parseFloat(n)))}get mediaPreviewTime(){return Tl(this,ht.MEDIA_PREVIEW_TIME)}set mediaPreviewTime(e){Rc(this,ht.MEDIA_PREVIEW_TIME,e)}}bw=new WeakMap;tr.customElements.get("media-preview-time-display")||tr.customElements.define("media-preview-time-display",tGe);const ix={SEEK_OFFSET:"seekoffset"},IB=30,rGe=t=>`
  <svg aria-hidden="true" viewBox="0 0 20 24">
    <defs>
      <style>.text{font-size:8px;font-family:Arial-BoldMT, Arial;font-weight:700;}</style>
    </defs>
    <text class="text value" transform="translate(2.18 19.87)">${t}</text>
    <path d="M10 6V3L4.37 7 10 10.94V8a5.54 5.54 0 0 1 1.9 10.48v2.12A7.5 7.5 0 0 0 10 6Z"/>
  </svg>`;function nGe(t,e){return`
    <slot name="icon">${rGe(e.seekOffset)}</slot>
  `}function iGe(){return mi("Seek backward")}const sGe=0;class iU extends pd{static get observedAttributes(){return[...super.observedAttributes,ht.MEDIA_CURRENT_TIME,ix.SEEK_OFFSET]}connectedCallback(){super.connectedCallback(),this.seekOffset=Tl(this,ix.SEEK_OFFSET,IB)}attributeChangedCallback(e,r,n){super.attributeChangedCallback(e,r,n),e===ix.SEEK_OFFSET&&(this.seekOffset=Tl(this,ix.SEEK_OFFSET,IB))}get seekOffset(){return Tl(this,ix.SEEK_OFFSET,IB)}set seekOffset(e){Rc(this,ix.SEEK_OFFSET,e),this.setAttribute("aria-label",mi("seek back {seekOffset} seconds",{seekOffset:this.seekOffset})),Wse(Yse(this,"icon"),this.seekOffset)}get mediaCurrentTime(){return Tl(this,ht.MEDIA_CURRENT_TIME,sGe)}set mediaCurrentTime(e){Rc(this,ht.MEDIA_CURRENT_TIME,e)}handleClick(){const e=Math.max(this.mediaCurrentTime-this.seekOffset,0),r=new tr.CustomEvent(zn.MEDIA_SEEK_REQUEST,{composed:!0,bubbles:!0,detail:e});this.dispatchEvent(r)}}iU.getSlotTemplateHTML=nGe;iU.getTooltipContentHTML=iGe;tr.customElements.get("media-seek-backward-button")||tr.customElements.define("media-seek-backward-button",iU);const sx={SEEK_OFFSET:"seekoffset"},LB=30,aGe=t=>`
  <svg aria-hidden="true" viewBox="0 0 20 24">
    <defs>
      <style>.text{font-size:8px;font-family:Arial-BoldMT, Arial;font-weight:700;}</style>
    </defs>
    <text class="text value" transform="translate(8.9 19.87)">${t}</text>
    <path d="M10 6V3l5.61 4L10 10.94V8a5.54 5.54 0 0 0-1.9 10.48v2.12A7.5 7.5 0 0 1 10 6Z"/>
  </svg>`;function oGe(t,e){return`
    <slot name="icon">${aGe(e.seekOffset)}</slot>
  `}function lGe(){return mi("Seek forward")}const cGe=0;class sU extends pd{static get observedAttributes(){return[...super.observedAttributes,ht.MEDIA_CURRENT_TIME,sx.SEEK_OFFSET]}connectedCallback(){super.connectedCallback(),this.seekOffset=Tl(this,sx.SEEK_OFFSET,LB)}attributeChangedCallback(e,r,n){super.attributeChangedCallback(e,r,n),e===sx.SEEK_OFFSET&&(this.seekOffset=Tl(this,sx.SEEK_OFFSET,LB))}get seekOffset(){return Tl(this,sx.SEEK_OFFSET,LB)}set seekOffset(e){Rc(this,sx.SEEK_OFFSET,e),this.setAttribute("aria-label",mi("seek forward {seekOffset} seconds",{seekOffset:this.seekOffset})),Wse(Yse(this,"icon"),this.seekOffset)}get mediaCurrentTime(){return Tl(this,ht.MEDIA_CURRENT_TIME,cGe)}set mediaCurrentTime(e){Rc(this,ht.MEDIA_CURRENT_TIME,e)}handleClick(){const e=this.mediaCurrentTime+this.seekOffset,r=new tr.CustomEvent(zn.MEDIA_SEEK_REQUEST,{composed:!0,bubbles:!0,detail:e});this.dispatchEvent(r)}}sU.getSlotTemplateHTML=oGe;sU.getTooltipContentHTML=lGe;tr.customElements.get("media-seek-forward-button")||tr.customElements.define("media-seek-forward-button",sU);var Qae=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},BB=(t,e,r)=>(Qae(t,e,"read from private field"),r?r.call(t):e.get(t)),uGe=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},dGe=(t,e,r,n)=>(Qae(t,e,"write to private field"),e.set(t,r),r),Ex;const fv={REMAINING:"remaining",SHOW_DURATION:"showduration",NO_TOGGLE:"notoggle"},JG=[...Object.values(fv),ht.MEDIA_CURRENT_TIME,ht.MEDIA_DURATION,ht.MEDIA_SEEKABLE],eW=["Enter"," "],hGe="&nbsp;/&nbsp;",KP=(t,{timesSep:e=hGe}={})=>{var r,n;const i=(r=t.mediaCurrentTime)!=null?r:0,[,s]=(n=t.mediaSeekable)!=null?n:[];let a=0;Number.isFinite(t.mediaDuration)?a=t.mediaDuration:Number.isFinite(s)&&(a=s);const c=t.remaining?b0(0-(a-i)):b0(i);return t.showDuration?`${c}${e}${b0(a)}`:c},fGe="video not loaded, unknown time.",AGe=t=>{var e;const r=t.mediaCurrentTime,[,n]=(e=t.mediaSeekable)!=null?e:[];let i=null;if(Number.isFinite(t.mediaDuration)?i=t.mediaDuration:Number.isFinite(n)&&(i=n),r==null||i===null){t.setAttribute("aria-valuetext",fGe);return}const s=t.remaining?Yw(0-(i-r)):Yw(r);if(!t.showDuration){t.setAttribute("aria-valuetext",s);return}const a=Yw(i),c=`${s} of ${a}`;t.setAttribute("aria-valuetext",c)};function mGe(t,e){return`
    <slot>${KP(e)}</slot>
  `}class Vae extends P0{constructor(){super(),uGe(this,Ex,void 0),dGe(this,Ex,this.shadowRoot.querySelector("slot")),BB(this,Ex).innerHTML=`${KP(this)}`}static get observedAttributes(){return[...super.observedAttributes,...JG,"disabled"]}connectedCallback(){const{style:e}=Mu(this.shadowRoot,":host(:hover:not([notoggle]))");e.setProperty("cursor","var(--media-cursor, pointer)"),e.setProperty("background","var(--media-control-hover-background, rgba(50 50 70 / .7))"),this.hasAttribute("disabled")||this.enable(),this.setAttribute("role","progressbar"),this.setAttribute("aria-label",mi("playback time"));const r=n=>{const{key:i}=n;if(!eW.includes(i)){this.removeEventListener("keyup",r);return}this.toggleTimeDisplay()};this.addEventListener("keydown",n=>{const{metaKey:i,altKey:s,key:a}=n;if(i||s||!eW.includes(a)){this.removeEventListener("keyup",r);return}this.addEventListener("keyup",r)}),this.addEventListener("click",this.toggleTimeDisplay),super.connectedCallback()}toggleTimeDisplay(){this.noToggle||(this.hasAttribute("remaining")?this.removeAttribute("remaining"):this.setAttribute("remaining",""))}disconnectedCallback(){this.disable(),super.disconnectedCallback()}attributeChangedCallback(e,r,n){JG.includes(e)?this.update():e==="disabled"&&n!==r&&(n==null?this.enable():this.disable()),super.attributeChangedCallback(e,r,n)}enable(){this.tabIndex=0}disable(){this.tabIndex=-1}get remaining(){return Oa(this,fv.REMAINING)}set remaining(e){Pa(this,fv.REMAINING,e)}get showDuration(){return Oa(this,fv.SHOW_DURATION)}set showDuration(e){Pa(this,fv.SHOW_DURATION,e)}get noToggle(){return Oa(this,fv.NO_TOGGLE)}set noToggle(e){Pa(this,fv.NO_TOGGLE,e)}get mediaDuration(){return Tl(this,ht.MEDIA_DURATION)}set mediaDuration(e){Rc(this,ht.MEDIA_DURATION,e)}get mediaCurrentTime(){return Tl(this,ht.MEDIA_CURRENT_TIME)}set mediaCurrentTime(e){Rc(this,ht.MEDIA_CURRENT_TIME,e)}get mediaSeekable(){const e=this.getAttribute(ht.MEDIA_SEEKABLE);if(e)return e.split(":").map(r=>+r)}set mediaSeekable(e){if(e==null){this.removeAttribute(ht.MEDIA_SEEKABLE);return}this.setAttribute(ht.MEDIA_SEEKABLE,e.join(":"))}update(){const e=KP(this);AGe(this),e!==BB(this,Ex).innerHTML&&(BB(this,Ex).innerHTML=e)}}Ex=new WeakMap;Vae.getSlotTemplateHTML=mGe;tr.customElements.get("media-time-display")||tr.customElements.define("media-time-display",Vae);var zae=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},id=(t,e,r)=>(zae(t,e,"read from private field"),e.get(t)),im=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},Zh=(t,e,r,n)=>(zae(t,e,"write to private field"),e.set(t,r),r),pGe=(t,e,r,n)=>({set _(i){Zh(t,e,i)},get _(){return id(t,e)}}),_x,_T,Sx,ww,ST,TT,CT,Tx,Av,jT;class gGe{constructor(e,r,n){im(this,_x,void 0),im(this,_T,void 0),im(this,Sx,void 0),im(this,ww,void 0),im(this,ST,void 0),im(this,TT,void 0),im(this,CT,void 0),im(this,Tx,void 0),im(this,Av,0),im(this,jT,(i=performance.now())=>{Zh(this,Av,requestAnimationFrame(id(this,jT))),Zh(this,ww,performance.now()-id(this,Sx));const s=1e3/this.fps;if(id(this,ww)>s){Zh(this,Sx,i-id(this,ww)%s);const a=1e3/((i-id(this,_T))/++pGe(this,ST)._),c=(i-id(this,TT))/1e3/this.duration;let u=id(this,CT)+c*this.playbackRate;u-id(this,_x).valueAsNumber>0?Zh(this,Tx,this.playbackRate/this.duration/a):(Zh(this,Tx,.995*id(this,Tx)),u=id(this,_x).valueAsNumber+id(this,Tx)),this.callback(u)}}),Zh(this,_x,e),this.callback=r,this.fps=n}start(){id(this,Av)===0&&(Zh(this,Sx,performance.now()),Zh(this,_T,id(this,Sx)),Zh(this,ST,0),id(this,jT).call(this))}stop(){id(this,Av)!==0&&(cancelAnimationFrame(id(this,Av)),Zh(this,Av,0))}update({start:e,duration:r,playbackRate:n}){const i=e-id(this,_x).valueAsNumber,s=Math.abs(r-this.duration);(i>0||i<-.03||s>=.5)&&this.callback(e),Zh(this,CT,e),Zh(this,TT,performance.now()),this.duration=r,this.playbackRate=n}}_x=new WeakMap;_T=new WeakMap;Sx=new WeakMap;ww=new WeakMap;ST=new WeakMap;TT=new WeakMap;CT=new WeakMap;Tx=new WeakMap;Av=new WeakMap;jT=new WeakMap;var aU=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},Zc=(t,e,r)=>(aU(t,e,"read from private field"),r?r.call(t):e.get(t)),ku=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},Pf=(t,e,r,n)=>(aU(t,e,"write to private field"),e.set(t,r),r),Zd=(t,e,r)=>(aU(t,e,"access private method"),r),Cx,Kv,Wj,Zw,Yj,NT,WE,YE,jx,Nx,kx,Ew,oU,Kae,GP,qj,lU,Xj,cU,Zj,uU,WP,Gae,qE,Jj,YP,Wae;const vGe="video not loaded, unknown time.",yGe=t=>{const e=t.range,r=Yw(+Yae(t)),n=Yw(+t.mediaSeekableEnd),i=r&&n?`${r} of ${n}`:vGe;e.setAttribute("aria-valuetext",i)};function xGe(t){return`
    <style>
      :host {
        --media-box-border-radius: 4px;
        --media-box-padding-left: 10px;
        --media-box-padding-right: 10px;
        --media-preview-border-radius: var(--media-box-border-radius);
        --media-box-arrow-offset: var(--media-box-border-radius);
        --_control-background: var(--media-control-background, var(--media-secondary-color, rgb(20 20 30 / .7)));
        --_preview-background: var(--media-preview-background, var(--_control-background));

        
        contain: layout;
      }

      #buffered {
        background: var(--media-time-range-buffered-color, rgb(255 255 255 / .4));
        position: absolute;
        height: 100%;
        will-change: width;
      }

      #preview-rail,
      #current-rail {
        width: 100%;
        position: absolute;
        left: 0;
        bottom: 100%;
        pointer-events: none;
        will-change: transform;
      }

      [part~="box"] {
        width: min-content;
        
        position: absolute;
        bottom: 100%;
        flex-direction: column;
        align-items: center;
        transform: translateX(-50%);
      }

      [part~="current-box"] {
        display: var(--media-current-box-display, var(--media-box-display, flex));
        margin: var(--media-current-box-margin, var(--media-box-margin, 0 0 5px));
        visibility: hidden;
      }

      [part~="preview-box"] {
        display: var(--media-preview-box-display, var(--media-box-display, flex));
        margin: var(--media-preview-box-margin, var(--media-box-margin, 0 0 5px));
        transition-property: var(--media-preview-transition-property, visibility, opacity);
        transition-duration: var(--media-preview-transition-duration-out, .25s);
        transition-delay: var(--media-preview-transition-delay-out, 0s);
        visibility: hidden;
        opacity: 0;
      }

      :host(:is([${ht.MEDIA_PREVIEW_IMAGE}], [${ht.MEDIA_PREVIEW_TIME}])[dragging]) [part~="preview-box"] {
        transition-duration: var(--media-preview-transition-duration-in, .5s);
        transition-delay: var(--media-preview-transition-delay-in, .25s);
        visibility: visible;
        opacity: 1;
      }

      @media (hover: hover) {
        :host(:is([${ht.MEDIA_PREVIEW_IMAGE}], [${ht.MEDIA_PREVIEW_TIME}]):hover) [part~="preview-box"] {
          transition-duration: var(--media-preview-transition-duration-in, .5s);
          transition-delay: var(--media-preview-transition-delay-in, .25s);
          visibility: visible;
          opacity: 1;
        }
      }

      media-preview-thumbnail,
      ::slotted(media-preview-thumbnail) {
        visibility: hidden;
        
        transition: visibility 0s .25s;
        transition-delay: calc(var(--media-preview-transition-delay-out, 0s) + var(--media-preview-transition-duration-out, .25s));
        background: var(--media-preview-thumbnail-background, var(--_preview-background));
        box-shadow: var(--media-preview-thumbnail-box-shadow, 0 0 4px rgb(0 0 0 / .2));
        max-width: var(--media-preview-thumbnail-max-width, 180px);
        max-height: var(--media-preview-thumbnail-max-height, 160px);
        min-width: var(--media-preview-thumbnail-min-width, 120px);
        min-height: var(--media-preview-thumbnail-min-height, 80px);
        border: var(--media-preview-thumbnail-border);
        border-radius: var(--media-preview-thumbnail-border-radius,
          var(--media-preview-border-radius) var(--media-preview-border-radius) 0 0);
      }

      :host([${ht.MEDIA_PREVIEW_IMAGE}][dragging]) media-preview-thumbnail,
      :host([${ht.MEDIA_PREVIEW_IMAGE}][dragging]) ::slotted(media-preview-thumbnail) {
        transition-delay: var(--media-preview-transition-delay-in, .25s);
        visibility: visible;
      }

      @media (hover: hover) {
        :host([${ht.MEDIA_PREVIEW_IMAGE}]:hover) media-preview-thumbnail,
        :host([${ht.MEDIA_PREVIEW_IMAGE}]:hover) ::slotted(media-preview-thumbnail) {
          transition-delay: var(--media-preview-transition-delay-in, .25s);
          visibility: visible;
        }

        :host([${ht.MEDIA_PREVIEW_TIME}]:hover) {
          --media-time-range-hover-display: block;
        }
      }

      media-preview-chapter-display,
      ::slotted(media-preview-chapter-display) {
        font-size: var(--media-font-size, 13px);
        line-height: 17px;
        min-width: 0;
        visibility: hidden;
        
        transition: min-width 0s, border-radius 0s, margin 0s, padding 0s, visibility 0s;
        transition-delay: calc(var(--media-preview-transition-delay-out, 0s) + var(--media-preview-transition-duration-out, .25s));
        background: var(--media-preview-chapter-background, var(--_preview-background));
        border-radius: var(--media-preview-chapter-border-radius,
          var(--media-preview-border-radius) var(--media-preview-border-radius)
          var(--media-preview-border-radius) var(--media-preview-border-radius));
        padding: var(--media-preview-chapter-padding, 3.5px 9px);
        margin: var(--media-preview-chapter-margin, 0 0 5px);
        text-shadow: var(--media-preview-chapter-text-shadow, 0 0 4px rgb(0 0 0 / .75));
      }

      :host([${ht.MEDIA_PREVIEW_IMAGE}]) media-preview-chapter-display,
      :host([${ht.MEDIA_PREVIEW_IMAGE}]) ::slotted(media-preview-chapter-display) {
        transition-delay: var(--media-preview-transition-delay-in, .25s);
        border-radius: var(--media-preview-chapter-border-radius, 0);
        padding: var(--media-preview-chapter-padding, 3.5px 9px 0);
        margin: var(--media-preview-chapter-margin, 0);
        min-width: 100%;
      }

      media-preview-chapter-display[${ht.MEDIA_PREVIEW_CHAPTER}],
      ::slotted(media-preview-chapter-display[${ht.MEDIA_PREVIEW_CHAPTER}]) {
        visibility: visible;
      }

      media-preview-chapter-display:not([aria-valuetext]),
      ::slotted(media-preview-chapter-display:not([aria-valuetext])) {
        display: none;
      }

      media-preview-time-display,
      ::slotted(media-preview-time-display),
      media-time-display,
      ::slotted(media-time-display) {
        font-size: var(--media-font-size, 13px);
        line-height: 17px;
        min-width: 0;
        
        transition: min-width 0s, border-radius 0s;
        transition-delay: calc(var(--media-preview-transition-delay-out, 0s) + var(--media-preview-transition-duration-out, .25s));
        background: var(--media-preview-time-background, var(--_preview-background));
        border-radius: var(--media-preview-time-border-radius,
          var(--media-preview-border-radius) var(--media-preview-border-radius)
          var(--media-preview-border-radius) var(--media-preview-border-radius));
        padding: var(--media-preview-time-padding, 3.5px 9px);
        margin: var(--media-preview-time-margin, 0);
        text-shadow: var(--media-preview-time-text-shadow, 0 0 4px rgb(0 0 0 / .75));
        transform: translateX(min(
          max(calc(50% - var(--_box-width) / 2),
          calc(var(--_box-shift, 0))),
          calc(var(--_box-width) / 2 - 50%)
        ));
      }

      :host([${ht.MEDIA_PREVIEW_IMAGE}]) media-preview-time-display,
      :host([${ht.MEDIA_PREVIEW_IMAGE}]) ::slotted(media-preview-time-display) {
        transition-delay: var(--media-preview-transition-delay-in, .25s);
        border-radius: var(--media-preview-time-border-radius,
          0 0 var(--media-preview-border-radius) var(--media-preview-border-radius));
        min-width: 100%;
      }

      :host([${ht.MEDIA_PREVIEW_TIME}]:hover) {
        --media-time-range-hover-display: block;
      }

      [part~="arrow"],
      ::slotted([part~="arrow"]) {
        display: var(--media-box-arrow-display, inline-block);
        transform: translateX(min(
          max(calc(50% - var(--_box-width) / 2 + var(--media-box-arrow-offset)),
          calc(var(--_box-shift, 0))),
          calc(var(--_box-width) / 2 - 50% - var(--media-box-arrow-offset))
        ));
        
        border-color: transparent;
        border-top-color: var(--media-box-arrow-background, var(--_control-background));
        border-width: var(--media-box-arrow-border-width,
          var(--media-box-arrow-height, 5px) var(--media-box-arrow-width, 6px) 0);
        border-style: solid;
        justify-content: center;
        height: 0;
      }
    </style>
    <div id="preview-rail">
      <slot name="preview" part="box preview-box">
        <media-preview-thumbnail>
          <template shadowrootmode="${XG.shadowRootOptions.mode}">
            ${XG.getTemplateHTML({})}
          </template>
        </media-preview-thumbnail>
        <media-preview-chapter-display></media-preview-chapter-display>
        <media-preview-time-display></media-preview-time-display>
        <slot name="preview-arrow"><div part="arrow"></div></slot>
      </slot>
    </div>
    <div id="current-rail">
      <slot name="current" part="box current-box">
        
      </slot>
    </div>
  `}const yS=(t,e=t.mediaCurrentTime)=>{const r=Number.isFinite(t.mediaSeekableStart)?t.mediaSeekableStart:0,n=Number.isFinite(t.mediaDuration)?t.mediaDuration:t.mediaSeekableEnd;if(Number.isNaN(n))return 0;const i=(e-r)/(n-r);return Math.max(0,Math.min(i,1))},Yae=(t,e=t.range.valueAsNumber)=>{const r=Number.isFinite(t.mediaSeekableStart)?t.mediaSeekableStart:0,n=Number.isFinite(t.mediaDuration)?t.mediaDuration:t.mediaSeekableEnd;return Number.isNaN(n)?0:e*(n-r)+r};class dU extends c1{constructor(){super(),ku(this,kx),ku(this,oU),ku(this,qj),ku(this,Xj),ku(this,Zj),ku(this,WP),ku(this,qE),ku(this,YP),ku(this,Cx,void 0),ku(this,Kv,void 0),ku(this,Wj,void 0),ku(this,Zw,void 0),ku(this,Yj,void 0),ku(this,NT,void 0),ku(this,WE,void 0),ku(this,YE,void 0),ku(this,jx,void 0),ku(this,Nx,void 0),ku(this,GP,n=>{this.dragging||(IF(n)&&(this.range.valueAsNumber=n),Zc(this,Nx)||this.updateBar())}),this.shadowRoot.querySelector("#track").insertAdjacentHTML("afterbegin",'<div id="buffered" part="buffered"></div>'),Pf(this,Wj,this.shadowRoot.querySelectorAll('[part~="box"]')),Pf(this,Yj,this.shadowRoot.querySelector('[part~="preview-box"]')),Pf(this,NT,this.shadowRoot.querySelector('[part~="current-box"]'));const r=getComputedStyle(this);Pf(this,WE,parseInt(r.getPropertyValue("--media-box-padding-left"))),Pf(this,YE,parseInt(r.getPropertyValue("--media-box-padding-right"))),Pf(this,Kv,new gGe(this.range,Zc(this,GP),60))}static get observedAttributes(){return[...super.observedAttributes,ht.MEDIA_PAUSED,ht.MEDIA_DURATION,ht.MEDIA_SEEKABLE,ht.MEDIA_CURRENT_TIME,ht.MEDIA_PREVIEW_IMAGE,ht.MEDIA_PREVIEW_TIME,ht.MEDIA_PREVIEW_CHAPTER,ht.MEDIA_BUFFERED,ht.MEDIA_PLAYBACK_RATE,ht.MEDIA_LOADING,ht.MEDIA_ENDED]}connectedCallback(){var e;super.connectedCallback(),this.range.setAttribute("aria-label",mi("seek")),Zd(this,kx,Ew).call(this),Pf(this,Cx,this.getRootNode()),(e=Zc(this,Cx))==null||e.addEventListener("transitionstart",this)}disconnectedCallback(){var e;super.disconnectedCallback(),Zd(this,kx,Ew).call(this),(e=Zc(this,Cx))==null||e.removeEventListener("transitionstart",this),Pf(this,Cx,null)}attributeChangedCallback(e,r,n){super.attributeChangedCallback(e,r,n),r!=n&&(e===ht.MEDIA_CURRENT_TIME||e===ht.MEDIA_PAUSED||e===ht.MEDIA_ENDED||e===ht.MEDIA_LOADING||e===ht.MEDIA_DURATION||e===ht.MEDIA_SEEKABLE?(Zc(this,Kv).update({start:yS(this),duration:this.mediaSeekableEnd-this.mediaSeekableStart,playbackRate:this.mediaPlaybackRate}),Zd(this,kx,Ew).call(this),yGe(this)):e===ht.MEDIA_BUFFERED&&this.updateBufferedBar(),(e===ht.MEDIA_DURATION||e===ht.MEDIA_SEEKABLE)&&(this.mediaChaptersCues=Zc(this,jx),this.updateBar()))}get mediaChaptersCues(){return Zc(this,jx)}set mediaChaptersCues(e){var r;Pf(this,jx,e),this.updateSegments((r=Zc(this,jx))==null?void 0:r.map(n=>({start:yS(this,n.startTime),end:yS(this,n.endTime)})))}get mediaPaused(){return Oa(this,ht.MEDIA_PAUSED)}set mediaPaused(e){Pa(this,ht.MEDIA_PAUSED,e)}get mediaLoading(){return Oa(this,ht.MEDIA_LOADING)}set mediaLoading(e){Pa(this,ht.MEDIA_LOADING,e)}get mediaDuration(){return Tl(this,ht.MEDIA_DURATION)}set mediaDuration(e){Rc(this,ht.MEDIA_DURATION,e)}get mediaCurrentTime(){return Tl(this,ht.MEDIA_CURRENT_TIME)}set mediaCurrentTime(e){Rc(this,ht.MEDIA_CURRENT_TIME,e)}get mediaPlaybackRate(){return Tl(this,ht.MEDIA_PLAYBACK_RATE,1)}set mediaPlaybackRate(e){Rc(this,ht.MEDIA_PLAYBACK_RATE,e)}get mediaBuffered(){const e=this.getAttribute(ht.MEDIA_BUFFERED);return e?e.split(" ").map(r=>r.split(":").map(n=>+n)):[]}set mediaBuffered(e){if(!e){this.removeAttribute(ht.MEDIA_BUFFERED);return}const r=e.map(n=>n.join(":")).join(" ");this.setAttribute(ht.MEDIA_BUFFERED,r)}get mediaSeekable(){const e=this.getAttribute(ht.MEDIA_SEEKABLE);if(e)return e.split(":").map(r=>+r)}set mediaSeekable(e){if(e==null){this.removeAttribute(ht.MEDIA_SEEKABLE);return}this.setAttribute(ht.MEDIA_SEEKABLE,e.join(":"))}get mediaSeekableEnd(){var e;const[,r=this.mediaDuration]=(e=this.mediaSeekable)!=null?e:[];return r}get mediaSeekableStart(){var e;const[r=0]=(e=this.mediaSeekable)!=null?e:[];return r}get mediaPreviewImage(){return Cl(this,ht.MEDIA_PREVIEW_IMAGE)}set mediaPreviewImage(e){jl(this,ht.MEDIA_PREVIEW_IMAGE,e)}get mediaPreviewTime(){return Tl(this,ht.MEDIA_PREVIEW_TIME)}set mediaPreviewTime(e){Rc(this,ht.MEDIA_PREVIEW_TIME,e)}get mediaEnded(){return Oa(this,ht.MEDIA_ENDED)}set mediaEnded(e){Pa(this,ht.MEDIA_ENDED,e)}updateBar(){super.updateBar(),this.updateBufferedBar(),this.updateCurrentBox()}updateBufferedBar(){var e;const r=this.mediaBuffered;if(!r.length)return;let n;if(this.mediaEnded)n=1;else{const s=this.mediaCurrentTime,[,a=this.mediaSeekableStart]=(e=r.find(([c,u])=>c<=s&&s<=u))!=null?e:[];n=yS(this,a)}const{style:i}=Mu(this.shadowRoot,"#buffered");i.setProperty("width",`${n*100}%`)}updateCurrentBox(){if(!this.shadowRoot.querySelector('slot[name="current"]').assignedElements().length)return;const r=Mu(this.shadowRoot,"#current-rail"),n=Mu(this.shadowRoot,'[part~="current-box"]'),i=Zd(this,qj,lU).call(this,Zc(this,NT)),s=Zd(this,Xj,cU).call(this,i,this.range.valueAsNumber),a=Zd(this,Zj,uU).call(this,i,this.range.valueAsNumber);r.style.transform=`translateX(${s})`,r.style.setProperty("--_range-width",`${i.range.width}`),n.style.setProperty("--_box-shift",`${a}`),n.style.setProperty("--_box-width",`${i.box.width}px`),n.style.setProperty("visibility","initial")}handleEvent(e){switch(super.handleEvent(e),e.type){case"input":Zd(this,YP,Wae).call(this);break;case"pointermove":Zd(this,WP,Gae).call(this,e);break;case"pointerup":Zc(this,Nx)&&Pf(this,Nx,!1);break;case"pointerdown":Pf(this,Nx,!0);break;case"pointerleave":Zd(this,qE,Jj).call(this,null);break;case"transitionstart":og(e.target,this)&&setTimeout(()=>Zd(this,kx,Ew).call(this),0);break}}}Cx=new WeakMap;Kv=new WeakMap;Wj=new WeakMap;Zw=new WeakMap;Yj=new WeakMap;NT=new WeakMap;WE=new WeakMap;YE=new WeakMap;jx=new WeakMap;Nx=new WeakMap;kx=new WeakSet;Ew=function(){Zd(this,oU,Kae).call(this)?Zc(this,Kv).start():Zc(this,Kv).stop()};oU=new WeakSet;Kae=function(){return this.isConnected&&!this.mediaPaused&&!this.mediaLoading&&!this.mediaEnded&&this.mediaSeekableEnd>0&&qse(this)};GP=new WeakMap;qj=new WeakSet;lU=function(t){var e;const n=((e=this.getAttribute("bounds")?o1(this,`#${this.getAttribute("bounds")}`):this.parentElement)!=null?e:this).getBoundingClientRect(),i=this.range.getBoundingClientRect(),s=t.offsetWidth,a=-(i.left-n.left-s/2),c=n.right-i.left-s/2;return{box:{width:s,min:a,max:c},bounds:n,range:i}};Xj=new WeakSet;cU=function(t,e){let r=`${e*100}%`;const{width:n,min:i,max:s}=t.box;if(!n)return r;if(Number.isNaN(i)||(r=`max(${`calc(1 / var(--_range-width) * 100 * ${i}% + var(--media-box-padding-left))`}, ${r})`),!Number.isNaN(s)){const c=`calc(1 / var(--_range-width) * 100 * ${s}% - var(--media-box-padding-right))`;r=`min(${r}, ${c})`}return r};Zj=new WeakSet;uU=function(t,e){const{width:r,min:n,max:i}=t.box,s=e*t.range.width;if(s<n+Zc(this,WE)){const a=t.range.left-t.bounds.left-Zc(this,WE);return`${s-r/2+a}px`}if(s>i-Zc(this,YE)){const a=t.bounds.right-t.range.right-Zc(this,YE);return`${s+r/2-a-t.range.width}px`}return 0};WP=new WeakSet;Gae=function(t){const e=[...Zc(this,Wj)].some(d=>t.composedPath().includes(d));if(!this.dragging&&(e||!t.composedPath().includes(this))){Zd(this,qE,Jj).call(this,null);return}const r=this.mediaSeekableEnd;if(!r)return;const n=Mu(this.shadowRoot,"#preview-rail"),i=Mu(this.shadowRoot,'[part~="preview-box"]'),s=Zd(this,qj,lU).call(this,Zc(this,Yj));let a=(t.clientX-s.range.left)/s.range.width;a=Math.max(0,Math.min(1,a));const c=Zd(this,Xj,cU).call(this,s,a),u=Zd(this,Zj,uU).call(this,s,a);n.style.transform=`translateX(${c})`,n.style.setProperty("--_range-width",`${s.range.width}`),i.style.setProperty("--_box-shift",`${u}`),i.style.setProperty("--_box-width",`${s.box.width}px`);const l=Math.round(Zc(this,Zw))-Math.round(a*r);Math.abs(l)<1&&a>.01&&a<.99||(Pf(this,Zw,a*r),Zd(this,qE,Jj).call(this,Zc(this,Zw)))};qE=new WeakSet;Jj=function(t){this.dispatchEvent(new tr.CustomEvent(zn.MEDIA_PREVIEW_REQUEST,{composed:!0,bubbles:!0,detail:t}))};YP=new WeakSet;Wae=function(){Zc(this,Kv).stop();const t=Yae(this);this.dispatchEvent(new tr.CustomEvent(zn.MEDIA_SEEK_REQUEST,{composed:!0,bubbles:!0,detail:t}))};dU.shadowRootOptions={mode:"open"};dU.getContainerTemplateHTML=xGe;tr.customElements.get("media-time-range")||tr.customElements.define("media-time-range",dU);const bGe=1,wGe=t=>t.mediaMuted?0:t.mediaVolume,EGe=t=>`${Math.round(t*100)}%`;class _Ge extends c1{static get observedAttributes(){return[...super.observedAttributes,ht.MEDIA_VOLUME,ht.MEDIA_MUTED,ht.MEDIA_VOLUME_UNAVAILABLE]}constructor(){super(),this.range.addEventListener("input",()=>{const e=this.range.value,r=new tr.CustomEvent(zn.MEDIA_VOLUME_REQUEST,{composed:!0,bubbles:!0,detail:e});this.dispatchEvent(r)})}connectedCallback(){super.connectedCallback(),this.range.setAttribute("aria-label",mi("volume"))}attributeChangedCallback(e,r,n){super.attributeChangedCallback(e,r,n),(e===ht.MEDIA_VOLUME||e===ht.MEDIA_MUTED)&&(this.range.valueAsNumber=wGe(this),this.range.setAttribute("aria-valuetext",EGe(this.range.valueAsNumber)),this.updateBar())}get mediaVolume(){return Tl(this,ht.MEDIA_VOLUME,bGe)}set mediaVolume(e){Rc(this,ht.MEDIA_VOLUME,e)}get mediaMuted(){return Oa(this,ht.MEDIA_MUTED)}set mediaMuted(e){Pa(this,ht.MEDIA_MUTED,e)}get mediaVolumeUnavailable(){return Cl(this,ht.MEDIA_VOLUME_UNAVAILABLE)}set mediaVolumeUnavailable(e){jl(this,ht.MEDIA_VOLUME_UNAVAILABLE,e)}}tr.customElements.get("media-volume-range")||tr.customElements.define("media-volume-range",_Ge);function SGe(t){return`
      <style>
        :host {
          min-width: 4ch;
          padding: var(--media-button-padding, var(--media-control-padding, 10px 5px));
          width: 100%;
          display: grid;
          grid-template-columns: 1fr auto;
          gap: 1rem;
          font-weight: var(--media-button-font-weight, normal);
        }

        #checked-indicator {
          display: none;
        }

        :host([${ht.MEDIA_LOOP}]) #checked-indicator {
          display: block;
        }
      </style>
      
      <span id="icon">
     </span>

      <div id="checked-indicator">
        <svg aria-hidden="true" viewBox="0 1 24 24" part="checked-indicator indicator">
          <path d="m10 15.17 9.193-9.191 1.414 1.414-10.606 10.606-6.364-6.364 1.414-1.414 4.95 4.95Z"/>
        </svg>
      </div>
    `}function TGe(){return mi("Loop")}class hU extends pd{constructor(){super(...arguments),this.container=null}static get observedAttributes(){return[...super.observedAttributes,ht.MEDIA_LOOP]}connectedCallback(){var e;super.connectedCallback(),this.container=((e=this.shadowRoot)==null?void 0:e.querySelector("#icon"))||null,this.container&&(this.container.textContent=mi("Loop"))}attributeChangedCallback(e,r,n){super.attributeChangedCallback(e,r,n),e===ht.MEDIA_LOOP&&this.container&&this.setAttribute("aria-checked",this.mediaLoop?"true":"false")}get mediaLoop(){return Oa(this,ht.MEDIA_LOOP)}set mediaLoop(e){Pa(this,ht.MEDIA_LOOP,e)}handleClick(){const e=!this.mediaLoop,r=new tr.CustomEvent(zn.MEDIA_LOOP_REQUEST,{composed:!0,bubbles:!0,detail:e});this.dispatchEvent(r)}}hU.getSlotTemplateHTML=SGe;hU.getTooltipContentHTML=TGe;tr.customElements.get("media-loop-button")||tr.customElements.define("media-loop-button",hU);var qae=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},ma=(t,e,r)=>(qae(t,e,"read from private field"),r?r.call(t):e.get(t)),wm=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},Ip=(t,e,r,n)=>(qae(t,e,"write to private field"),e.set(t,r),r),Ix,kT,mv,_w,Yg,qg,Xg,pv,Lx,IT,mA;const tW=1,rW=0,CGe=1,jGe={processCallback(t,e,r){if(r){for(const[n,i]of e)if(n in r){const s=r[n];typeof s=="boolean"&&i instanceof kA&&typeof i.element[i.attributeName]=="boolean"?i.booleanValue=s:typeof s=="function"&&i instanceof kA?i.element[i.attributeName]=s:i.value=s}}}};class H5 extends tr.DocumentFragment{constructor(e,r,n=jGe){var i;super(),wm(this,Ix,void 0),wm(this,kT,void 0),this.append(e.content.cloneNode(!0)),Ip(this,Ix,Xae(this)),Ip(this,kT,n),(i=n.createCallback)==null||i.call(n,this,ma(this,Ix),r),n.processCallback(this,ma(this,Ix),r)}update(e){ma(this,kT).processCallback(this,ma(this,Ix),e)}}Ix=new WeakMap;kT=new WeakMap;const Xae=(t,e=[])=>{let r,n;for(const i of t.attributes||[])if(i.value.includes("{{")){const s=new kGe;for([r,n]of iW(i.value))if(!r)s.append(n);else{const a=new kA(t,i.name,i.namespaceURI);s.append(a),e.push([n,a])}i.value=s.toString()}for(const i of t.childNodes)if(i.nodeType===tW&&!(i instanceof HTMLTemplateElement))Xae(i,e);else{const s=i.data;if(i.nodeType===tW||s.includes("{{")){const a=[];if(s)for([r,n]of iW(s))if(!r)a.push(new Text(n));else{const c=new u1(t);a.push(c),e.push([n,c])}else if(i instanceof HTMLTemplateElement){const c=new eoe(t,i);a.push(c),e.push([c.expression,c])}i.replaceWith(...a.flatMap(c=>c.replacementNodes||[c]))}}return e},nW={},iW=t=>{let e="",r=0,n=nW[t],i=0,s;if(n)return n;for(n=[];s=t[i];i++)s==="{"&&t[i+1]==="{"&&t[i-1]!=="\\"&&t[i+2]&&++r==1?(e&&n.push([rW,e]),e="",i++):s==="}"&&t[i+1]==="}"&&t[i-1]!=="\\"&&!--r?(n.push([CGe,e.trim()]),e="",i++):e+=s||"";return e&&n.push([rW,(r>0?"{{":"")+e]),nW[t]=n},NGe=11;class Zae{get value(){return""}set value(e){}toString(){return this.value}}const Jae=new WeakMap;class kGe{constructor(){wm(this,mv,[])}[Symbol.iterator](){return ma(this,mv).values()}get length(){return ma(this,mv).length}item(e){return ma(this,mv)[e]}append(...e){for(const r of e)r instanceof kA&&Jae.set(r,this),ma(this,mv).push(r)}toString(){return ma(this,mv).join("")}}mv=new WeakMap;class kA extends Zae{constructor(e,r,n){super(),wm(this,pv),wm(this,_w,""),wm(this,Yg,void 0),wm(this,qg,void 0),wm(this,Xg,void 0),Ip(this,Yg,e),Ip(this,qg,r),Ip(this,Xg,n)}get attributeName(){return ma(this,qg)}get attributeNamespace(){return ma(this,Xg)}get element(){return ma(this,Yg)}get value(){return ma(this,_w)}set value(e){ma(this,_w)!==e&&(Ip(this,_w,e),!ma(this,pv,Lx)||ma(this,pv,Lx).length===1?e==null?ma(this,Yg).removeAttributeNS(ma(this,Xg),ma(this,qg)):ma(this,Yg).setAttributeNS(ma(this,Xg),ma(this,qg),e):ma(this,Yg).setAttributeNS(ma(this,Xg),ma(this,qg),ma(this,pv,Lx).toString()))}get booleanValue(){return ma(this,Yg).hasAttributeNS(ma(this,Xg),ma(this,qg))}set booleanValue(e){if(!ma(this,pv,Lx)||ma(this,pv,Lx).length===1)this.value=e?"":null;else throw new DOMException("Value is not fully templatized")}}_w=new WeakMap;Yg=new WeakMap;qg=new WeakMap;Xg=new WeakMap;pv=new WeakSet;Lx=function(){return Jae.get(this)};class u1 extends Zae{constructor(e,r){super(),wm(this,IT,void 0),wm(this,mA,void 0),Ip(this,IT,e),Ip(this,mA,r?[...r]:[new Text])}get replacementNodes(){return ma(this,mA)}get parentNode(){return ma(this,IT)}get nextSibling(){return ma(this,mA)[ma(this,mA).length-1].nextSibling}get previousSibling(){return ma(this,mA)[0].previousSibling}get value(){return ma(this,mA).map(e=>e.textContent).join("")}set value(e){this.replace(e)}replace(...e){const r=e.flat().flatMap(n=>n==null?[new Text]:n.forEach?[...n]:n.nodeType===NGe?[...n.childNodes]:n.nodeType?[n]:[new Text(n)]);r.length||r.push(new Text),Ip(this,mA,IGe(ma(this,mA)[0].parentNode,ma(this,mA),r,this.nextSibling))}}IT=new WeakMap;mA=new WeakMap;class eoe extends u1{constructor(e,r){const n=r.getAttribute("directive")||r.getAttribute("type");let i=r.getAttribute("expression")||r.getAttribute(n)||"";i.startsWith("{{")&&(i=i.trim().slice(2,-2).trim()),super(e),this.expression=i,this.template=r,this.directive=n}}function IGe(t,e,r,n=null){let i=0,s,a,c,u=r.length,l=e.length;for(;i<u&&i<l&&e[i]==r[i];)i++;for(;i<u&&i<l&&r[u-1]==e[l-1];)n=r[--l,--u];if(i==l)for(;i<u;)t.insertBefore(r[i++],n);if(i==u)for(;i<l;)t.removeChild(e[i++]);else{for(s=e[i];i<u;)c=r[i++],a=s?s.nextSibling:n,s==c?s=a:i<u&&r[i]==a?(t.replaceChild(c,s),s=a):t.insertBefore(c,s);for(;s!=n;)a=s.nextSibling,t.removeChild(s),s=a}return r}const sW={string:t=>String(t)};class toe{constructor(e){this.template=e,this.state=void 0}}const Ov=new WeakMap,Pv=new WeakMap,qP={partial:(t,e)=>{e[t.expression]=new toe(t.template)},if:(t,e)=>{var r;if(roe(t.expression,e))if(Ov.get(t)!==t.template){Ov.set(t,t.template);const n=new H5(t.template,e,fU);t.replace(n),Pv.set(t,n)}else(r=Pv.get(t))==null||r.update(e);else t.replace(""),Ov.delete(t),Pv.delete(t)}},LGe=Object.keys(qP),fU={processCallback(t,e,r){var n,i;if(r)for(const[s,a]of e){if(a instanceof eoe){if(!a.directive){const u=LGe.find(l=>a.template.hasAttribute(l));u&&(a.directive=u,a.expression=a.template.getAttribute(u))}(n=qP[a.directive])==null||n.call(qP,a,r);continue}let c=roe(s,r);if(c instanceof toe){Ov.get(a)!==c.template?(Ov.set(a,c.template),c=new H5(c.template,c.state,fU),a.value=c,Pv.set(a,c)):(i=Pv.get(a))==null||i.update(c.state);continue}c?(a instanceof kA&&a.attributeName.startsWith("aria-")&&(c=String(c)),a instanceof kA?typeof c=="boolean"?a.booleanValue=c:typeof c=="function"?a.element[a.attributeName]=c:a.value=c:(a.value=c,Ov.delete(a),Pv.delete(a))):a instanceof kA?a.value=void 0:(a.value=void 0,Ov.delete(a),Pv.delete(a))}}},aW={"!":t=>!t,"!!":t=>!!t,"==":(t,e)=>t==e,"!=":(t,e)=>t!=e,">":(t,e)=>t>e,">=":(t,e)=>t>=e,"<":(t,e)=>t<e,"<=":(t,e)=>t<=e,"??":(t,e)=>t??e,"|":(t,e)=>{var r;return(r=sW[e])==null?void 0:r.call(sW,t)}};function BGe(t){return OGe(t,{boolean:/true|false/,number:/-?\d+\.?\d*/,string:/(["'])((?:\\.|[^\\])*?)\1/,operator:/[!=><][=!]?|\?\?|\|/,ws:/\s+/,param:/[$a-z_][$\w]*/i}).filter(({type:e})=>e!=="ws")}function roe(t,e={}){var r,n,i,s,a,c,u;const l=BGe(t);if(l.length===0||l.some(({type:d})=>!d))return G1(t);if(((r=l[0])==null?void 0:r.token)===">"){const d=e[(n=l[1])==null?void 0:n.token];if(!d)return G1(t);const f={...e};d.state=f;const A=l.slice(2);for(let p=0;p<A.length;p+=3){const v=(i=A[p])==null?void 0:i.token,y=(s=A[p+1])==null?void 0:s.token,x=(a=A[p+2])==null?void 0:a.token;v&&y==="="&&(f[v]=W1(x,e))}return d}if(l.length===1)return xS(l[0])?W1(l[0].token,e):G1(t);if(l.length===2){const d=(c=l[0])==null?void 0:c.token,f=aW[d];if(!f||!xS(l[1]))return G1(t);const A=W1(l[1].token,e);return f(A)}if(l.length===3){const d=(u=l[1])==null?void 0:u.token,f=aW[d];if(!f||!xS(l[0])||!xS(l[2]))return G1(t);const A=W1(l[0].token,e);if(d==="|")return f(A,l[2].token);const p=W1(l[2].token,e);return f(A,p)}}function G1(t){return console.warn(`Warning: invalid expression \`${t}\``),!1}function xS({type:t}){return["number","boolean","string","param"].includes(t)}function W1(t,e){const r=t[0],n=t.slice(-1);return t==="true"||t==="false"?t==="true":r===n&&["'",'"'].includes(r)?t.slice(1,-1):Use(t)?parseFloat(t):e[t]}function OGe(t,e){let r,n,i;const s=[];for(;t;){i=null,r=t.length;for(const a in e)n=e[a].exec(t),n&&n.index<r&&(i={token:n[0],type:a,matches:n.slice(1)},r=n.index);r&&s.push({token:t.substr(0,r),type:void 0}),i&&s.push(i),t=t.substr(r+(i?i.token.length:0))}return s}var AU=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},XP=(t,e,r)=>(AU(t,e,"read from private field"),r?r.call(t):e.get(t)),Y1=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},Rv=(t,e,r,n)=>(AU(t,e,"write to private field"),e.set(t,r),r),OB=(t,e,r)=>(AU(t,e,"access private method"),r),db,LT,hb,ZP,noe,BT,JP;const PB={mediatargetlivewindow:"targetlivewindow",mediastreamtype:"streamtype"},ioe=pu.createElement("template");ioe.innerHTML=`
  <style>
    :host {
      display: inline-block;
      line-height: 0;
    }

    media-controller {
      width: 100%;
      height: 100%;
    }

    media-captions-button:not([mediasubtitleslist]),
    media-captions-menu:not([mediasubtitleslist]),
    media-captions-menu-button:not([mediasubtitleslist]),
    media-audio-track-menu[mediaaudiotrackunavailable],
    media-audio-track-menu-button[mediaaudiotrackunavailable],
    media-rendition-menu[mediarenditionunavailable],
    media-rendition-menu-button[mediarenditionunavailable],
    media-volume-range[mediavolumeunavailable],
    media-airplay-button[mediaairplayunavailable],
    media-fullscreen-button[mediafullscreenunavailable],
    media-cast-button[mediacastunavailable],
    media-pip-button[mediapipunavailable] {
      display: none;
    }
  </style>
`;class Q5 extends tr.HTMLElement{constructor(){super(),Y1(this,ZP),Y1(this,BT),Y1(this,db,void 0),Y1(this,LT,void 0),Y1(this,hb,void 0),this.shadowRoot?this.renderRoot=this.shadowRoot:(this.renderRoot=this.attachShadow({mode:"open"}),this.createRenderer());const e=new MutationObserver(r=>{var n;this.mediaController&&!((n=this.mediaController)!=null&&n.breakpointsComputed)||r.some(i=>{const s=i.target;return s===this?!0:s.localName!=="media-controller"?!1:!!(PB[i.attributeName]||i.attributeName.startsWith("breakpoint"))})&&this.render()});e.observe(this,{attributes:!0}),e.observe(this.renderRoot,{attributes:!0,subtree:!0}),this.addEventListener(qp.BREAKPOINTS_COMPUTED,this.render),OB(this,ZP,noe).call(this,"template")}get mediaController(){return this.renderRoot.querySelector("media-controller")}get template(){var e;return(e=XP(this,db))!=null?e:this.constructor.template}set template(e){if(e===null){this.removeAttribute("template");return}typeof e=="string"?this.setAttribute("template",e):e instanceof HTMLTemplateElement&&(Rv(this,db,e),Rv(this,hb,null),this.createRenderer())}get props(){var e,r,n;const i=[...Array.from((r=(e=this.mediaController)==null?void 0:e.attributes)!=null?r:[]).filter(({name:a})=>PB[a]||a.startsWith("breakpoint")),...Array.from(this.attributes)],s={};for(const a of i){const c=(n=PB[a.name])!=null?n:DVe(a.name);let{value:u}=a;u!=null?(Use(u)&&(u=parseFloat(u)),s[c]=u===""?!0:u):s[c]=!1}return s}attributeChangedCallback(e,r,n){e==="template"&&r!=n&&OB(this,BT,JP).call(this)}connectedCallback(){OB(this,BT,JP).call(this)}createRenderer(){this.template instanceof HTMLTemplateElement&&this.template!==XP(this,LT)&&(Rv(this,LT,this.template),this.renderer=new H5(this.template,this.props,this.constructor.processor),this.renderRoot.textContent="",this.renderRoot.append(ioe.content.cloneNode(!0),this.renderer))}render(){var e;(e=this.renderer)==null||e.update(this.props)}}db=new WeakMap;LT=new WeakMap;hb=new WeakMap;ZP=new WeakSet;noe=function(t){if(Object.prototype.hasOwnProperty.call(this,t)){const e=this[t];delete this[t],this[t]=e}};BT=new WeakSet;JP=function(){var t;const e=this.getAttribute("template");if(!e||e===XP(this,hb))return;const r=this.getRootNode(),n=(t=r?.getElementById)==null?void 0:t.call(r,e);if(n){Rv(this,hb,e),Rv(this,db,n),this.createRenderer();return}PGe(e)&&(Rv(this,hb,e),RGe(e).then(i=>{const s=pu.createElement("template");s.innerHTML=i,Rv(this,db,s),this.createRenderer()}).catch(console.error))};Q5.observedAttributes=["template"];Q5.processor=fU;function PGe(t){if(!/^(\/|\.\/|https?:\/\/)/.test(t))return!1;const e=/^https?:\/\//.test(t)?void 0:location.origin;try{new URL(t,e)}catch{return!1}return!0}async function RGe(t){const e=await fetch(t);if(e.status!==200)throw new Error(`Failed to load resource: the server responded with a status of ${e.status}`);return e.text()}tr.customElements.get("media-theme")||tr.customElements.define("media-theme",Q5);function DGe({anchor:t,floating:e,placement:r}){const n=MGe({anchor:t,floating:e}),{x:i,y:s}=UGe(n,r);return{x:i,y:s}}function MGe({anchor:t,floating:e}){return{anchor:FGe(t,e.offsetParent),floating:{x:0,y:0,width:e.offsetWidth,height:e.offsetHeight}}}function FGe(t,e){var r;const n=t.getBoundingClientRect(),i=(r=e?.getBoundingClientRect())!=null?r:{x:0,y:0};return{x:n.x-i.x,y:n.y-i.y,width:n.width,height:n.height}}function UGe({anchor:t,floating:e},r){const n=$Ge(r)==="x"?"y":"x",i=n==="y"?"height":"width",s=soe(r),a=t.x+t.width/2-e.width/2,c=t.y+t.height/2-e.height/2,u=t[i]/2-e[i]/2;let l;switch(s){case"top":l={x:a,y:t.y-e.height};break;case"bottom":l={x:a,y:t.y+t.height};break;case"right":l={x:t.x+t.width,y:c};break;case"left":l={x:t.x-e.width,y:c};break;default:l={x:t.x,y:t.y}}switch(r.split("-")[1]){case"start":l[n]-=u;break;case"end":l[n]+=u;break}return l}function soe(t){return t.split("-")[0]}function $Ge(t){return["top","bottom"].includes(soe(t))?"y":"x"}class mU extends Event{constructor({action:e="auto",relatedTarget:r,...n}){super("invoke",n),this.action=e,this.relatedTarget=r}}class HGe extends Event{constructor({newState:e,oldState:r,...n}){super("toggle",n),this.newState=e,this.oldState=r}}var pU=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},fo=(t,e,r)=>(pU(t,e,"read from private field"),r?r.call(t):e.get(t)),Jo=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},pm=(t,e,r,n)=>(pU(t,e,"write to private field"),e.set(t,r),r),el=(t,e,r)=>(pU(t,e,"access private method"),r),gm,Gv,j0,OT,PT,Wv,XE,eR,aoe,eN,gU,tN,RT,tR,rR,ooe,nR,loe,iR,coe,fb,Ab,mb,ZE,rN,vU,sR,uoe,yU,doe,aR,hoe,xU,foe,oR,Aoe,lR,moe,Jw,nN,cR,poe,eE,iN,DT,uR;function Rb({type:t,text:e,value:r,checked:n}){const i=pu.createElement("media-chrome-menu-item");i.type=t,i.part.add("menu-item"),i.part.add(t),i.value=r,i.checked=n;const s=pu.createElement("span");return s.textContent=e,i.append(s),i}function Yv(t,e){let r=t.querySelector(`:scope > [slot="${e}"]`);if(r?.nodeName=="SLOT"&&(r=r.assignedElements({flatten:!0})[0]),r)return r=r.cloneNode(!0),r;const n=t.shadowRoot.querySelector(`[name="${e}"] > svg`);return n?n.cloneNode(!0):""}function QGe(t){return`
    <style>
      :host {
        font: var(--media-font,
          var(--media-font-weight, normal)
          var(--media-font-size, 14px) /
          var(--media-text-content-height, var(--media-control-height, 24px))
          var(--media-font-family, helvetica neue, segoe ui, roboto, arial, sans-serif));
        color: var(--media-text-color, var(--media-primary-color, rgb(238 238 238)));
        --_menu-bg: rgb(20 20 30 / .8);
        background: var(--media-menu-background, var(--media-control-background, var(--media-secondary-color, var(--_menu-bg))));
        border-radius: var(--media-menu-border-radius);
        border: var(--media-menu-border, none);
        display: var(--media-menu-display, inline-flex) !important;
        
        transition: var(--media-menu-transition-in,
          visibility 0s,
          opacity .2s ease-out,
          transform .15s ease-out,
          left .2s ease-in-out,
          min-width .2s ease-in-out,
          min-height .2s ease-in-out
        ) !important;
        
        visibility: var(--media-menu-visibility, visible);
        opacity: var(--media-menu-opacity, 1);
        max-height: var(--media-menu-max-height, var(--_menu-max-height, 300px));
        transform: var(--media-menu-transform-in, translateY(0) scale(1));
        flex-direction: column;
        
        min-height: 0;
        position: relative;
        bottom: var(--_menu-bottom);
        box-sizing: border-box;
      } 

      @-moz-document url-prefix() {
        :host{
          --_menu-bg: rgb(20 20 30);
        }
      }

      :host([hidden]) {
        transition: var(--media-menu-transition-out,
          visibility .15s ease-in,
          opacity .15s ease-in,
          transform .15s ease-in
        ) !important;
        visibility: var(--media-menu-hidden-visibility, hidden);
        opacity: var(--media-menu-hidden-opacity, 0);
        max-height: var(--media-menu-hidden-max-height,
          var(--media-menu-max-height, var(--_menu-max-height, 300px)));
        transform: var(--media-menu-transform-out, translateY(2px) scale(.99));
        pointer-events: none;
      }

      :host([slot="submenu"]) {
        background: none;
        width: 100%;
        min-height: 100%;
        position: absolute;
        bottom: 0;
        right: -100%;
      }

      #container {
        display: flex;
        flex-direction: column;
        min-height: 0;
        transition: transform .2s ease-out;
        transform: translate(0, 0);
      }

      #container.has-expanded {
        transition: transform .2s ease-in;
        transform: translate(-100%, 0);
      }

      button {
        background: none;
        color: inherit;
        border: none;
        padding: 0;
        font: inherit;
        outline: inherit;
        display: inline-flex;
        align-items: center;
      }

      slot[name="header"][hidden] {
        display: none;
      }

      slot[name="header"] > *,
      slot[name="header"]::slotted(*) {
        padding: .4em .7em;
        border-bottom: 1px solid rgb(255 255 255 / .25);
        cursor: var(--media-cursor, default);
      }

      slot[name="header"] > button[part~="back"],
      slot[name="header"]::slotted(button[part~="back"]) {
        cursor: var(--media-cursor, pointer);
      }

      svg[part~="back"] {
        height: var(--media-menu-icon-height, var(--media-control-height, 24px));
        fill: var(--media-icon-color, var(--media-primary-color, rgb(238 238 238)));
        display: block;
        margin-right: .5ch;
      }

      slot:not([name]) {
        gap: var(--media-menu-gap);
        flex-direction: var(--media-menu-flex-direction, column);
        overflow: var(--media-menu-overflow, hidden auto);
        display: flex;
        min-height: 0;
      }

      :host([role="menu"]) slot:not([name]) {
        padding-block: .4em;
      }

      slot:not([name])::slotted([role="menu"]) {
        background: none;
      }

      media-chrome-menu-item > span {
        margin-right: .5ch;
        max-width: var(--media-menu-item-max-width);
        text-overflow: ellipsis;
        overflow: hidden;
      }
    </style>
    <style id="layout-row" media="width:0">

      slot[name="header"] > *,
      slot[name="header"]::slotted(*) {
        padding: .4em .5em;
      }

      slot:not([name]) {
        gap: var(--media-menu-gap, .25em);
        flex-direction: var(--media-menu-flex-direction, row);
        padding-inline: .5em;
      }

      media-chrome-menu-item {
        padding: .3em .5em;
      }

      media-chrome-menu-item[aria-checked="true"] {
        background: var(--media-menu-item-checked-background, rgb(255 255 255 / .2));
      }

      
      media-chrome-menu-item::part(checked-indicator) {
        display: var(--media-menu-item-checked-indicator-display, none);
      }
    </style>
    <div id="container" part="container">
      <slot name="header" hidden>
        <button part="back button" aria-label="Back to previous menu">
          <slot name="back-icon">
            <svg aria-hidden="true" viewBox="0 0 20 24" part="back indicator">
              <path d="m11.88 17.585.742-.669-4.2-4.665 4.2-4.666-.743-.669-4.803 5.335 4.803 5.334Z"/>
            </svg>
          </slot>
          <slot name="title"></slot>
        </button>
      </slot>
      <slot></slot>
    </div>
    <slot name="checked-indicator" hidden></slot>
  `}const nv={STYLE:"style",HIDDEN:"hidden",DISABLED:"disabled",ANCHOR:"anchor"};class Jf extends tr.HTMLElement{constructor(){if(super(),Jo(this,eR),Jo(this,eN),Jo(this,RT),Jo(this,rR),Jo(this,nR),Jo(this,iR),Jo(this,mb),Jo(this,rN),Jo(this,sR),Jo(this,yU),Jo(this,aR),Jo(this,xU),Jo(this,oR),Jo(this,lR),Jo(this,Jw),Jo(this,cR),Jo(this,eE),Jo(this,DT),Jo(this,gm,null),Jo(this,Gv,null),Jo(this,j0,null),Jo(this,OT,new Set),Jo(this,PT,void 0),Jo(this,Wv,!1),Jo(this,XE,null),Jo(this,tN,()=>{const e=fo(this,OT),r=new Set(this.items);for(const n of e)r.has(n)||this.dispatchEvent(new CustomEvent("removemenuitem",{detail:n}));for(const n of r)e.has(n)||this.dispatchEvent(new CustomEvent("addmenuitem",{detail:n}));pm(this,OT,r)}),Jo(this,fb,()=>{el(this,mb,ZE).call(this),el(this,rN,vU).call(this,!1)}),Jo(this,Ab,()=>{el(this,mb,ZE).call(this)}),!this.shadowRoot){this.attachShadow(this.constructor.shadowRootOptions);const e=yf(this.attributes);this.shadowRoot.innerHTML=this.constructor.getTemplateHTML(e)}this.container=this.shadowRoot.querySelector("#container"),this.defaultSlot=this.shadowRoot.querySelector("slot:not([name])"),this.shadowRoot.addEventListener("slotchange",this),pm(this,PT,new MutationObserver(fo(this,tN))),fo(this,PT).observe(this.defaultSlot,{childList:!0})}static get observedAttributes(){return[nv.DISABLED,nv.HIDDEN,nv.STYLE,nv.ANCHOR,Ao.MEDIA_CONTROLLER]}static formatMenuItemText(e,r){return e}enable(){this.addEventListener("click",this),this.addEventListener("focusout",this),this.addEventListener("keydown",this),this.addEventListener("invoke",this),this.addEventListener("toggle",this)}disable(){this.removeEventListener("click",this),this.removeEventListener("focusout",this),this.removeEventListener("keyup",this),this.removeEventListener("invoke",this),this.removeEventListener("toggle",this)}handleEvent(e){switch(e.type){case"slotchange":el(this,eR,aoe).call(this,e);break;case"invoke":el(this,rR,ooe).call(this,e);break;case"click":el(this,sR,uoe).call(this,e);break;case"toggle":el(this,aR,hoe).call(this,e);break;case"focusout":el(this,oR,Aoe).call(this,e);break;case"keydown":el(this,lR,moe).call(this,e);break}}connectedCallback(){var e,r;pm(this,XE,OF(this.shadowRoot,":host")),el(this,RT,tR).call(this),this.hasAttribute("disabled")||this.enable(),this.role||(this.role="menu"),pm(this,gm,_P(this)),(r=(e=fo(this,gm))==null?void 0:e.associateElement)==null||r.call(e,this),this.hidden||(Bb(JE(this),fo(this,fb)),Bb(this,fo(this,Ab))),el(this,eN,gU).call(this)}disconnectedCallback(){var e,r;Ob(JE(this),fo(this,fb)),Ob(this,fo(this,Ab)),this.disable(),(r=(e=fo(this,gm))==null?void 0:e.unassociateElement)==null||r.call(e,this),pm(this,gm,null)}attributeChangedCallback(e,r,n){var i,s,a,c;e===nv.HIDDEN&&n!==r?(fo(this,Wv)||pm(this,Wv,!0),this.hidden?el(this,iR,coe).call(this):el(this,nR,loe).call(this),this.dispatchEvent(new HGe({oldState:this.hidden?"open":"closed",newState:this.hidden?"closed":"open",bubbles:!0}))):e===Ao.MEDIA_CONTROLLER?(r&&((s=(i=fo(this,gm))==null?void 0:i.unassociateElement)==null||s.call(i,this),pm(this,gm,null)),n&&this.isConnected&&(pm(this,gm,_P(this)),(c=(a=fo(this,gm))==null?void 0:a.associateElement)==null||c.call(a,this))):e===nv.DISABLED&&n!==r?n==null?this.enable():this.disable():e===nv.STYLE&&n!==r&&el(this,RT,tR).call(this)}formatMenuItemText(e,r){return this.constructor.formatMenuItemText(e,r)}get anchor(){return this.getAttribute("anchor")}set anchor(e){this.setAttribute("anchor",`${e}`)}get anchorElement(){var e;return this.anchor?(e=I5(this))==null?void 0:e.querySelector(`#${this.anchor}`):null}get items(){return this.defaultSlot.assignedElements({flatten:!0}).filter(VGe)}get radioGroupItems(){return this.items.filter(e=>e.role==="menuitemradio")}get checkedItems(){return this.items.filter(e=>e.checked)}get value(){var e,r;return(r=(e=this.checkedItems[0])==null?void 0:e.value)!=null?r:""}set value(e){const r=this.items.find(n=>n.value===e);r&&el(this,DT,uR).call(this,r)}focus(){if(pm(this,Gv,BF()),this.items.length){el(this,eE,iN).call(this,this.items[0]),this.items[0].focus();return}const e=this.querySelector('[autofocus], [tabindex]:not([tabindex="-1"]), [role="menu"]');e?.focus()}handleSelect(e){var r;const n=el(this,Jw,nN).call(this,e);n&&(el(this,DT,uR).call(this,n,n.type==="checkbox"),fo(this,j0)&&!this.hidden&&((r=fo(this,Gv))==null||r.focus(),this.hidden=!0))}get keysUsed(){return["Enter","Escape","Tab"," ","ArrowDown","ArrowUp","Home","End"]}handleMove(e){var r,n;const{key:i}=e,s=this.items,a=(n=(r=el(this,Jw,nN).call(this,e))!=null?r:el(this,cR,poe).call(this))!=null?n:s[0],c=s.indexOf(a);let u=Math.max(0,c);i==="ArrowDown"?u++:i==="ArrowUp"?u--:e.key==="Home"?u=0:e.key==="End"&&(u=s.length-1),u<0&&(u=s.length-1),u>s.length-1&&(u=0),el(this,eE,iN).call(this,s[u]),s[u].focus()}}gm=new WeakMap;Gv=new WeakMap;j0=new WeakMap;OT=new WeakMap;PT=new WeakMap;Wv=new WeakMap;XE=new WeakMap;eR=new WeakSet;aoe=function(t){const e=t.target;for(const r of e.assignedNodes({flatten:!0}))r.nodeType===3&&r.textContent.trim()===""&&r.remove();["header","title"].includes(e.name)&&el(this,eN,gU).call(this),e.name||fo(this,tN).call(this)};eN=new WeakSet;gU=function(){const t=this.shadowRoot.querySelector('slot[name="header"]'),e=this.shadowRoot.querySelector('slot[name="title"]');t.hidden=e.assignedNodes().length===0&&t.assignedNodes().length===0};tN=new WeakMap;RT=new WeakSet;tR=function(){var t;const e=this.shadowRoot.querySelector("#layout-row"),r=(t=getComputedStyle(this).getPropertyValue("--media-menu-layout"))==null?void 0:t.trim();e.setAttribute("media",r==="row"?"":"width:0")};rR=new WeakSet;ooe=function(t){pm(this,j0,t.relatedTarget),og(this,t.relatedTarget)||(this.hidden=!this.hidden)};nR=new WeakSet;loe=function(){var t;(t=fo(this,j0))==null||t.setAttribute("aria-expanded","true"),this.addEventListener("transitionend",()=>this.focus(),{once:!0}),Bb(JE(this),fo(this,fb)),Bb(this,fo(this,Ab))};iR=new WeakSet;coe=function(){var t;(t=fo(this,j0))==null||t.setAttribute("aria-expanded","false"),Ob(JE(this),fo(this,fb)),Ob(this,fo(this,Ab))};fb=new WeakMap;Ab=new WeakMap;mb=new WeakSet;ZE=function(t){if(this.hasAttribute("mediacontroller")&&!this.anchor||this.hidden||!this.anchorElement)return;const{x:e,y:r}=DGe({anchor:this.anchorElement,floating:this,placement:"top-start"});t??(t=this.offsetWidth);const i=JE(this).getBoundingClientRect(),s=i.width-e-t,a=i.height-r-this.offsetHeight,{style:c}=fo(this,XE);c.setProperty("position","absolute"),c.setProperty("right",`${Math.max(0,s)}px`),c.setProperty("--_menu-bottom",`${a}px`);const u=getComputedStyle(this),d=c.getPropertyValue("--_menu-bottom")===u.bottom?a:parseFloat(u.bottom),f=i.height-d-parseFloat(u.marginBottom);this.style.setProperty("--_menu-max-height",`${f}px`)};rN=new WeakSet;vU=function(t){const e=this.querySelector('[role="menuitem"][aria-haspopup][aria-expanded="true"]'),r=e?.querySelector('[role="menu"]'),{style:n}=fo(this,XE);if(t||n.setProperty("--media-menu-transition-in","none"),r){const i=r.offsetHeight,s=Math.max(r.offsetWidth,e.offsetWidth);this.style.setProperty("min-width",`${s}px`),this.style.setProperty("min-height",`${i}px`),el(this,mb,ZE).call(this,s)}else this.style.removeProperty("min-width"),this.style.removeProperty("min-height"),el(this,mb,ZE).call(this);n.removeProperty("--media-menu-transition-in")};sR=new WeakSet;uoe=function(t){var e;if(t.stopPropagation(),t.composedPath().includes(fo(this,yU,doe))){(e=fo(this,Gv))==null||e.focus(),this.hidden=!0;return}const r=el(this,Jw,nN).call(this,t);!r||r.hasAttribute("disabled")||(el(this,eE,iN).call(this,r),this.handleSelect(t))};yU=new WeakSet;doe=function(){var t;return(t=this.shadowRoot.querySelector('slot[name="header"]').assignedElements({flatten:!0}))==null?void 0:t.find(r=>r.matches('button[part~="back"]'))};aR=new WeakSet;hoe=function(t){if(t.target===this)return;el(this,xU,foe).call(this);const e=Array.from(this.querySelectorAll('[role="menuitem"][aria-haspopup]'));for(const r of e)r.invokeTargetElement!=t.target&&t.newState=="open"&&r.getAttribute("aria-expanded")=="true"&&!r.invokeTargetElement.hidden&&r.invokeTargetElement.dispatchEvent(new mU({relatedTarget:r}));for(const r of e)r.setAttribute("aria-expanded",`${!r.submenuElement.hidden}`);el(this,rN,vU).call(this,!0)};xU=new WeakSet;foe=function(){const e=this.querySelector('[role="menuitem"] > [role="menu"]:not([hidden])');this.container.classList.toggle("has-expanded",!!e)};oR=new WeakSet;Aoe=function(t){var e;og(this,t.relatedTarget)||(fo(this,Wv)&&((e=fo(this,Gv))==null||e.focus()),fo(this,j0)&&fo(this,j0)!==t.relatedTarget&&!this.hidden&&(this.hidden=!0))};lR=new WeakSet;moe=function(t){var e,r,n,i,s;const{key:a,ctrlKey:c,altKey:u,metaKey:l}=t;if(!(c||u||l)&&this.keysUsed.includes(a))if(t.preventDefault(),t.stopPropagation(),a==="Tab"){if(fo(this,Wv)){this.hidden=!0;return}t.shiftKey?(r=(e=this.previousElementSibling)==null?void 0:e.focus)==null||r.call(e):(i=(n=this.nextElementSibling)==null?void 0:n.focus)==null||i.call(n),this.blur()}else a==="Escape"?((s=fo(this,Gv))==null||s.focus(),fo(this,Wv)&&(this.hidden=!0)):a==="Enter"||a===" "?this.handleSelect(t):this.handleMove(t)};Jw=new WeakSet;nN=function(t){return t.composedPath().find(e=>["menuitemradio","menuitemcheckbox"].includes(e.role))};cR=new WeakSet;poe=function(){return this.items.find(t=>t.tabIndex===0)};eE=new WeakSet;iN=function(t){for(const e of this.items)e.tabIndex=e===t?0:-1};DT=new WeakSet;uR=function(t,e){const r=[...this.checkedItems];t.type==="radio"&&this.radioGroupItems.forEach(n=>n.checked=!1),e?t.checked=!t.checked:t.checked=!0,this.checkedItems.some((n,i)=>n!=r[i])&&this.dispatchEvent(new Event("change",{bubbles:!0,composed:!0}))};Jf.shadowRootOptions={mode:"open"};Jf.getTemplateHTML=QGe;function VGe(t){return["menuitem","menuitemradio","menuitemcheckbox"].includes(t?.role)}function JE(t){var e;return(e=t.getAttribute("bounds")?o1(t,`#${t.getAttribute("bounds")}`):Rh(t)||t.parentElement)!=null?e:t}tr.customElements.get("media-chrome-menu")||tr.customElements.define("media-chrome-menu",Jf);var bU=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},Nm=(t,e,r)=>(bU(t,e,"read from private field"),r?r.call(t):e.get(t)),vp=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},RB=(t,e,r,n)=>(bU(t,e,"write to private field"),e.set(t,r),r),_A=(t,e,r)=>(bU(t,e,"access private method"),r),MT,tE,dR,goe,sN,wU,EU,voe,km,Db,e_,hR,yoe,FT,fR;function zGe(t){return`
    <style>
      :host {
        transition: var(--media-menu-item-transition,
          background .15s linear,
          opacity .2s ease-in-out
        );
        outline: var(--media-menu-item-outline, 0);
        outline-offset: var(--media-menu-item-outline-offset, -1px);
        cursor: var(--media-cursor, pointer);
        display: flex;
        align-items: center;
        align-self: stretch;
        justify-self: stretch;
        white-space: nowrap;
        white-space-collapse: collapse;
        text-wrap: nowrap;
        padding: .4em .8em .4em 1em;
      }

      :host(:focus-visible) {
        box-shadow: var(--media-menu-item-focus-shadow, inset 0 0 0 2px rgb(27 127 204 / .9));
        outline: var(--media-menu-item-hover-outline, 0);
        outline-offset: var(--media-menu-item-hover-outline-offset,  var(--media-menu-item-outline-offset, -1px));
      }

      :host(:hover) {
        cursor: var(--media-cursor, pointer);
        background: var(--media-menu-item-hover-background, rgb(92 92 102 / .5));
        outline: var(--media-menu-item-hover-outline);
        outline-offset: var(--media-menu-item-hover-outline-offset,  var(--media-menu-item-outline-offset, -1px));
      }

      :host([aria-checked="true"]) {
        background: var(--media-menu-item-checked-background);
      }

      :host([hidden]) {
        display: none;
      }

      :host([disabled]) {
        pointer-events: none;
        color: rgba(255, 255, 255, .3);
      }

      slot:not([name]) {
        width: 100%;
      }

      slot:not([name="submenu"]) {
        display: inline-flex;
        align-items: center;
        transition: inherit;
        opacity: var(--media-menu-item-opacity, 1);
      }

      slot[name="description"] {
        justify-content: end;
      }

      slot[name="description"] > span {
        display: inline-block;
        margin-inline: 1em .2em;
        max-width: var(--media-menu-item-description-max-width, 100px);
        text-overflow: ellipsis;
        overflow: hidden;
        font-size: .8em;
        font-weight: 400;
        text-align: right;
        position: relative;
        top: .04em;
      }

      slot[name="checked-indicator"] {
        display: none;
      }

      :host(:is([role="menuitemradio"],[role="menuitemcheckbox"])) slot[name="checked-indicator"] {
        display: var(--media-menu-item-checked-indicator-display, inline-block);
      }

      
      svg, img, ::slotted(svg), ::slotted(img) {
        height: var(--media-menu-item-icon-height, var(--media-control-height, 24px));
        fill: var(--media-icon-color, var(--media-primary-color, rgb(238 238 238)));
        display: block;
      }

      
      [part~="indicator"],
      ::slotted([part~="indicator"]) {
        fill: var(--media-menu-item-indicator-fill,
          var(--media-icon-color, var(--media-primary-color, rgb(238 238 238))));
        height: var(--media-menu-item-indicator-height, 1.25em);
        margin-right: .5ch;
      }

      [part~="checked-indicator"] {
        visibility: hidden;
      }

      :host([aria-checked="true"]) [part~="checked-indicator"] {
        visibility: visible;
      }
    </style>
    <slot name="checked-indicator">
      <svg aria-hidden="true" viewBox="0 1 24 24" part="checked-indicator indicator">
        <path d="m10 15.17 9.193-9.191 1.414 1.414-10.606 10.606-6.364-6.364 1.414-1.414 4.95 4.95Z"/>
      </svg>
    </slot>
    <slot name="prefix"></slot>
    <slot></slot>
    <slot name="description"></slot>
    <slot name="suffix">
      ${this.getSuffixSlotInnerHTML(t)}
    </slot>
    <slot name="submenu"></slot>
  `}function KGe(t){return""}const Lf={TYPE:"type",VALUE:"value",CHECKED:"checked",DISABLED:"disabled"};class R0 extends tr.HTMLElement{constructor(){if(super(),vp(this,dR),vp(this,sN),vp(this,EU),vp(this,Db),vp(this,hR),vp(this,FT),vp(this,MT,!1),vp(this,tE,void 0),vp(this,km,()=>{var e,r;this.submenuElement.items&&this.setAttribute("submenusize",`${this.submenuElement.items.length}`);const n=this.shadowRoot.querySelector('slot[name="description"]'),i=(e=this.submenuElement.checkedItems)==null?void 0:e[0],s=(r=i?.dataset.description)!=null?r:i?.text,a=pu.createElement("span");a.textContent=s??"",n.replaceChildren(a)}),!this.shadowRoot){this.attachShadow(this.constructor.shadowRootOptions);const e=yf(this.attributes);this.shadowRoot.innerHTML=this.constructor.getTemplateHTML(e)}this.shadowRoot.addEventListener("slotchange",this)}static get observedAttributes(){return[Lf.TYPE,Lf.DISABLED,Lf.CHECKED,Lf.VALUE]}enable(){this.hasAttribute("tabindex")||this.setAttribute("tabindex","-1"),q1(this)&&!this.hasAttribute("aria-checked")&&this.setAttribute("aria-checked","false"),this.addEventListener("click",this),this.addEventListener("keydown",this)}disable(){this.removeAttribute("tabindex"),this.removeEventListener("click",this),this.removeEventListener("keydown",this),this.removeEventListener("keyup",this)}handleEvent(e){switch(e.type){case"slotchange":_A(this,dR,goe).call(this,e);break;case"click":this.handleClick(e);break;case"keydown":_A(this,hR,yoe).call(this,e);break;case"keyup":_A(this,Db,e_).call(this,e);break}}attributeChangedCallback(e,r,n){e===Lf.CHECKED&&q1(this)&&!Nm(this,MT)?this.setAttribute("aria-checked",n!=null?"true":"false"):e===Lf.TYPE&&n!==r?this.role="menuitem"+n:e===Lf.DISABLED&&n!==r&&(n==null?this.enable():this.disable())}connectedCallback(){this.hasAttribute(Lf.DISABLED)||this.enable(),this.role="menuitem"+this.type,RB(this,tE,AR(this,this.parentNode)),_A(this,FT,fR).call(this),this.submenuElement&&_A(this,sN,wU).call(this)}disconnectedCallback(){this.disable(),_A(this,FT,fR).call(this),RB(this,tE,null)}get invokeTarget(){return this.getAttribute("invoketarget")}set invokeTarget(e){this.setAttribute("invoketarget",`${e}`)}get invokeTargetElement(){var e;return this.invokeTarget?(e=I5(this))==null?void 0:e.querySelector(`#${this.invokeTarget}`):this.submenuElement}get submenuElement(){return this.shadowRoot.querySelector('slot[name="submenu"]').assignedElements({flatten:!0})[0]}get type(){var e;return(e=this.getAttribute(Lf.TYPE))!=null?e:""}set type(e){this.setAttribute(Lf.TYPE,`${e}`)}get value(){var e;return(e=this.getAttribute(Lf.VALUE))!=null?e:this.text}set value(e){this.setAttribute(Lf.VALUE,e)}get text(){var e;return((e=this.textContent)!=null?e:"").trim()}get checked(){if(q1(this))return this.getAttribute("aria-checked")==="true"}set checked(e){q1(this)&&(RB(this,MT,!0),this.setAttribute("aria-checked",e?"true":"false"),e?this.part.add("checked"):this.part.remove("checked"))}handleClick(e){q1(this)||this.invokeTargetElement&&og(this,e.target)&&this.invokeTargetElement.dispatchEvent(new mU({relatedTarget:this}))}get keysUsed(){return["Enter"," "]}}MT=new WeakMap;tE=new WeakMap;dR=new WeakSet;goe=function(t){const e=t.target;if(!e?.name)for(const n of e.assignedNodes({flatten:!0}))n instanceof Text&&n.textContent.trim()===""&&n.remove();e.name==="submenu"&&(this.submenuElement?_A(this,sN,wU).call(this):_A(this,EU,voe).call(this))};sN=new WeakSet;wU=async function(){this.setAttribute("aria-haspopup","menu"),this.setAttribute("aria-expanded",`${!this.submenuElement.hidden}`),this.submenuElement.addEventListener("change",Nm(this,km)),this.submenuElement.addEventListener("addmenuitem",Nm(this,km)),this.submenuElement.addEventListener("removemenuitem",Nm(this,km)),Nm(this,km).call(this)};EU=new WeakSet;voe=function(){this.removeAttribute("aria-haspopup"),this.removeAttribute("aria-expanded"),this.submenuElement.removeEventListener("change",Nm(this,km)),this.submenuElement.removeEventListener("addmenuitem",Nm(this,km)),this.submenuElement.removeEventListener("removemenuitem",Nm(this,km)),Nm(this,km).call(this)};km=new WeakMap;Db=new WeakSet;e_=function(t){const{key:e}=t;if(!this.keysUsed.includes(e)){this.removeEventListener("keyup",_A(this,Db,e_));return}this.handleClick(t)};hR=new WeakSet;yoe=function(t){const{metaKey:e,altKey:r,key:n}=t;if(e||r||!this.keysUsed.includes(n)){this.removeEventListener("keyup",_A(this,Db,e_));return}this.addEventListener("keyup",_A(this,Db,e_),{once:!0})};FT=new WeakSet;fR=function(){var t;const e=(t=Nm(this,tE))==null?void 0:t.radioGroupItems;if(!e)return;let r=e.filter(n=>n.getAttribute("aria-checked")==="true").pop();r||(r=e[0]);for(const n of e)n.setAttribute("aria-checked","false");r?.setAttribute("aria-checked","true")};R0.shadowRootOptions={mode:"open"};R0.getTemplateHTML=zGe;R0.getSuffixSlotInnerHTML=KGe;function q1(t){return t.type==="radio"||t.type==="checkbox"}function AR(t,e){if(!t)return null;const{host:r}=t.getRootNode();return!e&&r?AR(t,r):e?.items?e:AR(e,e?.parentNode)}tr.customElements.get("media-chrome-menu-item")||tr.customElements.define("media-chrome-menu-item",R0);function GGe(t){return`
    ${Jf.getTemplateHTML(t)}
    <style>
      :host {
        --_menu-bg: rgb(20 20 30 / .8);
        background: var(--media-settings-menu-background,
            var(--media-menu-background,
              var(--media-control-background,
                var(--media-secondary-color, var(--_menu-bg)))));
        min-width: var(--media-settings-menu-min-width, 170px);
        border-radius: 2px 2px 0 0;
        overflow: hidden;
      }

      @-moz-document url-prefix() {
        :host{
          --_menu-bg: rgb(20 20 30);
        }
      }

      :host([role="menu"]) {
        
        justify-content: end;
      }

      slot:not([name]) {
        justify-content: var(--media-settings-menu-justify-content);
        flex-direction: var(--media-settings-menu-flex-direction, column);
        overflow: visible;
      }

      #container.has-expanded {
        --media-settings-menu-item-opacity: 0;
      }
    </style>
  `}class xoe extends Jf{get anchorElement(){return this.anchor!=="auto"?super.anchorElement:Rh(this).querySelector("media-settings-menu-button")}}xoe.getTemplateHTML=GGe;tr.customElements.get("media-settings-menu")||tr.customElements.define("media-settings-menu",xoe);function WGe(t){return`
    ${R0.getTemplateHTML.call(this,t)}
    <style>
      slot:not([name="submenu"]) {
        opacity: var(--media-settings-menu-item-opacity, var(--media-menu-item-opacity));
      }

      :host([aria-expanded="true"]:hover) {
        background: transparent;
      }
    </style>
  `}function YGe(t){return`
    <svg aria-hidden="true" viewBox="0 0 20 24">
      <path d="m8.12 17.585-.742-.669 4.2-4.665-4.2-4.666.743-.669 4.803 5.335-4.803 5.334Z"/>
    </svg>
  `}class V5 extends R0{}V5.shadowRootOptions={mode:"open"};V5.getTemplateHTML=WGe;V5.getSuffixSlotInnerHTML=YGe;tr.customElements.get("media-settings-menu-item")||tr.customElements.define("media-settings-menu-item",V5);class d1 extends pd{connectedCallback(){super.connectedCallback(),this.invokeTargetElement&&this.setAttribute("aria-haspopup","menu")}get invokeTarget(){return this.getAttribute("invoketarget")}set invokeTarget(e){this.setAttribute("invoketarget",`${e}`)}get invokeTargetElement(){var e;return this.invokeTarget?(e=I5(this))==null?void 0:e.querySelector(`#${this.invokeTarget}`):null}handleClick(){var e;(e=this.invokeTargetElement)==null||e.dispatchEvent(new mU({relatedTarget:this}))}}tr.customElements.get("media-chrome-menu-button")||tr.customElements.define("media-chrome-menu-button",d1);function qGe(){return`
    <style>
      :host([aria-expanded="true"]) slot[name=tooltip] {
        display: none;
      }
    </style>
    <slot name="icon">
      <svg aria-hidden="true" viewBox="0 0 24 24">
        <path d="M4.5 14.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Zm7.5 0a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Zm7.5 0a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z"/>
      </svg>
    </slot>
  `}function XGe(){return mi("Settings")}class _U extends d1{static get observedAttributes(){return[...super.observedAttributes,"target"]}connectedCallback(){super.connectedCallback(),this.setAttribute("aria-label",mi("settings"))}get invokeTargetElement(){return this.invokeTarget!=null?super.invokeTargetElement:Rh(this).querySelector("media-settings-menu")}}_U.getSlotTemplateHTML=qGe;_U.getTooltipContentHTML=XGe;tr.customElements.get("media-settings-menu-button")||tr.customElements.define("media-settings-menu-button",_U);var SU=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},boe=(t,e,r)=>(SU(t,e,"read from private field"),r?r.call(t):e.get(t)),bS=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},mR=(t,e,r,n)=>(SU(t,e,"write to private field"),e.set(t,r),r),wS=(t,e,r)=>(SU(t,e,"access private method"),r),Sw,aN,UT,pR,$T,gR;class ZGe extends Jf{constructor(){super(...arguments),bS(this,UT),bS(this,$T),bS(this,Sw,[]),bS(this,aN,void 0)}static get observedAttributes(){return[...super.observedAttributes,ht.MEDIA_AUDIO_TRACK_LIST,ht.MEDIA_AUDIO_TRACK_ENABLED,ht.MEDIA_AUDIO_TRACK_UNAVAILABLE]}attributeChangedCallback(e,r,n){super.attributeChangedCallback(e,r,n),e===ht.MEDIA_AUDIO_TRACK_ENABLED&&r!==n?this.value=n:e===ht.MEDIA_AUDIO_TRACK_LIST&&r!==n&&(mR(this,Sw,OVe(n??"")),wS(this,UT,pR).call(this))}connectedCallback(){super.connectedCallback(),this.addEventListener("change",wS(this,$T,gR))}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("change",wS(this,$T,gR))}get anchorElement(){var e;return this.anchor!=="auto"?super.anchorElement:(e=Rh(this))==null?void 0:e.querySelector("media-audio-track-menu-button")}get mediaAudioTrackList(){return boe(this,Sw)}set mediaAudioTrackList(e){mR(this,Sw,e),wS(this,UT,pR).call(this)}get mediaAudioTrackEnabled(){var e;return(e=Cl(this,ht.MEDIA_AUDIO_TRACK_ENABLED))!=null?e:""}set mediaAudioTrackEnabled(e){jl(this,ht.MEDIA_AUDIO_TRACK_ENABLED,e)}}Sw=new WeakMap;aN=new WeakMap;UT=new WeakSet;pR=function(){if(boe(this,aN)===JSON.stringify(this.mediaAudioTrackList))return;mR(this,aN,JSON.stringify(this.mediaAudioTrackList));const t=this.mediaAudioTrackList;this.defaultSlot.textContent="",t.sort((e,r)=>e.id.localeCompare(r.id,void 0,{numeric:!0}));for(const e of t){const r=this.formatMenuItemText(e.label,e),n=Rb({type:"radio",text:r,value:`${e.id}`,checked:e.enabled});n.prepend(Yv(this,"checked-indicator")),this.defaultSlot.append(n)}};$T=new WeakSet;gR=function(){if(this.value==null)return;const t=new tr.CustomEvent(zn.MEDIA_AUDIO_TRACK_REQUEST,{composed:!0,bubbles:!0,detail:this.value});this.dispatchEvent(t)};tr.customElements.get("media-audio-track-menu")||tr.customElements.define("media-audio-track-menu",ZGe);const JGe=`<svg aria-hidden="true" viewBox="0 0 24 24">
  <path d="M11 17H9.5V7H11v10Zm-3-3H6.5v-4H8v4Zm6-5h-1.5v6H14V9Zm3 7h-1.5V8H17v8Z"/>
  <path d="M22 12c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2s10 4.477 10 10Zm-2 0a8 8 0 1 0-16 0 8 8 0 0 0 16 0Z"/>
</svg>`;function eWe(){return`
    <style>
      :host([aria-expanded="true"]) slot[name=tooltip] {
        display: none;
      }
    </style>
    <slot name="icon">${JGe}</slot>
  `}function tWe(){return mi("Audio")}const oW=t=>{const e=mi("Audio");t.setAttribute("aria-label",e)};class TU extends d1{static get observedAttributes(){return[...super.observedAttributes,ht.MEDIA_AUDIO_TRACK_ENABLED,ht.MEDIA_AUDIO_TRACK_UNAVAILABLE]}connectedCallback(){super.connectedCallback(),oW(this)}attributeChangedCallback(e,r,n){super.attributeChangedCallback(e,r,n),e===ht.MEDIA_LANG&&oW(this)}get invokeTargetElement(){var e;return this.invokeTarget!=null?super.invokeTargetElement:(e=Rh(this))==null?void 0:e.querySelector("media-audio-track-menu")}get mediaAudioTrackEnabled(){var e;return(e=Cl(this,ht.MEDIA_AUDIO_TRACK_ENABLED))!=null?e:""}set mediaAudioTrackEnabled(e){jl(this,ht.MEDIA_AUDIO_TRACK_ENABLED,e)}}TU.getSlotTemplateHTML=eWe;TU.getTooltipContentHTML=tWe;tr.customElements.get("media-audio-track-menu-button")||tr.customElements.define("media-audio-track-menu-button",TU);var CU=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},rWe=(t,e,r)=>(CU(t,e,"read from private field"),e.get(t)),DB=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},nWe=(t,e,r,n)=>(CU(t,e,"write to private field"),e.set(t,r),r),ES=(t,e,r)=>(CU(t,e,"access private method"),r),oN,HT,vR,QT,yR;const iWe=`
  <svg aria-hidden="true" viewBox="0 0 26 24" part="captions-indicator indicator">
    <path d="M22.83 5.68a2.58 2.58 0 0 0-2.3-2.5c-3.62-.24-11.44-.24-15.06 0a2.58 2.58 0 0 0-2.3 2.5c-.23 4.21-.23 8.43 0 12.64a2.58 2.58 0 0 0 2.3 2.5c3.62.24 11.44.24 15.06 0a2.58 2.58 0 0 0 2.3-2.5c.23-4.21.23-8.43 0-12.64Zm-11.39 9.45a3.07 3.07 0 0 1-1.91.57 3.06 3.06 0 0 1-2.34-1 3.75 3.75 0 0 1-.92-2.67 3.92 3.92 0 0 1 .92-2.77 3.18 3.18 0 0 1 2.43-1 2.94 2.94 0 0 1 2.13.78c.364.359.62.813.74 1.31l-1.43.35a1.49 1.49 0 0 0-1.51-1.17 1.61 1.61 0 0 0-1.29.58 2.79 2.79 0 0 0-.5 1.89 3 3 0 0 0 .49 1.93 1.61 1.61 0 0 0 1.27.58 1.48 1.48 0 0 0 1-.37 2.1 2.1 0 0 0 .59-1.14l1.4.44a3.23 3.23 0 0 1-1.07 1.69Zm7.22 0a3.07 3.07 0 0 1-1.91.57 3.06 3.06 0 0 1-2.34-1 3.75 3.75 0 0 1-.92-2.67 3.88 3.88 0 0 1 .93-2.77 3.14 3.14 0 0 1 2.42-1 3 3 0 0 1 2.16.82 2.8 2.8 0 0 1 .73 1.31l-1.43.35a1.49 1.49 0 0 0-1.51-1.21 1.61 1.61 0 0 0-1.29.58A2.79 2.79 0 0 0 15 12a3 3 0 0 0 .49 1.93 1.61 1.61 0 0 0 1.27.58 1.44 1.44 0 0 0 1-.37 2.1 2.1 0 0 0 .6-1.15l1.4.44a3.17 3.17 0 0 1-1.1 1.7Z"/>
  </svg>`;function sWe(t){return`
    ${Jf.getTemplateHTML(t)}
    <slot name="captions-indicator" hidden>${iWe}</slot>
  `}class woe extends Jf{constructor(){super(...arguments),DB(this,HT),DB(this,QT),DB(this,oN,void 0)}static get observedAttributes(){return[...super.observedAttributes,ht.MEDIA_SUBTITLES_LIST,ht.MEDIA_SUBTITLES_SHOWING]}attributeChangedCallback(e,r,n){super.attributeChangedCallback(e,r,n),e===ht.MEDIA_SUBTITLES_LIST&&r!==n?ES(this,HT,vR).call(this):e===ht.MEDIA_SUBTITLES_SHOWING&&r!==n&&(this.value=n||"",ES(this,HT,vR).call(this))}connectedCallback(){super.connectedCallback(),this.addEventListener("change",ES(this,QT,yR))}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("change",ES(this,QT,yR))}get anchorElement(){return this.anchor!=="auto"?super.anchorElement:Rh(this).querySelector("media-captions-menu-button")}get mediaSubtitlesList(){return lW(this,ht.MEDIA_SUBTITLES_LIST)}set mediaSubtitlesList(e){cW(this,ht.MEDIA_SUBTITLES_LIST,e)}get mediaSubtitlesShowing(){return lW(this,ht.MEDIA_SUBTITLES_SHOWING)}set mediaSubtitlesShowing(e){cW(this,ht.MEDIA_SUBTITLES_SHOWING,e)}}oN=new WeakMap;HT=new WeakSet;vR=function(){var t;const e=rWe(this,oN)!==JSON.stringify(this.mediaSubtitlesList),r=this.value!==this.getAttribute(ht.MEDIA_SUBTITLES_SHOWING);if(!e&&!r)return;nWe(this,oN,JSON.stringify(this.mediaSubtitlesList)),this.defaultSlot.textContent="";const n=!this.value,i=Rb({type:"radio",text:this.formatMenuItemText(mi("Off")),value:"off",checked:n});i.prepend(Yv(this,"checked-indicator")),this.defaultSlot.append(i);const s=this.mediaSubtitlesList;for(const a of s){const c=Rb({type:"radio",text:this.formatMenuItemText(a.label,a),value:jP(a),checked:this.value==jP(a)});c.prepend(Yv(this,"checked-indicator")),((t=a.kind)!=null?t:"subs")==="captions"&&c.append(Yv(this,"captions-indicator")),this.defaultSlot.append(c)}};QT=new WeakSet;yR=function(){const t=this.mediaSubtitlesShowing,e=this.getAttribute(ht.MEDIA_SUBTITLES_SHOWING),r=this.value!==e;if(t?.length&&r&&this.dispatchEvent(new tr.CustomEvent(zn.MEDIA_DISABLE_SUBTITLES_REQUEST,{composed:!0,bubbles:!0,detail:t})),!this.value||!r)return;const n=new tr.CustomEvent(zn.MEDIA_SHOW_SUBTITLES_REQUEST,{composed:!0,bubbles:!0,detail:this.value});this.dispatchEvent(n)};woe.getTemplateHTML=sWe;const lW=(t,e)=>{const r=t.getAttribute(e);return r?R5(r):[]},cW=(t,e,r)=>{if(!r?.length){t.removeAttribute(e);return}const n=KE(r);t.getAttribute(e)!==n&&t.setAttribute(e,n)};tr.customElements.get("media-captions-menu")||tr.customElements.define("media-captions-menu",woe);const aWe=`<svg aria-hidden="true" viewBox="0 0 26 24">
  <path d="M22.83 5.68a2.58 2.58 0 0 0-2.3-2.5c-3.62-.24-11.44-.24-15.06 0a2.58 2.58 0 0 0-2.3 2.5c-.23 4.21-.23 8.43 0 12.64a2.58 2.58 0 0 0 2.3 2.5c3.62.24 11.44.24 15.06 0a2.58 2.58 0 0 0 2.3-2.5c.23-4.21.23-8.43 0-12.64Zm-11.39 9.45a3.07 3.07 0 0 1-1.91.57 3.06 3.06 0 0 1-2.34-1 3.75 3.75 0 0 1-.92-2.67 3.92 3.92 0 0 1 .92-2.77 3.18 3.18 0 0 1 2.43-1 2.94 2.94 0 0 1 2.13.78c.364.359.62.813.74 1.31l-1.43.35a1.49 1.49 0 0 0-1.51-1.17 1.61 1.61 0 0 0-1.29.58 2.79 2.79 0 0 0-.5 1.89 3 3 0 0 0 .49 1.93 1.61 1.61 0 0 0 1.27.58 1.48 1.48 0 0 0 1-.37 2.1 2.1 0 0 0 .59-1.14l1.4.44a3.23 3.23 0 0 1-1.07 1.69Zm7.22 0a3.07 3.07 0 0 1-1.91.57 3.06 3.06 0 0 1-2.34-1 3.75 3.75 0 0 1-.92-2.67 3.88 3.88 0 0 1 .93-2.77 3.14 3.14 0 0 1 2.42-1 3 3 0 0 1 2.16.82 2.8 2.8 0 0 1 .73 1.31l-1.43.35a1.49 1.49 0 0 0-1.51-1.21 1.61 1.61 0 0 0-1.29.58A2.79 2.79 0 0 0 15 12a3 3 0 0 0 .49 1.93 1.61 1.61 0 0 0 1.27.58 1.44 1.44 0 0 0 1-.37 2.1 2.1 0 0 0 .6-1.15l1.4.44a3.17 3.17 0 0 1-1.1 1.7Z"/>
</svg>`,oWe=`<svg aria-hidden="true" viewBox="0 0 26 24">
  <path d="M17.73 14.09a1.4 1.4 0 0 1-1 .37 1.579 1.579 0 0 1-1.27-.58A3 3 0 0 1 15 12a2.8 2.8 0 0 1 .5-1.85 1.63 1.63 0 0 1 1.29-.57 1.47 1.47 0 0 1 1.51 1.2l1.43-.34A2.89 2.89 0 0 0 19 9.07a3 3 0 0 0-2.14-.78 3.14 3.14 0 0 0-2.42 1 3.91 3.91 0 0 0-.93 2.78 3.74 3.74 0 0 0 .92 2.66 3.07 3.07 0 0 0 2.34 1 3.07 3.07 0 0 0 1.91-.57 3.17 3.17 0 0 0 1.07-1.74l-1.4-.45c-.083.43-.3.822-.62 1.12Zm-7.22 0a1.43 1.43 0 0 1-1 .37 1.58 1.58 0 0 1-1.27-.58A3 3 0 0 1 7.76 12a2.8 2.8 0 0 1 .5-1.85 1.63 1.63 0 0 1 1.29-.57 1.47 1.47 0 0 1 1.51 1.2l1.43-.34a2.81 2.81 0 0 0-.74-1.32 2.94 2.94 0 0 0-2.13-.78 3.18 3.18 0 0 0-2.43 1 4 4 0 0 0-.92 2.78 3.74 3.74 0 0 0 .92 2.66 3.07 3.07 0 0 0 2.34 1 3.07 3.07 0 0 0 1.91-.57 3.23 3.23 0 0 0 1.07-1.74l-1.4-.45a2.06 2.06 0 0 1-.6 1.07Zm12.32-8.41a2.59 2.59 0 0 0-2.3-2.51C18.72 3.05 15.86 3 13 3c-2.86 0-5.72.05-7.53.17a2.59 2.59 0 0 0-2.3 2.51c-.23 4.207-.23 8.423 0 12.63a2.57 2.57 0 0 0 2.3 2.5c1.81.13 4.67.19 7.53.19 2.86 0 5.72-.06 7.53-.19a2.57 2.57 0 0 0 2.3-2.5c.23-4.207.23-8.423 0-12.63Zm-1.49 12.53a1.11 1.11 0 0 1-.91 1.11c-1.67.11-4.45.18-7.43.18-2.98 0-5.76-.07-7.43-.18a1.11 1.11 0 0 1-.91-1.11c-.21-4.14-.21-8.29 0-12.43a1.11 1.11 0 0 1 .91-1.11C7.24 4.56 10 4.49 13 4.49s5.76.07 7.43.18a1.11 1.11 0 0 1 .91 1.11c.21 4.14.21 8.29 0 12.43Z"/>
</svg>`;function lWe(){return`
    <style>
      :host([data-captions-enabled="true"]) slot[name=off] {
        display: none !important;
      }

      
      :host(:not([data-captions-enabled="true"])) slot[name=on] {
        display: none !important;
      }

      :host([aria-expanded="true"]) slot[name=tooltip] {
        display: none;
      }
    </style>

    <slot name="icon">
      <slot name="on">${aWe}</slot>
      <slot name="off">${oWe}</slot>
    </slot>
  `}function cWe(){return mi("Captions")}const uW=t=>{t.setAttribute("data-captions-enabled",aae(t).toString())},dW=t=>{t.setAttribute("aria-label",mi("closed captions"))};class jU extends d1{static get observedAttributes(){return[...super.observedAttributes,ht.MEDIA_SUBTITLES_LIST,ht.MEDIA_SUBTITLES_SHOWING,ht.MEDIA_LANG]}connectedCallback(){super.connectedCallback(),dW(this),uW(this)}attributeChangedCallback(e,r,n){super.attributeChangedCallback(e,r,n),e===ht.MEDIA_SUBTITLES_SHOWING?uW(this):e===ht.MEDIA_LANG&&dW(this)}get invokeTargetElement(){var e;return this.invokeTarget!=null?super.invokeTargetElement:(e=Rh(this))==null?void 0:e.querySelector("media-captions-menu")}get mediaSubtitlesList(){return hW(this,ht.MEDIA_SUBTITLES_LIST)}set mediaSubtitlesList(e){fW(this,ht.MEDIA_SUBTITLES_LIST,e)}get mediaSubtitlesShowing(){return hW(this,ht.MEDIA_SUBTITLES_SHOWING)}set mediaSubtitlesShowing(e){fW(this,ht.MEDIA_SUBTITLES_SHOWING,e)}}jU.getSlotTemplateHTML=lWe;jU.getTooltipContentHTML=cWe;const hW=(t,e)=>{const r=t.getAttribute(e);return r?R5(r):[]},fW=(t,e,r)=>{if(!r?.length){t.removeAttribute(e);return}const n=KE(r);t.getAttribute(e)!==n&&t.setAttribute(e,n)};tr.customElements.get("media-captions-menu-button")||tr.customElements.define("media-captions-menu-button",jU);var Eoe=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},Bx=(t,e,r)=>(Eoe(t,e,"read from private field"),r?r.call(t):e.get(t)),MB=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},ax=(t,e,r)=>(Eoe(t,e,"access private method"),r),s0,Ox,Tw,VT,xR;const FB={RATES:"rates"};class uWe extends Jf{constructor(){super(),MB(this,Ox),MB(this,VT),MB(this,s0,new DF(this,FB.RATES,{defaultValue:Fae})),ax(this,Ox,Tw).call(this)}static get observedAttributes(){return[...super.observedAttributes,ht.MEDIA_PLAYBACK_RATE,FB.RATES]}attributeChangedCallback(e,r,n){super.attributeChangedCallback(e,r,n),e===ht.MEDIA_PLAYBACK_RATE&&r!=n?(this.value=n,ax(this,Ox,Tw).call(this)):e===FB.RATES&&r!=n&&(Bx(this,s0).value=n,ax(this,Ox,Tw).call(this))}connectedCallback(){super.connectedCallback(),this.addEventListener("change",ax(this,VT,xR))}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("change",ax(this,VT,xR))}get anchorElement(){return this.anchor!=="auto"?super.anchorElement:Rh(this).querySelector("media-playback-rate-menu-button")}get rates(){return Bx(this,s0)}set rates(e){e?Array.isArray(e)?Bx(this,s0).value=e.join(" "):typeof e=="string"&&(Bx(this,s0).value=e):Bx(this,s0).value="",ax(this,Ox,Tw).call(this)}get mediaPlaybackRate(){return Tl(this,ht.MEDIA_PLAYBACK_RATE,qx)}set mediaPlaybackRate(e){Rc(this,ht.MEDIA_PLAYBACK_RATE,e)}}s0=new WeakMap;Ox=new WeakSet;Tw=function(){this.defaultSlot.textContent="";const t=this.mediaPlaybackRate,e=new Set(Array.from(Bx(this,s0)).map(n=>Number(n)));t>0&&!e.has(t)&&e.add(t);const r=Array.from(e).sort((n,i)=>n-i);for(const n of r){const i=Rb({type:"radio",text:this.formatMenuItemText(`${n}x`,n),value:n.toString(),checked:t===n});i.prepend(Yv(this,"checked-indicator")),this.defaultSlot.append(i)}};VT=new WeakSet;xR=function(){if(!this.value)return;const t=new tr.CustomEvent(zn.MEDIA_PLAYBACK_RATE_REQUEST,{composed:!0,bubbles:!0,detail:this.value});this.dispatchEvent(t)};tr.customElements.get("media-playback-rate-menu")||tr.customElements.define("media-playback-rate-menu",uWe);const zT=1;function dWe(t){return`
    <style>
      :host {
        min-width: 5ch;
        padding: var(--media-button-padding, var(--media-control-padding, 10px 5px));
      }
      
      :host([aria-expanded="true"]) slot {
        display: block;
      }

      :host([aria-expanded="true"]) slot[name=tooltip] {
        display: none;
      }
    </style>
    <slot name="icon">${t.mediaplaybackrate||zT}x</slot>
  `}function hWe(){return mi("Playback rate")}class NU extends d1{static get observedAttributes(){return[...super.observedAttributes,ht.MEDIA_PLAYBACK_RATE]}constructor(){var e;super(),this.container=this.shadowRoot.querySelector('slot[name="icon"]'),this.container.innerHTML=`${(e=this.mediaPlaybackRate)!=null?e:zT}x`}attributeChangedCallback(e,r,n){if(super.attributeChangedCallback(e,r,n),e===ht.MEDIA_PLAYBACK_RATE){const i=n?+n:Number.NaN,s=Number.isNaN(i)?zT:i;this.container.innerHTML=`${s}x`,this.setAttribute("aria-label",mi("Playback rate {playbackRate}",{playbackRate:s}))}}get invokeTargetElement(){return this.invokeTarget!=null?super.invokeTargetElement:Rh(this).querySelector("media-playback-rate-menu")}get mediaPlaybackRate(){return Tl(this,ht.MEDIA_PLAYBACK_RATE,zT)}set mediaPlaybackRate(e){Rc(this,ht.MEDIA_PLAYBACK_RATE,e)}}NU.getSlotTemplateHTML=dWe;NU.getTooltipContentHTML=hWe;tr.customElements.get("media-playback-rate-menu-button")||tr.customElements.define("media-playback-rate-menu-button",NU);var kU=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},Cw=(t,e,r)=>(kU(t,e,"read from private field"),r?r.call(t):e.get(t)),_S=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},AW=(t,e,r,n)=>(kU(t,e,"write to private field"),e.set(t,r),r),ox=(t,e,r)=>(kU(t,e,"access private method"),r),jw,Xx,Px,Nw,KT,bR;class fWe extends Jf{constructor(){super(...arguments),_S(this,Px),_S(this,KT),_S(this,jw,[]),_S(this,Xx,{})}static get observedAttributes(){return[...super.observedAttributes,ht.MEDIA_RENDITION_LIST,ht.MEDIA_RENDITION_SELECTED,ht.MEDIA_RENDITION_UNAVAILABLE,ht.MEDIA_HEIGHT]}static formatMenuItemText(e,r){return super.formatMenuItemText(e,r)}static formatRendition(e,{showBitrate:r=!1}={}){const n=`${Math.min(e.width,e.height)}p`;if(r&&e.bitrate){const i=e.bitrate/1e6,s=`${i.toFixed(i<1?1:0)} Mbps`;return`${n} (${s})`}return this.formatMenuItemText(n,e)}static compareRendition(e,r){var n,i;return r.height===e.height?((n=r.bitrate)!=null?n:0)-((i=e.bitrate)!=null?i:0):r.height-e.height}attributeChangedCallback(e,r,n){super.attributeChangedCallback(e,r,n),e===ht.MEDIA_RENDITION_SELECTED&&r!==n?(this.value=n??"auto",ox(this,Px,Nw).call(this)):e===ht.MEDIA_RENDITION_LIST&&r!==n?(AW(this,jw,kVe(n)),ox(this,Px,Nw).call(this)):e===ht.MEDIA_HEIGHT&&r!==n&&ox(this,Px,Nw).call(this)}connectedCallback(){super.connectedCallback(),this.addEventListener("change",ox(this,KT,bR))}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("change",ox(this,KT,bR))}get anchorElement(){return this.anchor!=="auto"?super.anchorElement:Rh(this).querySelector("media-rendition-menu-button")}get mediaRenditionList(){return Cw(this,jw)}set mediaRenditionList(e){AW(this,jw,e),ox(this,Px,Nw).call(this)}get mediaRenditionSelected(){return Cl(this,ht.MEDIA_RENDITION_SELECTED)}set mediaRenditionSelected(e){jl(this,ht.MEDIA_RENDITION_SELECTED,e)}get mediaHeight(){return Tl(this,ht.MEDIA_HEIGHT)}set mediaHeight(e){Rc(this,ht.MEDIA_HEIGHT,e)}compareRendition(e,r){return this.constructor.compareRendition(e,r)}formatMenuItemText(e,r){return this.constructor.formatMenuItemText(e,r)}formatRendition(e,r){return this.constructor.formatRendition(e,r)}showRenditionBitrate(e){return this.mediaRenditionList.some(r=>r!==e&&r.height===e.height&&r.bitrate!==e.bitrate)}}jw=new WeakMap;Xx=new WeakMap;Px=new WeakSet;Nw=function(){if(Cw(this,Xx).mediaRenditionList===JSON.stringify(this.mediaRenditionList)&&Cw(this,Xx).mediaHeight===this.mediaHeight)return;Cw(this,Xx).mediaRenditionList=JSON.stringify(this.mediaRenditionList),Cw(this,Xx).mediaHeight=this.mediaHeight;const t=this.mediaRenditionList.sort(this.compareRendition.bind(this)),e=t.find(a=>a.id===this.mediaRenditionSelected);for(const a of t)a.selected=a===e;this.defaultSlot.textContent="";const r=!this.mediaRenditionSelected;for(const a of t){const c=this.formatRendition(a,{showBitrate:this.showRenditionBitrate(a)}),u=Rb({type:"radio",text:c,value:`${a.id}`,checked:a.selected&&!r});u.prepend(Yv(this,"checked-indicator")),this.defaultSlot.append(u)}const n=e&&this.showRenditionBitrate(e),i=r?e?this.formatMenuItemText(`${mi("Auto")}  ${this.formatRendition(e,{showBitrate:n})}`,e):this.formatMenuItemText(`${mi("Auto")} (${this.mediaHeight}p)`):this.formatMenuItemText(mi("Auto")),s=Rb({type:"radio",text:i,value:"auto",checked:r});s.dataset.description=i,s.prepend(Yv(this,"checked-indicator")),this.defaultSlot.append(s)};KT=new WeakSet;bR=function(){if(this.value==null)return;const t=new tr.CustomEvent(zn.MEDIA_RENDITION_REQUEST,{composed:!0,bubbles:!0,detail:this.value});this.dispatchEvent(t)};tr.customElements.get("media-rendition-menu")||tr.customElements.define("media-rendition-menu",fWe);const AWe=`<svg aria-hidden="true" viewBox="0 0 24 24">
  <path d="M13.5 2.5h2v6h-2v-2h-11v-2h11v-2Zm4 2h4v2h-4v-2Zm-12 4h2v6h-2v-2h-3v-2h3v-2Zm4 2h12v2h-12v-2Zm1 4h2v6h-2v-2h-8v-2h8v-2Zm4 2h7v2h-7v-2Z" />
</svg>`;function mWe(){return`
    <style>
      :host([aria-expanded="true"]) slot[name=tooltip] {
        display: none;
      }
    </style>
    <slot name="icon">${AWe}</slot>
  `}function pWe(){return mi("Quality")}class IU extends d1{static get observedAttributes(){return[...super.observedAttributes,ht.MEDIA_RENDITION_SELECTED,ht.MEDIA_RENDITION_UNAVAILABLE,ht.MEDIA_HEIGHT]}connectedCallback(){super.connectedCallback(),this.setAttribute("aria-label",mi("quality"))}get invokeTargetElement(){return this.invokeTarget!=null?super.invokeTargetElement:Rh(this).querySelector("media-rendition-menu")}get mediaRenditionSelected(){return Cl(this,ht.MEDIA_RENDITION_SELECTED)}set mediaRenditionSelected(e){jl(this,ht.MEDIA_RENDITION_SELECTED,e)}get mediaHeight(){return Tl(this,ht.MEDIA_HEIGHT)}set mediaHeight(e){Rc(this,ht.MEDIA_HEIGHT,e)}}IU.getSlotTemplateHTML=mWe;IU.getTooltipContentHTML=pWe;tr.customElements.get("media-rendition-menu-button")||tr.customElements.define("media-rendition-menu-button",IU);var LU=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},ym=(t,e,r)=>(LU(t,e,"read from private field"),r?r.call(t):e.get(t)),sm=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},_oe=(t,e,r,n)=>(LU(t,e,"write to private field"),e.set(t,r),r),Mf=(t,e,r)=>(LU(t,e,"access private method"),r),Mb,t_,z5,Ev,Zx,BU,Soe,GT,wR,WT,ER,Toe,lN,cN,YT;function gWe(t){return`
      ${Jf.getTemplateHTML(t)}
      <style>
        :host {
          --_menu-bg: rgb(20 20 30 / .8);
          background: var(--media-settings-menu-background,
            var(--media-menu-background,
              var(--media-control-background,
                var(--media-secondary-color, var(--_menu-bg)))));
          min-width: var(--media-settings-menu-min-width, 170px);
          border-radius: 2px;
          overflow: hidden;
        }
      </style>
    `}class Coe extends Jf{constructor(){super(),sm(this,t_),sm(this,Ev),sm(this,BU),sm(this,GT),sm(this,ER),sm(this,Mb,!1),sm(this,WT,e=>{const r=e.target,n=r?.nodeName==="VIDEO",i=Mf(this,GT,wR).call(this,r);(n||i)&&(ym(this,Mb)?Mf(this,Ev,Zx).call(this):Mf(this,ER,Toe).call(this,e))}),sm(this,lN,e=>{const r=e.target,n=this.contains(r),i=e.button===2,s=r?.nodeName==="VIDEO",a=Mf(this,GT,wR).call(this,r);n||i&&(s||a)||Mf(this,Ev,Zx).call(this)}),sm(this,cN,e=>{e.key==="Escape"&&Mf(this,Ev,Zx).call(this)}),sm(this,YT,e=>{var r,n;const i=e.target;if((r=i.matches)!=null&&r.call(i,'button[invoke="copy"]')){const s=(n=i.closest("media-context-menu-item"))==null?void 0:n.querySelector('input[slot="copy"]');s&&navigator.clipboard.writeText(s.value)}Mf(this,Ev,Zx).call(this)}),this.setAttribute("noautohide",""),Mf(this,t_,z5).call(this)}connectedCallback(){super.connectedCallback(),Rh(this).addEventListener("contextmenu",ym(this,WT)),this.addEventListener("click",ym(this,YT))}disconnectedCallback(){super.disconnectedCallback(),Rh(this).removeEventListener("contextmenu",ym(this,WT)),this.removeEventListener("click",ym(this,YT)),document.removeEventListener("mousedown",ym(this,lN)),document.removeEventListener("keydown",ym(this,cN))}}Mb=new WeakMap;t_=new WeakSet;z5=function(){this.hidden=!ym(this,Mb)};Ev=new WeakSet;Zx=function(){_oe(this,Mb,!1),Mf(this,t_,z5).call(this)};BU=new WeakSet;Soe=function(){document.querySelectorAll("media-context-menu").forEach(e=>{var r;e!==this&&Mf(r=e,Ev,Zx).call(r)})};GT=new WeakSet;wR=function(t){return t?t.hasAttribute("slot")&&t.getAttribute("slot")==="media"?!0:t.nodeName.includes("-")&&t.tagName.includes("-")?t.hasAttribute("src")||t.hasAttribute("poster")||t.hasAttribute("preload")||t.hasAttribute("playsinline"):!1:!1};WT=new WeakMap;ER=new WeakSet;Toe=function(t){t.preventDefault(),Mf(this,BU,Soe).call(this),_oe(this,Mb,!0),this.style.position="fixed",this.style.left=`${t.clientX}px`,this.style.top=`${t.clientY}px`,Mf(this,t_,z5).call(this),document.addEventListener("mousedown",ym(this,lN),{once:!0}),document.addEventListener("keydown",ym(this,cN),{once:!0})};lN=new WeakMap;cN=new WeakMap;YT=new WeakMap;Coe.getTemplateHTML=gWe;tr.customElements.get("media-context-menu")||tr.customElements.define("media-context-menu",Coe);function vWe(t){return`
    ${R0.getTemplateHTML.call(this,t)}
    <style>
        ::slotted(*) {
            color: var(--media-text-color, white);
            text-decoration: none;
            border: none;
            background: none;
            cursor: pointer;
            padding: 0;
            min-height: var(--media-control-height, 24px);
        }
    </style>
  `}class OU extends R0{}OU.shadowRootOptions={mode:"open"};OU.getTemplateHTML=vWe;tr.customElements.get("media-context-menu-item")||tr.customElements.define("media-context-menu-item",OU);var joe=t=>{throw TypeError(t)},PU=(t,e,r)=>e.has(t)||joe("Cannot "+r),Mo=(t,e,r)=>(PU(t,e,"read from private field"),r?r.call(t):e.get(t)),wA=(t,e,r)=>e.has(t)?joe("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),Pm=(t,e,r,n)=>(PU(t,e,"write to private field"),e.set(t,r),r),Au=(t,e,r)=>(PU(t,e,"access private method"),r),K5=class{addEventListener(){}removeEventListener(){}dispatchEvent(t){return!0}};if(typeof DocumentFragment>"u"){class t extends K5{}globalThis.DocumentFragment=t}var RU=class extends K5{},yWe=class extends K5{},xWe={get(t){},define(t,e,r){},getName(t){return null},upgrade(t){},whenDefined(t){return Promise.resolve(RU)}},qT,bWe=class{constructor(e,r={}){wA(this,qT),Pm(this,qT,r?.detail)}get detail(){return Mo(this,qT)}initCustomEvent(){}};qT=new WeakMap;function wWe(t,e){return new RU}var Noe={document:{createElement:wWe},DocumentFragment,customElements:xWe,CustomEvent:bWe,EventTarget:K5,HTMLElement:RU,HTMLVideoElement:yWe},koe=typeof window>"u"||typeof globalThis.customElements>"u",Em=koe?Noe:globalThis,uN=koe?Noe.document:globalThis.document;function EWe(t){let e="";return Object.entries(t).forEach(([r,n])=>{n!=null&&(e+=`${_R(r)}: ${n}; `)}),e?e.trim():void 0}function _R(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ioe(t){return t.replace(/[-_]([a-z])/g,(e,r)=>r.toUpperCase())}function tf(t){if(t==null)return;let e=+t;return Number.isNaN(e)?void 0:e}function Loe(t){let e=_We(t).toString();return e?"?"+e:""}function _We(t){let e={};for(let r in t)t[r]!=null&&(e[r]=t[r]);return new URLSearchParams(e)}var Boe=(t,e)=>!t||!e?!1:t.contains(e)?!0:Boe(t,e.getRootNode().host),Ooe="mux.com",SWe=()=>{try{return"3.11.4"}catch{}return"UNKNOWN"},TWe=SWe(),Poe=()=>TWe,CWe=(t,{token:e,customDomain:r=Ooe,thumbnailTime:n,programTime:i}={})=>{var s;let a=e==null?n:void 0,{aud:c}=(s=lb(e))!=null?s:{};if(!(e&&c!=="t"))return`https://image.${r}/${t}/thumbnail.webp${Loe({token:e,time:a,program_time:i})}`},jWe=(t,{token:e,customDomain:r=Ooe,programStartTime:n,programEndTime:i}={})=>{var s;let{aud:a}=(s=lb(e))!=null?s:{};if(!(e&&a!=="s"))return`https://image.${r}/${t}/storyboard.vtt${Loe({token:e,format:"webp",program_start_time:n,program_end_time:i})}`},DU=t=>{if(t){if([ko.LIVE,ko.ON_DEMAND].includes(t))return t;if(t!=null&&t.includes("live"))return ko.LIVE}},NWe={crossorigin:"crossOrigin",playsinline:"playsInline"};function kWe(t){var e;return(e=NWe[t])!=null?e:Ioe(t)}var Rx,Dx,Ih,IWe=class{constructor(e,r){wA(this,Rx),wA(this,Dx),wA(this,Ih,[]),Pm(this,Rx,e),Pm(this,Dx,r)}[Symbol.iterator](){return Mo(this,Ih).values()}get length(){return Mo(this,Ih).length}get value(){var e;return(e=Mo(this,Ih).join(" "))!=null?e:""}set value(e){var r;e!==this.value&&(Pm(this,Ih,[]),this.add(...(r=e?.split(" "))!=null?r:[]))}toString(){return this.value}item(e){return Mo(this,Ih)[e]}values(){return Mo(this,Ih).values()}keys(){return Mo(this,Ih).keys()}forEach(e){Mo(this,Ih).forEach(e)}add(...e){var r,n;e.forEach(i=>{this.contains(i)||Mo(this,Ih).push(i)}),!(this.value===""&&!((r=Mo(this,Rx))!=null&&r.hasAttribute(`${Mo(this,Dx)}`)))&&((n=Mo(this,Rx))==null||n.setAttribute(`${Mo(this,Dx)}`,`${this.value}`))}remove(...e){var r;e.forEach(n=>{Mo(this,Ih).splice(Mo(this,Ih).indexOf(n),1)}),(r=Mo(this,Rx))==null||r.setAttribute(`${Mo(this,Dx)}`,`${this.value}`)}contains(e){return Mo(this,Ih).includes(e)}toggle(e,r){return typeof r<"u"?r?(this.add(e),!0):(this.remove(e),!1):this.contains(e)?(this.remove(e),!1):(this.add(e),!0)}replace(e,r){this.remove(e),this.add(r)}};Rx=new WeakMap,Dx=new WeakMap,Ih=new WeakMap;var Roe=`[mux-player ${Poe()}]`;function Tp(...t){console.warn(Roe,...t)}function sf(...t){console.error(Roe,...t)}function Doe(t){var e;let r=(e=t.message)!=null?e:"";t.context&&(r+=` ${t.context}`),t.file&&(r+=` ${Ki("Read more: ")}
https://github.com/muxinc/elements/blob/main/errors/${t.file}`),Tp(r)}var qd={AUTOPLAY:"autoplay",CROSSORIGIN:"crossorigin",LOOP:"loop",MUTED:"muted",PLAYSINLINE:"playsinline",PRELOAD:"preload"},gv={VOLUME:"volume",PLAYBACKRATE:"playbackrate",MUTED:"muted"},mW=Object.freeze({length:0,start(t){let e=t>>>0;if(e>=this.length)throw new DOMException(`Failed to execute 'start' on 'TimeRanges': The index provided (${e}) is greater than or equal to the maximum bound (${this.length}).`);return 0},end(t){let e=t>>>0;if(e>=this.length)throw new DOMException(`Failed to execute 'end' on 'TimeRanges': The index provided (${e}) is greater than or equal to the maximum bound (${this.length}).`);return 0}}),LWe=Object.values(qd).filter(t=>qd.PLAYSINLINE!==t),BWe=Object.values(gv),OWe=[...LWe,...BWe],PWe=class extends Em.HTMLElement{static get observedAttributes(){return OWe}constructor(){super()}attributeChangedCallback(t,e,r){var n,i;switch(t){case gv.MUTED:{this.media&&(this.media.muted=r!=null,this.media.defaultMuted=r!=null);return}case gv.VOLUME:{let s=(n=tf(r))!=null?n:1;this.media&&(this.media.volume=s);return}case gv.PLAYBACKRATE:{let s=(i=tf(r))!=null?i:1;this.media&&(this.media.playbackRate=s,this.media.defaultPlaybackRate=s);return}}}play(){var t,e;return(e=(t=this.media)==null?void 0:t.play())!=null?e:Promise.reject()}pause(){var t;(t=this.media)==null||t.pause()}load(){var t;(t=this.media)==null||t.load()}get media(){var t;return(t=this.shadowRoot)==null?void 0:t.querySelector("mux-video")}get audioTracks(){return this.media.audioTracks}get videoTracks(){return this.media.videoTracks}get audioRenditions(){return this.media.audioRenditions}get videoRenditions(){return this.media.videoRenditions}get paused(){var t,e;return(e=(t=this.media)==null?void 0:t.paused)!=null?e:!0}get duration(){var t,e;return(e=(t=this.media)==null?void 0:t.duration)!=null?e:NaN}get ended(){var t,e;return(e=(t=this.media)==null?void 0:t.ended)!=null?e:!1}get buffered(){var t,e;return(e=(t=this.media)==null?void 0:t.buffered)!=null?e:mW}get seekable(){var t,e;return(e=(t=this.media)==null?void 0:t.seekable)!=null?e:mW}get readyState(){var t,e;return(e=(t=this.media)==null?void 0:t.readyState)!=null?e:0}get videoWidth(){var t,e;return(e=(t=this.media)==null?void 0:t.videoWidth)!=null?e:0}get videoHeight(){var t,e;return(e=(t=this.media)==null?void 0:t.videoHeight)!=null?e:0}get currentSrc(){var t,e;return(e=(t=this.media)==null?void 0:t.currentSrc)!=null?e:""}get currentTime(){var t,e;return(e=(t=this.media)==null?void 0:t.currentTime)!=null?e:0}set currentTime(t){this.media&&(this.media.currentTime=Number(t))}get volume(){var t,e;return(e=(t=this.media)==null?void 0:t.volume)!=null?e:1}set volume(t){this.media&&(this.media.volume=Number(t))}get playbackRate(){var t,e;return(e=(t=this.media)==null?void 0:t.playbackRate)!=null?e:1}set playbackRate(t){this.media&&(this.media.playbackRate=Number(t))}get defaultPlaybackRate(){var t;return(t=tf(this.getAttribute(gv.PLAYBACKRATE)))!=null?t:1}set defaultPlaybackRate(t){t!=null?this.setAttribute(gv.PLAYBACKRATE,`${t}`):this.removeAttribute(gv.PLAYBACKRATE)}get crossOrigin(){return X1(this,qd.CROSSORIGIN)}set crossOrigin(t){this.setAttribute(qd.CROSSORIGIN,`${t}`)}get autoplay(){return X1(this,qd.AUTOPLAY)!=null}set autoplay(t){t?this.setAttribute(qd.AUTOPLAY,typeof t=="string"?t:""):this.removeAttribute(qd.AUTOPLAY)}get loop(){return X1(this,qd.LOOP)!=null}set loop(t){t?this.setAttribute(qd.LOOP,""):this.removeAttribute(qd.LOOP)}get muted(){var t,e;return(e=(t=this.media)==null?void 0:t.muted)!=null?e:!1}set muted(t){this.media&&(this.media.muted=!!t)}get defaultMuted(){return X1(this,qd.MUTED)!=null}set defaultMuted(t){t?this.setAttribute(qd.MUTED,""):this.removeAttribute(qd.MUTED)}get playsInline(){return X1(this,qd.PLAYSINLINE)!=null}set playsInline(t){sf("playsInline is set to true by default and is not currently supported as a setter.")}get preload(){return this.media?this.media.preload:this.getAttribute("preload")}set preload(t){["","none","metadata","auto"].includes(t)?this.setAttribute(qd.PRELOAD,t):this.removeAttribute(qd.PRELOAD)}};function X1(t,e){return t.media?t.media.getAttribute(e):t.getAttribute(e)}var pW=PWe,RWe=`:host {
  --media-control-display: var(--controls);
  --media-loading-indicator-display: var(--loading-indicator);
  --media-dialog-display: var(--dialog);
  --media-play-button-display: var(--play-button);
  --media-live-button-display: var(--live-button);
  --media-seek-backward-button-display: var(--seek-backward-button);
  --media-seek-forward-button-display: var(--seek-forward-button);
  --media-mute-button-display: var(--mute-button);
  --media-captions-button-display: var(--captions-button);
  --media-captions-menu-button-display: var(--captions-menu-button, var(--media-captions-button-display));
  --media-rendition-menu-button-display: var(--rendition-menu-button);
  --media-audio-track-menu-button-display: var(--audio-track-menu-button);
  --media-airplay-button-display: var(--airplay-button);
  --media-pip-button-display: var(--pip-button);
  --media-fullscreen-button-display: var(--fullscreen-button);
  --media-cast-button-display: var(--cast-button, var(--_cast-button-drm-display));
  --media-playback-rate-button-display: var(--playback-rate-button);
  --media-playback-rate-menu-button-display: var(--playback-rate-menu-button);
  --media-volume-range-display: var(--volume-range);
  --media-time-range-display: var(--time-range);
  --media-time-display-display: var(--time-display);
  --media-duration-display-display: var(--duration-display);
  --media-title-display-display: var(--title-display);

  display: inline-block;
  line-height: 0;
  width: 100%;
}

a {
  color: #fff;
  font-size: 0.9em;
  text-decoration: underline;
}

media-theme {
  display: inline-block;
  line-height: 0;
  width: 100%;
  height: 100%;
  direction: ltr;
}

media-poster-image {
  display: inline-block;
  line-height: 0;
  width: 100%;
  height: 100%;
}

media-poster-image:not([src]):not([placeholdersrc]) {
  display: none;
}

::part(top),
[part~='top'] {
  --media-control-display: var(--controls, var(--top-controls));
  --media-play-button-display: var(--play-button, var(--top-play-button));
  --media-live-button-display: var(--live-button, var(--top-live-button));
  --media-seek-backward-button-display: var(--seek-backward-button, var(--top-seek-backward-button));
  --media-seek-forward-button-display: var(--seek-forward-button, var(--top-seek-forward-button));
  --media-mute-button-display: var(--mute-button, var(--top-mute-button));
  --media-captions-button-display: var(--captions-button, var(--top-captions-button));
  --media-captions-menu-button-display: var(
    --captions-menu-button,
    var(--media-captions-button-display, var(--top-captions-menu-button))
  );
  --media-rendition-menu-button-display: var(--rendition-menu-button, var(--top-rendition-menu-button));
  --media-audio-track-menu-button-display: var(--audio-track-menu-button, var(--top-audio-track-menu-button));
  --media-airplay-button-display: var(--airplay-button, var(--top-airplay-button));
  --media-pip-button-display: var(--pip-button, var(--top-pip-button));
  --media-fullscreen-button-display: var(--fullscreen-button, var(--top-fullscreen-button));
  --media-cast-button-display: var(--cast-button, var(--top-cast-button, var(--_cast-button-drm-display)));
  --media-playback-rate-button-display: var(--playback-rate-button, var(--top-playback-rate-button));
  --media-playback-rate-menu-button-display: var(
    --captions-menu-button,
    var(--media-playback-rate-button-display, var(--top-playback-rate-menu-button))
  );
  --media-volume-range-display: var(--volume-range, var(--top-volume-range));
  --media-time-range-display: var(--time-range, var(--top-time-range));
  --media-time-display-display: var(--time-display, var(--top-time-display));
  --media-duration-display-display: var(--duration-display, var(--top-duration-display));
  --media-title-display-display: var(--title-display, var(--top-title-display));
}

::part(center),
[part~='center'] {
  --media-control-display: var(--controls, var(--center-controls));
  --media-play-button-display: var(--play-button, var(--center-play-button));
  --media-live-button-display: var(--live-button, var(--center-live-button));
  --media-seek-backward-button-display: var(--seek-backward-button, var(--center-seek-backward-button));
  --media-seek-forward-button-display: var(--seek-forward-button, var(--center-seek-forward-button));
  --media-mute-button-display: var(--mute-button, var(--center-mute-button));
  --media-captions-button-display: var(--captions-button, var(--center-captions-button));
  --media-captions-menu-button-display: var(
    --captions-menu-button,
    var(--media-captions-button-display, var(--center-captions-menu-button))
  );
  --media-rendition-menu-button-display: var(--rendition-menu-button, var(--center-rendition-menu-button));
  --media-audio-track-menu-button-display: var(--audio-track-menu-button, var(--center-audio-track-menu-button));
  --media-airplay-button-display: var(--airplay-button, var(--center-airplay-button));
  --media-pip-button-display: var(--pip-button, var(--center-pip-button));
  --media-fullscreen-button-display: var(--fullscreen-button, var(--center-fullscreen-button));
  --media-cast-button-display: var(--cast-button, var(--center-cast-button, var(--_cast-button-drm-display)));
  --media-playback-rate-button-display: var(--playback-rate-button, var(--center-playback-rate-button));
  --media-playback-rate-menu-button-display: var(
    --playback-rate-menu-button,
    var(--media-playback-rate-button-display, var(--center-playback-rate-menu-button))
  );
  --media-volume-range-display: var(--volume-range, var(--center-volume-range));
  --media-time-range-display: var(--time-range, var(--center-time-range));
  --media-time-display-display: var(--time-display, var(--center-time-display));
  --media-duration-display-display: var(--duration-display, var(--center-duration-display));
}

::part(bottom),
[part~='bottom'] {
  --media-control-display: var(--controls, var(--bottom-controls));
  --media-play-button-display: var(--play-button, var(--bottom-play-button));
  --media-live-button-display: var(--live-button, var(--bottom-live-button));
  --media-seek-backward-button-display: var(--seek-backward-button, var(--bottom-seek-backward-button));
  --media-seek-forward-button-display: var(--seek-forward-button, var(--bottom-seek-forward-button));
  --media-mute-button-display: var(--mute-button, var(--bottom-mute-button));
  --media-captions-button-display: var(--captions-button, var(--bottom-captions-button));
  --media-captions-menu-button-display: var(
    --captions-menu-button,
    var(--media-captions-button-display, var(--bottom-captions-menu-button))
  );
  --media-rendition-menu-button-display: var(--rendition-menu-button, var(--bottom-rendition-menu-button));
  --media-audio-track-menu-button-display: var(--audio-track-menu-button, var(--bottom-audio-track-menu-button));
  --media-airplay-button-display: var(--airplay-button, var(--bottom-airplay-button));
  --media-pip-button-display: var(--pip-button, var(--bottom-pip-button));
  --media-fullscreen-button-display: var(--fullscreen-button, var(--bottom-fullscreen-button));
  --media-cast-button-display: var(--cast-button, var(--bottom-cast-button, var(--_cast-button-drm-display)));
  --media-playback-rate-button-display: var(--playback-rate-button, var(--bottom-playback-rate-button));
  --media-playback-rate-menu-button-display: var(
    --playback-rate-menu-button,
    var(--media-playback-rate-button-display, var(--bottom-playback-rate-menu-button))
  );
  --media-volume-range-display: var(--volume-range, var(--bottom-volume-range));
  --media-time-range-display: var(--time-range, var(--bottom-time-range));
  --media-time-display-display: var(--time-display, var(--bottom-time-display));
  --media-duration-display-display: var(--duration-display, var(--bottom-duration-display));
  --media-title-display-display: var(--title-display, var(--bottom-title-display));
}

:host([no-tooltips]) {
  --media-tooltip-display: none;
}
`,Z1=new WeakMap,DWe=class Moe{constructor(e,r){this.element=e,this.type=r,this.element.addEventListener(this.type,this);let n=Z1.get(this.element);n&&n.set(this.type,this)}set(e){if(typeof e=="function")this.handleEvent=e.bind(this.element);else if(typeof e=="object"&&typeof e.handleEvent=="function")this.handleEvent=e.handleEvent.bind(e);else{this.element.removeEventListener(this.type,this);let r=Z1.get(this.element);r&&r.delete(this.type)}}static for(e){Z1.has(e.element)||Z1.set(e.element,new Map);let r=e.attributeName.slice(2),n=Z1.get(e.element);return n&&n.has(r)?n.get(r):new Moe(e.element,r)}};function MWe(t,e){return t instanceof kA&&t.attributeName.startsWith("on")?(DWe.for(t).set(e),t.element.removeAttributeNS(t.attributeNamespace,t.attributeName),!0):!1}function FWe(t,e){return e instanceof Foe&&t instanceof u1?(e.renderInto(t),!0):!1}function UWe(t,e){return e instanceof DocumentFragment&&t instanceof u1?(e.childNodes.length&&t.replace(...e.childNodes),!0):!1}function $We(t,e){if(t instanceof kA){let r=t.attributeNamespace,n=t.element.getAttributeNS(r,t.attributeName);return String(e)!==n&&(t.value=String(e)),!0}return t.value=String(e),!0}function HWe(t,e){if(t instanceof kA&&e instanceof Element){let r=t.element;return r[t.attributeName]!==e&&(t.element.removeAttributeNS(t.attributeNamespace,t.attributeName),r[t.attributeName]=e),!0}return!1}function QWe(t,e){if(typeof e=="boolean"&&t instanceof kA){let r=t.attributeNamespace,n=t.element.hasAttributeNS(r,t.attributeName);return e!==n&&(t.booleanValue=e),!0}return!1}function VWe(t,e){return e===!1&&t instanceof u1?(t.replace(""),!0):!1}function zWe(t,e){HWe(t,e)||QWe(t,e)||MWe(t,e)||VWe(t,e)||FWe(t,e)||UWe(t,e)||$We(t,e)}var UB=new Map,gW=new WeakMap,vW=new WeakMap,Foe=class{constructor(e,r,n){this.strings=e,this.values=r,this.processor=n,this.stringsKey=this.strings.join("")}get template(){if(UB.has(this.stringsKey))return UB.get(this.stringsKey);{let e=uN.createElement("template"),r=this.strings.length-1;return e.innerHTML=this.strings.reduce((n,i,s)=>n+i+(s<r?`{{ ${s} }}`:""),""),UB.set(this.stringsKey,e),e}}renderInto(e){var r;let n=this.template;if(gW.get(e)!==n){gW.set(e,n);let s=new H5(n,this.values,this.processor);vW.set(e,s),e instanceof u1?e.replace(...s.children):e.appendChild(s);return}let i=vW.get(e);(r=i?.update)==null||r.call(i,this.values)}},KWe={processCallback(t,e,r){var n;if(r){for(let[i,s]of e)if(i in r){let a=(n=r[i])!=null?n:"";zWe(s,a)}}}};function XT(t,...e){return new Foe(t,e,KWe)}function GWe(t,e){t.renderInto(e)}var WWe=t=>{let{tokens:e}=t;return e.drm?":host(:not([cast-receiver])) { --_cast-button-drm-display: none; }":""},YWe=t=>XT`
  <style>
    ${WWe(t)}
    ${RWe}
  </style>
  ${JWe(t)}
`,qWe=t=>{let e=t.hotKeys?`${t.hotKeys}`:"";return DU(t.streamType)==="live"&&(e+=" noarrowleft noarrowright"),e},XWe={TOP:"top",CENTER:"center",BOTTOM:"bottom",LAYER:"layer",MEDIA_LAYER:"media-layer",POSTER_LAYER:"poster-layer",VERTICAL_LAYER:"vertical-layer",CENTERED_LAYER:"centered-layer",GESTURE_LAYER:"gesture-layer",CONTROLLER_LAYER:"controller",BUTTON:"button",RANGE:"range",THUMB:"thumb",DISPLAY:"display",CONTROL_BAR:"control-bar",MENU_BUTTON:"menu-button",MENU:"menu",MENU_ITEM:"menu-item",OPTION:"option",POSTER:"poster",LIVE:"live",PLAY:"play",PRE_PLAY:"pre-play",SEEK_BACKWARD:"seek-backward",SEEK_FORWARD:"seek-forward",MUTE:"mute",CAPTIONS:"captions",AIRPLAY:"airplay",PIP:"pip",FULLSCREEN:"fullscreen",CAST:"cast",PLAYBACK_RATE:"playback-rate",VOLUME:"volume",TIME:"time",TITLE:"title",AUDIO_TRACK:"audio-track",RENDITION:"rendition"},ZWe=Object.values(XWe).join(", "),JWe=t=>{var e,r,n,i,s,a,c,u,l,d,f,A,p,v,y,x,w,E,T,C,j,P,U,W,q,re,ie,Ae,be,Ee,ge,se,xe,ce,Me,Oe,we,ue,ye;return XT`
  <media-theme
    template="${t.themeTemplate||!1}"
    defaultstreamtype="${(e=t.defaultStreamType)!=null?e:!1}"
    hotkeys="${qWe(t)||!1}"
    nohotkeys="${t.noHotKeys||!t.hasSrc||!1}"
    noautoseektolive="${!!((r=t.streamType)!=null&&r.includes(ko.LIVE))&&t.targetLiveWindow!==0}"
    novolumepref="${t.novolumepref||!1}"
    nomutedpref="${t.nomutedpref||!1}"
    disabled="${!t.hasSrc||t.isDialogOpen}"
    audio="${(n=t.audio)!=null?n:!1}"
    style="${(i=EWe({"--media-primary-color":t.primaryColor,"--media-secondary-color":t.secondaryColor,"--media-accent-color":t.accentColor}))!=null?i:!1}"
    defaultsubtitles="${!t.defaultHiddenCaptions}"
    forwardseekoffset="${(s=t.forwardSeekOffset)!=null?s:!1}"
    backwardseekoffset="${(a=t.backwardSeekOffset)!=null?a:!1}"
    playbackrates="${(c=t.playbackRates)!=null?c:!1}"
    defaultshowremainingtime="${(u=t.defaultShowRemainingTime)!=null?u:!1}"
    defaultduration="${(l=t.defaultDuration)!=null?l:!1}"
    hideduration="${(d=t.hideDuration)!=null?d:!1}"
    title="${(f=t.title)!=null?f:!1}"
    videotitle="${(A=t.videoTitle)!=null?A:!1}"
    proudlydisplaymuxbadge="${(p=t.proudlyDisplayMuxBadge)!=null?p:!1}"
    exportparts="${ZWe}"
    onclose="${t.onCloseErrorDialog}"
    onfocusin="${t.onFocusInErrorDialog}"
  >
    <mux-video
      slot="media"
      inert="${(v=t.noHotKeys)!=null?v:!1}"
      target-live-window="${(y=t.targetLiveWindow)!=null?y:!1}"
      stream-type="${(x=DU(t.streamType))!=null?x:!1}"
      crossorigin="${(w=t.crossOrigin)!=null?w:""}"
      playsinline
      autoplay="${(E=t.autoplay)!=null?E:!1}"
      muted="${(T=t.muted)!=null?T:!1}"
      loop="${(C=t.loop)!=null?C:!1}"
      preload="${(j=t.preload)!=null?j:!1}"
      debug="${(P=t.debug)!=null?P:!1}"
      prefer-cmcd="${(U=t.preferCmcd)!=null?U:!1}"
      disable-tracking="${(W=t.disableTracking)!=null?W:!1}"
      disable-cookies="${(q=t.disableCookies)!=null?q:!1}"
      prefer-playback="${(re=t.preferPlayback)!=null?re:!1}"
      start-time="${t.startTime!=null?t.startTime:!1}"
      beacon-collection-domain="${(ie=t.beaconCollectionDomain)!=null?ie:!1}"
      player-init-time="${(Ae=t.playerInitTime)!=null?Ae:!1}"
      player-software-name="${(be=t.playerSoftwareName)!=null?be:!1}"
      player-software-version="${(Ee=t.playerSoftwareVersion)!=null?Ee:!1}"
      env-key="${(ge=t.envKey)!=null?ge:!1}"
      custom-domain="${(se=t.customDomain)!=null?se:!1}"
      src="${t.src?t.src:t.playbackId?uP(t):!1}"
      cast-src="${t.src?t.src:t.playbackId?uP(t):!1}"
      cast-receiver="${(xe=t.castReceiver)!=null?xe:!1}"
      drm-token="${(Me=(ce=t.tokens)==null?void 0:ce.drm)!=null?Me:!1}"
      exportparts="video"
      disable-pseudo-ended="${(Oe=t.disablePseudoEnded)!=null?Oe:!1}"
      max-auto-resolution="${(we=t.maxAutoResolution)!=null?we:!1}"
      cap-rendition-to-player-size="${(ue=t.capRenditionToPlayerSize)!=null?ue:!1}"
    >
      ${t.storyboard?XT`<track label="thumbnails" default kind="metadata" src="${t.storyboard}" />`:XT``}
      <slot></slot>
    </mux-video>
    <slot name="poster" slot="poster">
      <media-poster-image
        part="poster"
        exportparts="poster, img"
        src="${t.poster?t.poster:!1}"
        placeholdersrc="${(ye=t.placeholder)!=null?ye:!1}"
      ></media-poster-image>
    </slot>
  </media-theme>
`},Uoe=t=>t.charAt(0).toUpperCase()+t.slice(1),eYe=(t,e=!1)=>{var r,n;if(t.muxCode){let i=Uoe((r=t.errorCategory)!=null?r:"video"),s=T5((n=t.errorCategory)!=null?n:Sl.VIDEO);if(t.muxCode===ts.NETWORK_OFFLINE)return Ki("Your device appears to be offline",e);if(t.muxCode===ts.NETWORK_TOKEN_EXPIRED)return Ki("{category} URL has expired",e).format({category:i});if([ts.NETWORK_TOKEN_SUB_MISMATCH,ts.NETWORK_TOKEN_AUD_MISMATCH,ts.NETWORK_TOKEN_AUD_MISSING,ts.NETWORK_TOKEN_MALFORMED].includes(t.muxCode))return Ki("{category} URL is formatted incorrectly",e).format({category:i});if(t.muxCode===ts.NETWORK_TOKEN_MISSING)return Ki("Invalid {categoryName} URL",e).format({categoryName:s});if(t.muxCode===ts.NETWORK_NOT_FOUND)return Ki("{category} does not exist",e).format({category:i});if(t.muxCode===ts.NETWORK_NOT_READY){let a=t.streamType==="live"?"Live stream":"Video";return Ki("{mediaType} is not currently available",e).format({mediaType:a})}}if(t.code){if(t.code===ii.MEDIA_ERR_NETWORK)return Ki("Network Error",e);if(t.code===ii.MEDIA_ERR_DECODE)return Ki("Media Error",e);if(t.code===ii.MEDIA_ERR_SRC_NOT_SUPPORTED)return Ki("Source Not Supported",e)}return Ki("Error",e)},tYe=(t,e=!1)=>{var r,n;if(t.muxCode){let i=Uoe((r=t.errorCategory)!=null?r:"video"),s=T5((n=t.errorCategory)!=null?n:Sl.VIDEO);return t.muxCode===ts.NETWORK_OFFLINE?Ki("Check your internet connection and try reloading this video.",e):t.muxCode===ts.NETWORK_TOKEN_EXPIRED?Ki("The videos secured {tokenNamePrefix}-token has expired.",e).format({tokenNamePrefix:s}):t.muxCode===ts.NETWORK_TOKEN_SUB_MISMATCH?Ki("The videos playback ID does not match the one encoded in the {tokenNamePrefix}-token.",e).format({tokenNamePrefix:s}):t.muxCode===ts.NETWORK_TOKEN_MALFORMED?Ki("{category} URL is formatted incorrectly",e).format({category:i}):[ts.NETWORK_TOKEN_AUD_MISMATCH,ts.NETWORK_TOKEN_AUD_MISSING].includes(t.muxCode)?Ki("The {tokenNamePrefix}-token is formatted with incorrect information.",e).format({tokenNamePrefix:s}):[ts.NETWORK_TOKEN_MISSING,ts.NETWORK_INVALID_URL].includes(t.muxCode)?Ki("The video URL or {tokenNamePrefix}-token are formatted with incorrect or incomplete information.",e).format({tokenNamePrefix:s}):t.muxCode===ts.NETWORK_NOT_FOUND?"":t.message}return t.code&&(t.code===ii.MEDIA_ERR_NETWORK||t.code===ii.MEDIA_ERR_DECODE||(t.code,ii.MEDIA_ERR_SRC_NOT_SUPPORTED)),t.message},rYe=(t,e=!1)=>{let r=eYe(t,e).toString(),n=tYe(t,e).toString();return{title:r,message:n}},nYe=t=>{if(t.muxCode){if(t.muxCode===ts.NETWORK_TOKEN_EXPIRED)return"403-expired-token.md";if(t.muxCode===ts.NETWORK_TOKEN_MALFORMED)return"403-malformatted-token.md";if([ts.NETWORK_TOKEN_AUD_MISMATCH,ts.NETWORK_TOKEN_AUD_MISSING].includes(t.muxCode))return"403-incorrect-aud-value.md";if(t.muxCode===ts.NETWORK_TOKEN_SUB_MISMATCH)return"403-playback-id-mismatch.md";if(t.muxCode===ts.NETWORK_TOKEN_MISSING)return"missing-signed-tokens.md";if(t.muxCode===ts.NETWORK_NOT_FOUND)return"404-not-found.md";if(t.muxCode===ts.NETWORK_NOT_READY)return"412-not-playable.md"}if(t.code){if(t.code===ii.MEDIA_ERR_NETWORK)return"";if(t.code===ii.MEDIA_ERR_DECODE)return"media-decode-error.md";if(t.code===ii.MEDIA_ERR_SRC_NOT_SUPPORTED)return"media-src-not-supported.md"}return""},yW=(t,e)=>{let r=nYe(t);return{message:t.message,context:t.context,file:r}},iYe=`<template id="media-theme-gerwig">
  <style>
    @keyframes pre-play-hide {
      0% {
        transform: scale(1);
        opacity: 1;
      }

      30% {
        transform: scale(0.7);
      }

      100% {
        transform: scale(1.5);
        opacity: 0;
      }
    }

    :host {
      --_primary-color: var(--media-primary-color, #fff);
      --_secondary-color: var(--media-secondary-color, transparent);
      --_accent-color: var(--media-accent-color, #fa50b5);
      --_text-color: var(--media-text-color, #000);

      --media-icon-color: var(--_primary-color);
      --media-control-background: var(--_secondary-color);
      --media-control-hover-background: var(--_accent-color);
      --media-time-buffered-color: rgba(255, 255, 255, 0.4);
      --media-preview-time-text-shadow: none;
      --media-control-height: 14px;
      --media-control-padding: 6px;
      --media-tooltip-container-margin: 6px;
      --media-tooltip-distance: 18px;

      color: var(--_primary-color);
      display: inline-block;
      width: 100%;
      height: 100%;
    }

    :host([audio]) {
      --_secondary-color: var(--media-secondary-color, black);
      --media-preview-time-text-shadow: none;
    }

    :host([audio]) ::slotted([slot='media']) {
      height: 0px;
    }

    :host([audio]) media-loading-indicator {
      display: none;
    }

    :host([audio]) media-controller {
      background: transparent;
    }

    :host([audio]) media-controller::part(vertical-layer) {
      background: transparent;
    }

    :host([audio]) media-control-bar {
      width: 100%;
      background-color: var(--media-control-background);
    }

    /*
     * 0.433s is the transition duration for VTT Regions.
     * Borrowed here, so the captions don't move too fast.
     */
    media-controller {
      --media-webkit-text-track-transform: translateY(0) scale(0.98);
      --media-webkit-text-track-transition: transform 0.433s ease-out 0.3s;
    }
    media-controller:is([mediapaused], :not([userinactive])) {
      --media-webkit-text-track-transform: translateY(-50px) scale(0.98);
      --media-webkit-text-track-transition: transform 0.15s ease;
    }

    /*
     * CSS specific to iOS devices.
     * See: https://stackoverflow.com/questions/30102792/css-media-query-to-target-only-ios-devices/60220757#60220757
     */
    @supports (-webkit-touch-callout: none) {
      /* Disable subtitle adjusting for iOS Safari */
      media-controller[mediaisfullscreen] {
        --media-webkit-text-track-transform: unset;
        --media-webkit-text-track-transition: unset;
      }
    }

    media-time-range {
      --media-box-padding-left: 6px;
      --media-box-padding-right: 6px;
      --media-range-bar-color: var(--_accent-color);
      --media-time-range-buffered-color: var(--_primary-color);
      --media-range-track-color: transparent;
      --media-range-track-background: rgba(255, 255, 255, 0.4);
      --media-range-thumb-background: radial-gradient(
        circle,
        #000 0%,
        #000 25%,
        var(--_accent-color) 25%,
        var(--_accent-color)
      );
      --media-range-thumb-width: 12px;
      --media-range-thumb-height: 12px;
      --media-range-thumb-transform: scale(0);
      --media-range-thumb-transition: transform 0.3s;
      --media-range-thumb-opacity: 1;
      --media-preview-background: var(--_primary-color);
      --media-box-arrow-background: var(--_primary-color);
      --media-preview-thumbnail-border: 5px solid var(--_primary-color);
      --media-preview-border-radius: 5px;
      --media-text-color: var(--_text-color);
      --media-control-hover-background: transparent;
      --media-preview-chapter-text-shadow: none;
      color: var(--_accent-color);
      padding: 0 6px;
    }

    :host([audio]) media-time-range {
      --media-preview-time-padding: 1.5px 6px;
      --media-preview-box-margin: 0 0 -5px;
    }

    media-time-range:hover {
      --media-range-thumb-transform: scale(1);
    }

    media-preview-thumbnail {
      border-bottom-width: 0;
    }

    [part~='menu'] {
      border-radius: 2px;
      border: 1px solid rgba(0, 0, 0, 0.1);
      bottom: 50px;
      padding: 2.5px 10px;
    }

    [part~='menu']::part(indicator) {
      fill: var(--_accent-color);
    }

    [part~='menu']::part(menu-item) {
      box-sizing: border-box;
      display: flex;
      align-items: center;
      padding: 6px 10px;
      min-height: 34px;
    }

    [part~='menu']::part(checked) {
      font-weight: 700;
    }

    media-captions-menu,
    media-rendition-menu,
    media-audio-track-menu,
    media-playback-rate-menu {
      position: absolute; /* ensure they don't take up space in DOM on load */
      --media-menu-background: var(--_primary-color);
      --media-menu-item-checked-background: transparent;
      --media-text-color: var(--_text-color);
      --media-menu-item-hover-background: transparent;
      --media-menu-item-hover-outline: var(--_accent-color) solid 1px;
    }

    media-rendition-menu {
      min-width: 140px;
    }

    /* The icon is a circle so make it 16px high instead of 14px for more balance. */
    media-audio-track-menu-button {
      --media-control-padding: 5px;
      --media-control-height: 16px;
    }

    media-playback-rate-menu-button {
      --media-control-padding: 6px 3px;
      min-width: 4.4ch;
    }

    media-playback-rate-menu {
      --media-menu-flex-direction: row;
      --media-menu-item-checked-background: var(--_accent-color);
      --media-menu-item-checked-indicator-display: none;
      margin-right: 6px;
      padding: 0;
      --media-menu-gap: 0.25em;
    }

    media-playback-rate-menu[part~='menu']::part(menu-item) {
      padding: 6px 6px 6px 8px;
    }

    media-playback-rate-menu[part~='menu']::part(checked) {
      color: #fff;
    }

    :host(:not([audio])) media-time-range {
      /* Adding px is required here for calc() */
      --media-range-padding: 0px;
      background: transparent;
      z-index: 10;
      height: 10px;
      bottom: -3px;
      width: 100%;
    }

    media-control-bar :is([role='button'], [role='switch'], button) {
      line-height: 0;
    }

    media-control-bar :is([part*='button'], [part*='range'], [part*='display']) {
      border-radius: 3px;
    }

    .spacer {
      flex-grow: 1;
      background-color: var(--media-control-background, rgba(20, 20, 30, 0.7));
    }

    media-control-bar[slot~='top-chrome'] {
      min-height: 42px;
      pointer-events: none;
    }

    media-control-bar {
      --gradient-steps:
        hsl(0 0% 0% / 0) 0%, hsl(0 0% 0% / 0.013) 8.1%, hsl(0 0% 0% / 0.049) 15.5%, hsl(0 0% 0% / 0.104) 22.5%,
        hsl(0 0% 0% / 0.175) 29%, hsl(0 0% 0% / 0.259) 35.3%, hsl(0 0% 0% / 0.352) 41.2%, hsl(0 0% 0% / 0.45) 47.1%,
        hsl(0 0% 0% / 0.55) 52.9%, hsl(0 0% 0% / 0.648) 58.8%, hsl(0 0% 0% / 0.741) 64.7%, hsl(0 0% 0% / 0.825) 71%,
        hsl(0 0% 0% / 0.896) 77.5%, hsl(0 0% 0% / 0.951) 84.5%, hsl(0 0% 0% / 0.987) 91.9%, hsl(0 0% 0%) 100%;
    }

    :host([title]) media-control-bar[slot='top-chrome']::before,
    :host([videotitle]) media-control-bar[slot='top-chrome']::before {
      content: '';
      position: absolute;
      width: 100%;
      padding-bottom: min(100px, 25%);
      background: linear-gradient(to top, var(--gradient-steps));
      opacity: 0.8;
      pointer-events: none;
    }

    :host(:not([audio])) media-control-bar[part~='bottom']::before {
      content: '';
      position: absolute;
      width: 100%;
      bottom: 0;
      left: 0;
      padding-bottom: min(100px, 25%);
      background: linear-gradient(to bottom, var(--gradient-steps));
      opacity: 0.8;
      z-index: 1;
      pointer-events: none;
    }

    media-control-bar[part~='bottom'] > * {
      z-index: 20;
    }

    media-control-bar[part~='bottom'] {
      padding: 6px 6px;
    }

    media-control-bar[slot~='top-chrome'] > * {
      --media-control-background: transparent;
      --media-control-hover-background: transparent;
      position: relative;
    }

    media-controller::part(vertical-layer) {
      transition: background-color 1s;
    }

    media-controller:is([mediapaused], :not([userinactive]))::part(vertical-layer) {
      background-color: var(--controls-backdrop-color, var(--controls, transparent));
      transition: background-color 0.25s;
    }

    .center-controls {
      --media-button-icon-width: 100%;
      --media-button-icon-height: auto;
      --media-tooltip-display: none;
      pointer-events: none;
      width: 100%;
      display: flex;
      flex-flow: row;
      align-items: center;
      justify-content: center;
      paint-order: stroke;
      stroke: rgba(102, 102, 102, 1);
      stroke-width: 0.3px;
      text-shadow:
        0 0 2px rgb(0 0 0 / 0.25),
        0 0 6px rgb(0 0 0 / 0.25);
    }

    .center-controls media-play-button {
      --media-control-background: transparent;
      --media-control-hover-background: transparent;
      --media-control-padding: 0;
      width: 40px;
      filter: drop-shadow(0 0 2px rgb(0 0 0 / 0.25)) drop-shadow(0 0 6px rgb(0 0 0 / 0.25));
    }

    [breakpointsm] .center-controls media-play-button {
      width: 90px;
      height: 90px;
      border-radius: 50%;
      transition: background 0.4s;
      padding: 24px;
      --media-control-background: #000;
      --media-control-hover-background: var(--_accent-color);
    }

    .center-controls media-seek-backward-button,
    .center-controls media-seek-forward-button {
      --media-control-background: transparent;
      --media-control-hover-background: transparent;
      padding: 0;
      margin: 0 20px;
      width: max(33px, min(8%, 40px));
      text-shadow:
        0 0 2px rgb(0 0 0 / 0.25),
        0 0 6px rgb(0 0 0 / 0.25);
    }

    [breakpointsm]:not([audio]) .center-controls.pre-playback {
      display: grid;
      align-items: initial;
      justify-content: initial;
      height: 100%;
      overflow: hidden;
    }

    [breakpointsm]:not([audio]) .center-controls.pre-playback media-play-button {
      place-self: var(--_pre-playback-place, center);
      grid-area: 1 / 1;
      margin: 16px;
    }

    /* Show and hide controls or pre-playback state */

    [breakpointsm]:is([mediahasplayed], :not([mediapaused])):not([audio])
      .center-controls.pre-playback
      media-play-button {
      /* Using \`forwards\` would lead to a laggy UI after the animation got in the end state */
      animation: 0.3s linear pre-play-hide;
      opacity: 0;
      pointer-events: none;
    }

    .autoplay-unmute {
      --media-control-hover-background: transparent;
      width: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      filter: drop-shadow(0 0 2px rgb(0 0 0 / 0.25)) drop-shadow(0 0 6px rgb(0 0 0 / 0.25));
    }

    .autoplay-unmute-btn {
      --media-control-height: 16px;
      border-radius: 8px;
      background: #000;
      color: var(--_primary-color);
      display: flex;
      align-items: center;
      padding: 8px 16px;
      font-size: 18px;
      font-weight: 500;
      cursor: pointer;
    }

    .autoplay-unmute-btn:hover {
      background: var(--_accent-color);
    }

    [breakpointsm] .autoplay-unmute-btn {
      --media-control-height: 30px;
      padding: 14px 24px;
      font-size: 26px;
    }

    .autoplay-unmute-btn svg {
      margin: 0 6px 0 0;
    }

    [breakpointsm] .autoplay-unmute-btn svg {
      margin: 0 10px 0 0;
    }

    media-controller:not([audio]):not([mediahasplayed]) *:is(media-control-bar, media-time-range) {
      display: none;
    }

    media-error-dialog:not([mediaerrorcode]) {
      opacity: 0;
    }

    media-loading-indicator {
      --media-loading-icon-width: 100%;
      --media-button-icon-height: auto;
      display: var(--media-control-display, var(--media-loading-indicator-display, flex));
      pointer-events: none;
      position: absolute;
      width: min(15%, 150px);
      flex-flow: row;
      align-items: center;
      justify-content: center;
    }

    /* Intentionally don't target the div for transition but the children
     of the div. Prevents messing with media-chrome's autohide feature. */
    media-loading-indicator + div * {
      transition: opacity 0.15s;
      opacity: 1;
    }

    media-loading-indicator[medialoading]:not([mediapaused]) ~ div > * {
      opacity: 0;
      transition-delay: 400ms;
    }

    media-volume-range {
      width: min(100%, 100px);
      --media-range-padding-left: 10px;
      --media-range-padding-right: 10px;
      --media-range-thumb-width: 12px;
      --media-range-thumb-height: 12px;
      --media-range-thumb-background: radial-gradient(
        circle,
        #000 0%,
        #000 25%,
        var(--_primary-color) 25%,
        var(--_primary-color)
      );
      --media-control-hover-background: none;
    }

    media-time-display {
      white-space: nowrap;
    }

    /* Generic style for explicitly disabled controls */
    media-control-bar[part~='bottom'] [disabled],
    media-control-bar[part~='bottom'] [aria-disabled='true'] {
      opacity: 60%;
      cursor: not-allowed;
    }

    media-text-display {
      --media-font-size: 16px;
      --media-control-padding: 14px;
      font-weight: 500;
    }

    media-play-button.animated *:is(g, path) {
      transition: all 0.3s;
    }

    media-play-button.animated[mediapaused] .pause-icon-pt1 {
      opacity: 0;
    }

    media-play-button.animated[mediapaused] .pause-icon-pt2 {
      transform-origin: center center;
      transform: scaleY(0);
    }

    media-play-button.animated[mediapaused] .play-icon {
      clip-path: inset(0 0 0 0);
    }

    media-play-button.animated:not([mediapaused]) .play-icon {
      clip-path: inset(0 0 0 100%);
    }

    media-seek-forward-button,
    media-seek-backward-button {
      --media-font-weight: 400;
    }

    .mute-icon {
      display: inline-block;
    }

    .mute-icon :is(path, g) {
      transition: opacity 0.5s;
    }

    .muted {
      opacity: 0;
    }

    media-mute-button[mediavolumelevel='low'] :is(.volume-medium, .volume-high),
    media-mute-button[mediavolumelevel='medium'] :is(.volume-high) {
      opacity: 0;
    }

    media-mute-button[mediavolumelevel='off'] .unmuted {
      opacity: 0;
    }

    media-mute-button[mediavolumelevel='off'] .muted {
      opacity: 1;
    }

    /**
     * Our defaults for these buttons are to hide them at small sizes
     * users can override this with CSS
     */
    media-controller:not([breakpointsm]):not([audio]) {
      --bottom-play-button: none;
      --bottom-seek-backward-button: none;
      --bottom-seek-forward-button: none;
      --bottom-time-display: none;
      --bottom-playback-rate-menu-button: none;
      --bottom-pip-button: none;
    }

    [part='mux-badge'] {
      position: absolute;
      bottom: 10px;
      right: 10px;
      z-index: 2;
      opacity: 0.6;
      transition:
        opacity 0.2s ease-in-out,
        bottom 0.2s ease-in-out;
    }

    [part='mux-badge']:hover {
      opacity: 1;
    }

    [part='mux-badge'] a {
      font-size: 14px;
      font-family: var(--_font-family);
      color: var(--_primary-color);
      text-decoration: none;
      display: flex;
      align-items: center;
      gap: 5px;
    }

    [part='mux-badge'] .mux-badge-text {
      transition: opacity 0.5s ease-in-out;
      opacity: 0;
    }

    [part='mux-badge'] .mux-badge-logo {
      width: 40px;
      height: auto;
      display: inline-block;
    }

    [part='mux-badge'] .mux-badge-logo svg {
      width: 100%;
      height: 100%;
      fill: white;
    }

    media-controller:not([userinactive]):not([mediahasplayed]) [part='mux-badge'],
    media-controller:not([userinactive]) [part='mux-badge'],
    media-controller[mediahasplayed][mediapaused] [part='mux-badge'] {
      transition: bottom 0.1s ease-in-out;
    }

    media-controller[userinactive]:not([mediapaused]) [part='mux-badge'] {
      transition: bottom 0.2s ease-in-out 0.62s;
    }

    media-controller:not([userinactive]) [part='mux-badge'] .mux-badge-text,
    media-controller[mediahasplayed][mediapaused] [part='mux-badge'] .mux-badge-text {
      opacity: 1;
    }

    media-controller[userinactive]:not([mediapaused]) [part='mux-badge'] .mux-badge-text {
      opacity: 0;
    }

    media-controller[userinactive]:not([mediapaused]) [part='mux-badge'] {
      bottom: 10px;
    }

    media-controller:not([userinactive]):not([mediahasplayed]) [part='mux-badge'] {
      bottom: 10px;
    }

    media-controller:not([userinactive])[mediahasplayed] [part='mux-badge'],
    media-controller[mediahasplayed][mediapaused] [part='mux-badge'] {
      bottom: calc(28px + var(--media-control-height, 0px) + var(--media-control-padding, 0px) * 2);
    }
  </style>

  <template partial="TitleDisplay">
    <template if="videotitle">
      <template if="videotitle != true">
        <media-text-display part="top title display" class="title-display">{{videotitle}}</media-text-display>
      </template>
    </template>
    <template if="!videotitle">
      <template if="title">
        <media-text-display part="top title display" class="title-display">{{title}}</media-text-display>
      </template>
    </template>
  </template>

  <template partial="PlayButton">
    <media-play-button
      part="{{section ?? 'bottom'}} play button"
      disabled="{{disabled}}"
      aria-disabled="{{disabled}}"
      class="animated"
    >
      <svg aria-hidden="true" viewBox="0 0 18 14" slot="icon">
        <g class="play-icon">
          <path
            d="M15.5987 6.2911L3.45577 0.110898C2.83667 -0.204202 2.06287 0.189698 2.06287 0.819798V13.1802C2.06287 13.8103 2.83667 14.2042 3.45577 13.8891L15.5987 7.7089C16.2178 7.3938 16.2178 6.6061 15.5987 6.2911Z"
          />
        </g>
        <g class="pause-icon">
          <path
            class="pause-icon-pt1"
            d="M5.90709 0H2.96889C2.46857 0 2.06299 0.405585 2.06299 0.9059V13.0941C2.06299 13.5944 2.46857 14 2.96889 14H5.90709C6.4074 14 6.81299 13.5944 6.81299 13.0941V0.9059C6.81299 0.405585 6.4074 0 5.90709 0Z"
          />
          <path
            class="pause-icon-pt2"
            d="M15.1571 0H12.2189C11.7186 0 11.313 0.405585 11.313 0.9059V13.0941C11.313 13.5944 11.7186 14 12.2189 14H15.1571C15.6574 14 16.063 13.5944 16.063 13.0941V0.9059C16.063 0.405585 15.6574 0 15.1571 0Z"
          />
        </g>
      </svg>
    </media-play-button>
  </template>

  <template partial="PrePlayButton">
    <media-play-button
      part="{{section ?? 'center'}} play button pre-play"
      disabled="{{disabled}}"
      aria-disabled="{{disabled}}"
    >
      <svg aria-hidden="true" viewBox="0 0 18 14" slot="icon" style="transform: translate(3px, 0)">
        <path
          d="M15.5987 6.2911L3.45577 0.110898C2.83667 -0.204202 2.06287 0.189698 2.06287 0.819798V13.1802C2.06287 13.8103 2.83667 14.2042 3.45577 13.8891L15.5987 7.7089C16.2178 7.3938 16.2178 6.6061 15.5987 6.2911Z"
        />
      </svg>
    </media-play-button>
  </template>

  <template partial="SeekBackwardButton">
    <media-seek-backward-button
      seekoffset="{{backwardseekoffset}}"
      part="{{section ?? 'bottom'}} seek-backward button"
      disabled="{{disabled}}"
      aria-disabled="{{disabled}}"
    >
      <svg viewBox="0 0 22 14" aria-hidden="true" slot="icon">
        <path
          d="M3.65 2.07888L0.0864 6.7279C-0.0288 6.87812 -0.0288 7.12188 0.0864 7.2721L3.65 11.9211C3.7792 12.0896 4 11.9703 4 11.7321V2.26787C4 2.02968 3.7792 1.9104 3.65 2.07888Z"
        />
        <text transform="translate(6 12)" style="font-size: 14px; font-family: 'ArialMT', 'Arial'">
          {{backwardseekoffset}}
        </text>
      </svg>
    </media-seek-backward-button>
  </template>

  <template partial="SeekForwardButton">
    <media-seek-forward-button
      seekoffset="{{forwardseekoffset}}"
      part="{{section ?? 'bottom'}} seek-forward button"
      disabled="{{disabled}}"
      aria-disabled="{{disabled}}"
    >
      <svg viewBox="0 0 22 14" aria-hidden="true" slot="icon">
        <g>
          <text transform="translate(-1 12)" style="font-size: 14px; font-family: 'ArialMT', 'Arial'">
            {{forwardseekoffset}}
          </text>
          <path
            d="M18.35 11.9211L21.9136 7.2721C22.0288 7.12188 22.0288 6.87812 21.9136 6.7279L18.35 2.07888C18.2208 1.91041 18 2.02968 18 2.26787V11.7321C18 11.9703 18.2208 12.0896 18.35 11.9211Z"
          />
        </g>
      </svg>
    </media-seek-forward-button>
  </template>

  <template partial="MuteButton">
    <media-mute-button part="bottom mute button" disabled="{{disabled}}" aria-disabled="{{disabled}}">
      <svg viewBox="0 0 18 14" slot="icon" class="mute-icon" aria-hidden="true">
        <g class="unmuted">
          <path
            d="M6.76786 1.21233L3.98606 3.98924H1.19937C0.593146 3.98924 0.101743 4.51375 0.101743 5.1607V6.96412L0 6.99998L0.101743 7.03583V8.83926C0.101743 9.48633 0.593146 10.0108 1.19937 10.0108H3.98606L6.76773 12.7877C7.23561 13.2547 8 12.9007 8 12.2171V1.78301C8 1.09925 7.23574 0.745258 6.76786 1.21233Z"
          />
          <path
            class="volume-low"
            d="M10 3.54781C10.7452 4.55141 11.1393 5.74511 11.1393 6.99991C11.1393 8.25471 10.7453 9.44791 10 10.4515L10.7988 11.0496C11.6734 9.87201 12.1356 8.47161 12.1356 6.99991C12.1356 5.52821 11.6735 4.12731 10.7988 2.94971L10 3.54781Z"
          />
          <path
            class="volume-medium"
            d="M12.3778 2.40086C13.2709 3.76756 13.7428 5.35806 13.7428 7.00026C13.7428 8.64246 13.2709 10.233 12.3778 11.5992L13.2106 12.1484C14.2107 10.6185 14.739 8.83796 14.739 7.00016C14.739 5.16236 14.2107 3.38236 13.2106 1.85156L12.3778 2.40086Z"
          />
          <path
            class="volume-high"
            d="M15.5981 0.75L14.7478 1.2719C15.7937 2.9919 16.3468 4.9723 16.3468 7C16.3468 9.0277 15.7937 11.0082 14.7478 12.7281L15.5981 13.25C16.7398 11.3722 17.343 9.211 17.343 7C17.343 4.789 16.7398 2.6268 15.5981 0.75Z"
          />
        </g>
        <g class="muted">
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M4.39976 4.98924H1.19937C1.19429 4.98924 1.17777 4.98961 1.15296 5.01609C1.1271 5.04369 1.10174 5.09245 1.10174 5.1607V8.83926C1.10174 8.90761 1.12714 8.95641 1.15299 8.984C1.17779 9.01047 1.1943 9.01084 1.19937 9.01084H4.39977L7 11.6066V2.39357L4.39976 4.98924ZM7.47434 1.92006C7.4743 1.9201 7.47439 1.92002 7.47434 1.92006V1.92006ZM6.76773 12.7877L3.98606 10.0108H1.19937C0.593146 10.0108 0.101743 9.48633 0.101743 8.83926V7.03583L0 6.99998L0.101743 6.96412V5.1607C0.101743 4.51375 0.593146 3.98924 1.19937 3.98924H3.98606L6.76786 1.21233C7.23574 0.745258 8 1.09925 8 1.78301V12.2171C8 12.9007 7.23561 13.2547 6.76773 12.7877Z"
          />
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M15.2677 9.30323C15.463 9.49849 15.7796 9.49849 15.9749 9.30323C16.1701 9.10796 16.1701 8.79138 15.9749 8.59612L14.2071 6.82841L15.9749 5.06066C16.1702 4.8654 16.1702 4.54882 15.9749 4.35355C15.7796 4.15829 15.4631 4.15829 15.2678 4.35355L13.5 6.1213L11.7322 4.35348C11.537 4.15822 11.2204 4.15822 11.0251 4.35348C10.8298 4.54874 10.8298 4.86532 11.0251 5.06058L12.7929 6.82841L11.0251 8.59619C10.8299 8.79146 10.8299 9.10804 11.0251 9.3033C11.2204 9.49856 11.537 9.49856 11.7323 9.3033L13.5 7.53552L15.2677 9.30323Z"
          />
        </g>
      </svg>
    </media-mute-button>
  </template>

  <template partial="PipButton">
    <media-pip-button part="bottom pip button" disabled="{{disabled}}" aria-disabled="{{disabled}}">
      <svg viewBox="0 0 18 14" aria-hidden="true" slot="icon">
        <path
          d="M15.9891 0H2.011C0.9004 0 0 0.9003 0 2.0109V11.989C0 13.0996 0.9004 14 2.011 14H15.9891C17.0997 14 18 13.0997 18 11.9891V2.0109C18 0.9003 17.0997 0 15.9891 0ZM17 11.9891C17 12.5465 16.5465 13 15.9891 13H2.011C1.4536 13 1.0001 12.5465 1.0001 11.9891V2.0109C1.0001 1.4535 1.4536 0.9999 2.011 0.9999H15.9891C16.5465 0.9999 17 1.4535 17 2.0109V11.9891Z"
        />
        <path
          d="M15.356 5.67822H8.19523C8.03253 5.67822 7.90063 5.81012 7.90063 5.97282V11.3836C7.90063 11.5463 8.03253 11.6782 8.19523 11.6782H15.356C15.5187 11.6782 15.6506 11.5463 15.6506 11.3836V5.97282C15.6506 5.81012 15.5187 5.67822 15.356 5.67822Z"
        />
      </svg>
    </media-pip-button>
  </template>

  <template partial="CaptionsMenu">
    <media-captions-menu-button part="bottom captions button">
      <svg aria-hidden="true" viewBox="0 0 18 14" slot="on">
        <path
          d="M15.989 0H2.011C0.9004 0 0 0.9003 0 2.0109V11.9891C0 13.0997 0.9004 14 2.011 14H15.989C17.0997 14 18 13.0997 18 11.9891V2.0109C18 0.9003 17.0997 0 15.989 0ZM4.2292 8.7639C4.5954 9.1902 5.0935 9.4031 5.7233 9.4031C6.1852 9.4031 6.5544 9.301 6.8302 9.0969C7.1061 8.8933 7.2863 8.614 7.3702 8.26H8.4322C8.3062 8.884 8.0093 9.3733 7.5411 9.7273C7.0733 10.0813 6.4703 10.2581 5.732 10.2581C5.108 10.2581 4.5699 10.1219 4.1168 9.8489C3.6637 9.5759 3.3141 9.1946 3.0685 8.7058C2.8224 8.2165 2.6994 7.6511 2.6994 7.009C2.6994 6.3611 2.8224 5.7927 3.0685 5.3034C3.3141 4.8146 3.6637 4.4323 4.1168 4.1559C4.5699 3.88 5.108 3.7418 5.732 3.7418C6.4703 3.7418 7.0733 3.922 7.5411 4.2818C8.0094 4.6422 8.3062 5.1461 8.4322 5.794H7.3702C7.2862 5.4283 7.106 5.1368 6.8302 4.921C6.5544 4.7052 6.1852 4.5968 5.7233 4.5968C5.0934 4.5968 4.5954 4.8116 4.2292 5.2404C3.8635 5.6696 3.6804 6.259 3.6804 7.009C3.6804 7.7531 3.8635 8.3381 4.2292 8.7639ZM11.0974 8.7639C11.4636 9.1902 11.9617 9.4031 12.5915 9.4031C13.0534 9.4031 13.4226 9.301 13.6984 9.0969C13.9743 8.8933 14.1545 8.614 14.2384 8.26H15.3004C15.1744 8.884 14.8775 9.3733 14.4093 9.7273C13.9415 10.0813 13.3385 10.2581 12.6002 10.2581C11.9762 10.2581 11.4381 10.1219 10.985 9.8489C10.5319 9.5759 10.1823 9.1946 9.9367 8.7058C9.6906 8.2165 9.5676 7.6511 9.5676 7.009C9.5676 6.3611 9.6906 5.7927 9.9367 5.3034C10.1823 4.8146 10.5319 4.4323 10.985 4.1559C11.4381 3.88 11.9762 3.7418 12.6002 3.7418C13.3385 3.7418 13.9415 3.922 14.4093 4.2818C14.8776 4.6422 15.1744 5.1461 15.3004 5.794H14.2384C14.1544 5.4283 13.9742 5.1368 13.6984 4.921C13.4226 4.7052 13.0534 4.5968 12.5915 4.5968C11.9616 4.5968 11.4636 4.8116 11.0974 5.2404C10.7317 5.6696 10.5486 6.259 10.5486 7.009C10.5486 7.7531 10.7317 8.3381 11.0974 8.7639Z"
        />
      </svg>
      <svg aria-hidden="true" viewBox="0 0 18 14" slot="off">
        <path
          d="M5.73219 10.258C5.10819 10.258 4.57009 10.1218 4.11699 9.8488C3.66389 9.5758 3.31429 9.1945 3.06869 8.7057C2.82259 8.2164 2.69958 7.651 2.69958 7.0089C2.69958 6.361 2.82259 5.7926 3.06869 5.3033C3.31429 4.8145 3.66389 4.4322 4.11699 4.1558C4.57009 3.8799 5.10819 3.7417 5.73219 3.7417C6.47049 3.7417 7.07348 3.9219 7.54128 4.2817C8.00958 4.6421 8.30638 5.146 8.43238 5.7939H7.37039C7.28639 5.4282 7.10618 5.1367 6.83039 4.9209C6.55459 4.7051 6.18538 4.5967 5.72348 4.5967C5.09358 4.5967 4.59559 4.8115 4.22939 5.2403C3.86369 5.6695 3.68058 6.2589 3.68058 7.0089C3.68058 7.753 3.86369 8.338 4.22939 8.7638C4.59559 9.1901 5.09368 9.403 5.72348 9.403C6.18538 9.403 6.55459 9.3009 6.83039 9.0968C7.10629 8.8932 7.28649 8.6139 7.37039 8.2599H8.43238C8.30638 8.8839 8.00948 9.3732 7.54128 9.7272C7.07348 10.0812 6.47049 10.258 5.73219 10.258Z"
        />
        <path
          d="M12.6003 10.258C11.9763 10.258 11.4382 10.1218 10.9851 9.8488C10.532 9.5758 10.1824 9.1945 9.93685 8.7057C9.69075 8.2164 9.56775 7.651 9.56775 7.0089C9.56775 6.361 9.69075 5.7926 9.93685 5.3033C10.1824 4.8145 10.532 4.4322 10.9851 4.1558C11.4382 3.8799 11.9763 3.7417 12.6003 3.7417C13.3386 3.7417 13.9416 3.9219 14.4094 4.2817C14.8777 4.6421 15.1745 5.146 15.3005 5.7939H14.2385C14.1545 5.4282 13.9743 5.1367 13.6985 4.9209C13.4227 4.7051 13.0535 4.5967 12.5916 4.5967C11.9617 4.5967 11.4637 4.8115 11.0975 5.2403C10.7318 5.6695 10.5487 6.2589 10.5487 7.0089C10.5487 7.753 10.7318 8.338 11.0975 8.7638C11.4637 9.1901 11.9618 9.403 12.5916 9.403C13.0535 9.403 13.4227 9.3009 13.6985 9.0968C13.9744 8.8932 14.1546 8.6139 14.2385 8.2599H15.3005C15.1745 8.8839 14.8776 9.3732 14.4094 9.7272C13.9416 10.0812 13.3386 10.258 12.6003 10.258Z"
        />
        <path
          d="M15.9891 1C16.5465 1 17 1.4535 17 2.011V11.9891C17 12.5465 16.5465 13 15.9891 13H2.0109C1.4535 13 1 12.5465 1 11.9891V2.0109C1 1.4535 1.4535 0.9999 2.0109 0.9999L15.9891 1ZM15.9891 0H2.0109C0.9003 0 0 0.9003 0 2.0109V11.9891C0 13.0997 0.9003 14 2.0109 14H15.9891C17.0997 14 18 13.0997 18 11.9891V2.0109C18 0.9003 17.0997 0 15.9891 0Z"
        />
      </svg>
    </media-captions-menu-button>
    <media-captions-menu
      hidden
      anchor="auto"
      part="bottom captions menu"
      disabled="{{disabled}}"
      aria-disabled="{{disabled}}"
      exportparts="menu-item"
    >
      <div slot="checked-indicator">
        <style>
          .indicator {
            position: relative;
            top: 1px;
            width: 0.9em;
            height: auto;
            fill: var(--_accent-color);
            margin-right: 5px;
          }

          [aria-checked='false'] .indicator {
            display: none;
          }
        </style>
        <svg viewBox="0 0 14 18" class="indicator">
          <path
            d="M12.252 3.48c-.115.033-.301.161-.425.291-.059.063-1.407 1.815-2.995 3.894s-2.897 3.79-2.908 3.802c-.013.014-.661-.616-1.672-1.624-.908-.905-1.702-1.681-1.765-1.723-.401-.27-.783-.211-1.176.183a1.285 1.285 0 0 0-.261.342.582.582 0 0 0-.082.35c0 .165.01.205.08.35.075.153.213.296 2.182 2.271 1.156 1.159 2.17 2.159 2.253 2.222.189.143.338.196.539.194.203-.003.412-.104.618-.299.205-.193 6.7-8.693 6.804-8.903a.716.716 0 0 0 .085-.345c.01-.179.005-.203-.062-.339-.124-.252-.45-.531-.746-.639a.784.784 0 0 0-.469-.027"
            fill-rule="evenodd"
          />
        </svg></div
    ></media-captions-menu>
  </template>

  <template partial="AirplayButton">
    <media-airplay-button part="bottom airplay button" disabled="{{disabled}}" aria-disabled="{{disabled}}">
      <svg viewBox="0 0 18 14" aria-hidden="true" slot="icon">
        <path
          d="M16.1383 0H1.8618C0.8335 0 0 0.8335 0 1.8617V10.1382C0 11.1664 0.8335 12 1.8618 12H3.076C3.1204 11.9433 3.1503 11.8785 3.2012 11.826L4.004 11H1.8618C1.3866 11 1 10.6134 1 10.1382V1.8617C1 1.3865 1.3866 0.9999 1.8618 0.9999H16.1383C16.6135 0.9999 17.0001 1.3865 17.0001 1.8617V10.1382C17.0001 10.6134 16.6135 11 16.1383 11H13.9961L14.7989 11.826C14.8499 11.8785 14.8798 11.9432 14.9241 12H16.1383C17.1665 12 18.0001 11.1664 18.0001 10.1382V1.8617C18 0.8335 17.1665 0 16.1383 0Z"
        />
        <path
          d="M9.55061 8.21903C9.39981 8.06383 9.20001 7.98633 9.00011 7.98633C8.80021 7.98633 8.60031 8.06383 8.44951 8.21903L4.09771 12.697C3.62471 13.1838 3.96961 13.9998 4.64831 13.9998H13.3518C14.0304 13.9998 14.3754 13.1838 13.9023 12.697L9.55061 8.21903Z"
        />
      </svg>
    </media-airplay-button>
  </template>

  <template partial="FullscreenButton">
    <media-fullscreen-button part="bottom fullscreen button" disabled="{{disabled}}" aria-disabled="{{disabled}}">
      <svg viewBox="0 0 18 14" aria-hidden="true" slot="enter">
        <path
          d="M1.00745 4.39539L1.01445 1.98789C1.01605 1.43049 1.47085 0.978289 2.02835 0.979989L6.39375 0.992589L6.39665 -0.007411L2.03125 -0.020011C0.920646 -0.023211 0.0176463 0.874489 0.0144463 1.98509L0.00744629 4.39539H1.00745Z"
        />
        <path
          d="M17.0144 2.03431L17.0076 4.39541H18.0076L18.0144 2.03721C18.0176 0.926712 17.1199 0.0237125 16.0093 0.0205125L11.6439 0.0078125L11.641 1.00781L16.0064 1.02041C16.5638 1.02201 17.016 1.47681 17.0144 2.03431Z"
        />
        <path
          d="M16.9925 9.60498L16.9855 12.0124C16.9839 12.5698 16.5291 13.022 15.9717 13.0204L11.6063 13.0078L11.6034 14.0078L15.9688 14.0204C17.0794 14.0236 17.9823 13.1259 17.9855 12.0153L17.9925 9.60498H16.9925Z"
        />
        <path
          d="M0.985626 11.9661L0.992426 9.60498H-0.0074737L-0.0142737 11.9632C-0.0174737 13.0738 0.880226 13.9767 1.99083 13.98L6.35623 13.9926L6.35913 12.9926L1.99373 12.98C1.43633 12.9784 0.983926 12.5236 0.985626 11.9661Z"
        />
      </svg>
      <svg viewBox="0 0 18 14" aria-hidden="true" slot="exit">
        <path
          d="M5.39655 -0.0200195L5.38955 2.38748C5.38795 2.94488 4.93315 3.39708 4.37565 3.39538L0.0103463 3.38278L0.00744629 4.38278L4.37285 4.39538C5.48345 4.39858 6.38635 3.50088 6.38965 2.39028L6.39665 -0.0200195H5.39655Z"
        />
        <path
          d="M12.6411 2.36891L12.6479 0.0078125H11.6479L11.6411 2.36601C11.6379 3.47651 12.5356 4.37951 13.6462 4.38271L18.0116 4.39531L18.0145 3.39531L13.6491 3.38271C13.0917 3.38111 12.6395 2.92641 12.6411 2.36891Z"
        />
        <path
          d="M12.6034 14.0204L12.6104 11.613C12.612 11.0556 13.0668 10.6034 13.6242 10.605L17.9896 10.6176L17.9925 9.61759L13.6271 9.60499C12.5165 9.60179 11.6136 10.4995 11.6104 11.6101L11.6034 14.0204H12.6034Z"
        />
        <path
          d="M5.359 11.6315L5.3522 13.9926H6.3522L6.359 11.6344C6.3622 10.5238 5.4645 9.62088 4.3539 9.61758L-0.0115043 9.60498L-0.0144043 10.605L4.351 10.6176C4.9084 10.6192 5.3607 11.074 5.359 11.6315Z"
        />
      </svg>
    </media-fullscreen-button>
  </template>

  <template partial="CastButton">
    <media-cast-button part="bottom cast button" disabled="{{disabled}}" aria-disabled="{{disabled}}">
      <svg viewBox="0 0 18 14" aria-hidden="true" slot="enter">
        <path
          d="M16.0072 0H2.0291C0.9185 0 0.0181 0.9003 0.0181 2.011V5.5009C0.357 5.5016 0.6895 5.5275 1.0181 5.5669V2.011C1.0181 1.4536 1.4716 1 2.029 1H16.0072C16.5646 1 17.0181 1.4536 17.0181 2.011V11.9891C17.0181 12.5465 16.5646 13 16.0072 13H8.4358C8.4746 13.3286 8.4999 13.6611 8.4999 13.9999H16.0071C17.1177 13.9999 18.018 13.0996 18.018 11.989V2.011C18.0181 0.9003 17.1178 0 16.0072 0ZM0 6.4999V7.4999C3.584 7.4999 6.5 10.4159 6.5 13.9999H7.5C7.5 9.8642 4.1357 6.4999 0 6.4999ZM0 8.7499V9.7499C2.3433 9.7499 4.25 11.6566 4.25 13.9999H5.25C5.25 11.1049 2.895 8.7499 0 8.7499ZM0.0181 11V14H3.0181C3.0181 12.3431 1.675 11 0.0181 11Z"
        />
      </svg>
      <svg viewBox="0 0 18 14" aria-hidden="true" slot="exit">
        <path
          d="M15.9891 0H2.01103C0.900434 0 3.35947e-05 0.9003 3.35947e-05 2.011V5.5009C0.338934 5.5016 0.671434 5.5275 1.00003 5.5669V2.011C1.00003 1.4536 1.45353 1 2.01093 1H15.9891C16.5465 1 17 1.4536 17 2.011V11.9891C17 12.5465 16.5465 13 15.9891 13H8.41773C8.45653 13.3286 8.48183 13.6611 8.48183 13.9999H15.989C17.0996 13.9999 17.9999 13.0996 17.9999 11.989V2.011C18 0.9003 17.0997 0 15.9891 0ZM-0.0180664 6.4999V7.4999C3.56593 7.4999 6.48193 10.4159 6.48193 13.9999H7.48193C7.48193 9.8642 4.11763 6.4999 -0.0180664 6.4999ZM-0.0180664 8.7499V9.7499C2.32523 9.7499 4.23193 11.6566 4.23193 13.9999H5.23193C5.23193 11.1049 2.87693 8.7499 -0.0180664 8.7499ZM3.35947e-05 11V14H3.00003C3.00003 12.3431 1.65693 11 3.35947e-05 11Z"
        />
        <path d="M2.15002 5.634C5.18352 6.4207 7.57252 8.8151 8.35282 11.8499H15.8501V2.1499H2.15002V5.634Z" />
      </svg>
    </media-cast-button>
  </template>

  <template partial="LiveButton">
    <media-live-button part="{{section ?? 'top'}} live button" disabled="{{disabled}}" aria-disabled="{{disabled}}">
      <span slot="text">Live</span>
    </media-live-button>
  </template>

  <template partial="PlaybackRateMenu">
    <media-playback-rate-menu-button part="bottom playback-rate button"></media-playback-rate-menu-button>
    <media-playback-rate-menu
      hidden
      anchor="auto"
      rates="{{playbackrates}}"
      exportparts="menu-item"
      part="bottom playback-rate menu"
      disabled="{{disabled}}"
      aria-disabled="{{disabled}}"
    ></media-playback-rate-menu>
  </template>

  <template partial="VolumeRange">
    <media-volume-range
      part="bottom volume range"
      disabled="{{disabled}}"
      aria-disabled="{{disabled}}"
    ></media-volume-range>
  </template>

  <template partial="TimeDisplay">
    <media-time-display
      remaining="{{defaultshowremainingtime}}"
      showduration="{{!hideduration}}"
      part="bottom time display"
      disabled="{{disabled}}"
      aria-disabled="{{disabled}}"
    ></media-time-display>
  </template>

  <template partial="TimeRange">
    <media-time-range part="bottom time range" disabled="{{disabled}}" aria-disabled="{{disabled}}" exportparts="thumb">
      <media-preview-thumbnail slot="preview"></media-preview-thumbnail>
      <media-preview-chapter-display slot="preview"></media-preview-chapter-display>
      <media-preview-time-display slot="preview"></media-preview-time-display>
      <div slot="preview" part="arrow"></div>
    </media-time-range>
  </template>

  <template partial="AudioTrackMenu">
    <media-audio-track-menu-button part="bottom audio-track button">
      <svg aria-hidden="true" slot="icon" viewBox="0 0 18 16">
        <path d="M9 15A7 7 0 1 1 9 1a7 7 0 0 1 0 14Zm0 1A8 8 0 1 0 9 0a8 8 0 0 0 0 16Z" />
        <path
          d="M5.2 6.3a.5.5 0 0 1 .5.5v2.4a.5.5 0 1 1-1 0V6.8a.5.5 0 0 1 .5-.5Zm2.4-2.4a.5.5 0 0 1 .5.5v7.2a.5.5 0 0 1-1 0V4.4a.5.5 0 0 1 .5-.5ZM10 5.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5Zm2.4-.8a.5.5 0 0 1 .5.5v5.6a.5.5 0 0 1-1 0V5.2a.5.5 0 0 1 .5-.5Z"
        />
      </svg>
    </media-audio-track-menu-button>
    <media-audio-track-menu
      hidden
      anchor="auto"
      part="bottom audio-track menu"
      disabled="{{disabled}}"
      aria-disabled="{{disabled}}"
      exportparts="menu-item"
    >
      <div slot="checked-indicator">
        <style>
          .indicator {
            position: relative;
            top: 1px;
            width: 0.9em;
            height: auto;
            fill: var(--_accent-color);
            margin-right: 5px;
          }

          [aria-checked='false'] .indicator {
            display: none;
          }
        </style>
        <svg viewBox="0 0 14 18" class="indicator">
          <path
            d="M12.252 3.48c-.115.033-.301.161-.425.291-.059.063-1.407 1.815-2.995 3.894s-2.897 3.79-2.908 3.802c-.013.014-.661-.616-1.672-1.624-.908-.905-1.702-1.681-1.765-1.723-.401-.27-.783-.211-1.176.183a1.285 1.285 0 0 0-.261.342.582.582 0 0 0-.082.35c0 .165.01.205.08.35.075.153.213.296 2.182 2.271 1.156 1.159 2.17 2.159 2.253 2.222.189.143.338.196.539.194.203-.003.412-.104.618-.299.205-.193 6.7-8.693 6.804-8.903a.716.716 0 0 0 .085-.345c.01-.179.005-.203-.062-.339-.124-.252-.45-.531-.746-.639a.784.784 0 0 0-.469-.027"
            fill-rule="evenodd"
          />
        </svg>
      </div>
    </media-audio-track-menu>
  </template>

  <template partial="RenditionMenu">
    <media-rendition-menu-button part="bottom rendition button">
      <svg aria-hidden="true" slot="icon" viewBox="0 0 18 14">
        <path
          d="M2.25 9a2 2 0 1 0 0-4 2 2 0 0 0 0 4ZM9 9a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm6.75 0a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z"
        />
      </svg>
    </media-rendition-menu-button>
    <media-rendition-menu
      hidden
      anchor="auto"
      part="bottom rendition menu"
      disabled="{{disabled}}"
      aria-disabled="{{disabled}}"
    >
      <div slot="checked-indicator">
        <style>
          .indicator {
            position: relative;
            top: 1px;
            width: 0.9em;
            height: auto;
            fill: var(--_accent-color);
            margin-right: 5px;
          }

          [aria-checked='false'] .indicator {
            opacity: 0;
          }
        </style>
        <svg viewBox="0 0 14 18" class="indicator">
          <path
            d="M12.252 3.48c-.115.033-.301.161-.425.291-.059.063-1.407 1.815-2.995 3.894s-2.897 3.79-2.908 3.802c-.013.014-.661-.616-1.672-1.624-.908-.905-1.702-1.681-1.765-1.723-.401-.27-.783-.211-1.176.183a1.285 1.285 0 0 0-.261.342.582.582 0 0 0-.082.35c0 .165.01.205.08.35.075.153.213.296 2.182 2.271 1.156 1.159 2.17 2.159 2.253 2.222.189.143.338.196.539.194.203-.003.412-.104.618-.299.205-.193 6.7-8.693 6.804-8.903a.716.716 0 0 0 .085-.345c.01-.179.005-.203-.062-.339-.124-.252-.45-.531-.746-.639a.784.784 0 0 0-.469-.027"
            fill-rule="evenodd"
          />
        </svg>
      </div>
    </media-rendition-menu>
  </template>

  <template partial="MuxBadge">
    <div part="mux-badge">
      <a href="https://www.mux.com/player" target="_blank">
        <span class="mux-badge-text">Powered by</span>
        <div class="mux-badge-logo">
          <svg
            viewBox="0 0 1600 500"
            style="fill-rule: evenodd; clip-rule: evenodd; stroke-linejoin: round; stroke-miterlimit: 2"
          >
            <g>
              <path
                d="M994.287,93.486c-17.121,-0 -31,-13.879 -31,-31c0,-17.121 13.879,-31 31,-31c17.121,-0 31,13.879 31,31c0,17.121 -13.879,31 -31,31m0,-93.486c-34.509,-0 -62.484,27.976 -62.484,62.486l0,187.511c0,68.943 -56.09,125.033 -125.032,125.033c-68.942,-0 -125.03,-56.09 -125.03,-125.033l0,-187.511c0,-34.51 -27.976,-62.486 -62.485,-62.486c-34.509,-0 -62.484,27.976 -62.484,62.486l0,187.511c0,137.853 112.149,250.003 249.999,250.003c137.851,-0 250.001,-112.15 250.001,-250.003l0,-187.511c0,-34.51 -27.976,-62.486 -62.485,-62.486"
                style="fill-rule: nonzero"
              ></path>
              <path
                d="M1537.51,468.511c-17.121,-0 -31,-13.879 -31,-31c0,-17.121 13.879,-31 31,-31c17.121,-0 31,13.879 31,31c0,17.121 -13.879,31 -31,31m-275.883,-218.509l-143.33,143.329c-24.402,24.402 -24.402,63.966 0,88.368c24.402,24.402 63.967,24.402 88.369,-0l143.33,-143.329l143.328,143.329c24.402,24.4 63.967,24.402 88.369,-0c24.403,-24.402 24.403,-63.966 0.001,-88.368l-143.33,-143.329l0.001,-0.004l143.329,-143.329c24.402,-24.402 24.402,-63.965 0,-88.367c-24.402,-24.402 -63.967,-24.402 -88.369,-0l-143.329,143.328l-143.329,-143.328c-24.402,-24.401 -63.967,-24.402 -88.369,-0c-24.402,24.402 -24.402,63.965 0,88.367l143.329,143.329l0,0.004Z"
                style="fill-rule: nonzero"
              ></path>
              <path
                d="M437.511,468.521c-17.121,-0 -31,-13.879 -31,-31c0,-17.121 13.879,-31 31,-31c17.121,-0 31,13.879 31,31c0,17.121 -13.879,31 -31,31m23.915,-463.762c-23.348,-9.672 -50.226,-4.327 -68.096,13.544l-143.331,143.329l-143.33,-143.329c-17.871,-17.871 -44.747,-23.216 -68.096,-13.544c-23.349,9.671 -38.574,32.455 -38.574,57.729l0,375.026c0,34.51 27.977,62.486 62.487,62.486c34.51,-0 62.486,-27.976 62.486,-62.486l0,-224.173l80.843,80.844c24.404,24.402 63.965,24.402 88.369,-0l80.843,-80.844l0,224.173c0,34.51 27.976,62.486 62.486,62.486c34.51,-0 62.486,-27.976 62.486,-62.486l0,-375.026c0,-25.274 -15.224,-48.058 -38.573,-57.729"
                style="fill-rule: nonzero"
              ></path>
            </g>
          </svg>
        </div>
      </a>
    </div>
  </template>

  <media-controller
    part="controller"
    defaultstreamtype="{{defaultstreamtype ?? 'on-demand'}}"
    breakpoints="sm:470"
    gesturesdisabled="{{disabled}}"
    hotkeys="{{hotkeys}}"
    nohotkeys="{{nohotkeys}}"
    novolumepref="{{novolumepref}}"
    audio="{{audio}}"
    noautoseektolive="{{noautoseektolive}}"
    defaultsubtitles="{{defaultsubtitles}}"
    defaultduration="{{defaultduration ?? false}}"
    keyboardforwardseekoffset="{{forwardseekoffset}}"
    keyboardbackwardseekoffset="{{backwardseekoffset}}"
    exportparts="layer, media-layer, poster-layer, vertical-layer, centered-layer, gesture-layer"
    style="--_pre-playback-place:{{preplaybackplace ?? 'center'}}"
  >
    <slot name="media" slot="media"></slot>
    <slot name="poster" slot="poster"></slot>

    <media-loading-indicator slot="centered-chrome" noautohide></media-loading-indicator>

    <template if="!audio">
      <media-error-dialog slot="dialog" noautohide></media-error-dialog>
      <!-- Pre-playback UI -->
      <!-- same for both on-demand and live -->
      <div slot="centered-chrome" class="center-controls pre-playback">
        <template if="!breakpointsm">{{>PlayButton section="center"}}</template>
        <template if="breakpointsm">{{>PrePlayButton section="center"}}</template>
      </div>

      <!-- Mux Badge -->
      <template if="proudlydisplaymuxbadge"> {{>MuxBadge}} </template>

      <!-- Autoplay centered unmute button -->
      <!--
        todo: figure out how show this with available state variables
        needs to show when:
        - autoplay is enabled
        - playback has been successful
        - audio is muted
        - in place / instead of the pre-plaback play button
        - not to show again after user has interacted with this button
          - OR user has interacted with the mute button in the control bar
      -->
      <!--
        There should be a >MuteButton to the left of the "Unmute" text, but a templating bug
        makes it appear even if commented out in the markup, add it back when code is un-commented
      -->
      <!-- <div slot="centered-chrome" class="autoplay-unmute">
        <div role="button" class="autoplay-unmute-btn">Unmute</div>
      </div> -->

      <template if="streamtype == 'on-demand'">
        <template if="breakpointsm">
          <media-control-bar part="control-bar top" slot="top-chrome">{{>TitleDisplay}} </media-control-bar>
        </template>
        {{>TimeRange}}
        <media-control-bar part="control-bar bottom">
          {{>PlayButton}} {{>SeekBackwardButton}} {{>SeekForwardButton}} {{>TimeDisplay}} {{>MuteButton}}
          {{>VolumeRange}}
          <div class="spacer"></div>
          {{>RenditionMenu}} {{>PlaybackRateMenu}} {{>AudioTrackMenu}} {{>CaptionsMenu}} {{>AirplayButton}}
          {{>CastButton}} {{>PipButton}} {{>FullscreenButton}}
        </media-control-bar>
      </template>

      <template if="streamtype == 'live'">
        <media-control-bar part="control-bar top" slot="top-chrome">
          {{>LiveButton}}
          <template if="breakpointsm"> {{>TitleDisplay}} </template>
        </media-control-bar>
        <template if="targetlivewindow > 0">{{>TimeRange}}</template>
        <media-control-bar part="control-bar bottom">
          {{>PlayButton}}
          <template if="targetlivewindow > 0">{{>SeekBackwardButton}} {{>SeekForwardButton}}</template>
          {{>MuteButton}} {{>VolumeRange}}
          <div class="spacer"></div>
          {{>RenditionMenu}} {{>AudioTrackMenu}} {{>CaptionsMenu}} {{>AirplayButton}} {{>CastButton}} {{>PipButton}}
          {{>FullscreenButton}}
        </media-control-bar>
      </template>
    </template>

    <template if="audio">
      <template if="streamtype == 'on-demand'">
        <template if="title">
          <media-control-bar part="control-bar top">{{>TitleDisplay}}</media-control-bar>
        </template>
        <media-control-bar part="control-bar bottom">
          {{>PlayButton}}
          <template if="breakpointsm"> {{>SeekBackwardButton}} {{>SeekForwardButton}} </template>
          {{>MuteButton}}
          <template if="breakpointsm">{{>VolumeRange}}</template>
          {{>TimeDisplay}} {{>TimeRange}}
          <template if="breakpointsm">{{>PlaybackRateMenu}}</template>
          {{>AirplayButton}} {{>CastButton}}
        </media-control-bar>
      </template>

      <template if="streamtype == 'live'">
        <template if="title">
          <media-control-bar part="control-bar top">{{>TitleDisplay}}</media-control-bar>
        </template>
        <media-control-bar part="control-bar bottom">
          {{>PlayButton}} {{>LiveButton section="bottom"}} {{>MuteButton}}
          <template if="breakpointsm">
            {{>VolumeRange}}
            <template if="targetlivewindow > 0"> {{>SeekBackwardButton}} {{>SeekForwardButton}} </template>
          </template>
          <template if="targetlivewindow > 0"> {{>TimeDisplay}} {{>TimeRange}} </template>
          <template if="!targetlivewindow"><div class="spacer"></div></template>
          {{>AirplayButton}} {{>CastButton}}
        </media-control-bar>
      </template>
    </template>

    <slot></slot>
  </media-controller>
</template>
`,SR=uN.createElement("template");"innerHTML"in SR&&(SR.innerHTML=iYe);var xW,bW,$oe=class extends Q5{};$oe.template=(bW=(xW=SR.content)==null?void 0:xW.children)==null?void 0:bW[0];Em.customElements.get("media-theme-gerwig")||Em.customElements.define("media-theme-gerwig",$oe);var sYe="gerwig",xp={SRC:"src",POSTER:"poster"},an={STYLE:"style",DEFAULT_HIDDEN_CAPTIONS:"default-hidden-captions",PRIMARY_COLOR:"primary-color",SECONDARY_COLOR:"secondary-color",ACCENT_COLOR:"accent-color",FORWARD_SEEK_OFFSET:"forward-seek-offset",BACKWARD_SEEK_OFFSET:"backward-seek-offset",PLAYBACK_TOKEN:"playback-token",THUMBNAIL_TOKEN:"thumbnail-token",STORYBOARD_TOKEN:"storyboard-token",FULLSCREEN_ELEMENT:"fullscreen-element",DRM_TOKEN:"drm-token",STORYBOARD_SRC:"storyboard-src",THUMBNAIL_TIME:"thumbnail-time",AUDIO:"audio",NOHOTKEYS:"nohotkeys",HOTKEYS:"hotkeys",PLAYBACK_RATES:"playbackrates",DEFAULT_SHOW_REMAINING_TIME:"default-show-remaining-time",DEFAULT_DURATION:"default-duration",TITLE:"title",VIDEO_TITLE:"video-title",PLACEHOLDER:"placeholder",THEME:"theme",DEFAULT_STREAM_TYPE:"default-stream-type",TARGET_LIVE_WINDOW:"target-live-window",EXTRA_SOURCE_PARAMS:"extra-source-params",NO_VOLUME_PREF:"no-volume-pref",NO_MUTED_PREF:"no-muted-pref",CAST_RECEIVER:"cast-receiver",NO_TOOLTIPS:"no-tooltips",PROUDLY_DISPLAY_MUX_BADGE:"proudly-display-mux-badge",DISABLE_PSEUDO_ENDED:"disable-pseudo-ended"},TR=["audio","backwardseekoffset","defaultduration","defaultshowremainingtime","defaultsubtitles","noautoseektolive","disabled","exportparts","forwardseekoffset","hideduration","hotkeys","nohotkeys","playbackrates","defaultstreamtype","streamtype","style","targetlivewindow","template","title","videotitle","novolumepref","nomutedpref","proudlydisplaymuxbadge"];function aYe(t,e){var r,n,i;return{src:!t.playbackId&&t.src,playbackId:t.playbackId,hasSrc:!!t.playbackId||!!t.src||!!t.currentSrc,poster:t.poster,storyboard:((r=t.media)==null?void 0:r.currentSrc)&&t.storyboard,storyboardSrc:t.getAttribute(an.STORYBOARD_SRC),fullscreenElement:t.getAttribute(an.FULLSCREEN_ELEMENT),placeholder:t.getAttribute("placeholder"),themeTemplate:lYe(t),thumbnailTime:!t.tokens.thumbnail&&t.thumbnailTime,autoplay:t.autoplay,crossOrigin:t.crossOrigin,loop:t.loop,noHotKeys:t.hasAttribute(an.NOHOTKEYS),hotKeys:t.getAttribute(an.HOTKEYS),muted:t.muted,paused:t.paused,preload:t.preload,envKey:t.envKey,preferCmcd:t.preferCmcd,debug:t.debug,disableTracking:t.disableTracking,disableCookies:t.disableCookies,tokens:t.tokens,beaconCollectionDomain:t.beaconCollectionDomain,maxResolution:t.maxResolution,minResolution:t.minResolution,maxAutoResolution:t.maxAutoResolution,programStartTime:t.programStartTime,programEndTime:t.programEndTime,assetStartTime:t.assetStartTime,assetEndTime:t.assetEndTime,renditionOrder:t.renditionOrder,metadata:t.metadata,playerInitTime:t.playerInitTime,playerSoftwareName:t.playerSoftwareName,playerSoftwareVersion:t.playerSoftwareVersion,startTime:t.startTime,preferPlayback:t.preferPlayback,audio:t.audio,defaultStreamType:t.defaultStreamType,targetLiveWindow:t.getAttribute(ur.TARGET_LIVE_WINDOW),streamType:DU(t.getAttribute(ur.STREAM_TYPE)),primaryColor:t.getAttribute(an.PRIMARY_COLOR),secondaryColor:t.getAttribute(an.SECONDARY_COLOR),accentColor:t.getAttribute(an.ACCENT_COLOR),forwardSeekOffset:t.forwardSeekOffset,backwardSeekOffset:t.backwardSeekOffset,defaultHiddenCaptions:t.defaultHiddenCaptions,defaultDuration:t.defaultDuration,defaultShowRemainingTime:t.defaultShowRemainingTime,hideDuration:cYe(t),playbackRates:t.getAttribute(an.PLAYBACK_RATES),customDomain:(n=t.getAttribute(ur.CUSTOM_DOMAIN))!=null?n:void 0,title:t.getAttribute(an.TITLE),videoTitle:(i=t.getAttribute(an.VIDEO_TITLE))!=null?i:t.getAttribute(an.TITLE),novolumepref:t.hasAttribute(an.NO_VOLUME_PREF),nomutedpref:t.hasAttribute(an.NO_MUTED_PREF),proudlyDisplayMuxBadge:t.hasAttribute(an.PROUDLY_DISPLAY_MUX_BADGE),castReceiver:t.castReceiver,disablePseudoEnded:t.hasAttribute(an.DISABLE_PSEUDO_ENDED),capRenditionToPlayerSize:t.capRenditionToPlayerSize,...e,extraSourceParams:t.extraSourceParams}}var oYe=Bae.formatErrorMessage;Bae.formatErrorMessage=t=>{var e,r;if(t instanceof ii){let n=rYe(t,!1);return`
      ${n!=null&&n.title?`<h3>${n.title}</h3>`:""}
      ${n!=null&&n.message||n!=null&&n.linkUrl?`<p>
        ${n?.message}
        ${n!=null&&n.linkUrl?`<a
              href="${n.linkUrl}"
              target="_blank"
              rel="external noopener"
              aria-label="${(e=n.linkText)!=null?e:""} ${Ki("(opens in a new window)")}"
              >${(r=n.linkText)!=null?r:n.linkUrl}</a
            >`:""}
      </p>`:""}
    `}return oYe(t)};function lYe(t){var e,r;let n=t.theme;if(n){let i=(r=(e=t.getRootNode())==null?void 0:e.getElementById)==null?void 0:r.call(e,n);if(i&&i instanceof HTMLTemplateElement)return i;n.startsWith("media-theme-")||(n=`media-theme-${n}`);let s=Em.customElements.get(n);if(s!=null&&s.template)return s.template}}function cYe(t){var e;let r=(e=t.mediaController)==null?void 0:e.querySelector("media-time-display");return r&&getComputedStyle(r).getPropertyValue("--media-duration-display-display").trim()==="none"}function wW(t){let e=t.videoTitle?{video_title:t.videoTitle}:{};return t.getAttributeNames().filter(r=>r.startsWith("metadata-")).reduce((r,n)=>{let i=t.getAttribute(n);return i!==null&&(r[n.replace(/^metadata-/,"").replace(/-/g,"_")]=i),r},e)}var uYe=Object.values(ur),dYe=Object.values(xp),hYe=Object.values(an),EW=Poe(),_W="mux-player",SW={isDialogOpen:!1},fYe={redundant_streams:!0},ZT,JT,eC,vv,tC,pb,kc,Zg,Hoe,CR,yv,TW,CW,jW,NW,AYe=class extends pW{constructor(){super(),wA(this,kc),wA(this,ZT),wA(this,JT,!1),wA(this,eC,{}),wA(this,vv,!0),wA(this,tC,new IWe(this,"hotkeys")),wA(this,pb,{...SW,onCloseErrorDialog:t=>{var e;((e=t.composedPath()[0])==null?void 0:e.localName)==="media-error-dialog"&&Au(this,kc,CR).call(this,{isDialogOpen:!1})},onFocusInErrorDialog:t=>{var e;((e=t.composedPath()[0])==null?void 0:e.localName)==="media-error-dialog"&&(Boe(this,uN.activeElement)||t.preventDefault())}}),Pm(this,ZT,_F()),this.attachShadow({mode:"open"}),Au(this,kc,Hoe).call(this),this.isConnected&&Au(this,kc,Zg).call(this)}static get NAME(){return _W}static get VERSION(){return EW}static get observedAttributes(){var t;return[...(t=pW.observedAttributes)!=null?t:[],...dYe,...uYe,...hYe]}get mediaTheme(){var t;return(t=this.shadowRoot)==null?void 0:t.querySelector("media-theme")}get mediaController(){var t,e;return(e=(t=this.mediaTheme)==null?void 0:t.shadowRoot)==null?void 0:e.querySelector("media-controller")}connectedCallback(){let t=this.media;t&&(t.metadata=wW(this))}attributeChangedCallback(t,e,r){switch(Au(this,kc,Zg).call(this),super.attributeChangedCallback(t,e,r),t){case an.HOTKEYS:Mo(this,tC).value=r;break;case an.THUMBNAIL_TIME:{r!=null&&this.tokens.thumbnail&&Tp(Ki("Use of thumbnail-time with thumbnail-token is currently unsupported. Ignore thumbnail-time.").toString());break}case an.THUMBNAIL_TOKEN:{if(r){let n=lb(r);if(n){let{aud:i}=n,s=Ww.THUMBNAIL;i!==s&&Tp(Ki("The {tokenNamePrefix}-token has an incorrect aud value: {aud}. aud value should be {expectedAud}.").format({aud:i,expectedAud:s,tokenNamePrefix:"thumbnail"}))}}break}case an.STORYBOARD_TOKEN:{if(r){let n=lb(r);if(n){let{aud:i}=n,s=Ww.STORYBOARD;i!==s&&Tp(Ki("The {tokenNamePrefix}-token has an incorrect aud value: {aud}. aud value should be {expectedAud}.").format({aud:i,expectedAud:s,tokenNamePrefix:"storyboard"}))}}break}case an.DRM_TOKEN:{if(r){let n=lb(r);if(n){let{aud:i}=n,s=Ww.DRM;i!==s&&Tp(Ki("The {tokenNamePrefix}-token has an incorrect aud value: {aud}. aud value should be {expectedAud}.").format({aud:i,expectedAud:s,tokenNamePrefix:"drm"}))}}break}case ur.PLAYBACK_ID:{r!=null&&r.includes("?token")&&sf(Ki("The specificed playback ID {playbackId} contains a token which must be provided via the playback-token attribute.").format({playbackId:r}));break}case ur.STREAM_TYPE:{r&&![ko.LIVE,ko.ON_DEMAND,ko.UNKNOWN].includes(r)?["ll-live","live:dvr","ll-live:dvr"].includes(this.streamType)?this.targetLiveWindow=r.includes("dvr")?Number.POSITIVE_INFINITY:0:Doe({file:"invalid-stream-type.md",message:Ki("Invalid stream-type value supplied: `{streamType}`. Please provide stream-type as either: `on-demand` or `live`").format({streamType:this.streamType})}):r===ko.LIVE?this.getAttribute(an.TARGET_LIVE_WINDOW)==null&&(this.targetLiveWindow=0):this.targetLiveWindow=Number.NaN;break}case an.FULLSCREEN_ELEMENT:{if(r!=null||r!==e){let n=uN.getElementById(r),i=n?.querySelector("mux-player");this.mediaController&&n&&i&&(this.mediaController.fullscreenElement=n)}break}case ur.CAP_RENDITION_TO_PLAYER_SIZE:{(r==null||r!==e)&&(this.capRenditionToPlayerSize=r!=null?!0:void 0);break}}[ur.PLAYBACK_ID,xp.SRC,an.PLAYBACK_TOKEN].includes(t)&&e!==r&&Pm(this,pb,{...Mo(this,pb),...SW}),Au(this,kc,yv).call(this,{[kWe(t)]:r})}async requestFullscreen(t){var e;if(!(!this.mediaController||this.mediaController.hasAttribute(ht.MEDIA_IS_FULLSCREEN)))return(e=this.mediaController)==null||e.dispatchEvent(new Em.CustomEvent(zn.MEDIA_ENTER_FULLSCREEN_REQUEST,{composed:!0,bubbles:!0})),new Promise((r,n)=>{var i;(i=this.mediaController)==null||i.addEventListener(qp.MEDIA_IS_FULLSCREEN,()=>r(),{once:!0})})}async exitFullscreen(){var t;if(!(!this.mediaController||!this.mediaController.hasAttribute(ht.MEDIA_IS_FULLSCREEN)))return(t=this.mediaController)==null||t.dispatchEvent(new Em.CustomEvent(zn.MEDIA_EXIT_FULLSCREEN_REQUEST,{composed:!0,bubbles:!0})),new Promise((e,r)=>{var n;(n=this.mediaController)==null||n.addEventListener(qp.MEDIA_IS_FULLSCREEN,()=>e(),{once:!0})})}get preferCmcd(){var t;return(t=this.getAttribute(ur.PREFER_CMCD))!=null?t:void 0}set preferCmcd(t){t!==this.preferCmcd&&(t?Mj.includes(t)?this.setAttribute(ur.PREFER_CMCD,t):Tp(`Invalid value for preferCmcd. Must be one of ${Mj.join()}`):this.removeAttribute(ur.PREFER_CMCD))}get hasPlayed(){var t,e;return(e=(t=this.mediaController)==null?void 0:t.hasAttribute(ht.MEDIA_HAS_PLAYED))!=null?e:!1}get inLiveWindow(){var t;return(t=this.mediaController)==null?void 0:t.hasAttribute(ht.MEDIA_TIME_IS_LIVE)}get _hls(){var t;return(t=this.media)==null?void 0:t._hls}get mux(){var t;return(t=this.media)==null?void 0:t.mux}get theme(){var t;return(t=this.getAttribute(an.THEME))!=null?t:sYe}set theme(t){this.setAttribute(an.THEME,`${t}`)}get themeProps(){let t=this.mediaTheme;if(!t)return;let e={};for(let r of t.getAttributeNames()){if(TR.includes(r))continue;let n=t.getAttribute(r);e[Ioe(r)]=n===""?!0:n}return e}set themeProps(t){var e,r;Au(this,kc,Zg).call(this);let n={...this.themeProps,...t};for(let i in n){if(TR.includes(i))continue;let s=t?.[i];typeof s=="boolean"||s==null?(e=this.mediaTheme)==null||e.toggleAttribute(_R(i),!!s):(r=this.mediaTheme)==null||r.setAttribute(_R(i),s)}}get playbackId(){var t;return(t=this.getAttribute(ur.PLAYBACK_ID))!=null?t:void 0}set playbackId(t){t?this.setAttribute(ur.PLAYBACK_ID,t):this.removeAttribute(ur.PLAYBACK_ID)}get src(){var t,e;return this.playbackId?(t=iv(this,xp.SRC))!=null?t:void 0:(e=this.getAttribute(xp.SRC))!=null?e:void 0}set src(t){t?this.setAttribute(xp.SRC,t):this.removeAttribute(xp.SRC)}get poster(){var t;let e=this.getAttribute(xp.POSTER);if(e!=null)return e;let{tokens:r}=this;if(r.playback&&!r.thumbnail){Tp("Missing expected thumbnail token. No poster image will be shown");return}if(this.playbackId&&!this.audio)return CWe(this.playbackId,{customDomain:this.customDomain,thumbnailTime:(t=this.thumbnailTime)!=null?t:this.startTime,programTime:this.programStartTime,token:r.thumbnail})}set poster(t){t||t===""?this.setAttribute(xp.POSTER,t):this.removeAttribute(xp.POSTER)}get storyboardSrc(){var t;return(t=this.getAttribute(an.STORYBOARD_SRC))!=null?t:void 0}set storyboardSrc(t){t?this.setAttribute(an.STORYBOARD_SRC,t):this.removeAttribute(an.STORYBOARD_SRC)}get storyboard(){let{tokens:t}=this;if(this.storyboardSrc&&!t.storyboard)return this.storyboardSrc;if(!(this.audio||!this.playbackId||!this.streamType||[ko.LIVE,ko.UNKNOWN].includes(this.streamType)||t.playback&&!t.storyboard))return jWe(this.playbackId,{customDomain:this.customDomain,token:t.storyboard,programStartTime:this.programStartTime,programEndTime:this.programEndTime})}get audio(){return this.hasAttribute(an.AUDIO)}set audio(t){if(!t){this.removeAttribute(an.AUDIO);return}this.setAttribute(an.AUDIO,"")}get hotkeys(){return Mo(this,tC)}get nohotkeys(){return this.hasAttribute(an.NOHOTKEYS)}set nohotkeys(t){if(!t){this.removeAttribute(an.NOHOTKEYS);return}this.setAttribute(an.NOHOTKEYS,"")}get thumbnailTime(){return tf(this.getAttribute(an.THUMBNAIL_TIME))}set thumbnailTime(t){this.setAttribute(an.THUMBNAIL_TIME,`${t}`)}get videoTitle(){var t,e;return(e=(t=this.getAttribute(an.VIDEO_TITLE))!=null?t:this.getAttribute(an.TITLE))!=null?e:""}set videoTitle(t){t!==this.videoTitle&&(t?this.setAttribute(an.VIDEO_TITLE,t):this.removeAttribute(an.VIDEO_TITLE))}get placeholder(){var t;return(t=iv(this,an.PLACEHOLDER))!=null?t:""}set placeholder(t){this.setAttribute(an.PLACEHOLDER,`${t}`)}get primaryColor(){var t,e;let r=this.getAttribute(an.PRIMARY_COLOR);if(r!=null||this.mediaTheme&&(r=(e=(t=Em.getComputedStyle(this.mediaTheme))==null?void 0:t.getPropertyValue("--_primary-color"))==null?void 0:e.trim(),r))return r}set primaryColor(t){this.setAttribute(an.PRIMARY_COLOR,`${t}`)}get secondaryColor(){var t,e;let r=this.getAttribute(an.SECONDARY_COLOR);if(r!=null||this.mediaTheme&&(r=(e=(t=Em.getComputedStyle(this.mediaTheme))==null?void 0:t.getPropertyValue("--_secondary-color"))==null?void 0:e.trim(),r))return r}set secondaryColor(t){this.setAttribute(an.SECONDARY_COLOR,`${t}`)}get accentColor(){var t,e;let r=this.getAttribute(an.ACCENT_COLOR);if(r!=null||this.mediaTheme&&(r=(e=(t=Em.getComputedStyle(this.mediaTheme))==null?void 0:t.getPropertyValue("--_accent-color"))==null?void 0:e.trim(),r))return r}set accentColor(t){this.setAttribute(an.ACCENT_COLOR,`${t}`)}get defaultShowRemainingTime(){return this.hasAttribute(an.DEFAULT_SHOW_REMAINING_TIME)}set defaultShowRemainingTime(t){t?this.setAttribute(an.DEFAULT_SHOW_REMAINING_TIME,""):this.removeAttribute(an.DEFAULT_SHOW_REMAINING_TIME)}get playbackRates(){if(this.hasAttribute(an.PLAYBACK_RATES))return this.getAttribute(an.PLAYBACK_RATES).trim().split(/\s*,?\s+/).map(t=>Number(t)).filter(t=>!Number.isNaN(t)).sort((t,e)=>t-e)}set playbackRates(t){if(!t){this.removeAttribute(an.PLAYBACK_RATES);return}this.setAttribute(an.PLAYBACK_RATES,t.join(" "))}get forwardSeekOffset(){var t;return(t=tf(this.getAttribute(an.FORWARD_SEEK_OFFSET)))!=null?t:10}set forwardSeekOffset(t){this.setAttribute(an.FORWARD_SEEK_OFFSET,`${t}`)}get backwardSeekOffset(){var t;return(t=tf(this.getAttribute(an.BACKWARD_SEEK_OFFSET)))!=null?t:10}set backwardSeekOffset(t){this.setAttribute(an.BACKWARD_SEEK_OFFSET,`${t}`)}get defaultHiddenCaptions(){return this.hasAttribute(an.DEFAULT_HIDDEN_CAPTIONS)}set defaultHiddenCaptions(t){t?this.setAttribute(an.DEFAULT_HIDDEN_CAPTIONS,""):this.removeAttribute(an.DEFAULT_HIDDEN_CAPTIONS)}get defaultDuration(){return tf(this.getAttribute(an.DEFAULT_DURATION))}set defaultDuration(t){t==null?this.removeAttribute(an.DEFAULT_DURATION):this.setAttribute(an.DEFAULT_DURATION,`${t}`)}get playerInitTime(){return this.hasAttribute(ur.PLAYER_INIT_TIME)?tf(this.getAttribute(ur.PLAYER_INIT_TIME)):Mo(this,ZT)}set playerInitTime(t){t!=this.playerInitTime&&(t==null?this.removeAttribute(ur.PLAYER_INIT_TIME):this.setAttribute(ur.PLAYER_INIT_TIME,`${+t}`))}get playerSoftwareName(){var t;return(t=this.getAttribute(ur.PLAYER_SOFTWARE_NAME))!=null?t:_W}get playerSoftwareVersion(){var t;return(t=this.getAttribute(ur.PLAYER_SOFTWARE_VERSION))!=null?t:EW}get beaconCollectionDomain(){var t;return(t=this.getAttribute(ur.BEACON_COLLECTION_DOMAIN))!=null?t:void 0}set beaconCollectionDomain(t){t!==this.beaconCollectionDomain&&(t?this.setAttribute(ur.BEACON_COLLECTION_DOMAIN,t):this.removeAttribute(ur.BEACON_COLLECTION_DOMAIN))}get maxResolution(){var t;return(t=this.getAttribute(ur.MAX_RESOLUTION))!=null?t:void 0}set maxResolution(t){t!==this.maxResolution&&(t?this.setAttribute(ur.MAX_RESOLUTION,t):this.removeAttribute(ur.MAX_RESOLUTION))}get minResolution(){var t;return(t=this.getAttribute(ur.MIN_RESOLUTION))!=null?t:void 0}set minResolution(t){t!==this.minResolution&&(t?this.setAttribute(ur.MIN_RESOLUTION,t):this.removeAttribute(ur.MIN_RESOLUTION))}get maxAutoResolution(){var t;return(t=this.getAttribute(ur.MAX_AUTO_RESOLUTION))!=null?t:void 0}set maxAutoResolution(t){t==null?this.removeAttribute(ur.MAX_AUTO_RESOLUTION):this.setAttribute(ur.MAX_AUTO_RESOLUTION,t)}get renditionOrder(){var t;return(t=this.getAttribute(ur.RENDITION_ORDER))!=null?t:void 0}set renditionOrder(t){t!==this.renditionOrder&&(t?this.setAttribute(ur.RENDITION_ORDER,t):this.removeAttribute(ur.RENDITION_ORDER))}get programStartTime(){return tf(this.getAttribute(ur.PROGRAM_START_TIME))}set programStartTime(t){t==null?this.removeAttribute(ur.PROGRAM_START_TIME):this.setAttribute(ur.PROGRAM_START_TIME,`${t}`)}get programEndTime(){return tf(this.getAttribute(ur.PROGRAM_END_TIME))}set programEndTime(t){t==null?this.removeAttribute(ur.PROGRAM_END_TIME):this.setAttribute(ur.PROGRAM_END_TIME,`${t}`)}get assetStartTime(){return tf(this.getAttribute(ur.ASSET_START_TIME))}set assetStartTime(t){t==null?this.removeAttribute(ur.ASSET_START_TIME):this.setAttribute(ur.ASSET_START_TIME,`${t}`)}get assetEndTime(){return tf(this.getAttribute(ur.ASSET_END_TIME))}set assetEndTime(t){t==null?this.removeAttribute(ur.ASSET_END_TIME):this.setAttribute(ur.ASSET_END_TIME,`${t}`)}get extraSourceParams(){return this.hasAttribute(an.EXTRA_SOURCE_PARAMS)?[...new URLSearchParams(this.getAttribute(an.EXTRA_SOURCE_PARAMS)).entries()].reduce((t,[e,r])=>(t[e]=r,t),{}):fYe}set extraSourceParams(t){t==null?this.removeAttribute(an.EXTRA_SOURCE_PARAMS):this.setAttribute(an.EXTRA_SOURCE_PARAMS,new URLSearchParams(t).toString())}get customDomain(){var t;return(t=this.getAttribute(ur.CUSTOM_DOMAIN))!=null?t:void 0}set customDomain(t){t!==this.customDomain&&(t?this.setAttribute(ur.CUSTOM_DOMAIN,t):this.removeAttribute(ur.CUSTOM_DOMAIN))}get envKey(){var t;return(t=iv(this,ur.ENV_KEY))!=null?t:void 0}set envKey(t){this.setAttribute(ur.ENV_KEY,`${t}`)}get noVolumePref(){return this.hasAttribute(an.NO_VOLUME_PREF)}set noVolumePref(t){t?this.setAttribute(an.NO_VOLUME_PREF,""):this.removeAttribute(an.NO_VOLUME_PREF)}get noMutedPref(){return this.hasAttribute(an.NO_MUTED_PREF)}set noMutedPref(t){t?this.setAttribute(an.NO_MUTED_PREF,""):this.removeAttribute(an.NO_MUTED_PREF)}get debug(){return iv(this,ur.DEBUG)!=null}set debug(t){t?this.setAttribute(ur.DEBUG,""):this.removeAttribute(ur.DEBUG)}get disableTracking(){return iv(this,ur.DISABLE_TRACKING)!=null}set disableTracking(t){this.toggleAttribute(ur.DISABLE_TRACKING,!!t)}get disableCookies(){return iv(this,ur.DISABLE_COOKIES)!=null}set disableCookies(t){t?this.setAttribute(ur.DISABLE_COOKIES,""):this.removeAttribute(ur.DISABLE_COOKIES)}get streamType(){var t,e,r;return(r=(e=this.getAttribute(ur.STREAM_TYPE))!=null?e:(t=this.media)==null?void 0:t.streamType)!=null?r:ko.UNKNOWN}set streamType(t){this.setAttribute(ur.STREAM_TYPE,`${t}`)}get defaultStreamType(){var t,e,r;return(r=(e=this.getAttribute(an.DEFAULT_STREAM_TYPE))!=null?e:(t=this.mediaController)==null?void 0:t.getAttribute(an.DEFAULT_STREAM_TYPE))!=null?r:ko.ON_DEMAND}set defaultStreamType(t){t?this.setAttribute(an.DEFAULT_STREAM_TYPE,t):this.removeAttribute(an.DEFAULT_STREAM_TYPE)}get targetLiveWindow(){var t,e;return this.hasAttribute(an.TARGET_LIVE_WINDOW)?+this.getAttribute(an.TARGET_LIVE_WINDOW):(e=(t=this.media)==null?void 0:t.targetLiveWindow)!=null?e:Number.NaN}set targetLiveWindow(t){t==this.targetLiveWindow||Number.isNaN(t)&&Number.isNaN(this.targetLiveWindow)||(t==null?this.removeAttribute(an.TARGET_LIVE_WINDOW):this.setAttribute(an.TARGET_LIVE_WINDOW,`${+t}`))}get liveEdgeStart(){var t;return(t=this.media)==null?void 0:t.liveEdgeStart}get startTime(){return tf(iv(this,ur.START_TIME))}set startTime(t){this.setAttribute(ur.START_TIME,`${t}`)}get preferPlayback(){let t=this.getAttribute(ur.PREFER_PLAYBACK);if(t===jm.MSE||t===jm.NATIVE)return t}set preferPlayback(t){t!==this.preferPlayback&&(t===jm.MSE||t===jm.NATIVE?this.setAttribute(ur.PREFER_PLAYBACK,t):this.removeAttribute(ur.PREFER_PLAYBACK))}get metadata(){var t;return(t=this.media)==null?void 0:t.metadata}set metadata(t){if(Au(this,kc,Zg).call(this),!this.media){sf("underlying media element missing when trying to set metadata. metadata will not be set.");return}this.media.metadata={...wW(this),...t}}get _hlsConfig(){var t;return(t=this.media)==null?void 0:t._hlsConfig}set _hlsConfig(t){if(Au(this,kc,Zg).call(this),!this.media){sf("underlying media element missing when trying to set _hlsConfig. _hlsConfig will not be set.");return}this.media._hlsConfig=t}async addCuePoints(t){var e;if(Au(this,kc,Zg).call(this),!this.media){sf("underlying media element missing when trying to addCuePoints. cuePoints will not be added.");return}return(e=this.media)==null?void 0:e.addCuePoints(t)}get activeCuePoint(){var t;return(t=this.media)==null?void 0:t.activeCuePoint}get cuePoints(){var t,e;return(e=(t=this.media)==null?void 0:t.cuePoints)!=null?e:[]}addChapters(t){var e;if(Au(this,kc,Zg).call(this),!this.media){sf("underlying media element missing when trying to addChapters. chapters will not be added.");return}return(e=this.media)==null?void 0:e.addChapters(t)}get activeChapter(){var t;return(t=this.media)==null?void 0:t.activeChapter}get chapters(){var t,e;return(e=(t=this.media)==null?void 0:t.chapters)!=null?e:[]}getStartDate(){var t;return(t=this.media)==null?void 0:t.getStartDate()}get currentPdt(){var t;return(t=this.media)==null?void 0:t.currentPdt}get tokens(){let t=this.getAttribute(an.PLAYBACK_TOKEN),e=this.getAttribute(an.DRM_TOKEN),r=this.getAttribute(an.THUMBNAIL_TOKEN),n=this.getAttribute(an.STORYBOARD_TOKEN);return{...Mo(this,eC),...t!=null?{playback:t}:{},...e!=null?{drm:e}:{},...r!=null?{thumbnail:r}:{},...n!=null?{storyboard:n}:{}}}set tokens(t){Pm(this,eC,t??{})}get playbackToken(){var t;return(t=this.getAttribute(an.PLAYBACK_TOKEN))!=null?t:void 0}set playbackToken(t){this.setAttribute(an.PLAYBACK_TOKEN,`${t}`)}get drmToken(){var t;return(t=this.getAttribute(an.DRM_TOKEN))!=null?t:void 0}set drmToken(t){this.setAttribute(an.DRM_TOKEN,`${t}`)}get thumbnailToken(){var t;return(t=this.getAttribute(an.THUMBNAIL_TOKEN))!=null?t:void 0}set thumbnailToken(t){this.setAttribute(an.THUMBNAIL_TOKEN,`${t}`)}get storyboardToken(){var t;return(t=this.getAttribute(an.STORYBOARD_TOKEN))!=null?t:void 0}set storyboardToken(t){this.setAttribute(an.STORYBOARD_TOKEN,`${t}`)}addTextTrack(t,e,r,n){var i;let s=(i=this.media)==null?void 0:i.nativeEl;if(s)return xF(s,t,e,r,n)}removeTextTrack(t){var e;let r=(e=this.media)==null?void 0:e.nativeEl;if(r)return QHe(r,t)}get textTracks(){var t;return(t=this.media)==null?void 0:t.textTracks}get castReceiver(){var t;return(t=this.getAttribute(an.CAST_RECEIVER))!=null?t:void 0}set castReceiver(t){t!==this.castReceiver&&(t?this.setAttribute(an.CAST_RECEIVER,t):this.removeAttribute(an.CAST_RECEIVER))}get castCustomData(){var t;return(t=this.media)==null?void 0:t.castCustomData}set castCustomData(t){if(!this.media){sf("underlying media element missing when trying to set castCustomData. castCustomData will not be set.");return}this.media.castCustomData=t}get noTooltips(){return this.hasAttribute(an.NO_TOOLTIPS)}set noTooltips(t){if(!t){this.removeAttribute(an.NO_TOOLTIPS);return}this.setAttribute(an.NO_TOOLTIPS,"")}get proudlyDisplayMuxBadge(){return this.hasAttribute(an.PROUDLY_DISPLAY_MUX_BADGE)}set proudlyDisplayMuxBadge(t){t?this.setAttribute(an.PROUDLY_DISPLAY_MUX_BADGE,""):this.removeAttribute(an.PROUDLY_DISPLAY_MUX_BADGE)}get capRenditionToPlayerSize(){var t;return(t=this.media)==null?void 0:t.capRenditionToPlayerSize}set capRenditionToPlayerSize(t){if(!this.media){sf("underlying media element missing when trying to set capRenditionToPlayerSize");return}this.media.capRenditionToPlayerSize=t}};ZT=new WeakMap,JT=new WeakMap,eC=new WeakMap,vv=new WeakMap,tC=new WeakMap,pb=new WeakMap,kc=new WeakSet,Zg=function(){var t,e,r,n;if(!Mo(this,JT)){Pm(this,JT,!0),Au(this,kc,yv).call(this);try{if(customElements.upgrade(this.mediaTheme),!(this.mediaTheme instanceof Em.HTMLElement))throw""}catch{sf("<media-theme> failed to upgrade!")}try{customElements.upgrade(this.media)}catch{sf("underlying media element failed to upgrade!")}try{if(customElements.upgrade(this.mediaController),!(this.mediaController instanceof Bze))throw""}catch{sf("<media-controller> failed to upgrade!")}Au(this,kc,TW).call(this),Au(this,kc,CW).call(this),Au(this,kc,jW).call(this),Pm(this,vv,(e=(t=this.mediaController)==null?void 0:t.hasAttribute(es.USER_INACTIVE))!=null?e:!0),Au(this,kc,NW).call(this),(r=this.media)==null||r.addEventListener("streamtypechange",()=>Au(this,kc,yv).call(this)),(n=this.media)==null||n.addEventListener("loadstart",()=>Au(this,kc,yv).call(this))}},Hoe=function(){var t,e;try{(t=window?.CSS)==null||t.registerProperty({name:"--media-primary-color",syntax:"<color>",inherits:!0}),(e=window?.CSS)==null||e.registerProperty({name:"--media-secondary-color",syntax:"<color>",inherits:!0})}catch{}},CR=function(t){Object.assign(Mo(this,pb),t),Au(this,kc,yv).call(this)},yv=function(t={}){GWe(YWe(aYe(this,{...Mo(this,pb),...t})),this.shadowRoot)},TW=function(){let t=e=>{var r,n;if(!(e!=null&&e.startsWith("theme-")))return;let i=e.replace(/^theme-/,"");if(TR.includes(i))return;let s=this.getAttribute(e);s!=null?(r=this.mediaTheme)==null||r.setAttribute(i,s):(n=this.mediaTheme)==null||n.removeAttribute(i)};new MutationObserver(e=>{for(let{attributeName:r}of e)t(r)}).observe(this,{attributes:!0}),this.getAttributeNames().forEach(t)},CW=function(){let t=e=>{var r;let n=(r=this.media)==null?void 0:r.error;if(!(n instanceof ii)){let{message:s,code:a}=n??{};n=new ii(s,a)}if(!(n!=null&&n.fatal)){Tp(n),n.data&&Tp(`${n.name} data:`,n.data);return}let i=yW(n);i.message&&Doe(i),sf(n),n.data&&sf(`${n.name} data:`,n.data),Au(this,kc,CR).call(this,{isDialogOpen:!0})};this.addEventListener("error",t),this.media&&(this.media.errorTranslator=(e={})=>{var r,n,i;if(!(((r=this.media)==null?void 0:r.error)instanceof ii))return e;let s=yW((n=this.media)==null?void 0:n.error);return{player_error_code:(i=this.media)==null?void 0:i.error.code,player_error_message:s.message?String(s.message):e.player_error_message,player_error_context:s.context?String(s.context):e.player_error_context}})},jW=function(){var t,e,r,n;let i=()=>Au(this,kc,yv).call(this);(e=(t=this.media)==null?void 0:t.textTracks)==null||e.addEventListener("addtrack",i),(n=(r=this.media)==null?void 0:r.textTracks)==null||n.addEventListener("removetrack",i)},NW=function(){var t,e;if(!/Firefox/i.test(navigator.userAgent))return;let r,n=new WeakMap,i=()=>this.streamType===ko.LIVE&&!this.secondaryColor&&this.offsetWidth>=800,s=(u,l,d=!1)=>{i()||Array.from(u&&u.activeCues||[]).forEach(f=>{if(!(!f.snapToLines||f.line<-5||f.line>=0&&f.line<10))if(!l||this.paused){let A=f.text.split(`
`).length,p=-3;this.streamType===ko.LIVE&&(p=-2);let v=p-A;if(f.line===v&&!d)return;n.has(f)||n.set(f,f.line),f.line=v}else setTimeout(()=>{f.line=n.get(f)||"auto"},500)})},a=()=>{var u,l;s(r,(l=(u=this.mediaController)==null?void 0:u.hasAttribute(es.USER_INACTIVE))!=null?l:!1)},c=()=>{var u,l;let d=Array.from(((l=(u=this.mediaController)==null?void 0:u.media)==null?void 0:l.textTracks)||[]).filter(f=>["subtitles","captions"].includes(f.kind)&&f.mode==="showing")[0];d!==r&&r?.removeEventListener("cuechange",a),r=d,r?.addEventListener("cuechange",a),s(r,Mo(this,vv))};c(),(t=this.textTracks)==null||t.addEventListener("change",c),(e=this.textTracks)==null||e.addEventListener("addtrack",c),this.addEventListener("userinactivechange",()=>{var u,l;let d=(l=(u=this.mediaController)==null?void 0:u.hasAttribute(es.USER_INACTIVE))!=null?l:!0;Mo(this,vv)!==d&&(Pm(this,vv,d),s(r,Mo(this,vv)))})};function iv(t,e){return t.media?t.media.getAttribute(e):t.getAttribute(e)}var kW=AYe,Qoe=class{addEventListener(){}removeEventListener(){}dispatchEvent(t){return!0}};if(typeof DocumentFragment>"u"){class t extends Qoe{}globalThis.DocumentFragment=t}var mYe=class extends Qoe{},pYe={get(t){},define(t,e,r){},getName(t){return null},upgrade(t){},whenDefined(t){return Promise.resolve(mYe)}},gYe={customElements:pYe},vYe=typeof window>"u"||typeof globalThis.customElements>"u",$B=vYe?gYe:globalThis;$B.customElements.get("mux-player")||($B.customElements.define("mux-player",kW),$B.MuxPlayerElement=kW);var Voe=parseInt(_o.version)>=19,IW={className:"class",classname:"class",htmlFor:"for",crossOrigin:"crossorigin",viewBox:"viewBox",playsInline:"playsinline",autoPlay:"autoplay",playbackRate:"playbackrate"},yYe=t=>t==null,xYe=(t,e)=>yYe(e)?!1:t in e,bYe=t=>t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`),wYe=(t,e)=>{if(!(!Voe&&typeof e=="boolean"&&!e)){if(xYe(t,IW))return IW[t];if(typeof e<"u")return/[A-Z]/.test(t)?bYe(t):t}},EYe=(t,e)=>!Voe&&typeof t=="boolean"?"":t,_Ye=(t={})=>{let{ref:e,...r}=t;return Object.entries(r).reduce((n,[i,s])=>{let a=wYe(i,s);if(!a)return n;let c=EYe(s);return n[a]=c,n},{})};function LW(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function SYe(...t){return e=>{let r=!1,n=t.map(i=>{let s=LW(i,e);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){let s=n[i];typeof s=="function"?s():LW(t[i],null)}}}}function TYe(...t){return k.useCallback(SYe(...t),t)}var CYe=Object.prototype.hasOwnProperty,jYe=(t,e)=>{if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(Array.isArray(t))return!Array.isArray(e)||t.length!==e.length?!1:t.some((i,s)=>e[s]===i);let r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(!CYe.call(e,r[i])||!Object.is(t[r[i]],e[r[i]]))return!1;return!0},zoe=(t,e,r)=>!jYe(e,t[r]),NYe=(t,e,r)=>{t[r]=e},kYe=(t,e,r,n=NYe,i=zoe)=>k.useEffect(()=>{let s=r?.current;s&&i(s,e,t)&&n(s,e,t)},[r?.current,e]),am=kYe,IYe=()=>{try{return"3.11.4"}catch{}return"UNKNOWN"},LYe=IYe(),BYe=()=>LYe,Rl=(t,e,r)=>k.useEffect(()=>{let n=e?.current;if(!n||!r)return;let i=t,s=r;return n.addEventListener(i,s),()=>{n.removeEventListener(i,s)}},[e?.current,r,t]),OYe=_o.forwardRef(({children:t,...e},r)=>_o.createElement("mux-player",{suppressHydrationWarning:!0,..._Ye(e),ref:r},t)),PYe=(t,e)=>{let{onAbort:r,onCanPlay:n,onCanPlayThrough:i,onEmptied:s,onLoadStart:a,onLoadedData:c,onLoadedMetadata:u,onProgress:l,onDurationChange:d,onVolumeChange:f,onRateChange:A,onResize:p,onWaiting:v,onPlay:y,onPlaying:x,onTimeUpdate:w,onPause:E,onSeeking:T,onSeeked:C,onStalled:j,onSuspend:P,onEnded:U,onError:W,onCuePointChange:q,onChapterChange:re,metadata:ie,tokens:Ae,paused:be,playbackId:Ee,playbackRates:ge,currentTime:se,themeProps:xe,extraSourceParams:ce,castCustomData:Me,_hlsConfig:Oe,...we}=e;return am("tokens",Ae,t),am("playbackId",Ee,t),am("playbackRates",ge,t),am("metadata",ie,t),am("extraSourceParams",ce,t),am("_hlsConfig",Oe,t),am("themeProps",xe,t),am("castCustomData",Me,t),am("paused",be,t,(ue,ye)=>{ye!=null&&(ye?ue.pause():ue.play())},(ue,ye,Le)=>ue.hasAttribute("autoplay")&&!ue.hasPlayed?!1:zoe(ue,ye,Le)),am("currentTime",se,t,(ue,ye)=>{ye!=null&&(ue.currentTime=ye)}),Rl("abort",t,r),Rl("canplay",t,n),Rl("canplaythrough",t,i),Rl("emptied",t,s),Rl("loadstart",t,a),Rl("loadeddata",t,c),Rl("loadedmetadata",t,u),Rl("progress",t,l),Rl("durationchange",t,d),Rl("volumechange",t,f),Rl("ratechange",t,A),Rl("resize",t,p),Rl("waiting",t,v),Rl("play",t,y),Rl("playing",t,x),Rl("timeupdate",t,w),Rl("pause",t,E),Rl("seeking",t,T),Rl("seeked",t,C),Rl("stalled",t,j),Rl("suspend",t,P),Rl("ended",t,U),Rl("error",t,W),Rl("cuepointchange",t,q),Rl("chapterchange",t,re),[we]},RYe=BYe(),DYe="mux-player-react",MYe=_o.forwardRef((t,e)=>{var r;let n=k.useRef(null),i=TYe(n,e),[s]=PYe(n,t),[a]=k.useState((r=t.playerInitTime)!=null?r:_F());return _o.createElement(OYe,{ref:i,defaultHiddenCaptions:t.defaultHiddenCaptions,playerSoftwareName:DYe,playerSoftwareVersion:RYe,playerInitTime:a,...s})}),FYe=MYe;function UYe({eventId:t,className:e=""}){const[r,n]=k.useState(null),[i,s]=k.useState(!0);k.useEffect(()=>{if(!t)return;a();const u=setInterval(a,3e4);return()=>clearInterval(u)},[t]);const a=async()=>{try{const u=new Date(Date.now()-12e4).toISOString(),{count:l,error:d}=await Jr.from("livestream_sessions").select("*",{count:"exact",head:!0}).eq("event_id",t).gte("last_heartbeat",u);d||n(l||0)}catch(u){console.error("Failed to fetch viewer count:",u)}finally{s(!1)}};if(i||r===null)return null;const c=u=>u>=1e3?`${(u/1e3).toFixed(1)}k`:u.toString();return o.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1.5 bg-dark-800/80 backdrop-blur-sm rounded-full ${e}`,children:[o.jsxs("div",{className:"relative",children:[o.jsx(aC,{className:"w-4 h-4 text-red-500"}),r>0&&o.jsx("span",{className:"absolute -top-0.5 -right-0.5 w-2 h-2 bg-red-500 rounded-full animate-pulse"})]}),o.jsx("span",{className:"text-sm font-medium text-white",children:c(r)}),o.jsx("span",{className:"text-sm text-gray-400",children:r===1?"viewer":"viewers"})]})}function $Ye(){const{eventId:t}=Qm(),[e]=fN(),[r,n]=k.useState(null),[i,s]=k.useState(e.get("email")||""),[a,c]=k.useState(null),[u,l]=k.useState(!1),[d,f]=k.useState(!0),[A,p]=k.useState(!1),[v,y]=k.useState(null),[x,w]=k.useState(!1),[E,T]=k.useState(null),[C,j]=k.useState(null),P=k.useRef(null);k.useEffect(()=>(W(),()=>{P.current&&clearInterval(P.current)}),[t]),k.useEffect(()=>{r&&r.geo_blocking_enabled&&U()},[r]);const U=async()=>{try{const Ee=await(await fetch("https://gonalgubgldgpkcekaxe.supabase.co/functions/v1/geo-check",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({venue_lat:r.geo_lat,venue_lng:r.geo_lng,radius_km:r.geo_radius_km||50})})).json();T(Ee.blocked),j(Ee)}catch(be){console.error("Geo check failed:",be),T(!1)}};k.useEffect(()=>{const be=e.get("email");be&&r&&!u&&q(be)},[r,e]),k.useEffect(()=>(a&&u&&(P.current=setInterval(async()=>{try{await gRe(a)||(w(!0),l(!1),clearInterval(P.current))}catch(be){console.error("Heartbeat failed:",be)}},3e4)),()=>{P.current&&clearInterval(P.current)}),[a,u]);const W=async()=>{try{const be=await xre(t);n(be)}catch{y("Event not found")}finally{f(!1)}},q=async(be=i)=>{if(!be){y("Please enter your email");return}p(!0),y(null),w(!1);try{const Ee=e.get("session_id");if(!(await(await fetch("https://gonalgubgldgpkcekaxe.supabase.co/functions/v1/verify-payment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_id:Ee,event_id:t,email:be})})).json()).verified&&!await ARe(t,be)){y("No purchase found for this email. Please check your email or purchase access."),l(!1);return}const xe=await pRe({event_id:t,order_id:order.id,email:be.toLowerCase()});c(xe.token),l(!0),s(be),localStorage.setItem(`livestream_session_${t}`,xe.token),localStorage.setItem(`livestream_email_${t}`,be)}catch(Ee){console.error("Verify error:",Ee),y("Failed to verify access. Please try again."),l(!1)}finally{p(!1)}};if(d)return o.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-500"})});if(v&&!r)return o.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center",children:o.jsx("p",{className:"text-red-500",children:v})});if(E)return o.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center p-4",children:o.jsxs("div",{className:"max-w-md w-full bg-dark-900 rounded-xl p-8 text-center",children:[o.jsx(Vf,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),o.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Location Restricted"}),o.jsxs("p",{className:"text-gray-400 mb-4",children:["Online streaming is not available within ",r.geo_radius_km||50,"km of the venue."]}),C?.user_location&&o.jsxs("p",{className:"text-gray-500 text-sm mb-4",children:["Your location: ",C.user_location.city,", ",C.user_location.country,o.jsx("br",{}),"Distance from venue: ",C.distance_km,"km"]}),o.jsx("p",{className:"text-gray-400 mb-6",children:"This event is available to watch in person at:"}),o.jsx("p",{className:"text-white font-semibold mb-6",children:r.venue}),r.ticket_url&&o.jsx("a",{href:r.ticket_url,target:"_blank",rel:"noopener noreferrer",className:"inline-block px-6 py-3 bg-red-500 hover:bg-red-600 text-white font-bold rounded-lg transition-colors",children:"Get Tickets"})]})});if(x)return o.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center p-4",children:o.jsxs("div",{className:"max-w-md w-full bg-dark-900 rounded-xl p-8 text-center",children:[o.jsx(qv,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),o.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Session Ended"}),o.jsx("p",{className:"text-gray-400 mb-6",children:"This stream is now playing on another device. Only one active viewing session is allowed per purchase."}),o.jsxs("button",{onClick:()=>q(i),className:"px-6 py-3 bg-red-500 hover:bg-red-600 text-white font-bold rounded-lg transition-colors flex items-center justify-center gap-2 mx-auto",children:[o.jsx(mN,{className:"w-5 h-5"}),"Watch Here Instead"]})]})});if(!u)return o.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center p-4",children:o.jsxs("div",{className:"max-w-md w-full bg-dark-900 rounded-xl p-8",children:[o.jsx("h2",{className:"text-2xl font-bold text-white mb-2 text-center",children:r.title}),o.jsx("p",{className:"text-gray-400 text-center mb-6",children:r.organization}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Enter Your Email"}),o.jsx("input",{type:"email",value:i,onChange:be=>s(be.target.value),placeholder:"your@email.com",className:"w-full px-4 py-3 bg-dark-800 border border-dark-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-red-500"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Use the email address from your purchase"})]}),v&&o.jsx("p",{className:"text-red-500 text-sm",children:v}),o.jsx("button",{onClick:()=>q(),disabled:A||!i,className:"w-full py-3 bg-red-500 hover:bg-red-600 disabled:bg-dark-700 disabled:cursor-not-allowed text-white font-bold rounded-lg transition-colors",children:A?"Verifying...":"Watch Stream"}),o.jsxs("div",{className:"text-center pt-4 border-t border-dark-800",children:[o.jsx("p",{className:"text-gray-500 text-sm mb-2",children:"Don't have access?"}),o.jsxs(Ks,{to:`/live/${t}`,className:"text-red-500 hover:text-red-400 font-medium",children:["Purchase Access  $",r.price," AUD"]})]})]})]})});const re=new Date(r.start_time),ie=r.is_live||r.status==="live";return!ie&&new Date<re?o.jsx("div",{className:"min-h-screen bg-dark-950",children:o.jsx("div",{className:"w-full bg-gradient-to-b from-dark-900 to-dark-950",children:o.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-16 text-center",children:[r.thumbnail_url&&o.jsxs("div",{className:"relative max-w-2xl mx-auto mb-8 rounded-xl overflow-hidden shadow-2xl",children:[o.jsx("img",{src:r.thumbnail_url,alt:r.title,className:"w-full aspect-video object-cover opacity-80"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-dark-950 via-transparent to-transparent"})]}),o.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-yellow-500/20 text-yellow-500 rounded-full text-sm font-medium mb-6",children:[o.jsx(w0,{className:"w-4 h-4"}),"Waiting Room"]}),o.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-3",children:r.title}),o.jsx("p",{className:"text-xl text-gray-400 mb-8",children:r.organization}),o.jsx("div",{className:"bg-dark-800/50 rounded-2xl p-8 max-w-xl mx-auto mb-8 border border-dark-700",children:o.jsx(sne,{targetDate:r.start_time,onComplete:()=>window.location.reload()})}),o.jsxs("div",{className:"flex flex-wrap justify-center gap-6 text-gray-400 mb-8",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(fd,{className:"w-5 h-5 text-red-500"}),re.toLocaleDateString("en-AU",{weekday:"long",day:"numeric",month:"long"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(w0,{className:"w-5 h-5 text-red-500"}),re.toLocaleTimeString("en-AU",{hour:"2-digit",minute:"2-digit"})," AEST"]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Vf,{className:"w-5 h-5 text-red-500"}),r.venue]})]}),o.jsxs("div",{className:"bg-dark-800 rounded-xl p-6 max-w-md mx-auto border border-dark-700",children:[o.jsx(Mue,{className:"w-8 h-8 text-red-500 mx-auto mb-3"}),o.jsx("p",{className:"text-white font-medium mb-2",children:"Don't miss the start!"}),o.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Keep this tab open  it will automatically refresh when the event goes live."}),o.jsxs("p",{className:"text-gray-500 text-xs",children:["Logged in as: ",i]})]})]})})}):o.jsxs("div",{className:"min-h-screen bg-dark-950",children:[o.jsx("div",{className:"w-full bg-black",children:o.jsx("div",{className:"max-w-6xl mx-auto",children:o.jsx(FYe,{playbackId:r.mux_playback_id||"demo-playback-id",metadata:{video_title:r.title,viewer_user_id:i},streamType:ie?"live":"on-demand",autoPlay:!0,className:"w-full aspect-video"})})}),o.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[o.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4 mb-6",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-white",children:r.title}),ie&&o.jsxs("span",{className:"px-3 py-1 bg-red-500 text-white text-sm font-bold rounded-full flex items-center gap-1",children:[o.jsx("span",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),"LIVE"]})]}),o.jsx("p",{className:"text-gray-400",children:r.organization})]}),ie&&o.jsx(UYe,{eventId:t})]}),o.jsxs("div",{className:"flex flex-wrap gap-6 text-sm text-gray-400",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(fd,{className:"w-4 h-4"}),re.toLocaleDateString("en-AU",{weekday:"long",day:"numeric",month:"long",year:"numeric"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Vf,{className:"w-4 h-4"}),r.venue]})]}),r.description&&o.jsxs("div",{className:"mt-8 pt-8 border-t border-dark-800",children:[o.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"About This Event"}),o.jsx("p",{className:"text-gray-400",children:r.description})]})]})]})}function HYe(){const{pathname:t}=vf();return k.useEffect(()=>{window.scrollTo(0,0)},[t]),null}function Bf({children:t}){return o.jsxs("div",{className:"min-h-screen bg-dark-950 flex flex-col",children:[o.jsx(xge,{}),o.jsx("main",{className:"flex-1",children:t}),o.jsx(bge,{})]})}function QYe(){return o.jsxs(NRe,{children:[o.jsx(HYe,{}),o.jsxs(zce,{children:[o.jsx(Aa,{path:"/",element:o.jsx(Bf,{children:o.jsx(_ge,{})})}),o.jsx(Aa,{path:"/services",element:o.jsx(Bf,{children:o.jsx(Tge,{})})}),o.jsx(Aa,{path:"/work",element:o.jsx(Bf,{children:o.jsx(jge,{})})}),o.jsx(Aa,{path:"/proposal",element:o.jsx(Bf,{children:o.jsx(vRe,{})})}),o.jsx(Aa,{path:"/contact",element:o.jsx(Bf,{children:o.jsx(yRe,{})})}),o.jsx(Aa,{path:"/book",element:o.jsx(Bf,{children:o.jsx(xRe,{})})}),o.jsx(Aa,{path:"/calculator",element:o.jsx(Bf,{children:o.jsx(bRe,{})})}),o.jsx(Aa,{path:"/order",element:o.jsx(Bf,{children:o.jsx(SRe,{})})}),o.jsx(Aa,{path:"/content",element:o.jsx(Bf,{children:o.jsx(TRe,{})})}),o.jsx(Aa,{path:"/order/:orgSlug",element:o.jsx(Bf,{children:o.jsx(jRe,{})})}),o.jsx(Aa,{path:"/live",element:o.jsx(Bf,{children:o.jsx(qMe,{})})}),o.jsx(Aa,{path:"/live/:eventId",element:o.jsx(Bf,{children:o.jsx(eFe,{})})}),o.jsx(Aa,{path:"/watch/:eventId",element:o.jsx($Ye,{})}),o.jsx(Aa,{path:"/contract/:shareToken",element:o.jsx(PRe,{})}),o.jsx(Aa,{path:"/onboarding/:token",element:o.jsx(hDe,{})}),o.jsx(Aa,{path:"/portal",element:o.jsx(Yd,{children:o.jsx(kRe,{})})}),o.jsx(Aa,{path:"/portal/contracts",element:o.jsx(Id,{children:o.jsx(Yd,{children:o.jsx(BRe,{})})})}),o.jsx(Aa,{path:"/portal/contracts/new",element:o.jsx(Id,{children:o.jsx(Yd,{children:o.jsx(hz,{})})})}),o.jsx(Aa,{path:"/portal/contracts/:id",element:o.jsx(Id,{children:o.jsx(Yd,{children:o.jsx(ORe,{})})})}),o.jsx(Aa,{path:"/portal/contracts/:id/edit",element:o.jsx(Id,{children:o.jsx(Yd,{children:o.jsx(hz,{editMode:!0})})})}),o.jsx(Aa,{path:"/portal/onboarding",element:o.jsx(Id,{children:o.jsx(Yd,{children:o.jsx(iDe,{})})})}),o.jsx(Aa,{path:"/portal/onboarding/new",element:o.jsx(Id,{children:o.jsx(Yd,{children:o.jsx(sDe,{})})})}),o.jsx(Aa,{path:"/portal/onboarding/:id",element:o.jsx(Id,{children:o.jsx(Yd,{children:o.jsx(cDe,{})})})}),o.jsx(Aa,{path:"/portal/pipeline",element:o.jsx(Id,{children:o.jsx(Yd,{children:o.jsx(VRe,{})})})}),o.jsx(Aa,{path:"/portal/pipeline/board",element:o.jsx(Id,{children:o.jsx(WRe,{})})}),o.jsx(Aa,{path:"/portal/pipeline/leads/:id",element:o.jsx(Id,{children:o.jsx(YRe,{})})}),o.jsx(Aa,{path:"/portal/outreach",element:o.jsx(Id,{children:o.jsx(Yd,{children:o.jsx(qRe,{})})})}),o.jsx(Aa,{path:"/portal/content",element:o.jsx(Id,{children:o.jsx(Yd,{children:o.jsx(RDe,{})})})}),o.jsx(Aa,{path:"/portal/content-admin",element:o.jsx(Id,{children:o.jsx(Yd,{children:o.jsx(DDe,{})})})}),o.jsx(Aa,{path:"/portal/orders",element:o.jsx(Id,{children:o.jsx(Yd,{children:o.jsx(MDe,{})})})}),o.jsx(Aa,{path:"/portal/pricing",element:o.jsx(Id,{children:o.jsx(Yd,{children:o.jsx($De,{})})})}),o.jsx(Aa,{path:"/portal/crews",element:o.jsx(Id,{children:o.jsx(Yd,{children:o.jsx(_Me,{})})})}),o.jsx(Aa,{path:"/portal/livestream",element:o.jsx(Id,{children:o.jsx(Yd,{children:o.jsx(WMe,{})})})}),o.jsx(Aa,{path:"/athlete",element:o.jsx(vDe,{})}),o.jsx(Aa,{path:"/athlete/register",element:o.jsx(kDe,{})}),o.jsx(Aa,{path:"/athlete/packages",element:o.jsx(BDe,{})}),o.jsx(Aa,{path:"/athlete/dashboard",element:o.jsx(ODe,{})}),o.jsx(Aa,{path:"/athlete/events/:eventId",element:o.jsx(PDe,{})})]})]})}Gle.createRoot(document.getElementById("root")).render(o.jsx(_o.StrictMode,{children:o.jsx(pue,{children:o.jsx(QYe,{})})}));
